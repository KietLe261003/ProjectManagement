var DD=Object.defineProperty,AD=Object.defineProperties;var OD=Object.getOwnPropertyDescriptors;var Of=Object.getOwnPropertySymbols;var Cj=Object.prototype.hasOwnProperty,Ej=Object.prototype.propertyIsEnumerable;var Pl=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),RD=e=>{throw TypeError(e)};var kg=(e,t,s)=>t in e?DD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,L=(e,t)=>{for(var s in t||(t={}))Cj.call(t,s)&&kg(e,s,t[s]);if(Of)for(var s of Of(t))Ej.call(t,s)&&kg(e,s,t[s]);return e},oe=(e,t)=>AD(e,OD(t));var Oe=(e,t)=>{var s={};for(var n in e)Cj.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&Of)for(var n of Of(e))t.indexOf(n)<0&&Ej.call(e,n)&&(s[n]=e[n]);return s};var MD=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Et=(e,t,s)=>kg(e,typeof t!="symbol"?t+"":t,s);var we=(e,t,s)=>new Promise((n,i)=>{var o=h=>{try{u(s.next(h))}catch(f){i(f)}},c=h=>{try{u(s.throw(h))}catch(f){i(f)}},u=h=>h.done?n(h.value):Promise.resolve(h.value).then(o,c);u((s=s.apply(e,t)).next())}),jo=function(e,t){this[0]=e,this[1]=t},Dg=(e,t,s)=>{var n=(c,u,h,f)=>{try{var p=s[c](u),g=(u=p.value)instanceof jo,x=p.done;Promise.resolve(g?u[0]:u).then(b=>g?n(c==="return"?c:"next",u[1]?{done:b.done,value:b.value}:b,h,f):h({value:b,done:x})).catch(b=>n("throw",b,h,f))}catch(b){f(b)}},i=c=>o[c]=u=>new Promise((h,f)=>n(c,u,h,f)),o={};return s=s.apply(e,t),o[Pl("asyncIterator")]=()=>o,i("next"),i("throw"),i("return"),o},Ag=e=>{var t=e[Pl("asyncIterator")],s=!1,n,i={};return t==null?(t=e[Pl("iterator")](),n=o=>i[o]=c=>t[o](c)):(t=t.call(e),n=o=>i[o]=c=>{if(s){if(s=!1,o==="throw")throw c;return c}return s=!0,{done:!1,value:new jo(new Promise(u=>{var h=t[o](c);h instanceof Object||RD("Object expected"),u(h)}),1)}}),i[Pl("iterator")]=()=>i,n("next"),"throw"in t?n("throw"):i.throw=o=>{throw o},"return"in t&&n("return"),i},kj=(e,t,s)=>(t=e[Pl("asyncIterator")])?t.call(e):(e=e[Pl("iterator")](),t={},s=(n,i)=>(i=e[n])&&(t[n]=o=>new Promise((c,u,h)=>(o=i.call(e,o),h=o.done,Promise.resolve(o.value).then(f=>c({value:f,done:h}),u)))),s("next"),s("return"),t);var r$=MD(Tt=>{function PD(e,t){for(var s=0;s<t.length;s++){const n=t[s];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();function Mx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Og={exports:{}},gu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dj;function LD(){if(Dj)return gu;Dj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(n,i,o){var c=null;if(o!==void 0&&(c=""+o),i.key!==void 0&&(c=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:e,type:n,key:c,ref:i!==void 0?i:null,props:o}}return gu.Fragment=t,gu.jsx=s,gu.jsxs=s,gu}var Aj;function BD(){return Aj||(Aj=1,Og.exports=LD()),Og.exports}var r=BD(),Rg={exports:{}},Pt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oj;function FD(){if(Oj)return Pt;Oj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function x(M){return M===null||typeof M!="object"?null:(M=g&&M[g]||M["@@iterator"],typeof M=="function"?M:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,v={};function T(M,ie,ne){this.props=M,this.context=ie,this.refs=v,this.updater=ne||b}T.prototype.isReactComponent={},T.prototype.setState=function(M,ie){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,ie,"setState")},T.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function _(){}_.prototype=T.prototype;function R(M,ie,ne){this.props=M,this.context=ie,this.refs=v,this.updater=ne||b}var S=R.prototype=new _;S.constructor=R,j(S,T.prototype),S.isPureReactComponent=!0;var C=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function B(M,ie,ne,V,J,xe){return ne=xe.ref,{$$typeof:e,type:M,key:ie,ref:ne!==void 0?ne:null,props:xe}}function F(M,ie){return B(M.type,ie,void 0,void 0,void 0,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function X(M){var ie={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ne){return ie[ne]})}var I=/\/+/g;function Q(M,ie){return typeof M=="object"&&M!==null&&M.key!=null?X(""+M.key):ie.toString(36)}function W(){}function Y(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(W,W):(M.status="pending",M.then(function(ie){M.status==="pending"&&(M.status="fulfilled",M.value=ie)},function(ie){M.status==="pending"&&(M.status="rejected",M.reason=ie)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function H(M,ie,ne,V,J){var xe=typeof M;(xe==="undefined"||xe==="boolean")&&(M=null);var fe=!1;if(M===null)fe=!0;else switch(xe){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(M.$$typeof){case e:case t:fe=!0;break;case p:return fe=M._init,H(fe(M._payload),ie,ne,V,J)}}if(fe)return J=J(M),fe=V===""?"."+Q(M,0):V,C(J)?(ne="",fe!=null&&(ne=fe.replace(I,"$&/")+"/"),H(J,ie,ne,"",function(Ie){return Ie})):J!=null&&(O(J)&&(J=F(J,ne+(J.key==null||M&&M.key===J.key?"":(""+J.key).replace(I,"$&/")+"/")+fe)),ie.push(J)),1;fe=0;var Ee=V===""?".":V+":";if(C(M))for(var De=0;De<M.length;De++)V=M[De],xe=Ee+Q(V,De),fe+=H(V,ie,ne,xe,J);else if(De=x(M),typeof De=="function")for(M=De.call(M),De=0;!(V=M.next()).done;)V=V.value,xe=Ee+Q(V,De++),fe+=H(V,ie,ne,xe,J);else if(xe==="object"){if(typeof M.then=="function")return H(Y(M),ie,ne,V,J);throw ie=String(M),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return fe}function z(M,ie,ne){if(M==null)return M;var V=[],J=0;return H(M,V,"","",function(xe){return ie.call(ne,xe,J++)}),V}function Z(M){if(M._status===-1){var ie=M._result;ie=ie(),ie.then(function(ne){(M._status===0||M._status===-1)&&(M._status=1,M._result=ne)},function(ne){(M._status===0||M._status===-1)&&(M._status=2,M._result=ne)}),M._status===-1&&(M._status=0,M._result=ie)}if(M._status===1)return M._result.default;throw M._result}var te=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function ue(){}return Pt.Children={map:z,forEach:function(M,ie,ne){z(M,function(){ie.apply(this,arguments)},ne)},count:function(M){var ie=0;return z(M,function(){ie++}),ie},toArray:function(M){return z(M,function(ie){return ie})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Pt.Component=T,Pt.Fragment=s,Pt.Profiler=i,Pt.PureComponent=R,Pt.StrictMode=n,Pt.Suspense=h,Pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Pt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return D.H.useMemoCache(M)}},Pt.cache=function(M){return function(){return M.apply(null,arguments)}},Pt.cloneElement=function(M,ie,ne){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var V=j({},M.props),J=M.key,xe=void 0;if(ie!=null)for(fe in ie.ref!==void 0&&(xe=void 0),ie.key!==void 0&&(J=""+ie.key),ie)!k.call(ie,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&ie.ref===void 0||(V[fe]=ie[fe]);var fe=arguments.length-2;if(fe===1)V.children=ne;else if(1<fe){for(var Ee=Array(fe),De=0;De<fe;De++)Ee[De]=arguments[De+2];V.children=Ee}return B(M.type,J,void 0,void 0,xe,V)},Pt.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:o,_context:M},M},Pt.createElement=function(M,ie,ne){var V,J={},xe=null;if(ie!=null)for(V in ie.key!==void 0&&(xe=""+ie.key),ie)k.call(ie,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(J[V]=ie[V]);var fe=arguments.length-2;if(fe===1)J.children=ne;else if(1<fe){for(var Ee=Array(fe),De=0;De<fe;De++)Ee[De]=arguments[De+2];J.children=Ee}if(M&&M.defaultProps)for(V in fe=M.defaultProps,fe)J[V]===void 0&&(J[V]=fe[V]);return B(M,xe,void 0,void 0,null,J)},Pt.createRef=function(){return{current:null}},Pt.forwardRef=function(M){return{$$typeof:u,render:M}},Pt.isValidElement=O,Pt.lazy=function(M){return{$$typeof:p,_payload:{_status:-1,_result:M},_init:Z}},Pt.memo=function(M,ie){return{$$typeof:f,type:M,compare:ie===void 0?null:ie}},Pt.startTransition=function(M){var ie=D.T,ne={};D.T=ne;try{var V=M(),J=D.S;J!==null&&J(ne,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(ue,te)}catch(xe){te(xe)}finally{D.T=ie}},Pt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Pt.use=function(M){return D.H.use(M)},Pt.useActionState=function(M,ie,ne){return D.H.useActionState(M,ie,ne)},Pt.useCallback=function(M,ie){return D.H.useCallback(M,ie)},Pt.useContext=function(M){return D.H.useContext(M)},Pt.useDebugValue=function(){},Pt.useDeferredValue=function(M,ie){return D.H.useDeferredValue(M,ie)},Pt.useEffect=function(M,ie,ne){var V=D.H;if(typeof ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return V.useEffect(M,ie)},Pt.useId=function(){return D.H.useId()},Pt.useImperativeHandle=function(M,ie,ne){return D.H.useImperativeHandle(M,ie,ne)},Pt.useInsertionEffect=function(M,ie){return D.H.useInsertionEffect(M,ie)},Pt.useLayoutEffect=function(M,ie){return D.H.useLayoutEffect(M,ie)},Pt.useMemo=function(M,ie){return D.H.useMemo(M,ie)},Pt.useOptimistic=function(M,ie){return D.H.useOptimistic(M,ie)},Pt.useReducer=function(M,ie,ne){return D.H.useReducer(M,ie,ne)},Pt.useRef=function(M){return D.H.useRef(M)},Pt.useState=function(M){return D.H.useState(M)},Pt.useSyncExternalStore=function(M,ie,ne){return D.H.useSyncExternalStore(M,ie,ne)},Pt.useTransition=function(){return D.H.useTransition()},Pt.version="19.1.1",Pt}var Rj;function Px(){return Rj||(Rj=1,Rg.exports=FD()),Rg.exports}var N=Px();const ae=Mx(N),J_=PD({__proto__:null,default:ae},[N]);var Mg={exports:{}},xu={},Pg={exports:{}},Lg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mj;function UD(){return Mj||(Mj=1,function(e){function t(z,Z){var te=z.length;z.push(Z);e:for(;0<te;){var ue=te-1>>>1,M=z[ue];if(0<i(M,Z))z[ue]=Z,z[te]=M,te=ue;else break e}}function s(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var Z=z[0],te=z.pop();if(te!==Z){z[0]=te;e:for(var ue=0,M=z.length,ie=M>>>1;ue<ie;){var ne=2*(ue+1)-1,V=z[ne],J=ne+1,xe=z[J];if(0>i(V,te))J<M&&0>i(xe,V)?(z[ue]=xe,z[J]=te,ue=J):(z[ue]=V,z[ne]=te,ue=ne);else if(J<M&&0>i(xe,te))z[ue]=xe,z[J]=te,ue=J;else break e}}return Z}function i(z,Z){var te=z.sortIndex-Z.sortIndex;return te!==0?te:z.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var h=[],f=[],p=1,g=null,x=3,b=!1,j=!1,v=!1,T=!1,_=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate!="undefined"?setImmediate:null;function C(z){for(var Z=s(f);Z!==null;){if(Z.callback===null)n(f);else if(Z.startTime<=z)n(f),Z.sortIndex=Z.expirationTime,t(h,Z);else break;Z=s(f)}}function D(z){if(v=!1,C(z),!j)if(s(h)!==null)j=!0,k||(k=!0,Q());else{var Z=s(f);Z!==null&&H(D,Z.startTime-z)}}var k=!1,B=-1,F=5,O=-1;function X(){return T?!0:!(e.unstable_now()-O<F)}function I(){if(T=!1,k){var z=e.unstable_now();O=z;var Z=!0;try{e:{j=!1,v&&(v=!1,R(B),B=-1),b=!0;var te=x;try{t:{for(C(z),g=s(h);g!==null&&!(g.expirationTime>z&&X());){var ue=g.callback;if(typeof ue=="function"){g.callback=null,x=g.priorityLevel;var M=ue(g.expirationTime<=z);if(z=e.unstable_now(),typeof M=="function"){g.callback=M,C(z),Z=!0;break t}g===s(h)&&n(h),C(z)}else n(h);g=s(h)}if(g!==null)Z=!0;else{var ie=s(f);ie!==null&&H(D,ie.startTime-z),Z=!1}}break e}finally{g=null,x=te,b=!1}Z=void 0}}finally{Z?Q():k=!1}}}var Q;if(typeof S=="function")Q=function(){S(I)};else if(typeof MessageChannel!="undefined"){var W=new MessageChannel,Y=W.port2;W.port1.onmessage=I,Q=function(){Y.postMessage(null)}}else Q=function(){_(I,0)};function H(z,Z){B=_(function(){z(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(z){switch(x){case 1:case 2:case 3:var Z=3;break;default:Z=x}var te=x;x=Z;try{return z()}finally{x=te}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(z,Z){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var te=x;x=z;try{return Z()}finally{x=te}},e.unstable_scheduleCallback=function(z,Z,te){var ue=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ue+te:ue):te=ue,z){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=te+M,z={id:p++,callback:Z,priorityLevel:z,startTime:te,expirationTime:M,sortIndex:-1},te>ue?(z.sortIndex=te,t(f,z),s(h)===null&&z===s(f)&&(v?(R(B),B=-1):v=!0,H(D,te-ue))):(z.sortIndex=M,t(h,z),j||b||(j=!0,k||(k=!0,Q()))),z},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(z){var Z=x;return function(){var te=x;x=Z;try{return z.apply(this,arguments)}finally{x=te}}}}(Lg)),Lg}var Pj;function zD(){return Pj||(Pj=1,Pg.exports=UD()),Pg.exports}var Bg={exports:{}},Sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lj;function HD(){if(Lj)return Sn;Lj=1;var e=Px();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var n={d:{f:s,r:function(){throw Error(t(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(h,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:h,containerInfo:f,implementation:p}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Sn.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(h,f,null,p)},Sn.flushSync=function(h){var f=c.T,p=n.p;try{if(c.T=null,n.p=2,h)return h()}finally{c.T=f,n.p=p,n.d.f()}},Sn.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(h,f))},Sn.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},Sn.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin),x=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?n.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:b}):p==="script"&&n.d.X(h,{crossOrigin:g,integrity:x,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Sn.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);n.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(h)},Sn.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin);n.d.L(h,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Sn.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=u(f.as,f.crossOrigin);n.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(h)},Sn.requestFormReset=function(h){n.d.r(h)},Sn.unstable_batchedUpdates=function(h,f){return h(f)},Sn.useFormState=function(h,f,p){return c.H.useFormState(h,f,p)},Sn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Sn.version="19.1.1",Sn}var Bj;function e2(){if(Bj)return Bg.exports;Bj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Bg.exports=HD(),Bg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fj;function $D(){if(Fj)return xu;Fj=1;var e=zD(),t=Px(),s=e2();function n(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function c(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function u(a){if(o(a)!==a)throw Error(n(188))}function h(a){var l=a.alternate;if(!l){if(l=o(a),l===null)throw Error(n(188));return l!==a?null:a}for(var d=a,m=l;;){var y=d.return;if(y===null)break;var w=y.alternate;if(w===null){if(m=y.return,m!==null){d=m;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===d)return u(y),a;if(w===m)return u(y),l;w=w.sibling}throw Error(n(188))}if(d.return!==m.return)d=y,m=w;else{for(var A=!1,U=y.child;U;){if(U===d){A=!0,d=y,m=w;break}if(U===m){A=!0,m=y,d=w;break}U=U.sibling}if(!A){for(U=w.child;U;){if(U===d){A=!0,d=w,m=y;break}if(U===m){A=!0,m=w,d=y;break}U=U.sibling}if(!A)throw Error(n(189))}}if(d.alternate!==m)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?a:l}function f(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=f(a),l!==null)return l;a=a.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),S=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function Q(a){return a===null||typeof a!="object"?null:(a=I&&a[I]||a["@@iterator"],typeof a=="function"?a:null)}var W=Symbol.for("react.client.reference");function Y(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===W?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case j:return"Fragment";case T:return"Profiler";case v:return"StrictMode";case D:return"Suspense";case k:return"SuspenseList";case O:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case S:return(a.displayName||"Context")+".Provider";case R:return(a._context.displayName||"Context")+".Consumer";case C:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case B:return l=a.displayName||null,l!==null?l:Y(a.type)||"Memo";case F:l=a._payload,a=a._init;try{return Y(a(l))}catch(d){}}return null}var H=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},ue=[],M=-1;function ie(a){return{current:a}}function ne(a){0>M||(a.current=ue[M],ue[M]=null,M--)}function V(a,l){M++,ue[M]=a.current,a.current=l}var J=ie(null),xe=ie(null),fe=ie(null),Ee=ie(null);function De(a,l){switch(V(fe,l),V(xe,a),V(J,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?tj(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=tj(l),a=sj(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ne(J),V(J,a)}function Ie(){ne(J),ne(xe),ne(fe)}function re(a){a.memoizedState!==null&&V(Ee,a);var l=J.current,d=sj(l,a.type);l!==d&&(V(xe,a),V(J,d))}function Re(a){xe.current===a&&(ne(J),ne(xe)),Ee.current===a&&(ne(Ee),du._currentValue=te)}var He=Object.prototype.hasOwnProperty,Xe=e.unstable_scheduleCallback,Le=e.unstable_cancelCallback,dt=e.unstable_shouldYield,Ge=e.unstable_requestPaint,Be=e.unstable_now,ze=e.unstable_getCurrentPriorityLevel,nt=e.unstable_ImmediatePriority,K=e.unstable_UserBlockingPriority,me=e.unstable_NormalPriority,G=e.unstable_LowPriority,Te=e.unstable_IdlePriority,Ue=e.log,Pe=e.unstable_setDisableYieldValue,We=null,Ze=null;function at(a){if(typeof Ue=="function"&&Pe(a),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(We,a)}catch(l){}}var jt=Math.clz32?Math.clz32:Ke,Se=Math.log,Fe=Math.LN2;function Ke(a){return a>>>=0,a===0?32:31-(Se(a)/Fe|0)|0}var zt=256,Gt=4194304;function Xt(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function is(a,l,d){var m=a.pendingLanes;if(m===0)return 0;var y=0,w=a.suspendedLanes,A=a.pingedLanes;a=a.warmLanes;var U=m&134217727;return U!==0?(m=U&~w,m!==0?y=Xt(m):(A&=U,A!==0?y=Xt(A):d||(d=U&~a,d!==0&&(y=Xt(d))))):(U=m&~w,U!==0?y=Xt(U):A!==0?y=Xt(A):d||(d=m&~a,d!==0&&(y=Xt(d)))),y===0?0:l!==0&&l!==y&&(l&w)===0&&(w=y&-y,d=l&-l,w>=d||w===32&&(d&4194048)!==0)?l:y}function Is(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function rn(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tt(){var a=zt;return zt<<=1,(zt&4194048)===0&&(zt=256),a}function Bt(){var a=Gt;return Gt<<=1,(Gt&62914560)===0&&(Gt=4194304),a}function Vt(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function kt(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function as(a,l,d,m,y,w){var A=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var U=a.entanglements,ee=a.expirationTimes,be=a.hiddenUpdates;for(d=A&~d;0<d;){var Ce=31-jt(d),Ae=1<<Ce;U[Ce]=0,ee[Ce]=-1;var je=be[Ce];if(je!==null)for(be[Ce]=null,Ce=0;Ce<je.length;Ce++){var Ne=je[Ce];Ne!==null&&(Ne.lane&=-536870913)}d&=~Ae}m!==0&&st(a,m,0),w!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=w&~(A&~l))}function st(a,l,d){a.pendingLanes|=l,a.suspendedLanes&=~l;var m=31-jt(l);a.entangledLanes|=l,a.entanglements[m]=a.entanglements[m]|1073741824|d&4194090}function Ct(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var m=31-jt(d),y=1<<m;y&l|a[m]&l&&(a[m]|=l),d&=~y}}function Kt(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Jt(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function se(){var a=Z.p;return a!==0?a:(a=window.event,a===void 0?32:wj(a.type))}function ce(a,l){var d=Z.p;try{return Z.p=a,l()}finally{Z.p=d}}var ge=Math.random().toString(36).slice(2),_e="__reactFiber$"+ge,Me="__reactProps$"+ge,Ye="__reactContainer$"+ge,rt="__reactEvents$"+ge,ct="__reactListeners$"+ge,xt="__reactHandles$"+ge,Mt="__reactResources$"+ge,ft="__reactMarker$"+ge;function St(a){delete a[_e],delete a[Me],delete a[rt],delete a[ct],delete a[xt]}function Rt(a){var l=a[_e];if(l)return l;for(var d=a.parentNode;d;){if(l=d[Ye]||d[_e]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(a=ij(a);a!==null;){if(d=a[_e])return d;a=ij(a)}return l}a=d,d=a.parentNode}return null}function xs(a){if(a=a[_e]||a[Ye]){var l=a.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return a}return null}function Os(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(n(33))}function ds(a){var l=a[Mt];return l||(l=a[Mt]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function ht(a){a[ft]=!0}var Dt=new Set,es={};function _s(a,l){Rs(a,l),Rs(a+"Capture",l)}function Rs(a,l){for(es[a]=l,a=0;a<l.length;a++)Dt.add(l[a])}var Zs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),on={},ca={};function ua(a){return He.call(ca,a)?!0:He.call(on,a)?!1:Zs.test(a)?ca[a]=!0:(on[a]=!0,!1)}function Nn(a,l,d){if(ua(l))if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+d)}}function da(a,l,d){if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+d)}}function Lt(a,l,d,m){if(m===null)a.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(l,d,""+m)}}var Ms,jr;function hn(a){if(Ms===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);Ms=l&&l[1]||"",jr=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ms+a+jr}var bs=!1;function Ra(a,l){if(!a||bs)return"";bs=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var Ae=function(){throw Error()};if(Object.defineProperty(Ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ae,[])}catch(Ne){var je=Ne}Reflect.construct(a,[],Ae)}else{try{Ae.call()}catch(Ne){je=Ne}a.call(Ae.prototype)}}else{try{throw Error()}catch(Ne){je=Ne}(Ae=a())&&typeof Ae.catch=="function"&&Ae.catch(function(){})}}catch(Ne){if(Ne&&je&&typeof Ne.stack=="string")return[Ne.stack,je.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=m.DetermineComponentFrameRoot(),A=w[0],U=w[1];if(A&&U){var ee=A.split(`
`),be=U.split(`
`);for(y=m=0;m<ee.length&&!ee[m].includes("DetermineComponentFrameRoot");)m++;for(;y<be.length&&!be[y].includes("DetermineComponentFrameRoot");)y++;if(m===ee.length||y===be.length)for(m=ee.length-1,y=be.length-1;1<=m&&0<=y&&ee[m]!==be[y];)y--;for(;1<=m&&0<=y;m--,y--)if(ee[m]!==be[y]){if(m!==1||y!==1)do if(m--,y--,0>y||ee[m]!==be[y]){var Ce=`
`+ee[m].replace(" at new "," at ");return a.displayName&&Ce.includes("<anonymous>")&&(Ce=Ce.replace("<anonymous>",a.displayName)),Ce}while(1<=m&&0<=y);break}}}finally{bs=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?hn(d):""}function Qo(a){switch(a.tag){case 26:case 27:case 5:return hn(a.type);case 16:return hn("Lazy");case 13:return hn("Suspense");case 19:return hn("SuspenseList");case 0:case 15:return Ra(a.type,!1);case 11:return Ra(a.type.render,!1);case 1:return Ra(a.type,!0);case 31:return hn("Activity");default:return""}}function Zo(a){try{var l="";do l+=Qo(a),a=a.return;while(a);return l}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function Ln(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function _d(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Td(a){var l=_d(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),m=""+a[l];if(!a.hasOwnProperty(l)&&typeof d!="undefined"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,w=d.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return y.call(this)},set:function(A){m=""+A,w.call(this,A)}}),Object.defineProperty(a,l,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(A){m=""+A},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Qi(a){a._valueTracker||(a._valueTracker=Td(a))}function Qa(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return a&&(m=_d(a)?a.checked?"true":"false":a.value),a=m,a!==d?(l.setValue(a),!0):!1}function Zi(a){if(a=a||(typeof document!="undefined"?document:void 0),typeof a=="undefined")return null;try{return a.activeElement||a.body}catch(l){return a.body}}var Lm=/[\n"\\]/g;function Bn(a){return a.replace(Lm,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function wc(a,l,d,m,y,w,A,U){a.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?a.type=A:a.removeAttribute("type"),l!=null?A==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+Ln(l)):a.value!==""+Ln(l)&&(a.value=""+Ln(l)):A!=="submit"&&A!=="reset"||a.removeAttribute("value"),l!=null?jc(a,A,Ln(l)):d!=null?jc(a,A,Ln(d)):m!=null&&a.removeAttribute("value"),y==null&&w!=null&&(a.defaultChecked=!!w),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?a.name=""+Ln(U):a.removeAttribute("name")}function Sd(a,l,d,m,y,w,A,U){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(a.type=w),l!=null||d!=null){if(!(w!=="submit"&&w!=="reset"||l!=null))return;d=d!=null?""+Ln(d):"",l=l!=null?""+Ln(l):d,U||l===a.value||(a.value=l),a.defaultValue=l}m=m!=null?m:y,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=U?a.checked:!!m,a.defaultChecked=!!m,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(a.name=A)}function jc(a,l,d){l==="number"&&Zi(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function Nr(a,l,d,m){if(a=a.options,l){l={};for(var y=0;y<d.length;y++)l["$"+d[y]]=!0;for(d=0;d<a.length;d++)y=l.hasOwnProperty("$"+a[d].value),a[d].selected!==y&&(a[d].selected=y),y&&m&&(a[d].defaultSelected=!0)}else{for(d=""+Ln(d),l=null,y=0;y<a.length;y++){if(a[y].value===d){a[y].selected=!0,m&&(a[y].defaultSelected=!0);return}l!==null||a[y].disabled||(l=a[y])}l!==null&&(l.selected=!0)}}function Ji(a,l,d){if(l!=null&&(l=""+Ln(l),l!==a.value&&(a.value=l),d==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=d!=null?""+Ln(d):""}function Nc(a,l,d,m){if(l==null){if(m!=null){if(d!=null)throw Error(n(92));if(H(m)){if(1<m.length)throw Error(n(93));m=m[0]}d=m}d==null&&(d=""),l=d}d=Ln(l),a.defaultValue=d,m=a.textContent,m===d&&m!==""&&m!==null&&(a.value=m)}function Jr(a,l){if(l){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=l;return}}a.textContent=l}var Cd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ed(a,l,d){var m=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":m?a.setProperty(l,d):typeof d!="number"||d===0||Cd.has(l)?l==="float"?a.cssFloat=d:a[l]=(""+d).trim():a[l]=d+"px"}function _c(a,l,d){if(l!=null&&typeof l!="object")throw Error(n(62));if(a=a.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var y in l)m=l[y],l.hasOwnProperty(y)&&d[y]!==m&&Ed(a,y,m)}else for(var w in l)l.hasOwnProperty(w)&&Ed(a,w,l[w])}function eo(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function el(a){return Bm.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var Tc=null;function to(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var _r=null,ei=null;function Sc(a){var l=xs(a);if(l&&(a=l.stateNode)){var d=a[Me]||null;e:switch(a=l.stateNode,l.type){case"input":if(wc(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Bn(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==a&&m.form===a.form){var y=m[Me]||null;if(!y)throw Error(n(90));wc(m,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(l=0;l<d.length;l++)m=d[l],m.form===a.form&&Qa(m)}break e;case"textarea":Ji(a,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&Nr(a,!!d.multiple,l,!1)}}}var so=!1;function Cc(a,l,d){if(so)return a(l,d);so=!0;try{var m=a(l);return m}finally{if(so=!1,(_r!==null||ei!==null)&&(df(),_r&&(l=_r,a=ei,ei=_r=null,Sc(l),a)))for(l=0;l<a.length;l++)Sc(a[l])}}function ti(a,l){var d=a.stateNode;if(d===null)return null;var m=d[Me]||null;if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(n(231,l,typeof d));return d}var Fn=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),tl=!1;if(Fn)try{var no={};Object.defineProperty(no,"passive",{get:function(){tl=!0}}),window.addEventListener("test",no,no),window.removeEventListener("test",no,no)}catch(a){tl=!1}var Kn=null,Un=null,Tr=null;function ao(){if(Tr)return Tr;var a,l=Un,d=l.length,m,y="value"in Kn?Kn.value:Kn.textContent,w=y.length;for(a=0;a<d&&l[a]===y[a];a++);var A=d-a;for(m=1;m<=A&&l[d-m]===y[w-m];m++);return Tr=y.slice(a,1<m?1-m:void 0)}function si(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function sl(){return!0}function kd(){return!1}function _n(a){function l(d,m,y,w,A){this._reactName=d,this._targetInst=y,this.type=m,this.nativeEvent=w,this.target=A,this.currentTarget=null;for(var U in a)a.hasOwnProperty(U)&&(d=a[U],this[U]=d?d(w):w[U]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?sl:kd,this.isPropagationStopped=kd,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=sl)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=sl)},persist:function(){},isPersistent:sl}),l}var Ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nl=_n(Ma),ni=p({},Ma,{view:0,detail:0}),Ps=_n(ni),E,P,$,q=p({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fa,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==$&&($&&a.type==="mousemove"?(E=a.screenX-$.screenX,P=a.screenY-$.screenY):P=E=0,$=a),E)},movementY:function(a){return"movementY"in a?a.movementY:P}}),de=_n(q),pe=p({},q,{dataTransfer:0}),ve=_n(pe),Ve=p({},ni,{relatedTarget:0}),gt=_n(Ve),qe=p({},Ma,{animationName:0,elapsedTime:0,pseudoElement:0}),et=_n(qe),vt=p({},Ma,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),fs=_n(vt),At=p({},Ma,{data:0}),yt=_n(At),ut={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ln={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cs(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=qs[a])?!!l[a]:!1}function fa(){return Cs}var ro=p({},ni,{key:function(a){if(a.key){var l=ut[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=si(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?ln[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fa,charCode:function(a){return a.type==="keypress"?si(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?si(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Za=_n(ro),ai=p({},q,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),al=_n(ai),rl=p({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fa}),Dd=_n(rl),GE=p({},Ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),XE=_n(GE),KE=p({},q,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),QE=_n(KE),ZE=p({},Ma,{newState:0,oldState:0}),JE=_n(ZE),ek=[9,13,27,32],Fm=Fn&&"CompositionEvent"in window,Ec=null;Fn&&"documentMode"in document&&(Ec=document.documentMode);var tk=Fn&&"TextEvent"in window&&!Ec,ub=Fn&&(!Fm||Ec&&8<Ec&&11>=Ec),db=" ",fb=!1;function hb(a,l){switch(a){case"keyup":return ek.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mb(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var il=!1;function sk(a,l){switch(a){case"compositionend":return mb(l);case"keypress":return l.which!==32?null:(fb=!0,db);case"textInput":return a=l.data,a===db&&fb?null:a;default:return null}}function nk(a,l){if(il)return a==="compositionend"||!Fm&&hb(a,l)?(a=ao(),Tr=Un=Kn=null,il=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ub&&l.locale!=="ko"?null:l.data;default:return null}}var ak={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pb(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!ak[a.type]:l==="textarea"}function gb(a,l,d,m){_r?ei?ei.push(m):ei=[m]:_r=m,l=xf(l,"onChange"),0<l.length&&(d=new nl("onChange","change",null,d,m),a.push({event:d,listeners:l}))}var kc=null,Dc=null;function rk(a){Kw(a,0)}function Ad(a){var l=Os(a);if(Qa(l))return a}function xb(a,l){if(a==="change")return l}var yb=!1;if(Fn){var Um;if(Fn){var zm="oninput"in document;if(!zm){var bb=document.createElement("div");bb.setAttribute("oninput","return;"),zm=typeof bb.oninput=="function"}Um=zm}else Um=!1;yb=Um&&(!document.documentMode||9<document.documentMode)}function vb(){kc&&(kc.detachEvent("onpropertychange",wb),Dc=kc=null)}function wb(a){if(a.propertyName==="value"&&Ad(Dc)){var l=[];gb(l,Dc,a,to(a)),Cc(rk,l)}}function ik(a,l,d){a==="focusin"?(vb(),kc=l,Dc=d,kc.attachEvent("onpropertychange",wb)):a==="focusout"&&vb()}function ok(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Ad(Dc)}function lk(a,l){if(a==="click")return Ad(l)}function ck(a,l){if(a==="input"||a==="change")return Ad(l)}function uk(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Qn=typeof Object.is=="function"?Object.is:uk;function Ac(a,l){if(Qn(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var y=d[m];if(!He.call(l,y)||!Qn(a[y],l[y]))return!1}return!0}function jb(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Nb(a,l){var d=jb(a);a=0;for(var m;d;){if(d.nodeType===3){if(m=a+d.textContent.length,a<=l&&m>=l)return{node:d,offset:l-a};a=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=jb(d)}}function _b(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?_b(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function Tb(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=Zi(a.document);l instanceof a.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch(m){d=!1}if(d)a=l.contentWindow;else break;l=Zi(a.document)}return l}function Hm(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var dk=Fn&&"documentMode"in document&&11>=document.documentMode,ol=null,$m=null,Oc=null,Vm=!1;function Sb(a,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Vm||ol==null||ol!==Zi(m)||(m=ol,"selectionStart"in m&&Hm(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Oc&&Ac(Oc,m)||(Oc=m,m=xf($m,"onSelect"),0<m.length&&(l=new nl("onSelect","select",null,l,d),a.push({event:l,listeners:m}),l.target=ol)))}function io(a,l){var d={};return d[a.toLowerCase()]=l.toLowerCase(),d["Webkit"+a]="webkit"+l,d["Moz"+a]="moz"+l,d}var ll={animationend:io("Animation","AnimationEnd"),animationiteration:io("Animation","AnimationIteration"),animationstart:io("Animation","AnimationStart"),transitionrun:io("Transition","TransitionRun"),transitionstart:io("Transition","TransitionStart"),transitioncancel:io("Transition","TransitionCancel"),transitionend:io("Transition","TransitionEnd")},Im={},Cb={};Fn&&(Cb=document.createElement("div").style,"AnimationEvent"in window||(delete ll.animationend.animation,delete ll.animationiteration.animation,delete ll.animationstart.animation),"TransitionEvent"in window||delete ll.transitionend.transition);function oo(a){if(Im[a])return Im[a];if(!ll[a])return a;var l=ll[a],d;for(d in l)if(l.hasOwnProperty(d)&&d in Cb)return Im[a]=l[d];return a}var Eb=oo("animationend"),kb=oo("animationiteration"),Db=oo("animationstart"),fk=oo("transitionrun"),hk=oo("transitionstart"),mk=oo("transitioncancel"),Ab=oo("transitionend"),Ob=new Map,qm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qm.push("scrollEnd");function Pa(a,l){Ob.set(a,l),_s(l,[a])}var Rb=new WeakMap;function ha(a,l){if(typeof a=="object"&&a!==null){var d=Rb.get(a);return d!==void 0?d:(l={value:a,source:l,stack:Zo(l)},Rb.set(a,l),l)}return{value:a,source:l,stack:Zo(l)}}var ma=[],cl=0,Wm=0;function Od(){for(var a=cl,l=Wm=cl=0;l<a;){var d=ma[l];ma[l++]=null;var m=ma[l];ma[l++]=null;var y=ma[l];ma[l++]=null;var w=ma[l];if(ma[l++]=null,m!==null&&y!==null){var A=m.pending;A===null?y.next=y:(y.next=A.next,A.next=y),m.pending=y}w!==0&&Mb(d,y,w)}}function Rd(a,l,d,m){ma[cl++]=a,ma[cl++]=l,ma[cl++]=d,ma[cl++]=m,Wm|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function Ym(a,l,d,m){return Rd(a,l,d,m),Md(a)}function ul(a,l){return Rd(a,null,null,l),Md(a)}function Mb(a,l,d){a.lanes|=d;var m=a.alternate;m!==null&&(m.lanes|=d);for(var y=!1,w=a.return;w!==null;)w.childLanes|=d,m=w.alternate,m!==null&&(m.childLanes|=d),w.tag===22&&(a=w.stateNode,a===null||a._visibility&1||(y=!0)),a=w,w=w.return;return a.tag===3?(w=a.stateNode,y&&l!==null&&(y=31-jt(d),a=w.hiddenUpdates,m=a[y],m===null?a[y]=[l]:m.push(l),l.lane=d|536870912),w):null}function Md(a){if(50<nu)throw nu=0,Jp=null,Error(n(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var dl={};function pk(a,l,d,m){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(a,l,d,m){return new pk(a,l,d,m)}function Gm(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Sr(a,l){var d=a.alternate;return d===null?(d=Zn(a.tag,l,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function Pb(a,l){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,l=d.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function Pd(a,l,d,m,y,w){var A=0;if(m=a,typeof a=="function")Gm(a)&&(A=1);else if(typeof a=="string")A=xD(a,d,J.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case O:return a=Zn(31,d,l,y),a.elementType=O,a.lanes=w,a;case j:return lo(d.children,y,w,l);case v:A=8,y|=24;break;case T:return a=Zn(12,d,l,y|2),a.elementType=T,a.lanes=w,a;case D:return a=Zn(13,d,l,y),a.elementType=D,a.lanes=w,a;case k:return a=Zn(19,d,l,y),a.elementType=k,a.lanes=w,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case _:case S:A=10;break e;case R:A=9;break e;case C:A=11;break e;case B:A=14;break e;case F:A=16,m=null;break e}A=29,d=Error(n(130,a===null?"null":typeof a,"")),m=null}return l=Zn(A,d,l,y),l.elementType=a,l.type=m,l.lanes=w,l}function lo(a,l,d,m){return a=Zn(7,a,m,l),a.lanes=d,a}function Xm(a,l,d){return a=Zn(6,a,null,l),a.lanes=d,a}function Km(a,l,d){return l=Zn(4,a.children!==null?a.children:[],a.key,l),l.lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var fl=[],hl=0,Ld=null,Bd=0,pa=[],ga=0,co=null,Cr=1,Er="";function uo(a,l){fl[hl++]=Bd,fl[hl++]=Ld,Ld=a,Bd=l}function Lb(a,l,d){pa[ga++]=Cr,pa[ga++]=Er,pa[ga++]=co,co=a;var m=Cr;a=Er;var y=32-jt(m)-1;m&=~(1<<y),d+=1;var w=32-jt(l)+y;if(30<w){var A=y-y%5;w=(m&(1<<A)-1).toString(32),m>>=A,y-=A,Cr=1<<32-jt(l)+y|d<<y|m,Er=w+a}else Cr=1<<w|d<<y|m,Er=a}function Qm(a){a.return!==null&&(uo(a,1),Lb(a,1,0))}function Zm(a){for(;a===Ld;)Ld=fl[--hl],fl[hl]=null,Bd=fl[--hl],fl[hl]=null;for(;a===co;)co=pa[--ga],pa[ga]=null,Er=pa[--ga],pa[ga]=null,Cr=pa[--ga],pa[ga]=null}var On=null,Ls=null,rs=!1,fo=null,Ja=!1,Jm=Error(n(519));function ho(a){var l=Error(n(418,""));throw Pc(ha(l,a)),Jm}function Bb(a){var l=a.stateNode,d=a.type,m=a.memoizedProps;switch(l[_e]=a,l[Me]=m,d){case"dialog":qt("cancel",l),qt("close",l);break;case"iframe":case"object":case"embed":qt("load",l);break;case"video":case"audio":for(d=0;d<ru.length;d++)qt(ru[d],l);break;case"source":qt("error",l);break;case"img":case"image":case"link":qt("error",l),qt("load",l);break;case"details":qt("toggle",l);break;case"input":qt("invalid",l),Sd(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),Qi(l);break;case"select":qt("invalid",l);break;case"textarea":qt("invalid",l),Nc(l,m.value,m.defaultValue,m.children),Qi(l)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||m.suppressHydrationWarning===!0||ej(l.textContent,d)?(m.popover!=null&&(qt("beforetoggle",l),qt("toggle",l)),m.onScroll!=null&&qt("scroll",l),m.onScrollEnd!=null&&qt("scrollend",l),m.onClick!=null&&(l.onclick=yf),l=!0):l=!1,l||ho(a)}function Fb(a){for(On=a.return;On;)switch(On.tag){case 5:case 13:Ja=!1;return;case 27:case 3:Ja=!0;return;default:On=On.return}}function Rc(a){if(a!==On)return!1;if(!rs)return Fb(a),rs=!0,!1;var l=a.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||pg(a.type,a.memoizedProps)),d=!d),d&&Ls&&ho(a),Fb(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8)if(d=a.data,d==="/$"){if(l===0){Ls=Ba(a.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++;a=a.nextSibling}Ls=null}}else l===27?(l=Ls,vi(a.type)?(a=bg,bg=null,Ls=a):Ls=l):Ls=On?Ba(a.stateNode.nextSibling):null;return!0}function Mc(){Ls=On=null,rs=!1}function Ub(){var a=fo;return a!==null&&($n===null?$n=a:$n.push.apply($n,a),fo=null),a}function Pc(a){fo===null?fo=[a]:fo.push(a)}var ep=ie(null),mo=null,kr=null;function ri(a,l,d){V(ep,l._currentValue),l._currentValue=d}function Dr(a){a._currentValue=ep.current,ne(ep)}function tp(a,l,d){for(;a!==null;){var m=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),a===d)break;a=a.return}}function sp(a,l,d,m){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var w=y.dependencies;if(w!==null){var A=y.child;w=w.firstContext;e:for(;w!==null;){var U=w;w=y;for(var ee=0;ee<l.length;ee++)if(U.context===l[ee]){w.lanes|=d,U=w.alternate,U!==null&&(U.lanes|=d),tp(w.return,d,a),m||(A=null);break e}w=U.next}}else if(y.tag===18){if(A=y.return,A===null)throw Error(n(341));A.lanes|=d,w=A.alternate,w!==null&&(w.lanes|=d),tp(A,d,a),A=null}else A=y.child;if(A!==null)A.return=y;else for(A=y;A!==null;){if(A===a){A=null;break}if(y=A.sibling,y!==null){y.return=A.return,A=y;break}A=A.return}y=A}}function Lc(a,l,d,m){a=null;for(var y=l,w=!1;y!==null;){if(!w){if((y.flags&524288)!==0)w=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var A=y.alternate;if(A===null)throw Error(n(387));if(A=A.memoizedProps,A!==null){var U=y.type;Qn(y.pendingProps.value,A.value)||(a!==null?a.push(U):a=[U])}}else if(y===Ee.current){if(A=y.alternate,A===null)throw Error(n(387));A.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(du):a=[du])}y=y.return}a!==null&&sp(l,a,d,m),l.flags|=262144}function Fd(a){for(a=a.firstContext;a!==null;){if(!Qn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function po(a){mo=a,kr=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Tn(a){return zb(mo,a)}function Ud(a,l){return mo===null&&po(a),zb(a,l)}function zb(a,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},kr===null){if(a===null)throw Error(n(308));kr=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else kr=kr.next=l;return d}var gk=typeof AbortController!="undefined"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(d,m){a.push(m)}};this.abort=function(){l.aborted=!0,a.forEach(function(d){return d()})}},xk=e.unstable_scheduleCallback,yk=e.unstable_NormalPriority,Js={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function np(){return{controller:new gk,data:new Map,refCount:0}}function Bc(a){a.refCount--,a.refCount===0&&xk(yk,function(){a.controller.abort()})}var Fc=null,ap=0,ml=0,pl=null;function bk(a,l){if(Fc===null){var d=Fc=[];ap=0,ml=ig(),pl={status:"pending",value:void 0,then:function(m){d.push(m)}}}return ap++,l.then(Hb,Hb),l}function Hb(){if(--ap===0&&Fc!==null){pl!==null&&(pl.status="fulfilled");var a=Fc;Fc=null,ml=0,pl=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function vk(a,l){var d=[],m={status:"pending",value:null,reason:null,then:function(y){d.push(y)}};return a.then(function(){m.status="fulfilled",m.value=l;for(var y=0;y<d.length;y++)(0,d[y])(l)},function(y){for(m.status="rejected",m.reason=y,y=0;y<d.length;y++)(0,d[y])(void 0)}),m}var $b=z.S;z.S=function(a,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&bk(a,l),$b!==null&&$b(a,l)};var go=ie(null);function rp(){var a=go.current;return a!==null?a:vs.pooledCache}function zd(a,l){l===null?V(go,go.current):V(go,l.pool)}function Vb(){var a=rp();return a===null?null:{parent:Js._currentValue,pool:a}}var Uc=Error(n(460)),Ib=Error(n(474)),Hd=Error(n(542)),ip={then:function(){}};function qb(a){return a=a.status,a==="fulfilled"||a==="rejected"}function $d(){}function Wb(a,l,d){switch(d=a[d],d===void 0?a.push(l):d!==l&&(l.then($d,$d),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,Gb(a),a;default:if(typeof l.status=="string")l.then($d,$d);else{if(a=vs,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=l,a.status="pending",a.then(function(m){if(l.status==="pending"){var y=l;y.status="fulfilled",y.value=m}},function(m){if(l.status==="pending"){var y=l;y.status="rejected",y.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,Gb(a),a}throw zc=l,Uc}}var zc=null;function Yb(){if(zc===null)throw Error(n(459));var a=zc;return zc=null,a}function Gb(a){if(a===Uc||a===Hd)throw Error(n(483))}var ii=!1;function op(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lp(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function oi(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function li(a,l,d){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(os&2)!==0){var y=m.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),m.pending=l,l=Md(a),Mb(a,null,d),l}return Rd(a,m,l,d),Md(a)}function Hc(a,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var m=l.lanes;m&=a.pendingLanes,d|=m,l.lanes=d,Ct(a,d)}}function cp(a,l){var d=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var y=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var A={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};w===null?y=w=A:w=w.next=A,d=d.next}while(d!==null);w===null?y=w=l:w=w.next=l}else y=w=l;d={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:m.shared,callbacks:m.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}var up=!1;function $c(){if(up){var a=pl;if(a!==null)throw a}}function Vc(a,l,d,m){up=!1;var y=a.updateQueue;ii=!1;var w=y.firstBaseUpdate,A=y.lastBaseUpdate,U=y.shared.pending;if(U!==null){y.shared.pending=null;var ee=U,be=ee.next;ee.next=null,A===null?w=be:A.next=be,A=ee;var Ce=a.alternate;Ce!==null&&(Ce=Ce.updateQueue,U=Ce.lastBaseUpdate,U!==A&&(U===null?Ce.firstBaseUpdate=be:U.next=be,Ce.lastBaseUpdate=ee))}if(w!==null){var Ae=y.baseState;A=0,Ce=be=ee=null,U=w;do{var je=U.lane&-536870913,Ne=je!==U.lane;if(Ne?(Zt&je)===je:(m&je)===je){je!==0&&je===ml&&(up=!0),Ce!==null&&(Ce=Ce.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var _t=a,bt=U;je=l;var ps=d;switch(bt.tag){case 1:if(_t=bt.payload,typeof _t=="function"){Ae=_t.call(ps,Ae,je);break e}Ae=_t;break e;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=bt.payload,je=typeof _t=="function"?_t.call(ps,Ae,je):_t,je==null)break e;Ae=p({},Ae,je);break e;case 2:ii=!0}}je=U.callback,je!==null&&(a.flags|=64,Ne&&(a.flags|=8192),Ne=y.callbacks,Ne===null?y.callbacks=[je]:Ne.push(je))}else Ne={lane:je,tag:U.tag,payload:U.payload,callback:U.callback,next:null},Ce===null?(be=Ce=Ne,ee=Ae):Ce=Ce.next=Ne,A|=je;if(U=U.next,U===null){if(U=y.shared.pending,U===null)break;Ne=U,U=Ne.next,Ne.next=null,y.lastBaseUpdate=Ne,y.shared.pending=null}}while(!0);Ce===null&&(ee=Ae),y.baseState=ee,y.firstBaseUpdate=be,y.lastBaseUpdate=Ce,w===null&&(y.shared.lanes=0),gi|=A,a.lanes=A,a.memoizedState=Ae}}function Xb(a,l){if(typeof a!="function")throw Error(n(191,a));a.call(l)}function Kb(a,l){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)Xb(d[a],l)}var gl=ie(null),Vd=ie(0);function Qb(a,l){a=Br,V(Vd,a),V(gl,l),Br=a|l.baseLanes}function dp(){V(Vd,Br),V(gl,gl.current)}function fp(){Br=Vd.current,ne(gl),ne(Vd)}var ci=0,Ft=null,hs=null,Ws=null,Id=!1,xl=!1,xo=!1,qd=0,Ic=0,yl=null,wk=0;function Us(){throw Error(n(321))}function hp(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!Qn(a[d],l[d]))return!1;return!0}function mp(a,l,d,m,y,w){return ci=w,Ft=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,z.H=a===null||a.memoizedState===null?Mv:Pv,xo=!1,w=d(m,y),xo=!1,xl&&(w=Jb(l,d,m,y)),Zb(a),w}function Zb(a){z.H=Qd;var l=hs!==null&&hs.next!==null;if(ci=0,Ws=hs=Ft=null,Id=!1,Ic=0,yl=null,l)throw Error(n(300));a===null||cn||(a=a.dependencies,a!==null&&Fd(a)&&(cn=!0))}function Jb(a,l,d,m){Ft=a;var y=0;do{if(xl&&(yl=null),Ic=0,xl=!1,25<=y)throw Error(n(301));if(y+=1,Ws=hs=null,a.updateQueue!=null){var w=a.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}z.H=Ek,w=l(d,m)}while(xl);return w}function jk(){var a=z.H,l=a.useState()[0];return l=typeof l.then=="function"?qc(l):l,a=a.useState()[0],(hs!==null?hs.memoizedState:null)!==a&&(Ft.flags|=1024),l}function pp(){var a=qd!==0;return qd=0,a}function gp(a,l,d){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~d}function xp(a){if(Id){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}Id=!1}ci=0,Ws=hs=Ft=null,xl=!1,Ic=qd=0,yl=null}function zn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ws===null?Ft.memoizedState=Ws=a:Ws=Ws.next=a,Ws}function Ys(){if(hs===null){var a=Ft.alternate;a=a!==null?a.memoizedState:null}else a=hs.next;var l=Ws===null?Ft.memoizedState:Ws.next;if(l!==null)Ws=l,hs=a;else{if(a===null)throw Ft.alternate===null?Error(n(467)):Error(n(310));hs=a,a={memoizedState:hs.memoizedState,baseState:hs.baseState,baseQueue:hs.baseQueue,queue:hs.queue,next:null},Ws===null?Ft.memoizedState=Ws=a:Ws=Ws.next=a}return Ws}function yp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qc(a){var l=Ic;return Ic+=1,yl===null&&(yl=[]),a=Wb(yl,a,l),l=Ft,(Ws===null?l.memoizedState:Ws.next)===null&&(l=l.alternate,z.H=l===null||l.memoizedState===null?Mv:Pv),a}function Wd(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return qc(a);if(a.$$typeof===S)return Tn(a)}throw Error(n(438,String(a)))}function bp(a){var l=null,d=Ft.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var m=Ft.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(y){return y.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=yp(),Ft.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(a),m=0;m<a;m++)d[m]=X;return l.index++,d}function Ar(a,l){return typeof l=="function"?l(a):l}function Yd(a){var l=Ys();return vp(l,hs,a)}function vp(a,l,d){var m=a.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=d;var y=a.baseQueue,w=m.pending;if(w!==null){if(y!==null){var A=y.next;y.next=w.next,w.next=A}l.baseQueue=y=w,m.pending=null}if(w=a.baseState,y===null)a.memoizedState=w;else{l=y.next;var U=A=null,ee=null,be=l,Ce=!1;do{var Ae=be.lane&-536870913;if(Ae!==be.lane?(Zt&Ae)===Ae:(ci&Ae)===Ae){var je=be.revertLane;if(je===0)ee!==null&&(ee=ee.next={lane:0,revertLane:0,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null}),Ae===ml&&(Ce=!0);else if((ci&je)===je){be=be.next,je===ml&&(Ce=!0);continue}else Ae={lane:0,revertLane:be.revertLane,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null},ee===null?(U=ee=Ae,A=w):ee=ee.next=Ae,Ft.lanes|=je,gi|=je;Ae=be.action,xo&&d(w,Ae),w=be.hasEagerState?be.eagerState:d(w,Ae)}else je={lane:Ae,revertLane:be.revertLane,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null},ee===null?(U=ee=je,A=w):ee=ee.next=je,Ft.lanes|=Ae,gi|=Ae;be=be.next}while(be!==null&&be!==l);if(ee===null?A=w:ee.next=U,!Qn(w,a.memoizedState)&&(cn=!0,Ce&&(d=pl,d!==null)))throw d;a.memoizedState=w,a.baseState=A,a.baseQueue=ee,m.lastRenderedState=w}return y===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function wp(a){var l=Ys(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=a;var m=d.dispatch,y=d.pending,w=l.memoizedState;if(y!==null){d.pending=null;var A=y=y.next;do w=a(w,A.action),A=A.next;while(A!==y);Qn(w,l.memoizedState)||(cn=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),d.lastRenderedState=w}return[w,m]}function ev(a,l,d){var m=Ft,y=Ys(),w=rs;if(w){if(d===void 0)throw Error(n(407));d=d()}else d=l();var A=!Qn((hs||y).memoizedState,d);A&&(y.memoizedState=d,cn=!0),y=y.queue;var U=nv.bind(null,m,y,a);if(Wc(2048,8,U,[a]),y.getSnapshot!==l||A||Ws!==null&&Ws.memoizedState.tag&1){if(m.flags|=2048,bl(9,Gd(),sv.bind(null,m,y,d,l),null),vs===null)throw Error(n(349));w||(ci&124)!==0||tv(m,l,d)}return d}function tv(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},l=Ft.updateQueue,l===null?(l=yp(),Ft.updateQueue=l,l.stores=[a]):(d=l.stores,d===null?l.stores=[a]:d.push(a))}function sv(a,l,d,m){l.value=d,l.getSnapshot=m,av(l)&&rv(a)}function nv(a,l,d){return d(function(){av(l)&&rv(a)})}function av(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!Qn(a,d)}catch(m){return!0}}function rv(a){var l=ul(a,2);l!==null&&na(l,a,2)}function jp(a){var l=zn();if(typeof a=="function"){var d=a;if(a=d(),xo){at(!0);try{d()}finally{at(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ar,lastRenderedState:a},l}function iv(a,l,d,m){return a.baseState=d,vp(a,hs,typeof m=="function"?m:Ar)}function Nk(a,l,d,m,y){if(Kd(a))throw Error(n(485));if(a=l.action,a!==null){var w={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){w.listeners.push(A)}};z.T!==null?d(!0):w.isTransition=!1,m(w),d=l.pending,d===null?(w.next=l.pending=w,ov(l,w)):(w.next=d.next,l.pending=d.next=w)}}function ov(a,l){var d=l.action,m=l.payload,y=a.state;if(l.isTransition){var w=z.T,A={};z.T=A;try{var U=d(y,m),ee=z.S;ee!==null&&ee(A,U),lv(a,l,U)}catch(be){Np(a,l,be)}finally{z.T=w}}else try{w=d(y,m),lv(a,l,w)}catch(be){Np(a,l,be)}}function lv(a,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){cv(a,l,m)},function(m){return Np(a,l,m)}):cv(a,l,d)}function cv(a,l,d){l.status="fulfilled",l.value=d,uv(l),a.state=d,l=a.pending,l!==null&&(d=l.next,d===l?a.pending=null:(d=d.next,l.next=d,ov(a,d)))}function Np(a,l,d){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=d,uv(l),l=l.next;while(l!==m)}a.action=null}function uv(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function dv(a,l){return l}function fv(a,l){if(rs){var d=vs.formState;if(d!==null){e:{var m=Ft;if(rs){if(Ls){t:{for(var y=Ls,w=Ja;y.nodeType!==8;){if(!w){y=null;break t}if(y=Ba(y.nextSibling),y===null){y=null;break t}}w=y.data,y=w==="F!"||w==="F"?y:null}if(y){Ls=Ba(y.nextSibling),m=y.data==="F!";break e}}ho(m)}m=!1}m&&(l=d[0])}}return d=zn(),d.memoizedState=d.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dv,lastRenderedState:l},d.queue=m,d=Av.bind(null,Ft,m),m.dispatch=d,m=jp(!1),w=Ep.bind(null,Ft,!1,m.queue),m=zn(),y={state:l,dispatch:null,action:a,pending:null},m.queue=y,d=Nk.bind(null,Ft,y,w,d),y.dispatch=d,m.memoizedState=a,[l,d,!1]}function hv(a){var l=Ys();return mv(l,hs,a)}function mv(a,l,d){if(l=vp(a,l,dv)[0],a=Yd(Ar)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=qc(l)}catch(A){throw A===Uc?Hd:A}else m=l;l=Ys();var y=l.queue,w=y.dispatch;return d!==l.memoizedState&&(Ft.flags|=2048,bl(9,Gd(),_k.bind(null,y,d),null)),[m,w,a]}function _k(a,l){a.action=l}function pv(a){var l=Ys(),d=hs;if(d!==null)return mv(l,d,a);Ys(),l=l.memoizedState,d=Ys();var m=d.queue.dispatch;return d.memoizedState=a,[l,m,!1]}function bl(a,l,d,m){return a={tag:a,create:d,deps:m,inst:l,next:null},l=Ft.updateQueue,l===null&&(l=yp(),Ft.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=a.next=a:(m=d.next,d.next=a,a.next=m,l.lastEffect=a),a}function Gd(){return{destroy:void 0,resource:void 0}}function gv(){return Ys().memoizedState}function Xd(a,l,d,m){var y=zn();m=m===void 0?null:m,Ft.flags|=a,y.memoizedState=bl(1|l,Gd(),d,m)}function Wc(a,l,d,m){var y=Ys();m=m===void 0?null:m;var w=y.memoizedState.inst;hs!==null&&m!==null&&hp(m,hs.memoizedState.deps)?y.memoizedState=bl(l,w,d,m):(Ft.flags|=a,y.memoizedState=bl(1|l,w,d,m))}function xv(a,l){Xd(8390656,8,a,l)}function yv(a,l){Wc(2048,8,a,l)}function bv(a,l){return Wc(4,2,a,l)}function vv(a,l){return Wc(4,4,a,l)}function wv(a,l){if(typeof l=="function"){a=a();var d=l(a);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function jv(a,l,d){d=d!=null?d.concat([a]):null,Wc(4,4,wv.bind(null,l,a),d)}function _p(){}function Nv(a,l){var d=Ys();l=l===void 0?null:l;var m=d.memoizedState;return l!==null&&hp(l,m[1])?m[0]:(d.memoizedState=[a,l],a)}function _v(a,l){var d=Ys();l=l===void 0?null:l;var m=d.memoizedState;if(l!==null&&hp(l,m[1]))return m[0];if(m=a(),xo){at(!0);try{a()}finally{at(!1)}}return d.memoizedState=[m,l],m}function Tp(a,l,d){return d===void 0||(ci&1073741824)!==0?a.memoizedState=l:(a.memoizedState=d,a=Cw(),Ft.lanes|=a,gi|=a,d)}function Tv(a,l,d,m){return Qn(d,l)?d:gl.current!==null?(a=Tp(a,d,m),Qn(a,l)||(cn=!0),a):(ci&42)===0?(cn=!0,a.memoizedState=d):(a=Cw(),Ft.lanes|=a,gi|=a,l)}function Sv(a,l,d,m,y){var w=Z.p;Z.p=w!==0&&8>w?w:8;var A=z.T,U={};z.T=U,Ep(a,!1,l,d);try{var ee=y(),be=z.S;if(be!==null&&be(U,ee),ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var Ce=vk(ee,m);Yc(a,l,Ce,sa(a))}else Yc(a,l,m,sa(a))}catch(Ae){Yc(a,l,{then:function(){},status:"rejected",reason:Ae},sa())}finally{Z.p=w,z.T=A}}function Tk(){}function Sp(a,l,d,m){if(a.tag!==5)throw Error(n(476));var y=Cv(a).queue;Sv(a,y,l,te,d===null?Tk:function(){return Ev(a),d(m)})}function Cv(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ar,lastRenderedState:te},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ar,lastRenderedState:d},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function Ev(a){var l=Cv(a).next.queue;Yc(a,l,{},sa())}function Cp(){return Tn(du)}function kv(){return Ys().memoizedState}function Dv(){return Ys().memoizedState}function Sk(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var d=sa();a=oi(d);var m=li(l,a,d);m!==null&&(na(m,l,d),Hc(m,l,d)),l={cache:np()},a.payload=l;return}l=l.return}}function Ck(a,l,d){var m=sa();d={lane:m,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},Kd(a)?Ov(l,d):(d=Ym(a,l,d,m),d!==null&&(na(d,a,m),Rv(d,l,m)))}function Av(a,l,d){var m=sa();Yc(a,l,d,m)}function Yc(a,l,d,m){var y={lane:m,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(Kd(a))Ov(l,y);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var A=l.lastRenderedState,U=w(A,d);if(y.hasEagerState=!0,y.eagerState=U,Qn(U,A))return Rd(a,l,y,0),vs===null&&Od(),!1}catch(ee){}finally{}if(d=Ym(a,l,y,m),d!==null)return na(d,a,m),Rv(d,l,m),!0}return!1}function Ep(a,l,d,m){if(m={lane:2,revertLane:ig(),action:m,hasEagerState:!1,eagerState:null,next:null},Kd(a)){if(l)throw Error(n(479))}else l=Ym(a,d,m,2),l!==null&&na(l,a,2)}function Kd(a){var l=a.alternate;return a===Ft||l!==null&&l===Ft}function Ov(a,l){xl=Id=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function Rv(a,l,d){if((d&4194048)!==0){var m=l.lanes;m&=a.pendingLanes,d|=m,l.lanes=d,Ct(a,d)}}var Qd={readContext:Tn,use:Wd,useCallback:Us,useContext:Us,useEffect:Us,useImperativeHandle:Us,useLayoutEffect:Us,useInsertionEffect:Us,useMemo:Us,useReducer:Us,useRef:Us,useState:Us,useDebugValue:Us,useDeferredValue:Us,useTransition:Us,useSyncExternalStore:Us,useId:Us,useHostTransitionStatus:Us,useFormState:Us,useActionState:Us,useOptimistic:Us,useMemoCache:Us,useCacheRefresh:Us},Mv={readContext:Tn,use:Wd,useCallback:function(a,l){return zn().memoizedState=[a,l===void 0?null:l],a},useContext:Tn,useEffect:xv,useImperativeHandle:function(a,l,d){d=d!=null?d.concat([a]):null,Xd(4194308,4,wv.bind(null,l,a),d)},useLayoutEffect:function(a,l){return Xd(4194308,4,a,l)},useInsertionEffect:function(a,l){Xd(4,2,a,l)},useMemo:function(a,l){var d=zn();l=l===void 0?null:l;var m=a();if(xo){at(!0);try{a()}finally{at(!1)}}return d.memoizedState=[m,l],m},useReducer:function(a,l,d){var m=zn();if(d!==void 0){var y=d(l);if(xo){at(!0);try{d(l)}finally{at(!1)}}}else y=l;return m.memoizedState=m.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},m.queue=a,a=a.dispatch=Ck.bind(null,Ft,a),[m.memoizedState,a]},useRef:function(a){var l=zn();return a={current:a},l.memoizedState=a},useState:function(a){a=jp(a);var l=a.queue,d=Av.bind(null,Ft,l);return l.dispatch=d,[a.memoizedState,d]},useDebugValue:_p,useDeferredValue:function(a,l){var d=zn();return Tp(d,a,l)},useTransition:function(){var a=jp(!1);return a=Sv.bind(null,Ft,a.queue,!0,!1),zn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,d){var m=Ft,y=zn();if(rs){if(d===void 0)throw Error(n(407));d=d()}else{if(d=l(),vs===null)throw Error(n(349));(Zt&124)!==0||tv(m,l,d)}y.memoizedState=d;var w={value:d,getSnapshot:l};return y.queue=w,xv(nv.bind(null,m,w,a),[a]),m.flags|=2048,bl(9,Gd(),sv.bind(null,m,w,d,l),null),d},useId:function(){var a=zn(),l=vs.identifierPrefix;if(rs){var d=Er,m=Cr;d=(m&~(1<<32-jt(m)-1)).toString(32)+d,l="«"+l+"R"+d,d=qd++,0<d&&(l+="H"+d.toString(32)),l+="»"}else d=wk++,l="«"+l+"r"+d.toString(32)+"»";return a.memoizedState=l},useHostTransitionStatus:Cp,useFormState:fv,useActionState:fv,useOptimistic:function(a){var l=zn();l.memoizedState=l.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=Ep.bind(null,Ft,!0,d),d.dispatch=l,[a,l]},useMemoCache:bp,useCacheRefresh:function(){return zn().memoizedState=Sk.bind(null,Ft)}},Pv={readContext:Tn,use:Wd,useCallback:Nv,useContext:Tn,useEffect:yv,useImperativeHandle:jv,useInsertionEffect:bv,useLayoutEffect:vv,useMemo:_v,useReducer:Yd,useRef:gv,useState:function(){return Yd(Ar)},useDebugValue:_p,useDeferredValue:function(a,l){var d=Ys();return Tv(d,hs.memoizedState,a,l)},useTransition:function(){var a=Yd(Ar)[0],l=Ys().memoizedState;return[typeof a=="boolean"?a:qc(a),l]},useSyncExternalStore:ev,useId:kv,useHostTransitionStatus:Cp,useFormState:hv,useActionState:hv,useOptimistic:function(a,l){var d=Ys();return iv(d,hs,a,l)},useMemoCache:bp,useCacheRefresh:Dv},Ek={readContext:Tn,use:Wd,useCallback:Nv,useContext:Tn,useEffect:yv,useImperativeHandle:jv,useInsertionEffect:bv,useLayoutEffect:vv,useMemo:_v,useReducer:wp,useRef:gv,useState:function(){return wp(Ar)},useDebugValue:_p,useDeferredValue:function(a,l){var d=Ys();return hs===null?Tp(d,a,l):Tv(d,hs.memoizedState,a,l)},useTransition:function(){var a=wp(Ar)[0],l=Ys().memoizedState;return[typeof a=="boolean"?a:qc(a),l]},useSyncExternalStore:ev,useId:kv,useHostTransitionStatus:Cp,useFormState:pv,useActionState:pv,useOptimistic:function(a,l){var d=Ys();return hs!==null?iv(d,hs,a,l):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:bp,useCacheRefresh:Dv},vl=null,Gc=0;function Zd(a){var l=Gc;return Gc+=1,vl===null&&(vl=[]),Wb(vl,a,l)}function Xc(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function Jd(a,l){throw l.$$typeof===g?Error(n(525)):(a=Object.prototype.toString.call(l),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function Lv(a){var l=a._init;return l(a._payload)}function Bv(a){function l(he,le){if(a){var ye=he.deletions;ye===null?(he.deletions=[le],he.flags|=16):ye.push(le)}}function d(he,le){if(!a)return null;for(;le!==null;)l(he,le),le=le.sibling;return null}function m(he){for(var le=new Map;he!==null;)he.key!==null?le.set(he.key,he):le.set(he.index,he),he=he.sibling;return le}function y(he,le){return he=Sr(he,le),he.index=0,he.sibling=null,he}function w(he,le,ye){return he.index=ye,a?(ye=he.alternate,ye!==null?(ye=ye.index,ye<le?(he.flags|=67108866,le):ye):(he.flags|=67108866,le)):(he.flags|=1048576,le)}function A(he){return a&&he.alternate===null&&(he.flags|=67108866),he}function U(he,le,ye,ke){return le===null||le.tag!==6?(le=Xm(ye,he.mode,ke),le.return=he,le):(le=y(le,ye),le.return=he,le)}function ee(he,le,ye,ke){var it=ye.type;return it===j?Ce(he,le,ye.props.children,ke,ye.key):le!==null&&(le.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===F&&Lv(it)===le.type)?(le=y(le,ye.props),Xc(le,ye),le.return=he,le):(le=Pd(ye.type,ye.key,ye.props,null,he.mode,ke),Xc(le,ye),le.return=he,le)}function be(he,le,ye,ke){return le===null||le.tag!==4||le.stateNode.containerInfo!==ye.containerInfo||le.stateNode.implementation!==ye.implementation?(le=Km(ye,he.mode,ke),le.return=he,le):(le=y(le,ye.children||[]),le.return=he,le)}function Ce(he,le,ye,ke,it){return le===null||le.tag!==7?(le=lo(ye,he.mode,ke,it),le.return=he,le):(le=y(le,ye),le.return=he,le)}function Ae(he,le,ye){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return le=Xm(""+le,he.mode,ye),le.return=he,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case x:return ye=Pd(le.type,le.key,le.props,null,he.mode,ye),Xc(ye,le),ye.return=he,ye;case b:return le=Km(le,he.mode,ye),le.return=he,le;case F:var ke=le._init;return le=ke(le._payload),Ae(he,le,ye)}if(H(le)||Q(le))return le=lo(le,he.mode,ye,null),le.return=he,le;if(typeof le.then=="function")return Ae(he,Zd(le),ye);if(le.$$typeof===S)return Ae(he,Ud(he,le),ye);Jd(he,le)}return null}function je(he,le,ye,ke){var it=le!==null?le.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return it!==null?null:U(he,le,""+ye,ke);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case x:return ye.key===it?ee(he,le,ye,ke):null;case b:return ye.key===it?be(he,le,ye,ke):null;case F:return it=ye._init,ye=it(ye._payload),je(he,le,ye,ke)}if(H(ye)||Q(ye))return it!==null?null:Ce(he,le,ye,ke,null);if(typeof ye.then=="function")return je(he,le,Zd(ye),ke);if(ye.$$typeof===S)return je(he,le,Ud(he,ye),ke);Jd(he,ye)}return null}function Ne(he,le,ye,ke,it){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return he=he.get(ye)||null,U(le,he,""+ke,it);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case x:return he=he.get(ke.key===null?ye:ke.key)||null,ee(le,he,ke,it);case b:return he=he.get(ke.key===null?ye:ke.key)||null,be(le,he,ke,it);case F:var Ht=ke._init;return ke=Ht(ke._payload),Ne(he,le,ye,ke,it)}if(H(ke)||Q(ke))return he=he.get(ye)||null,Ce(le,he,ke,it,null);if(typeof ke.then=="function")return Ne(he,le,ye,Zd(ke),it);if(ke.$$typeof===S)return Ne(he,le,ye,Ud(le,ke),it);Jd(le,ke)}return null}function _t(he,le,ye,ke){for(var it=null,Ht=null,pt=le,wt=le=0,dn=null;pt!==null&&wt<ye.length;wt++){pt.index>wt?(dn=pt,pt=null):dn=pt.sibling;var ss=je(he,pt,ye[wt],ke);if(ss===null){pt===null&&(pt=dn);break}a&&pt&&ss.alternate===null&&l(he,pt),le=w(ss,le,wt),Ht===null?it=ss:Ht.sibling=ss,Ht=ss,pt=dn}if(wt===ye.length)return d(he,pt),rs&&uo(he,wt),it;if(pt===null){for(;wt<ye.length;wt++)pt=Ae(he,ye[wt],ke),pt!==null&&(le=w(pt,le,wt),Ht===null?it=pt:Ht.sibling=pt,Ht=pt);return rs&&uo(he,wt),it}for(pt=m(pt);wt<ye.length;wt++)dn=Ne(pt,he,wt,ye[wt],ke),dn!==null&&(a&&dn.alternate!==null&&pt.delete(dn.key===null?wt:dn.key),le=w(dn,le,wt),Ht===null?it=dn:Ht.sibling=dn,Ht=dn);return a&&pt.forEach(function(Ti){return l(he,Ti)}),rs&&uo(he,wt),it}function bt(he,le,ye,ke){if(ye==null)throw Error(n(151));for(var it=null,Ht=null,pt=le,wt=le=0,dn=null,ss=ye.next();pt!==null&&!ss.done;wt++,ss=ye.next()){pt.index>wt?(dn=pt,pt=null):dn=pt.sibling;var Ti=je(he,pt,ss.value,ke);if(Ti===null){pt===null&&(pt=dn);break}a&&pt&&Ti.alternate===null&&l(he,pt),le=w(Ti,le,wt),Ht===null?it=Ti:Ht.sibling=Ti,Ht=Ti,pt=dn}if(ss.done)return d(he,pt),rs&&uo(he,wt),it;if(pt===null){for(;!ss.done;wt++,ss=ye.next())ss=Ae(he,ss.value,ke),ss!==null&&(le=w(ss,le,wt),Ht===null?it=ss:Ht.sibling=ss,Ht=ss);return rs&&uo(he,wt),it}for(pt=m(pt);!ss.done;wt++,ss=ye.next())ss=Ne(pt,he,wt,ss.value,ke),ss!==null&&(a&&ss.alternate!==null&&pt.delete(ss.key===null?wt:ss.key),le=w(ss,le,wt),Ht===null?it=ss:Ht.sibling=ss,Ht=ss);return a&&pt.forEach(function(kD){return l(he,kD)}),rs&&uo(he,wt),it}function ps(he,le,ye,ke){if(typeof ye=="object"&&ye!==null&&ye.type===j&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case x:e:{for(var it=ye.key;le!==null;){if(le.key===it){if(it=ye.type,it===j){if(le.tag===7){d(he,le.sibling),ke=y(le,ye.props.children),ke.return=he,he=ke;break e}}else if(le.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===F&&Lv(it)===le.type){d(he,le.sibling),ke=y(le,ye.props),Xc(ke,ye),ke.return=he,he=ke;break e}d(he,le);break}else l(he,le);le=le.sibling}ye.type===j?(ke=lo(ye.props.children,he.mode,ke,ye.key),ke.return=he,he=ke):(ke=Pd(ye.type,ye.key,ye.props,null,he.mode,ke),Xc(ke,ye),ke.return=he,he=ke)}return A(he);case b:e:{for(it=ye.key;le!==null;){if(le.key===it)if(le.tag===4&&le.stateNode.containerInfo===ye.containerInfo&&le.stateNode.implementation===ye.implementation){d(he,le.sibling),ke=y(le,ye.children||[]),ke.return=he,he=ke;break e}else{d(he,le);break}else l(he,le);le=le.sibling}ke=Km(ye,he.mode,ke),ke.return=he,he=ke}return A(he);case F:return it=ye._init,ye=it(ye._payload),ps(he,le,ye,ke)}if(H(ye))return _t(he,le,ye,ke);if(Q(ye)){if(it=Q(ye),typeof it!="function")throw Error(n(150));return ye=it.call(ye),bt(he,le,ye,ke)}if(typeof ye.then=="function")return ps(he,le,Zd(ye),ke);if(ye.$$typeof===S)return ps(he,le,Ud(he,ye),ke);Jd(he,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint"?(ye=""+ye,le!==null&&le.tag===6?(d(he,le.sibling),ke=y(le,ye),ke.return=he,he=ke):(d(he,le),ke=Xm(ye,he.mode,ke),ke.return=he,he=ke),A(he)):d(he,le)}return function(he,le,ye,ke){try{Gc=0;var it=ps(he,le,ye,ke);return vl=null,it}catch(pt){if(pt===Uc||pt===Hd)throw pt;var Ht=Zn(29,pt,null,he.mode);return Ht.lanes=ke,Ht.return=he,Ht}finally{}}}var wl=Bv(!0),Fv=Bv(!1),xa=ie(null),er=null;function ui(a){var l=a.alternate;V(en,en.current&1),V(xa,a),er===null&&(l===null||gl.current!==null||l.memoizedState!==null)&&(er=a)}function Uv(a){if(a.tag===22){if(V(en,en.current),V(xa,a),er===null){var l=a.alternate;l!==null&&l.memoizedState!==null&&(er=a)}}else di()}function di(){V(en,en.current),V(xa,xa.current)}function Or(a){ne(xa),er===a&&(er=null),ne(en)}var en=ie(0);function ef(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||yg(d)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function kp(a,l,d,m){l=a.memoizedState,d=d(m,l),d=d==null?l:p({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var Dp={enqueueSetState:function(a,l,d){a=a._reactInternals;var m=sa(),y=oi(m);y.payload=l,d!=null&&(y.callback=d),l=li(a,y,m),l!==null&&(na(l,a,m),Hc(l,a,m))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var m=sa(),y=oi(m);y.tag=1,y.payload=l,d!=null&&(y.callback=d),l=li(a,y,m),l!==null&&(na(l,a,m),Hc(l,a,m))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=sa(),m=oi(d);m.tag=2,l!=null&&(m.callback=l),l=li(a,m,d),l!==null&&(na(l,a,d),Hc(l,a,d))}};function zv(a,l,d,m,y,w,A){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,w,A):l.prototype&&l.prototype.isPureReactComponent?!Ac(d,m)||!Ac(y,w):!0}function Hv(a,l,d,m){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==a&&Dp.enqueueReplaceState(l,l.state,null)}function yo(a,l){var d=l;if("ref"in l){d={};for(var m in l)m!=="ref"&&(d[m]=l[m])}if(a=a.defaultProps){d===l&&(d=p({},d));for(var y in a)d[y]===void 0&&(d[y]=a[y])}return d}var tf=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function $v(a){tf(a)}function Vv(a){console.error(a)}function Iv(a){tf(a)}function sf(a,l){try{var d=a.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function qv(a,l,d){try{var m=a.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Ap(a,l,d){return d=oi(d),d.tag=3,d.payload={element:null},d.callback=function(){sf(a,l)},d}function Wv(a){return a=oi(a),a.tag=3,a}function Yv(a,l,d,m){var y=d.type.getDerivedStateFromError;if(typeof y=="function"){var w=m.value;a.payload=function(){return y(w)},a.callback=function(){qv(l,d,m)}}var A=d.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(a.callback=function(){qv(l,d,m),typeof y!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var U=m.stack;this.componentDidCatch(m.value,{componentStack:U!==null?U:""})})}function kk(a,l,d,m,y){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=d.alternate,l!==null&&Lc(l,d,y,!0),d=xa.current,d!==null){switch(d.tag){case 13:return er===null?tg():d.alternate===null&&Bs===0&&(Bs=3),d.flags&=-257,d.flags|=65536,d.lanes=y,m===ip?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([m]):l.add(m),ng(a,m,y)),!1;case 22:return d.flags|=65536,m===ip?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([m]):d.add(m)),ng(a,m,y)),!1}throw Error(n(435,d.tag))}return ng(a,m,y),tg(),!1}if(rs)return l=xa.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=y,m!==Jm&&(a=Error(n(422),{cause:m}),Pc(ha(a,d)))):(m!==Jm&&(l=Error(n(423),{cause:m}),Pc(ha(l,d))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,m=ha(m,d),y=Ap(a.stateNode,m,y),cp(a,y),Bs!==4&&(Bs=2)),!1;var w=Error(n(520),{cause:m});if(w=ha(w,d),su===null?su=[w]:su.push(w),Bs!==4&&(Bs=2),l===null)return!0;m=ha(m,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,a=y&-y,d.lanes|=a,a=Ap(d.stateNode,m,a),cp(d,a),!1;case 1:if(l=d.type,w=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(xi===null||!xi.has(w))))return d.flags|=65536,y&=-y,d.lanes|=y,y=Wv(y),Yv(y,a,d,m),cp(d,y),!1}d=d.return}while(d!==null);return!1}var Gv=Error(n(461)),cn=!1;function mn(a,l,d,m){l.child=a===null?Fv(l,null,d,m):wl(l,a.child,d,m)}function Xv(a,l,d,m,y){d=d.render;var w=l.ref;if("ref"in m){var A={};for(var U in m)U!=="ref"&&(A[U]=m[U])}else A=m;return po(l),m=mp(a,l,d,A,w,y),U=pp(),a!==null&&!cn?(gp(a,l,y),Rr(a,l,y)):(rs&&U&&Qm(l),l.flags|=1,mn(a,l,m,y),l.child)}function Kv(a,l,d,m,y){if(a===null){var w=d.type;return typeof w=="function"&&!Gm(w)&&w.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=w,Qv(a,l,w,m,y)):(a=Pd(d.type,null,m,l,l.mode,y),a.ref=l.ref,a.return=l,l.child=a)}if(w=a.child,!Up(a,y)){var A=w.memoizedProps;if(d=d.compare,d=d!==null?d:Ac,d(A,m)&&a.ref===l.ref)return Rr(a,l,y)}return l.flags|=1,a=Sr(w,m),a.ref=l.ref,a.return=l,l.child=a}function Qv(a,l,d,m,y){if(a!==null){var w=a.memoizedProps;if(Ac(w,m)&&a.ref===l.ref)if(cn=!1,l.pendingProps=m=w,Up(a,y))(a.flags&131072)!==0&&(cn=!0);else return l.lanes=a.lanes,Rr(a,l,y)}return Op(a,l,d,m,y)}function Zv(a,l,d){var m=l.pendingProps,y=m.children,w=a!==null?a.memoizedState:null;if(m.mode==="hidden"){if((l.flags&128)!==0){if(m=w!==null?w.baseLanes|d:d,a!==null){for(y=l.child=a.child,w=0;y!==null;)w=w|y.lanes|y.childLanes,y=y.sibling;l.childLanes=w&~m}else l.childLanes=0,l.child=null;return Jv(a,l,m,d)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&zd(l,w!==null?w.cachePool:null),w!==null?Qb(l,w):dp(),Uv(l);else return l.lanes=l.childLanes=536870912,Jv(a,l,w!==null?w.baseLanes|d:d,d)}else w!==null?(zd(l,w.cachePool),Qb(l,w),di(),l.memoizedState=null):(a!==null&&zd(l,null),dp(),di());return mn(a,l,y,d),l.child}function Jv(a,l,d,m){var y=rp();return y=y===null?null:{parent:Js._currentValue,pool:y},l.memoizedState={baseLanes:d,cachePool:y},a!==null&&zd(l,null),dp(),Uv(l),a!==null&&Lc(a,l,m,!0),null}function nf(a,l){var d=l.ref;if(d===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(a===null||a.ref!==d)&&(l.flags|=4194816)}}function Op(a,l,d,m,y){return po(l),d=mp(a,l,d,m,void 0,y),m=pp(),a!==null&&!cn?(gp(a,l,y),Rr(a,l,y)):(rs&&m&&Qm(l),l.flags|=1,mn(a,l,d,y),l.child)}function ew(a,l,d,m,y,w){return po(l),l.updateQueue=null,d=Jb(l,m,d,y),Zb(a),m=pp(),a!==null&&!cn?(gp(a,l,w),Rr(a,l,w)):(rs&&m&&Qm(l),l.flags|=1,mn(a,l,d,w),l.child)}function tw(a,l,d,m,y){if(po(l),l.stateNode===null){var w=dl,A=d.contextType;typeof A=="object"&&A!==null&&(w=Tn(A)),w=new d(m,w),l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Dp,l.stateNode=w,w._reactInternals=l,w=l.stateNode,w.props=m,w.state=l.memoizedState,w.refs={},op(l),A=d.contextType,w.context=typeof A=="object"&&A!==null?Tn(A):dl,w.state=l.memoizedState,A=d.getDerivedStateFromProps,typeof A=="function"&&(kp(l,d,A,m),w.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(A=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),A!==w.state&&Dp.enqueueReplaceState(w,w.state,null),Vc(l,m,w,y),$c(),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(a===null){w=l.stateNode;var U=l.memoizedProps,ee=yo(d,U);w.props=ee;var be=w.context,Ce=d.contextType;A=dl,typeof Ce=="object"&&Ce!==null&&(A=Tn(Ce));var Ae=d.getDerivedStateFromProps;Ce=typeof Ae=="function"||typeof w.getSnapshotBeforeUpdate=="function",U=l.pendingProps!==U,Ce||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(U||be!==A)&&Hv(l,w,m,A),ii=!1;var je=l.memoizedState;w.state=je,Vc(l,m,w,y),$c(),be=l.memoizedState,U||je!==be||ii?(typeof Ae=="function"&&(kp(l,d,Ae,m),be=l.memoizedState),(ee=ii||zv(l,d,ee,m,je,be,A))?(Ce||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(l.flags|=4194308)):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=be),w.props=m,w.state=be,w.context=A,m=ee):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{w=l.stateNode,lp(a,l),A=l.memoizedProps,Ce=yo(d,A),w.props=Ce,Ae=l.pendingProps,je=w.context,be=d.contextType,ee=dl,typeof be=="object"&&be!==null&&(ee=Tn(be)),U=d.getDerivedStateFromProps,(be=typeof U=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==Ae||je!==ee)&&Hv(l,w,m,ee),ii=!1,je=l.memoizedState,w.state=je,Vc(l,m,w,y),$c();var Ne=l.memoizedState;A!==Ae||je!==Ne||ii||a!==null&&a.dependencies!==null&&Fd(a.dependencies)?(typeof U=="function"&&(kp(l,d,U,m),Ne=l.memoizedState),(Ce=ii||zv(l,d,Ce,m,je,Ne,ee)||a!==null&&a.dependencies!==null&&Fd(a.dependencies))?(be||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(m,Ne,ee),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(m,Ne,ee)),typeof w.componentDidUpdate=="function"&&(l.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof w.componentDidUpdate!="function"||A===a.memoizedProps&&je===a.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===a.memoizedProps&&je===a.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=Ne),w.props=m,w.state=Ne,w.context=ee,m=Ce):(typeof w.componentDidUpdate!="function"||A===a.memoizedProps&&je===a.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===a.memoizedProps&&je===a.memoizedState||(l.flags|=1024),m=!1)}return w=m,nf(a,l),m=(l.flags&128)!==0,w||m?(w=l.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:w.render(),l.flags|=1,a!==null&&m?(l.child=wl(l,a.child,null,y),l.child=wl(l,null,d,y)):mn(a,l,d,y),l.memoizedState=w.state,a=l.child):a=Rr(a,l,y),a}function sw(a,l,d,m){return Mc(),l.flags|=256,mn(a,l,d,m),l.child}var Rp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mp(a){return{baseLanes:a,cachePool:Vb()}}function Pp(a,l,d){return a=a!==null?a.childLanes&~d:0,l&&(a|=ya),a}function nw(a,l,d){var m=l.pendingProps,y=!1,w=(l.flags&128)!==0,A;if((A=w)||(A=a!==null&&a.memoizedState===null?!1:(en.current&2)!==0),A&&(y=!0,l.flags&=-129),A=(l.flags&32)!==0,l.flags&=-33,a===null){if(rs){if(y?ui(l):di(),rs){var U=Ls,ee;if(ee=U){e:{for(ee=U,U=Ja;ee.nodeType!==8;){if(!U){U=null;break e}if(ee=Ba(ee.nextSibling),ee===null){U=null;break e}}U=ee}U!==null?(l.memoizedState={dehydrated:U,treeContext:co!==null?{id:Cr,overflow:Er}:null,retryLane:536870912,hydrationErrors:null},ee=Zn(18,null,null,0),ee.stateNode=U,ee.return=l,l.child=ee,On=l,Ls=null,ee=!0):ee=!1}ee||ho(l)}if(U=l.memoizedState,U!==null&&(U=U.dehydrated,U!==null))return yg(U)?l.lanes=32:l.lanes=536870912,null;Or(l)}return U=m.children,m=m.fallback,y?(di(),y=l.mode,U=af({mode:"hidden",children:U},y),m=lo(m,y,d,null),U.return=l,m.return=l,U.sibling=m,l.child=U,y=l.child,y.memoizedState=Mp(d),y.childLanes=Pp(a,A,d),l.memoizedState=Rp,m):(ui(l),Lp(l,U))}if(ee=a.memoizedState,ee!==null&&(U=ee.dehydrated,U!==null)){if(w)l.flags&256?(ui(l),l.flags&=-257,l=Bp(a,l,d)):l.memoizedState!==null?(di(),l.child=a.child,l.flags|=128,l=null):(di(),y=m.fallback,U=l.mode,m=af({mode:"visible",children:m.children},U),y=lo(y,U,d,null),y.flags|=2,m.return=l,y.return=l,m.sibling=y,l.child=m,wl(l,a.child,null,d),m=l.child,m.memoizedState=Mp(d),m.childLanes=Pp(a,A,d),l.memoizedState=Rp,l=y);else if(ui(l),yg(U)){if(A=U.nextSibling&&U.nextSibling.dataset,A)var be=A.dgst;A=be,m=Error(n(419)),m.stack="",m.digest=A,Pc({value:m,source:null,stack:null}),l=Bp(a,l,d)}else if(cn||Lc(a,l,d,!1),A=(d&a.childLanes)!==0,cn||A){if(A=vs,A!==null&&(m=d&-d,m=(m&42)!==0?1:Kt(m),m=(m&(A.suspendedLanes|d))!==0?0:m,m!==0&&m!==ee.retryLane))throw ee.retryLane=m,ul(a,m),na(A,a,m),Gv;U.data==="$?"||tg(),l=Bp(a,l,d)}else U.data==="$?"?(l.flags|=192,l.child=a.child,l=null):(a=ee.treeContext,Ls=Ba(U.nextSibling),On=l,rs=!0,fo=null,Ja=!1,a!==null&&(pa[ga++]=Cr,pa[ga++]=Er,pa[ga++]=co,Cr=a.id,Er=a.overflow,co=l),l=Lp(l,m.children),l.flags|=4096);return l}return y?(di(),y=m.fallback,U=l.mode,ee=a.child,be=ee.sibling,m=Sr(ee,{mode:"hidden",children:m.children}),m.subtreeFlags=ee.subtreeFlags&65011712,be!==null?y=Sr(be,y):(y=lo(y,U,d,null),y.flags|=2),y.return=l,m.return=l,m.sibling=y,l.child=m,m=y,y=l.child,U=a.child.memoizedState,U===null?U=Mp(d):(ee=U.cachePool,ee!==null?(be=Js._currentValue,ee=ee.parent!==be?{parent:be,pool:be}:ee):ee=Vb(),U={baseLanes:U.baseLanes|d,cachePool:ee}),y.memoizedState=U,y.childLanes=Pp(a,A,d),l.memoizedState=Rp,m):(ui(l),d=a.child,a=d.sibling,d=Sr(d,{mode:"visible",children:m.children}),d.return=l,d.sibling=null,a!==null&&(A=l.deletions,A===null?(l.deletions=[a],l.flags|=16):A.push(a)),l.child=d,l.memoizedState=null,d)}function Lp(a,l){return l=af({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function af(a,l){return a=Zn(22,a,null,l),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function Bp(a,l,d){return wl(l,a.child,null,d),a=Lp(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function aw(a,l,d){a.lanes|=l;var m=a.alternate;m!==null&&(m.lanes|=l),tp(a.return,l,d)}function Fp(a,l,d,m,y){var w=a.memoizedState;w===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:y}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=m,w.tail=d,w.tailMode=y)}function rw(a,l,d){var m=l.pendingProps,y=m.revealOrder,w=m.tail;if(mn(a,l,m.children,d),m=en.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&aw(a,d,l);else if(a.tag===19)aw(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}m&=1}switch(V(en,m),y){case"forwards":for(d=l.child,y=null;d!==null;)a=d.alternate,a!==null&&ef(a)===null&&(y=d),d=d.sibling;d=y,d===null?(y=l.child,l.child=null):(y=d.sibling,d.sibling=null),Fp(l,!1,y,d,w);break;case"backwards":for(d=null,y=l.child,l.child=null;y!==null;){if(a=y.alternate,a!==null&&ef(a)===null){l.child=y;break}a=y.sibling,y.sibling=d,d=y,y=a}Fp(l,!0,d,null,w);break;case"together":Fp(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Rr(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),gi|=l.lanes,(d&l.childLanes)===0)if(a!==null){if(Lc(a,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(n(153));if(l.child!==null){for(a=l.child,d=Sr(a,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,d=d.sibling=Sr(a,a.pendingProps),d.return=l;d.sibling=null}return l.child}function Up(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&Fd(a)))}function Dk(a,l,d){switch(l.tag){case 3:De(l,l.stateNode.containerInfo),ri(l,Js,a.memoizedState.cache),Mc();break;case 27:case 5:re(l);break;case 4:De(l,l.stateNode.containerInfo);break;case 10:ri(l,l.type,l.memoizedProps.value);break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(ui(l),l.flags|=128,null):(d&l.child.childLanes)!==0?nw(a,l,d):(ui(l),a=Rr(a,l,d),a!==null?a.sibling:null);ui(l);break;case 19:var y=(a.flags&128)!==0;if(m=(d&l.childLanes)!==0,m||(Lc(a,l,d,!1),m=(d&l.childLanes)!==0),y){if(m)return rw(a,l,d);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),V(en,en.current),m)break;return null;case 22:case 23:return l.lanes=0,Zv(a,l,d);case 24:ri(l,Js,a.memoizedState.cache)}return Rr(a,l,d)}function iw(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps)cn=!0;else{if(!Up(a,d)&&(l.flags&128)===0)return cn=!1,Dk(a,l,d);cn=(a.flags&131072)!==0}else cn=!1,rs&&(l.flags&1048576)!==0&&Lb(l,Bd,l.index);switch(l.lanes=0,l.tag){case 16:e:{a=l.pendingProps;var m=l.elementType,y=m._init;if(m=y(m._payload),l.type=m,typeof m=="function")Gm(m)?(a=yo(m,a),l.tag=1,l=tw(null,l,m,a,d)):(l.tag=0,l=Op(null,l,m,a,d));else{if(m!=null){if(y=m.$$typeof,y===C){l.tag=11,l=Xv(null,l,m,a,d);break e}else if(y===B){l.tag=14,l=Kv(null,l,m,a,d);break e}}throw l=Y(m)||m,Error(n(306,l,""))}}return l;case 0:return Op(a,l,l.type,l.pendingProps,d);case 1:return m=l.type,y=yo(m,l.pendingProps),tw(a,l,m,y,d);case 3:e:{if(De(l,l.stateNode.containerInfo),a===null)throw Error(n(387));m=l.pendingProps;var w=l.memoizedState;y=w.element,lp(a,l),Vc(l,m,null,d);var A=l.memoizedState;if(m=A.cache,ri(l,Js,m),m!==w.cache&&sp(l,[Js],d,!0),$c(),m=A.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:A.cache},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){l=sw(a,l,m,d);break e}else if(m!==y){y=ha(Error(n(424)),l),Pc(y),l=sw(a,l,m,d);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Ls=Ba(a.firstChild),On=l,rs=!0,fo=null,Ja=!0,d=Fv(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Mc(),m===y){l=Rr(a,l,d);break e}mn(a,l,m,d)}l=l.child}return l;case 26:return nf(a,l),a===null?(d=uj(l.type,null,l.pendingProps,null))?l.memoizedState=d:rs||(d=l.type,a=l.pendingProps,m=bf(fe.current).createElement(d),m[_e]=l,m[Me]=a,gn(m,d,a),ht(m),l.stateNode=m):l.memoizedState=uj(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return re(l),a===null&&rs&&(m=l.stateNode=oj(l.type,l.pendingProps,fe.current),On=l,Ja=!0,y=Ls,vi(l.type)?(bg=y,Ls=Ba(m.firstChild)):Ls=y),mn(a,l,l.pendingProps.children,d),nf(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&rs&&((y=m=Ls)&&(m=aD(m,l.type,l.pendingProps,Ja),m!==null?(l.stateNode=m,On=l,Ls=Ba(m.firstChild),Ja=!1,y=!0):y=!1),y||ho(l)),re(l),y=l.type,w=l.pendingProps,A=a!==null?a.memoizedProps:null,m=w.children,pg(y,w)?m=null:A!==null&&pg(y,A)&&(l.flags|=32),l.memoizedState!==null&&(y=mp(a,l,jk,null,null,d),du._currentValue=y),nf(a,l),mn(a,l,m,d),l.child;case 6:return a===null&&rs&&((a=d=Ls)&&(d=rD(d,l.pendingProps,Ja),d!==null?(l.stateNode=d,On=l,Ls=null,a=!0):a=!1),a||ho(l)),null;case 13:return nw(a,l,d);case 4:return De(l,l.stateNode.containerInfo),m=l.pendingProps,a===null?l.child=wl(l,null,m,d):mn(a,l,m,d),l.child;case 11:return Xv(a,l,l.type,l.pendingProps,d);case 7:return mn(a,l,l.pendingProps,d),l.child;case 8:return mn(a,l,l.pendingProps.children,d),l.child;case 12:return mn(a,l,l.pendingProps.children,d),l.child;case 10:return m=l.pendingProps,ri(l,l.type,m.value),mn(a,l,m.children,d),l.child;case 9:return y=l.type._context,m=l.pendingProps.children,po(l),y=Tn(y),m=m(y),l.flags|=1,mn(a,l,m,d),l.child;case 14:return Kv(a,l,l.type,l.pendingProps,d);case 15:return Qv(a,l,l.type,l.pendingProps,d);case 19:return rw(a,l,d);case 31:return m=l.pendingProps,d=l.mode,m={mode:m.mode,children:m.children},a===null?(d=af(m,d),d.ref=l.ref,l.child=d,d.return=l,l=d):(d=Sr(a.child,m),d.ref=l.ref,l.child=d,d.return=l,l=d),l;case 22:return Zv(a,l,d);case 24:return po(l),m=Tn(Js),a===null?(y=rp(),y===null&&(y=vs,w=np(),y.pooledCache=w,w.refCount++,w!==null&&(y.pooledCacheLanes|=d),y=w),l.memoizedState={parent:m,cache:y},op(l),ri(l,Js,y)):((a.lanes&d)!==0&&(lp(a,l),Vc(l,null,null,d),$c()),y=a.memoizedState,w=l.memoizedState,y.parent!==m?(y={parent:m,cache:m},l.memoizedState=y,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=y),ri(l,Js,m)):(m=w.cache,ri(l,Js,m),m!==y.cache&&sp(l,[Js],d,!0))),mn(a,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(n(156,l.tag))}function Mr(a){a.flags|=4}function ow(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!pj(l)){if(l=xa.current,l!==null&&((Zt&4194048)===Zt?er!==null:(Zt&62914560)!==Zt&&(Zt&536870912)===0||l!==er))throw zc=ip,Ib;a.flags|=8192}}function rf(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?Bt():536870912,a.lanes|=l,Tl|=l)}function Kc(a,l){if(!rs)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function Es(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,m=0;if(l)for(var y=a.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags&65011712,m|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=m,a.childLanes=d,l}function Ak(a,l,d){var m=l.pendingProps;switch(Zm(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Es(l),null;case 1:return Es(l),null;case 3:return d=l.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),Dr(Js),Ie(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(Rc(l)?Mr(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Ub())),Es(l),null;case 26:return d=l.memoizedState,a===null?(Mr(l),d!==null?(Es(l),ow(l,d)):(Es(l),l.flags&=-16777217)):d?d!==a.memoizedState?(Mr(l),Es(l),ow(l,d)):(Es(l),l.flags&=-16777217):(a.memoizedProps!==m&&Mr(l),Es(l),l.flags&=-16777217),null;case 27:Re(l),d=fe.current;var y=l.type;if(a!==null&&l.stateNode!=null)a.memoizedProps!==m&&Mr(l);else{if(!m){if(l.stateNode===null)throw Error(n(166));return Es(l),null}a=J.current,Rc(l)?Bb(l):(a=oj(y,m,d),l.stateNode=a,Mr(l))}return Es(l),null;case 5:if(Re(l),d=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==m&&Mr(l);else{if(!m){if(l.stateNode===null)throw Error(n(166));return Es(l),null}if(a=J.current,Rc(l))Bb(l);else{switch(y=bf(fe.current),a){case 1:a=y.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:a=y.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":a=y.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":a=y.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":a=y.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof m.is=="string"?y.createElement("select",{is:m.is}):y.createElement("select"),m.multiple?a.multiple=!0:m.size&&(a.size=m.size);break;default:a=typeof m.is=="string"?y.createElement(d,{is:m.is}):y.createElement(d)}}a[_e]=l,a[Me]=m;e:for(y=l.child;y!==null;){if(y.tag===5||y.tag===6)a.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===l)break e;for(;y.sibling===null;){if(y.return===null||y.return===l)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}l.stateNode=a;e:switch(gn(a,d,m),d){case"button":case"input":case"select":case"textarea":a=!!m.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Mr(l)}}return Es(l),l.flags&=-16777217,null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==m&&Mr(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(n(166));if(a=fe.current,Rc(l)){if(a=l.stateNode,d=l.memoizedProps,m=null,y=On,y!==null)switch(y.tag){case 27:case 5:m=y.memoizedProps}a[_e]=l,a=!!(a.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||ej(a.nodeValue,d)),a||ho(l)}else a=bf(a).createTextNode(m),a[_e]=l,l.stateNode=a}return Es(l),null;case 13:if(m=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=Rc(l),m!==null&&m.dehydrated!==null){if(a===null){if(!y)throw Error(n(318));if(y=l.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[_e]=l}else Mc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Es(l),y=!1}else y=Ub(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return l.flags&256?(Or(l),l):(Or(l),null)}if(Or(l),(l.flags&128)!==0)return l.lanes=d,l;if(d=m!==null,a=a!==null&&a.memoizedState!==null,d){m=l.child,y=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(y=m.alternate.memoizedState.cachePool.pool);var w=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(w=m.memoizedState.cachePool.pool),w!==y&&(m.flags|=2048)}return d!==a&&d&&(l.child.flags|=8192),rf(l,l.updateQueue),Es(l),null;case 4:return Ie(),a===null&&ug(l.stateNode.containerInfo),Es(l),null;case 10:return Dr(l.type),Es(l),null;case 19:if(ne(en),y=l.memoizedState,y===null)return Es(l),null;if(m=(l.flags&128)!==0,w=y.rendering,w===null)if(m)Kc(y,!1);else{if(Bs!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(w=ef(a),w!==null){for(l.flags|=128,Kc(y,!1),a=w.updateQueue,l.updateQueue=a,rf(l,a),l.subtreeFlags=0,a=d,d=l.child;d!==null;)Pb(d,a),d=d.sibling;return V(en,en.current&1|2),l.child}a=a.sibling}y.tail!==null&&Be()>cf&&(l.flags|=128,m=!0,Kc(y,!1),l.lanes=4194304)}else{if(!m)if(a=ef(w),a!==null){if(l.flags|=128,m=!0,a=a.updateQueue,l.updateQueue=a,rf(l,a),Kc(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!rs)return Es(l),null}else 2*Be()-y.renderingStartTime>cf&&d!==536870912&&(l.flags|=128,m=!0,Kc(y,!1),l.lanes=4194304);y.isBackwards?(w.sibling=l.child,l.child=w):(a=y.last,a!==null?a.sibling=w:l.child=w,y.last=w)}return y.tail!==null?(l=y.tail,y.rendering=l,y.tail=l.sibling,y.renderingStartTime=Be(),l.sibling=null,a=en.current,V(en,m?a&1|2:a&1),l):(Es(l),null);case 22:case 23:return Or(l),fp(),m=l.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(d&536870912)!==0&&(l.flags&128)===0&&(Es(l),l.subtreeFlags&6&&(l.flags|=8192)):Es(l),d=l.updateQueue,d!==null&&rf(l,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048),a!==null&&ne(go),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Dr(Js),Es(l),null;case 25:return null;case 30:return null}throw Error(n(156,l.tag))}function Ok(a,l){switch(Zm(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Dr(Js),Ie(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return Re(l),null;case 13:if(Or(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Mc()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return ne(en),null;case 4:return Ie(),null;case 10:return Dr(l.type),null;case 22:case 23:return Or(l),fp(),a!==null&&ne(go),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return Dr(Js),null;case 25:return null;default:return null}}function lw(a,l){switch(Zm(l),l.tag){case 3:Dr(Js),Ie();break;case 26:case 27:case 5:Re(l);break;case 4:Ie();break;case 13:Or(l);break;case 19:ne(en);break;case 10:Dr(l.type);break;case 22:case 23:Or(l),fp(),a!==null&&ne(go);break;case 24:Dr(Js)}}function Qc(a,l){try{var d=l.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var y=m.next;d=y;do{if((d.tag&a)===a){m=void 0;var w=d.create,A=d.inst;m=w(),A.destroy=m}d=d.next}while(d!==y)}}catch(U){ys(l,l.return,U)}}function fi(a,l,d){try{var m=l.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var w=y.next;m=w;do{if((m.tag&a)===a){var A=m.inst,U=A.destroy;if(U!==void 0){A.destroy=void 0,y=l;var ee=d,be=U;try{be()}catch(Ce){ys(y,ee,Ce)}}}m=m.next}while(m!==w)}}catch(Ce){ys(l,l.return,Ce)}}function cw(a){var l=a.updateQueue;if(l!==null){var d=a.stateNode;try{Kb(l,d)}catch(m){ys(a,a.return,m)}}}function uw(a,l,d){d.props=yo(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(m){ys(a,l,m)}}function Zc(a,l){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof d=="function"?a.refCleanup=d(m):d.current=m}}catch(y){ys(a,l,y)}}function tr(a,l){var d=a.ref,m=a.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(y){ys(a,l,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(y){ys(a,l,y)}else d.current=null}function dw(a){var l=a.type,d=a.memoizedProps,m=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(y){ys(a,a.return,y)}}function zp(a,l,d){try{var m=a.stateNode;Jk(m,a.type,d,l),m[Me]=l}catch(y){ys(a,a.return,y)}}function fw(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&vi(a.type)||a.tag===4}function Hp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||fw(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&vi(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function $p(a,l,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(a),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=yf));else if(m!==4&&(m===27&&vi(a.type)&&(d=a.stateNode,l=null),a=a.child,a!==null))for($p(a,l,d),a=a.sibling;a!==null;)$p(a,l,d),a=a.sibling}function of(a,l,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?d.insertBefore(a,l):d.appendChild(a);else if(m!==4&&(m===27&&vi(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(of(a,l,d),a=a.sibling;a!==null;)of(a,l,d),a=a.sibling}function hw(a){var l=a.stateNode,d=a.memoizedProps;try{for(var m=a.type,y=l.attributes;y.length;)l.removeAttributeNode(y[0]);gn(l,m,d),l[_e]=a,l[Me]=d}catch(w){ys(a,a.return,w)}}var Pr=!1,zs=!1,Vp=!1,mw=typeof WeakSet=="function"?WeakSet:Set,un=null;function Rk(a,l){if(a=a.containerInfo,hg=Tf,a=Tb(a),Hm(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var y=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{d.nodeType,w.nodeType}catch(bt){d=null;break e}var A=0,U=-1,ee=-1,be=0,Ce=0,Ae=a,je=null;t:for(;;){for(var Ne;Ae!==d||y!==0&&Ae.nodeType!==3||(U=A+y),Ae!==w||m!==0&&Ae.nodeType!==3||(ee=A+m),Ae.nodeType===3&&(A+=Ae.nodeValue.length),(Ne=Ae.firstChild)!==null;)je=Ae,Ae=Ne;for(;;){if(Ae===a)break t;if(je===d&&++be===y&&(U=A),je===w&&++Ce===m&&(ee=A),(Ne=Ae.nextSibling)!==null)break;Ae=je,je=Ae.parentNode}Ae=Ne}d=U===-1||ee===-1?null:{start:U,end:ee}}else d=null}d=d||{start:0,end:0}}else d=null;for(mg={focusedElem:a,selectionRange:d},Tf=!1,un=l;un!==null;)if(l=un,a=l.child,(l.subtreeFlags&1024)!==0&&a!==null)a.return=l,un=a;else for(;un!==null;){switch(l=un,w=l.alternate,a=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&w!==null){a=void 0,d=l,y=w.memoizedProps,w=w.memoizedState,m=d.stateNode;try{var _t=yo(d.type,y,d.elementType===d.type);a=m.getSnapshotBeforeUpdate(_t,w),m.__reactInternalSnapshotBeforeUpdate=a}catch(bt){ys(d,d.return,bt)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,d=a.nodeType,d===9)xg(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":xg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=l.sibling,a!==null){a.return=l.return,un=a;break}un=l.return}}function pw(a,l,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:hi(a,d),m&4&&Qc(5,d);break;case 1:if(hi(a,d),m&4)if(a=d.stateNode,l===null)try{a.componentDidMount()}catch(A){ys(d,d.return,A)}else{var y=yo(d.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(y,l,a.__reactInternalSnapshotBeforeUpdate)}catch(A){ys(d,d.return,A)}}m&64&&cw(d),m&512&&Zc(d,d.return);break;case 3:if(hi(a,d),m&64&&(a=d.updateQueue,a!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{Kb(a,l)}catch(A){ys(d,d.return,A)}}break;case 27:l===null&&m&4&&hw(d);case 26:case 5:hi(a,d),l===null&&m&4&&dw(d),m&512&&Zc(d,d.return);break;case 12:hi(a,d);break;case 13:hi(a,d),m&4&&yw(a,d),m&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=$k.bind(null,d),iD(a,d))));break;case 22:if(m=d.memoizedState!==null||Pr,!m){l=l!==null&&l.memoizedState!==null||zs,y=Pr;var w=zs;Pr=m,(zs=l)&&!w?mi(a,d,(d.subtreeFlags&8772)!==0):hi(a,d),Pr=y,zs=w}break;case 30:break;default:hi(a,d)}}function gw(a){var l=a.alternate;l!==null&&(a.alternate=null,gw(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&St(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Ts=null,Hn=!1;function Lr(a,l,d){for(d=d.child;d!==null;)xw(a,l,d),d=d.sibling}function xw(a,l,d){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(We,d)}catch(w){}switch(d.tag){case 26:zs||tr(d,l),Lr(a,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:zs||tr(d,l);var m=Ts,y=Hn;vi(d.type)&&(Ts=d.stateNode,Hn=!1),Lr(a,l,d),ou(d.stateNode),Ts=m,Hn=y;break;case 5:zs||tr(d,l);case 6:if(m=Ts,y=Hn,Ts=null,Lr(a,l,d),Ts=m,Hn=y,Ts!==null)if(Hn)try{(Ts.nodeType===9?Ts.body:Ts.nodeName==="HTML"?Ts.ownerDocument.body:Ts).removeChild(d.stateNode)}catch(w){ys(d,l,w)}else try{Ts.removeChild(d.stateNode)}catch(w){ys(d,l,w)}break;case 18:Ts!==null&&(Hn?(a=Ts,rj(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),pu(a)):rj(Ts,d.stateNode));break;case 4:m=Ts,y=Hn,Ts=d.stateNode.containerInfo,Hn=!0,Lr(a,l,d),Ts=m,Hn=y;break;case 0:case 11:case 14:case 15:zs||fi(2,d,l),zs||fi(4,d,l),Lr(a,l,d);break;case 1:zs||(tr(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"&&uw(d,l,m)),Lr(a,l,d);break;case 21:Lr(a,l,d);break;case 22:zs=(m=zs)||d.memoizedState!==null,Lr(a,l,d),zs=m;break;default:Lr(a,l,d)}}function yw(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{pu(a)}catch(d){ys(l,l.return,d)}}function Mk(a){switch(a.tag){case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new mw),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new mw),l;default:throw Error(n(435,a.tag))}}function Ip(a,l){var d=Mk(a);l.forEach(function(m){var y=Vk.bind(null,a,m);d.has(m)||(d.add(m),m.then(y,y))})}function Jn(a,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var y=d[m],w=a,A=l,U=A;e:for(;U!==null;){switch(U.tag){case 27:if(vi(U.type)){Ts=U.stateNode,Hn=!1;break e}break;case 5:Ts=U.stateNode,Hn=!1;break e;case 3:case 4:Ts=U.stateNode.containerInfo,Hn=!0;break e}U=U.return}if(Ts===null)throw Error(n(160));xw(w,A,y),Ts=null,Hn=!1,w=y.alternate,w!==null&&(w.return=null),y.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)bw(l,a),l=l.sibling}var La=null;function bw(a,l){var d=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Jn(l,a),ea(a),m&4&&(fi(3,a,a.return),Qc(3,a),fi(5,a,a.return));break;case 1:Jn(l,a),ea(a),m&512&&(zs||d===null||tr(d,d.return)),m&64&&Pr&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var y=La;if(Jn(l,a),ea(a),m&512&&(zs||d===null||tr(d,d.return)),m&4){var w=d!==null?d.memoizedState:null;if(m=a.memoizedState,d===null)if(m===null)if(a.stateNode===null){e:{m=a.type,d=a.memoizedProps,y=y.ownerDocument||y;t:switch(m){case"title":w=y.getElementsByTagName("title")[0],(!w||w[ft]||w[_e]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=y.createElement(m),y.head.insertBefore(w,y.querySelector("head > title"))),gn(w,m,d),w[_e]=a,ht(w),m=w;break e;case"link":var A=hj("link","href",y).get(m+(d.href||""));if(A){for(var U=0;U<A.length;U++)if(w=A[U],w.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&w.getAttribute("rel")===(d.rel==null?null:d.rel)&&w.getAttribute("title")===(d.title==null?null:d.title)&&w.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){A.splice(U,1);break t}}w=y.createElement(m),gn(w,m,d),y.head.appendChild(w);break;case"meta":if(A=hj("meta","content",y).get(m+(d.content||""))){for(U=0;U<A.length;U++)if(w=A[U],w.getAttribute("content")===(d.content==null?null:""+d.content)&&w.getAttribute("name")===(d.name==null?null:d.name)&&w.getAttribute("property")===(d.property==null?null:d.property)&&w.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&w.getAttribute("charset")===(d.charSet==null?null:d.charSet)){A.splice(U,1);break t}}w=y.createElement(m),gn(w,m,d),y.head.appendChild(w);break;default:throw Error(n(468,m))}w[_e]=a,ht(w),m=w}a.stateNode=m}else mj(y,a.type,a.stateNode);else a.stateNode=fj(y,m,a.memoizedProps);else w!==m?(w===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):w.count--,m===null?mj(y,a.type,a.stateNode):fj(y,m,a.memoizedProps)):m===null&&a.stateNode!==null&&zp(a,a.memoizedProps,d.memoizedProps)}break;case 27:Jn(l,a),ea(a),m&512&&(zs||d===null||tr(d,d.return)),d!==null&&m&4&&zp(a,a.memoizedProps,d.memoizedProps);break;case 5:if(Jn(l,a),ea(a),m&512&&(zs||d===null||tr(d,d.return)),a.flags&32){y=a.stateNode;try{Jr(y,"")}catch(Ne){ys(a,a.return,Ne)}}m&4&&a.stateNode!=null&&(y=a.memoizedProps,zp(a,y,d!==null?d.memoizedProps:y)),m&1024&&(Vp=!0);break;case 6:if(Jn(l,a),ea(a),m&4){if(a.stateNode===null)throw Error(n(162));m=a.memoizedProps,d=a.stateNode;try{d.nodeValue=m}catch(Ne){ys(a,a.return,Ne)}}break;case 3:if(jf=null,y=La,La=vf(l.containerInfo),Jn(l,a),La=y,ea(a),m&4&&d!==null&&d.memoizedState.isDehydrated)try{pu(l.containerInfo)}catch(Ne){ys(a,a.return,Ne)}Vp&&(Vp=!1,vw(a));break;case 4:m=La,La=vf(a.stateNode.containerInfo),Jn(l,a),ea(a),La=m;break;case 12:Jn(l,a),ea(a);break;case 13:Jn(l,a),ea(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Kp=Be()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Ip(a,m)));break;case 22:y=a.memoizedState!==null;var ee=d!==null&&d.memoizedState!==null,be=Pr,Ce=zs;if(Pr=be||y,zs=Ce||ee,Jn(l,a),zs=Ce,Pr=be,ea(a),m&8192)e:for(l=a.stateNode,l._visibility=y?l._visibility&-2:l._visibility|1,y&&(d===null||ee||Pr||zs||bo(a)),d=null,l=a;;){if(l.tag===5||l.tag===26){if(d===null){ee=d=l;try{if(w=ee.stateNode,y)A=w.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{U=ee.stateNode;var Ae=ee.memoizedProps.style,je=Ae!=null&&Ae.hasOwnProperty("display")?Ae.display:null;U.style.display=je==null||typeof je=="boolean"?"":(""+je).trim()}}catch(Ne){ys(ee,ee.return,Ne)}}}else if(l.tag===6){if(d===null){ee=l;try{ee.stateNode.nodeValue=y?"":ee.memoizedProps}catch(Ne){ys(ee,ee.return,Ne)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=a.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,Ip(a,d))));break;case 19:Jn(l,a),ea(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Ip(a,m)));break;case 30:break;case 21:break;default:Jn(l,a),ea(a)}}function ea(a){var l=a.flags;if(l&2){try{for(var d,m=a.return;m!==null;){if(fw(m)){d=m;break}m=m.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var y=d.stateNode,w=Hp(a);of(a,w,y);break;case 5:var A=d.stateNode;d.flags&32&&(Jr(A,""),d.flags&=-33);var U=Hp(a);of(a,U,A);break;case 3:case 4:var ee=d.stateNode.containerInfo,be=Hp(a);$p(a,be,ee);break;default:throw Error(n(161))}}catch(Ce){ys(a,a.return,Ce)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function vw(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;vw(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function hi(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)pw(a,l.alternate,l),l=l.sibling}function bo(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:fi(4,l,l.return),bo(l);break;case 1:tr(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&uw(l,l.return,d),bo(l);break;case 27:ou(l.stateNode);case 26:case 5:tr(l,l.return),bo(l);break;case 22:l.memoizedState===null&&bo(l);break;case 30:bo(l);break;default:bo(l)}a=a.sibling}}function mi(a,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,y=a,w=l,A=w.flags;switch(w.tag){case 0:case 11:case 15:mi(y,w,d),Qc(4,w);break;case 1:if(mi(y,w,d),m=w,y=m.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(be){ys(m,m.return,be)}if(m=w,y=m.updateQueue,y!==null){var U=m.stateNode;try{var ee=y.shared.hiddenCallbacks;if(ee!==null)for(y.shared.hiddenCallbacks=null,y=0;y<ee.length;y++)Xb(ee[y],U)}catch(be){ys(m,m.return,be)}}d&&A&64&&cw(w),Zc(w,w.return);break;case 27:hw(w);case 26:case 5:mi(y,w,d),d&&m===null&&A&4&&dw(w),Zc(w,w.return);break;case 12:mi(y,w,d);break;case 13:mi(y,w,d),d&&A&4&&yw(y,w);break;case 22:w.memoizedState===null&&mi(y,w,d),Zc(w,w.return);break;case 30:break;default:mi(y,w,d)}l=l.sibling}}function qp(a,l){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&Bc(d))}function Wp(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Bc(a))}function sr(a,l,d,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)ww(a,l,d,m),l=l.sibling}function ww(a,l,d,m){var y=l.flags;switch(l.tag){case 0:case 11:case 15:sr(a,l,d,m),y&2048&&Qc(9,l);break;case 1:sr(a,l,d,m);break;case 3:sr(a,l,d,m),y&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Bc(a)));break;case 12:if(y&2048){sr(a,l,d,m),a=l.stateNode;try{var w=l.memoizedProps,A=w.id,U=w.onPostCommit;typeof U=="function"&&U(A,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(ee){ys(l,l.return,ee)}}else sr(a,l,d,m);break;case 13:sr(a,l,d,m);break;case 23:break;case 22:w=l.stateNode,A=l.alternate,l.memoizedState!==null?w._visibility&2?sr(a,l,d,m):Jc(a,l):w._visibility&2?sr(a,l,d,m):(w._visibility|=2,jl(a,l,d,m,(l.subtreeFlags&10256)!==0)),y&2048&&qp(A,l);break;case 24:sr(a,l,d,m),y&2048&&Wp(l.alternate,l);break;default:sr(a,l,d,m)}}function jl(a,l,d,m,y){for(y=y&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var w=a,A=l,U=d,ee=m,be=A.flags;switch(A.tag){case 0:case 11:case 15:jl(w,A,U,ee,y),Qc(8,A);break;case 23:break;case 22:var Ce=A.stateNode;A.memoizedState!==null?Ce._visibility&2?jl(w,A,U,ee,y):Jc(w,A):(Ce._visibility|=2,jl(w,A,U,ee,y)),y&&be&2048&&qp(A.alternate,A);break;case 24:jl(w,A,U,ee,y),y&&be&2048&&Wp(A.alternate,A);break;default:jl(w,A,U,ee,y)}l=l.sibling}}function Jc(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=a,m=l,y=m.flags;switch(m.tag){case 22:Jc(d,m),y&2048&&qp(m.alternate,m);break;case 24:Jc(d,m),y&2048&&Wp(m.alternate,m);break;default:Jc(d,m)}l=l.sibling}}var eu=8192;function Nl(a){if(a.subtreeFlags&eu)for(a=a.child;a!==null;)jw(a),a=a.sibling}function jw(a){switch(a.tag){case 26:Nl(a),a.flags&eu&&a.memoizedState!==null&&bD(La,a.memoizedState,a.memoizedProps);break;case 5:Nl(a);break;case 3:case 4:var l=La;La=vf(a.stateNode.containerInfo),Nl(a),La=l;break;case 22:a.memoizedState===null&&(l=a.alternate,l!==null&&l.memoizedState!==null?(l=eu,eu=16777216,Nl(a),eu=l):Nl(a));break;default:Nl(a)}}function Nw(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function tu(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];un=m,Tw(m,a)}Nw(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)_w(a),a=a.sibling}function _w(a){switch(a.tag){case 0:case 11:case 15:tu(a),a.flags&2048&&fi(9,a,a.return);break;case 3:tu(a);break;case 12:tu(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,lf(a)):tu(a);break;default:tu(a)}}function lf(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];un=m,Tw(m,a)}Nw(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:fi(8,l,l.return),lf(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,lf(l));break;default:lf(l)}a=a.sibling}}function Tw(a,l){for(;un!==null;){var d=un;switch(d.tag){case 0:case 11:case 15:fi(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Bc(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,un=m;else e:for(d=a;un!==null;){m=un;var y=m.sibling,w=m.return;if(gw(m),m===d){un=null;break e}if(y!==null){y.return=w,un=y;break e}un=w}}}var Pk={getCacheForType:function(a){var l=Tn(Js),d=l.data.get(a);return d===void 0&&(d=a(),l.data.set(a,d)),d}},Lk=typeof WeakMap=="function"?WeakMap:Map,os=0,vs=null,It=null,Zt=0,ls=0,ta=null,pi=!1,_l=!1,Yp=!1,Br=0,Bs=0,gi=0,vo=0,Gp=0,ya=0,Tl=0,su=null,$n=null,Xp=!1,Kp=0,cf=1/0,uf=null,xi=null,pn=0,yi=null,Sl=null,Cl=0,Qp=0,Zp=null,Sw=null,nu=0,Jp=null;function sa(){if((os&2)!==0&&Zt!==0)return Zt&-Zt;if(z.T!==null){var a=ml;return a!==0?a:ig()}return se()}function Cw(){ya===0&&(ya=(Zt&536870912)===0||rs?tt():536870912);var a=xa.current;return a!==null&&(a.flags|=32),ya}function na(a,l,d){(a===vs&&(ls===2||ls===9)||a.cancelPendingCommit!==null)&&(El(a,0),bi(a,Zt,ya,!1)),kt(a,d),((os&2)===0||a!==vs)&&(a===vs&&((os&2)===0&&(vo|=d),Bs===4&&bi(a,Zt,ya,!1)),nr(a))}function Ew(a,l,d){if((os&6)!==0)throw Error(n(327));var m=!d&&(l&124)===0&&(l&a.expiredLanes)===0||Is(a,l),y=m?Uk(a,l):sg(a,l,!0),w=m;do{if(y===0){_l&&!m&&bi(a,l,0,!1);break}else{if(d=a.current.alternate,w&&!Bk(d)){y=sg(a,l,!1),w=!1;continue}if(y===2){if(w=l,a.errorRecoveryDisabledLanes&w)var A=0;else A=a.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){l=A;e:{var U=a;y=su;var ee=U.current.memoizedState.isDehydrated;if(ee&&(El(U,A).flags|=256),A=sg(U,A,!1),A!==2){if(Yp&&!ee){U.errorRecoveryDisabledLanes|=w,vo|=w,y=4;break e}w=$n,$n=y,w!==null&&($n===null?$n=w:$n.push.apply($n,w))}y=A}if(w=!1,y!==2)continue}}if(y===1){El(a,0),bi(a,l,0,!0);break}e:{switch(m=a,w=y,w){case 0:case 1:throw Error(n(345));case 4:if((l&4194048)!==l)break;case 6:bi(m,l,ya,!pi);break e;case 2:$n=null;break;case 3:case 5:break;default:throw Error(n(329))}if((l&62914560)===l&&(y=Kp+300-Be(),10<y)){if(bi(m,l,ya,!pi),is(m,0,!0)!==0)break e;m.timeoutHandle=nj(kw.bind(null,m,d,$n,uf,Xp,l,ya,vo,Tl,pi,w,2,-0,0),y);break e}kw(m,d,$n,uf,Xp,l,ya,vo,Tl,pi,w,0,-0,0)}}break}while(!0);nr(a)}function kw(a,l,d,m,y,w,A,U,ee,be,Ce,Ae,je,Ne){if(a.timeoutHandle=-1,Ae=l.subtreeFlags,(Ae&8192||(Ae&16785408)===16785408)&&(uu={stylesheets:null,count:0,unsuspend:yD},jw(l),Ae=vD(),Ae!==null)){a.cancelPendingCommit=Ae(Lw.bind(null,a,l,w,d,m,y,A,U,ee,Ce,1,je,Ne)),bi(a,w,A,!be);return}Lw(a,l,w,d,m,y,A,U,ee)}function Bk(a){for(var l=a;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var y=d[m],w=y.getSnapshot;y=y.value;try{if(!Qn(w(),y))return!1}catch(A){return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function bi(a,l,d,m){l&=~Gp,l&=~vo,a.suspendedLanes|=l,a.pingedLanes&=~l,m&&(a.warmLanes|=l),m=a.expirationTimes;for(var y=l;0<y;){var w=31-jt(y),A=1<<w;m[w]=-1,y&=~A}d!==0&&st(a,d,l)}function df(){return(os&6)===0?(au(0),!1):!0}function eg(){if(It!==null){if(ls===0)var a=It.return;else a=It,kr=mo=null,xp(a),vl=null,Gc=0,a=It;for(;a!==null;)lw(a.alternate,a),a=a.return;It=null}}function El(a,l){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,tD(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),eg(),vs=a,It=d=Sr(a.current,null),Zt=l,ls=0,ta=null,pi=!1,_l=Is(a,l),Yp=!1,Tl=ya=Gp=vo=gi=Bs=0,$n=su=null,Xp=!1,(l&8)!==0&&(l|=l&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=l;0<m;){var y=31-jt(m),w=1<<y;l|=a[y],m&=~w}return Br=l,Od(),d}function Dw(a,l){Ft=null,z.H=Qd,l===Uc||l===Hd?(l=Yb(),ls=3):l===Ib?(l=Yb(),ls=4):ls=l===Gv?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,ta=l,It===null&&(Bs=1,sf(a,ha(l,a.current)))}function Aw(){var a=z.H;return z.H=Qd,a===null?Qd:a}function Ow(){var a=z.A;return z.A=Pk,a}function tg(){Bs=4,pi||(Zt&4194048)!==Zt&&xa.current!==null||(_l=!0),(gi&134217727)===0&&(vo&134217727)===0||vs===null||bi(vs,Zt,ya,!1)}function sg(a,l,d){var m=os;os|=2;var y=Aw(),w=Ow();(vs!==a||Zt!==l)&&(uf=null,El(a,l)),l=!1;var A=Bs;e:do try{if(ls!==0&&It!==null){var U=It,ee=ta;switch(ls){case 8:eg(),A=6;break e;case 3:case 2:case 9:case 6:xa.current===null&&(l=!0);var be=ls;if(ls=0,ta=null,kl(a,U,ee,be),d&&_l){A=0;break e}break;default:be=ls,ls=0,ta=null,kl(a,U,ee,be)}}Fk(),A=Bs;break}catch(Ce){Dw(a,Ce)}while(!0);return l&&a.shellSuspendCounter++,kr=mo=null,os=m,z.H=y,z.A=w,It===null&&(vs=null,Zt=0,Od()),A}function Fk(){for(;It!==null;)Rw(It)}function Uk(a,l){var d=os;os|=2;var m=Aw(),y=Ow();vs!==a||Zt!==l?(uf=null,cf=Be()+500,El(a,l)):_l=Is(a,l);e:do try{if(ls!==0&&It!==null){l=It;var w=ta;t:switch(ls){case 1:ls=0,ta=null,kl(a,l,w,1);break;case 2:case 9:if(qb(w)){ls=0,ta=null,Mw(l);break}l=function(){ls!==2&&ls!==9||vs!==a||(ls=7),nr(a)},w.then(l,l);break e;case 3:ls=7;break e;case 4:ls=5;break e;case 7:qb(w)?(ls=0,ta=null,Mw(l)):(ls=0,ta=null,kl(a,l,w,7));break;case 5:var A=null;switch(It.tag){case 26:A=It.memoizedState;case 5:case 27:var U=It;if(!A||pj(A)){ls=0,ta=null;var ee=U.sibling;if(ee!==null)It=ee;else{var be=U.return;be!==null?(It=be,ff(be)):It=null}break t}}ls=0,ta=null,kl(a,l,w,5);break;case 6:ls=0,ta=null,kl(a,l,w,6);break;case 8:eg(),Bs=6;break e;default:throw Error(n(462))}}zk();break}catch(Ce){Dw(a,Ce)}while(!0);return kr=mo=null,z.H=m,z.A=y,os=d,It!==null?0:(vs=null,Zt=0,Od(),Bs)}function zk(){for(;It!==null&&!dt();)Rw(It)}function Rw(a){var l=iw(a.alternate,a,Br);a.memoizedProps=a.pendingProps,l===null?ff(a):It=l}function Mw(a){var l=a,d=l.alternate;switch(l.tag){case 15:case 0:l=ew(d,l,l.pendingProps,l.type,void 0,Zt);break;case 11:l=ew(d,l,l.pendingProps,l.type.render,l.ref,Zt);break;case 5:xp(l);default:lw(d,l),l=It=Pb(l,Br),l=iw(d,l,Br)}a.memoizedProps=a.pendingProps,l===null?ff(a):It=l}function kl(a,l,d,m){kr=mo=null,xp(l),vl=null,Gc=0;var y=l.return;try{if(kk(a,y,l,d,Zt)){Bs=1,sf(a,ha(d,a.current)),It=null;return}}catch(w){if(y!==null)throw It=y,w;Bs=1,sf(a,ha(d,a.current)),It=null;return}l.flags&32768?(rs||m===1?a=!0:_l||(Zt&536870912)!==0?a=!1:(pi=a=!0,(m===2||m===9||m===3||m===6)&&(m=xa.current,m!==null&&m.tag===13&&(m.flags|=16384))),Pw(l,a)):ff(l)}function ff(a){var l=a;do{if((l.flags&32768)!==0){Pw(l,pi);return}a=l.return;var d=Ak(l.alternate,l,Br);if(d!==null){It=d;return}if(l=l.sibling,l!==null){It=l;return}It=l=a}while(l!==null);Bs===0&&(Bs=5)}function Pw(a,l){do{var d=Ok(a.alternate,a);if(d!==null){d.flags&=32767,It=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(a=a.sibling,a!==null)){It=a;return}It=a=d}while(a!==null);Bs=6,It=null}function Lw(a,l,d,m,y,w,A,U,ee){a.cancelPendingCommit=null;do hf();while(pn!==0);if((os&6)!==0)throw Error(n(327));if(l!==null){if(l===a.current)throw Error(n(177));if(w=l.lanes|l.childLanes,w|=Wm,as(a,d,w,A,U,ee),a===vs&&(It=vs=null,Zt=0),Sl=l,yi=a,Cl=d,Qp=w,Zp=y,Sw=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,Ik(me,function(){return Hw(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=z.T,z.T=null,y=Z.p,Z.p=2,A=os,os|=4;try{Rk(a,l,d)}finally{os=A,Z.p=y,z.T=m}}pn=1,Bw(),Fw(),Uw()}}function Bw(){if(pn===1){pn=0;var a=yi,l=Sl,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=z.T,z.T=null;var m=Z.p;Z.p=2;var y=os;os|=4;try{bw(l,a);var w=mg,A=Tb(a.containerInfo),U=w.focusedElem,ee=w.selectionRange;if(A!==U&&U&&U.ownerDocument&&_b(U.ownerDocument.documentElement,U)){if(ee!==null&&Hm(U)){var be=ee.start,Ce=ee.end;if(Ce===void 0&&(Ce=be),"selectionStart"in U)U.selectionStart=be,U.selectionEnd=Math.min(Ce,U.value.length);else{var Ae=U.ownerDocument||document,je=Ae&&Ae.defaultView||window;if(je.getSelection){var Ne=je.getSelection(),_t=U.textContent.length,bt=Math.min(ee.start,_t),ps=ee.end===void 0?bt:Math.min(ee.end,_t);!Ne.extend&&bt>ps&&(A=ps,ps=bt,bt=A);var he=Nb(U,bt),le=Nb(U,ps);if(he&&le&&(Ne.rangeCount!==1||Ne.anchorNode!==he.node||Ne.anchorOffset!==he.offset||Ne.focusNode!==le.node||Ne.focusOffset!==le.offset)){var ye=Ae.createRange();ye.setStart(he.node,he.offset),Ne.removeAllRanges(),bt>ps?(Ne.addRange(ye),Ne.extend(le.node,le.offset)):(ye.setEnd(le.node,le.offset),Ne.addRange(ye))}}}}for(Ae=[],Ne=U;Ne=Ne.parentNode;)Ne.nodeType===1&&Ae.push({element:Ne,left:Ne.scrollLeft,top:Ne.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<Ae.length;U++){var ke=Ae[U];ke.element.scrollLeft=ke.left,ke.element.scrollTop=ke.top}}Tf=!!hg,mg=hg=null}finally{os=y,Z.p=m,z.T=d}}a.current=l,pn=2}}function Fw(){if(pn===2){pn=0;var a=yi,l=Sl,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=z.T,z.T=null;var m=Z.p;Z.p=2;var y=os;os|=4;try{pw(a,l.alternate,l)}finally{os=y,Z.p=m,z.T=d}}pn=3}}function Uw(){if(pn===4||pn===3){pn=0,Ge();var a=yi,l=Sl,d=Cl,m=Sw;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?pn=5:(pn=0,Sl=yi=null,zw(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(xi=null),Jt(d),l=l.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(We,l,void 0,(l.current.flags&128)===128)}catch(ee){}if(m!==null){l=z.T,y=Z.p,Z.p=2,z.T=null;try{for(var w=a.onRecoverableError,A=0;A<m.length;A++){var U=m[A];w(U.value,{componentStack:U.stack})}}finally{z.T=l,Z.p=y}}(Cl&3)!==0&&hf(),nr(a),y=a.pendingLanes,(d&4194090)!==0&&(y&42)!==0?a===Jp?nu++:(nu=0,Jp=a):nu=0,au(0)}}function zw(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,Bc(l)))}function hf(a){return Bw(),Fw(),Uw(),Hw()}function Hw(){if(pn!==5)return!1;var a=yi,l=Qp;Qp=0;var d=Jt(Cl),m=z.T,y=Z.p;try{Z.p=32>d?32:d,z.T=null,d=Zp,Zp=null;var w=yi,A=Cl;if(pn=0,Sl=yi=null,Cl=0,(os&6)!==0)throw Error(n(331));var U=os;if(os|=4,_w(w.current),ww(w,w.current,A,d),os=U,au(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(We,w)}catch(ee){}return!0}finally{Z.p=y,z.T=m,zw(a,l)}}function $w(a,l,d){l=ha(d,l),l=Ap(a.stateNode,l,2),a=li(a,l,2),a!==null&&(kt(a,2),nr(a))}function ys(a,l,d){if(a.tag===3)$w(a,a,d);else for(;l!==null;){if(l.tag===3){$w(l,a,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(xi===null||!xi.has(m))){a=ha(d,a),d=Wv(2),m=li(l,d,2),m!==null&&(Yv(d,m,l,a),kt(m,2),nr(m));break}}l=l.return}}function ng(a,l,d){var m=a.pingCache;if(m===null){m=a.pingCache=new Lk;var y=new Set;m.set(l,y)}else y=m.get(l),y===void 0&&(y=new Set,m.set(l,y));y.has(d)||(Yp=!0,y.add(d),a=Hk.bind(null,a,l,d),l.then(a,a))}function Hk(a,l,d){var m=a.pingCache;m!==null&&m.delete(l),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,vs===a&&(Zt&d)===d&&(Bs===4||Bs===3&&(Zt&62914560)===Zt&&300>Be()-Kp?(os&2)===0&&El(a,0):Gp|=d,Tl===Zt&&(Tl=0)),nr(a)}function Vw(a,l){l===0&&(l=Bt()),a=ul(a,l),a!==null&&(kt(a,l),nr(a))}function $k(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),Vw(a,d)}function Vk(a,l){var d=0;switch(a.tag){case 13:var m=a.stateNode,y=a.memoizedState;y!==null&&(d=y.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(n(314))}m!==null&&m.delete(l),Vw(a,d)}function Ik(a,l){return Xe(a,l)}var mf=null,Dl=null,ag=!1,pf=!1,rg=!1,wo=0;function nr(a){a!==Dl&&a.next===null&&(Dl===null?mf=Dl=a:Dl=Dl.next=a),pf=!0,ag||(ag=!0,Wk())}function au(a,l){if(!rg&&pf){rg=!0;do for(var d=!1,m=mf;m!==null;){if(a!==0){var y=m.pendingLanes;if(y===0)var w=0;else{var A=m.suspendedLanes,U=m.pingedLanes;w=(1<<31-jt(42|a)+1)-1,w&=y&~(A&~U),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(d=!0,Yw(m,w))}else w=Zt,w=is(m,m===vs?w:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(w&3)===0||Is(m,w)||(d=!0,Yw(m,w));m=m.next}while(d);rg=!1}}function qk(){Iw()}function Iw(){pf=ag=!1;var a=0;wo!==0&&(eD()&&(a=wo),wo=0);for(var l=Be(),d=null,m=mf;m!==null;){var y=m.next,w=qw(m,l);w===0?(m.next=null,d===null?mf=y:d.next=y,y===null&&(Dl=d)):(d=m,(a!==0||(w&3)!==0)&&(pf=!0)),m=y}au(a)}function qw(a,l){for(var d=a.suspendedLanes,m=a.pingedLanes,y=a.expirationTimes,w=a.pendingLanes&-62914561;0<w;){var A=31-jt(w),U=1<<A,ee=y[A];ee===-1?((U&d)===0||(U&m)!==0)&&(y[A]=rn(U,l)):ee<=l&&(a.expiredLanes|=U),w&=~U}if(l=vs,d=Zt,d=is(a,a===l?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,d===0||a===l&&(ls===2||ls===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&Le(m),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||Is(a,d)){if(l=d&-d,l===a.callbackPriority)return l;switch(m!==null&&Le(m),Jt(d)){case 2:case 8:d=K;break;case 32:d=me;break;case 268435456:d=Te;break;default:d=me}return m=Ww.bind(null,a),d=Xe(d,m),a.callbackPriority=l,a.callbackNode=d,l}return m!==null&&m!==null&&Le(m),a.callbackPriority=2,a.callbackNode=null,2}function Ww(a,l){if(pn!==0&&pn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(hf()&&a.callbackNode!==d)return null;var m=Zt;return m=is(a,a===vs?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(Ew(a,m,l),qw(a,Be()),a.callbackNode!=null&&a.callbackNode===d?Ww.bind(null,a):null)}function Yw(a,l){if(hf())return null;Ew(a,l,!0)}function Wk(){sD(function(){(os&6)!==0?Xe(nt,qk):Iw()})}function ig(){return wo===0&&(wo=tt()),wo}function Gw(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:el(""+a)}function Xw(a,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,a.id&&d.setAttribute("form",a.id),l.parentNode.insertBefore(d,l),a=new FormData(a),d.parentNode.removeChild(d),a}function Yk(a,l,d,m,y){if(l==="submit"&&d&&d.stateNode===y){var w=Gw((y[Me]||null).action),A=m.submitter;A&&(l=(l=A[Me]||null)?Gw(l.formAction):A.getAttribute("formAction"),l!==null&&(w=l,A=null));var U=new nl("action","action",null,m,y);a.push({event:U,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(wo!==0){var ee=A?Xw(y,A):new FormData(y);Sp(d,{pending:!0,data:ee,method:y.method,action:w},null,ee)}}else typeof w=="function"&&(U.preventDefault(),ee=A?Xw(y,A):new FormData(y),Sp(d,{pending:!0,data:ee,method:y.method,action:w},w,ee))},currentTarget:y}]})}}for(var og=0;og<qm.length;og++){var lg=qm[og],Gk=lg.toLowerCase(),Xk=lg[0].toUpperCase()+lg.slice(1);Pa(Gk,"on"+Xk)}Pa(Eb,"onAnimationEnd"),Pa(kb,"onAnimationIteration"),Pa(Db,"onAnimationStart"),Pa("dblclick","onDoubleClick"),Pa("focusin","onFocus"),Pa("focusout","onBlur"),Pa(fk,"onTransitionRun"),Pa(hk,"onTransitionStart"),Pa(mk,"onTransitionCancel"),Pa(Ab,"onTransitionEnd"),Rs("onMouseEnter",["mouseout","mouseover"]),Rs("onMouseLeave",["mouseout","mouseover"]),Rs("onPointerEnter",["pointerout","pointerover"]),Rs("onPointerLeave",["pointerout","pointerover"]),_s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_s("onBeforeInput",["compositionend","keypress","textInput","paste"]),_s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ru));function Kw(a,l){l=(l&4)!==0;for(var d=0;d<a.length;d++){var m=a[d],y=m.event;m=m.listeners;e:{var w=void 0;if(l)for(var A=m.length-1;0<=A;A--){var U=m[A],ee=U.instance,be=U.currentTarget;if(U=U.listener,ee!==w&&y.isPropagationStopped())break e;w=U,y.currentTarget=be;try{w(y)}catch(Ce){tf(Ce)}y.currentTarget=null,w=ee}else for(A=0;A<m.length;A++){if(U=m[A],ee=U.instance,be=U.currentTarget,U=U.listener,ee!==w&&y.isPropagationStopped())break e;w=U,y.currentTarget=be;try{w(y)}catch(Ce){tf(Ce)}y.currentTarget=null,w=ee}}}}function qt(a,l){var d=l[rt];d===void 0&&(d=l[rt]=new Set);var m=a+"__bubble";d.has(m)||(Qw(l,a,2,!1),d.add(m))}function cg(a,l,d){var m=0;l&&(m|=4),Qw(d,a,m,l)}var gf="_reactListening"+Math.random().toString(36).slice(2);function ug(a){if(!a[gf]){a[gf]=!0,Dt.forEach(function(d){d!=="selectionchange"&&(Kk.has(d)||cg(d,!1,a),cg(d,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[gf]||(l[gf]=!0,cg("selectionchange",!1,l))}}function Qw(a,l,d,m){switch(wj(l)){case 2:var y=ND;break;case 8:y=_D;break;default:y=_g}d=y.bind(null,l,d,a),y=void 0,!tl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),m?y!==void 0?a.addEventListener(l,d,{capture:!0,passive:y}):a.addEventListener(l,d,!0):y!==void 0?a.addEventListener(l,d,{passive:y}):a.addEventListener(l,d,!1)}function dg(a,l,d,m,y){var w=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var A=m.tag;if(A===3||A===4){var U=m.stateNode.containerInfo;if(U===y)break;if(A===4)for(A=m.return;A!==null;){var ee=A.tag;if((ee===3||ee===4)&&A.stateNode.containerInfo===y)return;A=A.return}for(;U!==null;){if(A=Rt(U),A===null)return;if(ee=A.tag,ee===5||ee===6||ee===26||ee===27){m=w=A;continue e}U=U.parentNode}}m=m.return}Cc(function(){var be=w,Ce=to(d),Ae=[];e:{var je=Ob.get(a);if(je!==void 0){var Ne=nl,_t=a;switch(a){case"keypress":if(si(d)===0)break e;case"keydown":case"keyup":Ne=Za;break;case"focusin":_t="focus",Ne=gt;break;case"focusout":_t="blur",Ne=gt;break;case"beforeblur":case"afterblur":Ne=gt;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ne=de;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ne=ve;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ne=Dd;break;case Eb:case kb:case Db:Ne=et;break;case Ab:Ne=XE;break;case"scroll":case"scrollend":Ne=Ps;break;case"wheel":Ne=QE;break;case"copy":case"cut":case"paste":Ne=fs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ne=al;break;case"toggle":case"beforetoggle":Ne=JE}var bt=(l&4)!==0,ps=!bt&&(a==="scroll"||a==="scrollend"),he=bt?je!==null?je+"Capture":null:je;bt=[];for(var le=be,ye;le!==null;){var ke=le;if(ye=ke.stateNode,ke=ke.tag,ke!==5&&ke!==26&&ke!==27||ye===null||he===null||(ke=ti(le,he),ke!=null&&bt.push(iu(le,ke,ye))),ps)break;le=le.return}0<bt.length&&(je=new Ne(je,_t,null,d,Ce),Ae.push({event:je,listeners:bt}))}}if((l&7)===0){e:{if(je=a==="mouseover"||a==="pointerover",Ne=a==="mouseout"||a==="pointerout",je&&d!==Tc&&(_t=d.relatedTarget||d.fromElement)&&(Rt(_t)||_t[Ye]))break e;if((Ne||je)&&(je=Ce.window===Ce?Ce:(je=Ce.ownerDocument)?je.defaultView||je.parentWindow:window,Ne?(_t=d.relatedTarget||d.toElement,Ne=be,_t=_t?Rt(_t):null,_t!==null&&(ps=o(_t),bt=_t.tag,_t!==ps||bt!==5&&bt!==27&&bt!==6)&&(_t=null)):(Ne=null,_t=be),Ne!==_t)){if(bt=de,ke="onMouseLeave",he="onMouseEnter",le="mouse",(a==="pointerout"||a==="pointerover")&&(bt=al,ke="onPointerLeave",he="onPointerEnter",le="pointer"),ps=Ne==null?je:Os(Ne),ye=_t==null?je:Os(_t),je=new bt(ke,le+"leave",Ne,d,Ce),je.target=ps,je.relatedTarget=ye,ke=null,Rt(Ce)===be&&(bt=new bt(he,le+"enter",_t,d,Ce),bt.target=ye,bt.relatedTarget=ps,ke=bt),ps=ke,Ne&&_t)t:{for(bt=Ne,he=_t,le=0,ye=bt;ye;ye=Al(ye))le++;for(ye=0,ke=he;ke;ke=Al(ke))ye++;for(;0<le-ye;)bt=Al(bt),le--;for(;0<ye-le;)he=Al(he),ye--;for(;le--;){if(bt===he||he!==null&&bt===he.alternate)break t;bt=Al(bt),he=Al(he)}bt=null}else bt=null;Ne!==null&&Zw(Ae,je,Ne,bt,!1),_t!==null&&ps!==null&&Zw(Ae,ps,_t,bt,!0)}}e:{if(je=be?Os(be):window,Ne=je.nodeName&&je.nodeName.toLowerCase(),Ne==="select"||Ne==="input"&&je.type==="file")var it=xb;else if(pb(je))if(yb)it=ck;else{it=ok;var Ht=ik}else Ne=je.nodeName,!Ne||Ne.toLowerCase()!=="input"||je.type!=="checkbox"&&je.type!=="radio"?be&&eo(be.elementType)&&(it=xb):it=lk;if(it&&(it=it(a,be))){gb(Ae,it,d,Ce);break e}Ht&&Ht(a,je,be),a==="focusout"&&be&&je.type==="number"&&be.memoizedProps.value!=null&&jc(je,"number",je.value)}switch(Ht=be?Os(be):window,a){case"focusin":(pb(Ht)||Ht.contentEditable==="true")&&(ol=Ht,$m=be,Oc=null);break;case"focusout":Oc=$m=ol=null;break;case"mousedown":Vm=!0;break;case"contextmenu":case"mouseup":case"dragend":Vm=!1,Sb(Ae,d,Ce);break;case"selectionchange":if(dk)break;case"keydown":case"keyup":Sb(Ae,d,Ce)}var pt;if(Fm)e:{switch(a){case"compositionstart":var wt="onCompositionStart";break e;case"compositionend":wt="onCompositionEnd";break e;case"compositionupdate":wt="onCompositionUpdate";break e}wt=void 0}else il?hb(a,d)&&(wt="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(wt="onCompositionStart");wt&&(ub&&d.locale!=="ko"&&(il||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&il&&(pt=ao()):(Kn=Ce,Un="value"in Kn?Kn.value:Kn.textContent,il=!0)),Ht=xf(be,wt),0<Ht.length&&(wt=new yt(wt,a,null,d,Ce),Ae.push({event:wt,listeners:Ht}),pt?wt.data=pt:(pt=mb(d),pt!==null&&(wt.data=pt)))),(pt=tk?sk(a,d):nk(a,d))&&(wt=xf(be,"onBeforeInput"),0<wt.length&&(Ht=new yt("onBeforeInput","beforeinput",null,d,Ce),Ae.push({event:Ht,listeners:wt}),Ht.data=pt)),Yk(Ae,a,be,d,Ce)}Kw(Ae,l)})}function iu(a,l,d){return{instance:a,listener:l,currentTarget:d}}function xf(a,l){for(var d=l+"Capture",m=[];a!==null;){var y=a,w=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||w===null||(y=ti(a,d),y!=null&&m.unshift(iu(a,y,w)),y=ti(a,l),y!=null&&m.push(iu(a,y,w))),a.tag===3)return m;a=a.return}return[]}function Al(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Zw(a,l,d,m,y){for(var w=l._reactName,A=[];d!==null&&d!==m;){var U=d,ee=U.alternate,be=U.stateNode;if(U=U.tag,ee!==null&&ee===m)break;U!==5&&U!==26&&U!==27||be===null||(ee=be,y?(be=ti(d,w),be!=null&&A.unshift(iu(d,be,ee))):y||(be=ti(d,w),be!=null&&A.push(iu(d,be,ee)))),d=d.return}A.length!==0&&a.push({event:l,listeners:A})}var Qk=/\r\n?/g,Zk=/\u0000|\uFFFD/g;function Jw(a){return(typeof a=="string"?a:""+a).replace(Qk,`
`).replace(Zk,"")}function ej(a,l){return l=Jw(l),Jw(a)===l}function yf(){}function ms(a,l,d,m,y,w){switch(d){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||Jr(a,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&Jr(a,""+m);break;case"className":da(a,"class",m);break;case"tabIndex":da(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":da(a,d,m);break;case"style":_c(a,m,w);break;case"data":if(l!=="object"){da(a,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||d!=="href")){a.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(d);break}m=el(""+m),a.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(d==="formAction"?(l!=="input"&&ms(a,l,"name",y.name,y,null),ms(a,l,"formEncType",y.formEncType,y,null),ms(a,l,"formMethod",y.formMethod,y,null),ms(a,l,"formTarget",y.formTarget,y,null)):(ms(a,l,"encType",y.encType,y,null),ms(a,l,"method",y.method,y,null),ms(a,l,"target",y.target,y,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(d);break}m=el(""+m),a.setAttribute(d,m);break;case"onClick":m!=null&&(a.onclick=yf);break;case"onScroll":m!=null&&qt("scroll",a);break;case"onScrollEnd":m!=null&&qt("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(d=m.__html,d!=null){if(y.children!=null)throw Error(n(60));a.innerHTML=d}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}d=el(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,""+m):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":m===!0?a.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,m):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(d,m):a.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(d):a.setAttribute(d,m);break;case"popover":qt("beforetoggle",a),qt("toggle",a),Nn(a,"popover",m);break;case"xlinkActuate":Lt(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Lt(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Lt(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Lt(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Lt(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Lt(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Lt(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Lt(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Lt(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Nn(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Jo.get(d)||d,Nn(a,d,m))}}function fg(a,l,d,m,y,w){switch(d){case"style":_c(a,m,w);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(d=m.__html,d!=null){if(y.children!=null)throw Error(n(60));a.innerHTML=d}}break;case"children":typeof m=="string"?Jr(a,m):(typeof m=="number"||typeof m=="bigint")&&Jr(a,""+m);break;case"onScroll":m!=null&&qt("scroll",a);break;case"onScrollEnd":m!=null&&qt("scrollend",a);break;case"onClick":m!=null&&(a.onclick=yf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!es.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(y=d.endsWith("Capture"),l=d.slice(2,y?d.length-7:void 0),w=a[Me]||null,w=w!=null?w[d]:null,typeof w=="function"&&a.removeEventListener(l,w,y),typeof m=="function")){typeof w!="function"&&w!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(l,m,y);break e}d in a?a[d]=m:m===!0?a.setAttribute(d,""):Nn(a,d,m)}}}function gn(a,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qt("error",a),qt("load",a);var m=!1,y=!1,w;for(w in d)if(d.hasOwnProperty(w)){var A=d[w];if(A!=null)switch(w){case"src":m=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:ms(a,l,w,A,d,null)}}y&&ms(a,l,"srcSet",d.srcSet,d,null),m&&ms(a,l,"src",d.src,d,null);return;case"input":qt("invalid",a);var U=w=A=y=null,ee=null,be=null;for(m in d)if(d.hasOwnProperty(m)){var Ce=d[m];if(Ce!=null)switch(m){case"name":y=Ce;break;case"type":A=Ce;break;case"checked":ee=Ce;break;case"defaultChecked":be=Ce;break;case"value":w=Ce;break;case"defaultValue":U=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(n(137,l));break;default:ms(a,l,m,Ce,d,null)}}Sd(a,w,U,ee,be,A,y,!1),Qi(a);return;case"select":qt("invalid",a),m=A=w=null;for(y in d)if(d.hasOwnProperty(y)&&(U=d[y],U!=null))switch(y){case"value":w=U;break;case"defaultValue":A=U;break;case"multiple":m=U;default:ms(a,l,y,U,d,null)}l=w,d=A,a.multiple=!!m,l!=null?Nr(a,!!m,l,!1):d!=null&&Nr(a,!!m,d,!0);return;case"textarea":qt("invalid",a),w=y=m=null;for(A in d)if(d.hasOwnProperty(A)&&(U=d[A],U!=null))switch(A){case"value":m=U;break;case"defaultValue":y=U;break;case"children":w=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(n(91));break;default:ms(a,l,A,U,d,null)}Nc(a,m,y,w),Qi(a);return;case"option":for(ee in d)if(d.hasOwnProperty(ee)&&(m=d[ee],m!=null))switch(ee){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:ms(a,l,ee,m,d,null)}return;case"dialog":qt("beforetoggle",a),qt("toggle",a),qt("cancel",a),qt("close",a);break;case"iframe":case"object":qt("load",a);break;case"video":case"audio":for(m=0;m<ru.length;m++)qt(ru[m],a);break;case"image":qt("error",a),qt("load",a);break;case"details":qt("toggle",a);break;case"embed":case"source":case"link":qt("error",a),qt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(be in d)if(d.hasOwnProperty(be)&&(m=d[be],m!=null))switch(be){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:ms(a,l,be,m,d,null)}return;default:if(eo(l)){for(Ce in d)d.hasOwnProperty(Ce)&&(m=d[Ce],m!==void 0&&fg(a,l,Ce,m,d,void 0));return}}for(U in d)d.hasOwnProperty(U)&&(m=d[U],m!=null&&ms(a,l,U,m,d,null))}function Jk(a,l,d,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,w=null,A=null,U=null,ee=null,be=null,Ce=null;for(Ne in d){var Ae=d[Ne];if(d.hasOwnProperty(Ne)&&Ae!=null)switch(Ne){case"checked":break;case"value":break;case"defaultValue":ee=Ae;default:m.hasOwnProperty(Ne)||ms(a,l,Ne,null,m,Ae)}}for(var je in m){var Ne=m[je];if(Ae=d[je],m.hasOwnProperty(je)&&(Ne!=null||Ae!=null))switch(je){case"type":w=Ne;break;case"name":y=Ne;break;case"checked":be=Ne;break;case"defaultChecked":Ce=Ne;break;case"value":A=Ne;break;case"defaultValue":U=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(n(137,l));break;default:Ne!==Ae&&ms(a,l,je,Ne,m,Ae)}}wc(a,A,U,ee,be,Ce,w,y);return;case"select":Ne=A=U=je=null;for(w in d)if(ee=d[w],d.hasOwnProperty(w)&&ee!=null)switch(w){case"value":break;case"multiple":Ne=ee;default:m.hasOwnProperty(w)||ms(a,l,w,null,m,ee)}for(y in m)if(w=m[y],ee=d[y],m.hasOwnProperty(y)&&(w!=null||ee!=null))switch(y){case"value":je=w;break;case"defaultValue":U=w;break;case"multiple":A=w;default:w!==ee&&ms(a,l,y,w,m,ee)}l=U,d=A,m=Ne,je!=null?Nr(a,!!d,je,!1):!!m!=!!d&&(l!=null?Nr(a,!!d,l,!0):Nr(a,!!d,d?[]:"",!1));return;case"textarea":Ne=je=null;for(U in d)if(y=d[U],d.hasOwnProperty(U)&&y!=null&&!m.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:ms(a,l,U,null,m,y)}for(A in m)if(y=m[A],w=d[A],m.hasOwnProperty(A)&&(y!=null||w!=null))switch(A){case"value":je=y;break;case"defaultValue":Ne=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(n(91));break;default:y!==w&&ms(a,l,A,y,m,w)}Ji(a,je,Ne);return;case"option":for(var _t in d)if(je=d[_t],d.hasOwnProperty(_t)&&je!=null&&!m.hasOwnProperty(_t))switch(_t){case"selected":a.selected=!1;break;default:ms(a,l,_t,null,m,je)}for(ee in m)if(je=m[ee],Ne=d[ee],m.hasOwnProperty(ee)&&je!==Ne&&(je!=null||Ne!=null))switch(ee){case"selected":a.selected=je&&typeof je!="function"&&typeof je!="symbol";break;default:ms(a,l,ee,je,m,Ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in d)je=d[bt],d.hasOwnProperty(bt)&&je!=null&&!m.hasOwnProperty(bt)&&ms(a,l,bt,null,m,je);for(be in m)if(je=m[be],Ne=d[be],m.hasOwnProperty(be)&&je!==Ne&&(je!=null||Ne!=null))switch(be){case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(n(137,l));break;default:ms(a,l,be,je,m,Ne)}return;default:if(eo(l)){for(var ps in d)je=d[ps],d.hasOwnProperty(ps)&&je!==void 0&&!m.hasOwnProperty(ps)&&fg(a,l,ps,void 0,m,je);for(Ce in m)je=m[Ce],Ne=d[Ce],!m.hasOwnProperty(Ce)||je===Ne||je===void 0&&Ne===void 0||fg(a,l,Ce,je,m,Ne);return}}for(var he in d)je=d[he],d.hasOwnProperty(he)&&je!=null&&!m.hasOwnProperty(he)&&ms(a,l,he,null,m,je);for(Ae in m)je=m[Ae],Ne=d[Ae],!m.hasOwnProperty(Ae)||je===Ne||je==null&&Ne==null||ms(a,l,Ae,je,m,Ne)}var hg=null,mg=null;function bf(a){return a.nodeType===9?a:a.ownerDocument}function tj(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sj(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function pg(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var gg=null;function eD(){var a=window.event;return a&&a.type==="popstate"?a===gg?!1:(gg=a,!0):(gg=null,!1)}var nj=typeof setTimeout=="function"?setTimeout:void 0,tD=typeof clearTimeout=="function"?clearTimeout:void 0,aj=typeof Promise=="function"?Promise:void 0,sD=typeof queueMicrotask=="function"?queueMicrotask:typeof aj!="undefined"?function(a){return aj.resolve(null).then(a).catch(nD)}:nj;function nD(a){setTimeout(function(){throw a})}function vi(a){return a==="head"}function rj(a,l){var d=l,m=0,y=0;do{var w=d.nextSibling;if(a.removeChild(d),w&&w.nodeType===8)if(d=w.data,d==="/$"){if(0<m&&8>m){d=m;var A=a.ownerDocument;if(d&1&&ou(A.documentElement),d&2&&ou(A.body),d&4)for(d=A.head,ou(d),A=d.firstChild;A;){var U=A.nextSibling,ee=A.nodeName;A[ft]||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&A.rel.toLowerCase()==="stylesheet"||d.removeChild(A),A=U}}if(y===0){a.removeChild(w),pu(l);return}y--}else d==="$"||d==="$?"||d==="$!"?y++:m=d.charCodeAt(0)-48;else m=0;d=w}while(d);pu(l)}function xg(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":xg(d),St(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function aD(a,l,d,m){for(;a.nodeType===1;){var y=d;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[ft])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(w=a.getAttribute("rel"),w==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(w!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(w=a.getAttribute("src"),(w!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&w&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var w=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===w)return a}else return a;if(a=Ba(a.nextSibling),a===null)break}return null}function rD(a,l,d){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=Ba(a.nextSibling),a===null))return null;return a}function yg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function iD(a,l){var d=a.ownerDocument;if(a.data!=="$?"||d.readyState==="complete")l();else{var m=function(){l(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function Ba(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return a}var bg=null;function ij(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return a;l--}else d==="/$"&&l++}a=a.previousSibling}return null}function oj(a,l,d){switch(l=bf(d),a){case"html":if(a=l.documentElement,!a)throw Error(n(452));return a;case"head":if(a=l.head,!a)throw Error(n(453));return a;case"body":if(a=l.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function ou(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);St(a)}var ba=new Map,lj=new Set;function vf(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Fr=Z.d;Z.d={f:oD,r:lD,D:cD,C:uD,L:dD,m:fD,X:mD,S:hD,M:pD};function oD(){var a=Fr.f(),l=df();return a||l}function lD(a){var l=xs(a);l!==null&&l.tag===5&&l.type==="form"?Ev(l):Fr.r(a)}var Ol=typeof document=="undefined"?null:document;function cj(a,l,d){var m=Ol;if(m&&typeof l=="string"&&l){var y=Bn(l);y='link[rel="'+a+'"][href="'+y+'"]',typeof d=="string"&&(y+='[crossorigin="'+d+'"]'),lj.has(y)||(lj.add(y),a={rel:a,crossOrigin:d,href:l},m.querySelector(y)===null&&(l=m.createElement("link"),gn(l,"link",a),ht(l),m.head.appendChild(l)))}}function cD(a){Fr.D(a),cj("dns-prefetch",a,null)}function uD(a,l){Fr.C(a,l),cj("preconnect",a,l)}function dD(a,l,d){Fr.L(a,l,d);var m=Ol;if(m&&a&&l){var y='link[rel="preload"][as="'+Bn(l)+'"]';l==="image"&&d&&d.imageSrcSet?(y+='[imagesrcset="'+Bn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(y+='[imagesizes="'+Bn(d.imageSizes)+'"]')):y+='[href="'+Bn(a)+'"]';var w=y;switch(l){case"style":w=Rl(a);break;case"script":w=Ml(a)}ba.has(w)||(a=p({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:a,as:l},d),ba.set(w,a),m.querySelector(y)!==null||l==="style"&&m.querySelector(lu(w))||l==="script"&&m.querySelector(cu(w))||(l=m.createElement("link"),gn(l,"link",a),ht(l),m.head.appendChild(l)))}}function fD(a,l){Fr.m(a,l);var d=Ol;if(d&&a){var m=l&&typeof l.as=="string"?l.as:"script",y='link[rel="modulepreload"][as="'+Bn(m)+'"][href="'+Bn(a)+'"]',w=y;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Ml(a)}if(!ba.has(w)&&(a=p({rel:"modulepreload",href:a},l),ba.set(w,a),d.querySelector(y)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(cu(w)))return}m=d.createElement("link"),gn(m,"link",a),ht(m),d.head.appendChild(m)}}}function hD(a,l,d){Fr.S(a,l,d);var m=Ol;if(m&&a){var y=ds(m).hoistableStyles,w=Rl(a);l=l||"default";var A=y.get(w);if(!A){var U={loading:0,preload:null};if(A=m.querySelector(lu(w)))U.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":l},d),(d=ba.get(w))&&vg(a,d);var ee=A=m.createElement("link");ht(ee),gn(ee,"link",a),ee._p=new Promise(function(be,Ce){ee.onload=be,ee.onerror=Ce}),ee.addEventListener("load",function(){U.loading|=1}),ee.addEventListener("error",function(){U.loading|=2}),U.loading|=4,wf(A,l,m)}A={type:"stylesheet",instance:A,count:1,state:U},y.set(w,A)}}}function mD(a,l){Fr.X(a,l);var d=Ol;if(d&&a){var m=ds(d).hoistableScripts,y=Ml(a),w=m.get(y);w||(w=d.querySelector(cu(y)),w||(a=p({src:a,async:!0},l),(l=ba.get(y))&&wg(a,l),w=d.createElement("script"),ht(w),gn(w,"link",a),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(y,w))}}function pD(a,l){Fr.M(a,l);var d=Ol;if(d&&a){var m=ds(d).hoistableScripts,y=Ml(a),w=m.get(y);w||(w=d.querySelector(cu(y)),w||(a=p({src:a,async:!0,type:"module"},l),(l=ba.get(y))&&wg(a,l),w=d.createElement("script"),ht(w),gn(w,"link",a),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(y,w))}}function uj(a,l,d,m){var y=(y=fe.current)?vf(y):null;if(!y)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=Rl(d.href),d=ds(y).hoistableStyles,m=d.get(l),m||(m={type:"style",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=Rl(d.href);var w=ds(y).hoistableStyles,A=w.get(a);if(A||(y=y.ownerDocument||y,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(a,A),(w=y.querySelector(lu(a)))&&!w._p&&(A.instance=w,A.state.loading=5),ba.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},ba.set(a,d),w||gD(y,a,d,A.state))),l&&m===null)throw Error(n(528,""));return A}if(l&&m!==null)throw Error(n(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Ml(d),d=ds(y).hoistableScripts,m=d.get(l),m||(m={type:"script",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function Rl(a){return'href="'+Bn(a)+'"'}function lu(a){return'link[rel="stylesheet"]['+a+"]"}function dj(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function gD(a,l,d,m){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=a.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),gn(l,"link",d),ht(l),a.head.appendChild(l))}function Ml(a){return'[src="'+Bn(a)+'"]'}function cu(a){return"script[async]"+a}function fj(a,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var m=a.querySelector('style[data-href~="'+Bn(d.href)+'"]');if(m)return l.instance=m,ht(m),m;var y=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),ht(m),gn(m,"style",y),wf(m,d.precedence,a),l.instance=m;case"stylesheet":y=Rl(d.href);var w=a.querySelector(lu(y));if(w)return l.state.loading|=4,l.instance=w,ht(w),w;m=dj(d),(y=ba.get(y))&&vg(m,y),w=(a.ownerDocument||a).createElement("link"),ht(w);var A=w;return A._p=new Promise(function(U,ee){A.onload=U,A.onerror=ee}),gn(w,"link",m),l.state.loading|=4,wf(w,d.precedence,a),l.instance=w;case"script":return w=Ml(d.src),(y=a.querySelector(cu(w)))?(l.instance=y,ht(y),y):(m=d,(y=ba.get(w))&&(m=p({},d),wg(m,y)),a=a.ownerDocument||a,y=a.createElement("script"),ht(y),gn(y,"link",m),a.head.appendChild(y),l.instance=y);case"void":return null;default:throw Error(n(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,wf(m,d.precedence,a));return l.instance}function wf(a,l,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=m.length?m[m.length-1]:null,w=y,A=0;A<m.length;A++){var U=m[A];if(U.dataset.precedence===l)w=U;else if(w!==y)break}w?w.parentNode.insertBefore(a,w.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(a,l.firstChild))}function vg(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function wg(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var jf=null;function hj(a,l,d){if(jf===null){var m=new Map,y=jf=new Map;y.set(d,m)}else y=jf,m=y.get(d),m||(m=new Map,y.set(d,m));if(m.has(a))return m;for(m.set(a,null),d=d.getElementsByTagName(a),y=0;y<d.length;y++){var w=d[y];if(!(w[ft]||w[_e]||a==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var A=w.getAttribute(l)||"";A=a+A;var U=m.get(A);U?U.push(w):m.set(A,[w])}}return m}function mj(a,l,d){a=a.ownerDocument||a,a.head.insertBefore(d,l==="title"?a.querySelector("head > title"):null)}function xD(a,l,d){if(d===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function pj(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var uu=null;function yD(){}function bD(a,l,d){if(uu===null)throw Error(n(475));var m=uu;if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=Rl(d.href),w=a.querySelector(lu(y));if(w){a=w._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(m.count++,m=Nf.bind(m),a.then(m,m)),l.state.loading|=4,l.instance=w,ht(w);return}w=a.ownerDocument||a,d=dj(d),(y=ba.get(y))&&vg(d,y),w=w.createElement("link"),ht(w);var A=w;A._p=new Promise(function(U,ee){A.onload=U,A.onerror=ee}),gn(w,"link",d),l.instance=w}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(m.count++,l=Nf.bind(m),a.addEventListener("load",l),a.addEventListener("error",l))}}function vD(){if(uu===null)throw Error(n(475));var a=uu;return a.stylesheets&&a.count===0&&jg(a,a.stylesheets),0<a.count?function(l){var d=setTimeout(function(){if(a.stylesheets&&jg(a,a.stylesheets),a.unsuspend){var m=a.unsuspend;a.unsuspend=null,m()}},6e4);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(d)}}:null}function Nf(){if(this.count--,this.count===0){if(this.stylesheets)jg(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var _f=null;function jg(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,_f=new Map,l.forEach(wD,a),_f=null,Nf.call(a))}function wD(a,l){if(!(l.state.loading&4)){var d=_f.get(a);if(d)var m=d.get(null);else{d=new Map,_f.set(a,d);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<y.length;w++){var A=y[w];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(d.set(A.dataset.precedence,A),m=A)}m&&d.set(null,m)}y=l.instance,A=y.getAttribute("data-precedence"),w=d.get(A)||m,w===m&&d.set(null,y),d.set(A,y),this.count++,m=Nf.bind(this),y.addEventListener("load",m),y.addEventListener("error",m),w?w.parentNode.insertBefore(y,w.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),l.state.loading|=4}}var du={$$typeof:S,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function jD(a,l,d,m,y,w,A,U){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.hiddenUpdates=Vt(null),this.identifierPrefix=m,this.onUncaughtError=y,this.onCaughtError=w,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function gj(a,l,d,m,y,w,A,U,ee,be,Ce,Ae){return a=new jD(a,l,d,A,U,ee,be,Ae),l=1,w===!0&&(l|=24),w=Zn(3,null,null,l),a.current=w,w.stateNode=a,l=np(),l.refCount++,a.pooledCache=l,l.refCount++,w.memoizedState={element:m,isDehydrated:d,cache:l},op(w),a}function xj(a){return a?(a=dl,a):dl}function yj(a,l,d,m,y,w){y=xj(y),m.context===null?m.context=y:m.pendingContext=y,m=oi(l),m.payload={element:d},w=w===void 0?null:w,w!==null&&(m.callback=w),d=li(a,m,l),d!==null&&(na(d,a,l),Hc(d,a,l))}function bj(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function Ng(a,l){bj(a,l),(a=a.alternate)&&bj(a,l)}function vj(a){if(a.tag===13){var l=ul(a,67108864);l!==null&&na(l,a,67108864),Ng(a,67108864)}}var Tf=!0;function ND(a,l,d,m){var y=z.T;z.T=null;var w=Z.p;try{Z.p=2,_g(a,l,d,m)}finally{Z.p=w,z.T=y}}function _D(a,l,d,m){var y=z.T;z.T=null;var w=Z.p;try{Z.p=8,_g(a,l,d,m)}finally{Z.p=w,z.T=y}}function _g(a,l,d,m){if(Tf){var y=Tg(m);if(y===null)dg(a,l,m,Sf,d),jj(a,m);else if(SD(y,a,l,d,m))m.stopPropagation();else if(jj(a,m),l&4&&-1<TD.indexOf(a)){for(;y!==null;){var w=xs(y);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var A=Xt(w.pendingLanes);if(A!==0){var U=w;for(U.pendingLanes|=2,U.entangledLanes|=2;A;){var ee=1<<31-jt(A);U.entanglements[1]|=ee,A&=~ee}nr(w),(os&6)===0&&(cf=Be()+500,au(0))}}break;case 13:U=ul(w,2),U!==null&&na(U,w,2),df(),Ng(w,2)}if(w=Tg(m),w===null&&dg(a,l,m,Sf,d),w===y)break;y=w}y!==null&&m.stopPropagation()}else dg(a,l,m,null,d)}}function Tg(a){return a=to(a),Sg(a)}var Sf=null;function Sg(a){if(Sf=null,a=Rt(a),a!==null){var l=o(a);if(l===null)a=null;else{var d=l.tag;if(d===13){if(a=c(l),a!==null)return a;a=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return Sf=a,null}function wj(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ze()){case nt:return 2;case K:return 8;case me:case G:return 32;case Te:return 268435456;default:return 32}default:return 32}}var Cg=!1,wi=null,ji=null,Ni=null,fu=new Map,hu=new Map,_i=[],TD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jj(a,l){switch(a){case"focusin":case"focusout":wi=null;break;case"dragenter":case"dragleave":ji=null;break;case"mouseover":case"mouseout":Ni=null;break;case"pointerover":case"pointerout":fu.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":hu.delete(l.pointerId)}}function mu(a,l,d,m,y,w){return a===null||a.nativeEvent!==w?(a={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:w,targetContainers:[y]},l!==null&&(l=xs(l),l!==null&&vj(l)),a):(a.eventSystemFlags|=m,l=a.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),a)}function SD(a,l,d,m,y){switch(l){case"focusin":return wi=mu(wi,a,l,d,m,y),!0;case"dragenter":return ji=mu(ji,a,l,d,m,y),!0;case"mouseover":return Ni=mu(Ni,a,l,d,m,y),!0;case"pointerover":var w=y.pointerId;return fu.set(w,mu(fu.get(w)||null,a,l,d,m,y)),!0;case"gotpointercapture":return w=y.pointerId,hu.set(w,mu(hu.get(w)||null,a,l,d,m,y)),!0}return!1}function Nj(a){var l=Rt(a.target);if(l!==null){var d=o(l);if(d!==null){if(l=d.tag,l===13){if(l=c(d),l!==null){a.blockedOn=l,ce(a.priority,function(){if(d.tag===13){var m=sa();m=Kt(m);var y=ul(d,m);y!==null&&na(y,d,m),Ng(d,m)}});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Cf(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var d=Tg(a.nativeEvent);if(d===null){d=a.nativeEvent;var m=new d.constructor(d.type,d);Tc=m,d.target.dispatchEvent(m),Tc=null}else return l=xs(d),l!==null&&vj(l),a.blockedOn=d,!1;l.shift()}return!0}function _j(a,l,d){Cf(a)&&d.delete(l)}function CD(){Cg=!1,wi!==null&&Cf(wi)&&(wi=null),ji!==null&&Cf(ji)&&(ji=null),Ni!==null&&Cf(Ni)&&(Ni=null),fu.forEach(_j),hu.forEach(_j)}function Ef(a,l){a.blockedOn===l&&(a.blockedOn=null,Cg||(Cg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,CD)))}var kf=null;function Tj(a){kf!==a&&(kf=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){kf===a&&(kf=null);for(var l=0;l<a.length;l+=3){var d=a[l],m=a[l+1],y=a[l+2];if(typeof m!="function"){if(Sg(m||d)===null)continue;break}var w=xs(d);w!==null&&(a.splice(l,3),l-=3,Sp(w,{pending:!0,data:y,method:d.method,action:m},m,y))}}))}function pu(a){function l(ee){return Ef(ee,a)}wi!==null&&Ef(wi,a),ji!==null&&Ef(ji,a),Ni!==null&&Ef(Ni,a),fu.forEach(l),hu.forEach(l);for(var d=0;d<_i.length;d++){var m=_i[d];m.blockedOn===a&&(m.blockedOn=null)}for(;0<_i.length&&(d=_i[0],d.blockedOn===null);)Nj(d),d.blockedOn===null&&_i.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var y=d[m],w=d[m+1],A=y[Me]||null;if(typeof w=="function")A||Tj(d);else if(A){var U=null;if(w&&w.hasAttribute("formAction")){if(y=w,A=w[Me]||null)U=A.formAction;else if(Sg(y)!==null)continue}else U=A.action;typeof U=="function"?d[m+1]=U:(d.splice(m,3),m-=3),Tj(d)}}}function Eg(a){this._internalRoot=a}Df.prototype.render=Eg.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(n(409));var d=l.current,m=sa();yj(d,m,a,l,null,null)},Df.prototype.unmount=Eg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;yj(a.current,2,null,a,null,null),df(),l[Ye]=null}};function Df(a){this._internalRoot=a}Df.prototype.unstable_scheduleHydration=function(a){if(a){var l=se();a={blockedOn:null,target:a,priority:l};for(var d=0;d<_i.length&&l!==0&&l<_i[d].priority;d++);_i.splice(d,0,a),d===0&&Nj(a)}};var Sj=t.version;if(Sj!=="19.1.1")throw Error(n(527,Sj,"19.1.1"));Z.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=h(l),a=a!==null?f(a):null,a=a===null?null:a.stateNode,a};var ED={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Af=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Af.isDisabled&&Af.supportsFiber)try{We=Af.inject(ED),Ze=Af}catch(a){}}return xu.createRoot=function(a,l){if(!i(a))throw Error(n(299));var d=!1,m="",y=$v,w=Vv,A=Iv,U=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(A=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(U=l.unstable_transitionCallbacks)),l=gj(a,1,!1,null,null,d,m,y,w,A,U,null),a[Ye]=l.current,ug(a),new Eg(l)},xu.hydrateRoot=function(a,l,d){if(!i(a))throw Error(n(299));var m=!1,y="",w=$v,A=Vv,U=Iv,ee=null,be=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(y=d.identifierPrefix),d.onUncaughtError!==void 0&&(w=d.onUncaughtError),d.onCaughtError!==void 0&&(A=d.onCaughtError),d.onRecoverableError!==void 0&&(U=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(ee=d.unstable_transitionCallbacks),d.formState!==void 0&&(be=d.formState)),l=gj(a,1,!0,l,d!=null?d:null,m,y,w,A,U,ee,be),l.context=xj(null),d=l.current,m=sa(),m=Kt(m),y=oi(m),y.callback=null,li(d,y,m),d=m,l.current.lanes=d,kt(l,d),nr(l),a[Ye]=l.current,ug(a),new Df(l)},xu.version="19.1.1",xu}var Uj;function VD(){if(Uj)return Mg.exports;Uj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Mg.exports=$D(),Mg.exports}var ID=VD();const qD=Mx(ID);var WD=Object.defineProperty,YD=(e,t,s)=>t in e?WD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,No=(e,t,s)=>YD(e,typeof t!="symbol"?t+"":t,s),GD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ll={},yu={},Fa={},zj;function t2(){if(zj)return Fa;zj=1;var e=Fa&&Fa.__assign||function(){return e=Object.assign||function(i){for(var o,c=1,u=arguments.length;c<u;c++){o=arguments[c];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(i[h]=o[h])}return i},e.apply(this,arguments)},t=Fa&&Fa.__awaiter||function(i,o,c,u){function h(f){return f instanceof c?f:new c(function(p){p(f)})}return new(c||(c=Promise))(function(f,p){function g(j){try{b(u.next(j))}catch(v){p(v)}}function x(j){try{b(u.throw(j))}catch(v){p(v)}}function b(j){j.done?f(j.value):h(j.value).then(g,x)}b((u=u.apply(i,o||[])).next())})},s=Fa&&Fa.__generator||function(i,o){var c={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},u,h,f,p;return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(b){return function(j){return x([b,j])}}function x(b){if(u)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(c=0)),c;)try{if(u=1,h&&(f=b[0]&2?h.return:b[0]?h.throw||((f=h.return)&&f.call(h),0):h.next)&&!(f=f.call(h,b[1])).done)return f;switch(h=0,f&&(b=[b[0]&2,f.value]),b[0]){case 0:case 1:f=b;break;case 4:return c.label++,{value:b[1],done:!1};case 5:c.label++,h=b[1],b=[0];continue;case 7:b=c.ops.pop(),c.trys.pop();continue;default:if(f=c.trys,!(f=f.length>0&&f[f.length-1])&&(b[0]===6||b[0]===2)){c=0;continue}if(b[0]===3&&(!f||b[1]>f[0]&&b[1]<f[3])){c.label=b[1];break}if(b[0]===6&&c.label<f[1]){c.label=f[1],f=b;break}if(f&&c.label<f[2]){c.label=f[2],c.ops.push(b);break}f[2]&&c.ops.pop(),c.trys.pop();continue}b=o.call(i,c)}catch(j){b=[6,j],h=0}finally{u=f=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}};Object.defineProperty(Fa,"__esModule",{value:!0}),Fa.FrappeCall=void 0;var n=function(){function i(o,c,u,h,f){this.appURL=o,this.axios=c,this.useToken=u!=null?u:!1,this.token=h,this.tokenType=f}return i.prototype.get=function(o,c){return t(this,void 0,void 0,function(){var u;return s(this,function(h){return u=new URLSearchParams,c&&Object.entries(c).forEach(function(f){var p=f[0],g=f[1];if(g!=null){var x=typeof g=="object"?JSON.stringify(g):g;u.set(p,x)}}),[2,this.axios.get("/api/method/".concat(o),{params:u}).then(function(f){return f.data}).catch(function(f){var p,g;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(p=f.response.data.message)!==null&&p!==void 0?p:"There was an error.",exception:(g=f.response.data.exception)!==null&&g!==void 0?g:""})})]})})},i.prototype.post=function(o,c){return t(this,void 0,void 0,function(){return s(this,function(u){return[2,this.axios.post("/api/method/".concat(o),e({},c)).then(function(h){return h.data}).catch(function(h){var f,p;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(f=h.response.data.message)!==null&&f!==void 0?f:"There was an error.",exception:(p=h.response.data.exception)!==null&&p!==void 0?p:""})})]})})},i.prototype.put=function(o,c){return t(this,void 0,void 0,function(){return s(this,function(u){return[2,this.axios.put("/api/method/".concat(o),e({},c)).then(function(h){return h.data}).catch(function(h){var f,p;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(f=h.response.data.message)!==null&&f!==void 0?f:"There was an error.",exception:(p=h.response.data.exception)!==null&&p!==void 0?p:""})})]})})},i.prototype.delete=function(o,c){return t(this,void 0,void 0,function(){return s(this,function(u){return[2,this.axios.delete("/api/method/".concat(o),{params:c}).then(function(h){return h.data}).catch(function(h){var f,p;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(f=h.response.data.message)!==null&&f!==void 0?f:"There was an error.",exception:(p=h.response.data.exception)!==null&&p!==void 0?p:""})})]})})},i}();return Fa.FrappeCall=n,Fa}var Ua={},Hj;function s2(){if(Hj)return Ua;Hj=1;var e=Ua&&Ua.__assign||function(){return e=Object.assign||function(i){for(var o,c=1,u=arguments.length;c<u;c++){o=arguments[c];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(i[h]=o[h])}return i},e.apply(this,arguments)},t=Ua&&Ua.__awaiter||function(i,o,c,u){function h(f){return f instanceof c?f:new c(function(p){p(f)})}return new(c||(c=Promise))(function(f,p){function g(j){try{b(u.next(j))}catch(v){p(v)}}function x(j){try{b(u.throw(j))}catch(v){p(v)}}function b(j){j.done?f(j.value):h(j.value).then(g,x)}b((u=u.apply(i,o||[])).next())})},s=Ua&&Ua.__generator||function(i,o){var c={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},u,h,f,p;return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(b){return function(j){return x([b,j])}}function x(b){if(u)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(c=0)),c;)try{if(u=1,h&&(f=b[0]&2?h.return:b[0]?h.throw||((f=h.return)&&f.call(h),0):h.next)&&!(f=f.call(h,b[1])).done)return f;switch(h=0,f&&(b=[b[0]&2,f.value]),b[0]){case 0:case 1:f=b;break;case 4:return c.label++,{value:b[1],done:!1};case 5:c.label++,h=b[1],b=[0];continue;case 7:b=c.ops.pop(),c.trys.pop();continue;default:if(f=c.trys,!(f=f.length>0&&f[f.length-1])&&(b[0]===6||b[0]===2)){c=0;continue}if(b[0]===3&&(!f||b[1]>f[0]&&b[1]<f[3])){c.label=b[1];break}if(b[0]===6&&c.label<f[1]){c.label=f[1],f=b;break}if(f&&c.label<f[2]){c.label=f[2],c.ops.push(b);break}f[2]&&c.ops.pop(),c.trys.pop();continue}b=o.call(i,c)}catch(j){b=[6,j],h=0}finally{u=f=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}};Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.FrappeDB=void 0;var n=function(){function i(o,c,u,h,f){this.appURL=o,this.axios=c,this.useToken=u!=null?u:!1,this.token=h,this.tokenType=f}return i.prototype.getDoc=function(o,c){return c===void 0&&(c=""),t(this,void 0,void 0,function(){return s(this,function(u){return[2,this.axios.get("/api/resource/".concat(o,"/").concat(encodeURIComponent(c))).then(function(h){return h.data.data}).catch(function(h){var f,p;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:"There was an error while fetching the document.",exception:(p=(f=h.response.data.exception)!==null&&f!==void 0?f:h.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},i.prototype.getDocList=function(o,c){var u;return t(this,void 0,void 0,function(){var h,f,p,g,x,b,j,v,T,_,R;return s(this,function(S){return h={},c&&(f=c.fields,p=c.filters,g=c.orFilters,x=c.orderBy,b=c.limit,j=c.limit_start,v=c.groupBy,T=c.asDict,_=T===void 0?!0:T,R=x?"".concat(String(x==null?void 0:x.field)," ").concat((u=x==null?void 0:x.order)!==null&&u!==void 0?u:"asc"):"",h={fields:f?JSON.stringify(f):void 0,filters:p?JSON.stringify(p):void 0,or_filters:g?JSON.stringify(g):void 0,order_by:R,group_by:v,limit:b,limit_start:j,as_dict:_}),[2,this.axios.get("/api/resource/".concat(o),{params:h}).then(function(C){return C.data.data}).catch(function(C){var D,k;throw e(e({},C.response.data),{httpStatus:C.response.status,httpStatusText:C.response.statusText,message:"There was an error while fetching the documents.",exception:(k=(D=C.response.data.exception)!==null&&D!==void 0?D:C.response.data.exc_type)!==null&&k!==void 0?k:""})})]})})},i.prototype.createDoc=function(o,c){return t(this,void 0,void 0,function(){return s(this,function(u){return[2,this.axios.post("/api/resource/".concat(o),e({},c)).then(function(h){return h.data.data}).catch(function(h){var f,p,g;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(f=h.response.data.message)!==null&&f!==void 0?f:"There was an error while creating the document.",exception:(g=(p=h.response.data.exception)!==null&&p!==void 0?p:h.response.data.exc_type)!==null&&g!==void 0?g:""})})]})})},i.prototype.updateDoc=function(o,c,u){return t(this,void 0,void 0,function(){return s(this,function(h){return[2,this.axios.put("/api/resource/".concat(o,"/").concat(c&&encodeURIComponent(c)),e({},u)).then(function(f){return f.data.data}).catch(function(f){var p,g,x;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(p=f.response.data.message)!==null&&p!==void 0?p:"There was an error while updating the document.",exception:(x=(g=f.response.data.exception)!==null&&g!==void 0?g:f.response.data.exc_type)!==null&&x!==void 0?x:""})})]})})},i.prototype.deleteDoc=function(o,c){return t(this,void 0,void 0,function(){return s(this,function(u){return[2,this.axios.delete("/api/resource/".concat(o,"/").concat(c&&encodeURIComponent(c))).then(function(h){return h.data}).catch(function(h){var f,p;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:"There was an error while deleting the document.",exception:(p=(f=h.response.data.exception)!==null&&f!==void 0?f:h.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},i.prototype.getCount=function(o,c,u,h){return u===void 0&&(u=!1),h===void 0&&(h=!1),t(this,void 0,void 0,function(){var f;return s(this,function(p){return f={doctype:o,filters:[]},u&&(f.cache=u),h&&(f.debug=h),c&&(f.filters=c?JSON.stringify(c):void 0),[2,this.axios.get("/api/method/frappe.client.get_count",{params:f}).then(function(g){return g.data.message}).catch(function(g){var x,b;throw e(e({},g.response.data),{httpStatus:g.response.status,httpStatusText:g.response.statusText,message:"There was an error while getting the count.",exception:(b=(x=g.response.data.exception)!==null&&x!==void 0?x:g.response.data.exc_type)!==null&&b!==void 0?b:""})})]})})},i.prototype.getLastDoc=function(o,c){return t(this,void 0,void 0,function(){var u,h;return s(this,function(f){switch(f.label){case 0:return u={orderBy:{field:"creation",order:"desc"}},c&&(u=e(e({},u),c)),[4,this.getDocList(o,e(e({},u),{limit:1,fields:["name"]}))];case 1:return h=f.sent(),h.length>0?[2,this.getDoc(o,h[0].name)]:[2,{}]}})})},i.prototype.renameDoc=function(o,c,u,h){return h===void 0&&(h=!1),t(this,void 0,void 0,function(){return s(this,function(f){return[2,this.axios.post("/api/method/frappe.client.rename_doc",{doctype:o,old_name:c,new_name:u,merge:h}).then(function(p){return p.data}).catch(function(p){var g,x,b;throw e(e({},p.response.data),{httpStatus:p.response.status,httpStatusText:p.response.statusText,message:(g=p.response.data.message)!==null&&g!==void 0?g:"There was an error while renaming the document.",exception:(b=(x=p.response.data.exception)!==null&&x!==void 0?x:p.response.data.exc_type)!==null&&b!==void 0?b:""})})]})})},i.prototype.getValue=function(o,c,u,h,f,p){return h===void 0&&(h=!0),f===void 0&&(f=!1),p===void 0&&(p=null),t(this,void 0,void 0,function(){var g;return s(this,function(x){return g={doctype:o,fieldname:"[]",filters:[],as_dict:h,debug:f,parent:null},c&&(g.fieldname=typeof c=="object"?JSON.stringify(c):c),u&&(g.filters=u?JSON.stringify(u):void 0),p&&(g.parent=p),[2,this.axios.get("/api/method/frappe.client.get_value",{params:g}).then(function(b){return b.data}).catch(function(b){var j,v;throw e(e({},b.response.data),{httpStatus:b.response.status,httpStatusText:b.response.statusText,message:"There was an error while getting the value.",exception:(v=(j=b.response.data.exception)!==null&&j!==void 0?j:b.response.data.exc_type)!==null&&v!==void 0?v:""})})]})})},i.prototype.setValue=function(o,c,u,h){return t(this,void 0,void 0,function(){return s(this,function(f){return u!==null&&typeof u=="object"&&!Array.isArray(u)&&(h=void 0),[2,this.axios.post("/api/method/frappe.client.set_value",{doctype:o,name:c,fieldname:u,value:h}).then(function(p){return p.data}).catch(function(p){var g,x;throw e(e({},p.response.data),{httpStatus:p.response.status,httpStatusText:p.response.statusText,message:"There was an error while setting the value.",exception:(x=(g=p.response.data.exception)!==null&&g!==void 0?g:p.response.data.exc_type)!==null&&x!==void 0?x:""})})]})})},i.prototype.getSingleValue=function(o,c){return t(this,void 0,void 0,function(){var u;return s(this,function(h){return u={doctype:o,field:c},[2,this.axios.get("/api/method/frappe.client.get_single_value",{params:u}).then(function(f){return f.data}).catch(function(f){var p,g;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while getting the value of single doctype.",exception:(g=(p=f.response.data.exception)!==null&&p!==void 0?p:f.response.data.exc_type)!==null&&g!==void 0?g:""})})]})})},i.prototype.submit=function(o){return t(this,void 0,void 0,function(){return s(this,function(c){return[2,this.axios.post("/api/method/frappe.client.submit",{doc:o}).then(function(u){return u.data.message}).catch(function(u){var h,f;throw e(e({},u.response.data),{httpStatus:u.response.status,httpStatusText:u.response.statusText,message:"There was an error while submitting the document.",exception:(f=(h=u.response.data.exception)!==null&&h!==void 0?h:u.response.data.exc_type)!==null&&f!==void 0?f:""})})]})})},i.prototype.cancel=function(o,c){return t(this,void 0,void 0,function(){return s(this,function(u){return[2,this.axios.post("/api/method/frappe.client.cancel",{doctype:o,name:c}).then(function(h){return h.data}).catch(function(h){var f,p;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:"There was an error while cancelling the document.",exception:(p=(f=h.response.data.exception)!==null&&f!==void 0?f:h.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},i}();return Ua.FrappeDB=n,Ua}var za={},Ur={};/*! Axios v1.8.2 Copyright (c) 2025 Matt Zabriskie and contributors */var Fg,$j;function XD(){if($j)return Fg;$j=1;function e(E,P){return function(){return E.apply(P,arguments)}}const{toString:t}=Object.prototype,{getPrototypeOf:s}=Object,n=(E=>P=>{const $=t.call(P);return E[$]||(E[$]=$.slice(8,-1).toLowerCase())})(Object.create(null)),i=E=>(E=E.toLowerCase(),P=>n(P)===E),o=E=>P=>typeof P===E,{isArray:c}=Array,u=o("undefined");function h(E){return E!==null&&!u(E)&&E.constructor!==null&&!u(E.constructor)&&x(E.constructor.isBuffer)&&E.constructor.isBuffer(E)}const f=i("ArrayBuffer");function p(E){let P;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?P=ArrayBuffer.isView(E):P=E&&E.buffer&&f(E.buffer),P}const g=o("string"),x=o("function"),b=o("number"),j=E=>E!==null&&typeof E=="object",v=E=>E===!0||E===!1,T=E=>{if(n(E)!=="object")return!1;const P=s(E);return(P===null||P===Object.prototype||Object.getPrototypeOf(P)===null)&&!(Symbol.toStringTag in E)&&!(Symbol.iterator in E)},_=i("Date"),R=i("File"),S=i("Blob"),C=i("FileList"),D=E=>j(E)&&x(E.pipe),k=E=>{let P;return E&&(typeof FormData=="function"&&E instanceof FormData||x(E.append)&&((P=n(E))==="formdata"||P==="object"&&x(E.toString)&&E.toString()==="[object FormData]"))},B=i("URLSearchParams"),[F,O,X,I]=["ReadableStream","Request","Response","Headers"].map(i),Q=E=>E.trim?E.trim():E.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function W(E,P,{allOwnKeys:$=!1}={}){if(E===null||typeof E>"u")return;let q,de;if(typeof E!="object"&&(E=[E]),c(E))for(q=0,de=E.length;q<de;q++)P.call(null,E[q],q,E);else{const pe=$?Object.getOwnPropertyNames(E):Object.keys(E),ve=pe.length;let Ve;for(q=0;q<ve;q++)Ve=pe[q],P.call(null,E[Ve],Ve,E)}}function Y(E,P){P=P.toLowerCase();const $=Object.keys(E);let q=$.length,de;for(;q-- >0;)if(de=$[q],P===de.toLowerCase())return de;return null}const H=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:GD,z=E=>!u(E)&&E!==H;function Z(){const{caseless:E}=z(this)&&this||{},P={},$=(q,de)=>{const pe=E&&Y(P,de)||de;T(P[pe])&&T(q)?P[pe]=Z(P[pe],q):T(q)?P[pe]=Z({},q):c(q)?P[pe]=q.slice():P[pe]=q};for(let q=0,de=arguments.length;q<de;q++)arguments[q]&&W(arguments[q],$);return P}const te=(E,P,$,{allOwnKeys:q}={})=>(W(P,(de,pe)=>{$&&x(de)?E[pe]=e(de,$):E[pe]=de},{allOwnKeys:q}),E),ue=E=>(E.charCodeAt(0)===65279&&(E=E.slice(1)),E),M=(E,P,$,q)=>{E.prototype=Object.create(P.prototype,q),E.prototype.constructor=E,Object.defineProperty(E,"super",{value:P.prototype}),$&&Object.assign(E.prototype,$)},ie=(E,P,$,q)=>{let de,pe,ve;const Ve={};if(P=P||{},E==null)return P;do{for(de=Object.getOwnPropertyNames(E),pe=de.length;pe-- >0;)ve=de[pe],(!q||q(ve,E,P))&&!Ve[ve]&&(P[ve]=E[ve],Ve[ve]=!0);E=$!==!1&&s(E)}while(E&&(!$||$(E,P))&&E!==Object.prototype);return P},ne=(E,P,$)=>{E=String(E),($===void 0||$>E.length)&&($=E.length),$-=P.length;const q=E.indexOf(P,$);return q!==-1&&q===$},V=E=>{if(!E)return null;if(c(E))return E;let P=E.length;if(!b(P))return null;const $=new Array(P);for(;P-- >0;)$[P]=E[P];return $},J=(E=>P=>E&&P instanceof E)(typeof Uint8Array<"u"&&s(Uint8Array)),xe=(E,P)=>{const $=(E&&E[Symbol.iterator]).call(E);let q;for(;(q=$.next())&&!q.done;){const de=q.value;P.call(E,de[0],de[1])}},fe=(E,P)=>{let $;const q=[];for(;($=E.exec(P))!==null;)q.push($);return q},Ee=i("HTMLFormElement"),De=E=>E.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(P,$,q){return $.toUpperCase()+q}),Ie=(({hasOwnProperty:E})=>(P,$)=>E.call(P,$))(Object.prototype),re=i("RegExp"),Re=(E,P)=>{const $=Object.getOwnPropertyDescriptors(E),q={};W($,(de,pe)=>{let ve;(ve=P(de,pe,E))!==!1&&(q[pe]=ve||de)}),Object.defineProperties(E,q)},He=E=>{Re(E,(P,$)=>{if(x(E)&&["arguments","caller","callee"].indexOf($)!==-1)return!1;const q=E[$];if(x(q)){if(P.enumerable=!1,"writable"in P){P.writable=!1;return}P.set||(P.set=()=>{throw Error("Can not rewrite read-only method '"+$+"'")})}})},Xe=(E,P)=>{const $={},q=de=>{de.forEach(pe=>{$[pe]=!0})};return c(E)?q(E):q(String(E).split(P)),$},Le=()=>{},dt=(E,P)=>E!=null&&Number.isFinite(E=+E)?E:P;function Ge(E){return!!(E&&x(E.append)&&E[Symbol.toStringTag]==="FormData"&&E[Symbol.iterator])}const Be=E=>{const P=new Array(10),$=(q,de)=>{if(j(q)){if(P.indexOf(q)>=0)return;if(!("toJSON"in q)){P[de]=q;const pe=c(q)?[]:{};return W(q,(ve,Ve)=>{const gt=$(ve,de+1);!u(gt)&&(pe[Ve]=gt)}),P[de]=void 0,pe}}return q};return $(E,0)},ze=i("AsyncFunction"),nt=E=>E&&(j(E)||x(E))&&x(E.then)&&x(E.catch),K=((E,P)=>E?setImmediate:P?(($,q)=>(H.addEventListener("message",({source:de,data:pe})=>{de===H&&pe===$&&q.length&&q.shift()()},!1),de=>{q.push(de),H.postMessage($,"*")}))(`axios@${Math.random()}`,[]):$=>setTimeout($))(typeof setImmediate=="function",x(H.postMessage)),me=typeof queueMicrotask<"u"?queueMicrotask.bind(H):typeof process<"u"&&process.nextTick||K;var G={isArray:c,isArrayBuffer:f,isBuffer:h,isFormData:k,isArrayBufferView:p,isString:g,isNumber:b,isBoolean:v,isObject:j,isPlainObject:T,isReadableStream:F,isRequest:O,isResponse:X,isHeaders:I,isUndefined:u,isDate:_,isFile:R,isBlob:S,isRegExp:re,isFunction:x,isStream:D,isURLSearchParams:B,isTypedArray:J,isFileList:C,forEach:W,merge:Z,extend:te,trim:Q,stripBOM:ue,inherits:M,toFlatObject:ie,kindOf:n,kindOfTest:i,endsWith:ne,toArray:V,forEachEntry:xe,matchAll:fe,isHTMLForm:Ee,hasOwnProperty:Ie,hasOwnProp:Ie,reduceDescriptors:Re,freezeMethods:He,toObjectSet:Xe,toCamelCase:De,noop:Le,toFiniteNumber:dt,findKey:Y,global:H,isContextDefined:z,isSpecCompliantForm:Ge,toJSONObject:Be,isAsyncFn:ze,isThenable:nt,setImmediate:K,asap:me};function Te(E,P,$,q,de){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=E,this.name="AxiosError",P&&(this.code=P),$&&(this.config=$),q&&(this.request=q),de&&(this.response=de,this.status=de.status?de.status:null)}G.inherits(Te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}});const Ue=Te.prototype,Pe={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(E=>{Pe[E]={value:E}}),Object.defineProperties(Te,Pe),Object.defineProperty(Ue,"isAxiosError",{value:!0}),Te.from=(E,P,$,q,de,pe)=>{const ve=Object.create(Ue);return G.toFlatObject(E,ve,function(Ve){return Ve!==Error.prototype},Ve=>Ve!=="isAxiosError"),Te.call(ve,E.message,P,$,q,de),ve.cause=E,ve.name=E.name,pe&&Object.assign(ve,pe),ve};var We=null;function Ze(E){return G.isPlainObject(E)||G.isArray(E)}function at(E){return G.endsWith(E,"[]")?E.slice(0,-2):E}function jt(E,P,$){return E?E.concat(P).map(function(q,de){return q=at(q),!$&&de?"["+q+"]":q}).join($?".":""):P}function Se(E){return G.isArray(E)&&!E.some(Ze)}const Fe=G.toFlatObject(G,{},null,function(E){return/^is[A-Z]/.test(E)});function Ke(E,P,$){if(!G.isObject(E))throw new TypeError("target must be an object");P=P||new FormData,$=G.toFlatObject($,{metaTokens:!0,dots:!1,indexes:!1},!1,function(At,yt){return!G.isUndefined(yt[At])});const q=$.metaTokens,de=$.visitor||qe,pe=$.dots,ve=$.indexes,Ve=($.Blob||typeof Blob<"u"&&Blob)&&G.isSpecCompliantForm(P);if(!G.isFunction(de))throw new TypeError("visitor must be a function");function gt(At){if(At===null)return"";if(G.isDate(At))return At.toISOString();if(!Ve&&G.isBlob(At))throw new Te("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(At)||G.isTypedArray(At)?Ve&&typeof Blob=="function"?new Blob([At]):Buffer.from(At):At}function qe(At,yt,ut){let ln=At;if(At&&!ut&&typeof At=="object"){if(G.endsWith(yt,"{}"))yt=q?yt:yt.slice(0,-2),At=JSON.stringify(At);else if(G.isArray(At)&&Se(At)||(G.isFileList(At)||G.endsWith(yt,"[]"))&&(ln=G.toArray(At)))return yt=at(yt),ln.forEach(function(qs,Cs){!(G.isUndefined(qs)||qs===null)&&P.append(ve===!0?jt([yt],Cs,pe):ve===null?yt:yt+"[]",gt(qs))}),!1}return Ze(At)?!0:(P.append(jt(ut,yt,pe),gt(At)),!1)}const et=[],vt=Object.assign(Fe,{defaultVisitor:qe,convertValue:gt,isVisitable:Ze});function fs(At,yt){if(!G.isUndefined(At)){if(et.indexOf(At)!==-1)throw Error("Circular reference detected in "+yt.join("."));et.push(At),G.forEach(At,function(ut,ln){(!(G.isUndefined(ut)||ut===null)&&de.call(P,ut,G.isString(ln)?ln.trim():ln,yt,vt))===!0&&fs(ut,yt?yt.concat(ln):[ln])}),et.pop()}}if(!G.isObject(E))throw new TypeError("data must be an object");return fs(E),P}function zt(E){const P={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(E).replace(/[!'()~]|%20|%00/g,function($){return P[$]})}function Gt(E,P){this._pairs=[],E&&Ke(E,this,P)}const Xt=Gt.prototype;Xt.append=function(E,P){this._pairs.push([E,P])},Xt.toString=function(E){const P=E?function($){return E.call(this,$,zt)}:zt;return this._pairs.map(function($){return P($[0])+"="+P($[1])},"").join("&")};function is(E){return encodeURIComponent(E).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Is(E,P,$){if(!P)return E;const q=$&&$.encode||is;G.isFunction($)&&($={serialize:$});const de=$&&$.serialize;let pe;if(de?pe=de(P,$):pe=G.isURLSearchParams(P)?P.toString():new Gt(P,$).toString(q),pe){const ve=E.indexOf("#");ve!==-1&&(E=E.slice(0,ve)),E+=(E.indexOf("?")===-1?"?":"&")+pe}return E}class rn{constructor(){this.handlers=[]}use(P,$,q){return this.handlers.push({fulfilled:P,rejected:$,synchronous:q?q.synchronous:!1,runWhen:q?q.runWhen:null}),this.handlers.length-1}eject(P){this.handlers[P]&&(this.handlers[P]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(P){G.forEach(this.handlers,function($){$!==null&&P($)})}}var tt=rn,Bt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Vt=typeof URLSearchParams<"u"?URLSearchParams:Gt,kt=typeof FormData<"u"?FormData:null,as=typeof Blob<"u"?Blob:null,st={isBrowser:!0,classes:{URLSearchParams:Vt,FormData:kt,Blob:as},protocols:["http","https","file","blob","url","data"]};const Ct=typeof window<"u"&&typeof document<"u",Kt=typeof navigator=="object"&&navigator||void 0,Jt=Ct&&(!Kt||["ReactNative","NativeScript","NS"].indexOf(Kt.product)<0),se=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ce=Ct&&window.location.href||"http://localhost";var ge=Object.freeze({__proto__:null,hasBrowserEnv:Ct,hasStandardBrowserWebWorkerEnv:se,hasStandardBrowserEnv:Jt,navigator:Kt,origin:ce}),_e=L(L({},ge),st);function Me(E,P){return Ke(E,new _e.classes.URLSearchParams,Object.assign({visitor:function($,q,de,pe){return _e.isNode&&G.isBuffer($)?(this.append(q,$.toString("base64")),!1):pe.defaultVisitor.apply(this,arguments)}},P))}function Ye(E){return G.matchAll(/\w+|\[(\w*)]/g,E).map(P=>P[0]==="[]"?"":P[1]||P[0])}function rt(E){const P={},$=Object.keys(E);let q;const de=$.length;let pe;for(q=0;q<de;q++)pe=$[q],P[pe]=E[pe];return P}function ct(E){function P($,q,de,pe){let ve=$[pe++];if(ve==="__proto__")return!0;const Ve=Number.isFinite(+ve),gt=pe>=$.length;return ve=!ve&&G.isArray(de)?de.length:ve,gt?(G.hasOwnProp(de,ve)?de[ve]=[de[ve],q]:de[ve]=q,!Ve):((!de[ve]||!G.isObject(de[ve]))&&(de[ve]=[]),P($,q,de[ve],pe)&&G.isArray(de[ve])&&(de[ve]=rt(de[ve])),!Ve)}if(G.isFormData(E)&&G.isFunction(E.entries)){const $={};return G.forEachEntry(E,(q,de)=>{P(Ye(q),de,$,0)}),$}return null}function xt(E,P,$){if(G.isString(E))try{return(P||JSON.parse)(E),G.trim(E)}catch(q){if(q.name!=="SyntaxError")throw q}return($||JSON.stringify)(E)}const Mt={transitional:Bt,adapter:["xhr","http","fetch"],transformRequest:[function(E,P){const $=P.getContentType()||"",q=$.indexOf("application/json")>-1,de=G.isObject(E);if(de&&G.isHTMLForm(E)&&(E=new FormData(E)),G.isFormData(E))return q?JSON.stringify(ct(E)):E;if(G.isArrayBuffer(E)||G.isBuffer(E)||G.isStream(E)||G.isFile(E)||G.isBlob(E)||G.isReadableStream(E))return E;if(G.isArrayBufferView(E))return E.buffer;if(G.isURLSearchParams(E))return P.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),E.toString();let pe;if(de){if($.indexOf("application/x-www-form-urlencoded")>-1)return Me(E,this.formSerializer).toString();if((pe=G.isFileList(E))||$.indexOf("multipart/form-data")>-1){const ve=this.env&&this.env.FormData;return Ke(pe?{"files[]":E}:E,ve&&new ve,this.formSerializer)}}return de||q?(P.setContentType("application/json",!1),xt(E)):E}],transformResponse:[function(E){const P=this.transitional||Mt.transitional,$=P&&P.forcedJSONParsing,q=this.responseType==="json";if(G.isResponse(E)||G.isReadableStream(E))return E;if(E&&G.isString(E)&&($&&!this.responseType||q)){const de=!(P&&P.silentJSONParsing)&&q;try{return JSON.parse(E)}catch(pe){if(de)throw pe.name==="SyntaxError"?Te.from(pe,Te.ERR_BAD_RESPONSE,this,null,this.response):pe}}return E}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_e.classes.FormData,Blob:_e.classes.Blob},validateStatus:function(E){return E>=200&&E<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],E=>{Mt.headers[E]={}});var ft=Mt;const St=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Rt=E=>{const P={};let $,q,de;return E&&E.split(`
`).forEach(function(pe){de=pe.indexOf(":"),$=pe.substring(0,de).trim().toLowerCase(),q=pe.substring(de+1).trim(),!(!$||P[$]&&St[$])&&($==="set-cookie"?P[$]?P[$].push(q):P[$]=[q]:P[$]=P[$]?P[$]+", "+q:q)}),P};const xs=Symbol("internals");function Os(E){return E&&String(E).trim().toLowerCase()}function ds(E){return E===!1||E==null?E:G.isArray(E)?E.map(ds):String(E)}function ht(E){const P=Object.create(null),$=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let q;for(;q=$.exec(E);)P[q[1]]=q[2];return P}const Dt=E=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(E.trim());function es(E,P,$,q,de){if(G.isFunction(q))return q.call(this,P,$);if(de&&(P=$),!!G.isString(P)){if(G.isString(q))return P.indexOf(q)!==-1;if(G.isRegExp(q))return q.test(P)}}function _s(E){return E.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(P,$,q)=>$.toUpperCase()+q)}function Rs(E,P){const $=G.toCamelCase(" "+P);["get","set","has"].forEach(q=>{Object.defineProperty(E,q+$,{value:function(de,pe,ve){return this[q].call(this,P,de,pe,ve)},configurable:!0})})}class Zs{constructor(P){P&&this.set(P)}set(P,$,q){const de=this;function pe(Ve,gt,qe){const et=Os(gt);if(!et)throw new Error("header name must be a non-empty string");const vt=G.findKey(de,et);(!vt||de[vt]===void 0||qe===!0||qe===void 0&&de[vt]!==!1)&&(de[vt||gt]=ds(Ve))}const ve=(Ve,gt)=>G.forEach(Ve,(qe,et)=>pe(qe,et,gt));if(G.isPlainObject(P)||P instanceof this.constructor)ve(P,$);else if(G.isString(P)&&(P=P.trim())&&!Dt(P))ve(Rt(P),$);else if(G.isHeaders(P))for(const[Ve,gt]of P.entries())pe(gt,Ve,q);else P!=null&&pe($,P,q);return this}get(P,$){if(P=Os(P),P){const q=G.findKey(this,P);if(q){const de=this[q];if(!$)return de;if($===!0)return ht(de);if(G.isFunction($))return $.call(this,de,q);if(G.isRegExp($))return $.exec(de);throw new TypeError("parser must be boolean|regexp|function")}}}has(P,$){if(P=Os(P),P){const q=G.findKey(this,P);return!!(q&&this[q]!==void 0&&(!$||es(this,this[q],q,$)))}return!1}delete(P,$){const q=this;let de=!1;function pe(ve){if(ve=Os(ve),ve){const Ve=G.findKey(q,ve);Ve&&(!$||es(q,q[Ve],Ve,$))&&(delete q[Ve],de=!0)}}return G.isArray(P)?P.forEach(pe):pe(P),de}clear(P){const $=Object.keys(this);let q=$.length,de=!1;for(;q--;){const pe=$[q];(!P||es(this,this[pe],pe,P,!0))&&(delete this[pe],de=!0)}return de}normalize(P){const $=this,q={};return G.forEach(this,(de,pe)=>{const ve=G.findKey(q,pe);if(ve){$[ve]=ds(de),delete $[pe];return}const Ve=P?_s(pe):String(pe).trim();Ve!==pe&&delete $[pe],$[Ve]=ds(de),q[Ve]=!0}),this}concat(...P){return this.constructor.concat(this,...P)}toJSON(P){const $=Object.create(null);return G.forEach(this,(q,de)=>{q!=null&&q!==!1&&($[de]=P&&G.isArray(q)?q.join(", "):q)}),$}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([P,$])=>P+": "+$).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(P){return P instanceof this?P:new this(P)}static concat(P,...$){const q=new this(P);return $.forEach(de=>q.set(de)),q}static accessor(P){const $=(this[xs]=this[xs]={accessors:{}}).accessors,q=this.prototype;function de(pe){const ve=Os(pe);$[ve]||(Rs(q,pe),$[ve]=!0)}return G.isArray(P)?P.forEach(de):de(P),this}}Zs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),G.reduceDescriptors(Zs.prototype,({value:E},P)=>{let $=P[0].toUpperCase()+P.slice(1);return{get:()=>E,set(q){this[$]=q}}}),G.freezeMethods(Zs);var on=Zs;function ca(E,P){const $=this||ft,q=P||$,de=on.from(q.headers);let pe=q.data;return G.forEach(E,function(ve){pe=ve.call($,pe,de.normalize(),P?P.status:void 0)}),de.normalize(),pe}function ua(E){return!!(E&&E.__CANCEL__)}function Nn(E,P,$){Te.call(this,E!=null?E:"canceled",Te.ERR_CANCELED,P,$),this.name="CanceledError"}G.inherits(Nn,Te,{__CANCEL__:!0});function da(E,P,$){const q=$.config.validateStatus;!$.status||!q||q($.status)?E($):P(new Te("Request failed with status code "+$.status,[Te.ERR_BAD_REQUEST,Te.ERR_BAD_RESPONSE][Math.floor($.status/100)-4],$.config,$.request,$))}function Lt(E){const P=/^([-+\w]{1,25})(:?\/\/|:)/.exec(E);return P&&P[1]||""}function Ms(E,P){E=E||10;const $=new Array(E),q=new Array(E);let de=0,pe=0,ve;return P=P!==void 0?P:1e3,function(Ve){const gt=Date.now(),qe=q[pe];ve||(ve=gt),$[de]=Ve,q[de]=gt;let et=pe,vt=0;for(;et!==de;)vt+=$[et++],et=et%E;if(de=(de+1)%E,de===pe&&(pe=(pe+1)%E),gt-ve<P)return;const fs=qe&&gt-qe;return fs?Math.round(vt*1e3/fs):void 0}}function jr(E,P){let $=0,q=1e3/P,de,pe;const ve=(Ve,gt=Date.now())=>{$=gt,de=null,pe&&(clearTimeout(pe),pe=null),E.apply(null,Ve)};return[(...Ve)=>{const gt=Date.now(),qe=gt-$;qe>=q?ve(Ve,gt):(de=Ve,pe||(pe=setTimeout(()=>{pe=null,ve(de)},q-qe)))},()=>de&&ve(de)]}const hn=(E,P,$=3)=>{let q=0;const de=Ms(50,250);return jr(pe=>{const ve=pe.loaded,Ve=pe.lengthComputable?pe.total:void 0,gt=ve-q,qe=de(gt),et=ve<=Ve;q=ve;const vt={loaded:ve,total:Ve,progress:Ve?ve/Ve:void 0,bytes:gt,rate:qe||void 0,estimated:qe&&Ve&&et?(Ve-ve)/qe:void 0,event:pe,lengthComputable:Ve!=null,[P?"download":"upload"]:!0};E(vt)},$)},bs=(E,P)=>{const $=E!=null;return[q=>P[0]({lengthComputable:$,total:E,loaded:q}),P[1]]},Ra=E=>(...P)=>G.asap(()=>E(...P));var Qo=_e.hasStandardBrowserEnv?((E,P)=>$=>($=new URL($,_e.origin),E.protocol===$.protocol&&E.host===$.host&&(P||E.port===$.port)))(new URL(_e.origin),_e.navigator&&/(msie|trident)/i.test(_e.navigator.userAgent)):()=>!0,Zo=_e.hasStandardBrowserEnv?{write(E,P,$,q,de,pe){const ve=[E+"="+encodeURIComponent(P)];G.isNumber($)&&ve.push("expires="+new Date($).toGMTString()),G.isString(q)&&ve.push("path="+q),G.isString(de)&&ve.push("domain="+de),pe===!0&&ve.push("secure"),document.cookie=ve.join("; ")},read(E){const P=document.cookie.match(new RegExp("(^|;\\s*)("+E+")=([^;]*)"));return P?decodeURIComponent(P[3]):null},remove(E){this.write(E,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ln(E){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(E)}function _d(E,P){return P?E.replace(/\/?\/$/,"")+"/"+P.replace(/^\/+/,""):E}function Td(E,P,$){let q=!Ln(P);return E&&q||$==!1?_d(E,P):P}const Qi=E=>E instanceof on?L({},E):E;function Qa(E,P){P=P||{};const $={};function q(qe,et,vt,fs){return G.isPlainObject(qe)&&G.isPlainObject(et)?G.merge.call({caseless:fs},qe,et):G.isPlainObject(et)?G.merge({},et):G.isArray(et)?et.slice():et}function de(qe,et,vt,fs){if(G.isUndefined(et)){if(!G.isUndefined(qe))return q(void 0,qe,vt,fs)}else return q(qe,et,vt,fs)}function pe(qe,et){if(!G.isUndefined(et))return q(void 0,et)}function ve(qe,et){if(G.isUndefined(et)){if(!G.isUndefined(qe))return q(void 0,qe)}else return q(void 0,et)}function Ve(qe,et,vt){if(vt in P)return q(qe,et);if(vt in E)return q(void 0,qe)}const gt={url:pe,method:pe,data:pe,baseURL:ve,transformRequest:ve,transformResponse:ve,paramsSerializer:ve,timeout:ve,timeoutMessage:ve,withCredentials:ve,withXSRFToken:ve,adapter:ve,responseType:ve,xsrfCookieName:ve,xsrfHeaderName:ve,onUploadProgress:ve,onDownloadProgress:ve,decompress:ve,maxContentLength:ve,maxBodyLength:ve,beforeRedirect:ve,transport:ve,httpAgent:ve,httpsAgent:ve,cancelToken:ve,socketPath:ve,responseEncoding:ve,validateStatus:Ve,headers:(qe,et,vt)=>de(Qi(qe),Qi(et),vt,!0)};return G.forEach(Object.keys(Object.assign({},E,P)),function(qe){const et=gt[qe]||de,vt=et(E[qe],P[qe],qe);G.isUndefined(vt)&&et!==Ve||($[qe]=vt)}),$}var Zi=E=>{const P=Qa({},E);let{data:$,withXSRFToken:q,xsrfHeaderName:de,xsrfCookieName:pe,headers:ve,auth:Ve}=P;P.headers=ve=on.from(ve),P.url=Is(Td(P.baseURL,P.url),E.params,E.paramsSerializer),Ve&&ve.set("Authorization","Basic "+btoa((Ve.username||"")+":"+(Ve.password?unescape(encodeURIComponent(Ve.password)):"")));let gt;if(G.isFormData($)){if(_e.hasStandardBrowserEnv||_e.hasStandardBrowserWebWorkerEnv)ve.setContentType(void 0);else if((gt=ve.getContentType())!==!1){const[qe,...et]=gt?gt.split(";").map(vt=>vt.trim()).filter(Boolean):[];ve.setContentType([qe||"multipart/form-data",...et].join("; "))}}if(_e.hasStandardBrowserEnv&&(q&&G.isFunction(q)&&(q=q(P)),q||q!==!1&&Qo(P.url))){const qe=de&&pe&&Zo.read(pe);qe&&ve.set(de,qe)}return P},Lm=typeof XMLHttpRequest<"u"&&function(E){return new Promise(function(P,$){const q=Zi(E);let de=q.data;const pe=on.from(q.headers).normalize();let{responseType:ve,onUploadProgress:Ve,onDownloadProgress:gt}=q,qe,et,vt,fs,At;function yt(){fs&&fs(),At&&At(),q.cancelToken&&q.cancelToken.unsubscribe(qe),q.signal&&q.signal.removeEventListener("abort",qe)}let ut=new XMLHttpRequest;ut.open(q.method.toUpperCase(),q.url,!0),ut.timeout=q.timeout;function ln(){if(!ut)return;const Cs=on.from("getAllResponseHeaders"in ut&&ut.getAllResponseHeaders()),fa={data:!ve||ve==="text"||ve==="json"?ut.responseText:ut.response,status:ut.status,statusText:ut.statusText,headers:Cs,config:E,request:ut};da(function(ro){P(ro),yt()},function(ro){$(ro),yt()},fa),ut=null}"onloadend"in ut?ut.onloadend=ln:ut.onreadystatechange=function(){!ut||ut.readyState!==4||ut.status===0&&!(ut.responseURL&&ut.responseURL.indexOf("file:")===0)||setTimeout(ln)},ut.onabort=function(){ut&&($(new Te("Request aborted",Te.ECONNABORTED,E,ut)),ut=null)},ut.onerror=function(){$(new Te("Network Error",Te.ERR_NETWORK,E,ut)),ut=null},ut.ontimeout=function(){let Cs=q.timeout?"timeout of "+q.timeout+"ms exceeded":"timeout exceeded";const fa=q.transitional||Bt;q.timeoutErrorMessage&&(Cs=q.timeoutErrorMessage),$(new Te(Cs,fa.clarifyTimeoutError?Te.ETIMEDOUT:Te.ECONNABORTED,E,ut)),ut=null},de===void 0&&pe.setContentType(null),"setRequestHeader"in ut&&G.forEach(pe.toJSON(),function(Cs,fa){ut.setRequestHeader(fa,Cs)}),G.isUndefined(q.withCredentials)||(ut.withCredentials=!!q.withCredentials),ve&&ve!=="json"&&(ut.responseType=q.responseType),gt&&([vt,At]=hn(gt,!0),ut.addEventListener("progress",vt)),Ve&&ut.upload&&([et,fs]=hn(Ve),ut.upload.addEventListener("progress",et),ut.upload.addEventListener("loadend",fs)),(q.cancelToken||q.signal)&&(qe=Cs=>{ut&&($(!Cs||Cs.type?new Nn(null,E,ut):Cs),ut.abort(),ut=null)},q.cancelToken&&q.cancelToken.subscribe(qe),q.signal&&(q.signal.aborted?qe():q.signal.addEventListener("abort",qe)));const qs=Lt(q.url);if(qs&&_e.protocols.indexOf(qs)===-1){$(new Te("Unsupported protocol "+qs+":",Te.ERR_BAD_REQUEST,E));return}ut.send(de||null)})},Bn=(E,P)=>{const{length:$}=E=E?E.filter(Boolean):[];if(P||$){let q=new AbortController,de;const pe=function(qe){if(!de){de=!0,Ve();const et=qe instanceof Error?qe:this.reason;q.abort(et instanceof Te?et:new Nn(et instanceof Error?et.message:et))}};let ve=P&&setTimeout(()=>{ve=null,pe(new Te(`timeout ${P} of ms exceeded`,Te.ETIMEDOUT))},P);const Ve=()=>{E&&(ve&&clearTimeout(ve),ve=null,E.forEach(qe=>{qe.unsubscribe?qe.unsubscribe(pe):qe.removeEventListener("abort",pe)}),E=null)};E.forEach(qe=>qe.addEventListener("abort",pe));const{signal:gt}=q;return gt.unsubscribe=()=>G.asap(Ve),gt}};const wc=function*(E,P){let $=E.byteLength;if($<P){yield E;return}let q=0,de;for(;q<$;)de=q+P,yield E.slice(q,de),q=de},Sd=function(E,P){return Dg(this,null,function*(){try{for(var $=kj(jc(E)),q,de,pe;q=!(de=yield new jo($.next())).done;q=!1){const ve=de.value;yield*Ag(wc(ve,P))}}catch(de){pe=[de]}finally{try{q&&(de=$.return)&&(yield new jo(de.call($)))}finally{if(pe)throw pe[0]}}})},jc=function(E){return Dg(this,null,function*(){if(E[Symbol.asyncIterator]){yield*Ag(E);return}const P=E.getReader();try{for(;;){const{done:$,value:q}=yield new jo(P.read());if($)break;yield q}}finally{yield new jo(P.cancel())}})},Nr=(E,P,$,q)=>{const de=Sd(E,P);let pe=0,ve,Ve=qe=>{ve||(ve=!0,q&&q(qe))};return new ReadableStream({pull(qe){return we(this,null,function*(){try{const{done:et,value:vt}=yield de.next();if(et){Ve(),qe.close();return}let fs=vt.byteLength;if($){let At=pe+=fs;$(At)}qe.enqueue(new Uint8Array(vt))}catch(et){throw Ve(et),et}})},cancel(qe){return Ve(qe),de.return()}},{highWaterMark:2})},Ji=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Nc=Ji&&typeof ReadableStream=="function",Jr=Ji&&(typeof TextEncoder=="function"?(E=>P=>E.encode(P))(new TextEncoder):E=>we(null,null,function*(){return new Uint8Array(yield new Response(E).arrayBuffer())})),Cd=(E,...P)=>{try{return!!E(...P)}catch($){return!1}},Ed=Nc&&Cd(()=>{let E=!1;const P=new Request(_e.origin,{body:new ReadableStream,method:"POST",get duplex(){return E=!0,"half"}}).headers.has("Content-Type");return E&&!P}),_c=64*1024,eo=Nc&&Cd(()=>G.isReadableStream(new Response("").body)),Jo={stream:eo&&(E=>E.body)};Ji&&(E=>{["text","arrayBuffer","blob","formData","stream"].forEach(P=>{!Jo[P]&&(Jo[P]=G.isFunction(E[P])?$=>$[P]():($,q)=>{throw new Te(`Response type '${P}' is not supported`,Te.ERR_NOT_SUPPORT,q)})})})(new Response);const Bm=E=>we(null,null,function*(){if(E==null)return 0;if(G.isBlob(E))return E.size;if(G.isSpecCompliantForm(E))return(yield new Request(_e.origin,{method:"POST",body:E}).arrayBuffer()).byteLength;if(G.isArrayBufferView(E)||G.isArrayBuffer(E))return E.byteLength;if(G.isURLSearchParams(E)&&(E=E+""),G.isString(E))return(yield Jr(E)).byteLength}),el=(E,P)=>we(null,null,function*(){const $=G.toFiniteNumber(E.getContentLength());return $!=null?$:Bm(P)});var Tc=Ji&&(E=>we(null,null,function*(){let{url:P,method:$,data:q,signal:de,cancelToken:pe,timeout:ve,onDownloadProgress:Ve,onUploadProgress:gt,responseType:qe,headers:et,withCredentials:vt="same-origin",fetchOptions:fs}=Zi(E);qe=qe?(qe+"").toLowerCase():"text";let At=Bn([de,pe&&pe.toAbortSignal()],ve),yt;const ut=At&&At.unsubscribe&&(()=>{At.unsubscribe()});let ln;try{if(gt&&Ed&&$!=="get"&&$!=="head"&&(ln=yield el(et,q))!==0){let Za=new Request(P,{method:"POST",body:q,duplex:"half"}),ai;if(G.isFormData(q)&&(ai=Za.headers.get("content-type"))&&et.setContentType(ai),Za.body){const[al,rl]=bs(ln,hn(Ra(gt)));q=Nr(Za.body,_c,al,rl)}}G.isString(vt)||(vt=vt?"include":"omit");const qs="credentials"in Request.prototype;yt=new Request(P,oe(L({},fs),{signal:At,method:$.toUpperCase(),headers:et.normalize().toJSON(),body:q,duplex:"half",credentials:qs?vt:void 0}));let Cs=yield fetch(yt);const fa=eo&&(qe==="stream"||qe==="response");if(eo&&(Ve||fa&&ut)){const Za={};["status","statusText","headers"].forEach(Dd=>{Za[Dd]=Cs[Dd]});const ai=G.toFiniteNumber(Cs.headers.get("content-length")),[al,rl]=Ve&&bs(ai,hn(Ra(Ve),!0))||[];Cs=new Response(Nr(Cs.body,_c,al,()=>{rl&&rl(),ut&&ut()}),Za)}qe=qe||"text";let ro=yield Jo[G.findKey(Jo,qe)||"text"](Cs,E);return!fa&&ut&&ut(),yield new Promise((Za,ai)=>{da(Za,ai,{data:ro,headers:on.from(Cs.headers),status:Cs.status,statusText:Cs.statusText,config:E,request:yt})})}catch(qs){throw ut&&ut(),qs&&qs.name==="TypeError"&&/fetch/i.test(qs.message)?Object.assign(new Te("Network Error",Te.ERR_NETWORK,E,yt),{cause:qs.cause||qs}):Te.from(qs,qs&&qs.code,E,yt)}}));const to={http:We,xhr:Lm,fetch:Tc};G.forEach(to,(E,P)=>{if(E){try{Object.defineProperty(E,"name",{value:P})}catch($){}Object.defineProperty(E,"adapterName",{value:P})}});const _r=E=>`- ${E}`,ei=E=>G.isFunction(E)||E===null||E===!1;var Sc={getAdapter:E=>{E=G.isArray(E)?E:[E];const{length:P}=E;let $,q;const de={};for(let pe=0;pe<P;pe++){$=E[pe];let ve;if(q=$,!ei($)&&(q=to[(ve=String($)).toLowerCase()],q===void 0))throw new Te(`Unknown adapter '${ve}'`);if(q)break;de[ve||"#"+pe]=q}if(!q){const pe=Object.entries(de).map(([Ve,gt])=>`adapter ${Ve} `+(gt===!1?"is not supported by the environment":"is not available in the build"));let ve=P?pe.length>1?`since :
`+pe.map(_r).join(`
`):" "+_r(pe[0]):"as no adapter specified";throw new Te("There is no suitable adapter to dispatch the request "+ve,"ERR_NOT_SUPPORT")}return q},adapters:to};function so(E){if(E.cancelToken&&E.cancelToken.throwIfRequested(),E.signal&&E.signal.aborted)throw new Nn(null,E)}function Cc(E){return so(E),E.headers=on.from(E.headers),E.data=ca.call(E,E.transformRequest),["post","put","patch"].indexOf(E.method)!==-1&&E.headers.setContentType("application/x-www-form-urlencoded",!1),Sc.getAdapter(E.adapter||ft.adapter)(E).then(function(P){return so(E),P.data=ca.call(E,E.transformResponse,P),P.headers=on.from(P.headers),P},function(P){return ua(P)||(so(E),P&&P.response&&(P.response.data=ca.call(E,E.transformResponse,P.response),P.response.headers=on.from(P.response.headers))),Promise.reject(P)})}const ti="1.8.2",Fn={};["object","boolean","number","function","string","symbol"].forEach((E,P)=>{Fn[E]=function($){return typeof $===E||"a"+(P<1?"n ":" ")+E}});const tl={};Fn.transitional=function(E,P,$){function q(de,pe){return"[Axios v"+ti+"] Transitional option '"+de+"'"+pe+($?". "+$:"")}return(de,pe,ve)=>{if(E===!1)throw new Te(q(pe," has been removed"+(P?" in "+P:"")),Te.ERR_DEPRECATED);return P&&!tl[pe]&&(tl[pe]=!0,console.warn(q(pe," has been deprecated since v"+P+" and will be removed in the near future"))),E?E(de,pe,ve):!0}},Fn.spelling=function(E){return(P,$)=>(console.warn(`${$} is likely a misspelling of ${E}`),!0)};function no(E,P,$){if(typeof E!="object")throw new Te("options must be an object",Te.ERR_BAD_OPTION_VALUE);const q=Object.keys(E);let de=q.length;for(;de-- >0;){const pe=q[de],ve=P[pe];if(ve){const Ve=E[pe],gt=Ve===void 0||ve(Ve,pe,E);if(gt!==!0)throw new Te("option "+pe+" must be "+gt,Te.ERR_BAD_OPTION_VALUE);continue}if($!==!0)throw new Te("Unknown option "+pe,Te.ERR_BAD_OPTION)}}var Kn={assertOptions:no,validators:Fn};const Un=Kn.validators;class Tr{constructor(P){this.defaults=P,this.interceptors={request:new tt,response:new tt}}request(P,$){return we(this,null,function*(){try{return yield this._request(P,$)}catch(q){if(q instanceof Error){let de={};Error.captureStackTrace?Error.captureStackTrace(de):de=new Error;const pe=de.stack?de.stack.replace(/^.+\n/,""):"";try{q.stack?pe&&!String(q.stack).endsWith(pe.replace(/^.+\n.+\n/,""))&&(q.stack+=`
`+pe):q.stack=pe}catch(ve){}}throw q}})}_request(P,$){typeof P=="string"?($=$||{},$.url=P):$=P||{},$=Qa(this.defaults,$);const{transitional:q,paramsSerializer:de,headers:pe}=$;q!==void 0&&Kn.assertOptions(q,{silentJSONParsing:Un.transitional(Un.boolean),forcedJSONParsing:Un.transitional(Un.boolean),clarifyTimeoutError:Un.transitional(Un.boolean)},!1),de!=null&&(G.isFunction(de)?$.paramsSerializer={serialize:de}:Kn.assertOptions(de,{encode:Un.function,serialize:Un.function},!0)),$.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?$.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:$.allowAbsoluteUrls=!0),Kn.assertOptions($,{baseUrl:Un.spelling("baseURL"),withXsrfToken:Un.spelling("withXSRFToken")},!0),$.method=($.method||this.defaults.method||"get").toLowerCase();let ve=pe&&G.merge(pe.common,pe[$.method]);pe&&G.forEach(["delete","get","head","post","put","patch","common"],yt=>{delete pe[yt]}),$.headers=on.concat(ve,pe);const Ve=[];let gt=!0;this.interceptors.request.forEach(function(yt){typeof yt.runWhen=="function"&&yt.runWhen($)===!1||(gt=gt&&yt.synchronous,Ve.unshift(yt.fulfilled,yt.rejected))});const qe=[];this.interceptors.response.forEach(function(yt){qe.push(yt.fulfilled,yt.rejected)});let et,vt=0,fs;if(!gt){const yt=[Cc.bind(this),void 0];for(yt.unshift.apply(yt,Ve),yt.push.apply(yt,qe),fs=yt.length,et=Promise.resolve($);vt<fs;)et=et.then(yt[vt++],yt[vt++]);return et}fs=Ve.length;let At=$;for(vt=0;vt<fs;){const yt=Ve[vt++],ut=Ve[vt++];try{At=yt(At)}catch(ln){ut.call(this,ln);break}}try{et=Cc.call(this,At)}catch(yt){return Promise.reject(yt)}for(vt=0,fs=qe.length;vt<fs;)et=et.then(qe[vt++],qe[vt++]);return et}getUri(P){P=Qa(this.defaults,P);const $=Td(P.baseURL,P.url,P.allowAbsoluteUrls);return Is($,P.params,P.paramsSerializer)}}G.forEach(["delete","get","head","options"],function(E){Tr.prototype[E]=function(P,$){return this.request(Qa($||{},{method:E,url:P,data:($||{}).data}))}}),G.forEach(["post","put","patch"],function(E){function P($){return function(q,de,pe){return this.request(Qa(pe||{},{method:E,headers:$?{"Content-Type":"multipart/form-data"}:{},url:q,data:de}))}}Tr.prototype[E]=P(),Tr.prototype[E+"Form"]=P(!0)});var ao=Tr;class si{constructor(P){if(typeof P!="function")throw new TypeError("executor must be a function.");let $;this.promise=new Promise(function(de){$=de});const q=this;this.promise.then(de=>{if(!q._listeners)return;let pe=q._listeners.length;for(;pe-- >0;)q._listeners[pe](de);q._listeners=null}),this.promise.then=de=>{let pe;const ve=new Promise(Ve=>{q.subscribe(Ve),pe=Ve}).then(de);return ve.cancel=function(){q.unsubscribe(pe)},ve},P(function(de,pe,ve){q.reason||(q.reason=new Nn(de,pe,ve),$(q.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(P){if(this.reason){P(this.reason);return}this._listeners?this._listeners.push(P):this._listeners=[P]}unsubscribe(P){if(!this._listeners)return;const $=this._listeners.indexOf(P);$!==-1&&this._listeners.splice($,1)}toAbortSignal(){const P=new AbortController,$=q=>{P.abort(q)};return this.subscribe($),P.signal.unsubscribe=()=>this.unsubscribe($),P.signal}static source(){let P;return{token:new si(function($){P=$}),cancel:P}}}var sl=si;function kd(E){return function(P){return E.apply(null,P)}}function _n(E){return G.isObject(E)&&E.isAxiosError===!0}const Ma={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ma).forEach(([E,P])=>{Ma[P]=E});var nl=Ma;function ni(E){const P=new ao(E),$=e(ao.prototype.request,P);return G.extend($,ao.prototype,P,{allOwnKeys:!0}),G.extend($,P,null,{allOwnKeys:!0}),$.create=function(q){return ni(Qa(E,q))},$}const Ps=ni(ft);return Ps.Axios=ao,Ps.CanceledError=Nn,Ps.CancelToken=sl,Ps.isCancel=ua,Ps.VERSION=ti,Ps.toFormData=Ke,Ps.AxiosError=Te,Ps.Cancel=Ps.CanceledError,Ps.all=function(E){return Promise.all(E)},Ps.spread=kd,Ps.isAxiosError=_n,Ps.mergeConfig=Qa,Ps.AxiosHeaders=on,Ps.formToJSON=E=>ct(G.isHTMLForm(E)?new FormData(E):E),Ps.getAdapter=Sc.getAdapter,Ps.HttpStatusCode=nl,Ps.default=Ps,Fg=Ps,Fg}var Vj;function n2(){if(Vj)return Ur;Vj=1;var e=Ur&&Ur.__assign||function(){return e=Object.assign||function(i){for(var o,c=1,u=arguments.length;c<u;c++){o=arguments[c];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(i[h]=o[h])}return i},e.apply(this,arguments)};Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.getRequestHeaders=Ur.getAxiosClient=void 0;var t=XD();function s(i,o,c,u,h){var f=t.default.create({baseURL:i,headers:n(o,u,c,i,h),withCredentials:!0});return f.interceptors.request.use(function(p){return typeof window<"u"&&window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(p.headers["X-Frappe-CSRF-Token"]=window.csrf_token),o&&u&&c&&(p.headers.Authorization="".concat(u," ").concat(c())),p}),f}Ur.getAxiosClient=s;function n(i,o,c,u,h){i===void 0&&(i=!1);var f={Accept:"application/json","Content-Type":"application/json; charset=utf-8"};return i&&o&&c&&(f.Authorization="".concat(o," ").concat(c())),typeof window<"u"&&typeof document<"u"&&(window.location&&(u&&u!==window.location.origin||(f["X-Frappe-Site-Name"]=window.location.hostname)),window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(f["X-Frappe-CSRF-Token"]=window.csrf_token)),e(e({},f),h!=null?h:{})}return Ur.getRequestHeaders=n,Ur}var Ij;function a2(){if(Ij)return za;Ij=1;var e=za&&za.__assign||function(){return e=Object.assign||function(o){for(var c,u=1,h=arguments.length;u<h;u++){c=arguments[u];for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(o[f]=c[f])}return o},e.apply(this,arguments)},t=za&&za.__awaiter||function(o,c,u,h){function f(p){return p instanceof u?p:new u(function(g){g(p)})}return new(u||(u=Promise))(function(p,g){function x(v){try{j(h.next(v))}catch(T){g(T)}}function b(v){try{j(h.throw(v))}catch(T){g(T)}}function j(v){v.done?p(v.value):f(v.value).then(x,b)}j((h=h.apply(o,c||[])).next())})},s=za&&za.__generator||function(o,c){var u={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},h,f,p,g;return g={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function x(j){return function(v){return b([j,v])}}function b(j){if(h)throw new TypeError("Generator is already executing.");for(;g&&(g=0,j[0]&&(u=0)),u;)try{if(h=1,f&&(p=j[0]&2?f.return:j[0]?f.throw||((p=f.return)&&p.call(f),0):f.next)&&!(p=p.call(f,j[1])).done)return p;switch(f=0,p&&(j=[j[0]&2,p.value]),j[0]){case 0:case 1:p=j;break;case 4:return u.label++,{value:j[1],done:!1};case 5:u.label++,f=j[1],j=[0];continue;case 7:j=u.ops.pop(),u.trys.pop();continue;default:if(p=u.trys,!(p=p.length>0&&p[p.length-1])&&(j[0]===6||j[0]===2)){u=0;continue}if(j[0]===3&&(!p||j[1]>p[0]&&j[1]<p[3])){u.label=j[1];break}if(j[0]===6&&u.label<p[1]){u.label=p[1],p=j;break}if(p&&u.label<p[2]){u.label=p[2],u.ops.push(j);break}p[2]&&u.ops.pop(),u.trys.pop();continue}j=c.call(o,u)}catch(v){j=[6,v],f=0}finally{h=p=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}};Object.defineProperty(za,"__esModule",{value:!0}),za.FrappeFileUpload=void 0;var n=n2(),i=function(){function o(c,u,h,f,p,g){this.appURL=c,this.axios=u,this.useToken=h!=null?h:!1,this.token=f,this.tokenType=p,this.customHeaders=g}return o.prototype.uploadFile=function(c,u,h,f){return f===void 0&&(f="upload_file"),t(this,void 0,void 0,function(){var p,g,x,b,j,v,T,_;return s(this,function(R){return p=new FormData,c&&p.append("file",c,c.name),g=u.isPrivate,x=u.folder,b=u.file_url,j=u.doctype,v=u.docname,T=u.fieldname,_=u.otherData,g&&p.append("is_private","1"),x&&p.append("folder",x),b&&p.append("file_url",b),j&&v&&(p.append("doctype",j),p.append("docname",v),T&&p.append("fieldname",T)),_&&Object.keys(_).forEach(function(S){var C=_[S];p.append(S,C)}),[2,this.axios.post("/api/method/".concat(f),p,{onUploadProgress:function(S){h&&h(S.loaded,S.total,S)},headers:e(e({},(0,n.getRequestHeaders)(this.useToken,this.tokenType,this.token,this.appURL,this.customHeaders)),{"Content-Type":"multipart/form-data"})}).catch(function(S){var C,D;throw e(e({},S.response.data),{httpStatus:S.response.status,httpStatusText:S.response.statusText,message:(C=S.response.data.message)!==null&&C!==void 0?C:"There was an error while uploading the file.",exception:(D=S.response.data.exception)!==null&&D!==void 0?D:""})})]})})},o}();return za.FrappeFileUpload=i,za}var qj;function KD(){if(qj)return yu;qj=1,Object.defineProperty(yu,"__esModule",{value:!0}),yu.FrappeApp=void 0;var e=r2(),t=t2(),s=s2(),n=a2(),i=n2(),o=function(){function c(u,h,f,p){var g,x;this.url=u,this.name=f!=null?f:"FrappeApp",this.useToken=(g=h==null?void 0:h.useToken)!==null&&g!==void 0?g:!1,this.token=h==null?void 0:h.token,this.tokenType=(x=h==null?void 0:h.type)!==null&&x!==void 0?x:"Bearer",this.customHeaders=p,this.axios=(0,i.getAxiosClient)(this.url,this.useToken,this.token,this.tokenType,this.customHeaders)}return c.prototype.auth=function(){return new e.FrappeAuth(this.url,this.axios,this.useToken,this.token,this.tokenType)},c.prototype.db=function(){return new s.FrappeDB(this.url,this.axios,this.useToken,this.token,this.tokenType)},c.prototype.file=function(){return new n.FrappeFileUpload(this.url,this.axios,this.useToken,this.token,this.tokenType,this.customHeaders)},c.prototype.call=function(){return new t.FrappeCall(this.url,this.axios,this.useToken,this.token,this.tokenType)},c}();return yu.FrappeApp=o,yu}var Ha={},Wj;function QD(){if(Wj)return Ha;Wj=1;var e=Ha&&Ha.__assign||function(){return e=Object.assign||function(i){for(var o,c=1,u=arguments.length;c<u;c++){o=arguments[c];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(i[h]=o[h])}return i},e.apply(this,arguments)},t=Ha&&Ha.__awaiter||function(i,o,c,u){function h(f){return f instanceof c?f:new c(function(p){p(f)})}return new(c||(c=Promise))(function(f,p){function g(j){try{b(u.next(j))}catch(v){p(v)}}function x(j){try{b(u.throw(j))}catch(v){p(v)}}function b(j){j.done?f(j.value):h(j.value).then(g,x)}b((u=u.apply(i,o||[])).next())})},s=Ha&&Ha.__generator||function(i,o){var c={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},u,h,f,p;return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(b){return function(j){return x([b,j])}}function x(b){if(u)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(c=0)),c;)try{if(u=1,h&&(f=b[0]&2?h.return:b[0]?h.throw||((f=h.return)&&f.call(h),0):h.next)&&!(f=f.call(h,b[1])).done)return f;switch(h=0,f&&(b=[b[0]&2,f.value]),b[0]){case 0:case 1:f=b;break;case 4:return c.label++,{value:b[1],done:!1};case 5:c.label++,h=b[1],b=[0];continue;case 7:b=c.ops.pop(),c.trys.pop();continue;default:if(f=c.trys,!(f=f.length>0&&f[f.length-1])&&(b[0]===6||b[0]===2)){c=0;continue}if(b[0]===3&&(!f||b[1]>f[0]&&b[1]<f[3])){c.label=b[1];break}if(b[0]===6&&c.label<f[1]){c.label=f[1],f=b;break}if(f&&c.label<f[2]){c.label=f[2],c.ops.push(b);break}f[2]&&c.ops.pop(),c.trys.pop();continue}b=o.call(i,c)}catch(j){b=[6,j],h=0}finally{u=f=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}};Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.FrappeAuth=void 0;var n=function(){function i(o,c,u,h,f){this.appURL=o,this.axios=c,this.useToken=u!=null?u:!1,this.token=h,this.tokenType=f}return i.prototype.loginWithUsernamePassword=function(o){return t(this,void 0,void 0,function(){return s(this,function(c){return[2,this.axios.post("/api/method/login",{usr:o.username,pwd:o.password,otp:o.otp,tmp_id:o.tmp_id,device:o.device}).then(function(u){return u.data}).catch(function(u){var h,f;throw e(e({},u.response.data),{httpStatus:u.response.status,httpStatusText:u.response.statusText,message:(h=u.response.data.message)!==null&&h!==void 0?h:"There was an error while logging in",exception:(f=u.response.data.exception)!==null&&f!==void 0?f:""})})]})})},i.prototype.getLoggedInUser=function(){return t(this,void 0,void 0,function(){return s(this,function(o){return[2,this.axios.get("/api/method/frappe.auth.get_logged_user").then(function(c){return c.data.message}).catch(function(c){var u;throw e(e({},c.response.data),{httpStatus:c.response.status,httpStatusText:c.response.statusText,message:"There was an error while fetching the logged in user",exception:(u=c.response.data.exception)!==null&&u!==void 0?u:""})})]})})},i.prototype.logout=function(){return t(this,void 0,void 0,function(){return s(this,function(o){return[2,this.axios.post("/api/method/logout",{}).then(function(){}).catch(function(c){var u,h;throw e(e({},c.response.data),{httpStatus:c.response.status,httpStatusText:c.response.statusText,message:(u=c.response.data.message)!==null&&u!==void 0?u:"There was an error while logging out",exception:(h=c.response.data.exception)!==null&&h!==void 0?h:""})})]})})},i.prototype.forgetPassword=function(o){return t(this,void 0,void 0,function(){return s(this,function(c){return[2,this.axios.post("/",{cmd:"frappe.core.doctype.user.user.reset_password",user:o}).then(function(){}).catch(function(u){var h,f;throw e(e({},u.response.data),{httpStatus:u.response.status,httpStatusText:u.response.statusText,message:(h=u.response.data.message)!==null&&h!==void 0?h:"There was an error sending password reset email.",exception:(f=u.response.data.exception)!==null&&f!==void 0?f:""})})]})})},i}();return Ha.FrappeAuth=n,Ha}var Yj;function r2(){return Yj||(Yj=1,function(e){var t=Ll&&Ll.__createBinding||(Object.create?function(n,i,o,c){c===void 0&&(c=o);var u=Object.getOwnPropertyDescriptor(i,o);(!u||("get"in u?!i.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,c,u)}:function(n,i,o,c){c===void 0&&(c=o),n[c]=i[o]}),s=Ll&&Ll.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),s(KD(),e),s(QD(),e),s(s2(),e),s(a2(),e),s(t2(),e)}(Ll)),Ll}var ZD=r2(),Gj={exports:{}},Ug={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xj;function JD(){if(Xj)return Ug;Xj=1;var e=ae;function t(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var s=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,o=e.useLayoutEffect,c=e.useDebugValue;function u(g,x){var b=x(),j=n({inst:{value:b,getSnapshot:x}}),v=j[0].inst,T=j[1];return o(function(){v.value=b,v.getSnapshot=x,h(v)&&T({inst:v})},[g,b,x]),i(function(){return h(v)&&T({inst:v}),g(function(){h(v)&&T({inst:v})})},[g]),c(b),b}function h(g){var x=g.getSnapshot;g=g.value;try{var b=x();return!s(g,b)}catch(j){return!0}}function f(g,x){return x()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return Ug.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Ug}var Kj;function eA(){return Kj||(Kj=1,Gj.exports=JD()),Gj.exports}var tA=eA();const i2=0,o2=1,l2=2,Qj=3;var Zj=Object.prototype.hasOwnProperty;function P0(e,t){var s,n;if(e===t)return!0;if(e&&t&&(s=e.constructor)===t.constructor){if(s===Date)return e.getTime()===t.getTime();if(s===RegExp)return e.toString()===t.toString();if(s===Array){if((n=e.length)===t.length)for(;n--&&P0(e[n],t[n]););return n===-1}if(!s||typeof e=="object"){n=0;for(s in e)if(Zj.call(e,s)&&++n&&!Zj.call(t,s)||!(s in t)||!P0(e[s],t[s]))return!1;return Object.keys(t).length===n}}return e!==e&&t!==t}const Yr=new WeakMap,Oi=()=>{},En=Oi(),Lh=Object,ts=e=>e===En,Va=e=>typeof e=="function",Xr=(e,t)=>L(L({},e),t),c2=e=>Va(e.then),zg={},Rf={},Lx="undefined",od=typeof window!=Lx,L0=typeof document!=Lx,sA=od&&"Deno"in window,nA=()=>od&&typeof window.requestAnimationFrame!=Lx,u2=(e,t)=>{const s=Yr.get(e);return[()=>!ts(t)&&e.get(t)||zg,n=>{if(!ts(t)){const i=e.get(t);t in Rf||(Rf[t]=i),s[5](t,Xr(i,n),i||zg)}},s[6],()=>!ts(t)&&t in Rf?Rf[t]:!ts(t)&&e.get(t)||zg]};let B0=!0;const aA=()=>B0,[F0,U0]=od&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Oi,Oi],rA=()=>{const e=L0&&document.visibilityState;return ts(e)||e!=="hidden"},iA=e=>(L0&&document.addEventListener("visibilitychange",e),F0("focus",e),()=>{L0&&document.removeEventListener("visibilitychange",e),U0("focus",e)}),oA=e=>{const t=()=>{B0=!0,e()},s=()=>{B0=!1};return F0("online",t),F0("offline",s),()=>{U0("online",t),U0("offline",s)}},lA={isOnline:aA,isVisible:rA},cA={initFocus:iA,initReconnect:oA},Jj=!ae.useId,Gu=!od||sA,uA=e=>nA()?window.requestAnimationFrame(e):setTimeout(e,1),yh=Gu?N.useEffect:N.useLayoutEffect,Hg=typeof navigator<"u"&&navigator.connection,e1=!Gu&&Hg&&(["slow-2g","2g"].includes(Hg.effectiveType)||Hg.saveData),Mf=new WeakMap,$g=(e,t)=>Lh.prototype.toString.call(e)===`[object ${t}]`;let dA=0;const z0=e=>{const t=typeof e,s=$g(e,"Date"),n=$g(e,"RegExp"),i=$g(e,"Object");let o,c;if(Lh(e)===e&&!s&&!n){if(o=Mf.get(e),o)return o;if(o=++dA+"~",Mf.set(e,o),Array.isArray(e)){for(o="@",c=0;c<e.length;c++)o+=z0(e[c])+",";Mf.set(e,o)}if(i){o="#";const u=Lh.keys(e).sort();for(;!ts(c=u.pop());)ts(e[c])||(o+=c+":"+z0(e[c])+",");Mf.set(e,o)}}else o=s?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return o},Bx=e=>{if(Va(e))try{e=e()}catch(s){e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?z0(e):"",[e,t]};let fA=0;const H0=()=>++fA;function d2(...e){return we(this,null,function*(){const[t,s,n,i]=e,o=Xr({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let c=o.populateCache;const u=o.rollbackOnError;let h=o.optimisticData;const f=x=>typeof u=="function"?u(x):u!==!1,p=o.throwOnError;if(Va(s)){const x=s,b=[],j=t.keys();for(const v of j)!/^\$(inf|sub)\$/.test(v)&&x(t.get(v)._k)&&b.push(v);return Promise.all(b.map(g))}return g(s);function g(x){return we(this,null,function*(){const[b]=Bx(x);if(!b)return;const[j,v]=u2(t,b),[T,_,R,S]=Yr.get(t),C=()=>{const W=T[b];return(Va(o.revalidate)?o.revalidate(j().data,x):o.revalidate!==!1)&&(delete R[b],delete S[b],W&&W[0])?W[0](l2).then(()=>j().data):j().data};if(e.length<3)return C();let D=n,k;const B=H0();_[b]=[B,0];const F=!ts(h),O=j(),X=O.data,I=O._c,Q=ts(I)?X:I;if(F&&(h=Va(h)?h(Q,X):h,v({data:h,_c:Q})),Va(D))try{D=D(Q)}catch(W){k=W}if(D&&c2(D))if(D=yield D.catch(W=>{k=W}),B!==_[b][0]){if(k)throw k;return D}else k&&F&&f(k)&&(c=!0,v({data:Q,_c:En}));if(c&&!k)if(Va(c)){const W=c(D,Q);v({data:W,error:En,_c:En})}else v({data:D,error:En,_c:En});if(_[b][1]=H0(),Promise.resolve(C()).then(()=>{v({_c:En})}),k){if(p)throw k;return}return D})}})}const t1=(e,t)=>{for(const s in e)e[s][0]&&e[s][0](t)},f2=(e,t)=>{if(!Yr.has(e)){const s=Xr(cA,t),n=Object.create(null),i=d2.bind(En,e);let o=Oi;const c=Object.create(null),u=(p,g)=>{const x=c[p]||[];return c[p]=x,x.push(g),()=>x.splice(x.indexOf(g),1)},h=(p,g,x)=>{e.set(p,g);const b=c[p];if(b)for(const j of b)j(g,x)},f=()=>{if(!Yr.has(e)&&(Yr.set(e,[n,Object.create(null),Object.create(null),Object.create(null),i,h,u]),!Gu)){const p=s.initFocus(setTimeout.bind(En,t1.bind(En,n,i2))),g=s.initReconnect(setTimeout.bind(En,t1.bind(En,n,o2)));o=()=>{p&&p(),g&&g(),Yr.delete(e)}}};return f(),[e,i,f,o]}return[e,Yr.get(e)[4]]},hA=(e,t,s,n,i)=>{const o=s.errorRetryCount,c=i.retryCount,u=~~((Math.random()+.5)*(1<<(c<8?c:8)))*s.errorRetryInterval;!ts(o)&&c>o||setTimeout(n,u,i)},mA=P0,[Fx,pA]=f2(new Map),h2=Xr({onLoadingSlow:Oi,onSuccess:Oi,onError:Oi,onErrorRetry:hA,onDiscarded:Oi,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:e1?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:e1?5e3:3e3,compare:mA,isPaused:()=>!1,cache:Fx,mutate:pA,fallback:{}},lA),m2=(e,t)=>{const s=Xr(e,t);if(t){const{use:n,fallback:i}=e,{use:o,fallback:c}=t;n&&o&&(s.use=n.concat(o)),i&&c&&(s.fallback=Xr(i,c))}return s},$0=N.createContext({}),gA=e=>{const{value:t}=e,s=N.useContext($0),n=Va(t),i=N.useMemo(()=>n?t(s):t,[n,s,t]),o=N.useMemo(()=>n?i:m2(s,i),[n,s,i]),c=i&&i.provider,u=N.useRef(En);c&&!u.current&&(u.current=f2(c(o.cache||Fx),i));const h=u.current;return h&&(o.cache=h[0],o.mutate=h[1]),yh(()=>{if(h)return h[2]&&h[2](),h[3]},[]),N.createElement($0.Provider,Xr(e,{value:o}))},xA="$inf$",p2=od&&window.__SWR_DEVTOOLS_USE__,yA=p2?window.__SWR_DEVTOOLS_USE__:[],bA=()=>{p2&&(window.__SWR_DEVTOOLS_REACT__=ae)},vA=e=>Va(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],wA=()=>Xr(h2,N.useContext($0)),jA=e=>(t,s,n)=>e(t,s&&((...i)=>{const[o]=Bx(t),[,,,c]=Yr.get(Fx);if(o.startsWith(xA))return s(...i);const u=c[o];return ts(u)?s(...i):(delete c[o],u)}),n),NA=yA.concat(jA),_A=e=>function(...t){const s=wA(),[n,i,o]=vA(t),c=m2(s,o);let u=e;const{use:h}=c,f=(h||[]).concat(NA);for(let p=f.length;p--;)u=f[p](u);return u(n,i||c.fetcher||null,c)},TA=(e,t,s)=>{const n=t[e]||(t[e]=[]);return n.push(s),()=>{const i=n.indexOf(s);i>=0&&(n[i]=n[n.length-1],n.pop())}};bA();const Vg=ae.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),Ig={dedupe:!0},SA=(e,t,s)=>{const{cache:n,compare:i,suspense:o,fallbackData:c,revalidateOnMount:u,revalidateIfStale:h,refreshInterval:f,refreshWhenHidden:p,refreshWhenOffline:g,keepPreviousData:x}=s,[b,j,v,T]=Yr.get(n),[_,R]=Bx(e),S=N.useRef(!1),C=N.useRef(!1),D=N.useRef(_),k=N.useRef(t),B=N.useRef(s),F=()=>B.current,O=()=>F().isVisible()&&F().isOnline(),[X,I,Q,W]=u2(n,_),Y=N.useRef({}).current,H=ts(c)?ts(s.fallback)?En:s.fallback[_]:c,z=(He,Xe)=>{for(const Le in Y){const dt=Le;if(dt==="data"){if(!i(He[dt],Xe[dt])&&(!ts(He[dt])||!i(xe,Xe[dt])))return!1}else if(Xe[dt]!==He[dt])return!1}return!0},Z=N.useMemo(()=>{const He=!_||!t?!1:ts(u)?F().isPaused()||o?!1:h!==!1:u,Xe=nt=>{const K=Xr(nt);return delete K._k,He?L({isValidating:!0,isLoading:!0},K):K},Le=X(),dt=W(),Ge=Xe(Le),Be=Le===dt?Ge:Xe(dt);let ze=Ge;return[()=>{const nt=Xe(X());return z(nt,ze)?(ze.data=nt.data,ze.isLoading=nt.isLoading,ze.isValidating=nt.isValidating,ze.error=nt.error,ze):(ze=nt,nt)},()=>Be]},[n,_]),te=tA.useSyncExternalStore(N.useCallback(He=>Q(_,(Xe,Le)=>{z(Le,Xe)||He()}),[n,_]),Z[0],Z[1]),ue=!S.current,M=b[_]&&b[_].length>0,ie=te.data,ne=ts(ie)?H&&c2(H)?Vg(H):H:ie,V=te.error,J=N.useRef(ne),xe=x?ts(ie)?ts(J.current)?ne:J.current:ie:ne,fe=M&&!ts(V)?!1:ue&&!ts(u)?u:F().isPaused()?!1:o?ts(ne)?!1:h:ts(ne)||h,Ee=!!(_&&t&&ue&&fe),De=ts(te.isValidating)?Ee:te.isValidating,Ie=ts(te.isLoading)?Ee:te.isLoading,re=N.useCallback(He=>we(null,null,function*(){const Xe=k.current;if(!_||!Xe||C.current||F().isPaused())return!1;let Le,dt,Ge=!0;const Be=He||{},ze=!v[_]||!Be.dedupe,nt=()=>Jj?!C.current&&_===D.current&&S.current:_===D.current,K={isValidating:!1,isLoading:!1},me=()=>{I(K)},G=()=>{const Ue=v[_];Ue&&Ue[1]===dt&&delete v[_]},Te={isValidating:!0};ts(X().data)&&(Te.isLoading=!0);try{if(ze&&(I(Te),s.loadingTimeout&&ts(X().data)&&setTimeout(()=>{Ge&&nt()&&F().onLoadingSlow(_,s)},s.loadingTimeout),v[_]=[Xe(R),H0()]),[Le,dt]=v[_],Le=yield Le,ze&&setTimeout(G,s.dedupingInterval),!v[_]||v[_][1]!==dt)return ze&&nt()&&F().onDiscarded(_),!1;K.error=En;const Ue=j[_];if(!ts(Ue)&&(dt<=Ue[0]||dt<=Ue[1]||Ue[1]===0))return me(),ze&&nt()&&F().onDiscarded(_),!1;const Pe=X().data;K.data=i(Pe,Le)?Pe:Le,ze&&nt()&&F().onSuccess(Le,_,s)}catch(Ue){G();const Pe=F(),{shouldRetryOnError:We}=Pe;Pe.isPaused()||(K.error=Ue,ze&&nt()&&(Pe.onError(Ue,_,Pe),(We===!0||Va(We)&&We(Ue))&&(!F().revalidateOnFocus||!F().revalidateOnReconnect||O())&&Pe.onErrorRetry(Ue,_,Pe,Ze=>{const at=b[_];at&&at[0]&&at[0](Qj,Ze)},{retryCount:(Be.retryCount||0)+1,dedupe:!0})))}return Ge=!1,me(),!0}),[_,n]),Re=N.useCallback((...He)=>d2(n,D.current,...He),[]);if(yh(()=>{k.current=t,B.current=s,ts(ie)||(J.current=ie)}),yh(()=>{if(!_)return;const He=re.bind(En,Ig);let Xe=0;F().revalidateOnFocus&&(Xe=Date.now()+F().focusThrottleInterval);const Le=TA(_,b,(dt,Ge={})=>{if(dt==i2){const Be=Date.now();F().revalidateOnFocus&&Be>Xe&&O()&&(Xe=Be+F().focusThrottleInterval,He())}else if(dt==o2)F().revalidateOnReconnect&&O()&&He();else{if(dt==l2)return re();if(dt==Qj)return re(Ge)}});return C.current=!1,D.current=_,S.current=!0,I({_k:R}),fe&&(ts(ne)||Gu?He():uA(He)),()=>{C.current=!0,Le()}},[_]),yh(()=>{let He;function Xe(){const dt=Va(f)?f(X().data):f;dt&&He!==-1&&(He=setTimeout(Le,dt))}function Le(){!X().error&&(p||F().isVisible())&&(g||F().isOnline())?re(Ig).then(Xe):Xe()}return Xe(),()=>{He&&(clearTimeout(He),He=-1)}},[f,p,g,_]),N.useDebugValue(xe),o&&ts(ne)&&_){if(!Jj&&Gu)throw new Error("Fallback data is required when using Suspense in SSR.");k.current=t,B.current=s,C.current=!1;const He=T[_];if(!ts(He)){const Xe=Re(He);Vg(Xe)}if(ts(V)){const Xe=re(Ig);ts(xe)||(Xe.status="fulfilled",Xe.value=!0),Vg(Xe)}else throw V}return{mutate:Re,get data(){return Y.data=!0,xe},get error(){return Y.error=!0,V},get isValidating(){return Y.isValidating=!0,De},get isLoading(){return Y.isLoading=!0,Ie}}},CA=Lh.defineProperty(gA,"defaultValue",{value:h2}),dm=_A(SA);Promise.resolve();const pr=Object.create(null);pr.open="0";pr.close="1";pr.ping="2";pr.pong="3";pr.message="4";pr.upgrade="5";pr.noop="6";const bh=Object.create(null);Object.keys(pr).forEach(e=>{bh[pr[e]]=e});const V0={type:"error",data:"parser error"},g2=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",x2=typeof ArrayBuffer=="function",y2=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Ux=({type:e,data:t},s,n)=>g2&&t instanceof Blob?s?n(t):s1(t,n):x2&&(t instanceof ArrayBuffer||y2(t))?s?n(t):s1(new Blob([t]),n):n(pr[e]+(t||"")),s1=(e,t)=>{const s=new FileReader;return s.onload=function(){const n=s.result.split(",")[1];t("b"+(n||""))},s.readAsDataURL(e)};function n1(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let qg;function EA(e,t){if(g2&&e.data instanceof Blob)return e.data.arrayBuffer().then(n1).then(t);if(x2&&(e.data instanceof ArrayBuffer||y2(e.data)))return t(n1(e.data));Ux(e,!1,s=>{qg||(qg=new TextEncoder),t(qg.encode(s))})}const a1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<a1.length;e++)Pu[a1.charCodeAt(e)]=e;const kA=e=>{let t=e.length*.75,s=e.length,n,i=0,o,c,u,h;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const f=new ArrayBuffer(t),p=new Uint8Array(f);for(n=0;n<s;n+=4)o=Pu[e.charCodeAt(n)],c=Pu[e.charCodeAt(n+1)],u=Pu[e.charCodeAt(n+2)],h=Pu[e.charCodeAt(n+3)],p[i++]=o<<2|c>>4,p[i++]=(c&15)<<4|u>>2,p[i++]=(u&3)<<6|h&63;return f},DA=typeof ArrayBuffer=="function",zx=(e,t)=>{if(typeof e!="string")return{type:"message",data:b2(e,t)};const s=e.charAt(0);return s==="b"?{type:"message",data:AA(e.substring(1),t)}:bh[s]?e.length>1?{type:bh[s],data:e.substring(1)}:{type:bh[s]}:V0},AA=(e,t)=>{if(DA){const s=kA(e);return b2(s,t)}else return{base64:!0,data:e}},b2=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},v2="",OA=(e,t)=>{const s=e.length,n=new Array(s);let i=0;e.forEach((o,c)=>{Ux(o,!1,u=>{n[c]=u,++i===s&&t(n.join(v2))})})},RA=(e,t)=>{const s=e.split(v2),n=[];for(let i=0;i<s.length;i++){const o=zx(s[i],t);if(n.push(o),o.type==="error")break}return n};function MA(){return new TransformStream({transform(e,t){EA(e,s=>{const n=s.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,n)}else{i=new Uint8Array(9);const o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(s)})}})}let Wg;function Pf(e){return e.reduce((t,s)=>t+s.length,0)}function Lf(e,t){if(e[0].length===t)return e.shift();const s=new Uint8Array(t);let n=0;for(let i=0;i<t;i++)s[i]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),s}function PA(e,t){Wg||(Wg=new TextDecoder);const s=[];let n=0,i=-1,o=!1;return new TransformStream({transform(c,u){for(s.push(c);;){if(n===0){if(Pf(s)<1)break;const h=Lf(s,1);o=(h[0]&128)===128,i=h[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(Pf(s)<2)break;const h=Lf(s,2);i=new DataView(h.buffer,h.byteOffset,h.length).getUint16(0),n=3}else if(n===2){if(Pf(s)<8)break;const h=Lf(s,8),f=new DataView(h.buffer,h.byteOffset,h.length),p=f.getUint32(0);if(p>Math.pow(2,21)-1){u.enqueue(V0);break}i=p*Math.pow(2,32)+f.getUint32(4),n=3}else{if(Pf(s)<i)break;const h=Lf(s,i);u.enqueue(zx(o?h:Wg.decode(h),t)),n=0}if(i===0||i>e){u.enqueue(V0);break}}}})}const w2=4;function Ks(e){if(e)return LA(e)}function LA(e){for(var t in Ks.prototype)e[t]=Ks.prototype[t];return e}Ks.prototype.on=Ks.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Ks.prototype.once=function(e,t){function s(){this.off(e,s),t.apply(this,arguments)}return s.fn=t,this.on(e,s),this};Ks.prototype.off=Ks.prototype.removeListener=Ks.prototype.removeAllListeners=Ks.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+e];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,i=0;i<s.length;i++)if(n=s[i],n===t||n.fn===t){s.splice(i,1);break}return s.length===0&&delete this._callbacks["$"+e],this};Ks.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),s=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(s){s=s.slice(0);for(var n=0,i=s.length;n<i;++n)s[n].apply(this,t)}return this};Ks.prototype.emitReserved=Ks.prototype.emit;Ks.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Ks.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Na=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function j2(e,...t){return t.reduce((s,n)=>(e.hasOwnProperty(n)&&(s[n]=e[n]),s),{})}const BA=Na.setTimeout,FA=Na.clearTimeout;function fm(e,t){t.useNativeTimers?(e.setTimeoutFn=BA.bind(Na),e.clearTimeoutFn=FA.bind(Na)):(e.setTimeoutFn=Na.setTimeout.bind(Na),e.clearTimeoutFn=Na.clearTimeout.bind(Na))}const UA=1.33;function zA(e){return typeof e=="string"?HA(e):Math.ceil((e.byteLength||e.size)*UA)}function HA(e){let t=0,s=0;for(let n=0,i=e.length;n<i;n++)t=e.charCodeAt(n),t<128?s+=1:t<2048?s+=2:t<55296||t>=57344?s+=3:(n++,s+=4);return s}function $A(e){let t="";for(let s in e)e.hasOwnProperty(s)&&(t.length&&(t+="&"),t+=encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return t}function VA(e){let t={},s=e.split("&");for(let n=0,i=s.length;n<i;n++){let o=s[n].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}class IA extends Error{constructor(t,s,n){super(t),this.description=s,this.context=n,this.type="TransportError"}}class Hx extends Ks{constructor(t){super(),this.writable=!1,fm(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,s,n){return super.emitReserved("error",new IA(t,s,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const s=zx(t,this.socket.binaryType);this.onPacket(s)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,s={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const s=$A(t);return s.length?"?"+s:""}}const N2="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),I0=64,qA={};let r1=0,Bf=0,i1;function o1(e){let t="";do t=N2[e%I0]+t,e=Math.floor(e/I0);while(e>0);return t}function _2(){const e=o1(+new Date);return e!==i1?(r1=0,i1=e):e+"."+o1(r1++)}for(;Bf<I0;Bf++)qA[N2[Bf]]=Bf;let T2=!1;try{T2=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(e){}const WA=T2;function S2(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||WA))return new XMLHttpRequest}catch(s){}if(!t)try{return new Na[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(s){}}function YA(){}const GA=function(){return new S2({xdomain:!1}).responseType!=null}();class XA extends Hx{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const n=location.protocol==="https:";let i=location.port;i||(i=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||i!==t.port}const s=t&&t.forceBase64;this.supportsBinary=GA&&!s,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const s=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||s()})),this.writable||(n++,this.once("drain",function(){--n||s()}))}else s()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const s=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};RA(t,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,OA(t,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=_2()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(t,s)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Xl(this.uri(),t)}doWrite(t,s){const n=this.request({method:"POST",data:t});n.on("success",s),n.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(s,n)=>{this.onError("xhr poll error",s,n)}),this.pollXhr=t}}let Xl=class vh extends Ks{constructor(t,s){super(),fm(this,s),this.opts=s,this.method=s.method||"GET",this.uri=t,this.data=s.data!==void 0?s.data:null,this.create()}create(){var t;const s=j2(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this.opts.xd;const n=this.xhr=new S2(s);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this.opts.extraHeaders[i])}}catch(i){}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(i){}try{n.setRequestHeader("Accept","*/*")}catch(i){}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this.opts.cookieJar)===null||i===void 0||i.parseCookies(n)),n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},n.send(this.data)}catch(i){this.setTimeoutFn(()=>{this.onError(i)},0);return}typeof document<"u"&&(this.index=vh.requestsCount++,vh.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=YA,t)try{this.xhr.abort()}catch(s){}typeof document<"u"&&delete vh.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};Xl.requestsCount=0;Xl.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",l1);else if(typeof addEventListener=="function"){const e="onpagehide"in Na?"pagehide":"unload";addEventListener(e,l1,!1)}}function l1(){for(let e in Xl.requests)Xl.requests.hasOwnProperty(e)&&Xl.requests[e].abort()}const $x=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Ff=Na.WebSocket||Na.MozWebSocket,c1=!0,KA="arraybuffer",u1=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class QA extends Hx{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),s=this.opts.protocols,n=u1?{}:j2(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=c1&&!u1?s?new Ff(t,s):new Ff(t):new Ff(t,s,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const n=t[s],i=s===t.length-1;Ux(n,this.supportsBinary,o=>{try{c1&&this.ws.send(o)}catch(c){}i&&$x(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=_2()),this.supportsBinary||(s.b64=1),this.createUri(t,s)}check(){return!!Ff}}class ZA extends Hx{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const s=PA(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(s).getReader(),i=MA();i.readable.pipeTo(t.writable),this.writer=i.writable.getWriter();const o=()=>{n.read().then(({done:u,value:h})=>{u||(this.onPacket(h),o())}).catch(u=>{})};o();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this.writer.write(c).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const n=t[s],i=s===t.length-1;this.writer.write(n).then(()=>{i&&$x(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const JA={websocket:QA,webtransport:ZA,polling:XA},eO=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,tO=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function q0(e){if(e.length>2e3)throw"URI too long";const t=e,s=e.indexOf("["),n=e.indexOf("]");s!=-1&&n!=-1&&(e=e.substring(0,s)+e.substring(s,n).replace(/:/g,";")+e.substring(n,e.length));let i=eO.exec(e||""),o={},c=14;for(;c--;)o[tO[c]]=i[c]||"";return s!=-1&&n!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=sO(o,o.path),o.queryKey=nO(o,o.query),o}function sO(e,t){const s=/\/{2,9}/g,n=t.replace(s,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function nO(e,t){const s={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,o){i&&(s[i]=o)}),s}let C2=class Il extends Ks{constructor(t,s={}){super(),this.binaryType=KA,this.writeBuffer=[],t&&typeof t=="object"&&(s=t,t=null),t?(t=q0(t),s.hostname=t.host,s.secure=t.protocol==="https"||t.protocol==="wss",s.port=t.port,t.query&&(s.query=t.query)):s.host&&(s.hostname=q0(s.host).host),fm(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=s.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=VA(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const s=Object.assign({},this.opts.query);s.EIO=w2,s.transport=t,this.id&&(s.sid=this.id);const n=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new JA[t](n)}open(){let t;if(this.opts.rememberUpgrade&&Il.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch(s){this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",s=>this.onClose("transport close",s))}probe(t){let s=this.createTransport(t),n=!1;Il.priorWebsocketSuccess=!1;const i=()=>{n||(s.send([{type:"ping",data:"probe"}]),s.once("packet",g=>{if(!n)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;Il.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(p(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const x=new Error("probe error");x.transport=s.name,this.emitReserved("upgradeError",x)}}))};function o(){n||(n=!0,p(),s.close(),s=null)}const c=g=>{const x=new Error("probe error: "+g);x.transport=s.name,o(),this.emitReserved("upgradeError",x)};function u(){c("transport closed")}function h(){c("socket closed")}function f(g){s&&g.name!==s.name&&o()}const p=()=>{s.removeListener("open",i),s.removeListener("error",c),s.removeListener("close",u),this.off("close",h),this.off("upgrading",f)};s.once("open",i),s.once("error",c),s.once("close",u),this.once("close",h),this.once("upgrading",f),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||s.open()},200):s.open()}onOpen(){if(this.readyState="open",Il.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const s=this.upgrades.length;for(;t<s;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const s=new Error("server error");s.code=t.data,this.onError(s);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let s=0;s<this.writeBuffer.length;s++){const n=this.writeBuffer[s].data;if(n&&(t+=zA(n)),s>0&&t>this.maxPayload)return this.writeBuffer.slice(0,s);t+=2}return this.writeBuffer}write(t,s,n){return this.sendPacket("message",t,s,n),this}send(t,s,n){return this.sendPacket("message",t,s,n),this}sendPacket(t,s,n,i){if(typeof s=="function"&&(i=s,s=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const o={type:t,data:s,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),t()},n=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}onError(t){Il.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,s){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,s),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const s=[];let n=0;const i=t.length;for(;n<i;n++)~this.transports.indexOf(t[n])&&s.push(t[n]);return s}};C2.protocol=w2;function aO(e,t="",s){let n=e;s=s||typeof location<"u"&&location,e==null&&(e=s.protocol+"//"+s.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=s.protocol+e:e=s.host+e),/^(https?|wss?):\/\//.test(e)||(typeof s<"u"?e=s.protocol+"//"+e:e="https://"+e),n=q0(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+t,n.href=n.protocol+"://"+i+(s&&s.port===n.port?"":":"+n.port),n}const rO=typeof ArrayBuffer=="function",iO=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,E2=Object.prototype.toString,oO=typeof Blob=="function"||typeof Blob<"u"&&E2.call(Blob)==="[object BlobConstructor]",lO=typeof File=="function"||typeof File<"u"&&E2.call(File)==="[object FileConstructor]";function Vx(e){return rO&&(e instanceof ArrayBuffer||iO(e))||oO&&e instanceof Blob||lO&&e instanceof File}function wh(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let s=0,n=e.length;s<n;s++)if(wh(e[s]))return!0;return!1}if(Vx(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return wh(e.toJSON(),!0);for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&wh(e[s]))return!0;return!1}function cO(e){const t=[],s=e.data,n=e;return n.data=W0(s,t),n.attachments=t.length,{packet:n,buffers:t}}function W0(e,t){if(!e)return e;if(Vx(e)){const s={_placeholder:!0,num:t.length};return t.push(e),s}else if(Array.isArray(e)){const s=new Array(e.length);for(let n=0;n<e.length;n++)s[n]=W0(e[n],t);return s}else if(typeof e=="object"&&!(e instanceof Date)){const s={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=W0(e[n],t));return s}return e}function uO(e,t){return e.data=Y0(e.data,t),delete e.attachments,e}function Y0(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let s=0;s<e.length;s++)e[s]=Y0(e[s],t);else if(typeof e=="object")for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(e[s]=Y0(e[s],t));return e}const dO=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],fO=5;var Qt;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Qt||(Qt={}));class hO{constructor(t){this.replacer=t}encode(t){return(t.type===Qt.EVENT||t.type===Qt.ACK)&&wh(t)?this.encodeAsBinary({type:t.type===Qt.EVENT?Qt.BINARY_EVENT:Qt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let s=""+t.type;return(t.type===Qt.BINARY_EVENT||t.type===Qt.BINARY_ACK)&&(s+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(s+=t.nsp+","),t.id!=null&&(s+=t.id),t.data!=null&&(s+=JSON.stringify(t.data,this.replacer)),s}encodeAsBinary(t){const s=cO(t),n=this.encodeAsString(s.packet),i=s.buffers;return i.unshift(n),i}}function d1(e){return Object.prototype.toString.call(e)==="[object Object]"}class Ix extends Ks{constructor(t){super(),this.reviver=t}add(t){let s;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(t);const n=s.type===Qt.BINARY_EVENT;n||s.type===Qt.BINARY_ACK?(s.type=n?Qt.EVENT:Qt.ACK,this.reconstructor=new mO(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(Vx(t)||t.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(t),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let s=0;const n={type:Number(t.charAt(0))};if(Qt[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Qt.BINARY_EVENT||n.type===Qt.BINARY_ACK){const o=s+1;for(;t.charAt(++s)!=="-"&&s!=t.length;);const c=t.substring(o,s);if(c!=Number(c)||t.charAt(s)!=="-")throw new Error("Illegal attachments");n.attachments=Number(c)}if(t.charAt(s+1)==="/"){const o=s+1;for(;++s&&!(t.charAt(s)===","||s===t.length););n.nsp=t.substring(o,s)}else n.nsp="/";const i=t.charAt(s+1);if(i!==""&&Number(i)==i){const o=s+1;for(;++s;){const c=t.charAt(s);if(c==null||Number(c)!=c){--s;break}if(s===t.length)break}n.id=Number(t.substring(o,s+1))}if(t.charAt(++s)){const o=this.tryParse(t.substr(s));if(Ix.isPayloadValid(n.type,o))n.data=o;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(s){return!1}}static isPayloadValid(t,s){switch(t){case Qt.CONNECT:return d1(s);case Qt.DISCONNECT:return s===void 0;case Qt.CONNECT_ERROR:return typeof s=="string"||d1(s);case Qt.EVENT:case Qt.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&dO.indexOf(s[0])===-1);case Qt.ACK:case Qt.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class mO{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const s=uO(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const pO=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Ix,Encoder:hO,get PacketType(){return Qt},protocol:fO},Symbol.toStringTag,{value:"Module"}));function $a(e,t,s){return e.on(t,s),function(){e.off(t,s)}}const gO=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class k2 extends Ks{constructor(t,s,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=s,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[$a(t,"open",this.onopen.bind(this)),$a(t,"packet",this.onpacket.bind(this)),$a(t,"error",this.onerror.bind(this)),$a(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...s){if(gO.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(s.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const n={type:Qt.EVENT,data:s};if(n.options={},n.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const o=this.ids++,c=s.pop();this._registerAckCallback(o,c),n.id=o}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(t,s){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[t]=s;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===t&&this.sendBuffer.splice(c,1);s.call(this,new Error("operation has timed out"))},i);this.acks[t]=(...c)=>{this.io.clearTimeoutFn(o),s.apply(this,[null,...c])}}emitWithAck(t,...s){const n=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((i,o)=>{s.push((c,u)=>n?c?o(c):i(u):i(c)),this.emit(t,...s)})}_addToQueue(t){let s;typeof t[t.length-1]=="function"&&(s=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...o)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(i)):(this._queue.shift(),s&&s(null,...o)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!t||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Qt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,s)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Qt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Qt.EVENT:case Qt.BINARY_EVENT:this.onevent(t);break;case Qt.ACK:case Qt.BINARY_ACK:this.onack(t);break;case Qt.DISCONNECT:this.ondisconnect();break;case Qt.CONNECT_ERROR:this.destroy();const s=new Error(t.data.message);s.data=t.data.data,this.emitReserved("connect_error",s);break}}onevent(t){const s=t.data||[];t.id!=null&&s.push(this.ack(t.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const n of s)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const s=this;let n=!1;return function(...i){n||(n=!0,s.packet({type:Qt.ACK,id:t,data:i}))}}onack(t){const s=this.acks[t.id];typeof s=="function"&&(s.apply(this,t.data),delete this.acks[t.id])}onconnect(t,s){this.id=t,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Qt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const s=this._anyListeners;for(let n=0;n<s.length;n++)if(t===s[n])return s.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const s=this._anyOutgoingListeners;for(let n=0;n<s.length;n++)if(t===s[n])return s.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const n of s)n.apply(this,t.data)}}}function oc(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}oc.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),s=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-s:e+s}return Math.min(e,this.max)|0};oc.prototype.reset=function(){this.attempts=0};oc.prototype.setMin=function(e){this.ms=e};oc.prototype.setMax=function(e){this.max=e};oc.prototype.setJitter=function(e){this.jitter=e};class G0 extends Ks{constructor(t,s){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(s=t,t=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,fm(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((n=s.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new oc({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=t;const i=s.parser||pO;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var s;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(s=this.backoff)===null||s===void 0||s.setMin(t),this)}randomizationFactor(t){var s;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(s=this.backoff)===null||s===void 0||s.setJitter(t),this)}reconnectionDelayMax(t){var s;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(s=this.backoff)===null||s===void 0||s.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new C2(this.uri,this.opts);const s=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=$a(s,"open",function(){n.onopen(),t&&t()}),o=u=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",u),t?t(u):this.maybeReconnectOnOpen()},c=$a(s,"error",o);if(this._timeout!==!1){const u=this._timeout,h=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),s.close()},u);this.opts.autoUnref&&h.unref(),this.subs.push(()=>{this.clearTimeoutFn(h)})}return this.subs.push(i),this.subs.push(c),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push($a(t,"ping",this.onping.bind(this)),$a(t,"data",this.ondata.bind(this)),$a(t,"error",this.onerror.bind(this)),$a(t,"close",this.onclose.bind(this)),$a(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(s){this.onclose("parse error",s)}}ondecoded(t){$x(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,s){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new k2(this,t,s),this.nsps[t]=n),n}_destroy(t){const s=Object.keys(this.nsps);for(const n of s)if(this.nsps[n].active)return;this._close()}_packet(t){const s=this.encoder.encode(t);for(let n=0;n<s.length;n++)this.engine.write(s[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,s){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},s);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const bu={};function jh(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const s=aO(e,t.path||"/socket.io"),n=s.source,i=s.id,o=s.path,c=bu[i]&&o in bu[i].nsps,u=t.forceNew||t["force new connection"]||t.multiplex===!1||c;let h;return u?h=new G0(n,t):(bu[i]||(bu[i]=new G0(n,t)),h=bu[i]),s.query&&!t.query&&(t.query=s.queryKey),h.socket(s.path,t)}Object.assign(jh,{Manager:G0,Socket:k2,io:jh,connect:jh});class xO{constructor(t,s,n,i){No(this,"socket_port"),No(this,"host"),No(this,"port"),No(this,"protocol"),No(this,"url"),No(this,"site_name"),No(this,"socket");var o,c,u,h;if(this.socket_port=n!=null?n:"9000",this.host=(o=window.location)==null?void 0:o.hostname,this.port=(c=window.location)!=null&&c.port?`:${this.socket_port}`:"",this.protocol=((u=window.location)==null?void 0:u.protocol)==="https:"?"https":"http",t){let f=new URL(t);f.port="",n?(f.port=n,this.url=f.toString()):this.url=f.toString()}else this.url=`${this.protocol}://${this.host}${this.port}/`;s&&(this.url=`${this.url}${s}`),this.site_name=s,this.socket=jh(`${this.url}`,{withCredentials:!0,secure:this.protocol==="https",extraHeaders:i&&i.useToken===!0?{Authorization:`${i.type} ${(h=i.token)==null?void 0:h.call(i)}`}:{}})}}const Zr=N.createContext(null),yO=({url:e="",tokenParams:t,socketPort:s,swrConfig:n,siteName:i,enableSocket:o=!0,children:c,customHeaders:u})=>{const h=N.useMemo(()=>{const f=new ZD.FrappeApp(e,t,void 0,u);return{url:e,tokenParams:t,app:f,auth:f.auth(),db:f.db(),call:f.call(),file:f.file(),socket:o?new xO(e,i,s,t).socket:void 0,enableSocket:o,socketPort:s}},[e,t,s,o,u]);return r.jsx(Zr.Provider,{value:h,children:r.jsx(CA,{value:n,children:c})})},An=e=>{const{url:t,auth:s,tokenParams:n}=N.useContext(Zr),[i,o]=N.useState(),c=N.useCallback(()=>{const j=document.cookie.split(";").find(v=>v.trim().startsWith("user_id="));if(j){const v=j.split("=")[1];o(v&&v!=="Guest"?v:null)}else o(null)},[]);N.useEffect(()=>{n&&n.useToken?o(null):c()},[]);const{data:u,error:h,isLoading:f,isValidating:p,mutate:g}=dm(()=>n&&n.useToken||i?`${t}/api/method/frappe.auth.get_logged_user`:null,()=>s.getLoggedInUser(),L({onError:()=>{o(null)},shouldRetryOnError:!1,revalidateOnFocus:!1},e)),x=N.useCallback(j=>we(null,null,function*(){return s.loginWithUsernamePassword(j).then(v=>(c(),v))}),[]),b=N.useCallback(()=>we(null,null,function*(){return s.logout().then(()=>g(null)).then(()=>o(null))}),[]);return{isLoading:i===void 0||f,currentUser:u,isValidating:p,error:h,login:x,logout:b,updateCurrentUser:g,getUserCookie:c}},D2=(e,t,s)=>{let n=`${t}/api/resource/`;return s?n+=`${e}/${s}`:n+=`${e}`,n},Ot=(e,t,s,n)=>{const{url:i,db:o}=N.useContext(Zr);return dm(s===void 0?D2(e,i,t):s,()=>o.getDoc(e,t),n)},bO=e=>{var i;var t,s;let n="";if(e!=null&&e.fields&&(n+="fields="+JSON.stringify(e==null?void 0:e.fields)+"&"),e!=null&&e.filters&&(n+="filters="+JSON.stringify(e==null?void 0:e.filters)+"&"),e!=null&&e.orFilters&&(n+="or_filters="+JSON.stringify(e==null?void 0:e.orFilters)+"&"),e!=null&&e.limit_start&&(n+="limit_start="+JSON.stringify(e==null?void 0:e.limit_start)+"&"),e!=null&&e.limit&&(n+="limit="+JSON.stringify(e==null?void 0:e.limit)+"&"),e!=null&&e.groupBy&&(n+="group_by="+String(e.groupBy)+"&"),e!=null&&e.orderBy){const o=`${String((t=e.orderBy)==null?void 0:t.field)} ${(i=(s=e.orderBy)==null?void 0:s.order)!=null?i:"asc"}`;n+="order_by="+o+"&"}return e!=null&&e.asDict&&(n+="as_dict="+e.asDict),n},Nt=(e,t,s,n)=>{const{url:i,db:o}=N.useContext(Zr);return dm(s===void 0?`${D2(e,i)}?${bO(t)}`:s,()=>o.getDocList(e,t),n)},Yi=()=>{const{db:e}=N.useContext(Zr),[t,s]=N.useState(!1),[n,i]=N.useState(null),[o,c]=N.useState(!1),u=N.useCallback(()=>{s(!1),i(null),c(!1)},[]);return{createDoc:N.useCallback((h,f)=>we(null,null,function*(){return i(null),c(!1),s(!0),e.createDoc(h,f).then(p=>(s(!1),c(!0),p)).catch(p=>{throw s(!1),c(!1),i(p),p})}),[]),loading:t,error:n,isCompleted:o,reset:u}},Gn=()=>{const{db:e}=N.useContext(Zr),[t,s]=N.useState(!1),[n,i]=N.useState(null),[o,c]=N.useState(!1),u=N.useCallback(()=>{s(!1),i(null),c(!1)},[]);return{updateDoc:N.useCallback((h,f,p)=>we(null,null,function*(){return i(null),c(!1),s(!0),e.updateDoc(h,f,p).then(g=>(s(!1),c(!0),g)).catch(g=>{throw s(!1),c(!1),i(g),g})}),[]),loading:t,error:n,reset:u,isCompleted:o}},hm=()=>{const{db:e}=N.useContext(Zr),[t,s]=N.useState(!1),[n,i]=N.useState(null),[o,c]=N.useState(!1),u=N.useCallback(()=>{s(!1),i(null),c(!1)},[]);return{deleteDoc:N.useCallback((h,f)=>we(null,null,function*(){return i(null),c(!1),s(!0),e.deleteDoc(h,f).then(p=>(s(!1),c(!0),p)).catch(p=>{throw s(!1),c(!1),i(p),p})}),[]),loading:t,error:n,reset:u,isCompleted:o}};function vO(e){const t=[];for(let s in e)t.push(encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return t.join("&")}const wO=(e,t,s,n,i="GET")=>{const{call:o}=N.useContext(Zr),c=vO(t!=null?t:{}),u=`${e}?${c}`;return L({},dm(s===void 0?u:s,i==="GET"?()=>o.get(e,t):()=>o.post(e,t),n))},xn=e=>{const{call:t}=N.useContext(Zr),[s,n]=N.useState(null),[i,o]=N.useState(!1),[c,u]=N.useState(null),[h,f]=N.useState(!1),p=N.useCallback(()=>{n(null),o(!1),u(null),f(!1)},[]);return{call:N.useCallback(g=>we(null,null,function*(){return u(null),f(!1),o(!0),n(null),t.post(e,g).then(x=>(n(x),o(!1),f(!0),x)).catch(x=>{throw o(!1),f(!1),u(x),x})}),[]),result:s,loading:i,error:c,reset:p,isCompleted:h}};var jO=(e,t,s,n,i,o,c,u)=>{let h=document.documentElement,f=["light","dark"];function p(b){(Array.isArray(e)?e:[e]).forEach(j=>{let v=j==="class",T=v&&o?i.map(_=>o[_]||_):i;v?(h.classList.remove(...T),h.classList.add(o&&o[b]?o[b]:b)):h.setAttribute(j,b)}),g(b)}function g(b){u&&f.includes(b)&&(h.style.colorScheme=b)}function x(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)p(n);else try{let b=localStorage.getItem(t)||s,j=c&&b==="system"?x():b;p(j)}catch(b){}},f1=["light","dark"],A2="(prefers-color-scheme: dark)",NO=typeof window=="undefined",qx=N.createContext(void 0),_O={setTheme:e=>{},themes:[]},TO=()=>{var e;return(e=N.useContext(qx))!=null?e:_O},SO=e=>N.useContext(qx)?N.createElement(N.Fragment,null,e.children):N.createElement(EO,L({},e)),CO=["light","dark"],EO=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:s=!0,enableColorScheme:n=!0,storageKey:i="theme",themes:o=CO,defaultTheme:c=s?"system":"light",attribute:u="data-theme",value:h,children:f,nonce:p,scriptProps:g})=>{let[x,b]=N.useState(()=>DO(i,c)),[j,v]=N.useState(()=>x==="system"?Yg():x),T=h?Object.values(h):o,_=N.useCallback(D=>{let k=D;if(!k)return;D==="system"&&s&&(k=Yg());let B=h?h[k]:k,F=t?AO(p):null,O=document.documentElement,X=I=>{I==="class"?(O.classList.remove(...T),B&&O.classList.add(B)):I.startsWith("data-")&&(B?O.setAttribute(I,B):O.removeAttribute(I))};if(Array.isArray(u)?u.forEach(X):X(u),n){let I=f1.includes(c)?c:null,Q=f1.includes(k)?k:I;O.style.colorScheme=Q}F==null||F()},[p]),R=N.useCallback(D=>{let k=typeof D=="function"?D(x):D;b(k);try{localStorage.setItem(i,k)}catch(B){}},[x]),S=N.useCallback(D=>{let k=Yg(D);v(k),x==="system"&&s&&!e&&_("system")},[x,e]);N.useEffect(()=>{let D=window.matchMedia(A2);return D.addListener(S),S(D),()=>D.removeListener(S)},[S]),N.useEffect(()=>{let D=k=>{k.key===i&&(k.newValue?b(k.newValue):R(c))};return window.addEventListener("storage",D),()=>window.removeEventListener("storage",D)},[R]),N.useEffect(()=>{_(e!=null?e:x)},[e,x]);let C=N.useMemo(()=>({theme:x,setTheme:R,forcedTheme:e,resolvedTheme:x==="system"?j:x,themes:s?[...o,"system"]:o,systemTheme:s?j:void 0}),[x,R,e,j,s,o]);return N.createElement(qx.Provider,{value:C},N.createElement(kO,{forcedTheme:e,storageKey:i,attribute:u,enableSystem:s,enableColorScheme:n,defaultTheme:c,value:h,themes:o,nonce:p,scriptProps:g}),f)},kO=N.memo(({forcedTheme:e,storageKey:t,attribute:s,enableSystem:n,enableColorScheme:i,defaultTheme:o,value:c,themes:u,nonce:h,scriptProps:f})=>{let p=JSON.stringify([s,t,o,e,u,c,n,i]).slice(1,-1);return N.createElement("script",oe(L({},f),{suppressHydrationWarning:!0,nonce:typeof window=="undefined"?h:"",dangerouslySetInnerHTML:{__html:`(${jO.toString()})(${p})`}}))}),DO=(e,t)=>{if(NO)return;let s;try{s=localStorage.getItem(e)||void 0}catch(n){}return s||t},AO=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},Yg=e=>(e||(e=window.matchMedia(A2)),e.matches?"dark":"light");/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var O2=e=>{throw TypeError(e)},OO=(e,t,s)=>t.has(e)||O2("Cannot "+s),Gg=(e,t,s)=>(OO(e,t,"read from private field"),s?s.call(e):t.get(e)),RO=(e,t,s)=>t.has(e)?O2("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),h1="popstate";function MO(e={}){function t(n,i){let{pathname:o,search:c,hash:u}=n.location;return Xu("",{pathname:o,search:c,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(n,i){return typeof i=="string"?i:Ui(i)}return LO(t,s,null,e)}function Wt(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function Qs(e,t){if(!e){typeof console!="undefined"&&console.warn(t);try{throw new Error(t)}catch(s){}}}function PO(){return Math.random().toString(36).substring(2,10)}function m1(e,t){return{usr:e.state,key:e.key,idx:t}}function Xu(e,t,s=null,n){return oe(L({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Gi(t):t),{state:s,key:t&&t.key||n||PO()})}function Ui({pathname:e="/",search:t="",hash:s=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Gi(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substring(s),e=e.substring(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function LO(e,t,s,n={}){let{window:i=document.defaultView,v5Compat:o=!1}=n,c=i.history,u="POP",h=null,f=p();f==null&&(f=0,c.replaceState(oe(L({},c.state),{idx:f}),""));function p(){return(c.state||{idx:null}).idx}function g(){u="POP";let T=p(),_=T==null?null:T-f;f=T,h&&h({action:u,location:v.location,delta:_})}function x(T,_){u="PUSH";let R=Xu(v.location,T,_);f=p()+1;let S=m1(R,f),C=v.createHref(R);try{c.pushState(S,"",C)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(C)}o&&h&&h({action:u,location:v.location,delta:1})}function b(T,_){u="REPLACE";let R=Xu(v.location,T,_);f=p();let S=m1(R,f),C=v.createHref(R);c.replaceState(S,"",C),o&&h&&h({action:u,location:v.location,delta:0})}function j(T){return R2(T)}let v={get action(){return u},get location(){return e(i,c)},listen(T){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(h1,g),h=T,()=>{i.removeEventListener(h1,g),h=null}},createHref(T){return t(i,T)},createURL:j,encodeLocation(T){let _=j(T);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:x,replace:b,go(T){return c.go(T)}};return v}function R2(e,t=!1){let s="http://localhost";typeof window!="undefined"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Wt(s,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Ui(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=s+n),new URL(n,s)}var Lu,p1=class{constructor(e){if(RO(this,Lu,new Map),e)for(let[t,s]of e)this.set(t,s)}get(e){if(Gg(this,Lu).has(e))return Gg(this,Lu).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){Gg(this,Lu).set(e,t)}};Lu=new WeakMap;var BO=new Set(["lazy","caseSensitive","path","id","index","children"]);function FO(e){return BO.has(e)}var UO=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function zO(e){return UO.has(e)}function HO(e){return e.index===!0}function Ku(e,t,s=[],n={},i=!1){return e.map((o,c)=>{let u=[...s,String(c)],h=typeof o.id=="string"?o.id:u.join("-");if(Wt(o.index!==!0||!o.children,"Cannot specify children on an index route"),Wt(i||!n[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),HO(o)){let f=oe(L(L({},o),t(o)),{id:h});return n[h]=f,f}else{let f=oe(L(L({},o),t(o)),{id:h,children:void 0});return n[h]=f,o.children&&(f.children=Ku(o.children,t,u,n,i)),f}})}function Ai(e,t,s="/"){return Nh(e,t,s,!1)}function Nh(e,t,s,n){let i=typeof t=="string"?Gi(t):t,o=ka(i.pathname||"/",s);if(o==null)return null;let c=M2(e);VO(c);let u=null;for(let h=0;u==null&&h<c.length;++h){let f=eR(o);u=ZO(c[h],f,n)}return u}function $O(e,t){let{route:s,pathname:n,params:i}=e;return{id:s.id,pathname:n,params:i,data:t[s.id],handle:s.handle}}function M2(e,t=[],s=[],n=""){let i=(o,c,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};h.relativePath.startsWith("/")&&(Wt(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length));let f=hr([n,h.relativePath]),p=s.concat(h);o.children&&o.children.length>0&&(Wt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),M2(o.children,t,p,f)),!(o.path==null&&!o.index)&&t.push({path:f,score:KO(f,o.index),routesMeta:p})};return e.forEach((o,c)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,c);else for(let h of P2(o.path))i(o,c,h)}),t}function P2(e){let t=e.split("/");if(t.length===0)return[];let[s,...n]=t,i=s.endsWith("?"),o=s.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let c=P2(n.join("/")),u=[];return u.push(...c.map(h=>h===""?o:[o,h].join("/"))),i&&u.push(...c),u.map(h=>e.startsWith("/")&&h===""?"/":h)}function VO(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:QO(t.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}var IO=/^:[\w-]+$/,qO=3,WO=2,YO=1,GO=10,XO=-2,g1=e=>e==="*";function KO(e,t){let s=e.split("/"),n=s.length;return s.some(g1)&&(n+=XO),t&&(n+=WO),s.filter(i=>!g1(i)).reduce((i,o)=>i+(IO.test(o)?qO:o===""?YO:GO),n)}function QO(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function ZO(e,t,s=!1){let{routesMeta:n}=e,i={},o="/",c=[];for(let u=0;u<n.length;++u){let h=n[u],f=u===n.length-1,p=o==="/"?t:t.slice(o.length)||"/",g=Bh({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),x=h.route;if(!g&&f&&s&&!n[n.length-1].route.index&&(g=Bh({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),c.push({params:i,pathname:hr([o,g.pathname]),pathnameBase:aR(hr([o,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(o=hr([o,g.pathnameBase]))}return c}function Bh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=JO(e.path,e.caseSensitive,e.end),i=t.match(s);if(!i)return null;let o=i[0],c=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((f,{paramName:p,isOptional:g},x)=>{if(p==="*"){let j=u[x]||"";c=o.slice(0,o.length-j.length).replace(/(.)\/+$/,"$1")}const b=u[x];return g&&!b?f[p]=void 0:f[p]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:c,pattern:e}}function JO(e,t=!1,s=!0){Qs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,h)=>(n.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function eR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Qs(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ka(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&n!=="/"?null:e.slice(s)||"/"}function tR({basename:e,pathname:t}){return t==="/"?e:hr([e,t])}function sR(e,t="/"){let{pathname:s,search:n="",hash:i=""}=typeof e=="string"?Gi(e):e;return{pathname:s?s.startsWith("/")?s:nR(s,t):t,search:rR(n),hash:iR(i)}}function nR(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function Xg(e,t,s,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function L2(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Wx(e){let t=L2(e);return t.map((s,n)=>n===t.length-1?s.pathname:s.pathnameBase)}function Yx(e,t,s,n=!1){let i;typeof e=="string"?i=Gi(e):(i=L({},e),Wt(!i.pathname||!i.pathname.includes("?"),Xg("?","pathname","search",i)),Wt(!i.pathname||!i.pathname.includes("#"),Xg("#","pathname","hash",i)),Wt(!i.search||!i.search.includes("#"),Xg("#","search","hash",i)));let o=e===""||i.pathname==="",c=o?"/":i.pathname,u;if(c==null)u=s;else{let g=t.length-1;if(!n&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),g-=1;i.pathname=x.join("/")}u=g>=0?t[g]:"/"}let h=sR(i,u),f=c&&c!=="/"&&c.endsWith("/"),p=(o||c===".")&&s.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}var hr=e=>e.join("/").replace(/\/\/+/g,"/"),aR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),rR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,iR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Fh=class{constructor(e,t,s,n=!1){this.status=e,this.statusText=t||"",this.internal=n,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function Qu(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var B2=["POST","PUT","PATCH","DELETE"],oR=new Set(B2),lR=["GET",...B2],cR=new Set(lR),uR=new Set([301,302,303,307,308]),dR=new Set([307,308]),Kg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},fR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},vu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},hR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gx=e=>hR.test(e),mR=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),F2="remix-router-transitions",U2=Symbol("ResetLoaderData");function pR(e){const t=e.window?e.window:typeof window!="undefined"?window:void 0,s=typeof t!="undefined"&&typeof t.document!="undefined"&&typeof t.document.createElement!="undefined";Wt(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=e.hydrationRouteProperties||[],i=e.mapRouteProperties||mR,o={},c=Ku(e.routes,i,void 0,o),u,h=e.basename||"/",f=e.dataStrategy||vR,p=L({unstable_middleware:!1},e.future),g=null,x=new Set,b=null,j=null,v=null,T=e.hydrationData!=null,_=Ai(c,e.history.location,h),R=!1,S=null,C;if(_==null&&!e.patchRoutesOnNavigation){let se=wa(404,{pathname:e.history.location.pathname}),{matches:ce,route:ge}=E1(c);C=!0,_=ce,S={[ge.id]:se}}else if(_&&!e.hydrationData&&st(_,c,e.history.location.pathname).active&&(_=null),_)if(_.some(se=>se.route.lazy))C=!1;else if(!_.some(se=>se.route.loader))C=!0;else{let se=e.hydrationData?e.hydrationData.loaderData:null,ce=e.hydrationData?e.hydrationData.errors:null;if(ce){let ge=_.findIndex(_e=>ce[_e.route.id]!==void 0);C=_.slice(0,ge+1).every(_e=>!K0(_e.route,se,ce))}else C=_.every(ge=>!K0(ge.route,se,ce))}else{C=!1,_=[];let se=st(null,c,e.history.location.pathname);se.active&&se.matches&&(R=!0,_=se.matches)}let D,k={historyAction:e.history.action,location:e.history.location,matches:_,initialized:C,navigation:Kg,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||S,fetchers:new Map,blockers:new Map},B="POP",F=!1,O,X=!1,I=new Map,Q=null,W=!1,Y=!1,H=new Set,z=new Map,Z=0,te=-1,ue=new Map,M=new Set,ie=new Map,ne=new Map,V=new Set,J=new Map,xe,fe=null;function Ee(){if(g=e.history.listen(({action:se,location:ce,delta:ge})=>{if(xe){xe(),xe=void 0;return}Qs(J.size===0||ge!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let _e=rn({currentLocation:k.location,nextLocation:ce,historyAction:se});if(_e&&ge!=null){let Me=new Promise(Ye=>{xe=Ye});e.history.go(ge*-1),Is(_e,{state:"blocked",location:ce,proceed(){Is(_e,{state:"proceeding",proceed:void 0,reset:void 0,location:ce}),Me.then(()=>e.history.go(ge))},reset(){let Ye=new Map(k.blockers);Ye.set(_e,vu),re({blockers:Ye})}});return}return Le(se,ce)}),s){AR(t,I);let se=()=>OR(t,I);t.addEventListener("pagehide",se),Q=()=>t.removeEventListener("pagehide",se)}return k.initialized||Le("POP",k.location,{initialHydration:!0}),D}function De(){g&&g(),Q&&Q(),x.clear(),O&&O.abort(),k.fetchers.forEach((se,ce)=>jt(ce)),k.blockers.forEach((se,ce)=>is(ce))}function Ie(se){return x.add(se),()=>x.delete(se)}function re(se,ce={}){se.matches&&(se.matches=se.matches.map(Me=>{let Ye=o[Me.route.id],rt=Me.route;return rt.element!==Ye.element||rt.errorElement!==Ye.errorElement||rt.hydrateFallbackElement!==Ye.hydrateFallbackElement?oe(L({},Me),{route:Ye}):Me})),k=L(L({},k),se);let ge=[],_e=[];k.fetchers.forEach((Me,Ye)=>{Me.state==="idle"&&(V.has(Ye)?ge.push(Ye):_e.push(Ye))}),V.forEach(Me=>{!k.fetchers.has(Me)&&!z.has(Me)&&ge.push(Me)}),[...x].forEach(Me=>Me(k,{deletedFetchers:ge,viewTransitionOpts:ce.viewTransitionOpts,flushSync:ce.flushSync===!0})),ge.forEach(Me=>jt(Me)),_e.forEach(Me=>k.fetchers.delete(Me))}function Re(se,ce,{flushSync:ge}={}){var ft,St;let _e=k.actionData!=null&&k.navigation.formMethod!=null&&Wn(k.navigation.formMethod)&&k.navigation.state==="loading"&&((ft=se.state)==null?void 0:ft._isRedirect)!==!0,Me;ce.actionData?Object.keys(ce.actionData).length>0?Me=ce.actionData:Me=null:_e?Me=k.actionData:Me=null;let Ye=ce.loaderData?S1(k.loaderData,ce.loaderData,ce.matches||[],ce.errors):k.loaderData,rt=k.blockers;rt.size>0&&(rt=new Map(rt),rt.forEach((Rt,xs)=>rt.set(xs,vu)));let ct=W?!1:as(se,ce.matches||k.matches),xt=F===!0||k.navigation.formMethod!=null&&Wn(k.navigation.formMethod)&&((St=se.state)==null?void 0:St._isRedirect)!==!0;u&&(c=u,u=void 0),W||B==="POP"||(B==="PUSH"?e.history.push(se,se.state):B==="REPLACE"&&e.history.replace(se,se.state));let Mt;if(B==="POP"){let Rt=I.get(k.location.pathname);Rt&&Rt.has(se.pathname)?Mt={currentLocation:k.location,nextLocation:se}:I.has(se.pathname)&&(Mt={currentLocation:se,nextLocation:k.location})}else if(X){let Rt=I.get(k.location.pathname);Rt?Rt.add(se.pathname):(Rt=new Set([se.pathname]),I.set(k.location.pathname,Rt)),Mt={currentLocation:k.location,nextLocation:se}}re(oe(L({},ce),{actionData:Me,loaderData:Ye,historyAction:B,location:se,initialized:!0,navigation:Kg,revalidation:"idle",restoreScrollPosition:ct,preventScrollReset:xt,blockers:rt}),{viewTransitionOpts:Mt,flushSync:ge===!0}),B="POP",F=!1,X=!1,W=!1,Y=!1,fe==null||fe.resolve(),fe=null}function He(se,ce){return we(this,null,function*(){if(typeof se=="number"){e.history.go(se);return}let ge=X0(k.location,k.matches,h,se,ce==null?void 0:ce.fromRouteId,ce==null?void 0:ce.relative),{path:_e,submission:Me,error:Ye}=x1(!1,ge,ce),rt=k.location,ct=Xu(k.location,_e,ce&&ce.state);ct=L(L({},ct),e.history.encodeLocation(ct));let xt=ce&&ce.replace!=null?ce.replace:void 0,Mt="PUSH";xt===!0?Mt="REPLACE":xt===!1||Me!=null&&Wn(Me.formMethod)&&Me.formAction===k.location.pathname+k.location.search&&(Mt="REPLACE");let ft=ce&&"preventScrollReset"in ce?ce.preventScrollReset===!0:void 0,St=(ce&&ce.flushSync)===!0,Rt=rn({currentLocation:rt,nextLocation:ct,historyAction:Mt});if(Rt){Is(Rt,{state:"blocked",location:ct,proceed(){Is(Rt,{state:"proceeding",proceed:void 0,reset:void 0,location:ct}),He(se,ce)},reset(){let xs=new Map(k.blockers);xs.set(Rt,vu),re({blockers:xs})}});return}yield Le(Mt,ct,{submission:Me,pendingError:Ye,preventScrollReset:ft,replace:ce&&ce.replace,enableViewTransition:ce&&ce.viewTransition,flushSync:St})})}function Xe(){fe||(fe=RR()),Pe(),re({revalidation:"loading"});let se=fe.promise;return k.navigation.state==="submitting"?se:k.navigation.state==="idle"?(Le(k.historyAction,k.location,{startUninterruptedRevalidation:!0}),se):(Le(B||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:X===!0}),se)}function Le(se,ce,ge){return we(this,null,function*(){O&&O.abort(),O=null,B=se,W=(ge&&ge.startUninterruptedRevalidation)===!0,kt(k.location,k.matches),F=(ge&&ge.preventScrollReset)===!0,X=(ge&&ge.enableViewTransition)===!0;let _e=u||c,Me=ge&&ge.overrideNavigation,Ye=ge!=null&&ge.initialHydration&&k.matches&&k.matches.length>0&&!R?k.matches:Ai(_e,ce,h),rt=(ge&&ge.flushSync)===!0;if(Ye&&k.initialized&&!Y&&SR(k.location,ce)&&!(ge&&ge.submission&&Wn(ge.submission.formMethod))){Re(ce,{matches:Ye},{flushSync:rt});return}let ct=st(Ye,_e,ce.pathname);if(ct.active&&ct.matches&&(Ye=ct.matches),!Ye){let{error:ds,notFoundMatches:ht,route:Dt}=tt(ce.pathname);Re(ce,{matches:ht,loaderData:{},errors:{[Dt.id]:ds}},{flushSync:rt});return}O=new AbortController;let xt=ql(e.history,ce,O.signal,ge&&ge.submission),Mt=new p1(e.unstable_getContext?yield e.unstable_getContext():void 0),ft;if(ge&&ge.pendingError)ft=[Do(Ye).route.id,{type:"error",error:ge.pendingError}];else if(ge&&ge.submission&&Wn(ge.submission.formMethod)){let ds=yield dt(xt,ce,ge.submission,Ye,Mt,ct.active,ge&&ge.initialHydration===!0,{replace:ge.replace,flushSync:rt});if(ds.shortCircuited)return;if(ds.pendingActionResult){let[ht,Dt]=ds.pendingActionResult;if(aa(Dt)&&Qu(Dt.error)&&Dt.error.status===404){O=null,Re(ce,{matches:ds.matches,loaderData:{},errors:{[ht]:Dt.error}});return}}Ye=ds.matches||Ye,ft=ds.pendingActionResult,Me=Qg(ce,ge.submission),rt=!1,ct.active=!1,xt=ql(e.history,xt.url,xt.signal)}let{shortCircuited:St,matches:Rt,loaderData:xs,errors:Os}=yield Ge(xt,ce,Ye,Mt,ct.active,Me,ge&&ge.submission,ge&&ge.fetcherSubmission,ge&&ge.replace,ge&&ge.initialHydration===!0,rt,ft);St||(O=null,Re(ce,oe(L({matches:Rt||Ye},C1(ft)),{loaderData:xs,errors:Os})))})}function dt(xt,Mt,ft,St,Rt,xs,Os){return we(this,arguments,function*(se,ce,ge,_e,Me,Ye,rt,ct={}){Pe();let ds=kR(ce,ge);if(re({navigation:ds},{flushSync:ct.flushSync===!0}),Ye){let es=yield Ct(_e,ce.pathname,se.signal);if(es.type==="aborted")return{shortCircuited:!0};if(es.type==="error"){let _s=Do(es.partialMatches).route.id;return{matches:es.partialMatches,pendingActionResult:[_s,{type:"error",error:es.error}]}}else if(es.matches)_e=es.matches;else{let{notFoundMatches:_s,error:Rs,route:Zs}=tt(ce.pathname);return{matches:_s,pendingActionResult:[Zs.id,{type:"error",error:Rs}]}}}let ht,Dt=_h(_e,ce);if(!Dt.route.action&&!Dt.route.lazy)ht={type:"error",error:wa(405,{method:se.method,pathname:ce.pathname,routeId:Dt.route.id})};else{let es=Kl(i,o,se,_e,Dt,rt?[]:n,Me),_s=yield Te(se,es,Me,null);if(ht=_s[Dt.route.id],!ht){for(let Rs of _e)if(_s[Rs.route.id]){ht=_s[Rs.route.id];break}}if(se.signal.aborted)return{shortCircuited:!0}}if(Po(ht)){let es;return ct&&ct.replace!=null?es=ct.replace:es=N1(ht.response.headers.get("Location"),new URL(se.url),h)===k.location.pathname+k.location.search,yield G(se,ht,!0,{submission:ge,replace:es}),{shortCircuited:!0}}if(aa(ht)){let es=Do(_e,Dt.route.id);return(ct&&ct.replace)!==!0&&(B="PUSH"),{matches:_e,pendingActionResult:[es.route.id,ht,Dt.route.id]}}return{matches:_e,pendingActionResult:[Dt.route.id,ht]}})}function Ge(se,ce,ge,_e,Me,Ye,rt,ct,xt,Mt,ft,St){return we(this,null,function*(){let Rt=Ye||Qg(ce,rt),xs=rt||ct||D1(Rt),Os=!W&&!Mt;if(Me){if(Os){let Ms=Be(St);re(L({navigation:Rt},Ms!==void 0?{actionData:Ms}:{}),{flushSync:ft})}let Lt=yield Ct(ge,ce.pathname,se.signal);if(Lt.type==="aborted")return{shortCircuited:!0};if(Lt.type==="error"){let Ms=Do(Lt.partialMatches).route.id;return{matches:Lt.partialMatches,loaderData:{},errors:{[Ms]:Lt.error}}}else if(Lt.matches)ge=Lt.matches;else{let{error:Ms,notFoundMatches:jr,route:hn}=tt(ce.pathname);return{matches:jr,loaderData:{},errors:{[hn.id]:Ms}}}}let ds=u||c,{dsMatches:ht,revalidatingFetchers:Dt}=y1(se,_e,i,o,e.history,k,ge,xs,ce,Mt?[]:n,Mt===!0,Y,H,V,ie,M,ds,h,e.patchRoutesOnNavigation!=null,St);if(te=++Z,!e.dataStrategy&&!ht.some(Lt=>Lt.shouldLoad)&&Dt.length===0){let Lt=zt();return Re(ce,L(L({matches:ge,loaderData:{},errors:St&&aa(St[1])?{[St[0]]:St[1].error}:null},C1(St)),Lt?{fetchers:new Map(k.fetchers)}:{}),{flushSync:ft}),{shortCircuited:!0}}if(Os){let Lt={};if(!Me){Lt.navigation=Rt;let Ms=Be(St);Ms!==void 0&&(Lt.actionData=Ms)}Dt.length>0&&(Lt.fetchers=ze(Dt)),re(Lt,{flushSync:ft})}Dt.forEach(Lt=>{Fe(Lt.key),Lt.controller&&z.set(Lt.key,Lt.controller)});let es=()=>Dt.forEach(Lt=>Fe(Lt.key));O&&O.signal.addEventListener("abort",es);let{loaderResults:_s,fetcherResults:Rs}=yield Ue(ht,Dt,se,_e);if(se.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",es),Dt.forEach(Lt=>z.delete(Lt.key));let Zs=Uf(_s);if(Zs)return yield G(se,Zs.result,!0,{replace:xt}),{shortCircuited:!0};if(Zs=Uf(Rs),Zs)return M.add(Zs.key),yield G(se,Zs.result,!0,{replace:xt}),{shortCircuited:!0};let{loaderData:on,errors:ca}=T1(k,ge,_s,St,Dt,Rs);Mt&&k.errors&&(ca=L(L({},k.errors),ca));let ua=zt(),Nn=Gt(te),da=ua||Nn||Dt.length>0;return L({matches:ge,loaderData:on,errors:ca},da?{fetchers:new Map(k.fetchers)}:{})})}function Be(se){if(se&&!aa(se[1]))return{[se[0]]:se[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function ze(se){return se.forEach(ce=>{let ge=k.fetchers.get(ce.key),_e=wu(void 0,ge?ge.data:void 0);k.fetchers.set(ce.key,_e)}),new Map(k.fetchers)}function nt(se,ce,ge,_e){return we(this,null,function*(){Fe(se);let Me=(_e&&_e.flushSync)===!0,Ye=u||c,rt=X0(k.location,k.matches,h,ge,ce,_e==null?void 0:_e.relative),ct=Ai(Ye,rt,h),xt=st(ct,Ye,rt);if(xt.active&&xt.matches&&(ct=xt.matches),!ct){Ze(se,ce,wa(404,{pathname:rt}),{flushSync:Me});return}let{path:Mt,submission:ft,error:St}=x1(!0,rt,_e);if(St){Ze(se,ce,St,{flushSync:Me});return}let Rt=new p1(e.unstable_getContext?yield e.unstable_getContext():void 0),xs=(_e&&_e.preventScrollReset)===!0;if(ft&&Wn(ft.formMethod)){yield K(se,ce,Mt,ct,Rt,xt.active,Me,xs,ft);return}ie.set(se,{routeId:ce,path:Mt}),yield me(se,ce,Mt,ct,Rt,xt.active,Me,xs,ft)})}function K(se,ce,ge,_e,Me,Ye,rt,ct,xt){return we(this,null,function*(){Pe(),ie.delete(se);let Mt=k.fetchers.get(se);We(se,DR(xt,Mt),{flushSync:rt});let ft=new AbortController,St=ql(e.history,ge,ft.signal,xt);if(Ye){let bs=yield Ct(_e,new URL(St.url).pathname,St.signal,se);if(bs.type==="aborted")return;if(bs.type==="error"){Ze(se,ce,bs.error,{flushSync:rt});return}else if(bs.matches)_e=bs.matches;else{Ze(se,ce,wa(404,{pathname:ge}),{flushSync:rt});return}}let Rt=_h(_e,ge);if(!Rt.route.action&&!Rt.route.lazy){let bs=wa(405,{method:xt.formMethod,pathname:ge,routeId:ce});Ze(se,ce,bs,{flushSync:rt});return}z.set(se,ft);let xs=Z,Os=Kl(i,o,St,_e,Rt,n,Me),ht=(yield Te(St,Os,Me,se))[Rt.route.id];if(St.signal.aborted){z.get(se)===ft&&z.delete(se);return}if(V.has(se)){if(Po(ht)||aa(ht)){We(se,Ci(void 0));return}}else{if(Po(ht))if(z.delete(se),te>xs){We(se,Ci(void 0));return}else return M.add(se),We(se,wu(xt)),G(St,ht,!1,{fetcherSubmission:xt,preventScrollReset:ct});if(aa(ht)){Ze(se,ce,ht.error);return}}let Dt=k.navigation.location||k.location,es=ql(e.history,Dt,ft.signal),_s=u||c,Rs=k.navigation.state!=="idle"?Ai(_s,k.navigation.location,h):k.matches;Wt(Rs,"Didn't find any matches after fetcher action");let Zs=++Z;ue.set(se,Zs);let on=wu(xt,ht.data);k.fetchers.set(se,on);let{dsMatches:ca,revalidatingFetchers:ua}=y1(es,Me,i,o,e.history,k,Rs,xt,Dt,n,!1,Y,H,V,ie,M,_s,h,e.patchRoutesOnNavigation!=null,[Rt.route.id,ht]);ua.filter(bs=>bs.key!==se).forEach(bs=>{let Ra=bs.key,Qo=k.fetchers.get(Ra),Zo=wu(void 0,Qo?Qo.data:void 0);k.fetchers.set(Ra,Zo),Fe(Ra),bs.controller&&z.set(Ra,bs.controller)}),re({fetchers:new Map(k.fetchers)});let Nn=()=>ua.forEach(bs=>Fe(bs.key));ft.signal.addEventListener("abort",Nn);let{loaderResults:da,fetcherResults:Lt}=yield Ue(ca,ua,es,Me);if(ft.signal.aborted)return;if(ft.signal.removeEventListener("abort",Nn),ue.delete(se),z.delete(se),ua.forEach(bs=>z.delete(bs.key)),k.fetchers.has(se)){let bs=Ci(ht.data);k.fetchers.set(se,bs)}let Ms=Uf(da);if(Ms)return G(es,Ms.result,!1,{preventScrollReset:ct});if(Ms=Uf(Lt),Ms)return M.add(Ms.key),G(es,Ms.result,!1,{preventScrollReset:ct});let{loaderData:jr,errors:hn}=T1(k,Rs,da,void 0,ua,Lt);Gt(Zs),k.navigation.state==="loading"&&Zs>te?(Wt(B,"Expected pending action"),O&&O.abort(),Re(k.navigation.location,{matches:Rs,loaderData:jr,errors:hn,fetchers:new Map(k.fetchers)})):(re({errors:hn,loaderData:S1(k.loaderData,jr,Rs,hn),fetchers:new Map(k.fetchers)}),Y=!1)})}function me(se,ce,ge,_e,Me,Ye,rt,ct,xt){return we(this,null,function*(){let Mt=k.fetchers.get(se);We(se,wu(xt,Mt?Mt.data:void 0),{flushSync:rt});let ft=new AbortController,St=ql(e.history,ge,ft.signal);if(Ye){let Dt=yield Ct(_e,new URL(St.url).pathname,St.signal,se);if(Dt.type==="aborted")return;if(Dt.type==="error"){Ze(se,ce,Dt.error,{flushSync:rt});return}else if(Dt.matches)_e=Dt.matches;else{Ze(se,ce,wa(404,{pathname:ge}),{flushSync:rt});return}}let Rt=_h(_e,ge);z.set(se,ft);let xs=Z,Os=Kl(i,o,St,_e,Rt,n,Me),ht=(yield Te(St,Os,Me,se))[Rt.route.id];if(z.get(se)===ft&&z.delete(se),!St.signal.aborted){if(V.has(se)){We(se,Ci(void 0));return}if(Po(ht))if(te>xs){We(se,Ci(void 0));return}else{M.add(se),yield G(St,ht,!1,{preventScrollReset:ct});return}if(aa(ht)){Ze(se,ce,ht.error);return}We(se,Ci(ht.data))}})}function G(ct,xt,Mt){return we(this,arguments,function*(se,ce,ge,{submission:_e,fetcherSubmission:Me,preventScrollReset:Ye,replace:rt}={}){ce.response.headers.has("X-Remix-Revalidate")&&(Y=!0);let ft=ce.response.headers.get("Location");Wt(ft,"Expected a Location header on the redirect Response"),ft=N1(ft,new URL(se.url),h);let St=Xu(k.location,ft,{_isRedirect:!0});if(s){let Dt=!1;if(ce.response.headers.has("X-Remix-Reload-Document"))Dt=!0;else if(Gx(ft)){const es=R2(ft,!0);Dt=es.origin!==t.location.origin||ka(es.pathname,h)==null}if(Dt){rt?t.location.replace(ft):t.location.assign(ft);return}}O=null;let Rt=rt===!0||ce.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:xs,formAction:Os,formEncType:ds}=k.navigation;!_e&&!Me&&xs&&Os&&ds&&(_e=D1(k.navigation));let ht=_e||Me;if(dR.has(ce.response.status)&&ht&&Wn(ht.formMethod))yield Le(Rt,St,{submission:oe(L({},ht),{formAction:ft}),preventScrollReset:Ye||F,enableViewTransition:ge?X:void 0});else{let Dt=Qg(St,_e);yield Le(Rt,St,{overrideNavigation:Dt,fetcherSubmission:Me,preventScrollReset:Ye||F,enableViewTransition:ge?X:void 0})}})}function Te(se,ce,ge,_e){return we(this,null,function*(){let Me,Ye={};try{Me=yield wR(f,se,ce,_e,ge,!1)}catch(rt){return ce.filter(ct=>ct.shouldLoad).forEach(ct=>{Ye[ct.route.id]={type:"error",error:rt}}),Ye}if(se.signal.aborted)return Ye;for(let[rt,ct]of Object.entries(Me))if(CR(ct)){let xt=ct.result;Ye[rt]={type:"redirect",response:_R(xt,se,rt,ce,h)}}else Ye[rt]=yield NR(ct);return Ye})}function Ue(se,ce,ge,_e){return we(this,null,function*(){let Me=Te(ge,se,_e,null),Ye=Promise.all(ce.map(xt=>we(null,null,function*(){if(xt.matches&&xt.match&&xt.request&&xt.controller){let ft=(yield Te(xt.request,xt.matches,_e,xt.key))[xt.match.route.id];return{[xt.key]:ft}}else return Promise.resolve({[xt.key]:{type:"error",error:wa(404,{pathname:xt.path})}})}))),rt=yield Me,ct=(yield Ye).reduce((xt,Mt)=>Object.assign(xt,Mt),{});return{loaderResults:rt,fetcherResults:ct}})}function Pe(){Y=!0,ie.forEach((se,ce)=>{z.has(ce)&&H.add(ce),Fe(ce)})}function We(se,ce,ge={}){k.fetchers.set(se,ce),re({fetchers:new Map(k.fetchers)},{flushSync:(ge&&ge.flushSync)===!0})}function Ze(se,ce,ge,_e={}){let Me=Do(k.matches,ce);jt(se),re({errors:{[Me.route.id]:ge},fetchers:new Map(k.fetchers)},{flushSync:(_e&&_e.flushSync)===!0})}function at(se){return ne.set(se,(ne.get(se)||0)+1),V.has(se)&&V.delete(se),k.fetchers.get(se)||fR}function jt(se){let ce=k.fetchers.get(se);z.has(se)&&!(ce&&ce.state==="loading"&&ue.has(se))&&Fe(se),ie.delete(se),ue.delete(se),M.delete(se),V.delete(se),H.delete(se),k.fetchers.delete(se)}function Se(se){let ce=(ne.get(se)||0)-1;ce<=0?(ne.delete(se),V.add(se)):ne.set(se,ce),re({fetchers:new Map(k.fetchers)})}function Fe(se){let ce=z.get(se);ce&&(ce.abort(),z.delete(se))}function Ke(se){for(let ce of se){let ge=at(ce),_e=Ci(ge.data);k.fetchers.set(ce,_e)}}function zt(){let se=[],ce=!1;for(let ge of M){let _e=k.fetchers.get(ge);Wt(_e,`Expected fetcher: ${ge}`),_e.state==="loading"&&(M.delete(ge),se.push(ge),ce=!0)}return Ke(se),ce}function Gt(se){let ce=[];for(let[ge,_e]of ue)if(_e<se){let Me=k.fetchers.get(ge);Wt(Me,`Expected fetcher: ${ge}`),Me.state==="loading"&&(Fe(ge),ue.delete(ge),ce.push(ge))}return Ke(ce),ce.length>0}function Xt(se,ce){let ge=k.blockers.get(se)||vu;return J.get(se)!==ce&&J.set(se,ce),ge}function is(se){k.blockers.delete(se),J.delete(se)}function Is(se,ce){let ge=k.blockers.get(se)||vu;Wt(ge.state==="unblocked"&&ce.state==="blocked"||ge.state==="blocked"&&ce.state==="blocked"||ge.state==="blocked"&&ce.state==="proceeding"||ge.state==="blocked"&&ce.state==="unblocked"||ge.state==="proceeding"&&ce.state==="unblocked",`Invalid blocker state transition: ${ge.state} -> ${ce.state}`);let _e=new Map(k.blockers);_e.set(se,ce),re({blockers:_e})}function rn({currentLocation:se,nextLocation:ce,historyAction:ge}){if(J.size===0)return;J.size>1&&Qs(!1,"A router only supports one blocker at a time");let _e=Array.from(J.entries()),[Me,Ye]=_e[_e.length-1],rt=k.blockers.get(Me);if(!(rt&&rt.state==="proceeding")&&Ye({currentLocation:se,nextLocation:ce,historyAction:ge}))return Me}function tt(se){let ce=wa(404,{pathname:se}),ge=u||c,{matches:_e,route:Me}=E1(ge);return{notFoundMatches:_e,route:Me,error:ce}}function Bt(se,ce,ge){if(b=se,v=ce,j=ge||null,!T&&k.navigation===Kg){T=!0;let _e=as(k.location,k.matches);_e!=null&&re({restoreScrollPosition:_e})}return()=>{b=null,v=null,j=null}}function Vt(se,ce){return j&&j(se,ce.map(_e=>$O(_e,k.loaderData)))||se.key}function kt(se,ce){if(b&&v){let ge=Vt(se,ce);b[ge]=v()}}function as(se,ce){if(b){let ge=Vt(se,ce),_e=b[ge];if(typeof _e=="number")return _e}return null}function st(se,ce,ge){if(e.patchRoutesOnNavigation)if(se){if(Object.keys(se[0].params).length>0)return{active:!0,matches:Nh(ce,ge,h,!0)}}else return{active:!0,matches:Nh(ce,ge,h,!0)||[]};return{active:!1,matches:null}}function Ct(se,ce,ge,_e){return we(this,null,function*(){if(!e.patchRoutesOnNavigation)return{type:"success",matches:se};let Me=se;for(;;){let Ye=u==null,rt=u||c,ct=o;try{yield e.patchRoutesOnNavigation({signal:ge,path:ce,matches:Me,fetcherKey:_e,patch:(ft,St)=>{ge.aborted||b1(ft,St,rt,ct,i,!1)}})}catch(ft){return{type:"error",error:ft,partialMatches:Me}}finally{Ye&&!ge.aborted&&(c=[...c])}if(ge.aborted)return{type:"aborted"};let xt=Ai(rt,ce,h);if(xt)return{type:"success",matches:xt};let Mt=Nh(rt,ce,h,!0);if(!Mt||Me.length===Mt.length&&Me.every((ft,St)=>ft.route.id===Mt[St].route.id))return{type:"success",matches:null};Me=Mt}})}function Kt(se){o={},u=Ku(se,i,void 0,o)}function Jt(se,ce,ge=!1){let _e=u==null;b1(se,ce,u||c,o,i,ge),_e&&(c=[...c],re({}))}return D={get basename(){return h},get future(){return p},get state(){return k},get routes(){return c},get window(){return t},initialize:Ee,subscribe:Ie,enableScrollRestoration:Bt,navigate:He,fetch:nt,revalidate:Xe,createHref:se=>e.history.createHref(se),encodeLocation:se=>e.history.encodeLocation(se),getFetcher:at,deleteFetcher:Se,dispose:De,getBlocker:Xt,deleteBlocker:is,patchRoutes:Jt,_internalFetchControllers:z,_internalSetRoutes:Kt,_internalSetStateDoNotUseOrYouWillBreakYourApp(se){re(se)}},D}function gR(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function X0(e,t,s,n,i,o){let c,u;if(i){c=[];for(let f of t)if(c.push(f),f.route.id===i){u=f;break}}else c=t,u=t[t.length-1];let h=Yx(n||".",Wx(c),ka(e.pathname,s)||e.pathname,o==="path");if(n==null&&(h.search=e.search,h.hash=e.hash),(n==null||n===""||n===".")&&u){let f=Xx(h.search);if(u.route.index&&!f)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&f){let p=new URLSearchParams(h.search),g=p.getAll("index");p.delete("index"),g.filter(b=>b).forEach(b=>p.append("index",b));let x=p.toString();h.search=x?`?${x}`:""}}return s!=="/"&&(h.pathname=tR({basename:s,pathname:h.pathname})),Ui(h)}function x1(e,t,s){if(!s||!gR(s))return{path:t};if(s.formMethod&&!ER(s.formMethod))return{path:t,error:wa(405,{method:s.formMethod})};let n=()=>({path:t,error:wa(400,{type:"invalid-body"})}),o=(s.formMethod||"get").toUpperCase(),c=q2(t);if(s.body!==void 0){if(s.formEncType==="text/plain"){if(!Wn(o))return n();let g=typeof s.body=="string"?s.body:s.body instanceof FormData||s.body instanceof URLSearchParams?Array.from(s.body.entries()).reduce((x,[b,j])=>`${x}${b}=${j}
`,""):String(s.body);return{path:t,submission:{formMethod:o,formAction:c,formEncType:s.formEncType,formData:void 0,json:void 0,text:g}}}else if(s.formEncType==="application/json"){if(!Wn(o))return n();try{let g=typeof s.body=="string"?JSON.parse(s.body):s.body;return{path:t,submission:{formMethod:o,formAction:c,formEncType:s.formEncType,formData:void 0,json:g,text:void 0}}}catch(g){return n()}}}Wt(typeof FormData=="function","FormData is not available in this environment");let u,h;if(s.formData)u=Z0(s.formData),h=s.formData;else if(s.body instanceof FormData)u=Z0(s.body),h=s.body;else if(s.body instanceof URLSearchParams)u=s.body,h=_1(u);else if(s.body==null)u=new URLSearchParams,h=new FormData;else try{u=new URLSearchParams(s.body),h=_1(u)}catch(g){return n()}let f={formMethod:o,formAction:c,formEncType:s&&s.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(Wn(f.formMethod))return{path:t,submission:f};let p=Gi(t);return e&&p.search&&Xx(p.search)&&u.append("index",""),p.search=`?${u}`,{path:Ui(p),submission:f}}function y1(e,t,s,n,i,o,c,u,h,f,p,g,x,b,j,v,T,_,R,S){var W;let C=S?aa(S[1])?S[1].error:S[1].data:void 0,D=i.createURL(o.location),k=i.createURL(h),B;if(p&&o.errors){let Y=Object.keys(o.errors)[0];B=c.findIndex(H=>H.route.id===Y)}else if(S&&aa(S[1])){let Y=S[0];B=c.findIndex(H=>H.route.id===Y)-1}let F=S?S[1].statusCode:void 0,O=F&&F>=400,X=oe(L({currentUrl:D,currentParams:((W=o.matches[0])==null?void 0:W.params)||{},nextUrl:k,nextParams:c[0].params},u),{actionResult:C,actionStatus:F}),I=c.map((Y,H)=>{let{route:z}=Y,Z=null;if(B!=null&&H>B?Z=!1:z.lazy?Z=!0:z.loader==null?Z=!1:p?Z=K0(z,o.loaderData,o.errors):xR(o.loaderData,o.matches[H],Y)&&(Z=!0),Z!==null)return Q0(s,n,e,Y,f,t,Z);let te=O?!1:g||D.pathname+D.search===k.pathname+k.search||D.search!==k.search||yR(o.matches[H],Y),ue=oe(L({},X),{defaultShouldRevalidate:te}),M=Uh(Y,ue);return Q0(s,n,e,Y,f,t,M,ue)}),Q=[];return j.forEach((Y,H)=>{if(p||!c.some(V=>V.route.id===Y.routeId)||b.has(H))return;let z=o.fetchers.get(H),Z=z&&z.state!=="idle"&&z.data===void 0,te=Ai(T,Y.path,_);if(!te){if(R&&Z)return;Q.push({key:H,routeId:Y.routeId,path:Y.path,matches:null,match:null,request:null,controller:null});return}if(v.has(H))return;let ue=_h(te,Y.path),M=new AbortController,ie=ql(i,Y.path,M.signal),ne=null;if(x.has(H))x.delete(H),ne=Kl(s,n,ie,te,ue,f,t);else if(Z)g&&(ne=Kl(s,n,ie,te,ue,f,t));else{let V=oe(L({},X),{defaultShouldRevalidate:O?!1:g});Uh(ue,V)&&(ne=Kl(s,n,ie,te,ue,f,t,V))}ne&&Q.push({key:H,routeId:Y.routeId,path:Y.path,matches:ne,match:ue,request:ie,controller:M})}),{dsMatches:I,revalidatingFetchers:Q}}function K0(e,t,s){if(e.lazy)return!0;if(!e.loader)return!1;let n=t!=null&&e.id in t,i=s!=null&&s[e.id]!==void 0;return!n&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!n&&!i}function xR(e,t,s){let n=!t||s.route.id!==t.route.id,i=!e.hasOwnProperty(s.route.id);return n||i}function yR(e,t){let s=e.route.path;return e.pathname!==t.pathname||s!=null&&s.endsWith("*")&&e.params["*"]!==t.params["*"]}function Uh(e,t){if(e.route.shouldRevalidate){let s=e.route.shouldRevalidate(t);if(typeof s=="boolean")return s}return t.defaultShouldRevalidate}function b1(e,t,s,n,i,o){let c;if(e){let f=n[e];Wt(f,`No route found to patch children into: routeId = ${e}`),f.children||(f.children=[]),c=f.children}else c=s;let u=[],h=[];if(t.forEach(f=>{let p=c.find(g=>z2(f,g));p?h.push({existingRoute:p,newRoute:f}):u.push(f)}),u.length>0){let f=Ku(u,i,[e||"_","patch",String((c==null?void 0:c.length)||"0")],n);c.push(...f)}if(o&&h.length>0)for(let f=0;f<h.length;f++){let{existingRoute:p,newRoute:g}=h[f],x=p,[b]=Ku([g],i,[],{},!0);Object.assign(x,{element:b.element?b.element:x.element,errorElement:b.errorElement?b.errorElement:x.errorElement,hydrateFallbackElement:b.hydrateFallbackElement?b.hydrateFallbackElement:x.hydrateFallbackElement})}}function z2(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((s,n)=>{var i;return(i=t.children)==null?void 0:i.some(o=>z2(s,o))}):!1}var v1=new WeakMap,H2=({key:e,route:t,manifest:s,mapRouteProperties:n})=>{let i=s[t.id];if(Wt(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let o=i.lazy[e];if(!o)return;let c=v1.get(i);c||(c={},v1.set(i,c));let u=c[e];if(u)return u;let h=we(null,null,function*(){let f=FO(e),g=i[e]!==void 0&&e!=="hasErrorBoundary";if(f)Qs(!f,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),c[e]=Promise.resolve();else if(g)Qs(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let x=yield o();x!=null&&(Object.assign(i,{[e]:x}),Object.assign(i,n(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(x=>x===void 0)&&(i.lazy=void 0))});return c[e]=h,h},w1=new WeakMap;function bR(e,t,s,n,i){let o=s[e.id];if(Wt(o,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let p=w1.get(o);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let g=we(null,null,function*(){Wt(typeof e.lazy=="function","No lazy route function found");let x=yield e.lazy(),b={};for(let j in x){let v=x[j];if(v===void 0)continue;let T=zO(j),R=o[j]!==void 0&&j!=="hasErrorBoundary";T?Qs(!T,"Route property "+j+" is not a supported property to be returned from a lazy route function. This property will be ignored."):R?Qs(!R,`Route "${o.id}" has a static property "${j}" defined but its lazy function is also returning a value for this property. The lazy route property "${j}" will be ignored.`):b[j]=v}Object.assign(o,b),Object.assign(o,oe(L({},n(o)),{lazy:void 0}))});return w1.set(o,g),g.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:g}}let c=Object.keys(e.lazy),u=[],h;for(let p of c){if(i&&i.includes(p))continue;let g=H2({key:p,route:e,manifest:s,mapRouteProperties:n});g&&(u.push(g),p===t&&(h=g))}let f=u.length>0?Promise.all(u).then(()=>{}):void 0;return f==null||f.catch(()=>{}),h==null||h.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:h}}function j1(e){return we(this,null,function*(){let t=e.matches.filter(i=>i.shouldLoad),s={};return(yield Promise.all(t.map(i=>i.resolve()))).forEach((i,o)=>{s[t[o].route.id]=i}),s})}function vR(e){return we(this,null,function*(){return e.matches.some(t=>t.route.unstable_middleware)?$2(e,!1,()=>j1(e),(t,s)=>({[s]:{type:"error",result:t}})):j1(e)})}function $2(e,t,s,n){return we(this,null,function*(){let{matches:i,request:o,params:c,context:u}=e,h={handlerResult:void 0};try{let f=i.flatMap(g=>g.route.unstable_middleware?g.route.unstable_middleware.map(x=>[g.route.id,x]):[]),p=yield V2({request:o,params:c,context:u},f,t,h,s);return t?p:h.handlerResult}catch(f){if(!h.middlewareError)throw f;let p=yield n(h.middlewareError.error,h.middlewareError.routeId);return h.handlerResult?Object.assign(h.handlerResult,p):p}})}function V2(e,t,s,n,i,o=0){return we(this,null,function*(){let{request:c}=e;if(c.signal.aborted)throw c.signal.reason?c.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${c.method} ${c.url}`);let u=t[o];if(!u)return n.handlerResult=yield i(),n.handlerResult;let[h,f]=u,p=!1,g,x=()=>we(null,null,function*(){if(p)throw new Error("You may only call `next()` once per middleware");p=!0,yield V2(e,t,s,n,i,o+1)});try{let b=yield f({request:e.request,params:e.params,context:e.context},x);return p?b===void 0?g:b:x()}catch(b){throw n.middlewareError?n.middlewareError.error!==b&&(n.middlewareError={routeId:h,error:b}):n.middlewareError={routeId:h,error:b},b}})}function I2(e,t,s,n,i){let o=H2({key:"unstable_middleware",route:n.route,manifest:t,mapRouteProperties:e}),c=bR(n.route,Wn(s.method)?"action":"loader",t,e,i);return{middleware:o,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function Q0(e,t,s,n,i,o,c,u=null){let h=!1,f=I2(e,t,s,n,i);return oe(L({},n),{_lazyPromises:f,shouldLoad:c,unstable_shouldRevalidateArgs:u,unstable_shouldCallHandler(p){return h=!0,u?typeof p=="boolean"?Uh(n,oe(L({},u),{defaultShouldRevalidate:p})):Uh(n,u):c},resolve(p){return h||c||p&&!Wn(s.method)&&(n.route.lazy||n.route.loader)?jR({request:s,match:n,lazyHandlerPromise:f==null?void 0:f.handler,lazyRoutePromise:f==null?void 0:f.route,handlerOverride:p,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}})}function Kl(e,t,s,n,i,o,c,u=null){return n.map(h=>h.route.id!==i.route.id?oe(L({},h),{shouldLoad:!1,unstable_shouldRevalidateArgs:u,unstable_shouldCallHandler:()=>!1,_lazyPromises:I2(e,t,s,h,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}):Q0(e,t,s,h,o,c,!0,u))}function wR(e,t,s,n,i,o){return we(this,null,function*(){s.some(f=>{var p;return(p=f._lazyPromises)==null?void 0:p.middleware})&&(yield Promise.all(s.map(f=>{var p;return(p=f._lazyPromises)==null?void 0:p.middleware})));let c={request:t,params:s[0].params,context:i,matches:s},u=f=>{let p=c;return $2(p,!1,()=>f(oe(L({},p),{fetcherKey:n,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})),(g,x)=>({[x]:{type:"error",result:g}}))},h=yield e(oe(L({},c),{fetcherKey:n,unstable_runClientMiddleware:u}));try{yield Promise.all(s.flatMap(f=>{var p,g;return[(p=f._lazyPromises)==null?void 0:p.handler,(g=f._lazyPromises)==null?void 0:g.route]}))}catch(f){}return h})}function jR(c){return we(this,arguments,function*({request:e,match:t,lazyHandlerPromise:s,lazyRoutePromise:n,handlerOverride:i,scopedContext:o}){let u,h,f=Wn(e.method),p=f?"action":"loader",g=x=>{let b,j=new Promise((_,R)=>b=R);h=()=>b(),e.signal.addEventListener("abort",h);let v=_=>typeof x!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${t.route.id}]`)):x({request:e,params:t.params,context:o},..._!==void 0?[_]:[]),T=we(null,null,function*(){try{return{type:"data",result:yield i?i(R=>v(R)):v()}}catch(_){return{type:"error",result:_}}});return Promise.race([T,j])};try{let x=f?t.route.action:t.route.loader;if(s||n)if(x){let b,[j]=yield Promise.all([g(x).catch(v=>{b=v}),s,n]);if(b!==void 0)throw b;u=j}else{yield s;let b=f?t.route.action:t.route.loader;if(b)[u]=yield Promise.all([g(b),n]);else if(p==="action"){let j=new URL(e.url),v=j.pathname+j.search;throw wa(405,{method:e.method,pathname:v,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(x)u=yield g(x);else{let b=new URL(e.url),j=b.pathname+b.search;throw wa(404,{pathname:j})}}catch(x){return{type:"error",result:x}}finally{h&&e.signal.removeEventListener("abort",h)}return u})}function NR(e){return we(this,null,function*(){var n,i,o,c,u,h;let{result:t,type:s}=e;if(W2(t)){let f;try{let p=t.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?t.body==null?f=null:f=yield t.json():f=yield t.text()}catch(p){return{type:"error",error:p}}return s==="error"?{type:"error",error:new Fh(t.status,t.statusText,f),statusCode:t.status,headers:t.headers}:{type:"data",data:f,statusCode:t.status,headers:t.headers}}return s==="error"?k1(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(n=t.init)==null?void 0:n.status,headers:(i=t.init)!=null&&i.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Fh(((o=t.init)==null?void 0:o.status)||500,void 0,t.data),statusCode:Qu(t)?t.status:void 0,headers:(c=t.init)!=null&&c.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Qu(t)?t.status:void 0}:k1(t)?{type:"data",data:t.data,statusCode:(u=t.init)==null?void 0:u.status,headers:(h=t.init)!=null&&h.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}})}function _R(e,t,s,n,i){let o=e.headers.get("Location");if(Wt(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Gx(o)){let c=n.slice(0,n.findIndex(u=>u.route.id===s)+1);o=X0(new URL(t.url),c,i,o),e.headers.set("Location",o)}return e}function N1(e,t,s){if(Gx(e)){let n=e,i=n.startsWith("//")?new URL(t.protocol+n):new URL(n),o=ka(i.pathname,s)!=null;if(i.origin===t.origin&&o)return i.pathname+i.search+i.hash}return e}function ql(e,t,s,n){let i=e.createURL(q2(t)).toString(),o={signal:s};if(n&&Wn(n.formMethod)){let{formMethod:c,formEncType:u}=n;o.method=c.toUpperCase(),u==="application/json"?(o.headers=new Headers({"Content-Type":u}),o.body=JSON.stringify(n.json)):u==="text/plain"?o.body=n.text:u==="application/x-www-form-urlencoded"&&n.formData?o.body=Z0(n.formData):o.body=n.formData}return new Request(i,o)}function Z0(e){let t=new URLSearchParams;for(let[s,n]of e.entries())t.append(s,typeof n=="string"?n:n.name);return t}function _1(e){let t=new FormData;for(let[s,n]of e.entries())t.append(s,n);return t}function TR(e,t,s,n=!1,i=!1){let o={},c=null,u,h=!1,f={},p=s&&aa(s[1])?s[1].error:void 0;return e.forEach(g=>{if(!(g.route.id in t))return;let x=g.route.id,b=t[x];if(Wt(!Po(b),"Cannot handle redirect results in processLoaderData"),aa(b)){let j=b.error;if(p!==void 0&&(j=p,p=void 0),c=c||{},i)c[x]=j;else{let v=Do(e,x);c[v.route.id]==null&&(c[v.route.id]=j)}n||(o[x]=U2),h||(h=!0,u=Qu(b.error)?b.error.status:500),b.headers&&(f[x]=b.headers)}else o[x]=b.data,b.statusCode&&b.statusCode!==200&&!h&&(u=b.statusCode),b.headers&&(f[x]=b.headers)}),p!==void 0&&s&&(c={[s[0]]:p},s[2]&&(o[s[2]]=void 0)),{loaderData:o,errors:c,statusCode:u||200,loaderHeaders:f}}function T1(e,t,s,n,i,o){let{loaderData:c,errors:u}=TR(t,s,n);return i.filter(h=>!h.matches||h.matches.some(f=>f.shouldLoad)).forEach(h=>{let{key:f,match:p,controller:g}=h,x=o[f];if(Wt(x,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(aa(x)){let b=Do(e.matches,p==null?void 0:p.route.id);u&&u[b.route.id]||(u=oe(L({},u),{[b.route.id]:x.error})),e.fetchers.delete(f)}else if(Po(x))Wt(!1,"Unhandled fetcher revalidation redirect");else{let b=Ci(x.data);e.fetchers.set(f,b)}}),{loaderData:c,errors:u}}function S1(e,t,s,n){let i=Object.entries(t).filter(([,o])=>o!==U2).reduce((o,[c,u])=>(o[c]=u,o),{});for(let o of s){let c=o.route.id;if(!t.hasOwnProperty(c)&&e.hasOwnProperty(c)&&o.route.loader&&(i[c]=e[c]),n&&n.hasOwnProperty(c))break}return i}function C1(e){return e?aa(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Do(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function E1(e){let t=e.length===1?e[0]:e.find(s=>s.index||!s.path||s.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function wa(e,{pathname:t,routeId:s,method:n,type:i,message:o}={}){let c="Unknown Server Error",u="Unknown @remix-run/router error";return e===400?(c="Bad Request",n&&t&&s?u=`You made a ${n} request to "${t}" but did not provide a \`loader\` for route "${s}", so there is no way to handle the request.`:i==="invalid-body"&&(u="Unable to encode submission body")):e===403?(c="Forbidden",u=`Route "${s}" does not match URL "${t}"`):e===404?(c="Not Found",u=`No route matches URL "${t}"`):e===405&&(c="Method Not Allowed",n&&t&&s?u=`You made a ${n.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${s}", so there is no way to handle the request.`:n&&(u=`Invalid request method "${n.toUpperCase()}"`)),new Fh(e||500,c,new Error(u),!0)}function Uf(e){let t=Object.entries(e);for(let s=t.length-1;s>=0;s--){let[n,i]=t[s];if(Po(i))return{key:n,result:i}}}function q2(e){let t=typeof e=="string"?Gi(e):e;return Ui(oe(L({},t),{hash:""}))}function SR(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function CR(e){return W2(e.result)&&uR.has(e.result.status)}function aa(e){return e.type==="error"}function Po(e){return(e&&e.type)==="redirect"}function k1(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function W2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body!="undefined"}function ER(e){return cR.has(e.toUpperCase())}function Wn(e){return oR.has(e.toUpperCase())}function Xx(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function _h(e,t){let s=typeof t=="string"?Gi(t).search:t.search;if(e[e.length-1].route.index&&Xx(s||""))return e[e.length-1];let n=L2(e);return n[n.length-1]}function D1(e){let{formMethod:t,formAction:s,formEncType:n,text:i,formData:o,json:c}=e;if(!(!t||!s||!n)){if(i!=null)return{formMethod:t,formAction:s,formEncType:n,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:t,formAction:s,formEncType:n,formData:o,json:void 0,text:void 0};if(c!==void 0)return{formMethod:t,formAction:s,formEncType:n,formData:void 0,json:c,text:void 0}}}function Qg(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function kR(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function wu(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function DR(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Ci(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function AR(e,t){try{let s=e.sessionStorage.getItem(F2);if(s){let n=JSON.parse(s);for(let[i,o]of Object.entries(n||{}))o&&Array.isArray(o)&&t.set(i,new Set(o||[]))}}catch(s){}}function OR(e,t){if(t.size>0){let s={};for(let[n,i]of t)s[n]=[...i];try{e.sessionStorage.setItem(F2,JSON.stringify(s))}catch(n){Qs(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function RR(){let e,t,s=new Promise((n,i)=>{e=o=>we(null,null,function*(){n(o);try{yield s}catch(c){}}),t=o=>we(null,null,function*(){i(o);try{yield s}catch(c){}})});return{promise:s,resolve:e,reject:t}}var Xo=N.createContext(null);Xo.displayName="DataRouter";var ld=N.createContext(null);ld.displayName="DataRouterState";N.createContext(!1);var Kx=N.createContext({isTransitioning:!1});Kx.displayName="ViewTransition";var Y2=N.createContext(new Map);Y2.displayName="Fetchers";var MR=N.createContext(null);MR.displayName="Await";var br=N.createContext(null);br.displayName="Navigation";var mm=N.createContext(null);mm.displayName="Location";var vr=N.createContext({outlet:null,matches:[],isDataRoute:!1});vr.displayName="Route";var Qx=N.createContext(null);Qx.displayName="RouteError";function PR(e,{relative:t}={}){Wt(cd(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:n}=N.useContext(br),{hash:i,pathname:o,search:c}=ud(e,{relative:t}),u=o;return s!=="/"&&(u=o==="/"?s:hr([s,o])),n.createHref({pathname:u,search:c,hash:i})}function cd(){return N.useContext(mm)!=null}function Xi(){return Wt(cd(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(mm).location}var G2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function X2(e){N.useContext(br).static||N.useLayoutEffect(e)}function LR(){let{isDataRoute:e}=N.useContext(vr);return e?QR():BR()}function BR(){Wt(cd(),"useNavigate() may be used only in the context of a <Router> component.");let e=N.useContext(Xo),{basename:t,navigator:s}=N.useContext(br),{matches:n}=N.useContext(vr),{pathname:i}=Xi(),o=JSON.stringify(Wx(n)),c=N.useRef(!1);return X2(()=>{c.current=!0}),N.useCallback((h,f={})=>{if(Qs(c.current,G2),!c.current)return;if(typeof h=="number"){s.go(h);return}let p=Yx(h,JSON.parse(o),i,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:hr([t,p.pathname])),(f.replace?s.replace:s.push)(p,f.state,f)},[t,s,o,i,e])}var FR=N.createContext(null);function UR(e){let t=N.useContext(vr).outlet;return t&&N.createElement(FR.Provider,{value:e},t)}function ud(e,{relative:t}={}){let{matches:s}=N.useContext(vr),{pathname:n}=Xi(),i=JSON.stringify(Wx(s));return N.useMemo(()=>Yx(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function zR(e,t,s,n){Wt(cd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=N.useContext(br),{matches:o}=N.useContext(vr),c=o[o.length-1],u=c?c.params:{},h=c?c.pathname:"/",f=c?c.pathnameBase:"/",p=c&&c.route;{let _=p&&p.path||"";K2(h,!p||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let g=Xi(),x;x=g;let b=x.pathname||"/",j=b;if(f!=="/"){let _=f.replace(/^\//,"").split("/");j="/"+b.replace(/^\//,"").split("/").slice(_.length).join("/")}let v=Ai(e,{pathname:j});return Qs(p||v!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Qs(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),qR(v&&v.map(_=>Object.assign({},_,{params:Object.assign({},u,_.params),pathname:hr([f,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?f:hr([f,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,s,n)}function HR(){let e=KR(),t=Qu(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:o},"ErrorBoundary")," or"," ",N.createElement("code",{style:o},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),s?N.createElement("pre",{style:i},s):null,c)}var $R=N.createElement(HR,null),VR=class extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?N.createElement(vr.Provider,{value:this.props.routeContext},N.createElement(Qx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function IR({routeContext:e,match:t,children:s}){let n=N.useContext(Xo);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(vr.Provider,{value:e},s)}function qR(e,t=[],s=null,n=null){if(e==null){if(!s)return null;if(s.errors)e=s.matches;else if(t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let i=e,o=s==null?void 0:s.errors;if(o!=null){let h=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);Wt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let c=!1,u=-1;if(s)for(let h=0;h<i.length;h++){let f=i[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:p,errors:g}=s,x=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||x){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,f,p)=>{let g,x=!1,b=null,j=null;s&&(g=o&&f.route.id?o[f.route.id]:void 0,b=f.route.errorElement||$R,c&&(u<0&&p===0?(K2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,j=null):u===p&&(x=!0,j=f.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,p+1)),T=()=>{let _;return g?_=b:x?_=j:f.route.Component?_=N.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=h,N.createElement(IR,{match:f,routeContext:{outlet:h,matches:v,isDataRoute:s!=null},children:_})};return s&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?N.createElement(VR,{location:s.location,revalidation:s.revalidation,component:b,error:g,children:T(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):T()},null)}function Zx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WR(e){let t=N.useContext(Xo);return Wt(t,Zx(e)),t}function YR(e){let t=N.useContext(ld);return Wt(t,Zx(e)),t}function GR(e){let t=N.useContext(vr);return Wt(t,Zx(e)),t}function Jx(e){let t=GR(e),s=t.matches[t.matches.length-1];return Wt(s.route.id,`${e} can only be used on routes that contain a unique "id"`),s.route.id}function XR(){return Jx("useRouteId")}function KR(){var n;let e=N.useContext(Qx),t=YR("useRouteError"),s=Jx("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[s]}function QR(){let{router:e}=WR("useNavigate"),t=Jx("useNavigate"),s=N.useRef(!1);return X2(()=>{s.current=!0}),N.useCallback((c,...u)=>we(null,[c,...u],function*(i,o={}){Qs(s.current,G2),s.current&&(typeof i=="number"?e.navigate(i):yield e.navigate(i,L({fromRouteId:t},o)))}),[e,t])}var A1={};function K2(e,t,s){!t&&!A1[e]&&(A1[e]=!0,Qs(!1,s))}var O1={};function R1(e,t){!e&&!O1[t]&&(O1[t]=!0,console.warn(t))}function ZR(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Qs(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:N.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Qs(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:N.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Qs(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:N.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var JR=["HydrateFallback","hydrateFallbackElement"],eM=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",t(s))}})}};function tM({router:e,flushSync:t}){let[s,n]=N.useState(e.state),[i,o]=N.useState(),[c,u]=N.useState({isTransitioning:!1}),[h,f]=N.useState(),[p,g]=N.useState(),[x,b]=N.useState(),j=N.useRef(new Map),v=N.useCallback((S,{deletedFetchers:C,flushSync:D,viewTransitionOpts:k})=>{S.fetchers.forEach((F,O)=>{F.data!==void 0&&j.current.set(O,F.data)}),C.forEach(F=>j.current.delete(F)),R1(D===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let B=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(R1(k==null||B,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!k||!B){t&&D?t(()=>n(S)):N.startTransition(()=>n(S));return}if(t&&D){t(()=>{p&&(h&&h.resolve(),p.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:k.currentLocation,nextLocation:k.nextLocation})});let F=e.window.document.startViewTransition(()=>{t(()=>n(S))});F.finished.finally(()=>{t(()=>{f(void 0),g(void 0),o(void 0),u({isTransitioning:!1})})}),t(()=>g(F));return}p?(h&&h.resolve(),p.skipTransition(),b({state:S,currentLocation:k.currentLocation,nextLocation:k.nextLocation})):(o(S),u({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}))},[e.window,t,p,h]);N.useLayoutEffect(()=>e.subscribe(v),[e,v]),N.useEffect(()=>{c.isTransitioning&&!c.flushSync&&f(new eM)},[c]),N.useEffect(()=>{if(h&&i&&e.window){let S=i,C=h.promise,D=e.window.document.startViewTransition(()=>we(null,null,function*(){N.startTransition(()=>n(S)),yield C}));D.finished.finally(()=>{f(void 0),g(void 0),o(void 0),u({isTransitioning:!1})}),g(D)}},[i,h,e.window]),N.useEffect(()=>{h&&i&&s.location.key===i.location.key&&h.resolve()},[h,p,s.location,i]),N.useEffect(()=>{!c.isTransitioning&&x&&(o(x.state),u({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),b(void 0))},[c.isTransitioning,x]);let T=N.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:S=>e.navigate(S),push:(S,C,D)=>e.navigate(S,{state:C,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(S,C,D)=>e.navigate(S,{replace:!0,state:C,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[e]),_=e.basename||"/",R=N.useMemo(()=>({router:e,navigator:T,static:!1,basename:_}),[e,T,_]);return N.createElement(N.Fragment,null,N.createElement(Xo.Provider,{value:R},N.createElement(ld.Provider,{value:s},N.createElement(Y2.Provider,{value:j.current},N.createElement(Kx.Provider,{value:c},N.createElement(rM,{basename:_,location:s.location,navigationType:s.historyAction,navigator:T},N.createElement(sM,{routes:e.routes,future:e.future,state:s})))))),null)}var sM=N.memo(nM);function nM({routes:e,future:t,state:s}){return zR(e,void 0,s,t)}function aM(e){return UR(e.context)}function rM({basename:e="/",children:t=null,location:s,navigationType:n="POP",navigator:i,static:o=!1}){Wt(!cd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:c,navigator:i,static:o,future:{}}),[c,i,o]);typeof s=="string"&&(s=Gi(s));let{pathname:h="/",search:f="",hash:p="",state:g=null,key:x="default"}=s,b=N.useMemo(()=>{let j=ka(h,c);return j==null?null:{location:{pathname:j,search:f,hash:p,state:g,key:x},navigationType:n}},[c,h,f,p,g,x,n]);return Qs(b!=null,`<Router basename="${c}"> is not able to match the URL "${h}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:N.createElement(br.Provider,{value:u},N.createElement(mm.Provider,{children:t,value:b}))}var Th="get",Sh="application/x-www-form-urlencoded";function pm(e){return e!=null&&typeof e.tagName=="string"}function iM(e){return pm(e)&&e.tagName.toLowerCase()==="button"}function oM(e){return pm(e)&&e.tagName.toLowerCase()==="form"}function lM(e){return pm(e)&&e.tagName.toLowerCase()==="input"}function cM(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function uM(e,t){return e.button===0&&(!t||t==="_self")&&!cM(e)}var zf=null;function dM(){if(zf===null)try{new FormData(document.createElement("form"),0),zf=!1}catch(e){zf=!0}return zf}var fM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zg(e){return e!=null&&!fM.has(e)?(Qs(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sh}"`),null):e}function hM(e,t){let s,n,i,o,c;if(oM(e)){let u=e.getAttribute("action");n=u?ka(u,t):null,s=e.getAttribute("method")||Th,i=Zg(e.getAttribute("enctype"))||Sh,o=new FormData(e)}else if(iM(e)||lM(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||u.getAttribute("action");if(n=h?ka(h,t):null,s=e.getAttribute("formmethod")||u.getAttribute("method")||Th,i=Zg(e.getAttribute("formenctype"))||Zg(u.getAttribute("enctype"))||Sh,o=new FormData(u,e),!dM()){let{name:f,type:p,value:g}=e;if(p==="image"){let x=f?`${f}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else f&&o.append(f,g)}}else{if(pm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Th,n=null,i=Sh,c=e}return o&&i==="text/plain"&&(c=o,o=void 0),{action:n,method:s.toLowerCase(),encType:i,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ey(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function mM(e,t,s){let n=typeof e=="string"?new URL(e,typeof window=="undefined"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${s}`:t&&ka(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${s}`,n}function pM(e,t){return we(this,null,function*(){if(e.id in t)return t[e.id];try{let s=yield import(e.module);return t[e.id]=s,s}catch(s){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}})}function gM(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}function xM(e,t,s){return we(this,null,function*(){let n=yield Promise.all(e.map(i=>we(null,null,function*(){let o=t.routes[i.route.id];if(o){let c=yield pM(o,s);return c.links?c.links():[]}return[]})));return wM(n.flat(1).filter(gM).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?oe(L({},i),{rel:"prefetch",as:"style"}):oe(L({},i),{rel:"prefetch"})))})}function M1(e,t,s,n,i,o){let c=(h,f)=>s[f]?h.route.id!==s[f].route.id:!0,u=(h,f)=>{var p;return s[f].pathname!==h.pathname||((p=s[f].route.path)==null?void 0:p.endsWith("*"))&&s[f].params["*"]!==h.params["*"]};return o==="assets"?t.filter((h,f)=>c(h,f)||u(h,f)):o==="data"?t.filter((h,f)=>{var g;let p=n.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(c(h,f)||u(h,f))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=s[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function yM(e,t,{includeHydrateFallback:s}={}){return bM(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),s&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function bM(e){return[...new Set(e)]}function vM(e){let t={},s=Object.keys(e).sort();for(let n of s)t[n]=e[n];return t}function wM(e,t){let s=new Set;return new Set(t),e.reduce((n,i)=>{let o=JSON.stringify(vM(i));return s.has(o)||(s.add(o),n.push({key:o,link:i})),n},[])}function Q2(){let e=N.useContext(Xo);return ey(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function jM(){let e=N.useContext(ld);return ey(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ty=N.createContext(void 0);ty.displayName="FrameworkContext";function Z2(){let e=N.useContext(ty);return ey(e,"You must render this element inside a <HydratedRouter> element"),e}function NM(e,t){let s=N.useContext(ty),[n,i]=N.useState(!1),[o,c]=N.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:f,onMouseLeave:p,onTouchStart:g}=t,x=N.useRef(null);N.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let v=_=>{_.forEach(R=>{c(R.isIntersecting)})},T=new IntersectionObserver(v,{threshold:.5});return x.current&&T.observe(x.current),()=>{T.disconnect()}}},[e]),N.useEffect(()=>{if(n){let v=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(v)}}},[n]);let b=()=>{i(!0)},j=()=>{i(!1),c(!1)};return s?e!=="intent"?[o,x,{}]:[o,x,{onFocus:ju(u,b),onBlur:ju(h,j),onMouseEnter:ju(f,b),onMouseLeave:ju(p,j),onTouchStart:ju(g,b)}]:[!1,x,{}]}function ju(e,t){return s=>{e&&e(s),s.defaultPrevented||t(s)}}function _M(s){var n=s,{page:e}=n,t=Oe(n,["page"]);let{router:i}=Q2(),o=N.useMemo(()=>Ai(i.routes,e,i.basename),[i.routes,e,i.basename]);return o?N.createElement(SM,L({page:e,matches:o},t)):null}function TM(e){let{manifest:t,routeModules:s}=Z2(),[n,i]=N.useState([]);return N.useEffect(()=>{let o=!1;return xM(e,t,s).then(c=>{o||i(c)}),()=>{o=!0}},[e,t,s]),n}function SM(n){var i=n,{page:e,matches:t}=i,s=Oe(i,["page","matches"]);let o=Xi(),{manifest:c,routeModules:u}=Z2(),{basename:h}=Q2(),{loaderData:f,matches:p}=jM(),g=N.useMemo(()=>M1(e,t,p,c,o,"data"),[e,t,p,c,o]),x=N.useMemo(()=>M1(e,t,p,c,o,"assets"),[e,t,p,c,o]),b=N.useMemo(()=>{if(e===o.pathname+o.search+o.hash)return[];let T=new Set,_=!1;if(t.forEach(S=>{var D;let C=c.routes[S.route.id];!C||!C.hasLoader||(!g.some(k=>k.route.id===S.route.id)&&S.route.id in f&&((D=u[S.route.id])!=null&&D.shouldRevalidate)||C.hasClientLoader?_=!0:T.add(S.route.id))}),T.size===0)return[];let R=mM(e,h,"data");return _&&T.size>0&&R.searchParams.set("_routes",t.filter(S=>T.has(S.route.id)).map(S=>S.route.id).join(",")),[R.pathname+R.search]},[h,f,o,c,g,t,e,u]),j=N.useMemo(()=>yM(x,c),[x,c]),v=TM(x);return N.createElement(N.Fragment,null,b.map(T=>N.createElement("link",L({key:T,rel:"prefetch",as:"fetch",href:T},s))),j.map(T=>N.createElement("link",L({key:T,rel:"modulepreload",href:T},s))),v.map(({key:T,link:_})=>N.createElement("link",L({key:T},_))))}function CM(...e){return t=>{e.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}var J2=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{J2&&(window.__reactRouterVersion="7.7.1")}catch(e){}function EM(e,t){return pR({basename:t==null?void 0:t.basename,unstable_getContext:t==null?void 0:t.unstable_getContext,future:t==null?void 0:t.future,history:MO({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||kM(),routes:e,mapRouteProperties:ZR,hydrationRouteProperties:JR,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function kM(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e=oe(L({},e),{errors:DM(e.errors)})),e}function DM(e){if(!e)return null;let t=Object.entries(e),s={};for(let[n,i]of t)if(i&&i.__type==="RouteErrorResponse")s[n]=new Fh(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let c=new o(i.message);c.stack="",s[n]=c}catch(c){}}if(s[n]==null){let o=new Error(i.message);o.stack="",s[n]=o}}else s[n]=i;return s}var eT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tT=N.forwardRef(function(j,b){var v=j,{onClick:t,discover:s="render",prefetch:n="none",relative:i,reloadDocument:o,replace:c,state:u,target:h,to:f,preventScrollReset:p,viewTransition:g}=v,x=Oe(v,["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"]);let{basename:T}=N.useContext(br),_=typeof f=="string"&&eT.test(f),R,S=!1;if(typeof f=="string"&&_&&(R=f,J2))try{let I=new URL(window.location.href),Q=f.startsWith("//")?new URL(I.protocol+f):new URL(f),W=ka(Q.pathname,T);Q.origin===I.origin&&W!=null?f=W+Q.search+Q.hash:S=!0}catch(I){Qs(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=PR(f,{relative:i}),[D,k,B]=NM(n,x),F=RM(f,{replace:c,state:u,target:h,preventScrollReset:p,relative:i,viewTransition:g});function O(I){t&&t(I),I.defaultPrevented||F(I)}let X=N.createElement("a",oe(L(L({},x),B),{href:R||C,onClick:S||o?t:O,ref:CM(b,k),target:h,"data-discover":!_&&s==="render"?"true":void 0}));return D&&!_?N.createElement(N.Fragment,null,X,N.createElement(_M,{page:C})):X});tT.displayName="Link";var sT=N.forwardRef(function(g,p){var x=g,{"aria-current":t="page",caseSensitive:s=!1,className:n="",end:i=!1,style:o,to:c,viewTransition:u,children:h}=x,f=Oe(x,["aria-current","caseSensitive","className","end","style","to","viewTransition","children"]);let b=ud(c,{relative:f.relative}),j=Xi(),v=N.useContext(ld),{navigator:T,basename:_}=N.useContext(br),R=v!=null&&FM(b)&&u===!0,S=T.encodeLocation?T.encodeLocation(b).pathname:b.pathname,C=j.pathname,D=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(C=C.toLowerCase(),D=D?D.toLowerCase():null,S=S.toLowerCase()),D&&_&&(D=ka(D,_)||D);const k=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let B=C===S||!i&&C.startsWith(S)&&C.charAt(k)==="/",F=D!=null&&(D===S||!i&&D.startsWith(S)&&D.charAt(S.length)==="/"),O={isActive:B,isPending:F,isTransitioning:R},X=B?t:void 0,I;typeof n=="function"?I=n(O):I=[n,B?"active":null,F?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let Q=typeof o=="function"?o(O):o;return N.createElement(tT,oe(L({},f),{"aria-current":X,className:I,ref:p,style:Q,to:c,viewTransition:u}),typeof h=="function"?h(O):h)});sT.displayName="NavLink";var AM=N.forwardRef((j,b)=>{var v=j,{discover:e="render",fetcherKey:t,navigate:s,reloadDocument:n,replace:i,state:o,method:c=Th,action:u,onSubmit:h,relative:f,preventScrollReset:p,viewTransition:g}=v,x=Oe(v,["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"]);let T=LM(),_=BM(u,{relative:f}),R=c.toLowerCase()==="get"?"get":"post",S=typeof u=="string"&&eT.test(u),C=D=>{if(h&&h(D),D.defaultPrevented)return;D.preventDefault();let k=D.nativeEvent.submitter,B=(k==null?void 0:k.getAttribute("formmethod"))||c;T(k||D.currentTarget,{fetcherKey:t,method:B,navigate:s,replace:i,state:o,relative:f,preventScrollReset:p,viewTransition:g})};return N.createElement("form",oe(L({ref:b,method:R,action:_,onSubmit:n?h:C},x),{"data-discover":!S&&e==="render"?"true":void 0}))});AM.displayName="Form";function OM(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nT(e){let t=N.useContext(Xo);return Wt(t,OM(e)),t}function RM(e,{target:t,replace:s,state:n,preventScrollReset:i,relative:o,viewTransition:c}={}){let u=LR(),h=Xi(),f=ud(e,{relative:o});return N.useCallback(p=>{if(uM(p,t)){p.preventDefault();let g=s!==void 0?s:Ui(h)===Ui(f);u(e,{replace:g,state:n,preventScrollReset:i,relative:o,viewTransition:c})}},[h,u,f,s,n,t,e,i,o,c])}var MM=0,PM=()=>`__${String(++MM)}__`;function LM(){let{router:e}=nT("useSubmit"),{basename:t}=N.useContext(br),s=XR();return N.useCallback((o,...c)=>we(null,[o,...c],function*(n,i={}){let{action:u,method:h,encType:f,formData:p,body:g}=hM(n,t);if(i.navigate===!1){let x=i.fetcherKey||PM();yield e.fetch(x,s,i.action||u,{preventScrollReset:i.preventScrollReset,formData:p,body:g,formMethod:i.method||h,formEncType:i.encType||f,flushSync:i.flushSync})}else yield e.navigate(i.action||u,{preventScrollReset:i.preventScrollReset,formData:p,body:g,formMethod:i.method||h,formEncType:i.encType||f,replace:i.replace,state:i.state,fromRouteId:s,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[e,t,s])}function BM(e,{relative:t}={}){let{basename:s}=N.useContext(br),n=N.useContext(vr);Wt(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),o=L({},ud(e||".",{relative:t})),c=Xi();if(e==null){o.search=c.search;let u=new URLSearchParams(o.search),h=u.getAll("index");if(h.some(p=>p==="")){u.delete("index"),h.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();o.search=p?`?${p}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(o.pathname=o.pathname==="/"?s:hr([s,o.pathname])),Ui(o)}function FM(e,{relative:t}={}){let s=N.useContext(Kx);Wt(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=nT("useViewTransitionState"),i=ud(e,{relative:t});if(!s.isTransitioning)return!1;let o=ka(s.currentLocation.pathname,n)||s.currentLocation.pathname,c=ka(s.nextLocation.pathname,n)||s.nextLocation.pathname;return Bh(i.pathname,c)!=null||Bh(i.pathname,o)!=null}var gm=e2();const aT=Mx(gm);function UM(e){return N.createElement(tM,L({flushSync:gm.flushSync},e))}/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HM=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,n)=>n?n.toUpperCase():s.toLowerCase()),P1=e=>{const t=HM(e);return t.charAt(0).toUpperCase()+t.slice(1)},rT=(...e)=>e.filter((t,s,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===s).join(" ").trim(),$M=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=N.forwardRef((f,h)=>{var p=f,{color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:i="",children:o,iconNode:c}=p,u=Oe(p,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return N.createElement("svg",L(L(oe(L({ref:h},VM),{width:t,height:t,stroke:e,strokeWidth:n?Number(s)*24/Number(t):s,className:rT("lucide",i)}),!o&&!$M(u)&&{"aria-hidden":"true"}),u),[...c.map(([g,x])=>N.createElement(g,x)),...Array.isArray(o)?o:[o]])});/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=(e,t)=>{const s=N.forwardRef((c,o)=>{var u=c,{className:n}=u,i=Oe(u,["className"]);return N.createElement(IM,L({ref:o,iconNode:t,className:rT(`lucide-${zM(P1(e))}`,`lucide-${e}`,n)},i))});return s.displayName=P1(e),s};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],WM=mt("activity",qM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],GM=mt("archive",YM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],sy=mt("arrow-left",XM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],iT=mt("bell",KM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],an=mt("calendar",QM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],zh=mt("chart-column",ZM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],e4=mt("chart-pie",JM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],s4=mt("check",t4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ny=mt("chevron-down",n4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],r4=mt("chevron-right",a4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],o4=mt("chevron-up",i4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],c4=mt("chevrons-up-down",l4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],zi=mt("circle-alert",u4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],oT=mt("circle-check-big",d4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ay=mt("circle-check",f4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Hi=mt("clock",h4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],p4=mt("crown",m4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],zo=mt("dollar-sign",g4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],nc=mt("download",x4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],b4=mt("ellipsis-vertical",y4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],J0=mt("external-link",v4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ry=mt("eye",w4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Fs=mt("file-text",j4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],Hf=mt("file",N4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Wl=mt("folder-open",_4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],dd=mt("funnel",T4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],C4=mt("grid-3x3",S4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],k4=mt("image",E4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],A4=mt("layout-dashboard",D4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Bu=mt("link",O4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],M4=mt("list",R4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ex=mt("loader-circle",P4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],B4=mt("log-out",L4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],U4=mt("map-pin",F4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],H4=mt("menu",z4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],V4=mt("pause",$4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],q4=mt("pen",I4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],Y4=mt("piggy-bank",W4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],X4=mt("play",G4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],gr=mt("plus",K4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Z4=mt("refresh-cw",Q4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],e3=mt("save",J4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],lc=mt("search",t3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],iy=mt("settings",s3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],lT=mt("shield",n3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ei=mt("square-check-big",a3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Zu=mt("square-pen",r3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],o3=mt("square",i3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],oy=mt("target",l3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$i=mt("trash-2",c3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],L1=mt("trending-down",u3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ql=mt("trending-up",d3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],cc=mt("triangle-alert",f3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],cT=mt("upload",h3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ho=mt("user",m3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_a=mt("users",p3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],B1=mt("video",g3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],y3=mt("x",x3),b3=[{name:"Dashboard",href:"/",icon:A4,subtitle:"Tổng quan hệ thống"},{name:"Dự án",href:"/projects",icon:Wl,subtitle:"Quản lý dự án R&D"},{name:"Công việc",href:"/tasks",icon:Ei,subtitle:"Quản lý task và tiến độ"},{name:"Tài liệu",href:"/documents",icon:Fs,subtitle:"Quản lý biểu mẫu và tài liệu"},{name:"Ngân sách",href:"/budget",icon:zo,subtitle:"Quản lý chi phí và ngân sách"},{name:"Rủi ro",href:"/risk",icon:cc,subtitle:"Quản lý rủi ro dự án"},{name:"Lịch họp",href:"/meetings",icon:an,subtitle:"Quản lý cuộc họp và gate review"},{name:"Báo cáo",href:"/reports",icon:zh,subtitle:"Báo cáo và thống kê"},{name:"Cài đặt",href:"/settings",icon:iy,subtitle:"Cài đặt hệ thống"}],F1=({collapsed:e=!1,onToggle:t})=>{const s=Xi();return r.jsxs("div",{className:`flex flex-col bg-white shadow-lg border-r border-gray-200 transition-all duration-300 ${e?"w-20":"w-85"}`,children:[r.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[!e&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg overflow-hidden",children:r.jsx("img",{src:"https://ctuav.vn/wp-content/uploads/2024/08/Logo-moi-ctuav-e1755917887778.png",alt:"R&D",className:"w-full h-full object-contain bg-white"})}),r.jsx("span",{className:"text-xl font-bold text-gray-800",children:"R&D Management"})]}),e&&r.jsx("div",{className:"w-12 h-10 bg-blue-600 rounded-lg flex items-center justify-center mx-auto",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"RD"})})]}),r.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2",children:b3.map(n=>{const i=s.pathname===n.href;return r.jsxs(sT,{to:n.href,className:`
                group flex items-start rounded-lg transition-all duration-200 relative
                ${e?"px-2 py-3 justify-center":"px-3 py-3"}
                ${i?"bg-blue-50 text-blue-700 border-l-4 border-blue-600":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}
              `,title:e?n.name:void 0,children:[r.jsx(n.icon,{className:`
                  h-5 w-5 transition-colors duration-200 flex-shrink-0
                  ${e?"mr-0":"mr-3 mt-0.5"}
                  ${i?"text-blue-600":"text-gray-500 group-hover:text-gray-700"}
                `}),!e&&r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-medium text-sm",children:n.name}),r.jsx("span",{className:`text-xs mt-0.5 ${i?"text-blue-600":"text-gray-500"}`,children:n.subtitle})]}),e&&r.jsxs("div",{className:"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50",children:[n.name,r.jsx("div",{className:"absolute top-1/2 left-0 transform -translate-y-1/2 -translate-x-1 w-2 h-2 bg-gray-800 rotate-45"})]})]},n.name)})}),r.jsx("div",{className:"p-4 border-t border-gray-200",children:r.jsxs("div",{className:`flex items-center ${e?"justify-center":"space-x-3"}`,children:[r.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white font-medium text-sm",children:"AU"})}),!e&&r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:"Admin User"}),r.jsx("p",{className:"text-xs text-gray-500 truncate",children:"System Administrator"})]})]})})]})};function oa(e,t,{checkForDefaultPrevented:s=!0}={}){return function(i){if(e==null||e(i),s===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function U1(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function $o(...e){return t=>{let s=!1;const n=e.map(i=>{const o=U1(i,t);return!s&&typeof o=="function"&&(s=!0),o});if(s)return()=>{for(let i=0;i<n.length;i++){const o=n[i];typeof o=="function"?o():U1(e[i],null)}}}}function As(...e){return N.useCallback($o(...e),e)}function ly(e,t){const s=N.createContext(t),n=o=>{const f=o,{children:c}=f,u=Oe(f,["children"]),h=N.useMemo(()=>u,Object.values(u));return r.jsx(s.Provider,{value:h,children:c})};n.displayName=e+"Provider";function i(o){const c=N.useContext(s);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,i]}function fd(e,t=[]){let s=[];function n(o,c){const u=N.createContext(c),h=s.length;s=[...s,c];const f=g=>{var R;const _=g,{scope:x,children:b}=_,j=Oe(_,["scope","children"]),v=((R=x==null?void 0:x[e])==null?void 0:R[h])||u,T=N.useMemo(()=>j,Object.values(j));return r.jsx(v.Provider,{value:T,children:b})};f.displayName=o+"Provider";function p(g,x){var v;const b=((v=x==null?void 0:x[e])==null?void 0:v[h])||u,j=N.useContext(b);if(j)return j;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${o}\``)}return[f,p]}const i=()=>{const o=s.map(c=>N.createContext(c));return function(u){const h=(u==null?void 0:u[e])||o;return N.useMemo(()=>({[`__scope${e}`]:oe(L({},u),{[e]:h})}),[u,h])}};return i.scopeName=e,[n,v3(i,...t)]}function v3(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const c=n.reduce((u,{useScope:h,scopeName:f})=>{const g=h(o)[`__scope${f}`];return L(L({},u),g)},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return s.scopeName=t.scopeName,s}function uc(e){const t=j3(e),s=N.forwardRef((n,i)=>{const f=n,{children:o}=f,c=Oe(f,["children"]),u=N.Children.toArray(o),h=u.find(_3);if(h){const p=h.props.children,g=u.map(x=>x===h?N.Children.count(p)>1?N.Children.only(null):N.isValidElement(p)?p.props.children:null:x);return r.jsx(t,oe(L({},c),{ref:i,children:N.isValidElement(p)?N.cloneElement(p,void 0,g):null}))}return r.jsx(t,oe(L({},c),{ref:i,children:o}))});return s.displayName=`${e}.Slot`,s}var w3=uc("Slot");function j3(e){const t=N.forwardRef((s,n)=>{const c=s,{children:i}=c,o=Oe(c,["children"]);if(N.isValidElement(i)){const u=S3(i),h=T3(o,i.props);return i.type!==N.Fragment&&(h.ref=n?$o(n,u):u),N.cloneElement(i,h)}return N.Children.count(i)>1?N.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var N3=Symbol("radix.slottable");function _3(e){return N.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===N3}function T3(e,t){const s=L({},t);for(const n in t){const i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?s[n]=(...u)=>{const h=o(...u);return i(...u),h}:i&&(s[n]=i):n==="style"?s[n]=L(L({},i),o):n==="className"&&(s[n]=[i,o].filter(Boolean).join(" "))}return L(L({},e),s)}function S3(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var C3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Yt=C3.reduce((e,t)=>{const s=uc(`Primitive.${t}`),n=N.forwardRef((i,o)=>{const f=i,{asChild:c}=f,u=Oe(f,["asChild"]),h=c?s:t;return typeof window!="undefined"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(h,oe(L({},u),{ref:o}))});return n.displayName=`Primitive.${t}`,oe(L({},e),{[t]:n})},{});function cy(e,t){e&&gm.flushSync(()=>e.dispatchEvent(t))}function xr(e){const t=N.useRef(e);return N.useEffect(()=>{t.current=e}),N.useMemo(()=>(...s)=>{var n;return(n=t.current)==null?void 0:n.call(t,...s)},[])}function uy(e,t=globalThis==null?void 0:globalThis.document){const s=xr(e);N.useEffect(()=>{const n=i=>{i.key==="Escape"&&s(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[s,t])}var E3="DismissableLayer",tx="dismissableLayer.update",k3="dismissableLayer.pointerDownOutside",D3="dismissableLayer.focusOutside",z1,uT=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),dy=N.forwardRef((e,t)=>{var F;const B=e,{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:c,onDismiss:u}=B,h=Oe(B,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),f=N.useContext(uT),[p,g]=N.useState(null),x=(F=p==null?void 0:p.ownerDocument)!=null?F:globalThis==null?void 0:globalThis.document,[,b]=N.useState({}),j=As(t,O=>g(O)),v=Array.from(f.layers),[T]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(T),R=p?v.indexOf(p):-1,S=f.layersWithOutsidePointerEventsDisabled.size>0,C=R>=_,D=R3(O=>{const X=O.target,I=[...f.branches].some(Q=>Q.contains(X));!C||I||(i==null||i(O),c==null||c(O),O.defaultPrevented||u==null||u())},x),k=M3(O=>{const X=O.target;[...f.branches].some(Q=>Q.contains(X))||(o==null||o(O),c==null||c(O),O.defaultPrevented||u==null||u())},x);return uy(O=>{R===f.layers.size-1&&(n==null||n(O),!O.defaultPrevented&&u&&(O.preventDefault(),u()))},x),N.useEffect(()=>{if(p)return s&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(z1=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),H1(),()=>{s&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=z1)}},[p,x,s,f]),N.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),H1())},[p,f]),N.useEffect(()=>{const O=()=>b({});return document.addEventListener(tx,O),()=>document.removeEventListener(tx,O)},[]),r.jsx(Yt.div,oe(L({},h),{ref:j,style:L({pointerEvents:S?C?"auto":"none":void 0},e.style),onFocusCapture:oa(e.onFocusCapture,k.onFocusCapture),onBlurCapture:oa(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:oa(e.onPointerDownCapture,D.onPointerDownCapture)}))});dy.displayName=E3;var A3="DismissableLayerBranch",O3=N.forwardRef((e,t)=>{const s=N.useContext(uT),n=N.useRef(null),i=As(t,n);return N.useEffect(()=>{const o=n.current;if(o)return s.branches.add(o),()=>{s.branches.delete(o)}},[s.branches]),r.jsx(Yt.div,oe(L({},e),{ref:i}))});O3.displayName=A3;function R3(e,t=globalThis==null?void 0:globalThis.document){const s=xr(e),n=N.useRef(!1),i=N.useRef(()=>{});return N.useEffect(()=>{const o=u=>{if(u.target&&!n.current){let h=function(){dT(k3,s,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=h,t.addEventListener("click",i.current,{once:!0})):h()}else t.removeEventListener("click",i.current);n.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,s]),{onPointerDownCapture:()=>n.current=!0}}function M3(e,t=globalThis==null?void 0:globalThis.document){const s=xr(e),n=N.useRef(!1);return N.useEffect(()=>{const i=o=>{o.target&&!n.current&&dT(D3,s,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,s]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function H1(){const e=new CustomEvent(tx);document.dispatchEvent(e)}function dT(e,t,s,{discrete:n}){const i=s.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&i.addEventListener(e,t,{once:!0}),n?cy(i,o):i.dispatchEvent(o)}var Jg=0;function fT(){N.useEffect(()=>{var t,s;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:$1()),document.body.insertAdjacentElement("beforeend",(s=e[1])!=null?s:$1()),Jg++,()=>{Jg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),Jg--}},[])}function $1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var e0="focusScope.autoFocusOnMount",t0="focusScope.autoFocusOnUnmount",V1={bubbles:!1,cancelable:!0},P3="FocusScope",hd=N.forwardRef((e,t)=>{const v=e,{loop:s=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:o}=v,c=Oe(v,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),[u,h]=N.useState(null),f=xr(i),p=xr(o),g=N.useRef(null),x=As(t,T=>h(T)),b=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(n){let T=function(C){if(b.paused||!u)return;const D=C.target;u.contains(D)?g.current=D:ki(g.current,{select:!0})},_=function(C){if(b.paused||!u)return;const D=C.relatedTarget;D!==null&&(u.contains(D)||ki(g.current,{select:!0}))},R=function(C){if(document.activeElement===document.body)for(const k of C)k.removedNodes.length>0&&ki(u)};document.addEventListener("focusin",T),document.addEventListener("focusout",_);const S=new MutationObserver(R);return u&&S.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",T),document.removeEventListener("focusout",_),S.disconnect()}}},[n,u,b.paused]),N.useEffect(()=>{if(u){q1.add(b);const T=document.activeElement;if(!u.contains(T)){const R=new CustomEvent(e0,V1);u.addEventListener(e0,f),u.dispatchEvent(R),R.defaultPrevented||(L3(H3(hT(u)),{select:!0}),document.activeElement===T&&ki(u))}return()=>{u.removeEventListener(e0,f),setTimeout(()=>{const R=new CustomEvent(t0,V1);u.addEventListener(t0,p),u.dispatchEvent(R),R.defaultPrevented||ki(T!=null?T:document.body,{select:!0}),u.removeEventListener(t0,p),q1.remove(b)},0)}}},[u,f,p,b]);const j=N.useCallback(T=>{if(!s&&!n||b.paused)return;const _=T.key==="Tab"&&!T.altKey&&!T.ctrlKey&&!T.metaKey,R=document.activeElement;if(_&&R){const S=T.currentTarget,[C,D]=B3(S);C&&D?!T.shiftKey&&R===D?(T.preventDefault(),s&&ki(C,{select:!0})):T.shiftKey&&R===C&&(T.preventDefault(),s&&ki(D,{select:!0})):R===S&&T.preventDefault()}},[s,n,b.paused]);return r.jsx(Yt.div,oe(L({tabIndex:-1},c),{ref:x,onKeyDown:j}))});hd.displayName=P3;function L3(e,{select:t=!1}={}){const s=document.activeElement;for(const n of e)if(ki(n,{select:t}),document.activeElement!==s)return}function B3(e){const t=hT(e),s=I1(t,e),n=I1(t.reverse(),e);return[s,n]}function hT(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function I1(e,t){for(const s of e)if(!F3(s,{upTo:t}))return s}function F3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function U3(e){return e instanceof HTMLInputElement&&"select"in e}function ki(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&U3(e)&&t&&e.select()}}var q1=z3();function z3(){let e=[];return{add(t){const s=e[0];t!==s&&(s==null||s.pause()),e=W1(e,t),e.unshift(t)},remove(t){var s;e=W1(e,t),(s=e[0])==null||s.resume()}}}function W1(e,t){const s=[...e],n=s.indexOf(t);return n!==-1&&s.splice(n,1),s}function H3(e){return e.filter(t=>t.tagName!=="A")}var Da=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},$3=J_[" useId ".trim().toString()]||(()=>{}),V3=0;function Dn(e){const[t,s]=N.useState($3());return Da(()=>{s(n=>n!=null?n:String(V3++))},[e]),e||(t?`radix-${t}`:"")}const I3=["top","right","bottom","left"],Vi=Math.min,ia=Math.max,Hh=Math.round,$f=Math.floor,mr=e=>({x:e,y:e}),q3={left:"right",right:"left",bottom:"top",top:"bottom"},W3={start:"end",end:"start"};function sx(e,t,s){return ia(e,Vi(t,s))}function Kr(e,t){return typeof e=="function"?e(t):e}function Qr(e){return e.split("-")[0]}function dc(e){return e.split("-")[1]}function fy(e){return e==="x"?"y":"x"}function hy(e){return e==="y"?"height":"width"}const Y3=new Set(["top","bottom"]);function ur(e){return Y3.has(Qr(e))?"y":"x"}function my(e){return fy(ur(e))}function G3(e,t,s){s===void 0&&(s=!1);const n=dc(e),i=my(e),o=hy(i);let c=i==="x"?n===(s?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(c=$h(c)),[c,$h(c)]}function X3(e){const t=$h(e);return[nx(e),t,nx(t)]}function nx(e){return e.replace(/start|end/g,t=>W3[t])}const Y1=["left","right"],G1=["right","left"],K3=["top","bottom"],Q3=["bottom","top"];function Z3(e,t,s){switch(e){case"top":case"bottom":return s?t?G1:Y1:t?Y1:G1;case"left":case"right":return t?K3:Q3;default:return[]}}function J3(e,t,s,n){const i=dc(e);let o=Z3(Qr(e),s==="start",n);return i&&(o=o.map(c=>c+"-"+i),t&&(o=o.concat(o.map(nx)))),o}function $h(e){return e.replace(/left|right|bottom|top/g,t=>q3[t])}function e5(e){return L({top:0,right:0,bottom:0,left:0},e)}function mT(e){return typeof e!="number"?e5(e):{top:e,right:e,bottom:e,left:e}}function Vh(e){const{x:t,y:s,width:n,height:i}=e;return{width:n,height:i,top:s,left:t,right:t+n,bottom:s+i,x:t,y:s}}function X1(e,t,s){let{reference:n,floating:i}=e;const o=ur(t),c=my(t),u=hy(c),h=Qr(t),f=o==="y",p=n.x+n.width/2-i.width/2,g=n.y+n.height/2-i.height/2,x=n[u]/2-i[u]/2;let b;switch(h){case"top":b={x:p,y:n.y-i.height};break;case"bottom":b={x:p,y:n.y+n.height};break;case"right":b={x:n.x+n.width,y:g};break;case"left":b={x:n.x-i.width,y:g};break;default:b={x:n.x,y:n.y}}switch(dc(t)){case"start":b[c]-=x*(s&&f?-1:1);break;case"end":b[c]+=x*(s&&f?-1:1);break}return b}const t5=(e,t,s)=>we(null,null,function*(){const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:c}=s,u=o.filter(Boolean),h=yield c.isRTL==null?void 0:c.isRTL(t);let f=yield c.getElementRects({reference:e,floating:t,strategy:i}),{x:p,y:g}=X1(f,n,h),x=n,b={},j=0;for(let v=0;v<u.length;v++){const{name:T,fn:_}=u[v],{x:R,y:S,data:C,reset:D}=yield _({x:p,y:g,initialPlacement:n,placement:x,strategy:i,middlewareData:b,rects:f,platform:c,elements:{reference:e,floating:t}});p=R!=null?R:p,g=S!=null?S:g,b=oe(L({},b),{[T]:L(L({},b[T]),C)}),D&&j<=50&&(j++,typeof D=="object"&&(D.placement&&(x=D.placement),D.rects&&(f=D.rects===!0?yield c.getElementRects({reference:e,floating:t,strategy:i}):D.rects),{x:p,y:g}=X1(f,x,h)),v=-1)}return{x:p,y:g,placement:x,strategy:i,middlewareData:b}});function Ju(e,t){return we(this,null,function*(){var s;t===void 0&&(t={});const{x:n,y:i,platform:o,rects:c,elements:u,strategy:h}=e,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:x=!1,padding:b=0}=Kr(t,e),j=mT(b),T=u[x?g==="floating"?"reference":"floating":g],_=Vh(yield o.getClippingRect({element:(s=yield o.isElement==null?void 0:o.isElement(T))==null||s?T:T.contextElement||(yield o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:f,rootBoundary:p,strategy:h})),R=g==="floating"?{x:n,y:i,width:c.floating.width,height:c.floating.height}:c.reference,S=yield o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating),C=(yield o.isElement==null?void 0:o.isElement(S))?(yield o.getScale==null?void 0:o.getScale(S))||{x:1,y:1}:{x:1,y:1},D=Vh(o.convertOffsetParentRelativeRectToViewportRelativeRect?yield o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:R,offsetParent:S,strategy:h}):R);return{top:(_.top-D.top+j.top)/C.y,bottom:(D.bottom-_.bottom+j.bottom)/C.y,left:(_.left-D.left+j.left)/C.x,right:(D.right-_.right+j.right)/C.x}})}const s5=e=>({name:"arrow",options:e,fn(s){return we(this,null,function*(){const{x:n,y:i,placement:o,rects:c,platform:u,elements:h,middlewareData:f}=s,{element:p,padding:g=0}=Kr(e,s)||{};if(p==null)return{};const x=mT(g),b={x:n,y:i},j=my(o),v=hy(j),T=yield u.getDimensions(p),_=j==="y",R=_?"top":"left",S=_?"bottom":"right",C=_?"clientHeight":"clientWidth",D=c.reference[v]+c.reference[j]-b[j]-c.floating[v],k=b[j]-c.reference[j],B=yield u.getOffsetParent==null?void 0:u.getOffsetParent(p);let F=B?B[C]:0;(!F||!(yield u.isElement==null?void 0:u.isElement(B)))&&(F=h.floating[C]||c.floating[v]);const O=D/2-k/2,X=F/2-T[v]/2-1,I=Vi(x[R],X),Q=Vi(x[S],X),W=I,Y=F-T[v]-Q,H=F/2-T[v]/2+O,z=sx(W,H,Y),Z=!f.arrow&&dc(o)!=null&&H!==z&&c.reference[v]/2-(H<W?I:Q)-T[v]/2<0,te=Z?H<W?H-W:H-Y:0;return{[j]:b[j]+te,data:L({[j]:z,centerOffset:H-z-te},Z&&{alignmentOffset:te}),reset:Z}})}}),n5=function(e){return e===void 0&&(e={}),{name:"flip",options:e,fn(s){return we(this,null,function*(){var n,i;const{placement:o,middlewareData:c,rects:u,initialPlacement:h,platform:f,elements:p}=s,H=Kr(e,s),{mainAxis:g=!0,crossAxis:x=!0,fallbackPlacements:b,fallbackStrategy:j="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:T=!0}=H,_=Oe(H,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if((n=c.arrow)!=null&&n.alignmentOffset)return{};const R=Qr(o),S=ur(h),C=Qr(h)===h,D=yield f.isRTL==null?void 0:f.isRTL(p.floating),k=b||(C||!T?[$h(h)]:X3(h)),B=v!=="none";!b&&B&&k.push(...J3(h,T,v,D));const F=[h,...k],O=yield Ju(s,_),X=[];let I=((i=c.flip)==null?void 0:i.overflows)||[];if(g&&X.push(O[R]),x){const z=G3(o,u,D);X.push(O[z[0]],O[z[1]])}if(I=[...I,{placement:o,overflows:X}],!X.every(z=>z<=0)){var Q,W;const z=(((Q=c.flip)==null?void 0:Q.index)||0)+1,Z=F[z];if(Z&&(!(x==="alignment"?S!==ur(Z):!1)||I.every(M=>ur(M.placement)===S?M.overflows[0]>0:!0)))return{data:{index:z,overflows:I},reset:{placement:Z}};let te=(W=I.filter(ue=>ue.overflows[0]<=0).sort((ue,M)=>ue.overflows[1]-M.overflows[1])[0])==null?void 0:W.placement;if(!te)switch(j){case"bestFit":{var Y;const ue=(Y=I.filter(M=>{if(B){const ie=ur(M.placement);return ie===S||ie==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(ie=>ie>0).reduce((ie,ne)=>ie+ne,0)]).sort((M,ie)=>M[1]-ie[1])[0])==null?void 0:Y[0];ue&&(te=ue);break}case"initialPlacement":te=h;break}if(o!==te)return{reset:{placement:te}}}return{}})}}};function K1(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Q1(e){return I3.some(t=>e[t]>=0)}const a5=function(e){return e===void 0&&(e={}),{name:"hide",options:e,fn(s){return we(this,null,function*(){const{rects:n}=s,c=Kr(e,s),{strategy:i="referenceHidden"}=c,o=Oe(c,["strategy"]);switch(i){case"referenceHidden":{const u=yield Ju(s,oe(L({},o),{elementContext:"reference"})),h=K1(u,n.reference);return{data:{referenceHiddenOffsets:h,referenceHidden:Q1(h)}}}case"escaped":{const u=yield Ju(s,oe(L({},o),{altBoundary:!0})),h=K1(u,n.floating);return{data:{escapedOffsets:h,escaped:Q1(h)}}}default:return{}}})}}},pT=new Set(["left","top"]);function r5(e,t){return we(this,null,function*(){const{placement:s,platform:n,elements:i}=e,o=yield n.isRTL==null?void 0:n.isRTL(i.floating),c=Qr(s),u=dc(s),h=ur(s)==="y",f=pT.has(c)?-1:1,p=o&&h?-1:1,g=Kr(t,e);let{mainAxis:x,crossAxis:b,alignmentAxis:j}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof j=="number"&&(b=u==="end"?j*-1:j),h?{x:b*p,y:x*f}:{x:x*f,y:b*p}})}const i5=function(e){return e===void 0&&(e=0),{name:"offset",options:e,fn(s){return we(this,null,function*(){var n,i;const{x:o,y:c,placement:u,middlewareData:h}=s,f=yield r5(s,e);return u===((n=h.offset)==null?void 0:n.placement)&&(i=h.arrow)!=null&&i.alignmentOffset?{}:{x:o+f.x,y:c+f.y,data:oe(L({},f),{placement:u})}})}}},o5=function(e){return e===void 0&&(e={}),{name:"shift",options:e,fn(s){return we(this,null,function*(){const{x:n,y:i,placement:o}=s,_=Kr(e,s),{mainAxis:c=!0,crossAxis:u=!1,limiter:h={fn:R=>{let{x:S,y:C}=R;return{x:S,y:C}}}}=_,f=Oe(_,["mainAxis","crossAxis","limiter"]),p={x:n,y:i},g=yield Ju(s,f),x=ur(Qr(o)),b=fy(x);let j=p[b],v=p[x];if(c){const R=b==="y"?"top":"left",S=b==="y"?"bottom":"right",C=j+g[R],D=j-g[S];j=sx(C,j,D)}if(u){const R=x==="y"?"top":"left",S=x==="y"?"bottom":"right",C=v+g[R],D=v-g[S];v=sx(C,v,D)}const T=h.fn(oe(L({},s),{[b]:j,[x]:v}));return oe(L({},T),{data:{x:T.x-n,y:T.y-i,enabled:{[b]:c,[x]:u}}})})}}},l5=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:n,placement:i,rects:o,middlewareData:c}=t,{offset:u=0,mainAxis:h=!0,crossAxis:f=!0}=Kr(e,t),p={x:s,y:n},g=ur(i),x=fy(g);let b=p[x],j=p[g];const v=Kr(u,t),T=typeof v=="number"?{mainAxis:v,crossAxis:0}:L({mainAxis:0,crossAxis:0},v);if(h){const S=x==="y"?"height":"width",C=o.reference[x]-o.floating[S]+T.mainAxis,D=o.reference[x]+o.reference[S]-T.mainAxis;b<C?b=C:b>D&&(b=D)}if(f){var _,R;const S=x==="y"?"width":"height",C=pT.has(Qr(i)),D=o.reference[g]-o.floating[S]+(C&&((_=c.offset)==null?void 0:_[g])||0)+(C?0:T.crossAxis),k=o.reference[g]+o.reference[S]+(C?0:((R=c.offset)==null?void 0:R[g])||0)-(C?T.crossAxis:0);j<D?j=D:j>k&&(j=k)}return{[x]:b,[g]:j}}}},c5=function(e){return e===void 0&&(e={}),{name:"size",options:e,fn(s){return we(this,null,function*(){var n,i;const{placement:o,rects:c,platform:u,elements:h}=s,I=Kr(e,s),{apply:f=()=>{}}=I,p=Oe(I,["apply"]),g=yield Ju(s,p),x=Qr(o),b=dc(o),j=ur(o)==="y",{width:v,height:T}=c.floating;let _,R;x==="top"||x==="bottom"?(_=x,R=b===((yield u.isRTL==null?void 0:u.isRTL(h.floating))?"start":"end")?"left":"right"):(R=x,_=b==="end"?"top":"bottom");const S=T-g.top-g.bottom,C=v-g.left-g.right,D=Vi(T-g[_],S),k=Vi(v-g[R],C),B=!s.middlewareData.shift;let F=D,O=k;if((n=s.middlewareData.shift)!=null&&n.enabled.x&&(O=C),(i=s.middlewareData.shift)!=null&&i.enabled.y&&(F=S),B&&!b){const Q=ia(g.left,0),W=ia(g.right,0),Y=ia(g.top,0),H=ia(g.bottom,0);j?O=v-2*(Q!==0||W!==0?Q+W:ia(g.left,g.right)):F=T-2*(Y!==0||H!==0?Y+H:ia(g.top,g.bottom))}yield f(oe(L({},s),{availableWidth:O,availableHeight:F}));const X=yield u.getDimensions(h.floating);return v!==X.width||T!==X.height?{reset:{rects:!0}}:{}})}}};function xm(){return typeof window!="undefined"}function fc(e){return gT(e)?(e.nodeName||"").toLowerCase():"#document"}function la(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function wr(e){var t;return(t=(gT(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function gT(e){return xm()?e instanceof Node||e instanceof la(e).Node:!1}function Wa(e){return xm()?e instanceof Element||e instanceof la(e).Element:!1}function yr(e){return xm()?e instanceof HTMLElement||e instanceof la(e).HTMLElement:!1}function Z1(e){return!xm()||typeof ShadowRoot=="undefined"?!1:e instanceof ShadowRoot||e instanceof la(e).ShadowRoot}const u5=new Set(["inline","contents"]);function md(e){const{overflow:t,overflowX:s,overflowY:n,display:i}=Ya(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+s)&&!u5.has(i)}const d5=new Set(["table","td","th"]);function f5(e){return d5.has(fc(e))}const h5=[":popover-open",":modal"];function ym(e){return h5.some(t=>{try{return e.matches(t)}catch(s){return!1}})}const m5=["transform","translate","scale","rotate","perspective"],p5=["transform","translate","scale","rotate","perspective","filter"],g5=["paint","layout","strict","content"];function py(e){const t=gy(),s=Wa(e)?Ya(e):e;return m5.some(n=>s[n]?s[n]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||p5.some(n=>(s.willChange||"").includes(n))||g5.some(n=>(s.contain||"").includes(n))}function x5(e){let t=Ii(e);for(;yr(t)&&!ac(t);){if(py(t))return t;if(ym(t))return null;t=Ii(t)}return null}function gy(){return typeof CSS=="undefined"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const y5=new Set(["html","body","#document"]);function ac(e){return y5.has(fc(e))}function Ya(e){return la(e).getComputedStyle(e)}function bm(e){return Wa(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ii(e){if(fc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Z1(e)&&e.host||wr(e);return Z1(t)?t.host:t}function xT(e){const t=Ii(e);return ac(t)?e.ownerDocument?e.ownerDocument.body:e.body:yr(t)&&md(t)?t:xT(t)}function ed(e,t,s){var n;t===void 0&&(t=[]),s===void 0&&(s=!0);const i=xT(e),o=i===((n=e.ownerDocument)==null?void 0:n.body),c=la(i);if(o){const u=ax(c);return t.concat(c,c.visualViewport||[],md(i)?i:[],u&&s?ed(u):[])}return t.concat(i,ed(i,[],s))}function ax(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function yT(e){const t=Ya(e);let s=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=yr(e),o=i?e.offsetWidth:s,c=i?e.offsetHeight:n,u=Hh(s)!==o||Hh(n)!==c;return u&&(s=o,n=c),{width:s,height:n,$:u}}function xy(e){return Wa(e)?e:e.contextElement}function Zl(e){const t=xy(e);if(!yr(t))return mr(1);const s=t.getBoundingClientRect(),{width:n,height:i,$:o}=yT(t);let c=(o?Hh(s.width):s.width)/n,u=(o?Hh(s.height):s.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const b5=mr(0);function bT(e){const t=la(e);return!gy()||!t.visualViewport?b5:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function v5(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==la(e)?!1:t}function Vo(e,t,s,n){t===void 0&&(t=!1),s===void 0&&(s=!1);const i=e.getBoundingClientRect(),o=xy(e);let c=mr(1);t&&(n?Wa(n)&&(c=Zl(n)):c=Zl(e));const u=v5(o,s,n)?bT(o):mr(0);let h=(i.left+u.x)/c.x,f=(i.top+u.y)/c.y,p=i.width/c.x,g=i.height/c.y;if(o){const x=la(o),b=n&&Wa(n)?la(n):n;let j=x,v=ax(j);for(;v&&n&&b!==j;){const T=Zl(v),_=v.getBoundingClientRect(),R=Ya(v),S=_.left+(v.clientLeft+parseFloat(R.paddingLeft))*T.x,C=_.top+(v.clientTop+parseFloat(R.paddingTop))*T.y;h*=T.x,f*=T.y,p*=T.x,g*=T.y,h+=S,f+=C,j=la(v),v=ax(j)}}return Vh({width:p,height:g,x:h,y:f})}function yy(e,t){const s=bm(e).scrollLeft;return t?t.left+s:Vo(wr(e)).left+s}function vT(e,t,s){s===void 0&&(s=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(s?0:yy(e,n)),o=n.top+t.scrollTop;return{x:i,y:o}}function w5(e){let{elements:t,rect:s,offsetParent:n,strategy:i}=e;const o=i==="fixed",c=wr(n),u=t?ym(t.floating):!1;if(n===c||u&&o)return s;let h={scrollLeft:0,scrollTop:0},f=mr(1);const p=mr(0),g=yr(n);if((g||!g&&!o)&&((fc(n)!=="body"||md(c))&&(h=bm(n)),yr(n))){const b=Vo(n);f=Zl(n),p.x=b.x+n.clientLeft,p.y=b.y+n.clientTop}const x=c&&!g&&!o?vT(c,h,!0):mr(0);return{width:s.width*f.x,height:s.height*f.y,x:s.x*f.x-h.scrollLeft*f.x+p.x+x.x,y:s.y*f.y-h.scrollTop*f.y+p.y+x.y}}function j5(e){return Array.from(e.getClientRects())}function N5(e){const t=wr(e),s=bm(e),n=e.ownerDocument.body,i=ia(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=ia(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let c=-s.scrollLeft+yy(e);const u=-s.scrollTop;return Ya(n).direction==="rtl"&&(c+=ia(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:c,y:u}}function _5(e,t){const s=la(e),n=wr(e),i=s.visualViewport;let o=n.clientWidth,c=n.clientHeight,u=0,h=0;if(i){o=i.width,c=i.height;const f=gy();(!f||f&&t==="fixed")&&(u=i.offsetLeft,h=i.offsetTop)}return{width:o,height:c,x:u,y:h}}const T5=new Set(["absolute","fixed"]);function S5(e,t){const s=Vo(e,!0,t==="fixed"),n=s.top+e.clientTop,i=s.left+e.clientLeft,o=yr(e)?Zl(e):mr(1),c=e.clientWidth*o.x,u=e.clientHeight*o.y,h=i*o.x,f=n*o.y;return{width:c,height:u,x:h,y:f}}function J1(e,t,s){let n;if(t==="viewport")n=_5(e,s);else if(t==="document")n=N5(wr(e));else if(Wa(t))n=S5(t,s);else{const i=bT(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Vh(n)}function wT(e,t){const s=Ii(e);return s===t||!Wa(s)||ac(s)?!1:Ya(s).position==="fixed"||wT(s,t)}function C5(e,t){const s=t.get(e);if(s)return s;let n=ed(e,[],!1).filter(u=>Wa(u)&&fc(u)!=="body"),i=null;const o=Ya(e).position==="fixed";let c=o?Ii(e):e;for(;Wa(c)&&!ac(c);){const u=Ya(c),h=py(c);!h&&u.position==="fixed"&&(i=null),(o?!h&&!i:!h&&u.position==="static"&&!!i&&T5.has(i.position)||md(c)&&!h&&wT(e,c))?n=n.filter(p=>p!==c):i=u,c=Ii(c)}return t.set(e,n),n}function E5(e){let{element:t,boundary:s,rootBoundary:n,strategy:i}=e;const c=[...s==="clippingAncestors"?ym(t)?[]:C5(t,this._c):[].concat(s),n],u=c[0],h=c.reduce((f,p)=>{const g=J1(t,p,i);return f.top=ia(g.top,f.top),f.right=Vi(g.right,f.right),f.bottom=Vi(g.bottom,f.bottom),f.left=ia(g.left,f.left),f},J1(t,u,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function k5(e){const{width:t,height:s}=yT(e);return{width:t,height:s}}function D5(e,t,s){const n=yr(t),i=wr(t),o=s==="fixed",c=Vo(e,!0,o,t);let u={scrollLeft:0,scrollTop:0};const h=mr(0);function f(){h.x=yy(i)}if(n||!n&&!o)if((fc(t)!=="body"||md(i))&&(u=bm(t)),n){const b=Vo(t,!0,o,t);h.x=b.x+t.clientLeft,h.y=b.y+t.clientTop}else i&&f();o&&!n&&i&&f();const p=i&&!n&&!o?vT(i,u):mr(0),g=c.left+u.scrollLeft-h.x-p.x,x=c.top+u.scrollTop-h.y-p.y;return{x:g,y:x,width:c.width,height:c.height}}function s0(e){return Ya(e).position==="static"}function eN(e,t){if(!yr(e)||Ya(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return wr(e)===s&&(s=s.ownerDocument.body),s}function jT(e,t){const s=la(e);if(ym(e))return s;if(!yr(e)){let i=Ii(e);for(;i&&!ac(i);){if(Wa(i)&&!s0(i))return i;i=Ii(i)}return s}let n=eN(e,t);for(;n&&f5(n)&&s0(n);)n=eN(n,t);return n&&ac(n)&&s0(n)&&!py(n)?s:n||x5(e)||s}const A5=function(e){return we(this,null,function*(){const t=this.getOffsetParent||jT,s=this.getDimensions,n=yield s(e.floating);return{reference:D5(e.reference,yield t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}})};function O5(e){return Ya(e).direction==="rtl"}const R5={convertOffsetParentRelativeRectToViewportRelativeRect:w5,getDocumentElement:wr,getClippingRect:E5,getOffsetParent:jT,getElementRects:A5,getClientRects:j5,getDimensions:k5,getScale:Zl,isElement:Wa,isRTL:O5};function NT(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function M5(e,t){let s=null,n;const i=wr(e);function o(){var u;clearTimeout(n),(u=s)==null||u.disconnect(),s=null}function c(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),o();const f=e.getBoundingClientRect(),{left:p,top:g,width:x,height:b}=f;if(u||t(),!x||!b)return;const j=$f(g),v=$f(i.clientWidth-(p+x)),T=$f(i.clientHeight-(g+b)),_=$f(p),S={rootMargin:-j+"px "+-v+"px "+-T+"px "+-_+"px",threshold:ia(0,Vi(1,h))||1};let C=!0;function D(k){const B=k[0].intersectionRatio;if(B!==h){if(!C)return c();B?c(!1,B):n=setTimeout(()=>{c(!1,1e-7)},1e3)}B===1&&!NT(f,e.getBoundingClientRect())&&c(),C=!1}try{s=new IntersectionObserver(D,oe(L({},S),{root:i.ownerDocument}))}catch(k){s=new IntersectionObserver(D,S)}s.observe(e)}return c(!0),o}function P5(e,t,s,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=n,f=xy(e),p=i||o?[...f?ed(f):[],...ed(t)]:[];p.forEach(_=>{i&&_.addEventListener("scroll",s,{passive:!0}),o&&_.addEventListener("resize",s)});const g=f&&u?M5(f,s):null;let x=-1,b=null;c&&(b=new ResizeObserver(_=>{let[R]=_;R&&R.target===f&&b&&(b.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var S;(S=b)==null||S.observe(t)})),s()}),f&&!h&&b.observe(f),b.observe(t));let j,v=h?Vo(e):null;h&&T();function T(){const _=Vo(e);v&&!NT(v,_)&&s(),v=_,j=requestAnimationFrame(T)}return s(),()=>{var _;p.forEach(R=>{i&&R.removeEventListener("scroll",s),o&&R.removeEventListener("resize",s)}),g==null||g(),(_=b)==null||_.disconnect(),b=null,h&&cancelAnimationFrame(j)}}const L5=i5,B5=o5,F5=n5,U5=c5,z5=a5,tN=s5,H5=l5,$5=(e,t,s)=>{const n=new Map,i=L({platform:R5},s),o=oe(L({},i.platform),{_c:n});return t5(e,t,oe(L({},i),{platform:o}))};var V5=typeof document!="undefined",I5=function(){},Ch=V5?N.useLayoutEffect:I5;function Ih(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(n=s;n--!==0;)if(!Ih(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),s=i.length,s!==Object.keys(t).length)return!1;for(n=s;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=s;n--!==0;){const o=i[n];if(!(o==="_owner"&&e.$$typeof)&&!Ih(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function _T(e){return typeof window=="undefined"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function sN(e,t){const s=_T(e);return Math.round(t*s)/s}function n0(e){const t=N.useRef(e);return Ch(()=>{t.current=e}),t}function q5(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:n=[],platform:i,elements:{reference:o,floating:c}={},transform:u=!0,whileElementsMounted:h,open:f}=e,[p,g]=N.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[x,b]=N.useState(n);Ih(x,n)||b(n);const[j,v]=N.useState(null),[T,_]=N.useState(null),R=N.useCallback(te=>{te!==k.current&&(k.current=te,v(te))},[]),S=N.useCallback(te=>{te!==B.current&&(B.current=te,_(te))},[]),C=o||j,D=c||T,k=N.useRef(null),B=N.useRef(null),F=N.useRef(p),O=h!=null,X=n0(h),I=n0(i),Q=n0(f),W=N.useCallback(()=>{if(!k.current||!B.current)return;const te={placement:t,strategy:s,middleware:x};I.current&&(te.platform=I.current),$5(k.current,B.current,te).then(ue=>{const M=oe(L({},ue),{isPositioned:Q.current!==!1});Y.current&&!Ih(F.current,M)&&(F.current=M,gm.flushSync(()=>{g(M)}))})},[x,t,s,I,Q]);Ch(()=>{f===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,g(te=>oe(L({},te),{isPositioned:!1})))},[f]);const Y=N.useRef(!1);Ch(()=>(Y.current=!0,()=>{Y.current=!1}),[]),Ch(()=>{if(C&&(k.current=C),D&&(B.current=D),C&&D){if(X.current)return X.current(C,D,W);W()}},[C,D,W,X,O]);const H=N.useMemo(()=>({reference:k,floating:B,setReference:R,setFloating:S}),[R,S]),z=N.useMemo(()=>({reference:C,floating:D}),[C,D]),Z=N.useMemo(()=>{const te={position:s,left:0,top:0};if(!z.floating)return te;const ue=sN(z.floating,p.x),M=sN(z.floating,p.y);return u?L(oe(L({},te),{transform:"translate("+ue+"px, "+M+"px)"}),_T(z.floating)>=1.5&&{willChange:"transform"}):{position:s,left:ue,top:M}},[s,u,z.floating,p.x,p.y]);return N.useMemo(()=>oe(L({},p),{update:W,refs:H,elements:z,floatingStyles:Z}),[p,W,H,z,Z])}const W5=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:n,padding:i}=typeof e=="function"?e(s):e;return n&&t(n)?n.current!=null?tN({element:n.current,padding:i}).fn(s):{}:n?tN({element:n,padding:i}).fn(s):{}}}},Y5=(e,t)=>oe(L({},L5(e)),{options:[e,t]}),G5=(e,t)=>oe(L({},B5(e)),{options:[e,t]}),X5=(e,t)=>oe(L({},H5(e)),{options:[e,t]}),K5=(e,t)=>oe(L({},F5(e)),{options:[e,t]}),Q5=(e,t)=>oe(L({},U5(e)),{options:[e,t]}),Z5=(e,t)=>oe(L({},z5(e)),{options:[e,t]}),J5=(e,t)=>oe(L({},W5(e)),{options:[e,t]});var eP="Arrow",TT=N.forwardRef((e,t)=>{const c=e,{children:s,width:n=10,height:i=5}=c,o=Oe(c,["children","width","height"]);return r.jsx(Yt.svg,oe(L({},o),{ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:r.jsx("polygon",{points:"0,0 30,0 15,10"})}))});TT.displayName=eP;var tP=TT;function sP(e){const[t,s]=N.useState(void 0);return Da(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let c,u;if("borderBoxSize"in o){const h=o.borderBoxSize,f=Array.isArray(h)?h[0]:h;c=f.inlineSize,u=f.blockSize}else c=e.offsetWidth,u=e.offsetHeight;s({width:c,height:u})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else s(void 0)},[e]),t}var by="Popper",[ST,CT]=fd(by),[nP,ET]=ST(by),kT=e=>{const{__scopePopper:t,children:s}=e,[n,i]=N.useState(null);return r.jsx(nP,{scope:t,anchor:n,onAnchorChange:i,children:s})};kT.displayName=by;var DT="PopperAnchor",AT=N.forwardRef((e,t)=>{const f=e,{__scopePopper:s,virtualRef:n}=f,i=Oe(f,["__scopePopper","virtualRef"]),o=ET(DT,s),c=N.useRef(null),u=As(t,c),h=N.useRef(null);return N.useEffect(()=>{const p=h.current;h.current=(n==null?void 0:n.current)||c.current,p!==h.current&&o.onAnchorChange(h.current)}),n?null:r.jsx(Yt.div,oe(L({},i),{ref:u}))});AT.displayName=DT;var vy="PopperContent",[aP,rP]=ST(vy),OT=N.forwardRef((e,t)=>{var De,Ie,re,Re,He,Xe,Le,dt;const Ee=e,{__scopePopper:s,side:n="bottom",sideOffset:i=0,align:o="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:x=!1,updatePositionStrategy:b="optimized",onPlaced:j}=Ee,v=Oe(Ee,["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"]),T=ET(vy,s),[_,R]=N.useState(null),S=As(t,Ge=>R(Ge)),[C,D]=N.useState(null),k=sP(C),B=(De=k==null?void 0:k.width)!=null?De:0,F=(Ie=k==null?void 0:k.height)!=null?Ie:0,O=n+(o!=="center"?"-"+o:""),X=typeof p=="number"?p:L({top:0,right:0,bottom:0,left:0},p),I=Array.isArray(f)?f:[f],Q=I.length>0,W={padding:X,boundary:I.filter(oP),altBoundary:Q},{refs:Y,floatingStyles:H,placement:z,isPositioned:Z,middlewareData:te}=q5({strategy:"fixed",placement:O,whileElementsMounted:(...Ge)=>P5(...Ge,{animationFrame:b==="always"}),elements:{reference:T.anchor},middleware:[Y5({mainAxis:i+F,alignmentAxis:c}),h&&G5(L({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?X5():void 0},W)),h&&K5(L({},W)),Q5(oe(L({},W),{apply:({elements:Ge,rects:Be,availableWidth:ze,availableHeight:nt})=>{const{width:K,height:me}=Be.reference,G=Ge.floating.style;G.setProperty("--radix-popper-available-width",`${ze}px`),G.setProperty("--radix-popper-available-height",`${nt}px`),G.setProperty("--radix-popper-anchor-width",`${K}px`),G.setProperty("--radix-popper-anchor-height",`${me}px`)}})),C&&J5({element:C,padding:u}),lP({arrowWidth:B,arrowHeight:F}),x&&Z5(L({strategy:"referenceHidden"},W))]}),[ue,M]=PT(z),ie=xr(j);Da(()=>{Z&&(ie==null||ie())},[Z,ie]);const ne=(re=te.arrow)==null?void 0:re.x,V=(Re=te.arrow)==null?void 0:Re.y,J=((He=te.arrow)==null?void 0:He.centerOffset)!==0,[xe,fe]=N.useState();return Da(()=>{_&&fe(window.getComputedStyle(_).zIndex)},[_]),r.jsx("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:L(oe(L({},H),{transform:Z?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xe,"--radix-popper-transform-origin":[(Xe=te.transformOrigin)==null?void 0:Xe.x,(Le=te.transformOrigin)==null?void 0:Le.y].join(" ")}),((dt=te.hide)==null?void 0:dt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:r.jsx(aP,{scope:s,placedSide:ue,onArrowChange:D,arrowX:ne,arrowY:V,shouldHideArrow:J,children:r.jsx(Yt.div,oe(L({"data-side":ue,"data-align":M},v),{ref:S,style:oe(L({},v.style),{animation:Z?void 0:"none"})}))})})});OT.displayName=vy;var RT="PopperArrow",iP={top:"bottom",right:"left",bottom:"top",left:"right"},MT=N.forwardRef(function(t,s){const u=t,{__scopePopper:n}=u,i=Oe(u,["__scopePopper"]),o=rP(RT,n),c=iP[o.placedSide];return r.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:r.jsx(tP,oe(L({},i),{ref:s,style:oe(L({},i.style),{display:"block"})}))})});MT.displayName=RT;function oP(e){return e!==null}var lP=e=>({name:"transformOrigin",options:e,fn(t){var T,_,R,S,C;const{placement:s,rects:n,middlewareData:i}=t,c=((T=i.arrow)==null?void 0:T.centerOffset)!==0,u=c?0:e.arrowWidth,h=c?0:e.arrowHeight,[f,p]=PT(s),g={start:"0%",center:"50%",end:"100%"}[p],x=((R=(_=i.arrow)==null?void 0:_.x)!=null?R:0)+u/2,b=((C=(S=i.arrow)==null?void 0:S.y)!=null?C:0)+h/2;let j="",v="";return f==="bottom"?(j=c?g:`${x}px`,v=`${-h}px`):f==="top"?(j=c?g:`${x}px`,v=`${n.floating.height+h}px`):f==="right"?(j=`${-h}px`,v=c?g:`${b}px`):f==="left"&&(j=`${n.floating.width+h}px`,v=c?g:`${b}px`),{data:{x:j,y:v}}}});function PT(e){const[t,s="center"]=e.split("-");return[t,s]}var cP=kT,LT=AT,uP=OT,dP=MT,fP="Portal",pd=N.forwardRef((e,t)=>{var h;const u=e,{container:s}=u,n=Oe(u,["container"]),[i,o]=N.useState(!1);Da(()=>o(!0),[]);const c=s||i&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return c?aT.createPortal(r.jsx(Yt.div,oe(L({},n),{ref:t})),c):null});pd.displayName=fP;function hP(e,t){return N.useReducer((s,n)=>{const i=t[s][n];return i!=null?i:s},e)}var hc=e=>{const{present:t,children:s}=e,n=mP(t),i=typeof s=="function"?s({present:n.isPresent}):N.Children.only(s),o=As(n.ref,pP(i));return typeof s=="function"||n.isPresent?N.cloneElement(i,{ref:o}):null};hc.displayName="Presence";function mP(e){const[t,s]=N.useState(),n=N.useRef(null),i=N.useRef(e),o=N.useRef("none"),c=e?"mounted":"unmounted",[u,h]=hP(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const f=Vf(n.current);o.current=u==="mounted"?f:"none"},[u]),Da(()=>{const f=n.current,p=i.current;if(p!==e){const x=o.current,b=Vf(f);e?h("MOUNT"):b==="none"||(f==null?void 0:f.display)==="none"?h("UNMOUNT"):h(p&&x!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,h]),Da(()=>{var f;if(t){let p;const g=(f=t.ownerDocument.defaultView)!=null?f:window,x=j=>{const T=Vf(n.current).includes(CSS.escape(j.animationName));if(j.target===t&&T&&(h("ANIMATION_END"),!i.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},b=j=>{j.target===t&&(o.current=Vf(n.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",x),t.addEventListener("animationend",x),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",x),t.removeEventListener("animationend",x)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:N.useCallback(f=>{n.current=f?getComputedStyle(f):null,s(f)},[])}}function Vf(e){return(e==null?void 0:e.animationName)||"none"}function pP(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var gP=J_[" useInsertionEffect ".trim().toString()]||Da;function vm({prop:e,defaultProp:t,onChange:s=()=>{},caller:n}){const[i,o,c]=xP({defaultProp:t,onChange:s}),u=e!==void 0,h=u?e:i;{const p=N.useRef(e!==void 0);N.useEffect(()=>{const g=p.current;g!==u&&console.warn(`${n} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,n])}const f=N.useCallback(p=>{var g;if(u){const x=yP(p)?p(e):p;x!==e&&((g=c.current)==null||g.call(c,x))}else o(p)},[u,e,o,c]);return[h,f]}function xP({defaultProp:e,onChange:t}){const[s,n]=N.useState(e),i=N.useRef(s),o=N.useRef(t);return gP(()=>{o.current=t},[t]),N.useEffect(()=>{var c;i.current!==s&&((c=o.current)==null||c.call(o,s),i.current=s)},[s,i]),[s,n,o]}function yP(e){return typeof e=="function"}var bP=function(e){if(typeof document=="undefined")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Bl=new WeakMap,If=new WeakMap,qf={},a0=0,BT=function(e){return e&&(e.host||BT(e.parentNode))},vP=function(e,t){return t.map(function(s){if(e.contains(s))return s;var n=BT(s);return n&&e.contains(n)?n:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},wP=function(e,t,s,n){var i=vP(t,Array.isArray(e)?e:[e]);qf[s]||(qf[s]=new WeakMap);var o=qf[s],c=[],u=new Set,h=new Set(i),f=function(g){!g||u.has(g)||(u.add(g),f(g.parentNode))};i.forEach(f);var p=function(g){!g||h.has(g)||Array.prototype.forEach.call(g.children,function(x){if(u.has(x))p(x);else try{var b=x.getAttribute(n),j=b!==null&&b!=="false",v=(Bl.get(x)||0)+1,T=(o.get(x)||0)+1;Bl.set(x,v),o.set(x,T),c.push(x),v===1&&j&&If.set(x,!0),T===1&&x.setAttribute(s,"true"),j||x.setAttribute(n,"true")}catch(_){console.error("aria-hidden: cannot operate on ",x,_)}})};return p(t),u.clear(),a0++,function(){c.forEach(function(g){var x=Bl.get(g)-1,b=o.get(g)-1;Bl.set(g,x),o.set(g,b),x||(If.has(g)||g.removeAttribute(n),If.delete(g)),b||g.removeAttribute(s)}),a0--,a0||(Bl=new WeakMap,Bl=new WeakMap,If=new WeakMap,qf={})}},wm=function(e,t,s){s===void 0&&(s="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=bP(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),wP(n,i,s,"aria-hidden")):function(){return null}},cr=function(){return cr=Object.assign||function(t){for(var s,n=1,i=arguments.length;n<i;n++){s=arguments[n];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},cr.apply(this,arguments)};function FT(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(s[n[i]]=e[n[i]]);return s}function jP(e,t,s){if(s||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var Eh="right-scroll-bar-position",kh="width-before-scroll-bar",NP="with-scroll-bars-hidden",_P="--removed-body-scroll-bar-size";function r0(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function TP(e,t){var s=N.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(n){var i=s.value;i!==n&&(s.value=n,s.callback(n,i))}}}})[0];return s.callback=t,s.facade}var SP=typeof window!="undefined"?N.useLayoutEffect:N.useEffect,nN=new WeakMap;function CP(e,t){var s=TP(null,function(n){return e.forEach(function(i){return r0(i,n)})});return SP(function(){var n=nN.get(s);if(n){var i=new Set(n),o=new Set(e),c=s.current;i.forEach(function(u){o.has(u)||r0(u,null)}),o.forEach(function(u){i.has(u)||r0(u,c)})}nN.set(s,e)},[e]),s}function EP(e){return e}function kP(e,t){t===void 0&&(t=EP);var s=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(o){var c=t(o,n);return s.push(c),function(){s=s.filter(function(u){return u!==c})}},assignSyncMedium:function(o){for(n=!0;s.length;){var c=s;s=[],c.forEach(o)}s={push:function(u){return o(u)},filter:function(){return s}}},assignMedium:function(o){n=!0;var c=[];if(s.length){var u=s;s=[],u.forEach(o),c=s}var h=function(){var p=c;c=[],p.forEach(o)},f=function(){return Promise.resolve().then(h)};f(),s={push:function(p){c.push(p),f()},filter:function(p){return c=c.filter(p),s}}}};return i}function DP(e){e===void 0&&(e={});var t=kP(null);return t.options=cr({async:!0,ssr:!1},e),t}var UT=function(e){var t=e.sideCar,s=FT(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return N.createElement(n,cr({},s))};UT.isSideCarExport=!0;function AP(e,t){return e.useMedium(t),UT}var zT=DP(),i0=function(){},jm=N.forwardRef(function(e,t){var s=N.useRef(null),n=N.useState({onScrollCapture:i0,onWheelCapture:i0,onTouchMoveCapture:i0}),i=n[0],o=n[1],c=e.forwardProps,u=e.children,h=e.className,f=e.removeScrollBar,p=e.enabled,g=e.shards,x=e.sideCar,b=e.noRelative,j=e.noIsolation,v=e.inert,T=e.allowPinchZoom,_=e.as,R=_===void 0?"div":_,S=e.gapMode,C=FT(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=x,k=CP([s,t]),B=cr(cr({},C),i);return N.createElement(N.Fragment,null,p&&N.createElement(D,{sideCar:zT,removeScrollBar:f,shards:g,noRelative:b,noIsolation:j,inert:v,setCallbacks:o,allowPinchZoom:!!T,lockRef:s,gapMode:S}),c?N.cloneElement(N.Children.only(u),cr(cr({},B),{ref:k})):N.createElement(R,cr({},B,{className:h,ref:k}),u))});jm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jm.classNames={fullWidth:kh,zeroRight:Eh};var OP=function(){if(typeof __webpack_nonce__!="undefined")return __webpack_nonce__};function RP(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=OP();return t&&e.setAttribute("nonce",t),e}function MP(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function PP(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var LP=function(){var e=0,t=null;return{add:function(s){e==0&&(t=RP())&&(MP(t,s),PP(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},BP=function(){var e=LP();return function(t,s){N.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},HT=function(){var e=BP(),t=function(s){var n=s.styles,i=s.dynamic;return e(n,i),null};return t},FP={left:0,top:0,right:0,gap:0},o0=function(e){return parseInt(e||"",10)||0},UP=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[o0(s),o0(n),o0(i)]},zP=function(e){if(e===void 0&&(e="margin"),typeof window=="undefined")return FP;var t=UP(e),s=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-s+t[2]-t[0])}},HP=HT(),Jl="data-scroll-locked",$P=function(e,t,s,n){var i=e.left,o=e.top,c=e.right,u=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(NP,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(Jl,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),s==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),s==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Eh,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(kh,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Eh," .").concat(Eh,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(kh," .").concat(kh,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Jl,`] {
    `).concat(_P,": ").concat(u,`px;
  }
`)},aN=function(){var e=parseInt(document.body.getAttribute(Jl)||"0",10);return isFinite(e)?e:0},VP=function(){N.useEffect(function(){return document.body.setAttribute(Jl,(aN()+1).toString()),function(){var e=aN()-1;e<=0?document.body.removeAttribute(Jl):document.body.setAttribute(Jl,e.toString())}},[])},IP=function(e){var t=e.noRelative,s=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;VP();var o=N.useMemo(function(){return zP(i)},[i]);return N.createElement(HP,{styles:$P(o,!t,i,s?"":"!important")})},rx=!1;if(typeof window!="undefined")try{var Wf=Object.defineProperty({},"passive",{get:function(){return rx=!0,!0}});window.addEventListener("test",Wf,Wf),window.removeEventListener("test",Wf,Wf)}catch(e){rx=!1}var Fl=rx?{passive:!1}:!1,qP=function(e){return e.tagName==="TEXTAREA"},$T=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!qP(e)&&s[t]==="visible")},WP=function(e){return $T(e,"overflowY")},YP=function(e){return $T(e,"overflowX")},rN=function(e,t){var s=t.ownerDocument,n=t;do{typeof ShadowRoot!="undefined"&&n instanceof ShadowRoot&&(n=n.host);var i=VT(e,n);if(i){var o=IT(e,n),c=o[1],u=o[2];if(c>u)return!0}n=n.parentNode}while(n&&n!==s.body);return!1},GP=function(e){var t=e.scrollTop,s=e.scrollHeight,n=e.clientHeight;return[t,s,n]},XP=function(e){var t=e.scrollLeft,s=e.scrollWidth,n=e.clientWidth;return[t,s,n]},VT=function(e,t){return e==="v"?WP(t):YP(t)},IT=function(e,t){return e==="v"?GP(t):XP(t)},KP=function(e,t){return e==="h"&&t==="rtl"?-1:1},QP=function(e,t,s,n,i){var o=KP(e,window.getComputedStyle(t).direction),c=o*n,u=s.target,h=t.contains(u),f=!1,p=c>0,g=0,x=0;do{if(!u)break;var b=IT(e,u),j=b[0],v=b[1],T=b[2],_=v-T-o*j;(j||_)&&VT(e,u)&&(g+=_,x+=j);var R=u.parentNode;u=R&&R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?R.host:R}while(!h&&u!==document.body||h&&(t.contains(u)||t===u));return(p&&Math.abs(g)<1||!p&&Math.abs(x)<1)&&(f=!0),f},Yf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},iN=function(e){return[e.deltaX,e.deltaY]},oN=function(e){return e&&"current"in e?e.current:e},ZP=function(e,t){return e[0]===t[0]&&e[1]===t[1]},JP=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},e6=0,Ul=[];function t6(e){var t=N.useRef([]),s=N.useRef([0,0]),n=N.useRef(),i=N.useState(e6++)[0],o=N.useState(HT)[0],c=N.useRef(e);N.useEffect(function(){c.current=e},[e]),N.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var v=jP([e.lockRef.current],(e.shards||[]).map(oN),!0).filter(Boolean);return v.forEach(function(T){return T.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var u=N.useCallback(function(v,T){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!c.current.allowPinchZoom;var _=Yf(v),R=s.current,S="deltaX"in v?v.deltaX:R[0]-_[0],C="deltaY"in v?v.deltaY:R[1]-_[1],D,k=v.target,B=Math.abs(S)>Math.abs(C)?"h":"v";if("touches"in v&&B==="h"&&k.type==="range")return!1;var F=rN(B,k);if(!F)return!0;if(F?D=B:(D=B==="v"?"h":"v",F=rN(B,k)),!F)return!1;if(!n.current&&"changedTouches"in v&&(S||C)&&(n.current=D),!D)return!0;var O=n.current||D;return QP(O,T,v,O==="h"?S:C)},[]),h=N.useCallback(function(v){var T=v;if(!(!Ul.length||Ul[Ul.length-1]!==o)){var _="deltaY"in T?iN(T):Yf(T),R=t.current.filter(function(D){return D.name===T.type&&(D.target===T.target||T.target===D.shadowParent)&&ZP(D.delta,_)})[0];if(R&&R.should){T.cancelable&&T.preventDefault();return}if(!R){var S=(c.current.shards||[]).map(oN).filter(Boolean).filter(function(D){return D.contains(T.target)}),C=S.length>0?u(T,S[0]):!c.current.noIsolation;C&&T.cancelable&&T.preventDefault()}}},[]),f=N.useCallback(function(v,T,_,R){var S={name:v,delta:T,target:_,should:R,shadowParent:s6(_)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(C){return C!==S})},1)},[]),p=N.useCallback(function(v){s.current=Yf(v),n.current=void 0},[]),g=N.useCallback(function(v){f(v.type,iN(v),v.target,u(v,e.lockRef.current))},[]),x=N.useCallback(function(v){f(v.type,Yf(v),v.target,u(v,e.lockRef.current))},[]);N.useEffect(function(){return Ul.push(o),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:x}),document.addEventListener("wheel",h,Fl),document.addEventListener("touchmove",h,Fl),document.addEventListener("touchstart",p,Fl),function(){Ul=Ul.filter(function(v){return v!==o}),document.removeEventListener("wheel",h,Fl),document.removeEventListener("touchmove",h,Fl),document.removeEventListener("touchstart",p,Fl)}},[]);var b=e.removeScrollBar,j=e.inert;return N.createElement(N.Fragment,null,j?N.createElement(o,{styles:JP(i)}):null,b?N.createElement(IP,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function s6(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const n6=AP(zT,t6);var gd=N.forwardRef(function(e,t){return N.createElement(jm,cr({},e,{ref:t,sideCar:n6}))});gd.classNames=jm.classNames;var Nm="Popover",[qT,o$]=fd(Nm,[CT]),xd=CT(),[a6,Ki]=qT(Nm),WT=e=>{const{__scopePopover:t,children:s,open:n,defaultOpen:i,onOpenChange:o,modal:c=!1}=e,u=xd(t),h=N.useRef(null),[f,p]=N.useState(!1),[g,x]=vm({prop:n,defaultProp:i!=null?i:!1,onChange:o,caller:Nm});return r.jsx(cP,oe(L({},u),{children:r.jsx(a6,{scope:t,contentId:Dn(),triggerRef:h,open:g,onOpenChange:x,onOpenToggle:N.useCallback(()=>x(b=>!b),[x]),hasCustomAnchor:f,onCustomAnchorAdd:N.useCallback(()=>p(!0),[]),onCustomAnchorRemove:N.useCallback(()=>p(!1),[]),modal:c,children:s})}))};WT.displayName=Nm;var YT="PopoverAnchor",r6=N.forwardRef((e,t)=>{const h=e,{__scopePopover:s}=h,n=Oe(h,["__scopePopover"]),i=Ki(YT,s),o=xd(s),{onCustomAnchorAdd:c,onCustomAnchorRemove:u}=i;return N.useEffect(()=>(c(),()=>u()),[c,u]),r.jsx(LT,oe(L(L({},o),n),{ref:t}))});r6.displayName=YT;var GT="PopoverTrigger",XT=N.forwardRef((e,t)=>{const h=e,{__scopePopover:s}=h,n=Oe(h,["__scopePopover"]),i=Ki(GT,s),o=xd(s),c=As(t,i.triggerRef),u=r.jsx(Yt.button,oe(L({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":eS(i.open)},n),{ref:c,onClick:oa(e.onClick,i.onOpenToggle)}));return i.hasCustomAnchor?u:r.jsx(LT,oe(L({asChild:!0},o),{children:u}))});XT.displayName=GT;var wy="PopoverPortal",[i6,o6]=qT(wy,{forceMount:void 0}),KT=e=>{const{__scopePopover:t,forceMount:s,children:n,container:i}=e,o=Ki(wy,t);return r.jsx(i6,{scope:t,forceMount:s,children:r.jsx(hc,{present:s||o.open,children:r.jsx(pd,{asChild:!0,container:i,children:n})})})};KT.displayName=wy;var rc="PopoverContent",QT=N.forwardRef((e,t)=>{const s=o6(rc,e.__scopePopover),c=e,{forceMount:n=s.forceMount}=c,i=Oe(c,["forceMount"]),o=Ki(rc,e.__scopePopover);return r.jsx(hc,{present:n||o.open,children:o.modal?r.jsx(c6,oe(L({},i),{ref:t})):r.jsx(u6,oe(L({},i),{ref:t}))})});QT.displayName=rc;var l6=uc("PopoverContent.RemoveScroll"),c6=N.forwardRef((e,t)=>{const s=Ki(rc,e.__scopePopover),n=N.useRef(null),i=As(t,n),o=N.useRef(!1);return N.useEffect(()=>{const c=n.current;if(c)return wm(c)},[]),r.jsx(gd,{as:l6,allowPinchZoom:!0,children:r.jsx(ZT,oe(L({},e),{ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:oa(e.onCloseAutoFocus,c=>{var u;c.preventDefault(),o.current||(u=s.triggerRef.current)==null||u.focus()}),onPointerDownOutside:oa(e.onPointerDownOutside,c=>{const u=c.detail.originalEvent,h=u.button===0&&u.ctrlKey===!0,f=u.button===2||h;o.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:oa(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})}))})}),u6=N.forwardRef((e,t)=>{const s=Ki(rc,e.__scopePopover),n=N.useRef(!1),i=N.useRef(!1);return r.jsx(ZT,oe(L({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,u;(c=e.onCloseAutoFocus)==null||c.call(e,o),o.defaultPrevented||(n.current||(u=s.triggerRef.current)==null||u.focus(),o.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:o=>{var h,f;(h=e.onInteractOutside)==null||h.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=o.target;((f=s.triggerRef.current)==null?void 0:f.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}}))}),ZT=N.forwardRef((e,t)=>{const j=e,{__scopePopover:s,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p}=j,g=Oe(j,["__scopePopover","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside"]),x=Ki(rc,s),b=xd(s);return fT(),r.jsx(hd,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:o,children:r.jsx(dy,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:p,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onDismiss:()=>x.onOpenChange(!1),children:r.jsx(uP,oe(L(L({"data-state":eS(x.open),role:"dialog",id:x.contentId},b),g),{ref:t,style:oe(L({},g.style),{"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"})}))})})}),JT="PopoverClose",d6=N.forwardRef((e,t)=>{const o=e,{__scopePopover:s}=o,n=Oe(o,["__scopePopover"]),i=Ki(JT,s);return r.jsx(Yt.button,oe(L({type:"button"},n),{ref:t,onClick:oa(e.onClick,()=>i.onOpenChange(!1))}))});d6.displayName=JT;var f6="PopoverArrow",h6=N.forwardRef((e,t)=>{const o=e,{__scopePopover:s}=o,n=Oe(o,["__scopePopover"]),i=xd(s);return r.jsx(dP,oe(L(L({},i),n),{ref:t}))});h6.displayName=f6;function eS(e){return e?"open":"closed"}var m6=WT,p6=XT,g6=KT,x6=QT;function tS(e){var t,s,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(s=tS(e[t]))&&(n&&(n+=" "),n+=s)}else for(s in e)e[s]&&(n&&(n+=" "),n+=s);return n}function sS(){for(var e,t,s=0,n="",i=arguments.length;s<i;s++)(e=arguments[s])&&(t=tS(e))&&(n&&(n+=" "),n+=t);return n}const jy="-",y6=e=>{const t=v6(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:c=>{const u=c.split(jy);return u[0]===""&&u.length!==1&&u.shift(),nS(u,t)||b6(c)},getConflictingClassGroupIds:(c,u)=>{const h=s[c]||[];return u&&n[c]?[...h,...n[c]]:h}}},nS=(e,t)=>{var c;if(e.length===0)return t.classGroupId;const s=e[0],n=t.nextPart.get(s),i=n?nS(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(jy);return(c=t.validators.find(({validator:u})=>u(o)))==null?void 0:c.classGroupId},lN=/^\[(.+)\]$/,b6=e=>{if(lN.test(e)){const t=lN.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},v6=e=>{const{theme:t,classGroups:s}=e,n={nextPart:new Map,validators:[]};for(const i in s)ix(s[i],n,i,t);return n},ix=(e,t,s,n)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:cN(t,i);o.classGroupId=s;return}if(typeof i=="function"){if(w6(i)){ix(i(n),t,s,n);return}t.validators.push({validator:i,classGroupId:s});return}Object.entries(i).forEach(([o,c])=>{ix(c,cN(t,o),s,n)})})},cN=(e,t)=>{let s=e;return t.split(jy).forEach(n=>{s.nextPart.has(n)||s.nextPart.set(n,{nextPart:new Map,validators:[]}),s=s.nextPart.get(n)}),s},w6=e=>e.isThemeGetter,j6=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,n=new Map;const i=(o,c)=>{s.set(o,c),t++,t>e&&(t=0,n=s,s=new Map)};return{get(o){let c=s.get(o);if(c!==void 0)return c;if((c=n.get(o))!==void 0)return i(o,c),c},set(o,c){s.has(o)?s.set(o,c):i(o,c)}}},ox="!",lx=":",N6=lx.length,_6=e=>{const{prefix:t,experimentalParseClassName:s}=e;let n=i=>{const o=[];let c=0,u=0,h=0,f;for(let j=0;j<i.length;j++){let v=i[j];if(c===0&&u===0){if(v===lx){o.push(i.slice(h,j)),h=j+N6;continue}if(v==="/"){f=j;continue}}v==="["?c++:v==="]"?c--:v==="("?u++:v===")"&&u--}const p=o.length===0?i:i.substring(h),g=T6(p),x=g!==p,b=f&&f>h?f-h:void 0;return{modifiers:o,hasImportantModifier:x,baseClassName:g,maybePostfixModifierPosition:b}};if(t){const i=t+lx,o=n;n=c=>c.startsWith(i)?o(c.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(s){const i=n;n=o=>s({className:o,parseClassName:i})}return n},T6=e=>e.endsWith(ox)?e.substring(0,e.length-1):e.startsWith(ox)?e.substring(1):e,S6=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const i=[];let o=[];return n.forEach(c=>{c[0]==="["||t[c]?(i.push(...o.sort(),c),o=[]):o.push(c)}),i.push(...o.sort()),i}},C6=e=>L({cache:j6(e.cacheSize),parseClassName:_6(e),sortModifiers:S6(e)},y6(e)),E6=/\s+/,k6=(e,t)=>{const{parseClassName:s,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:o}=t,c=[],u=e.trim().split(E6);let h="";for(let f=u.length-1;f>=0;f-=1){const p=u[f],{isExternal:g,modifiers:x,hasImportantModifier:b,baseClassName:j,maybePostfixModifierPosition:v}=s(p);if(g){h=p+(h.length>0?" "+h:h);continue}let T=!!v,_=n(T?j.substring(0,v):j);if(!_){if(!T){h=p+(h.length>0?" "+h:h);continue}if(_=n(j),!_){h=p+(h.length>0?" "+h:h);continue}T=!1}const R=o(x).join(":"),S=b?R+ox:R,C=S+_;if(c.includes(C))continue;c.push(C);const D=i(_,T);for(let k=0;k<D.length;++k){const B=D[k];c.push(S+B)}h=p+(h.length>0?" "+h:h)}return h};function D6(){let e=0,t,s,n="";for(;e<arguments.length;)(t=arguments[e++])&&(s=aS(t))&&(n&&(n+=" "),n+=s);return n}const aS=e=>{if(typeof e=="string")return e;let t,s="";for(let n=0;n<e.length;n++)e[n]&&(t=aS(e[n]))&&(s&&(s+=" "),s+=t);return s};function A6(e,...t){let s,n,i,o=c;function c(h){const f=t.reduce((p,g)=>g(p),e());return s=C6(f),n=s.cache.get,i=s.cache.set,o=u,u(h)}function u(h){const f=n(h);if(f)return f;const p=k6(h,s);return i(h,p),p}return function(){return o(D6.apply(null,arguments))}}const tn=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},rS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,iS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,O6=/^\d+\/\d+$/,R6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,M6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,P6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,L6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,B6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,zl=e=>O6.test(e),Ut=e=>!!e&&!Number.isNaN(Number(e)),Si=e=>!!e&&Number.isInteger(Number(e)),l0=e=>e.endsWith("%")&&Ut(e.slice(0,-1)),zr=e=>R6.test(e),F6=()=>!0,U6=e=>M6.test(e)&&!P6.test(e),oS=()=>!1,z6=e=>L6.test(e),H6=e=>B6.test(e),$6=e=>!ot(e)&&!lt(e),V6=e=>mc(e,uS,oS),ot=e=>rS.test(e),_o=e=>mc(e,dS,U6),c0=e=>mc(e,G6,Ut),uN=e=>mc(e,lS,oS),I6=e=>mc(e,cS,H6),Gf=e=>mc(e,fS,z6),lt=e=>iS.test(e),Nu=e=>pc(e,dS),q6=e=>pc(e,X6),dN=e=>pc(e,lS),W6=e=>pc(e,uS),Y6=e=>pc(e,cS),Xf=e=>pc(e,fS,!0),mc=(e,t,s)=>{const n=rS.exec(e);return n?n[1]?t(n[1]):s(n[2]):!1},pc=(e,t,s=!1)=>{const n=iS.exec(e);return n?n[1]?t(n[1]):s:!1},lS=e=>e==="position"||e==="percentage",cS=e=>e==="image"||e==="url",uS=e=>e==="length"||e==="size"||e==="bg-size",dS=e=>e==="length",G6=e=>e==="number",X6=e=>e==="family-name",fS=e=>e==="shadow",K6=()=>{const e=tn("color"),t=tn("font"),s=tn("text"),n=tn("font-weight"),i=tn("tracking"),o=tn("leading"),c=tn("breakpoint"),u=tn("container"),h=tn("spacing"),f=tn("radius"),p=tn("shadow"),g=tn("inset-shadow"),x=tn("text-shadow"),b=tn("drop-shadow"),j=tn("blur"),v=tn("perspective"),T=tn("aspect"),_=tn("ease"),R=tn("animate"),S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],D=()=>[...C(),lt,ot],k=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto","contain","none"],F=()=>[lt,ot,h],O=()=>[zl,"full","auto",...F()],X=()=>[Si,"none","subgrid",lt,ot],I=()=>["auto",{span:["full",Si,lt,ot]},Si,lt,ot],Q=()=>[Si,"auto",lt,ot],W=()=>["auto","min","max","fr",lt,ot],Y=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],H=()=>["start","end","center","stretch","center-safe","end-safe"],z=()=>["auto",...F()],Z=()=>[zl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...F()],te=()=>[e,lt,ot],ue=()=>[...C(),dN,uN,{position:[lt,ot]}],M=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ie=()=>["auto","cover","contain",W6,V6,{size:[lt,ot]}],ne=()=>[l0,Nu,_o],V=()=>["","none","full",f,lt,ot],J=()=>["",Ut,Nu,_o],xe=()=>["solid","dashed","dotted","double"],fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ee=()=>[Ut,l0,dN,uN],De=()=>["","none",j,lt,ot],Ie=()=>["none",Ut,lt,ot],re=()=>["none",Ut,lt,ot],Re=()=>[Ut,lt,ot],He=()=>[zl,"full",...F()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[zr],breakpoint:[zr],color:[F6],container:[zr],"drop-shadow":[zr],ease:["in","out","in-out"],font:[$6],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[zr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[zr],shadow:[zr],spacing:["px",Ut],text:[zr],"text-shadow":[zr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",zl,ot,lt,T]}],container:["container"],columns:[{columns:[Ut,ot,lt,u]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:O()}],"inset-x":[{"inset-x":O()}],"inset-y":[{"inset-y":O()}],start:[{start:O()}],end:[{end:O()}],top:[{top:O()}],right:[{right:O()}],bottom:[{bottom:O()}],left:[{left:O()}],visibility:["visible","invisible","collapse"],z:[{z:[Si,"auto",lt,ot]}],basis:[{basis:[zl,"full","auto",u,...F()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ut,zl,"auto","initial","none",ot]}],grow:[{grow:["",Ut,lt,ot]}],shrink:[{shrink:["",Ut,lt,ot]}],order:[{order:[Si,"first","last","none",lt,ot]}],"grid-cols":[{"grid-cols":X()}],"col-start-end":[{col:I()}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":X()}],"row-start-end":[{row:I()}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":W()}],"auto-rows":[{"auto-rows":W()}],gap:[{gap:F()}],"gap-x":[{"gap-x":F()}],"gap-y":[{"gap-y":F()}],"justify-content":[{justify:[...Y(),"normal"]}],"justify-items":[{"justify-items":[...H(),"normal"]}],"justify-self":[{"justify-self":["auto",...H()]}],"align-content":[{content:["normal",...Y()]}],"align-items":[{items:[...H(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...H(),{baseline:["","last"]}]}],"place-content":[{"place-content":Y()}],"place-items":[{"place-items":[...H(),"baseline"]}],"place-self":[{"place-self":["auto",...H()]}],p:[{p:F()}],px:[{px:F()}],py:[{py:F()}],ps:[{ps:F()}],pe:[{pe:F()}],pt:[{pt:F()}],pr:[{pr:F()}],pb:[{pb:F()}],pl:[{pl:F()}],m:[{m:z()}],mx:[{mx:z()}],my:[{my:z()}],ms:[{ms:z()}],me:[{me:z()}],mt:[{mt:z()}],mr:[{mr:z()}],mb:[{mb:z()}],ml:[{ml:z()}],"space-x":[{"space-x":F()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":F()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[u,"screen",...Z()]}],"min-w":[{"min-w":[u,"screen","none",...Z()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[c]},...Z()]}],h:[{h:["screen","lh",...Z()]}],"min-h":[{"min-h":["screen","lh","none",...Z()]}],"max-h":[{"max-h":["screen","lh",...Z()]}],"font-size":[{text:["base",s,Nu,_o]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,lt,c0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",l0,ot]}],"font-family":[{font:[q6,ot,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,lt,ot]}],"line-clamp":[{"line-clamp":[Ut,"none",lt,c0]}],leading:[{leading:[o,...F()]}],"list-image":[{"list-image":["none",lt,ot]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",lt,ot]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:te()}],"text-color":[{text:te()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...xe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ut,"from-font","auto",lt,_o]}],"text-decoration-color":[{decoration:te()}],"underline-offset":[{"underline-offset":[Ut,"auto",lt,ot]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",lt,ot]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",lt,ot]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ue()}],"bg-repeat":[{bg:M()}],"bg-size":[{bg:ie()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Si,lt,ot],radial:["",lt,ot],conic:[Si,lt,ot]},Y6,I6]}],"bg-color":[{bg:te()}],"gradient-from-pos":[{from:ne()}],"gradient-via-pos":[{via:ne()}],"gradient-to-pos":[{to:ne()}],"gradient-from":[{from:te()}],"gradient-via":[{via:te()}],"gradient-to":[{to:te()}],rounded:[{rounded:V()}],"rounded-s":[{"rounded-s":V()}],"rounded-e":[{"rounded-e":V()}],"rounded-t":[{"rounded-t":V()}],"rounded-r":[{"rounded-r":V()}],"rounded-b":[{"rounded-b":V()}],"rounded-l":[{"rounded-l":V()}],"rounded-ss":[{"rounded-ss":V()}],"rounded-se":[{"rounded-se":V()}],"rounded-ee":[{"rounded-ee":V()}],"rounded-es":[{"rounded-es":V()}],"rounded-tl":[{"rounded-tl":V()}],"rounded-tr":[{"rounded-tr":V()}],"rounded-br":[{"rounded-br":V()}],"rounded-bl":[{"rounded-bl":V()}],"border-w":[{border:J()}],"border-w-x":[{"border-x":J()}],"border-w-y":[{"border-y":J()}],"border-w-s":[{"border-s":J()}],"border-w-e":[{"border-e":J()}],"border-w-t":[{"border-t":J()}],"border-w-r":[{"border-r":J()}],"border-w-b":[{"border-b":J()}],"border-w-l":[{"border-l":J()}],"divide-x":[{"divide-x":J()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":J()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...xe(),"hidden","none"]}],"divide-style":[{divide:[...xe(),"hidden","none"]}],"border-color":[{border:te()}],"border-color-x":[{"border-x":te()}],"border-color-y":[{"border-y":te()}],"border-color-s":[{"border-s":te()}],"border-color-e":[{"border-e":te()}],"border-color-t":[{"border-t":te()}],"border-color-r":[{"border-r":te()}],"border-color-b":[{"border-b":te()}],"border-color-l":[{"border-l":te()}],"divide-color":[{divide:te()}],"outline-style":[{outline:[...xe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ut,lt,ot]}],"outline-w":[{outline:["",Ut,Nu,_o]}],"outline-color":[{outline:te()}],shadow:[{shadow:["","none",p,Xf,Gf]}],"shadow-color":[{shadow:te()}],"inset-shadow":[{"inset-shadow":["none",g,Xf,Gf]}],"inset-shadow-color":[{"inset-shadow":te()}],"ring-w":[{ring:J()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:te()}],"ring-offset-w":[{"ring-offset":[Ut,_o]}],"ring-offset-color":[{"ring-offset":te()}],"inset-ring-w":[{"inset-ring":J()}],"inset-ring-color":[{"inset-ring":te()}],"text-shadow":[{"text-shadow":["none",x,Xf,Gf]}],"text-shadow-color":[{"text-shadow":te()}],opacity:[{opacity:[Ut,lt,ot]}],"mix-blend":[{"mix-blend":[...fe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":fe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ut]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ee()}],"mask-image-linear-from-color":[{"mask-linear-from":te()}],"mask-image-linear-to-color":[{"mask-linear-to":te()}],"mask-image-t-from-pos":[{"mask-t-from":Ee()}],"mask-image-t-to-pos":[{"mask-t-to":Ee()}],"mask-image-t-from-color":[{"mask-t-from":te()}],"mask-image-t-to-color":[{"mask-t-to":te()}],"mask-image-r-from-pos":[{"mask-r-from":Ee()}],"mask-image-r-to-pos":[{"mask-r-to":Ee()}],"mask-image-r-from-color":[{"mask-r-from":te()}],"mask-image-r-to-color":[{"mask-r-to":te()}],"mask-image-b-from-pos":[{"mask-b-from":Ee()}],"mask-image-b-to-pos":[{"mask-b-to":Ee()}],"mask-image-b-from-color":[{"mask-b-from":te()}],"mask-image-b-to-color":[{"mask-b-to":te()}],"mask-image-l-from-pos":[{"mask-l-from":Ee()}],"mask-image-l-to-pos":[{"mask-l-to":Ee()}],"mask-image-l-from-color":[{"mask-l-from":te()}],"mask-image-l-to-color":[{"mask-l-to":te()}],"mask-image-x-from-pos":[{"mask-x-from":Ee()}],"mask-image-x-to-pos":[{"mask-x-to":Ee()}],"mask-image-x-from-color":[{"mask-x-from":te()}],"mask-image-x-to-color":[{"mask-x-to":te()}],"mask-image-y-from-pos":[{"mask-y-from":Ee()}],"mask-image-y-to-pos":[{"mask-y-to":Ee()}],"mask-image-y-from-color":[{"mask-y-from":te()}],"mask-image-y-to-color":[{"mask-y-to":te()}],"mask-image-radial":[{"mask-radial":[lt,ot]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ee()}],"mask-image-radial-from-color":[{"mask-radial-from":te()}],"mask-image-radial-to-color":[{"mask-radial-to":te()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":C()}],"mask-image-conic-pos":[{"mask-conic":[Ut]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ee()}],"mask-image-conic-from-color":[{"mask-conic-from":te()}],"mask-image-conic-to-color":[{"mask-conic-to":te()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ue()}],"mask-repeat":[{mask:M()}],"mask-size":[{mask:ie()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",lt,ot]}],filter:[{filter:["","none",lt,ot]}],blur:[{blur:De()}],brightness:[{brightness:[Ut,lt,ot]}],contrast:[{contrast:[Ut,lt,ot]}],"drop-shadow":[{"drop-shadow":["","none",b,Xf,Gf]}],"drop-shadow-color":[{"drop-shadow":te()}],grayscale:[{grayscale:["",Ut,lt,ot]}],"hue-rotate":[{"hue-rotate":[Ut,lt,ot]}],invert:[{invert:["",Ut,lt,ot]}],saturate:[{saturate:[Ut,lt,ot]}],sepia:[{sepia:["",Ut,lt,ot]}],"backdrop-filter":[{"backdrop-filter":["","none",lt,ot]}],"backdrop-blur":[{"backdrop-blur":De()}],"backdrop-brightness":[{"backdrop-brightness":[Ut,lt,ot]}],"backdrop-contrast":[{"backdrop-contrast":[Ut,lt,ot]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ut,lt,ot]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ut,lt,ot]}],"backdrop-invert":[{"backdrop-invert":["",Ut,lt,ot]}],"backdrop-opacity":[{"backdrop-opacity":[Ut,lt,ot]}],"backdrop-saturate":[{"backdrop-saturate":[Ut,lt,ot]}],"backdrop-sepia":[{"backdrop-sepia":["",Ut,lt,ot]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":F()}],"border-spacing-x":[{"border-spacing-x":F()}],"border-spacing-y":[{"border-spacing-y":F()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",lt,ot]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ut,"initial",lt,ot]}],ease:[{ease:["linear","initial",_,lt,ot]}],delay:[{delay:[Ut,lt,ot]}],animate:[{animate:["none",R,lt,ot]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,lt,ot]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:Ie()}],"rotate-x":[{"rotate-x":Ie()}],"rotate-y":[{"rotate-y":Ie()}],"rotate-z":[{"rotate-z":Ie()}],scale:[{scale:re()}],"scale-x":[{"scale-x":re()}],"scale-y":[{"scale-y":re()}],"scale-z":[{"scale-z":re()}],"scale-3d":["scale-3d"],skew:[{skew:Re()}],"skew-x":[{"skew-x":Re()}],"skew-y":[{"skew-y":Re()}],transform:[{transform:[lt,ot,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:He()}],"translate-x":[{"translate-x":He()}],"translate-y":[{"translate-y":He()}],"translate-z":[{"translate-z":He()}],"translate-none":["translate-none"],accent:[{accent:te()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:te()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",lt,ot]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",lt,ot]}],fill:[{fill:["none",...te()]}],"stroke-w":[{stroke:[Ut,Nu,_o,c0]}],stroke:[{stroke:["none",...te()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Q6=A6(K6);function Ss(...e){return Q6(sS(e))}function Ny(t){var e=Oe(t,[]);return r.jsx(m6,L({"data-slot":"popover"},e))}function _y(t){var e=Oe(t,[]);return r.jsx(p6,L({"data-slot":"popover-trigger"},e))}function Ty(i){var o=i,{className:e,align:t="center",sideOffset:s=4}=o,n=Oe(o,["className","align","sideOffset"]);return r.jsx(g6,{children:r.jsx(x6,L({"data-slot":"popover-content",align:t,sideOffset:s,className:Ss("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-[10000] w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e)},n))})}const Yu=class Yu{static useUsers(){const{data:t,isLoading:s,error:n}=Nt("User",{fields:Yu.USER_FIELDS,filters:[["enabled","=",1],["user_type","=","System User"]],limit:0});return{data:t||[],isLoading:s,error:n}}static useCurrentUser(){const{currentUser:t,isLoading:s}=An();return{currentUser:t,isLoading:s}}static useCurrentUserProfile(){const{currentUser:t}=An(),{data:s,isLoading:n,error:i}=Ot("User",t||void 0,{fields:Yu.USER_FIELDS});return{currentUserProfile:s,isLoading:n,error:i}}};Et(Yu,"USER_FIELDS",["name","email","full_name","first_name","last_name","user_image","enabled","user_type","role_profile_name"]);let qh=Yu;const Z6=qh.useCurrentUser,J6=qh.useCurrentUserProfile,eL=()=>we(null,null,function*(){try{const e=yield fetch("/api/method/frappe.auth.get_logged_user",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token||""}});if(e.status===401||e.status===403)return{isValid:!1};if(e.ok){const t=yield e.json();if(t&&!t.exc)return{isValid:!0}}return{isValid:!1}}catch(e){return console.error("Token validation error:",e),{isValid:!1}}}),hS=()=>{try{localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(t=>{const s=t.indexOf("="),n=s>-1?t.substr(0,s).trim():t.trim();document.cookie=`${n}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;domain=${window.location.hostname}`,document.cookie=`${n}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/`}),console.warn("Session expired. Redirecting to login...");const e="/login";window.location.href=e}catch(e){console.error("Error handling token expiry:",e),window.location.href="/login"}},tL=()=>"/login",cx=()=>window.location.pathname.includes("/login")||window.location.pathname.includes("/signin");function sL(e){if(typeof document=="undefined")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}const nL=e=>{switch(e){case"success":return iL;case"info":return lL;case"warning":return oL;case"error":return cL;default:return null}},aL=Array(12).fill(0),rL=({visible:e,className:t})=>ae.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},ae.createElement("div",{className:"sonner-spinner"},aL.map((s,n)=>ae.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),iL=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),oL=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),lL=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),cL=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),uL=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ae.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ae.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),dL=()=>{const[e,t]=ae.useState(document.hidden);return ae.useEffect(()=>{const s=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),e};let ux=1;class fL{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const s=this.subscribers.indexOf(t);this.subscribers.splice(s,1)}),this.publish=t=>{this.subscribers.forEach(s=>s(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var s;const h=t,{message:n}=h,i=Oe(h,["message"]),o=typeof(t==null?void 0:t.id)=="number"||((s=t.id)==null?void 0:s.length)>0?t.id:ux++,c=this.toasts.find(f=>f.id===o),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),c?this.toasts=this.toasts.map(f=>f.id===o?(this.publish(oe(L(L({},f),t),{id:o,title:n})),oe(L(L({},f),t),{id:o,dismissible:u,title:n})):f):this.addToast(oe(L({title:n},i),{dismissible:u,id:o})),o},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(s=>s({id:t,dismiss:!0})))):this.toasts.forEach(s=>{this.subscribers.forEach(n=>n({id:s.id,dismiss:!0}))}),t),this.message=(t,s)=>this.create(oe(L({},s),{message:t})),this.error=(t,s)=>this.create(oe(L({},s),{message:t,type:"error"})),this.success=(t,s)=>this.create(oe(L({},s),{type:"success",message:t})),this.info=(t,s)=>this.create(oe(L({},s),{type:"info",message:t})),this.warning=(t,s)=>this.create(oe(L({},s),{type:"warning",message:t})),this.loading=(t,s)=>this.create(oe(L({},s),{type:"loading",message:t})),this.promise=(t,s)=>{if(!s)return;let n;s.loading!==void 0&&(n=this.create(oe(L({},s),{promise:t,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0})));const i=Promise.resolve(t instanceof Function?t():t);let o=n!==void 0,c;const u=i.then(f=>we(this,null,function*(){if(c=["resolve",f],ae.isValidElement(f))o=!1,this.create({id:n,type:"default",message:f});else if(mL(f)&&!f.ok){o=!1;const g=typeof s.error=="function"?yield s.error(`HTTP error! status: ${f.status}`):s.error,x=typeof s.description=="function"?yield s.description(`HTTP error! status: ${f.status}`):s.description,j=typeof g=="object"&&!ae.isValidElement(g)?g:{message:g};this.create(L({id:n,type:"error",description:x},j))}else if(f instanceof Error){o=!1;const g=typeof s.error=="function"?yield s.error(f):s.error,x=typeof s.description=="function"?yield s.description(f):s.description,j=typeof g=="object"&&!ae.isValidElement(g)?g:{message:g};this.create(L({id:n,type:"error",description:x},j))}else if(s.success!==void 0){o=!1;const g=typeof s.success=="function"?yield s.success(f):s.success,x=typeof s.description=="function"?yield s.description(f):s.description,j=typeof g=="object"&&!ae.isValidElement(g)?g:{message:g};this.create(L({id:n,type:"success",description:x},j))}})).catch(f=>we(this,null,function*(){if(c=["reject",f],s.error!==void 0){o=!1;const p=typeof s.error=="function"?yield s.error(f):s.error,g=typeof s.description=="function"?yield s.description(f):s.description,b=typeof p=="object"&&!ae.isValidElement(p)?p:{message:p};this.create(L({id:n,type:"error",description:g},b))}})).finally(()=>{o&&(this.dismiss(n),n=void 0),s.finally==null||s.finally.call(s)}),h=()=>new Promise((f,p)=>u.then(()=>c[0]==="reject"?p(c[1]):f(c[1])).catch(p));return typeof n!="string"&&typeof n!="number"?{unwrap:h}:Object.assign(n,{unwrap:h})},this.custom=(t,s)=>{const n=(s==null?void 0:s.id)||ux++;return this.create(L({jsx:t(n),id:n},s)),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const qn=new fL,hL=(e,t)=>{const s=(t==null?void 0:t.id)||ux++;return qn.addToast(oe(L({title:e},t),{id:s})),s},mL=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",pL=hL,gL=()=>qn.toasts,xL=()=>qn.getActiveToasts(),ja=Object.assign(pL,{success:qn.success,info:qn.info,warning:qn.warning,error:qn.error,custom:qn.custom,message:qn.message,promise:qn.promise,dismiss:qn.dismiss,loading:qn.loading},{getHistory:gL,getToasts:xL});sL("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Kf(e){return e.label!==void 0}const yL=3,bL="24px",vL="16px",fN=4e3,wL=356,jL=14,NL=45,_L=200;function ar(...e){return e.filter(Boolean).join(" ")}function TL(e){const[t,s]=e.split("-"),n=[];return t&&n.push(t),s&&n.push(s),n}const SL=e=>{var t,s,n,i,o,c,u,h,f;const{invert:p,toast:g,unstyled:x,interacting:b,setHeights:j,visibleToasts:v,heights:T,index:_,toasts:R,expanded:S,removeToast:C,defaultRichColors:D,closeButton:k,style:B,cancelButtonStyle:F,actionButtonStyle:O,className:X="",descriptionClassName:I="",duration:Q,position:W,gap:Y,expandByDefault:H,classNames:z,icons:Z,closeButtonAriaLabel:te="Close toast"}=e,[ue,M]=ae.useState(null),[ie,ne]=ae.useState(null),[V,J]=ae.useState(!1),[xe,fe]=ae.useState(!1),[Ee,De]=ae.useState(!1),[Ie,re]=ae.useState(!1),[Re,He]=ae.useState(!1),[Xe,Le]=ae.useState(0),[dt,Ge]=ae.useState(0),Be=ae.useRef(g.duration||Q||fN),ze=ae.useRef(null),nt=ae.useRef(null),K=_===0,me=_+1<=v,G=g.type,Te=g.dismissible!==!1,Ue=g.className||"",Pe=g.descriptionClassName||"",We=ae.useMemo(()=>T.findIndex(st=>st.toastId===g.id)||0,[T,g.id]),Ze=ae.useMemo(()=>{var st;return(st=g.closeButton)!=null?st:k},[g.closeButton,k]),at=ae.useMemo(()=>g.duration||Q||fN,[g.duration,Q]),jt=ae.useRef(0),Se=ae.useRef(0),Fe=ae.useRef(0),Ke=ae.useRef(null),[zt,Gt]=W.split("-"),Xt=ae.useMemo(()=>T.reduce((st,Ct,Kt)=>Kt>=We?st:st+Ct.height,0),[T,We]),is=dL(),Is=g.invert||p,rn=G==="loading";Se.current=ae.useMemo(()=>We*Y+Xt,[We,Xt]),ae.useEffect(()=>{Be.current=at},[at]),ae.useEffect(()=>{J(!0)},[]),ae.useEffect(()=>{const st=nt.current;if(st){const Ct=st.getBoundingClientRect().height;return Ge(Ct),j(Kt=>[{toastId:g.id,height:Ct,position:g.position},...Kt]),()=>j(Kt=>Kt.filter(Jt=>Jt.toastId!==g.id))}},[j,g.id]),ae.useLayoutEffect(()=>{if(!V)return;const st=nt.current,Ct=st.style.height;st.style.height="auto";const Kt=st.getBoundingClientRect().height;st.style.height=Ct,Ge(Kt),j(Jt=>Jt.find(ce=>ce.toastId===g.id)?Jt.map(ce=>ce.toastId===g.id?oe(L({},ce),{height:Kt}):ce):[{toastId:g.id,height:Kt,position:g.position},...Jt])},[V,g.title,g.description,j,g.id,g.jsx,g.action,g.cancel]);const tt=ae.useCallback(()=>{fe(!0),Le(Se.current),j(st=>st.filter(Ct=>Ct.toastId!==g.id)),setTimeout(()=>{C(g)},_L)},[g,C,j,Se]);ae.useEffect(()=>{if(g.promise&&G==="loading"||g.duration===1/0||g.type==="loading")return;let st;return S||b||is?(()=>{if(Fe.current<jt.current){const Jt=new Date().getTime()-jt.current;Be.current=Be.current-Jt}Fe.current=new Date().getTime()})():(()=>{Be.current!==1/0&&(jt.current=new Date().getTime(),st=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),tt()},Be.current))})(),()=>clearTimeout(st)},[S,b,g,G,is,tt]),ae.useEffect(()=>{g.delete&&(tt(),g.onDismiss==null||g.onDismiss.call(g,g))},[tt,g.delete]);function Bt(){var st;if(Z!=null&&Z.loading){var Ct;return ae.createElement("div",{className:ar(z==null?void 0:z.loader,g==null||(Ct=g.classNames)==null?void 0:Ct.loader,"sonner-loader"),"data-visible":G==="loading"},Z.loading)}return ae.createElement(rL,{className:ar(z==null?void 0:z.loader,g==null||(st=g.classNames)==null?void 0:st.loader),visible:G==="loading"})}const Vt=g.icon||(Z==null?void 0:Z[G])||nL(G);var kt,as;return ae.createElement("li",{tabIndex:0,ref:nt,className:ar(X,Ue,z==null?void 0:z.toast,g==null||(t=g.classNames)==null?void 0:t.toast,z==null?void 0:z.default,z==null?void 0:z[G],g==null||(s=g.classNames)==null?void 0:s[G]),"data-sonner-toast":"","data-rich-colors":(kt=g.richColors)!=null?kt:D,"data-styled":!(g.jsx||g.unstyled||x),"data-mounted":V,"data-promise":!!g.promise,"data-swiped":Re,"data-removed":xe,"data-visible":me,"data-y-position":zt,"data-x-position":Gt,"data-index":_,"data-front":K,"data-swiping":Ee,"data-dismissible":Te,"data-type":G,"data-invert":Is,"data-swipe-out":Ie,"data-swipe-direction":ie,"data-expanded":!!(S||H&&V),"data-testid":g.testId,style:L(L({"--index":_,"--toasts-before":_,"--z-index":R.length-_,"--offset":`${xe?Xe:Se.current}px`,"--initial-height":H?"auto":`${dt}px`},B),g.style),onDragEnd:()=>{De(!1),M(null),Ke.current=null},onPointerDown:st=>{st.button!==2&&(rn||!Te||(ze.current=new Date,Le(Se.current),st.target.setPointerCapture(st.pointerId),st.target.tagName!=="BUTTON"&&(De(!0),Ke.current={x:st.clientX,y:st.clientY})))},onPointerUp:()=>{var st,Ct,Kt;if(Ie||!Te)return;Ke.current=null;const Jt=Number(((st=nt.current)==null?void 0:st.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),se=Number(((Ct=nt.current)==null?void 0:Ct.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ce=new Date().getTime()-((Kt=ze.current)==null?void 0:Kt.getTime()),ge=ue==="x"?Jt:se,_e=Math.abs(ge)/ce;if(Math.abs(ge)>=NL||_e>.11){Le(Se.current),g.onDismiss==null||g.onDismiss.call(g,g),ne(ue==="x"?Jt>0?"right":"left":se>0?"down":"up"),tt(),re(!0);return}else{var Me,Ye;(Me=nt.current)==null||Me.style.setProperty("--swipe-amount-x","0px"),(Ye=nt.current)==null||Ye.style.setProperty("--swipe-amount-y","0px")}He(!1),De(!1),M(null)},onPointerMove:st=>{var Ct,Kt,Jt;if(!Ke.current||!Te||((Ct=window.getSelection())==null?void 0:Ct.toString().length)>0)return;const ce=st.clientY-Ke.current.y,ge=st.clientX-Ke.current.x;var _e;const Me=(_e=e.swipeDirections)!=null?_e:TL(W);!ue&&(Math.abs(ge)>1||Math.abs(ce)>1)&&M(Math.abs(ge)>Math.abs(ce)?"x":"y");let Ye={x:0,y:0};const rt=ct=>1/(1.5+Math.abs(ct)/20);if(ue==="y"){if(Me.includes("top")||Me.includes("bottom"))if(Me.includes("top")&&ce<0||Me.includes("bottom")&&ce>0)Ye.y=ce;else{const ct=ce*rt(ce);Ye.y=Math.abs(ct)<Math.abs(ce)?ct:ce}}else if(ue==="x"&&(Me.includes("left")||Me.includes("right")))if(Me.includes("left")&&ge<0||Me.includes("right")&&ge>0)Ye.x=ge;else{const ct=ge*rt(ge);Ye.x=Math.abs(ct)<Math.abs(ge)?ct:ge}(Math.abs(Ye.x)>0||Math.abs(Ye.y)>0)&&He(!0),(Kt=nt.current)==null||Kt.style.setProperty("--swipe-amount-x",`${Ye.x}px`),(Jt=nt.current)==null||Jt.style.setProperty("--swipe-amount-y",`${Ye.y}px`)}},Ze&&!g.jsx&&G!=="loading"?ae.createElement("button",{"aria-label":te,"data-disabled":rn,"data-close-button":!0,onClick:rn||!Te?()=>{}:()=>{tt(),g.onDismiss==null||g.onDismiss.call(g,g)},className:ar(z==null?void 0:z.closeButton,g==null||(n=g.classNames)==null?void 0:n.closeButton)},(as=Z==null?void 0:Z.close)!=null?as:uL):null,(G||g.icon||g.promise)&&g.icon!==null&&((Z==null?void 0:Z[G])!==null||g.icon)?ae.createElement("div",{"data-icon":"",className:ar(z==null?void 0:z.icon,g==null||(i=g.classNames)==null?void 0:i.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Bt():null,g.type!=="loading"?Vt:null):null,ae.createElement("div",{"data-content":"",className:ar(z==null?void 0:z.content,g==null||(o=g.classNames)==null?void 0:o.content)},ae.createElement("div",{"data-title":"",className:ar(z==null?void 0:z.title,g==null||(c=g.classNames)==null?void 0:c.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?ae.createElement("div",{"data-description":"",className:ar(I,Pe,z==null?void 0:z.description,g==null||(u=g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),ae.isValidElement(g.cancel)?g.cancel:g.cancel&&Kf(g.cancel)?ae.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||F,onClick:st=>{Kf(g.cancel)&&Te&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,st),tt())},className:ar(z==null?void 0:z.cancelButton,g==null||(h=g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,ae.isValidElement(g.action)?g.action:g.action&&Kf(g.action)?ae.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||O,onClick:st=>{Kf(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,st),!st.defaultPrevented&&tt())},className:ar(z==null?void 0:z.actionButton,g==null||(f=g.classNames)==null?void 0:f.actionButton)},g.action.label):null)};function hN(){if(typeof window=="undefined"||typeof document=="undefined")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function CL(e,t){const s={};return[e,t].forEach((n,i)=>{const o=i===1,c=o?"--mobile-offset":"--offset",u=o?vL:bL;function h(f){["top","right","bottom","left"].forEach(p=>{s[`${c}-${p}`]=typeof f=="number"?`${f}px`:f})}typeof n=="number"||typeof n=="string"?h(n):typeof n=="object"?["top","right","bottom","left"].forEach(f=>{n[f]===void 0?s[`${c}-${f}`]=u:s[`${c}-${f}`]=typeof n[f]=="number"?`${n[f]}px`:n[f]}):h(u)}),s}const EL=ae.forwardRef(function(t,s){const{id:n,invert:i,position:o="bottom-right",hotkey:c=["altKey","KeyT"],expand:u,closeButton:h,className:f,offset:p,mobileOffset:g,theme:x="light",richColors:b,duration:j,style:v,visibleToasts:T=yL,toastOptions:_,dir:R=hN(),gap:S=jL,icons:C,containerAriaLabel:D="Notifications"}=t,[k,B]=ae.useState([]),F=ae.useMemo(()=>n?k.filter(V=>V.toasterId===n):k.filter(V=>!V.toasterId),[k,n]),O=ae.useMemo(()=>Array.from(new Set([o].concat(F.filter(V=>V.position).map(V=>V.position)))),[F,o]),[X,I]=ae.useState([]),[Q,W]=ae.useState(!1),[Y,H]=ae.useState(!1),[z,Z]=ae.useState(x!=="system"?x:typeof window!="undefined"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),te=ae.useRef(null),ue=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=ae.useRef(null),ie=ae.useRef(!1),ne=ae.useCallback(V=>{B(J=>{var xe;return(xe=J.find(fe=>fe.id===V.id))!=null&&xe.delete||qn.dismiss(V.id),J.filter(({id:fe})=>fe!==V.id)})},[]);return ae.useEffect(()=>qn.subscribe(V=>{if(V.dismiss){requestAnimationFrame(()=>{B(J=>J.map(xe=>xe.id===V.id?oe(L({},xe),{delete:!0}):xe))});return}setTimeout(()=>{aT.flushSync(()=>{B(J=>{const xe=J.findIndex(fe=>fe.id===V.id);return xe!==-1?[...J.slice(0,xe),L(L({},J[xe]),V),...J.slice(xe+1)]:[V,...J]})})})}),[k]),ae.useEffect(()=>{if(x!=="system"){Z(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Z("dark"):Z("light")),typeof window=="undefined")return;const V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:J})=>{Z(J?"dark":"light")})}catch(J){V.addListener(({matches:xe})=>{try{Z(xe?"dark":"light")}catch(fe){console.error(fe)}})}},[x]),ae.useEffect(()=>{k.length<=1&&W(!1)},[k]),ae.useEffect(()=>{const V=J=>{var xe;if(c.every(De=>J[De]||J.code===De)){var Ee;W(!0),(Ee=te.current)==null||Ee.focus()}J.code==="Escape"&&(document.activeElement===te.current||(xe=te.current)!=null&&xe.contains(document.activeElement))&&W(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[c]),ae.useEffect(()=>{if(te.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,ie.current=!1)}},[te.current]),ae.createElement("section",{ref:s,"aria-label":`${D} ${ue}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map((V,J)=>{var xe;const[fe,Ee]=V.split("-");return F.length?ae.createElement("ol",{key:V,dir:R==="auto"?hN():R,tabIndex:-1,ref:te,className:f,"data-sonner-toaster":!0,"data-sonner-theme":z,"data-y-position":fe,"data-x-position":Ee,style:L(L({"--front-toast-height":`${((xe=X[0])==null?void 0:xe.height)||0}px`,"--width":`${wL}px`,"--gap":`${S}px`},v),CL(p,g)),onBlur:De=>{ie.current&&!De.currentTarget.contains(De.relatedTarget)&&(ie.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:De=>{De.target instanceof HTMLElement&&De.target.dataset.dismissible==="false"||ie.current||(ie.current=!0,M.current=De.relatedTarget)},onMouseEnter:()=>W(!0),onMouseMove:()=>W(!0),onMouseLeave:()=>{Y||W(!1)},onDragEnd:()=>W(!1),onPointerDown:De=>{De.target instanceof HTMLElement&&De.target.dataset.dismissible==="false"||H(!0)},onPointerUp:()=>H(!1)},F.filter(De=>!De.position&&J===0||De.position===V).map((De,Ie)=>{var re,Re;return ae.createElement(SL,{key:De.id,icons:C,index:Ie,toast:De,defaultRichColors:b,duration:(re=_==null?void 0:_.duration)!=null?re:j,className:_==null?void 0:_.className,descriptionClassName:_==null?void 0:_.descriptionClassName,invert:i,visibleToasts:T,closeButton:(Re=_==null?void 0:_.closeButton)!=null?Re:h,interacting:Y,position:V,style:_==null?void 0:_.style,unstyled:_==null?void 0:_.unstyled,classNames:_==null?void 0:_.classNames,cancelButtonStyle:_==null?void 0:_.cancelButtonStyle,actionButtonStyle:_==null?void 0:_.actionButtonStyle,closeButtonAriaLabel:_==null?void 0:_.closeButtonAriaLabel,removeToast:ne,toasts:F.filter(He=>He.position==De.position),heights:X.filter(He=>He.position==De.position),setHeights:I,expandByDefault:u,gap:S,expanded:Q,swipeDirections:t.swipeDirections})})):null}))}),Qf={duration:4e3};class dx{static success(t,s){const n=`success-${t}`;return this.activeToasts.has(n)?void 0:(this.activeToasts.add(n),ja.success(t,{description:s==null?void 0:s.description,duration:(s==null?void 0:s.duration)||Qf.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(n)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(n)},this.DUPLICATE_TIMEOUT)}}))}static error(t,s){const n=`error-${t}`;return this.activeToasts.has(n)?void 0:(this.activeToasts.add(n),ja.error(t,{description:s==null?void 0:s.description,duration:(s==null?void 0:s.duration)||Qf.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(n)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(n)},this.DUPLICATE_TIMEOUT)}}))}static info(t,s){const n=`info-${t}`;return this.activeToasts.has(n)?void 0:(this.activeToasts.add(n),ja.info(t,{description:s==null?void 0:s.description,duration:(s==null?void 0:s.duration)||Qf.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(n)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(n)},this.DUPLICATE_TIMEOUT)}}))}static warning(t,s){const n=`warning-${t}`;return this.activeToasts.has(n)?void 0:(this.activeToasts.add(n),ja.warning(t,{description:s==null?void 0:s.description,duration:(s==null?void 0:s.duration)||Qf.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(n)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(n)},this.DUPLICATE_TIMEOUT)}}))}static dismissAll(){ja.dismiss(),this.activeToasts.clear()}static clearCache(){this.activeToasts.clear()}}Et(dx,"activeToasts",new Set),Et(dx,"DUPLICATE_TIMEOUT",1e3);const gs=dx,kL=({onMenuClick:e})=>{const{currentUser:t,isLoading:s}=Z6(),{currentUserProfile:n}=J6(),{logout:i}=An(),o=()=>we(null,null,function*(){try{gs.success("Logging out...",{description:"You will be redirected to the login page.",duration:2e3}),yield i(),setTimeout(()=>{hS()},1e3)}catch(p){console.error("Logout failed:",p),gs.error("Logout failed",{description:"Please try again or contact support."}),setTimeout(()=>{window.location.href=tL()},2e3)}}),c=()=>n?n.full_name||n.first_name||n.email||"User":!t||typeof t=="string"?t||"Guest":t.full_name||t.first_name||t.email||"User",u=()=>t?c().split(" ").map(g=>g[0]).join("").toUpperCase().slice(0,2):"G",h=()=>n!=null&&n.user_image?n.user_image:null,f=()=>n?n.email:t&&typeof t!="string"?t.email:t||"No email";return r.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between h-16 px-6",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",title:"Toggle sidebar",children:r.jsx(H4,{className:"h-5 w-5 text-gray-600"})}),r.jsxs("div",{className:"relative hidden md:block",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(lc,{className:"h-4 w-4 text-gray-400"})}),r.jsx("input",{type:"text",className:"block w-80 pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-gray-50 placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Tìm kiếm dự án, task, tài liệu..."})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("button",{className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[r.jsx(iT,{className:"h-5 w-5 text-gray-600"}),r.jsx("span",{className:"absolute top-1 right-1 h-2 w-2 bg-red-500 rounded-full"})]}),r.jsx("div",{className:"relative",children:r.jsxs(Ny,{children:[r.jsx(_y,{asChild:!0,children:r.jsxs("button",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:h()?r.jsx("img",{src:h(),alt:"User avatar",className:"w-8 h-8 rounded-full object-cover"}):r.jsx("span",{className:"text-xs font-medium text-white",children:u()})}),r.jsx("span",{className:"hidden md:block text-sm font-medium text-gray-700",children:s?"Loading...":c()}),r.jsx(ny,{className:"h-4 w-4 text-gray-500"})]})}),r.jsxs(Ty,{className:"w-64 p-0",align:"end",children:[r.jsx("div",{className:"p-4 border-b border-gray-100",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:h()?r.jsx("img",{src:h(),alt:"User avatar",className:"w-10 h-10 rounded-full object-cover"}):r.jsx("span",{className:"text-sm font-medium text-white",children:u()})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:c()}),r.jsx("p",{className:"text-sm text-gray-500",children:f()})]})]})}),r.jsxs("div",{className:"p-2",children:[r.jsxs("button",{className:"w-full flex items-center space-x-3 px-3 py-2 text-left rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[r.jsx(iy,{className:"h-4 w-4 text-gray-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Settings"})]}),r.jsxs("button",{onClick:o,className:"w-full flex items-center space-x-3 px-3 py-2 text-left rounded-lg hover:bg-red-50 transition-colors duration-200 text-red-600",children:[r.jsx(B4,{className:"h-4 w-4"}),r.jsx("span",{className:"text-sm",children:"Sign out"})]})]})]})]})})]})]})})},mS=t=>{var e=Oe(t,[]);const{theme:s="system"}=TO();return r.jsx(EL,L({theme:s,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"}},e))},DL=()=>{const[e,t]=N.useState(!1),[s,n]=N.useState(!1),i=()=>{window.innerWidth<1024?t(!e):n(!s)};return r.jsxs("div",{className:"flex h-screen bg-gray-50",children:[r.jsx("div",{className:"hidden lg:flex lg:flex-shrink-0 transition-all duration-300",children:r.jsx(F1,{collapsed:s,onToggle:i})}),e&&r.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>t(!1)}),r.jsx("div",{className:"relative flex flex-col w-64 h-full bg-white shadow-xl",children:r.jsx(F1,{})})]}),r.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[r.jsx(kL,{onMenuClick:i}),r.jsx("main",{className:"flex-1 overflow-y-auto",children:r.jsx("div",{className:"py-6",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx(aM,{})})})})]}),r.jsx(mS,{position:"top-right",richColors:!0,expand:!0,closeButton:!0,toastOptions:{duration:4e3}})]})},AL=(e={})=>{const{checkIntervalMinutes:t=5,showNotifications:s=!0,enabled:n=!0,onTokenExpired:i}=e,{currentUser:o,isLoading:c}=An(),u=N.useRef(null),h=N.useRef(!1),f=N.useCallback(()=>{u.current&&(clearInterval(u.current),u.current=null)},[]),p=N.useCallback(()=>{f(),s&&gs.error("Session Expired",{description:"Your session has expired. Please log in again.",duration:3e3}),i==null||i(),setTimeout(()=>{hS()},1e3)},[f,i,s]),g=N.useCallback(()=>we(null,null,function*(){try{return(yield eL()).isValid?(h.current=!1,!0):(console.warn("Authentication check failed - token invalid"),p(),!1)}catch(v){return console.error("Error checking authentication:",v),!0}}),[p]),x=N.useCallback(()=>{if(!n||c||!o||cx())return;f(),g();const v=t*60*1e3;u.current=setInterval(g,v)},[n,c,o,t,g,f]);N.useEffect(()=>(o&&!c?x():f(),f),[o,c,x,f]),N.useEffect(()=>f,[f]);const b=N.useCallback(()=>g(),[g]),j=N.useCallback(()=>{p()},[p]);return{checkAuth:b,forceLogout:j,isWatching:!!u.current,currentUser:o,isLoading:c}},OL=({children:e,checkInterval:t=5,showNotifications:s=!0})=>{const{isWatching:n,currentUser:i,isLoading:o}=AL({checkIntervalMinutes:t,showNotifications:s,enabled:!cx(),onTokenExpired:()=>{console.log("Token expired callback triggered")}});return N.useEffect(()=>{},[n,i,o,t]),cx()?r.jsx(r.Fragment,{children:e}):o?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r.jsx(r.Fragment,{children:e})};function RL(){return r.jsx(yO,{siteName:"frontend",socketPort:"9000",children:r.jsxs(SO,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:[r.jsx(OL,{checkInterval:5,showNotifications:!0,children:r.jsx(DL,{})}),r.jsx(mS,{})]})})}const ML=()=>{const[e,t]=N.useState("all"),[s,n]=N.useState("all"),[i,o]=N.useState([]),[c,u]=N.useState(!1),{data:h,isLoading:f}=Nt("Project",{fields:["name","project_name","status","department","team","estimated_costing","expected_end_date","percent_complete"]}),{data:p,isLoading:g}=Nt("project_phase",{fields:["name"],limit:0});N.useEffect(()=>{we(null,null,function*(){if(!p||p.length===0){o([]);return}u(!0);try{const B=p.map(X=>we(null,null,function*(){try{const I=yield fetch(`/api/resource/project_phase/${X.name}`,{method:"GET",headers:{Accept:"application/json"}});if(!I.ok)return console.warn(`❌ Failed to fetch phase ${X.name}:`,I.status),null;const Q=yield I.json();return Q.data||Q}catch(I){return console.error(`💥 Error fetching phase ${X.name}:`,I),null}})),O=(yield Promise.all(B)).filter(X=>X!==null);o(O)}catch(B){console.error("💥 Error in fetchPhasesWithTasks:",B)}finally{u(!1)}})},[p]);const{data:x,isLoading:b}=Nt("Task",{fields:["name","subject","status","exp_end_date","exp_start_date","project","progress","priority","is_group"],limit:0}),{data:j,isLoading:v}=Nt("Timesheet",{fields:["name","total_hours"],limit:0}),T=(h||[]).map(k=>{var B;return oe(L({},k),{project_type:k.project_type||"",customer:k.customer||"",company:k.company||"",department:k.department||"",team:k.team||"",expected_start_date:k.expected_start_date||"",expected_end_date:k.expected_end_date||"",actual_start_date:k.actual_start_date||"",actual_end_date:k.actual_end_date||null,percent_complete:k.percent_complete||0,priority:k.priority||"Medium",estimated_costing:k.estimated_costing||0,total_billable_amount:k.total_billable_amount||0,total_billed_amount:k.total_billed_amount||0,gross_margin:k.gross_margin||0,estimated_hours:k.estimated_hours||0,total_hours:k.total_hours||0,is_active:(B=k.is_active)!=null?B:!0})}),_=N.useMemo(()=>!i||i.length===0?[]:i.map(k=>{const B=k.tasks||[];return oe(L({},k),{phase_name:k.subject||k.name||"",status:k.status||"Open",expected_start_date:k.start_date||"",expected_end_date:k.end_date||"",actual_start_date:k.start_date||"",actual_end_date:null,progress:k.progress||0,description:k.details||"",tasks:B})}),[i]),R=(x||[]).map(k=>oe(L({},k),{project:k.project||"",priority:k.priority||"Medium",type:k.type||"",expected_time:k.expected_time||0,actual_time:k.actual_time||0,start_date:k.exp_start_date||"",end_date:k.exp_end_date||"",progress:k.progress||0,assigned_to:k.assigned_to||null,is_group:k.is_group||!1,parent_task_name:k.parent_task_name||null})),S=(j||[]).map(k=>({name:k.name,employee:k.employee||"",project:"",task:"",start_date:k.start_date||"",end_date:k.end_date||"",total_hours:k.total_hours||0,billable:!0,billing_hours:0,billing_rate:0,billing_amount:0})),C=f||g||c||b||v,D=N.useMemo(()=>{let k=T;s!=="all"&&s!==""&&(k=k.filter(X=>X.team===s)),e!=="all"&&e!==""&&(k=k.filter(X=>X.project_name===e));const B=k.map(X=>X.project_name),F=k.map(X=>X.name),O=_.filter(X=>F.includes(X.project));return{filteredProjects:k,filteredPhases:O,filteredTasks:R.filter(X=>{const I=X.project||"";return F.includes(I)}),filteredTimesheets:S.filter(X=>X.project?B.includes(X.project):!0)}},[T,_,R,S,e,s]);return{allProjects:T,allPhases:_,filteredData:D,selectedProject:e,selectedTeam:s,setSelectedProject:t,setSelectedTeam:n,isLoading:C}},Mo=class Mo{static useUserProjects(){const{currentUser:t}=An(),{data:s,isLoading:n,error:i,mutate:o}=Nt("Project",{fields:Mo.PROJECT_FIELDS,filters:t?[["owner","=",t]]:[],orderBy:{field:"modified",order:"desc"}},void 0,{revalidateOnFocus:!0,revalidateOnReconnect:!0}),{data:c,isLoading:u,error:h,mutate:f}=Nt("Project",{fields:Mo.PROJECT_FIELDS,limit:0,orderBy:{field:"modified",order:"desc"}},void 0,{revalidateOnFocus:!0,revalidateOnReconnect:!0}),p=ae.useMemo(()=>{if(!t)return[];const x=j=>{const v=new Map;return j.forEach(T=>{var R;const _=T.name;if(!v.has(_)){const S={name:T.name,owner:T.owner,creation:T.creation,modified:T.modified,project_name:T.project_name,project_type:T.project_type,status:T.status,customer:T.customer,expected_start_date:T.expected_start_date,expected_end_date:T.expected_end_date,percent_complete:T.percent_complete,priority:T.priority,department:T.department,team:T.team||null,estimated_costing:T.estimated_costing,total_billable_amount:T.total_billable_amount,company:T.company,users:[]};v.set(_,S)}if(T.user){const S=v.get(_);((R=S.users)==null?void 0:R.some(D=>D.user===T.user))||(S.users=S.users||[],S.users.push({user:T.user,email:T.email,full_name:T.full_name,project_status:T.project_status}))}}),Array.from(v.values()).sort((T,_)=>{const R=new Date(T.modified||T.creation||0);return new Date(_.modified||_.creation||0).getTime()-R.getTime()})};let b=[];if(s&&s.length>0&&(b=b.concat(s)),c&&c.length>0){const j=c.filter(v=>v.owner===t||v.user&&v.user===t);b=b.concat(j)}return x(b)},[s,c,t]),g=ae.useCallback(()=>we(null,null,function*(){console.log("Mutating ownedProjects and allProjects...");try{yield Promise.all([o(),f()]),console.log("Data refreshed successfully")}catch(x){console.error("Error refreshing data:",x)}}),[o,f]);return{data:p,isLoading:n||u,error:i&&h?i||h:null,mutate:g}}static useProject(t){const{data:s,isLoading:n,error:i,mutate:o}=Ot("Project",t||"",t?"Project":void 0);return{data:s,isLoading:n,error:i,mutate:o}}static useProjectOwner(t){const{data:s,isLoading:n,error:i}=Ot("User",t||"",t?void 0:null);return{data:s,isLoading:n,error:i}}static useCreateProject(){const{createDoc:t,loading:s,error:n}=Yi();return{createProject:o=>we(null,null,function*(){return yield t("Project",oe(L({},o),{expected_start_date:o.expected_start_date||void 0,expected_end_date:o.expected_end_date||void 0}))}),isLoading:s,error:n}}static useUpdateProject(){const{updateDoc:t,loading:s,error:n}=Gn();return{updateProject:(o,c)=>we(null,null,function*(){return yield t("Project",o,oe(L({},c),{expected_start_date:c.expected_start_date||void 0,expected_end_date:c.expected_end_date||void 0}))}),isLoading:s,error:n}}static useDeleteProject(){const{call:t,loading:s,error:n}=xn("frappe.client.delete");return{deleteProject:o=>we(null,null,function*(){return yield t({doctype:"Project",name:o})}),isLoading:s,error:n}}static useProjectMembers(){const{call:t}=xn("frappe.client.insert"),{call:s}=xn("frappe.client.save"),{call:n}=xn("frappe.client.delete");return{addMember:u=>we(null,null,function*(){return yield t({doc:oe(L({doctype:"Project User"},u),{welcome_email_sent:1})})}),updateMember:(u,h)=>we(null,null,function*(){return yield s({doc:L({doctype:"Project User",name:u},h)})}),removeMember:u=>we(null,null,function*(){return yield n({doctype:"Project User",name:u})})}}static useProjectOwnerManagement(){const{call:t}=xn("frappe.client.save"),{call:s}=xn("frappe.client.set_value");return{transferOwner:(o,c)=>we(null,null,function*(){try{return yield t({doc:{doctype:"Project",name:o,owner:c}}),{success:!0,method:"save"}}catch(u){try{return yield s({doctype:"Project",name:o,fieldname:"owner",value:c}),{success:!0,method:"set_value"}}catch(h){throw new Error("Owner field is protected by ERPNext")}}}),transferOwnerWithAPI:(o,c)=>we(null,null,function*(){try{const u=yield fetch("/api/method/my_app.api.project_transfer.transfer_project_owner",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({project_name:o,new_owner:c})}),h=yield u.json();return u.ok&&h.message?{success:!0,data:h.message}:{success:!1,error:h.message||"Transfer failed"}}catch(u){return{success:!1,error:u instanceof Error?u.message:"Unknown error"}}})}}static useProjectUsers(t){const{data:s,isLoading:n,error:i,mutate:o}=Ot("Project",t,{fields:["name","users"]});return{data:(s==null?void 0:s.users)||[],isLoading:n,error:i,mutate:o}}static useProjectUsersAlt(t){const{data:s,isLoading:n,error:i,mutate:o}=Nt("Project User",{fields:["name","user","email","full_name","image"],filters:[["parent","=",t]],limit:0});return{data:s||[],isLoading:n,error:i,mutate:o}}};Et(Mo,"PROJECT_FIELDS",["name","owner","creation","modified","project_name","project_type","status","customer","department","team","expected_start_date","expected_end_date","percent_complete","priority","estimated_costing","total_billable_amount","company","users.user","users.email","users.full_name","users.project_status"]),Et(Mo,"DETAILED_PROJECT_FIELDS",[...Mo.PROJECT_FIELDS,"creation","modified","modified_by","description","notes","expected_start_date","actual_start_date","actual_end_date","total_costing_amount","total_purchase_cost","total_sales_amount","total_billed_amount","users"]);let td=Mo;const PL=td.useUserProjects,LL=td.useCreateProject,BL=td.useUpdateProject;class qr{static useDocTypeOptions(t,s={}){const{fields:n=["name"],filters:i=[],limit:o=100}=s,{data:c,isLoading:u,error:h}=Nt(t,{fields:n,filters:i,limit:o});return{data:c||[],isLoading:u,error:h}}static useCustomers(){return qr.useDocTypeOptions("Customer",{fields:["name","customer_name","customer_type"],filters:[["disabled","=",0]]})}static useCompanies(){return qr.useDocTypeOptions("Company",{fields:["name","company_name","abbr"],filters:[["is_group","=",0]]})}static useProjectTypes(){return qr.useDocTypeOptions("Project Type",{fields:["name","description"]})}static useDepartments(){return qr.useDocTypeOptions("Department",{fields:["name","department_name","parent_department"],filters:[["disabled","=",0]]})}static useCostCenters(){return qr.useDocTypeOptions("Cost Center",{fields:["name","cost_center_name","parent_cost_center"],filters:[["disabled","=",0],["is_group","=",0]]})}static useProjectTemplates(){return qr.useDocTypeOptions("Project Template",{fields:["name","project_template_name"]})}static useTeams(){return qr.useDocTypeOptions("Team",{fields:["name","team","department"]})}}const pS=qr.useTeams;class FL{static useCreatePhaseTask(){const{createDoc:t,loading:s}=Yi(),{call:n}=xn("frappe.client.insert"),{call:i}=xn("frappe.client.save"),{data:o}=Ot("User","",{shouldFetch:!0});return{createTaskWithPhase:u=>we(null,null,function*(){try{const h=yield t("Task",{subject:u.subject,description:u.description,priority:u.priority,status:u.status,type:u.type,expected_time:u.expected_time,task_weight:u.task_weight,exp_start_date:u.exp_start_date||null,exp_end_date:u.exp_end_date||null,project:u.project});let f=null;if(u.assign_to&&h)try{f=yield n({doc:{doctype:"ToDo",allocated_to:u.assign_to,assigned_by:(o==null?void 0:o.name)||"",description:`Task: ${u.subject}`,reference_type:"Task",reference_name:h.name,status:"Open",priority:u.priority,date:new Date().toISOString().split("T")[0]}})}catch(p){console.error("Error creating ToDo:",p)}if(u.phaseId&&h){const p={parent:u.phaseId,parenttype:"project_phase",parentfield:"tasks",task:h.name,task_name:h.subject,status:h.status,start_date:h.exp_start_date,end_date:h.exp_end_date,description:h.description},g=yield n({doc:L({doctype:"Project Phase Task"},p)});console.log("Project Phase Task created successfully:",g);try{console.log("Saving parent phase document to commit child table changes...");const x=yield i({doc:{doctype:"project_phase",name:u.phaseId}});console.log("Parent phase saved successfully:",x)}catch(x){console.warn("Failed to save parent phase, but child was created:",x)}return{success:!0,task:h,phaseTask:g,todo:f,message:"Task created and linked to phase successfully"}}return{success:!0,task:h,todo:f,message:"Task created successfully"}}catch(h){throw console.error("Error in createTaskWithPhase:",h),h}}),isLoading:s}}static useLinkTaskToPhase(){const{call:t}=xn("frappe.client.insert");return{linkTaskToPhase:(n,i,o)=>we(null,null,function*(){try{const c={parent:i,parenttype:"Project Phase",parentfield:"tasks",task:n,task_name:(o==null?void 0:o.task_name)||n,status:(o==null?void 0:o.status)||"Open",start_date:o==null?void 0:o.start_date,end_date:o==null?void 0:o.end_date,description:o==null?void 0:o.description};return{success:!0,phaseTask:yield t({doc:L({doctype:"Project Phase Task"},c)}),message:"Task linked to phase successfully"}}catch(c){return console.error("Error linking task to phase:",c),{success:!1,error:c instanceof Error?c.message:"Unknown error",message:"Failed to link task to phase"}}})}}}const UL=FL.useCreatePhaseTask;class gS{static useUpdateTask(){const{updateDoc:t,loading:s,error:n}=Gn();return{updateTask:(o,c)=>we(null,null,function*(){const p=c,{assign_to:u}=p,h=Oe(p,["assign_to"]),f=yield t("Task",o,oe(L({},h),{exp_start_date:h.exp_start_date||void 0,exp_end_date:h.exp_end_date||void 0}));return h.progress!==void 0&&(console.log(`Task ${o} progress updated, signaling phase progress update...`),localStorage.setItem("task_progress_updated",o),window.dispatchEvent(new StorageEvent("storage",{key:"task_progress_updated",newValue:o}))),f}),isLoading:s,error:n}}static useTaskAssignment(){const{createDoc:t}=Yi(),{deleteDoc:s}=hm(),{data:n}=Ot("User","",{shouldFetch:!0});return{assignTask:(c,u,h,f="Medium")=>we(null,null,function*(){return yield t("ToDo",{allocated_to:h,assigned_by:(n==null?void 0:n.name)||"",description:`Task: ${u}`,reference_type:"Task",reference_name:c,status:"Open",priority:f,date:new Date().toISOString().split("T")[0]})}),unassignTask:c=>we(null,null,function*(){return yield s("ToDo",c)})}}}const xS=gS.useUpdateTask,yS=gS.useTaskAssignment;class bS{static useUpdatePhase(){const{updateDoc:t,loading:s,error:n}=Gn();return{updatePhase:(o,c)=>we(null,null,function*(){return t("project_phase",o,c)}),isLoading:s,error:n}}static usePhaseAssignment(){const{createDoc:t}=Yi(),{deleteDoc:s}=hm(),{data:n}=Ot("User","",{shouldFetch:!0});return{assignPhase:(c,u)=>we(null,null,function*(){return t("ToDo",{allocated_to:u,assigned_by:(n==null?void 0:n.name)||"",reference_type:"project_phase",reference_name:c,description:`Assigned to phase: ${c}`,status:"Open"})}),unassignPhase:c=>we(null,null,function*(){return s("ToDo",c)})}}}const zL=bS.useUpdatePhase,vS=bS.usePhaseAssignment;class HL{static useUpdateSubTask(){const{updateDoc:t,loading:s,error:n}=Gn();return{updateSubTask:(o,c)=>we(null,null,function*(){return yield t("SubTask",o,c)}),isLoading:s,error:n}}static useSubTaskAssignment(){const{createDoc:t}=Yi(),{deleteDoc:s}=hm(),{data:n}=Ot("User","",{shouldFetch:!0});return{assignSubTask:(c,u)=>we(null,null,function*(){return yield t("ToDo",{allocated_to:u,assigned_by:(n==null?void 0:n.name)||"",reference_type:"SubTask",reference_name:c,description:`Assignment for SubTask: ${c}`,status:"Open"})}),unassignSubTask:c=>we(null,null,function*(){return yield s("ToDo",c)})}}}const{useUpdateSubTask:wS,useSubTaskAssignment:Sy}=HL,gc=e=>{const{data:t,isLoading:s,error:n}=Ot("Project",e,{fields:["name","users"]}),{data:i,isLoading:o}=Ot("Project",(t==null?void 0:t.name)||"",t!=null&&t.name?"Project":void 0);return{data:(i==null?void 0:i.users)||(t==null?void 0:t.users)||[],isLoading:s||o,error:n}};class $L{static useTaskProgressCalculation(){const{updateDoc:t}=Gn();return{calculateAndUpdateTaskProgress:n=>we(null,null,function*(){try{const i=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"SubTask",fields:["name","status"],filters:[["task","=",n]]})});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const c=(yield i.json()).message||[];if(!c||c.length===0)return null;let u=0;c.forEach(f=>{switch(f.status){case"Open":u+=1;break;case"Working":u+=50;break;case"Completed":u+=100;break;default:u+=0}});const h=Math.round(u/c.length);return yield t("Task",n,{progress:h}),console.log(`Task ${n} progress updated to ${h}%, signaling phase progress update...`),localStorage.setItem("task_progress_updated",n),window.dispatchEvent(new StorageEvent("storage",{key:"task_progress_updated",newValue:n})),console.log(`Task ${n} progress updated to ${h}%`),h}catch(i){return console.error("Error calculating task progress:",i),null}})}}static useTaskStatusProgressUpdate(){const{updateDoc:t}=Gn();return{updateTaskProgressByStatus:(n,i,o)=>we(null,null,function*(){try{let c=o||0;switch(i){case"Completed":c=100;break;case"Cancelled":case"Rejected":c=0;break;default:break}return yield t("Task",n,{status:i,progress:c}),console.log(`Task ${n} status/progress updated, signaling phase progress update...`),localStorage.setItem("task_progress_updated",n),window.dispatchEvent(new StorageEvent("storage",{key:"task_progress_updated",newValue:n})),c}catch(c){return console.error("Error updating task progress by status:",c),null}})}}static useManualProgressUpdate(){const{updateDoc:t}=Gn();return{updateTaskProgress:(n,i)=>we(null,null,function*(){try{let o="";return i===0||i===1?o="Open":i>1&&i<=90?o="Working":i>90&&i<100?o="Pending Review":i===100&&(o="Completed"),yield t("Task",n,{progress:i,status:o}),console.log(`Task ${n} manual progress updated to ${i}%, signaling phase progress update...`),localStorage.setItem("task_progress_updated",n),window.dispatchEvent(new StorageEvent("storage",{key:"task_progress_updated",newValue:n})),{progress:i,status:o}}catch(o){return console.error("Error updating manual task progress:",o),null}})}}}const{useTaskProgressCalculation:yd,useTaskStatusProgressUpdate:jS,useManualProgressUpdate:NS}=$L;class _S{static usePhaseProgressCalculation(){const{updateDoc:t}=Gn();return{calculateAndUpdatePhaseProgress:n=>we(null,null,function*(){try{const i=yield fetch("/api/method/frappe.client.get",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",name:n})});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const c=(yield i.json()).message;if(!c||!c.tasks||c.tasks.length===0)return yield t("project_phase",n,{progress:0}),console.log(`Phase ${n} progress updated to 0% (no tasks)`),0;const u=c.tasks.map(b=>b.task);console.log(`Phase ${n} has ${u.length} tasks:`,u);const h=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["name","in",u]]})});if(!h.ok)throw new Error(`HTTP error! status: ${h.status}`);const p=(yield h.json()).message||[];if(p.length===0)return yield t("project_phase",n,{progress:0}),console.log(`Phase ${n} progress updated to 0% (no valid tasks)`),0;let g=0;p.forEach(b=>{const j=b.progress||0;console.log(`Task ${b.name}: ${j}%`),g+=j});const x=Math.round(g/p.length);return console.log(`Calculated phase progress: ${x}% (from ${p.length} tasks)`),yield t("project_phase",n,{progress:x}),console.log(`Phase ${n} progress updated to ${x}% (based on ${p.length} tasks)`),x}catch(i){return console.error("Error calculating phase progress:",i),null}})}}static usePhaseStatusProgressUpdate(){const{updateDoc:t}=Gn();return{updatePhaseProgressByStatus:(n,i,o)=>we(null,null,function*(){try{let c=o||0;switch(i){case"Completed":c=100;break;case"Cancelled":case"Rejected":c=0;break;default:break}return yield t("project_phase",n,{status:i,progress:c}),c}catch(c){return console.error("Error updating phase progress by status:",c),null}})}}static useManualPhaseProgressUpdate(){const{updateDoc:t}=Gn();return{updatePhaseProgress:(n,i)=>we(null,null,function*(){try{let o="";return i===0||i===1?o="Open":i>1&&i<=90?o="Working":i>90&&i<100?o="Pending Review":i===100&&(o="Completed"),yield t("project_phase",n,{progress:i,status:o}),{progress:i,status:o}}catch(o){return console.error("Error updating manual phase progress:",o),null}})}}}const{usePhaseProgressCalculation:TS}=_S,VL=e=>we(null,null,function*(){const{calculateAndUpdatePhaseProgress:t}=_S.usePhaseProgressCalculation();return yield t(e)});class Cy{static useProjectProgressFromPhases(){const{updateDoc:t}=Gn();return{calculateAndUpdateProjectProgressFromPhases:n=>we(null,null,function*(){try{const i=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","progress"],filters:[["project","=",n]]})});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const c=(yield i.json()).message||[];if(!c||c.length===0){const{calculateAndUpdateProjectProgressFromTasks:f}=Cy.useProjectProgressFromTasks();return yield f(n)}let u=0;c.forEach(f=>{u+=f.progress||0});const h=Math.round(u/c.length);return yield t("Project",n,{percent_complete:h}),h}catch(i){return console.error("Error calculating project progress from phases:",i),null}})}}static useProjectProgressFromTasks(){const{updateDoc:t}=Gn();return{calculateAndUpdateProjectProgressFromTasks:n=>we(null,null,function*(){try{const i=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["project","=",n]]})});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const c=(yield i.json()).message||[];if(!c||c.length===0)return yield t("Project",n,{percent_complete:0}),0;let u=0;c.forEach(f=>{u+=f.progress||0});const h=Math.round(u/c.length);return yield t("Project",n,{percent_complete:h}),h}catch(i){return console.error("Error calculating project progress from tasks:",i),null}})}}static useProjectProgressCalculation(){const{updateDoc:t}=Gn();return{calculateAndUpdateProjectProgress:n=>we(null,null,function*(){try{const i=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","progress"],filters:[["project","=",n]]})});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const c=(yield i.json()).message||[];console.log("Found phases:",c.length);const u=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["project","=",n]]})});if(!u.ok)throw new Error(`HTTP error! status: ${u.status}`);const f=(yield u.json()).message||[];if(console.log("Found tasks:",f.length),c&&c.length>0){const p=[];for(const v of c)try{const T=yield fetch(`/api/resource/project_phase/${v.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(T.ok){const _=yield T.json();_.data.tasks&&_.data.tasks.length>0&&_.data.tasks.forEach(R=>{R.task&&p.push(R.task)})}}catch(T){console.warn("Error fetching phase document:",v.name,T)}console.log("Tasks in phases:",p);const g=f.filter(v=>!p.includes(v.name));console.log("Standalone tasks:",g.length);let x=0,b=0;c.forEach(v=>{const T=v.progress||0;console.log(`Phase ${v.name}: ${T}%`),x+=T,b+=1}),g.forEach(v=>{const T=v.progress||0;console.log(`Standalone Task ${v.name}: ${T}%`),x+=T,b+=1}),console.log(`Total components: ${b}, Total progress: ${x}`);const j=b>0?Math.round(x/b):0;return console.log(`Calculated average progress: ${j}%`),yield t("Project",n,{percent_complete:j}),{progress:j,source:"mixed",count:b,phases:c.length,standaloneTasks:g.length}}else if(f&&f.length>0){console.log("No phases found, calculating from all tasks");let p=0;f.forEach(x=>{p+=x.progress||0});const g=Math.round(p/f.length);return console.log(`Task-based progress: ${g}%`),yield t("Project",n,{percent_complete:g}),{progress:g,source:"tasks",count:f.length}}else return console.log("No phases or tasks found"),yield t("Project",n,{percent_complete:0}),{progress:0,source:"none",count:0}}catch(i){return console.error("Error calculating project progress:",i),null}})}}static useProjectStatusProgressUpdate(){const{updateDoc:t}=Gn();return{updateProjectProgressByStatus:(n,i,o)=>we(null,null,function*(){try{let c=o||0;switch(i){case"Completed":c=100;break;case"Cancelled":case"Rejected":c=0;break;default:break}return yield t("Project",n,{status:i,percent_complete:c}),c}catch(c){return console.error("Error updating project progress by status:",c),null}})}}}const{useProjectProgressCalculation:IL}=Cy;class qL{static useProjectCascadeDelete(){const{call:t}=xn("frappe.client.delete"),{call:s}=xn("frappe.client.get_list");return{deleteProjectCascade:i=>we(null,null,function*(){try{console.log(`Starting cascade delete for project: ${i}`);try{const b=yield s({doctype:"Project",fields:["name"],filters:[["name","=",i]],limit_page_length:1});if(!(b!=null&&b.message)||b.message.length===0)throw new Error(`Project ${i} not found`)}catch(b){throw console.error("Project validation failed:",b),new Error(`Project validation failed: ${b instanceof Error?b.message:"Unknown validation error"}`)}let o=0,c=0,u=0;console.log("Step 1: Fetching all tasks...");let h=[];try{const b=yield s({doctype:"Task",fields:["name"],filters:[["project","=",i]],limit_page_length:1e3});h=(b==null?void 0:b.message)||[],console.log(`Found ${h.length} tasks to delete`)}catch(b){console.error("Error fetching tasks:",b),console.log("Continuing with deletion despite task fetch error...")}if(h.length>0){console.log(`Step 2: Processing ${h.length} tasks for subtask deletion...`);for(const b of h){console.log(`Step 2: Deleting subtasks for task ${b.name}...`);try{const j=yield s({doctype:"SubTask",fields:["name"],filters:[["task","=",b.name]],limit_page_length:1e3}),v=(j==null?void 0:j.message)||[];console.log(`Found ${v.length} subtasks for task ${b.name}`);for(const T of v)try{console.log(`Deleting subtask: ${T.name}`),yield t({doctype:"SubTask",name:T.name}),o++,console.log(`Successfully deleted subtask: ${T.name}`),yield new Promise(_=>setTimeout(_,100))}catch(_){console.error(`Error deleting subtask ${T.name}:`,_)}}catch(j){console.error(`Error fetching subtasks for task ${b.name}:`,j)}}yield new Promise(b=>setTimeout(b,500))}if(h.length>0){console.log(`Step 3: Deleting ${h.length} tasks...`);for(const b of h)try{console.log(`Deleting task: ${b.name}`),yield t({doctype:"Task",name:b.name}),c++,console.log(`Successfully deleted task: ${b.name}`),yield new Promise(j=>setTimeout(j,100))}catch(j){console.error(`Error deleting task ${b.name}:`,j)}yield new Promise(b=>setTimeout(b,500))}console.log("Step 4: Deleting all phases...");let f=[];try{const b=yield s({doctype:"project_phase",fields:["name"],filters:[["project","=",i]],limit_page_length:1e3});f=(b==null?void 0:b.message)||[],console.log(`Found ${f.length} phases to delete`)}catch(b){console.error("Error fetching phases:",b),console.log("Continuing with deletion despite phase fetch error...")}for(const b of f)try{console.log(`Deleting phase: ${b.name}`),yield t({doctype:"project_phase",name:b.name}),u++,console.log(`Successfully deleted phase: ${b.name}`),yield new Promise(j=>setTimeout(j,100))}catch(j){console.error(`Error deleting phase ${b.name}:`,j)}f.length>0&&(yield new Promise(b=>setTimeout(b,500))),console.log("Step 5: Deleting ToDo assignments...");try{const b=yield s({doctype:"ToDo",fields:["name"],filters:[["reference_type","in",["Project","Task","SubTask"]],["reference_name","like",`%${i}%`]],limit_page_length:1e3}),j=(b==null?void 0:b.message)||[];console.log(`Found ${j.length} ToDo assignments to delete`);for(const v of j)try{yield t({doctype:"ToDo",name:v.name})}catch(T){console.error(`Error deleting ToDo ${v.name}:`,T)}}catch(b){console.error("Error fetching/deleting ToDo assignments:",b)}console.log("Step 6: Deleting project users...");try{const b=yield s({doctype:"Project User",fields:["name"],filters:[["parent","=",i]],limit_page_length:1e3}),j=(b==null?void 0:b.message)||[];console.log(`Found ${j.length} project users to delete`);for(const v of j)try{yield t({doctype:"Project User",name:v.name})}catch(T){console.error(`Error deleting Project User ${v.name}:`,T)}}catch(b){console.error("Error fetching/deleting project users:",b)}console.log("Step 6.5: Performing comprehensive dependency cleanup...");const p=[{doctype:"Task",filter:[["project","=",i]]},{doctype:"SubTask",filter:[["project","=",i]]},{doctype:"project_phase",filter:[["project","=",i]]},{doctype:"Project User",filter:[["parent","=",i]]},{doctype:"ToDo",filter:[["reference_type","=","Project"],["reference_name","=",i]]},{doctype:"ToDo",filter:[["reference_type","=","Task"],["reference_name","like",`%${i}%`]]},{doctype:"Communication",filter:[["reference_doctype","=","Project"],["reference_name","=",i]]},{doctype:"File",filter:[["attached_to_doctype","=","Project"],["attached_to_name","=",i]]},{doctype:"Comment",filter:[["reference_doctype","=","Project"],["reference_name","=",i]]}];for(const b of p)try{console.log(`Checking for remaining ${b.doctype} dependencies...`);const j=yield s({doctype:b.doctype,fields:["name"],filters:b.filter,limit_page_length:1e3}),v=(j==null?void 0:j.message)||[];if(v.length>0){console.log(`Found ${v.length} remaining ${b.doctype} items, deleting them...`);for(const T of v)try{yield t({doctype:b.doctype,name:T.name}),console.log(`Deleted remaining ${b.doctype}: ${T.name}`),yield new Promise(_=>setTimeout(_,100))}catch(_){console.error(`Error deleting remaining ${b.doctype} ${T.name}:`,_)}}else console.log(`No remaining ${b.doctype} dependencies found.`)}catch(j){console.error(`Error checking ${b.doctype} dependencies:`,j)}yield new Promise(b=>setTimeout(b,1e3)),console.log("Step 7: Deleting the project..."),yield new Promise(b=>setTimeout(b,1e3));let g=0;const x=3;for(;g<x;)try{g++,console.log(`Attempting to delete project ${i} (attempt ${g}/${x})`),yield t({doctype:"Project",name:i}),console.log(`Verifying project ${i} deletion...`);try{const b=yield s({doctype:"Project",fields:["name"],filters:[["name","=",i]],limit_page_length:1});if(b!=null&&b.message&&b.message.length>0)throw new Error("Project still exists after deletion attempt");console.log(`Successfully verified project ${i} deletion`)}catch(b){if(b.message==="Project still exists after deletion attempt")throw b;console.log(`Project ${i} not found during verification - deletion successful`)}console.log(`Successfully deleted project: ${i}`);break}catch(b){if(console.error(`Error deleting project ${i} (attempt ${g}):`,b),g<x){console.log(`Waiting before retry attempt ${g+1}...`),yield new Promise(j=>setTimeout(j,2e3)),console.log("Attempting to clean up remaining dependencies...");try{const j=yield s({doctype:"Project User",fields:["name"],filters:[["parent","=",i]],limit_page_length:1e3}),v=(j==null?void 0:j.message)||[];if(v.length>0){console.log(`Found ${v.length} remaining project users, deleting them...`);for(const T of v)try{yield t({doctype:"Project User",name:T.name}),console.log(`Deleted remaining project user: ${T.name}`)}catch(_){console.error(`Error deleting remaining project user ${T.name}:`,_)}}}catch(j){console.error("Error during dependency cleanup:",j)}try{const j=yield s({doctype:"ToDo",fields:["name"],filters:[["reference_type","=","Project"],["reference_name","=",i]],limit_page_length:1e3}),v=(j==null?void 0:j.message)||[];if(v.length>0){console.log(`Found ${v.length} remaining todos, deleting them...`);for(const T of v)try{yield t({doctype:"ToDo",name:T.name}),console.log(`Deleted remaining todo: ${T.name}`)}catch(_){console.error(`Error deleting remaining todo ${T.name}:`,_)}}}catch(j){console.error("Error during todo cleanup:",j)}}else{let j="Unknown project deletion error";if(b&&typeof b=="object")if(console.error("Full project deletion error object:",JSON.stringify(b,null,2)),b.message)j=b.message;else if(b.exc)j=b.exc;else if(b._server_messages)try{const v=JSON.parse(b._server_messages);Array.isArray(v)&&v.length>0&&(j=JSON.parse(v[0]).message||j)}catch(v){console.error("Error parsing server messages:",v)}else j=JSON.stringify(b);else typeof b=="string"&&(j=b);throw new Error(`Failed to delete project ${i} after ${x} attempts: ${j}`)}}return console.log(`Successfully completed cascade delete for project: ${i}`),{success:!0,deletedItems:{subtasks:o,tasks:c,phases:u,project:1}}}catch(o){console.error("Error in cascade delete:",o);let c="Unknown error";throw o instanceof Error?c=o.message:typeof o=="string"?c=o:o&&typeof o=="object"&&(c=o.message||o.error||o.exc||JSON.stringify(o)),new Error(`Failed to delete project and related items: ${c}`)}})}}}const{useProjectCascadeDelete:WL}=qL;class Ey{static useUserTodos(){const{data:t}=Ot("User","",{shouldFetch:!0}),{data:s,isLoading:n,error:i,mutate:o}=Nt("ToDo",{fields:["name","status","priority","date","allocated_to","description","reference_type","reference_name","assigned_by","assigned_by_full_name","creation","modified"],filters:[["allocated_to","=",(t==null?void 0:t.name)||""],["reference_type","=","Task"]],orderBy:{field:"creation",order:"desc"},limit:0},t!=null&&t.name?"user-todos":null);return{todos:s||[],isLoading:n,error:i,mutate:o,currentUser:t}}static useUserTodosEnriched(){const{data:t}=Ot("User","",{shouldFetch:!0}),{data:s,isLoading:n,error:i,mutate:o}=wO("todo.api.get_user_todos_with_task_info",{user:(t==null?void 0:t.name)||""},t!=null&&t.name?"user-todos-enriched":null,{revalidateOnFocus:!1,revalidateOnReconnect:!1});return{todos:(s==null?void 0:s.message)||[],isLoading:n,error:i,mutate:o,currentUser:t}}static useUserTodosWithTaskData(){const{todos:t,isLoading:s,error:n,mutate:i,currentUser:o}=Ey.useUserTodos();return{todos:t.map(u=>(u.reference_type==="Task"&&u.reference_name,u)),isLoading:s,error:n,mutate:i,currentUser:o}}static useAllTodos(){const{data:t,isLoading:s,error:n}=Nt("ToDo",{fields:["name","status","priority","date","allocated_to","description","reference_type","reference_name","assigned_by"],filters:[["reference_type","in",["Task","SubTask"]]],limit:0});return{todos:t||[],isLoading:s,error:n}}}const YL=Ey.useAllTodos;class GL{static useUserAssignedTasks(){const{currentUser:t}=An(),{data:s,isLoading:n,error:i,mutate:o}=Nt("ToDo",{fields:["name","status","priority","date","allocated_to","description","reference_type","reference_name","assigned_by","assigned_by_full_name","creation","modified"],filters:[["allocated_to","=",t||""]],orderBy:{field:"creation",order:"desc"},limit:0},t?"user-assigned-todos":null),u=(s||[]).filter(Y=>Y.reference_type==="Task").map(Y=>Y.reference_name).filter(Boolean),f=(s||[]).filter(Y=>Y.reference_type==="SubTask").map(Y=>Y.reference_name).filter(Boolean),{data:p,isLoading:g,error:x,mutate:b}=Nt("Task",{fields:["name","subject","project","status","priority","type","expected_time","actual_time","exp_start_date","exp_end_date","progress","is_group","parent_task","description","company","department"],filters:u.length>0?[["name","in",u]]:[["name","=","nonexistent"]],limit:0},u.length>0?"user-assigned-tasks":null),{data:j,isLoading:v,error:T,mutate:_}=Nt("SubTask",{fields:["name","subject","task","status","start_date","end_date","description","assigned_to"],filters:f.length>0?[["name","in",f]]:[["name","=","nonexistent"]],limit:0},f.length>0?"user-assigned-subtasks":null),R=[...new Set((j||[]).map(Y=>Y.task).filter(Boolean))],{data:S}=Nt("Task",{fields:["name","subject","project"],filters:R.length>0?[["name","in",R]]:[["name","=","nonexistent"]],limit:0},R.length>0?"parent-tasks-for-subtasks":null),C=[...new Set([...(p||[]).map(Y=>Y.project).filter(Boolean),...(S||[]).map(Y=>Y.project).filter(Boolean)])],{data:D}=Nt("Project",{fields:["name","project_name"],filters:C.length>0?[["name","in",C]]:[["name","=","nonexistent"]],limit:0},C.length>0?"projects-for-assigned-tasks":null),k=(D||[]).reduce((Y,H)=>(Y[H.name]=H.project_name||H.name,Y),{}),B=(S||[]).reduce((Y,H)=>(Y[H.name]=H,Y),{}),F=(s||[]).reduce((Y,H)=>(H.reference_name&&(Y[H.reference_name]=H),Y),{}),O=(p||[]).map(Y=>oe(L({},Y),{project_name:Y.project?k[Y.project]:void 0,assignedTodo:F[Y.name]})),X=(j||[]).map(Y=>{const H=Y.task?B[Y.task]:void 0;return oe(L({},Y),{task_subject:H==null?void 0:H.subject,project_name:H!=null&&H.project?k[H.project]:void 0,assignedTodo:F[Y.name]})});return{tasks:O,subTasks:X,todos:s||[],isLoading:n||g||v,error:i||x||T,mutate:()=>{o(),b(),_()},currentUser:t}}}const XL=GL.useUserAssignedTasks;class SS{static useAllTeamTasks(){const{data:t,isLoading:s,error:n}=Nt("Task",{fields:["name","subject","description","status","priority","exp_start_date","exp_end_date","project","type","progress","completed_by"],limit:0}),{data:i,isLoading:o,error:c}=Nt("SubTask",{fields:["name","subject","description","status","start_date","end_date","assigned_to","task"],limit:0});return{allTasks:t||[],allSubTasks:i||[],isLoading:s||o,error:n||c}}static getAllTaskOfTeam(){const t=An().currentUser,{data:s}=Nt("Team",{filters:[["teamlead","=",t||""]]}),n=(s==null?void 0:s.map(O=>O.name))||[],{data:i}=Nt("Project",{fields:["name","team"],filters:[["team","in",n]],limit:0}),o=(i==null?void 0:i.map(O=>O.name))||[],{data:c,isLoading:u,error:h}=Nt("Task",{fields:["name","status","exp_end_date","project"],limit:0}),f=(c||[]).filter(O=>o.includes(O.project||"")),{data:p,isLoading:g,error:x}=Nt("SubTask",{fields:["name","status","task"],limit:0}),b=f.map(O=>O.name),j=(p||[]).filter(O=>b.includes(O.task||"")),v=O=>(O||"").toLowerCase()==="completed",T=O=>(O||"").toLowerCase()==="working",_=O=>(O||"").toLowerCase()==="cancelled",R=O=>(O||"").toLowerCase()==="overdue",S=new Date;S.setHours(0,0,0,0);const C=O=>{if(R(O.status))return!0;if(!v(O.status)&&!_(O.status)&&O.exp_end_date){const X=new Date(O.exp_end_date);return X.setHours(0,0,0,0),X<S}return!1},D=f.length+j.length,k=f.filter(O=>T(O.status)).length+j.filter(O=>T(O.status)).length,B=f.filter(O=>v(O.status)).length+j.filter(O=>v(O.status)).length,F=f.filter(O=>C(O)).length;return{total:D,working:k,completed:B,overdue:F,isLoading:u||g,error:h||x}}}const KL=SS.useAllTeamTasks,QL=SS.getAllTaskOfTeam,ZL=()=>{const{currentUser:e}=An(),{data:t,isLoading:s,error:n}=Nt("User",{fields:["name","full_name","user_image","first_name","last_name","email"],filters:[["enabled","=",1],["user_type","=","System User"]],limit:20});return{simpleTeamData:N.useMemo(()=>t?t.map(o=>({id:o.name,name:o.full_name||o.first_name||o.name||"Unknown User",role:o.name===e?"Leader":"Member",avatar:o.user_image||`https://placehold.co/40x40/e2e8f0/475569?text=${(o.first_name||o.full_name||"U").charAt(0).toUpperCase()}`})):[],[t,e]),users:t,isLoading:s,error:n}},JL=({projects:e,selectedProject:t,selectedTeam:s,onProjectChange:n,onTeamChange:i})=>{var v,T;const[o,c]=N.useState({selectedTeam:s,selectedProject:t}),[u,h]=N.useState(!1),{data:f}=pS(),p=(_,R)=>{c(S=>oe(L({},S),{[_]:R})),_==="selectedTeam"?i(R):_==="selectedProject"&&n(R)},g=ae.useMemo(()=>{const _=[{value:"all",label:"Tất cả team"},...(f==null?void 0:f.map(R=>({value:R.name,label:R.team_name||R.name})))||[]];return[_[0],..._.slice(1).sort((R,S)=>R.label.localeCompare(S.label))]},[f]),x=e.filter(_=>!(o.selectedTeam!=="all"&&o.selectedTeam!==""&&_.team!==o.selectedTeam)),b=()=>{c({selectedTeam:"all",selectedProject:"all"}),i("all"),n("all")},j=o.selectedTeam!=="all"||o.selectedProject!=="all";return ae.useEffect(()=>{c(_=>oe(L({},_),{selectedTeam:s,selectedProject:t}))},[s,t]),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>h(!u),className:`inline-flex items-center px-4 py-2 border rounded-lg text-sm font-medium bg-white hover:bg-gray-50 transition-colors ${j?"border-blue-500 text-blue-700 bg-blue-50":"border-gray-300 text-gray-700"}`,children:[r.jsx(dd,{className:"mr-2 h-4 w-4"}),"Bộ lọc",j&&r.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[o.selectedTeam!=="all"?1:0,o.selectedProject!=="all"?1:0].reduce((_,R)=>_+R,0)})]}),u&&r.jsx("div",{className:"absolute top-full right-0 mt-2 w-96 bg-white border border-gray-200 rounded-lg shadow-lg z-10",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Bộ lọc dự án"}),j&&r.jsx("button",{onClick:b,className:"text-sm text-blue-600 hover:text-blue-800",children:"Xóa tất cả"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Team"}),r.jsx("select",{value:o.selectedTeam,onChange:_=>p("selectedTeam",_.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:!f||f.length===0,children:g.map(_=>r.jsx("option",{value:_.value,children:_.label},_.value))}),(!f||f.length===0)&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Không có team nào"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dự án"}),r.jsxs("select",{value:o.selectedProject,onChange:_=>p("selectedProject",_.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"Tất cả dự án"}),x.map(_=>r.jsx("option",{value:_.project_name,children:_.project_name},_.name))]})]})]}),j&&r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[r.jsx("span",{children:"Đang áp dụng:"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.selectedTeam!=="all"&&r.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Team: ",(v=g.find(_=>_.value===o.selectedTeam))==null?void 0:v.label,r.jsx("button",{onClick:()=>p("selectedTeam","all"),className:"ml-1 text-blue-600 hover:text-blue-800",children:"×"})]}),o.selectedProject!=="all"&&r.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Dự án: ",(T=x.find(_=>_.project_name===o.selectedProject))==null?void 0:T.project_name,r.jsx("button",{onClick:()=>p("selectedProject","all"),className:"ml-1 text-green-600 hover:text-green-800",children:"×"})]})]})]})})]})}),u&&r.jsx("div",{className:"fixed inset-0 z-5",onClick:()=>h(!1)})]})},eB=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),tB=({projects:e,tasks:t,selectedProject:s})=>{const n=s&&s!=="all",i=n?"Task":"Dự án";let o,c,u;if(n){o=t.filter(g=>g.status==="Open"||g.status==="Working"||g.status!=="Completed"&&g.status!=="Cancelled").length,c=t.filter(g=>g.status==="Completed").length;const p=new Date;u=t.filter(g=>g.exp_end_date?new Date(g.exp_end_date)<p&&g.status!=="Completed":!1).length,t.reduce((g,x)=>g+(x.expected_time||0),0)}else{o=e.filter(g=>g.status==="Đang thực hiện"||g.status!=="Hoàn thành"&&g.status!=="Hủy"&&g.percent_complete<100).length,c=e.filter(g=>g.status==="Hoàn thành"||g.percent_complete===100).length;const p=new Date;u=e.filter(g=>new Date(g.expected_end_date)<p&&g.status!=="Hoàn thành"&&g.percent_complete<100).length}const h=e.reduce((p,g)=>p+(g.estimated_costing||0),0),f=[{title:`${i} đang hoạt động`,value:o,icon:WM,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-blue-500 to-blue-600",cardBg:"bg-white",shadow:"shadow-lg shadow-blue-500/20",change:"+55%",changeText:"than last week",changeColor:"text-green-500"},{title:`${i} hoàn thành`,value:c,icon:oT,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-green-500 to-green-600",cardBg:"bg-white",shadow:"shadow-lg shadow-green-500/20",change:"+3%",changeText:"than last month",changeColor:"text-green-500"},{title:`${i} quá hạn`,value:u,icon:Hi,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-pink-500 to-pink-600",cardBg:"bg-white",shadow:"shadow-lg shadow-pink-500/20",change:"+1%",changeText:"than yesterday",changeColor:"text-green-500"},{title:"Chi phí Dự án",value:eB(h),icon:Y4,iconColor:"text-white",iconBg:"bg-gradient-to-br from-yellow-200 to-yellow-600",cardBg:"bg-white",shadow:"shadow-lg shadow-yellow-500/20",change:"+91",changeText:"Just updated",changeColor:"text-gray-500"}];return r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:f.map((p,g)=>{const x=p.icon;return r.jsx("div",{className:`${p.cardBg} ${p.shadow} rounded-xl p-6 border border-gray-100 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1`,children:r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:`${p.iconBg} ${p.iconColor} p-3 rounded-2xl shadow-lg`,children:r.jsx(x,{className:"h-6 w-6"})}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:p.title}),r.jsx("p",{className:`${p.title.includes("Chi phí")?"text-2xl":"text-3xl"} font-bold text-gray-900`,children:p.value})]})]})},g)})})},CS=({title:e,children:t,className:s=""})=>r.jsxs("div",{className:`bg-white rounded-xl shadow-sm p-6 mb-6 ${s}`,children:[e&&r.jsx("div",{className:"text-xl font-semibold text-gray-800 mb-4",children:e}),t]}),sB=({projects:e,tasks:t,selectedProject:s})=>{const n=s&&s!=="all",i=ae.useMemo(()=>{const p=new Date;return p.setHours(0,0,0,0),e.map((x,b)=>({id:`milestone-${b}`,name:x.project_name,project:x.project_name,endDate:new Date(x.expected_end_date),priority:x.priority,status:x.percent_complete===100?"completed":x.percent_complete>0?"in progress":"upcoming",progress:x.percent_complete})).filter(x=>{const b=new Date(x.endDate);b.setHours(0,0,0,0);const j=Math.ceil((b.getTime()-p.getTime())/(1e3*60*60*24));return x.status!=="completed"&&j>=0&&j<=15}).sort((x,b)=>{const j=new Date;j.setHours(0,0,0,0);const v=new Date(x.endDate);v.setHours(0,0,0,0);const T=new Date(b.endDate);T.setHours(0,0,0,0);const _=Math.abs(v.getTime()-j.getTime()),R=Math.abs(T.getTime()-j.getTime()),S=_-R;if(S!==0)return S;const C={"Khẩn cấp":0,Cao:1,"Trung bình":2,Thấp:3,Urgent:0,High:1,Medium:2,Low:3};return(C[x.priority]||3)-(C[b.priority]||3)})},[e]),o=ae.useMemo(()=>{if(!n)return[];const p=new Date;return p.setHours(0,0,0,0),t.filter(g=>{if(!g.exp_end_date||g.status==="Completed")return!1;const x=new Date(g.exp_end_date);x.setHours(0,0,0,0);const b=Math.ceil((x.getTime()-p.getTime())/(1e3*60*60*24));return b>=0&&b<=2}).sort((g,x)=>{const b=new Date;b.setHours(0,0,0,0);const j=new Date(g.exp_end_date);j.setHours(0,0,0,0);const v=new Date(x.exp_end_date);v.setHours(0,0,0,0);const T=Math.abs(j.getTime()-b.getTime()),_=Math.abs(v.getTime()-b.getTime()),R=T-_;if(R!==0)return R;const S={Urgent:0,High:1,Medium:2,Low:3};return(S[g.priority]||3)-(S[x.priority]||3)})},[t,n]),c=p=>{switch(p){case"completed":return"bg-green-500";case"in progress":return"bg-blue-500";case"upcoming":return"bg-gray-300";default:return"bg-gray-300"}},u=p=>{switch(p){case"Urgent":return"bg-red-100 text-red-800";case"High":return"bg-orange-100 text-orange-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"Low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},h=p=>p.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),f=p=>{const g=new Date;g.setHours(0,0,0,0);const x=new Date(p);x.setHours(0,0,0,0);const b=Math.ceil((x.getTime()-g.getTime())/(1e3*60*60*24));return b<0?{text:`Quá hạn ${Math.abs(b)} ngày`,color:"text-red-600",urgent:!0}:b===0?{text:"Hôm nay",color:"text-red-600",urgent:!0}:b<=3?{text:`${b} ngày nữa`,color:"text-red-600",urgent:!0}:b<=7?{text:`${b} ngày nữa`,color:"text-orange-600",urgent:!0}:b<=14?{text:`${b} ngày nữa`,color:"text-yellow-600",urgent:!1}:{text:`${b} ngày nữa`,color:"text-gray-600",urgent:!1}};return r.jsx("div",{className:"grid grid-cols-1 gap-8",children:r.jsx(CS,{title:n?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Tasks"})," ","gần ",r.jsx("span",{className:"text-red-600 font-semibold",children:"đến hạn "})," (<2 ngày)"]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Dự án"})," ","sắp ",r.jsx("span",{className:"text-red-600 font-semibold",children:"đến hạn"})," (<15 ngày)"]}),children:r.jsx("div",{className:`space-y-6 ${n?o.length>=3?"h-80 overflow-y-auto":"overflow-visible":i.length>=3?"h-80 overflow-y-auto":"overflow-visible"}`,children:n?r.jsxs(r.Fragment,{children:[o.map((p,g)=>{const x=f(new Date(p.exp_end_date));return r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center space-x-3",children:r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:p.subject}),r.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${u(p.priority)}`,children:p.priority})]}),r.jsx("div",{className:"mt-1",children:r.jsx("span",{className:`text-xs font-medium ${x.color}`,children:x.text})})]})}),r.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[r.jsx(an,{className:"h-4 w-4 mr-1"}),h(new Date(p.exp_end_date))]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Progress"}),r.jsxs("span",{className:"font-medium",children:[p.progress||0,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full ${p.status==="Completed"?"bg-green-500":p.status==="Working"?"bg-blue-500":"bg-gray-300"}`,style:{width:`${p.progress||0}%`}})})]})]},`task-${g}`)}),o.length===0&&r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(an,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),r.jsx("p",{children:"Không có task nào sắp đến hạn"})]})]}):r.jsxs(r.Fragment,{children:[i.map(p=>{const g=f(p.endDate);return r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center space-x-3",children:r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:p.name}),r.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${u(p.priority)}`,children:p.priority})]}),r.jsx("div",{className:"mt-1",children:r.jsx("span",{className:`text-xs font-medium ${g.color}`,children:g.text})})]})}),r.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[r.jsx(an,{className:"h-4 w-4 mr-1"}),h(p.endDate)]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Progress"}),r.jsxs("span",{className:"font-medium",children:[p.progress,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full ${c(p.status)}`,style:{width:`${p.progress}%`}})})]})]},p.id)}),i.length===0&&r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(an,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),r.jsx("p",{children:"Không có dự án nào sắp đến hạn"})]})]})})})})},nB=({projects:e,tasks:t,selectedProject:s})=>{const[n,i]=N.useState(null),[o,c]=N.useState(!0),u=j=>{i(v=>v===j?null:j)},h=s&&s!=="all",p=(()=>{if(h){const j={open:{projects:[],color:"#3b82f6",lightColor:"#60a5fa",darkColor:"#1d4ed8",label:"Open",height:30},working:{projects:[],color:"#f59e0b",lightColor:"#fbbf24",darkColor:"#d97706",label:"Working",height:25},completed:{projects:[],color:"#22c55e",lightColor:"#4ade80",darkColor:"#15803d",label:"Completed",height:20},overdue:{projects:[],color:"#ef4444",lightColor:"#f87171",darkColor:"#dc2626",label:"Overdue",height:40},cancelled:{projects:[],color:"#6b7280",lightColor:"#9ca3af",darkColor:"#4b5563",label:"Cancelled",height:35}};return t.forEach(v=>{const T=new Date;v.exp_end_date&&new Date(v.exp_end_date)<T&&v.status!=="Completed"&&v.status!=="Cancelled"?j.overdue.projects.push(v):v.status==="Completed"?j.completed.projects.push(v):v.status==="Working"?j.working.projects.push(v):v.status==="Cancelled"?j.cancelled.projects.push(v):j.open.projects.push(v)}),j}else{const j={open:{projects:[],color:"#3b82f6",lightColor:"#60a5fa",darkColor:"#1d4ed8",label:"Đang mở",height:30},completed:{projects:[],color:"#22c55e",lightColor:"#4ade80",darkColor:"#15803d",label:"Hoàn thành",height:20},cancelled:{projects:[],color:"#ef4444",lightColor:"#f87171",darkColor:"#dc2626",label:"Đã hủy",height:40}};return e.forEach(v=>{v.status==="Completed"||v.status==="Hoàn thành"?j.completed.projects.push(v):v.status==="Cancelled"||v.status==="Canceled"||v.status==="Hủy"?j.cancelled.projects.push(v):j.open.projects.push(v)}),j}})(),g=h?t.length:e.length,x=j=>{const v={Urgent:4,High:3,Medium:2,Low:1};return j.sort((T,_)=>{const R=v[T.priority]||0;return(v[_.priority]||0)-R})};Object.values(p).forEach(j=>{j.projects=x(j.projects)});const b=()=>{const[j,v]=ae.useState({visible:!1,x:0,y:0,categoryKey:""}),T=360,_=T/2,R=T/2,S=170;let C=0;const D=Object.entries(p).filter(([,O])=>O.projects.length>0),k=(O,X)=>{const I=X.clientX,Q=X.clientY;v({visible:!0,x:I+15,y:Q-10,categoryKey:O})},B=(O,X)=>{if(j.visible&&j.categoryKey===O){const I=X.clientX,Q=X.clientY;v(W=>oe(L({},W),{x:I+15,y:Q-10}))}},F=()=>{v({visible:!1,x:0,y:0,categoryKey:""})};return r.jsxs("div",{className:"relative flex flex-col items-center",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-6 text-center max-w-xs",children:h?"Biểu đồ phân bố Tasks theo trạng thái":"Biểu đồ phân bố dự án theo trạng thái"}),r.jsx("div",{className:"relative",style:{width:T,height:T},children:r.jsxs("svg",{width:T,height:T,className:"absolute top-0 left-0",children:[r.jsx("defs",{children:r.jsx("filter",{id:"dropshadow2d",x:"-20%",y:"-20%",width:"140%",height:"140%",children:r.jsx("feDropShadow",{dx:"2",dy:"4",stdDeviation:"4",floodOpacity:"0.2"})})}),(C=0,D.map(([O,X])=>{const I=X.projects.length/g*100,Q=C,W=C+I/100*360;C=W;const Y=Q*Math.PI/180,H=W*Math.PI/180,z=(Q+W)/2*Math.PI/180,Z=_+S*Math.cos(Y),te=R+S*Math.sin(Y),ue=_+S*Math.cos(H),M=R+S*Math.sin(H),ie=W-Q>180?1:0,ne=D.length===1;let V;ne?V=`M ${_} ${R+S} A ${S} ${S} 0 1 1 ${_} ${R-S} A ${S} ${S} 0 1 1 ${_} ${R+S} Z`:V=[`M ${_} ${R}`,`L ${Z} ${te}`,`A ${S} ${S} 0 ${ie} 1 ${ue} ${M}`,"Z"].join(" ");const J=S*.7,xe=ne?_:_+J*Math.cos(z),fe=ne?R:R+J*Math.sin(z);return r.jsxs("g",{children:[r.jsx("path",{d:V,fill:X.color,stroke:"white",strokeWidth:"2",filter:"url(#dropshadow2d)",className:"hover:opacity-80 transition-opacity cursor-pointer",onMouseEnter:Ee=>k(O,Ee),onMouseMove:Ee=>B(O,Ee),onMouseLeave:F}),I>5&&r.jsxs("text",{x:xe,y:fe,textAnchor:"middle",dominantBaseline:"middle",className:"text-xs font-bold fill-white pointer-events-none",style:{textShadow:"1px 1px 2px rgba(0,0,0,0.5)"},children:[Math.round(I),"%"]})]},`segment-${O}`)}))]})}),j.visible&&j.categoryKey&&p[j.categoryKey]&&r.jsxs("div",{className:"fixed z-50 bg-white border border-gray-200 rounded-lg shadow-lg p-4 max-w-xs pointer-events-none",style:{left:j.x,top:j.y,transform:"translate(-50%, -100%)"},children:[r.jsxs("div",{className:"font-semibold text-gray-800 mb-2 flex items-center",children:[r.jsx("div",{className:"w-3 h-3 rounded mr-2",style:{backgroundColor:p[j.categoryKey].color}}),p[j.categoryKey].label," (",p[j.categoryKey].projects.length,")"]}),r.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:p[j.categoryKey].projects.map((O,X)=>r.jsxs("div",{className:"text-xs border-b border-gray-100 pb-1 last:border-b-0",children:[r.jsx("div",{className:"font-medium text-gray-700",children:h?O.subject:O.project_name}),r.jsxs("div",{className:"text-gray-500 flex justify-between",children:[r.jsx("span",{children:h?`${O.progress||0}% hoàn thành`:`${O.percent_complete}% hoàn thành`}),r.jsxs("span",{className:"font-medium",children:["Priority: ",O.priority]})]})]},X))})]})]})};return r.jsx(CS,{title:r.jsx("div",{className:"flex items-center justify-between w-full cursor-pointer hover:bg-gray-50 -m-2 p-2 rounded-md transition-colors",onClick:()=>c(!o),children:r.jsx("div",{className:"flex items-center",children:r.jsx("span",{children:h?r.jsxs(r.Fragment,{children:["Tổng quan ",r.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Tasks"})]}):r.jsxs(r.Fragment,{children:["Tổng quan ",r.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"dự án"})]})})})}),children:o&&r.jsx("div",{children:g===0?r.jsx("div",{className:"flex flex-col items-center justify-center py-16",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-8xl text-gray-300 mb-6",children:"📊"}),r.jsx("p",{className:"text-xl font-medium text-gray-600 mb-3",children:h?"Không có task nào":"Không có dự án nào"}),r.jsx("p",{className:"text-base text-gray-500 max-w-md",children:h?"Không có task nào đang thực hiện trong dự án này":"Không có dự án nào đang thực hiện"})]})}):r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsx("div",{className:"flex flex-col items-center",children:r.jsx(b,{})}),r.jsx("div",{className:"space-y-4",children:Object.entries(p).map(([j,v])=>v.projects.length>0&&r.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[r.jsxs("button",{onClick:()=>u(j),className:"w-full px-4 py-3 bg-gray-50 hover:bg-gray-100 transition-colors flex items-center justify-between border-l-4",style:{borderLeftColor:v.color},children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-3 h-3 rounded-full mr-3",style:{backgroundColor:v.color}}),r.jsxs("h4",{className:"font-semibold text-gray-800",children:[v.label," (",v.projects.length,")"]})]}),r.jsx("div",{className:"flex items-center",children:r.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform duration-200 ${n===j?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),r.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${n===j?"max-h-96":"max-h-0"}`,children:r.jsx("div",{className:"p-4 space-y-2 max-h-80 overflow-y-auto",children:v.projects.map(T=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md hover:bg-gray-100 transition-colors",children:[r.jsx("div",{className:"flex-1 min-w-0",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:h?T.subject:T.project_name}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ml-2 flex-shrink-0 ${T.priority==="Urgent"?"bg-red-100 text-red-800":T.priority==="High"?"bg-orange-100 text-orange-800":T.priority==="Medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:T.priority})]})}),r.jsx("div",{className:"flex flex-col items-end ml-3",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-12 bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(h?T.progress||0:T.percent_complete||0,100)}%`,backgroundColor:(()=>{const _=h?T.progress||0:T.percent_complete||0;return _>=100?"#22c55e":_>=70?"#3b82f6":_>=30?"#f59e0b":"#ef4444"})()}})}),r.jsxs("span",{className:"text-xs font-semibold text-gray-600 min-w-[35px] text-right",children:[h?T.progress||0:T.percent_complete||0,"%"]})]})})]},T.name))})})]},j))})]})})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function bd(e){return e+.5|0}const Ri=(e,t,s)=>Math.max(Math.min(e,s),t);function Fu(e){return Ri(bd(e*2.55),0,255)}function Li(e){return Ri(bd(e*255),0,255)}function Wr(e){return Ri(bd(e/2.55)/100,0,1)}function mN(e){return Ri(bd(e*100),0,100)}const va={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},fx=[..."0123456789ABCDEF"],aB=e=>fx[e&15],rB=e=>fx[(e&240)>>4]+fx[e&15],Zf=e=>(e&240)>>4===(e&15),iB=e=>Zf(e.r)&&Zf(e.g)&&Zf(e.b)&&Zf(e.a);function oB(e){var t=e.length,s;return e[0]==="#"&&(t===4||t===5?s={r:255&va[e[1]]*17,g:255&va[e[2]]*17,b:255&va[e[3]]*17,a:t===5?va[e[4]]*17:255}:(t===7||t===9)&&(s={r:va[e[1]]<<4|va[e[2]],g:va[e[3]]<<4|va[e[4]],b:va[e[5]]<<4|va[e[6]],a:t===9?va[e[7]]<<4|va[e[8]]:255})),s}const lB=(e,t)=>e<255?t(e):"";function cB(e){var t=iB(e)?aB:rB;return e?"#"+t(e.r)+t(e.g)+t(e.b)+lB(e.a,t):void 0}const uB=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ES(e,t,s){const n=t*Math.min(s,1-s),i=(o,c=(o+e/30)%12)=>s-n*Math.max(Math.min(c-3,9-c,1),-1);return[i(0),i(8),i(4)]}function dB(e,t,s){const n=(i,o=(i+e/60)%6)=>s-s*t*Math.max(Math.min(o,4-o,1),0);return[n(5),n(3),n(1)]}function fB(e,t,s){const n=ES(e,1,.5);let i;for(t+s>1&&(i=1/(t+s),t*=i,s*=i),i=0;i<3;i++)n[i]*=1-t-s,n[i]+=t;return n}function hB(e,t,s,n,i){return e===i?(t-s)/n+(t<s?6:0):t===i?(s-e)/n+2:(e-t)/n+4}function ky(e){const s=e.r/255,n=e.g/255,i=e.b/255,o=Math.max(s,n,i),c=Math.min(s,n,i),u=(o+c)/2;let h,f,p;return o!==c&&(p=o-c,f=u>.5?p/(2-o-c):p/(o+c),h=hB(s,n,i,p,o),h=h*60+.5),[h|0,f||0,u]}function Dy(e,t,s,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,s,n)).map(Li)}function Ay(e,t,s){return Dy(ES,e,t,s)}function mB(e,t,s){return Dy(fB,e,t,s)}function pB(e,t,s){return Dy(dB,e,t,s)}function kS(e){return(e%360+360)%360}function gB(e){const t=uB.exec(e);let s=255,n;if(!t)return;t[5]!==n&&(s=t[6]?Fu(+t[5]):Li(+t[5]));const i=kS(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?n=mB(i,o,c):t[1]==="hsv"?n=pB(i,o,c):n=Ay(i,o,c),{r:n[0],g:n[1],b:n[2],a:s}}function xB(e,t){var s=ky(e);s[0]=kS(s[0]+t),s=Ay(s),e.r=s[0],e.g=s[1],e.b=s[2]}function yB(e){if(!e)return;const t=ky(e),s=t[0],n=mN(t[1]),i=mN(t[2]);return e.a<255?`hsla(${s}, ${n}%, ${i}%, ${Wr(e.a)})`:`hsl(${s}, ${n}%, ${i}%)`}const pN={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},gN={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function bB(){const e={},t=Object.keys(gN),s=Object.keys(pN);let n,i,o,c,u;for(n=0;n<t.length;n++){for(c=u=t[n],i=0;i<s.length;i++)o=s[i],u=u.replace(o,pN[o]);o=parseInt(gN[c],16),e[u]=[o>>16&255,o>>8&255,o&255]}return e}let Jf;function vB(e){Jf||(Jf=bB(),Jf.transparent=[0,0,0,0]);const t=Jf[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const wB=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function jB(e){const t=wB.exec(e);let s=255,n,i,o;if(t){if(t[7]!==n){const c=+t[7];s=t[8]?Fu(c):Ri(c*255,0,255)}return n=+t[1],i=+t[3],o=+t[5],n=255&(t[2]?Fu(n):Ri(n,0,255)),i=255&(t[4]?Fu(i):Ri(i,0,255)),o=255&(t[6]?Fu(o):Ri(o,0,255)),{r:n,g:i,b:o,a:s}}}function NB(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Wr(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const u0=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Hl=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function _B(e,t,s){const n=Hl(Wr(e.r)),i=Hl(Wr(e.g)),o=Hl(Wr(e.b));return{r:Li(u0(n+s*(Hl(Wr(t.r))-n))),g:Li(u0(i+s*(Hl(Wr(t.g))-i))),b:Li(u0(o+s*(Hl(Wr(t.b))-o))),a:e.a+s*(t.a-e.a)}}function eh(e,t,s){if(e){let n=ky(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*s,t===0?360:1)),n=Ay(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function DS(e,t){return e&&Object.assign(t||{},e)}function xN(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Li(e[3]))):(t=DS(e,{r:0,g:0,b:0,a:1}),t.a=Li(t.a)),t}function TB(e){return e.charAt(0)==="r"?jB(e):gB(e)}class sd{constructor(t){if(t instanceof sd)return t;const s=typeof t;let n;s==="object"?n=xN(t):s==="string"&&(n=oB(t)||vB(t)||TB(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=DS(this._rgb);return t&&(t.a=Wr(t.a)),t}set rgb(t){this._rgb=xN(t)}rgbString(){return this._valid?NB(this._rgb):void 0}hexString(){return this._valid?cB(this._rgb):void 0}hslString(){return this._valid?yB(this._rgb):void 0}mix(t,s){if(t){const n=this.rgb,i=t.rgb;let o;const c=s===o?.5:s,u=2*c-1,h=n.a-i.a,f=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;o=1-f,n.r=255&f*n.r+o*i.r+.5,n.g=255&f*n.g+o*i.g+.5,n.b=255&f*n.b+o*i.b+.5,n.a=c*n.a+(1-c)*i.a,this.rgb=n}return this}interpolate(t,s){return t&&(this._rgb=_B(this._rgb,t._rgb,s)),this}clone(){return new sd(this.rgb)}alpha(t){return this._rgb.a=Li(t),this}clearer(t){const s=this._rgb;return s.a*=1-t,this}greyscale(){const t=this._rgb,s=bd(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=s,this}opaquer(t){const s=this._rgb;return s.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return eh(this._rgb,2,t),this}darken(t){return eh(this._rgb,2,-t),this}saturate(t){return eh(this._rgb,1,t),this}desaturate(t){return eh(this._rgb,1,-t),this}rotate(t){return xB(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Hr(){}const SB=(()=>{let e=0;return()=>e++})();function Ds(e){return e==null}function fn(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function ns(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Aa(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function rr(e,t){return Aa(e)?e:t}function us(e,t){return typeof e=="undefined"?t:e}const CB=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function js(e,t,s){if(e&&typeof e.call=="function")return e.apply(s,t)}function cs(e,t,s,n){let i,o,c;if(fn(e))for(o=e.length,i=0;i<o;i++)t.call(s,e[i],i);else if(ns(e))for(c=Object.keys(e),o=c.length,i=0;i<o;i++)t.call(s,e[c[i]],c[i])}function Wh(e,t){let s,n,i,o;if(!e||!t||e.length!==t.length)return!1;for(s=0,n=e.length;s<n;++s)if(i=e[s],o=t[s],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function Yh(e){if(fn(e))return e.map(Yh);if(ns(e)){const t=Object.create(null),s=Object.keys(e),n=s.length;let i=0;for(;i<n;++i)t[s[i]]=Yh(e[s[i]]);return t}return e}function AS(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function EB(e,t,s,n){if(!AS(e))return;const i=t[e],o=s[e];ns(i)&&ns(o)?nd(i,o,n):t[e]=Yh(o)}function nd(e,t,s){const n=fn(t)?t:[t],i=n.length;if(!ns(e))return e;s=s||{};const o=s.merger||EB;let c;for(let u=0;u<i;++u){if(c=n[u],!ns(c))continue;const h=Object.keys(c);for(let f=0,p=h.length;f<p;++f)o(h[f],e,c,s)}return e}function $u(e,t){return nd(e,t,{merger:kB})}function kB(e,t,s){if(!AS(e))return;const n=t[e],i=s[e];ns(n)&&ns(i)?$u(n,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Yh(i))}const yN={"":e=>e,x:e=>e.x,y:e=>e.y};function DB(e){const t=e.split("."),s=[];let n="";for(const i of t)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}function AB(e){const t=DB(e);return s=>{for(const n of t){if(n==="")break;s=s&&s[n]}return s}}function Gh(e,t){return(yN[t]||(yN[t]=AB(t)))(e)}function Oy(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Xh=e=>typeof e!="undefined",qi=e=>typeof e=="function",bN=(e,t)=>{if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0};function OB(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Ns=Math.PI,Mn=2*Ns,Kh=Number.POSITIVE_INFINITY,RB=Ns/180,yn=Ns/2,To=Ns/4,vN=Ns*2/3,OS=Math.log10,Qh=Math.sign;function Dh(e,t,s){return Math.abs(e-t)<s}function wN(e){const t=Math.round(e);e=Dh(e,t,e/1e3)?t:e;const s=Math.pow(10,Math.floor(OS(e))),n=e/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function MB(e){const t=[],s=Math.sqrt(e);let n;for(n=1;n<s;n++)e%n===0&&(t.push(n),t.push(e/n));return s===(s|0)&&t.push(s),t.sort((i,o)=>i-o).pop(),t}function PB(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Zh(e){return!PB(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function LB(e,t){const s=Math.round(e);return s-t<=e&&s+t>=e}function BB(e,t,s){let n,i,o;for(n=0,i=e.length;n<i;n++)o=e[n][s],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Lo(e){return e*(Ns/180)}function FB(e){return e*(180/Ns)}function jN(e){if(!Aa(e))return;let t=1,s=0;for(;Math.round(e*t)/t!==e;)t*=10,s++;return s}function RS(e,t){const s=t.x-e.x,n=t.y-e.y,i=Math.sqrt(s*s+n*n);let o=Math.atan2(n,s);return o<-.5*Ns&&(o+=Mn),{angle:o,distance:i}}function UB(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function lr(e){return(e%Mn+Mn)%Mn}function MS(e,t,s,n){const i=lr(e),o=lr(t),c=lr(s),u=lr(o-i),h=lr(c-i),f=lr(i-o),p=lr(i-c);return i===o||i===c||n&&o===c||u>h&&f<p}function Xn(e,t,s){return Math.max(t,Math.min(s,e))}function zB(e){return Xn(e,-32768,32767)}function Bo(e,t,s,n=1e-6){return e>=Math.min(t,s)-n&&e<=Math.max(t,s)+n}function Ry(e,t,s){s=s||(c=>e[c]<t);let n=e.length-1,i=0,o;for(;n-i>1;)o=i+n>>1,s(o)?i=o:n=o;return{lo:i,hi:n}}const hx=(e,t,s,n)=>Ry(e,s,n?i=>{const o=e[i][t];return o<s||o===s&&e[i+1][t]===s}:i=>e[i][t]<s),HB=(e,t,s)=>Ry(e,s,n=>e[n][t]>=s);function $B(e,t,s){let n=0,i=e.length;for(;n<i&&e[n]<t;)n++;for(;i>n&&e[i-1]>s;)i--;return n>0||i<e.length?e.slice(n,i):e}const PS=["push","pop","shift","splice","unshift"];function VB(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),PS.forEach(s=>{const n="_onData"+Oy(s),i=e[s];Object.defineProperty(e,s,{configurable:!0,enumerable:!1,value(...o){const c=i.apply(this,o);return e._chartjs.listeners.forEach(u=>{typeof u[n]=="function"&&u[n](...o)}),c}})})}function NN(e,t){const s=e._chartjs;if(!s)return;const n=s.listeners,i=n.indexOf(t);i!==-1&&n.splice(i,1),!(n.length>0)&&(PS.forEach(o=>{delete e[o]}),delete e._chartjs)}function IB(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const LS=function(){return typeof window=="undefined"?function(e){return e()}:window.requestAnimationFrame}();function BS(e,t){let s=[],n=!1;return function(...i){s=i,n||(n=!0,LS.call(window,()=>{n=!1,e.apply(t,s)}))}}function qB(e,t){let s;return function(...n){return t?(clearTimeout(s),s=setTimeout(e,t,n)):e.apply(this,n),t}}const My=e=>e==="start"?"left":e==="end"?"right":"center",Cn=(e,t,s)=>e==="start"?t:e==="end"?s:(t+s)/2,WB=(e,t,s,n)=>e===(n?"left":"right")?s:e==="center"?(t+s)/2:t,th=e=>e===0||e===1,_N=(e,t,s)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Mn/s)),TN=(e,t,s)=>Math.pow(2,-10*e)*Math.sin((e-t)*Mn/s)+1,Vu={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*yn)+1,easeOutSine:e=>Math.sin(e*yn),easeInOutSine:e=>-.5*(Math.cos(Ns*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>th(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>th(e)?e:_N(e,.075,.3),easeOutElastic:e=>th(e)?e:TN(e,.075,.3),easeInOutElastic(e){return th(e)?e:e<.5?.5*_N(e*2,.1125,.45):.5+.5*TN(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Vu.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Vu.easeInBounce(e*2)*.5:Vu.easeOutBounce(e*2-1)*.5+.5};function FS(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function SN(e){return FS(e)?e:new sd(e)}function d0(e){return FS(e)?e:new sd(e).saturate(.5).darken(.1).hexString()}const YB=["x","y","borderWidth","radius","tension"],GB=["color","borderColor","backgroundColor"];function XB(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:GB},numbers:{type:"number",properties:YB}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function KB(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const CN=new Map;function QB(e,t){t=t||{};const s=e+JSON.stringify(t);let n=CN.get(s);return n||(n=new Intl.NumberFormat(e,t),CN.set(s,n)),n}function US(e,t,s){return QB(t,s).format(e)}const ZB={values(e){return fn(e)?e:""+e},numeric(e,t,s){if(e===0)return"0";const n=this.chart.options.locale;let i,o=e;if(s.length>1){const f=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(f<1e-4||f>1e15)&&(i="scientific"),o=JB(e,s)}const c=OS(Math.abs(o)),u=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),h={notation:i,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(h,this.options.ticks.format),US(e,n,h)}};function JB(e,t){let s=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(s)>=1&&e!==Math.floor(e)&&(s=e-Math.floor(e)),s}var zS={formatters:ZB};function e8(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,s)=>s.lineWidth,tickColor:(t,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:zS.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Io=Object.create(null),mx=Object.create(null);function Iu(e,t){if(!t)return e;const s=t.split(".");for(let n=0,i=s.length;n<i;++n){const o=s[n];e=e[o]||(e[o]=Object.create(null))}return e}function f0(e,t,s){return typeof t=="string"?nd(Iu(e,t),s):nd(Iu(e,""),t)}class t8{constructor(t,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>d0(i.backgroundColor),this.hoverBorderColor=(n,i)=>d0(i.borderColor),this.hoverColor=(n,i)=>d0(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(s)}set(t,s){return f0(this,t,s)}get(t){return Iu(this,t)}describe(t,s){return f0(mx,t,s)}override(t,s){return f0(Io,t,s)}route(t,s,n,i){const o=Iu(this,t),c=Iu(this,n),u="_"+s;Object.defineProperties(o,{[u]:{value:o[s],writable:!0},[s]:{enumerable:!0,get(){const h=this[u],f=c[i];return ns(h)?Object.assign({},f,h):us(h,f)},set(h){this[u]=h}}})}apply(t){t.forEach(s=>s(this))}}var $s=new t8({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[XB,KB,e8]);function s8(e){return!e||Ds(e.size)||Ds(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function EN(e,t,s,n,i){let o=t[i];return o||(o=t[i]=e.measureText(i).width,s.push(i)),o>n&&(n=o),n}function So(e,t,s){const n=e.currentDevicePixelRatio,i=s!==0?Math.max(s/2,.5):0;return Math.round((t-i)*n)/n+i}function kN(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function DN(e,t,s,n){HS(e,t,s,n,null)}function HS(e,t,s,n,i){let o,c,u,h,f,p,g,x;const b=t.pointStyle,j=t.rotation,v=t.radius;let T=(j||0)*RB;if(b&&typeof b=="object"&&(o=b.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(s,n),e.rotate(T),e.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),e.restore();return}if(!(isNaN(v)||v<=0)){switch(e.beginPath(),b){default:i?e.ellipse(s,n,i/2,v,0,0,Mn):e.arc(s,n,v,0,Mn),e.closePath();break;case"triangle":p=i?i/2:v,e.moveTo(s+Math.sin(T)*p,n-Math.cos(T)*v),T+=vN,e.lineTo(s+Math.sin(T)*p,n-Math.cos(T)*v),T+=vN,e.lineTo(s+Math.sin(T)*p,n-Math.cos(T)*v),e.closePath();break;case"rectRounded":f=v*.516,h=v-f,c=Math.cos(T+To)*h,g=Math.cos(T+To)*(i?i/2-f:h),u=Math.sin(T+To)*h,x=Math.sin(T+To)*(i?i/2-f:h),e.arc(s-g,n-u,f,T-Ns,T-yn),e.arc(s+x,n-c,f,T-yn,T),e.arc(s+g,n+u,f,T,T+yn),e.arc(s-x,n+c,f,T+yn,T+Ns),e.closePath();break;case"rect":if(!j){h=Math.SQRT1_2*v,p=i?i/2:h,e.rect(s-p,n-h,2*p,2*h);break}T+=To;case"rectRot":g=Math.cos(T)*(i?i/2:v),c=Math.cos(T)*v,u=Math.sin(T)*v,x=Math.sin(T)*(i?i/2:v),e.moveTo(s-g,n-u),e.lineTo(s+x,n-c),e.lineTo(s+g,n+u),e.lineTo(s-x,n+c),e.closePath();break;case"crossRot":T+=To;case"cross":g=Math.cos(T)*(i?i/2:v),c=Math.cos(T)*v,u=Math.sin(T)*v,x=Math.sin(T)*(i?i/2:v),e.moveTo(s-g,n-u),e.lineTo(s+g,n+u),e.moveTo(s+x,n-c),e.lineTo(s-x,n+c);break;case"star":g=Math.cos(T)*(i?i/2:v),c=Math.cos(T)*v,u=Math.sin(T)*v,x=Math.sin(T)*(i?i/2:v),e.moveTo(s-g,n-u),e.lineTo(s+g,n+u),e.moveTo(s+x,n-c),e.lineTo(s-x,n+c),T+=To,g=Math.cos(T)*(i?i/2:v),c=Math.cos(T)*v,u=Math.sin(T)*v,x=Math.sin(T)*(i?i/2:v),e.moveTo(s-g,n-u),e.lineTo(s+g,n+u),e.moveTo(s+x,n-c),e.lineTo(s-x,n+c);break;case"line":c=i?i/2:Math.cos(T)*v,u=Math.sin(T)*v,e.moveTo(s-c,n-u),e.lineTo(s+c,n+u);break;case"dash":e.moveTo(s,n),e.lineTo(s+Math.cos(T)*(i?i/2:v),n+Math.sin(T)*v);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function $S(e,t,s){return s=s||.5,!t||e&&e.x>t.left-s&&e.x<t.right+s&&e.y>t.top-s&&e.y<t.bottom+s}function Py(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Ly(e){e.restore()}function n8(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Ds(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function a8(e,t,s,n,i){if(i.strikethrough||i.underline){const o=e.measureText(n),c=t-o.actualBoundingBoxLeft,u=t+o.actualBoundingBoxRight,h=s-o.actualBoundingBoxAscent,f=s+o.actualBoundingBoxDescent,p=i.strikethrough?(h+f)/2:f;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(c,p),e.lineTo(u,p),e.stroke()}}function r8(e,t){const s=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=s}function ad(e,t,s,n,i,o={}){const c=fn(t)?t:[t],u=o.strokeWidth>0&&o.strokeColor!=="";let h,f;for(e.save(),e.font=i.string,n8(e,o),h=0;h<c.length;++h)f=c[h],o.backdrop&&r8(e,o.backdrop),u&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),Ds(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(f,s,n,o.maxWidth)),e.fillText(f,s,n,o.maxWidth),a8(e,s,n,f,o),n+=Number(i.lineHeight);e.restore()}function Jh(e,t){const{x:s,y:n,w:i,h:o,radius:c}=t;e.arc(s+c.topLeft,n+c.topLeft,c.topLeft,1.5*Ns,Ns,!0),e.lineTo(s,n+o-c.bottomLeft),e.arc(s+c.bottomLeft,n+o-c.bottomLeft,c.bottomLeft,Ns,yn,!0),e.lineTo(s+i-c.bottomRight,n+o),e.arc(s+i-c.bottomRight,n+o-c.bottomRight,c.bottomRight,yn,0,!0),e.lineTo(s+i,n+c.topRight),e.arc(s+i-c.topRight,n+c.topRight,c.topRight,0,-yn,!0),e.lineTo(s+c.topLeft,n)}const i8=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,o8=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function l8(e,t){const s=(""+e).match(i8);if(!s||s[1]==="normal")return t*1.2;switch(e=+s[2],s[3]){case"px":return e;case"%":e/=100;break}return t*e}const c8=e=>+e||0;function By(e,t){const s={},n=ns(t),i=n?Object.keys(t):t,o=ns(e)?n?c=>us(e[c],e[t[c]]):c=>e[c]:()=>e;for(const c of i)s[c]=c8(o(c));return s}function VS(e){return By(e,{top:"y",right:"x",bottom:"y",left:"x"})}function ec(e){return By(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Oa(e){const t=VS(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function kn(e,t){e=e||{},t=t||$s.font;let s=us(e.size,t.size);typeof s=="string"&&(s=parseInt(s,10));let n=us(e.style,t.style);n&&!(""+n).match(o8)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:us(e.family,t.family),lineHeight:l8(us(e.lineHeight,t.lineHeight),s),size:s,style:n,weight:us(e.weight,t.weight),string:""};return i.string=s8(i),i}function sh(e,t,s,n){let i,o,c;for(i=0,o=e.length;i<o;++i)if(c=e[i],c!==void 0&&c!==void 0)return c}function u8(e,t,s){const{min:n,max:i}=e,o=CB(t,(i-n)/2),c=(u,h)=>s&&u===0?0:u+h;return{min:c(n,-Math.abs(o)),max:c(i,o)}}function xc(e,t){return Object.assign(Object.create(e),t)}function Fy(e,t=[""],s,n,i=()=>e[0]){const o=s||e;typeof n=="undefined"&&(n=YS("_fallback",e));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:n,_getTarget:i,override:u=>Fy([u,...e],t,o,n)};return new Proxy(c,{deleteProperty(u,h){return delete u[h],delete u._keys,delete e[0][h],!0},get(u,h){return qS(u,h,()=>y8(h,t,e,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(u,h){return ON(u).includes(h)},ownKeys(u){return ON(u)},set(u,h,f){const p=u._storage||(u._storage=i());return u[h]=p[h]=f,delete u._keys,!0}})}function ic(e,t,s,n){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:s,_stack:new Set,_descriptors:IS(e,n),setContext:o=>ic(e,o,s,n),override:o=>ic(e.override(o),t,s,n)};return new Proxy(i,{deleteProperty(o,c){return delete o[c],delete e[c],!0},get(o,c,u){return qS(o,c,()=>f8(o,c,u))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(e,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,c)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,c){return Reflect.has(e,c)},ownKeys(){return Reflect.ownKeys(e)},set(o,c,u){return e[c]=u,delete o[c],!0}})}function IS(e,t={scriptable:!0,indexable:!0}){const{_scriptable:s=t.scriptable,_indexable:n=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:s,indexable:n,isScriptable:qi(s)?s:()=>s,isIndexable:qi(n)?n:()=>n}}const d8=(e,t)=>e?e+Oy(t):t,Uy=(e,t)=>ns(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function qS(e,t,s){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const n=s();return e[t]=n,n}function f8(e,t,s){const{_proxy:n,_context:i,_subProxy:o,_descriptors:c}=e;let u=n[t];return qi(u)&&c.isScriptable(t)&&(u=h8(t,u,e,s)),fn(u)&&u.length&&(u=m8(t,u,e,c.isIndexable)),Uy(t,u)&&(u=ic(u,i,o&&o[t],c)),u}function h8(e,t,s,n){const{_proxy:i,_context:o,_subProxy:c,_stack:u}=s;if(u.has(e))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+e);u.add(e);let h=t(o,c||n);return u.delete(e),Uy(e,h)&&(h=zy(i._scopes,i,e,h)),h}function m8(e,t,s,n){const{_proxy:i,_context:o,_subProxy:c,_descriptors:u}=s;if(typeof o.index!="undefined"&&n(e))return t[o.index%t.length];if(ns(t[0])){const h=t,f=i._scopes.filter(p=>p!==h);t=[];for(const p of h){const g=zy(f,i,e,p);t.push(ic(g,o,c&&c[e],u))}}return t}function WS(e,t,s){return qi(e)?e(t,s):e}const p8=(e,t)=>e===!0?t:typeof e=="string"?Gh(t,e):void 0;function g8(e,t,s,n,i){for(const o of t){const c=p8(s,o);if(c){e.add(c);const u=WS(c._fallback,s,i);if(typeof u!="undefined"&&u!==s&&u!==n)return u}else if(c===!1&&typeof n!="undefined"&&s!==n)return null}return!1}function zy(e,t,s,n){const i=t._rootScopes,o=WS(t._fallback,s,n),c=[...e,...i],u=new Set;u.add(n);let h=AN(u,c,s,o||s,n);return h===null||typeof o!="undefined"&&o!==s&&(h=AN(u,c,o,h,n),h===null)?!1:Fy(Array.from(u),[""],i,o,()=>x8(t,s,n))}function AN(e,t,s,n,i){for(;s;)s=g8(e,t,s,n,i);return s}function x8(e,t,s){const n=e._getTarget();t in n||(n[t]={});const i=n[t];return fn(i)&&ns(s)?s:i||{}}function y8(e,t,s,n){let i;for(const o of t)if(i=YS(d8(o,e),s),typeof i!="undefined")return Uy(e,i)?zy(s,n,e,i):i}function YS(e,t){for(const s of t){if(!s)continue;const n=s[e];if(typeof n!="undefined")return n}}function ON(e){let t=e._keys;return t||(t=e._keys=b8(e._scopes)),t}function b8(e){const t=new Set;for(const s of e)for(const n of Object.keys(s).filter(i=>!i.startsWith("_")))t.add(n);return Array.from(t)}function Hy(){return typeof window!="undefined"&&typeof document!="undefined"}function $y(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function em(e,t,s){let n;return typeof e=="string"?(n=parseInt(e,10),e.indexOf("%")!==-1&&(n=n/100*t.parentNode[s])):n=e,n}const _m=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function v8(e,t){return _m(e).getPropertyValue(t)}const w8=["top","right","bottom","left"];function Uo(e,t,s){const n={};s=s?"-"+s:"";for(let i=0;i<4;i++){const o=w8[i];n[o]=parseFloat(e[t+"-"+o+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const j8=(e,t,s)=>(e>0||t>0)&&(!s||!s.shadowRoot);function N8(e,t){const s=e.touches,n=s&&s.length?s[0]:e,{offsetX:i,offsetY:o}=n;let c=!1,u,h;if(j8(i,o,e.target))u=i,h=o;else{const f=t.getBoundingClientRect();u=n.clientX-f.left,h=n.clientY-f.top,c=!0}return{x:u,y:h,box:c}}function ko(e,t){if("native"in e)return e;const{canvas:s,currentDevicePixelRatio:n}=t,i=_m(s),o=i.boxSizing==="border-box",c=Uo(i,"padding"),u=Uo(i,"border","width"),{x:h,y:f,box:p}=N8(e,s),g=c.left+(p&&u.left),x=c.top+(p&&u.top);let{width:b,height:j}=t;return o&&(b-=c.width+u.width,j-=c.height+u.height),{x:Math.round((h-g)/b*s.width/n),y:Math.round((f-x)/j*s.height/n)}}function _8(e,t,s){let n,i;if(t===void 0||s===void 0){const o=e&&$y(e);if(!o)t=e.clientWidth,s=e.clientHeight;else{const c=o.getBoundingClientRect(),u=_m(o),h=Uo(u,"border","width"),f=Uo(u,"padding");t=c.width-f.width-h.width,s=c.height-f.height-h.height,n=em(u.maxWidth,o,"clientWidth"),i=em(u.maxHeight,o,"clientHeight")}}return{width:t,height:s,maxWidth:n||Kh,maxHeight:i||Kh}}const nh=e=>Math.round(e*10)/10;function T8(e,t,s,n){const i=_m(e),o=Uo(i,"margin"),c=em(i.maxWidth,e,"clientWidth")||Kh,u=em(i.maxHeight,e,"clientHeight")||Kh,h=_8(e,t,s);let{width:f,height:p}=h;if(i.boxSizing==="content-box"){const x=Uo(i,"border","width"),b=Uo(i,"padding");f-=b.width+x.width,p-=b.height+x.height}return f=Math.max(0,f-o.width),p=Math.max(0,n?f/n:p-o.height),f=nh(Math.min(f,c,h.maxWidth)),p=nh(Math.min(p,u,h.maxHeight)),f&&!p&&(p=nh(f/2)),(t!==void 0||s!==void 0)&&n&&h.height&&p>h.height&&(p=h.height,f=nh(Math.floor(p*n))),{width:f,height:p}}function RN(e,t,s){const n=t||1,i=Math.floor(e.height*n),o=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const c=e.canvas;return c.style&&(s||!c.style.height&&!c.style.width)&&(c.style.height=`${e.height}px`,c.style.width=`${e.width}px`),e.currentDevicePixelRatio!==n||c.height!==i||c.width!==o?(e.currentDevicePixelRatio=n,c.height=i,c.width=o,e.ctx.setTransform(n,0,0,n,0,0),!0):!1}const S8=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Hy()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(t){}return e}();function MN(e,t){const s=v8(e,t),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}const C8=function(e,t){return{x(s){return e+e+t-s},setWidth(s){t=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,n){return s-n},leftForLtr(s,n){return s-n}}},E8=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function tc(e,t,s){return e?C8(t,s):E8()}function GS(e,t){let s,n;(t==="ltr"||t==="rtl")&&(s=e.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",t,"important"),e.prevTextDirection=n)}function XS(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function ah(e,t,s){return e.options.clip?e[s]:t[s]}function k8(e,t){const{xScale:s,yScale:n}=e;return s&&n?{left:ah(s,t,"left"),right:ah(s,t,"right"),top:ah(n,t,"top"),bottom:ah(n,t,"bottom")}:t}function D8(e,t){const s=t._clip;if(s.disabled)return!1;const n=k8(t,e.chartArea);return{left:s.left===!1?0:n.left-(s.left===!0?0:s.left),right:s.right===!1?e.width:n.right+(s.right===!0?0:s.right),top:s.top===!1?0:n.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?e.height:n.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class A8{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,s,n,i){const o=s.listeners[i],c=s.duration;o.forEach(u=>u({chart:t,initial:s.initial,numSteps:c,currentStep:Math.min(n-s.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=LS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let s=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const o=n.items;let c=o.length-1,u=!1,h;for(;c>=0;--c)h=o[c],h._active?(h._total>n.duration&&(n.duration=h._total),h.tick(t),u=!0):(o[c]=o[o.length-1],o.pop());u&&(i.draw(),this._notify(i,n,t,"progress")),o.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),s+=o.length}),this._lastDate=t,s===0&&(this._running=!1)}_getAnims(t){const s=this._charts;let n=s.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(t,n)),n}listen(t,s,n){this._getAnims(t).listeners[s].push(n)}add(t,s){!s||!s.length||this._getAnims(t).items.push(...s)}has(t){return this._getAnims(t).items.length>0}start(t){const s=this._charts.get(t);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const s=this._charts.get(t);return!(!s||!s.running||!s.items.length)}stop(t){const s=this._charts.get(t);if(!s||!s.items.length)return;const n=s.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();s.items=[],this._notify(t,s,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Vr=new A8;const PN="transparent",O8={boolean(e,t,s){return s>.5?t:e},color(e,t,s){const n=SN(e||PN),i=n.valid&&SN(t||PN);return i&&i.valid?i.mix(n,s).hexString():t},number(e,t,s){return e+(t-e)*s}};class R8{constructor(t,s,n,i){const o=s[n];i=sh([t.to,i,o,t.from]);const c=sh([t.from,o,i]);this._active=!0,this._fn=t.fn||O8[t.type||typeof c],this._easing=Vu[t.easing]||Vu.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=s,this._prop=n,this._from=c,this._to=i,this._promises=void 0}active(){return this._active}update(t,s,n){if(this._active){this._notify(!1);const i=this._target[this._prop],o=n-this._start,c=this._duration-o;this._start=n,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=sh([t.to,s,i,t.from]),this._from=sh([t.from,i,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const s=t-this._start,n=this._duration,i=this._prop,o=this._from,c=this._loop,u=this._to;let h;if(this._active=o!==u&&(c||s<n),!this._active){this._target[i]=u,this._notify(!0);return}if(s<0){this._target[i]=o;return}h=s/n%2,h=c&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[i]=this._fn(o,u,h)}wait(){const t=this._promises||(this._promises=[]);return new Promise((s,n)=>{t.push({res:s,rej:n})})}_notify(t){const s=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][s]()}}class KS{constructor(t,s){this._chart=t,this._properties=new Map,this.configure(s)}configure(t){if(!ns(t))return;const s=Object.keys($s.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const o=t[i];if(!ns(o))return;const c={};for(const u of s)c[u]=o[u];(fn(o.properties)&&o.properties||[i]).forEach(u=>{(u===i||!n.has(u))&&n.set(u,c)})})}_animateOptions(t,s){const n=s.options,i=P8(t,n);if(!i)return[];const o=this._createAnimations(i,n);return n.$shared&&M8(t.options.$animations,n).then(()=>{t.options=n},()=>{}),o}_createAnimations(t,s){const n=this._properties,i=[],o=t.$animations||(t.$animations={}),c=Object.keys(s),u=Date.now();let h;for(h=c.length-1;h>=0;--h){const f=c[h];if(f.charAt(0)==="$")continue;if(f==="options"){i.push(...this._animateOptions(t,s));continue}const p=s[f];let g=o[f];const x=n.get(f);if(g)if(x&&g.active()){g.update(x,p,u);continue}else g.cancel();if(!x||!x.duration){t[f]=p;continue}o[f]=g=new R8(x,t,f,p),i.push(g)}return i}update(t,s){if(this._properties.size===0){Object.assign(t,s);return}const n=this._createAnimations(t,s);if(n.length)return Vr.add(this._chart,n),!0}}function M8(e,t){const s=[],n=Object.keys(t);for(let i=0;i<n.length;i++){const o=e[n[i]];o&&o.active()&&s.push(o.wait())}return Promise.all(s)}function P8(e,t){if(!t)return;let s=e.options;if(!s){e.options=t;return}return s.$shared&&(e.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function LN(e,t){const s=e&&e.options||{},n=s.reverse,i=s.min===void 0?t:0,o=s.max===void 0?t:0;return{start:n?o:i,end:n?i:o}}function L8(e,t,s){if(s===!1)return!1;const n=LN(e,s),i=LN(t,s);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function B8(e){let t,s,n,i;return ns(e)?(t=e.top,s=e.right,n=e.bottom,i=e.left):t=s=n=i=e,{top:t,right:s,bottom:n,left:i,disabled:e===!1}}function QS(e,t){const s=[],n=e._getSortedDatasetMetas(t);let i,o;for(i=0,o=n.length;i<o;++i)s.push(n[i].index);return s}function BN(e,t,s,n={}){const i=e.keys,o=n.mode==="single";let c,u,h,f;if(t===null)return;let p=!1;for(c=0,u=i.length;c<u;++c){if(h=+i[c],h===s){if(p=!0,n.all)continue;break}f=e.values[h],Aa(f)&&(o||t===0||Qh(t)===Qh(f))&&(t+=f)}return!p&&!n.all?0:t}function F8(e,t){const{iScale:s,vScale:n}=t,i=s.axis==="x"?"x":"y",o=n.axis==="x"?"x":"y",c=Object.keys(e),u=new Array(c.length);let h,f,p;for(h=0,f=c.length;h<f;++h)p=c[h],u[h]={[i]:p,[o]:e[p]};return u}function h0(e,t){const s=e&&e.options.stacked;return s||s===void 0&&t.stack!==void 0}function U8(e,t,s){return`${e.id}.${t.id}.${s.stack||s.type}`}function z8(e){const{min:t,max:s,minDefined:n,maxDefined:i}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:i?s:Number.POSITIVE_INFINITY}}function H8(e,t,s){const n=e[t]||(e[t]={});return n[s]||(n[s]={})}function FN(e,t,s,n){for(const i of t.getMatchingVisibleMetas(n).reverse()){const o=e[i.index];if(s&&o>0||!s&&o<0)return i.index}return null}function UN(e,t){const{chart:s,_cachedMeta:n}=e,i=s._stacks||(s._stacks={}),{iScale:o,vScale:c,index:u}=n,h=o.axis,f=c.axis,p=U8(o,c,n),g=t.length;let x;for(let b=0;b<g;++b){const j=t[b],{[h]:v,[f]:T}=j,_=j._stacks||(j._stacks={});x=_[f]=H8(i,p,v),x[u]=T,x._top=FN(x,c,!0,n.type),x._bottom=FN(x,c,!1,n.type);const R=x._visualValues||(x._visualValues={});R[u]=T}}function m0(e,t){const s=e.scales;return Object.keys(s).filter(n=>s[n].axis===t).shift()}function $8(e,t){return xc(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function V8(e,t,s){return xc(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:s,index:t,mode:"default",type:"data"})}function _u(e,t){const s=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const i of t){const o=i._stacks;if(!o||o[n]===void 0||o[n][s]===void 0)return;delete o[n][s],o[n]._visualValues!==void 0&&o[n]._visualValues[s]!==void 0&&delete o[n]._visualValues[s]}}}const p0=e=>e==="reset"||e==="none",zN=(e,t)=>t?e:Object.assign({},e),I8=(e,t,s)=>e&&!t.hidden&&t._stacked&&{keys:QS(s,!0),values:null};class Ah{constructor(t,s){this.chart=t,this._ctx=t.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=h0(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&_u(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,s=this._cachedMeta,n=this.getDataset(),i=(g,x,b,j)=>g==="x"?x:g==="r"?j:b,o=s.xAxisID=us(n.xAxisID,m0(t,"x")),c=s.yAxisID=us(n.yAxisID,m0(t,"y")),u=s.rAxisID=us(n.rAxisID,m0(t,"r")),h=s.indexAxis,f=s.iAxisID=i(h,o,c,u),p=s.vAxisID=i(h,c,o,u);s.xScale=this.getScaleForId(o),s.yScale=this.getScaleForId(c),s.rScale=this.getScaleForId(u),s.iScale=this.getScaleForId(f),s.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const s=this._cachedMeta;return t===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&NN(this._data,this),t._stacked&&_u(t)}_dataCheck(){const t=this.getDataset(),s=t.data||(t.data=[]),n=this._data;if(ns(s)){const i=this._cachedMeta;this._data=F8(s,i)}else if(n!==s){if(n){NN(n,this);const i=this._cachedMeta;_u(i),i._parsed=[]}s&&Object.isExtensible(s)&&VB(s,this),this._syncList=[],this._data=s}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const s=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const o=s._stacked;s._stacked=h0(s.vScale,s),s.stack!==n.stack&&(i=!0,_u(s),s.stack=n.stack),this._resyncElements(t),(i||o!==s._stacked)&&(UN(this,s._parsed),s._stacked=h0(s.vScale,s))}configure(){const t=this.chart.config,s=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),s,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,s){const{_cachedMeta:n,_data:i}=this,{iScale:o,_stacked:c}=n,u=o.axis;let h=t===0&&s===i.length?!0:n._sorted,f=t>0&&n._parsed[t-1],p,g,x;if(this._parsing===!1)n._parsed=i,n._sorted=!0,x=i;else{fn(i[t])?x=this.parseArrayData(n,i,t,s):ns(i[t])?x=this.parseObjectData(n,i,t,s):x=this.parsePrimitiveData(n,i,t,s);const b=()=>g[u]===null||f&&g[u]<f[u];for(p=0;p<s;++p)n._parsed[p+t]=g=x[p],h&&(b()&&(h=!1),f=g);n._sorted=h}c&&UN(this,x)}parsePrimitiveData(t,s,n,i){const{iScale:o,vScale:c}=t,u=o.axis,h=c.axis,f=o.getLabels(),p=o===c,g=new Array(i);let x,b,j;for(x=0,b=i;x<b;++x)j=x+n,g[x]={[u]:p||o.parse(f[j],j),[h]:c.parse(s[j],j)};return g}parseArrayData(t,s,n,i){const{xScale:o,yScale:c}=t,u=new Array(i);let h,f,p,g;for(h=0,f=i;h<f;++h)p=h+n,g=s[p],u[h]={x:o.parse(g[0],p),y:c.parse(g[1],p)};return u}parseObjectData(t,s,n,i){const{xScale:o,yScale:c}=t,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,f=new Array(i);let p,g,x,b;for(p=0,g=i;p<g;++p)x=p+n,b=s[x],f[p]={x:o.parse(Gh(b,u),x),y:c.parse(Gh(b,h),x)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,s,n){const i=this.chart,o=this._cachedMeta,c=s[t.axis],u={keys:QS(i,!0),values:s._stacks[t.axis]._visualValues};return BN(u,c,o.index,{mode:n})}updateRangeFromParsed(t,s,n,i){const o=n[s.axis];let c=o===null?NaN:o;const u=i&&n._stacks[s.axis];i&&u&&(i.values=u,c=BN(i,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,s){const n=this._cachedMeta,i=n._parsed,o=n._sorted&&t===n.iScale,c=i.length,u=this._getOtherScale(t),h=I8(s,n,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:g}=z8(u);let x,b;function j(){b=i[x];const v=b[u.axis];return!Aa(b[t.axis])||p>v||g<v}for(x=0;x<c&&!(!j()&&(this.updateRangeFromParsed(f,t,b,h),o));++x);if(o){for(x=c-1;x>=0;--x)if(!j()){this.updateRangeFromParsed(f,t,b,h);break}}return f}getAllParsedValues(t){const s=this._cachedMeta._parsed,n=[];let i,o,c;for(i=0,o=s.length;i<o;++i)c=s[i][t.axis],Aa(c)&&n.push(c);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const s=this._cachedMeta,n=s.iScale,i=s.vScale,o=this.getParsed(t);return{label:n?""+n.getLabelForValue(o[n.axis]):"",value:i?""+i.getLabelForValue(o[i.axis]):""}}_update(t){const s=this._cachedMeta;this.update(t||"default"),s._clip=B8(us(this.options.clip,L8(s.xScale,s.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,s=this.chart,n=this._cachedMeta,i=n.data||[],o=s.chartArea,c=[],u=this._drawStart||0,h=this._drawCount||i.length-u,f=this.options.drawActiveElementsOnTop;let p;for(n.dataset&&n.dataset.draw(t,o,u,h),p=u;p<u+h;++p){const g=i[p];g.hidden||(g.active&&f?c.push(g):g.draw(t,o))}for(p=0;p<c.length;++p)c[p].draw(t,o)}getStyle(t,s){const n=s?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,s,n){const i=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=V8(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=i.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=$8(this.chart.getContext(),this.index)),o.dataset=i,o.index=o.datasetIndex=this.index;return o.active=!!s,o.mode=n,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,s){return this._resolveElementOptions(this.dataElementType.id,s,t)}_resolveElementOptions(t,s="default",n){const i=s==="active",o=this._cachedDataOpts,c=t+"-"+s,u=o[c],h=this.enableOptionSharing&&Xh(n);if(u)return zN(u,h);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,t),g=i?[`${t}Hover`,"hover",t,""]:[t,""],x=f.getOptionScopes(this.getDataset(),p),b=Object.keys($s.elements[t]),j=()=>this.getContext(n,i,s),v=f.resolveNamedOptions(x,b,j,g);return v.$shared&&(v.$shared=h,o[c]=Object.freeze(zN(v,h))),v}_resolveAnimations(t,s,n){const i=this.chart,o=this._cachedDataOpts,c=`animation-${s}`,u=o[c];if(u)return u;let h;if(i.options.animation!==!1){const p=this.chart.config,g=p.datasetAnimationScopeKeys(this._type,s),x=p.getOptionScopes(this.getDataset(),g);h=p.createResolver(x,this.getContext(t,n,s))}const f=new KS(i,h&&h.animations);return h&&h._cacheable&&(o[c]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,s){return!s||p0(t)||this.chart._animationsDisabled}_getSharedOptions(t,s){const n=this.resolveDataElementOptions(t,s),i=this._sharedOptions,o=this.getSharedOptions(n),c=this.includeOptions(s,o)||o!==i;return this.updateSharedOptions(o,s,n),{sharedOptions:o,includeOptions:c}}updateElement(t,s,n,i){p0(i)?Object.assign(t,n):this._resolveAnimations(s,i).update(t,n)}updateSharedOptions(t,s,n){t&&!p0(s)&&this._resolveAnimations(void 0,s).update(t,n)}_setStyle(t,s,n,i){t.active=i;const o=this.getStyle(s,i);this._resolveAnimations(s,n,i).update(t,{options:!i&&this.getSharedOptions(o)||o})}removeHoverStyle(t,s,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,s,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const s=this._data,n=this._cachedMeta.data;for(const[u,h,f]of this._syncList)this[u](h,f);this._syncList=[];const i=n.length,o=s.length,c=Math.min(o,i);c&&this.parse(0,c),o>i?this._insertElements(i,o-i,t):o<i&&this._removeElements(o,i-o)}_insertElements(t,s,n=!0){const i=this._cachedMeta,o=i.data,c=t+s;let u;const h=f=>{for(f.length+=s,u=f.length-1;u>=c;u--)f[u]=f[u-s]};for(h(o),u=t;u<c;++u)o[u]=new this.dataElementType;this._parsing&&h(i._parsed),this.parse(t,s),n&&this.updateElements(o,t,s,"reset")}updateElements(t,s,n,i){}_removeElements(t,s){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,s);n._stacked&&_u(n,i)}n.data.splice(t,s)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[s,n,i]=t;this[s](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,s){s&&this._sync(["_removeElements",t,s]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Et(Ah,"defaults",{}),Et(Ah,"datasetElementType",null),Et(Ah,"dataElementType",null);function Co(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Vy{constructor(t){Et(this,"options");this.options=t||{}}static override(t){Object.assign(Vy.prototype,t)}init(){}formats(){return Co()}parse(){return Co()}format(){return Co()}add(){return Co()}diff(){return Co()}startOf(){return Co()}endOf(){return Co()}}var q8={_date:Vy};function W8(e,t,s,n){const{controller:i,data:o,_sorted:c}=e,u=i._cachedMeta.iScale,h=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&c&&o.length){const f=u._reversePixels?HB:hx;if(n){if(i._sharedOptions){const p=o[0],g=typeof p.getRange=="function"&&p.getRange(t);if(g){const x=f(o,t,s-g),b=f(o,t,s+g);return{lo:x.lo,hi:b.hi}}}}else{const p=f(o,t,s);if(h){const{vScale:g}=i._cachedMeta,{_parsed:x}=e,b=x.slice(0,p.lo+1).reverse().findIndex(v=>!Ds(v[g.axis]));p.lo-=Math.max(0,b);const j=x.slice(p.hi).findIndex(v=>!Ds(v[g.axis]));p.hi+=Math.max(0,j)}return p}}return{lo:0,hi:o.length-1}}function Tm(e,t,s,n,i){const o=e.getSortedVisibleDatasetMetas(),c=s[t];for(let u=0,h=o.length;u<h;++u){const{index:f,data:p}=o[u],{lo:g,hi:x}=W8(o[u],t,c,i);for(let b=g;b<=x;++b){const j=p[b];j.skip||n(j,f,b)}}}function Y8(e){const t=e.indexOf("x")!==-1,s=e.indexOf("y")!==-1;return function(n,i){const o=t?Math.abs(n.x-i.x):0,c=s?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function g0(e,t,s,n,i){const o=[];return!i&&!e.isPointInArea(t)||Tm(e,s,t,function(u,h,f){!i&&!$S(u,e.chartArea,0)||u.inRange(t.x,t.y,n)&&o.push({element:u,datasetIndex:h,index:f})},!0),o}function G8(e,t,s,n){let i=[];function o(c,u,h){const{startAngle:f,endAngle:p}=c.getProps(["startAngle","endAngle"],n),{angle:g}=RS(c,{x:t.x,y:t.y});MS(g,f,p)&&i.push({element:c,datasetIndex:u,index:h})}return Tm(e,s,t,o),i}function X8(e,t,s,n,i,o){let c=[];const u=Y8(s);let h=Number.POSITIVE_INFINITY;function f(p,g,x){const b=p.inRange(t.x,t.y,i);if(n&&!b)return;const j=p.getCenterPoint(i);if(!(!!o||e.isPointInArea(j))&&!b)return;const T=u(t,j);T<h?(c=[{element:p,datasetIndex:g,index:x}],h=T):T===h&&c.push({element:p,datasetIndex:g,index:x})}return Tm(e,s,t,f),c}function x0(e,t,s,n,i,o){return!o&&!e.isPointInArea(t)?[]:s==="r"&&!n?G8(e,t,s,i):X8(e,t,s,n,i,o)}function HN(e,t,s,n,i){const o=[],c=s==="x"?"inXRange":"inYRange";let u=!1;return Tm(e,s,t,(h,f,p)=>{h[c]&&h[c](t[s],i)&&(o.push({element:h,datasetIndex:f,index:p}),u=u||h.inRange(t.x,t.y,i))}),n&&!u?[]:o}var K8={modes:{index(e,t,s,n){const i=ko(t,e),o=s.axis||"x",c=s.includeInvisible||!1,u=s.intersect?g0(e,i,o,n,c):x0(e,i,o,!1,n,c),h=[];return u.length?(e.getSortedVisibleDatasetMetas().forEach(f=>{const p=u[0].index,g=f.data[p];g&&!g.skip&&h.push({element:g,datasetIndex:f.index,index:p})}),h):[]},dataset(e,t,s,n){const i=ko(t,e),o=s.axis||"xy",c=s.includeInvisible||!1;let u=s.intersect?g0(e,i,o,n,c):x0(e,i,o,!1,n,c);if(u.length>0){const h=u[0].datasetIndex,f=e.getDatasetMeta(h).data;u=[];for(let p=0;p<f.length;++p)u.push({element:f[p],datasetIndex:h,index:p})}return u},point(e,t,s,n){const i=ko(t,e),o=s.axis||"xy",c=s.includeInvisible||!1;return g0(e,i,o,n,c)},nearest(e,t,s,n){const i=ko(t,e),o=s.axis||"xy",c=s.includeInvisible||!1;return x0(e,i,o,s.intersect,n,c)},x(e,t,s,n){const i=ko(t,e);return HN(e,i,"x",s.intersect,n)},y(e,t,s,n){const i=ko(t,e);return HN(e,i,"y",s.intersect,n)}}};const ZS=["left","top","right","bottom"];function Tu(e,t){return e.filter(s=>s.pos===t)}function $N(e,t){return e.filter(s=>ZS.indexOf(s.pos)===-1&&s.box.axis===t)}function Su(e,t){return e.sort((s,n)=>{const i=t?n:s,o=t?s:n;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function Q8(e){const t=[];let s,n,i,o,c,u;for(s=0,n=(e||[]).length;s<n;++s)i=e[s],{position:o,options:{stack:c,stackWeight:u=1}}=i,t.push({index:s,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:c&&o+c,stackWeight:u});return t}function Z8(e){const t={};for(const s of e){const{stack:n,pos:i,stackWeight:o}=s;if(!n||!ZS.includes(i))continue;const c=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function J8(e,t){const s=Z8(e),{vBoxMaxWidth:n,hBoxMaxHeight:i}=t;let o,c,u;for(o=0,c=e.length;o<c;++o){u=e[o];const{fullSize:h}=u.box,f=s[u.stack],p=f&&u.stackWeight/f.weight;u.horizontal?(u.width=p?p*n:h&&t.availableWidth,u.height=i):(u.width=n,u.height=p?p*i:h&&t.availableHeight)}return s}function eF(e){const t=Q8(e),s=Su(t.filter(f=>f.box.fullSize),!0),n=Su(Tu(t,"left"),!0),i=Su(Tu(t,"right")),o=Su(Tu(t,"top"),!0),c=Su(Tu(t,"bottom")),u=$N(t,"x"),h=$N(t,"y");return{fullSize:s,leftAndTop:n.concat(o),rightAndBottom:i.concat(h).concat(c).concat(u),chartArea:Tu(t,"chartArea"),vertical:n.concat(i).concat(h),horizontal:o.concat(c).concat(u)}}function VN(e,t,s,n){return Math.max(e[s],t[s])+Math.max(e[n],t[n])}function JS(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function tF(e,t,s,n){const{pos:i,box:o}=s,c=e.maxPadding;if(!ns(i)){s.size&&(e[i]-=s.size);const g=n[s.stack]||{size:0,count:1};g.size=Math.max(g.size,s.horizontal?o.height:o.width),s.size=g.size/g.count,e[i]+=s.size}o.getPadding&&JS(c,o.getPadding());const u=Math.max(0,t.outerWidth-VN(c,e,"left","right")),h=Math.max(0,t.outerHeight-VN(c,e,"top","bottom")),f=u!==e.w,p=h!==e.h;return e.w=u,e.h=h,s.horizontal?{same:f,other:p}:{same:p,other:f}}function sF(e){const t=e.maxPadding;function s(n){const i=Math.max(t[n]-e[n],0);return e[n]+=i,i}e.y+=s("top"),e.x+=s("left"),s("right"),s("bottom")}function nF(e,t){const s=t.maxPadding;function n(i){const o={left:0,top:0,right:0,bottom:0};return i.forEach(c=>{o[c]=Math.max(t[c],s[c])}),o}return n(e?["left","right"]:["top","bottom"])}function Uu(e,t,s,n){const i=[];let o,c,u,h,f,p;for(o=0,c=e.length,f=0;o<c;++o){u=e[o],h=u.box,h.update(u.width||t.w,u.height||t.h,nF(u.horizontal,t));const{same:g,other:x}=tF(t,s,u,n);f|=g&&i.length,p=p||x,h.fullSize||i.push(u)}return f&&Uu(i,t,s,n)||p}function rh(e,t,s,n,i){e.top=s,e.left=t,e.right=t+n,e.bottom=s+i,e.width=n,e.height=i}function IN(e,t,s,n){const i=s.padding;let{x:o,y:c}=t;for(const u of e){const h=u.box,f=n[u.stack]||{placed:0,weight:1},p=u.stackWeight/f.weight||1;if(u.horizontal){const g=t.w*p,x=f.size||h.height;Xh(f.start)&&(c=f.start),h.fullSize?rh(h,i.left,c,s.outerWidth-i.right-i.left,x):rh(h,t.left+f.placed,c,g,x),f.start=c,f.placed+=g,c=h.bottom}else{const g=t.h*p,x=f.size||h.width;Xh(f.start)&&(o=f.start),h.fullSize?rh(h,o,i.top,x,s.outerHeight-i.bottom-i.top):rh(h,o,t.top+f.placed,x,g),f.start=o,f.placed+=g,o=h.right}}t.x=o,t.y=c}var Ea={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(s){t.draw(s)}}]},e.boxes.push(t)},removeBox(e,t){const s=e.boxes?e.boxes.indexOf(t):-1;s!==-1&&e.boxes.splice(s,1)},configure(e,t,s){t.fullSize=s.fullSize,t.position=s.position,t.weight=s.weight},update(e,t,s,n){if(!e)return;const i=Oa(e.options.layout.padding),o=Math.max(t-i.width,0),c=Math.max(s-i.height,0),u=eF(e.boxes),h=u.vertical,f=u.horizontal;cs(e.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const p=h.reduce((v,T)=>T.box.options&&T.box.options.display===!1?v:v+1,0)||1,g=Object.freeze({outerWidth:t,outerHeight:s,padding:i,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/p,hBoxMaxHeight:c/2}),x=Object.assign({},i);JS(x,Oa(n));const b=Object.assign({maxPadding:x,w:o,h:c,x:i.left,y:i.top},i),j=J8(h.concat(f),g);Uu(u.fullSize,b,g,j),Uu(h,b,g,j),Uu(f,b,g,j)&&Uu(h,b,g,j),sF(b),IN(u.leftAndTop,b,g,j),b.x+=b.w,b.y+=b.h,IN(u.rightAndBottom,b,g,j),e.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},cs(u.chartArea,v=>{const T=v.box;Object.assign(T,e.chartArea),T.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class eC{acquireContext(t,s){}releaseContext(t){return!1}addEventListener(t,s,n){}removeEventListener(t,s,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,s,n,i){return s=Math.max(0,s||t.width),n=n||t.height,{width:s,height:Math.max(0,i?Math.floor(s/i):n)}}isAttached(t){return!0}updateConfig(t){}}class aF extends eC{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Oh="$chartjs",rF={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},qN=e=>e===null||e==="";function iF(e,t){const s=e.style,n=e.getAttribute("height"),i=e.getAttribute("width");if(e[Oh]={initial:{height:n,width:i,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",qN(i)){const o=MN(e,"width");o!==void 0&&(e.width=o)}if(qN(n))if(e.style.height==="")e.height=e.width/(t||2);else{const o=MN(e,"height");o!==void 0&&(e.height=o)}return e}const tC=S8?{passive:!0}:!1;function oF(e,t,s){e&&e.addEventListener(t,s,tC)}function lF(e,t,s){e&&e.canvas&&e.canvas.removeEventListener(t,s,tC)}function cF(e,t){const s=rF[e.type]||e.type,{x:n,y:i}=ko(e,t);return{type:s,chart:t,native:e,x:n!==void 0?n:null,y:i!==void 0?i:null}}function tm(e,t){for(const s of e)if(s===t||s.contains(t))return!0}function uF(e,t,s){const n=e.canvas,i=new MutationObserver(o=>{let c=!1;for(const u of o)c=c||tm(u.addedNodes,n),c=c&&!tm(u.removedNodes,n);c&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}function dF(e,t,s){const n=e.canvas,i=new MutationObserver(o=>{let c=!1;for(const u of o)c=c||tm(u.removedNodes,n),c=c&&!tm(u.addedNodes,n);c&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}const rd=new Map;let WN=0;function sC(){const e=window.devicePixelRatio;e!==WN&&(WN=e,rd.forEach((t,s)=>{s.currentDevicePixelRatio!==e&&t()}))}function fF(e,t){rd.size||window.addEventListener("resize",sC),rd.set(e,t)}function hF(e){rd.delete(e),rd.size||window.removeEventListener("resize",sC)}function mF(e,t,s){const n=e.canvas,i=n&&$y(n);if(!i)return;const o=BS((u,h)=>{const f=i.clientWidth;s(u,h),f<i.clientWidth&&s()},window),c=new ResizeObserver(u=>{const h=u[0],f=h.contentRect.width,p=h.contentRect.height;f===0&&p===0||o(f,p)});return c.observe(i),fF(e,o),c}function y0(e,t,s){s&&s.disconnect(),t==="resize"&&hF(e)}function pF(e,t,s){const n=e.canvas,i=BS(o=>{e.ctx!==null&&s(cF(o,e))},e);return oF(n,t,i),i}class gF extends eC{acquireContext(t,s){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(iF(t,s),n):null}releaseContext(t){const s=t.canvas;if(!s[Oh])return!1;const n=s[Oh].initial;["height","width"].forEach(o=>{const c=n[o];Ds(c)?s.removeAttribute(o):s.setAttribute(o,c)});const i=n.style||{};return Object.keys(i).forEach(o=>{s.style[o]=i[o]}),s.width=s.width,delete s[Oh],!0}addEventListener(t,s,n){this.removeEventListener(t,s);const i=t.$proxies||(t.$proxies={}),c={attach:uF,detach:dF,resize:mF}[s]||pF;i[s]=c(t,s,n)}removeEventListener(t,s){const n=t.$proxies||(t.$proxies={}),i=n[s];if(!i)return;({attach:y0,detach:y0,resize:y0}[s]||lF)(t,s,i),n[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,s,n,i){return T8(t,s,n,i)}isAttached(t){const s=t&&$y(t);return!!(s&&s.isConnected)}}function xF(e){return!Hy()||typeof OffscreenCanvas!="undefined"&&e instanceof OffscreenCanvas?aF:gF}var xh;let Ko=(xh=class{constructor(){Et(this,"x");Et(this,"y");Et(this,"active",!1);Et(this,"options");Et(this,"$animations")}tooltipPosition(t){const{x:s,y:n}=this.getProps(["x","y"],t);return{x:s,y:n}}hasValue(){return Zh(this.x)&&Zh(this.y)}getProps(t,s){const n=this.$animations;if(!s||!n)return this;const i={};return t.forEach(o=>{i[o]=n[o]&&n[o].active()?n[o]._to:this[o]}),i}},Et(xh,"defaults",{}),Et(xh,"defaultRoutes"),xh);function yF(e,t){const s=e.options.ticks,n=bF(e),i=Math.min(s.maxTicksLimit||n,n),o=s.major.enabled?wF(t):[],c=o.length,u=o[0],h=o[c-1],f=[];if(c>i)return jF(t,f,o,c/i),f;const p=vF(o,t,i);if(c>0){let g,x;const b=c>1?Math.round((h-u)/(c-1)):null;for(ih(t,f,p,Ds(b)?0:u-b,u),g=0,x=c-1;g<x;g++)ih(t,f,p,o[g],o[g+1]);return ih(t,f,p,h,Ds(b)?t.length:h+b),f}return ih(t,f,p),f}function bF(e){const t=e.options.offset,s=e._tickSize(),n=e._length/s+(t?0:1),i=e._maxLength/s;return Math.floor(Math.min(n,i))}function vF(e,t,s){const n=NF(e),i=t.length/s;if(!n)return Math.max(i,1);const o=MB(n);for(let c=0,u=o.length-1;c<u;c++){const h=o[c];if(h>i)return h}return Math.max(i,1)}function wF(e){const t=[];let s,n;for(s=0,n=e.length;s<n;s++)e[s].major&&t.push(s);return t}function jF(e,t,s,n){let i=0,o=s[0],c;for(n=Math.ceil(n),c=0;c<e.length;c++)c===o&&(t.push(e[c]),i++,o=s[i*n])}function ih(e,t,s,n,i){const o=us(n,0),c=Math.min(us(i,e.length),e.length);let u=0,h,f,p;for(s=Math.ceil(s),i&&(h=i-n,s=h/Math.floor(h/s)),p=o;p<0;)u++,p=Math.round(o+u*s);for(f=Math.max(o,0);f<c;f++)f===p&&(t.push(e[f]),u++,p=Math.round(o+u*s))}function NF(e){const t=e.length;let s,n;if(t<2)return!1;for(n=e[0],s=1;s<t;++s)if(e[s]-e[s-1]!==n)return!1;return n}const _F=e=>e==="left"?"right":e==="right"?"left":e,YN=(e,t,s)=>t==="top"||t==="left"?e[t]+s:e[t]-s,GN=(e,t)=>Math.min(t||e,e);function XN(e,t){const s=[],n=e.length/t,i=e.length;let o=0;for(;o<i;o+=n)s.push(e[Math.floor(o)]);return s}function TF(e,t,s){const n=e.ticks.length,i=Math.min(t,n-1),o=e._startPixel,c=e._endPixel,u=1e-6;let h=e.getPixelForTick(i),f;if(!(s&&(n===1?f=Math.max(h-o,c-h):t===0?f=(e.getPixelForTick(1)-h)/2:f=(h-e.getPixelForTick(i-1))/2,h+=i<t?f:-f,h<o-u||h>c+u)))return h}function SF(e,t){cs(e,s=>{const n=s.gc,i=n.length/2;let o;if(i>t){for(o=0;o<i;++o)delete s.data[n[o]];n.splice(0,i)}})}function Cu(e){return e.drawTicks?e.tickLength:0}function KN(e,t){if(!e.display)return 0;const s=kn(e.font,t),n=Oa(e.padding);return(fn(e.text)?e.text.length:1)*s.lineHeight+n.height}function CF(e,t){return xc(e,{scale:t,type:"scale"})}function EF(e,t,s){return xc(e,{tick:s,index:t,type:"tick"})}function kF(e,t,s){let n=My(e);return(s&&t!=="right"||!s&&t==="right")&&(n=_F(n)),n}function DF(e,t,s,n){const{top:i,left:o,bottom:c,right:u,chart:h}=e,{chartArea:f,scales:p}=h;let g=0,x,b,j;const v=c-i,T=u-o;if(e.isHorizontal()){if(b=Cn(n,o,u),ns(s)){const _=Object.keys(s)[0],R=s[_];j=p[_].getPixelForValue(R)+v-t}else s==="center"?j=(f.bottom+f.top)/2+v-t:j=YN(e,s,t);x=u-o}else{if(ns(s)){const _=Object.keys(s)[0],R=s[_];b=p[_].getPixelForValue(R)-T+t}else s==="center"?b=(f.left+f.right)/2-T+t:b=YN(e,s,t);j=Cn(n,c,i),g=s==="left"?-yn:yn}return{titleX:b,titleY:j,maxWidth:x,rotation:g}}class yc extends Ko{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,s){return t}getUserBounds(){let{_userMin:t,_userMax:s,_suggestedMin:n,_suggestedMax:i}=this;return t=rr(t,Number.POSITIVE_INFINITY),s=rr(s,Number.NEGATIVE_INFINITY),n=rr(n,Number.POSITIVE_INFINITY),i=rr(i,Number.NEGATIVE_INFINITY),{min:rr(t,n),max:rr(s,i),minDefined:Aa(t),maxDefined:Aa(s)}}getMinMax(t){let{min:s,max:n,minDefined:i,maxDefined:o}=this.getUserBounds(),c;if(i&&o)return{min:s,max:n};const u=this.getMatchingVisibleMetas();for(let h=0,f=u.length;h<f;++h)c=u[h].controller.getMinMax(this,t),i||(s=Math.min(s,c.min)),o||(n=Math.max(n,c.max));return s=o&&s>n?n:s,n=i&&s>n?s:n,{min:rr(s,rr(n,s)),max:rr(n,rr(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){js(this.options.beforeUpdate,[this])}update(t,s,n){const{beginAtZero:i,grace:o,ticks:c}=this.options,u=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=s,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=u8(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?XN(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=yF(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,s,n;this.isHorizontal()?(s=this.left,n=this.right):(s=this.top,n=this.bottom,t=!t),this._startPixel=s,this._endPixel=n,this._reversePixels=t,this._length=n-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){js(this.options.afterUpdate,[this])}beforeSetDimensions(){js(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){js(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),js(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){js(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const s=this.options.ticks;let n,i,o;for(n=0,i=t.length;n<i;n++)o=t[n],o.label=js(s.callback,[o.value,n,t],this)}afterTickToLabelConversion(){js(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){js(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,s=t.ticks,n=GN(this.ticks.length,t.ticks.maxTicksLimit),i=s.minRotation||0,o=s.maxRotation;let c=i,u,h,f;if(!this._isVisible()||!s.display||i>=o||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const p=this._getLabelSizes(),g=p.widest.width,x=p.highest.height,b=Xn(this.chart.width-g,0,this.maxWidth);u=t.offset?this.maxWidth/n:b/(n-1),g+6>u&&(u=b/(n-(t.offset?.5:1)),h=this.maxHeight-Cu(t.grid)-s.padding-KN(t.title,this.chart.options.font),f=Math.sqrt(g*g+x*x),c=FB(Math.min(Math.asin(Xn((p.highest.height+6)/u,-1,1)),Math.asin(Xn(h/f,-1,1))-Math.asin(Xn(x/f,-1,1)))),c=Math.max(i,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){js(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){js(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:s,options:{ticks:n,title:i,grid:o}}=this,c=this._isVisible(),u=this.isHorizontal();if(c){const h=KN(i,s.options.font);if(u?(t.width=this.maxWidth,t.height=Cu(o)+h):(t.height=this.maxHeight,t.width=Cu(o)+h),n.display&&this.ticks.length){const{first:f,last:p,widest:g,highest:x}=this._getLabelSizes(),b=n.padding*2,j=Lo(this.labelRotation),v=Math.cos(j),T=Math.sin(j);if(u){const _=n.mirror?0:T*g.width+v*x.height;t.height=Math.min(this.maxHeight,t.height+_+b)}else{const _=n.mirror?0:v*g.width+T*x.height;t.width=Math.min(this.maxWidth,t.width+_+b)}this._calculatePadding(f,p,T,v)}}this._handleMargins(),u?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,s,n,i){const{ticks:{align:o,padding:c},position:u}=this.options,h=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let x=0,b=0;h?f?(x=i*t.width,b=n*s.height):(x=n*t.height,b=i*s.width):o==="start"?b=s.width:o==="end"?x=t.width:o!=="inner"&&(x=t.width/2,b=s.width/2),this.paddingLeft=Math.max((x-p+c)*this.width/(this.width-p),0),this.paddingRight=Math.max((b-g+c)*this.width/(this.width-g),0)}else{let p=s.height/2,g=t.height/2;o==="start"?(p=0,g=t.height):o==="end"&&(p=s.height,g=0),this.paddingTop=p+c,this.paddingBottom=g+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){js(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:s}=this.options;return s==="top"||s==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let s,n;for(s=0,n=t.length;s<n;s++)Ds(t[s].label)&&(t.splice(s,1),n--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const s=this.options.ticks.sampleSize;let n=this.ticks;s<n.length&&(n=XN(n,s)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,s,n){const{ctx:i,_longestTextCache:o}=this,c=[],u=[],h=Math.floor(s/GN(s,n));let f=0,p=0,g,x,b,j,v,T,_,R,S,C,D;for(g=0;g<s;g+=h){if(j=t[g].label,v=this._resolveTickFontOptions(g),i.font=T=v.string,_=o[T]=o[T]||{data:{},gc:[]},R=v.lineHeight,S=C=0,!Ds(j)&&!fn(j))S=EN(i,_.data,_.gc,S,j),C=R;else if(fn(j))for(x=0,b=j.length;x<b;++x)D=j[x],!Ds(D)&&!fn(D)&&(S=EN(i,_.data,_.gc,S,D),C+=R);c.push(S),u.push(C),f=Math.max(S,f),p=Math.max(C,p)}SF(o,s);const k=c.indexOf(f),B=u.indexOf(p),F=O=>({width:c[O]||0,height:u[O]||0});return{first:F(0),last:F(s-1),widest:F(k),highest:F(B),widths:c,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,s){return NaN}getValueForPixel(t){}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const s=this._startPixel+t*this._length;return zB(this._alignToPixels?So(this.chart,s,0):s)}getDecimalForPixel(t){const s=(t-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:s}=this;return t<0&&s<0?s:t>0&&s>0?t:0}getContext(t){const s=this.ticks||[];if(t>=0&&t<s.length){const n=s[t];return n.$context||(n.$context=EF(this.getContext(),t,n))}return this.$context||(this.$context=CF(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,s=Lo(this.labelRotation),n=Math.abs(Math.cos(s)),i=Math.abs(Math.sin(s)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,u=o?o.widest.width+c:0,h=o?o.highest.height+c:0;return this.isHorizontal()?h*n>u*i?u/n:h/i:h*i<u*n?h/n:u/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const s=this.axis,n=this.chart,i=this.options,{grid:o,position:c,border:u}=i,h=o.offset,f=this.isHorizontal(),g=this.ticks.length+(h?1:0),x=Cu(o),b=[],j=u.setContext(this.getContext()),v=j.display?j.width:0,T=v/2,_=function(z){return So(n,z,v)};let R,S,C,D,k,B,F,O,X,I,Q,W;if(c==="top")R=_(this.bottom),B=this.bottom-x,O=R-T,I=_(t.top)+T,W=t.bottom;else if(c==="bottom")R=_(this.top),I=t.top,W=_(t.bottom)-T,B=R+T,O=this.top+x;else if(c==="left")R=_(this.right),k=this.right-x,F=R-T,X=_(t.left)+T,Q=t.right;else if(c==="right")R=_(this.left),X=t.left,Q=_(t.right)-T,k=R+T,F=this.left+x;else if(s==="x"){if(c==="center")R=_((t.top+t.bottom)/2+.5);else if(ns(c)){const z=Object.keys(c)[0],Z=c[z];R=_(this.chart.scales[z].getPixelForValue(Z))}I=t.top,W=t.bottom,B=R+T,O=B+x}else if(s==="y"){if(c==="center")R=_((t.left+t.right)/2);else if(ns(c)){const z=Object.keys(c)[0],Z=c[z];R=_(this.chart.scales[z].getPixelForValue(Z))}k=R-T,F=k-x,X=t.left,Q=t.right}const Y=us(i.ticks.maxTicksLimit,g),H=Math.max(1,Math.ceil(g/Y));for(S=0;S<g;S+=H){const z=this.getContext(S),Z=o.setContext(z),te=u.setContext(z),ue=Z.lineWidth,M=Z.color,ie=te.dash||[],ne=te.dashOffset,V=Z.tickWidth,J=Z.tickColor,xe=Z.tickBorderDash||[],fe=Z.tickBorderDashOffset;C=TF(this,S,h),C!==void 0&&(D=So(n,C,ue),f?k=F=X=Q=D:B=O=I=W=D,b.push({tx1:k,ty1:B,tx2:F,ty2:O,x1:X,y1:I,x2:Q,y2:W,width:ue,color:M,borderDash:ie,borderDashOffset:ne,tickWidth:V,tickColor:J,tickBorderDash:xe,tickBorderDashOffset:fe}))}return this._ticksLength=g,this._borderValue=R,b}_computeLabelItems(t){const s=this.axis,n=this.options,{position:i,ticks:o}=n,c=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:f,padding:p,mirror:g}=o,x=Cu(n.grid),b=x+p,j=g?-p:b,v=-Lo(this.labelRotation),T=[];let _,R,S,C,D,k,B,F,O,X,I,Q,W="middle";if(i==="top")k=this.bottom-j,B=this._getXAxisLabelAlignment();else if(i==="bottom")k=this.top+j,B=this._getXAxisLabelAlignment();else if(i==="left"){const H=this._getYAxisLabelAlignment(x);B=H.textAlign,D=H.x}else if(i==="right"){const H=this._getYAxisLabelAlignment(x);B=H.textAlign,D=H.x}else if(s==="x"){if(i==="center")k=(t.top+t.bottom)/2+b;else if(ns(i)){const H=Object.keys(i)[0],z=i[H];k=this.chart.scales[H].getPixelForValue(z)+b}B=this._getXAxisLabelAlignment()}else if(s==="y"){if(i==="center")D=(t.left+t.right)/2-b;else if(ns(i)){const H=Object.keys(i)[0],z=i[H];D=this.chart.scales[H].getPixelForValue(z)}B=this._getYAxisLabelAlignment(x).textAlign}s==="y"&&(h==="start"?W="top":h==="end"&&(W="bottom"));const Y=this._getLabelSizes();for(_=0,R=u.length;_<R;++_){S=u[_],C=S.label;const H=o.setContext(this.getContext(_));F=this.getPixelForTick(_)+o.labelOffset,O=this._resolveTickFontOptions(_),X=O.lineHeight,I=fn(C)?C.length:1;const z=I/2,Z=H.color,te=H.textStrokeColor,ue=H.textStrokeWidth;let M=B;c?(D=F,B==="inner"&&(_===R-1?M=this.options.reverse?"left":"right":_===0?M=this.options.reverse?"right":"left":M="center"),i==="top"?f==="near"||v!==0?Q=-I*X+X/2:f==="center"?Q=-Y.highest.height/2-z*X+X:Q=-Y.highest.height+X/2:f==="near"||v!==0?Q=X/2:f==="center"?Q=Y.highest.height/2-z*X:Q=Y.highest.height-I*X,g&&(Q*=-1),v!==0&&!H.showLabelBackdrop&&(D+=X/2*Math.sin(v))):(k=F,Q=(1-I)*X/2);let ie;if(H.showLabelBackdrop){const ne=Oa(H.backdropPadding),V=Y.heights[_],J=Y.widths[_];let xe=Q-ne.top,fe=0-ne.left;switch(W){case"middle":xe-=V/2;break;case"bottom":xe-=V;break}switch(B){case"center":fe-=J/2;break;case"right":fe-=J;break;case"inner":_===R-1?fe-=J:_>0&&(fe-=J/2);break}ie={left:fe,top:xe,width:J+ne.width,height:V+ne.height,color:H.backdropColor}}T.push({label:C,font:O,textOffset:Q,options:{rotation:v,color:Z,strokeColor:te,strokeWidth:ue,textAlign:M,textBaseline:W,translation:[D,k],backdrop:ie}})}return T}_getXAxisLabelAlignment(){const{position:t,ticks:s}=this.options;if(-Lo(this.labelRotation))return t==="top"?"left":"right";let i="center";return s.align==="start"?i="left":s.align==="end"?i="right":s.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:s,ticks:{crossAlign:n,mirror:i,padding:o}}=this.options,c=this._getLabelSizes(),u=t+o,h=c.widest.width;let f,p;return s==="left"?i?(p=this.right+o,n==="near"?f="left":n==="center"?(f="center",p+=h/2):(f="right",p+=h)):(p=this.right-u,n==="near"?f="right":n==="center"?(f="center",p-=h/2):(f="left",p=this.left)):s==="right"?i?(p=this.left+o,n==="near"?f="right":n==="center"?(f="center",p-=h/2):(f="left",p-=h)):(p=this.left+u,n==="near"?f="left":n==="center"?(f="center",p+=h/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:s},left:n,top:i,width:o,height:c}=this;s&&(t.save(),t.fillStyle=s,t.fillRect(n,i,o,c),t.restore())}getLineWidthForValue(t){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const i=this.ticks.findIndex(o=>o.value===t);return i>=0?s.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const s=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const u=(h,f,p)=>{!p.width||!p.color||(n.save(),n.lineWidth=p.width,n.strokeStyle=p.color,n.setLineDash(p.borderDash||[]),n.lineDashOffset=p.borderDashOffset,n.beginPath(),n.moveTo(h.x,h.y),n.lineTo(f.x,f.y),n.stroke(),n.restore())};if(s.display)for(o=0,c=i.length;o<c;++o){const h=i[o];s.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),s.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:s,options:{border:n,grid:i}}=this,o=n.setContext(this.getContext()),c=n.display?o.width:0;if(!c)return;const u=i.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,p,g,x;this.isHorizontal()?(f=So(t,this.left,c)-c/2,p=So(t,this.right,u)+u/2,g=x=h):(g=So(t,this.top,c)-c/2,x=So(t,this.bottom,u)+u/2,f=p=h),s.save(),s.lineWidth=o.width,s.strokeStyle=o.color,s.beginPath(),s.moveTo(f,g),s.lineTo(p,x),s.stroke(),s.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&Py(n,i);const o=this.getLabelItems(t);for(const c of o){const u=c.options,h=c.font,f=c.label,p=c.textOffset;ad(n,f,0,p,h,u)}i&&Ly(n)}drawTitle(){const{ctx:t,options:{position:s,title:n,reverse:i}}=this;if(!n.display)return;const o=kn(n.font),c=Oa(n.padding),u=n.align;let h=o.lineHeight/2;s==="bottom"||s==="center"||ns(s)?(h+=c.bottom,fn(n.text)&&(h+=o.lineHeight*(n.text.length-1))):h+=c.top;const{titleX:f,titleY:p,maxWidth:g,rotation:x}=DF(this,h,s,u);ad(t,n.text,0,0,o,{color:n.color,maxWidth:g,rotation:x,textAlign:kF(u,s,i),textBaseline:"middle",translation:[f,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,s=t.ticks&&t.ticks.z||0,n=us(t.grid&&t.grid.z,-1),i=us(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==yc.prototype.draw?[{z:s,draw:o=>{this.draw(o)}}]:[{z:n,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:s,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const s=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let o,c;for(o=0,c=s.length;o<c;++o){const u=s[o];u[n]===this.id&&(!t||u.type===t)&&i.push(u)}return i}_resolveTickFontOptions(t){const s=this.options.ticks.setContext(this.getContext(t));return kn(s.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class oh{constructor(t,s,n){this.type=t,this.scope=s,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const s=Object.getPrototypeOf(t);let n;RF(s)&&(n=this.register(s));const i=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in i||(i[o]=t,AF(t,c,n),this.override&&$s.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const s=this.items,n=t.id,i=this.scope;n in s&&delete s[n],i&&n in $s[i]&&(delete $s[i][n],this.override&&delete Io[n])}}function AF(e,t,s){const n=nd(Object.create(null),[s?$s.get(s):{},$s.get(t),e.defaults]);$s.set(t,n),e.defaultRoutes&&OF(t,e.defaultRoutes),e.descriptors&&$s.describe(t,e.descriptors)}function OF(e,t){Object.keys(t).forEach(s=>{const n=s.split("."),i=n.pop(),o=[e].concat(n).join("."),c=t[s].split("."),u=c.pop(),h=c.join(".");$s.route(o,i,h,u)})}function RF(e){return"id"in e&&"defaults"in e}class MF{constructor(){this.controllers=new oh(Ah,"datasets",!0),this.elements=new oh(Ko,"elements"),this.plugins=new oh(Object,"plugins"),this.scales=new oh(yc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,s,n){[...s].forEach(i=>{const o=n||this._getRegistryForType(i);n||o.isForType(i)||o===this.plugins&&i.id?this._exec(t,o,i):cs(i,c=>{const u=n||this._getRegistryForType(c);this._exec(t,u,c)})})}_exec(t,s,n){const i=Oy(t);js(n["before"+i],[],n),s[t](n),js(n["after"+i],[],n)}_getRegistryForType(t){for(let s=0;s<this._typedRegistries.length;s++){const n=this._typedRegistries[s];if(n.isForType(t))return n}return this.plugins}_get(t,s,n){const i=s.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return i}}var or=new MF;class PF{constructor(){this._init=[]}notify(t,s,n,i){s==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=i?this._descriptors(t).filter(i):this._descriptors(t),c=this._notify(o,t,s,n);return s==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,s,n,i){i=i||{};for(const o of t){const c=o.plugin,u=c[n],h=[s,i,o.options];if(js(u,h,c)===!1&&i.cancelable)return!1}return!0}invalidate(){Ds(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),s}_createDescriptors(t,s){const n=t&&t.config,i=us(n.options&&n.options.plugins,{}),o=LF(n);return i===!1&&!s?[]:FF(t,o,i,s)}_notifyStateChanges(t){const s=this._oldCache||[],n=this._cache,i=(o,c)=>o.filter(u=>!c.some(h=>u.plugin.id===h.plugin.id));this._notify(i(s,n),t,"stop"),this._notify(i(n,s),t,"start")}}function LF(e){const t={},s=[],n=Object.keys(or.plugins.items);for(let o=0;o<n.length;o++)s.push(or.getPlugin(n[o]));const i=e.plugins||[];for(let o=0;o<i.length;o++){const c=i[o];s.indexOf(c)===-1&&(s.push(c),t[c.id]=!0)}return{plugins:s,localIds:t}}function BF(e,t){return!t&&e===!1?null:e===!0?{}:e}function FF(e,{plugins:t,localIds:s},n,i){const o=[],c=e.getContext();for(const u of t){const h=u.id,f=BF(n[h],i);f!==null&&o.push({plugin:u,options:UF(e.config,{plugin:u,local:s[h]},f,c)})}return o}function UF(e,{plugin:t,local:s},n,i){const o=e.pluginScopeKeys(t),c=e.getOptionScopes(n,o);return s&&t.defaults&&c.push(t.defaults),e.createResolver(c,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function px(e,t){const s=$s.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||s.indexAxis||"x"}function zF(e,t){let s=e;return e==="_index_"?s=t:e==="_value_"&&(s=t==="x"?"y":"x"),s}function HF(e,t){return e===t?"_index_":"_value_"}function QN(e){if(e==="x"||e==="y"||e==="r")return e}function $F(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function gx(e,...t){if(QN(e))return e;for(const s of t){const n=s.axis||$F(s.position)||e.length>1&&QN(e[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function ZN(e,t,s){if(s[t+"AxisID"]===e)return{axis:t}}function VF(e,t){if(t.data&&t.data.datasets){const s=t.data.datasets.filter(n=>n.xAxisID===e||n.yAxisID===e);if(s.length)return ZN(e,"x",s[0])||ZN(e,"y",s[0])}return{}}function IF(e,t){const s=Io[e.type]||{scales:{}},n=t.scales||{},i=px(e.type,t),o=Object.create(null);return Object.keys(n).forEach(c=>{const u=n[c];if(!ns(u))return console.error(`Invalid scale configuration for scale: ${c}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const h=gx(c,u,VF(c,e),$s.scales[u.type]),f=HF(h,i),p=s.scales||{};o[c]=$u(Object.create(null),[{axis:h},u,p[h],p[f]])}),e.data.datasets.forEach(c=>{const u=c.type||e.type,h=c.indexAxis||px(u,t),p=(Io[u]||{}).scales||{};Object.keys(p).forEach(g=>{const x=zF(g,h),b=c[x+"AxisID"]||x;o[b]=o[b]||Object.create(null),$u(o[b],[{axis:x},n[b],p[g]])})}),Object.keys(o).forEach(c=>{const u=o[c];$u(u,[$s.scales[u.type],$s.scale])}),o}function nC(e){const t=e.options||(e.options={});t.plugins=us(t.plugins,{}),t.scales=IF(e,t)}function aC(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function qF(e){return e=e||{},e.data=aC(e.data),nC(e),e}const JN=new Map,rC=new Set;function lh(e,t){let s=JN.get(e);return s||(s=t(),JN.set(e,s),rC.add(s)),s}const Eu=(e,t,s)=>{const n=Gh(t,s);n!==void 0&&e.add(n)};class WF{constructor(t){this._config=qF(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=aC(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),nC(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return lh(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,s){return lh(`${t}.transition.${s}`,()=>[[`datasets.${t}.transitions.${s}`,`transitions.${s}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,s){return lh(`${t}-${s}`,()=>[[`datasets.${t}.elements.${s}`,`datasets.${t}`,`elements.${s}`,""]])}pluginScopeKeys(t){const s=t.id,n=this.type;return lh(`${n}-plugin-${s}`,()=>[[`plugins.${s}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,s){const n=this._scopeCache;let i=n.get(t);return(!i||s)&&(i=new Map,n.set(t,i)),i}getOptionScopes(t,s,n){const{options:i,type:o}=this,c=this._cachedScopes(t,n),u=c.get(s);if(u)return u;const h=new Set;s.forEach(p=>{t&&(h.add(t),p.forEach(g=>Eu(h,t,g))),p.forEach(g=>Eu(h,i,g)),p.forEach(g=>Eu(h,Io[o]||{},g)),p.forEach(g=>Eu(h,$s,g)),p.forEach(g=>Eu(h,mx,g))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),rC.has(s)&&c.set(s,f),f}chartOptionScopes(){const{options:t,type:s}=this;return[t,Io[s]||{},$s.datasets[s]||{},{type:s},$s,mx]}resolveNamedOptions(t,s,n,i=[""]){const o={$shared:!0},{resolver:c,subPrefixes:u}=e_(this._resolverCache,t,i);let h=c;if(GF(c,s)){o.$shared=!1,n=qi(n)?n():n;const f=this.createResolver(t,n,u);h=ic(c,n,f)}for(const f of s)o[f]=h[f];return o}createResolver(t,s,n=[""],i){const{resolver:o}=e_(this._resolverCache,t,n);return ns(s)?ic(o,s,void 0,i):o}}function e_(e,t,s){let n=e.get(t);n||(n=new Map,e.set(t,n));const i=s.join();let o=n.get(i);return o||(o={resolver:Fy(t,s),subPrefixes:s.filter(u=>!u.toLowerCase().includes("hover"))},n.set(i,o)),o}const YF=e=>ns(e)&&Object.getOwnPropertyNames(e).some(t=>qi(e[t]));function GF(e,t){const{isScriptable:s,isIndexable:n}=IS(e);for(const i of t){const o=s(i),c=n(i),u=(c||o)&&e[i];if(o&&(qi(u)||YF(u))||c&&fn(u))return!0}return!1}var XF="4.5.0";const KF=["top","bottom","left","right","chartArea"];function t_(e,t){return e==="top"||e==="bottom"||KF.indexOf(e)===-1&&t==="x"}function s_(e,t){return function(s,n){return s[e]===n[e]?s[t]-n[t]:s[e]-n[e]}}function n_(e){const t=e.chart,s=t.options.animation;t.notifyPlugins("afterRender"),js(s&&s.onComplete,[e],t)}function QF(e){const t=e.chart,s=t.options.animation;js(s&&s.onProgress,[e],t)}function iC(e){return Hy()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Rh={},a_=e=>{const t=iC(e);return Object.values(Rh).filter(s=>s.canvas===t).pop()};function ZF(e,t,s){const n=Object.keys(e);for(const i of n){const o=+i;if(o>=t){const c=e[i];delete e[i],(s>0||o>t)&&(e[o+s]=c)}}}function JF(e,t,s,n){return!s||e.type==="mouseout"?null:n?t:e}class Di{static register(...t){or.add(...t),r_()}static unregister(...t){or.remove(...t),r_()}constructor(t,s){const n=this.config=new WF(s),i=iC(t),o=a_(i);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||xF(i)),this.platform.updateConfig(n);const u=this.platform.acquireContext(i,c.aspectRatio),h=u&&u.canvas,f=h&&h.height,p=h&&h.width;if(this.id=SB(),this.ctx=u,this.canvas=h,this.width=p,this.height=f,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new PF,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=qB(g=>this.update(g),c.resizeDelay||0),this._dataChanges=[],Rh[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Vr.listen(this,"complete",n_),Vr.listen(this,"progress",QF),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:s},width:n,height:i,_aspectRatio:o}=this;return Ds(t)?s&&o?o:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return or}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():RN(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return kN(this.canvas,this.ctx),this}stop(){return Vr.stop(this),this}resize(t,s){Vr.running(this)?this._resizeBeforeDraw={width:t,height:s}:this._resize(t,s)}_resize(t,s){const n=this.options,i=this.canvas,o=n.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(i,t,s,o),u=n.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,RN(this,u,!0)&&(this.notifyPlugins("resize",{size:c}),js(n.onResize,[this,c],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};cs(s,(n,i)=>{n.id=i})}buildOrUpdateScales(){const t=this.options,s=t.scales,n=this.scales,i=Object.keys(n).reduce((c,u)=>(c[u]=!1,c),{});let o=[];s&&(o=o.concat(Object.keys(s).map(c=>{const u=s[c],h=gx(c,u),f=h==="r",p=h==="x";return{options:u,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),cs(o,c=>{const u=c.options,h=u.id,f=gx(h,u),p=us(u.type,c.dtype);(u.position===void 0||t_(u.position,f)!==t_(c.dposition))&&(u.position=c.dposition),i[h]=!0;let g=null;if(h in n&&n[h].type===p)g=n[h];else{const x=or.getScale(p);g=new x({id:h,type:p,ctx:this.ctx,chart:this}),n[g.id]=g}g.init(u,t)}),cs(i,(c,u)=>{c||delete n[u]}),cs(n,c=>{Ea.configure(this,c,c.options),Ea.addBox(this,c)})}_updateMetasets(){const t=this._metasets,s=this.data.datasets.length,n=t.length;if(t.sort((i,o)=>i.index-o.index),n>s){for(let i=s;i<n;++i)this._destroyDatasetMeta(i);t.splice(s,n-s)}this._sortedMetasets=t.slice(0).sort(s_("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:s}}=this;t.length>s.length&&delete this._stacks,t.forEach((n,i)=>{s.filter(o=>o===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],s=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=s.length;n<i;n++){const o=s[n];let c=this.getDatasetMeta(n);const u=o.type||this.config.type;if(c.type&&c.type!==u&&(this._destroyDatasetMeta(n),c=this.getDatasetMeta(n)),c.type=u,c.indexAxis=o.indexAxis||px(u,this.options),c.order=o.order||0,c.index=n,c.label=""+o.label,c.visible=this.isDatasetVisible(n),c.controller)c.controller.updateIndex(n),c.controller.linkScales();else{const h=or.getController(u),{datasetElementType:f,dataElementType:p}=$s.datasets[u];Object.assign(h,{dataElementType:or.getElement(p),datasetElementType:f&&or.getElement(f)}),c.controller=new h(this,n),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){cs(this.data.datasets,(t,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const s=this.config;s.update();const n=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:g}=this.getDatasetMeta(f),x=!i&&o.indexOf(g)===-1;g.buildOrUpdateElements(x),c=Math.max(+g.getMaxOverflow(),c)}c=this._minPadding=n.layout.autoPadding?c:0,this._updateLayout(c),i||cs(o,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(s_("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){cs(this.scales,t=>{Ea.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,s=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!bN(s,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,s=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:o}of s){const c=n==="_removeElements"?-o:o;ZF(t,i,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const s=this.data.datasets.length,n=o=>new Set(t.filter(c=>c[0]===o).map((c,u)=>u+","+c.splice(1).join(","))),i=n(0);for(let o=1;o<s;o++)if(!bN(i,n(o)))return;return Array.from(i).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ea.update(this,this.width,this.height,t);const s=this.chartArea,n=s.width<=0||s.height<=0;this._layers=[],cs(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,o)=>{i._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let s=0,n=this.data.datasets.length;s<n;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,n=this.data.datasets.length;s<n;++s)this._updateDataset(s,qi(t)?t({datasetIndex:s}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,s){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(s),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Vr.has(this)?this.attached&&!Vr.running(this)&&Vr.start(this):(this.draw(),n_({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(t=0;t<s.length&&s[t].z<=0;++t)s[t].draw(this.chartArea);for(this._drawDatasets();t<s.length;++t)s[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const s=this._sortedMetasets,n=[];let i,o;for(i=0,o=s.length;i<o;++i){const c=s[i];(!t||c.visible)&&n.push(c)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let s=t.length-1;s>=0;--s)this._drawDataset(t[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const s=this.ctx,n={meta:t,index:t.index,cancelable:!0},i=D8(this,t);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(i&&Py(s,i),t.controller.draw(),i&&Ly(s),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(t){return $S(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,s,n,i){const o=K8.modes[s];return typeof o=="function"?o(this,t,n,i):[]}getDatasetMeta(t){const s=this.data.datasets[t],n=this._metasets;let i=n.filter(o=>o&&o._dataset===s).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:t,_dataset:s,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=xc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const s=this.data.datasets[t];if(!s)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!s.hidden}setDatasetVisibility(t,s){const n=this.getDatasetMeta(t);n.hidden=!s}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,s,n){const i=n?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,i);Xh(s)?(o.data[s].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),c.update(o,{visible:n}),this.update(u=>u.datasetIndex===t?i:void 0))}hide(t,s){this._updateVisibility(t,s,!1)}show(t,s){this._updateVisibility(t,s,!0)}_destroyDatasetMeta(t){const s=this._metasets[t];s&&s.controller&&s.controller._destroy(),delete this._metasets[t]}_stop(){let t,s;for(this.stop(),Vr.remove(this),t=0,s=this.data.datasets.length;t<s;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:s}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),kN(t,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete Rh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,s=this.platform,n=(o,c)=>{s.addEventListener(this,o,c),t[o]=c},i=(o,c,u)=>{o.offsetX=c,o.offsetY=u,this._eventHandler(o)};cs(this.options.events,o=>n(o,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,s=this.platform,n=(h,f)=>{s.addEventListener(this,h,f),t[h]=f},i=(h,f)=>{t[h]&&(s.removeEventListener(this,h,f),delete t[h])},o=(h,f)=>{this.canvas&&this.resize(h,f)};let c;const u=()=>{i("attach",u),this.attached=!0,this.resize(),n("resize",o),n("detach",c)};c=()=>{this.attached=!1,i("resize",o),this._stop(),this._resize(0,0),n("attach",u)},s.isAttached(this.canvas)?u():c()}unbindEvents(){cs(this._listeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._listeners={},cs(this._responsiveListeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,s,n){const i=n?"set":"remove";let o,c,u,h;for(s==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+i+"DatasetHoverStyle"]()),u=0,h=t.length;u<h;++u){c=t[u];const f=c&&this.getDatasetMeta(c.datasetIndex).controller;f&&f[i+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const s=this._active||[],n=t.map(({datasetIndex:o,index:c})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[c],index:c}});!Wh(n,s)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,s))}notifyPlugins(t,s,n){return this._plugins.notify(this,t,s,n)}isPluginEnabled(t){return this._plugins._cache.filter(s=>s.plugin.id===t).length===1}_updateHoverStyles(t,s,n){const i=this.options.hover,o=(h,f)=>h.filter(p=>!f.some(g=>p.datasetIndex===g.datasetIndex&&p.index===g.index)),c=o(s,t),u=n?t:o(t,s);c.length&&this.updateHoverStyle(c,i.mode,!1),u.length&&i.mode&&this.updateHoverStyle(u,i.mode,!0)}_eventHandler(t,s){const n={event:t,replay:s,cancelable:!0,inChartArea:this.isPointInArea(t)},i=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const o=this._handleEvent(t,s,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(o||n.changed)&&this.render(),this}_handleEvent(t,s,n){const{_active:i=[],options:o}=this,c=s,u=this._getActiveElements(t,i,n,c),h=OB(t),f=JF(t,this._lastEvent,n,h);n&&(this._lastEvent=null,js(o.onHover,[t,u,this],this),h&&js(o.onClick,[t,u,this],this));const p=!Wh(u,i);return(p||s)&&(this._active=u,this._updateHoverStyles(u,i,s)),this._lastEvent=f,p}_getActiveElements(t,s,n,i){if(t.type==="mouseout")return[];if(!n)return s;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,i)}}Et(Di,"defaults",$s),Et(Di,"instances",Rh),Et(Di,"overrides",Io),Et(Di,"registry",or),Et(Di,"version",XF),Et(Di,"getChart",a_);function r_(){return cs(Di.instances,e=>e._plugins.invalidate())}function eU(e,t,s){const{startAngle:n,x:i,y:o,outerRadius:c,innerRadius:u,options:h}=t,{borderWidth:f,borderJoinStyle:p}=h,g=Math.min(f/c,lr(n-s));if(e.beginPath(),e.arc(i,o,c-f/2,n+g/2,s-g/2),u>0){const x=Math.min(f/u,lr(n-s));e.arc(i,o,u+f/2,s-x/2,n+x/2,!0)}else{const x=Math.min(f/2,c*lr(n-s));if(p==="round")e.arc(i,o,x,s-Ns/2,n+Ns/2,!0);else if(p==="bevel"){const b=2*x*x,j=-b*Math.cos(s+Ns/2)+i,v=-b*Math.sin(s+Ns/2)+o,T=b*Math.cos(n+Ns/2)+i,_=b*Math.sin(n+Ns/2)+o;e.lineTo(j,v),e.lineTo(T,_)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function tU(e,t,s){const{startAngle:n,pixelMargin:i,x:o,y:c,outerRadius:u,innerRadius:h}=t;let f=i/u;e.beginPath(),e.arc(o,c,u,n-f,s+f),h>i?(f=i/h,e.arc(o,c,h,s+f,n-f,!0)):e.arc(o,c,i,s+yn,n-yn),e.closePath(),e.clip()}function sU(e){return By(e,["outerStart","outerEnd","innerStart","innerEnd"])}function nU(e,t,s,n){const i=sU(e.options.borderRadius),o=(s-t)/2,c=Math.min(o,n*t/2),u=h=>{const f=(s-Math.min(o,h))*n/2;return Xn(h,0,Math.min(o,f))};return{outerStart:u(i.outerStart),outerEnd:u(i.outerEnd),innerStart:Xn(i.innerStart,0,c),innerEnd:Xn(i.innerEnd,0,c)}}function $l(e,t,s,n){return{x:s+e*Math.cos(t),y:n+e*Math.sin(t)}}function sm(e,t,s,n,i,o){const{x:c,y:u,startAngle:h,pixelMargin:f,innerRadius:p}=t,g=Math.max(t.outerRadius+n+s-f,0),x=p>0?p+n+s+f:0;let b=0;const j=i-h;if(n){const H=p>0?p-n:0,z=g>0?g-n:0,Z=(H+z)/2,te=Z!==0?j*Z/(Z+n):j;b=(j-te)/2}const v=Math.max(.001,j*g-s/Ns)/g,T=(j-v)/2,_=h+T+b,R=i-T-b,{outerStart:S,outerEnd:C,innerStart:D,innerEnd:k}=nU(t,x,g,R-_),B=g-S,F=g-C,O=_+S/B,X=R-C/F,I=x+D,Q=x+k,W=_+D/I,Y=R-k/Q;if(e.beginPath(),o){const H=(O+X)/2;if(e.arc(c,u,g,O,H),e.arc(c,u,g,H,X),C>0){const ue=$l(F,X,c,u);e.arc(ue.x,ue.y,C,X,R+yn)}const z=$l(Q,R,c,u);if(e.lineTo(z.x,z.y),k>0){const ue=$l(Q,Y,c,u);e.arc(ue.x,ue.y,k,R+yn,Y+Math.PI)}const Z=(R-k/x+(_+D/x))/2;if(e.arc(c,u,x,R-k/x,Z,!0),e.arc(c,u,x,Z,_+D/x,!0),D>0){const ue=$l(I,W,c,u);e.arc(ue.x,ue.y,D,W+Math.PI,_-yn)}const te=$l(B,_,c,u);if(e.lineTo(te.x,te.y),S>0){const ue=$l(B,O,c,u);e.arc(ue.x,ue.y,S,_-yn,O)}}else{e.moveTo(c,u);const H=Math.cos(O)*g+c,z=Math.sin(O)*g+u;e.lineTo(H,z);const Z=Math.cos(X)*g+c,te=Math.sin(X)*g+u;e.lineTo(Z,te)}e.closePath()}function aU(e,t,s,n,i){const{fullCircles:o,startAngle:c,circumference:u}=t;let h=t.endAngle;if(o){sm(e,t,s,n,h,i);for(let f=0;f<o;++f)e.fill();isNaN(u)||(h=c+(u%Mn||Mn))}return sm(e,t,s,n,h,i),e.fill(),h}function rU(e,t,s,n,i){const{fullCircles:o,startAngle:c,circumference:u,options:h}=t,{borderWidth:f,borderJoinStyle:p,borderDash:g,borderDashOffset:x,borderRadius:b}=h,j=h.borderAlign==="inner";if(!f)return;e.setLineDash(g||[]),e.lineDashOffset=x,j?(e.lineWidth=f*2,e.lineJoin=p||"round"):(e.lineWidth=f,e.lineJoin=p||"bevel");let v=t.endAngle;if(o){sm(e,t,s,n,v,i);for(let T=0;T<o;++T)e.stroke();isNaN(u)||(v=c+(u%Mn||Mn))}j&&tU(e,t,v),h.selfJoin&&v-c>=Ns&&b===0&&p!=="miter"&&eU(e,t,v),o||(sm(e,t,s,n,v,i),e.stroke())}class zu extends Ko{constructor(s){super();Et(this,"circumference");Et(this,"endAngle");Et(this,"fullCircles");Et(this,"innerRadius");Et(this,"outerRadius");Et(this,"pixelMargin");Et(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,n,i){const o=this.getProps(["x","y"],i),{angle:c,distance:u}=RS(o,{x:s,y:n}),{startAngle:h,endAngle:f,innerRadius:p,outerRadius:g,circumference:x}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),b=(this.options.spacing+this.options.borderWidth)/2,j=us(x,f-h),v=MS(c,h,f)&&h!==f,T=j>=Mn||v,_=Bo(u,p+b,g+b);return T&&_}getCenterPoint(s){const{x:n,y:i,startAngle:o,endAngle:c,innerRadius:u,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:f,spacing:p}=this.options,g=(o+c)/2,x=(u+h+p+f)/2;return{x:n+Math.cos(g)*x,y:i+Math.sin(g)*x}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:n,circumference:i}=this,o=(n.offset||0)/4,c=(n.spacing||0)/2,u=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>Mn?Math.floor(i/Mn):0,i===0||this.innerRadius<0||this.outerRadius<0)return;s.save();const h=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(h)*o,Math.sin(h)*o);const f=1-Math.sin(Math.min(Ns,i||0)),p=o*f;s.fillStyle=n.backgroundColor,s.strokeStyle=n.borderColor,aU(s,this,p,c,u),rU(s,this,p,c,u),s.restore()}}Et(zu,"id","arc"),Et(zu,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Et(zu,"defaultRoutes",{backgroundColor:"backgroundColor"}),Et(zu,"descriptors",{_scriptable:!0,_indexable:s=>s!=="borderDash"});function oC(e,t){const{x:s,y:n,base:i,width:o,height:c}=e.getProps(["x","y","base","width","height"],t);let u,h,f,p,g;return e.horizontal?(g=c/2,u=Math.min(s,i),h=Math.max(s,i),f=n-g,p=n+g):(g=o/2,u=s-g,h=s+g,f=Math.min(n,i),p=Math.max(n,i)),{left:u,top:f,right:h,bottom:p}}function Mi(e,t,s,n){return e?0:Xn(t,s,n)}function iU(e,t,s){const n=e.options.borderWidth,i=e.borderSkipped,o=VS(n);return{t:Mi(i.top,o.top,0,s),r:Mi(i.right,o.right,0,t),b:Mi(i.bottom,o.bottom,0,s),l:Mi(i.left,o.left,0,t)}}function oU(e,t,s){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,o=ec(i),c=Math.min(t,s),u=e.borderSkipped,h=n||ns(i);return{topLeft:Mi(!h||u.top||u.left,o.topLeft,0,c),topRight:Mi(!h||u.top||u.right,o.topRight,0,c),bottomLeft:Mi(!h||u.bottom||u.left,o.bottomLeft,0,c),bottomRight:Mi(!h||u.bottom||u.right,o.bottomRight,0,c)}}function lU(e){const t=oC(e),s=t.right-t.left,n=t.bottom-t.top,i=iU(e,s/2,n/2),o=oU(e,s/2,n/2);return{outer:{x:t.left,y:t.top,w:s,h:n,radius:o},inner:{x:t.left+i.l,y:t.top+i.t,w:s-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function b0(e,t,s,n){const i=t===null,o=s===null,u=e&&!(i&&o)&&oC(e,n);return u&&(i||Bo(t,u.left,u.right))&&(o||Bo(s,u.top,u.bottom))}function cU(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function uU(e,t){e.rect(t.x,t.y,t.w,t.h)}function v0(e,t,s={}){const n=e.x!==s.x?-t:0,i=e.y!==s.y?-t:0,o=(e.x+e.w!==s.x+s.w?t:0)-n,c=(e.y+e.h!==s.y+s.h?t:0)-i;return{x:e.x+n,y:e.y+i,w:e.w+o,h:e.h+c,radius:e.radius}}class Mh extends Ko{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:s,options:{borderColor:n,backgroundColor:i}}=this,{inner:o,outer:c}=lU(this),u=cU(c.radius)?Jh:uU;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),u(t,v0(c,s,o)),t.clip(),u(t,v0(o,-s,c)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),u(t,v0(o,s)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,s,n){return b0(this,t,s,n)}inXRange(t,s){return b0(this,t,null,s)}inYRange(t,s){return b0(this,null,t,s)}getCenterPoint(t){const{x:s,y:n,base:i,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(s+i)/2:s,y:o?n:(n+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Et(Mh,"id","bar"),Et(Mh,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Et(Mh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const i_=(e,t)=>{let{boxHeight:s=t,boxWidth:n=t}=e;return e.usePointStyle&&(s=Math.min(s,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(t,s)}},dU=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class o_ extends Ko{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s,n){this.maxWidth=t,this.maxHeight=s,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let s=js(t.generateLabels,[this.chart],this)||[];t.filter&&(s=s.filter(n=>t.filter(n,this.chart.data))),t.sort&&(s=s.sort((n,i)=>t.sort(n,i,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:t,ctx:s}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,i=kn(n.font),o=i.size,c=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=i_(n,o);let f,p;s.font=i.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(c,o,u,h)+10):(p=this.maxHeight,f=this._fitCols(c,i,u,h)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,s,n,i){const{ctx:o,maxWidth:c,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],p=i+u;let g=t;o.textAlign="left",o.textBaseline="middle";let x=-1,b=-p;return this.legendItems.forEach((j,v)=>{const T=n+s/2+o.measureText(j.text).width;(v===0||f[f.length-1]+T+2*u>c)&&(g+=p,f[f.length-(v>0?0:1)]=0,b+=p,x++),h[v]={left:0,top:b,row:x,width:T,height:i},f[f.length-1]+=T+u}),g}_fitCols(t,s,n,i){const{ctx:o,maxHeight:c,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],p=c-t;let g=u,x=0,b=0,j=0,v=0;return this.legendItems.forEach((T,_)=>{const{itemWidth:R,itemHeight:S}=fU(n,s,o,T,i);_>0&&b+S+2*u>p&&(g+=x+u,f.push({width:x,height:b}),j+=x+u,v++,x=b=0),h[_]={left:j,top:b,col:v,width:R,height:S},x=Math.max(x,R),b+=S+u}),g+=x,f.push({width:x,height:b}),g}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:n,labels:{padding:i},rtl:o}}=this,c=tc(o,this.left,this.width);if(this.isHorizontal()){let u=0,h=Cn(n,this.left+i,this.right-this.lineWidths[u]);for(const f of s)u!==f.row&&(u=f.row,h=Cn(n,this.left+i,this.right-this.lineWidths[u])),f.top+=this.top+t+i,f.left=c.leftForLtr(c.x(h),f.width),h+=f.width+i}else{let u=0,h=Cn(n,this.top+t+i,this.bottom-this.columnSizes[u].height);for(const f of s)f.col!==u&&(u=f.col,h=Cn(n,this.top+t+i,this.bottom-this.columnSizes[u].height)),f.top=h,f.left+=this.left+i,f.left=c.leftForLtr(c.x(f.left),f.width),h+=f.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Py(t,this),this._draw(),Ly(t)}}_draw(){const{options:t,columnSizes:s,lineWidths:n,ctx:i}=this,{align:o,labels:c}=t,u=$s.color,h=tc(t.rtl,this.left,this.width),f=kn(c.font),{padding:p}=c,g=f.size,x=g/2;let b;this.drawTitle(),i.textAlign=h.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=f.string;const{boxWidth:j,boxHeight:v,itemHeight:T}=i_(c,g),_=function(k,B,F){if(isNaN(j)||j<=0||isNaN(v)||v<0)return;i.save();const O=us(F.lineWidth,1);if(i.fillStyle=us(F.fillStyle,u),i.lineCap=us(F.lineCap,"butt"),i.lineDashOffset=us(F.lineDashOffset,0),i.lineJoin=us(F.lineJoin,"miter"),i.lineWidth=O,i.strokeStyle=us(F.strokeStyle,u),i.setLineDash(us(F.lineDash,[])),c.usePointStyle){const X={radius:v*Math.SQRT2/2,pointStyle:F.pointStyle,rotation:F.rotation,borderWidth:O},I=h.xPlus(k,j/2),Q=B+x;HS(i,X,I,Q,c.pointStyleWidth&&j)}else{const X=B+Math.max((g-v)/2,0),I=h.leftForLtr(k,j),Q=ec(F.borderRadius);i.beginPath(),Object.values(Q).some(W=>W!==0)?Jh(i,{x:I,y:X,w:j,h:v,radius:Q}):i.rect(I,X,j,v),i.fill(),O!==0&&i.stroke()}i.restore()},R=function(k,B,F){ad(i,F.text,k,B+T/2,f,{strikethrough:F.hidden,textAlign:h.textAlign(F.textAlign)})},S=this.isHorizontal(),C=this._computeTitleHeight();S?b={x:Cn(o,this.left+p,this.right-n[0]),y:this.top+p+C,line:0}:b={x:this.left+p,y:Cn(o,this.top+C+p,this.bottom-s[0].height),line:0},GS(this.ctx,t.textDirection);const D=T+p;this.legendItems.forEach((k,B)=>{i.strokeStyle=k.fontColor,i.fillStyle=k.fontColor;const F=i.measureText(k.text).width,O=h.textAlign(k.textAlign||(k.textAlign=c.textAlign)),X=j+x+F;let I=b.x,Q=b.y;h.setWidth(this.width),S?B>0&&I+X+p>this.right&&(Q=b.y+=D,b.line++,I=b.x=Cn(o,this.left+p,this.right-n[b.line])):B>0&&Q+D>this.bottom&&(I=b.x=I+s[b.line].width+p,b.line++,Q=b.y=Cn(o,this.top+C+p,this.bottom-s[b.line].height));const W=h.x(I);if(_(W,Q,k),I=WB(O,I+j+x,S?I+X:this.right,t.rtl),R(h.x(I),Q,k),S)b.x+=X+p;else if(typeof k.text!="string"){const Y=f.lineHeight;b.y+=lC(k,Y)+p}else b.y+=D}),XS(this.ctx,t.textDirection)}drawTitle(){const t=this.options,s=t.title,n=kn(s.font),i=Oa(s.padding);if(!s.display)return;const o=tc(t.rtl,this.left,this.width),c=this.ctx,u=s.position,h=n.size/2,f=i.top+h;let p,g=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),p=this.top+f,g=Cn(t.align,g,this.right-x);else{const j=this.columnSizes.reduce((v,T)=>Math.max(v,T.height),0);p=f+Cn(t.align,this.top,this.bottom-j-t.labels.padding-this._computeTitleHeight())}const b=Cn(u,g,g+x);c.textAlign=o.textAlign(My(u)),c.textBaseline="middle",c.strokeStyle=s.color,c.fillStyle=s.color,c.font=n.string,ad(c,s.text,b,p,n)}_computeTitleHeight(){const t=this.options.title,s=kn(t.font),n=Oa(t.padding);return t.display?s.lineHeight+n.height:0}_getLegendItemAt(t,s){let n,i,o;if(Bo(t,this.left,this.right)&&Bo(s,this.top,this.bottom)){for(o=this.legendHitBoxes,n=0;n<o.length;++n)if(i=o[n],Bo(t,i.left,i.left+i.width)&&Bo(s,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(t){const s=this.options;if(!pU(t.type,s))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,o=dU(i,n);i&&!o&&js(s.onLeave,[t,i,this],this),this._hoveredItem=n,n&&!o&&js(s.onHover,[t,n,this],this)}else n&&js(s.onClick,[t,n,this],this)}}function fU(e,t,s,n,i){const o=hU(n,e,t,s),c=mU(i,n,t.lineHeight);return{itemWidth:o,itemHeight:c}}function hU(e,t,s,n){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((o,c)=>o.length>c.length?o:c)),t+s.size/2+n.measureText(i).width}function mU(e,t,s){let n=e;return typeof t.text!="string"&&(n=lC(t,s)),n}function lC(e,t){const s=e.text?e.text.length:0;return t*s}function pU(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var gU={id:"legend",_element:o_,start(e,t,s){const n=e.legend=new o_({ctx:e.ctx,options:s,chart:e});Ea.configure(e,n,s),Ea.addBox(e,n)},stop(e){Ea.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,s){const n=e.legend;Ea.configure(e,n,s),n.options=s},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,s){const n=t.datasetIndex,i=s.chart;i.isDatasetVisible(n)?(i.hide(n),t.hidden=!0):(i.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:i,color:o,useBorderRadius:c,borderRadius:u}}=e.legend.options;return e._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(s?0:void 0),p=Oa(f.borderWidth);return{text:t[h.index].label,fillStyle:f.backgroundColor,fontColor:o,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:n||f.pointStyle,rotation:f.rotation,textAlign:i||f.textAlign,borderRadius:c&&(u||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};let cC=class extends Ko{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=s;const i=fn(n.text)?n.text.length:1;this._padding=Oa(n.padding);const o=i*kn(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:s,left:n,bottom:i,right:o,options:c}=this,u=c.align;let h=0,f,p,g;return this.isHorizontal()?(p=Cn(u,n,o),g=s+t,f=o-n):(c.position==="left"?(p=n+t,g=Cn(u,i,s),h=Ns*-.5):(p=o-t,g=Cn(u,s,i),h=Ns*.5),f=i-s),{titleX:p,titleY:g,maxWidth:f,rotation:h}}draw(){const t=this.ctx,s=this.options;if(!s.display)return;const n=kn(s.font),o=n.lineHeight/2+this._padding.top,{titleX:c,titleY:u,maxWidth:h,rotation:f}=this._drawArgs(o);ad(t,s.text,0,0,n,{color:s.color,maxWidth:h,rotation:f,textAlign:My(s.align),textBaseline:"middle",translation:[c,u]})}};function xU(e,t){const s=new cC({ctx:e.ctx,options:t,chart:e});Ea.configure(e,s,t),Ea.addBox(e,s),e.titleBlock=s}var yU={id:"title",_element:cC,start(e,t,s){xU(e,s)},stop(e){const t=e.titleBlock;Ea.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,s){const n=e.titleBlock;Ea.configure(e,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Hu={average(e){if(!e.length)return!1;let t,s,n=new Set,i=0,o=0;for(t=0,s=e.length;t<s;++t){const u=e[t].element;if(u&&u.hasValue()){const h=u.tooltipPosition();n.add(h.x),i+=h.y,++o}}return o===0||n.size===0?!1:{x:[...n].reduce((u,h)=>u+h)/n.size,y:i/o}},nearest(e,t){if(!e.length)return!1;let s=t.x,n=t.y,i=Number.POSITIVE_INFINITY,o,c,u;for(o=0,c=e.length;o<c;++o){const h=e[o].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),p=UB(t,f);p<i&&(i=p,u=h)}}if(u){const h=u.tooltipPosition();s=h.x,n=h.y}return{x:s,y:n}}};function ir(e,t){return t&&(fn(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Ir(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function bU(e,t){const{element:s,datasetIndex:n,index:i}=t,o=e.getDatasetMeta(n).controller,{label:c,value:u}=o.getLabelAndValue(i);return{chart:e,label:c,parsed:o.getParsed(i),raw:e.data.datasets[n].data[i],formattedValue:u,dataset:o.getDataset(),dataIndex:i,datasetIndex:n,element:s}}function l_(e,t){const s=e.chart.ctx,{body:n,footer:i,title:o}=e,{boxWidth:c,boxHeight:u}=t,h=kn(t.bodyFont),f=kn(t.titleFont),p=kn(t.footerFont),g=o.length,x=i.length,b=n.length,j=Oa(t.padding);let v=j.height,T=0,_=n.reduce((C,D)=>C+D.before.length+D.lines.length+D.after.length,0);if(_+=e.beforeBody.length+e.afterBody.length,g&&(v+=g*f.lineHeight+(g-1)*t.titleSpacing+t.titleMarginBottom),_){const C=t.displayColors?Math.max(u,h.lineHeight):h.lineHeight;v+=b*C+(_-b)*h.lineHeight+(_-1)*t.bodySpacing}x&&(v+=t.footerMarginTop+x*p.lineHeight+(x-1)*t.footerSpacing);let R=0;const S=function(C){T=Math.max(T,s.measureText(C).width+R)};return s.save(),s.font=f.string,cs(e.title,S),s.font=h.string,cs(e.beforeBody.concat(e.afterBody),S),R=t.displayColors?c+2+t.boxPadding:0,cs(n,C=>{cs(C.before,S),cs(C.lines,S),cs(C.after,S)}),R=0,s.font=p.string,cs(e.footer,S),s.restore(),T+=j.width,{width:T,height:v}}function vU(e,t){const{y:s,height:n}=t;return s<n/2?"top":s>e.height-n/2?"bottom":"center"}function wU(e,t,s,n){const{x:i,width:o}=n,c=s.caretSize+s.caretPadding;if(e==="left"&&i+o+c>t.width||e==="right"&&i-o-c<0)return!0}function jU(e,t,s,n){const{x:i,width:o}=s,{width:c,chartArea:{left:u,right:h}}=e;let f="center";return n==="center"?f=i<=(u+h)/2?"left":"right":i<=o/2?f="left":i>=c-o/2&&(f="right"),wU(f,e,t,s)&&(f="center"),f}function c_(e,t,s){const n=s.yAlign||t.yAlign||vU(e,s);return{xAlign:s.xAlign||t.xAlign||jU(e,t,s,n),yAlign:n}}function NU(e,t){let{x:s,width:n}=e;return t==="right"?s-=n:t==="center"&&(s-=n/2),s}function _U(e,t,s){let{y:n,height:i}=e;return t==="top"?n+=s:t==="bottom"?n-=i+s:n-=i/2,n}function u_(e,t,s,n){const{caretSize:i,caretPadding:o,cornerRadius:c}=e,{xAlign:u,yAlign:h}=s,f=i+o,{topLeft:p,topRight:g,bottomLeft:x,bottomRight:b}=ec(c);let j=NU(t,u);const v=_U(t,h,f);return h==="center"?u==="left"?j+=f:u==="right"&&(j-=f):u==="left"?j-=Math.max(p,x)+i:u==="right"&&(j+=Math.max(g,b)+i),{x:Xn(j,0,n.width-t.width),y:Xn(v,0,n.height-t.height)}}function ch(e,t,s){const n=Oa(s.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-n.right:e.x+n.left}function d_(e){return ir([],Ir(e))}function TU(e,t,s){return xc(e,{tooltip:t,tooltipItems:s,type:"tooltip"})}function f_(e,t){const s=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return s?e.override(s):e}const uC={beforeTitle:Hr,title(e){if(e.length>0){const t=e[0],s=t.chart.data.labels,n=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return s[t.dataIndex]}return""},afterTitle:Hr,beforeBody:Hr,beforeLabel:Hr,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const s=e.formattedValue;return Ds(s)||(t+=s),t},labelColor(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:Hr,afterBody:Hr,beforeFooter:Hr,footer:Hr,afterFooter:Hr};function Vn(e,t,s,n){const i=e[t].call(s,n);return typeof i=="undefined"?uC[t].call(s,n):i}class xx extends Ko{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const s=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&s.options.animation&&n.animations,o=new KS(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=TU(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,s){const{callbacks:n}=s,i=Vn(n,"beforeTitle",this,t),o=Vn(n,"title",this,t),c=Vn(n,"afterTitle",this,t);let u=[];return u=ir(u,Ir(i)),u=ir(u,Ir(o)),u=ir(u,Ir(c)),u}getBeforeBody(t,s){return d_(Vn(s.callbacks,"beforeBody",this,t))}getBody(t,s){const{callbacks:n}=s,i=[];return cs(t,o=>{const c={before:[],lines:[],after:[]},u=f_(n,o);ir(c.before,Ir(Vn(u,"beforeLabel",this,o))),ir(c.lines,Vn(u,"label",this,o)),ir(c.after,Ir(Vn(u,"afterLabel",this,o))),i.push(c)}),i}getAfterBody(t,s){return d_(Vn(s.callbacks,"afterBody",this,t))}getFooter(t,s){const{callbacks:n}=s,i=Vn(n,"beforeFooter",this,t),o=Vn(n,"footer",this,t),c=Vn(n,"afterFooter",this,t);let u=[];return u=ir(u,Ir(i)),u=ir(u,Ir(o)),u=ir(u,Ir(c)),u}_createItems(t){const s=this._active,n=this.chart.data,i=[],o=[],c=[];let u=[],h,f;for(h=0,f=s.length;h<f;++h)u.push(bU(this.chart,s[h]));return t.filter&&(u=u.filter((p,g,x)=>t.filter(p,g,x,n))),t.itemSort&&(u=u.sort((p,g)=>t.itemSort(p,g,n))),cs(u,p=>{const g=f_(t.callbacks,p);i.push(Vn(g,"labelColor",this,p)),o.push(Vn(g,"labelPointStyle",this,p)),c.push(Vn(g,"labelTextColor",this,p))}),this.labelColors=i,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=u,u}update(t,s){const n=this.options.setContext(this.getContext()),i=this._active;let o,c=[];if(!i.length)this.opacity!==0&&(o={opacity:0});else{const u=Hu[n.position].call(this,i,this._eventPosition);c=this._createItems(n),this.title=this.getTitle(c,n),this.beforeBody=this.getBeforeBody(c,n),this.body=this.getBody(c,n),this.afterBody=this.getAfterBody(c,n),this.footer=this.getFooter(c,n);const h=this._size=l_(this,n),f=Object.assign({},u,h),p=c_(this.chart,n,f),g=u_(n,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:g.x,y:g.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(t,s,n,i){const o=this.getCaretPosition(t,n,i);s.lineTo(o.x1,o.y1),s.lineTo(o.x2,o.y2),s.lineTo(o.x3,o.y3)}getCaretPosition(t,s,n){const{xAlign:i,yAlign:o}=this,{caretSize:c,cornerRadius:u}=n,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:g}=ec(u),{x,y:b}=t,{width:j,height:v}=s;let T,_,R,S,C,D;return o==="center"?(C=b+v/2,i==="left"?(T=x,_=T-c,S=C+c,D=C-c):(T=x+j,_=T+c,S=C-c,D=C+c),R=T):(i==="left"?_=x+Math.max(h,p)+c:i==="right"?_=x+j-Math.max(f,g)-c:_=this.caretX,o==="top"?(S=b,C=S-c,T=_-c,R=_+c):(S=b+v,C=S+c,T=_+c,R=_-c),D=S),{x1:T,x2:_,x3:R,y1:S,y2:C,y3:D}}drawTitle(t,s,n){const i=this.title,o=i.length;let c,u,h;if(o){const f=tc(n.rtl,this.x,this.width);for(t.x=ch(this,n.titleAlign,n),s.textAlign=f.textAlign(n.titleAlign),s.textBaseline="middle",c=kn(n.titleFont),u=n.titleSpacing,s.fillStyle=n.titleColor,s.font=c.string,h=0;h<o;++h)s.fillText(i[h],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+u,h+1===o&&(t.y+=n.titleMarginBottom-u)}}_drawColorBox(t,s,n,i,o){const c=this.labelColors[n],u=this.labelPointStyles[n],{boxHeight:h,boxWidth:f}=o,p=kn(o.bodyFont),g=ch(this,"left",o),x=i.x(g),b=h<p.lineHeight?(p.lineHeight-h)/2:0,j=s.y+b;if(o.usePointStyle){const v={radius:Math.min(f,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},T=i.leftForLtr(x,f)+f/2,_=j+h/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,DN(t,v,T,_),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,DN(t,v,T,_)}else{t.lineWidth=ns(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const v=i.leftForLtr(x,f),T=i.leftForLtr(i.xPlus(x,1),f-2),_=ec(c.borderRadius);Object.values(_).some(R=>R!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Jh(t,{x:v,y:j,w:f,h,radius:_}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),Jh(t,{x:T,y:j+1,w:f-2,h:h-2,radius:_}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(v,j,f,h),t.strokeRect(v,j,f,h),t.fillStyle=c.backgroundColor,t.fillRect(T,j+1,f-2,h-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,s,n){const{body:i}=this,{bodySpacing:o,bodyAlign:c,displayColors:u,boxHeight:h,boxWidth:f,boxPadding:p}=n,g=kn(n.bodyFont);let x=g.lineHeight,b=0;const j=tc(n.rtl,this.x,this.width),v=function(F){s.fillText(F,j.x(t.x+b),t.y+x/2),t.y+=x+o},T=j.textAlign(c);let _,R,S,C,D,k,B;for(s.textAlign=c,s.textBaseline="middle",s.font=g.string,t.x=ch(this,T,n),s.fillStyle=n.bodyColor,cs(this.beforeBody,v),b=u&&T!=="right"?c==="center"?f/2+p:f+2+p:0,C=0,k=i.length;C<k;++C){for(_=i[C],R=this.labelTextColors[C],s.fillStyle=R,cs(_.before,v),S=_.lines,u&&S.length&&(this._drawColorBox(s,t,C,j,n),x=Math.max(g.lineHeight,h)),D=0,B=S.length;D<B;++D)v(S[D]),x=g.lineHeight;cs(_.after,v)}b=0,x=g.lineHeight,cs(this.afterBody,v),t.y-=o}drawFooter(t,s,n){const i=this.footer,o=i.length;let c,u;if(o){const h=tc(n.rtl,this.x,this.width);for(t.x=ch(this,n.footerAlign,n),t.y+=n.footerMarginTop,s.textAlign=h.textAlign(n.footerAlign),s.textBaseline="middle",c=kn(n.footerFont),s.fillStyle=n.footerColor,s.font=c.string,u=0;u<o;++u)s.fillText(i[u],h.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+n.footerSpacing}}drawBackground(t,s,n,i){const{xAlign:o,yAlign:c}=this,{x:u,y:h}=t,{width:f,height:p}=n,{topLeft:g,topRight:x,bottomLeft:b,bottomRight:j}=ec(i.cornerRadius);s.fillStyle=i.backgroundColor,s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.beginPath(),s.moveTo(u+g,h),c==="top"&&this.drawCaret(t,s,n,i),s.lineTo(u+f-x,h),s.quadraticCurveTo(u+f,h,u+f,h+x),c==="center"&&o==="right"&&this.drawCaret(t,s,n,i),s.lineTo(u+f,h+p-j),s.quadraticCurveTo(u+f,h+p,u+f-j,h+p),c==="bottom"&&this.drawCaret(t,s,n,i),s.lineTo(u+b,h+p),s.quadraticCurveTo(u,h+p,u,h+p-b),c==="center"&&o==="left"&&this.drawCaret(t,s,n,i),s.lineTo(u,h+g),s.quadraticCurveTo(u,h,u+g,h),s.closePath(),s.fill(),i.borderWidth>0&&s.stroke()}_updateAnimationTarget(t){const s=this.chart,n=this.$animations,i=n&&n.x,o=n&&n.y;if(i||o){const c=Hu[t.position].call(this,this._active,this._eventPosition);if(!c)return;const u=this._size=l_(this,t),h=Object.assign({},c,this._size),f=c_(s,t,h),p=u_(t,h,f,s);(i._to!==p.x||o._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const s=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(s);const i={width:this.width,height:this.height},o={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const c=Oa(s.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&u&&(t.save(),t.globalAlpha=n,this.drawBackground(o,t,i,s),GS(t,s.textDirection),o.y+=c.top,this.drawTitle(o,t,s),this.drawBody(o,t,s),this.drawFooter(o,t,s),XS(t,s.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,s){const n=this._active,i=t.map(({datasetIndex:u,index:h})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[h],index:h}}),o=!Wh(n,i),c=this._positionChanged(i,s);(o||c)&&(this._active=i,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,s,n=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,o=this._active||[],c=this._getActiveElements(t,o,s,n),u=this._positionChanged(c,t),h=s||!Wh(c,o)||u;return h&&(this._active=c,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,s))),h}_getActiveElements(t,s,n,i){const o=this.options;if(t.type==="mouseout")return[];if(!i)return s.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,n);return o.reverse&&c.reverse(),c}_positionChanged(t,s){const{caretX:n,caretY:i,options:o}=this,c=Hu[o.position].call(this,t,s);return c!==!1&&(n!==c.x||i!==c.y)}}Et(xx,"positioners",Hu);var SU={id:"tooltip",_element:xx,positioners:Hu,afterInit(e,t,s){s&&(e.tooltip=new xx({chart:e,options:s}))},beforeUpdate(e,t,s){e.tooltip&&e.tooltip.initialize(s)},reset(e,t,s){e.tooltip&&e.tooltip.initialize(s)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const s={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",oe(L({},s),{cancelable:!0}))===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",s)}},afterEvent(e,t){if(e.tooltip){const s=t.replay;e.tooltip.handleEvent(t.event,s,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:uC},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const CU=(e,t,s,n)=>(typeof t=="string"?(s=e.push(t)-1,n.unshift({index:s,label:t})):isNaN(t)&&(s=null),s);function EU(e,t,s,n){const i=e.indexOf(t);if(i===-1)return CU(e,t,s,n);const o=e.lastIndexOf(t);return i!==o?s:i}const kU=(e,t)=>e===null?null:Xn(Math.round(e),0,t);function h_(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class yx extends yc{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const s=this._addedLabels;if(s.length){const n=this.getLabels();for(const{index:i,label:o}of s)n[i]===o&&n.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,s){if(Ds(t))return null;const n=this.getLabels();return s=isFinite(s)&&n[s]===t?s:EU(n,t,us(s,t),this._addedLabels),kU(s,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),s||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,s=this.max,n=this.options.offset,i=[];let o=this.getLabels();o=t===0&&s===o.length-1?o:o.slice(t,s+1),this._valueRange=Math.max(o.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let c=t;c<=s;c++)i.push({value:c});return i}getLabelForValue(t){return h_.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Et(yx,"id","category"),Et(yx,"defaults",{ticks:{callback:h_}});function DU(e,t){const s=[],{bounds:i,step:o,min:c,max:u,precision:h,count:f,maxTicks:p,maxDigits:g,includeBounds:x}=e,b=o||1,j=p-1,{min:v,max:T}=t,_=!Ds(c),R=!Ds(u),S=!Ds(f),C=(T-v)/(g+1);let D=wN((T-v)/j/b)*b,k,B,F,O;if(D<1e-14&&!_&&!R)return[{value:v},{value:T}];O=Math.ceil(T/D)-Math.floor(v/D),O>j&&(D=wN(O*D/j/b)*b),Ds(h)||(k=Math.pow(10,h),D=Math.ceil(D*k)/k),i==="ticks"?(B=Math.floor(v/D)*D,F=Math.ceil(T/D)*D):(B=v,F=T),_&&R&&o&&LB((u-c)/o,D/1e3)?(O=Math.round(Math.min((u-c)/D,p)),D=(u-c)/O,B=c,F=u):S?(B=_?c:B,F=R?u:F,O=f-1,D=(F-B)/O):(O=(F-B)/D,Dh(O,Math.round(O),D/1e3)?O=Math.round(O):O=Math.ceil(O));const X=Math.max(jN(D),jN(B));k=Math.pow(10,Ds(h)?X:h),B=Math.round(B*k)/k,F=Math.round(F*k)/k;let I=0;for(_&&(x&&B!==c?(s.push({value:c}),B<c&&I++,Dh(Math.round((B+I*D)*k)/k,c,m_(c,C,e))&&I++):B<c&&I++);I<O;++I){const Q=Math.round((B+I*D)*k)/k;if(R&&Q>u)break;s.push({value:Q})}return R&&x&&F!==u?s.length&&Dh(s[s.length-1].value,u,m_(u,C,e))?s[s.length-1].value=u:s.push({value:u}):(!R||F===u)&&s.push({value:F}),s}function m_(e,t,{horizontal:s,minRotation:n}){const i=Lo(n),o=(s?Math.sin(i):Math.cos(i))||.001,c=.75*t*(""+e).length;return Math.min(t/o,c)}class AU extends yc{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,s){return Ds(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:s,maxDefined:n}=this.getUserBounds();let{min:i,max:o}=this;const c=h=>i=s?i:h,u=h=>o=n?o:h;if(t){const h=Qh(i),f=Qh(o);h<0&&f<0?u(0):h>0&&f>0&&c(0)}if(i===o){let h=o===0?1:Math.abs(o*.05);u(o+h),t||c(i-h)}this.min=i,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:s,stepSize:n}=t,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),s=s||11),s&&(i=Math.min(s,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,s=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},o=this._range||this,c=DU(i,o);return t.bounds==="ticks"&&BB(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let s=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-s)/Math.max(t.length-1,1)/2;s-=i,n+=i}this._startValue=s,this._endValue=n,this._valueRange=n-s}getLabelForValue(t){return US(t,this.chart.options.locale,this.options.ticks.format)}}class bx extends AU{determineDataLimits(){const{min:t,max:s}=this.getMinMax(!0);this.min=Aa(t)?t:0,this.max=Aa(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),s=t?this.width:this.height,n=Lo(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,o.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Et(bx,"id","linear"),Et(bx,"defaults",{ticks:{callback:zS.formatters.numeric}});const Sm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Yn=Object.keys(Sm);function p_(e,t){return e-t}function g_(e,t){if(Ds(t))return null;const s=e._adapter,{parser:n,round:i,isoWeekday:o}=e._parseOpts;let c=t;return typeof n=="function"&&(c=n(c)),Aa(c)||(c=typeof n=="string"?s.parse(c,n):s.parse(c)),c===null?null:(i&&(c=i==="week"&&(Zh(o)||o===!0)?s.startOf(c,"isoWeek",o):s.startOf(c,i)),+c)}function x_(e,t,s,n){const i=Yn.length;for(let o=Yn.indexOf(e);o<i-1;++o){const c=Sm[Yn[o]],u=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((s-t)/(u*c.size))<=n)return Yn[o]}return Yn[i-1]}function OU(e,t,s,n,i){for(let o=Yn.length-1;o>=Yn.indexOf(s);o--){const c=Yn[o];if(Sm[c].common&&e._adapter.diff(i,n,c)>=t-1)return c}return Yn[s?Yn.indexOf(s):0]}function RU(e){for(let t=Yn.indexOf(e)+1,s=Yn.length;t<s;++t)if(Sm[Yn[t]].common)return Yn[t]}function y_(e,t,s){if(!s)e[t]=!0;else if(s.length){const{lo:n,hi:i}=Ry(s,t),o=s[n]>=t?s[n]:s[i];e[o]=!0}}function MU(e,t,s,n){const i=e._adapter,o=+i.startOf(t[0].value,n),c=t[t.length-1].value;let u,h;for(u=o;u<=c;u=+i.add(u,1,n))h=s[u],h>=0&&(t[h].major=!0);return t}function b_(e,t,s){const n=[],i={},o=t.length;let c,u;for(c=0;c<o;++c)u=t[c],i[u]=c,n.push({value:u,major:!1});return o===0||!s?n:MU(e,n,i,s)}class nm extends yc{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,s={}){const n=t.time||(t.time={}),i=this._adapter=new q8._date(t.adapters.date);i.init(s),$u(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=s.normalized}parse(t,s){return t===void 0?null:g_(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,s=this._adapter,n=t.time.unit||"day";let{min:i,max:o,minDefined:c,maxDefined:u}=this.getUserBounds();function h(f){!c&&!isNaN(f.min)&&(i=Math.min(i,f.min)),!u&&!isNaN(f.max)&&(o=Math.max(o,f.max))}(!c||!u)&&(h(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&h(this.getMinMax(!1))),i=Aa(i)&&!isNaN(i)?i:+s.startOf(Date.now(),n),o=Aa(o)&&!isNaN(o)?o:+s.endOf(Date.now(),n)+1,this.min=Math.min(i,o-1),this.max=Math.max(i+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(s=t[0],n=t[t.length-1]),{min:s,max:n}}buildTicks(){const t=this.options,s=t.time,n=t.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const o=this.min,c=this.max,u=$B(i,o,c);return this._unit=s.unit||(n.autoSkip?x_(s.minUnit,this.min,this.max,this._getLabelCapacity(o)):OU(this,u.length,s.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:RU(this._unit),this.initOffsets(i),t.reverse&&u.reverse(),b_(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let s=0,n=0,i,o;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?s=1-i:s=(this.getDecimalForValue(t[1])-i)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?n=o:n=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;s=Xn(s,0,c),n=Xn(n,0,c),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const t=this._adapter,s=this.min,n=this.max,i=this.options,o=i.time,c=o.unit||x_(o.minUnit,s,n,this._getLabelCapacity(s)),u=us(i.ticks.stepSize,1),h=c==="week"?o.isoWeekday:!1,f=Zh(h)||h===!0,p={};let g=s,x,b;if(f&&(g=+t.startOf(g,"isoWeek",h)),g=+t.startOf(g,f?"day":c),t.diff(n,s,c)>1e5*u)throw new Error(s+" and "+n+" are too far apart with stepSize of "+u+" "+c);const j=i.ticks.source==="data"&&this.getDataTimestamps();for(x=g,b=0;x<n;x=+t.add(x,u,c),b++)y_(p,x,j);return(x===n||i.bounds==="ticks"||b===1)&&y_(p,x,j),Object.keys(p).sort(p_).map(v=>+v)}getLabelForValue(t){const s=this._adapter,n=this.options.time;return n.tooltipFormat?s.format(t,n.tooltipFormat):s.format(t,n.displayFormats.datetime)}format(t,s){const i=this.options.time.displayFormats,o=this._unit,c=s||i[o];return this._adapter.format(t,c)}_tickFormatFunction(t,s,n,i){const o=this.options,c=o.ticks.callback;if(c)return js(c,[t,s,n],this);const u=o.time.displayFormats,h=this._unit,f=this._majorUnit,p=h&&u[h],g=f&&u[f],x=n[s],b=f&&g&&x&&x.major;return this._adapter.format(t,i||(b?g:p))}generateTickLabels(t){let s,n,i;for(s=0,n=t.length;s<n;++s)i=t[s],i.label=this._tickFormatFunction(i.value,s,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const s=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((s.start+n)*s.factor)}getValueForPixel(t){const s=this._offsets,n=this.getDecimalForPixel(t)/s.factor-s.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const s=this.options.ticks,n=this.ctx.measureText(t).width,i=Lo(this.isHorizontal()?s.maxRotation:s.minRotation),o=Math.cos(i),c=Math.sin(i),u=this._resolveTickFontOptions(0).size;return{w:n*o+u*c,h:n*c+u*o}}_getLabelCapacity(t){const s=this.options.time,n=s.displayFormats,i=n[s.unit]||n.millisecond,o=this._tickFormatFunction(t,0,b_(this,[t],this._majorUnit),i),c=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],s,n;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(s=0,n=i.length;s<n;++s)t=t.concat(i[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let s,n;if(t.length)return t;const i=this.getLabels();for(s=0,n=i.length;s<n;++s)t.push(g_(this,i[s]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return IB(t.sort(p_))}}Et(nm,"id","time"),Et(nm,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function uh(e,t,s){let n=0,i=e.length-1,o,c,u,h;s?(t>=e[n].pos&&t<=e[i].pos&&({lo:n,hi:i}=hx(e,"pos",t)),{pos:o,time:u}=e[n],{pos:c,time:h}=e[i]):(t>=e[n].time&&t<=e[i].time&&({lo:n,hi:i}=hx(e,"time",t)),{time:o,pos:u}=e[n],{time:c,pos:h}=e[i]);const f=c-o;return f?u+(h-u)*(t-o)/f:u}class v_ extends nm{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(t);this._minPos=uh(s,this.min),this._tableRange=uh(s,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:s,max:n}=this,i=[],o=[];let c,u,h,f,p;for(c=0,u=t.length;c<u;++c)f=t[c],f>=s&&f<=n&&i.push(f);if(i.length<2)return[{time:s,pos:0},{time:n,pos:1}];for(c=0,u=i.length;c<u;++c)p=i[c+1],h=i[c-1],f=i[c],Math.round((p+h)/2)!==f&&o.push({time:f,pos:c/(u-1)});return o}_generate(){const t=this.min,s=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(s)||n.length===1)&&n.push(s),n.sort((i,o)=>i-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const s=this.getDataTimestamps(),n=this.getLabelTimestamps();return s.length&&n.length?t=this.normalize(s.concat(n)):t=s.length?s:n,t=this._cache.all=t,t}getDecimalForValue(t){return(uh(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const s=this._offsets,n=this.getDecimalForPixel(t)/s.factor-s.end;return uh(this._table,n*this._tableRange+this._minPos,!0)}}Et(v_,"id","timeseries"),Et(v_,"defaults",nm.defaults);Di.register(yx,bx,Mh,zu,yU,SU,gU);const PU=({className:e=""})=>r.jsx("div",{className:`inline-block animate-spin rounded-full border-4 border-gray-200 border-t-blue-600 h-6 w-6 ${e}`}),LU=()=>{const{allProjects:e,filteredData:t,selectedProject:s,selectedTeam:n,setSelectedProject:i,setSelectedTeam:o,isLoading:c}=ML();return c?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx(PU,{className:"h-12 w-12 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Đang tải dữ liệu..."})]})}):r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-800 text-center flex-1",children:"Bảng điều khiển quản lý dự án"}),r.jsx(JL,{projects:e,selectedProject:s,selectedTeam:n,onProjectChange:i,onTeamChange:o})]}),r.jsx(tB,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:s}),r.jsx(nB,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:s}),r.jsx(sB,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:s})]})})},Ao=e=>e==null?"N/A":new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0}).format(e);var vd=e=>e.type==="checkbox",Fo=e=>e instanceof Date,Rn=e=>e==null;const dC=e=>typeof e=="object";var Vs=e=>!Rn(e)&&!Array.isArray(e)&&dC(e)&&!Fo(e),fC=e=>Vs(e)&&e.target?vd(e.target)?e.target.checked:e.target.value:e,BU=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,hC=(e,t)=>e.has(BU(t)),FU=e=>{const t=e.constructor&&e.constructor.prototype;return Vs(t)&&t.hasOwnProperty("isPrototypeOf")},Iy=typeof window!="undefined"&&typeof window.HTMLElement!="undefined"&&typeof document!="undefined";function sn(e){let t;const s=Array.isArray(e),n=typeof FileList!="undefined"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Iy&&(e instanceof Blob||n))&&(s||Vs(e)))if(t=s?[]:Object.create(Object.getPrototypeOf(e)),!s&&!FU(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=sn(e[i]));else return e;return t}var Cm=e=>/^\w*$/.test(e),Hs=e=>e===void 0,qy=e=>Array.isArray(e)?e.filter(Boolean):[],Wy=e=>qy(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Qe=(e,t,s)=>{if(!t||!Vs(e))return s;const n=(Cm(t)?[t]:Wy(t)).reduce((i,o)=>Rn(i)?i:i[o],e);return Hs(n)||n===e?Hs(e[t])?s:e[t]:n},ra=e=>typeof e=="boolean",ws=(e,t,s)=>{let n=-1;const i=Cm(t)?[t]:Wy(t),o=i.length,c=o-1;for(;++n<o;){const u=i[n];let h=s;if(n!==c){const f=e[u];h=Vs(f)||Array.isArray(f)?f:isNaN(+i[n+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;e[u]=h,e=e[u]}};const am={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ia={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},$r={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},mC=ae.createContext(null);mC.displayName="HookFormContext";const Yy=()=>ae.useContext(mC);var pC=(e,t,s,n=!0)=>{const i={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(i,o,{get:()=>{const c=o;return t._proxyFormState[c]!==Ia.all&&(t._proxyFormState[c]=!n||Ia.all),s&&(s[c]=!0),e[c]}});return i};const Gy=typeof window!="undefined"?ae.useLayoutEffect:ae.useEffect;function UU(e){const t=Yy(),{control:s=t.control,disabled:n,name:i,exact:o}=e||{},[c,u]=ae.useState(s._formState),h=ae.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Gy(()=>s._subscribe({name:i,formState:h.current,exact:o,callback:f=>{!n&&u(L(L({},s._formState),f))}}),[i,n,o]),ae.useEffect(()=>{h.current.isValid&&s._setValid(!0)},[s]),ae.useMemo(()=>pC(c,s,h.current,!1),[c,s])}var dr=e=>typeof e=="string",gC=(e,t,s,n,i)=>dr(e)?(n&&t.watch.add(e),Qe(s,e,i)):Array.isArray(e)?e.map(o=>(n&&t.watch.add(o),Qe(s,o))):(n&&(t.watchAll=!0),s),vx=e=>Rn(e)||!dC(e);function Gr(e,t,s=new WeakSet){if(vx(e)||vx(t))return e===t;if(Fo(e)&&Fo(t))return e.getTime()===t.getTime();const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;if(s.has(e)||s.has(t))return!0;s.add(e),s.add(t);for(const o of n){const c=e[o];if(!i.includes(o))return!1;if(o!=="ref"){const u=t[o];if(Fo(c)&&Fo(u)||Vs(c)&&Vs(u)||Array.isArray(c)&&Array.isArray(u)?!Gr(c,u,s):c!==u)return!1}}return!0}function zU(e){const t=Yy(),{control:s=t.control,name:n,defaultValue:i,disabled:o,exact:c,compute:u}=e||{},h=ae.useRef(i),f=ae.useRef(u),p=ae.useRef(void 0);f.current=u;const g=ae.useMemo(()=>s._getWatch(n,h.current),[s,n]),[x,b]=ae.useState(f.current?f.current(g):g);return Gy(()=>s._subscribe({name:n,formState:{values:!0},exact:c,callback:j=>{if(!o){const v=gC(n,s._names,j.values||s._formValues,!1,h.current);if(f.current){const T=f.current(v);Gr(T,p.current)||(b(T),p.current=T)}else b(v)}}}),[s,o,n,c]),ae.useEffect(()=>s._removeUnmounted()),x}function HU(e){const t=Yy(),{name:s,disabled:n,control:i=t.control,shouldUnregister:o,defaultValue:c}=e,u=hC(i._names.array,s),h=ae.useMemo(()=>Qe(i._formValues,s,Qe(i._defaultValues,s,c)),[i,s,c]),f=zU({control:i,name:s,defaultValue:h,exact:!0}),p=UU({control:i,name:s,exact:!0}),g=ae.useRef(e),x=ae.useRef(i.register(s,L(oe(L({},e.rules),{value:f}),ra(e.disabled)?{disabled:e.disabled}:{})));g.current=e;const b=ae.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Qe(p.errors,s)},isDirty:{enumerable:!0,get:()=>!!Qe(p.dirtyFields,s)},isTouched:{enumerable:!0,get:()=>!!Qe(p.touchedFields,s)},isValidating:{enumerable:!0,get:()=>!!Qe(p.validatingFields,s)},error:{enumerable:!0,get:()=>Qe(p.errors,s)}}),[p,s]),j=ae.useCallback(R=>x.current.onChange({target:{value:fC(R),name:s},type:am.CHANGE}),[s]),v=ae.useCallback(()=>x.current.onBlur({target:{value:Qe(i._formValues,s),name:s},type:am.BLUR}),[s,i._formValues]),T=ae.useCallback(R=>{const S=Qe(i._fields,s);S&&R&&(S._f.ref={focus:()=>R.focus&&R.focus(),select:()=>R.select&&R.select(),setCustomValidity:C=>R.setCustomValidity(C),reportValidity:()=>R.reportValidity()})},[i._fields,s]),_=ae.useMemo(()=>oe(L({name:s,value:f},ra(n)||p.disabled?{disabled:p.disabled||n}:{}),{onChange:j,onBlur:v,ref:T}),[s,n,p.disabled,j,v,T,f]);return ae.useEffect(()=>{const R=i._options.shouldUnregister||o;i.register(s,L(L({},g.current.rules),ra(g.current.disabled)?{disabled:g.current.disabled}:{}));const S=(C,D)=>{const k=Qe(i._fields,C);k&&k._f&&(k._f.mount=D)};if(S(s,!0),R){const C=sn(Qe(i._options.defaultValues,s));ws(i._defaultValues,s,C),Hs(Qe(i._formValues,s))&&ws(i._formValues,s,C)}return!u&&i.register(s),()=>{(u?R&&!i._state.action:R)?i.unregister(s):S(s,!1)}},[s,i,u,o]),ae.useEffect(()=>{i._setDisabledField({disabled:n,name:s})},[n,s,i]),ae.useMemo(()=>({field:_,formState:p,fieldState:b}),[_,p,b])}const Ta=e=>e.render(HU(e));var $U=(e,t,s,n,i)=>t?oe(L({},s[e]),{types:oe(L({},s[e]&&s[e].types?s[e].types:{}),{[n]:i||!0})}):{},qu=e=>Array.isArray(e)?e:[e],w_=()=>{let e=[];return{get observers(){return e},next:i=>{for(const o of e)o.next&&o.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(o=>o!==i)}}),unsubscribe:()=>{e=[]}}},In=e=>Vs(e)&&!Object.keys(e).length,Xy=e=>e.type==="file",qa=e=>typeof e=="function",rm=e=>{if(!Iy)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},xC=e=>e.type==="select-multiple",Ky=e=>e.type==="radio",VU=e=>Ky(e)||vd(e),w0=e=>rm(e)&&e.isConnected;function IU(e,t){const s=t.slice(0,-1).length;let n=0;for(;n<s;)e=Hs(e)?n++:e[t[n++]];return e}function qU(e){for(const t in e)if(e.hasOwnProperty(t)&&!Hs(e[t]))return!1;return!0}function Gs(e,t){const s=Array.isArray(t)?t:Cm(t)?[t]:Wy(t),n=s.length===1?e:IU(e,s),i=s.length-1,o=s[i];return n&&delete n[o],i!==0&&(Vs(n)&&In(n)||Array.isArray(n)&&qU(n))&&Gs(e,s.slice(0,-1)),e}var yC=e=>{for(const t in e)if(qa(e[t]))return!0;return!1};function im(e,t={}){const s=Array.isArray(e);if(Vs(e)||s)for(const n in e)Array.isArray(e[n])||Vs(e[n])&&!yC(e[n])?(t[n]=Array.isArray(e[n])?[]:{},im(e[n],t[n])):Rn(e[n])||(t[n]=!0);return t}function bC(e,t,s){const n=Array.isArray(e);if(Vs(e)||n)for(const i in e)Array.isArray(e[i])||Vs(e[i])&&!yC(e[i])?Hs(t)||vx(s[i])?s[i]=Array.isArray(e[i])?im(e[i],[]):L({},im(e[i])):bC(e[i],Rn(t)?{}:t[i],s[i]):s[i]=!Gr(e[i],t[i]);return s}var ku=(e,t)=>bC(e,t,im(t));const j_={value:!1,isValid:!1},N_={value:!0,isValid:!0};var vC=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Hs(e[0].attributes.value)?Hs(e[0].value)||e[0].value===""?N_:{value:e[0].value,isValid:!0}:N_:j_}return j_},wC=(e,{valueAsNumber:t,valueAsDate:s,setValueAs:n})=>Hs(e)?e:t?e===""?NaN:e&&+e:s&&dr(e)?new Date(e):n?n(e):e;const __={isValid:!1,value:null};var jC=e=>Array.isArray(e)?e.reduce((t,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:t,__):__;function T_(e){const t=e.ref;return Xy(t)?t.files:Ky(t)?jC(e.refs).value:xC(t)?[...t.selectedOptions].map(({value:s})=>s):vd(t)?vC(e.refs).value:wC(Hs(t.value)?e.ref.value:t.value,e)}var WU=(e,t,s,n)=>{const i={};for(const o of e){const c=Qe(t,o);c&&ws(i,o,c._f)}return{criteriaMode:s,names:[...e],fields:i,shouldUseNativeValidation:n}},om=e=>e instanceof RegExp,Du=e=>Hs(e)?e:om(e)?e.source:Vs(e)?om(e.value)?e.value.source:e.value:e,S_=e=>({isOnSubmit:!e||e===Ia.onSubmit,isOnBlur:e===Ia.onBlur,isOnChange:e===Ia.onChange,isOnAll:e===Ia.all,isOnTouch:e===Ia.onTouched});const C_="AsyncFunction";var YU=e=>!!e&&!!e.validate&&!!(qa(e.validate)&&e.validate.constructor.name===C_||Vs(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===C_)),GU=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),E_=(e,t,s)=>!s&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Wu=(e,t,s,n)=>{for(const o of s||Object.keys(e)){const c=Qe(e,o);if(c){const i=c,{_f:u}=i,h=Oe(i,["_f"]);if(u){if(u.refs&&u.refs[0]&&t(u.refs[0],o)&&!n)return!0;if(u.ref&&t(u.ref,u.name)&&!n)return!0;if(Wu(h,t))break}else if(Vs(h)&&Wu(h,t))break}}};function k_(e,t,s){const n=Qe(e,s);if(n||Cm(s))return{error:n,name:s};const i=s.split(".");for(;i.length;){const o=i.join("."),c=Qe(t,o),u=Qe(e,o);if(c&&!Array.isArray(c)&&s!==o)return{name:s};if(u&&u.type)return{name:o,error:u};if(u&&u.root&&u.root.type)return{name:`${o}.root`,error:u.root};i.pop()}return{name:s}}var XU=(e,t,s,n)=>{s(e);const c=e,{name:i}=c,o=Oe(c,["name"]);return In(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(u=>t[u]===(!n||Ia.all))},KU=(e,t,s)=>!e||!t||e===t||qu(e).some(n=>n&&(s?n===t:n.startsWith(t)||t.startsWith(n))),QU=(e,t,s,n,i)=>i.isOnAll?!1:!s&&i.isOnTouch?!(t||e):(s?n.isOnBlur:i.isOnBlur)?!e:(s?n.isOnChange:i.isOnChange)?e:!0,ZU=(e,t)=>!qy(Qe(e,t)).length&&Gs(e,t),JU=(e,t,s)=>{const n=qu(Qe(e,s));return ws(n,"root",t[s]),ws(e,s,n),e},Ph=e=>dr(e);function D_(e,t,s="validate"){if(Ph(e)||Array.isArray(e)&&e.every(Ph)||ra(e)&&!e)return{type:s,message:Ph(e)?e:"",ref:t}}var Vl=e=>Vs(e)&&!om(e)?e:{value:e,message:""},A_=(e,t,s,n,i,o)=>we(null,null,function*(){const{ref:c,refs:u,required:h,maxLength:f,minLength:p,min:g,max:x,pattern:b,validate:j,name:v,valueAsNumber:T,mount:_}=e._f,R=Qe(s,v);if(!_||t.has(v))return{};const S=u?u[0]:c,C=Q=>{i&&S.reportValidity&&(S.setCustomValidity(ra(Q)?"":Q||""),S.reportValidity())},D={},k=Ky(c),B=vd(c),F=k||B,O=(T||Xy(c))&&Hs(c.value)&&Hs(R)||rm(c)&&c.value===""||R===""||Array.isArray(R)&&!R.length,X=$U.bind(null,v,n,D),I=(Q,W,Y,H=$r.maxLength,z=$r.minLength)=>{const Z=Q?W:Y;D[v]=L({type:Q?H:z,message:Z,ref:c},X(Q?H:z,Z))};if(o?!Array.isArray(R)||!R.length:h&&(!F&&(O||Rn(R))||ra(R)&&!R||B&&!vC(u).isValid||k&&!jC(u).isValid)){const{value:Q,message:W}=Ph(h)?{value:!!h,message:h}:Vl(h);if(Q&&(D[v]=L({type:$r.required,message:W,ref:S},X($r.required,W)),!n))return C(W),D}if(!O&&(!Rn(g)||!Rn(x))){let Q,W;const Y=Vl(x),H=Vl(g);if(!Rn(R)&&!isNaN(R)){const z=c.valueAsNumber||R&&+R;Rn(Y.value)||(Q=z>Y.value),Rn(H.value)||(W=z<H.value)}else{const z=c.valueAsDate||new Date(R),Z=M=>new Date(new Date().toDateString()+" "+M),te=c.type=="time",ue=c.type=="week";dr(Y.value)&&R&&(Q=te?Z(R)>Z(Y.value):ue?R>Y.value:z>new Date(Y.value)),dr(H.value)&&R&&(W=te?Z(R)<Z(H.value):ue?R<H.value:z<new Date(H.value))}if((Q||W)&&(I(!!Q,Y.message,H.message,$r.max,$r.min),!n))return C(D[v].message),D}if((f||p)&&!O&&(dr(R)||o&&Array.isArray(R))){const Q=Vl(f),W=Vl(p),Y=!Rn(Q.value)&&R.length>+Q.value,H=!Rn(W.value)&&R.length<+W.value;if((Y||H)&&(I(Y,Q.message,W.message),!n))return C(D[v].message),D}if(b&&!O&&dr(R)){const{value:Q,message:W}=Vl(b);if(om(Q)&&!R.match(Q)&&(D[v]=L({type:$r.pattern,message:W,ref:c},X($r.pattern,W)),!n))return C(W),D}if(j){if(qa(j)){const Q=yield j(R,s),W=D_(Q,S);if(W&&(D[v]=L(L({},W),X($r.validate,W.message)),!n))return C(W.message),D}else if(Vs(j)){let Q={};for(const W in j){if(!In(Q)&&!n)break;const Y=D_(yield j[W](R,s),S,W);Y&&(Q=L(L({},Y),X(W,Y.message)),C(Y.message),n&&(D[v]=Q))}if(!In(Q)&&(D[v]=L({ref:S},Q),!n))return D}}return C(!0),D});const ez={mode:Ia.onSubmit,reValidateMode:Ia.onChange,shouldFocusError:!0};function tz(e={}){let t=L(L({},ez),e),s={submitCount:0,isDirty:!1,isReady:!1,isLoading:qa(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},i=Vs(t.defaultValues)||Vs(t.values)?sn(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:sn(i),c={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,f=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let g=L({},p);const x={array:w_(),state:w_()},b=t.criteriaMode===Ia.all,j=K=>me=>{clearTimeout(f),f=setTimeout(K,me)},v=K=>we(null,null,function*(){if(!t.disabled&&(p.isValid||g.isValid||K)){const me=t.resolver?In((yield B()).errors):yield O(n,!0);me!==s.isValid&&x.state.next({isValid:me})}}),T=(K,me)=>{!t.disabled&&(p.isValidating||p.validatingFields||g.isValidating||g.validatingFields)&&((K||Array.from(u.mount)).forEach(G=>{G&&(me?ws(s.validatingFields,G,me):Gs(s.validatingFields,G))}),x.state.next({validatingFields:s.validatingFields,isValidating:!In(s.validatingFields)}))},_=(K,me=[],G,Te,Ue=!0,Pe=!0)=>{if(Te&&G&&!t.disabled){if(c.action=!0,Pe&&Array.isArray(Qe(n,K))){const We=G(Qe(n,K),Te.argA,Te.argB);Ue&&ws(n,K,We)}if(Pe&&Array.isArray(Qe(s.errors,K))){const We=G(Qe(s.errors,K),Te.argA,Te.argB);Ue&&ws(s.errors,K,We),ZU(s.errors,K)}if((p.touchedFields||g.touchedFields)&&Pe&&Array.isArray(Qe(s.touchedFields,K))){const We=G(Qe(s.touchedFields,K),Te.argA,Te.argB);Ue&&ws(s.touchedFields,K,We)}(p.dirtyFields||g.dirtyFields)&&(s.dirtyFields=ku(i,o)),x.state.next({name:K,isDirty:I(K,me),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else ws(o,K,me)},R=(K,me)=>{ws(s.errors,K,me),x.state.next({errors:s.errors})},S=K=>{s.errors=K,x.state.next({errors:s.errors,isValid:!1})},C=(K,me,G,Te)=>{const Ue=Qe(n,K);if(Ue){const Pe=Qe(o,K,Hs(G)?Qe(i,K):G);Hs(Pe)||Te&&Te.defaultChecked||me?ws(o,K,me?Pe:T_(Ue._f)):Y(K,Pe),c.mount&&v()}},D=(K,me,G,Te,Ue)=>{let Pe=!1,We=!1;const Ze={name:K};if(!t.disabled){if(!G||Te){(p.isDirty||g.isDirty)&&(We=s.isDirty,s.isDirty=Ze.isDirty=I(),Pe=We!==Ze.isDirty);const at=Gr(Qe(i,K),me);We=!!Qe(s.dirtyFields,K),at?Gs(s.dirtyFields,K):ws(s.dirtyFields,K,!0),Ze.dirtyFields=s.dirtyFields,Pe=Pe||(p.dirtyFields||g.dirtyFields)&&We!==!at}if(G){const at=Qe(s.touchedFields,K);at||(ws(s.touchedFields,K,G),Ze.touchedFields=s.touchedFields,Pe=Pe||(p.touchedFields||g.touchedFields)&&at!==G)}Pe&&Ue&&x.state.next(Ze)}return Pe?Ze:{}},k=(K,me,G,Te)=>{const Ue=Qe(s.errors,K),Pe=(p.isValid||g.isValid)&&ra(me)&&s.isValid!==me;if(t.delayError&&G?(h=j(()=>R(K,G)),h(t.delayError)):(clearTimeout(f),h=null,G?ws(s.errors,K,G):Gs(s.errors,K)),(G?!Gr(Ue,G):Ue)||!In(Te)||Pe){const We=oe(L(L({},Te),Pe&&ra(me)?{isValid:me}:{}),{errors:s.errors,name:K});s=L(L({},s),We),x.state.next(We)}},B=K=>we(null,null,function*(){T(K,!0);const me=yield t.resolver(o,t.context,WU(K||u.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return T(K),me}),F=K=>we(null,null,function*(){const{errors:me}=yield B(K);if(K)for(const G of K){const Te=Qe(me,G);Te?ws(s.errors,G,Te):Gs(s.errors,G)}else s.errors=me;return me}),O=(Te,Ue,...Pe)=>we(null,[Te,Ue,...Pe],function*(K,me,G={valid:!0}){for(const Ze in K){const at=K[Ze];if(at){const We=at,{_f:jt}=We,Se=Oe(We,["_f"]);if(jt){const Fe=u.array.has(jt.name),Ke=at._f&&YU(at._f);Ke&&p.validatingFields&&T([Ze],!0);const zt=yield A_(at,u.disabled,o,b,t.shouldUseNativeValidation&&!me,Fe);if(Ke&&p.validatingFields&&T([Ze]),zt[jt.name]&&(G.valid=!1,me))break;!me&&(Qe(zt,jt.name)?Fe?JU(s.errors,zt,jt.name):ws(s.errors,jt.name,zt[jt.name]):Gs(s.errors,jt.name))}!In(Se)&&(yield O(Se,me,G))}}return G.valid}),X=()=>{for(const K of u.unMount){const me=Qe(n,K);me&&(me._f.refs?me._f.refs.every(G=>!w0(G)):!w0(me._f.ref))&&Ee(K)}u.unMount=new Set},I=(K,me)=>!t.disabled&&(K&&me&&ws(o,K,me),!Gr(M(),i)),Q=(K,me,G)=>gC(K,u,L({},c.mount?o:Hs(me)?i:dr(K)?{[K]:me}:me),G,me),W=K=>qy(Qe(c.mount?o:i,K,t.shouldUnregister?Qe(i,K,[]):[])),Y=(K,me,G={})=>{const Te=Qe(n,K);let Ue=me;if(Te){const Pe=Te._f;Pe&&(!Pe.disabled&&ws(o,K,wC(me,Pe)),Ue=rm(Pe.ref)&&Rn(me)?"":me,xC(Pe.ref)?[...Pe.ref.options].forEach(We=>We.selected=Ue.includes(We.value)):Pe.refs?vd(Pe.ref)?Pe.refs.forEach(We=>{(!We.defaultChecked||!We.disabled)&&(Array.isArray(Ue)?We.checked=!!Ue.find(Ze=>Ze===We.value):We.checked=Ue===We.value||!!Ue)}):Pe.refs.forEach(We=>We.checked=We.value===Ue):Xy(Pe.ref)?Pe.ref.value="":(Pe.ref.value=Ue,Pe.ref.type||x.state.next({name:K,values:sn(o)})))}(G.shouldDirty||G.shouldTouch)&&D(K,Ue,G.shouldTouch,G.shouldDirty,!0),G.shouldValidate&&ue(K)},H=(K,me,G)=>{for(const Te in me){if(!me.hasOwnProperty(Te))return;const Ue=me[Te],Pe=K+"."+Te,We=Qe(n,Pe);(u.array.has(K)||Vs(Ue)||We&&!We._f)&&!Fo(Ue)?H(Pe,Ue,G):Y(Pe,Ue,G)}},z=(K,me,G={})=>{const Te=Qe(n,K),Ue=u.array.has(K),Pe=sn(me);ws(o,K,Pe),Ue?(x.array.next({name:K,values:sn(o)}),(p.isDirty||p.dirtyFields||g.isDirty||g.dirtyFields)&&G.shouldDirty&&x.state.next({name:K,dirtyFields:ku(i,o),isDirty:I(K,Pe)})):Te&&!Te._f&&!Rn(Pe)?H(K,Pe,G):Y(K,Pe,G),E_(K,u)&&x.state.next(oe(L({},s),{name:K})),x.state.next({name:c.mount?K:void 0,values:sn(o)})},Z=K=>we(null,null,function*(){c.mount=!0;const me=K.target;let G=me.name,Te=!0;const Ue=Qe(n,G),Pe=at=>{Te=Number.isNaN(at)||Fo(at)&&isNaN(at.getTime())||Gr(at,Qe(o,G,at))},We=S_(t.mode),Ze=S_(t.reValidateMode);if(Ue){let at,jt;const Se=me.type?T_(Ue._f):fC(K),Fe=K.type===am.BLUR||K.type===am.FOCUS_OUT,Ke=!GU(Ue._f)&&!t.resolver&&!Qe(s.errors,G)&&!Ue._f.deps||QU(Fe,Qe(s.touchedFields,G),s.isSubmitted,Ze,We),zt=E_(G,u,Fe);ws(o,G,Se),Fe?(!me||!me.readOnly)&&(Ue._f.onBlur&&Ue._f.onBlur(K),h&&h(0)):Ue._f.onChange&&Ue._f.onChange(K);const Gt=D(G,Se,Fe),Xt=!In(Gt)||zt;if(!Fe&&x.state.next({name:G,type:K.type,values:sn(o)}),Ke)return(p.isValid||g.isValid)&&(t.mode==="onBlur"?Fe&&v():Fe||v()),Xt&&x.state.next(L({name:G},zt?{}:Gt));if(!Fe&&zt&&x.state.next(L({},s)),t.resolver){const{errors:is}=yield B([G]);if(Pe(Se),Te){const Is=k_(s.errors,n,G),rn=k_(is,n,Is.name||G);at=rn.error,G=rn.name,jt=In(is)}}else T([G],!0),at=(yield A_(Ue,u.disabled,o,b,t.shouldUseNativeValidation))[G],T([G]),Pe(Se),Te&&(at?jt=!1:(p.isValid||g.isValid)&&(jt=yield O(n,!0)));Te&&(Ue._f.deps&&ue(Ue._f.deps),k(G,jt,at,Gt))}}),te=(K,me)=>{if(Qe(s.errors,me)&&K.focus)return K.focus(),1},ue=(G,...Te)=>we(null,[G,...Te],function*(K,me={}){let Ue,Pe;const We=qu(K);if(t.resolver){const Ze=yield F(Hs(K)?K:We);Ue=In(Ze),Pe=K?!We.some(at=>Qe(Ze,at)):Ue}else K?(Pe=(yield Promise.all(We.map(Ze=>we(null,null,function*(){const at=Qe(n,Ze);return yield O(at&&at._f?{[Ze]:at}:at)})))).every(Boolean),!(!Pe&&!s.isValid)&&v()):Pe=Ue=yield O(n);return x.state.next(oe(L(L({},!dr(K)||(p.isValid||g.isValid)&&Ue!==s.isValid?{}:{name:K}),t.resolver||!K?{isValid:Ue}:{}),{errors:s.errors})),me.shouldFocus&&!Pe&&Wu(n,te,K?We:u.mount),Pe}),M=K=>{const me=L({},c.mount?o:i);return Hs(K)?me:dr(K)?Qe(me,K):K.map(G=>Qe(me,G))},ie=(K,me)=>({invalid:!!Qe((me||s).errors,K),isDirty:!!Qe((me||s).dirtyFields,K),error:Qe((me||s).errors,K),isValidating:!!Qe(s.validatingFields,K),isTouched:!!Qe((me||s).touchedFields,K)}),ne=K=>{K&&qu(K).forEach(me=>Gs(s.errors,me)),x.state.next({errors:K?s.errors:{}})},V=(K,me,G)=>{const Te=(Qe(n,K,{_f:{}})._f||{}).ref,jt=Qe(s.errors,K)||{},{ref:Pe,message:We,type:Ze}=jt,at=Oe(jt,["ref","message","type"]);ws(s.errors,K,oe(L(L({},at),me),{ref:Te})),x.state.next({name:K,errors:s.errors,isValid:!1}),G&&G.shouldFocus&&Te&&Te.focus&&Te.focus()},J=(K,me)=>qa(K)?x.state.subscribe({next:G=>"values"in G&&K(Q(void 0,me),G)}):Q(K,me,!0),xe=K=>x.state.subscribe({next:me=>{KU(K.name,me.name,K.exact)&&XU(me,K.formState||p,Be,K.reRenderRoot)&&K.callback(oe(L(L({values:L({},o)},s),me),{defaultValues:i}))}}).unsubscribe,fe=K=>(c.mount=!0,g=L(L({},g),K.formState),xe(oe(L({},K),{formState:g}))),Ee=(K,me={})=>{for(const G of K?qu(K):u.mount)u.mount.delete(G),u.array.delete(G),me.keepValue||(Gs(n,G),Gs(o,G)),!me.keepError&&Gs(s.errors,G),!me.keepDirty&&Gs(s.dirtyFields,G),!me.keepTouched&&Gs(s.touchedFields,G),!me.keepIsValidating&&Gs(s.validatingFields,G),!t.shouldUnregister&&!me.keepDefaultValue&&Gs(i,G);x.state.next({values:sn(o)}),x.state.next(L(L({},s),me.keepDirty?{isDirty:I()}:{})),!me.keepIsValid&&v()},De=({disabled:K,name:me})=>{(ra(K)&&c.mount||K||u.disabled.has(me))&&(K?u.disabled.add(me):u.disabled.delete(me))},Ie=(K,me={})=>{let G=Qe(n,K);const Te=ra(me.disabled)||ra(t.disabled);return ws(n,K,oe(L({},G||{}),{_f:L(oe(L({},G&&G._f?G._f:{ref:{name:K}}),{name:K,mount:!0}),me)})),u.mount.add(K),G?De({disabled:ra(me.disabled)?me.disabled:t.disabled,name:K}):C(K,!0,me.value),oe(L(L({},Te?{disabled:me.disabled||t.disabled}:{}),t.progressive?{required:!!me.required,min:Du(me.min),max:Du(me.max),minLength:Du(me.minLength),maxLength:Du(me.maxLength),pattern:Du(me.pattern)}:{}),{name:K,onChange:Z,onBlur:Z,ref:Ue=>{if(Ue){Ie(K,me),G=Qe(n,K);const Pe=Hs(Ue.value)&&Ue.querySelectorAll&&Ue.querySelectorAll("input,select,textarea")[0]||Ue,We=VU(Pe),Ze=G._f.refs||[];if(We?Ze.find(at=>at===Pe):Pe===G._f.ref)return;ws(n,K,{_f:L(L({},G._f),We?{refs:[...Ze.filter(w0),Pe,...Array.isArray(Qe(i,K))?[{}]:[]],ref:{type:Pe.type,name:K}}:{ref:Pe})}),C(K,!1,void 0,Pe)}else G=Qe(n,K,{}),G._f&&(G._f.mount=!1),(t.shouldUnregister||me.shouldUnregister)&&!(hC(u.array,K)&&c.action)&&u.unMount.add(K)}})},re=()=>t.shouldFocusError&&Wu(n,te,u.mount),Re=K=>{ra(K)&&(x.state.next({disabled:K}),Wu(n,(me,G)=>{const Te=Qe(n,G);Te&&(me.disabled=Te._f.disabled||K,Array.isArray(Te._f.refs)&&Te._f.refs.forEach(Ue=>{Ue.disabled=Te._f.disabled||K}))},0,!1))},He=(K,me)=>G=>we(null,null,function*(){let Te;G&&(G.preventDefault&&G.preventDefault(),G.persist&&G.persist());let Ue=sn(o);if(x.state.next({isSubmitting:!0}),t.resolver){const{errors:Pe,values:We}=yield B();s.errors=Pe,Ue=sn(We)}else yield O(n);if(u.disabled.size)for(const Pe of u.disabled)Gs(Ue,Pe);if(Gs(s.errors,"root"),In(s.errors)){x.state.next({errors:{}});try{yield K(Ue,G)}catch(Pe){Te=Pe}}else me&&(yield me(L({},s.errors),G)),re(),setTimeout(re);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:In(s.errors)&&!Te,submitCount:s.submitCount+1,errors:s.errors}),Te)throw Te}),Xe=(K,me={})=>{Qe(n,K)&&(Hs(me.defaultValue)?z(K,sn(Qe(i,K))):(z(K,me.defaultValue),ws(i,K,sn(me.defaultValue))),me.keepTouched||Gs(s.touchedFields,K),me.keepDirty||(Gs(s.dirtyFields,K),s.isDirty=me.defaultValue?I(K,sn(Qe(i,K))):I()),me.keepError||(Gs(s.errors,K),p.isValid&&v()),x.state.next(L({},s)))},Le=(K,me={})=>{const G=K?sn(K):i,Te=sn(G),Ue=In(K),Pe=Ue?i:Te;if(me.keepDefaultValues||(i=G),!me.keepValues){if(me.keepDirtyValues){const We=new Set([...u.mount,...Object.keys(ku(i,o))]);for(const Ze of Array.from(We))Qe(s.dirtyFields,Ze)?ws(Pe,Ze,Qe(o,Ze)):z(Ze,Qe(Pe,Ze))}else{if(Iy&&Hs(K))for(const We of u.mount){const Ze=Qe(n,We);if(Ze&&Ze._f){const at=Array.isArray(Ze._f.refs)?Ze._f.refs[0]:Ze._f.ref;if(rm(at)){const jt=at.closest("form");if(jt){jt.reset();break}}}}if(me.keepFieldsRef)for(const We of u.mount)z(We,Qe(Pe,We));else n={}}o=t.shouldUnregister?me.keepDefaultValues?sn(i):{}:sn(Pe),x.array.next({values:L({},Pe)}),x.state.next({values:L({},Pe)})}u={mount:me.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!p.isValid||!!me.keepIsValid||!!me.keepDirtyValues,c.watch=!!t.shouldUnregister,x.state.next({submitCount:me.keepSubmitCount?s.submitCount:0,isDirty:Ue?!1:me.keepDirty?s.isDirty:!!(me.keepDefaultValues&&!Gr(K,i)),isSubmitted:me.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:Ue?{}:me.keepDirtyValues?me.keepDefaultValues&&o?ku(i,o):s.dirtyFields:me.keepDefaultValues&&K?ku(i,K):me.keepDirty?s.dirtyFields:{},touchedFields:me.keepTouched?s.touchedFields:{},errors:me.keepErrors?s.errors:{},isSubmitSuccessful:me.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},dt=(K,me)=>Le(qa(K)?K(o):K,me),Ge=(K,me={})=>{const G=Qe(n,K),Te=G&&G._f;if(Te){const Ue=Te.refs?Te.refs[0]:Te.ref;Ue.focus&&(Ue.focus(),me.shouldSelect&&qa(Ue.select)&&Ue.select())}},Be=K=>{s=L(L({},s),K)},nt={control:{register:Ie,unregister:Ee,getFieldState:ie,handleSubmit:He,setError:V,_subscribe:xe,_runSchema:B,_focusError:re,_getWatch:Q,_getDirty:I,_setValid:v,_setFieldArray:_,_setDisabledField:De,_setErrors:S,_getFieldArray:W,_reset:Le,_resetDefaultValues:()=>qa(t.defaultValues)&&t.defaultValues().then(K=>{dt(K,t.resetOptions),x.state.next({isLoading:!1})}),_removeUnmounted:X,_disableForm:Re,_subjects:x,_proxyFormState:p,get _fields(){return n},get _formValues(){return o},get _state(){return c},set _state(K){c=K},get _defaultValues(){return i},get _names(){return u},set _names(K){u=K},get _formState(){return s},get _options(){return t},set _options(K){t=L(L({},t),K)}},subscribe:fe,trigger:ue,register:Ie,handleSubmit:He,watch:J,setValue:z,getValues:M,reset:dt,resetField:Xe,clearErrors:ne,unregister:Ee,setError:V,setFocus:Ge,getFieldState:ie};return oe(L({},nt),{formControl:nt})}function id(e={}){const t=ae.useRef(void 0),s=ae.useRef(void 0),[n,i]=ae.useState({isDirty:!1,isValidating:!1,isLoading:qa(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:qa(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current=oe(L({},e.formControl),{formState:n}),e.defaultValues&&!qa(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const c=tz(e),{formControl:u}=c,h=Oe(c,["formControl"]);t.current=oe(L({},h),{formState:n})}const o=t.current.control;return o._options=e,Gy(()=>{const u=o._subscribe({formState:o._proxyFormState,callback:()=>i(L({},o._formState)),reRenderRoot:!0});return i(h=>oe(L({},h),{isReady:!0})),o._formState.isReady=!0,u},[o]),ae.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),ae.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),ae.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),ae.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),ae.useEffect(()=>{if(o._proxyFormState.isDirty){const u=o._getDirty();u!==n.isDirty&&o._subjects.state.next({isDirty:u})}},[o,n.isDirty]),ae.useEffect(()=>{e.values&&!Gr(e.values,s.current)?(o._reset(e.values,L({keepFieldsRef:!0},o._options.resetOptions)),s.current=e.values,i(u=>L({},u))):o._resetDefaultValues()},[o,e.values]),ae.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next(L({},o._formState))),o._removeUnmounted()}),t.current.formState=pC(n,o),t.current}const sz=0,nz=1,az=2;var O_=Object.prototype.hasOwnProperty;function wx(e,t){var s,n;if(e===t)return!0;if(e&&t&&(s=e.constructor)===t.constructor){if(s===Date)return e.getTime()===t.getTime();if(s===RegExp)return e.toString()===t.toString();if(s===Array){if((n=e.length)===t.length)for(;n--&&wx(e[n],t[n]););return n===-1}if(!s||typeof e=="object"){n=0;for(s in e)if(O_.call(e,s)&&++n&&!O_.call(t,s)||!(s in t)||!wx(e[s],t[s]))return!1;return Object.keys(t).length===n}}return e!==e&&t!==t}const Oo=new WeakMap,Pi=()=>{},Sa=Pi(),jx=Object,fr=e=>e===Sa,Ro=e=>typeof e=="function",Em=(e,t)=>L(L({},e),t),rz=e=>Ro(e.then),j0={},dh={},NC="undefined",Qy=typeof window!=NC,Nx=typeof document!=NC,iz=Qy&&"Deno"in window,oz=(e,t)=>{const s=Oo.get(e);return[()=>!fr(t)&&e.get(t)||j0,n=>{if(!fr(t)){const i=e.get(t);t in dh||(dh[t]=i),s[5](t,Em(i,n),i||j0)}},s[6],()=>!fr(t)&&t in dh?dh[t]:!fr(t)&&e.get(t)||j0]};let _x=!0;const lz=()=>_x,[Tx,Sx]=Qy&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Pi,Pi],cz=()=>{const e=Nx&&document.visibilityState;return fr(e)||e!=="hidden"},uz=e=>(Nx&&document.addEventListener("visibilitychange",e),Tx("focus",e),()=>{Nx&&document.removeEventListener("visibilitychange",e),Sx("focus",e)}),dz=e=>{const t=()=>{_x=!0,e()},s=()=>{_x=!1};return Tx("online",t),Tx("offline",s),()=>{Sx("online",t),Sx("offline",s)}},fz={isOnline:lz,isVisible:cz},hz={initFocus:uz,initReconnect:dz};ae.useId;const _C=!Qy||iz,N0=typeof navigator!="undefined"&&navigator.connection,R_=!_C&&N0&&(["slow-2g","2g"].includes(N0.effectiveType)||N0.saveData),fh=new WeakMap,mz=e=>jx.prototype.toString.call(e),_0=(e,t)=>e===`[object ${t}]`;let pz=0;const Cx=e=>{const t=typeof e,s=mz(e),n=_0(s,"Date"),i=_0(s,"RegExp"),o=_0(s,"Object");let c,u;if(jx(e)===e&&!n&&!i){if(c=fh.get(e),c)return c;if(c=++pz+"~",fh.set(e,c),Array.isArray(e)){for(c="@",u=0;u<e.length;u++)c+=Cx(e[u])+",";fh.set(e,c)}if(o){c="#";const h=jx.keys(e).sort();for(;!fr(u=h.pop());)fr(e[u])||(c+=u+":"+Cx(e[u])+",");fh.set(e,c)}}else c=n?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return c},gz=e=>{if(Ro(e))try{e=e()}catch(s){e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Cx(e):"",[e,t]};let xz=0;const M_=()=>++xz;function yz(...e){return we(this,null,function*(){const[t,s,n,i]=e,o=Em({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let c=o.populateCache;const u=o.rollbackOnError;let h=o.optimisticData;const f=x=>typeof u=="function"?u(x):u!==!1,p=o.throwOnError;if(Ro(s)){const x=s,b=[],j=t.keys();for(const v of j)!/^\$(inf|sub)\$/.test(v)&&x(t.get(v)._k)&&b.push(v);return Promise.all(b.map(g))}return g(s);function g(x){return we(this,null,function*(){const[b]=gz(x);if(!b)return;const[j,v]=oz(t,b),[T,_,R,S]=Oo.get(t),C=()=>{const Y=T[b];return(Ro(o.revalidate)?o.revalidate(j().data,x):o.revalidate!==!1)&&(delete R[b],delete S[b],Y&&Y[0])?Y[0](az).then(()=>j().data):j().data};if(e.length<3)return C();let D=n,k,B=!1;const F=M_();_[b]=[F,0];const O=!fr(h),X=j(),I=X.data,Q=X._c,W=fr(Q)?I:Q;if(O&&(h=Ro(h)?h(W,I):h,v({data:h,_c:W})),Ro(D))try{D=D(W)}catch(Y){k=Y,B=!0}if(D&&rz(D))if(D=yield D.catch(Y=>{k=Y,B=!0}),F!==_[b][0]){if(B)throw k;return D}else B&&O&&f(k)&&(c=!0,v({data:W,_c:Sa}));if(c&&!B)if(Ro(c)){const Y=c(D,W);v({data:Y,error:Sa,_c:Sa})}else v({data:D,error:Sa,_c:Sa});if(_[b][1]=M_(),Promise.resolve(C()).then(()=>{v({_c:Sa})}),B){if(p)throw k;return}return D})}})}const P_=(e,t)=>{for(const s in e)e[s][0]&&e[s][0](t)},bz=(e,t)=>{if(!Oo.has(e)){const s=Em(hz,t),n=Object.create(null),i=yz.bind(Sa,e);let o=Pi;const c=Object.create(null),u=(p,g)=>{const x=c[p]||[];return c[p]=x,x.push(g),()=>x.splice(x.indexOf(g),1)},h=(p,g,x)=>{e.set(p,g);const b=c[p];if(b)for(const j of b)j(g,x)},f=()=>{if(!Oo.has(e)&&(Oo.set(e,[n,Object.create(null),Object.create(null),Object.create(null),i,h,u]),!_C)){const p=s.initFocus(setTimeout.bind(Sa,P_.bind(Sa,n,sz))),g=s.initReconnect(setTimeout.bind(Sa,P_.bind(Sa,n,nz)));o=()=>{p&&p(),g&&g(),Oo.delete(e)}}};return f(),[e,i,f,o]}return[e,Oo.get(e)[4]]},vz=(e,t,s,n,i)=>{const o=s.errorRetryCount,c=i.retryCount,u=~~((Math.random()+.5)*(1<<(c<8?c:8)))*s.errorRetryInterval;!fr(o)&&c>o||setTimeout(n,u,i)},wz=wx,[jz,sc]=bz(new Map);Em({onLoadingSlow:Pi,onSuccess:Pi,onError:Pi,onErrorRetry:vz,onDiscarded:Pi,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:R_?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:R_?5e3:3e3,compare:wz,isPaused:()=>!1,cache:jz,mutate:sc,fallback:{}},fz);N.createContext({});const L_=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,B_=sS,Nz=(e,t)=>s=>{var n;if((t==null?void 0:t.variants)==null)return B_(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:i,defaultVariants:o}=t,c=Object.keys(i).map(f=>{const p=s==null?void 0:s[f],g=o==null?void 0:o[f];if(p===null)return null;const x=L_(p)||L_(g);return i[f][x]}),u=s&&Object.entries(s).reduce((f,p)=>{let[g,x]=p;return x===void 0||(f[g]=x),f},{}),h=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((f,p)=>{let j=p,{class:g,className:x}=j,b=Oe(j,["class","className"]);return Object.entries(b).every(v=>{let[T,_]=v;return Array.isArray(_)?_.includes(L(L({},o),u)[T]):L(L({},o),u)[T]===_})?[...f,g,x]:f},[]);return B_(e,c,h,s==null?void 0:s.class,s==null?void 0:s.className)},_z=Nz("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Je(o){var c=o,{className:e,variant:t,size:s,asChild:n=!1}=c,i=Oe(c,["className","variant","size","asChild"]);const u=n?w3:"button";return r.jsx(u,L({"data-slot":"button",className:Ss(_z({variant:t,size:s,className:e}))},i))}function Bi(e,t,{checkForDefaultPrevented:s=!0}={}){return function(i){if(e==null||e(i),s===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}var Tz="DismissableLayer",Ex="dismissableLayer.update",Sz="dismissableLayer.pointerDownOutside",Cz="dismissableLayer.focusOutside",F_,TC=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),SC=N.forwardRef((e,t)=>{var F;const B=e,{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:c,onDismiss:u}=B,h=Oe(B,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),f=N.useContext(TC),[p,g]=N.useState(null),x=(F=p==null?void 0:p.ownerDocument)!=null?F:globalThis==null?void 0:globalThis.document,[,b]=N.useState({}),j=As(t,O=>g(O)),v=Array.from(f.layers),[T]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(T),R=p?v.indexOf(p):-1,S=f.layersWithOutsidePointerEventsDisabled.size>0,C=R>=_,D=Dz(O=>{const X=O.target,I=[...f.branches].some(Q=>Q.contains(X));!C||I||(i==null||i(O),c==null||c(O),O.defaultPrevented||u==null||u())},x),k=Az(O=>{const X=O.target;[...f.branches].some(Q=>Q.contains(X))||(o==null||o(O),c==null||c(O),O.defaultPrevented||u==null||u())},x);return uy(O=>{R===f.layers.size-1&&(n==null||n(O),!O.defaultPrevented&&u&&(O.preventDefault(),u()))},x),N.useEffect(()=>{if(p)return s&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(F_=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),U_(),()=>{s&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=F_)}},[p,x,s,f]),N.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),U_())},[p,f]),N.useEffect(()=>{const O=()=>b({});return document.addEventListener(Ex,O),()=>document.removeEventListener(Ex,O)},[]),r.jsx(Yt.div,oe(L({},h),{ref:j,style:L({pointerEvents:S?C?"auto":"none":void 0},e.style),onFocusCapture:Bi(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Bi(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Bi(e.onPointerDownCapture,D.onPointerDownCapture)}))});SC.displayName=Tz;var Ez="DismissableLayerBranch",kz=N.forwardRef((e,t)=>{const s=N.useContext(TC),n=N.useRef(null),i=As(t,n);return N.useEffect(()=>{const o=n.current;if(o)return s.branches.add(o),()=>{s.branches.delete(o)}},[s.branches]),r.jsx(Yt.div,oe(L({},e),{ref:i}))});kz.displayName=Ez;function Dz(e,t=globalThis==null?void 0:globalThis.document){const s=xr(e),n=N.useRef(!1),i=N.useRef(()=>{});return N.useEffect(()=>{const o=u=>{if(u.target&&!n.current){let h=function(){CC(Sz,s,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=h,t.addEventListener("click",i.current,{once:!0})):h()}else t.removeEventListener("click",i.current);n.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,s]),{onPointerDownCapture:()=>n.current=!0}}function Az(e,t=globalThis==null?void 0:globalThis.document){const s=xr(e),n=N.useRef(!1);return N.useEffect(()=>{const i=o=>{o.target&&!n.current&&CC(Cz,s,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,s]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function U_(){const e=new CustomEvent(Ex);document.dispatchEvent(e)}function CC(e,t,s,{discrete:n}){const i=s.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&i.addEventListener(e,t,{once:!0}),n?cy(i,o):i.dispatchEvent(o)}function Oz(e,t){return N.useReducer((s,n)=>{const i=t[s][n];return i!=null?i:s},e)}var km=e=>{const{present:t,children:s}=e,n=Rz(t),i=typeof s=="function"?s({present:n.isPresent}):N.Children.only(s),o=As(n.ref,Mz(i));return typeof s=="function"||n.isPresent?N.cloneElement(i,{ref:o}):null};km.displayName="Presence";function Rz(e){const[t,s]=N.useState(),n=N.useRef(null),i=N.useRef(e),o=N.useRef("none"),c=e?"mounted":"unmounted",[u,h]=Oz(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const f=hh(n.current);o.current=u==="mounted"?f:"none"},[u]),Da(()=>{const f=n.current,p=i.current;if(p!==e){const x=o.current,b=hh(f);e?h("MOUNT"):b==="none"||(f==null?void 0:f.display)==="none"?h("UNMOUNT"):h(p&&x!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,h]),Da(()=>{var f;if(t){let p;const g=(f=t.ownerDocument.defaultView)!=null?f:window,x=j=>{const T=hh(n.current).includes(j.animationName);if(j.target===t&&T&&(h("ANIMATION_END"),!i.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},b=j=>{j.target===t&&(o.current=hh(n.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",x),t.addEventListener("animationend",x),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",x),t.removeEventListener("animationend",x)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:N.useCallback(f=>{n.current=f?getComputedStyle(f):null,s(f)},[])}}function hh(e){return(e==null?void 0:e.animationName)||"none"}function Mz(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var T0=0;function Pz(){N.useEffect(()=>{var t,s;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:z_()),document.body.insertAdjacentElement("beforeend",(s=e[1])!=null?s:z_()),T0++,()=>{T0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),T0--}},[])}function z_(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Dm="Dialog",[EC,u$]=fd(Dm),[Lz,Ga]=EC(Dm),kC=e=>{const{__scopeDialog:t,children:s,open:n,defaultOpen:i,onOpenChange:o,modal:c=!0}=e,u=N.useRef(null),h=N.useRef(null),[f,p]=vm({prop:n,defaultProp:i!=null?i:!1,onChange:o,caller:Dm});return r.jsx(Lz,{scope:t,triggerRef:u,contentRef:h,contentId:Dn(),titleId:Dn(),descriptionId:Dn(),open:f,onOpenChange:p,onOpenToggle:N.useCallback(()=>p(g=>!g),[p]),modal:c,children:s})};kC.displayName=Dm;var DC="DialogTrigger",Bz=N.forwardRef((e,t)=>{const c=e,{__scopeDialog:s}=c,n=Oe(c,["__scopeDialog"]),i=Ga(DC,s),o=As(t,i.triggerRef);return r.jsx(Yt.button,oe(L({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":eb(i.open)},n),{ref:o,onClick:Bi(e.onClick,i.onOpenToggle)}))});Bz.displayName=DC;var Zy="DialogPortal",[Fz,AC]=EC(Zy,{forceMount:void 0}),OC=e=>{const{__scopeDialog:t,forceMount:s,children:n,container:i}=e,o=Ga(Zy,t);return r.jsx(Fz,{scope:t,forceMount:s,children:N.Children.map(n,c=>r.jsx(km,{present:s||o.open,children:r.jsx(pd,{asChild:!0,container:i,children:c})}))})};OC.displayName=Zy;var lm="DialogOverlay",RC=N.forwardRef((e,t)=>{const s=AC(lm,e.__scopeDialog),c=e,{forceMount:n=s.forceMount}=c,i=Oe(c,["forceMount"]),o=Ga(lm,e.__scopeDialog);return o.modal?r.jsx(km,{present:n||o.open,children:r.jsx(zz,oe(L({},i),{ref:t}))}):null});RC.displayName=lm;var Uz=uc("DialogOverlay.RemoveScroll"),zz=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:s}=o,n=Oe(o,["__scopeDialog"]),i=Ga(lm,s);return r.jsx(gd,{as:Uz,allowPinchZoom:!0,shards:[i.contentRef],children:r.jsx(Yt.div,oe(L({"data-state":eb(i.open)},n),{ref:t,style:L({pointerEvents:"auto"},n.style)}))})}),qo="DialogContent",MC=N.forwardRef((e,t)=>{const s=AC(qo,e.__scopeDialog),c=e,{forceMount:n=s.forceMount}=c,i=Oe(c,["forceMount"]),o=Ga(qo,e.__scopeDialog);return r.jsx(km,{present:n||o.open,children:o.modal?r.jsx(Hz,oe(L({},i),{ref:t})):r.jsx($z,oe(L({},i),{ref:t}))})});MC.displayName=qo;var Hz=N.forwardRef((e,t)=>{const s=Ga(qo,e.__scopeDialog),n=N.useRef(null),i=As(t,s.contentRef,n);return N.useEffect(()=>{const o=n.current;if(o)return wm(o)},[]),r.jsx(PC,oe(L({},e),{ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Bi(e.onCloseAutoFocus,o=>{var c;o.preventDefault(),(c=s.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Bi(e.onPointerDownOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&o.preventDefault()}),onFocusOutside:Bi(e.onFocusOutside,o=>o.preventDefault())}))}),$z=N.forwardRef((e,t)=>{const s=Ga(qo,e.__scopeDialog),n=N.useRef(!1),i=N.useRef(!1);return r.jsx(PC,oe(L({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,u;(c=e.onCloseAutoFocus)==null||c.call(e,o),o.defaultPrevented||(n.current||(u=s.triggerRef.current)==null||u.focus(),o.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:o=>{var h,f;(h=e.onInteractOutside)==null||h.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=o.target;((f=s.triggerRef.current)==null?void 0:f.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}}))}),PC=N.forwardRef((e,t)=>{const p=e,{__scopeDialog:s,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o}=p,c=Oe(p,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),u=Ga(qo,s),h=N.useRef(null),f=As(t,h);return Pz(),r.jsxs(r.Fragment,{children:[r.jsx(hd,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:o,children:r.jsx(SC,oe(L({role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":eb(u.open)},c),{ref:f,onDismiss:()=>u.onOpenChange(!1)}))}),r.jsxs(r.Fragment,{children:[r.jsx(Iz,{titleId:u.titleId}),r.jsx(Wz,{contentRef:h,descriptionId:u.descriptionId})]})]})}),Jy="DialogTitle",LC=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:s}=o,n=Oe(o,["__scopeDialog"]),i=Ga(Jy,s);return r.jsx(Yt.h2,oe(L({id:i.titleId},n),{ref:t}))});LC.displayName=Jy;var BC="DialogDescription",FC=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:s}=o,n=Oe(o,["__scopeDialog"]),i=Ga(BC,s);return r.jsx(Yt.p,oe(L({id:i.descriptionId},n),{ref:t}))});FC.displayName=BC;var UC="DialogClose",Vz=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:s}=o,n=Oe(o,["__scopeDialog"]),i=Ga(UC,s);return r.jsx(Yt.button,oe(L({type:"button"},n),{ref:t,onClick:Bi(e.onClick,()=>i.onOpenChange(!1))}))});Vz.displayName=UC;function eb(e){return e?"open":"closed"}var zC="DialogTitleWarning",[d$,HC]=ly(zC,{contentName:qo,titleName:Jy,docsSlug:"dialog"}),Iz=({titleId:e})=>{const t=HC(zC),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return N.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},qz="DialogDescriptionWarning",Wz=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${HC(qz).contentName}}.`;return N.useEffect(()=>{var o;const i=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Yz=kC,Gz=OC,Xz=RC,Kz=MC,Qz=LC,Zz=FC;function Jz(e){if(typeof document=="undefined")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}const $C=ae.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),wd=()=>{const e=ae.useContext($C);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};Jz(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function eH(){const e=navigator.userAgent;return typeof window!="undefined"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function tH(){return tb(/^Mac/)}function sH(){return tb(/^iPhone/)}function H_(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function nH(){return tb(/^iPad/)||tH()&&navigator.maxTouchPoints>1}function VC(){return sH()||nH()}function tb(e){return typeof window!="undefined"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const aH=24,rH=typeof window!="undefined"?N.useLayoutEffect:N.useEffect;function $_(...e){return(...t)=>{for(let s of e)typeof s=="function"&&s(...t)}}const S0=typeof document!="undefined"&&window.visualViewport;function V_(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function IC(e){for(V_(e)&&(e=e.parentElement);e&&!V_(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const iH=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let mh=0,C0;function oH(e={}){let{isDisabled:t}=e;rH(()=>{if(!t)return mh++,mh===1&&VC()&&(C0=lH()),()=>{mh--,mh===0&&(C0==null||C0())}},[t])}function lH(){let e,t=0,s=g=>{e=IC(g.target),!(e===document.documentElement&&e===document.body)&&(t=g.changedTouches[0].pageY)},n=g=>{if(!e||e===document.documentElement||e===document.body){g.preventDefault();return}let x=g.changedTouches[0].pageY,b=e.scrollTop,j=e.scrollHeight-e.clientHeight;j!==0&&((b<=0&&x>t||b>=j&&x<t)&&g.preventDefault(),t=x)},i=g=>{let x=g.target;kx(x)&&x!==document.activeElement&&(g.preventDefault(),x.style.transform="translateY(-2000px)",x.focus(),requestAnimationFrame(()=>{x.style.transform=""}))},o=g=>{let x=g.target;kx(x)&&(x.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{x.style.transform="",S0&&(S0.height<window.innerHeight?requestAnimationFrame(()=>{I_(x)}):S0.addEventListener("resize",()=>I_(x),{once:!0}))}))},c=()=>{window.scrollTo(0,0)},u=window.pageXOffset,h=window.pageYOffset,f=$_(cH(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let p=$_(Au(document,"touchstart",s,{passive:!1,capture:!0}),Au(document,"touchmove",n,{passive:!1,capture:!0}),Au(document,"touchend",i,{passive:!1,capture:!0}),Au(document,"focus",o,!0),Au(window,"scroll",c));return()=>{f(),p(),window.scrollTo(u,h)}}function cH(e,t,s){let n=e.style[t];return e.style[t]=s,()=>{e.style[t]=n}}function Au(e,t,s,n){return e.addEventListener(t,s,n),()=>{e.removeEventListener(t,s,n)}}function I_(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let s=IC(e);if(s!==document.documentElement&&s!==document.body&&s!==e){let n=s.getBoundingClientRect().top,i=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom;const c=s.getBoundingClientRect().bottom+aH;o>c&&(s.scrollTop+=i-n)}e=s.parentElement}}function kx(e){return e instanceof HTMLInputElement&&!iH.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function uH(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function dH(...e){return t=>e.forEach(s=>uH(s,t))}function qC(...e){return N.useCallback(dH(...e),e)}const WC=new WeakMap;function nn(e,t,s=!1){if(!e||!(e instanceof HTMLElement))return;let n={};Object.entries(t).forEach(([i,o])=>{if(i.startsWith("--")){e.style.setProperty(i,o);return}n[i]=e.style[i],e.style[i]=o}),!s&&WC.set(e,n)}function fH(e,t){if(!e||!(e instanceof HTMLElement))return;let s=WC.get(e);s&&(e.style[t]=s[t])}const Xs=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function ph(e,t){if(!e)return null;const s=window.getComputedStyle(e),n=s.transform||s.webkitTransform||s.mozTransform;let i=n.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[Xs(t)?13:12]):(i=n.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[Xs(t)?5:4]):null)}function hH(e){return 8*(Math.log(e+1)-2)}function E0(e,t){if(!e)return()=>{};const s=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=s}}function mH(...e){return(...t)=>{for(const s of e)typeof s=="function"&&s(...t)}}const ks={DURATION:.5,EASE:[.32,.72,0,1]},YC=.4,pH=.25,gH=100,GC=8,Eo=16,Dx=26,k0="vaul-dragging";function XC(e){const t=ae.useRef(e);return ae.useEffect(()=>{t.current=e}),ae.useMemo(()=>(...s)=>t.current==null?void 0:t.current.call(t,...s),[])}function xH({defaultProp:e,onChange:t}){const s=ae.useState(e),[n]=s,i=ae.useRef(n),o=XC(t);return ae.useEffect(()=>{i.current!==n&&(o(n),i.current=n)},[n,i,o]),s}function KC({prop:e,defaultProp:t,onChange:s=()=>{}}){const[n,i]=xH({defaultProp:t,onChange:s}),o=e!==void 0,c=o?e:n,u=XC(s),h=ae.useCallback(f=>{if(o){const g=typeof f=="function"?f(e):f;g!==e&&u(g)}else i(f)},[o,e,i,u]);return[c,h]}function yH({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:s,drawerRef:n,overlayRef:i,fadeFromIndex:o,onSnapPointChange:c,direction:u="bottom",container:h,snapToSequentialPoint:f}){const[p,g]=KC({prop:e,defaultProp:s==null?void 0:s[0],onChange:t}),[x,b]=ae.useState(typeof window!="undefined"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);ae.useEffect(()=>{function B(){b({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",B),()=>window.removeEventListener("resize",B)},[]);const j=ae.useMemo(()=>p===(s==null?void 0:s[s.length-1])||null,[s,p]),v=ae.useMemo(()=>{var B;return(B=s==null?void 0:s.findIndex(F=>F===p))!=null?B:null},[s,p]),T=s&&s.length>0&&(o||o===0)&&!Number.isNaN(o)&&s[o]===p||!s,_=ae.useMemo(()=>{const B=h?{width:h.getBoundingClientRect().width,height:h.getBoundingClientRect().height}:typeof window!="undefined"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var F;return(F=s==null?void 0:s.map(O=>{const X=typeof O=="string";let I=0;if(X&&(I=parseInt(O,10)),Xs(u)){const W=X?I:x?O*B.height:0;return x?u==="bottom"?B.height-W:-B.height+W:W}const Q=X?I:x?O*B.width:0;return x?u==="right"?B.width-Q:-B.width+Q:Q}))!=null?F:[]},[s,x,h]),R=ae.useMemo(()=>v!==null?_==null?void 0:_[v]:null,[_,v]),S=ae.useCallback(B=>{var F;const O=(F=_==null?void 0:_.findIndex(X=>X===B))!=null?F:null;c(O),nn(n.current,{transition:`transform ${ks.DURATION}s cubic-bezier(${ks.EASE.join(",")})`,transform:Xs(u)?`translate3d(0, ${B}px, 0)`:`translate3d(${B}px, 0, 0)`}),_&&O!==_.length-1&&o!==void 0&&O!==o&&O<o?nn(i.current,{transition:`opacity ${ks.DURATION}s cubic-bezier(${ks.EASE.join(",")})`,opacity:"0"}):nn(i.current,{transition:`opacity ${ks.DURATION}s cubic-bezier(${ks.EASE.join(",")})`,opacity:"1"}),g(s==null?void 0:s[Math.max(O,0)])},[n.current,s,_,o,i,g]);ae.useEffect(()=>{if(p||e){var B;const F=(B=s==null?void 0:s.findIndex(O=>O===e||O===p))!=null?B:-1;_&&F!==-1&&typeof _[F]=="number"&&S(_[F])}},[p,e,s,_,S]);function C({draggedDistance:B,closeDrawer:F,velocity:O,dismissible:X}){if(o===void 0)return;const I=u==="bottom"||u==="right"?(R!=null?R:0)-B:(R!=null?R:0)+B,Q=v===o-1,W=v===0,Y=B>0;if(Q&&nn(i.current,{transition:`opacity ${ks.DURATION}s cubic-bezier(${ks.EASE.join(",")})`}),!f&&O>2&&!Y){X?F():S(_[0]);return}if(!f&&O>2&&Y&&_&&s){S(_[s.length-1]);return}const H=_==null?void 0:_.reduce((Z,te)=>typeof Z!="number"||typeof te!="number"?Z:Math.abs(te-I)<Math.abs(Z-I)?te:Z),z=Xs(u)?window.innerHeight:window.innerWidth;if(O>YC&&Math.abs(B)<z*.4){const Z=Y?1:-1;if(Z>0&&j&&s){S(_[s.length-1]);return}if(W&&Z<0&&X&&F(),v===null)return;S(_[v+Z]);return}S(H)}function D({draggedDistance:B}){if(R===null)return;const F=u==="bottom"||u==="right"?R-B:R+B;(u==="bottom"||u==="right")&&F<_[_.length-1]||(u==="top"||u==="left")&&F>_[_.length-1]||nn(n.current,{transform:Xs(u)?`translate3d(0, ${F}px, 0)`:`translate3d(${F}px, 0, 0)`})}function k(B,F){if(!s||typeof v!="number"||!_||o===void 0)return null;const O=v===o-1;if(v>=o&&F)return 0;if(O&&!F)return 1;if(!T&&!O)return null;const I=O?v+1:v-1,Q=O?_[I]-_[I-1]:_[I+1]-_[I],W=B/Math.abs(Q);return O?1-W:W}return{isLastSnapPoint:j,activeSnapPoint:p,shouldFade:T,getPercentageDragged:k,setActiveSnapPoint:g,activeSnapPointIndex:v,onRelease:C,onDrag:D,snapPointsOffset:_}}const bH=()=>()=>{};function vH(){const{direction:e,isOpen:t,shouldScaleBackground:s,setBackgroundColorOnScale:n,noBodyStyles:i}=wd(),o=ae.useRef(null),c=N.useMemo(()=>document.body.style.backgroundColor,[]);function u(){return(window.innerWidth-Dx)/window.innerWidth}ae.useEffect(()=>{if(t&&s){o.current&&clearTimeout(o.current);const h=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!h)return;mH(n&&!i?E0(document.body,{background:"black"}):bH,E0(h,{transformOrigin:Xs(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${ks.DURATION}s`,transitionTimingFunction:`cubic-bezier(${ks.EASE.join(",")})`}));const f=E0(h,L({borderRadius:`${GC}px`,overflow:"hidden"},Xs(e)?{transform:`scale(${u()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${u()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}));return()=>{f(),o.current=window.setTimeout(()=>{c?document.body.style.background=c:document.body.style.removeProperty("background")},ks.DURATION*1e3)}}},[t,s,c])}let Ou=null;function wH({isOpen:e,modal:t,nested:s,hasBeenOpened:n,preventScrollRestoration:i,noBodyStyles:o}){const[c,u]=ae.useState(()=>typeof window!="undefined"?window.location.href:""),h=ae.useRef(0),f=ae.useCallback(()=>{if(H_()&&Ou===null&&e&&!o){Ou={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:g,innerHeight:x}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-h.current}px`,left:`${-g}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const b=x-window.innerHeight;b&&h.current>=x&&(document.body.style.top=`${-(h.current+b)}px`)}),300)}},[e]),p=ae.useCallback(()=>{if(H_()&&Ou!==null&&!o){const g=-parseInt(document.body.style.top,10),x=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Ou),window.requestAnimationFrame(()=>{if(i&&c!==window.location.href){u(window.location.href);return}window.scrollTo(x,g)}),Ou=null}},[c]);return ae.useEffect(()=>{function g(){h.current=window.scrollY}return g(),window.addEventListener("scroll",g),()=>{window.removeEventListener("scroll",g)}},[]),ae.useEffect(()=>{if(t)return()=>{typeof document=="undefined"||document.querySelector("[data-vaul-drawer]")||p()}},[t,p]),ae.useEffect(()=>{s||!n||(e?(!window.matchMedia("(display-mode: standalone)").matches&&f(),t||window.setTimeout(()=>{p()},500)):p())},[e,n,c,t,s,f,p]),{restorePositionSetting:p}}function jH({open:e,onOpenChange:t,children:s,onDrag:n,onRelease:i,snapPoints:o,shouldScaleBackground:c=!1,setBackgroundColorOnScale:u=!0,closeThreshold:h=pH,scrollLockTimeout:f=gH,dismissible:p=!0,handleOnly:g=!1,fadeFromIndex:x=o&&o.length-1,activeSnapPoint:b,setActiveSnapPoint:j,fixed:v,modal:T=!0,onClose:_,nested:R,noBodyStyles:S=!1,direction:C="bottom",defaultOpen:D=!1,disablePreventScroll:k=!0,snapToSequentialPoint:B=!1,preventScrollRestoration:F=!1,repositionInputs:O=!0,onAnimationEnd:X,container:I,autoFocus:Q=!1}){var W,Y;const[H=!1,z]=KC({defaultProp:D,prop:e,onChange:tt=>{t==null||t(tt),!tt&&!R&&Ze(),setTimeout(()=>{X==null||X(tt)},ks.DURATION*1e3),tt&&!T&&typeof window!="undefined"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),tt||(document.body.style.pointerEvents="auto")}}),[Z,te]=ae.useState(!1),[ue,M]=ae.useState(!1),[ie,ne]=ae.useState(!1),V=ae.useRef(null),J=ae.useRef(null),xe=ae.useRef(null),fe=ae.useRef(null),Ee=ae.useRef(null),De=ae.useRef(!1),Ie=ae.useRef(null),re=ae.useRef(0),Re=ae.useRef(!1),He=ae.useRef(!D),Xe=ae.useRef(0),Le=ae.useRef(null),dt=ae.useRef(((W=Le.current)==null?void 0:W.getBoundingClientRect().height)||0),Ge=ae.useRef(((Y=Le.current)==null?void 0:Y.getBoundingClientRect().width)||0),Be=ae.useRef(0),ze=ae.useCallback(tt=>{o&&tt===Te.length-1&&(J.current=new Date)},[]),{activeSnapPoint:nt,activeSnapPointIndex:K,setActiveSnapPoint:me,onRelease:G,snapPointsOffset:Te,onDrag:Ue,shouldFade:Pe,getPercentageDragged:We}=yH({snapPoints:o,activeSnapPointProp:b,setActiveSnapPointProp:j,drawerRef:Le,fadeFromIndex:x,overlayRef:V,onSnapPointChange:ze,direction:C,container:I,snapToSequentialPoint:B});oH({isDisabled:!H||ue||!T||ie||!Z||!O||!k});const{restorePositionSetting:Ze}=wH({isOpen:H,modal:T,nested:R!=null?R:!1,hasBeenOpened:Z,preventScrollRestoration:F,noBodyStyles:S});function at(){return(window.innerWidth-Dx)/window.innerWidth}function jt(tt){var Bt,Vt;!p&&!o||Le.current&&!Le.current.contains(tt.target)||(dt.current=((Bt=Le.current)==null?void 0:Bt.getBoundingClientRect().height)||0,Ge.current=((Vt=Le.current)==null?void 0:Vt.getBoundingClientRect().width)||0,M(!0),xe.current=new Date,VC()&&window.addEventListener("touchend",()=>De.current=!1,{once:!0}),tt.target.setPointerCapture(tt.pointerId),re.current=Xs(C)?tt.pageY:tt.pageX)}function Se(tt,Bt){var Vt;let kt=tt;const as=(Vt=window.getSelection())==null?void 0:Vt.toString(),st=Le.current?ph(Le.current,C):null,Ct=new Date;if(kt.tagName==="SELECT"||kt.hasAttribute("data-vaul-no-drag")||kt.closest("[data-vaul-no-drag]"))return!1;if(C==="right"||C==="left")return!0;if(J.current&&Ct.getTime()-J.current.getTime()<500)return!1;if(st!==null&&(C==="bottom"?st>0:st<0))return!0;if(as&&as.length>0)return!1;if(Ee.current&&Ct.getTime()-Ee.current.getTime()<f&&st===0||Bt)return Ee.current=Ct,!1;for(;kt;){if(kt.scrollHeight>kt.clientHeight){if(kt.scrollTop!==0)return Ee.current=new Date,!1;if(kt.getAttribute("role")==="dialog")return!0}kt=kt.parentNode}return!0}function Fe(tt){if(Le.current&&ue){const Bt=C==="bottom"||C==="right"?1:-1,Vt=(re.current-(Xs(C)?tt.pageY:tt.pageX))*Bt,kt=Vt>0,as=o&&!p&&!kt;if(as&&K===0)return;const st=Math.abs(Vt),Ct=document.querySelector("[data-vaul-drawer-wrapper]"),Kt=C==="bottom"||C==="top"?dt.current:Ge.current;let Jt=st/Kt;const se=We(st,kt);if(se!==null&&(Jt=se),as&&Jt>=1||!De.current&&!Se(tt.target,kt))return;if(Le.current.classList.add(k0),De.current=!0,nn(Le.current,{transition:"none"}),nn(V.current,{transition:"none"}),o&&Ue({draggedDistance:Vt}),kt&&!o){const ge=hH(Vt),_e=Math.min(ge*-1,0)*Bt;nn(Le.current,{transform:Xs(C)?`translate3d(0, ${_e}px, 0)`:`translate3d(${_e}px, 0, 0)`});return}const ce=1-Jt;if((Pe||x&&K===x-1)&&(n==null||n(tt,Jt),nn(V.current,{opacity:`${ce}`,transition:"none"},!0)),Ct&&V.current&&c){const ge=Math.min(at()+Jt*(1-at()),1),_e=8-Jt*8,Me=Math.max(0,14-Jt*14);nn(Ct,{borderRadius:`${_e}px`,transform:Xs(C)?`scale(${ge}) translate3d(0, ${Me}px, 0)`:`scale(${ge}) translate3d(${Me}px, 0, 0)`,transition:"none"},!0)}if(!o){const ge=st*Bt;nn(Le.current,{transform:Xs(C)?`translate3d(0, ${ge}px, 0)`:`translate3d(${ge}px, 0, 0)`})}}}ae.useEffect(()=>{window.requestAnimationFrame(()=>{He.current=!0})},[]),ae.useEffect(()=>{var tt;function Bt(){if(!Le.current||!O)return;const Vt=document.activeElement;if(kx(Vt)||Re.current){var kt;const as=((kt=window.visualViewport)==null?void 0:kt.height)||0,st=window.innerHeight;let Ct=st-as;const Kt=Le.current.getBoundingClientRect().height||0,Jt=Kt>st*.8;Be.current||(Be.current=Kt);const se=Le.current.getBoundingClientRect().top;if(Math.abs(Xe.current-Ct)>60&&(Re.current=!Re.current),o&&o.length>0&&Te&&K){const ce=Te[K]||0;Ct+=ce}if(Xe.current=Ct,Kt>as||Re.current){const ce=Le.current.getBoundingClientRect().height;let ge=ce;ce>as&&(ge=as-(Jt?se:Dx)),v?Le.current.style.height=`${ce-Math.max(Ct,0)}px`:Le.current.style.height=`${Math.max(ge,as-se)}px`}else eH()||(Le.current.style.height=`${Be.current}px`);o&&o.length>0&&!Re.current?Le.current.style.bottom="0px":Le.current.style.bottom=`${Math.max(Ct,0)}px`}}return(tt=window.visualViewport)==null||tt.addEventListener("resize",Bt),()=>{var Vt;return(Vt=window.visualViewport)==null?void 0:Vt.removeEventListener("resize",Bt)}},[K,o,Te]);function Ke(tt){Gt(),_==null||_(),tt||z(!1),setTimeout(()=>{o&&me(o[0])},ks.DURATION*1e3)}function zt(){if(!Le.current)return;const tt=document.querySelector("[data-vaul-drawer-wrapper]"),Bt=ph(Le.current,C);nn(Le.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${ks.DURATION}s cubic-bezier(${ks.EASE.join(",")})`}),nn(V.current,{transition:`opacity ${ks.DURATION}s cubic-bezier(${ks.EASE.join(",")})`,opacity:"1"}),c&&Bt&&Bt>0&&H&&nn(tt,oe(L({borderRadius:`${GC}px`,overflow:"hidden"},Xs(C)?{transform:`scale(${at()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${at()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"}),{transitionProperty:"transform, border-radius",transitionDuration:`${ks.DURATION}s`,transitionTimingFunction:`cubic-bezier(${ks.EASE.join(",")})`}),!0)}function Gt(){!ue||!Le.current||(Le.current.classList.remove(k0),De.current=!1,M(!1),fe.current=new Date)}function Xt(tt){if(!ue||!Le.current)return;Le.current.classList.remove(k0),De.current=!1,M(!1),fe.current=new Date;const Bt=ph(Le.current,C);if(!tt||!Se(tt.target,!1)||!Bt||Number.isNaN(Bt)||xe.current===null)return;const Vt=fe.current.getTime()-xe.current.getTime(),kt=re.current-(Xs(C)?tt.pageY:tt.pageX),as=Math.abs(kt)/Vt;if(as>.05&&(ne(!0),setTimeout(()=>{ne(!1)},200)),o){G({draggedDistance:kt*(C==="bottom"||C==="right"?1:-1),closeDrawer:Ke,velocity:as,dismissible:p}),i==null||i(tt,!0);return}if(C==="bottom"||C==="right"?kt>0:kt<0){zt(),i==null||i(tt,!0);return}if(as>YC){Ke(),i==null||i(tt,!1);return}var st;const Ct=Math.min((st=Le.current.getBoundingClientRect().height)!=null?st:0,window.innerHeight);var Kt;const Jt=Math.min((Kt=Le.current.getBoundingClientRect().width)!=null?Kt:0,window.innerWidth),se=C==="left"||C==="right";if(Math.abs(Bt)>=(se?Jt:Ct)*h){Ke(),i==null||i(tt,!1);return}i==null||i(tt,!0),zt()}ae.useEffect(()=>(H&&(nn(document.documentElement,{scrollBehavior:"auto"}),J.current=new Date),()=>{fH(document.documentElement,"scrollBehavior")}),[H]);function is(tt){const Bt=tt?(window.innerWidth-Eo)/window.innerWidth:1,Vt=tt?-Eo:0;Ie.current&&window.clearTimeout(Ie.current),nn(Le.current,{transition:`transform ${ks.DURATION}s cubic-bezier(${ks.EASE.join(",")})`,transform:Xs(C)?`scale(${Bt}) translate3d(0, ${Vt}px, 0)`:`scale(${Bt}) translate3d(${Vt}px, 0, 0)`}),!tt&&Le.current&&(Ie.current=setTimeout(()=>{const kt=ph(Le.current,C);nn(Le.current,{transition:"none",transform:Xs(C)?`translate3d(0, ${kt}px, 0)`:`translate3d(${kt}px, 0, 0)`})},500))}function Is(tt,Bt){if(Bt<0)return;const Vt=(window.innerWidth-Eo)/window.innerWidth,kt=Vt+Bt*(1-Vt),as=-Eo+Bt*Eo;nn(Le.current,{transform:Xs(C)?`scale(${kt}) translate3d(0, ${as}px, 0)`:`scale(${kt}) translate3d(${as}px, 0, 0)`,transition:"none"})}function rn(tt,Bt){const Vt=Xs(C)?window.innerHeight:window.innerWidth,kt=Bt?(Vt-Eo)/Vt:1,as=Bt?-Eo:0;Bt&&nn(Le.current,{transition:`transform ${ks.DURATION}s cubic-bezier(${ks.EASE.join(",")})`,transform:Xs(C)?`scale(${kt}) translate3d(0, ${as}px, 0)`:`scale(${kt}) translate3d(${as}px, 0, 0)`})}return ae.useEffect(()=>{T||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[T]),ae.createElement(Yz,{defaultOpen:D,onOpenChange:tt=>{!p&&!tt||(tt?te(!0):Ke(!0),z(tt))},open:H},ae.createElement($C.Provider,{value:{activeSnapPoint:nt,snapPoints:o,setActiveSnapPoint:me,drawerRef:Le,overlayRef:V,onOpenChange:t,onPress:jt,onRelease:Xt,onDrag:Fe,dismissible:p,shouldAnimate:He,handleOnly:g,isOpen:H,isDragging:ue,shouldFade:Pe,closeDrawer:Ke,onNestedDrag:Is,onNestedOpenChange:is,onNestedRelease:rn,keyboardIsOpen:Re,modal:T,snapPointsOffset:Te,activeSnapPointIndex:K,direction:C,shouldScaleBackground:c,setBackgroundColorOnScale:u,noBodyStyles:S,container:I,autoFocus:Q}},s))}const QC=ae.forwardRef(function(s,t){var e=Oe(s,[]);const{overlayRef:n,snapPoints:i,onRelease:o,shouldFade:c,isOpen:u,modal:h,shouldAnimate:f}=wd(),p=qC(t,n),g=i&&i.length>0;if(!h)return null;const x=ae.useCallback(b=>o(b),[o]);return ae.createElement(Xz,L({onMouseUp:x,ref:p,"data-vaul-overlay":"","data-vaul-snap-points":u&&g?"true":"false","data-vaul-snap-points-overlay":u&&c?"true":"false","data-vaul-animate":f!=null&&f.current?"true":"false"},e))});QC.displayName="Drawer.Overlay";const ZC=ae.forwardRef(function(o,i){var c=o,{onPointerDownOutside:e,style:t,onOpenAutoFocus:s}=c,n=Oe(c,["onPointerDownOutside","style","onOpenAutoFocus"]);const{drawerRef:u,onPress:h,onRelease:f,onDrag:p,keyboardIsOpen:g,snapPointsOffset:x,activeSnapPointIndex:b,modal:j,isOpen:v,direction:T,snapPoints:_,container:R,handleOnly:S,shouldAnimate:C,autoFocus:D}=wd(),[k,B]=ae.useState(!1),F=qC(i,u),O=ae.useRef(null),X=ae.useRef(null),I=ae.useRef(!1),Q=_&&_.length>0;vH();const W=(H,z,Z=0)=>{if(I.current)return!0;const te=Math.abs(H.y),ue=Math.abs(H.x),M=ue>te,ie=["bottom","right"].includes(z)?1:-1;if(z==="left"||z==="right"){if(!(H.x*ie<0)&&ue>=0&&ue<=Z)return M}else if(!(H.y*ie<0)&&te>=0&&te<=Z)return!M;return I.current=!0,!0};ae.useEffect(()=>{Q&&window.requestAnimationFrame(()=>{B(!0)})},[]);function Y(H){O.current=null,I.current=!1,f(H)}return ae.createElement(Kz,oe(L({"data-vaul-drawer-direction":T,"data-vaul-drawer":"","data-vaul-delayed-snap-points":k?"true":"false","data-vaul-snap-points":v&&Q?"true":"false","data-vaul-custom-container":R?"true":"false","data-vaul-animate":C!=null&&C.current?"true":"false"},n),{ref:F,style:x&&x.length>0?L({"--snap-point-height":`${x[b!=null?b:0]}px`},t):t,onPointerDown:H=>{S||(n.onPointerDown==null||n.onPointerDown.call(n,H),O.current={x:H.pageX,y:H.pageY},h(H))},onOpenAutoFocus:H=>{s==null||s(H),D||H.preventDefault()},onPointerDownOutside:H=>{if(e==null||e(H),!j||H.defaultPrevented){H.preventDefault();return}g.current&&(g.current=!1)},onFocusOutside:H=>{if(!j){H.preventDefault();return}},onPointerMove:H=>{if(X.current=H,S||(n.onPointerMove==null||n.onPointerMove.call(n,H),!O.current))return;const z=H.pageY-O.current.y,Z=H.pageX-O.current.x,te=H.pointerType==="touch"?10:2;W({x:Z,y:z},T,te)?p(H):(Math.abs(Z)>te||Math.abs(z)>te)&&(O.current=null)},onPointerUp:H=>{n.onPointerUp==null||n.onPointerUp.call(n,H),O.current=null,I.current=!1,f(H)},onPointerOut:H=>{n.onPointerOut==null||n.onPointerOut.call(n,H),Y(X.current)},onContextMenu:H=>{n.onContextMenu==null||n.onContextMenu.call(n,H),X.current&&Y(X.current)}}))});ZC.displayName="Drawer.Content";const NH=250,_H=120,TH=ae.forwardRef(function(i,n){var o=i,{preventCycle:e=!1,children:t}=o,s=Oe(o,["preventCycle","children"]);const{closeDrawer:c,isDragging:u,snapPoints:h,activeSnapPoint:f,setActiveSnapPoint:p,dismissible:g,handleOnly:x,isOpen:b,onPress:j,onDrag:v}=wd(),T=ae.useRef(null),_=ae.useRef(!1);function R(){if(_.current){D();return}window.setTimeout(()=>{S()},_H)}function S(){if(u||e||_.current){D();return}if(D(),!h||h.length===0){g||c();return}if(f===h[h.length-1]&&g){c();return}const B=h.findIndex(O=>O===f);if(B===-1)return;const F=h[B+1];p(F)}function C(){T.current=window.setTimeout(()=>{_.current=!0},NH)}function D(){T.current&&window.clearTimeout(T.current),_.current=!1}return ae.createElement("div",L({onClick:R,onPointerCancel:D,onPointerDown:k=>{x&&j(k),C()},onPointerMove:k=>{x&&v(k)},ref:n,"data-vaul-drawer-visible":b?"true":"false","data-vaul-handle":"","aria-hidden":"true"},s),ae.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});TH.displayName="Drawer.Handle";function SH(e){const t=wd(),i=e,{container:s=t.container}=i,n=Oe(i,["container"]);return ae.createElement(Gz,L({container:s},n))}const bc={Root:jH,Content:ZC,Overlay:QC,Portal:SH,Title:Qz,Description:Zz};function CH(t){var e=Oe(t,[]);return r.jsx(bc.Root,L({"data-slot":"drawer"},e))}function EH(t){var e=Oe(t,[]);return r.jsx(bc.Portal,L({"data-slot":"drawer-portal"},e))}function kH(s){var n=s,{className:e}=n,t=Oe(n,["className"]);return r.jsx(bc.Overlay,L({"data-slot":"drawer-overlay",className:Ss("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e)},t))}function DH(n){var i=n,{className:e,children:t}=i,s=Oe(i,["className","children"]);return r.jsxs(EH,{"data-slot":"drawer-portal",children:[r.jsx(kH,{}),r.jsxs(bc.Content,oe(L({"data-slot":"drawer-content",className:Ss("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-2/3 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",e)},s),{children:[r.jsx("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),t]}))]})}function AH(s){var n=s,{className:e}=n,t=Oe(n,["className"]);return r.jsx("div",L({"data-slot":"drawer-header",className:Ss("flex flex-col gap-0.5 p-4 group-data-[vaul-drawer-direction=bottom]/drawer-content:text-center group-data-[vaul-drawer-direction=top]/drawer-content:text-center md:gap-1.5 md:text-left",e)},t))}function OH(s){var n=s,{className:e}=n,t=Oe(n,["className"]);return r.jsx("div",L({"data-slot":"drawer-footer",className:Ss("mt-auto flex flex-col gap-2 p-4",e)},t))}function RH(s){var n=s,{className:e}=n,t=Oe(n,["className"]);return r.jsx(bc.Title,L({"data-slot":"drawer-title",className:Ss("text-foreground font-semibold",e)},t))}function MH(s){var n=s,{className:e}=n,t=Oe(n,["className"]);return r.jsx(bc.Description,L({"data-slot":"drawer-description",className:Ss("text-muted-foreground text-sm",e)},t))}var Am="Dialog",[JC,f$]=fd(Am),[PH,Xa]=JC(Am),eE=e=>{const{__scopeDialog:t,children:s,open:n,defaultOpen:i,onOpenChange:o,modal:c=!0}=e,u=N.useRef(null),h=N.useRef(null),[f,p]=vm({prop:n,defaultProp:i!=null?i:!1,onChange:o,caller:Am});return r.jsx(PH,{scope:t,triggerRef:u,contentRef:h,contentId:Dn(),titleId:Dn(),descriptionId:Dn(),open:f,onOpenChange:p,onOpenToggle:N.useCallback(()=>p(g=>!g),[p]),modal:c,children:s})};eE.displayName=Am;var tE="DialogTrigger",sE=N.forwardRef((e,t)=>{const c=e,{__scopeDialog:s}=c,n=Oe(c,["__scopeDialog"]),i=Xa(tE,s),o=As(t,i.triggerRef);return r.jsx(Yt.button,oe(L({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":ab(i.open)},n),{ref:o,onClick:oa(e.onClick,i.onOpenToggle)}))});sE.displayName=tE;var sb="DialogPortal",[LH,nE]=JC(sb,{forceMount:void 0}),aE=e=>{const{__scopeDialog:t,forceMount:s,children:n,container:i}=e,o=Xa(sb,t);return r.jsx(LH,{scope:t,forceMount:s,children:N.Children.map(n,c=>r.jsx(hc,{present:s||o.open,children:r.jsx(pd,{asChild:!0,container:i,children:c})}))})};aE.displayName=sb;var cm="DialogOverlay",rE=N.forwardRef((e,t)=>{const s=nE(cm,e.__scopeDialog),c=e,{forceMount:n=s.forceMount}=c,i=Oe(c,["forceMount"]),o=Xa(cm,e.__scopeDialog);return o.modal?r.jsx(hc,{present:n||o.open,children:r.jsx(FH,oe(L({},i),{ref:t}))}):null});rE.displayName=cm;var BH=uc("DialogOverlay.RemoveScroll"),FH=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:s}=o,n=Oe(o,["__scopeDialog"]),i=Xa(cm,s);return r.jsx(gd,{as:BH,allowPinchZoom:!0,shards:[i.contentRef],children:r.jsx(Yt.div,oe(L({"data-state":ab(i.open)},n),{ref:t,style:L({pointerEvents:"auto"},n.style)}))})}),Wo="DialogContent",iE=N.forwardRef((e,t)=>{const s=nE(Wo,e.__scopeDialog),c=e,{forceMount:n=s.forceMount}=c,i=Oe(c,["forceMount"]),o=Xa(Wo,e.__scopeDialog);return r.jsx(hc,{present:n||o.open,children:o.modal?r.jsx(UH,oe(L({},i),{ref:t})):r.jsx(zH,oe(L({},i),{ref:t}))})});iE.displayName=Wo;var UH=N.forwardRef((e,t)=>{const s=Xa(Wo,e.__scopeDialog),n=N.useRef(null),i=As(t,s.contentRef,n);return N.useEffect(()=>{const o=n.current;if(o)return wm(o)},[]),r.jsx(oE,oe(L({},e),{ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:oa(e.onCloseAutoFocus,o=>{var c;o.preventDefault(),(c=s.triggerRef.current)==null||c.focus()}),onPointerDownOutside:oa(e.onPointerDownOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&o.preventDefault()}),onFocusOutside:oa(e.onFocusOutside,o=>o.preventDefault())}))}),zH=N.forwardRef((e,t)=>{const s=Xa(Wo,e.__scopeDialog),n=N.useRef(!1),i=N.useRef(!1);return r.jsx(oE,oe(L({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,u;(c=e.onCloseAutoFocus)==null||c.call(e,o),o.defaultPrevented||(n.current||(u=s.triggerRef.current)==null||u.focus(),o.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:o=>{var h,f;(h=e.onInteractOutside)==null||h.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=o.target;((f=s.triggerRef.current)==null?void 0:f.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}}))}),oE=N.forwardRef((e,t)=>{const p=e,{__scopeDialog:s,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o}=p,c=Oe(p,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),u=Xa(Wo,s),h=N.useRef(null),f=As(t,h);return fT(),r.jsxs(r.Fragment,{children:[r.jsx(hd,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:o,children:r.jsx(dy,oe(L({role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":ab(u.open)},c),{ref:f,onDismiss:()=>u.onOpenChange(!1)}))}),r.jsxs(r.Fragment,{children:[r.jsx(HH,{titleId:u.titleId}),r.jsx(VH,{contentRef:h,descriptionId:u.descriptionId})]})]})}),nb="DialogTitle",lE=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:s}=o,n=Oe(o,["__scopeDialog"]),i=Xa(nb,s);return r.jsx(Yt.h2,oe(L({id:i.titleId},n),{ref:t}))});lE.displayName=nb;var cE="DialogDescription",uE=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:s}=o,n=Oe(o,["__scopeDialog"]),i=Xa(cE,s);return r.jsx(Yt.p,oe(L({id:i.descriptionId},n),{ref:t}))});uE.displayName=cE;var dE="DialogClose",fE=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:s}=o,n=Oe(o,["__scopeDialog"]),i=Xa(dE,s);return r.jsx(Yt.button,oe(L({type:"button"},n),{ref:t,onClick:oa(e.onClick,()=>i.onOpenChange(!1))}))});fE.displayName=dE;function ab(e){return e?"open":"closed"}var hE="DialogTitleWarning",[h$,mE]=ly(hE,{contentName:Wo,titleName:nb,docsSlug:"dialog"}),HH=({titleId:e})=>{const t=mE(hE),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return N.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},$H="DialogDescriptionWarning",VH=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${mE($H).contentName}}.`;return N.useEffect(()=>{var o;const i=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},IH=eE,qH=sE,WH=aE,YH=rE,GH=iE,XH=lE,KH=uE,pE=fE;function bn(t){var e=Oe(t,[]);return r.jsx(IH,L({"data-slot":"dialog"},e))}function QH(t){var e=Oe(t,[]);return r.jsx(qH,L({"data-slot":"dialog-trigger"},e))}function ZH(t){var e=Oe(t,[]);return r.jsx(WH,L({"data-slot":"dialog-portal"},e))}function JH(t){var e=Oe(t,[]);return r.jsx(pE,L({"data-slot":"dialog-close"},e))}function e7(s){var n=s,{className:e}=n,t=Oe(n,["className"]);return r.jsx(YH,L({"data-slot":"dialog-overlay",className:Ss("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-[9998] bg-black/50",e)},t))}function vn(i){var o=i,{className:e,children:t,showCloseButton:s=!0}=o,n=Oe(o,["className","children","showCloseButton"]);return r.jsxs(ZH,{"data-slot":"dialog-portal",children:[r.jsx(e7,{}),r.jsxs(GH,oe(L({"data-slot":"dialog-content",className:Ss("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-[9999] grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e)},n),{children:[t,s&&r.jsxs(pE,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[r.jsx(y3,{}),r.jsx("span",{className:"sr-only",children:"Close"})]})]}))]})}function wn(s){var n=s,{className:e}=n,t=Oe(n,["className"]);return r.jsx("div",L({"data-slot":"dialog-header",className:Ss("flex flex-col gap-2 text-center sm:text-left",e)},t))}function Pn(s){var n=s,{className:e}=n,t=Oe(n,["className"]);return r.jsx("div",L({"data-slot":"dialog-footer",className:Ss("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e)},t))}function jn(s){var n=s,{className:e}=n,t=Oe(n,["className"]);return r.jsx(XH,L({"data-slot":"dialog-title",className:Ss("text-lg leading-none font-semibold",e)},t))}function jd(s){var n=s,{className:e}=n,t=Oe(n,["className"]);return r.jsx(KH,L({"data-slot":"dialog-description",className:Ss("text-muted-foreground text-sm",e)},t))}function $t(n){var i=n,{className:e,type:t}=i,s=Oe(i,["className","type"]);return r.jsx("input",L({type:t,"data-slot":"input",className:Ss("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e)},s))}var t7="Label",gE=N.forwardRef((e,t)=>r.jsx(Yt.label,oe(L({},e),{ref:t,onMouseDown:s=>{var i;s.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}})));gE.displayName=t7;var s7=gE;function $e(s){var n=s,{className:e}=n,t=Oe(n,["className"]);return r.jsx(s7,L({"data-slot":"label",className:Ss("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e)},t))}function Om({doctype:e,docname:t,title:s="File Attachments",allowUpload:n=!0,allowDelete:i=!0,className:o=""}){const[c,u]=N.useState(!1),[h,f]=N.useState(!1),[p,g]=N.useState(null),[x,b]=N.useState(!1),[j,v]=N.useState(""),[T,_]=N.useState(""),[R,S]=N.useState(!1),C=N.useRef(null),{currentUser:D}=An(),{data:k,mutate:B,isLoading:F}=Nt("File",{fields:["name","file_name","file_url","file_size","is_private","attached_to_doctype","attached_to_name","creation","owner","modified"],filters:[["attached_to_doctype","=",e],["attached_to_name","=",t]],orderBy:{field:"creation",order:"desc"},limit:0}),{call:O}=xn("frappe.client.delete"),X=M=>{var ne;if(te(M))return r.jsx(Bu,{className:"h-6 w-6 text-blue-500"});switch((ne=M.file_name.split(".").pop())==null?void 0:ne.toLowerCase()){case"pdf":return r.jsx(Fs,{className:"h-6 w-6 text-red-500"});case"doc":case"docx":return r.jsx(Fs,{className:"h-6 w-6 text-blue-500"});case"xls":case"xlsx":return r.jsx(Fs,{className:"h-6 w-6 text-green-500"});case"ppt":case"pptx":return r.jsx(Fs,{className:"h-6 w-6 text-orange-500"});case"jpg":case"jpeg":case"png":case"gif":case"webp":return r.jsx(k4,{className:"h-6 w-6 text-purple-500"});case"zip":case"rar":case"7z":return r.jsx(GM,{className:"h-6 w-6 text-gray-500"});default:return r.jsx(Hf,{className:"h-6 w-6 text-gray-500"})}},I=M=>{if(M===0)return"0 Bytes";const ie=1024,ne=["Bytes","KB","MB","GB"],V=Math.floor(Math.log(M)/Math.log(ie));return parseFloat((M/Math.pow(ie,V)).toFixed(2))+" "+ne[V]},Q=M=>we(null,null,function*(){var xe;if(!M||M.length===0)return;const ie=25*1024*1024,ne=Array.from(M).filter(fe=>fe.size>ie);if(ne.length>0){const fe=ne.map(Ee=>Ee.name).join(", ");setTimeout(()=>{ja.error(`File(s) too large: ${fe}. Maximum size is 25MB per file.`)},100);return}u(!0);let V=0,J=0;try{for(let fe=0;fe<M.length;fe++){const Ee=M[fe],De=new FormData;De.append("file",Ee),De.append("doctype",e),De.append("docname",t),De.append("is_private","0");try{const Ie=yield fetch("/api/method/upload_file",{method:"POST",body:De,credentials:"include"});if(!Ie.ok){const Re=yield Ie.text();throw Re.includes("too large")||Re.includes("size")||Ie.status===413?new Error(`File "${Ee.name}" is too large. Maximum size is 25MB.`):new Error(`Upload failed for "${Ee.name}": ${Ie.statusText}`)}let re;try{re=yield Ie.json()}catch(Re){console.log("Response is not JSON, assuming success")}if((xe=re==null?void 0:re.message)!=null&&xe.error)throw new Error(`Upload failed for "${Ee.name}": ${re.message.error}`);V++}catch(Ie){console.error(`Error uploading file ${Ee.name}:`,Ie);const re=Ie instanceof Error?Ie.message:String(Ie);(re.includes("too large")||re.includes("25MB"))&&Ee.size>ie&&setTimeout(()=>{ja.error(re)},100),J++}}setTimeout(()=>we(null,null,function*(){yield B()}),500)}catch(fe){}finally{u(!1)}}),W=M=>we(null,null,function*(){if(confirm(`Are you sure you want to delete "${M.file_name}"?`))try{yield O({doctype:"File",name:M.name}),yield B()}catch(ie){console.error("Error deleting file:",ie),ja.error("Failed to delete file")}}),Y=()=>we(null,null,function*(){if(!j.trim()){ja.error("Please enter a URL");return}try{new URL(j)}catch(M){ja.error("Please enter a valid URL");return}S(!0);try{if(!(yield fetch("/api/method/frappe.client.insert",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({doc:{doctype:"File",file_name:T.trim()||j,file_url:j,attached_to_doctype:e,attached_to_name:t,is_private:0}}),credentials:"include"})).ok)throw new Error("Failed to attach link");v(""),_(""),b(!1),yield B(),ja.success("Link attached successfully")}catch(M){console.error("Error attaching link:",M),ja.error("Failed to attach link")}finally{S(!1)}}),H=M=>we(null,null,function*(){const ie=M.target.files;ie&&ie.length>0&&(yield Q(ie)),M.target.value=""}),z=M=>{g(M),f(!0)},Z=M=>{var ne;const ie=(ne=M.split(".").pop())==null?void 0:ne.toLowerCase();return["jpg","jpeg","png","gif","webp","svg"].includes(ie||"")},te=M=>{const ie=M.file_url.startsWith("http://")||M.file_url.startsWith("https://"),ne=M.file_size===0,V=M.file_name.startsWith("http://")||M.file_name.startsWith("https://"),J=!M.file_name.includes(".")||M.file_name.split(".").length<2;return ie&&(ne||V||J)},ue=M=>i&&(M.owner===D||D==="Administrator");return r.jsxs("div",{className:`bg-white border border-gray-200 rounded-xl p-6 ${o}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h3",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(Hf,{className:"h-5 w-5"}),s,k&&r.jsx("span",{className:"inline-flex px-2 py-1 text-sm font-medium bg-blue-100 text-blue-800 rounded-full",children:k.length})]}),n&&r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Je,{size:"sm",onClick:()=>{var M;return(M=C.current)==null?void 0:M.click()},disabled:c,className:"bg-blue-600 hover:bg-blue-700",children:[r.jsx(cT,{className:"h-4 w-4 mr-1"}),c?"Uploading...":"Upload Files"]}),r.jsxs(Je,{size:"sm",variant:"outline",onClick:()=>b(!0),disabled:c||R,className:"border-blue-600 text-blue-600 hover:bg-blue-50",children:[r.jsx(Bu,{className:"h-4 w-4 mr-1"}),"Attach Link"]}),r.jsx("input",{ref:C,type:"file",multiple:!0,accept:"*/*",onChange:H,className:"hidden",style:{display:"none"}})]})]}),F&&r.jsxs("div",{className:"flex items-center justify-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-3 text-gray-600",children:"Loading attachments..."})]}),!F&&r.jsx(r.Fragment,{children:k&&k.length>0?r.jsx("div",{className:"space-y-3",children:k.map(M=>r.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors",children:[r.jsx("div",{className:"flex-shrink-0",children:X(M)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:M.file_name}),r.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[r.jsx("p",{className:"text-xs text-gray-500",children:I(M.file_size)}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Uploaded by ",M.owner]}),r.jsx("p",{className:"text-xs text-gray-500",children:new Date(M.creation).toLocaleDateString()}),M.is_private===1&&r.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded",children:"Private"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[Z(M.file_name)&&!te(M)&&r.jsxs(Je,{size:"sm",variant:"outline",onClick:()=>z(M),className:"text-xs",children:[r.jsx(ry,{className:"h-3 w-3 mr-1"}),"Preview"]}),r.jsx(Je,{size:"sm",variant:"outline",onClick:()=>window.open(M.file_url,"_blank"),className:"text-xs",children:te(M)?r.jsxs(r.Fragment,{children:[r.jsx(J0,{className:"h-3 w-3 mr-1"}),"Open Link"]}):r.jsxs(r.Fragment,{children:[r.jsx(nc,{className:"h-3 w-3 mr-1"}),"Download"]})}),ue(M)&&r.jsxs(Je,{size:"sm",variant:"outline",onClick:()=>W(M),className:"text-xs text-red-600 hover:text-red-700",children:[r.jsx($i,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]},M.name))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Hf,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"No files attached"}),r.jsx("p",{className:"text-gray-500 text-sm mt-2",children:n?"Upload files to attach them to this project":"No files have been attached to this project"})]})}),r.jsx(bn,{open:x,onOpenChange:b,children:r.jsxs(vn,{className:"max-w-md",children:[r.jsx(wn,{children:r.jsxs(jn,{className:"flex items-center gap-2",children:[r.jsx(Bu,{className:"h-5 w-5"}),"Attach Link"]})}),r.jsxs("div",{className:"space-y-4 pt-4",children:[r.jsxs("div",{children:[r.jsx($e,{htmlFor:"link-url",className:"text-sm font-medium",children:"URL *"}),r.jsx($t,{id:"link-url",type:"url",placeholder:"https://example.com",value:j,onChange:M=>v(M.target.value),className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx($e,{htmlFor:"link-title",className:"text-sm font-medium",children:"Title (optional)"}),r.jsx($t,{id:"link-title",type:"text",placeholder:"Enter a descriptive title",value:T,onChange:M=>_(M.target.value),className:"mt-1"})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsx(Je,{onClick:Y,disabled:!j.trim()||R,className:"flex-1",children:R?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Attaching..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Bu,{className:"h-4 w-4 mr-2"}),"Attach Link"]})}),r.jsx(Je,{variant:"outline",onClick:()=>{b(!1),v(""),_("")},disabled:R,children:"Cancel"})]})]})]})}),h&&p&&r.jsx(bn,{open:h,onOpenChange:f,children:r.jsxs(vn,{className:"max-w-4xl max-h-[80vh] overflow-hidden",children:[r.jsx(wn,{children:r.jsx(jn,{className:"flex items-center justify-between",children:r.jsx("span",{children:p.file_name})})}),r.jsx("div",{className:"flex items-center justify-center p-4",children:Z(p.file_name)?r.jsx("img",{src:p.file_url,alt:p.file_name,className:"max-w-full max-h-[60vh] object-contain"}):r.jsxs("div",{className:"text-center",children:[r.jsx(Hf,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Preview not available for this file type"}),r.jsxs(Je,{className:"mt-4",onClick:()=>window.open(p.file_url,"_blank"),children:[r.jsx(nc,{className:"h-4 w-4 mr-2"}),"Download File"]})]})})]})})]})}const n7=({isOpen:e,onClose:t,projectName:s,onSuccess:n})=>{const[i,o]=N.useState({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),{createDoc:c,loading:u,error:h}=Yi(),{assignPhase:f}=vS(),{data:p,isLoading:g}=gc(s),x=(v,T)=>{o(_=>oe(L({},_),{[v]:T}))},b=v=>we(null,null,function*(){if(v.preventDefault(),!!i.subject.trim())try{const T=i,{assign_to:_}=T,R=Oe(T,["assign_to"]),S=yield c("project_phase",{project:s,subject:R.subject,start_date:R.start_date||null,end_date:R.end_date||null,priority:R.priority,details:R.details||null,costing:R.costing||0,status:"Open",progress:0});_&&S&&(yield f(S.name,_)),o({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),n&&n(),t()}catch(_){console.error("Failed to create project phase:",_)}}),j=()=>{o({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),t()};return r.jsx(bn,{open:e,onOpenChange:j,children:r.jsxs(vn,{className:"sm:max-w-[500px]",children:[r.jsxs(wn,{children:[r.jsx(jn,{children:"Create New Project Phase"}),r.jsxs(jd,{children:['Add a new phase to organize tasks and milestones for "',s,'".']})]}),r.jsxs("form",{onSubmit:b,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"subject",children:"Phase Name *"}),r.jsx($t,{id:"subject",value:i.subject,onChange:v=>x("subject",v.target.value),placeholder:"e.g., Planning, Development, Testing",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"priority",children:"Priority"}),r.jsxs("select",{id:"priority",value:i.priority,onChange:v=>x("priority",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"Low",children:"Low"}),r.jsx("option",{value:"Medium",children:"Medium"}),r.jsx("option",{value:"High",children:"High"}),r.jsx("option",{value:"Critical",children:"Critical"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"start_date",children:"Start Date"}),r.jsxs("div",{className:"relative",children:[r.jsx($t,{id:"start_date",type:"date",value:i.start_date,onChange:v=>x("start_date",v.target.value)}),r.jsx(an,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"end_date",children:"End Date"}),r.jsxs("div",{className:"relative",children:[r.jsx($t,{id:"end_date",type:"date",value:i.end_date,onChange:v=>x("end_date",v.target.value),min:i.start_date||void 0}),r.jsx(an,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"costing",children:"Estimated Cost"}),r.jsx($t,{id:"costing",type:"number",value:i.costing,onChange:v=>x("costing",parseFloat(v.target.value)||0),placeholder:"0",min:"0",step:"0.01"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"assign_to",children:"Assign To"}),r.jsxs("select",{id:"assign_to",value:i.assign_to,onChange:v=>x("assign_to",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:g,children:[r.jsx("option",{value:"",children:"Select user..."}),p==null?void 0:p.map(v=>r.jsx("option",{value:v.user||v.name,children:v.user||v.name},v.name))]}),g&&r.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"details",children:"Description"}),r.jsx("textarea",{id:"details",value:i.details,onChange:v=>x("details",v.target.value),placeholder:"Phase description, objectives, and key deliverables...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3})]}),h&&r.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:r.jsx("p",{className:"text-sm text-red-600",children:h.message||"Failed to create project phase. Please try again."})}),r.jsxs(Pn,{children:[r.jsx(Je,{type:"button",variant:"outline",onClick:j,disabled:u,children:"Cancel"}),r.jsxs(Je,{type:"submit",disabled:u||!i.subject.trim(),className:"flex items-center gap-2",children:[u&&r.jsx(ex,{className:"h-4 w-4 animate-spin"}),"Create Phase"]})]})]})]})})},a7=({isOpen:e,onClose:t,projectName:s,onSuccess:n})=>{const[i,o]=N.useState({subject:"",description:"",priority:"Medium",exp_start_date:"",exp_end_date:"",status:"Open"}),{createDoc:c,loading:u,error:h}=Yi(),f=g=>we(null,null,function*(){if(g.preventDefault(),!!i.subject.trim())try{yield c("Task",{subject:i.subject,description:i.description,priority:i.priority,exp_start_date:i.exp_start_date||null,exp_end_date:i.exp_end_date||null,status:i.status,project:s,is_template:0,progress:0}),o({subject:"",description:"",priority:"Medium",exp_start_date:"",exp_end_date:"",status:"Open"}),n==null||n(),t()}catch(x){console.error("Error creating standalone task:",x)}}),p=(g,x)=>{o(b=>oe(L({},b),{[g]:x}))};return r.jsx(bn,{open:e,onOpenChange:t,children:r.jsxs(vn,{className:"sm:max-w-[500px]",children:[r.jsx(wn,{children:r.jsx(jn,{className:"flex items-center justify-between",children:"Create Standalone Task"})}),r.jsxs("form",{onSubmit:f,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"subject",children:"Task Subject *"}),r.jsx($t,{id:"subject",value:i.subject,onChange:g=>p("subject",g.target.value),placeholder:"Enter task subject",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"description",children:"Description"}),r.jsx("textarea",{id:"description",value:i.description,onChange:g=>p("description",g.target.value),placeholder:"Enter task description (optional)",rows:3,className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"priority",children:"Priority"}),r.jsxs("select",{id:"priority",value:i.priority,onChange:g=>p("priority",g.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[r.jsx("option",{value:"Low",children:"Low"}),r.jsx("option",{value:"Medium",children:"Medium"}),r.jsx("option",{value:"High",children:"High"}),r.jsx("option",{value:"Urgent",children:"Urgent"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"status",children:"Status"}),r.jsxs("select",{id:"status",value:i.status,onChange:g=>p("status",g.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[r.jsx("option",{value:"Open",children:"Open"}),r.jsx("option",{value:"Working",children:"Working"}),r.jsx("option",{value:"Pending Review",children:"Pending Review"}),r.jsx("option",{value:"Overdue",children:"Overdue"}),r.jsx("option",{value:"Template",children:"Template"}),r.jsx("option",{value:"Completed",children:"Completed"}),r.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"exp_start_date",children:"Expected Start Date"}),r.jsx($t,{id:"exp_start_date",type:"date",value:i.exp_start_date,onChange:g=>p("exp_start_date",g.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"exp_end_date",children:"Expected End Date"}),r.jsx($t,{id:"exp_end_date",type:"date",value:i.exp_end_date,onChange:g=>p("exp_end_date",g.target.value)})]})]}),h&&r.jsxs("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded-md",children:["Error creating task: ",h.message]}),r.jsxs(Pn,{children:[r.jsx(Je,{type:"button",variant:"outline",onClick:t,disabled:u,children:"Cancel"}),r.jsx(Je,{type:"submit",disabled:u||!i.subject.trim(),children:u?"Creating...":"Create Task"})]})]})]})})},r7=(e,t)=>{const s=n=>we(null,null,function*(){try{console.log(`Task ${n} changed, updating affected phase progress...`);const i=yield fetch(`/api/resource/Task/${n}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(i.ok&&(yield i.json()).data.project===e){console.log(`Task ${n} belongs to current project ${e}, finding affected phases...`);const u=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name"],filters:[["project","=",e]]})});if(u.ok){const f=(yield u.json()).message||[];for(const p of f)try{const g=yield fetch(`/api/resource/project_phase/${p.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(g.ok){const b=(yield g.json()).data;b.tasks&&b.tasks.some(j=>j.task===n)&&(console.log(`Updating progress for phase ${p.name} containing task ${n}`),yield VL(p.name),t&&t())}}catch(g){console.error(`Error updating progress for phase ${p.name}:`,g)}}}}catch(i){console.error("Error in triggerPhaseProgressUpdate:",i)}});return N.useEffect(()=>{const n=i=>{if(i.key==="task_progress_updated"&&i.newValue){const o=i.newValue;console.log(`Received task progress update signal for: ${o}`),s(o),localStorage.removeItem("task_progress_updated")}};return window.addEventListener("storage",n),()=>{window.removeEventListener("storage",n)}},[e,t]),{triggerPhaseProgressUpdate:s}},i7=({projectName:e,onViewPhaseDetails:t,onViewTaskDetails:s,onViewSubTaskDetails:n})=>{const[i,o]=N.useState(new Set),[c,u]=N.useState(new Set),[h,f]=N.useState(!1),[p,g]=N.useState(!1),[x,b]=N.useState([]),[j,v]=N.useState({visible:!1,text:"",x:0,y:0}),{data:T,isLoading:_,mutate:R}=Nt("project_phase",{fields:["name","subject","status","priority","start_date","end_date","progress","details","costing"],filters:[["project","=",e]],orderBy:{field:"start_date",order:"asc"},limit:0});r7(e,()=>{console.log("Phase progress updated, refreshing UI..."),R()}),N.useEffect(()=>{T&&T.length>0?we(null,null,function*(){const V=[];for(const J of T)try{const xe=yield fetch(`/api/resource/project_phase/${J.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(xe.ok){const fe=yield xe.json();V.push(fe.data)}else console.warn("Failed to fetch phase:",J.name),V.push(J)}catch(xe){console.error("Error fetching phase:",J.name,xe),V.push(J)}b(V)}):b([])},[T==null?void 0:T.length,T==null?void 0:T.map(ne=>ne.name).join(",")]);const{data:S,isLoading:C,mutate:D}=Nt("Task",{fields:["name","subject","status","priority","project","exp_start_date","exp_end_date","progress"],filters:[["project","=",e]],orderBy:{field:"exp_start_date",order:"asc"},limit:0}),k=(S==null?void 0:S.map(ne=>ne.name))||[],{data:B,isLoading:F,mutate:O}=Nt("SubTask",{fields:["name","subject","task","status","progress","start_date","end_date","description"],filters:k.length>0?[["task","in",k]]:[["task","=","dummy-non-existent-task"]],orderBy:{field:"start_date",order:"asc"},limit:0}),X=ne=>{const V=new Set(i);V.has(ne)?V.delete(ne):V.add(ne),o(V)},I=ne=>{const V=new Set(c);V.has(ne)?V.delete(ne):V.add(ne),u(V)};N.useEffect(()=>{const ne=()=>{document.hidden||(console.log("Tab became visible, refreshing all data (phases, tasks, subtasks)..."),R(),D(),O())};return document.addEventListener("visibilitychange",ne),()=>{document.removeEventListener("visibilitychange",ne)}},[R,D,O]);const Q=ne=>null,W=ne=>{switch(ne){case"Completed":return"bg-green-100 text-green-800";case"Working":return"bg-yellow-100 text-yellow-800";default:return"bg-blue-100 text-blue-800"}},Y=ne=>{switch(ne){case"Urgent":return"bg-red-100 text-red-800";case"High":return"bg-orange-100 text-orange-800";case"Medium":return"bg-yellow-100 text-yellow-800";default:return"bg-green-100 text-green-800"}},H=(ne,V)=>{if(ne.length>30){const J=V.currentTarget.getBoundingClientRect(),xe=document.querySelector(".bg-white.border.border-gray-200.rounded-lg"),fe=xe==null?void 0:xe.getBoundingClientRect();v({visible:!0,text:ne,x:fe?fe.left+24:50,y:J.top-8})}},z=()=>{v({visible:!1,text:"",x:0,y:0})},Z=(ne,V,J,xe=!1,fe=!1,Ee)=>{let De="0.75rem";J==="phase-task"||J==="task"&&V===1?De="2rem":J==="subtask"&&(De="3.5rem");const Ie=J==="phase"||J==="task"&&xe||J==="phase-task"&&xe,re=ne.subject||ne.name,Re=ne.status||"Open",He=ne.progress||0,Xe=ze=>{ze.preventDefault(),ze.stopPropagation(),Ee&&Ee()},Le=ze=>{ze.preventDefault(),ze.stopPropagation(),J==="phase"&&t?t(ne):(J==="task"||J==="phase-task")&&s?s(ne):J==="subtask"&&n&&n(ne)},dt=ze=>{ze.preventDefault(),ze.stopPropagation(),xe&&Ee&&Ee()};let Ge="hover:bg-gray-50",Be="";return J==="phase"||J==="task"?(Ge="bg-white hover:bg-gray-50",Be=""):J==="phase-task"?(Ge="bg-green-50/20 hover:bg-green-50",Be="border-l-2 border-l-green-200"):J==="subtask"&&(Ge="bg-yellow-50/20 hover:bg-yellow-50",Be="border-l-2 border-l-yellow-200"),r.jsx("div",{className:`${Ge} ${Be} transition-colors`,children:r.jsxs("div",{className:"grid grid-cols-12 gap-4 py-3 px-6 border-b border-gray-100 items-center cursor-pointer",onClick:dt,onDoubleClick:Le,children:[r.jsxs("div",{className:"col-span-5 flex items-center",style:{paddingLeft:De},children:[Ie&&r.jsx("button",{className:"mr-2 p-1 hover:bg-gray-100 rounded transition-colors flex-shrink-0",onClick:Xe,type:"button","aria-label":fe?"Collapse":"Expand",children:fe?r.jsx(ny,{className:"h-4 w-4 text-gray-600"}):r.jsx(r4,{className:"h-4 w-4 text-gray-600"})}),!Ie&&r.jsx("div",{className:"mr-2 p-1 flex-shrink-0 w-6 h-6"}),Q(),r.jsxs("div",{className:"ml-1 flex-1 min-w-0",children:[r.jsx("div",{className:`font-medium truncate ${J==="phase"?"text-blue-900 text-lg":J==="task"?"text-orange-900":J==="phase-task"?"text-green-900":"text-gray-700"}`,onMouseEnter:ze=>H(re,ze),onMouseLeave:z,title:re.length>30?re:void 0,children:re}),ne.description&&J==="subtask"&&r.jsx("p",{className:"text-sm text-gray-500 mt-1 truncate",onMouseEnter:ze=>H(ne.description,ze),onMouseLeave:z,title:ne.description.length>50?ne.description:void 0,children:ne.description}),ne.details&&J==="phase"&&r.jsx("p",{className:"text-sm text-gray-600 mt-1 truncate",onMouseEnter:ze=>H(ne.details,ze),onMouseLeave:z,title:ne.details.length>50?ne.details:void 0,children:ne.details})]})]}),r.jsx("div",{className:"col-span-2 text-center",children:r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${W(Re)}`,children:Re})}),r.jsx("div",{className:"col-span-2 text-center",children:ne.priority&&r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Y(ne.priority)}`,children:ne.priority})}),r.jsxs("div",{className:"col-span-3 flex items-center justify-start space-x-2",children:[J!=="subtask"&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:`${J==="phase"?"w-20":"w-16"} bg-gray-200 rounded-full h-2`,children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${He}%`}})}),r.jsxs("span",{className:"text-sm text-gray-600 w-12 text-left flex-shrink-0",children:[He,"%"]})]}),r.jsxs("div",{className:"ml-auto",children:[J==="phase"&&t&&r.jsx(Je,{variant:"outline",size:"sm",onClick:ze=>{ze.preventDefault(),ze.stopPropagation(),t(ne)},className:"h-7 px-2 text-xs",children:"View Details"}),(J==="task"||J==="phase-task")&&s&&r.jsx(Je,{variant:"outline",size:"sm",onClick:ze=>{ze.preventDefault(),ze.stopPropagation(),s(ne)},className:"h-7 px-2 text-xs",children:"View Details"}),J==="subtask"&&n&&r.jsx(Je,{variant:"outline",size:"sm",onClick:ze=>{ze.preventDefault(),ze.stopPropagation(),n(ne)},className:"h-7 px-2 text-xs",children:"View Details"})]})]})]})},`${J}-${ne.name}`)};if(_||C||F)return r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"}),r.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"}),r.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"})]});const te=x.length>0?x:T||[],ue=S||[],M=B||[],ie=ne=>M.filter(V=>V.task===ne);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Project Tasks & Phases"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Je,{size:"sm",variant:"outline",className:"flex items-center gap-2",onClick:()=>g(!0),children:[r.jsx(gr,{className:"h-4 w-4"}),"Add Task"]}),r.jsxs(Je,{size:"sm",className:"flex items-center gap-2",onClick:()=>f(!0),children:[r.jsx(gr,{className:"h-4 w-4"}),"Add Phase"]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[r.jsxs("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-200 grid grid-cols-12 gap-4 text-sm font-medium text-gray-700",children:[r.jsx("div",{className:"col-span-5",children:"Task / Phase"}),r.jsx("div",{className:"col-span-2 text-center",children:"Status"}),r.jsx("div",{className:"col-span-2 text-center",children:"Priority"}),r.jsx("div",{className:"col-span-3 text-left",children:"Progress"})]}),r.jsxs("div",{className:"divide-y divide-gray-100",children:[te.map(ne=>{const V=i.has(ne.name),J=ne.tasks||[];return r.jsxs("div",{children:[Z(ne,0,"phase",J.length>0,V,()=>{X(ne.name)}),V&&J.map((xe,fe)=>{const Ee=ue.find(Re=>Re.name===xe.task),De=ie(xe.task),Ie=De.length>0,re=c.has(xe.task);if(!Ee){const Re={name:xe.task,subject:xe.task,status:"Open"};return r.jsxs("div",{children:[Z(Re,1,"phase-task",Ie,re,Ie?()=>{I(xe.task)}:void 0),re&&Ie&&De.map((He,Xe)=>r.jsx("div",{children:Z(He,2,"subtask",!1,!1)},`subtask-${Xe}`))]},`phase-task-${fe}`)}return r.jsxs("div",{children:[Z(Ee,1,"phase-task",Ie,re,Ie?()=>{I(Ee.name)}:void 0),re&&Ie&&De.map((Re,He)=>r.jsx("div",{children:Z(Re,2,"subtask",!1,!1)},`subtask-${He}`))]},`phase-task-${fe}`)})]},ne.name)}),te.length>0&&ue.filter(ne=>!te.some(J=>{var xe;return(xe=J.tasks)==null?void 0:xe.some(fe=>fe.task===ne.name)})).length>0&&r.jsx("div",{className:"bg-gray-100 px-6 py-2 border-b border-gray-200",children:r.jsxs("div",{className:"text-sm font-medium text-gray-600 flex items-center",children:[r.jsx("span",{className:"mr-2",children:"📝"}),"Standalone Tasks"]})}),ue.filter(ne=>!te.some(J=>{var xe;return(xe=J.tasks)==null?void 0:xe.some(fe=>fe.task===ne.name)})).map(ne=>{const V=c.has(ne.name),J=ie(ne.name),xe=J.length>0;return r.jsxs("div",{children:[Z(ne,1,"task",xe,V,xe?()=>{I(ne.name)}:void 0),V&&xe&&J.map((fe,Ee)=>r.jsx("div",{children:Z(fe,2,"subtask",!1,!1)},`standalone-subtask-${Ee}`))]},ne.name)})]})]}),te.length===0&&ue.length===0&&r.jsx("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"📋"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No phases or tasks yet"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Start organizing your project by creating phases and tasks."}),r.jsxs("div",{className:"flex gap-3 justify-center",children:[r.jsx(Je,{onClick:()=>f(!0),children:"Create First Phase"}),r.jsx(Je,{variant:"outline",onClick:()=>g(!0),children:"Create Task"})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-6 border-t border-gray-200",children:[r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:te.length}),r.jsx("div",{className:"text-sm text-blue-600",children:"Total Phases"})]}),r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:ue.length}),r.jsx("div",{className:"text-sm text-green-600",children:"Total Tasks"})]}),r.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:M.length}),r.jsx("div",{className:"text-sm text-purple-600",children:"Total Subtasks"})]})]}),r.jsx(n7,{isOpen:h,onClose:()=>f(!1),projectName:e,onSuccess:()=>{R()}}),r.jsx(a7,{isOpen:p,onClose:()=>g(!1),projectName:e,onSuccess:()=>{D()}}),j.visible&&r.jsxs("div",{className:"fixed z-50 bg-gray-900 text-white text-sm px-4 py-2 rounded-lg shadow-xl pointer-events-none border border-gray-700",style:{left:j.x,top:j.y,transform:"translateY(-100%)",maxWidth:"400px",minWidth:"200px",wordWrap:"break-word"},children:[r.jsx("div",{className:"font-medium leading-relaxed",children:j.text}),r.jsx("div",{className:"absolute top-full w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900",style:{left:"20px"}})]})]})},o7=({isOpen:e,onClose:t,projectName:s,phaseId:n,onSuccess:i})=>{const[o,c]=N.useState({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),[u,h]=N.useState({}),[f,p]=N.useState(!1),{createTaskWithPhase:g,isLoading:x}=UL(),{data:b,isLoading:j}=gc(s),{data:v}=Ot("Project",s),T=(C,D)=>{c(k=>oe(L({},k),{[C]:D})),u[C]&&h(k=>oe(L({},k),{[C]:""}))},_=()=>{const C={};return o.subject.trim()||(C.subject="Task subject is required"),h(C),Object.keys(C).length===0},R=C=>we(null,null,function*(){if(C.preventDefault(),!f&&_()){if(o.exp_start_date&&o.exp_end_date){const D=new Date(o.exp_start_date);if(new Date(o.exp_end_date)<D){gs.error("End date cannot be earlier than start date");return}}if(o.exp_end_date&&(v!=null&&v.expected_end_date)){const D=new Date(o.exp_end_date),k=new Date(v.expected_end_date);if(D>k){gs.error(`Task end date cannot be after project end date (${v.expected_end_date})`);return}}p(!0);try{const D=oe(L({},o),{project:s,expected_time:Number(o.expected_time),task_weight:Number(o.task_weight),exp_start_date:o.exp_start_date||void 0,exp_end_date:o.exp_end_date||void 0,phaseId:n,assign_to:o.assign_to||void 0});console.log("Creating task with data:",D),console.log("Date fields:",{exp_start_date:o.exp_start_date,exp_end_date:o.exp_end_date});const k=yield g(D);console.log("Task with phase created:",k);let B=`Task "${o.subject}" has been created successfully.`;k.todo&&o.assign_to&&(console.log("Task assigned and ToDo created for:",o.assign_to),B+=` Task has been assigned to ${o.assign_to}.`),gs.success("Task created successfully",{description:B}),c({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),h({}),i&&i(),t()}catch(D){console.error("Error creating task:",D);let k="Failed to create task. Please try again.";D!=null&&D.message&&(D.message.includes("Expected End Date cannot be after Project")?k="Task end date cannot be after the project end date. Please choose an earlier date.":D.message.includes("InvalidDates")?k="Invalid date configuration. Please check your task dates.":k=D.message),D!=null&&D.exception&&typeof D.exception=="string"&&D.exception.includes("Expected End Date cannot be after Project")&&(k="Task end date cannot be after the project end date. Please choose an earlier date."),gs.error("Failed to create task",{description:k}),h({submit:k})}finally{p(!1)}}}),S=()=>{c({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),h({}),t()};return r.jsx(bn,{open:e,onOpenChange:S,children:r.jsxs(vn,{className:"sm:max-w-[600px]",children:[r.jsxs(wn,{children:[r.jsxs(jn,{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-2xl",children:"📝"}),"Create New Task"]}),r.jsxs(jd,{children:["Create a new task for project: ",r.jsx("strong",{children:s}),n&&r.jsxs(r.Fragment,{children:[r.jsx("br",{}),r.jsx("span",{className:"text-blue-600",children:"🔗 This task will be linked to the current phase"})]}),r.jsx("br",{}),r.jsx("span",{className:"text-gray-600",children:"💡 Assigning to a user will automatically create a ToDo item for them"})]})]}),r.jsxs("form",{onSubmit:R,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsx($e,{htmlFor:"subject",children:"Task Subject *"}),r.jsx($t,{id:"subject",value:o.subject,onChange:C=>T("subject",C.target.value),placeholder:"Enter task subject...",className:u.subject?"border-red-500":""}),u.subject&&r.jsx("p",{className:"text-sm text-red-600 mt-1",children:u.subject})]}),r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsx($e,{htmlFor:"description",children:"Description"}),r.jsx("textarea",{id:"description",value:o.description,onChange:C=>T("description",C.target.value),placeholder:"Enter task description...",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsx($e,{htmlFor:"priority",children:"Priority"}),r.jsxs("select",{id:"priority",value:o.priority,onChange:C=>T("priority",C.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[r.jsx("option",{value:"Low",children:"Low"}),r.jsx("option",{value:"Medium",children:"Medium"}),r.jsx("option",{value:"High",children:"High"}),r.jsx("option",{value:"Urgent",children:"Urgent"})]})]}),r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsx($e,{htmlFor:"status",children:"Status"}),r.jsxs("select",{id:"status",value:o.status,onChange:C=>T("status",C.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[r.jsx("option",{value:"Open",children:"Open"}),r.jsx("option",{value:"Working",children:"Working"}),r.jsx("option",{value:"Overdue",children:"Overdue"}),r.jsx("option",{value:"Pending Review",children:"Pending Review"}),r.jsx("option",{value:"Completed",children:"Completed"}),r.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsx($e,{htmlFor:"assign_to",children:"Assign To"}),r.jsxs("select",{id:"assign_to",value:o.assign_to,onChange:C=>T("assign_to",C.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",disabled:j,children:[r.jsx("option",{value:"",children:"Select user to assign (Optional)"}),b==null?void 0:b.map(C=>r.jsxs("option",{value:C.user||C.name,children:[C.full_name||C.name,C.email&&` (${C.email})`]},C.user||C.name))]}),j&&r.jsx("p",{className:"text-sm text-gray-500",children:"Loading users..."}),!j&&b&&b.length>10&&r.jsx("p",{className:"text-sm text-amber-600",children:"⚠️ Showing all system users (project users not available)"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsx($e,{htmlFor:"expected_time",children:"Expected Time (hours)"}),r.jsx($t,{id:"expected_time",type:"number",min:"0",step:"0.5",value:o.expected_time,onChange:C=>T("expected_time",Number(C.target.value)),placeholder:"0"})]}),r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsx($e,{htmlFor:"task_weight",children:"Task Weight"}),r.jsx($t,{id:"task_weight",type:"number",min:"1",value:o.task_weight,onChange:C=>T("task_weight",Number(C.target.value)),placeholder:"1"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"exp_start_date",children:"Expected Start Date"}),r.jsx($t,{id:"exp_start_date",type:"date",value:o.exp_start_date,onChange:C=>T("exp_start_date",C.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"exp_end_date",children:"Expected End Date"}),r.jsx($t,{id:"exp_end_date",type:"date",value:o.exp_end_date,onChange:C=>T("exp_end_date",C.target.value),max:(v==null?void 0:v.expected_end_date)||void 0}),(v==null?void 0:v.expected_end_date)&&r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Must be before project end date: ",v.expected_end_date]})]})]})]}),u.submit&&r.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-md p-3",children:u.submit}),r.jsxs(Pn,{children:[r.jsx(Je,{type:"button",variant:"outline",onClick:S,children:"Cancel"}),r.jsx(Je,{type:"submit",disabled:x||f,children:x||f?"Creating...":"Create Task"})]})]})]})})},l7=({phase:e,projectName:t,isOpen:s,onClose:n,onSuccess:i})=>{var B;const{updatePhase:o,isLoading:c,error:u}=zL(),{assignPhase:h,unassignPhase:f}=vS(),{currentUser:p}=An(),{data:g,isLoading:x}=gc(t),{data:b}=Ot("Project",t||"",t?"Project":void 0),j=(b==null?void 0:b.users)||[],{data:v}=Nt("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","project_phase"],["reference_name","=",(e==null?void 0:e.name)||""]]}),T=()=>{if(p==="Administrator"||(b==null?void 0:b.owner)===p)return!0;const F=j.find(O=>O.user===p);return(F==null?void 0:F.project_status)==="Project Manager (Owner Substitute)"},[_,R]=N.useState({subject:"",status:"Open",priority:"Medium",start_date:"",end_date:"",progress:0,details:"",costing:0,assign_to:""}),S=((B=v==null?void 0:v[0])==null?void 0:B.allocated_to)||"";N.useEffect(()=>{e&&R({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",progress:e.progress||0,details:e.details||"",costing:e.costing||0,assign_to:S})},[e,S]);const C=(F,O)=>{R(X=>oe(L({},X),{[F]:O}))},D=F=>we(null,null,function*(){if(F.preventDefault(),!!e){if(_.status==="Completed"&&!T()){gs.error("Permission denied",{description:"You don't have permission to mark this phase as Completed. Only Project Owner, Project Manager, or Administrator can do this."});return}try{const O=_,{assign_to:X}=O,I=Oe(O,["assign_to"]);yield o(e.name,I);const Q=S,W=X;if(Q&&Q!==W){const Y=v==null?void 0:v.find(H=>H.allocated_to===Q);Y&&(yield f(Y.name))}W&&W!==Q&&(yield h(e.name,W)),gs.success("Phase updated successfully",{description:`Phase "${_.subject}" has been updated.`}),i&&i(),n()}catch(X){console.error("Error updating phase:",X),gs.error("Failed to update phase",{description:X instanceof Error?X.message:"An unexpected error occurred."})}}}),k=()=>{e&&R({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",progress:e.progress||0,details:e.details||"",costing:e.costing||0,assign_to:S}),n()};return r.jsx(bn,{open:s,onOpenChange:n,children:r.jsxs(vn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[r.jsx(wn,{children:r.jsx(jn,{children:"Edit Phase"})}),r.jsxs("form",{onSubmit:D,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"subject",children:"Subject *"}),r.jsx($t,{id:"subject",value:_.subject,onChange:F=>C("subject",F.target.value),required:!0,placeholder:"Enter phase subject"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"status",children:"Status"}),r.jsxs("select",{id:"status",value:_.status,onChange:F=>C("status",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"Open",children:"Open"}),r.jsx("option",{value:"Working",children:"Working"}),r.jsx("option",{value:"Pending Review",children:"Pending Review"}),T()&&r.jsx("option",{value:"Completed",children:"Completed"}),r.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),!T()&&r.jsx("span",{className:"text-xs text-amber-600",children:"You don't have permission to mark Completed"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"priority",children:"Priority"}),r.jsxs("select",{id:"priority",value:_.priority,onChange:F=>C("priority",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"Low",children:"Low"}),r.jsx("option",{value:"Medium",children:"Medium"}),r.jsx("option",{value:"High",children:"High"}),r.jsx("option",{value:"Critical",children:"Critical"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"start_date",children:"Start Date"}),r.jsx($t,{id:"start_date",type:"date",value:_.start_date,onChange:F=>C("start_date",F.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"end_date",children:"End Date"}),r.jsx($t,{id:"end_date",type:"date",value:_.end_date,onChange:F=>C("end_date",F.target.value)})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"progress",children:"Progress (%)"}),r.jsx($t,{id:"progress",type:"number",min:"0",max:"100",value:_.progress,onChange:F=>C("progress",parseInt(F.target.value)||0),placeholder:"0"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"costing",children:"Costing"}),r.jsx($t,{id:"costing",type:"number",min:"0",step:"0.01",value:_.costing,onChange:F=>C("costing",parseFloat(F.target.value)||0),placeholder:"0.00"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"details",children:"Details"}),r.jsx("textarea",{id:"details",value:_.details,onChange:F=>C("details",F.target.value),placeholder:"Enter phase details",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"assign_to",children:"Assign To"}),r.jsxs("select",{id:"assign_to",value:_.assign_to,onChange:F=>C("assign_to",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:x,children:[r.jsx("option",{value:"",children:"Select user..."}),g==null?void 0:g.map(F=>r.jsx("option",{value:F.user||F.name,children:F.user||F.name},F.name))]}),x&&r.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),u&&r.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:r.jsxs("p",{children:[r.jsx("strong",{children:"Error:"})," ",u.message||"Failed to update phase"]})}),r.jsxs(Pn,{className:"flex gap-2",children:[r.jsx(Je,{type:"button",variant:"outline",onClick:k,children:"Cancel"}),r.jsx(Je,{type:"submit",disabled:c,children:c?"Updating...":"Update Phase"})]})]})]})})},c7=({phase:e,isOpen:t,onClose:s,onSuccess:n})=>{const{call:i,loading:o,error:c}=xn("frappe.client.delete"),u=()=>we(null,null,function*(){if(e)try{yield i({doctype:"project_phase",name:e.name}),n&&n(),s()}catch(f){console.error("Error deleting phase:",f)}}),h=()=>{s()};return r.jsx(bn,{open:t,onOpenChange:s,children:r.jsxs(vn,{className:"sm:max-w-[400px]",children:[r.jsx(wn,{children:r.jsxs(jn,{className:"flex items-center gap-2 text-red-600",children:[r.jsx(cc,{className:"h-5 w-5"}),"Delete Phase"]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this phase? This action cannot be undone."}),e&&r.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[r.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Priority: ",e.priority||"Medium"]})]}),r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[r.jsxs("div",{className:"text-sm text-red-800",children:[r.jsx("strong",{children:"Warning:"})," Deleting this phase will also remove:"]}),r.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[r.jsx("li",{children:"All tasks associated with this phase"}),r.jsx("li",{children:"All phase progress data"}),r.jsx("li",{children:"Phase timeline and milestones"}),r.jsx("li",{children:"Related documents and attachments"})]})]}),c&&r.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:r.jsxs("p",{children:[r.jsx("strong",{children:"Error:"})," ",c.message||"Failed to delete phase"]})})]}),r.jsxs(Pn,{className:"flex gap-2",children:[r.jsx(Je,{type:"button",variant:"outline",onClick:h,children:"Cancel"}),r.jsx(Je,{type:"button",variant:"destructive",onClick:u,disabled:o,children:o?"Deleting...":"Delete Phase"})]})]})})},u7=({phase:e,projectName:t,onBack:s,onViewTaskDetails:n,onPhaseUpdated:i,onPhaseDeleted:o,onTaskCreated:c})=>{var te;const[u,h]=N.useState(!1),[f,p]=N.useState(!1),[g,x]=N.useState(!1),[b,j]=N.useState(!1),[v,T]=N.useState(!1),{calculateAndUpdatePhaseProgress:_}=TS(),{data:R,mutate:S}=Ot("project_phase",e.name,"project_phase"),C=R||e,{data:D,isLoading:k,mutate:B}=Nt("Task",{fields:["name","subject","status","priority","project","exp_start_date","exp_end_date","progress"],filters:[["project","=",t]],orderBy:{field:"exp_start_date",order:"asc"},limit:0}),F=ae.useMemo(()=>{if(!D)return[];if(C.tasks&&C.tasks.length>0){const ue=C.tasks.map(M=>M.task);return D.filter(M=>ue.includes(M.name))}return[]},[D,C.tasks]),O=ae.useMemo(()=>{if(!F||F.length===0)return 0;const ue=F.reduce((M,ie)=>M+(ie.progress||0),0);return Math.round(ue/F.length)},[F]);N.useEffect(()=>{F.length>0&&O!==(C.progress||0)&&X()},[O,F.length]);const X=()=>we(null,null,function*(){j(!0);try{yield _(e.name),yield S(),i&&i()}catch(ue){console.error("Error recalculating phase progress:",ue)}finally{j(!1)}}),I=ue=>ue?new Date(ue).toLocaleDateString():"N/A",Q=ue=>ue?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(ue):"$0",W=ue=>{switch(ue){case"Completed":return r.jsx(ay,{className:"h-5 w-5 text-green-600"});case"Working":return r.jsx(Hi,{className:"h-5 w-5 text-yellow-600"});case"Open":return r.jsx(zi,{className:"h-5 w-5 text-blue-600"});default:return r.jsx(zi,{className:"h-5 w-5 text-gray-400"})}},Y=ue=>{switch(ue){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},H=ue=>{switch(ue){case"Urgent":return"bg-red-100 text-red-800 border-red-200";case"High":return"bg-orange-100 text-orange-800 border-orange-200";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},z=()=>we(null,null,function*(){T(!0);try{yield S(),yield B(),i&&(yield i()),setTimeout(()=>we(null,null,function*(){j(!0);try{yield _(C.name),setTimeout(()=>we(null,null,function*(){yield S()}),500)}catch(ue){console.error("Error recalculating phase progress:",ue)}finally{j(!1)}}),500)}finally{T(!1)}}),Z=()=>{o&&o(),s()};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(Je,{variant:"ghost",size:"sm",onClick:s,className:"flex items-center gap-2",children:[r.jsx(sy,{className:"h-4 w-4"}),"Back to Tasks"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Je,{variant:"outline",size:"sm",onClick:()=>p(!0),disabled:v||b,className:"flex items-center gap-2",children:[r.jsx(Zu,{className:`h-4 w-4 ${v?"animate-pulse":""}`}),v?"Updating...":"Edit Phase"]}),r.jsxs(Je,{variant:"outline",size:"sm",onClick:()=>x(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[r.jsx($i,{className:"h-4 w-4"}),"Delete Phase"]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"h-12 w-12 rounded-lg bg-blue-500 flex items-center justify-center",children:r.jsx("span",{className:"text-xl",children:"📋"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:C.subject}),r.jsx("p",{className:"text-sm text-gray-600",children:"Phase Details"})]})]}),C.details&&r.jsx("p",{className:"text-gray-700 leading-relaxed",children:C.details})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${Y(C.status||"Open")}`,children:[W(C.status||"Open"),r.jsx("span",{className:"font-medium",children:C.status||"Open"})]}),C.priority&&r.jsx("div",{className:`px-3 py-1 rounded-full border ${H(C.priority)}`,children:r.jsx("span",{className:"text-sm font-medium",children:C.priority})})]})]}),r.jsxs("div",{className:"mt-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Phase Progress"}),F.length>0&&r.jsxs("span",{className:"text-xs text-gray-500",children:["(Auto-calculated from ",F.length," tasks)"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[O,"%"]}),r.jsx(Je,{variant:"ghost",size:"sm",onClick:X,disabled:b,className:"h-8 w-8 p-0",title:"Recalculate progress from tasks",children:r.jsx(Z4,{className:`h-4 w-4 ${b?"animate-spin":""}`})})]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:r.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full transition-all duration-500",style:{width:`${O}%`}})}),F.length>0&&r.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Task progress: ",F.map(ue=>`${ue.subject}: ${ue.progress||0}%`).join(", ")]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:r.jsx(an,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),r.jsx("p",{className:"text-lg font-bold text-gray-900",children:I(C.start_date)})]})]})}),r.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:r.jsx(oy,{className:"h-6 w-6 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),r.jsx("p",{className:"text-lg font-bold text-gray-900",children:I(C.end_date)})]})]})}),r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:r.jsx(zo,{className:"h-6 w-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Estimated Cost"}),r.jsx("p",{className:"text-lg font-bold text-gray-900",children:Q(C.costing)})]})]})})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Phase Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Phase ID"}),r.jsx("span",{className:"text-gray-900 font-semibold",children:C.name})]}),r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),r.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),r.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${Y(C.status||"Open")}`,children:[W(C.status||"Open"),r.jsx("span",{className:"font-medium",children:C.status||"Open"})]})]}),r.jsxs("div",{className:"flex items-center justify-between py-3",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),r.jsx("div",{className:`px-3 py-1 rounded-full ${H(C.priority||"Medium")}`,children:r.jsx("span",{className:"font-medium",children:C.priority||"Medium"})})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Tasks Count"}),r.jsx("span",{className:"text-gray-900 font-semibold",children:((te=C.tasks)==null?void 0:te.length)||0})]}),r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),r.jsx("span",{className:"text-gray-900 font-semibold",children:C.start_date&&C.end_date?`${Math.ceil((new Date(C.end_date).getTime()-new Date(C.start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),r.jsxs("div",{className:"flex items-center justify-between py-3",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Progress"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-xl font-bold text-blue-600",children:[O,"%"]}),F.length>0&&r.jsxs("span",{className:"text-xs text-gray-500",children:["(from ",F.length," tasks)"]})]})]}),r.jsxs("div",{className:"flex items-center justify-between py-3",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Estimated Cost"}),r.jsx("span",{className:"text-xl font-bold text-green-600",children:Q(e.costing)})]})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Tasks in this Phase"})}),k?r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),r.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),r.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"})]}):r.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[r.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3",children:[r.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700",children:"#"}),r.jsx("div",{className:"col-span-4 text-sm font-medium text-gray-700",children:"Task"}),r.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Progress"}),r.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Status"}),r.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700 text-center",children:"Priority"}),r.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Actions"})]})}),r.jsxs("div",{className:"divide-y divide-gray-100",children:[F&&F.length>0?F.map((ue,M)=>r.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[r.jsx("div",{className:"col-span-1 flex items-center",children:r.jsx("span",{className:"text-sm text-gray-600",children:M+1})}),r.jsxs("div",{className:"col-span-4 flex items-center gap-3",children:[r.jsx("div",{className:"p-1 bg-orange-100 rounded",children:r.jsx("span",{className:"text-sm",children:"📝"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:ue.subject||ue.name}),r.jsx("div",{className:"text-sm text-gray-500",children:ue.name})]})]}),r.jsx("div",{className:"col-span-2 flex items-center justify-center",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${ue.progress||0}%`}})}),r.jsxs("span",{className:"text-sm font-medium text-gray-700 min-w-[30px]",children:[ue.progress||0,"%"]})]})}),r.jsx("div",{className:"col-span-2 flex items-center justify-center",children:r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Y(ue.status||"Open")}`,children:ue.status||"Open"})}),r.jsx("div",{className:"col-span-1 flex items-center justify-center",children:ue.priority&&r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${H(ue.priority)}`,children:ue.priority})}),r.jsx("div",{className:"col-span-2 flex items-center justify-center",children:n&&r.jsx(Je,{variant:"outline",size:"sm",onClick:()=>n(ue),className:"h-7 px-2 text-xs",children:"View Details"})})]},ue.name)):r.jsxs("div",{className:"px-6 py-8 text-center text-gray-500",children:[r.jsx("div",{className:"text-4xl mb-2",children:"📝"}),r.jsx("div",{className:"text-lg font-medium mb-1",children:"No tasks yet"}),r.jsx("div",{className:"text-sm",children:'Click "Add Task" to create the first task for this phase'})]}),r.jsx("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 bg-gray-50 border-t border-gray-200",children:r.jsx("div",{className:"col-span-12 flex items-center justify-center",children:r.jsxs(Je,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",onClick:()=>h(!0),children:[r.jsx(gr,{className:"h-4 w-4"}),"Add new task to this phase"]})})})]})]})]}),r.jsx(Om,{doctype:"project_phase",docname:e.name,title:"Phase Files",allowUpload:!0,allowDelete:!0,className:"mt-8"}),r.jsx(o7,{isOpen:u,onClose:()=>h(!1),projectName:t,phaseId:e.name,onSuccess:()=>we(null,null,function*(){yield S(),c&&(yield c()),setTimeout(()=>we(null,null,function*(){yield B(),setTimeout(()=>we(null,null,function*(){yield X()}),500)}),500)})}),r.jsx(l7,{phase:e,projectName:t,isOpen:f,onClose:()=>p(!1),onSuccess:z}),r.jsx(c7,{phase:e,isOpen:g,onClose:()=>x(!1),onSuccess:Z})]})},d7=({isOpen:e,onClose:t,projectName:s,parentTask:n,onSuccess:i})=>{const[o,c]=N.useState({subject:"",description:"",priority:"Medium",status:"Open",task:n||"",assign_to:""}),[u,h]=N.useState({}),{createDoc:f,loading:p}=Yi(),{assignSubTask:g}=Sy(),{calculateAndUpdateTaskProgress:x}=yd(),{data:b,isLoading:j}=gc(s),v=(S,C)=>{c(D=>oe(L({},D),{[S]:C})),u[S]&&h(D=>oe(L({},D),{[S]:""}))},T=()=>{const S={};return o.subject.trim()||(S.subject="SubTask subject is required"),o.task.trim()||(S.task="Parent task is required"),h(S),Object.keys(S).length===0},_=S=>we(null,null,function*(){if(S.preventDefault(),!!T())try{const C=o,{assign_to:D}=C,k=Oe(C,["assign_to"]),B=yield f("SubTask",oe(L({},k),{project:s}));if(D&&B&&(yield g(B.name,D)),n)try{yield x(n)}catch(F){console.error("Error updating task progress after subtask creation:",F)}c({subject:"",description:"",priority:"Medium",status:"Open",task:n||"",assign_to:""}),h({}),i&&i(),t()}catch(D){console.error("Error creating subtask:",D),h({submit:"Failed to create subtask. Please try again."})}}),R=()=>{c({subject:"",description:"",priority:"Medium",status:"Open",task:n||"",assign_to:""}),h({}),t()};return r.jsx(bn,{open:e,onOpenChange:R,children:r.jsxs(vn,{className:"sm:max-w-[600px]",children:[r.jsxs(wn,{children:[r.jsxs(jn,{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-2xl",children:"📌"}),"Create New SubTask"]}),r.jsxs(jd,{children:["Create a new subtask for project: ",r.jsx("strong",{children:s}),n&&r.jsxs("span",{className:"block mt-1",children:["Parent Task: ",r.jsx("strong",{children:n})]})]})]}),r.jsxs("form",{onSubmit:_,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsx($e,{htmlFor:"subject",children:"SubTask Subject *"}),r.jsx($t,{id:"subject",value:o.subject,onChange:S=>v("subject",S.target.value),placeholder:"Enter subtask subject...",className:u.subject?"border-red-500":""}),u.subject&&r.jsx("p",{className:"text-sm text-red-600 mt-1",children:u.subject})]}),r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsx($e,{htmlFor:"task",children:"Parent Task *"}),r.jsx($t,{id:"task",value:o.task,onChange:S=>v("task",S.target.value),placeholder:"Enter parent task ID...",className:u.task?"border-red-500":""}),u.task&&r.jsx("p",{className:"text-sm text-red-600 mt-1",children:u.task}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Enter the Task ID that this subtask belongs to"})]}),r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsx($e,{htmlFor:"description",children:"Description"}),r.jsx("textarea",{id:"description",value:o.description,onChange:S=>v("description",S.target.value),placeholder:"Enter subtask description...",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"assign_to",children:"Assign To"}),r.jsxs("select",{id:"assign_to",value:o.assign_to,onChange:S=>v("assign_to",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:j,children:[r.jsx("option",{value:"",children:"Select user..."}),b==null?void 0:b.map(S=>r.jsx("option",{value:S.user||S.name,children:S.user||S.name},S.name))]}),j&&r.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsx($e,{htmlFor:"priority",children:"Priority"}),r.jsxs("select",{id:"priority",value:o.priority,onChange:S=>v("priority",S.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[r.jsx("option",{value:"Low",children:"Low"}),r.jsx("option",{value:"Medium",children:"Medium"}),r.jsx("option",{value:"High",children:"High"})]})]}),r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsx($e,{htmlFor:"status",children:"Status"}),r.jsxs("select",{id:"status",value:o.status,onChange:S=>v("status",S.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[r.jsx("option",{value:"Open",children:"Open"}),r.jsx("option",{value:"Working",children:"Working"}),r.jsx("option",{value:"Completed",children:"Completed"})]})]})]})]}),u.submit&&r.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-md p-3",children:u.submit}),r.jsxs(Pn,{children:[r.jsx(Je,{type:"button",variant:"outline",onClick:R,children:"Cancel"}),r.jsx(Je,{type:"submit",disabled:p,children:p?"Creating...":"Create SubTask"})]})]})]})})},f7=({task:e,projectName:t,isOpen:s,onClose:n,onSuccess:i})=>{const{updateTask:o,isLoading:c,error:u}=xS(),{assignTask:h,unassignTask:f}=yS(),{updateTaskProgress:p}=NS(),{updateTaskProgressByStatus:g}=jS(),{currentUser:x}=An(),{data:b,isLoading:j}=gc(t),{data:v}=Ot("Project",t),T=(v==null?void 0:v.users)||[],{data:_}=Nt("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","Task"],["reference_name","=",(e==null?void 0:e.name)||""]]}),{data:R}=Nt("SubTask",{fields:["name"],filters:[["task","=",(e==null?void 0:e.name)||""]],limit:1}),S=()=>{if(x==="Administrator"||(v==null?void 0:v.owner)===x)return!0;const I=T.find(Q=>Q.user===x);return(I==null?void 0:I.project_status)==="Project Manager (Owner Substitute)"},[C,D]=N.useState({subject:"",status:"Open",priority:"Medium",exp_start_date:"",exp_end_date:"",progress:0,description:"",assign_to:""}),[k,B]=N.useState(!1);N.useEffect(()=>{var I;if(e){const Q=((I=_==null?void 0:_[0])==null?void 0:I.allocated_to)||"";D({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",exp_start_date:e.exp_start_date?e.exp_start_date.split(" ")[0]:"",exp_end_date:e.exp_end_date?e.exp_end_date.split(" ")[0]:"",progress:e.progress||0,description:e.description||"",assign_to:Q})}},[e,_]),N.useEffect(()=>{B(!!(R&&R.length>0))},[R]);const F=(I,Q)=>{D(W=>oe(L({},W),{[I]:Q}))},O=I=>we(null,null,function*(){var Q,W,Y;if(I.preventDefault(),!!e){if(C.status==="Completed"&&!S()){gs.error("Permission denied",{description:"You don't have permission to mark this task as Completed. Only Project Owner, Project Manager, or Administrator can do this."});return}if(C.exp_start_date&&C.exp_end_date){const H=new Date(C.exp_start_date);if(new Date(C.exp_end_date)<H){gs.error("End date cannot be earlier than start date");return}}if(C.exp_end_date&&(v!=null&&v.expected_end_date)){const H=new Date(C.exp_end_date),z=new Date(v.expected_end_date);if(H>z){gs.error(`Task end date cannot be after project end date (${v.expected_end_date})`);return}}try{const H=C.progress!==(e.progress||0),z=C.status!==e.status;k&&H?yield p(e.name,C.progress):z&&(C.status==="Completed"||C.status==="Cancelled")?yield g(e.name,C.status):yield o(e.name,C);const Z=((Q=_==null?void 0:_[0])==null?void 0:Q.allocated_to)||"",te=C.assign_to;if(Z!==te){if(Z&&(_!=null&&_[0]))try{yield f(_[0].name)}catch(ue){console.error("Error deleting old ToDo:",ue)}if(te)try{yield h(e.name,C.subject,te,C.priority)}catch(ue){console.error("Error creating new ToDo:",ue)}}gs.success("Task updated successfully",{description:`Task "${C.subject}" has been updated.`}),i&&i(),n()}catch(H){console.error("Error updating task:",H);let z="Failed to update task";(W=H==null?void 0:H.message)!=null&&W.includes("modified")?z="The task has been modified by someone else. Please close and reopen the task to get the latest version.":(Y=H==null?void 0:H.message)!=null&&Y.includes("permission")?z="You do not have permission to update this task.":H!=null&&H.message&&(z=H.message),gs.error("Failed to update task",{description:z})}}}),X=()=>{var I;if(e){const Q=((I=_==null?void 0:_[0])==null?void 0:I.allocated_to)||"";D({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",exp_start_date:e.exp_start_date?e.exp_start_date.split(" ")[0]:"",exp_end_date:e.exp_end_date?e.exp_end_date.split(" ")[0]:"",progress:e.progress||0,description:e.description||"",assign_to:Q})}n()};return r.jsx(bn,{open:s,onOpenChange:n,children:r.jsxs(vn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[r.jsx(wn,{children:r.jsx(jn,{children:"Edit Task"})}),r.jsxs("form",{onSubmit:O,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"subject",children:"Subject *"}),r.jsx($t,{id:"subject",value:C.subject,onChange:I=>F("subject",I.target.value),required:!0,placeholder:"Enter task subject"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"status",children:"Status"}),r.jsxs("select",{id:"status",value:C.status,onChange:I=>F("status",I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"Open",children:"Open"}),r.jsx("option",{value:"Working",children:"Working"}),r.jsx("option",{value:"Pending Review",children:"Pending Review"}),r.jsx("option",{value:"Overdue",children:"Overdue"}),r.jsx("option",{value:"Template",children:"Template"}),S()&&r.jsx("option",{value:"Completed",children:"Completed"}),r.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),!S()&&r.jsx("span",{className:"text-xs text-amber-600",children:"You don't have permission to mark Completed"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"priority",children:"Priority"}),r.jsxs("select",{id:"priority",value:C.priority,onChange:I=>F("priority",I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"Low",children:"Low"}),r.jsx("option",{value:"Medium",children:"Medium"}),r.jsx("option",{value:"High",children:"High"}),r.jsx("option",{value:"Urgent",children:"Urgent"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"assign_to",children:"Assign To"}),r.jsxs("select",{id:"assign_to",value:C.assign_to,onChange:I=>F("assign_to",I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:j,children:[r.jsx("option",{value:"",children:"Select user to assign (Optional)"}),b==null?void 0:b.map(I=>r.jsxs("option",{value:I.user||I.name,children:[I.full_name||I.name,I.email&&` (${I.email})`]},I.user||I.name))]}),j&&r.jsx("p",{className:"text-sm text-gray-500",children:"Loading users..."}),!j&&b&&b.length>10&&r.jsx("p",{className:"text-sm text-amber-600",children:"⚠️ Showing all system users (project users not available)"}),_&&_.length>0&&r.jsx("p",{className:"text-sm text-blue-600",children:"💡 Changing assignment will update the ToDo automatically"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"exp_start_date",children:"Expected Start Date"}),r.jsx($t,{id:"exp_start_date",type:"date",value:C.exp_start_date,onChange:I=>F("exp_start_date",I.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"exp_end_date",children:"Expected End Date"}),r.jsx($t,{id:"exp_end_date",type:"date",value:C.exp_end_date,onChange:I=>F("exp_end_date",I.target.value),max:(v==null?void 0:v.expected_end_date)||void 0}),(v==null?void 0:v.expected_end_date)&&r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Must be before project end date: ",v.expected_end_date]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"progress",children:"Progress (%)"}),r.jsx($t,{id:"progress",type:"number",min:"0",max:"100",value:C.progress,onChange:I=>F("progress",parseInt(I.target.value)||0),placeholder:"0",disabled:k}),k?r.jsxs("div",{className:"text-sm text-blue-600 bg-blue-50 p-2 rounded",children:[r.jsx("strong",{children:"🔄 Smart Progress Mode:"}),r.jsxs("ul",{className:"mt-1 ml-4 list-disc text-xs",children:[r.jsx("li",{children:"Progress is automatically calculated from subtasks"}),r.jsx("li",{children:"Only assignee can manually override progress"}),r.jsx("li",{children:"Project leaders can set progress via status changes"})]})]}):r.jsxs("div",{className:"text-sm text-green-600 bg-green-50 p-2 rounded",children:[r.jsx("strong",{children:"✏️ Manual Progress Mode:"}),r.jsx("span",{className:"text-xs",children:" Progress can be updated manually by anyone with edit permission"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"description",children:"Description"}),r.jsx("textarea",{id:"description",value:C.description,onChange:I=>F("description",I.target.value),placeholder:"Enter task description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),u&&r.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:r.jsxs("p",{children:[r.jsx("strong",{children:"Error:"})," ",u.message||"Failed to update task"]})}),r.jsxs(Pn,{className:"flex gap-2",children:[r.jsx(Je,{type:"button",variant:"outline",onClick:X,children:"Cancel"}),r.jsx(Je,{type:"submit",disabled:c,children:c?"Updating...":"Update Task"})]})]})]})})},h7=({task:e,isOpen:t,onClose:s,onSuccess:n})=>{const{deleteDoc:i,loading:o,error:c}=hm(),[u,h]=N.useState(!1),f=()=>we(null,null,function*(){var g,x;if(e){h(!0);try{const b=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"SubTask",fields:["name"],filters:[["task","=",e.name]]})});if(b.ok){const v=(yield b.json()).message||[];if(v.length>0)for(const T of v)yield i("SubTask",T.name)}try{const j=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","subject","status","priority","start_date","end_date","progress","details","costing"],filters:[["project","=",e.project]],orderBy:{field:"start_date",order:"asc"}})});if(j.ok){const T=(yield j.json()).message||[],_=[];for(const R of T)try{const S=yield fetch(`/api/resource/project_phase/${R.name}`,{headers:{Accept:"application/json"}});if(S.ok){const C=yield S.json(),D=((g=C.data)==null?void 0:g.tasks)||[],k=D.findIndex(B=>B.task===e.name);k>=0&&(console.log(`Found task ${e.name} in phase ${R.name}, will remove from child table...`),D.splice(k,1),_.push({name:R.name,data:oe(L({},C.data),{tasks:D})}))}else console.warn("Failed to fetch phase:",R.name)}catch(S){console.error("Error fetching phase:",R.name,S)}for(const R of _)try{(yield fetch(`/api/resource/project_phase/${R.name}`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(R.data)})).ok?console.log(`Successfully removed task ${e.name} from phase ${R.name}`):console.warn(`Failed to update phase ${R.name} after removing task`)}catch(S){console.error(`Error updating phase ${R.name}:`,S)}}else console.warn("Failed to fetch phases list, proceeding with task deletion...")}catch(j){console.warn("Error checking phases for task references:",j)}yield i("Task",e.name),console.log(`Successfully deleted task ${e.name}`),n&&n(),s()}catch(b){console.error("Error deleting task:",b),(x=b==null?void 0:b.exception)!=null&&x.includes("LinkExistsError")?b.exception.includes("project_phase")||b.exception.includes("phase")?alert("Cannot delete task because it is still linked with project phases. The system tried to remove phase task links automatically but failed. Please contact administrator."):b.exception.includes("SubTask")?alert("Cannot delete task because it has linked subtasks. Please delete all subtasks first."):alert("Cannot delete task because it has linked dependencies. Please check related records."):alert("Error deleting task. Please try again.")}finally{h(!1)}}}),p=()=>{s()};return r.jsx(bn,{open:t,onOpenChange:s,children:r.jsxs(vn,{className:"sm:max-w-[400px]",children:[r.jsx(wn,{children:r.jsxs(jn,{className:"flex items-center gap-2 text-red-600",children:[r.jsx(cc,{className:"h-5 w-5"}),"Delete Task"]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this task? This action cannot be undone."}),e&&r.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[r.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Priority: ",e.priority||"Medium"]}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Progress: ",e.progress||0,"%"]}),e.project&&r.jsxs("div",{className:"text-sm text-blue-600",children:["Project: ",e.project]})]}),r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[r.jsxs("div",{className:"text-sm text-red-800",children:[r.jsx("strong",{children:"⚠️ Warning:"})," Deleting this task will automatically:"]}),r.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Delete ALL subtasks first"})," (to resolve SubTask dependencies)"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Remove task from ALL phase child tables"})," (for any phases this task is assigned to)"]}),r.jsx("li",{children:"Remove all task progress data"}),r.jsx("li",{children:"Delete task timeline and activities"}),r.jsx("li",{children:"Remove related comments and attachments"})]}),r.jsx("div",{className:"text-xs text-red-600 mt-2 font-medium",children:"💡 The system will automatically search and handle ALL dependencies to prevent LinkExistsError."})]}),c&&r.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:r.jsxs("p",{children:[r.jsx("strong",{children:"Error:"})," ",c.message||"Failed to delete task"]})})]}),r.jsxs(Pn,{className:"flex gap-2",children:[r.jsx(Je,{type:"button",variant:"outline",onClick:p,disabled:u,children:"Cancel"}),r.jsx(Je,{type:"button",variant:"destructive",onClick:f,disabled:u||o,children:u?"Deleting Task & SubTasks...":o?"Deleting...":"Delete Task"})]})]})})},xE=()=>{const{calculateAndUpdatePhaseProgress:e}=TS(),{calculateAndUpdateProjectProgress:t}=IL();return{updatePhaseProgressForTask:(i,o)=>we(null,null,function*(){try{const c=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","tasks"],filters:[["project","=",o]]})});if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);const h=(yield c.json()).message||[],f=[];for(const p of h)try{const g=yield fetch(`/api/resource/project_phase/${p.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(g.ok){const x=yield g.json();x.data.tasks&&x.data.tasks.some(b=>b.task===i)&&f.push(p)}}catch(g){console.warn("Error fetching phase document:",p.name,g)}console.log(`Found ${f.length} phases affected by task ${i}`);for(const p of f)console.log(`Updating progress for phase ${p.name} after task ${i} change`),yield e(p.name);return console.log(`Updating overall project progress for ${o} after task ${i} change`),yield t(o),console.log(`Updated progress for ${f.length} phases and project ${o} affected by task ${i}`),f}catch(c){return console.error("Error updating phase progress for task:",c),[]}}),updateProjectProgress:i=>we(null,null,function*(){try{console.log(`Updating overall project progress for ${i}`);const o=yield t(i);return o&&console.log(`Project ${i} progress updated to ${o.progress}% from ${o.source} (${o.count} items)`),o}catch(o){return console.error("Error updating project progress:",o),null}})}},m7=({task:e,projectName:t,onBack:s,onViewSubTaskDetails:n,onTaskUpdated:i,onTaskDeleted:o})=>{const[c,u]=N.useState(!1),[h,f]=N.useState(!1),[p,g]=N.useState(!1),{updatePhaseProgressForTask:x}=xE(),{calculateAndUpdateTaskProgress:b}=yd(),{data:j,isLoading:v,mutate:T}=Nt("SubTask",{fields:["name","subject","task","status","progress","start_date","end_date","description"],filters:[["task","=",e.name]],orderBy:{field:"start_date",order:"asc"},limit:0}),{data:_}=Nt("ToDo",{fields:["name","allocated_to","status"],filters:[["reference_type","=","Task"],["reference_name","=",e.name]],limit:1}),R=_&&_.length>0?_[0].allocated_to:null,{data:S}=Ot("User",R||void 0,{fields:["name","full_name","email","user_image"]}),C=I=>I?new Date(I).toLocaleDateString():"N/A",D=I=>{switch(I){case"Completed":return r.jsx(ay,{className:"h-5 w-5 text-green-600"});case"Working":return r.jsx(Hi,{className:"h-5 w-5 text-yellow-600"});case"Open":return r.jsx(zi,{className:"h-5 w-5 text-blue-600"});default:return r.jsx(zi,{className:"h-5 w-5 text-gray-400"})}},k=I=>{switch(I){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},B=I=>{switch(I){case"Urgent":return"bg-red-100 text-red-800 border-red-200";case"High":return"bg-orange-100 text-orange-800 border-orange-200";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},F=()=>{i&&i(),x(e.name,t).catch(console.error)},O=()=>{o&&o(),x(e.name,t).catch(console.error),s()},X=({subtask:I})=>{var Y;const{data:Q}=Nt("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(I==null?void 0:I.name)||""]]}),W=(Y=Q==null?void 0:Q[0])==null?void 0:Y.allocated_to;return r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("span",{children:W})})};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(Je,{variant:"ghost",size:"sm",onClick:s,className:"flex items-center gap-2",children:[r.jsx(sy,{className:"h-4 w-4"}),"Back to Tasks"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Je,{variant:"outline",size:"sm",onClick:()=>f(!0),className:"flex items-center gap-2",children:[r.jsx(Zu,{className:"h-4 w-4"}),"Edit Task"]}),r.jsxs(Je,{variant:"outline",size:"sm",onClick:()=>g(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[r.jsx($i,{className:"h-4 w-4"}),"Delete Task"]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 border border-orange-200 rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"h-12 w-12 rounded-lg bg-orange-500 flex items-center justify-center",children:r.jsx("span",{className:"text-xl",children:"📝"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.subject}),r.jsx("p",{className:"text-sm text-gray-600",children:"Task Details"})]})]}),e.description&&r.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.description})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${k(e.status||"Open")}`,children:[D(e.status||"Open"),r.jsx("span",{className:"font-medium",children:e.status||"Open"})]}),e.priority&&r.jsx("div",{className:`px-3 py-1 rounded-full border ${B(e.priority)}`,children:r.jsx("span",{className:"text-sm font-medium",children:e.priority})})]})]}),r.jsxs("div",{className:"mt-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Task Progress"}),r.jsxs("span",{className:"text-lg font-bold text-orange-600",children:[e.progress||0,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:r.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-yellow-600 h-3 rounded-full transition-all duration-500",style:{width:`${e.progress||0}%`}})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:r.jsx(an,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),r.jsx("p",{className:"text-lg font-bold text-gray-900",children:C(e.exp_start_date)})]})]})}),r.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:r.jsx(oy,{className:"h-6 w-6 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),r.jsx("p",{className:"text-lg font-bold text-gray-900",children:C(e.exp_end_date)})]})]})}),r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:r.jsx(Ho,{className:"h-6 w-6 text-green-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Assigned To"}),_&&_.length>0?r.jsxs("div",{children:[r.jsx("p",{className:"text-lg font-bold text-gray-900",children:(S==null?void 0:S.full_name)||R}),(S==null?void 0:S.email)&&r.jsx("p",{className:"text-sm text-gray-600",children:S.email})]}):r.jsx("p",{className:"text-lg font-bold text-gray-900",children:"Unassigned"})]})]})})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Task Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Task ID"}),r.jsx("span",{className:"text-gray-900 font-semibold",children:e.name})]}),r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),r.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),r.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${k(e.status||"Open")}`,children:[D(e.status||"Open"),r.jsx("span",{className:"font-medium",children:e.status||"Open"})]})]}),r.jsxs("div",{className:"flex items-center justify-between py-3",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),r.jsx("div",{className:`px-3 py-1 rounded-full ${B(e.priority||"Medium")}`,children:r.jsx("span",{className:"font-medium",children:e.priority||"Medium"})})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Subtasks Count"}),r.jsx("span",{className:"text-gray-900 font-semibold",children:(j==null?void 0:j.length)||0})]}),r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),r.jsx("span",{className:"text-gray-900 font-semibold",children:e.exp_start_date&&e.exp_end_date?`${Math.ceil((new Date(e.exp_end_date).getTime()-new Date(e.exp_start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Progress"}),r.jsxs("span",{className:"text-xl font-bold text-orange-600",children:[e.progress||0,"%"]})]}),r.jsxs("div",{className:"flex items-center justify-between py-3",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Assigned To"}),_&&_.length>0?r.jsx("div",{children:r.jsx("p",{className:"text-lg font-bold text-gray-900",children:(S==null?void 0:S.full_name)||R})}):r.jsx("p",{className:"text-lg font-bold text-gray-900",children:"Unassigned"})]})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"SubTasks"})}),v?r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),r.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),r.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"})]}):r.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[r.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3",children:[r.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700",children:"#"}),r.jsx("div",{className:"col-span-5 text-sm font-medium text-gray-700",children:"SubTask"}),r.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Status"}),r.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Assign To"}),r.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Actions"})]})}),r.jsxs("div",{className:"divide-y divide-gray-100",children:[j&&j.length>0?j.map((I,Q)=>r.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[r.jsx("div",{className:"col-span-1 flex items-center",children:r.jsx("span",{className:"text-sm text-gray-600",children:Q+1})}),r.jsxs("div",{className:"col-span-5 flex items-center gap-3",children:[r.jsx("div",{className:"p-1 bg-green-100 rounded",children:r.jsx("span",{className:"text-sm",children:"✅"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:I.subject||I.name}),r.jsx("div",{className:"text-sm text-gray-500",children:I.name})]})]}),r.jsx("div",{className:"col-span-2 flex items-center justify-center",children:r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${k(I.status||"Open")}`,children:I.status||"Open"})}),r.jsx("div",{className:"col-span-2 flex items-center justify-center",children:r.jsx(X,{subtask:I})}),r.jsx("div",{className:"col-span-2 flex items-center justify-center",children:n&&r.jsx(Je,{variant:"outline",size:"sm",onClick:()=>n(I),className:"h-7 px-2 text-xs",children:"View Details"})})]},I.name)):r.jsxs("div",{className:"px-6 py-8 text-center text-gray-500",children:[r.jsx("div",{className:"text-4xl mb-2",children:"✅"}),r.jsx("div",{className:"text-lg font-medium mb-1",children:"No subtasks yet"}),r.jsx("div",{className:"text-sm",children:'Click "Add SubTask" to create the first subtask for this task'})]}),r.jsx("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 bg-gray-50 border-t border-gray-200",children:r.jsx("div",{className:"col-span-12 flex items-center justify-center",children:r.jsxs(Je,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",onClick:()=>u(!0),children:[r.jsx(gr,{className:"h-4 w-4"}),"Add new subtask to this task"]})})})]})]})]}),r.jsx(Om,{doctype:"Task",docname:e.name,title:"Task Files",allowUpload:!0,allowDelete:!0,className:"mt-8"}),r.jsx(d7,{isOpen:c,onClose:()=>u(!1),projectName:t,parentTask:e.name,onSuccess:()=>we(null,null,function*(){T(),setTimeout(()=>we(null,null,function*(){yield b(e.name),setTimeout(()=>we(null,null,function*(){yield x(e.name,t)}),500)}),500)})}),r.jsx(f7,{task:e,projectName:t,isOpen:h,onClose:()=>f(!1),onSuccess:F}),r.jsx(h7,{task:e,isOpen:p,onClose:()=>g(!1),onSuccess:O})]})},p7=({subtask:e,projectName:t,isOpen:s,onClose:n,onSuccess:i})=>{var C;const{updateSubTask:o,isLoading:c,error:u}=wS(),{assignSubTask:h,unassignSubTask:f}=Sy(),{calculateAndUpdateTaskProgress:p}=yd(),{data:g,isLoading:x}=gc(t),{data:b}=Nt("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(e==null?void 0:e.name)||""]]}),[j,v]=N.useState({subject:"",status:"Open",start_date:"",end_date:"",description:"",assign_to:""}),T=((C=b==null?void 0:b[0])==null?void 0:C.allocated_to)||"";N.useEffect(()=>{e&&v({subject:e.subject||"",status:e.status||"Open",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",description:e.description||"",assign_to:T})},[e,T]);const _=(D,k)=>{v(B=>oe(L({},B),{[D]:k}))},R=D=>we(null,null,function*(){if(D.preventDefault(),!!e)try{const k=j,{assign_to:B}=k,F=Oe(k,["assign_to"]);yield o(e.name,F);const O=T,X=B;if(O&&O!==X){const I=b==null?void 0:b.find(Q=>Q.allocated_to===O);I&&(yield f(I.name))}X&&X!==O&&(yield h(e.name,X)),e.task&&F.status!==e.status&&(yield p(e.task)),i&&i(),n()}catch(B){console.error("Error updating subtask:",B)}}),S=()=>{e&&v({subject:e.subject||"",status:e.status||"Open",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",description:e.description||"",assign_to:T}),n()};return r.jsx(bn,{open:s,onOpenChange:n,children:r.jsxs(vn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[r.jsx(wn,{children:r.jsx(jn,{children:"Edit SubTask"})}),r.jsxs("form",{onSubmit:R,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"subject",children:"Subject *"}),r.jsx($t,{id:"subject",value:j.subject,onChange:D=>_("subject",D.target.value),required:!0,placeholder:"Enter subtask subject"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"status",children:"Status"}),r.jsxs("select",{id:"status",value:j.status,onChange:D=>_("status",D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"Open",children:"Open"}),r.jsx("option",{value:"Working",children:"Working"}),r.jsx("option",{value:"Completed",children:"Completed"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"start_date",children:"Start Date"}),r.jsx($t,{id:"start_date",type:"date",value:j.start_date,onChange:D=>_("start_date",D.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"end_date",children:"End Date"}),r.jsx($t,{id:"end_date",type:"date",value:j.end_date,onChange:D=>_("end_date",D.target.value)})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"description",children:"Description"}),r.jsx("textarea",{id:"description",value:j.description,onChange:D=>_("description",D.target.value),placeholder:"Enter subtask description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"assign_to",children:"Assign To"}),r.jsxs("select",{id:"assign_to",value:j.assign_to,onChange:D=>_("assign_to",D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:x,children:[r.jsx("option",{value:"",children:"Select user..."}),g==null?void 0:g.map(D=>r.jsx("option",{value:D.user||D.name,children:D.user||D.name},D.name))]}),x&&r.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),u&&r.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:r.jsxs("p",{children:[r.jsx("strong",{children:"Error:"})," ",u.message||"Failed to update subtask"]})}),r.jsxs(Pn,{className:"flex gap-2",children:[r.jsx(Je,{type:"button",variant:"outline",onClick:S,children:"Cancel"}),r.jsx(Je,{type:"submit",disabled:c,children:c?"Updating...":"Update SubTask"})]})]})]})})},g7=({subtask:e,isOpen:t,onClose:s,onSuccess:n})=>{const{call:i,loading:o,error:c}=xn("frappe.client.delete"),{calculateAndUpdateTaskProgress:u}=yd(),h=()=>we(null,null,function*(){if(e)try{if(yield i({doctype:"SubTask",name:e.name}),e.task)try{yield u(e.task)}catch(p){console.error("Error updating task progress after subtask deletion:",p)}n&&n(),s()}catch(p){console.error("Error deleting subtask:",p)}}),f=()=>{s()};return r.jsx(bn,{open:t,onOpenChange:s,children:r.jsxs(vn,{className:"sm:max-w-[400px]",children:[r.jsx(wn,{children:r.jsxs(jn,{className:"flex items-center gap-2 text-red-600",children:[r.jsx(cc,{className:"h-5 w-5"}),"Delete SubTask"]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this subtask? This action cannot be undone."}),e&&r.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[r.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Progress: ",e.progress||0,"%"]}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Task: ",e.task]})]}),r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[r.jsxs("div",{className:"text-sm text-red-800",children:[r.jsx("strong",{children:"Warning:"})," Deleting this subtask will also remove:"]}),r.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[r.jsx("li",{children:"All subtask progress data"}),r.jsx("li",{children:"Subtask timeline and activities"}),r.jsx("li",{children:"Related comments and attachments"}),r.jsx("li",{children:"Any associated time logs"})]})]}),c&&r.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:r.jsxs("p",{children:[r.jsx("strong",{children:"Error:"})," ",c.message||"Failed to delete subtask"]})})]}),r.jsxs(Pn,{className:"flex gap-2",children:[r.jsx(Je,{type:"button",variant:"outline",onClick:f,children:"Cancel"}),r.jsx(Je,{type:"button",variant:"destructive",onClick:h,disabled:o,children:o?"Deleting...":"Delete SubTask"})]})]})})},x7=({subtask:e,projectName:t,onBack:s,onSubTaskUpdated:n,onSubTaskDeleted:i})=>{var S;const[o,c]=N.useState(!1),[u,h]=N.useState(!1),{calculateAndUpdateTaskProgress:f}=yd(),{updatePhaseProgressForTask:p}=xE(),{data:g}=Nt("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(e==null?void 0:e.name)||""]]}),x=(S=g==null?void 0:g[0])==null?void 0:S.allocated_to,{data:b}=Ot("User",x||"",{shouldFetch:!!x}),j=C=>C?new Date(C).toLocaleDateString():"N/A",v=C=>{switch(C){case"Completed":return r.jsx(ay,{className:"h-5 w-5 text-green-600"});case"Working":return r.jsx(Hi,{className:"h-5 w-5 text-yellow-600"});case"Open":return r.jsx(zi,{className:"h-5 w-5 text-blue-600"});default:return r.jsx(zi,{className:"h-5 w-5 text-gray-400"})}},T=C=>{switch(C){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},_=()=>we(null,null,function*(){if(e!=null&&e.task)try{yield f(e.task);try{console.log(`Updating phase progress for task ${e.task} in project ${t}`),yield p(e.task,t),console.log("Phase and project progress updated after subtask edit")}catch(C){console.error("Error updating phase progress after subtask edit:",C)}}catch(C){console.error("Error updating task progress after subtask edit:",C)}n&&n()}),R=()=>we(null,null,function*(){if(e!=null&&e.task)try{yield f(e.task);try{console.log(`Updating phase progress for task ${e.task} in project ${t}`),yield p(e.task,t),console.log("Phase and project progress updated after subtask delete")}catch(C){console.error("Error updating phase progress after subtask delete:",C)}}catch(C){console.error("Error updating task progress after subtask delete:",C)}i&&i(),s()});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(Je,{variant:"ghost",size:"sm",onClick:s,className:"flex items-center gap-2",children:[r.jsx(sy,{className:"h-4 w-4"}),"Back to Tasks"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Je,{variant:"outline",size:"sm",onClick:()=>c(!0),className:"flex items-center gap-2",children:[r.jsx(Zu,{className:"h-4 w-4"}),"Edit SubTask"]}),r.jsxs(Je,{variant:"outline",size:"sm",onClick:()=>h(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[r.jsx($i,{className:"h-4 w-4"}),"Delete SubTask"]})]})]}),r.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"h-12 w-12 rounded-lg bg-green-500 flex items-center justify-center",children:r.jsx("span",{className:"text-xl",children:"✅"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.subject}),r.jsx("p",{className:"text-sm text-gray-600",children:"SubTask Details"})]})]}),e.description&&r.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.description})]}),r.jsx("div",{className:"flex items-center gap-3",children:r.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${T(e.status||"Open")}`,children:[v(e.status||"Open"),r.jsx("span",{className:"font-medium",children:e.status||"Open"})]})})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:r.jsx(an,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),r.jsx("p",{className:"text-lg font-bold text-gray-900",children:j(e.start_date)})]})]})}),r.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:r.jsx(oy,{className:"h-6 w-6 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),r.jsx("p",{className:"text-lg font-bold text-gray-900",children:j(e.end_date)})]})]})}),r.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-6",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:r.jsx(Fs,{className:"h-6 w-6 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-orange-600 uppercase tracking-wide",children:"Parent Task"}),r.jsx("p",{className:"text-lg font-bold text-gray-900",children:e.task||"N/A"})]})]})})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"SubTask Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"SubTask ID"}),r.jsx("span",{className:"text-gray-900 font-semibold",children:e.name})]}),r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),r.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Parent Task"}),r.jsx("span",{className:"text-gray-900 font-semibold",children:e.task||"N/A"})]}),r.jsxs("div",{className:"flex items-center justify-between py-3",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),r.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${T(e.status||"Open")}`,children:[v(e.status||"Open"),r.jsx("span",{className:"font-medium",children:e.status||"Open"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Start Date"}),r.jsx("span",{className:"text-gray-900 font-semibold",children:j(e.start_date)})]}),r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"End Date"}),r.jsx("span",{className:"text-gray-900 font-semibold",children:j(e.end_date)})]}),r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),r.jsx("span",{className:"text-gray-900 font-semibold",children:e.start_date&&e.end_date?`${Math.ceil((new Date(e.end_date).getTime()-new Date(e.start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),r.jsxs("div",{className:"flex items-center justify-between py-3 border-t border-gray-100",children:[r.jsxs("span",{className:"text-gray-600 font-medium flex items-center gap-2",children:[r.jsx(Ho,{className:"h-4 w-4"}),"Assigned To"]}),r.jsx("span",{className:"text-gray-900 font-semibold",children:x?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:(b==null?void 0:b.full_name)||x}),(b==null?void 0:b.user_image)&&r.jsx("img",{src:b.user_image,alt:b.full_name||x,className:"h-6 w-6 rounded-full"})]}):r.jsx("span",{className:"text-gray-400",children:"Not assigned"})})]})]})]})]}),e.description&&r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Description"}),r.jsx("div",{className:"prose max-w-none",children:r.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:e.description})})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Activity Timeline"}),r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx("div",{className:"text-4xl mb-2",children:"📋"}),r.jsx("div",{className:"text-lg font-medium mb-1",children:"No activity yet"}),r.jsx("div",{className:"text-sm",children:"Activity and updates will appear here when available"})]})]}),r.jsx(Om,{doctype:"SubTask",docname:e.name,title:"SubTask Files",allowUpload:!0,allowDelete:!0,className:"mt-8"}),r.jsx(p7,{subtask:e,projectName:t,isOpen:o,onClose:()=>c(!1),onSuccess:_}),r.jsx(g7,{subtask:e,isOpen:u,onClose:()=>h(!1),onSuccess:R})]})};var q_=1,y7=.9,b7=.8,v7=.17,D0=.1,A0=.999,w7=.9999,j7=.99,N7=/[\\\/_+.#"@\[\(\{&]/,_7=/[\\\/_+.#"@\[\(\{&]/g,T7=/[\s-]/,yE=/[\s-]/g;function Ax(e,t,s,n,i,o,c){if(o===t.length)return i===e.length?q_:j7;var u=`${i},${o}`;if(c[u]!==void 0)return c[u];for(var h=n.charAt(o),f=s.indexOf(h,i),p=0,g,x,b,j;f>=0;)g=Ax(e,t,s,n,f+1,o+1,c),g>p&&(f===i?g*=q_:N7.test(e.charAt(f-1))?(g*=b7,b=e.slice(i,f-1).match(_7),b&&i>0&&(g*=Math.pow(A0,b.length))):T7.test(e.charAt(f-1))?(g*=y7,j=e.slice(i,f-1).match(yE),j&&i>0&&(g*=Math.pow(A0,j.length))):(g*=v7,i>0&&(g*=Math.pow(A0,f-i))),e.charAt(f)!==t.charAt(o)&&(g*=w7)),(g<D0&&s.charAt(f-1)===n.charAt(o+1)||n.charAt(o+1)===n.charAt(o)&&s.charAt(f-1)!==n.charAt(o))&&(x=Ax(e,t,s,n,f+1,o+2,c),x*D0>g&&(g=x*D0)),g>p&&(p=g),f=s.indexOf(h,f+1);return c[u]=p,p}function W_(e){return e.toLowerCase().replace(yE," ")}function S7(e,t,s){return e=s&&s.length>0?`${e+" "+s.join(" ")}`:e,Ax(e,t,W_(e),W_(t),0,0,{})}function Fi(e,t,{checkForDefaultPrevented:s=!0}={}){return function(i){if(e==null||e(i),s===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}var C7="DismissableLayer",Ox="dismissableLayer.update",E7="dismissableLayer.pointerDownOutside",k7="dismissableLayer.focusOutside",Y_,bE=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vE=N.forwardRef((e,t)=>{var F;const B=e,{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:c,onDismiss:u}=B,h=Oe(B,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),f=N.useContext(bE),[p,g]=N.useState(null),x=(F=p==null?void 0:p.ownerDocument)!=null?F:globalThis==null?void 0:globalThis.document,[,b]=N.useState({}),j=As(t,O=>g(O)),v=Array.from(f.layers),[T]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(T),R=p?v.indexOf(p):-1,S=f.layersWithOutsidePointerEventsDisabled.size>0,C=R>=_,D=O7(O=>{const X=O.target,I=[...f.branches].some(Q=>Q.contains(X));!C||I||(i==null||i(O),c==null||c(O),O.defaultPrevented||u==null||u())},x),k=R7(O=>{const X=O.target;[...f.branches].some(Q=>Q.contains(X))||(o==null||o(O),c==null||c(O),O.defaultPrevented||u==null||u())},x);return uy(O=>{R===f.layers.size-1&&(n==null||n(O),!O.defaultPrevented&&u&&(O.preventDefault(),u()))},x),N.useEffect(()=>{if(p)return s&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(Y_=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),G_(),()=>{s&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=Y_)}},[p,x,s,f]),N.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),G_())},[p,f]),N.useEffect(()=>{const O=()=>b({});return document.addEventListener(Ox,O),()=>document.removeEventListener(Ox,O)},[]),r.jsx(Yt.div,oe(L({},h),{ref:j,style:L({pointerEvents:S?C?"auto":"none":void 0},e.style),onFocusCapture:Fi(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Fi(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Fi(e.onPointerDownCapture,D.onPointerDownCapture)}))});vE.displayName=C7;var D7="DismissableLayerBranch",A7=N.forwardRef((e,t)=>{const s=N.useContext(bE),n=N.useRef(null),i=As(t,n);return N.useEffect(()=>{const o=n.current;if(o)return s.branches.add(o),()=>{s.branches.delete(o)}},[s.branches]),r.jsx(Yt.div,oe(L({},e),{ref:i}))});A7.displayName=D7;function O7(e,t=globalThis==null?void 0:globalThis.document){const s=xr(e),n=N.useRef(!1),i=N.useRef(()=>{});return N.useEffect(()=>{const o=u=>{if(u.target&&!n.current){let h=function(){wE(E7,s,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=h,t.addEventListener("click",i.current,{once:!0})):h()}else t.removeEventListener("click",i.current);n.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,s]),{onPointerDownCapture:()=>n.current=!0}}function R7(e,t=globalThis==null?void 0:globalThis.document){const s=xr(e),n=N.useRef(!1);return N.useEffect(()=>{const i=o=>{o.target&&!n.current&&wE(k7,s,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,s]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function G_(){const e=new CustomEvent(Ox);document.dispatchEvent(e)}function wE(e,t,s,{discrete:n}){const i=s.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&i.addEventListener(e,t,{once:!0}),n?cy(i,o):i.dispatchEvent(o)}function M7(e,t){return N.useReducer((s,n)=>{const i=t[s][n];return i!=null?i:s},e)}var Rm=e=>{const{present:t,children:s}=e,n=P7(t),i=typeof s=="function"?s({present:n.isPresent}):N.Children.only(s),o=As(n.ref,L7(i));return typeof s=="function"||n.isPresent?N.cloneElement(i,{ref:o}):null};Rm.displayName="Presence";function P7(e){const[t,s]=N.useState(),n=N.useRef(null),i=N.useRef(e),o=N.useRef("none"),c=e?"mounted":"unmounted",[u,h]=M7(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const f=gh(n.current);o.current=u==="mounted"?f:"none"},[u]),Da(()=>{const f=n.current,p=i.current;if(p!==e){const x=o.current,b=gh(f);e?h("MOUNT"):b==="none"||(f==null?void 0:f.display)==="none"?h("UNMOUNT"):h(p&&x!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,h]),Da(()=>{var f;if(t){let p;const g=(f=t.ownerDocument.defaultView)!=null?f:window,x=j=>{const T=gh(n.current).includes(j.animationName);if(j.target===t&&T&&(h("ANIMATION_END"),!i.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},b=j=>{j.target===t&&(o.current=gh(n.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",x),t.addEventListener("animationend",x),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",x),t.removeEventListener("animationend",x)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:N.useCallback(f=>{n.current=f?getComputedStyle(f):null,s(f)},[])}}function gh(e){return(e==null?void 0:e.animationName)||"none"}function L7(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var O0=0;function B7(){N.useEffect(()=>{var t,s;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:X_()),document.body.insertAdjacentElement("beforeend",(s=e[1])!=null?s:X_()),O0++,()=>{O0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),O0--}},[])}function X_(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Mm="Dialog",[jE,m$]=fd(Mm),[F7,Ka]=jE(Mm),NE=e=>{const{__scopeDialog:t,children:s,open:n,defaultOpen:i,onOpenChange:o,modal:c=!0}=e,u=N.useRef(null),h=N.useRef(null),[f,p]=vm({prop:n,defaultProp:i!=null?i:!1,onChange:o,caller:Mm});return r.jsx(F7,{scope:t,triggerRef:u,contentRef:h,contentId:Dn(),titleId:Dn(),descriptionId:Dn(),open:f,onOpenChange:p,onOpenToggle:N.useCallback(()=>p(g=>!g),[p]),modal:c,children:s})};NE.displayName=Mm;var _E="DialogTrigger",U7=N.forwardRef((e,t)=>{const c=e,{__scopeDialog:s}=c,n=Oe(c,["__scopeDialog"]),i=Ka(_E,s),o=As(t,i.triggerRef);return r.jsx(Yt.button,oe(L({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":ob(i.open)},n),{ref:o,onClick:Fi(e.onClick,i.onOpenToggle)}))});U7.displayName=_E;var rb="DialogPortal",[z7,TE]=jE(rb,{forceMount:void 0}),SE=e=>{const{__scopeDialog:t,forceMount:s,children:n,container:i}=e,o=Ka(rb,t);return r.jsx(z7,{scope:t,forceMount:s,children:N.Children.map(n,c=>r.jsx(Rm,{present:s||o.open,children:r.jsx(pd,{asChild:!0,container:i,children:c})}))})};SE.displayName=rb;var um="DialogOverlay",CE=N.forwardRef((e,t)=>{const s=TE(um,e.__scopeDialog),c=e,{forceMount:n=s.forceMount}=c,i=Oe(c,["forceMount"]),o=Ka(um,e.__scopeDialog);return o.modal?r.jsx(Rm,{present:n||o.open,children:r.jsx($7,oe(L({},i),{ref:t}))}):null});CE.displayName=um;var H7=uc("DialogOverlay.RemoveScroll"),$7=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:s}=o,n=Oe(o,["__scopeDialog"]),i=Ka(um,s);return r.jsx(gd,{as:H7,allowPinchZoom:!0,shards:[i.contentRef],children:r.jsx(Yt.div,oe(L({"data-state":ob(i.open)},n),{ref:t,style:L({pointerEvents:"auto"},n.style)}))})}),Yo="DialogContent",EE=N.forwardRef((e,t)=>{const s=TE(Yo,e.__scopeDialog),c=e,{forceMount:n=s.forceMount}=c,i=Oe(c,["forceMount"]),o=Ka(Yo,e.__scopeDialog);return r.jsx(Rm,{present:n||o.open,children:o.modal?r.jsx(V7,oe(L({},i),{ref:t})):r.jsx(I7,oe(L({},i),{ref:t}))})});EE.displayName=Yo;var V7=N.forwardRef((e,t)=>{const s=Ka(Yo,e.__scopeDialog),n=N.useRef(null),i=As(t,s.contentRef,n);return N.useEffect(()=>{const o=n.current;if(o)return wm(o)},[]),r.jsx(kE,oe(L({},e),{ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Fi(e.onCloseAutoFocus,o=>{var c;o.preventDefault(),(c=s.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Fi(e.onPointerDownOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&o.preventDefault()}),onFocusOutside:Fi(e.onFocusOutside,o=>o.preventDefault())}))}),I7=N.forwardRef((e,t)=>{const s=Ka(Yo,e.__scopeDialog),n=N.useRef(!1),i=N.useRef(!1);return r.jsx(kE,oe(L({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,u;(c=e.onCloseAutoFocus)==null||c.call(e,o),o.defaultPrevented||(n.current||(u=s.triggerRef.current)==null||u.focus(),o.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:o=>{var h,f;(h=e.onInteractOutside)==null||h.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=o.target;((f=s.triggerRef.current)==null?void 0:f.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}}))}),kE=N.forwardRef((e,t)=>{const p=e,{__scopeDialog:s,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o}=p,c=Oe(p,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),u=Ka(Yo,s),h=N.useRef(null),f=As(t,h);return B7(),r.jsxs(r.Fragment,{children:[r.jsx(hd,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:o,children:r.jsx(vE,oe(L({role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":ob(u.open)},c),{ref:f,onDismiss:()=>u.onOpenChange(!1)}))}),r.jsxs(r.Fragment,{children:[r.jsx(G7,{titleId:u.titleId}),r.jsx(K7,{contentRef:h,descriptionId:u.descriptionId})]})]})}),ib="DialogTitle",q7=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:s}=o,n=Oe(o,["__scopeDialog"]),i=Ka(ib,s);return r.jsx(Yt.h2,oe(L({id:i.titleId},n),{ref:t}))});q7.displayName=ib;var DE="DialogDescription",W7=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:s}=o,n=Oe(o,["__scopeDialog"]),i=Ka(DE,s);return r.jsx(Yt.p,oe(L({id:i.descriptionId},n),{ref:t}))});W7.displayName=DE;var AE="DialogClose",Y7=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:s}=o,n=Oe(o,["__scopeDialog"]),i=Ka(AE,s);return r.jsx(Yt.button,oe(L({type:"button"},n),{ref:t,onClick:Fi(e.onClick,()=>i.onOpenChange(!1))}))});Y7.displayName=AE;function ob(e){return e?"open":"closed"}var OE="DialogTitleWarning",[p$,RE]=ly(OE,{contentName:Yo,titleName:ib,docsSlug:"dialog"}),G7=({titleId:e})=>{const t=RE(OE),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return N.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},X7="DialogDescriptionWarning",K7=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${RE(X7).contentName}}.`;return N.useEffect(()=>{var o;const i=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Q7=NE,Z7=SE,J7=CE,e9=EE,Ru='[cmdk-group=""]',R0='[cmdk-group-items=""]',t9='[cmdk-group-heading=""]',ME='[cmdk-item=""]',K_=`${ME}:not([aria-disabled="true"])`,Rx="cmdk-item-select",Yl="data-value",s9=(e,t,s)=>S7(e,t,s),PE=N.createContext(void 0),Nd=()=>N.useContext(PE),LE=N.createContext(void 0),lb=()=>N.useContext(LE),BE=N.createContext(void 0),FE=N.forwardRef((e,t)=>{let s=Gl(()=>{var V,J;return{search:"",value:(J=(V=e.value)!=null?V:e.defaultValue)!=null?J:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Gl(()=>new Set),i=Gl(()=>new Map),o=Gl(()=>new Map),c=Gl(()=>new Set),u=UE(e),ne=e,{label:h,children:f,value:p,onValueChange:g,filter:x,shouldFilter:b,loop:j,disablePointerSelection:v=!1,vimBindings:T=!0}=ne,_=Oe(ne,["label","children","value","onValueChange","filter","shouldFilter","loop","disablePointerSelection","vimBindings"]),R=Dn(),S=Dn(),C=Dn(),D=N.useRef(null),k=h9();Go(()=>{if(p!==void 0){let V=p.trim();s.current.value=V,B.emit()}},[p]),Go(()=>{k(6,W)},[]);let B=N.useMemo(()=>({subscribe:V=>(c.current.add(V),()=>c.current.delete(V)),snapshot:()=>s.current,setState:(V,J,xe)=>{var fe,Ee,De,Ie;if(!Object.is(s.current[V],J)){if(s.current[V]=J,V==="search")Q(),X(),k(1,I);else if(V==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let re=document.getElementById(C);re?re.focus():(fe=document.getElementById(R))==null||fe.focus()}if(k(7,()=>{var re;s.current.selectedItemId=(re=Y())==null?void 0:re.id,B.emit()}),xe||k(5,W),((Ee=u.current)==null?void 0:Ee.value)!==void 0){let re=J!=null?J:"";(Ie=(De=u.current).onValueChange)==null||Ie.call(De,re);return}}B.emit()}},emit:()=>{c.current.forEach(V=>V())}}),[]),F=N.useMemo(()=>({value:(V,J,xe)=>{var fe;J!==((fe=o.current.get(V))==null?void 0:fe.value)&&(o.current.set(V,{value:J,keywords:xe}),s.current.filtered.items.set(V,O(J,xe)),k(2,()=>{X(),B.emit()}))},item:(V,J)=>(n.current.add(V),J&&(i.current.has(J)?i.current.get(J).add(V):i.current.set(J,new Set([V]))),k(3,()=>{Q(),X(),s.current.value||I(),B.emit()}),()=>{o.current.delete(V),n.current.delete(V),s.current.filtered.items.delete(V);let xe=Y();k(4,()=>{Q(),(xe==null?void 0:xe.getAttribute("id"))===V&&I(),B.emit()})}),group:V=>(i.current.has(V)||i.current.set(V,new Set),()=>{o.current.delete(V),i.current.delete(V)}),filter:()=>u.current.shouldFilter,label:h||e["aria-label"],getDisablePointerSelection:()=>u.current.disablePointerSelection,listId:R,inputId:C,labelId:S,listInnerRef:D}),[]);function O(V,J){var xe,fe;let Ee=(fe=(xe=u.current)==null?void 0:xe.filter)!=null?fe:s9;return V?Ee(V,s.current.search,J):0}function X(){if(!s.current.search||u.current.shouldFilter===!1)return;let V=s.current.filtered.items,J=[];s.current.filtered.groups.forEach(fe=>{let Ee=i.current.get(fe),De=0;Ee.forEach(Ie=>{let re=V.get(Ie);De=Math.max(re,De)}),J.push([fe,De])});let xe=D.current;H().sort((fe,Ee)=>{var De,Ie;let re=fe.getAttribute("id"),Re=Ee.getAttribute("id");return((De=V.get(Re))!=null?De:0)-((Ie=V.get(re))!=null?Ie:0)}).forEach(fe=>{let Ee=fe.closest(R0);Ee?Ee.appendChild(fe.parentElement===Ee?fe:fe.closest(`${R0} > *`)):xe.appendChild(fe.parentElement===xe?fe:fe.closest(`${R0} > *`))}),J.sort((fe,Ee)=>Ee[1]-fe[1]).forEach(fe=>{var Ee;let De=(Ee=D.current)==null?void 0:Ee.querySelector(`${Ru}[${Yl}="${encodeURIComponent(fe[0])}"]`);De==null||De.parentElement.appendChild(De)})}function I(){let V=H().find(xe=>xe.getAttribute("aria-disabled")!=="true"),J=V==null?void 0:V.getAttribute(Yl);B.setState("value",J||void 0)}function Q(){var V,J,xe,fe;if(!s.current.search||u.current.shouldFilter===!1){s.current.filtered.count=n.current.size;return}s.current.filtered.groups=new Set;let Ee=0;for(let De of n.current){let Ie=(J=(V=o.current.get(De))==null?void 0:V.value)!=null?J:"",re=(fe=(xe=o.current.get(De))==null?void 0:xe.keywords)!=null?fe:[],Re=O(Ie,re);s.current.filtered.items.set(De,Re),Re>0&&Ee++}for(let[De,Ie]of i.current)for(let re of Ie)if(s.current.filtered.items.get(re)>0){s.current.filtered.groups.add(De);break}s.current.filtered.count=Ee}function W(){var V,J,xe;let fe=Y();fe&&(((V=fe.parentElement)==null?void 0:V.firstChild)===fe&&((xe=(J=fe.closest(Ru))==null?void 0:J.querySelector(t9))==null||xe.scrollIntoView({block:"nearest"})),fe.scrollIntoView({block:"nearest"}))}function Y(){var V;return(V=D.current)==null?void 0:V.querySelector(`${ME}[aria-selected="true"]`)}function H(){var V;return Array.from(((V=D.current)==null?void 0:V.querySelectorAll(K_))||[])}function z(V){let J=H()[V];J&&B.setState("value",J.getAttribute(Yl))}function Z(V){var J;let xe=Y(),fe=H(),Ee=fe.findIndex(Ie=>Ie===xe),De=fe[Ee+V];(J=u.current)!=null&&J.loop&&(De=Ee+V<0?fe[fe.length-1]:Ee+V===fe.length?fe[0]:fe[Ee+V]),De&&B.setState("value",De.getAttribute(Yl))}function te(V){let J=Y(),xe=J==null?void 0:J.closest(Ru),fe;for(;xe&&!fe;)xe=V>0?d9(xe,Ru):f9(xe,Ru),fe=xe==null?void 0:xe.querySelector(K_);fe?B.setState("value",fe.getAttribute(Yl)):Z(V)}let ue=()=>z(H().length-1),M=V=>{V.preventDefault(),V.metaKey?ue():V.altKey?te(1):Z(1)},ie=V=>{V.preventDefault(),V.metaKey?z(0):V.altKey?te(-1):Z(-1)};return N.createElement(Yt.div,oe(L({ref:t,tabIndex:-1},_),{"cmdk-root":"",onKeyDown:V=>{var J;(J=_.onKeyDown)==null||J.call(_,V);let xe=V.nativeEvent.isComposing||V.keyCode===229;if(!(V.defaultPrevented||xe))switch(V.key){case"n":case"j":{T&&V.ctrlKey&&M(V);break}case"ArrowDown":{M(V);break}case"p":case"k":{T&&V.ctrlKey&&ie(V);break}case"ArrowUp":{ie(V);break}case"Home":{V.preventDefault(),z(0);break}case"End":{V.preventDefault(),ue();break}case"Enter":{V.preventDefault();let fe=Y();if(fe){let Ee=new Event(Rx);fe.dispatchEvent(Ee)}}}}}),N.createElement("label",{"cmdk-label":"",htmlFor:F.inputId,id:F.labelId,style:p9},h),Pm(e,V=>N.createElement(LE.Provider,{value:B},N.createElement(PE.Provider,{value:F},V))))}),n9=N.forwardRef((e,t)=>{var s,n;let i=Dn(),o=N.useRef(null),c=N.useContext(BE),u=Nd(),h=UE(e),f=(n=(s=h.current)==null?void 0:s.forceMount)!=null?n:c==null?void 0:c.forceMount;Go(()=>{if(!f)return u.item(i,c==null?void 0:c.id)},[f]);let p=zE(i,o,[e.value,e.children,o],e.keywords),g=lb(),x=Wi(B=>B.value&&B.value===p.current),b=Wi(B=>f||u.filter()===!1?!0:B.search?B.filtered.items.get(i)>0:!0);N.useEffect(()=>{let B=o.current;if(!(!B||e.disabled))return B.addEventListener(Rx,j),()=>B.removeEventListener(Rx,j)},[b,e.onSelect,e.disabled]);function j(){var B,F;v(),(F=(B=h.current).onSelect)==null||F.call(B,p.current)}function v(){g.setState("value",p.current,!0)}if(!b)return null;let k=e,{disabled:T,value:_,onSelect:R,forceMount:S,keywords:C}=k,D=Oe(k,["disabled","value","onSelect","forceMount","keywords"]);return N.createElement(Yt.div,oe(L({ref:$o(o,t)},D),{id:i,"cmdk-item":"",role:"option","aria-disabled":!!T,"aria-selected":!!x,"data-disabled":!!T,"data-selected":!!x,onPointerMove:T||u.getDisablePointerSelection()?void 0:v,onClick:T?void 0:j}),e.children)}),a9=N.forwardRef((e,t)=>{let b=e,{heading:s,children:n,forceMount:i}=b,o=Oe(b,["heading","children","forceMount"]),c=Dn(),u=N.useRef(null),h=N.useRef(null),f=Dn(),p=Nd(),g=Wi(j=>i||p.filter()===!1?!0:j.search?j.filtered.groups.has(c):!0);Go(()=>p.group(c),[]),zE(c,u,[e.value,e.heading,h]);let x=N.useMemo(()=>({id:c,forceMount:i}),[i]);return N.createElement(Yt.div,oe(L({ref:$o(u,t)},o),{"cmdk-group":"",role:"presentation",hidden:g?void 0:!0}),s&&N.createElement("div",{ref:h,"cmdk-group-heading":"","aria-hidden":!0,id:f},s),Pm(e,j=>N.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":s?f:void 0},N.createElement(BE.Provider,{value:x},j))))}),r9=N.forwardRef((e,t)=>{let c=e,{alwaysRender:s}=c,n=Oe(c,["alwaysRender"]),i=N.useRef(null),o=Wi(u=>!u.search);return!s&&!o?null:N.createElement(Yt.div,oe(L({ref:$o(i,t)},n),{"cmdk-separator":"",role:"separator"}))}),i9=N.forwardRef((e,t)=>{let f=e,{onValueChange:s}=f,n=Oe(f,["onValueChange"]),i=e.value!=null,o=lb(),c=Wi(p=>p.search),u=Wi(p=>p.selectedItemId),h=Nd();return N.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),N.createElement(Yt.input,oe(L({ref:t},n),{"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":h.listId,"aria-labelledby":h.labelId,"aria-activedescendant":u,id:h.inputId,type:"text",value:i?e.value:c,onChange:p=>{i||o.setState("search",p.target.value),s==null||s(p.target.value)}}))}),o9=N.forwardRef((e,t)=>{let f=e,{children:s,label:n="Suggestions"}=f,i=Oe(f,["children","label"]),o=N.useRef(null),c=N.useRef(null),u=Wi(p=>p.selectedItemId),h=Nd();return N.useEffect(()=>{if(c.current&&o.current){let p=c.current,g=o.current,x,b=new ResizeObserver(()=>{x=requestAnimationFrame(()=>{let j=p.offsetHeight;g.style.setProperty("--cmdk-list-height",j.toFixed(1)+"px")})});return b.observe(p),()=>{cancelAnimationFrame(x),b.unobserve(p)}}},[]),N.createElement(Yt.div,oe(L({ref:$o(o,t)},i),{"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":u,"aria-label":n,id:h.listId}),Pm(e,p=>N.createElement("div",{ref:$o(c,h.listInnerRef),"cmdk-list-sizer":""},p)))}),l9=N.forwardRef((e,t)=>{let h=e,{open:s,onOpenChange:n,overlayClassName:i,contentClassName:o,container:c}=h,u=Oe(h,["open","onOpenChange","overlayClassName","contentClassName","container"]);return N.createElement(Q7,{open:s,onOpenChange:n},N.createElement(Z7,{container:c},N.createElement(J7,{"cmdk-overlay":"",className:i}),N.createElement(e9,{"aria-label":e.label,"cmdk-dialog":"",className:o},N.createElement(FE,L({ref:t},u)))))}),c9=N.forwardRef((e,t)=>Wi(s=>s.filtered.count===0)?N.createElement(Yt.div,oe(L({ref:t},e),{"cmdk-empty":"",role:"presentation"})):null),u9=N.forwardRef((e,t)=>{let c=e,{progress:s,children:n,label:i="Loading..."}=c,o=Oe(c,["progress","children","label"]);return N.createElement(Yt.div,oe(L({ref:t},o),{"cmdk-loading":"",role:"progressbar","aria-valuenow":s,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i}),Pm(e,u=>N.createElement("div",{"aria-hidden":!0},u)))}),vc=Object.assign(FE,{List:o9,Item:n9,Input:i9,Group:a9,Separator:r9,Dialog:l9,Empty:c9,Loading:u9});function d9(e,t){let s=e.nextElementSibling;for(;s;){if(s.matches(t))return s;s=s.nextElementSibling}}function f9(e,t){let s=e.previousElementSibling;for(;s;){if(s.matches(t))return s;s=s.previousElementSibling}}function UE(e){let t=N.useRef(e);return Go(()=>{t.current=e}),t}var Go=typeof window=="undefined"?N.useEffect:N.useLayoutEffect;function Gl(e){let t=N.useRef();return t.current===void 0&&(t.current=e()),t}function Wi(e){let t=lb(),s=()=>e(t.snapshot());return N.useSyncExternalStore(t.subscribe,s,s)}function zE(e,t,s,n=[]){let i=N.useRef(),o=Nd();return Go(()=>{var c;let u=(()=>{var f;for(let p of s){if(typeof p=="string")return p.trim();if(typeof p=="object"&&"current"in p)return p.current?(f=p.current.textContent)==null?void 0:f.trim():i.current}})(),h=n.map(f=>f.trim());o.value(e,u,h),(c=t.current)==null||c.setAttribute(Yl,u),i.current=u}),i}var h9=()=>{let[e,t]=N.useState(),s=Gl(()=>new Map);return Go(()=>{s.current.forEach(n=>n()),s.current=new Map},[e]),(n,i)=>{s.current.set(n,i),t({})}};function m9(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Pm({asChild:e,children:t},s){return e&&N.isValidElement(t)?N.cloneElement(m9(t),{ref:t.ref},s(t.props.children)):s(t)}var p9={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function g9(s){var n=s,{className:e}=n,t=Oe(n,["className"]);return r.jsx(vc,L({"data-slot":"command",className:Ss("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e)},t))}function x9(s){var n=s,{className:e}=n,t=Oe(n,["className"]);return r.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[r.jsx(lc,{className:"size-4 shrink-0 opacity-50"}),r.jsx(vc.Input,L({"data-slot":"command-input",className:Ss("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e)},t))]})}function y9(s){var n=s,{className:e}=n,t=Oe(n,["className"]);return r.jsx(vc.List,L({"data-slot":"command-list",className:Ss("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e)},t))}function M0(t){var e=Oe(t,[]);return r.jsx(vc.Empty,L({"data-slot":"command-empty",className:"py-6 text-center text-sm"},e))}function b9(s){var n=s,{className:e}=n,t=Oe(n,["className"]);return r.jsx(vc.Group,L({"data-slot":"command-group",className:Ss("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e)},t))}function v9(s){var n=s,{className:e}=n,t=Oe(n,["className"]);return r.jsx(vc.Item,L({"data-slot":"command-item",className:Ss("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e)},t))}function Ca({doctype:e,value:t="",onChange:s,placeholder:n="Select option...",className:i="w-[200px]",fields:o=["name"],filters:c=[],displayField:u="name",valueField:h="name",disabled:f=!1,limit:p=20}){const[g,x]=N.useState(!1),[b,j]=N.useState(""),v=N.useMemo(()=>{let B={};if(c.length>0&&c.forEach(O=>{if(Array.isArray(O)&&O.length>=3){const[X,I,Q]=O;I==="="&&(B[X]=Q)}}),b.trim()&&(B[u]=["like",`%${b}%`]),Object.keys(B).length===0&&b.trim())return[[u,"like",`%${b}%`]];const F=[];return Object.entries(B).forEach(([O,X])=>{Array.isArray(X)?F.push([O,X[0],X[1]]):F.push([O,"=",X])}),F.length>0?F:void 0},[b,c,u]),{data:T,isLoading:_,error:R}=Nt(e,{fields:[...new Set([...o,u,h])],filters:v,limit:p,orderBy:{field:u,order:"asc"}}),S=N.useMemo(()=>!T||!Array.isArray(T)?[]:T.map(B=>({value:B[h],label:B[u]})),[T,u,h]),C=S.find(B=>B.value===t),D=B=>{s(B===t?"":B),x(!1)},k=B=>{j(B)};return r.jsxs(Ny,{open:g,onOpenChange:x,children:[r.jsx(_y,{asChild:!0,children:r.jsxs(Je,{variant:"outline",role:"combobox","aria-expanded":g,className:Ss("justify-between",i),disabled:f,children:[(C==null?void 0:C.label)||n,r.jsx(c4,{className:"opacity-50"})]})}),r.jsx(Ty,{className:Ss("p-0",i),children:r.jsxs(g9,{shouldFilter:!1,children:[r.jsx(x9,{placeholder:`Search ${e.toLowerCase()}...`,className:"h-9",value:b,onValueChange:k}),r.jsxs(y9,{children:[_&&r.jsx(M0,{children:"Loading..."}),R&&r.jsx(M0,{children:"Error loading data."}),!_&&!R&&S.length===0&&r.jsxs(M0,{children:["No ",e.toLowerCase()," found."]}),!_&&!R&&S.length>0&&r.jsx(b9,{children:S.map(B=>r.jsxs(v9,{value:B.value,onSelect:D,children:[B.label,r.jsx(s4,{className:Ss("ml-auto",t===B.value?"opacity-100":"opacity-0")})]},B.value))})]})]})})]})}const HE=({project:e,isOpen:t,onClose:s,onSuccess:n})=>{const{updateProject:i,isLoading:o}=BL(),{currentUser:c}=An(),{data:u}=Ot("Project",(e==null?void 0:e.name)||"",e!=null&&e.name?"Project":void 0),h=(u==null?void 0:u.users)||(e==null?void 0:e.users)||[],f=()=>{if(c==="Administrator"||(e==null?void 0:e.owner)===c)return!0;const _=h.find(R=>R.user===c);return(_==null?void 0:_.project_status)==="Project Manager (Owner Substitute)"},{register:p,control:g,handleSubmit:x,reset:b,formState:{errors:j}}=id({defaultValues:{project_name:"",customer:"",project_type:"",status:"Open",priority:"Medium",department:"",team:"",company:"",cost_center:"",expected_start_date:"",expected_end_date:"",notes:""}});N.useEffect(()=>{e&&b({project_name:e.project_name||"",customer:e.customer||"",project_type:e.project_type||"",status:e.status||"Open",priority:e.priority||"Medium",department:e.department||"",team:e.team||"",company:e.company||"",cost_center:e.cost_center||"",expected_start_date:e.expected_start_date?e.expected_start_date.split(" ")[0]:"",expected_end_date:e.expected_end_date?e.expected_end_date.split(" ")[0]:"",notes:e.notes||""})},[e,b]);const v=_=>we(null,null,function*(){if(e){if(_.status==="Completed"&&!f()){gs.error("Permission denied",{description:"You don't have permission to mark this project as Completed. Only Project Owner, Project Manager, or Administrator can do this."});return}try{yield i(e.name,_),gs.success("Project updated successfully"),n&&setTimeout(()=>{n()},100),s()}catch(R){let S="Edit project failed";if(R!=null&&R._server_messages)try{const C=JSON.parse(R._server_messages);Array.isArray(C)&&C.length>0&&(S=JSON.parse(C[0]).message||S)}catch(C){console.error("Parse error messages failed:",C)}else R!=null&&R.message&&(S=R.message);gs.error("Update project failed",{description:S}),console.error("Error updating project:",R)}}}),T=()=>{e&&b({project_name:e.project_name||"",customer:e.customer||"",project_type:e.project_type||"",status:e.status||"Open",priority:e.priority||"Medium",department:e.department||"",team:e.team||"",company:e.company||"",cost_center:e.cost_center||"",expected_start_date:e.expected_start_date?e.expected_start_date.split(" ")[0]:"",expected_end_date:e.expected_end_date?e.expected_end_date.split(" ")[0]:"",notes:e.notes||""}),s()};return r.jsx(bn,{open:t,onOpenChange:s,children:r.jsxs(vn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[r.jsx(wn,{children:r.jsx(jn,{children:"Edit Project"})}),r.jsxs("form",{onSubmit:x(v),className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"project_name",children:"Project Name *"}),r.jsx($t,oe(L({id:"project_name"},p("project_name",{required:"Project name is required",maxLength:{value:100,message:"Project name cannot exceed 100 characters"}})),{placeholder:"Enter project name"})),j.project_name&&r.jsx("span",{className:"text-red-500 text-sm",children:j.project_name.message})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx($e,{children:"Customer"}),r.jsx(Ta,{name:"customer",control:g,render:({field:_})=>r.jsx(Ca,{doctype:"Customer",value:_.value||"",onChange:_.onChange,placeholder:"Select customer...",displayField:"customer_name",valueField:"name",className:"w-full"})})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx($e,{children:"Project Type"}),r.jsx(Ta,{name:"project_type",control:g,render:({field:_})=>r.jsx(Ca,{doctype:"Project Type",value:_.value||"",onChange:_.onChange,placeholder:"Select type...",className:"w-full"})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{children:"Status"}),r.jsxs("select",oe(L({},p("status")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[r.jsx("option",{value:"",children:"Select status..."}),r.jsx("option",{value:"Open",children:"Open"}),f()&&r.jsx("option",{value:"Completed",children:"Completed"}),r.jsx("option",{value:"Cancelled",children:"Cancelled"})]})),!f()&&r.jsx("span",{className:"text-xs text-amber-600",children:"You dont have permission to mark Completed"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{children:"Priority"}),r.jsxs("select",oe(L({},p("priority")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[r.jsx("option",{value:"",children:"Select priority..."}),r.jsx("option",{value:"Low",children:"Low"}),r.jsx("option",{value:"Medium",children:"Medium"}),r.jsx("option",{value:"High",children:"High"}),r.jsx("option",{value:"Urgent",children:"Urgent"})]}))]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx($e,{children:"Team"}),r.jsx(Ta,{name:"team",control:g,render:({field:_})=>r.jsx(Ca,{doctype:"Team",value:_.value||"",onChange:_.onChange,placeholder:"Select team...",className:"w-full"})})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx($e,{children:"Company"}),r.jsx(Ta,{name:"company",control:g,render:({field:_})=>r.jsx(Ca,{doctype:"Company",value:_.value||"",onChange:_.onChange,placeholder:"Select company...",className:"w-full"})})]})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx($e,{children:"Cost Center"}),r.jsx(Ta,{name:"cost_center",control:g,render:({field:_})=>r.jsx(Ca,{doctype:"Cost Center",value:_.value||"",onChange:_.onChange,placeholder:"Select cost center...",className:"w-full"})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"expected_start_date",children:"Expected Start Date"}),r.jsx($t,L({id:"expected_start_date",type:"date"},p("expected_start_date")))]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"expected_end_date",children:"Expected End Date"}),r.jsx($t,L({id:"expected_end_date",type:"date"},p("expected_end_date")))]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"notes",children:"Notes"}),r.jsx("textarea",oe(L({id:"notes"},p("notes")),{placeholder:"Enter project notes",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}))]}),r.jsxs(Pn,{className:"flex gap-2",children:[r.jsx(Je,{type:"button",variant:"outline",onClick:T,children:"Cancel"}),r.jsx(Je,{type:"submit",disabled:o,children:o?"Updating...":"Update Project"})]})]})]})})},$E=({project:e,isOpen:t,onClose:s,onSuccess:n})=>{const{deleteProjectCascade:i}=WL(),[o,c]=N.useState(!1),[u,h]=N.useState(null),[f,p]=N.useState(""),g=()=>we(null,null,function*(){if(!e){console.error("No project selected for deletion"),gs.error("Delete project failed",{description:"No project selected"});return}if(o){console.log("Delete already in progress, ignoring duplicate request");return}c(!0),h(null),p("Starting deletion...");try{console.log(`Starting deletion for project: ${e.name}`),p("Deleting subtasks..."),yield new Promise(j=>setTimeout(j,300)),p("Deleting tasks..."),yield new Promise(j=>setTimeout(j,300)),p("Deleting project phases..."),yield new Promise(j=>setTimeout(j,300)),p("Cleaning up dependencies..."),yield new Promise(j=>setTimeout(j,300)),p("Deleting project...");const b=yield i(e.name);p("Deletion completed successfully!"),console.log("Cascade deletion result:",b),gs.success("Project deleted successfully",{description:`Project "${e.name}" and all related items have been deleted.`}),n&&n(),s()}catch(b){let j="Delete project failed",v=!1;if(b!=null&&b._server_messages)try{const T=JSON.parse(b._server_messages);Array.isArray(T)&&T.length>0&&(j=JSON.parse(T[0]).message||j)}catch(T){console.error("Parse error messages failed:",T)}else b!=null&&b.message&&(j=b.message,(j.includes("dependencies")||j.includes("linked")||j.includes("referenced")||j.includes("Unknown project deletion error"))&&(v=!0,j+=`

Tip: This error usually resolves on the second attempt. Please try again.`));console.error("Error deleting project:",b),gs.error("Delete project failed",{description:j,duration:v?8e3:5e3}),h(b instanceof Error?b:new Error(j)),p("")}finally{c(!1)}}),x=()=>{o||(h(null),p(""),s())};return r.jsx(bn,{open:t,onOpenChange:s,children:r.jsxs(vn,{className:"sm:max-w-[400px]",children:[r.jsx(wn,{children:r.jsxs(jn,{className:"flex items-center gap-2 text-red-600",children:[r.jsx(cc,{className:"h-5 w-5"}),"Delete Project"]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this project? This action cannot be undone."}),e&&r.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[r.jsx("div",{className:"font-medium text-gray-900",children:e.project_name}),r.jsx("div",{className:"text-sm text-gray-600",children:e.customer||"No customer"}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]})]}),r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[r.jsxs("div",{className:"text-sm text-red-800",children:[r.jsx("strong",{children:"Warning:"})," This will permanently delete in the following order:"]}),r.jsxs("ol",{className:"text-sm text-red-700 mt-1 ml-4 list-decimal",children:[r.jsx("li",{children:"All subtasks in all tasks"}),r.jsx("li",{children:"All tasks in the project"}),r.jsx("li",{children:"All project phases"}),r.jsx("li",{children:"All ToDo assignments"}),r.jsx("li",{children:"All project team members"}),r.jsx("li",{children:"The project itself"})]}),r.jsx("div",{className:"text-sm text-red-800 mt-2",children:r.jsx("strong",{children:"This action cannot be undone!"})})]}),o&&f&&r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ex,{className:"h-4 w-4 animate-spin text-blue-600"}),r.jsxs("span",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"Progress:"})," ",f]})]}),r.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"Please wait while we delete all related items..."})]}),u&&r.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:r.jsxs("p",{children:[r.jsx("strong",{children:"Error:"})," ",u.message||"Failed to delete project"]})})]}),r.jsxs(Pn,{className:"flex gap-2",children:[r.jsx(Je,{type:"button",variant:"outline",onClick:x,disabled:o,children:o?"Deleting...":"Cancel"}),r.jsx(Je,{type:"button",variant:"destructive",onClick:g,disabled:o,className:"min-w-[120px]",children:o?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ex,{className:"h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete Project"})]})]})})};function w9({isOpen:e,onClose:t,projectName:s,onSuccess:n}){const[i,o]=N.useState(!1),{call:c}=xn("todo.api.add_project_member"),u=id();N.useEffect(()=>{e&&(u.reset(),u.clearErrors())},[e,u]);const h=()=>{i||(t(),u.reset(),u.clearErrors())},f=p=>we(null,null,function*(){if(s&&!i){o(!0);try{const g=yield c({project_name:s,user:p.user,view_attachments:p.view_attachments?1:0,hide_timesheets:p.hide_timesheets?1:0,project_status:p.project_status||"Team Member"});console.log("Member added successfully:",g),t(),setTimeout(()=>{u.reset(),u.clearErrors()},0),setTimeout(()=>{n()},1e3),alert("Member added successfully!")}catch(g){console.error("Error adding member:",g);const x=g instanceof Error?g.message:String(g),b=JSON.stringify(g);x.includes("Email Account")||x.includes("OutgoingEmailError")||x.includes("email")||x.includes("SMTP")||b.includes("OutgoingEmailError")||b.includes("Email Account")?(console.log("Email error detected, member likely added successfully"),t(),setTimeout(()=>{u.reset(),u.clearErrors()},0),setTimeout(()=>{n(),alert("Member added successfully! (Welcome email could not be sent due to email configuration, but the member was added to the project)")},1e3)):x.includes("DuplicateEntryError")||x.includes("already exists")?alert("This user is already a member of the project."):x.includes("PermissionError")||x.includes("Not permitted")?alert("You do not have permission to add members to this project."):x.includes("ValidationError")?alert("Invalid data provided. Please check your inputs."):alert("Failed to add member: "+x)}finally{o(!1)}}});return r.jsx(bn,{open:e,onOpenChange:h,children:r.jsx(vn,{className:"sm:max-w-md",children:r.jsxs("form",{onSubmit:u.handleSubmit(f),onKeyDown:p=>{p.key==="Enter"&&p.target instanceof HTMLInputElement&&p.preventDefault()},children:[r.jsxs(wn,{children:[r.jsx(jn,{children:"Add Team Member"}),r.jsx(jd,{children:"Add a new member to the project team."})]}),r.jsxs("div",{className:"grid gap-4 py-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsxs($e,{children:["User ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(Ta,{name:"user",control:u.control,rules:{required:"Please select a user"},render:({field:p})=>r.jsx(Ca,{doctype:"User",value:p.value||"",onChange:g=>{console.log("Combobox onChange:",g),p.onChange(g),g&&u.formState.errors.user&&u.clearErrors("user")},placeholder:i?"Please wait...":"Select user...",displayField:"full_name",valueField:"name",filters:[["enabled","=",1],["user_type","!=","Website User"]],fields:["name","full_name","email","user_image"],className:"w-full",disabled:i},`add-member-${e?"open":"closed"}-${Date.now()}`)}),u.formState.errors.user&&r.jsx("span",{className:"text-red-500 text-sm",children:u.formState.errors.user.message})]}),r.jsxs("div",{className:"space-y-3 pt-2 border-t",children:[r.jsx($e,{className:"text-sm font-medium",children:"Permissions"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",oe(L({type:"checkbox",id:"add_view_attachments"},u.register("view_attachments")),{defaultChecked:!0,disabled:i,className:"rounded border-gray-300"})),r.jsx($e,{htmlFor:"add_view_attachments",className:"text-sm",children:"Can view attachments"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",oe(L({type:"checkbox",id:"add_hide_timesheets"},u.register("hide_timesheets")),{disabled:i,className:"rounded border-gray-300"})),r.jsx($e,{htmlFor:"add_hide_timesheets",className:"text-sm",children:"Hide timesheets from this user"})]})]})]}),r.jsxs(Pn,{className:"gap-2",children:[r.jsx(Je,{type:"button",variant:"outline",onClick:h,disabled:i,children:"Cancel"}),r.jsx(Je,{type:"submit",disabled:i||!u.watch("user"),className:"bg-blue-600 hover:bg-blue-700 disabled:opacity-50",children:i?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Adding..."]}):"Add Member"})]})]})})})}function VE({project:e,isOpen:t,onClose:s}){const[n,i]=N.useState("overview"),[o,c]=N.useState(null),[u,h]=N.useState(null),[f,p]=N.useState(null),[g,x]=N.useState(!1),[b,j]=N.useState(!1),[v,T]=N.useState(!1),[_,R]=N.useState(!1),[S,C]=N.useState(!1),[D,k]=N.useState(!1);N.useEffect(()=>{t||(i("overview"),c(null),h(null),p(null),x(!1),j(!1),T(!1),R(!1),C(!1),k(!1))},[t]),N.useEffect(()=>{b||(fe.reset(),fe.clearErrors())},[b]),N.useEffect(()=>{v||(Ee.reset(),Ee.clearErrors())},[v]);const{data:B,isLoading:F,mutate:O}=Ot("Project",(e==null?void 0:e.name)||"",e!=null&&e.name?"Project":void 0),{call:X}=xn("frappe.client.delete"),{call:I}=xn("todo.api.remove_project_member"),{data:Q,error:W,isLoading:Y}=Ot("User",(e==null?void 0:e.owner)||"",e!=null&&e.owner?void 0:null),{data:H,mutate:z}=Ot("SubTask",(f==null?void 0:f.name)||"",f!=null&&f.name?void 0:null),{data:Z,mutate:te}=Ot("Task",(u==null?void 0:u.name)||"",u!=null&&u.name?void 0:null),{currentUser:ue}=An(),M=(B==null?void 0:B.users)||(e==null?void 0:e.users)||[],ie=F,ne=N.useMemo(()=>({progress:(B==null?void 0:B.percent_complete)||(e==null?void 0:e.percent_complete)||0,source:"project",count:1}),[B==null?void 0:B.percent_complete,e==null?void 0:e.percent_complete]),V=()=>we(null,null,function*(){if(f!=null&&f.name)try{yield z()}catch(Be){console.error("Error refreshing subtask data:",Be)}}),J=()=>we(null,null,function*(){if(u!=null&&u.name)try{yield te()}catch(Be){console.error("Error refreshing task data:",Be)}}),xe=Be=>we(null,null,function*(){(u==null?void 0:u.name)===Be&&(yield J())});N.useEffect(()=>{H&&(f==null?void 0:f.name)===H.name&&p(H)},[H,f==null?void 0:f.name]),N.useEffect(()=>{Z&&(u==null?void 0:u.name)===Z.name&&h(Z)},[Z,u==null?void 0:u.name]);const fe=id(),Ee=id(),De=Be=>we(null,null,function*(){if(e!=null&&e.name&&confirm("Are you sure you want to remove this member from the project?"))try{const ze=yield I({project_name:e.name,user:Be});console.log("Member removed successfully:",ze),setTimeout(()=>O(),1e3),alert("Member removed successfully!")}catch(ze){console.error("Error removing member:",ze);const nt=ze instanceof Error?ze.message:String(ze);if(nt.includes("Email Account")||nt.includes("OutgoingEmailError")||nt.includes("email")||nt.includes("SMTP"))console.log("Email error detected when removing member, checking if removal was successful"),setTimeout(()=>{O(),alert("Member removed successfully! (Email notification failed to send, but member was removed from project)")},1e3);else if(nt.includes("PermissionError")||nt.includes("Not permitted"))alert("You do not have permission to remove members from this project.");else if(nt.includes("ValidationError"))alert("Cannot remove member: Validation error occurred.");else if(nt.includes("LinkExistsError")||nt.includes("Cannot delete"))alert("Cannot remove member: This user may have linked records (tasks, timesheets, etc.). Please remove or reassign those records first.");else if(nt.includes("is not a member of this project"))alert("This user is not a member of the project."),setTimeout(()=>O(),500);else{console.log("Custom API failed, trying fallback method");try{const K=M.find(me=>me.user===Be);K!=null&&K.name?(yield X({doctype:"Project User",name:K.name}),setTimeout(()=>O(),1e3),alert("Member removed successfully! (Using fallback method)")):alert("User record not found.")}catch(K){console.error("Fallback method also failed:",K),alert(`Failed to remove member: ${nt}`)}}}}),Ie=()=>(e==null?void 0:e.owner)===ue||ue==="Administrator",re=Be=>{switch(Be){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},Re=Be=>Be?new Date(Be).toLocaleDateString():"N/A",He=()=>{R(!0)},Xe=()=>{C(!0)},Le=()=>{O(),sc(Be=>typeof Be=="string"&&Be.includes("Project"),void 0,{revalidate:!0})},dt=()=>{s()};if(!e)return null;const Ge=B||e;return r.jsx(CH,{open:t,onOpenChange:s,direction:"right",children:r.jsxs(DH,{children:[r.jsxs("div",{className:"w-full h-full overflow-y-auto p-6",children:[r.jsxs(AH,{className:"px-0 pb-6",children:[r.jsxs(RH,{className:"flex gap-4 justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"h-16 w-16 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg",children:r.jsx("span",{className:"text-2xl font-bold text-white",children:Ge.project_name.charAt(0).toUpperCase()})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:Ge.project_name}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:`inline-flex px-4 py-2 text-sm font-semibold rounded-full ${re(Ge.status)}`,children:Ge.status||"Open"}),Ge.project_type&&r.jsx("span",{className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-full",children:Ge.project_type})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Je,{variant:"outline",size:"sm",onClick:He,className:"flex items-center gap-2",children:[r.jsx(Zu,{className:"h-4 w-4"}),"Edit"]}),r.jsxs(Je,{variant:"outline",size:"sm",onClick:Xe,className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[r.jsx($i,{className:"h-4 w-4"}),"Delete"]}),r.jsx(Je,{variant:"ghost",size:"sm",onClick:s,children:"X"})]})]}),r.jsx(MH,{className:"text-lg text-gray-600 mt-4",children:"Project Details and Progress Overview"}),r.jsxs("div",{className:"flex border-b border-gray-200 mt-6",children:[r.jsx("button",{onClick:()=>i("overview"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${n==="overview"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Overview"}),r.jsx("button",{onClick:()=>i("tasks"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${n==="tasks"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Tasks & Phases"}),r.jsxs("button",{onClick:()=>i("team"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${n==="team"?"border-green-600 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(_a,{className:"h-4 w-4"}),"Team (",((M==null?void 0:M.length)||0)+1,")"]}),o&&r.jsxs("button",{onClick:()=>i("phase-details"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${n==="phase-details"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["📋 ",o.subject,r.jsx("span",{onClick:Be=>{Be.stopPropagation(),c(null),i("tasks")},className:"ml-2 hover:bg-gray-200 rounded-full p-1 transition-colors cursor-pointer",title:"Close phase details",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u&&r.jsxs("button",{onClick:()=>i("task-details"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${n==="task-details"?"border-orange-600 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["📝 ",u.subject||u.name,r.jsx("span",{onClick:Be=>{Be.stopPropagation(),h(null),i("tasks")},className:"ml-2 hover:bg-gray-200 rounded-full p-1 transition-colors cursor-pointer",title:"Close task details",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f&&r.jsxs("button",{onClick:()=>i("subtask-details"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${n==="subtask-details"?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["📌 ",f.subject||f.name,r.jsx("span",{onClick:Be=>{Be.stopPropagation(),p(null),i("tasks")},className:"ml-2 hover:bg-gray-200 rounded-full p-1 transition-colors cursor-pointer",title:"Close subtask details",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})]}),r.jsxs("div",{className:"space-y-8",children:[n==="overview"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Project Progress"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-lg font-medium text-gray-700",children:"Overall Progress"}),r.jsx("span",{className:"text-xs text-gray-500"})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[ne.progress,"%"]})})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:r.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-4 rounded-full transition-all duration-500 ease-out",style:{width:`${ne.progress}%`}})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:r.jsx(Ho,{className:"h-8 w-8 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Customer"}),r.jsx("p",{className:"text-xl font-bold text-gray-900",children:Ge.customer||"N/A"})]})]})}),r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:r.jsx(zo,{className:"h-8 w-8 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Budget"}),r.jsx("p",{className:"text-xl font-bold text-gray-900",children:Ao(Ge.estimated_costing)})]})]})}),r.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:r.jsx(an,{className:"h-8 w-8 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"Deadline"}),r.jsx("p",{className:"text-xl font-bold text-gray-900",children:Re(Ge.expected_end_date)})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Project Information"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Start Date"}),r.jsx("span",{className:"text-gray-900 font-semibold",children:Re(Ge.expected_start_date)})]}),r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),r.jsx("span",{className:"text-gray-900 font-semibold",children:Ge.priority||"Medium"})]}),r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Team"}),r.jsx("span",{className:"text-gray-900 font-semibold",children:Ge.team||"N/A"})]}),r.jsxs("div",{className:"flex items-center justify-between py-3",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Company"}),r.jsx("span",{className:"text-gray-900 font-semibold",children:Ge.company||"N/A"})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Financial Metrics"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Total Cost"}),r.jsx("span",{className:"text-gray-900 font-semibold",children:Ao(Ge.total_costing_amount)})]}),r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Total Sales"}),r.jsx("span",{className:"text-gray-900 font-semibold",children:Ao(Ge.total_sales_amount)})]}),r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Billable Amount"}),r.jsx("span",{className:"text-gray-900 font-semibold",children:Ao(Ge.total_billable_amount)})]}),r.jsxs("div",{className:"flex items-center justify-between py-3",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Gross Margin"}),r.jsx("span",{className:"text-lg font-bold text-green-600",children:Ao(Ge.gross_margin)})]})]})]})]}),r.jsx(Om,{doctype:"Project",docname:e.name,title:"Project Files",allowUpload:!0,allowDelete:!0,className:"mt-8"})]}),n==="team"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(p4,{className:"h-6 w-6 text-yellow-600"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Project Owner"})]}),Ie()&&r.jsxs(Je,{variant:"outline",size:"sm",onClick:()=>{Ee.reset({owner:(e==null?void 0:e.owner)||""}),T(!0)},className:"flex items-center gap-2",children:[r.jsx(Zu,{className:"h-4 w-4"}),"Change Owner"]})]}),r.jsxs("div",{className:"flex items-center gap-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[r.jsx("div",{className:"h-12 w-12 rounded-full bg-yellow-100 flex items-center justify-center",children:r.jsx(Ho,{className:"h-6 w-6 text-yellow-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:Y?"Loading...":Q!=null&&Q.full_name?Q.full_name:Ge!=null&&Ge.owner?Ge.owner:"No Owner"}),r.jsx("p",{className:"text-sm text-gray-600",children:Y?"Loading email...":Q!=null&&Q.email?Q.email:Ge!=null&&Ge.owner?Ge.owner:"No email"}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded",children:"Project Owner"}),(Q==null?void 0:Q.designation)&&r.jsx("span",{className:"text-xs text-gray-500",children:Q.designation}),W&&r.jsx("span",{className:"text-xs text-red-500",children:"(Error loading user details)"})]})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(_a,{className:"h-6 w-6 text-blue-600"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Team Members"}),r.jsxs("span",{className:"inline-flex px-3 py-1 text-sm font-medium bg-blue-100 text-blue-800 rounded-full",children:[(M==null?void 0:M.length)||0," members"]})]}),r.jsxs(Je,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",onClick:()=>x(!0),children:[r.jsx(gr,{className:"h-4 w-4 mr-1"}),"Add Member"]})]}),ie?r.jsxs("div",{className:"flex items-center justify-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-3 text-gray-600",children:"Loading team members..."})]}):M&&M.length>0?r.jsx("div",{className:"grid gap-4",children:M.map((Be,ze)=>r.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors",children:[r.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center overflow-hidden",children:Be.image?r.jsx("img",{src:Be.image,alt:Be.full_name||Be.user,className:"h-full w-full object-cover"}):r.jsx("span",{className:"text-sm font-semibold text-blue-600",children:(Be.full_name||Be.user||"U").charAt(0).toUpperCase()})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-semibold text-gray-900",children:Be.full_name||Be.user||"Unknown User"}),r.jsx("p",{className:"text-sm text-gray-600",children:Be.email||Be.user||"No email"}),Be.project_status&&r.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Status: ",Be.project_status]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:"Team Member"}),Be.view_attachments&&r.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded",children:"Can View Files"}),r.jsxs(Je,{size:"sm",variant:"outline",className:"text-xs text-red-600 hover:text-red-700",onClick:()=>De(Be.user),children:[r.jsx($i,{className:"h-3 w-3 mr-1"}),"Remove"]})]})]},Be.user||ze))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(_a,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"No team members added yet"}),r.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Add team members to collaborate on this project"}),r.jsxs(Je,{className:"mt-4 bg-blue-600 hover:bg-blue-700",onClick:()=>x(!0),children:[r.jsx(gr,{className:"h-4 w-4 mr-2"}),"Add First Member"]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Statistics"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:((M==null?void 0:M.length)||0)+1}),r.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"})]}),r.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold text-green-600",children:"1"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Project Owner"})]}),r.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:(M==null?void 0:M.length)||0}),r.jsx("p",{className:"text-sm text-gray-600",children:"Team Members"})]}),r.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[r.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[(e==null?void 0:e.percent_complete)||0,"%"]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Progress"})]})]})]})]}),n==="tasks"&&r.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:r.jsx(i7,{projectName:e.name,onViewPhaseDetails:Be=>{c(Be),i("phase-details")},onViewTaskDetails:Be=>{h(Be),i("task-details")},onViewSubTaskDetails:Be=>{p(Be),i("subtask-details")}})}),n==="phase-details"&&o&&r.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:r.jsx(u7,{phase:o,projectName:e.name,onBack:()=>i("tasks"),onViewTaskDetails:Be=>{h(Be),i("task-details")},onPhaseUpdated:()=>we(null,null,function*(){O()}),onPhaseDeleted:()=>we(null,null,function*(){O(),i("tasks"),c(null)}),onTaskCreated:()=>we(null,null,function*(){O()})})}),n==="task-details"&&u&&r.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:r.jsx(m7,{task:u,projectName:e.name,onBack:()=>i("tasks"),onViewSubTaskDetails:Be=>{p(Be),i("subtask-details")},onTaskUpdated:()=>we(null,null,function*(){O(),yield J()}),onTaskDeleted:()=>we(null,null,function*(){O(),i("tasks"),h(null)})})}),n==="subtask-details"&&f&&r.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:r.jsx(x7,{subtask:f,projectName:e.name,onBack:()=>i("tasks"),onSubTaskUpdated:()=>we(null,null,function*(){O(),yield V(),f!=null&&f.task&&(yield xe(f.task))}),onSubTaskDeleted:()=>we(null,null,function*(){O(),i("tasks"),p(null)})})})]}),r.jsx(OH,{className:"px-0 mt-8 pt-6 border-t border-gray-200",children:r.jsxs("div",{className:"flex gap-4",children:[r.jsx(Je,{variant:"outline",className:"flex-1 h-12 text-lg font-semibold",onClick:()=>i("tasks"),children:"View Tasks"}),r.jsx(Je,{variant:"outline",className:"flex-1 h-12 text-lg font-semibold",children:"View Timeline"})]})})]}),r.jsx(w9,{isOpen:g,onClose:()=>x(!1),projectName:e.name,onSuccess:()=>{setTimeout(()=>O(),1e3)}}),r.jsx(HE,{project:e,isOpen:_,onClose:()=>R(!1),onSuccess:Le}),r.jsx($E,{project:e,isOpen:S,onClose:()=>C(!1),onSuccess:dt})]})})}const IE=({project:e,onProjectUpdated:t,onProjectDeleted:s,onCloseDrawer:n})=>{const[i,o]=N.useState(!1),[c,u]=N.useState(!1),[h,f]=N.useState(!1),p=j=>{j&&j.stopPropagation(),o(!0),f(!1)},g=j=>{j&&j.stopPropagation(),u(!0),f(!1)},x=()=>{t&&t()},b=()=>{s&&s(),n&&n()};return r.jsxs(r.Fragment,{children:[r.jsxs(Ny,{open:h,onOpenChange:f,children:[r.jsx(_y,{asChild:!0,children:r.jsx(Je,{variant:"ghost",size:"sm",onClick:j=>{j.stopPropagation(),f(!h)},className:"h-8 w-8 p-0",children:r.jsx(b4,{className:"h-4 w-4"})})}),r.jsx(Ty,{className:"w-48 p-2",align:"end",onClick:j=>j.stopPropagation(),children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs(Je,{variant:"ghost",size:"sm",onClick:j=>p(j),className:"w-full justify-start text-left",children:[r.jsx(q4,{className:"mr-2 h-4 w-4"}),"Edit Project"]}),r.jsxs(Je,{variant:"ghost",size:"sm",onClick:j=>g(j),className:"w-full justify-start text-left text-red-600 hover:text-red-700 hover:bg-red-50",children:[r.jsx($i,{className:"mr-2 h-4 w-4"}),"Delete Project"]})]})})]}),r.jsx(HE,{project:e,isOpen:i,onClose:()=>o(!1),onSuccess:x}),r.jsx($E,{project:e,isOpen:c,onClose:()=>u(!1),onSuccess:b})]})},j9=({projects:e,onProjectsChange:t})=>{const[s,n]=N.useState(null),[i,o]=N.useState(!1),c=f=>{n(f),o(!0)},u=()=>{o(!1),n(null)},h=f=>{switch(f){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:e.map(f=>r.jsxs("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 hover:shadow-md transition-shadow duration-200 cursor-pointer",onClick:()=>c(f),children:[r.jsx("div",{className:"h-48 bg-gray-200 flex items-center justify-center",children:r.jsx("div",{className:"text-4xl font-bold text-gray-400",children:f.project_name.charAt(0).toUpperCase()})}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate flex-1",children:f.project_name}),r.jsxs("div",{className:"flex items-center gap-2",onClick:p=>p.stopPropagation(),children:[r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${h(f.status)}`,children:f.status||"Open"}),r.jsx(IE,{project:f,onProjectUpdated:t,onProjectDeleted:t,onCloseDrawer:u})]})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:f.project_type||"N/A"}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Progress"}),r.jsxs("span",{className:"text-sm text-gray-600",children:[f.percent_complete||0,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${f.percent_complete||0}%`}})})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[r.jsx("span",{children:f.customer||"N/A"}),r.jsx("span",{children:Ao(f.estimated_costing)})]})]})]},f.name))}),r.jsx(VE,{project:s,isOpen:i,onClose:u})]})},N9=({projects:e,onProjectsChange:t})=>{const[s,n]=N.useState(null),[i,o]=N.useState(!1),[c,u]=N.useState(null),h=v=>{n(v),o(!0)},f=()=>{o(!1),n(null)},p=()=>{s&&(u(s.name),setTimeout(()=>{u(null)},5e3)),console.log("handleProjectUpdated called, about to refresh data..."),o(!1),n(null),sc(v=>typeof v=="string"&&v.includes("Project"),void 0,{revalidate:!0}),sc("/api/resource/Project"),sc("Project"),t?(console.log("Calling onProjectsChange to refresh data immediately"),t()):console.log("onProjectsChange is not available"),setTimeout(()=>{t&&(console.log("Calling onProjectsChange again as backup"),t())},100)},g=()=>{u(null),t&&t()},x=N.useMemo(()=>[...e].sort((v,T)=>{const _=new Date(v.modified||v.creation||0);return new Date(T.modified||T.creation||0).getTime()-_.getTime()}),[e]),b=v=>{switch(v){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},j=v=>v?new Date(v).toLocaleDateString():"N/A";return r.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[r.jsx("div",{className:"overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progress"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Budget"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Deadline"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(v=>r.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer transition-colors ${c===v.name?"bg-green-50 border-l-4 border-green-400":""}`,onClick:()=>h(v),children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:r.jsx("div",{className:"h-10 w-10 rounded-lg bg-gray-200 flex items-center justify-center",children:r.jsx("span",{className:"text-sm font-bold text-gray-600",children:v.project_name.charAt(0).toUpperCase()})})}),r.jsxs("div",{className:"ml-4",style:{maxWidth:"300px"},children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 cursor-help",title:v.project_name,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:v.project_name}),r.jsx("div",{className:"text-sm text-gray-500",children:v.project_type||"N/A"})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${b(v.status)}`,children:v.status||"Open"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${v.percent_complete||0}%`}})}),r.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[v.percent_complete||0,"%"]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Ao(v.estimated_costing)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:j(v.expected_end_date)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",onClick:T=>T.stopPropagation(),children:r.jsx(IE,{project:v,onProjectUpdated:p,onProjectDeleted:g,onCloseDrawer:f})})]},v.name))})]})}),r.jsx(VE,{project:s,isOpen:i,onClose:f})]})},_9=({projects:e,onFilteredProjectsChange:t,viewMode:s,onViewModeChange:n})=>{var j;const[i,o]=ae.useState({searchText:"",selectedTeam:"",selectedStatus:""}),[c,u]=ae.useState(!1),{data:h=[]}=pS(),f=[{value:"",label:"All Status"},{value:"Open",label:"Open"},{value:"Completed",label:"Completed"},{value:"Cancelled",label:"Cancelled"}],p=ae.useMemo(()=>{const v=[{value:"",label:"All Teams"},...h.map(T=>({value:T.name,label:T.team||T.name}))];return[v[0],...v.slice(1).sort((T,_)=>T.label.localeCompare(_.label))]},[h]);ae.useEffect(()=>{let v=[...e];if(i.searchText.trim()){const T=i.searchText.toLowerCase();v=v.filter(_=>_.project_name.toLowerCase().includes(T)||_.name.toLowerCase().includes(T))}i.selectedTeam&&(v=v.filter(T=>(T.team||"")===i.selectedTeam)),i.selectedStatus&&(v=v.filter(T=>T.status===i.selectedStatus)),t(v)},[i.searchText,i.selectedTeam,i.selectedStatus,e]);const g=(v,T)=>{o(_=>oe(L({},_),{[v]:T}))},x=()=>{o({searchText:"",selectedTeam:"",selectedStatus:""})},b=i.searchText||i.selectedTeam||i.selectedStatus;return r.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-4",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[r.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(lc,{className:"h-4 w-4 text-gray-400"})}),r.jsx("input",{type:"text",value:i.searchText,onChange:v=>g("searchText",v.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Search projects by name..."})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>u(!c),className:`inline-flex items-center px-3 py-2 border rounded-md text-sm font-medium bg-white hover:bg-gray-50 ${b?"border-blue-500 text-blue-700 bg-blue-50":"border-gray-300 text-gray-700"}`,children:[r.jsx(dd,{className:"mr-2 h-4 w-4"}),"Bộ lọc",b&&r.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[i.selectedTeam,i.selectedStatus].filter(Boolean).length})]}),c&&r.jsx("div",{className:"absolute top-full left-0 mt-2 w-80 bg-white border border-gray-200 rounded-md shadow-lg z-10",children:r.jsxs("div",{className:"p-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Filters"}),b&&r.jsx("button",{onClick:x,className:"text-sm text-blue-600 hover:text-blue-800",children:"Clear all"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team"}),r.jsx("select",{value:i.selectedTeam,onChange:v=>g("selectedTeam",v.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:h.length===0,children:p.map(v=>r.jsx("option",{value:v.value,children:v.label},v.value))}),h.length===0&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No teams available"}),h.length>0&&e.filter(v=>v.team).length===0&&r.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"Projects haven't been assigned to teams yet"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsx("select",{value:i.selectedStatus,onChange:v=>g("selectedStatus",v.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:f.map(v=>r.jsx("option",{value:v.value,children:v.label},v.value))})]})]})})]}),r.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 border border-gray-200 rounded-lg p-1",children:[r.jsx("button",{onClick:()=>n("grid"),className:`p-2 rounded-md transition-colors ${s==="grid"?"bg-white text-blue-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,title:"Grid view",children:r.jsx(C4,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>n("list"),className:`p-2 rounded-md transition-colors ${s==="list"?"bg-white text-blue-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,title:"List view",children:r.jsx(M4,{className:"h-4 w-4"})})]})]}),b&&r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[r.jsx("span",{children:"Active filters:"}),r.jsxs("div",{className:"flex space-x-1",children:[i.selectedTeam&&r.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Team: ",(j=p.find(v=>v.value===i.selectedTeam))==null?void 0:j.label,r.jsx("button",{onClick:()=>g("selectedTeam",""),className:"ml-1 text-blue-600 hover:text-blue-800",children:"×"})]}),i.selectedStatus&&r.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Status: ",i.selectedStatus,r.jsx("button",{onClick:()=>g("selectedStatus",""),className:"ml-1 text-green-600 hover:text-green-800",children:"×"})]})]})]})]}),c&&r.jsx("div",{className:"fixed inset-0 z-5",onClick:()=>u(!1)})]})},T9=({onProjectCreated:e})=>{const[t,s]=N.useState(!1),{createProject:n,isLoading:i}=LL(),{register:o,control:c,handleSubmit:u,reset:h,formState:{errors:f,isSubmitting:p}}=id({defaultValues:{status:"Open",priority:"Medium"}}),g=x=>we(null,null,function*(){try{yield n(x),h(),s(!1),sc(b=>typeof b=="string"&&b.includes("Project"),void 0,{revalidate:!0}),gs.success("Project created successfully"),e&&e()}catch(b){let j="Create project failed";if(b!=null&&b._server_messages)try{const v=JSON.parse(b._server_messages);Array.isArray(v)&&v.length>0&&(j=JSON.parse(v[0]).message||j)}catch(v){console.error("Parse error messages failed:",v)}else b!=null&&b.message&&(j=b.message);gs.error("Create project failed",{description:j}),console.error("Error creating project:",b)}});return r.jsxs(bn,{open:t,onOpenChange:s,children:[r.jsx(QH,{asChild:!0,children:r.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[r.jsx(gr,{className:"mr-2 h-4 w-4"}),"New Project"]})}),r.jsx(vn,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:r.jsxs("form",{onSubmit:u(g),children:[r.jsxs(wn,{children:[r.jsx(jn,{children:"Create New Project"}),r.jsx(jd,{children:"Fill in the project details. Fields marked with * are required."})]}),r.jsxs("div",{className:"grid gap-4 py-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsxs($e,{htmlFor:"project_name",children:["Project Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx($t,oe(L({id:"project_name"},o("project_name",{required:"Project name is required",maxLength:{value:100,message:"Project name cannot exceed 100 characters"}})),{placeholder:"Enter project name"})),f.project_name&&r.jsx("span",{className:"text-red-500 text-sm",children:f.project_name.message})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx($e,{children:"Customer"}),r.jsx(Ta,{name:"customer",control:c,render:({field:x})=>r.jsx(Ca,{doctype:"Customer",value:x.value||"",onChange:x.onChange,placeholder:"Select customer...",displayField:"customer_name",valueField:"name",className:"w-full"})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx($e,{children:"Project Type"}),r.jsx(Ta,{name:"project_type",control:c,render:({field:x})=>r.jsx(Ca,{doctype:"Project Type",value:x.value||"",onChange:x.onChange,placeholder:"Select type...",className:"w-full"})})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsxs($e,{children:["Status ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",oe(L({},o("status",{required:"Status is required"})),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[r.jsx("option",{value:"Open",children:"Open"}),r.jsx("option",{value:"Completed",children:"Completed"}),r.jsx("option",{value:"Cancelled",children:"Cancelled"})]}))]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx($e,{children:"Priority"}),r.jsxs("select",oe(L({},o("priority")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[r.jsx("option",{value:"",children:"Select priority..."}),r.jsx("option",{value:"Low",children:"Low"}),r.jsx("option",{value:"Medium",children:"Medium"}),r.jsx("option",{value:"High",children:"High"}),r.jsx("option",{value:"Critical",children:"Critical"})]}))]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx($e,{children:"Team"}),r.jsx(Ta,{name:"team",control:c,render:({field:x})=>r.jsx(Ca,{doctype:"Team",value:x.value||"",onChange:x.onChange,placeholder:"Select team...",className:"w-full"})})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx($e,{children:"Company"}),r.jsx(Ta,{name:"company",control:c,render:({field:x})=>r.jsx(Ca,{doctype:"Company",value:x.value||"",onChange:x.onChange,placeholder:"Select company...",className:"w-full"})})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx($e,{children:"Cost Center"}),r.jsx(Ta,{name:"cost_center",control:c,render:({field:x})=>r.jsx(Ca,{doctype:"Cost Center",value:x.value||"",onChange:x.onChange,placeholder:"Select cost center...",displayField:"cost_center_name",valueField:"name",className:"w-full"})})]})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx($e,{children:"Project Template"}),r.jsx(Ta,{name:"project_template",control:c,render:({field:x})=>r.jsx(Ca,{doctype:"Project Template",value:x.value||"",onChange:x.onChange,placeholder:"Select project template...",className:"w-full"})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx($e,{children:"Expected Start Date"}),r.jsx($t,L({type:"date"},o("expected_start_date")))]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx($e,{children:"Expected End Date"}),r.jsx($t,L({type:"date"},o("expected_end_date")))]})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx($e,{children:"Notes"}),r.jsx("textarea",oe(L({},o("notes")),{placeholder:"Enter project notes...",rows:3,className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"}))]})]}),r.jsxs(Pn,{children:[r.jsx(JH,{asChild:!0,children:r.jsx(Je,{type:"button",variant:"outline",children:"Cancel"})}),r.jsx(Je,{type:"submit",disabled:p||i,className:"bg-blue-600 hover:bg-blue-700",children:p||i?"Creating...":"Create Project"})]})]})})]})},S9=()=>{const[e,t]=ae.useState("list"),[s,n]=ae.useState([]),{data:i=[],isLoading:o,error:c,mutate:u}=PL();ae.useEffect(()=>{n(i)},[i]);const h=()=>we(null,null,function*(){u&&(yield u())}),f=ae.useCallback(p=>{n(p)},[]);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Projects"}),r.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Showing ",s.length," of ",i.length," projects"]})]}),r.jsx("div",{className:"mt-4 flex md:mt-0 md:ml-4",children:r.jsx(T9,{onProjectCreated:h})})]}),!o&&!c&&i.length>0&&r.jsx(_9,{projects:i,onFilteredProjectsChange:f,viewMode:e,onViewModeChange:t}),o?r.jsx("div",{className:"flex justify-center items-center p-8",children:r.jsx("div",{className:"text-gray-500",children:"Loading projects..."})}):c?r.jsx("div",{className:"flex flex-col justify-center items-center p-8 bg-red-50 rounded-lg border border-red-200",children:r.jsxs("div",{className:"text-red-700 text-center",children:[r.jsx("p",{className:"text-lg font-medium mb-2",children:"Error loading projects"}),r.jsx("p",{className:"text-sm mb-2",children:c.message}),c.message.includes("PermissionError")&&r.jsxs("div",{className:"text-sm text-red-600 bg-red-100 p-3 rounded mt-2",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Permission Issue:"})," You don't have access to view projects."]}),r.jsx("p",{children:"Please contact your system administrator to:"}),r.jsxs("ul",{className:"list-disc list-inside mt-1",children:[r.jsx("li",{children:'Grant you "Read" permission for Project doctype'}),r.jsx("li",{children:"Add you to projects as a team member"}),r.jsx("li",{children:"Make you the owner of projects"})]})]})]})}):i.length===0?r.jsx("div",{className:"flex flex-col justify-center items-center p-8 bg-white rounded-lg border border-gray-200",children:r.jsxs("div",{className:"text-gray-500 text-center",children:[r.jsx("p",{className:"text-lg font-medium mb-2",children:"No projects found"}),r.jsx("p",{className:"text-sm",children:"You are not currently participating in any projects."}),r.jsx("p",{className:"text-sm",children:"Create a new project or ask to be added to an existing one."})]})}):s.length===0?r.jsx("div",{className:"flex flex-col justify-center items-center p-8 bg-white rounded-lg border border-gray-200",children:r.jsxs("div",{className:"text-gray-500 text-center",children:[r.jsx("p",{className:"text-lg font-medium mb-2",children:"No projects match your filters"}),r.jsx("p",{className:"text-sm",children:"Try adjusting your search criteria or clear the filters."})]})}):r.jsx(r.Fragment,{children:e==="grid"?r.jsx(j9,{projects:s,onProjectsChange:h}):r.jsx(N9,{projects:s,onProjectsChange:h})})]})},qE=({team:e})=>{var k,B;const{data:t,isLoading:s,error:n}=Ot("Team",e),i=(t==null?void 0:t.team_member)||[],{currentUser:o}=An(),c=o==="Administrator",{data:u,isLoading:h,error:f}=Nt("User",{fields:["name","full_name","user_image","first_name","last_name","email"],limit:0}),{simpleTeamData:p,isLoading:g}=ZL(),x=!n||!((k=n.message)!=null&&k.includes("PermissionError")),{allTasks:b,allSubTasks:j,isLoading:v,error:T}=KL(),{todos:_,isLoading:R,error:S}=YL(),C=N.useMemo(()=>{const F=[];return b.forEach(O=>{const X=_==null?void 0:_.find(I=>I.reference_type==="Task"&&I.reference_name===O.name);F.push({id:O.name,title:O.subject||"Untitled Task",description:O.description||"No description available",project:O.project||"Unknown Project",assignee:(X==null?void 0:X.allocated_to)||O.completed_by||O.owner||"Unknown",status:O.status||"Open",priority:O.priority||"Medium",dueDate:O.exp_end_date||new Date().toISOString().split("T")[0],labels:[O.type||"Task"],todoId:(X==null?void 0:X.name)||"",referenceName:O.name,referenceType:"Task",type:"Task",taskProgress:O.progress,expectedTime:O.expected_time,actualTime:0,startDate:O.exp_start_date,endDate:O.exp_end_date})}),j.forEach(O=>{const X=_==null?void 0:_.find(I=>I.reference_type==="SubTask"&&I.reference_name===O.name);F.push({id:O.name,title:O.subject||"Untitled SubTask",description:O.description||"No description available",project:"Unknown Project",assignee:(X==null?void 0:X.allocated_to)||O.assigned_to||O.owner||"Unknown",status:O.status||"Open",priority:"Medium",dueDate:O.end_date||new Date().toISOString().split("T")[0],labels:["SubTask"],todoId:(X==null?void 0:X.name)||"",referenceName:O.name,referenceType:"SubTask",type:"SubTask",parentTask:O.task,startDate:O.start_date,endDate:O.end_date})}),F.sort((O,X)=>new Date(X.dueDate).getTime()-new Date(O.dueDate).getTime())},[b,j,_]);return{teamMembersData:N.useMemo(()=>{var F;if(c&&u)return u.map(O=>{const X=C.filter(Q=>Q.assignee===O.name),I=O.user_image||`https://placehold.co/40x40/e2e8f0/475569?text=${(O.first_name||O.full_name||"U").charAt(0).toUpperCase()}`;return{id:O.name||"",name:O.full_name||O.first_name||O.name||"Unknown User",role:O.name===o?"Leader":"Member",taskCount:X.length,avatar:I,tasks:X,user:O}});if(!i||(F=n==null?void 0:n.message)!=null&&F.includes("PermissionError")){if(p&&p.length>0)return p.map(O=>{const X=C.filter(I=>I.assignee===O.id);return{id:O.id,name:O.name,role:O.role,taskCount:X.length,avatar:O.avatar,tasks:X,user:u==null?void 0:u.find(I=>I.name===O.id)}});if(u&&u.length>0){const O=u[0],X=C.filter(I=>I.assignee===(O==null?void 0:O.name));return[{id:(O==null?void 0:O.name)||"unknown",name:(O==null?void 0:O.full_name)||(O==null?void 0:O.first_name)||"Current User",role:"Member",taskCount:X.length,avatar:(O==null?void 0:O.user_image)||`https://placehold.co/40x40/e2e8f0/475569?text=${((O==null?void 0:O.first_name)||"U").charAt(0).toUpperCase()}`,tasks:X,user:O}]}return[]}return u?i.map(O=>{const X=u.find(W=>W.name===O.user),I=C.filter(W=>W.assignee===O.user),Q=(X==null?void 0:X.user_image)||`https://placehold.co/40x40/e2e8f0/475569?text=${((X==null?void 0:X.first_name)||(X==null?void 0:X.full_name)||"U").charAt(0).toUpperCase()}`;return{id:O.user||"",name:(X==null?void 0:X.full_name)||(X==null?void 0:X.first_name)||O.user||"Unknown User",role:O.role||"Member",taskCount:I.length,avatar:Q,tasks:I,user:X}}):[]},[i,u,C,n,p,c,o]),allTransformedTasks:C,isLoading:s||h||v||g||R,error:n&&!((B=n.message)!=null&&B.includes("PermissionError"))?n:f||T||S,teamMembers:i,users:u,hasTeamMemberPermission:x}},C9=({task:e,isOpen:t,onClose:s,onSuccess:n,isLeader:i})=>{const o=(e==null?void 0:e.type)==="SubTask",{updateTask:c,isLoading:u,error:h}=xS(),{assignTask:f,unassignTask:p}=yS(),{updateTaskProgress:g}=NS(),{updateTaskProgressByStatus:x}=jS(),{updateSubTask:b,isLoading:j,error:v}=wS(),{assignSubTask:T,unassignSubTask:_}=Sy(),R=u||j,S=h||v,{data:C}=Ot("Project",(e==null?void 0:e.project)||"",{enabled:!!(e!=null&&e.project)&&!o}),{data:D}=Nt("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=",o?"SubTask":"Task"],["reference_name","=",(e==null?void 0:e.referenceName)||""]]}),{data:k}=Nt("SubTask",{fields:["name"],filters:[["task","=",(e==null?void 0:e.referenceName)||""]],limit:1}),[B,F]=N.useState({subject:"",status:"Open",priority:"Medium",start_date:"",end_date:"",progress:0,description:"",assign_to:""}),[O,X]=N.useState(!1);N.useEffect(()=>{var Y;if(e){const H=((Y=D==null?void 0:D[0])==null?void 0:Y.allocated_to)||"";F({subject:e.title||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.startDate?e.startDate.split(" ")[0]:"",end_date:e.endDate?e.endDate.split(" ")[0]:"",progress:e.taskProgress||0,description:e.description||"",assign_to:H})}},[e,D]),N.useEffect(()=>{o||X(!!(k&&k.length>0))},[k,o]);const I=(Y,H)=>{F(z=>oe(L({},z),{[Y]:H}))},Q=Y=>we(null,null,function*(){var H,Z,te;if(Y.preventDefault(),!!e){if(B.start_date&&B.end_date){const ue=new Date(B.start_date);if(new Date(B.end_date)<ue){gs.error("End date cannot be earlier than start date");return}}if(!o&&B.end_date&&(C!=null&&C.expected_end_date)){const ue=new Date(B.end_date),M=new Date(C.expected_end_date);if(ue>M){gs.error(`Task end date cannot be after project end date (${C.expected_end_date})`);return}}try{const ue=((H=D==null?void 0:D[0])==null?void 0:H.allocated_to)||"",M=B.assign_to;if(o){const z=B,{assign_to:ie}=z,ne=Oe(z,["assign_to"]),V={subject:ne.subject,status:ne.status,start_date:ne.start_date,end_date:ne.end_date,description:ne.description};if(yield b(e.referenceName,V),ue&&ue!==M){const J=D==null?void 0:D.find(xe=>xe.allocated_to===ue);J&&(yield _(J.name))}M&&M!==ue&&(yield T(e.referenceName,M)),V.status,e.status,gs.success("SubTask updated successfully",{description:`SubTask "${B.subject}" has been updated.`})}else{const ie=B.progress!==(e.taskProgress||0),ne=B.status!==e.status,V={subject:B.subject,status:B.status,priority:B.priority,exp_start_date:B.start_date,exp_end_date:B.end_date,progress:B.progress,description:B.description};if(O&&ie?yield g(e.referenceName,B.progress):ne&&(B.status==="Completed"||B.status==="Cancelled")?yield x(e.referenceName,B.status):yield c(e.referenceName,V),ue!==M){if(ue&&(D!=null&&D[0]))try{yield p(D[0].name)}catch(J){console.error("Error deleting old ToDo:",J)}if(M)try{yield f(e.referenceName,B.subject,M,B.priority)}catch(J){console.error("Error creating new ToDo:",J)}}gs.success("Task updated successfully",{description:`Task "${B.subject}" has been updated.`})}n&&n(),s()}catch(ue){console.error("Error updating task/subtask:",ue);let M=`Failed to update ${o?"subtask":"task"}`;(Z=ue==null?void 0:ue.message)!=null&&Z.includes("modified")?M=`The ${o?"subtask":"task"} has been modified by someone else. Please close and reopen to get the latest version.`:(te=ue==null?void 0:ue.message)!=null&&te.includes("permission")?M=`You do not have permission to update this ${o?"subtask":"task"}.`:ue!=null&&ue.message&&(M=ue.message),gs.error(`Failed to update ${o?"subtask":"task"}`,{description:M})}}}),W=()=>{var Y;if(e){const H=((Y=D==null?void 0:D[0])==null?void 0:Y.allocated_to)||"";F({subject:e.title||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.startDate?e.startDate.split(" ")[0]:"",end_date:e.endDate?e.endDate.split(" ")[0]:"",progress:e.taskProgress||0,description:e.description||"",assign_to:H})}s()};return e?r.jsx(bn,{open:t,onOpenChange:s,children:r.jsxs(vn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[r.jsx(wn,{children:r.jsxs(jn,{children:["Edit ",o?"SubTask":"Task"]})}),r.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"subject",children:"Subject *"}),r.jsx($t,{id:"subject",value:B.subject,onChange:Y=>I("subject",Y.target.value),required:!0,placeholder:`Enter ${o?"subtask":"task"} subject`})]}),r.jsxs("div",{className:`grid ${o?"grid-cols-1":"grid-cols-2"} gap-4`,children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"status",children:"Status"}),r.jsxs("select",{id:"status",value:B.status,onChange:Y=>I("status",Y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"Open",children:"Open"}),r.jsx("option",{value:"Working",children:"Working"}),r.jsx("option",{value:"Pending Review",children:"Pending Review"}),!o&&r.jsx("option",{value:"Overdue",children:"Overdue"}),i&&r.jsx("option",{value:"Completed",children:"Completed"}),i&&r.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),!o&&r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"priority",children:"Priority"}),r.jsxs("select",{id:"priority",value:B.priority,onChange:Y=>I("priority",Y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"Low",children:"Low"}),r.jsx("option",{value:"Medium",children:"Medium"}),r.jsx("option",{value:"High",children:"High"}),r.jsx("option",{value:"Urgent",children:"Urgent"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"start_date",children:o?"Start Date":"Expected Start Date"}),r.jsx($t,{id:"start_date",type:"date",value:B.start_date,onChange:Y=>I("start_date",Y.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"end_date",children:o?"End Date":"Expected End Date"}),r.jsx($t,{id:"end_date",type:"date",value:B.end_date,onChange:Y=>I("end_date",Y.target.value),max:!o&&(C!=null&&C.expected_end_date)?C.expected_end_date:void 0}),!o&&(C==null?void 0:C.expected_end_date)&&r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Must be before project end date: ",C.expected_end_date]})]})]}),!o&&r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"progress",children:"Progress (%)"}),r.jsx($t,{id:"progress",type:"number",min:"0",max:"100",value:B.progress,onChange:Y=>I("progress",parseInt(Y.target.value)||0),placeholder:"0",disabled:O}),O?r.jsxs("div",{className:"text-sm text-blue-600 bg-blue-50 p-2 rounded",children:[r.jsx("strong",{children:"🔄 Smart Progress Mode:"}),r.jsxs("ul",{className:"mt-1 ml-4 list-disc text-xs",children:[r.jsx("li",{children:"Progress is automatically calculated from subtasks"}),r.jsx("li",{children:"Only assignee can manually override progress"}),r.jsx("li",{children:"Project leaders can set progress via status changes"})]})]}):r.jsxs("div",{className:"text-sm text-green-600 bg-green-50 p-2 rounded",children:[r.jsx("strong",{children:"✏️ Manual Progress Mode:"}),r.jsx("span",{className:"text-xs",children:" Progress can be updated manually by anyone with edit permission"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx($e,{htmlFor:"description",children:"Description"}),r.jsx("textarea",{id:"description",value:B.description,onChange:Y=>I("description",Y.target.value),placeholder:`Enter ${o?"subtask":"task"} description`,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),r.jsx("div",{className:"bg-gray-50 p-3 rounded-md",children:r.jsxs("p",{className:"text-sm text-gray-600",children:[r.jsx("strong",{children:"Project:"})," ",e.project]})}),S&&r.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:r.jsxs("p",{children:[r.jsx("strong",{children:"Error:"})," ",S.message||`Failed to update ${o?"subtask":"task"}`]})}),r.jsxs(Pn,{className:"flex gap-2",children:[r.jsx(Je,{type:"button",variant:"outline",onClick:W,children:"Cancel"}),r.jsx(Je,{type:"submit",disabled:R,children:R?"Updating...":`Update ${o?"SubTask":"Task"}`})]})]})]})}):null},E9=({role:e,currentView:t,setCurrentView:s})=>{const n=An().currentUser==="Administrator";return r.jsx("header",{className:"mb-8",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{children:r.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Trình Quản Lý Công Việc"})}),(e==="Leader"||n)&&r.jsxs("div",{className:"inline-flex bg-slate-200 rounded-lg p-1",children:[r.jsx("button",{onClick:()=>s("user"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-all ${t==="user"?"bg-white text-slate-900 shadow-sm":"text-slate-600"}`,children:"User"}),e==="Leader"&&r.jsx("button",{onClick:()=>s("leader"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-all ${t==="leader"?"bg-white text-slate-900 shadow-sm":"text-slate-600"}`,children:"Leader"}),n&&r.jsx("button",{onClick:()=>s("admin"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-all ${t==="admin"?"bg-white text-slate-900 shadow-sm":"text-slate-600"}`,children:"Admin"})]})]})})},cb=e=>{switch(e){case"Working":return"text-orange-800 bg-orange-100";case"Open":return"text-sky-800 bg-sky-100";case"Completed":return"text-emerald-800 bg-emerald-100";case"Cancelled":return"text-red-800 bg-red-100";default:return"text-slate-800 bg-slate-100"}},WE=e=>{switch(e){case"High":return"text-red-800 bg-red-100";case"Medium":return"text-amber-800 bg-amber-100";case"Low":return"text-green-800 bg-green-100";default:return"text-slate-800 bg-slate-100"}},Mu=({task:e,onClick:t,formatDate:s,barClass:n="bg-indigo-600",completed:i=!1})=>{var o,c;return r.jsxs("div",{className:`kanban-card bg-white p-4 rounded-lg shadow-sm border border-slate-200 cursor-pointer ${i?"opacity-70":""}`,onClick:t,children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("p",{className:`font-semibold text-slate-900 flex-1 ${i?"line-through":""}`,children:e.title}),r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ml-2 ${e.type==="Task"?"text-blue-800 bg-blue-100":"text-purple-800 bg-purple-100"}`,children:e.type})]}),r.jsx("p",{className:"text-xs text-slate-500 mb-3",children:e.project}),r.jsxs("div",{className:"mb-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"text-xs text-slate-600",children:"Tiến độ"}),r.jsx("span",{className:"text-xs text-slate-600 font-medium",children:i?"100%":`${(o=e.taskProgress)!=null?o:0}%`})]}),r.jsx("div",{className:"bg-slate-200 rounded-full h-1.5",children:r.jsx("div",{className:`${i?"bg-emerald-500":n} h-1.5 rounded-full`,style:{width:i?"100%":`${(c=e.taskProgress)!=null?c:0}%`}})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:`priority-badge ${WE(e.priority)}`,children:e.priority}),r.jsx("span",{className:"text-xs text-slate-500",children:s(e.dueDate).formatted})]})]})},k9=["Open","Working","Overdue","Pending Review","Completed"],D9=["Low","Medium","High","Urgent"],A9=["Task","SubTask"],Q_=e=>e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),O9=({isLoading:e,handleRefresh:t,activeTab:s,setActiveTab:n,transformedTasks:i,formatDate:o,handleTaskClick:c})=>{const[u,h]=N.useState(""),[f,p]=N.useState(""),[g,x]=N.useState(""),[b,j]=N.useState(""),[v,T]=N.useState(""),[_,R]=N.useState(!1),[S,C]=N.useState(""),[D,k]=N.useState(""),B=N.useMemo(()=>{const W=new Set;return i.forEach(Y=>Y.project&&W.add(Y.project)),Array.from(W).sort((Y,H)=>Y.localeCompare(H))},[i]),F=N.useMemo(()=>{const W=Q_(u.trim()),Y=H=>{if(!H)return!0;const z=new Date(H);if(Number.isNaN(z.getTime()))return!0;if(S){const Z=new Date(S);if(z<new Date(Z.getFullYear(),Z.getMonth(),Z.getDate()))return!1}if(D){const Z=new Date(D),te=new Date(Z.getFullYear(),Z.getMonth(),Z.getDate(),23,59,59,999);if(z>te)return!1}return!0};return(i||[]).filter(H=>!(W&&!Q_(`${H.title||""} ${H.project||""} ${H.status||""} ${H.priority||""}`).includes(W)||f&&H.status!==f||g&&H.priority!==g||b&&H.type!==b||v&&H.project!==v||_&&H.status!=="Overdue"&&!o(H.dueDate).isOverdue||!Y(H.dueDate)))},[u,f,g,b,v,_,S,D,i,o]),O=()=>{h(""),p(""),x(""),j(""),T(""),R(!1),C(""),k("")},X=W=>F.filter(Y=>Y.status===W).length,[I,Q]=N.useState(!1);return r.jsx("div",{className:"space-y-8",children:r.jsxs("section",{children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Việc của tôi"}),r.jsxs("button",{onClick:t,disabled:e,className:"mt-4 sm:mt-0 flex items-center justify-center gap-2 bg-indigo-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-indigo-700 transition-all shadow-sm disabled:opacity-50",children:[e?r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"currentColor",d:"M12 20q-3.35 0-5.675-2.325T4 12t2.325-5.675T12 4q1.725 0 3.3.712T18 6.75V4h2v7h-7V9h4.2q-.8-1.4-2.187-2.2T12 6Q9.5 6 7.75 7.75T6 12t1.75 4.25T12 18q1.925 0 3.475-1.1T17.65 14h2.1q-.7 2.65-2.85 4.325T12 20"})}),e?"Đang tải...":"Làm mới"]})]}),r.jsx("div",{className:"mt-4 border-b border-slate-200",children:r.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[r.jsx("button",{onClick:()=>n("list"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${s==="list"?"border-indigo-500 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Danh sách"}),r.jsx("button",{onClick:()=>n("kanban"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${s==="kanban"?"border-indigo-500 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Bảng Kanban"}),r.jsx("button",{onClick:()=>n("calendar"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${s==="calendar"?"border-indigo-500 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Lịch"})]})}),r.jsxs("div",{className:"mt-4 bg-white border border-slate-200 p-4 rounded-xl shadow-sm",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3",children:[r.jsxs("div",{className:"relative w-full md:max-w-sm",children:[r.jsx("label",{className:"sr-only",children:"Tìm kiếm"}),r.jsx(lc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),r.jsx("input",{value:u,onChange:W=>h(W.target.value),placeholder:"Tìm theo tên, dự án, trạng thái...",className:"w-full rounded-lg border border-slate-300 pl-9 pr-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),r.jsxs("div",{className:"flex items-center gap-2 md:ml-auto",children:[r.jsxs("button",{onClick:()=>Q(W=>!W),className:"px-3 py-2 rounded-lg border border-slate-300 text-slate-700 hover:bg-slate-50 inline-flex items-center gap-2",children:[r.jsx(dd,{className:"h-4 w-4"}),"Bộ lọc"]}),r.jsx("button",{onClick:O,className:"px-3 py-2 rounded-lg border border-slate-300 text-slate-700 hover:bg-slate-50",children:"Xóa"})]})]}),I&&r.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-6 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Trạng thái"}),r.jsxs("select",{value:f,onChange:W=>p(W.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2",children:[r.jsx("option",{value:"",children:"Tất cả"}),k9.map(W=>r.jsx("option",{value:W,children:W},W))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Ưu tiên"}),r.jsxs("select",{value:g,onChange:W=>x(W.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2",children:[r.jsx("option",{value:"",children:"Tất cả"}),D9.map(W=>r.jsx("option",{value:W,children:W},W))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Loại"}),r.jsxs("select",{value:b,onChange:W=>j(W.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2",children:[r.jsx("option",{value:"",children:"Tất cả"}),A9.map(W=>r.jsx("option",{value:W,children:W},W))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Dự án"}),r.jsxs("select",{value:v,onChange:W=>T(W.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2",children:[r.jsx("option",{value:"",children:"Tất cả"}),B.map(W=>r.jsx("option",{value:W,children:W},W))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Hạn từ"}),r.jsx("input",{type:"date",value:S,onChange:W=>C(W.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Hạn đến"}),r.jsx("input",{type:"date",value:D,onChange:W=>k(W.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2"})]})]})]}),s==="list"&&r.jsx("div",{className:"mt-6 bg-white p-4 rounded-xl shadow-sm border border-slate-200",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm text-left",children:[r.jsx("thead",{className:"text-xs text-slate-500 uppercase bg-slate-100 rounded-t-lg",children:r.jsxs("tr",{children:[r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Tên công việc"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Loại"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Dự án"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Tiến độ"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Ngày hết hạn"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Ưu tiên"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Trạng thái"})]})}),r.jsx("tbody",{children:F.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-slate-500",children:e?"Đang tải...":"Không có công việc nào"})}):F.map(W=>r.jsxs("tr",{className:"bg-white border-b border-slate-200 hover:bg-slate-50 table-row transition-all cursor-pointer",onClick:()=>c(W),children:[r.jsxs("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-900 whitespace-nowrap",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[W.type==="SubTask"&&r.jsx("svg",{className:"w-4 h-4 text-slate-400",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M7.707 3.293a1 1 0 010 1.414L5.414 7H11a7 7 0 017 7v2a1 1 0 11-2 0v-2a5 5 0 00-5-5H5.414l2.293 2.293a1 1 0 11-1.414 1.414L2.586 7l3.707-3.707a1 1 0 011.414 0z",clipRule:"evenodd"})}),W.title]}),W.parentTask&&r.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["↳ Subtask của: ",W.parentTask]})]}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${W.type==="Task"?"text-blue-800 bg-blue-100":"text-purple-800 bg-purple-100"}`,children:W.type})}),r.jsx("td",{className:"px-6 py-4",children:W.project}),r.jsx("td",{className:"px-6 py-4",children:W.taskProgress!==void 0?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex-1 bg-slate-200 rounded-full h-2",children:r.jsx("div",{className:"bg-indigo-600 h-2 rounded-full transition-all duration-300",style:{width:`${W.taskProgress}%`}})}),r.jsxs("span",{className:"text-xs text-slate-600 font-medium min-w-[3rem]",children:[W.taskProgress,"%"]})]}):r.jsx("span",{className:"text-xs text-slate-400",children:"N/A"})}),r.jsx("td",{className:`px-6 py-4 ${o(W.dueDate).isOverdue?"text-red-600 font-medium":""}`,children:o(W.dueDate).display}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`priority-badge ${WE(W.priority)}`,children:W.priority})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`status-badge ${cb(W.status)}`,children:W.status})})]},W.id))})]})})}),s==="kanban"&&r.jsx("div",{className:"mt-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[r.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[r.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-sky-500"}),"Cần làm (",X("Open"),")"]}),r.jsx("div",{className:"space-y-4",children:F.filter(W=>W.status==="Open").map(W=>r.jsx(Mu,{task:W,onClick:()=>c(W),formatDate:o},W.id))})]}),r.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[r.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-orange-500"}),"Đang làm (",X("Working"),")"]}),r.jsx("div",{className:"space-y-4",children:F.filter(W=>W.status==="Working").map(W=>r.jsx(Mu,{task:W,onClick:()=>c(W),formatDate:o,barClass:"bg-orange-500"},W.id))})]}),r.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[r.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"}),"Trễ (",X("Overdue"),")"]}),r.jsx("div",{className:"space-y-4",children:F.filter(W=>W.status==="Overdue").map(W=>r.jsx(Mu,{task:W,onClick:()=>c(W),formatDate:o,barClass:"bg-orange-500"},W.id))})]}),r.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[r.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"}),"Review (",X("Pending Review"),")"]}),r.jsx("div",{className:"space-y-4",children:F.filter(W=>W.status==="Pending Review").map(W=>r.jsx(Mu,{task:W,onClick:()=>c(W),formatDate:o,barClass:"bg-orange-500"},W.id))})]}),r.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[r.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500"}),"Hoàn thành (",X("Completed"),")"]}),r.jsx("div",{className:"space-y-4",children:F.filter(W=>W.status==="Completed").map(W=>r.jsx(Mu,{task:W,onClick:()=>c(W),formatDate:o,completed:!0},W.id))})]})]})}),s==="calendar"&&r.jsx("div",{className:"mt-6 bg-white p-8 rounded-xl shadow-sm border border-slate-200",children:r.jsx("div",{className:"text-center text-slate-500",children:r.jsx("p",{children:"Giao diện lịch sẽ được phát triển trong tương lai"})})})]})})},R9=({teamDataError:e,teamMembersData:t,selectedMember:s,setSelectedMember:n,formatDate:i,handleTaskClick:o})=>{var W;const c=QL(),[u,h]=N.useState(""),[f,p]=N.useState(1),[g]=N.useState(5),[x,b]=N.useState(""),[j,v]=N.useState(""),[T,_]=N.useState(""),[R,S]=N.useState(1),[C]=N.useState(10),D=N.useMemo(()=>t.filter(Y=>Y.name.toLowerCase().includes(u.toLowerCase())||Y.id.toLowerCase().includes(u.toLowerCase())),[t,u]),k=N.useMemo(()=>{const Y=(f-1)*g;return D.slice(Y,Y+g)},[D,f,g]),B=Math.ceil(D.length/g),F=N.useMemo(()=>{if(!s)return[];const Y=t.find(H=>H.id===s);return Y?Y.tasks.filter(H=>{const z=H.title.toLowerCase().includes(x.toLowerCase())||H.description.toLowerCase().includes(x.toLowerCase())||H.project.toLowerCase().includes(x.toLowerCase()),Z=j===""||H.status===j,te=T===""||H.type===T;return z&&Z&&te}):[]},[s,t,x,j,T]),O=N.useMemo(()=>{const Y=(R-1)*C;return F.slice(Y,Y+C)},[F,R,C]),X=Math.ceil(F.length/C);ae.useEffect(()=>{S(1)},[x,j,T,s]),ae.useEffect(()=>{p(1)},[u]);const I=Y=>{p(Math.max(1,Math.min(Y,B)))},Q=Y=>{S(Math.max(1,Math.min(Y,X)))};return r.jsxs("div",{className:"space-y-8",children:[r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Dashboard Tổng Quan"}),r.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[r.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Tổng công việc"}),r.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-1",children:c.total})]}),r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[r.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Đang thực hiện"}),r.jsx("p",{className:"text-3xl font-bold text-orange-500 mt-1",children:c.working})]}),r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[r.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Hoàn thành"}),r.jsx("p",{className:"text-3xl font-bold text-emerald-500 mt-1",children:c.completed})]}),r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[r.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Trễ hạn"}),r.jsx("p",{className:"text-3xl font-bold text-red-500 mt-1",children:c.overdue})]})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Quản lý Nhóm"}),((W=e==null?void 0:e.message)==null?void 0:W.includes("PermissionError"))&&r.jsx("div",{className:"mt-4 bg-amber-50 border border-amber-200 rounded-md p-4",children:r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"h-5 w-5 text-amber-400",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-sm font-medium text-amber-800",children:"Quyền truy cập hạn chế"}),r.jsx("div",{className:"mt-2 text-sm text-amber-700",children:r.jsx("p",{children:"Không thể truy cập đầy đủ dữ liệu team members. Hiển thị dữ liệu cơ bản từ danh sách users."})})]})]})}),r.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-4 gap-5 items-start",children:[r.jsxs("div",{className:"lg:col-span-1 bg-white p-4 rounded-xl shadow-sm border border-slate-200",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsxs("h3",{className:"font-bold text-slate-800",children:["Thành viên nhóm (",D.length,")"]})}),r.jsx("div",{className:"mb-4",children:r.jsxs("div",{className:"relative",children:[r.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),r.jsx("input",{type:"text",placeholder:"Tìm kiếm thành viên...",value:u,onChange:Y=>h(Y.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"})]})}),r.jsx("ul",{className:"space-y-2 mb-4",children:k.map(Y=>r.jsx("li",{onClick:()=>n(Y.id),className:`member-item p-3 border rounded-lg hover:bg-slate-100 cursor-pointer transition-all ${s===Y.id?"active border-indigo-500 bg-indigo-50":"border-transparent"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:Y.avatar,alt:Y.name}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-semibold text-slate-900 truncate",children:Y.name}),r.jsxs("p",{className:"text-sm text-slate-500",children:[Y.taskCount," công việc"]}),r.jsx("p",{className:"text-xs text-slate-400",children:Y.role})]})]})},Y.id))}),B>1&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("button",{onClick:()=>I(f-1),disabled:f===1,className:"px-3 py-1 text-sm bg-slate-100 text-slate-700 rounded hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trước"}),r.jsxs("span",{className:"text-xs text-slate-500",children:["Trang ",f," / ",B]}),r.jsx("button",{onClick:()=>I(f+1),disabled:f===B,className:"px-3 py-1 text-sm bg-slate-100 text-slate-700 rounded hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})]}),r.jsx("div",{className:"lg:col-span-3 bg-white p-4 rounded-xl shadow-sm border border-slate-200 min-h-[300px]",children:s?(()=>{const Y=t.find(H=>H.id===s);return Y?r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"font-bold text-slate-800",children:["Công việc của ",Y.name]}),r.jsxs("span",{className:"text-sm text-slate-500",children:["(",F.length," công việc)"]})]}),r.jsxs("div",{className:"mb-6 space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),r.jsx("input",{type:"text",placeholder:"Tìm kiếm công việc...",value:x,onChange:H=>b(H.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("select",{value:j,onChange:H=>v(H.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm",children:[r.jsx("option",{value:"",children:"Tất cả trạng thái"}),r.jsx("option",{value:"Open",children:"Mở"}),r.jsx("option",{value:"Working",children:"Đang làm"}),r.jsx("option",{value:"Pending Review",children:"Chờ duyệt"}),r.jsx("option",{value:"Completed",children:"Hoàn thành"}),r.jsx("option",{value:"Cancelled",children:"Đã hủy"})]}),r.jsxs("select",{value:T,onChange:H=>_(H.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm",children:[r.jsx("option",{value:"",children:"Tất cả loại"}),r.jsx("option",{value:"Task",children:"Task"}),r.jsx("option",{value:"SubTask",children:"SubTask"})]}),(x||j||T)&&r.jsx("button",{onClick:()=>{b(""),v(""),_("")},className:"px-3 py-2 text-sm text-slate-600 hover:text-slate-800 underline",children:"Xóa bộ lọc"})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm text-left",children:[r.jsx("thead",{className:"text-xs text-slate-500 uppercase bg-slate-100",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2",children:"Tên công việc"}),r.jsx("th",{className:"px-4 py-2",children:"Loại"}),r.jsx("th",{className:"px-4 py-2",children:"Dự án"}),r.jsx("th",{className:"px-4 py-2",children:"Tiến độ"}),r.jsx("th",{className:"px-4 py-2",children:"Hạn chót"}),r.jsx("th",{className:"px-4 py-2",children:"Trạng thái"})]})}),r.jsx("tbody",{children:O.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"text-center py-8 text-slate-500",children:F.length===0&&Y.tasks.length>0?"Không tìm thấy công việc phù hợp với bộ lọc.":"Thành viên này chưa có công việc nào."})}):O.map(H=>r.jsxs("tr",{className:"border-b border-slate-200 cursor-pointer hover:bg-slate-50",onClick:()=>o(H),children:[r.jsxs("td",{className:"px-4 py-3 font-medium text-slate-900",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[H.type==="SubTask"&&r.jsx("svg",{className:"w-3 h-3 text-slate-400",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M7.707 3.293a1 1 0 010 1.414L5.414 7H11a7 7 0 017 7v2a1 1 0 11-2 0v-2a5 5 0 00-5-5H5.414l2.293 2.293a1 1 0 11-1.414 1.414L2.586 7l3.707-3.707a1 1 0 011.414 0z",clipRule:"evenodd"})}),r.jsx("span",{className:"truncate",children:H.title})]}),H.parentTask&&r.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["↳ Subtask của: ",H.parentTask]})]}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${H.type==="Task"?"text-blue-800 bg-blue-100":"text-purple-800 bg-purple-100"}`,children:H.type})}),r.jsx("td",{className:"px-4 py-3 truncate",children:H.project}),r.jsx("td",{className:"px-4 py-3",children:H.taskProgress!==void 0?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex-1 bg-slate-200 rounded-full h-1.5 min-w-[60px]",children:r.jsx("div",{className:"bg-indigo-600 h-1.5 rounded-full transition-all duration-300",style:{width:`${H.taskProgress}%`}})}),r.jsxs("span",{className:"text-xs text-slate-600 font-medium min-w-[2.5rem]",children:[H.taskProgress,"%"]})]}):r.jsx("span",{className:"text-xs text-slate-400",children:"N/A"})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:i(H.dueDate).display}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`status-badge ${cb(H.status)}`,children:H.status})})]},H.id))})]})}),X>1&&r.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-slate-500",children:["Hiển thị ",(R-1)*C+1," - ",Math.min(R*C,F.length)," trong số ",F.length," công việc"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>Q(R-1),disabled:R===1,className:"px-3 py-1 text-sm bg-slate-100 text-slate-700 rounded hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trước"}),r.jsxs("span",{className:"text-sm text-slate-600",children:[R," / ",X]}),r.jsx("button",{onClick:()=>Q(R+1),disabled:R===X,className:"px-3 py-1 text-sm bg-slate-100 text-slate-700 rounded hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})]})]}):r.jsx("div",{className:"flex items-center justify-center h-full text-slate-500",children:r.jsx("p",{children:"Không tìm thấy thành viên."})})})():r.jsx("div",{className:"flex items-center justify-center h-full text-slate-500",children:r.jsxs("div",{className:"text-center",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-slate-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),r.jsx("p",{children:"Chọn một thành viên để xem công việc của họ."})]})})})]})]})]})},M9=({teamDataError:e,teamMembersData:t,selectedMember:s,setSelectedMember:n,formatDate:i,handleTaskClick:o})=>{var jt;const{allTransformedTasks:c,isLoading:u}=qE({team:""}),{data:h}=Nt("Team",{fields:["name"],limit:0}),f=(h==null?void 0:h.map(Se=>Se.name).filter(Boolean))||[],{data:p}=Nt("Project",{fields:["name","project_name","team"],limit:0}),g=N.useMemo(()=>p?p.map(Fe=>Fe.team).filter(Boolean).filter((Fe,Ke,zt)=>zt.indexOf(Fe)===Ke):[],[p]),x=Ot("Team",f[0],f[0]?void 0:{disabled:!0}),b=Ot("Team",f[1],f[1]?void 0:{disabled:!0}),j=Ot("Team",f[2],f[2]?void 0:{disabled:!0}),v=Ot("Team",f[3],f[3]?void 0:{disabled:!0}),T=Ot("Team",f[4],f[4]?void 0:{disabled:!0}),_=Ot("Team",f[5],f[5]?void 0:{disabled:!0}),R=Ot("Team",f[6],f[6]?void 0:{disabled:!0}),S=Ot("Team",f[7],f[7]?void 0:{disabled:!0}),C=Ot("Team",f[8],f[8]?void 0:{disabled:!0}),D=Ot("Team",f[9],f[9]?void 0:{disabled:!0}),k=Ot("Team",f[10],f[10]?void 0:{disabled:!0}),B=Ot("Team",f[11],f[11]?void 0:{disabled:!0}),F=Ot("Team",f[12],f[12]?void 0:{disabled:!0}),O=Ot("Team",f[13],f[13]?void 0:{disabled:!0}),X=Ot("Team",f[14],f[14]?void 0:{disabled:!0}),I=Ot("Team",f[15],f[15]?void 0:{disabled:!0}),Q=Ot("Team",f[16],f[16]?void 0:{disabled:!0}),W=Ot("Team",f[17],f[17]?void 0:{disabled:!0}),Y=Ot("Team",f[18],f[18]?void 0:{disabled:!0}),H=Ot("Team",f[19],f[19]?void 0:{disabled:!0}),z=N.useMemo(()=>{const Se=[];return x.data&&Se.push(x.data),b.data&&Se.push(b.data),j.data&&Se.push(j.data),v.data&&Se.push(v.data),T.data&&Se.push(T.data),_.data&&Se.push(_.data),R.data&&Se.push(R.data),S.data&&Se.push(S.data),C.data&&Se.push(C.data),D.data&&Se.push(D.data),k.data&&Se.push(k.data),B.data&&Se.push(B.data),F.data&&Se.push(F.data),O.data&&Se.push(O.data),X.data&&Se.push(X.data),I.data&&Se.push(I.data),Q.data&&Se.push(Q.data),W.data&&Se.push(W.data),Y.data&&Se.push(Y.data),H.data&&Se.push(H.data),Se},[x.data,b.data,j.data,v.data,T.data,_.data,R.data,S.data,C.data,D.data,k.data,B.data,F.data,O.data,X.data,I.data,Q.data,W.data,Y.data,H.data]),Z=N.useMemo(()=>{const Se={},Fe=[];return z==null||z.forEach(Ke=>{var zt;if(Se[Ke.team||Ke.name]=[],Ke.teamlead){const Gt=t.find(Xt=>Xt.id===Ke.teamlead);Gt&&!Se[Ke.team||Ke.name].find(Xt=>Xt.id===Gt.id)&&Se[Ke.team||Ke.name].push(oe(L({},Gt),{role:"Leader"}))}(zt=Ke.team_member)==null||zt.forEach(Gt=>{const Xt=t.find(is=>is.id===Gt.user);Xt&&!Se[Ke.team||Ke.name].find(is=>is.id===Xt.id)&&Se[Ke.team||Ke.name].push(oe(L({},Xt),{role:Gt.role||"Member"}))})}),t.forEach(Ke=>{Object.values(Se).some(Gt=>Gt.find(Xt=>Xt.id===Ke.id))||Fe.push(Ke)}),Fe.length>0&&(Se["Không thuộc team nào"]=Fe),Se},[z,t]),[te,ue]=N.useState(""),[M,ie]=N.useState(null),[ne,V]=N.useState(null),[J,xe]=N.useState({}),fe=Se=>{xe(Fe=>oe(L({},Fe),{[Se]:!Fe[Se]}))},Ee=()=>{const Se=Object.values(J).every(Boolean),Fe={};Object.keys(Z).forEach(Ke=>{Fe[Ke]=!Se}),xe(Fe)},De=Se=>{n(Se),ie(null),V(null)},[Ie,re]=N.useState(""),[Re,He]=N.useState(""),[Xe,Le]=N.useState(""),[dt,Ge]=N.useState(1),[Be]=N.useState(10),ze=N.useMemo(()=>{const Se={};return Object.entries(Z).forEach(([Fe,Ke])=>{const zt=Ke.filter(Gt=>Gt.name.toLowerCase().includes(te.toLowerCase())||Gt.id.toLowerCase().includes(te.toLowerCase()));zt.length>0&&(Se[Fe]=zt)}),Se},[Z,te]),nt=N.useMemo(()=>s?c.filter(Se=>Se.assignee===s):[],[s,c]),K=N.useMemo(()=>{if(!M||s)return[];const Fe=(Z[M]||[]).map(Ke=>Ke.id);return c.filter(Ke=>Fe.includes(Ke.assignee))},[M,s,c,Z]),me=N.useMemo(()=>!ne||s||M?[]:c.filter(Se=>{const Fe=p==null?void 0:p.find(Ke=>Ke.name===Se.project||Ke.project_name===Se.project);return Fe&&Fe.team===ne}),[ne,s,M,c,p]),G=N.useMemo(()=>{let Se=c;s?Se=nt:M?Se=K:ne&&(Se=me);const Fe=Se.length,Ke=Se.filter(Xt=>{var is;return((is=Xt.status)==null?void 0:is.toLowerCase())==="working"}).length,zt=Se.filter(Xt=>{var is;return((is=Xt.status)==null?void 0:is.toLowerCase())==="completed"}).length,Gt=Se.filter(Xt=>{var rn;if(((rn=Xt.status)==null?void 0:rn.toLowerCase())==="completed")return!1;const is=new Date;return new Date(Xt.dueDate)<is}).length;return{total:Fe,working:Ke,completed:zt,overdue:Gt}},[s,nt,M,K,ne,me,c]),Te=N.useMemo(()=>{let Se=nt;return Ie&&(Se=Se.filter(Fe=>{var Ke,zt,Gt;return((Ke=Fe.title)==null?void 0:Ke.toLowerCase().includes(Ie.toLowerCase()))||((zt=Fe.subject)==null?void 0:zt.toLowerCase().includes(Ie.toLowerCase()))||((Gt=Fe.description)==null?void 0:Gt.toLowerCase().includes(Ie.toLowerCase()))})),Re&&(Se=Se.filter(Fe=>Fe.status===Re)),Xe&&(Se=Se.filter(Fe=>Fe.type===Xe||Fe.referenceType===Xe)),Se},[nt,Ie,Re,Xe]),Ue=N.useMemo(()=>{const Se=(dt-1)*Be;return Te.slice(Se,Se+Be)},[Te,dt,Be]),Pe=Math.ceil(Te.length/Be),We=Se=>{Ge(Math.max(1,Math.min(Se,Pe)))};ae.useEffect(()=>{Ge(1)},[s]),ae.useEffect(()=>{s&&(ie(null),V(null))},[s]),ae.useEffect(()=>{ne&&(n(null),ie(null))},[ne]),ae.useEffect(()=>{if(Object.keys(Z).length>0&&Object.keys(J).length===0){const Se={};Object.keys(Z).forEach(Fe=>{Se[Fe]=!0}),xe(Se)}},[Z,J]);const Ze=N.useMemo(()=>[...new Set(nt.map(Se=>Se.status).filter(Boolean))],[nt]),at=N.useMemo(()=>[...new Set(nt.map(Se=>Se.type||Se.referenceType).filter(Boolean))],[nt]);return e?r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),"Lỗi khi tải dữ liệu nhóm: ",e.message]})}):r.jsxs("div",{className:"admin-view",children:[r.jsxs("section",{className:"mb-8",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:s?`Thống kê công việc - ${((jt=t.find(Se=>Se.id===s))==null?void 0:jt.name)||s}`:M?`Thống kê công việc - Team ${M}`:ne?`Thống kê công việc - Project Team ${ne}`:"Dashboard Tổng Quan - Toàn hệ thống"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Lọc theo Project Team:"}),r.jsxs("select",{value:ne||"",onChange:Se=>{const Fe=Se.target.value||null;V(Fe),Fe&&(n(null),ie(null))},className:"px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm min-w-[200px]",children:[r.jsx("option",{value:"",children:"Tất cả Project Teams"}),g.map(Se=>r.jsx("option",{value:Se,children:Se},Se))]}),ne&&r.jsx("button",{onClick:()=>V(null),className:"px-2 py-1 text-xs bg-slate-100 text-slate-600 rounded hover:bg-slate-200 transition-colors",title:"Xóa bộ lọc",children:"✕"})]})]}),r.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[r.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Tổng công việc"}),r.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-1",children:G.total})]}),r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[r.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Đang thực hiện"}),r.jsx("p",{className:"text-3xl font-bold text-orange-500 mt-1",children:G.working})]}),r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[r.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Hoàn thành"}),r.jsx("p",{className:"text-3xl font-bold text-emerald-500 mt-1",children:G.completed})]}),r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[r.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Trễ hạn"}),r.jsx("p",{className:"text-3xl font-bold text-red-500 mt-1",children:G.overdue})]})]})]}),r.jsx("section",{children:r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200",children:[r.jsx("div",{className:"p-6 border-b border-slate-200",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"📋 Quản lý toàn bộ công việc (Admin)"}),r.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Xem và quản lý công việc của tất cả thành viên trong hệ thống"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("span",{className:"text-slate-500",children:"Tổng số thành viên:"}),r.jsx("span",{className:"font-semibold text-slate-700",children:t.length})]})]})}),r.jsxs("div",{className:"flex flex-col lg:flex-row h-[600px]",children:[r.jsxs("div",{className:"lg:w-1/3 border-r border-slate-200 p-4",children:[r.jsx("div",{className:"mb-4",children:r.jsxs("div",{className:"flex gap-2 mb-3",children:[r.jsx("input",{type:"text",placeholder:"🔍 Tìm kiếm thành viên...",value:te,onChange:Se=>{ue(Se.target.value)},className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),r.jsx("button",{onClick:Ee,className:"px-3 py-2 text-xs bg-slate-100 text-slate-700 border border-slate-300 rounded-lg hover:bg-slate-200 transition-colors whitespace-nowrap",children:Object.values(J).every(Boolean)?"📁 Thu gọn":"📂 Mở rộng"})]})}),r.jsx("div",{className:"space-y-4 mb-4 h-[400px] overflow-y-auto",children:u?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):Object.keys(ze).length===0?r.jsxs("div",{className:"text-center py-8 text-slate-500",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-slate-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),r.jsx("p",{children:"Không tìm thấy thành viên nào."})]}):Object.entries(ze).map(([Se,Fe])=>r.jsxs("div",{className:"mb-4",children:[r.jsx("div",{className:`flex items-center mb-2 px-2 py-2 rounded-lg cursor-pointer transition-colors ${M===Se&&!s?"bg-blue-100 border border-blue-300 hover:bg-blue-200":"bg-slate-100 hover:bg-slate-200"}`,onClick:()=>fe(Se),children:r.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[r.jsx("svg",{className:`w-4 h-4 text-slate-600 transition-transform ${J[Se]?"rotate-90":"rotate-0"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-sm font-semibold text-slate-700 uppercase tracking-wide",children:Se}),r.jsxs("p",{className:"text-xs text-slate-500",children:[Fe.length," thành viên"]})]}),r.jsx("button",{onClick:Ke=>{Ke.stopPropagation(),ie(Se),n(null)},className:`p-1.5 rounded-md transition-colors hover:bg-blue-200 ${M===Se&&!s?"bg-blue-200 text-blue-700":"text-slate-500 hover:text-blue-600"}`,title:"Xem thống kê team",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})}),J[Se]&&r.jsx("div",{className:"space-y-2 ml-6 animate-in slide-in-from-top-2 duration-200",children:Fe.map(Ke=>r.jsx("div",{onClick:()=>De(Ke.id),className:`p-3 rounded-lg border cursor-pointer transition-all ${s===Ke.id?"border-blue-500 bg-blue-50 shadow-sm":"border-slate-200 hover:border-slate-300 hover:bg-slate-50"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm font-medium",children:Ke.name.charAt(0).toUpperCase()}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h4",{className:"font-medium text-slate-800 truncate text-sm",children:Ke.name}),Ke.role==="Leader"&&r.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Leader"})]}),r.jsx("p",{className:"text-xs text-slate-500 truncate",children:Ke.id})]}),s===Ke.id&&r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})},Ke.id))})]},Se))})]}),r.jsx("div",{className:"lg:w-2/3 p-4 flex flex-col",children:s?(()=>{const Se=t.find(Fe=>Fe.id===s);return r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-medium",children:Se==null?void 0:Se.name.charAt(0).toUpperCase()}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-slate-800",children:Se==null?void 0:Se.name}),r.jsxs("p",{className:"text-sm text-slate-500",children:["Công việc được giao: ",nt.length]})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:[r.jsx("input",{type:"text",placeholder:"🔍 Tìm kiếm công việc...",value:Ie,onChange:Fe=>{re(Fe.target.value),Ge(1)},className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),r.jsxs("select",{value:Re,onChange:Fe=>{He(Fe.target.value),Ge(1)},className:"px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[r.jsx("option",{value:"",children:"Tất cả trạng thái"}),Ze.map(Fe=>r.jsx("option",{value:Fe,children:Fe},Fe))]}),r.jsxs("select",{value:Xe,onChange:Fe=>{Le(Fe.target.value),Ge(1)},className:"px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[r.jsx("option",{value:"",children:"Tất cả loại"}),at.map(Fe=>r.jsx("option",{value:Fe,children:Fe},Fe))]})]})]}),r.jsx("div",{className:"flex-1 overflow-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-slate-50 sticky top-0",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Công việc"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Dự án"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Loại"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Hạn chót"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Trạng thái"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:u?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-4 py-8 text-center",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),r.jsx("span",{className:"ml-2 text-slate-500",children:"Đang tải..."})]})})}):Ue.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-slate-500",children:Te.length===0&&nt.length===0?"Thành viên này chưa có công việc nào.":"Không tìm thấy công việc phù hợp với bộ lọc."})}):Ue.map(Fe=>r.jsxs("tr",{onClick:()=>o(Fe),className:"hover:bg-slate-50 cursor-pointer transition-colors",children:[r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"max-w-xs",children:[r.jsx("div",{className:"font-medium text-slate-900 truncate text-sm",children:Fe.title||Fe.subject}),Fe.description&&r.jsx("div",{className:"text-slate-500 text-xs truncate mt-1",children:Fe.description})]})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-sm text-slate-600 truncate block max-w-[100px]",children:Fe.project||Fe.project_name||"N/A"})}),r.jsx("td",{className:"px-4 py-3",children:Fe.type==="SubTask"||Fe.referenceType==="SubTask"?r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"SubTask"}):r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Task"})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:i(Fe.dueDate).display}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`status-badge ${cb(Fe.status)}`,children:Fe.status})})]},Fe.id))})]})}),Pe>1&&r.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-slate-500",children:["Hiển thị ",(dt-1)*Be+1," - ",Math.min(dt*Be,Te.length)," trong số ",Te.length," công việc"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>We(dt-1),disabled:dt===1,className:"px-3 py-1 text-sm bg-slate-100 text-slate-700 rounded hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trước"}),r.jsxs("span",{className:"text-sm text-slate-600",children:[dt," / ",Pe]}),r.jsx("button",{onClick:()=>We(dt+1),disabled:dt===Pe,className:"px-3 py-1 text-sm bg-slate-100 text-slate-700 rounded hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})]})]})})():r.jsx("div",{className:"flex items-center justify-center h-full text-slate-500",children:r.jsxs("div",{className:"text-center",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-slate-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),r.jsx("p",{children:"Chọn một thành viên để xem công việc của họ."})]})})})]})]})})]})},P9=({error:e})=>r.jsx(r.Fragment,{children:e&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:r.jsx("div",{className:"flex",children:r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading tasks"}),r.jsx("div",{className:"mt-2 text-sm text-red-700",children:r.jsx("p",{children:e.message||"Failed to load your tasks. Please try again."})})]})})})}),L9=()=>{const[e,t]=ae.useState("user"),[s,n]=ae.useState("list"),[i,o]=ae.useState(null),c=An().currentUser==="Administrator",[u,h]=ae.useState(!1),[f,p]=ae.useState(null),{tasks:g,subTasks:x,isLoading:b,error:j,mutate:v,currentUser:T}=XL(),{data:_}=Nt("Team",{filters:[["teamlead","=",T||""]]}),R=_&&_.length>0?"Leader":"Member";ae.useEffect(()=>{c?t("admin"):R==="Leader"&&t("leader")},[R,c]);const S=ae.useMemo(()=>{const W=[];return g.forEach(Y=>{var H;W.push({id:Y.name,title:Y.subject||"Untitled Task",description:Y.description||"No description available",project:Y.project_name||Y.project||"Unknown Project",assignee:T||"Unknown",status:Y.status||"Open",priority:Y.priority||"Medium",dueDate:Y.exp_end_date||new Date().toISOString().split("T")[0],labels:[Y.type||"Task"],todoId:((H=Y.assignedTodo)==null?void 0:H.name)||"",referenceName:Y.name,referenceType:"Task",type:"Task",taskProgress:Y.progress,expectedTime:Y.expected_time,actualTime:Y.actual_time,startDate:Y.exp_start_date,endDate:Y.exp_end_date})}),x.forEach(Y=>{var H;W.push({id:Y.name,title:Y.subject||"Untitled SubTask",description:Y.description||"No description available",project:Y.project_name||"Unknown Project",assignee:T||"Unknown",status:Y.status||"Open",priority:"Medium",dueDate:Y.end_date||new Date().toISOString().split("T")[0],labels:["SubTask"],todoId:((H=Y.assignedTodo)==null?void 0:H.name)||"",referenceName:Y.name,referenceType:"SubTask",type:"SubTask",parentTask:Y.task_subject,startDate:Y.start_date,endDate:Y.end_date})}),W.sort((Y,H)=>new Date(H.dueDate).getTime()-new Date(Y.dueDate).getTime())},[g,x,T]),{teamMembersData:C,error:D}=qE({team:_&&_.length>0?_[0].name:""}),{data:k}=Nt("User",{fields:["name","full_name","first_name","last_name"],filters:[["enabled","=",1]],limit:0}),B=ae.useMemo(()=>!c||!k?C:k.map(W=>({id:W.name,name:W.full_name||W.first_name||W.name,role:"Member",taskCount:0,avatar:"",tasks:[],user:W})),[c,k,C]),F=W=>{const Y=new Date(W),z=Y<new Date,Z=Y.toLocaleDateString("vi-VN");return{formatted:Z,isOverdue:z,display:z?`${Z} (Trễ)`:Z}},O=()=>{v()},X=W=>{p(W),h(!0)},I=()=>{h(!1),p(null)},Q=()=>{v()};return r.jsxs("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-slate-50 text-slate-800",children:[r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsx(E9,{role:R,currentView:e,setCurrentView:t}),r.jsx(P9,{error:j}),r.jsxs("main",{children:[e==="user"&&r.jsx(O9,{isLoading:b,handleRefresh:O,activeTab:s,setActiveTab:n,transformedTasks:S,formatDate:F,handleTaskClick:X}),e==="leader"&&R==="Leader"&&r.jsx(R9,{teamDataError:D,teamMembersData:C,selectedMember:i,setSelectedMember:o,formatDate:F,handleTaskClick:X}),e==="admin"&&c&&r.jsx(M9,{teamDataError:D,teamMembersData:B,selectedMember:i,setSelectedMember:o,formatDate:F,handleTaskClick:X})]})]}),r.jsx(C9,{task:f,isOpen:u,onClose:I,onSuccess:Q,isLeader:R==="Leader"})]})},B9=[{id:"CT-RD-F001",name:"Biểu mẫu Nộp ý tưởng",fileName:"01_Biểu mẫu Nộp ý tưởng -CT-RD-F001.docx",category:"GIAI ĐOẠN 1: HÌNH THÀNH Ý TƯỞNG VÀ PHÁT TRIỂN KHÁI NIỆM",status:"approved",fileType:"docx",size:"245 KB",uploadDate:"2024-03-15",uploader:"Nguyễn Văn A",link:"https://ctgroupvietnam.sharepoint.com/:w:/r/sites/CTTV-CTUAV-CTUAV-UAVLAB/_layouts/15/Doc.aspx?sourcedoc=%7B586A401B-5252-4DC9-8909-D9100B60791C%7D&file=01_Bi%E1%BB%83u%20m%E1%BA%ABu%20N%E1%BB%99p%20%C3%BD%20t%C6%B0%E1%BB%9Fng.docx&action=default&mobileredirect=true",hasFile:!0},{id:"CT-RD-F002",name:"Biểu mẫu Ma trận đánh giá ý tưởng",fileName:"02_Biểu mẫu Ma trận đánh giá ý tưởng -CT-RD-F002.docx",category:"GIAI ĐOẠN 1: HÌNH THÀNH Ý TƯỞNG VÀ PHÁT TRIỂN KHÁI NIỆM",status:"pending",fileType:"docx",size:"189 KB",uploadDate:"2024-03-16",uploader:"Trần Thị B",link:"https://ctgroupvietnam.sharepoint.com/:w:/r/sites/CTTV-CTUAV-CTUAV-UAVLAB/_layouts/15/Doc.aspx?sourcedoc=%7B875BEDBE-0BF8-4499-9C84-404FEFAA1FE0%7D&file=02_Bi%E1%BB%83u%20m%E1%BA%ABu%20Ma%20tr%E1%BA%ADn%20%C4%91%C3%A1nh%20gi%C3%A1%20%C3%BD%20t%C6%B0%E1%BB%9Fng%20-CT-RD-F002.docx&action=default&mobileredirect=true",hasFile:!0},{id:"CT-RD-F003",name:"Biểu mẫu Đề xuất khái niệm",fileName:"03_Biểu mẫu Đề xuất khái niệm -CT-RD-F003.docx",category:"GIAI ĐOẠN 1: HÌNH THÀNH Ý TƯỞNG VÀ PHÁT TRIỂN KHÁI NIỆM",status:"draft",fileType:"docx",size:"298 KB",uploadDate:"2024-03-17",uploader:"Lê Văn C",link:"https://ctgroupvietnam.sharepoint.com/:w:/r/sites/CTTV-CTUAV-CTUAV-UAVLAB/_layouts/15/Doc.aspx?sourcedoc=%7B70EB7086-DACE-4788-9444-5DF02348BCE5%7D&file=03_Bi%E1%BB%83u%20m%E1%BA%ABu%20%C4%90%E1%BB%81%20xu%E1%BA%A5t%20kh%C3%A1i%20ni%E1%BB%87m%20-CT-RD-F003.docx&action=default&mobileredirect=true",hasFile:!0},{id:"CT-RD-F004",name:"Biểu mẫu Báo cáo phân tích thị trường",fileName:"04_Biểu mẫu Báo cáo phân tích thị trường -CT-RD-F004.docx",category:"GIAI ĐOẠN 1: HÌNH THÀNH Ý TƯỞNG VÀ PHÁT TRIỂN KHÁI NIỆM",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"https://ctgroupvietnam.sharepoint.com/:w:/r/sites/CTTV-CTUAV-CTUAV-UAVLAB/_layouts/15/Doc.aspx?sourcedoc=%7BBDAA8503-E279-4041-86BD-9E63557BAE3C%7D&file=04_Bi%E1%BB%83u%20m%E1%BA%ABu%20B%C3%A1o%20c%C3%A1o%20ph%C3%A2n%20t%C3%ADch%20th%E1%BB%8B%20tr%C6%B0%E1%BB%9Dng%20-CT-RD-F004.docx&action=default&mobileredirect=true",hasFile:!1},{id:"CT-RD-F005",name:"Biểu mẫu Báo cáo IP sơ bộ",fileName:"05_Biểu mẫu Báo cáo IP sơ bộ -CT-RD-F005.docx",category:"GIAI ĐOẠN 1: HÌNH THÀNH Ý TƯỞNG VÀ PHÁT TRIỂN KHÁI NIỆM",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"https://ctgroupvietnam.sharepoint.com/:w:/r/sites/CTTV-CTUAV-CTUAV-UAVLAB/_layouts/15/Doc.aspx?sourcedoc=%7B8198D875-CD5F-4591-AB56-6EB7A04CAB88%7D&file=05_Bi%E1%BB%83u%20m%E1%BA%ABu%20B%C3%A1o%20c%C3%A1o%20IP%20s%C6%A1%20b%E1%BB%99-CT-RD-F005.docx&action=default&mobileredirect=true",hasFile:!1},{id:"CT-RD-F006",name:"Biểu mẫu Biên bản họp Công 1",fileName:"06_Biểu mẫu Biên bản họp Công 1 -CT-RD-F006.docx",category:"GIAI ĐOẠN 1: HÌNH THÀNH Ý TƯỞNG VÀ PHÁT TRIỂN KHÁI NIỆM",status:"approved",fileType:"docx",size:"178 KB",uploadDate:"2024-03-18",uploader:"Phạm Thị D",link:"https://ctgroupvietnam.sharepoint.com/:w:/r/sites/CTTV-CTUAV-CTUAV-UAVLAB/_layouts/15/Doc.aspx?sourcedoc=%7BC2C9B73E-D6F0-4F43-8348-BB1952BE29CC%7D&file=06_Bi%E1%BB%83u%20m%E1%BA%ABu%20Bi%C3%AAn%20b%E1%BA%A3n%20h%E1%BB%8Dp%20C%E1%BB%95ng%201-CT-RD-F006.docx&action=default&mobileredirect=true",hasFile:!0},{id:"CT-RD-F007",name:"Biểu mẫu Báo cáo xem xét tài liệu",fileName:"07_Biểu mẫu Báo cáo xem xét tài liệu-CT-RD-F007.docx",category:"GIAI ĐOẠN 2: NGHIÊN CỨU TÍNH KHẢ THI KỸ THUẬT",status:"pending",fileType:"docx",size:"156 KB",uploadDate:"2024-03-19",uploader:"Hoàng Văn E",link:"#",hasFile:!0},{id:"CT-RD-F008",name:"Biểu mẫu Tài liệu thiết kế sơ bộ",fileName:"08_Biểu mẫu Tài liệu thiết kế sơ bộ -CT-RD-F008.docx",category:"GIAI ĐOẠN 2: NGHIÊN CỨU TÍNH KHẢ THI KỸ THUẬT",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F009",name:"Biểu mẫu Báo cáo thử nghiệm PoC",fileName:"09_Biểu mẫu Báo cáo thử nghiệm PoC -CT-RD-F009.docx",category:"GIAI ĐOẠN 2: NGHIÊN CỨU TÍNH KHẢ THI KỸ THUẬT",status:"draft",fileType:"docx",size:"234 KB",uploadDate:"2024-03-20",uploader:"Võ Thị F",link:"#",hasFile:!0},{id:"CT-RD-F010",name:"Biểu mẫu Ma trận đánh giá rủi ro",fileName:"10_Biểu mẫu Ma trận đánh giá rủi ro -CT-RD-F010.docx",category:"GIAI ĐOẠN 2: NGHIÊN CỨU TÍNH KHẢ THI KỸ THUẬT",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F011",name:"Biểu mẫu Kế hoạch tài nguyên",fileName:"11_Biểu mẫu Kế hoạch tài nguyên -CT-RD-F011.docx",category:"GIAI ĐOẠN 2: NGHIÊN CỨU TÍNH KHẢ THI KỸ THUẬT",status:"approved",fileType:"docx",size:"192 KB",uploadDate:"2024-03-21",uploader:"Đặng Văn G",link:"#",hasFile:!0},{id:"CT-RD-F012",name:"Biểu mẫu Biên bản họp Công 2",fileName:"12_Biểu mẫu Biên bản họp Công 2 -CT-RD-F012.docx",category:"GIAI ĐOẠN 2: NGHIÊN CỨU TÍNH KHẢ THI KỸ THUẬT",status:"pending",fileType:"docx",size:"168 KB",uploadDate:"2024-03-22",uploader:"Bùi Thị H",link:"#",hasFile:!0},{id:"CT-RD-F013",name:"Biểu mẫu Báo cáo tìm kiếm Prior Art",fileName:"13_Biểu mẫu Báo cáo tìm kiếm Prior Art-CT-RD-F013.docx",category:"GIAI ĐOẠN 3: PHÂN TÍCH BẢN ĐỒ SỞ HỮU TRÍ TUỆ",status:"draft",fileType:"docx",size:"210 KB",uploadDate:"2024-03-23",uploader:"Lý Văn I",link:"#",hasFile:!0},{id:"CT-RD-F014",name:"Biểu mẫu Báo cáo phân tích FTO",fileName:"14_Biểu mẫu Báo cáo phân tích FTO -CT-RD-F014.docx",category:"GIAI ĐOẠN 3: PHÂN TÍCH BẢN ĐỒ SỞ HỮU TRÍ TUỆ",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F015",name:"Biểu mẫu Báo cáo thông tin cảnh tranh IP",fileName:"15_Biểu mẫu Báo cáo thông tin cảnh tranh IP -CT-RD-F015.docx",category:"GIAI ĐOẠN 3: PHÂN TÍCH BẢN ĐỒ SỞ HỮU TRÍ TUỆ",status:"approved",fileType:"docx",size:"267 KB",uploadDate:"2024-03-24",uploader:"Ngô Thị J",link:"#",hasFile:!0},{id:"CT-RD-F016",name:"Biểu mẫu Kế hoạch chiến lược IP",fileName:"16_Biểu mẫu Kế hoạch chiến lược IP -CT-RD-F016.docx",category:"GIAI ĐOẠN 3: PHÂN TÍCH BẢN ĐỒ SỞ HỮU TRÍ TUỆ",status:"pending",fileType:"docx",size:"189 KB",uploadDate:"2024-03-25",uploader:"Phan Văn K",link:"#",hasFile:!0},{id:"CT-RD-F017",name:"Biểu mẫu Biên bản họp Công 3",fileName:"17_Biểu mẫu Biên bản họp Công 3 -CT-RD-F017.docx",category:"GIAI ĐOẠN 3: PHÂN TÍCH BẢN ĐỒ SỞ HỮU TRÍ TUỆ",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F018",name:"Biểu mẫu Bản vẽ thiết kế chi tiết",fileName:"18_Biểu mẫu Bản vẽ thiết kế chi tiết-CT-RD-F018.docx",category:"GIAI ĐOẠN 4: THIẾT KẾ VÀ PHÁT TRIỂN CHI TIẾT",status:"approved",fileType:"docx",size:"312 KB",uploadDate:"2024-04-01",uploader:"Nguyễn Thị L",link:"#",hasFile:!0},{id:"CT-RD-F019",name:"Biểu mẫu Báo cáo phân tích nguyên mẫu",fileName:"19_Biểu mẫu Báo cáo phân tích nguyên mẫu-CT-RD-F019.docx",category:"GIAI ĐOẠN 4: THIẾT KẾ VÀ PHÁT TRIỂN CHI TIẾT",status:"pending",fileType:"docx",size:"278 KB",uploadDate:"2024-04-02",uploader:"Trần Văn M",link:"#",hasFile:!0},{id:"CT-RD-F020",name:"Biểu mẫu kế hoạch kiểm soát chất lượng",fileName:"20_Biểu mẫu kế hoạch kiểm soát chất lượng-CT-RD-F020.docx",category:"GIAI ĐOẠN 4: THIẾT KẾ VÀ PHÁT TRIỂN CHI TIẾT",status:"draft",fileType:"docx",size:"195 KB",uploadDate:"2024-04-03",uploader:"Lê Thị N",link:"#",hasFile:!0},{id:"CT-RD-F021",name:"Biểu mẫu Báo cáo tiến độ dự án",fileName:"21_Biểu mẫu Báo cáo tiến độ dự án-CT-RD-F021.docx",category:"GIAI ĐOẠN 4: THIẾT KẾ VÀ PHÁT TRIỂN CHI TIẾT",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F022",name:"Biểu mẫu Biên bản họp Cổng 4",fileName:"22_Biểu mẫu Biên bản họp Cổng 4-CT-RD-F022.docx",category:"GIAI ĐOẠN 4: THIẾT KẾ VÀ PHÁT TRIỂN CHI TIẾT",status:"approved",fileType:"docx",size:"167 KB",uploadDate:"2024-04-04",uploader:"Phạm Văn O",link:"#",hasFile:!0},{id:"CT-RD-F023",name:"Biểu mẫu kế hoạch kiểm thử tổng thể",fileName:"23_Biểu mẫu kế hoạch kiểm thử tổng thể-CT-RD-F023.docx",category:"GIAI ĐOẠN 5: KIỂM THỬ VÀ XÁC THỰC",status:"pending",fileType:"docx",size:"245 KB",uploadDate:"2024-04-05",uploader:"Võ Thị P",link:"#",hasFile:!0},{id:"CT-RD-F024",name:"Biểu mẫu Báo cáo kiểm thử chức năng",fileName:"24_Biểu mẫu Báo cáo kiểm thử chức năng-CT-RD-F024.docx",category:"GIAI ĐOẠN 5: KIỂM THỬ VÀ XÁC THỰC",status:"draft",fileType:"docx",size:"189 KB",uploadDate:"2024-04-06",uploader:"Đặng Văn Q",link:"#",hasFile:!0},{id:"CT-RD-F025",name:"Biểu mẫu Báo cáo kiểm thử hiệu suất",fileName:"25_Biểu mẫu Báo cáo kiểm thử hiệu suất-CT-RD-F025.docx",category:"GIAI ĐOẠN 5: KIỂM THỬ VÀ XÁC THỰC",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F026",name:"Biểu mẫu Báo cáo kiểm thử an toàn",fileName:"26_Biểu mẫu Báo cáo kiểm thử an toàn-CT-RD-F026.docx",category:"GIAI ĐOẠN 5: KIỂM THỬ VÀ XÁC THỰC",status:"approved",fileType:"docx",size:"223 KB",uploadDate:"2024-04-07",uploader:"Bùi Thị R",link:"#",hasFile:!0},{id:"CT-RD-F027",name:"Biểu mẫu Báo cáo xác thực khách hàng",fileName:"27_Biểu mẫu Báo cáo xác thực khách hàng-CT-RD-F027.docx",category:"GIAI ĐOẠN 5: KIỂM THỬ VÀ XÁC THỰC",status:"pending",fileType:"docx",size:"156 KB",uploadDate:"2024-04-08",uploader:"Lý Văn S",link:"#",hasFile:!0},{id:"CT-RD-F028",name:"Biểu mẫu Biên bản họp Cổng 5",fileName:"28_Biểu mẫu Biên bản họp Cổng 5-CT-RD-F028.docx",category:"GIAI ĐOẠN 5: KIỂM THỬ VÀ XÁC THỰC",status:"draft",fileType:"docx",size:"172 KB",uploadDate:"2024-04-09",uploader:"Ngô Thị T",link:"#",hasFile:!0},{id:"CT-RD-F029",name:"Biểu mẫu Đơn bằng sáng chế",fileName:"29_Biểu mẫu Đơn bằng sáng chế-CT-RD-F029.docx",category:"GIAI ĐOẠN 6: HOÀN THIỆN SỞ HỮU TRÍ TUỆ",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F030",name:"Kế hoạch bảo vệ Trade Secret",fileName:"30_Kế hoạch bảo vệ Trade Secret-CT-RD-F030.docx",category:"GIAI ĐOẠN 6: HOÀN THIỆN SỞ HỮU TRÍ TUỆ",status:"approved",fileType:"docx",size:"198 KB",uploadDate:"2024-04-10",uploader:"Phan Văn U",link:"#",hasFile:!0},{id:"CT-RD-F031",name:"Biểu mẫu Ma trận rủi ro IP",fileName:"31_Biểu mẫu Ma trận rủi ro IP-CT-RD-F031.docx",category:"GIAI ĐOẠN 6: HOÀN THIỆN SỞ HỮU TRÍ TUỆ",status:"pending",fileType:"docx",size:"234 KB",uploadDate:"2024-04-11",uploader:"Hoàng Thị V",link:"#",hasFile:!0},{id:"CT-RD-F032",name:"Biểu mẫu Biên bản họp Cổng 6",fileName:"32_Biểu mẫu Biên bản họp Cổng 6-CT-RD-F032.docx",category:"GIAI ĐOẠN 6: HOÀN THIỆN SỞ HỮU TRÍ TUỆ",status:"draft",fileType:"docx",size:"165 KB",uploadDate:"2024-04-12",uploader:"Đinh Văn W",link:"#",hasFile:!0},{id:"CT-RD-F033",name:"Biểu mẫu Báo cáo DfM",fileName:"33_Biểu mẫu Báo cáo DfM-CT-RD-F033.docx",category:"GIAI ĐOẠN 7: CHUẨN BỊ SẢN XUẤT",status:"approved",fileType:"docx",size:"289 KB",uploadDate:"2024-04-13",uploader:"Vũ Thị X",link:"#",hasFile:!0},{id:"CT-RD-F034",name:"Quy trình sản xuất UAV",fileName:"34_Quy trình sản xuất UAV - CT-RD-F034.docx",category:"GIAI ĐOẠN 7: CHUẨN BỊ SẢN XUẤT",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F035",name:"Biểu mẫu Hệ thống quản lý chất lượng",fileName:"35_Biểu mẫu Hệ thống quản lý chất lượng-CT-RD-F035.docx",category:"GIAI ĐOẠN 7: CHUẨN BỊ SẢN XUẤT",status:"pending",fileType:"docx",size:"256 KB",uploadDate:"2024-04-14",uploader:"Mai Văn Y",link:"#",hasFile:!0},{id:"CT-RD-F036",name:"Biểu mẫu Kế hoạch chuỗi cung ứng",fileName:"36_Biểu mẫu Kế hoạch chuỗi cung ứng-CT-RD-F036.docx",category:"GIAI ĐOẠN 7: CHUẨN BỊ SẢN XUẤT",status:"draft",fileType:"docx",size:"178 KB",uploadDate:"2024-04-15",uploader:"Cao Thị Z",link:"#",hasFile:!0},{id:"CT-RD-F037",name:"Biểu mẫu Báo cáo năng lực sản xuất",fileName:"37_Biểu mẫu Báo cáo năng lực sản xuất-CT-RD-F037.docx",category:"GIAI ĐOẠN 7: CHUẨN BỊ SẢN XUẤT",status:"approved",fileType:"docx",size:"312 KB",uploadDate:"2024-04-16",uploader:"Tạ Văn AA",link:"#",hasFile:!0},{id:"CT-RD-F038",name:"Biểu mẫu Biên bản họp Cổng 7",fileName:"38_Biểu mẫu Biên bản họp Cổng 7-CT-RD-F038.docx",category:"GIAI ĐOẠN 7: CHUẨN BỊ SẢN XUẤT",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F039",name:"Biểu mẫu Kế hoạch chuyển giao công nghệ",fileName:"39_Biểu mẫu Kế hoạch chuyển giao công nghệ-CT-RD-F039.docx",category:"GIAI ĐOẠN 8: CHUYỂN GIAO CÔNG NGHỆ",status:"pending",fileType:"docx",size:"267 KB",uploadDate:"2024-04-17",uploader:"Lại Thị BB",link:"#",hasFile:!0},{id:"CT-RD-F040",name:"Biểu mẫu Danh mục tài liệu chuyển giao",fileName:"40_Biểu mẫu Danh mục tài liệu chuyển giao-CT-RD-F040.docx",category:"GIAI ĐOẠN 8: CHUYỂN GIAO CÔNG NGHỆ",status:"draft",fileType:"docx",size:"195 KB",uploadDate:"2024-04-18",uploader:"Dương Văn CC",link:"#",hasFile:!0},{id:"CT-RD-F041",name:"Biểu mẫu Chương trình đào tạo",fileName:"41_Biểu mẫu Chương trình đào tạo-CT-RD-F041.docx",category:"GIAI ĐOẠN 8: CHUYỂN GIAO CÔNG NGHỆ",status:"approved",fileType:"docx",size:"223 KB",uploadDate:"2024-04-19",uploader:"Hà Thị DD",link:"#",hasFile:!0},{id:"CT-RD-F042",name:"Biểu mẫu Kế hoạch hỗ trợ sản xuất",fileName:"42_Biểu mẫu Kế hoạch hỗ trợ sản xuất-CT-RD-F042.docx",category:"GIAI ĐOẠN 8: CHUYỂN GIAO CÔNG NGHỆ",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F043",name:"Biểu mẫu Báo cáo đánh giá chuyển giao",fileName:"43_Biểu mẫu Báo cáo đánh giá chuyển giao-CT-RD-F043.docx",category:"GIAI ĐOẠN 8: CHUYỂN GIAO CÔNG NGHỆ",status:"pending",fileType:"docx",size:"178 KB",uploadDate:"2024-04-20",uploader:"Từ Văn EE",link:"#",hasFile:!0},{id:"CT-RD-F044",name:"Biểu mẫu Biên bản họp Cổng 8",fileName:"44_Biểu mẫu Biên bản họp Cổng 8-CT-RD-F044.docx",category:"GIAI ĐOẠN 8: CHUYỂN GIAO CÔNG NGHỆ",status:"draft",fileType:"docx",size:"189 KB",uploadDate:"2024-04-21",uploader:"Ông Thị FF",link:"#",hasFile:!0}],F9=()=>{const[e,t]=N.useState(""),[s,n]=N.useState("teams"),[i,o]=N.useState([]),[c,u]=N.useState(""),[h,f]=N.useState(""),[p,g]=N.useState(""),[x,b]=N.useState(""),[j,v]=N.useState(new Set),[T,_]=N.useState({}),R=re=>{switch(re){case"approved":return{className:"bg-green-100 text-green-800 border-green-200",text:"Đã duyệt"};case"pending":return{className:"bg-yellow-100 text-yellow-800 border-yellow-200",text:"Chờ duyệt"};case"draft":return{className:"bg-blue-100 text-blue-800 border-blue-200",text:"Nháp"};case"empty":return{className:"bg-gray-100 text-gray-800 border-gray-200",text:"Trống"};default:return{className:"bg-gray-100 text-gray-800 border-gray-200",text:"Không xác định"}}},{data:S,isLoading:C}=Nt("Team",{fields:["name","team","teamlead"],limit:0}),{data:D,isLoading:k}=Nt("Project",{fields:["name","project_name","owner","team"],limit:0}),{data:B,isLoading:F}=Nt("project_phase",{fields:["name","subject","project","progress","status"],limit:0}),{data:O,isLoading:X}=Nt("Task",{fields:["name","subject","project","phase"],limit:0}),{data:I,isLoading:Q}=Nt("File",{fields:["name","file_name","file_url","file_size","is_private","attached_to_doctype","attached_to_name","creation","owner","modified"],filters:[["attached_to_doctype","=","Task"]],orderBy:{field:"creation",order:"desc"},limit:0}),W=(re,Re)=>{u(re),n("projects"),o([{id:re,name:Re,type:"team"}])},Y=(re,Re)=>{f(re),n("project-detail"),o(He=>[...He,{id:re,name:Re,type:"project"}])},H=(re,Re)=>{g(re),n("tasks"),o(He=>[...He,{id:re,name:Re,type:"phase"}])},z=(re,Re)=>{b(re),n("files"),o(He=>[...He,{id:re,name:Re,type:"task"}])},Z=re=>{const Re=i[re];if(!Re){n("teams"),o([]),u(""),f(""),g(""),b("");return}switch(Re.type){case"team":n("projects"),o(i.slice(0,re+1)),u(Re.id),f(""),g(""),b("");break;case"project":n("project-detail"),o(i.slice(0,re+1)),g(""),b("");break;case"phase":n("tasks"),o(i.slice(0,re+1)),b("");break}},te=re=>{if(re===0)return"0 Bytes";const Re=1024,He=["Bytes","KB","MB","GB"],Xe=Math.floor(Math.log(re)/Math.log(Re));return parseFloat((re/Math.pow(Re,Xe)).toFixed(2))+" "+He[Xe]},ue=re=>{var Xe;if(re.file_url.startsWith("http")&&(re.file_size===0||!re.file_name.includes(".")))return r.jsx(Bu,{className:"h-5 w-5 text-blue-500"});switch((Xe=re.file_name.split(".").pop())==null?void 0:Xe.toLowerCase()){case"pdf":return r.jsx(Fs,{className:"h-5 w-5 text-red-500"});case"doc":case"docx":return r.jsx(Fs,{className:"h-5 w-5 text-blue-500"});case"xls":case"xlsx":return r.jsx(Fs,{className:"h-5 w-5 text-green-500"});default:return r.jsx(Fs,{className:"h-5 w-5 text-gray-500"})}},M=re=>re.file_url.startsWith("http")&&(re.file_size===0||!re.file_name.includes(".")),ie=(re,Re)=>{_(He=>oe(L({},He),{[re]:Re})),console.log(`Updating document ${re} status to ${Re}`)},ne=re=>{console.log(`Deleting document ${re}`)},V=N.useMemo(()=>!D||!c?[]:D.filter(re=>re.team===c),[D,c]),J=N.useMemo(()=>!B||!h?[]:B.filter(Re=>Re.project===h).slice(0,8),[B,h]),xe=re=>{const Re=re.progress||0,Xe=`GIAI ĐOẠN ${J.findIndex(Le=>Le.name===re.name)+1}`;return B9.filter(Le=>Le.category.includes(Xe)).map(Le=>oe(L({},Le),{status:Re===100?"approved":Le.status,hasFile:Re===100?!0:Le.hasFile}))},fe=N.useMemo(()=>!O||!h?[]:p?O.filter(re=>re.project===h&&re.phase===p):O.filter(re=>re.project===h&&!re.phase),[O,h,p]),Ee=N.useMemo(()=>!I||!x?[]:I.filter(re=>re.attached_to_name===x),[I,x]),De=N.useMemo(()=>{if(!S||!D)return{};const re={};return S.forEach(Re=>{const Xe=D.filter(Le=>Le.team===Re.name).length*45;re[Re.name]=Xe}),re},[S,D]),Ie=N.useMemo(()=>{if(!D)return{};const re={};return D.forEach(Re=>{re[Re.name]=45}),re},[D]);return C||k||F||X||Q?r.jsxs("div",{className:"flex items-center justify-center min-h-96",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-3 text-gray-600",children:"Đang tải dữ liệu..."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex justify-between items-center",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Quản lý tài liệu"}),r.jsxs("p",{className:"text-gray-600",children:["Quản lý tài liệu theo cấu trúc Team ","->"," Project ","->"," Phase"]})]})}),i.length>0&&r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsxs("button",{onClick:()=>Z(-1),className:"text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[r.jsx(_a,{className:"h-4 w-4"}),"Teams"]}),i.map((re,Re)=>r.jsxs(ae.Fragment,{children:[r.jsx("span",{className:"text-gray-500",children:"/"}),r.jsxs("button",{onClick:()=>Z(Re),className:"text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[re.type==="team"&&r.jsx(_a,{className:"h-4 w-4"}),re.type==="project"&&r.jsx(Wl,{className:"h-4 w-4"}),re.type==="phase"&&r.jsx(an,{className:"h-4 w-4"}),re.type==="task"&&r.jsx(Ei,{className:"h-4 w-4"}),re.name]})]},re.id))]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:r.jsxs("div",{className:"relative max-w-md",children:[r.jsx(lc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx("input",{type:"text",placeholder:s==="teams"?"Tìm kiếm team...":s==="projects"?"Tìm kiếm dự án...":s==="project-detail"?"Tìm kiếm tài liệu...":s==="phases"?"Tìm kiếm phase...":s==="tasks"?"Tìm kiếm task...":"Tìm kiếm file...",value:e,onChange:re=>t(re.target.value),className:"pl-10 w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[s==="teams"&&r.jsxs("div",{children:[r.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 text-sm font-semibold text-gray-700 uppercase tracking-wider",children:[r.jsxs("div",{className:"col-span-5 flex items-center gap-2",children:[r.jsx(_a,{className:"h-4 w-4"}),"Team"]}),r.jsxs("div",{className:"col-span-4 flex items-center gap-2",children:[r.jsx(Ho,{className:"h-4 w-4"}),"Nhóm Trưởng"]}),r.jsxs("div",{className:"col-span-3 flex items-center gap-2",children:[r.jsx(Fs,{className:"h-4 w-4"}),"Số Tài liệu"]})]})}),r.jsx("div",{className:"divide-y divide-gray-200",children:S&&S.length>0?S.filter(re=>{var Re;return!e||((Re=re.team)==null?void 0:Re.toLowerCase().includes(e.toLowerCase()))}).map(re=>r.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>W(re.name,re.team||"Unnamed Team"),children:[r.jsxs("div",{className:"col-span-5 flex items-center gap-3",children:[r.jsx(_a,{className:"h-6 w-6 text-blue-500 flex-shrink-0"}),r.jsx("div",{className:"min-w-0",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:re.team||"Unnamed Team"})})]}),r.jsx("div",{className:"col-span-4 flex items-center",children:r.jsx("div",{className:"min-w-0",children:r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:re.teamlead||"Chưa có nhóm trưởng"})})}),r.jsx("div",{className:"col-span-3 flex items-center",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-lg font-semibold text-blue-600",children:(De[re.name]||45).toLocaleString("vi-VN")}),r.jsx("span",{className:"text-sm text-gray-600",children:"tài liệu"})]})})]},re.name)):r.jsxs("div",{className:"text-center py-12",children:[r.jsx(_a,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Không có team nào"})]})})]}),s==="projects"&&r.jsxs("div",{children:[r.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 text-sm font-semibold text-gray-700 uppercase tracking-wider",children:[r.jsxs("div",{className:"col-span-6 flex items-center gap-2",children:[r.jsx(Wl,{className:"h-4 w-4"}),"Tên Dự Án"]}),r.jsxs("div",{className:"col-span-3 flex items-center gap-2",children:[r.jsx(Fs,{className:"h-4 w-4"}),"Số File"]}),r.jsxs("div",{className:"col-span-3 flex items-center gap-2",children:[r.jsx(an,{className:"h-4 w-4"}),"Thao Tác"]})]})}),r.jsx("div",{className:"divide-y divide-gray-200",children:V&&V.length>0?V.filter(re=>!e||re.project_name.toLowerCase().includes(e.toLowerCase())).map(re=>r.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>Y(re.name,re.project_name),children:[r.jsxs("div",{className:"col-span-6 flex items-center gap-3",children:[r.jsx(Wl,{className:"h-6 w-6 text-green-500 flex-shrink-0"}),r.jsx("div",{className:"min-w-0",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:re.project_name})})]}),r.jsx("div",{className:"col-span-3 flex items-center",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-lg font-semibold text-green-600",children:(Ie[re.name]||45).toLocaleString("vi-VN")}),r.jsx("span",{className:"text-sm text-gray-600",children:"tài liệu"})]})}),r.jsx("div",{className:"col-span-3 flex items-center",children:r.jsx("span",{className:"text-sm text-gray-600",children:"Click để xem phases và tasks"})})]},re.name)):r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Wl,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Không có dự án nào"})]})})]}),s==="project-detail"&&r.jsx("div",{className:"space-y-6",children:J&&J.length>0?r.jsx("div",{className:"space-y-4",children:J.map((re,Re)=>{const He=`phase-${re.name}`,Xe=re.progress||0,Le=xe(re),dt=[{bg:"bg-blue-50",hoverBg:"hover:bg-blue-100",iconBg:"bg-blue-100",iconColor:"text-blue-600",textColor:"text-blue-600",uploadBg:"bg-blue-600",uploadHover:"hover:bg-blue-700"},{bg:"bg-green-50",hoverBg:"hover:bg-green-100",iconBg:"bg-green-100",iconColor:"text-green-600",textColor:"text-green-600",uploadBg:"bg-green-600",uploadHover:"hover:bg-green-700"},{bg:"bg-purple-50",hoverBg:"hover:bg-purple-100",iconBg:"bg-purple-100",iconColor:"text-purple-600",textColor:"text-purple-600",uploadBg:"bg-purple-600",uploadHover:"hover:bg-purple-700"},{bg:"bg-orange-50",hoverBg:"hover:bg-orange-100",iconBg:"bg-orange-100",iconColor:"text-orange-600",textColor:"text-orange-600",uploadBg:"bg-orange-600",uploadHover:"hover:bg-orange-700"},{bg:"bg-red-50",hoverBg:"hover:bg-red-100",iconBg:"bg-red-100",iconColor:"text-red-600",textColor:"text-red-600",uploadBg:"bg-red-600",uploadHover:"hover:bg-red-700"},{bg:"bg-indigo-50",hoverBg:"hover:bg-indigo-100",iconBg:"bg-indigo-100",iconColor:"text-indigo-600",textColor:"text-indigo-600",uploadBg:"bg-indigo-600",uploadHover:"hover:bg-indigo-700"},{bg:"bg-yellow-50",hoverBg:"hover:bg-yellow-100",iconBg:"bg-yellow-100",iconColor:"text-yellow-600",textColor:"text-yellow-600",uploadBg:"bg-yellow-600",uploadHover:"hover:bg-yellow-700"},{bg:"bg-pink-50",hoverBg:"hover:bg-pink-100",iconBg:"bg-pink-100",iconColor:"text-pink-600",textColor:"text-pink-600",uploadBg:"bg-pink-600",uploadHover:"hover:bg-pink-700"}],Ge=dt[Re%dt.length],Be=ze=>ze===100?"✅":ze>=75?"🔄":ze>=50?"⏳":ze>=25?"🔧":ze>0?"🚀":"📋";return r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[r.jsxs("button",{onClick:()=>{const ze=new Set(j);ze.has(He)?ze.delete(He):ze.add(He),v(ze)},className:`w-full px-6 py-4 ${Ge.bg} ${Ge.hoverBg} transition-colors flex items-center justify-between`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`${Ge.iconBg} p-2 rounded`,children:r.jsx(Fs,{className:`h-6 w-6 ${Ge.iconColor}`})}),r.jsxs("div",{className:"text-left",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[Be(Xe)," ",re.subject||"Unnamed Phase"]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[r.jsxs("span",{children:[Le.filter(ze=>ze.hasFile).length,"/",Le.length," tài liệu"]}),r.jsxs("span",{className:`font-medium ${Xe===100?"text-green-600":Xe>=1?"text-yellow-600":"text-gray-500"}`,children:["Progress: ",Xe,"%"]}),Xe===100&&r.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:"Tài liệu đã duyệt"}),Xe!==100&&r.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:"Tài liệu trống/nháp"})]})]})]}),j.has(He)?r.jsx(o4,{className:"h-5 w-5 text-gray-500"}):r.jsx(ny,{className:"h-5 w-5 text-gray-500"})]}),j.has(He)&&r.jsxs("div",{className:"border-t border-gray-200",children:[r.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3 text-sm font-semibold text-gray-700",children:[r.jsx("div",{className:"col-span-1 text-center",children:"Mã số"}),r.jsx("div",{className:"col-span-3",children:"Tên File"}),r.jsx("div",{className:"col-span-1 text-center",children:"Link"}),r.jsx("div",{className:"col-span-3",children:"File Upload"}),r.jsx("div",{className:"col-span-2",children:"Status"}),r.jsx("div",{className:"col-span-1 text-center",children:"Thao tác"})]})}),r.jsx("div",{className:"divide-y divide-gray-200",children:Le.filter(ze=>!e||ze.name.toLowerCase().includes(e.toLowerCase())||ze.id.toLowerCase().includes(e.toLowerCase())).map(ze=>r.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[r.jsx("div",{className:"col-span-1 text-center",children:r.jsx("span",{className:`text-xs font-mono ${Ge.textColor} bg-opacity-50 ${Ge.bg} px-2 py-1 rounded`,children:ze.id})}),r.jsxs("div",{className:"col-span-3 flex items-center gap-3",children:[r.jsx(Fs,{className:`h-5 w-5 ${Ge.iconColor.replace("text-","text-").replace("-600","-500")}`}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-900 truncate",children:ze.name}),r.jsx("p",{className:"text-xs text-gray-500 truncate",children:ze.fileName})]})]}),r.jsx("div",{className:"col-span-1 text-center",children:r.jsx("button",{onClick:()=>window.open(ze.link,"_blank"),className:"text-blue-600 hover:text-blue-700 p-1 rounded transition-colors",title:"Xem tài liệu",children:r.jsx(J0,{className:"h-4 w-4"})})}),r.jsx("div",{className:"col-span-3",children:ze.hasFile?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-gray-900 truncate flex-1",title:ze.fileName,style:{maxWidth:"150px"},children:ze.fileName}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{className:"text-blue-600 hover:text-blue-700 p-1 rounded transition-colors",title:"Xem",children:r.jsx(ry,{className:"h-4 w-4"})}),r.jsx("button",{className:"text-green-600 hover:text-green-700 p-1 rounded transition-colors",title:"Tải xuống",children:r.jsx(nc,{className:"h-4 w-4"})})]})]}):r.jsxs("button",{className:`${Ge.uploadBg} ${Ge.uploadHover} text-white px-3 py-1.5 rounded text-xs font-medium transition-colors flex items-center gap-1`,children:[r.jsx(cT,{className:"h-3 w-3"}),"Tải lên"]})}),r.jsx("div",{className:"col-span-2",children:r.jsxs("select",{value:T[ze.id]||ze.status,onChange:nt=>ie(ze.id,nt.target.value),className:`text-xs border rounded px-2 py-1 focus:ring-2 focus:ring-blue-500 focus:border-transparent font-medium ${R(T[ze.id]||ze.status).className}`,children:[r.jsx("option",{value:"approved",children:"Đã duyệt"}),r.jsx("option",{value:"pending",children:"Chờ duyệt"}),r.jsx("option",{value:"draft",children:"Nháp"}),r.jsx("option",{value:"empty",children:"Trống"})]})}),r.jsx("div",{className:"col-span-1 text-center",children:r.jsx("button",{onClick:()=>ne(ze.id),className:"text-red-600 hover:text-red-700 p-1 rounded transition-colors",title:"Xóa tài liệu",children:r.jsx($i,{className:"h-4 w-4"})})})]},ze.id))})]})]},He)})}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx(an,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Dự án không có giai đoạn"}),r.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Dự án này chưa được thiết lập các giai đoạn"})]})}),s==="phases"&&r.jsxs("div",{className:"divide-y divide-gray-200",children:[r.jsx("div",{className:"p-4 bg-gray-50 border-b",children:r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(an,{className:"h-5 w-5 text-orange-500"}),"Phases"]})}),J&&J.length>0?J.filter(re=>{var Re;return!e||((Re=re.subject)==null?void 0:Re.toLowerCase().includes(e.toLowerCase()))}).map(re=>r.jsxs("div",{className:"flex items-center gap-4 p-6 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>H(re.name,re.subject||"Unnamed Phase"),children:[r.jsx(an,{className:"h-8 w-8 text-orange-500"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:re.subject||"Unnamed Phase"}),r.jsx("p",{className:"text-gray-600",children:"Click để xem tasks trong phase này"})]}),r.jsx("div",{className:"text-gray-400",children:r.jsx(Ei,{className:"h-5 w-5"})})]},re.name)):r.jsx("div",{className:"p-6",children:r.jsx("p",{className:"text-gray-600",children:"Không có phase nào trong dự án này"})}),r.jsx("div",{className:"p-4 bg-gray-50 border-b",children:r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(Ei,{className:"h-5 w-5 text-purple-500"}),"Tasks (Không thuộc Phase)"]})}),fe&&fe.length>0?fe.filter(re=>!(e&&!re.subject.toLowerCase().includes(e.toLowerCase()))).map(re=>{const Re=(I==null?void 0:I.filter(He=>He.attached_to_name===re.name).length)||0;return r.jsxs("div",{className:"flex items-center gap-4 p-6 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>z(re.name,re.subject),children:[r.jsx(Ei,{className:"h-8 w-8 text-purple-500"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:re.subject}),r.jsxs("p",{className:"text-gray-600",children:[Re," file(s)"]})]}),r.jsx("div",{className:"text-gray-400",children:r.jsx(Fs,{className:"h-5 w-5"})})]},re.name)}):r.jsx("div",{className:"p-6",children:r.jsx("p",{className:"text-gray-600",children:"Không có task nào trong dự án này"})})]}),s==="tasks"&&p&&r.jsx("div",{className:"divide-y divide-gray-200",children:fe&&fe.length>0?fe.filter(re=>!(e&&!re.subject.toLowerCase().includes(e.toLowerCase()))).map(re=>{const Re=(I==null?void 0:I.filter(He=>He.attached_to_name===re.name).length)||0;return r.jsxs("div",{className:"flex items-center gap-4 p-6 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>z(re.name,re.subject),children:[r.jsx(Ei,{className:"h-8 w-8 text-purple-500"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:re.subject}),r.jsxs("p",{className:"text-gray-600",children:[Re," file(s)"]})]}),r.jsx("div",{className:"text-gray-400",children:r.jsx(Fs,{className:"h-5 w-5"})})]},re.name)}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ei,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Không có task nào trong phase này"})]})}),s==="files"&&r.jsx("div",{className:"divide-y divide-gray-200",children:Ee&&Ee.length>0?Ee.filter(re=>!e||re.file_name.toLowerCase().includes(e.toLowerCase())||re.owner.toLowerCase().includes(e.toLowerCase())).map(re=>r.jsxs("div",{className:"flex items-center gap-4 p-6 hover:bg-gray-50 transition-colors",children:[ue(re),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 truncate",children:re.file_name}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ho,{className:"h-4 w-4"}),r.jsxs("span",{children:["Người thêm: ",re.owner]})]}),!M(re)&&r.jsxs("span",{children:["Kích thước: ",te(re.file_size)]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Hi,{className:"h-4 w-4"}),r.jsx("span",{children:new Date(re.creation).toLocaleDateString("vi-VN")})]}),M(re)&&r.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:"Link"})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("button",{onClick:Re=>{Re.stopPropagation(),window.open(re.file_url,"_blank")},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:M(re)?r.jsxs(r.Fragment,{children:[r.jsx(J0,{className:"h-4 w-4"}),"Mở Link"]}):r.jsxs(r.Fragment,{children:[r.jsx(nc,{className:"h-4 w-4"}),"Tải xuống"]})})})]},re.name)):r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Fs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Không có file nào"}),r.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Task này chưa có file đính kèm"})]})})]}),s==="teams"&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(_a,{className:"h-8 w-8 text-blue-500"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng Team"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(S==null?void 0:S.length)||0})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Wl,{className:"h-8 w-8 text-green-500"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng Dự án"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(D==null?void 0:D.length)||0})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ei,{className:"h-8 w-8 text-purple-500"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng Task"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(O==null?void 0:O.length)||0})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Fs,{className:"h-8 w-8 text-red-500"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng Tài liệu"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:S?Object.values(De).reduce((re,Re)=>re+Re,0).toLocaleString("vi-VN"):"0"})]})]})})]})]})},U9=[{id:"1",project:"Hệ thống Điều khiển UAV Tự động",category:"Thiết kế Chi tiết",planned:5e8,actual:36e7,remaining:14e7,status:"on-track",lastUpdated:"2024-01-15"},{id:"2",project:"Cảm biến Nhiệt độ IoT",category:"Nghiên cứu Tính khả thi",planned:2e8,actual:24e7,remaining:-4e7,status:"over-budget",lastUpdated:"2024-01-16"},{id:"3",project:"Platform AI cho Robot",category:"Phát triển Sản phẩm",planned:8e8,remaining:576e6,actual:224e6,status:"under-budget",lastUpdated:"2024-01-14"}],z9=["Tất cả","Thiết kế Chi tiết","Nghiên cứu Tính khả thi","Phát triển Sản phẩm"],H9=()=>{const[e]=N.useState(U9),[t,s]=N.useState("Tất cả"),n=e.filter(x=>t==="Tất cả"||x.category===t),i=e.reduce((x,b)=>x+b.planned,0),o=e.reduce((x,b)=>x+b.actual,0),c=e.reduce((x,b)=>x+b.remaining,0),u=Math.round(o/i*100),h=x=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0,maximumFractionDigits:0}).format(x).replace("₫","đ"),f=x=>{switch(x){case"on-track":return"bg-green-100 text-green-800";case"over-budget":return"bg-red-100 text-red-800";case"under-budget":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},p=x=>{switch(x){case"on-track":return"Đúng kế hoạch";case"over-budget":return"Vượt ngân sách";case"under-budget":return"Dưới ngân sách";default:return x}},g=x=>{switch(x){case"on-track":return r.jsx(Ql,{className:"h-4 w-4 text-green-600"});case"over-budget":return r.jsx(L1,{className:"h-4 w-4 text-red-600"});case"under-budget":return r.jsx(Ql,{className:"h-4 w-4 text-blue-600"});default:return r.jsx(zi,{className:"h-4 w-4 text-gray-600"})}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Ngân sách"}),r.jsx("p",{className:"text-gray-600",children:"Quản lý chi phí và ngân sách"})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[r.jsx(nc,{className:"h-4 w-4"}),"Xuất báo cáo"]}),r.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[r.jsx(gr,{className:"h-4 w-4"}),"Thêm ngân sách"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng ngân sách"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h(i)}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Kế hoạch năm 2024"})]}),r.jsx(zo,{className:"h-8 w-8 text-blue-500"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đã sử dụng"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h(o)}),r.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[u,"% đã sử dụng"]})]}),r.jsx(Ql,{className:"h-8 w-8 text-green-500"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Còn lại"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h(c)}),r.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:[100-u,"% còn lại"]})]}),r.jsx(L1,{className:"h-8 w-8 text-purple-500"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Dự án vượt ngân sách"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:e.filter(x=>x.status==="over-budget").length}),r.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Cần chú ý"})]}),r.jsx(zi,{className:"h-8 w-8 text-red-500"})]})})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(dd,{className:"h-5 w-5 text-gray-400"}),r.jsx("select",{value:t,onChange:x=>s(x.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:z9.map(x=>r.jsx("option",{value:x,children:x},x))})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dự án"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Giai đoạn"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kế hoạch"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thực tế"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Còn lại"}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tiến độ"}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trạng thái"}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cập nhật"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(x=>{const b=Math.round(x.actual/x.planned*100);return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.project})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-500",children:x.category})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-gray-900",children:h(x.planned)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-gray-900",children:h(x.actual)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:r.jsx("span",{className:x.remaining<0?"text-red-600":"text-gray-900",children:h(x.remaining)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full ${b>100?"bg-red-500":b>80?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(b,100)}%`}})}),r.jsxs("span",{className:"ml-2 text-xs text-gray-600",children:[b,"%"]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"flex items-center justify-center",children:r.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${f(x.status)}`,children:[g(x.status),r.jsx("span",{className:"ml-1",children:p(x.status)})]})})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-gray-500",children:x.lastUpdated})]},x.id)})})]})})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Biểu đồ ngân sách theo thời gian"}),r.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:r.jsx("p",{className:"text-gray-500",children:"Biểu đồ sẽ được hiển thị tại đây"})})]})]})},$9=[{id:"1",title:"Thiếu linh kiện cảm biến chính",project:"Hệ thống Điều khiển UAV Tự động",category:"Kỹ thuật",probability:"high",impact:"high",status:"mitigating",owner:"Nguyễn Văn A",description:"Nhà cung cấp chính gặp vấn đề sản xuất, có thể ảnh hưởng đến tiến độ dự án",mitigation:"Tìm nhà cung cấp thay thế và đàm phán gia hạn giao hàng",createdDate:"2024-01-10",dueDate:"2024-02-15"},{id:"2",title:"Thay đổi yêu cầu từ khách hàng",project:"Cảm biến Nhiệt độ IoT",category:"Yêu cầu",probability:"medium",impact:"medium",status:"analyzing",owner:"Trần Thị B",description:"Khách hàng có thể thay đổi thông số kỹ thuật trong quá trình phát triển",mitigation:"Thiết lập quy trình quản lý thay đổi chặt chẽ",createdDate:"2024-01-12",dueDate:"2024-01-30"},{id:"3",title:"Nhân sự chủ chốt nghỉ việc",project:"Platform AI cho Robot",category:"Nhân sự",probability:"low",impact:"high",status:"identified",owner:"Lê Văn C",description:"Rủi ro mất đi nhân sự có kinh nghiệm trong quá trình phát triển",mitigation:"Xây dựng kế hoạch đào tạo và chuyển giao kiến thức",createdDate:"2024-01-08",dueDate:"2024-03-01"}],V9=["Tất cả","Kỹ thuật","Yêu cầu","Nhân sự","Tài chính","Lịch trình"],I9=["Tất cả","identified","analyzing","mitigating","closed"],q9=()=>{const[e]=N.useState($9),[t,s]=N.useState(""),[n,i]=N.useState("Tất cả"),[o,c]=N.useState("Tất cả"),u=e.filter(S=>{const C=S.title.toLowerCase().includes(t.toLowerCase())||S.project.toLowerCase().includes(t.toLowerCase()),D=n==="Tất cả"||S.category===n,k=o==="Tất cả"||S.status===o;return C&&D&&k}),h=(S,C)=>{const B=(S==="high"?3:S==="medium"?2:1)*(C==="high"?3:C==="medium"?2:1);return B>=6?{level:"Cao",color:"bg-red-100 text-red-800"}:B>=3?{level:"Trung bình",color:"bg-yellow-100 text-yellow-800"}:{level:"Thấp",color:"bg-green-100 text-green-800"}},f=S=>{switch(S){case"high":return"text-red-600";case"medium":return"text-yellow-600";case"low":return"text-green-600";default:return"text-gray-600"}},p=S=>{switch(S){case"high":return"text-red-600";case"medium":return"text-yellow-600";case"low":return"text-green-600";default:return"text-gray-600"}},g=S=>{switch(S){case"identified":return"bg-blue-100 text-blue-800";case"analyzing":return"bg-yellow-100 text-yellow-800";case"mitigating":return"bg-orange-100 text-orange-800";case"closed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},x=S=>{switch(S){case"identified":return"Đã xác định";case"analyzing":return"Đang phân tích";case"mitigating":return"Đang giảm thiểu";case"closed":return"Đã đóng";default:return S}},b=S=>{switch(S){case"high":return"Cao";case"medium":return"Trung bình";case"low":return"Thấp";default:return S}},j=S=>{switch(S){case"high":return"Cao";case"medium":return"Trung bình";case"low":return"Thấp";default:return S}},v=e.filter(S=>h(S.probability,S.impact).level==="Cao").length,T=e.filter(S=>h(S.probability,S.impact).level==="Trung bình").length,_=e.filter(S=>h(S.probability,S.impact).level==="Thấp").length,R=e.filter(S=>S.status!=="closed").length;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Rủi ro"}),r.jsx("p",{className:"text-gray-600",children:"Quản lý rủi ro dự án"})]}),r.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[r.jsx(gr,{className:"h-4 w-4"}),"Thêm rủi ro"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(cc,{className:"h-8 w-8 text-red-500"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rủi ro cao"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:v})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ry,{className:"h-8 w-8 text-yellow-500"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rủi ro trung bình"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:T})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(lT,{className:"h-8 w-8 text-green-500"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rủi ro thấp"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:_})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ql,{className:"h-8 w-8 text-blue-500"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đang xử lý"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:R})]})]})})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(lc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx("input",{type:"text",placeholder:"Tìm kiếm rủi ro...",value:t,onChange:S=>s(S.target.value),className:"pl-10 w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsx("div",{children:r.jsx("select",{value:n,onChange:S=>i(S.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:V9.map(S=>r.jsx("option",{value:S,children:S},S))})}),r.jsx("div",{children:r.jsx("select",{value:o,onChange:S=>c(S.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:I9.map(S=>r.jsx("option",{value:S,children:S==="Tất cả"?"Tất cả trạng thái":x(S)},S))})})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rủi ro"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dự án"}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Xác suất"}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tác động"}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mức độ"}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trạng thái"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Người phụ trách"}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hạn xử lý"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(S=>{const C=h(S.probability,S.impact);return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:S.title}),r.jsx("div",{className:"text-sm text-gray-500 mt-1",children:S.category})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-sm text-gray-900",children:S.project})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:r.jsx("span",{className:`text-sm font-medium ${f(S.probability)}`,children:b(S.probability)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:r.jsx("span",{className:`text-sm font-medium ${p(S.impact)}`,children:j(S.impact)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C.color}`,children:C.level})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${g(S.status)}`,children:x(S.status)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:S.owner}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-gray-500",children:S.dueDate})]},S.id)})})]})})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Ma trận rủi ro"}),r.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:r.jsx("p",{className:"text-gray-500",children:"Ma trận rủi ro sẽ được hiển thị tại đây"})})]})]})},W9=[{id:"1",title:"Gate Review 4 - UAV Control System",type:"gate-review",project:"Hệ thống Điều khiển UAV Tự động",date:"2024-01-15",time:"09:00",duration:120,location:"Phòng họp A",attendees:["Nguyễn Văn A","Trần Thị B","Lê Văn C"],status:"scheduled",description:"Đánh giá tiến độ và chất lượng giai đoạn Thiết kế Chi tiết",isOnline:!1},{id:"2",title:"Weekly Progress Meeting",type:"progress",project:"Cảm biến Nhiệt độ IoT",date:"2024-01-16",time:"14:00",duration:60,location:"Microsoft Teams",attendees:["Trần Thị B","Phạm Văn D"],status:"scheduled",description:"Họp tiến độ hàng tuần cho dự án IoT",isOnline:!0,meetingLink:"https://teams.microsoft.com/..."},{id:"3",title:"Technical Review - AI Platform",type:"technical",project:"Platform AI cho Robot",date:"2024-01-18",time:"10:30",duration:90,location:"Phòng họp B",attendees:["Lê Văn C","Hoàng Thị E","Vũ Văn F"],status:"completed",description:"Đánh giá kỹ thuật kiến trúc hệ thống AI",isOnline:!1}],Y9=[{value:"all",label:"Tất cả cuộc họp"},{value:"gate-review",label:"Gate Review"},{value:"progress",label:"Họp tiến độ"},{value:"planning",label:"Họp lập kế hoạch"},{value:"technical",label:"Họp kỹ thuật"}],G9=()=>{const[e]=N.useState(W9),[t,s]=N.useState("all"),[n,i]=N.useState("list"),o=e.filter(v=>t==="all"||v.type===t),c=v=>{switch(v){case"gate-review":return"bg-red-100 text-red-800";case"progress":return"bg-blue-100 text-blue-800";case"planning":return"bg-green-100 text-green-800";case"technical":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},u=v=>{switch(v){case"gate-review":return"Gate Review";case"progress":return"Họp tiến độ";case"planning":return"Lập kế hoạch";case"technical":return"Kỹ thuật";default:return v}},h=v=>{switch(v){case"scheduled":return"bg-blue-100 text-blue-800";case"in-progress":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},f=v=>{switch(v){case"scheduled":return"Đã lên lịch";case"in-progress":return"Đang diễn ra";case"completed":return"Hoàn thành";case"cancelled":return"Đã hủy";default:return v}},p=v=>new Date(v).toLocaleDateString("vi-VN",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),g=e.filter(v=>v.date==="2024-01-15").length,x=e.filter(v=>v.status==="scheduled").length,b=e.filter(v=>v.status==="completed").length,j=e.filter(v=>v.type==="gate-review").length;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Lịch họp"}),r.jsx("p",{className:"text-gray-600",children:"Quản lý cuộc họp và gate review"})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[r.jsx("button",{onClick:()=>i("list"),className:`px-3 py-1 rounded text-sm transition-colors ${n==="list"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:"Danh sách"}),r.jsx("button",{onClick:()=>i("calendar"),className:`px-3 py-1 rounded text-sm transition-colors ${n==="calendar"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:"Lịch"})]}),r.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[r.jsx(gr,{className:"h-4 w-4"}),"Tạo cuộc họp"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(an,{className:"h-8 w-8 text-blue-500"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Hôm nay"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Hi,{className:"h-8 w-8 text-green-500"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Sắp tới"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(oT,{className:"h-8 w-8 text-purple-500"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đã hoàn thành"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Fs,{className:"h-8 w-8 text-red-500"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Gate Review"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j})]})]})})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Loại cuộc họp:"}),r.jsx("select",{value:t,onChange:v=>s(v.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:Y9.map(v=>r.jsx("option",{value:v.value,children:v.label},v.value))})]})}),n==="list"?r.jsx("div",{className:"space-y-4",children:o.map(v=>r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:v.title}),r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c(v.type)}`,children:u(v.type)}),r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${h(v.status)}`,children:f(v.status)})]}),r.jsx("p",{className:"text-gray-600 mb-3",children:v.description}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm text-gray-500",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(an,{className:"h-4 w-4 mr-2"}),p(v.date)]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Hi,{className:"h-4 w-4 mr-2"}),v.time," (",v.duration," phút)"]}),r.jsxs("div",{className:"flex items-center",children:[v.isOnline?r.jsx(B1,{className:"h-4 w-4 mr-2"}):r.jsx(U4,{className:"h-4 w-4 mr-2"}),v.location]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(_a,{className:"h-4 w-4 mr-2"}),v.attendees.length," người tham gia"]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Dự án: ",r.jsx("span",{className:"font-medium",children:v.project})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:v.attendees.map((T,_)=>r.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded",children:T},_))})]})]}),r.jsxs("div",{className:"flex flex-col space-y-2 ml-4",children:[v.isOnline&&v.meetingLink&&r.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm flex items-center gap-1",children:[r.jsx(B1,{className:"h-3 w-3"}),"Tham gia"]}),r.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1 rounded text-sm",children:"Chi tiết"})]})]})},v.id))}):r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Lịch cuộc họp"}),r.jsx("div",{className:"h-96 bg-gray-50 rounded-lg flex items-center justify-center",children:r.jsx("p",{className:"text-gray-500",children:"Lịch cuộc họp sẽ được hiển thị tại đây"})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cuộc họp sắp tới"}),r.jsx("div",{className:"space-y-3",children:e.filter(v=>v.status==="scheduled").slice(0,3).map(v=>r.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:v.title}),r.jsxs("p",{className:"text-xs text-gray-500",children:[v.date," - ",v.time]})]})]},v.id))})]})]})},X9=[{id:"1",name:"Báo cáo tiến độ dự án tháng 1",type:"project",description:"Tổng hợp tiến độ thực hiện các dự án R&D trong tháng 1/2024",lastGenerated:"2024-01-15",status:"ready",format:"PDF"},{id:"2",name:"Phân tích chi phí quý 1",type:"financial",description:"Báo cáo chi tiết về tình hình tài chính và ngân sách dự án",lastGenerated:"2024-01-14",status:"ready",format:"Excel"},{id:"3",name:"Báo cáo hiệu suất nhân sự",type:"resource",description:"Đánh giá hiệu suất làm việc và phân bổ nguồn lực",lastGenerated:"2024-01-13",status:"generating",format:"PowerPoint"},{id:"4",name:"Dashboard KPI tổng quan",type:"performance",description:"Các chỉ số hiệu suất chính của tổ chức",lastGenerated:"2024-01-12",status:"ready",format:"PDF"}],K9=[{value:"all",label:"Tất cả báo cáo",icon:Fs},{value:"project",label:"Báo cáo dự án",icon:zh},{value:"financial",label:"Báo cáo tài chính",icon:zo},{value:"resource",label:"Báo cáo nguồn lực",icon:_a},{value:"performance",label:"Báo cáo hiệu suất",icon:Ql}],Q9=()=>{const[e]=N.useState(X9),[t,s]=N.useState("all"),[n,i]=N.useState("this-month"),o=e.filter(v=>t==="all"||v.type===t),c=v=>{switch(v){case"project":return"bg-blue-100 text-blue-800";case"financial":return"bg-green-100 text-green-800";case"resource":return"bg-purple-100 text-purple-800";case"performance":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},u=v=>{switch(v){case"project":return"Dự án";case"financial":return"Tài chính";case"resource":return"Nguồn lực";case"performance":return"Hiệu suất";default:return v}},h=v=>{switch(v){case"ready":return"bg-green-100 text-green-800";case"generating":return"bg-yellow-100 text-yellow-800";case"error":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},f=v=>{switch(v){case"ready":return"Sẵn sàng";case"generating":return"Đang tạo";case"error":return"Lỗi";default:return v}},p=v=>{switch(v){case"PDF":return"📄";case"Excel":return"📊";case"PowerPoint":return"📽️";default:return"📄"}},g=e.filter(v=>v.status==="ready").length,x=e.filter(v=>v.status==="generating").length,b=e.filter(v=>v.type==="project").length,j=e.filter(v=>v.type==="financial").length;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Báo cáo"}),r.jsx("p",{className:"text-gray-600",children:"Báo cáo và thống kê"})]}),r.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[r.jsx(Fs,{className:"h-4 w-4"}),"Tạo báo cáo mới"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Fs,{className:"h-8 w-8 text-green-500"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Báo cáo sẵn sàng"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(zh,{className:"h-8 w-8 text-yellow-500"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đang tạo"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(e4,{className:"h-8 w-8 text-blue-500"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Báo cáo dự án"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(zo,{className:"h-8 w-8 text-purple-500"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Báo cáo tài chính"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j})]})]})})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loại báo cáo"}),r.jsx("select",{value:t,onChange:v=>s(v.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:K9.map(v=>r.jsx("option",{value:v.value,children:v.label},v.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Thời gian"}),r.jsxs("select",{value:n,onChange:v=>i(v.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"this-week",children:"Tuần này"}),r.jsx("option",{value:"this-month",children:"Tháng này"}),r.jsx("option",{value:"this-quarter",children:"Quý này"}),r.jsx("option",{value:"this-year",children:"Năm này"}),r.jsx("option",{value:"custom",children:"Tùy chọn"})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs("button",{className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[r.jsx(dd,{className:"h-4 w-4"}),"Lọc"]})})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("button",{className:"bg-white hover:bg-gray-50 rounded-lg shadow-sm border border-gray-200 p-6 text-left transition-colors",children:[r.jsx(zh,{className:"h-8 w-8 text-blue-500 mb-3"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Báo cáo tiến độ"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Tổng quan tiến độ các dự án"})]}),r.jsxs("button",{className:"bg-white hover:bg-gray-50 rounded-lg shadow-sm border border-gray-200 p-6 text-left transition-colors",children:[r.jsx(zo,{className:"h-8 w-8 text-green-500 mb-3"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Báo cáo tài chính"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Chi phí và ngân sách"})]}),r.jsxs("button",{className:"bg-white hover:bg-gray-50 rounded-lg shadow-sm border border-gray-200 p-6 text-left transition-colors",children:[r.jsx(_a,{className:"h-8 w-8 text-purple-500 mb-3"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Báo cáo nhân sự"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Hiệu suất và phân bổ"})]}),r.jsxs("button",{className:"bg-white hover:bg-gray-50 rounded-lg shadow-sm border border-gray-200 p-6 text-left transition-colors",children:[r.jsx(Ql,{className:"h-8 w-8 text-orange-500 mb-3"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Dashboard KPI"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Chỉ số hiệu suất"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Báo cáo gần đây"})}),r.jsx("div",{className:"divide-y divide-gray-200",children:o.map(v=>r.jsx("div",{className:"p-6 hover:bg-gray-50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900",children:v.name}),r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c(v.type)}`,children:u(v.type)}),r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${h(v.status)}`,children:f(v.status)})]}),r.jsx("p",{className:"text-gray-600 mb-2",children:v.description}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(an,{className:"h-4 w-4 mr-1"}),"Tạo: ",v.lastGenerated]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"mr-1",children:p(v.format)}),v.format]})]})]}),r.jsxs("div",{className:"flex space-x-2 ml-4",children:[v.status==="ready"&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm flex items-center gap-1",children:[r.jsx(nc,{className:"h-3 w-3"}),"Tải xuống"]}),r.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1 rounded text-sm",children:"Xem"})]}),v.status==="generating"&&r.jsxs("div",{className:"flex items-center text-yellow-600",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-yellow-600 border-t-transparent mr-2"}),"Đang tạo..."]}),r.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1 rounded text-sm",children:"Tạo lại"})]})]})},v.id))})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Tiến độ dự án theo thời gian"}),r.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:r.jsx("p",{className:"text-gray-500",children:"Biểu đồ tiến độ sẽ được hiển thị tại đây"})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Phân bổ ngân sách theo dự án"}),r.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:r.jsx("p",{className:"text-gray-500",children:"Biểu đồ ngân sách sẽ được hiển thị tại đây"})})]})]})]})},YE=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thông tin tổ chức"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tên tổ chức"}),r.jsx("input",{type:"text",defaultValue:"R&D Management",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email liên hệ"}),r.jsx("input",{type:"email",defaultValue:"admin@company.com",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số điện thoại"}),r.jsx("input",{type:"tel",defaultValue:"+84 123 456 789",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Múi giờ"}),r.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"Asia/Ho_Chi_Minh",children:"UTC+7 (Việt Nam)"}),r.jsx("option",{value:"UTC",children:"UTC"}),r.jsx("option",{value:"Asia/Tokyo",children:"UTC+9 (Nhật Bản)"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cài đặt hệ thống"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Cho phép đăng ký mới"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Cho phép người dùng mới tự đăng ký tài khoản"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Yêu cầu xác thực 2 lớp"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Bắt buộc người dùng sử dụng 2FA"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})]}),Z9=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thông tin cá nhân"}),r.jsxs("div",{className:"flex items-center space-x-6 mb-6",children:[r.jsx("div",{className:"w-24 h-24 bg-blue-600 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-2xl",children:"AU"})}),r.jsxs("div",{children:[r.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg mr-3",children:"Thay đổi ảnh"}),r.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg",children:"Xóa ảnh"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Họ và tên"}),r.jsx("input",{type:"text",defaultValue:"Admin User",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),r.jsx("input",{type:"email",defaultValue:"admin@company.com",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vị trí"}),r.jsx("input",{type:"text",defaultValue:"System Administrator",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phòng ban"}),r.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{children:"IT Department"}),r.jsx("option",{children:"R&D Department"}),r.jsx("option",{children:"Management"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thay đổi mật khẩu"}),r.jsxs("div",{className:"space-y-4 max-w-md",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mật khẩu hiện tại"}),r.jsx("input",{type:"password",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mật khẩu mới"}),r.jsx("input",{type:"password",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Xác nhận mật khẩu mới"}),r.jsx("input",{type:"password",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Cập nhật mật khẩu"})]})]})]}),J9=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thông báo Email"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Cập nhật dự án"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Nhận thông báo khi có cập nhật về dự án"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Thông báo task"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Nhận thông báo khi có task mới được giao"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Báo cáo tuần"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Nhận báo cáo tổng hợp hàng tuần"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thông báo trình duyệt"}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Thông báo realtime"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Hiển thị thông báo ngay lập tức trên trình duyệt"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})})]})]}),e$=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Bảo mật tài khoản"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Xác thực 2 lớp (2FA)"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Tăng cường bảo mật với xác thực 2 lớp"})]}),r.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Kích hoạt"})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Phiên đăng nhập"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Quản lý các phiên đăng nhập hiện tại"})]}),r.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg",children:"Xem chi tiết"})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Nhật ký hoạt động"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Xem lịch sử hoạt động của tài khoản"})]}),r.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg",children:"Xem nhật ký"})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quyền riêng tư"}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Hiển thị trạng thái online"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Cho phép người khác thấy khi bạn đang online"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})})]})]}),Z_=[{id:"general",name:"Cài đặt chung",icon:iy,component:YE},{id:"user",name:"Tài khoản",icon:Ho,component:Z9},{id:"notifications",name:"Thông báo",icon:iT,component:J9},{id:"security",name:"Bảo mật",icon:lT,component:e$}],t$=()=>{var n;const[e,t]=N.useState("general"),s=((n=Z_.find(i=>i.id===e))==null?void 0:n.component)||YE;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Cài đặt"}),r.jsx("p",{className:"text-gray-600",children:"Cài đặt hệ thống"})]}),r.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[r.jsx(e3,{className:"h-4 w-4"}),"Lưu thay đổi"]})]}),r.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[r.jsx("div",{className:"lg:w-64 flex-shrink-0",children:r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:r.jsx("nav",{className:"space-y-1 p-2",children:Z_.map(i=>{const o=i.icon;return r.jsxs("button",{onClick:()=>t(i.id),className:`w-full flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${e===i.id?"bg-blue-50 text-blue-700 border-l-4 border-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(o,{className:`mr-3 h-5 w-5 ${e===i.id?"text-blue-600":"text-gray-400"}`}),i.name]},i.id)})})})}),r.jsx("div",{className:"flex-1",children:r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsx(s,{})})})]})]})},s$=[{id:1,project:"E-commerce Platform",task:"Design user interface mockups",user:"Jane Smith",startTime:"09:00 AM",endTime:"11:30 AM",duration:"2h 30m",date:"2024-03-08"},{id:2,project:"Mobile App Redesign",task:"API documentation",user:"Mike Johnson",startTime:"02:00 PM",endTime:"04:15 PM",duration:"2h 15m",date:"2024-03-08"},{id:3,project:"Data Analytics Dashboard",task:"Testing setup",user:"Sarah Wilson",startTime:"10:30 AM",endTime:"12:00 PM",duration:"1h 30m",date:"2024-03-07"}],n$=()=>{const[e,t]=ae.useState(!1),[s,n]=ae.useState("00:00:00");return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"md:flex md:items-center md:justify-between",children:r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Time Tracking"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Track time spent on projects and tasks"})]})}),r.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-6",children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("div",{className:"text-4xl font-mono font-bold text-gray-900",children:s}),r.jsx("div",{className:"flex items-center justify-center space-x-4",children:e?r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>t(!1),className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-yellow-600 hover:bg-yellow-700",children:[r.jsx(V4,{className:"mr-2 h-5 w-5"}),"Pause"]}),r.jsxs("button",{onClick:()=>{t(!1),n("00:00:00")},className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-red-600 hover:bg-red-700",children:[r.jsx(o3,{className:"mr-2 h-5 w-5"}),"Stop"]})]}):r.jsxs("button",{onClick:()=>t(!0),className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-green-600 hover:bg-green-700",children:[r.jsx(X4,{className:"mr-2 h-5 w-5"}),"Start Timer"]})}),e&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project"}),r.jsxs("select",{className:"w-full border border-gray-300 rounded-md px-3 py-2",children:[r.jsx("option",{children:"E-commerce Platform"}),r.jsx("option",{children:"Mobile App Redesign"}),r.jsx("option",{children:"Data Analytics Dashboard"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Task Description"}),r.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"What are you working on?"})]})]})]})}),r.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Time Entries"})}),r.jsx("div",{className:"overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Task"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time Period"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s$.map(i=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:i.project}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.task}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.user}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[i.startTime," - ",i.endTime]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[r.jsx(Hi,{className:"mr-1 h-3 w-3"}),i.duration]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.date})]},i.id))})]})})]})]})},a$=EM([{path:"/",element:r.jsx(RL,{}),children:[{index:!0,element:r.jsx(LU,{})},{path:"projects",element:r.jsx(S9,{})},{path:"tasks",element:r.jsx(L9,{})},{path:"documents",element:r.jsx(F9,{})},{path:"budget",element:r.jsx(H9,{})},{path:"risk",element:r.jsx(q9,{})},{path:"meetings",element:r.jsx(G9,{})},{path:"reports",element:r.jsx(Q9,{})},{path:"settings",element:r.jsx(t$,{})},{path:"time-tracking",element:r.jsx(n$,{})}]}],{basename:"/todo"});qD.createRoot(document.getElementById("root")).render(r.jsx(ae.StrictMode,{children:r.jsx(UM,{router:a$})}))});export default r$();
