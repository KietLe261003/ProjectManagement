var gC=Object.defineProperty,xC=Object.defineProperties;var yC=Object.getOwnPropertyDescriptors;var hf=Object.getOwnPropertySymbols;var Gw=Object.prototype.hasOwnProperty,Kw=Object.prototype.propertyIsEnumerable;var jl=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),bC=e=>{throw TypeError(e)};var ng=(e,t,n)=>t in e?gC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,L=(e,t)=>{for(var n in t||(t={}))Gw.call(t,n)&&ng(e,n,t[n]);if(hf)for(var n of hf(t))Kw.call(t,n)&&ng(e,n,t[n]);return e},de=(e,t)=>xC(e,yC(t));var Me=(e,t)=>{var n={};for(var s in e)Gw.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&hf)for(var s of hf(e))t.indexOf(s)<0&&Kw.call(e,s)&&(n[s]=e[s]);return n};var vC=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var ft=(e,t,n)=>ng(e,typeof t!="symbol"?t+"":t,n);var ye=(e,t,n)=>new Promise((s,a)=>{var o=f=>{try{d(n.next(f))}catch(h){a(h)}},l=f=>{try{d(n.throw(f))}catch(h){a(h)}},d=f=>f.done?s(f.value):Promise.resolve(f.value).then(o,l);d((n=n.apply(e,t)).next())}),fo=function(e,t){this[0]=e,this[1]=t},sg=(e,t,n)=>{var s=(l,d,f,h)=>{try{var p=n[l](d),g=(d=p.value)instanceof fo,b=p.done;Promise.resolve(g?d[0]:d).then(y=>g?s(l==="return"?l:"next",d[1]?{done:y.done,value:y.value}:y,f,h):f({value:y,done:b})).catch(y=>s("throw",y,f,h))}catch(y){h(y)}},a=l=>o[l]=d=>new Promise((f,h)=>s(l,d,f,h)),o={};return n=n.apply(e,t),o[jl("asyncIterator")]=()=>o,a("next"),a("throw"),a("return"),o},rg=e=>{var t=e[jl("asyncIterator")],n=!1,s,a={};return t==null?(t=e[jl("iterator")](),s=o=>a[o]=l=>t[o](l)):(t=t.call(e),s=o=>a[o]=l=>{if(n){if(n=!1,o==="throw")throw l;return l}return n=!0,{done:!1,value:new fo(new Promise(d=>{var f=t[o](l);f instanceof Object||bC("Object expected"),d(f)}),1)}}),a[jl("iterator")]=()=>a,s("next"),"throw"in t?s("throw"):a.throw=o=>{throw o},"return"in t&&s("return"),a},Qw=(e,t,n)=>(t=e[jl("asyncIterator")])?t.call(e):(e=e[jl("iterator")](),t={},n=(s,a)=>(a=e[s])&&(t[s]=o=>new Promise((l,d,f)=>(o=a.call(e,o),f=o.done,Promise.resolve(o.value).then(h=>l({value:h,done:f}),d)))),n("next"),n("return"),t);var yH=vC(_t=>{function wC(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(s,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function nx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ag={exports:{}},ru={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zw;function _C(){if(Zw)return ru;Zw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var d in a)d!=="key"&&(o[d]=a[d])}else o=a;return a=o.ref,{$$typeof:e,type:s,key:l,ref:a!==void 0?a:null,props:o}}return ru.Fragment=t,ru.jsx=n,ru.jsxs=n,ru}var Jw;function jC(){return Jw||(Jw=1,ag.exports=_C()),ag.exports}var c=jC(),ig={exports:{}},Ot={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function SC(){if(e_)return Ot;e_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function b(F){return F===null||typeof F!="object"?null:(F=g&&F[g]||F["@@iterator"],typeof F=="function"?F:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,_={};function j(F,W,me){this.props=F,this.context=W,this.refs=_,this.updater=me||y}j.prototype.isReactComponent={},j.prototype.setState=function(F,W){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,W,"setState")},j.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function S(){}S.prototype=j.prototype;function C(F,W,me){this.props=F,this.context=W,this.refs=_,this.updater=me||y}var R=C.prototype=new S;R.constructor=C,w(R,j.prototype),R.isPureReactComponent=!0;var k=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function $(F,W,me,U,re,_e){return me=_e.ref,{$$typeof:e,type:F,key:W,ref:me!==void 0?me:null,props:_e}}function A(F,W){return $(F.type,W,void 0,void 0,void 0,F.props)}function B(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function J(F){var W={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(me){return W[me]})}var K=/\/+/g;function I(F,W){return typeof F=="object"&&F!==null&&F.key!=null?J(""+F.key):W.toString(36)}function ee(){}function pe(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(ee,ee):(F.status="pending",F.then(function(W){F.status==="pending"&&(F.status="fulfilled",F.value=W)},function(W){F.status==="pending"&&(F.status="rejected",F.reason=W)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function ne(F,W,me,U,re){var _e=typeof F;(_e==="undefined"||_e==="boolean")&&(F=null);var xe=!1;if(F===null)xe=!0;else switch(_e){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(F.$$typeof){case e:case t:xe=!0;break;case p:return xe=F._init,ne(xe(F._payload),W,me,U,re)}}if(xe)return re=re(F),xe=U===""?"."+I(F,0):U,k(re)?(me="",xe!=null&&(me=xe.replace(K,"$&/")+"/"),ne(re,W,me,"",function($e){return $e})):re!=null&&(B(re)&&(re=A(re,me+(re.key==null||F&&F.key===re.key?"":(""+re.key).replace(K,"$&/")+"/")+xe)),W.push(re)),1;xe=0;var Ee=U===""?".":U+":";if(k(F))for(var Oe=0;Oe<F.length;Oe++)U=F[Oe],_e=Ee+I(U,Oe),xe+=ne(U,W,me,_e,re);else if(Oe=b(F),typeof Oe=="function")for(F=Oe.call(F),Oe=0;!(U=F.next()).done;)U=U.value,_e=Ee+I(U,Oe++),xe+=ne(U,W,me,_e,re);else if(_e==="object"){if(typeof F.then=="function")return ne(pe(F),W,me,U,re);throw W=String(F),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return xe}function V(F,W,me){if(F==null)return F;var U=[],re=0;return ne(F,U,"","",function(_e){return W.call(me,_e,re++)}),U}function te(F){if(F._status===-1){var W=F._result;W=W(),W.then(function(me){(F._status===0||F._status===-1)&&(F._status=1,F._result=me)},function(me){(F._status===0||F._status===-1)&&(F._status=2,F._result=me)}),F._status===-1&&(F._status=0,F._result=W)}if(F._status===1)return F._result.default;throw F._result}var Q=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function fe(){}return Ot.Children={map:V,forEach:function(F,W,me){V(F,function(){W.apply(this,arguments)},me)},count:function(F){var W=0;return V(F,function(){W++}),W},toArray:function(F){return V(F,function(W){return W})||[]},only:function(F){if(!B(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Ot.Component=j,Ot.Fragment=n,Ot.Profiler=a,Ot.PureComponent=C,Ot.StrictMode=s,Ot.Suspense=f,Ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Ot.__COMPILER_RUNTIME={__proto__:null,c:function(F){return O.H.useMemoCache(F)}},Ot.cache=function(F){return function(){return F.apply(null,arguments)}},Ot.cloneElement=function(F,W,me){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var U=w({},F.props),re=F.key,_e=void 0;if(W!=null)for(xe in W.ref!==void 0&&(_e=void 0),W.key!==void 0&&(re=""+W.key),W)!D.call(W,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&W.ref===void 0||(U[xe]=W[xe]);var xe=arguments.length-2;if(xe===1)U.children=me;else if(1<xe){for(var Ee=Array(xe),Oe=0;Oe<xe;Oe++)Ee[Oe]=arguments[Oe+2];U.children=Ee}return $(F.type,re,void 0,void 0,_e,U)},Ot.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:o,_context:F},F},Ot.createElement=function(F,W,me){var U,re={},_e=null;if(W!=null)for(U in W.key!==void 0&&(_e=""+W.key),W)D.call(W,U)&&U!=="key"&&U!=="__self"&&U!=="__source"&&(re[U]=W[U]);var xe=arguments.length-2;if(xe===1)re.children=me;else if(1<xe){for(var Ee=Array(xe),Oe=0;Oe<xe;Oe++)Ee[Oe]=arguments[Oe+2];re.children=Ee}if(F&&F.defaultProps)for(U in xe=F.defaultProps,xe)re[U]===void 0&&(re[U]=xe[U]);return $(F,_e,void 0,void 0,null,re)},Ot.createRef=function(){return{current:null}},Ot.forwardRef=function(F){return{$$typeof:d,render:F}},Ot.isValidElement=B,Ot.lazy=function(F){return{$$typeof:p,_payload:{_status:-1,_result:F},_init:te}},Ot.memo=function(F,W){return{$$typeof:h,type:F,compare:W===void 0?null:W}},Ot.startTransition=function(F){var W=O.T,me={};O.T=me;try{var U=F(),re=O.S;re!==null&&re(me,U),typeof U=="object"&&U!==null&&typeof U.then=="function"&&U.then(fe,Q)}catch(_e){Q(_e)}finally{O.T=W}},Ot.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Ot.use=function(F){return O.H.use(F)},Ot.useActionState=function(F,W,me){return O.H.useActionState(F,W,me)},Ot.useCallback=function(F,W){return O.H.useCallback(F,W)},Ot.useContext=function(F){return O.H.useContext(F)},Ot.useDebugValue=function(){},Ot.useDeferredValue=function(F,W){return O.H.useDeferredValue(F,W)},Ot.useEffect=function(F,W,me){var U=O.H;if(typeof me=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return U.useEffect(F,W)},Ot.useId=function(){return O.H.useId()},Ot.useImperativeHandle=function(F,W,me){return O.H.useImperativeHandle(F,W,me)},Ot.useInsertionEffect=function(F,W){return O.H.useInsertionEffect(F,W)},Ot.useLayoutEffect=function(F,W){return O.H.useLayoutEffect(F,W)},Ot.useMemo=function(F,W){return O.H.useMemo(F,W)},Ot.useOptimistic=function(F,W){return O.H.useOptimistic(F,W)},Ot.useReducer=function(F,W,me){return O.H.useReducer(F,W,me)},Ot.useRef=function(F){return O.H.useRef(F)},Ot.useState=function(F){return O.H.useState(F)},Ot.useSyncExternalStore=function(F,W,me){return O.H.useSyncExternalStore(F,W,me)},Ot.useTransition=function(){return O.H.useTransition()},Ot.version="19.1.1",Ot}var t_;function sx(){return t_||(t_=1,ig.exports=SC()),ig.exports}var N=sx();const Z=nx(N),xS=wC({__proto__:null,default:Z},[N]);var og={exports:{}},au={},lg={exports:{}},cg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function NC(){return n_||(n_=1,function(e){function t(V,te){var Q=V.length;V.push(te);e:for(;0<Q;){var fe=Q-1>>>1,F=V[fe];if(0<a(F,te))V[fe]=te,V[Q]=F,Q=fe;else break e}}function n(V){return V.length===0?null:V[0]}function s(V){if(V.length===0)return null;var te=V[0],Q=V.pop();if(Q!==te){V[0]=Q;e:for(var fe=0,F=V.length,W=F>>>1;fe<W;){var me=2*(fe+1)-1,U=V[me],re=me+1,_e=V[re];if(0>a(U,Q))re<F&&0>a(_e,U)?(V[fe]=_e,V[re]=Q,fe=re):(V[fe]=U,V[me]=Q,fe=me);else if(re<F&&0>a(_e,Q))V[fe]=_e,V[re]=Q,fe=re;else break e}}return te}function a(V,te){var Q=V.sortIndex-te.sortIndex;return Q!==0?Q:V.id-te.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var f=[],h=[],p=1,g=null,b=3,y=!1,w=!1,_=!1,j=!1,S=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate!="undefined"?setImmediate:null;function k(V){for(var te=n(h);te!==null;){if(te.callback===null)s(h);else if(te.startTime<=V)s(h),te.sortIndex=te.expirationTime,t(f,te);else break;te=n(h)}}function O(V){if(_=!1,k(V),!w)if(n(f)!==null)w=!0,D||(D=!0,I());else{var te=n(h);te!==null&&ne(O,te.startTime-V)}}var D=!1,$=-1,A=5,B=-1;function J(){return j?!0:!(e.unstable_now()-B<A)}function K(){if(j=!1,D){var V=e.unstable_now();B=V;var te=!0;try{e:{w=!1,_&&(_=!1,C($),$=-1),y=!0;var Q=b;try{t:{for(k(V),g=n(f);g!==null&&!(g.expirationTime>V&&J());){var fe=g.callback;if(typeof fe=="function"){g.callback=null,b=g.priorityLevel;var F=fe(g.expirationTime<=V);if(V=e.unstable_now(),typeof F=="function"){g.callback=F,k(V),te=!0;break t}g===n(f)&&s(f),k(V)}else s(f);g=n(f)}if(g!==null)te=!0;else{var W=n(h);W!==null&&ne(O,W.startTime-V),te=!1}}break e}finally{g=null,b=Q,y=!1}te=void 0}}finally{te?I():D=!1}}}var I;if(typeof R=="function")I=function(){R(K)};else if(typeof MessageChannel!="undefined"){var ee=new MessageChannel,pe=ee.port2;ee.port1.onmessage=K,I=function(){pe.postMessage(null)}}else I=function(){S(K,0)};function ne(V,te){$=S(function(){V(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(V){switch(b){case 1:case 2:case 3:var te=3;break;default:te=b}var Q=b;b=te;try{return V()}finally{b=Q}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(V,te){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Q=b;b=V;try{return te()}finally{b=Q}},e.unstable_scheduleCallback=function(V,te,Q){var fe=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?fe+Q:fe):Q=fe,V){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=Q+F,V={id:p++,callback:te,priorityLevel:V,startTime:Q,expirationTime:F,sortIndex:-1},Q>fe?(V.sortIndex=Q,t(h,V),n(f)===null&&V===n(h)&&(_?(C($),$=-1):_=!0,ne(O,Q-fe))):(V.sortIndex=F,t(f,V),w||y||(w=!0,D||(D=!0,I()))),V},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(V){var te=b;return function(){var Q=b;b=te;try{return V.apply(this,arguments)}finally{b=Q}}}}(cg)),cg}var s_;function EC(){return s_||(s_=1,lg.exports=NC()),lg.exports}var ug={exports:{}},Ns={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function TC(){if(r_)return Ns;r_=1;var e=sx();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Ns.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ns.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return o(f,h,null,p)},Ns.flushSync=function(f){var h=l.T,p=s.p;try{if(l.T=null,s.p=2,f)return f()}finally{l.T=h,s.p=p,s.d.f()}},Ns.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(f,h))},Ns.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},Ns.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?s.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:y}):p==="script"&&s.d.X(f,{crossOrigin:g,integrity:b,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Ns.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);s.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(f)},Ns.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin);s.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Ns.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=d(h.as,h.crossOrigin);s.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(f)},Ns.requestFormReset=function(f){s.d.r(f)},Ns.unstable_batchedUpdates=function(f,h){return f(h)},Ns.useFormState=function(f,h,p){return l.H.useFormState(f,h,p)},Ns.useFormStatus=function(){return l.H.useHostTransitionStatus()},Ns.version="19.1.1",Ns}var a_;function yS(){if(a_)return ug.exports;a_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ug.exports=TC(),ug.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function kC(){if(i_)return au;i_=1;var e=EC(),t=sx(),n=yS();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)i+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var i=r,u=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(u=i.return),r=i.return;while(r)}return i.tag===3?u:null}function l(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function d(r){if(o(r)!==r)throw Error(s(188))}function f(r){var i=r.alternate;if(!i){if(i=o(r),i===null)throw Error(s(188));return i!==r?null:r}for(var u=r,m=i;;){var x=u.return;if(x===null)break;var v=x.alternate;if(v===null){if(m=x.return,m!==null){u=m;continue}break}if(x.child===v.child){for(v=x.child;v;){if(v===u)return d(x),r;if(v===m)return d(x),i;v=v.sibling}throw Error(s(188))}if(u.return!==m.return)u=x,m=v;else{for(var T=!1,P=x.child;P;){if(P===u){T=!0,u=x,m=v;break}if(P===m){T=!0,m=x,u=v;break}P=P.sibling}if(!T){for(P=v.child;P;){if(P===u){T=!0,u=v,m=x;break}if(P===m){T=!0,m=v,u=x;break}P=P.sibling}if(!T)throw Error(s(189))}}if(u.alternate!==m)throw Error(s(190))}if(u.tag!==3)throw Error(s(188));return u.stateNode.current===u?r:i}function h(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=h(r),i!==null)return i;r=r.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),R=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function I(r){return r===null||typeof r!="object"?null:(r=K&&r[K]||r["@@iterator"],typeof r=="function"?r:null)}var ee=Symbol.for("react.client.reference");function pe(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===ee?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case w:return"Fragment";case j:return"Profiler";case _:return"StrictMode";case O:return"Suspense";case D:return"SuspenseList";case B:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case y:return"Portal";case R:return(r.displayName||"Context")+".Provider";case C:return(r._context.displayName||"Context")+".Consumer";case k:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case $:return i=r.displayName||null,i!==null?i:pe(r.type)||"Memo";case A:i=r._payload,r=r._init;try{return pe(r(i))}catch(u){}}return null}var ne=Array.isArray,V=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},fe=[],F=-1;function W(r){return{current:r}}function me(r){0>F||(r.current=fe[F],fe[F]=null,F--)}function U(r,i){F++,fe[F]=r.current,r.current=i}var re=W(null),_e=W(null),xe=W(null),Ee=W(null);function Oe(r,i){switch(U(xe,i),U(_e,r),U(re,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?jw(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=jw(i),r=Sw(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}me(re),U(re,r)}function $e(){me(re),me(_e),me(xe)}function Le(r){r.memoizedState!==null&&U(Ee,r);var i=re.current,u=Sw(i,r.type);i!==u&&(U(_e,r),U(re,u))}function lt(r){_e.current===r&&(me(re),me(_e)),Ee.current===r&&(me(Ee),Jc._currentValue=Q)}var Ke=Object.prototype.hasOwnProperty,pt=e.unstable_scheduleCallback,Pe=e.unstable_cancelCallback,ht=e.unstable_shouldYield,Ft=e.unstable_requestPaint,vt=e.unstable_now,Dt=e.unstable_getCurrentPriorityLevel,St=e.unstable_ImmediatePriority,Y=e.unstable_UserBlockingPriority,le=e.unstable_NormalPriority,q=e.unstable_LowPriority,Se=e.unstable_IdlePriority,De=e.log,Re=e.unstable_setDisableYieldValue,Fe=null,Ie=null;function Qe(r){if(typeof De=="function"&&Re(r),Ie&&typeof Ie.setStrictMode=="function")try{Ie.setStrictMode(Fe,r)}catch(i){}}var yt=Math.clz32?Math.clz32:ke,bn=Math.log,ct=Math.LN2;function ke(r){return r>>>=0,r===0?32:31-(bn(r)/ct|0)|0}var He=256,Mt=4194304;function Sn(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function as(r,i,u){var m=r.pendingLanes;if(m===0)return 0;var x=0,v=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var P=m&134217727;return P!==0?(m=P&~v,m!==0?x=Sn(m):(T&=P,T!==0?x=Sn(T):u||(u=P&~r,u!==0&&(x=Sn(u))))):(P=m&~v,P!==0?x=Sn(P):T!==0?x=Sn(T):u||(u=m&~r,u!==0&&(x=Sn(u)))),x===0?0:i!==0&&i!==x&&(i&v)===0&&(v=x&-x,u=i&-i,v>=u||v===32&&(u&4194048)!==0)?i:x}function Hn(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function ds(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xe(){var r=He;return He<<=1,(He&4194048)===0&&(He=256),r}function Pt(){var r=Mt;return Mt<<=1,(Mt&62914560)===0&&(Mt=4194304),r}function Ht(r){for(var i=[],u=0;31>u;u++)i.push(r);return i}function Nt(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function en(r,i,u,m,x,v){var T=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var P=r.entanglements,X=r.expirationTimes,ge=r.hiddenUpdates;for(u=T&~u;0<u;){var Ne=31-yt(u),Ce=1<<Ne;P[Ne]=0,X[Ne]=-1;var ve=ge[Ne];if(ve!==null)for(ge[Ne]=null,Ne=0;Ne<ve.length;Ne++){var we=ve[Ne];we!==null&&(we.lane&=-536870913)}u&=~Ce}m!==0&&Ge(r,m,0),v!==0&&x===0&&r.tag!==0&&(r.suspendedLanes|=v&~(T&~i))}function Ge(r,i,u){r.pendingLanes|=i,r.suspendedLanes&=~i;var m=31-yt(i);r.entangledLanes|=i,r.entanglements[m]=r.entanglements[m]|1073741824|u&4194090}function jt(r,i){var u=r.entangledLanes|=i;for(r=r.entanglements;u;){var m=31-yt(u),x=1<<m;x&i|r[m]&i&&(r[m]|=i),u&=~x}}function It(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Xt(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function G(){var r=te.p;return r!==0?r:(r=window.event,r===void 0?32:$w(r.type))}function ae(r,i){var u=te.p;try{return te.p=r,i()}finally{te.p=u}}var ue=Math.random().toString(36).slice(2),je="__reactFiber$"+ue,Ae="__reactProps$"+ue,Ve="__reactContainer$"+ue,Ze="__reactEvents$"+ue,nt="__reactListeners$"+ue,ut="__reactHandles$"+ue,At="__reactResources$"+ue,rt="__reactMarker$"+ue;function wt(r){delete r[je],delete r[Ae],delete r[Ze],delete r[nt],delete r[ut]}function Ct(r){var i=r[je];if(i)return i;for(var u=r.parentNode;u;){if(i=u[Ve]||u[je]){if(u=i.alternate,i.child!==null||u!==null&&u.child!==null)for(r=kw(r);r!==null;){if(u=r[je])return u;r=kw(r)}return i}r=u,u=r.parentNode}return null}function fn(r){if(r=r[je]||r[Ve]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function An(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function an(r){var i=r[At];return i||(i=r[At]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function at(r){r[rt]=!0}var Et=new Set,Gt={};function wn(r,i){On(r,i),On(r+"Capture",i)}function On(r,i){for(Gt[r]=i,r=0;r<i.length;r++)Et.add(i[r])}var Kn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),is={},or={};function lr(r){return Ke.call(or,r)?!0:Ke.call(is,r)?!1:Kn.test(r)?or[r]=!0:(is[r]=!0,!1)}function _s(r,i,u){if(lr(i))if(u===null)r.removeAttribute(i);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var m=i.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+u)}}function cr(r,i,u){if(u===null)r.removeAttribute(i);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+u)}}function Rt(r,i,u,m){if(m===null)r.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(i,u,""+m)}}var Rn,ha;function fs(r){if(Rn===void 0)try{throw Error()}catch(u){var i=u.stack.trim().match(/\n( *(at )?)/);Rn=i&&i[1]||"",ha=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rn+r+ha}var gn=!1;function Er(r,i){if(!r||gn)return"";gn=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(i){var Ce=function(){throw Error()};if(Object.defineProperty(Ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ce,[])}catch(we){var ve=we}Reflect.construct(r,[],Ce)}else{try{Ce.call()}catch(we){ve=we}r.call(Ce.prototype)}}else{try{throw Error()}catch(we){ve=we}(Ce=r())&&typeof Ce.catch=="function"&&Ce.catch(function(){})}}catch(we){if(we&&ve&&typeof we.stack=="string")return[we.stack,ve.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=m.DetermineComponentFrameRoot(),T=v[0],P=v[1];if(T&&P){var X=T.split(`
`),ge=P.split(`
`);for(x=m=0;m<X.length&&!X[m].includes("DetermineComponentFrameRoot");)m++;for(;x<ge.length&&!ge[x].includes("DetermineComponentFrameRoot");)x++;if(m===X.length||x===ge.length)for(m=X.length-1,x=ge.length-1;1<=m&&0<=x&&X[m]!==ge[x];)x--;for(;1<=m&&0<=x;m--,x--)if(X[m]!==ge[x]){if(m!==1||x!==1)do if(m--,x--,0>x||X[m]!==ge[x]){var Ne=`
`+X[m].replace(" at new "," at ");return r.displayName&&Ne.includes("<anonymous>")&&(Ne=Ne.replace("<anonymous>",r.displayName)),Ne}while(1<=m&&0<=x);break}}}finally{gn=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?fs(u):""}function Bo(r){switch(r.tag){case 26:case 27:case 5:return fs(r.type);case 16:return fs("Lazy");case 13:return fs("Suspense");case 19:return fs("SuspenseList");case 0:case 15:return Er(r.type,!1);case 11:return Er(r.type.render,!1);case 1:return Er(r.type,!0);case 31:return fs("Activity");default:return""}}function Fo(r){try{var i="";do i+=Bo(r),r=r.return;while(r);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Os(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ad(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function id(r){var i=ad(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),m=""+r[i];if(!r.hasOwnProperty(i)&&typeof u!="undefined"&&typeof u.get=="function"&&typeof u.set=="function"){var x=u.get,v=u.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return x.call(this)},set:function(T){m=""+T,v.call(this,T)}}),Object.defineProperty(r,i,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(T){m=""+T},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Hi(r){r._valueTracker||(r._valueTracker=id(r))}function $r(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var u=i.getValue(),m="";return r&&(m=ad(r)?r.checked?"true":"false":r.value),r=m,r!==u?(i.setValue(r),!0):!1}function Vi(r){if(r=r||(typeof document!="undefined"?document:void 0),typeof r=="undefined")return null;try{return r.activeElement||r.body}catch(i){return r.body}}var cm=/[\n"\\]/g;function Rs(r){return r.replace(cm,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function cc(r,i,u,m,x,v,T,P){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),i!=null?T==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+Os(i)):r.value!==""+Os(i)&&(r.value=""+Os(i)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),i!=null?uc(r,T,Os(i)):u!=null?uc(r,T,Os(u)):m!=null&&r.removeAttribute("value"),x==null&&v!=null&&(r.defaultChecked=!!v),x!=null&&(r.checked=x&&typeof x!="function"&&typeof x!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?r.name=""+Os(P):r.removeAttribute("name")}function od(r,i,u,m,x,v,T,P){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),i!=null||u!=null){if(!(v!=="submit"&&v!=="reset"||i!=null))return;u=u!=null?""+Os(u):"",i=i!=null?""+Os(i):u,P||i===r.value||(r.value=i),r.defaultValue=i}m=m!=null?m:x,m=typeof m!="function"&&typeof m!="symbol"&&!!m,r.checked=P?r.checked:!!m,r.defaultChecked=!!m,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function uc(r,i,u){i==="number"&&Vi(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function ma(r,i,u,m){if(r=r.options,i){i={};for(var x=0;x<u.length;x++)i["$"+u[x]]=!0;for(u=0;u<r.length;u++)x=i.hasOwnProperty("$"+r[u].value),r[u].selected!==x&&(r[u].selected=x),x&&m&&(r[u].defaultSelected=!0)}else{for(u=""+Os(u),i=null,x=0;x<r.length;x++){if(r[x].value===u){r[x].selected=!0,m&&(r[x].defaultSelected=!0);return}i!==null||r[x].disabled||(i=r[x])}i!==null&&(i.selected=!0)}}function $i(r,i,u){if(i!=null&&(i=""+Os(i),i!==r.value&&(r.value=i),u==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=u!=null?""+Os(u):""}function dc(r,i,u,m){if(i==null){if(m!=null){if(u!=null)throw Error(s(92));if(ne(m)){if(1<m.length)throw Error(s(93));m=m[0]}u=m}u==null&&(u=""),i=u}u=Os(i),r.defaultValue=u,m=r.textContent,m===u&&m!==""&&m!==null&&(r.value=m)}function $a(r,i){if(i){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=i;return}}r.textContent=i}var ld=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cd(r,i,u){var m=i.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":m?r.setProperty(i,u):typeof u!="number"||u===0||ld.has(i)?i==="float"?r.cssFloat=u:r[i]=(""+u).trim():r[i]=u+"px"}function fc(r,i,u){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||i!=null&&i.hasOwnProperty(m)||(m.indexOf("--")===0?r.setProperty(m,""):m==="float"?r.cssFloat="":r[m]="");for(var x in i)m=i[x],i.hasOwnProperty(x)&&u[x]!==m&&cd(r,x,m)}else for(var v in i)i.hasOwnProperty(v)&&cd(r,v,i[v])}function qi(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ho=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),um=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vo(r){return um.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var hc=null;function Ii(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var pa=null,qa=null;function mc(r){var i=fn(r);if(i&&(r=i.stateNode)){var u=r[Ae]||null;e:switch(r=i.stateNode,i.type){case"input":if(cc(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),i=u.name,u.type==="radio"&&i!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Rs(""+i)+'"][type="radio"]'),i=0;i<u.length;i++){var m=u[i];if(m!==r&&m.form===r.form){var x=m[Ae]||null;if(!x)throw Error(s(90));cc(m,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(i=0;i<u.length;i++)m=u[i],m.form===r.form&&$r(m)}break e;case"textarea":$i(r,u.value,u.defaultValue);break e;case"select":i=u.value,i!=null&&ma(r,!!u.multiple,i,!1)}}}var Yi=!1;function pc(r,i,u){if(Yi)return r(i,u);Yi=!0;try{var m=r(i);return m}finally{if(Yi=!1,(pa!==null||qa!==null)&&(Id(),pa&&(i=pa,r=qa,qa=pa=null,mc(i),r)))for(i=0;i<r.length;i++)mc(r[i])}}function Ia(r,i){var u=r.stateNode;if(u===null)return null;var m=u[Ae]||null;if(m===null)return null;u=m[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(r=r.type,m=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!m;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(s(231,i,typeof u));return u}var Ds=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),$o=!1;if(Ds)try{var Wi={};Object.defineProperty(Wi,"passive",{get:function(){$o=!0}}),window.addEventListener("test",Wi,Wi),window.removeEventListener("test",Wi,Wi)}catch(r){$o=!1}var Is=null,Ms=null,ga=null;function Xi(){if(ga)return ga;var r,i=Ms,u=i.length,m,x="value"in Is?Is.value:Is.textContent,v=x.length;for(r=0;r<u&&i[r]===x[r];r++);var T=u-r;for(m=1;m<=T&&i[u-m]===x[v-m];m++);return ga=x.slice(r,1<m?1-m:void 0)}function Ya(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function qo(){return!0}function ud(){return!1}function js(r){function i(u,m,x,v,T){this._reactName=u,this._targetInst=x,this.type=m,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var P in r)r.hasOwnProperty(P)&&(u=r[P],this[P]=u?u(v):v[P]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?qo:ud,this.isPropagationStopped=ud,this}return p(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=qo)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=qo)},persist:function(){},isPersistent:qo}),i}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Io=js(Tr),Wa=p({},Tr,{view:0,detail:0}),Dn=js(Wa),E,M,z,H=p({},Wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ur,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==z&&(z&&r.type==="mousemove"?(E=r.screenX-z.screenX,M=r.screenY-z.screenY):M=E=0,z=r),E)},movementY:function(r){return"movementY"in r?r.movementY:M}}),ie=js(H),ce=p({},H,{dataTransfer:0}),be=js(ce),Ue=p({},Wa,{relatedTarget:0}),ot=js(Ue),Be=p({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ye=js(Be),gt=p({},Tr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),on=js(gt),Tt=p({},Tr,{data:0}),dt=js(Tt),st={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},os={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Vn[r])?!!i[r]:!1}function ur(){return Nn}var Gi=p({},Wa,{key:function(r){if(r.key){var i=st[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Ya(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?os[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ur,charCode:function(r){return r.type==="keypress"?Ya(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ya(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),qr=js(Gi),Xa=p({},H,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yo=js(Xa),Wo=p({},Wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ur}),dd=js(Wo),MT=p({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),PT=js(MT),LT=p({},H,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),zT=js(LT),UT=p({},Tr,{newState:0,oldState:0}),BT=js(UT),FT=[9,13,27,32],dm=Ds&&"CompositionEvent"in window,gc=null;Ds&&"documentMode"in document&&(gc=document.documentMode);var HT=Ds&&"TextEvent"in window&&!gc,Ry=Ds&&(!dm||gc&&8<gc&&11>=gc),Dy=" ",My=!1;function Py(r,i){switch(r){case"keyup":return FT.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ly(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Xo=!1;function VT(r,i){switch(r){case"compositionend":return Ly(i);case"keypress":return i.which!==32?null:(My=!0,Dy);case"textInput":return r=i.data,r===Dy&&My?null:r;default:return null}}function $T(r,i){if(Xo)return r==="compositionend"||!dm&&Py(r,i)?(r=Xi(),ga=Ms=Is=null,Xo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ry&&i.locale!=="ko"?null:i.data;default:return null}}var qT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zy(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!qT[r.type]:i==="textarea"}function Uy(r,i,u,m){pa?qa?qa.push(m):qa=[m]:pa=m,i=Qd(i,"onChange"),0<i.length&&(u=new Io("onChange","change",null,u,m),r.push({event:u,listeners:i}))}var xc=null,yc=null;function IT(r){yw(r,0)}function fd(r){var i=An(r);if($r(i))return r}function By(r,i){if(r==="change")return i}var Fy=!1;if(Ds){var fm;if(Ds){var hm="oninput"in document;if(!hm){var Hy=document.createElement("div");Hy.setAttribute("oninput","return;"),hm=typeof Hy.oninput=="function"}fm=hm}else fm=!1;Fy=fm&&(!document.documentMode||9<document.documentMode)}function Vy(){xc&&(xc.detachEvent("onpropertychange",$y),yc=xc=null)}function $y(r){if(r.propertyName==="value"&&fd(yc)){var i=[];Uy(i,yc,r,Ii(r)),pc(IT,i)}}function YT(r,i,u){r==="focusin"?(Vy(),xc=i,yc=u,xc.attachEvent("onpropertychange",$y)):r==="focusout"&&Vy()}function WT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return fd(yc)}function XT(r,i){if(r==="click")return fd(i)}function GT(r,i){if(r==="input"||r==="change")return fd(i)}function KT(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Ys=typeof Object.is=="function"?Object.is:KT;function bc(r,i){if(Ys(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var u=Object.keys(r),m=Object.keys(i);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var x=u[m];if(!Ke.call(i,x)||!Ys(r[x],i[x]))return!1}return!0}function qy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Iy(r,i){var u=qy(r);r=0;for(var m;u;){if(u.nodeType===3){if(m=r+u.textContent.length,r<=i&&m>=i)return{node:u,offset:i-r};r=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=qy(u)}}function Yy(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Yy(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Wy(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=Vi(r.document);i instanceof r.HTMLIFrameElement;){try{var u=typeof i.contentWindow.location.href=="string"}catch(m){u=!1}if(u)r=i.contentWindow;else break;i=Vi(r.document)}return i}function mm(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var QT=Ds&&"documentMode"in document&&11>=document.documentMode,Go=null,pm=null,vc=null,gm=!1;function Xy(r,i,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;gm||Go==null||Go!==Vi(m)||(m=Go,"selectionStart"in m&&mm(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),vc&&bc(vc,m)||(vc=m,m=Qd(pm,"onSelect"),0<m.length&&(i=new Io("onSelect","select",null,i,u),r.push({event:i,listeners:m}),i.target=Go)))}function Ki(r,i){var u={};return u[r.toLowerCase()]=i.toLowerCase(),u["Webkit"+r]="webkit"+i,u["Moz"+r]="moz"+i,u}var Ko={animationend:Ki("Animation","AnimationEnd"),animationiteration:Ki("Animation","AnimationIteration"),animationstart:Ki("Animation","AnimationStart"),transitionrun:Ki("Transition","TransitionRun"),transitionstart:Ki("Transition","TransitionStart"),transitioncancel:Ki("Transition","TransitionCancel"),transitionend:Ki("Transition","TransitionEnd")},xm={},Gy={};Ds&&(Gy=document.createElement("div").style,"AnimationEvent"in window||(delete Ko.animationend.animation,delete Ko.animationiteration.animation,delete Ko.animationstart.animation),"TransitionEvent"in window||delete Ko.transitionend.transition);function Qi(r){if(xm[r])return xm[r];if(!Ko[r])return r;var i=Ko[r],u;for(u in i)if(i.hasOwnProperty(u)&&u in Gy)return xm[r]=i[u];return r}var Ky=Qi("animationend"),Qy=Qi("animationiteration"),Zy=Qi("animationstart"),ZT=Qi("transitionrun"),JT=Qi("transitionstart"),ek=Qi("transitioncancel"),Jy=Qi("transitionend"),eb=new Map,ym="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ym.push("scrollEnd");function kr(r,i){eb.set(r,i),wn(i,[r])}var tb=new WeakMap;function dr(r,i){if(typeof r=="object"&&r!==null){var u=tb.get(r);return u!==void 0?u:(i={value:r,source:i,stack:Fo(i)},tb.set(r,i),i)}return{value:r,source:i,stack:Fo(i)}}var fr=[],Qo=0,bm=0;function hd(){for(var r=Qo,i=bm=Qo=0;i<r;){var u=fr[i];fr[i++]=null;var m=fr[i];fr[i++]=null;var x=fr[i];fr[i++]=null;var v=fr[i];if(fr[i++]=null,m!==null&&x!==null){var T=m.pending;T===null?x.next=x:(x.next=T.next,T.next=x),m.pending=x}v!==0&&nb(u,x,v)}}function md(r,i,u,m){fr[Qo++]=r,fr[Qo++]=i,fr[Qo++]=u,fr[Qo++]=m,bm|=m,r.lanes|=m,r=r.alternate,r!==null&&(r.lanes|=m)}function vm(r,i,u,m){return md(r,i,u,m),pd(r)}function Zo(r,i){return md(r,null,null,i),pd(r)}function nb(r,i,u){r.lanes|=u;var m=r.alternate;m!==null&&(m.lanes|=u);for(var x=!1,v=r.return;v!==null;)v.childLanes|=u,m=v.alternate,m!==null&&(m.childLanes|=u),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(x=!0)),r=v,v=v.return;return r.tag===3?(v=r.stateNode,x&&i!==null&&(x=31-yt(u),r=v.hiddenUpdates,m=r[x],m===null?r[x]=[i]:m.push(i),i.lane=u|536870912),v):null}function pd(r){if(50<Ic)throw Ic=0,Ep=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var Jo={};function tk(r,i,u,m){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(r,i,u,m){return new tk(r,i,u,m)}function wm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function xa(r,i){var u=r.alternate;return u===null?(u=Ws(r.tag,i,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=i,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,i=r.dependencies,u.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function sb(r,i){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,i=u.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function gd(r,i,u,m,x,v){var T=0;if(m=r,typeof r=="function")wm(r)&&(T=1);else if(typeof r=="string")T=sC(r,u,re.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case B:return r=Ws(31,u,i,x),r.elementType=B,r.lanes=v,r;case w:return Zi(u.children,x,v,i);case _:T=8,x|=24;break;case j:return r=Ws(12,u,i,x|2),r.elementType=j,r.lanes=v,r;case O:return r=Ws(13,u,i,x),r.elementType=O,r.lanes=v,r;case D:return r=Ws(19,u,i,x),r.elementType=D,r.lanes=v,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case S:case R:T=10;break e;case C:T=9;break e;case k:T=11;break e;case $:T=14;break e;case A:T=16,m=null;break e}T=29,u=Error(s(130,r===null?"null":typeof r,"")),m=null}return i=Ws(T,u,i,x),i.elementType=r,i.type=m,i.lanes=v,i}function Zi(r,i,u,m){return r=Ws(7,r,m,i),r.lanes=u,r}function _m(r,i,u){return r=Ws(6,r,null,i),r.lanes=u,r}function jm(r,i,u){return i=Ws(4,r.children!==null?r.children:[],r.key,i),i.lanes=u,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var el=[],tl=0,xd=null,yd=0,hr=[],mr=0,Ji=null,ya=1,ba="";function eo(r,i){el[tl++]=yd,el[tl++]=xd,xd=r,yd=i}function rb(r,i,u){hr[mr++]=ya,hr[mr++]=ba,hr[mr++]=Ji,Ji=r;var m=ya;r=ba;var x=32-yt(m)-1;m&=~(1<<x),u+=1;var v=32-yt(i)+x;if(30<v){var T=x-x%5;v=(m&(1<<T)-1).toString(32),m>>=T,x-=T,ya=1<<32-yt(i)+x|u<<x|m,ba=v+r}else ya=1<<v|u<<x|m,ba=r}function Sm(r){r.return!==null&&(eo(r,1),rb(r,1,0))}function Nm(r){for(;r===xd;)xd=el[--tl],el[tl]=null,yd=el[--tl],el[tl]=null;for(;r===Ji;)Ji=hr[--mr],hr[mr]=null,ba=hr[--mr],hr[mr]=null,ya=hr[--mr],hr[mr]=null}var Cs=null,Mn=null,tn=!1,to=null,Ir=!1,Em=Error(s(519));function no(r){var i=Error(s(418,""));throw jc(dr(i,r)),Em}function ab(r){var i=r.stateNode,u=r.type,m=r.memoizedProps;switch(i[je]=r,i[Ae]=m,u){case"dialog":$t("cancel",i),$t("close",i);break;case"iframe":case"object":case"embed":$t("load",i);break;case"video":case"audio":for(u=0;u<Wc.length;u++)$t(Wc[u],i);break;case"source":$t("error",i);break;case"img":case"image":case"link":$t("error",i),$t("load",i);break;case"details":$t("toggle",i);break;case"input":$t("invalid",i),od(i,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),Hi(i);break;case"select":$t("invalid",i);break;case"textarea":$t("invalid",i),dc(i,m.value,m.defaultValue,m.children),Hi(i)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||i.textContent===""+u||m.suppressHydrationWarning===!0||_w(i.textContent,u)?(m.popover!=null&&($t("beforetoggle",i),$t("toggle",i)),m.onScroll!=null&&$t("scroll",i),m.onScrollEnd!=null&&$t("scrollend",i),m.onClick!=null&&(i.onclick=Zd),i=!0):i=!1,i||no(r)}function ib(r){for(Cs=r.return;Cs;)switch(Cs.tag){case 5:case 13:Ir=!1;return;case 27:case 3:Ir=!0;return;default:Cs=Cs.return}}function wc(r){if(r!==Cs)return!1;if(!tn)return ib(r),tn=!0,!1;var i=r.tag,u;if((u=i!==3&&i!==27)&&((u=i===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||Vp(r.type,r.memoizedProps)),u=!u),u&&Mn&&no(r),ib(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(u=r.data,u==="/$"){if(i===0){Mn=Ar(r.nextSibling);break e}i--}else u!=="$"&&u!=="$!"&&u!=="$?"||i++;r=r.nextSibling}Mn=null}}else i===27?(i=Mn,ui(r.type)?(r=Yp,Yp=null,Mn=r):Mn=i):Mn=Cs?Ar(r.stateNode.nextSibling):null;return!0}function _c(){Mn=Cs=null,tn=!1}function ob(){var r=to;return r!==null&&(zs===null?zs=r:zs.push.apply(zs,r),to=null),r}function jc(r){to===null?to=[r]:to.push(r)}var Tm=W(null),so=null,va=null;function Ga(r,i,u){U(Tm,i._currentValue),i._currentValue=u}function wa(r){r._currentValue=Tm.current,me(Tm)}function km(r,i,u){for(;r!==null;){var m=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,m!==null&&(m.childLanes|=i)):m!==null&&(m.childLanes&i)!==i&&(m.childLanes|=i),r===u)break;r=r.return}}function Cm(r,i,u,m){var x=r.child;for(x!==null&&(x.return=r);x!==null;){var v=x.dependencies;if(v!==null){var T=x.child;v=v.firstContext;e:for(;v!==null;){var P=v;v=x;for(var X=0;X<i.length;X++)if(P.context===i[X]){v.lanes|=u,P=v.alternate,P!==null&&(P.lanes|=u),km(v.return,u,r),m||(T=null);break e}v=P.next}}else if(x.tag===18){if(T=x.return,T===null)throw Error(s(341));T.lanes|=u,v=T.alternate,v!==null&&(v.lanes|=u),km(T,u,r),T=null}else T=x.child;if(T!==null)T.return=x;else for(T=x;T!==null;){if(T===r){T=null;break}if(x=T.sibling,x!==null){x.return=T.return,T=x;break}T=T.return}x=T}}function Sc(r,i,u,m){r=null;for(var x=i,v=!1;x!==null;){if(!v){if((x.flags&524288)!==0)v=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var T=x.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var P=x.type;Ys(x.pendingProps.value,T.value)||(r!==null?r.push(P):r=[P])}}else if(x===Ee.current){if(T=x.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(r!==null?r.push(Jc):r=[Jc])}x=x.return}r!==null&&Cm(i,r,u,m),i.flags|=262144}function bd(r){for(r=r.firstContext;r!==null;){if(!Ys(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ro(r){so=r,va=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Ss(r){return lb(so,r)}function vd(r,i){return so===null&&ro(r),lb(r,i)}function lb(r,i){var u=i._currentValue;if(i={context:i,memoizedValue:u,next:null},va===null){if(r===null)throw Error(s(308));va=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else va=va.next=i;return u}var nk=typeof AbortController!="undefined"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(u,m){r.push(m)}};this.abort=function(){i.aborted=!0,r.forEach(function(u){return u()})}},sk=e.unstable_scheduleCallback,rk=e.unstable_NormalPriority,Qn={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Am(){return{controller:new nk,data:new Map,refCount:0}}function Nc(r){r.refCount--,r.refCount===0&&sk(rk,function(){r.controller.abort()})}var Ec=null,Om=0,nl=0,sl=null;function ak(r,i){if(Ec===null){var u=Ec=[];Om=0,nl=Dp(),sl={status:"pending",value:void 0,then:function(m){u.push(m)}}}return Om++,i.then(cb,cb),i}function cb(){if(--Om===0&&Ec!==null){sl!==null&&(sl.status="fulfilled");var r=Ec;Ec=null,nl=0,sl=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function ik(r,i){var u=[],m={status:"pending",value:null,reason:null,then:function(x){u.push(x)}};return r.then(function(){m.status="fulfilled",m.value=i;for(var x=0;x<u.length;x++)(0,u[x])(i)},function(x){for(m.status="rejected",m.reason=x,x=0;x<u.length;x++)(0,u[x])(void 0)}),m}var ub=V.S;V.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&ak(r,i),ub!==null&&ub(r,i)};var ao=W(null);function Rm(){var r=ao.current;return r!==null?r:xn.pooledCache}function wd(r,i){i===null?U(ao,ao.current):U(ao,i.pool)}function db(){var r=Rm();return r===null?null:{parent:Qn._currentValue,pool:r}}var Tc=Error(s(460)),fb=Error(s(474)),_d=Error(s(542)),Dm={then:function(){}};function hb(r){return r=r.status,r==="fulfilled"||r==="rejected"}function jd(){}function mb(r,i,u){switch(u=r[u],u===void 0?r.push(i):u!==i&&(i.then(jd,jd),i=u),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,gb(r),r;default:if(typeof i.status=="string")i.then(jd,jd);else{if(r=xn,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(m){if(i.status==="pending"){var x=i;x.status="fulfilled",x.value=m}},function(m){if(i.status==="pending"){var x=i;x.status="rejected",x.reason=m}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,gb(r),r}throw kc=i,Tc}}var kc=null;function pb(){if(kc===null)throw Error(s(459));var r=kc;return kc=null,r}function gb(r){if(r===Tc||r===_d)throw Error(s(483))}var Ka=!1;function Mm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pm(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Qa(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Za(r,i,u){var m=r.updateQueue;if(m===null)return null;if(m=m.shared,(nn&2)!==0){var x=m.pending;return x===null?i.next=i:(i.next=x.next,x.next=i),m.pending=i,i=pd(r),nb(r,null,u),i}return md(r,m,i,u),pd(r)}function Cc(r,i,u){if(i=i.updateQueue,i!==null&&(i=i.shared,(u&4194048)!==0)){var m=i.lanes;m&=r.pendingLanes,u|=m,i.lanes=u,jt(r,u)}}function Lm(r,i){var u=r.updateQueue,m=r.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var x=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var T={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};v===null?x=v=T:v=v.next=T,u=u.next}while(u!==null);v===null?x=v=i:v=v.next=i}else x=v=i;u={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:v,shared:m.shared,callbacks:m.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=i:r.next=i,u.lastBaseUpdate=i}var zm=!1;function Ac(){if(zm){var r=sl;if(r!==null)throw r}}function Oc(r,i,u,m){zm=!1;var x=r.updateQueue;Ka=!1;var v=x.firstBaseUpdate,T=x.lastBaseUpdate,P=x.shared.pending;if(P!==null){x.shared.pending=null;var X=P,ge=X.next;X.next=null,T===null?v=ge:T.next=ge,T=X;var Ne=r.alternate;Ne!==null&&(Ne=Ne.updateQueue,P=Ne.lastBaseUpdate,P!==T&&(P===null?Ne.firstBaseUpdate=ge:P.next=ge,Ne.lastBaseUpdate=X))}if(v!==null){var Ce=x.baseState;T=0,Ne=ge=X=null,P=v;do{var ve=P.lane&-536870913,we=ve!==P.lane;if(we?(Wt&ve)===ve:(m&ve)===ve){ve!==0&&ve===nl&&(zm=!0),Ne!==null&&(Ne=Ne.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var bt=r,mt=P;ve=i;var un=u;switch(mt.tag){case 1:if(bt=mt.payload,typeof bt=="function"){Ce=bt.call(un,Ce,ve);break e}Ce=bt;break e;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=mt.payload,ve=typeof bt=="function"?bt.call(un,Ce,ve):bt,ve==null)break e;Ce=p({},Ce,ve);break e;case 2:Ka=!0}}ve=P.callback,ve!==null&&(r.flags|=64,we&&(r.flags|=8192),we=x.callbacks,we===null?x.callbacks=[ve]:we.push(ve))}else we={lane:ve,tag:P.tag,payload:P.payload,callback:P.callback,next:null},Ne===null?(ge=Ne=we,X=Ce):Ne=Ne.next=we,T|=ve;if(P=P.next,P===null){if(P=x.shared.pending,P===null)break;we=P,P=we.next,we.next=null,x.lastBaseUpdate=we,x.shared.pending=null}}while(!0);Ne===null&&(X=Ce),x.baseState=X,x.firstBaseUpdate=ge,x.lastBaseUpdate=Ne,v===null&&(x.shared.lanes=0),ii|=T,r.lanes=T,r.memoizedState=Ce}}function xb(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function yb(r,i){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)xb(u[r],i)}var rl=W(null),Sd=W(0);function bb(r,i){r=ka,U(Sd,r),U(rl,i),ka=r|i.baseLanes}function Um(){U(Sd,ka),U(rl,rl.current)}function Bm(){ka=Sd.current,me(rl),me(Sd)}var Ja=0,Lt=null,ln=null,$n=null,Nd=!1,al=!1,io=!1,Ed=0,Rc=0,il=null,ok=0;function Ln(){throw Error(s(321))}function Fm(r,i){if(i===null)return!1;for(var u=0;u<i.length&&u<r.length;u++)if(!Ys(r[u],i[u]))return!1;return!0}function Hm(r,i,u,m,x,v){return Ja=v,Lt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,V.H=r===null||r.memoizedState===null?nv:sv,io=!1,v=u(m,x),io=!1,al&&(v=wb(i,u,m,x)),vb(r),v}function vb(r){V.H=Rd;var i=ln!==null&&ln.next!==null;if(Ja=0,$n=ln=Lt=null,Nd=!1,Rc=0,il=null,i)throw Error(s(300));r===null||ls||(r=r.dependencies,r!==null&&bd(r)&&(ls=!0))}function wb(r,i,u,m){Lt=r;var x=0;do{if(al&&(il=null),Rc=0,al=!1,25<=x)throw Error(s(301));if(x+=1,$n=ln=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}V.H=mk,v=i(u,m)}while(al);return v}function lk(){var r=V.H,i=r.useState()[0];return i=typeof i.then=="function"?Dc(i):i,r=r.useState()[0],(ln!==null?ln.memoizedState:null)!==r&&(Lt.flags|=1024),i}function Vm(){var r=Ed!==0;return Ed=0,r}function $m(r,i,u){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~u}function qm(r){if(Nd){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Nd=!1}Ja=0,$n=ln=Lt=null,al=!1,Rc=Ed=0,il=null}function Ps(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $n===null?Lt.memoizedState=$n=r:$n=$n.next=r,$n}function qn(){if(ln===null){var r=Lt.alternate;r=r!==null?r.memoizedState:null}else r=ln.next;var i=$n===null?Lt.memoizedState:$n.next;if(i!==null)$n=i,ln=r;else{if(r===null)throw Lt.alternate===null?Error(s(467)):Error(s(310));ln=r,r={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},$n===null?Lt.memoizedState=$n=r:$n=$n.next=r}return $n}function Im(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dc(r){var i=Rc;return Rc+=1,il===null&&(il=[]),r=mb(il,r,i),i=Lt,($n===null?i.memoizedState:$n.next)===null&&(i=i.alternate,V.H=i===null||i.memoizedState===null?nv:sv),r}function Td(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Dc(r);if(r.$$typeof===R)return Ss(r)}throw Error(s(438,String(r)))}function Ym(r){var i=null,u=Lt.updateQueue;if(u!==null&&(i=u.memoCache),i==null){var m=Lt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(i={data:m.data.map(function(x){return x.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),u===null&&(u=Im(),Lt.updateQueue=u),u.memoCache=i,u=i.data[i.index],u===void 0)for(u=i.data[i.index]=Array(r),m=0;m<r;m++)u[m]=J;return i.index++,u}function _a(r,i){return typeof i=="function"?i(r):i}function kd(r){var i=qn();return Wm(i,ln,r)}function Wm(r,i,u){var m=r.queue;if(m===null)throw Error(s(311));m.lastRenderedReducer=u;var x=r.baseQueue,v=m.pending;if(v!==null){if(x!==null){var T=x.next;x.next=v.next,v.next=T}i.baseQueue=x=v,m.pending=null}if(v=r.baseState,x===null)r.memoizedState=v;else{i=x.next;var P=T=null,X=null,ge=i,Ne=!1;do{var Ce=ge.lane&-536870913;if(Ce!==ge.lane?(Wt&Ce)===Ce:(Ja&Ce)===Ce){var ve=ge.revertLane;if(ve===0)X!==null&&(X=X.next={lane:0,revertLane:0,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null}),Ce===nl&&(Ne=!0);else if((Ja&ve)===ve){ge=ge.next,ve===nl&&(Ne=!0);continue}else Ce={lane:0,revertLane:ge.revertLane,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null},X===null?(P=X=Ce,T=v):X=X.next=Ce,Lt.lanes|=ve,ii|=ve;Ce=ge.action,io&&u(v,Ce),v=ge.hasEagerState?ge.eagerState:u(v,Ce)}else ve={lane:Ce,revertLane:ge.revertLane,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null},X===null?(P=X=ve,T=v):X=X.next=ve,Lt.lanes|=Ce,ii|=Ce;ge=ge.next}while(ge!==null&&ge!==i);if(X===null?T=v:X.next=P,!Ys(v,r.memoizedState)&&(ls=!0,Ne&&(u=sl,u!==null)))throw u;r.memoizedState=v,r.baseState=T,r.baseQueue=X,m.lastRenderedState=v}return x===null&&(m.lanes=0),[r.memoizedState,m.dispatch]}function Xm(r){var i=qn(),u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=r;var m=u.dispatch,x=u.pending,v=i.memoizedState;if(x!==null){u.pending=null;var T=x=x.next;do v=r(v,T.action),T=T.next;while(T!==x);Ys(v,i.memoizedState)||(ls=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),u.lastRenderedState=v}return[v,m]}function _b(r,i,u){var m=Lt,x=qn(),v=tn;if(v){if(u===void 0)throw Error(s(407));u=u()}else u=i();var T=!Ys((ln||x).memoizedState,u);T&&(x.memoizedState=u,ls=!0),x=x.queue;var P=Nb.bind(null,m,x,r);if(Mc(2048,8,P,[r]),x.getSnapshot!==i||T||$n!==null&&$n.memoizedState.tag&1){if(m.flags|=2048,ol(9,Cd(),Sb.bind(null,m,x,u,i),null),xn===null)throw Error(s(349));v||(Ja&124)!==0||jb(m,i,u)}return u}function jb(r,i,u){r.flags|=16384,r={getSnapshot:i,value:u},i=Lt.updateQueue,i===null?(i=Im(),Lt.updateQueue=i,i.stores=[r]):(u=i.stores,u===null?i.stores=[r]:u.push(r))}function Sb(r,i,u,m){i.value=u,i.getSnapshot=m,Eb(i)&&Tb(r)}function Nb(r,i,u){return u(function(){Eb(i)&&Tb(r)})}function Eb(r){var i=r.getSnapshot;r=r.value;try{var u=i();return!Ys(r,u)}catch(m){return!0}}function Tb(r){var i=Zo(r,2);i!==null&&Zs(i,r,2)}function Gm(r){var i=Ps();if(typeof r=="function"){var u=r;if(r=u(),io){Qe(!0);try{u()}finally{Qe(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:r},i}function kb(r,i,u,m){return r.baseState=u,Wm(r,ln,typeof m=="function"?m:_a)}function ck(r,i,u,m,x){if(Od(r))throw Error(s(485));if(r=i.action,r!==null){var v={payload:x,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){v.listeners.push(T)}};V.T!==null?u(!0):v.isTransition=!1,m(v),u=i.pending,u===null?(v.next=i.pending=v,Cb(i,v)):(v.next=u.next,i.pending=u.next=v)}}function Cb(r,i){var u=i.action,m=i.payload,x=r.state;if(i.isTransition){var v=V.T,T={};V.T=T;try{var P=u(x,m),X=V.S;X!==null&&X(T,P),Ab(r,i,P)}catch(ge){Km(r,i,ge)}finally{V.T=v}}else try{v=u(x,m),Ab(r,i,v)}catch(ge){Km(r,i,ge)}}function Ab(r,i,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){Ob(r,i,m)},function(m){return Km(r,i,m)}):Ob(r,i,u)}function Ob(r,i,u){i.status="fulfilled",i.value=u,Rb(i),r.state=u,i=r.pending,i!==null&&(u=i.next,u===i?r.pending=null:(u=u.next,i.next=u,Cb(r,u)))}function Km(r,i,u){var m=r.pending;if(r.pending=null,m!==null){m=m.next;do i.status="rejected",i.reason=u,Rb(i),i=i.next;while(i!==m)}r.action=null}function Rb(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function Db(r,i){return i}function Mb(r,i){if(tn){var u=xn.formState;if(u!==null){e:{var m=Lt;if(tn){if(Mn){t:{for(var x=Mn,v=Ir;x.nodeType!==8;){if(!v){x=null;break t}if(x=Ar(x.nextSibling),x===null){x=null;break t}}v=x.data,x=v==="F!"||v==="F"?x:null}if(x){Mn=Ar(x.nextSibling),m=x.data==="F!";break e}}no(m)}m=!1}m&&(i=u[0])}}return u=Ps(),u.memoizedState=u.baseState=i,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Db,lastRenderedState:i},u.queue=m,u=Jb.bind(null,Lt,m),m.dispatch=u,m=Gm(!1),v=tp.bind(null,Lt,!1,m.queue),m=Ps(),x={state:i,dispatch:null,action:r,pending:null},m.queue=x,u=ck.bind(null,Lt,x,v,u),x.dispatch=u,m.memoizedState=r,[i,u,!1]}function Pb(r){var i=qn();return Lb(i,ln,r)}function Lb(r,i,u){if(i=Wm(r,i,Db)[0],r=kd(_a)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var m=Dc(i)}catch(T){throw T===Tc?_d:T}else m=i;i=qn();var x=i.queue,v=x.dispatch;return u!==i.memoizedState&&(Lt.flags|=2048,ol(9,Cd(),uk.bind(null,x,u),null)),[m,v,r]}function uk(r,i){r.action=i}function zb(r){var i=qn(),u=ln;if(u!==null)return Lb(i,u,r);qn(),i=i.memoizedState,u=qn();var m=u.queue.dispatch;return u.memoizedState=r,[i,m,!1]}function ol(r,i,u,m){return r={tag:r,create:u,deps:m,inst:i,next:null},i=Lt.updateQueue,i===null&&(i=Im(),Lt.updateQueue=i),u=i.lastEffect,u===null?i.lastEffect=r.next=r:(m=u.next,u.next=r,r.next=m,i.lastEffect=r),r}function Cd(){return{destroy:void 0,resource:void 0}}function Ub(){return qn().memoizedState}function Ad(r,i,u,m){var x=Ps();m=m===void 0?null:m,Lt.flags|=r,x.memoizedState=ol(1|i,Cd(),u,m)}function Mc(r,i,u,m){var x=qn();m=m===void 0?null:m;var v=x.memoizedState.inst;ln!==null&&m!==null&&Fm(m,ln.memoizedState.deps)?x.memoizedState=ol(i,v,u,m):(Lt.flags|=r,x.memoizedState=ol(1|i,v,u,m))}function Bb(r,i){Ad(8390656,8,r,i)}function Fb(r,i){Mc(2048,8,r,i)}function Hb(r,i){return Mc(4,2,r,i)}function Vb(r,i){return Mc(4,4,r,i)}function $b(r,i){if(typeof i=="function"){r=r();var u=i(r);return function(){typeof u=="function"?u():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function qb(r,i,u){u=u!=null?u.concat([r]):null,Mc(4,4,$b.bind(null,i,r),u)}function Qm(){}function Ib(r,i){var u=qn();i=i===void 0?null:i;var m=u.memoizedState;return i!==null&&Fm(i,m[1])?m[0]:(u.memoizedState=[r,i],r)}function Yb(r,i){var u=qn();i=i===void 0?null:i;var m=u.memoizedState;if(i!==null&&Fm(i,m[1]))return m[0];if(m=r(),io){Qe(!0);try{r()}finally{Qe(!1)}}return u.memoizedState=[m,i],m}function Zm(r,i,u){return u===void 0||(Ja&1073741824)!==0?r.memoizedState=i:(r.memoizedState=u,r=Gv(),Lt.lanes|=r,ii|=r,u)}function Wb(r,i,u,m){return Ys(u,i)?u:rl.current!==null?(r=Zm(r,u,m),Ys(r,i)||(ls=!0),r):(Ja&42)===0?(ls=!0,r.memoizedState=u):(r=Gv(),Lt.lanes|=r,ii|=r,i)}function Xb(r,i,u,m,x){var v=te.p;te.p=v!==0&&8>v?v:8;var T=V.T,P={};V.T=P,tp(r,!1,i,u);try{var X=x(),ge=V.S;if(ge!==null&&ge(P,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var Ne=ik(X,m);Pc(r,i,Ne,Qs(r))}else Pc(r,i,m,Qs(r))}catch(Ce){Pc(r,i,{then:function(){},status:"rejected",reason:Ce},Qs())}finally{te.p=v,V.T=T}}function dk(){}function Jm(r,i,u,m){if(r.tag!==5)throw Error(s(476));var x=Gb(r).queue;Xb(r,x,i,Q,u===null?dk:function(){return Kb(r),u(m)})}function Gb(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:Q},next:null};var u={};return i.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:u},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function Kb(r){var i=Gb(r).next.queue;Pc(r,i,{},Qs())}function ep(){return Ss(Jc)}function Qb(){return qn().memoizedState}function Zb(){return qn().memoizedState}function fk(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var u=Qs();r=Qa(u);var m=Za(i,r,u);m!==null&&(Zs(m,i,u),Cc(m,i,u)),i={cache:Am()},r.payload=i;return}i=i.return}}function hk(r,i,u){var m=Qs();u={lane:m,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Od(r)?ev(i,u):(u=vm(r,i,u,m),u!==null&&(Zs(u,r,m),tv(u,i,m)))}function Jb(r,i,u){var m=Qs();Pc(r,i,u,m)}function Pc(r,i,u,m){var x={lane:m,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Od(r))ev(i,x);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var T=i.lastRenderedState,P=v(T,u);if(x.hasEagerState=!0,x.eagerState=P,Ys(P,T))return md(r,i,x,0),xn===null&&hd(),!1}catch(X){}finally{}if(u=vm(r,i,x,m),u!==null)return Zs(u,r,m),tv(u,i,m),!0}return!1}function tp(r,i,u,m){if(m={lane:2,revertLane:Dp(),action:m,hasEagerState:!1,eagerState:null,next:null},Od(r)){if(i)throw Error(s(479))}else i=vm(r,u,m,2),i!==null&&Zs(i,r,2)}function Od(r){var i=r.alternate;return r===Lt||i!==null&&i===Lt}function ev(r,i){al=Nd=!0;var u=r.pending;u===null?i.next=i:(i.next=u.next,u.next=i),r.pending=i}function tv(r,i,u){if((u&4194048)!==0){var m=i.lanes;m&=r.pendingLanes,u|=m,i.lanes=u,jt(r,u)}}var Rd={readContext:Ss,use:Td,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useLayoutEffect:Ln,useInsertionEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useSyncExternalStore:Ln,useId:Ln,useHostTransitionStatus:Ln,useFormState:Ln,useActionState:Ln,useOptimistic:Ln,useMemoCache:Ln,useCacheRefresh:Ln},nv={readContext:Ss,use:Td,useCallback:function(r,i){return Ps().memoizedState=[r,i===void 0?null:i],r},useContext:Ss,useEffect:Bb,useImperativeHandle:function(r,i,u){u=u!=null?u.concat([r]):null,Ad(4194308,4,$b.bind(null,i,r),u)},useLayoutEffect:function(r,i){return Ad(4194308,4,r,i)},useInsertionEffect:function(r,i){Ad(4,2,r,i)},useMemo:function(r,i){var u=Ps();i=i===void 0?null:i;var m=r();if(io){Qe(!0);try{r()}finally{Qe(!1)}}return u.memoizedState=[m,i],m},useReducer:function(r,i,u){var m=Ps();if(u!==void 0){var x=u(i);if(io){Qe(!0);try{u(i)}finally{Qe(!1)}}}else x=i;return m.memoizedState=m.baseState=x,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:x},m.queue=r,r=r.dispatch=hk.bind(null,Lt,r),[m.memoizedState,r]},useRef:function(r){var i=Ps();return r={current:r},i.memoizedState=r},useState:function(r){r=Gm(r);var i=r.queue,u=Jb.bind(null,Lt,i);return i.dispatch=u,[r.memoizedState,u]},useDebugValue:Qm,useDeferredValue:function(r,i){var u=Ps();return Zm(u,r,i)},useTransition:function(){var r=Gm(!1);return r=Xb.bind(null,Lt,r.queue,!0,!1),Ps().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,u){var m=Lt,x=Ps();if(tn){if(u===void 0)throw Error(s(407));u=u()}else{if(u=i(),xn===null)throw Error(s(349));(Wt&124)!==0||jb(m,i,u)}x.memoizedState=u;var v={value:u,getSnapshot:i};return x.queue=v,Bb(Nb.bind(null,m,v,r),[r]),m.flags|=2048,ol(9,Cd(),Sb.bind(null,m,v,u,i),null),u},useId:function(){var r=Ps(),i=xn.identifierPrefix;if(tn){var u=ba,m=ya;u=(m&~(1<<32-yt(m)-1)).toString(32)+u,i="«"+i+"R"+u,u=Ed++,0<u&&(i+="H"+u.toString(32)),i+="»"}else u=ok++,i="«"+i+"r"+u.toString(32)+"»";return r.memoizedState=i},useHostTransitionStatus:ep,useFormState:Mb,useActionState:Mb,useOptimistic:function(r){var i=Ps();i.memoizedState=i.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=u,i=tp.bind(null,Lt,!0,u),u.dispatch=i,[r,i]},useMemoCache:Ym,useCacheRefresh:function(){return Ps().memoizedState=fk.bind(null,Lt)}},sv={readContext:Ss,use:Td,useCallback:Ib,useContext:Ss,useEffect:Fb,useImperativeHandle:qb,useInsertionEffect:Hb,useLayoutEffect:Vb,useMemo:Yb,useReducer:kd,useRef:Ub,useState:function(){return kd(_a)},useDebugValue:Qm,useDeferredValue:function(r,i){var u=qn();return Wb(u,ln.memoizedState,r,i)},useTransition:function(){var r=kd(_a)[0],i=qn().memoizedState;return[typeof r=="boolean"?r:Dc(r),i]},useSyncExternalStore:_b,useId:Qb,useHostTransitionStatus:ep,useFormState:Pb,useActionState:Pb,useOptimistic:function(r,i){var u=qn();return kb(u,ln,r,i)},useMemoCache:Ym,useCacheRefresh:Zb},mk={readContext:Ss,use:Td,useCallback:Ib,useContext:Ss,useEffect:Fb,useImperativeHandle:qb,useInsertionEffect:Hb,useLayoutEffect:Vb,useMemo:Yb,useReducer:Xm,useRef:Ub,useState:function(){return Xm(_a)},useDebugValue:Qm,useDeferredValue:function(r,i){var u=qn();return ln===null?Zm(u,r,i):Wb(u,ln.memoizedState,r,i)},useTransition:function(){var r=Xm(_a)[0],i=qn().memoizedState;return[typeof r=="boolean"?r:Dc(r),i]},useSyncExternalStore:_b,useId:Qb,useHostTransitionStatus:ep,useFormState:zb,useActionState:zb,useOptimistic:function(r,i){var u=qn();return ln!==null?kb(u,ln,r,i):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:Ym,useCacheRefresh:Zb},ll=null,Lc=0;function Dd(r){var i=Lc;return Lc+=1,ll===null&&(ll=[]),mb(ll,r,i)}function zc(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function Md(r,i){throw i.$$typeof===g?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function rv(r){var i=r._init;return i(r._payload)}function av(r){function i(oe,se){if(r){var he=oe.deletions;he===null?(oe.deletions=[se],oe.flags|=16):he.push(se)}}function u(oe,se){if(!r)return null;for(;se!==null;)i(oe,se),se=se.sibling;return null}function m(oe){for(var se=new Map;oe!==null;)oe.key!==null?se.set(oe.key,oe):se.set(oe.index,oe),oe=oe.sibling;return se}function x(oe,se){return oe=xa(oe,se),oe.index=0,oe.sibling=null,oe}function v(oe,se,he){return oe.index=he,r?(he=oe.alternate,he!==null?(he=he.index,he<se?(oe.flags|=67108866,se):he):(oe.flags|=67108866,se)):(oe.flags|=1048576,se)}function T(oe){return r&&oe.alternate===null&&(oe.flags|=67108866),oe}function P(oe,se,he,Te){return se===null||se.tag!==6?(se=_m(he,oe.mode,Te),se.return=oe,se):(se=x(se,he),se.return=oe,se)}function X(oe,se,he,Te){var Je=he.type;return Je===w?Ne(oe,se,he.props.children,Te,he.key):se!==null&&(se.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===A&&rv(Je)===se.type)?(se=x(se,he.props),zc(se,he),se.return=oe,se):(se=gd(he.type,he.key,he.props,null,oe.mode,Te),zc(se,he),se.return=oe,se)}function ge(oe,se,he,Te){return se===null||se.tag!==4||se.stateNode.containerInfo!==he.containerInfo||se.stateNode.implementation!==he.implementation?(se=jm(he,oe.mode,Te),se.return=oe,se):(se=x(se,he.children||[]),se.return=oe,se)}function Ne(oe,se,he,Te,Je){return se===null||se.tag!==7?(se=Zi(he,oe.mode,Te,Je),se.return=oe,se):(se=x(se,he),se.return=oe,se)}function Ce(oe,se,he){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return se=_m(""+se,oe.mode,he),se.return=oe,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case b:return he=gd(se.type,se.key,se.props,null,oe.mode,he),zc(he,se),he.return=oe,he;case y:return se=jm(se,oe.mode,he),se.return=oe,se;case A:var Te=se._init;return se=Te(se._payload),Ce(oe,se,he)}if(ne(se)||I(se))return se=Zi(se,oe.mode,he,null),se.return=oe,se;if(typeof se.then=="function")return Ce(oe,Dd(se),he);if(se.$$typeof===R)return Ce(oe,vd(oe,se),he);Md(oe,se)}return null}function ve(oe,se,he,Te){var Je=se!==null?se.key:null;if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Je!==null?null:P(oe,se,""+he,Te);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case b:return he.key===Je?X(oe,se,he,Te):null;case y:return he.key===Je?ge(oe,se,he,Te):null;case A:return Je=he._init,he=Je(he._payload),ve(oe,se,he,Te)}if(ne(he)||I(he))return Je!==null?null:Ne(oe,se,he,Te,null);if(typeof he.then=="function")return ve(oe,se,Dd(he),Te);if(he.$$typeof===R)return ve(oe,se,vd(oe,he),Te);Md(oe,he)}return null}function we(oe,se,he,Te,Je){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return oe=oe.get(he)||null,P(se,oe,""+Te,Je);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case b:return oe=oe.get(Te.key===null?he:Te.key)||null,X(se,oe,Te,Je);case y:return oe=oe.get(Te.key===null?he:Te.key)||null,ge(se,oe,Te,Je);case A:var Ut=Te._init;return Te=Ut(Te._payload),we(oe,se,he,Te,Je)}if(ne(Te)||I(Te))return oe=oe.get(he)||null,Ne(se,oe,Te,Je,null);if(typeof Te.then=="function")return we(oe,se,he,Dd(Te),Je);if(Te.$$typeof===R)return we(oe,se,he,vd(se,Te),Je);Md(se,Te)}return null}function bt(oe,se,he,Te){for(var Je=null,Ut=null,it=se,xt=se=0,us=null;it!==null&&xt<he.length;xt++){it.index>xt?(us=it,it=null):us=it.sibling;var Jt=ve(oe,it,he[xt],Te);if(Jt===null){it===null&&(it=us);break}r&&it&&Jt.alternate===null&&i(oe,it),se=v(Jt,se,xt),Ut===null?Je=Jt:Ut.sibling=Jt,Ut=Jt,it=us}if(xt===he.length)return u(oe,it),tn&&eo(oe,xt),Je;if(it===null){for(;xt<he.length;xt++)it=Ce(oe,he[xt],Te),it!==null&&(se=v(it,se,xt),Ut===null?Je=it:Ut.sibling=it,Ut=it);return tn&&eo(oe,xt),Je}for(it=m(it);xt<he.length;xt++)us=we(it,oe,xt,he[xt],Te),us!==null&&(r&&us.alternate!==null&&it.delete(us.key===null?xt:us.key),se=v(us,se,xt),Ut===null?Je=us:Ut.sibling=us,Ut=us);return r&&it.forEach(function(pi){return i(oe,pi)}),tn&&eo(oe,xt),Je}function mt(oe,se,he,Te){if(he==null)throw Error(s(151));for(var Je=null,Ut=null,it=se,xt=se=0,us=null,Jt=he.next();it!==null&&!Jt.done;xt++,Jt=he.next()){it.index>xt?(us=it,it=null):us=it.sibling;var pi=ve(oe,it,Jt.value,Te);if(pi===null){it===null&&(it=us);break}r&&it&&pi.alternate===null&&i(oe,it),se=v(pi,se,xt),Ut===null?Je=pi:Ut.sibling=pi,Ut=pi,it=us}if(Jt.done)return u(oe,it),tn&&eo(oe,xt),Je;if(it===null){for(;!Jt.done;xt++,Jt=he.next())Jt=Ce(oe,Jt.value,Te),Jt!==null&&(se=v(Jt,se,xt),Ut===null?Je=Jt:Ut.sibling=Jt,Ut=Jt);return tn&&eo(oe,xt),Je}for(it=m(it);!Jt.done;xt++,Jt=he.next())Jt=we(it,oe,xt,Jt.value,Te),Jt!==null&&(r&&Jt.alternate!==null&&it.delete(Jt.key===null?xt:Jt.key),se=v(Jt,se,xt),Ut===null?Je=Jt:Ut.sibling=Jt,Ut=Jt);return r&&it.forEach(function(pC){return i(oe,pC)}),tn&&eo(oe,xt),Je}function un(oe,se,he,Te){if(typeof he=="object"&&he!==null&&he.type===w&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case b:e:{for(var Je=he.key;se!==null;){if(se.key===Je){if(Je=he.type,Je===w){if(se.tag===7){u(oe,se.sibling),Te=x(se,he.props.children),Te.return=oe,oe=Te;break e}}else if(se.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===A&&rv(Je)===se.type){u(oe,se.sibling),Te=x(se,he.props),zc(Te,he),Te.return=oe,oe=Te;break e}u(oe,se);break}else i(oe,se);se=se.sibling}he.type===w?(Te=Zi(he.props.children,oe.mode,Te,he.key),Te.return=oe,oe=Te):(Te=gd(he.type,he.key,he.props,null,oe.mode,Te),zc(Te,he),Te.return=oe,oe=Te)}return T(oe);case y:e:{for(Je=he.key;se!==null;){if(se.key===Je)if(se.tag===4&&se.stateNode.containerInfo===he.containerInfo&&se.stateNode.implementation===he.implementation){u(oe,se.sibling),Te=x(se,he.children||[]),Te.return=oe,oe=Te;break e}else{u(oe,se);break}else i(oe,se);se=se.sibling}Te=jm(he,oe.mode,Te),Te.return=oe,oe=Te}return T(oe);case A:return Je=he._init,he=Je(he._payload),un(oe,se,he,Te)}if(ne(he))return bt(oe,se,he,Te);if(I(he)){if(Je=I(he),typeof Je!="function")throw Error(s(150));return he=Je.call(he),mt(oe,se,he,Te)}if(typeof he.then=="function")return un(oe,se,Dd(he),Te);if(he.$$typeof===R)return un(oe,se,vd(oe,he),Te);Md(oe,he)}return typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint"?(he=""+he,se!==null&&se.tag===6?(u(oe,se.sibling),Te=x(se,he),Te.return=oe,oe=Te):(u(oe,se),Te=_m(he,oe.mode,Te),Te.return=oe,oe=Te),T(oe)):u(oe,se)}return function(oe,se,he,Te){try{Lc=0;var Je=un(oe,se,he,Te);return ll=null,Je}catch(it){if(it===Tc||it===_d)throw it;var Ut=Ws(29,it,null,oe.mode);return Ut.lanes=Te,Ut.return=oe,Ut}finally{}}}var cl=av(!0),iv=av(!1),pr=W(null),Yr=null;function ei(r){var i=r.alternate;U(Zn,Zn.current&1),U(pr,r),Yr===null&&(i===null||rl.current!==null||i.memoizedState!==null)&&(Yr=r)}function ov(r){if(r.tag===22){if(U(Zn,Zn.current),U(pr,r),Yr===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(Yr=r)}}else ti()}function ti(){U(Zn,Zn.current),U(pr,pr.current)}function ja(r){me(pr),Yr===r&&(Yr=null),me(Zn)}var Zn=W(0);function Pd(r){for(var i=r;i!==null;){if(i.tag===13){var u=i.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Ip(u)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function np(r,i,u,m){i=r.memoizedState,u=u(m,i),u=u==null?i:p({},i,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var sp={enqueueSetState:function(r,i,u){r=r._reactInternals;var m=Qs(),x=Qa(m);x.payload=i,u!=null&&(x.callback=u),i=Za(r,x,m),i!==null&&(Zs(i,r,m),Cc(i,r,m))},enqueueReplaceState:function(r,i,u){r=r._reactInternals;var m=Qs(),x=Qa(m);x.tag=1,x.payload=i,u!=null&&(x.callback=u),i=Za(r,x,m),i!==null&&(Zs(i,r,m),Cc(i,r,m))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var u=Qs(),m=Qa(u);m.tag=2,i!=null&&(m.callback=i),i=Za(r,m,u),i!==null&&(Zs(i,r,u),Cc(i,r,u))}};function lv(r,i,u,m,x,v,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(m,v,T):i.prototype&&i.prototype.isPureReactComponent?!bc(u,m)||!bc(x,v):!0}function cv(r,i,u,m){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(u,m),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(u,m),i.state!==r&&sp.enqueueReplaceState(i,i.state,null)}function oo(r,i){var u=i;if("ref"in i){u={};for(var m in i)m!=="ref"&&(u[m]=i[m])}if(r=r.defaultProps){u===i&&(u=p({},u));for(var x in r)u[x]===void 0&&(u[x]=r[x])}return u}var Ld=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function uv(r){Ld(r)}function dv(r){console.error(r)}function fv(r){Ld(r)}function zd(r,i){try{var u=r.onUncaughtError;u(i.value,{componentStack:i.stack})}catch(m){setTimeout(function(){throw m})}}function hv(r,i,u){try{var m=r.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function rp(r,i,u){return u=Qa(u),u.tag=3,u.payload={element:null},u.callback=function(){zd(r,i)},u}function mv(r){return r=Qa(r),r.tag=3,r}function pv(r,i,u,m){var x=u.type.getDerivedStateFromError;if(typeof x=="function"){var v=m.value;r.payload=function(){return x(v)},r.callback=function(){hv(i,u,m)}}var T=u.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){hv(i,u,m),typeof x!="function"&&(oi===null?oi=new Set([this]):oi.add(this));var P=m.stack;this.componentDidCatch(m.value,{componentStack:P!==null?P:""})})}function pk(r,i,u,m,x){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(i=u.alternate,i!==null&&Sc(i,u,x,!0),u=pr.current,u!==null){switch(u.tag){case 13:return Yr===null?kp():u.alternate===null&&Pn===0&&(Pn=3),u.flags&=-257,u.flags|=65536,u.lanes=x,m===Dm?u.flags|=16384:(i=u.updateQueue,i===null?u.updateQueue=new Set([m]):i.add(m),Ap(r,m,x)),!1;case 22:return u.flags|=65536,m===Dm?u.flags|=16384:(i=u.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=i):(u=i.retryQueue,u===null?i.retryQueue=new Set([m]):u.add(m)),Ap(r,m,x)),!1}throw Error(s(435,u.tag))}return Ap(r,m,x),kp(),!1}if(tn)return i=pr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=x,m!==Em&&(r=Error(s(422),{cause:m}),jc(dr(r,u)))):(m!==Em&&(i=Error(s(423),{cause:m}),jc(dr(i,u))),r=r.current.alternate,r.flags|=65536,x&=-x,r.lanes|=x,m=dr(m,u),x=rp(r.stateNode,m,x),Lm(r,x),Pn!==4&&(Pn=2)),!1;var v=Error(s(520),{cause:m});if(v=dr(v,u),qc===null?qc=[v]:qc.push(v),Pn!==4&&(Pn=2),i===null)return!0;m=dr(m,u),u=i;do{switch(u.tag){case 3:return u.flags|=65536,r=x&-x,u.lanes|=r,r=rp(u.stateNode,m,r),Lm(u,r),!1;case 1:if(i=u.type,v=u.stateNode,(u.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(oi===null||!oi.has(v))))return u.flags|=65536,x&=-x,u.lanes|=x,x=mv(x),pv(x,r,u,m),Lm(u,x),!1}u=u.return}while(u!==null);return!1}var gv=Error(s(461)),ls=!1;function hs(r,i,u,m){i.child=r===null?iv(i,null,u,m):cl(i,r.child,u,m)}function xv(r,i,u,m,x){u=u.render;var v=i.ref;if("ref"in m){var T={};for(var P in m)P!=="ref"&&(T[P]=m[P])}else T=m;return ro(i),m=Hm(r,i,u,T,v,x),P=Vm(),r!==null&&!ls?($m(r,i,x),Sa(r,i,x)):(tn&&P&&Sm(i),i.flags|=1,hs(r,i,m,x),i.child)}function yv(r,i,u,m,x){if(r===null){var v=u.type;return typeof v=="function"&&!wm(v)&&v.defaultProps===void 0&&u.compare===null?(i.tag=15,i.type=v,bv(r,i,v,m,x)):(r=gd(u.type,null,m,i,i.mode,x),r.ref=i.ref,r.return=i,i.child=r)}if(v=r.child,!fp(r,x)){var T=v.memoizedProps;if(u=u.compare,u=u!==null?u:bc,u(T,m)&&r.ref===i.ref)return Sa(r,i,x)}return i.flags|=1,r=xa(v,m),r.ref=i.ref,r.return=i,i.child=r}function bv(r,i,u,m,x){if(r!==null){var v=r.memoizedProps;if(bc(v,m)&&r.ref===i.ref)if(ls=!1,i.pendingProps=m=v,fp(r,x))(r.flags&131072)!==0&&(ls=!0);else return i.lanes=r.lanes,Sa(r,i,x)}return ap(r,i,u,m,x)}function vv(r,i,u){var m=i.pendingProps,x=m.children,v=r!==null?r.memoizedState:null;if(m.mode==="hidden"){if((i.flags&128)!==0){if(m=v!==null?v.baseLanes|u:u,r!==null){for(x=i.child=r.child,v=0;x!==null;)v=v|x.lanes|x.childLanes,x=x.sibling;i.childLanes=v&~m}else i.childLanes=0,i.child=null;return wv(r,i,m,u)}if((u&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&wd(i,v!==null?v.cachePool:null),v!==null?bb(i,v):Um(),ov(i);else return i.lanes=i.childLanes=536870912,wv(r,i,v!==null?v.baseLanes|u:u,u)}else v!==null?(wd(i,v.cachePool),bb(i,v),ti(),i.memoizedState=null):(r!==null&&wd(i,null),Um(),ti());return hs(r,i,x,u),i.child}function wv(r,i,u,m){var x=Rm();return x=x===null?null:{parent:Qn._currentValue,pool:x},i.memoizedState={baseLanes:u,cachePool:x},r!==null&&wd(i,null),Um(),ov(i),r!==null&&Sc(r,i,m,!0),null}function Ud(r,i){var u=i.ref;if(u===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(s(284));(r===null||r.ref!==u)&&(i.flags|=4194816)}}function ap(r,i,u,m,x){return ro(i),u=Hm(r,i,u,m,void 0,x),m=Vm(),r!==null&&!ls?($m(r,i,x),Sa(r,i,x)):(tn&&m&&Sm(i),i.flags|=1,hs(r,i,u,x),i.child)}function _v(r,i,u,m,x,v){return ro(i),i.updateQueue=null,u=wb(i,m,u,x),vb(r),m=Vm(),r!==null&&!ls?($m(r,i,v),Sa(r,i,v)):(tn&&m&&Sm(i),i.flags|=1,hs(r,i,u,v),i.child)}function jv(r,i,u,m,x){if(ro(i),i.stateNode===null){var v=Jo,T=u.contextType;typeof T=="object"&&T!==null&&(v=Ss(T)),v=new u(m,v),i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=sp,i.stateNode=v,v._reactInternals=i,v=i.stateNode,v.props=m,v.state=i.memoizedState,v.refs={},Mm(i),T=u.contextType,v.context=typeof T=="object"&&T!==null?Ss(T):Jo,v.state=i.memoizedState,T=u.getDerivedStateFromProps,typeof T=="function"&&(np(i,u,T,m),v.state=i.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(T=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),T!==v.state&&sp.enqueueReplaceState(v,v.state,null),Oc(i,m,v,x),Ac(),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308),m=!0}else if(r===null){v=i.stateNode;var P=i.memoizedProps,X=oo(u,P);v.props=X;var ge=v.context,Ne=u.contextType;T=Jo,typeof Ne=="object"&&Ne!==null&&(T=Ss(Ne));var Ce=u.getDerivedStateFromProps;Ne=typeof Ce=="function"||typeof v.getSnapshotBeforeUpdate=="function",P=i.pendingProps!==P,Ne||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(P||ge!==T)&&cv(i,v,m,T),Ka=!1;var ve=i.memoizedState;v.state=ve,Oc(i,m,v,x),Ac(),ge=i.memoizedState,P||ve!==ge||Ka?(typeof Ce=="function"&&(np(i,u,Ce,m),ge=i.memoizedState),(X=Ka||lv(i,u,X,m,ve,ge,T))?(Ne||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=m,i.memoizedState=ge),v.props=m,v.state=ge,v.context=T,m=X):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),m=!1)}else{v=i.stateNode,Pm(r,i),T=i.memoizedProps,Ne=oo(u,T),v.props=Ne,Ce=i.pendingProps,ve=v.context,ge=u.contextType,X=Jo,typeof ge=="object"&&ge!==null&&(X=Ss(ge)),P=u.getDerivedStateFromProps,(ge=typeof P=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T!==Ce||ve!==X)&&cv(i,v,m,X),Ka=!1,ve=i.memoizedState,v.state=ve,Oc(i,m,v,x),Ac();var we=i.memoizedState;T!==Ce||ve!==we||Ka||r!==null&&r.dependencies!==null&&bd(r.dependencies)?(typeof P=="function"&&(np(i,u,P,m),we=i.memoizedState),(Ne=Ka||lv(i,u,Ne,m,ve,we,X)||r!==null&&r.dependencies!==null&&bd(r.dependencies))?(ge||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(m,we,X),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(m,we,X)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||T===r.memoizedProps&&ve===r.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&ve===r.memoizedState||(i.flags|=1024),i.memoizedProps=m,i.memoizedState=we),v.props=m,v.state=we,v.context=X,m=Ne):(typeof v.componentDidUpdate!="function"||T===r.memoizedProps&&ve===r.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&ve===r.memoizedState||(i.flags|=1024),m=!1)}return v=m,Ud(r,i),m=(i.flags&128)!==0,v||m?(v=i.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:v.render(),i.flags|=1,r!==null&&m?(i.child=cl(i,r.child,null,x),i.child=cl(i,null,u,x)):hs(r,i,u,x),i.memoizedState=v.state,r=i.child):r=Sa(r,i,x),r}function Sv(r,i,u,m){return _c(),i.flags|=256,hs(r,i,u,m),i.child}var ip={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function op(r){return{baseLanes:r,cachePool:db()}}function lp(r,i,u){return r=r!==null?r.childLanes&~u:0,i&&(r|=gr),r}function Nv(r,i,u){var m=i.pendingProps,x=!1,v=(i.flags&128)!==0,T;if((T=v)||(T=r!==null&&r.memoizedState===null?!1:(Zn.current&2)!==0),T&&(x=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,r===null){if(tn){if(x?ei(i):ti(),tn){var P=Mn,X;if(X=P){e:{for(X=P,P=Ir;X.nodeType!==8;){if(!P){P=null;break e}if(X=Ar(X.nextSibling),X===null){P=null;break e}}P=X}P!==null?(i.memoizedState={dehydrated:P,treeContext:Ji!==null?{id:ya,overflow:ba}:null,retryLane:536870912,hydrationErrors:null},X=Ws(18,null,null,0),X.stateNode=P,X.return=i,i.child=X,Cs=i,Mn=null,X=!0):X=!1}X||no(i)}if(P=i.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return Ip(P)?i.lanes=32:i.lanes=536870912,null;ja(i)}return P=m.children,m=m.fallback,x?(ti(),x=i.mode,P=Bd({mode:"hidden",children:P},x),m=Zi(m,x,u,null),P.return=i,m.return=i,P.sibling=m,i.child=P,x=i.child,x.memoizedState=op(u),x.childLanes=lp(r,T,u),i.memoizedState=ip,m):(ei(i),cp(i,P))}if(X=r.memoizedState,X!==null&&(P=X.dehydrated,P!==null)){if(v)i.flags&256?(ei(i),i.flags&=-257,i=up(r,i,u)):i.memoizedState!==null?(ti(),i.child=r.child,i.flags|=128,i=null):(ti(),x=m.fallback,P=i.mode,m=Bd({mode:"visible",children:m.children},P),x=Zi(x,P,u,null),x.flags|=2,m.return=i,x.return=i,m.sibling=x,i.child=m,cl(i,r.child,null,u),m=i.child,m.memoizedState=op(u),m.childLanes=lp(r,T,u),i.memoizedState=ip,i=x);else if(ei(i),Ip(P)){if(T=P.nextSibling&&P.nextSibling.dataset,T)var ge=T.dgst;T=ge,m=Error(s(419)),m.stack="",m.digest=T,jc({value:m,source:null,stack:null}),i=up(r,i,u)}else if(ls||Sc(r,i,u,!1),T=(u&r.childLanes)!==0,ls||T){if(T=xn,T!==null&&(m=u&-u,m=(m&42)!==0?1:It(m),m=(m&(T.suspendedLanes|u))!==0?0:m,m!==0&&m!==X.retryLane))throw X.retryLane=m,Zo(r,m),Zs(T,r,m),gv;P.data==="$?"||kp(),i=up(r,i,u)}else P.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=X.treeContext,Mn=Ar(P.nextSibling),Cs=i,tn=!0,to=null,Ir=!1,r!==null&&(hr[mr++]=ya,hr[mr++]=ba,hr[mr++]=Ji,ya=r.id,ba=r.overflow,Ji=i),i=cp(i,m.children),i.flags|=4096);return i}return x?(ti(),x=m.fallback,P=i.mode,X=r.child,ge=X.sibling,m=xa(X,{mode:"hidden",children:m.children}),m.subtreeFlags=X.subtreeFlags&65011712,ge!==null?x=xa(ge,x):(x=Zi(x,P,u,null),x.flags|=2),x.return=i,m.return=i,m.sibling=x,i.child=m,m=x,x=i.child,P=r.child.memoizedState,P===null?P=op(u):(X=P.cachePool,X!==null?(ge=Qn._currentValue,X=X.parent!==ge?{parent:ge,pool:ge}:X):X=db(),P={baseLanes:P.baseLanes|u,cachePool:X}),x.memoizedState=P,x.childLanes=lp(r,T,u),i.memoizedState=ip,m):(ei(i),u=r.child,r=u.sibling,u=xa(u,{mode:"visible",children:m.children}),u.return=i,u.sibling=null,r!==null&&(T=i.deletions,T===null?(i.deletions=[r],i.flags|=16):T.push(r)),i.child=u,i.memoizedState=null,u)}function cp(r,i){return i=Bd({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Bd(r,i){return r=Ws(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function up(r,i,u){return cl(i,r.child,null,u),r=cp(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Ev(r,i,u){r.lanes|=i;var m=r.alternate;m!==null&&(m.lanes|=i),km(r.return,i,u)}function dp(r,i,u,m,x){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:x}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=m,v.tail=u,v.tailMode=x)}function Tv(r,i,u){var m=i.pendingProps,x=m.revealOrder,v=m.tail;if(hs(r,i,m.children,u),m=Zn.current,(m&2)!==0)m=m&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ev(r,u,i);else if(r.tag===19)Ev(r,u,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}m&=1}switch(U(Zn,m),x){case"forwards":for(u=i.child,x=null;u!==null;)r=u.alternate,r!==null&&Pd(r)===null&&(x=u),u=u.sibling;u=x,u===null?(x=i.child,i.child=null):(x=u.sibling,u.sibling=null),dp(i,!1,x,u,v);break;case"backwards":for(u=null,x=i.child,i.child=null;x!==null;){if(r=x.alternate,r!==null&&Pd(r)===null){i.child=x;break}r=x.sibling,x.sibling=u,u=x,x=r}dp(i,!0,u,null,v);break;case"together":dp(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Sa(r,i,u){if(r!==null&&(i.dependencies=r.dependencies),ii|=i.lanes,(u&i.childLanes)===0)if(r!==null){if(Sc(r,i,u,!1),(u&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,u=xa(r,r.pendingProps),i.child=u,u.return=i;r.sibling!==null;)r=r.sibling,u=u.sibling=xa(r,r.pendingProps),u.return=i;u.sibling=null}return i.child}function fp(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&bd(r)))}function gk(r,i,u){switch(i.tag){case 3:Oe(i,i.stateNode.containerInfo),Ga(i,Qn,r.memoizedState.cache),_c();break;case 27:case 5:Le(i);break;case 4:Oe(i,i.stateNode.containerInfo);break;case 10:Ga(i,i.type,i.memoizedProps.value);break;case 13:var m=i.memoizedState;if(m!==null)return m.dehydrated!==null?(ei(i),i.flags|=128,null):(u&i.child.childLanes)!==0?Nv(r,i,u):(ei(i),r=Sa(r,i,u),r!==null?r.sibling:null);ei(i);break;case 19:var x=(r.flags&128)!==0;if(m=(u&i.childLanes)!==0,m||(Sc(r,i,u,!1),m=(u&i.childLanes)!==0),x){if(m)return Tv(r,i,u);i.flags|=128}if(x=i.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),U(Zn,Zn.current),m)break;return null;case 22:case 23:return i.lanes=0,vv(r,i,u);case 24:Ga(i,Qn,r.memoizedState.cache)}return Sa(r,i,u)}function kv(r,i,u){if(r!==null)if(r.memoizedProps!==i.pendingProps)ls=!0;else{if(!fp(r,u)&&(i.flags&128)===0)return ls=!1,gk(r,i,u);ls=(r.flags&131072)!==0}else ls=!1,tn&&(i.flags&1048576)!==0&&rb(i,yd,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var m=i.elementType,x=m._init;if(m=x(m._payload),i.type=m,typeof m=="function")wm(m)?(r=oo(m,r),i.tag=1,i=jv(null,i,m,r,u)):(i.tag=0,i=ap(null,i,m,r,u));else{if(m!=null){if(x=m.$$typeof,x===k){i.tag=11,i=xv(null,i,m,r,u);break e}else if(x===$){i.tag=14,i=yv(null,i,m,r,u);break e}}throw i=pe(m)||m,Error(s(306,i,""))}}return i;case 0:return ap(r,i,i.type,i.pendingProps,u);case 1:return m=i.type,x=oo(m,i.pendingProps),jv(r,i,m,x,u);case 3:e:{if(Oe(i,i.stateNode.containerInfo),r===null)throw Error(s(387));m=i.pendingProps;var v=i.memoizedState;x=v.element,Pm(r,i),Oc(i,m,null,u);var T=i.memoizedState;if(m=T.cache,Ga(i,Qn,m),m!==v.cache&&Cm(i,[Qn],u,!0),Ac(),m=T.element,v.isDehydrated)if(v={element:m,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){i=Sv(r,i,m,u);break e}else if(m!==x){x=dr(Error(s(424)),i),jc(x),i=Sv(r,i,m,u);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Mn=Ar(r.firstChild),Cs=i,tn=!0,to=null,Ir=!0,u=iv(i,null,m,u),i.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(_c(),m===x){i=Sa(r,i,u);break e}hs(r,i,m,u)}i=i.child}return i;case 26:return Ud(r,i),r===null?(u=Rw(i.type,null,i.pendingProps,null))?i.memoizedState=u:tn||(u=i.type,r=i.pendingProps,m=Jd(xe.current).createElement(u),m[je]=i,m[Ae]=r,ps(m,u,r),at(m),i.stateNode=m):i.memoizedState=Rw(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return Le(i),r===null&&tn&&(m=i.stateNode=Cw(i.type,i.pendingProps,xe.current),Cs=i,Ir=!0,x=Mn,ui(i.type)?(Yp=x,Mn=Ar(m.firstChild)):Mn=x),hs(r,i,i.pendingProps.children,u),Ud(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&tn&&((x=m=Mn)&&(m=qk(m,i.type,i.pendingProps,Ir),m!==null?(i.stateNode=m,Cs=i,Mn=Ar(m.firstChild),Ir=!1,x=!0):x=!1),x||no(i)),Le(i),x=i.type,v=i.pendingProps,T=r!==null?r.memoizedProps:null,m=v.children,Vp(x,v)?m=null:T!==null&&Vp(x,T)&&(i.flags|=32),i.memoizedState!==null&&(x=Hm(r,i,lk,null,null,u),Jc._currentValue=x),Ud(r,i),hs(r,i,m,u),i.child;case 6:return r===null&&tn&&((r=u=Mn)&&(u=Ik(u,i.pendingProps,Ir),u!==null?(i.stateNode=u,Cs=i,Mn=null,r=!0):r=!1),r||no(i)),null;case 13:return Nv(r,i,u);case 4:return Oe(i,i.stateNode.containerInfo),m=i.pendingProps,r===null?i.child=cl(i,null,m,u):hs(r,i,m,u),i.child;case 11:return xv(r,i,i.type,i.pendingProps,u);case 7:return hs(r,i,i.pendingProps,u),i.child;case 8:return hs(r,i,i.pendingProps.children,u),i.child;case 12:return hs(r,i,i.pendingProps.children,u),i.child;case 10:return m=i.pendingProps,Ga(i,i.type,m.value),hs(r,i,m.children,u),i.child;case 9:return x=i.type._context,m=i.pendingProps.children,ro(i),x=Ss(x),m=m(x),i.flags|=1,hs(r,i,m,u),i.child;case 14:return yv(r,i,i.type,i.pendingProps,u);case 15:return bv(r,i,i.type,i.pendingProps,u);case 19:return Tv(r,i,u);case 31:return m=i.pendingProps,u=i.mode,m={mode:m.mode,children:m.children},r===null?(u=Bd(m,u),u.ref=i.ref,i.child=u,u.return=i,i=u):(u=xa(r.child,m),u.ref=i.ref,i.child=u,u.return=i,i=u),i;case 22:return vv(r,i,u);case 24:return ro(i),m=Ss(Qn),r===null?(x=Rm(),x===null&&(x=xn,v=Am(),x.pooledCache=v,v.refCount++,v!==null&&(x.pooledCacheLanes|=u),x=v),i.memoizedState={parent:m,cache:x},Mm(i),Ga(i,Qn,x)):((r.lanes&u)!==0&&(Pm(r,i),Oc(i,null,null,u),Ac()),x=r.memoizedState,v=i.memoizedState,x.parent!==m?(x={parent:m,cache:m},i.memoizedState=x,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=x),Ga(i,Qn,m)):(m=v.cache,Ga(i,Qn,m),m!==x.cache&&Cm(i,[Qn],u,!0))),hs(r,i,i.pendingProps.children,u),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Na(r){r.flags|=4}function Cv(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!zw(i)){if(i=pr.current,i!==null&&((Wt&4194048)===Wt?Yr!==null:(Wt&62914560)!==Wt&&(Wt&536870912)===0||i!==Yr))throw kc=Dm,fb;r.flags|=8192}}function Fd(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Pt():536870912,r.lanes|=i,hl|=i)}function Uc(r,i){if(!tn)switch(r.tailMode){case"hidden":i=r.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:m.sibling=null}}function En(r){var i=r.alternate!==null&&r.alternate.child===r.child,u=0,m=0;if(i)for(var x=r.child;x!==null;)u|=x.lanes|x.childLanes,m|=x.subtreeFlags&65011712,m|=x.flags&65011712,x.return=r,x=x.sibling;else for(x=r.child;x!==null;)u|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=r,x=x.sibling;return r.subtreeFlags|=m,r.childLanes=u,i}function xk(r,i,u){var m=i.pendingProps;switch(Nm(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return En(i),null;case 1:return En(i),null;case 3:return u=i.stateNode,m=null,r!==null&&(m=r.memoizedState.cache),i.memoizedState.cache!==m&&(i.flags|=2048),wa(Qn),$e(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(wc(i)?Na(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ob())),En(i),null;case 26:return u=i.memoizedState,r===null?(Na(i),u!==null?(En(i),Cv(i,u)):(En(i),i.flags&=-16777217)):u?u!==r.memoizedState?(Na(i),En(i),Cv(i,u)):(En(i),i.flags&=-16777217):(r.memoizedProps!==m&&Na(i),En(i),i.flags&=-16777217),null;case 27:lt(i),u=xe.current;var x=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==m&&Na(i);else{if(!m){if(i.stateNode===null)throw Error(s(166));return En(i),null}r=re.current,wc(i)?ab(i):(r=Cw(x,m,u),i.stateNode=r,Na(i))}return En(i),null;case 5:if(lt(i),u=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==m&&Na(i);else{if(!m){if(i.stateNode===null)throw Error(s(166));return En(i),null}if(r=re.current,wc(i))ab(i);else{switch(x=Jd(xe.current),r){case 1:r=x.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:r=x.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":r=x.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":r=x.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":r=x.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof m.is=="string"?x.createElement("select",{is:m.is}):x.createElement("select"),m.multiple?r.multiple=!0:m.size&&(r.size=m.size);break;default:r=typeof m.is=="string"?x.createElement(u,{is:m.is}):x.createElement(u)}}r[je]=i,r[Ae]=m;e:for(x=i.child;x!==null;){if(x.tag===5||x.tag===6)r.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===i)break e;for(;x.sibling===null;){if(x.return===null||x.return===i)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}i.stateNode=r;e:switch(ps(r,u,m),u){case"button":case"input":case"select":case"textarea":r=!!m.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Na(i)}}return En(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==m&&Na(i);else{if(typeof m!="string"&&i.stateNode===null)throw Error(s(166));if(r=xe.current,wc(i)){if(r=i.stateNode,u=i.memoizedProps,m=null,x=Cs,x!==null)switch(x.tag){case 27:case 5:m=x.memoizedProps}r[je]=i,r=!!(r.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||_w(r.nodeValue,u)),r||no(i)}else r=Jd(r).createTextNode(m),r[je]=i,i.stateNode=r}return En(i),null;case 13:if(m=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(x=wc(i),m!==null&&m.dehydrated!==null){if(r===null){if(!x)throw Error(s(318));if(x=i.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(s(317));x[je]=i}else _c(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;En(i),x=!1}else x=ob(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=x),x=!0;if(!x)return i.flags&256?(ja(i),i):(ja(i),null)}if(ja(i),(i.flags&128)!==0)return i.lanes=u,i;if(u=m!==null,r=r!==null&&r.memoizedState!==null,u){m=i.child,x=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(x=m.alternate.memoizedState.cachePool.pool);var v=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(v=m.memoizedState.cachePool.pool),v!==x&&(m.flags|=2048)}return u!==r&&u&&(i.child.flags|=8192),Fd(i,i.updateQueue),En(i),null;case 4:return $e(),r===null&&zp(i.stateNode.containerInfo),En(i),null;case 10:return wa(i.type),En(i),null;case 19:if(me(Zn),x=i.memoizedState,x===null)return En(i),null;if(m=(i.flags&128)!==0,v=x.rendering,v===null)if(m)Uc(x,!1);else{if(Pn!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(v=Pd(r),v!==null){for(i.flags|=128,Uc(x,!1),r=v.updateQueue,i.updateQueue=r,Fd(i,r),i.subtreeFlags=0,r=u,u=i.child;u!==null;)sb(u,r),u=u.sibling;return U(Zn,Zn.current&1|2),i.child}r=r.sibling}x.tail!==null&&vt()>$d&&(i.flags|=128,m=!0,Uc(x,!1),i.lanes=4194304)}else{if(!m)if(r=Pd(v),r!==null){if(i.flags|=128,m=!0,r=r.updateQueue,i.updateQueue=r,Fd(i,r),Uc(x,!0),x.tail===null&&x.tailMode==="hidden"&&!v.alternate&&!tn)return En(i),null}else 2*vt()-x.renderingStartTime>$d&&u!==536870912&&(i.flags|=128,m=!0,Uc(x,!1),i.lanes=4194304);x.isBackwards?(v.sibling=i.child,i.child=v):(r=x.last,r!==null?r.sibling=v:i.child=v,x.last=v)}return x.tail!==null?(i=x.tail,x.rendering=i,x.tail=i.sibling,x.renderingStartTime=vt(),i.sibling=null,r=Zn.current,U(Zn,m?r&1|2:r&1),i):(En(i),null);case 22:case 23:return ja(i),Bm(),m=i.memoizedState!==null,r!==null?r.memoizedState!==null!==m&&(i.flags|=8192):m&&(i.flags|=8192),m?(u&536870912)!==0&&(i.flags&128)===0&&(En(i),i.subtreeFlags&6&&(i.flags|=8192)):En(i),u=i.updateQueue,u!==null&&Fd(i,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),m=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(m=i.memoizedState.cachePool.pool),m!==u&&(i.flags|=2048),r!==null&&me(ao),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),wa(Qn),En(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function yk(r,i){switch(Nm(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return wa(Qn),$e(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return lt(i),null;case 13:if(ja(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));_c()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return me(Zn),null;case 4:return $e(),null;case 10:return wa(i.type),null;case 22:case 23:return ja(i),Bm(),r!==null&&me(ao),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return wa(Qn),null;case 25:return null;default:return null}}function Av(r,i){switch(Nm(i),i.tag){case 3:wa(Qn),$e();break;case 26:case 27:case 5:lt(i);break;case 4:$e();break;case 13:ja(i);break;case 19:me(Zn);break;case 10:wa(i.type);break;case 22:case 23:ja(i),Bm(),r!==null&&me(ao);break;case 24:wa(Qn)}}function Bc(r,i){try{var u=i.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var x=m.next;u=x;do{if((u.tag&r)===r){m=void 0;var v=u.create,T=u.inst;m=v(),T.destroy=m}u=u.next}while(u!==x)}}catch(P){hn(i,i.return,P)}}function ni(r,i,u){try{var m=i.updateQueue,x=m!==null?m.lastEffect:null;if(x!==null){var v=x.next;m=v;do{if((m.tag&r)===r){var T=m.inst,P=T.destroy;if(P!==void 0){T.destroy=void 0,x=i;var X=u,ge=P;try{ge()}catch(Ne){hn(x,X,Ne)}}}m=m.next}while(m!==v)}}catch(Ne){hn(i,i.return,Ne)}}function Ov(r){var i=r.updateQueue;if(i!==null){var u=r.stateNode;try{yb(i,u)}catch(m){hn(r,r.return,m)}}}function Rv(r,i,u){u.props=oo(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(m){hn(r,i,m)}}function Fc(r,i){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var m=r.stateNode;break;case 30:m=r.stateNode;break;default:m=r.stateNode}typeof u=="function"?r.refCleanup=u(m):u.current=m}}catch(x){hn(r,i,x)}}function Wr(r,i){var u=r.ref,m=r.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(x){hn(r,i,x)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(x){hn(r,i,x)}else u.current=null}function Dv(r){var i=r.type,u=r.memoizedProps,m=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(x){hn(r,r.return,x)}}function hp(r,i,u){try{var m=r.stateNode;Bk(m,r.type,u,i),m[Ae]=i}catch(x){hn(r,r.return,x)}}function Mv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ui(r.type)||r.tag===4}function mp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Mv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ui(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function pp(r,i,u){var m=r.tag;if(m===5||m===6)r=r.stateNode,i?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,i):(i=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,i.appendChild(r),u=u._reactRootContainer,u!=null||i.onclick!==null||(i.onclick=Zd));else if(m!==4&&(m===27&&ui(r.type)&&(u=r.stateNode,i=null),r=r.child,r!==null))for(pp(r,i,u),r=r.sibling;r!==null;)pp(r,i,u),r=r.sibling}function Hd(r,i,u){var m=r.tag;if(m===5||m===6)r=r.stateNode,i?u.insertBefore(r,i):u.appendChild(r);else if(m!==4&&(m===27&&ui(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(Hd(r,i,u),r=r.sibling;r!==null;)Hd(r,i,u),r=r.sibling}function Pv(r){var i=r.stateNode,u=r.memoizedProps;try{for(var m=r.type,x=i.attributes;x.length;)i.removeAttributeNode(x[0]);ps(i,m,u),i[je]=r,i[Ae]=u}catch(v){hn(r,r.return,v)}}var Ea=!1,zn=!1,gp=!1,Lv=typeof WeakSet=="function"?WeakSet:Set,cs=null;function bk(r,i){if(r=r.containerInfo,Fp=af,r=Wy(r),mm(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var x=m.anchorOffset,v=m.focusNode;m=m.focusOffset;try{u.nodeType,v.nodeType}catch(mt){u=null;break e}var T=0,P=-1,X=-1,ge=0,Ne=0,Ce=r,ve=null;t:for(;;){for(var we;Ce!==u||x!==0&&Ce.nodeType!==3||(P=T+x),Ce!==v||m!==0&&Ce.nodeType!==3||(X=T+m),Ce.nodeType===3&&(T+=Ce.nodeValue.length),(we=Ce.firstChild)!==null;)ve=Ce,Ce=we;for(;;){if(Ce===r)break t;if(ve===u&&++ge===x&&(P=T),ve===v&&++Ne===m&&(X=T),(we=Ce.nextSibling)!==null)break;Ce=ve,ve=Ce.parentNode}Ce=we}u=P===-1||X===-1?null:{start:P,end:X}}else u=null}u=u||{start:0,end:0}}else u=null;for(Hp={focusedElem:r,selectionRange:u},af=!1,cs=i;cs!==null;)if(i=cs,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,cs=r;else for(;cs!==null;){switch(i=cs,v=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&v!==null){r=void 0,u=i,x=v.memoizedProps,v=v.memoizedState,m=u.stateNode;try{var bt=oo(u.type,x,u.elementType===u.type);r=m.getSnapshotBeforeUpdate(bt,v),m.__reactInternalSnapshotBeforeUpdate=r}catch(mt){hn(u,u.return,mt)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,u=r.nodeType,u===9)qp(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":qp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,cs=r;break}cs=i.return}}function zv(r,i,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:si(r,u),m&4&&Bc(5,u);break;case 1:if(si(r,u),m&4)if(r=u.stateNode,i===null)try{r.componentDidMount()}catch(T){hn(u,u.return,T)}else{var x=oo(u.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(x,i,r.__reactInternalSnapshotBeforeUpdate)}catch(T){hn(u,u.return,T)}}m&64&&Ov(u),m&512&&Fc(u,u.return);break;case 3:if(si(r,u),m&64&&(r=u.updateQueue,r!==null)){if(i=null,u.child!==null)switch(u.child.tag){case 27:case 5:i=u.child.stateNode;break;case 1:i=u.child.stateNode}try{yb(r,i)}catch(T){hn(u,u.return,T)}}break;case 27:i===null&&m&4&&Pv(u);case 26:case 5:si(r,u),i===null&&m&4&&Dv(u),m&512&&Fc(u,u.return);break;case 12:si(r,u);break;case 13:si(r,u),m&4&&Fv(r,u),m&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=kk.bind(null,u),Yk(r,u))));break;case 22:if(m=u.memoizedState!==null||Ea,!m){i=i!==null&&i.memoizedState!==null||zn,x=Ea;var v=zn;Ea=m,(zn=i)&&!v?ri(r,u,(u.subtreeFlags&8772)!==0):si(r,u),Ea=x,zn=v}break;case 30:break;default:si(r,u)}}function Uv(r){var i=r.alternate;i!==null&&(r.alternate=null,Uv(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&wt(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var _n=null,Ls=!1;function Ta(r,i,u){for(u=u.child;u!==null;)Bv(r,i,u),u=u.sibling}function Bv(r,i,u){if(Ie&&typeof Ie.onCommitFiberUnmount=="function")try{Ie.onCommitFiberUnmount(Fe,u)}catch(v){}switch(u.tag){case 26:zn||Wr(u,i),Ta(r,i,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:zn||Wr(u,i);var m=_n,x=Ls;ui(u.type)&&(_n=u.stateNode,Ls=!1),Ta(r,i,u),Gc(u.stateNode),_n=m,Ls=x;break;case 5:zn||Wr(u,i);case 6:if(m=_n,x=Ls,_n=null,Ta(r,i,u),_n=m,Ls=x,_n!==null)if(Ls)try{(_n.nodeType===9?_n.body:_n.nodeName==="HTML"?_n.ownerDocument.body:_n).removeChild(u.stateNode)}catch(v){hn(u,i,v)}else try{_n.removeChild(u.stateNode)}catch(v){hn(u,i,v)}break;case 18:_n!==null&&(Ls?(r=_n,Tw(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),su(r)):Tw(_n,u.stateNode));break;case 4:m=_n,x=Ls,_n=u.stateNode.containerInfo,Ls=!0,Ta(r,i,u),_n=m,Ls=x;break;case 0:case 11:case 14:case 15:zn||ni(2,u,i),zn||ni(4,u,i),Ta(r,i,u);break;case 1:zn||(Wr(u,i),m=u.stateNode,typeof m.componentWillUnmount=="function"&&Rv(u,i,m)),Ta(r,i,u);break;case 21:Ta(r,i,u);break;case 22:zn=(m=zn)||u.memoizedState!==null,Ta(r,i,u),zn=m;break;default:Ta(r,i,u)}}function Fv(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{su(r)}catch(u){hn(i,i.return,u)}}function vk(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new Lv),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new Lv),i;default:throw Error(s(435,r.tag))}}function xp(r,i){var u=vk(r);i.forEach(function(m){var x=Ck.bind(null,r,m);u.has(m)||(u.add(m),m.then(x,x))})}function Xs(r,i){var u=i.deletions;if(u!==null)for(var m=0;m<u.length;m++){var x=u[m],v=r,T=i,P=T;e:for(;P!==null;){switch(P.tag){case 27:if(ui(P.type)){_n=P.stateNode,Ls=!1;break e}break;case 5:_n=P.stateNode,Ls=!1;break e;case 3:case 4:_n=P.stateNode.containerInfo,Ls=!0;break e}P=P.return}if(_n===null)throw Error(s(160));Bv(v,T,x),_n=null,Ls=!1,v=x.alternate,v!==null&&(v.return=null),x.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Hv(i,r),i=i.sibling}var Cr=null;function Hv(r,i){var u=r.alternate,m=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Xs(i,r),Gs(r),m&4&&(ni(3,r,r.return),Bc(3,r),ni(5,r,r.return));break;case 1:Xs(i,r),Gs(r),m&512&&(zn||u===null||Wr(u,u.return)),m&64&&Ea&&(r=r.updateQueue,r!==null&&(m=r.callbacks,m!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var x=Cr;if(Xs(i,r),Gs(r),m&512&&(zn||u===null||Wr(u,u.return)),m&4){var v=u!==null?u.memoizedState:null;if(m=r.memoizedState,u===null)if(m===null)if(r.stateNode===null){e:{m=r.type,u=r.memoizedProps,x=x.ownerDocument||x;t:switch(m){case"title":v=x.getElementsByTagName("title")[0],(!v||v[rt]||v[je]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=x.createElement(m),x.head.insertBefore(v,x.querySelector("head > title"))),ps(v,m,u),v[je]=r,at(v),m=v;break e;case"link":var T=Pw("link","href",x).get(m+(u.href||""));if(T){for(var P=0;P<T.length;P++)if(v=T[P],v.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&v.getAttribute("rel")===(u.rel==null?null:u.rel)&&v.getAttribute("title")===(u.title==null?null:u.title)&&v.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){T.splice(P,1);break t}}v=x.createElement(m),ps(v,m,u),x.head.appendChild(v);break;case"meta":if(T=Pw("meta","content",x).get(m+(u.content||""))){for(P=0;P<T.length;P++)if(v=T[P],v.getAttribute("content")===(u.content==null?null:""+u.content)&&v.getAttribute("name")===(u.name==null?null:u.name)&&v.getAttribute("property")===(u.property==null?null:u.property)&&v.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&v.getAttribute("charset")===(u.charSet==null?null:u.charSet)){T.splice(P,1);break t}}v=x.createElement(m),ps(v,m,u),x.head.appendChild(v);break;default:throw Error(s(468,m))}v[je]=r,at(v),m=v}r.stateNode=m}else Lw(x,r.type,r.stateNode);else r.stateNode=Mw(x,m,r.memoizedProps);else v!==m?(v===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):v.count--,m===null?Lw(x,r.type,r.stateNode):Mw(x,m,r.memoizedProps)):m===null&&r.stateNode!==null&&hp(r,r.memoizedProps,u.memoizedProps)}break;case 27:Xs(i,r),Gs(r),m&512&&(zn||u===null||Wr(u,u.return)),u!==null&&m&4&&hp(r,r.memoizedProps,u.memoizedProps);break;case 5:if(Xs(i,r),Gs(r),m&512&&(zn||u===null||Wr(u,u.return)),r.flags&32){x=r.stateNode;try{$a(x,"")}catch(we){hn(r,r.return,we)}}m&4&&r.stateNode!=null&&(x=r.memoizedProps,hp(r,x,u!==null?u.memoizedProps:x)),m&1024&&(gp=!0);break;case 6:if(Xs(i,r),Gs(r),m&4){if(r.stateNode===null)throw Error(s(162));m=r.memoizedProps,u=r.stateNode;try{u.nodeValue=m}catch(we){hn(r,r.return,we)}}break;case 3:if(nf=null,x=Cr,Cr=ef(i.containerInfo),Xs(i,r),Cr=x,Gs(r),m&4&&u!==null&&u.memoizedState.isDehydrated)try{su(i.containerInfo)}catch(we){hn(r,r.return,we)}gp&&(gp=!1,Vv(r));break;case 4:m=Cr,Cr=ef(r.stateNode.containerInfo),Xs(i,r),Gs(r),Cr=m;break;case 12:Xs(i,r),Gs(r);break;case 13:Xs(i,r),Gs(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(jp=vt()),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,xp(r,m)));break;case 22:x=r.memoizedState!==null;var X=u!==null&&u.memoizedState!==null,ge=Ea,Ne=zn;if(Ea=ge||x,zn=Ne||X,Xs(i,r),zn=Ne,Ea=ge,Gs(r),m&8192)e:for(i=r.stateNode,i._visibility=x?i._visibility&-2:i._visibility|1,x&&(u===null||X||Ea||zn||lo(r)),u=null,i=r;;){if(i.tag===5||i.tag===26){if(u===null){X=u=i;try{if(v=X.stateNode,x)T=v.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{P=X.stateNode;var Ce=X.memoizedProps.style,ve=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null;P.style.display=ve==null||typeof ve=="boolean"?"":(""+ve).trim()}}catch(we){hn(X,X.return,we)}}}else if(i.tag===6){if(u===null){X=i;try{X.stateNode.nodeValue=x?"":X.memoizedProps}catch(we){hn(X,X.return,we)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;u===i&&(u=null),i=i.return}u===i&&(u=null),i.sibling.return=i.return,i=i.sibling}m&4&&(m=r.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,xp(r,u))));break;case 19:Xs(i,r),Gs(r),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,xp(r,m)));break;case 30:break;case 21:break;default:Xs(i,r),Gs(r)}}function Gs(r){var i=r.flags;if(i&2){try{for(var u,m=r.return;m!==null;){if(Mv(m)){u=m;break}m=m.return}if(u==null)throw Error(s(160));switch(u.tag){case 27:var x=u.stateNode,v=mp(r);Hd(r,v,x);break;case 5:var T=u.stateNode;u.flags&32&&($a(T,""),u.flags&=-33);var P=mp(r);Hd(r,P,T);break;case 3:case 4:var X=u.stateNode.containerInfo,ge=mp(r);pp(r,ge,X);break;default:throw Error(s(161))}}catch(Ne){hn(r,r.return,Ne)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Vv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;Vv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function si(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)zv(r,i.alternate,i),i=i.sibling}function lo(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:ni(4,i,i.return),lo(i);break;case 1:Wr(i,i.return);var u=i.stateNode;typeof u.componentWillUnmount=="function"&&Rv(i,i.return,u),lo(i);break;case 27:Gc(i.stateNode);case 26:case 5:Wr(i,i.return),lo(i);break;case 22:i.memoizedState===null&&lo(i);break;case 30:lo(i);break;default:lo(i)}r=r.sibling}}function ri(r,i,u){for(u=u&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var m=i.alternate,x=r,v=i,T=v.flags;switch(v.tag){case 0:case 11:case 15:ri(x,v,u),Bc(4,v);break;case 1:if(ri(x,v,u),m=v,x=m.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(ge){hn(m,m.return,ge)}if(m=v,x=m.updateQueue,x!==null){var P=m.stateNode;try{var X=x.shared.hiddenCallbacks;if(X!==null)for(x.shared.hiddenCallbacks=null,x=0;x<X.length;x++)xb(X[x],P)}catch(ge){hn(m,m.return,ge)}}u&&T&64&&Ov(v),Fc(v,v.return);break;case 27:Pv(v);case 26:case 5:ri(x,v,u),u&&m===null&&T&4&&Dv(v),Fc(v,v.return);break;case 12:ri(x,v,u);break;case 13:ri(x,v,u),u&&T&4&&Fv(x,v);break;case 22:v.memoizedState===null&&ri(x,v,u),Fc(v,v.return);break;case 30:break;default:ri(x,v,u)}i=i.sibling}}function yp(r,i){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&Nc(u))}function bp(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Nc(r))}function Xr(r,i,u,m){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)$v(r,i,u,m),i=i.sibling}function $v(r,i,u,m){var x=i.flags;switch(i.tag){case 0:case 11:case 15:Xr(r,i,u,m),x&2048&&Bc(9,i);break;case 1:Xr(r,i,u,m);break;case 3:Xr(r,i,u,m),x&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Nc(r)));break;case 12:if(x&2048){Xr(r,i,u,m),r=i.stateNode;try{var v=i.memoizedProps,T=v.id,P=v.onPostCommit;typeof P=="function"&&P(T,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(X){hn(i,i.return,X)}}else Xr(r,i,u,m);break;case 13:Xr(r,i,u,m);break;case 23:break;case 22:v=i.stateNode,T=i.alternate,i.memoizedState!==null?v._visibility&2?Xr(r,i,u,m):Hc(r,i):v._visibility&2?Xr(r,i,u,m):(v._visibility|=2,ul(r,i,u,m,(i.subtreeFlags&10256)!==0)),x&2048&&yp(T,i);break;case 24:Xr(r,i,u,m),x&2048&&bp(i.alternate,i);break;default:Xr(r,i,u,m)}}function ul(r,i,u,m,x){for(x=x&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var v=r,T=i,P=u,X=m,ge=T.flags;switch(T.tag){case 0:case 11:case 15:ul(v,T,P,X,x),Bc(8,T);break;case 23:break;case 22:var Ne=T.stateNode;T.memoizedState!==null?Ne._visibility&2?ul(v,T,P,X,x):Hc(v,T):(Ne._visibility|=2,ul(v,T,P,X,x)),x&&ge&2048&&yp(T.alternate,T);break;case 24:ul(v,T,P,X,x),x&&ge&2048&&bp(T.alternate,T);break;default:ul(v,T,P,X,x)}i=i.sibling}}function Hc(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var u=r,m=i,x=m.flags;switch(m.tag){case 22:Hc(u,m),x&2048&&yp(m.alternate,m);break;case 24:Hc(u,m),x&2048&&bp(m.alternate,m);break;default:Hc(u,m)}i=i.sibling}}var Vc=8192;function dl(r){if(r.subtreeFlags&Vc)for(r=r.child;r!==null;)qv(r),r=r.sibling}function qv(r){switch(r.tag){case 26:dl(r),r.flags&Vc&&r.memoizedState!==null&&aC(Cr,r.memoizedState,r.memoizedProps);break;case 5:dl(r);break;case 3:case 4:var i=Cr;Cr=ef(r.stateNode.containerInfo),dl(r),Cr=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=Vc,Vc=16777216,dl(r),Vc=i):dl(r));break;default:dl(r)}}function Iv(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function $c(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var u=0;u<i.length;u++){var m=i[u];cs=m,Wv(m,r)}Iv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Yv(r),r=r.sibling}function Yv(r){switch(r.tag){case 0:case 11:case 15:$c(r),r.flags&2048&&ni(9,r,r.return);break;case 3:$c(r);break;case 12:$c(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Vd(r)):$c(r);break;default:$c(r)}}function Vd(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var u=0;u<i.length;u++){var m=i[u];cs=m,Wv(m,r)}Iv(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:ni(8,i,i.return),Vd(i);break;case 22:u=i.stateNode,u._visibility&2&&(u._visibility&=-3,Vd(i));break;default:Vd(i)}r=r.sibling}}function Wv(r,i){for(;cs!==null;){var u=cs;switch(u.tag){case 0:case 11:case 15:ni(8,u,i);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Nc(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,cs=m;else e:for(u=r;cs!==null;){m=cs;var x=m.sibling,v=m.return;if(Uv(m),m===u){cs=null;break e}if(x!==null){x.return=v,cs=x;break e}cs=v}}}var wk={getCacheForType:function(r){var i=Ss(Qn),u=i.data.get(r);return u===void 0&&(u=r(),i.data.set(r,u)),u}},_k=typeof WeakMap=="function"?WeakMap:Map,nn=0,xn=null,Vt=null,Wt=0,sn=0,Ks=null,ai=!1,fl=!1,vp=!1,ka=0,Pn=0,ii=0,co=0,wp=0,gr=0,hl=0,qc=null,zs=null,_p=!1,jp=0,$d=1/0,qd=null,oi=null,ms=0,li=null,ml=null,pl=0,Sp=0,Np=null,Xv=null,Ic=0,Ep=null;function Qs(){if((nn&2)!==0&&Wt!==0)return Wt&-Wt;if(V.T!==null){var r=nl;return r!==0?r:Dp()}return G()}function Gv(){gr===0&&(gr=(Wt&536870912)===0||tn?Xe():536870912);var r=pr.current;return r!==null&&(r.flags|=32),gr}function Zs(r,i,u){(r===xn&&(sn===2||sn===9)||r.cancelPendingCommit!==null)&&(gl(r,0),ci(r,Wt,gr,!1)),Nt(r,u),((nn&2)===0||r!==xn)&&(r===xn&&((nn&2)===0&&(co|=u),Pn===4&&ci(r,Wt,gr,!1)),Gr(r))}function Kv(r,i,u){if((nn&6)!==0)throw Error(s(327));var m=!u&&(i&124)===0&&(i&r.expiredLanes)===0||Hn(r,i),x=m?Nk(r,i):Cp(r,i,!0),v=m;do{if(x===0){fl&&!m&&ci(r,i,0,!1);break}else{if(u=r.current.alternate,v&&!jk(u)){x=Cp(r,i,!1),v=!1;continue}if(x===2){if(v=i,r.errorRecoveryDisabledLanes&v)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var P=r;x=qc;var X=P.current.memoizedState.isDehydrated;if(X&&(gl(P,T).flags|=256),T=Cp(P,T,!1),T!==2){if(vp&&!X){P.errorRecoveryDisabledLanes|=v,co|=v,x=4;break e}v=zs,zs=x,v!==null&&(zs===null?zs=v:zs.push.apply(zs,v))}x=T}if(v=!1,x!==2)continue}}if(x===1){gl(r,0),ci(r,i,0,!0);break}e:{switch(m=r,v=x,v){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ci(m,i,gr,!ai);break e;case 2:zs=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(x=jp+300-vt(),10<x)){if(ci(m,i,gr,!ai),as(m,0,!0)!==0)break e;m.timeoutHandle=Nw(Qv.bind(null,m,u,zs,qd,_p,i,gr,co,hl,ai,v,2,-0,0),x);break e}Qv(m,u,zs,qd,_p,i,gr,co,hl,ai,v,0,-0,0)}}break}while(!0);Gr(r)}function Qv(r,i,u,m,x,v,T,P,X,ge,Ne,Ce,ve,we){if(r.timeoutHandle=-1,Ce=i.subtreeFlags,(Ce&8192||(Ce&16785408)===16785408)&&(Zc={stylesheets:null,count:0,unsuspend:rC},qv(i),Ce=iC(),Ce!==null)){r.cancelPendingCommit=Ce(rw.bind(null,r,i,v,u,m,x,T,P,X,Ne,1,ve,we)),ci(r,v,T,!ge);return}rw(r,i,v,u,m,x,T,P,X)}function jk(r){for(var i=r;;){var u=i.tag;if((u===0||u===11||u===15)&&i.flags&16384&&(u=i.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var x=u[m],v=x.getSnapshot;x=x.value;try{if(!Ys(v(),x))return!1}catch(T){return!1}}if(u=i.child,i.subtreeFlags&16384&&u!==null)u.return=i,i=u;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ci(r,i,u,m){i&=~wp,i&=~co,r.suspendedLanes|=i,r.pingedLanes&=~i,m&&(r.warmLanes|=i),m=r.expirationTimes;for(var x=i;0<x;){var v=31-yt(x),T=1<<v;m[v]=-1,x&=~T}u!==0&&Ge(r,u,i)}function Id(){return(nn&6)===0?(Yc(0),!1):!0}function Tp(){if(Vt!==null){if(sn===0)var r=Vt.return;else r=Vt,va=so=null,qm(r),ll=null,Lc=0,r=Vt;for(;r!==null;)Av(r.alternate,r),r=r.return;Vt=null}}function gl(r,i){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,Hk(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),Tp(),xn=r,Vt=u=xa(r.current,null),Wt=i,sn=0,Ks=null,ai=!1,fl=Hn(r,i),vp=!1,hl=gr=wp=co=ii=Pn=0,zs=qc=null,_p=!1,(i&8)!==0&&(i|=i&32);var m=r.entangledLanes;if(m!==0)for(r=r.entanglements,m&=i;0<m;){var x=31-yt(m),v=1<<x;i|=r[x],m&=~v}return ka=i,hd(),u}function Zv(r,i){Lt=null,V.H=Rd,i===Tc||i===_d?(i=pb(),sn=3):i===fb?(i=pb(),sn=4):sn=i===gv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ks=i,Vt===null&&(Pn=1,zd(r,dr(i,r.current)))}function Jv(){var r=V.H;return V.H=Rd,r===null?Rd:r}function ew(){var r=V.A;return V.A=wk,r}function kp(){Pn=4,ai||(Wt&4194048)!==Wt&&pr.current!==null||(fl=!0),(ii&134217727)===0&&(co&134217727)===0||xn===null||ci(xn,Wt,gr,!1)}function Cp(r,i,u){var m=nn;nn|=2;var x=Jv(),v=ew();(xn!==r||Wt!==i)&&(qd=null,gl(r,i)),i=!1;var T=Pn;e:do try{if(sn!==0&&Vt!==null){var P=Vt,X=Ks;switch(sn){case 8:Tp(),T=6;break e;case 3:case 2:case 9:case 6:pr.current===null&&(i=!0);var ge=sn;if(sn=0,Ks=null,xl(r,P,X,ge),u&&fl){T=0;break e}break;default:ge=sn,sn=0,Ks=null,xl(r,P,X,ge)}}Sk(),T=Pn;break}catch(Ne){Zv(r,Ne)}while(!0);return i&&r.shellSuspendCounter++,va=so=null,nn=m,V.H=x,V.A=v,Vt===null&&(xn=null,Wt=0,hd()),T}function Sk(){for(;Vt!==null;)tw(Vt)}function Nk(r,i){var u=nn;nn|=2;var m=Jv(),x=ew();xn!==r||Wt!==i?(qd=null,$d=vt()+500,gl(r,i)):fl=Hn(r,i);e:do try{if(sn!==0&&Vt!==null){i=Vt;var v=Ks;t:switch(sn){case 1:sn=0,Ks=null,xl(r,i,v,1);break;case 2:case 9:if(hb(v)){sn=0,Ks=null,nw(i);break}i=function(){sn!==2&&sn!==9||xn!==r||(sn=7),Gr(r)},v.then(i,i);break e;case 3:sn=7;break e;case 4:sn=5;break e;case 7:hb(v)?(sn=0,Ks=null,nw(i)):(sn=0,Ks=null,xl(r,i,v,7));break;case 5:var T=null;switch(Vt.tag){case 26:T=Vt.memoizedState;case 5:case 27:var P=Vt;if(!T||zw(T)){sn=0,Ks=null;var X=P.sibling;if(X!==null)Vt=X;else{var ge=P.return;ge!==null?(Vt=ge,Yd(ge)):Vt=null}break t}}sn=0,Ks=null,xl(r,i,v,5);break;case 6:sn=0,Ks=null,xl(r,i,v,6);break;case 8:Tp(),Pn=6;break e;default:throw Error(s(462))}}Ek();break}catch(Ne){Zv(r,Ne)}while(!0);return va=so=null,V.H=m,V.A=x,nn=u,Vt!==null?0:(xn=null,Wt=0,hd(),Pn)}function Ek(){for(;Vt!==null&&!ht();)tw(Vt)}function tw(r){var i=kv(r.alternate,r,ka);r.memoizedProps=r.pendingProps,i===null?Yd(r):Vt=i}function nw(r){var i=r,u=i.alternate;switch(i.tag){case 15:case 0:i=_v(u,i,i.pendingProps,i.type,void 0,Wt);break;case 11:i=_v(u,i,i.pendingProps,i.type.render,i.ref,Wt);break;case 5:qm(i);default:Av(u,i),i=Vt=sb(i,ka),i=kv(u,i,ka)}r.memoizedProps=r.pendingProps,i===null?Yd(r):Vt=i}function xl(r,i,u,m){va=so=null,qm(i),ll=null,Lc=0;var x=i.return;try{if(pk(r,x,i,u,Wt)){Pn=1,zd(r,dr(u,r.current)),Vt=null;return}}catch(v){if(x!==null)throw Vt=x,v;Pn=1,zd(r,dr(u,r.current)),Vt=null;return}i.flags&32768?(tn||m===1?r=!0:fl||(Wt&536870912)!==0?r=!1:(ai=r=!0,(m===2||m===9||m===3||m===6)&&(m=pr.current,m!==null&&m.tag===13&&(m.flags|=16384))),sw(i,r)):Yd(i)}function Yd(r){var i=r;do{if((i.flags&32768)!==0){sw(i,ai);return}r=i.return;var u=xk(i.alternate,i,ka);if(u!==null){Vt=u;return}if(i=i.sibling,i!==null){Vt=i;return}Vt=i=r}while(i!==null);Pn===0&&(Pn=5)}function sw(r,i){do{var u=yk(r.alternate,r);if(u!==null){u.flags&=32767,Vt=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!i&&(r=r.sibling,r!==null)){Vt=r;return}Vt=r=u}while(r!==null);Pn=6,Vt=null}function rw(r,i,u,m,x,v,T,P,X){r.cancelPendingCommit=null;do Wd();while(ms!==0);if((nn&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(v=i.lanes|i.childLanes,v|=bm,en(r,u,v,T,P,X),r===xn&&(Vt=xn=null,Wt=0),ml=i,li=r,pl=u,Sp=v,Np=x,Xv=m,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Ak(le,function(){return cw(),null})):(r.callbackNode=null,r.callbackPriority=0),m=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||m){m=V.T,V.T=null,x=te.p,te.p=2,T=nn,nn|=4;try{bk(r,i,u)}finally{nn=T,te.p=x,V.T=m}}ms=1,aw(),iw(),ow()}}function aw(){if(ms===1){ms=0;var r=li,i=ml,u=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||u){u=V.T,V.T=null;var m=te.p;te.p=2;var x=nn;nn|=4;try{Hv(i,r);var v=Hp,T=Wy(r.containerInfo),P=v.focusedElem,X=v.selectionRange;if(T!==P&&P&&P.ownerDocument&&Yy(P.ownerDocument.documentElement,P)){if(X!==null&&mm(P)){var ge=X.start,Ne=X.end;if(Ne===void 0&&(Ne=ge),"selectionStart"in P)P.selectionStart=ge,P.selectionEnd=Math.min(Ne,P.value.length);else{var Ce=P.ownerDocument||document,ve=Ce&&Ce.defaultView||window;if(ve.getSelection){var we=ve.getSelection(),bt=P.textContent.length,mt=Math.min(X.start,bt),un=X.end===void 0?mt:Math.min(X.end,bt);!we.extend&&mt>un&&(T=un,un=mt,mt=T);var oe=Iy(P,mt),se=Iy(P,un);if(oe&&se&&(we.rangeCount!==1||we.anchorNode!==oe.node||we.anchorOffset!==oe.offset||we.focusNode!==se.node||we.focusOffset!==se.offset)){var he=Ce.createRange();he.setStart(oe.node,oe.offset),we.removeAllRanges(),mt>un?(we.addRange(he),we.extend(se.node,se.offset)):(he.setEnd(se.node,se.offset),we.addRange(he))}}}}for(Ce=[],we=P;we=we.parentNode;)we.nodeType===1&&Ce.push({element:we,left:we.scrollLeft,top:we.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<Ce.length;P++){var Te=Ce[P];Te.element.scrollLeft=Te.left,Te.element.scrollTop=Te.top}}af=!!Fp,Hp=Fp=null}finally{nn=x,te.p=m,V.T=u}}r.current=i,ms=2}}function iw(){if(ms===2){ms=0;var r=li,i=ml,u=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||u){u=V.T,V.T=null;var m=te.p;te.p=2;var x=nn;nn|=4;try{zv(r,i.alternate,i)}finally{nn=x,te.p=m,V.T=u}}ms=3}}function ow(){if(ms===4||ms===3){ms=0,Ft();var r=li,i=ml,u=pl,m=Xv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ms=5:(ms=0,ml=li=null,lw(r,r.pendingLanes));var x=r.pendingLanes;if(x===0&&(oi=null),Xt(u),i=i.stateNode,Ie&&typeof Ie.onCommitFiberRoot=="function")try{Ie.onCommitFiberRoot(Fe,i,void 0,(i.current.flags&128)===128)}catch(X){}if(m!==null){i=V.T,x=te.p,te.p=2,V.T=null;try{for(var v=r.onRecoverableError,T=0;T<m.length;T++){var P=m[T];v(P.value,{componentStack:P.stack})}}finally{V.T=i,te.p=x}}(pl&3)!==0&&Wd(),Gr(r),x=r.pendingLanes,(u&4194090)!==0&&(x&42)!==0?r===Ep?Ic++:(Ic=0,Ep=r):Ic=0,Yc(0)}}function lw(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Nc(i)))}function Wd(r){return aw(),iw(),ow(),cw()}function cw(){if(ms!==5)return!1;var r=li,i=Sp;Sp=0;var u=Xt(pl),m=V.T,x=te.p;try{te.p=32>u?32:u,V.T=null,u=Np,Np=null;var v=li,T=pl;if(ms=0,ml=li=null,pl=0,(nn&6)!==0)throw Error(s(331));var P=nn;if(nn|=4,Yv(v.current),$v(v,v.current,T,u),nn=P,Yc(0,!1),Ie&&typeof Ie.onPostCommitFiberRoot=="function")try{Ie.onPostCommitFiberRoot(Fe,v)}catch(X){}return!0}finally{te.p=x,V.T=m,lw(r,i)}}function uw(r,i,u){i=dr(u,i),i=rp(r.stateNode,i,2),r=Za(r,i,2),r!==null&&(Nt(r,2),Gr(r))}function hn(r,i,u){if(r.tag===3)uw(r,r,u);else for(;i!==null;){if(i.tag===3){uw(i,r,u);break}else if(i.tag===1){var m=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(oi===null||!oi.has(m))){r=dr(u,r),u=mv(2),m=Za(i,u,2),m!==null&&(pv(u,m,i,r),Nt(m,2),Gr(m));break}}i=i.return}}function Ap(r,i,u){var m=r.pingCache;if(m===null){m=r.pingCache=new _k;var x=new Set;m.set(i,x)}else x=m.get(i),x===void 0&&(x=new Set,m.set(i,x));x.has(u)||(vp=!0,x.add(u),r=Tk.bind(null,r,i,u),i.then(r,r))}function Tk(r,i,u){var m=r.pingCache;m!==null&&m.delete(i),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,xn===r&&(Wt&u)===u&&(Pn===4||Pn===3&&(Wt&62914560)===Wt&&300>vt()-jp?(nn&2)===0&&gl(r,0):wp|=u,hl===Wt&&(hl=0)),Gr(r)}function dw(r,i){i===0&&(i=Pt()),r=Zo(r,i),r!==null&&(Nt(r,i),Gr(r))}function kk(r){var i=r.memoizedState,u=0;i!==null&&(u=i.retryLane),dw(r,u)}function Ck(r,i){var u=0;switch(r.tag){case 13:var m=r.stateNode,x=r.memoizedState;x!==null&&(u=x.retryLane);break;case 19:m=r.stateNode;break;case 22:m=r.stateNode._retryCache;break;default:throw Error(s(314))}m!==null&&m.delete(i),dw(r,u)}function Ak(r,i){return pt(r,i)}var Xd=null,yl=null,Op=!1,Gd=!1,Rp=!1,uo=0;function Gr(r){r!==yl&&r.next===null&&(yl===null?Xd=yl=r:yl=yl.next=r),Gd=!0,Op||(Op=!0,Rk())}function Yc(r,i){if(!Rp&&Gd){Rp=!0;do for(var u=!1,m=Xd;m!==null;){if(r!==0){var x=m.pendingLanes;if(x===0)var v=0;else{var T=m.suspendedLanes,P=m.pingedLanes;v=(1<<31-yt(42|r)+1)-1,v&=x&~(T&~P),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(u=!0,pw(m,v))}else v=Wt,v=as(m,m===xn?v:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(v&3)===0||Hn(m,v)||(u=!0,pw(m,v));m=m.next}while(u);Rp=!1}}function Ok(){fw()}function fw(){Gd=Op=!1;var r=0;uo!==0&&(Fk()&&(r=uo),uo=0);for(var i=vt(),u=null,m=Xd;m!==null;){var x=m.next,v=hw(m,i);v===0?(m.next=null,u===null?Xd=x:u.next=x,x===null&&(yl=u)):(u=m,(r!==0||(v&3)!==0)&&(Gd=!0)),m=x}Yc(r)}function hw(r,i){for(var u=r.suspendedLanes,m=r.pingedLanes,x=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var T=31-yt(v),P=1<<T,X=x[T];X===-1?((P&u)===0||(P&m)!==0)&&(x[T]=ds(P,i)):X<=i&&(r.expiredLanes|=P),v&=~P}if(i=xn,u=Wt,u=as(r,r===i?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m=r.callbackNode,u===0||r===i&&(sn===2||sn===9)||r.cancelPendingCommit!==null)return m!==null&&m!==null&&Pe(m),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||Hn(r,u)){if(i=u&-u,i===r.callbackPriority)return i;switch(m!==null&&Pe(m),Xt(u)){case 2:case 8:u=Y;break;case 32:u=le;break;case 268435456:u=Se;break;default:u=le}return m=mw.bind(null,r),u=pt(u,m),r.callbackPriority=i,r.callbackNode=u,i}return m!==null&&m!==null&&Pe(m),r.callbackPriority=2,r.callbackNode=null,2}function mw(r,i){if(ms!==0&&ms!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(Wd()&&r.callbackNode!==u)return null;var m=Wt;return m=as(r,r===xn?m:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m===0?null:(Kv(r,m,i),hw(r,vt()),r.callbackNode!=null&&r.callbackNode===u?mw.bind(null,r):null)}function pw(r,i){if(Wd())return null;Kv(r,i,!0)}function Rk(){Vk(function(){(nn&6)!==0?pt(St,Ok):fw()})}function Dp(){return uo===0&&(uo=Xe()),uo}function gw(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Vo(""+r)}function xw(r,i){var u=i.ownerDocument.createElement("input");return u.name=i.name,u.value=i.value,r.id&&u.setAttribute("form",r.id),i.parentNode.insertBefore(u,i),r=new FormData(r),u.parentNode.removeChild(u),r}function Dk(r,i,u,m,x){if(i==="submit"&&u&&u.stateNode===x){var v=gw((x[Ae]||null).action),T=m.submitter;T&&(i=(i=T[Ae]||null)?gw(i.formAction):T.getAttribute("formAction"),i!==null&&(v=i,T=null));var P=new Io("action","action",null,m,x);r.push({event:P,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(uo!==0){var X=T?xw(x,T):new FormData(x);Jm(u,{pending:!0,data:X,method:x.method,action:v},null,X)}}else typeof v=="function"&&(P.preventDefault(),X=T?xw(x,T):new FormData(x),Jm(u,{pending:!0,data:X,method:x.method,action:v},v,X))},currentTarget:x}]})}}for(var Mp=0;Mp<ym.length;Mp++){var Pp=ym[Mp],Mk=Pp.toLowerCase(),Pk=Pp[0].toUpperCase()+Pp.slice(1);kr(Mk,"on"+Pk)}kr(Ky,"onAnimationEnd"),kr(Qy,"onAnimationIteration"),kr(Zy,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(ZT,"onTransitionRun"),kr(JT,"onTransitionStart"),kr(ek,"onTransitionCancel"),kr(Jy,"onTransitionEnd"),On("onMouseEnter",["mouseout","mouseover"]),On("onMouseLeave",["mouseout","mouseover"]),On("onPointerEnter",["pointerout","pointerover"]),On("onPointerLeave",["pointerout","pointerover"]),wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wc));function yw(r,i){i=(i&4)!==0;for(var u=0;u<r.length;u++){var m=r[u],x=m.event;m=m.listeners;e:{var v=void 0;if(i)for(var T=m.length-1;0<=T;T--){var P=m[T],X=P.instance,ge=P.currentTarget;if(P=P.listener,X!==v&&x.isPropagationStopped())break e;v=P,x.currentTarget=ge;try{v(x)}catch(Ne){Ld(Ne)}x.currentTarget=null,v=X}else for(T=0;T<m.length;T++){if(P=m[T],X=P.instance,ge=P.currentTarget,P=P.listener,X!==v&&x.isPropagationStopped())break e;v=P,x.currentTarget=ge;try{v(x)}catch(Ne){Ld(Ne)}x.currentTarget=null,v=X}}}}function $t(r,i){var u=i[Ze];u===void 0&&(u=i[Ze]=new Set);var m=r+"__bubble";u.has(m)||(bw(i,r,2,!1),u.add(m))}function Lp(r,i,u){var m=0;i&&(m|=4),bw(u,r,m,i)}var Kd="_reactListening"+Math.random().toString(36).slice(2);function zp(r){if(!r[Kd]){r[Kd]=!0,Et.forEach(function(u){u!=="selectionchange"&&(Lk.has(u)||Lp(u,!1,r),Lp(u,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Kd]||(i[Kd]=!0,Lp("selectionchange",!1,i))}}function bw(r,i,u,m){switch($w(i)){case 2:var x=cC;break;case 8:x=uC;break;default:x=Qp}u=x.bind(null,i,u,r),x=void 0,!$o||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(x=!0),m?x!==void 0?r.addEventListener(i,u,{capture:!0,passive:x}):r.addEventListener(i,u,!0):x!==void 0?r.addEventListener(i,u,{passive:x}):r.addEventListener(i,u,!1)}function Up(r,i,u,m,x){var v=m;if((i&1)===0&&(i&2)===0&&m!==null)e:for(;;){if(m===null)return;var T=m.tag;if(T===3||T===4){var P=m.stateNode.containerInfo;if(P===x)break;if(T===4)for(T=m.return;T!==null;){var X=T.tag;if((X===3||X===4)&&T.stateNode.containerInfo===x)return;T=T.return}for(;P!==null;){if(T=Ct(P),T===null)return;if(X=T.tag,X===5||X===6||X===26||X===27){m=v=T;continue e}P=P.parentNode}}m=m.return}pc(function(){var ge=v,Ne=Ii(u),Ce=[];e:{var ve=eb.get(r);if(ve!==void 0){var we=Io,bt=r;switch(r){case"keypress":if(Ya(u)===0)break e;case"keydown":case"keyup":we=qr;break;case"focusin":bt="focus",we=ot;break;case"focusout":bt="blur",we=ot;break;case"beforeblur":case"afterblur":we=ot;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=ie;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=be;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=dd;break;case Ky:case Qy:case Zy:we=Ye;break;case Jy:we=PT;break;case"scroll":case"scrollend":we=Dn;break;case"wheel":we=zT;break;case"copy":case"cut":case"paste":we=on;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=Yo;break;case"toggle":case"beforetoggle":we=BT}var mt=(i&4)!==0,un=!mt&&(r==="scroll"||r==="scrollend"),oe=mt?ve!==null?ve+"Capture":null:ve;mt=[];for(var se=ge,he;se!==null;){var Te=se;if(he=Te.stateNode,Te=Te.tag,Te!==5&&Te!==26&&Te!==27||he===null||oe===null||(Te=Ia(se,oe),Te!=null&&mt.push(Xc(se,Te,he))),un)break;se=se.return}0<mt.length&&(ve=new we(ve,bt,null,u,Ne),Ce.push({event:ve,listeners:mt}))}}if((i&7)===0){e:{if(ve=r==="mouseover"||r==="pointerover",we=r==="mouseout"||r==="pointerout",ve&&u!==hc&&(bt=u.relatedTarget||u.fromElement)&&(Ct(bt)||bt[Ve]))break e;if((we||ve)&&(ve=Ne.window===Ne?Ne:(ve=Ne.ownerDocument)?ve.defaultView||ve.parentWindow:window,we?(bt=u.relatedTarget||u.toElement,we=ge,bt=bt?Ct(bt):null,bt!==null&&(un=o(bt),mt=bt.tag,bt!==un||mt!==5&&mt!==27&&mt!==6)&&(bt=null)):(we=null,bt=ge),we!==bt)){if(mt=ie,Te="onMouseLeave",oe="onMouseEnter",se="mouse",(r==="pointerout"||r==="pointerover")&&(mt=Yo,Te="onPointerLeave",oe="onPointerEnter",se="pointer"),un=we==null?ve:An(we),he=bt==null?ve:An(bt),ve=new mt(Te,se+"leave",we,u,Ne),ve.target=un,ve.relatedTarget=he,Te=null,Ct(Ne)===ge&&(mt=new mt(oe,se+"enter",bt,u,Ne),mt.target=he,mt.relatedTarget=un,Te=mt),un=Te,we&&bt)t:{for(mt=we,oe=bt,se=0,he=mt;he;he=bl(he))se++;for(he=0,Te=oe;Te;Te=bl(Te))he++;for(;0<se-he;)mt=bl(mt),se--;for(;0<he-se;)oe=bl(oe),he--;for(;se--;){if(mt===oe||oe!==null&&mt===oe.alternate)break t;mt=bl(mt),oe=bl(oe)}mt=null}else mt=null;we!==null&&vw(Ce,ve,we,mt,!1),bt!==null&&un!==null&&vw(Ce,un,bt,mt,!0)}}e:{if(ve=ge?An(ge):window,we=ve.nodeName&&ve.nodeName.toLowerCase(),we==="select"||we==="input"&&ve.type==="file")var Je=By;else if(zy(ve))if(Fy)Je=GT;else{Je=WT;var Ut=YT}else we=ve.nodeName,!we||we.toLowerCase()!=="input"||ve.type!=="checkbox"&&ve.type!=="radio"?ge&&qi(ge.elementType)&&(Je=By):Je=XT;if(Je&&(Je=Je(r,ge))){Uy(Ce,Je,u,Ne);break e}Ut&&Ut(r,ve,ge),r==="focusout"&&ge&&ve.type==="number"&&ge.memoizedProps.value!=null&&uc(ve,"number",ve.value)}switch(Ut=ge?An(ge):window,r){case"focusin":(zy(Ut)||Ut.contentEditable==="true")&&(Go=Ut,pm=ge,vc=null);break;case"focusout":vc=pm=Go=null;break;case"mousedown":gm=!0;break;case"contextmenu":case"mouseup":case"dragend":gm=!1,Xy(Ce,u,Ne);break;case"selectionchange":if(QT)break;case"keydown":case"keyup":Xy(Ce,u,Ne)}var it;if(dm)e:{switch(r){case"compositionstart":var xt="onCompositionStart";break e;case"compositionend":xt="onCompositionEnd";break e;case"compositionupdate":xt="onCompositionUpdate";break e}xt=void 0}else Xo?Py(r,u)&&(xt="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(xt="onCompositionStart");xt&&(Ry&&u.locale!=="ko"&&(Xo||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&Xo&&(it=Xi()):(Is=Ne,Ms="value"in Is?Is.value:Is.textContent,Xo=!0)),Ut=Qd(ge,xt),0<Ut.length&&(xt=new dt(xt,r,null,u,Ne),Ce.push({event:xt,listeners:Ut}),it?xt.data=it:(it=Ly(u),it!==null&&(xt.data=it)))),(it=HT?VT(r,u):$T(r,u))&&(xt=Qd(ge,"onBeforeInput"),0<xt.length&&(Ut=new dt("onBeforeInput","beforeinput",null,u,Ne),Ce.push({event:Ut,listeners:xt}),Ut.data=it)),Dk(Ce,r,ge,u,Ne)}yw(Ce,i)})}function Xc(r,i,u){return{instance:r,listener:i,currentTarget:u}}function Qd(r,i){for(var u=i+"Capture",m=[];r!==null;){var x=r,v=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||v===null||(x=Ia(r,u),x!=null&&m.unshift(Xc(r,x,v)),x=Ia(r,i),x!=null&&m.push(Xc(r,x,v))),r.tag===3)return m;r=r.return}return[]}function bl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function vw(r,i,u,m,x){for(var v=i._reactName,T=[];u!==null&&u!==m;){var P=u,X=P.alternate,ge=P.stateNode;if(P=P.tag,X!==null&&X===m)break;P!==5&&P!==26&&P!==27||ge===null||(X=ge,x?(ge=Ia(u,v),ge!=null&&T.unshift(Xc(u,ge,X))):x||(ge=Ia(u,v),ge!=null&&T.push(Xc(u,ge,X)))),u=u.return}T.length!==0&&r.push({event:i,listeners:T})}var zk=/\r\n?/g,Uk=/\u0000|\uFFFD/g;function ww(r){return(typeof r=="string"?r:""+r).replace(zk,`
`).replace(Uk,"")}function _w(r,i){return i=ww(i),ww(r)===i}function Zd(){}function cn(r,i,u,m,x,v){switch(u){case"children":typeof m=="string"?i==="body"||i==="textarea"&&m===""||$a(r,m):(typeof m=="number"||typeof m=="bigint")&&i!=="body"&&$a(r,""+m);break;case"className":cr(r,"class",m);break;case"tabIndex":cr(r,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":cr(r,u,m);break;case"style":fc(r,m,v);break;case"data":if(i!=="object"){cr(r,"data",m);break}case"src":case"href":if(m===""&&(i!=="a"||u!=="href")){r.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(u);break}m=Vo(""+m),r.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(u==="formAction"?(i!=="input"&&cn(r,i,"name",x.name,x,null),cn(r,i,"formEncType",x.formEncType,x,null),cn(r,i,"formMethod",x.formMethod,x,null),cn(r,i,"formTarget",x.formTarget,x,null)):(cn(r,i,"encType",x.encType,x,null),cn(r,i,"method",x.method,x,null),cn(r,i,"target",x.target,x,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(u);break}m=Vo(""+m),r.setAttribute(u,m);break;case"onClick":m!=null&&(r.onclick=Zd);break;case"onScroll":m!=null&&$t("scroll",r);break;case"onScrollEnd":m!=null&&$t("scrollend",r);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(s(61));if(u=m.__html,u!=null){if(x.children!=null)throw Error(s(60));r.innerHTML=u}}break;case"multiple":r.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":r.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){r.removeAttribute("xlink:href");break}u=Vo(""+m),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(u,""+m):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":m===!0?r.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(u,m):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?r.setAttribute(u,m):r.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?r.removeAttribute(u):r.setAttribute(u,m);break;case"popover":$t("beforetoggle",r),$t("toggle",r),_s(r,"popover",m);break;case"xlinkActuate":Rt(r,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Rt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Rt(r,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Rt(r,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Rt(r,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Rt(r,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Rt(r,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Rt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Rt(r,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":_s(r,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Ho.get(u)||u,_s(r,u,m))}}function Bp(r,i,u,m,x,v){switch(u){case"style":fc(r,m,v);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(s(61));if(u=m.__html,u!=null){if(x.children!=null)throw Error(s(60));r.innerHTML=u}}break;case"children":typeof m=="string"?$a(r,m):(typeof m=="number"||typeof m=="bigint")&&$a(r,""+m);break;case"onScroll":m!=null&&$t("scroll",r);break;case"onScrollEnd":m!=null&&$t("scrollend",r);break;case"onClick":m!=null&&(r.onclick=Zd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gt.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(x=u.endsWith("Capture"),i=u.slice(2,x?u.length-7:void 0),v=r[Ae]||null,v=v!=null?v[u]:null,typeof v=="function"&&r.removeEventListener(i,v,x),typeof m=="function")){typeof v!="function"&&v!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(i,m,x);break e}u in r?r[u]=m:m===!0?r.setAttribute(u,""):_s(r,u,m)}}}function ps(r,i,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$t("error",r),$t("load",r);var m=!1,x=!1,v;for(v in u)if(u.hasOwnProperty(v)){var T=u[v];if(T!=null)switch(v){case"src":m=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:cn(r,i,v,T,u,null)}}x&&cn(r,i,"srcSet",u.srcSet,u,null),m&&cn(r,i,"src",u.src,u,null);return;case"input":$t("invalid",r);var P=v=T=x=null,X=null,ge=null;for(m in u)if(u.hasOwnProperty(m)){var Ne=u[m];if(Ne!=null)switch(m){case"name":x=Ne;break;case"type":T=Ne;break;case"checked":X=Ne;break;case"defaultChecked":ge=Ne;break;case"value":v=Ne;break;case"defaultValue":P=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(s(137,i));break;default:cn(r,i,m,Ne,u,null)}}od(r,v,P,X,ge,T,x,!1),Hi(r);return;case"select":$t("invalid",r),m=T=v=null;for(x in u)if(u.hasOwnProperty(x)&&(P=u[x],P!=null))switch(x){case"value":v=P;break;case"defaultValue":T=P;break;case"multiple":m=P;default:cn(r,i,x,P,u,null)}i=v,u=T,r.multiple=!!m,i!=null?ma(r,!!m,i,!1):u!=null&&ma(r,!!m,u,!0);return;case"textarea":$t("invalid",r),v=x=m=null;for(T in u)if(u.hasOwnProperty(T)&&(P=u[T],P!=null))switch(T){case"value":m=P;break;case"defaultValue":x=P;break;case"children":v=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(91));break;default:cn(r,i,T,P,u,null)}dc(r,m,x,v),Hi(r);return;case"option":for(X in u)if(u.hasOwnProperty(X)&&(m=u[X],m!=null))switch(X){case"selected":r.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:cn(r,i,X,m,u,null)}return;case"dialog":$t("beforetoggle",r),$t("toggle",r),$t("cancel",r),$t("close",r);break;case"iframe":case"object":$t("load",r);break;case"video":case"audio":for(m=0;m<Wc.length;m++)$t(Wc[m],r);break;case"image":$t("error",r),$t("load",r);break;case"details":$t("toggle",r);break;case"embed":case"source":case"link":$t("error",r),$t("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ge in u)if(u.hasOwnProperty(ge)&&(m=u[ge],m!=null))switch(ge){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:cn(r,i,ge,m,u,null)}return;default:if(qi(i)){for(Ne in u)u.hasOwnProperty(Ne)&&(m=u[Ne],m!==void 0&&Bp(r,i,Ne,m,u,void 0));return}}for(P in u)u.hasOwnProperty(P)&&(m=u[P],m!=null&&cn(r,i,P,m,u,null))}function Bk(r,i,u,m){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,v=null,T=null,P=null,X=null,ge=null,Ne=null;for(we in u){var Ce=u[we];if(u.hasOwnProperty(we)&&Ce!=null)switch(we){case"checked":break;case"value":break;case"defaultValue":X=Ce;default:m.hasOwnProperty(we)||cn(r,i,we,null,m,Ce)}}for(var ve in m){var we=m[ve];if(Ce=u[ve],m.hasOwnProperty(ve)&&(we!=null||Ce!=null))switch(ve){case"type":v=we;break;case"name":x=we;break;case"checked":ge=we;break;case"defaultChecked":Ne=we;break;case"value":T=we;break;case"defaultValue":P=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(s(137,i));break;default:we!==Ce&&cn(r,i,ve,we,m,Ce)}}cc(r,T,P,X,ge,Ne,v,x);return;case"select":we=T=P=ve=null;for(v in u)if(X=u[v],u.hasOwnProperty(v)&&X!=null)switch(v){case"value":break;case"multiple":we=X;default:m.hasOwnProperty(v)||cn(r,i,v,null,m,X)}for(x in m)if(v=m[x],X=u[x],m.hasOwnProperty(x)&&(v!=null||X!=null))switch(x){case"value":ve=v;break;case"defaultValue":P=v;break;case"multiple":T=v;default:v!==X&&cn(r,i,x,v,m,X)}i=P,u=T,m=we,ve!=null?ma(r,!!u,ve,!1):!!m!=!!u&&(i!=null?ma(r,!!u,i,!0):ma(r,!!u,u?[]:"",!1));return;case"textarea":we=ve=null;for(P in u)if(x=u[P],u.hasOwnProperty(P)&&x!=null&&!m.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:cn(r,i,P,null,m,x)}for(T in m)if(x=m[T],v=u[T],m.hasOwnProperty(T)&&(x!=null||v!=null))switch(T){case"value":ve=x;break;case"defaultValue":we=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:x!==v&&cn(r,i,T,x,m,v)}$i(r,ve,we);return;case"option":for(var bt in u)if(ve=u[bt],u.hasOwnProperty(bt)&&ve!=null&&!m.hasOwnProperty(bt))switch(bt){case"selected":r.selected=!1;break;default:cn(r,i,bt,null,m,ve)}for(X in m)if(ve=m[X],we=u[X],m.hasOwnProperty(X)&&ve!==we&&(ve!=null||we!=null))switch(X){case"selected":r.selected=ve&&typeof ve!="function"&&typeof ve!="symbol";break;default:cn(r,i,X,ve,m,we)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in u)ve=u[mt],u.hasOwnProperty(mt)&&ve!=null&&!m.hasOwnProperty(mt)&&cn(r,i,mt,null,m,ve);for(ge in m)if(ve=m[ge],we=u[ge],m.hasOwnProperty(ge)&&ve!==we&&(ve!=null||we!=null))switch(ge){case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(s(137,i));break;default:cn(r,i,ge,ve,m,we)}return;default:if(qi(i)){for(var un in u)ve=u[un],u.hasOwnProperty(un)&&ve!==void 0&&!m.hasOwnProperty(un)&&Bp(r,i,un,void 0,m,ve);for(Ne in m)ve=m[Ne],we=u[Ne],!m.hasOwnProperty(Ne)||ve===we||ve===void 0&&we===void 0||Bp(r,i,Ne,ve,m,we);return}}for(var oe in u)ve=u[oe],u.hasOwnProperty(oe)&&ve!=null&&!m.hasOwnProperty(oe)&&cn(r,i,oe,null,m,ve);for(Ce in m)ve=m[Ce],we=u[Ce],!m.hasOwnProperty(Ce)||ve===we||ve==null&&we==null||cn(r,i,Ce,ve,m,we)}var Fp=null,Hp=null;function Jd(r){return r.nodeType===9?r:r.ownerDocument}function jw(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sw(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Vp(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var $p=null;function Fk(){var r=window.event;return r&&r.type==="popstate"?r===$p?!1:($p=r,!0):($p=null,!1)}var Nw=typeof setTimeout=="function"?setTimeout:void 0,Hk=typeof clearTimeout=="function"?clearTimeout:void 0,Ew=typeof Promise=="function"?Promise:void 0,Vk=typeof queueMicrotask=="function"?queueMicrotask:typeof Ew!="undefined"?function(r){return Ew.resolve(null).then(r).catch($k)}:Nw;function $k(r){setTimeout(function(){throw r})}function ui(r){return r==="head"}function Tw(r,i){var u=i,m=0,x=0;do{var v=u.nextSibling;if(r.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(0<m&&8>m){u=m;var T=r.ownerDocument;if(u&1&&Gc(T.documentElement),u&2&&Gc(T.body),u&4)for(u=T.head,Gc(u),T=u.firstChild;T;){var P=T.nextSibling,X=T.nodeName;T[rt]||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&T.rel.toLowerCase()==="stylesheet"||u.removeChild(T),T=P}}if(x===0){r.removeChild(v),su(i);return}x--}else u==="$"||u==="$?"||u==="$!"?x++:m=u.charCodeAt(0)-48;else m=0;u=v}while(u);su(i)}function qp(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var u=i;switch(i=i.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":qp(u),wt(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function qk(r,i,u,m){for(;r.nodeType===1;){var x=u;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!m&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(m){if(!r[rt])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==x.rel||r.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||r.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||r.getAttribute("title")!==(x.title==null?null:x.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(x.src==null?null:x.src)||r.getAttribute("type")!==(x.type==null?null:x.type)||r.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var v=x.name==null?null:""+x.name;if(x.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=Ar(r.nextSibling),r===null)break}return null}function Ik(r,i,u){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=Ar(r.nextSibling),r===null))return null;return r}function Ip(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function Yk(r,i){var u=r.ownerDocument;if(r.data!=="$?"||u.readyState==="complete")i();else{var m=function(){i(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),r._reactRetry=m}}function Ar(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var Yp=null;function kw(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(i===0)return r;i--}else u==="/$"&&i++}r=r.previousSibling}return null}function Cw(r,i,u){switch(i=Jd(u),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function Gc(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);wt(r)}var xr=new Map,Aw=new Set;function ef(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ca=te.d;te.d={f:Wk,r:Xk,D:Gk,C:Kk,L:Qk,m:Zk,X:eC,S:Jk,M:tC};function Wk(){var r=Ca.f(),i=Id();return r||i}function Xk(r){var i=fn(r);i!==null&&i.tag===5&&i.type==="form"?Kb(i):Ca.r(r)}var vl=typeof document=="undefined"?null:document;function Ow(r,i,u){var m=vl;if(m&&typeof i=="string"&&i){var x=Rs(i);x='link[rel="'+r+'"][href="'+x+'"]',typeof u=="string"&&(x+='[crossorigin="'+u+'"]'),Aw.has(x)||(Aw.add(x),r={rel:r,crossOrigin:u,href:i},m.querySelector(x)===null&&(i=m.createElement("link"),ps(i,"link",r),at(i),m.head.appendChild(i)))}}function Gk(r){Ca.D(r),Ow("dns-prefetch",r,null)}function Kk(r,i){Ca.C(r,i),Ow("preconnect",r,i)}function Qk(r,i,u){Ca.L(r,i,u);var m=vl;if(m&&r&&i){var x='link[rel="preload"][as="'+Rs(i)+'"]';i==="image"&&u&&u.imageSrcSet?(x+='[imagesrcset="'+Rs(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(x+='[imagesizes="'+Rs(u.imageSizes)+'"]')):x+='[href="'+Rs(r)+'"]';var v=x;switch(i){case"style":v=wl(r);break;case"script":v=_l(r)}xr.has(v)||(r=p({rel:"preload",href:i==="image"&&u&&u.imageSrcSet?void 0:r,as:i},u),xr.set(v,r),m.querySelector(x)!==null||i==="style"&&m.querySelector(Kc(v))||i==="script"&&m.querySelector(Qc(v))||(i=m.createElement("link"),ps(i,"link",r),at(i),m.head.appendChild(i)))}}function Zk(r,i){Ca.m(r,i);var u=vl;if(u&&r){var m=i&&typeof i.as=="string"?i.as:"script",x='link[rel="modulepreload"][as="'+Rs(m)+'"][href="'+Rs(r)+'"]',v=x;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=_l(r)}if(!xr.has(v)&&(r=p({rel:"modulepreload",href:r},i),xr.set(v,r),u.querySelector(x)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Qc(v)))return}m=u.createElement("link"),ps(m,"link",r),at(m),u.head.appendChild(m)}}}function Jk(r,i,u){Ca.S(r,i,u);var m=vl;if(m&&r){var x=an(m).hoistableStyles,v=wl(r);i=i||"default";var T=x.get(v);if(!T){var P={loading:0,preload:null};if(T=m.querySelector(Kc(v)))P.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":i},u),(u=xr.get(v))&&Wp(r,u);var X=T=m.createElement("link");at(X),ps(X,"link",r),X._p=new Promise(function(ge,Ne){X.onload=ge,X.onerror=Ne}),X.addEventListener("load",function(){P.loading|=1}),X.addEventListener("error",function(){P.loading|=2}),P.loading|=4,tf(T,i,m)}T={type:"stylesheet",instance:T,count:1,state:P},x.set(v,T)}}}function eC(r,i){Ca.X(r,i);var u=vl;if(u&&r){var m=an(u).hoistableScripts,x=_l(r),v=m.get(x);v||(v=u.querySelector(Qc(x)),v||(r=p({src:r,async:!0},i),(i=xr.get(x))&&Xp(r,i),v=u.createElement("script"),at(v),ps(v,"link",r),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},m.set(x,v))}}function tC(r,i){Ca.M(r,i);var u=vl;if(u&&r){var m=an(u).hoistableScripts,x=_l(r),v=m.get(x);v||(v=u.querySelector(Qc(x)),v||(r=p({src:r,async:!0,type:"module"},i),(i=xr.get(x))&&Xp(r,i),v=u.createElement("script"),at(v),ps(v,"link",r),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},m.set(x,v))}}function Rw(r,i,u,m){var x=(x=xe.current)?ef(x):null;if(!x)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(i=wl(u.href),u=an(x).hoistableStyles,m=u.get(i),m||(m={type:"style",instance:null,count:0,state:null},u.set(i,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=wl(u.href);var v=an(x).hoistableStyles,T=v.get(r);if(T||(x=x.ownerDocument||x,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,T),(v=x.querySelector(Kc(r)))&&!v._p&&(T.instance=v,T.state.loading=5),xr.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},xr.set(r,u),v||nC(x,r,u,T.state))),i&&m===null)throw Error(s(528,""));return T}if(i&&m!==null)throw Error(s(529,""));return null;case"script":return i=u.async,u=u.src,typeof u=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=_l(u),u=an(x).hoistableScripts,m=u.get(i),m||(m={type:"script",instance:null,count:0,state:null},u.set(i,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function wl(r){return'href="'+Rs(r)+'"'}function Kc(r){return'link[rel="stylesheet"]['+r+"]"}function Dw(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function nC(r,i,u,m){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?m.loading=1:(i=r.createElement("link"),m.preload=i,i.addEventListener("load",function(){return m.loading|=1}),i.addEventListener("error",function(){return m.loading|=2}),ps(i,"link",u),at(i),r.head.appendChild(i))}function _l(r){return'[src="'+Rs(r)+'"]'}function Qc(r){return"script[async]"+r}function Mw(r,i,u){if(i.count++,i.instance===null)switch(i.type){case"style":var m=r.querySelector('style[data-href~="'+Rs(u.href)+'"]');if(m)return i.instance=m,at(m),m;var x=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(r.ownerDocument||r).createElement("style"),at(m),ps(m,"style",x),tf(m,u.precedence,r),i.instance=m;case"stylesheet":x=wl(u.href);var v=r.querySelector(Kc(x));if(v)return i.state.loading|=4,i.instance=v,at(v),v;m=Dw(u),(x=xr.get(x))&&Wp(m,x),v=(r.ownerDocument||r).createElement("link"),at(v);var T=v;return T._p=new Promise(function(P,X){T.onload=P,T.onerror=X}),ps(v,"link",m),i.state.loading|=4,tf(v,u.precedence,r),i.instance=v;case"script":return v=_l(u.src),(x=r.querySelector(Qc(v)))?(i.instance=x,at(x),x):(m=u,(x=xr.get(v))&&(m=p({},u),Xp(m,x)),r=r.ownerDocument||r,x=r.createElement("script"),at(x),ps(x,"link",m),r.head.appendChild(x),i.instance=x);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(m=i.instance,i.state.loading|=4,tf(m,u.precedence,r));return i.instance}function tf(r,i,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=m.length?m[m.length-1]:null,v=x,T=0;T<m.length;T++){var P=m[T];if(P.dataset.precedence===i)v=P;else if(v!==x)break}v?v.parentNode.insertBefore(r,v.nextSibling):(i=u.nodeType===9?u.head:u,i.insertBefore(r,i.firstChild))}function Wp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Xp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var nf=null;function Pw(r,i,u){if(nf===null){var m=new Map,x=nf=new Map;x.set(u,m)}else x=nf,m=x.get(u),m||(m=new Map,x.set(u,m));if(m.has(r))return m;for(m.set(r,null),u=u.getElementsByTagName(r),x=0;x<u.length;x++){var v=u[x];if(!(v[rt]||v[je]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var T=v.getAttribute(i)||"";T=r+T;var P=m.get(T);P?P.push(v):m.set(T,[v])}}return m}function Lw(r,i,u){r=r.ownerDocument||r,r.head.insertBefore(u,i==="title"?r.querySelector("head > title"):null)}function sC(r,i,u){if(u===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function zw(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Zc=null;function rC(){}function aC(r,i,u){if(Zc===null)throw Error(s(475));var m=Zc;if(i.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var x=wl(u.href),v=r.querySelector(Kc(x));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(m.count++,m=sf.bind(m),r.then(m,m)),i.state.loading|=4,i.instance=v,at(v);return}v=r.ownerDocument||r,u=Dw(u),(x=xr.get(x))&&Wp(u,x),v=v.createElement("link"),at(v);var T=v;T._p=new Promise(function(P,X){T.onload=P,T.onerror=X}),ps(v,"link",u),i.instance=v}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(m.count++,i=sf.bind(m),r.addEventListener("load",i),r.addEventListener("error",i))}}function iC(){if(Zc===null)throw Error(s(475));var r=Zc;return r.stylesheets&&r.count===0&&Gp(r,r.stylesheets),0<r.count?function(i){var u=setTimeout(function(){if(r.stylesheets&&Gp(r,r.stylesheets),r.unsuspend){var m=r.unsuspend;r.unsuspend=null,m()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(u)}}:null}function sf(){if(this.count--,this.count===0){if(this.stylesheets)Gp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var rf=null;function Gp(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,rf=new Map,i.forEach(oC,r),rf=null,sf.call(r))}function oC(r,i){if(!(i.state.loading&4)){var u=rf.get(r);if(u)var m=u.get(null);else{u=new Map,rf.set(r,u);for(var x=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<x.length;v++){var T=x[v];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(u.set(T.dataset.precedence,T),m=T)}m&&u.set(null,m)}x=i.instance,T=x.getAttribute("data-precedence"),v=u.get(T)||m,v===m&&u.set(null,x),u.set(T,x),this.count++,m=sf.bind(this),x.addEventListener("load",m),x.addEventListener("error",m),v?v.parentNode.insertBefore(x,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(x,r.firstChild)),i.state.loading|=4}}var Jc={$$typeof:R,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function lC(r,i,u,m,x,v,T,P){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ht(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ht(0),this.hiddenUpdates=Ht(null),this.identifierPrefix=m,this.onUncaughtError=x,this.onCaughtError=v,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Uw(r,i,u,m,x,v,T,P,X,ge,Ne,Ce){return r=new lC(r,i,u,T,P,X,ge,Ce),i=1,v===!0&&(i|=24),v=Ws(3,null,null,i),r.current=v,v.stateNode=r,i=Am(),i.refCount++,r.pooledCache=i,i.refCount++,v.memoizedState={element:m,isDehydrated:u,cache:i},Mm(v),r}function Bw(r){return r?(r=Jo,r):Jo}function Fw(r,i,u,m,x,v){x=Bw(x),m.context===null?m.context=x:m.pendingContext=x,m=Qa(i),m.payload={element:u},v=v===void 0?null:v,v!==null&&(m.callback=v),u=Za(r,m,i),u!==null&&(Zs(u,r,i),Cc(u,r,i))}function Hw(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<i?u:i}}function Kp(r,i){Hw(r,i),(r=r.alternate)&&Hw(r,i)}function Vw(r){if(r.tag===13){var i=Zo(r,67108864);i!==null&&Zs(i,r,67108864),Kp(r,67108864)}}var af=!0;function cC(r,i,u,m){var x=V.T;V.T=null;var v=te.p;try{te.p=2,Qp(r,i,u,m)}finally{te.p=v,V.T=x}}function uC(r,i,u,m){var x=V.T;V.T=null;var v=te.p;try{te.p=8,Qp(r,i,u,m)}finally{te.p=v,V.T=x}}function Qp(r,i,u,m){if(af){var x=Zp(m);if(x===null)Up(r,i,m,of,u),qw(r,m);else if(fC(x,r,i,u,m))m.stopPropagation();else if(qw(r,m),i&4&&-1<dC.indexOf(r)){for(;x!==null;){var v=fn(x);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var T=Sn(v.pendingLanes);if(T!==0){var P=v;for(P.pendingLanes|=2,P.entangledLanes|=2;T;){var X=1<<31-yt(T);P.entanglements[1]|=X,T&=~X}Gr(v),(nn&6)===0&&($d=vt()+500,Yc(0))}}break;case 13:P=Zo(v,2),P!==null&&Zs(P,v,2),Id(),Kp(v,2)}if(v=Zp(m),v===null&&Up(r,i,m,of,u),v===x)break;x=v}x!==null&&m.stopPropagation()}else Up(r,i,m,null,u)}}function Zp(r){return r=Ii(r),Jp(r)}var of=null;function Jp(r){if(of=null,r=Ct(r),r!==null){var i=o(r);if(i===null)r=null;else{var u=i.tag;if(u===13){if(r=l(i),r!==null)return r;r=null}else if(u===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return of=r,null}function $w(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dt()){case St:return 2;case Y:return 8;case le:case q:return 32;case Se:return 268435456;default:return 32}default:return 32}}var eg=!1,di=null,fi=null,hi=null,eu=new Map,tu=new Map,mi=[],dC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qw(r,i){switch(r){case"focusin":case"focusout":di=null;break;case"dragenter":case"dragleave":fi=null;break;case"mouseover":case"mouseout":hi=null;break;case"pointerover":case"pointerout":eu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":tu.delete(i.pointerId)}}function nu(r,i,u,m,x,v){return r===null||r.nativeEvent!==v?(r={blockedOn:i,domEventName:u,eventSystemFlags:m,nativeEvent:v,targetContainers:[x]},i!==null&&(i=fn(i),i!==null&&Vw(i)),r):(r.eventSystemFlags|=m,i=r.targetContainers,x!==null&&i.indexOf(x)===-1&&i.push(x),r)}function fC(r,i,u,m,x){switch(i){case"focusin":return di=nu(di,r,i,u,m,x),!0;case"dragenter":return fi=nu(fi,r,i,u,m,x),!0;case"mouseover":return hi=nu(hi,r,i,u,m,x),!0;case"pointerover":var v=x.pointerId;return eu.set(v,nu(eu.get(v)||null,r,i,u,m,x)),!0;case"gotpointercapture":return v=x.pointerId,tu.set(v,nu(tu.get(v)||null,r,i,u,m,x)),!0}return!1}function Iw(r){var i=Ct(r.target);if(i!==null){var u=o(i);if(u!==null){if(i=u.tag,i===13){if(i=l(u),i!==null){r.blockedOn=i,ae(r.priority,function(){if(u.tag===13){var m=Qs();m=It(m);var x=Zo(u,m);x!==null&&Zs(x,u,m),Kp(u,m)}});return}}else if(i===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function lf(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var u=Zp(r.nativeEvent);if(u===null){u=r.nativeEvent;var m=new u.constructor(u.type,u);hc=m,u.target.dispatchEvent(m),hc=null}else return i=fn(u),i!==null&&Vw(i),r.blockedOn=u,!1;i.shift()}return!0}function Yw(r,i,u){lf(r)&&u.delete(i)}function hC(){eg=!1,di!==null&&lf(di)&&(di=null),fi!==null&&lf(fi)&&(fi=null),hi!==null&&lf(hi)&&(hi=null),eu.forEach(Yw),tu.forEach(Yw)}function cf(r,i){r.blockedOn===i&&(r.blockedOn=null,eg||(eg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,hC)))}var uf=null;function Ww(r){uf!==r&&(uf=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){uf===r&&(uf=null);for(var i=0;i<r.length;i+=3){var u=r[i],m=r[i+1],x=r[i+2];if(typeof m!="function"){if(Jp(m||u)===null)continue;break}var v=fn(u);v!==null&&(r.splice(i,3),i-=3,Jm(v,{pending:!0,data:x,method:u.method,action:m},m,x))}}))}function su(r){function i(X){return cf(X,r)}di!==null&&cf(di,r),fi!==null&&cf(fi,r),hi!==null&&cf(hi,r),eu.forEach(i),tu.forEach(i);for(var u=0;u<mi.length;u++){var m=mi[u];m.blockedOn===r&&(m.blockedOn=null)}for(;0<mi.length&&(u=mi[0],u.blockedOn===null);)Iw(u),u.blockedOn===null&&mi.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var x=u[m],v=u[m+1],T=x[Ae]||null;if(typeof v=="function")T||Ww(u);else if(T){var P=null;if(v&&v.hasAttribute("formAction")){if(x=v,T=v[Ae]||null)P=T.formAction;else if(Jp(x)!==null)continue}else P=T.action;typeof P=="function"?u[m+1]=P:(u.splice(m,3),m-=3),Ww(u)}}}function tg(r){this._internalRoot=r}df.prototype.render=tg.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var u=i.current,m=Qs();Fw(u,m,r,i,null,null)},df.prototype.unmount=tg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Fw(r.current,2,null,r,null,null),Id(),i[Ve]=null}};function df(r){this._internalRoot=r}df.prototype.unstable_scheduleHydration=function(r){if(r){var i=G();r={blockedOn:null,target:r,priority:i};for(var u=0;u<mi.length&&i!==0&&i<mi[u].priority;u++);mi.splice(u,0,r),u===0&&Iw(r)}};var Xw=t.version;if(Xw!=="19.1.1")throw Error(s(527,Xw,"19.1.1"));te.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=f(i),r=r!==null?h(r):null,r=r===null?null:r.stateNode,r};var mC={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var ff=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ff.isDisabled&&ff.supportsFiber)try{Fe=ff.inject(mC),Ie=ff}catch(r){}}return au.createRoot=function(r,i){if(!a(r))throw Error(s(299));var u=!1,m="",x=uv,v=dv,T=fv,P=null;return i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(m=i.identifierPrefix),i.onUncaughtError!==void 0&&(x=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(P=i.unstable_transitionCallbacks)),i=Uw(r,1,!1,null,null,u,m,x,v,T,P,null),r[Ve]=i.current,zp(r),new tg(i)},au.hydrateRoot=function(r,i,u){if(!a(r))throw Error(s(299));var m=!1,x="",v=uv,T=dv,P=fv,X=null,ge=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(T=u.onCaughtError),u.onRecoverableError!==void 0&&(P=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(X=u.unstable_transitionCallbacks),u.formState!==void 0&&(ge=u.formState)),i=Uw(r,1,!0,i,u!=null?u:null,m,x,v,T,P,X,ge),i.context=Bw(null),u=i.current,m=Qs(),m=It(m),x=Qa(m),x.callback=null,Za(u,x,m),u=m,i.current.lanes=u,Nt(i,u),Gr(i),r[Ve]=i.current,zp(r),new df(i)},au.version="19.1.1",au}var o_;function CC(){if(o_)return og.exports;o_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),og.exports=kC(),og.exports}var AC=CC();const OC=nx(AC);var RC=Object.defineProperty,DC=(e,t,n)=>t in e?RC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ho=(e,t,n)=>DC(e,typeof t!="symbol"?t+"":t,n),MC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Sl={},iu={},Or={},l_;function bS(){if(l_)return Or;l_=1;var e=Or&&Or.__assign||function(){return e=Object.assign||function(a){for(var o,l=1,d=arguments.length;l<d;l++){o=arguments[l];for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(a[f]=o[f])}return a},e.apply(this,arguments)},t=Or&&Or.__awaiter||function(a,o,l,d){function f(h){return h instanceof l?h:new l(function(p){p(h)})}return new(l||(l=Promise))(function(h,p){function g(w){try{y(d.next(w))}catch(_){p(_)}}function b(w){try{y(d.throw(w))}catch(_){p(_)}}function y(w){w.done?h(w.value):f(w.value).then(g,b)}y((d=d.apply(a,o||[])).next())})},n=Or&&Or.__generator||function(a,o){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},d,f,h,p;return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(y){return function(w){return b([y,w])}}function b(y){if(d)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(l=0)),l;)try{if(d=1,f&&(h=y[0]&2?f.return:y[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,y[1])).done)return h;switch(f=0,h&&(y=[y[0]&2,h.value]),y[0]){case 0:case 1:h=y;break;case 4:return l.label++,{value:y[1],done:!1};case 5:l.label++,f=y[1],y=[0];continue;case 7:y=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(y[0]===6||y[0]===2)){l=0;continue}if(y[0]===3&&(!h||y[1]>h[0]&&y[1]<h[3])){l.label=y[1];break}if(y[0]===6&&l.label<h[1]){l.label=h[1],h=y;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(y);break}h[2]&&l.ops.pop(),l.trys.pop();continue}y=o.call(a,l)}catch(w){y=[6,w],f=0}finally{d=h=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}};Object.defineProperty(Or,"__esModule",{value:!0}),Or.FrappeCall=void 0;var s=function(){function a(o,l,d,f,h){this.appURL=o,this.axios=l,this.useToken=d!=null?d:!1,this.token=f,this.tokenType=h}return a.prototype.get=function(o,l){return t(this,void 0,void 0,function(){var d;return n(this,function(f){return d=new URLSearchParams,l&&Object.entries(l).forEach(function(h){var p=h[0],g=h[1];if(g!=null){var b=typeof g=="object"?JSON.stringify(g):g;d.set(p,b)}}),[2,this.axios.get("/api/method/".concat(o),{params:d}).then(function(h){return h.data}).catch(function(h){var p,g;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(p=h.response.data.message)!==null&&p!==void 0?p:"There was an error.",exception:(g=h.response.data.exception)!==null&&g!==void 0?g:""})})]})})},a.prototype.post=function(o,l){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.post("/api/method/".concat(o),e({},l)).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error.",exception:(p=f.response.data.exception)!==null&&p!==void 0?p:""})})]})})},a.prototype.put=function(o,l){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.put("/api/method/".concat(o),e({},l)).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error.",exception:(p=f.response.data.exception)!==null&&p!==void 0?p:""})})]})})},a.prototype.delete=function(o,l){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.delete("/api/method/".concat(o),{params:l}).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error.",exception:(p=f.response.data.exception)!==null&&p!==void 0?p:""})})]})})},a}();return Or.FrappeCall=s,Or}var Rr={},c_;function vS(){if(c_)return Rr;c_=1;var e=Rr&&Rr.__assign||function(){return e=Object.assign||function(a){for(var o,l=1,d=arguments.length;l<d;l++){o=arguments[l];for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(a[f]=o[f])}return a},e.apply(this,arguments)},t=Rr&&Rr.__awaiter||function(a,o,l,d){function f(h){return h instanceof l?h:new l(function(p){p(h)})}return new(l||(l=Promise))(function(h,p){function g(w){try{y(d.next(w))}catch(_){p(_)}}function b(w){try{y(d.throw(w))}catch(_){p(_)}}function y(w){w.done?h(w.value):f(w.value).then(g,b)}y((d=d.apply(a,o||[])).next())})},n=Rr&&Rr.__generator||function(a,o){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},d,f,h,p;return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(y){return function(w){return b([y,w])}}function b(y){if(d)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(l=0)),l;)try{if(d=1,f&&(h=y[0]&2?f.return:y[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,y[1])).done)return h;switch(f=0,h&&(y=[y[0]&2,h.value]),y[0]){case 0:case 1:h=y;break;case 4:return l.label++,{value:y[1],done:!1};case 5:l.label++,f=y[1],y=[0];continue;case 7:y=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(y[0]===6||y[0]===2)){l=0;continue}if(y[0]===3&&(!h||y[1]>h[0]&&y[1]<h[3])){l.label=y[1];break}if(y[0]===6&&l.label<h[1]){l.label=h[1],h=y;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(y);break}h[2]&&l.ops.pop(),l.trys.pop();continue}y=o.call(a,l)}catch(w){y=[6,w],f=0}finally{d=h=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}};Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.FrappeDB=void 0;var s=function(){function a(o,l,d,f,h){this.appURL=o,this.axios=l,this.useToken=d!=null?d:!1,this.token=f,this.tokenType=h}return a.prototype.getDoc=function(o,l){return l===void 0&&(l=""),t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.get("/api/resource/".concat(o,"/").concat(encodeURIComponent(l))).then(function(f){return f.data.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while fetching the document.",exception:(p=(h=f.response.data.exception)!==null&&h!==void 0?h:f.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},a.prototype.getDocList=function(o,l){var d;return t(this,void 0,void 0,function(){var f,h,p,g,b,y,w,_,j,S,C;return n(this,function(R){return f={},l&&(h=l.fields,p=l.filters,g=l.orFilters,b=l.orderBy,y=l.limit,w=l.limit_start,_=l.groupBy,j=l.asDict,S=j===void 0?!0:j,C=b?"".concat(String(b==null?void 0:b.field)," ").concat((d=b==null?void 0:b.order)!==null&&d!==void 0?d:"asc"):"",f={fields:h?JSON.stringify(h):void 0,filters:p?JSON.stringify(p):void 0,or_filters:g?JSON.stringify(g):void 0,order_by:C,group_by:_,limit:y,limit_start:w,as_dict:S}),[2,this.axios.get("/api/resource/".concat(o),{params:f}).then(function(k){return k.data.data}).catch(function(k){var O,D;throw e(e({},k.response.data),{httpStatus:k.response.status,httpStatusText:k.response.statusText,message:"There was an error while fetching the documents.",exception:(D=(O=k.response.data.exception)!==null&&O!==void 0?O:k.response.data.exc_type)!==null&&D!==void 0?D:""})})]})})},a.prototype.createDoc=function(o,l){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.post("/api/resource/".concat(o),e({},l)).then(function(f){return f.data.data}).catch(function(f){var h,p,g;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error while creating the document.",exception:(g=(p=f.response.data.exception)!==null&&p!==void 0?p:f.response.data.exc_type)!==null&&g!==void 0?g:""})})]})})},a.prototype.updateDoc=function(o,l,d){return t(this,void 0,void 0,function(){return n(this,function(f){return[2,this.axios.put("/api/resource/".concat(o,"/").concat(l&&encodeURIComponent(l)),e({},d)).then(function(h){return h.data.data}).catch(function(h){var p,g,b;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(p=h.response.data.message)!==null&&p!==void 0?p:"There was an error while updating the document.",exception:(b=(g=h.response.data.exception)!==null&&g!==void 0?g:h.response.data.exc_type)!==null&&b!==void 0?b:""})})]})})},a.prototype.deleteDoc=function(o,l){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.delete("/api/resource/".concat(o,"/").concat(l&&encodeURIComponent(l))).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while deleting the document.",exception:(p=(h=f.response.data.exception)!==null&&h!==void 0?h:f.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},a.prototype.getCount=function(o,l,d,f){return d===void 0&&(d=!1),f===void 0&&(f=!1),t(this,void 0,void 0,function(){var h;return n(this,function(p){return h={doctype:o,filters:[]},d&&(h.cache=d),f&&(h.debug=f),l&&(h.filters=l?JSON.stringify(l):void 0),[2,this.axios.get("/api/method/frappe.client.get_count",{params:h}).then(function(g){return g.data.message}).catch(function(g){var b,y;throw e(e({},g.response.data),{httpStatus:g.response.status,httpStatusText:g.response.statusText,message:"There was an error while getting the count.",exception:(y=(b=g.response.data.exception)!==null&&b!==void 0?b:g.response.data.exc_type)!==null&&y!==void 0?y:""})})]})})},a.prototype.getLastDoc=function(o,l){return t(this,void 0,void 0,function(){var d,f;return n(this,function(h){switch(h.label){case 0:return d={orderBy:{field:"creation",order:"desc"}},l&&(d=e(e({},d),l)),[4,this.getDocList(o,e(e({},d),{limit:1,fields:["name"]}))];case 1:return f=h.sent(),f.length>0?[2,this.getDoc(o,f[0].name)]:[2,{}]}})})},a.prototype.renameDoc=function(o,l,d,f){return f===void 0&&(f=!1),t(this,void 0,void 0,function(){return n(this,function(h){return[2,this.axios.post("/api/method/frappe.client.rename_doc",{doctype:o,old_name:l,new_name:d,merge:f}).then(function(p){return p.data}).catch(function(p){var g,b,y;throw e(e({},p.response.data),{httpStatus:p.response.status,httpStatusText:p.response.statusText,message:(g=p.response.data.message)!==null&&g!==void 0?g:"There was an error while renaming the document.",exception:(y=(b=p.response.data.exception)!==null&&b!==void 0?b:p.response.data.exc_type)!==null&&y!==void 0?y:""})})]})})},a.prototype.getValue=function(o,l,d,f,h,p){return f===void 0&&(f=!0),h===void 0&&(h=!1),p===void 0&&(p=null),t(this,void 0,void 0,function(){var g;return n(this,function(b){return g={doctype:o,fieldname:"[]",filters:[],as_dict:f,debug:h,parent:null},l&&(g.fieldname=typeof l=="object"?JSON.stringify(l):l),d&&(g.filters=d?JSON.stringify(d):void 0),p&&(g.parent=p),[2,this.axios.get("/api/method/frappe.client.get_value",{params:g}).then(function(y){return y.data}).catch(function(y){var w,_;throw e(e({},y.response.data),{httpStatus:y.response.status,httpStatusText:y.response.statusText,message:"There was an error while getting the value.",exception:(_=(w=y.response.data.exception)!==null&&w!==void 0?w:y.response.data.exc_type)!==null&&_!==void 0?_:""})})]})})},a.prototype.setValue=function(o,l,d,f){return t(this,void 0,void 0,function(){return n(this,function(h){return d!==null&&typeof d=="object"&&!Array.isArray(d)&&(f=void 0),[2,this.axios.post("/api/method/frappe.client.set_value",{doctype:o,name:l,fieldname:d,value:f}).then(function(p){return p.data}).catch(function(p){var g,b;throw e(e({},p.response.data),{httpStatus:p.response.status,httpStatusText:p.response.statusText,message:"There was an error while setting the value.",exception:(b=(g=p.response.data.exception)!==null&&g!==void 0?g:p.response.data.exc_type)!==null&&b!==void 0?b:""})})]})})},a.prototype.getSingleValue=function(o,l){return t(this,void 0,void 0,function(){var d;return n(this,function(f){return d={doctype:o,field:l},[2,this.axios.get("/api/method/frappe.client.get_single_value",{params:d}).then(function(h){return h.data}).catch(function(h){var p,g;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:"There was an error while getting the value of single doctype.",exception:(g=(p=h.response.data.exception)!==null&&p!==void 0?p:h.response.data.exc_type)!==null&&g!==void 0?g:""})})]})})},a.prototype.submit=function(o){return t(this,void 0,void 0,function(){return n(this,function(l){return[2,this.axios.post("/api/method/frappe.client.submit",{doc:o}).then(function(d){return d.data.message}).catch(function(d){var f,h;throw e(e({},d.response.data),{httpStatus:d.response.status,httpStatusText:d.response.statusText,message:"There was an error while submitting the document.",exception:(h=(f=d.response.data.exception)!==null&&f!==void 0?f:d.response.data.exc_type)!==null&&h!==void 0?h:""})})]})})},a.prototype.cancel=function(o,l){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.post("/api/method/frappe.client.cancel",{doctype:o,name:l}).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while cancelling the document.",exception:(p=(h=f.response.data.exception)!==null&&h!==void 0?h:f.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},a}();return Rr.FrappeDB=s,Rr}var Dr={},Aa={};/*! Axios v1.8.2 Copyright (c) 2025 Matt Zabriskie and contributors */var dg,u_;function PC(){if(u_)return dg;u_=1;function e(E,M){return function(){return E.apply(M,arguments)}}const{toString:t}=Object.prototype,{getPrototypeOf:n}=Object,s=(E=>M=>{const z=t.call(M);return E[z]||(E[z]=z.slice(8,-1).toLowerCase())})(Object.create(null)),a=E=>(E=E.toLowerCase(),M=>s(M)===E),o=E=>M=>typeof M===E,{isArray:l}=Array,d=o("undefined");function f(E){return E!==null&&!d(E)&&E.constructor!==null&&!d(E.constructor)&&b(E.constructor.isBuffer)&&E.constructor.isBuffer(E)}const h=a("ArrayBuffer");function p(E){let M;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?M=ArrayBuffer.isView(E):M=E&&E.buffer&&h(E.buffer),M}const g=o("string"),b=o("function"),y=o("number"),w=E=>E!==null&&typeof E=="object",_=E=>E===!0||E===!1,j=E=>{if(s(E)!=="object")return!1;const M=n(E);return(M===null||M===Object.prototype||Object.getPrototypeOf(M)===null)&&!(Symbol.toStringTag in E)&&!(Symbol.iterator in E)},S=a("Date"),C=a("File"),R=a("Blob"),k=a("FileList"),O=E=>w(E)&&b(E.pipe),D=E=>{let M;return E&&(typeof FormData=="function"&&E instanceof FormData||b(E.append)&&((M=s(E))==="formdata"||M==="object"&&b(E.toString)&&E.toString()==="[object FormData]"))},$=a("URLSearchParams"),[A,B,J,K]=["ReadableStream","Request","Response","Headers"].map(a),I=E=>E.trim?E.trim():E.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ee(E,M,{allOwnKeys:z=!1}={}){if(E===null||typeof E>"u")return;let H,ie;if(typeof E!="object"&&(E=[E]),l(E))for(H=0,ie=E.length;H<ie;H++)M.call(null,E[H],H,E);else{const ce=z?Object.getOwnPropertyNames(E):Object.keys(E),be=ce.length;let Ue;for(H=0;H<be;H++)Ue=ce[H],M.call(null,E[Ue],Ue,E)}}function pe(E,M){M=M.toLowerCase();const z=Object.keys(E);let H=z.length,ie;for(;H-- >0;)if(ie=z[H],M===ie.toLowerCase())return ie;return null}const ne=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:MC,V=E=>!d(E)&&E!==ne;function te(){const{caseless:E}=V(this)&&this||{},M={},z=(H,ie)=>{const ce=E&&pe(M,ie)||ie;j(M[ce])&&j(H)?M[ce]=te(M[ce],H):j(H)?M[ce]=te({},H):l(H)?M[ce]=H.slice():M[ce]=H};for(let H=0,ie=arguments.length;H<ie;H++)arguments[H]&&ee(arguments[H],z);return M}const Q=(E,M,z,{allOwnKeys:H}={})=>(ee(M,(ie,ce)=>{z&&b(ie)?E[ce]=e(ie,z):E[ce]=ie},{allOwnKeys:H}),E),fe=E=>(E.charCodeAt(0)===65279&&(E=E.slice(1)),E),F=(E,M,z,H)=>{E.prototype=Object.create(M.prototype,H),E.prototype.constructor=E,Object.defineProperty(E,"super",{value:M.prototype}),z&&Object.assign(E.prototype,z)},W=(E,M,z,H)=>{let ie,ce,be;const Ue={};if(M=M||{},E==null)return M;do{for(ie=Object.getOwnPropertyNames(E),ce=ie.length;ce-- >0;)be=ie[ce],(!H||H(be,E,M))&&!Ue[be]&&(M[be]=E[be],Ue[be]=!0);E=z!==!1&&n(E)}while(E&&(!z||z(E,M))&&E!==Object.prototype);return M},me=(E,M,z)=>{E=String(E),(z===void 0||z>E.length)&&(z=E.length),z-=M.length;const H=E.indexOf(M,z);return H!==-1&&H===z},U=E=>{if(!E)return null;if(l(E))return E;let M=E.length;if(!y(M))return null;const z=new Array(M);for(;M-- >0;)z[M]=E[M];return z},re=(E=>M=>E&&M instanceof E)(typeof Uint8Array<"u"&&n(Uint8Array)),_e=(E,M)=>{const z=(E&&E[Symbol.iterator]).call(E);let H;for(;(H=z.next())&&!H.done;){const ie=H.value;M.call(E,ie[0],ie[1])}},xe=(E,M)=>{let z;const H=[];for(;(z=E.exec(M))!==null;)H.push(z);return H},Ee=a("HTMLFormElement"),Oe=E=>E.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(M,z,H){return z.toUpperCase()+H}),$e=(({hasOwnProperty:E})=>(M,z)=>E.call(M,z))(Object.prototype),Le=a("RegExp"),lt=(E,M)=>{const z=Object.getOwnPropertyDescriptors(E),H={};ee(z,(ie,ce)=>{let be;(be=M(ie,ce,E))!==!1&&(H[ce]=be||ie)}),Object.defineProperties(E,H)},Ke=E=>{lt(E,(M,z)=>{if(b(E)&&["arguments","caller","callee"].indexOf(z)!==-1)return!1;const H=E[z];if(b(H)){if(M.enumerable=!1,"writable"in M){M.writable=!1;return}M.set||(M.set=()=>{throw Error("Can not rewrite read-only method '"+z+"'")})}})},pt=(E,M)=>{const z={},H=ie=>{ie.forEach(ce=>{z[ce]=!0})};return l(E)?H(E):H(String(E).split(M)),z},Pe=()=>{},ht=(E,M)=>E!=null&&Number.isFinite(E=+E)?E:M;function Ft(E){return!!(E&&b(E.append)&&E[Symbol.toStringTag]==="FormData"&&E[Symbol.iterator])}const vt=E=>{const M=new Array(10),z=(H,ie)=>{if(w(H)){if(M.indexOf(H)>=0)return;if(!("toJSON"in H)){M[ie]=H;const ce=l(H)?[]:{};return ee(H,(be,Ue)=>{const ot=z(be,ie+1);!d(ot)&&(ce[Ue]=ot)}),M[ie]=void 0,ce}}return H};return z(E,0)},Dt=a("AsyncFunction"),St=E=>E&&(w(E)||b(E))&&b(E.then)&&b(E.catch),Y=((E,M)=>E?setImmediate:M?((z,H)=>(ne.addEventListener("message",({source:ie,data:ce})=>{ie===ne&&ce===z&&H.length&&H.shift()()},!1),ie=>{H.push(ie),ne.postMessage(z,"*")}))(`axios@${Math.random()}`,[]):z=>setTimeout(z))(typeof setImmediate=="function",b(ne.postMessage)),le=typeof queueMicrotask<"u"?queueMicrotask.bind(ne):typeof process<"u"&&process.nextTick||Y;var q={isArray:l,isArrayBuffer:h,isBuffer:f,isFormData:D,isArrayBufferView:p,isString:g,isNumber:y,isBoolean:_,isObject:w,isPlainObject:j,isReadableStream:A,isRequest:B,isResponse:J,isHeaders:K,isUndefined:d,isDate:S,isFile:C,isBlob:R,isRegExp:Le,isFunction:b,isStream:O,isURLSearchParams:$,isTypedArray:re,isFileList:k,forEach:ee,merge:te,extend:Q,trim:I,stripBOM:fe,inherits:F,toFlatObject:W,kindOf:s,kindOfTest:a,endsWith:me,toArray:U,forEachEntry:_e,matchAll:xe,isHTMLForm:Ee,hasOwnProperty:$e,hasOwnProp:$e,reduceDescriptors:lt,freezeMethods:Ke,toObjectSet:pt,toCamelCase:Oe,noop:Pe,toFiniteNumber:ht,findKey:pe,global:ne,isContextDefined:V,isSpecCompliantForm:Ft,toJSONObject:vt,isAsyncFn:Dt,isThenable:St,setImmediate:Y,asap:le};function Se(E,M,z,H,ie){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=E,this.name="AxiosError",M&&(this.code=M),z&&(this.config=z),H&&(this.request=H),ie&&(this.response=ie,this.status=ie.status?ie.status:null)}q.inherits(Se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}});const De=Se.prototype,Re={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(E=>{Re[E]={value:E}}),Object.defineProperties(Se,Re),Object.defineProperty(De,"isAxiosError",{value:!0}),Se.from=(E,M,z,H,ie,ce)=>{const be=Object.create(De);return q.toFlatObject(E,be,function(Ue){return Ue!==Error.prototype},Ue=>Ue!=="isAxiosError"),Se.call(be,E.message,M,z,H,ie),be.cause=E,be.name=E.name,ce&&Object.assign(be,ce),be};var Fe=null;function Ie(E){return q.isPlainObject(E)||q.isArray(E)}function Qe(E){return q.endsWith(E,"[]")?E.slice(0,-2):E}function yt(E,M,z){return E?E.concat(M).map(function(H,ie){return H=Qe(H),!z&&ie?"["+H+"]":H}).join(z?".":""):M}function bn(E){return q.isArray(E)&&!E.some(Ie)}const ct=q.toFlatObject(q,{},null,function(E){return/^is[A-Z]/.test(E)});function ke(E,M,z){if(!q.isObject(E))throw new TypeError("target must be an object");M=M||new FormData,z=q.toFlatObject(z,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Tt,dt){return!q.isUndefined(dt[Tt])});const H=z.metaTokens,ie=z.visitor||Be,ce=z.dots,be=z.indexes,Ue=(z.Blob||typeof Blob<"u"&&Blob)&&q.isSpecCompliantForm(M);if(!q.isFunction(ie))throw new TypeError("visitor must be a function");function ot(Tt){if(Tt===null)return"";if(q.isDate(Tt))return Tt.toISOString();if(!Ue&&q.isBlob(Tt))throw new Se("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(Tt)||q.isTypedArray(Tt)?Ue&&typeof Blob=="function"?new Blob([Tt]):Buffer.from(Tt):Tt}function Be(Tt,dt,st){let os=Tt;if(Tt&&!st&&typeof Tt=="object"){if(q.endsWith(dt,"{}"))dt=H?dt:dt.slice(0,-2),Tt=JSON.stringify(Tt);else if(q.isArray(Tt)&&bn(Tt)||(q.isFileList(Tt)||q.endsWith(dt,"[]"))&&(os=q.toArray(Tt)))return dt=Qe(dt),os.forEach(function(Vn,Nn){!(q.isUndefined(Vn)||Vn===null)&&M.append(be===!0?yt([dt],Nn,ce):be===null?dt:dt+"[]",ot(Vn))}),!1}return Ie(Tt)?!0:(M.append(yt(st,dt,ce),ot(Tt)),!1)}const Ye=[],gt=Object.assign(ct,{defaultVisitor:Be,convertValue:ot,isVisitable:Ie});function on(Tt,dt){if(!q.isUndefined(Tt)){if(Ye.indexOf(Tt)!==-1)throw Error("Circular reference detected in "+dt.join("."));Ye.push(Tt),q.forEach(Tt,function(st,os){(!(q.isUndefined(st)||st===null)&&ie.call(M,st,q.isString(os)?os.trim():os,dt,gt))===!0&&on(st,dt?dt.concat(os):[os])}),Ye.pop()}}if(!q.isObject(E))throw new TypeError("data must be an object");return on(E),M}function He(E){const M={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(E).replace(/[!'()~]|%20|%00/g,function(z){return M[z]})}function Mt(E,M){this._pairs=[],E&&ke(E,this,M)}const Sn=Mt.prototype;Sn.append=function(E,M){this._pairs.push([E,M])},Sn.toString=function(E){const M=E?function(z){return E.call(this,z,He)}:He;return this._pairs.map(function(z){return M(z[0])+"="+M(z[1])},"").join("&")};function as(E){return encodeURIComponent(E).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Hn(E,M,z){if(!M)return E;const H=z&&z.encode||as;q.isFunction(z)&&(z={serialize:z});const ie=z&&z.serialize;let ce;if(ie?ce=ie(M,z):ce=q.isURLSearchParams(M)?M.toString():new Mt(M,z).toString(H),ce){const be=E.indexOf("#");be!==-1&&(E=E.slice(0,be)),E+=(E.indexOf("?")===-1?"?":"&")+ce}return E}class ds{constructor(){this.handlers=[]}use(M,z,H){return this.handlers.push({fulfilled:M,rejected:z,synchronous:H?H.synchronous:!1,runWhen:H?H.runWhen:null}),this.handlers.length-1}eject(M){this.handlers[M]&&(this.handlers[M]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(M){q.forEach(this.handlers,function(z){z!==null&&M(z)})}}var Xe=ds,Pt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ht=typeof URLSearchParams<"u"?URLSearchParams:Mt,Nt=typeof FormData<"u"?FormData:null,en=typeof Blob<"u"?Blob:null,Ge={isBrowser:!0,classes:{URLSearchParams:Ht,FormData:Nt,Blob:en},protocols:["http","https","file","blob","url","data"]};const jt=typeof window<"u"&&typeof document<"u",It=typeof navigator=="object"&&navigator||void 0,Xt=jt&&(!It||["ReactNative","NativeScript","NS"].indexOf(It.product)<0),G=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ae=jt&&window.location.href||"http://localhost";var ue=Object.freeze({__proto__:null,hasBrowserEnv:jt,hasStandardBrowserWebWorkerEnv:G,hasStandardBrowserEnv:Xt,navigator:It,origin:ae}),je=L(L({},ue),Ge);function Ae(E,M){return ke(E,new je.classes.URLSearchParams,Object.assign({visitor:function(z,H,ie,ce){return je.isNode&&q.isBuffer(z)?(this.append(H,z.toString("base64")),!1):ce.defaultVisitor.apply(this,arguments)}},M))}function Ve(E){return q.matchAll(/\w+|\[(\w*)]/g,E).map(M=>M[0]==="[]"?"":M[1]||M[0])}function Ze(E){const M={},z=Object.keys(E);let H;const ie=z.length;let ce;for(H=0;H<ie;H++)ce=z[H],M[ce]=E[ce];return M}function nt(E){function M(z,H,ie,ce){let be=z[ce++];if(be==="__proto__")return!0;const Ue=Number.isFinite(+be),ot=ce>=z.length;return be=!be&&q.isArray(ie)?ie.length:be,ot?(q.hasOwnProp(ie,be)?ie[be]=[ie[be],H]:ie[be]=H,!Ue):((!ie[be]||!q.isObject(ie[be]))&&(ie[be]=[]),M(z,H,ie[be],ce)&&q.isArray(ie[be])&&(ie[be]=Ze(ie[be])),!Ue)}if(q.isFormData(E)&&q.isFunction(E.entries)){const z={};return q.forEachEntry(E,(H,ie)=>{M(Ve(H),ie,z,0)}),z}return null}function ut(E,M,z){if(q.isString(E))try{return(M||JSON.parse)(E),q.trim(E)}catch(H){if(H.name!=="SyntaxError")throw H}return(z||JSON.stringify)(E)}const At={transitional:Pt,adapter:["xhr","http","fetch"],transformRequest:[function(E,M){const z=M.getContentType()||"",H=z.indexOf("application/json")>-1,ie=q.isObject(E);if(ie&&q.isHTMLForm(E)&&(E=new FormData(E)),q.isFormData(E))return H?JSON.stringify(nt(E)):E;if(q.isArrayBuffer(E)||q.isBuffer(E)||q.isStream(E)||q.isFile(E)||q.isBlob(E)||q.isReadableStream(E))return E;if(q.isArrayBufferView(E))return E.buffer;if(q.isURLSearchParams(E))return M.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),E.toString();let ce;if(ie){if(z.indexOf("application/x-www-form-urlencoded")>-1)return Ae(E,this.formSerializer).toString();if((ce=q.isFileList(E))||z.indexOf("multipart/form-data")>-1){const be=this.env&&this.env.FormData;return ke(ce?{"files[]":E}:E,be&&new be,this.formSerializer)}}return ie||H?(M.setContentType("application/json",!1),ut(E)):E}],transformResponse:[function(E){const M=this.transitional||At.transitional,z=M&&M.forcedJSONParsing,H=this.responseType==="json";if(q.isResponse(E)||q.isReadableStream(E))return E;if(E&&q.isString(E)&&(z&&!this.responseType||H)){const ie=!(M&&M.silentJSONParsing)&&H;try{return JSON.parse(E)}catch(ce){if(ie)throw ce.name==="SyntaxError"?Se.from(ce,Se.ERR_BAD_RESPONSE,this,null,this.response):ce}}return E}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:je.classes.FormData,Blob:je.classes.Blob},validateStatus:function(E){return E>=200&&E<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],E=>{At.headers[E]={}});var rt=At;const wt=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Ct=E=>{const M={};let z,H,ie;return E&&E.split(`
`).forEach(function(ce){ie=ce.indexOf(":"),z=ce.substring(0,ie).trim().toLowerCase(),H=ce.substring(ie+1).trim(),!(!z||M[z]&&wt[z])&&(z==="set-cookie"?M[z]?M[z].push(H):M[z]=[H]:M[z]=M[z]?M[z]+", "+H:H)}),M};const fn=Symbol("internals");function An(E){return E&&String(E).trim().toLowerCase()}function an(E){return E===!1||E==null?E:q.isArray(E)?E.map(an):String(E)}function at(E){const M=Object.create(null),z=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let H;for(;H=z.exec(E);)M[H[1]]=H[2];return M}const Et=E=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(E.trim());function Gt(E,M,z,H,ie){if(q.isFunction(H))return H.call(this,M,z);if(ie&&(M=z),!!q.isString(M)){if(q.isString(H))return M.indexOf(H)!==-1;if(q.isRegExp(H))return H.test(M)}}function wn(E){return E.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(M,z,H)=>z.toUpperCase()+H)}function On(E,M){const z=q.toCamelCase(" "+M);["get","set","has"].forEach(H=>{Object.defineProperty(E,H+z,{value:function(ie,ce,be){return this[H].call(this,M,ie,ce,be)},configurable:!0})})}class Kn{constructor(M){M&&this.set(M)}set(M,z,H){const ie=this;function ce(Ue,ot,Be){const Ye=An(ot);if(!Ye)throw new Error("header name must be a non-empty string");const gt=q.findKey(ie,Ye);(!gt||ie[gt]===void 0||Be===!0||Be===void 0&&ie[gt]!==!1)&&(ie[gt||ot]=an(Ue))}const be=(Ue,ot)=>q.forEach(Ue,(Be,Ye)=>ce(Be,Ye,ot));if(q.isPlainObject(M)||M instanceof this.constructor)be(M,z);else if(q.isString(M)&&(M=M.trim())&&!Et(M))be(Ct(M),z);else if(q.isHeaders(M))for(const[Ue,ot]of M.entries())ce(ot,Ue,H);else M!=null&&ce(z,M,H);return this}get(M,z){if(M=An(M),M){const H=q.findKey(this,M);if(H){const ie=this[H];if(!z)return ie;if(z===!0)return at(ie);if(q.isFunction(z))return z.call(this,ie,H);if(q.isRegExp(z))return z.exec(ie);throw new TypeError("parser must be boolean|regexp|function")}}}has(M,z){if(M=An(M),M){const H=q.findKey(this,M);return!!(H&&this[H]!==void 0&&(!z||Gt(this,this[H],H,z)))}return!1}delete(M,z){const H=this;let ie=!1;function ce(be){if(be=An(be),be){const Ue=q.findKey(H,be);Ue&&(!z||Gt(H,H[Ue],Ue,z))&&(delete H[Ue],ie=!0)}}return q.isArray(M)?M.forEach(ce):ce(M),ie}clear(M){const z=Object.keys(this);let H=z.length,ie=!1;for(;H--;){const ce=z[H];(!M||Gt(this,this[ce],ce,M,!0))&&(delete this[ce],ie=!0)}return ie}normalize(M){const z=this,H={};return q.forEach(this,(ie,ce)=>{const be=q.findKey(H,ce);if(be){z[be]=an(ie),delete z[ce];return}const Ue=M?wn(ce):String(ce).trim();Ue!==ce&&delete z[ce],z[Ue]=an(ie),H[Ue]=!0}),this}concat(...M){return this.constructor.concat(this,...M)}toJSON(M){const z=Object.create(null);return q.forEach(this,(H,ie)=>{H!=null&&H!==!1&&(z[ie]=M&&q.isArray(H)?H.join(", "):H)}),z}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([M,z])=>M+": "+z).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(M){return M instanceof this?M:new this(M)}static concat(M,...z){const H=new this(M);return z.forEach(ie=>H.set(ie)),H}static accessor(M){const z=(this[fn]=this[fn]={accessors:{}}).accessors,H=this.prototype;function ie(ce){const be=An(ce);z[be]||(On(H,ce),z[be]=!0)}return q.isArray(M)?M.forEach(ie):ie(M),this}}Kn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),q.reduceDescriptors(Kn.prototype,({value:E},M)=>{let z=M[0].toUpperCase()+M.slice(1);return{get:()=>E,set(H){this[z]=H}}}),q.freezeMethods(Kn);var is=Kn;function or(E,M){const z=this||rt,H=M||z,ie=is.from(H.headers);let ce=H.data;return q.forEach(E,function(be){ce=be.call(z,ce,ie.normalize(),M?M.status:void 0)}),ie.normalize(),ce}function lr(E){return!!(E&&E.__CANCEL__)}function _s(E,M,z){Se.call(this,E!=null?E:"canceled",Se.ERR_CANCELED,M,z),this.name="CanceledError"}q.inherits(_s,Se,{__CANCEL__:!0});function cr(E,M,z){const H=z.config.validateStatus;!z.status||!H||H(z.status)?E(z):M(new Se("Request failed with status code "+z.status,[Se.ERR_BAD_REQUEST,Se.ERR_BAD_RESPONSE][Math.floor(z.status/100)-4],z.config,z.request,z))}function Rt(E){const M=/^([-+\w]{1,25})(:?\/\/|:)/.exec(E);return M&&M[1]||""}function Rn(E,M){E=E||10;const z=new Array(E),H=new Array(E);let ie=0,ce=0,be;return M=M!==void 0?M:1e3,function(Ue){const ot=Date.now(),Be=H[ce];be||(be=ot),z[ie]=Ue,H[ie]=ot;let Ye=ce,gt=0;for(;Ye!==ie;)gt+=z[Ye++],Ye=Ye%E;if(ie=(ie+1)%E,ie===ce&&(ce=(ce+1)%E),ot-be<M)return;const on=Be&&ot-Be;return on?Math.round(gt*1e3/on):void 0}}function ha(E,M){let z=0,H=1e3/M,ie,ce;const be=(Ue,ot=Date.now())=>{z=ot,ie=null,ce&&(clearTimeout(ce),ce=null),E.apply(null,Ue)};return[(...Ue)=>{const ot=Date.now(),Be=ot-z;Be>=H?be(Ue,ot):(ie=Ue,ce||(ce=setTimeout(()=>{ce=null,be(ie)},H-Be)))},()=>ie&&be(ie)]}const fs=(E,M,z=3)=>{let H=0;const ie=Rn(50,250);return ha(ce=>{const be=ce.loaded,Ue=ce.lengthComputable?ce.total:void 0,ot=be-H,Be=ie(ot),Ye=be<=Ue;H=be;const gt={loaded:be,total:Ue,progress:Ue?be/Ue:void 0,bytes:ot,rate:Be||void 0,estimated:Be&&Ue&&Ye?(Ue-be)/Be:void 0,event:ce,lengthComputable:Ue!=null,[M?"download":"upload"]:!0};E(gt)},z)},gn=(E,M)=>{const z=E!=null;return[H=>M[0]({lengthComputable:z,total:E,loaded:H}),M[1]]},Er=E=>(...M)=>q.asap(()=>E(...M));var Bo=je.hasStandardBrowserEnv?((E,M)=>z=>(z=new URL(z,je.origin),E.protocol===z.protocol&&E.host===z.host&&(M||E.port===z.port)))(new URL(je.origin),je.navigator&&/(msie|trident)/i.test(je.navigator.userAgent)):()=>!0,Fo=je.hasStandardBrowserEnv?{write(E,M,z,H,ie,ce){const be=[E+"="+encodeURIComponent(M)];q.isNumber(z)&&be.push("expires="+new Date(z).toGMTString()),q.isString(H)&&be.push("path="+H),q.isString(ie)&&be.push("domain="+ie),ce===!0&&be.push("secure"),document.cookie=be.join("; ")},read(E){const M=document.cookie.match(new RegExp("(^|;\\s*)("+E+")=([^;]*)"));return M?decodeURIComponent(M[3]):null},remove(E){this.write(E,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Os(E){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(E)}function ad(E,M){return M?E.replace(/\/?\/$/,"")+"/"+M.replace(/^\/+/,""):E}function id(E,M,z){let H=!Os(M);return E&&H||z==!1?ad(E,M):M}const Hi=E=>E instanceof is?L({},E):E;function $r(E,M){M=M||{};const z={};function H(Be,Ye,gt,on){return q.isPlainObject(Be)&&q.isPlainObject(Ye)?q.merge.call({caseless:on},Be,Ye):q.isPlainObject(Ye)?q.merge({},Ye):q.isArray(Ye)?Ye.slice():Ye}function ie(Be,Ye,gt,on){if(q.isUndefined(Ye)){if(!q.isUndefined(Be))return H(void 0,Be,gt,on)}else return H(Be,Ye,gt,on)}function ce(Be,Ye){if(!q.isUndefined(Ye))return H(void 0,Ye)}function be(Be,Ye){if(q.isUndefined(Ye)){if(!q.isUndefined(Be))return H(void 0,Be)}else return H(void 0,Ye)}function Ue(Be,Ye,gt){if(gt in M)return H(Be,Ye);if(gt in E)return H(void 0,Be)}const ot={url:ce,method:ce,data:ce,baseURL:be,transformRequest:be,transformResponse:be,paramsSerializer:be,timeout:be,timeoutMessage:be,withCredentials:be,withXSRFToken:be,adapter:be,responseType:be,xsrfCookieName:be,xsrfHeaderName:be,onUploadProgress:be,onDownloadProgress:be,decompress:be,maxContentLength:be,maxBodyLength:be,beforeRedirect:be,transport:be,httpAgent:be,httpsAgent:be,cancelToken:be,socketPath:be,responseEncoding:be,validateStatus:Ue,headers:(Be,Ye,gt)=>ie(Hi(Be),Hi(Ye),gt,!0)};return q.forEach(Object.keys(Object.assign({},E,M)),function(Be){const Ye=ot[Be]||ie,gt=Ye(E[Be],M[Be],Be);q.isUndefined(gt)&&Ye!==Ue||(z[Be]=gt)}),z}var Vi=E=>{const M=$r({},E);let{data:z,withXSRFToken:H,xsrfHeaderName:ie,xsrfCookieName:ce,headers:be,auth:Ue}=M;M.headers=be=is.from(be),M.url=Hn(id(M.baseURL,M.url),E.params,E.paramsSerializer),Ue&&be.set("Authorization","Basic "+btoa((Ue.username||"")+":"+(Ue.password?unescape(encodeURIComponent(Ue.password)):"")));let ot;if(q.isFormData(z)){if(je.hasStandardBrowserEnv||je.hasStandardBrowserWebWorkerEnv)be.setContentType(void 0);else if((ot=be.getContentType())!==!1){const[Be,...Ye]=ot?ot.split(";").map(gt=>gt.trim()).filter(Boolean):[];be.setContentType([Be||"multipart/form-data",...Ye].join("; "))}}if(je.hasStandardBrowserEnv&&(H&&q.isFunction(H)&&(H=H(M)),H||H!==!1&&Bo(M.url))){const Be=ie&&ce&&Fo.read(ce);Be&&be.set(ie,Be)}return M},cm=typeof XMLHttpRequest<"u"&&function(E){return new Promise(function(M,z){const H=Vi(E);let ie=H.data;const ce=is.from(H.headers).normalize();let{responseType:be,onUploadProgress:Ue,onDownloadProgress:ot}=H,Be,Ye,gt,on,Tt;function dt(){on&&on(),Tt&&Tt(),H.cancelToken&&H.cancelToken.unsubscribe(Be),H.signal&&H.signal.removeEventListener("abort",Be)}let st=new XMLHttpRequest;st.open(H.method.toUpperCase(),H.url,!0),st.timeout=H.timeout;function os(){if(!st)return;const Nn=is.from("getAllResponseHeaders"in st&&st.getAllResponseHeaders()),ur={data:!be||be==="text"||be==="json"?st.responseText:st.response,status:st.status,statusText:st.statusText,headers:Nn,config:E,request:st};cr(function(Gi){M(Gi),dt()},function(Gi){z(Gi),dt()},ur),st=null}"onloadend"in st?st.onloadend=os:st.onreadystatechange=function(){!st||st.readyState!==4||st.status===0&&!(st.responseURL&&st.responseURL.indexOf("file:")===0)||setTimeout(os)},st.onabort=function(){st&&(z(new Se("Request aborted",Se.ECONNABORTED,E,st)),st=null)},st.onerror=function(){z(new Se("Network Error",Se.ERR_NETWORK,E,st)),st=null},st.ontimeout=function(){let Nn=H.timeout?"timeout of "+H.timeout+"ms exceeded":"timeout exceeded";const ur=H.transitional||Pt;H.timeoutErrorMessage&&(Nn=H.timeoutErrorMessage),z(new Se(Nn,ur.clarifyTimeoutError?Se.ETIMEDOUT:Se.ECONNABORTED,E,st)),st=null},ie===void 0&&ce.setContentType(null),"setRequestHeader"in st&&q.forEach(ce.toJSON(),function(Nn,ur){st.setRequestHeader(ur,Nn)}),q.isUndefined(H.withCredentials)||(st.withCredentials=!!H.withCredentials),be&&be!=="json"&&(st.responseType=H.responseType),ot&&([gt,Tt]=fs(ot,!0),st.addEventListener("progress",gt)),Ue&&st.upload&&([Ye,on]=fs(Ue),st.upload.addEventListener("progress",Ye),st.upload.addEventListener("loadend",on)),(H.cancelToken||H.signal)&&(Be=Nn=>{st&&(z(!Nn||Nn.type?new _s(null,E,st):Nn),st.abort(),st=null)},H.cancelToken&&H.cancelToken.subscribe(Be),H.signal&&(H.signal.aborted?Be():H.signal.addEventListener("abort",Be)));const Vn=Rt(H.url);if(Vn&&je.protocols.indexOf(Vn)===-1){z(new Se("Unsupported protocol "+Vn+":",Se.ERR_BAD_REQUEST,E));return}st.send(ie||null)})},Rs=(E,M)=>{const{length:z}=E=E?E.filter(Boolean):[];if(M||z){let H=new AbortController,ie;const ce=function(Be){if(!ie){ie=!0,Ue();const Ye=Be instanceof Error?Be:this.reason;H.abort(Ye instanceof Se?Ye:new _s(Ye instanceof Error?Ye.message:Ye))}};let be=M&&setTimeout(()=>{be=null,ce(new Se(`timeout ${M} of ms exceeded`,Se.ETIMEDOUT))},M);const Ue=()=>{E&&(be&&clearTimeout(be),be=null,E.forEach(Be=>{Be.unsubscribe?Be.unsubscribe(ce):Be.removeEventListener("abort",ce)}),E=null)};E.forEach(Be=>Be.addEventListener("abort",ce));const{signal:ot}=H;return ot.unsubscribe=()=>q.asap(Ue),ot}};const cc=function*(E,M){let z=E.byteLength;if(z<M){yield E;return}let H=0,ie;for(;H<z;)ie=H+M,yield E.slice(H,ie),H=ie},od=function(E,M){return sg(this,null,function*(){try{for(var z=Qw(uc(E)),H,ie,ce;H=!(ie=yield new fo(z.next())).done;H=!1){const be=ie.value;yield*rg(cc(be,M))}}catch(ie){ce=[ie]}finally{try{H&&(ie=z.return)&&(yield new fo(ie.call(z)))}finally{if(ce)throw ce[0]}}})},uc=function(E){return sg(this,null,function*(){if(E[Symbol.asyncIterator]){yield*rg(E);return}const M=E.getReader();try{for(;;){const{done:z,value:H}=yield new fo(M.read());if(z)break;yield H}}finally{yield new fo(M.cancel())}})},ma=(E,M,z,H)=>{const ie=od(E,M);let ce=0,be,Ue=Be=>{be||(be=!0,H&&H(Be))};return new ReadableStream({pull(Be){return ye(this,null,function*(){try{const{done:Ye,value:gt}=yield ie.next();if(Ye){Ue(),Be.close();return}let on=gt.byteLength;if(z){let Tt=ce+=on;z(Tt)}Be.enqueue(new Uint8Array(gt))}catch(Ye){throw Ue(Ye),Ye}})},cancel(Be){return Ue(Be),ie.return()}},{highWaterMark:2})},$i=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",dc=$i&&typeof ReadableStream=="function",$a=$i&&(typeof TextEncoder=="function"?(E=>M=>E.encode(M))(new TextEncoder):E=>ye(null,null,function*(){return new Uint8Array(yield new Response(E).arrayBuffer())})),ld=(E,...M)=>{try{return!!E(...M)}catch(z){return!1}},cd=dc&&ld(()=>{let E=!1;const M=new Request(je.origin,{body:new ReadableStream,method:"POST",get duplex(){return E=!0,"half"}}).headers.has("Content-Type");return E&&!M}),fc=64*1024,qi=dc&&ld(()=>q.isReadableStream(new Response("").body)),Ho={stream:qi&&(E=>E.body)};$i&&(E=>{["text","arrayBuffer","blob","formData","stream"].forEach(M=>{!Ho[M]&&(Ho[M]=q.isFunction(E[M])?z=>z[M]():(z,H)=>{throw new Se(`Response type '${M}' is not supported`,Se.ERR_NOT_SUPPORT,H)})})})(new Response);const um=E=>ye(null,null,function*(){if(E==null)return 0;if(q.isBlob(E))return E.size;if(q.isSpecCompliantForm(E))return(yield new Request(je.origin,{method:"POST",body:E}).arrayBuffer()).byteLength;if(q.isArrayBufferView(E)||q.isArrayBuffer(E))return E.byteLength;if(q.isURLSearchParams(E)&&(E=E+""),q.isString(E))return(yield $a(E)).byteLength}),Vo=(E,M)=>ye(null,null,function*(){const z=q.toFiniteNumber(E.getContentLength());return z!=null?z:um(M)});var hc=$i&&(E=>ye(null,null,function*(){let{url:M,method:z,data:H,signal:ie,cancelToken:ce,timeout:be,onDownloadProgress:Ue,onUploadProgress:ot,responseType:Be,headers:Ye,withCredentials:gt="same-origin",fetchOptions:on}=Vi(E);Be=Be?(Be+"").toLowerCase():"text";let Tt=Rs([ie,ce&&ce.toAbortSignal()],be),dt;const st=Tt&&Tt.unsubscribe&&(()=>{Tt.unsubscribe()});let os;try{if(ot&&cd&&z!=="get"&&z!=="head"&&(os=yield Vo(Ye,H))!==0){let qr=new Request(M,{method:"POST",body:H,duplex:"half"}),Xa;if(q.isFormData(H)&&(Xa=qr.headers.get("content-type"))&&Ye.setContentType(Xa),qr.body){const[Yo,Wo]=gn(os,fs(Er(ot)));H=ma(qr.body,fc,Yo,Wo)}}q.isString(gt)||(gt=gt?"include":"omit");const Vn="credentials"in Request.prototype;dt=new Request(M,de(L({},on),{signal:Tt,method:z.toUpperCase(),headers:Ye.normalize().toJSON(),body:H,duplex:"half",credentials:Vn?gt:void 0}));let Nn=yield fetch(dt);const ur=qi&&(Be==="stream"||Be==="response");if(qi&&(Ue||ur&&st)){const qr={};["status","statusText","headers"].forEach(dd=>{qr[dd]=Nn[dd]});const Xa=q.toFiniteNumber(Nn.headers.get("content-length")),[Yo,Wo]=Ue&&gn(Xa,fs(Er(Ue),!0))||[];Nn=new Response(ma(Nn.body,fc,Yo,()=>{Wo&&Wo(),st&&st()}),qr)}Be=Be||"text";let Gi=yield Ho[q.findKey(Ho,Be)||"text"](Nn,E);return!ur&&st&&st(),yield new Promise((qr,Xa)=>{cr(qr,Xa,{data:Gi,headers:is.from(Nn.headers),status:Nn.status,statusText:Nn.statusText,config:E,request:dt})})}catch(Vn){throw st&&st(),Vn&&Vn.name==="TypeError"&&/fetch/i.test(Vn.message)?Object.assign(new Se("Network Error",Se.ERR_NETWORK,E,dt),{cause:Vn.cause||Vn}):Se.from(Vn,Vn&&Vn.code,E,dt)}}));const Ii={http:Fe,xhr:cm,fetch:hc};q.forEach(Ii,(E,M)=>{if(E){try{Object.defineProperty(E,"name",{value:M})}catch(z){}Object.defineProperty(E,"adapterName",{value:M})}});const pa=E=>`- ${E}`,qa=E=>q.isFunction(E)||E===null||E===!1;var mc={getAdapter:E=>{E=q.isArray(E)?E:[E];const{length:M}=E;let z,H;const ie={};for(let ce=0;ce<M;ce++){z=E[ce];let be;if(H=z,!qa(z)&&(H=Ii[(be=String(z)).toLowerCase()],H===void 0))throw new Se(`Unknown adapter '${be}'`);if(H)break;ie[be||"#"+ce]=H}if(!H){const ce=Object.entries(ie).map(([Ue,ot])=>`adapter ${Ue} `+(ot===!1?"is not supported by the environment":"is not available in the build"));let be=M?ce.length>1?`since :
`+ce.map(pa).join(`
`):" "+pa(ce[0]):"as no adapter specified";throw new Se("There is no suitable adapter to dispatch the request "+be,"ERR_NOT_SUPPORT")}return H},adapters:Ii};function Yi(E){if(E.cancelToken&&E.cancelToken.throwIfRequested(),E.signal&&E.signal.aborted)throw new _s(null,E)}function pc(E){return Yi(E),E.headers=is.from(E.headers),E.data=or.call(E,E.transformRequest),["post","put","patch"].indexOf(E.method)!==-1&&E.headers.setContentType("application/x-www-form-urlencoded",!1),mc.getAdapter(E.adapter||rt.adapter)(E).then(function(M){return Yi(E),M.data=or.call(E,E.transformResponse,M),M.headers=is.from(M.headers),M},function(M){return lr(M)||(Yi(E),M&&M.response&&(M.response.data=or.call(E,E.transformResponse,M.response),M.response.headers=is.from(M.response.headers))),Promise.reject(M)})}const Ia="1.8.2",Ds={};["object","boolean","number","function","string","symbol"].forEach((E,M)=>{Ds[E]=function(z){return typeof z===E||"a"+(M<1?"n ":" ")+E}});const $o={};Ds.transitional=function(E,M,z){function H(ie,ce){return"[Axios v"+Ia+"] Transitional option '"+ie+"'"+ce+(z?". "+z:"")}return(ie,ce,be)=>{if(E===!1)throw new Se(H(ce," has been removed"+(M?" in "+M:"")),Se.ERR_DEPRECATED);return M&&!$o[ce]&&($o[ce]=!0,console.warn(H(ce," has been deprecated since v"+M+" and will be removed in the near future"))),E?E(ie,ce,be):!0}},Ds.spelling=function(E){return(M,z)=>(console.warn(`${z} is likely a misspelling of ${E}`),!0)};function Wi(E,M,z){if(typeof E!="object")throw new Se("options must be an object",Se.ERR_BAD_OPTION_VALUE);const H=Object.keys(E);let ie=H.length;for(;ie-- >0;){const ce=H[ie],be=M[ce];if(be){const Ue=E[ce],ot=Ue===void 0||be(Ue,ce,E);if(ot!==!0)throw new Se("option "+ce+" must be "+ot,Se.ERR_BAD_OPTION_VALUE);continue}if(z!==!0)throw new Se("Unknown option "+ce,Se.ERR_BAD_OPTION)}}var Is={assertOptions:Wi,validators:Ds};const Ms=Is.validators;class ga{constructor(M){this.defaults=M,this.interceptors={request:new Xe,response:new Xe}}request(M,z){return ye(this,null,function*(){try{return yield this._request(M,z)}catch(H){if(H instanceof Error){let ie={};Error.captureStackTrace?Error.captureStackTrace(ie):ie=new Error;const ce=ie.stack?ie.stack.replace(/^.+\n/,""):"";try{H.stack?ce&&!String(H.stack).endsWith(ce.replace(/^.+\n.+\n/,""))&&(H.stack+=`
`+ce):H.stack=ce}catch(be){}}throw H}})}_request(M,z){typeof M=="string"?(z=z||{},z.url=M):z=M||{},z=$r(this.defaults,z);const{transitional:H,paramsSerializer:ie,headers:ce}=z;H!==void 0&&Is.assertOptions(H,{silentJSONParsing:Ms.transitional(Ms.boolean),forcedJSONParsing:Ms.transitional(Ms.boolean),clarifyTimeoutError:Ms.transitional(Ms.boolean)},!1),ie!=null&&(q.isFunction(ie)?z.paramsSerializer={serialize:ie}:Is.assertOptions(ie,{encode:Ms.function,serialize:Ms.function},!0)),z.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?z.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:z.allowAbsoluteUrls=!0),Is.assertOptions(z,{baseUrl:Ms.spelling("baseURL"),withXsrfToken:Ms.spelling("withXSRFToken")},!0),z.method=(z.method||this.defaults.method||"get").toLowerCase();let be=ce&&q.merge(ce.common,ce[z.method]);ce&&q.forEach(["delete","get","head","post","put","patch","common"],dt=>{delete ce[dt]}),z.headers=is.concat(be,ce);const Ue=[];let ot=!0;this.interceptors.request.forEach(function(dt){typeof dt.runWhen=="function"&&dt.runWhen(z)===!1||(ot=ot&&dt.synchronous,Ue.unshift(dt.fulfilled,dt.rejected))});const Be=[];this.interceptors.response.forEach(function(dt){Be.push(dt.fulfilled,dt.rejected)});let Ye,gt=0,on;if(!ot){const dt=[pc.bind(this),void 0];for(dt.unshift.apply(dt,Ue),dt.push.apply(dt,Be),on=dt.length,Ye=Promise.resolve(z);gt<on;)Ye=Ye.then(dt[gt++],dt[gt++]);return Ye}on=Ue.length;let Tt=z;for(gt=0;gt<on;){const dt=Ue[gt++],st=Ue[gt++];try{Tt=dt(Tt)}catch(os){st.call(this,os);break}}try{Ye=pc.call(this,Tt)}catch(dt){return Promise.reject(dt)}for(gt=0,on=Be.length;gt<on;)Ye=Ye.then(Be[gt++],Be[gt++]);return Ye}getUri(M){M=$r(this.defaults,M);const z=id(M.baseURL,M.url,M.allowAbsoluteUrls);return Hn(z,M.params,M.paramsSerializer)}}q.forEach(["delete","get","head","options"],function(E){ga.prototype[E]=function(M,z){return this.request($r(z||{},{method:E,url:M,data:(z||{}).data}))}}),q.forEach(["post","put","patch"],function(E){function M(z){return function(H,ie,ce){return this.request($r(ce||{},{method:E,headers:z?{"Content-Type":"multipart/form-data"}:{},url:H,data:ie}))}}ga.prototype[E]=M(),ga.prototype[E+"Form"]=M(!0)});var Xi=ga;class Ya{constructor(M){if(typeof M!="function")throw new TypeError("executor must be a function.");let z;this.promise=new Promise(function(ie){z=ie});const H=this;this.promise.then(ie=>{if(!H._listeners)return;let ce=H._listeners.length;for(;ce-- >0;)H._listeners[ce](ie);H._listeners=null}),this.promise.then=ie=>{let ce;const be=new Promise(Ue=>{H.subscribe(Ue),ce=Ue}).then(ie);return be.cancel=function(){H.unsubscribe(ce)},be},M(function(ie,ce,be){H.reason||(H.reason=new _s(ie,ce,be),z(H.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(M){if(this.reason){M(this.reason);return}this._listeners?this._listeners.push(M):this._listeners=[M]}unsubscribe(M){if(!this._listeners)return;const z=this._listeners.indexOf(M);z!==-1&&this._listeners.splice(z,1)}toAbortSignal(){const M=new AbortController,z=H=>{M.abort(H)};return this.subscribe(z),M.signal.unsubscribe=()=>this.unsubscribe(z),M.signal}static source(){let M;return{token:new Ya(function(z){M=z}),cancel:M}}}var qo=Ya;function ud(E){return function(M){return E.apply(null,M)}}function js(E){return q.isObject(E)&&E.isAxiosError===!0}const Tr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Tr).forEach(([E,M])=>{Tr[M]=E});var Io=Tr;function Wa(E){const M=new Xi(E),z=e(Xi.prototype.request,M);return q.extend(z,Xi.prototype,M,{allOwnKeys:!0}),q.extend(z,M,null,{allOwnKeys:!0}),z.create=function(H){return Wa($r(E,H))},z}const Dn=Wa(rt);return Dn.Axios=Xi,Dn.CanceledError=_s,Dn.CancelToken=qo,Dn.isCancel=lr,Dn.VERSION=Ia,Dn.toFormData=ke,Dn.AxiosError=Se,Dn.Cancel=Dn.CanceledError,Dn.all=function(E){return Promise.all(E)},Dn.spread=ud,Dn.isAxiosError=js,Dn.mergeConfig=$r,Dn.AxiosHeaders=is,Dn.formToJSON=E=>nt(q.isHTMLForm(E)?new FormData(E):E),Dn.getAdapter=mc.getAdapter,Dn.HttpStatusCode=Io,Dn.default=Dn,dg=Dn,dg}var d_;function wS(){if(d_)return Aa;d_=1;var e=Aa&&Aa.__assign||function(){return e=Object.assign||function(a){for(var o,l=1,d=arguments.length;l<d;l++){o=arguments[l];for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(a[f]=o[f])}return a},e.apply(this,arguments)};Object.defineProperty(Aa,"__esModule",{value:!0}),Aa.getRequestHeaders=Aa.getAxiosClient=void 0;var t=PC();function n(a,o,l,d,f){var h=t.default.create({baseURL:a,headers:s(o,d,l,a,f),withCredentials:!0});return h.interceptors.request.use(function(p){return typeof window<"u"&&window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(p.headers["X-Frappe-CSRF-Token"]=window.csrf_token),o&&d&&l&&(p.headers.Authorization="".concat(d," ").concat(l())),p}),h}Aa.getAxiosClient=n;function s(a,o,l,d,f){a===void 0&&(a=!1);var h={Accept:"application/json","Content-Type":"application/json; charset=utf-8"};return a&&o&&l&&(h.Authorization="".concat(o," ").concat(l())),typeof window<"u"&&typeof document<"u"&&(window.location&&(d&&d!==window.location.origin||(h["X-Frappe-Site-Name"]=window.location.hostname)),window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(h["X-Frappe-CSRF-Token"]=window.csrf_token)),e(e({},h),f!=null?f:{})}return Aa.getRequestHeaders=s,Aa}var f_;function _S(){if(f_)return Dr;f_=1;var e=Dr&&Dr.__assign||function(){return e=Object.assign||function(o){for(var l,d=1,f=arguments.length;d<f;d++){l=arguments[d];for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(o[h]=l[h])}return o},e.apply(this,arguments)},t=Dr&&Dr.__awaiter||function(o,l,d,f){function h(p){return p instanceof d?p:new d(function(g){g(p)})}return new(d||(d=Promise))(function(p,g){function b(_){try{w(f.next(_))}catch(j){g(j)}}function y(_){try{w(f.throw(_))}catch(j){g(j)}}function w(_){_.done?p(_.value):h(_.value).then(b,y)}w((f=f.apply(o,l||[])).next())})},n=Dr&&Dr.__generator||function(o,l){var d={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},f,h,p,g;return g={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function b(w){return function(_){return y([w,_])}}function y(w){if(f)throw new TypeError("Generator is already executing.");for(;g&&(g=0,w[0]&&(d=0)),d;)try{if(f=1,h&&(p=w[0]&2?h.return:w[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,w[1])).done)return p;switch(h=0,p&&(w=[w[0]&2,p.value]),w[0]){case 0:case 1:p=w;break;case 4:return d.label++,{value:w[1],done:!1};case 5:d.label++,h=w[1],w=[0];continue;case 7:w=d.ops.pop(),d.trys.pop();continue;default:if(p=d.trys,!(p=p.length>0&&p[p.length-1])&&(w[0]===6||w[0]===2)){d=0;continue}if(w[0]===3&&(!p||w[1]>p[0]&&w[1]<p[3])){d.label=w[1];break}if(w[0]===6&&d.label<p[1]){d.label=p[1],p=w;break}if(p&&d.label<p[2]){d.label=p[2],d.ops.push(w);break}p[2]&&d.ops.pop(),d.trys.pop();continue}w=l.call(o,d)}catch(_){w=[6,_],h=0}finally{f=p=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}};Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.FrappeFileUpload=void 0;var s=wS(),a=function(){function o(l,d,f,h,p,g){this.appURL=l,this.axios=d,this.useToken=f!=null?f:!1,this.token=h,this.tokenType=p,this.customHeaders=g}return o.prototype.uploadFile=function(l,d,f,h){return h===void 0&&(h="upload_file"),t(this,void 0,void 0,function(){var p,g,b,y,w,_,j,S;return n(this,function(C){return p=new FormData,l&&p.append("file",l,l.name),g=d.isPrivate,b=d.folder,y=d.file_url,w=d.doctype,_=d.docname,j=d.fieldname,S=d.otherData,g&&p.append("is_private","1"),b&&p.append("folder",b),y&&p.append("file_url",y),w&&_&&(p.append("doctype",w),p.append("docname",_),j&&p.append("fieldname",j)),S&&Object.keys(S).forEach(function(R){var k=S[R];p.append(R,k)}),[2,this.axios.post("/api/method/".concat(h),p,{onUploadProgress:function(R){f&&f(R.loaded,R.total,R)},headers:e(e({},(0,s.getRequestHeaders)(this.useToken,this.tokenType,this.token,this.appURL,this.customHeaders)),{"Content-Type":"multipart/form-data"})}).catch(function(R){var k,O;throw e(e({},R.response.data),{httpStatus:R.response.status,httpStatusText:R.response.statusText,message:(k=R.response.data.message)!==null&&k!==void 0?k:"There was an error while uploading the file.",exception:(O=R.response.data.exception)!==null&&O!==void 0?O:""})})]})})},o}();return Dr.FrappeFileUpload=a,Dr}var h_;function LC(){if(h_)return iu;h_=1,Object.defineProperty(iu,"__esModule",{value:!0}),iu.FrappeApp=void 0;var e=jS(),t=bS(),n=vS(),s=_S(),a=wS(),o=function(){function l(d,f,h,p){var g,b;this.url=d,this.name=h!=null?h:"FrappeApp",this.useToken=(g=f==null?void 0:f.useToken)!==null&&g!==void 0?g:!1,this.token=f==null?void 0:f.token,this.tokenType=(b=f==null?void 0:f.type)!==null&&b!==void 0?b:"Bearer",this.customHeaders=p,this.axios=(0,a.getAxiosClient)(this.url,this.useToken,this.token,this.tokenType,this.customHeaders)}return l.prototype.auth=function(){return new e.FrappeAuth(this.url,this.axios,this.useToken,this.token,this.tokenType)},l.prototype.db=function(){return new n.FrappeDB(this.url,this.axios,this.useToken,this.token,this.tokenType)},l.prototype.file=function(){return new s.FrappeFileUpload(this.url,this.axios,this.useToken,this.token,this.tokenType,this.customHeaders)},l.prototype.call=function(){return new t.FrappeCall(this.url,this.axios,this.useToken,this.token,this.tokenType)},l}();return iu.FrappeApp=o,iu}var Mr={},m_;function zC(){if(m_)return Mr;m_=1;var e=Mr&&Mr.__assign||function(){return e=Object.assign||function(a){for(var o,l=1,d=arguments.length;l<d;l++){o=arguments[l];for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(a[f]=o[f])}return a},e.apply(this,arguments)},t=Mr&&Mr.__awaiter||function(a,o,l,d){function f(h){return h instanceof l?h:new l(function(p){p(h)})}return new(l||(l=Promise))(function(h,p){function g(w){try{y(d.next(w))}catch(_){p(_)}}function b(w){try{y(d.throw(w))}catch(_){p(_)}}function y(w){w.done?h(w.value):f(w.value).then(g,b)}y((d=d.apply(a,o||[])).next())})},n=Mr&&Mr.__generator||function(a,o){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},d,f,h,p;return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(y){return function(w){return b([y,w])}}function b(y){if(d)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(l=0)),l;)try{if(d=1,f&&(h=y[0]&2?f.return:y[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,y[1])).done)return h;switch(f=0,h&&(y=[y[0]&2,h.value]),y[0]){case 0:case 1:h=y;break;case 4:return l.label++,{value:y[1],done:!1};case 5:l.label++,f=y[1],y=[0];continue;case 7:y=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(y[0]===6||y[0]===2)){l=0;continue}if(y[0]===3&&(!h||y[1]>h[0]&&y[1]<h[3])){l.label=y[1];break}if(y[0]===6&&l.label<h[1]){l.label=h[1],h=y;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(y);break}h[2]&&l.ops.pop(),l.trys.pop();continue}y=o.call(a,l)}catch(w){y=[6,w],f=0}finally{d=h=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}};Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.FrappeAuth=void 0;var s=function(){function a(o,l,d,f,h){this.appURL=o,this.axios=l,this.useToken=d!=null?d:!1,this.token=f,this.tokenType=h}return a.prototype.loginWithUsernamePassword=function(o){return t(this,void 0,void 0,function(){return n(this,function(l){return[2,this.axios.post("/api/method/login",{usr:o.username,pwd:o.password,otp:o.otp,tmp_id:o.tmp_id,device:o.device}).then(function(d){return d.data}).catch(function(d){var f,h;throw e(e({},d.response.data),{httpStatus:d.response.status,httpStatusText:d.response.statusText,message:(f=d.response.data.message)!==null&&f!==void 0?f:"There was an error while logging in",exception:(h=d.response.data.exception)!==null&&h!==void 0?h:""})})]})})},a.prototype.getLoggedInUser=function(){return t(this,void 0,void 0,function(){return n(this,function(o){return[2,this.axios.get("/api/method/frappe.auth.get_logged_user").then(function(l){return l.data.message}).catch(function(l){var d;throw e(e({},l.response.data),{httpStatus:l.response.status,httpStatusText:l.response.statusText,message:"There was an error while fetching the logged in user",exception:(d=l.response.data.exception)!==null&&d!==void 0?d:""})})]})})},a.prototype.logout=function(){return t(this,void 0,void 0,function(){return n(this,function(o){return[2,this.axios.post("/api/method/logout",{}).then(function(){}).catch(function(l){var d,f;throw e(e({},l.response.data),{httpStatus:l.response.status,httpStatusText:l.response.statusText,message:(d=l.response.data.message)!==null&&d!==void 0?d:"There was an error while logging out",exception:(f=l.response.data.exception)!==null&&f!==void 0?f:""})})]})})},a.prototype.forgetPassword=function(o){return t(this,void 0,void 0,function(){return n(this,function(l){return[2,this.axios.post("/",{cmd:"frappe.core.doctype.user.user.reset_password",user:o}).then(function(){}).catch(function(d){var f,h;throw e(e({},d.response.data),{httpStatus:d.response.status,httpStatusText:d.response.statusText,message:(f=d.response.data.message)!==null&&f!==void 0?f:"There was an error sending password reset email.",exception:(h=d.response.data.exception)!==null&&h!==void 0?h:""})})]})})},a}();return Mr.FrappeAuth=s,Mr}var p_;function jS(){return p_||(p_=1,function(e){var t=Sl&&Sl.__createBinding||(Object.create?function(s,a,o,l){l===void 0&&(l=o);var d=Object.getOwnPropertyDescriptor(a,o);(!d||("get"in d?!a.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(s,l,d)}:function(s,a,o,l){l===void 0&&(l=o),s[l]=a[o]}),n=Sl&&Sl.__exportStar||function(s,a){for(var o in s)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&t(a,s,o)};Object.defineProperty(e,"__esModule",{value:!0}),n(LC(),e),n(zC(),e),n(vS(),e),n(_S(),e),n(bS(),e)}(Sl)),Sl}var UC=jS(),g_={exports:{}},fg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function BC(){if(x_)return fg;x_=1;var e=Z;function t(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var n=typeof Object.is=="function"?Object.is:t,s=e.useState,a=e.useEffect,o=e.useLayoutEffect,l=e.useDebugValue;function d(g,b){var y=b(),w=s({inst:{value:y,getSnapshot:b}}),_=w[0].inst,j=w[1];return o(function(){_.value=y,_.getSnapshot=b,f(_)&&j({inst:_})},[g,y,b]),a(function(){return f(_)&&j({inst:_}),g(function(){f(_)&&j({inst:_})})},[g]),l(y),y}function f(g){var b=g.getSnapshot;g=g.value;try{var y=b();return!n(g,y)}catch(w){return!0}}function h(g,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return fg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,fg}var y_;function FC(){return y_||(y_=1,g_.exports=BC()),g_.exports}var HC=FC();const SS=0,NS=1,ES=2,b_=3;var v_=Object.prototype.hasOwnProperty;function o0(e,t){var n,s;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((s=e.length)===t.length)for(;s--&&o0(e[s],t[s]););return s===-1}if(!n||typeof e=="object"){s=0;for(n in e)if(v_.call(e,n)&&++s&&!v_.call(t,n)||!(n in t)||!o0(e[n],t[n]))return!1;return Object.keys(t).length===s}}return e!==e&&t!==t}const za=new WeakMap,wi=()=>{},Ts=wi(),gh=Object,Kt=e=>e===Ts,Lr=e=>typeof e=="function",Fa=(e,t)=>L(L({},e),t),TS=e=>Lr(e.then),hg={},mf={},rx="undefined",Gu=typeof window!=rx,l0=typeof document!=rx,VC=Gu&&"Deno"in window,$C=()=>Gu&&typeof window.requestAnimationFrame!=rx,kS=(e,t)=>{const n=za.get(e);return[()=>!Kt(t)&&e.get(t)||hg,s=>{if(!Kt(t)){const a=e.get(t);t in mf||(mf[t]=a),n[5](t,Fa(a,s),a||hg)}},n[6],()=>!Kt(t)&&t in mf?mf[t]:!Kt(t)&&e.get(t)||hg]};let c0=!0;const qC=()=>c0,[u0,d0]=Gu&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[wi,wi],IC=()=>{const e=l0&&document.visibilityState;return Kt(e)||e!=="hidden"},YC=e=>(l0&&document.addEventListener("visibilitychange",e),u0("focus",e),()=>{l0&&document.removeEventListener("visibilitychange",e),d0("focus",e)}),WC=e=>{const t=()=>{c0=!0,e()},n=()=>{c0=!1};return u0("online",t),u0("offline",n),()=>{d0("online",t),d0("offline",n)}},XC={isOnline:qC,isVisible:IC},GC={initFocus:YC,initReconnect:WC},w_=!Z.useId,zu=!Gu||VC,KC=e=>$C()?window.requestAnimationFrame(e):setTimeout(e,1),Kf=zu?N.useEffect:N.useLayoutEffect,mg=typeof navigator<"u"&&navigator.connection,__=!zu&&mg&&(["slow-2g","2g"].includes(mg.effectiveType)||mg.saveData),pf=new WeakMap,pg=(e,t)=>gh.prototype.toString.call(e)===`[object ${t}]`;let QC=0;const f0=e=>{const t=typeof e,n=pg(e,"Date"),s=pg(e,"RegExp"),a=pg(e,"Object");let o,l;if(gh(e)===e&&!n&&!s){if(o=pf.get(e),o)return o;if(o=++QC+"~",pf.set(e,o),Array.isArray(e)){for(o="@",l=0;l<e.length;l++)o+=f0(e[l])+",";pf.set(e,o)}if(a){o="#";const d=gh.keys(e).sort();for(;!Kt(l=d.pop());)Kt(e[l])||(o+=l+":"+f0(e[l])+",");pf.set(e,o)}}else o=n?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return o},ax=e=>{if(Lr(e))try{e=e()}catch(n){e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?f0(e):"",[e,t]};let ZC=0;const h0=()=>++ZC;function CS(...e){return ye(this,null,function*(){const[t,n,s,a]=e,o=Fa({populateCache:!0,throwOnError:!0},typeof a=="boolean"?{revalidate:a}:a||{});let l=o.populateCache;const d=o.rollbackOnError;let f=o.optimisticData;const h=b=>typeof d=="function"?d(b):d!==!1,p=o.throwOnError;if(Lr(n)){const b=n,y=[],w=t.keys();for(const _ of w)!/^\$(inf|sub)\$/.test(_)&&b(t.get(_)._k)&&y.push(_);return Promise.all(y.map(g))}return g(n);function g(b){return ye(this,null,function*(){const[y]=ax(b);if(!y)return;const[w,_]=kS(t,y),[j,S,C,R]=za.get(t),k=()=>{const ee=j[y];return(Lr(o.revalidate)?o.revalidate(w().data,b):o.revalidate!==!1)&&(delete C[y],delete R[y],ee&&ee[0])?ee[0](ES).then(()=>w().data):w().data};if(e.length<3)return k();let O=s,D;const $=h0();S[y]=[$,0];const A=!Kt(f),B=w(),J=B.data,K=B._c,I=Kt(K)?J:K;if(A&&(f=Lr(f)?f(I,J):f,_({data:f,_c:I})),Lr(O))try{O=O(I)}catch(ee){D=ee}if(O&&TS(O))if(O=yield O.catch(ee=>{D=ee}),$!==S[y][0]){if(D)throw D;return O}else D&&A&&h(D)&&(l=!0,_({data:I,_c:Ts}));if(l&&!D)if(Lr(l)){const ee=l(O,I);_({data:ee,error:Ts,_c:Ts})}else _({data:O,error:Ts,_c:Ts});if(S[y][1]=h0(),Promise.resolve(k()).then(()=>{_({_c:Ts})}),D){if(p)throw D;return}return O})}})}const j_=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},AS=(e,t)=>{if(!za.has(e)){const n=Fa(GC,t),s=Object.create(null),a=CS.bind(Ts,e);let o=wi;const l=Object.create(null),d=(p,g)=>{const b=l[p]||[];return l[p]=b,b.push(g),()=>b.splice(b.indexOf(g),1)},f=(p,g,b)=>{e.set(p,g);const y=l[p];if(y)for(const w of y)w(g,b)},h=()=>{if(!za.has(e)&&(za.set(e,[s,Object.create(null),Object.create(null),Object.create(null),a,f,d]),!zu)){const p=n.initFocus(setTimeout.bind(Ts,j_.bind(Ts,s,SS))),g=n.initReconnect(setTimeout.bind(Ts,j_.bind(Ts,s,NS)));o=()=>{p&&p(),g&&g(),za.delete(e)}}};return h(),[e,a,h,o]}return[e,za.get(e)[4]]},JC=(e,t,n,s,a)=>{const o=n.errorRetryCount,l=a.retryCount,d=~~((Math.random()+.5)*(1<<(l<8?l:8)))*n.errorRetryInterval;!Kt(o)&&l>o||setTimeout(s,d,a)},eA=o0,[ix,tA]=AS(new Map),OS=Fa({onLoadingSlow:wi,onSuccess:wi,onError:wi,onErrorRetry:JC,onDiscarded:wi,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:__?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:__?5e3:3e3,compare:eA,isPaused:()=>!1,cache:ix,mutate:tA,fallback:{}},XC),RS=(e,t)=>{const n=Fa(e,t);if(t){const{use:s,fallback:a}=e,{use:o,fallback:l}=t;s&&o&&(n.use=s.concat(o)),a&&l&&(n.fallback=Fa(a,l))}return n},m0=N.createContext({}),nA=e=>{const{value:t}=e,n=N.useContext(m0),s=Lr(t),a=N.useMemo(()=>s?t(n):t,[s,n,t]),o=N.useMemo(()=>s?a:RS(n,a),[s,n,a]),l=a&&a.provider,d=N.useRef(Ts);l&&!d.current&&(d.current=AS(l(o.cache||ix),a));const f=d.current;return f&&(o.cache=f[0],o.mutate=f[1]),Kf(()=>{if(f)return f[2]&&f[2](),f[3]},[]),N.createElement(m0.Provider,Fa(e,{value:o}))},sA="$inf$",DS=Gu&&window.__SWR_DEVTOOLS_USE__,rA=DS?window.__SWR_DEVTOOLS_USE__:[],aA=()=>{DS&&(window.__SWR_DEVTOOLS_REACT__=Z)},iA=e=>Lr(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],oA=()=>Fa(OS,N.useContext(m0)),lA=e=>(t,n,s)=>e(t,n&&((...a)=>{const[o]=ax(t),[,,,l]=za.get(ix);if(o.startsWith(sA))return n(...a);const d=l[o];return Kt(d)?n(...a):(delete l[o],d)}),s),cA=rA.concat(lA),uA=e=>function(...t){const n=oA(),[s,a,o]=iA(t),l=RS(n,o);let d=e;const{use:f}=l,h=(f||[]).concat(cA);for(let p=h.length;p--;)d=h[p](d);return d(s,a||l.fetcher||null,l)},dA=(e,t,n)=>{const s=t[e]||(t[e]=[]);return s.push(n),()=>{const a=s.indexOf(n);a>=0&&(s[a]=s[s.length-1],s.pop())}};aA();const gg=Z.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),xg={dedupe:!0},fA=(e,t,n)=>{const{cache:s,compare:a,suspense:o,fallbackData:l,revalidateOnMount:d,revalidateIfStale:f,refreshInterval:h,refreshWhenHidden:p,refreshWhenOffline:g,keepPreviousData:b}=n,[y,w,_,j]=za.get(s),[S,C]=ax(e),R=N.useRef(!1),k=N.useRef(!1),O=N.useRef(S),D=N.useRef(t),$=N.useRef(n),A=()=>$.current,B=()=>A().isVisible()&&A().isOnline(),[J,K,I,ee]=kS(s,S),pe=N.useRef({}).current,ne=Kt(l)?Kt(n.fallback)?Ts:n.fallback[S]:l,V=(Ke,pt)=>{for(const Pe in pe){const ht=Pe;if(ht==="data"){if(!a(Ke[ht],pt[ht])&&(!Kt(Ke[ht])||!a(_e,pt[ht])))return!1}else if(pt[ht]!==Ke[ht])return!1}return!0},te=N.useMemo(()=>{const Ke=!S||!t?!1:Kt(d)?A().isPaused()||o?!1:f!==!1:d,pt=St=>{const Y=Fa(St);return delete Y._k,Ke?L({isValidating:!0,isLoading:!0},Y):Y},Pe=J(),ht=ee(),Ft=pt(Pe),vt=Pe===ht?Ft:pt(ht);let Dt=Ft;return[()=>{const St=pt(J());return V(St,Dt)?(Dt.data=St.data,Dt.isLoading=St.isLoading,Dt.isValidating=St.isValidating,Dt.error=St.error,Dt):(Dt=St,St)},()=>vt]},[s,S]),Q=HC.useSyncExternalStore(N.useCallback(Ke=>I(S,(pt,Pe)=>{V(Pe,pt)||Ke()}),[s,S]),te[0],te[1]),fe=!R.current,F=y[S]&&y[S].length>0,W=Q.data,me=Kt(W)?ne&&TS(ne)?gg(ne):ne:W,U=Q.error,re=N.useRef(me),_e=b?Kt(W)?Kt(re.current)?me:re.current:W:me,xe=F&&!Kt(U)?!1:fe&&!Kt(d)?d:A().isPaused()?!1:o?Kt(me)?!1:f:Kt(me)||f,Ee=!!(S&&t&&fe&&xe),Oe=Kt(Q.isValidating)?Ee:Q.isValidating,$e=Kt(Q.isLoading)?Ee:Q.isLoading,Le=N.useCallback(Ke=>ye(null,null,function*(){const pt=D.current;if(!S||!pt||k.current||A().isPaused())return!1;let Pe,ht,Ft=!0;const vt=Ke||{},Dt=!_[S]||!vt.dedupe,St=()=>w_?!k.current&&S===O.current&&R.current:S===O.current,Y={isValidating:!1,isLoading:!1},le=()=>{K(Y)},q=()=>{const De=_[S];De&&De[1]===ht&&delete _[S]},Se={isValidating:!0};Kt(J().data)&&(Se.isLoading=!0);try{if(Dt&&(K(Se),n.loadingTimeout&&Kt(J().data)&&setTimeout(()=>{Ft&&St()&&A().onLoadingSlow(S,n)},n.loadingTimeout),_[S]=[pt(C),h0()]),[Pe,ht]=_[S],Pe=yield Pe,Dt&&setTimeout(q,n.dedupingInterval),!_[S]||_[S][1]!==ht)return Dt&&St()&&A().onDiscarded(S),!1;Y.error=Ts;const De=w[S];if(!Kt(De)&&(ht<=De[0]||ht<=De[1]||De[1]===0))return le(),Dt&&St()&&A().onDiscarded(S),!1;const Re=J().data;Y.data=a(Re,Pe)?Re:Pe,Dt&&St()&&A().onSuccess(Pe,S,n)}catch(De){q();const Re=A(),{shouldRetryOnError:Fe}=Re;Re.isPaused()||(Y.error=De,Dt&&St()&&(Re.onError(De,S,Re),(Fe===!0||Lr(Fe)&&Fe(De))&&(!A().revalidateOnFocus||!A().revalidateOnReconnect||B())&&Re.onErrorRetry(De,S,Re,Ie=>{const Qe=y[S];Qe&&Qe[0]&&Qe[0](b_,Ie)},{retryCount:(vt.retryCount||0)+1,dedupe:!0})))}return Ft=!1,le(),!0}),[S,s]),lt=N.useCallback((...Ke)=>CS(s,O.current,...Ke),[]);if(Kf(()=>{D.current=t,$.current=n,Kt(W)||(re.current=W)}),Kf(()=>{if(!S)return;const Ke=Le.bind(Ts,xg);let pt=0;A().revalidateOnFocus&&(pt=Date.now()+A().focusThrottleInterval);const Pe=dA(S,y,(ht,Ft={})=>{if(ht==SS){const vt=Date.now();A().revalidateOnFocus&&vt>pt&&B()&&(pt=vt+A().focusThrottleInterval,Ke())}else if(ht==NS)A().revalidateOnReconnect&&B()&&Ke();else{if(ht==ES)return Le();if(ht==b_)return Le(Ft)}});return k.current=!1,O.current=S,R.current=!0,K({_k:C}),xe&&(Kt(me)||zu?Ke():KC(Ke)),()=>{k.current=!0,Pe()}},[S]),Kf(()=>{let Ke;function pt(){const ht=Lr(h)?h(J().data):h;ht&&Ke!==-1&&(Ke=setTimeout(Pe,ht))}function Pe(){!J().error&&(p||A().isVisible())&&(g||A().isOnline())?Le(xg).then(pt):pt()}return pt(),()=>{Ke&&(clearTimeout(Ke),Ke=-1)}},[h,p,g,S]),N.useDebugValue(_e),o&&Kt(me)&&S){if(!w_&&zu)throw new Error("Fallback data is required when using Suspense in SSR.");D.current=t,$.current=n,k.current=!1;const Ke=j[S];if(!Kt(Ke)){const pt=lt(Ke);gg(pt)}if(Kt(U)){const pt=Le(xg);Kt(_e)||(pt.status="fulfilled",pt.value=!0),gg(pt)}else throw U}return{mutate:lt,get data(){return pe.data=!0,_e},get error(){return pe.error=!0,U},get isValidating(){return pe.isValidating=!0,Oe},get isLoading(){return pe.isLoading=!0,$e}}},hA=gh.defineProperty(nA,"defaultValue",{value:OS}),ox=uA(fA);Promise.resolve();const la=Object.create(null);la.open="0";la.close="1";la.ping="2";la.pong="3";la.message="4";la.upgrade="5";la.noop="6";const Qf=Object.create(null);Object.keys(la).forEach(e=>{Qf[la[e]]=e});const p0={type:"error",data:"parser error"},MS=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",PS=typeof ArrayBuffer=="function",LS=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,lx=({type:e,data:t},n,s)=>MS&&t instanceof Blob?n?s(t):S_(t,s):PS&&(t instanceof ArrayBuffer||LS(t))?n?s(t):S_(new Blob([t]),s):s(la[e]+(t||"")),S_=(e,t)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];t("b"+(s||""))},n.readAsDataURL(e)};function N_(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let yg;function mA(e,t){if(MS&&e.data instanceof Blob)return e.data.arrayBuffer().then(N_).then(t);if(PS&&(e.data instanceof ArrayBuffer||LS(e.data)))return t(N_(e.data));lx(e,!1,n=>{yg||(yg=new TextEncoder),t(yg.encode(n))})}const E_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ju=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<E_.length;e++)ju[E_.charCodeAt(e)]=e;const pA=e=>{let t=e.length*.75,n=e.length,s,a=0,o,l,d,f;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const h=new ArrayBuffer(t),p=new Uint8Array(h);for(s=0;s<n;s+=4)o=ju[e.charCodeAt(s)],l=ju[e.charCodeAt(s+1)],d=ju[e.charCodeAt(s+2)],f=ju[e.charCodeAt(s+3)],p[a++]=o<<2|l>>4,p[a++]=(l&15)<<4|d>>2,p[a++]=(d&3)<<6|f&63;return h},gA=typeof ArrayBuffer=="function",cx=(e,t)=>{if(typeof e!="string")return{type:"message",data:zS(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:xA(e.substring(1),t)}:Qf[n]?e.length>1?{type:Qf[n],data:e.substring(1)}:{type:Qf[n]}:p0},xA=(e,t)=>{if(gA){const n=pA(e);return zS(n,t)}else return{base64:!0,data:e}},zS=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},US="",yA=(e,t)=>{const n=e.length,s=new Array(n);let a=0;e.forEach((o,l)=>{lx(o,!1,d=>{s[l]=d,++a===n&&t(s.join(US))})})},bA=(e,t)=>{const n=e.split(US),s=[];for(let a=0;a<n.length;a++){const o=cx(n[a],t);if(s.push(o),o.type==="error")break}return s};function vA(){return new TransformStream({transform(e,t){mA(e,n=>{const s=n.length;let a;if(s<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,s);else if(s<65536){a=new Uint8Array(3);const o=new DataView(a.buffer);o.setUint8(0,126),o.setUint16(1,s)}else{a=new Uint8Array(9);const o=new DataView(a.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(s))}e.data&&typeof e.data!="string"&&(a[0]|=128),t.enqueue(a),t.enqueue(n)})}})}let bg;function gf(e){return e.reduce((t,n)=>t+n.length,0)}function xf(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let s=0;for(let a=0;a<t;a++)n[a]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),n}function wA(e,t){bg||(bg=new TextDecoder);const n=[];let s=0,a=-1,o=!1;return new TransformStream({transform(l,d){for(n.push(l);;){if(s===0){if(gf(n)<1)break;const f=xf(n,1);o=(f[0]&128)===128,a=f[0]&127,a<126?s=3:a===126?s=1:s=2}else if(s===1){if(gf(n)<2)break;const f=xf(n,2);a=new DataView(f.buffer,f.byteOffset,f.length).getUint16(0),s=3}else if(s===2){if(gf(n)<8)break;const f=xf(n,8),h=new DataView(f.buffer,f.byteOffset,f.length),p=h.getUint32(0);if(p>Math.pow(2,21)-1){d.enqueue(p0);break}a=p*Math.pow(2,32)+h.getUint32(4),s=3}else{if(gf(n)<a)break;const f=xf(n,a);d.enqueue(cx(o?f:bg.decode(f),t)),s=0}if(a===0||a>e){d.enqueue(p0);break}}}})}const BS=4;function Wn(e){if(e)return _A(e)}function _A(e){for(var t in Wn.prototype)e[t]=Wn.prototype[t];return e}Wn.prototype.on=Wn.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Wn.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};Wn.prototype.off=Wn.prototype.removeListener=Wn.prototype.removeAllListeners=Wn.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var s,a=0;a<n.length;a++)if(s=n[a],s===t||s.fn===t){n.splice(a,1);break}return n.length===0&&delete this._callbacks["$"+e],this};Wn.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,a=n.length;s<a;++s)n[s].apply(this,t)}return this};Wn.prototype.emitReserved=Wn.prototype.emit;Wn.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Wn.prototype.hasListeners=function(e){return!!this.listeners(e).length};const vr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function FS(e,...t){return t.reduce((n,s)=>(e.hasOwnProperty(s)&&(n[s]=e[s]),n),{})}const jA=vr.setTimeout,SA=vr.clearTimeout;function Fh(e,t){t.useNativeTimers?(e.setTimeoutFn=jA.bind(vr),e.clearTimeoutFn=SA.bind(vr)):(e.setTimeoutFn=vr.setTimeout.bind(vr),e.clearTimeoutFn=vr.clearTimeout.bind(vr))}const NA=1.33;function EA(e){return typeof e=="string"?TA(e):Math.ceil((e.byteLength||e.size)*NA)}function TA(e){let t=0,n=0;for(let s=0,a=e.length;s<a;s++)t=e.charCodeAt(s),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(s++,n+=4);return n}function kA(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function CA(e){let t={},n=e.split("&");for(let s=0,a=n.length;s<a;s++){let o=n[s].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}class AA extends Error{constructor(t,n,s){super(t),this.description=n,this.context=s,this.type="TransportError"}}class ux extends Wn{constructor(t){super(),this.writable=!1,Fh(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,s){return super.emitReserved("error",new AA(t,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=cx(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=kA(t);return n.length?"?"+n:""}}const HS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),g0=64,OA={};let T_=0,yf=0,k_;function C_(e){let t="";do t=HS[e%g0]+t,e=Math.floor(e/g0);while(e>0);return t}function VS(){const e=C_(+new Date);return e!==k_?(T_=0,k_=e):e+"."+C_(T_++)}for(;yf<g0;yf++)OA[HS[yf]]=yf;let $S=!1;try{$S=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(e){}const RA=$S;function qS(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||RA))return new XMLHttpRequest}catch(n){}if(!t)try{return new vr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(n){}}function DA(){}const MA=function(){return new qS({xdomain:!1}).responseType!=null}();class PA extends ux{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const s=location.protocol==="https:";let a=location.port;a||(a=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||a!==t.port}const n=t&&t.forceBase64;this.supportsBinary=MA&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let s=0;this.polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};bA(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,yA(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=VS()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new zl(this.uri(),t)}doWrite(t,n){const s=this.request({method:"POST",data:t});s.on("success",n),s.on("error",(a,o)=>{this.onError("xhr post error",a,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=t}}let zl=class Zf extends Wn{constructor(t,n){super(),Fh(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=FS(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const s=this.xhr=new qS(n);try{s.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let a in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(a)&&s.setRequestHeader(a,this.opts.extraHeaders[a])}}catch(a){}if(this.method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(a){}try{s.setRequestHeader("Accept","*/*")}catch(a){}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(s.timeout=this.opts.requestTimeout),s.onreadystatechange=()=>{var a;s.readyState===3&&((a=this.opts.cookieJar)===null||a===void 0||a.parseCookies(s)),s.readyState===4&&(s.status===200||s.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof s.status=="number"?s.status:0)},0))},s.send(this.data)}catch(a){this.setTimeoutFn(()=>{this.onError(a)},0);return}typeof document<"u"&&(this.index=Zf.requestsCount++,Zf.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=DA,t)try{this.xhr.abort()}catch(n){}typeof document<"u"&&delete Zf.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};zl.requestsCount=0;zl.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",A_);else if(typeof addEventListener=="function"){const e="onpagehide"in vr?"pagehide":"unload";addEventListener(e,A_,!1)}}function A_(){for(let e in zl.requests)zl.requests.hasOwnProperty(e)&&zl.requests[e].abort()}const dx=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),bf=vr.WebSocket||vr.MozWebSocket,O_=!0,LA="arraybuffer",R_=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class zA extends ux{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,s=R_?{}:FS(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=O_&&!R_?n?new bf(t,n):new bf(t):new bf(t,n,s)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],a=n===t.length-1;lx(s,this.supportsBinary,o=>{try{O_&&this.ws.send(o)}catch(l){}a&&dx(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=VS()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!bf}}class UA extends ux{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=wA(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(n).getReader(),a=vA();a.readable.pipeTo(t.writable),this.writer=a.writable.getWriter();const o=()=>{s.read().then(({done:d,value:f})=>{d||(this.onPacket(f),o())}).catch(d=>{})};o();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this.writer.write(l).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],a=n===t.length-1;this.writer.write(s).then(()=>{a&&dx(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const BA={websocket:zA,webtransport:UA,polling:PA},FA=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,HA=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function x0(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),s=e.indexOf("]");n!=-1&&s!=-1&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));let a=FA.exec(e||""),o={},l=14;for(;l--;)o[HA[l]]=a[l]||"";return n!=-1&&s!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=VA(o,o.path),o.queryKey=$A(o,o.query),o}function VA(e,t){const n=/\/{2,9}/g,s=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&s.splice(0,1),t.slice(-1)=="/"&&s.splice(s.length-1,1),s}function $A(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,a,o){a&&(n[a]=o)}),n}let IS=class Dl extends Wn{constructor(t,n={}){super(),this.binaryType=LA,this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=x0(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=x0(n.host).host),Fh(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=CA(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=BS,n.transport=t,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new BA[t](s)}open(){let t;if(this.opts.rememberUpgrade&&Dl.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch(n){this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),s=!1;Dl.priorWebsocketSuccess=!1;const a=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",g=>{if(!s)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Dl.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(p(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=n.name,this.emitReserved("upgradeError",b)}}))};function o(){s||(s=!0,p(),n.close(),n=null)}const l=g=>{const b=new Error("probe error: "+g);b.transport=n.name,o(),this.emitReserved("upgradeError",b)};function d(){l("transport closed")}function f(){l("socket closed")}function h(g){n&&g.name!==n.name&&o()}const p=()=>{n.removeListener("open",a),n.removeListener("error",l),n.removeListener("close",d),this.off("close",f),this.off("upgrading",h)};n.once("open",a),n.once("error",l),n.once("close",d),this.once("close",f),this.once("upgrading",h),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onOpen(){if(this.readyState="open",Dl.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(t+=EA(s)),n>0&&t>this.maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}write(t,n,s){return this.sendPacket("message",t,n,s),this}send(t,n,s){return this.sendPacket("message",t,n,s),this}sendPacket(t,n,s,a){if(typeof n=="function"&&(a=n,n=void 0),typeof s=="function"&&(a=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const o={type:t,data:n,options:s};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),a&&this.once("flush",a),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}onError(t){Dl.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let s=0;const a=t.length;for(;s<a;s++)~this.transports.indexOf(t[s])&&n.push(t[s]);return n}};IS.protocol=BS;function qA(e,t="",n){let s=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),s=x0(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const a=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+a+":"+s.port+t,s.href=s.protocol+"://"+a+(n&&n.port===s.port?"":":"+s.port),s}const IA=typeof ArrayBuffer=="function",YA=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,YS=Object.prototype.toString,WA=typeof Blob=="function"||typeof Blob<"u"&&YS.call(Blob)==="[object BlobConstructor]",XA=typeof File=="function"||typeof File<"u"&&YS.call(File)==="[object FileConstructor]";function fx(e){return IA&&(e instanceof ArrayBuffer||YA(e))||WA&&e instanceof Blob||XA&&e instanceof File}function Jf(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,s=e.length;n<s;n++)if(Jf(e[n]))return!0;return!1}if(fx(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Jf(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Jf(e[n]))return!0;return!1}function GA(e){const t=[],n=e.data,s=e;return s.data=y0(n,t),s.attachments=t.length,{packet:s,buffers:t}}function y0(e,t){if(!e)return e;if(fx(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let s=0;s<e.length;s++)n[s]=y0(e[s],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=y0(e[s],t));return n}return e}function KA(e,t){return e.data=b0(e.data,t),delete e.attachments,e}function b0(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=b0(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=b0(e[n],t));return e}const QA=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],ZA=5;var Yt;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Yt||(Yt={}));class JA{constructor(t){this.replacer=t}encode(t){return(t.type===Yt.EVENT||t.type===Yt.ACK)&&Jf(t)?this.encodeAsBinary({type:t.type===Yt.EVENT?Yt.BINARY_EVENT:Yt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===Yt.BINARY_EVENT||t.type===Yt.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=GA(t),s=this.encodeAsString(n.packet),a=n.buffers;return a.unshift(s),a}}function D_(e){return Object.prototype.toString.call(e)==="[object Object]"}class hx extends Wn{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const s=n.type===Yt.BINARY_EVENT;s||n.type===Yt.BINARY_ACK?(n.type=s?Yt.EVENT:Yt.ACK,this.reconstructor=new eO(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(fx(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const s={type:Number(t.charAt(0))};if(Yt[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===Yt.BINARY_EVENT||s.type===Yt.BINARY_ACK){const o=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const l=t.substring(o,n);if(l!=Number(l)||t.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(l)}if(t.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););s.nsp=t.substring(o,n)}else s.nsp="/";const a=t.charAt(n+1);if(a!==""&&Number(a)==a){const o=n+1;for(;++n;){const l=t.charAt(n);if(l==null||Number(l)!=l){--n;break}if(n===t.length)break}s.id=Number(t.substring(o,n+1))}if(t.charAt(++n)){const o=this.tryParse(t.substr(n));if(hx.isPayloadValid(s.type,o))s.data=o;else throw new Error("invalid payload")}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(n){return!1}}static isPayloadValid(t,n){switch(t){case Yt.CONNECT:return D_(n);case Yt.DISCONNECT:return n===void 0;case Yt.CONNECT_ERROR:return typeof n=="string"||D_(n);case Yt.EVENT:case Yt.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&QA.indexOf(n[0])===-1);case Yt.ACK:case Yt.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class eO{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=KA(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const tO=Object.freeze(Object.defineProperty({__proto__:null,Decoder:hx,Encoder:JA,get PacketType(){return Yt},protocol:ZA},Symbol.toStringTag,{value:"Module"}));function Pr(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const nO=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class WS extends Wn{constructor(t,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Pr(t,"open",this.onopen.bind(this)),Pr(t,"packet",this.onpacket.bind(this)),Pr(t,"error",this.onerror.bind(this)),Pr(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(nO.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const s={type:Yt.EVENT,data:n};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const o=this.ids++,l=n.pop();this._registerAckCallback(o,l),s.id=o}const a=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!a||!this.connected)||(this.connected?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,n){var s;const a=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(a===void 0){this.acks[t]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},a);this.acks[t]=(...l)=>{this.io.clearTimeoutFn(o),n.apply(this,[null,...l])}}emitWithAck(t,...n){const s=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((a,o)=>{n.push((l,d)=>s?l?o(l):a(d):a(l)),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((a,...o)=>s!==this._queue[0]?void 0:(a!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(a)):(this._queue.shift(),n&&n(null,...o)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Yt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Yt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Yt.EVENT:case Yt.BINARY_EVENT:this.onevent(t);break;case Yt.ACK:case Yt.BINARY_ACK:this.onack(t);break;case Yt.DISCONNECT:this.ondisconnect();break;case Yt.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let s=!1;return function(...a){s||(s=!0,n.packet({type:Yt.ACK,id:t,data:a}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(n.apply(this,t.data),delete this.acks[t.id])}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Yt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,t.data)}}}function Ql(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Ql.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-n:e+n}return Math.min(e,this.max)|0};Ql.prototype.reset=function(){this.attempts=0};Ql.prototype.setMin=function(e){this.ms=e};Ql.prototype.setMax=function(e){this.max=e};Ql.prototype.setJitter=function(e){this.jitter=e};class v0 extends Wn{constructor(t,n){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Fh(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new Ql({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const a=n.parser||tO;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new IS(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const a=Pr(n,"open",function(){s.onopen(),t&&t()}),o=d=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",d),t?t(d):this.maybeReconnectOnOpen()},l=Pr(n,"error",o);if(this._timeout!==!1){const d=this._timeout,f=this.setTimeoutFn(()=>{a(),o(new Error("timeout")),n.close()},d);this.opts.autoUnref&&f.unref(),this.subs.push(()=>{this.clearTimeoutFn(f)})}return this.subs.push(a),this.subs.push(l),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Pr(t,"ping",this.onping.bind(this)),Pr(t,"data",this.ondata.bind(this)),Pr(t,"error",this.onerror.bind(this)),Pr(t,"close",this.onclose.bind(this)),Pr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){dx(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new WS(this,t,n),this.nsps[t]=s),s}_destroy(t){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let s=0;s<n.length;s++)this.engine.write(n[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(a=>{a?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",a)):t.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const ou={};function eh(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=qA(e,t.path||"/socket.io"),s=n.source,a=n.id,o=n.path,l=ou[a]&&o in ou[a].nsps,d=t.forceNew||t["force new connection"]||t.multiplex===!1||l;let f;return d?f=new v0(s,t):(ou[a]||(ou[a]=new v0(s,t)),f=ou[a]),n.query&&!t.query&&(t.query=n.queryKey),f.socket(n.path,t)}Object.assign(eh,{Manager:v0,Socket:WS,io:eh,connect:eh});class sO{constructor(t,n,s,a){ho(this,"socket_port"),ho(this,"host"),ho(this,"port"),ho(this,"protocol"),ho(this,"url"),ho(this,"site_name"),ho(this,"socket");var o,l,d,f;if(this.socket_port=s!=null?s:"9000",this.host=(o=window.location)==null?void 0:o.hostname,this.port=(l=window.location)!=null&&l.port?`:${this.socket_port}`:"",this.protocol=((d=window.location)==null?void 0:d.protocol)==="https:"?"https":"http",t){let h=new URL(t);h.port="",s?(h.port=s,this.url=h.toString()):this.url=h.toString()}else this.url=`${this.protocol}://${this.host}${this.port}/`;n&&(this.url=`${this.url}${n}`),this.site_name=n,this.socket=eh(`${this.url}`,{withCredentials:!0,secure:this.protocol==="https",extraHeaders:a&&a.useToken===!0?{Authorization:`${a.type} ${(f=a.token)==null?void 0:f.call(a)}`}:{}})}}const Li=N.createContext(null),rO=({url:e="",tokenParams:t,socketPort:n,swrConfig:s,siteName:a,enableSocket:o=!0,children:l,customHeaders:d})=>{const f=N.useMemo(()=>{const h=new UC.FrappeApp(e,t,void 0,d);return{url:e,tokenParams:t,app:h,auth:h.auth(),db:h.db(),call:h.call(),file:h.file(),socket:o?new sO(e,a,n,t).socket:void 0,enableSocket:o,socketPort:n}},[e,t,n,o,d]);return c.jsx(Li.Provider,{value:f,children:c.jsx(hA,{value:s,children:l})})},Ti=e=>{const{url:t,auth:n,tokenParams:s}=N.useContext(Li),[a,o]=N.useState(),l=N.useCallback(()=>{const w=document.cookie.split(";").find(_=>_.trim().startsWith("user_id="));if(w){const _=w.split("=")[1];o(_&&_!=="Guest"?_:null)}else o(null)},[]);N.useEffect(()=>{s&&s.useToken?o(null):l()},[]);const{data:d,error:f,isLoading:h,isValidating:p,mutate:g}=ox(()=>s&&s.useToken||a?`${t}/api/method/frappe.auth.get_logged_user`:null,()=>n.getLoggedInUser(),L({onError:()=>{o(null)},shouldRetryOnError:!1,revalidateOnFocus:!1},e)),b=N.useCallback(w=>ye(null,null,function*(){return n.loginWithUsernamePassword(w).then(_=>(l(),_))}),[]),y=N.useCallback(()=>ye(null,null,function*(){return n.logout().then(()=>g(null)).then(()=>o(null))}),[]);return{isLoading:a===void 0||h,currentUser:d,isValidating:p,error:f,login:b,logout:y,updateCurrentUser:g,getUserCookie:l}},XS=(e,t,n)=>{let s=`${t}/api/resource/`;return n?s+=`${e}/${n}`:s+=`${e}`,s},ss=(e,t,n,s)=>{const{url:a,db:o}=N.useContext(Li);return ox(n===void 0?XS(e,a,t):n,()=>o.getDoc(e,t),s)},aO=e=>{var a;var t,n;let s="";if(e!=null&&e.fields&&(s+="fields="+JSON.stringify(e==null?void 0:e.fields)+"&"),e!=null&&e.filters&&(s+="filters="+JSON.stringify(e==null?void 0:e.filters)+"&"),e!=null&&e.orFilters&&(s+="or_filters="+JSON.stringify(e==null?void 0:e.orFilters)+"&"),e!=null&&e.limit_start&&(s+="limit_start="+JSON.stringify(e==null?void 0:e.limit_start)+"&"),e!=null&&e.limit&&(s+="limit="+JSON.stringify(e==null?void 0:e.limit)+"&"),e!=null&&e.groupBy&&(s+="group_by="+String(e.groupBy)+"&"),e!=null&&e.orderBy){const o=`${String((t=e.orderBy)==null?void 0:t.field)} ${(a=(n=e.orderBy)==null?void 0:n.order)!=null?a:"asc"}`;s+="order_by="+o+"&"}return e!=null&&e.asDict&&(s+="as_dict="+e.asDict),s},dn=(e,t,n,s)=>{const{url:a,db:o}=N.useContext(Li);return ox(n===void 0?`${XS(e,a)}?${aO(t)}`:n,()=>o.getDocList(e,t),s)},zi=()=>{const{db:e}=N.useContext(Li),[t,n]=N.useState(!1),[s,a]=N.useState(null),[o,l]=N.useState(!1),d=N.useCallback(()=>{n(!1),a(null),l(!1)},[]);return{createDoc:N.useCallback((f,h)=>ye(null,null,function*(){return a(null),l(!1),n(!0),e.createDoc(f,h).then(p=>(n(!1),l(!0),p)).catch(p=>{throw n(!1),l(!1),a(p),p})}),[]),loading:t,error:s,isCompleted:o,reset:d}},$s=()=>{const{db:e}=N.useContext(Li),[t,n]=N.useState(!1),[s,a]=N.useState(null),[o,l]=N.useState(!1),d=N.useCallback(()=>{n(!1),a(null),l(!1)},[]);return{updateDoc:N.useCallback((f,h,p)=>ye(null,null,function*(){return a(null),l(!1),n(!0),e.updateDoc(f,h,p).then(g=>(n(!1),l(!0),g)).catch(g=>{throw n(!1),l(!1),a(g),g})}),[]),loading:t,error:s,reset:d,isCompleted:o}},Hh=()=>{const{db:e}=N.useContext(Li),[t,n]=N.useState(!1),[s,a]=N.useState(null),[o,l]=N.useState(!1),d=N.useCallback(()=>{n(!1),a(null),l(!1)},[]);return{deleteDoc:N.useCallback((f,h)=>ye(null,null,function*(){return a(null),l(!1),n(!0),e.deleteDoc(f,h).then(p=>(n(!1),l(!0),p)).catch(p=>{throw n(!1),l(!1),a(p),p})}),[]),loading:t,error:s,reset:d,isCompleted:o}},gs=e=>{const{call:t}=N.useContext(Li),[n,s]=N.useState(null),[a,o]=N.useState(!1),[l,d]=N.useState(null),[f,h]=N.useState(!1),p=N.useCallback(()=>{s(null),o(!1),d(null),h(!1)},[]);return{call:N.useCallback(g=>ye(null,null,function*(){return d(null),h(!1),o(!0),s(null),t.post(e,g).then(b=>(s(b),o(!1),h(!0),b)).catch(b=>{throw o(!1),h(!1),d(b),b})}),[]),result:n,loading:a,error:l,reset:p,isCompleted:f}};var iO=(e,t,n,s,a,o,l,d)=>{let f=document.documentElement,h=["light","dark"];function p(y){(Array.isArray(e)?e:[e]).forEach(w=>{let _=w==="class",j=_&&o?a.map(S=>o[S]||S):a;_?(f.classList.remove(...j),f.classList.add(o&&o[y]?o[y]:y)):f.setAttribute(w,y)}),g(y)}function g(y){d&&h.includes(y)&&(f.style.colorScheme=y)}function b(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)p(s);else try{let y=localStorage.getItem(t)||n,w=l&&y==="system"?b():y;p(w)}catch(y){}},M_=["light","dark"],GS="(prefers-color-scheme: dark)",oO=typeof window=="undefined",mx=N.createContext(void 0),lO={setTheme:e=>{},themes:[]},cO=()=>{var e;return(e=N.useContext(mx))!=null?e:lO},uO=e=>N.useContext(mx)?N.createElement(N.Fragment,null,e.children):N.createElement(fO,L({},e)),dO=["light","dark"],fO=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:s=!0,storageKey:a="theme",themes:o=dO,defaultTheme:l=n?"system":"light",attribute:d="data-theme",value:f,children:h,nonce:p,scriptProps:g})=>{let[b,y]=N.useState(()=>mO(a,l)),[w,_]=N.useState(()=>b==="system"?vg():b),j=f?Object.values(f):o,S=N.useCallback(O=>{let D=O;if(!D)return;O==="system"&&n&&(D=vg());let $=f?f[D]:D,A=t?pO(p):null,B=document.documentElement,J=K=>{K==="class"?(B.classList.remove(...j),$&&B.classList.add($)):K.startsWith("data-")&&($?B.setAttribute(K,$):B.removeAttribute(K))};if(Array.isArray(d)?d.forEach(J):J(d),s){let K=M_.includes(l)?l:null,I=M_.includes(D)?D:K;B.style.colorScheme=I}A==null||A()},[p]),C=N.useCallback(O=>{let D=typeof O=="function"?O(b):O;y(D);try{localStorage.setItem(a,D)}catch($){}},[b]),R=N.useCallback(O=>{let D=vg(O);_(D),b==="system"&&n&&!e&&S("system")},[b,e]);N.useEffect(()=>{let O=window.matchMedia(GS);return O.addListener(R),R(O),()=>O.removeListener(R)},[R]),N.useEffect(()=>{let O=D=>{D.key===a&&(D.newValue?y(D.newValue):C(l))};return window.addEventListener("storage",O),()=>window.removeEventListener("storage",O)},[C]),N.useEffect(()=>{S(e!=null?e:b)},[e,b]);let k=N.useMemo(()=>({theme:b,setTheme:C,forcedTheme:e,resolvedTheme:b==="system"?w:b,themes:n?[...o,"system"]:o,systemTheme:n?w:void 0}),[b,C,e,w,n,o]);return N.createElement(mx.Provider,{value:k},N.createElement(hO,{forcedTheme:e,storageKey:a,attribute:d,enableSystem:n,enableColorScheme:s,defaultTheme:l,value:f,themes:o,nonce:p,scriptProps:g}),h)},hO=N.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:s,enableColorScheme:a,defaultTheme:o,value:l,themes:d,nonce:f,scriptProps:h})=>{let p=JSON.stringify([n,t,o,e,d,l,s,a]).slice(1,-1);return N.createElement("script",de(L({},h),{suppressHydrationWarning:!0,nonce:typeof window=="undefined"?f:"",dangerouslySetInnerHTML:{__html:`(${iO.toString()})(${p})`}}))}),mO=(e,t)=>{if(oO)return;let n;try{n=localStorage.getItem(e)||void 0}catch(s){}return n||t},pO=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},vg=e=>(e||(e=window.matchMedia(GS)),e.matches?"dark":"light");/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var KS=e=>{throw TypeError(e)},gO=(e,t,n)=>t.has(e)||KS("Cannot "+n),wg=(e,t,n)=>(gO(e,t,"read from private field"),n?n.call(e):t.get(e)),xO=(e,t,n)=>t.has(e)?KS("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),P_="popstate";function yO(e={}){function t(s,a){let{pathname:o,search:l,hash:d}=s.location;return Uu("",{pathname:o,search:l,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:ki(a)}return vO(t,n,null,e)}function qt(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function Gn(e,t){if(!e){typeof console!="undefined"&&console.warn(t);try{throw new Error(t)}catch(n){}}}function bO(){return Math.random().toString(36).substring(2,10)}function L_(e,t){return{usr:e.state,key:e.key,idx:t}}function Uu(e,t,n=null,s){return de(L({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ui(t):t),{state:n,key:t&&t.key||s||bO()})}function ki({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ui(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function vO(e,t,n,s={}){let{window:a=document.defaultView,v5Compat:o=!1}=s,l=a.history,d="POP",f=null,h=p();h==null&&(h=0,l.replaceState(de(L({},l.state),{idx:h}),""));function p(){return(l.state||{idx:null}).idx}function g(){d="POP";let j=p(),S=j==null?null:j-h;h=j,f&&f({action:d,location:_.location,delta:S})}function b(j,S){d="PUSH";let C=Uu(_.location,j,S);h=p()+1;let R=L_(C,h),k=_.createHref(C);try{l.pushState(R,"",k)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;a.location.assign(k)}o&&f&&f({action:d,location:_.location,delta:1})}function y(j,S){d="REPLACE";let C=Uu(_.location,j,S);h=p();let R=L_(C,h),k=_.createHref(C);l.replaceState(R,"",k),o&&f&&f({action:d,location:_.location,delta:0})}function w(j){return QS(j)}let _={get action(){return d},get location(){return e(a,l)},listen(j){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(P_,g),f=j,()=>{a.removeEventListener(P_,g),f=null}},createHref(j){return t(a,j)},createURL:w,encodeLocation(j){let S=w(j);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:b,replace:y,go(j){return l.go(j)}};return _}function QS(e,t=!1){let n="http://localhost";typeof window!="undefined"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),qt(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:ki(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}var Su,z_=class{constructor(e){if(xO(this,Su,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(wg(this,Su).has(e))return wg(this,Su).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){wg(this,Su).set(e,t)}};Su=new WeakMap;var wO=new Set(["lazy","caseSensitive","path","id","index","children"]);function _O(e){return wO.has(e)}var jO=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function SO(e){return jO.has(e)}function NO(e){return e.index===!0}function Bu(e,t,n=[],s={},a=!1){return e.map((o,l)=>{let d=[...n,String(l)],f=typeof o.id=="string"?o.id:d.join("-");if(qt(o.index!==!0||!o.children,"Cannot specify children on an index route"),qt(a||!s[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),NO(o)){let h=de(L(L({},o),t(o)),{id:f});return s[f]=h,h}else{let h=de(L(L({},o),t(o)),{id:f,children:void 0});return s[f]=h,o.children&&(h.children=Bu(o.children,t,d,s,a)),h}})}function vi(e,t,n="/"){return th(e,t,n,!1)}function th(e,t,n,s){let a=typeof t=="string"?Ui(t):t,o=jr(a.pathname||"/",n);if(o==null)return null;let l=ZS(e);TO(l);let d=null;for(let f=0;d==null&&f<l.length;++f){let h=UO(o);d=LO(l[f],h,s)}return d}function EO(e,t){let{route:n,pathname:s,params:a}=e;return{id:n.id,pathname:s,params:a,data:t[n.id],handle:n.handle}}function ZS(e,t=[],n=[],s=""){let a=(o,l,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};f.relativePath.startsWith("/")&&(qt(f.relativePath.startsWith(s),`Absolute route path "${f.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(s.length));let h=aa([s,f.relativePath]),p=n.concat(f);o.children&&o.children.length>0&&(qt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),ZS(o.children,t,p,h)),!(o.path==null&&!o.index)&&t.push({path:h,score:MO(h,o.index),routesMeta:p})};return e.forEach((o,l)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))a(o,l);else for(let f of JS(o.path))a(o,l,f)}),t}function JS(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(s.length===0)return a?[o,""]:[o];let l=JS(s.join("/")),d=[];return d.push(...l.map(f=>f===""?o:[o,f].join("/"))),a&&d.push(...l),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function TO(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:PO(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var kO=/^:[\w-]+$/,CO=3,AO=2,OO=1,RO=10,DO=-2,U_=e=>e==="*";function MO(e,t){let n=e.split("/"),s=n.length;return n.some(U_)&&(s+=DO),t&&(s+=AO),n.filter(a=>!U_(a)).reduce((a,o)=>a+(kO.test(o)?CO:o===""?OO:RO),s)}function PO(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function LO(e,t,n=!1){let{routesMeta:s}=e,a={},o="/",l=[];for(let d=0;d<s.length;++d){let f=s[d],h=d===s.length-1,p=o==="/"?t:t.slice(o.length)||"/",g=xh({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),b=f.route;if(!g&&h&&n&&!s[s.length-1].route.index&&(g=xh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(a,g.params),l.push({params:a,pathname:aa([o,g.pathname]),pathnameBase:VO(aa([o,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(o=aa([o,g.pathnameBase]))}return l}function xh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=zO(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],l=o.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((h,{paramName:p,isOptional:g},b)=>{if(p==="*"){let w=d[b]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const y=d[b];return g&&!y?h[p]=void 0:h[p]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:e}}function zO(e,t=!1,n=!0){Gn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,f)=>(s.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function UO(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Gn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function jr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function BO({basename:e,pathname:t}){return t==="/"?e:aa([e,t])}function FO(e,t="/"){let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?Ui(e):e;return{pathname:n?n.startsWith("/")?n:HO(n,t):t,search:$O(s),hash:qO(a)}}function HO(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function _g(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function e2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function px(e){let t=e2(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function gx(e,t,n,s=!1){let a;typeof e=="string"?a=Ui(e):(a=L({},e),qt(!a.pathname||!a.pathname.includes("?"),_g("?","pathname","search",a)),qt(!a.pathname||!a.pathname.includes("#"),_g("#","pathname","hash",a)),qt(!a.search||!a.search.includes("#"),_g("#","search","hash",a)));let o=e===""||a.pathname==="",l=o?"/":a.pathname,d;if(l==null)d=n;else{let g=t.length-1;if(!s&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),g-=1;a.pathname=b.join("/")}d=g>=0?t[g]:"/"}let f=FO(a,d),h=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var aa=e=>e.join("/").replace(/\/\/+/g,"/"),VO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$O=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,qO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,yh=class{constructor(e,t,n,s=!1){this.status=e,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Fu(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var t2=["POST","PUT","PATCH","DELETE"],IO=new Set(t2),YO=["GET",...t2],WO=new Set(YO),XO=new Set([301,302,303,307,308]),GO=new Set([307,308]),jg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},KO={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},lu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},QO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xx=e=>QO.test(e),ZO=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),n2="remix-router-transitions",s2=Symbol("ResetLoaderData");function JO(e){const t=e.window?e.window:typeof window!="undefined"?window:void 0,n=typeof t!="undefined"&&typeof t.document!="undefined"&&typeof t.document.createElement!="undefined";qt(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=e.hydrationRouteProperties||[],a=e.mapRouteProperties||ZO,o={},l=Bu(e.routes,a,void 0,o),d,f=e.basename||"/",h=e.dataStrategy||rR,p=L({unstable_middleware:!1},e.future),g=null,b=new Set,y=null,w=null,_=null,j=e.hydrationData!=null,S=vi(l,e.history.location,f),C=!1,R=null,k;if(S==null&&!e.patchRoutesOnNavigation){let G=br(404,{pathname:e.history.location.pathname}),{matches:ae,route:ue}=K_(l);k=!0,S=ae,R={[ue.id]:G}}else if(S&&!e.hydrationData&&Ge(S,l,e.history.location.pathname).active&&(S=null),S)if(S.some(G=>G.route.lazy))k=!1;else if(!S.some(G=>G.route.loader))k=!0;else{let G=e.hydrationData?e.hydrationData.loaderData:null,ae=e.hydrationData?e.hydrationData.errors:null;if(ae){let ue=S.findIndex(je=>ae[je.route.id]!==void 0);k=S.slice(0,ue+1).every(je=>!_0(je.route,G,ae))}else k=S.every(ue=>!_0(ue.route,G,ae))}else{k=!1,S=[];let G=Ge(null,l,e.history.location.pathname);G.active&&G.matches&&(C=!0,S=G.matches)}let O,D={historyAction:e.history.action,location:e.history.location,matches:S,initialized:k,navigation:jg,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||R,fetchers:new Map,blockers:new Map},$="POP",A=!1,B,J=!1,K=new Map,I=null,ee=!1,pe=!1,ne=new Set,V=new Map,te=0,Q=-1,fe=new Map,F=new Set,W=new Map,me=new Map,U=new Set,re=new Map,_e,xe=null;function Ee(){if(g=e.history.listen(({action:G,location:ae,delta:ue})=>{if(_e){_e(),_e=void 0;return}Gn(re.size===0||ue!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let je=ds({currentLocation:D.location,nextLocation:ae,historyAction:G});if(je&&ue!=null){let Ae=new Promise(Ve=>{_e=Ve});e.history.go(ue*-1),Hn(je,{state:"blocked",location:ae,proceed(){Hn(je,{state:"proceeding",proceed:void 0,reset:void 0,location:ae}),Ae.then(()=>e.history.go(ue))},reset(){let Ve=new Map(D.blockers);Ve.set(je,lu),Le({blockers:Ve})}});return}return Pe(G,ae)}),n){pR(t,K);let G=()=>gR(t,K);t.addEventListener("pagehide",G),I=()=>t.removeEventListener("pagehide",G)}return D.initialized||Pe("POP",D.location,{initialHydration:!0}),O}function Oe(){g&&g(),I&&I(),b.clear(),B&&B.abort(),D.fetchers.forEach((G,ae)=>yt(ae)),D.blockers.forEach((G,ae)=>as(ae))}function $e(G){return b.add(G),()=>b.delete(G)}function Le(G,ae={}){G.matches&&(G.matches=G.matches.map(Ae=>{let Ve=o[Ae.route.id],Ze=Ae.route;return Ze.element!==Ve.element||Ze.errorElement!==Ve.errorElement||Ze.hydrateFallbackElement!==Ve.hydrateFallbackElement?de(L({},Ae),{route:Ve}):Ae})),D=L(L({},D),G);let ue=[],je=[];D.fetchers.forEach((Ae,Ve)=>{Ae.state==="idle"&&(U.has(Ve)?ue.push(Ve):je.push(Ve))}),U.forEach(Ae=>{!D.fetchers.has(Ae)&&!V.has(Ae)&&ue.push(Ae)}),[...b].forEach(Ae=>Ae(D,{deletedFetchers:ue,viewTransitionOpts:ae.viewTransitionOpts,flushSync:ae.flushSync===!0})),ue.forEach(Ae=>yt(Ae)),je.forEach(Ae=>D.fetchers.delete(Ae))}function lt(G,ae,{flushSync:ue}={}){var rt,wt;let je=D.actionData!=null&&D.navigation.formMethod!=null&&Hs(D.navigation.formMethod)&&D.navigation.state==="loading"&&((rt=G.state)==null?void 0:rt._isRedirect)!==!0,Ae;ae.actionData?Object.keys(ae.actionData).length>0?Ae=ae.actionData:Ae=null:je?Ae=D.actionData:Ae=null;let Ve=ae.loaderData?X_(D.loaderData,ae.loaderData,ae.matches||[],ae.errors):D.loaderData,Ze=D.blockers;Ze.size>0&&(Ze=new Map(Ze),Ze.forEach((Ct,fn)=>Ze.set(fn,lu)));let nt=ee?!1:en(G,ae.matches||D.matches),ut=A===!0||D.navigation.formMethod!=null&&Hs(D.navigation.formMethod)&&((wt=G.state)==null?void 0:wt._isRedirect)!==!0;d&&(l=d,d=void 0),ee||$==="POP"||($==="PUSH"?e.history.push(G,G.state):$==="REPLACE"&&e.history.replace(G,G.state));let At;if($==="POP"){let Ct=K.get(D.location.pathname);Ct&&Ct.has(G.pathname)?At={currentLocation:D.location,nextLocation:G}:K.has(G.pathname)&&(At={currentLocation:G,nextLocation:D.location})}else if(J){let Ct=K.get(D.location.pathname);Ct?Ct.add(G.pathname):(Ct=new Set([G.pathname]),K.set(D.location.pathname,Ct)),At={currentLocation:D.location,nextLocation:G}}Le(de(L({},ae),{actionData:Ae,loaderData:Ve,historyAction:$,location:G,initialized:!0,navigation:jg,revalidation:"idle",restoreScrollPosition:nt,preventScrollReset:ut,blockers:Ze}),{viewTransitionOpts:At,flushSync:ue===!0}),$="POP",A=!1,J=!1,ee=!1,pe=!1,xe==null||xe.resolve(),xe=null}function Ke(G,ae){return ye(this,null,function*(){if(typeof G=="number"){e.history.go(G);return}let ue=w0(D.location,D.matches,f,G,ae==null?void 0:ae.fromRouteId,ae==null?void 0:ae.relative),{path:je,submission:Ae,error:Ve}=B_(!1,ue,ae),Ze=D.location,nt=Uu(D.location,je,ae&&ae.state);nt=L(L({},nt),e.history.encodeLocation(nt));let ut=ae&&ae.replace!=null?ae.replace:void 0,At="PUSH";ut===!0?At="REPLACE":ut===!1||Ae!=null&&Hs(Ae.formMethod)&&Ae.formAction===D.location.pathname+D.location.search&&(At="REPLACE");let rt=ae&&"preventScrollReset"in ae?ae.preventScrollReset===!0:void 0,wt=(ae&&ae.flushSync)===!0,Ct=ds({currentLocation:Ze,nextLocation:nt,historyAction:At});if(Ct){Hn(Ct,{state:"blocked",location:nt,proceed(){Hn(Ct,{state:"proceeding",proceed:void 0,reset:void 0,location:nt}),Ke(G,ae)},reset(){let fn=new Map(D.blockers);fn.set(Ct,lu),Le({blockers:fn})}});return}yield Pe(At,nt,{submission:Ae,pendingError:Ve,preventScrollReset:rt,replace:ae&&ae.replace,enableViewTransition:ae&&ae.viewTransition,flushSync:wt})})}function pt(){xe||(xe=xR()),Re(),Le({revalidation:"loading"});let G=xe.promise;return D.navigation.state==="submitting"?G:D.navigation.state==="idle"?(Pe(D.historyAction,D.location,{startUninterruptedRevalidation:!0}),G):(Pe($||D.historyAction,D.navigation.location,{overrideNavigation:D.navigation,enableViewTransition:J===!0}),G)}function Pe(G,ae,ue){return ye(this,null,function*(){B&&B.abort(),B=null,$=G,ee=(ue&&ue.startUninterruptedRevalidation)===!0,Nt(D.location,D.matches),A=(ue&&ue.preventScrollReset)===!0,J=(ue&&ue.enableViewTransition)===!0;let je=d||l,Ae=ue&&ue.overrideNavigation,Ve=ue!=null&&ue.initialHydration&&D.matches&&D.matches.length>0&&!C?D.matches:vi(je,ae,f),Ze=(ue&&ue.flushSync)===!0;if(Ve&&D.initialized&&!pe&&uR(D.location,ae)&&!(ue&&ue.submission&&Hs(ue.submission.formMethod))){lt(ae,{matches:Ve},{flushSync:Ze});return}let nt=Ge(Ve,je,ae.pathname);if(nt.active&&nt.matches&&(Ve=nt.matches),!Ve){let{error:an,notFoundMatches:at,route:Et}=Xe(ae.pathname);lt(ae,{matches:at,loaderData:{},errors:{[Et.id]:an}},{flushSync:Ze});return}B=new AbortController;let ut=Ml(e.history,ae,B.signal,ue&&ue.submission),At=new z_(e.unstable_getContext?yield e.unstable_getContext():void 0),rt;if(ue&&ue.pendingError)rt=[vo(Ve).route.id,{type:"error",error:ue.pendingError}];else if(ue&&ue.submission&&Hs(ue.submission.formMethod)){let an=yield ht(ut,ae,ue.submission,Ve,At,nt.active,ue&&ue.initialHydration===!0,{replace:ue.replace,flushSync:Ze});if(an.shortCircuited)return;if(an.pendingActionResult){let[at,Et]=an.pendingActionResult;if(Js(Et)&&Fu(Et.error)&&Et.error.status===404){B=null,lt(ae,{matches:an.matches,loaderData:{},errors:{[at]:Et.error}});return}}Ve=an.matches||Ve,rt=an.pendingActionResult,Ae=Sg(ae,ue.submission),Ze=!1,nt.active=!1,ut=Ml(e.history,ut.url,ut.signal)}let{shortCircuited:wt,matches:Ct,loaderData:fn,errors:An}=yield Ft(ut,ae,Ve,At,nt.active,Ae,ue&&ue.submission,ue&&ue.fetcherSubmission,ue&&ue.replace,ue&&ue.initialHydration===!0,Ze,rt);wt||(B=null,lt(ae,de(L({matches:Ct||Ve},G_(rt)),{loaderData:fn,errors:An})))})}function ht(ut,At,rt,wt,Ct,fn,An){return ye(this,arguments,function*(G,ae,ue,je,Ae,Ve,Ze,nt={}){Re();let an=hR(ae,ue);if(Le({navigation:an},{flushSync:nt.flushSync===!0}),Ve){let Gt=yield jt(je,ae.pathname,G.signal);if(Gt.type==="aborted")return{shortCircuited:!0};if(Gt.type==="error"){let wn=vo(Gt.partialMatches).route.id;return{matches:Gt.partialMatches,pendingActionResult:[wn,{type:"error",error:Gt.error}]}}else if(Gt.matches)je=Gt.matches;else{let{notFoundMatches:wn,error:On,route:Kn}=Xe(ae.pathname);return{matches:wn,pendingActionResult:[Kn.id,{type:"error",error:On}]}}}let at,Et=nh(je,ae);if(!Et.route.action&&!Et.route.lazy)at={type:"error",error:br(405,{method:G.method,pathname:ae.pathname,routeId:Et.route.id})};else{let Gt=Ul(a,o,G,je,Et,Ze?[]:s,Ae),wn=yield Se(G,Gt,Ae,null);if(at=wn[Et.route.id],!at){for(let On of je)if(wn[On.route.id]){at=wn[On.route.id];break}}if(G.signal.aborted)return{shortCircuited:!0}}if(No(at)){let Gt;return nt&&nt.replace!=null?Gt=nt.replace:Gt=I_(at.response.headers.get("Location"),new URL(G.url),f)===D.location.pathname+D.location.search,yield q(G,at,!0,{submission:ue,replace:Gt}),{shortCircuited:!0}}if(Js(at)){let Gt=vo(je,Et.route.id);return(nt&&nt.replace)!==!0&&($="PUSH"),{matches:je,pendingActionResult:[Gt.route.id,at,Et.route.id]}}return{matches:je,pendingActionResult:[Et.route.id,at]}})}function Ft(G,ae,ue,je,Ae,Ve,Ze,nt,ut,At,rt,wt){return ye(this,null,function*(){let Ct=Ve||Sg(ae,Ze),fn=Ze||nt||Z_(Ct),An=!ee&&!At;if(Ae){if(An){let Rn=vt(wt);Le(L({navigation:Ct},Rn!==void 0?{actionData:Rn}:{}),{flushSync:rt})}let Rt=yield jt(ue,ae.pathname,G.signal);if(Rt.type==="aborted")return{shortCircuited:!0};if(Rt.type==="error"){let Rn=vo(Rt.partialMatches).route.id;return{matches:Rt.partialMatches,loaderData:{},errors:{[Rn]:Rt.error}}}else if(Rt.matches)ue=Rt.matches;else{let{error:Rn,notFoundMatches:ha,route:fs}=Xe(ae.pathname);return{matches:ha,loaderData:{},errors:{[fs.id]:Rn}}}}let an=d||l,{dsMatches:at,revalidatingFetchers:Et}=F_(G,je,a,o,e.history,D,ue,fn,ae,At?[]:s,At===!0,pe,ne,U,W,F,an,f,e.patchRoutesOnNavigation!=null,wt);if(Q=++te,!e.dataStrategy&&!at.some(Rt=>Rt.shouldLoad)&&Et.length===0){let Rt=He();return lt(ae,L(L({matches:ue,loaderData:{},errors:wt&&Js(wt[1])?{[wt[0]]:wt[1].error}:null},G_(wt)),Rt?{fetchers:new Map(D.fetchers)}:{}),{flushSync:rt}),{shortCircuited:!0}}if(An){let Rt={};if(!Ae){Rt.navigation=Ct;let Rn=vt(wt);Rn!==void 0&&(Rt.actionData=Rn)}Et.length>0&&(Rt.fetchers=Dt(Et)),Le(Rt,{flushSync:rt})}Et.forEach(Rt=>{ct(Rt.key),Rt.controller&&V.set(Rt.key,Rt.controller)});let Gt=()=>Et.forEach(Rt=>ct(Rt.key));B&&B.signal.addEventListener("abort",Gt);let{loaderResults:wn,fetcherResults:On}=yield De(at,Et,G,je);if(G.signal.aborted)return{shortCircuited:!0};B&&B.signal.removeEventListener("abort",Gt),Et.forEach(Rt=>V.delete(Rt.key));let Kn=vf(wn);if(Kn)return yield q(G,Kn.result,!0,{replace:ut}),{shortCircuited:!0};if(Kn=vf(On),Kn)return F.add(Kn.key),yield q(G,Kn.result,!0,{replace:ut}),{shortCircuited:!0};let{loaderData:is,errors:or}=W_(D,ue,wn,wt,Et,On);At&&D.errors&&(or=L(L({},D.errors),or));let lr=He(),_s=Mt(Q),cr=lr||_s||Et.length>0;return L({matches:ue,loaderData:is,errors:or},cr?{fetchers:new Map(D.fetchers)}:{})})}function vt(G){if(G&&!Js(G[1]))return{[G[0]]:G[1].data};if(D.actionData)return Object.keys(D.actionData).length===0?null:D.actionData}function Dt(G){return G.forEach(ae=>{let ue=D.fetchers.get(ae.key),je=cu(void 0,ue?ue.data:void 0);D.fetchers.set(ae.key,je)}),new Map(D.fetchers)}function St(G,ae,ue,je){return ye(this,null,function*(){ct(G);let Ae=(je&&je.flushSync)===!0,Ve=d||l,Ze=w0(D.location,D.matches,f,ue,ae,je==null?void 0:je.relative),nt=vi(Ve,Ze,f),ut=Ge(nt,Ve,Ze);if(ut.active&&ut.matches&&(nt=ut.matches),!nt){Ie(G,ae,br(404,{pathname:Ze}),{flushSync:Ae});return}let{path:At,submission:rt,error:wt}=B_(!0,Ze,je);if(wt){Ie(G,ae,wt,{flushSync:Ae});return}let Ct=new z_(e.unstable_getContext?yield e.unstable_getContext():void 0),fn=(je&&je.preventScrollReset)===!0;if(rt&&Hs(rt.formMethod)){yield Y(G,ae,At,nt,Ct,ut.active,Ae,fn,rt);return}W.set(G,{routeId:ae,path:At}),yield le(G,ae,At,nt,Ct,ut.active,Ae,fn,rt)})}function Y(G,ae,ue,je,Ae,Ve,Ze,nt,ut){return ye(this,null,function*(){Re(),W.delete(G);let At=D.fetchers.get(G);Fe(G,mR(ut,At),{flushSync:Ze});let rt=new AbortController,wt=Ml(e.history,ue,rt.signal,ut);if(Ve){let gn=yield jt(je,new URL(wt.url).pathname,wt.signal,G);if(gn.type==="aborted")return;if(gn.type==="error"){Ie(G,ae,gn.error,{flushSync:Ze});return}else if(gn.matches)je=gn.matches;else{Ie(G,ae,br(404,{pathname:ue}),{flushSync:Ze});return}}let Ct=nh(je,ue);if(!Ct.route.action&&!Ct.route.lazy){let gn=br(405,{method:ut.formMethod,pathname:ue,routeId:ae});Ie(G,ae,gn,{flushSync:Ze});return}V.set(G,rt);let fn=te,An=Ul(a,o,wt,je,Ct,s,Ae),at=(yield Se(wt,An,Ae,G))[Ct.route.id];if(wt.signal.aborted){V.get(G)===rt&&V.delete(G);return}if(U.has(G)){if(No(at)||Js(at)){Fe(G,yi(void 0));return}}else{if(No(at))if(V.delete(G),Q>fn){Fe(G,yi(void 0));return}else return F.add(G),Fe(G,cu(ut)),q(wt,at,!1,{fetcherSubmission:ut,preventScrollReset:nt});if(Js(at)){Ie(G,ae,at.error);return}}let Et=D.navigation.location||D.location,Gt=Ml(e.history,Et,rt.signal),wn=d||l,On=D.navigation.state!=="idle"?vi(wn,D.navigation.location,f):D.matches;qt(On,"Didn't find any matches after fetcher action");let Kn=++te;fe.set(G,Kn);let is=cu(ut,at.data);D.fetchers.set(G,is);let{dsMatches:or,revalidatingFetchers:lr}=F_(Gt,Ae,a,o,e.history,D,On,ut,Et,s,!1,pe,ne,U,W,F,wn,f,e.patchRoutesOnNavigation!=null,[Ct.route.id,at]);lr.filter(gn=>gn.key!==G).forEach(gn=>{let Er=gn.key,Bo=D.fetchers.get(Er),Fo=cu(void 0,Bo?Bo.data:void 0);D.fetchers.set(Er,Fo),ct(Er),gn.controller&&V.set(Er,gn.controller)}),Le({fetchers:new Map(D.fetchers)});let _s=()=>lr.forEach(gn=>ct(gn.key));rt.signal.addEventListener("abort",_s);let{loaderResults:cr,fetcherResults:Rt}=yield De(or,lr,Gt,Ae);if(rt.signal.aborted)return;if(rt.signal.removeEventListener("abort",_s),fe.delete(G),V.delete(G),lr.forEach(gn=>V.delete(gn.key)),D.fetchers.has(G)){let gn=yi(at.data);D.fetchers.set(G,gn)}let Rn=vf(cr);if(Rn)return q(Gt,Rn.result,!1,{preventScrollReset:nt});if(Rn=vf(Rt),Rn)return F.add(Rn.key),q(Gt,Rn.result,!1,{preventScrollReset:nt});let{loaderData:ha,errors:fs}=W_(D,On,cr,void 0,lr,Rt);Mt(Kn),D.navigation.state==="loading"&&Kn>Q?(qt($,"Expected pending action"),B&&B.abort(),lt(D.navigation.location,{matches:On,loaderData:ha,errors:fs,fetchers:new Map(D.fetchers)})):(Le({errors:fs,loaderData:X_(D.loaderData,ha,On,fs),fetchers:new Map(D.fetchers)}),pe=!1)})}function le(G,ae,ue,je,Ae,Ve,Ze,nt,ut){return ye(this,null,function*(){let At=D.fetchers.get(G);Fe(G,cu(ut,At?At.data:void 0),{flushSync:Ze});let rt=new AbortController,wt=Ml(e.history,ue,rt.signal);if(Ve){let Et=yield jt(je,new URL(wt.url).pathname,wt.signal,G);if(Et.type==="aborted")return;if(Et.type==="error"){Ie(G,ae,Et.error,{flushSync:Ze});return}else if(Et.matches)je=Et.matches;else{Ie(G,ae,br(404,{pathname:ue}),{flushSync:Ze});return}}let Ct=nh(je,ue);V.set(G,rt);let fn=te,An=Ul(a,o,wt,je,Ct,s,Ae),at=(yield Se(wt,An,Ae,G))[Ct.route.id];if(V.get(G)===rt&&V.delete(G),!wt.signal.aborted){if(U.has(G)){Fe(G,yi(void 0));return}if(No(at))if(Q>fn){Fe(G,yi(void 0));return}else{F.add(G),yield q(wt,at,!1,{preventScrollReset:nt});return}if(Js(at)){Ie(G,ae,at.error);return}Fe(G,yi(at.data))}})}function q(nt,ut,At){return ye(this,arguments,function*(G,ae,ue,{submission:je,fetcherSubmission:Ae,preventScrollReset:Ve,replace:Ze}={}){ae.response.headers.has("X-Remix-Revalidate")&&(pe=!0);let rt=ae.response.headers.get("Location");qt(rt,"Expected a Location header on the redirect Response"),rt=I_(rt,new URL(G.url),f);let wt=Uu(D.location,rt,{_isRedirect:!0});if(n){let Et=!1;if(ae.response.headers.has("X-Remix-Reload-Document"))Et=!0;else if(xx(rt)){const Gt=QS(rt,!0);Et=Gt.origin!==t.location.origin||jr(Gt.pathname,f)==null}if(Et){Ze?t.location.replace(rt):t.location.assign(rt);return}}B=null;let Ct=Ze===!0||ae.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:fn,formAction:An,formEncType:an}=D.navigation;!je&&!Ae&&fn&&An&&an&&(je=Z_(D.navigation));let at=je||Ae;if(GO.has(ae.response.status)&&at&&Hs(at.formMethod))yield Pe(Ct,wt,{submission:de(L({},at),{formAction:rt}),preventScrollReset:Ve||A,enableViewTransition:ue?J:void 0});else{let Et=Sg(wt,je);yield Pe(Ct,wt,{overrideNavigation:Et,fetcherSubmission:Ae,preventScrollReset:Ve||A,enableViewTransition:ue?J:void 0})}})}function Se(G,ae,ue,je){return ye(this,null,function*(){let Ae,Ve={};try{Ae=yield aR(h,G,ae,je,ue,!1)}catch(Ze){return ae.filter(nt=>nt.shouldLoad).forEach(nt=>{Ve[nt.route.id]={type:"error",error:Ze}}),Ve}if(G.signal.aborted)return Ve;for(let[Ze,nt]of Object.entries(Ae))if(dR(nt)){let ut=nt.result;Ve[Ze]={type:"redirect",response:lR(ut,G,Ze,ae,f)}}else Ve[Ze]=yield oR(nt);return Ve})}function De(G,ae,ue,je){return ye(this,null,function*(){let Ae=Se(ue,G,je,null),Ve=Promise.all(ae.map(ut=>ye(null,null,function*(){if(ut.matches&&ut.match&&ut.request&&ut.controller){let rt=(yield Se(ut.request,ut.matches,je,ut.key))[ut.match.route.id];return{[ut.key]:rt}}else return Promise.resolve({[ut.key]:{type:"error",error:br(404,{pathname:ut.path})}})}))),Ze=yield Ae,nt=(yield Ve).reduce((ut,At)=>Object.assign(ut,At),{});return{loaderResults:Ze,fetcherResults:nt}})}function Re(){pe=!0,W.forEach((G,ae)=>{V.has(ae)&&ne.add(ae),ct(ae)})}function Fe(G,ae,ue={}){D.fetchers.set(G,ae),Le({fetchers:new Map(D.fetchers)},{flushSync:(ue&&ue.flushSync)===!0})}function Ie(G,ae,ue,je={}){let Ae=vo(D.matches,ae);yt(G),Le({errors:{[Ae.route.id]:ue},fetchers:new Map(D.fetchers)},{flushSync:(je&&je.flushSync)===!0})}function Qe(G){return me.set(G,(me.get(G)||0)+1),U.has(G)&&U.delete(G),D.fetchers.get(G)||KO}function yt(G){let ae=D.fetchers.get(G);V.has(G)&&!(ae&&ae.state==="loading"&&fe.has(G))&&ct(G),W.delete(G),fe.delete(G),F.delete(G),U.delete(G),ne.delete(G),D.fetchers.delete(G)}function bn(G){let ae=(me.get(G)||0)-1;ae<=0?(me.delete(G),U.add(G)):me.set(G,ae),Le({fetchers:new Map(D.fetchers)})}function ct(G){let ae=V.get(G);ae&&(ae.abort(),V.delete(G))}function ke(G){for(let ae of G){let ue=Qe(ae),je=yi(ue.data);D.fetchers.set(ae,je)}}function He(){let G=[],ae=!1;for(let ue of F){let je=D.fetchers.get(ue);qt(je,`Expected fetcher: ${ue}`),je.state==="loading"&&(F.delete(ue),G.push(ue),ae=!0)}return ke(G),ae}function Mt(G){let ae=[];for(let[ue,je]of fe)if(je<G){let Ae=D.fetchers.get(ue);qt(Ae,`Expected fetcher: ${ue}`),Ae.state==="loading"&&(ct(ue),fe.delete(ue),ae.push(ue))}return ke(ae),ae.length>0}function Sn(G,ae){let ue=D.blockers.get(G)||lu;return re.get(G)!==ae&&re.set(G,ae),ue}function as(G){D.blockers.delete(G),re.delete(G)}function Hn(G,ae){let ue=D.blockers.get(G)||lu;qt(ue.state==="unblocked"&&ae.state==="blocked"||ue.state==="blocked"&&ae.state==="blocked"||ue.state==="blocked"&&ae.state==="proceeding"||ue.state==="blocked"&&ae.state==="unblocked"||ue.state==="proceeding"&&ae.state==="unblocked",`Invalid blocker state transition: ${ue.state} -> ${ae.state}`);let je=new Map(D.blockers);je.set(G,ae),Le({blockers:je})}function ds({currentLocation:G,nextLocation:ae,historyAction:ue}){if(re.size===0)return;re.size>1&&Gn(!1,"A router only supports one blocker at a time");let je=Array.from(re.entries()),[Ae,Ve]=je[je.length-1],Ze=D.blockers.get(Ae);if(!(Ze&&Ze.state==="proceeding")&&Ve({currentLocation:G,nextLocation:ae,historyAction:ue}))return Ae}function Xe(G){let ae=br(404,{pathname:G}),ue=d||l,{matches:je,route:Ae}=K_(ue);return{notFoundMatches:je,route:Ae,error:ae}}function Pt(G,ae,ue){if(y=G,_=ae,w=ue||null,!j&&D.navigation===jg){j=!0;let je=en(D.location,D.matches);je!=null&&Le({restoreScrollPosition:je})}return()=>{y=null,_=null,w=null}}function Ht(G,ae){return w&&w(G,ae.map(je=>EO(je,D.loaderData)))||G.key}function Nt(G,ae){if(y&&_){let ue=Ht(G,ae);y[ue]=_()}}function en(G,ae){if(y){let ue=Ht(G,ae),je=y[ue];if(typeof je=="number")return je}return null}function Ge(G,ae,ue){if(e.patchRoutesOnNavigation)if(G){if(Object.keys(G[0].params).length>0)return{active:!0,matches:th(ae,ue,f,!0)}}else return{active:!0,matches:th(ae,ue,f,!0)||[]};return{active:!1,matches:null}}function jt(G,ae,ue,je){return ye(this,null,function*(){if(!e.patchRoutesOnNavigation)return{type:"success",matches:G};let Ae=G;for(;;){let Ve=d==null,Ze=d||l,nt=o;try{yield e.patchRoutesOnNavigation({signal:ue,path:ae,matches:Ae,fetcherKey:je,patch:(rt,wt)=>{ue.aborted||H_(rt,wt,Ze,nt,a,!1)}})}catch(rt){return{type:"error",error:rt,partialMatches:Ae}}finally{Ve&&!ue.aborted&&(l=[...l])}if(ue.aborted)return{type:"aborted"};let ut=vi(Ze,ae,f);if(ut)return{type:"success",matches:ut};let At=th(Ze,ae,f,!0);if(!At||Ae.length===At.length&&Ae.every((rt,wt)=>rt.route.id===At[wt].route.id))return{type:"success",matches:null};Ae=At}})}function It(G){o={},d=Bu(G,a,void 0,o)}function Xt(G,ae,ue=!1){let je=d==null;H_(G,ae,d||l,o,a,ue),je&&(l=[...l],Le({}))}return O={get basename(){return f},get future(){return p},get state(){return D},get routes(){return l},get window(){return t},initialize:Ee,subscribe:$e,enableScrollRestoration:Pt,navigate:Ke,fetch:St,revalidate:pt,createHref:G=>e.history.createHref(G),encodeLocation:G=>e.history.encodeLocation(G),getFetcher:Qe,deleteFetcher:bn,dispose:Oe,getBlocker:Sn,deleteBlocker:as,patchRoutes:Xt,_internalFetchControllers:V,_internalSetRoutes:It,_internalSetStateDoNotUseOrYouWillBreakYourApp(G){Le(G)}},O}function eR(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function w0(e,t,n,s,a,o){let l,d;if(a){l=[];for(let h of t)if(l.push(h),h.route.id===a){d=h;break}}else l=t,d=t[t.length-1];let f=gx(s||".",px(l),jr(e.pathname,n)||e.pathname,o==="path");if(s==null&&(f.search=e.search,f.hash=e.hash),(s==null||s===""||s===".")&&d){let h=yx(f.search);if(d.route.index&&!h)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&h){let p=new URLSearchParams(f.search),g=p.getAll("index");p.delete("index"),g.filter(y=>y).forEach(y=>p.append("index",y));let b=p.toString();f.search=b?`?${b}`:""}}return n!=="/"&&(f.pathname=BO({basename:n,pathname:f.pathname})),ki(f)}function B_(e,t,n){if(!n||!eR(n))return{path:t};if(n.formMethod&&!fR(n.formMethod))return{path:t,error:br(405,{method:n.formMethod})};let s=()=>({path:t,error:br(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),l=c2(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Hs(o))return s();let g=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((b,[y,w])=>`${b}${y}=${w}
`,""):String(n.body);return{path:t,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:g}}}else if(n.formEncType==="application/json"){if(!Hs(o))return s();try{let g=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:g,text:void 0}}}catch(g){return s()}}}qt(typeof FormData=="function","FormData is not available in this environment");let d,f;if(n.formData)d=S0(n.formData),f=n.formData;else if(n.body instanceof FormData)d=S0(n.body),f=n.body;else if(n.body instanceof URLSearchParams)d=n.body,f=Y_(d);else if(n.body==null)d=new URLSearchParams,f=new FormData;else try{d=new URLSearchParams(n.body),f=Y_(d)}catch(g){return s()}let h={formMethod:o,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Hs(h.formMethod))return{path:t,submission:h};let p=Ui(t);return e&&p.search&&yx(p.search)&&d.append("index",""),p.search=`?${d}`,{path:ki(p),submission:h}}function F_(e,t,n,s,a,o,l,d,f,h,p,g,b,y,w,_,j,S,C,R){var ee;let k=R?Js(R[1])?R[1].error:R[1].data:void 0,O=a.createURL(o.location),D=a.createURL(f),$;if(p&&o.errors){let pe=Object.keys(o.errors)[0];$=l.findIndex(ne=>ne.route.id===pe)}else if(R&&Js(R[1])){let pe=R[0];$=l.findIndex(ne=>ne.route.id===pe)-1}let A=R?R[1].statusCode:void 0,B=A&&A>=400,J=de(L({currentUrl:O,currentParams:((ee=o.matches[0])==null?void 0:ee.params)||{},nextUrl:D,nextParams:l[0].params},d),{actionResult:k,actionStatus:A}),K=l.map((pe,ne)=>{let{route:V}=pe,te=null;if($!=null&&ne>$?te=!1:V.lazy?te=!0:V.loader==null?te=!1:p?te=_0(V,o.loaderData,o.errors):tR(o.loaderData,o.matches[ne],pe)&&(te=!0),te!==null)return j0(n,s,e,pe,h,t,te);let Q=B?!1:g||O.pathname+O.search===D.pathname+D.search||O.search!==D.search||nR(o.matches[ne],pe),fe=de(L({},J),{defaultShouldRevalidate:Q}),F=bh(pe,fe);return j0(n,s,e,pe,h,t,F,fe)}),I=[];return w.forEach((pe,ne)=>{if(p||!l.some(U=>U.route.id===pe.routeId)||y.has(ne))return;let V=o.fetchers.get(ne),te=V&&V.state!=="idle"&&V.data===void 0,Q=vi(j,pe.path,S);if(!Q){if(C&&te)return;I.push({key:ne,routeId:pe.routeId,path:pe.path,matches:null,match:null,request:null,controller:null});return}if(_.has(ne))return;let fe=nh(Q,pe.path),F=new AbortController,W=Ml(a,pe.path,F.signal),me=null;if(b.has(ne))b.delete(ne),me=Ul(n,s,W,Q,fe,h,t);else if(te)g&&(me=Ul(n,s,W,Q,fe,h,t));else{let U=de(L({},J),{defaultShouldRevalidate:B?!1:g});bh(fe,U)&&(me=Ul(n,s,W,Q,fe,h,t,U))}me&&I.push({key:ne,routeId:pe.routeId,path:pe.path,matches:me,match:fe,request:W,controller:F})}),{dsMatches:K,revalidatingFetchers:I}}function _0(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let s=t!=null&&e.id in t,a=n!=null&&n[e.id]!==void 0;return!s&&a?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!s&&!a}function tR(e,t,n){let s=!t||n.route.id!==t.route.id,a=!e.hasOwnProperty(n.route.id);return s||a}function nR(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function bh(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function H_(e,t,n,s,a,o){let l;if(e){let h=s[e];qt(h,`No route found to patch children into: routeId = ${e}`),h.children||(h.children=[]),l=h.children}else l=n;let d=[],f=[];if(t.forEach(h=>{let p=l.find(g=>r2(h,g));p?f.push({existingRoute:p,newRoute:h}):d.push(h)}),d.length>0){let h=Bu(d,a,[e||"_","patch",String((l==null?void 0:l.length)||"0")],s);l.push(...h)}if(o&&f.length>0)for(let h=0;h<f.length;h++){let{existingRoute:p,newRoute:g}=f[h],b=p,[y]=Bu([g],a,[],{},!0);Object.assign(b,{element:y.element?y.element:b.element,errorElement:y.errorElement?y.errorElement:b.errorElement,hydrateFallbackElement:y.hydrateFallbackElement?y.hydrateFallbackElement:b.hydrateFallbackElement})}}function r2(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,s)=>{var a;return(a=t.children)==null?void 0:a.some(o=>r2(n,o))}):!1}var V_=new WeakMap,a2=({key:e,route:t,manifest:n,mapRouteProperties:s})=>{let a=n[t.id];if(qt(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let o=a.lazy[e];if(!o)return;let l=V_.get(a);l||(l={},V_.set(a,l));let d=l[e];if(d)return d;let f=ye(null,null,function*(){let h=_O(e),g=a[e]!==void 0&&e!=="hasErrorBoundary";if(h)Gn(!h,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),l[e]=Promise.resolve();else if(g)Gn(!1,`Route "${a.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let b=yield o();b!=null&&(Object.assign(a,{[e]:b}),Object.assign(a,s(a)))}typeof a.lazy=="object"&&(a.lazy[e]=void 0,Object.values(a.lazy).every(b=>b===void 0)&&(a.lazy=void 0))});return l[e]=f,f},$_=new WeakMap;function sR(e,t,n,s,a){let o=n[e.id];if(qt(o,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let p=$_.get(o);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let g=ye(null,null,function*(){qt(typeof e.lazy=="function","No lazy route function found");let b=yield e.lazy(),y={};for(let w in b){let _=b[w];if(_===void 0)continue;let j=SO(w),C=o[w]!==void 0&&w!=="hasErrorBoundary";j?Gn(!j,"Route property "+w+" is not a supported property to be returned from a lazy route function. This property will be ignored."):C?Gn(!C,`Route "${o.id}" has a static property "${w}" defined but its lazy function is also returning a value for this property. The lazy route property "${w}" will be ignored.`):y[w]=_}Object.assign(o,y),Object.assign(o,de(L({},s(o)),{lazy:void 0}))});return $_.set(o,g),g.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:g}}let l=Object.keys(e.lazy),d=[],f;for(let p of l){if(a&&a.includes(p))continue;let g=a2({key:p,route:e,manifest:n,mapRouteProperties:s});g&&(d.push(g),p===t&&(f=g))}let h=d.length>0?Promise.all(d).then(()=>{}):void 0;return h==null||h.catch(()=>{}),f==null||f.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:f}}function q_(e){return ye(this,null,function*(){let t=e.matches.filter(a=>a.shouldLoad),n={};return(yield Promise.all(t.map(a=>a.resolve()))).forEach((a,o)=>{n[t[o].route.id]=a}),n})}function rR(e){return ye(this,null,function*(){return e.matches.some(t=>t.route.unstable_middleware)?i2(e,!1,()=>q_(e),(t,n)=>({[n]:{type:"error",result:t}})):q_(e)})}function i2(e,t,n,s){return ye(this,null,function*(){let{matches:a,request:o,params:l,context:d}=e,f={handlerResult:void 0};try{let h=a.flatMap(g=>g.route.unstable_middleware?g.route.unstable_middleware.map(b=>[g.route.id,b]):[]),p=yield o2({request:o,params:l,context:d},h,t,f,n);return t?p:f.handlerResult}catch(h){if(!f.middlewareError)throw h;let p=yield s(f.middlewareError.error,f.middlewareError.routeId);return f.handlerResult?Object.assign(f.handlerResult,p):p}})}function o2(e,t,n,s,a,o=0){return ye(this,null,function*(){let{request:l}=e;if(l.signal.aborted)throw l.signal.reason?l.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${l.method} ${l.url}`);let d=t[o];if(!d)return s.handlerResult=yield a(),s.handlerResult;let[f,h]=d,p=!1,g,b=()=>ye(null,null,function*(){if(p)throw new Error("You may only call `next()` once per middleware");p=!0,yield o2(e,t,n,s,a,o+1)});try{let y=yield h({request:e.request,params:e.params,context:e.context},b);return p?y===void 0?g:y:b()}catch(y){throw s.middlewareError?s.middlewareError.error!==y&&(s.middlewareError={routeId:f,error:y}):s.middlewareError={routeId:f,error:y},y}})}function l2(e,t,n,s,a){let o=a2({key:"unstable_middleware",route:s.route,manifest:t,mapRouteProperties:e}),l=sR(s.route,Hs(n.method)?"action":"loader",t,e,a);return{middleware:o,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function j0(e,t,n,s,a,o,l,d=null){let f=!1,h=l2(e,t,n,s,a);return de(L({},s),{_lazyPromises:h,shouldLoad:l,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(p){return f=!0,d?typeof p=="boolean"?bh(s,de(L({},d),{defaultShouldRevalidate:p})):bh(s,d):l},resolve(p){return f||l||p&&!Hs(n.method)&&(s.route.lazy||s.route.loader)?iR({request:n,match:s,lazyHandlerPromise:h==null?void 0:h.handler,lazyRoutePromise:h==null?void 0:h.route,handlerOverride:p,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}})}function Ul(e,t,n,s,a,o,l,d=null){return s.map(f=>f.route.id!==a.route.id?de(L({},f),{shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:l2(e,t,n,f,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}):j0(e,t,n,f,o,l,!0,d))}function aR(e,t,n,s,a,o){return ye(this,null,function*(){n.some(h=>{var p;return(p=h._lazyPromises)==null?void 0:p.middleware})&&(yield Promise.all(n.map(h=>{var p;return(p=h._lazyPromises)==null?void 0:p.middleware})));let l={request:t,params:n[0].params,context:a,matches:n},d=h=>{let p=l;return i2(p,!1,()=>h(de(L({},p),{fetcherKey:s,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})),(g,b)=>({[b]:{type:"error",result:g}}))},f=yield e(de(L({},l),{fetcherKey:s,unstable_runClientMiddleware:d}));try{yield Promise.all(n.flatMap(h=>{var p,g;return[(p=h._lazyPromises)==null?void 0:p.handler,(g=h._lazyPromises)==null?void 0:g.route]}))}catch(h){}return f})}function iR(l){return ye(this,arguments,function*({request:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:s,handlerOverride:a,scopedContext:o}){let d,f,h=Hs(e.method),p=h?"action":"loader",g=b=>{let y,w=new Promise((S,C)=>y=C);f=()=>y(),e.signal.addEventListener("abort",f);let _=S=>typeof b!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${t.route.id}]`)):b({request:e,params:t.params,context:o},...S!==void 0?[S]:[]),j=ye(null,null,function*(){try{return{type:"data",result:yield a?a(C=>_(C)):_()}}catch(S){return{type:"error",result:S}}});return Promise.race([j,w])};try{let b=h?t.route.action:t.route.loader;if(n||s)if(b){let y,[w]=yield Promise.all([g(b).catch(_=>{y=_}),n,s]);if(y!==void 0)throw y;d=w}else{yield n;let y=h?t.route.action:t.route.loader;if(y)[d]=yield Promise.all([g(y),s]);else if(p==="action"){let w=new URL(e.url),_=w.pathname+w.search;throw br(405,{method:e.method,pathname:_,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(b)d=yield g(b);else{let y=new URL(e.url),w=y.pathname+y.search;throw br(404,{pathname:w})}}catch(b){return{type:"error",result:b}}finally{f&&e.signal.removeEventListener("abort",f)}return d})}function oR(e){return ye(this,null,function*(){var s,a,o,l,d,f;let{result:t,type:n}=e;if(u2(t)){let h;try{let p=t.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?t.body==null?h=null:h=yield t.json():h=yield t.text()}catch(p){return{type:"error",error:p}}return n==="error"?{type:"error",error:new yh(t.status,t.statusText,h),statusCode:t.status,headers:t.headers}:{type:"data",data:h,statusCode:t.status,headers:t.headers}}return n==="error"?Q_(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(s=t.init)==null?void 0:s.status,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new yh(((o=t.init)==null?void 0:o.status)||500,void 0,t.data),statusCode:Fu(t)?t.status:void 0,headers:(l=t.init)!=null&&l.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Fu(t)?t.status:void 0}:Q_(t)?{type:"data",data:t.data,statusCode:(d=t.init)==null?void 0:d.status,headers:(f=t.init)!=null&&f.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}})}function lR(e,t,n,s,a){let o=e.headers.get("Location");if(qt(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!xx(o)){let l=s.slice(0,s.findIndex(d=>d.route.id===n)+1);o=w0(new URL(t.url),l,a,o),e.headers.set("Location",o)}return e}function I_(e,t,n){if(xx(e)){let s=e,a=s.startsWith("//")?new URL(t.protocol+s):new URL(s),o=jr(a.pathname,n)!=null;if(a.origin===t.origin&&o)return a.pathname+a.search+a.hash}return e}function Ml(e,t,n,s){let a=e.createURL(c2(t)).toString(),o={signal:n};if(s&&Hs(s.formMethod)){let{formMethod:l,formEncType:d}=s;o.method=l.toUpperCase(),d==="application/json"?(o.headers=new Headers({"Content-Type":d}),o.body=JSON.stringify(s.json)):d==="text/plain"?o.body=s.text:d==="application/x-www-form-urlencoded"&&s.formData?o.body=S0(s.formData):o.body=s.formData}return new Request(a,o)}function S0(e){let t=new URLSearchParams;for(let[n,s]of e.entries())t.append(n,typeof s=="string"?s:s.name);return t}function Y_(e){let t=new FormData;for(let[n,s]of e.entries())t.append(n,s);return t}function cR(e,t,n,s=!1,a=!1){let o={},l=null,d,f=!1,h={},p=n&&Js(n[1])?n[1].error:void 0;return e.forEach(g=>{if(!(g.route.id in t))return;let b=g.route.id,y=t[b];if(qt(!No(y),"Cannot handle redirect results in processLoaderData"),Js(y)){let w=y.error;if(p!==void 0&&(w=p,p=void 0),l=l||{},a)l[b]=w;else{let _=vo(e,b);l[_.route.id]==null&&(l[_.route.id]=w)}s||(o[b]=s2),f||(f=!0,d=Fu(y.error)?y.error.status:500),y.headers&&(h[b]=y.headers)}else o[b]=y.data,y.statusCode&&y.statusCode!==200&&!f&&(d=y.statusCode),y.headers&&(h[b]=y.headers)}),p!==void 0&&n&&(l={[n[0]]:p},n[2]&&(o[n[2]]=void 0)),{loaderData:o,errors:l,statusCode:d||200,loaderHeaders:h}}function W_(e,t,n,s,a,o){let{loaderData:l,errors:d}=cR(t,n,s);return a.filter(f=>!f.matches||f.matches.some(h=>h.shouldLoad)).forEach(f=>{let{key:h,match:p,controller:g}=f,b=o[h];if(qt(b,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(Js(b)){let y=vo(e.matches,p==null?void 0:p.route.id);d&&d[y.route.id]||(d=de(L({},d),{[y.route.id]:b.error})),e.fetchers.delete(h)}else if(No(b))qt(!1,"Unhandled fetcher revalidation redirect");else{let y=yi(b.data);e.fetchers.set(h,y)}}),{loaderData:l,errors:d}}function X_(e,t,n,s){let a=Object.entries(t).filter(([,o])=>o!==s2).reduce((o,[l,d])=>(o[l]=d,o),{});for(let o of n){let l=o.route.id;if(!t.hasOwnProperty(l)&&e.hasOwnProperty(l)&&o.route.loader&&(a[l]=e[l]),s&&s.hasOwnProperty(l))break}return a}function G_(e){return e?Js(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function vo(e,t){return(t?e.slice(0,e.findIndex(s=>s.route.id===t)+1):[...e]).reverse().find(s=>s.route.hasErrorBoundary===!0)||e[0]}function K_(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function br(e,{pathname:t,routeId:n,method:s,type:a,message:o}={}){let l="Unknown Server Error",d="Unknown @remix-run/router error";return e===400?(l="Bad Request",s&&t&&n?d=`You made a ${s} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:a==="invalid-body"&&(d="Unable to encode submission body")):e===403?(l="Forbidden",d=`Route "${n}" does not match URL "${t}"`):e===404?(l="Not Found",d=`No route matches URL "${t}"`):e===405&&(l="Method Not Allowed",s&&t&&n?d=`You made a ${s.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:s&&(d=`Invalid request method "${s.toUpperCase()}"`)),new yh(e||500,l,new Error(d),!0)}function vf(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[s,a]=t[n];if(No(a))return{key:s,result:a}}}function c2(e){let t=typeof e=="string"?Ui(e):e;return ki(de(L({},t),{hash:""}))}function uR(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function dR(e){return u2(e.result)&&XO.has(e.result.status)}function Js(e){return e.type==="error"}function No(e){return(e&&e.type)==="redirect"}function Q_(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function u2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body!="undefined"}function fR(e){return WO.has(e.toUpperCase())}function Hs(e){return IO.has(e.toUpperCase())}function yx(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function nh(e,t){let n=typeof t=="string"?Ui(t).search:t.search;if(e[e.length-1].route.index&&yx(n||""))return e[e.length-1];let s=e2(e);return s[s.length-1]}function Z_(e){let{formMethod:t,formAction:n,formEncType:s,text:a,formData:o,json:l}=e;if(!(!t||!n||!s)){if(a!=null)return{formMethod:t,formAction:n,formEncType:s,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:t,formAction:n,formEncType:s,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:t,formAction:n,formEncType:s,formData:void 0,json:l,text:void 0}}}function Sg(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function hR(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function cu(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function mR(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function yi(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function pR(e,t){try{let n=e.sessionStorage.getItem(n2);if(n){let s=JSON.parse(n);for(let[a,o]of Object.entries(s||{}))o&&Array.isArray(o)&&t.set(a,new Set(o||[]))}}catch(n){}}function gR(e,t){if(t.size>0){let n={};for(let[s,a]of t)n[s]=[...a];try{e.sessionStorage.setItem(n2,JSON.stringify(n))}catch(s){Gn(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function xR(){let e,t,n=new Promise((s,a)=>{e=o=>ye(null,null,function*(){s(o);try{yield n}catch(l){}}),t=o=>ye(null,null,function*(){a(o);try{yield n}catch(l){}})});return{promise:n,resolve:e,reject:t}}var zo=N.createContext(null);zo.displayName="DataRouter";var Ku=N.createContext(null);Ku.displayName="DataRouterState";N.createContext(!1);var bx=N.createContext({isTransitioning:!1});bx.displayName="ViewTransition";var d2=N.createContext(new Map);d2.displayName="Fetchers";var yR=N.createContext(null);yR.displayName="Await";var ua=N.createContext(null);ua.displayName="Navigation";var Vh=N.createContext(null);Vh.displayName="Location";var da=N.createContext({outlet:null,matches:[],isDataRoute:!1});da.displayName="Route";var vx=N.createContext(null);vx.displayName="RouteError";function bR(e,{relative:t}={}){qt(Qu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=N.useContext(ua),{hash:a,pathname:o,search:l}=Zu(e,{relative:t}),d=o;return n!=="/"&&(d=o==="/"?n:aa([n,o])),s.createHref({pathname:d,search:l,hash:a})}function Qu(){return N.useContext(Vh)!=null}function Bi(){return qt(Qu(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Vh).location}var f2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function h2(e){N.useContext(ua).static||N.useLayoutEffect(e)}function vR(){let{isDataRoute:e}=N.useContext(da);return e?PR():wR()}function wR(){qt(Qu(),"useNavigate() may be used only in the context of a <Router> component.");let e=N.useContext(zo),{basename:t,navigator:n}=N.useContext(ua),{matches:s}=N.useContext(da),{pathname:a}=Bi(),o=JSON.stringify(px(s)),l=N.useRef(!1);return h2(()=>{l.current=!0}),N.useCallback((f,h={})=>{if(Gn(l.current,f2),!l.current)return;if(typeof f=="number"){n.go(f);return}let p=gx(f,JSON.parse(o),a,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:aa([t,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[t,n,o,a,e])}var _R=N.createContext(null);function jR(e){let t=N.useContext(da).outlet;return t&&N.createElement(_R.Provider,{value:e},t)}function Zu(e,{relative:t}={}){let{matches:n}=N.useContext(da),{pathname:s}=Bi(),a=JSON.stringify(px(n));return N.useMemo(()=>gx(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function SR(e,t,n,s){qt(Qu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=N.useContext(ua),{matches:o}=N.useContext(da),l=o[o.length-1],d=l?l.params:{},f=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let S=p&&p.path||"";m2(f,!p||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let g=Bi(),b;b=g;let y=b.pathname||"/",w=y;if(h!=="/"){let S=h.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(S.length).join("/")}let _=vi(e,{pathname:w});return Gn(p||_!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Gn(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),CR(_&&_.map(S=>Object.assign({},S,{params:Object.assign({},d,S.params),pathname:aa([h,a.encodeLocation?a.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?h:aa([h,a.encodeLocation?a.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),o,n,s)}function NR(){let e=MR(),t=Fu(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:o},"ErrorBoundary")," or"," ",N.createElement("code",{style:o},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),n?N.createElement("pre",{style:a},n):null,l)}var ER=N.createElement(NR,null),TR=class extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?N.createElement(da.Provider,{value:this.props.routeContext},N.createElement(vx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kR({routeContext:e,match:t,children:n}){let s=N.useContext(zo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(da.Provider,{value:e},n)}function CR(e,t=[],n=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n==null?void 0:n.errors;if(o!=null){let f=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);qt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,d=-1;if(n)for(let f=0;f<a.length;f++){let h=a[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=f),h.route.id){let{loaderData:p,errors:g}=n,b=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||b){l=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,h,p)=>{let g,b=!1,y=null,w=null;n&&(g=o&&h.route.id?o[h.route.id]:void 0,y=h.route.errorElement||ER,l&&(d<0&&p===0?(m2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,w=null):d===p&&(b=!0,w=h.route.hydrateFallbackElement||null)));let _=t.concat(a.slice(0,p+1)),j=()=>{let S;return g?S=y:b?S=w:h.route.Component?S=N.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=f,N.createElement(kR,{match:h,routeContext:{outlet:f,matches:_,isDataRoute:n!=null},children:S})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?N.createElement(TR,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:j(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):j()},null)}function wx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AR(e){let t=N.useContext(zo);return qt(t,wx(e)),t}function OR(e){let t=N.useContext(Ku);return qt(t,wx(e)),t}function RR(e){let t=N.useContext(da);return qt(t,wx(e)),t}function _x(e){let t=RR(e),n=t.matches[t.matches.length-1];return qt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function DR(){return _x("useRouteId")}function MR(){var s;let e=N.useContext(vx),t=OR("useRouteError"),n=_x("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function PR(){let{router:e}=AR("useNavigate"),t=_x("useNavigate"),n=N.useRef(!1);return h2(()=>{n.current=!0}),N.useCallback((l,...d)=>ye(null,[l,...d],function*(a,o={}){Gn(n.current,f2),n.current&&(typeof a=="number"?e.navigate(a):yield e.navigate(a,L({fromRouteId:t},o)))}),[e,t])}var J_={};function m2(e,t,n){!t&&!J_[e]&&(J_[e]=!0,Gn(!1,n))}var e1={};function t1(e,t){!e&&!e1[t]&&(e1[t]=!0,console.warn(t))}function LR(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Gn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:N.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Gn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:N.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Gn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:N.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var zR=["HydrateFallback","hydrateFallbackElement"],UR=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",t(n))}})}};function BR({router:e,flushSync:t}){let[n,s]=N.useState(e.state),[a,o]=N.useState(),[l,d]=N.useState({isTransitioning:!1}),[f,h]=N.useState(),[p,g]=N.useState(),[b,y]=N.useState(),w=N.useRef(new Map),_=N.useCallback((R,{deletedFetchers:k,flushSync:O,viewTransitionOpts:D})=>{R.fetchers.forEach((A,B)=>{A.data!==void 0&&w.current.set(B,A.data)}),k.forEach(A=>w.current.delete(A)),t1(O===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let $=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(t1(D==null||$,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!D||!$){t&&O?t(()=>s(R)):N.startTransition(()=>s(R));return}if(t&&O){t(()=>{p&&(f&&f.resolve(),p.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation})});let A=e.window.document.startViewTransition(()=>{t(()=>s(R))});A.finished.finally(()=>{t(()=>{h(void 0),g(void 0),o(void 0),d({isTransitioning:!1})})}),t(()=>g(A));return}p?(f&&f.resolve(),p.skipTransition(),y({state:R,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(o(R),d({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[e.window,t,p,f]);N.useLayoutEffect(()=>e.subscribe(_),[e,_]),N.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new UR)},[l]),N.useEffect(()=>{if(f&&a&&e.window){let R=a,k=f.promise,O=e.window.document.startViewTransition(()=>ye(null,null,function*(){N.startTransition(()=>s(R)),yield k}));O.finished.finally(()=>{h(void 0),g(void 0),o(void 0),d({isTransitioning:!1})}),g(O)}},[a,f,e.window]),N.useEffect(()=>{f&&a&&n.location.key===a.location.key&&f.resolve()},[f,p,n.location,a]),N.useEffect(()=>{!l.isTransitioning&&b&&(o(b.state),d({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),y(void 0))},[l.isTransitioning,b]);let j=N.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:R=>e.navigate(R),push:(R,k,O)=>e.navigate(R,{state:k,preventScrollReset:O==null?void 0:O.preventScrollReset}),replace:(R,k,O)=>e.navigate(R,{replace:!0,state:k,preventScrollReset:O==null?void 0:O.preventScrollReset})}),[e]),S=e.basename||"/",C=N.useMemo(()=>({router:e,navigator:j,static:!1,basename:S}),[e,j,S]);return N.createElement(N.Fragment,null,N.createElement(zo.Provider,{value:C},N.createElement(Ku.Provider,{value:n},N.createElement(d2.Provider,{value:w.current},N.createElement(bx.Provider,{value:l},N.createElement($R,{basename:S,location:n.location,navigationType:n.historyAction,navigator:j},N.createElement(FR,{routes:e.routes,future:e.future,state:n})))))),null)}var FR=N.memo(HR);function HR({routes:e,future:t,state:n}){return SR(e,void 0,n,t)}function VR(e){return jR(e.context)}function $R({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:a,static:o=!1}){qt(!Qu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:l,navigator:a,static:o,future:{}}),[l,a,o]);typeof n=="string"&&(n=Ui(n));let{pathname:f="/",search:h="",hash:p="",state:g=null,key:b="default"}=n,y=N.useMemo(()=>{let w=jr(f,l);return w==null?null:{location:{pathname:w,search:h,hash:p,state:g,key:b},navigationType:s}},[l,f,h,p,g,b,s]);return Gn(y!=null,`<Router basename="${l}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:N.createElement(ua.Provider,{value:d},N.createElement(Vh.Provider,{children:t,value:y}))}var sh="get",rh="application/x-www-form-urlencoded";function $h(e){return e!=null&&typeof e.tagName=="string"}function qR(e){return $h(e)&&e.tagName.toLowerCase()==="button"}function IR(e){return $h(e)&&e.tagName.toLowerCase()==="form"}function YR(e){return $h(e)&&e.tagName.toLowerCase()==="input"}function WR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function XR(e,t){return e.button===0&&(!t||t==="_self")&&!WR(e)}var wf=null;function GR(){if(wf===null)try{new FormData(document.createElement("form"),0),wf=!1}catch(e){wf=!0}return wf}var KR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ng(e){return e!=null&&!KR.has(e)?(Gn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rh}"`),null):e}function QR(e,t){let n,s,a,o,l;if(IR(e)){let d=e.getAttribute("action");s=d?jr(d,t):null,n=e.getAttribute("method")||sh,a=Ng(e.getAttribute("enctype"))||rh,o=new FormData(e)}else if(qR(e)||YR(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(s=f?jr(f,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||sh,a=Ng(e.getAttribute("formenctype"))||Ng(d.getAttribute("enctype"))||rh,o=new FormData(d,e),!GR()){let{name:h,type:p,value:g}=e;if(p==="image"){let b=h?`${h}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else h&&o.append(h,g)}}else{if($h(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=sh,s=null,a=rh,l=e}return o&&a==="text/plain"&&(l=o,o=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function jx(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function ZR(e,t,n){let s=typeof e=="string"?new URL(e,typeof window=="undefined"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&jr(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}function JR(e,t){return ye(this,null,function*(){if(e.id in t)return t[e.id];try{let n=yield import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}})}function eD(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}function tD(e,t,n){return ye(this,null,function*(){let s=yield Promise.all(e.map(a=>ye(null,null,function*(){let o=t.routes[a.route.id];if(o){let l=yield JR(o,n);return l.links?l.links():[]}return[]})));return aD(s.flat(1).filter(eD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?de(L({},a),{rel:"prefetch",as:"style"}):de(L({},a),{rel:"prefetch"})))})}function n1(e,t,n,s,a,o){let l=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,d=(f,h)=>{var p;return n[h].pathname!==f.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==f.params["*"]};return o==="assets"?t.filter((f,h)=>l(f,h)||d(f,h)):o==="data"?t.filter((f,h)=>{var g;let p=s.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(l(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function nD(e,t,{includeHydrateFallback:n}={}){return sD(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function sD(e){return[...new Set(e)]}function rD(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function aD(e,t){let n=new Set;return new Set(t),e.reduce((s,a)=>{let o=JSON.stringify(rD(a));return n.has(o)||(n.add(o),s.push({key:o,link:a})),s},[])}function p2(){let e=N.useContext(zo);return jx(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function iD(){let e=N.useContext(Ku);return jx(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Sx=N.createContext(void 0);Sx.displayName="FrameworkContext";function g2(){let e=N.useContext(Sx);return jx(e,"You must render this element inside a <HydratedRouter> element"),e}function oD(e,t){let n=N.useContext(Sx),[s,a]=N.useState(!1),[o,l]=N.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=t,b=N.useRef(null);N.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let _=S=>{S.forEach(C=>{l(C.isIntersecting)})},j=new IntersectionObserver(_,{threshold:.5});return b.current&&j.observe(b.current),()=>{j.disconnect()}}},[e]),N.useEffect(()=>{if(s){let _=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(_)}}},[s]);let y=()=>{a(!0)},w=()=>{a(!1),l(!1)};return n?e!=="intent"?[o,b,{}]:[o,b,{onFocus:uu(d,y),onBlur:uu(f,w),onMouseEnter:uu(h,y),onMouseLeave:uu(p,w),onTouchStart:uu(g,y)}]:[!1,b,{}]}function uu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function lD(n){var s=n,{page:e}=s,t=Me(s,["page"]);let{router:a}=p2(),o=N.useMemo(()=>vi(a.routes,e,a.basename),[a.routes,e,a.basename]);return o?N.createElement(uD,L({page:e,matches:o},t)):null}function cD(e){let{manifest:t,routeModules:n}=g2(),[s,a]=N.useState([]);return N.useEffect(()=>{let o=!1;return tD(e,t,n).then(l=>{o||a(l)}),()=>{o=!0}},[e,t,n]),s}function uD(s){var a=s,{page:e,matches:t}=a,n=Me(a,["page","matches"]);let o=Bi(),{manifest:l,routeModules:d}=g2(),{basename:f}=p2(),{loaderData:h,matches:p}=iD(),g=N.useMemo(()=>n1(e,t,p,l,o,"data"),[e,t,p,l,o]),b=N.useMemo(()=>n1(e,t,p,l,o,"assets"),[e,t,p,l,o]),y=N.useMemo(()=>{if(e===o.pathname+o.search+o.hash)return[];let j=new Set,S=!1;if(t.forEach(R=>{var O;let k=l.routes[R.route.id];!k||!k.hasLoader||(!g.some(D=>D.route.id===R.route.id)&&R.route.id in h&&((O=d[R.route.id])!=null&&O.shouldRevalidate)||k.hasClientLoader?S=!0:j.add(R.route.id))}),j.size===0)return[];let C=ZR(e,f,"data");return S&&j.size>0&&C.searchParams.set("_routes",t.filter(R=>j.has(R.route.id)).map(R=>R.route.id).join(",")),[C.pathname+C.search]},[f,h,o,l,g,t,e,d]),w=N.useMemo(()=>nD(b,l),[b,l]),_=cD(b);return N.createElement(N.Fragment,null,y.map(j=>N.createElement("link",L({key:j,rel:"prefetch",as:"fetch",href:j},n))),w.map(j=>N.createElement("link",L({key:j,rel:"modulepreload",href:j},n))),_.map(({key:j,link:S})=>N.createElement("link",L({key:j},S))))}function dD(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var x2=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{x2&&(window.__reactRouterVersion="7.7.1")}catch(e){}function fD(e,t){return JO({basename:t==null?void 0:t.basename,unstable_getContext:t==null?void 0:t.unstable_getContext,future:t==null?void 0:t.future,history:yO({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||hD(),routes:e,mapRouteProperties:LR,hydrationRouteProperties:zR,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function hD(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e=de(L({},e),{errors:mD(e.errors)})),e}function mD(e){if(!e)return null;let t=Object.entries(e),n={};for(let[s,a]of t)if(a&&a.__type==="RouteErrorResponse")n[s]=new yh(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let l=new o(a.message);l.stack="",n[s]=l}catch(l){}}if(n[s]==null){let o=new Error(a.message);o.stack="",n[s]=o}}else n[s]=a;return n}var y2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,b2=N.forwardRef(function(w,y){var _=w,{onClick:t,discover:n="render",prefetch:s="none",relative:a,reloadDocument:o,replace:l,state:d,target:f,to:h,preventScrollReset:p,viewTransition:g}=_,b=Me(_,["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"]);let{basename:j}=N.useContext(ua),S=typeof h=="string"&&y2.test(h),C,R=!1;if(typeof h=="string"&&S&&(C=h,x2))try{let K=new URL(window.location.href),I=h.startsWith("//")?new URL(K.protocol+h):new URL(h),ee=jr(I.pathname,j);I.origin===K.origin&&ee!=null?h=ee+I.search+I.hash:R=!0}catch(K){Gn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=bR(h,{relative:a}),[O,D,$]=oD(s,b),A=xD(h,{replace:l,state:d,target:f,preventScrollReset:p,relative:a,viewTransition:g});function B(K){t&&t(K),K.defaultPrevented||A(K)}let J=N.createElement("a",de(L(L({},b),$),{href:C||k,onClick:R||o?t:B,ref:dD(y,D),target:f,"data-discover":!S&&n==="render"?"true":void 0}));return O&&!S?N.createElement(N.Fragment,null,J,N.createElement(lD,{page:k})):J});b2.displayName="Link";var v2=N.forwardRef(function(g,p){var b=g,{"aria-current":t="page",caseSensitive:n=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:d,children:f}=b,h=Me(b,["aria-current","caseSensitive","className","end","style","to","viewTransition","children"]);let y=Zu(l,{relative:h.relative}),w=Bi(),_=N.useContext(Ku),{navigator:j,basename:S}=N.useContext(ua),C=_!=null&&_D(y)&&d===!0,R=j.encodeLocation?j.encodeLocation(y).pathname:y.pathname,k=w.pathname,O=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(k=k.toLowerCase(),O=O?O.toLowerCase():null,R=R.toLowerCase()),O&&S&&(O=jr(O,S)||O);const D=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let $=k===R||!a&&k.startsWith(R)&&k.charAt(D)==="/",A=O!=null&&(O===R||!a&&O.startsWith(R)&&O.charAt(R.length)==="/"),B={isActive:$,isPending:A,isTransitioning:C},J=$?t:void 0,K;typeof s=="function"?K=s(B):K=[s,$?"active":null,A?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let I=typeof o=="function"?o(B):o;return N.createElement(b2,de(L({},h),{"aria-current":J,className:K,ref:p,style:I,to:l,viewTransition:d}),typeof f=="function"?f(B):f)});v2.displayName="NavLink";var pD=N.forwardRef((w,y)=>{var _=w,{discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:a,state:o,method:l=sh,action:d,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g}=_,b=Me(_,["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"]);let j=vD(),S=wD(d,{relative:h}),C=l.toLowerCase()==="get"?"get":"post",R=typeof d=="string"&&y2.test(d),k=O=>{if(f&&f(O),O.defaultPrevented)return;O.preventDefault();let D=O.nativeEvent.submitter,$=(D==null?void 0:D.getAttribute("formmethod"))||l;j(D||O.currentTarget,{fetcherKey:t,method:$,navigate:n,replace:a,state:o,relative:h,preventScrollReset:p,viewTransition:g})};return N.createElement("form",de(L({ref:y,method:C,action:S,onSubmit:s?f:k},b),{"data-discover":!R&&e==="render"?"true":void 0}))});pD.displayName="Form";function gD(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function w2(e){let t=N.useContext(zo);return qt(t,gD(e)),t}function xD(e,{target:t,replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l}={}){let d=vR(),f=Bi(),h=Zu(e,{relative:o});return N.useCallback(p=>{if(XR(p,t)){p.preventDefault();let g=n!==void 0?n:ki(f)===ki(h);d(e,{replace:g,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[f,d,h,n,s,t,e,a,o,l])}var yD=0,bD=()=>`__${String(++yD)}__`;function vD(){let{router:e}=w2("useSubmit"),{basename:t}=N.useContext(ua),n=DR();return N.useCallback((o,...l)=>ye(null,[o,...l],function*(s,a={}){let{action:d,method:f,encType:h,formData:p,body:g}=QR(s,t);if(a.navigate===!1){let b=a.fetcherKey||bD();yield e.fetch(b,n,a.action||d,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||f,formEncType:a.encType||h,flushSync:a.flushSync})}else yield e.navigate(a.action||d,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||f,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})}),[e,t,n])}function wD(e,{relative:t}={}){let{basename:n}=N.useContext(ua),s=N.useContext(da);qt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),o=L({},Zu(e||".",{relative:t})),l=Bi();if(e==null){o.search=l.search;let d=new URLSearchParams(o.search),f=d.getAll("index");if(f.some(p=>p==="")){d.delete("index"),f.filter(g=>g).forEach(g=>d.append("index",g));let p=d.toString();o.search=p?`?${p}`:""}}return(!e||e===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:aa([n,o.pathname])),ki(o)}function _D(e,{relative:t}={}){let n=N.useContext(bx);qt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=w2("useViewTransitionState"),a=Zu(e,{relative:t});if(!n.isTransitioning)return!1;let o=jr(n.currentLocation.pathname,s)||n.currentLocation.pathname,l=jr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return xh(a.pathname,l)!=null||xh(a.pathname,o)!=null}var qh=yS();const _2=nx(qh);function jD(e){return N.createElement(BR,L({flushSync:qh.flushSync},e))}/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ND=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),s1=e=>{const t=ND(e);return t.charAt(0).toUpperCase()+t.slice(1)},j2=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),ED=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var TD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=N.forwardRef((h,f)=>{var p=h,{color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:o,iconNode:l}=p,d=Me(p,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return N.createElement("svg",L(L(de(L({ref:f},TD),{width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:j2("lucide",a)}),!o&&!ED(d)&&{"aria-hidden":"true"}),d),[...l.map(([g,b])=>N.createElement(g,b)),...Array.isArray(o)?o:[o]])});/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=(e,t)=>{const n=N.forwardRef((l,o)=>{var d=l,{className:s}=d,a=Me(d,["className"]);return N.createElement(kD,L({ref:o,iconNode:t,className:j2(`lucide-${SD(s1(e))}`,`lucide-${e}`,s)},a))});return n.displayName=s1(e),n};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],AD=kt("activity",CD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Nx=kt("arrow-left",OD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],DD=kt("arrow-right",RD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],PD=kt("bell",MD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],rr=kt("calendar",LD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ex=kt("chart-column",zD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],BD=kt("check",UD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],S2=kt("chevron-down",FD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],VD=kt("chevron-up",HD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],qD=kt("chevrons-up-down",$D);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ao=kt("circle-alert",ID);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],WD=kt("circle-check-big",YD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ih=kt("circle-check",XD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],KD=kt("circle",GD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ci=kt("clock",QD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],JD=kt("crown",ZD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Tx=kt("dollar-sign",eM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],nM=kt("ellipsis-vertical",tM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],N2=kt("file-text",sM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],E2=kt("flag",rM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],iM=kt("folder-open",aM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],kx=kt("funnel",oM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],cM=kt("grid-3x3",lM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],dM=kt("layout-dashboard",uM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],hM=kt("list",fM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],N0=kt("loader-circle",mM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],gM=kt("log-out",pM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],yM=kt("menu",xM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],vM=kt("pause",bM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],_M=kt("pen",wM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],SM=kt("piggy-bank",jM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],EM=kt("play",NM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ai=kt("plus",TM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Cx=kt("refresh-cw",kM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Yh=kt("search",CM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],T2=kt("settings",AM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],RM=kt("square-check-big",OM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Bl=kt("square-pen",DM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],PM=kt("square",MM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Ax=kt("target",LM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Il=kt("trash-2",zM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Wh=kt("triangle-alert",UM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Yl=kt("user",BM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ah=kt("users",FM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],VM=kt("x",HM),$M=[{name:"Dashboard",href:"/",icon:dM},{name:"Projects",href:"/projects",icon:iM},{name:"Tasks",href:"/tasks",icon:RM},{name:"Time Tracking",href:"/time-tracking",icon:Ci},{name:"Cost Analysis",href:"/cost-analysis",icon:Tx},{name:"Reports",href:"/reports",icon:Ex},{name:"Calendar",href:"/calendar",icon:rr},{name:"Team",href:"/team",icon:ah},{name:"Documents",href:"/documents",icon:N2},{name:"Settings",href:"/settings",icon:T2}],r1=()=>{const e=Bi();return c.jsxs("div",{className:"flex flex-col w-64 bg-white shadow-lg border-r border-gray-200",children:[c.jsx("div",{className:"flex items-center justify-center h-16 px-4 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",children:c.jsx("img",{src:"https://ctuav.vn/wp-content/uploads/2024/08/Logo-moi-ctuav.png",alt:"CT UAV Logo",className:"w-8 h-8 object-contain"})}),c.jsx("span",{className:"text-xl font-bold text-gray-800",children:"CT UAV"})]})}),c.jsx("nav",{className:"flex-1 px-4 py-6 space-y-1",children:$M.map(t=>{const n=e.pathname===t.href;return c.jsxs(v2,{to:t.href,className:`
                group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-all duration-200
                ${n?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-md":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}
              `,children:[c.jsx(t.icon,{className:`
                  mr-3 h-5 w-5 transition-colors duration-200
                  ${n?"text-white":"text-gray-500 group-hover:text-gray-700"}
                `}),t.name]},t.name)})}),c.jsx("div",{className:"p-4 border-t border-gray-200",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-white font-medium text-sm",children:"U"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:"Admin"}),c.jsx("p",{className:"text-xs text-gray-500 truncate",children:"admin@ctgroupvietnam.com"})]})]})})]})};function ar(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function a1(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Oo(...e){return t=>{let n=!1;const s=e.map(a=>{const o=a1(a,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let a=0;a<s.length;a++){const o=s[a];typeof o=="function"?o():a1(e[a],null)}}}}function Hr(...e){return N.useCallback(Oo(...e),e)}function qM(e,t){const n=N.createContext(t),s=o=>{const h=o,{children:l}=h,d=Me(h,["children"]),f=N.useMemo(()=>d,Object.values(d));return c.jsx(n.Provider,{value:f,children:l})};s.displayName=e+"Provider";function a(o){const l=N.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[s,a]}function Ox(e,t=[]){let n=[];function s(o,l){const d=N.createContext(l),f=n.length;n=[...n,l];const h=g=>{var C;const S=g,{scope:b,children:y}=S,w=Me(S,["scope","children"]),_=((C=b==null?void 0:b[e])==null?void 0:C[f])||d,j=N.useMemo(()=>w,Object.values(w));return c.jsx(_.Provider,{value:j,children:y})};h.displayName=o+"Provider";function p(g,b){var _;const y=((_=b==null?void 0:b[e])==null?void 0:_[f])||d,w=N.useContext(y);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${o}\``)}return[h,p]}const a=()=>{const o=n.map(l=>N.createContext(l));return function(d){const f=(d==null?void 0:d[e])||o;return N.useMemo(()=>({[`__scope${e}`]:de(L({},d),{[e]:f})}),[d,f])}};return a.scopeName=e,[s,IM(a,...t)]}function IM(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const l=s.reduce((d,{useScope:f,scopeName:h})=>{const g=f(o)[`__scope${h}`];return L(L({},d),g)},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function Xh(e){const t=WM(e),n=N.forwardRef((s,a)=>{const h=s,{children:o}=h,l=Me(h,["children"]),d=N.Children.toArray(o),f=d.find(GM);if(f){const p=f.props.children,g=d.map(b=>b===f?N.Children.count(p)>1?N.Children.only(null):N.isValidElement(p)?p.props.children:null:b);return c.jsx(t,de(L({},l),{ref:a,children:N.isValidElement(p)?N.cloneElement(p,void 0,g):null}))}return c.jsx(t,de(L({},l),{ref:a,children:o}))});return n.displayName=`${e}.Slot`,n}var YM=Xh("Slot");function WM(e){const t=N.forwardRef((n,s)=>{const l=n,{children:a}=l,o=Me(l,["children"]);if(N.isValidElement(a)){const d=QM(a),f=KM(o,a.props);return a.type!==N.Fragment&&(f.ref=s?Oo(s,d):d),N.cloneElement(a,f)}return N.Children.count(a)>1?N.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var XM=Symbol("radix.slottable");function GM(e){return N.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===XM}function KM(e,t){const n=L({},t);for(const s in t){const a=e[s],o=t[s];/^on[A-Z]/.test(s)?a&&o?n[s]=(...d)=>{const f=o(...d);return a(...d),f}:a&&(n[s]=a):s==="style"?n[s]=L(L({},a),o):s==="className"&&(n[s]=[a,o].filter(Boolean).join(" "))}return L(L({},e),n)}function QM(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var ZM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Cn=ZM.reduce((e,t)=>{const n=Xh(`Primitive.${t}`),s=N.forwardRef((a,o)=>{const h=a,{asChild:l}=h,d=Me(h,["asChild"]),f=l?n:t;return typeof window!="undefined"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(f,de(L({},d),{ref:o}))});return s.displayName=`Primitive.${t}`,de(L({},e),{[t]:s})},{});function JM(e,t){e&&qh.flushSync(()=>e.dispatchEvent(t))}function Wl(e){const t=N.useRef(e);return N.useEffect(()=>{t.current=e}),N.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function eP(e,t=globalThis==null?void 0:globalThis.document){const n=Wl(e);N.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var tP="DismissableLayer",E0="dismissableLayer.update",nP="dismissableLayer.pointerDownOutside",sP="dismissableLayer.focusOutside",i1,k2=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Rx=N.forwardRef((e,t)=>{var A;const $=e,{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:l,onDismiss:d}=$,f=Me($,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),h=N.useContext(k2),[p,g]=N.useState(null),b=(A=p==null?void 0:p.ownerDocument)!=null?A:globalThis==null?void 0:globalThis.document,[,y]=N.useState({}),w=Hr(t,B=>g(B)),_=Array.from(h.layers),[j]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),S=_.indexOf(j),C=p?_.indexOf(p):-1,R=h.layersWithOutsidePointerEventsDisabled.size>0,k=C>=S,O=iP(B=>{const J=B.target,K=[...h.branches].some(I=>I.contains(J));!k||K||(a==null||a(B),l==null||l(B),B.defaultPrevented||d==null||d())},b),D=oP(B=>{const J=B.target;[...h.branches].some(I=>I.contains(J))||(o==null||o(B),l==null||l(B),B.defaultPrevented||d==null||d())},b);return eP(B=>{C===h.layers.size-1&&(s==null||s(B),!B.defaultPrevented&&d&&(B.preventDefault(),d()))},b),N.useEffect(()=>{if(p)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(i1=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),o1(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=i1)}},[p,b,n,h]),N.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),o1())},[p,h]),N.useEffect(()=>{const B=()=>y({});return document.addEventListener(E0,B),()=>document.removeEventListener(E0,B)},[]),c.jsx(Cn.div,de(L({},f),{ref:w,style:L({pointerEvents:R?k?"auto":"none":void 0},e.style),onFocusCapture:ar(e.onFocusCapture,D.onFocusCapture),onBlurCapture:ar(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:ar(e.onPointerDownCapture,O.onPointerDownCapture)}))});Rx.displayName=tP;var rP="DismissableLayerBranch",aP=N.forwardRef((e,t)=>{const n=N.useContext(k2),s=N.useRef(null),a=Hr(t,s);return N.useEffect(()=>{const o=s.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),c.jsx(Cn.div,de(L({},e),{ref:a}))});aP.displayName=rP;function iP(e,t=globalThis==null?void 0:globalThis.document){const n=Wl(e),s=N.useRef(!1),a=N.useRef(()=>{});return N.useEffect(()=>{const o=d=>{if(d.target&&!s.current){let f=function(){C2(nP,n,h,{discrete:!0})};const h={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=f,t.addEventListener("click",a.current,{once:!0})):f()}else t.removeEventListener("click",a.current);s.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function oP(e,t=globalThis==null?void 0:globalThis.document){const n=Wl(e),s=N.useRef(!1);return N.useEffect(()=>{const a=o=>{o.target&&!s.current&&C2(sP,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function o1(){const e=new CustomEvent(E0);document.dispatchEvent(e)}function C2(e,t,n,{discrete:s}){const a=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?JM(a,o):a.dispatchEvent(o)}var Eg=0;function A2(){N.useEffect(()=>{var t,n;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:l1()),document.body.insertAdjacentElement("beforeend",(n=e[1])!=null?n:l1()),Eg++,()=>{Eg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),Eg--}},[])}function l1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Tg="focusScope.autoFocusOnMount",kg="focusScope.autoFocusOnUnmount",c1={bubbles:!1,cancelable:!0},lP="FocusScope",Dx=N.forwardRef((e,t)=>{const _=e,{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:o}=_,l=Me(_,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),[d,f]=N.useState(null),h=Wl(a),p=Wl(o),g=N.useRef(null),b=Hr(t,j=>f(j)),y=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(s){let j=function(k){if(y.paused||!d)return;const O=k.target;d.contains(O)?g.current=O:bi(g.current,{select:!0})},S=function(k){if(y.paused||!d)return;const O=k.relatedTarget;O!==null&&(d.contains(O)||bi(g.current,{select:!0}))},C=function(k){if(document.activeElement===document.body)for(const D of k)D.removedNodes.length>0&&bi(d)};document.addEventListener("focusin",j),document.addEventListener("focusout",S);const R=new MutationObserver(C);return d&&R.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",S),R.disconnect()}}},[s,d,y.paused]),N.useEffect(()=>{if(d){d1.add(y);const j=document.activeElement;if(!d.contains(j)){const C=new CustomEvent(Tg,c1);d.addEventListener(Tg,h),d.dispatchEvent(C),C.defaultPrevented||(cP(mP(O2(d)),{select:!0}),document.activeElement===j&&bi(d))}return()=>{d.removeEventListener(Tg,h),setTimeout(()=>{const C=new CustomEvent(kg,c1);d.addEventListener(kg,p),d.dispatchEvent(C),C.defaultPrevented||bi(j!=null?j:document.body,{select:!0}),d.removeEventListener(kg,p),d1.remove(y)},0)}}},[d,h,p,y]);const w=N.useCallback(j=>{if(!n&&!s||y.paused)return;const S=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,C=document.activeElement;if(S&&C){const R=j.currentTarget,[k,O]=uP(R);k&&O?!j.shiftKey&&C===O?(j.preventDefault(),n&&bi(k,{select:!0})):j.shiftKey&&C===k&&(j.preventDefault(),n&&bi(O,{select:!0})):C===R&&j.preventDefault()}},[n,s,y.paused]);return c.jsx(Cn.div,de(L({tabIndex:-1},l),{ref:b,onKeyDown:w}))});Dx.displayName=lP;function cP(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(bi(s,{select:t}),document.activeElement!==n)return}function uP(e){const t=O2(e),n=u1(t,e),s=u1(t.reverse(),e);return[n,s]}function O2(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function u1(e,t){for(const n of e)if(!dP(n,{upTo:t}))return n}function dP(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function fP(e){return e instanceof HTMLInputElement&&"select"in e}function bi(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&fP(e)&&t&&e.select()}}var d1=hP();function hP(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=f1(e,t),e.unshift(t)},remove(t){var n;e=f1(e,t),(n=e[0])==null||n.resume()}}}function f1(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function mP(e){return e.filter(t=>t.tagName!=="A")}var Oi=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},pP=xS[" useId ".trim().toString()]||(()=>{}),gP=0;function ia(e){const[t,n]=N.useState(pP());return Oi(()=>{n(s=>s!=null?s:String(gP++))},[e]),e||(t?`radix-${t}`:"")}const xP=["top","right","bottom","left"],Ri=Math.min,tr=Math.max,vh=Math.round,_f=Math.floor,oa=e=>({x:e,y:e}),yP={left:"right",right:"left",bottom:"top",top:"bottom"},bP={start:"end",end:"start"};function T0(e,t,n){return tr(e,Ri(t,n))}function Ha(e,t){return typeof e=="function"?e(t):e}function Va(e){return e.split("-")[0]}function Zl(e){return e.split("-")[1]}function Mx(e){return e==="x"?"y":"x"}function Px(e){return e==="y"?"height":"width"}const vP=new Set(["top","bottom"]);function na(e){return vP.has(Va(e))?"y":"x"}function Lx(e){return Mx(na(e))}function wP(e,t,n){n===void 0&&(n=!1);const s=Zl(e),a=Lx(e),o=Px(a);let l=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=wh(l)),[l,wh(l)]}function _P(e){const t=wh(e);return[k0(e),t,k0(t)]}function k0(e){return e.replace(/start|end/g,t=>bP[t])}const h1=["left","right"],m1=["right","left"],jP=["top","bottom"],SP=["bottom","top"];function NP(e,t,n){switch(e){case"top":case"bottom":return n?t?m1:h1:t?h1:m1;case"left":case"right":return t?jP:SP;default:return[]}}function EP(e,t,n,s){const a=Zl(e);let o=NP(Va(e),n==="start",s);return a&&(o=o.map(l=>l+"-"+a),t&&(o=o.concat(o.map(k0)))),o}function wh(e){return e.replace(/left|right|bottom|top/g,t=>yP[t])}function TP(e){return L({top:0,right:0,bottom:0,left:0},e)}function R2(e){return typeof e!="number"?TP(e):{top:e,right:e,bottom:e,left:e}}function _h(e){const{x:t,y:n,width:s,height:a}=e;return{width:s,height:a,top:n,left:t,right:t+s,bottom:n+a,x:t,y:n}}function p1(e,t,n){let{reference:s,floating:a}=e;const o=na(t),l=Lx(t),d=Px(l),f=Va(t),h=o==="y",p=s.x+s.width/2-a.width/2,g=s.y+s.height/2-a.height/2,b=s[d]/2-a[d]/2;let y;switch(f){case"top":y={x:p,y:s.y-a.height};break;case"bottom":y={x:p,y:s.y+s.height};break;case"right":y={x:s.x+s.width,y:g};break;case"left":y={x:s.x-a.width,y:g};break;default:y={x:s.x,y:s.y}}switch(Zl(t)){case"start":y[l]-=b*(n&&h?-1:1);break;case"end":y[l]+=b*(n&&h?-1:1);break}return y}const kP=(e,t,n)=>ye(null,null,function*(){const{placement:s="bottom",strategy:a="absolute",middleware:o=[],platform:l}=n,d=o.filter(Boolean),f=yield l.isRTL==null?void 0:l.isRTL(t);let h=yield l.getElementRects({reference:e,floating:t,strategy:a}),{x:p,y:g}=p1(h,s,f),b=s,y={},w=0;for(let _=0;_<d.length;_++){const{name:j,fn:S}=d[_],{x:C,y:R,data:k,reset:O}=yield S({x:p,y:g,initialPlacement:s,placement:b,strategy:a,middlewareData:y,rects:h,platform:l,elements:{reference:e,floating:t}});p=C!=null?C:p,g=R!=null?R:g,y=de(L({},y),{[j]:L(L({},y[j]),k)}),O&&w<=50&&(w++,typeof O=="object"&&(O.placement&&(b=O.placement),O.rects&&(h=O.rects===!0?yield l.getElementRects({reference:e,floating:t,strategy:a}):O.rects),{x:p,y:g}=p1(h,b,f)),_=-1)}return{x:p,y:g,placement:b,strategy:a,middlewareData:y}});function Hu(e,t){return ye(this,null,function*(){var n;t===void 0&&(t={});const{x:s,y:a,platform:o,rects:l,elements:d,strategy:f}=e,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:b=!1,padding:y=0}=Ha(t,e),w=R2(y),j=d[b?g==="floating"?"reference":"floating":g],S=_h(yield o.getClippingRect({element:(n=yield o.isElement==null?void 0:o.isElement(j))==null||n?j:j.contextElement||(yield o.getDocumentElement==null?void 0:o.getDocumentElement(d.floating)),boundary:h,rootBoundary:p,strategy:f})),C=g==="floating"?{x:s,y:a,width:l.floating.width,height:l.floating.height}:l.reference,R=yield o.getOffsetParent==null?void 0:o.getOffsetParent(d.floating),k=(yield o.isElement==null?void 0:o.isElement(R))?(yield o.getScale==null?void 0:o.getScale(R))||{x:1,y:1}:{x:1,y:1},O=_h(o.convertOffsetParentRelativeRectToViewportRelativeRect?yield o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:C,offsetParent:R,strategy:f}):C);return{top:(S.top-O.top+w.top)/k.y,bottom:(O.bottom-S.bottom+w.bottom)/k.y,left:(S.left-O.left+w.left)/k.x,right:(O.right-S.right+w.right)/k.x}})}const CP=e=>({name:"arrow",options:e,fn(n){return ye(this,null,function*(){const{x:s,y:a,placement:o,rects:l,platform:d,elements:f,middlewareData:h}=n,{element:p,padding:g=0}=Ha(e,n)||{};if(p==null)return{};const b=R2(g),y={x:s,y:a},w=Lx(o),_=Px(w),j=yield d.getDimensions(p),S=w==="y",C=S?"top":"left",R=S?"bottom":"right",k=S?"clientHeight":"clientWidth",O=l.reference[_]+l.reference[w]-y[w]-l.floating[_],D=y[w]-l.reference[w],$=yield d.getOffsetParent==null?void 0:d.getOffsetParent(p);let A=$?$[k]:0;(!A||!(yield d.isElement==null?void 0:d.isElement($)))&&(A=f.floating[k]||l.floating[_]);const B=O/2-D/2,J=A/2-j[_]/2-1,K=Ri(b[C],J),I=Ri(b[R],J),ee=K,pe=A-j[_]-I,ne=A/2-j[_]/2+B,V=T0(ee,ne,pe),te=!h.arrow&&Zl(o)!=null&&ne!==V&&l.reference[_]/2-(ne<ee?K:I)-j[_]/2<0,Q=te?ne<ee?ne-ee:ne-pe:0;return{[w]:y[w]+Q,data:L({[w]:V,centerOffset:ne-V-Q},te&&{alignmentOffset:Q}),reset:te}})}}),AP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,fn(n){return ye(this,null,function*(){var s,a;const{placement:o,middlewareData:l,rects:d,initialPlacement:f,platform:h,elements:p}=n,ne=Ha(e,n),{mainAxis:g=!0,crossAxis:b=!0,fallbackPlacements:y,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:j=!0}=ne,S=Me(ne,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if((s=l.arrow)!=null&&s.alignmentOffset)return{};const C=Va(o),R=na(f),k=Va(f)===f,O=yield h.isRTL==null?void 0:h.isRTL(p.floating),D=y||(k||!j?[wh(f)]:_P(f)),$=_!=="none";!y&&$&&D.push(...EP(f,j,_,O));const A=[f,...D],B=yield Hu(n,S),J=[];let K=((a=l.flip)==null?void 0:a.overflows)||[];if(g&&J.push(B[C]),b){const V=wP(o,d,O);J.push(B[V[0]],B[V[1]])}if(K=[...K,{placement:o,overflows:J}],!J.every(V=>V<=0)){var I,ee;const V=(((I=l.flip)==null?void 0:I.index)||0)+1,te=A[V];if(te&&(!(b==="alignment"?R!==na(te):!1)||K.every(F=>na(F.placement)===R?F.overflows[0]>0:!0)))return{data:{index:V,overflows:K},reset:{placement:te}};let Q=(ee=K.filter(fe=>fe.overflows[0]<=0).sort((fe,F)=>fe.overflows[1]-F.overflows[1])[0])==null?void 0:ee.placement;if(!Q)switch(w){case"bestFit":{var pe;const fe=(pe=K.filter(F=>{if($){const W=na(F.placement);return W===R||W==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(W=>W>0).reduce((W,me)=>W+me,0)]).sort((F,W)=>F[1]-W[1])[0])==null?void 0:pe[0];fe&&(Q=fe);break}case"initialPlacement":Q=f;break}if(o!==Q)return{reset:{placement:Q}}}return{}})}}};function g1(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function x1(e){return xP.some(t=>e[t]>=0)}const OP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,fn(n){return ye(this,null,function*(){const{rects:s}=n,l=Ha(e,n),{strategy:a="referenceHidden"}=l,o=Me(l,["strategy"]);switch(a){case"referenceHidden":{const d=yield Hu(n,de(L({},o),{elementContext:"reference"})),f=g1(d,s.reference);return{data:{referenceHiddenOffsets:f,referenceHidden:x1(f)}}}case"escaped":{const d=yield Hu(n,de(L({},o),{altBoundary:!0})),f=g1(d,s.floating);return{data:{escapedOffsets:f,escaped:x1(f)}}}default:return{}}})}}},D2=new Set(["left","top"]);function RP(e,t){return ye(this,null,function*(){const{placement:n,platform:s,elements:a}=e,o=yield s.isRTL==null?void 0:s.isRTL(a.floating),l=Va(n),d=Zl(n),f=na(n)==="y",h=D2.has(l)?-1:1,p=o&&f?-1:1,g=Ha(t,e);let{mainAxis:b,crossAxis:y,alignmentAxis:w}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return d&&typeof w=="number"&&(y=d==="end"?w*-1:w),f?{x:y*p,y:b*h}:{x:b*h,y:y*p}})}const DP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,fn(n){return ye(this,null,function*(){var s,a;const{x:o,y:l,placement:d,middlewareData:f}=n,h=yield RP(n,e);return d===((s=f.offset)==null?void 0:s.placement)&&(a=f.arrow)!=null&&a.alignmentOffset?{}:{x:o+h.x,y:l+h.y,data:de(L({},h),{placement:d})}})}}},MP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,fn(n){return ye(this,null,function*(){const{x:s,y:a,placement:o}=n,S=Ha(e,n),{mainAxis:l=!0,crossAxis:d=!1,limiter:f={fn:C=>{let{x:R,y:k}=C;return{x:R,y:k}}}}=S,h=Me(S,["mainAxis","crossAxis","limiter"]),p={x:s,y:a},g=yield Hu(n,h),b=na(Va(o)),y=Mx(b);let w=p[y],_=p[b];if(l){const C=y==="y"?"top":"left",R=y==="y"?"bottom":"right",k=w+g[C],O=w-g[R];w=T0(k,w,O)}if(d){const C=b==="y"?"top":"left",R=b==="y"?"bottom":"right",k=_+g[C],O=_-g[R];_=T0(k,_,O)}const j=f.fn(de(L({},n),{[y]:w,[b]:_}));return de(L({},j),{data:{x:j.x-s,y:j.y-a,enabled:{[y]:l,[b]:d}}})})}}},PP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:a,rects:o,middlewareData:l}=t,{offset:d=0,mainAxis:f=!0,crossAxis:h=!0}=Ha(e,t),p={x:n,y:s},g=na(a),b=Mx(g);let y=p[b],w=p[g];const _=Ha(d,t),j=typeof _=="number"?{mainAxis:_,crossAxis:0}:L({mainAxis:0,crossAxis:0},_);if(f){const R=b==="y"?"height":"width",k=o.reference[b]-o.floating[R]+j.mainAxis,O=o.reference[b]+o.reference[R]-j.mainAxis;y<k?y=k:y>O&&(y=O)}if(h){var S,C;const R=b==="y"?"width":"height",k=D2.has(Va(a)),O=o.reference[g]-o.floating[R]+(k&&((S=l.offset)==null?void 0:S[g])||0)+(k?0:j.crossAxis),D=o.reference[g]+o.reference[R]+(k?0:((C=l.offset)==null?void 0:C[g])||0)-(k?j.crossAxis:0);w<O?w=O:w>D&&(w=D)}return{[b]:y,[g]:w}}}},LP=function(e){return e===void 0&&(e={}),{name:"size",options:e,fn(n){return ye(this,null,function*(){var s,a;const{placement:o,rects:l,platform:d,elements:f}=n,K=Ha(e,n),{apply:h=()=>{}}=K,p=Me(K,["apply"]),g=yield Hu(n,p),b=Va(o),y=Zl(o),w=na(o)==="y",{width:_,height:j}=l.floating;let S,C;b==="top"||b==="bottom"?(S=b,C=y===((yield d.isRTL==null?void 0:d.isRTL(f.floating))?"start":"end")?"left":"right"):(C=b,S=y==="end"?"top":"bottom");const R=j-g.top-g.bottom,k=_-g.left-g.right,O=Ri(j-g[S],R),D=Ri(_-g[C],k),$=!n.middlewareData.shift;let A=O,B=D;if((s=n.middlewareData.shift)!=null&&s.enabled.x&&(B=k),(a=n.middlewareData.shift)!=null&&a.enabled.y&&(A=R),$&&!y){const I=tr(g.left,0),ee=tr(g.right,0),pe=tr(g.top,0),ne=tr(g.bottom,0);w?B=_-2*(I!==0||ee!==0?I+ee:tr(g.left,g.right)):A=j-2*(pe!==0||ne!==0?pe+ne:tr(g.top,g.bottom))}yield h(de(L({},n),{availableWidth:B,availableHeight:A}));const J=yield d.getDimensions(f.floating);return _!==J.width||j!==J.height?{reset:{rects:!0}}:{}})}}};function Gh(){return typeof window!="undefined"}function Jl(e){return M2(e)?(e.nodeName||"").toLowerCase():"#document"}function ir(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function fa(e){var t;return(t=(M2(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function M2(e){return Gh()?e instanceof Node||e instanceof ir(e).Node:!1}function Br(e){return Gh()?e instanceof Element||e instanceof ir(e).Element:!1}function ca(e){return Gh()?e instanceof HTMLElement||e instanceof ir(e).HTMLElement:!1}function y1(e){return!Gh()||typeof ShadowRoot=="undefined"?!1:e instanceof ShadowRoot||e instanceof ir(e).ShadowRoot}const zP=new Set(["inline","contents"]);function Ju(e){const{overflow:t,overflowX:n,overflowY:s,display:a}=Fr(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!zP.has(a)}const UP=new Set(["table","td","th"]);function BP(e){return UP.has(Jl(e))}const FP=[":popover-open",":modal"];function Kh(e){return FP.some(t=>{try{return e.matches(t)}catch(n){return!1}})}const HP=["transform","translate","scale","rotate","perspective"],VP=["transform","translate","scale","rotate","perspective","filter"],$P=["paint","layout","strict","content"];function zx(e){const t=Ux(),n=Br(e)?Fr(e):e;return HP.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||VP.some(s=>(n.willChange||"").includes(s))||$P.some(s=>(n.contain||"").includes(s))}function qP(e){let t=Di(e);for(;ca(t)&&!Xl(t);){if(zx(t))return t;if(Kh(t))return null;t=Di(t)}return null}function Ux(){return typeof CSS=="undefined"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const IP=new Set(["html","body","#document"]);function Xl(e){return IP.has(Jl(e))}function Fr(e){return ir(e).getComputedStyle(e)}function Qh(e){return Br(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Di(e){if(Jl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||y1(e)&&e.host||fa(e);return y1(t)?t.host:t}function P2(e){const t=Di(e);return Xl(t)?e.ownerDocument?e.ownerDocument.body:e.body:ca(t)&&Ju(t)?t:P2(t)}function Vu(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=P2(e),o=a===((s=e.ownerDocument)==null?void 0:s.body),l=ir(a);if(o){const d=C0(l);return t.concat(l,l.visualViewport||[],Ju(a)?a:[],d&&n?Vu(d):[])}return t.concat(a,Vu(a,[],n))}function C0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function L2(e){const t=Fr(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=ca(e),o=a?e.offsetWidth:n,l=a?e.offsetHeight:s,d=vh(n)!==o||vh(s)!==l;return d&&(n=o,s=l),{width:n,height:s,$:d}}function Bx(e){return Br(e)?e:e.contextElement}function Fl(e){const t=Bx(e);if(!ca(t))return oa(1);const n=t.getBoundingClientRect(),{width:s,height:a,$:o}=L2(t);let l=(o?vh(n.width):n.width)/s,d=(o?vh(n.height):n.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!d||!Number.isFinite(d))&&(d=1),{x:l,y:d}}const YP=oa(0);function z2(e){const t=ir(e);return!Ux()||!t.visualViewport?YP:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function WP(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ir(e)?!1:t}function Ro(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),o=Bx(e);let l=oa(1);t&&(s?Br(s)&&(l=Fl(s)):l=Fl(e));const d=WP(o,n,s)?z2(o):oa(0);let f=(a.left+d.x)/l.x,h=(a.top+d.y)/l.y,p=a.width/l.x,g=a.height/l.y;if(o){const b=ir(o),y=s&&Br(s)?ir(s):s;let w=b,_=C0(w);for(;_&&s&&y!==w;){const j=Fl(_),S=_.getBoundingClientRect(),C=Fr(_),R=S.left+(_.clientLeft+parseFloat(C.paddingLeft))*j.x,k=S.top+(_.clientTop+parseFloat(C.paddingTop))*j.y;f*=j.x,h*=j.y,p*=j.x,g*=j.y,f+=R,h+=k,w=ir(_),_=C0(w)}}return _h({width:p,height:g,x:f,y:h})}function Fx(e,t){const n=Qh(e).scrollLeft;return t?t.left+n:Ro(fa(e)).left+n}function U2(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=s.left+t.scrollLeft-(n?0:Fx(e,s)),o=s.top+t.scrollTop;return{x:a,y:o}}function XP(e){let{elements:t,rect:n,offsetParent:s,strategy:a}=e;const o=a==="fixed",l=fa(s),d=t?Kh(t.floating):!1;if(s===l||d&&o)return n;let f={scrollLeft:0,scrollTop:0},h=oa(1);const p=oa(0),g=ca(s);if((g||!g&&!o)&&((Jl(s)!=="body"||Ju(l))&&(f=Qh(s)),ca(s))){const y=Ro(s);h=Fl(s),p.x=y.x+s.clientLeft,p.y=y.y+s.clientTop}const b=l&&!g&&!o?U2(l,f,!0):oa(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-f.scrollLeft*h.x+p.x+b.x,y:n.y*h.y-f.scrollTop*h.y+p.y+b.y}}function GP(e){return Array.from(e.getClientRects())}function KP(e){const t=fa(e),n=Qh(e),s=e.ownerDocument.body,a=tr(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),o=tr(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let l=-n.scrollLeft+Fx(e);const d=-n.scrollTop;return Fr(s).direction==="rtl"&&(l+=tr(t.clientWidth,s.clientWidth)-a),{width:a,height:o,x:l,y:d}}function QP(e,t){const n=ir(e),s=fa(e),a=n.visualViewport;let o=s.clientWidth,l=s.clientHeight,d=0,f=0;if(a){o=a.width,l=a.height;const h=Ux();(!h||h&&t==="fixed")&&(d=a.offsetLeft,f=a.offsetTop)}return{width:o,height:l,x:d,y:f}}const ZP=new Set(["absolute","fixed"]);function JP(e,t){const n=Ro(e,!0,t==="fixed"),s=n.top+e.clientTop,a=n.left+e.clientLeft,o=ca(e)?Fl(e):oa(1),l=e.clientWidth*o.x,d=e.clientHeight*o.y,f=a*o.x,h=s*o.y;return{width:l,height:d,x:f,y:h}}function b1(e,t,n){let s;if(t==="viewport")s=QP(e,n);else if(t==="document")s=KP(fa(e));else if(Br(t))s=JP(t,n);else{const a=z2(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return _h(s)}function B2(e,t){const n=Di(e);return n===t||!Br(n)||Xl(n)?!1:Fr(n).position==="fixed"||B2(n,t)}function e3(e,t){const n=t.get(e);if(n)return n;let s=Vu(e,[],!1).filter(d=>Br(d)&&Jl(d)!=="body"),a=null;const o=Fr(e).position==="fixed";let l=o?Di(e):e;for(;Br(l)&&!Xl(l);){const d=Fr(l),f=zx(l);!f&&d.position==="fixed"&&(a=null),(o?!f&&!a:!f&&d.position==="static"&&!!a&&ZP.has(a.position)||Ju(l)&&!f&&B2(e,l))?s=s.filter(p=>p!==l):a=d,l=Di(l)}return t.set(e,s),s}function t3(e){let{element:t,boundary:n,rootBoundary:s,strategy:a}=e;const l=[...n==="clippingAncestors"?Kh(t)?[]:e3(t,this._c):[].concat(n),s],d=l[0],f=l.reduce((h,p)=>{const g=b1(t,p,a);return h.top=tr(g.top,h.top),h.right=Ri(g.right,h.right),h.bottom=Ri(g.bottom,h.bottom),h.left=tr(g.left,h.left),h},b1(t,d,a));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function n3(e){const{width:t,height:n}=L2(e);return{width:t,height:n}}function s3(e,t,n){const s=ca(t),a=fa(t),o=n==="fixed",l=Ro(e,!0,o,t);let d={scrollLeft:0,scrollTop:0};const f=oa(0);function h(){f.x=Fx(a)}if(s||!s&&!o)if((Jl(t)!=="body"||Ju(a))&&(d=Qh(t)),s){const y=Ro(t,!0,o,t);f.x=y.x+t.clientLeft,f.y=y.y+t.clientTop}else a&&h();o&&!s&&a&&h();const p=a&&!s&&!o?U2(a,d):oa(0),g=l.left+d.scrollLeft-f.x-p.x,b=l.top+d.scrollTop-f.y-p.y;return{x:g,y:b,width:l.width,height:l.height}}function Cg(e){return Fr(e).position==="static"}function v1(e,t){if(!ca(e)||Fr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return fa(e)===n&&(n=n.ownerDocument.body),n}function F2(e,t){const n=ir(e);if(Kh(e))return n;if(!ca(e)){let a=Di(e);for(;a&&!Xl(a);){if(Br(a)&&!Cg(a))return a;a=Di(a)}return n}let s=v1(e,t);for(;s&&BP(s)&&Cg(s);)s=v1(s,t);return s&&Xl(s)&&Cg(s)&&!zx(s)?n:s||qP(e)||n}const r3=function(e){return ye(this,null,function*(){const t=this.getOffsetParent||F2,n=this.getDimensions,s=yield n(e.floating);return{reference:s3(e.reference,yield t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}})};function a3(e){return Fr(e).direction==="rtl"}const i3={convertOffsetParentRelativeRectToViewportRelativeRect:XP,getDocumentElement:fa,getClippingRect:t3,getOffsetParent:F2,getElementRects:r3,getClientRects:GP,getDimensions:n3,getScale:Fl,isElement:Br,isRTL:a3};function H2(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function o3(e,t){let n=null,s;const a=fa(e);function o(){var d;clearTimeout(s),(d=n)==null||d.disconnect(),n=null}function l(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),o();const h=e.getBoundingClientRect(),{left:p,top:g,width:b,height:y}=h;if(d||t(),!b||!y)return;const w=_f(g),_=_f(a.clientWidth-(p+b)),j=_f(a.clientHeight-(g+y)),S=_f(p),R={rootMargin:-w+"px "+-_+"px "+-j+"px "+-S+"px",threshold:tr(0,Ri(1,f))||1};let k=!0;function O(D){const $=D[0].intersectionRatio;if($!==f){if(!k)return l();$?l(!1,$):s=setTimeout(()=>{l(!1,1e-7)},1e3)}$===1&&!H2(h,e.getBoundingClientRect())&&l(),k=!1}try{n=new IntersectionObserver(O,de(L({},R),{root:a.ownerDocument}))}catch(D){n=new IntersectionObserver(O,R)}n.observe(e)}return l(!0),o}function l3(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=s,h=Bx(e),p=a||o?[...h?Vu(h):[],...Vu(t)]:[];p.forEach(S=>{a&&S.addEventListener("scroll",n,{passive:!0}),o&&S.addEventListener("resize",n)});const g=h&&d?o3(h,n):null;let b=-1,y=null;l&&(y=new ResizeObserver(S=>{let[C]=S;C&&C.target===h&&y&&(y.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var R;(R=y)==null||R.observe(t)})),n()}),h&&!f&&y.observe(h),y.observe(t));let w,_=f?Ro(e):null;f&&j();function j(){const S=Ro(e);_&&!H2(_,S)&&n(),_=S,w=requestAnimationFrame(j)}return n(),()=>{var S;p.forEach(C=>{a&&C.removeEventListener("scroll",n),o&&C.removeEventListener("resize",n)}),g==null||g(),(S=y)==null||S.disconnect(),y=null,f&&cancelAnimationFrame(w)}}const c3=DP,u3=MP,d3=AP,f3=LP,h3=OP,w1=CP,m3=PP,p3=(e,t,n)=>{const s=new Map,a=L({platform:i3},n),o=de(L({},a.platform),{_c:s});return kP(e,t,de(L({},a),{platform:o}))};var g3=typeof document!="undefined",x3=function(){},ih=g3?N.useLayoutEffect:x3;function jh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!jh(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=n;s--!==0;){const o=a[s];if(!(o==="_owner"&&e.$$typeof)&&!jh(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function V2(e){return typeof window=="undefined"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function _1(e,t){const n=V2(e);return Math.round(t*n)/n}function Ag(e){const t=N.useRef(e);return ih(()=>{t.current=e}),t}function y3(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:o,floating:l}={},transform:d=!0,whileElementsMounted:f,open:h}=e,[p,g]=N.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,y]=N.useState(s);jh(b,s)||y(s);const[w,_]=N.useState(null),[j,S]=N.useState(null),C=N.useCallback(Q=>{Q!==D.current&&(D.current=Q,_(Q))},[]),R=N.useCallback(Q=>{Q!==$.current&&($.current=Q,S(Q))},[]),k=o||w,O=l||j,D=N.useRef(null),$=N.useRef(null),A=N.useRef(p),B=f!=null,J=Ag(f),K=Ag(a),I=Ag(h),ee=N.useCallback(()=>{if(!D.current||!$.current)return;const Q={placement:t,strategy:n,middleware:b};K.current&&(Q.platform=K.current),p3(D.current,$.current,Q).then(fe=>{const F=de(L({},fe),{isPositioned:I.current!==!1});pe.current&&!jh(A.current,F)&&(A.current=F,qh.flushSync(()=>{g(F)}))})},[b,t,n,K,I]);ih(()=>{h===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,g(Q=>de(L({},Q),{isPositioned:!1})))},[h]);const pe=N.useRef(!1);ih(()=>(pe.current=!0,()=>{pe.current=!1}),[]),ih(()=>{if(k&&(D.current=k),O&&($.current=O),k&&O){if(J.current)return J.current(k,O,ee);ee()}},[k,O,ee,J,B]);const ne=N.useMemo(()=>({reference:D,floating:$,setReference:C,setFloating:R}),[C,R]),V=N.useMemo(()=>({reference:k,floating:O}),[k,O]),te=N.useMemo(()=>{const Q={position:n,left:0,top:0};if(!V.floating)return Q;const fe=_1(V.floating,p.x),F=_1(V.floating,p.y);return d?L(de(L({},Q),{transform:"translate("+fe+"px, "+F+"px)"}),V2(V.floating)>=1.5&&{willChange:"transform"}):{position:n,left:fe,top:F}},[n,d,V.floating,p.x,p.y]);return N.useMemo(()=>de(L({},p),{update:ee,refs:ne,elements:V,floatingStyles:te}),[p,ee,ne,V,te])}const b3=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:a}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?w1({element:s.current,padding:a}).fn(n):{}:s?w1({element:s,padding:a}).fn(n):{}}}},v3=(e,t)=>de(L({},c3(e)),{options:[e,t]}),w3=(e,t)=>de(L({},u3(e)),{options:[e,t]}),_3=(e,t)=>de(L({},m3(e)),{options:[e,t]}),j3=(e,t)=>de(L({},d3(e)),{options:[e,t]}),S3=(e,t)=>de(L({},f3(e)),{options:[e,t]}),N3=(e,t)=>de(L({},h3(e)),{options:[e,t]}),E3=(e,t)=>de(L({},b3(e)),{options:[e,t]});var T3="Arrow",$2=N.forwardRef((e,t)=>{const l=e,{children:n,width:s=10,height:a=5}=l,o=Me(l,["children","width","height"]);return c.jsx(Cn.svg,de(L({},o),{ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})}))});$2.displayName=T3;var k3=$2;function C3(e){const[t,n]=N.useState(void 0);return Oi(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let l,d;if("borderBoxSize"in o){const f=o.borderBoxSize,h=Array.isArray(f)?f[0]:f;l=h.inlineSize,d=h.blockSize}else l=e.offsetWidth,d=e.offsetHeight;n({width:l,height:d})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var Hx="Popper",[q2,I2]=Ox(Hx),[A3,Y2]=q2(Hx),W2=e=>{const{__scopePopper:t,children:n}=e,[s,a]=N.useState(null);return c.jsx(A3,{scope:t,anchor:s,onAnchorChange:a,children:n})};W2.displayName=Hx;var X2="PopperAnchor",G2=N.forwardRef((e,t)=>{const f=e,{__scopePopper:n,virtualRef:s}=f,a=Me(f,["__scopePopper","virtualRef"]),o=Y2(X2,n),l=N.useRef(null),d=Hr(t,l);return N.useEffect(()=>{o.onAnchorChange((s==null?void 0:s.current)||l.current)}),s?null:c.jsx(Cn.div,de(L({},a),{ref:d}))});G2.displayName=X2;var Vx="PopperContent",[O3,R3]=q2(Vx),K2=N.forwardRef((e,t)=>{var Oe,$e,Le,lt,Ke,pt,Pe,ht;const Ee=e,{__scopePopper:n,side:s="bottom",sideOffset:a=0,align:o="center",alignOffset:l=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:b=!1,updatePositionStrategy:y="optimized",onPlaced:w}=Ee,_=Me(Ee,["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"]),j=Y2(Vx,n),[S,C]=N.useState(null),R=Hr(t,Ft=>C(Ft)),[k,O]=N.useState(null),D=C3(k),$=(Oe=D==null?void 0:D.width)!=null?Oe:0,A=($e=D==null?void 0:D.height)!=null?$e:0,B=s+(o!=="center"?"-"+o:""),J=typeof p=="number"?p:L({top:0,right:0,bottom:0,left:0},p),K=Array.isArray(h)?h:[h],I=K.length>0,ee={padding:J,boundary:K.filter(M3),altBoundary:I},{refs:pe,floatingStyles:ne,placement:V,isPositioned:te,middlewareData:Q}=y3({strategy:"fixed",placement:B,whileElementsMounted:(...Ft)=>l3(...Ft,{animationFrame:y==="always"}),elements:{reference:j.anchor},middleware:[v3({mainAxis:a+A,alignmentAxis:l}),f&&w3(L({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?_3():void 0},ee)),f&&j3(L({},ee)),S3(de(L({},ee),{apply:({elements:Ft,rects:vt,availableWidth:Dt,availableHeight:St})=>{const{width:Y,height:le}=vt.reference,q=Ft.floating.style;q.setProperty("--radix-popper-available-width",`${Dt}px`),q.setProperty("--radix-popper-available-height",`${St}px`),q.setProperty("--radix-popper-anchor-width",`${Y}px`),q.setProperty("--radix-popper-anchor-height",`${le}px`)}})),k&&E3({element:k,padding:d}),P3({arrowWidth:$,arrowHeight:A}),b&&N3(L({strategy:"referenceHidden"},ee))]}),[fe,F]=J2(V),W=Wl(w);Oi(()=>{te&&(W==null||W())},[te,W]);const me=(Le=Q.arrow)==null?void 0:Le.x,U=(lt=Q.arrow)==null?void 0:lt.y,re=((Ke=Q.arrow)==null?void 0:Ke.centerOffset)!==0,[_e,xe]=N.useState();return Oi(()=>{S&&xe(window.getComputedStyle(S).zIndex)},[S]),c.jsx("div",{ref:pe.setFloating,"data-radix-popper-content-wrapper":"",style:L(de(L({},ne),{transform:te?ne.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:_e,"--radix-popper-transform-origin":[(pt=Q.transformOrigin)==null?void 0:pt.x,(Pe=Q.transformOrigin)==null?void 0:Pe.y].join(" ")}),((ht=Q.hide)==null?void 0:ht.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:c.jsx(O3,{scope:n,placedSide:fe,onArrowChange:O,arrowX:me,arrowY:U,shouldHideArrow:re,children:c.jsx(Cn.div,de(L({"data-side":fe,"data-align":F},_),{ref:R,style:de(L({},_.style),{animation:te?void 0:"none"})}))})})});K2.displayName=Vx;var Q2="PopperArrow",D3={top:"bottom",right:"left",bottom:"top",left:"right"},Z2=N.forwardRef(function(t,n){const d=t,{__scopePopper:s}=d,a=Me(d,["__scopePopper"]),o=R3(Q2,s),l=D3[o.placedSide];return c.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:c.jsx(k3,de(L({},a),{ref:n,style:de(L({},a.style),{display:"block"})}))})});Z2.displayName=Q2;function M3(e){return e!==null}var P3=e=>({name:"transformOrigin",options:e,fn(t){var j,S,C,R,k;const{placement:n,rects:s,middlewareData:a}=t,l=((j=a.arrow)==null?void 0:j.centerOffset)!==0,d=l?0:e.arrowWidth,f=l?0:e.arrowHeight,[h,p]=J2(n),g={start:"0%",center:"50%",end:"100%"}[p],b=((C=(S=a.arrow)==null?void 0:S.x)!=null?C:0)+d/2,y=((k=(R=a.arrow)==null?void 0:R.y)!=null?k:0)+f/2;let w="",_="";return h==="bottom"?(w=l?g:`${b}px`,_=`${-f}px`):h==="top"?(w=l?g:`${b}px`,_=`${s.floating.height+f}px`):h==="right"?(w=`${-f}px`,_=l?g:`${y}px`):h==="left"&&(w=`${s.floating.width+f}px`,_=l?g:`${y}px`),{data:{x:w,y:_}}}});function J2(e){const[t,n="center"]=e.split("-");return[t,n]}var L3=W2,eN=G2,z3=K2,U3=Z2,B3="Portal",$x=N.forwardRef((e,t)=>{var f;const d=e,{container:n}=d,s=Me(d,["container"]),[a,o]=N.useState(!1);Oi(()=>o(!0),[]);const l=n||a&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return l?_2.createPortal(c.jsx(Cn.div,de(L({},s),{ref:t})),l):null});$x.displayName=B3;function F3(e,t){return N.useReducer((n,s)=>{const a=t[n][s];return a!=null?a:n},e)}var ec=e=>{const{present:t,children:n}=e,s=H3(t),a=typeof n=="function"?n({present:s.isPresent}):N.Children.only(n),o=Hr(s.ref,V3(a));return typeof n=="function"||s.isPresent?N.cloneElement(a,{ref:o}):null};ec.displayName="Presence";function H3(e){const[t,n]=N.useState(),s=N.useRef(null),a=N.useRef(e),o=N.useRef("none"),l=e?"mounted":"unmounted",[d,f]=F3(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const h=jf(s.current);o.current=d==="mounted"?h:"none"},[d]),Oi(()=>{const h=s.current,p=a.current;if(p!==e){const b=o.current,y=jf(h);e?f("MOUNT"):y==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(p&&b!==y?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,f]),Oi(()=>{var h;if(t){let p;const g=(h=t.ownerDocument.defaultView)!=null?h:window,b=w=>{const j=jf(s.current).includes(w.animationName);if(w.target===t&&j&&(f("ANIMATION_END"),!a.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},y=w=>{w.target===t&&(o.current=jf(s.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:N.useCallback(h=>{s.current=h?getComputedStyle(h):null,n(h)},[])}}function jf(e){return(e==null?void 0:e.animationName)||"none"}function V3(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var $3=xS[" useInsertionEffect ".trim().toString()]||Oi;function tN({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[a,o,l]=q3({defaultProp:t,onChange:n}),d=e!==void 0,f=d?e:a;{const p=N.useRef(e!==void 0);N.useEffect(()=>{const g=p.current;g!==d&&console.warn(`${s} is changing from ${g?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=d},[d,s])}const h=N.useCallback(p=>{var g;if(d){const b=I3(p)?p(e):p;b!==e&&((g=l.current)==null||g.call(l,b))}else o(p)},[d,e,o,l]);return[f,h]}function q3({defaultProp:e,onChange:t}){const[n,s]=N.useState(e),a=N.useRef(n),o=N.useRef(t);return $3(()=>{o.current=t},[t]),N.useEffect(()=>{var l;a.current!==n&&((l=o.current)==null||l.call(o,n),a.current=n)},[n,a]),[n,s,o]}function I3(e){return typeof e=="function"}var Y3=function(e){if(typeof document=="undefined")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Nl=new WeakMap,Sf=new WeakMap,Nf={},Og=0,nN=function(e){return e&&(e.host||nN(e.parentNode))},W3=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=nN(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},X3=function(e,t,n,s){var a=W3(t,Array.isArray(e)?e:[e]);Nf[n]||(Nf[n]=new WeakMap);var o=Nf[n],l=[],d=new Set,f=new Set(a),h=function(g){!g||d.has(g)||(d.add(g),h(g.parentNode))};a.forEach(h);var p=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(b){if(d.has(b))p(b);else try{var y=b.getAttribute(s),w=y!==null&&y!=="false",_=(Nl.get(b)||0)+1,j=(o.get(b)||0)+1;Nl.set(b,_),o.set(b,j),l.push(b),_===1&&w&&Sf.set(b,!0),j===1&&b.setAttribute(n,"true"),w||b.setAttribute(s,"true")}catch(S){console.error("aria-hidden: cannot operate on ",b,S)}})};return p(t),d.clear(),Og++,function(){l.forEach(function(g){var b=Nl.get(g)-1,y=o.get(g)-1;Nl.set(g,b),o.set(g,y),b||(Sf.has(g)||g.removeAttribute(s),Sf.delete(g)),y||g.removeAttribute(n)}),Og--,Og||(Nl=new WeakMap,Nl=new WeakMap,Sf=new WeakMap,Nf={})}},sN=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=Y3(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),X3(s,a,n,"aria-hidden")):function(){return null}},ta=function(){return ta=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ta.apply(this,arguments)};function rN(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function G3(e,t,n){if(n||arguments.length===2)for(var s=0,a=t.length,o;s<a;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return e.concat(o||Array.prototype.slice.call(t))}var oh="right-scroll-bar-position",lh="width-before-scroll-bar",K3="with-scroll-bars-hidden",Q3="--removed-body-scroll-bar-size";function Rg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Z3(e,t){var n=N.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=t,n.facade}var J3=typeof window!="undefined"?N.useLayoutEffect:N.useEffect,j1=new WeakMap;function e4(e,t){var n=Z3(null,function(s){return e.forEach(function(a){return Rg(a,s)})});return J3(function(){var s=j1.get(n);if(s){var a=new Set(s),o=new Set(e),l=n.current;a.forEach(function(d){o.has(d)||Rg(d,null)}),o.forEach(function(d){a.has(d)||Rg(d,l)})}j1.set(n,e)},[e]),n}function t4(e){return e}function n4(e,t){t===void 0&&(t=t4);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var l=t(o,s);return n.push(l),function(){n=n.filter(function(d){return d!==l})}},assignSyncMedium:function(o){for(s=!0;n.length;){var l=n;n=[],l.forEach(o)}n={push:function(d){return o(d)},filter:function(){return n}}},assignMedium:function(o){s=!0;var l=[];if(n.length){var d=n;n=[],d.forEach(o),l=n}var f=function(){var p=l;l=[],p.forEach(o)},h=function(){return Promise.resolve().then(f)};h(),n={push:function(p){l.push(p),h()},filter:function(p){return l=l.filter(p),n}}}};return a}function s4(e){e===void 0&&(e={});var t=n4(null);return t.options=ta({async:!0,ssr:!1},e),t}var aN=function(e){var t=e.sideCar,n=rN(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return N.createElement(s,ta({},n))};aN.isSideCarExport=!0;function r4(e,t){return e.useMedium(t),aN}var iN=s4(),Dg=function(){},Zh=N.forwardRef(function(e,t){var n=N.useRef(null),s=N.useState({onScrollCapture:Dg,onWheelCapture:Dg,onTouchMoveCapture:Dg}),a=s[0],o=s[1],l=e.forwardProps,d=e.children,f=e.className,h=e.removeScrollBar,p=e.enabled,g=e.shards,b=e.sideCar,y=e.noRelative,w=e.noIsolation,_=e.inert,j=e.allowPinchZoom,S=e.as,C=S===void 0?"div":S,R=e.gapMode,k=rN(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=b,D=e4([n,t]),$=ta(ta({},k),a);return N.createElement(N.Fragment,null,p&&N.createElement(O,{sideCar:iN,removeScrollBar:h,shards:g,noRelative:y,noIsolation:w,inert:_,setCallbacks:o,allowPinchZoom:!!j,lockRef:n,gapMode:R}),l?N.cloneElement(N.Children.only(d),ta(ta({},$),{ref:D})):N.createElement(C,ta({},$,{className:f,ref:D}),d))});Zh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Zh.classNames={fullWidth:lh,zeroRight:oh};var a4=function(){if(typeof __webpack_nonce__!="undefined")return __webpack_nonce__};function i4(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=a4();return t&&e.setAttribute("nonce",t),e}function o4(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function l4(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var c4=function(){var e=0,t=null;return{add:function(n){e==0&&(t=i4())&&(o4(t,n),l4(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},u4=function(){var e=c4();return function(t,n){N.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},oN=function(){var e=u4(),t=function(n){var s=n.styles,a=n.dynamic;return e(s,a),null};return t},d4={left:0,top:0,right:0,gap:0},Mg=function(e){return parseInt(e||"",10)||0},f4=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Mg(n),Mg(s),Mg(a)]},h4=function(e){if(e===void 0&&(e="margin"),typeof window=="undefined")return d4;var t=f4(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},m4=oN(),Hl="data-scroll-locked",p4=function(e,t,n,s){var a=e.left,o=e.top,l=e.right,d=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(K3,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(d,"px ").concat(s,`;
  }
  body[`).concat(Hl,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(oh,` {
    right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(lh,` {
    margin-right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(oh," .").concat(oh,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(lh," .").concat(lh,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Hl,`] {
    `).concat(Q3,": ").concat(d,`px;
  }
`)},S1=function(){var e=parseInt(document.body.getAttribute(Hl)||"0",10);return isFinite(e)?e:0},g4=function(){N.useEffect(function(){return document.body.setAttribute(Hl,(S1()+1).toString()),function(){var e=S1()-1;e<=0?document.body.removeAttribute(Hl):document.body.setAttribute(Hl,e.toString())}},[])},x4=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;g4();var o=N.useMemo(function(){return h4(a)},[a]);return N.createElement(m4,{styles:p4(o,!t,a,n?"":"!important")})},A0=!1;if(typeof window!="undefined")try{var Ef=Object.defineProperty({},"passive",{get:function(){return A0=!0,!0}});window.addEventListener("test",Ef,Ef),window.removeEventListener("test",Ef,Ef)}catch(e){A0=!1}var El=A0?{passive:!1}:!1,y4=function(e){return e.tagName==="TEXTAREA"},lN=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!y4(e)&&n[t]==="visible")},b4=function(e){return lN(e,"overflowY")},v4=function(e){return lN(e,"overflowX")},N1=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot!="undefined"&&s instanceof ShadowRoot&&(s=s.host);var a=cN(e,s);if(a){var o=uN(e,s),l=o[1],d=o[2];if(l>d)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},w4=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},_4=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},cN=function(e,t){return e==="v"?b4(t):v4(t)},uN=function(e,t){return e==="v"?w4(t):_4(t)},j4=function(e,t){return e==="h"&&t==="rtl"?-1:1},S4=function(e,t,n,s,a){var o=j4(e,window.getComputedStyle(t).direction),l=o*s,d=n.target,f=t.contains(d),h=!1,p=l>0,g=0,b=0;do{if(!d)break;var y=uN(e,d),w=y[0],_=y[1],j=y[2],S=_-j-o*w;(w||S)&&cN(e,d)&&(g+=S,b+=w);var C=d.parentNode;d=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!f&&d!==document.body||f&&(t.contains(d)||t===d));return(p&&Math.abs(g)<1||!p&&Math.abs(b)<1)&&(h=!0),h},Tf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},E1=function(e){return[e.deltaX,e.deltaY]},T1=function(e){return e&&"current"in e?e.current:e},N4=function(e,t){return e[0]===t[0]&&e[1]===t[1]},E4=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},T4=0,Tl=[];function k4(e){var t=N.useRef([]),n=N.useRef([0,0]),s=N.useRef(),a=N.useState(T4++)[0],o=N.useState(oN)[0],l=N.useRef(e);N.useEffect(function(){l.current=e},[e]),N.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var _=G3([e.lockRef.current],(e.shards||[]).map(T1),!0).filter(Boolean);return _.forEach(function(j){return j.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),_.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var d=N.useCallback(function(_,j){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!l.current.allowPinchZoom;var S=Tf(_),C=n.current,R="deltaX"in _?_.deltaX:C[0]-S[0],k="deltaY"in _?_.deltaY:C[1]-S[1],O,D=_.target,$=Math.abs(R)>Math.abs(k)?"h":"v";if("touches"in _&&$==="h"&&D.type==="range")return!1;var A=N1($,D);if(!A)return!0;if(A?O=$:(O=$==="v"?"h":"v",A=N1($,D)),!A)return!1;if(!s.current&&"changedTouches"in _&&(R||k)&&(s.current=O),!O)return!0;var B=s.current||O;return S4(B,j,_,B==="h"?R:k)},[]),f=N.useCallback(function(_){var j=_;if(!(!Tl.length||Tl[Tl.length-1]!==o)){var S="deltaY"in j?E1(j):Tf(j),C=t.current.filter(function(O){return O.name===j.type&&(O.target===j.target||j.target===O.shadowParent)&&N4(O.delta,S)})[0];if(C&&C.should){j.cancelable&&j.preventDefault();return}if(!C){var R=(l.current.shards||[]).map(T1).filter(Boolean).filter(function(O){return O.contains(j.target)}),k=R.length>0?d(j,R[0]):!l.current.noIsolation;k&&j.cancelable&&j.preventDefault()}}},[]),h=N.useCallback(function(_,j,S,C){var R={name:_,delta:j,target:S,should:C,shadowParent:C4(S)};t.current.push(R),setTimeout(function(){t.current=t.current.filter(function(k){return k!==R})},1)},[]),p=N.useCallback(function(_){n.current=Tf(_),s.current=void 0},[]),g=N.useCallback(function(_){h(_.type,E1(_),_.target,d(_,e.lockRef.current))},[]),b=N.useCallback(function(_){h(_.type,Tf(_),_.target,d(_,e.lockRef.current))},[]);N.useEffect(function(){return Tl.push(o),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:b}),document.addEventListener("wheel",f,El),document.addEventListener("touchmove",f,El),document.addEventListener("touchstart",p,El),function(){Tl=Tl.filter(function(_){return _!==o}),document.removeEventListener("wheel",f,El),document.removeEventListener("touchmove",f,El),document.removeEventListener("touchstart",p,El)}},[]);var y=e.removeScrollBar,w=e.inert;return N.createElement(N.Fragment,null,w?N.createElement(o,{styles:E4(a)}):null,y?N.createElement(x4,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function C4(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const A4=r4(iN,k4);var qx=N.forwardRef(function(e,t){return N.createElement(Zh,ta({},e,{ref:t,sideCar:A4}))});qx.classNames=Zh.classNames;var Jh="Popover",[dN,vH]=Ox(Jh,[I2]),ed=I2(),[O4,Fi]=dN(Jh),fN=e=>{const{__scopePopover:t,children:n,open:s,defaultOpen:a,onOpenChange:o,modal:l=!1}=e,d=ed(t),f=N.useRef(null),[h,p]=N.useState(!1),[g,b]=tN({prop:s,defaultProp:a!=null?a:!1,onChange:o,caller:Jh});return c.jsx(L3,de(L({},d),{children:c.jsx(O4,{scope:t,contentId:ia(),triggerRef:f,open:g,onOpenChange:b,onOpenToggle:N.useCallback(()=>b(y=>!y),[b]),hasCustomAnchor:h,onCustomAnchorAdd:N.useCallback(()=>p(!0),[]),onCustomAnchorRemove:N.useCallback(()=>p(!1),[]),modal:l,children:n})}))};fN.displayName=Jh;var hN="PopoverAnchor",R4=N.forwardRef((e,t)=>{const f=e,{__scopePopover:n}=f,s=Me(f,["__scopePopover"]),a=Fi(hN,n),o=ed(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:d}=a;return N.useEffect(()=>(l(),()=>d()),[l,d]),c.jsx(eN,de(L(L({},o),s),{ref:t}))});R4.displayName=hN;var mN="PopoverTrigger",pN=N.forwardRef((e,t)=>{const f=e,{__scopePopover:n}=f,s=Me(f,["__scopePopover"]),a=Fi(mN,n),o=ed(n),l=Hr(t,a.triggerRef),d=c.jsx(Cn.button,de(L({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":vN(a.open)},s),{ref:l,onClick:ar(e.onClick,a.onOpenToggle)}));return a.hasCustomAnchor?d:c.jsx(eN,de(L({asChild:!0},o),{children:d}))});pN.displayName=mN;var Ix="PopoverPortal",[D4,M4]=dN(Ix,{forceMount:void 0}),gN=e=>{const{__scopePopover:t,forceMount:n,children:s,container:a}=e,o=Fi(Ix,t);return c.jsx(D4,{scope:t,forceMount:n,children:c.jsx(ec,{present:n||o.open,children:c.jsx($x,{asChild:!0,container:a,children:s})})})};gN.displayName=Ix;var Gl="PopoverContent",xN=N.forwardRef((e,t)=>{const n=M4(Gl,e.__scopePopover),l=e,{forceMount:s=n.forceMount}=l,a=Me(l,["forceMount"]),o=Fi(Gl,e.__scopePopover);return c.jsx(ec,{present:s||o.open,children:o.modal?c.jsx(L4,de(L({},a),{ref:t})):c.jsx(z4,de(L({},a),{ref:t}))})});xN.displayName=Gl;var P4=Xh("PopoverContent.RemoveScroll"),L4=N.forwardRef((e,t)=>{const n=Fi(Gl,e.__scopePopover),s=N.useRef(null),a=Hr(t,s),o=N.useRef(!1);return N.useEffect(()=>{const l=s.current;if(l)return sN(l)},[]),c.jsx(qx,{as:P4,allowPinchZoom:!0,children:c.jsx(yN,de(L({},e),{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ar(e.onCloseAutoFocus,l=>{var d;l.preventDefault(),o.current||(d=n.triggerRef.current)==null||d.focus()}),onPointerDownOutside:ar(e.onPointerDownOutside,l=>{const d=l.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,h=d.button===2||f;o.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:ar(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})}))})}),z4=N.forwardRef((e,t)=>{const n=Fi(Gl,e.__scopePopover),s=N.useRef(!1),a=N.useRef(!1);return c.jsx(yN,de(L({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,d;(l=e.onCloseAutoFocus)==null||l.call(e,o),o.defaultPrevented||(s.current||(d=n.triggerRef.current)==null||d.focus(),o.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:o=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=o.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}}))}),yN=N.forwardRef((e,t)=>{const w=e,{__scopePopover:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:p}=w,g=Me(w,["__scopePopover","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside"]),b=Fi(Gl,n),y=ed(n);return A2(),c.jsx(Dx,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:o,children:c.jsx(Rx,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:p,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onDismiss:()=>b.onOpenChange(!1),children:c.jsx(z3,de(L(L({"data-state":vN(b.open),role:"dialog",id:b.contentId},y),g),{ref:t,style:de(L({},g.style),{"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"})}))})})}),bN="PopoverClose",U4=N.forwardRef((e,t)=>{const o=e,{__scopePopover:n}=o,s=Me(o,["__scopePopover"]),a=Fi(bN,n);return c.jsx(Cn.button,de(L({type:"button"},s),{ref:t,onClick:ar(e.onClick,()=>a.onOpenChange(!1))}))});U4.displayName=bN;var B4="PopoverArrow",F4=N.forwardRef((e,t)=>{const o=e,{__scopePopover:n}=o,s=Me(o,["__scopePopover"]),a=ed(n);return c.jsx(U3,de(L(L({},a),s),{ref:t}))});F4.displayName=B4;function vN(e){return e?"open":"closed"}var H4=fN,V4=pN,$4=gN,q4=xN;function wN(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=wN(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function _N(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=wN(e))&&(s&&(s+=" "),s+=t);return s}const Yx="-",I4=e=>{const t=W4(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:l=>{const d=l.split(Yx);return d[0]===""&&d.length!==1&&d.shift(),jN(d,t)||Y4(l)},getConflictingClassGroupIds:(l,d)=>{const f=n[l]||[];return d&&s[l]?[...f,...s[l]]:f}}},jN=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),a=s?jN(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(Yx);return(l=t.validators.find(({validator:d})=>d(o)))==null?void 0:l.classGroupId},k1=/^\[(.+)\]$/,Y4=e=>{if(k1.test(e)){const t=k1.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},W4=e=>{const{theme:t,classGroups:n}=e,s={nextPart:new Map,validators:[]};for(const a in n)O0(n[a],s,a,t);return s},O0=(e,t,n,s)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:C1(t,a);o.classGroupId=n;return}if(typeof a=="function"){if(X4(a)){O0(a(s),t,n,s);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([o,l])=>{O0(l,C1(t,o),n,s)})})},C1=(e,t)=>{let n=e;return t.split(Yx).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},X4=e=>e.isThemeGetter,G4=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const a=(o,l)=>{n.set(o,l),t++,t>e&&(t=0,s=n,n=new Map)};return{get(o){let l=n.get(o);if(l!==void 0)return l;if((l=s.get(o))!==void 0)return a(o,l),l},set(o,l){n.has(o)?n.set(o,l):a(o,l)}}},R0="!",D0=":",K4=D0.length,Q4=e=>{const{prefix:t,experimentalParseClassName:n}=e;let s=a=>{const o=[];let l=0,d=0,f=0,h;for(let w=0;w<a.length;w++){let _=a[w];if(l===0&&d===0){if(_===D0){o.push(a.slice(f,w)),f=w+K4;continue}if(_==="/"){h=w;continue}}_==="["?l++:_==="]"?l--:_==="("?d++:_===")"&&d--}const p=o.length===0?a:a.substring(f),g=Z4(p),b=g!==p,y=h&&h>f?h-f:void 0;return{modifiers:o,hasImportantModifier:b,baseClassName:g,maybePostfixModifierPosition:y}};if(t){const a=t+D0,o=s;s=l=>l.startsWith(a)?o(l.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const a=s;s=o=>n({className:o,parseClassName:a})}return s},Z4=e=>e.endsWith(R0)?e.substring(0,e.length-1):e.startsWith(R0)?e.substring(1):e,J4=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const a=[];let o=[];return s.forEach(l=>{l[0]==="["||t[l]?(a.push(...o.sort(),l),o=[]):o.push(l)}),a.push(...o.sort()),a}},e5=e=>L({cache:G4(e.cacheSize),parseClassName:Q4(e),sortModifiers:J4(e)},I4(e)),t5=/\s+/,n5=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:o}=t,l=[],d=e.trim().split(t5);let f="";for(let h=d.length-1;h>=0;h-=1){const p=d[h],{isExternal:g,modifiers:b,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:_}=n(p);if(g){f=p+(f.length>0?" "+f:f);continue}let j=!!_,S=s(j?w.substring(0,_):w);if(!S){if(!j){f=p+(f.length>0?" "+f:f);continue}if(S=s(w),!S){f=p+(f.length>0?" "+f:f);continue}j=!1}const C=o(b).join(":"),R=y?C+R0:C,k=R+S;if(l.includes(k))continue;l.push(k);const O=a(S,j);for(let D=0;D<O.length;++D){const $=O[D];l.push(R+$)}f=p+(f.length>0?" "+f:f)}return f};function s5(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=SN(t))&&(s&&(s+=" "),s+=n);return s}const SN=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=SN(e[s]))&&(n&&(n+=" "),n+=t);return n};function r5(e,...t){let n,s,a,o=l;function l(f){const h=t.reduce((p,g)=>g(p),e());return n=e5(h),s=n.cache.get,a=n.cache.set,o=d,d(f)}function d(f){const h=s(f);if(h)return h;const p=n5(f,n);return a(f,p),p}return function(){return o(s5.apply(null,arguments))}}const Jn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},NN=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,EN=/^\((?:(\w[\w-]*):)?(.+)\)$/i,a5=/^\d+\/\d+$/,i5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,o5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,l5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,c5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,u5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,kl=e=>a5.test(e),zt=e=>!!e&&!Number.isNaN(Number(e)),gi=e=>!!e&&Number.isInteger(Number(e)),Pg=e=>e.endsWith("%")&&zt(e.slice(0,-1)),Oa=e=>i5.test(e),d5=()=>!0,f5=e=>o5.test(e)&&!l5.test(e),TN=()=>!1,h5=e=>c5.test(e),m5=e=>u5.test(e),p5=e=>!et(e)&&!tt(e),g5=e=>tc(e,AN,TN),et=e=>NN.test(e),mo=e=>tc(e,ON,f5),Lg=e=>tc(e,w5,zt),A1=e=>tc(e,kN,TN),x5=e=>tc(e,CN,m5),kf=e=>tc(e,RN,h5),tt=e=>EN.test(e),du=e=>nc(e,ON),y5=e=>nc(e,_5),O1=e=>nc(e,kN),b5=e=>nc(e,AN),v5=e=>nc(e,CN),Cf=e=>nc(e,RN,!0),tc=(e,t,n)=>{const s=NN.exec(e);return s?s[1]?t(s[1]):n(s[2]):!1},nc=(e,t,n=!1)=>{const s=EN.exec(e);return s?s[1]?t(s[1]):n:!1},kN=e=>e==="position"||e==="percentage",CN=e=>e==="image"||e==="url",AN=e=>e==="length"||e==="size"||e==="bg-size",ON=e=>e==="length",w5=e=>e==="number",_5=e=>e==="family-name",RN=e=>e==="shadow",j5=()=>{const e=Jn("color"),t=Jn("font"),n=Jn("text"),s=Jn("font-weight"),a=Jn("tracking"),o=Jn("leading"),l=Jn("breakpoint"),d=Jn("container"),f=Jn("spacing"),h=Jn("radius"),p=Jn("shadow"),g=Jn("inset-shadow"),b=Jn("text-shadow"),y=Jn("drop-shadow"),w=Jn("blur"),_=Jn("perspective"),j=Jn("aspect"),S=Jn("ease"),C=Jn("animate"),R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],O=()=>[...k(),tt,et],D=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto","contain","none"],A=()=>[tt,et,f],B=()=>[kl,"full","auto",...A()],J=()=>[gi,"none","subgrid",tt,et],K=()=>["auto",{span:["full",gi,tt,et]},gi,tt,et],I=()=>[gi,"auto",tt,et],ee=()=>["auto","min","max","fr",tt,et],pe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ne=()=>["start","end","center","stretch","center-safe","end-safe"],V=()=>["auto",...A()],te=()=>[kl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],Q=()=>[e,tt,et],fe=()=>[...k(),O1,A1,{position:[tt,et]}],F=()=>["no-repeat",{repeat:["","x","y","space","round"]}],W=()=>["auto","cover","contain",b5,g5,{size:[tt,et]}],me=()=>[Pg,du,mo],U=()=>["","none","full",h,tt,et],re=()=>["",zt,du,mo],_e=()=>["solid","dashed","dotted","double"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ee=()=>[zt,Pg,O1,A1],Oe=()=>["","none",w,tt,et],$e=()=>["none",zt,tt,et],Le=()=>["none",zt,tt,et],lt=()=>[zt,tt,et],Ke=()=>[kl,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Oa],breakpoint:[Oa],color:[d5],container:[Oa],"drop-shadow":[Oa],ease:["in","out","in-out"],font:[p5],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Oa],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Oa],shadow:[Oa],spacing:["px",zt],text:[Oa],"text-shadow":[Oa],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",kl,et,tt,j]}],container:["container"],columns:[{columns:[zt,et,tt,d]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:O()}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:B()}],"inset-x":[{"inset-x":B()}],"inset-y":[{"inset-y":B()}],start:[{start:B()}],end:[{end:B()}],top:[{top:B()}],right:[{right:B()}],bottom:[{bottom:B()}],left:[{left:B()}],visibility:["visible","invisible","collapse"],z:[{z:[gi,"auto",tt,et]}],basis:[{basis:[kl,"full","auto",d,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[zt,kl,"auto","initial","none",et]}],grow:[{grow:["",zt,tt,et]}],shrink:[{shrink:["",zt,tt,et]}],order:[{order:[gi,"first","last","none",tt,et]}],"grid-cols":[{"grid-cols":J()}],"col-start-end":[{col:K()}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":J()}],"row-start-end":[{row:K()}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ee()}],"auto-rows":[{"auto-rows":ee()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...pe(),"normal"]}],"justify-items":[{"justify-items":[...ne(),"normal"]}],"justify-self":[{"justify-self":["auto",...ne()]}],"align-content":[{content:["normal",...pe()]}],"align-items":[{items:[...ne(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ne(),{baseline:["","last"]}]}],"place-content":[{"place-content":pe()}],"place-items":[{"place-items":[...ne(),"baseline"]}],"place-self":[{"place-self":["auto",...ne()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:V()}],mx:[{mx:V()}],my:[{my:V()}],ms:[{ms:V()}],me:[{me:V()}],mt:[{mt:V()}],mr:[{mr:V()}],mb:[{mb:V()}],ml:[{ml:V()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:te()}],w:[{w:[d,"screen",...te()]}],"min-w":[{"min-w":[d,"screen","none",...te()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[l]},...te()]}],h:[{h:["screen","lh",...te()]}],"min-h":[{"min-h":["screen","lh","none",...te()]}],"max-h":[{"max-h":["screen","lh",...te()]}],"font-size":[{text:["base",n,du,mo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,tt,Lg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Pg,et]}],"font-family":[{font:[y5,et,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,tt,et]}],"line-clamp":[{"line-clamp":[zt,"none",tt,Lg]}],leading:[{leading:[o,...A()]}],"list-image":[{"list-image":["none",tt,et]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",tt,et]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Q()}],"text-color":[{text:Q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._e(),"wavy"]}],"text-decoration-thickness":[{decoration:[zt,"from-font","auto",tt,mo]}],"text-decoration-color":[{decoration:Q()}],"underline-offset":[{"underline-offset":[zt,"auto",tt,et]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",tt,et]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",tt,et]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:fe()}],"bg-repeat":[{bg:F()}],"bg-size":[{bg:W()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},gi,tt,et],radial:["",tt,et],conic:[gi,tt,et]},v5,x5]}],"bg-color":[{bg:Q()}],"gradient-from-pos":[{from:me()}],"gradient-via-pos":[{via:me()}],"gradient-to-pos":[{to:me()}],"gradient-from":[{from:Q()}],"gradient-via":[{via:Q()}],"gradient-to":[{to:Q()}],rounded:[{rounded:U()}],"rounded-s":[{"rounded-s":U()}],"rounded-e":[{"rounded-e":U()}],"rounded-t":[{"rounded-t":U()}],"rounded-r":[{"rounded-r":U()}],"rounded-b":[{"rounded-b":U()}],"rounded-l":[{"rounded-l":U()}],"rounded-ss":[{"rounded-ss":U()}],"rounded-se":[{"rounded-se":U()}],"rounded-ee":[{"rounded-ee":U()}],"rounded-es":[{"rounded-es":U()}],"rounded-tl":[{"rounded-tl":U()}],"rounded-tr":[{"rounded-tr":U()}],"rounded-br":[{"rounded-br":U()}],"rounded-bl":[{"rounded-bl":U()}],"border-w":[{border:re()}],"border-w-x":[{"border-x":re()}],"border-w-y":[{"border-y":re()}],"border-w-s":[{"border-s":re()}],"border-w-e":[{"border-e":re()}],"border-w-t":[{"border-t":re()}],"border-w-r":[{"border-r":re()}],"border-w-b":[{"border-b":re()}],"border-w-l":[{"border-l":re()}],"divide-x":[{"divide-x":re()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":re()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[..._e(),"hidden","none"]}],"divide-style":[{divide:[..._e(),"hidden","none"]}],"border-color":[{border:Q()}],"border-color-x":[{"border-x":Q()}],"border-color-y":[{"border-y":Q()}],"border-color-s":[{"border-s":Q()}],"border-color-e":[{"border-e":Q()}],"border-color-t":[{"border-t":Q()}],"border-color-r":[{"border-r":Q()}],"border-color-b":[{"border-b":Q()}],"border-color-l":[{"border-l":Q()}],"divide-color":[{divide:Q()}],"outline-style":[{outline:[..._e(),"none","hidden"]}],"outline-offset":[{"outline-offset":[zt,tt,et]}],"outline-w":[{outline:["",zt,du,mo]}],"outline-color":[{outline:Q()}],shadow:[{shadow:["","none",p,Cf,kf]}],"shadow-color":[{shadow:Q()}],"inset-shadow":[{"inset-shadow":["none",g,Cf,kf]}],"inset-shadow-color":[{"inset-shadow":Q()}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Q()}],"ring-offset-w":[{"ring-offset":[zt,mo]}],"ring-offset-color":[{"ring-offset":Q()}],"inset-ring-w":[{"inset-ring":re()}],"inset-ring-color":[{"inset-ring":Q()}],"text-shadow":[{"text-shadow":["none",b,Cf,kf]}],"text-shadow-color":[{"text-shadow":Q()}],opacity:[{opacity:[zt,tt,et]}],"mix-blend":[{"mix-blend":[...xe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":xe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[zt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ee()}],"mask-image-linear-from-color":[{"mask-linear-from":Q()}],"mask-image-linear-to-color":[{"mask-linear-to":Q()}],"mask-image-t-from-pos":[{"mask-t-from":Ee()}],"mask-image-t-to-pos":[{"mask-t-to":Ee()}],"mask-image-t-from-color":[{"mask-t-from":Q()}],"mask-image-t-to-color":[{"mask-t-to":Q()}],"mask-image-r-from-pos":[{"mask-r-from":Ee()}],"mask-image-r-to-pos":[{"mask-r-to":Ee()}],"mask-image-r-from-color":[{"mask-r-from":Q()}],"mask-image-r-to-color":[{"mask-r-to":Q()}],"mask-image-b-from-pos":[{"mask-b-from":Ee()}],"mask-image-b-to-pos":[{"mask-b-to":Ee()}],"mask-image-b-from-color":[{"mask-b-from":Q()}],"mask-image-b-to-color":[{"mask-b-to":Q()}],"mask-image-l-from-pos":[{"mask-l-from":Ee()}],"mask-image-l-to-pos":[{"mask-l-to":Ee()}],"mask-image-l-from-color":[{"mask-l-from":Q()}],"mask-image-l-to-color":[{"mask-l-to":Q()}],"mask-image-x-from-pos":[{"mask-x-from":Ee()}],"mask-image-x-to-pos":[{"mask-x-to":Ee()}],"mask-image-x-from-color":[{"mask-x-from":Q()}],"mask-image-x-to-color":[{"mask-x-to":Q()}],"mask-image-y-from-pos":[{"mask-y-from":Ee()}],"mask-image-y-to-pos":[{"mask-y-to":Ee()}],"mask-image-y-from-color":[{"mask-y-from":Q()}],"mask-image-y-to-color":[{"mask-y-to":Q()}],"mask-image-radial":[{"mask-radial":[tt,et]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ee()}],"mask-image-radial-from-color":[{"mask-radial-from":Q()}],"mask-image-radial-to-color":[{"mask-radial-to":Q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[zt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ee()}],"mask-image-conic-from-color":[{"mask-conic-from":Q()}],"mask-image-conic-to-color":[{"mask-conic-to":Q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:fe()}],"mask-repeat":[{mask:F()}],"mask-size":[{mask:W()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",tt,et]}],filter:[{filter:["","none",tt,et]}],blur:[{blur:Oe()}],brightness:[{brightness:[zt,tt,et]}],contrast:[{contrast:[zt,tt,et]}],"drop-shadow":[{"drop-shadow":["","none",y,Cf,kf]}],"drop-shadow-color":[{"drop-shadow":Q()}],grayscale:[{grayscale:["",zt,tt,et]}],"hue-rotate":[{"hue-rotate":[zt,tt,et]}],invert:[{invert:["",zt,tt,et]}],saturate:[{saturate:[zt,tt,et]}],sepia:[{sepia:["",zt,tt,et]}],"backdrop-filter":[{"backdrop-filter":["","none",tt,et]}],"backdrop-blur":[{"backdrop-blur":Oe()}],"backdrop-brightness":[{"backdrop-brightness":[zt,tt,et]}],"backdrop-contrast":[{"backdrop-contrast":[zt,tt,et]}],"backdrop-grayscale":[{"backdrop-grayscale":["",zt,tt,et]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[zt,tt,et]}],"backdrop-invert":[{"backdrop-invert":["",zt,tt,et]}],"backdrop-opacity":[{"backdrop-opacity":[zt,tt,et]}],"backdrop-saturate":[{"backdrop-saturate":[zt,tt,et]}],"backdrop-sepia":[{"backdrop-sepia":["",zt,tt,et]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",tt,et]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[zt,"initial",tt,et]}],ease:[{ease:["linear","initial",S,tt,et]}],delay:[{delay:[zt,tt,et]}],animate:[{animate:["none",C,tt,et]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,tt,et]}],"perspective-origin":[{"perspective-origin":O()}],rotate:[{rotate:$e()}],"rotate-x":[{"rotate-x":$e()}],"rotate-y":[{"rotate-y":$e()}],"rotate-z":[{"rotate-z":$e()}],scale:[{scale:Le()}],"scale-x":[{"scale-x":Le()}],"scale-y":[{"scale-y":Le()}],"scale-z":[{"scale-z":Le()}],"scale-3d":["scale-3d"],skew:[{skew:lt()}],"skew-x":[{"skew-x":lt()}],"skew-y":[{"skew-y":lt()}],transform:[{transform:[tt,et,"","none","gpu","cpu"]}],"transform-origin":[{origin:O()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ke()}],"translate-x":[{"translate-x":Ke()}],"translate-y":[{"translate-y":Ke()}],"translate-z":[{"translate-z":Ke()}],"translate-none":["translate-none"],accent:[{accent:Q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",tt,et]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",tt,et]}],fill:[{fill:["none",...Q()]}],"stroke-w":[{stroke:[zt,du,mo,Lg]}],stroke:[{stroke:["none",...Q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},S5=r5(j5);function jn(...e){return S5(_N(e))}function Wx(t){var e=Me(t,[]);return c.jsx(H4,L({"data-slot":"popover"},e))}function Xx(t){var e=Me(t,[]);return c.jsx(V4,L({"data-slot":"popover-trigger"},e))}function Gx(a){var o=a,{className:e,align:t="center",sideOffset:n=4}=o,s=Me(o,["className","align","sideOffset"]);return c.jsx($4,{children:c.jsx(q4,L({"data-slot":"popover-content",align:t,sideOffset:n,className:jn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e)},s))})}const Lu=class Lu{static useUsers(){const{data:t,isLoading:n,error:s}=dn("User",{fields:Lu.USER_FIELDS,filters:[["enabled","=",1],["user_type","=","System User"]],limit:0});return{data:t||[],isLoading:n,error:s}}static useCurrentUser(){const{currentUser:t,isLoading:n}=Ti();return{currentUser:t,isLoading:n}}static useCurrentUserProfile(){const{currentUser:t}=Ti(),{data:n,isLoading:s,error:a}=ss("User",t||void 0,{fields:Lu.USER_FIELDS});return{currentUserProfile:n,isLoading:s,error:a}}};ft(Lu,"USER_FIELDS",["name","email","full_name","first_name","last_name","user_image","enabled","user_type","role_profile_name"]);let Sh=Lu;const N5=Sh.useCurrentUser,E5=Sh.useCurrentUserProfile,T5=()=>ye(null,null,function*(){try{const e=yield fetch("/api/method/frappe.auth.get_logged_user",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token||""}});if(e.status===401||e.status===403)return{isValid:!1};if(e.ok){const t=yield e.json();if(t&&!t.exc)return{isValid:!0}}return{isValid:!1}}catch(e){return console.error("Token validation error:",e),{isValid:!1}}}),DN=()=>{try{localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(t=>{const n=t.indexOf("="),s=n>-1?t.substr(0,n).trim():t.trim();document.cookie=`${s}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;domain=${window.location.hostname}`,document.cookie=`${s}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/`}),console.warn("Session expired. Redirecting to login...");const e="/login";window.location.href=e}catch(e){console.error("Error handling token expiry:",e),window.location.href="/login"}},k5=()=>"/login",ch=()=>window.location.pathname.includes("/login")||window.location.pathname.includes("/signin");function C5(e){if(typeof document=="undefined")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const A5=e=>{switch(e){case"success":return D5;case"info":return P5;case"warning":return M5;case"error":return L5;default:return null}},O5=Array(12).fill(0),R5=({visible:e,className:t})=>Z.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Z.createElement("div",{className:"sonner-spinner"},O5.map((n,s)=>Z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),D5=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),M5=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),P5=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),L5=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),z5=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),U5=()=>{const[e,t]=Z.useState(document.hidden);return Z.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let M0=1;class B5{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const f=t,{message:s}=f,a=Me(f,["message"]),o=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:M0++,l=this.toasts.find(h=>h.id===o),d=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),l?this.toasts=this.toasts.map(h=>h.id===o?(this.publish(de(L(L({},h),t),{id:o,title:s})),de(L(L({},h),t),{id:o,dismissible:d,title:s})):h):this.addToast(de(L({title:s},a),{dismissible:d,id:o})),o},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create(de(L({},n),{message:t})),this.error=(t,n)=>this.create(de(L({},n),{message:t,type:"error"})),this.success=(t,n)=>this.create(de(L({},n),{type:"success",message:t})),this.info=(t,n)=>this.create(de(L({},n),{type:"info",message:t})),this.warning=(t,n)=>this.create(de(L({},n),{type:"warning",message:t})),this.loading=(t,n)=>this.create(de(L({},n),{type:"loading",message:t})),this.promise=(t,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create(de(L({},n),{promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0})));const a=Promise.resolve(t instanceof Function?t():t);let o=s!==void 0,l;const d=a.then(h=>ye(this,null,function*(){if(l=["resolve",h],Z.isValidElement(h))o=!1,this.create({id:s,type:"default",message:h});else if(H5(h)&&!h.ok){o=!1;const g=typeof n.error=="function"?yield n.error(`HTTP error! status: ${h.status}`):n.error,b=typeof n.description=="function"?yield n.description(`HTTP error! status: ${h.status}`):n.description,w=typeof g=="object"&&!Z.isValidElement(g)?g:{message:g};this.create(L({id:s,type:"error",description:b},w))}else if(h instanceof Error){o=!1;const g=typeof n.error=="function"?yield n.error(h):n.error,b=typeof n.description=="function"?yield n.description(h):n.description,w=typeof g=="object"&&!Z.isValidElement(g)?g:{message:g};this.create(L({id:s,type:"error",description:b},w))}else if(n.success!==void 0){o=!1;const g=typeof n.success=="function"?yield n.success(h):n.success,b=typeof n.description=="function"?yield n.description(h):n.description,w=typeof g=="object"&&!Z.isValidElement(g)?g:{message:g};this.create(L({id:s,type:"success",description:b},w))}})).catch(h=>ye(this,null,function*(){if(l=["reject",h],n.error!==void 0){o=!1;const p=typeof n.error=="function"?yield n.error(h):n.error,g=typeof n.description=="function"?yield n.description(h):n.description,y=typeof p=="object"&&!Z.isValidElement(p)?p:{message:p};this.create(L({id:s,type:"error",description:g},y))}})).finally(()=>{o&&(this.dismiss(s),s=void 0),n.finally==null||n.finally.call(n)}),f=()=>new Promise((h,p)=>d.then(()=>l[0]==="reject"?p(l[1]):h(l[1])).catch(p));return typeof s!="string"&&typeof s!="number"?{unwrap:f}:Object.assign(s,{unwrap:f})},this.custom=(t,n)=>{const s=(n==null?void 0:n.id)||M0++;return this.create(L({jsx:t(s),id:s},n)),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Fs=new B5,F5=(e,t)=>{const n=(t==null?void 0:t.id)||M0++;return Fs.addToast(de(L({title:e},t),{id:n})),n},H5=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",V5=F5,$5=()=>Fs.toasts,q5=()=>Fs.getActiveToasts(),fu=Object.assign(V5,{success:Fs.success,info:Fs.info,warning:Fs.warning,error:Fs.error,custom:Fs.custom,message:Fs.message,promise:Fs.promise,dismiss:Fs.dismiss,loading:Fs.loading},{getHistory:$5,getToasts:q5});C5("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Af(e){return e.label!==void 0}const I5=3,Y5="24px",W5="16px",R1=4e3,X5=356,G5=14,K5=45,Q5=200;function Kr(...e){return e.filter(Boolean).join(" ")}function Z5(e){const[t,n]=e.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}const J5=e=>{var t,n,s,a,o,l,d,f,h;const{invert:p,toast:g,unstyled:b,interacting:y,setHeights:w,visibleToasts:_,heights:j,index:S,toasts:C,expanded:R,removeToast:k,defaultRichColors:O,closeButton:D,style:$,cancelButtonStyle:A,actionButtonStyle:B,className:J="",descriptionClassName:K="",duration:I,position:ee,gap:pe,expandByDefault:ne,classNames:V,icons:te,closeButtonAriaLabel:Q="Close toast"}=e,[fe,F]=Z.useState(null),[W,me]=Z.useState(null),[U,re]=Z.useState(!1),[_e,xe]=Z.useState(!1),[Ee,Oe]=Z.useState(!1),[$e,Le]=Z.useState(!1),[lt,Ke]=Z.useState(!1),[pt,Pe]=Z.useState(0),[ht,Ft]=Z.useState(0),vt=Z.useRef(g.duration||I||R1),Dt=Z.useRef(null),St=Z.useRef(null),Y=S===0,le=S+1<=_,q=g.type,Se=g.dismissible!==!1,De=g.className||"",Re=g.descriptionClassName||"",Fe=Z.useMemo(()=>j.findIndex(Ge=>Ge.toastId===g.id)||0,[j,g.id]),Ie=Z.useMemo(()=>{var Ge;return(Ge=g.closeButton)!=null?Ge:D},[g.closeButton,D]),Qe=Z.useMemo(()=>g.duration||I||R1,[g.duration,I]),yt=Z.useRef(0),bn=Z.useRef(0),ct=Z.useRef(0),ke=Z.useRef(null),[He,Mt]=ee.split("-"),Sn=Z.useMemo(()=>j.reduce((Ge,jt,It)=>It>=Fe?Ge:Ge+jt.height,0),[j,Fe]),as=U5(),Hn=g.invert||p,ds=q==="loading";bn.current=Z.useMemo(()=>Fe*pe+Sn,[Fe,Sn]),Z.useEffect(()=>{vt.current=Qe},[Qe]),Z.useEffect(()=>{re(!0)},[]),Z.useEffect(()=>{const Ge=St.current;if(Ge){const jt=Ge.getBoundingClientRect().height;return Ft(jt),w(It=>[{toastId:g.id,height:jt,position:g.position},...It]),()=>w(It=>It.filter(Xt=>Xt.toastId!==g.id))}},[w,g.id]),Z.useLayoutEffect(()=>{if(!U)return;const Ge=St.current,jt=Ge.style.height;Ge.style.height="auto";const It=Ge.getBoundingClientRect().height;Ge.style.height=jt,Ft(It),w(Xt=>Xt.find(ae=>ae.toastId===g.id)?Xt.map(ae=>ae.toastId===g.id?de(L({},ae),{height:It}):ae):[{toastId:g.id,height:It,position:g.position},...Xt])},[U,g.title,g.description,w,g.id,g.jsx,g.action,g.cancel]);const Xe=Z.useCallback(()=>{xe(!0),Pe(bn.current),w(Ge=>Ge.filter(jt=>jt.toastId!==g.id)),setTimeout(()=>{k(g)},Q5)},[g,k,w,bn]);Z.useEffect(()=>{if(g.promise&&q==="loading"||g.duration===1/0||g.type==="loading")return;let Ge;return R||y||as?(()=>{if(ct.current<yt.current){const Xt=new Date().getTime()-yt.current;vt.current=vt.current-Xt}ct.current=new Date().getTime()})():(()=>{vt.current!==1/0&&(yt.current=new Date().getTime(),Ge=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),Xe()},vt.current))})(),()=>clearTimeout(Ge)},[R,y,g,q,as,Xe]),Z.useEffect(()=>{g.delete&&(Xe(),g.onDismiss==null||g.onDismiss.call(g,g))},[Xe,g.delete]);function Pt(){var Ge;if(te!=null&&te.loading){var jt;return Z.createElement("div",{className:Kr(V==null?void 0:V.loader,g==null||(jt=g.classNames)==null?void 0:jt.loader,"sonner-loader"),"data-visible":q==="loading"},te.loading)}return Z.createElement(R5,{className:Kr(V==null?void 0:V.loader,g==null||(Ge=g.classNames)==null?void 0:Ge.loader),visible:q==="loading"})}const Ht=g.icon||(te==null?void 0:te[q])||A5(q);var Nt,en;return Z.createElement("li",{tabIndex:0,ref:St,className:Kr(J,De,V==null?void 0:V.toast,g==null||(t=g.classNames)==null?void 0:t.toast,V==null?void 0:V.default,V==null?void 0:V[q],g==null||(n=g.classNames)==null?void 0:n[q]),"data-sonner-toast":"","data-rich-colors":(Nt=g.richColors)!=null?Nt:O,"data-styled":!(g.jsx||g.unstyled||b),"data-mounted":U,"data-promise":!!g.promise,"data-swiped":lt,"data-removed":_e,"data-visible":le,"data-y-position":He,"data-x-position":Mt,"data-index":S,"data-front":Y,"data-swiping":Ee,"data-dismissible":Se,"data-type":q,"data-invert":Hn,"data-swipe-out":$e,"data-swipe-direction":W,"data-expanded":!!(R||ne&&U),"data-testid":g.testId,style:L(L({"--index":S,"--toasts-before":S,"--z-index":C.length-S,"--offset":`${_e?pt:bn.current}px`,"--initial-height":ne?"auto":`${ht}px`},$),g.style),onDragEnd:()=>{Oe(!1),F(null),ke.current=null},onPointerDown:Ge=>{Ge.button!==2&&(ds||!Se||(Dt.current=new Date,Pe(bn.current),Ge.target.setPointerCapture(Ge.pointerId),Ge.target.tagName!=="BUTTON"&&(Oe(!0),ke.current={x:Ge.clientX,y:Ge.clientY})))},onPointerUp:()=>{var Ge,jt,It;if($e||!Se)return;ke.current=null;const Xt=Number(((Ge=St.current)==null?void 0:Ge.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),G=Number(((jt=St.current)==null?void 0:jt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ae=new Date().getTime()-((It=Dt.current)==null?void 0:It.getTime()),ue=fe==="x"?Xt:G,je=Math.abs(ue)/ae;if(Math.abs(ue)>=K5||je>.11){Pe(bn.current),g.onDismiss==null||g.onDismiss.call(g,g),me(fe==="x"?Xt>0?"right":"left":G>0?"down":"up"),Xe(),Le(!0);return}else{var Ae,Ve;(Ae=St.current)==null||Ae.style.setProperty("--swipe-amount-x","0px"),(Ve=St.current)==null||Ve.style.setProperty("--swipe-amount-y","0px")}Ke(!1),Oe(!1),F(null)},onPointerMove:Ge=>{var jt,It,Xt;if(!ke.current||!Se||((jt=window.getSelection())==null?void 0:jt.toString().length)>0)return;const ae=Ge.clientY-ke.current.y,ue=Ge.clientX-ke.current.x;var je;const Ae=(je=e.swipeDirections)!=null?je:Z5(ee);!fe&&(Math.abs(ue)>1||Math.abs(ae)>1)&&F(Math.abs(ue)>Math.abs(ae)?"x":"y");let Ve={x:0,y:0};const Ze=nt=>1/(1.5+Math.abs(nt)/20);if(fe==="y"){if(Ae.includes("top")||Ae.includes("bottom"))if(Ae.includes("top")&&ae<0||Ae.includes("bottom")&&ae>0)Ve.y=ae;else{const nt=ae*Ze(ae);Ve.y=Math.abs(nt)<Math.abs(ae)?nt:ae}}else if(fe==="x"&&(Ae.includes("left")||Ae.includes("right")))if(Ae.includes("left")&&ue<0||Ae.includes("right")&&ue>0)Ve.x=ue;else{const nt=ue*Ze(ue);Ve.x=Math.abs(nt)<Math.abs(ue)?nt:ue}(Math.abs(Ve.x)>0||Math.abs(Ve.y)>0)&&Ke(!0),(It=St.current)==null||It.style.setProperty("--swipe-amount-x",`${Ve.x}px`),(Xt=St.current)==null||Xt.style.setProperty("--swipe-amount-y",`${Ve.y}px`)}},Ie&&!g.jsx&&q!=="loading"?Z.createElement("button",{"aria-label":Q,"data-disabled":ds,"data-close-button":!0,onClick:ds||!Se?()=>{}:()=>{Xe(),g.onDismiss==null||g.onDismiss.call(g,g)},className:Kr(V==null?void 0:V.closeButton,g==null||(s=g.classNames)==null?void 0:s.closeButton)},(en=te==null?void 0:te.close)!=null?en:z5):null,(q||g.icon||g.promise)&&g.icon!==null&&((te==null?void 0:te[q])!==null||g.icon)?Z.createElement("div",{"data-icon":"",className:Kr(V==null?void 0:V.icon,g==null||(a=g.classNames)==null?void 0:a.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Pt():null,g.type!=="loading"?Ht:null):null,Z.createElement("div",{"data-content":"",className:Kr(V==null?void 0:V.content,g==null||(o=g.classNames)==null?void 0:o.content)},Z.createElement("div",{"data-title":"",className:Kr(V==null?void 0:V.title,g==null||(l=g.classNames)==null?void 0:l.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?Z.createElement("div",{"data-description":"",className:Kr(K,Re,V==null?void 0:V.description,g==null||(d=g.classNames)==null?void 0:d.description)},typeof g.description=="function"?g.description():g.description):null),Z.isValidElement(g.cancel)?g.cancel:g.cancel&&Af(g.cancel)?Z.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||A,onClick:Ge=>{Af(g.cancel)&&Se&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,Ge),Xe())},className:Kr(V==null?void 0:V.cancelButton,g==null||(f=g.classNames)==null?void 0:f.cancelButton)},g.cancel.label):null,Z.isValidElement(g.action)?g.action:g.action&&Af(g.action)?Z.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||B,onClick:Ge=>{Af(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,Ge),!Ge.defaultPrevented&&Xe())},className:Kr(V==null?void 0:V.actionButton,g==null||(h=g.classNames)==null?void 0:h.actionButton)},g.action.label):null)};function D1(){if(typeof window=="undefined"||typeof document=="undefined")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function eL(e,t){const n={};return[e,t].forEach((s,a)=>{const o=a===1,l=o?"--mobile-offset":"--offset",d=o?W5:Y5;function f(h){["top","right","bottom","left"].forEach(p=>{n[`${l}-${p}`]=typeof h=="number"?`${h}px`:h})}typeof s=="number"||typeof s=="string"?f(s):typeof s=="object"?["top","right","bottom","left"].forEach(h=>{s[h]===void 0?n[`${l}-${h}`]=d:n[`${l}-${h}`]=typeof s[h]=="number"?`${s[h]}px`:s[h]}):f(d)}),n}const tL=Z.forwardRef(function(t,n){const{id:s,invert:a,position:o="bottom-right",hotkey:l=["altKey","KeyT"],expand:d,closeButton:f,className:h,offset:p,mobileOffset:g,theme:b="light",richColors:y,duration:w,style:_,visibleToasts:j=I5,toastOptions:S,dir:C=D1(),gap:R=G5,icons:k,containerAriaLabel:O="Notifications"}=t,[D,$]=Z.useState([]),A=Z.useMemo(()=>s?D.filter(U=>U.toasterId===s):D.filter(U=>!U.toasterId),[D,s]),B=Z.useMemo(()=>Array.from(new Set([o].concat(A.filter(U=>U.position).map(U=>U.position)))),[A,o]),[J,K]=Z.useState([]),[I,ee]=Z.useState(!1),[pe,ne]=Z.useState(!1),[V,te]=Z.useState(b!=="system"?b:typeof window!="undefined"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Q=Z.useRef(null),fe=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=Z.useRef(null),W=Z.useRef(!1),me=Z.useCallback(U=>{$(re=>{var _e;return(_e=re.find(xe=>xe.id===U.id))!=null&&_e.delete||Fs.dismiss(U.id),re.filter(({id:xe})=>xe!==U.id)})},[]);return Z.useEffect(()=>Fs.subscribe(U=>{if(U.dismiss){requestAnimationFrame(()=>{$(re=>re.map(_e=>_e.id===U.id?de(L({},_e),{delete:!0}):_e))});return}setTimeout(()=>{_2.flushSync(()=>{$(re=>{const _e=re.findIndex(xe=>xe.id===U.id);return _e!==-1?[...re.slice(0,_e),L(L({},re[_e]),U),...re.slice(_e+1)]:[U,...re]})})})}),[D]),Z.useEffect(()=>{if(b!=="system"){te(b);return}if(b==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?te("dark"):te("light")),typeof window=="undefined")return;const U=window.matchMedia("(prefers-color-scheme: dark)");try{U.addEventListener("change",({matches:re})=>{te(re?"dark":"light")})}catch(re){U.addListener(({matches:_e})=>{try{te(_e?"dark":"light")}catch(xe){console.error(xe)}})}},[b]),Z.useEffect(()=>{D.length<=1&&ee(!1)},[D]),Z.useEffect(()=>{const U=re=>{var _e;if(l.every(Oe=>re[Oe]||re.code===Oe)){var Ee;ee(!0),(Ee=Q.current)==null||Ee.focus()}re.code==="Escape"&&(document.activeElement===Q.current||(_e=Q.current)!=null&&_e.contains(document.activeElement))&&ee(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[l]),Z.useEffect(()=>{if(Q.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,W.current=!1)}},[Q.current]),Z.createElement("section",{ref:n,"aria-label":`${O} ${fe}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},B.map((U,re)=>{var _e;const[xe,Ee]=U.split("-");return A.length?Z.createElement("ol",{key:U,dir:C==="auto"?D1():C,tabIndex:-1,ref:Q,className:h,"data-sonner-toaster":!0,"data-sonner-theme":V,"data-y-position":xe,"data-x-position":Ee,style:L(L({"--front-toast-height":`${((_e=J[0])==null?void 0:_e.height)||0}px`,"--width":`${X5}px`,"--gap":`${R}px`},_),eL(p,g)),onBlur:Oe=>{W.current&&!Oe.currentTarget.contains(Oe.relatedTarget)&&(W.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:Oe=>{Oe.target instanceof HTMLElement&&Oe.target.dataset.dismissible==="false"||W.current||(W.current=!0,F.current=Oe.relatedTarget)},onMouseEnter:()=>ee(!0),onMouseMove:()=>ee(!0),onMouseLeave:()=>{pe||ee(!1)},onDragEnd:()=>ee(!1),onPointerDown:Oe=>{Oe.target instanceof HTMLElement&&Oe.target.dataset.dismissible==="false"||ne(!0)},onPointerUp:()=>ne(!1)},A.filter(Oe=>!Oe.position&&re===0||Oe.position===U).map((Oe,$e)=>{var Le,lt;return Z.createElement(J5,{key:Oe.id,icons:k,index:$e,toast:Oe,defaultRichColors:y,duration:(Le=S==null?void 0:S.duration)!=null?Le:w,className:S==null?void 0:S.className,descriptionClassName:S==null?void 0:S.descriptionClassName,invert:a,visibleToasts:j,closeButton:(lt=S==null?void 0:S.closeButton)!=null?lt:f,interacting:pe,position:U,style:S==null?void 0:S.style,unstyled:S==null?void 0:S.unstyled,classNames:S==null?void 0:S.classNames,cancelButtonStyle:S==null?void 0:S.cancelButtonStyle,actionButtonStyle:S==null?void 0:S.actionButtonStyle,closeButtonAriaLabel:S==null?void 0:S.closeButtonAriaLabel,removeToast:me,toasts:A.filter(Ke=>Ke.position==Oe.position),heights:J.filter(Ke=>Ke.position==Oe.position),setHeights:K,expandByDefault:d,gap:R,expanded:I,swipeDirections:t.swipeDirections})})):null}))}),Of={duration:4e3};class P0{static success(t,n){const s=`success-${t}`;return this.activeToasts.has(s)?void 0:(this.activeToasts.add(s),fu.success(t,{description:n==null?void 0:n.description,duration:(n==null?void 0:n.duration)||Of.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)}}))}static error(t,n){const s=`error-${t}`;return this.activeToasts.has(s)?void 0:(this.activeToasts.add(s),fu.error(t,{description:n==null?void 0:n.description,duration:(n==null?void 0:n.duration)||Of.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)}}))}static info(t,n){const s=`info-${t}`;return this.activeToasts.has(s)?void 0:(this.activeToasts.add(s),fu.info(t,{description:n==null?void 0:n.description,duration:(n==null?void 0:n.duration)||Of.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)}}))}static warning(t,n){const s=`warning-${t}`;return this.activeToasts.has(s)?void 0:(this.activeToasts.add(s),fu.warning(t,{description:n==null?void 0:n.description,duration:(n==null?void 0:n.duration)||Of.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)}}))}static dismissAll(){fu.dismiss(),this.activeToasts.clear()}static clearCache(){this.activeToasts.clear()}}ft(P0,"activeToasts",new Set),ft(P0,"DUPLICATE_TIMEOUT",1e3);const kn=P0,nL=({onMenuClick:e})=>{const{currentUser:t,isLoading:n}=N5(),{currentUserProfile:s}=E5(),{logout:a}=Ti(),o=()=>ye(null,null,function*(){try{kn.success("Logging out...",{description:"You will be redirected to the login page.",duration:2e3}),yield a(),setTimeout(()=>{DN()},1e3)}catch(p){console.error("Logout failed:",p),kn.error("Logout failed",{description:"Please try again or contact support."}),setTimeout(()=>{window.location.href=k5()},2e3)}}),l=()=>s?s.full_name||s.first_name||s.email||"User":!t||typeof t=="string"?t||"Guest":t.full_name||t.first_name||t.email||"User",d=()=>t?l().split(" ").map(g=>g[0]).join("").toUpperCase().slice(0,2):"G",f=()=>s!=null&&s.user_image?s.user_image:null,h=()=>s?s.email:t&&typeof t!="string"?t.email:t||"No email";return c.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between h-16 px-6",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200 lg:hidden",children:c.jsx(yM,{className:"h-5 w-5 text-gray-600"})}),c.jsxs("div",{className:"relative hidden md:block",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Yh,{className:"h-4 w-4 text-gray-400"})}),c.jsx("input",{type:"text",className:"block w-80 pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-gray-50 placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Search projects, tasks, or team members..."})]})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("button",{className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[c.jsx(PD,{className:"h-5 w-5 text-gray-600"}),c.jsx("span",{className:"absolute top-1 right-1 h-2 w-2 bg-red-500 rounded-full"})]}),c.jsx("div",{className:"relative",children:c.jsxs(Wx,{children:[c.jsx(Xx,{asChild:!0,children:c.jsxs("button",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[c.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:f()?c.jsx("img",{src:f(),alt:"User avatar",className:"w-8 h-8 rounded-full object-cover"}):c.jsx("span",{className:"text-xs font-medium text-white",children:d()})}),c.jsx("span",{className:"hidden md:block text-sm font-medium text-gray-700",children:n?"Loading...":l()}),c.jsx(S2,{className:"h-4 w-4 text-gray-500"})]})}),c.jsxs(Gx,{className:"w-64 p-0",align:"end",children:[c.jsx("div",{className:"p-4 border-b border-gray-100",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:f()?c.jsx("img",{src:f(),alt:"User avatar",className:"w-10 h-10 rounded-full object-cover"}):c.jsx("span",{className:"text-sm font-medium text-white",children:d()})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900",children:l()}),c.jsx("p",{className:"text-sm text-gray-500",children:h()})]})]})}),c.jsxs("div",{className:"p-2",children:[c.jsxs("button",{className:"w-full flex items-center space-x-3 px-3 py-2 text-left rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[c.jsx(T2,{className:"h-4 w-4 text-gray-500"}),c.jsx("span",{className:"text-sm text-gray-700",children:"Settings"})]}),c.jsxs("button",{onClick:o,className:"w-full flex items-center space-x-3 px-3 py-2 text-left rounded-lg hover:bg-red-50 transition-colors duration-200 text-red-600",children:[c.jsx(gM,{className:"h-4 w-4"}),c.jsx("span",{className:"text-sm",children:"Sign out"})]})]})]})]})})]})]})})},sL=t=>{var e=Me(t,[]);const{theme:n="system"}=cO();return c.jsx(tL,L({theme:n,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"}},e))},rL=()=>{const[e,t]=N.useState(!1);return c.jsxs("div",{className:"flex h-screen bg-gray-50",children:[c.jsx("div",{className:"hidden lg:flex lg:flex-shrink-0",children:c.jsx(r1,{})}),e&&c.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>t(!1)}),c.jsx("div",{className:"relative flex flex-col w-64 h-full bg-white shadow-xl",children:c.jsx(r1,{})})]}),c.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[c.jsx(nL,{onMenuClick:()=>t(!e)}),c.jsx("main",{className:"flex-1 overflow-y-auto",children:c.jsx("div",{className:"py-6",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsx(VR,{})})})})]}),c.jsx(sL,{position:"top-right",richColors:!0,expand:!0,closeButton:!0,toastOptions:{duration:4e3}})]})},aL=(e={})=>{const{checkIntervalMinutes:t=5,showNotifications:n=!0,enabled:s=!0,onTokenExpired:a}=e,{currentUser:o,isLoading:l}=Ti(),d=N.useRef(null),f=N.useRef(!1),h=N.useCallback(()=>{d.current&&(clearInterval(d.current),d.current=null)},[]),p=N.useCallback(()=>{h(),n&&kn.error("Session Expired",{description:"Your session has expired. Please log in again.",duration:3e3}),a==null||a(),setTimeout(()=>{DN()},1e3)},[h,a,n]),g=N.useCallback(()=>ye(null,null,function*(){try{return(yield T5()).isValid?(f.current=!1,!0):(console.warn("Authentication check failed - token invalid"),p(),!1)}catch(_){return console.error("Error checking authentication:",_),!0}}),[p]),b=N.useCallback(()=>{if(!s||l||!o||ch())return;h(),g();const _=t*60*1e3;d.current=setInterval(g,_),console.log(`Auth watcher started - checking every ${t} minutes`)},[s,l,o,t,g,h]);N.useEffect(()=>(o&&!l?b():h(),h),[o,l,b,h]),N.useEffect(()=>h,[h]);const y=N.useCallback(()=>g(),[g]),w=N.useCallback(()=>{p()},[p]);return{checkAuth:y,forceLogout:w,isWatching:!!d.current,currentUser:o,isLoading:l}},iL=({children:e,checkInterval:t=5,showNotifications:n=!0})=>{const{isWatching:s,currentUser:a,isLoading:o}=aL({checkIntervalMinutes:t,showNotifications:n,enabled:!ch(),onTokenExpired:()=>{console.log("Token expired callback triggered")}});return N.useEffect(()=>{ch()||console.log("Auth watcher initialized:",{isWatching:s,currentUser:!!a,isLoading:o,checkInterval:t})},[s,a,o,t]),ch()?c.jsx(c.Fragment,{children:e}):o?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):c.jsx(c.Fragment,{children:e})};function oL(){return c.jsx(rO,{siteName:"react.test",socketPort:"9007",children:c.jsx(uO,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:c.jsx(iL,{checkInterval:5,showNotifications:!0,children:c.jsx(rL,{})})})})}const lL=()=>{const[e,t]=N.useState("all"),[n,s]=N.useState("all"),[a,o]=N.useState("all"),[l,d]=N.useState([]),[f,h]=N.useState(!1),{data:p,isLoading:g}=dn("Project",{fields:["name","project_name","status","department","team","estimated_costing","expected_end_date","percent_complete"]}),{data:b,isLoading:y}=dn("project_phase",{fields:["name"],limit:0});N.useEffect(()=>{ye(null,null,function*(){if(!b||b.length===0){d([]);return}h(!0),console.log("🔄 Fetching individual phase documents for tasks...");try{const B=b.map(I=>ye(null,null,function*(){try{const ee=yield fetch(`/api/resource/project_phase/${I.name}`,{method:"GET",headers:{Accept:"application/json"}});if(!ee.ok)return console.warn(`❌ Failed to fetch phase ${I.name}:`,ee.status),null;const pe=yield ee.json(),ne=pe.data||pe;return console.log(`✅ Phase ${I.name} full data:`,ne),console.log(`📋 Phase ${I.name} tasks:`,ne.tasks),ne}catch(ee){return console.error(`💥 Error fetching phase ${I.name}:`,ee),null}})),K=(yield Promise.all(B)).filter(I=>I!==null);console.log("🎉 All phases with tasks loaded:",K),d(K)}catch(B){console.error("💥 Error in fetchPhasesWithTasks:",B)}finally{h(!1)}})},[b]);const{data:w,isLoading:_}=dn("Task",{fields:["name","subject","status","exp_end_date","exp_start_date","project","progress","priority","is_group"],limit:0}),{data:j,isLoading:S}=dn("Timesheet",{fields:["name","total_hours"],limit:0}),C=(p||[]).map(A=>{var B;return de(L({},A),{project_type:A.project_type||"",customer:A.customer||"",company:A.company||"",department:A.department||"",team:A.team||"",expected_start_date:A.expected_start_date||"",expected_end_date:A.expected_end_date||"",actual_start_date:A.actual_start_date||"",actual_end_date:A.actual_end_date||null,percent_complete:A.percent_complete||0,priority:A.priority||"Medium",estimated_costing:A.estimated_costing||0,total_billable_amount:A.total_billable_amount||0,total_billed_amount:A.total_billed_amount||0,gross_margin:A.gross_margin||0,estimated_hours:A.estimated_hours||0,total_hours:A.total_hours||0,is_active:(B=A.is_active)!=null?B:!0})}),R=N.useMemo(()=>!l||l.length===0?[]:l.map(A=>{const B=A.tasks||[];return console.log(`📊 Processing Phase ${A.name} with ${B.length} tasks:`,B),de(L({},A),{phase_name:A.subject||A.name||"",status:A.status||"Open",expected_start_date:A.start_date||"",expected_end_date:A.end_date||"",actual_start_date:A.start_date||"",actual_end_date:null,progress:A.progress||0,description:A.details||"",tasks:B})}),[l]),k=(w||[]).map(A=>de(L({},A),{project:A.project||"",priority:A.priority||"Medium",type:A.type||"",expected_time:A.expected_time||0,actual_time:A.actual_time||0,start_date:A.exp_start_date||"",end_date:A.exp_end_date||"",progress:A.progress||0,assigned_to:A.assigned_to||null,is_group:A.is_group||!1,parent_task_name:A.parent_task_name||null})),O=(j||[]).map(A=>({name:A.name,employee:A.employee||"",project:"",task:"",start_date:A.start_date||"",end_date:A.end_date||"",total_hours:A.total_hours||0,billable:!0,billing_hours:0,billing_rate:0,billing_amount:0})),D=g||y||f||_||S,$=N.useMemo(()=>{let A=C;n!=="all"&&n!==""&&(A=A.filter(I=>I.department===n)),a!=="all"&&a!==""&&(A=A.filter(I=>I.team===a)),e!=="all"&&e!==""&&(A=A.filter(I=>I.project_name===e));const B=A.map(I=>I.project_name),J=A.map(I=>I.name),K=R.filter(I=>J.includes(I.project));return{filteredProjects:A,filteredPhases:K,filteredTasks:k.filter(I=>{const ee=I.project||"";return J.includes(ee)}),filteredTimesheets:O.filter(I=>I.project?B.includes(I.project):!0)}},[C,R,k,O,e,n,a]);return{allProjects:C,allPhases:R,filteredData:$,selectedProject:e,selectedDepartment:n,selectedTeam:a,setSelectedProject:t,setSelectedDepartment:s,setSelectedTeam:o,isLoading:D}},em=({title:e,children:t,className:n=""})=>c.jsxs("div",{className:`bg-white rounded-xl shadow-sm p-6 mb-6 ${n}`,children:[e&&c.jsx("div",{className:"text-xl font-semibold text-gray-800 mb-4",children:e}),t]}),cL=({projects:e,selectedProject:t,selectedDepartment:n,selectedTeam:s,onProjectChange:a,onDepartmentChange:o,onTeamChange:l})=>{const[d,f]=N.useState(!0),h=Array.from(new Set(e.map(y=>y.department).filter(Boolean))),p=n==="all"||n===""?[]:Array.from(new Set(e.filter(y=>y.department===n).map(y=>y.team).filter(Boolean))),g=e.filter(y=>n==="all"||n===""?!0:y.department!==n?!1:s==="all"||s===""?!0:y.team===s),b=()=>{const y=[];return n!=="all"&&y.push(`Phòng ban: ${n}`),s!=="all"&&y.push(`Team: ${s}`),t!=="all"&&y.push(`Dự án: ${t}`),y.length>0?y.join(" | "):"Tất cả dự án"};return c.jsx(em,{title:c.jsxs("div",{className:"flex items-center justify-between w-full cursor-pointer hover:bg-gray-50 -m-2 p-2 rounded-md transition-colors",onClick:()=>f(!d),children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(kx,{className:"w-5 h-5 mr-2 text-blue-600"}),c.jsx("span",{children:"Bộ lọc dự án"}),!d&&c.jsxs("span",{className:"ml-3 text-sm text-gray-600 font-normal",children:["- ",b()]})]}),c.jsx("button",{className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors p-1 rounded-md hover:bg-blue-50",title:d?"Thu gọn":"Mở rộng",onClick:y=>{y.stopPropagation(),f(!d)},children:d?c.jsx(VD,{className:"w-5 h-5"}):c.jsx(S2,{className:"w-5 h-5"})})]}),children:d&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phòng ban"}),c.jsxs("select",{value:n,onChange:y=>{o(y.target.value),l("all")},className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"all",children:"Tất cả phòng ban"}),h.map(y=>c.jsx("option",{value:y,children:y},y))]})]}),n!=="all"&&n!==""&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Team"}),c.jsxs("select",{value:s,onChange:y=>l(y.target.value),className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"all",children:"Tất cả team"}),p.map(y=>c.jsx("option",{value:y,children:y},y))]})]}),c.jsxs("div",{className:n!=="all"&&n!==""?"md:col-span-2":"md:col-span-3",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dự án"}),c.jsxs("select",{value:t,onChange:y=>a(y.target.value),className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"all",children:"Tất cả dự án"}),g.map(y=>c.jsxs("option",{value:y.project_name,children:[y.project_name," (",y.department," - ",y.team,")"]},y.name))]})]})]})})},uL=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),dL=e=>{switch(e){case"Open":case"Đang mở":return"bg-blue-100 text-blue-800";case"Working":case"Đang thực hiện":return"bg-orange-100 text-orange-800";case"Completed":case"Hoàn thành":return"bg-green-100 text-green-800";case"Overdue":case"Quá hạn":case"Sắp đến hạn":return"bg-red-100 text-red-800";case"Cancelled":case"Hủy":case"Đã hủy":return"bg-gray-100 text-gray-800";case"Đang xem xét":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},fL=e=>{switch(e){case"Urgent":case"Khẩn cấp":return"bg-red-100 text-red-800";case"High":case"Cao":return"bg-orange-100 text-red-800";case"Medium":case"Trung bình":return"bg-yellow-100 text-yellow-800";case"Low":case"Thấp":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},hL=({projects:e,tasks:t,selectedProject:n})=>{const s=n&&n!=="all",a=s?"Task":"Dự án";let o,l,d;if(s){o=t.filter(g=>g.status==="Open"||g.status==="Working"||g.status!=="Completed"&&g.status!=="Cancelled").length,l=t.filter(g=>g.status==="Completed").length;const p=new Date;d=t.filter(g=>g.exp_end_date?new Date(g.exp_end_date)<p&&g.status!=="Completed":!1).length,t.reduce((g,b)=>g+(b.expected_time||0),0)}else{o=e.filter(g=>g.status==="Đang thực hiện"||g.status!=="Hoàn thành"&&g.status!=="Hủy"&&g.percent_complete<100).length,l=e.filter(g=>g.status==="Hoàn thành"||g.percent_complete===100).length;const p=new Date;d=e.filter(g=>new Date(g.expected_end_date)<p&&g.status!=="Hoàn thành"&&g.percent_complete<100).length}const f=e.reduce((p,g)=>p+(g.estimated_costing||0),0),h=[{title:`${a} đang hoạt động`,value:o,icon:AD,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-blue-500 to-blue-600",cardBg:"bg-white",shadow:"shadow-lg shadow-blue-500/20",change:"+55%",changeText:"than last week",changeColor:"text-green-500"},{title:`${a} hoàn thành`,value:l,icon:WD,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-green-500 to-green-600",cardBg:"bg-white",shadow:"shadow-lg shadow-green-500/20",change:"+3%",changeText:"than last month",changeColor:"text-green-500"},{title:`${a} quá hạn`,value:d,icon:Ci,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-pink-500 to-pink-600",cardBg:"bg-white",shadow:"shadow-lg shadow-pink-500/20",change:"+1%",changeText:"than yesterday",changeColor:"text-green-500"},{title:"Chi phí Dự án",value:uL(f),icon:SM,iconColor:"text-white",iconBg:"bg-gradient-to-br from-yellow-200 to-yellow-600",cardBg:"bg-white",shadow:"shadow-lg shadow-yellow-500/20",change:"+91",changeText:"Just updated",changeColor:"text-gray-500"}];return c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:h.map((p,g)=>{const b=p.icon;return c.jsx("div",{className:`${p.cardBg} ${p.shadow} rounded-xl p-6 border border-gray-100 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1`,children:c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("div",{className:`${p.iconBg} ${p.iconColor} p-3 rounded-2xl shadow-lg`,children:c.jsx(b,{className:"h-6 w-6"})}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:p.title}),c.jsx("p",{className:`${p.title.includes("Chi phí")?"text-2xl":"text-3xl"} font-bold text-gray-900`,children:p.value})]})]})},g)})})},mL=({projects:e,tasks:t,selectedProject:n})=>{const s=n&&n!=="all",a=Z.useMemo(()=>{const p=new Date;return p.setHours(0,0,0,0),e.map((b,y)=>({id:`milestone-${y}`,name:b.project_name,project:b.project_name,endDate:new Date(b.expected_end_date),priority:b.priority,status:b.percent_complete===100?"completed":b.percent_complete>0?"in progress":"upcoming",progress:b.percent_complete})).filter(b=>{const y=new Date(b.endDate);y.setHours(0,0,0,0);const w=Math.ceil((y.getTime()-p.getTime())/(1e3*60*60*24));return b.status!=="completed"&&w>=0&&w<=60}).sort((b,y)=>{const w=new Date;w.setHours(0,0,0,0);const _=new Date(b.endDate);_.setHours(0,0,0,0);const j=new Date(y.endDate);j.setHours(0,0,0,0);const S=Math.abs(_.getTime()-w.getTime()),C=Math.abs(j.getTime()-w.getTime()),R=S-C;if(R!==0)return R;const k={"Khẩn cấp":0,Cao:1,"Trung bình":2,Thấp:3,Urgent:0,High:1,Medium:2,Low:3};return(k[b.priority]||3)-(k[y.priority]||3)})},[e]),o=Z.useMemo(()=>{if(!s)return[];const p=new Date;return p.setHours(0,0,0,0),t.filter(g=>{if(!g.exp_end_date||g.status==="Completed")return!1;const b=new Date(g.exp_end_date);b.setHours(0,0,0,0);const y=Math.ceil((b.getTime()-p.getTime())/(1e3*60*60*24));return y>=0&&y<=30}).sort((g,b)=>{const y=new Date;y.setHours(0,0,0,0);const w=new Date(g.exp_end_date);w.setHours(0,0,0,0);const _=new Date(b.exp_end_date);_.setHours(0,0,0,0);const j=Math.abs(w.getTime()-y.getTime()),S=Math.abs(_.getTime()-y.getTime()),C=j-S;if(C!==0)return C;const R={Urgent:0,High:1,Medium:2,Low:3};return(R[g.priority]||3)-(R[b.priority]||3)})},[t,s]),l=p=>{switch(p){case"completed":return"bg-green-500";case"in progress":return"bg-blue-500";case"upcoming":return"bg-gray-300";default:return"bg-gray-300"}},d=p=>{switch(p){case"Urgent":return"bg-red-100 text-red-800";case"High":return"bg-orange-100 text-orange-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"Low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},f=p=>p.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),h=p=>{const g=new Date;g.setHours(0,0,0,0);const b=new Date(p);b.setHours(0,0,0,0);const y=Math.ceil((b.getTime()-g.getTime())/(1e3*60*60*24));return y<0?{text:`Quá hạn ${Math.abs(y)} ngày`,color:"text-red-600",urgent:!0}:y===0?{text:"Hôm nay",color:"text-red-600",urgent:!0}:y<=3?{text:`${y} ngày nữa`,color:"text-red-600",urgent:!0}:y<=7?{text:`${y} ngày nữa`,color:"text-orange-600",urgent:!0}:y<=14?{text:`${y} ngày nữa`,color:"text-yellow-600",urgent:!1}:{text:`${y} ngày nữa`,color:"text-gray-600",urgent:!1}};return c.jsx("div",{className:"grid grid-cols-1 gap-8",children:c.jsx(em,{title:s?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Tasks"})," ","gần ",c.jsx("span",{className:"text-red-600 font-semibold",children:"đến hạn "})," (<30 ngày)"]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Dự án"})," ","sắp ",c.jsx("span",{className:"text-red-600 font-semibold",children:"đến hạn"})," (<30 ngày)"]}),children:c.jsx("div",{className:`space-y-6 ${s?o.length>=3?"h-80 overflow-y-auto":"overflow-visible":a.length>=3?"h-80 overflow-y-auto":"overflow-visible"}`,children:s?c.jsxs(c.Fragment,{children:[o.map((p,g)=>{const b=h(new Date(p.exp_end_date));return c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"flex items-center space-x-3",children:c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("h4",{className:"font-medium text-gray-900",children:p.subject}),c.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${d(p.priority)}`,children:p.priority})]}),c.jsx("div",{className:"mt-1",children:c.jsx("span",{className:`text-xs font-medium ${b.color}`,children:b.text})})]})}),c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[c.jsx(rr,{className:"h-4 w-4 mr-1"}),f(new Date(p.exp_end_date))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Progress"}),c.jsxs("span",{className:"font-medium",children:[p.progress||0,"%"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:`h-2 rounded-full ${p.status==="Completed"?"bg-green-500":p.status==="Working"?"bg-blue-500":"bg-gray-300"}`,style:{width:`${p.progress||0}%`}})})]})]},`task-${g}`)}),o.length===0&&c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx(rr,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),c.jsx("p",{children:"Không có task nào sắp đến hạn"})]})]}):c.jsxs(c.Fragment,{children:[a.map(p=>{const g=h(p.endDate);return c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"flex items-center space-x-3",children:c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("h4",{className:"font-medium text-gray-900",children:p.name}),c.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${d(p.priority)}`,children:p.priority})]}),c.jsx("div",{className:"mt-1",children:c.jsx("span",{className:`text-xs font-medium ${g.color}`,children:g.text})})]})}),c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[c.jsx(rr,{className:"h-4 w-4 mr-1"}),f(p.endDate)]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Progress"}),c.jsxs("span",{className:"font-medium",children:[p.progress,"%"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:`h-2 rounded-full ${l(p.status)}`,style:{width:`${p.progress}%`}})})]})]},p.id)}),a.length===0&&c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx(rr,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),c.jsx("p",{children:"Không có dự án nào sắp đến hạn"})]})]})})})})},pL=({projects:e,tasks:t,selectedProject:n})=>{const[s,a]=N.useState(null),[o,l]=N.useState(!0),d=w=>{a(_=>_===w?null:w)},f=n&&n!=="all",p=(()=>{if(f){const w={open:{projects:[],color:"#3b82f6",lightColor:"#60a5fa",darkColor:"#1d4ed8",label:"Open",height:30},working:{projects:[],color:"#f59e0b",lightColor:"#fbbf24",darkColor:"#d97706",label:"Working",height:25},completed:{projects:[],color:"#22c55e",lightColor:"#4ade80",darkColor:"#15803d",label:"Completed",height:20},overdue:{projects:[],color:"#ef4444",lightColor:"#f87171",darkColor:"#dc2626",label:"Overdue",height:40},cancelled:{projects:[],color:"#6b7280",lightColor:"#9ca3af",darkColor:"#4b5563",label:"Cancelled",height:35}};return t.forEach(_=>{const j=new Date;_.exp_end_date&&new Date(_.exp_end_date)<j&&_.status!=="Completed"&&_.status!=="Cancelled"?w.overdue.projects.push(_):_.status==="Completed"?w.completed.projects.push(_):_.status==="Working"?w.working.projects.push(_):_.status==="Cancelled"?w.cancelled.projects.push(_):w.open.projects.push(_)}),w}else{const w={open:{projects:[],color:"#3b82f6",lightColor:"#60a5fa",darkColor:"#1d4ed8",label:"Đang mở",height:30},completed:{projects:[],color:"#22c55e",lightColor:"#4ade80",darkColor:"#15803d",label:"Hoàn thành",height:20},cancelled:{projects:[],color:"#ef4444",lightColor:"#f87171",darkColor:"#dc2626",label:"Đã hủy",height:40}};return e.forEach(_=>{_.status==="Completed"||_.status==="Hoàn thành"?w.completed.projects.push(_):_.status==="Cancelled"||_.status==="Canceled"||_.status==="Hủy"?w.cancelled.projects.push(_):w.open.projects.push(_)}),w}})(),g=f?t.length:e.length,b=w=>{const _={Urgent:4,High:3,Medium:2,Low:1};return w.sort((j,S)=>{const C=_[j.priority]||0;return(_[S.priority]||0)-C})};Object.values(p).forEach(w=>{w.projects=b(w.projects)});const y=()=>{const[w,_]=Z.useState({visible:!1,x:0,y:0,categoryKey:""}),j=360,S=j/2,C=j/2,R=170;let k=0;const O=Object.entries(p).filter(([,B])=>B.projects.length>0),D=(B,J)=>{const K=J.clientX,I=J.clientY;_({visible:!0,x:K+15,y:I-10,categoryKey:B})},$=(B,J)=>{if(w.visible&&w.categoryKey===B){const K=J.clientX,I=J.clientY;_(ee=>de(L({},ee),{x:K+15,y:I-10}))}},A=()=>{_({visible:!1,x:0,y:0,categoryKey:""})};return c.jsxs("div",{className:"relative flex flex-col items-center",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-6 text-center max-w-xs",children:f?"Biểu đồ phân bố Tasks theo trạng thái":"Biểu đồ phân bố dự án theo trạng thái"}),c.jsx("div",{className:"relative",style:{width:j,height:j},children:c.jsxs("svg",{width:j,height:j,className:"absolute top-0 left-0",children:[c.jsx("defs",{children:c.jsx("filter",{id:"dropshadow2d",x:"-20%",y:"-20%",width:"140%",height:"140%",children:c.jsx("feDropShadow",{dx:"2",dy:"4",stdDeviation:"4",floodOpacity:"0.2"})})}),(k=0,O.map(([B,J])=>{const K=J.projects.length/g*100,I=k,ee=k+K/100*360;k=ee;const pe=I*Math.PI/180,ne=ee*Math.PI/180,V=(I+ee)/2*Math.PI/180,te=S+R*Math.cos(pe),Q=C+R*Math.sin(pe),fe=S+R*Math.cos(ne),F=C+R*Math.sin(ne),W=ee-I>180?1:0,me=O.length===1;let U;me?U=`M ${S} ${C+R} A ${R} ${R} 0 1 1 ${S} ${C-R} A ${R} ${R} 0 1 1 ${S} ${C+R} Z`:U=[`M ${S} ${C}`,`L ${te} ${Q}`,`A ${R} ${R} 0 ${W} 1 ${fe} ${F}`,"Z"].join(" ");const re=R*.7,_e=me?S:S+re*Math.cos(V),xe=me?C:C+re*Math.sin(V);return c.jsxs("g",{children:[c.jsx("path",{d:U,fill:J.color,stroke:"white",strokeWidth:"2",filter:"url(#dropshadow2d)",className:"hover:opacity-80 transition-opacity cursor-pointer",onMouseEnter:Ee=>D(B,Ee),onMouseMove:Ee=>$(B,Ee),onMouseLeave:A}),K>5&&c.jsxs("text",{x:_e,y:xe,textAnchor:"middle",dominantBaseline:"middle",className:"text-xs font-bold fill-white pointer-events-none",style:{textShadow:"1px 1px 2px rgba(0,0,0,0.5)"},children:[Math.round(K),"%"]})]},`segment-${B}`)}))]})}),w.visible&&w.categoryKey&&p[w.categoryKey]&&c.jsxs("div",{className:"fixed z-50 bg-white border border-gray-200 rounded-lg shadow-lg p-4 max-w-xs pointer-events-none",style:{left:w.x,top:w.y,transform:"translate(-50%, -100%)"},children:[c.jsxs("div",{className:"font-semibold text-gray-800 mb-2 flex items-center",children:[c.jsx("div",{className:"w-3 h-3 rounded mr-2",style:{backgroundColor:p[w.categoryKey].color}}),p[w.categoryKey].label," (",p[w.categoryKey].projects.length,")"]}),c.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:p[w.categoryKey].projects.map((B,J)=>c.jsxs("div",{className:"text-xs border-b border-gray-100 pb-1 last:border-b-0",children:[c.jsx("div",{className:"font-medium text-gray-700",children:f?B.subject:B.project_name}),c.jsxs("div",{className:"text-gray-500 flex justify-between",children:[c.jsx("span",{children:f?`${B.progress||0}% hoàn thành`:`${B.percent_complete}% hoàn thành`}),c.jsxs("span",{className:"font-medium",children:["Priority: ",B.priority]})]})]},J))})]})]})};return c.jsx(em,{title:c.jsx("div",{className:"flex items-center justify-between w-full cursor-pointer hover:bg-gray-50 -m-2 p-2 rounded-md transition-colors",onClick:()=>l(!o),children:c.jsx("div",{className:"flex items-center",children:c.jsx("span",{children:f?c.jsxs(c.Fragment,{children:["Tổng quan ",c.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Tasks"})]}):c.jsxs(c.Fragment,{children:["Tổng quan ",c.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"dự án"})]})})})}),children:o&&c.jsx("div",{children:g===0?c.jsx("div",{className:"flex flex-col items-center justify-center py-16",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-8xl text-gray-300 mb-6",children:"📊"}),c.jsx("p",{className:"text-xl font-medium text-gray-600 mb-3",children:f?"Không có task nào":"Không có dự án nào"}),c.jsx("p",{className:"text-base text-gray-500 max-w-md",children:f?"Không có task nào đang thực hiện trong dự án này":"Không có dự án nào đang thực hiện"})]})}):c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsx("div",{className:"flex flex-col items-center",children:c.jsx(y,{})}),c.jsx("div",{className:"space-y-4",children:Object.entries(p).map(([w,_])=>_.projects.length>0&&c.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[c.jsxs("button",{onClick:()=>d(w),className:"w-full px-4 py-3 bg-gray-50 hover:bg-gray-100 transition-colors flex items-center justify-between border-l-4",style:{borderLeftColor:_.color},children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-3 h-3 rounded-full mr-3",style:{backgroundColor:_.color}}),c.jsxs("h4",{className:"font-semibold text-gray-800",children:[_.label," (",_.projects.length,")"]})]}),c.jsx("div",{className:"flex items-center",children:c.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform duration-200 ${s===w?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),c.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${s===w?"max-h-96":"max-h-0"}`,children:c.jsx("div",{className:"p-4 space-y-2 max-h-80 overflow-y-auto",children:_.projects.map(j=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md hover:bg-gray-100 transition-colors",children:[c.jsx("div",{className:"flex-1 min-w-0",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:f?j.subject:j.project_name}),c.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ml-2 flex-shrink-0 ${j.priority==="Urgent"?"bg-red-100 text-red-800":j.priority==="High"?"bg-orange-100 text-orange-800":j.priority==="Medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:j.priority})]})}),c.jsx("div",{className:"flex flex-col items-end ml-3",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-12 bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(f?j.progress||0:j.percent_complete||0,100)}%`,backgroundColor:(()=>{const S=f?j.progress||0:j.percent_complete||0;return S>=100?"#22c55e":S>=70?"#3b82f6":S>=30?"#f59e0b":"#ef4444"})()}})}),c.jsxs("span",{className:"text-xs font-semibold text-gray-600 min-w-[35px] text-right",children:[f?j.progress||0:j.percent_complete||0,"%"]})]})})]},j.name))})})]},w))})]})})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function td(e){return e+.5|0}const _i=(e,t,n)=>Math.max(Math.min(e,n),t);function Nu(e){return _i(td(e*2.55),0,255)}function Ni(e){return _i(td(e*255),0,255)}function La(e){return _i(td(e/2.55)/100,0,1)}function M1(e){return _i(td(e*100),0,100)}const yr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},L0=[..."0123456789ABCDEF"],gL=e=>L0[e&15],xL=e=>L0[(e&240)>>4]+L0[e&15],Rf=e=>(e&240)>>4===(e&15),yL=e=>Rf(e.r)&&Rf(e.g)&&Rf(e.b)&&Rf(e.a);function bL(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&yr[e[1]]*17,g:255&yr[e[2]]*17,b:255&yr[e[3]]*17,a:t===5?yr[e[4]]*17:255}:(t===7||t===9)&&(n={r:yr[e[1]]<<4|yr[e[2]],g:yr[e[3]]<<4|yr[e[4]],b:yr[e[5]]<<4|yr[e[6]],a:t===9?yr[e[7]]<<4|yr[e[8]]:255})),n}const vL=(e,t)=>e<255?t(e):"";function wL(e){var t=yL(e)?gL:xL;return e?"#"+t(e.r)+t(e.g)+t(e.b)+vL(e.a,t):void 0}const _L=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function MN(e,t,n){const s=t*Math.min(n,1-n),a=(o,l=(o+e/30)%12)=>n-s*Math.max(Math.min(l-3,9-l,1),-1);return[a(0),a(8),a(4)]}function jL(e,t,n){const s=(a,o=(a+e/60)%6)=>n-n*t*Math.max(Math.min(o,4-o,1),0);return[s(5),s(3),s(1)]}function SL(e,t,n){const s=MN(e,1,.5);let a;for(t+n>1&&(a=1/(t+n),t*=a,n*=a),a=0;a<3;a++)s[a]*=1-t-n,s[a]+=t;return s}function NL(e,t,n,s,a){return e===a?(t-n)/s+(t<n?6:0):t===a?(n-e)/s+2:(e-t)/s+4}function Kx(e){const n=e.r/255,s=e.g/255,a=e.b/255,o=Math.max(n,s,a),l=Math.min(n,s,a),d=(o+l)/2;let f,h,p;return o!==l&&(p=o-l,h=d>.5?p/(2-o-l):p/(o+l),f=NL(n,s,a,p,o),f=f*60+.5),[f|0,h||0,d]}function Qx(e,t,n,s){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,s)).map(Ni)}function Zx(e,t,n){return Qx(MN,e,t,n)}function EL(e,t,n){return Qx(SL,e,t,n)}function TL(e,t,n){return Qx(jL,e,t,n)}function PN(e){return(e%360+360)%360}function kL(e){const t=_L.exec(e);let n=255,s;if(!t)return;t[5]!==s&&(n=t[6]?Nu(+t[5]):Ni(+t[5]));const a=PN(+t[2]),o=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?s=EL(a,o,l):t[1]==="hsv"?s=TL(a,o,l):s=Zx(a,o,l),{r:s[0],g:s[1],b:s[2],a:n}}function CL(e,t){var n=Kx(e);n[0]=PN(n[0]+t),n=Zx(n),e.r=n[0],e.g=n[1],e.b=n[2]}function AL(e){if(!e)return;const t=Kx(e),n=t[0],s=M1(t[1]),a=M1(t[2]);return e.a<255?`hsla(${n}, ${s}%, ${a}%, ${La(e.a)})`:`hsl(${n}, ${s}%, ${a}%)`}const P1={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},L1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function OL(){const e={},t=Object.keys(L1),n=Object.keys(P1);let s,a,o,l,d;for(s=0;s<t.length;s++){for(l=d=t[s],a=0;a<n.length;a++)o=n[a],d=d.replace(o,P1[o]);o=parseInt(L1[l],16),e[d]=[o>>16&255,o>>8&255,o&255]}return e}let Df;function RL(e){Df||(Df=OL(),Df.transparent=[0,0,0,0]);const t=Df[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const DL=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function ML(e){const t=DL.exec(e);let n=255,s,a,o;if(t){if(t[7]!==s){const l=+t[7];n=t[8]?Nu(l):_i(l*255,0,255)}return s=+t[1],a=+t[3],o=+t[5],s=255&(t[2]?Nu(s):_i(s,0,255)),a=255&(t[4]?Nu(a):_i(a,0,255)),o=255&(t[6]?Nu(o):_i(o,0,255)),{r:s,g:a,b:o,a:n}}}function PL(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${La(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const zg=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Cl=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function LL(e,t,n){const s=Cl(La(e.r)),a=Cl(La(e.g)),o=Cl(La(e.b));return{r:Ni(zg(s+n*(Cl(La(t.r))-s))),g:Ni(zg(a+n*(Cl(La(t.g))-a))),b:Ni(zg(o+n*(Cl(La(t.b))-o))),a:e.a+n*(t.a-e.a)}}function Mf(e,t,n){if(e){let s=Kx(e);s[t]=Math.max(0,Math.min(s[t]+s[t]*n,t===0?360:1)),s=Zx(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function LN(e,t){return e&&Object.assign(t||{},e)}function z1(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Ni(e[3]))):(t=LN(e,{r:0,g:0,b:0,a:1}),t.a=Ni(t.a)),t}function zL(e){return e.charAt(0)==="r"?ML(e):kL(e)}class $u{constructor(t){if(t instanceof $u)return t;const n=typeof t;let s;n==="object"?s=z1(t):n==="string"&&(s=bL(t)||RL(t)||zL(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=LN(this._rgb);return t&&(t.a=La(t.a)),t}set rgb(t){this._rgb=z1(t)}rgbString(){return this._valid?PL(this._rgb):void 0}hexString(){return this._valid?wL(this._rgb):void 0}hslString(){return this._valid?AL(this._rgb):void 0}mix(t,n){if(t){const s=this.rgb,a=t.rgb;let o;const l=n===o?.5:n,d=2*l-1,f=s.a-a.a,h=((d*f===-1?d:(d+f)/(1+d*f))+1)/2;o=1-h,s.r=255&h*s.r+o*a.r+.5,s.g=255&h*s.g+o*a.g+.5,s.b=255&h*s.b+o*a.b+.5,s.a=l*s.a+(1-l)*a.a,this.rgb=s}return this}interpolate(t,n){return t&&(this._rgb=LL(this._rgb,t._rgb,n)),this}clone(){return new $u(this.rgb)}alpha(t){return this._rgb.a=Ni(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=td(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Mf(this._rgb,2,t),this}darken(t){return Mf(this._rgb,2,-t),this}saturate(t){return Mf(this._rgb,1,t),this}desaturate(t){return Mf(this._rgb,1,-t),this}rotate(t){return CL(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ra(){}const UL=(()=>{let e=0;return()=>e++})();function pn(e){return e==null}function ns(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Zt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Sr(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Qr(e,t){return Sr(e)?e:t}function Qt(e,t){return typeof e=="undefined"?t:e}const BL=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,zN=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function vn(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function rn(e,t,n,s){let a,o,l;if(ns(e))for(o=e.length,a=0;a<o;a++)t.call(n,e[a],a);else if(Zt(e))for(l=Object.keys(e),o=l.length,a=0;a<o;a++)t.call(n,e[l[a]],l[a])}function Nh(e,t){let n,s,a,o;if(!e||!t||e.length!==t.length)return!1;for(n=0,s=e.length;n<s;++n)if(a=e[n],o=t[n],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function Eh(e){if(ns(e))return e.map(Eh);if(Zt(e)){const t=Object.create(null),n=Object.keys(e),s=n.length;let a=0;for(;a<s;++a)t[n[a]]=Eh(e[n[a]]);return t}return e}function UN(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function FL(e,t,n,s){if(!UN(e))return;const a=t[e],o=n[e];Zt(a)&&Zt(o)?qu(a,o,s):t[e]=Eh(o)}function qu(e,t,n){const s=ns(t)?t:[t],a=s.length;if(!Zt(e))return e;n=n||{};const o=n.merger||FL;let l;for(let d=0;d<a;++d){if(l=s[d],!Zt(l))continue;const f=Object.keys(l);for(let h=0,p=f.length;h<p;++h)o(f[h],e,l,n)}return e}function Au(e,t){return qu(e,t,{merger:HL})}function HL(e,t,n){if(!UN(e))return;const s=t[e],a=n[e];Zt(s)&&Zt(a)?Au(s,a):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Eh(a))}const U1={"":e=>e,x:e=>e.x,y:e=>e.y};function VL(e){const t=e.split("."),n=[];let s="";for(const a of t)s+=a,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function $L(e){const t=VL(e);return n=>{for(const s of t){if(s==="")break;n=n&&n[s]}return n}}function Do(e,t){return(U1[t]||(U1[t]=$L(t)))(e)}function Jx(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Iu=e=>typeof e!="undefined",Mi=e=>typeof e=="function",B1=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function qL(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const mn=Math.PI,Xn=2*mn,Th=Number.POSITIVE_INFINITY,IL=mn/180,rs=mn/2,po=mn/4,F1=mn*2/3,BN=Math.log10,Ei=Math.sign;function uh(e,t,n){return Math.abs(e-t)<n}function H1(e){const t=Math.round(e);e=uh(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(BN(e))),s=e/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function YL(e){const t=[],n=Math.sqrt(e);let s;for(s=1;s<n;s++)e%s===0&&(t.push(s),t.push(e/s));return n===(n|0)&&t.push(n),t.sort((a,o)=>a-o).pop(),t}function WL(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function kh(e){return!WL(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function XL(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function GL(e,t,n){let s,a,o;for(s=0,a=e.length;s<a;s++)o=e[s][n],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Ba(e){return e*(mn/180)}function KL(e){return e*(180/mn)}function V1(e){if(!Sr(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function FN(e,t){const n=t.x-e.x,s=t.y-e.y,a=Math.sqrt(n*n+s*s);let o=Math.atan2(s,n);return o<-.5*mn&&(o+=Xn),{angle:o,distance:a}}function QL(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function ea(e){return(e%Xn+Xn)%Xn}function Ch(e,t,n,s){const a=ea(e),o=ea(t),l=ea(n),d=ea(o-a),f=ea(l-a),h=ea(a-o),p=ea(a-l);return a===o||a===l||s&&o===l||d>f&&h<p}function qs(e,t,n){return Math.max(t,Math.min(n,e))}function ZL(e){return qs(e,-32768,32767)}function Eo(e,t,n,s=1e-6){return e>=Math.min(t,n)-s&&e<=Math.max(t,n)+s}function ey(e,t,n){n=n||(l=>e[l]<t);let s=e.length-1,a=0,o;for(;s-a>1;)o=a+s>>1,n(o)?a=o:s=o;return{lo:a,hi:s}}const z0=(e,t,n,s)=>ey(e,n,s?a=>{const o=e[a][t];return o<n||o===n&&e[a+1][t]===n}:a=>e[a][t]<n),JL=(e,t,n)=>ey(e,n,s=>e[s][t]>=n);function e6(e,t,n){let s=0,a=e.length;for(;s<a&&e[s]<t;)s++;for(;a>s&&e[a-1]>n;)a--;return s>0||a<e.length?e.slice(s,a):e}const HN=["push","pop","shift","splice","unshift"];function t6(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),HN.forEach(n=>{const s="_onData"+Jx(n),a=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...o){const l=a.apply(this,o);return e._chartjs.listeners.forEach(d=>{typeof d[s]=="function"&&d[s](...o)}),l}})})}function $1(e,t){const n=e._chartjs;if(!n)return;const s=n.listeners,a=s.indexOf(t);a!==-1&&s.splice(a,1),!(s.length>0)&&(HN.forEach(o=>{delete e[o]}),delete e._chartjs)}function VN(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const $N=function(){return typeof window=="undefined"?function(e){return e()}:window.requestAnimationFrame}();function qN(e,t){let n=[],s=!1;return function(...a){n=a,s||(s=!0,$N.call(window,()=>{s=!1,e.apply(t,n)}))}}function n6(e,t){let n;return function(...s){return t?(clearTimeout(n),n=setTimeout(e,t,s)):e.apply(this,s),t}}const ty=e=>e==="start"?"left":e==="end"?"right":"center",Es=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,s6=(e,t,n,s)=>e===(s?"left":"right")?n:e==="center"?(t+n)/2:t,Pf=e=>e===0||e===1,q1=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Xn/n)),I1=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Xn/n)+1,Ou={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*rs)+1,easeOutSine:e=>Math.sin(e*rs),easeInOutSine:e=>-.5*(Math.cos(mn*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Pf(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Pf(e)?e:q1(e,.075,.3),easeOutElastic:e=>Pf(e)?e:I1(e,.075,.3),easeInOutElastic(e){return Pf(e)?e:e<.5?.5*q1(e*2,.1125,.45):.5+.5*I1(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Ou.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Ou.easeInBounce(e*2)*.5:Ou.easeOutBounce(e*2-1)*.5+.5};function IN(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Y1(e){return IN(e)?e:new $u(e)}function Ug(e){return IN(e)?e:new $u(e).saturate(.5).darken(.1).hexString()}const r6=["x","y","borderWidth","radius","tension"],a6=["color","borderColor","backgroundColor"];function i6(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:a6},numbers:{type:"number",properties:r6}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function o6(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const W1=new Map;function l6(e,t){t=t||{};const n=e+JSON.stringify(t);let s=W1.get(n);return s||(s=new Intl.NumberFormat(e,t),W1.set(n,s)),s}function ny(e,t,n){return l6(t,n).format(e)}const c6={values(e){return ns(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const s=this.chart.options.locale;let a,o=e;if(n.length>1){const h=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(h<1e-4||h>1e15)&&(a="scientific"),o=u6(e,n)}const l=BN(Math.abs(o)),d=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),f={notation:a,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(f,this.options.ticks.format),ny(e,s,f)}};function u6(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var YN={formatters:c6};function d6(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:YN.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Mo=Object.create(null),U0=Object.create(null);function Ru(e,t){if(!t)return e;const n=t.split(".");for(let s=0,a=n.length;s<a;++s){const o=n[s];e=e[o]||(e[o]=Object.create(null))}return e}function Bg(e,t,n){return typeof t=="string"?qu(Ru(e,t),n):qu(Ru(e,""),t)}class f6{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,a)=>Ug(a.backgroundColor),this.hoverBorderColor=(s,a)=>Ug(a.borderColor),this.hoverColor=(s,a)=>Ug(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Bg(this,t,n)}get(t){return Ru(this,t)}describe(t,n){return Bg(U0,t,n)}override(t,n){return Bg(Mo,t,n)}route(t,n,s,a){const o=Ru(this,t),l=Ru(this,s),d="_"+n;Object.defineProperties(o,{[d]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const f=this[d],h=l[a];return Zt(f)?Object.assign({},h,f):Qt(f,h)},set(f){this[d]=f}}})}apply(t){t.forEach(n=>n(this))}}var Bn=new f6({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[i6,o6,d6]);function h6(e){return!e||pn(e.size)||pn(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function X1(e,t,n,s,a){let o=t[a];return o||(o=t[a]=e.measureText(a).width,n.push(a)),o>s&&(s=o),s}function go(e,t,n){const s=e.currentDevicePixelRatio,a=n!==0?Math.max(n/2,.5):0;return Math.round((t-a)*s)/s+a}function G1(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function K1(e,t,n,s){WN(e,t,n,s,null)}function WN(e,t,n,s,a){let o,l,d,f,h,p,g,b;const y=t.pointStyle,w=t.rotation,_=t.radius;let j=(w||0)*IL;if(y&&typeof y=="object"&&(o=y.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(n,s),e.rotate(j),e.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),e.restore();return}if(!(isNaN(_)||_<=0)){switch(e.beginPath(),y){default:a?e.ellipse(n,s,a/2,_,0,0,Xn):e.arc(n,s,_,0,Xn),e.closePath();break;case"triangle":p=a?a/2:_,e.moveTo(n+Math.sin(j)*p,s-Math.cos(j)*_),j+=F1,e.lineTo(n+Math.sin(j)*p,s-Math.cos(j)*_),j+=F1,e.lineTo(n+Math.sin(j)*p,s-Math.cos(j)*_),e.closePath();break;case"rectRounded":h=_*.516,f=_-h,l=Math.cos(j+po)*f,g=Math.cos(j+po)*(a?a/2-h:f),d=Math.sin(j+po)*f,b=Math.sin(j+po)*(a?a/2-h:f),e.arc(n-g,s-d,h,j-mn,j-rs),e.arc(n+b,s-l,h,j-rs,j),e.arc(n+g,s+d,h,j,j+rs),e.arc(n-b,s+l,h,j+rs,j+mn),e.closePath();break;case"rect":if(!w){f=Math.SQRT1_2*_,p=a?a/2:f,e.rect(n-p,s-f,2*p,2*f);break}j+=po;case"rectRot":g=Math.cos(j)*(a?a/2:_),l=Math.cos(j)*_,d=Math.sin(j)*_,b=Math.sin(j)*(a?a/2:_),e.moveTo(n-g,s-d),e.lineTo(n+b,s-l),e.lineTo(n+g,s+d),e.lineTo(n-b,s+l),e.closePath();break;case"crossRot":j+=po;case"cross":g=Math.cos(j)*(a?a/2:_),l=Math.cos(j)*_,d=Math.sin(j)*_,b=Math.sin(j)*(a?a/2:_),e.moveTo(n-g,s-d),e.lineTo(n+g,s+d),e.moveTo(n+b,s-l),e.lineTo(n-b,s+l);break;case"star":g=Math.cos(j)*(a?a/2:_),l=Math.cos(j)*_,d=Math.sin(j)*_,b=Math.sin(j)*(a?a/2:_),e.moveTo(n-g,s-d),e.lineTo(n+g,s+d),e.moveTo(n+b,s-l),e.lineTo(n-b,s+l),j+=po,g=Math.cos(j)*(a?a/2:_),l=Math.cos(j)*_,d=Math.sin(j)*_,b=Math.sin(j)*(a?a/2:_),e.moveTo(n-g,s-d),e.lineTo(n+g,s+d),e.moveTo(n+b,s-l),e.lineTo(n-b,s+l);break;case"line":l=a?a/2:Math.cos(j)*_,d=Math.sin(j)*_,e.moveTo(n-l,s-d),e.lineTo(n+l,s+d);break;case"dash":e.moveTo(n,s),e.lineTo(n+Math.cos(j)*(a?a/2:_),s+Math.sin(j)*_);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function XN(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function sy(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function ry(e){e.restore()}function m6(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),pn(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function p6(e,t,n,s,a){if(a.strikethrough||a.underline){const o=e.measureText(s),l=t-o.actualBoundingBoxLeft,d=t+o.actualBoundingBoxRight,f=n-o.actualBoundingBoxAscent,h=n+o.actualBoundingBoxDescent,p=a.strikethrough?(f+h)/2:h;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=a.decorationWidth||2,e.moveTo(l,p),e.lineTo(d,p),e.stroke()}}function g6(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Yu(e,t,n,s,a,o={}){const l=ns(t)?t:[t],d=o.strokeWidth>0&&o.strokeColor!=="";let f,h;for(e.save(),e.font=a.string,m6(e,o),f=0;f<l.length;++f)h=l[f],o.backdrop&&g6(e,o.backdrop),d&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),pn(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(h,n,s,o.maxWidth)),e.fillText(h,n,s,o.maxWidth),p6(e,n,s,h,o),s+=Number(a.lineHeight);e.restore()}function Ah(e,t){const{x:n,y:s,w:a,h:o,radius:l}=t;e.arc(n+l.topLeft,s+l.topLeft,l.topLeft,1.5*mn,mn,!0),e.lineTo(n,s+o-l.bottomLeft),e.arc(n+l.bottomLeft,s+o-l.bottomLeft,l.bottomLeft,mn,rs,!0),e.lineTo(n+a-l.bottomRight,s+o),e.arc(n+a-l.bottomRight,s+o-l.bottomRight,l.bottomRight,rs,0,!0),e.lineTo(n+a,s+l.topRight),e.arc(n+a-l.topRight,s+l.topRight,l.topRight,0,-rs,!0),e.lineTo(n+l.topLeft,s)}const x6=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,y6=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function b6(e,t){const n=(""+e).match(x6);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const v6=e=>+e||0;function ay(e,t){const n={},s=Zt(t),a=s?Object.keys(t):t,o=Zt(e)?s?l=>Qt(e[l],e[t[l]]):l=>e[l]:()=>e;for(const l of a)n[l]=v6(o(l));return n}function GN(e){return ay(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Vl(e){return ay(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Nr(e){const t=GN(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ks(e,t){e=e||{},t=t||Bn.font;let n=Qt(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let s=Qt(e.style,t.style);s&&!(""+s).match(y6)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const a={family:Qt(e.family,t.family),lineHeight:b6(Qt(e.lineHeight,t.lineHeight),n),size:n,style:s,weight:Qt(e.weight,t.weight),string:""};return a.string=h6(a),a}function Lf(e,t,n,s){let a,o,l;for(a=0,o=e.length;a<o;++a)if(l=e[a],l!==void 0&&l!==void 0)return l}function w6(e,t,n){const{min:s,max:a}=e,o=zN(t,(a-s)/2),l=(d,f)=>n&&d===0?0:d+f;return{min:l(s,-Math.abs(o)),max:l(a,o)}}function sc(e,t){return Object.assign(Object.create(e),t)}function iy(e,t=[""],n,s,a=()=>e[0]){const o=n||e;typeof s=="undefined"&&(s=JN("_fallback",e));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:s,_getTarget:a,override:d=>iy([d,...e],t,o,s)};return new Proxy(l,{deleteProperty(d,f){return delete d[f],delete d._keys,delete e[0][f],!0},get(d,f){return QN(d,f,()=>C6(f,t,e,d))},getOwnPropertyDescriptor(d,f){return Reflect.getOwnPropertyDescriptor(d._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(d,f){return Z1(d).includes(f)},ownKeys(d){return Z1(d)},set(d,f,h){const p=d._storage||(d._storage=a());return d[f]=p[f]=h,delete d._keys,!0}})}function Kl(e,t,n,s){const a={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:KN(e,s),setContext:o=>Kl(e,o,n,s),override:o=>Kl(e.override(o),t,n,s)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete e[l],!0},get(o,l,d){return QN(o,l,()=>j6(o,l,d))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(e,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,l)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,l){return Reflect.has(e,l)},ownKeys(){return Reflect.ownKeys(e)},set(o,l,d){return e[l]=d,delete o[l],!0}})}function KN(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:s=t.indexable,_allKeys:a=t.allKeys}=e;return{allKeys:a,scriptable:n,indexable:s,isScriptable:Mi(n)?n:()=>n,isIndexable:Mi(s)?s:()=>s}}const _6=(e,t)=>e?e+Jx(t):t,oy=(e,t)=>Zt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function QN(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const s=n();return e[t]=s,s}function j6(e,t,n){const{_proxy:s,_context:a,_subProxy:o,_descriptors:l}=e;let d=s[t];return Mi(d)&&l.isScriptable(t)&&(d=S6(t,d,e,n)),ns(d)&&d.length&&(d=N6(t,d,e,l.isIndexable)),oy(t,d)&&(d=Kl(d,a,o&&o[t],l)),d}function S6(e,t,n,s){const{_proxy:a,_context:o,_subProxy:l,_stack:d}=n;if(d.has(e))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+e);d.add(e);let f=t(o,l||s);return d.delete(e),oy(e,f)&&(f=ly(a._scopes,a,e,f)),f}function N6(e,t,n,s){const{_proxy:a,_context:o,_subProxy:l,_descriptors:d}=n;if(typeof o.index!="undefined"&&s(e))return t[o.index%t.length];if(Zt(t[0])){const f=t,h=a._scopes.filter(p=>p!==f);t=[];for(const p of f){const g=ly(h,a,e,p);t.push(Kl(g,o,l&&l[e],d))}}return t}function ZN(e,t,n){return Mi(e)?e(t,n):e}const E6=(e,t)=>e===!0?t:typeof e=="string"?Do(t,e):void 0;function T6(e,t,n,s,a){for(const o of t){const l=E6(n,o);if(l){e.add(l);const d=ZN(l._fallback,n,a);if(typeof d!="undefined"&&d!==n&&d!==s)return d}else if(l===!1&&typeof s!="undefined"&&n!==s)return null}return!1}function ly(e,t,n,s){const a=t._rootScopes,o=ZN(t._fallback,n,s),l=[...e,...a],d=new Set;d.add(s);let f=Q1(d,l,n,o||n,s);return f===null||typeof o!="undefined"&&o!==n&&(f=Q1(d,l,o,f,s),f===null)?!1:iy(Array.from(d),[""],a,o,()=>k6(t,n,s))}function Q1(e,t,n,s,a){for(;n;)n=T6(e,t,n,s,a);return n}function k6(e,t,n){const s=e._getTarget();t in s||(s[t]={});const a=s[t];return ns(a)&&Zt(n)?n:a||{}}function C6(e,t,n,s){let a;for(const o of t)if(a=JN(_6(o,e),n),typeof a!="undefined")return oy(e,a)?ly(n,s,e,a):a}function JN(e,t){for(const n of t){if(!n)continue;const s=n[e];if(typeof s!="undefined")return s}}function Z1(e){let t=e._keys;return t||(t=e._keys=A6(e._scopes)),t}function A6(e){const t=new Set;for(const n of e)for(const s of Object.keys(n).filter(a=>!a.startsWith("_")))t.add(s);return Array.from(t)}function cy(){return typeof window!="undefined"&&typeof document!="undefined"}function uy(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Oh(e,t,n){let s;return typeof e=="string"?(s=parseInt(e,10),e.indexOf("%")!==-1&&(s=s/100*t.parentNode[n])):s=e,s}const tm=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function O6(e,t){return tm(e).getPropertyValue(t)}const R6=["top","right","bottom","left"];function ko(e,t,n){const s={};n=n?"-"+n:"";for(let a=0;a<4;a++){const o=R6[a];s[o]=parseFloat(e[t+"-"+o+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const D6=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function M6(e,t){const n=e.touches,s=n&&n.length?n[0]:e,{offsetX:a,offsetY:o}=s;let l=!1,d,f;if(D6(a,o,e.target))d=a,f=o;else{const h=t.getBoundingClientRect();d=s.clientX-h.left,f=s.clientY-h.top,l=!0}return{x:d,y:f,box:l}}function bo(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:s}=t,a=tm(n),o=a.boxSizing==="border-box",l=ko(a,"padding"),d=ko(a,"border","width"),{x:f,y:h,box:p}=M6(e,n),g=l.left+(p&&d.left),b=l.top+(p&&d.top);let{width:y,height:w}=t;return o&&(y-=l.width+d.width,w-=l.height+d.height),{x:Math.round((f-g)/y*n.width/s),y:Math.round((h-b)/w*n.height/s)}}function P6(e,t,n){let s,a;if(t===void 0||n===void 0){const o=e&&uy(e);if(!o)t=e.clientWidth,n=e.clientHeight;else{const l=o.getBoundingClientRect(),d=tm(o),f=ko(d,"border","width"),h=ko(d,"padding");t=l.width-h.width-f.width,n=l.height-h.height-f.height,s=Oh(d.maxWidth,o,"clientWidth"),a=Oh(d.maxHeight,o,"clientHeight")}}return{width:t,height:n,maxWidth:s||Th,maxHeight:a||Th}}const zf=e=>Math.round(e*10)/10;function L6(e,t,n,s){const a=tm(e),o=ko(a,"margin"),l=Oh(a.maxWidth,e,"clientWidth")||Th,d=Oh(a.maxHeight,e,"clientHeight")||Th,f=P6(e,t,n);let{width:h,height:p}=f;if(a.boxSizing==="content-box"){const b=ko(a,"border","width"),y=ko(a,"padding");h-=y.width+b.width,p-=y.height+b.height}return h=Math.max(0,h-o.width),p=Math.max(0,s?h/s:p-o.height),h=zf(Math.min(h,l,f.maxWidth)),p=zf(Math.min(p,d,f.maxHeight)),h&&!p&&(p=zf(h/2)),(t!==void 0||n!==void 0)&&s&&f.height&&p>f.height&&(p=f.height,h=zf(Math.floor(p*s))),{width:h,height:p}}function J1(e,t,n){const s=t||1,a=Math.floor(e.height*s),o=Math.floor(e.width*s);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const l=e.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${e.height}px`,l.style.width=`${e.width}px`),e.currentDevicePixelRatio!==s||l.height!==a||l.width!==o?(e.currentDevicePixelRatio=s,l.height=a,l.width=o,e.ctx.setTransform(s,0,0,s,0,0),!0):!1}const z6=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};cy()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(t){}return e}();function ej(e,t){const n=O6(e,t),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}const U6=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},B6=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function $l(e,t,n){return e?U6(t,n):B6()}function eE(e,t){let n,s;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=s)}function tE(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Uf(e,t,n){return e.options.clip?e[n]:t[n]}function F6(e,t){const{xScale:n,yScale:s}=e;return n&&s?{left:Uf(n,t,"left"),right:Uf(n,t,"right"),top:Uf(s,t,"top"),bottom:Uf(s,t,"bottom")}:t}function H6(e,t){const n=t._clip;if(n.disabled)return!1;const s=F6(t,e.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class V6{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,s,a){const o=n.listeners[a],l=n.duration;o.forEach(d=>d({chart:t,initial:n.initial,numSteps:l,currentStep:Math.min(s-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=$N.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((s,a)=>{if(!s.running||!s.items.length)return;const o=s.items;let l=o.length-1,d=!1,f;for(;l>=0;--l)f=o[l],f._active?(f._total>s.duration&&(s.duration=f._total),f.tick(t),d=!0):(o[l]=o[o.length-1],o.pop());d&&(a.draw(),this._notify(a,s,t,"progress")),o.length||(s.running=!1,this._notify(a,s,t,"complete"),s.initial=!1),n+=o.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let s=n.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,s)),s}listen(t,n,s){this._getAnims(t).listeners[n].push(s)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,a)=>Math.max(s,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const s=n.items;let a=s.length-1;for(;a>=0;--a)s[a].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ma=new V6;const tj="transparent",$6={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const s=Y1(e||tj),a=s.valid&&Y1(t||tj);return a&&a.valid?a.mix(s,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class q6{constructor(t,n,s,a){const o=n[s];a=Lf([t.to,a,o,t.from]);const l=Lf([t.from,o,a]);this._active=!0,this._fn=t.fn||$6[t.type||typeof l],this._easing=Ou[t.easing]||Ou.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=s,this._from=l,this._to=a,this._promises=void 0}active(){return this._active}update(t,n,s){if(this._active){this._notify(!1);const a=this._target[this._prop],o=s-this._start,l=this._duration-o;this._start=s,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Lf([t.to,n,a,t.from]),this._from=Lf([t.from,a,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,s=this._duration,a=this._prop,o=this._from,l=this._loop,d=this._to;let f;if(this._active=o!==d&&(l||n<s),!this._active){this._target[a]=d,this._notify(!0);return}if(n<0){this._target[a]=o;return}f=n/s%2,f=l&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[a]=this._fn(o,d,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,s)=>{t.push({res:n,rej:s})})}_notify(t){const n=t?"res":"rej",s=this._promises||[];for(let a=0;a<s.length;a++)s[a][n]()}}class nE{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Zt(t))return;const n=Object.keys(Bn.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{const o=t[a];if(!Zt(o))return;const l={};for(const d of n)l[d]=o[d];(ns(o.properties)&&o.properties||[a]).forEach(d=>{(d===a||!s.has(d))&&s.set(d,l)})})}_animateOptions(t,n){const s=n.options,a=Y6(t,s);if(!a)return[];const o=this._createAnimations(a,s);return s.$shared&&I6(t.options.$animations,s).then(()=>{t.options=s},()=>{}),o}_createAnimations(t,n){const s=this._properties,a=[],o=t.$animations||(t.$animations={}),l=Object.keys(n),d=Date.now();let f;for(f=l.length-1;f>=0;--f){const h=l[f];if(h.charAt(0)==="$")continue;if(h==="options"){a.push(...this._animateOptions(t,n));continue}const p=n[h];let g=o[h];const b=s.get(h);if(g)if(b&&g.active()){g.update(b,p,d);continue}else g.cancel();if(!b||!b.duration){t[h]=p;continue}o[h]=g=new q6(b,t,h,p),a.push(g)}return a}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const s=this._createAnimations(t,n);if(s.length)return Ma.add(this._chart,s),!0}}function I6(e,t){const n=[],s=Object.keys(t);for(let a=0;a<s.length;a++){const o=e[s[a]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function Y6(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function nj(e,t){const n=e&&e.options||{},s=n.reverse,a=n.min===void 0?t:0,o=n.max===void 0?t:0;return{start:s?o:a,end:s?a:o}}function W6(e,t,n){if(n===!1)return!1;const s=nj(e,n),a=nj(t,n);return{top:a.end,right:s.end,bottom:a.start,left:s.start}}function X6(e){let t,n,s,a;return Zt(e)?(t=e.top,n=e.right,s=e.bottom,a=e.left):t=n=s=a=e,{top:t,right:n,bottom:s,left:a,disabled:e===!1}}function sE(e,t){const n=[],s=e._getSortedDatasetMetas(t);let a,o;for(a=0,o=s.length;a<o;++a)n.push(s[a].index);return n}function sj(e,t,n,s={}){const a=e.keys,o=s.mode==="single";let l,d,f,h;if(t===null)return;let p=!1;for(l=0,d=a.length;l<d;++l){if(f=+a[l],f===n){if(p=!0,s.all)continue;break}h=e.values[f],Sr(h)&&(o||t===0||Ei(t)===Ei(h))&&(t+=h)}return!p&&!s.all?0:t}function G6(e,t){const{iScale:n,vScale:s}=t,a=n.axis==="x"?"x":"y",o=s.axis==="x"?"x":"y",l=Object.keys(e),d=new Array(l.length);let f,h,p;for(f=0,h=l.length;f<h;++f)p=l[f],d[f]={[a]:p,[o]:e[p]};return d}function Fg(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function K6(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function Q6(e){const{min:t,max:n,minDefined:s,maxDefined:a}=e.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:a?n:Number.POSITIVE_INFINITY}}function Z6(e,t,n){const s=e[t]||(e[t]={});return s[n]||(s[n]={})}function rj(e,t,n,s){for(const a of t.getMatchingVisibleMetas(s).reverse()){const o=e[a.index];if(n&&o>0||!n&&o<0)return a.index}return null}function aj(e,t){const{chart:n,_cachedMeta:s}=e,a=n._stacks||(n._stacks={}),{iScale:o,vScale:l,index:d}=s,f=o.axis,h=l.axis,p=K6(o,l,s),g=t.length;let b;for(let y=0;y<g;++y){const w=t[y],{[f]:_,[h]:j}=w,S=w._stacks||(w._stacks={});b=S[h]=Z6(a,p,_),b[d]=j,b._top=rj(b,l,!0,s.type),b._bottom=rj(b,l,!1,s.type);const C=b._visualValues||(b._visualValues={});C[d]=j}}function Hg(e,t){const n=e.scales;return Object.keys(n).filter(s=>n[s].axis===t).shift()}function J6(e,t){return sc(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function ez(e,t,n){return sc(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function hu(e,t){const n=e.controller.index,s=e.vScale&&e.vScale.axis;if(s){t=t||e._parsed;for(const a of t){const o=a._stacks;if(!o||o[s]===void 0||o[s][n]===void 0)return;delete o[s][n],o[s]._visualValues!==void 0&&o[s]._visualValues[n]!==void 0&&delete o[s]._visualValues[n]}}}const Vg=e=>e==="reset"||e==="none",ij=(e,t)=>t?e:Object.assign({},e),tz=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:sE(n,!0),values:null};class ql{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Fg(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&hu(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,s=this.getDataset(),a=(g,b,y,w)=>g==="x"?b:g==="r"?w:y,o=n.xAxisID=Qt(s.xAxisID,Hg(t,"x")),l=n.yAxisID=Qt(s.yAxisID,Hg(t,"y")),d=n.rAxisID=Qt(s.rAxisID,Hg(t,"r")),f=n.indexAxis,h=n.iAxisID=a(f,o,l,d),p=n.vAxisID=a(f,l,o,d);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(d),n.iScale=this.getScaleForId(h),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&$1(this._data,this),t._stacked&&hu(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),s=this._data;if(Zt(n)){const a=this._cachedMeta;this._data=G6(n,a)}else if(s!==n){if(s){$1(s,this);const a=this._cachedMeta;hu(a),a._parsed=[]}n&&Object.isExtensible(n)&&t6(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,s=this.getDataset();let a=!1;this._dataCheck();const o=n._stacked;n._stacked=Fg(n.vScale,n),n.stack!==s.stack&&(a=!0,hu(n),n.stack=s.stack),this._resyncElements(t),(a||o!==n._stacked)&&(aj(this,n._parsed),n._stacked=Fg(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:s,_data:a}=this,{iScale:o,_stacked:l}=s,d=o.axis;let f=t===0&&n===a.length?!0:s._sorted,h=t>0&&s._parsed[t-1],p,g,b;if(this._parsing===!1)s._parsed=a,s._sorted=!0,b=a;else{ns(a[t])?b=this.parseArrayData(s,a,t,n):Zt(a[t])?b=this.parseObjectData(s,a,t,n):b=this.parsePrimitiveData(s,a,t,n);const y=()=>g[d]===null||h&&g[d]<h[d];for(p=0;p<n;++p)s._parsed[p+t]=g=b[p],f&&(y()&&(f=!1),h=g);s._sorted=f}l&&aj(this,b)}parsePrimitiveData(t,n,s,a){const{iScale:o,vScale:l}=t,d=o.axis,f=l.axis,h=o.getLabels(),p=o===l,g=new Array(a);let b,y,w;for(b=0,y=a;b<y;++b)w=b+s,g[b]={[d]:p||o.parse(h[w],w),[f]:l.parse(n[w],w)};return g}parseArrayData(t,n,s,a){const{xScale:o,yScale:l}=t,d=new Array(a);let f,h,p,g;for(f=0,h=a;f<h;++f)p=f+s,g=n[p],d[f]={x:o.parse(g[0],p),y:l.parse(g[1],p)};return d}parseObjectData(t,n,s,a){const{xScale:o,yScale:l}=t,{xAxisKey:d="x",yAxisKey:f="y"}=this._parsing,h=new Array(a);let p,g,b,y;for(p=0,g=a;p<g;++p)b=p+s,y=n[b],h[p]={x:o.parse(Do(y,d),b),y:l.parse(Do(y,f),b)};return h}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,s){const a=this.chart,o=this._cachedMeta,l=n[t.axis],d={keys:sE(a,!0),values:n._stacks[t.axis]._visualValues};return sj(d,l,o.index,{mode:s})}updateRangeFromParsed(t,n,s,a){const o=s[n.axis];let l=o===null?NaN:o;const d=a&&s._stacks[n.axis];a&&d&&(a.values=d,l=sj(a,o,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,n){const s=this._cachedMeta,a=s._parsed,o=s._sorted&&t===s.iScale,l=a.length,d=this._getOtherScale(t),f=tz(n,s,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:g}=Q6(d);let b,y;function w(){y=a[b];const _=y[d.axis];return!Sr(y[t.axis])||p>_||g<_}for(b=0;b<l&&!(!w()&&(this.updateRangeFromParsed(h,t,y,f),o));++b);if(o){for(b=l-1;b>=0;--b)if(!w()){this.updateRangeFromParsed(h,t,y,f);break}}return h}getAllParsedValues(t){const n=this._cachedMeta._parsed,s=[];let a,o,l;for(a=0,o=n.length;a<o;++a)l=n[a][t.axis],Sr(l)&&s.push(l);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,s=n.iScale,a=n.vScale,o=this.getParsed(t);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=X6(Qt(this.options.clip,W6(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,s=this._cachedMeta,a=s.data||[],o=n.chartArea,l=[],d=this._drawStart||0,f=this._drawCount||a.length-d,h=this.options.drawActiveElementsOnTop;let p;for(s.dataset&&s.dataset.draw(t,o,d,f),p=d;p<d+f;++p){const g=a[p];g.hidden||(g.active&&h?l.push(g):g.draw(t,o))}for(p=0;p<l.length;++p)l[p].draw(t,o)}getStyle(t,n){const s=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,n,s){const a=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];o=l.$context||(l.$context=ez(this.getContext(),t,l)),o.parsed=this.getParsed(t),o.raw=a.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=J6(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=s,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",s){const a=n==="active",o=this._cachedDataOpts,l=t+"-"+n,d=o[l],f=this.enableOptionSharing&&Iu(s);if(d)return ij(d,f);const h=this.chart.config,p=h.datasetElementScopeKeys(this._type,t),g=a?[`${t}Hover`,"hover",t,""]:[t,""],b=h.getOptionScopes(this.getDataset(),p),y=Object.keys(Bn.elements[t]),w=()=>this.getContext(s,a,n),_=h.resolveNamedOptions(b,y,w,g);return _.$shared&&(_.$shared=f,o[l]=Object.freeze(ij(_,f))),_}_resolveAnimations(t,n,s){const a=this.chart,o=this._cachedDataOpts,l=`animation-${n}`,d=o[l];if(d)return d;let f;if(a.options.animation!==!1){const p=this.chart.config,g=p.datasetAnimationScopeKeys(this._type,n),b=p.getOptionScopes(this.getDataset(),g);f=p.createResolver(b,this.getContext(t,s,n))}const h=new nE(a,f&&f.animations);return f&&f._cacheable&&(o[l]=Object.freeze(h)),h}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Vg(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const s=this.resolveDataElementOptions(t,n),a=this._sharedOptions,o=this.getSharedOptions(s),l=this.includeOptions(n,o)||o!==a;return this.updateSharedOptions(o,n,s),{sharedOptions:o,includeOptions:l}}updateElement(t,n,s,a){Vg(a)?Object.assign(t,s):this._resolveAnimations(n,a).update(t,s)}updateSharedOptions(t,n,s){t&&!Vg(n)&&this._resolveAnimations(void 0,n).update(t,s)}_setStyle(t,n,s,a){t.active=a;const o=this.getStyle(n,a);this._resolveAnimations(n,s,a).update(t,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(t,n,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,n,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,s=this._cachedMeta.data;for(const[d,f,h]of this._syncList)this[d](f,h);this._syncList=[];const a=s.length,o=n.length,l=Math.min(o,a);l&&this.parse(0,l),o>a?this._insertElements(a,o-a,t):o<a&&this._removeElements(o,a-o)}_insertElements(t,n,s=!0){const a=this._cachedMeta,o=a.data,l=t+n;let d;const f=h=>{for(h.length+=n,d=h.length-1;d>=l;d--)h[d]=h[d-n]};for(f(o),d=t;d<l;++d)o[d]=new this.dataElementType;this._parsing&&f(a._parsed),this.parse(t,n),s&&this.updateElements(o,t,n,"reset")}updateElements(t,n,s,a){}_removeElements(t,n){const s=this._cachedMeta;if(this._parsing){const a=s._parsed.splice(t,n);s._stacked&&hu(s,a)}s.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,s,a]=t;this[n](s,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ft(ql,"defaults",{}),ft(ql,"datasetElementType",null),ft(ql,"dataElementType",null);function nz(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let s=[];for(let a=0,o=n.length;a<o;a++)s=s.concat(n[a].controller.getAllParsedValues(e));e._cache.$bar=VN(s.sort((a,o)=>a-o))}return e._cache.$bar}function sz(e){const t=e.iScale,n=nz(t,e.type);let s=t._length,a,o,l,d;const f=()=>{l===32767||l===-32768||(Iu(d)&&(s=Math.min(s,Math.abs(l-d)||s)),d=l)};for(a=0,o=n.length;a<o;++a)l=t.getPixelForValue(n[a]),f();for(d=void 0,a=0,o=t.ticks.length;a<o;++a)l=t.getPixelForTick(a),f();return s}function rz(e,t,n,s){const a=n.barThickness;let o,l;return pn(a)?(o=t.min*n.categoryPercentage,l=n.barPercentage):(o=a*s,l=1),{chunk:o/s,ratio:l,start:t.pixels[e]-o/2}}function az(e,t,n,s){const a=t.pixels,o=a[e];let l=e>0?a[e-1]:null,d=e<a.length-1?a[e+1]:null;const f=n.categoryPercentage;l===null&&(l=o-(d===null?t.end-t.start:d-o)),d===null&&(d=o+o-l);const h=o-(o-Math.min(l,d))/2*f;return{chunk:Math.abs(d-l)/2*f/s,ratio:n.barPercentage,start:h}}function iz(e,t,n,s){const a=n.parse(e[0],s),o=n.parse(e[1],s),l=Math.min(a,o),d=Math.max(a,o);let f=l,h=d;Math.abs(l)>Math.abs(d)&&(f=d,h=l),t[n.axis]=h,t._custom={barStart:f,barEnd:h,start:a,end:o,min:l,max:d}}function rE(e,t,n,s){return ns(e)?iz(e,t,n,s):t[n.axis]=n.parse(e,s),t}function oj(e,t,n,s){const a=e.iScale,o=e.vScale,l=a.getLabels(),d=a===o,f=[];let h,p,g,b;for(h=n,p=n+s;h<p;++h)b=t[h],g={},g[a.axis]=d||a.parse(l[h],h),f.push(rE(b,g,o,h));return f}function $g(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function oz(e,t,n){return e!==0?Ei(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function lz(e){let t,n,s,a,o;return e.horizontal?(t=e.base>e.x,n="left",s="right"):(t=e.base<e.y,n="bottom",s="top"),t?(a="end",o="start"):(a="start",o="end"),{start:n,end:s,reverse:t,top:a,bottom:o}}function cz(e,t,n,s){let a=t.borderSkipped;const o={};if(!a){e.borderSkipped=o;return}if(a===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:d,reverse:f,top:h,bottom:p}=lz(e);a==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===s?a=h:(n._bottom||0)===s?a=p:(o[lj(p,l,d,f)]=!0,a=h)),o[lj(a,l,d,f)]=!0,e.borderSkipped=o}function lj(e,t,n,s){return s?(e=uz(e,t,n),e=cj(e,n,t)):e=cj(e,t,n),e}function uz(e,t,n){return e===t?n:e===n?t:e}function cj(e,t,n){return e==="start"?t:e==="end"?n:e}function dz(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class dh extends ql{parsePrimitiveData(t,n,s,a){return oj(t,n,s,a)}parseArrayData(t,n,s,a){return oj(t,n,s,a)}parseObjectData(t,n,s,a){const{iScale:o,vScale:l}=t,{xAxisKey:d="x",yAxisKey:f="y"}=this._parsing,h=o.axis==="x"?d:f,p=l.axis==="x"?d:f,g=[];let b,y,w,_;for(b=s,y=s+a;b<y;++b)_=n[b],w={},w[o.axis]=o.parse(Do(_,h),b),g.push(rE(Do(_,p),w,l,b));return g}updateRangeFromParsed(t,n,s,a){super.updateRangeFromParsed(t,n,s,a);const o=s._custom;o&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:s,vScale:a}=n,o=this.getParsed(t),l=o._custom,d=$g(l)?"["+l.start+", "+l.end+"]":""+a.getLabelForValue(o[a.axis]);return{label:""+s.getLabelForValue(o[s.axis]),value:d}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,s,a){const o=a==="reset",{index:l,_cachedMeta:{vScale:d}}=this,f=d.getBasePixel(),h=d.isHorizontal(),p=this._getRuler(),{sharedOptions:g,includeOptions:b}=this._getSharedOptions(n,a);for(let y=n;y<n+s;y++){const w=this.getParsed(y),_=o||pn(w[d.axis])?{base:f,head:f}:this._calculateBarValuePixels(y),j=this._calculateBarIndexPixels(y,p),S=(w._stacks||{})[d.axis],C={horizontal:h,base:_.base,enableBorderRadius:!S||$g(w._custom)||l===S._top||l===S._bottom,x:h?_.head:j.center,y:h?j.center:_.head,height:h?j.size:Math.abs(_.size),width:h?Math.abs(_.size):j.size};b&&(C.options=g||this.resolveDataElementOptions(y,t[y].active?"active":a));const R=C.options||t[y].options;cz(C,R,S,l),dz(C,R,p.ratio),this.updateElement(t[y],y,C,a)}}_getStacks(t,n){const{iScale:s}=this._cachedMeta,a=s.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),o=s.options.stacked,l=[],d=this._cachedMeta.controller.getParsed(n),f=d&&d[s.axis],h=p=>{const g=p._parsed.find(y=>y[s.axis]===f),b=g&&g[p.vScale.axis];if(pn(b)||isNaN(b))return!0};for(const p of a)if(!(n!==void 0&&h(p))&&((o===!1||l.indexOf(p.stack)===-1||o===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(s=>t[s].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)t[Qt(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,s){const a=this._getStacks(t,s),o=n!==void 0?a.indexOf(n):-1;return o===-1?a.length-1:o}_getRuler(){const t=this.options,n=this._cachedMeta,s=n.iScale,a=[];let o,l;for(o=0,l=n.data.length;o<l;++o)a.push(s.getPixelForValue(this.getParsed(o)[s.axis],o));const d=t.barThickness;return{min:d||sz(n),pixels:a,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:d?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:s,index:a},options:{base:o,minBarLength:l}}=this,d=o||0,f=this.getParsed(t),h=f._custom,p=$g(h);let g=f[n.axis],b=0,y=s?this.applyStack(n,f,s):g,w,_;y!==g&&(b=y-g,y=g),p&&(g=h.barStart,y=h.barEnd-h.barStart,g!==0&&Ei(g)!==Ei(h.barEnd)&&(b=0),b+=g);const j=!pn(o)&&!p?o:b;let S=n.getPixelForValue(j);if(this.chart.getDataVisibility(t)?w=n.getPixelForValue(b+y):w=S,_=w-S,Math.abs(_)<l){_=oz(_,n,d)*l,g===d&&(S-=_/2);const C=n.getPixelForDecimal(0),R=n.getPixelForDecimal(1),k=Math.min(C,R),O=Math.max(C,R);S=Math.max(Math.min(S,O),k),w=S+_,s&&!p&&(f._stacks[n.axis]._visualValues[a]=n.getValueForPixel(w)-n.getValueForPixel(S))}if(S===n.getPixelForValue(d)){const C=Ei(_)*n.getLineWidthForValue(d)/2;S+=C,_-=C}return{size:_,base:S,head:w,center:w+_/2}}_calculateBarIndexPixels(t,n){const s=n.scale,a=this.options,o=a.skipNull,l=Qt(a.maxBarThickness,1/0);let d,f;const h=this._getAxisCount();if(n.grouped){const p=o?this._getStackCount(t):n.stackCount,g=a.barThickness==="flex"?az(t,n,a,p*h):rz(t,n,a,p*h),b=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,y=this._getAxis().indexOf(Qt(b,this.getFirstScaleIdForIndexAxis())),w=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+y;d=g.start+g.chunk*w+g.chunk/2,f=Math.min(l,g.chunk*g.ratio)}else d=s.getPixelForValue(this.getParsed(t)[s.axis],t),f=Math.min(l,n.min*n.ratio);return{base:d-f/2,head:d+f/2,center:d,size:f}}draw(){const t=this._cachedMeta,n=t.vScale,s=t.data,a=s.length;let o=0;for(;o<a;++o)this.getParsed(o)[n.axis]!==null&&!s[o].hidden&&s[o].draw(this._ctx)}}ft(dh,"id","bar"),ft(dh,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ft(dh,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function fz(e,t,n){let s=1,a=1,o=0,l=0;if(t<Xn){const d=e,f=d+t,h=Math.cos(d),p=Math.sin(d),g=Math.cos(f),b=Math.sin(f),y=(R,k,O)=>Ch(R,d,f,!0)?1:Math.max(k,k*n,O,O*n),w=(R,k,O)=>Ch(R,d,f,!0)?-1:Math.min(k,k*n,O,O*n),_=y(0,h,g),j=y(rs,p,b),S=w(mn,h,g),C=w(mn+rs,p,b);s=(_-S)/2,a=(j-C)/2,o=-(_+S)/2,l=-(j+C)/2}return{ratioX:s,ratioY:a,offsetX:o,offsetY:l}}class Eu extends ql{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const s=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=s;else{let o=f=>+s[f];if(Zt(s[t])){const{key:f="value"}=this._parsing;o=h=>+Do(s[h],f)}let l,d;for(l=t,d=t+n;l<d;++l)a._parsed[l]=o(l)}}_getRotation(){return Ba(this.options.rotation-90)}_getCircumference(){return Ba(this.options.circumference)}_getRotationExtents(){let t=Xn,n=-Xn;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const a=this.chart.getDatasetMeta(s).controller,o=a._getRotation(),l=a._getCircumference();t=Math.min(t,o),n=Math.max(n,o+l)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:s}=n,a=this._cachedMeta,o=a.data,l=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,d=Math.max((Math.min(s.width,s.height)-l)/2,0),f=Math.min(BL(this.options.cutout,d),1),h=this._getRingWeight(this.index),{circumference:p,rotation:g}=this._getRotationExtents(),{ratioX:b,ratioY:y,offsetX:w,offsetY:_}=fz(g,p,f),j=(s.width-l)/b,S=(s.height-l)/y,C=Math.max(Math.min(j,S)/2,0),R=zN(this.options.radius,C),k=Math.max(R*f,0),O=(R-k)/this._getVisibleDatasetWeightTotal();this.offsetX=w*R,this.offsetY=_*R,a.total=this.calculateTotal(),this.outerRadius=R-O*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-O*h,0),this.updateElements(o,0,o.length,t)}_circumference(t,n){const s=this.options,a=this._cachedMeta,o=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||a._parsed[t]===null||a.data[t].hidden?0:this.calculateCircumference(a._parsed[t]*o/Xn)}updateElements(t,n,s,a){const o=a==="reset",l=this.chart,d=l.chartArea,h=l.options.animation,p=(d.left+d.right)/2,g=(d.top+d.bottom)/2,b=o&&h.animateScale,y=b?0:this.innerRadius,w=b?0:this.outerRadius,{sharedOptions:_,includeOptions:j}=this._getSharedOptions(n,a);let S=this._getRotation(),C;for(C=0;C<n;++C)S+=this._circumference(C,o);for(C=n;C<n+s;++C){const R=this._circumference(C,o),k=t[C],O={x:p+this.offsetX,y:g+this.offsetY,startAngle:S,endAngle:S+R,circumference:R,outerRadius:w,innerRadius:y};j&&(O.options=_||this.resolveDataElementOptions(C,k.active?"active":a)),S+=R,this.updateElement(k,C,O,a)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let s=0,a;for(a=0;a<n.length;a++){const o=t._parsed[a];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(a)&&!n[a].hidden&&(s+=Math.abs(o))}return s}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?Xn*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,s=this.chart,a=s.data.labels||[],o=ny(n._parsed[t],s.options.locale);return{label:a[t]||"",value:o}}getMaxBorderWidth(t){let n=0;const s=this.chart;let a,o,l,d,f;if(!t){for(a=0,o=s.data.datasets.length;a<o;++a)if(s.isDatasetVisible(a)){l=s.getDatasetMeta(a),t=l.data,d=l.controller;break}}if(!t)return 0;for(a=0,o=t.length;a<o;++a)f=d.resolveDataElementOptions(a),f.borderAlign!=="inner"&&(n=Math.max(n,f.borderWidth||0,f.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let s=0,a=t.length;s<a;++s){const o=this.resolveDataElementOptions(s);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let s=0;s<t;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(t){return Math.max(Qt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ft(Eu,"id","doughnut"),ft(Eu,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ft(Eu,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),ft(Eu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:a}}=t.legend.options;return n.labels.map((o,l)=>{const f=t.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:a,lineWidth:f.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});function xo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class dy{constructor(t){ft(this,"options");this.options=t||{}}static override(t){Object.assign(dy.prototype,t)}init(){}formats(){return xo()}parse(){return xo()}format(){return xo()}add(){return xo()}diff(){return xo()}startOf(){return xo()}endOf(){return xo()}}var hz={_date:dy};function mz(e,t,n,s){const{controller:a,data:o,_sorted:l}=e,d=a._cachedMeta.iScale,f=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(d&&t===d.axis&&t!=="r"&&l&&o.length){const h=d._reversePixels?JL:z0;if(s){if(a._sharedOptions){const p=o[0],g=typeof p.getRange=="function"&&p.getRange(t);if(g){const b=h(o,t,n-g),y=h(o,t,n+g);return{lo:b.lo,hi:y.hi}}}}else{const p=h(o,t,n);if(f){const{vScale:g}=a._cachedMeta,{_parsed:b}=e,y=b.slice(0,p.lo+1).reverse().findIndex(_=>!pn(_[g.axis]));p.lo-=Math.max(0,y);const w=b.slice(p.hi).findIndex(_=>!pn(_[g.axis]));p.hi+=Math.max(0,w)}return p}}return{lo:0,hi:o.length-1}}function nm(e,t,n,s,a){const o=e.getSortedVisibleDatasetMetas(),l=n[t];for(let d=0,f=o.length;d<f;++d){const{index:h,data:p}=o[d],{lo:g,hi:b}=mz(o[d],t,l,a);for(let y=g;y<=b;++y){const w=p[y];w.skip||s(w,h,y)}}}function pz(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(s,a){const o=t?Math.abs(s.x-a.x):0,l=n?Math.abs(s.y-a.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function qg(e,t,n,s,a){const o=[];return!a&&!e.isPointInArea(t)||nm(e,n,t,function(d,f,h){!a&&!XN(d,e.chartArea,0)||d.inRange(t.x,t.y,s)&&o.push({element:d,datasetIndex:f,index:h})},!0),o}function gz(e,t,n,s){let a=[];function o(l,d,f){const{startAngle:h,endAngle:p}=l.getProps(["startAngle","endAngle"],s),{angle:g}=FN(l,{x:t.x,y:t.y});Ch(g,h,p)&&a.push({element:l,datasetIndex:d,index:f})}return nm(e,n,t,o),a}function xz(e,t,n,s,a,o){let l=[];const d=pz(n);let f=Number.POSITIVE_INFINITY;function h(p,g,b){const y=p.inRange(t.x,t.y,a);if(s&&!y)return;const w=p.getCenterPoint(a);if(!(!!o||e.isPointInArea(w))&&!y)return;const j=d(t,w);j<f?(l=[{element:p,datasetIndex:g,index:b}],f=j):j===f&&l.push({element:p,datasetIndex:g,index:b})}return nm(e,n,t,h),l}function Ig(e,t,n,s,a,o){return!o&&!e.isPointInArea(t)?[]:n==="r"&&!s?gz(e,t,n,a):xz(e,t,n,s,a,o)}function uj(e,t,n,s,a){const o=[],l=n==="x"?"inXRange":"inYRange";let d=!1;return nm(e,n,t,(f,h,p)=>{f[l]&&f[l](t[n],a)&&(o.push({element:f,datasetIndex:h,index:p}),d=d||f.inRange(t.x,t.y,a))}),s&&!d?[]:o}var yz={modes:{index(e,t,n,s){const a=bo(t,e),o=n.axis||"x",l=n.includeInvisible||!1,d=n.intersect?qg(e,a,o,s,l):Ig(e,a,o,!1,s,l),f=[];return d.length?(e.getSortedVisibleDatasetMetas().forEach(h=>{const p=d[0].index,g=h.data[p];g&&!g.skip&&f.push({element:g,datasetIndex:h.index,index:p})}),f):[]},dataset(e,t,n,s){const a=bo(t,e),o=n.axis||"xy",l=n.includeInvisible||!1;let d=n.intersect?qg(e,a,o,s,l):Ig(e,a,o,!1,s,l);if(d.length>0){const f=d[0].datasetIndex,h=e.getDatasetMeta(f).data;d=[];for(let p=0;p<h.length;++p)d.push({element:h[p],datasetIndex:f,index:p})}return d},point(e,t,n,s){const a=bo(t,e),o=n.axis||"xy",l=n.includeInvisible||!1;return qg(e,a,o,s,l)},nearest(e,t,n,s){const a=bo(t,e),o=n.axis||"xy",l=n.includeInvisible||!1;return Ig(e,a,o,n.intersect,s,l)},x(e,t,n,s){const a=bo(t,e);return uj(e,a,"x",n.intersect,s)},y(e,t,n,s){const a=bo(t,e);return uj(e,a,"y",n.intersect,s)}}};const aE=["left","top","right","bottom"];function mu(e,t){return e.filter(n=>n.pos===t)}function dj(e,t){return e.filter(n=>aE.indexOf(n.pos)===-1&&n.box.axis===t)}function pu(e,t){return e.sort((n,s)=>{const a=t?s:n,o=t?n:s;return a.weight===o.weight?a.index-o.index:a.weight-o.weight})}function bz(e){const t=[];let n,s,a,o,l,d;for(n=0,s=(e||[]).length;n<s;++n)a=e[n],{position:o,options:{stack:l,stackWeight:d=1}}=a,t.push({index:n,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:l&&o+l,stackWeight:d});return t}function vz(e){const t={};for(const n of e){const{stack:s,pos:a,stackWeight:o}=n;if(!s||!aE.includes(a))continue;const l=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return t}function wz(e,t){const n=vz(e),{vBoxMaxWidth:s,hBoxMaxHeight:a}=t;let o,l,d;for(o=0,l=e.length;o<l;++o){d=e[o];const{fullSize:f}=d.box,h=n[d.stack],p=h&&d.stackWeight/h.weight;d.horizontal?(d.width=p?p*s:f&&t.availableWidth,d.height=a):(d.width=s,d.height=p?p*a:f&&t.availableHeight)}return n}function _z(e){const t=bz(e),n=pu(t.filter(h=>h.box.fullSize),!0),s=pu(mu(t,"left"),!0),a=pu(mu(t,"right")),o=pu(mu(t,"top"),!0),l=pu(mu(t,"bottom")),d=dj(t,"x"),f=dj(t,"y");return{fullSize:n,leftAndTop:s.concat(o),rightAndBottom:a.concat(f).concat(l).concat(d),chartArea:mu(t,"chartArea"),vertical:s.concat(a).concat(f),horizontal:o.concat(l).concat(d)}}function fj(e,t,n,s){return Math.max(e[n],t[n])+Math.max(e[s],t[s])}function iE(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function jz(e,t,n,s){const{pos:a,box:o}=n,l=e.maxPadding;if(!Zt(a)){n.size&&(e[a]-=n.size);const g=s[n.stack]||{size:0,count:1};g.size=Math.max(g.size,n.horizontal?o.height:o.width),n.size=g.size/g.count,e[a]+=n.size}o.getPadding&&iE(l,o.getPadding());const d=Math.max(0,t.outerWidth-fj(l,e,"left","right")),f=Math.max(0,t.outerHeight-fj(l,e,"top","bottom")),h=d!==e.w,p=f!==e.h;return e.w=d,e.h=f,n.horizontal?{same:h,other:p}:{same:p,other:h}}function Sz(e){const t=e.maxPadding;function n(s){const a=Math.max(t[s]-e[s],0);return e[s]+=a,a}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function Nz(e,t){const n=t.maxPadding;function s(a){const o={left:0,top:0,right:0,bottom:0};return a.forEach(l=>{o[l]=Math.max(t[l],n[l])}),o}return s(e?["left","right"]:["top","bottom"])}function Tu(e,t,n,s){const a=[];let o,l,d,f,h,p;for(o=0,l=e.length,h=0;o<l;++o){d=e[o],f=d.box,f.update(d.width||t.w,d.height||t.h,Nz(d.horizontal,t));const{same:g,other:b}=jz(t,n,d,s);h|=g&&a.length,p=p||b,f.fullSize||a.push(d)}return h&&Tu(a,t,n,s)||p}function Bf(e,t,n,s,a){e.top=n,e.left=t,e.right=t+s,e.bottom=n+a,e.width=s,e.height=a}function hj(e,t,n,s){const a=n.padding;let{x:o,y:l}=t;for(const d of e){const f=d.box,h=s[d.stack]||{placed:0,weight:1},p=d.stackWeight/h.weight||1;if(d.horizontal){const g=t.w*p,b=h.size||f.height;Iu(h.start)&&(l=h.start),f.fullSize?Bf(f,a.left,l,n.outerWidth-a.right-a.left,b):Bf(f,t.left+h.placed,l,g,b),h.start=l,h.placed+=g,l=f.bottom}else{const g=t.h*p,b=h.size||f.width;Iu(h.start)&&(o=h.start),f.fullSize?Bf(f,o,a.top,b,n.outerHeight-a.bottom-a.top):Bf(f,o,t.top+h.placed,b,g),h.start=o,h.placed+=g,o=f.right}}t.x=o,t.y=l}var _r={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,s){if(!e)return;const a=Nr(e.options.layout.padding),o=Math.max(t-a.width,0),l=Math.max(n-a.height,0),d=_z(e.boxes),f=d.vertical,h=d.horizontal;rn(e.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const p=f.reduce((_,j)=>j.box.options&&j.box.options.display===!1?_:_+1,0)||1,g=Object.freeze({outerWidth:t,outerHeight:n,padding:a,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/p,hBoxMaxHeight:l/2}),b=Object.assign({},a);iE(b,Nr(s));const y=Object.assign({maxPadding:b,w:o,h:l,x:a.left,y:a.top},a),w=wz(f.concat(h),g);Tu(d.fullSize,y,g,w),Tu(f,y,g,w),Tu(h,y,g,w)&&Tu(f,y,g,w),Sz(y),hj(d.leftAndTop,y,g,w),y.x+=y.w,y.y+=y.h,hj(d.rightAndBottom,y,g,w),e.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},rn(d.chartArea,_=>{const j=_.box;Object.assign(j,e.chartArea),j.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class oE{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,s){}removeEventListener(t,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,s,a){return n=Math.max(0,n||t.width),s=s||t.height,{width:n,height:Math.max(0,a?Math.floor(n/a):s)}}isAttached(t){return!0}updateConfig(t){}}class Ez extends oE{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const fh="$chartjs",Tz={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},mj=e=>e===null||e==="";function kz(e,t){const n=e.style,s=e.getAttribute("height"),a=e.getAttribute("width");if(e[fh]={initial:{height:s,width:a,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",mj(a)){const o=ej(e,"width");o!==void 0&&(e.width=o)}if(mj(s))if(e.style.height==="")e.height=e.width/(t||2);else{const o=ej(e,"height");o!==void 0&&(e.height=o)}return e}const lE=z6?{passive:!0}:!1;function Cz(e,t,n){e&&e.addEventListener(t,n,lE)}function Az(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,lE)}function Oz(e,t){const n=Tz[e.type]||e.type,{x:s,y:a}=bo(e,t);return{type:n,chart:t,native:e,x:s!==void 0?s:null,y:a!==void 0?a:null}}function Rh(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function Rz(e,t,n){const s=e.canvas,a=new MutationObserver(o=>{let l=!1;for(const d of o)l=l||Rh(d.addedNodes,s),l=l&&!Rh(d.removedNodes,s);l&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}function Dz(e,t,n){const s=e.canvas,a=new MutationObserver(o=>{let l=!1;for(const d of o)l=l||Rh(d.removedNodes,s),l=l&&!Rh(d.addedNodes,s);l&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}const Wu=new Map;let pj=0;function cE(){const e=window.devicePixelRatio;e!==pj&&(pj=e,Wu.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function Mz(e,t){Wu.size||window.addEventListener("resize",cE),Wu.set(e,t)}function Pz(e){Wu.delete(e),Wu.size||window.removeEventListener("resize",cE)}function Lz(e,t,n){const s=e.canvas,a=s&&uy(s);if(!a)return;const o=qN((d,f)=>{const h=a.clientWidth;n(d,f),h<a.clientWidth&&n()},window),l=new ResizeObserver(d=>{const f=d[0],h=f.contentRect.width,p=f.contentRect.height;h===0&&p===0||o(h,p)});return l.observe(a),Mz(e,o),l}function Yg(e,t,n){n&&n.disconnect(),t==="resize"&&Pz(e)}function zz(e,t,n){const s=e.canvas,a=qN(o=>{e.ctx!==null&&n(Oz(o,e))},e);return Cz(s,t,a),a}class Uz extends oE{acquireContext(t,n){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(kz(t,n),s):null}releaseContext(t){const n=t.canvas;if(!n[fh])return!1;const s=n[fh].initial;["height","width"].forEach(o=>{const l=s[o];pn(l)?n.removeAttribute(o):n.setAttribute(o,l)});const a=s.style||{};return Object.keys(a).forEach(o=>{n.style[o]=a[o]}),n.width=n.width,delete n[fh],!0}addEventListener(t,n,s){this.removeEventListener(t,n);const a=t.$proxies||(t.$proxies={}),l={attach:Rz,detach:Dz,resize:Lz}[n]||zz;a[n]=l(t,n,s)}removeEventListener(t,n){const s=t.$proxies||(t.$proxies={}),a=s[n];if(!a)return;({attach:Yg,detach:Yg,resize:Yg}[n]||Az)(t,n,a),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,s,a){return L6(t,n,s,a)}isAttached(t){const n=t&&uy(t);return!!(n&&n.isConnected)}}function Bz(e){return!cy()||typeof OffscreenCanvas!="undefined"&&e instanceof OffscreenCanvas?Ez:Uz}var Gf;let Uo=(Gf=class{constructor(){ft(this,"x");ft(this,"y");ft(this,"active",!1);ft(this,"options");ft(this,"$animations")}tooltipPosition(t){const{x:n,y:s}=this.getProps(["x","y"],t);return{x:n,y:s}}hasValue(){return kh(this.x)&&kh(this.y)}getProps(t,n){const s=this.$animations;if(!n||!s)return this;const a={};return t.forEach(o=>{a[o]=s[o]&&s[o].active()?s[o]._to:this[o]}),a}},ft(Gf,"defaults",{}),ft(Gf,"defaultRoutes"),Gf);function Fz(e,t){const n=e.options.ticks,s=Hz(e),a=Math.min(n.maxTicksLimit||s,s),o=n.major.enabled?$z(t):[],l=o.length,d=o[0],f=o[l-1],h=[];if(l>a)return qz(t,h,o,l/a),h;const p=Vz(o,t,a);if(l>0){let g,b;const y=l>1?Math.round((f-d)/(l-1)):null;for(Ff(t,h,p,pn(y)?0:d-y,d),g=0,b=l-1;g<b;g++)Ff(t,h,p,o[g],o[g+1]);return Ff(t,h,p,f,pn(y)?t.length:f+y),h}return Ff(t,h,p),h}function Hz(e){const t=e.options.offset,n=e._tickSize(),s=e._length/n+(t?0:1),a=e._maxLength/n;return Math.floor(Math.min(s,a))}function Vz(e,t,n){const s=Iz(e),a=t.length/n;if(!s)return Math.max(a,1);const o=YL(s);for(let l=0,d=o.length-1;l<d;l++){const f=o[l];if(f>a)return f}return Math.max(a,1)}function $z(e){const t=[];let n,s;for(n=0,s=e.length;n<s;n++)e[n].major&&t.push(n);return t}function qz(e,t,n,s){let a=0,o=n[0],l;for(s=Math.ceil(s),l=0;l<e.length;l++)l===o&&(t.push(e[l]),a++,o=n[a*s])}function Ff(e,t,n,s,a){const o=Qt(s,0),l=Math.min(Qt(a,e.length),e.length);let d=0,f,h,p;for(n=Math.ceil(n),a&&(f=a-s,n=f/Math.floor(f/n)),p=o;p<0;)d++,p=Math.round(o+d*n);for(h=Math.max(o,0);h<l;h++)h===p&&(t.push(e[h]),d++,p=Math.round(o+d*n))}function Iz(e){const t=e.length;let n,s;if(t<2)return!1;for(s=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==s)return!1;return s}const Yz=e=>e==="left"?"right":e==="right"?"left":e,gj=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,xj=(e,t)=>Math.min(t||e,e);function yj(e,t){const n=[],s=e.length/t,a=e.length;let o=0;for(;o<a;o+=s)n.push(e[Math.floor(o)]);return n}function Wz(e,t,n){const s=e.ticks.length,a=Math.min(t,s-1),o=e._startPixel,l=e._endPixel,d=1e-6;let f=e.getPixelForTick(a),h;if(!(n&&(s===1?h=Math.max(f-o,l-f):t===0?h=(e.getPixelForTick(1)-f)/2:h=(f-e.getPixelForTick(a-1))/2,f+=a<t?h:-h,f<o-d||f>l+d)))return f}function Xz(e,t){rn(e,n=>{const s=n.gc,a=s.length/2;let o;if(a>t){for(o=0;o<a;++o)delete n.data[s[o]];s.splice(0,a)}})}function gu(e){return e.drawTicks?e.tickLength:0}function bj(e,t){if(!e.display)return 0;const n=ks(e.font,t),s=Nr(e.padding);return(ns(e.text)?e.text.length:1)*n.lineHeight+s.height}function Gz(e,t){return sc(e,{scale:t,type:"scale"})}function Kz(e,t,n){return sc(e,{tick:n,index:t,type:"tick"})}function Qz(e,t,n){let s=ty(e);return(n&&t!=="right"||!n&&t==="right")&&(s=Yz(s)),s}function Zz(e,t,n,s){const{top:a,left:o,bottom:l,right:d,chart:f}=e,{chartArea:h,scales:p}=f;let g=0,b,y,w;const _=l-a,j=d-o;if(e.isHorizontal()){if(y=Es(s,o,d),Zt(n)){const S=Object.keys(n)[0],C=n[S];w=p[S].getPixelForValue(C)+_-t}else n==="center"?w=(h.bottom+h.top)/2+_-t:w=gj(e,n,t);b=d-o}else{if(Zt(n)){const S=Object.keys(n)[0],C=n[S];y=p[S].getPixelForValue(C)-j+t}else n==="center"?y=(h.left+h.right)/2-j+t:y=gj(e,n,t);w=Es(s,l,a),g=n==="left"?-rs:rs}return{titleX:y,titleY:w,maxWidth:b,rotation:g}}class rc extends Uo{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:s,_suggestedMax:a}=this;return t=Qr(t,Number.POSITIVE_INFINITY),n=Qr(n,Number.NEGATIVE_INFINITY),s=Qr(s,Number.POSITIVE_INFINITY),a=Qr(a,Number.NEGATIVE_INFINITY),{min:Qr(t,s),max:Qr(n,a),minDefined:Sr(t),maxDefined:Sr(n)}}getMinMax(t){let{min:n,max:s,minDefined:a,maxDefined:o}=this.getUserBounds(),l;if(a&&o)return{min:n,max:s};const d=this.getMatchingVisibleMetas();for(let f=0,h=d.length;f<h;++f)l=d[f].controller.getMinMax(this,t),a||(n=Math.min(n,l.min)),o||(s=Math.max(s,l.max));return n=o&&n>s?s:n,s=a&&n>s?n:s,{min:Qr(n,Qr(s,n)),max:Qr(s,Qr(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){vn(this.options.beforeUpdate,[this])}update(t,n,s){const{beginAtZero:a,grace:o,ticks:l}=this.options,d=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=w6(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=d<this.ticks.length;this._convertTicksToLabels(f?yj(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=Fz(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,t=!t),this._startPixel=n,this._endPixel=s,this._reversePixels=t,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){vn(this.options.afterUpdate,[this])}beforeSetDimensions(){vn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){vn(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),vn(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){vn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let s,a,o;for(s=0,a=t.length;s<a;s++)o=t[s],o.label=vn(n.callback,[o.value,s,t],this)}afterTickToLabelConversion(){vn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){vn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,s=xj(this.ticks.length,t.ticks.maxTicksLimit),a=n.minRotation||0,o=n.maxRotation;let l=a,d,f,h;if(!this._isVisible()||!n.display||a>=o||s<=1||!this.isHorizontal()){this.labelRotation=a;return}const p=this._getLabelSizes(),g=p.widest.width,b=p.highest.height,y=qs(this.chart.width-g,0,this.maxWidth);d=t.offset?this.maxWidth/s:y/(s-1),g+6>d&&(d=y/(s-(t.offset?.5:1)),f=this.maxHeight-gu(t.grid)-n.padding-bj(t.title,this.chart.options.font),h=Math.sqrt(g*g+b*b),l=KL(Math.min(Math.asin(qs((p.highest.height+6)/d,-1,1)),Math.asin(qs(f/h,-1,1))-Math.asin(qs(b/h,-1,1)))),l=Math.max(a,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){vn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){vn(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:s,title:a,grid:o}}=this,l=this._isVisible(),d=this.isHorizontal();if(l){const f=bj(a,n.options.font);if(d?(t.width=this.maxWidth,t.height=gu(o)+f):(t.height=this.maxHeight,t.width=gu(o)+f),s.display&&this.ticks.length){const{first:h,last:p,widest:g,highest:b}=this._getLabelSizes(),y=s.padding*2,w=Ba(this.labelRotation),_=Math.cos(w),j=Math.sin(w);if(d){const S=s.mirror?0:j*g.width+_*b.height;t.height=Math.min(this.maxHeight,t.height+S+y)}else{const S=s.mirror?0:_*g.width+j*b.height;t.width=Math.min(this.maxWidth,t.width+S+y)}this._calculatePadding(h,p,j,_)}}this._handleMargins(),d?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,s,a){const{ticks:{align:o,padding:l},position:d}=this.options,f=this.labelRotation!==0,h=d!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,y=0;f?h?(b=a*t.width,y=s*n.height):(b=s*t.height,y=a*n.width):o==="start"?y=n.width:o==="end"?b=t.width:o!=="inner"&&(b=t.width/2,y=n.width/2),this.paddingLeft=Math.max((b-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((y-g+l)*this.width/(this.width-g),0)}else{let p=n.height/2,g=t.height/2;o==="start"?(p=0,g=t.height):o==="end"&&(p=n.height,g=0),this.paddingTop=p+l,this.paddingBottom=g+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){vn(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,s;for(n=0,s=t.length;n<s;n++)pn(t[n].label)&&(t.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=yj(s,n)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,s){const{ctx:a,_longestTextCache:o}=this,l=[],d=[],f=Math.floor(n/xj(n,s));let h=0,p=0,g,b,y,w,_,j,S,C,R,k,O;for(g=0;g<n;g+=f){if(w=t[g].label,_=this._resolveTickFontOptions(g),a.font=j=_.string,S=o[j]=o[j]||{data:{},gc:[]},C=_.lineHeight,R=k=0,!pn(w)&&!ns(w))R=X1(a,S.data,S.gc,R,w),k=C;else if(ns(w))for(b=0,y=w.length;b<y;++b)O=w[b],!pn(O)&&!ns(O)&&(R=X1(a,S.data,S.gc,R,O),k+=C);l.push(R),d.push(k),h=Math.max(R,h),p=Math.max(k,p)}Xz(o,n);const D=l.indexOf(h),$=d.indexOf(p),A=B=>({width:l[B]||0,height:d[B]||0});return{first:A(0),last:A(n-1),widest:A(D),highest:A($),widths:l,heights:d}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return ZL(this._alignToPixels?go(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const s=n[t];return s.$context||(s.$context=Kz(this.getContext(),t,s))}return this.$context||(this.$context=Gz(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Ba(this.labelRotation),s=Math.abs(Math.cos(n)),a=Math.abs(Math.sin(n)),o=this._getLabelSizes(),l=t.autoSkipPadding||0,d=o?o.widest.width+l:0,f=o?o.highest.height+l:0;return this.isHorizontal()?f*s>d*a?d/s:f/a:f*a<d*s?f/s:d/a}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,s=this.chart,a=this.options,{grid:o,position:l,border:d}=a,f=o.offset,h=this.isHorizontal(),g=this.ticks.length+(f?1:0),b=gu(o),y=[],w=d.setContext(this.getContext()),_=w.display?w.width:0,j=_/2,S=function(V){return go(s,V,_)};let C,R,k,O,D,$,A,B,J,K,I,ee;if(l==="top")C=S(this.bottom),$=this.bottom-b,B=C-j,K=S(t.top)+j,ee=t.bottom;else if(l==="bottom")C=S(this.top),K=t.top,ee=S(t.bottom)-j,$=C+j,B=this.top+b;else if(l==="left")C=S(this.right),D=this.right-b,A=C-j,J=S(t.left)+j,I=t.right;else if(l==="right")C=S(this.left),J=t.left,I=S(t.right)-j,D=C+j,A=this.left+b;else if(n==="x"){if(l==="center")C=S((t.top+t.bottom)/2+.5);else if(Zt(l)){const V=Object.keys(l)[0],te=l[V];C=S(this.chart.scales[V].getPixelForValue(te))}K=t.top,ee=t.bottom,$=C+j,B=$+b}else if(n==="y"){if(l==="center")C=S((t.left+t.right)/2);else if(Zt(l)){const V=Object.keys(l)[0],te=l[V];C=S(this.chart.scales[V].getPixelForValue(te))}D=C-j,A=D-b,J=t.left,I=t.right}const pe=Qt(a.ticks.maxTicksLimit,g),ne=Math.max(1,Math.ceil(g/pe));for(R=0;R<g;R+=ne){const V=this.getContext(R),te=o.setContext(V),Q=d.setContext(V),fe=te.lineWidth,F=te.color,W=Q.dash||[],me=Q.dashOffset,U=te.tickWidth,re=te.tickColor,_e=te.tickBorderDash||[],xe=te.tickBorderDashOffset;k=Wz(this,R,f),k!==void 0&&(O=go(s,k,fe),h?D=A=J=I=O:$=B=K=ee=O,y.push({tx1:D,ty1:$,tx2:A,ty2:B,x1:J,y1:K,x2:I,y2:ee,width:fe,color:F,borderDash:W,borderDashOffset:me,tickWidth:U,tickColor:re,tickBorderDash:_e,tickBorderDashOffset:xe}))}return this._ticksLength=g,this._borderValue=C,y}_computeLabelItems(t){const n=this.axis,s=this.options,{position:a,ticks:o}=s,l=this.isHorizontal(),d=this.ticks,{align:f,crossAlign:h,padding:p,mirror:g}=o,b=gu(s.grid),y=b+p,w=g?-p:y,_=-Ba(this.labelRotation),j=[];let S,C,R,k,O,D,$,A,B,J,K,I,ee="middle";if(a==="top")D=this.bottom-w,$=this._getXAxisLabelAlignment();else if(a==="bottom")D=this.top+w,$=this._getXAxisLabelAlignment();else if(a==="left"){const ne=this._getYAxisLabelAlignment(b);$=ne.textAlign,O=ne.x}else if(a==="right"){const ne=this._getYAxisLabelAlignment(b);$=ne.textAlign,O=ne.x}else if(n==="x"){if(a==="center")D=(t.top+t.bottom)/2+y;else if(Zt(a)){const ne=Object.keys(a)[0],V=a[ne];D=this.chart.scales[ne].getPixelForValue(V)+y}$=this._getXAxisLabelAlignment()}else if(n==="y"){if(a==="center")O=(t.left+t.right)/2-y;else if(Zt(a)){const ne=Object.keys(a)[0],V=a[ne];O=this.chart.scales[ne].getPixelForValue(V)}$=this._getYAxisLabelAlignment(b).textAlign}n==="y"&&(f==="start"?ee="top":f==="end"&&(ee="bottom"));const pe=this._getLabelSizes();for(S=0,C=d.length;S<C;++S){R=d[S],k=R.label;const ne=o.setContext(this.getContext(S));A=this.getPixelForTick(S)+o.labelOffset,B=this._resolveTickFontOptions(S),J=B.lineHeight,K=ns(k)?k.length:1;const V=K/2,te=ne.color,Q=ne.textStrokeColor,fe=ne.textStrokeWidth;let F=$;l?(O=A,$==="inner"&&(S===C-1?F=this.options.reverse?"left":"right":S===0?F=this.options.reverse?"right":"left":F="center"),a==="top"?h==="near"||_!==0?I=-K*J+J/2:h==="center"?I=-pe.highest.height/2-V*J+J:I=-pe.highest.height+J/2:h==="near"||_!==0?I=J/2:h==="center"?I=pe.highest.height/2-V*J:I=pe.highest.height-K*J,g&&(I*=-1),_!==0&&!ne.showLabelBackdrop&&(O+=J/2*Math.sin(_))):(D=A,I=(1-K)*J/2);let W;if(ne.showLabelBackdrop){const me=Nr(ne.backdropPadding),U=pe.heights[S],re=pe.widths[S];let _e=I-me.top,xe=0-me.left;switch(ee){case"middle":_e-=U/2;break;case"bottom":_e-=U;break}switch($){case"center":xe-=re/2;break;case"right":xe-=re;break;case"inner":S===C-1?xe-=re:S>0&&(xe-=re/2);break}W={left:xe,top:_e,width:re+me.width,height:U+me.height,color:ne.backdropColor}}j.push({label:k,font:B,textOffset:I,options:{rotation:_,color:te,strokeColor:Q,strokeWidth:fe,textAlign:F,textBaseline:ee,translation:[O,D],backdrop:W}})}return j}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Ba(this.labelRotation))return t==="top"?"left":"right";let a="center";return n.align==="start"?a="left":n.align==="end"?a="right":n.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:s,mirror:a,padding:o}}=this.options,l=this._getLabelSizes(),d=t+o,f=l.widest.width;let h,p;return n==="left"?a?(p=this.right+o,s==="near"?h="left":s==="center"?(h="center",p+=f/2):(h="right",p+=f)):(p=this.right-d,s==="near"?h="right":s==="center"?(h="center",p-=f/2):(h="left",p=this.left)):n==="right"?a?(p=this.left+o,s==="near"?h="right":s==="center"?(h="center",p-=f/2):(h="left",p-=f)):(p=this.left+d,s==="near"?h="left":s==="center"?(h="center",p+=f/2):(h="right",p=this.right)):h="right",{textAlign:h,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:s,top:a,width:o,height:l}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(s,a,o,l),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const a=this.ticks.findIndex(o=>o.value===t);return a>=0?n.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){const n=this.options.grid,s=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,l;const d=(f,h,p)=>{!p.width||!p.color||(s.save(),s.lineWidth=p.width,s.strokeStyle=p.color,s.setLineDash(p.borderDash||[]),s.lineDashOffset=p.borderDashOffset,s.beginPath(),s.moveTo(f.x,f.y),s.lineTo(h.x,h.y),s.stroke(),s.restore())};if(n.display)for(o=0,l=a.length;o<l;++o){const f=a[o];n.drawOnChartArea&&d({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),n.drawTicks&&d({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:s,grid:a}}=this,o=s.setContext(this.getContext()),l=s.display?o.width:0;if(!l)return;const d=a.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let h,p,g,b;this.isHorizontal()?(h=go(t,this.left,l)-l/2,p=go(t,this.right,d)+d/2,g=b=f):(g=go(t,this.top,l)-l/2,b=go(t,this.bottom,d)+d/2,h=p=f),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(h,g),n.lineTo(p,b),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,a=this._computeLabelArea();a&&sy(s,a);const o=this.getLabelItems(t);for(const l of o){const d=l.options,f=l.font,h=l.label,p=l.textOffset;Yu(s,h,0,p,f,d)}a&&ry(s)}drawTitle(){const{ctx:t,options:{position:n,title:s,reverse:a}}=this;if(!s.display)return;const o=ks(s.font),l=Nr(s.padding),d=s.align;let f=o.lineHeight/2;n==="bottom"||n==="center"||Zt(n)?(f+=l.bottom,ns(s.text)&&(f+=o.lineHeight*(s.text.length-1))):f+=l.top;const{titleX:h,titleY:p,maxWidth:g,rotation:b}=Zz(this,f,n,d);Yu(t,s.text,0,0,o,{color:s.color,maxWidth:g,rotation:b,textAlign:Qz(d,n,a),textBaseline:"middle",translation:[h,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,s=Qt(t.grid&&t.grid.z,-1),a=Qt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==rc.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:s,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",a=[];let o,l;for(o=0,l=n.length;o<l;++o){const d=n[o];d[s]===this.id&&(!t||d.type===t)&&a.push(d)}return a}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return ks(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Hf{constructor(t,n,s){this.type=t,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let s;tU(n)&&(s=this.register(n));const a=this.items,o=t.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in a||(a[o]=t,Jz(t,l,s),this.override&&Bn.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const n=this.items,s=t.id,a=this.scope;s in n&&delete n[s],a&&s in Bn[a]&&(delete Bn[a][s],this.override&&delete Mo[s])}}function Jz(e,t,n){const s=qu(Object.create(null),[n?Bn.get(n):{},Bn.get(t),e.defaults]);Bn.set(t,s),e.defaultRoutes&&eU(t,e.defaultRoutes),e.descriptors&&Bn.describe(t,e.descriptors)}function eU(e,t){Object.keys(t).forEach(n=>{const s=n.split("."),a=s.pop(),o=[e].concat(s).join("."),l=t[n].split("."),d=l.pop(),f=l.join(".");Bn.route(o,a,f,d)})}function tU(e){return"id"in e&&"defaults"in e}class nU{constructor(){this.controllers=new Hf(ql,"datasets",!0),this.elements=new Hf(Uo,"elements"),this.plugins=new Hf(Object,"plugins"),this.scales=new Hf(rc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,s){[...n].forEach(a=>{const o=s||this._getRegistryForType(a);s||o.isForType(a)||o===this.plugins&&a.id?this._exec(t,o,a):rn(a,l=>{const d=s||this._getRegistryForType(l);this._exec(t,d,l)})})}_exec(t,n,s){const a=Jx(t);vn(s["before"+a],[],s),n[t](s),vn(s["after"+a],[],s)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(t))return s}return this.plugins}_get(t,n,s){const a=n.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return a}}var Jr=new nU;class sU{constructor(){this._init=[]}notify(t,n,s,a){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=a?this._descriptors(t).filter(a):this._descriptors(t),l=this._notify(o,t,n,s);return n==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,n,s,a){a=a||{};for(const o of t){const l=o.plugin,d=l[s],f=[n,a,o.options];if(vn(d,f,l)===!1&&a.cancelable)return!1}return!0}invalidate(){pn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const s=t&&t.config,a=Qt(s.options&&s.options.plugins,{}),o=rU(s);return a===!1&&!n?[]:iU(t,o,a,n)}_notifyStateChanges(t){const n=this._oldCache||[],s=this._cache,a=(o,l)=>o.filter(d=>!l.some(f=>d.plugin.id===f.plugin.id));this._notify(a(n,s),t,"stop"),this._notify(a(s,n),t,"start")}}function rU(e){const t={},n=[],s=Object.keys(Jr.plugins.items);for(let o=0;o<s.length;o++)n.push(Jr.getPlugin(s[o]));const a=e.plugins||[];for(let o=0;o<a.length;o++){const l=a[o];n.indexOf(l)===-1&&(n.push(l),t[l.id]=!0)}return{plugins:n,localIds:t}}function aU(e,t){return!t&&e===!1?null:e===!0?{}:e}function iU(e,{plugins:t,localIds:n},s,a){const o=[],l=e.getContext();for(const d of t){const f=d.id,h=aU(s[f],a);h!==null&&o.push({plugin:d,options:oU(e.config,{plugin:d,local:n[f]},h,l)})}return o}function oU(e,{plugin:t,local:n},s,a){const o=e.pluginScopeKeys(t),l=e.getOptionScopes(s,o);return n&&t.defaults&&l.push(t.defaults),e.createResolver(l,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function B0(e,t){const n=Bn.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function lU(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function cU(e,t){return e===t?"_index_":"_value_"}function vj(e){if(e==="x"||e==="y"||e==="r")return e}function uU(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function F0(e,...t){if(vj(e))return e;for(const n of t){const s=n.axis||uU(n.position)||e.length>1&&vj(e[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function wj(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function dU(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(s=>s.xAxisID===e||s.yAxisID===e);if(n.length)return wj(e,"x",n[0])||wj(e,"y",n[0])}return{}}function fU(e,t){const n=Mo[e.type]||{scales:{}},s=t.scales||{},a=B0(e.type,t),o=Object.create(null);return Object.keys(s).forEach(l=>{const d=s[l];if(!Zt(d))return console.error(`Invalid scale configuration for scale: ${l}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const f=F0(l,d,dU(l,e),Bn.scales[d.type]),h=cU(f,a),p=n.scales||{};o[l]=Au(Object.create(null),[{axis:f},d,p[f],p[h]])}),e.data.datasets.forEach(l=>{const d=l.type||e.type,f=l.indexAxis||B0(d,t),p=(Mo[d]||{}).scales||{};Object.keys(p).forEach(g=>{const b=lU(g,f),y=l[b+"AxisID"]||b;o[y]=o[y]||Object.create(null),Au(o[y],[{axis:b},s[y],p[g]])})}),Object.keys(o).forEach(l=>{const d=o[l];Au(d,[Bn.scales[d.type],Bn.scale])}),o}function uE(e){const t=e.options||(e.options={});t.plugins=Qt(t.plugins,{}),t.scales=fU(e,t)}function dE(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function hU(e){return e=e||{},e.data=dE(e.data),uE(e),e}const _j=new Map,fE=new Set;function Vf(e,t){let n=_j.get(e);return n||(n=t(),_j.set(e,n),fE.add(n)),n}const xu=(e,t,n)=>{const s=Do(t,n);s!==void 0&&e.add(s)};class mU{constructor(t){this._config=hU(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=dE(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),uE(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Vf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Vf(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Vf(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,s=this.type;return Vf(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const s=this._scopeCache;let a=s.get(t);return(!a||n)&&(a=new Map,s.set(t,a)),a}getOptionScopes(t,n,s){const{options:a,type:o}=this,l=this._cachedScopes(t,s),d=l.get(n);if(d)return d;const f=new Set;n.forEach(p=>{t&&(f.add(t),p.forEach(g=>xu(f,t,g))),p.forEach(g=>xu(f,a,g)),p.forEach(g=>xu(f,Mo[o]||{},g)),p.forEach(g=>xu(f,Bn,g)),p.forEach(g=>xu(f,U0,g))});const h=Array.from(f);return h.length===0&&h.push(Object.create(null)),fE.has(n)&&l.set(n,h),h}chartOptionScopes(){const{options:t,type:n}=this;return[t,Mo[n]||{},Bn.datasets[n]||{},{type:n},Bn,U0]}resolveNamedOptions(t,n,s,a=[""]){const o={$shared:!0},{resolver:l,subPrefixes:d}=jj(this._resolverCache,t,a);let f=l;if(gU(l,n)){o.$shared=!1,s=Mi(s)?s():s;const h=this.createResolver(t,s,d);f=Kl(l,s,h)}for(const h of n)o[h]=f[h];return o}createResolver(t,n,s=[""],a){const{resolver:o}=jj(this._resolverCache,t,s);return Zt(n)?Kl(o,n,void 0,a):o}}function jj(e,t,n){let s=e.get(t);s||(s=new Map,e.set(t,s));const a=n.join();let o=s.get(a);return o||(o={resolver:iy(t,n),subPrefixes:n.filter(d=>!d.toLowerCase().includes("hover"))},s.set(a,o)),o}const pU=e=>Zt(e)&&Object.getOwnPropertyNames(e).some(t=>Mi(e[t]));function gU(e,t){const{isScriptable:n,isIndexable:s}=KN(e);for(const a of t){const o=n(a),l=s(a),d=(l||o)&&e[a];if(o&&(Mi(d)||pU(d))||l&&ns(d))return!0}return!1}var xU="4.5.0";const yU=["top","bottom","left","right","chartArea"];function Sj(e,t){return e==="top"||e==="bottom"||yU.indexOf(e)===-1&&t==="x"}function Nj(e,t){return function(n,s){return n[e]===s[e]?n[t]-s[t]:n[e]-s[e]}}function Ej(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),vn(n&&n.onComplete,[e],t)}function bU(e){const t=e.chart,n=t.options.animation;vn(n&&n.onProgress,[e],t)}function hE(e){return cy()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const hh={},Tj=e=>{const t=hE(e);return Object.values(hh).filter(n=>n.canvas===t).pop()};function vU(e,t,n){const s=Object.keys(e);for(const a of s){const o=+a;if(o>=t){const l=e[a];delete e[a],(n>0||o>t)&&(e[o+n]=l)}}}function wU(e,t,n,s){return!n||e.type==="mouseout"?null:s?t:e}var xi;let sm=(xi=class{static register(...t){Jr.add(...t),kj()}static unregister(...t){Jr.remove(...t),kj()}constructor(t,n){const s=this.config=new mU(n),a=hE(t),o=Tj(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||Bz(a)),this.platform.updateConfig(s);const d=this.platform.acquireContext(a,l.aspectRatio),f=d&&d.canvas,h=f&&f.height,p=f&&f.width;if(this.id=UL(),this.ctx=d,this.canvas=f,this.width=p,this.height=h,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new sU,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=n6(g=>this.update(g),l.resizeDelay||0),this._dataChanges=[],hh[this.id]=this,!d||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Ma.listen(this,"complete",Ej),Ma.listen(this,"progress",bU),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:s,height:a,_aspectRatio:o}=this;return pn(t)?n&&o?o:a?s/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Jr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():J1(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return G1(this.canvas,this.ctx),this}stop(){return Ma.stop(this),this}resize(t,n){Ma.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const s=this.options,a=this.canvas,o=s.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(a,t,n,o),d=s.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,J1(this,d,!0)&&(this.notifyPlugins("resize",{size:l}),vn(s.onResize,[this,l],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};rn(n,(s,a)=>{s.id=a})}buildOrUpdateScales(){const t=this.options,n=t.scales,s=this.scales,a=Object.keys(s).reduce((l,d)=>(l[d]=!1,l),{});let o=[];n&&(o=o.concat(Object.keys(n).map(l=>{const d=n[l],f=F0(l,d),h=f==="r",p=f==="x";return{options:d,dposition:h?"chartArea":p?"bottom":"left",dtype:h?"radialLinear":p?"category":"linear"}}))),rn(o,l=>{const d=l.options,f=d.id,h=F0(f,d),p=Qt(d.type,l.dtype);(d.position===void 0||Sj(d.position,h)!==Sj(l.dposition))&&(d.position=l.dposition),a[f]=!0;let g=null;if(f in s&&s[f].type===p)g=s[f];else{const b=Jr.getScale(p);g=new b({id:f,type:p,ctx:this.ctx,chart:this}),s[g.id]=g}g.init(d,t)}),rn(a,(l,d)=>{l||delete s[d]}),rn(s,l=>{_r.configure(this,l,l.options),_r.addBox(this,l)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,s=t.length;if(t.sort((a,o)=>a.index-o.index),s>n){for(let a=n;a<s;++a)this._destroyDatasetMeta(a);t.splice(n,s-n)}this._sortedMetasets=t.slice(0).sort(Nj("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((s,a)=>{n.filter(o=>o===s._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let s,a;for(this._removeUnreferencedMetasets(),s=0,a=n.length;s<a;s++){const o=n[s];let l=this.getDatasetMeta(s);const d=o.type||this.config.type;if(l.type&&l.type!==d&&(this._destroyDatasetMeta(s),l=this.getDatasetMeta(s)),l.type=d,l.indexAxis=o.indexAxis||B0(d,this.options),l.order=o.order||0,l.index=s,l.label=""+o.label,l.visible=this.isDatasetVisible(s),l.controller)l.controller.updateIndex(s),l.controller.linkScales();else{const f=Jr.getController(d),{datasetElementType:h,dataElementType:p}=Bn.datasets[d];Object.assign(f,{dataElementType:Jr.getElement(p),datasetElementType:h&&Jr.getElement(h)}),l.controller=new f(this,s),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){rn(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let h=0,p=this.data.datasets.length;h<p;h++){const{controller:g}=this.getDatasetMeta(h),b=!a&&o.indexOf(g)===-1;g.buildOrUpdateElements(b),l=Math.max(+g.getMaxOverflow(),l)}l=this._minPadding=s.layout.autoPadding?l:0,this._updateLayout(l),a||rn(o,h=>{h.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Nj("z","_idx"));const{_active:d,_lastEvent:f}=this;f?this._eventHandler(f,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){rn(this.scales,t=>{_r.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!B1(n,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:a,count:o}of n){const l=s==="_removeElements"?-o:o;vU(t,a,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=o=>new Set(t.filter(l=>l[0]===o).map((l,d)=>d+","+l.splice(1).join(","))),a=s(0);for(let o=1;o<n;o++)if(!B1(a,s(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;_r.update(this,this.width,this.height,t);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],rn(this.boxes,a=>{s&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Mi(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const s=this.getDatasetMeta(t),a={meta:s,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(s.controller._update(n),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ma.has(this)?this.attached&&!Ma.running(this)&&Ma.start(this):(this.draw(),Ej({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,s=[];let a,o;for(a=0,o=n.length;a<o;++a){const l=n[a];(!t||l.visible)&&s.push(l)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,s={meta:t,index:t.index,cancelable:!0},a=H6(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(a&&sy(n,a),t.controller.draw(),a&&ry(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return XN(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,s,a){const o=yz.modes[n];return typeof o=="function"?o(this,t,s,a):[]}getDatasetMeta(t){const n=this.data.datasets[t],s=this._metasets;let a=s.filter(o=>o&&o._dataset===n).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},s.push(a)),a}getContext(){return this.$context||(this.$context=sc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(t,n){const s=this.getDatasetMeta(t);s.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,s){const a=s?"show":"hide",o=this.getDatasetMeta(t),l=o.controller._resolveAnimations(void 0,a);Iu(n)?(o.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),l.update(o,{visible:s}),this.update(d=>d.datasetIndex===t?a:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Ma.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),G1(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete hh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,s=(o,l)=>{n.addEventListener(this,o,l),t[o]=l},a=(o,l,d)=>{o.offsetX=l,o.offsetY=d,this._eventHandler(o)};rn(this.options.events,o=>s(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,s=(f,h)=>{n.addEventListener(this,f,h),t[f]=h},a=(f,h)=>{t[f]&&(n.removeEventListener(this,f,h),delete t[f])},o=(f,h)=>{this.canvas&&this.resize(f,h)};let l;const d=()=>{a("attach",d),this.attached=!0,this.resize(),s("resize",o),s("detach",l)};l=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),s("attach",d)},n.isAttached(this.canvas)?d():l()}unbindEvents(){rn(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},rn(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,s){const a=s?"set":"remove";let o,l,d,f;for(n==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),d=0,f=t.length;d<f;++d){l=t[d];const h=l&&this.getDatasetMeta(l.datasetIndex).controller;h&&h[a+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],s=t.map(({datasetIndex:o,index:l})=>{const d=this.getDatasetMeta(o);if(!d)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:d.data[l],index:l}});!Nh(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(t,n,s){return this._plugins.notify(this,t,n,s)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,s){const a=this.options.hover,o=(f,h)=>f.filter(p=>!h.some(g=>p.datasetIndex===g.datasetIndex&&p.index===g.index)),l=o(n,t),d=s?t:o(t,n);l.length&&this.updateHoverStyle(l,a.mode,!1),d.length&&a.mode&&this.updateHoverStyle(d,a.mode,!0)}_eventHandler(t,n){const s={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},a=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,a)===!1)return;const o=this._handleEvent(t,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,a),(o||s.changed)&&this.render(),this}_handleEvent(t,n,s){const{_active:a=[],options:o}=this,l=n,d=this._getActiveElements(t,a,s,l),f=qL(t),h=wU(t,this._lastEvent,s,f);s&&(this._lastEvent=null,vn(o.onHover,[t,d,this],this),f&&vn(o.onClick,[t,d,this],this));const p=!Nh(d,a);return(p||n)&&(this._active=d,this._updateHoverStyles(d,a,n)),this._lastEvent=h,p}_getActiveElements(t,n,s,a){if(t.type==="mouseout")return[];if(!s)return n;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,a)}},ft(xi,"defaults",Bn),ft(xi,"instances",hh),ft(xi,"overrides",Mo),ft(xi,"registry",Jr),ft(xi,"version",xU),ft(xi,"getChart",Tj),xi);function kj(){return rn(sm.instances,e=>e._plugins.invalidate())}function _U(e,t,n){const{startAngle:s,x:a,y:o,outerRadius:l,innerRadius:d,options:f}=t,{borderWidth:h,borderJoinStyle:p}=f,g=Math.min(h/l,ea(s-n));if(e.beginPath(),e.arc(a,o,l-h/2,s+g/2,n-g/2),d>0){const b=Math.min(h/d,ea(s-n));e.arc(a,o,d+h/2,n-b/2,s+b/2,!0)}else{const b=Math.min(h/2,l*ea(s-n));if(p==="round")e.arc(a,o,b,n-mn/2,s+mn/2,!0);else if(p==="bevel"){const y=2*b*b,w=-y*Math.cos(n+mn/2)+a,_=-y*Math.sin(n+mn/2)+o,j=y*Math.cos(s+mn/2)+a,S=y*Math.sin(s+mn/2)+o;e.lineTo(w,_),e.lineTo(j,S)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function jU(e,t,n){const{startAngle:s,pixelMargin:a,x:o,y:l,outerRadius:d,innerRadius:f}=t;let h=a/d;e.beginPath(),e.arc(o,l,d,s-h,n+h),f>a?(h=a/f,e.arc(o,l,f,n+h,s-h,!0)):e.arc(o,l,a,n+rs,s-rs),e.closePath(),e.clip()}function SU(e){return ay(e,["outerStart","outerEnd","innerStart","innerEnd"])}function NU(e,t,n,s){const a=SU(e.options.borderRadius),o=(n-t)/2,l=Math.min(o,s*t/2),d=f=>{const h=(n-Math.min(o,f))*s/2;return qs(f,0,Math.min(o,h))};return{outerStart:d(a.outerStart),outerEnd:d(a.outerEnd),innerStart:qs(a.innerStart,0,l),innerEnd:qs(a.innerEnd,0,l)}}function Al(e,t,n,s){return{x:n+e*Math.cos(t),y:s+e*Math.sin(t)}}function Dh(e,t,n,s,a,o){const{x:l,y:d,startAngle:f,pixelMargin:h,innerRadius:p}=t,g=Math.max(t.outerRadius+s+n-h,0),b=p>0?p+s+n+h:0;let y=0;const w=a-f;if(s){const ne=p>0?p-s:0,V=g>0?g-s:0,te=(ne+V)/2,Q=te!==0?w*te/(te+s):w;y=(w-Q)/2}const _=Math.max(.001,w*g-n/mn)/g,j=(w-_)/2,S=f+j+y,C=a-j-y,{outerStart:R,outerEnd:k,innerStart:O,innerEnd:D}=NU(t,b,g,C-S),$=g-R,A=g-k,B=S+R/$,J=C-k/A,K=b+O,I=b+D,ee=S+O/K,pe=C-D/I;if(e.beginPath(),o){const ne=(B+J)/2;if(e.arc(l,d,g,B,ne),e.arc(l,d,g,ne,J),k>0){const fe=Al(A,J,l,d);e.arc(fe.x,fe.y,k,J,C+rs)}const V=Al(I,C,l,d);if(e.lineTo(V.x,V.y),D>0){const fe=Al(I,pe,l,d);e.arc(fe.x,fe.y,D,C+rs,pe+Math.PI)}const te=(C-D/b+(S+O/b))/2;if(e.arc(l,d,b,C-D/b,te,!0),e.arc(l,d,b,te,S+O/b,!0),O>0){const fe=Al(K,ee,l,d);e.arc(fe.x,fe.y,O,ee+Math.PI,S-rs)}const Q=Al($,S,l,d);if(e.lineTo(Q.x,Q.y),R>0){const fe=Al($,B,l,d);e.arc(fe.x,fe.y,R,S-rs,B)}}else{e.moveTo(l,d);const ne=Math.cos(B)*g+l,V=Math.sin(B)*g+d;e.lineTo(ne,V);const te=Math.cos(J)*g+l,Q=Math.sin(J)*g+d;e.lineTo(te,Q)}e.closePath()}function EU(e,t,n,s,a){const{fullCircles:o,startAngle:l,circumference:d}=t;let f=t.endAngle;if(o){Dh(e,t,n,s,f,a);for(let h=0;h<o;++h)e.fill();isNaN(d)||(f=l+(d%Xn||Xn))}return Dh(e,t,n,s,f,a),e.fill(),f}function TU(e,t,n,s,a){const{fullCircles:o,startAngle:l,circumference:d,options:f}=t,{borderWidth:h,borderJoinStyle:p,borderDash:g,borderDashOffset:b,borderRadius:y}=f,w=f.borderAlign==="inner";if(!h)return;e.setLineDash(g||[]),e.lineDashOffset=b,w?(e.lineWidth=h*2,e.lineJoin=p||"round"):(e.lineWidth=h,e.lineJoin=p||"bevel");let _=t.endAngle;if(o){Dh(e,t,n,s,_,a);for(let j=0;j<o;++j)e.stroke();isNaN(d)||(_=l+(d%Xn||Xn))}w&&jU(e,t,_),f.selfJoin&&_-l>=mn&&y===0&&p!=="miter"&&_U(e,t,_),o||(Dh(e,t,n,s,_,a),e.stroke())}class ku extends Uo{constructor(n){super();ft(this,"circumference");ft(this,"endAngle");ft(this,"fullCircles");ft(this,"innerRadius");ft(this,"outerRadius");ft(this,"pixelMargin");ft(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,a){const o=this.getProps(["x","y"],a),{angle:l,distance:d}=FN(o,{x:n,y:s}),{startAngle:f,endAngle:h,innerRadius:p,outerRadius:g,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),y=(this.options.spacing+this.options.borderWidth)/2,w=Qt(b,h-f),_=Ch(l,f,h)&&f!==h,j=w>=Xn||_,S=Eo(d,p+y,g+y);return j&&S}getCenterPoint(n){const{x:s,y:a,startAngle:o,endAngle:l,innerRadius:d,outerRadius:f}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:h,spacing:p}=this.options,g=(o+l)/2,b=(d+f+p+h)/2;return{x:s+Math.cos(g)*b,y:a+Math.sin(g)*b}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:a}=this,o=(s.offset||0)/4,l=(s.spacing||0)/2,d=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=a>Xn?Math.floor(a/Xn):0,a===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const f=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(f)*o,Math.sin(f)*o);const h=1-Math.sin(Math.min(mn,a||0)),p=o*h;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,EU(n,this,p,l,d),TU(n,this,p,l,d),n.restore()}}ft(ku,"id","arc"),ft(ku,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),ft(ku,"defaultRoutes",{backgroundColor:"backgroundColor"}),ft(ku,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function mE(e,t){const{x:n,y:s,base:a,width:o,height:l}=e.getProps(["x","y","base","width","height"],t);let d,f,h,p,g;return e.horizontal?(g=l/2,d=Math.min(n,a),f=Math.max(n,a),h=s-g,p=s+g):(g=o/2,d=n-g,f=n+g,h=Math.min(s,a),p=Math.max(s,a)),{left:d,top:h,right:f,bottom:p}}function ji(e,t,n,s){return e?0:qs(t,n,s)}function kU(e,t,n){const s=e.options.borderWidth,a=e.borderSkipped,o=GN(s);return{t:ji(a.top,o.top,0,n),r:ji(a.right,o.right,0,t),b:ji(a.bottom,o.bottom,0,n),l:ji(a.left,o.left,0,t)}}function CU(e,t,n){const{enableBorderRadius:s}=e.getProps(["enableBorderRadius"]),a=e.options.borderRadius,o=Vl(a),l=Math.min(t,n),d=e.borderSkipped,f=s||Zt(a);return{topLeft:ji(!f||d.top||d.left,o.topLeft,0,l),topRight:ji(!f||d.top||d.right,o.topRight,0,l),bottomLeft:ji(!f||d.bottom||d.left,o.bottomLeft,0,l),bottomRight:ji(!f||d.bottom||d.right,o.bottomRight,0,l)}}function AU(e){const t=mE(e),n=t.right-t.left,s=t.bottom-t.top,a=kU(e,n/2,s/2),o=CU(e,n/2,s/2);return{outer:{x:t.left,y:t.top,w:n,h:s,radius:o},inner:{x:t.left+a.l,y:t.top+a.t,w:n-a.l-a.r,h:s-a.t-a.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,o.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(a.b,a.r))}}}}function Wg(e,t,n,s){const a=t===null,o=n===null,d=e&&!(a&&o)&&mE(e,s);return d&&(a||Eo(t,d.left,d.right))&&(o||Eo(n,d.top,d.bottom))}function OU(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function RU(e,t){e.rect(t.x,t.y,t.w,t.h)}function Xg(e,t,n={}){const s=e.x!==n.x?-t:0,a=e.y!==n.y?-t:0,o=(e.x+e.w!==n.x+n.w?t:0)-s,l=(e.y+e.h!==n.y+n.h?t:0)-a;return{x:e.x+s,y:e.y+a,w:e.w+o,h:e.h+l,radius:e.radius}}class mh extends Uo{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:s,backgroundColor:a}}=this,{inner:o,outer:l}=AU(this),d=OU(l.radius)?Ah:RU;t.save(),(l.w!==o.w||l.h!==o.h)&&(t.beginPath(),d(t,Xg(l,n,o)),t.clip(),d(t,Xg(o,-n,l)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),d(t,Xg(o,n)),t.fillStyle=a,t.fill(),t.restore()}inRange(t,n,s){return Wg(this,t,n,s)}inXRange(t,n){return Wg(this,t,null,n)}inYRange(t,n){return Wg(this,null,t,n)}getCenterPoint(t){const{x:n,y:s,base:a,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(n+a)/2:n,y:o?s:(s+a)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}ft(mh,"id","bar"),ft(mh,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ft(mh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Cj=(e,t)=>{let{boxHeight:n=t,boxWidth:s=t}=e;return e.usePointStyle&&(n=Math.min(n,t),s=e.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(t,n)}},DU=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Aj extends Uo{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,s){this.maxWidth=t,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=vn(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(s=>t.filter(s,this.chart.data))),t.sort&&(n=n.sort((s,a)=>t.sort(s,a,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,a=ks(s.font),o=a.size,l=this._computeTitleHeight(),{boxWidth:d,itemHeight:f}=Cj(s,o);let h,p;n.font=a.string,this.isHorizontal()?(h=this.maxWidth,p=this._fitRows(l,o,d,f)+10):(p=this.maxHeight,h=this._fitCols(l,a,d,f)+10),this.width=Math.min(h,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,n,s,a){const{ctx:o,maxWidth:l,options:{labels:{padding:d}}}=this,f=this.legendHitBoxes=[],h=this.lineWidths=[0],p=a+d;let g=t;o.textAlign="left",o.textBaseline="middle";let b=-1,y=-p;return this.legendItems.forEach((w,_)=>{const j=s+n/2+o.measureText(w.text).width;(_===0||h[h.length-1]+j+2*d>l)&&(g+=p,h[h.length-(_>0?0:1)]=0,y+=p,b++),f[_]={left:0,top:y,row:b,width:j,height:a},h[h.length-1]+=j+d}),g}_fitCols(t,n,s,a){const{ctx:o,maxHeight:l,options:{labels:{padding:d}}}=this,f=this.legendHitBoxes=[],h=this.columnSizes=[],p=l-t;let g=d,b=0,y=0,w=0,_=0;return this.legendItems.forEach((j,S)=>{const{itemWidth:C,itemHeight:R}=MU(s,n,o,j,a);S>0&&y+R+2*d>p&&(g+=b+d,h.push({width:b,height:y}),w+=b+d,_++,b=y=0),f[S]={left:w,top:y,col:_,width:C,height:R},b=Math.max(b,C),y+=R+d}),g+=b,h.push({width:b,height:y}),g}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:a},rtl:o}}=this,l=$l(o,this.left,this.width);if(this.isHorizontal()){let d=0,f=Es(s,this.left+a,this.right-this.lineWidths[d]);for(const h of n)d!==h.row&&(d=h.row,f=Es(s,this.left+a,this.right-this.lineWidths[d])),h.top+=this.top+t+a,h.left=l.leftForLtr(l.x(f),h.width),f+=h.width+a}else{let d=0,f=Es(s,this.top+t+a,this.bottom-this.columnSizes[d].height);for(const h of n)h.col!==d&&(d=h.col,f=Es(s,this.top+t+a,this.bottom-this.columnSizes[d].height)),h.top=f,h.left+=this.left+a,h.left=l.leftForLtr(l.x(h.left),h.width),f+=h.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;sy(t,this),this._draw(),ry(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:s,ctx:a}=this,{align:o,labels:l}=t,d=Bn.color,f=$l(t.rtl,this.left,this.width),h=ks(l.font),{padding:p}=l,g=h.size,b=g/2;let y;this.drawTitle(),a.textAlign=f.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=h.string;const{boxWidth:w,boxHeight:_,itemHeight:j}=Cj(l,g),S=function(D,$,A){if(isNaN(w)||w<=0||isNaN(_)||_<0)return;a.save();const B=Qt(A.lineWidth,1);if(a.fillStyle=Qt(A.fillStyle,d),a.lineCap=Qt(A.lineCap,"butt"),a.lineDashOffset=Qt(A.lineDashOffset,0),a.lineJoin=Qt(A.lineJoin,"miter"),a.lineWidth=B,a.strokeStyle=Qt(A.strokeStyle,d),a.setLineDash(Qt(A.lineDash,[])),l.usePointStyle){const J={radius:_*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:B},K=f.xPlus(D,w/2),I=$+b;WN(a,J,K,I,l.pointStyleWidth&&w)}else{const J=$+Math.max((g-_)/2,0),K=f.leftForLtr(D,w),I=Vl(A.borderRadius);a.beginPath(),Object.values(I).some(ee=>ee!==0)?Ah(a,{x:K,y:J,w,h:_,radius:I}):a.rect(K,J,w,_),a.fill(),B!==0&&a.stroke()}a.restore()},C=function(D,$,A){Yu(a,A.text,D,$+j/2,h,{strikethrough:A.hidden,textAlign:f.textAlign(A.textAlign)})},R=this.isHorizontal(),k=this._computeTitleHeight();R?y={x:Es(o,this.left+p,this.right-s[0]),y:this.top+p+k,line:0}:y={x:this.left+p,y:Es(o,this.top+k+p,this.bottom-n[0].height),line:0},eE(this.ctx,t.textDirection);const O=j+p;this.legendItems.forEach((D,$)=>{a.strokeStyle=D.fontColor,a.fillStyle=D.fontColor;const A=a.measureText(D.text).width,B=f.textAlign(D.textAlign||(D.textAlign=l.textAlign)),J=w+b+A;let K=y.x,I=y.y;f.setWidth(this.width),R?$>0&&K+J+p>this.right&&(I=y.y+=O,y.line++,K=y.x=Es(o,this.left+p,this.right-s[y.line])):$>0&&I+O>this.bottom&&(K=y.x=K+n[y.line].width+p,y.line++,I=y.y=Es(o,this.top+k+p,this.bottom-n[y.line].height));const ee=f.x(K);if(S(ee,I,D),K=s6(B,K+w+b,R?K+J:this.right,t.rtl),C(f.x(K),I,D),R)y.x+=J+p;else if(typeof D.text!="string"){const pe=h.lineHeight;y.y+=pE(D,pe)+p}else y.y+=O}),tE(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,s=ks(n.font),a=Nr(n.padding);if(!n.display)return;const o=$l(t.rtl,this.left,this.width),l=this.ctx,d=n.position,f=s.size/2,h=a.top+f;let p,g=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),p=this.top+h,g=Es(t.align,g,this.right-b);else{const w=this.columnSizes.reduce((_,j)=>Math.max(_,j.height),0);p=h+Es(t.align,this.top,this.bottom-w-t.labels.padding-this._computeTitleHeight())}const y=Es(d,g,g+b);l.textAlign=o.textAlign(ty(d)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=s.string,Yu(l,n.text,y,p,s)}_computeTitleHeight(){const t=this.options.title,n=ks(t.font),s=Nr(t.padding);return t.display?n.lineHeight+s.height:0}_getLegendItemAt(t,n){let s,a,o;if(Eo(t,this.left,this.right)&&Eo(n,this.top,this.bottom)){for(o=this.legendHitBoxes,s=0;s<o.length;++s)if(a=o[s],Eo(t,a.left,a.left+a.width)&&Eo(n,a.top,a.top+a.height))return this.legendItems[s]}return null}handleEvent(t){const n=this.options;if(!zU(t.type,n))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const a=this._hoveredItem,o=DU(a,s);a&&!o&&vn(n.onLeave,[t,a,this],this),this._hoveredItem=s,s&&!o&&vn(n.onHover,[t,s,this],this)}else s&&vn(n.onClick,[t,s,this],this)}}function MU(e,t,n,s,a){const o=PU(s,e,t,n),l=LU(a,s,t.lineHeight);return{itemWidth:o,itemHeight:l}}function PU(e,t,n,s){let a=e.text;return a&&typeof a!="string"&&(a=a.reduce((o,l)=>o.length>l.length?o:l)),t+n.size/2+s.measureText(a).width}function LU(e,t,n){let s=e;return typeof t.text!="string"&&(s=pE(t,n)),s}function pE(e,t){const n=e.text?e.text.length:0;return t*n}function zU(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var UU={id:"legend",_element:Aj,start(e,t,n){const s=e.legend=new Aj({ctx:e.ctx,options:n,chart:e});_r.configure(e,s,n),_r.addBox(e,s)},stop(e){_r.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const s=e.legend;_r.configure(e,s,n),s.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const s=t.datasetIndex,a=n.chart;a.isDatasetVisible(s)?(a.hide(s),t.hidden=!0):(a.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:a,color:o,useBorderRadius:l,borderRadius:d}}=e.legend.options;return e._getSortedDatasetMetas().map(f=>{const h=f.controller.getStyle(n?0:void 0),p=Nr(h.borderWidth);return{text:t[f.index].label,fillStyle:h.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:h.borderColor,pointStyle:s||h.pointStyle,rotation:h.rotation,textAlign:a||h.textAlign,borderRadius:l&&(d||h.borderRadius),datasetIndex:f.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};let gE=class extends Uo{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const a=ns(s.text)?s.text.length:1;this._padding=Nr(s.padding);const o=a*ks(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:s,bottom:a,right:o,options:l}=this,d=l.align;let f=0,h,p,g;return this.isHorizontal()?(p=Es(d,s,o),g=n+t,h=o-s):(l.position==="left"?(p=s+t,g=Es(d,a,n),f=mn*-.5):(p=o-t,g=Es(d,n,a),f=mn*.5),h=a-n),{titleX:p,titleY:g,maxWidth:h,rotation:f}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const s=ks(n.font),o=s.lineHeight/2+this._padding.top,{titleX:l,titleY:d,maxWidth:f,rotation:h}=this._drawArgs(o);Yu(t,n.text,0,0,s,{color:n.color,maxWidth:f,rotation:h,textAlign:ty(n.align),textBaseline:"middle",translation:[l,d]})}};function BU(e,t){const n=new gE({ctx:e.ctx,options:t,chart:e});_r.configure(e,n,t),_r.addBox(e,n),e.titleBlock=n}var FU={id:"title",_element:gE,start(e,t,n){BU(e,n)},stop(e){const t=e.titleBlock;_r.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const s=e.titleBlock;_r.configure(e,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Cu={average(e){if(!e.length)return!1;let t,n,s=new Set,a=0,o=0;for(t=0,n=e.length;t<n;++t){const d=e[t].element;if(d&&d.hasValue()){const f=d.tooltipPosition();s.add(f.x),a+=f.y,++o}}return o===0||s.size===0?!1:{x:[...s].reduce((d,f)=>d+f)/s.size,y:a/o}},nearest(e,t){if(!e.length)return!1;let n=t.x,s=t.y,a=Number.POSITIVE_INFINITY,o,l,d;for(o=0,l=e.length;o<l;++o){const f=e[o].element;if(f&&f.hasValue()){const h=f.getCenterPoint(),p=QL(t,h);p<a&&(a=p,d=f)}}if(d){const f=d.tooltipPosition();n=f.x,s=f.y}return{x:n,y:s}}};function Zr(e,t){return t&&(ns(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Pa(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function HU(e,t){const{element:n,datasetIndex:s,index:a}=t,o=e.getDatasetMeta(s).controller,{label:l,value:d}=o.getLabelAndValue(a);return{chart:e,label:l,parsed:o.getParsed(a),raw:e.data.datasets[s].data[a],formattedValue:d,dataset:o.getDataset(),dataIndex:a,datasetIndex:s,element:n}}function Oj(e,t){const n=e.chart.ctx,{body:s,footer:a,title:o}=e,{boxWidth:l,boxHeight:d}=t,f=ks(t.bodyFont),h=ks(t.titleFont),p=ks(t.footerFont),g=o.length,b=a.length,y=s.length,w=Nr(t.padding);let _=w.height,j=0,S=s.reduce((k,O)=>k+O.before.length+O.lines.length+O.after.length,0);if(S+=e.beforeBody.length+e.afterBody.length,g&&(_+=g*h.lineHeight+(g-1)*t.titleSpacing+t.titleMarginBottom),S){const k=t.displayColors?Math.max(d,f.lineHeight):f.lineHeight;_+=y*k+(S-y)*f.lineHeight+(S-1)*t.bodySpacing}b&&(_+=t.footerMarginTop+b*p.lineHeight+(b-1)*t.footerSpacing);let C=0;const R=function(k){j=Math.max(j,n.measureText(k).width+C)};return n.save(),n.font=h.string,rn(e.title,R),n.font=f.string,rn(e.beforeBody.concat(e.afterBody),R),C=t.displayColors?l+2+t.boxPadding:0,rn(s,k=>{rn(k.before,R),rn(k.lines,R),rn(k.after,R)}),C=0,n.font=p.string,rn(e.footer,R),n.restore(),j+=w.width,{width:j,height:_}}function VU(e,t){const{y:n,height:s}=t;return n<s/2?"top":n>e.height-s/2?"bottom":"center"}function $U(e,t,n,s){const{x:a,width:o}=s,l=n.caretSize+n.caretPadding;if(e==="left"&&a+o+l>t.width||e==="right"&&a-o-l<0)return!0}function qU(e,t,n,s){const{x:a,width:o}=n,{width:l,chartArea:{left:d,right:f}}=e;let h="center";return s==="center"?h=a<=(d+f)/2?"left":"right":a<=o/2?h="left":a>=l-o/2&&(h="right"),$U(h,e,t,n)&&(h="center"),h}function Rj(e,t,n){const s=n.yAlign||t.yAlign||VU(e,n);return{xAlign:n.xAlign||t.xAlign||qU(e,t,n,s),yAlign:s}}function IU(e,t){let{x:n,width:s}=e;return t==="right"?n-=s:t==="center"&&(n-=s/2),n}function YU(e,t,n){let{y:s,height:a}=e;return t==="top"?s+=n:t==="bottom"?s-=a+n:s-=a/2,s}function Dj(e,t,n,s){const{caretSize:a,caretPadding:o,cornerRadius:l}=e,{xAlign:d,yAlign:f}=n,h=a+o,{topLeft:p,topRight:g,bottomLeft:b,bottomRight:y}=Vl(l);let w=IU(t,d);const _=YU(t,f,h);return f==="center"?d==="left"?w+=h:d==="right"&&(w-=h):d==="left"?w-=Math.max(p,b)+a:d==="right"&&(w+=Math.max(g,y)+a),{x:qs(w,0,s.width-t.width),y:qs(_,0,s.height-t.height)}}function $f(e,t,n){const s=Nr(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-s.right:e.x+s.left}function Mj(e){return Zr([],Pa(e))}function WU(e,t,n){return sc(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function Pj(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const xE={beforeTitle:Ra,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return n[t.dataIndex]}return""},afterTitle:Ra,beforeBody:Ra,beforeLabel:Ra,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return pn(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ra,afterBody:Ra,beforeFooter:Ra,footer:Ra,afterFooter:Ra};function Us(e,t,n,s){const a=e[t].call(n,s);return typeof a=="undefined"?xE[t].call(n,s):a}class H0 extends Uo{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,s=this.options.setContext(this.getContext()),a=s.enabled&&n.options.animation&&s.animations,o=new nE(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=WU(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:s}=n,a=Us(s,"beforeTitle",this,t),o=Us(s,"title",this,t),l=Us(s,"afterTitle",this,t);let d=[];return d=Zr(d,Pa(a)),d=Zr(d,Pa(o)),d=Zr(d,Pa(l)),d}getBeforeBody(t,n){return Mj(Us(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:s}=n,a=[];return rn(t,o=>{const l={before:[],lines:[],after:[]},d=Pj(s,o);Zr(l.before,Pa(Us(d,"beforeLabel",this,o))),Zr(l.lines,Us(d,"label",this,o)),Zr(l.after,Pa(Us(d,"afterLabel",this,o))),a.push(l)}),a}getAfterBody(t,n){return Mj(Us(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:s}=n,a=Us(s,"beforeFooter",this,t),o=Us(s,"footer",this,t),l=Us(s,"afterFooter",this,t);let d=[];return d=Zr(d,Pa(a)),d=Zr(d,Pa(o)),d=Zr(d,Pa(l)),d}_createItems(t){const n=this._active,s=this.chart.data,a=[],o=[],l=[];let d=[],f,h;for(f=0,h=n.length;f<h;++f)d.push(HU(this.chart,n[f]));return t.filter&&(d=d.filter((p,g,b)=>t.filter(p,g,b,s))),t.itemSort&&(d=d.sort((p,g)=>t.itemSort(p,g,s))),rn(d,p=>{const g=Pj(t.callbacks,p);a.push(Us(g,"labelColor",this,p)),o.push(Us(g,"labelPointStyle",this,p)),l.push(Us(g,"labelTextColor",this,p))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=d,d}update(t,n){const s=this.options.setContext(this.getContext()),a=this._active;let o,l=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{const d=Cu[s.position].call(this,a,this._eventPosition);l=this._createItems(s),this.title=this.getTitle(l,s),this.beforeBody=this.getBeforeBody(l,s),this.body=this.getBody(l,s),this.afterBody=this.getAfterBody(l,s),this.footer=this.getFooter(l,s);const f=this._size=Oj(this,s),h=Object.assign({},d,f),p=Rj(this.chart,s,h),g=Dj(s,h,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:g.x,y:g.y,width:f.width,height:f.height,caretX:d.x,caretY:d.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,s,a){const o=this.getCaretPosition(t,s,a);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(t,n,s){const{xAlign:a,yAlign:o}=this,{caretSize:l,cornerRadius:d}=s,{topLeft:f,topRight:h,bottomLeft:p,bottomRight:g}=Vl(d),{x:b,y}=t,{width:w,height:_}=n;let j,S,C,R,k,O;return o==="center"?(k=y+_/2,a==="left"?(j=b,S=j-l,R=k+l,O=k-l):(j=b+w,S=j+l,R=k-l,O=k+l),C=j):(a==="left"?S=b+Math.max(f,p)+l:a==="right"?S=b+w-Math.max(h,g)-l:S=this.caretX,o==="top"?(R=y,k=R-l,j=S-l,C=S+l):(R=y+_,k=R+l,j=S+l,C=S-l),O=R),{x1:j,x2:S,x3:C,y1:R,y2:k,y3:O}}drawTitle(t,n,s){const a=this.title,o=a.length;let l,d,f;if(o){const h=$l(s.rtl,this.x,this.width);for(t.x=$f(this,s.titleAlign,s),n.textAlign=h.textAlign(s.titleAlign),n.textBaseline="middle",l=ks(s.titleFont),d=s.titleSpacing,n.fillStyle=s.titleColor,n.font=l.string,f=0;f<o;++f)n.fillText(a[f],h.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+d,f+1===o&&(t.y+=s.titleMarginBottom-d)}}_drawColorBox(t,n,s,a,o){const l=this.labelColors[s],d=this.labelPointStyles[s],{boxHeight:f,boxWidth:h}=o,p=ks(o.bodyFont),g=$f(this,"left",o),b=a.x(g),y=f<p.lineHeight?(p.lineHeight-f)/2:0,w=n.y+y;if(o.usePointStyle){const _={radius:Math.min(h,f)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},j=a.leftForLtr(b,h)+h/2,S=w+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,K1(t,_,j,S),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,K1(t,_,j,S)}else{t.lineWidth=Zt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const _=a.leftForLtr(b,h),j=a.leftForLtr(a.xPlus(b,1),h-2),S=Vl(l.borderRadius);Object.values(S).some(C=>C!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Ah(t,{x:_,y:w,w:h,h:f,radius:S}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),Ah(t,{x:j,y:w+1,w:h-2,h:f-2,radius:S}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(_,w,h,f),t.strokeRect(_,w,h,f),t.fillStyle=l.backgroundColor,t.fillRect(j,w+1,h-2,f-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,n,s){const{body:a}=this,{bodySpacing:o,bodyAlign:l,displayColors:d,boxHeight:f,boxWidth:h,boxPadding:p}=s,g=ks(s.bodyFont);let b=g.lineHeight,y=0;const w=$l(s.rtl,this.x,this.width),_=function(A){n.fillText(A,w.x(t.x+y),t.y+b/2),t.y+=b+o},j=w.textAlign(l);let S,C,R,k,O,D,$;for(n.textAlign=l,n.textBaseline="middle",n.font=g.string,t.x=$f(this,j,s),n.fillStyle=s.bodyColor,rn(this.beforeBody,_),y=d&&j!=="right"?l==="center"?h/2+p:h+2+p:0,k=0,D=a.length;k<D;++k){for(S=a[k],C=this.labelTextColors[k],n.fillStyle=C,rn(S.before,_),R=S.lines,d&&R.length&&(this._drawColorBox(n,t,k,w,s),b=Math.max(g.lineHeight,f)),O=0,$=R.length;O<$;++O)_(R[O]),b=g.lineHeight;rn(S.after,_)}y=0,b=g.lineHeight,rn(this.afterBody,_),t.y-=o}drawFooter(t,n,s){const a=this.footer,o=a.length;let l,d;if(o){const f=$l(s.rtl,this.x,this.width);for(t.x=$f(this,s.footerAlign,s),t.y+=s.footerMarginTop,n.textAlign=f.textAlign(s.footerAlign),n.textBaseline="middle",l=ks(s.footerFont),n.fillStyle=s.footerColor,n.font=l.string,d=0;d<o;++d)n.fillText(a[d],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+s.footerSpacing}}drawBackground(t,n,s,a){const{xAlign:o,yAlign:l}=this,{x:d,y:f}=t,{width:h,height:p}=s,{topLeft:g,topRight:b,bottomLeft:y,bottomRight:w}=Vl(a.cornerRadius);n.fillStyle=a.backgroundColor,n.strokeStyle=a.borderColor,n.lineWidth=a.borderWidth,n.beginPath(),n.moveTo(d+g,f),l==="top"&&this.drawCaret(t,n,s,a),n.lineTo(d+h-b,f),n.quadraticCurveTo(d+h,f,d+h,f+b),l==="center"&&o==="right"&&this.drawCaret(t,n,s,a),n.lineTo(d+h,f+p-w),n.quadraticCurveTo(d+h,f+p,d+h-w,f+p),l==="bottom"&&this.drawCaret(t,n,s,a),n.lineTo(d+y,f+p),n.quadraticCurveTo(d,f+p,d,f+p-y),l==="center"&&o==="left"&&this.drawCaret(t,n,s,a),n.lineTo(d,f+g),n.quadraticCurveTo(d,f,d+g,f),n.closePath(),n.fill(),a.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,s=this.$animations,a=s&&s.x,o=s&&s.y;if(a||o){const l=Cu[t.position].call(this,this._active,this._eventPosition);if(!l)return;const d=this._size=Oj(this,t),f=Object.assign({},l,this._size),h=Rj(n,t,f),p=Dj(t,f,h,n);(a._to!==p.x||o._to!==p.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=d.width,this.height=d.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const a={width:this.width,height:this.height},o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const l=Nr(n.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&d&&(t.save(),t.globalAlpha=s,this.drawBackground(o,t,a,n),eE(t,n.textDirection),o.y+=l.top,this.drawTitle(o,t,n),this.drawBody(o,t,n),this.drawFooter(o,t,n),tE(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const s=this._active,a=t.map(({datasetIndex:d,index:f})=>{const h=this.chart.getDatasetMeta(d);if(!h)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:h.data[f],index:f}}),o=!Nh(s,a),l=this._positionChanged(a,n);(o||l)&&(this._active=a,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,o=this._active||[],l=this._getActiveElements(t,o,n,s),d=this._positionChanged(l,t),f=n||!Nh(l,o)||d;return f&&(this._active=l,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),f}_getActiveElements(t,n,s,a){const o=this.options;if(t.type==="mouseout")return[];if(!a)return n.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,o.mode,o,s);return o.reverse&&l.reverse(),l}_positionChanged(t,n){const{caretX:s,caretY:a,options:o}=this,l=Cu[o.position].call(this,t,n);return l!==!1&&(s!==l.x||a!==l.y)}}ft(H0,"positioners",Cu);var XU={id:"tooltip",_element:H0,positioners:Cu,afterInit(e,t,n){n&&(e.tooltip=new H0({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",de(L({},n),{cancelable:!0}))===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:xE},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const GU=(e,t,n,s)=>(typeof t=="string"?(n=e.push(t)-1,s.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function KU(e,t,n,s){const a=e.indexOf(t);if(a===-1)return GU(e,t,n,s);const o=e.lastIndexOf(t);return a!==o?n:a}const QU=(e,t)=>e===null?null:qs(Math.round(e),0,t);function Lj(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class V0 extends rc{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:a,label:o}of n)s[a]===o&&s.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(pn(t))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===t?n:KU(s,t,Qt(n,t),this._addedLabels),QU(n,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:s,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),n||(a=this.getLabels().length-1)),this.min=s,this.max=a}buildTicks(){const t=this.min,n=this.max,s=this.options.offset,a=[];let o=this.getLabels();o=t===0&&n===o.length-1?o:o.slice(t,n+1),this._valueRange=Math.max(o.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let l=t;l<=n;l++)a.push({value:l});return a}getLabelForValue(t){return Lj.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}ft(V0,"id","category"),ft(V0,"defaults",{ticks:{callback:Lj}});function ZU(e,t){const n=[],{bounds:a,step:o,min:l,max:d,precision:f,count:h,maxTicks:p,maxDigits:g,includeBounds:b}=e,y=o||1,w=p-1,{min:_,max:j}=t,S=!pn(l),C=!pn(d),R=!pn(h),k=(j-_)/(g+1);let O=H1((j-_)/w/y)*y,D,$,A,B;if(O<1e-14&&!S&&!C)return[{value:_},{value:j}];B=Math.ceil(j/O)-Math.floor(_/O),B>w&&(O=H1(B*O/w/y)*y),pn(f)||(D=Math.pow(10,f),O=Math.ceil(O*D)/D),a==="ticks"?($=Math.floor(_/O)*O,A=Math.ceil(j/O)*O):($=_,A=j),S&&C&&o&&XL((d-l)/o,O/1e3)?(B=Math.round(Math.min((d-l)/O,p)),O=(d-l)/B,$=l,A=d):R?($=S?l:$,A=C?d:A,B=h-1,O=(A-$)/B):(B=(A-$)/O,uh(B,Math.round(B),O/1e3)?B=Math.round(B):B=Math.ceil(B));const J=Math.max(V1(O),V1($));D=Math.pow(10,pn(f)?J:f),$=Math.round($*D)/D,A=Math.round(A*D)/D;let K=0;for(S&&(b&&$!==l?(n.push({value:l}),$<l&&K++,uh(Math.round(($+K*O)*D)/D,l,zj(l,k,e))&&K++):$<l&&K++);K<B;++K){const I=Math.round(($+K*O)*D)/D;if(C&&I>d)break;n.push({value:I})}return C&&b&&A!==d?n.length&&uh(n[n.length-1].value,d,zj(d,k,e))?n[n.length-1].value=d:n.push({value:d}):(!C||A===d)&&n.push({value:A}),n}function zj(e,t,{horizontal:n,minRotation:s}){const a=Ba(s),o=(n?Math.sin(a):Math.cos(a))||.001,l=.75*t*(""+e).length;return Math.min(t/o,l)}class JU extends rc{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return pn(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:a,max:o}=this;const l=f=>a=n?a:f,d=f=>o=s?o:f;if(t){const f=Ei(a),h=Ei(o);f<0&&h<0?d(0):f>0&&h>0&&l(0)}if(a===o){let f=o===0?1:Math.abs(o*.05);d(o+f),t||l(a-f)}this.min=a,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=t,a;return s?(a=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),n=n||11),n&&(a=Math.min(n,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const a={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,l=ZU(a,o);return t.bounds==="ticks"&&GL(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const a=(s-n)/Math.max(t.length-1,1)/2;n-=a,s+=a}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(t){return ny(t,this.chart.options.locale,this.options.ticks.format)}}class $0 extends JU{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Sr(t)?t:0,this.max=Sr(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,s=Ba(this.options.ticks.minRotation),a=(t?Math.sin(s):Math.cos(s))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/a))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}ft($0,"id","linear"),ft($0,"defaults",{ticks:{callback:YN.formatters.numeric}});const rm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Vs=Object.keys(rm);function Uj(e,t){return e-t}function Bj(e,t){if(pn(t))return null;const n=e._adapter,{parser:s,round:a,isoWeekday:o}=e._parseOpts;let l=t;return typeof s=="function"&&(l=s(l)),Sr(l)||(l=typeof s=="string"?n.parse(l,s):n.parse(l)),l===null?null:(a&&(l=a==="week"&&(kh(o)||o===!0)?n.startOf(l,"isoWeek",o):n.startOf(l,a)),+l)}function Fj(e,t,n,s){const a=Vs.length;for(let o=Vs.indexOf(e);o<a-1;++o){const l=rm[Vs[o]],d=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-t)/(d*l.size))<=s)return Vs[o]}return Vs[a-1]}function eB(e,t,n,s,a){for(let o=Vs.length-1;o>=Vs.indexOf(n);o--){const l=Vs[o];if(rm[l].common&&e._adapter.diff(a,s,l)>=t-1)return l}return Vs[n?Vs.indexOf(n):0]}function tB(e){for(let t=Vs.indexOf(e)+1,n=Vs.length;t<n;++t)if(rm[Vs[t]].common)return Vs[t]}function Hj(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:s,hi:a}=ey(n,t),o=n[s]>=t?n[s]:n[a];e[o]=!0}}function nB(e,t,n,s){const a=e._adapter,o=+a.startOf(t[0].value,s),l=t[t.length-1].value;let d,f;for(d=o;d<=l;d=+a.add(d,1,s))f=n[d],f>=0&&(t[f].major=!0);return t}function Vj(e,t,n){const s=[],a={},o=t.length;let l,d;for(l=0;l<o;++l)d=t[l],a[d]=l,s.push({value:d,major:!1});return o===0||!n?s:nB(e,s,a,n)}class Mh extends rc{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const s=t.time||(t.time={}),a=this._adapter=new hz._date(t.adapters.date);a.init(n),Au(s.displayFormats,a.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:Bj(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,s=t.time.unit||"day";let{min:a,max:o,minDefined:l,maxDefined:d}=this.getUserBounds();function f(h){!l&&!isNaN(h.min)&&(a=Math.min(a,h.min)),!d&&!isNaN(h.max)&&(o=Math.max(o,h.max))}(!l||!d)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),a=Sr(a)&&!isNaN(a)?a:+n.startOf(Date.now(),s),o=Sr(o)&&!isNaN(o)?o:+n.endOf(Date.now(),s)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],s=t[t.length-1]),{min:n,max:s}}buildTicks(){const t=this.options,n=t.time,s=t.ticks,a=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const o=this.min,l=this.max,d=e6(a,o,l);return this._unit=n.unit||(s.autoSkip?Fj(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):eB(this,d.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:tB(this._unit),this.initOffsets(a),t.reverse&&d.reverse(),Vj(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,s=0,a,o;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?n=1-a:n=(this.getDecimalForValue(t[1])-a)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?s=o:s=(o-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;n=qs(n,0,l),s=qs(s,0,l),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const t=this._adapter,n=this.min,s=this.max,a=this.options,o=a.time,l=o.unit||Fj(o.minUnit,n,s,this._getLabelCapacity(n)),d=Qt(a.ticks.stepSize,1),f=l==="week"?o.isoWeekday:!1,h=kh(f)||f===!0,p={};let g=n,b,y;if(h&&(g=+t.startOf(g,"isoWeek",f)),g=+t.startOf(g,h?"day":l),t.diff(s,n,l)>1e5*d)throw new Error(n+" and "+s+" are too far apart with stepSize of "+d+" "+l);const w=a.ticks.source==="data"&&this.getDataTimestamps();for(b=g,y=0;b<s;b=+t.add(b,d,l),y++)Hj(p,b,w);return(b===s||a.bounds==="ticks"||y===1)&&Hj(p,b,w),Object.keys(p).sort(Uj).map(_=>+_)}getLabelForValue(t){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(t,s.tooltipFormat):n.format(t,s.displayFormats.datetime)}format(t,n){const a=this.options.time.displayFormats,o=this._unit,l=n||a[o];return this._adapter.format(t,l)}_tickFormatFunction(t,n,s,a){const o=this.options,l=o.ticks.callback;if(l)return vn(l,[t,n,s],this);const d=o.time.displayFormats,f=this._unit,h=this._majorUnit,p=f&&d[f],g=h&&d[h],b=s[n],y=h&&g&&b&&b.major;return this._adapter.format(t,a||(y?g:p))}generateTickLabels(t){let n,s,a;for(n=0,s=t.length;n<s;++n)a=t[n],a.label=this._tickFormatFunction(a.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,s=this.ctx.measureText(t).width,a=Ba(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(a),l=Math.sin(a),d=this._resolveTickFontOptions(0).size;return{w:s*o+d*l,h:s*l+d*o}}_getLabelCapacity(t){const n=this.options.time,s=n.displayFormats,a=s[n.unit]||s.millisecond,o=this._tickFormatFunction(t,0,Vj(this,[t],this._majorUnit),a),l=this._getLabelSize(o),d=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return d>0?d:1}getDataTimestamps(){let t=this._cache.data||[],n,s;if(t.length)return t;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(n=0,s=a.length;n<s;++n)t=t.concat(a[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,s;if(t.length)return t;const a=this.getLabels();for(n=0,s=a.length;n<s;++n)t.push(Bj(this,a[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return VN(t.sort(Uj))}}ft(Mh,"id","time"),ft(Mh,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function qf(e,t,n){let s=0,a=e.length-1,o,l,d,f;n?(t>=e[s].pos&&t<=e[a].pos&&({lo:s,hi:a}=z0(e,"pos",t)),{pos:o,time:d}=e[s],{pos:l,time:f}=e[a]):(t>=e[s].time&&t<=e[a].time&&({lo:s,hi:a}=z0(e,"time",t)),{time:o,pos:d}=e[s],{time:l,pos:f}=e[a]);const h=l-o;return h?d+(f-d)*(t-o)/h:d}class $j extends Mh{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=qf(n,this.min),this._tableRange=qf(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:s}=this,a=[],o=[];let l,d,f,h,p;for(l=0,d=t.length;l<d;++l)h=t[l],h>=n&&h<=s&&a.push(h);if(a.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(l=0,d=a.length;l<d;++l)p=a[l+1],f=a[l-1],h=a[l],Math.round((p+f)/2)!==h&&o.push({time:h,pos:l/(d-1)});return o}_generate(){const t=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((a,o)=>a-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?t=this.normalize(n.concat(s)):t=n.length?n:s,t=this._cache.all=t,t}getDecimalForValue(t){return(qf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return qf(this._table,s*this._tableRange+this._minPos,!0)}}ft($j,"id","timeseries"),ft($j,"defaults",Mh.defaults);const yE="label";function qj(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function sB(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function bE(e,t){e.labels=t}function vE(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:yE;const s=[];e.datasets=t.map(a=>{const o=e.datasets.find(l=>l[n]===a[n]);return!o||!a.data||s.includes(o)?L({},a):(s.push(o),Object.assign(o,a),o)})}function rB(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yE;const n={labels:[],datasets:[]};return bE(n,e.labels),vE(n,e.datasets,t),n}function aB(e,t){const S=e,{height:n=150,width:s=300,redraw:a=!1,datasetIdKey:o,type:l,data:d,options:f,plugins:h=[],fallbackContent:p,updateMode:g}=S,b=Me(S,["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"]),y=N.useRef(null),w=N.useRef(null),_=()=>{y.current&&(w.current=new sm(y.current,{type:l,data:rB(d,o),options:f&&L({},f),plugins:h}),qj(t,w.current))},j=()=>{qj(t,null),w.current&&(w.current.destroy(),w.current=null)};return N.useEffect(()=>{!a&&w.current&&f&&sB(w.current,f)},[a,f]),N.useEffect(()=>{!a&&w.current&&bE(w.current.config.data,d.labels)},[a,d.labels]),N.useEffect(()=>{!a&&w.current&&d.datasets&&vE(w.current.config.data,d.datasets,o)},[a,d.datasets]),N.useEffect(()=>{w.current&&(a?(j(),setTimeout(_)):w.current.update(g))},[a,f,d.labels,d.datasets,g]),N.useEffect(()=>{w.current&&(j(),setTimeout(_))},[l]),N.useEffect(()=>(_(),()=>j()),[]),Z.createElement("canvas",L({ref:y,role:"img",height:n,width:s},b),p)}const iB=N.forwardRef(aB);function wE(e,t){return sm.register(t),N.forwardRef((n,s)=>Z.createElement(iB,de(L({},n),{ref:s,type:e})))}const oB=wE("bar",dh),lB=wE("doughnut",Eu),Ij=({value:e,label:t,className:n=""})=>c.jsxs("div",{className:`text-center ${n}`,children:[c.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-1",children:e}),c.jsx("div",{className:"text-sm text-gray-500",children:t})]}),Yj=({status:e,type:t="status"})=>{const n="px-2 py-1 rounded-full text-xs font-medium inline-block",s=t==="status"?dL(e):fL(e);return c.jsx("span",{className:`${n} ${s}`,children:e})};sm.register(V0,$0,mh,ku,FU,XU,UU);const cB=({projects:e,phases:t,tasks:n})=>{const[s,a]=N.useState(new Set(e.map(A=>A.name))),[o,l]=N.useState(new Set),d=n.filter(A=>A.status==="Working").length,f=n.filter(A=>A.status==="Completed").length,h=A=>{const B=new Set(s);B.has(A)?B.delete(A):B.add(A),a(B)},p=A=>{const B=new Set(o);B.has(A)?B.delete(A):B.add(A),l(B)},g=n.reduce((A,B)=>(A[B.status]=(A[B.status]||0)+1,A),{}),b=A=>{switch(A){case"Open":return"#3b82f6";case"Working":return"#f59e0b";case"Completed":return"#22c55e";case"Overdue":return"#ef4444";case"Cancelled":return"#6b7280";default:return"#3b82f6"}},y={labels:Object.keys(g),datasets:[{data:Object.values(g),backgroundColor:Object.keys(g).map(A=>b(A)),borderColor:Object.keys(g).map(A=>b(A)),borderWidth:1}]},w=n.reduce((A,B)=>(A[B.priority]=(A[B.priority]||0)+1,A),{}),_=A=>{switch(A){case"Urgent":return"#dc2626";case"High":return"#f97316";case"Medium":return"#eab308";case"Low":return"#16a34a";default:return"#6b7280"}},j=A=>{switch(A){case"Completed":case"Hoàn thành":return"#22c55e";case"Cancelled":case"Canceled":case"Hủy":case"Đã hủy":return"#ef4444";default:return"#3b82f6"}},S={labels:Object.keys(w),datasets:[{data:Object.values(w),backgroundColor:Object.keys(w).map(A=>_(A)),hoverOffset:4}]},C={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{precision:0}}}},R={responsive:!0,plugins:{title:{display:!0,text:"Độ ưu tiên nhiệm vụ",font:{size:16}},legend:{position:"bottom"}}},k=A=>{const B=t.find(K=>K.name===A);if(!B||!B.tasks)return[];const J=B.tasks.map(K=>K.task);return n.filter(K=>J.includes(K.name))},O=A=>t.filter(B=>B.project===A),D=(A,B=1)=>{const J=B>0?`pl-${B*6}`:"";return c.jsxs("div",{className:`flex items-center py-2 ${J} border-b border-gray-100 last:border-b-0`,children:[c.jsxs("div",{className:"flex-grow flex items-center",children:[c.jsx("span",{className:"mr-2 text-blue-600",children:"●"}),c.jsx("span",{className:"font-medium text-gray-800",children:A.subject})]}),c.jsx("div",{className:"w-32 text-sm text-gray-600",children:A.assigned_to||"Chưa giao"}),c.jsx("div",{className:"w-32 text-center",children:c.jsx(Yj,{status:A.status,type:"status"})}),c.jsx("div",{className:"w-24 text-center",children:c.jsx(Yj,{status:A.priority,type:"priority"})}),c.jsxs("div",{className:"w-20 text-right text-sm text-gray-600",children:[A.progress,"%"]})]},A.name)},$=(A,B)=>{const J=`${B}-${A.name}`,K=o.has(J),I=k(A.name);return c.jsxs("div",{className:"ml-4",children:[c.jsxs("div",{className:"bg-green-500 text-white p-2 rounded-t-lg font-medium text-md cursor-pointer hover:bg-green-600 flex items-center justify-between",onClick:()=>p(J),children:[c.jsxs("span",{children:["Giai đoạn: ",A.phase_name," (",A.status,")"]}),c.jsx("span",{className:"text-lg",children:K?"▼":"▶️"})]}),K&&c.jsx("div",{className:"bg-white border-l-2 border-r-2 border-b-2 border-gray-200 p-3",children:I.length>0?I.map(ee=>D(ee)):c.jsx("div",{className:"text-gray-500 text-center py-2 text-sm",children:"Chưa có nhiệm vụ nào cho giai đoạn này."})})]},A.name)};return c.jsxs(em,{title:"Quản lý nhiệm vụ (Task)",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[c.jsx(Ij,{value:d,label:"Tổng nhiệm vụ đang thực hiện"}),c.jsx(Ij,{value:f,label:"Tổng nhiệm vụ đã hoàn thành"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[c.jsxs("div",{className:"flex flex-col",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Trạng thái nhiệm vụ"}),c.jsx("div",{className:"flex-1",style:{height:"400px"},children:c.jsx(oB,{data:y,options:C})})]}),c.jsx("div",{className:"flex flex-col",children:c.jsx("div",{className:"flex-1",style:{height:"400px"},children:c.jsx(lB,{data:S,options:R})})})]}),c.jsx("h3",{className:"text-xl font-semibold mt-8 mb-4 text-gray-700",children:"Danh sách nhiệm vụ"}),c.jsx("div",{className:"space-y-4",children:e.map(A=>{const B=O(A.name),J=s.has(A.name);return c.jsxs("div",{children:[c.jsx("div",{className:"text-white p-3 rounded-t-lg font-semibold text-lg cursor-pointer hover:opacity-90 flex items-center justify-between transition-opacity",style:{backgroundColor:j(A.status)},onClick:()=>h(A.name),children:c.jsxs("div",{className:"flex flex-col flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("span",{className:"text-lg font-semibold",children:["Dự án: ",A.project_name," (",A.status,")"]}),c.jsx("span",{className:"text-xl",children:J?"▼":"▶️"})]}),c.jsxs("div",{className:"flex items-center mt-2 text-sm text-white space-x-6",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"font-medium mr-2",children:"Priority:"}),c.jsx("span",{className:"bg-white text-gray-800 px-2 py-1 rounded text-xs font-medium",children:A.priority})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"font-medium mr-2",children:"Progress:"}),c.jsxs("span",{className:"bg-white text-gray-800 px-2 py-1 rounded text-xs font-medium",children:[A.percent_complete,"%"]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"font-medium mr-2",children:"Expected End:"}),c.jsx("span",{className:"bg-white text-gray-800 px-2 py-1 rounded text-xs font-medium",children:A.expected_end_date?new Date(A.expected_end_date).toLocaleDateString("vi-VN"):"Chưa xác định"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"font-medium mr-2",children:"Department:"}),c.jsx("span",{className:"bg-white text-gray-800 px-2 py-1 rounded text-xs font-medium",children:A.department})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"font-medium mr-2",children:"Team:"}),c.jsx("span",{className:"bg-white text-gray-800 px-2 py-1 rounded text-xs font-medium",children:A.team})]})]})]})}),J&&c.jsx("div",{className:"bg-white rounded-b-lg border border-gray-200 p-4",children:B.length>0?B.map(K=>$(K,A.name)):c.jsx("div",{className:"text-gray-500 text-center py-4",children:"Chưa có giai đoạn nào cho dự án này."})})]},A.name)})})]})},uB=({className:e=""})=>c.jsx("div",{className:`inline-block animate-spin rounded-full border-4 border-gray-200 border-t-blue-600 h-6 w-6 ${e}`}),dB=()=>{const{allProjects:e,filteredData:t,selectedProject:n,selectedDepartment:s,selectedTeam:a,setSelectedProject:o,setSelectedDepartment:l,setSelectedTeam:d,isLoading:f}=lL();return f?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsxs("div",{className:"text-center",children:[c.jsx(uB,{className:"h-12 w-12 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Đang tải dữ liệu..."})]})}):c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-8 text-center",children:"Bảng điều khiển quản lý dự án"}),c.jsx(cL,{projects:e,selectedProject:n,selectedDepartment:s,selectedTeam:a,onProjectChange:o,onDepartmentChange:l,onTeamChange:d}),c.jsx(hL,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:n}),c.jsx(pL,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:n}),c.jsx(mL,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:n}),c.jsx(cB,{projects:t.filteredProjects,phases:t.filteredPhases,tasks:t.filteredTasks})]})})},wo=e=>e==null?"N/A":new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0}).format(e);var nd=e=>e.type==="checkbox",To=e=>e instanceof Date,As=e=>e==null;const _E=e=>typeof e=="object";var Fn=e=>!As(e)&&!Array.isArray(e)&&_E(e)&&!To(e),jE=e=>Fn(e)&&e.target?nd(e.target)?e.target.checked:e.target.value:e,fB=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,SE=(e,t)=>e.has(fB(t)),hB=e=>{const t=e.constructor&&e.constructor.prototype;return Fn(t)&&t.hasOwnProperty("isPrototypeOf")},fy=typeof window!="undefined"&&typeof window.HTMLElement!="undefined"&&typeof document!="undefined";function es(e){let t;const n=Array.isArray(e),s=typeof FileList!="undefined"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(fy&&(e instanceof Blob||s))&&(n||Fn(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!hB(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=es(e[a]));else return e;return t}var am=e=>/^\w*$/.test(e),Un=e=>e===void 0,hy=e=>Array.isArray(e)?e.filter(Boolean):[],my=e=>hy(e.replace(/["|']|\]/g,"").split(/\.|\[/)),qe=(e,t,n)=>{if(!t||!Fn(e))return n;const s=(am(t)?[t]:my(t)).reduce((a,o)=>As(a)?a:a[o],e);return Un(s)||s===e?Un(e[t])?n:e[t]:s},er=e=>typeof e=="boolean",yn=(e,t,n)=>{let s=-1;const a=am(t)?[t]:my(t),o=a.length,l=o-1;for(;++s<o;){const d=a[s];let f=n;if(s!==l){const h=e[d];f=Fn(h)||Array.isArray(h)?h:isNaN(+a[s+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;e[d]=f,e=e[d]}};const Ph={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},zr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Da={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},NE=Z.createContext(null);NE.displayName="HookFormContext";const py=()=>Z.useContext(NE);var EE=(e,t,n,s=!0)=>{const a={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(a,o,{get:()=>{const l=o;return t._proxyFormState[l]!==zr.all&&(t._proxyFormState[l]=!s||zr.all),n&&(n[l]=!0),e[l]}});return a};const gy=typeof window!="undefined"?Z.useLayoutEffect:Z.useEffect;function mB(e){const t=py(),{control:n=t.control,disabled:s,name:a,exact:o}=e||{},[l,d]=Z.useState(n._formState),f=Z.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return gy(()=>n._subscribe({name:a,formState:f.current,exact:o,callback:h=>{!s&&d(L(L({},n._formState),h))}}),[a,s,o]),Z.useEffect(()=>{f.current.isValid&&n._setValid(!0)},[n]),Z.useMemo(()=>EE(l,n,f.current,!1),[l,n])}var sa=e=>typeof e=="string",TE=(e,t,n,s,a)=>sa(e)?(s&&t.watch.add(e),qe(n,e,a)):Array.isArray(e)?e.map(o=>(s&&t.watch.add(o),qe(n,o))):(s&&(t.watchAll=!0),n),q0=e=>As(e)||!_E(e);function Ua(e,t,n=new WeakSet){if(q0(e)||q0(t))return e===t;if(To(e)&&To(t))return e.getTime()===t.getTime();const s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const o of s){const l=e[o];if(!a.includes(o))return!1;if(o!=="ref"){const d=t[o];if(To(l)&&To(d)||Fn(l)&&Fn(d)||Array.isArray(l)&&Array.isArray(d)?!Ua(l,d,n):l!==d)return!1}}return!0}function pB(e){const t=py(),{control:n=t.control,name:s,defaultValue:a,disabled:o,exact:l,compute:d}=e||{},f=Z.useRef(a),h=Z.useRef(d),p=Z.useRef(void 0);h.current=d;const g=Z.useMemo(()=>n._getWatch(s,f.current),[n,s]),[b,y]=Z.useState(h.current?h.current(g):g);return gy(()=>n._subscribe({name:s,formState:{values:!0},exact:l,callback:w=>{if(!o){const _=TE(s,n._names,w.values||n._formValues,!1,f.current);if(h.current){const j=h.current(_);Ua(j,p.current)||(y(j),p.current=j)}else y(_)}}}),[n,o,s,l]),Z.useEffect(()=>n._removeUnmounted()),b}function gB(e){const t=py(),{name:n,disabled:s,control:a=t.control,shouldUnregister:o,defaultValue:l}=e,d=SE(a._names.array,n),f=Z.useMemo(()=>qe(a._formValues,n,qe(a._defaultValues,n,l)),[a,n,l]),h=pB({control:a,name:n,defaultValue:f,exact:!0}),p=mB({control:a,name:n,exact:!0}),g=Z.useRef(e),b=Z.useRef(a.register(n,L(de(L({},e.rules),{value:h}),er(e.disabled)?{disabled:e.disabled}:{})));g.current=e;const y=Z.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!qe(p.errors,n)},isDirty:{enumerable:!0,get:()=>!!qe(p.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!qe(p.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!qe(p.validatingFields,n)},error:{enumerable:!0,get:()=>qe(p.errors,n)}}),[p,n]),w=Z.useCallback(C=>b.current.onChange({target:{value:jE(C),name:n},type:Ph.CHANGE}),[n]),_=Z.useCallback(()=>b.current.onBlur({target:{value:qe(a._formValues,n),name:n},type:Ph.BLUR}),[n,a._formValues]),j=Z.useCallback(C=>{const R=qe(a._fields,n);R&&C&&(R._f.ref={focus:()=>C.focus&&C.focus(),select:()=>C.select&&C.select(),setCustomValidity:k=>C.setCustomValidity(k),reportValidity:()=>C.reportValidity()})},[a._fields,n]),S=Z.useMemo(()=>de(L({name:n,value:h},er(s)||p.disabled?{disabled:p.disabled||s}:{}),{onChange:w,onBlur:_,ref:j}),[n,s,p.disabled,w,_,j,h]);return Z.useEffect(()=>{const C=a._options.shouldUnregister||o;a.register(n,L(L({},g.current.rules),er(g.current.disabled)?{disabled:g.current.disabled}:{}));const R=(k,O)=>{const D=qe(a._fields,k);D&&D._f&&(D._f.mount=O)};if(R(n,!0),C){const k=es(qe(a._options.defaultValues,n));yn(a._defaultValues,n,k),Un(qe(a._formValues,n))&&yn(a._formValues,n,k)}return!d&&a.register(n),()=>{(d?C&&!a._state.action:C)?a.unregister(n):R(n,!1)}},[n,a,d,o]),Z.useEffect(()=>{a._setDisabledField({disabled:s,name:n})},[s,n,a]),Z.useMemo(()=>({field:S,formState:p,fieldState:y}),[S,p,y])}const nr=e=>e.render(gB(e));var xB=(e,t,n,s,a)=>t?de(L({},n[e]),{types:de(L({},n[e]&&n[e].types?n[e].types:{}),{[s]:a||!0})}):{},Du=e=>Array.isArray(e)?e:[e],Wj=()=>{let e=[];return{get observers(){return e},next:a=>{for(const o of e)o.next&&o.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(o=>o!==a)}}),unsubscribe:()=>{e=[]}}},Bs=e=>Fn(e)&&!Object.keys(e).length,xy=e=>e.type==="file",Ur=e=>typeof e=="function",Lh=e=>{if(!fy)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},kE=e=>e.type==="select-multiple",yy=e=>e.type==="radio",yB=e=>yy(e)||nd(e),Gg=e=>Lh(e)&&e.isConnected;function bB(e,t){const n=t.slice(0,-1).length;let s=0;for(;s<n;)e=Un(e)?s++:e[t[s++]];return e}function vB(e){for(const t in e)if(e.hasOwnProperty(t)&&!Un(e[t]))return!1;return!0}function In(e,t){const n=Array.isArray(t)?t:am(t)?[t]:my(t),s=n.length===1?e:bB(e,n),a=n.length-1,o=n[a];return s&&delete s[o],a!==0&&(Fn(s)&&Bs(s)||Array.isArray(s)&&vB(s))&&In(e,n.slice(0,-1)),e}var CE=e=>{for(const t in e)if(Ur(e[t]))return!0;return!1};function zh(e,t={}){const n=Array.isArray(e);if(Fn(e)||n)for(const s in e)Array.isArray(e[s])||Fn(e[s])&&!CE(e[s])?(t[s]=Array.isArray(e[s])?[]:{},zh(e[s],t[s])):As(e[s])||(t[s]=!0);return t}function AE(e,t,n){const s=Array.isArray(e);if(Fn(e)||s)for(const a in e)Array.isArray(e[a])||Fn(e[a])&&!CE(e[a])?Un(t)||q0(n[a])?n[a]=Array.isArray(e[a])?zh(e[a],[]):L({},zh(e[a])):AE(e[a],As(t)?{}:t[a],n[a]):n[a]=!Ua(e[a],t[a]);return n}var yu=(e,t)=>AE(e,t,zh(t));const Xj={value:!1,isValid:!1},Gj={value:!0,isValid:!0};var OE=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Un(e[0].attributes.value)?Un(e[0].value)||e[0].value===""?Gj:{value:e[0].value,isValid:!0}:Gj:Xj}return Xj},RE=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:s})=>Un(e)?e:t?e===""?NaN:e&&+e:n&&sa(e)?new Date(e):s?s(e):e;const Kj={isValid:!1,value:null};var DE=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,Kj):Kj;function Qj(e){const t=e.ref;return xy(t)?t.files:yy(t)?DE(e.refs).value:kE(t)?[...t.selectedOptions].map(({value:n})=>n):nd(t)?OE(e.refs).value:RE(Un(t.value)?e.ref.value:t.value,e)}var wB=(e,t,n,s)=>{const a={};for(const o of e){const l=qe(t,o);l&&yn(a,o,l._f)}return{criteriaMode:n,names:[...e],fields:a,shouldUseNativeValidation:s}},Uh=e=>e instanceof RegExp,bu=e=>Un(e)?e:Uh(e)?e.source:Fn(e)?Uh(e.value)?e.value.source:e.value:e,Zj=e=>({isOnSubmit:!e||e===zr.onSubmit,isOnBlur:e===zr.onBlur,isOnChange:e===zr.onChange,isOnAll:e===zr.all,isOnTouch:e===zr.onTouched});const Jj="AsyncFunction";var _B=e=>!!e&&!!e.validate&&!!(Ur(e.validate)&&e.validate.constructor.name===Jj||Fn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Jj)),jB=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),eS=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const Mu=(e,t,n,s)=>{for(const o of n||Object.keys(e)){const l=qe(e,o);if(l){const a=l,{_f:d}=a,f=Me(a,["_f"]);if(d){if(d.refs&&d.refs[0]&&t(d.refs[0],o)&&!s)return!0;if(d.ref&&t(d.ref,d.name)&&!s)return!0;if(Mu(f,t))break}else if(Fn(f)&&Mu(f,t))break}}};function tS(e,t,n){const s=qe(e,n);if(s||am(n))return{error:s,name:n};const a=n.split(".");for(;a.length;){const o=a.join("."),l=qe(t,o),d=qe(e,o);if(l&&!Array.isArray(l)&&n!==o)return{name:n};if(d&&d.type)return{name:o,error:d};if(d&&d.root&&d.root.type)return{name:`${o}.root`,error:d.root};a.pop()}return{name:n}}var SB=(e,t,n,s)=>{n(e);const l=e,{name:a}=l,o=Me(l,["name"]);return Bs(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(d=>t[d]===(!s||zr.all))},NB=(e,t,n)=>!e||!t||e===t||Du(e).some(s=>s&&(n?s===t:s.startsWith(t)||t.startsWith(s))),EB=(e,t,n,s,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(t||e):(n?s.isOnBlur:a.isOnBlur)?!e:(n?s.isOnChange:a.isOnChange)?e:!0,TB=(e,t)=>!hy(qe(e,t)).length&&In(e,t),kB=(e,t,n)=>{const s=Du(qe(e,n));return yn(s,"root",t[n]),yn(e,n,s),e},ph=e=>sa(e);function nS(e,t,n="validate"){if(ph(e)||Array.isArray(e)&&e.every(ph)||er(e)&&!e)return{type:n,message:ph(e)?e:"",ref:t}}var Ol=e=>Fn(e)&&!Uh(e)?e:{value:e,message:""},sS=(e,t,n,s,a,o)=>ye(null,null,function*(){const{ref:l,refs:d,required:f,maxLength:h,minLength:p,min:g,max:b,pattern:y,validate:w,name:_,valueAsNumber:j,mount:S}=e._f,C=qe(n,_);if(!S||t.has(_))return{};const R=d?d[0]:l,k=I=>{a&&R.reportValidity&&(R.setCustomValidity(er(I)?"":I||""),R.reportValidity())},O={},D=yy(l),$=nd(l),A=D||$,B=(j||xy(l))&&Un(l.value)&&Un(C)||Lh(l)&&l.value===""||C===""||Array.isArray(C)&&!C.length,J=xB.bind(null,_,s,O),K=(I,ee,pe,ne=Da.maxLength,V=Da.minLength)=>{const te=I?ee:pe;O[_]=L({type:I?ne:V,message:te,ref:l},J(I?ne:V,te))};if(o?!Array.isArray(C)||!C.length:f&&(!A&&(B||As(C))||er(C)&&!C||$&&!OE(d).isValid||D&&!DE(d).isValid)){const{value:I,message:ee}=ph(f)?{value:!!f,message:f}:Ol(f);if(I&&(O[_]=L({type:Da.required,message:ee,ref:R},J(Da.required,ee)),!s))return k(ee),O}if(!B&&(!As(g)||!As(b))){let I,ee;const pe=Ol(b),ne=Ol(g);if(!As(C)&&!isNaN(C)){const V=l.valueAsNumber||C&&+C;As(pe.value)||(I=V>pe.value),As(ne.value)||(ee=V<ne.value)}else{const V=l.valueAsDate||new Date(C),te=F=>new Date(new Date().toDateString()+" "+F),Q=l.type=="time",fe=l.type=="week";sa(pe.value)&&C&&(I=Q?te(C)>te(pe.value):fe?C>pe.value:V>new Date(pe.value)),sa(ne.value)&&C&&(ee=Q?te(C)<te(ne.value):fe?C<ne.value:V<new Date(ne.value))}if((I||ee)&&(K(!!I,pe.message,ne.message,Da.max,Da.min),!s))return k(O[_].message),O}if((h||p)&&!B&&(sa(C)||o&&Array.isArray(C))){const I=Ol(h),ee=Ol(p),pe=!As(I.value)&&C.length>+I.value,ne=!As(ee.value)&&C.length<+ee.value;if((pe||ne)&&(K(pe,I.message,ee.message),!s))return k(O[_].message),O}if(y&&!B&&sa(C)){const{value:I,message:ee}=Ol(y);if(Uh(I)&&!C.match(I)&&(O[_]=L({type:Da.pattern,message:ee,ref:l},J(Da.pattern,ee)),!s))return k(ee),O}if(w){if(Ur(w)){const I=yield w(C,n),ee=nS(I,R);if(ee&&(O[_]=L(L({},ee),J(Da.validate,ee.message)),!s))return k(ee.message),O}else if(Fn(w)){let I={};for(const ee in w){if(!Bs(I)&&!s)break;const pe=nS(yield w[ee](C,n),R,ee);pe&&(I=L(L({},pe),J(ee,pe.message)),k(pe.message),s&&(O[_]=I))}if(!Bs(I)&&(O[_]=L({ref:R},I),!s))return O}}return k(!0),O});const CB={mode:zr.onSubmit,reValidateMode:zr.onChange,shouldFocusError:!0};function AB(e={}){let t=L(L({},CB),e),n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ur(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},a=Fn(t.defaultValues)||Fn(t.values)?es(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:es(a),l={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,h=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let g=L({},p);const b={array:Wj(),state:Wj()},y=t.criteriaMode===zr.all,w=Y=>le=>{clearTimeout(h),h=setTimeout(Y,le)},_=Y=>ye(null,null,function*(){if(!t.disabled&&(p.isValid||g.isValid||Y)){const le=t.resolver?Bs((yield $()).errors):yield B(s,!0);le!==n.isValid&&b.state.next({isValid:le})}}),j=(Y,le)=>{!t.disabled&&(p.isValidating||p.validatingFields||g.isValidating||g.validatingFields)&&((Y||Array.from(d.mount)).forEach(q=>{q&&(le?yn(n.validatingFields,q,le):In(n.validatingFields,q))}),b.state.next({validatingFields:n.validatingFields,isValidating:!Bs(n.validatingFields)}))},S=(Y,le=[],q,Se,De=!0,Re=!0)=>{if(Se&&q&&!t.disabled){if(l.action=!0,Re&&Array.isArray(qe(s,Y))){const Fe=q(qe(s,Y),Se.argA,Se.argB);De&&yn(s,Y,Fe)}if(Re&&Array.isArray(qe(n.errors,Y))){const Fe=q(qe(n.errors,Y),Se.argA,Se.argB);De&&yn(n.errors,Y,Fe),TB(n.errors,Y)}if((p.touchedFields||g.touchedFields)&&Re&&Array.isArray(qe(n.touchedFields,Y))){const Fe=q(qe(n.touchedFields,Y),Se.argA,Se.argB);De&&yn(n.touchedFields,Y,Fe)}(p.dirtyFields||g.dirtyFields)&&(n.dirtyFields=yu(a,o)),b.state.next({name:Y,isDirty:K(Y,le),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else yn(o,Y,le)},C=(Y,le)=>{yn(n.errors,Y,le),b.state.next({errors:n.errors})},R=Y=>{n.errors=Y,b.state.next({errors:n.errors,isValid:!1})},k=(Y,le,q,Se)=>{const De=qe(s,Y);if(De){const Re=qe(o,Y,Un(q)?qe(a,Y):q);Un(Re)||Se&&Se.defaultChecked||le?yn(o,Y,le?Re:Qj(De._f)):pe(Y,Re),l.mount&&_()}},O=(Y,le,q,Se,De)=>{let Re=!1,Fe=!1;const Ie={name:Y};if(!t.disabled){if(!q||Se){(p.isDirty||g.isDirty)&&(Fe=n.isDirty,n.isDirty=Ie.isDirty=K(),Re=Fe!==Ie.isDirty);const Qe=Ua(qe(a,Y),le);Fe=!!qe(n.dirtyFields,Y),Qe?In(n.dirtyFields,Y):yn(n.dirtyFields,Y,!0),Ie.dirtyFields=n.dirtyFields,Re=Re||(p.dirtyFields||g.dirtyFields)&&Fe!==!Qe}if(q){const Qe=qe(n.touchedFields,Y);Qe||(yn(n.touchedFields,Y,q),Ie.touchedFields=n.touchedFields,Re=Re||(p.touchedFields||g.touchedFields)&&Qe!==q)}Re&&De&&b.state.next(Ie)}return Re?Ie:{}},D=(Y,le,q,Se)=>{const De=qe(n.errors,Y),Re=(p.isValid||g.isValid)&&er(le)&&n.isValid!==le;if(t.delayError&&q?(f=w(()=>C(Y,q)),f(t.delayError)):(clearTimeout(h),f=null,q?yn(n.errors,Y,q):In(n.errors,Y)),(q?!Ua(De,q):De)||!Bs(Se)||Re){const Fe=de(L(L({},Se),Re&&er(le)?{isValid:le}:{}),{errors:n.errors,name:Y});n=L(L({},n),Fe),b.state.next(Fe)}},$=Y=>ye(null,null,function*(){j(Y,!0);const le=yield t.resolver(o,t.context,wB(Y||d.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return j(Y),le}),A=Y=>ye(null,null,function*(){const{errors:le}=yield $(Y);if(Y)for(const q of Y){const Se=qe(le,q);Se?yn(n.errors,q,Se):In(n.errors,q)}else n.errors=le;return le}),B=(Se,De,...Re)=>ye(null,[Se,De,...Re],function*(Y,le,q={valid:!0}){for(const Ie in Y){const Qe=Y[Ie];if(Qe){const Fe=Qe,{_f:yt}=Fe,bn=Me(Fe,["_f"]);if(yt){const ct=d.array.has(yt.name),ke=Qe._f&&_B(Qe._f);ke&&p.validatingFields&&j([Ie],!0);const He=yield sS(Qe,d.disabled,o,y,t.shouldUseNativeValidation&&!le,ct);if(ke&&p.validatingFields&&j([Ie]),He[yt.name]&&(q.valid=!1,le))break;!le&&(qe(He,yt.name)?ct?kB(n.errors,He,yt.name):yn(n.errors,yt.name,He[yt.name]):In(n.errors,yt.name))}!Bs(bn)&&(yield B(bn,le,q))}}return q.valid}),J=()=>{for(const Y of d.unMount){const le=qe(s,Y);le&&(le._f.refs?le._f.refs.every(q=>!Gg(q)):!Gg(le._f.ref))&&Ee(Y)}d.unMount=new Set},K=(Y,le)=>!t.disabled&&(Y&&le&&yn(o,Y,le),!Ua(F(),a)),I=(Y,le,q)=>TE(Y,d,L({},l.mount?o:Un(le)?a:sa(Y)?{[Y]:le}:le),q,le),ee=Y=>hy(qe(l.mount?o:a,Y,t.shouldUnregister?qe(a,Y,[]):[])),pe=(Y,le,q={})=>{const Se=qe(s,Y);let De=le;if(Se){const Re=Se._f;Re&&(!Re.disabled&&yn(o,Y,RE(le,Re)),De=Lh(Re.ref)&&As(le)?"":le,kE(Re.ref)?[...Re.ref.options].forEach(Fe=>Fe.selected=De.includes(Fe.value)):Re.refs?nd(Re.ref)?Re.refs.forEach(Fe=>{(!Fe.defaultChecked||!Fe.disabled)&&(Array.isArray(De)?Fe.checked=!!De.find(Ie=>Ie===Fe.value):Fe.checked=De===Fe.value||!!De)}):Re.refs.forEach(Fe=>Fe.checked=Fe.value===De):xy(Re.ref)?Re.ref.value="":(Re.ref.value=De,Re.ref.type||b.state.next({name:Y,values:es(o)})))}(q.shouldDirty||q.shouldTouch)&&O(Y,De,q.shouldTouch,q.shouldDirty,!0),q.shouldValidate&&fe(Y)},ne=(Y,le,q)=>{for(const Se in le){if(!le.hasOwnProperty(Se))return;const De=le[Se],Re=Y+"."+Se,Fe=qe(s,Re);(d.array.has(Y)||Fn(De)||Fe&&!Fe._f)&&!To(De)?ne(Re,De,q):pe(Re,De,q)}},V=(Y,le,q={})=>{const Se=qe(s,Y),De=d.array.has(Y),Re=es(le);yn(o,Y,Re),De?(b.array.next({name:Y,values:es(o)}),(p.isDirty||p.dirtyFields||g.isDirty||g.dirtyFields)&&q.shouldDirty&&b.state.next({name:Y,dirtyFields:yu(a,o),isDirty:K(Y,Re)})):Se&&!Se._f&&!As(Re)?ne(Y,Re,q):pe(Y,Re,q),eS(Y,d)&&b.state.next(de(L({},n),{name:Y})),b.state.next({name:l.mount?Y:void 0,values:es(o)})},te=Y=>ye(null,null,function*(){l.mount=!0;const le=Y.target;let q=le.name,Se=!0;const De=qe(s,q),Re=Qe=>{Se=Number.isNaN(Qe)||To(Qe)&&isNaN(Qe.getTime())||Ua(Qe,qe(o,q,Qe))},Fe=Zj(t.mode),Ie=Zj(t.reValidateMode);if(De){let Qe,yt;const bn=le.type?Qj(De._f):jE(Y),ct=Y.type===Ph.BLUR||Y.type===Ph.FOCUS_OUT,ke=!jB(De._f)&&!t.resolver&&!qe(n.errors,q)&&!De._f.deps||EB(ct,qe(n.touchedFields,q),n.isSubmitted,Ie,Fe),He=eS(q,d,ct);yn(o,q,bn),ct?(!le||!le.readOnly)&&(De._f.onBlur&&De._f.onBlur(Y),f&&f(0)):De._f.onChange&&De._f.onChange(Y);const Mt=O(q,bn,ct),Sn=!Bs(Mt)||He;if(!ct&&b.state.next({name:q,type:Y.type,values:es(o)}),ke)return(p.isValid||g.isValid)&&(t.mode==="onBlur"?ct&&_():ct||_()),Sn&&b.state.next(L({name:q},He?{}:Mt));if(!ct&&He&&b.state.next(L({},n)),t.resolver){const{errors:as}=yield $([q]);if(Re(bn),Se){const Hn=tS(n.errors,s,q),ds=tS(as,s,Hn.name||q);Qe=ds.error,q=ds.name,yt=Bs(as)}}else j([q],!0),Qe=(yield sS(De,d.disabled,o,y,t.shouldUseNativeValidation))[q],j([q]),Re(bn),Se&&(Qe?yt=!1:(p.isValid||g.isValid)&&(yt=yield B(s,!0)));Se&&(De._f.deps&&fe(De._f.deps),D(q,yt,Qe,Mt))}}),Q=(Y,le)=>{if(qe(n.errors,le)&&Y.focus)return Y.focus(),1},fe=(q,...Se)=>ye(null,[q,...Se],function*(Y,le={}){let De,Re;const Fe=Du(Y);if(t.resolver){const Ie=yield A(Un(Y)?Y:Fe);De=Bs(Ie),Re=Y?!Fe.some(Qe=>qe(Ie,Qe)):De}else Y?(Re=(yield Promise.all(Fe.map(Ie=>ye(null,null,function*(){const Qe=qe(s,Ie);return yield B(Qe&&Qe._f?{[Ie]:Qe}:Qe)})))).every(Boolean),!(!Re&&!n.isValid)&&_()):Re=De=yield B(s);return b.state.next(de(L(L({},!sa(Y)||(p.isValid||g.isValid)&&De!==n.isValid?{}:{name:Y}),t.resolver||!Y?{isValid:De}:{}),{errors:n.errors})),le.shouldFocus&&!Re&&Mu(s,Q,Y?Fe:d.mount),Re}),F=Y=>{const le=L({},l.mount?o:a);return Un(Y)?le:sa(Y)?qe(le,Y):Y.map(q=>qe(le,q))},W=(Y,le)=>({invalid:!!qe((le||n).errors,Y),isDirty:!!qe((le||n).dirtyFields,Y),error:qe((le||n).errors,Y),isValidating:!!qe(n.validatingFields,Y),isTouched:!!qe((le||n).touchedFields,Y)}),me=Y=>{Y&&Du(Y).forEach(le=>In(n.errors,le)),b.state.next({errors:Y?n.errors:{}})},U=(Y,le,q)=>{const Se=(qe(s,Y,{_f:{}})._f||{}).ref,yt=qe(n.errors,Y)||{},{ref:Re,message:Fe,type:Ie}=yt,Qe=Me(yt,["ref","message","type"]);yn(n.errors,Y,de(L(L({},Qe),le),{ref:Se})),b.state.next({name:Y,errors:n.errors,isValid:!1}),q&&q.shouldFocus&&Se&&Se.focus&&Se.focus()},re=(Y,le)=>Ur(Y)?b.state.subscribe({next:q=>"values"in q&&Y(I(void 0,le),q)}):I(Y,le,!0),_e=Y=>b.state.subscribe({next:le=>{NB(Y.name,le.name,Y.exact)&&SB(le,Y.formState||p,vt,Y.reRenderRoot)&&Y.callback(de(L(L({values:L({},o)},n),le),{defaultValues:a}))}}).unsubscribe,xe=Y=>(l.mount=!0,g=L(L({},g),Y.formState),_e(de(L({},Y),{formState:g}))),Ee=(Y,le={})=>{for(const q of Y?Du(Y):d.mount)d.mount.delete(q),d.array.delete(q),le.keepValue||(In(s,q),In(o,q)),!le.keepError&&In(n.errors,q),!le.keepDirty&&In(n.dirtyFields,q),!le.keepTouched&&In(n.touchedFields,q),!le.keepIsValidating&&In(n.validatingFields,q),!t.shouldUnregister&&!le.keepDefaultValue&&In(a,q);b.state.next({values:es(o)}),b.state.next(L(L({},n),le.keepDirty?{isDirty:K()}:{})),!le.keepIsValid&&_()},Oe=({disabled:Y,name:le})=>{(er(Y)&&l.mount||Y||d.disabled.has(le))&&(Y?d.disabled.add(le):d.disabled.delete(le))},$e=(Y,le={})=>{let q=qe(s,Y);const Se=er(le.disabled)||er(t.disabled);return yn(s,Y,de(L({},q||{}),{_f:L(de(L({},q&&q._f?q._f:{ref:{name:Y}}),{name:Y,mount:!0}),le)})),d.mount.add(Y),q?Oe({disabled:er(le.disabled)?le.disabled:t.disabled,name:Y}):k(Y,!0,le.value),de(L(L({},Se?{disabled:le.disabled||t.disabled}:{}),t.progressive?{required:!!le.required,min:bu(le.min),max:bu(le.max),minLength:bu(le.minLength),maxLength:bu(le.maxLength),pattern:bu(le.pattern)}:{}),{name:Y,onChange:te,onBlur:te,ref:De=>{if(De){$e(Y,le),q=qe(s,Y);const Re=Un(De.value)&&De.querySelectorAll&&De.querySelectorAll("input,select,textarea")[0]||De,Fe=yB(Re),Ie=q._f.refs||[];if(Fe?Ie.find(Qe=>Qe===Re):Re===q._f.ref)return;yn(s,Y,{_f:L(L({},q._f),Fe?{refs:[...Ie.filter(Gg),Re,...Array.isArray(qe(a,Y))?[{}]:[]],ref:{type:Re.type,name:Y}}:{ref:Re})}),k(Y,!1,void 0,Re)}else q=qe(s,Y,{}),q._f&&(q._f.mount=!1),(t.shouldUnregister||le.shouldUnregister)&&!(SE(d.array,Y)&&l.action)&&d.unMount.add(Y)}})},Le=()=>t.shouldFocusError&&Mu(s,Q,d.mount),lt=Y=>{er(Y)&&(b.state.next({disabled:Y}),Mu(s,(le,q)=>{const Se=qe(s,q);Se&&(le.disabled=Se._f.disabled||Y,Array.isArray(Se._f.refs)&&Se._f.refs.forEach(De=>{De.disabled=Se._f.disabled||Y}))},0,!1))},Ke=(Y,le)=>q=>ye(null,null,function*(){let Se;q&&(q.preventDefault&&q.preventDefault(),q.persist&&q.persist());let De=es(o);if(b.state.next({isSubmitting:!0}),t.resolver){const{errors:Re,values:Fe}=yield $();n.errors=Re,De=es(Fe)}else yield B(s);if(d.disabled.size)for(const Re of d.disabled)In(De,Re);if(In(n.errors,"root"),Bs(n.errors)){b.state.next({errors:{}});try{yield Y(De,q)}catch(Re){Se=Re}}else le&&(yield le(L({},n.errors),q)),Le(),setTimeout(Le);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Bs(n.errors)&&!Se,submitCount:n.submitCount+1,errors:n.errors}),Se)throw Se}),pt=(Y,le={})=>{qe(s,Y)&&(Un(le.defaultValue)?V(Y,es(qe(a,Y))):(V(Y,le.defaultValue),yn(a,Y,es(le.defaultValue))),le.keepTouched||In(n.touchedFields,Y),le.keepDirty||(In(n.dirtyFields,Y),n.isDirty=le.defaultValue?K(Y,es(qe(a,Y))):K()),le.keepError||(In(n.errors,Y),p.isValid&&_()),b.state.next(L({},n)))},Pe=(Y,le={})=>{const q=Y?es(Y):a,Se=es(q),De=Bs(Y),Re=De?a:Se;if(le.keepDefaultValues||(a=q),!le.keepValues){if(le.keepDirtyValues){const Fe=new Set([...d.mount,...Object.keys(yu(a,o))]);for(const Ie of Array.from(Fe))qe(n.dirtyFields,Ie)?yn(Re,Ie,qe(o,Ie)):V(Ie,qe(Re,Ie))}else{if(fy&&Un(Y))for(const Fe of d.mount){const Ie=qe(s,Fe);if(Ie&&Ie._f){const Qe=Array.isArray(Ie._f.refs)?Ie._f.refs[0]:Ie._f.ref;if(Lh(Qe)){const yt=Qe.closest("form");if(yt){yt.reset();break}}}}if(le.keepFieldsRef)for(const Fe of d.mount)V(Fe,qe(Re,Fe));else s={}}o=t.shouldUnregister?le.keepDefaultValues?es(a):{}:es(Re),b.array.next({values:L({},Re)}),b.state.next({values:L({},Re)})}d={mount:le.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!p.isValid||!!le.keepIsValid||!!le.keepDirtyValues,l.watch=!!t.shouldUnregister,b.state.next({submitCount:le.keepSubmitCount?n.submitCount:0,isDirty:De?!1:le.keepDirty?n.isDirty:!!(le.keepDefaultValues&&!Ua(Y,a)),isSubmitted:le.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:De?{}:le.keepDirtyValues?le.keepDefaultValues&&o?yu(a,o):n.dirtyFields:le.keepDefaultValues&&Y?yu(a,Y):le.keepDirty?n.dirtyFields:{},touchedFields:le.keepTouched?n.touchedFields:{},errors:le.keepErrors?n.errors:{},isSubmitSuccessful:le.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},ht=(Y,le)=>Pe(Ur(Y)?Y(o):Y,le),Ft=(Y,le={})=>{const q=qe(s,Y),Se=q&&q._f;if(Se){const De=Se.refs?Se.refs[0]:Se.ref;De.focus&&(De.focus(),le.shouldSelect&&Ur(De.select)&&De.select())}},vt=Y=>{n=L(L({},n),Y)},St={control:{register:$e,unregister:Ee,getFieldState:W,handleSubmit:Ke,setError:U,_subscribe:_e,_runSchema:$,_focusError:Le,_getWatch:I,_getDirty:K,_setValid:_,_setFieldArray:S,_setDisabledField:Oe,_setErrors:R,_getFieldArray:ee,_reset:Pe,_resetDefaultValues:()=>Ur(t.defaultValues)&&t.defaultValues().then(Y=>{ht(Y,t.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:J,_disableForm:lt,_subjects:b,_proxyFormState:p,get _fields(){return s},get _formValues(){return o},get _state(){return l},set _state(Y){l=Y},get _defaultValues(){return a},get _names(){return d},set _names(Y){d=Y},get _formState(){return n},get _options(){return t},set _options(Y){t=L(L({},t),Y)}},subscribe:xe,trigger:fe,register:$e,handleSubmit:Ke,watch:re,setValue:V,getValues:F,reset:ht,resetField:pt,clearErrors:me,unregister:Ee,setError:U,setFocus:Ft,getFieldState:W};return de(L({},St),{formControl:St})}function Pu(e={}){const t=Z.useRef(void 0),n=Z.useRef(void 0),[s,a]=Z.useState({isDirty:!1,isValidating:!1,isLoading:Ur(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ur(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current=de(L({},e.formControl),{formState:s}),e.defaultValues&&!Ur(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const l=AB(e),{formControl:d}=l,f=Me(l,["formControl"]);t.current=de(L({},f),{formState:s})}const o=t.current.control;return o._options=e,gy(()=>{const d=o._subscribe({formState:o._proxyFormState,callback:()=>a(L({},o._formState)),reRenderRoot:!0});return a(f=>de(L({},f),{isReady:!0})),o._formState.isReady=!0,d},[o]),Z.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),Z.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),Z.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),Z.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),Z.useEffect(()=>{if(o._proxyFormState.isDirty){const d=o._getDirty();d!==s.isDirty&&o._subjects.state.next({isDirty:d})}},[o,s.isDirty]),Z.useEffect(()=>{e.values&&!Ua(e.values,n.current)?(o._reset(e.values,L({keepFieldsRef:!0},o._options.resetOptions)),n.current=e.values,a(d=>L({},d))):o._resetDefaultValues()},[o,e.values]),Z.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next(L({},o._formState))),o._removeUnmounted()}),t.current.formState=EE(s,o),t.current}const OB=0,RB=1,DB=2;var rS=Object.prototype.hasOwnProperty;function I0(e,t){var n,s;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((s=e.length)===t.length)for(;s--&&I0(e[s],t[s]););return s===-1}if(!n||typeof e=="object"){s=0;for(n in e)if(rS.call(e,n)&&++s&&!rS.call(t,n)||!(n in t)||!I0(e[n],t[n]))return!1;return Object.keys(t).length===s}}return e!==e&&t!==t}const _o=new WeakMap,Si=()=>{},wr=Si(),Y0=Object,ra=e=>e===wr,jo=e=>typeof e=="function",im=(e,t)=>L(L({},e),t),MB=e=>jo(e.then),Kg={},If={},ME="undefined",by=typeof window!=ME,W0=typeof document!=ME,PB=by&&"Deno"in window,LB=(e,t)=>{const n=_o.get(e);return[()=>!ra(t)&&e.get(t)||Kg,s=>{if(!ra(t)){const a=e.get(t);t in If||(If[t]=a),n[5](t,im(a,s),a||Kg)}},n[6],()=>!ra(t)&&t in If?If[t]:!ra(t)&&e.get(t)||Kg]};let X0=!0;const zB=()=>X0,[G0,K0]=by&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Si,Si],UB=()=>{const e=W0&&document.visibilityState;return ra(e)||e!=="hidden"},BB=e=>(W0&&document.addEventListener("visibilitychange",e),G0("focus",e),()=>{W0&&document.removeEventListener("visibilitychange",e),K0("focus",e)}),FB=e=>{const t=()=>{X0=!0,e()},n=()=>{X0=!1};return G0("online",t),G0("offline",n),()=>{K0("online",t),K0("offline",n)}},HB={isOnline:zB,isVisible:UB},VB={initFocus:BB,initReconnect:FB};Z.useId;const PE=!by||PB,Qg=typeof navigator!="undefined"&&navigator.connection,aS=!PE&&Qg&&(["slow-2g","2g"].includes(Qg.effectiveType)||Qg.saveData),Yf=new WeakMap,$B=e=>Y0.prototype.toString.call(e),Zg=(e,t)=>e===`[object ${t}]`;let qB=0;const Q0=e=>{const t=typeof e,n=$B(e),s=Zg(n,"Date"),a=Zg(n,"RegExp"),o=Zg(n,"Object");let l,d;if(Y0(e)===e&&!s&&!a){if(l=Yf.get(e),l)return l;if(l=++qB+"~",Yf.set(e,l),Array.isArray(e)){for(l="@",d=0;d<e.length;d++)l+=Q0(e[d])+",";Yf.set(e,l)}if(o){l="#";const f=Y0.keys(e).sort();for(;!ra(d=f.pop());)ra(e[d])||(l+=d+":"+Q0(e[d])+",");Yf.set(e,l)}}else l=s?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return l},IB=e=>{if(jo(e))try{e=e()}catch(n){e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Q0(e):"",[e,t]};let YB=0;const iS=()=>++YB;function WB(...e){return ye(this,null,function*(){const[t,n,s,a]=e,o=im({populateCache:!0,throwOnError:!0},typeof a=="boolean"?{revalidate:a}:a||{});let l=o.populateCache;const d=o.rollbackOnError;let f=o.optimisticData;const h=b=>typeof d=="function"?d(b):d!==!1,p=o.throwOnError;if(jo(n)){const b=n,y=[],w=t.keys();for(const _ of w)!/^\$(inf|sub)\$/.test(_)&&b(t.get(_)._k)&&y.push(_);return Promise.all(y.map(g))}return g(n);function g(b){return ye(this,null,function*(){const[y]=IB(b);if(!y)return;const[w,_]=LB(t,y),[j,S,C,R]=_o.get(t),k=()=>{const pe=j[y];return(jo(o.revalidate)?o.revalidate(w().data,b):o.revalidate!==!1)&&(delete C[y],delete R[y],pe&&pe[0])?pe[0](DB).then(()=>w().data):w().data};if(e.length<3)return k();let O=s,D,$=!1;const A=iS();S[y]=[A,0];const B=!ra(f),J=w(),K=J.data,I=J._c,ee=ra(I)?K:I;if(B&&(f=jo(f)?f(ee,K):f,_({data:f,_c:ee})),jo(O))try{O=O(ee)}catch(pe){D=pe,$=!0}if(O&&MB(O))if(O=yield O.catch(pe=>{D=pe,$=!0}),A!==S[y][0]){if($)throw D;return O}else $&&B&&h(D)&&(l=!0,_({data:ee,_c:wr}));if(l&&!$)if(jo(l)){const pe=l(O,ee);_({data:pe,error:wr,_c:wr})}else _({data:O,error:wr,_c:wr});if(S[y][1]=iS(),Promise.resolve(k()).then(()=>{_({_c:wr})}),$){if(p)throw D;return}return O})}})}const oS=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},XB=(e,t)=>{if(!_o.has(e)){const n=im(VB,t),s=Object.create(null),a=WB.bind(wr,e);let o=Si;const l=Object.create(null),d=(p,g)=>{const b=l[p]||[];return l[p]=b,b.push(g),()=>b.splice(b.indexOf(g),1)},f=(p,g,b)=>{e.set(p,g);const y=l[p];if(y)for(const w of y)w(g,b)},h=()=>{if(!_o.has(e)&&(_o.set(e,[s,Object.create(null),Object.create(null),Object.create(null),a,f,d]),!PE)){const p=n.initFocus(setTimeout.bind(wr,oS.bind(wr,s,OB))),g=n.initReconnect(setTimeout.bind(wr,oS.bind(wr,s,RB)));o=()=>{p&&p(),g&&g(),_o.delete(e)}}};return h(),[e,a,h,o]}return[e,_o.get(e)[4]]},GB=(e,t,n,s,a)=>{const o=n.errorRetryCount,l=a.retryCount,d=~~((Math.random()+.5)*(1<<(l<8?l:8)))*n.errorRetryInterval;!ra(o)&&l>o||setTimeout(s,d,a)},KB=I0,[QB,vy]=XB(new Map);im({onLoadingSlow:Si,onSuccess:Si,onError:Si,onErrorRetry:GB,onDiscarded:Si,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:aS?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:aS?5e3:3e3,compare:KB,isPaused:()=>!1,cache:QB,mutate:vy,fallback:{}},HB);N.createContext({});const lS=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,cS=_N,ZB=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return cS(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:o}=t,l=Object.keys(a).map(h=>{const p=n==null?void 0:n[h],g=o==null?void 0:o[h];if(p===null)return null;const b=lS(p)||lS(g);return a[h][b]}),d=n&&Object.entries(n).reduce((h,p)=>{let[g,b]=p;return b===void 0||(h[g]=b),h},{}),f=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((h,p)=>{let w=p,{class:g,className:b}=w,y=Me(w,["class","className"]);return Object.entries(y).every(_=>{let[j,S]=_;return Array.isArray(S)?S.includes(L(L({},o),d)[j]):L(L({},o),d)[j]===S})?[...h,g,b]:h},[]);return cS(e,l,f,n==null?void 0:n.class,n==null?void 0:n.className)},JB=ZB("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function We(o){var l=o,{className:e,variant:t,size:n,asChild:s=!1}=l,a=Me(l,["className","variant","size","asChild"]);const d=s?YM:"button";return c.jsx(d,L({"data-slot":"button",className:jn(JB({variant:t,size:n,className:e}))},a))}var uS=1,e8=.9,t8=.8,n8=.17,Jg=.1,e0=.999,s8=.9999,r8=.99,a8=/[\\\/_+.#"@\[\(\{&]/,i8=/[\\\/_+.#"@\[\(\{&]/g,o8=/[\s-]/,LE=/[\s-]/g;function Z0(e,t,n,s,a,o,l){if(o===t.length)return a===e.length?uS:r8;var d=`${a},${o}`;if(l[d]!==void 0)return l[d];for(var f=s.charAt(o),h=n.indexOf(f,a),p=0,g,b,y,w;h>=0;)g=Z0(e,t,n,s,h+1,o+1,l),g>p&&(h===a?g*=uS:a8.test(e.charAt(h-1))?(g*=t8,y=e.slice(a,h-1).match(i8),y&&a>0&&(g*=Math.pow(e0,y.length))):o8.test(e.charAt(h-1))?(g*=e8,w=e.slice(a,h-1).match(LE),w&&a>0&&(g*=Math.pow(e0,w.length))):(g*=n8,a>0&&(g*=Math.pow(e0,h-a))),e.charAt(h)!==t.charAt(o)&&(g*=s8)),(g<Jg&&n.charAt(h-1)===s.charAt(o+1)||s.charAt(o+1)===s.charAt(o)&&n.charAt(h-1)!==s.charAt(o))&&(b=Z0(e,t,n,s,h+1,o+2,l),b*Jg>g&&(g=b*Jg)),g>p&&(p=g),h=n.indexOf(f,h+1);return l[d]=p,p}function dS(e){return e.toLowerCase().replace(LE," ")}function l8(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,Z0(e,t,dS(e),dS(t),0,0,{})}var om="Dialog",[zE,SH]=Ox(om),[c8,Vr]=zE(om),UE=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,d=N.useRef(null),f=N.useRef(null),[h,p]=tN({prop:s,defaultProp:a!=null?a:!1,onChange:o,caller:om});return c.jsx(c8,{scope:t,triggerRef:d,contentRef:f,contentId:ia(),titleId:ia(),descriptionId:ia(),open:h,onOpenChange:p,onOpenToggle:N.useCallback(()=>p(g=>!g),[p]),modal:l,children:n})};UE.displayName=om;var BE="DialogTrigger",FE=N.forwardRef((e,t)=>{const l=e,{__scopeDialog:n}=l,s=Me(l,["__scopeDialog"]),a=Vr(BE,n),o=Hr(t,a.triggerRef);return c.jsx(Cn.button,de(L({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":jy(a.open)},s),{ref:o,onClick:ar(e.onClick,a.onOpenToggle)}))});FE.displayName=BE;var wy="DialogPortal",[u8,HE]=zE(wy,{forceMount:void 0}),VE=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:a}=e,o=Vr(wy,t);return c.jsx(u8,{scope:t,forceMount:n,children:N.Children.map(s,l=>c.jsx(ec,{present:n||o.open,children:c.jsx($x,{asChild:!0,container:a,children:l})}))})};VE.displayName=wy;var Bh="DialogOverlay",$E=N.forwardRef((e,t)=>{const n=HE(Bh,e.__scopeDialog),l=e,{forceMount:s=n.forceMount}=l,a=Me(l,["forceMount"]),o=Vr(Bh,e.__scopeDialog);return o.modal?c.jsx(ec,{present:s||o.open,children:c.jsx(f8,de(L({},a),{ref:t}))}):null});$E.displayName=Bh;var d8=Xh("DialogOverlay.RemoveScroll"),f8=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Me(o,["__scopeDialog"]),a=Vr(Bh,n);return c.jsx(qx,{as:d8,allowPinchZoom:!0,shards:[a.contentRef],children:c.jsx(Cn.div,de(L({"data-state":jy(a.open)},s),{ref:t,style:L({pointerEvents:"auto"},s.style)}))})}),Po="DialogContent",qE=N.forwardRef((e,t)=>{const n=HE(Po,e.__scopeDialog),l=e,{forceMount:s=n.forceMount}=l,a=Me(l,["forceMount"]),o=Vr(Po,e.__scopeDialog);return c.jsx(ec,{present:s||o.open,children:o.modal?c.jsx(h8,de(L({},a),{ref:t})):c.jsx(m8,de(L({},a),{ref:t}))})});qE.displayName=Po;var h8=N.forwardRef((e,t)=>{const n=Vr(Po,e.__scopeDialog),s=N.useRef(null),a=Hr(t,n.contentRef,s);return N.useEffect(()=>{const o=s.current;if(o)return sN(o)},[]),c.jsx(IE,de(L({},e),{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ar(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ar(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0;(l.button===2||d)&&o.preventDefault()}),onFocusOutside:ar(e.onFocusOutside,o=>o.preventDefault())}))}),m8=N.forwardRef((e,t)=>{const n=Vr(Po,e.__scopeDialog),s=N.useRef(!1),a=N.useRef(!1);return c.jsx(IE,de(L({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,d;(l=e.onCloseAutoFocus)==null||l.call(e,o),o.defaultPrevented||(s.current||(d=n.triggerRef.current)==null||d.focus(),o.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:o=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=o.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}}))}),IE=N.forwardRef((e,t)=>{const p=e,{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o}=p,l=Me(p,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),d=Vr(Po,n),f=N.useRef(null),h=Hr(t,f);return A2(),c.jsxs(c.Fragment,{children:[c.jsx(Dx,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:o,children:c.jsx(Rx,de(L({role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":jy(d.open)},l),{ref:h,onDismiss:()=>d.onOpenChange(!1)}))}),c.jsxs(c.Fragment,{children:[c.jsx(p8,{titleId:d.titleId}),c.jsx(x8,{contentRef:f,descriptionId:d.descriptionId})]})]})}),_y="DialogTitle",YE=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Me(o,["__scopeDialog"]),a=Vr(_y,n);return c.jsx(Cn.h2,de(L({id:a.titleId},s),{ref:t}))});YE.displayName=_y;var WE="DialogDescription",XE=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Me(o,["__scopeDialog"]),a=Vr(WE,n);return c.jsx(Cn.p,de(L({id:a.descriptionId},s),{ref:t}))});XE.displayName=WE;var GE="DialogClose",KE=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Me(o,["__scopeDialog"]),a=Vr(GE,n);return c.jsx(Cn.button,de(L({type:"button"},s),{ref:t,onClick:ar(e.onClick,()=>a.onOpenChange(!1))}))});KE.displayName=GE;function jy(e){return e?"open":"closed"}var QE="DialogTitleWarning",[NH,ZE]=qM(QE,{contentName:Po,titleName:_y,docsSlug:"dialog"}),p8=({titleId:e})=>{const t=ZE(QE),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return N.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},g8="DialogDescriptionWarning",x8=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ZE(g8).contentName}}.`;return N.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},Sy=UE,y8=FE,Ny=VE,Ey=$E,Ty=qE,JE=YE,eT=XE,tT=KE,vu='[cmdk-group=""]',t0='[cmdk-group-items=""]',b8='[cmdk-group-heading=""]',nT='[cmdk-item=""]',fS=`${nT}:not([aria-disabled="true"])`,J0="cmdk-item-select",Pl="data-value",v8=(e,t,n)=>l8(e,t,n),sT=N.createContext(void 0),sd=()=>N.useContext(sT),rT=N.createContext(void 0),ky=()=>N.useContext(rT),aT=N.createContext(void 0),iT=N.forwardRef((e,t)=>{let n=Ll(()=>{var U,re;return{search:"",value:(re=(U=e.value)!=null?U:e.defaultValue)!=null?re:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=Ll(()=>new Set),a=Ll(()=>new Map),o=Ll(()=>new Map),l=Ll(()=>new Set),d=oT(e),me=e,{label:f,children:h,value:p,onValueChange:g,filter:b,shouldFilter:y,loop:w,disablePointerSelection:_=!1,vimBindings:j=!0}=me,S=Me(me,["label","children","value","onValueChange","filter","shouldFilter","loop","disablePointerSelection","vimBindings"]),C=ia(),R=ia(),k=ia(),O=N.useRef(null),D=O8();Lo(()=>{if(p!==void 0){let U=p.trim();n.current.value=U,$.emit()}},[p]),Lo(()=>{D(6,ee)},[]);let $=N.useMemo(()=>({subscribe:U=>(l.current.add(U),()=>l.current.delete(U)),snapshot:()=>n.current,setState:(U,re,_e)=>{var xe,Ee,Oe,$e;if(!Object.is(n.current[U],re)){if(n.current[U]=re,U==="search")I(),J(),D(1,K);else if(U==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Le=document.getElementById(k);Le?Le.focus():(xe=document.getElementById(C))==null||xe.focus()}if(D(7,()=>{var Le;n.current.selectedItemId=(Le=pe())==null?void 0:Le.id,$.emit()}),_e||D(5,ee),((Ee=d.current)==null?void 0:Ee.value)!==void 0){let Le=re!=null?re:"";($e=(Oe=d.current).onValueChange)==null||$e.call(Oe,Le);return}}$.emit()}},emit:()=>{l.current.forEach(U=>U())}}),[]),A=N.useMemo(()=>({value:(U,re,_e)=>{var xe;re!==((xe=o.current.get(U))==null?void 0:xe.value)&&(o.current.set(U,{value:re,keywords:_e}),n.current.filtered.items.set(U,B(re,_e)),D(2,()=>{J(),$.emit()}))},item:(U,re)=>(s.current.add(U),re&&(a.current.has(re)?a.current.get(re).add(U):a.current.set(re,new Set([U]))),D(3,()=>{I(),J(),n.current.value||K(),$.emit()}),()=>{o.current.delete(U),s.current.delete(U),n.current.filtered.items.delete(U);let _e=pe();D(4,()=>{I(),(_e==null?void 0:_e.getAttribute("id"))===U&&K(),$.emit()})}),group:U=>(a.current.has(U)||a.current.set(U,new Set),()=>{o.current.delete(U),a.current.delete(U)}),filter:()=>d.current.shouldFilter,label:f||e["aria-label"],getDisablePointerSelection:()=>d.current.disablePointerSelection,listId:C,inputId:k,labelId:R,listInnerRef:O}),[]);function B(U,re){var _e,xe;let Ee=(xe=(_e=d.current)==null?void 0:_e.filter)!=null?xe:v8;return U?Ee(U,n.current.search,re):0}function J(){if(!n.current.search||d.current.shouldFilter===!1)return;let U=n.current.filtered.items,re=[];n.current.filtered.groups.forEach(xe=>{let Ee=a.current.get(xe),Oe=0;Ee.forEach($e=>{let Le=U.get($e);Oe=Math.max(Le,Oe)}),re.push([xe,Oe])});let _e=O.current;ne().sort((xe,Ee)=>{var Oe,$e;let Le=xe.getAttribute("id"),lt=Ee.getAttribute("id");return((Oe=U.get(lt))!=null?Oe:0)-(($e=U.get(Le))!=null?$e:0)}).forEach(xe=>{let Ee=xe.closest(t0);Ee?Ee.appendChild(xe.parentElement===Ee?xe:xe.closest(`${t0} > *`)):_e.appendChild(xe.parentElement===_e?xe:xe.closest(`${t0} > *`))}),re.sort((xe,Ee)=>Ee[1]-xe[1]).forEach(xe=>{var Ee;let Oe=(Ee=O.current)==null?void 0:Ee.querySelector(`${vu}[${Pl}="${encodeURIComponent(xe[0])}"]`);Oe==null||Oe.parentElement.appendChild(Oe)})}function K(){let U=ne().find(_e=>_e.getAttribute("aria-disabled")!=="true"),re=U==null?void 0:U.getAttribute(Pl);$.setState("value",re||void 0)}function I(){var U,re,_e,xe;if(!n.current.search||d.current.shouldFilter===!1){n.current.filtered.count=s.current.size;return}n.current.filtered.groups=new Set;let Ee=0;for(let Oe of s.current){let $e=(re=(U=o.current.get(Oe))==null?void 0:U.value)!=null?re:"",Le=(xe=(_e=o.current.get(Oe))==null?void 0:_e.keywords)!=null?xe:[],lt=B($e,Le);n.current.filtered.items.set(Oe,lt),lt>0&&Ee++}for(let[Oe,$e]of a.current)for(let Le of $e)if(n.current.filtered.items.get(Le)>0){n.current.filtered.groups.add(Oe);break}n.current.filtered.count=Ee}function ee(){var U,re,_e;let xe=pe();xe&&(((U=xe.parentElement)==null?void 0:U.firstChild)===xe&&((_e=(re=xe.closest(vu))==null?void 0:re.querySelector(b8))==null||_e.scrollIntoView({block:"nearest"})),xe.scrollIntoView({block:"nearest"}))}function pe(){var U;return(U=O.current)==null?void 0:U.querySelector(`${nT}[aria-selected="true"]`)}function ne(){var U;return Array.from(((U=O.current)==null?void 0:U.querySelectorAll(fS))||[])}function V(U){let re=ne()[U];re&&$.setState("value",re.getAttribute(Pl))}function te(U){var re;let _e=pe(),xe=ne(),Ee=xe.findIndex($e=>$e===_e),Oe=xe[Ee+U];(re=d.current)!=null&&re.loop&&(Oe=Ee+U<0?xe[xe.length-1]:Ee+U===xe.length?xe[0]:xe[Ee+U]),Oe&&$.setState("value",Oe.getAttribute(Pl))}function Q(U){let re=pe(),_e=re==null?void 0:re.closest(vu),xe;for(;_e&&!xe;)_e=U>0?C8(_e,vu):A8(_e,vu),xe=_e==null?void 0:_e.querySelector(fS);xe?$.setState("value",xe.getAttribute(Pl)):te(U)}let fe=()=>V(ne().length-1),F=U=>{U.preventDefault(),U.metaKey?fe():U.altKey?Q(1):te(1)},W=U=>{U.preventDefault(),U.metaKey?V(0):U.altKey?Q(-1):te(-1)};return N.createElement(Cn.div,de(L({ref:t,tabIndex:-1},S),{"cmdk-root":"",onKeyDown:U=>{var re;(re=S.onKeyDown)==null||re.call(S,U);let _e=U.nativeEvent.isComposing||U.keyCode===229;if(!(U.defaultPrevented||_e))switch(U.key){case"n":case"j":{j&&U.ctrlKey&&F(U);break}case"ArrowDown":{F(U);break}case"p":case"k":{j&&U.ctrlKey&&W(U);break}case"ArrowUp":{W(U);break}case"Home":{U.preventDefault(),V(0);break}case"End":{U.preventDefault(),fe();break}case"Enter":{U.preventDefault();let xe=pe();if(xe){let Ee=new Event(J0);xe.dispatchEvent(Ee)}}}}}),N.createElement("label",{"cmdk-label":"",htmlFor:A.inputId,id:A.labelId,style:D8},f),lm(e,U=>N.createElement(rT.Provider,{value:$},N.createElement(sT.Provider,{value:A},U))))}),w8=N.forwardRef((e,t)=>{var n,s;let a=ia(),o=N.useRef(null),l=N.useContext(aT),d=sd(),f=oT(e),h=(s=(n=f.current)==null?void 0:n.forceMount)!=null?s:l==null?void 0:l.forceMount;Lo(()=>{if(!h)return d.item(a,l==null?void 0:l.id)},[h]);let p=lT(a,o,[e.value,e.children,o],e.keywords),g=ky(),b=Pi($=>$.value&&$.value===p.current),y=Pi($=>h||d.filter()===!1?!0:$.search?$.filtered.items.get(a)>0:!0);N.useEffect(()=>{let $=o.current;if(!(!$||e.disabled))return $.addEventListener(J0,w),()=>$.removeEventListener(J0,w)},[y,e.onSelect,e.disabled]);function w(){var $,A;_(),(A=($=f.current).onSelect)==null||A.call($,p.current)}function _(){g.setState("value",p.current,!0)}if(!y)return null;let D=e,{disabled:j,value:S,onSelect:C,forceMount:R,keywords:k}=D,O=Me(D,["disabled","value","onSelect","forceMount","keywords"]);return N.createElement(Cn.div,de(L({ref:Oo(o,t)},O),{id:a,"cmdk-item":"",role:"option","aria-disabled":!!j,"aria-selected":!!b,"data-disabled":!!j,"data-selected":!!b,onPointerMove:j||d.getDisablePointerSelection()?void 0:_,onClick:j?void 0:w}),e.children)}),_8=N.forwardRef((e,t)=>{let y=e,{heading:n,children:s,forceMount:a}=y,o=Me(y,["heading","children","forceMount"]),l=ia(),d=N.useRef(null),f=N.useRef(null),h=ia(),p=sd(),g=Pi(w=>a||p.filter()===!1?!0:w.search?w.filtered.groups.has(l):!0);Lo(()=>p.group(l),[]),lT(l,d,[e.value,e.heading,f]);let b=N.useMemo(()=>({id:l,forceMount:a}),[a]);return N.createElement(Cn.div,de(L({ref:Oo(d,t)},o),{"cmdk-group":"",role:"presentation",hidden:g?void 0:!0}),n&&N.createElement("div",{ref:f,"cmdk-group-heading":"","aria-hidden":!0,id:h},n),lm(e,w=>N.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?h:void 0},N.createElement(aT.Provider,{value:b},w))))}),j8=N.forwardRef((e,t)=>{let l=e,{alwaysRender:n}=l,s=Me(l,["alwaysRender"]),a=N.useRef(null),o=Pi(d=>!d.search);return!n&&!o?null:N.createElement(Cn.div,de(L({ref:Oo(a,t)},s),{"cmdk-separator":"",role:"separator"}))}),S8=N.forwardRef((e,t)=>{let h=e,{onValueChange:n}=h,s=Me(h,["onValueChange"]),a=e.value!=null,o=ky(),l=Pi(p=>p.search),d=Pi(p=>p.selectedItemId),f=sd();return N.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),N.createElement(Cn.input,de(L({ref:t},s),{"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":f.listId,"aria-labelledby":f.labelId,"aria-activedescendant":d,id:f.inputId,type:"text",value:a?e.value:l,onChange:p=>{a||o.setState("search",p.target.value),n==null||n(p.target.value)}}))}),N8=N.forwardRef((e,t)=>{let h=e,{children:n,label:s="Suggestions"}=h,a=Me(h,["children","label"]),o=N.useRef(null),l=N.useRef(null),d=Pi(p=>p.selectedItemId),f=sd();return N.useEffect(()=>{if(l.current&&o.current){let p=l.current,g=o.current,b,y=new ResizeObserver(()=>{b=requestAnimationFrame(()=>{let w=p.offsetHeight;g.style.setProperty("--cmdk-list-height",w.toFixed(1)+"px")})});return y.observe(p),()=>{cancelAnimationFrame(b),y.unobserve(p)}}},[]),N.createElement(Cn.div,de(L({ref:Oo(o,t)},a),{"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":d,"aria-label":s,id:f.listId}),lm(e,p=>N.createElement("div",{ref:Oo(l,f.listInnerRef),"cmdk-list-sizer":""},p)))}),E8=N.forwardRef((e,t)=>{let f=e,{open:n,onOpenChange:s,overlayClassName:a,contentClassName:o,container:l}=f,d=Me(f,["open","onOpenChange","overlayClassName","contentClassName","container"]);return N.createElement(Sy,{open:n,onOpenChange:s},N.createElement(Ny,{container:l},N.createElement(Ey,{"cmdk-overlay":"",className:a}),N.createElement(Ty,{"aria-label":e.label,"cmdk-dialog":"",className:o},N.createElement(iT,L({ref:t},d)))))}),T8=N.forwardRef((e,t)=>Pi(n=>n.filtered.count===0)?N.createElement(Cn.div,de(L({ref:t},e),{"cmdk-empty":"",role:"presentation"})):null),k8=N.forwardRef((e,t)=>{let l=e,{progress:n,children:s,label:a="Loading..."}=l,o=Me(l,["progress","children","label"]);return N.createElement(Cn.div,de(L({ref:t},o),{"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a}),lm(e,d=>N.createElement("div",{"aria-hidden":!0},d)))}),ac=Object.assign(iT,{List:N8,Item:w8,Input:S8,Group:_8,Separator:j8,Dialog:E8,Empty:T8,Loading:k8});function C8(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function A8(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function oT(e){let t=N.useRef(e);return Lo(()=>{t.current=e}),t}var Lo=typeof window=="undefined"?N.useEffect:N.useLayoutEffect;function Ll(e){let t=N.useRef();return t.current===void 0&&(t.current=e()),t}function Pi(e){let t=ky(),n=()=>e(t.snapshot());return N.useSyncExternalStore(t.subscribe,n,n)}function lT(e,t,n,s=[]){let a=N.useRef(),o=sd();return Lo(()=>{var l;let d=(()=>{var h;for(let p of n){if(typeof p=="string")return p.trim();if(typeof p=="object"&&"current"in p)return p.current?(h=p.current.textContent)==null?void 0:h.trim():a.current}})(),f=s.map(h=>h.trim());o.value(e,d,f),(l=t.current)==null||l.setAttribute(Pl,d),a.current=d}),a}var O8=()=>{let[e,t]=N.useState(),n=Ll(()=>new Map);return Lo(()=>{n.current.forEach(s=>s()),n.current=new Map},[e]),(s,a)=>{n.current.set(s,a),t({})}};function R8(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function lm({asChild:e,children:t},n){return e&&N.isValidElement(t)?N.cloneElement(R8(t),{ref:t.ref},n(t.props.children)):n(t)}var D8={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function xs(t){var e=Me(t,[]);return c.jsx(Sy,L({"data-slot":"dialog"},e))}function M8(t){var e=Me(t,[]);return c.jsx(y8,L({"data-slot":"dialog-trigger"},e))}function P8(t){var e=Me(t,[]);return c.jsx(Ny,L({"data-slot":"dialog-portal"},e))}function L8(t){var e=Me(t,[]);return c.jsx(tT,L({"data-slot":"dialog-close"},e))}function z8(n){var s=n,{className:e}=s,t=Me(s,["className"]);return c.jsx(Ey,L({"data-slot":"dialog-overlay",className:jn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e)},t))}function ys(a){var o=a,{className:e,children:t,showCloseButton:n=!0}=o,s=Me(o,["className","children","showCloseButton"]);return c.jsxs(P8,{"data-slot":"dialog-portal",children:[c.jsx(z8,{}),c.jsxs(Ty,de(L({"data-slot":"dialog-content",className:jn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e)},s),{children:[t,n&&c.jsxs(tT,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[c.jsx(VM,{}),c.jsx("span",{className:"sr-only",children:"Close"})]})]}))]})}function bs(n){var s=n,{className:e}=s,t=Me(s,["className"]);return c.jsx("div",L({"data-slot":"dialog-header",className:jn("flex flex-col gap-2 text-center sm:text-left",e)},t))}function vs(n){var s=n,{className:e}=s,t=Me(s,["className"]);return c.jsx("div",L({"data-slot":"dialog-footer",className:jn("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e)},t))}function ws(n){var s=n,{className:e}=s,t=Me(s,["className"]);return c.jsx(JE,L({"data-slot":"dialog-title",className:jn("text-lg leading-none font-semibold",e)},t))}function Co(n){var s=n,{className:e}=s,t=Me(s,["className"]);return c.jsx(eT,L({"data-slot":"dialog-description",className:jn("text-muted-foreground text-sm",e)},t))}function U8(n){var s=n,{className:e}=s,t=Me(s,["className"]);return c.jsx(ac,L({"data-slot":"command",className:jn("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e)},t))}function B8(n){var s=n,{className:e}=s,t=Me(s,["className"]);return c.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[c.jsx(Yh,{className:"size-4 shrink-0 opacity-50"}),c.jsx(ac.Input,L({"data-slot":"command-input",className:jn("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e)},t))]})}function F8(n){var s=n,{className:e}=s,t=Me(s,["className"]);return c.jsx(ac.List,L({"data-slot":"command-list",className:jn("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e)},t))}function n0(t){var e=Me(t,[]);return c.jsx(ac.Empty,L({"data-slot":"command-empty",className:"py-6 text-center text-sm"},e))}function H8(n){var s=n,{className:e}=s,t=Me(s,["className"]);return c.jsx(ac.Group,L({"data-slot":"command-group",className:jn("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e)},t))}function V8(n){var s=n,{className:e}=s,t=Me(s,["className"]);return c.jsx(ac.Item,L({"data-slot":"command-item",className:jn("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e)},t))}function sr({doctype:e,value:t="",onChange:n,placeholder:s="Select option...",className:a="w-[200px]",fields:o=["name"],filters:l=[],displayField:d="name",valueField:f="name",disabled:h=!1,limit:p=20}){const[g,b]=N.useState(!1),[y,w]=N.useState(""),_=N.useMemo(()=>{let $={};if(l.length>0&&l.forEach(B=>{if(Array.isArray(B)&&B.length>=3){const[J,K,I]=B;K==="="&&($[J]=I)}}),y.trim()&&($[d]=["like",`%${y}%`]),Object.keys($).length===0&&y.trim())return[[d,"like",`%${y}%`]];const A=[];return Object.entries($).forEach(([B,J])=>{Array.isArray(J)?A.push([B,J[0],J[1]]):A.push([B,"=",J])}),A.length>0?A:void 0},[y,l,d]),{data:j,isLoading:S,error:C}=dn(e,{fields:[...new Set([...o,d,f])],filters:_,limit:p,orderBy:{field:d,order:"asc"}}),R=N.useMemo(()=>!j||!Array.isArray(j)?[]:j.map($=>({value:$[f],label:$[d]})),[j,d,f]),k=R.find($=>$.value===t),O=$=>{n($===t?"":$),b(!1)},D=$=>{w($)};return c.jsxs(Wx,{open:g,onOpenChange:b,children:[c.jsx(Xx,{asChild:!0,children:c.jsxs(We,{variant:"outline",role:"combobox","aria-expanded":g,className:jn("justify-between",a),disabled:h,children:[(k==null?void 0:k.label)||s,c.jsx(qD,{className:"opacity-50"})]})}),c.jsx(Gx,{className:jn("p-0",a),children:c.jsxs(U8,{shouldFilter:!1,children:[c.jsx(B8,{placeholder:`Search ${e.toLowerCase()}...`,className:"h-9",value:y,onValueChange:D}),c.jsxs(F8,{children:[S&&c.jsx(n0,{children:"Loading..."}),C&&c.jsx(n0,{children:"Error loading data."}),!S&&!C&&R.length===0&&c.jsxs(n0,{children:["No ",e.toLowerCase()," found."]}),!S&&!C&&R.length>0&&c.jsx(H8,{children:R.map($=>c.jsxs(V8,{value:$.value,onSelect:O,children:[$.label,c.jsx(BD,{className:jn("ml-auto",t===$.value?"opacity-100":"opacity-0")})]},$.value))})]})]})})]})}function Bt(s){var a=s,{className:e,type:t}=a,n=Me(a,["className","type"]);return c.jsx("input",L({type:t,"data-slot":"input",className:jn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e)},n))}var $8="Label",cT=N.forwardRef((e,t)=>c.jsx(Cn.label,de(L({},e),{ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}})));cT.displayName=$8;var q8=cT;function ze(n){var s=n,{className:e}=s,t=Me(s,["className"]);return c.jsx(q8,L({"data-slot":"label",className:jn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e)},t))}function I8(e){if(typeof document=="undefined")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const uT=Z.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),rd=()=>{const e=Z.useContext(uT);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};I8(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function Y8(){const e=navigator.userAgent;return typeof window!="undefined"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function W8(){return Cy(/^Mac/)}function X8(){return Cy(/^iPhone/)}function hS(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function G8(){return Cy(/^iPad/)||W8()&&navigator.maxTouchPoints>1}function dT(){return X8()||G8()}function Cy(e){return typeof window!="undefined"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const K8=24,Q8=typeof window!="undefined"?N.useLayoutEffect:N.useEffect;function mS(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const s0=typeof document!="undefined"&&window.visualViewport;function pS(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function fT(e){for(pS(e)&&(e=e.parentElement);e&&!pS(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const Z8=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Wf=0,r0;function J8(e={}){let{isDisabled:t}=e;Q8(()=>{if(!t)return Wf++,Wf===1&&dT()&&(r0=eF()),()=>{Wf--,Wf===0&&(r0==null||r0())}},[t])}function eF(){let e,t=0,n=g=>{e=fT(g.target),!(e===document.documentElement&&e===document.body)&&(t=g.changedTouches[0].pageY)},s=g=>{if(!e||e===document.documentElement||e===document.body){g.preventDefault();return}let b=g.changedTouches[0].pageY,y=e.scrollTop,w=e.scrollHeight-e.clientHeight;w!==0&&((y<=0&&b>t||y>=w&&b<t)&&g.preventDefault(),t=b)},a=g=>{let b=g.target;ex(b)&&b!==document.activeElement&&(g.preventDefault(),b.style.transform="translateY(-2000px)",b.focus(),requestAnimationFrame(()=>{b.style.transform=""}))},o=g=>{let b=g.target;ex(b)&&(b.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{b.style.transform="",s0&&(s0.height<window.innerHeight?requestAnimationFrame(()=>{gS(b)}):s0.addEventListener("resize",()=>gS(b),{once:!0}))}))},l=()=>{window.scrollTo(0,0)},d=window.pageXOffset,f=window.pageYOffset,h=mS(tF(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let p=mS(wu(document,"touchstart",n,{passive:!1,capture:!0}),wu(document,"touchmove",s,{passive:!1,capture:!0}),wu(document,"touchend",a,{passive:!1,capture:!0}),wu(document,"focus",o,!0),wu(window,"scroll",l));return()=>{h(),p(),window.scrollTo(d,f)}}function tF(e,t,n){let s=e.style[t];return e.style[t]=n,()=>{e.style[t]=s}}function wu(e,t,n,s){return e.addEventListener(t,n,s),()=>{e.removeEventListener(t,n,s)}}function gS(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=fT(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let s=n.getBoundingClientRect().top,a=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom;const l=n.getBoundingClientRect().bottom+K8;o>l&&(n.scrollTop+=a-s)}e=n.parentElement}}function ex(e){return e instanceof HTMLInputElement&&!Z8.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function nF(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function sF(...e){return t=>e.forEach(n=>nF(n,t))}function hT(...e){return N.useCallback(sF(...e),e)}const mT=new WeakMap;function ts(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let s={};Object.entries(t).forEach(([a,o])=>{if(a.startsWith("--")){e.style.setProperty(a,o);return}s[a]=e.style[a],e.style[a]=o}),!n&&mT.set(e,s)}function rF(e,t){if(!e||!(e instanceof HTMLElement))return;let n=mT.get(e);n&&(e.style[t]=n[t])}const Yn=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Xf(e,t){if(!e)return null;const n=window.getComputedStyle(e),s=n.transform||n.webkitTransform||n.mozTransform;let a=s.match(/^matrix3d\((.+)\)$/);return a?parseFloat(a[1].split(", ")[Yn(t)?13:12]):(a=s.match(/^matrix\((.+)\)$/),a?parseFloat(a[1].split(", ")[Yn(t)?5:4]):null)}function aF(e){return 8*(Math.log(e+1)-2)}function a0(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function iF(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const Tn={DURATION:.5,EASE:[.32,.72,0,1]},pT=.4,oF=.25,lF=100,gT=8,yo=16,tx=26,i0="vaul-dragging";function xT(e){const t=Z.useRef(e);return Z.useEffect(()=>{t.current=e}),Z.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function cF({defaultProp:e,onChange:t}){const n=Z.useState(e),[s]=n,a=Z.useRef(s),o=xT(t);return Z.useEffect(()=>{a.current!==s&&(o(s),a.current=s)},[s,a,o]),n}function yT({prop:e,defaultProp:t,onChange:n=()=>{}}){const[s,a]=cF({defaultProp:t,onChange:n}),o=e!==void 0,l=o?e:s,d=xT(n),f=Z.useCallback(h=>{if(o){const g=typeof h=="function"?h(e):h;g!==e&&d(g)}else a(h)},[o,e,a,d]);return[l,f]}function uF({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:s,overlayRef:a,fadeFromIndex:o,onSnapPointChange:l,direction:d="bottom",container:f,snapToSequentialPoint:h}){const[p,g]=yT({prop:e,defaultProp:n==null?void 0:n[0],onChange:t}),[b,y]=Z.useState(typeof window!="undefined"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);Z.useEffect(()=>{function $(){y({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",$),()=>window.removeEventListener("resize",$)},[]);const w=Z.useMemo(()=>p===(n==null?void 0:n[n.length-1])||null,[n,p]),_=Z.useMemo(()=>{var $;return($=n==null?void 0:n.findIndex(A=>A===p))!=null?$:null},[n,p]),j=n&&n.length>0&&(o||o===0)&&!Number.isNaN(o)&&n[o]===p||!n,S=Z.useMemo(()=>{const $=f?{width:f.getBoundingClientRect().width,height:f.getBoundingClientRect().height}:typeof window!="undefined"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var A;return(A=n==null?void 0:n.map(B=>{const J=typeof B=="string";let K=0;if(J&&(K=parseInt(B,10)),Yn(d)){const ee=J?K:b?B*$.height:0;return b?d==="bottom"?$.height-ee:-$.height+ee:ee}const I=J?K:b?B*$.width:0;return b?d==="right"?$.width-I:-$.width+I:I}))!=null?A:[]},[n,b,f]),C=Z.useMemo(()=>_!==null?S==null?void 0:S[_]:null,[S,_]),R=Z.useCallback($=>{var A;const B=(A=S==null?void 0:S.findIndex(J=>J===$))!=null?A:null;l(B),ts(s.current,{transition:`transform ${Tn.DURATION}s cubic-bezier(${Tn.EASE.join(",")})`,transform:Yn(d)?`translate3d(0, ${$}px, 0)`:`translate3d(${$}px, 0, 0)`}),S&&B!==S.length-1&&o!==void 0&&B!==o&&B<o?ts(a.current,{transition:`opacity ${Tn.DURATION}s cubic-bezier(${Tn.EASE.join(",")})`,opacity:"0"}):ts(a.current,{transition:`opacity ${Tn.DURATION}s cubic-bezier(${Tn.EASE.join(",")})`,opacity:"1"}),g(n==null?void 0:n[Math.max(B,0)])},[s.current,n,S,o,a,g]);Z.useEffect(()=>{if(p||e){var $;const A=($=n==null?void 0:n.findIndex(B=>B===e||B===p))!=null?$:-1;S&&A!==-1&&typeof S[A]=="number"&&R(S[A])}},[p,e,n,S,R]);function k({draggedDistance:$,closeDrawer:A,velocity:B,dismissible:J}){if(o===void 0)return;const K=d==="bottom"||d==="right"?(C!=null?C:0)-$:(C!=null?C:0)+$,I=_===o-1,ee=_===0,pe=$>0;if(I&&ts(a.current,{transition:`opacity ${Tn.DURATION}s cubic-bezier(${Tn.EASE.join(",")})`}),!h&&B>2&&!pe){J?A():R(S[0]);return}if(!h&&B>2&&pe&&S&&n){R(S[n.length-1]);return}const ne=S==null?void 0:S.reduce((te,Q)=>typeof te!="number"||typeof Q!="number"?te:Math.abs(Q-K)<Math.abs(te-K)?Q:te),V=Yn(d)?window.innerHeight:window.innerWidth;if(B>pT&&Math.abs($)<V*.4){const te=pe?1:-1;if(te>0&&w&&n){R(S[n.length-1]);return}if(ee&&te<0&&J&&A(),_===null)return;R(S[_+te]);return}R(ne)}function O({draggedDistance:$}){if(C===null)return;const A=d==="bottom"||d==="right"?C-$:C+$;(d==="bottom"||d==="right")&&A<S[S.length-1]||(d==="top"||d==="left")&&A>S[S.length-1]||ts(s.current,{transform:Yn(d)?`translate3d(0, ${A}px, 0)`:`translate3d(${A}px, 0, 0)`})}function D($,A){if(!n||typeof _!="number"||!S||o===void 0)return null;const B=_===o-1;if(_>=o&&A)return 0;if(B&&!A)return 1;if(!j&&!B)return null;const K=B?_+1:_-1,I=B?S[K]-S[K-1]:S[K+1]-S[K],ee=$/Math.abs(I);return B?1-ee:ee}return{isLastSnapPoint:w,activeSnapPoint:p,shouldFade:j,getPercentageDragged:D,setActiveSnapPoint:g,activeSnapPointIndex:_,onRelease:k,onDrag:O,snapPointsOffset:S}}const dF=()=>()=>{};function fF(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:s,noBodyStyles:a}=rd(),o=Z.useRef(null),l=N.useMemo(()=>document.body.style.backgroundColor,[]);function d(){return(window.innerWidth-tx)/window.innerWidth}Z.useEffect(()=>{if(t&&n){o.current&&clearTimeout(o.current);const f=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!f)return;iF(s&&!a?a0(document.body,{background:"black"}):dF,a0(f,{transformOrigin:Yn(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Tn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Tn.EASE.join(",")})`}));const h=a0(f,L({borderRadius:`${gT}px`,overflow:"hidden"},Yn(e)?{transform:`scale(${d()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${d()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}));return()=>{h(),o.current=window.setTimeout(()=>{l?document.body.style.background=l:document.body.style.removeProperty("background")},Tn.DURATION*1e3)}}},[t,n,l])}let _u=null;function hF({isOpen:e,modal:t,nested:n,hasBeenOpened:s,preventScrollRestoration:a,noBodyStyles:o}){const[l,d]=Z.useState(()=>typeof window!="undefined"?window.location.href:""),f=Z.useRef(0),h=Z.useCallback(()=>{if(hS()&&_u===null&&e&&!o){_u={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:g,innerHeight:b}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-f.current}px`,left:`${-g}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const y=b-window.innerHeight;y&&f.current>=b&&(document.body.style.top=`${-(f.current+y)}px`)}),300)}},[e]),p=Z.useCallback(()=>{if(hS()&&_u!==null&&!o){const g=-parseInt(document.body.style.top,10),b=-parseInt(document.body.style.left,10);Object.assign(document.body.style,_u),window.requestAnimationFrame(()=>{if(a&&l!==window.location.href){d(window.location.href);return}window.scrollTo(b,g)}),_u=null}},[l]);return Z.useEffect(()=>{function g(){f.current=window.scrollY}return g(),window.addEventListener("scroll",g),()=>{window.removeEventListener("scroll",g)}},[]),Z.useEffect(()=>{if(t)return()=>{typeof document=="undefined"||document.querySelector("[data-vaul-drawer]")||p()}},[t,p]),Z.useEffect(()=>{n||!s||(e?(!window.matchMedia("(display-mode: standalone)").matches&&h(),t||window.setTimeout(()=>{p()},500)):p())},[e,s,l,t,n,h,p]),{restorePositionSetting:p}}function mF({open:e,onOpenChange:t,children:n,onDrag:s,onRelease:a,snapPoints:o,shouldScaleBackground:l=!1,setBackgroundColorOnScale:d=!0,closeThreshold:f=oF,scrollLockTimeout:h=lF,dismissible:p=!0,handleOnly:g=!1,fadeFromIndex:b=o&&o.length-1,activeSnapPoint:y,setActiveSnapPoint:w,fixed:_,modal:j=!0,onClose:S,nested:C,noBodyStyles:R=!1,direction:k="bottom",defaultOpen:O=!1,disablePreventScroll:D=!0,snapToSequentialPoint:$=!1,preventScrollRestoration:A=!1,repositionInputs:B=!0,onAnimationEnd:J,container:K,autoFocus:I=!1}){var ee,pe;const[ne=!1,V]=yT({defaultProp:O,prop:e,onChange:Xe=>{t==null||t(Xe),!Xe&&!C&&Ie(),setTimeout(()=>{J==null||J(Xe)},Tn.DURATION*1e3),Xe&&!j&&typeof window!="undefined"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),Xe||(document.body.style.pointerEvents="auto")}}),[te,Q]=Z.useState(!1),[fe,F]=Z.useState(!1),[W,me]=Z.useState(!1),U=Z.useRef(null),re=Z.useRef(null),_e=Z.useRef(null),xe=Z.useRef(null),Ee=Z.useRef(null),Oe=Z.useRef(!1),$e=Z.useRef(null),Le=Z.useRef(0),lt=Z.useRef(!1),Ke=Z.useRef(!O),pt=Z.useRef(0),Pe=Z.useRef(null),ht=Z.useRef(((ee=Pe.current)==null?void 0:ee.getBoundingClientRect().height)||0),Ft=Z.useRef(((pe=Pe.current)==null?void 0:pe.getBoundingClientRect().width)||0),vt=Z.useRef(0),Dt=Z.useCallback(Xe=>{o&&Xe===Se.length-1&&(re.current=new Date)},[]),{activeSnapPoint:St,activeSnapPointIndex:Y,setActiveSnapPoint:le,onRelease:q,snapPointsOffset:Se,onDrag:De,shouldFade:Re,getPercentageDragged:Fe}=uF({snapPoints:o,activeSnapPointProp:y,setActiveSnapPointProp:w,drawerRef:Pe,fadeFromIndex:b,overlayRef:U,onSnapPointChange:Dt,direction:k,container:K,snapToSequentialPoint:$});J8({isDisabled:!ne||fe||!j||W||!te||!B||!D});const{restorePositionSetting:Ie}=hF({isOpen:ne,modal:j,nested:C!=null?C:!1,hasBeenOpened:te,preventScrollRestoration:A,noBodyStyles:R});function Qe(){return(window.innerWidth-tx)/window.innerWidth}function yt(Xe){var Pt,Ht;!p&&!o||Pe.current&&!Pe.current.contains(Xe.target)||(ht.current=((Pt=Pe.current)==null?void 0:Pt.getBoundingClientRect().height)||0,Ft.current=((Ht=Pe.current)==null?void 0:Ht.getBoundingClientRect().width)||0,F(!0),_e.current=new Date,dT()&&window.addEventListener("touchend",()=>Oe.current=!1,{once:!0}),Xe.target.setPointerCapture(Xe.pointerId),Le.current=Yn(k)?Xe.pageY:Xe.pageX)}function bn(Xe,Pt){var Ht;let Nt=Xe;const en=(Ht=window.getSelection())==null?void 0:Ht.toString(),Ge=Pe.current?Xf(Pe.current,k):null,jt=new Date;if(Nt.tagName==="SELECT"||Nt.hasAttribute("data-vaul-no-drag")||Nt.closest("[data-vaul-no-drag]"))return!1;if(k==="right"||k==="left")return!0;if(re.current&&jt.getTime()-re.current.getTime()<500)return!1;if(Ge!==null&&(k==="bottom"?Ge>0:Ge<0))return!0;if(en&&en.length>0)return!1;if(Ee.current&&jt.getTime()-Ee.current.getTime()<h&&Ge===0||Pt)return Ee.current=jt,!1;for(;Nt;){if(Nt.scrollHeight>Nt.clientHeight){if(Nt.scrollTop!==0)return Ee.current=new Date,!1;if(Nt.getAttribute("role")==="dialog")return!0}Nt=Nt.parentNode}return!0}function ct(Xe){if(Pe.current&&fe){const Pt=k==="bottom"||k==="right"?1:-1,Ht=(Le.current-(Yn(k)?Xe.pageY:Xe.pageX))*Pt,Nt=Ht>0,en=o&&!p&&!Nt;if(en&&Y===0)return;const Ge=Math.abs(Ht),jt=document.querySelector("[data-vaul-drawer-wrapper]"),It=k==="bottom"||k==="top"?ht.current:Ft.current;let Xt=Ge/It;const G=Fe(Ge,Nt);if(G!==null&&(Xt=G),en&&Xt>=1||!Oe.current&&!bn(Xe.target,Nt))return;if(Pe.current.classList.add(i0),Oe.current=!0,ts(Pe.current,{transition:"none"}),ts(U.current,{transition:"none"}),o&&De({draggedDistance:Ht}),Nt&&!o){const ue=aF(Ht),je=Math.min(ue*-1,0)*Pt;ts(Pe.current,{transform:Yn(k)?`translate3d(0, ${je}px, 0)`:`translate3d(${je}px, 0, 0)`});return}const ae=1-Xt;if((Re||b&&Y===b-1)&&(s==null||s(Xe,Xt),ts(U.current,{opacity:`${ae}`,transition:"none"},!0)),jt&&U.current&&l){const ue=Math.min(Qe()+Xt*(1-Qe()),1),je=8-Xt*8,Ae=Math.max(0,14-Xt*14);ts(jt,{borderRadius:`${je}px`,transform:Yn(k)?`scale(${ue}) translate3d(0, ${Ae}px, 0)`:`scale(${ue}) translate3d(${Ae}px, 0, 0)`,transition:"none"},!0)}if(!o){const ue=Ge*Pt;ts(Pe.current,{transform:Yn(k)?`translate3d(0, ${ue}px, 0)`:`translate3d(${ue}px, 0, 0)`})}}}Z.useEffect(()=>{window.requestAnimationFrame(()=>{Ke.current=!0})},[]),Z.useEffect(()=>{var Xe;function Pt(){if(!Pe.current||!B)return;const Ht=document.activeElement;if(ex(Ht)||lt.current){var Nt;const en=((Nt=window.visualViewport)==null?void 0:Nt.height)||0,Ge=window.innerHeight;let jt=Ge-en;const It=Pe.current.getBoundingClientRect().height||0,Xt=It>Ge*.8;vt.current||(vt.current=It);const G=Pe.current.getBoundingClientRect().top;if(Math.abs(pt.current-jt)>60&&(lt.current=!lt.current),o&&o.length>0&&Se&&Y){const ae=Se[Y]||0;jt+=ae}if(pt.current=jt,It>en||lt.current){const ae=Pe.current.getBoundingClientRect().height;let ue=ae;ae>en&&(ue=en-(Xt?G:tx)),_?Pe.current.style.height=`${ae-Math.max(jt,0)}px`:Pe.current.style.height=`${Math.max(ue,en-G)}px`}else Y8()||(Pe.current.style.height=`${vt.current}px`);o&&o.length>0&&!lt.current?Pe.current.style.bottom="0px":Pe.current.style.bottom=`${Math.max(jt,0)}px`}}return(Xe=window.visualViewport)==null||Xe.addEventListener("resize",Pt),()=>{var Ht;return(Ht=window.visualViewport)==null?void 0:Ht.removeEventListener("resize",Pt)}},[Y,o,Se]);function ke(Xe){Mt(),S==null||S(),Xe||V(!1),setTimeout(()=>{o&&le(o[0])},Tn.DURATION*1e3)}function He(){if(!Pe.current)return;const Xe=document.querySelector("[data-vaul-drawer-wrapper]"),Pt=Xf(Pe.current,k);ts(Pe.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Tn.DURATION}s cubic-bezier(${Tn.EASE.join(",")})`}),ts(U.current,{transition:`opacity ${Tn.DURATION}s cubic-bezier(${Tn.EASE.join(",")})`,opacity:"1"}),l&&Pt&&Pt>0&&ne&&ts(Xe,de(L({borderRadius:`${gT}px`,overflow:"hidden"},Yn(k)?{transform:`scale(${Qe()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Qe()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"}),{transitionProperty:"transform, border-radius",transitionDuration:`${Tn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Tn.EASE.join(",")})`}),!0)}function Mt(){!fe||!Pe.current||(Pe.current.classList.remove(i0),Oe.current=!1,F(!1),xe.current=new Date)}function Sn(Xe){if(!fe||!Pe.current)return;Pe.current.classList.remove(i0),Oe.current=!1,F(!1),xe.current=new Date;const Pt=Xf(Pe.current,k);if(!Xe||!bn(Xe.target,!1)||!Pt||Number.isNaN(Pt)||_e.current===null)return;const Ht=xe.current.getTime()-_e.current.getTime(),Nt=Le.current-(Yn(k)?Xe.pageY:Xe.pageX),en=Math.abs(Nt)/Ht;if(en>.05&&(me(!0),setTimeout(()=>{me(!1)},200)),o){q({draggedDistance:Nt*(k==="bottom"||k==="right"?1:-1),closeDrawer:ke,velocity:en,dismissible:p}),a==null||a(Xe,!0);return}if(k==="bottom"||k==="right"?Nt>0:Nt<0){He(),a==null||a(Xe,!0);return}if(en>pT){ke(),a==null||a(Xe,!1);return}var Ge;const jt=Math.min((Ge=Pe.current.getBoundingClientRect().height)!=null?Ge:0,window.innerHeight);var It;const Xt=Math.min((It=Pe.current.getBoundingClientRect().width)!=null?It:0,window.innerWidth),G=k==="left"||k==="right";if(Math.abs(Pt)>=(G?Xt:jt)*f){ke(),a==null||a(Xe,!1);return}a==null||a(Xe,!0),He()}Z.useEffect(()=>(ne&&(ts(document.documentElement,{scrollBehavior:"auto"}),re.current=new Date),()=>{rF(document.documentElement,"scrollBehavior")}),[ne]);function as(Xe){const Pt=Xe?(window.innerWidth-yo)/window.innerWidth:1,Ht=Xe?-yo:0;$e.current&&window.clearTimeout($e.current),ts(Pe.current,{transition:`transform ${Tn.DURATION}s cubic-bezier(${Tn.EASE.join(",")})`,transform:Yn(k)?`scale(${Pt}) translate3d(0, ${Ht}px, 0)`:`scale(${Pt}) translate3d(${Ht}px, 0, 0)`}),!Xe&&Pe.current&&($e.current=setTimeout(()=>{const Nt=Xf(Pe.current,k);ts(Pe.current,{transition:"none",transform:Yn(k)?`translate3d(0, ${Nt}px, 0)`:`translate3d(${Nt}px, 0, 0)`})},500))}function Hn(Xe,Pt){if(Pt<0)return;const Ht=(window.innerWidth-yo)/window.innerWidth,Nt=Ht+Pt*(1-Ht),en=-yo+Pt*yo;ts(Pe.current,{transform:Yn(k)?`scale(${Nt}) translate3d(0, ${en}px, 0)`:`scale(${Nt}) translate3d(${en}px, 0, 0)`,transition:"none"})}function ds(Xe,Pt){const Ht=Yn(k)?window.innerHeight:window.innerWidth,Nt=Pt?(Ht-yo)/Ht:1,en=Pt?-yo:0;Pt&&ts(Pe.current,{transition:`transform ${Tn.DURATION}s cubic-bezier(${Tn.EASE.join(",")})`,transform:Yn(k)?`scale(${Nt}) translate3d(0, ${en}px, 0)`:`scale(${Nt}) translate3d(${en}px, 0, 0)`})}return Z.useEffect(()=>{j||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[j]),Z.createElement(Sy,{defaultOpen:O,onOpenChange:Xe=>{!p&&!Xe||(Xe?Q(!0):ke(!0),V(Xe))},open:ne},Z.createElement(uT.Provider,{value:{activeSnapPoint:St,snapPoints:o,setActiveSnapPoint:le,drawerRef:Pe,overlayRef:U,onOpenChange:t,onPress:yt,onRelease:Sn,onDrag:ct,dismissible:p,shouldAnimate:Ke,handleOnly:g,isOpen:ne,isDragging:fe,shouldFade:Re,closeDrawer:ke,onNestedDrag:Hn,onNestedOpenChange:as,onNestedRelease:ds,keyboardIsOpen:lt,modal:j,snapPointsOffset:Se,activeSnapPointIndex:Y,direction:k,shouldScaleBackground:l,setBackgroundColorOnScale:d,noBodyStyles:R,container:K,autoFocus:I}},n))}const bT=Z.forwardRef(function(n,t){var e=Me(n,[]);const{overlayRef:s,snapPoints:a,onRelease:o,shouldFade:l,isOpen:d,modal:f,shouldAnimate:h}=rd(),p=hT(t,s),g=a&&a.length>0;if(!f)return null;const b=Z.useCallback(y=>o(y),[o]);return Z.createElement(Ey,L({onMouseUp:b,ref:p,"data-vaul-overlay":"","data-vaul-snap-points":d&&g?"true":"false","data-vaul-snap-points-overlay":d&&l?"true":"false","data-vaul-animate":h!=null&&h.current?"true":"false"},e))});bT.displayName="Drawer.Overlay";const vT=Z.forwardRef(function(o,a){var l=o,{onPointerDownOutside:e,style:t,onOpenAutoFocus:n}=l,s=Me(l,["onPointerDownOutside","style","onOpenAutoFocus"]);const{drawerRef:d,onPress:f,onRelease:h,onDrag:p,keyboardIsOpen:g,snapPointsOffset:b,activeSnapPointIndex:y,modal:w,isOpen:_,direction:j,snapPoints:S,container:C,handleOnly:R,shouldAnimate:k,autoFocus:O}=rd(),[D,$]=Z.useState(!1),A=hT(a,d),B=Z.useRef(null),J=Z.useRef(null),K=Z.useRef(!1),I=S&&S.length>0;fF();const ee=(ne,V,te=0)=>{if(K.current)return!0;const Q=Math.abs(ne.y),fe=Math.abs(ne.x),F=fe>Q,W=["bottom","right"].includes(V)?1:-1;if(V==="left"||V==="right"){if(!(ne.x*W<0)&&fe>=0&&fe<=te)return F}else if(!(ne.y*W<0)&&Q>=0&&Q<=te)return!F;return K.current=!0,!0};Z.useEffect(()=>{I&&window.requestAnimationFrame(()=>{$(!0)})},[]);function pe(ne){B.current=null,K.current=!1,h(ne)}return Z.createElement(Ty,de(L({"data-vaul-drawer-direction":j,"data-vaul-drawer":"","data-vaul-delayed-snap-points":D?"true":"false","data-vaul-snap-points":_&&I?"true":"false","data-vaul-custom-container":C?"true":"false","data-vaul-animate":k!=null&&k.current?"true":"false"},s),{ref:A,style:b&&b.length>0?L({"--snap-point-height":`${b[y!=null?y:0]}px`},t):t,onPointerDown:ne=>{R||(s.onPointerDown==null||s.onPointerDown.call(s,ne),B.current={x:ne.pageX,y:ne.pageY},f(ne))},onOpenAutoFocus:ne=>{n==null||n(ne),O||ne.preventDefault()},onPointerDownOutside:ne=>{if(e==null||e(ne),!w||ne.defaultPrevented){ne.preventDefault();return}g.current&&(g.current=!1)},onFocusOutside:ne=>{if(!w){ne.preventDefault();return}},onPointerMove:ne=>{if(J.current=ne,R||(s.onPointerMove==null||s.onPointerMove.call(s,ne),!B.current))return;const V=ne.pageY-B.current.y,te=ne.pageX-B.current.x,Q=ne.pointerType==="touch"?10:2;ee({x:te,y:V},j,Q)?p(ne):(Math.abs(te)>Q||Math.abs(V)>Q)&&(B.current=null)},onPointerUp:ne=>{s.onPointerUp==null||s.onPointerUp.call(s,ne),B.current=null,K.current=!1,h(ne)},onPointerOut:ne=>{s.onPointerOut==null||s.onPointerOut.call(s,ne),pe(J.current)},onContextMenu:ne=>{s.onContextMenu==null||s.onContextMenu.call(s,ne),J.current&&pe(J.current)}}))});vT.displayName="Drawer.Content";const pF=250,gF=120,xF=Z.forwardRef(function(a,s){var o=a,{preventCycle:e=!1,children:t}=o,n=Me(o,["preventCycle","children"]);const{closeDrawer:l,isDragging:d,snapPoints:f,activeSnapPoint:h,setActiveSnapPoint:p,dismissible:g,handleOnly:b,isOpen:y,onPress:w,onDrag:_}=rd(),j=Z.useRef(null),S=Z.useRef(!1);function C(){if(S.current){O();return}window.setTimeout(()=>{R()},gF)}function R(){if(d||e||S.current){O();return}if(O(),!f||f.length===0){g||l();return}if(h===f[f.length-1]&&g){l();return}const $=f.findIndex(B=>B===h);if($===-1)return;const A=f[$+1];p(A)}function k(){j.current=window.setTimeout(()=>{S.current=!0},pF)}function O(){j.current&&window.clearTimeout(j.current),S.current=!1}return Z.createElement("div",L({onClick:C,onPointerCancel:O,onPointerDown:D=>{b&&w(D),k()},onPointerMove:D=>{b&&_(D)},ref:s,"data-vaul-drawer-visible":y?"true":"false","data-vaul-handle":"","aria-hidden":"true"},n),Z.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});xF.displayName="Drawer.Handle";function yF(e){const t=rd(),a=e,{container:n=t.container}=a,s=Me(a,["container"]);return Z.createElement(Ny,L({container:n},s))}const ic={Root:mF,Content:vT,Overlay:bT,Portal:yF,Title:JE,Description:eT};function bF(t){var e=Me(t,[]);return c.jsx(ic.Root,L({"data-slot":"drawer"},e))}function vF(t){var e=Me(t,[]);return c.jsx(ic.Portal,L({"data-slot":"drawer-portal"},e))}function wF(n){var s=n,{className:e}=s,t=Me(s,["className"]);return c.jsx(ic.Overlay,L({"data-slot":"drawer-overlay",className:jn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e)},t))}function _F(s){var a=s,{className:e,children:t}=a,n=Me(a,["className","children"]);return c.jsxs(vF,{"data-slot":"drawer-portal",children:[c.jsx(wF,{}),c.jsxs(ic.Content,de(L({"data-slot":"drawer-content",className:jn("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-2/3 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",e)},n),{children:[c.jsx("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),t]}))]})}function jF(n){var s=n,{className:e}=s,t=Me(s,["className"]);return c.jsx("div",L({"data-slot":"drawer-header",className:jn("flex flex-col gap-0.5 p-4 group-data-[vaul-drawer-direction=bottom]/drawer-content:text-center group-data-[vaul-drawer-direction=top]/drawer-content:text-center md:gap-1.5 md:text-left",e)},t))}function SF(n){var s=n,{className:e}=s,t=Me(s,["className"]);return c.jsx("div",L({"data-slot":"drawer-footer",className:jn("mt-auto flex flex-col gap-2 p-4",e)},t))}function NF(n){var s=n,{className:e}=s,t=Me(s,["className"]);return c.jsx(ic.Title,L({"data-slot":"drawer-title",className:jn("text-foreground font-semibold",e)},t))}function EF(n){var s=n,{className:e}=s,t=Me(s,["className"]);return c.jsx(ic.Description,L({"data-slot":"drawer-description",className:jn("text-muted-foreground text-sm",e)},t))}const oc=e=>{const{data:t,isLoading:n,error:s}=ss("Project",e,{fields:["name","users"]}),{data:a,isLoading:o}=ss("Project",(t==null?void 0:t.name)||"",t!=null&&t.name?"Project":void 0);return{data:(a==null?void 0:a.users)||(t==null?void 0:t.users)||[],isLoading:n||o,error:s}};class wT{static useUpdatePhase(){const{updateDoc:t,loading:n,error:s}=$s();return{updatePhase:(o,l)=>ye(null,null,function*(){return t("project_phase",o,l)}),isLoading:n,error:s}}static usePhaseAssignment(){const{createDoc:t}=zi(),{deleteDoc:n}=Hh(),{data:s}=ss("User","",{shouldFetch:!0});return{assignPhase:(l,d)=>ye(null,null,function*(){return t("ToDo",{allocated_to:d,assigned_by:(s==null?void 0:s.name)||"",reference_type:"project_phase",reference_name:l,description:`Assigned to phase: ${l}`,status:"Open"})}),unassignPhase:l=>ye(null,null,function*(){return n("ToDo",l)})}}}const TF=wT.useUpdatePhase,_T=wT.usePhaseAssignment,kF=({isOpen:e,onClose:t,projectName:n,onSuccess:s})=>{const[a,o]=N.useState({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),{createDoc:l,loading:d,error:f}=zi(),{assignPhase:h}=_T(),{data:p,isLoading:g}=oc(n),b=(_,j)=>{o(S=>de(L({},S),{[_]:j}))},y=_=>ye(null,null,function*(){if(_.preventDefault(),!!a.subject.trim())try{const j=a,{assign_to:S}=j,C=Me(j,["assign_to"]),R=yield l("project_phase",{project:n,subject:C.subject,start_date:C.start_date||null,end_date:C.end_date||null,priority:C.priority,details:C.details||null,costing:C.costing||0,status:"Open",progress:0});S&&R&&(yield h(R.name,S)),o({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),s&&s(),t()}catch(S){console.error("Failed to create project phase:",S)}}),w=()=>{o({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),t()};return c.jsx(xs,{open:e,onOpenChange:w,children:c.jsxs(ys,{className:"sm:max-w-[500px]",children:[c.jsxs(bs,{children:[c.jsx(ws,{children:"Create New Project Phase"}),c.jsxs(Co,{children:['Add a new phase to organize tasks and milestones for "',n,'".']})]}),c.jsxs("form",{onSubmit:y,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"subject",children:"Phase Name *"}),c.jsx(Bt,{id:"subject",value:a.subject,onChange:_=>b("subject",_.target.value),placeholder:"e.g., Planning, Development, Testing",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"priority",children:"Priority"}),c.jsxs("select",{id:"priority",value:a.priority,onChange:_=>b("priority",_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"Low",children:"Low"}),c.jsx("option",{value:"Medium",children:"Medium"}),c.jsx("option",{value:"High",children:"High"}),c.jsx("option",{value:"Critical",children:"Critical"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"start_date",children:"Start Date"}),c.jsxs("div",{className:"relative",children:[c.jsx(Bt,{id:"start_date",type:"date",value:a.start_date,onChange:_=>b("start_date",_.target.value)}),c.jsx(rr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"end_date",children:"End Date"}),c.jsxs("div",{className:"relative",children:[c.jsx(Bt,{id:"end_date",type:"date",value:a.end_date,onChange:_=>b("end_date",_.target.value),min:a.start_date||void 0}),c.jsx(rr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"costing",children:"Estimated Cost"}),c.jsx(Bt,{id:"costing",type:"number",value:a.costing,onChange:_=>b("costing",parseFloat(_.target.value)||0),placeholder:"0",min:"0",step:"0.01"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"assign_to",children:"Assign To"}),c.jsxs("select",{id:"assign_to",value:a.assign_to,onChange:_=>b("assign_to",_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:g,children:[c.jsx("option",{value:"",children:"Select user..."}),p==null?void 0:p.map(_=>c.jsx("option",{value:_.user||_.name,children:_.user||_.name},_.name))]}),g&&c.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"details",children:"Description"}),c.jsx("textarea",{id:"details",value:a.details,onChange:_=>b("details",_.target.value),placeholder:"Phase description, objectives, and key deliverables...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3})]}),f&&c.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:c.jsx("p",{className:"text-sm text-red-600",children:f.message||"Failed to create project phase. Please try again."})}),c.jsxs(vs,{children:[c.jsx(We,{type:"button",variant:"outline",onClick:w,disabled:d,children:"Cancel"}),c.jsxs(We,{type:"submit",disabled:d||!a.subject.trim(),className:"flex items-center gap-2",children:[d&&c.jsx(N0,{className:"h-4 w-4 animate-spin"}),"Create Phase"]})]})]})]})})},CF=({isOpen:e,onClose:t,projectName:n,onSuccess:s})=>{const[a,o]=N.useState({subject:"",description:"",priority:"Medium",exp_start_date:"",exp_end_date:"",status:"Open"}),{createDoc:l,loading:d,error:f}=zi(),h=g=>ye(null,null,function*(){if(g.preventDefault(),!!a.subject.trim())try{yield l("Task",{subject:a.subject,description:a.description,priority:a.priority,exp_start_date:a.exp_start_date||null,exp_end_date:a.exp_end_date||null,status:a.status,project:n,is_template:0,progress:0}),o({subject:"",description:"",priority:"Medium",exp_start_date:"",exp_end_date:"",status:"Open"}),s==null||s(),t()}catch(b){console.error("Error creating standalone task:",b)}}),p=(g,b)=>{o(y=>de(L({},y),{[g]:b}))};return c.jsx(xs,{open:e,onOpenChange:t,children:c.jsxs(ys,{className:"sm:max-w-[500px]",children:[c.jsx(bs,{children:c.jsx(ws,{className:"flex items-center justify-between",children:"Create Standalone Task"})}),c.jsxs("form",{onSubmit:h,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"subject",children:"Task Subject *"}),c.jsx(Bt,{id:"subject",value:a.subject,onChange:g=>p("subject",g.target.value),placeholder:"Enter task subject",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"description",children:"Description"}),c.jsx("textarea",{id:"description",value:a.description,onChange:g=>p("description",g.target.value),placeholder:"Enter task description (optional)",rows:3,className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"priority",children:"Priority"}),c.jsxs("select",{id:"priority",value:a.priority,onChange:g=>p("priority",g.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[c.jsx("option",{value:"Low",children:"Low"}),c.jsx("option",{value:"Medium",children:"Medium"}),c.jsx("option",{value:"High",children:"High"}),c.jsx("option",{value:"Urgent",children:"Urgent"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"status",children:"Status"}),c.jsxs("select",{id:"status",value:a.status,onChange:g=>p("status",g.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[c.jsx("option",{value:"Open",children:"Open"}),c.jsx("option",{value:"Working",children:"Working"}),c.jsx("option",{value:"Pending Review",children:"Pending Review"}),c.jsx("option",{value:"Overdue",children:"Overdue"}),c.jsx("option",{value:"Template",children:"Template"}),c.jsx("option",{value:"Completed",children:"Completed"}),c.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"exp_start_date",children:"Expected Start Date"}),c.jsx(Bt,{id:"exp_start_date",type:"date",value:a.exp_start_date,onChange:g=>p("exp_start_date",g.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"exp_end_date",children:"Expected End Date"}),c.jsx(Bt,{id:"exp_end_date",type:"date",value:a.exp_end_date,onChange:g=>p("exp_end_date",g.target.value)})]})]}),f&&c.jsxs("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded-md",children:["Error creating task: ",f.message]}),c.jsxs(vs,{children:[c.jsx(We,{type:"button",variant:"outline",onClick:t,disabled:d,children:"Cancel"}),c.jsx(We,{type:"submit",disabled:d||!a.subject.trim(),children:d?"Creating...":"Create Task"})]})]})]})})},AF=({projectName:e,onViewPhaseDetails:t,onViewTaskDetails:n,onViewSubTaskDetails:s})=>{const[a,o]=N.useState(new Set),[l,d]=N.useState(new Set),[f,h]=N.useState(!1),[p,g]=N.useState(!1),[b,y]=N.useState([]),[w,_]=N.useState({visible:!1,text:"",x:0,y:0}),{data:j,isLoading:S,mutate:C}=dn("project_phase",{fields:["name","subject","status","priority","start_date","end_date","progress","details","costing"],filters:[["project","=",e]],orderBy:{field:"start_date",order:"asc"},limit:0});N.useEffect(()=>{j&&j.length>0?ye(null,null,function*(){const me=[];for(const U of j)try{const re=yield fetch(`/api/resource/project_phase/${U.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(re.ok){const _e=yield re.json();me.push(_e.data)}else console.warn("Failed to fetch phase:",U.name),me.push(U)}catch(re){console.error("Error fetching phase:",U.name,re),me.push(U)}y(me)}):y([])},[j==null?void 0:j.length,j==null?void 0:j.map(W=>W.name).join(",")]);const{data:R,isLoading:k,mutate:O}=dn("Task",{fields:["name","subject","status","priority","project","exp_start_date","exp_end_date","progress"],filters:[["project","=",e]],orderBy:{field:"exp_start_date",order:"asc"},limit:0}),D=(R==null?void 0:R.map(W=>W.name))||[],{data:$,isLoading:A}=dn("SubTask",{fields:["name","subject","task","status","progress","start_date","end_date","description"],filters:D.length>0?[["task","in",D]]:[["task","=","dummy-non-existent-task"]],orderBy:{field:"start_date",order:"asc"},limit:0}),B=W=>{const me=new Set(a);me.has(W)?me.delete(W):me.add(W),o(me)},J=W=>{const me=new Set(l);me.has(W)?me.delete(W):me.add(W),d(me)},K=W=>{switch(W){case"Completed":return c.jsx(Ih,{className:"h-4 w-4 text-green-600"});case"Working":return c.jsx(Ao,{className:"h-4 w-4 text-yellow-600"});default:return c.jsx(KD,{className:"h-4 w-4 text-gray-400"})}},I=W=>{switch(W){case"Completed":return"bg-green-100 text-green-800";case"Working":return"bg-yellow-100 text-yellow-800";default:return"bg-blue-100 text-blue-800"}},ee=W=>{switch(W){case"Urgent":return"bg-red-100 text-red-800";case"High":return"bg-orange-100 text-orange-800";case"Medium":return"bg-yellow-100 text-yellow-800";default:return"bg-green-100 text-green-800"}},pe=(W,me)=>{if(W.length>30){const U=me.currentTarget.getBoundingClientRect(),re=document.querySelector(".bg-white.border.border-gray-200.rounded-lg"),_e=re==null?void 0:re.getBoundingClientRect();_({visible:!0,text:W,x:_e?_e.left+24:50,y:U.top-8})}},ne=()=>{_({visible:!1,text:"",x:0,y:0})},V=(W,me,U,re=!1,_e=!1,xe)=>{let Ee={},Oe="";me===1?(Oe="pl-8",Ee={paddingLeft:"2rem"}):me===2?(Oe="pl-16",Ee={paddingLeft:"4rem"}):me>2&&(Ee={paddingLeft:`${1+me*1}rem`});let $e="",Le="mr-3 text-lg",lt="";U==="phase"?lt="📋":U==="task"?lt="📝":U==="phase-task"?lt="📄":U==="subtask"&&(lt="📌"),U==="phase"||U==="task"&&re||U==="phase-task"&&re?($e=_e?"▼":"▶️",Le+=" text-blue-600 cursor-pointer hover:text-blue-800 transition-colors"):U==="phase-task"?($e="•",Le+=" text-green-500"):U==="subtask"?($e="◦",Le+=" text-gray-400"):U==="task"?($e="●",Le+=" text-orange-500"):($e="●",Le+=" text-gray-400");const Ke=W.subject||W.name,pt=W.status||"Open",Pe=W.progress||0,ht=Y=>{Y.preventDefault(),Y.stopPropagation(),xe&&xe()},Ft=Y=>{Y.preventDefault(),Y.stopPropagation(),U==="phase"&&t?t(W):(U==="task"||U==="phase-task")&&n?n(W):U==="subtask"&&s&&s(W)},vt=Y=>{Y.preventDefault(),Y.stopPropagation(),re&&xe&&xe()};let Dt="hover:bg-gray-50",St="";return me===1?(Dt="bg-blue-50/30 hover:bg-blue-50",St="border-l-4 border-l-blue-300"):me===2&&(Dt="bg-green-50/30 hover:bg-green-50",St="border-l-4 border-l-green-300"),c.jsx("div",{className:`${Dt} ${St} transition-colors`,children:c.jsxs("div",{className:"grid grid-cols-12 gap-4 py-3 px-6 border-b border-gray-100 items-center cursor-pointer",onClick:vt,onDoubleClick:Ft,children:[c.jsxs("div",{className:`col-span-5 flex items-center ${Oe}`,style:me>0?Ee:{},children:[c.jsx("span",{className:Le,onClick:ht,role:xe?"button":void 0,tabIndex:xe?0:void 0,children:$e}),c.jsx("span",{className:"mr-2 text-lg",children:lt}),K(pt),c.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[c.jsx("div",{className:`font-medium truncate ${U==="phase"?"text-blue-900 text-lg":U==="task"?"text-orange-900":U==="phase-task"?"text-green-900":"text-gray-700"}`,onMouseEnter:Y=>pe(Ke,Y),onMouseLeave:ne,title:Ke.length>30?Ke:void 0,children:Ke}),W.description&&U==="subtask"&&c.jsx("p",{className:"text-sm text-gray-500 mt-1 truncate",onMouseEnter:Y=>pe(W.description,Y),onMouseLeave:ne,title:W.description.length>50?W.description:void 0,children:W.description}),W.details&&U==="phase"&&c.jsx("p",{className:"text-sm text-gray-600 mt-1 truncate",onMouseEnter:Y=>pe(W.details,Y),onMouseLeave:ne,title:W.details.length>50?W.details:void 0,children:W.details})]})]}),c.jsx("div",{className:"col-span-2 text-center",children:c.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${I(pt)}`,children:pt})}),c.jsx("div",{className:"col-span-2 text-center",children:W.priority&&c.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${ee(W.priority)}`,children:W.priority})}),c.jsxs("div",{className:"col-span-3 flex items-center justify-start space-x-2",children:[U!=="subtask"&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:`${U==="phase"?"w-20":"w-16"} bg-gray-200 rounded-full h-2`,children:c.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${Pe}%`}})}),c.jsxs("span",{className:"text-sm text-gray-600 w-12 text-left flex-shrink-0",children:[Pe,"%"]})]}),c.jsxs("div",{className:"ml-auto",children:[U==="phase"&&t&&c.jsx(We,{variant:"outline",size:"sm",onClick:Y=>{Y.preventDefault(),Y.stopPropagation(),t(W)},className:"h-7 px-2 text-xs",children:"View Details"}),(U==="task"||U==="phase-task")&&n&&c.jsx(We,{variant:"outline",size:"sm",onClick:Y=>{Y.preventDefault(),Y.stopPropagation(),n(W)},className:"h-7 px-2 text-xs",children:"View Details"}),U==="subtask"&&s&&c.jsx(We,{variant:"outline",size:"sm",onClick:Y=>{Y.preventDefault(),Y.stopPropagation(),s(W)},className:"h-7 px-2 text-xs",children:"View Details"})]})]})]})},`${U}-${W.name}`)};if(S||k||A)return c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"})]});const te=b.length>0?b:j||[],Q=R||[],fe=$||[],F=W=>fe.filter(me=>me.task===W);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Project Tasks & Phases"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(We,{size:"sm",variant:"outline",className:"flex items-center gap-2",onClick:()=>g(!0),children:[c.jsx(Ai,{className:"h-4 w-4"}),"Add Task"]}),c.jsxs(We,{size:"sm",className:"flex items-center gap-2",onClick:()=>h(!0),children:[c.jsx(Ai,{className:"h-4 w-4"}),"Add Phase"]})]})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[c.jsxs("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-200 grid grid-cols-12 gap-4 text-sm font-medium text-gray-700",children:[c.jsx("div",{className:"col-span-5",children:"Task / Phase"}),c.jsx("div",{className:"col-span-2 text-center",children:"Status"}),c.jsx("div",{className:"col-span-2 text-center",children:"Priority"}),c.jsx("div",{className:"col-span-3 text-left",children:"Progress"})]}),c.jsxs("div",{className:"divide-y divide-gray-100",children:[te.map(W=>{const me=a.has(W.name),U=W.tasks||[];return c.jsxs("div",{children:[V(W,0,"phase",U.length>0,me,()=>{B(W.name)}),me&&U.map((re,_e)=>{const xe=Q.find(Le=>Le.name===re.task),Ee=F(re.task),Oe=Ee.length>0,$e=l.has(re.task);if(!xe){const Le={name:re.task,subject:re.task,status:"Open"};return c.jsxs("div",{children:[V(Le,1,"phase-task",Oe,$e,Oe?()=>{J(re.task)}:void 0),$e&&Oe&&Ee.map((lt,Ke)=>c.jsx("div",{children:V(lt,2,"subtask",!1,!1)},`subtask-${Ke}`))]},`phase-task-${_e}`)}return c.jsxs("div",{children:[V(xe,1,"phase-task",Oe,$e,Oe?()=>{J(xe.name)}:void 0),$e&&Oe&&Ee.map((Le,lt)=>c.jsx("div",{children:V(Le,2,"subtask",!1,!1)},`subtask-${lt}`))]},`phase-task-${_e}`)})]},W.name)}),te.length>0&&Q.filter(W=>!te.some(U=>{var re;return(re=U.tasks)==null?void 0:re.some(_e=>_e.task===W.name)})).length>0&&c.jsx("div",{className:"bg-gray-100 px-6 py-2 border-b border-gray-200",children:c.jsxs("div",{className:"text-sm font-medium text-gray-600 flex items-center",children:[c.jsx("span",{className:"mr-2",children:"📝"}),"Standalone Tasks"]})}),Q.filter(W=>!te.some(U=>{var re;return(re=U.tasks)==null?void 0:re.some(_e=>_e.task===W.name)})).map(W=>{const me=l.has(W.name),U=F(W.name),re=U.length>0;return c.jsxs("div",{children:[V(W,0,"task",re,me,re?()=>{J(W.name)}:void 0),me&&re&&U.map((_e,xe)=>c.jsx("div",{children:V(_e,1,"subtask",!1,!1)},`standalone-subtask-${xe}`))]},W.name)})]})]}),te.length===0&&Q.length===0&&c.jsx("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:c.jsxs("div",{className:"max-w-md mx-auto",children:[c.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"📋"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No phases or tasks yet"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Start organizing your project by creating phases and tasks."}),c.jsxs("div",{className:"flex gap-3 justify-center",children:[c.jsx(We,{onClick:()=>h(!0),children:"Create First Phase"}),c.jsx(We,{variant:"outline",onClick:()=>g(!0),children:"Create Task"})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-6 border-t border-gray-200",children:[c.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-600",children:te.length}),c.jsx("div",{className:"text-sm text-blue-600",children:"Total Phases"})]}),c.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-green-600",children:Q.length}),c.jsx("div",{className:"text-sm text-green-600",children:"Total Tasks"})]}),c.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-purple-600",children:fe.length}),c.jsx("div",{className:"text-sm text-purple-600",children:"Total Subtasks"})]})]}),c.jsx(kF,{isOpen:f,onClose:()=>h(!1),projectName:e,onSuccess:()=>{C()}}),c.jsx(CF,{isOpen:p,onClose:()=>g(!1),projectName:e,onSuccess:()=>{O()}}),w.visible&&c.jsxs("div",{className:"fixed z-50 bg-gray-900 text-white text-sm px-4 py-2 rounded-lg shadow-xl pointer-events-none border border-gray-700",style:{left:w.x,top:w.y,transform:"translateY(-100%)",maxWidth:"400px",minWidth:"200px",wordWrap:"break-word"},children:[c.jsx("div",{className:"font-medium leading-relaxed",children:w.text}),c.jsx("div",{className:"absolute top-full w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900",style:{left:"20px"}})]})]})};class OF{static useCreatePhaseTask(){const{createDoc:t,loading:n}=zi(),{call:s}=gs("frappe.client.insert"),{call:a}=gs("frappe.client.save"),{data:o}=ss("User","",{shouldFetch:!0});return{createTaskWithPhase:d=>ye(null,null,function*(){try{const f=yield t("Task",{subject:d.subject,description:d.description,priority:d.priority,status:d.status,type:d.type,expected_time:d.expected_time,task_weight:d.task_weight,exp_start_date:d.exp_start_date||null,exp_end_date:d.exp_end_date||null,project:d.project});console.log("Task created successfully:",f);let h=null;if(d.assign_to&&f)try{h=yield s({doc:{doctype:"ToDo",allocated_to:d.assign_to,assigned_by:(o==null?void 0:o.name)||"",description:`Task: ${d.subject}`,reference_type:"Task",reference_name:f.name,status:"Open",priority:d.priority,date:new Date().toISOString().split("T")[0]}}),console.log("ToDo created successfully:",h)}catch(p){console.error("Error creating ToDo:",p)}if(d.phaseId&&f){const p={parent:d.phaseId,parenttype:"project_phase",parentfield:"tasks",task:f.name,task_name:f.subject,status:f.status,start_date:f.exp_start_date,end_date:f.exp_end_date,description:f.description},g=yield s({doc:L({doctype:"Project Phase Task"},p)});console.log("Project Phase Task created successfully:",g);try{console.log("Saving parent phase document to commit child table changes...");const b=yield a({doc:{doctype:"project_phase",name:d.phaseId}});console.log("Parent phase saved successfully:",b)}catch(b){console.warn("Failed to save parent phase, but child was created:",b)}return{success:!0,task:f,phaseTask:g,todo:h,message:"Task created and linked to phase successfully"}}return{success:!0,task:f,todo:h,message:"Task created successfully"}}catch(f){throw console.error("Error in createTaskWithPhase:",f),f}}),isLoading:n}}static useLinkTaskToPhase(){const{call:t}=gs("frappe.client.insert");return{linkTaskToPhase:(s,a,o)=>ye(null,null,function*(){try{const l={parent:a,parenttype:"Project Phase",parentfield:"tasks",task:s,task_name:(o==null?void 0:o.task_name)||s,status:(o==null?void 0:o.status)||"Open",start_date:o==null?void 0:o.start_date,end_date:o==null?void 0:o.end_date,description:o==null?void 0:o.description};return{success:!0,phaseTask:yield t({doc:L({doctype:"Project Phase Task"},l)}),message:"Task linked to phase successfully"}}catch(l){return console.error("Error linking task to phase:",l),{success:!1,error:l instanceof Error?l.message:"Unknown error",message:"Failed to link task to phase"}}})}}}const RF=OF.useCreatePhaseTask,DF=({isOpen:e,onClose:t,projectName:n,phaseId:s,onSuccess:a})=>{const[o,l]=N.useState({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),[d,f]=N.useState({}),[h,p]=N.useState(!1),{createTaskWithPhase:g,isLoading:b}=RF(),{data:y,isLoading:w}=oc(n),{data:_}=ss("Project",n),j=(k,O)=>{l(D=>de(L({},D),{[k]:O})),d[k]&&f(D=>de(L({},D),{[k]:""}))},S=()=>{const k={};return o.subject.trim()||(k.subject="Task subject is required"),f(k),Object.keys(k).length===0},C=k=>ye(null,null,function*(){if(k.preventDefault(),!h&&S()){if(o.exp_start_date&&o.exp_end_date){const O=new Date(o.exp_start_date);if(new Date(o.exp_end_date)<O){kn.error("End date cannot be earlier than start date");return}}if(o.exp_end_date&&(_!=null&&_.expected_end_date)){const O=new Date(o.exp_end_date),D=new Date(_.expected_end_date);if(O>D){kn.error(`Task end date cannot be after project end date (${_.expected_end_date})`);return}}p(!0);try{const O=de(L({},o),{project:n,expected_time:Number(o.expected_time),task_weight:Number(o.task_weight),exp_start_date:o.exp_start_date||void 0,exp_end_date:o.exp_end_date||void 0,phaseId:s,assign_to:o.assign_to||void 0});console.log("Creating task with data:",O),console.log("Date fields:",{exp_start_date:o.exp_start_date,exp_end_date:o.exp_end_date});const D=yield g(O);console.log("Task with phase created:",D);let $=`Task "${o.subject}" has been created successfully.`;D.todo&&o.assign_to&&(console.log("Task assigned and ToDo created for:",o.assign_to),$+=` Task has been assigned to ${o.assign_to}.`),kn.success("Task created successfully",{description:$}),l({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),f({}),a&&a(),t()}catch(O){console.error("Error creating task:",O);let D="Failed to create task. Please try again.";O!=null&&O.message&&(O.message.includes("Expected End Date cannot be after Project")?D="Task end date cannot be after the project end date. Please choose an earlier date.":O.message.includes("InvalidDates")?D="Invalid date configuration. Please check your task dates.":D=O.message),O!=null&&O.exception&&typeof O.exception=="string"&&O.exception.includes("Expected End Date cannot be after Project")&&(D="Task end date cannot be after the project end date. Please choose an earlier date."),kn.error("Failed to create task",{description:D}),f({submit:D})}finally{p(!1)}}}),R=()=>{l({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),f({}),t()};return c.jsx(xs,{open:e,onOpenChange:R,children:c.jsxs(ys,{className:"sm:max-w-[600px]",children:[c.jsxs(bs,{children:[c.jsxs(ws,{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-2xl",children:"📝"}),"Create New Task"]}),c.jsxs(Co,{children:["Create a new task for project: ",c.jsx("strong",{children:n}),s&&c.jsxs(c.Fragment,{children:[c.jsx("br",{}),c.jsx("span",{className:"text-blue-600",children:"🔗 This task will be linked to the current phase"})]}),c.jsx("br",{}),c.jsx("span",{className:"text-gray-600",children:"💡 Assigning to a user will automatically create a ToDo item for them"})]})]}),c.jsxs("form",{onSubmit:C,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx(ze,{htmlFor:"subject",children:"Task Subject *"}),c.jsx(Bt,{id:"subject",value:o.subject,onChange:k=>j("subject",k.target.value),placeholder:"Enter task subject...",className:d.subject?"border-red-500":""}),d.subject&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.subject})]}),c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx(ze,{htmlFor:"description",children:"Description"}),c.jsx("textarea",{id:"description",value:o.description,onChange:k=>j("description",k.target.value),placeholder:"Enter task description...",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx(ze,{htmlFor:"priority",children:"Priority"}),c.jsxs("select",{id:"priority",value:o.priority,onChange:k=>j("priority",k.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[c.jsx("option",{value:"Low",children:"Low"}),c.jsx("option",{value:"Medium",children:"Medium"}),c.jsx("option",{value:"High",children:"High"}),c.jsx("option",{value:"Urgent",children:"Urgent"})]})]}),c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx(ze,{htmlFor:"status",children:"Status"}),c.jsxs("select",{id:"status",value:o.status,onChange:k=>j("status",k.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[c.jsx("option",{value:"Open",children:"Open"}),c.jsx("option",{value:"Working",children:"Working"}),c.jsx("option",{value:"Overdue",children:"Overdue"}),c.jsx("option",{value:"Pending Review",children:"Pending Review"}),c.jsx("option",{value:"Completed",children:"Completed"}),c.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx(ze,{htmlFor:"assign_to",children:"Assign To"}),c.jsxs("select",{id:"assign_to",value:o.assign_to,onChange:k=>j("assign_to",k.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",disabled:w,children:[c.jsx("option",{value:"",children:"Select user to assign (Optional)"}),y==null?void 0:y.map(k=>c.jsxs("option",{value:k.user||k.name,children:[k.full_name||k.name,k.email&&` (${k.email})`]},k.user||k.name))]}),w&&c.jsx("p",{className:"text-sm text-gray-500",children:"Loading users..."}),!w&&y&&y.length>10&&c.jsx("p",{className:"text-sm text-amber-600",children:"⚠️ Showing all system users (project users not available)"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx(ze,{htmlFor:"expected_time",children:"Expected Time (hours)"}),c.jsx(Bt,{id:"expected_time",type:"number",min:"0",step:"0.5",value:o.expected_time,onChange:k=>j("expected_time",Number(k.target.value)),placeholder:"0"})]}),c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx(ze,{htmlFor:"task_weight",children:"Task Weight"}),c.jsx(Bt,{id:"task_weight",type:"number",min:"1",value:o.task_weight,onChange:k=>j("task_weight",Number(k.target.value)),placeholder:"1"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"exp_start_date",children:"Expected Start Date"}),c.jsx(Bt,{id:"exp_start_date",type:"date",value:o.exp_start_date,onChange:k=>j("exp_start_date",k.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"exp_end_date",children:"Expected End Date"}),c.jsx(Bt,{id:"exp_end_date",type:"date",value:o.exp_end_date,onChange:k=>j("exp_end_date",k.target.value),max:(_==null?void 0:_.expected_end_date)||void 0}),(_==null?void 0:_.expected_end_date)&&c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Must be before project end date: ",_.expected_end_date]})]})]})]}),d.submit&&c.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-md p-3",children:d.submit}),c.jsxs(vs,{children:[c.jsx(We,{type:"button",variant:"outline",onClick:R,children:"Cancel"}),c.jsx(We,{type:"submit",disabled:b||h,children:b||h?"Creating...":"Create Task"})]})]})]})})},MF=({phase:e,projectName:t,isOpen:n,onClose:s,onSuccess:a})=>{var R;const{updatePhase:o,isLoading:l,error:d}=TF(),{assignPhase:f,unassignPhase:h}=_T(),{data:p,isLoading:g}=oc(t),{data:b}=dn("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","project_phase"],["reference_name","=",(e==null?void 0:e.name)||""]]}),[y,w]=N.useState({subject:"",status:"Open",priority:"Medium",start_date:"",end_date:"",progress:0,details:"",costing:0,assign_to:""}),_=((R=b==null?void 0:b[0])==null?void 0:R.allocated_to)||"";N.useEffect(()=>{e&&w({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",progress:e.progress||0,details:e.details||"",costing:e.costing||0,assign_to:_})},[e,_]);const j=(k,O)=>{w(D=>de(L({},D),{[k]:O}))},S=k=>ye(null,null,function*(){if(k.preventDefault(),!!e)try{const O=y,{assign_to:D}=O,$=Me(O,["assign_to"]);yield o(e.name,$);const A=_,B=D;if(A&&A!==B){const J=b==null?void 0:b.find(K=>K.allocated_to===A);J&&(yield h(J.name))}B&&B!==A&&(yield f(e.name,B)),kn.success("Phase updated successfully",{description:`Phase "${y.subject}" has been updated.`}),a&&a(),s()}catch(D){console.error("Error updating phase:",D),kn.error("Failed to update phase",{description:D instanceof Error?D.message:"An unexpected error occurred."})}}),C=()=>{e&&w({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",progress:e.progress||0,details:e.details||"",costing:e.costing||0,assign_to:_}),s()};return c.jsx(xs,{open:n,onOpenChange:s,children:c.jsxs(ys,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[c.jsx(bs,{children:c.jsx(ws,{children:"Edit Phase"})}),c.jsxs("form",{onSubmit:S,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"subject",children:"Subject *"}),c.jsx(Bt,{id:"subject",value:y.subject,onChange:k=>j("subject",k.target.value),required:!0,placeholder:"Enter phase subject"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"status",children:"Status"}),c.jsxs("select",{id:"status",value:y.status,onChange:k=>j("status",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"Open",children:"Open"}),c.jsx("option",{value:"Working",children:"Working"}),c.jsx("option",{value:"Pending Review",children:"Pending Review"}),c.jsx("option",{value:"Completed",children:"Completed"}),c.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"priority",children:"Priority"}),c.jsxs("select",{id:"priority",value:y.priority,onChange:k=>j("priority",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"Low",children:"Low"}),c.jsx("option",{value:"Medium",children:"Medium"}),c.jsx("option",{value:"High",children:"High"}),c.jsx("option",{value:"Critical",children:"Critical"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"start_date",children:"Start Date"}),c.jsx(Bt,{id:"start_date",type:"date",value:y.start_date,onChange:k=>j("start_date",k.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"end_date",children:"End Date"}),c.jsx(Bt,{id:"end_date",type:"date",value:y.end_date,onChange:k=>j("end_date",k.target.value)})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"progress",children:"Progress (%)"}),c.jsx(Bt,{id:"progress",type:"number",min:"0",max:"100",value:y.progress,onChange:k=>j("progress",parseInt(k.target.value)||0),placeholder:"0"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"costing",children:"Costing"}),c.jsx(Bt,{id:"costing",type:"number",min:"0",step:"0.01",value:y.costing,onChange:k=>j("costing",parseFloat(k.target.value)||0),placeholder:"0.00"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"details",children:"Details"}),c.jsx("textarea",{id:"details",value:y.details,onChange:k=>j("details",k.target.value),placeholder:"Enter phase details",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"assign_to",children:"Assign To"}),c.jsxs("select",{id:"assign_to",value:y.assign_to,onChange:k=>j("assign_to",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:g,children:[c.jsx("option",{value:"",children:"Select user..."}),p==null?void 0:p.map(k=>c.jsx("option",{value:k.user||k.name,children:k.user||k.name},k.name))]}),g&&c.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),d&&c.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:c.jsxs("p",{children:[c.jsx("strong",{children:"Error:"})," ",d.message||"Failed to update phase"]})}),c.jsxs(vs,{className:"flex gap-2",children:[c.jsx(We,{type:"button",variant:"outline",onClick:C,children:"Cancel"}),c.jsx(We,{type:"submit",disabled:l,children:l?"Updating...":"Update Phase"})]})]})]})})},PF=({phase:e,isOpen:t,onClose:n,onSuccess:s})=>{const{call:a,loading:o,error:l}=gs("frappe.client.delete"),d=()=>ye(null,null,function*(){if(e)try{yield a({doctype:"project_phase",name:e.name}),s&&s(),n()}catch(h){console.error("Error deleting phase:",h)}}),f=()=>{n()};return c.jsx(xs,{open:t,onOpenChange:n,children:c.jsxs(ys,{className:"sm:max-w-[400px]",children:[c.jsx(bs,{children:c.jsxs(ws,{className:"flex items-center gap-2 text-red-600",children:[c.jsx(Wh,{className:"h-5 w-5"}),"Delete Phase"]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this phase? This action cannot be undone."}),e&&c.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[c.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),c.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),c.jsxs("div",{className:"text-sm text-gray-600",children:["Priority: ",e.priority||"Medium"]})]}),c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[c.jsxs("div",{className:"text-sm text-red-800",children:[c.jsx("strong",{children:"Warning:"})," Deleting this phase will also remove:"]}),c.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[c.jsx("li",{children:"All tasks associated with this phase"}),c.jsx("li",{children:"All phase progress data"}),c.jsx("li",{children:"Phase timeline and milestones"}),c.jsx("li",{children:"Related documents and attachments"})]})]}),l&&c.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:c.jsxs("p",{children:[c.jsx("strong",{children:"Error:"})," ",l.message||"Failed to delete phase"]})})]}),c.jsxs(vs,{className:"flex gap-2",children:[c.jsx(We,{type:"button",variant:"outline",onClick:f,children:"Cancel"}),c.jsx(We,{type:"button",variant:"destructive",onClick:d,disabled:o,children:o?"Deleting...":"Delete Phase"})]})]})})};class LF{static usePhaseProgressCalculation(){const{updateDoc:t}=$s();return{calculateAndUpdatePhaseProgress:s=>ye(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",name:s})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=(yield a.json()).message;if(!l||!l.tasks||l.tasks.length===0)return yield t("project_phase",s,{progress:0}),console.log(`Phase ${s} progress updated to 0% (no tasks)`),0;const d=l.tasks.map(y=>y.task),f=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["name","in",d]]})});if(!f.ok)throw new Error(`HTTP error! status: ${f.status}`);const p=(yield f.json()).message||[];if(p.length===0)return yield t("project_phase",s,{progress:0}),console.log(`Phase ${s} progress updated to 0% (no valid tasks)`),0;let g=0;p.forEach(y=>{g+=y.progress||0});const b=Math.round(g/p.length);return yield t("project_phase",s,{progress:b}),console.log(`Phase ${s} progress updated to ${b}% (based on ${p.length} tasks)`),b}catch(a){return console.error("Error calculating phase progress:",a),null}})}}static usePhaseStatusProgressUpdate(){const{updateDoc:t}=$s();return{updatePhaseProgressByStatus:(s,a,o)=>ye(null,null,function*(){try{let l=o||0;switch(a){case"Completed":l=100;break;case"Cancelled":case"Rejected":l=0;break;default:break}return yield t("project_phase",s,{status:a,progress:l}),l}catch(l){return console.error("Error updating phase progress by status:",l),null}})}}static useManualPhaseProgressUpdate(){const{updateDoc:t}=$s();return{updatePhaseProgress:(s,a)=>ye(null,null,function*(){try{let o="";return a===0||a===1?o="Open":a>1&&a<=90?o="Working":a>90&&a<100?o="Pending Review":a===100&&(o="Completed"),yield t("project_phase",s,{progress:a,status:o}),{progress:a,status:o}}catch(o){return console.error("Error updating manual phase progress:",o),null}})}}}const{usePhaseProgressCalculation:jT}=LF,zF=({phase:e,projectName:t,onBack:n,onViewTaskDetails:s,onPhaseUpdated:a,onPhaseDeleted:o,onTaskCreated:l})=>{var Q;const[d,f]=N.useState(!1),[h,p]=N.useState(!1),[g,b]=N.useState(!1),[y,w]=N.useState(!1),[_,j]=N.useState(!1),{calculateAndUpdatePhaseProgress:S}=jT(),{data:C,mutate:R}=ss("project_phase",e.name,"project_phase"),k=C||e,{data:O,isLoading:D,mutate:$}=dn("Task",{fields:["name","subject","status","priority","project","exp_start_date","exp_end_date","progress"],filters:[["project","=",t]],orderBy:{field:"exp_start_date",order:"asc"},limit:0}),A=Z.useMemo(()=>{if(!O)return[];if(k.tasks&&k.tasks.length>0){const fe=k.tasks.map(F=>F.task);return O.filter(F=>fe.includes(F.name))}return[]},[O,k.tasks]),B=Z.useMemo(()=>{if(!A||A.length===0)return 0;const fe=A.reduce((F,W)=>F+(W.progress||0),0);return Math.round(fe/A.length)},[A]);N.useEffect(()=>{A.length>0&&B!==(k.progress||0)&&J()},[B,A.length]);const J=()=>ye(null,null,function*(){w(!0);try{yield S(e.name),yield R(),a&&a()}catch(fe){console.error("Error recalculating phase progress:",fe)}finally{w(!1)}}),K=fe=>fe?new Date(fe).toLocaleDateString():"N/A",I=fe=>fe?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(fe):"$0",ee=fe=>{switch(fe){case"Completed":return c.jsx(Ih,{className:"h-5 w-5 text-green-600"});case"Working":return c.jsx(Ci,{className:"h-5 w-5 text-yellow-600"});case"Open":return c.jsx(Ao,{className:"h-5 w-5 text-blue-600"});default:return c.jsx(Ao,{className:"h-5 w-5 text-gray-400"})}},pe=fe=>{switch(fe){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},ne=fe=>{switch(fe){case"Urgent":return"bg-red-100 text-red-800 border-red-200";case"High":return"bg-orange-100 text-orange-800 border-orange-200";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},V=()=>ye(null,null,function*(){j(!0);try{yield R(),yield $(),a&&(yield a()),setTimeout(()=>ye(null,null,function*(){w(!0);try{yield S(k.name),setTimeout(()=>ye(null,null,function*(){yield R()}),500)}catch(fe){console.error("Error recalculating phase progress:",fe)}finally{w(!1)}}),500)}finally{j(!1)}}),te=()=>{o&&o(),n()};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(We,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-2",children:[c.jsx(Nx,{className:"h-4 w-4"}),"Back to Tasks"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(We,{variant:"outline",size:"sm",onClick:()=>p(!0),disabled:_||y,className:"flex items-center gap-2",children:[c.jsx(Bl,{className:`h-4 w-4 ${_?"animate-pulse":""}`}),_?"Updating...":"Edit Phase"]}),c.jsxs(We,{variant:"outline",size:"sm",onClick:()=>b(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[c.jsx(Il,{className:"h-4 w-4"}),"Delete Phase"]})]})]}),c.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-6",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("div",{className:"h-12 w-12 rounded-lg bg-blue-500 flex items-center justify-center",children:c.jsx("span",{className:"text-xl",children:"📋"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:k.subject}),c.jsx("p",{className:"text-sm text-gray-600",children:"Phase Details"})]})]}),k.details&&c.jsx("p",{className:"text-gray-700 leading-relaxed",children:k.details})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${pe(k.status||"Open")}`,children:[ee(k.status||"Open"),c.jsx("span",{className:"font-medium",children:k.status||"Open"})]}),k.priority&&c.jsx("div",{className:`px-3 py-1 rounded-full border ${ne(k.priority)}`,children:c.jsx("span",{className:"text-sm font-medium",children:k.priority})})]})]}),c.jsxs("div",{className:"mt-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Phase Progress"}),A.length>0&&c.jsxs("span",{className:"text-xs text-gray-500",children:["(Auto-calculated from ",A.length," tasks)"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[B,"%"]}),c.jsx(We,{variant:"ghost",size:"sm",onClick:J,disabled:y,className:"h-8 w-8 p-0",title:"Recalculate progress from tasks",children:c.jsx(Cx,{className:`h-4 w-4 ${y?"animate-spin":""}`})})]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:c.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full transition-all duration-500",style:{width:`${B}%`}})}),A.length>0&&c.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Task progress: ",A.map(fe=>`${fe.subject}: ${fe.progress||0}%`).join(", ")]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:c.jsx(rr,{className:"h-6 w-6 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),c.jsx("p",{className:"text-lg font-bold text-gray-900",children:K(k.start_date)})]})]})}),c.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:c.jsx(Ax,{className:"h-6 w-6 text-purple-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),c.jsx("p",{className:"text-lg font-bold text-gray-900",children:K(k.end_date)})]})]})}),c.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:c.jsx(Tx,{className:"h-6 w-6 text-green-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Estimated Cost"}),c.jsx("p",{className:"text-lg font-bold text-gray-900",children:I(k.costing)})]})]})})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Phase Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Phase ID"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:k.name})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),c.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${pe(k.status||"Open")}`,children:[ee(k.status||"Open"),c.jsx("span",{className:"font-medium",children:k.status||"Open"})]})]}),c.jsxs("div",{className:"flex items-center justify-between py-3",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),c.jsx("div",{className:`px-3 py-1 rounded-full ${ne(k.priority||"Medium")}`,children:c.jsx("span",{className:"font-medium",children:k.priority||"Medium"})})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Tasks Count"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:((Q=k.tasks)==null?void 0:Q.length)||0})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:k.start_date&&k.end_date?`${Math.ceil((new Date(k.end_date).getTime()-new Date(k.start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),c.jsxs("div",{className:"flex items-center justify-between py-3",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Progress"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-xl font-bold text-blue-600",children:[B,"%"]}),A.length>0&&c.jsxs("span",{className:"text-xs text-gray-500",children:["(from ",A.length," tasks)"]})]})]}),c.jsxs("div",{className:"flex items-center justify-between py-3",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Estimated Cost"}),c.jsx("span",{className:"text-xl font-bold text-green-600",children:I(e.costing)})]})]})]})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsx("div",{className:"flex items-center justify-between mb-6",children:c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Tasks in this Phase"})}),D?c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"})]}):c.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[c.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:c.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3",children:[c.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700",children:"#"}),c.jsx("div",{className:"col-span-4 text-sm font-medium text-gray-700",children:"Task"}),c.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Progress"}),c.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Status"}),c.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700 text-center",children:"Priority"}),c.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Actions"})]})}),c.jsxs("div",{className:"divide-y divide-gray-100",children:[A&&A.length>0?A.map((fe,F)=>c.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[c.jsx("div",{className:"col-span-1 flex items-center",children:c.jsx("span",{className:"text-sm text-gray-600",children:F+1})}),c.jsxs("div",{className:"col-span-4 flex items-center gap-3",children:[c.jsx("div",{className:"p-1 bg-orange-100 rounded",children:c.jsx("span",{className:"text-sm",children:"📝"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:fe.subject||fe.name}),c.jsx("div",{className:"text-sm text-gray-500",children:fe.name})]})]}),c.jsx("div",{className:"col-span-2 flex items-center justify-center",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${fe.progress||0}%`}})}),c.jsxs("span",{className:"text-sm font-medium text-gray-700 min-w-[30px]",children:[fe.progress||0,"%"]})]})}),c.jsx("div",{className:"col-span-2 flex items-center justify-center",children:c.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${pe(fe.status||"Open")}`,children:fe.status||"Open"})}),c.jsx("div",{className:"col-span-1 flex items-center justify-center",children:fe.priority&&c.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${ne(fe.priority)}`,children:fe.priority})}),c.jsx("div",{className:"col-span-2 flex items-center justify-center",children:s&&c.jsx(We,{variant:"outline",size:"sm",onClick:()=>s(fe),className:"h-7 px-2 text-xs",children:"View Details"})})]},fe.name)):c.jsxs("div",{className:"px-6 py-8 text-center text-gray-500",children:[c.jsx("div",{className:"text-4xl mb-2",children:"📝"}),c.jsx("div",{className:"text-lg font-medium mb-1",children:"No tasks yet"}),c.jsx("div",{className:"text-sm",children:'Click "Add Task" to create the first task for this phase'})]}),c.jsx("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 bg-gray-50 border-t border-gray-200",children:c.jsx("div",{className:"col-span-12 flex items-center justify-center",children:c.jsxs(We,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",onClick:()=>f(!0),children:[c.jsx(Ai,{className:"h-4 w-4"}),"Add new task to this phase"]})})})]})]})]}),c.jsx(DF,{isOpen:d,onClose:()=>f(!1),projectName:t,phaseId:e.name,onSuccess:()=>ye(null,null,function*(){yield R(),l&&(yield l()),setTimeout(()=>ye(null,null,function*(){yield $(),setTimeout(()=>ye(null,null,function*(){yield J()}),500)}),500)})}),c.jsx(MF,{phase:e,projectName:t,isOpen:h,onClose:()=>p(!1),onSuccess:V}),c.jsx(PF,{phase:e,isOpen:g,onClose:()=>b(!1),onSuccess:te})]})};class UF{static useUpdateSubTask(){const{updateDoc:t,loading:n,error:s}=$s();return{updateSubTask:(o,l)=>ye(null,null,function*(){return yield t("SubTask",o,l)}),isLoading:n,error:s}}static useSubTaskAssignment(){const{createDoc:t}=zi(),{deleteDoc:n}=Hh(),{data:s}=ss("User","",{shouldFetch:!0});return{assignSubTask:(l,d)=>ye(null,null,function*(){return yield t("ToDo",{allocated_to:d,assigned_by:(s==null?void 0:s.name)||"",reference_type:"SubTask",reference_name:l,description:`Assignment for SubTask: ${l}`,status:"Open"})}),unassignSubTask:l=>ye(null,null,function*(){return yield n("ToDo",l)})}}}const{useUpdateSubTask:ST,useSubTaskAssignment:NT}=UF;class BF{static useTaskProgressCalculation(){const{updateDoc:t}=$s();return{calculateAndUpdateTaskProgress:s=>ye(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"SubTask",fields:["name","status"],filters:[["task","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=(yield a.json()).message||[];if(!l||l.length===0)return null;let d=0;l.forEach(h=>{switch(h.status){case"Open":d+=1;break;case"Working":d+=50;break;case"Completed":d+=100;break;default:d+=0}});const f=Math.round(d/l.length);return yield t("Task",s,{progress:f}),console.log(`Task ${s} progress updated to ${f}%`),f}catch(a){return console.error("Error calculating task progress:",a),null}})}}static useTaskStatusProgressUpdate(){const{updateDoc:t}=$s();return{updateTaskProgressByStatus:(s,a,o)=>ye(null,null,function*(){try{let l=o||0;switch(a){case"Completed":l=100;break;case"Cancelled":case"Rejected":l=0;break;default:break}return yield t("Task",s,{status:a,progress:l}),l}catch(l){return console.error("Error updating task progress by status:",l),null}})}}static useManualProgressUpdate(){const{updateDoc:t}=$s();return{updateTaskProgress:(s,a)=>ye(null,null,function*(){try{let o="";return a===0||a===1?o="Open":a>1&&a<=90?o="Working":a>90&&a<100?o="Pending Review":a===100&&(o="Completed"),yield t("Task",s,{progress:a,status:o}),{progress:a,status:o}}catch(o){return console.error("Error updating manual task progress:",o),null}})}}}const{useTaskProgressCalculation:lc,useTaskStatusProgressUpdate:ET,useManualProgressUpdate:TT}=BF,FF=({isOpen:e,onClose:t,projectName:n,parentTask:s,onSuccess:a})=>{const[o,l]=N.useState({subject:"",description:"",priority:"Medium",status:"Open",task:s||"",assign_to:""}),[d,f]=N.useState({}),{createDoc:h,loading:p}=zi(),{assignSubTask:g}=NT(),{calculateAndUpdateTaskProgress:b}=lc(),{data:y,isLoading:w}=oc(n),_=(R,k)=>{l(O=>de(L({},O),{[R]:k})),d[R]&&f(O=>de(L({},O),{[R]:""}))},j=()=>{const R={};return o.subject.trim()||(R.subject="SubTask subject is required"),o.task.trim()||(R.task="Parent task is required"),f(R),Object.keys(R).length===0},S=R=>ye(null,null,function*(){if(R.preventDefault(),!!j())try{const k=o,{assign_to:O}=k,D=Me(k,["assign_to"]),$=yield h("SubTask",de(L({},D),{project:n}));if(O&&$&&(yield g($.name,O)),s)try{yield b(s)}catch(A){console.error("Error updating task progress after subtask creation:",A)}l({subject:"",description:"",priority:"Medium",status:"Open",task:s||"",assign_to:""}),f({}),a&&a(),t()}catch(O){console.error("Error creating subtask:",O),f({submit:"Failed to create subtask. Please try again."})}}),C=()=>{l({subject:"",description:"",priority:"Medium",status:"Open",task:s||"",assign_to:""}),f({}),t()};return c.jsx(xs,{open:e,onOpenChange:C,children:c.jsxs(ys,{className:"sm:max-w-[600px]",children:[c.jsxs(bs,{children:[c.jsxs(ws,{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-2xl",children:"📌"}),"Create New SubTask"]}),c.jsxs(Co,{children:["Create a new subtask for project: ",c.jsx("strong",{children:n}),s&&c.jsxs("span",{className:"block mt-1",children:["Parent Task: ",c.jsx("strong",{children:s})]})]})]}),c.jsxs("form",{onSubmit:S,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx(ze,{htmlFor:"subject",children:"SubTask Subject *"}),c.jsx(Bt,{id:"subject",value:o.subject,onChange:R=>_("subject",R.target.value),placeholder:"Enter subtask subject...",className:d.subject?"border-red-500":""}),d.subject&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.subject})]}),c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx(ze,{htmlFor:"task",children:"Parent Task *"}),c.jsx(Bt,{id:"task",value:o.task,onChange:R=>_("task",R.target.value),placeholder:"Enter parent task ID...",className:d.task?"border-red-500":""}),d.task&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.task}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Enter the Task ID that this subtask belongs to"})]}),c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx(ze,{htmlFor:"description",children:"Description"}),c.jsx("textarea",{id:"description",value:o.description,onChange:R=>_("description",R.target.value),placeholder:"Enter subtask description...",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"assign_to",children:"Assign To"}),c.jsxs("select",{id:"assign_to",value:o.assign_to,onChange:R=>_("assign_to",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:w,children:[c.jsx("option",{value:"",children:"Select user..."}),y==null?void 0:y.map(R=>c.jsx("option",{value:R.user||R.name,children:R.user||R.name},R.name))]}),w&&c.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx(ze,{htmlFor:"priority",children:"Priority"}),c.jsxs("select",{id:"priority",value:o.priority,onChange:R=>_("priority",R.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[c.jsx("option",{value:"Low",children:"Low"}),c.jsx("option",{value:"Medium",children:"Medium"}),c.jsx("option",{value:"High",children:"High"})]})]}),c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx(ze,{htmlFor:"status",children:"Status"}),c.jsxs("select",{id:"status",value:o.status,onChange:R=>_("status",R.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[c.jsx("option",{value:"Open",children:"Open"}),c.jsx("option",{value:"Working",children:"Working"}),c.jsx("option",{value:"Completed",children:"Completed"})]})]})]})]}),d.submit&&c.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-md p-3",children:d.submit}),c.jsxs(vs,{children:[c.jsx(We,{type:"button",variant:"outline",onClick:C,children:"Cancel"}),c.jsx(We,{type:"submit",disabled:p,children:p?"Creating...":"Create SubTask"})]})]})]})})};class kT{static useUpdateTask(){const{updateDoc:t,loading:n,error:s}=$s();return{updateTask:(o,l)=>ye(null,null,function*(){const h=l,{assign_to:d}=h,f=Me(h,["assign_to"]);return yield t("Task",o,de(L({},f),{exp_start_date:f.exp_start_date||void 0,exp_end_date:f.exp_end_date||void 0}))}),isLoading:n,error:s}}static useTaskAssignment(){const{createDoc:t}=zi(),{deleteDoc:n}=Hh(),{data:s}=ss("User","",{shouldFetch:!0});return{assignTask:(l,d,f,h="Medium")=>ye(null,null,function*(){return yield t("ToDo",{allocated_to:f,assigned_by:(s==null?void 0:s.name)||"",description:`Task: ${d}`,reference_type:"Task",reference_name:l,status:"Open",priority:h,date:new Date().toISOString().split("T")[0]})}),unassignTask:l=>ye(null,null,function*(){return yield n("ToDo",l)})}}}const CT=kT.useUpdateTask,HF=kT.useTaskAssignment,VF=({task:e,projectName:t,isOpen:n,onClose:s,onSuccess:a})=>{const{updateTask:o,isLoading:l,error:d}=CT(),{assignTask:f,unassignTask:h}=HF(),{updateTaskProgress:p}=TT(),{updateTaskProgressByStatus:g}=ET(),{data:b,isLoading:y}=oc(t),{data:w}=ss("Project",t),{data:_}=dn("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","Task"],["reference_name","=",(e==null?void 0:e.name)||""]]}),{data:j}=dn("SubTask",{fields:["name"],filters:[["task","=",(e==null?void 0:e.name)||""]],limit:1}),[S,C]=N.useState({subject:"",status:"Open",priority:"Medium",exp_start_date:"",exp_end_date:"",progress:0,description:"",assign_to:""}),[R,k]=N.useState(!1);N.useEffect(()=>{var A;if(e){const B=((A=_==null?void 0:_[0])==null?void 0:A.allocated_to)||"";C({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",exp_start_date:e.exp_start_date?e.exp_start_date.split(" ")[0]:"",exp_end_date:e.exp_end_date?e.exp_end_date.split(" ")[0]:"",progress:e.progress||0,description:e.description||"",assign_to:B})}},[e,_]),N.useEffect(()=>{k(!!(j&&j.length>0))},[j]);const O=(A,B)=>{C(J=>de(L({},J),{[A]:B}))},D=A=>ye(null,null,function*(){var B,J,K;if(A.preventDefault(),!!e){if(S.exp_start_date&&S.exp_end_date){const I=new Date(S.exp_start_date);if(new Date(S.exp_end_date)<I){kn.error("End date cannot be earlier than start date");return}}if(S.exp_end_date&&(w!=null&&w.expected_end_date)){const I=new Date(S.exp_end_date),ee=new Date(w.expected_end_date);if(I>ee){kn.error(`Task end date cannot be after project end date (${w.expected_end_date})`);return}}try{const I=S.progress!==(e.progress||0),ee=S.status!==e.status;R&&I?yield p(e.name,S.progress):ee&&(S.status==="Completed"||S.status==="Cancelled")?yield g(e.name,S.status):yield o(e.name,S);const pe=((B=_==null?void 0:_[0])==null?void 0:B.allocated_to)||"",ne=S.assign_to;if(pe!==ne){if(pe&&(_!=null&&_[0]))try{yield h(_[0].name)}catch(V){console.error("Error deleting old ToDo:",V)}if(ne)try{yield f(e.name,S.subject,ne,S.priority)}catch(V){console.error("Error creating new ToDo:",V)}}kn.success("Task updated successfully",{description:`Task "${S.subject}" has been updated.`}),a&&a(),s()}catch(I){console.error("Error updating task:",I);let ee="Failed to update task";(J=I==null?void 0:I.message)!=null&&J.includes("modified")?ee="The task has been modified by someone else. Please close and reopen the task to get the latest version.":(K=I==null?void 0:I.message)!=null&&K.includes("permission")?ee="You do not have permission to update this task.":I!=null&&I.message&&(ee=I.message),kn.error("Failed to update task",{description:ee})}}}),$=()=>{var A;if(e){const B=((A=_==null?void 0:_[0])==null?void 0:A.allocated_to)||"";C({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",exp_start_date:e.exp_start_date?e.exp_start_date.split(" ")[0]:"",exp_end_date:e.exp_end_date?e.exp_end_date.split(" ")[0]:"",progress:e.progress||0,description:e.description||"",assign_to:B})}s()};return c.jsx(xs,{open:n,onOpenChange:s,children:c.jsxs(ys,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[c.jsx(bs,{children:c.jsx(ws,{children:"Edit Task"})}),c.jsxs("form",{onSubmit:D,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"subject",children:"Subject *"}),c.jsx(Bt,{id:"subject",value:S.subject,onChange:A=>O("subject",A.target.value),required:!0,placeholder:"Enter task subject"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"status",children:"Status"}),c.jsxs("select",{id:"status",value:S.status,onChange:A=>O("status",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"Open",children:"Open"}),c.jsx("option",{value:"Working",children:"Working"}),c.jsx("option",{value:"Pending Review",children:"Pending Review"}),c.jsx("option",{value:"Overdue",children:"Overdue"}),c.jsx("option",{value:"Template",children:"Template"}),c.jsx("option",{value:"Completed",children:"Completed"}),c.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"priority",children:"Priority"}),c.jsxs("select",{id:"priority",value:S.priority,onChange:A=>O("priority",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"Low",children:"Low"}),c.jsx("option",{value:"Medium",children:"Medium"}),c.jsx("option",{value:"High",children:"High"}),c.jsx("option",{value:"Urgent",children:"Urgent"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"assign_to",children:"Assign To"}),c.jsxs("select",{id:"assign_to",value:S.assign_to,onChange:A=>O("assign_to",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:y,children:[c.jsx("option",{value:"",children:"Select user to assign (Optional)"}),b==null?void 0:b.map(A=>c.jsxs("option",{value:A.user||A.name,children:[A.full_name||A.name,A.email&&` (${A.email})`]},A.user||A.name))]}),y&&c.jsx("p",{className:"text-sm text-gray-500",children:"Loading users..."}),!y&&b&&b.length>10&&c.jsx("p",{className:"text-sm text-amber-600",children:"⚠️ Showing all system users (project users not available)"}),_&&_.length>0&&c.jsx("p",{className:"text-sm text-blue-600",children:"💡 Changing assignment will update the ToDo automatically"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"exp_start_date",children:"Expected Start Date"}),c.jsx(Bt,{id:"exp_start_date",type:"date",value:S.exp_start_date,onChange:A=>O("exp_start_date",A.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"exp_end_date",children:"Expected End Date"}),c.jsx(Bt,{id:"exp_end_date",type:"date",value:S.exp_end_date,onChange:A=>O("exp_end_date",A.target.value),max:(w==null?void 0:w.expected_end_date)||void 0}),(w==null?void 0:w.expected_end_date)&&c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Must be before project end date: ",w.expected_end_date]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"progress",children:"Progress (%)"}),c.jsx(Bt,{id:"progress",type:"number",min:"0",max:"100",value:S.progress,onChange:A=>O("progress",parseInt(A.target.value)||0),placeholder:"0",disabled:R}),R?c.jsxs("div",{className:"text-sm text-blue-600 bg-blue-50 p-2 rounded",children:[c.jsx("strong",{children:"🔄 Smart Progress Mode:"}),c.jsxs("ul",{className:"mt-1 ml-4 list-disc text-xs",children:[c.jsx("li",{children:"Progress is automatically calculated from subtasks"}),c.jsx("li",{children:"Only assignee can manually override progress"}),c.jsx("li",{children:"Project leaders can set progress via status changes"})]})]}):c.jsxs("div",{className:"text-sm text-green-600 bg-green-50 p-2 rounded",children:[c.jsx("strong",{children:"✏️ Manual Progress Mode:"}),c.jsx("span",{className:"text-xs",children:" Progress can be updated manually by anyone with edit permission"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"description",children:"Description"}),c.jsx("textarea",{id:"description",value:S.description,onChange:A=>O("description",A.target.value),placeholder:"Enter task description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),d&&c.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:c.jsxs("p",{children:[c.jsx("strong",{children:"Error:"})," ",d.message||"Failed to update task"]})}),c.jsxs(vs,{className:"flex gap-2",children:[c.jsx(We,{type:"button",variant:"outline",onClick:$,children:"Cancel"}),c.jsx(We,{type:"submit",disabled:l,children:l?"Updating...":"Update Task"})]})]})]})})},$F=({task:e,isOpen:t,onClose:n,onSuccess:s})=>{const{deleteDoc:a,loading:o,error:l}=Hh(),[d,f]=N.useState(!1),h=()=>ye(null,null,function*(){var g,b;if(e){f(!0);try{const y=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"SubTask",fields:["name"],filters:[["task","=",e.name]]})});if(y.ok){const _=(yield y.json()).message||[];if(_.length>0)for(const j of _)yield a("SubTask",j.name)}try{const w=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","subject","status","priority","start_date","end_date","progress","details","costing"],filters:[["project","=",e.project]],orderBy:{field:"start_date",order:"asc"}})});if(w.ok){const j=(yield w.json()).message||[],S=[];for(const C of j)try{const R=yield fetch(`/api/resource/project_phase/${C.name}`,{headers:{Accept:"application/json"}});if(R.ok){const k=yield R.json(),O=((g=k.data)==null?void 0:g.tasks)||[],D=O.findIndex($=>$.task===e.name);D>=0&&(console.log(`Found task ${e.name} in phase ${C.name}, will remove from child table...`),O.splice(D,1),S.push({name:C.name,data:de(L({},k.data),{tasks:O})}))}else console.warn("Failed to fetch phase:",C.name)}catch(R){console.error("Error fetching phase:",C.name,R)}for(const C of S)try{(yield fetch(`/api/resource/project_phase/${C.name}`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(C.data)})).ok?console.log(`Successfully removed task ${e.name} from phase ${C.name}`):console.warn(`Failed to update phase ${C.name} after removing task`)}catch(R){console.error(`Error updating phase ${C.name}:`,R)}}else console.warn("Failed to fetch phases list, proceeding with task deletion...")}catch(w){console.warn("Error checking phases for task references:",w)}yield a("Task",e.name),console.log(`Successfully deleted task ${e.name}`),s&&s(),n()}catch(y){console.error("Error deleting task:",y),(b=y==null?void 0:y.exception)!=null&&b.includes("LinkExistsError")?y.exception.includes("project_phase")||y.exception.includes("phase")?alert("Cannot delete task because it is still linked with project phases. The system tried to remove phase task links automatically but failed. Please contact administrator."):y.exception.includes("SubTask")?alert("Cannot delete task because it has linked subtasks. Please delete all subtasks first."):alert("Cannot delete task because it has linked dependencies. Please check related records."):alert("Error deleting task. Please try again.")}finally{f(!1)}}}),p=()=>{n()};return c.jsx(xs,{open:t,onOpenChange:n,children:c.jsxs(ys,{className:"sm:max-w-[400px]",children:[c.jsx(bs,{children:c.jsxs(ws,{className:"flex items-center gap-2 text-red-600",children:[c.jsx(Wh,{className:"h-5 w-5"}),"Delete Task"]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this task? This action cannot be undone."}),e&&c.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[c.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),c.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),c.jsxs("div",{className:"text-sm text-gray-600",children:["Priority: ",e.priority||"Medium"]}),c.jsxs("div",{className:"text-sm text-gray-600",children:["Progress: ",e.progress||0,"%"]}),e.project&&c.jsxs("div",{className:"text-sm text-blue-600",children:["Project: ",e.project]})]}),c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[c.jsxs("div",{className:"text-sm text-red-800",children:[c.jsx("strong",{children:"⚠️ Warning:"})," Deleting this task will automatically:"]}),c.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Delete ALL subtasks first"})," (to resolve SubTask dependencies)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Remove task from ALL phase child tables"})," (for any phases this task is assigned to)"]}),c.jsx("li",{children:"Remove all task progress data"}),c.jsx("li",{children:"Delete task timeline and activities"}),c.jsx("li",{children:"Remove related comments and attachments"})]}),c.jsx("div",{className:"text-xs text-red-600 mt-2 font-medium",children:"💡 The system will automatically search and handle ALL dependencies to prevent LinkExistsError."})]}),l&&c.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:c.jsxs("p",{children:[c.jsx("strong",{children:"Error:"})," ",l.message||"Failed to delete task"]})})]}),c.jsxs(vs,{className:"flex gap-2",children:[c.jsx(We,{type:"button",variant:"outline",onClick:p,disabled:d,children:"Cancel"}),c.jsx(We,{type:"button",variant:"destructive",onClick:h,disabled:d||o,children:d?"Deleting Task & SubTasks...":o?"Deleting...":"Delete Task"})]})]})})};class Ay{static useProjectProgressFromPhases(){const{updateDoc:t}=$s();return{calculateAndUpdateProjectProgressFromPhases:s=>ye(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","progress"],filters:[["project","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=(yield a.json()).message||[];if(!l||l.length===0){const{calculateAndUpdateProjectProgressFromTasks:h}=Ay.useProjectProgressFromTasks();return yield h(s)}let d=0;l.forEach(h=>{d+=h.progress||0});const f=Math.round(d/l.length);return yield t("Project",s,{percent_complete:f}),f}catch(a){return console.error("Error calculating project progress from phases:",a),null}})}}static useProjectProgressFromTasks(){const{updateDoc:t}=$s();return{calculateAndUpdateProjectProgressFromTasks:s=>ye(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["project","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=(yield a.json()).message||[];if(!l||l.length===0)return yield t("Project",s,{percent_complete:0}),0;let d=0;l.forEach(h=>{d+=h.progress||0});const f=Math.round(d/l.length);return yield t("Project",s,{percent_complete:f}),f}catch(a){return console.error("Error calculating project progress from tasks:",a),null}})}}static useProjectProgressCalculation(){const{updateDoc:t}=$s();return{calculateAndUpdateProjectProgress:s=>ye(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","progress"],filters:[["project","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=(yield a.json()).message||[];if(l&&l.length>0){let d=0;l.forEach(h=>{d+=h.progress||0});const f=Math.round(d/l.length);return yield t("Project",s,{percent_complete:f}),{progress:f,source:"phases",count:l.length}}else{const d=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["project","=",s]]})});if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);const h=(yield d.json()).message||[];if(!h||h.length===0)return yield t("Project",s,{percent_complete:0}),{progress:0,source:"none",count:0};let p=0;h.forEach(b=>{p+=b.progress||0});const g=Math.round(p/h.length);return yield t("Project",s,{percent_complete:g}),{progress:g,source:"tasks",count:h.length}}}catch(a){return console.error("Error calculating project progress:",a),null}})}}static useProjectStatusProgressUpdate(){const{updateDoc:t}=$s();return{updateProjectProgressByStatus:(s,a,o)=>ye(null,null,function*(){try{let l=o||0;switch(a){case"Completed":l=100;break;case"Cancelled":case"Rejected":l=0;break;default:break}return yield t("Project",s,{status:a,percent_complete:l}),l}catch(l){return console.error("Error updating project progress by status:",l),null}})}}}const{useProjectProgressCalculation:qF}=Ay,Oy=()=>{const{calculateAndUpdatePhaseProgress:e}=jT(),{calculateAndUpdateProjectProgress:t}=qF();return{updatePhaseProgressForTask:(a,o)=>ye(null,null,function*(){try{const l=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","tasks"],filters:[["project","=",o]]})});if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);const h=((yield l.json()).message||[]).filter(p=>p.tasks&&p.tasks.some(g=>g.task===a));for(const p of h)console.log(`Updating progress for phase ${p.name} after task ${a} change`),yield e(p.name);return console.log(`Updating overall project progress for ${o} after task ${a} change`),yield t(o),console.log(`Updated progress for ${h.length} phases and project ${o} affected by task ${a}`),h}catch(l){return console.error("Error updating phase progress for task:",l),[]}}),updateProjectProgress:a=>ye(null,null,function*(){try{console.log(`Updating overall project progress for ${a}`);const o=yield t(a);return o&&console.log(`Project ${a} progress updated to ${o.progress}% from ${o.source} (${o.count} items)`),o}catch(o){return console.error("Error updating project progress:",o),null}})}},IF=({task:e,projectName:t,onBack:n,onViewSubTaskDetails:s,onTaskUpdated:a,onTaskDeleted:o})=>{const[l,d]=N.useState(!1),[f,h]=N.useState(!1),[p,g]=N.useState(!1),{updatePhaseProgressForTask:b}=Oy(),{calculateAndUpdateTaskProgress:y}=lc(),{data:w,isLoading:_,mutate:j}=dn("SubTask",{fields:["name","subject","task","status","progress","start_date","end_date","description"],filters:[["task","=",e.name]],orderBy:{field:"start_date",order:"asc"},limit:0}),{data:S}=dn("ToDo",{fields:["name","allocated_to","status"],filters:[["reference_type","=","Task"],["reference_name","=",e.name]],limit:1}),C=S&&S.length>0?S[0].allocated_to:null,{data:R}=ss("User",C||void 0,{fields:["name","full_name","email","user_image"]}),k=K=>K?new Date(K).toLocaleDateString():"N/A",O=K=>{switch(K){case"Completed":return c.jsx(Ih,{className:"h-5 w-5 text-green-600"});case"Working":return c.jsx(Ci,{className:"h-5 w-5 text-yellow-600"});case"Open":return c.jsx(Ao,{className:"h-5 w-5 text-blue-600"});default:return c.jsx(Ao,{className:"h-5 w-5 text-gray-400"})}},D=K=>{switch(K){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},$=K=>{switch(K){case"Urgent":return"bg-red-100 text-red-800 border-red-200";case"High":return"bg-orange-100 text-orange-800 border-orange-200";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},A=()=>{a&&a(),b(e.name,t).catch(console.error)},B=()=>{o&&o(),b(e.name,t).catch(console.error),n()},J=({subtask:K})=>{var pe;const{data:I}=dn("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(K==null?void 0:K.name)||""]]}),ee=(pe=I==null?void 0:I[0])==null?void 0:pe.allocated_to;return c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("span",{children:ee})})};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(We,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-2",children:[c.jsx(Nx,{className:"h-4 w-4"}),"Back to Tasks"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(We,{variant:"outline",size:"sm",onClick:()=>h(!0),className:"flex items-center gap-2",children:[c.jsx(Bl,{className:"h-4 w-4"}),"Edit Task"]}),c.jsxs(We,{variant:"outline",size:"sm",onClick:()=>g(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[c.jsx(Il,{className:"h-4 w-4"}),"Delete Task"]})]})]}),c.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 border border-orange-200 rounded-xl p-6",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("div",{className:"h-12 w-12 rounded-lg bg-orange-500 flex items-center justify-center",children:c.jsx("span",{className:"text-xl",children:"📝"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.subject}),c.jsx("p",{className:"text-sm text-gray-600",children:"Task Details"})]})]}),e.description&&c.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.description})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${D(e.status||"Open")}`,children:[O(e.status||"Open"),c.jsx("span",{className:"font-medium",children:e.status||"Open"})]}),e.priority&&c.jsx("div",{className:`px-3 py-1 rounded-full border ${$(e.priority)}`,children:c.jsx("span",{className:"text-sm font-medium",children:e.priority})})]})]}),c.jsxs("div",{className:"mt-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Task Progress"}),c.jsxs("span",{className:"text-lg font-bold text-orange-600",children:[e.progress||0,"%"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:c.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-yellow-600 h-3 rounded-full transition-all duration-500",style:{width:`${e.progress||0}%`}})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:c.jsx(rr,{className:"h-6 w-6 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),c.jsx("p",{className:"text-lg font-bold text-gray-900",children:k(e.exp_start_date)})]})]})}),c.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:c.jsx(Ax,{className:"h-6 w-6 text-purple-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),c.jsx("p",{className:"text-lg font-bold text-gray-900",children:k(e.exp_end_date)})]})]})}),c.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:c.jsx(Yl,{className:"h-6 w-6 text-green-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Assigned To"}),S&&S.length>0?c.jsxs("div",{children:[c.jsx("p",{className:"text-lg font-bold text-gray-900",children:(R==null?void 0:R.full_name)||C}),(R==null?void 0:R.email)&&c.jsx("p",{className:"text-sm text-gray-600",children:R.email})]}):c.jsx("p",{className:"text-lg font-bold text-gray-900",children:"Unassigned"})]})]})})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Task Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Task ID"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:e.name})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),c.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${D(e.status||"Open")}`,children:[O(e.status||"Open"),c.jsx("span",{className:"font-medium",children:e.status||"Open"})]})]}),c.jsxs("div",{className:"flex items-center justify-between py-3",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),c.jsx("div",{className:`px-3 py-1 rounded-full ${$(e.priority||"Medium")}`,children:c.jsx("span",{className:"font-medium",children:e.priority||"Medium"})})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Subtasks Count"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:(w==null?void 0:w.length)||0})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:e.exp_start_date&&e.exp_end_date?`${Math.ceil((new Date(e.exp_end_date).getTime()-new Date(e.exp_start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Progress"}),c.jsxs("span",{className:"text-xl font-bold text-orange-600",children:[e.progress||0,"%"]})]}),c.jsxs("div",{className:"flex items-center justify-between py-3",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Assigned To"}),S&&S.length>0?c.jsx("div",{children:c.jsx("p",{className:"text-lg font-bold text-gray-900",children:(R==null?void 0:R.full_name)||C})}):c.jsx("p",{className:"text-lg font-bold text-gray-900",children:"Unassigned"})]})]})]})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsx("div",{className:"flex items-center justify-between mb-6",children:c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"SubTasks"})}),_?c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"})]}):c.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[c.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:c.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3",children:[c.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700",children:"#"}),c.jsx("div",{className:"col-span-5 text-sm font-medium text-gray-700",children:"SubTask"}),c.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Status"}),c.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Assign To"}),c.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Actions"})]})}),c.jsxs("div",{className:"divide-y divide-gray-100",children:[w&&w.length>0?w.map((K,I)=>c.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[c.jsx("div",{className:"col-span-1 flex items-center",children:c.jsx("span",{className:"text-sm text-gray-600",children:I+1})}),c.jsxs("div",{className:"col-span-5 flex items-center gap-3",children:[c.jsx("div",{className:"p-1 bg-green-100 rounded",children:c.jsx("span",{className:"text-sm",children:"✅"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:K.subject||K.name}),c.jsx("div",{className:"text-sm text-gray-500",children:K.name})]})]}),c.jsx("div",{className:"col-span-2 flex items-center justify-center",children:c.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${D(K.status||"Open")}`,children:K.status||"Open"})}),c.jsx("div",{className:"col-span-2 flex items-center justify-center",children:c.jsx(J,{subtask:K})}),c.jsx("div",{className:"col-span-2 flex items-center justify-center",children:s&&c.jsx(We,{variant:"outline",size:"sm",onClick:()=>s(K),className:"h-7 px-2 text-xs",children:"View Details"})})]},K.name)):c.jsxs("div",{className:"px-6 py-8 text-center text-gray-500",children:[c.jsx("div",{className:"text-4xl mb-2",children:"✅"}),c.jsx("div",{className:"text-lg font-medium mb-1",children:"No subtasks yet"}),c.jsx("div",{className:"text-sm",children:'Click "Add SubTask" to create the first subtask for this task'})]}),c.jsx("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 bg-gray-50 border-t border-gray-200",children:c.jsx("div",{className:"col-span-12 flex items-center justify-center",children:c.jsxs(We,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",onClick:()=>d(!0),children:[c.jsx(Ai,{className:"h-4 w-4"}),"Add new subtask to this task"]})})})]})]})]}),c.jsx(FF,{isOpen:l,onClose:()=>d(!1),projectName:t,parentTask:e.name,onSuccess:()=>ye(null,null,function*(){console.log("SubTask created successfully for task:",e.name),j(),setTimeout(()=>ye(null,null,function*(){console.log("Recalculating task progress after subtask creation..."),yield y(e.name),setTimeout(()=>ye(null,null,function*(){console.log("Updating phase progress after task progress update..."),yield b(e.name,t)}),500)}),500)})}),c.jsx(VF,{task:e,projectName:t,isOpen:f,onClose:()=>h(!1),onSuccess:A}),c.jsx($F,{task:e,isOpen:p,onClose:()=>g(!1),onSuccess:B})]})},YF=({subtask:e,projectName:t,isOpen:n,onClose:s,onSuccess:a})=>{var k;const{updateSubTask:o,isLoading:l,error:d}=ST(),{assignSubTask:f,unassignSubTask:h}=NT(),{calculateAndUpdateTaskProgress:p}=lc(),{data:g,isLoading:b}=oc(t),{data:y}=dn("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(e==null?void 0:e.name)||""]]}),[w,_]=N.useState({subject:"",status:"Open",start_date:"",end_date:"",description:"",assign_to:""}),j=((k=y==null?void 0:y[0])==null?void 0:k.allocated_to)||"";N.useEffect(()=>{e&&_({subject:e.subject||"",status:e.status||"Open",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",description:e.description||"",assign_to:j})},[e,j]);const S=(O,D)=>{_($=>de(L({},$),{[O]:D}))},C=O=>ye(null,null,function*(){if(O.preventDefault(),!!e)try{const D=w,{assign_to:$}=D,A=Me(D,["assign_to"]);yield o(e.name,A);const B=j,J=$;if(B&&B!==J){const K=y==null?void 0:y.find(I=>I.allocated_to===B);K&&(yield h(K.name))}J&&J!==B&&(yield f(e.name,J)),e.task&&A.status!==e.status&&(yield p(e.task)),a&&a(),s()}catch($){console.error("Error updating subtask:",$)}}),R=()=>{e&&_({subject:e.subject||"",status:e.status||"Open",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",description:e.description||"",assign_to:j}),s()};return c.jsx(xs,{open:n,onOpenChange:s,children:c.jsxs(ys,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[c.jsx(bs,{children:c.jsx(ws,{children:"Edit SubTask"})}),c.jsxs("form",{onSubmit:C,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"subject",children:"Subject *"}),c.jsx(Bt,{id:"subject",value:w.subject,onChange:O=>S("subject",O.target.value),required:!0,placeholder:"Enter subtask subject"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"status",children:"Status"}),c.jsxs("select",{id:"status",value:w.status,onChange:O=>S("status",O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"Open",children:"Open"}),c.jsx("option",{value:"Working",children:"Working"}),c.jsx("option",{value:"Pending Review",children:"Pending Review"}),c.jsx("option",{value:"Completed",children:"Completed"}),c.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"start_date",children:"Start Date"}),c.jsx(Bt,{id:"start_date",type:"date",value:w.start_date,onChange:O=>S("start_date",O.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"end_date",children:"End Date"}),c.jsx(Bt,{id:"end_date",type:"date",value:w.end_date,onChange:O=>S("end_date",O.target.value)})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"description",children:"Description"}),c.jsx("textarea",{id:"description",value:w.description,onChange:O=>S("description",O.target.value),placeholder:"Enter subtask description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"assign_to",children:"Assign To"}),c.jsxs("select",{id:"assign_to",value:w.assign_to,onChange:O=>S("assign_to",O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:b,children:[c.jsx("option",{value:"",children:"Select user..."}),g==null?void 0:g.map(O=>c.jsx("option",{value:O.user||O.name,children:O.user||O.name},O.name))]}),b&&c.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),d&&c.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:c.jsxs("p",{children:[c.jsx("strong",{children:"Error:"})," ",d.message||"Failed to update subtask"]})}),c.jsxs(vs,{className:"flex gap-2",children:[c.jsx(We,{type:"button",variant:"outline",onClick:R,children:"Cancel"}),c.jsx(We,{type:"submit",disabled:l,children:l?"Updating...":"Update SubTask"})]})]})]})})},WF=({subtask:e,isOpen:t,onClose:n,onSuccess:s})=>{const{call:a,loading:o,error:l}=gs("frappe.client.delete"),{calculateAndUpdateTaskProgress:d}=lc(),f=()=>ye(null,null,function*(){if(e)try{if(yield a({doctype:"SubTask",name:e.name}),e.task)try{yield d(e.task)}catch(p){console.error("Error updating task progress after subtask deletion:",p)}s&&s(),n()}catch(p){console.error("Error deleting subtask:",p)}}),h=()=>{n()};return c.jsx(xs,{open:t,onOpenChange:n,children:c.jsxs(ys,{className:"sm:max-w-[400px]",children:[c.jsx(bs,{children:c.jsxs(ws,{className:"flex items-center gap-2 text-red-600",children:[c.jsx(Wh,{className:"h-5 w-5"}),"Delete SubTask"]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this subtask? This action cannot be undone."}),e&&c.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[c.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),c.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),c.jsxs("div",{className:"text-sm text-gray-600",children:["Progress: ",e.progress||0,"%"]}),c.jsxs("div",{className:"text-sm text-gray-600",children:["Task: ",e.task]})]}),c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[c.jsxs("div",{className:"text-sm text-red-800",children:[c.jsx("strong",{children:"Warning:"})," Deleting this subtask will also remove:"]}),c.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[c.jsx("li",{children:"All subtask progress data"}),c.jsx("li",{children:"Subtask timeline and activities"}),c.jsx("li",{children:"Related comments and attachments"}),c.jsx("li",{children:"Any associated time logs"})]})]}),l&&c.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:c.jsxs("p",{children:[c.jsx("strong",{children:"Error:"})," ",l.message||"Failed to delete subtask"]})})]}),c.jsxs(vs,{className:"flex gap-2",children:[c.jsx(We,{type:"button",variant:"outline",onClick:h,children:"Cancel"}),c.jsx(We,{type:"button",variant:"destructive",onClick:f,disabled:o,children:o?"Deleting...":"Delete SubTask"})]})]})})},XF=({subtask:e,projectName:t,onBack:n,onSubTaskUpdated:s,onSubTaskDeleted:a})=>{var R;const[o,l]=N.useState(!1),[d,f]=N.useState(!1),{calculateAndUpdateTaskProgress:h}=lc(),{updatePhaseProgressForTask:p}=Oy(),{data:g}=dn("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(e==null?void 0:e.name)||""]]}),b=(R=g==null?void 0:g[0])==null?void 0:R.allocated_to,{data:y}=ss("User",b||"",{shouldFetch:!!b}),w=k=>k?new Date(k).toLocaleDateString():"N/A",_=k=>{switch(k){case"Completed":return c.jsx(Ih,{className:"h-5 w-5 text-green-600"});case"Working":return c.jsx(Ci,{className:"h-5 w-5 text-yellow-600"});case"Open":return c.jsx(Ao,{className:"h-5 w-5 text-blue-600"});default:return c.jsx(Ao,{className:"h-5 w-5 text-gray-400"})}},j=k=>{switch(k){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},S=()=>ye(null,null,function*(){if(e!=null&&e.task)try{yield h(e.task),setTimeout(()=>ye(null,null,function*(){try{yield p(e.task,t),console.log("Phase progress updated after subtask edit")}catch(k){console.error("Error updating phase progress after subtask edit:",k)}}),500)}catch(k){console.error("Error updating task progress after subtask edit:",k)}s&&s()}),C=()=>ye(null,null,function*(){if(e!=null&&e.task)try{yield h(e.task),setTimeout(()=>ye(null,null,function*(){try{yield p(e.task,t),console.log("Phase progress updated after subtask delete")}catch(k){console.error("Error updating phase progress after subtask delete:",k)}}),500)}catch(k){console.error("Error updating task progress after subtask delete:",k)}a&&a(),n()});return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(We,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-2",children:[c.jsx(Nx,{className:"h-4 w-4"}),"Back to Tasks"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(We,{variant:"outline",size:"sm",onClick:()=>l(!0),className:"flex items-center gap-2",children:[c.jsx(Bl,{className:"h-4 w-4"}),"Edit SubTask"]}),c.jsxs(We,{variant:"outline",size:"sm",onClick:()=>f(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[c.jsx(Il,{className:"h-4 w-4"}),"Delete SubTask"]})]})]}),c.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-6",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("div",{className:"h-12 w-12 rounded-lg bg-green-500 flex items-center justify-center",children:c.jsx("span",{className:"text-xl",children:"✅"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.subject}),c.jsx("p",{className:"text-sm text-gray-600",children:"SubTask Details"})]})]}),e.description&&c.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.description})]}),c.jsx("div",{className:"flex items-center gap-3",children:c.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${j(e.status||"Open")}`,children:[_(e.status||"Open"),c.jsx("span",{className:"font-medium",children:e.status||"Open"})]})})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:c.jsx(rr,{className:"h-6 w-6 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),c.jsx("p",{className:"text-lg font-bold text-gray-900",children:w(e.start_date)})]})]})}),c.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:c.jsx(Ax,{className:"h-6 w-6 text-purple-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),c.jsx("p",{className:"text-lg font-bold text-gray-900",children:w(e.end_date)})]})]})}),c.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-6",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:c.jsx(N2,{className:"h-6 w-6 text-orange-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-orange-600 uppercase tracking-wide",children:"Parent Task"}),c.jsx("p",{className:"text-lg font-bold text-gray-900",children:e.task||"N/A"})]})]})})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"SubTask Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"SubTask ID"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:e.name})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Parent Task"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:e.task||"N/A"})]}),c.jsxs("div",{className:"flex items-center justify-between py-3",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),c.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${j(e.status||"Open")}`,children:[_(e.status||"Open"),c.jsx("span",{className:"font-medium",children:e.status||"Open"})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Start Date"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:w(e.start_date)})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"End Date"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:w(e.end_date)})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:e.start_date&&e.end_date?`${Math.ceil((new Date(e.end_date).getTime()-new Date(e.start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-t border-gray-100",children:[c.jsxs("span",{className:"text-gray-600 font-medium flex items-center gap-2",children:[c.jsx(Yl,{className:"h-4 w-4"}),"Assigned To"]}),c.jsx("span",{className:"text-gray-900 font-semibold",children:b?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{children:(y==null?void 0:y.full_name)||b}),(y==null?void 0:y.user_image)&&c.jsx("img",{src:y.user_image,alt:y.full_name||b,className:"h-6 w-6 rounded-full"})]}):c.jsx("span",{className:"text-gray-400",children:"Not assigned"})})]})]})]})]}),e.description&&c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Description"}),c.jsx("div",{className:"prose max-w-none",children:c.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:e.description})})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Activity Timeline"}),c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx("div",{className:"text-4xl mb-2",children:"📋"}),c.jsx("div",{className:"text-lg font-medium mb-1",children:"No activity yet"}),c.jsx("div",{className:"text-sm",children:"Activity and updates will appear here when available"})]})]}),c.jsx(YF,{subtask:e,projectName:t,isOpen:o,onClose:()=>l(!1),onSuccess:S}),c.jsx(WF,{subtask:e,isOpen:d,onClose:()=>f(!1),onSuccess:C})]})},So=class So{static useUserProjects(){const{currentUser:t}=Ti(),{data:n,isLoading:s,error:a,mutate:o}=dn("Project",{fields:So.PROJECT_FIELDS,filters:t?[["owner","=",t]]:[]}),{data:l,isLoading:d,error:f,mutate:h}=dn("Project",{fields:So.PROJECT_FIELDS,limit:0}),p=Z.useMemo(()=>{if(!t)return[];const b=w=>{const _=new Map;return w.forEach(j=>{var C;const S=j.name;if(!_.has(S)){const R={name:j.name,owner:j.owner,project_name:j.project_name,project_type:j.project_type,status:j.status,customer:j.customer,expected_start_date:j.expected_start_date,expected_end_date:j.expected_end_date,percent_complete:j.percent_complete,priority:j.priority,department:j.department,estimated_costing:j.estimated_costing,total_billable_amount:j.total_billable_amount,company:j.company,users:[]};_.set(S,R)}if(j.user){const R=_.get(S);((C=R.users)==null?void 0:C.some(O=>O.user===j.user))||(R.users=R.users||[],R.users.push({user:j.user,email:j.email,full_name:j.full_name,project_status:j.project_status}))}}),Array.from(_.values())};let y=[];if(n&&n.length>0&&(y=y.concat(n)),l&&l.length>0){const w=l.filter(_=>_.owner===t||_.user&&_.user===t);y=y.concat(w)}return b(y)},[n,l,t]),g=Z.useCallback(()=>{o(),h()},[o,h]);return{data:p,isLoading:s||d,error:a&&f?a||f:null,mutate:g}}static useProject(t){const{data:n,isLoading:s,error:a,mutate:o}=ss("Project",t||"",t?"Project":void 0);return{data:n,isLoading:s,error:a,mutate:o}}static useProjectOwner(t){const{data:n,isLoading:s,error:a}=ss("User",t||"",t?void 0:null);return{data:n,isLoading:s,error:a}}static useCreateProject(){const{createDoc:t,loading:n,error:s}=zi();return{createProject:o=>ye(null,null,function*(){return yield t("Project",de(L({},o),{expected_start_date:o.expected_start_date||void 0,expected_end_date:o.expected_end_date||void 0}))}),isLoading:n,error:s}}static useUpdateProject(){const{updateDoc:t,loading:n,error:s}=$s();return{updateProject:(o,l)=>ye(null,null,function*(){return yield t("Project",o,de(L({},l),{expected_start_date:l.expected_start_date||void 0,expected_end_date:l.expected_end_date||void 0}))}),isLoading:n,error:s}}static useDeleteProject(){const{call:t,loading:n,error:s}=gs("frappe.client.delete");return{deleteProject:o=>ye(null,null,function*(){return yield t({doctype:"Project",name:o})}),isLoading:n,error:s}}static useProjectMembers(){const{call:t}=gs("frappe.client.insert"),{call:n}=gs("frappe.client.save"),{call:s}=gs("frappe.client.delete");return{addMember:d=>ye(null,null,function*(){return yield t({doc:de(L({doctype:"Project User"},d),{welcome_email_sent:1})})}),updateMember:(d,f)=>ye(null,null,function*(){return yield n({doc:L({doctype:"Project User",name:d},f)})}),removeMember:d=>ye(null,null,function*(){return yield s({doctype:"Project User",name:d})})}}static useProjectOwnerManagement(){const{call:t}=gs("frappe.client.save"),{call:n}=gs("frappe.client.set_value");return{transferOwner:(o,l)=>ye(null,null,function*(){try{return yield t({doc:{doctype:"Project",name:o,owner:l}}),{success:!0,method:"save"}}catch(d){try{return yield n({doctype:"Project",name:o,fieldname:"owner",value:l}),{success:!0,method:"set_value"}}catch(f){throw new Error("Owner field is protected by ERPNext")}}}),transferOwnerWithAPI:(o,l)=>ye(null,null,function*(){try{const d=yield fetch("/api/method/my_app.api.project_transfer.transfer_project_owner",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({project_name:o,new_owner:l})}),f=yield d.json();return d.ok&&f.message?{success:!0,data:f.message}:{success:!1,error:f.message||"Transfer failed"}}catch(d){return{success:!1,error:d instanceof Error?d.message:"Unknown error"}}})}}static useProjectUsers(t){const{data:n,isLoading:s,error:a,mutate:o}=ss("Project",t,{fields:["name","users"]});return{data:(n==null?void 0:n.users)||[],isLoading:s,error:a,mutate:o}}static useProjectUsersAlt(t){const{data:n,isLoading:s,error:a,mutate:o}=dn("Project User",{fields:["name","user","email","full_name","image"],filters:[["parent","=",t]],limit:0});return{data:n||[],isLoading:s,error:a,mutate:o}}};ft(So,"PROJECT_FIELDS",["name","owner","project_name","project_type","status","customer","department","expected_start_date","expected_end_date","percent_complete","priority","estimated_costing","total_billable_amount","company","users.user","users.email","users.full_name","users.project_status"]),ft(So,"DETAILED_PROJECT_FIELDS",[...So.PROJECT_FIELDS,"creation","modified","modified_by","description","notes","expected_start_date","actual_start_date","actual_end_date","total_costing_amount","total_purchase_cost","total_sales_amount","total_billed_amount","users"]);let Xu=So;const GF=Xu.useUserProjects,KF=Xu.useCreateProject,QF=Xu.useUpdateProject;class ZF{static useProjectCascadeDelete(){const{call:t}=gs("frappe.client.delete"),{call:n}=gs("frappe.client.get_list");return{deleteProjectCascade:a=>ye(null,null,function*(){try{console.log(`Starting cascade delete for project: ${a}`);try{const y=yield n({doctype:"Project",fields:["name"],filters:[["name","=",a]],limit_page_length:1});if(!(y!=null&&y.message)||y.message.length===0)throw new Error(`Project ${a} not found`)}catch(y){throw console.error("Project validation failed:",y),new Error(`Project validation failed: ${y instanceof Error?y.message:"Unknown validation error"}`)}let o=0,l=0,d=0;console.log("Step 1: Fetching all tasks...");let f=[];try{const y=yield n({doctype:"Task",fields:["name"],filters:[["project","=",a]],limit_page_length:1e3});f=(y==null?void 0:y.message)||[],console.log(`Found ${f.length} tasks to delete`)}catch(y){console.error("Error fetching tasks:",y),console.log("Continuing with deletion despite task fetch error...")}if(f.length>0){console.log(`Step 2: Processing ${f.length} tasks for subtask deletion...`);for(const y of f){console.log(`Step 2: Deleting subtasks for task ${y.name}...`);try{const w=yield n({doctype:"SubTask",fields:["name"],filters:[["task","=",y.name]],limit_page_length:1e3}),_=(w==null?void 0:w.message)||[];console.log(`Found ${_.length} subtasks for task ${y.name}`);for(const j of _)try{console.log(`Deleting subtask: ${j.name}`),yield t({doctype:"SubTask",name:j.name}),o++,console.log(`Successfully deleted subtask: ${j.name}`),yield new Promise(S=>setTimeout(S,100))}catch(S){console.error(`Error deleting subtask ${j.name}:`,S)}}catch(w){console.error(`Error fetching subtasks for task ${y.name}:`,w)}}yield new Promise(y=>setTimeout(y,500))}if(f.length>0){console.log(`Step 3: Deleting ${f.length} tasks...`);for(const y of f)try{console.log(`Deleting task: ${y.name}`),yield t({doctype:"Task",name:y.name}),l++,console.log(`Successfully deleted task: ${y.name}`),yield new Promise(w=>setTimeout(w,100))}catch(w){console.error(`Error deleting task ${y.name}:`,w)}yield new Promise(y=>setTimeout(y,500))}console.log("Step 4: Deleting all phases...");let h=[];try{const y=yield n({doctype:"project_phase",fields:["name"],filters:[["project","=",a]],limit_page_length:1e3});h=(y==null?void 0:y.message)||[],console.log(`Found ${h.length} phases to delete`)}catch(y){console.error("Error fetching phases:",y),console.log("Continuing with deletion despite phase fetch error...")}for(const y of h)try{console.log(`Deleting phase: ${y.name}`),yield t({doctype:"project_phase",name:y.name}),d++,console.log(`Successfully deleted phase: ${y.name}`),yield new Promise(w=>setTimeout(w,100))}catch(w){console.error(`Error deleting phase ${y.name}:`,w)}h.length>0&&(yield new Promise(y=>setTimeout(y,500))),console.log("Step 5: Deleting ToDo assignments...");try{const y=yield n({doctype:"ToDo",fields:["name"],filters:[["reference_type","in",["Project","Task","SubTask"]],["reference_name","like",`%${a}%`]],limit_page_length:1e3}),w=(y==null?void 0:y.message)||[];console.log(`Found ${w.length} ToDo assignments to delete`);for(const _ of w)try{yield t({doctype:"ToDo",name:_.name})}catch(j){console.error(`Error deleting ToDo ${_.name}:`,j)}}catch(y){console.error("Error fetching/deleting ToDo assignments:",y)}console.log("Step 6: Deleting project users...");try{const y=yield n({doctype:"Project User",fields:["name"],filters:[["parent","=",a]],limit_page_length:1e3}),w=(y==null?void 0:y.message)||[];console.log(`Found ${w.length} project users to delete`);for(const _ of w)try{yield t({doctype:"Project User",name:_.name})}catch(j){console.error(`Error deleting Project User ${_.name}:`,j)}}catch(y){console.error("Error fetching/deleting project users:",y)}console.log("Step 6.5: Performing comprehensive dependency cleanup...");const p=[{doctype:"Task",filter:[["project","=",a]]},{doctype:"SubTask",filter:[["project","=",a]]},{doctype:"project_phase",filter:[["project","=",a]]},{doctype:"Project User",filter:[["parent","=",a]]},{doctype:"ToDo",filter:[["reference_type","=","Project"],["reference_name","=",a]]},{doctype:"ToDo",filter:[["reference_type","=","Task"],["reference_name","like",`%${a}%`]]},{doctype:"Communication",filter:[["reference_doctype","=","Project"],["reference_name","=",a]]},{doctype:"File",filter:[["attached_to_doctype","=","Project"],["attached_to_name","=",a]]},{doctype:"Comment",filter:[["reference_doctype","=","Project"],["reference_name","=",a]]}];for(const y of p)try{console.log(`Checking for remaining ${y.doctype} dependencies...`);const w=yield n({doctype:y.doctype,fields:["name"],filters:y.filter,limit_page_length:1e3}),_=(w==null?void 0:w.message)||[];if(_.length>0){console.log(`Found ${_.length} remaining ${y.doctype} items, deleting them...`);for(const j of _)try{yield t({doctype:y.doctype,name:j.name}),console.log(`Deleted remaining ${y.doctype}: ${j.name}`),yield new Promise(S=>setTimeout(S,100))}catch(S){console.error(`Error deleting remaining ${y.doctype} ${j.name}:`,S)}}else console.log(`No remaining ${y.doctype} dependencies found.`)}catch(w){console.error(`Error checking ${y.doctype} dependencies:`,w)}yield new Promise(y=>setTimeout(y,1e3)),console.log("Step 7: Deleting the project..."),yield new Promise(y=>setTimeout(y,1e3));let g=0;const b=3;for(;g<b;)try{g++,console.log(`Attempting to delete project ${a} (attempt ${g}/${b})`),yield t({doctype:"Project",name:a}),console.log(`Verifying project ${a} deletion...`);try{const y=yield n({doctype:"Project",fields:["name"],filters:[["name","=",a]],limit_page_length:1});if(y!=null&&y.message&&y.message.length>0)throw new Error("Project still exists after deletion attempt");console.log(`Successfully verified project ${a} deletion`)}catch(y){if(y.message==="Project still exists after deletion attempt")throw y;console.log(`Project ${a} not found during verification - deletion successful`)}console.log(`Successfully deleted project: ${a}`);break}catch(y){if(console.error(`Error deleting project ${a} (attempt ${g}):`,y),g<b){console.log(`Waiting before retry attempt ${g+1}...`),yield new Promise(w=>setTimeout(w,2e3)),console.log("Attempting to clean up remaining dependencies...");try{const w=yield n({doctype:"Project User",fields:["name"],filters:[["parent","=",a]],limit_page_length:1e3}),_=(w==null?void 0:w.message)||[];if(_.length>0){console.log(`Found ${_.length} remaining project users, deleting them...`);for(const j of _)try{yield t({doctype:"Project User",name:j.name}),console.log(`Deleted remaining project user: ${j.name}`)}catch(S){console.error(`Error deleting remaining project user ${j.name}:`,S)}}}catch(w){console.error("Error during dependency cleanup:",w)}try{const w=yield n({doctype:"ToDo",fields:["name"],filters:[["reference_type","=","Project"],["reference_name","=",a]],limit_page_length:1e3}),_=(w==null?void 0:w.message)||[];if(_.length>0){console.log(`Found ${_.length} remaining todos, deleting them...`);for(const j of _)try{yield t({doctype:"ToDo",name:j.name}),console.log(`Deleted remaining todo: ${j.name}`)}catch(S){console.error(`Error deleting remaining todo ${j.name}:`,S)}}}catch(w){console.error("Error during todo cleanup:",w)}}else{let w="Unknown project deletion error";if(y&&typeof y=="object")if(console.error("Full project deletion error object:",JSON.stringify(y,null,2)),y.message)w=y.message;else if(y.exc)w=y.exc;else if(y._server_messages)try{const _=JSON.parse(y._server_messages);Array.isArray(_)&&_.length>0&&(w=JSON.parse(_[0]).message||w)}catch(_){console.error("Error parsing server messages:",_)}else w=JSON.stringify(y);else typeof y=="string"&&(w=y);throw new Error(`Failed to delete project ${a} after ${b} attempts: ${w}`)}}return console.log(`Successfully completed cascade delete for project: ${a}`),{success:!0,deletedItems:{subtasks:o,tasks:l,phases:d,project:1}}}catch(o){console.error("Error in cascade delete:",o);let l="Unknown error";throw o instanceof Error?l=o.message:typeof o=="string"?l=o:o&&typeof o=="object"&&(l=o.message||o.error||o.exc||JSON.stringify(o)),new Error(`Failed to delete project and related items: ${l}`)}})}}}const{useProjectCascadeDelete:JF}=ZF;class eH{static useUserAssignedTasks(){const{currentUser:t}=Ti(),{data:n,isLoading:s,error:a,mutate:o}=dn("ToDo",{fields:["name","status","priority","date","allocated_to","description","reference_type","reference_name","assigned_by","assigned_by_full_name","creation","modified"],filters:[["allocated_to","=",t||""]],orderBy:{field:"creation",order:"desc"},limit:0},t?"user-assigned-todos":null),d=(n||[]).filter(I=>I.reference_type==="Task").map(I=>I.reference_name).filter(Boolean),h=(n||[]).filter(I=>I.reference_type==="SubTask").map(I=>I.reference_name).filter(Boolean),{data:p,isLoading:g,error:b}=dn("Task",{fields:["name","subject","project","status","priority","type","expected_time","actual_time","exp_start_date","exp_end_date","progress","is_group","parent_task","description","company","department"],filters:d.length>0?[["name","in",d]]:[["name","=","nonexistent"]],limit:0},d.length>0?"user-assigned-tasks":null),{data:y,isLoading:w,error:_}=dn("SubTask",{fields:["name","subject","task","status","start_date","end_date","description","assigned_to"],filters:h.length>0?[["name","in",h]]:[["name","=","nonexistent"]],limit:0},h.length>0?"user-assigned-subtasks":null),j=[...new Set((y||[]).map(I=>I.task).filter(Boolean))],{data:S}=dn("Task",{fields:["name","subject","project"],filters:j.length>0?[["name","in",j]]:[["name","=","nonexistent"]],limit:0},j.length>0?"parent-tasks-for-subtasks":null),C=[...new Set([...(p||[]).map(I=>I.project).filter(Boolean),...(S||[]).map(I=>I.project).filter(Boolean)])],{data:R}=dn("Project",{fields:["name","project_name"],filters:C.length>0?[["name","in",C]]:[["name","=","nonexistent"]],limit:0},C.length>0?"projects-for-assigned-tasks":null),k=(R||[]).reduce((I,ee)=>(I[ee.name]=ee.project_name||ee.name,I),{}),O=(S||[]).reduce((I,ee)=>(I[ee.name]=ee,I),{}),D=(n||[]).reduce((I,ee)=>(ee.reference_name&&(I[ee.reference_name]=ee),I),{}),$=(p||[]).map(I=>de(L({},I),{project_name:I.project?k[I.project]:void 0,assignedTodo:D[I.name]})),A=(y||[]).map(I=>{const ee=I.task?O[I.task]:void 0;return de(L({},I),{task_subject:ee==null?void 0:ee.subject,project_name:ee!=null&&ee.project?k[ee.project]:void 0,assignedTodo:D[I.name]})});return{tasks:$,subTasks:A,todos:n||[],isLoading:s||g||w,error:a||b||_,mutate:()=>{o()},currentUser:t}}static getRoleOfTeam(){const{currentUser:t}=Ti();return console.log("Current User:",t),null}}const tH=eH.useUserAssignedTasks,AT=({project:e,isOpen:t,onClose:n,onSuccess:s})=>{const{updateProject:a,isLoading:o}=QF(),{register:l,control:d,handleSubmit:f,reset:h,formState:{errors:p}}=Pu({defaultValues:{project_name:"",customer:"",project_type:"",status:"Open",priority:"Medium",department:"",company:"",cost_center:"",expected_start_date:"",expected_end_date:"",notes:""}});N.useEffect(()=>{e&&h({project_name:e.project_name||"",customer:e.customer||"",project_type:e.project_type||"",status:e.status||"Open",priority:e.priority||"Medium",department:e.department||"",company:e.company||"",cost_center:e.cost_center||"",expected_start_date:e.expected_start_date?e.expected_start_date.split(" ")[0]:"",expected_end_date:e.expected_end_date?e.expected_end_date.split(" ")[0]:"",notes:e.notes||""})},[e,h]);const g=y=>ye(null,null,function*(){if(e)try{yield a(e.name,y),kn.success("Project updated successfully"),s&&s(),n()}catch(w){let _="Edit project failed";if(w!=null&&w._server_messages)try{const j=JSON.parse(w._server_messages);Array.isArray(j)&&j.length>0&&(_=JSON.parse(j[0]).message||_)}catch(j){console.error("Parse error messages failed:",j)}else w!=null&&w.message&&(_=w.message);kn.error("Update project failed",{description:_}),console.error("Error updating project:",w)}}),b=()=>{e&&h({project_name:e.project_name||"",customer:e.customer||"",project_type:e.project_type||"",status:e.status||"Open",priority:e.priority||"Medium",department:e.department||"",company:e.company||"",cost_center:e.cost_center||"",expected_start_date:e.expected_start_date?e.expected_start_date.split(" ")[0]:"",expected_end_date:e.expected_end_date?e.expected_end_date.split(" ")[0]:"",notes:e.notes||""}),n()};return c.jsx(xs,{open:t,onOpenChange:n,children:c.jsxs(ys,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[c.jsx(bs,{children:c.jsx(ws,{children:"Edit Project"})}),c.jsxs("form",{onSubmit:f(g),className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"project_name",children:"Project Name *"}),c.jsx(Bt,de(L({id:"project_name"},l("project_name",{required:"Project name is required",maxLength:{value:100,message:"Project name cannot exceed 100 characters"}})),{placeholder:"Enter project name"})),p.project_name&&c.jsx("span",{className:"text-red-500 text-sm",children:p.project_name.message})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ze,{children:"Customer"}),c.jsx(nr,{name:"customer",control:d,render:({field:y})=>c.jsx(sr,{doctype:"Customer",value:y.value||"",onChange:y.onChange,placeholder:"Select customer...",displayField:"customer_name",valueField:"name",className:"w-full"})})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ze,{children:"Project Type"}),c.jsx(nr,{name:"project_type",control:d,render:({field:y})=>c.jsx(sr,{doctype:"Project Type",value:y.value||"",onChange:y.onChange,placeholder:"Select type...",className:"w-full"})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ze,{children:"Status"}),c.jsxs("select",de(L({},l("status")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[c.jsx("option",{value:"",children:"Select status..."}),c.jsx("option",{value:"Open",children:"Open"}),c.jsx("option",{value:"Completed",children:"Completed"}),c.jsx("option",{value:"Cancelled",children:"Cancelled"})]}))]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ze,{children:"Priority"}),c.jsxs("select",de(L({},l("priority")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[c.jsx("option",{value:"",children:"Select priority..."}),c.jsx("option",{value:"Low",children:"Low"}),c.jsx("option",{value:"Medium",children:"Medium"}),c.jsx("option",{value:"High",children:"High"}),c.jsx("option",{value:"Critical",children:"Critical"})]}))]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ze,{children:"Department"}),c.jsx(nr,{name:"department",control:d,render:({field:y})=>c.jsx(sr,{doctype:"Department",value:y.value||"",onChange:y.onChange,placeholder:"Select department...",className:"w-full"})})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ze,{children:"Company"}),c.jsx(nr,{name:"company",control:d,render:({field:y})=>c.jsx(sr,{doctype:"Company",value:y.value||"",onChange:y.onChange,placeholder:"Select company...",className:"w-full"})})]})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ze,{children:"Cost Center"}),c.jsx(nr,{name:"cost_center",control:d,render:({field:y})=>c.jsx(sr,{doctype:"Cost Center",value:y.value||"",onChange:y.onChange,placeholder:"Select cost center...",className:"w-full"})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"expected_start_date",children:"Expected Start Date"}),c.jsx(Bt,L({id:"expected_start_date",type:"date"},l("expected_start_date")))]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"expected_end_date",children:"Expected End Date"}),c.jsx(Bt,L({id:"expected_end_date",type:"date"},l("expected_end_date")))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"notes",children:"Notes"}),c.jsx("textarea",de(L({id:"notes"},l("notes")),{placeholder:"Enter project notes",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}))]}),c.jsxs(vs,{className:"flex gap-2",children:[c.jsx(We,{type:"button",variant:"outline",onClick:b,children:"Cancel"}),c.jsx(We,{type:"submit",disabled:o,children:o?"Updating...":"Update Project"})]})]})]})})},OT=({project:e,isOpen:t,onClose:n,onSuccess:s})=>{const{deleteProjectCascade:a}=JF(),[o,l]=N.useState(!1),[d,f]=N.useState(null),[h,p]=N.useState(""),g=()=>ye(null,null,function*(){if(!e){console.error("No project selected for deletion"),kn.error("Delete project failed",{description:"No project selected"});return}if(o){console.log("Delete already in progress, ignoring duplicate request");return}l(!0),f(null),p("Starting deletion...");try{console.log(`Starting deletion for project: ${e.name}`),p("Deleting subtasks..."),yield new Promise(w=>setTimeout(w,300)),p("Deleting tasks..."),yield new Promise(w=>setTimeout(w,300)),p("Deleting project phases..."),yield new Promise(w=>setTimeout(w,300)),p("Cleaning up dependencies..."),yield new Promise(w=>setTimeout(w,300)),p("Deleting project...");const y=yield a(e.name);p("Deletion completed successfully!"),console.log("Cascade deletion result:",y),kn.success("Project deleted successfully",{description:`Project "${e.name}" and all related items have been deleted.`}),s&&s(),n()}catch(y){let w="Delete project failed",_=!1;if(y!=null&&y._server_messages)try{const j=JSON.parse(y._server_messages);Array.isArray(j)&&j.length>0&&(w=JSON.parse(j[0]).message||w)}catch(j){console.error("Parse error messages failed:",j)}else y!=null&&y.message&&(w=y.message,(w.includes("dependencies")||w.includes("linked")||w.includes("referenced")||w.includes("Unknown project deletion error"))&&(_=!0,w+=`

Tip: This error usually resolves on the second attempt. Please try again.`));console.error("Error deleting project:",y),kn.error("Delete project failed",{description:w,duration:_?8e3:5e3}),f(y instanceof Error?y:new Error(w)),p("")}finally{l(!1)}}),b=()=>{o||(f(null),p(""),n())};return c.jsx(xs,{open:t,onOpenChange:n,children:c.jsxs(ys,{className:"sm:max-w-[400px]",children:[c.jsx(bs,{children:c.jsxs(ws,{className:"flex items-center gap-2 text-red-600",children:[c.jsx(Wh,{className:"h-5 w-5"}),"Delete Project"]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this project? This action cannot be undone."}),e&&c.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[c.jsx("div",{className:"font-medium text-gray-900",children:e.project_name}),c.jsx("div",{className:"text-sm text-gray-600",children:e.customer||"No customer"}),c.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]})]}),c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[c.jsxs("div",{className:"text-sm text-red-800",children:[c.jsx("strong",{children:"Warning:"})," This will permanently delete in the following order:"]}),c.jsxs("ol",{className:"text-sm text-red-700 mt-1 ml-4 list-decimal",children:[c.jsx("li",{children:"All subtasks in all tasks"}),c.jsx("li",{children:"All tasks in the project"}),c.jsx("li",{children:"All project phases"}),c.jsx("li",{children:"All ToDo assignments"}),c.jsx("li",{children:"All project team members"}),c.jsx("li",{children:"The project itself"})]}),c.jsx("div",{className:"text-sm text-red-800 mt-2",children:c.jsx("strong",{children:"This action cannot be undone!"})})]}),o&&h&&c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(N0,{className:"h-4 w-4 animate-spin text-blue-600"}),c.jsxs("span",{className:"text-sm text-blue-800",children:[c.jsx("strong",{children:"Progress:"})," ",h]})]}),c.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"Please wait while we delete all related items..."})]}),d&&c.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:c.jsxs("p",{children:[c.jsx("strong",{children:"Error:"})," ",d.message||"Failed to delete project"]})})]}),c.jsxs(vs,{className:"flex gap-2",children:[c.jsx(We,{type:"button",variant:"outline",onClick:b,disabled:o,children:o?"Deleting...":"Cancel"}),c.jsx(We,{type:"button",variant:"destructive",onClick:g,disabled:o,className:"min-w-[120px]",children:o?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(N0,{className:"h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete Project"})]})]})})};function RT({project:e,isOpen:t,onClose:n}){const[s,a]=N.useState("overview"),[o,l]=N.useState(null),[d,f]=N.useState(null),[h,p]=N.useState(null),[g,b]=N.useState(!1),[y,w]=N.useState(null),[_,j]=N.useState(!1),[S,C]=N.useState(!1),[R,k]=N.useState(!1),[O,D]=N.useState(!1),[$,A]=N.useState(!1),{updateProjectProgress:B}=Oy(),{data:J,isLoading:K,mutate:I}=ss("Project",(e==null?void 0:e.name)||"",e!=null&&e.name?"Project":void 0),{data:ee}=dn("project_phase",{fields:["name","progress"],filters:[["project","=",(e==null?void 0:e.name)||""]],orderBy:{field:"creation",order:"asc"},limit:0}),{data:pe}=dn("Task",{fields:["name","progress"],filters:[["project","=",(e==null?void 0:e.name)||""]],orderBy:{field:"creation",order:"asc"},limit:0}),{call:ne}=gs("frappe.client.insert"),{call:V}=gs("frappe.client.save"),{call:te}=gs("frappe.client.delete"),{call:Q}=gs("frappe.client.set_value"),{data:fe,error:F,isLoading:W}=ss("User",(e==null?void 0:e.owner)||"",e!=null&&e.owner?void 0:null),{data:me,mutate:U}=ss("SubTask",(h==null?void 0:h.name)||"",h!=null&&h.name?void 0:null),{data:re,mutate:_e}=ss("Task",(d==null?void 0:d.name)||"",d!=null&&d.name?void 0:null),{currentUser:xe}=Ti(),Ee=(J==null?void 0:J.users)||(e==null?void 0:e.users)||[],Oe=K,$e=N.useMemo(()=>{if(ee&&ee.length>0){const ke=ee.reduce((He,Mt)=>He+(Mt.progress||0),0);return{progress:Math.round(ke/ee.length),source:"phases",count:ee.length}}else if(pe&&pe.length>0){const ke=pe.reduce((He,Mt)=>He+(Mt.progress||0),0);return{progress:Math.round(ke/pe.length),source:"tasks",count:pe.length}}return{progress:(J==null?void 0:J.percent_complete)||(e==null?void 0:e.percent_complete)||0,source:"manual",count:0}},[ee,pe,J==null?void 0:J.percent_complete,e==null?void 0:e.percent_complete]),Le=()=>ye(null,null,function*(){if(e!=null&&e.name){A(!0);try{yield B(e.name),yield I()}catch(ke){console.error("Error recalculating project progress:",ke)}finally{A(!1)}}}),lt=()=>ye(null,null,function*(){if(h!=null&&h.name)try{yield U()}catch(ke){console.error("Error refreshing subtask data:",ke)}}),Ke=()=>ye(null,null,function*(){if(d!=null&&d.name)try{yield _e()}catch(ke){console.error("Error refreshing task data:",ke)}}),pt=ke=>ye(null,null,function*(){(d==null?void 0:d.name)===ke&&(yield Ke())});N.useEffect(()=>{me&&(h==null?void 0:h.name)===me.name&&p(me)},[me,h==null?void 0:h.name]),N.useEffect(()=>{re&&(d==null?void 0:d.name)===re.name&&f(re)},[re,d==null?void 0:d.name]),N.useEffect(()=>{if($e.source!=="manual"&&(e!=null&&e.name)){const ke=(J==null?void 0:J.percent_complete)||(e==null?void 0:e.percent_complete)||0;Math.abs($e.progress-ke)>1&&Le()}},[$e.progress,ee,pe]);const Pe=Pu(),ht=Pu(),Ft=Pu(),[vt,Dt]=N.useState(!1),St=ke=>ye(null,null,function*(){if(e!=null&&e.name){Dt(!0);try{if((Ee||[]).find(Sn=>Sn.user===ke.user)){alert("User is already a member of this project");return}yield ne({doc:{doctype:"Project User",parent:e.name,parenttype:"Project",parentfield:"users",user:ke.user,view_attachments:1,hide_timesheets:0,project_status:"Open",welcome_email_sent:1}}),setTimeout(()=>I(),1e3),b(!1),Pe.reset()}catch(He){console.error("Error adding member:",He);const Mt=He instanceof Error?He.message:String(He);Mt.includes("Email Account")||Mt.includes("OutgoingEmailError")||Mt.includes("email")?(alert("Member may have been added, but welcome email failed. Please check the project members list and refresh if needed."),setTimeout(()=>I(),1e3),b(!1),Pe.reset()):alert("Failed to add member: "+Mt)}finally{Dt(!1)}}}),Y=ke=>ye(null,null,function*(){if(!(!y||!(e!=null&&e.name))){Dt(!0);try{const He=Ee.find(Mt=>Mt.user===y.user);if(!(He!=null&&He.name)){alert("User record not found");return}yield V({doc:{doctype:"Project User",name:He.name,view_attachments:ke.view_attachments?1:0,hide_timesheets:ke.hide_timesheets?1:0,project_status:ke.project_status||""}}),setTimeout(()=>I(),1e3),j(!1),w(null),ht.reset()}catch(He){console.error("Error updating member:",He),alert("Failed to update member")}finally{Dt(!1)}}}),le=ke=>ye(null,null,function*(){if(e!=null&&e.name&&confirm("Are you sure you want to remove this member from the project?"))try{const He=Ee.find(Mt=>Mt.user===ke);if(!(He!=null&&He.name)){alert("User record not found");return}yield te({doctype:"Project User",name:He.name}),setTimeout(()=>I(),1e3)}catch(He){console.error("Error removing member:",He),alert("Failed to remove member")}}),q=ke=>{w(ke),ht.reset({user:ke.user,view_attachments:!!ke.view_attachments,hide_timesheets:!!ke.hide_timesheets,project_status:ke.project_status||""}),j(!0)},Se=()=>(e==null?void 0:e.owner)===xe||xe==="Administrator",De=ke=>ye(null,null,function*(){if(e!=null&&e.name){Dt(!0);try{yield I();const He=J||e;try{yield V({doc:{doctype:"Project",name:e.name,owner:ke.owner,project_name:He==null?void 0:He.project_name,status:He==null?void 0:He.status,priority:He==null?void 0:He.priority,company:He==null?void 0:He.company,customer:He==null?void 0:He.customer,expected_start_date:He==null?void 0:He.expected_start_date,expected_end_date:He==null?void 0:He.expected_end_date,description:He==null?void 0:He.description,modified:new Date().toISOString(),modified_by:ke.owner}})}catch(Mt){console.log("Save method failed:",Mt);try{yield Q({doctype:"Project",name:e.name,fieldname:"owner",value:ke.owner})}catch(Sn){if(console.log("Set value failed, falling back to Project Manager approach:",Sn),(Ee||[]).find(ds=>ds.user===ke.owner)){alert("Cannot change owner field (protected by ERPNext), but user is already a project member. Please edit their role manually.");return}yield ne({doc:{doctype:"Project User",parent:e.name,parenttype:"Project",parentfield:"users",user:ke.owner,view_attachments:1,hide_timesheets:0,project_status:"Project Manager (Owner Substitute)",welcome_email_sent:1}}),alert('Owner field is protected by ERPNext. Added user as "Project Manager (Owner Substitute)" instead with full permissions.')}}setTimeout(()=>I(),1e3),C(!1),Ft.reset()}catch(He){console.error("Error changing owner:",He);const Mt=He instanceof Error?He.message:String(He);Mt.includes("Cannot edit standard fields")||Mt.includes("protects this field")?alert(`Cannot change project owner: ERPNext protects the owner field from modification.

Alternative solutions:
1. Add the user as Project Manager in the team members
2. Contact system administrator to manually update via backend
3. Use project permissions to grant the user full access

Admin command (run in ERPNext console):
frappe.db.sql("UPDATE tabProject SET owner = '${ke.owner}' WHERE name = '${e.name}'")`):alert("Failed to change owner: "+Mt)}finally{Dt(!1)}}}),Re=ke=>{switch(ke){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},Fe=ke=>ke?new Date(ke).toLocaleDateString():"N/A",Ie=()=>{k(!0)},Qe=()=>{D(!0)},yt=()=>{I(),vy(ke=>typeof ke=="string"&&ke.includes("Project"),void 0,{revalidate:!0})},bn=()=>{n()};if(!e)return null;const ct=J||e;return c.jsxs(bF,{open:t,onOpenChange:n,direction:"right",children:[c.jsx(_F,{children:c.jsxs("div",{className:"w-full h-full overflow-y-auto p-6",children:[c.jsxs(jF,{className:"px-0 pb-6",children:[c.jsxs(NF,{className:"flex gap-4 justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"h-16 w-16 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg",children:c.jsx("span",{className:"text-2xl font-bold text-white",children:ct.project_name.charAt(0).toUpperCase()})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:ct.project_name}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:`inline-flex px-4 py-2 text-sm font-semibold rounded-full ${Re(ct.status)}`,children:ct.status||"Open"}),ct.project_type&&c.jsx("span",{className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-full",children:ct.project_type})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(We,{variant:"outline",size:"sm",onClick:Ie,className:"flex items-center gap-2",children:[c.jsx(Bl,{className:"h-4 w-4"}),"Edit"]}),c.jsxs(We,{variant:"outline",size:"sm",onClick:Qe,className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[c.jsx(Il,{className:"h-4 w-4"}),"Delete"]}),c.jsx(We,{variant:"ghost",size:"sm",onClick:n,children:"X"})]})]}),c.jsx(EF,{className:"text-lg text-gray-600 mt-4",children:"Project Details and Progress Overview"}),c.jsxs("div",{className:"flex border-b border-gray-200 mt-6",children:[c.jsx("button",{onClick:()=>a("overview"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${s==="overview"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Overview"}),c.jsx("button",{onClick:()=>a("tasks"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${s==="tasks"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Tasks & Phases"}),c.jsxs("button",{onClick:()=>a("team"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="team"?"border-green-600 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[c.jsx(ah,{className:"h-4 w-4"}),"Team (",((Ee==null?void 0:Ee.length)||0)+1,")"]}),o&&c.jsxs("button",{onClick:()=>a("phase-details"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="phase-details"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["📋 ",o.subject,c.jsx("span",{onClick:ke=>{ke.stopPropagation(),l(null),a("tasks")},className:"ml-2 hover:bg-gray-200 rounded-full p-1 transition-colors cursor-pointer",title:"Close phase details",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d&&c.jsxs("button",{onClick:()=>a("task-details"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="task-details"?"border-orange-600 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["📝 ",d.subject||d.name,c.jsx("span",{onClick:ke=>{ke.stopPropagation(),f(null),a("tasks")},className:"ml-2 hover:bg-gray-200 rounded-full p-1 transition-colors cursor-pointer",title:"Close task details",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),h&&c.jsxs("button",{onClick:()=>a("subtask-details"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="subtask-details"?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["📌 ",h.subject||h.name,c.jsx("span",{onClick:ke=>{ke.stopPropagation(),p(null),a("tasks")},className:"ml-2 hover:bg-gray-200 rounded-full p-1 transition-colors cursor-pointer",title:"Close subtask details",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})]}),c.jsxs("div",{className:"space-y-8",children:[s==="overview"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Project Progress"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-lg font-medium text-gray-700",children:"Overall Progress"}),$e.source!=="manual"&&c.jsxs("span",{className:"text-xs text-gray-500",children:["(from ",$e.count," ",$e.source,")"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[$e.progress,"%"]}),c.jsx(We,{variant:"ghost",size:"sm",onClick:Le,disabled:$,className:"h-8 w-8 p-0",title:"Recalculate progress",children:c.jsx(Cx,{className:`h-4 w-4 ${$?"animate-spin":""}`})})]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:c.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-4 rounded-full transition-all duration-500 ease-out",style:{width:`${$e.progress}%`}})}),$e.source==="phases"&&ee&&c.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:[c.jsx("div",{className:"font-medium mb-1",children:"Phase progress breakdown:"}),c.jsx("div",{className:"grid grid-cols-2 gap-1",children:ee.map((ke,He)=>c.jsxs("div",{className:"flex justify-between",children:[c.jsxs("span",{children:["Phase ",He+1,":"]}),c.jsxs("span",{children:[ke.progress||0,"%"]})]},ke.name))})]}),$e.source==="tasks"&&c.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:["Progress calculated from ",$e.count," direct tasks (no phases)"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:c.jsx(Yl,{className:"h-8 w-8 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Customer"}),c.jsx("p",{className:"text-xl font-bold text-gray-900",children:ct.customer||"N/A"})]})]})}),c.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:c.jsx(Tx,{className:"h-8 w-8 text-green-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Budget"}),c.jsx("p",{className:"text-xl font-bold text-gray-900",children:wo(ct.estimated_costing)})]})]})}),c.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:c.jsx(rr,{className:"h-8 w-8 text-purple-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"Deadline"}),c.jsx("p",{className:"text-xl font-bold text-gray-900",children:Fe(ct.expected_end_date)})]})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Project Information"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Start Date"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:Fe(ct.expected_start_date)})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:ct.priority||"Medium"})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Department"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:ct.department||"N/A"})]}),c.jsxs("div",{className:"flex items-center justify-between py-3",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Company"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:ct.company||"N/A"})]})]})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Financial Metrics"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Total Cost"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:wo(ct.total_costing_amount)})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Total Sales"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:wo(ct.total_sales_amount)})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Billable Amount"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:wo(ct.total_billable_amount)})]}),c.jsxs("div",{className:"flex items-center justify-between py-3",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Gross Margin"}),c.jsx("span",{className:"text-lg font-bold text-green-600",children:wo(ct.gross_margin)})]})]})]})]})]}),s==="team"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(JD,{className:"h-6 w-6 text-yellow-600"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Project Owner"})]}),Se()&&c.jsxs(We,{variant:"outline",size:"sm",onClick:()=>{Ft.reset({owner:(e==null?void 0:e.owner)||""}),C(!0)},className:"flex items-center gap-2",children:[c.jsx(Bl,{className:"h-4 w-4"}),"Change Owner"]})]}),c.jsxs("div",{className:"flex items-center gap-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[c.jsx("div",{className:"h-12 w-12 rounded-full bg-yellow-100 flex items-center justify-center",children:c.jsx(Yl,{className:"h-6 w-6 text-yellow-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-lg font-semibold text-gray-900",children:W?"Loading...":fe!=null&&fe.full_name?fe.full_name:ct!=null&&ct.owner?ct.owner:"No Owner"}),c.jsx("p",{className:"text-sm text-gray-600",children:W?"Loading email...":fe!=null&&fe.email?fe.email:ct!=null&&ct.owner?ct.owner:"No email"}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded",children:"Project Owner"}),(fe==null?void 0:fe.designation)&&c.jsx("span",{className:"text-xs text-gray-500",children:fe.designation}),F&&c.jsx("span",{className:"text-xs text-red-500",children:"(Error loading user details)"})]})]})]})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(ah,{className:"h-6 w-6 text-blue-600"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Team Members"}),c.jsxs("span",{className:"inline-flex px-3 py-1 text-sm font-medium bg-blue-100 text-blue-800 rounded-full",children:[(Ee==null?void 0:Ee.length)||0," members"]})]}),c.jsxs(We,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",onClick:()=>b(!0),children:[c.jsx(Ai,{className:"h-4 w-4 mr-1"}),"Add Member"]})]}),Oe?c.jsxs("div",{className:"flex items-center justify-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),c.jsx("span",{className:"ml-3 text-gray-600",children:"Loading team members..."})]}):Ee&&Ee.length>0?c.jsx("div",{className:"grid gap-4",children:Ee.map((ke,He)=>c.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors",children:[c.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center overflow-hidden",children:ke.image?c.jsx("img",{src:ke.image,alt:ke.full_name||ke.user,className:"h-full w-full object-cover"}):c.jsx("span",{className:"text-sm font-semibold text-blue-600",children:(ke.full_name||ke.user||"U").charAt(0).toUpperCase()})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-semibold text-gray-900",children:ke.full_name||ke.user||"Unknown User"}),c.jsx("p",{className:"text-sm text-gray-600",children:ke.email||ke.user||"No email"}),ke.project_status&&c.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Status: ",ke.project_status]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:"Team Member"}),ke.view_attachments&&c.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded",children:"Can View Files"}),c.jsxs(We,{size:"sm",variant:"outline",className:"text-xs",onClick:()=>q(ke),children:[c.jsx(Bl,{className:"h-3 w-3 mr-1"}),"Edit"]}),c.jsxs(We,{size:"sm",variant:"outline",className:"text-xs text-red-600 hover:text-red-700",onClick:()=>le(ke.user),children:[c.jsx(Il,{className:"h-3 w-3 mr-1"}),"Remove"]})]})]},ke.user||He))}):c.jsxs("div",{className:"text-center py-8",children:[c.jsx(ah,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"No team members added yet"}),c.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Add team members to collaborate on this project"}),c.jsxs(We,{className:"mt-4 bg-blue-600 hover:bg-blue-700",onClick:()=>b(!0),children:[c.jsx(Ai,{className:"h-4 w-4 mr-2"}),"Add First Member"]})]})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Statistics"}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[c.jsx("p",{className:"text-2xl font-bold text-blue-600",children:((Ee==null?void 0:Ee.length)||0)+1}),c.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"})]}),c.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[c.jsx("p",{className:"text-2xl font-bold text-green-600",children:"1"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Project Owner"})]}),c.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[c.jsx("p",{className:"text-2xl font-bold text-purple-600",children:(Ee==null?void 0:Ee.length)||0}),c.jsx("p",{className:"text-sm text-gray-600",children:"Team Members"})]}),c.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[c.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[(e==null?void 0:e.percent_complete)||0,"%"]}),c.jsx("p",{className:"text-sm text-gray-600",children:"Progress"})]})]})]})]}),s==="tasks"&&c.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:c.jsx(AF,{projectName:e.name,onViewPhaseDetails:ke=>{l(ke),a("phase-details")},onViewTaskDetails:ke=>{f(ke),a("task-details")},onViewSubTaskDetails:ke=>{p(ke),a("subtask-details")}})}),s==="phase-details"&&o&&c.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:c.jsx(zF,{phase:o,projectName:e.name,onBack:()=>a("tasks"),onViewTaskDetails:ke=>{f(ke),a("task-details")},onPhaseUpdated:()=>ye(null,null,function*(){I(),setTimeout(()=>ye(null,null,function*(){yield Le()}),500)}),onPhaseDeleted:()=>ye(null,null,function*(){I(),a("tasks"),l(null),setTimeout(()=>ye(null,null,function*(){yield Le()}),500)}),onTaskCreated:()=>ye(null,null,function*(){I(),setTimeout(()=>ye(null,null,function*(){yield Le()}),500)})})}),s==="task-details"&&d&&c.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:c.jsx(IF,{task:d,projectName:e.name,onBack:()=>a("tasks"),onViewSubTaskDetails:ke=>{p(ke),a("subtask-details")},onTaskUpdated:()=>ye(null,null,function*(){I(),yield Ke(),setTimeout(()=>ye(null,null,function*(){yield Le()}),500)}),onTaskDeleted:()=>ye(null,null,function*(){I(),a("tasks"),f(null),setTimeout(()=>ye(null,null,function*(){yield Le()}),500)})})}),s==="subtask-details"&&h&&c.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:c.jsx(XF,{subtask:h,projectName:e.name,onBack:()=>a("tasks"),onSubTaskUpdated:()=>ye(null,null,function*(){I(),yield lt(),h!=null&&h.task&&(yield pt(h.task)),setTimeout(()=>ye(null,null,function*(){yield Le()}),500)}),onSubTaskDeleted:()=>ye(null,null,function*(){I(),a("tasks"),p(null),setTimeout(()=>ye(null,null,function*(){yield Le()}),500)})})})]}),c.jsx(SF,{className:"px-0 mt-8 pt-6 border-t border-gray-200",children:c.jsxs("div",{className:"flex gap-4",children:[c.jsx(We,{variant:"outline",className:"flex-1 h-12 text-lg font-semibold",onClick:()=>a("tasks"),children:"View Tasks"}),c.jsx(We,{variant:"outline",className:"flex-1 h-12 text-lg font-semibold",children:"View Timeline"})]})})]})}),c.jsx(xs,{open:g,onOpenChange:b,children:c.jsx(ys,{className:"sm:max-w-md",children:c.jsxs("form",{onSubmit:Pe.handleSubmit(St),children:[c.jsxs(bs,{children:[c.jsx(ws,{children:"Add Team Member"}),c.jsx(Co,{children:"Add a new member to the project team."})]}),c.jsx("div",{className:"grid gap-4 py-4",children:c.jsxs("div",{className:"grid gap-2",children:[c.jsxs(ze,{children:["User ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx(nr,{name:"user",control:Pe.control,rules:{required:"Please select a user"},render:({field:ke})=>c.jsx(sr,{doctype:"User",value:ke.value||"",onChange:ke.onChange,placeholder:"Select user...",displayField:"full_name",valueField:"name",filters:[["enabled","=",1],["user_type","!=","Website User"]],fields:["name","full_name","email"],className:"w-full"})}),Pe.formState.errors.user&&c.jsx("span",{className:"text-red-500 text-sm",children:Pe.formState.errors.user.message})]})}),c.jsxs(vs,{children:[c.jsx(We,{type:"button",variant:"outline",onClick:()=>{b(!1),Pe.reset()},children:"Cancel"}),c.jsx(We,{type:"submit",disabled:vt,className:"bg-blue-600 hover:bg-blue-700",children:vt?"Adding...":"Add Member"})]})]})})}),c.jsx(xs,{open:_,onOpenChange:j,children:c.jsx(ys,{className:"sm:max-w-md",children:c.jsxs("form",{onSubmit:ht.handleSubmit(Y),children:[c.jsxs(bs,{children:[c.jsx(ws,{children:"Edit Team Member"}),c.jsxs(Co,{children:["Update member settings for ",(y==null?void 0:y.full_name)||(y==null?void 0:y.user),"."]})]}),c.jsxs("div",{className:"grid gap-4 py-4",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ze,{children:"User"}),c.jsx(Bt,{value:(y==null?void 0:y.full_name)||(y==null?void 0:y.user)||"",disabled:!0,className:"bg-gray-100"})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ze,{children:"Project Status"}),c.jsx(Bt,de(L({},ht.register("project_status")),{placeholder:"Enter project status for this member..."}))]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("input",de(L({type:"checkbox",id:"edit_view_attachments"},ht.register("view_attachments")),{className:"rounded border-gray-300"})),c.jsx(ze,{htmlFor:"edit_view_attachments",className:"text-sm",children:"Can view attachments"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("input",de(L({type:"checkbox",id:"edit_hide_timesheets"},ht.register("hide_timesheets")),{className:"rounded border-gray-300"})),c.jsx(ze,{htmlFor:"edit_hide_timesheets",className:"text-sm",children:"Hide timesheets from this user"})]})]}),c.jsxs(vs,{children:[c.jsx(We,{type:"button",variant:"outline",onClick:()=>{j(!1),w(null),ht.reset()},children:"Cancel"}),c.jsx(We,{type:"submit",disabled:vt,className:"bg-blue-600 hover:bg-blue-700",children:vt?"Updating...":"Update Member"})]})]})})}),c.jsx(xs,{open:S,onOpenChange:C,children:c.jsx(ys,{className:"sm:max-w-md",children:c.jsxs("form",{onSubmit:Ft.handleSubmit(De),children:[c.jsxs(bs,{children:[c.jsx(ws,{children:"Change Project Owner"}),c.jsx(Co,{children:"Attempt to change the project owner. Note: ERPNext may protect this field, in which case we'll add the user as Project Manager instead."})]}),c.jsxs("div",{className:"grid gap-4 py-4",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsxs(ze,{children:["New Owner ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx(nr,{name:"owner",control:Ft.control,rules:{required:"Please select a new owner"},render:({field:ke})=>c.jsx(sr,{doctype:"User",value:ke.value||"",onChange:ke.onChange,placeholder:"Select new owner...",displayField:"full_name",valueField:"name",filters:[["enabled","=",1],["user_type","!=","Website User"]],fields:["name","full_name","email"],className:"w-full"})}),Ft.formState.errors.owner&&c.jsx("span",{className:"text-red-500 text-sm",children:Ft.formState.errors.owner.message})]}),c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:c.jsxs("p",{className:"text-sm text-blue-800",children:[c.jsx("strong",{children:"Note:"}),' This will attempt to change the actual project owner. If that fails (due to ERPNext protection), the user will be added as "Project Manager (Owner Substitute)" with full permissions.']})})]}),c.jsxs(vs,{children:[c.jsx(We,{type:"button",variant:"outline",onClick:()=>{C(!1),Ft.reset()},children:"Cancel"}),c.jsx(We,{type:"submit",disabled:vt,className:"bg-yellow-600 hover:bg-yellow-700",children:vt?"Changing Owner...":"Change Owner"})]})]})})}),c.jsx(AT,{project:e,isOpen:R,onClose:()=>k(!1),onSuccess:yt}),c.jsx(OT,{project:e,isOpen:O,onClose:()=>D(!1),onSuccess:bn})]})}const DT=({project:e,onProjectUpdated:t,onProjectDeleted:n,onCloseDrawer:s})=>{const[a,o]=N.useState(!1),[l,d]=N.useState(!1),[f,h]=N.useState(!1),p=w=>{w&&w.stopPropagation(),o(!0),h(!1)},g=w=>{w&&w.stopPropagation(),d(!0),h(!1)},b=()=>{t&&t()},y=()=>{n&&n(),s&&s()};return c.jsxs(c.Fragment,{children:[c.jsxs(Wx,{open:f,onOpenChange:h,children:[c.jsx(Xx,{asChild:!0,children:c.jsx(We,{variant:"ghost",size:"sm",onClick:w=>{w.stopPropagation(),h(!f)},className:"h-8 w-8 p-0",children:c.jsx(nM,{className:"h-4 w-4"})})}),c.jsx(Gx,{className:"w-48 p-2",align:"end",onClick:w=>w.stopPropagation(),children:c.jsxs("div",{className:"space-y-1",children:[c.jsxs(We,{variant:"ghost",size:"sm",onClick:w=>p(w),className:"w-full justify-start text-left",children:[c.jsx(_M,{className:"mr-2 h-4 w-4"}),"Edit Project"]}),c.jsxs(We,{variant:"ghost",size:"sm",onClick:w=>g(w),className:"w-full justify-start text-left text-red-600 hover:text-red-700 hover:bg-red-50",children:[c.jsx(Il,{className:"mr-2 h-4 w-4"}),"Delete Project"]})]})})]}),c.jsx(AT,{project:e,isOpen:a,onClose:()=>o(!1),onSuccess:b}),c.jsx(OT,{project:e,isOpen:l,onClose:()=>d(!1),onSuccess:y})]})},nH=({projects:e,onProjectsChange:t})=>{const[n,s]=N.useState(null),[a,o]=N.useState(!1),l=h=>{s(h),o(!0)},d=()=>{o(!1),s(null)},f=h=>{switch(h){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:e.map(h=>c.jsxs("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 hover:shadow-md transition-shadow duration-200 cursor-pointer",onClick:()=>l(h),children:[c.jsx("div",{className:"h-48 bg-gray-200 flex items-center justify-center",children:c.jsx("div",{className:"text-4xl font-bold text-gray-400",children:h.project_name.charAt(0).toUpperCase()})}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate flex-1",children:h.project_name}),c.jsxs("div",{className:"flex items-center gap-2",onClick:p=>p.stopPropagation(),children:[c.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${f(h.status)}`,children:h.status||"Open"}),c.jsx(DT,{project:h,onProjectUpdated:t,onProjectDeleted:t,onCloseDrawer:d})]})]}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:h.project_type||"N/A"}),c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Progress"}),c.jsxs("span",{className:"text-sm text-gray-600",children:[h.percent_complete||0,"%"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${h.percent_complete||0}%`}})})]}),c.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[c.jsx("span",{children:h.customer||"N/A"}),c.jsx("span",{children:wo(h.estimated_costing)})]})]})]},h.name))}),c.jsx(RT,{project:n,isOpen:a,onClose:d})]})},sH=({projects:e,onProjectsChange:t})=>{const[n,s]=N.useState(null),[a,o]=N.useState(!1),l=p=>{s(p),o(!0)},d=()=>{o(!1),s(null)},f=p=>{switch(p){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},h=p=>p?new Date(p).toLocaleDateString():"N/A";return c.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[c.jsx("div",{className:"overflow-hidden",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progress"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Budget"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Deadline"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(p=>c.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>l(p),children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:c.jsx("div",{className:"h-10 w-10 rounded-lg bg-gray-200 flex items-center justify-center",children:c.jsx("span",{className:"text-sm font-bold text-gray-600",children:p.project_name.charAt(0).toUpperCase()})})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.project_name}),c.jsx("div",{className:"text-sm text-gray-500",children:p.project_type||"N/A"})]})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${f(p.status)}`,children:p.status||"Open"})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${p.percent_complete||0}%`}})}),c.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[p.percent_complete||0,"%"]})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.customer||"N/A"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:wo(p.estimated_costing)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h(p.expected_end_date)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",onClick:g=>g.stopPropagation(),children:c.jsx(DT,{project:p,onProjectUpdated:t,onProjectDeleted:t,onCloseDrawer:d})})]},p.name))})]})}),c.jsx(RT,{project:n,isOpen:a,onClose:d})]})},rH=({onProjectCreated:e})=>{const[t,n]=N.useState(!1),{createProject:s,isLoading:a}=KF(),{register:o,control:l,handleSubmit:d,reset:f,formState:{errors:h,isSubmitting:p}}=Pu({defaultValues:{status:"Open",priority:"Medium"}}),g=b=>ye(null,null,function*(){try{yield s(b),f(),n(!1),vy(y=>typeof y=="string"&&y.includes("Project"),void 0,{revalidate:!0}),kn.success("Project created successfully"),e&&e()}catch(y){let w="Create project failed";if(y!=null&&y._server_messages)try{const _=JSON.parse(y._server_messages);Array.isArray(_)&&_.length>0&&(w=JSON.parse(_[0]).message||w)}catch(_){console.error("Parse error messages failed:",_)}else y!=null&&y.message&&(w=y.message);kn.error("Create project failed",{description:w}),console.error("Error creating project:",y)}});return c.jsxs(xs,{open:t,onOpenChange:n,children:[c.jsx(M8,{asChild:!0,children:c.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[c.jsx(Ai,{className:"mr-2 h-4 w-4"}),"New Project"]})}),c.jsx(ys,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:c.jsxs("form",{onSubmit:d(g),children:[c.jsxs(bs,{children:[c.jsx(ws,{children:"Create New Project"}),c.jsx(Co,{children:"Fill in the project details. Fields marked with * are required."})]}),c.jsxs("div",{className:"grid gap-4 py-4",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsxs(ze,{htmlFor:"project_name",children:["Project Name ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx(Bt,de(L({id:"project_name"},o("project_name",{required:"Project name is required",maxLength:{value:100,message:"Project name cannot exceed 100 characters"}})),{placeholder:"Enter project name"})),h.project_name&&c.jsx("span",{className:"text-red-500 text-sm",children:h.project_name.message})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ze,{children:"Customer"}),c.jsx(nr,{name:"customer",control:l,render:({field:b})=>c.jsx(sr,{doctype:"Customer",value:b.value||"",onChange:b.onChange,placeholder:"Select customer...",displayField:"customer_name",valueField:"name",className:"w-full"})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ze,{children:"Project Type"}),c.jsx(nr,{name:"project_type",control:l,render:({field:b})=>c.jsx(sr,{doctype:"Project Type",value:b.value||"",onChange:b.onChange,placeholder:"Select type...",className:"w-full"})})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsxs(ze,{children:["Status ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",de(L({},o("status",{required:"Status is required"})),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[c.jsx("option",{value:"Open",children:"Open"}),c.jsx("option",{value:"Completed",children:"Completed"}),c.jsx("option",{value:"Cancelled",children:"Cancelled"})]}))]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ze,{children:"Priority"}),c.jsxs("select",de(L({},o("priority")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[c.jsx("option",{value:"",children:"Select priority..."}),c.jsx("option",{value:"Low",children:"Low"}),c.jsx("option",{value:"Medium",children:"Medium"}),c.jsx("option",{value:"High",children:"High"}),c.jsx("option",{value:"Critical",children:"Critical"})]}))]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ze,{children:"Department"}),c.jsx(nr,{name:"department",control:l,render:({field:b})=>c.jsx(sr,{doctype:"Department",value:b.value||"",onChange:b.onChange,placeholder:"Select department...",className:"w-full"})})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ze,{children:"Company"}),c.jsx(nr,{name:"company",control:l,render:({field:b})=>c.jsx(sr,{doctype:"Company",value:b.value||"",onChange:b.onChange,placeholder:"Select company...",className:"w-full"})})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ze,{children:"Cost Center"}),c.jsx(nr,{name:"cost_center",control:l,render:({field:b})=>c.jsx(sr,{doctype:"Cost Center",value:b.value||"",onChange:b.onChange,placeholder:"Select cost center...",displayField:"cost_center_name",valueField:"name",className:"w-full"})})]})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ze,{children:"Project Template"}),c.jsx(nr,{name:"project_template",control:l,render:({field:b})=>c.jsx(sr,{doctype:"Project Template",value:b.value||"",onChange:b.onChange,placeholder:"Select project template...",className:"w-full"})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ze,{children:"Expected Start Date"}),c.jsx(Bt,L({type:"date"},o("expected_start_date")))]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ze,{children:"Expected End Date"}),c.jsx(Bt,L({type:"date"},o("expected_end_date")))]})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ze,{children:"Notes"}),c.jsx("textarea",de(L({},o("notes")),{placeholder:"Enter project notes...",rows:3,className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"}))]})]}),c.jsxs(vs,{children:[c.jsx(L8,{asChild:!0,children:c.jsx(We,{type:"button",variant:"outline",children:"Cancel"})}),c.jsx(We,{type:"submit",disabled:p||a,className:"bg-blue-600 hover:bg-blue-700",children:p||a?"Creating...":"Create Project"})]})]})})]})},aH=()=>{const[e,t]=Z.useState("grid"),{data:n=[],isLoading:s,error:a,mutate:o}=GF(),l=()=>{o&&o()};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Projects"}),c.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Showing projects you have access to (",n.length," projects)"]})]}),c.jsx("div",{className:"mt-4 flex md:mt-0 md:ml-4",children:c.jsx(rH,{onProjectCreated:l})})]}),c.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-4",children:c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Yh,{className:"h-4 w-4 text-gray-400"})}),c.jsx("input",{type:"text",className:"block w-64 pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Search projects..."})]}),c.jsxs("button",{className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[c.jsx(kx,{className:"mr-2 h-4 w-4"}),"Filter"]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>t("grid"),className:`p-2 rounded-md ${e==="grid"?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:c.jsx(cM,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>t("list"),className:`p-2 rounded-md ${e==="list"?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:c.jsx(hM,{className:"h-4 w-4"})})]})]})}),s?c.jsx("div",{className:"flex justify-center items-center p-8",children:c.jsx("div",{className:"text-gray-500",children:"Loading projects..."})}):a?c.jsx("div",{className:"flex flex-col justify-center items-center p-8 bg-red-50 rounded-lg border border-red-200",children:c.jsxs("div",{className:"text-red-700 text-center",children:[c.jsx("p",{className:"text-lg font-medium mb-2",children:"Error loading projects"}),c.jsx("p",{className:"text-sm mb-2",children:a.message}),a.message.includes("PermissionError")&&c.jsxs("div",{className:"text-sm text-red-600 bg-red-100 p-3 rounded mt-2",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Permission Issue:"})," You don't have access to view projects."]}),c.jsx("p",{children:"Please contact your system administrator to:"}),c.jsxs("ul",{className:"list-disc list-inside mt-1",children:[c.jsx("li",{children:'Grant you "Read" permission for Project doctype'}),c.jsx("li",{children:"Add you to projects as a team member"}),c.jsx("li",{children:"Make you the owner of projects"})]})]})]})}):n.length===0?c.jsx("div",{className:"flex flex-col justify-center items-center p-8 bg-white rounded-lg border border-gray-200",children:c.jsxs("div",{className:"text-gray-500 text-center",children:[c.jsx("p",{className:"text-lg font-medium mb-2",children:"No projects found"}),c.jsx("p",{className:"text-sm",children:"You are not currently participating in any projects."}),c.jsx("p",{className:"text-sm",children:"Create a new project or ask to be added to an existing one."})]})}):c.jsx(c.Fragment,{children:e==="grid"?c.jsx(nH,{projects:n,onProjectsChange:l}):c.jsx(sH,{projects:n,onProjectsChange:l})})]})},iH=({transformedTasks:e})=>c.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-4",children:[c.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 p-5",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.filter(t=>t.status==="Todo").length}),c.jsx("div",{className:"text-sm text-gray-500",children:"Todo"})]})}),c.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 p-5",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.filter(t=>t.status==="In Progress").length}),c.jsx("div",{className:"text-sm text-gray-500",children:"In Progress"})]})}),c.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 p-5",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.filter(t=>t.status==="Done").length}),c.jsx("div",{className:"text-sm text-gray-500",children:"Completed"})]})}),c.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 p-5",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.length}),c.jsx("div",{className:"text-sm text-gray-500",children:"Total Tasks"})]})})]}),oH=({task:e,isOpen:t,onClose:n,onSuccess:s})=>{const{updateTask:a,isLoading:o}=CT(),{updateSubTask:l,isLoading:d}=ST(),{updateTaskProgress:f}=TT(),{updateTaskProgressByStatus:h}=ET(),{calculateAndUpdateTaskProgress:p}=lc(),[g,b]=N.useState({subject:"",status:"Open",priority:"Medium",progress:0,start_date:"",end_date:"",description:""}),y=o||d,w=()=>["Open","Working","Pending Review","Completed","Cancelled"];N.useEffect(()=>{e&&b({subject:e.title||"",status:e.status||"Open",priority:e.priority||"Medium",progress:e.taskProgress||0,start_date:e.startDate||"",end_date:e.endDate||"",description:e.description||""})},[e]);const _=(C,R)=>{b(k=>de(L({},k),{[C]:R}))},j=C=>ye(null,null,function*(){if(C.preventDefault(),!!e)try{e.type==="Task"?(yield a(e.referenceName,{subject:g.subject,status:g.status,priority:g.priority,exp_start_date:g.start_date||void 0,exp_end_date:g.end_date||void 0,description:g.description,progress:g.progress}),g.progress!==(e.taskProgress||0)&&(yield f(e.referenceName,g.progress)),yield h(e.referenceName,g.status),kn.success("Task updated successfully")):e.type==="SubTask"&&(yield l(e.referenceName,{subject:g.subject,status:g.status,start_date:g.start_date||void 0,end_date:g.end_date||void 0,description:g.description}),e.parentTask&&(yield p(e.parentTask)),kn.success("SubTask updated successfully")),s&&s(),n()}catch(R){console.error("Error updating task:",R),kn.error(R.message||"Failed to update task")}}),S=()=>{n(),b({subject:"",status:"Open",priority:"Medium",progress:0,start_date:"",end_date:"",description:""})};return e?c.jsx(xs,{open:t,onOpenChange:S,children:c.jsxs(ys,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[c.jsx(bs,{children:c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(ws,{className:"flex items-center space-x-2",children:[c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.type==="Task"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:e.type}),c.jsxs("span",{children:["Edit ",e.type]})]})})}),c.jsxs("form",{onSubmit:j,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"subject",children:"Subject"}),c.jsx(Bt,{id:"subject",value:g.subject,onChange:C=>_("subject",C.target.value),placeholder:"Enter task subject",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"description",children:"Description"}),c.jsx("textarea",{id:"description",value:g.description,onChange:C=>_("description",C.target.value),placeholder:"Enter task description",className:"w-full min-h-[100px] px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"status",children:"Status"}),c.jsx("select",{id:"status",value:g.status,onChange:C=>_("status",C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:w().map(C=>c.jsx("option",{value:C,children:C},C))})]}),e.type==="Task"&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"priority",children:"Priority"}),c.jsxs("select",{id:"priority",value:g.priority,onChange:C=>_("priority",C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"Low",children:"Low"}),c.jsx("option",{value:"Medium",children:"Medium"}),c.jsx("option",{value:"High",children:"High"}),c.jsx("option",{value:"Urgent",children:"Urgent"})]})]})]}),e.type==="Task"&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"progress",children:"Progress (%)"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Bt,{id:"progress",type:"number",min:"0",max:"100",value:g.progress,onChange:C=>_("progress",parseInt(C.target.value)||0)}),c.jsx(Ex,{className:"h-4 w-4 text-gray-400"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"start_date",children:"Start Date"}),c.jsx(Bt,{id:"start_date",type:"date",value:g.start_date,onChange:C=>_("start_date",C.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"end_date",children:"End Date"}),c.jsx(Bt,{id:"end_date",type:"date",value:g.end_date,onChange:C=>_("end_date",C.target.value)})]})]}),c.jsx("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Yl,{className:"h-4 w-4 text-gray-400"}),c.jsx("span",{className:"text-gray-600",children:"Assignee:"}),c.jsx("span",{className:"font-medium",children:e.assignee})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(rr,{className:"h-4 w-4 text-gray-400"}),c.jsx("span",{className:"text-gray-600",children:"Project:"}),c.jsx("span",{className:"font-medium",children:e.project})]}),e.type==="SubTask"&&e.parentTask&&c.jsxs("div",{className:"flex items-center space-x-2 md:col-span-2",children:[c.jsx(E2,{className:"h-4 w-4 text-gray-400"}),c.jsx("span",{className:"text-gray-600",children:"Parent Task:"}),c.jsx("span",{className:"font-medium",children:e.parentTask})]})]})}),c.jsxs(vs,{children:[c.jsx(We,{type:"button",variant:"outline",onClick:S,children:"Cancel"}),c.jsx(We,{type:"submit",disabled:y,children:y?"Updating...":"Update"})]})]})]})}):null},lH={Open:"bg-gray-100 text-gray-800",Working:"bg-blue-100 text-blue-800","Pending Review":"bg-yellow-100 text-yellow-800",Completed:"bg-green-100 text-green-800",Cancelled:"bg-red-100 text-red-800",Overdue:"bg-red-100 text-red-800"},cH={Low:"bg-green-100 text-green-800",Medium:"bg-yellow-100 text-yellow-800",High:"bg-orange-100 text-orange-800",Urgent:"bg-red-100 text-red-800"},uH={Task:"bg-blue-100 text-blue-800",SubTask:"bg-purple-100 text-purple-800"},dH=({filteredTasks:e,isLoading:t,searchTerm:n,selectedStatus:s,selectedPriority:a,onTaskUpdate:o})=>{const[l,d]=N.useState(null),[f,h]=N.useState(!1),p=w=>{d(w),h(!0)},g=()=>{h(!1),d(null)};function b(w,_=50){return w.length<=_?w:w.slice(0,_)+"..."}const y=()=>{o&&o(),g()};return c.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["My Assigned Tasks (",e.length,")"]}),t&&c.jsx("div",{className:"text-sm text-gray-500",children:"Loading..."})]})}),c.jsx("div",{className:"divide-y divide-gray-200",children:t&&e.length===0?c.jsxs("div",{className:"p-6 text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),c.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading your tasks..."})]}):e.length===0?c.jsx("div",{className:"p-6 text-center",children:c.jsx("p",{className:"text-sm text-gray-500",children:n||s!=="All"||a!=="All"?"No tasks match your current filters.":"No tasks assigned to you yet."})}):e.map(w=>c.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors duration-200 cursor-pointer",onClick:()=>p(w),children:c.jsx("div",{className:"flex items-start space-x-4",children:c.jsx("div",{className:"flex-1 min-w-0",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:[c.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium mr-2 ${uH[w.type]}`,children:w.type}),w.title]}),w.type==="SubTask"&&w.parentTask&&c.jsxs("p",{className:"text-xs text-gray-500 mb-1 flex items-center",children:[c.jsx(DD,{className:"mr-1 h-3 w-3"}),"Parent Task: ",w.parentTask]}),c.jsx("p",{className:"text-sm text-gray-600 mb-3",children:b(w.description,100)}),w.type==="Task"&&c.jsxs("div",{className:"flex items-center space-x-4 mb-2 text-xs text-gray-600",children:[w.taskProgress!==void 0&&c.jsxs("div",{className:"flex items-center",children:[c.jsx(Ex,{className:"mr-1 h-3 w-3"}),"Progress: ",w.taskProgress,"%"]}),w.expectedTime&&c.jsxs("div",{className:"flex items-center",children:[c.jsx(Ci,{className:"mr-1 h-3 w-3"}),"Expected: ",w.expectedTime,"h"]}),w.actualTime&&c.jsxs("div",{className:"flex items-center",children:[c.jsx(Ci,{className:"mr-1 h-3 w-3"}),"Actual: ",w.actualTime,"h"]})]}),c.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[w.labels.map(_=>c.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:_},_)),w.referenceName&&c.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:w.referenceName})]}),c.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(rr,{className:"mr-1 h-3 w-3"}),w.type==="SubTask"&&w.startDate&&w.endDate?`${w.startDate} → ${w.endDate}`:w.dueDate]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Yl,{className:"mr-1 h-3 w-3"}),w.assignee]}),c.jsx("div",{className:"flex items-center",children:c.jsx("span",{children:w.project})})]})]}),c.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[c.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${lH[w.status]||"bg-gray-100 text-gray-800"}`,children:w.status}),w.type==="Task"&&w.priority&&c.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${cH[w.priority]||"bg-gray-100 text-gray-800"}`,children:[c.jsx(E2,{className:"mr-1 h-3 w-3"}),w.priority]})]})]})})})},w.id))}),c.jsx(oH,{task:l,isOpen:f,onClose:g,onSuccess:y})]})},fH=({searchTerm:e,setSearchTerm:t,selectedStatus:n,setSelectedStatus:s,selectedPriority:a,setSelectedPriority:o,selectedType:l,setSelectedType:d})=>c.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-4",children:c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Yh,{className:"h-4 w-4 text-gray-400"})}),c.jsx("input",{type:"text",value:e,onChange:f=>t(f.target.value),className:"block w-64 pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Search tasks..."})]}),c.jsxs("select",{value:n,onChange:f=>s(f.target.value),className:"border border-gray-300 rounded-md text-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"All",children:"All Status"}),c.jsx("option",{value:"Open",children:"Open"}),c.jsx("option",{value:"Working",children:"Working"}),c.jsx("option",{value:"Pending Review",children:"Pending Review"}),c.jsx("option",{value:"Completed",children:"Completed"}),c.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),c.jsxs("select",{value:l,onChange:f=>d(f.target.value),className:"border border-gray-300 rounded-md text-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"All",children:"All Types"}),c.jsx("option",{value:"Task",children:"Tasks"}),c.jsx("option",{value:"SubTask",children:"SubTasks"})]}),c.jsxs("select",{value:a,onChange:f=>o(f.target.value),className:"border border-gray-300 rounded-md text-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"All",children:"All Priority"}),c.jsx("option",{value:"Low",children:"Low"}),c.jsx("option",{value:"Medium",children:"Medium"}),c.jsx("option",{value:"High",children:"High"}),c.jsx("option",{value:"Urgent",children:"Urgent"})]})]}),c.jsxs("button",{className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[c.jsx(kx,{className:"mr-2 h-4 w-4"}),"More Filters"]})]})}),hH=({handleRefresh:e,isLoading:t})=>c.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"My Tasks"}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Track and manage all your assigned tasks"})]}),c.jsxs("div",{className:"mt-4 flex space-x-2 md:mt-0 md:ml-4",children:[c.jsxs("button",{onClick:e,className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",disabled:t,children:[c.jsx(Cx,{className:`mr-2 h-4 w-4 ${t?"animate-spin":""}`}),"Refresh"]}),c.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[c.jsx(Ai,{className:"mr-2 h-4 w-4"}),"New Task"]})]})]}),mH=()=>{const[e,t]=Z.useState("All"),[n,s]=Z.useState("All"),[a,o]=Z.useState(""),[l,d]=Z.useState("All"),{tasks:f,subTasks:h,isLoading:p,error:g,mutate:b,currentUser:y}=tH(),w=Z.useMemo(()=>{const S=[];return f.forEach(C=>{var R;S.push({id:C.name,title:C.subject||"Untitled Task",description:C.description||"No description available",project:C.project_name||C.project||"Unknown Project",assignee:y||"Unknown",status:C.status||"Open",priority:C.priority||"Medium",dueDate:C.exp_end_date||new Date().toISOString().split("T")[0],labels:[C.type||"Task"],todoId:((R=C.assignedTodo)==null?void 0:R.name)||"",referenceName:C.name,referenceType:"Task",type:"Task",taskProgress:C.progress,expectedTime:C.expected_time,actualTime:C.actual_time,startDate:C.exp_start_date,endDate:C.exp_end_date})}),h.forEach(C=>{var R;S.push({id:C.name,title:C.subject||"Untitled SubTask",description:C.description||"No description available",project:C.project_name||"Unknown Project",assignee:y||"Unknown",status:C.status||"Open",priority:"Medium",dueDate:C.end_date||new Date().toISOString().split("T")[0],labels:["SubTask"],todoId:((R=C.assignedTodo)==null?void 0:R.name)||"",referenceName:C.name,referenceType:"SubTask",type:"SubTask",parentTask:C.task_subject,startDate:C.start_date,endDate:C.end_date})}),S.sort((C,R)=>new Date(R.dueDate).getTime()-new Date(C.dueDate).getTime())},[f,h,y]),_=Z.useMemo(()=>w.filter(S=>{const C=e==="All"||S.status===e,R=n==="All"||S.priority===n,k=l==="All"||S.type===l,O=a===""||S.title.toLowerCase().includes(a.toLowerCase())||S.description.toLowerCase().includes(a.toLowerCase())||S.project.toLowerCase().includes(a.toLowerCase())||S.parentTask&&S.parentTask.toLowerCase().includes(a.toLowerCase());return C&&R&&k&&O}),[w,e,n,l,a]),j=()=>{b()};return c.jsxs("div",{className:"space-y-6",children:[c.jsx(hH,{handleRefresh:j,isLoading:p}),g&&c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:c.jsx("div",{className:"flex",children:c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading tasks"}),c.jsx("div",{className:"mt-2 text-sm text-red-700",children:c.jsx("p",{children:g.message||"Failed to load your tasks. Please try again."})})]})})}),c.jsx(fH,{searchTerm:a,setSearchTerm:o,selectedStatus:e,setSelectedStatus:t,selectedPriority:n,setSelectedPriority:s,selectedType:l,setSelectedType:d}),c.jsx(dH,{filteredTasks:_,isLoading:p,searchTerm:a,selectedStatus:e,selectedPriority:n,onTaskUpdate:j}),c.jsx(iH,{transformedTasks:w})]})},pH=[{id:1,project:"E-commerce Platform",task:"Design user interface mockups",user:"Jane Smith",startTime:"09:00 AM",endTime:"11:30 AM",duration:"2h 30m",date:"2024-03-08"},{id:2,project:"Mobile App Redesign",task:"API documentation",user:"Mike Johnson",startTime:"02:00 PM",endTime:"04:15 PM",duration:"2h 15m",date:"2024-03-08"},{id:3,project:"Data Analytics Dashboard",task:"Testing setup",user:"Sarah Wilson",startTime:"10:30 AM",endTime:"12:00 PM",duration:"1h 30m",date:"2024-03-07"}],gH=()=>{const[e,t]=Z.useState(!1),[n,s]=Z.useState("00:00:00");return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"md:flex md:items-center md:justify-between",children:c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Time Tracking"}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Track time spent on projects and tasks"})]})}),c.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-6",children:c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("div",{className:"text-4xl font-mono font-bold text-gray-900",children:n}),c.jsx("div",{className:"flex items-center justify-center space-x-4",children:e?c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>t(!1),className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-yellow-600 hover:bg-yellow-700",children:[c.jsx(vM,{className:"mr-2 h-5 w-5"}),"Pause"]}),c.jsxs("button",{onClick:()=>{t(!1),s("00:00:00")},className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-red-600 hover:bg-red-700",children:[c.jsx(PM,{className:"mr-2 h-5 w-5"}),"Stop"]})]}):c.jsxs("button",{onClick:()=>t(!0),className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-green-600 hover:bg-green-700",children:[c.jsx(EM,{className:"mr-2 h-5 w-5"}),"Start Timer"]})}),e&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project"}),c.jsxs("select",{className:"w-full border border-gray-300 rounded-md px-3 py-2",children:[c.jsx("option",{children:"E-commerce Platform"}),c.jsx("option",{children:"Mobile App Redesign"}),c.jsx("option",{children:"Data Analytics Dashboard"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Task Description"}),c.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"What are you working on?"})]})]})]})}),c.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Time Entries"})}),c.jsx("div",{className:"overflow-hidden",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Task"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time Period"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:pH.map(a=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:a.project}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.task}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.user}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[a.startTime," - ",a.endTime]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[c.jsx(Ci,{className:"mr-1 h-3 w-3"}),a.duration]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.date})]},a.id))})]})})]})]})},Rl=({title:e,description:t})=>c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"text-center py-12",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:e}),c.jsx("p",{className:"text-lg text-gray-600 mb-8",children:t}),c.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-12",children:c.jsxs("div",{className:"text-gray-400 text-center",children:[c.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-4xl",children:"🚧"})}),c.jsx("p",{className:"text-lg",children:"This page is under construction"}),c.jsx("p",{className:"text-sm mt-2",children:"More features coming soon!"})]})})]})}),xH=fD([{path:"/",element:c.jsx(oL,{}),children:[{index:!0,element:c.jsx(dB,{})},{path:"projects",element:c.jsx(aH,{})},{path:"tasks",element:c.jsx(mH,{})},{path:"time-tracking",element:c.jsx(gH,{})},{path:"cost-analysis",element:c.jsx(Rl,{title:"Cost Analysis",description:"Track project costs and budget allocations"})},{path:"reports",element:c.jsx(Rl,{title:"Reports",description:"Generate detailed reports and analytics"})},{path:"calendar",element:c.jsx(Rl,{title:"Calendar",description:"Manage deadlines and project timelines"})},{path:"team",element:c.jsx(Rl,{title:"Team Management",description:"Manage team members and permissions"})},{path:"documents",element:c.jsx(Rl,{title:"Documents",description:"Store and organize project documents"})},{path:"settings",element:c.jsx(Rl,{title:"Settings",description:"Configure your workspace preferences"})}]}],{basename:"/todo"});OC.createRoot(document.getElementById("root")).render(c.jsx(Z.StrictMode,{children:c.jsx(jD,{router:xH})}))});export default yH();
