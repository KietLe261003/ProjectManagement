var OD=Object.defineProperty,RD=Object.defineProperties;var MD=Object.getOwnPropertyDescriptors;var Ff=Object.getOwnPropertySymbols;var Dj=Object.prototype.hasOwnProperty,Aj=Object.prototype.propertyIsEnumerable;var $l=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),PD=e=>{throw TypeError(e)};var Pg=(e,t,s)=>t in e?OD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,F=(e,t)=>{for(var s in t||(t={}))Dj.call(t,s)&&Pg(e,s,t[s]);if(Ff)for(var s of Ff(t))Aj.call(t,s)&&Pg(e,s,t[s]);return e},le=(e,t)=>RD(e,MD(t));var Re=(e,t)=>{var s={};for(var n in e)Dj.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&Ff)for(var n of Ff(e))t.indexOf(n)<0&&Aj.call(e,n)&&(s[n]=e[n]);return s};var LD=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var kt=(e,t,s)=>Pg(e,typeof t!="symbol"?t+"":t,s);var we=(e,t,s)=>new Promise((n,i)=>{var o=h=>{try{d(s.next(h))}catch(f){i(f)}},c=h=>{try{d(s.throw(h))}catch(f){i(f)}},d=h=>h.done?n(h.value):Promise.resolve(h.value).then(o,c);d((s=s.apply(e,t)).next())}),Eo=function(e,t){this[0]=e,this[1]=t},Lg=(e,t,s)=>{var n=(c,d,h,f)=>{try{var p=s[c](d),g=(d=p.value)instanceof Eo,x=p.done;Promise.resolve(g?d[0]:d).then(b=>g?n(c==="return"?c:"next",d[1]?{done:b.done,value:b.value}:b,h,f):h({value:b,done:x})).catch(b=>n("throw",b,h,f))}catch(b){f(b)}},i=c=>o[c]=d=>new Promise((h,f)=>n(c,d,h,f)),o={};return s=s.apply(e,t),o[$l("asyncIterator")]=()=>o,i("next"),i("throw"),i("return"),o},Bg=e=>{var t=e[$l("asyncIterator")],s=!1,n,i={};return t==null?(t=e[$l("iterator")](),n=o=>i[o]=c=>t[o](c)):(t=t.call(e),n=o=>i[o]=c=>{if(s){if(s=!1,o==="throw")throw c;return c}return s=!0,{done:!1,value:new Eo(new Promise(d=>{var h=t[o](c);h instanceof Object||PD("Object expected"),d(h)}),1)}}),i[$l("iterator")]=()=>i,n("next"),"throw"in t?n("throw"):i.throw=o=>{throw o},"return"in t&&n("return"),i},Oj=(e,t,s)=>(t=e[$l("asyncIterator")])?t.call(e):(e=e[$l("iterator")](),t={},s=(n,i)=>(i=e[n])&&(t[n]=o=>new Promise((c,d,h)=>(o=i.call(e,o),h=o.done,Promise.resolve(o.value).then(f=>c({value:f,done:h}),d)))),s("next"),s("return"),t);var r$=LD(Tt=>{function BD(e,t){for(var s=0;s<t.length;s++){const n=t[s];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();function U0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fg={exports:{}},jd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rj;function FD(){if(Rj)return jd;Rj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(n,i,o){var c=null;if(o!==void 0&&(c=""+o),i.key!==void 0&&(c=""+i.key),"key"in i){o={};for(var d in i)d!=="key"&&(o[d]=i[d])}else o=i;return i=o.ref,{$$typeof:e,type:n,key:c,ref:i!==void 0?i:null,props:o}}return jd.Fragment=t,jd.jsx=s,jd.jsxs=s,jd}var Mj;function UD(){return Mj||(Mj=1,Fg.exports=FD()),Fg.exports}var a=UD(),Ug={exports:{}},Pt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pj;function zD(){if(Pj)return Pt;Pj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function x(P){return P===null||typeof P!="object"?null:(P=g&&P[g]||P["@@iterator"],typeof P=="function"?P:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,v={};function _(P,ie,ne){this.props=P,this.context=ie,this.refs=v,this.updater=ne||b}_.prototype.isReactComponent={},_.prototype.setState=function(P,ie){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ie,"setState")},_.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function T(){}T.prototype=_.prototype;function A(P,ie,ne){this.props=P,this.context=ie,this.refs=v,this.updater=ne||b}var C=A.prototype=new T;C.constructor=A,j(C,_.prototype),C.isPureReactComponent=!0;var S=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},E=Object.prototype.hasOwnProperty;function B(P,ie,ne,$,ee,xe){return ne=xe.ref,{$$typeof:e,type:P,key:ie,ref:ne!==void 0?ne:null,props:xe}}function U(P,ie){return B(P.type,ie,void 0,void 0,void 0,P.props)}function R(P){return typeof P=="object"&&P!==null&&P.$$typeof===e}function K(P){var ie={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ne){return ie[ne]})}var W=/\/+/g;function Z(P,ie){return typeof P=="object"&&P!==null&&P.key!=null?K(""+P.key):ie.toString(36)}function q(){}function G(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(q,q):(P.status="pending",P.then(function(ie){P.status==="pending"&&(P.status="fulfilled",P.value=ie)},function(ie){P.status==="pending"&&(P.status="rejected",P.reason=ie)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function I(P,ie,ne,$,ee){var xe=typeof P;(xe==="undefined"||xe==="boolean")&&(P=null);var he=!1;if(P===null)he=!0;else switch(xe){case"bigint":case"string":case"number":he=!0;break;case"object":switch(P.$$typeof){case e:case t:he=!0;break;case p:return he=P._init,I(he(P._payload),ie,ne,$,ee)}}if(he)return ee=ee(P),he=$===""?"."+Z(P,0):$,S(ee)?(ne="",he!=null&&(ne=he.replace(W,"$&/")+"/"),I(ee,ie,ne,"",function(Ve){return Ve})):ee!=null&&(R(ee)&&(ee=U(ee,ne+(ee.key==null||P&&P.key===ee.key?"":(""+ee.key).replace(W,"$&/")+"/")+he)),ie.push(ee)),1;he=0;var ke=$===""?".":$+":";if(S(P))for(var Ae=0;Ae<P.length;Ae++)$=P[Ae],xe=ke+Z($,Ae),he+=I($,ie,ne,xe,ee);else if(Ae=x(P),typeof Ae=="function")for(P=Ae.call(P),Ae=0;!($=P.next()).done;)$=$.value,xe=ke+Z($,Ae++),he+=I($,ie,ne,xe,ee);else if(xe==="object"){if(typeof P.then=="function")return I(G(P),ie,ne,$,ee);throw ie=String(P),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return he}function H(P,ie,ne){if(P==null)return P;var $=[],ee=0;return I(P,$,"","",function(xe){return ie.call(ne,xe,ee++)}),$}function J(P){if(P._status===-1){var ie=P._result;ie=ie(),ie.then(function(ne){(P._status===0||P._status===-1)&&(P._status=1,P._result=ne)},function(ne){(P._status===0||P._status===-1)&&(P._status=2,P._result=ne)}),P._status===-1&&(P._status=0,P._result=ie)}if(P._status===1)return P._result.default;throw P._result}var te=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function de(){}return Pt.Children={map:H,forEach:function(P,ie,ne){H(P,function(){ie.apply(this,arguments)},ne)},count:function(P){var ie=0;return H(P,function(){ie++}),ie},toArray:function(P){return H(P,function(ie){return ie})||[]},only:function(P){if(!R(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Pt.Component=_,Pt.Fragment=s,Pt.Profiler=i,Pt.PureComponent=A,Pt.StrictMode=n,Pt.Suspense=h,Pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Pt.__COMPILER_RUNTIME={__proto__:null,c:function(P){return D.H.useMemoCache(P)}},Pt.cache=function(P){return function(){return P.apply(null,arguments)}},Pt.cloneElement=function(P,ie,ne){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var $=j({},P.props),ee=P.key,xe=void 0;if(ie!=null)for(he in ie.ref!==void 0&&(xe=void 0),ie.key!==void 0&&(ee=""+ie.key),ie)!E.call(ie,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&ie.ref===void 0||($[he]=ie[he]);var he=arguments.length-2;if(he===1)$.children=ne;else if(1<he){for(var ke=Array(he),Ae=0;Ae<he;Ae++)ke[Ae]=arguments[Ae+2];$.children=ke}return B(P.type,ee,void 0,void 0,xe,$)},Pt.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:o,_context:P},P},Pt.createElement=function(P,ie,ne){var $,ee={},xe=null;if(ie!=null)for($ in ie.key!==void 0&&(xe=""+ie.key),ie)E.call(ie,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ee[$]=ie[$]);var he=arguments.length-2;if(he===1)ee.children=ne;else if(1<he){for(var ke=Array(he),Ae=0;Ae<he;Ae++)ke[Ae]=arguments[Ae+2];ee.children=ke}if(P&&P.defaultProps)for($ in he=P.defaultProps,he)ee[$]===void 0&&(ee[$]=he[$]);return B(P,xe,void 0,void 0,null,ee)},Pt.createRef=function(){return{current:null}},Pt.forwardRef=function(P){return{$$typeof:d,render:P}},Pt.isValidElement=R,Pt.lazy=function(P){return{$$typeof:p,_payload:{_status:-1,_result:P},_init:J}},Pt.memo=function(P,ie){return{$$typeof:f,type:P,compare:ie===void 0?null:ie}},Pt.startTransition=function(P){var ie=D.T,ne={};D.T=ne;try{var $=P(),ee=D.S;ee!==null&&ee(ne,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(de,te)}catch(xe){te(xe)}finally{D.T=ie}},Pt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Pt.use=function(P){return D.H.use(P)},Pt.useActionState=function(P,ie,ne){return D.H.useActionState(P,ie,ne)},Pt.useCallback=function(P,ie){return D.H.useCallback(P,ie)},Pt.useContext=function(P){return D.H.useContext(P)},Pt.useDebugValue=function(){},Pt.useDeferredValue=function(P,ie){return D.H.useDeferredValue(P,ie)},Pt.useEffect=function(P,ie,ne){var $=D.H;if(typeof ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(P,ie)},Pt.useId=function(){return D.H.useId()},Pt.useImperativeHandle=function(P,ie,ne){return D.H.useImperativeHandle(P,ie,ne)},Pt.useInsertionEffect=function(P,ie){return D.H.useInsertionEffect(P,ie)},Pt.useLayoutEffect=function(P,ie){return D.H.useLayoutEffect(P,ie)},Pt.useMemo=function(P,ie){return D.H.useMemo(P,ie)},Pt.useOptimistic=function(P,ie){return D.H.useOptimistic(P,ie)},Pt.useReducer=function(P,ie,ne){return D.H.useReducer(P,ie,ne)},Pt.useRef=function(P){return D.H.useRef(P)},Pt.useState=function(P){return D.H.useState(P)},Pt.useSyncExternalStore=function(P,ie,ne){return D.H.useSyncExternalStore(P,ie,ne)},Pt.useTransition=function(){return D.H.useTransition()},Pt.version="19.1.1",Pt}var Lj;function z0(){return Lj||(Lj=1,Ug.exports=zD()),Ug.exports}var N=z0();const re=U0(N),s2=BD({__proto__:null,default:re},[N]);var zg={exports:{}},Nd={},Hg={exports:{}},$g={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bj;function HD(){return Bj||(Bj=1,function(e){function t(H,J){var te=H.length;H.push(J);e:for(;0<te;){var de=te-1>>>1,P=H[de];if(0<i(P,J))H[de]=J,H[te]=P,te=de;else break e}}function s(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var J=H[0],te=H.pop();if(te!==J){H[0]=te;e:for(var de=0,P=H.length,ie=P>>>1;de<ie;){var ne=2*(de+1)-1,$=H[ne],ee=ne+1,xe=H[ee];if(0>i($,te))ee<P&&0>i(xe,$)?(H[de]=xe,H[ee]=te,de=ee):(H[de]=$,H[ne]=te,de=ne);else if(ee<P&&0>i(xe,te))H[de]=xe,H[ee]=te,de=ee;else break e}}return J}function i(H,J){var te=H.sortIndex-J.sortIndex;return te!==0?te:H.id-J.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var h=[],f=[],p=1,g=null,x=3,b=!1,j=!1,v=!1,_=!1,T=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate!="undefined"?setImmediate:null;function S(H){for(var J=s(f);J!==null;){if(J.callback===null)n(f);else if(J.startTime<=H)n(f),J.sortIndex=J.expirationTime,t(h,J);else break;J=s(f)}}function D(H){if(v=!1,S(H),!j)if(s(h)!==null)j=!0,E||(E=!0,Z());else{var J=s(f);J!==null&&I(D,J.startTime-H)}}var E=!1,B=-1,U=5,R=-1;function K(){return _?!0:!(e.unstable_now()-R<U)}function W(){if(_=!1,E){var H=e.unstable_now();R=H;var J=!0;try{e:{j=!1,v&&(v=!1,A(B),B=-1),b=!0;var te=x;try{t:{for(S(H),g=s(h);g!==null&&!(g.expirationTime>H&&K());){var de=g.callback;if(typeof de=="function"){g.callback=null,x=g.priorityLevel;var P=de(g.expirationTime<=H);if(H=e.unstable_now(),typeof P=="function"){g.callback=P,S(H),J=!0;break t}g===s(h)&&n(h),S(H)}else n(h);g=s(h)}if(g!==null)J=!0;else{var ie=s(f);ie!==null&&I(D,ie.startTime-H),J=!1}}break e}finally{g=null,x=te,b=!1}J=void 0}}finally{J?Z():E=!1}}}var Z;if(typeof C=="function")Z=function(){C(W)};else if(typeof MessageChannel!="undefined"){var q=new MessageChannel,G=q.port2;q.port1.onmessage=W,Z=function(){G.postMessage(null)}}else Z=function(){T(W,0)};function I(H,J){B=T(function(){H(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(H){switch(x){case 1:case 2:case 3:var J=3;break;default:J=x}var te=x;x=J;try{return H()}finally{x=te}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(H,J){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var te=x;x=H;try{return J()}finally{x=te}},e.unstable_scheduleCallback=function(H,J,te){var de=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?de+te:de):te=de,H){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=te+P,H={id:p++,callback:J,priorityLevel:H,startTime:te,expirationTime:P,sortIndex:-1},te>de?(H.sortIndex=te,t(f,H),s(h)===null&&H===s(f)&&(v?(A(B),B=-1):v=!0,I(D,te-de))):(H.sortIndex=P,t(h,H),j||b||(j=!0,E||(E=!0,Z()))),H},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(H){var J=x;return function(){var te=x;x=J;try{return H.apply(this,arguments)}finally{x=te}}}}($g)),$g}var Fj;function $D(){return Fj||(Fj=1,Hg.exports=HD()),Hg.exports}var Ig={exports:{}},Cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uj;function ID(){if(Uj)return Cn;Uj=1;var e=z0();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var n={d:{f:s,r:function(){throw Error(t(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(h,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:h,containerInfo:f,implementation:p}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Cn.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(h,f,null,p)},Cn.flushSync=function(h){var f=c.T,p=n.p;try{if(c.T=null,n.p=2,h)return h()}finally{c.T=f,n.p=p,n.d.f()}},Cn.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(h,f))},Cn.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},Cn.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,g=d(p,f.crossOrigin),x=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?n.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:b}):p==="script"&&n.d.X(h,{crossOrigin:g,integrity:x,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Cn.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=d(f.as,f.crossOrigin);n.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(h)},Cn.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=d(p,f.crossOrigin);n.d.L(h,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Cn.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=d(f.as,f.crossOrigin);n.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(h)},Cn.requestFormReset=function(h){n.d.r(h)},Cn.unstable_batchedUpdates=function(h,f){return h(f)},Cn.useFormState=function(h,f,p){return c.H.useFormState(h,f,p)},Cn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Cn.version="19.1.1",Cn}var zj;function n2(){if(zj)return Ig.exports;zj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ig.exports=ID(),Ig.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hj;function VD(){if(Hj)return Nd;Hj=1;var e=$D(),t=z0(),s=n2();function n(r){var l="https://react.dev/errors/"+r;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var l=r,u=r;if(r.alternate)for(;l.return;)l=l.return;else{r=l;do l=r,(l.flags&4098)!==0&&(u=l.return),r=l.return;while(r)}return l.tag===3?u:null}function c(r){if(r.tag===13){var l=r.memoizedState;if(l===null&&(r=r.alternate,r!==null&&(l=r.memoizedState)),l!==null)return l.dehydrated}return null}function d(r){if(o(r)!==r)throw Error(n(188))}function h(r){var l=r.alternate;if(!l){if(l=o(r),l===null)throw Error(n(188));return l!==r?null:r}for(var u=r,m=l;;){var y=u.return;if(y===null)break;var w=y.alternate;if(w===null){if(m=y.return,m!==null){u=m;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===u)return d(y),r;if(w===m)return d(y),l;w=w.sibling}throw Error(n(188))}if(u.return!==m.return)u=y,m=w;else{for(var O=!1,z=y.child;z;){if(z===u){O=!0,u=y,m=w;break}if(z===m){O=!0,m=y,u=w;break}z=z.sibling}if(!O){for(z=w.child;z;){if(z===u){O=!0,u=w,m=y;break}if(z===m){O=!0,m=w,u=y;break}z=z.sibling}if(!O)throw Error(n(189))}}if(u.alternate!==m)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?r:l}function f(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r;for(r=r.child;r!==null;){if(l=f(r),l!==null)return l;r=r.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),C=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function Z(r){return r===null||typeof r!="object"?null:(r=W&&r[W]||r["@@iterator"],typeof r=="function"?r:null)}var q=Symbol.for("react.client.reference");function G(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===q?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case j:return"Fragment";case _:return"Profiler";case v:return"StrictMode";case D:return"Suspense";case E:return"SuspenseList";case R:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case b:return"Portal";case C:return(r.displayName||"Context")+".Provider";case A:return(r._context.displayName||"Context")+".Consumer";case S:var l=r.render;return r=r.displayName,r||(r=l.displayName||l.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case B:return l=r.displayName||null,l!==null?l:G(r.type)||"Memo";case U:l=r._payload,r=r._init;try{return G(r(l))}catch(u){}}return null}var I=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},de=[],P=-1;function ie(r){return{current:r}}function ne(r){0>P||(r.current=de[P],de[P]=null,P--)}function $(r,l){P++,de[P]=r.current,r.current=l}var ee=ie(null),xe=ie(null),he=ie(null),ke=ie(null);function Ae(r,l){switch($(he,l),$(xe,r),$(ee,null),l.nodeType){case 9:case 11:r=(r=l.documentElement)&&(r=r.namespaceURI)?aj(r):0;break;default:if(r=l.tagName,l=l.namespaceURI)l=aj(l),r=rj(l,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ne(ee),$(ee,r)}function Ve(){ne(ee),ne(xe),ne(he)}function ze(r){r.memoizedState!==null&&$(ke,r);var l=ee.current,u=rj(l,r.type);l!==u&&($(xe,r),$(ee,u))}function M(r){xe.current===r&&(ne(ee),ne(xe)),ke.current===r&&(ne(ke),xd._currentValue=te)}var _e=Object.prototype.hasOwnProperty,He=e.unstable_scheduleCallback,Ue=e.unstable_cancelCallback,mt=e.unstable_shouldYield,tt=e.unstable_requestPaint,Le=e.unstable_now,nt=e.unstable_getCurrentPriorityLevel,lt=e.unstable_ImmediatePriority,Q=e.unstable_UserBlockingPriority,me=e.unstable_NormalPriority,X=e.unstable_LowPriority,Se=e.unstable_IdlePriority,Fe=e.log,Pe=e.unstable_setDisableYieldValue,We=null,Ke=null;function st(r){if(typeof Fe=="function"&&Pe(r),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(We,r)}catch(l){}}var jt=Math.clz32?Math.clz32:Ge,Ce=Math.log,Be=Math.LN2;function Ge(r){return r>>>=0,r===0?32:31-(Ce(r)/Be|0)|0}var zt=256,Gt=4194304;function Xt(r){var l=r&42;if(l!==0)return l;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function os(r,l,u){var m=r.pendingLanes;if(m===0)return 0;var y=0,w=r.suspendedLanes,O=r.pingedLanes;r=r.warmLanes;var z=m&134217727;return z!==0?(m=z&~w,m!==0?y=Xt(m):(O&=z,O!==0?y=Xt(O):u||(u=z&~r,u!==0&&(y=Xt(u))))):(z=m&~w,z!==0?y=Xt(z):O!==0?y=Xt(O):u||(u=m&~r,u!==0&&(y=Xt(u)))),y===0?0:l!==0&&l!==y&&(l&w)===0&&(w=y&-y,u=l&-l,w>=u||w===32&&(u&4194048)!==0)?l:y}function qs(r,l){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&l)===0}function rn(r,l){switch(r){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Je(){var r=zt;return zt<<=1,(zt&4194048)===0&&(zt=256),r}function Bt(){var r=Gt;return Gt<<=1,(Gt&62914560)===0&&(Gt=4194304),r}function It(r){for(var l=[],u=0;31>u;u++)l.push(r);return l}function Et(r,l){r.pendingLanes|=l,l!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function rs(r,l,u,m,y,w){var O=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var z=r.entanglements,se=r.expirationTimes,be=r.hiddenUpdates;for(u=O&~u;0<u;){var Ee=31-jt(u),Oe=1<<Ee;z[Ee]=0,se[Ee]=-1;var je=be[Ee];if(je!==null)for(be[Ee]=null,Ee=0;Ee<je.length;Ee++){var Ne=je[Ee];Ne!==null&&(Ne.lane&=-536870913)}u&=~Oe}m!==0&&et(r,m,0),w!==0&&y===0&&r.tag!==0&&(r.suspendedLanes|=w&~(O&~l))}function et(r,l,u){r.pendingLanes|=l,r.suspendedLanes&=~l;var m=31-jt(l);r.entangledLanes|=l,r.entanglements[m]=r.entanglements[m]|1073741824|u&4194090}function Ct(r,l){var u=r.entangledLanes|=l;for(r=r.entanglements;u;){var m=31-jt(u),y=1<<m;y&l|r[m]&l&&(r[m]|=l),u&=~y}}function Qt(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function es(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function ae(){var r=J.p;return r!==0?r:(r=window.event,r===void 0?32:_j(r.type))}function ce(r,l){var u=J.p;try{return J.p=r,l()}finally{J.p=u}}var ge=Math.random().toString(36).slice(2),Te="__reactFiber$"+ge,Me="__reactProps$"+ge,Ye="__reactContainer$"+ge,at="__reactEvents$"+ge,ct="__reactListeners$"+ge,xt="__reactHandles$"+ge,Mt="__reactResources$"+ge,ut="__reactMarker$"+ge;function St(r){delete r[Te],delete r[Me],delete r[at],delete r[ct],delete r[xt]}function Rt(r){var l=r[Te];if(l)return l;for(var u=r.parentNode;u;){if(l=u[Ye]||u[Te]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(r=cj(r);r!==null;){if(u=r[Te])return u;r=cj(r)}return l}r=u,u=r.parentNode}return null}function ys(r){if(r=r[Te]||r[Ye]){var l=r.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return r}return null}function Ms(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r.stateNode;throw Error(n(33))}function fs(r){var l=r[Mt];return l||(l=r[Mt]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function ft(r){r[ut]=!0}var Dt=new Set,ts={};function Ts(r,l){Ps(r,l),Ps(r+"Capture",l)}function Ps(r,l){for(ts[r]=l,r=0;r<l.length;r++)Dt.add(l[r])}var Js=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),on={},fa={};function ha(r){return _e.call(fa,r)?!0:_e.call(on,r)?!1:Js.test(r)?fa[r]=!0:(on[r]=!0,!1)}function _n(r,l,u){if(ha(l))if(u===null)r.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){r.removeAttribute(l);return}}r.setAttribute(l,""+u)}}function ma(r,l,u){if(u===null)r.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttribute(l,""+u)}}function Lt(r,l,u,m){if(m===null)r.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(l,u,""+m)}}var Ls,kr;function mn(r){if(Ls===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);Ls=l&&l[1]||"",kr=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ls+r+kr}var vs=!1;function La(r,l){if(!r||vs)return"";vs=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var Oe=function(){throw Error()};if(Object.defineProperty(Oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Oe,[])}catch(Ne){var je=Ne}Reflect.construct(r,[],Oe)}else{try{Oe.call()}catch(Ne){je=Ne}r.call(Oe.prototype)}}else{try{throw Error()}catch(Ne){je=Ne}(Oe=r())&&typeof Oe.catch=="function"&&Oe.catch(function(){})}}catch(Ne){if(Ne&&je&&typeof Ne.stack=="string")return[Ne.stack,je.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=m.DetermineComponentFrameRoot(),O=w[0],z=w[1];if(O&&z){var se=O.split(`
`),be=z.split(`
`);for(y=m=0;m<se.length&&!se[m].includes("DetermineComponentFrameRoot");)m++;for(;y<be.length&&!be[y].includes("DetermineComponentFrameRoot");)y++;if(m===se.length||y===be.length)for(m=se.length-1,y=be.length-1;1<=m&&0<=y&&se[m]!==be[y];)y--;for(;1<=m&&0<=y;m--,y--)if(se[m]!==be[y]){if(m!==1||y!==1)do if(m--,y--,0>y||se[m]!==be[y]){var Ee=`
`+se[m].replace(" at new "," at ");return r.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",r.displayName)),Ee}while(1<=m&&0<=y);break}}}finally{vs=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?mn(u):""}function al(r){switch(r.tag){case 26:case 27:case 5:return mn(r.type);case 16:return mn("Lazy");case 13:return mn("Suspense");case 19:return mn("SuspenseList");case 0:case 15:return La(r.type,!1);case 11:return La(r.type.render,!1);case 1:return La(r.type,!0);case 31:return mn("Activity");default:return""}}function rl(r){try{var l="";do l+=al(r),r=r.return;while(r);return l}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Fn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Du(r){var l=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Au(r){var l=Du(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,l),m=""+r[l];if(!r.hasOwnProperty(l)&&typeof u!="undefined"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,w=u.set;return Object.defineProperty(r,l,{configurable:!0,get:function(){return y.call(this)},set:function(O){m=""+O,w.call(this,O)}}),Object.defineProperty(r,l,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(O){m=""+O},stopTracking:function(){r._valueTracker=null,delete r[l]}}}}function ao(r){r._valueTracker||(r._valueTracker=Au(r))}function er(r){if(!r)return!1;var l=r._valueTracker;if(!l)return!0;var u=l.getValue(),m="";return r&&(m=Du(r)?r.checked?"true":"false":r.value),r=m,r!==u?(l.setValue(r),!0):!1}function ro(r){if(r=r||(typeof document!="undefined"?document:void 0),typeof r=="undefined")return null;try{return r.activeElement||r.body}catch(l){return r.body}}var $m=/[\n"\\]/g;function Un(r){return r.replace($m,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Cc(r,l,u,m,y,w,O,z){r.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?r.type=O:r.removeAttribute("type"),l!=null?O==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+Fn(l)):r.value!==""+Fn(l)&&(r.value=""+Fn(l)):O!=="submit"&&O!=="reset"||r.removeAttribute("value"),l!=null?kc(r,O,Fn(l)):u!=null?kc(r,O,Fn(u)):m!=null&&r.removeAttribute("value"),y==null&&w!=null&&(r.defaultChecked=!!w),y!=null&&(r.checked=y&&typeof y!="function"&&typeof y!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?r.name=""+Fn(z):r.removeAttribute("name")}function Ou(r,l,u,m,y,w,O,z){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.type=w),l!=null||u!=null){if(!(w!=="submit"&&w!=="reset"||l!=null))return;u=u!=null?""+Fn(u):"",l=l!=null?""+Fn(l):u,z||l===r.value||(r.value=l),r.defaultValue=l}m=m!=null?m:y,m=typeof m!="function"&&typeof m!="symbol"&&!!m,r.checked=z?r.checked:!!m,r.defaultChecked=!!m,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(r.name=O)}function kc(r,l,u){l==="number"&&ro(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function Er(r,l,u,m){if(r=r.options,l){l={};for(var y=0;y<u.length;y++)l["$"+u[y]]=!0;for(u=0;u<r.length;u++)y=l.hasOwnProperty("$"+r[u].value),r[u].selected!==y&&(r[u].selected=y),y&&m&&(r[u].defaultSelected=!0)}else{for(u=""+Fn(u),l=null,y=0;y<r.length;y++){if(r[y].value===u){r[y].selected=!0,m&&(r[y].defaultSelected=!0);return}l!==null||r[y].disabled||(l=r[y])}l!==null&&(l.selected=!0)}}function io(r,l,u){if(l!=null&&(l=""+Fn(l),l!==r.value&&(r.value=l),u==null)){r.defaultValue!==l&&(r.defaultValue=l);return}r.defaultValue=u!=null?""+Fn(u):""}function Ec(r,l,u,m){if(l==null){if(m!=null){if(u!=null)throw Error(n(92));if(I(m)){if(1<m.length)throw Error(n(93));m=m[0]}u=m}u==null&&(u=""),l=u}u=Fn(l),r.defaultValue=u,m=r.textContent,m===u&&m!==""&&m!==null&&(r.value=m)}function ii(r,l){if(l){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=l;return}}r.textContent=l}var Ru=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mu(r,l,u){var m=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="":m?r.setProperty(l,u):typeof u!="number"||u===0||Ru.has(l)?l==="float"?r.cssFloat=u:r[l]=(""+u).trim():r[l]=u+"px"}function Dc(r,l,u){if(l!=null&&typeof l!="object")throw Error(n(62));if(r=r.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?r.setProperty(m,""):m==="float"?r.cssFloat="":r[m]="");for(var y in l)m=l[y],l.hasOwnProperty(y)&&u[y]!==m&&Mu(r,y,m)}else for(var w in l)l.hasOwnProperty(w)&&Mu(r,w,l[w])}function oo(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var il=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Im=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ol(r){return Im.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Ac=null;function lo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Dr=null,oi=null;function Oc(r){var l=ys(r);if(l&&(r=l.stateNode)){var u=r[Me]||null;e:switch(r=l.stateNode,l.type){case"input":if(Cc(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Un(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var m=u[l];if(m!==r&&m.form===r.form){var y=m[Me]||null;if(!y)throw Error(n(90));Cc(m,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(l=0;l<u.length;l++)m=u[l],m.form===r.form&&er(m)}break e;case"textarea":io(r,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&Er(r,!!u.multiple,l,!1)}}}var co=!1;function Rc(r,l,u){if(co)return r(l,u);co=!0;try{var m=r(l);return m}finally{if(co=!1,(Dr!==null||oi!==null)&&(xf(),Dr&&(l=Dr,r=oi,oi=Dr=null,Oc(l),r)))for(l=0;l<r.length;l++)Oc(r[l])}}function li(r,l){var u=r.stateNode;if(u===null)return null;var m=u[Me]||null;if(m===null)return null;u=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(r=r.type,m=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!m;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(n(231,l,typeof u));return u}var zn=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),ll=!1;if(zn)try{var uo={};Object.defineProperty(uo,"passive",{get:function(){ll=!0}}),window.addEventListener("test",uo,uo),window.removeEventListener("test",uo,uo)}catch(r){ll=!1}var Zn=null,Hn=null,Ar=null;function fo(){if(Ar)return Ar;var r,l=Hn,u=l.length,m,y="value"in Zn?Zn.value:Zn.textContent,w=y.length;for(r=0;r<u&&l[r]===y[r];r++);var O=u-r;for(m=1;m<=O&&l[u-m]===y[w-m];m++);return Ar=y.slice(r,1<m?1-m:void 0)}function ci(r){var l=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&l===13&&(r=13)):r=l,r===10&&(r=13),32<=r||r===13?r:0}function cl(){return!0}function Pu(){return!1}function Tn(r){function l(u,m,y,w,O){this._reactName=u,this._targetInst=y,this.type=m,this.nativeEvent=w,this.target=O,this.currentTarget=null;for(var z in r)r.hasOwnProperty(z)&&(u=r[z],this[z]=u?u(w):w[z]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?cl:Pu,this.isPropagationStopped=Pu,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=cl)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=cl)},persist:function(){},isPersistent:cl}),l}var Ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dl=Tn(Ba),di=p({},Ba,{view:0,detail:0}),Bs=Tn(di),k,L,V,Y=p({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pa,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==V&&(V&&r.type==="mousemove"?(k=r.screenX-V.screenX,L=r.screenY-V.screenY):L=k=0,V=r),k)},movementY:function(r){return"movementY"in r?r.movementY:L}}),ue=Tn(Y),pe=p({},Y,{dataTransfer:0}),ve=Tn(pe),Ie=p({},di,{relatedTarget:0}),gt=Tn(Ie),qe=p({},Ba,{animationName:0,elapsedTime:0,pseudoElement:0}),Ze=Tn(qe),vt=p({},Ba,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),hs=Tn(vt),At=p({},Ba,{data:0}),yt=Tn(At),dt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ln={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ws={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Es(r){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(r):(r=Ws[r])?!!l[r]:!1}function pa(){return Es}var ho=p({},di,{key:function(r){if(r.key){var l=dt[r.key]||r.key;if(l!=="Unidentified")return l}return r.type==="keypress"?(r=ci(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ln[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pa,charCode:function(r){return r.type==="keypress"?ci(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ci(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),tr=Tn(ho),ui=p({},Y,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ul=Tn(ui),fl=p({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pa}),Lu=Tn(fl),Kk=p({},Ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qk=Tn(Kk),Zk=p({},Y,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Jk=Tn(Zk),eE=p({},Ba,{newState:0,oldState:0}),tE=Tn(eE),sE=[9,13,27,32],Vm=zn&&"CompositionEvent"in window,Mc=null;zn&&"documentMode"in document&&(Mc=document.documentMode);var nE=zn&&"TextEvent"in window&&!Mc,hb=zn&&(!Vm||Mc&&8<Mc&&11>=Mc),mb=" ",pb=!1;function gb(r,l){switch(r){case"keyup":return sE.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xb(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var hl=!1;function aE(r,l){switch(r){case"compositionend":return xb(l);case"keypress":return l.which!==32?null:(pb=!0,mb);case"textInput":return r=l.data,r===mb&&pb?null:r;default:return null}}function rE(r,l){if(hl)return r==="compositionend"||!Vm&&gb(r,l)?(r=fo(),Ar=Hn=Zn=null,hl=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return hb&&l.locale!=="ko"?null:l.data;default:return null}}var iE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yb(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l==="input"?!!iE[r.type]:l==="textarea"}function bb(r,l,u,m){Dr?oi?oi.push(m):oi=[m]:Dr=m,l=Nf(l,"onChange"),0<l.length&&(u=new dl("onChange","change",null,u,m),r.push({event:u,listeners:l}))}var Pc=null,Lc=null;function oE(r){Jw(r,0)}function Bu(r){var l=Ms(r);if(er(l))return r}function vb(r,l){if(r==="change")return l}var wb=!1;if(zn){var qm;if(zn){var Wm="oninput"in document;if(!Wm){var jb=document.createElement("div");jb.setAttribute("oninput","return;"),Wm=typeof jb.oninput=="function"}qm=Wm}else qm=!1;wb=qm&&(!document.documentMode||9<document.documentMode)}function Nb(){Pc&&(Pc.detachEvent("onpropertychange",_b),Lc=Pc=null)}function _b(r){if(r.propertyName==="value"&&Bu(Lc)){var l=[];bb(l,Lc,r,lo(r)),Rc(oE,l)}}function lE(r,l,u){r==="focusin"?(Nb(),Pc=l,Lc=u,Pc.attachEvent("onpropertychange",_b)):r==="focusout"&&Nb()}function cE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Bu(Lc)}function dE(r,l){if(r==="click")return Bu(l)}function uE(r,l){if(r==="input"||r==="change")return Bu(l)}function fE(r,l){return r===l&&(r!==0||1/r===1/l)||r!==r&&l!==l}var Jn=typeof Object.is=="function"?Object.is:fE;function Bc(r,l){if(Jn(r,l))return!0;if(typeof r!="object"||r===null||typeof l!="object"||l===null)return!1;var u=Object.keys(r),m=Object.keys(l);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var y=u[m];if(!_e.call(l,y)||!Jn(r[y],l[y]))return!1}return!0}function Tb(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Sb(r,l){var u=Tb(r);r=0;for(var m;u;){if(u.nodeType===3){if(m=r+u.textContent.length,r<=l&&m>=l)return{node:u,offset:l-r};r=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Tb(u)}}function Cb(r,l){return r&&l?r===l?!0:r&&r.nodeType===3?!1:l&&l.nodeType===3?Cb(r,l.parentNode):"contains"in r?r.contains(l):r.compareDocumentPosition?!!(r.compareDocumentPosition(l)&16):!1:!1}function kb(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var l=ro(r.document);l instanceof r.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch(m){u=!1}if(u)r=l.contentWindow;else break;l=ro(r.document)}return l}function Ym(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l&&(l==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||l==="textarea"||r.contentEditable==="true")}var hE=zn&&"documentMode"in document&&11>=document.documentMode,ml=null,Gm=null,Fc=null,Xm=!1;function Eb(r,l,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Xm||ml==null||ml!==ro(m)||(m=ml,"selectionStart"in m&&Ym(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Fc&&Bc(Fc,m)||(Fc=m,m=Nf(Gm,"onSelect"),0<m.length&&(l=new dl("onSelect","select",null,l,u),r.push({event:l,listeners:m}),l.target=ml)))}function mo(r,l){var u={};return u[r.toLowerCase()]=l.toLowerCase(),u["Webkit"+r]="webkit"+l,u["Moz"+r]="moz"+l,u}var pl={animationend:mo("Animation","AnimationEnd"),animationiteration:mo("Animation","AnimationIteration"),animationstart:mo("Animation","AnimationStart"),transitionrun:mo("Transition","TransitionRun"),transitionstart:mo("Transition","TransitionStart"),transitioncancel:mo("Transition","TransitionCancel"),transitionend:mo("Transition","TransitionEnd")},Km={},Db={};zn&&(Db=document.createElement("div").style,"AnimationEvent"in window||(delete pl.animationend.animation,delete pl.animationiteration.animation,delete pl.animationstart.animation),"TransitionEvent"in window||delete pl.transitionend.transition);function po(r){if(Km[r])return Km[r];if(!pl[r])return r;var l=pl[r],u;for(u in l)if(l.hasOwnProperty(u)&&u in Db)return Km[r]=l[u];return r}var Ab=po("animationend"),Ob=po("animationiteration"),Rb=po("animationstart"),mE=po("transitionrun"),pE=po("transitionstart"),gE=po("transitioncancel"),Mb=po("transitionend"),Pb=new Map,Qm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qm.push("scrollEnd");function Fa(r,l){Pb.set(r,l),Ts(l,[r])}var Lb=new WeakMap;function ga(r,l){if(typeof r=="object"&&r!==null){var u=Lb.get(r);return u!==void 0?u:(l={value:r,source:l,stack:rl(l)},Lb.set(r,l),l)}return{value:r,source:l,stack:rl(l)}}var xa=[],gl=0,Zm=0;function Fu(){for(var r=gl,l=Zm=gl=0;l<r;){var u=xa[l];xa[l++]=null;var m=xa[l];xa[l++]=null;var y=xa[l];xa[l++]=null;var w=xa[l];if(xa[l++]=null,m!==null&&y!==null){var O=m.pending;O===null?y.next=y:(y.next=O.next,O.next=y),m.pending=y}w!==0&&Bb(u,y,w)}}function Uu(r,l,u,m){xa[gl++]=r,xa[gl++]=l,xa[gl++]=u,xa[gl++]=m,Zm|=m,r.lanes|=m,r=r.alternate,r!==null&&(r.lanes|=m)}function Jm(r,l,u,m){return Uu(r,l,u,m),zu(r)}function xl(r,l){return Uu(r,null,null,l),zu(r)}function Bb(r,l,u){r.lanes|=u;var m=r.alternate;m!==null&&(m.lanes|=u);for(var y=!1,w=r.return;w!==null;)w.childLanes|=u,m=w.alternate,m!==null&&(m.childLanes|=u),w.tag===22&&(r=w.stateNode,r===null||r._visibility&1||(y=!0)),r=w,w=w.return;return r.tag===3?(w=r.stateNode,y&&l!==null&&(y=31-jt(u),r=w.hiddenUpdates,m=r[y],m===null?r[y]=[l]:m.push(l),l.lane=u|536870912),w):null}function zu(r){if(50<cd)throw cd=0,rg=null,Error(n(185));for(var l=r.return;l!==null;)r=l,l=r.return;return r.tag===3?r.stateNode:null}var yl={};function xE(r,l,u,m){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ea(r,l,u,m){return new xE(r,l,u,m)}function ep(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Or(r,l){var u=r.alternate;return u===null?(u=ea(r.tag,l,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=l,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,l=r.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function Fb(r,l){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=l,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,l=u.dependencies,r.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),r}function Hu(r,l,u,m,y,w){var O=0;if(m=r,typeof r=="function")ep(r)&&(O=1);else if(typeof r=="string")O=bD(r,u,ee.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case R:return r=ea(31,u,l,y),r.elementType=R,r.lanes=w,r;case j:return go(u.children,y,w,l);case v:O=8,y|=24;break;case _:return r=ea(12,u,l,y|2),r.elementType=_,r.lanes=w,r;case D:return r=ea(13,u,l,y),r.elementType=D,r.lanes=w,r;case E:return r=ea(19,u,l,y),r.elementType=E,r.lanes=w,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case T:case C:O=10;break e;case A:O=9;break e;case S:O=11;break e;case B:O=14;break e;case U:O=16,m=null;break e}O=29,u=Error(n(130,r===null?"null":typeof r,"")),m=null}return l=ea(O,u,l,y),l.elementType=r,l.type=m,l.lanes=w,l}function go(r,l,u,m){return r=ea(7,r,m,l),r.lanes=u,r}function tp(r,l,u){return r=ea(6,r,null,l),r.lanes=u,r}function sp(r,l,u){return l=ea(4,r.children!==null?r.children:[],r.key,l),l.lanes=u,l.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},l}var bl=[],vl=0,$u=null,Iu=0,ya=[],ba=0,xo=null,Rr=1,Mr="";function yo(r,l){bl[vl++]=Iu,bl[vl++]=$u,$u=r,Iu=l}function Ub(r,l,u){ya[ba++]=Rr,ya[ba++]=Mr,ya[ba++]=xo,xo=r;var m=Rr;r=Mr;var y=32-jt(m)-1;m&=~(1<<y),u+=1;var w=32-jt(l)+y;if(30<w){var O=y-y%5;w=(m&(1<<O)-1).toString(32),m>>=O,y-=O,Rr=1<<32-jt(l)+y|u<<y|m,Mr=w+r}else Rr=1<<w|u<<y|m,Mr=r}function np(r){r.return!==null&&(yo(r,1),Ub(r,1,0))}function ap(r){for(;r===$u;)$u=bl[--vl],bl[vl]=null,Iu=bl[--vl],bl[vl]=null;for(;r===xo;)xo=ya[--ba],ya[ba]=null,Mr=ya[--ba],ya[ba]=null,Rr=ya[--ba],ya[ba]=null}var Rn=null,Fs=null,is=!1,bo=null,sr=!1,rp=Error(n(519));function vo(r){var l=Error(n(418,""));throw Hc(ga(l,r)),rp}function zb(r){var l=r.stateNode,u=r.type,m=r.memoizedProps;switch(l[Te]=r,l[Me]=m,u){case"dialog":qt("cancel",l),qt("close",l);break;case"iframe":case"object":case"embed":qt("load",l);break;case"video":case"audio":for(u=0;u<ud.length;u++)qt(ud[u],l);break;case"source":qt("error",l);break;case"img":case"image":case"link":qt("error",l),qt("load",l);break;case"details":qt("toggle",l);break;case"input":qt("invalid",l),Ou(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),ao(l);break;case"select":qt("invalid",l);break;case"textarea":qt("invalid",l),Ec(l,m.value,m.defaultValue,m.children),ao(l)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||m.suppressHydrationWarning===!0||nj(l.textContent,u)?(m.popover!=null&&(qt("beforetoggle",l),qt("toggle",l)),m.onScroll!=null&&qt("scroll",l),m.onScrollEnd!=null&&qt("scrollend",l),m.onClick!=null&&(l.onclick=_f),l=!0):l=!1,l||vo(r)}function Hb(r){for(Rn=r.return;Rn;)switch(Rn.tag){case 5:case 13:sr=!1;return;case 27:case 3:sr=!0;return;default:Rn=Rn.return}}function Uc(r){if(r!==Rn)return!1;if(!is)return Hb(r),is=!0,!1;var l=r.tag,u;if((u=l!==3&&l!==27)&&((u=l===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||wg(r.type,r.memoizedProps)),u=!u),u&&Fs&&vo(r),Hb(r),l===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,l=0;r;){if(r.nodeType===8)if(u=r.data,u==="/$"){if(l===0){Fs=za(r.nextSibling);break e}l--}else u!=="$"&&u!=="$!"&&u!=="$?"||l++;r=r.nextSibling}Fs=null}}else l===27?(l=Fs,Ci(r.type)?(r=Tg,Tg=null,Fs=r):Fs=l):Fs=Rn?za(r.stateNode.nextSibling):null;return!0}function zc(){Fs=Rn=null,is=!1}function $b(){var r=bo;return r!==null&&(Vn===null?Vn=r:Vn.push.apply(Vn,r),bo=null),r}function Hc(r){bo===null?bo=[r]:bo.push(r)}var ip=ie(null),wo=null,Pr=null;function fi(r,l,u){$(ip,l._currentValue),l._currentValue=u}function Lr(r){r._currentValue=ip.current,ne(ip)}function op(r,l,u){for(;r!==null;){var m=r.alternate;if((r.childLanes&l)!==l?(r.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),r===u)break;r=r.return}}function lp(r,l,u,m){var y=r.child;for(y!==null&&(y.return=r);y!==null;){var w=y.dependencies;if(w!==null){var O=y.child;w=w.firstContext;e:for(;w!==null;){var z=w;w=y;for(var se=0;se<l.length;se++)if(z.context===l[se]){w.lanes|=u,z=w.alternate,z!==null&&(z.lanes|=u),op(w.return,u,r),m||(O=null);break e}w=z.next}}else if(y.tag===18){if(O=y.return,O===null)throw Error(n(341));O.lanes|=u,w=O.alternate,w!==null&&(w.lanes|=u),op(O,u,r),O=null}else O=y.child;if(O!==null)O.return=y;else for(O=y;O!==null;){if(O===r){O=null;break}if(y=O.sibling,y!==null){y.return=O.return,O=y;break}O=O.return}y=O}}function $c(r,l,u,m){r=null;for(var y=l,w=!1;y!==null;){if(!w){if((y.flags&524288)!==0)w=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var O=y.alternate;if(O===null)throw Error(n(387));if(O=O.memoizedProps,O!==null){var z=y.type;Jn(y.pendingProps.value,O.value)||(r!==null?r.push(z):r=[z])}}else if(y===ke.current){if(O=y.alternate,O===null)throw Error(n(387));O.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(r!==null?r.push(xd):r=[xd])}y=y.return}r!==null&&lp(l,r,u,m),l.flags|=262144}function Vu(r){for(r=r.firstContext;r!==null;){if(!Jn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function jo(r){wo=r,Pr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Sn(r){return Ib(wo,r)}function qu(r,l){return wo===null&&jo(r),Ib(r,l)}function Ib(r,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},Pr===null){if(r===null)throw Error(n(308));Pr=l,r.dependencies={lanes:0,firstContext:l},r.flags|=524288}else Pr=Pr.next=l;return u}var yE=typeof AbortController!="undefined"?AbortController:function(){var r=[],l=this.signal={aborted:!1,addEventListener:function(u,m){r.push(m)}};this.abort=function(){l.aborted=!0,r.forEach(function(u){return u()})}},bE=e.unstable_scheduleCallback,vE=e.unstable_NormalPriority,en={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cp(){return{controller:new yE,data:new Map,refCount:0}}function Ic(r){r.refCount--,r.refCount===0&&bE(vE,function(){r.controller.abort()})}var Vc=null,dp=0,wl=0,jl=null;function wE(r,l){if(Vc===null){var u=Vc=[];dp=0,wl=fg(),jl={status:"pending",value:void 0,then:function(m){u.push(m)}}}return dp++,l.then(Vb,Vb),l}function Vb(){if(--dp===0&&Vc!==null){jl!==null&&(jl.status="fulfilled");var r=Vc;Vc=null,wl=0,jl=null;for(var l=0;l<r.length;l++)(0,r[l])()}}function jE(r,l){var u=[],m={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return r.then(function(){m.status="fulfilled",m.value=l;for(var y=0;y<u.length;y++)(0,u[y])(l)},function(y){for(m.status="rejected",m.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),m}var qb=H.S;H.S=function(r,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&wE(r,l),qb!==null&&qb(r,l)};var No=ie(null);function up(){var r=No.current;return r!==null?r:ws.pooledCache}function Wu(r,l){l===null?$(No,No.current):$(No,l.pool)}function Wb(){var r=up();return r===null?null:{parent:en._currentValue,pool:r}}var qc=Error(n(460)),Yb=Error(n(474)),Yu=Error(n(542)),fp={then:function(){}};function Gb(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Gu(){}function Xb(r,l,u){switch(u=r[u],u===void 0?r.push(l):u!==l&&(l.then(Gu,Gu),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,Qb(r),r;default:if(typeof l.status=="string")l.then(Gu,Gu);else{if(r=ws,r!==null&&100<r.shellSuspendCounter)throw Error(n(482));r=l,r.status="pending",r.then(function(m){if(l.status==="pending"){var y=l;y.status="fulfilled",y.value=m}},function(m){if(l.status==="pending"){var y=l;y.status="rejected",y.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,Qb(r),r}throw Wc=l,qc}}var Wc=null;function Kb(){if(Wc===null)throw Error(n(459));var r=Wc;return Wc=null,r}function Qb(r){if(r===qc||r===Yu)throw Error(n(483))}var hi=!1;function hp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mp(r,l){r=r.updateQueue,l.updateQueue===r&&(l.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function mi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function pi(r,l,u){var m=r.updateQueue;if(m===null)return null;if(m=m.shared,(ls&2)!==0){var y=m.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),m.pending=l,l=zu(r),Bb(r,null,u),l}return Uu(r,m,l,u),zu(r)}function Yc(r,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194048)!==0)){var m=l.lanes;m&=r.pendingLanes,u|=m,l.lanes=u,Ct(r,u)}}function pp(r,l){var u=r.updateQueue,m=r.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var y=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var O={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};w===null?y=w=O:w=w.next=O,u=u.next}while(u!==null);w===null?y=w=l:w=w.next=l}else y=w=l;u={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:m.shared,callbacks:m.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=l:r.next=l,u.lastBaseUpdate=l}var gp=!1;function Gc(){if(gp){var r=jl;if(r!==null)throw r}}function Xc(r,l,u,m){gp=!1;var y=r.updateQueue;hi=!1;var w=y.firstBaseUpdate,O=y.lastBaseUpdate,z=y.shared.pending;if(z!==null){y.shared.pending=null;var se=z,be=se.next;se.next=null,O===null?w=be:O.next=be,O=se;var Ee=r.alternate;Ee!==null&&(Ee=Ee.updateQueue,z=Ee.lastBaseUpdate,z!==O&&(z===null?Ee.firstBaseUpdate=be:z.next=be,Ee.lastBaseUpdate=se))}if(w!==null){var Oe=y.baseState;O=0,Ee=be=se=null,z=w;do{var je=z.lane&-536870913,Ne=je!==z.lane;if(Ne?(Jt&je)===je:(m&je)===je){je!==0&&je===wl&&(gp=!0),Ee!==null&&(Ee=Ee.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var _t=r,bt=z;je=l;var gs=u;switch(bt.tag){case 1:if(_t=bt.payload,typeof _t=="function"){Oe=_t.call(gs,Oe,je);break e}Oe=_t;break e;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=bt.payload,je=typeof _t=="function"?_t.call(gs,Oe,je):_t,je==null)break e;Oe=p({},Oe,je);break e;case 2:hi=!0}}je=z.callback,je!==null&&(r.flags|=64,Ne&&(r.flags|=8192),Ne=y.callbacks,Ne===null?y.callbacks=[je]:Ne.push(je))}else Ne={lane:je,tag:z.tag,payload:z.payload,callback:z.callback,next:null},Ee===null?(be=Ee=Ne,se=Oe):Ee=Ee.next=Ne,O|=je;if(z=z.next,z===null){if(z=y.shared.pending,z===null)break;Ne=z,z=Ne.next,Ne.next=null,y.lastBaseUpdate=Ne,y.shared.pending=null}}while(!0);Ee===null&&(se=Oe),y.baseState=se,y.firstBaseUpdate=be,y.lastBaseUpdate=Ee,w===null&&(y.shared.lanes=0),Ni|=O,r.lanes=O,r.memoizedState=Oe}}function Zb(r,l){if(typeof r!="function")throw Error(n(191,r));r.call(l)}function Jb(r,l){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)Zb(u[r],l)}var Nl=ie(null),Xu=ie(0);function ev(r,l){r=Ir,$(Xu,r),$(Nl,l),Ir=r|l.baseLanes}function xp(){$(Xu,Ir),$(Nl,Nl.current)}function yp(){Ir=Xu.current,ne(Nl),ne(Xu)}var gi=0,Ft=null,ms=null,Ys=null,Ku=!1,_l=!1,_o=!1,Qu=0,Kc=0,Tl=null,NE=0;function zs(){throw Error(n(321))}function bp(r,l){if(l===null)return!1;for(var u=0;u<l.length&&u<r.length;u++)if(!Jn(r[u],l[u]))return!1;return!0}function vp(r,l,u,m,y,w){return gi=w,Ft=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,H.H=r===null||r.memoizedState===null?Bv:Fv,_o=!1,w=u(m,y),_o=!1,_l&&(w=sv(l,u,m,y)),tv(r),w}function tv(r){H.H=nf;var l=ms!==null&&ms.next!==null;if(gi=0,Ys=ms=Ft=null,Ku=!1,Kc=0,Tl=null,l)throw Error(n(300));r===null||cn||(r=r.dependencies,r!==null&&Vu(r)&&(cn=!0))}function sv(r,l,u,m){Ft=r;var y=0;do{if(_l&&(Tl=null),Kc=0,_l=!1,25<=y)throw Error(n(301));if(y+=1,Ys=ms=null,r.updateQueue!=null){var w=r.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}H.H=DE,w=l(u,m)}while(_l);return w}function _E(){var r=H.H,l=r.useState()[0];return l=typeof l.then=="function"?Qc(l):l,r=r.useState()[0],(ms!==null?ms.memoizedState:null)!==r&&(Ft.flags|=1024),l}function wp(){var r=Qu!==0;return Qu=0,r}function jp(r,l,u){l.updateQueue=r.updateQueue,l.flags&=-2053,r.lanes&=~u}function Np(r){if(Ku){for(r=r.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Ku=!1}gi=0,Ys=ms=Ft=null,_l=!1,Kc=Qu=0,Tl=null}function $n(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ys===null?Ft.memoizedState=Ys=r:Ys=Ys.next=r,Ys}function Gs(){if(ms===null){var r=Ft.alternate;r=r!==null?r.memoizedState:null}else r=ms.next;var l=Ys===null?Ft.memoizedState:Ys.next;if(l!==null)Ys=l,ms=r;else{if(r===null)throw Ft.alternate===null?Error(n(467)):Error(n(310));ms=r,r={memoizedState:ms.memoizedState,baseState:ms.baseState,baseQueue:ms.baseQueue,queue:ms.queue,next:null},Ys===null?Ft.memoizedState=Ys=r:Ys=Ys.next=r}return Ys}function _p(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qc(r){var l=Kc;return Kc+=1,Tl===null&&(Tl=[]),r=Xb(Tl,r,l),l=Ft,(Ys===null?l.memoizedState:Ys.next)===null&&(l=l.alternate,H.H=l===null||l.memoizedState===null?Bv:Fv),r}function Zu(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Qc(r);if(r.$$typeof===C)return Sn(r)}throw Error(n(438,String(r)))}function Tp(r){var l=null,u=Ft.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var m=Ft.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(y){return y.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=_p(),Ft.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(r),m=0;m<r;m++)u[m]=K;return l.index++,u}function Br(r,l){return typeof l=="function"?l(r):l}function Ju(r){var l=Gs();return Sp(l,ms,r)}function Sp(r,l,u){var m=r.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=u;var y=r.baseQueue,w=m.pending;if(w!==null){if(y!==null){var O=y.next;y.next=w.next,w.next=O}l.baseQueue=y=w,m.pending=null}if(w=r.baseState,y===null)r.memoizedState=w;else{l=y.next;var z=O=null,se=null,be=l,Ee=!1;do{var Oe=be.lane&-536870913;if(Oe!==be.lane?(Jt&Oe)===Oe:(gi&Oe)===Oe){var je=be.revertLane;if(je===0)se!==null&&(se=se.next={lane:0,revertLane:0,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null}),Oe===wl&&(Ee=!0);else if((gi&je)===je){be=be.next,je===wl&&(Ee=!0);continue}else Oe={lane:0,revertLane:be.revertLane,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null},se===null?(z=se=Oe,O=w):se=se.next=Oe,Ft.lanes|=je,Ni|=je;Oe=be.action,_o&&u(w,Oe),w=be.hasEagerState?be.eagerState:u(w,Oe)}else je={lane:Oe,revertLane:be.revertLane,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null},se===null?(z=se=je,O=w):se=se.next=je,Ft.lanes|=Oe,Ni|=Oe;be=be.next}while(be!==null&&be!==l);if(se===null?O=w:se.next=z,!Jn(w,r.memoizedState)&&(cn=!0,Ee&&(u=jl,u!==null)))throw u;r.memoizedState=w,r.baseState=O,r.baseQueue=se,m.lastRenderedState=w}return y===null&&(m.lanes=0),[r.memoizedState,m.dispatch]}function Cp(r){var l=Gs(),u=l.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=r;var m=u.dispatch,y=u.pending,w=l.memoizedState;if(y!==null){u.pending=null;var O=y=y.next;do w=r(w,O.action),O=O.next;while(O!==y);Jn(w,l.memoizedState)||(cn=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),u.lastRenderedState=w}return[w,m]}function nv(r,l,u){var m=Ft,y=Gs(),w=is;if(w){if(u===void 0)throw Error(n(407));u=u()}else u=l();var O=!Jn((ms||y).memoizedState,u);O&&(y.memoizedState=u,cn=!0),y=y.queue;var z=iv.bind(null,m,y,r);if(Zc(2048,8,z,[r]),y.getSnapshot!==l||O||Ys!==null&&Ys.memoizedState.tag&1){if(m.flags|=2048,Sl(9,ef(),rv.bind(null,m,y,u,l),null),ws===null)throw Error(n(349));w||(gi&124)!==0||av(m,l,u)}return u}function av(r,l,u){r.flags|=16384,r={getSnapshot:l,value:u},l=Ft.updateQueue,l===null?(l=_p(),Ft.updateQueue=l,l.stores=[r]):(u=l.stores,u===null?l.stores=[r]:u.push(r))}function rv(r,l,u,m){l.value=u,l.getSnapshot=m,ov(l)&&lv(r)}function iv(r,l,u){return u(function(){ov(l)&&lv(r)})}function ov(r){var l=r.getSnapshot;r=r.value;try{var u=l();return!Jn(r,u)}catch(m){return!0}}function lv(r){var l=xl(r,2);l!==null&&ra(l,r,2)}function kp(r){var l=$n();if(typeof r=="function"){var u=r;if(r=u(),_o){st(!0);try{u()}finally{st(!1)}}}return l.memoizedState=l.baseState=r,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Br,lastRenderedState:r},l}function cv(r,l,u,m){return r.baseState=u,Sp(r,ms,typeof m=="function"?m:Br)}function TE(r,l,u,m,y){if(sf(r))throw Error(n(485));if(r=l.action,r!==null){var w={payload:y,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){w.listeners.push(O)}};H.T!==null?u(!0):w.isTransition=!1,m(w),u=l.pending,u===null?(w.next=l.pending=w,dv(l,w)):(w.next=u.next,l.pending=u.next=w)}}function dv(r,l){var u=l.action,m=l.payload,y=r.state;if(l.isTransition){var w=H.T,O={};H.T=O;try{var z=u(y,m),se=H.S;se!==null&&se(O,z),uv(r,l,z)}catch(be){Ep(r,l,be)}finally{H.T=w}}else try{w=u(y,m),uv(r,l,w)}catch(be){Ep(r,l,be)}}function uv(r,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){fv(r,l,m)},function(m){return Ep(r,l,m)}):fv(r,l,u)}function fv(r,l,u){l.status="fulfilled",l.value=u,hv(l),r.state=u,l=r.pending,l!==null&&(u=l.next,u===l?r.pending=null:(u=u.next,l.next=u,dv(r,u)))}function Ep(r,l,u){var m=r.pending;if(r.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=u,hv(l),l=l.next;while(l!==m)}r.action=null}function hv(r){r=r.listeners;for(var l=0;l<r.length;l++)(0,r[l])()}function mv(r,l){return l}function pv(r,l){if(is){var u=ws.formState;if(u!==null){e:{var m=Ft;if(is){if(Fs){t:{for(var y=Fs,w=sr;y.nodeType!==8;){if(!w){y=null;break t}if(y=za(y.nextSibling),y===null){y=null;break t}}w=y.data,y=w==="F!"||w==="F"?y:null}if(y){Fs=za(y.nextSibling),m=y.data==="F!";break e}}vo(m)}m=!1}m&&(l=u[0])}}return u=$n(),u.memoizedState=u.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mv,lastRenderedState:l},u.queue=m,u=Mv.bind(null,Ft,m),m.dispatch=u,m=kp(!1),w=Mp.bind(null,Ft,!1,m.queue),m=$n(),y={state:l,dispatch:null,action:r,pending:null},m.queue=y,u=TE.bind(null,Ft,y,w,u),y.dispatch=u,m.memoizedState=r,[l,u,!1]}function gv(r){var l=Gs();return xv(l,ms,r)}function xv(r,l,u){if(l=Sp(r,l,mv)[0],r=Ju(Br)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=Qc(l)}catch(O){throw O===qc?Yu:O}else m=l;l=Gs();var y=l.queue,w=y.dispatch;return u!==l.memoizedState&&(Ft.flags|=2048,Sl(9,ef(),SE.bind(null,y,u),null)),[m,w,r]}function SE(r,l){r.action=l}function yv(r){var l=Gs(),u=ms;if(u!==null)return xv(l,u,r);Gs(),l=l.memoizedState,u=Gs();var m=u.queue.dispatch;return u.memoizedState=r,[l,m,!1]}function Sl(r,l,u,m){return r={tag:r,create:u,deps:m,inst:l,next:null},l=Ft.updateQueue,l===null&&(l=_p(),Ft.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=r.next=r:(m=u.next,u.next=r,r.next=m,l.lastEffect=r),r}function ef(){return{destroy:void 0,resource:void 0}}function bv(){return Gs().memoizedState}function tf(r,l,u,m){var y=$n();m=m===void 0?null:m,Ft.flags|=r,y.memoizedState=Sl(1|l,ef(),u,m)}function Zc(r,l,u,m){var y=Gs();m=m===void 0?null:m;var w=y.memoizedState.inst;ms!==null&&m!==null&&bp(m,ms.memoizedState.deps)?y.memoizedState=Sl(l,w,u,m):(Ft.flags|=r,y.memoizedState=Sl(1|l,w,u,m))}function vv(r,l){tf(8390656,8,r,l)}function wv(r,l){Zc(2048,8,r,l)}function jv(r,l){return Zc(4,2,r,l)}function Nv(r,l){return Zc(4,4,r,l)}function _v(r,l){if(typeof l=="function"){r=r();var u=l(r);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return r=r(),l.current=r,function(){l.current=null}}function Tv(r,l,u){u=u!=null?u.concat([r]):null,Zc(4,4,_v.bind(null,l,r),u)}function Dp(){}function Sv(r,l){var u=Gs();l=l===void 0?null:l;var m=u.memoizedState;return l!==null&&bp(l,m[1])?m[0]:(u.memoizedState=[r,l],r)}function Cv(r,l){var u=Gs();l=l===void 0?null:l;var m=u.memoizedState;if(l!==null&&bp(l,m[1]))return m[0];if(m=r(),_o){st(!0);try{r()}finally{st(!1)}}return u.memoizedState=[m,l],m}function Ap(r,l,u){return u===void 0||(gi&1073741824)!==0?r.memoizedState=l:(r.memoizedState=u,r=Dw(),Ft.lanes|=r,Ni|=r,u)}function kv(r,l,u,m){return Jn(u,l)?u:Nl.current!==null?(r=Ap(r,u,m),Jn(r,l)||(cn=!0),r):(gi&42)===0?(cn=!0,r.memoizedState=u):(r=Dw(),Ft.lanes|=r,Ni|=r,l)}function Ev(r,l,u,m,y){var w=J.p;J.p=w!==0&&8>w?w:8;var O=H.T,z={};H.T=z,Mp(r,!1,l,u);try{var se=y(),be=H.S;if(be!==null&&be(z,se),se!==null&&typeof se=="object"&&typeof se.then=="function"){var Ee=jE(se,m);Jc(r,l,Ee,aa(r))}else Jc(r,l,m,aa(r))}catch(Oe){Jc(r,l,{then:function(){},status:"rejected",reason:Oe},aa())}finally{J.p=w,H.T=O}}function CE(){}function Op(r,l,u,m){if(r.tag!==5)throw Error(n(476));var y=Dv(r).queue;Ev(r,y,l,te,u===null?CE:function(){return Av(r),u(m)})}function Dv(r){var l=r.memoizedState;if(l!==null)return l;l={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Br,lastRenderedState:te},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Br,lastRenderedState:u},next:null},r.memoizedState=l,r=r.alternate,r!==null&&(r.memoizedState=l),l}function Av(r){var l=Dv(r).next.queue;Jc(r,l,{},aa())}function Rp(){return Sn(xd)}function Ov(){return Gs().memoizedState}function Rv(){return Gs().memoizedState}function kE(r){for(var l=r.return;l!==null;){switch(l.tag){case 24:case 3:var u=aa();r=mi(u);var m=pi(l,r,u);m!==null&&(ra(m,l,u),Yc(m,l,u)),l={cache:cp()},r.payload=l;return}l=l.return}}function EE(r,l,u){var m=aa();u={lane:m,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},sf(r)?Pv(l,u):(u=Jm(r,l,u,m),u!==null&&(ra(u,r,m),Lv(u,l,m)))}function Mv(r,l,u){var m=aa();Jc(r,l,u,m)}function Jc(r,l,u,m){var y={lane:m,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(sf(r))Pv(l,y);else{var w=r.alternate;if(r.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var O=l.lastRenderedState,z=w(O,u);if(y.hasEagerState=!0,y.eagerState=z,Jn(z,O))return Uu(r,l,y,0),ws===null&&Fu(),!1}catch(se){}finally{}if(u=Jm(r,l,y,m),u!==null)return ra(u,r,m),Lv(u,l,m),!0}return!1}function Mp(r,l,u,m){if(m={lane:2,revertLane:fg(),action:m,hasEagerState:!1,eagerState:null,next:null},sf(r)){if(l)throw Error(n(479))}else l=Jm(r,u,m,2),l!==null&&ra(l,r,2)}function sf(r){var l=r.alternate;return r===Ft||l!==null&&l===Ft}function Pv(r,l){_l=Ku=!0;var u=r.pending;u===null?l.next=l:(l.next=u.next,u.next=l),r.pending=l}function Lv(r,l,u){if((u&4194048)!==0){var m=l.lanes;m&=r.pendingLanes,u|=m,l.lanes=u,Ct(r,u)}}var nf={readContext:Sn,use:Zu,useCallback:zs,useContext:zs,useEffect:zs,useImperativeHandle:zs,useLayoutEffect:zs,useInsertionEffect:zs,useMemo:zs,useReducer:zs,useRef:zs,useState:zs,useDebugValue:zs,useDeferredValue:zs,useTransition:zs,useSyncExternalStore:zs,useId:zs,useHostTransitionStatus:zs,useFormState:zs,useActionState:zs,useOptimistic:zs,useMemoCache:zs,useCacheRefresh:zs},Bv={readContext:Sn,use:Zu,useCallback:function(r,l){return $n().memoizedState=[r,l===void 0?null:l],r},useContext:Sn,useEffect:vv,useImperativeHandle:function(r,l,u){u=u!=null?u.concat([r]):null,tf(4194308,4,_v.bind(null,l,r),u)},useLayoutEffect:function(r,l){return tf(4194308,4,r,l)},useInsertionEffect:function(r,l){tf(4,2,r,l)},useMemo:function(r,l){var u=$n();l=l===void 0?null:l;var m=r();if(_o){st(!0);try{r()}finally{st(!1)}}return u.memoizedState=[m,l],m},useReducer:function(r,l,u){var m=$n();if(u!==void 0){var y=u(l);if(_o){st(!0);try{u(l)}finally{st(!1)}}}else y=l;return m.memoizedState=m.baseState=y,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:y},m.queue=r,r=r.dispatch=EE.bind(null,Ft,r),[m.memoizedState,r]},useRef:function(r){var l=$n();return r={current:r},l.memoizedState=r},useState:function(r){r=kp(r);var l=r.queue,u=Mv.bind(null,Ft,l);return l.dispatch=u,[r.memoizedState,u]},useDebugValue:Dp,useDeferredValue:function(r,l){var u=$n();return Ap(u,r,l)},useTransition:function(){var r=kp(!1);return r=Ev.bind(null,Ft,r.queue,!0,!1),$n().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,l,u){var m=Ft,y=$n();if(is){if(u===void 0)throw Error(n(407));u=u()}else{if(u=l(),ws===null)throw Error(n(349));(Jt&124)!==0||av(m,l,u)}y.memoizedState=u;var w={value:u,getSnapshot:l};return y.queue=w,vv(iv.bind(null,m,w,r),[r]),m.flags|=2048,Sl(9,ef(),rv.bind(null,m,w,u,l),null),u},useId:function(){var r=$n(),l=ws.identifierPrefix;if(is){var u=Mr,m=Rr;u=(m&~(1<<32-jt(m)-1)).toString(32)+u,l="«"+l+"R"+u,u=Qu++,0<u&&(l+="H"+u.toString(32)),l+="»"}else u=NE++,l="«"+l+"r"+u.toString(32)+"»";return r.memoizedState=l},useHostTransitionStatus:Rp,useFormState:pv,useActionState:pv,useOptimistic:function(r){var l=$n();l.memoizedState=l.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=Mp.bind(null,Ft,!0,u),u.dispatch=l,[r,l]},useMemoCache:Tp,useCacheRefresh:function(){return $n().memoizedState=kE.bind(null,Ft)}},Fv={readContext:Sn,use:Zu,useCallback:Sv,useContext:Sn,useEffect:wv,useImperativeHandle:Tv,useInsertionEffect:jv,useLayoutEffect:Nv,useMemo:Cv,useReducer:Ju,useRef:bv,useState:function(){return Ju(Br)},useDebugValue:Dp,useDeferredValue:function(r,l){var u=Gs();return kv(u,ms.memoizedState,r,l)},useTransition:function(){var r=Ju(Br)[0],l=Gs().memoizedState;return[typeof r=="boolean"?r:Qc(r),l]},useSyncExternalStore:nv,useId:Ov,useHostTransitionStatus:Rp,useFormState:gv,useActionState:gv,useOptimistic:function(r,l){var u=Gs();return cv(u,ms,r,l)},useMemoCache:Tp,useCacheRefresh:Rv},DE={readContext:Sn,use:Zu,useCallback:Sv,useContext:Sn,useEffect:wv,useImperativeHandle:Tv,useInsertionEffect:jv,useLayoutEffect:Nv,useMemo:Cv,useReducer:Cp,useRef:bv,useState:function(){return Cp(Br)},useDebugValue:Dp,useDeferredValue:function(r,l){var u=Gs();return ms===null?Ap(u,r,l):kv(u,ms.memoizedState,r,l)},useTransition:function(){var r=Cp(Br)[0],l=Gs().memoizedState;return[typeof r=="boolean"?r:Qc(r),l]},useSyncExternalStore:nv,useId:Ov,useHostTransitionStatus:Rp,useFormState:yv,useActionState:yv,useOptimistic:function(r,l){var u=Gs();return ms!==null?cv(u,ms,r,l):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:Tp,useCacheRefresh:Rv},Cl=null,ed=0;function af(r){var l=ed;return ed+=1,Cl===null&&(Cl=[]),Xb(Cl,r,l)}function td(r,l){l=l.props.ref,r.ref=l!==void 0?l:null}function rf(r,l){throw l.$$typeof===g?Error(n(525)):(r=Object.prototype.toString.call(l),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":r)))}function Uv(r){var l=r._init;return l(r._payload)}function zv(r){function l(fe,oe){if(r){var ye=fe.deletions;ye===null?(fe.deletions=[oe],fe.flags|=16):ye.push(oe)}}function u(fe,oe){if(!r)return null;for(;oe!==null;)l(fe,oe),oe=oe.sibling;return null}function m(fe){for(var oe=new Map;fe!==null;)fe.key!==null?oe.set(fe.key,fe):oe.set(fe.index,fe),fe=fe.sibling;return oe}function y(fe,oe){return fe=Or(fe,oe),fe.index=0,fe.sibling=null,fe}function w(fe,oe,ye){return fe.index=ye,r?(ye=fe.alternate,ye!==null?(ye=ye.index,ye<oe?(fe.flags|=67108866,oe):ye):(fe.flags|=67108866,oe)):(fe.flags|=1048576,oe)}function O(fe){return r&&fe.alternate===null&&(fe.flags|=67108866),fe}function z(fe,oe,ye,De){return oe===null||oe.tag!==6?(oe=tp(ye,fe.mode,De),oe.return=fe,oe):(oe=y(oe,ye),oe.return=fe,oe)}function se(fe,oe,ye,De){var rt=ye.type;return rt===j?Ee(fe,oe,ye.props.children,De,ye.key):oe!==null&&(oe.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===U&&Uv(rt)===oe.type)?(oe=y(oe,ye.props),td(oe,ye),oe.return=fe,oe):(oe=Hu(ye.type,ye.key,ye.props,null,fe.mode,De),td(oe,ye),oe.return=fe,oe)}function be(fe,oe,ye,De){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==ye.containerInfo||oe.stateNode.implementation!==ye.implementation?(oe=sp(ye,fe.mode,De),oe.return=fe,oe):(oe=y(oe,ye.children||[]),oe.return=fe,oe)}function Ee(fe,oe,ye,De,rt){return oe===null||oe.tag!==7?(oe=go(ye,fe.mode,De,rt),oe.return=fe,oe):(oe=y(oe,ye),oe.return=fe,oe)}function Oe(fe,oe,ye){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return oe=tp(""+oe,fe.mode,ye),oe.return=fe,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case x:return ye=Hu(oe.type,oe.key,oe.props,null,fe.mode,ye),td(ye,oe),ye.return=fe,ye;case b:return oe=sp(oe,fe.mode,ye),oe.return=fe,oe;case U:var De=oe._init;return oe=De(oe._payload),Oe(fe,oe,ye)}if(I(oe)||Z(oe))return oe=go(oe,fe.mode,ye,null),oe.return=fe,oe;if(typeof oe.then=="function")return Oe(fe,af(oe),ye);if(oe.$$typeof===C)return Oe(fe,qu(fe,oe),ye);rf(fe,oe)}return null}function je(fe,oe,ye,De){var rt=oe!==null?oe.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return rt!==null?null:z(fe,oe,""+ye,De);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case x:return ye.key===rt?se(fe,oe,ye,De):null;case b:return ye.key===rt?be(fe,oe,ye,De):null;case U:return rt=ye._init,ye=rt(ye._payload),je(fe,oe,ye,De)}if(I(ye)||Z(ye))return rt!==null?null:Ee(fe,oe,ye,De,null);if(typeof ye.then=="function")return je(fe,oe,af(ye),De);if(ye.$$typeof===C)return je(fe,oe,qu(fe,ye),De);rf(fe,ye)}return null}function Ne(fe,oe,ye,De,rt){if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return fe=fe.get(ye)||null,z(oe,fe,""+De,rt);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case x:return fe=fe.get(De.key===null?ye:De.key)||null,se(oe,fe,De,rt);case b:return fe=fe.get(De.key===null?ye:De.key)||null,be(oe,fe,De,rt);case U:var Ht=De._init;return De=Ht(De._payload),Ne(fe,oe,ye,De,rt)}if(I(De)||Z(De))return fe=fe.get(ye)||null,Ee(oe,fe,De,rt,null);if(typeof De.then=="function")return Ne(fe,oe,ye,af(De),rt);if(De.$$typeof===C)return Ne(fe,oe,ye,qu(oe,De),rt);rf(oe,De)}return null}function _t(fe,oe,ye,De){for(var rt=null,Ht=null,pt=oe,wt=oe=0,un=null;pt!==null&&wt<ye.length;wt++){pt.index>wt?(un=pt,pt=null):un=pt.sibling;var ns=je(fe,pt,ye[wt],De);if(ns===null){pt===null&&(pt=un);break}r&&pt&&ns.alternate===null&&l(fe,pt),oe=w(ns,oe,wt),Ht===null?rt=ns:Ht.sibling=ns,Ht=ns,pt=un}if(wt===ye.length)return u(fe,pt),is&&yo(fe,wt),rt;if(pt===null){for(;wt<ye.length;wt++)pt=Oe(fe,ye[wt],De),pt!==null&&(oe=w(pt,oe,wt),Ht===null?rt=pt:Ht.sibling=pt,Ht=pt);return is&&yo(fe,wt),rt}for(pt=m(pt);wt<ye.length;wt++)un=Ne(pt,fe,wt,ye[wt],De),un!==null&&(r&&un.alternate!==null&&pt.delete(un.key===null?wt:un.key),oe=w(un,oe,wt),Ht===null?rt=un:Ht.sibling=un,Ht=un);return r&&pt.forEach(function(Oi){return l(fe,Oi)}),is&&yo(fe,wt),rt}function bt(fe,oe,ye,De){if(ye==null)throw Error(n(151));for(var rt=null,Ht=null,pt=oe,wt=oe=0,un=null,ns=ye.next();pt!==null&&!ns.done;wt++,ns=ye.next()){pt.index>wt?(un=pt,pt=null):un=pt.sibling;var Oi=je(fe,pt,ns.value,De);if(Oi===null){pt===null&&(pt=un);break}r&&pt&&Oi.alternate===null&&l(fe,pt),oe=w(Oi,oe,wt),Ht===null?rt=Oi:Ht.sibling=Oi,Ht=Oi,pt=un}if(ns.done)return u(fe,pt),is&&yo(fe,wt),rt;if(pt===null){for(;!ns.done;wt++,ns=ye.next())ns=Oe(fe,ns.value,De),ns!==null&&(oe=w(ns,oe,wt),Ht===null?rt=ns:Ht.sibling=ns,Ht=ns);return is&&yo(fe,wt),rt}for(pt=m(pt);!ns.done;wt++,ns=ye.next())ns=Ne(pt,fe,wt,ns.value,De),ns!==null&&(r&&ns.alternate!==null&&pt.delete(ns.key===null?wt:ns.key),oe=w(ns,oe,wt),Ht===null?rt=ns:Ht.sibling=ns,Ht=ns);return r&&pt.forEach(function(AD){return l(fe,AD)}),is&&yo(fe,wt),rt}function gs(fe,oe,ye,De){if(typeof ye=="object"&&ye!==null&&ye.type===j&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case x:e:{for(var rt=ye.key;oe!==null;){if(oe.key===rt){if(rt=ye.type,rt===j){if(oe.tag===7){u(fe,oe.sibling),De=y(oe,ye.props.children),De.return=fe,fe=De;break e}}else if(oe.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===U&&Uv(rt)===oe.type){u(fe,oe.sibling),De=y(oe,ye.props),td(De,ye),De.return=fe,fe=De;break e}u(fe,oe);break}else l(fe,oe);oe=oe.sibling}ye.type===j?(De=go(ye.props.children,fe.mode,De,ye.key),De.return=fe,fe=De):(De=Hu(ye.type,ye.key,ye.props,null,fe.mode,De),td(De,ye),De.return=fe,fe=De)}return O(fe);case b:e:{for(rt=ye.key;oe!==null;){if(oe.key===rt)if(oe.tag===4&&oe.stateNode.containerInfo===ye.containerInfo&&oe.stateNode.implementation===ye.implementation){u(fe,oe.sibling),De=y(oe,ye.children||[]),De.return=fe,fe=De;break e}else{u(fe,oe);break}else l(fe,oe);oe=oe.sibling}De=sp(ye,fe.mode,De),De.return=fe,fe=De}return O(fe);case U:return rt=ye._init,ye=rt(ye._payload),gs(fe,oe,ye,De)}if(I(ye))return _t(fe,oe,ye,De);if(Z(ye)){if(rt=Z(ye),typeof rt!="function")throw Error(n(150));return ye=rt.call(ye),bt(fe,oe,ye,De)}if(typeof ye.then=="function")return gs(fe,oe,af(ye),De);if(ye.$$typeof===C)return gs(fe,oe,qu(fe,ye),De);rf(fe,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint"?(ye=""+ye,oe!==null&&oe.tag===6?(u(fe,oe.sibling),De=y(oe,ye),De.return=fe,fe=De):(u(fe,oe),De=tp(ye,fe.mode,De),De.return=fe,fe=De),O(fe)):u(fe,oe)}return function(fe,oe,ye,De){try{ed=0;var rt=gs(fe,oe,ye,De);return Cl=null,rt}catch(pt){if(pt===qc||pt===Yu)throw pt;var Ht=ea(29,pt,null,fe.mode);return Ht.lanes=De,Ht.return=fe,Ht}finally{}}}var kl=zv(!0),Hv=zv(!1),va=ie(null),nr=null;function xi(r){var l=r.alternate;$(tn,tn.current&1),$(va,r),nr===null&&(l===null||Nl.current!==null||l.memoizedState!==null)&&(nr=r)}function $v(r){if(r.tag===22){if($(tn,tn.current),$(va,r),nr===null){var l=r.alternate;l!==null&&l.memoizedState!==null&&(nr=r)}}else yi()}function yi(){$(tn,tn.current),$(va,va.current)}function Fr(r){ne(va),nr===r&&(nr=null),ne(tn)}var tn=ie(0);function of(r){for(var l=r;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||_g(u)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function Pp(r,l,u,m){l=r.memoizedState,u=u(m,l),u=u==null?l:p({},l,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var Lp={enqueueSetState:function(r,l,u){r=r._reactInternals;var m=aa(),y=mi(m);y.payload=l,u!=null&&(y.callback=u),l=pi(r,y,m),l!==null&&(ra(l,r,m),Yc(l,r,m))},enqueueReplaceState:function(r,l,u){r=r._reactInternals;var m=aa(),y=mi(m);y.tag=1,y.payload=l,u!=null&&(y.callback=u),l=pi(r,y,m),l!==null&&(ra(l,r,m),Yc(l,r,m))},enqueueForceUpdate:function(r,l){r=r._reactInternals;var u=aa(),m=mi(u);m.tag=2,l!=null&&(m.callback=l),l=pi(r,m,u),l!==null&&(ra(l,r,u),Yc(l,r,u))}};function Iv(r,l,u,m,y,w,O){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(m,w,O):l.prototype&&l.prototype.isPureReactComponent?!Bc(u,m)||!Bc(y,w):!0}function Vv(r,l,u,m){r=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,m),l.state!==r&&Lp.enqueueReplaceState(l,l.state,null)}function To(r,l){var u=l;if("ref"in l){u={};for(var m in l)m!=="ref"&&(u[m]=l[m])}if(r=r.defaultProps){u===l&&(u=p({},u));for(var y in r)u[y]===void 0&&(u[y]=r[y])}return u}var lf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function qv(r){lf(r)}function Wv(r){console.error(r)}function Yv(r){lf(r)}function cf(r,l){try{var u=r.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function Gv(r,l,u){try{var m=r.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Bp(r,l,u){return u=mi(u),u.tag=3,u.payload={element:null},u.callback=function(){cf(r,l)},u}function Xv(r){return r=mi(r),r.tag=3,r}function Kv(r,l,u,m){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var w=m.value;r.payload=function(){return y(w)},r.callback=function(){Gv(l,u,m)}}var O=u.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(r.callback=function(){Gv(l,u,m),typeof y!="function"&&(_i===null?_i=new Set([this]):_i.add(this));var z=m.stack;this.componentDidCatch(m.value,{componentStack:z!==null?z:""})})}function AE(r,l,u,m,y){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=u.alternate,l!==null&&$c(l,u,y,!0),u=va.current,u!==null){switch(u.tag){case 13:return nr===null?og():u.alternate===null&&Us===0&&(Us=3),u.flags&=-257,u.flags|=65536,u.lanes=y,m===fp?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([m]):l.add(m),cg(r,m,y)),!1;case 22:return u.flags|=65536,m===fp?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([m]):u.add(m)),cg(r,m,y)),!1}throw Error(n(435,u.tag))}return cg(r,m,y),og(),!1}if(is)return l=va.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=y,m!==rp&&(r=Error(n(422),{cause:m}),Hc(ga(r,u)))):(m!==rp&&(l=Error(n(423),{cause:m}),Hc(ga(l,u))),r=r.current.alternate,r.flags|=65536,y&=-y,r.lanes|=y,m=ga(m,u),y=Bp(r.stateNode,m,y),pp(r,y),Us!==4&&(Us=2)),!1;var w=Error(n(520),{cause:m});if(w=ga(w,u),ld===null?ld=[w]:ld.push(w),Us!==4&&(Us=2),l===null)return!0;m=ga(m,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,r=y&-y,u.lanes|=r,r=Bp(u.stateNode,m,r),pp(u,r),!1;case 1:if(l=u.type,w=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(_i===null||!_i.has(w))))return u.flags|=65536,y&=-y,u.lanes|=y,y=Xv(y),Kv(y,r,u,m),pp(u,y),!1}u=u.return}while(u!==null);return!1}var Qv=Error(n(461)),cn=!1;function pn(r,l,u,m){l.child=r===null?Hv(l,null,u,m):kl(l,r.child,u,m)}function Zv(r,l,u,m,y){u=u.render;var w=l.ref;if("ref"in m){var O={};for(var z in m)z!=="ref"&&(O[z]=m[z])}else O=m;return jo(l),m=vp(r,l,u,O,w,y),z=wp(),r!==null&&!cn?(jp(r,l,y),Ur(r,l,y)):(is&&z&&np(l),l.flags|=1,pn(r,l,m,y),l.child)}function Jv(r,l,u,m,y){if(r===null){var w=u.type;return typeof w=="function"&&!ep(w)&&w.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=w,ew(r,l,w,m,y)):(r=Hu(u.type,null,m,l,l.mode,y),r.ref=l.ref,r.return=l,l.child=r)}if(w=r.child,!qp(r,y)){var O=w.memoizedProps;if(u=u.compare,u=u!==null?u:Bc,u(O,m)&&r.ref===l.ref)return Ur(r,l,y)}return l.flags|=1,r=Or(w,m),r.ref=l.ref,r.return=l,l.child=r}function ew(r,l,u,m,y){if(r!==null){var w=r.memoizedProps;if(Bc(w,m)&&r.ref===l.ref)if(cn=!1,l.pendingProps=m=w,qp(r,y))(r.flags&131072)!==0&&(cn=!0);else return l.lanes=r.lanes,Ur(r,l,y)}return Fp(r,l,u,m,y)}function tw(r,l,u){var m=l.pendingProps,y=m.children,w=r!==null?r.memoizedState:null;if(m.mode==="hidden"){if((l.flags&128)!==0){if(m=w!==null?w.baseLanes|u:u,r!==null){for(y=l.child=r.child,w=0;y!==null;)w=w|y.lanes|y.childLanes,y=y.sibling;l.childLanes=w&~m}else l.childLanes=0,l.child=null;return sw(r,l,m,u)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},r!==null&&Wu(l,w!==null?w.cachePool:null),w!==null?ev(l,w):xp(),$v(l);else return l.lanes=l.childLanes=536870912,sw(r,l,w!==null?w.baseLanes|u:u,u)}else w!==null?(Wu(l,w.cachePool),ev(l,w),yi(),l.memoizedState=null):(r!==null&&Wu(l,null),xp(),yi());return pn(r,l,y,u),l.child}function sw(r,l,u,m){var y=up();return y=y===null?null:{parent:en._currentValue,pool:y},l.memoizedState={baseLanes:u,cachePool:y},r!==null&&Wu(l,null),xp(),$v(l),r!==null&&$c(r,l,m,!0),null}function df(r,l){var u=l.ref;if(u===null)r!==null&&r.ref!==null&&(l.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(r===null||r.ref!==u)&&(l.flags|=4194816)}}function Fp(r,l,u,m,y){return jo(l),u=vp(r,l,u,m,void 0,y),m=wp(),r!==null&&!cn?(jp(r,l,y),Ur(r,l,y)):(is&&m&&np(l),l.flags|=1,pn(r,l,u,y),l.child)}function nw(r,l,u,m,y,w){return jo(l),l.updateQueue=null,u=sv(l,m,u,y),tv(r),m=wp(),r!==null&&!cn?(jp(r,l,w),Ur(r,l,w)):(is&&m&&np(l),l.flags|=1,pn(r,l,u,w),l.child)}function aw(r,l,u,m,y){if(jo(l),l.stateNode===null){var w=yl,O=u.contextType;typeof O=="object"&&O!==null&&(w=Sn(O)),w=new u(m,w),l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Lp,l.stateNode=w,w._reactInternals=l,w=l.stateNode,w.props=m,w.state=l.memoizedState,w.refs={},hp(l),O=u.contextType,w.context=typeof O=="object"&&O!==null?Sn(O):yl,w.state=l.memoizedState,O=u.getDerivedStateFromProps,typeof O=="function"&&(Pp(l,u,O,m),w.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(O=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),O!==w.state&&Lp.enqueueReplaceState(w,w.state,null),Xc(l,m,w,y),Gc(),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(r===null){w=l.stateNode;var z=l.memoizedProps,se=To(u,z);w.props=se;var be=w.context,Ee=u.contextType;O=yl,typeof Ee=="object"&&Ee!==null&&(O=Sn(Ee));var Oe=u.getDerivedStateFromProps;Ee=typeof Oe=="function"||typeof w.getSnapshotBeforeUpdate=="function",z=l.pendingProps!==z,Ee||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(z||be!==O)&&Vv(l,w,m,O),hi=!1;var je=l.memoizedState;w.state=je,Xc(l,m,w,y),Gc(),be=l.memoizedState,z||je!==be||hi?(typeof Oe=="function"&&(Pp(l,u,Oe,m),be=l.memoizedState),(se=hi||Iv(l,u,se,m,je,be,O))?(Ee||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(l.flags|=4194308)):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=be),w.props=m,w.state=be,w.context=O,m=se):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{w=l.stateNode,mp(r,l),O=l.memoizedProps,Ee=To(u,O),w.props=Ee,Oe=l.pendingProps,je=w.context,be=u.contextType,se=yl,typeof be=="object"&&be!==null&&(se=Sn(be)),z=u.getDerivedStateFromProps,(be=typeof z=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(O!==Oe||je!==se)&&Vv(l,w,m,se),hi=!1,je=l.memoizedState,w.state=je,Xc(l,m,w,y),Gc();var Ne=l.memoizedState;O!==Oe||je!==Ne||hi||r!==null&&r.dependencies!==null&&Vu(r.dependencies)?(typeof z=="function"&&(Pp(l,u,z,m),Ne=l.memoizedState),(Ee=hi||Iv(l,u,Ee,m,je,Ne,se)||r!==null&&r.dependencies!==null&&Vu(r.dependencies))?(be||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(m,Ne,se),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(m,Ne,se)),typeof w.componentDidUpdate=="function"&&(l.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof w.componentDidUpdate!="function"||O===r.memoizedProps&&je===r.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&je===r.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=Ne),w.props=m,w.state=Ne,w.context=se,m=Ee):(typeof w.componentDidUpdate!="function"||O===r.memoizedProps&&je===r.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&je===r.memoizedState||(l.flags|=1024),m=!1)}return w=m,df(r,l),m=(l.flags&128)!==0,w||m?(w=l.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:w.render(),l.flags|=1,r!==null&&m?(l.child=kl(l,r.child,null,y),l.child=kl(l,null,u,y)):pn(r,l,u,y),l.memoizedState=w.state,r=l.child):r=Ur(r,l,y),r}function rw(r,l,u,m){return zc(),l.flags|=256,pn(r,l,u,m),l.child}var Up={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zp(r){return{baseLanes:r,cachePool:Wb()}}function Hp(r,l,u){return r=r!==null?r.childLanes&~u:0,l&&(r|=wa),r}function iw(r,l,u){var m=l.pendingProps,y=!1,w=(l.flags&128)!==0,O;if((O=w)||(O=r!==null&&r.memoizedState===null?!1:(tn.current&2)!==0),O&&(y=!0,l.flags&=-129),O=(l.flags&32)!==0,l.flags&=-33,r===null){if(is){if(y?xi(l):yi(),is){var z=Fs,se;if(se=z){e:{for(se=z,z=sr;se.nodeType!==8;){if(!z){z=null;break e}if(se=za(se.nextSibling),se===null){z=null;break e}}z=se}z!==null?(l.memoizedState={dehydrated:z,treeContext:xo!==null?{id:Rr,overflow:Mr}:null,retryLane:536870912,hydrationErrors:null},se=ea(18,null,null,0),se.stateNode=z,se.return=l,l.child=se,Rn=l,Fs=null,se=!0):se=!1}se||vo(l)}if(z=l.memoizedState,z!==null&&(z=z.dehydrated,z!==null))return _g(z)?l.lanes=32:l.lanes=536870912,null;Fr(l)}return z=m.children,m=m.fallback,y?(yi(),y=l.mode,z=uf({mode:"hidden",children:z},y),m=go(m,y,u,null),z.return=l,m.return=l,z.sibling=m,l.child=z,y=l.child,y.memoizedState=zp(u),y.childLanes=Hp(r,O,u),l.memoizedState=Up,m):(xi(l),$p(l,z))}if(se=r.memoizedState,se!==null&&(z=se.dehydrated,z!==null)){if(w)l.flags&256?(xi(l),l.flags&=-257,l=Ip(r,l,u)):l.memoizedState!==null?(yi(),l.child=r.child,l.flags|=128,l=null):(yi(),y=m.fallback,z=l.mode,m=uf({mode:"visible",children:m.children},z),y=go(y,z,u,null),y.flags|=2,m.return=l,y.return=l,m.sibling=y,l.child=m,kl(l,r.child,null,u),m=l.child,m.memoizedState=zp(u),m.childLanes=Hp(r,O,u),l.memoizedState=Up,l=y);else if(xi(l),_g(z)){if(O=z.nextSibling&&z.nextSibling.dataset,O)var be=O.dgst;O=be,m=Error(n(419)),m.stack="",m.digest=O,Hc({value:m,source:null,stack:null}),l=Ip(r,l,u)}else if(cn||$c(r,l,u,!1),O=(u&r.childLanes)!==0,cn||O){if(O=ws,O!==null&&(m=u&-u,m=(m&42)!==0?1:Qt(m),m=(m&(O.suspendedLanes|u))!==0?0:m,m!==0&&m!==se.retryLane))throw se.retryLane=m,xl(r,m),ra(O,r,m),Qv;z.data==="$?"||og(),l=Ip(r,l,u)}else z.data==="$?"?(l.flags|=192,l.child=r.child,l=null):(r=se.treeContext,Fs=za(z.nextSibling),Rn=l,is=!0,bo=null,sr=!1,r!==null&&(ya[ba++]=Rr,ya[ba++]=Mr,ya[ba++]=xo,Rr=r.id,Mr=r.overflow,xo=l),l=$p(l,m.children),l.flags|=4096);return l}return y?(yi(),y=m.fallback,z=l.mode,se=r.child,be=se.sibling,m=Or(se,{mode:"hidden",children:m.children}),m.subtreeFlags=se.subtreeFlags&65011712,be!==null?y=Or(be,y):(y=go(y,z,u,null),y.flags|=2),y.return=l,m.return=l,m.sibling=y,l.child=m,m=y,y=l.child,z=r.child.memoizedState,z===null?z=zp(u):(se=z.cachePool,se!==null?(be=en._currentValue,se=se.parent!==be?{parent:be,pool:be}:se):se=Wb(),z={baseLanes:z.baseLanes|u,cachePool:se}),y.memoizedState=z,y.childLanes=Hp(r,O,u),l.memoizedState=Up,m):(xi(l),u=r.child,r=u.sibling,u=Or(u,{mode:"visible",children:m.children}),u.return=l,u.sibling=null,r!==null&&(O=l.deletions,O===null?(l.deletions=[r],l.flags|=16):O.push(r)),l.child=u,l.memoizedState=null,u)}function $p(r,l){return l=uf({mode:"visible",children:l},r.mode),l.return=r,r.child=l}function uf(r,l){return r=ea(22,r,null,l),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Ip(r,l,u){return kl(l,r.child,null,u),r=$p(l,l.pendingProps.children),r.flags|=2,l.memoizedState=null,r}function ow(r,l,u){r.lanes|=l;var m=r.alternate;m!==null&&(m.lanes|=l),op(r.return,l,u)}function Vp(r,l,u,m,y){var w=r.memoizedState;w===null?r.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:y}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=m,w.tail=u,w.tailMode=y)}function lw(r,l,u){var m=l.pendingProps,y=m.revealOrder,w=m.tail;if(pn(r,l,m.children,u),m=tn.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=l.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&ow(r,u,l);else if(r.tag===19)ow(r,u,l);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===l)break e;for(;r.sibling===null;){if(r.return===null||r.return===l)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}m&=1}switch($(tn,m),y){case"forwards":for(u=l.child,y=null;u!==null;)r=u.alternate,r!==null&&of(r)===null&&(y=u),u=u.sibling;u=y,u===null?(y=l.child,l.child=null):(y=u.sibling,u.sibling=null),Vp(l,!1,y,u,w);break;case"backwards":for(u=null,y=l.child,l.child=null;y!==null;){if(r=y.alternate,r!==null&&of(r)===null){l.child=y;break}r=y.sibling,y.sibling=u,u=y,y=r}Vp(l,!0,u,null,w);break;case"together":Vp(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Ur(r,l,u){if(r!==null&&(l.dependencies=r.dependencies),Ni|=l.lanes,(u&l.childLanes)===0)if(r!==null){if($c(r,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(r!==null&&l.child!==r.child)throw Error(n(153));if(l.child!==null){for(r=l.child,u=Or(r,r.pendingProps),l.child=u,u.return=l;r.sibling!==null;)r=r.sibling,u=u.sibling=Or(r,r.pendingProps),u.return=l;u.sibling=null}return l.child}function qp(r,l){return(r.lanes&l)!==0?!0:(r=r.dependencies,!!(r!==null&&Vu(r)))}function OE(r,l,u){switch(l.tag){case 3:Ae(l,l.stateNode.containerInfo),fi(l,en,r.memoizedState.cache),zc();break;case 27:case 5:ze(l);break;case 4:Ae(l,l.stateNode.containerInfo);break;case 10:fi(l,l.type,l.memoizedProps.value);break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(xi(l),l.flags|=128,null):(u&l.child.childLanes)!==0?iw(r,l,u):(xi(l),r=Ur(r,l,u),r!==null?r.sibling:null);xi(l);break;case 19:var y=(r.flags&128)!==0;if(m=(u&l.childLanes)!==0,m||($c(r,l,u,!1),m=(u&l.childLanes)!==0),y){if(m)return lw(r,l,u);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),$(tn,tn.current),m)break;return null;case 22:case 23:return l.lanes=0,tw(r,l,u);case 24:fi(l,en,r.memoizedState.cache)}return Ur(r,l,u)}function cw(r,l,u){if(r!==null)if(r.memoizedProps!==l.pendingProps)cn=!0;else{if(!qp(r,u)&&(l.flags&128)===0)return cn=!1,OE(r,l,u);cn=(r.flags&131072)!==0}else cn=!1,is&&(l.flags&1048576)!==0&&Ub(l,Iu,l.index);switch(l.lanes=0,l.tag){case 16:e:{r=l.pendingProps;var m=l.elementType,y=m._init;if(m=y(m._payload),l.type=m,typeof m=="function")ep(m)?(r=To(m,r),l.tag=1,l=aw(null,l,m,r,u)):(l.tag=0,l=Fp(null,l,m,r,u));else{if(m!=null){if(y=m.$$typeof,y===S){l.tag=11,l=Zv(null,l,m,r,u);break e}else if(y===B){l.tag=14,l=Jv(null,l,m,r,u);break e}}throw l=G(m)||m,Error(n(306,l,""))}}return l;case 0:return Fp(r,l,l.type,l.pendingProps,u);case 1:return m=l.type,y=To(m,l.pendingProps),aw(r,l,m,y,u);case 3:e:{if(Ae(l,l.stateNode.containerInfo),r===null)throw Error(n(387));m=l.pendingProps;var w=l.memoizedState;y=w.element,mp(r,l),Xc(l,m,null,u);var O=l.memoizedState;if(m=O.cache,fi(l,en,m),m!==w.cache&&lp(l,[en],u,!0),Gc(),m=O.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:O.cache},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){l=rw(r,l,m,u);break e}else if(m!==y){y=ga(Error(n(424)),l),Hc(y),l=rw(r,l,m,u);break e}else{switch(r=l.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Fs=za(r.firstChild),Rn=l,is=!0,bo=null,sr=!0,u=Hv(l,null,m,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(zc(),m===y){l=Ur(r,l,u);break e}pn(r,l,m,u)}l=l.child}return l;case 26:return df(r,l),r===null?(u=hj(l.type,null,l.pendingProps,null))?l.memoizedState=u:is||(u=l.type,r=l.pendingProps,m=Tf(he.current).createElement(u),m[Te]=l,m[Me]=r,xn(m,u,r),ft(m),l.stateNode=m):l.memoizedState=hj(l.type,r.memoizedProps,l.pendingProps,r.memoizedState),null;case 27:return ze(l),r===null&&is&&(m=l.stateNode=dj(l.type,l.pendingProps,he.current),Rn=l,sr=!0,y=Fs,Ci(l.type)?(Tg=y,Fs=za(m.firstChild)):Fs=y),pn(r,l,l.pendingProps.children,u),df(r,l),r===null&&(l.flags|=4194304),l.child;case 5:return r===null&&is&&((y=m=Fs)&&(m=iD(m,l.type,l.pendingProps,sr),m!==null?(l.stateNode=m,Rn=l,Fs=za(m.firstChild),sr=!1,y=!0):y=!1),y||vo(l)),ze(l),y=l.type,w=l.pendingProps,O=r!==null?r.memoizedProps:null,m=w.children,wg(y,w)?m=null:O!==null&&wg(y,O)&&(l.flags|=32),l.memoizedState!==null&&(y=vp(r,l,_E,null,null,u),xd._currentValue=y),df(r,l),pn(r,l,m,u),l.child;case 6:return r===null&&is&&((r=u=Fs)&&(u=oD(u,l.pendingProps,sr),u!==null?(l.stateNode=u,Rn=l,Fs=null,r=!0):r=!1),r||vo(l)),null;case 13:return iw(r,l,u);case 4:return Ae(l,l.stateNode.containerInfo),m=l.pendingProps,r===null?l.child=kl(l,null,m,u):pn(r,l,m,u),l.child;case 11:return Zv(r,l,l.type,l.pendingProps,u);case 7:return pn(r,l,l.pendingProps,u),l.child;case 8:return pn(r,l,l.pendingProps.children,u),l.child;case 12:return pn(r,l,l.pendingProps.children,u),l.child;case 10:return m=l.pendingProps,fi(l,l.type,m.value),pn(r,l,m.children,u),l.child;case 9:return y=l.type._context,m=l.pendingProps.children,jo(l),y=Sn(y),m=m(y),l.flags|=1,pn(r,l,m,u),l.child;case 14:return Jv(r,l,l.type,l.pendingProps,u);case 15:return ew(r,l,l.type,l.pendingProps,u);case 19:return lw(r,l,u);case 31:return m=l.pendingProps,u=l.mode,m={mode:m.mode,children:m.children},r===null?(u=uf(m,u),u.ref=l.ref,l.child=u,u.return=l,l=u):(u=Or(r.child,m),u.ref=l.ref,l.child=u,u.return=l,l=u),l;case 22:return tw(r,l,u);case 24:return jo(l),m=Sn(en),r===null?(y=up(),y===null&&(y=ws,w=cp(),y.pooledCache=w,w.refCount++,w!==null&&(y.pooledCacheLanes|=u),y=w),l.memoizedState={parent:m,cache:y},hp(l),fi(l,en,y)):((r.lanes&u)!==0&&(mp(r,l),Xc(l,null,null,u),Gc()),y=r.memoizedState,w=l.memoizedState,y.parent!==m?(y={parent:m,cache:m},l.memoizedState=y,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=y),fi(l,en,m)):(m=w.cache,fi(l,en,m),m!==y.cache&&lp(l,[en],u,!0))),pn(r,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(n(156,l.tag))}function zr(r){r.flags|=4}function dw(r,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!yj(l)){if(l=va.current,l!==null&&((Jt&4194048)===Jt?nr!==null:(Jt&62914560)!==Jt&&(Jt&536870912)===0||l!==nr))throw Wc=fp,Yb;r.flags|=8192}}function ff(r,l){l!==null&&(r.flags|=4),r.flags&16384&&(l=r.tag!==22?Bt():536870912,r.lanes|=l,Ol|=l)}function sd(r,l){if(!is)switch(r.tailMode){case"hidden":l=r.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?l||r.tail===null?r.tail=null:r.tail.sibling=null:m.sibling=null}}function Ds(r){var l=r.alternate!==null&&r.alternate.child===r.child,u=0,m=0;if(l)for(var y=r.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags&65011712,m|=y.flags&65011712,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=m,r.childLanes=u,l}function RE(r,l,u){var m=l.pendingProps;switch(ap(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ds(l),null;case 1:return Ds(l),null;case 3:return u=l.stateNode,m=null,r!==null&&(m=r.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),Lr(en),Ve(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(Uc(l)?zr(l):r===null||r.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,$b())),Ds(l),null;case 26:return u=l.memoizedState,r===null?(zr(l),u!==null?(Ds(l),dw(l,u)):(Ds(l),l.flags&=-16777217)):u?u!==r.memoizedState?(zr(l),Ds(l),dw(l,u)):(Ds(l),l.flags&=-16777217):(r.memoizedProps!==m&&zr(l),Ds(l),l.flags&=-16777217),null;case 27:M(l),u=he.current;var y=l.type;if(r!==null&&l.stateNode!=null)r.memoizedProps!==m&&zr(l);else{if(!m){if(l.stateNode===null)throw Error(n(166));return Ds(l),null}r=ee.current,Uc(l)?zb(l):(r=dj(y,m,u),l.stateNode=r,zr(l))}return Ds(l),null;case 5:if(M(l),u=l.type,r!==null&&l.stateNode!=null)r.memoizedProps!==m&&zr(l);else{if(!m){if(l.stateNode===null)throw Error(n(166));return Ds(l),null}if(r=ee.current,Uc(l))zb(l);else{switch(y=Tf(he.current),r){case 1:r=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:r=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":r=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":r=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":r=y.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof m.is=="string"?y.createElement("select",{is:m.is}):y.createElement("select"),m.multiple?r.multiple=!0:m.size&&(r.size=m.size);break;default:r=typeof m.is=="string"?y.createElement(u,{is:m.is}):y.createElement(u)}}r[Te]=l,r[Me]=m;e:for(y=l.child;y!==null;){if(y.tag===5||y.tag===6)r.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===l)break e;for(;y.sibling===null;){if(y.return===null||y.return===l)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}l.stateNode=r;e:switch(xn(r,u,m),u){case"button":case"input":case"select":case"textarea":r=!!m.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&zr(l)}}return Ds(l),l.flags&=-16777217,null;case 6:if(r&&l.stateNode!=null)r.memoizedProps!==m&&zr(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(n(166));if(r=he.current,Uc(l)){if(r=l.stateNode,u=l.memoizedProps,m=null,y=Rn,y!==null)switch(y.tag){case 27:case 5:m=y.memoizedProps}r[Te]=l,r=!!(r.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||nj(r.nodeValue,u)),r||vo(l)}else r=Tf(r).createTextNode(m),r[Te]=l,l.stateNode=r}return Ds(l),null;case 13:if(m=l.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(y=Uc(l),m!==null&&m.dehydrated!==null){if(r===null){if(!y)throw Error(n(318));if(y=l.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[Te]=l}else zc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ds(l),y=!1}else y=$b(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=y),y=!0;if(!y)return l.flags&256?(Fr(l),l):(Fr(l),null)}if(Fr(l),(l.flags&128)!==0)return l.lanes=u,l;if(u=m!==null,r=r!==null&&r.memoizedState!==null,u){m=l.child,y=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(y=m.alternate.memoizedState.cachePool.pool);var w=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(w=m.memoizedState.cachePool.pool),w!==y&&(m.flags|=2048)}return u!==r&&u&&(l.child.flags|=8192),ff(l,l.updateQueue),Ds(l),null;case 4:return Ve(),r===null&&gg(l.stateNode.containerInfo),Ds(l),null;case 10:return Lr(l.type),Ds(l),null;case 19:if(ne(tn),y=l.memoizedState,y===null)return Ds(l),null;if(m=(l.flags&128)!==0,w=y.rendering,w===null)if(m)sd(y,!1);else{if(Us!==0||r!==null&&(r.flags&128)!==0)for(r=l.child;r!==null;){if(w=of(r),w!==null){for(l.flags|=128,sd(y,!1),r=w.updateQueue,l.updateQueue=r,ff(l,r),l.subtreeFlags=0,r=u,u=l.child;u!==null;)Fb(u,r),u=u.sibling;return $(tn,tn.current&1|2),l.child}r=r.sibling}y.tail!==null&&Le()>pf&&(l.flags|=128,m=!0,sd(y,!1),l.lanes=4194304)}else{if(!m)if(r=of(w),r!==null){if(l.flags|=128,m=!0,r=r.updateQueue,l.updateQueue=r,ff(l,r),sd(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!is)return Ds(l),null}else 2*Le()-y.renderingStartTime>pf&&u!==536870912&&(l.flags|=128,m=!0,sd(y,!1),l.lanes=4194304);y.isBackwards?(w.sibling=l.child,l.child=w):(r=y.last,r!==null?r.sibling=w:l.child=w,y.last=w)}return y.tail!==null?(l=y.tail,y.rendering=l,y.tail=l.sibling,y.renderingStartTime=Le(),l.sibling=null,r=tn.current,$(tn,m?r&1|2:r&1),l):(Ds(l),null);case 22:case 23:return Fr(l),yp(),m=l.memoizedState!==null,r!==null?r.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(u&536870912)!==0&&(l.flags&128)===0&&(Ds(l),l.subtreeFlags&6&&(l.flags|=8192)):Ds(l),u=l.updateQueue,u!==null&&ff(l,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==u&&(l.flags|=2048),r!==null&&ne(No),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),Lr(en),Ds(l),null;case 25:return null;case 30:return null}throw Error(n(156,l.tag))}function ME(r,l){switch(ap(l),l.tag){case 1:return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 3:return Lr(en),Ve(),r=l.flags,(r&65536)!==0&&(r&128)===0?(l.flags=r&-65537|128,l):null;case 26:case 27:case 5:return M(l),null;case 13:if(Fr(l),r=l.memoizedState,r!==null&&r.dehydrated!==null){if(l.alternate===null)throw Error(n(340));zc()}return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 19:return ne(tn),null;case 4:return Ve(),null;case 10:return Lr(l.type),null;case 22:case 23:return Fr(l),yp(),r!==null&&ne(No),r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 24:return Lr(en),null;case 25:return null;default:return null}}function uw(r,l){switch(ap(l),l.tag){case 3:Lr(en),Ve();break;case 26:case 27:case 5:M(l);break;case 4:Ve();break;case 13:Fr(l);break;case 19:ne(tn);break;case 10:Lr(l.type);break;case 22:case 23:Fr(l),yp(),r!==null&&ne(No);break;case 24:Lr(en)}}function nd(r,l){try{var u=l.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var y=m.next;u=y;do{if((u.tag&r)===r){m=void 0;var w=u.create,O=u.inst;m=w(),O.destroy=m}u=u.next}while(u!==y)}}catch(z){bs(l,l.return,z)}}function bi(r,l,u){try{var m=l.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var w=y.next;m=w;do{if((m.tag&r)===r){var O=m.inst,z=O.destroy;if(z!==void 0){O.destroy=void 0,y=l;var se=u,be=z;try{be()}catch(Ee){bs(y,se,Ee)}}}m=m.next}while(m!==w)}}catch(Ee){bs(l,l.return,Ee)}}function fw(r){var l=r.updateQueue;if(l!==null){var u=r.stateNode;try{Jb(l,u)}catch(m){bs(r,r.return,m)}}}function hw(r,l,u){u.props=To(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(m){bs(r,l,m)}}function ad(r,l){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var m=r.stateNode;break;case 30:m=r.stateNode;break;default:m=r.stateNode}typeof u=="function"?r.refCleanup=u(m):u.current=m}}catch(y){bs(r,l,y)}}function ar(r,l){var u=r.ref,m=r.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(y){bs(r,l,y)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){bs(r,l,y)}else u.current=null}function mw(r){var l=r.type,u=r.memoizedProps,m=r.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(y){bs(r,r.return,y)}}function Wp(r,l,u){try{var m=r.stateNode;tD(m,r.type,u,l),m[Me]=l}catch(y){bs(r,r.return,y)}}function pw(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ci(r.type)||r.tag===4}function Yp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||pw(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ci(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Gp(r,l,u){var m=r.tag;if(m===5||m===6)r=r.stateNode,l?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,l):(l=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,l.appendChild(r),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=_f));else if(m!==4&&(m===27&&Ci(r.type)&&(u=r.stateNode,l=null),r=r.child,r!==null))for(Gp(r,l,u),r=r.sibling;r!==null;)Gp(r,l,u),r=r.sibling}function hf(r,l,u){var m=r.tag;if(m===5||m===6)r=r.stateNode,l?u.insertBefore(r,l):u.appendChild(r);else if(m!==4&&(m===27&&Ci(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(hf(r,l,u),r=r.sibling;r!==null;)hf(r,l,u),r=r.sibling}function gw(r){var l=r.stateNode,u=r.memoizedProps;try{for(var m=r.type,y=l.attributes;y.length;)l.removeAttributeNode(y[0]);xn(l,m,u),l[Te]=r,l[Me]=u}catch(w){bs(r,r.return,w)}}var Hr=!1,Hs=!1,Xp=!1,xw=typeof WeakSet=="function"?WeakSet:Set,dn=null;function PE(r,l){if(r=r.containerInfo,bg=Af,r=kb(r),Ym(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var y=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{u.nodeType,w.nodeType}catch(bt){u=null;break e}var O=0,z=-1,se=-1,be=0,Ee=0,Oe=r,je=null;t:for(;;){for(var Ne;Oe!==u||y!==0&&Oe.nodeType!==3||(z=O+y),Oe!==w||m!==0&&Oe.nodeType!==3||(se=O+m),Oe.nodeType===3&&(O+=Oe.nodeValue.length),(Ne=Oe.firstChild)!==null;)je=Oe,Oe=Ne;for(;;){if(Oe===r)break t;if(je===u&&++be===y&&(z=O),je===w&&++Ee===m&&(se=O),(Ne=Oe.nextSibling)!==null)break;Oe=je,je=Oe.parentNode}Oe=Ne}u=z===-1||se===-1?null:{start:z,end:se}}else u=null}u=u||{start:0,end:0}}else u=null;for(vg={focusedElem:r,selectionRange:u},Af=!1,dn=l;dn!==null;)if(l=dn,r=l.child,(l.subtreeFlags&1024)!==0&&r!==null)r.return=l,dn=r;else for(;dn!==null;){switch(l=dn,w=l.alternate,r=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&w!==null){r=void 0,u=l,y=w.memoizedProps,w=w.memoizedState,m=u.stateNode;try{var _t=To(u.type,y,u.elementType===u.type);r=m.getSnapshotBeforeUpdate(_t,w),m.__reactInternalSnapshotBeforeUpdate=r}catch(bt){bs(u,u.return,bt)}}break;case 3:if((r&1024)!==0){if(r=l.stateNode.containerInfo,u=r.nodeType,u===9)Ng(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Ng(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(n(163))}if(r=l.sibling,r!==null){r.return=l.return,dn=r;break}dn=l.return}}function yw(r,l,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:vi(r,u),m&4&&nd(5,u);break;case 1:if(vi(r,u),m&4)if(r=u.stateNode,l===null)try{r.componentDidMount()}catch(O){bs(u,u.return,O)}else{var y=To(u.type,l.memoizedProps);l=l.memoizedState;try{r.componentDidUpdate(y,l,r.__reactInternalSnapshotBeforeUpdate)}catch(O){bs(u,u.return,O)}}m&64&&fw(u),m&512&&ad(u,u.return);break;case 3:if(vi(r,u),m&64&&(r=u.updateQueue,r!==null)){if(l=null,u.child!==null)switch(u.child.tag){case 27:case 5:l=u.child.stateNode;break;case 1:l=u.child.stateNode}try{Jb(r,l)}catch(O){bs(u,u.return,O)}}break;case 27:l===null&&m&4&&gw(u);case 26:case 5:vi(r,u),l===null&&m&4&&mw(u),m&512&&ad(u,u.return);break;case 12:vi(r,u);break;case 13:vi(r,u),m&4&&ww(r,u),m&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=VE.bind(null,u),lD(r,u))));break;case 22:if(m=u.memoizedState!==null||Hr,!m){l=l!==null&&l.memoizedState!==null||Hs,y=Hr;var w=Hs;Hr=m,(Hs=l)&&!w?wi(r,u,(u.subtreeFlags&8772)!==0):vi(r,u),Hr=y,Hs=w}break;case 30:break;default:vi(r,u)}}function bw(r){var l=r.alternate;l!==null&&(r.alternate=null,bw(l)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(l=r.stateNode,l!==null&&St(l)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Ss=null,In=!1;function $r(r,l,u){for(u=u.child;u!==null;)vw(r,l,u),u=u.sibling}function vw(r,l,u){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(We,u)}catch(w){}switch(u.tag){case 26:Hs||ar(u,l),$r(r,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Hs||ar(u,l);var m=Ss,y=In;Ci(u.type)&&(Ss=u.stateNode,In=!1),$r(r,l,u),hd(u.stateNode),Ss=m,In=y;break;case 5:Hs||ar(u,l);case 6:if(m=Ss,y=In,Ss=null,$r(r,l,u),Ss=m,In=y,Ss!==null)if(In)try{(Ss.nodeType===9?Ss.body:Ss.nodeName==="HTML"?Ss.ownerDocument.body:Ss).removeChild(u.stateNode)}catch(w){bs(u,l,w)}else try{Ss.removeChild(u.stateNode)}catch(w){bs(u,l,w)}break;case 18:Ss!==null&&(In?(r=Ss,lj(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),wd(r)):lj(Ss,u.stateNode));break;case 4:m=Ss,y=In,Ss=u.stateNode.containerInfo,In=!0,$r(r,l,u),Ss=m,In=y;break;case 0:case 11:case 14:case 15:Hs||bi(2,u,l),Hs||bi(4,u,l),$r(r,l,u);break;case 1:Hs||(ar(u,l),m=u.stateNode,typeof m.componentWillUnmount=="function"&&hw(u,l,m)),$r(r,l,u);break;case 21:$r(r,l,u);break;case 22:Hs=(m=Hs)||u.memoizedState!==null,$r(r,l,u),Hs=m;break;default:$r(r,l,u)}}function ww(r,l){if(l.memoizedState===null&&(r=l.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{wd(r)}catch(u){bs(l,l.return,u)}}function LE(r){switch(r.tag){case 13:case 19:var l=r.stateNode;return l===null&&(l=r.stateNode=new xw),l;case 22:return r=r.stateNode,l=r._retryCache,l===null&&(l=r._retryCache=new xw),l;default:throw Error(n(435,r.tag))}}function Kp(r,l){var u=LE(r);l.forEach(function(m){var y=qE.bind(null,r,m);u.has(m)||(u.add(m),m.then(y,y))})}function ta(r,l){var u=l.deletions;if(u!==null)for(var m=0;m<u.length;m++){var y=u[m],w=r,O=l,z=O;e:for(;z!==null;){switch(z.tag){case 27:if(Ci(z.type)){Ss=z.stateNode,In=!1;break e}break;case 5:Ss=z.stateNode,In=!1;break e;case 3:case 4:Ss=z.stateNode.containerInfo,In=!0;break e}z=z.return}if(Ss===null)throw Error(n(160));vw(w,O,y),Ss=null,In=!1,w=y.alternate,w!==null&&(w.return=null),y.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)jw(l,r),l=l.sibling}var Ua=null;function jw(r,l){var u=r.alternate,m=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:ta(l,r),sa(r),m&4&&(bi(3,r,r.return),nd(3,r),bi(5,r,r.return));break;case 1:ta(l,r),sa(r),m&512&&(Hs||u===null||ar(u,u.return)),m&64&&Hr&&(r=r.updateQueue,r!==null&&(m=r.callbacks,m!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var y=Ua;if(ta(l,r),sa(r),m&512&&(Hs||u===null||ar(u,u.return)),m&4){var w=u!==null?u.memoizedState:null;if(m=r.memoizedState,u===null)if(m===null)if(r.stateNode===null){e:{m=r.type,u=r.memoizedProps,y=y.ownerDocument||y;t:switch(m){case"title":w=y.getElementsByTagName("title")[0],(!w||w[ut]||w[Te]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=y.createElement(m),y.head.insertBefore(w,y.querySelector("head > title"))),xn(w,m,u),w[Te]=r,ft(w),m=w;break e;case"link":var O=gj("link","href",y).get(m+(u.href||""));if(O){for(var z=0;z<O.length;z++)if(w=O[z],w.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&w.getAttribute("rel")===(u.rel==null?null:u.rel)&&w.getAttribute("title")===(u.title==null?null:u.title)&&w.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){O.splice(z,1);break t}}w=y.createElement(m),xn(w,m,u),y.head.appendChild(w);break;case"meta":if(O=gj("meta","content",y).get(m+(u.content||""))){for(z=0;z<O.length;z++)if(w=O[z],w.getAttribute("content")===(u.content==null?null:""+u.content)&&w.getAttribute("name")===(u.name==null?null:u.name)&&w.getAttribute("property")===(u.property==null?null:u.property)&&w.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&w.getAttribute("charset")===(u.charSet==null?null:u.charSet)){O.splice(z,1);break t}}w=y.createElement(m),xn(w,m,u),y.head.appendChild(w);break;default:throw Error(n(468,m))}w[Te]=r,ft(w),m=w}r.stateNode=m}else xj(y,r.type,r.stateNode);else r.stateNode=pj(y,m,r.memoizedProps);else w!==m?(w===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):w.count--,m===null?xj(y,r.type,r.stateNode):pj(y,m,r.memoizedProps)):m===null&&r.stateNode!==null&&Wp(r,r.memoizedProps,u.memoizedProps)}break;case 27:ta(l,r),sa(r),m&512&&(Hs||u===null||ar(u,u.return)),u!==null&&m&4&&Wp(r,r.memoizedProps,u.memoizedProps);break;case 5:if(ta(l,r),sa(r),m&512&&(Hs||u===null||ar(u,u.return)),r.flags&32){y=r.stateNode;try{ii(y,"")}catch(Ne){bs(r,r.return,Ne)}}m&4&&r.stateNode!=null&&(y=r.memoizedProps,Wp(r,y,u!==null?u.memoizedProps:y)),m&1024&&(Xp=!0);break;case 6:if(ta(l,r),sa(r),m&4){if(r.stateNode===null)throw Error(n(162));m=r.memoizedProps,u=r.stateNode;try{u.nodeValue=m}catch(Ne){bs(r,r.return,Ne)}}break;case 3:if(kf=null,y=Ua,Ua=Sf(l.containerInfo),ta(l,r),Ua=y,sa(r),m&4&&u!==null&&u.memoizedState.isDehydrated)try{wd(l.containerInfo)}catch(Ne){bs(r,r.return,Ne)}Xp&&(Xp=!1,Nw(r));break;case 4:m=Ua,Ua=Sf(r.stateNode.containerInfo),ta(l,r),sa(r),Ua=m;break;case 12:ta(l,r),sa(r);break;case 13:ta(l,r),sa(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(sg=Le()),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,Kp(r,m)));break;case 22:y=r.memoizedState!==null;var se=u!==null&&u.memoizedState!==null,be=Hr,Ee=Hs;if(Hr=be||y,Hs=Ee||se,ta(l,r),Hs=Ee,Hr=be,sa(r),m&8192)e:for(l=r.stateNode,l._visibility=y?l._visibility&-2:l._visibility|1,y&&(u===null||se||Hr||Hs||So(r)),u=null,l=r;;){if(l.tag===5||l.tag===26){if(u===null){se=u=l;try{if(w=se.stateNode,y)O=w.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{z=se.stateNode;var Oe=se.memoizedProps.style,je=Oe!=null&&Oe.hasOwnProperty("display")?Oe.display:null;z.style.display=je==null||typeof je=="boolean"?"":(""+je).trim()}}catch(Ne){bs(se,se.return,Ne)}}}else if(l.tag===6){if(u===null){se=l;try{se.stateNode.nodeValue=y?"":se.memoizedProps}catch(Ne){bs(se,se.return,Ne)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===r)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break e;for(;l.sibling===null;){if(l.return===null||l.return===r)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=r.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,Kp(r,u))));break;case 19:ta(l,r),sa(r),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,Kp(r,m)));break;case 30:break;case 21:break;default:ta(l,r),sa(r)}}function sa(r){var l=r.flags;if(l&2){try{for(var u,m=r.return;m!==null;){if(pw(m)){u=m;break}m=m.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var y=u.stateNode,w=Yp(r);hf(r,w,y);break;case 5:var O=u.stateNode;u.flags&32&&(ii(O,""),u.flags&=-33);var z=Yp(r);hf(r,z,O);break;case 3:case 4:var se=u.stateNode.containerInfo,be=Yp(r);Gp(r,be,se);break;default:throw Error(n(161))}}catch(Ee){bs(r,r.return,Ee)}r.flags&=-3}l&4096&&(r.flags&=-4097)}function Nw(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var l=r;Nw(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),r=r.sibling}}function vi(r,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)yw(r,l.alternate,l),l=l.sibling}function So(r){for(r=r.child;r!==null;){var l=r;switch(l.tag){case 0:case 11:case 14:case 15:bi(4,l,l.return),So(l);break;case 1:ar(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&hw(l,l.return,u),So(l);break;case 27:hd(l.stateNode);case 26:case 5:ar(l,l.return),So(l);break;case 22:l.memoizedState===null&&So(l);break;case 30:So(l);break;default:So(l)}r=r.sibling}}function wi(r,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,y=r,w=l,O=w.flags;switch(w.tag){case 0:case 11:case 15:wi(y,w,u),nd(4,w);break;case 1:if(wi(y,w,u),m=w,y=m.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(be){bs(m,m.return,be)}if(m=w,y=m.updateQueue,y!==null){var z=m.stateNode;try{var se=y.shared.hiddenCallbacks;if(se!==null)for(y.shared.hiddenCallbacks=null,y=0;y<se.length;y++)Zb(se[y],z)}catch(be){bs(m,m.return,be)}}u&&O&64&&fw(w),ad(w,w.return);break;case 27:gw(w);case 26:case 5:wi(y,w,u),u&&m===null&&O&4&&mw(w),ad(w,w.return);break;case 12:wi(y,w,u);break;case 13:wi(y,w,u),u&&O&4&&ww(y,w);break;case 22:w.memoizedState===null&&wi(y,w,u),ad(w,w.return);break;case 30:break;default:wi(y,w,u)}l=l.sibling}}function Qp(r,l){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(r=l.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&Ic(u))}function Zp(r,l){r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&Ic(r))}function rr(r,l,u,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)_w(r,l,u,m),l=l.sibling}function _w(r,l,u,m){var y=l.flags;switch(l.tag){case 0:case 11:case 15:rr(r,l,u,m),y&2048&&nd(9,l);break;case 1:rr(r,l,u,m);break;case 3:rr(r,l,u,m),y&2048&&(r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&Ic(r)));break;case 12:if(y&2048){rr(r,l,u,m),r=l.stateNode;try{var w=l.memoizedProps,O=w.id,z=w.onPostCommit;typeof z=="function"&&z(O,l.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(se){bs(l,l.return,se)}}else rr(r,l,u,m);break;case 13:rr(r,l,u,m);break;case 23:break;case 22:w=l.stateNode,O=l.alternate,l.memoizedState!==null?w._visibility&2?rr(r,l,u,m):rd(r,l):w._visibility&2?rr(r,l,u,m):(w._visibility|=2,El(r,l,u,m,(l.subtreeFlags&10256)!==0)),y&2048&&Qp(O,l);break;case 24:rr(r,l,u,m),y&2048&&Zp(l.alternate,l);break;default:rr(r,l,u,m)}}function El(r,l,u,m,y){for(y=y&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var w=r,O=l,z=u,se=m,be=O.flags;switch(O.tag){case 0:case 11:case 15:El(w,O,z,se,y),nd(8,O);break;case 23:break;case 22:var Ee=O.stateNode;O.memoizedState!==null?Ee._visibility&2?El(w,O,z,se,y):rd(w,O):(Ee._visibility|=2,El(w,O,z,se,y)),y&&be&2048&&Qp(O.alternate,O);break;case 24:El(w,O,z,se,y),y&&be&2048&&Zp(O.alternate,O);break;default:El(w,O,z,se,y)}l=l.sibling}}function rd(r,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=r,m=l,y=m.flags;switch(m.tag){case 22:rd(u,m),y&2048&&Qp(m.alternate,m);break;case 24:rd(u,m),y&2048&&Zp(m.alternate,m);break;default:rd(u,m)}l=l.sibling}}var id=8192;function Dl(r){if(r.subtreeFlags&id)for(r=r.child;r!==null;)Tw(r),r=r.sibling}function Tw(r){switch(r.tag){case 26:Dl(r),r.flags&id&&r.memoizedState!==null&&wD(Ua,r.memoizedState,r.memoizedProps);break;case 5:Dl(r);break;case 3:case 4:var l=Ua;Ua=Sf(r.stateNode.containerInfo),Dl(r),Ua=l;break;case 22:r.memoizedState===null&&(l=r.alternate,l!==null&&l.memoizedState!==null?(l=id,id=16777216,Dl(r),id=l):Dl(r));break;default:Dl(r)}}function Sw(r){var l=r.alternate;if(l!==null&&(r=l.child,r!==null)){l.child=null;do l=r.sibling,r.sibling=null,r=l;while(r!==null)}}function od(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var m=l[u];dn=m,kw(m,r)}Sw(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Cw(r),r=r.sibling}function Cw(r){switch(r.tag){case 0:case 11:case 15:od(r),r.flags&2048&&bi(9,r,r.return);break;case 3:od(r);break;case 12:od(r);break;case 22:var l=r.stateNode;r.memoizedState!==null&&l._visibility&2&&(r.return===null||r.return.tag!==13)?(l._visibility&=-3,mf(r)):od(r);break;default:od(r)}}function mf(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var m=l[u];dn=m,kw(m,r)}Sw(r)}for(r=r.child;r!==null;){switch(l=r,l.tag){case 0:case 11:case 15:bi(8,l,l.return),mf(l);break;case 22:u=l.stateNode,u._visibility&2&&(u._visibility&=-3,mf(l));break;default:mf(l)}r=r.sibling}}function kw(r,l){for(;dn!==null;){var u=dn;switch(u.tag){case 0:case 11:case 15:bi(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Ic(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,dn=m;else e:for(u=r;dn!==null;){m=dn;var y=m.sibling,w=m.return;if(bw(m),m===u){dn=null;break e}if(y!==null){y.return=w,dn=y;break e}dn=w}}}var BE={getCacheForType:function(r){var l=Sn(en),u=l.data.get(r);return u===void 0&&(u=r(),l.data.set(r,u)),u}},FE=typeof WeakMap=="function"?WeakMap:Map,ls=0,ws=null,Vt=null,Jt=0,cs=0,na=null,ji=!1,Al=!1,Jp=!1,Ir=0,Us=0,Ni=0,Co=0,eg=0,wa=0,Ol=0,ld=null,Vn=null,tg=!1,sg=0,pf=1/0,gf=null,_i=null,gn=0,Ti=null,Rl=null,Ml=0,ng=0,ag=null,Ew=null,cd=0,rg=null;function aa(){if((ls&2)!==0&&Jt!==0)return Jt&-Jt;if(H.T!==null){var r=wl;return r!==0?r:fg()}return ae()}function Dw(){wa===0&&(wa=(Jt&536870912)===0||is?Je():536870912);var r=va.current;return r!==null&&(r.flags|=32),wa}function ra(r,l,u){(r===ws&&(cs===2||cs===9)||r.cancelPendingCommit!==null)&&(Pl(r,0),Si(r,Jt,wa,!1)),Et(r,u),((ls&2)===0||r!==ws)&&(r===ws&&((ls&2)===0&&(Co|=u),Us===4&&Si(r,Jt,wa,!1)),ir(r))}function Aw(r,l,u){if((ls&6)!==0)throw Error(n(327));var m=!u&&(l&124)===0&&(l&r.expiredLanes)===0||qs(r,l),y=m?HE(r,l):lg(r,l,!0),w=m;do{if(y===0){Al&&!m&&Si(r,l,0,!1);break}else{if(u=r.current.alternate,w&&!UE(u)){y=lg(r,l,!1),w=!1;continue}if(y===2){if(w=l,r.errorRecoveryDisabledLanes&w)var O=0;else O=r.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){l=O;e:{var z=r;y=ld;var se=z.current.memoizedState.isDehydrated;if(se&&(Pl(z,O).flags|=256),O=lg(z,O,!1),O!==2){if(Jp&&!se){z.errorRecoveryDisabledLanes|=w,Co|=w,y=4;break e}w=Vn,Vn=y,w!==null&&(Vn===null?Vn=w:Vn.push.apply(Vn,w))}y=O}if(w=!1,y!==2)continue}}if(y===1){Pl(r,0),Si(r,l,0,!0);break}e:{switch(m=r,w=y,w){case 0:case 1:throw Error(n(345));case 4:if((l&4194048)!==l)break;case 6:Si(m,l,wa,!ji);break e;case 2:Vn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((l&62914560)===l&&(y=sg+300-Le(),10<y)){if(Si(m,l,wa,!ji),os(m,0,!0)!==0)break e;m.timeoutHandle=ij(Ow.bind(null,m,u,Vn,gf,tg,l,wa,Co,Ol,ji,w,2,-0,0),y);break e}Ow(m,u,Vn,gf,tg,l,wa,Co,Ol,ji,w,0,-0,0)}}break}while(!0);ir(r)}function Ow(r,l,u,m,y,w,O,z,se,be,Ee,Oe,je,Ne){if(r.timeoutHandle=-1,Oe=l.subtreeFlags,(Oe&8192||(Oe&16785408)===16785408)&&(gd={stylesheets:null,count:0,unsuspend:vD},Tw(l),Oe=jD(),Oe!==null)){r.cancelPendingCommit=Oe(Uw.bind(null,r,l,w,u,m,y,O,z,se,Ee,1,je,Ne)),Si(r,w,O,!be);return}Uw(r,l,w,u,m,y,O,z,se)}function UE(r){for(var l=r;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var y=u[m],w=y.getSnapshot;y=y.value;try{if(!Jn(w(),y))return!1}catch(O){return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Si(r,l,u,m){l&=~eg,l&=~Co,r.suspendedLanes|=l,r.pingedLanes&=~l,m&&(r.warmLanes|=l),m=r.expirationTimes;for(var y=l;0<y;){var w=31-jt(y),O=1<<w;m[w]=-1,y&=~O}u!==0&&et(r,u,l)}function xf(){return(ls&6)===0?(dd(0),!1):!0}function ig(){if(Vt!==null){if(cs===0)var r=Vt.return;else r=Vt,Pr=wo=null,Np(r),Cl=null,ed=0,r=Vt;for(;r!==null;)uw(r.alternate,r),r=r.return;Vt=null}}function Pl(r,l){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,nD(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),ig(),ws=r,Vt=u=Or(r.current,null),Jt=l,cs=0,na=null,ji=!1,Al=qs(r,l),Jp=!1,Ol=wa=eg=Co=Ni=Us=0,Vn=ld=null,tg=!1,(l&8)!==0&&(l|=l&32);var m=r.entangledLanes;if(m!==0)for(r=r.entanglements,m&=l;0<m;){var y=31-jt(m),w=1<<y;l|=r[y],m&=~w}return Ir=l,Fu(),u}function Rw(r,l){Ft=null,H.H=nf,l===qc||l===Yu?(l=Kb(),cs=3):l===Yb?(l=Kb(),cs=4):cs=l===Qv?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,na=l,Vt===null&&(Us=1,cf(r,ga(l,r.current)))}function Mw(){var r=H.H;return H.H=nf,r===null?nf:r}function Pw(){var r=H.A;return H.A=BE,r}function og(){Us=4,ji||(Jt&4194048)!==Jt&&va.current!==null||(Al=!0),(Ni&134217727)===0&&(Co&134217727)===0||ws===null||Si(ws,Jt,wa,!1)}function lg(r,l,u){var m=ls;ls|=2;var y=Mw(),w=Pw();(ws!==r||Jt!==l)&&(gf=null,Pl(r,l)),l=!1;var O=Us;e:do try{if(cs!==0&&Vt!==null){var z=Vt,se=na;switch(cs){case 8:ig(),O=6;break e;case 3:case 2:case 9:case 6:va.current===null&&(l=!0);var be=cs;if(cs=0,na=null,Ll(r,z,se,be),u&&Al){O=0;break e}break;default:be=cs,cs=0,na=null,Ll(r,z,se,be)}}zE(),O=Us;break}catch(Ee){Rw(r,Ee)}while(!0);return l&&r.shellSuspendCounter++,Pr=wo=null,ls=m,H.H=y,H.A=w,Vt===null&&(ws=null,Jt=0,Fu()),O}function zE(){for(;Vt!==null;)Lw(Vt)}function HE(r,l){var u=ls;ls|=2;var m=Mw(),y=Pw();ws!==r||Jt!==l?(gf=null,pf=Le()+500,Pl(r,l)):Al=qs(r,l);e:do try{if(cs!==0&&Vt!==null){l=Vt;var w=na;t:switch(cs){case 1:cs=0,na=null,Ll(r,l,w,1);break;case 2:case 9:if(Gb(w)){cs=0,na=null,Bw(l);break}l=function(){cs!==2&&cs!==9||ws!==r||(cs=7),ir(r)},w.then(l,l);break e;case 3:cs=7;break e;case 4:cs=5;break e;case 7:Gb(w)?(cs=0,na=null,Bw(l)):(cs=0,na=null,Ll(r,l,w,7));break;case 5:var O=null;switch(Vt.tag){case 26:O=Vt.memoizedState;case 5:case 27:var z=Vt;if(!O||yj(O)){cs=0,na=null;var se=z.sibling;if(se!==null)Vt=se;else{var be=z.return;be!==null?(Vt=be,yf(be)):Vt=null}break t}}cs=0,na=null,Ll(r,l,w,5);break;case 6:cs=0,na=null,Ll(r,l,w,6);break;case 8:ig(),Us=6;break e;default:throw Error(n(462))}}$E();break}catch(Ee){Rw(r,Ee)}while(!0);return Pr=wo=null,H.H=m,H.A=y,ls=u,Vt!==null?0:(ws=null,Jt=0,Fu(),Us)}function $E(){for(;Vt!==null&&!mt();)Lw(Vt)}function Lw(r){var l=cw(r.alternate,r,Ir);r.memoizedProps=r.pendingProps,l===null?yf(r):Vt=l}function Bw(r){var l=r,u=l.alternate;switch(l.tag){case 15:case 0:l=nw(u,l,l.pendingProps,l.type,void 0,Jt);break;case 11:l=nw(u,l,l.pendingProps,l.type.render,l.ref,Jt);break;case 5:Np(l);default:uw(u,l),l=Vt=Fb(l,Ir),l=cw(u,l,Ir)}r.memoizedProps=r.pendingProps,l===null?yf(r):Vt=l}function Ll(r,l,u,m){Pr=wo=null,Np(l),Cl=null,ed=0;var y=l.return;try{if(AE(r,y,l,u,Jt)){Us=1,cf(r,ga(u,r.current)),Vt=null;return}}catch(w){if(y!==null)throw Vt=y,w;Us=1,cf(r,ga(u,r.current)),Vt=null;return}l.flags&32768?(is||m===1?r=!0:Al||(Jt&536870912)!==0?r=!1:(ji=r=!0,(m===2||m===9||m===3||m===6)&&(m=va.current,m!==null&&m.tag===13&&(m.flags|=16384))),Fw(l,r)):yf(l)}function yf(r){var l=r;do{if((l.flags&32768)!==0){Fw(l,ji);return}r=l.return;var u=RE(l.alternate,l,Ir);if(u!==null){Vt=u;return}if(l=l.sibling,l!==null){Vt=l;return}Vt=l=r}while(l!==null);Us===0&&(Us=5)}function Fw(r,l){do{var u=ME(r.alternate,r);if(u!==null){u.flags&=32767,Vt=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(r=r.sibling,r!==null)){Vt=r;return}Vt=r=u}while(r!==null);Us=6,Vt=null}function Uw(r,l,u,m,y,w,O,z,se){r.cancelPendingCommit=null;do bf();while(gn!==0);if((ls&6)!==0)throw Error(n(327));if(l!==null){if(l===r.current)throw Error(n(177));if(w=l.lanes|l.childLanes,w|=Zm,rs(r,u,w,O,z,se),r===ws&&(Vt=ws=null,Jt=0),Rl=l,Ti=r,Ml=u,ng=w,ag=y,Ew=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,WE(me,function(){return Vw(),null})):(r.callbackNode=null,r.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=H.T,H.T=null,y=J.p,J.p=2,O=ls,ls|=4;try{PE(r,l,u)}finally{ls=O,J.p=y,H.T=m}}gn=1,zw(),Hw(),$w()}}function zw(){if(gn===1){gn=0;var r=Ti,l=Rl,u=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||u){u=H.T,H.T=null;var m=J.p;J.p=2;var y=ls;ls|=4;try{jw(l,r);var w=vg,O=kb(r.containerInfo),z=w.focusedElem,se=w.selectionRange;if(O!==z&&z&&z.ownerDocument&&Cb(z.ownerDocument.documentElement,z)){if(se!==null&&Ym(z)){var be=se.start,Ee=se.end;if(Ee===void 0&&(Ee=be),"selectionStart"in z)z.selectionStart=be,z.selectionEnd=Math.min(Ee,z.value.length);else{var Oe=z.ownerDocument||document,je=Oe&&Oe.defaultView||window;if(je.getSelection){var Ne=je.getSelection(),_t=z.textContent.length,bt=Math.min(se.start,_t),gs=se.end===void 0?bt:Math.min(se.end,_t);!Ne.extend&&bt>gs&&(O=gs,gs=bt,bt=O);var fe=Sb(z,bt),oe=Sb(z,gs);if(fe&&oe&&(Ne.rangeCount!==1||Ne.anchorNode!==fe.node||Ne.anchorOffset!==fe.offset||Ne.focusNode!==oe.node||Ne.focusOffset!==oe.offset)){var ye=Oe.createRange();ye.setStart(fe.node,fe.offset),Ne.removeAllRanges(),bt>gs?(Ne.addRange(ye),Ne.extend(oe.node,oe.offset)):(ye.setEnd(oe.node,oe.offset),Ne.addRange(ye))}}}}for(Oe=[],Ne=z;Ne=Ne.parentNode;)Ne.nodeType===1&&Oe.push({element:Ne,left:Ne.scrollLeft,top:Ne.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<Oe.length;z++){var De=Oe[z];De.element.scrollLeft=De.left,De.element.scrollTop=De.top}}Af=!!bg,vg=bg=null}finally{ls=y,J.p=m,H.T=u}}r.current=l,gn=2}}function Hw(){if(gn===2){gn=0;var r=Ti,l=Rl,u=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||u){u=H.T,H.T=null;var m=J.p;J.p=2;var y=ls;ls|=4;try{yw(r,l.alternate,l)}finally{ls=y,J.p=m,H.T=u}}gn=3}}function $w(){if(gn===4||gn===3){gn=0,tt();var r=Ti,l=Rl,u=Ml,m=Ew;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?gn=5:(gn=0,Rl=Ti=null,Iw(r,r.pendingLanes));var y=r.pendingLanes;if(y===0&&(_i=null),es(u),l=l.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(We,l,void 0,(l.current.flags&128)===128)}catch(se){}if(m!==null){l=H.T,y=J.p,J.p=2,H.T=null;try{for(var w=r.onRecoverableError,O=0;O<m.length;O++){var z=m[O];w(z.value,{componentStack:z.stack})}}finally{H.T=l,J.p=y}}(Ml&3)!==0&&bf(),ir(r),y=r.pendingLanes,(u&4194090)!==0&&(y&42)!==0?r===rg?cd++:(cd=0,rg=r):cd=0,dd(0)}}function Iw(r,l){(r.pooledCacheLanes&=l)===0&&(l=r.pooledCache,l!=null&&(r.pooledCache=null,Ic(l)))}function bf(r){return zw(),Hw(),$w(),Vw()}function Vw(){if(gn!==5)return!1;var r=Ti,l=ng;ng=0;var u=es(Ml),m=H.T,y=J.p;try{J.p=32>u?32:u,H.T=null,u=ag,ag=null;var w=Ti,O=Ml;if(gn=0,Rl=Ti=null,Ml=0,(ls&6)!==0)throw Error(n(331));var z=ls;if(ls|=4,Cw(w.current),_w(w,w.current,O,u),ls=z,dd(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(We,w)}catch(se){}return!0}finally{J.p=y,H.T=m,Iw(r,l)}}function qw(r,l,u){l=ga(u,l),l=Bp(r.stateNode,l,2),r=pi(r,l,2),r!==null&&(Et(r,2),ir(r))}function bs(r,l,u){if(r.tag===3)qw(r,r,u);else for(;l!==null;){if(l.tag===3){qw(l,r,u);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(_i===null||!_i.has(m))){r=ga(u,r),u=Xv(2),m=pi(l,u,2),m!==null&&(Kv(u,m,l,r),Et(m,2),ir(m));break}}l=l.return}}function cg(r,l,u){var m=r.pingCache;if(m===null){m=r.pingCache=new FE;var y=new Set;m.set(l,y)}else y=m.get(l),y===void 0&&(y=new Set,m.set(l,y));y.has(u)||(Jp=!0,y.add(u),r=IE.bind(null,r,l,u),l.then(r,r))}function IE(r,l,u){var m=r.pingCache;m!==null&&m.delete(l),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,ws===r&&(Jt&u)===u&&(Us===4||Us===3&&(Jt&62914560)===Jt&&300>Le()-sg?(ls&2)===0&&Pl(r,0):eg|=u,Ol===Jt&&(Ol=0)),ir(r)}function Ww(r,l){l===0&&(l=Bt()),r=xl(r,l),r!==null&&(Et(r,l),ir(r))}function VE(r){var l=r.memoizedState,u=0;l!==null&&(u=l.retryLane),Ww(r,u)}function qE(r,l){var u=0;switch(r.tag){case 13:var m=r.stateNode,y=r.memoizedState;y!==null&&(u=y.retryLane);break;case 19:m=r.stateNode;break;case 22:m=r.stateNode._retryCache;break;default:throw Error(n(314))}m!==null&&m.delete(l),Ww(r,u)}function WE(r,l){return He(r,l)}var vf=null,Bl=null,dg=!1,wf=!1,ug=!1,ko=0;function ir(r){r!==Bl&&r.next===null&&(Bl===null?vf=Bl=r:Bl=Bl.next=r),wf=!0,dg||(dg=!0,GE())}function dd(r,l){if(!ug&&wf){ug=!0;do for(var u=!1,m=vf;m!==null;){if(r!==0){var y=m.pendingLanes;if(y===0)var w=0;else{var O=m.suspendedLanes,z=m.pingedLanes;w=(1<<31-jt(42|r)+1)-1,w&=y&~(O&~z),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(u=!0,Kw(m,w))}else w=Jt,w=os(m,m===ws?w:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(w&3)===0||qs(m,w)||(u=!0,Kw(m,w));m=m.next}while(u);ug=!1}}function YE(){Yw()}function Yw(){wf=dg=!1;var r=0;ko!==0&&(sD()&&(r=ko),ko=0);for(var l=Le(),u=null,m=vf;m!==null;){var y=m.next,w=Gw(m,l);w===0?(m.next=null,u===null?vf=y:u.next=y,y===null&&(Bl=u)):(u=m,(r!==0||(w&3)!==0)&&(wf=!0)),m=y}dd(r)}function Gw(r,l){for(var u=r.suspendedLanes,m=r.pingedLanes,y=r.expirationTimes,w=r.pendingLanes&-62914561;0<w;){var O=31-jt(w),z=1<<O,se=y[O];se===-1?((z&u)===0||(z&m)!==0)&&(y[O]=rn(z,l)):se<=l&&(r.expiredLanes|=z),w&=~z}if(l=ws,u=Jt,u=os(r,r===l?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m=r.callbackNode,u===0||r===l&&(cs===2||cs===9)||r.cancelPendingCommit!==null)return m!==null&&m!==null&&Ue(m),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||qs(r,u)){if(l=u&-u,l===r.callbackPriority)return l;switch(m!==null&&Ue(m),es(u)){case 2:case 8:u=Q;break;case 32:u=me;break;case 268435456:u=Se;break;default:u=me}return m=Xw.bind(null,r),u=He(u,m),r.callbackPriority=l,r.callbackNode=u,l}return m!==null&&m!==null&&Ue(m),r.callbackPriority=2,r.callbackNode=null,2}function Xw(r,l){if(gn!==0&&gn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(bf()&&r.callbackNode!==u)return null;var m=Jt;return m=os(r,r===ws?m:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m===0?null:(Aw(r,m,l),Gw(r,Le()),r.callbackNode!=null&&r.callbackNode===u?Xw.bind(null,r):null)}function Kw(r,l){if(bf())return null;Aw(r,l,!0)}function GE(){aD(function(){(ls&6)!==0?He(lt,YE):Yw()})}function fg(){return ko===0&&(ko=Je()),ko}function Qw(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:ol(""+r)}function Zw(r,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,r.id&&u.setAttribute("form",r.id),l.parentNode.insertBefore(u,l),r=new FormData(r),u.parentNode.removeChild(u),r}function XE(r,l,u,m,y){if(l==="submit"&&u&&u.stateNode===y){var w=Qw((y[Me]||null).action),O=m.submitter;O&&(l=(l=O[Me]||null)?Qw(l.formAction):O.getAttribute("formAction"),l!==null&&(w=l,O=null));var z=new dl("action","action",null,m,y);r.push({event:z,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(ko!==0){var se=O?Zw(y,O):new FormData(y);Op(u,{pending:!0,data:se,method:y.method,action:w},null,se)}}else typeof w=="function"&&(z.preventDefault(),se=O?Zw(y,O):new FormData(y),Op(u,{pending:!0,data:se,method:y.method,action:w},w,se))},currentTarget:y}]})}}for(var hg=0;hg<Qm.length;hg++){var mg=Qm[hg],KE=mg.toLowerCase(),QE=mg[0].toUpperCase()+mg.slice(1);Fa(KE,"on"+QE)}Fa(Ab,"onAnimationEnd"),Fa(Ob,"onAnimationIteration"),Fa(Rb,"onAnimationStart"),Fa("dblclick","onDoubleClick"),Fa("focusin","onFocus"),Fa("focusout","onBlur"),Fa(mE,"onTransitionRun"),Fa(pE,"onTransitionStart"),Fa(gE,"onTransitionCancel"),Fa(Mb,"onTransitionEnd"),Ps("onMouseEnter",["mouseout","mouseover"]),Ps("onMouseLeave",["mouseout","mouseover"]),Ps("onPointerEnter",["pointerout","pointerover"]),Ps("onPointerLeave",["pointerout","pointerover"]),Ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ts("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ud="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ud));function Jw(r,l){l=(l&4)!==0;for(var u=0;u<r.length;u++){var m=r[u],y=m.event;m=m.listeners;e:{var w=void 0;if(l)for(var O=m.length-1;0<=O;O--){var z=m[O],se=z.instance,be=z.currentTarget;if(z=z.listener,se!==w&&y.isPropagationStopped())break e;w=z,y.currentTarget=be;try{w(y)}catch(Ee){lf(Ee)}y.currentTarget=null,w=se}else for(O=0;O<m.length;O++){if(z=m[O],se=z.instance,be=z.currentTarget,z=z.listener,se!==w&&y.isPropagationStopped())break e;w=z,y.currentTarget=be;try{w(y)}catch(Ee){lf(Ee)}y.currentTarget=null,w=se}}}}function qt(r,l){var u=l[at];u===void 0&&(u=l[at]=new Set);var m=r+"__bubble";u.has(m)||(ej(l,r,2,!1),u.add(m))}function pg(r,l,u){var m=0;l&&(m|=4),ej(u,r,m,l)}var jf="_reactListening"+Math.random().toString(36).slice(2);function gg(r){if(!r[jf]){r[jf]=!0,Dt.forEach(function(u){u!=="selectionchange"&&(ZE.has(u)||pg(u,!1,r),pg(u,!0,r))});var l=r.nodeType===9?r:r.ownerDocument;l===null||l[jf]||(l[jf]=!0,pg("selectionchange",!1,l))}}function ej(r,l,u,m){switch(_j(l)){case 2:var y=TD;break;case 8:y=SD;break;default:y=Dg}u=y.bind(null,l,u,r),y=void 0,!ll||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),m?y!==void 0?r.addEventListener(l,u,{capture:!0,passive:y}):r.addEventListener(l,u,!0):y!==void 0?r.addEventListener(l,u,{passive:y}):r.addEventListener(l,u,!1)}function xg(r,l,u,m,y){var w=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var O=m.tag;if(O===3||O===4){var z=m.stateNode.containerInfo;if(z===y)break;if(O===4)for(O=m.return;O!==null;){var se=O.tag;if((se===3||se===4)&&O.stateNode.containerInfo===y)return;O=O.return}for(;z!==null;){if(O=Rt(z),O===null)return;if(se=O.tag,se===5||se===6||se===26||se===27){m=w=O;continue e}z=z.parentNode}}m=m.return}Rc(function(){var be=w,Ee=lo(u),Oe=[];e:{var je=Pb.get(r);if(je!==void 0){var Ne=dl,_t=r;switch(r){case"keypress":if(ci(u)===0)break e;case"keydown":case"keyup":Ne=tr;break;case"focusin":_t="focus",Ne=gt;break;case"focusout":_t="blur",Ne=gt;break;case"beforeblur":case"afterblur":Ne=gt;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ne=ue;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ne=ve;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ne=Lu;break;case Ab:case Ob:case Rb:Ne=Ze;break;case Mb:Ne=Qk;break;case"scroll":case"scrollend":Ne=Bs;break;case"wheel":Ne=Jk;break;case"copy":case"cut":case"paste":Ne=hs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ne=ul;break;case"toggle":case"beforetoggle":Ne=tE}var bt=(l&4)!==0,gs=!bt&&(r==="scroll"||r==="scrollend"),fe=bt?je!==null?je+"Capture":null:je;bt=[];for(var oe=be,ye;oe!==null;){var De=oe;if(ye=De.stateNode,De=De.tag,De!==5&&De!==26&&De!==27||ye===null||fe===null||(De=li(oe,fe),De!=null&&bt.push(fd(oe,De,ye))),gs)break;oe=oe.return}0<bt.length&&(je=new Ne(je,_t,null,u,Ee),Oe.push({event:je,listeners:bt}))}}if((l&7)===0){e:{if(je=r==="mouseover"||r==="pointerover",Ne=r==="mouseout"||r==="pointerout",je&&u!==Ac&&(_t=u.relatedTarget||u.fromElement)&&(Rt(_t)||_t[Ye]))break e;if((Ne||je)&&(je=Ee.window===Ee?Ee:(je=Ee.ownerDocument)?je.defaultView||je.parentWindow:window,Ne?(_t=u.relatedTarget||u.toElement,Ne=be,_t=_t?Rt(_t):null,_t!==null&&(gs=o(_t),bt=_t.tag,_t!==gs||bt!==5&&bt!==27&&bt!==6)&&(_t=null)):(Ne=null,_t=be),Ne!==_t)){if(bt=ue,De="onMouseLeave",fe="onMouseEnter",oe="mouse",(r==="pointerout"||r==="pointerover")&&(bt=ul,De="onPointerLeave",fe="onPointerEnter",oe="pointer"),gs=Ne==null?je:Ms(Ne),ye=_t==null?je:Ms(_t),je=new bt(De,oe+"leave",Ne,u,Ee),je.target=gs,je.relatedTarget=ye,De=null,Rt(Ee)===be&&(bt=new bt(fe,oe+"enter",_t,u,Ee),bt.target=ye,bt.relatedTarget=gs,De=bt),gs=De,Ne&&_t)t:{for(bt=Ne,fe=_t,oe=0,ye=bt;ye;ye=Fl(ye))oe++;for(ye=0,De=fe;De;De=Fl(De))ye++;for(;0<oe-ye;)bt=Fl(bt),oe--;for(;0<ye-oe;)fe=Fl(fe),ye--;for(;oe--;){if(bt===fe||fe!==null&&bt===fe.alternate)break t;bt=Fl(bt),fe=Fl(fe)}bt=null}else bt=null;Ne!==null&&tj(Oe,je,Ne,bt,!1),_t!==null&&gs!==null&&tj(Oe,gs,_t,bt,!0)}}e:{if(je=be?Ms(be):window,Ne=je.nodeName&&je.nodeName.toLowerCase(),Ne==="select"||Ne==="input"&&je.type==="file")var rt=vb;else if(yb(je))if(wb)rt=uE;else{rt=cE;var Ht=lE}else Ne=je.nodeName,!Ne||Ne.toLowerCase()!=="input"||je.type!=="checkbox"&&je.type!=="radio"?be&&oo(be.elementType)&&(rt=vb):rt=dE;if(rt&&(rt=rt(r,be))){bb(Oe,rt,u,Ee);break e}Ht&&Ht(r,je,be),r==="focusout"&&be&&je.type==="number"&&be.memoizedProps.value!=null&&kc(je,"number",je.value)}switch(Ht=be?Ms(be):window,r){case"focusin":(yb(Ht)||Ht.contentEditable==="true")&&(ml=Ht,Gm=be,Fc=null);break;case"focusout":Fc=Gm=ml=null;break;case"mousedown":Xm=!0;break;case"contextmenu":case"mouseup":case"dragend":Xm=!1,Eb(Oe,u,Ee);break;case"selectionchange":if(hE)break;case"keydown":case"keyup":Eb(Oe,u,Ee)}var pt;if(Vm)e:{switch(r){case"compositionstart":var wt="onCompositionStart";break e;case"compositionend":wt="onCompositionEnd";break e;case"compositionupdate":wt="onCompositionUpdate";break e}wt=void 0}else hl?gb(r,u)&&(wt="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(wt="onCompositionStart");wt&&(hb&&u.locale!=="ko"&&(hl||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&hl&&(pt=fo()):(Zn=Ee,Hn="value"in Zn?Zn.value:Zn.textContent,hl=!0)),Ht=Nf(be,wt),0<Ht.length&&(wt=new yt(wt,r,null,u,Ee),Oe.push({event:wt,listeners:Ht}),pt?wt.data=pt:(pt=xb(u),pt!==null&&(wt.data=pt)))),(pt=nE?aE(r,u):rE(r,u))&&(wt=Nf(be,"onBeforeInput"),0<wt.length&&(Ht=new yt("onBeforeInput","beforeinput",null,u,Ee),Oe.push({event:Ht,listeners:wt}),Ht.data=pt)),XE(Oe,r,be,u,Ee)}Jw(Oe,l)})}function fd(r,l,u){return{instance:r,listener:l,currentTarget:u}}function Nf(r,l){for(var u=l+"Capture",m=[];r!==null;){var y=r,w=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||w===null||(y=li(r,u),y!=null&&m.unshift(fd(r,y,w)),y=li(r,l),y!=null&&m.push(fd(r,y,w))),r.tag===3)return m;r=r.return}return[]}function Fl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function tj(r,l,u,m,y){for(var w=l._reactName,O=[];u!==null&&u!==m;){var z=u,se=z.alternate,be=z.stateNode;if(z=z.tag,se!==null&&se===m)break;z!==5&&z!==26&&z!==27||be===null||(se=be,y?(be=li(u,w),be!=null&&O.unshift(fd(u,be,se))):y||(be=li(u,w),be!=null&&O.push(fd(u,be,se)))),u=u.return}O.length!==0&&r.push({event:l,listeners:O})}var JE=/\r\n?/g,eD=/\u0000|\uFFFD/g;function sj(r){return(typeof r=="string"?r:""+r).replace(JE,`
`).replace(eD,"")}function nj(r,l){return l=sj(l),sj(r)===l}function _f(){}function ps(r,l,u,m,y,w){switch(u){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||ii(r,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&ii(r,""+m);break;case"className":ma(r,"class",m);break;case"tabIndex":ma(r,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":ma(r,u,m);break;case"style":Dc(r,m,w);break;case"data":if(l!=="object"){ma(r,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||u!=="href")){r.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(u);break}m=ol(""+m),r.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(u==="formAction"?(l!=="input"&&ps(r,l,"name",y.name,y,null),ps(r,l,"formEncType",y.formEncType,y,null),ps(r,l,"formMethod",y.formMethod,y,null),ps(r,l,"formTarget",y.formTarget,y,null)):(ps(r,l,"encType",y.encType,y,null),ps(r,l,"method",y.method,y,null),ps(r,l,"target",y.target,y,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(u);break}m=ol(""+m),r.setAttribute(u,m);break;case"onClick":m!=null&&(r.onclick=_f);break;case"onScroll":m!=null&&qt("scroll",r);break;case"onScrollEnd":m!=null&&qt("scrollend",r);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(u=m.__html,u!=null){if(y.children!=null)throw Error(n(60));r.innerHTML=u}}break;case"multiple":r.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":r.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){r.removeAttribute("xlink:href");break}u=ol(""+m),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(u,""+m):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":m===!0?r.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(u,m):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?r.setAttribute(u,m):r.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?r.removeAttribute(u):r.setAttribute(u,m);break;case"popover":qt("beforetoggle",r),qt("toggle",r),_n(r,"popover",m);break;case"xlinkActuate":Lt(r,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Lt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Lt(r,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Lt(r,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Lt(r,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Lt(r,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Lt(r,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Lt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Lt(r,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":_n(r,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=il.get(u)||u,_n(r,u,m))}}function yg(r,l,u,m,y,w){switch(u){case"style":Dc(r,m,w);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(u=m.__html,u!=null){if(y.children!=null)throw Error(n(60));r.innerHTML=u}}break;case"children":typeof m=="string"?ii(r,m):(typeof m=="number"||typeof m=="bigint")&&ii(r,""+m);break;case"onScroll":m!=null&&qt("scroll",r);break;case"onScrollEnd":m!=null&&qt("scrollend",r);break;case"onClick":m!=null&&(r.onclick=_f);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ts.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),l=u.slice(2,y?u.length-7:void 0),w=r[Me]||null,w=w!=null?w[u]:null,typeof w=="function"&&r.removeEventListener(l,w,y),typeof m=="function")){typeof w!="function"&&w!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(l,m,y);break e}u in r?r[u]=m:m===!0?r.setAttribute(u,""):_n(r,u,m)}}}function xn(r,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qt("error",r),qt("load",r);var m=!1,y=!1,w;for(w in u)if(u.hasOwnProperty(w)){var O=u[w];if(O!=null)switch(w){case"src":m=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:ps(r,l,w,O,u,null)}}y&&ps(r,l,"srcSet",u.srcSet,u,null),m&&ps(r,l,"src",u.src,u,null);return;case"input":qt("invalid",r);var z=w=O=y=null,se=null,be=null;for(m in u)if(u.hasOwnProperty(m)){var Ee=u[m];if(Ee!=null)switch(m){case"name":y=Ee;break;case"type":O=Ee;break;case"checked":se=Ee;break;case"defaultChecked":be=Ee;break;case"value":w=Ee;break;case"defaultValue":z=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(n(137,l));break;default:ps(r,l,m,Ee,u,null)}}Ou(r,w,z,se,be,O,y,!1),ao(r);return;case"select":qt("invalid",r),m=O=w=null;for(y in u)if(u.hasOwnProperty(y)&&(z=u[y],z!=null))switch(y){case"value":w=z;break;case"defaultValue":O=z;break;case"multiple":m=z;default:ps(r,l,y,z,u,null)}l=w,u=O,r.multiple=!!m,l!=null?Er(r,!!m,l,!1):u!=null&&Er(r,!!m,u,!0);return;case"textarea":qt("invalid",r),w=y=m=null;for(O in u)if(u.hasOwnProperty(O)&&(z=u[O],z!=null))switch(O){case"value":m=z;break;case"defaultValue":y=z;break;case"children":w=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(n(91));break;default:ps(r,l,O,z,u,null)}Ec(r,m,y,w),ao(r);return;case"option":for(se in u)if(u.hasOwnProperty(se)&&(m=u[se],m!=null))switch(se){case"selected":r.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:ps(r,l,se,m,u,null)}return;case"dialog":qt("beforetoggle",r),qt("toggle",r),qt("cancel",r),qt("close",r);break;case"iframe":case"object":qt("load",r);break;case"video":case"audio":for(m=0;m<ud.length;m++)qt(ud[m],r);break;case"image":qt("error",r),qt("load",r);break;case"details":qt("toggle",r);break;case"embed":case"source":case"link":qt("error",r),qt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(be in u)if(u.hasOwnProperty(be)&&(m=u[be],m!=null))switch(be){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:ps(r,l,be,m,u,null)}return;default:if(oo(l)){for(Ee in u)u.hasOwnProperty(Ee)&&(m=u[Ee],m!==void 0&&yg(r,l,Ee,m,u,void 0));return}}for(z in u)u.hasOwnProperty(z)&&(m=u[z],m!=null&&ps(r,l,z,m,u,null))}function tD(r,l,u,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,w=null,O=null,z=null,se=null,be=null,Ee=null;for(Ne in u){var Oe=u[Ne];if(u.hasOwnProperty(Ne)&&Oe!=null)switch(Ne){case"checked":break;case"value":break;case"defaultValue":se=Oe;default:m.hasOwnProperty(Ne)||ps(r,l,Ne,null,m,Oe)}}for(var je in m){var Ne=m[je];if(Oe=u[je],m.hasOwnProperty(je)&&(Ne!=null||Oe!=null))switch(je){case"type":w=Ne;break;case"name":y=Ne;break;case"checked":be=Ne;break;case"defaultChecked":Ee=Ne;break;case"value":O=Ne;break;case"defaultValue":z=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(n(137,l));break;default:Ne!==Oe&&ps(r,l,je,Ne,m,Oe)}}Cc(r,O,z,se,be,Ee,w,y);return;case"select":Ne=O=z=je=null;for(w in u)if(se=u[w],u.hasOwnProperty(w)&&se!=null)switch(w){case"value":break;case"multiple":Ne=se;default:m.hasOwnProperty(w)||ps(r,l,w,null,m,se)}for(y in m)if(w=m[y],se=u[y],m.hasOwnProperty(y)&&(w!=null||se!=null))switch(y){case"value":je=w;break;case"defaultValue":z=w;break;case"multiple":O=w;default:w!==se&&ps(r,l,y,w,m,se)}l=z,u=O,m=Ne,je!=null?Er(r,!!u,je,!1):!!m!=!!u&&(l!=null?Er(r,!!u,l,!0):Er(r,!!u,u?[]:"",!1));return;case"textarea":Ne=je=null;for(z in u)if(y=u[z],u.hasOwnProperty(z)&&y!=null&&!m.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:ps(r,l,z,null,m,y)}for(O in m)if(y=m[O],w=u[O],m.hasOwnProperty(O)&&(y!=null||w!=null))switch(O){case"value":je=y;break;case"defaultValue":Ne=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(n(91));break;default:y!==w&&ps(r,l,O,y,m,w)}io(r,je,Ne);return;case"option":for(var _t in u)if(je=u[_t],u.hasOwnProperty(_t)&&je!=null&&!m.hasOwnProperty(_t))switch(_t){case"selected":r.selected=!1;break;default:ps(r,l,_t,null,m,je)}for(se in m)if(je=m[se],Ne=u[se],m.hasOwnProperty(se)&&je!==Ne&&(je!=null||Ne!=null))switch(se){case"selected":r.selected=je&&typeof je!="function"&&typeof je!="symbol";break;default:ps(r,l,se,je,m,Ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in u)je=u[bt],u.hasOwnProperty(bt)&&je!=null&&!m.hasOwnProperty(bt)&&ps(r,l,bt,null,m,je);for(be in m)if(je=m[be],Ne=u[be],m.hasOwnProperty(be)&&je!==Ne&&(je!=null||Ne!=null))switch(be){case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(n(137,l));break;default:ps(r,l,be,je,m,Ne)}return;default:if(oo(l)){for(var gs in u)je=u[gs],u.hasOwnProperty(gs)&&je!==void 0&&!m.hasOwnProperty(gs)&&yg(r,l,gs,void 0,m,je);for(Ee in m)je=m[Ee],Ne=u[Ee],!m.hasOwnProperty(Ee)||je===Ne||je===void 0&&Ne===void 0||yg(r,l,Ee,je,m,Ne);return}}for(var fe in u)je=u[fe],u.hasOwnProperty(fe)&&je!=null&&!m.hasOwnProperty(fe)&&ps(r,l,fe,null,m,je);for(Oe in m)je=m[Oe],Ne=u[Oe],!m.hasOwnProperty(Oe)||je===Ne||je==null&&Ne==null||ps(r,l,Oe,je,m,Ne)}var bg=null,vg=null;function Tf(r){return r.nodeType===9?r:r.ownerDocument}function aj(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rj(r,l){if(r===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&l==="foreignObject"?0:r}function wg(r,l){return r==="textarea"||r==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var jg=null;function sD(){var r=window.event;return r&&r.type==="popstate"?r===jg?!1:(jg=r,!0):(jg=null,!1)}var ij=typeof setTimeout=="function"?setTimeout:void 0,nD=typeof clearTimeout=="function"?clearTimeout:void 0,oj=typeof Promise=="function"?Promise:void 0,aD=typeof queueMicrotask=="function"?queueMicrotask:typeof oj!="undefined"?function(r){return oj.resolve(null).then(r).catch(rD)}:ij;function rD(r){setTimeout(function(){throw r})}function Ci(r){return r==="head"}function lj(r,l){var u=l,m=0,y=0;do{var w=u.nextSibling;if(r.removeChild(u),w&&w.nodeType===8)if(u=w.data,u==="/$"){if(0<m&&8>m){u=m;var O=r.ownerDocument;if(u&1&&hd(O.documentElement),u&2&&hd(O.body),u&4)for(u=O.head,hd(u),O=u.firstChild;O;){var z=O.nextSibling,se=O.nodeName;O[ut]||se==="SCRIPT"||se==="STYLE"||se==="LINK"&&O.rel.toLowerCase()==="stylesheet"||u.removeChild(O),O=z}}if(y===0){r.removeChild(w),wd(l);return}y--}else u==="$"||u==="$?"||u==="$!"?y++:m=u.charCodeAt(0)-48;else m=0;u=w}while(u);wd(l)}function Ng(r){var l=r.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Ng(u),St(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function iD(r,l,u,m){for(;r.nodeType===1;){var y=u;if(r.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(m){if(!r[ut])switch(l){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(w=r.getAttribute("rel"),w==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(w!==y.rel||r.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||r.getAttribute("title")!==(y.title==null?null:y.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(w=r.getAttribute("src"),(w!==(y.src==null?null:y.src)||r.getAttribute("type")!==(y.type==null?null:y.type)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&w&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(l==="input"&&r.type==="hidden"){var w=y.name==null?null:""+y.name;if(y.type==="hidden"&&r.getAttribute("name")===w)return r}else return r;if(r=za(r.nextSibling),r===null)break}return null}function oD(r,l,u){if(l==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=za(r.nextSibling),r===null))return null;return r}function _g(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function lD(r,l){var u=r.ownerDocument;if(r.data!=="$?"||u.readyState==="complete")l();else{var m=function(){l(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),r._reactRetry=m}}function za(r){for(;r!=null;r=r.nextSibling){var l=r.nodeType;if(l===1||l===3)break;if(l===8){if(l=r.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return r}var Tg=null;function cj(r){r=r.previousSibling;for(var l=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(l===0)return r;l--}else u==="/$"&&l++}r=r.previousSibling}return null}function dj(r,l,u){switch(l=Tf(u),r){case"html":if(r=l.documentElement,!r)throw Error(n(452));return r;case"head":if(r=l.head,!r)throw Error(n(453));return r;case"body":if(r=l.body,!r)throw Error(n(454));return r;default:throw Error(n(451))}}function hd(r){for(var l=r.attributes;l.length;)r.removeAttributeNode(l[0]);St(r)}var ja=new Map,uj=new Set;function Sf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Vr=J.d;J.d={f:cD,r:dD,D:uD,C:fD,L:hD,m:mD,X:gD,S:pD,M:xD};function cD(){var r=Vr.f(),l=xf();return r||l}function dD(r){var l=ys(r);l!==null&&l.tag===5&&l.type==="form"?Av(l):Vr.r(r)}var Ul=typeof document=="undefined"?null:document;function fj(r,l,u){var m=Ul;if(m&&typeof l=="string"&&l){var y=Un(l);y='link[rel="'+r+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),uj.has(y)||(uj.add(y),r={rel:r,crossOrigin:u,href:l},m.querySelector(y)===null&&(l=m.createElement("link"),xn(l,"link",r),ft(l),m.head.appendChild(l)))}}function uD(r){Vr.D(r),fj("dns-prefetch",r,null)}function fD(r,l){Vr.C(r,l),fj("preconnect",r,l)}function hD(r,l,u){Vr.L(r,l,u);var m=Ul;if(m&&r&&l){var y='link[rel="preload"][as="'+Un(l)+'"]';l==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+Un(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+Un(u.imageSizes)+'"]')):y+='[href="'+Un(r)+'"]';var w=y;switch(l){case"style":w=zl(r);break;case"script":w=Hl(r)}ja.has(w)||(r=p({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:r,as:l},u),ja.set(w,r),m.querySelector(y)!==null||l==="style"&&m.querySelector(md(w))||l==="script"&&m.querySelector(pd(w))||(l=m.createElement("link"),xn(l,"link",r),ft(l),m.head.appendChild(l)))}}function mD(r,l){Vr.m(r,l);var u=Ul;if(u&&r){var m=l&&typeof l.as=="string"?l.as:"script",y='link[rel="modulepreload"][as="'+Un(m)+'"][href="'+Un(r)+'"]',w=y;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Hl(r)}if(!ja.has(w)&&(r=p({rel:"modulepreload",href:r},l),ja.set(w,r),u.querySelector(y)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(pd(w)))return}m=u.createElement("link"),xn(m,"link",r),ft(m),u.head.appendChild(m)}}}function pD(r,l,u){Vr.S(r,l,u);var m=Ul;if(m&&r){var y=fs(m).hoistableStyles,w=zl(r);l=l||"default";var O=y.get(w);if(!O){var z={loading:0,preload:null};if(O=m.querySelector(md(w)))z.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":l},u),(u=ja.get(w))&&Sg(r,u);var se=O=m.createElement("link");ft(se),xn(se,"link",r),se._p=new Promise(function(be,Ee){se.onload=be,se.onerror=Ee}),se.addEventListener("load",function(){z.loading|=1}),se.addEventListener("error",function(){z.loading|=2}),z.loading|=4,Cf(O,l,m)}O={type:"stylesheet",instance:O,count:1,state:z},y.set(w,O)}}}function gD(r,l){Vr.X(r,l);var u=Ul;if(u&&r){var m=fs(u).hoistableScripts,y=Hl(r),w=m.get(y);w||(w=u.querySelector(pd(y)),w||(r=p({src:r,async:!0},l),(l=ja.get(y))&&Cg(r,l),w=u.createElement("script"),ft(w),xn(w,"link",r),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(y,w))}}function xD(r,l){Vr.M(r,l);var u=Ul;if(u&&r){var m=fs(u).hoistableScripts,y=Hl(r),w=m.get(y);w||(w=u.querySelector(pd(y)),w||(r=p({src:r,async:!0,type:"module"},l),(l=ja.get(y))&&Cg(r,l),w=u.createElement("script"),ft(w),xn(w,"link",r),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(y,w))}}function hj(r,l,u,m){var y=(y=he.current)?Sf(y):null;if(!y)throw Error(n(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=zl(u.href),u=fs(y).hoistableStyles,m=u.get(l),m||(m={type:"style",instance:null,count:0,state:null},u.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=zl(u.href);var w=fs(y).hoistableStyles,O=w.get(r);if(O||(y=y.ownerDocument||y,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(r,O),(w=y.querySelector(md(r)))&&!w._p&&(O.instance=w,O.state.loading=5),ja.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ja.set(r,u),w||yD(y,r,u,O.state))),l&&m===null)throw Error(n(528,""));return O}if(l&&m!==null)throw Error(n(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Hl(u),u=fs(y).hoistableScripts,m=u.get(l),m||(m={type:"script",instance:null,count:0,state:null},u.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,r))}}function zl(r){return'href="'+Un(r)+'"'}function md(r){return'link[rel="stylesheet"]['+r+"]"}function mj(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function yD(r,l,u,m){r.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=r.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),xn(l,"link",u),ft(l),r.head.appendChild(l))}function Hl(r){return'[src="'+Un(r)+'"]'}function pd(r){return"script[async]"+r}function pj(r,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var m=r.querySelector('style[data-href~="'+Un(u.href)+'"]');if(m)return l.instance=m,ft(m),m;var y=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(r.ownerDocument||r).createElement("style"),ft(m),xn(m,"style",y),Cf(m,u.precedence,r),l.instance=m;case"stylesheet":y=zl(u.href);var w=r.querySelector(md(y));if(w)return l.state.loading|=4,l.instance=w,ft(w),w;m=mj(u),(y=ja.get(y))&&Sg(m,y),w=(r.ownerDocument||r).createElement("link"),ft(w);var O=w;return O._p=new Promise(function(z,se){O.onload=z,O.onerror=se}),xn(w,"link",m),l.state.loading|=4,Cf(w,u.precedence,r),l.instance=w;case"script":return w=Hl(u.src),(y=r.querySelector(pd(w)))?(l.instance=y,ft(y),y):(m=u,(y=ja.get(w))&&(m=p({},u),Cg(m,y)),r=r.ownerDocument||r,y=r.createElement("script"),ft(y),xn(y,"link",m),r.head.appendChild(y),l.instance=y);case"void":return null;default:throw Error(n(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,Cf(m,u.precedence,r));return l.instance}function Cf(r,l,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=m.length?m[m.length-1]:null,w=y,O=0;O<m.length;O++){var z=m[O];if(z.dataset.precedence===l)w=z;else if(w!==y)break}w?w.parentNode.insertBefore(r,w.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(r,l.firstChild))}function Sg(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.title==null&&(r.title=l.title)}function Cg(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.integrity==null&&(r.integrity=l.integrity)}var kf=null;function gj(r,l,u){if(kf===null){var m=new Map,y=kf=new Map;y.set(u,m)}else y=kf,m=y.get(u),m||(m=new Map,y.set(u,m));if(m.has(r))return m;for(m.set(r,null),u=u.getElementsByTagName(r),y=0;y<u.length;y++){var w=u[y];if(!(w[ut]||w[Te]||r==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var O=w.getAttribute(l)||"";O=r+O;var z=m.get(O);z?z.push(w):m.set(O,[w])}}return m}function xj(r,l,u){r=r.ownerDocument||r,r.head.insertBefore(u,l==="title"?r.querySelector("head > title"):null)}function bD(r,l,u){if(u===1||l.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return r=l.disabled,typeof l.precedence=="string"&&r==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function yj(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var gd=null;function vD(){}function wD(r,l,u){if(gd===null)throw Error(n(475));var m=gd;if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=zl(u.href),w=r.querySelector(md(y));if(w){r=w._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(m.count++,m=Ef.bind(m),r.then(m,m)),l.state.loading|=4,l.instance=w,ft(w);return}w=r.ownerDocument||r,u=mj(u),(y=ja.get(y))&&Sg(u,y),w=w.createElement("link"),ft(w);var O=w;O._p=new Promise(function(z,se){O.onload=z,O.onerror=se}),xn(w,"link",u),l.instance=w}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(m.count++,l=Ef.bind(m),r.addEventListener("load",l),r.addEventListener("error",l))}}function jD(){if(gd===null)throw Error(n(475));var r=gd;return r.stylesheets&&r.count===0&&kg(r,r.stylesheets),0<r.count?function(l){var u=setTimeout(function(){if(r.stylesheets&&kg(r,r.stylesheets),r.unsuspend){var m=r.unsuspend;r.unsuspend=null,m()}},6e4);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(u)}}:null}function Ef(){if(this.count--,this.count===0){if(this.stylesheets)kg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Df=null;function kg(r,l){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Df=new Map,l.forEach(ND,r),Df=null,Ef.call(r))}function ND(r,l){if(!(l.state.loading&4)){var u=Df.get(r);if(u)var m=u.get(null);else{u=new Map,Df.set(r,u);for(var y=r.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<y.length;w++){var O=y[w];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(u.set(O.dataset.precedence,O),m=O)}m&&u.set(null,m)}y=l.instance,O=y.getAttribute("data-precedence"),w=u.get(O)||m,w===m&&u.set(null,y),u.set(O,y),this.count++,m=Ef.bind(this),y.addEventListener("load",m),y.addEventListener("error",m),w?w.parentNode.insertBefore(y,w.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(y,r.firstChild)),l.state.loading|=4}}var xd={$$typeof:C,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function _D(r,l,u,m,y,w,O,z){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=It(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=It(0),this.hiddenUpdates=It(null),this.identifierPrefix=m,this.onUncaughtError=y,this.onCaughtError=w,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function bj(r,l,u,m,y,w,O,z,se,be,Ee,Oe){return r=new _D(r,l,u,O,z,se,be,Oe),l=1,w===!0&&(l|=24),w=ea(3,null,null,l),r.current=w,w.stateNode=r,l=cp(),l.refCount++,r.pooledCache=l,l.refCount++,w.memoizedState={element:m,isDehydrated:u,cache:l},hp(w),r}function vj(r){return r?(r=yl,r):yl}function wj(r,l,u,m,y,w){y=vj(y),m.context===null?m.context=y:m.pendingContext=y,m=mi(l),m.payload={element:u},w=w===void 0?null:w,w!==null&&(m.callback=w),u=pi(r,m,l),u!==null&&(ra(u,r,l),Yc(u,r,l))}function jj(r,l){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<l?u:l}}function Eg(r,l){jj(r,l),(r=r.alternate)&&jj(r,l)}function Nj(r){if(r.tag===13){var l=xl(r,67108864);l!==null&&ra(l,r,67108864),Eg(r,67108864)}}var Af=!0;function TD(r,l,u,m){var y=H.T;H.T=null;var w=J.p;try{J.p=2,Dg(r,l,u,m)}finally{J.p=w,H.T=y}}function SD(r,l,u,m){var y=H.T;H.T=null;var w=J.p;try{J.p=8,Dg(r,l,u,m)}finally{J.p=w,H.T=y}}function Dg(r,l,u,m){if(Af){var y=Ag(m);if(y===null)xg(r,l,m,Of,u),Tj(r,m);else if(kD(y,r,l,u,m))m.stopPropagation();else if(Tj(r,m),l&4&&-1<CD.indexOf(r)){for(;y!==null;){var w=ys(y);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var O=Xt(w.pendingLanes);if(O!==0){var z=w;for(z.pendingLanes|=2,z.entangledLanes|=2;O;){var se=1<<31-jt(O);z.entanglements[1]|=se,O&=~se}ir(w),(ls&6)===0&&(pf=Le()+500,dd(0))}}break;case 13:z=xl(w,2),z!==null&&ra(z,w,2),xf(),Eg(w,2)}if(w=Ag(m),w===null&&xg(r,l,m,Of,u),w===y)break;y=w}y!==null&&m.stopPropagation()}else xg(r,l,m,null,u)}}function Ag(r){return r=lo(r),Og(r)}var Of=null;function Og(r){if(Of=null,r=Rt(r),r!==null){var l=o(r);if(l===null)r=null;else{var u=l.tag;if(u===13){if(r=c(l),r!==null)return r;r=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;r=null}else l!==r&&(r=null)}}return Of=r,null}function _j(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nt()){case lt:return 2;case Q:return 8;case me:case X:return 32;case Se:return 268435456;default:return 32}default:return 32}}var Rg=!1,ki=null,Ei=null,Di=null,yd=new Map,bd=new Map,Ai=[],CD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tj(r,l){switch(r){case"focusin":case"focusout":ki=null;break;case"dragenter":case"dragleave":Ei=null;break;case"mouseover":case"mouseout":Di=null;break;case"pointerover":case"pointerout":yd.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":bd.delete(l.pointerId)}}function vd(r,l,u,m,y,w){return r===null||r.nativeEvent!==w?(r={blockedOn:l,domEventName:u,eventSystemFlags:m,nativeEvent:w,targetContainers:[y]},l!==null&&(l=ys(l),l!==null&&Nj(l)),r):(r.eventSystemFlags|=m,l=r.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),r)}function kD(r,l,u,m,y){switch(l){case"focusin":return ki=vd(ki,r,l,u,m,y),!0;case"dragenter":return Ei=vd(Ei,r,l,u,m,y),!0;case"mouseover":return Di=vd(Di,r,l,u,m,y),!0;case"pointerover":var w=y.pointerId;return yd.set(w,vd(yd.get(w)||null,r,l,u,m,y)),!0;case"gotpointercapture":return w=y.pointerId,bd.set(w,vd(bd.get(w)||null,r,l,u,m,y)),!0}return!1}function Sj(r){var l=Rt(r.target);if(l!==null){var u=o(l);if(u!==null){if(l=u.tag,l===13){if(l=c(u),l!==null){r.blockedOn=l,ce(r.priority,function(){if(u.tag===13){var m=aa();m=Qt(m);var y=xl(u,m);y!==null&&ra(y,u,m),Eg(u,m)}});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Rf(r){if(r.blockedOn!==null)return!1;for(var l=r.targetContainers;0<l.length;){var u=Ag(r.nativeEvent);if(u===null){u=r.nativeEvent;var m=new u.constructor(u.type,u);Ac=m,u.target.dispatchEvent(m),Ac=null}else return l=ys(u),l!==null&&Nj(l),r.blockedOn=u,!1;l.shift()}return!0}function Cj(r,l,u){Rf(r)&&u.delete(l)}function ED(){Rg=!1,ki!==null&&Rf(ki)&&(ki=null),Ei!==null&&Rf(Ei)&&(Ei=null),Di!==null&&Rf(Di)&&(Di=null),yd.forEach(Cj),bd.forEach(Cj)}function Mf(r,l){r.blockedOn===l&&(r.blockedOn=null,Rg||(Rg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ED)))}var Pf=null;function kj(r){Pf!==r&&(Pf=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Pf===r&&(Pf=null);for(var l=0;l<r.length;l+=3){var u=r[l],m=r[l+1],y=r[l+2];if(typeof m!="function"){if(Og(m||u)===null)continue;break}var w=ys(u);w!==null&&(r.splice(l,3),l-=3,Op(w,{pending:!0,data:y,method:u.method,action:m},m,y))}}))}function wd(r){function l(se){return Mf(se,r)}ki!==null&&Mf(ki,r),Ei!==null&&Mf(Ei,r),Di!==null&&Mf(Di,r),yd.forEach(l),bd.forEach(l);for(var u=0;u<Ai.length;u++){var m=Ai[u];m.blockedOn===r&&(m.blockedOn=null)}for(;0<Ai.length&&(u=Ai[0],u.blockedOn===null);)Sj(u),u.blockedOn===null&&Ai.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var y=u[m],w=u[m+1],O=y[Me]||null;if(typeof w=="function")O||kj(u);else if(O){var z=null;if(w&&w.hasAttribute("formAction")){if(y=w,O=w[Me]||null)z=O.formAction;else if(Og(y)!==null)continue}else z=O.action;typeof z=="function"?u[m+1]=z:(u.splice(m,3),m-=3),kj(u)}}}function Mg(r){this._internalRoot=r}Lf.prototype.render=Mg.prototype.render=function(r){var l=this._internalRoot;if(l===null)throw Error(n(409));var u=l.current,m=aa();wj(u,m,r,l,null,null)},Lf.prototype.unmount=Mg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var l=r.containerInfo;wj(r.current,2,null,r,null,null),xf(),l[Ye]=null}};function Lf(r){this._internalRoot=r}Lf.prototype.unstable_scheduleHydration=function(r){if(r){var l=ae();r={blockedOn:null,target:r,priority:l};for(var u=0;u<Ai.length&&l!==0&&l<Ai[u].priority;u++);Ai.splice(u,0,r),u===0&&Sj(r)}};var Ej=t.version;if(Ej!=="19.1.1")throw Error(n(527,Ej,"19.1.1"));J.findDOMNode=function(r){var l=r._reactInternals;if(l===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=h(l),r=r!==null?f(r):null,r=r===null?null:r.stateNode,r};var DD={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Bf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bf.isDisabled&&Bf.supportsFiber)try{We=Bf.inject(DD),Ke=Bf}catch(r){}}return Nd.createRoot=function(r,l){if(!i(r))throw Error(n(299));var u=!1,m="",y=qv,w=Wv,O=Yv,z=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(O=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(z=l.unstable_transitionCallbacks)),l=bj(r,1,!1,null,null,u,m,y,w,O,z,null),r[Ye]=l.current,gg(r),new Mg(l)},Nd.hydrateRoot=function(r,l,u){if(!i(r))throw Error(n(299));var m=!1,y="",w=qv,O=Wv,z=Yv,se=null,be=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(O=u.onCaughtError),u.onRecoverableError!==void 0&&(z=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(se=u.unstable_transitionCallbacks),u.formState!==void 0&&(be=u.formState)),l=bj(r,1,!0,l,u!=null?u:null,m,y,w,O,z,se,be),l.context=vj(null),u=l.current,m=aa(),m=Qt(m),y=mi(m),y.callback=null,pi(u,y,m),u=m,l.current.lanes=u,Et(l,u),ir(l),r[Ye]=l.current,gg(r),new Lf(l)},Nd.version="19.1.1",Nd}var $j;function qD(){if($j)return zg.exports;$j=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),zg.exports=VD(),zg.exports}var WD=qD();const YD=U0(WD);var GD=Object.defineProperty,XD=(e,t,s)=>t in e?GD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Do=(e,t,s)=>XD(e,typeof t!="symbol"?t+"":t,s),KD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Il={},_d={},Ha={},Ij;function a2(){if(Ij)return Ha;Ij=1;var e=Ha&&Ha.__assign||function(){return e=Object.assign||function(i){for(var o,c=1,d=arguments.length;c<d;c++){o=arguments[c];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(i[h]=o[h])}return i},e.apply(this,arguments)},t=Ha&&Ha.__awaiter||function(i,o,c,d){function h(f){return f instanceof c?f:new c(function(p){p(f)})}return new(c||(c=Promise))(function(f,p){function g(j){try{b(d.next(j))}catch(v){p(v)}}function x(j){try{b(d.throw(j))}catch(v){p(v)}}function b(j){j.done?f(j.value):h(j.value).then(g,x)}b((d=d.apply(i,o||[])).next())})},s=Ha&&Ha.__generator||function(i,o){var c={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},d,h,f,p;return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(b){return function(j){return x([b,j])}}function x(b){if(d)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(c=0)),c;)try{if(d=1,h&&(f=b[0]&2?h.return:b[0]?h.throw||((f=h.return)&&f.call(h),0):h.next)&&!(f=f.call(h,b[1])).done)return f;switch(h=0,f&&(b=[b[0]&2,f.value]),b[0]){case 0:case 1:f=b;break;case 4:return c.label++,{value:b[1],done:!1};case 5:c.label++,h=b[1],b=[0];continue;case 7:b=c.ops.pop(),c.trys.pop();continue;default:if(f=c.trys,!(f=f.length>0&&f[f.length-1])&&(b[0]===6||b[0]===2)){c=0;continue}if(b[0]===3&&(!f||b[1]>f[0]&&b[1]<f[3])){c.label=b[1];break}if(b[0]===6&&c.label<f[1]){c.label=f[1],f=b;break}if(f&&c.label<f[2]){c.label=f[2],c.ops.push(b);break}f[2]&&c.ops.pop(),c.trys.pop();continue}b=o.call(i,c)}catch(j){b=[6,j],h=0}finally{d=f=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}};Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.FrappeCall=void 0;var n=function(){function i(o,c,d,h,f){this.appURL=o,this.axios=c,this.useToken=d!=null?d:!1,this.token=h,this.tokenType=f}return i.prototype.get=function(o,c){return t(this,void 0,void 0,function(){var d;return s(this,function(h){return d=new URLSearchParams,c&&Object.entries(c).forEach(function(f){var p=f[0],g=f[1];if(g!=null){var x=typeof g=="object"?JSON.stringify(g):g;d.set(p,x)}}),[2,this.axios.get("/api/method/".concat(o),{params:d}).then(function(f){return f.data}).catch(function(f){var p,g;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(p=f.response.data.message)!==null&&p!==void 0?p:"There was an error.",exception:(g=f.response.data.exception)!==null&&g!==void 0?g:""})})]})})},i.prototype.post=function(o,c){return t(this,void 0,void 0,function(){return s(this,function(d){return[2,this.axios.post("/api/method/".concat(o),e({},c)).then(function(h){return h.data}).catch(function(h){var f,p;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(f=h.response.data.message)!==null&&f!==void 0?f:"There was an error.",exception:(p=h.response.data.exception)!==null&&p!==void 0?p:""})})]})})},i.prototype.put=function(o,c){return t(this,void 0,void 0,function(){return s(this,function(d){return[2,this.axios.put("/api/method/".concat(o),e({},c)).then(function(h){return h.data}).catch(function(h){var f,p;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(f=h.response.data.message)!==null&&f!==void 0?f:"There was an error.",exception:(p=h.response.data.exception)!==null&&p!==void 0?p:""})})]})})},i.prototype.delete=function(o,c){return t(this,void 0,void 0,function(){return s(this,function(d){return[2,this.axios.delete("/api/method/".concat(o),{params:c}).then(function(h){return h.data}).catch(function(h){var f,p;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(f=h.response.data.message)!==null&&f!==void 0?f:"There was an error.",exception:(p=h.response.data.exception)!==null&&p!==void 0?p:""})})]})})},i}();return Ha.FrappeCall=n,Ha}var $a={},Vj;function r2(){if(Vj)return $a;Vj=1;var e=$a&&$a.__assign||function(){return e=Object.assign||function(i){for(var o,c=1,d=arguments.length;c<d;c++){o=arguments[c];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(i[h]=o[h])}return i},e.apply(this,arguments)},t=$a&&$a.__awaiter||function(i,o,c,d){function h(f){return f instanceof c?f:new c(function(p){p(f)})}return new(c||(c=Promise))(function(f,p){function g(j){try{b(d.next(j))}catch(v){p(v)}}function x(j){try{b(d.throw(j))}catch(v){p(v)}}function b(j){j.done?f(j.value):h(j.value).then(g,x)}b((d=d.apply(i,o||[])).next())})},s=$a&&$a.__generator||function(i,o){var c={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},d,h,f,p;return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(b){return function(j){return x([b,j])}}function x(b){if(d)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(c=0)),c;)try{if(d=1,h&&(f=b[0]&2?h.return:b[0]?h.throw||((f=h.return)&&f.call(h),0):h.next)&&!(f=f.call(h,b[1])).done)return f;switch(h=0,f&&(b=[b[0]&2,f.value]),b[0]){case 0:case 1:f=b;break;case 4:return c.label++,{value:b[1],done:!1};case 5:c.label++,h=b[1],b=[0];continue;case 7:b=c.ops.pop(),c.trys.pop();continue;default:if(f=c.trys,!(f=f.length>0&&f[f.length-1])&&(b[0]===6||b[0]===2)){c=0;continue}if(b[0]===3&&(!f||b[1]>f[0]&&b[1]<f[3])){c.label=b[1];break}if(b[0]===6&&c.label<f[1]){c.label=f[1],f=b;break}if(f&&c.label<f[2]){c.label=f[2],c.ops.push(b);break}f[2]&&c.ops.pop(),c.trys.pop();continue}b=o.call(i,c)}catch(j){b=[6,j],h=0}finally{d=f=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}};Object.defineProperty($a,"__esModule",{value:!0}),$a.FrappeDB=void 0;var n=function(){function i(o,c,d,h,f){this.appURL=o,this.axios=c,this.useToken=d!=null?d:!1,this.token=h,this.tokenType=f}return i.prototype.getDoc=function(o,c){return c===void 0&&(c=""),t(this,void 0,void 0,function(){return s(this,function(d){return[2,this.axios.get("/api/resource/".concat(o,"/").concat(encodeURIComponent(c))).then(function(h){return h.data.data}).catch(function(h){var f,p;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:"There was an error while fetching the document.",exception:(p=(f=h.response.data.exception)!==null&&f!==void 0?f:h.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},i.prototype.getDocList=function(o,c){var d;return t(this,void 0,void 0,function(){var h,f,p,g,x,b,j,v,_,T,A;return s(this,function(C){return h={},c&&(f=c.fields,p=c.filters,g=c.orFilters,x=c.orderBy,b=c.limit,j=c.limit_start,v=c.groupBy,_=c.asDict,T=_===void 0?!0:_,A=x?"".concat(String(x==null?void 0:x.field)," ").concat((d=x==null?void 0:x.order)!==null&&d!==void 0?d:"asc"):"",h={fields:f?JSON.stringify(f):void 0,filters:p?JSON.stringify(p):void 0,or_filters:g?JSON.stringify(g):void 0,order_by:A,group_by:v,limit:b,limit_start:j,as_dict:T}),[2,this.axios.get("/api/resource/".concat(o),{params:h}).then(function(S){return S.data.data}).catch(function(S){var D,E;throw e(e({},S.response.data),{httpStatus:S.response.status,httpStatusText:S.response.statusText,message:"There was an error while fetching the documents.",exception:(E=(D=S.response.data.exception)!==null&&D!==void 0?D:S.response.data.exc_type)!==null&&E!==void 0?E:""})})]})})},i.prototype.createDoc=function(o,c){return t(this,void 0,void 0,function(){return s(this,function(d){return[2,this.axios.post("/api/resource/".concat(o),e({},c)).then(function(h){return h.data.data}).catch(function(h){var f,p,g;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(f=h.response.data.message)!==null&&f!==void 0?f:"There was an error while creating the document.",exception:(g=(p=h.response.data.exception)!==null&&p!==void 0?p:h.response.data.exc_type)!==null&&g!==void 0?g:""})})]})})},i.prototype.updateDoc=function(o,c,d){return t(this,void 0,void 0,function(){return s(this,function(h){return[2,this.axios.put("/api/resource/".concat(o,"/").concat(c&&encodeURIComponent(c)),e({},d)).then(function(f){return f.data.data}).catch(function(f){var p,g,x;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(p=f.response.data.message)!==null&&p!==void 0?p:"There was an error while updating the document.",exception:(x=(g=f.response.data.exception)!==null&&g!==void 0?g:f.response.data.exc_type)!==null&&x!==void 0?x:""})})]})})},i.prototype.deleteDoc=function(o,c){return t(this,void 0,void 0,function(){return s(this,function(d){return[2,this.axios.delete("/api/resource/".concat(o,"/").concat(c&&encodeURIComponent(c))).then(function(h){return h.data}).catch(function(h){var f,p;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:"There was an error while deleting the document.",exception:(p=(f=h.response.data.exception)!==null&&f!==void 0?f:h.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},i.prototype.getCount=function(o,c,d,h){return d===void 0&&(d=!1),h===void 0&&(h=!1),t(this,void 0,void 0,function(){var f;return s(this,function(p){return f={doctype:o,filters:[]},d&&(f.cache=d),h&&(f.debug=h),c&&(f.filters=c?JSON.stringify(c):void 0),[2,this.axios.get("/api/method/frappe.client.get_count",{params:f}).then(function(g){return g.data.message}).catch(function(g){var x,b;throw e(e({},g.response.data),{httpStatus:g.response.status,httpStatusText:g.response.statusText,message:"There was an error while getting the count.",exception:(b=(x=g.response.data.exception)!==null&&x!==void 0?x:g.response.data.exc_type)!==null&&b!==void 0?b:""})})]})})},i.prototype.getLastDoc=function(o,c){return t(this,void 0,void 0,function(){var d,h;return s(this,function(f){switch(f.label){case 0:return d={orderBy:{field:"creation",order:"desc"}},c&&(d=e(e({},d),c)),[4,this.getDocList(o,e(e({},d),{limit:1,fields:["name"]}))];case 1:return h=f.sent(),h.length>0?[2,this.getDoc(o,h[0].name)]:[2,{}]}})})},i.prototype.renameDoc=function(o,c,d,h){return h===void 0&&(h=!1),t(this,void 0,void 0,function(){return s(this,function(f){return[2,this.axios.post("/api/method/frappe.client.rename_doc",{doctype:o,old_name:c,new_name:d,merge:h}).then(function(p){return p.data}).catch(function(p){var g,x,b;throw e(e({},p.response.data),{httpStatus:p.response.status,httpStatusText:p.response.statusText,message:(g=p.response.data.message)!==null&&g!==void 0?g:"There was an error while renaming the document.",exception:(b=(x=p.response.data.exception)!==null&&x!==void 0?x:p.response.data.exc_type)!==null&&b!==void 0?b:""})})]})})},i.prototype.getValue=function(o,c,d,h,f,p){return h===void 0&&(h=!0),f===void 0&&(f=!1),p===void 0&&(p=null),t(this,void 0,void 0,function(){var g;return s(this,function(x){return g={doctype:o,fieldname:"[]",filters:[],as_dict:h,debug:f,parent:null},c&&(g.fieldname=typeof c=="object"?JSON.stringify(c):c),d&&(g.filters=d?JSON.stringify(d):void 0),p&&(g.parent=p),[2,this.axios.get("/api/method/frappe.client.get_value",{params:g}).then(function(b){return b.data}).catch(function(b){var j,v;throw e(e({},b.response.data),{httpStatus:b.response.status,httpStatusText:b.response.statusText,message:"There was an error while getting the value.",exception:(v=(j=b.response.data.exception)!==null&&j!==void 0?j:b.response.data.exc_type)!==null&&v!==void 0?v:""})})]})})},i.prototype.setValue=function(o,c,d,h){return t(this,void 0,void 0,function(){return s(this,function(f){return d!==null&&typeof d=="object"&&!Array.isArray(d)&&(h=void 0),[2,this.axios.post("/api/method/frappe.client.set_value",{doctype:o,name:c,fieldname:d,value:h}).then(function(p){return p.data}).catch(function(p){var g,x;throw e(e({},p.response.data),{httpStatus:p.response.status,httpStatusText:p.response.statusText,message:"There was an error while setting the value.",exception:(x=(g=p.response.data.exception)!==null&&g!==void 0?g:p.response.data.exc_type)!==null&&x!==void 0?x:""})})]})})},i.prototype.getSingleValue=function(o,c){return t(this,void 0,void 0,function(){var d;return s(this,function(h){return d={doctype:o,field:c},[2,this.axios.get("/api/method/frappe.client.get_single_value",{params:d}).then(function(f){return f.data}).catch(function(f){var p,g;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while getting the value of single doctype.",exception:(g=(p=f.response.data.exception)!==null&&p!==void 0?p:f.response.data.exc_type)!==null&&g!==void 0?g:""})})]})})},i.prototype.submit=function(o){return t(this,void 0,void 0,function(){return s(this,function(c){return[2,this.axios.post("/api/method/frappe.client.submit",{doc:o}).then(function(d){return d.data.message}).catch(function(d){var h,f;throw e(e({},d.response.data),{httpStatus:d.response.status,httpStatusText:d.response.statusText,message:"There was an error while submitting the document.",exception:(f=(h=d.response.data.exception)!==null&&h!==void 0?h:d.response.data.exc_type)!==null&&f!==void 0?f:""})})]})})},i.prototype.cancel=function(o,c){return t(this,void 0,void 0,function(){return s(this,function(d){return[2,this.axios.post("/api/method/frappe.client.cancel",{doctype:o,name:c}).then(function(h){return h.data}).catch(function(h){var f,p;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:"There was an error while cancelling the document.",exception:(p=(f=h.response.data.exception)!==null&&f!==void 0?f:h.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},i}();return $a.FrappeDB=n,$a}var Ia={},qr={};/*! Axios v1.8.2 Copyright (c) 2025 Matt Zabriskie and contributors */var Vg,qj;function QD(){if(qj)return Vg;qj=1;function e(k,L){return function(){return k.apply(L,arguments)}}const{toString:t}=Object.prototype,{getPrototypeOf:s}=Object,n=(k=>L=>{const V=t.call(L);return k[V]||(k[V]=V.slice(8,-1).toLowerCase())})(Object.create(null)),i=k=>(k=k.toLowerCase(),L=>n(L)===k),o=k=>L=>typeof L===k,{isArray:c}=Array,d=o("undefined");function h(k){return k!==null&&!d(k)&&k.constructor!==null&&!d(k.constructor)&&x(k.constructor.isBuffer)&&k.constructor.isBuffer(k)}const f=i("ArrayBuffer");function p(k){let L;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?L=ArrayBuffer.isView(k):L=k&&k.buffer&&f(k.buffer),L}const g=o("string"),x=o("function"),b=o("number"),j=k=>k!==null&&typeof k=="object",v=k=>k===!0||k===!1,_=k=>{if(n(k)!=="object")return!1;const L=s(k);return(L===null||L===Object.prototype||Object.getPrototypeOf(L)===null)&&!(Symbol.toStringTag in k)&&!(Symbol.iterator in k)},T=i("Date"),A=i("File"),C=i("Blob"),S=i("FileList"),D=k=>j(k)&&x(k.pipe),E=k=>{let L;return k&&(typeof FormData=="function"&&k instanceof FormData||x(k.append)&&((L=n(k))==="formdata"||L==="object"&&x(k.toString)&&k.toString()==="[object FormData]"))},B=i("URLSearchParams"),[U,R,K,W]=["ReadableStream","Request","Response","Headers"].map(i),Z=k=>k.trim?k.trim():k.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function q(k,L,{allOwnKeys:V=!1}={}){if(k===null||typeof k>"u")return;let Y,ue;if(typeof k!="object"&&(k=[k]),c(k))for(Y=0,ue=k.length;Y<ue;Y++)L.call(null,k[Y],Y,k);else{const pe=V?Object.getOwnPropertyNames(k):Object.keys(k),ve=pe.length;let Ie;for(Y=0;Y<ve;Y++)Ie=pe[Y],L.call(null,k[Ie],Ie,k)}}function G(k,L){L=L.toLowerCase();const V=Object.keys(k);let Y=V.length,ue;for(;Y-- >0;)if(ue=V[Y],L===ue.toLowerCase())return ue;return null}const I=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:KD,H=k=>!d(k)&&k!==I;function J(){const{caseless:k}=H(this)&&this||{},L={},V=(Y,ue)=>{const pe=k&&G(L,ue)||ue;_(L[pe])&&_(Y)?L[pe]=J(L[pe],Y):_(Y)?L[pe]=J({},Y):c(Y)?L[pe]=Y.slice():L[pe]=Y};for(let Y=0,ue=arguments.length;Y<ue;Y++)arguments[Y]&&q(arguments[Y],V);return L}const te=(k,L,V,{allOwnKeys:Y}={})=>(q(L,(ue,pe)=>{V&&x(ue)?k[pe]=e(ue,V):k[pe]=ue},{allOwnKeys:Y}),k),de=k=>(k.charCodeAt(0)===65279&&(k=k.slice(1)),k),P=(k,L,V,Y)=>{k.prototype=Object.create(L.prototype,Y),k.prototype.constructor=k,Object.defineProperty(k,"super",{value:L.prototype}),V&&Object.assign(k.prototype,V)},ie=(k,L,V,Y)=>{let ue,pe,ve;const Ie={};if(L=L||{},k==null)return L;do{for(ue=Object.getOwnPropertyNames(k),pe=ue.length;pe-- >0;)ve=ue[pe],(!Y||Y(ve,k,L))&&!Ie[ve]&&(L[ve]=k[ve],Ie[ve]=!0);k=V!==!1&&s(k)}while(k&&(!V||V(k,L))&&k!==Object.prototype);return L},ne=(k,L,V)=>{k=String(k),(V===void 0||V>k.length)&&(V=k.length),V-=L.length;const Y=k.indexOf(L,V);return Y!==-1&&Y===V},$=k=>{if(!k)return null;if(c(k))return k;let L=k.length;if(!b(L))return null;const V=new Array(L);for(;L-- >0;)V[L]=k[L];return V},ee=(k=>L=>k&&L instanceof k)(typeof Uint8Array<"u"&&s(Uint8Array)),xe=(k,L)=>{const V=(k&&k[Symbol.iterator]).call(k);let Y;for(;(Y=V.next())&&!Y.done;){const ue=Y.value;L.call(k,ue[0],ue[1])}},he=(k,L)=>{let V;const Y=[];for(;(V=k.exec(L))!==null;)Y.push(V);return Y},ke=i("HTMLFormElement"),Ae=k=>k.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(L,V,Y){return V.toUpperCase()+Y}),Ve=(({hasOwnProperty:k})=>(L,V)=>k.call(L,V))(Object.prototype),ze=i("RegExp"),M=(k,L)=>{const V=Object.getOwnPropertyDescriptors(k),Y={};q(V,(ue,pe)=>{let ve;(ve=L(ue,pe,k))!==!1&&(Y[pe]=ve||ue)}),Object.defineProperties(k,Y)},_e=k=>{M(k,(L,V)=>{if(x(k)&&["arguments","caller","callee"].indexOf(V)!==-1)return!1;const Y=k[V];if(x(Y)){if(L.enumerable=!1,"writable"in L){L.writable=!1;return}L.set||(L.set=()=>{throw Error("Can not rewrite read-only method '"+V+"'")})}})},He=(k,L)=>{const V={},Y=ue=>{ue.forEach(pe=>{V[pe]=!0})};return c(k)?Y(k):Y(String(k).split(L)),V},Ue=()=>{},mt=(k,L)=>k!=null&&Number.isFinite(k=+k)?k:L;function tt(k){return!!(k&&x(k.append)&&k[Symbol.toStringTag]==="FormData"&&k[Symbol.iterator])}const Le=k=>{const L=new Array(10),V=(Y,ue)=>{if(j(Y)){if(L.indexOf(Y)>=0)return;if(!("toJSON"in Y)){L[ue]=Y;const pe=c(Y)?[]:{};return q(Y,(ve,Ie)=>{const gt=V(ve,ue+1);!d(gt)&&(pe[Ie]=gt)}),L[ue]=void 0,pe}}return Y};return V(k,0)},nt=i("AsyncFunction"),lt=k=>k&&(j(k)||x(k))&&x(k.then)&&x(k.catch),Q=((k,L)=>k?setImmediate:L?((V,Y)=>(I.addEventListener("message",({source:ue,data:pe})=>{ue===I&&pe===V&&Y.length&&Y.shift()()},!1),ue=>{Y.push(ue),I.postMessage(V,"*")}))(`axios@${Math.random()}`,[]):V=>setTimeout(V))(typeof setImmediate=="function",x(I.postMessage)),me=typeof queueMicrotask<"u"?queueMicrotask.bind(I):typeof process<"u"&&process.nextTick||Q;var X={isArray:c,isArrayBuffer:f,isBuffer:h,isFormData:E,isArrayBufferView:p,isString:g,isNumber:b,isBoolean:v,isObject:j,isPlainObject:_,isReadableStream:U,isRequest:R,isResponse:K,isHeaders:W,isUndefined:d,isDate:T,isFile:A,isBlob:C,isRegExp:ze,isFunction:x,isStream:D,isURLSearchParams:B,isTypedArray:ee,isFileList:S,forEach:q,merge:J,extend:te,trim:Z,stripBOM:de,inherits:P,toFlatObject:ie,kindOf:n,kindOfTest:i,endsWith:ne,toArray:$,forEachEntry:xe,matchAll:he,isHTMLForm:ke,hasOwnProperty:Ve,hasOwnProp:Ve,reduceDescriptors:M,freezeMethods:_e,toObjectSet:He,toCamelCase:Ae,noop:Ue,toFiniteNumber:mt,findKey:G,global:I,isContextDefined:H,isSpecCompliantForm:tt,toJSONObject:Le,isAsyncFn:nt,isThenable:lt,setImmediate:Q,asap:me};function Se(k,L,V,Y,ue){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=k,this.name="AxiosError",L&&(this.code=L),V&&(this.config=V),Y&&(this.request=Y),ue&&(this.response=ue,this.status=ue.status?ue.status:null)}X.inherits(Se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const Fe=Se.prototype,Pe={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(k=>{Pe[k]={value:k}}),Object.defineProperties(Se,Pe),Object.defineProperty(Fe,"isAxiosError",{value:!0}),Se.from=(k,L,V,Y,ue,pe)=>{const ve=Object.create(Fe);return X.toFlatObject(k,ve,function(Ie){return Ie!==Error.prototype},Ie=>Ie!=="isAxiosError"),Se.call(ve,k.message,L,V,Y,ue),ve.cause=k,ve.name=k.name,pe&&Object.assign(ve,pe),ve};var We=null;function Ke(k){return X.isPlainObject(k)||X.isArray(k)}function st(k){return X.endsWith(k,"[]")?k.slice(0,-2):k}function jt(k,L,V){return k?k.concat(L).map(function(Y,ue){return Y=st(Y),!V&&ue?"["+Y+"]":Y}).join(V?".":""):L}function Ce(k){return X.isArray(k)&&!k.some(Ke)}const Be=X.toFlatObject(X,{},null,function(k){return/^is[A-Z]/.test(k)});function Ge(k,L,V){if(!X.isObject(k))throw new TypeError("target must be an object");L=L||new FormData,V=X.toFlatObject(V,{metaTokens:!0,dots:!1,indexes:!1},!1,function(At,yt){return!X.isUndefined(yt[At])});const Y=V.metaTokens,ue=V.visitor||qe,pe=V.dots,ve=V.indexes,Ie=(V.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(L);if(!X.isFunction(ue))throw new TypeError("visitor must be a function");function gt(At){if(At===null)return"";if(X.isDate(At))return At.toISOString();if(!Ie&&X.isBlob(At))throw new Se("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(At)||X.isTypedArray(At)?Ie&&typeof Blob=="function"?new Blob([At]):Buffer.from(At):At}function qe(At,yt,dt){let ln=At;if(At&&!dt&&typeof At=="object"){if(X.endsWith(yt,"{}"))yt=Y?yt:yt.slice(0,-2),At=JSON.stringify(At);else if(X.isArray(At)&&Ce(At)||(X.isFileList(At)||X.endsWith(yt,"[]"))&&(ln=X.toArray(At)))return yt=st(yt),ln.forEach(function(Ws,Es){!(X.isUndefined(Ws)||Ws===null)&&L.append(ve===!0?jt([yt],Es,pe):ve===null?yt:yt+"[]",gt(Ws))}),!1}return Ke(At)?!0:(L.append(jt(dt,yt,pe),gt(At)),!1)}const Ze=[],vt=Object.assign(Be,{defaultVisitor:qe,convertValue:gt,isVisitable:Ke});function hs(At,yt){if(!X.isUndefined(At)){if(Ze.indexOf(At)!==-1)throw Error("Circular reference detected in "+yt.join("."));Ze.push(At),X.forEach(At,function(dt,ln){(!(X.isUndefined(dt)||dt===null)&&ue.call(L,dt,X.isString(ln)?ln.trim():ln,yt,vt))===!0&&hs(dt,yt?yt.concat(ln):[ln])}),Ze.pop()}}if(!X.isObject(k))throw new TypeError("data must be an object");return hs(k),L}function zt(k){const L={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(k).replace(/[!'()~]|%20|%00/g,function(V){return L[V]})}function Gt(k,L){this._pairs=[],k&&Ge(k,this,L)}const Xt=Gt.prototype;Xt.append=function(k,L){this._pairs.push([k,L])},Xt.toString=function(k){const L=k?function(V){return k.call(this,V,zt)}:zt;return this._pairs.map(function(V){return L(V[0])+"="+L(V[1])},"").join("&")};function os(k){return encodeURIComponent(k).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function qs(k,L,V){if(!L)return k;const Y=V&&V.encode||os;X.isFunction(V)&&(V={serialize:V});const ue=V&&V.serialize;let pe;if(ue?pe=ue(L,V):pe=X.isURLSearchParams(L)?L.toString():new Gt(L,V).toString(Y),pe){const ve=k.indexOf("#");ve!==-1&&(k=k.slice(0,ve)),k+=(k.indexOf("?")===-1?"?":"&")+pe}return k}class rn{constructor(){this.handlers=[]}use(L,V,Y){return this.handlers.push({fulfilled:L,rejected:V,synchronous:Y?Y.synchronous:!1,runWhen:Y?Y.runWhen:null}),this.handlers.length-1}eject(L){this.handlers[L]&&(this.handlers[L]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(L){X.forEach(this.handlers,function(V){V!==null&&L(V)})}}var Je=rn,Bt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},It=typeof URLSearchParams<"u"?URLSearchParams:Gt,Et=typeof FormData<"u"?FormData:null,rs=typeof Blob<"u"?Blob:null,et={isBrowser:!0,classes:{URLSearchParams:It,FormData:Et,Blob:rs},protocols:["http","https","file","blob","url","data"]};const Ct=typeof window<"u"&&typeof document<"u",Qt=typeof navigator=="object"&&navigator||void 0,es=Ct&&(!Qt||["ReactNative","NativeScript","NS"].indexOf(Qt.product)<0),ae=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ce=Ct&&window.location.href||"http://localhost";var ge=Object.freeze({__proto__:null,hasBrowserEnv:Ct,hasStandardBrowserWebWorkerEnv:ae,hasStandardBrowserEnv:es,navigator:Qt,origin:ce}),Te=F(F({},ge),et);function Me(k,L){return Ge(k,new Te.classes.URLSearchParams,Object.assign({visitor:function(V,Y,ue,pe){return Te.isNode&&X.isBuffer(V)?(this.append(Y,V.toString("base64")),!1):pe.defaultVisitor.apply(this,arguments)}},L))}function Ye(k){return X.matchAll(/\w+|\[(\w*)]/g,k).map(L=>L[0]==="[]"?"":L[1]||L[0])}function at(k){const L={},V=Object.keys(k);let Y;const ue=V.length;let pe;for(Y=0;Y<ue;Y++)pe=V[Y],L[pe]=k[pe];return L}function ct(k){function L(V,Y,ue,pe){let ve=V[pe++];if(ve==="__proto__")return!0;const Ie=Number.isFinite(+ve),gt=pe>=V.length;return ve=!ve&&X.isArray(ue)?ue.length:ve,gt?(X.hasOwnProp(ue,ve)?ue[ve]=[ue[ve],Y]:ue[ve]=Y,!Ie):((!ue[ve]||!X.isObject(ue[ve]))&&(ue[ve]=[]),L(V,Y,ue[ve],pe)&&X.isArray(ue[ve])&&(ue[ve]=at(ue[ve])),!Ie)}if(X.isFormData(k)&&X.isFunction(k.entries)){const V={};return X.forEachEntry(k,(Y,ue)=>{L(Ye(Y),ue,V,0)}),V}return null}function xt(k,L,V){if(X.isString(k))try{return(L||JSON.parse)(k),X.trim(k)}catch(Y){if(Y.name!=="SyntaxError")throw Y}return(V||JSON.stringify)(k)}const Mt={transitional:Bt,adapter:["xhr","http","fetch"],transformRequest:[function(k,L){const V=L.getContentType()||"",Y=V.indexOf("application/json")>-1,ue=X.isObject(k);if(ue&&X.isHTMLForm(k)&&(k=new FormData(k)),X.isFormData(k))return Y?JSON.stringify(ct(k)):k;if(X.isArrayBuffer(k)||X.isBuffer(k)||X.isStream(k)||X.isFile(k)||X.isBlob(k)||X.isReadableStream(k))return k;if(X.isArrayBufferView(k))return k.buffer;if(X.isURLSearchParams(k))return L.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),k.toString();let pe;if(ue){if(V.indexOf("application/x-www-form-urlencoded")>-1)return Me(k,this.formSerializer).toString();if((pe=X.isFileList(k))||V.indexOf("multipart/form-data")>-1){const ve=this.env&&this.env.FormData;return Ge(pe?{"files[]":k}:k,ve&&new ve,this.formSerializer)}}return ue||Y?(L.setContentType("application/json",!1),xt(k)):k}],transformResponse:[function(k){const L=this.transitional||Mt.transitional,V=L&&L.forcedJSONParsing,Y=this.responseType==="json";if(X.isResponse(k)||X.isReadableStream(k))return k;if(k&&X.isString(k)&&(V&&!this.responseType||Y)){const ue=!(L&&L.silentJSONParsing)&&Y;try{return JSON.parse(k)}catch(pe){if(ue)throw pe.name==="SyntaxError"?Se.from(pe,Se.ERR_BAD_RESPONSE,this,null,this.response):pe}}return k}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Te.classes.FormData,Blob:Te.classes.Blob},validateStatus:function(k){return k>=200&&k<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],k=>{Mt.headers[k]={}});var ut=Mt;const St=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Rt=k=>{const L={};let V,Y,ue;return k&&k.split(`
`).forEach(function(pe){ue=pe.indexOf(":"),V=pe.substring(0,ue).trim().toLowerCase(),Y=pe.substring(ue+1).trim(),!(!V||L[V]&&St[V])&&(V==="set-cookie"?L[V]?L[V].push(Y):L[V]=[Y]:L[V]=L[V]?L[V]+", "+Y:Y)}),L};const ys=Symbol("internals");function Ms(k){return k&&String(k).trim().toLowerCase()}function fs(k){return k===!1||k==null?k:X.isArray(k)?k.map(fs):String(k)}function ft(k){const L=Object.create(null),V=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let Y;for(;Y=V.exec(k);)L[Y[1]]=Y[2];return L}const Dt=k=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(k.trim());function ts(k,L,V,Y,ue){if(X.isFunction(Y))return Y.call(this,L,V);if(ue&&(L=V),!!X.isString(L)){if(X.isString(Y))return L.indexOf(Y)!==-1;if(X.isRegExp(Y))return Y.test(L)}}function Ts(k){return k.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(L,V,Y)=>V.toUpperCase()+Y)}function Ps(k,L){const V=X.toCamelCase(" "+L);["get","set","has"].forEach(Y=>{Object.defineProperty(k,Y+V,{value:function(ue,pe,ve){return this[Y].call(this,L,ue,pe,ve)},configurable:!0})})}class Js{constructor(L){L&&this.set(L)}set(L,V,Y){const ue=this;function pe(Ie,gt,qe){const Ze=Ms(gt);if(!Ze)throw new Error("header name must be a non-empty string");const vt=X.findKey(ue,Ze);(!vt||ue[vt]===void 0||qe===!0||qe===void 0&&ue[vt]!==!1)&&(ue[vt||gt]=fs(Ie))}const ve=(Ie,gt)=>X.forEach(Ie,(qe,Ze)=>pe(qe,Ze,gt));if(X.isPlainObject(L)||L instanceof this.constructor)ve(L,V);else if(X.isString(L)&&(L=L.trim())&&!Dt(L))ve(Rt(L),V);else if(X.isHeaders(L))for(const[Ie,gt]of L.entries())pe(gt,Ie,Y);else L!=null&&pe(V,L,Y);return this}get(L,V){if(L=Ms(L),L){const Y=X.findKey(this,L);if(Y){const ue=this[Y];if(!V)return ue;if(V===!0)return ft(ue);if(X.isFunction(V))return V.call(this,ue,Y);if(X.isRegExp(V))return V.exec(ue);throw new TypeError("parser must be boolean|regexp|function")}}}has(L,V){if(L=Ms(L),L){const Y=X.findKey(this,L);return!!(Y&&this[Y]!==void 0&&(!V||ts(this,this[Y],Y,V)))}return!1}delete(L,V){const Y=this;let ue=!1;function pe(ve){if(ve=Ms(ve),ve){const Ie=X.findKey(Y,ve);Ie&&(!V||ts(Y,Y[Ie],Ie,V))&&(delete Y[Ie],ue=!0)}}return X.isArray(L)?L.forEach(pe):pe(L),ue}clear(L){const V=Object.keys(this);let Y=V.length,ue=!1;for(;Y--;){const pe=V[Y];(!L||ts(this,this[pe],pe,L,!0))&&(delete this[pe],ue=!0)}return ue}normalize(L){const V=this,Y={};return X.forEach(this,(ue,pe)=>{const ve=X.findKey(Y,pe);if(ve){V[ve]=fs(ue),delete V[pe];return}const Ie=L?Ts(pe):String(pe).trim();Ie!==pe&&delete V[pe],V[Ie]=fs(ue),Y[Ie]=!0}),this}concat(...L){return this.constructor.concat(this,...L)}toJSON(L){const V=Object.create(null);return X.forEach(this,(Y,ue)=>{Y!=null&&Y!==!1&&(V[ue]=L&&X.isArray(Y)?Y.join(", "):Y)}),V}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([L,V])=>L+": "+V).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(L){return L instanceof this?L:new this(L)}static concat(L,...V){const Y=new this(L);return V.forEach(ue=>Y.set(ue)),Y}static accessor(L){const V=(this[ys]=this[ys]={accessors:{}}).accessors,Y=this.prototype;function ue(pe){const ve=Ms(pe);V[ve]||(Ps(Y,pe),V[ve]=!0)}return X.isArray(L)?L.forEach(ue):ue(L),this}}Js.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),X.reduceDescriptors(Js.prototype,({value:k},L)=>{let V=L[0].toUpperCase()+L.slice(1);return{get:()=>k,set(Y){this[V]=Y}}}),X.freezeMethods(Js);var on=Js;function fa(k,L){const V=this||ut,Y=L||V,ue=on.from(Y.headers);let pe=Y.data;return X.forEach(k,function(ve){pe=ve.call(V,pe,ue.normalize(),L?L.status:void 0)}),ue.normalize(),pe}function ha(k){return!!(k&&k.__CANCEL__)}function _n(k,L,V){Se.call(this,k!=null?k:"canceled",Se.ERR_CANCELED,L,V),this.name="CanceledError"}X.inherits(_n,Se,{__CANCEL__:!0});function ma(k,L,V){const Y=V.config.validateStatus;!V.status||!Y||Y(V.status)?k(V):L(new Se("Request failed with status code "+V.status,[Se.ERR_BAD_REQUEST,Se.ERR_BAD_RESPONSE][Math.floor(V.status/100)-4],V.config,V.request,V))}function Lt(k){const L=/^([-+\w]{1,25})(:?\/\/|:)/.exec(k);return L&&L[1]||""}function Ls(k,L){k=k||10;const V=new Array(k),Y=new Array(k);let ue=0,pe=0,ve;return L=L!==void 0?L:1e3,function(Ie){const gt=Date.now(),qe=Y[pe];ve||(ve=gt),V[ue]=Ie,Y[ue]=gt;let Ze=pe,vt=0;for(;Ze!==ue;)vt+=V[Ze++],Ze=Ze%k;if(ue=(ue+1)%k,ue===pe&&(pe=(pe+1)%k),gt-ve<L)return;const hs=qe&&gt-qe;return hs?Math.round(vt*1e3/hs):void 0}}function kr(k,L){let V=0,Y=1e3/L,ue,pe;const ve=(Ie,gt=Date.now())=>{V=gt,ue=null,pe&&(clearTimeout(pe),pe=null),k.apply(null,Ie)};return[(...Ie)=>{const gt=Date.now(),qe=gt-V;qe>=Y?ve(Ie,gt):(ue=Ie,pe||(pe=setTimeout(()=>{pe=null,ve(ue)},Y-qe)))},()=>ue&&ve(ue)]}const mn=(k,L,V=3)=>{let Y=0;const ue=Ls(50,250);return kr(pe=>{const ve=pe.loaded,Ie=pe.lengthComputable?pe.total:void 0,gt=ve-Y,qe=ue(gt),Ze=ve<=Ie;Y=ve;const vt={loaded:ve,total:Ie,progress:Ie?ve/Ie:void 0,bytes:gt,rate:qe||void 0,estimated:qe&&Ie&&Ze?(Ie-ve)/qe:void 0,event:pe,lengthComputable:Ie!=null,[L?"download":"upload"]:!0};k(vt)},V)},vs=(k,L)=>{const V=k!=null;return[Y=>L[0]({lengthComputable:V,total:k,loaded:Y}),L[1]]},La=k=>(...L)=>X.asap(()=>k(...L));var al=Te.hasStandardBrowserEnv?((k,L)=>V=>(V=new URL(V,Te.origin),k.protocol===V.protocol&&k.host===V.host&&(L||k.port===V.port)))(new URL(Te.origin),Te.navigator&&/(msie|trident)/i.test(Te.navigator.userAgent)):()=>!0,rl=Te.hasStandardBrowserEnv?{write(k,L,V,Y,ue,pe){const ve=[k+"="+encodeURIComponent(L)];X.isNumber(V)&&ve.push("expires="+new Date(V).toGMTString()),X.isString(Y)&&ve.push("path="+Y),X.isString(ue)&&ve.push("domain="+ue),pe===!0&&ve.push("secure"),document.cookie=ve.join("; ")},read(k){const L=document.cookie.match(new RegExp("(^|;\\s*)("+k+")=([^;]*)"));return L?decodeURIComponent(L[3]):null},remove(k){this.write(k,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Fn(k){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(k)}function Du(k,L){return L?k.replace(/\/?\/$/,"")+"/"+L.replace(/^\/+/,""):k}function Au(k,L,V){let Y=!Fn(L);return k&&Y||V==!1?Du(k,L):L}const ao=k=>k instanceof on?F({},k):k;function er(k,L){L=L||{};const V={};function Y(qe,Ze,vt,hs){return X.isPlainObject(qe)&&X.isPlainObject(Ze)?X.merge.call({caseless:hs},qe,Ze):X.isPlainObject(Ze)?X.merge({},Ze):X.isArray(Ze)?Ze.slice():Ze}function ue(qe,Ze,vt,hs){if(X.isUndefined(Ze)){if(!X.isUndefined(qe))return Y(void 0,qe,vt,hs)}else return Y(qe,Ze,vt,hs)}function pe(qe,Ze){if(!X.isUndefined(Ze))return Y(void 0,Ze)}function ve(qe,Ze){if(X.isUndefined(Ze)){if(!X.isUndefined(qe))return Y(void 0,qe)}else return Y(void 0,Ze)}function Ie(qe,Ze,vt){if(vt in L)return Y(qe,Ze);if(vt in k)return Y(void 0,qe)}const gt={url:pe,method:pe,data:pe,baseURL:ve,transformRequest:ve,transformResponse:ve,paramsSerializer:ve,timeout:ve,timeoutMessage:ve,withCredentials:ve,withXSRFToken:ve,adapter:ve,responseType:ve,xsrfCookieName:ve,xsrfHeaderName:ve,onUploadProgress:ve,onDownloadProgress:ve,decompress:ve,maxContentLength:ve,maxBodyLength:ve,beforeRedirect:ve,transport:ve,httpAgent:ve,httpsAgent:ve,cancelToken:ve,socketPath:ve,responseEncoding:ve,validateStatus:Ie,headers:(qe,Ze,vt)=>ue(ao(qe),ao(Ze),vt,!0)};return X.forEach(Object.keys(Object.assign({},k,L)),function(qe){const Ze=gt[qe]||ue,vt=Ze(k[qe],L[qe],qe);X.isUndefined(vt)&&Ze!==Ie||(V[qe]=vt)}),V}var ro=k=>{const L=er({},k);let{data:V,withXSRFToken:Y,xsrfHeaderName:ue,xsrfCookieName:pe,headers:ve,auth:Ie}=L;L.headers=ve=on.from(ve),L.url=qs(Au(L.baseURL,L.url),k.params,k.paramsSerializer),Ie&&ve.set("Authorization","Basic "+btoa((Ie.username||"")+":"+(Ie.password?unescape(encodeURIComponent(Ie.password)):"")));let gt;if(X.isFormData(V)){if(Te.hasStandardBrowserEnv||Te.hasStandardBrowserWebWorkerEnv)ve.setContentType(void 0);else if((gt=ve.getContentType())!==!1){const[qe,...Ze]=gt?gt.split(";").map(vt=>vt.trim()).filter(Boolean):[];ve.setContentType([qe||"multipart/form-data",...Ze].join("; "))}}if(Te.hasStandardBrowserEnv&&(Y&&X.isFunction(Y)&&(Y=Y(L)),Y||Y!==!1&&al(L.url))){const qe=ue&&pe&&rl.read(pe);qe&&ve.set(ue,qe)}return L},$m=typeof XMLHttpRequest<"u"&&function(k){return new Promise(function(L,V){const Y=ro(k);let ue=Y.data;const pe=on.from(Y.headers).normalize();let{responseType:ve,onUploadProgress:Ie,onDownloadProgress:gt}=Y,qe,Ze,vt,hs,At;function yt(){hs&&hs(),At&&At(),Y.cancelToken&&Y.cancelToken.unsubscribe(qe),Y.signal&&Y.signal.removeEventListener("abort",qe)}let dt=new XMLHttpRequest;dt.open(Y.method.toUpperCase(),Y.url,!0),dt.timeout=Y.timeout;function ln(){if(!dt)return;const Es=on.from("getAllResponseHeaders"in dt&&dt.getAllResponseHeaders()),pa={data:!ve||ve==="text"||ve==="json"?dt.responseText:dt.response,status:dt.status,statusText:dt.statusText,headers:Es,config:k,request:dt};ma(function(ho){L(ho),yt()},function(ho){V(ho),yt()},pa),dt=null}"onloadend"in dt?dt.onloadend=ln:dt.onreadystatechange=function(){!dt||dt.readyState!==4||dt.status===0&&!(dt.responseURL&&dt.responseURL.indexOf("file:")===0)||setTimeout(ln)},dt.onabort=function(){dt&&(V(new Se("Request aborted",Se.ECONNABORTED,k,dt)),dt=null)},dt.onerror=function(){V(new Se("Network Error",Se.ERR_NETWORK,k,dt)),dt=null},dt.ontimeout=function(){let Es=Y.timeout?"timeout of "+Y.timeout+"ms exceeded":"timeout exceeded";const pa=Y.transitional||Bt;Y.timeoutErrorMessage&&(Es=Y.timeoutErrorMessage),V(new Se(Es,pa.clarifyTimeoutError?Se.ETIMEDOUT:Se.ECONNABORTED,k,dt)),dt=null},ue===void 0&&pe.setContentType(null),"setRequestHeader"in dt&&X.forEach(pe.toJSON(),function(Es,pa){dt.setRequestHeader(pa,Es)}),X.isUndefined(Y.withCredentials)||(dt.withCredentials=!!Y.withCredentials),ve&&ve!=="json"&&(dt.responseType=Y.responseType),gt&&([vt,At]=mn(gt,!0),dt.addEventListener("progress",vt)),Ie&&dt.upload&&([Ze,hs]=mn(Ie),dt.upload.addEventListener("progress",Ze),dt.upload.addEventListener("loadend",hs)),(Y.cancelToken||Y.signal)&&(qe=Es=>{dt&&(V(!Es||Es.type?new _n(null,k,dt):Es),dt.abort(),dt=null)},Y.cancelToken&&Y.cancelToken.subscribe(qe),Y.signal&&(Y.signal.aborted?qe():Y.signal.addEventListener("abort",qe)));const Ws=Lt(Y.url);if(Ws&&Te.protocols.indexOf(Ws)===-1){V(new Se("Unsupported protocol "+Ws+":",Se.ERR_BAD_REQUEST,k));return}dt.send(ue||null)})},Un=(k,L)=>{const{length:V}=k=k?k.filter(Boolean):[];if(L||V){let Y=new AbortController,ue;const pe=function(qe){if(!ue){ue=!0,Ie();const Ze=qe instanceof Error?qe:this.reason;Y.abort(Ze instanceof Se?Ze:new _n(Ze instanceof Error?Ze.message:Ze))}};let ve=L&&setTimeout(()=>{ve=null,pe(new Se(`timeout ${L} of ms exceeded`,Se.ETIMEDOUT))},L);const Ie=()=>{k&&(ve&&clearTimeout(ve),ve=null,k.forEach(qe=>{qe.unsubscribe?qe.unsubscribe(pe):qe.removeEventListener("abort",pe)}),k=null)};k.forEach(qe=>qe.addEventListener("abort",pe));const{signal:gt}=Y;return gt.unsubscribe=()=>X.asap(Ie),gt}};const Cc=function*(k,L){let V=k.byteLength;if(V<L){yield k;return}let Y=0,ue;for(;Y<V;)ue=Y+L,yield k.slice(Y,ue),Y=ue},Ou=function(k,L){return Lg(this,null,function*(){try{for(var V=Oj(kc(k)),Y,ue,pe;Y=!(ue=yield new Eo(V.next())).done;Y=!1){const ve=ue.value;yield*Bg(Cc(ve,L))}}catch(ue){pe=[ue]}finally{try{Y&&(ue=V.return)&&(yield new Eo(ue.call(V)))}finally{if(pe)throw pe[0]}}})},kc=function(k){return Lg(this,null,function*(){if(k[Symbol.asyncIterator]){yield*Bg(k);return}const L=k.getReader();try{for(;;){const{done:V,value:Y}=yield new Eo(L.read());if(V)break;yield Y}}finally{yield new Eo(L.cancel())}})},Er=(k,L,V,Y)=>{const ue=Ou(k,L);let pe=0,ve,Ie=qe=>{ve||(ve=!0,Y&&Y(qe))};return new ReadableStream({pull(qe){return we(this,null,function*(){try{const{done:Ze,value:vt}=yield ue.next();if(Ze){Ie(),qe.close();return}let hs=vt.byteLength;if(V){let At=pe+=hs;V(At)}qe.enqueue(new Uint8Array(vt))}catch(Ze){throw Ie(Ze),Ze}})},cancel(qe){return Ie(qe),ue.return()}},{highWaterMark:2})},io=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Ec=io&&typeof ReadableStream=="function",ii=io&&(typeof TextEncoder=="function"?(k=>L=>k.encode(L))(new TextEncoder):k=>we(null,null,function*(){return new Uint8Array(yield new Response(k).arrayBuffer())})),Ru=(k,...L)=>{try{return!!k(...L)}catch(V){return!1}},Mu=Ec&&Ru(()=>{let k=!1;const L=new Request(Te.origin,{body:new ReadableStream,method:"POST",get duplex(){return k=!0,"half"}}).headers.has("Content-Type");return k&&!L}),Dc=64*1024,oo=Ec&&Ru(()=>X.isReadableStream(new Response("").body)),il={stream:oo&&(k=>k.body)};io&&(k=>{["text","arrayBuffer","blob","formData","stream"].forEach(L=>{!il[L]&&(il[L]=X.isFunction(k[L])?V=>V[L]():(V,Y)=>{throw new Se(`Response type '${L}' is not supported`,Se.ERR_NOT_SUPPORT,Y)})})})(new Response);const Im=k=>we(null,null,function*(){if(k==null)return 0;if(X.isBlob(k))return k.size;if(X.isSpecCompliantForm(k))return(yield new Request(Te.origin,{method:"POST",body:k}).arrayBuffer()).byteLength;if(X.isArrayBufferView(k)||X.isArrayBuffer(k))return k.byteLength;if(X.isURLSearchParams(k)&&(k=k+""),X.isString(k))return(yield ii(k)).byteLength}),ol=(k,L)=>we(null,null,function*(){const V=X.toFiniteNumber(k.getContentLength());return V!=null?V:Im(L)});var Ac=io&&(k=>we(null,null,function*(){let{url:L,method:V,data:Y,signal:ue,cancelToken:pe,timeout:ve,onDownloadProgress:Ie,onUploadProgress:gt,responseType:qe,headers:Ze,withCredentials:vt="same-origin",fetchOptions:hs}=ro(k);qe=qe?(qe+"").toLowerCase():"text";let At=Un([ue,pe&&pe.toAbortSignal()],ve),yt;const dt=At&&At.unsubscribe&&(()=>{At.unsubscribe()});let ln;try{if(gt&&Mu&&V!=="get"&&V!=="head"&&(ln=yield ol(Ze,Y))!==0){let tr=new Request(L,{method:"POST",body:Y,duplex:"half"}),ui;if(X.isFormData(Y)&&(ui=tr.headers.get("content-type"))&&Ze.setContentType(ui),tr.body){const[ul,fl]=vs(ln,mn(La(gt)));Y=Er(tr.body,Dc,ul,fl)}}X.isString(vt)||(vt=vt?"include":"omit");const Ws="credentials"in Request.prototype;yt=new Request(L,le(F({},hs),{signal:At,method:V.toUpperCase(),headers:Ze.normalize().toJSON(),body:Y,duplex:"half",credentials:Ws?vt:void 0}));let Es=yield fetch(yt);const pa=oo&&(qe==="stream"||qe==="response");if(oo&&(Ie||pa&&dt)){const tr={};["status","statusText","headers"].forEach(Lu=>{tr[Lu]=Es[Lu]});const ui=X.toFiniteNumber(Es.headers.get("content-length")),[ul,fl]=Ie&&vs(ui,mn(La(Ie),!0))||[];Es=new Response(Er(Es.body,Dc,ul,()=>{fl&&fl(),dt&&dt()}),tr)}qe=qe||"text";let ho=yield il[X.findKey(il,qe)||"text"](Es,k);return!pa&&dt&&dt(),yield new Promise((tr,ui)=>{ma(tr,ui,{data:ho,headers:on.from(Es.headers),status:Es.status,statusText:Es.statusText,config:k,request:yt})})}catch(Ws){throw dt&&dt(),Ws&&Ws.name==="TypeError"&&/fetch/i.test(Ws.message)?Object.assign(new Se("Network Error",Se.ERR_NETWORK,k,yt),{cause:Ws.cause||Ws}):Se.from(Ws,Ws&&Ws.code,k,yt)}}));const lo={http:We,xhr:$m,fetch:Ac};X.forEach(lo,(k,L)=>{if(k){try{Object.defineProperty(k,"name",{value:L})}catch(V){}Object.defineProperty(k,"adapterName",{value:L})}});const Dr=k=>`- ${k}`,oi=k=>X.isFunction(k)||k===null||k===!1;var Oc={getAdapter:k=>{k=X.isArray(k)?k:[k];const{length:L}=k;let V,Y;const ue={};for(let pe=0;pe<L;pe++){V=k[pe];let ve;if(Y=V,!oi(V)&&(Y=lo[(ve=String(V)).toLowerCase()],Y===void 0))throw new Se(`Unknown adapter '${ve}'`);if(Y)break;ue[ve||"#"+pe]=Y}if(!Y){const pe=Object.entries(ue).map(([Ie,gt])=>`adapter ${Ie} `+(gt===!1?"is not supported by the environment":"is not available in the build"));let ve=L?pe.length>1?`since :
`+pe.map(Dr).join(`
`):" "+Dr(pe[0]):"as no adapter specified";throw new Se("There is no suitable adapter to dispatch the request "+ve,"ERR_NOT_SUPPORT")}return Y},adapters:lo};function co(k){if(k.cancelToken&&k.cancelToken.throwIfRequested(),k.signal&&k.signal.aborted)throw new _n(null,k)}function Rc(k){return co(k),k.headers=on.from(k.headers),k.data=fa.call(k,k.transformRequest),["post","put","patch"].indexOf(k.method)!==-1&&k.headers.setContentType("application/x-www-form-urlencoded",!1),Oc.getAdapter(k.adapter||ut.adapter)(k).then(function(L){return co(k),L.data=fa.call(k,k.transformResponse,L),L.headers=on.from(L.headers),L},function(L){return ha(L)||(co(k),L&&L.response&&(L.response.data=fa.call(k,k.transformResponse,L.response),L.response.headers=on.from(L.response.headers))),Promise.reject(L)})}const li="1.8.2",zn={};["object","boolean","number","function","string","symbol"].forEach((k,L)=>{zn[k]=function(V){return typeof V===k||"a"+(L<1?"n ":" ")+k}});const ll={};zn.transitional=function(k,L,V){function Y(ue,pe){return"[Axios v"+li+"] Transitional option '"+ue+"'"+pe+(V?". "+V:"")}return(ue,pe,ve)=>{if(k===!1)throw new Se(Y(pe," has been removed"+(L?" in "+L:"")),Se.ERR_DEPRECATED);return L&&!ll[pe]&&(ll[pe]=!0,console.warn(Y(pe," has been deprecated since v"+L+" and will be removed in the near future"))),k?k(ue,pe,ve):!0}},zn.spelling=function(k){return(L,V)=>(console.warn(`${V} is likely a misspelling of ${k}`),!0)};function uo(k,L,V){if(typeof k!="object")throw new Se("options must be an object",Se.ERR_BAD_OPTION_VALUE);const Y=Object.keys(k);let ue=Y.length;for(;ue-- >0;){const pe=Y[ue],ve=L[pe];if(ve){const Ie=k[pe],gt=Ie===void 0||ve(Ie,pe,k);if(gt!==!0)throw new Se("option "+pe+" must be "+gt,Se.ERR_BAD_OPTION_VALUE);continue}if(V!==!0)throw new Se("Unknown option "+pe,Se.ERR_BAD_OPTION)}}var Zn={assertOptions:uo,validators:zn};const Hn=Zn.validators;class Ar{constructor(L){this.defaults=L,this.interceptors={request:new Je,response:new Je}}request(L,V){return we(this,null,function*(){try{return yield this._request(L,V)}catch(Y){if(Y instanceof Error){let ue={};Error.captureStackTrace?Error.captureStackTrace(ue):ue=new Error;const pe=ue.stack?ue.stack.replace(/^.+\n/,""):"";try{Y.stack?pe&&!String(Y.stack).endsWith(pe.replace(/^.+\n.+\n/,""))&&(Y.stack+=`
`+pe):Y.stack=pe}catch(ve){}}throw Y}})}_request(L,V){typeof L=="string"?(V=V||{},V.url=L):V=L||{},V=er(this.defaults,V);const{transitional:Y,paramsSerializer:ue,headers:pe}=V;Y!==void 0&&Zn.assertOptions(Y,{silentJSONParsing:Hn.transitional(Hn.boolean),forcedJSONParsing:Hn.transitional(Hn.boolean),clarifyTimeoutError:Hn.transitional(Hn.boolean)},!1),ue!=null&&(X.isFunction(ue)?V.paramsSerializer={serialize:ue}:Zn.assertOptions(ue,{encode:Hn.function,serialize:Hn.function},!0)),V.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?V.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:V.allowAbsoluteUrls=!0),Zn.assertOptions(V,{baseUrl:Hn.spelling("baseURL"),withXsrfToken:Hn.spelling("withXSRFToken")},!0),V.method=(V.method||this.defaults.method||"get").toLowerCase();let ve=pe&&X.merge(pe.common,pe[V.method]);pe&&X.forEach(["delete","get","head","post","put","patch","common"],yt=>{delete pe[yt]}),V.headers=on.concat(ve,pe);const Ie=[];let gt=!0;this.interceptors.request.forEach(function(yt){typeof yt.runWhen=="function"&&yt.runWhen(V)===!1||(gt=gt&&yt.synchronous,Ie.unshift(yt.fulfilled,yt.rejected))});const qe=[];this.interceptors.response.forEach(function(yt){qe.push(yt.fulfilled,yt.rejected)});let Ze,vt=0,hs;if(!gt){const yt=[Rc.bind(this),void 0];for(yt.unshift.apply(yt,Ie),yt.push.apply(yt,qe),hs=yt.length,Ze=Promise.resolve(V);vt<hs;)Ze=Ze.then(yt[vt++],yt[vt++]);return Ze}hs=Ie.length;let At=V;for(vt=0;vt<hs;){const yt=Ie[vt++],dt=Ie[vt++];try{At=yt(At)}catch(ln){dt.call(this,ln);break}}try{Ze=Rc.call(this,At)}catch(yt){return Promise.reject(yt)}for(vt=0,hs=qe.length;vt<hs;)Ze=Ze.then(qe[vt++],qe[vt++]);return Ze}getUri(L){L=er(this.defaults,L);const V=Au(L.baseURL,L.url,L.allowAbsoluteUrls);return qs(V,L.params,L.paramsSerializer)}}X.forEach(["delete","get","head","options"],function(k){Ar.prototype[k]=function(L,V){return this.request(er(V||{},{method:k,url:L,data:(V||{}).data}))}}),X.forEach(["post","put","patch"],function(k){function L(V){return function(Y,ue,pe){return this.request(er(pe||{},{method:k,headers:V?{"Content-Type":"multipart/form-data"}:{},url:Y,data:ue}))}}Ar.prototype[k]=L(),Ar.prototype[k+"Form"]=L(!0)});var fo=Ar;class ci{constructor(L){if(typeof L!="function")throw new TypeError("executor must be a function.");let V;this.promise=new Promise(function(ue){V=ue});const Y=this;this.promise.then(ue=>{if(!Y._listeners)return;let pe=Y._listeners.length;for(;pe-- >0;)Y._listeners[pe](ue);Y._listeners=null}),this.promise.then=ue=>{let pe;const ve=new Promise(Ie=>{Y.subscribe(Ie),pe=Ie}).then(ue);return ve.cancel=function(){Y.unsubscribe(pe)},ve},L(function(ue,pe,ve){Y.reason||(Y.reason=new _n(ue,pe,ve),V(Y.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(L){if(this.reason){L(this.reason);return}this._listeners?this._listeners.push(L):this._listeners=[L]}unsubscribe(L){if(!this._listeners)return;const V=this._listeners.indexOf(L);V!==-1&&this._listeners.splice(V,1)}toAbortSignal(){const L=new AbortController,V=Y=>{L.abort(Y)};return this.subscribe(V),L.signal.unsubscribe=()=>this.unsubscribe(V),L.signal}static source(){let L;return{token:new ci(function(V){L=V}),cancel:L}}}var cl=ci;function Pu(k){return function(L){return k.apply(null,L)}}function Tn(k){return X.isObject(k)&&k.isAxiosError===!0}const Ba={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ba).forEach(([k,L])=>{Ba[L]=k});var dl=Ba;function di(k){const L=new fo(k),V=e(fo.prototype.request,L);return X.extend(V,fo.prototype,L,{allOwnKeys:!0}),X.extend(V,L,null,{allOwnKeys:!0}),V.create=function(Y){return di(er(k,Y))},V}const Bs=di(ut);return Bs.Axios=fo,Bs.CanceledError=_n,Bs.CancelToken=cl,Bs.isCancel=ha,Bs.VERSION=li,Bs.toFormData=Ge,Bs.AxiosError=Se,Bs.Cancel=Bs.CanceledError,Bs.all=function(k){return Promise.all(k)},Bs.spread=Pu,Bs.isAxiosError=Tn,Bs.mergeConfig=er,Bs.AxiosHeaders=on,Bs.formToJSON=k=>ct(X.isHTMLForm(k)?new FormData(k):k),Bs.getAdapter=Oc.getAdapter,Bs.HttpStatusCode=dl,Bs.default=Bs,Vg=Bs,Vg}var Wj;function i2(){if(Wj)return qr;Wj=1;var e=qr&&qr.__assign||function(){return e=Object.assign||function(i){for(var o,c=1,d=arguments.length;c<d;c++){o=arguments[c];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(i[h]=o[h])}return i},e.apply(this,arguments)};Object.defineProperty(qr,"__esModule",{value:!0}),qr.getRequestHeaders=qr.getAxiosClient=void 0;var t=QD();function s(i,o,c,d,h){var f=t.default.create({baseURL:i,headers:n(o,d,c,i,h),withCredentials:!0});return f.interceptors.request.use(function(p){return typeof window<"u"&&window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(p.headers["X-Frappe-CSRF-Token"]=window.csrf_token),o&&d&&c&&(p.headers.Authorization="".concat(d," ").concat(c())),p}),f}qr.getAxiosClient=s;function n(i,o,c,d,h){i===void 0&&(i=!1);var f={Accept:"application/json","Content-Type":"application/json; charset=utf-8"};return i&&o&&c&&(f.Authorization="".concat(o," ").concat(c())),typeof window<"u"&&typeof document<"u"&&(window.location&&(d&&d!==window.location.origin||(f["X-Frappe-Site-Name"]=window.location.hostname)),window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(f["X-Frappe-CSRF-Token"]=window.csrf_token)),e(e({},f),h!=null?h:{})}return qr.getRequestHeaders=n,qr}var Yj;function o2(){if(Yj)return Ia;Yj=1;var e=Ia&&Ia.__assign||function(){return e=Object.assign||function(o){for(var c,d=1,h=arguments.length;d<h;d++){c=arguments[d];for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(o[f]=c[f])}return o},e.apply(this,arguments)},t=Ia&&Ia.__awaiter||function(o,c,d,h){function f(p){return p instanceof d?p:new d(function(g){g(p)})}return new(d||(d=Promise))(function(p,g){function x(v){try{j(h.next(v))}catch(_){g(_)}}function b(v){try{j(h.throw(v))}catch(_){g(_)}}function j(v){v.done?p(v.value):f(v.value).then(x,b)}j((h=h.apply(o,c||[])).next())})},s=Ia&&Ia.__generator||function(o,c){var d={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},h,f,p,g;return g={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function x(j){return function(v){return b([j,v])}}function b(j){if(h)throw new TypeError("Generator is already executing.");for(;g&&(g=0,j[0]&&(d=0)),d;)try{if(h=1,f&&(p=j[0]&2?f.return:j[0]?f.throw||((p=f.return)&&p.call(f),0):f.next)&&!(p=p.call(f,j[1])).done)return p;switch(f=0,p&&(j=[j[0]&2,p.value]),j[0]){case 0:case 1:p=j;break;case 4:return d.label++,{value:j[1],done:!1};case 5:d.label++,f=j[1],j=[0];continue;case 7:j=d.ops.pop(),d.trys.pop();continue;default:if(p=d.trys,!(p=p.length>0&&p[p.length-1])&&(j[0]===6||j[0]===2)){d=0;continue}if(j[0]===3&&(!p||j[1]>p[0]&&j[1]<p[3])){d.label=j[1];break}if(j[0]===6&&d.label<p[1]){d.label=p[1],p=j;break}if(p&&d.label<p[2]){d.label=p[2],d.ops.push(j);break}p[2]&&d.ops.pop(),d.trys.pop();continue}j=c.call(o,d)}catch(v){j=[6,v],f=0}finally{h=p=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}};Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.FrappeFileUpload=void 0;var n=i2(),i=function(){function o(c,d,h,f,p,g){this.appURL=c,this.axios=d,this.useToken=h!=null?h:!1,this.token=f,this.tokenType=p,this.customHeaders=g}return o.prototype.uploadFile=function(c,d,h,f){return f===void 0&&(f="upload_file"),t(this,void 0,void 0,function(){var p,g,x,b,j,v,_,T;return s(this,function(A){return p=new FormData,c&&p.append("file",c,c.name),g=d.isPrivate,x=d.folder,b=d.file_url,j=d.doctype,v=d.docname,_=d.fieldname,T=d.otherData,g&&p.append("is_private","1"),x&&p.append("folder",x),b&&p.append("file_url",b),j&&v&&(p.append("doctype",j),p.append("docname",v),_&&p.append("fieldname",_)),T&&Object.keys(T).forEach(function(C){var S=T[C];p.append(C,S)}),[2,this.axios.post("/api/method/".concat(f),p,{onUploadProgress:function(C){h&&h(C.loaded,C.total,C)},headers:e(e({},(0,n.getRequestHeaders)(this.useToken,this.tokenType,this.token,this.appURL,this.customHeaders)),{"Content-Type":"multipart/form-data"})}).catch(function(C){var S,D;throw e(e({},C.response.data),{httpStatus:C.response.status,httpStatusText:C.response.statusText,message:(S=C.response.data.message)!==null&&S!==void 0?S:"There was an error while uploading the file.",exception:(D=C.response.data.exception)!==null&&D!==void 0?D:""})})]})})},o}();return Ia.FrappeFileUpload=i,Ia}var Gj;function ZD(){if(Gj)return _d;Gj=1,Object.defineProperty(_d,"__esModule",{value:!0}),_d.FrappeApp=void 0;var e=l2(),t=a2(),s=r2(),n=o2(),i=i2(),o=function(){function c(d,h,f,p){var g,x;this.url=d,this.name=f!=null?f:"FrappeApp",this.useToken=(g=h==null?void 0:h.useToken)!==null&&g!==void 0?g:!1,this.token=h==null?void 0:h.token,this.tokenType=(x=h==null?void 0:h.type)!==null&&x!==void 0?x:"Bearer",this.customHeaders=p,this.axios=(0,i.getAxiosClient)(this.url,this.useToken,this.token,this.tokenType,this.customHeaders)}return c.prototype.auth=function(){return new e.FrappeAuth(this.url,this.axios,this.useToken,this.token,this.tokenType)},c.prototype.db=function(){return new s.FrappeDB(this.url,this.axios,this.useToken,this.token,this.tokenType)},c.prototype.file=function(){return new n.FrappeFileUpload(this.url,this.axios,this.useToken,this.token,this.tokenType,this.customHeaders)},c.prototype.call=function(){return new t.FrappeCall(this.url,this.axios,this.useToken,this.token,this.tokenType)},c}();return _d.FrappeApp=o,_d}var Va={},Xj;function JD(){if(Xj)return Va;Xj=1;var e=Va&&Va.__assign||function(){return e=Object.assign||function(i){for(var o,c=1,d=arguments.length;c<d;c++){o=arguments[c];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(i[h]=o[h])}return i},e.apply(this,arguments)},t=Va&&Va.__awaiter||function(i,o,c,d){function h(f){return f instanceof c?f:new c(function(p){p(f)})}return new(c||(c=Promise))(function(f,p){function g(j){try{b(d.next(j))}catch(v){p(v)}}function x(j){try{b(d.throw(j))}catch(v){p(v)}}function b(j){j.done?f(j.value):h(j.value).then(g,x)}b((d=d.apply(i,o||[])).next())})},s=Va&&Va.__generator||function(i,o){var c={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},d,h,f,p;return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(b){return function(j){return x([b,j])}}function x(b){if(d)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(c=0)),c;)try{if(d=1,h&&(f=b[0]&2?h.return:b[0]?h.throw||((f=h.return)&&f.call(h),0):h.next)&&!(f=f.call(h,b[1])).done)return f;switch(h=0,f&&(b=[b[0]&2,f.value]),b[0]){case 0:case 1:f=b;break;case 4:return c.label++,{value:b[1],done:!1};case 5:c.label++,h=b[1],b=[0];continue;case 7:b=c.ops.pop(),c.trys.pop();continue;default:if(f=c.trys,!(f=f.length>0&&f[f.length-1])&&(b[0]===6||b[0]===2)){c=0;continue}if(b[0]===3&&(!f||b[1]>f[0]&&b[1]<f[3])){c.label=b[1];break}if(b[0]===6&&c.label<f[1]){c.label=f[1],f=b;break}if(f&&c.label<f[2]){c.label=f[2],c.ops.push(b);break}f[2]&&c.ops.pop(),c.trys.pop();continue}b=o.call(i,c)}catch(j){b=[6,j],h=0}finally{d=f=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}};Object.defineProperty(Va,"__esModule",{value:!0}),Va.FrappeAuth=void 0;var n=function(){function i(o,c,d,h,f){this.appURL=o,this.axios=c,this.useToken=d!=null?d:!1,this.token=h,this.tokenType=f}return i.prototype.loginWithUsernamePassword=function(o){return t(this,void 0,void 0,function(){return s(this,function(c){return[2,this.axios.post("/api/method/login",{usr:o.username,pwd:o.password,otp:o.otp,tmp_id:o.tmp_id,device:o.device}).then(function(d){return d.data}).catch(function(d){var h,f;throw e(e({},d.response.data),{httpStatus:d.response.status,httpStatusText:d.response.statusText,message:(h=d.response.data.message)!==null&&h!==void 0?h:"There was an error while logging in",exception:(f=d.response.data.exception)!==null&&f!==void 0?f:""})})]})})},i.prototype.getLoggedInUser=function(){return t(this,void 0,void 0,function(){return s(this,function(o){return[2,this.axios.get("/api/method/frappe.auth.get_logged_user").then(function(c){return c.data.message}).catch(function(c){var d;throw e(e({},c.response.data),{httpStatus:c.response.status,httpStatusText:c.response.statusText,message:"There was an error while fetching the logged in user",exception:(d=c.response.data.exception)!==null&&d!==void 0?d:""})})]})})},i.prototype.logout=function(){return t(this,void 0,void 0,function(){return s(this,function(o){return[2,this.axios.post("/api/method/logout",{}).then(function(){}).catch(function(c){var d,h;throw e(e({},c.response.data),{httpStatus:c.response.status,httpStatusText:c.response.statusText,message:(d=c.response.data.message)!==null&&d!==void 0?d:"There was an error while logging out",exception:(h=c.response.data.exception)!==null&&h!==void 0?h:""})})]})})},i.prototype.forgetPassword=function(o){return t(this,void 0,void 0,function(){return s(this,function(c){return[2,this.axios.post("/",{cmd:"frappe.core.doctype.user.user.reset_password",user:o}).then(function(){}).catch(function(d){var h,f;throw e(e({},d.response.data),{httpStatus:d.response.status,httpStatusText:d.response.statusText,message:(h=d.response.data.message)!==null&&h!==void 0?h:"There was an error sending password reset email.",exception:(f=d.response.data.exception)!==null&&f!==void 0?f:""})})]})})},i}();return Va.FrappeAuth=n,Va}var Kj;function l2(){return Kj||(Kj=1,function(e){var t=Il&&Il.__createBinding||(Object.create?function(n,i,o,c){c===void 0&&(c=o);var d=Object.getOwnPropertyDescriptor(i,o);(!d||("get"in d?!i.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,c,d)}:function(n,i,o,c){c===void 0&&(c=o),n[c]=i[o]}),s=Il&&Il.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),s(ZD(),e),s(JD(),e),s(r2(),e),s(o2(),e),s(a2(),e)}(Il)),Il}var eA=l2(),Qj={exports:{}},qg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zj;function tA(){if(Zj)return qg;Zj=1;var e=re;function t(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var s=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,o=e.useLayoutEffect,c=e.useDebugValue;function d(g,x){var b=x(),j=n({inst:{value:b,getSnapshot:x}}),v=j[0].inst,_=j[1];return o(function(){v.value=b,v.getSnapshot=x,h(v)&&_({inst:v})},[g,b,x]),i(function(){return h(v)&&_({inst:v}),g(function(){h(v)&&_({inst:v})})},[g]),c(b),b}function h(g){var x=g.getSnapshot;g=g.value;try{var b=x();return!s(g,b)}catch(j){return!0}}function f(g,x){return x()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:d;return qg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,qg}var Jj;function sA(){return Jj||(Jj=1,Qj.exports=tA()),Qj.exports}var nA=sA();const c2=0,d2=1,u2=2,e1=3;var t1=Object.prototype.hasOwnProperty;function Hx(e,t){var s,n;if(e===t)return!0;if(e&&t&&(s=e.constructor)===t.constructor){if(s===Date)return e.getTime()===t.getTime();if(s===RegExp)return e.toString()===t.toString();if(s===Array){if((n=e.length)===t.length)for(;n--&&Hx(e[n],t[n]););return n===-1}if(!s||typeof e=="object"){n=0;for(s in e)if(t1.call(e,s)&&++n&&!t1.call(t,s)||!(s in t)||!Hx(e[s],t[s]))return!1;return Object.keys(t).length===n}}return e!==e&&t!==t}const ei=new WeakMap,zi=()=>{},En=zi(),$h=Object,ss=e=>e===En,Wa=e=>typeof e=="function",si=(e,t)=>F(F({},e),t),f2=e=>Wa(e.then),Wg={},Uf={},H0="undefined",hu=typeof window!=H0,$x=typeof document!=H0,aA=hu&&"Deno"in window,rA=()=>hu&&typeof window.requestAnimationFrame!=H0,h2=(e,t)=>{const s=ei.get(e);return[()=>!ss(t)&&e.get(t)||Wg,n=>{if(!ss(t)){const i=e.get(t);t in Uf||(Uf[t]=i),s[5](t,si(i,n),i||Wg)}},s[6],()=>!ss(t)&&t in Uf?Uf[t]:!ss(t)&&e.get(t)||Wg]};let Ix=!0;const iA=()=>Ix,[Vx,qx]=hu&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[zi,zi],oA=()=>{const e=$x&&document.visibilityState;return ss(e)||e!=="hidden"},lA=e=>($x&&document.addEventListener("visibilitychange",e),Vx("focus",e),()=>{$x&&document.removeEventListener("visibilitychange",e),qx("focus",e)}),cA=e=>{const t=()=>{Ix=!0,e()},s=()=>{Ix=!1};return Vx("online",t),Vx("offline",s),()=>{qx("online",t),qx("offline",s)}},dA={isOnline:iA,isVisible:oA},uA={initFocus:lA,initReconnect:cA},s1=!re.useId,eu=!hu||aA,fA=e=>rA()?window.requestAnimationFrame(e):setTimeout(e,1),_h=eu?N.useEffect:N.useLayoutEffect,Yg=typeof navigator<"u"&&navigator.connection,n1=!eu&&Yg&&(["slow-2g","2g"].includes(Yg.effectiveType)||Yg.saveData),zf=new WeakMap,Gg=(e,t)=>$h.prototype.toString.call(e)===`[object ${t}]`;let hA=0;const Wx=e=>{const t=typeof e,s=Gg(e,"Date"),n=Gg(e,"RegExp"),i=Gg(e,"Object");let o,c;if($h(e)===e&&!s&&!n){if(o=zf.get(e),o)return o;if(o=++hA+"~",zf.set(e,o),Array.isArray(e)){for(o="@",c=0;c<e.length;c++)o+=Wx(e[c])+",";zf.set(e,o)}if(i){o="#";const d=$h.keys(e).sort();for(;!ss(c=d.pop());)ss(e[c])||(o+=c+":"+Wx(e[c])+",");zf.set(e,o)}}else o=s?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return o},$0=e=>{if(Wa(e))try{e=e()}catch(s){e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Wx(e):"",[e,t]};let mA=0;const Yx=()=>++mA;function m2(...e){return we(this,null,function*(){const[t,s,n,i]=e,o=si({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let c=o.populateCache;const d=o.rollbackOnError;let h=o.optimisticData;const f=x=>typeof d=="function"?d(x):d!==!1,p=o.throwOnError;if(Wa(s)){const x=s,b=[],j=t.keys();for(const v of j)!/^\$(inf|sub)\$/.test(v)&&x(t.get(v)._k)&&b.push(v);return Promise.all(b.map(g))}return g(s);function g(x){return we(this,null,function*(){const[b]=$0(x);if(!b)return;const[j,v]=h2(t,b),[_,T,A,C]=ei.get(t),S=()=>{const q=_[b];return(Wa(o.revalidate)?o.revalidate(j().data,x):o.revalidate!==!1)&&(delete A[b],delete C[b],q&&q[0])?q[0](u2).then(()=>j().data):j().data};if(e.length<3)return S();let D=n,E;const B=Yx();T[b]=[B,0];const U=!ss(h),R=j(),K=R.data,W=R._c,Z=ss(W)?K:W;if(U&&(h=Wa(h)?h(Z,K):h,v({data:h,_c:Z})),Wa(D))try{D=D(Z)}catch(q){E=q}if(D&&f2(D))if(D=yield D.catch(q=>{E=q}),B!==T[b][0]){if(E)throw E;return D}else E&&U&&f(E)&&(c=!0,v({data:Z,_c:En}));if(c&&!E)if(Wa(c)){const q=c(D,Z);v({data:q,error:En,_c:En})}else v({data:D,error:En,_c:En});if(T[b][1]=Yx(),Promise.resolve(S()).then(()=>{v({_c:En})}),E){if(p)throw E;return}return D})}})}const a1=(e,t)=>{for(const s in e)e[s][0]&&e[s][0](t)},p2=(e,t)=>{if(!ei.has(e)){const s=si(uA,t),n=Object.create(null),i=m2.bind(En,e);let o=zi;const c=Object.create(null),d=(p,g)=>{const x=c[p]||[];return c[p]=x,x.push(g),()=>x.splice(x.indexOf(g),1)},h=(p,g,x)=>{e.set(p,g);const b=c[p];if(b)for(const j of b)j(g,x)},f=()=>{if(!ei.has(e)&&(ei.set(e,[n,Object.create(null),Object.create(null),Object.create(null),i,h,d]),!eu)){const p=s.initFocus(setTimeout.bind(En,a1.bind(En,n,c2))),g=s.initReconnect(setTimeout.bind(En,a1.bind(En,n,d2)));o=()=>{p&&p(),g&&g(),ei.delete(e)}}};return f(),[e,i,f,o]}return[e,ei.get(e)[4]]},pA=(e,t,s,n,i)=>{const o=s.errorRetryCount,c=i.retryCount,d=~~((Math.random()+.5)*(1<<(c<8?c:8)))*s.errorRetryInterval;!ss(o)&&c>o||setTimeout(n,d,i)},gA=Hx,[I0,xA]=p2(new Map),g2=si({onLoadingSlow:zi,onSuccess:zi,onError:zi,onErrorRetry:pA,onDiscarded:zi,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:n1?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:n1?5e3:3e3,compare:gA,isPaused:()=>!1,cache:I0,mutate:xA,fallback:{}},dA),x2=(e,t)=>{const s=si(e,t);if(t){const{use:n,fallback:i}=e,{use:o,fallback:c}=t;n&&o&&(s.use=n.concat(o)),i&&c&&(s.fallback=si(i,c))}return s},Gx=N.createContext({}),yA=e=>{const{value:t}=e,s=N.useContext(Gx),n=Wa(t),i=N.useMemo(()=>n?t(s):t,[n,s,t]),o=N.useMemo(()=>n?i:x2(s,i),[n,s,i]),c=i&&i.provider,d=N.useRef(En);c&&!d.current&&(d.current=p2(c(o.cache||I0),i));const h=d.current;return h&&(o.cache=h[0],o.mutate=h[1]),_h(()=>{if(h)return h[2]&&h[2](),h[3]},[]),N.createElement(Gx.Provider,si(e,{value:o}))},bA="$inf$",y2=hu&&window.__SWR_DEVTOOLS_USE__,vA=y2?window.__SWR_DEVTOOLS_USE__:[],wA=()=>{y2&&(window.__SWR_DEVTOOLS_REACT__=re)},jA=e=>Wa(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],NA=()=>si(g2,N.useContext(Gx)),_A=e=>(t,s,n)=>e(t,s&&((...i)=>{const[o]=$0(t),[,,,c]=ei.get(I0);if(o.startsWith(bA))return s(...i);const d=c[o];return ss(d)?s(...i):(delete c[o],d)}),n),TA=vA.concat(_A),SA=e=>function(...t){const s=NA(),[n,i,o]=jA(t),c=x2(s,o);let d=e;const{use:h}=c,f=(h||[]).concat(TA);for(let p=f.length;p--;)d=f[p](d);return d(n,i||c.fetcher||null,c)},CA=(e,t,s)=>{const n=t[e]||(t[e]=[]);return n.push(s),()=>{const i=n.indexOf(s);i>=0&&(n[i]=n[n.length-1],n.pop())}};wA();const Xg=re.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),Kg={dedupe:!0},kA=(e,t,s)=>{const{cache:n,compare:i,suspense:o,fallbackData:c,revalidateOnMount:d,revalidateIfStale:h,refreshInterval:f,refreshWhenHidden:p,refreshWhenOffline:g,keepPreviousData:x}=s,[b,j,v,_]=ei.get(n),[T,A]=$0(e),C=N.useRef(!1),S=N.useRef(!1),D=N.useRef(T),E=N.useRef(t),B=N.useRef(s),U=()=>B.current,R=()=>U().isVisible()&&U().isOnline(),[K,W,Z,q]=h2(n,T),G=N.useRef({}).current,I=ss(c)?ss(s.fallback)?En:s.fallback[T]:c,H=(_e,He)=>{for(const Ue in G){const mt=Ue;if(mt==="data"){if(!i(_e[mt],He[mt])&&(!ss(_e[mt])||!i(xe,He[mt])))return!1}else if(He[mt]!==_e[mt])return!1}return!0},J=N.useMemo(()=>{const _e=!T||!t?!1:ss(d)?U().isPaused()||o?!1:h!==!1:d,He=lt=>{const Q=si(lt);return delete Q._k,_e?F({isValidating:!0,isLoading:!0},Q):Q},Ue=K(),mt=q(),tt=He(Ue),Le=Ue===mt?tt:He(mt);let nt=tt;return[()=>{const lt=He(K());return H(lt,nt)?(nt.data=lt.data,nt.isLoading=lt.isLoading,nt.isValidating=lt.isValidating,nt.error=lt.error,nt):(nt=lt,lt)},()=>Le]},[n,T]),te=nA.useSyncExternalStore(N.useCallback(_e=>Z(T,(He,Ue)=>{H(Ue,He)||_e()}),[n,T]),J[0],J[1]),de=!C.current,P=b[T]&&b[T].length>0,ie=te.data,ne=ss(ie)?I&&f2(I)?Xg(I):I:ie,$=te.error,ee=N.useRef(ne),xe=x?ss(ie)?ss(ee.current)?ne:ee.current:ie:ne,he=P&&!ss($)?!1:de&&!ss(d)?d:U().isPaused()?!1:o?ss(ne)?!1:h:ss(ne)||h,ke=!!(T&&t&&de&&he),Ae=ss(te.isValidating)?ke:te.isValidating,Ve=ss(te.isLoading)?ke:te.isLoading,ze=N.useCallback(_e=>we(null,null,function*(){const He=E.current;if(!T||!He||S.current||U().isPaused())return!1;let Ue,mt,tt=!0;const Le=_e||{},nt=!v[T]||!Le.dedupe,lt=()=>s1?!S.current&&T===D.current&&C.current:T===D.current,Q={isValidating:!1,isLoading:!1},me=()=>{W(Q)},X=()=>{const Fe=v[T];Fe&&Fe[1]===mt&&delete v[T]},Se={isValidating:!0};ss(K().data)&&(Se.isLoading=!0);try{if(nt&&(W(Se),s.loadingTimeout&&ss(K().data)&&setTimeout(()=>{tt&&lt()&&U().onLoadingSlow(T,s)},s.loadingTimeout),v[T]=[He(A),Yx()]),[Ue,mt]=v[T],Ue=yield Ue,nt&&setTimeout(X,s.dedupingInterval),!v[T]||v[T][1]!==mt)return nt&&lt()&&U().onDiscarded(T),!1;Q.error=En;const Fe=j[T];if(!ss(Fe)&&(mt<=Fe[0]||mt<=Fe[1]||Fe[1]===0))return me(),nt&&lt()&&U().onDiscarded(T),!1;const Pe=K().data;Q.data=i(Pe,Ue)?Pe:Ue,nt&&lt()&&U().onSuccess(Ue,T,s)}catch(Fe){X();const Pe=U(),{shouldRetryOnError:We}=Pe;Pe.isPaused()||(Q.error=Fe,nt&&lt()&&(Pe.onError(Fe,T,Pe),(We===!0||Wa(We)&&We(Fe))&&(!U().revalidateOnFocus||!U().revalidateOnReconnect||R())&&Pe.onErrorRetry(Fe,T,Pe,Ke=>{const st=b[T];st&&st[0]&&st[0](e1,Ke)},{retryCount:(Le.retryCount||0)+1,dedupe:!0})))}return tt=!1,me(),!0}),[T,n]),M=N.useCallback((..._e)=>m2(n,D.current,..._e),[]);if(_h(()=>{E.current=t,B.current=s,ss(ie)||(ee.current=ie)}),_h(()=>{if(!T)return;const _e=ze.bind(En,Kg);let He=0;U().revalidateOnFocus&&(He=Date.now()+U().focusThrottleInterval);const Ue=CA(T,b,(mt,tt={})=>{if(mt==c2){const Le=Date.now();U().revalidateOnFocus&&Le>He&&R()&&(He=Le+U().focusThrottleInterval,_e())}else if(mt==d2)U().revalidateOnReconnect&&R()&&_e();else{if(mt==u2)return ze();if(mt==e1)return ze(tt)}});return S.current=!1,D.current=T,C.current=!0,W({_k:A}),he&&(ss(ne)||eu?_e():fA(_e)),()=>{S.current=!0,Ue()}},[T]),_h(()=>{let _e;function He(){const mt=Wa(f)?f(K().data):f;mt&&_e!==-1&&(_e=setTimeout(Ue,mt))}function Ue(){!K().error&&(p||U().isVisible())&&(g||U().isOnline())?ze(Kg).then(He):He()}return He(),()=>{_e&&(clearTimeout(_e),_e=-1)}},[f,p,g,T]),N.useDebugValue(xe),o&&ss(ne)&&T){if(!s1&&eu)throw new Error("Fallback data is required when using Suspense in SSR.");E.current=t,B.current=s,S.current=!1;const _e=_[T];if(!ss(_e)){const He=M(_e);Xg(He)}if(ss($)){const He=ze(Kg);ss(xe)||(He.status="fulfilled",He.value=!0),Xg(He)}else throw $}return{mutate:M,get data(){return G.data=!0,xe},get error(){return G.error=!0,$},get isValidating(){return G.isValidating=!0,Ae},get isLoading(){return G.isLoading=!0,Ve}}},EA=$h.defineProperty(yA,"defaultValue",{value:g2}),xm=SA(kA);Promise.resolve();const wr=Object.create(null);wr.open="0";wr.close="1";wr.ping="2";wr.pong="3";wr.message="4";wr.upgrade="5";wr.noop="6";const Th=Object.create(null);Object.keys(wr).forEach(e=>{Th[wr[e]]=e});const Xx={type:"error",data:"parser error"},b2=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",v2=typeof ArrayBuffer=="function",w2=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,V0=({type:e,data:t},s,n)=>b2&&t instanceof Blob?s?n(t):r1(t,n):v2&&(t instanceof ArrayBuffer||w2(t))?s?n(t):r1(new Blob([t]),n):n(wr[e]+(t||"")),r1=(e,t)=>{const s=new FileReader;return s.onload=function(){const n=s.result.split(",")[1];t("b"+(n||""))},s.readAsDataURL(e)};function i1(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Qg;function DA(e,t){if(b2&&e.data instanceof Blob)return e.data.arrayBuffer().then(i1).then(t);if(v2&&(e.data instanceof ArrayBuffer||w2(e.data)))return t(i1(e.data));V0(e,!1,s=>{Qg||(Qg=new TextEncoder),t(Qg.encode(s))})}const o1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Hd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<o1.length;e++)Hd[o1.charCodeAt(e)]=e;const AA=e=>{let t=e.length*.75,s=e.length,n,i=0,o,c,d,h;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const f=new ArrayBuffer(t),p=new Uint8Array(f);for(n=0;n<s;n+=4)o=Hd[e.charCodeAt(n)],c=Hd[e.charCodeAt(n+1)],d=Hd[e.charCodeAt(n+2)],h=Hd[e.charCodeAt(n+3)],p[i++]=o<<2|c>>4,p[i++]=(c&15)<<4|d>>2,p[i++]=(d&3)<<6|h&63;return f},OA=typeof ArrayBuffer=="function",q0=(e,t)=>{if(typeof e!="string")return{type:"message",data:j2(e,t)};const s=e.charAt(0);return s==="b"?{type:"message",data:RA(e.substring(1),t)}:Th[s]?e.length>1?{type:Th[s],data:e.substring(1)}:{type:Th[s]}:Xx},RA=(e,t)=>{if(OA){const s=AA(e);return j2(s,t)}else return{base64:!0,data:e}},j2=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},N2="",MA=(e,t)=>{const s=e.length,n=new Array(s);let i=0;e.forEach((o,c)=>{V0(o,!1,d=>{n[c]=d,++i===s&&t(n.join(N2))})})},PA=(e,t)=>{const s=e.split(N2),n=[];for(let i=0;i<s.length;i++){const o=q0(s[i],t);if(n.push(o),o.type==="error")break}return n};function LA(){return new TransformStream({transform(e,t){DA(e,s=>{const n=s.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,n)}else{i=new Uint8Array(9);const o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(s)})}})}let Zg;function Hf(e){return e.reduce((t,s)=>t+s.length,0)}function $f(e,t){if(e[0].length===t)return e.shift();const s=new Uint8Array(t);let n=0;for(let i=0;i<t;i++)s[i]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),s}function BA(e,t){Zg||(Zg=new TextDecoder);const s=[];let n=0,i=-1,o=!1;return new TransformStream({transform(c,d){for(s.push(c);;){if(n===0){if(Hf(s)<1)break;const h=$f(s,1);o=(h[0]&128)===128,i=h[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(Hf(s)<2)break;const h=$f(s,2);i=new DataView(h.buffer,h.byteOffset,h.length).getUint16(0),n=3}else if(n===2){if(Hf(s)<8)break;const h=$f(s,8),f=new DataView(h.buffer,h.byteOffset,h.length),p=f.getUint32(0);if(p>Math.pow(2,21)-1){d.enqueue(Xx);break}i=p*Math.pow(2,32)+f.getUint32(4),n=3}else{if(Hf(s)<i)break;const h=$f(s,i);d.enqueue(q0(o?h:Zg.decode(h),t)),n=0}if(i===0||i>e){d.enqueue(Xx);break}}}})}const _2=4;function Qs(e){if(e)return FA(e)}function FA(e){for(var t in Qs.prototype)e[t]=Qs.prototype[t];return e}Qs.prototype.on=Qs.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Qs.prototype.once=function(e,t){function s(){this.off(e,s),t.apply(this,arguments)}return s.fn=t,this.on(e,s),this};Qs.prototype.off=Qs.prototype.removeListener=Qs.prototype.removeAllListeners=Qs.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+e];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,i=0;i<s.length;i++)if(n=s[i],n===t||n.fn===t){s.splice(i,1);break}return s.length===0&&delete this._callbacks["$"+e],this};Qs.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),s=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(s){s=s.slice(0);for(var n=0,i=s.length;n<i;++n)s[n].apply(this,t)}return this};Qs.prototype.emitReserved=Qs.prototype.emit;Qs.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Qs.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Sa=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function T2(e,...t){return t.reduce((s,n)=>(e.hasOwnProperty(n)&&(s[n]=e[n]),s),{})}const UA=Sa.setTimeout,zA=Sa.clearTimeout;function ym(e,t){t.useNativeTimers?(e.setTimeoutFn=UA.bind(Sa),e.clearTimeoutFn=zA.bind(Sa)):(e.setTimeoutFn=Sa.setTimeout.bind(Sa),e.clearTimeoutFn=Sa.clearTimeout.bind(Sa))}const HA=1.33;function $A(e){return typeof e=="string"?IA(e):Math.ceil((e.byteLength||e.size)*HA)}function IA(e){let t=0,s=0;for(let n=0,i=e.length;n<i;n++)t=e.charCodeAt(n),t<128?s+=1:t<2048?s+=2:t<55296||t>=57344?s+=3:(n++,s+=4);return s}function VA(e){let t="";for(let s in e)e.hasOwnProperty(s)&&(t.length&&(t+="&"),t+=encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return t}function qA(e){let t={},s=e.split("&");for(let n=0,i=s.length;n<i;n++){let o=s[n].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}class WA extends Error{constructor(t,s,n){super(t),this.description=s,this.context=n,this.type="TransportError"}}class W0 extends Qs{constructor(t){super(),this.writable=!1,ym(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,s,n){return super.emitReserved("error",new WA(t,s,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const s=q0(t,this.socket.binaryType);this.onPacket(s)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,s={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const s=VA(t);return s.length?"?"+s:""}}const S2="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Kx=64,YA={};let l1=0,If=0,c1;function d1(e){let t="";do t=S2[e%Kx]+t,e=Math.floor(e/Kx);while(e>0);return t}function C2(){const e=d1(+new Date);return e!==c1?(l1=0,c1=e):e+"."+d1(l1++)}for(;If<Kx;If++)YA[S2[If]]=If;let k2=!1;try{k2=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(e){}const GA=k2;function E2(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||GA))return new XMLHttpRequest}catch(s){}if(!t)try{return new Sa[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(s){}}function XA(){}const KA=function(){return new E2({xdomain:!1}).responseType!=null}();class QA extends W0{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const n=location.protocol==="https:";let i=location.port;i||(i=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||i!==t.port}const s=t&&t.forceBase64;this.supportsBinary=KA&&!s,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const s=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||s()})),this.writable||(n++,this.once("drain",function(){--n||s()}))}else s()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const s=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};PA(t,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,MA(t,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=C2()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(t,s)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new sc(this.uri(),t)}doWrite(t,s){const n=this.request({method:"POST",data:t});n.on("success",s),n.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(s,n)=>{this.onError("xhr poll error",s,n)}),this.pollXhr=t}}let sc=class Sh extends Qs{constructor(t,s){super(),ym(this,s),this.opts=s,this.method=s.method||"GET",this.uri=t,this.data=s.data!==void 0?s.data:null,this.create()}create(){var t;const s=T2(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this.opts.xd;const n=this.xhr=new E2(s);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this.opts.extraHeaders[i])}}catch(i){}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(i){}try{n.setRequestHeader("Accept","*/*")}catch(i){}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this.opts.cookieJar)===null||i===void 0||i.parseCookies(n)),n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},n.send(this.data)}catch(i){this.setTimeoutFn(()=>{this.onError(i)},0);return}typeof document<"u"&&(this.index=Sh.requestsCount++,Sh.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=XA,t)try{this.xhr.abort()}catch(s){}typeof document<"u"&&delete Sh.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};sc.requestsCount=0;sc.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",u1);else if(typeof addEventListener=="function"){const e="onpagehide"in Sa?"pagehide":"unload";addEventListener(e,u1,!1)}}function u1(){for(let e in sc.requests)sc.requests.hasOwnProperty(e)&&sc.requests[e].abort()}const Y0=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Vf=Sa.WebSocket||Sa.MozWebSocket,f1=!0,ZA="arraybuffer",h1=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class JA extends W0{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),s=this.opts.protocols,n=h1?{}:T2(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=f1&&!h1?s?new Vf(t,s):new Vf(t):new Vf(t,s,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const n=t[s],i=s===t.length-1;V0(n,this.supportsBinary,o=>{try{f1&&this.ws.send(o)}catch(c){}i&&Y0(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=C2()),this.supportsBinary||(s.b64=1),this.createUri(t,s)}check(){return!!Vf}}class eO extends W0{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const s=BA(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(s).getReader(),i=LA();i.readable.pipeTo(t.writable),this.writer=i.writable.getWriter();const o=()=>{n.read().then(({done:d,value:h})=>{d||(this.onPacket(h),o())}).catch(d=>{})};o();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this.writer.write(c).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const n=t[s],i=s===t.length-1;this.writer.write(n).then(()=>{i&&Y0(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const tO={websocket:JA,webtransport:eO,polling:QA},sO=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,nO=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Qx(e){if(e.length>2e3)throw"URI too long";const t=e,s=e.indexOf("["),n=e.indexOf("]");s!=-1&&n!=-1&&(e=e.substring(0,s)+e.substring(s,n).replace(/:/g,";")+e.substring(n,e.length));let i=sO.exec(e||""),o={},c=14;for(;c--;)o[nO[c]]=i[c]||"";return s!=-1&&n!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=aO(o,o.path),o.queryKey=rO(o,o.query),o}function aO(e,t){const s=/\/{2,9}/g,n=t.replace(s,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function rO(e,t){const s={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,o){i&&(s[i]=o)}),s}let D2=class Ql extends Qs{constructor(t,s={}){super(),this.binaryType=ZA,this.writeBuffer=[],t&&typeof t=="object"&&(s=t,t=null),t?(t=Qx(t),s.hostname=t.host,s.secure=t.protocol==="https"||t.protocol==="wss",s.port=t.port,t.query&&(s.query=t.query)):s.host&&(s.hostname=Qx(s.host).host),ym(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=s.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=qA(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const s=Object.assign({},this.opts.query);s.EIO=_2,s.transport=t,this.id&&(s.sid=this.id);const n=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new tO[t](n)}open(){let t;if(this.opts.rememberUpgrade&&Ql.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch(s){this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",s=>this.onClose("transport close",s))}probe(t){let s=this.createTransport(t),n=!1;Ql.priorWebsocketSuccess=!1;const i=()=>{n||(s.send([{type:"ping",data:"probe"}]),s.once("packet",g=>{if(!n)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;Ql.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(p(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const x=new Error("probe error");x.transport=s.name,this.emitReserved("upgradeError",x)}}))};function o(){n||(n=!0,p(),s.close(),s=null)}const c=g=>{const x=new Error("probe error: "+g);x.transport=s.name,o(),this.emitReserved("upgradeError",x)};function d(){c("transport closed")}function h(){c("socket closed")}function f(g){s&&g.name!==s.name&&o()}const p=()=>{s.removeListener("open",i),s.removeListener("error",c),s.removeListener("close",d),this.off("close",h),this.off("upgrading",f)};s.once("open",i),s.once("error",c),s.once("close",d),this.once("close",h),this.once("upgrading",f),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||s.open()},200):s.open()}onOpen(){if(this.readyState="open",Ql.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const s=this.upgrades.length;for(;t<s;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const s=new Error("server error");s.code=t.data,this.onError(s);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let s=0;s<this.writeBuffer.length;s++){const n=this.writeBuffer[s].data;if(n&&(t+=$A(n)),s>0&&t>this.maxPayload)return this.writeBuffer.slice(0,s);t+=2}return this.writeBuffer}write(t,s,n){return this.sendPacket("message",t,s,n),this}send(t,s,n){return this.sendPacket("message",t,s,n),this}sendPacket(t,s,n,i){if(typeof s=="function"&&(i=s,s=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const o={type:t,data:s,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),t()},n=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}onError(t){Ql.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,s){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,s),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const s=[];let n=0;const i=t.length;for(;n<i;n++)~this.transports.indexOf(t[n])&&s.push(t[n]);return s}};D2.protocol=_2;function iO(e,t="",s){let n=e;s=s||typeof location<"u"&&location,e==null&&(e=s.protocol+"//"+s.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=s.protocol+e:e=s.host+e),/^(https?|wss?):\/\//.test(e)||(typeof s<"u"?e=s.protocol+"//"+e:e="https://"+e),n=Qx(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+t,n.href=n.protocol+"://"+i+(s&&s.port===n.port?"":":"+n.port),n}const oO=typeof ArrayBuffer=="function",lO=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,A2=Object.prototype.toString,cO=typeof Blob=="function"||typeof Blob<"u"&&A2.call(Blob)==="[object BlobConstructor]",dO=typeof File=="function"||typeof File<"u"&&A2.call(File)==="[object FileConstructor]";function G0(e){return oO&&(e instanceof ArrayBuffer||lO(e))||cO&&e instanceof Blob||dO&&e instanceof File}function Ch(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let s=0,n=e.length;s<n;s++)if(Ch(e[s]))return!0;return!1}if(G0(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Ch(e.toJSON(),!0);for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&Ch(e[s]))return!0;return!1}function uO(e){const t=[],s=e.data,n=e;return n.data=Zx(s,t),n.attachments=t.length,{packet:n,buffers:t}}function Zx(e,t){if(!e)return e;if(G0(e)){const s={_placeholder:!0,num:t.length};return t.push(e),s}else if(Array.isArray(e)){const s=new Array(e.length);for(let n=0;n<e.length;n++)s[n]=Zx(e[n],t);return s}else if(typeof e=="object"&&!(e instanceof Date)){const s={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=Zx(e[n],t));return s}return e}function fO(e,t){return e.data=Jx(e.data,t),delete e.attachments,e}function Jx(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let s=0;s<e.length;s++)e[s]=Jx(e[s],t);else if(typeof e=="object")for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(e[s]=Jx(e[s],t));return e}const hO=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],mO=5;var Zt;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Zt||(Zt={}));class pO{constructor(t){this.replacer=t}encode(t){return(t.type===Zt.EVENT||t.type===Zt.ACK)&&Ch(t)?this.encodeAsBinary({type:t.type===Zt.EVENT?Zt.BINARY_EVENT:Zt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let s=""+t.type;return(t.type===Zt.BINARY_EVENT||t.type===Zt.BINARY_ACK)&&(s+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(s+=t.nsp+","),t.id!=null&&(s+=t.id),t.data!=null&&(s+=JSON.stringify(t.data,this.replacer)),s}encodeAsBinary(t){const s=uO(t),n=this.encodeAsString(s.packet),i=s.buffers;return i.unshift(n),i}}function m1(e){return Object.prototype.toString.call(e)==="[object Object]"}class X0 extends Qs{constructor(t){super(),this.reviver=t}add(t){let s;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(t);const n=s.type===Zt.BINARY_EVENT;n||s.type===Zt.BINARY_ACK?(s.type=n?Zt.EVENT:Zt.ACK,this.reconstructor=new gO(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(G0(t)||t.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(t),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let s=0;const n={type:Number(t.charAt(0))};if(Zt[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Zt.BINARY_EVENT||n.type===Zt.BINARY_ACK){const o=s+1;for(;t.charAt(++s)!=="-"&&s!=t.length;);const c=t.substring(o,s);if(c!=Number(c)||t.charAt(s)!=="-")throw new Error("Illegal attachments");n.attachments=Number(c)}if(t.charAt(s+1)==="/"){const o=s+1;for(;++s&&!(t.charAt(s)===","||s===t.length););n.nsp=t.substring(o,s)}else n.nsp="/";const i=t.charAt(s+1);if(i!==""&&Number(i)==i){const o=s+1;for(;++s;){const c=t.charAt(s);if(c==null||Number(c)!=c){--s;break}if(s===t.length)break}n.id=Number(t.substring(o,s+1))}if(t.charAt(++s)){const o=this.tryParse(t.substr(s));if(X0.isPayloadValid(n.type,o))n.data=o;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(s){return!1}}static isPayloadValid(t,s){switch(t){case Zt.CONNECT:return m1(s);case Zt.DISCONNECT:return s===void 0;case Zt.CONNECT_ERROR:return typeof s=="string"||m1(s);case Zt.EVENT:case Zt.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&hO.indexOf(s[0])===-1);case Zt.ACK:case Zt.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class gO{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const s=fO(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const xO=Object.freeze(Object.defineProperty({__proto__:null,Decoder:X0,Encoder:pO,get PacketType(){return Zt},protocol:mO},Symbol.toStringTag,{value:"Module"}));function qa(e,t,s){return e.on(t,s),function(){e.off(t,s)}}const yO=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class O2 extends Qs{constructor(t,s,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=s,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[qa(t,"open",this.onopen.bind(this)),qa(t,"packet",this.onpacket.bind(this)),qa(t,"error",this.onerror.bind(this)),qa(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...s){if(yO.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(s.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const n={type:Zt.EVENT,data:s};if(n.options={},n.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const o=this.ids++,c=s.pop();this._registerAckCallback(o,c),n.id=o}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(t,s){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[t]=s;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===t&&this.sendBuffer.splice(c,1);s.call(this,new Error("operation has timed out"))},i);this.acks[t]=(...c)=>{this.io.clearTimeoutFn(o),s.apply(this,[null,...c])}}emitWithAck(t,...s){const n=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((i,o)=>{s.push((c,d)=>n?c?o(c):i(d):i(c)),this.emit(t,...s)})}_addToQueue(t){let s;typeof t[t.length-1]=="function"&&(s=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...o)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(i)):(this._queue.shift(),s&&s(null,...o)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!t||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Zt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,s)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Zt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Zt.EVENT:case Zt.BINARY_EVENT:this.onevent(t);break;case Zt.ACK:case Zt.BINARY_ACK:this.onack(t);break;case Zt.DISCONNECT:this.ondisconnect();break;case Zt.CONNECT_ERROR:this.destroy();const s=new Error(t.data.message);s.data=t.data.data,this.emitReserved("connect_error",s);break}}onevent(t){const s=t.data||[];t.id!=null&&s.push(this.ack(t.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const n of s)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const s=this;let n=!1;return function(...i){n||(n=!0,s.packet({type:Zt.ACK,id:t,data:i}))}}onack(t){const s=this.acks[t.id];typeof s=="function"&&(s.apply(this,t.data),delete this.acks[t.id])}onconnect(t,s){this.id=t,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Zt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const s=this._anyListeners;for(let n=0;n<s.length;n++)if(t===s[n])return s.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const s=this._anyOutgoingListeners;for(let n=0;n<s.length;n++)if(t===s[n])return s.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const n of s)n.apply(this,t.data)}}}function hc(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}hc.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),s=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-s:e+s}return Math.min(e,this.max)|0};hc.prototype.reset=function(){this.attempts=0};hc.prototype.setMin=function(e){this.ms=e};hc.prototype.setMax=function(e){this.max=e};hc.prototype.setJitter=function(e){this.jitter=e};class e0 extends Qs{constructor(t,s){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(s=t,t=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,ym(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((n=s.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new hc({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=t;const i=s.parser||xO;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var s;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(s=this.backoff)===null||s===void 0||s.setMin(t),this)}randomizationFactor(t){var s;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(s=this.backoff)===null||s===void 0||s.setJitter(t),this)}reconnectionDelayMax(t){var s;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(s=this.backoff)===null||s===void 0||s.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new D2(this.uri,this.opts);const s=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=qa(s,"open",function(){n.onopen(),t&&t()}),o=d=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",d),t?t(d):this.maybeReconnectOnOpen()},c=qa(s,"error",o);if(this._timeout!==!1){const d=this._timeout,h=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),s.close()},d);this.opts.autoUnref&&h.unref(),this.subs.push(()=>{this.clearTimeoutFn(h)})}return this.subs.push(i),this.subs.push(c),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(qa(t,"ping",this.onping.bind(this)),qa(t,"data",this.ondata.bind(this)),qa(t,"error",this.onerror.bind(this)),qa(t,"close",this.onclose.bind(this)),qa(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(s){this.onclose("parse error",s)}}ondecoded(t){Y0(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,s){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new O2(this,t,s),this.nsps[t]=n),n}_destroy(t){const s=Object.keys(this.nsps);for(const n of s)if(this.nsps[n].active)return;this._close()}_packet(t){const s=this.encoder.encode(t);for(let n=0;n<s.length;n++)this.engine.write(s[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,s){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},s);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Td={};function kh(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const s=iO(e,t.path||"/socket.io"),n=s.source,i=s.id,o=s.path,c=Td[i]&&o in Td[i].nsps,d=t.forceNew||t["force new connection"]||t.multiplex===!1||c;let h;return d?h=new e0(n,t):(Td[i]||(Td[i]=new e0(n,t)),h=Td[i]),s.query&&!t.query&&(t.query=s.queryKey),h.socket(s.path,t)}Object.assign(kh,{Manager:e0,Socket:O2,io:kh,connect:kh});class bO{constructor(t,s,n,i){Do(this,"socket_port"),Do(this,"host"),Do(this,"port"),Do(this,"protocol"),Do(this,"url"),Do(this,"site_name"),Do(this,"socket");var o,c,d,h;if(this.socket_port=n!=null?n:"9000",this.host=(o=window.location)==null?void 0:o.hostname,this.port=(c=window.location)!=null&&c.port?`:${this.socket_port}`:"",this.protocol=((d=window.location)==null?void 0:d.protocol)==="https:"?"https":"http",t){let f=new URL(t);f.port="",n?(f.port=n,this.url=f.toString()):this.url=f.toString()}else this.url=`${this.protocol}://${this.host}${this.port}/`;s&&(this.url=`${this.url}${s}`),this.site_name=s,this.socket=kh(`${this.url}`,{withCredentials:!0,secure:this.protocol==="https",extraHeaders:i&&i.useToken===!0?{Authorization:`${i.type} ${(h=i.token)==null?void 0:h.call(i)}`}:{}})}}const ri=N.createContext(null),vO=({url:e="",tokenParams:t,socketPort:s,swrConfig:n,siteName:i,enableSocket:o=!0,children:c,customHeaders:d})=>{const h=N.useMemo(()=>{const f=new eA.FrappeApp(e,t,void 0,d);return{url:e,tokenParams:t,app:f,auth:f.auth(),db:f.db(),call:f.call(),file:f.file(),socket:o?new bO(e,i,s,t).socket:void 0,enableSocket:o,socketPort:s}},[e,t,s,o,d]);return a.jsx(ri.Provider,{value:h,children:a.jsx(EA,{value:n,children:c})})},On=e=>{const{url:t,auth:s,tokenParams:n}=N.useContext(ri),[i,o]=N.useState(),c=N.useCallback(()=>{const j=document.cookie.split(";").find(v=>v.trim().startsWith("user_id="));if(j){const v=j.split("=")[1];o(v&&v!=="Guest"?v:null)}else o(null)},[]);N.useEffect(()=>{n&&n.useToken?o(null):c()},[]);const{data:d,error:h,isLoading:f,isValidating:p,mutate:g}=xm(()=>n&&n.useToken||i?`${t}/api/method/frappe.auth.get_logged_user`:null,()=>s.getLoggedInUser(),F({onError:()=>{o(null)},shouldRetryOnError:!1,revalidateOnFocus:!1},e)),x=N.useCallback(j=>we(null,null,function*(){return s.loginWithUsernamePassword(j).then(v=>(c(),v))}),[]),b=N.useCallback(()=>we(null,null,function*(){return s.logout().then(()=>g(null)).then(()=>o(null))}),[]);return{isLoading:i===void 0||f,currentUser:d,isValidating:p,error:h,login:x,logout:b,updateCurrentUser:g,getUserCookie:c}},R2=(e,t,s)=>{let n=`${t}/api/resource/`;return s?n+=`${e}/${s}`:n+=`${e}`,n},Ot=(e,t,s,n)=>{const{url:i,db:o}=N.useContext(ri);return xm(s===void 0?R2(e,i,t):s,()=>o.getDoc(e,t),n)},wO=e=>{var i;var t,s;let n="";if(e!=null&&e.fields&&(n+="fields="+JSON.stringify(e==null?void 0:e.fields)+"&"),e!=null&&e.filters&&(n+="filters="+JSON.stringify(e==null?void 0:e.filters)+"&"),e!=null&&e.orFilters&&(n+="or_filters="+JSON.stringify(e==null?void 0:e.orFilters)+"&"),e!=null&&e.limit_start&&(n+="limit_start="+JSON.stringify(e==null?void 0:e.limit_start)+"&"),e!=null&&e.limit&&(n+="limit="+JSON.stringify(e==null?void 0:e.limit)+"&"),e!=null&&e.groupBy&&(n+="group_by="+String(e.groupBy)+"&"),e!=null&&e.orderBy){const o=`${String((t=e.orderBy)==null?void 0:t.field)} ${(i=(s=e.orderBy)==null?void 0:s.order)!=null?i:"asc"}`;n+="order_by="+o+"&"}return e!=null&&e.asDict&&(n+="as_dict="+e.asDict),n},Nt=(e,t,s,n)=>{const{url:i,db:o}=N.useContext(ri);return xm(s===void 0?`${R2(e,i)}?${wO(t)}`:s,()=>o.getDocList(e,t),n)},eo=()=>{const{db:e}=N.useContext(ri),[t,s]=N.useState(!1),[n,i]=N.useState(null),[o,c]=N.useState(!1),d=N.useCallback(()=>{s(!1),i(null),c(!1)},[]);return{createDoc:N.useCallback((h,f)=>we(null,null,function*(){return i(null),c(!1),s(!0),e.createDoc(h,f).then(p=>(s(!1),c(!0),p)).catch(p=>{throw s(!1),c(!1),i(p),p})}),[]),loading:t,error:n,isCompleted:o,reset:d}},Kn=()=>{const{db:e}=N.useContext(ri),[t,s]=N.useState(!1),[n,i]=N.useState(null),[o,c]=N.useState(!1),d=N.useCallback(()=>{s(!1),i(null),c(!1)},[]);return{updateDoc:N.useCallback((h,f,p)=>we(null,null,function*(){return i(null),c(!1),s(!0),e.updateDoc(h,f,p).then(g=>(s(!1),c(!0),g)).catch(g=>{throw s(!1),c(!1),i(g),g})}),[]),loading:t,error:n,reset:d,isCompleted:o}},bm=()=>{const{db:e}=N.useContext(ri),[t,s]=N.useState(!1),[n,i]=N.useState(null),[o,c]=N.useState(!1),d=N.useCallback(()=>{s(!1),i(null),c(!1)},[]);return{deleteDoc:N.useCallback((h,f)=>we(null,null,function*(){return i(null),c(!1),s(!0),e.deleteDoc(h,f).then(p=>(s(!1),c(!0),p)).catch(p=>{throw s(!1),c(!1),i(p),p})}),[]),loading:t,error:n,reset:d,isCompleted:o}};function jO(e){const t=[];for(let s in e)t.push(encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return t.join("&")}const NO=(e,t,s,n,i="GET")=>{const{call:o}=N.useContext(ri),c=jO(t!=null?t:{}),d=`${e}?${c}`;return F({},xm(s===void 0?d:s,i==="GET"?()=>o.get(e,t):()=>o.post(e,t),n))},yn=e=>{const{call:t}=N.useContext(ri),[s,n]=N.useState(null),[i,o]=N.useState(!1),[c,d]=N.useState(null),[h,f]=N.useState(!1),p=N.useCallback(()=>{n(null),o(!1),d(null),f(!1)},[]);return{call:N.useCallback(g=>we(null,null,function*(){return d(null),f(!1),o(!0),n(null),t.post(e,g).then(x=>(n(x),o(!1),f(!0),x)).catch(x=>{throw o(!1),f(!1),d(x),x})}),[]),result:s,loading:i,error:c,reset:p,isCompleted:h}};var _O=(e,t,s,n,i,o,c,d)=>{let h=document.documentElement,f=["light","dark"];function p(b){(Array.isArray(e)?e:[e]).forEach(j=>{let v=j==="class",_=v&&o?i.map(T=>o[T]||T):i;v?(h.classList.remove(..._),h.classList.add(o&&o[b]?o[b]:b)):h.setAttribute(j,b)}),g(b)}function g(b){d&&f.includes(b)&&(h.style.colorScheme=b)}function x(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)p(n);else try{let b=localStorage.getItem(t)||s,j=c&&b==="system"?x():b;p(j)}catch(b){}},p1=["light","dark"],M2="(prefers-color-scheme: dark)",TO=typeof window=="undefined",K0=N.createContext(void 0),SO={setTheme:e=>{},themes:[]},CO=()=>{var e;return(e=N.useContext(K0))!=null?e:SO},kO=e=>N.useContext(K0)?N.createElement(N.Fragment,null,e.children):N.createElement(DO,F({},e)),EO=["light","dark"],DO=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:s=!0,enableColorScheme:n=!0,storageKey:i="theme",themes:o=EO,defaultTheme:c=s?"system":"light",attribute:d="data-theme",value:h,children:f,nonce:p,scriptProps:g})=>{let[x,b]=N.useState(()=>OO(i,c)),[j,v]=N.useState(()=>x==="system"?Jg():x),_=h?Object.values(h):o,T=N.useCallback(D=>{let E=D;if(!E)return;D==="system"&&s&&(E=Jg());let B=h?h[E]:E,U=t?RO(p):null,R=document.documentElement,K=W=>{W==="class"?(R.classList.remove(..._),B&&R.classList.add(B)):W.startsWith("data-")&&(B?R.setAttribute(W,B):R.removeAttribute(W))};if(Array.isArray(d)?d.forEach(K):K(d),n){let W=p1.includes(c)?c:null,Z=p1.includes(E)?E:W;R.style.colorScheme=Z}U==null||U()},[p]),A=N.useCallback(D=>{let E=typeof D=="function"?D(x):D;b(E);try{localStorage.setItem(i,E)}catch(B){}},[x]),C=N.useCallback(D=>{let E=Jg(D);v(E),x==="system"&&s&&!e&&T("system")},[x,e]);N.useEffect(()=>{let D=window.matchMedia(M2);return D.addListener(C),C(D),()=>D.removeListener(C)},[C]),N.useEffect(()=>{let D=E=>{E.key===i&&(E.newValue?b(E.newValue):A(c))};return window.addEventListener("storage",D),()=>window.removeEventListener("storage",D)},[A]),N.useEffect(()=>{T(e!=null?e:x)},[e,x]);let S=N.useMemo(()=>({theme:x,setTheme:A,forcedTheme:e,resolvedTheme:x==="system"?j:x,themes:s?[...o,"system"]:o,systemTheme:s?j:void 0}),[x,A,e,j,s,o]);return N.createElement(K0.Provider,{value:S},N.createElement(AO,{forcedTheme:e,storageKey:i,attribute:d,enableSystem:s,enableColorScheme:n,defaultTheme:c,value:h,themes:o,nonce:p,scriptProps:g}),f)},AO=N.memo(({forcedTheme:e,storageKey:t,attribute:s,enableSystem:n,enableColorScheme:i,defaultTheme:o,value:c,themes:d,nonce:h,scriptProps:f})=>{let p=JSON.stringify([s,t,o,e,d,c,n,i]).slice(1,-1);return N.createElement("script",le(F({},f),{suppressHydrationWarning:!0,nonce:typeof window=="undefined"?h:"",dangerouslySetInnerHTML:{__html:`(${_O.toString()})(${p})`}}))}),OO=(e,t)=>{if(TO)return;let s;try{s=localStorage.getItem(e)||void 0}catch(n){}return s||t},RO=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},Jg=e=>(e||(e=window.matchMedia(M2)),e.matches?"dark":"light");/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var P2=e=>{throw TypeError(e)},MO=(e,t,s)=>t.has(e)||P2("Cannot "+s),ex=(e,t,s)=>(MO(e,t,"read from private field"),s?s.call(e):t.get(e)),PO=(e,t,s)=>t.has(e)?P2("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),g1="popstate";function LO(e={}){function t(n,i){let{pathname:o,search:c,hash:d}=n.location;return tu("",{pathname:o,search:c,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(n,i){return typeof i=="string"?i:Yi(i)}return FO(t,s,null,e)}function Wt(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function Zs(e,t){if(!e){typeof console!="undefined"&&console.warn(t);try{throw new Error(t)}catch(s){}}}function BO(){return Math.random().toString(36).substring(2,10)}function x1(e,t){return{usr:e.state,key:e.key,idx:t}}function tu(e,t,s=null,n){return le(F({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?to(t):t),{state:s,key:t&&t.key||n||BO()})}function Yi({pathname:e="/",search:t="",hash:s=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function to(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substring(s),e=e.substring(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function FO(e,t,s,n={}){let{window:i=document.defaultView,v5Compat:o=!1}=n,c=i.history,d="POP",h=null,f=p();f==null&&(f=0,c.replaceState(le(F({},c.state),{idx:f}),""));function p(){return(c.state||{idx:null}).idx}function g(){d="POP";let _=p(),T=_==null?null:_-f;f=_,h&&h({action:d,location:v.location,delta:T})}function x(_,T){d="PUSH";let A=tu(v.location,_,T);f=p()+1;let C=x1(A,f),S=v.createHref(A);try{c.pushState(C,"",S)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(S)}o&&h&&h({action:d,location:v.location,delta:1})}function b(_,T){d="REPLACE";let A=tu(v.location,_,T);f=p();let C=x1(A,f),S=v.createHref(A);c.replaceState(C,"",S),o&&h&&h({action:d,location:v.location,delta:0})}function j(_){return L2(_)}let v={get action(){return d},get location(){return e(i,c)},listen(_){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(g1,g),h=_,()=>{i.removeEventListener(g1,g),h=null}},createHref(_){return t(i,_)},createURL:j,encodeLocation(_){let T=j(_);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:x,replace:b,go(_){return c.go(_)}};return v}function L2(e,t=!1){let s="http://localhost";typeof window!="undefined"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Wt(s,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Yi(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=s+n),new URL(n,s)}var $d,y1=class{constructor(e){if(PO(this,$d,new Map),e)for(let[t,s]of e)this.set(t,s)}get(e){if(ex(this,$d).has(e))return ex(this,$d).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){ex(this,$d).set(e,t)}};$d=new WeakMap;var UO=new Set(["lazy","caseSensitive","path","id","index","children"]);function zO(e){return UO.has(e)}var HO=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function $O(e){return HO.has(e)}function IO(e){return e.index===!0}function su(e,t,s=[],n={},i=!1){return e.map((o,c)=>{let d=[...s,String(c)],h=typeof o.id=="string"?o.id:d.join("-");if(Wt(o.index!==!0||!o.children,"Cannot specify children on an index route"),Wt(i||!n[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),IO(o)){let f=le(F(F({},o),t(o)),{id:h});return n[h]=f,f}else{let f=le(F(F({},o),t(o)),{id:h,children:void 0});return n[h]=f,o.children&&(f.children=su(o.children,t,d,n,i)),f}})}function Ui(e,t,s="/"){return Eh(e,t,s,!1)}function Eh(e,t,s,n){let i=typeof t=="string"?to(t):t,o=Oa(i.pathname||"/",s);if(o==null)return null;let c=B2(e);qO(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let f=sR(o);d=eR(c[h],f,n)}return d}function VO(e,t){let{route:s,pathname:n,params:i}=e;return{id:s.id,pathname:n,params:i,data:t[s.id],handle:s.handle}}function B2(e,t=[],s=[],n=""){let i=(o,c,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};h.relativePath.startsWith("/")&&(Wt(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length));let f=br([n,h.relativePath]),p=s.concat(h);o.children&&o.children.length>0&&(Wt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),B2(o.children,t,p,f)),!(o.path==null&&!o.index)&&t.push({path:f,score:ZO(f,o.index),routesMeta:p})};return e.forEach((o,c)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))i(o,c);else for(let h of F2(o.path))i(o,c,h)}),t}function F2(e){let t=e.split("/");if(t.length===0)return[];let[s,...n]=t,i=s.endsWith("?"),o=s.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let c=F2(n.join("/")),d=[];return d.push(...c.map(h=>h===""?o:[o,h].join("/"))),i&&d.push(...c),d.map(h=>e.startsWith("/")&&h===""?"/":h)}function qO(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:JO(t.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}var WO=/^:[\w-]+$/,YO=3,GO=2,XO=1,KO=10,QO=-2,b1=e=>e==="*";function ZO(e,t){let s=e.split("/"),n=s.length;return s.some(b1)&&(n+=QO),t&&(n+=GO),s.filter(i=>!b1(i)).reduce((i,o)=>i+(WO.test(o)?YO:o===""?XO:KO),n)}function JO(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function eR(e,t,s=!1){let{routesMeta:n}=e,i={},o="/",c=[];for(let d=0;d<n.length;++d){let h=n[d],f=d===n.length-1,p=o==="/"?t:t.slice(o.length)||"/",g=Ih({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),x=h.route;if(!g&&f&&s&&!n[n.length-1].route.index&&(g=Ih({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),c.push({params:i,pathname:br([o,g.pathname]),pathnameBase:iR(br([o,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(o=br([o,g.pathnameBase]))}return c}function Ih(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=tR(e.path,e.caseSensitive,e.end),i=t.match(s);if(!i)return null;let o=i[0],c=o.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:n.reduce((f,{paramName:p,isOptional:g},x)=>{if(p==="*"){let j=d[x]||"";c=o.slice(0,o.length-j.length).replace(/(.)\/+$/,"$1")}const b=d[x];return g&&!b?f[p]=void 0:f[p]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:c,pattern:e}}function tR(e,t=!1,s=!0){Zs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(n.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function sR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Zs(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Oa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&n!=="/"?null:e.slice(s)||"/"}function nR({basename:e,pathname:t}){return t==="/"?e:br([e,t])}function aR(e,t="/"){let{pathname:s,search:n="",hash:i=""}=typeof e=="string"?to(e):e;return{pathname:s?s.startsWith("/")?s:rR(s,t):t,search:oR(n),hash:lR(i)}}function rR(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function tx(e,t,s,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function U2(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Q0(e){let t=U2(e);return t.map((s,n)=>n===t.length-1?s.pathname:s.pathnameBase)}function Z0(e,t,s,n=!1){let i;typeof e=="string"?i=to(e):(i=F({},e),Wt(!i.pathname||!i.pathname.includes("?"),tx("?","pathname","search",i)),Wt(!i.pathname||!i.pathname.includes("#"),tx("#","pathname","hash",i)),Wt(!i.search||!i.search.includes("#"),tx("#","search","hash",i)));let o=e===""||i.pathname==="",c=o?"/":i.pathname,d;if(c==null)d=s;else{let g=t.length-1;if(!n&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),g-=1;i.pathname=x.join("/")}d=g>=0?t[g]:"/"}let h=aR(i,d),f=c&&c!=="/"&&c.endsWith("/"),p=(o||c===".")&&s.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}var br=e=>e.join("/").replace(/\/\/+/g,"/"),iR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),oR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,lR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Vh=class{constructor(e,t,s,n=!1){this.status=e,this.statusText=t||"",this.internal=n,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function nu(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var z2=["POST","PUT","PATCH","DELETE"],cR=new Set(z2),dR=["GET",...z2],uR=new Set(dR),fR=new Set([301,302,303,307,308]),hR=new Set([307,308]),sx={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},mR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Sd={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},pR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,J0=e=>pR.test(e),gR=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),H2="remix-router-transitions",$2=Symbol("ResetLoaderData");function xR(e){const t=e.window?e.window:typeof window!="undefined"?window:void 0,s=typeof t!="undefined"&&typeof t.document!="undefined"&&typeof t.document.createElement!="undefined";Wt(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=e.hydrationRouteProperties||[],i=e.mapRouteProperties||gR,o={},c=su(e.routes,i,void 0,o),d,h=e.basename||"/",f=e.dataStrategy||jR,p=F({unstable_middleware:!1},e.future),g=null,x=new Set,b=null,j=null,v=null,_=e.hydrationData!=null,T=Ui(c,e.history.location,h),A=!1,C=null,S;if(T==null&&!e.patchRoutesOnNavigation){let ae=_a(404,{pathname:e.history.location.pathname}),{matches:ce,route:ge}=A1(c);S=!0,T=ce,C={[ge.id]:ae}}else if(T&&!e.hydrationData&&et(T,c,e.history.location.pathname).active&&(T=null),T)if(T.some(ae=>ae.route.lazy))S=!1;else if(!T.some(ae=>ae.route.loader))S=!0;else{let ae=e.hydrationData?e.hydrationData.loaderData:null,ce=e.hydrationData?e.hydrationData.errors:null;if(ce){let ge=T.findIndex(Te=>ce[Te.route.id]!==void 0);S=T.slice(0,ge+1).every(Te=>!s0(Te.route,ae,ce))}else S=T.every(ge=>!s0(ge.route,ae,ce))}else{S=!1,T=[];let ae=et(null,c,e.history.location.pathname);ae.active&&ae.matches&&(A=!0,T=ae.matches)}let D,E={historyAction:e.history.action,location:e.history.location,matches:T,initialized:S,navigation:sx,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||C,fetchers:new Map,blockers:new Map},B="POP",U=!1,R,K=!1,W=new Map,Z=null,q=!1,G=!1,I=new Set,H=new Map,J=0,te=-1,de=new Map,P=new Set,ie=new Map,ne=new Map,$=new Set,ee=new Map,xe,he=null;function ke(){if(g=e.history.listen(({action:ae,location:ce,delta:ge})=>{if(xe){xe(),xe=void 0;return}Zs(ee.size===0||ge!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Te=rn({currentLocation:E.location,nextLocation:ce,historyAction:ae});if(Te&&ge!=null){let Me=new Promise(Ye=>{xe=Ye});e.history.go(ge*-1),qs(Te,{state:"blocked",location:ce,proceed(){qs(Te,{state:"proceeding",proceed:void 0,reset:void 0,location:ce}),Me.then(()=>e.history.go(ge))},reset(){let Ye=new Map(E.blockers);Ye.set(Te,Sd),ze({blockers:Ye})}});return}return Ue(ae,ce)}),s){RR(t,W);let ae=()=>MR(t,W);t.addEventListener("pagehide",ae),Z=()=>t.removeEventListener("pagehide",ae)}return E.initialized||Ue("POP",E.location,{initialHydration:!0}),D}function Ae(){g&&g(),Z&&Z(),x.clear(),R&&R.abort(),E.fetchers.forEach((ae,ce)=>jt(ce)),E.blockers.forEach((ae,ce)=>os(ce))}function Ve(ae){return x.add(ae),()=>x.delete(ae)}function ze(ae,ce={}){ae.matches&&(ae.matches=ae.matches.map(Me=>{let Ye=o[Me.route.id],at=Me.route;return at.element!==Ye.element||at.errorElement!==Ye.errorElement||at.hydrateFallbackElement!==Ye.hydrateFallbackElement?le(F({},Me),{route:Ye}):Me})),E=F(F({},E),ae);let ge=[],Te=[];E.fetchers.forEach((Me,Ye)=>{Me.state==="idle"&&($.has(Ye)?ge.push(Ye):Te.push(Ye))}),$.forEach(Me=>{!E.fetchers.has(Me)&&!H.has(Me)&&ge.push(Me)}),[...x].forEach(Me=>Me(E,{deletedFetchers:ge,viewTransitionOpts:ce.viewTransitionOpts,flushSync:ce.flushSync===!0})),ge.forEach(Me=>jt(Me)),Te.forEach(Me=>E.fetchers.delete(Me))}function M(ae,ce,{flushSync:ge}={}){var ut,St;let Te=E.actionData!=null&&E.navigation.formMethod!=null&&Gn(E.navigation.formMethod)&&E.navigation.state==="loading"&&((ut=ae.state)==null?void 0:ut._isRedirect)!==!0,Me;ce.actionData?Object.keys(ce.actionData).length>0?Me=ce.actionData:Me=null:Te?Me=E.actionData:Me=null;let Ye=ce.loaderData?E1(E.loaderData,ce.loaderData,ce.matches||[],ce.errors):E.loaderData,at=E.blockers;at.size>0&&(at=new Map(at),at.forEach((Rt,ys)=>at.set(ys,Sd)));let ct=q?!1:rs(ae,ce.matches||E.matches),xt=U===!0||E.navigation.formMethod!=null&&Gn(E.navigation.formMethod)&&((St=ae.state)==null?void 0:St._isRedirect)!==!0;d&&(c=d,d=void 0),q||B==="POP"||(B==="PUSH"?e.history.push(ae,ae.state):B==="REPLACE"&&e.history.replace(ae,ae.state));let Mt;if(B==="POP"){let Rt=W.get(E.location.pathname);Rt&&Rt.has(ae.pathname)?Mt={currentLocation:E.location,nextLocation:ae}:W.has(ae.pathname)&&(Mt={currentLocation:ae,nextLocation:E.location})}else if(K){let Rt=W.get(E.location.pathname);Rt?Rt.add(ae.pathname):(Rt=new Set([ae.pathname]),W.set(E.location.pathname,Rt)),Mt={currentLocation:E.location,nextLocation:ae}}ze(le(F({},ce),{actionData:Me,loaderData:Ye,historyAction:B,location:ae,initialized:!0,navigation:sx,revalidation:"idle",restoreScrollPosition:ct,preventScrollReset:xt,blockers:at}),{viewTransitionOpts:Mt,flushSync:ge===!0}),B="POP",U=!1,K=!1,q=!1,G=!1,he==null||he.resolve(),he=null}function _e(ae,ce){return we(this,null,function*(){if(typeof ae=="number"){e.history.go(ae);return}let ge=t0(E.location,E.matches,h,ae,ce==null?void 0:ce.fromRouteId,ce==null?void 0:ce.relative),{path:Te,submission:Me,error:Ye}=v1(!1,ge,ce),at=E.location,ct=tu(E.location,Te,ce&&ce.state);ct=F(F({},ct),e.history.encodeLocation(ct));let xt=ce&&ce.replace!=null?ce.replace:void 0,Mt="PUSH";xt===!0?Mt="REPLACE":xt===!1||Me!=null&&Gn(Me.formMethod)&&Me.formAction===E.location.pathname+E.location.search&&(Mt="REPLACE");let ut=ce&&"preventScrollReset"in ce?ce.preventScrollReset===!0:void 0,St=(ce&&ce.flushSync)===!0,Rt=rn({currentLocation:at,nextLocation:ct,historyAction:Mt});if(Rt){qs(Rt,{state:"blocked",location:ct,proceed(){qs(Rt,{state:"proceeding",proceed:void 0,reset:void 0,location:ct}),_e(ae,ce)},reset(){let ys=new Map(E.blockers);ys.set(Rt,Sd),ze({blockers:ys})}});return}yield Ue(Mt,ct,{submission:Me,pendingError:Ye,preventScrollReset:ut,replace:ce&&ce.replace,enableViewTransition:ce&&ce.viewTransition,flushSync:St})})}function He(){he||(he=PR()),Pe(),ze({revalidation:"loading"});let ae=he.promise;return E.navigation.state==="submitting"?ae:E.navigation.state==="idle"?(Ue(E.historyAction,E.location,{startUninterruptedRevalidation:!0}),ae):(Ue(B||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation,enableViewTransition:K===!0}),ae)}function Ue(ae,ce,ge){return we(this,null,function*(){R&&R.abort(),R=null,B=ae,q=(ge&&ge.startUninterruptedRevalidation)===!0,Et(E.location,E.matches),U=(ge&&ge.preventScrollReset)===!0,K=(ge&&ge.enableViewTransition)===!0;let Te=d||c,Me=ge&&ge.overrideNavigation,Ye=ge!=null&&ge.initialHydration&&E.matches&&E.matches.length>0&&!A?E.matches:Ui(Te,ce,h),at=(ge&&ge.flushSync)===!0;if(Ye&&E.initialized&&!G&&kR(E.location,ce)&&!(ge&&ge.submission&&Gn(ge.submission.formMethod))){M(ce,{matches:Ye},{flushSync:at});return}let ct=et(Ye,Te,ce.pathname);if(ct.active&&ct.matches&&(Ye=ct.matches),!Ye){let{error:fs,notFoundMatches:ft,route:Dt}=Je(ce.pathname);M(ce,{matches:ft,loaderData:{},errors:{[Dt.id]:fs}},{flushSync:at});return}R=new AbortController;let xt=Zl(e.history,ce,R.signal,ge&&ge.submission),Mt=new y1(e.unstable_getContext?yield e.unstable_getContext():void 0),ut;if(ge&&ge.pendingError)ut=[Bo(Ye).route.id,{type:"error",error:ge.pendingError}];else if(ge&&ge.submission&&Gn(ge.submission.formMethod)){let fs=yield mt(xt,ce,ge.submission,Ye,Mt,ct.active,ge&&ge.initialHydration===!0,{replace:ge.replace,flushSync:at});if(fs.shortCircuited)return;if(fs.pendingActionResult){let[ft,Dt]=fs.pendingActionResult;if(oa(Dt)&&nu(Dt.error)&&Dt.error.status===404){R=null,M(ce,{matches:fs.matches,loaderData:{},errors:{[ft]:Dt.error}});return}}Ye=fs.matches||Ye,ut=fs.pendingActionResult,Me=nx(ce,ge.submission),at=!1,ct.active=!1,xt=Zl(e.history,xt.url,xt.signal)}let{shortCircuited:St,matches:Rt,loaderData:ys,errors:Ms}=yield tt(xt,ce,Ye,Mt,ct.active,Me,ge&&ge.submission,ge&&ge.fetcherSubmission,ge&&ge.replace,ge&&ge.initialHydration===!0,at,ut);St||(R=null,M(ce,le(F({matches:Rt||Ye},D1(ut)),{loaderData:ys,errors:Ms})))})}function mt(xt,Mt,ut,St,Rt,ys,Ms){return we(this,arguments,function*(ae,ce,ge,Te,Me,Ye,at,ct={}){Pe();let fs=AR(ce,ge);if(ze({navigation:fs},{flushSync:ct.flushSync===!0}),Ye){let ts=yield Ct(Te,ce.pathname,ae.signal);if(ts.type==="aborted")return{shortCircuited:!0};if(ts.type==="error"){let Ts=Bo(ts.partialMatches).route.id;return{matches:ts.partialMatches,pendingActionResult:[Ts,{type:"error",error:ts.error}]}}else if(ts.matches)Te=ts.matches;else{let{notFoundMatches:Ts,error:Ps,route:Js}=Je(ce.pathname);return{matches:Ts,pendingActionResult:[Js.id,{type:"error",error:Ps}]}}}let ft,Dt=Dh(Te,ce);if(!Dt.route.action&&!Dt.route.lazy)ft={type:"error",error:_a(405,{method:ae.method,pathname:ce.pathname,routeId:Dt.route.id})};else{let ts=nc(i,o,ae,Te,Dt,at?[]:n,Me),Ts=yield Se(ae,ts,Me,null);if(ft=Ts[Dt.route.id],!ft){for(let Ps of Te)if(Ts[Ps.route.id]){ft=Ts[Ps.route.id];break}}if(ae.signal.aborted)return{shortCircuited:!0}}if($o(ft)){let ts;return ct&&ct.replace!=null?ts=ct.replace:ts=S1(ft.response.headers.get("Location"),new URL(ae.url),h)===E.location.pathname+E.location.search,yield X(ae,ft,!0,{submission:ge,replace:ts}),{shortCircuited:!0}}if(oa(ft)){let ts=Bo(Te,Dt.route.id);return(ct&&ct.replace)!==!0&&(B="PUSH"),{matches:Te,pendingActionResult:[ts.route.id,ft,Dt.route.id]}}return{matches:Te,pendingActionResult:[Dt.route.id,ft]}})}function tt(ae,ce,ge,Te,Me,Ye,at,ct,xt,Mt,ut,St){return we(this,null,function*(){let Rt=Ye||nx(ce,at),ys=at||ct||R1(Rt),Ms=!q&&!Mt;if(Me){if(Ms){let Ls=Le(St);ze(F({navigation:Rt},Ls!==void 0?{actionData:Ls}:{}),{flushSync:ut})}let Lt=yield Ct(ge,ce.pathname,ae.signal);if(Lt.type==="aborted")return{shortCircuited:!0};if(Lt.type==="error"){let Ls=Bo(Lt.partialMatches).route.id;return{matches:Lt.partialMatches,loaderData:{},errors:{[Ls]:Lt.error}}}else if(Lt.matches)ge=Lt.matches;else{let{error:Ls,notFoundMatches:kr,route:mn}=Je(ce.pathname);return{matches:kr,loaderData:{},errors:{[mn.id]:Ls}}}}let fs=d||c,{dsMatches:ft,revalidatingFetchers:Dt}=w1(ae,Te,i,o,e.history,E,ge,ys,ce,Mt?[]:n,Mt===!0,G,I,$,ie,P,fs,h,e.patchRoutesOnNavigation!=null,St);if(te=++J,!e.dataStrategy&&!ft.some(Lt=>Lt.shouldLoad)&&Dt.length===0){let Lt=zt();return M(ce,F(F({matches:ge,loaderData:{},errors:St&&oa(St[1])?{[St[0]]:St[1].error}:null},D1(St)),Lt?{fetchers:new Map(E.fetchers)}:{}),{flushSync:ut}),{shortCircuited:!0}}if(Ms){let Lt={};if(!Me){Lt.navigation=Rt;let Ls=Le(St);Ls!==void 0&&(Lt.actionData=Ls)}Dt.length>0&&(Lt.fetchers=nt(Dt)),ze(Lt,{flushSync:ut})}Dt.forEach(Lt=>{Be(Lt.key),Lt.controller&&H.set(Lt.key,Lt.controller)});let ts=()=>Dt.forEach(Lt=>Be(Lt.key));R&&R.signal.addEventListener("abort",ts);let{loaderResults:Ts,fetcherResults:Ps}=yield Fe(ft,Dt,ae,Te);if(ae.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",ts),Dt.forEach(Lt=>H.delete(Lt.key));let Js=qf(Ts);if(Js)return yield X(ae,Js.result,!0,{replace:xt}),{shortCircuited:!0};if(Js=qf(Ps),Js)return P.add(Js.key),yield X(ae,Js.result,!0,{replace:xt}),{shortCircuited:!0};let{loaderData:on,errors:fa}=k1(E,ge,Ts,St,Dt,Ps);Mt&&E.errors&&(fa=F(F({},E.errors),fa));let ha=zt(),_n=Gt(te),ma=ha||_n||Dt.length>0;return F({matches:ge,loaderData:on,errors:fa},ma?{fetchers:new Map(E.fetchers)}:{})})}function Le(ae){if(ae&&!oa(ae[1]))return{[ae[0]]:ae[1].data};if(E.actionData)return Object.keys(E.actionData).length===0?null:E.actionData}function nt(ae){return ae.forEach(ce=>{let ge=E.fetchers.get(ce.key),Te=Cd(void 0,ge?ge.data:void 0);E.fetchers.set(ce.key,Te)}),new Map(E.fetchers)}function lt(ae,ce,ge,Te){return we(this,null,function*(){Be(ae);let Me=(Te&&Te.flushSync)===!0,Ye=d||c,at=t0(E.location,E.matches,h,ge,ce,Te==null?void 0:Te.relative),ct=Ui(Ye,at,h),xt=et(ct,Ye,at);if(xt.active&&xt.matches&&(ct=xt.matches),!ct){Ke(ae,ce,_a(404,{pathname:at}),{flushSync:Me});return}let{path:Mt,submission:ut,error:St}=v1(!0,at,Te);if(St){Ke(ae,ce,St,{flushSync:Me});return}let Rt=new y1(e.unstable_getContext?yield e.unstable_getContext():void 0),ys=(Te&&Te.preventScrollReset)===!0;if(ut&&Gn(ut.formMethod)){yield Q(ae,ce,Mt,ct,Rt,xt.active,Me,ys,ut);return}ie.set(ae,{routeId:ce,path:Mt}),yield me(ae,ce,Mt,ct,Rt,xt.active,Me,ys,ut)})}function Q(ae,ce,ge,Te,Me,Ye,at,ct,xt){return we(this,null,function*(){Pe(),ie.delete(ae);let Mt=E.fetchers.get(ae);We(ae,OR(xt,Mt),{flushSync:at});let ut=new AbortController,St=Zl(e.history,ge,ut.signal,xt);if(Ye){let vs=yield Ct(Te,new URL(St.url).pathname,St.signal,ae);if(vs.type==="aborted")return;if(vs.type==="error"){Ke(ae,ce,vs.error,{flushSync:at});return}else if(vs.matches)Te=vs.matches;else{Ke(ae,ce,_a(404,{pathname:ge}),{flushSync:at});return}}let Rt=Dh(Te,ge);if(!Rt.route.action&&!Rt.route.lazy){let vs=_a(405,{method:xt.formMethod,pathname:ge,routeId:ce});Ke(ae,ce,vs,{flushSync:at});return}H.set(ae,ut);let ys=J,Ms=nc(i,o,St,Te,Rt,n,Me),ft=(yield Se(St,Ms,Me,ae))[Rt.route.id];if(St.signal.aborted){H.get(ae)===ut&&H.delete(ae);return}if($.has(ae)){if($o(ft)||oa(ft)){We(ae,Pi(void 0));return}}else{if($o(ft))if(H.delete(ae),te>ys){We(ae,Pi(void 0));return}else return P.add(ae),We(ae,Cd(xt)),X(St,ft,!1,{fetcherSubmission:xt,preventScrollReset:ct});if(oa(ft)){Ke(ae,ce,ft.error);return}}let Dt=E.navigation.location||E.location,ts=Zl(e.history,Dt,ut.signal),Ts=d||c,Ps=E.navigation.state!=="idle"?Ui(Ts,E.navigation.location,h):E.matches;Wt(Ps,"Didn't find any matches after fetcher action");let Js=++J;de.set(ae,Js);let on=Cd(xt,ft.data);E.fetchers.set(ae,on);let{dsMatches:fa,revalidatingFetchers:ha}=w1(ts,Me,i,o,e.history,E,Ps,xt,Dt,n,!1,G,I,$,ie,P,Ts,h,e.patchRoutesOnNavigation!=null,[Rt.route.id,ft]);ha.filter(vs=>vs.key!==ae).forEach(vs=>{let La=vs.key,al=E.fetchers.get(La),rl=Cd(void 0,al?al.data:void 0);E.fetchers.set(La,rl),Be(La),vs.controller&&H.set(La,vs.controller)}),ze({fetchers:new Map(E.fetchers)});let _n=()=>ha.forEach(vs=>Be(vs.key));ut.signal.addEventListener("abort",_n);let{loaderResults:ma,fetcherResults:Lt}=yield Fe(fa,ha,ts,Me);if(ut.signal.aborted)return;if(ut.signal.removeEventListener("abort",_n),de.delete(ae),H.delete(ae),ha.forEach(vs=>H.delete(vs.key)),E.fetchers.has(ae)){let vs=Pi(ft.data);E.fetchers.set(ae,vs)}let Ls=qf(ma);if(Ls)return X(ts,Ls.result,!1,{preventScrollReset:ct});if(Ls=qf(Lt),Ls)return P.add(Ls.key),X(ts,Ls.result,!1,{preventScrollReset:ct});let{loaderData:kr,errors:mn}=k1(E,Ps,ma,void 0,ha,Lt);Gt(Js),E.navigation.state==="loading"&&Js>te?(Wt(B,"Expected pending action"),R&&R.abort(),M(E.navigation.location,{matches:Ps,loaderData:kr,errors:mn,fetchers:new Map(E.fetchers)})):(ze({errors:mn,loaderData:E1(E.loaderData,kr,Ps,mn),fetchers:new Map(E.fetchers)}),G=!1)})}function me(ae,ce,ge,Te,Me,Ye,at,ct,xt){return we(this,null,function*(){let Mt=E.fetchers.get(ae);We(ae,Cd(xt,Mt?Mt.data:void 0),{flushSync:at});let ut=new AbortController,St=Zl(e.history,ge,ut.signal);if(Ye){let Dt=yield Ct(Te,new URL(St.url).pathname,St.signal,ae);if(Dt.type==="aborted")return;if(Dt.type==="error"){Ke(ae,ce,Dt.error,{flushSync:at});return}else if(Dt.matches)Te=Dt.matches;else{Ke(ae,ce,_a(404,{pathname:ge}),{flushSync:at});return}}let Rt=Dh(Te,ge);H.set(ae,ut);let ys=J,Ms=nc(i,o,St,Te,Rt,n,Me),ft=(yield Se(St,Ms,Me,ae))[Rt.route.id];if(H.get(ae)===ut&&H.delete(ae),!St.signal.aborted){if($.has(ae)){We(ae,Pi(void 0));return}if($o(ft))if(te>ys){We(ae,Pi(void 0));return}else{P.add(ae),yield X(St,ft,!1,{preventScrollReset:ct});return}if(oa(ft)){Ke(ae,ce,ft.error);return}We(ae,Pi(ft.data))}})}function X(ct,xt,Mt){return we(this,arguments,function*(ae,ce,ge,{submission:Te,fetcherSubmission:Me,preventScrollReset:Ye,replace:at}={}){ce.response.headers.has("X-Remix-Revalidate")&&(G=!0);let ut=ce.response.headers.get("Location");Wt(ut,"Expected a Location header on the redirect Response"),ut=S1(ut,new URL(ae.url),h);let St=tu(E.location,ut,{_isRedirect:!0});if(s){let Dt=!1;if(ce.response.headers.has("X-Remix-Reload-Document"))Dt=!0;else if(J0(ut)){const ts=L2(ut,!0);Dt=ts.origin!==t.location.origin||Oa(ts.pathname,h)==null}if(Dt){at?t.location.replace(ut):t.location.assign(ut);return}}R=null;let Rt=at===!0||ce.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ys,formAction:Ms,formEncType:fs}=E.navigation;!Te&&!Me&&ys&&Ms&&fs&&(Te=R1(E.navigation));let ft=Te||Me;if(hR.has(ce.response.status)&&ft&&Gn(ft.formMethod))yield Ue(Rt,St,{submission:le(F({},ft),{formAction:ut}),preventScrollReset:Ye||U,enableViewTransition:ge?K:void 0});else{let Dt=nx(St,Te);yield Ue(Rt,St,{overrideNavigation:Dt,fetcherSubmission:Me,preventScrollReset:Ye||U,enableViewTransition:ge?K:void 0})}})}function Se(ae,ce,ge,Te){return we(this,null,function*(){let Me,Ye={};try{Me=yield NR(f,ae,ce,Te,ge,!1)}catch(at){return ce.filter(ct=>ct.shouldLoad).forEach(ct=>{Ye[ct.route.id]={type:"error",error:at}}),Ye}if(ae.signal.aborted)return Ye;for(let[at,ct]of Object.entries(Me))if(ER(ct)){let xt=ct.result;Ye[at]={type:"redirect",response:SR(xt,ae,at,ce,h)}}else Ye[at]=yield TR(ct);return Ye})}function Fe(ae,ce,ge,Te){return we(this,null,function*(){let Me=Se(ge,ae,Te,null),Ye=Promise.all(ce.map(xt=>we(null,null,function*(){if(xt.matches&&xt.match&&xt.request&&xt.controller){let ut=(yield Se(xt.request,xt.matches,Te,xt.key))[xt.match.route.id];return{[xt.key]:ut}}else return Promise.resolve({[xt.key]:{type:"error",error:_a(404,{pathname:xt.path})}})}))),at=yield Me,ct=(yield Ye).reduce((xt,Mt)=>Object.assign(xt,Mt),{});return{loaderResults:at,fetcherResults:ct}})}function Pe(){G=!0,ie.forEach((ae,ce)=>{H.has(ce)&&I.add(ce),Be(ce)})}function We(ae,ce,ge={}){E.fetchers.set(ae,ce),ze({fetchers:new Map(E.fetchers)},{flushSync:(ge&&ge.flushSync)===!0})}function Ke(ae,ce,ge,Te={}){let Me=Bo(E.matches,ce);jt(ae),ze({errors:{[Me.route.id]:ge},fetchers:new Map(E.fetchers)},{flushSync:(Te&&Te.flushSync)===!0})}function st(ae){return ne.set(ae,(ne.get(ae)||0)+1),$.has(ae)&&$.delete(ae),E.fetchers.get(ae)||mR}function jt(ae){let ce=E.fetchers.get(ae);H.has(ae)&&!(ce&&ce.state==="loading"&&de.has(ae))&&Be(ae),ie.delete(ae),de.delete(ae),P.delete(ae),$.delete(ae),I.delete(ae),E.fetchers.delete(ae)}function Ce(ae){let ce=(ne.get(ae)||0)-1;ce<=0?(ne.delete(ae),$.add(ae)):ne.set(ae,ce),ze({fetchers:new Map(E.fetchers)})}function Be(ae){let ce=H.get(ae);ce&&(ce.abort(),H.delete(ae))}function Ge(ae){for(let ce of ae){let ge=st(ce),Te=Pi(ge.data);E.fetchers.set(ce,Te)}}function zt(){let ae=[],ce=!1;for(let ge of P){let Te=E.fetchers.get(ge);Wt(Te,`Expected fetcher: ${ge}`),Te.state==="loading"&&(P.delete(ge),ae.push(ge),ce=!0)}return Ge(ae),ce}function Gt(ae){let ce=[];for(let[ge,Te]of de)if(Te<ae){let Me=E.fetchers.get(ge);Wt(Me,`Expected fetcher: ${ge}`),Me.state==="loading"&&(Be(ge),de.delete(ge),ce.push(ge))}return Ge(ce),ce.length>0}function Xt(ae,ce){let ge=E.blockers.get(ae)||Sd;return ee.get(ae)!==ce&&ee.set(ae,ce),ge}function os(ae){E.blockers.delete(ae),ee.delete(ae)}function qs(ae,ce){let ge=E.blockers.get(ae)||Sd;Wt(ge.state==="unblocked"&&ce.state==="blocked"||ge.state==="blocked"&&ce.state==="blocked"||ge.state==="blocked"&&ce.state==="proceeding"||ge.state==="blocked"&&ce.state==="unblocked"||ge.state==="proceeding"&&ce.state==="unblocked",`Invalid blocker state transition: ${ge.state} -> ${ce.state}`);let Te=new Map(E.blockers);Te.set(ae,ce),ze({blockers:Te})}function rn({currentLocation:ae,nextLocation:ce,historyAction:ge}){if(ee.size===0)return;ee.size>1&&Zs(!1,"A router only supports one blocker at a time");let Te=Array.from(ee.entries()),[Me,Ye]=Te[Te.length-1],at=E.blockers.get(Me);if(!(at&&at.state==="proceeding")&&Ye({currentLocation:ae,nextLocation:ce,historyAction:ge}))return Me}function Je(ae){let ce=_a(404,{pathname:ae}),ge=d||c,{matches:Te,route:Me}=A1(ge);return{notFoundMatches:Te,route:Me,error:ce}}function Bt(ae,ce,ge){if(b=ae,v=ce,j=ge||null,!_&&E.navigation===sx){_=!0;let Te=rs(E.location,E.matches);Te!=null&&ze({restoreScrollPosition:Te})}return()=>{b=null,v=null,j=null}}function It(ae,ce){return j&&j(ae,ce.map(Te=>VO(Te,E.loaderData)))||ae.key}function Et(ae,ce){if(b&&v){let ge=It(ae,ce);b[ge]=v()}}function rs(ae,ce){if(b){let ge=It(ae,ce),Te=b[ge];if(typeof Te=="number")return Te}return null}function et(ae,ce,ge){if(e.patchRoutesOnNavigation)if(ae){if(Object.keys(ae[0].params).length>0)return{active:!0,matches:Eh(ce,ge,h,!0)}}else return{active:!0,matches:Eh(ce,ge,h,!0)||[]};return{active:!1,matches:null}}function Ct(ae,ce,ge,Te){return we(this,null,function*(){if(!e.patchRoutesOnNavigation)return{type:"success",matches:ae};let Me=ae;for(;;){let Ye=d==null,at=d||c,ct=o;try{yield e.patchRoutesOnNavigation({signal:ge,path:ce,matches:Me,fetcherKey:Te,patch:(ut,St)=>{ge.aborted||j1(ut,St,at,ct,i,!1)}})}catch(ut){return{type:"error",error:ut,partialMatches:Me}}finally{Ye&&!ge.aborted&&(c=[...c])}if(ge.aborted)return{type:"aborted"};let xt=Ui(at,ce,h);if(xt)return{type:"success",matches:xt};let Mt=Eh(at,ce,h,!0);if(!Mt||Me.length===Mt.length&&Me.every((ut,St)=>ut.route.id===Mt[St].route.id))return{type:"success",matches:null};Me=Mt}})}function Qt(ae){o={},d=su(ae,i,void 0,o)}function es(ae,ce,ge=!1){let Te=d==null;j1(ae,ce,d||c,o,i,ge),Te&&(c=[...c],ze({}))}return D={get basename(){return h},get future(){return p},get state(){return E},get routes(){return c},get window(){return t},initialize:ke,subscribe:Ve,enableScrollRestoration:Bt,navigate:_e,fetch:lt,revalidate:He,createHref:ae=>e.history.createHref(ae),encodeLocation:ae=>e.history.encodeLocation(ae),getFetcher:st,deleteFetcher:Ce,dispose:Ae,getBlocker:Xt,deleteBlocker:os,patchRoutes:es,_internalFetchControllers:H,_internalSetRoutes:Qt,_internalSetStateDoNotUseOrYouWillBreakYourApp(ae){ze(ae)}},D}function yR(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function t0(e,t,s,n,i,o){let c,d;if(i){c=[];for(let f of t)if(c.push(f),f.route.id===i){d=f;break}}else c=t,d=t[t.length-1];let h=Z0(n||".",Q0(c),Oa(e.pathname,s)||e.pathname,o==="path");if(n==null&&(h.search=e.search,h.hash=e.hash),(n==null||n===""||n===".")&&d){let f=ey(h.search);if(d.route.index&&!f)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&f){let p=new URLSearchParams(h.search),g=p.getAll("index");p.delete("index"),g.filter(b=>b).forEach(b=>p.append("index",b));let x=p.toString();h.search=x?`?${x}`:""}}return s!=="/"&&(h.pathname=nR({basename:s,pathname:h.pathname})),Yi(h)}function v1(e,t,s){if(!s||!yR(s))return{path:t};if(s.formMethod&&!DR(s.formMethod))return{path:t,error:_a(405,{method:s.formMethod})};let n=()=>({path:t,error:_a(400,{type:"invalid-body"})}),o=(s.formMethod||"get").toUpperCase(),c=G2(t);if(s.body!==void 0){if(s.formEncType==="text/plain"){if(!Gn(o))return n();let g=typeof s.body=="string"?s.body:s.body instanceof FormData||s.body instanceof URLSearchParams?Array.from(s.body.entries()).reduce((x,[b,j])=>`${x}${b}=${j}
`,""):String(s.body);return{path:t,submission:{formMethod:o,formAction:c,formEncType:s.formEncType,formData:void 0,json:void 0,text:g}}}else if(s.formEncType==="application/json"){if(!Gn(o))return n();try{let g=typeof s.body=="string"?JSON.parse(s.body):s.body;return{path:t,submission:{formMethod:o,formAction:c,formEncType:s.formEncType,formData:void 0,json:g,text:void 0}}}catch(g){return n()}}}Wt(typeof FormData=="function","FormData is not available in this environment");let d,h;if(s.formData)d=a0(s.formData),h=s.formData;else if(s.body instanceof FormData)d=a0(s.body),h=s.body;else if(s.body instanceof URLSearchParams)d=s.body,h=C1(d);else if(s.body==null)d=new URLSearchParams,h=new FormData;else try{d=new URLSearchParams(s.body),h=C1(d)}catch(g){return n()}let f={formMethod:o,formAction:c,formEncType:s&&s.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(Gn(f.formMethod))return{path:t,submission:f};let p=to(t);return e&&p.search&&ey(p.search)&&d.append("index",""),p.search=`?${d}`,{path:Yi(p),submission:f}}function w1(e,t,s,n,i,o,c,d,h,f,p,g,x,b,j,v,_,T,A,C){var q;let S=C?oa(C[1])?C[1].error:C[1].data:void 0,D=i.createURL(o.location),E=i.createURL(h),B;if(p&&o.errors){let G=Object.keys(o.errors)[0];B=c.findIndex(I=>I.route.id===G)}else if(C&&oa(C[1])){let G=C[0];B=c.findIndex(I=>I.route.id===G)-1}let U=C?C[1].statusCode:void 0,R=U&&U>=400,K=le(F({currentUrl:D,currentParams:((q=o.matches[0])==null?void 0:q.params)||{},nextUrl:E,nextParams:c[0].params},d),{actionResult:S,actionStatus:U}),W=c.map((G,I)=>{let{route:H}=G,J=null;if(B!=null&&I>B?J=!1:H.lazy?J=!0:H.loader==null?J=!1:p?J=s0(H,o.loaderData,o.errors):bR(o.loaderData,o.matches[I],G)&&(J=!0),J!==null)return n0(s,n,e,G,f,t,J);let te=R?!1:g||D.pathname+D.search===E.pathname+E.search||D.search!==E.search||vR(o.matches[I],G),de=le(F({},K),{defaultShouldRevalidate:te}),P=qh(G,de);return n0(s,n,e,G,f,t,P,de)}),Z=[];return j.forEach((G,I)=>{if(p||!c.some($=>$.route.id===G.routeId)||b.has(I))return;let H=o.fetchers.get(I),J=H&&H.state!=="idle"&&H.data===void 0,te=Ui(_,G.path,T);if(!te){if(A&&J)return;Z.push({key:I,routeId:G.routeId,path:G.path,matches:null,match:null,request:null,controller:null});return}if(v.has(I))return;let de=Dh(te,G.path),P=new AbortController,ie=Zl(i,G.path,P.signal),ne=null;if(x.has(I))x.delete(I),ne=nc(s,n,ie,te,de,f,t);else if(J)g&&(ne=nc(s,n,ie,te,de,f,t));else{let $=le(F({},K),{defaultShouldRevalidate:R?!1:g});qh(de,$)&&(ne=nc(s,n,ie,te,de,f,t,$))}ne&&Z.push({key:I,routeId:G.routeId,path:G.path,matches:ne,match:de,request:ie,controller:P})}),{dsMatches:W,revalidatingFetchers:Z}}function s0(e,t,s){if(e.lazy)return!0;if(!e.loader)return!1;let n=t!=null&&e.id in t,i=s!=null&&s[e.id]!==void 0;return!n&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!n&&!i}function bR(e,t,s){let n=!t||s.route.id!==t.route.id,i=!e.hasOwnProperty(s.route.id);return n||i}function vR(e,t){let s=e.route.path;return e.pathname!==t.pathname||s!=null&&s.endsWith("*")&&e.params["*"]!==t.params["*"]}function qh(e,t){if(e.route.shouldRevalidate){let s=e.route.shouldRevalidate(t);if(typeof s=="boolean")return s}return t.defaultShouldRevalidate}function j1(e,t,s,n,i,o){let c;if(e){let f=n[e];Wt(f,`No route found to patch children into: routeId = ${e}`),f.children||(f.children=[]),c=f.children}else c=s;let d=[],h=[];if(t.forEach(f=>{let p=c.find(g=>I2(f,g));p?h.push({existingRoute:p,newRoute:f}):d.push(f)}),d.length>0){let f=su(d,i,[e||"_","patch",String((c==null?void 0:c.length)||"0")],n);c.push(...f)}if(o&&h.length>0)for(let f=0;f<h.length;f++){let{existingRoute:p,newRoute:g}=h[f],x=p,[b]=su([g],i,[],{},!0);Object.assign(x,{element:b.element?b.element:x.element,errorElement:b.errorElement?b.errorElement:x.errorElement,hydrateFallbackElement:b.hydrateFallbackElement?b.hydrateFallbackElement:x.hydrateFallbackElement})}}function I2(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((s,n)=>{var i;return(i=t.children)==null?void 0:i.some(o=>I2(s,o))}):!1}var N1=new WeakMap,V2=({key:e,route:t,manifest:s,mapRouteProperties:n})=>{let i=s[t.id];if(Wt(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let o=i.lazy[e];if(!o)return;let c=N1.get(i);c||(c={},N1.set(i,c));let d=c[e];if(d)return d;let h=we(null,null,function*(){let f=zO(e),g=i[e]!==void 0&&e!=="hasErrorBoundary";if(f)Zs(!f,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),c[e]=Promise.resolve();else if(g)Zs(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let x=yield o();x!=null&&(Object.assign(i,{[e]:x}),Object.assign(i,n(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(x=>x===void 0)&&(i.lazy=void 0))});return c[e]=h,h},_1=new WeakMap;function wR(e,t,s,n,i){let o=s[e.id];if(Wt(o,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let p=_1.get(o);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let g=we(null,null,function*(){Wt(typeof e.lazy=="function","No lazy route function found");let x=yield e.lazy(),b={};for(let j in x){let v=x[j];if(v===void 0)continue;let _=$O(j),A=o[j]!==void 0&&j!=="hasErrorBoundary";_?Zs(!_,"Route property "+j+" is not a supported property to be returned from a lazy route function. This property will be ignored."):A?Zs(!A,`Route "${o.id}" has a static property "${j}" defined but its lazy function is also returning a value for this property. The lazy route property "${j}" will be ignored.`):b[j]=v}Object.assign(o,b),Object.assign(o,le(F({},n(o)),{lazy:void 0}))});return _1.set(o,g),g.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:g}}let c=Object.keys(e.lazy),d=[],h;for(let p of c){if(i&&i.includes(p))continue;let g=V2({key:p,route:e,manifest:s,mapRouteProperties:n});g&&(d.push(g),p===t&&(h=g))}let f=d.length>0?Promise.all(d).then(()=>{}):void 0;return f==null||f.catch(()=>{}),h==null||h.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:h}}function T1(e){return we(this,null,function*(){let t=e.matches.filter(i=>i.shouldLoad),s={};return(yield Promise.all(t.map(i=>i.resolve()))).forEach((i,o)=>{s[t[o].route.id]=i}),s})}function jR(e){return we(this,null,function*(){return e.matches.some(t=>t.route.unstable_middleware)?q2(e,!1,()=>T1(e),(t,s)=>({[s]:{type:"error",result:t}})):T1(e)})}function q2(e,t,s,n){return we(this,null,function*(){let{matches:i,request:o,params:c,context:d}=e,h={handlerResult:void 0};try{let f=i.flatMap(g=>g.route.unstable_middleware?g.route.unstable_middleware.map(x=>[g.route.id,x]):[]),p=yield W2({request:o,params:c,context:d},f,t,h,s);return t?p:h.handlerResult}catch(f){if(!h.middlewareError)throw f;let p=yield n(h.middlewareError.error,h.middlewareError.routeId);return h.handlerResult?Object.assign(h.handlerResult,p):p}})}function W2(e,t,s,n,i,o=0){return we(this,null,function*(){let{request:c}=e;if(c.signal.aborted)throw c.signal.reason?c.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${c.method} ${c.url}`);let d=t[o];if(!d)return n.handlerResult=yield i(),n.handlerResult;let[h,f]=d,p=!1,g,x=()=>we(null,null,function*(){if(p)throw new Error("You may only call `next()` once per middleware");p=!0,yield W2(e,t,s,n,i,o+1)});try{let b=yield f({request:e.request,params:e.params,context:e.context},x);return p?b===void 0?g:b:x()}catch(b){throw n.middlewareError?n.middlewareError.error!==b&&(n.middlewareError={routeId:h,error:b}):n.middlewareError={routeId:h,error:b},b}})}function Y2(e,t,s,n,i){let o=V2({key:"unstable_middleware",route:n.route,manifest:t,mapRouteProperties:e}),c=wR(n.route,Gn(s.method)?"action":"loader",t,e,i);return{middleware:o,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function n0(e,t,s,n,i,o,c,d=null){let h=!1,f=Y2(e,t,s,n,i);return le(F({},n),{_lazyPromises:f,shouldLoad:c,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(p){return h=!0,d?typeof p=="boolean"?qh(n,le(F({},d),{defaultShouldRevalidate:p})):qh(n,d):c},resolve(p){return h||c||p&&!Gn(s.method)&&(n.route.lazy||n.route.loader)?_R({request:s,match:n,lazyHandlerPromise:f==null?void 0:f.handler,lazyRoutePromise:f==null?void 0:f.route,handlerOverride:p,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}})}function nc(e,t,s,n,i,o,c,d=null){return n.map(h=>h.route.id!==i.route.id?le(F({},h),{shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:Y2(e,t,s,h,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}):n0(e,t,s,h,o,c,!0,d))}function NR(e,t,s,n,i,o){return we(this,null,function*(){s.some(f=>{var p;return(p=f._lazyPromises)==null?void 0:p.middleware})&&(yield Promise.all(s.map(f=>{var p;return(p=f._lazyPromises)==null?void 0:p.middleware})));let c={request:t,params:s[0].params,context:i,matches:s},d=f=>{let p=c;return q2(p,!1,()=>f(le(F({},p),{fetcherKey:n,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})),(g,x)=>({[x]:{type:"error",result:g}}))},h=yield e(le(F({},c),{fetcherKey:n,unstable_runClientMiddleware:d}));try{yield Promise.all(s.flatMap(f=>{var p,g;return[(p=f._lazyPromises)==null?void 0:p.handler,(g=f._lazyPromises)==null?void 0:g.route]}))}catch(f){}return h})}function _R(c){return we(this,arguments,function*({request:e,match:t,lazyHandlerPromise:s,lazyRoutePromise:n,handlerOverride:i,scopedContext:o}){let d,h,f=Gn(e.method),p=f?"action":"loader",g=x=>{let b,j=new Promise((T,A)=>b=A);h=()=>b(),e.signal.addEventListener("abort",h);let v=T=>typeof x!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${t.route.id}]`)):x({request:e,params:t.params,context:o},...T!==void 0?[T]:[]),_=we(null,null,function*(){try{return{type:"data",result:yield i?i(A=>v(A)):v()}}catch(T){return{type:"error",result:T}}});return Promise.race([_,j])};try{let x=f?t.route.action:t.route.loader;if(s||n)if(x){let b,[j]=yield Promise.all([g(x).catch(v=>{b=v}),s,n]);if(b!==void 0)throw b;d=j}else{yield s;let b=f?t.route.action:t.route.loader;if(b)[d]=yield Promise.all([g(b),n]);else if(p==="action"){let j=new URL(e.url),v=j.pathname+j.search;throw _a(405,{method:e.method,pathname:v,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(x)d=yield g(x);else{let b=new URL(e.url),j=b.pathname+b.search;throw _a(404,{pathname:j})}}catch(x){return{type:"error",result:x}}finally{h&&e.signal.removeEventListener("abort",h)}return d})}function TR(e){return we(this,null,function*(){var n,i,o,c,d,h;let{result:t,type:s}=e;if(X2(t)){let f;try{let p=t.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?t.body==null?f=null:f=yield t.json():f=yield t.text()}catch(p){return{type:"error",error:p}}return s==="error"?{type:"error",error:new Vh(t.status,t.statusText,f),statusCode:t.status,headers:t.headers}:{type:"data",data:f,statusCode:t.status,headers:t.headers}}return s==="error"?O1(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(n=t.init)==null?void 0:n.status,headers:(i=t.init)!=null&&i.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Vh(((o=t.init)==null?void 0:o.status)||500,void 0,t.data),statusCode:nu(t)?t.status:void 0,headers:(c=t.init)!=null&&c.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:nu(t)?t.status:void 0}:O1(t)?{type:"data",data:t.data,statusCode:(d=t.init)==null?void 0:d.status,headers:(h=t.init)!=null&&h.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}})}function SR(e,t,s,n,i){let o=e.headers.get("Location");if(Wt(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!J0(o)){let c=n.slice(0,n.findIndex(d=>d.route.id===s)+1);o=t0(new URL(t.url),c,i,o),e.headers.set("Location",o)}return e}function S1(e,t,s){if(J0(e)){let n=e,i=n.startsWith("//")?new URL(t.protocol+n):new URL(n),o=Oa(i.pathname,s)!=null;if(i.origin===t.origin&&o)return i.pathname+i.search+i.hash}return e}function Zl(e,t,s,n){let i=e.createURL(G2(t)).toString(),o={signal:s};if(n&&Gn(n.formMethod)){let{formMethod:c,formEncType:d}=n;o.method=c.toUpperCase(),d==="application/json"?(o.headers=new Headers({"Content-Type":d}),o.body=JSON.stringify(n.json)):d==="text/plain"?o.body=n.text:d==="application/x-www-form-urlencoded"&&n.formData?o.body=a0(n.formData):o.body=n.formData}return new Request(i,o)}function a0(e){let t=new URLSearchParams;for(let[s,n]of e.entries())t.append(s,typeof n=="string"?n:n.name);return t}function C1(e){let t=new FormData;for(let[s,n]of e.entries())t.append(s,n);return t}function CR(e,t,s,n=!1,i=!1){let o={},c=null,d,h=!1,f={},p=s&&oa(s[1])?s[1].error:void 0;return e.forEach(g=>{if(!(g.route.id in t))return;let x=g.route.id,b=t[x];if(Wt(!$o(b),"Cannot handle redirect results in processLoaderData"),oa(b)){let j=b.error;if(p!==void 0&&(j=p,p=void 0),c=c||{},i)c[x]=j;else{let v=Bo(e,x);c[v.route.id]==null&&(c[v.route.id]=j)}n||(o[x]=$2),h||(h=!0,d=nu(b.error)?b.error.status:500),b.headers&&(f[x]=b.headers)}else o[x]=b.data,b.statusCode&&b.statusCode!==200&&!h&&(d=b.statusCode),b.headers&&(f[x]=b.headers)}),p!==void 0&&s&&(c={[s[0]]:p},s[2]&&(o[s[2]]=void 0)),{loaderData:o,errors:c,statusCode:d||200,loaderHeaders:f}}function k1(e,t,s,n,i,o){let{loaderData:c,errors:d}=CR(t,s,n);return i.filter(h=>!h.matches||h.matches.some(f=>f.shouldLoad)).forEach(h=>{let{key:f,match:p,controller:g}=h,x=o[f];if(Wt(x,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(oa(x)){let b=Bo(e.matches,p==null?void 0:p.route.id);d&&d[b.route.id]||(d=le(F({},d),{[b.route.id]:x.error})),e.fetchers.delete(f)}else if($o(x))Wt(!1,"Unhandled fetcher revalidation redirect");else{let b=Pi(x.data);e.fetchers.set(f,b)}}),{loaderData:c,errors:d}}function E1(e,t,s,n){let i=Object.entries(t).filter(([,o])=>o!==$2).reduce((o,[c,d])=>(o[c]=d,o),{});for(let o of s){let c=o.route.id;if(!t.hasOwnProperty(c)&&e.hasOwnProperty(c)&&o.route.loader&&(i[c]=e[c]),n&&n.hasOwnProperty(c))break}return i}function D1(e){return e?oa(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Bo(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function A1(e){let t=e.length===1?e[0]:e.find(s=>s.index||!s.path||s.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function _a(e,{pathname:t,routeId:s,method:n,type:i,message:o}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return e===400?(c="Bad Request",n&&t&&s?d=`You made a ${n} request to "${t}" but did not provide a \`loader\` for route "${s}", so there is no way to handle the request.`:i==="invalid-body"&&(d="Unable to encode submission body")):e===403?(c="Forbidden",d=`Route "${s}" does not match URL "${t}"`):e===404?(c="Not Found",d=`No route matches URL "${t}"`):e===405&&(c="Method Not Allowed",n&&t&&s?d=`You made a ${n.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${s}", so there is no way to handle the request.`:n&&(d=`Invalid request method "${n.toUpperCase()}"`)),new Vh(e||500,c,new Error(d),!0)}function qf(e){let t=Object.entries(e);for(let s=t.length-1;s>=0;s--){let[n,i]=t[s];if($o(i))return{key:n,result:i}}}function G2(e){let t=typeof e=="string"?to(e):e;return Yi(le(F({},t),{hash:""}))}function kR(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function ER(e){return X2(e.result)&&fR.has(e.result.status)}function oa(e){return e.type==="error"}function $o(e){return(e&&e.type)==="redirect"}function O1(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function X2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body!="undefined"}function DR(e){return uR.has(e.toUpperCase())}function Gn(e){return cR.has(e.toUpperCase())}function ey(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Dh(e,t){let s=typeof t=="string"?to(t).search:t.search;if(e[e.length-1].route.index&&ey(s||""))return e[e.length-1];let n=U2(e);return n[n.length-1]}function R1(e){let{formMethod:t,formAction:s,formEncType:n,text:i,formData:o,json:c}=e;if(!(!t||!s||!n)){if(i!=null)return{formMethod:t,formAction:s,formEncType:n,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:t,formAction:s,formEncType:n,formData:o,json:void 0,text:void 0};if(c!==void 0)return{formMethod:t,formAction:s,formEncType:n,formData:void 0,json:c,text:void 0}}}function nx(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function AR(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Cd(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function OR(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Pi(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function RR(e,t){try{let s=e.sessionStorage.getItem(H2);if(s){let n=JSON.parse(s);for(let[i,o]of Object.entries(n||{}))o&&Array.isArray(o)&&t.set(i,new Set(o||[]))}}catch(s){}}function MR(e,t){if(t.size>0){let s={};for(let[n,i]of t)s[n]=[...i];try{e.sessionStorage.setItem(H2,JSON.stringify(s))}catch(n){Zs(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function PR(){let e,t,s=new Promise((n,i)=>{e=o=>we(null,null,function*(){n(o);try{yield s}catch(c){}}),t=o=>we(null,null,function*(){i(o);try{yield s}catch(c){}})});return{promise:s,resolve:e,reject:t}}var sl=N.createContext(null);sl.displayName="DataRouter";var mu=N.createContext(null);mu.displayName="DataRouterState";N.createContext(!1);var ty=N.createContext({isTransitioning:!1});ty.displayName="ViewTransition";var K2=N.createContext(new Map);K2.displayName="Fetchers";var LR=N.createContext(null);LR.displayName="Await";var Tr=N.createContext(null);Tr.displayName="Navigation";var vm=N.createContext(null);vm.displayName="Location";var Sr=N.createContext({outlet:null,matches:[],isDataRoute:!1});Sr.displayName="Route";var sy=N.createContext(null);sy.displayName="RouteError";function BR(e,{relative:t}={}){Wt(pu(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:n}=N.useContext(Tr),{hash:i,pathname:o,search:c}=gu(e,{relative:t}),d=o;return s!=="/"&&(d=o==="/"?s:br([s,o])),n.createHref({pathname:d,search:c,hash:i})}function pu(){return N.useContext(vm)!=null}function so(){return Wt(pu(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(vm).location}var Q2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Z2(e){N.useContext(Tr).static||N.useLayoutEffect(e)}function FR(){let{isDataRoute:e}=N.useContext(Sr);return e?JR():UR()}function UR(){Wt(pu(),"useNavigate() may be used only in the context of a <Router> component.");let e=N.useContext(sl),{basename:t,navigator:s}=N.useContext(Tr),{matches:n}=N.useContext(Sr),{pathname:i}=so(),o=JSON.stringify(Q0(n)),c=N.useRef(!1);return Z2(()=>{c.current=!0}),N.useCallback((h,f={})=>{if(Zs(c.current,Q2),!c.current)return;if(typeof h=="number"){s.go(h);return}let p=Z0(h,JSON.parse(o),i,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:br([t,p.pathname])),(f.replace?s.replace:s.push)(p,f.state,f)},[t,s,o,i,e])}var zR=N.createContext(null);function HR(e){let t=N.useContext(Sr).outlet;return t&&N.createElement(zR.Provider,{value:e},t)}function gu(e,{relative:t}={}){let{matches:s}=N.useContext(Sr),{pathname:n}=so(),i=JSON.stringify(Q0(s));return N.useMemo(()=>Z0(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function $R(e,t,s,n){Wt(pu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=N.useContext(Tr),{matches:o}=N.useContext(Sr),c=o[o.length-1],d=c?c.params:{},h=c?c.pathname:"/",f=c?c.pathnameBase:"/",p=c&&c.route;{let T=p&&p.path||"";J2(h,!p||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let g=so(),x;x=g;let b=x.pathname||"/",j=b;if(f!=="/"){let T=f.replace(/^\//,"").split("/");j="/"+b.replace(/^\//,"").split("/").slice(T.length).join("/")}let v=Ui(e,{pathname:j});return Zs(p||v!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Zs(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),YR(v&&v.map(T=>Object.assign({},T,{params:Object.assign({},d,T.params),pathname:br([f,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?f:br([f,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),o,s,n)}function IR(){let e=ZR(),t=nu(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:o},"ErrorBoundary")," or"," ",N.createElement("code",{style:o},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),s?N.createElement("pre",{style:i},s):null,c)}var VR=N.createElement(IR,null),qR=class extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?N.createElement(Sr.Provider,{value:this.props.routeContext},N.createElement(sy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function WR({routeContext:e,match:t,children:s}){let n=N.useContext(sl);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(Sr.Provider,{value:e},s)}function YR(e,t=[],s=null,n=null){if(e==null){if(!s)return null;if(s.errors)e=s.matches;else if(t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let i=e,o=s==null?void 0:s.errors;if(o!=null){let h=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);Wt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let c=!1,d=-1;if(s)for(let h=0;h<i.length;h++){let f=i[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:p,errors:g}=s,x=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||x){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((h,f,p)=>{let g,x=!1,b=null,j=null;s&&(g=o&&f.route.id?o[f.route.id]:void 0,b=f.route.errorElement||VR,c&&(d<0&&p===0?(J2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,j=null):d===p&&(x=!0,j=f.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,p+1)),_=()=>{let T;return g?T=b:x?T=j:f.route.Component?T=N.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=h,N.createElement(WR,{match:f,routeContext:{outlet:h,matches:v,isDataRoute:s!=null},children:T})};return s&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?N.createElement(qR,{location:s.location,revalidation:s.revalidation,component:b,error:g,children:_(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):_()},null)}function ny(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GR(e){let t=N.useContext(sl);return Wt(t,ny(e)),t}function XR(e){let t=N.useContext(mu);return Wt(t,ny(e)),t}function KR(e){let t=N.useContext(Sr);return Wt(t,ny(e)),t}function ay(e){let t=KR(e),s=t.matches[t.matches.length-1];return Wt(s.route.id,`${e} can only be used on routes that contain a unique "id"`),s.route.id}function QR(){return ay("useRouteId")}function ZR(){var n;let e=N.useContext(sy),t=XR("useRouteError"),s=ay("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[s]}function JR(){let{router:e}=GR("useNavigate"),t=ay("useNavigate"),s=N.useRef(!1);return Z2(()=>{s.current=!0}),N.useCallback((c,...d)=>we(null,[c,...d],function*(i,o={}){Zs(s.current,Q2),s.current&&(typeof i=="number"?e.navigate(i):yield e.navigate(i,F({fromRouteId:t},o)))}),[e,t])}var M1={};function J2(e,t,s){!t&&!M1[e]&&(M1[e]=!0,Zs(!1,s))}var P1={};function L1(e,t){!e&&!P1[t]&&(P1[t]=!0,console.warn(t))}function e4(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Zs(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:N.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Zs(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:N.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Zs(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:N.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var t4=["HydrateFallback","hydrateFallbackElement"],s4=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",t(s))}})}};function n4({router:e,flushSync:t}){let[s,n]=N.useState(e.state),[i,o]=N.useState(),[c,d]=N.useState({isTransitioning:!1}),[h,f]=N.useState(),[p,g]=N.useState(),[x,b]=N.useState(),j=N.useRef(new Map),v=N.useCallback((C,{deletedFetchers:S,flushSync:D,viewTransitionOpts:E})=>{C.fetchers.forEach((U,R)=>{U.data!==void 0&&j.current.set(R,U.data)}),S.forEach(U=>j.current.delete(U)),L1(D===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let B=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(L1(E==null||B,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!E||!B){t&&D?t(()=>n(C)):N.startTransition(()=>n(C));return}if(t&&D){t(()=>{p&&(h&&h.resolve(),p.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:E.currentLocation,nextLocation:E.nextLocation})});let U=e.window.document.startViewTransition(()=>{t(()=>n(C))});U.finished.finally(()=>{t(()=>{f(void 0),g(void 0),o(void 0),d({isTransitioning:!1})})}),t(()=>g(U));return}p?(h&&h.resolve(),p.skipTransition(),b({state:C,currentLocation:E.currentLocation,nextLocation:E.nextLocation})):(o(C),d({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}))},[e.window,t,p,h]);N.useLayoutEffect(()=>e.subscribe(v),[e,v]),N.useEffect(()=>{c.isTransitioning&&!c.flushSync&&f(new s4)},[c]),N.useEffect(()=>{if(h&&i&&e.window){let C=i,S=h.promise,D=e.window.document.startViewTransition(()=>we(null,null,function*(){N.startTransition(()=>n(C)),yield S}));D.finished.finally(()=>{f(void 0),g(void 0),o(void 0),d({isTransitioning:!1})}),g(D)}},[i,h,e.window]),N.useEffect(()=>{h&&i&&s.location.key===i.location.key&&h.resolve()},[h,p,s.location,i]),N.useEffect(()=>{!c.isTransitioning&&x&&(o(x.state),d({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),b(void 0))},[c.isTransitioning,x]);let _=N.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:C=>e.navigate(C),push:(C,S,D)=>e.navigate(C,{state:S,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(C,S,D)=>e.navigate(C,{replace:!0,state:S,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[e]),T=e.basename||"/",A=N.useMemo(()=>({router:e,navigator:_,static:!1,basename:T}),[e,_,T]);return N.createElement(N.Fragment,null,N.createElement(sl.Provider,{value:A},N.createElement(mu.Provider,{value:s},N.createElement(K2.Provider,{value:j.current},N.createElement(ty.Provider,{value:c},N.createElement(o4,{basename:T,location:s.location,navigationType:s.historyAction,navigator:_},N.createElement(a4,{routes:e.routes,future:e.future,state:s})))))),null)}var a4=N.memo(r4);function r4({routes:e,future:t,state:s}){return $R(e,void 0,s,t)}function i4(e){return HR(e.context)}function o4({basename:e="/",children:t=null,location:s,navigationType:n="POP",navigator:i,static:o=!1}){Wt(!pu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:c,navigator:i,static:o,future:{}}),[c,i,o]);typeof s=="string"&&(s=to(s));let{pathname:h="/",search:f="",hash:p="",state:g=null,key:x="default"}=s,b=N.useMemo(()=>{let j=Oa(h,c);return j==null?null:{location:{pathname:j,search:f,hash:p,state:g,key:x},navigationType:n}},[c,h,f,p,g,x,n]);return Zs(b!=null,`<Router basename="${c}"> is not able to match the URL "${h}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:N.createElement(Tr.Provider,{value:d},N.createElement(vm.Provider,{children:t,value:b}))}var Ah="get",Oh="application/x-www-form-urlencoded";function wm(e){return e!=null&&typeof e.tagName=="string"}function l4(e){return wm(e)&&e.tagName.toLowerCase()==="button"}function c4(e){return wm(e)&&e.tagName.toLowerCase()==="form"}function d4(e){return wm(e)&&e.tagName.toLowerCase()==="input"}function u4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function f4(e,t){return e.button===0&&(!t||t==="_self")&&!u4(e)}var Wf=null;function h4(){if(Wf===null)try{new FormData(document.createElement("form"),0),Wf=!1}catch(e){Wf=!0}return Wf}var m4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ax(e){return e!=null&&!m4.has(e)?(Zs(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Oh}"`),null):e}function p4(e,t){let s,n,i,o,c;if(c4(e)){let d=e.getAttribute("action");n=d?Oa(d,t):null,s=e.getAttribute("method")||Ah,i=ax(e.getAttribute("enctype"))||Oh,o=new FormData(e)}else if(l4(e)||d4(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||d.getAttribute("action");if(n=h?Oa(h,t):null,s=e.getAttribute("formmethod")||d.getAttribute("method")||Ah,i=ax(e.getAttribute("formenctype"))||ax(d.getAttribute("enctype"))||Oh,o=new FormData(d,e),!h4()){let{name:f,type:p,value:g}=e;if(p==="image"){let x=f?`${f}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else f&&o.append(f,g)}}else{if(wm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Ah,n=null,i=Oh,c=e}return o&&i==="text/plain"&&(c=o,o=void 0),{action:n,method:s.toLowerCase(),encType:i,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ry(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function g4(e,t,s){let n=typeof e=="string"?new URL(e,typeof window=="undefined"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${s}`:t&&Oa(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${s}`,n}function x4(e,t){return we(this,null,function*(){if(e.id in t)return t[e.id];try{let s=yield import(e.module);return t[e.id]=s,s}catch(s){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}})}function y4(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}function b4(e,t,s){return we(this,null,function*(){let n=yield Promise.all(e.map(i=>we(null,null,function*(){let o=t.routes[i.route.id];if(o){let c=yield x4(o,s);return c.links?c.links():[]}return[]})));return N4(n.flat(1).filter(y4).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?le(F({},i),{rel:"prefetch",as:"style"}):le(F({},i),{rel:"prefetch"})))})}function B1(e,t,s,n,i,o){let c=(h,f)=>s[f]?h.route.id!==s[f].route.id:!0,d=(h,f)=>{var p;return s[f].pathname!==h.pathname||((p=s[f].route.path)==null?void 0:p.endsWith("*"))&&s[f].params["*"]!==h.params["*"]};return o==="assets"?t.filter((h,f)=>c(h,f)||d(h,f)):o==="data"?t.filter((h,f)=>{var g;let p=n.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(c(h,f)||d(h,f))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=s[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function v4(e,t,{includeHydrateFallback:s}={}){return w4(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),s&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function w4(e){return[...new Set(e)]}function j4(e){let t={},s=Object.keys(e).sort();for(let n of s)t[n]=e[n];return t}function N4(e,t){let s=new Set;return new Set(t),e.reduce((n,i)=>{let o=JSON.stringify(j4(i));return s.has(o)||(s.add(o),n.push({key:o,link:i})),n},[])}function eT(){let e=N.useContext(sl);return ry(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function _4(){let e=N.useContext(mu);return ry(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var iy=N.createContext(void 0);iy.displayName="FrameworkContext";function tT(){let e=N.useContext(iy);return ry(e,"You must render this element inside a <HydratedRouter> element"),e}function T4(e,t){let s=N.useContext(iy),[n,i]=N.useState(!1),[o,c]=N.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:f,onMouseLeave:p,onTouchStart:g}=t,x=N.useRef(null);N.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let v=T=>{T.forEach(A=>{c(A.isIntersecting)})},_=new IntersectionObserver(v,{threshold:.5});return x.current&&_.observe(x.current),()=>{_.disconnect()}}},[e]),N.useEffect(()=>{if(n){let v=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(v)}}},[n]);let b=()=>{i(!0)},j=()=>{i(!1),c(!1)};return s?e!=="intent"?[o,x,{}]:[o,x,{onFocus:kd(d,b),onBlur:kd(h,j),onMouseEnter:kd(f,b),onMouseLeave:kd(p,j),onTouchStart:kd(g,b)}]:[!1,x,{}]}function kd(e,t){return s=>{e&&e(s),s.defaultPrevented||t(s)}}function S4(s){var n=s,{page:e}=n,t=Re(n,["page"]);let{router:i}=eT(),o=N.useMemo(()=>Ui(i.routes,e,i.basename),[i.routes,e,i.basename]);return o?N.createElement(k4,F({page:e,matches:o},t)):null}function C4(e){let{manifest:t,routeModules:s}=tT(),[n,i]=N.useState([]);return N.useEffect(()=>{let o=!1;return b4(e,t,s).then(c=>{o||i(c)}),()=>{o=!0}},[e,t,s]),n}function k4(n){var i=n,{page:e,matches:t}=i,s=Re(i,["page","matches"]);let o=so(),{manifest:c,routeModules:d}=tT(),{basename:h}=eT(),{loaderData:f,matches:p}=_4(),g=N.useMemo(()=>B1(e,t,p,c,o,"data"),[e,t,p,c,o]),x=N.useMemo(()=>B1(e,t,p,c,o,"assets"),[e,t,p,c,o]),b=N.useMemo(()=>{if(e===o.pathname+o.search+o.hash)return[];let _=new Set,T=!1;if(t.forEach(C=>{var D;let S=c.routes[C.route.id];!S||!S.hasLoader||(!g.some(E=>E.route.id===C.route.id)&&C.route.id in f&&((D=d[C.route.id])!=null&&D.shouldRevalidate)||S.hasClientLoader?T=!0:_.add(C.route.id))}),_.size===0)return[];let A=g4(e,h,"data");return T&&_.size>0&&A.searchParams.set("_routes",t.filter(C=>_.has(C.route.id)).map(C=>C.route.id).join(",")),[A.pathname+A.search]},[h,f,o,c,g,t,e,d]),j=N.useMemo(()=>v4(x,c),[x,c]),v=C4(x);return N.createElement(N.Fragment,null,b.map(_=>N.createElement("link",F({key:_,rel:"prefetch",as:"fetch",href:_},s))),j.map(_=>N.createElement("link",F({key:_,rel:"modulepreload",href:_},s))),v.map(({key:_,link:T})=>N.createElement("link",F({key:_},T))))}function E4(...e){return t=>{e.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}var sT=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{sT&&(window.__reactRouterVersion="7.7.1")}catch(e){}function D4(e,t){return xR({basename:t==null?void 0:t.basename,unstable_getContext:t==null?void 0:t.unstable_getContext,future:t==null?void 0:t.future,history:LO({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||A4(),routes:e,mapRouteProperties:e4,hydrationRouteProperties:t4,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function A4(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e=le(F({},e),{errors:O4(e.errors)})),e}function O4(e){if(!e)return null;let t=Object.entries(e),s={};for(let[n,i]of t)if(i&&i.__type==="RouteErrorResponse")s[n]=new Vh(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let c=new o(i.message);c.stack="",s[n]=c}catch(c){}}if(s[n]==null){let o=new Error(i.message);o.stack="",s[n]=o}}else s[n]=i;return s}var nT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aT=N.forwardRef(function(j,b){var v=j,{onClick:t,discover:s="render",prefetch:n="none",relative:i,reloadDocument:o,replace:c,state:d,target:h,to:f,preventScrollReset:p,viewTransition:g}=v,x=Re(v,["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"]);let{basename:_}=N.useContext(Tr),T=typeof f=="string"&&nT.test(f),A,C=!1;if(typeof f=="string"&&T&&(A=f,sT))try{let W=new URL(window.location.href),Z=f.startsWith("//")?new URL(W.protocol+f):new URL(f),q=Oa(Z.pathname,_);Z.origin===W.origin&&q!=null?f=q+Z.search+Z.hash:C=!0}catch(W){Zs(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=BR(f,{relative:i}),[D,E,B]=T4(n,x),U=P4(f,{replace:c,state:d,target:h,preventScrollReset:p,relative:i,viewTransition:g});function R(W){t&&t(W),W.defaultPrevented||U(W)}let K=N.createElement("a",le(F(F({},x),B),{href:A||S,onClick:C||o?t:R,ref:E4(b,E),target:h,"data-discover":!T&&s==="render"?"true":void 0}));return D&&!T?N.createElement(N.Fragment,null,K,N.createElement(S4,{page:S})):K});aT.displayName="Link";var rT=N.forwardRef(function(g,p){var x=g,{"aria-current":t="page",caseSensitive:s=!1,className:n="",end:i=!1,style:o,to:c,viewTransition:d,children:h}=x,f=Re(x,["aria-current","caseSensitive","className","end","style","to","viewTransition","children"]);let b=gu(c,{relative:f.relative}),j=so(),v=N.useContext(mu),{navigator:_,basename:T}=N.useContext(Tr),A=v!=null&&z4(b)&&d===!0,C=_.encodeLocation?_.encodeLocation(b).pathname:b.pathname,S=j.pathname,D=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(S=S.toLowerCase(),D=D?D.toLowerCase():null,C=C.toLowerCase()),D&&T&&(D=Oa(D,T)||D);const E=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let B=S===C||!i&&S.startsWith(C)&&S.charAt(E)==="/",U=D!=null&&(D===C||!i&&D.startsWith(C)&&D.charAt(C.length)==="/"),R={isActive:B,isPending:U,isTransitioning:A},K=B?t:void 0,W;typeof n=="function"?W=n(R):W=[n,B?"active":null,U?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let Z=typeof o=="function"?o(R):o;return N.createElement(aT,le(F({},f),{"aria-current":K,className:W,ref:p,style:Z,to:c,viewTransition:d}),typeof h=="function"?h(R):h)});rT.displayName="NavLink";var R4=N.forwardRef((j,b)=>{var v=j,{discover:e="render",fetcherKey:t,navigate:s,reloadDocument:n,replace:i,state:o,method:c=Ah,action:d,onSubmit:h,relative:f,preventScrollReset:p,viewTransition:g}=v,x=Re(v,["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"]);let _=F4(),T=U4(d,{relative:f}),A=c.toLowerCase()==="get"?"get":"post",C=typeof d=="string"&&nT.test(d),S=D=>{if(h&&h(D),D.defaultPrevented)return;D.preventDefault();let E=D.nativeEvent.submitter,B=(E==null?void 0:E.getAttribute("formmethod"))||c;_(E||D.currentTarget,{fetcherKey:t,method:B,navigate:s,replace:i,state:o,relative:f,preventScrollReset:p,viewTransition:g})};return N.createElement("form",le(F({ref:b,method:A,action:T,onSubmit:n?h:S},x),{"data-discover":!C&&e==="render"?"true":void 0}))});R4.displayName="Form";function M4(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iT(e){let t=N.useContext(sl);return Wt(t,M4(e)),t}function P4(e,{target:t,replace:s,state:n,preventScrollReset:i,relative:o,viewTransition:c}={}){let d=FR(),h=so(),f=gu(e,{relative:o});return N.useCallback(p=>{if(f4(p,t)){p.preventDefault();let g=s!==void 0?s:Yi(h)===Yi(f);d(e,{replace:g,state:n,preventScrollReset:i,relative:o,viewTransition:c})}},[h,d,f,s,n,t,e,i,o,c])}var L4=0,B4=()=>`__${String(++L4)}__`;function F4(){let{router:e}=iT("useSubmit"),{basename:t}=N.useContext(Tr),s=QR();return N.useCallback((o,...c)=>we(null,[o,...c],function*(n,i={}){let{action:d,method:h,encType:f,formData:p,body:g}=p4(n,t);if(i.navigate===!1){let x=i.fetcherKey||B4();yield e.fetch(x,s,i.action||d,{preventScrollReset:i.preventScrollReset,formData:p,body:g,formMethod:i.method||h,formEncType:i.encType||f,flushSync:i.flushSync})}else yield e.navigate(i.action||d,{preventScrollReset:i.preventScrollReset,formData:p,body:g,formMethod:i.method||h,formEncType:i.encType||f,replace:i.replace,state:i.state,fromRouteId:s,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[e,t,s])}function U4(e,{relative:t}={}){let{basename:s}=N.useContext(Tr),n=N.useContext(Sr);Wt(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),o=F({},gu(e||".",{relative:t})),c=so();if(e==null){o.search=c.search;let d=new URLSearchParams(o.search),h=d.getAll("index");if(h.some(p=>p==="")){d.delete("index"),h.filter(g=>g).forEach(g=>d.append("index",g));let p=d.toString();o.search=p?`?${p}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(o.pathname=o.pathname==="/"?s:br([s,o.pathname])),Yi(o)}function z4(e,{relative:t}={}){let s=N.useContext(ty);Wt(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=iT("useViewTransitionState"),i=gu(e,{relative:t});if(!s.isTransitioning)return!1;let o=Oa(s.currentLocation.pathname,n)||s.currentLocation.pathname,c=Oa(s.nextLocation.pathname,n)||s.nextLocation.pathname;return Ih(i.pathname,c)!=null||Ih(i.pathname,o)!=null}var jm=n2();const oT=U0(jm);function H4(e){return N.createElement(n4,F({flushSync:jm.flushSync},e))}/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),I4=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,n)=>n?n.toUpperCase():s.toLowerCase()),F1=e=>{const t=I4(e);return t.charAt(0).toUpperCase()+t.slice(1)},lT=(...e)=>e.filter((t,s,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===s).join(" ").trim(),V4=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var q4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=N.forwardRef((f,h)=>{var p=f,{color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:i="",children:o,iconNode:c}=p,d=Re(p,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return N.createElement("svg",F(F(le(F({ref:h},q4),{width:t,height:t,stroke:e,strokeWidth:n?Number(s)*24/Number(t):s,className:lT("lucide",i)}),!o&&!V4(d)&&{"aria-hidden":"true"}),d),[...c.map(([g,x])=>N.createElement(g,x)),...Array.isArray(o)?o:[o]])});/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=(e,t)=>{const s=N.forwardRef((c,o)=>{var d=c,{className:n}=d,i=Re(d,["className"]);return N.createElement(W4,F({ref:o,iconNode:t,className:lT(`lucide-${$4(F1(e))}`,`lucide-${e}`,n)},i))});return s.displayName=F1(e),s};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],G4=ht("activity",Y4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],K4=ht("archive",X4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],oy=ht("arrow-left",Q4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],cT=ht("bell",Z4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],hn=ht("calendar",J4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Wh=ht("chart-column",eM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],sM=ht("chart-pie",tM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],aM=ht("check",nM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ur=ht("chevron-down",rM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],oM=ht("chevron-right",iM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Ri=ht("chevron-up",lM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],dM=ht("chevrons-up-down",cM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Gi=ht("circle-alert",uM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],dT=ht("circle-check-big",fM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ly=ht("circle-check",hM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Xi=ht("clock",mM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],gM=ht("crown",pM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Yo=ht("dollar-sign",xM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ia=ht("download",yM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],vM=ht("ellipsis-vertical",bM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],cr=ht("external-link",wM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fr=ht("eye",jM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Kt=ht("file-text",NM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],Yf=ht("file",_M);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Jl=ht("folder-open",TM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],xu=ht("funnel",SM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],kM=ht("grid-3x3",CM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],DM=ht("image",EM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],OM=ht("layout-dashboard",AM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Id=ht("link",RM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],PM=ht("list",MM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],r0=ht("loader-circle",LM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],FM=ht("log-out",BM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],zM=ht("map-pin",UM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],$M=ht("menu",HM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],VM=ht("pause",IM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],WM=ht("pen",qM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],GM=ht("piggy-bank",YM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],KM=ht("play",XM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],jr=ht("plus",QM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],JM=ht("refresh-cw",ZM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],t5=ht("save",e5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],mc=ht("search",s5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],cy=ht("settings",n5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],uT=ht("shield",a5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Li=ht("square-check-big",r5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],au=ht("square-pen",i5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],l5=ht("square",o5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],dy=ht("target",c5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Mn=ht("trash-2",d5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],U1=ht("trending-down",u5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ac=ht("trending-up",f5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],pc=ht("triangle-alert",h5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Xr=ht("upload",m5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Go=ht("user",p5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ca=ht("users",g5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],z1=ht("video",x5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],b5=ht("x",y5),v5=[{name:"Dashboard",href:"/",icon:OM,subtitle:"Tổng quan hệ thống"},{name:"Dự án",href:"/projects",icon:Jl,subtitle:"Quản lý dự án R&D"},{name:"Công việc",href:"/tasks",icon:Li,subtitle:"Quản lý task và tiến độ"},{name:"Tài liệu",href:"/documents",icon:Kt,subtitle:"Quản lý biểu mẫu và tài liệu"},{name:"Ngân sách",href:"/budget",icon:Yo,subtitle:"Quản lý chi phí và ngân sách"},{name:"Rủi ro",href:"/risk",icon:pc,subtitle:"Quản lý rủi ro dự án"},{name:"Lịch họp",href:"/meetings",icon:hn,subtitle:"Quản lý cuộc họp và gate review"},{name:"Báo cáo",href:"/reports",icon:Wh,subtitle:"Báo cáo và thống kê"},{name:"Cài đặt",href:"/settings",icon:cy,subtitle:"Cài đặt hệ thống"}],H1=({collapsed:e=!1,onToggle:t})=>{const s=so();return a.jsxs("div",{className:`flex flex-col bg-white shadow-lg border-r border-gray-200 transition-all duration-300 ${e?"w-20":"w-85"}`,children:[a.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[!e&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg overflow-hidden",children:a.jsx("img",{src:"https://ctuav.vn/wp-content/uploads/2024/08/Logo-moi-ctuav-e1755917887778.png",alt:"R&D",className:"w-full h-full object-contain bg-white"})}),a.jsx("span",{className:"text-xl font-bold text-gray-800",children:"R&D Management"})]}),e&&a.jsx("div",{className:"w-12 h-10 bg-blue-600 rounded-lg flex items-center justify-center mx-auto",children:a.jsx("span",{className:"text-white font-bold text-sm",children:"RD"})})]}),a.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2",children:v5.map(n=>{const i=s.pathname===n.href;return a.jsxs(rT,{to:n.href,className:`
                group flex items-start rounded-lg transition-all duration-200 relative
                ${e?"px-2 py-3 justify-center":"px-3 py-3"}
                ${i?"bg-blue-50 text-blue-700 border-l-4 border-blue-600":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}
              `,title:e?n.name:void 0,children:[a.jsx(n.icon,{className:`
                  h-5 w-5 transition-colors duration-200 flex-shrink-0
                  ${e?"mr-0":"mr-3 mt-0.5"}
                  ${i?"text-blue-600":"text-gray-500 group-hover:text-gray-700"}
                `}),!e&&a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-medium text-sm",children:n.name}),a.jsx("span",{className:`text-xs mt-0.5 ${i?"text-blue-600":"text-gray-500"}`,children:n.subtitle})]}),e&&a.jsxs("div",{className:"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50",children:[n.name,a.jsx("div",{className:"absolute top-1/2 left-0 transform -translate-y-1/2 -translate-x-1 w-2 h-2 bg-gray-800 rotate-45"})]})]},n.name)})}),a.jsx("div",{className:"p-4 border-t border-gray-200",children:a.jsxs("div",{className:`flex items-center ${e?"justify-center":"space-x-3"}`,children:[a.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-medium text-sm",children:"AU"})}),!e&&a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:"Admin User"}),a.jsx("p",{className:"text-xs text-gray-500 truncate",children:"System Administrator"})]})]})})]})};function da(e,t,{checkForDefaultPrevented:s=!0}={}){return function(i){if(e==null||e(i),s===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function $1(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Xo(...e){return t=>{let s=!1;const n=e.map(i=>{const o=$1(i,t);return!s&&typeof o=="function"&&(s=!0),o});if(s)return()=>{for(let i=0;i<n.length;i++){const o=n[i];typeof o=="function"?o():$1(e[i],null)}}}}function Rs(...e){return N.useCallback(Xo(...e),e)}function uy(e,t){const s=N.createContext(t),n=o=>{const f=o,{children:c}=f,d=Re(f,["children"]),h=N.useMemo(()=>d,Object.values(d));return a.jsx(s.Provider,{value:h,children:c})};n.displayName=e+"Provider";function i(o){const c=N.useContext(s);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,i]}function yu(e,t=[]){let s=[];function n(o,c){const d=N.createContext(c),h=s.length;s=[...s,c];const f=g=>{var A;const T=g,{scope:x,children:b}=T,j=Re(T,["scope","children"]),v=((A=x==null?void 0:x[e])==null?void 0:A[h])||d,_=N.useMemo(()=>j,Object.values(j));return a.jsx(v.Provider,{value:_,children:b})};f.displayName=o+"Provider";function p(g,x){var v;const b=((v=x==null?void 0:x[e])==null?void 0:v[h])||d,j=N.useContext(b);if(j)return j;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${o}\``)}return[f,p]}const i=()=>{const o=s.map(c=>N.createContext(c));return function(d){const h=(d==null?void 0:d[e])||o;return N.useMemo(()=>({[`__scope${e}`]:le(F({},d),{[e]:h})}),[d,h])}};return i.scopeName=e,[n,w5(i,...t)]}function w5(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const c=n.reduce((d,{useScope:h,scopeName:f})=>{const g=h(o)[`__scope${f}`];return F(F({},d),g)},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return s.scopeName=t.scopeName,s}function gc(e){const t=N5(e),s=N.forwardRef((n,i)=>{const f=n,{children:o}=f,c=Re(f,["children"]),d=N.Children.toArray(o),h=d.find(T5);if(h){const p=h.props.children,g=d.map(x=>x===h?N.Children.count(p)>1?N.Children.only(null):N.isValidElement(p)?p.props.children:null:x);return a.jsx(t,le(F({},c),{ref:i,children:N.isValidElement(p)?N.cloneElement(p,void 0,g):null}))}return a.jsx(t,le(F({},c),{ref:i,children:o}))});return s.displayName=`${e}.Slot`,s}var j5=gc("Slot");function N5(e){const t=N.forwardRef((s,n)=>{const c=s,{children:i}=c,o=Re(c,["children"]);if(N.isValidElement(i)){const d=C5(i),h=S5(o,i.props);return i.type!==N.Fragment&&(h.ref=n?Xo(n,d):d),N.cloneElement(i,h)}return N.Children.count(i)>1?N.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _5=Symbol("radix.slottable");function T5(e){return N.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_5}function S5(e,t){const s=F({},t);for(const n in t){const i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?s[n]=(...d)=>{const h=o(...d);return i(...d),h}:i&&(s[n]=i):n==="style"?s[n]=F(F({},i),o):n==="className"&&(s[n]=[i,o].filter(Boolean).join(" "))}return F(F({},e),s)}function C5(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var k5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Yt=k5.reduce((e,t)=>{const s=gc(`Primitive.${t}`),n=N.forwardRef((i,o)=>{const f=i,{asChild:c}=f,d=Re(f,["asChild"]),h=c?s:t;return typeof window!="undefined"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(h,le(F({},d),{ref:o}))});return n.displayName=`Primitive.${t}`,le(F({},e),{[t]:n})},{});function fy(e,t){e&&jm.flushSync(()=>e.dispatchEvent(t))}function Nr(e){const t=N.useRef(e);return N.useEffect(()=>{t.current=e}),N.useMemo(()=>(...s)=>{var n;return(n=t.current)==null?void 0:n.call(t,...s)},[])}function hy(e,t=globalThis==null?void 0:globalThis.document){const s=Nr(e);N.useEffect(()=>{const n=i=>{i.key==="Escape"&&s(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[s,t])}var E5="DismissableLayer",i0="dismissableLayer.update",D5="dismissableLayer.pointerDownOutside",A5="dismissableLayer.focusOutside",I1,fT=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),my=N.forwardRef((e,t)=>{var U;const B=e,{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:c,onDismiss:d}=B,h=Re(B,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),f=N.useContext(fT),[p,g]=N.useState(null),x=(U=p==null?void 0:p.ownerDocument)!=null?U:globalThis==null?void 0:globalThis.document,[,b]=N.useState({}),j=Rs(t,R=>g(R)),v=Array.from(f.layers),[_]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),T=v.indexOf(_),A=p?v.indexOf(p):-1,C=f.layersWithOutsidePointerEventsDisabled.size>0,S=A>=T,D=M5(R=>{const K=R.target,W=[...f.branches].some(Z=>Z.contains(K));!S||W||(i==null||i(R),c==null||c(R),R.defaultPrevented||d==null||d())},x),E=P5(R=>{const K=R.target;[...f.branches].some(Z=>Z.contains(K))||(o==null||o(R),c==null||c(R),R.defaultPrevented||d==null||d())},x);return hy(R=>{A===f.layers.size-1&&(n==null||n(R),!R.defaultPrevented&&d&&(R.preventDefault(),d()))},x),N.useEffect(()=>{if(p)return s&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(I1=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),V1(),()=>{s&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=I1)}},[p,x,s,f]),N.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),V1())},[p,f]),N.useEffect(()=>{const R=()=>b({});return document.addEventListener(i0,R),()=>document.removeEventListener(i0,R)},[]),a.jsx(Yt.div,le(F({},h),{ref:j,style:F({pointerEvents:C?S?"auto":"none":void 0},e.style),onFocusCapture:da(e.onFocusCapture,E.onFocusCapture),onBlurCapture:da(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:da(e.onPointerDownCapture,D.onPointerDownCapture)}))});my.displayName=E5;var O5="DismissableLayerBranch",R5=N.forwardRef((e,t)=>{const s=N.useContext(fT),n=N.useRef(null),i=Rs(t,n);return N.useEffect(()=>{const o=n.current;if(o)return s.branches.add(o),()=>{s.branches.delete(o)}},[s.branches]),a.jsx(Yt.div,le(F({},e),{ref:i}))});R5.displayName=O5;function M5(e,t=globalThis==null?void 0:globalThis.document){const s=Nr(e),n=N.useRef(!1),i=N.useRef(()=>{});return N.useEffect(()=>{const o=d=>{if(d.target&&!n.current){let h=function(){hT(D5,s,f,{discrete:!0})};const f={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=h,t.addEventListener("click",i.current,{once:!0})):h()}else t.removeEventListener("click",i.current);n.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,s]),{onPointerDownCapture:()=>n.current=!0}}function P5(e,t=globalThis==null?void 0:globalThis.document){const s=Nr(e),n=N.useRef(!1);return N.useEffect(()=>{const i=o=>{o.target&&!n.current&&hT(A5,s,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,s]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function V1(){const e=new CustomEvent(i0);document.dispatchEvent(e)}function hT(e,t,s,{discrete:n}){const i=s.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&i.addEventListener(e,t,{once:!0}),n?fy(i,o):i.dispatchEvent(o)}var rx=0;function mT(){N.useEffect(()=>{var t,s;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:q1()),document.body.insertAdjacentElement("beforeend",(s=e[1])!=null?s:q1()),rx++,()=>{rx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),rx--}},[])}function q1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ix="focusScope.autoFocusOnMount",ox="focusScope.autoFocusOnUnmount",W1={bubbles:!1,cancelable:!0},L5="FocusScope",bu=N.forwardRef((e,t)=>{const v=e,{loop:s=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:o}=v,c=Re(v,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),[d,h]=N.useState(null),f=Nr(i),p=Nr(o),g=N.useRef(null),x=Rs(t,_=>h(_)),b=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(n){let _=function(S){if(b.paused||!d)return;const D=S.target;d.contains(D)?g.current=D:Bi(g.current,{select:!0})},T=function(S){if(b.paused||!d)return;const D=S.relatedTarget;D!==null&&(d.contains(D)||Bi(g.current,{select:!0}))},A=function(S){if(document.activeElement===document.body)for(const E of S)E.removedNodes.length>0&&Bi(d)};document.addEventListener("focusin",_),document.addEventListener("focusout",T);const C=new MutationObserver(A);return d&&C.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",T),C.disconnect()}}},[n,d,b.paused]),N.useEffect(()=>{if(d){G1.add(b);const _=document.activeElement;if(!d.contains(_)){const A=new CustomEvent(ix,W1);d.addEventListener(ix,f),d.dispatchEvent(A),A.defaultPrevented||(B5($5(pT(d)),{select:!0}),document.activeElement===_&&Bi(d))}return()=>{d.removeEventListener(ix,f),setTimeout(()=>{const A=new CustomEvent(ox,W1);d.addEventListener(ox,p),d.dispatchEvent(A),A.defaultPrevented||Bi(_!=null?_:document.body,{select:!0}),d.removeEventListener(ox,p),G1.remove(b)},0)}}},[d,f,p,b]);const j=N.useCallback(_=>{if(!s&&!n||b.paused)return;const T=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,A=document.activeElement;if(T&&A){const C=_.currentTarget,[S,D]=F5(C);S&&D?!_.shiftKey&&A===D?(_.preventDefault(),s&&Bi(S,{select:!0})):_.shiftKey&&A===S&&(_.preventDefault(),s&&Bi(D,{select:!0})):A===C&&_.preventDefault()}},[s,n,b.paused]);return a.jsx(Yt.div,le(F({tabIndex:-1},c),{ref:x,onKeyDown:j}))});bu.displayName=L5;function B5(e,{select:t=!1}={}){const s=document.activeElement;for(const n of e)if(Bi(n,{select:t}),document.activeElement!==s)return}function F5(e){const t=pT(e),s=Y1(t,e),n=Y1(t.reverse(),e);return[s,n]}function pT(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function Y1(e,t){for(const s of e)if(!U5(s,{upTo:t}))return s}function U5(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function z5(e){return e instanceof HTMLInputElement&&"select"in e}function Bi(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&z5(e)&&t&&e.select()}}var G1=H5();function H5(){let e=[];return{add(t){const s=e[0];t!==s&&(s==null||s.pause()),e=X1(e,t),e.unshift(t)},remove(t){var s;e=X1(e,t),(s=e[0])==null||s.resume()}}}function X1(e,t){const s=[...e],n=s.indexOf(t);return n!==-1&&s.splice(n,1),s}function $5(e){return e.filter(t=>t.tagName!=="A")}var Ra=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},I5=s2[" useId ".trim().toString()]||(()=>{}),V5=0;function An(e){const[t,s]=N.useState(I5());return Ra(()=>{s(n=>n!=null?n:String(V5++))},[e]),e||(t?`radix-${t}`:"")}const q5=["top","right","bottom","left"],Ki=Math.min,ca=Math.max,Yh=Math.round,Gf=Math.floor,vr=e=>({x:e,y:e}),W5={left:"right",right:"left",bottom:"top",top:"bottom"},Y5={start:"end",end:"start"};function o0(e,t,s){return ca(e,Ki(t,s))}function ni(e,t){return typeof e=="function"?e(t):e}function ai(e){return e.split("-")[0]}function xc(e){return e.split("-")[1]}function py(e){return e==="x"?"y":"x"}function gy(e){return e==="y"?"height":"width"}const G5=new Set(["top","bottom"]);function gr(e){return G5.has(ai(e))?"y":"x"}function xy(e){return py(gr(e))}function X5(e,t,s){s===void 0&&(s=!1);const n=xc(e),i=xy(e),o=gy(i);let c=i==="x"?n===(s?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(c=Gh(c)),[c,Gh(c)]}function K5(e){const t=Gh(e);return[l0(e),t,l0(t)]}function l0(e){return e.replace(/start|end/g,t=>Y5[t])}const K1=["left","right"],Q1=["right","left"],Q5=["top","bottom"],Z5=["bottom","top"];function J5(e,t,s){switch(e){case"top":case"bottom":return s?t?Q1:K1:t?K1:Q1;case"left":case"right":return t?Q5:Z5;default:return[]}}function e3(e,t,s,n){const i=xc(e);let o=J5(ai(e),s==="start",n);return i&&(o=o.map(c=>c+"-"+i),t&&(o=o.concat(o.map(l0)))),o}function Gh(e){return e.replace(/left|right|bottom|top/g,t=>W5[t])}function t3(e){return F({top:0,right:0,bottom:0,left:0},e)}function gT(e){return typeof e!="number"?t3(e):{top:e,right:e,bottom:e,left:e}}function Xh(e){const{x:t,y:s,width:n,height:i}=e;return{width:n,height:i,top:s,left:t,right:t+n,bottom:s+i,x:t,y:s}}function Z1(e,t,s){let{reference:n,floating:i}=e;const o=gr(t),c=xy(t),d=gy(c),h=ai(t),f=o==="y",p=n.x+n.width/2-i.width/2,g=n.y+n.height/2-i.height/2,x=n[d]/2-i[d]/2;let b;switch(h){case"top":b={x:p,y:n.y-i.height};break;case"bottom":b={x:p,y:n.y+n.height};break;case"right":b={x:n.x+n.width,y:g};break;case"left":b={x:n.x-i.width,y:g};break;default:b={x:n.x,y:n.y}}switch(xc(t)){case"start":b[c]-=x*(s&&f?-1:1);break;case"end":b[c]+=x*(s&&f?-1:1);break}return b}const s3=(e,t,s)=>we(null,null,function*(){const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:c}=s,d=o.filter(Boolean),h=yield c.isRTL==null?void 0:c.isRTL(t);let f=yield c.getElementRects({reference:e,floating:t,strategy:i}),{x:p,y:g}=Z1(f,n,h),x=n,b={},j=0;for(let v=0;v<d.length;v++){const{name:_,fn:T}=d[v],{x:A,y:C,data:S,reset:D}=yield T({x:p,y:g,initialPlacement:n,placement:x,strategy:i,middlewareData:b,rects:f,platform:c,elements:{reference:e,floating:t}});p=A!=null?A:p,g=C!=null?C:g,b=le(F({},b),{[_]:F(F({},b[_]),S)}),D&&j<=50&&(j++,typeof D=="object"&&(D.placement&&(x=D.placement),D.rects&&(f=D.rects===!0?yield c.getElementRects({reference:e,floating:t,strategy:i}):D.rects),{x:p,y:g}=Z1(f,x,h)),v=-1)}return{x:p,y:g,placement:x,strategy:i,middlewareData:b}});function ru(e,t){return we(this,null,function*(){var s;t===void 0&&(t={});const{x:n,y:i,platform:o,rects:c,elements:d,strategy:h}=e,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:x=!1,padding:b=0}=ni(t,e),j=gT(b),_=d[x?g==="floating"?"reference":"floating":g],T=Xh(yield o.getClippingRect({element:(s=yield o.isElement==null?void 0:o.isElement(_))==null||s?_:_.contextElement||(yield o.getDocumentElement==null?void 0:o.getDocumentElement(d.floating)),boundary:f,rootBoundary:p,strategy:h})),A=g==="floating"?{x:n,y:i,width:c.floating.width,height:c.floating.height}:c.reference,C=yield o.getOffsetParent==null?void 0:o.getOffsetParent(d.floating),S=(yield o.isElement==null?void 0:o.isElement(C))?(yield o.getScale==null?void 0:o.getScale(C))||{x:1,y:1}:{x:1,y:1},D=Xh(o.convertOffsetParentRelativeRectToViewportRelativeRect?yield o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:A,offsetParent:C,strategy:h}):A);return{top:(T.top-D.top+j.top)/S.y,bottom:(D.bottom-T.bottom+j.bottom)/S.y,left:(T.left-D.left+j.left)/S.x,right:(D.right-T.right+j.right)/S.x}})}const n3=e=>({name:"arrow",options:e,fn(s){return we(this,null,function*(){const{x:n,y:i,placement:o,rects:c,platform:d,elements:h,middlewareData:f}=s,{element:p,padding:g=0}=ni(e,s)||{};if(p==null)return{};const x=gT(g),b={x:n,y:i},j=xy(o),v=gy(j),_=yield d.getDimensions(p),T=j==="y",A=T?"top":"left",C=T?"bottom":"right",S=T?"clientHeight":"clientWidth",D=c.reference[v]+c.reference[j]-b[j]-c.floating[v],E=b[j]-c.reference[j],B=yield d.getOffsetParent==null?void 0:d.getOffsetParent(p);let U=B?B[S]:0;(!U||!(yield d.isElement==null?void 0:d.isElement(B)))&&(U=h.floating[S]||c.floating[v]);const R=D/2-E/2,K=U/2-_[v]/2-1,W=Ki(x[A],K),Z=Ki(x[C],K),q=W,G=U-_[v]-Z,I=U/2-_[v]/2+R,H=o0(q,I,G),J=!f.arrow&&xc(o)!=null&&I!==H&&c.reference[v]/2-(I<q?W:Z)-_[v]/2<0,te=J?I<q?I-q:I-G:0;return{[j]:b[j]+te,data:F({[j]:H,centerOffset:I-H-te},J&&{alignmentOffset:te}),reset:J}})}}),a3=function(e){return e===void 0&&(e={}),{name:"flip",options:e,fn(s){return we(this,null,function*(){var n,i;const{placement:o,middlewareData:c,rects:d,initialPlacement:h,platform:f,elements:p}=s,I=ni(e,s),{mainAxis:g=!0,crossAxis:x=!0,fallbackPlacements:b,fallbackStrategy:j="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:_=!0}=I,T=Re(I,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if((n=c.arrow)!=null&&n.alignmentOffset)return{};const A=ai(o),C=gr(h),S=ai(h)===h,D=yield f.isRTL==null?void 0:f.isRTL(p.floating),E=b||(S||!_?[Gh(h)]:K5(h)),B=v!=="none";!b&&B&&E.push(...e3(h,_,v,D));const U=[h,...E],R=yield ru(s,T),K=[];let W=((i=c.flip)==null?void 0:i.overflows)||[];if(g&&K.push(R[A]),x){const H=X5(o,d,D);K.push(R[H[0]],R[H[1]])}if(W=[...W,{placement:o,overflows:K}],!K.every(H=>H<=0)){var Z,q;const H=(((Z=c.flip)==null?void 0:Z.index)||0)+1,J=U[H];if(J&&(!(x==="alignment"?C!==gr(J):!1)||W.every(P=>gr(P.placement)===C?P.overflows[0]>0:!0)))return{data:{index:H,overflows:W},reset:{placement:J}};let te=(q=W.filter(de=>de.overflows[0]<=0).sort((de,P)=>de.overflows[1]-P.overflows[1])[0])==null?void 0:q.placement;if(!te)switch(j){case"bestFit":{var G;const de=(G=W.filter(P=>{if(B){const ie=gr(P.placement);return ie===C||ie==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(ie=>ie>0).reduce((ie,ne)=>ie+ne,0)]).sort((P,ie)=>P[1]-ie[1])[0])==null?void 0:G[0];de&&(te=de);break}case"initialPlacement":te=h;break}if(o!==te)return{reset:{placement:te}}}return{}})}}};function J1(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function eN(e){return q5.some(t=>e[t]>=0)}const r3=function(e){return e===void 0&&(e={}),{name:"hide",options:e,fn(s){return we(this,null,function*(){const{rects:n}=s,c=ni(e,s),{strategy:i="referenceHidden"}=c,o=Re(c,["strategy"]);switch(i){case"referenceHidden":{const d=yield ru(s,le(F({},o),{elementContext:"reference"})),h=J1(d,n.reference);return{data:{referenceHiddenOffsets:h,referenceHidden:eN(h)}}}case"escaped":{const d=yield ru(s,le(F({},o),{altBoundary:!0})),h=J1(d,n.floating);return{data:{escapedOffsets:h,escaped:eN(h)}}}default:return{}}})}}},xT=new Set(["left","top"]);function i3(e,t){return we(this,null,function*(){const{placement:s,platform:n,elements:i}=e,o=yield n.isRTL==null?void 0:n.isRTL(i.floating),c=ai(s),d=xc(s),h=gr(s)==="y",f=xT.has(c)?-1:1,p=o&&h?-1:1,g=ni(t,e);let{mainAxis:x,crossAxis:b,alignmentAxis:j}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return d&&typeof j=="number"&&(b=d==="end"?j*-1:j),h?{x:b*p,y:x*f}:{x:x*f,y:b*p}})}const o3=function(e){return e===void 0&&(e=0),{name:"offset",options:e,fn(s){return we(this,null,function*(){var n,i;const{x:o,y:c,placement:d,middlewareData:h}=s,f=yield i3(s,e);return d===((n=h.offset)==null?void 0:n.placement)&&(i=h.arrow)!=null&&i.alignmentOffset?{}:{x:o+f.x,y:c+f.y,data:le(F({},f),{placement:d})}})}}},l3=function(e){return e===void 0&&(e={}),{name:"shift",options:e,fn(s){return we(this,null,function*(){const{x:n,y:i,placement:o}=s,T=ni(e,s),{mainAxis:c=!0,crossAxis:d=!1,limiter:h={fn:A=>{let{x:C,y:S}=A;return{x:C,y:S}}}}=T,f=Re(T,["mainAxis","crossAxis","limiter"]),p={x:n,y:i},g=yield ru(s,f),x=gr(ai(o)),b=py(x);let j=p[b],v=p[x];if(c){const A=b==="y"?"top":"left",C=b==="y"?"bottom":"right",S=j+g[A],D=j-g[C];j=o0(S,j,D)}if(d){const A=x==="y"?"top":"left",C=x==="y"?"bottom":"right",S=v+g[A],D=v-g[C];v=o0(S,v,D)}const _=h.fn(le(F({},s),{[b]:j,[x]:v}));return le(F({},_),{data:{x:_.x-n,y:_.y-i,enabled:{[b]:c,[x]:d}}})})}}},c3=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:n,placement:i,rects:o,middlewareData:c}=t,{offset:d=0,mainAxis:h=!0,crossAxis:f=!0}=ni(e,t),p={x:s,y:n},g=gr(i),x=py(g);let b=p[x],j=p[g];const v=ni(d,t),_=typeof v=="number"?{mainAxis:v,crossAxis:0}:F({mainAxis:0,crossAxis:0},v);if(h){const C=x==="y"?"height":"width",S=o.reference[x]-o.floating[C]+_.mainAxis,D=o.reference[x]+o.reference[C]-_.mainAxis;b<S?b=S:b>D&&(b=D)}if(f){var T,A;const C=x==="y"?"width":"height",S=xT.has(ai(i)),D=o.reference[g]-o.floating[C]+(S&&((T=c.offset)==null?void 0:T[g])||0)+(S?0:_.crossAxis),E=o.reference[g]+o.reference[C]+(S?0:((A=c.offset)==null?void 0:A[g])||0)-(S?_.crossAxis:0);j<D?j=D:j>E&&(j=E)}return{[x]:b,[g]:j}}}},d3=function(e){return e===void 0&&(e={}),{name:"size",options:e,fn(s){return we(this,null,function*(){var n,i;const{placement:o,rects:c,platform:d,elements:h}=s,W=ni(e,s),{apply:f=()=>{}}=W,p=Re(W,["apply"]),g=yield ru(s,p),x=ai(o),b=xc(o),j=gr(o)==="y",{width:v,height:_}=c.floating;let T,A;x==="top"||x==="bottom"?(T=x,A=b===((yield d.isRTL==null?void 0:d.isRTL(h.floating))?"start":"end")?"left":"right"):(A=x,T=b==="end"?"top":"bottom");const C=_-g.top-g.bottom,S=v-g.left-g.right,D=Ki(_-g[T],C),E=Ki(v-g[A],S),B=!s.middlewareData.shift;let U=D,R=E;if((n=s.middlewareData.shift)!=null&&n.enabled.x&&(R=S),(i=s.middlewareData.shift)!=null&&i.enabled.y&&(U=C),B&&!b){const Z=ca(g.left,0),q=ca(g.right,0),G=ca(g.top,0),I=ca(g.bottom,0);j?R=v-2*(Z!==0||q!==0?Z+q:ca(g.left,g.right)):U=_-2*(G!==0||I!==0?G+I:ca(g.top,g.bottom))}yield f(le(F({},s),{availableWidth:R,availableHeight:U}));const K=yield d.getDimensions(h.floating);return v!==K.width||_!==K.height?{reset:{rects:!0}}:{}})}}};function Nm(){return typeof window!="undefined"}function yc(e){return yT(e)?(e.nodeName||"").toLowerCase():"#document"}function ua(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Cr(e){var t;return(t=(yT(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function yT(e){return Nm()?e instanceof Node||e instanceof ua(e).Node:!1}function Xa(e){return Nm()?e instanceof Element||e instanceof ua(e).Element:!1}function _r(e){return Nm()?e instanceof HTMLElement||e instanceof ua(e).HTMLElement:!1}function tN(e){return!Nm()||typeof ShadowRoot=="undefined"?!1:e instanceof ShadowRoot||e instanceof ua(e).ShadowRoot}const u3=new Set(["inline","contents"]);function vu(e){const{overflow:t,overflowX:s,overflowY:n,display:i}=Ka(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+s)&&!u3.has(i)}const f3=new Set(["table","td","th"]);function h3(e){return f3.has(yc(e))}const m3=[":popover-open",":modal"];function _m(e){return m3.some(t=>{try{return e.matches(t)}catch(s){return!1}})}const p3=["transform","translate","scale","rotate","perspective"],g3=["transform","translate","scale","rotate","perspective","filter"],x3=["paint","layout","strict","content"];function yy(e){const t=by(),s=Xa(e)?Ka(e):e;return p3.some(n=>s[n]?s[n]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||g3.some(n=>(s.willChange||"").includes(n))||x3.some(n=>(s.contain||"").includes(n))}function y3(e){let t=Qi(e);for(;_r(t)&&!dc(t);){if(yy(t))return t;if(_m(t))return null;t=Qi(t)}return null}function by(){return typeof CSS=="undefined"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const b3=new Set(["html","body","#document"]);function dc(e){return b3.has(yc(e))}function Ka(e){return ua(e).getComputedStyle(e)}function Tm(e){return Xa(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Qi(e){if(yc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||tN(e)&&e.host||Cr(e);return tN(t)?t.host:t}function bT(e){const t=Qi(e);return dc(t)?e.ownerDocument?e.ownerDocument.body:e.body:_r(t)&&vu(t)?t:bT(t)}function iu(e,t,s){var n;t===void 0&&(t=[]),s===void 0&&(s=!0);const i=bT(e),o=i===((n=e.ownerDocument)==null?void 0:n.body),c=ua(i);if(o){const d=c0(c);return t.concat(c,c.visualViewport||[],vu(i)?i:[],d&&s?iu(d):[])}return t.concat(i,iu(i,[],s))}function c0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function vT(e){const t=Ka(e);let s=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=_r(e),o=i?e.offsetWidth:s,c=i?e.offsetHeight:n,d=Yh(s)!==o||Yh(n)!==c;return d&&(s=o,n=c),{width:s,height:n,$:d}}function vy(e){return Xa(e)?e:e.contextElement}function rc(e){const t=vy(e);if(!_r(t))return vr(1);const s=t.getBoundingClientRect(),{width:n,height:i,$:o}=vT(t);let c=(o?Yh(s.width):s.width)/n,d=(o?Yh(s.height):s.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const v3=vr(0);function wT(e){const t=ua(e);return!by()||!t.visualViewport?v3:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function w3(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==ua(e)?!1:t}function Ko(e,t,s,n){t===void 0&&(t=!1),s===void 0&&(s=!1);const i=e.getBoundingClientRect(),o=vy(e);let c=vr(1);t&&(n?Xa(n)&&(c=rc(n)):c=rc(e));const d=w3(o,s,n)?wT(o):vr(0);let h=(i.left+d.x)/c.x,f=(i.top+d.y)/c.y,p=i.width/c.x,g=i.height/c.y;if(o){const x=ua(o),b=n&&Xa(n)?ua(n):n;let j=x,v=c0(j);for(;v&&n&&b!==j;){const _=rc(v),T=v.getBoundingClientRect(),A=Ka(v),C=T.left+(v.clientLeft+parseFloat(A.paddingLeft))*_.x,S=T.top+(v.clientTop+parseFloat(A.paddingTop))*_.y;h*=_.x,f*=_.y,p*=_.x,g*=_.y,h+=C,f+=S,j=ua(v),v=c0(j)}}return Xh({width:p,height:g,x:h,y:f})}function wy(e,t){const s=Tm(e).scrollLeft;return t?t.left+s:Ko(Cr(e)).left+s}function jT(e,t,s){s===void 0&&(s=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(s?0:wy(e,n)),o=n.top+t.scrollTop;return{x:i,y:o}}function j3(e){let{elements:t,rect:s,offsetParent:n,strategy:i}=e;const o=i==="fixed",c=Cr(n),d=t?_m(t.floating):!1;if(n===c||d&&o)return s;let h={scrollLeft:0,scrollTop:0},f=vr(1);const p=vr(0),g=_r(n);if((g||!g&&!o)&&((yc(n)!=="body"||vu(c))&&(h=Tm(n)),_r(n))){const b=Ko(n);f=rc(n),p.x=b.x+n.clientLeft,p.y=b.y+n.clientTop}const x=c&&!g&&!o?jT(c,h,!0):vr(0);return{width:s.width*f.x,height:s.height*f.y,x:s.x*f.x-h.scrollLeft*f.x+p.x+x.x,y:s.y*f.y-h.scrollTop*f.y+p.y+x.y}}function N3(e){return Array.from(e.getClientRects())}function _3(e){const t=Cr(e),s=Tm(e),n=e.ownerDocument.body,i=ca(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=ca(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let c=-s.scrollLeft+wy(e);const d=-s.scrollTop;return Ka(n).direction==="rtl"&&(c+=ca(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:c,y:d}}function T3(e,t){const s=ua(e),n=Cr(e),i=s.visualViewport;let o=n.clientWidth,c=n.clientHeight,d=0,h=0;if(i){o=i.width,c=i.height;const f=by();(!f||f&&t==="fixed")&&(d=i.offsetLeft,h=i.offsetTop)}return{width:o,height:c,x:d,y:h}}const S3=new Set(["absolute","fixed"]);function C3(e,t){const s=Ko(e,!0,t==="fixed"),n=s.top+e.clientTop,i=s.left+e.clientLeft,o=_r(e)?rc(e):vr(1),c=e.clientWidth*o.x,d=e.clientHeight*o.y,h=i*o.x,f=n*o.y;return{width:c,height:d,x:h,y:f}}function sN(e,t,s){let n;if(t==="viewport")n=T3(e,s);else if(t==="document")n=_3(Cr(e));else if(Xa(t))n=C3(t,s);else{const i=wT(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Xh(n)}function NT(e,t){const s=Qi(e);return s===t||!Xa(s)||dc(s)?!1:Ka(s).position==="fixed"||NT(s,t)}function k3(e,t){const s=t.get(e);if(s)return s;let n=iu(e,[],!1).filter(d=>Xa(d)&&yc(d)!=="body"),i=null;const o=Ka(e).position==="fixed";let c=o?Qi(e):e;for(;Xa(c)&&!dc(c);){const d=Ka(c),h=yy(c);!h&&d.position==="fixed"&&(i=null),(o?!h&&!i:!h&&d.position==="static"&&!!i&&S3.has(i.position)||vu(c)&&!h&&NT(e,c))?n=n.filter(p=>p!==c):i=d,c=Qi(c)}return t.set(e,n),n}function E3(e){let{element:t,boundary:s,rootBoundary:n,strategy:i}=e;const c=[...s==="clippingAncestors"?_m(t)?[]:k3(t,this._c):[].concat(s),n],d=c[0],h=c.reduce((f,p)=>{const g=sN(t,p,i);return f.top=ca(g.top,f.top),f.right=Ki(g.right,f.right),f.bottom=Ki(g.bottom,f.bottom),f.left=ca(g.left,f.left),f},sN(t,d,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function D3(e){const{width:t,height:s}=vT(e);return{width:t,height:s}}function A3(e,t,s){const n=_r(t),i=Cr(t),o=s==="fixed",c=Ko(e,!0,o,t);let d={scrollLeft:0,scrollTop:0};const h=vr(0);function f(){h.x=wy(i)}if(n||!n&&!o)if((yc(t)!=="body"||vu(i))&&(d=Tm(t)),n){const b=Ko(t,!0,o,t);h.x=b.x+t.clientLeft,h.y=b.y+t.clientTop}else i&&f();o&&!n&&i&&f();const p=i&&!n&&!o?jT(i,d):vr(0),g=c.left+d.scrollLeft-h.x-p.x,x=c.top+d.scrollTop-h.y-p.y;return{x:g,y:x,width:c.width,height:c.height}}function lx(e){return Ka(e).position==="static"}function nN(e,t){if(!_r(e)||Ka(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return Cr(e)===s&&(s=s.ownerDocument.body),s}function _T(e,t){const s=ua(e);if(_m(e))return s;if(!_r(e)){let i=Qi(e);for(;i&&!dc(i);){if(Xa(i)&&!lx(i))return i;i=Qi(i)}return s}let n=nN(e,t);for(;n&&h3(n)&&lx(n);)n=nN(n,t);return n&&dc(n)&&lx(n)&&!yy(n)?s:n||y3(e)||s}const O3=function(e){return we(this,null,function*(){const t=this.getOffsetParent||_T,s=this.getDimensions,n=yield s(e.floating);return{reference:A3(e.reference,yield t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}})};function R3(e){return Ka(e).direction==="rtl"}const M3={convertOffsetParentRelativeRectToViewportRelativeRect:j3,getDocumentElement:Cr,getClippingRect:E3,getOffsetParent:_T,getElementRects:O3,getClientRects:N3,getDimensions:D3,getScale:rc,isElement:Xa,isRTL:R3};function TT(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function P3(e,t){let s=null,n;const i=Cr(e);function o(){var d;clearTimeout(n),(d=s)==null||d.disconnect(),s=null}function c(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),o();const f=e.getBoundingClientRect(),{left:p,top:g,width:x,height:b}=f;if(d||t(),!x||!b)return;const j=Gf(g),v=Gf(i.clientWidth-(p+x)),_=Gf(i.clientHeight-(g+b)),T=Gf(p),C={rootMargin:-j+"px "+-v+"px "+-_+"px "+-T+"px",threshold:ca(0,Ki(1,h))||1};let S=!0;function D(E){const B=E[0].intersectionRatio;if(B!==h){if(!S)return c();B?c(!1,B):n=setTimeout(()=>{c(!1,1e-7)},1e3)}B===1&&!TT(f,e.getBoundingClientRect())&&c(),S=!1}try{s=new IntersectionObserver(D,le(F({},C),{root:i.ownerDocument}))}catch(E){s=new IntersectionObserver(D,C)}s.observe(e)}return c(!0),o}function L3(e,t,s,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=n,f=vy(e),p=i||o?[...f?iu(f):[],...iu(t)]:[];p.forEach(T=>{i&&T.addEventListener("scroll",s,{passive:!0}),o&&T.addEventListener("resize",s)});const g=f&&d?P3(f,s):null;let x=-1,b=null;c&&(b=new ResizeObserver(T=>{let[A]=T;A&&A.target===f&&b&&(b.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var C;(C=b)==null||C.observe(t)})),s()}),f&&!h&&b.observe(f),b.observe(t));let j,v=h?Ko(e):null;h&&_();function _(){const T=Ko(e);v&&!TT(v,T)&&s(),v=T,j=requestAnimationFrame(_)}return s(),()=>{var T;p.forEach(A=>{i&&A.removeEventListener("scroll",s),o&&A.removeEventListener("resize",s)}),g==null||g(),(T=b)==null||T.disconnect(),b=null,h&&cancelAnimationFrame(j)}}const B3=o3,F3=l3,U3=a3,z3=d3,H3=r3,aN=n3,$3=c3,I3=(e,t,s)=>{const n=new Map,i=F({platform:M3},s),o=le(F({},i.platform),{_c:n});return s3(e,t,le(F({},i),{platform:o}))};var V3=typeof document!="undefined",q3=function(){},Rh=V3?N.useLayoutEffect:q3;function Kh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(n=s;n--!==0;)if(!Kh(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),s=i.length,s!==Object.keys(t).length)return!1;for(n=s;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=s;n--!==0;){const o=i[n];if(!(o==="_owner"&&e.$$typeof)&&!Kh(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function ST(e){return typeof window=="undefined"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function rN(e,t){const s=ST(e);return Math.round(t*s)/s}function cx(e){const t=N.useRef(e);return Rh(()=>{t.current=e}),t}function W3(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:n=[],platform:i,elements:{reference:o,floating:c}={},transform:d=!0,whileElementsMounted:h,open:f}=e,[p,g]=N.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[x,b]=N.useState(n);Kh(x,n)||b(n);const[j,v]=N.useState(null),[_,T]=N.useState(null),A=N.useCallback(te=>{te!==E.current&&(E.current=te,v(te))},[]),C=N.useCallback(te=>{te!==B.current&&(B.current=te,T(te))},[]),S=o||j,D=c||_,E=N.useRef(null),B=N.useRef(null),U=N.useRef(p),R=h!=null,K=cx(h),W=cx(i),Z=cx(f),q=N.useCallback(()=>{if(!E.current||!B.current)return;const te={placement:t,strategy:s,middleware:x};W.current&&(te.platform=W.current),I3(E.current,B.current,te).then(de=>{const P=le(F({},de),{isPositioned:Z.current!==!1});G.current&&!Kh(U.current,P)&&(U.current=P,jm.flushSync(()=>{g(P)}))})},[x,t,s,W,Z]);Rh(()=>{f===!1&&U.current.isPositioned&&(U.current.isPositioned=!1,g(te=>le(F({},te),{isPositioned:!1})))},[f]);const G=N.useRef(!1);Rh(()=>(G.current=!0,()=>{G.current=!1}),[]),Rh(()=>{if(S&&(E.current=S),D&&(B.current=D),S&&D){if(K.current)return K.current(S,D,q);q()}},[S,D,q,K,R]);const I=N.useMemo(()=>({reference:E,floating:B,setReference:A,setFloating:C}),[A,C]),H=N.useMemo(()=>({reference:S,floating:D}),[S,D]),J=N.useMemo(()=>{const te={position:s,left:0,top:0};if(!H.floating)return te;const de=rN(H.floating,p.x),P=rN(H.floating,p.y);return d?F(le(F({},te),{transform:"translate("+de+"px, "+P+"px)"}),ST(H.floating)>=1.5&&{willChange:"transform"}):{position:s,left:de,top:P}},[s,d,H.floating,p.x,p.y]);return N.useMemo(()=>le(F({},p),{update:q,refs:I,elements:H,floatingStyles:J}),[p,q,I,H,J])}const Y3=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:n,padding:i}=typeof e=="function"?e(s):e;return n&&t(n)?n.current!=null?aN({element:n.current,padding:i}).fn(s):{}:n?aN({element:n,padding:i}).fn(s):{}}}},G3=(e,t)=>le(F({},B3(e)),{options:[e,t]}),X3=(e,t)=>le(F({},F3(e)),{options:[e,t]}),K3=(e,t)=>le(F({},$3(e)),{options:[e,t]}),Q3=(e,t)=>le(F({},U3(e)),{options:[e,t]}),Z3=(e,t)=>le(F({},z3(e)),{options:[e,t]}),J3=(e,t)=>le(F({},H3(e)),{options:[e,t]}),e6=(e,t)=>le(F({},Y3(e)),{options:[e,t]});var t6="Arrow",CT=N.forwardRef((e,t)=>{const c=e,{children:s,width:n=10,height:i=5}=c,o=Re(c,["children","width","height"]);return a.jsx(Yt.svg,le(F({},o),{ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:a.jsx("polygon",{points:"0,0 30,0 15,10"})}))});CT.displayName=t6;var s6=CT;function n6(e){const[t,s]=N.useState(void 0);return Ra(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let c,d;if("borderBoxSize"in o){const h=o.borderBoxSize,f=Array.isArray(h)?h[0]:h;c=f.inlineSize,d=f.blockSize}else c=e.offsetWidth,d=e.offsetHeight;s({width:c,height:d})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else s(void 0)},[e]),t}var jy="Popper",[kT,ET]=yu(jy),[a6,DT]=kT(jy),AT=e=>{const{__scopePopper:t,children:s}=e,[n,i]=N.useState(null);return a.jsx(a6,{scope:t,anchor:n,onAnchorChange:i,children:s})};AT.displayName=jy;var OT="PopperAnchor",RT=N.forwardRef((e,t)=>{const f=e,{__scopePopper:s,virtualRef:n}=f,i=Re(f,["__scopePopper","virtualRef"]),o=DT(OT,s),c=N.useRef(null),d=Rs(t,c),h=N.useRef(null);return N.useEffect(()=>{const p=h.current;h.current=(n==null?void 0:n.current)||c.current,p!==h.current&&o.onAnchorChange(h.current)}),n?null:a.jsx(Yt.div,le(F({},i),{ref:d}))});RT.displayName=OT;var Ny="PopperContent",[r6,i6]=kT(Ny),MT=N.forwardRef((e,t)=>{var Ae,Ve,ze,M,_e,He,Ue,mt;const ke=e,{__scopePopper:s,side:n="bottom",sideOffset:i=0,align:o="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:h=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:x=!1,updatePositionStrategy:b="optimized",onPlaced:j}=ke,v=Re(ke,["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"]),_=DT(Ny,s),[T,A]=N.useState(null),C=Rs(t,tt=>A(tt)),[S,D]=N.useState(null),E=n6(S),B=(Ae=E==null?void 0:E.width)!=null?Ae:0,U=(Ve=E==null?void 0:E.height)!=null?Ve:0,R=n+(o!=="center"?"-"+o:""),K=typeof p=="number"?p:F({top:0,right:0,bottom:0,left:0},p),W=Array.isArray(f)?f:[f],Z=W.length>0,q={padding:K,boundary:W.filter(l6),altBoundary:Z},{refs:G,floatingStyles:I,placement:H,isPositioned:J,middlewareData:te}=W3({strategy:"fixed",placement:R,whileElementsMounted:(...tt)=>L3(...tt,{animationFrame:b==="always"}),elements:{reference:_.anchor},middleware:[G3({mainAxis:i+U,alignmentAxis:c}),h&&X3(F({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?K3():void 0},q)),h&&Q3(F({},q)),Z3(le(F({},q),{apply:({elements:tt,rects:Le,availableWidth:nt,availableHeight:lt})=>{const{width:Q,height:me}=Le.reference,X=tt.floating.style;X.setProperty("--radix-popper-available-width",`${nt}px`),X.setProperty("--radix-popper-available-height",`${lt}px`),X.setProperty("--radix-popper-anchor-width",`${Q}px`),X.setProperty("--radix-popper-anchor-height",`${me}px`)}})),S&&e6({element:S,padding:d}),c6({arrowWidth:B,arrowHeight:U}),x&&J3(F({strategy:"referenceHidden"},q))]}),[de,P]=BT(H),ie=Nr(j);Ra(()=>{J&&(ie==null||ie())},[J,ie]);const ne=(ze=te.arrow)==null?void 0:ze.x,$=(M=te.arrow)==null?void 0:M.y,ee=((_e=te.arrow)==null?void 0:_e.centerOffset)!==0,[xe,he]=N.useState();return Ra(()=>{T&&he(window.getComputedStyle(T).zIndex)},[T]),a.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:F(le(F({},I),{transform:J?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xe,"--radix-popper-transform-origin":[(He=te.transformOrigin)==null?void 0:He.x,(Ue=te.transformOrigin)==null?void 0:Ue.y].join(" ")}),((mt=te.hide)==null?void 0:mt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:a.jsx(r6,{scope:s,placedSide:de,onArrowChange:D,arrowX:ne,arrowY:$,shouldHideArrow:ee,children:a.jsx(Yt.div,le(F({"data-side":de,"data-align":P},v),{ref:C,style:le(F({},v.style),{animation:J?void 0:"none"})}))})})});MT.displayName=Ny;var PT="PopperArrow",o6={top:"bottom",right:"left",bottom:"top",left:"right"},LT=N.forwardRef(function(t,s){const d=t,{__scopePopper:n}=d,i=Re(d,["__scopePopper"]),o=i6(PT,n),c=o6[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(s6,le(F({},i),{ref:s,style:le(F({},i.style),{display:"block"})}))})});LT.displayName=PT;function l6(e){return e!==null}var c6=e=>({name:"transformOrigin",options:e,fn(t){var _,T,A,C,S;const{placement:s,rects:n,middlewareData:i}=t,c=((_=i.arrow)==null?void 0:_.centerOffset)!==0,d=c?0:e.arrowWidth,h=c?0:e.arrowHeight,[f,p]=BT(s),g={start:"0%",center:"50%",end:"100%"}[p],x=((A=(T=i.arrow)==null?void 0:T.x)!=null?A:0)+d/2,b=((S=(C=i.arrow)==null?void 0:C.y)!=null?S:0)+h/2;let j="",v="";return f==="bottom"?(j=c?g:`${x}px`,v=`${-h}px`):f==="top"?(j=c?g:`${x}px`,v=`${n.floating.height+h}px`):f==="right"?(j=`${-h}px`,v=c?g:`${b}px`):f==="left"&&(j=`${n.floating.width+h}px`,v=c?g:`${b}px`),{data:{x:j,y:v}}}});function BT(e){const[t,s="center"]=e.split("-");return[t,s]}var d6=AT,FT=RT,u6=MT,f6=LT,h6="Portal",wu=N.forwardRef((e,t)=>{var h;const d=e,{container:s}=d,n=Re(d,["container"]),[i,o]=N.useState(!1);Ra(()=>o(!0),[]);const c=s||i&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return c?oT.createPortal(a.jsx(Yt.div,le(F({},n),{ref:t})),c):null});wu.displayName=h6;function m6(e,t){return N.useReducer((s,n)=>{const i=t[s][n];return i!=null?i:s},e)}var bc=e=>{const{present:t,children:s}=e,n=p6(t),i=typeof s=="function"?s({present:n.isPresent}):N.Children.only(s),o=Rs(n.ref,g6(i));return typeof s=="function"||n.isPresent?N.cloneElement(i,{ref:o}):null};bc.displayName="Presence";function p6(e){const[t,s]=N.useState(),n=N.useRef(null),i=N.useRef(e),o=N.useRef("none"),c=e?"mounted":"unmounted",[d,h]=m6(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const f=Xf(n.current);o.current=d==="mounted"?f:"none"},[d]),Ra(()=>{const f=n.current,p=i.current;if(p!==e){const x=o.current,b=Xf(f);e?h("MOUNT"):b==="none"||(f==null?void 0:f.display)==="none"?h("UNMOUNT"):h(p&&x!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,h]),Ra(()=>{var f;if(t){let p;const g=(f=t.ownerDocument.defaultView)!=null?f:window,x=j=>{const _=Xf(n.current).includes(CSS.escape(j.animationName));if(j.target===t&&_&&(h("ANIMATION_END"),!i.current)){const T=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=T)})}},b=j=>{j.target===t&&(o.current=Xf(n.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",x),t.addEventListener("animationend",x),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",x),t.removeEventListener("animationend",x)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:N.useCallback(f=>{n.current=f?getComputedStyle(f):null,s(f)},[])}}function Xf(e){return(e==null?void 0:e.animationName)||"none"}function g6(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var x6=s2[" useInsertionEffect ".trim().toString()]||Ra;function Sm({prop:e,defaultProp:t,onChange:s=()=>{},caller:n}){const[i,o,c]=y6({defaultProp:t,onChange:s}),d=e!==void 0,h=d?e:i;{const p=N.useRef(e!==void 0);N.useEffect(()=>{const g=p.current;g!==d&&console.warn(`${n} is changing from ${g?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=d},[d,n])}const f=N.useCallback(p=>{var g;if(d){const x=b6(p)?p(e):p;x!==e&&((g=c.current)==null||g.call(c,x))}else o(p)},[d,e,o,c]);return[h,f]}function y6({defaultProp:e,onChange:t}){const[s,n]=N.useState(e),i=N.useRef(s),o=N.useRef(t);return x6(()=>{o.current=t},[t]),N.useEffect(()=>{var c;i.current!==s&&((c=o.current)==null||c.call(o,s),i.current=s)},[s,i]),[s,n,o]}function b6(e){return typeof e=="function"}var v6=function(e){if(typeof document=="undefined")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Vl=new WeakMap,Kf=new WeakMap,Qf={},dx=0,UT=function(e){return e&&(e.host||UT(e.parentNode))},w6=function(e,t){return t.map(function(s){if(e.contains(s))return s;var n=UT(s);return n&&e.contains(n)?n:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},j6=function(e,t,s,n){var i=w6(t,Array.isArray(e)?e:[e]);Qf[s]||(Qf[s]=new WeakMap);var o=Qf[s],c=[],d=new Set,h=new Set(i),f=function(g){!g||d.has(g)||(d.add(g),f(g.parentNode))};i.forEach(f);var p=function(g){!g||h.has(g)||Array.prototype.forEach.call(g.children,function(x){if(d.has(x))p(x);else try{var b=x.getAttribute(n),j=b!==null&&b!=="false",v=(Vl.get(x)||0)+1,_=(o.get(x)||0)+1;Vl.set(x,v),o.set(x,_),c.push(x),v===1&&j&&Kf.set(x,!0),_===1&&x.setAttribute(s,"true"),j||x.setAttribute(n,"true")}catch(T){console.error("aria-hidden: cannot operate on ",x,T)}})};return p(t),d.clear(),dx++,function(){c.forEach(function(g){var x=Vl.get(g)-1,b=o.get(g)-1;Vl.set(g,x),o.set(g,b),x||(Kf.has(g)||g.removeAttribute(n),Kf.delete(g)),b||g.removeAttribute(s)}),dx--,dx||(Vl=new WeakMap,Vl=new WeakMap,Kf=new WeakMap,Qf={})}},Cm=function(e,t,s){s===void 0&&(s="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=v6(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),j6(n,i,s,"aria-hidden")):function(){return null}},pr=function(){return pr=Object.assign||function(t){for(var s,n=1,i=arguments.length;n<i;n++){s=arguments[n];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},pr.apply(this,arguments)};function zT(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(s[n[i]]=e[n[i]]);return s}function N6(e,t,s){if(s||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var Mh="right-scroll-bar-position",Ph="width-before-scroll-bar",_6="with-scroll-bars-hidden",T6="--removed-body-scroll-bar-size";function ux(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function S6(e,t){var s=N.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(n){var i=s.value;i!==n&&(s.value=n,s.callback(n,i))}}}})[0];return s.callback=t,s.facade}var C6=typeof window!="undefined"?N.useLayoutEffect:N.useEffect,iN=new WeakMap;function k6(e,t){var s=S6(null,function(n){return e.forEach(function(i){return ux(i,n)})});return C6(function(){var n=iN.get(s);if(n){var i=new Set(n),o=new Set(e),c=s.current;i.forEach(function(d){o.has(d)||ux(d,null)}),o.forEach(function(d){i.has(d)||ux(d,c)})}iN.set(s,e)},[e]),s}function E6(e){return e}function D6(e,t){t===void 0&&(t=E6);var s=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(o){var c=t(o,n);return s.push(c),function(){s=s.filter(function(d){return d!==c})}},assignSyncMedium:function(o){for(n=!0;s.length;){var c=s;s=[],c.forEach(o)}s={push:function(d){return o(d)},filter:function(){return s}}},assignMedium:function(o){n=!0;var c=[];if(s.length){var d=s;s=[],d.forEach(o),c=s}var h=function(){var p=c;c=[],p.forEach(o)},f=function(){return Promise.resolve().then(h)};f(),s={push:function(p){c.push(p),f()},filter:function(p){return c=c.filter(p),s}}}};return i}function A6(e){e===void 0&&(e={});var t=D6(null);return t.options=pr({async:!0,ssr:!1},e),t}var HT=function(e){var t=e.sideCar,s=zT(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return N.createElement(n,pr({},s))};HT.isSideCarExport=!0;function O6(e,t){return e.useMedium(t),HT}var $T=A6(),fx=function(){},km=N.forwardRef(function(e,t){var s=N.useRef(null),n=N.useState({onScrollCapture:fx,onWheelCapture:fx,onTouchMoveCapture:fx}),i=n[0],o=n[1],c=e.forwardProps,d=e.children,h=e.className,f=e.removeScrollBar,p=e.enabled,g=e.shards,x=e.sideCar,b=e.noRelative,j=e.noIsolation,v=e.inert,_=e.allowPinchZoom,T=e.as,A=T===void 0?"div":T,C=e.gapMode,S=zT(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=x,E=k6([s,t]),B=pr(pr({},S),i);return N.createElement(N.Fragment,null,p&&N.createElement(D,{sideCar:$T,removeScrollBar:f,shards:g,noRelative:b,noIsolation:j,inert:v,setCallbacks:o,allowPinchZoom:!!_,lockRef:s,gapMode:C}),c?N.cloneElement(N.Children.only(d),pr(pr({},B),{ref:E})):N.createElement(A,pr({},B,{className:h,ref:E}),d))});km.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};km.classNames={fullWidth:Ph,zeroRight:Mh};var R6=function(){if(typeof __webpack_nonce__!="undefined")return __webpack_nonce__};function M6(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=R6();return t&&e.setAttribute("nonce",t),e}function P6(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function L6(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var B6=function(){var e=0,t=null;return{add:function(s){e==0&&(t=M6())&&(P6(t,s),L6(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},F6=function(){var e=B6();return function(t,s){N.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},IT=function(){var e=F6(),t=function(s){var n=s.styles,i=s.dynamic;return e(n,i),null};return t},U6={left:0,top:0,right:0,gap:0},hx=function(e){return parseInt(e||"",10)||0},z6=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[hx(s),hx(n),hx(i)]},H6=function(e){if(e===void 0&&(e="margin"),typeof window=="undefined")return U6;var t=z6(e),s=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-s+t[2]-t[0])}},$6=IT(),ic="data-scroll-locked",I6=function(e,t,s,n){var i=e.left,o=e.top,c=e.right,d=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(_6,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(d,"px ").concat(n,`;
  }
  body[`).concat(ic,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),s==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(n,`;
    `),s==="padding"&&"padding-right: ".concat(d,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Mh,` {
    right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(Ph,` {
    margin-right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(Mh," .").concat(Mh,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ph," .").concat(Ph,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ic,`] {
    `).concat(T6,": ").concat(d,`px;
  }
`)},oN=function(){var e=parseInt(document.body.getAttribute(ic)||"0",10);return isFinite(e)?e:0},V6=function(){N.useEffect(function(){return document.body.setAttribute(ic,(oN()+1).toString()),function(){var e=oN()-1;e<=0?document.body.removeAttribute(ic):document.body.setAttribute(ic,e.toString())}},[])},q6=function(e){var t=e.noRelative,s=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;V6();var o=N.useMemo(function(){return H6(i)},[i]);return N.createElement($6,{styles:I6(o,!t,i,s?"":"!important")})},d0=!1;if(typeof window!="undefined")try{var Zf=Object.defineProperty({},"passive",{get:function(){return d0=!0,!0}});window.addEventListener("test",Zf,Zf),window.removeEventListener("test",Zf,Zf)}catch(e){d0=!1}var ql=d0?{passive:!1}:!1,W6=function(e){return e.tagName==="TEXTAREA"},VT=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!W6(e)&&s[t]==="visible")},Y6=function(e){return VT(e,"overflowY")},G6=function(e){return VT(e,"overflowX")},lN=function(e,t){var s=t.ownerDocument,n=t;do{typeof ShadowRoot!="undefined"&&n instanceof ShadowRoot&&(n=n.host);var i=qT(e,n);if(i){var o=WT(e,n),c=o[1],d=o[2];if(c>d)return!0}n=n.parentNode}while(n&&n!==s.body);return!1},X6=function(e){var t=e.scrollTop,s=e.scrollHeight,n=e.clientHeight;return[t,s,n]},K6=function(e){var t=e.scrollLeft,s=e.scrollWidth,n=e.clientWidth;return[t,s,n]},qT=function(e,t){return e==="v"?Y6(t):G6(t)},WT=function(e,t){return e==="v"?X6(t):K6(t)},Q6=function(e,t){return e==="h"&&t==="rtl"?-1:1},Z6=function(e,t,s,n,i){var o=Q6(e,window.getComputedStyle(t).direction),c=o*n,d=s.target,h=t.contains(d),f=!1,p=c>0,g=0,x=0;do{if(!d)break;var b=WT(e,d),j=b[0],v=b[1],_=b[2],T=v-_-o*j;(j||T)&&qT(e,d)&&(g+=T,x+=j);var A=d.parentNode;d=A&&A.nodeType===Node.DOCUMENT_FRAGMENT_NODE?A.host:A}while(!h&&d!==document.body||h&&(t.contains(d)||t===d));return(p&&Math.abs(g)<1||!p&&Math.abs(x)<1)&&(f=!0),f},Jf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},cN=function(e){return[e.deltaX,e.deltaY]},dN=function(e){return e&&"current"in e?e.current:e},J6=function(e,t){return e[0]===t[0]&&e[1]===t[1]},eP=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},tP=0,Wl=[];function sP(e){var t=N.useRef([]),s=N.useRef([0,0]),n=N.useRef(),i=N.useState(tP++)[0],o=N.useState(IT)[0],c=N.useRef(e);N.useEffect(function(){c.current=e},[e]),N.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var v=N6([e.lockRef.current],(e.shards||[]).map(dN),!0).filter(Boolean);return v.forEach(function(_){return _.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var d=N.useCallback(function(v,_){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!c.current.allowPinchZoom;var T=Jf(v),A=s.current,C="deltaX"in v?v.deltaX:A[0]-T[0],S="deltaY"in v?v.deltaY:A[1]-T[1],D,E=v.target,B=Math.abs(C)>Math.abs(S)?"h":"v";if("touches"in v&&B==="h"&&E.type==="range")return!1;var U=lN(B,E);if(!U)return!0;if(U?D=B:(D=B==="v"?"h":"v",U=lN(B,E)),!U)return!1;if(!n.current&&"changedTouches"in v&&(C||S)&&(n.current=D),!D)return!0;var R=n.current||D;return Z6(R,_,v,R==="h"?C:S)},[]),h=N.useCallback(function(v){var _=v;if(!(!Wl.length||Wl[Wl.length-1]!==o)){var T="deltaY"in _?cN(_):Jf(_),A=t.current.filter(function(D){return D.name===_.type&&(D.target===_.target||_.target===D.shadowParent)&&J6(D.delta,T)})[0];if(A&&A.should){_.cancelable&&_.preventDefault();return}if(!A){var C=(c.current.shards||[]).map(dN).filter(Boolean).filter(function(D){return D.contains(_.target)}),S=C.length>0?d(_,C[0]):!c.current.noIsolation;S&&_.cancelable&&_.preventDefault()}}},[]),f=N.useCallback(function(v,_,T,A){var C={name:v,delta:_,target:T,should:A,shadowParent:nP(T)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(S){return S!==C})},1)},[]),p=N.useCallback(function(v){s.current=Jf(v),n.current=void 0},[]),g=N.useCallback(function(v){f(v.type,cN(v),v.target,d(v,e.lockRef.current))},[]),x=N.useCallback(function(v){f(v.type,Jf(v),v.target,d(v,e.lockRef.current))},[]);N.useEffect(function(){return Wl.push(o),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:x}),document.addEventListener("wheel",h,ql),document.addEventListener("touchmove",h,ql),document.addEventListener("touchstart",p,ql),function(){Wl=Wl.filter(function(v){return v!==o}),document.removeEventListener("wheel",h,ql),document.removeEventListener("touchmove",h,ql),document.removeEventListener("touchstart",p,ql)}},[]);var b=e.removeScrollBar,j=e.inert;return N.createElement(N.Fragment,null,j?N.createElement(o,{styles:eP(i)}):null,b?N.createElement(q6,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function nP(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const aP=O6($T,sP);var ju=N.forwardRef(function(e,t){return N.createElement(km,pr({},e,{ref:t,sideCar:aP}))});ju.classNames=km.classNames;var Em="Popover",[YT,o$]=yu(Em,[ET]),Nu=ET(),[rP,no]=YT(Em),GT=e=>{const{__scopePopover:t,children:s,open:n,defaultOpen:i,onOpenChange:o,modal:c=!1}=e,d=Nu(t),h=N.useRef(null),[f,p]=N.useState(!1),[g,x]=Sm({prop:n,defaultProp:i!=null?i:!1,onChange:o,caller:Em});return a.jsx(d6,le(F({},d),{children:a.jsx(rP,{scope:t,contentId:An(),triggerRef:h,open:g,onOpenChange:x,onOpenToggle:N.useCallback(()=>x(b=>!b),[x]),hasCustomAnchor:f,onCustomAnchorAdd:N.useCallback(()=>p(!0),[]),onCustomAnchorRemove:N.useCallback(()=>p(!1),[]),modal:c,children:s})}))};GT.displayName=Em;var XT="PopoverAnchor",iP=N.forwardRef((e,t)=>{const h=e,{__scopePopover:s}=h,n=Re(h,["__scopePopover"]),i=no(XT,s),o=Nu(s),{onCustomAnchorAdd:c,onCustomAnchorRemove:d}=i;return N.useEffect(()=>(c(),()=>d()),[c,d]),a.jsx(FT,le(F(F({},o),n),{ref:t}))});iP.displayName=XT;var KT="PopoverTrigger",QT=N.forwardRef((e,t)=>{const h=e,{__scopePopover:s}=h,n=Re(h,["__scopePopover"]),i=no(KT,s),o=Nu(s),c=Rs(t,i.triggerRef),d=a.jsx(Yt.button,le(F({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":sS(i.open)},n),{ref:c,onClick:da(e.onClick,i.onOpenToggle)}));return i.hasCustomAnchor?d:a.jsx(FT,le(F({asChild:!0},o),{children:d}))});QT.displayName=KT;var _y="PopoverPortal",[oP,lP]=YT(_y,{forceMount:void 0}),ZT=e=>{const{__scopePopover:t,forceMount:s,children:n,container:i}=e,o=no(_y,t);return a.jsx(oP,{scope:t,forceMount:s,children:a.jsx(bc,{present:s||o.open,children:a.jsx(wu,{asChild:!0,container:i,children:n})})})};ZT.displayName=_y;var uc="PopoverContent",JT=N.forwardRef((e,t)=>{const s=lP(uc,e.__scopePopover),c=e,{forceMount:n=s.forceMount}=c,i=Re(c,["forceMount"]),o=no(uc,e.__scopePopover);return a.jsx(bc,{present:n||o.open,children:o.modal?a.jsx(dP,le(F({},i),{ref:t})):a.jsx(uP,le(F({},i),{ref:t}))})});JT.displayName=uc;var cP=gc("PopoverContent.RemoveScroll"),dP=N.forwardRef((e,t)=>{const s=no(uc,e.__scopePopover),n=N.useRef(null),i=Rs(t,n),o=N.useRef(!1);return N.useEffect(()=>{const c=n.current;if(c)return Cm(c)},[]),a.jsx(ju,{as:cP,allowPinchZoom:!0,children:a.jsx(eS,le(F({},e),{ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:da(e.onCloseAutoFocus,c=>{var d;c.preventDefault(),o.current||(d=s.triggerRef.current)==null||d.focus()}),onPointerDownOutside:da(e.onPointerDownOutside,c=>{const d=c.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,f=d.button===2||h;o.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:da(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})}))})}),uP=N.forwardRef((e,t)=>{const s=no(uc,e.__scopePopover),n=N.useRef(!1),i=N.useRef(!1);return a.jsx(eS,le(F({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,d;(c=e.onCloseAutoFocus)==null||c.call(e,o),o.defaultPrevented||(n.current||(d=s.triggerRef.current)==null||d.focus(),o.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:o=>{var h,f;(h=e.onInteractOutside)==null||h.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=o.target;((f=s.triggerRef.current)==null?void 0:f.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}}))}),eS=N.forwardRef((e,t)=>{const j=e,{__scopePopover:s,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p}=j,g=Re(j,["__scopePopover","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside"]),x=no(uc,s),b=Nu(s);return mT(),a.jsx(bu,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:o,children:a.jsx(my,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:p,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onDismiss:()=>x.onOpenChange(!1),children:a.jsx(u6,le(F(F({"data-state":sS(x.open),role:"dialog",id:x.contentId},b),g),{ref:t,style:le(F({},g.style),{"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"})}))})})}),tS="PopoverClose",fP=N.forwardRef((e,t)=>{const o=e,{__scopePopover:s}=o,n=Re(o,["__scopePopover"]),i=no(tS,s);return a.jsx(Yt.button,le(F({type:"button"},n),{ref:t,onClick:da(e.onClick,()=>i.onOpenChange(!1))}))});fP.displayName=tS;var hP="PopoverArrow",mP=N.forwardRef((e,t)=>{const o=e,{__scopePopover:s}=o,n=Re(o,["__scopePopover"]),i=Nu(s);return a.jsx(f6,le(F(F({},i),n),{ref:t}))});mP.displayName=hP;function sS(e){return e?"open":"closed"}var pP=GT,gP=QT,xP=ZT,yP=JT;function nS(e){var t,s,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(s=nS(e[t]))&&(n&&(n+=" "),n+=s)}else for(s in e)e[s]&&(n&&(n+=" "),n+=s);return n}function aS(){for(var e,t,s=0,n="",i=arguments.length;s<i;s++)(e=arguments[s])&&(t=nS(e))&&(n&&(n+=" "),n+=t);return n}const Ty="-",bP=e=>{const t=wP(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:c=>{const d=c.split(Ty);return d[0]===""&&d.length!==1&&d.shift(),rS(d,t)||vP(c)},getConflictingClassGroupIds:(c,d)=>{const h=s[c]||[];return d&&n[c]?[...h,...n[c]]:h}}},rS=(e,t)=>{var c;if(e.length===0)return t.classGroupId;const s=e[0],n=t.nextPart.get(s),i=n?rS(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(Ty);return(c=t.validators.find(({validator:d})=>d(o)))==null?void 0:c.classGroupId},uN=/^\[(.+)\]$/,vP=e=>{if(uN.test(e)){const t=uN.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},wP=e=>{const{theme:t,classGroups:s}=e,n={nextPart:new Map,validators:[]};for(const i in s)u0(s[i],n,i,t);return n},u0=(e,t,s,n)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:fN(t,i);o.classGroupId=s;return}if(typeof i=="function"){if(jP(i)){u0(i(n),t,s,n);return}t.validators.push({validator:i,classGroupId:s});return}Object.entries(i).forEach(([o,c])=>{u0(c,fN(t,o),s,n)})})},fN=(e,t)=>{let s=e;return t.split(Ty).forEach(n=>{s.nextPart.has(n)||s.nextPart.set(n,{nextPart:new Map,validators:[]}),s=s.nextPart.get(n)}),s},jP=e=>e.isThemeGetter,NP=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,n=new Map;const i=(o,c)=>{s.set(o,c),t++,t>e&&(t=0,n=s,s=new Map)};return{get(o){let c=s.get(o);if(c!==void 0)return c;if((c=n.get(o))!==void 0)return i(o,c),c},set(o,c){s.has(o)?s.set(o,c):i(o,c)}}},f0="!",h0=":",_P=h0.length,TP=e=>{const{prefix:t,experimentalParseClassName:s}=e;let n=i=>{const o=[];let c=0,d=0,h=0,f;for(let j=0;j<i.length;j++){let v=i[j];if(c===0&&d===0){if(v===h0){o.push(i.slice(h,j)),h=j+_P;continue}if(v==="/"){f=j;continue}}v==="["?c++:v==="]"?c--:v==="("?d++:v===")"&&d--}const p=o.length===0?i:i.substring(h),g=SP(p),x=g!==p,b=f&&f>h?f-h:void 0;return{modifiers:o,hasImportantModifier:x,baseClassName:g,maybePostfixModifierPosition:b}};if(t){const i=t+h0,o=n;n=c=>c.startsWith(i)?o(c.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(s){const i=n;n=o=>s({className:o,parseClassName:i})}return n},SP=e=>e.endsWith(f0)?e.substring(0,e.length-1):e.startsWith(f0)?e.substring(1):e,CP=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const i=[];let o=[];return n.forEach(c=>{c[0]==="["||t[c]?(i.push(...o.sort(),c),o=[]):o.push(c)}),i.push(...o.sort()),i}},kP=e=>F({cache:NP(e.cacheSize),parseClassName:TP(e),sortModifiers:CP(e)},bP(e)),EP=/\s+/,DP=(e,t)=>{const{parseClassName:s,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:o}=t,c=[],d=e.trim().split(EP);let h="";for(let f=d.length-1;f>=0;f-=1){const p=d[f],{isExternal:g,modifiers:x,hasImportantModifier:b,baseClassName:j,maybePostfixModifierPosition:v}=s(p);if(g){h=p+(h.length>0?" "+h:h);continue}let _=!!v,T=n(_?j.substring(0,v):j);if(!T){if(!_){h=p+(h.length>0?" "+h:h);continue}if(T=n(j),!T){h=p+(h.length>0?" "+h:h);continue}_=!1}const A=o(x).join(":"),C=b?A+f0:A,S=C+T;if(c.includes(S))continue;c.push(S);const D=i(T,_);for(let E=0;E<D.length;++E){const B=D[E];c.push(C+B)}h=p+(h.length>0?" "+h:h)}return h};function AP(){let e=0,t,s,n="";for(;e<arguments.length;)(t=arguments[e++])&&(s=iS(t))&&(n&&(n+=" "),n+=s);return n}const iS=e=>{if(typeof e=="string")return e;let t,s="";for(let n=0;n<e.length;n++)e[n]&&(t=iS(e[n]))&&(s&&(s+=" "),s+=t);return s};function OP(e,...t){let s,n,i,o=c;function c(h){const f=t.reduce((p,g)=>g(p),e());return s=kP(f),n=s.cache.get,i=s.cache.set,o=d,d(h)}function d(h){const f=n(h);if(f)return f;const p=DP(h,s);return i(h,p),p}return function(){return o(AP.apply(null,arguments))}}const sn=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},oS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,lS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,RP=/^\d+\/\d+$/,MP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,PP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,LP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,BP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,FP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yl=e=>RP.test(e),Ut=e=>!!e&&!Number.isNaN(Number(e)),Mi=e=>!!e&&Number.isInteger(Number(e)),mx=e=>e.endsWith("%")&&Ut(e.slice(0,-1)),Wr=e=>MP.test(e),UP=()=>!0,zP=e=>PP.test(e)&&!LP.test(e),cS=()=>!1,HP=e=>BP.test(e),$P=e=>FP.test(e),IP=e=>!it(e)&&!ot(e),VP=e=>vc(e,fS,cS),it=e=>oS.test(e),Ao=e=>vc(e,hS,zP),px=e=>vc(e,XP,Ut),hN=e=>vc(e,dS,cS),qP=e=>vc(e,uS,$P),eh=e=>vc(e,mS,HP),ot=e=>lS.test(e),Ed=e=>wc(e,hS),WP=e=>wc(e,KP),mN=e=>wc(e,dS),YP=e=>wc(e,fS),GP=e=>wc(e,uS),th=e=>wc(e,mS,!0),vc=(e,t,s)=>{const n=oS.exec(e);return n?n[1]?t(n[1]):s(n[2]):!1},wc=(e,t,s=!1)=>{const n=lS.exec(e);return n?n[1]?t(n[1]):s:!1},dS=e=>e==="position"||e==="percentage",uS=e=>e==="image"||e==="url",fS=e=>e==="length"||e==="size"||e==="bg-size",hS=e=>e==="length",XP=e=>e==="number",KP=e=>e==="family-name",mS=e=>e==="shadow",QP=()=>{const e=sn("color"),t=sn("font"),s=sn("text"),n=sn("font-weight"),i=sn("tracking"),o=sn("leading"),c=sn("breakpoint"),d=sn("container"),h=sn("spacing"),f=sn("radius"),p=sn("shadow"),g=sn("inset-shadow"),x=sn("text-shadow"),b=sn("drop-shadow"),j=sn("blur"),v=sn("perspective"),_=sn("aspect"),T=sn("ease"),A=sn("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],S=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],D=()=>[...S(),ot,it],E=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto","contain","none"],U=()=>[ot,it,h],R=()=>[Yl,"full","auto",...U()],K=()=>[Mi,"none","subgrid",ot,it],W=()=>["auto",{span:["full",Mi,ot,it]},Mi,ot,it],Z=()=>[Mi,"auto",ot,it],q=()=>["auto","min","max","fr",ot,it],G=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],I=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...U()],J=()=>[Yl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...U()],te=()=>[e,ot,it],de=()=>[...S(),mN,hN,{position:[ot,it]}],P=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ie=()=>["auto","cover","contain",YP,VP,{size:[ot,it]}],ne=()=>[mx,Ed,Ao],$=()=>["","none","full",f,ot,it],ee=()=>["",Ut,Ed,Ao],xe=()=>["solid","dashed","dotted","double"],he=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ke=()=>[Ut,mx,mN,hN],Ae=()=>["","none",j,ot,it],Ve=()=>["none",Ut,ot,it],ze=()=>["none",Ut,ot,it],M=()=>[Ut,ot,it],_e=()=>[Yl,"full",...U()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Wr],breakpoint:[Wr],color:[UP],container:[Wr],"drop-shadow":[Wr],ease:["in","out","in-out"],font:[IP],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Wr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Wr],shadow:[Wr],spacing:["px",Ut],text:[Wr],"text-shadow":[Wr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Yl,it,ot,_]}],container:["container"],columns:[{columns:[Ut,it,ot,d]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[Mi,"auto",ot,it]}],basis:[{basis:[Yl,"full","auto",d,...U()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ut,Yl,"auto","initial","none",it]}],grow:[{grow:["",Ut,ot,it]}],shrink:[{shrink:["",Ut,ot,it]}],order:[{order:[Mi,"first","last","none",ot,it]}],"grid-cols":[{"grid-cols":K()}],"col-start-end":[{col:W()}],"col-start":[{"col-start":Z()}],"col-end":[{"col-end":Z()}],"grid-rows":[{"grid-rows":K()}],"row-start-end":[{row:W()}],"row-start":[{"row-start":Z()}],"row-end":[{"row-end":Z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":q()}],"auto-rows":[{"auto-rows":q()}],gap:[{gap:U()}],"gap-x":[{"gap-x":U()}],"gap-y":[{"gap-y":U()}],"justify-content":[{justify:[...G(),"normal"]}],"justify-items":[{"justify-items":[...I(),"normal"]}],"justify-self":[{"justify-self":["auto",...I()]}],"align-content":[{content:["normal",...G()]}],"align-items":[{items:[...I(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...I(),{baseline:["","last"]}]}],"place-content":[{"place-content":G()}],"place-items":[{"place-items":[...I(),"baseline"]}],"place-self":[{"place-self":["auto",...I()]}],p:[{p:U()}],px:[{px:U()}],py:[{py:U()}],ps:[{ps:U()}],pe:[{pe:U()}],pt:[{pt:U()}],pr:[{pr:U()}],pb:[{pb:U()}],pl:[{pl:U()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":U()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":U()}],"space-y-reverse":["space-y-reverse"],size:[{size:J()}],w:[{w:[d,"screen",...J()]}],"min-w":[{"min-w":[d,"screen","none",...J()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...J()]}],h:[{h:["screen","lh",...J()]}],"min-h":[{"min-h":["screen","lh","none",...J()]}],"max-h":[{"max-h":["screen","lh",...J()]}],"font-size":[{text:["base",s,Ed,Ao]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,ot,px]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",mx,it]}],"font-family":[{font:[WP,it,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ot,it]}],"line-clamp":[{"line-clamp":[Ut,"none",ot,px]}],leading:[{leading:[o,...U()]}],"list-image":[{"list-image":["none",ot,it]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ot,it]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:te()}],"text-color":[{text:te()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...xe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ut,"from-font","auto",ot,Ao]}],"text-decoration-color":[{decoration:te()}],"underline-offset":[{"underline-offset":[Ut,"auto",ot,it]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ot,it]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ot,it]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:de()}],"bg-repeat":[{bg:P()}],"bg-size":[{bg:ie()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Mi,ot,it],radial:["",ot,it],conic:[Mi,ot,it]},GP,qP]}],"bg-color":[{bg:te()}],"gradient-from-pos":[{from:ne()}],"gradient-via-pos":[{via:ne()}],"gradient-to-pos":[{to:ne()}],"gradient-from":[{from:te()}],"gradient-via":[{via:te()}],"gradient-to":[{to:te()}],rounded:[{rounded:$()}],"rounded-s":[{"rounded-s":$()}],"rounded-e":[{"rounded-e":$()}],"rounded-t":[{"rounded-t":$()}],"rounded-r":[{"rounded-r":$()}],"rounded-b":[{"rounded-b":$()}],"rounded-l":[{"rounded-l":$()}],"rounded-ss":[{"rounded-ss":$()}],"rounded-se":[{"rounded-se":$()}],"rounded-ee":[{"rounded-ee":$()}],"rounded-es":[{"rounded-es":$()}],"rounded-tl":[{"rounded-tl":$()}],"rounded-tr":[{"rounded-tr":$()}],"rounded-br":[{"rounded-br":$()}],"rounded-bl":[{"rounded-bl":$()}],"border-w":[{border:ee()}],"border-w-x":[{"border-x":ee()}],"border-w-y":[{"border-y":ee()}],"border-w-s":[{"border-s":ee()}],"border-w-e":[{"border-e":ee()}],"border-w-t":[{"border-t":ee()}],"border-w-r":[{"border-r":ee()}],"border-w-b":[{"border-b":ee()}],"border-w-l":[{"border-l":ee()}],"divide-x":[{"divide-x":ee()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ee()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...xe(),"hidden","none"]}],"divide-style":[{divide:[...xe(),"hidden","none"]}],"border-color":[{border:te()}],"border-color-x":[{"border-x":te()}],"border-color-y":[{"border-y":te()}],"border-color-s":[{"border-s":te()}],"border-color-e":[{"border-e":te()}],"border-color-t":[{"border-t":te()}],"border-color-r":[{"border-r":te()}],"border-color-b":[{"border-b":te()}],"border-color-l":[{"border-l":te()}],"divide-color":[{divide:te()}],"outline-style":[{outline:[...xe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ut,ot,it]}],"outline-w":[{outline:["",Ut,Ed,Ao]}],"outline-color":[{outline:te()}],shadow:[{shadow:["","none",p,th,eh]}],"shadow-color":[{shadow:te()}],"inset-shadow":[{"inset-shadow":["none",g,th,eh]}],"inset-shadow-color":[{"inset-shadow":te()}],"ring-w":[{ring:ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:te()}],"ring-offset-w":[{"ring-offset":[Ut,Ao]}],"ring-offset-color":[{"ring-offset":te()}],"inset-ring-w":[{"inset-ring":ee()}],"inset-ring-color":[{"inset-ring":te()}],"text-shadow":[{"text-shadow":["none",x,th,eh]}],"text-shadow-color":[{"text-shadow":te()}],opacity:[{opacity:[Ut,ot,it]}],"mix-blend":[{"mix-blend":[...he(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":he()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ut]}],"mask-image-linear-from-pos":[{"mask-linear-from":ke()}],"mask-image-linear-to-pos":[{"mask-linear-to":ke()}],"mask-image-linear-from-color":[{"mask-linear-from":te()}],"mask-image-linear-to-color":[{"mask-linear-to":te()}],"mask-image-t-from-pos":[{"mask-t-from":ke()}],"mask-image-t-to-pos":[{"mask-t-to":ke()}],"mask-image-t-from-color":[{"mask-t-from":te()}],"mask-image-t-to-color":[{"mask-t-to":te()}],"mask-image-r-from-pos":[{"mask-r-from":ke()}],"mask-image-r-to-pos":[{"mask-r-to":ke()}],"mask-image-r-from-color":[{"mask-r-from":te()}],"mask-image-r-to-color":[{"mask-r-to":te()}],"mask-image-b-from-pos":[{"mask-b-from":ke()}],"mask-image-b-to-pos":[{"mask-b-to":ke()}],"mask-image-b-from-color":[{"mask-b-from":te()}],"mask-image-b-to-color":[{"mask-b-to":te()}],"mask-image-l-from-pos":[{"mask-l-from":ke()}],"mask-image-l-to-pos":[{"mask-l-to":ke()}],"mask-image-l-from-color":[{"mask-l-from":te()}],"mask-image-l-to-color":[{"mask-l-to":te()}],"mask-image-x-from-pos":[{"mask-x-from":ke()}],"mask-image-x-to-pos":[{"mask-x-to":ke()}],"mask-image-x-from-color":[{"mask-x-from":te()}],"mask-image-x-to-color":[{"mask-x-to":te()}],"mask-image-y-from-pos":[{"mask-y-from":ke()}],"mask-image-y-to-pos":[{"mask-y-to":ke()}],"mask-image-y-from-color":[{"mask-y-from":te()}],"mask-image-y-to-color":[{"mask-y-to":te()}],"mask-image-radial":[{"mask-radial":[ot,it]}],"mask-image-radial-from-pos":[{"mask-radial-from":ke()}],"mask-image-radial-to-pos":[{"mask-radial-to":ke()}],"mask-image-radial-from-color":[{"mask-radial-from":te()}],"mask-image-radial-to-color":[{"mask-radial-to":te()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":S()}],"mask-image-conic-pos":[{"mask-conic":[Ut]}],"mask-image-conic-from-pos":[{"mask-conic-from":ke()}],"mask-image-conic-to-pos":[{"mask-conic-to":ke()}],"mask-image-conic-from-color":[{"mask-conic-from":te()}],"mask-image-conic-to-color":[{"mask-conic-to":te()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:de()}],"mask-repeat":[{mask:P()}],"mask-size":[{mask:ie()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ot,it]}],filter:[{filter:["","none",ot,it]}],blur:[{blur:Ae()}],brightness:[{brightness:[Ut,ot,it]}],contrast:[{contrast:[Ut,ot,it]}],"drop-shadow":[{"drop-shadow":["","none",b,th,eh]}],"drop-shadow-color":[{"drop-shadow":te()}],grayscale:[{grayscale:["",Ut,ot,it]}],"hue-rotate":[{"hue-rotate":[Ut,ot,it]}],invert:[{invert:["",Ut,ot,it]}],saturate:[{saturate:[Ut,ot,it]}],sepia:[{sepia:["",Ut,ot,it]}],"backdrop-filter":[{"backdrop-filter":["","none",ot,it]}],"backdrop-blur":[{"backdrop-blur":Ae()}],"backdrop-brightness":[{"backdrop-brightness":[Ut,ot,it]}],"backdrop-contrast":[{"backdrop-contrast":[Ut,ot,it]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ut,ot,it]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ut,ot,it]}],"backdrop-invert":[{"backdrop-invert":["",Ut,ot,it]}],"backdrop-opacity":[{"backdrop-opacity":[Ut,ot,it]}],"backdrop-saturate":[{"backdrop-saturate":[Ut,ot,it]}],"backdrop-sepia":[{"backdrop-sepia":["",Ut,ot,it]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":U()}],"border-spacing-x":[{"border-spacing-x":U()}],"border-spacing-y":[{"border-spacing-y":U()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ot,it]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ut,"initial",ot,it]}],ease:[{ease:["linear","initial",T,ot,it]}],delay:[{delay:[Ut,ot,it]}],animate:[{animate:["none",A,ot,it]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,ot,it]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:Ve()}],"rotate-x":[{"rotate-x":Ve()}],"rotate-y":[{"rotate-y":Ve()}],"rotate-z":[{"rotate-z":Ve()}],scale:[{scale:ze()}],"scale-x":[{"scale-x":ze()}],"scale-y":[{"scale-y":ze()}],"scale-z":[{"scale-z":ze()}],"scale-3d":["scale-3d"],skew:[{skew:M()}],"skew-x":[{"skew-x":M()}],"skew-y":[{"skew-y":M()}],transform:[{transform:[ot,it,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:_e()}],"translate-x":[{"translate-x":_e()}],"translate-y":[{"translate-y":_e()}],"translate-z":[{"translate-z":_e()}],"translate-none":["translate-none"],accent:[{accent:te()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:te()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ot,it]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ot,it]}],fill:[{fill:["none",...te()]}],"stroke-w":[{stroke:[Ut,Ed,Ao,px]}],stroke:[{stroke:["none",...te()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},ZP=OP(QP);function ks(...e){return ZP(aS(e))}function Sy(t){var e=Re(t,[]);return a.jsx(pP,F({"data-slot":"popover"},e))}function Cy(t){var e=Re(t,[]);return a.jsx(gP,F({"data-slot":"popover-trigger"},e))}function ky(i){var o=i,{className:e,align:t="center",sideOffset:s=4}=o,n=Re(o,["className","align","sideOffset"]);return a.jsx(xP,{children:a.jsx(yP,F({"data-slot":"popover-content",align:t,sideOffset:s,className:ks("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-[10000] w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e)},n))})}const Jd=class Jd{static useUsers(){const{data:t,isLoading:s,error:n}=Nt("User",{fields:Jd.USER_FIELDS,filters:[["enabled","=",1],["user_type","=","System User"]],limit:0});return{data:t||[],isLoading:s,error:n}}static useCurrentUser(){const{currentUser:t,isLoading:s}=On();return{currentUser:t,isLoading:s}}static useCurrentUserProfile(){const{currentUser:t}=On(),{data:s,isLoading:n,error:i}=Ot("User",t||void 0,{fields:Jd.USER_FIELDS});return{currentUserProfile:s,isLoading:n,error:i}}};kt(Jd,"USER_FIELDS",["name","email","full_name","first_name","last_name","user_image","enabled","user_type","role_profile_name"]);let Qh=Jd;const JP=Qh.useCurrentUser,eL=Qh.useCurrentUserProfile,tL=()=>we(null,null,function*(){try{const e=yield fetch("/api/method/frappe.auth.get_logged_user",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token||""}});if(e.status===401||e.status===403)return{isValid:!1};if(e.ok){const t=yield e.json();if(t&&!t.exc)return{isValid:!0}}return{isValid:!1}}catch(e){return console.error("Token validation error:",e),{isValid:!1}}}),pS=()=>{try{localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(t=>{const s=t.indexOf("="),n=s>-1?t.substr(0,s).trim():t.trim();document.cookie=`${n}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;domain=${window.location.hostname}`,document.cookie=`${n}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/`}),console.warn("Session expired. Redirecting to login...");const e="/login";window.location.href=e}catch(e){console.error("Error handling token expiry:",e),window.location.href="/login"}},sL=()=>"/login",m0=()=>window.location.pathname.includes("/login")||window.location.pathname.includes("/signin");function nL(e){if(typeof document=="undefined")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}const aL=e=>{switch(e){case"success":return oL;case"info":return cL;case"warning":return lL;case"error":return dL;default:return null}},rL=Array(12).fill(0),iL=({visible:e,className:t})=>re.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},re.createElement("div",{className:"sonner-spinner"},rL.map((s,n)=>re.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),oL=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),lL=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),cL=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),dL=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),uL=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},re.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),re.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),fL=()=>{const[e,t]=re.useState(document.hidden);return re.useEffect(()=>{const s=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),e};let p0=1;class hL{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const s=this.subscribers.indexOf(t);this.subscribers.splice(s,1)}),this.publish=t=>{this.subscribers.forEach(s=>s(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var s;const h=t,{message:n}=h,i=Re(h,["message"]),o=typeof(t==null?void 0:t.id)=="number"||((s=t.id)==null?void 0:s.length)>0?t.id:p0++,c=this.toasts.find(f=>f.id===o),d=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),c?this.toasts=this.toasts.map(f=>f.id===o?(this.publish(le(F(F({},f),t),{id:o,title:n})),le(F(F({},f),t),{id:o,dismissible:d,title:n})):f):this.addToast(le(F({title:n},i),{dismissible:d,id:o})),o},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(s=>s({id:t,dismiss:!0})))):this.toasts.forEach(s=>{this.subscribers.forEach(n=>n({id:s.id,dismiss:!0}))}),t),this.message=(t,s)=>this.create(le(F({},s),{message:t})),this.error=(t,s)=>this.create(le(F({},s),{message:t,type:"error"})),this.success=(t,s)=>this.create(le(F({},s),{type:"success",message:t})),this.info=(t,s)=>this.create(le(F({},s),{type:"info",message:t})),this.warning=(t,s)=>this.create(le(F({},s),{type:"warning",message:t})),this.loading=(t,s)=>this.create(le(F({},s),{type:"loading",message:t})),this.promise=(t,s)=>{if(!s)return;let n;s.loading!==void 0&&(n=this.create(le(F({},s),{promise:t,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0})));const i=Promise.resolve(t instanceof Function?t():t);let o=n!==void 0,c;const d=i.then(f=>we(this,null,function*(){if(c=["resolve",f],re.isValidElement(f))o=!1,this.create({id:n,type:"default",message:f});else if(pL(f)&&!f.ok){o=!1;const g=typeof s.error=="function"?yield s.error(`HTTP error! status: ${f.status}`):s.error,x=typeof s.description=="function"?yield s.description(`HTTP error! status: ${f.status}`):s.description,j=typeof g=="object"&&!re.isValidElement(g)?g:{message:g};this.create(F({id:n,type:"error",description:x},j))}else if(f instanceof Error){o=!1;const g=typeof s.error=="function"?yield s.error(f):s.error,x=typeof s.description=="function"?yield s.description(f):s.description,j=typeof g=="object"&&!re.isValidElement(g)?g:{message:g};this.create(F({id:n,type:"error",description:x},j))}else if(s.success!==void 0){o=!1;const g=typeof s.success=="function"?yield s.success(f):s.success,x=typeof s.description=="function"?yield s.description(f):s.description,j=typeof g=="object"&&!re.isValidElement(g)?g:{message:g};this.create(F({id:n,type:"success",description:x},j))}})).catch(f=>we(this,null,function*(){if(c=["reject",f],s.error!==void 0){o=!1;const p=typeof s.error=="function"?yield s.error(f):s.error,g=typeof s.description=="function"?yield s.description(f):s.description,b=typeof p=="object"&&!re.isValidElement(p)?p:{message:p};this.create(F({id:n,type:"error",description:g},b))}})).finally(()=>{o&&(this.dismiss(n),n=void 0),s.finally==null||s.finally.call(s)}),h=()=>new Promise((f,p)=>d.then(()=>c[0]==="reject"?p(c[1]):f(c[1])).catch(p));return typeof n!="string"&&typeof n!="number"?{unwrap:h}:Object.assign(n,{unwrap:h})},this.custom=(t,s)=>{const n=(s==null?void 0:s.id)||p0++;return this.create(F({jsx:t(n),id:n},s)),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Yn=new hL,mL=(e,t)=>{const s=(t==null?void 0:t.id)||p0++;return Yn.addToast(le(F({title:e},t),{id:s})),s},pL=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",gL=mL,xL=()=>Yn.toasts,yL=()=>Yn.getActiveToasts(),Ta=Object.assign(gL,{success:Yn.success,info:Yn.info,warning:Yn.warning,error:Yn.error,custom:Yn.custom,message:Yn.message,promise:Yn.promise,dismiss:Yn.dismiss,loading:Yn.loading},{getHistory:xL,getToasts:yL});nL("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function sh(e){return e.label!==void 0}const bL=3,vL="24px",wL="16px",pN=4e3,jL=356,NL=14,_L=45,TL=200;function or(...e){return e.filter(Boolean).join(" ")}function SL(e){const[t,s]=e.split("-"),n=[];return t&&n.push(t),s&&n.push(s),n}const CL=e=>{var t,s,n,i,o,c,d,h,f;const{invert:p,toast:g,unstyled:x,interacting:b,setHeights:j,visibleToasts:v,heights:_,index:T,toasts:A,expanded:C,removeToast:S,defaultRichColors:D,closeButton:E,style:B,cancelButtonStyle:U,actionButtonStyle:R,className:K="",descriptionClassName:W="",duration:Z,position:q,gap:G,expandByDefault:I,classNames:H,icons:J,closeButtonAriaLabel:te="Close toast"}=e,[de,P]=re.useState(null),[ie,ne]=re.useState(null),[$,ee]=re.useState(!1),[xe,he]=re.useState(!1),[ke,Ae]=re.useState(!1),[Ve,ze]=re.useState(!1),[M,_e]=re.useState(!1),[He,Ue]=re.useState(0),[mt,tt]=re.useState(0),Le=re.useRef(g.duration||Z||pN),nt=re.useRef(null),lt=re.useRef(null),Q=T===0,me=T+1<=v,X=g.type,Se=g.dismissible!==!1,Fe=g.className||"",Pe=g.descriptionClassName||"",We=re.useMemo(()=>_.findIndex(et=>et.toastId===g.id)||0,[_,g.id]),Ke=re.useMemo(()=>{var et;return(et=g.closeButton)!=null?et:E},[g.closeButton,E]),st=re.useMemo(()=>g.duration||Z||pN,[g.duration,Z]),jt=re.useRef(0),Ce=re.useRef(0),Be=re.useRef(0),Ge=re.useRef(null),[zt,Gt]=q.split("-"),Xt=re.useMemo(()=>_.reduce((et,Ct,Qt)=>Qt>=We?et:et+Ct.height,0),[_,We]),os=fL(),qs=g.invert||p,rn=X==="loading";Ce.current=re.useMemo(()=>We*G+Xt,[We,Xt]),re.useEffect(()=>{Le.current=st},[st]),re.useEffect(()=>{ee(!0)},[]),re.useEffect(()=>{const et=lt.current;if(et){const Ct=et.getBoundingClientRect().height;return tt(Ct),j(Qt=>[{toastId:g.id,height:Ct,position:g.position},...Qt]),()=>j(Qt=>Qt.filter(es=>es.toastId!==g.id))}},[j,g.id]),re.useLayoutEffect(()=>{if(!$)return;const et=lt.current,Ct=et.style.height;et.style.height="auto";const Qt=et.getBoundingClientRect().height;et.style.height=Ct,tt(Qt),j(es=>es.find(ce=>ce.toastId===g.id)?es.map(ce=>ce.toastId===g.id?le(F({},ce),{height:Qt}):ce):[{toastId:g.id,height:Qt,position:g.position},...es])},[$,g.title,g.description,j,g.id,g.jsx,g.action,g.cancel]);const Je=re.useCallback(()=>{he(!0),Ue(Ce.current),j(et=>et.filter(Ct=>Ct.toastId!==g.id)),setTimeout(()=>{S(g)},TL)},[g,S,j,Ce]);re.useEffect(()=>{if(g.promise&&X==="loading"||g.duration===1/0||g.type==="loading")return;let et;return C||b||os?(()=>{if(Be.current<jt.current){const es=new Date().getTime()-jt.current;Le.current=Le.current-es}Be.current=new Date().getTime()})():(()=>{Le.current!==1/0&&(jt.current=new Date().getTime(),et=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),Je()},Le.current))})(),()=>clearTimeout(et)},[C,b,g,X,os,Je]),re.useEffect(()=>{g.delete&&(Je(),g.onDismiss==null||g.onDismiss.call(g,g))},[Je,g.delete]);function Bt(){var et;if(J!=null&&J.loading){var Ct;return re.createElement("div",{className:or(H==null?void 0:H.loader,g==null||(Ct=g.classNames)==null?void 0:Ct.loader,"sonner-loader"),"data-visible":X==="loading"},J.loading)}return re.createElement(iL,{className:or(H==null?void 0:H.loader,g==null||(et=g.classNames)==null?void 0:et.loader),visible:X==="loading"})}const It=g.icon||(J==null?void 0:J[X])||aL(X);var Et,rs;return re.createElement("li",{tabIndex:0,ref:lt,className:or(K,Fe,H==null?void 0:H.toast,g==null||(t=g.classNames)==null?void 0:t.toast,H==null?void 0:H.default,H==null?void 0:H[X],g==null||(s=g.classNames)==null?void 0:s[X]),"data-sonner-toast":"","data-rich-colors":(Et=g.richColors)!=null?Et:D,"data-styled":!(g.jsx||g.unstyled||x),"data-mounted":$,"data-promise":!!g.promise,"data-swiped":M,"data-removed":xe,"data-visible":me,"data-y-position":zt,"data-x-position":Gt,"data-index":T,"data-front":Q,"data-swiping":ke,"data-dismissible":Se,"data-type":X,"data-invert":qs,"data-swipe-out":Ve,"data-swipe-direction":ie,"data-expanded":!!(C||I&&$),"data-testid":g.testId,style:F(F({"--index":T,"--toasts-before":T,"--z-index":A.length-T,"--offset":`${xe?He:Ce.current}px`,"--initial-height":I?"auto":`${mt}px`},B),g.style),onDragEnd:()=>{Ae(!1),P(null),Ge.current=null},onPointerDown:et=>{et.button!==2&&(rn||!Se||(nt.current=new Date,Ue(Ce.current),et.target.setPointerCapture(et.pointerId),et.target.tagName!=="BUTTON"&&(Ae(!0),Ge.current={x:et.clientX,y:et.clientY})))},onPointerUp:()=>{var et,Ct,Qt;if(Ve||!Se)return;Ge.current=null;const es=Number(((et=lt.current)==null?void 0:et.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ae=Number(((Ct=lt.current)==null?void 0:Ct.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ce=new Date().getTime()-((Qt=nt.current)==null?void 0:Qt.getTime()),ge=de==="x"?es:ae,Te=Math.abs(ge)/ce;if(Math.abs(ge)>=_L||Te>.11){Ue(Ce.current),g.onDismiss==null||g.onDismiss.call(g,g),ne(de==="x"?es>0?"right":"left":ae>0?"down":"up"),Je(),ze(!0);return}else{var Me,Ye;(Me=lt.current)==null||Me.style.setProperty("--swipe-amount-x","0px"),(Ye=lt.current)==null||Ye.style.setProperty("--swipe-amount-y","0px")}_e(!1),Ae(!1),P(null)},onPointerMove:et=>{var Ct,Qt,es;if(!Ge.current||!Se||((Ct=window.getSelection())==null?void 0:Ct.toString().length)>0)return;const ce=et.clientY-Ge.current.y,ge=et.clientX-Ge.current.x;var Te;const Me=(Te=e.swipeDirections)!=null?Te:SL(q);!de&&(Math.abs(ge)>1||Math.abs(ce)>1)&&P(Math.abs(ge)>Math.abs(ce)?"x":"y");let Ye={x:0,y:0};const at=ct=>1/(1.5+Math.abs(ct)/20);if(de==="y"){if(Me.includes("top")||Me.includes("bottom"))if(Me.includes("top")&&ce<0||Me.includes("bottom")&&ce>0)Ye.y=ce;else{const ct=ce*at(ce);Ye.y=Math.abs(ct)<Math.abs(ce)?ct:ce}}else if(de==="x"&&(Me.includes("left")||Me.includes("right")))if(Me.includes("left")&&ge<0||Me.includes("right")&&ge>0)Ye.x=ge;else{const ct=ge*at(ge);Ye.x=Math.abs(ct)<Math.abs(ge)?ct:ge}(Math.abs(Ye.x)>0||Math.abs(Ye.y)>0)&&_e(!0),(Qt=lt.current)==null||Qt.style.setProperty("--swipe-amount-x",`${Ye.x}px`),(es=lt.current)==null||es.style.setProperty("--swipe-amount-y",`${Ye.y}px`)}},Ke&&!g.jsx&&X!=="loading"?re.createElement("button",{"aria-label":te,"data-disabled":rn,"data-close-button":!0,onClick:rn||!Se?()=>{}:()=>{Je(),g.onDismiss==null||g.onDismiss.call(g,g)},className:or(H==null?void 0:H.closeButton,g==null||(n=g.classNames)==null?void 0:n.closeButton)},(rs=J==null?void 0:J.close)!=null?rs:uL):null,(X||g.icon||g.promise)&&g.icon!==null&&((J==null?void 0:J[X])!==null||g.icon)?re.createElement("div",{"data-icon":"",className:or(H==null?void 0:H.icon,g==null||(i=g.classNames)==null?void 0:i.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Bt():null,g.type!=="loading"?It:null):null,re.createElement("div",{"data-content":"",className:or(H==null?void 0:H.content,g==null||(o=g.classNames)==null?void 0:o.content)},re.createElement("div",{"data-title":"",className:or(H==null?void 0:H.title,g==null||(c=g.classNames)==null?void 0:c.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?re.createElement("div",{"data-description":"",className:or(W,Pe,H==null?void 0:H.description,g==null||(d=g.classNames)==null?void 0:d.description)},typeof g.description=="function"?g.description():g.description):null),re.isValidElement(g.cancel)?g.cancel:g.cancel&&sh(g.cancel)?re.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||U,onClick:et=>{sh(g.cancel)&&Se&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,et),Je())},className:or(H==null?void 0:H.cancelButton,g==null||(h=g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,re.isValidElement(g.action)?g.action:g.action&&sh(g.action)?re.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||R,onClick:et=>{sh(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,et),!et.defaultPrevented&&Je())},className:or(H==null?void 0:H.actionButton,g==null||(f=g.classNames)==null?void 0:f.actionButton)},g.action.label):null)};function gN(){if(typeof window=="undefined"||typeof document=="undefined")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function kL(e,t){const s={};return[e,t].forEach((n,i)=>{const o=i===1,c=o?"--mobile-offset":"--offset",d=o?wL:vL;function h(f){["top","right","bottom","left"].forEach(p=>{s[`${c}-${p}`]=typeof f=="number"?`${f}px`:f})}typeof n=="number"||typeof n=="string"?h(n):typeof n=="object"?["top","right","bottom","left"].forEach(f=>{n[f]===void 0?s[`${c}-${f}`]=d:s[`${c}-${f}`]=typeof n[f]=="number"?`${n[f]}px`:n[f]}):h(d)}),s}const EL=re.forwardRef(function(t,s){const{id:n,invert:i,position:o="bottom-right",hotkey:c=["altKey","KeyT"],expand:d,closeButton:h,className:f,offset:p,mobileOffset:g,theme:x="light",richColors:b,duration:j,style:v,visibleToasts:_=bL,toastOptions:T,dir:A=gN(),gap:C=NL,icons:S,containerAriaLabel:D="Notifications"}=t,[E,B]=re.useState([]),U=re.useMemo(()=>n?E.filter($=>$.toasterId===n):E.filter($=>!$.toasterId),[E,n]),R=re.useMemo(()=>Array.from(new Set([o].concat(U.filter($=>$.position).map($=>$.position)))),[U,o]),[K,W]=re.useState([]),[Z,q]=re.useState(!1),[G,I]=re.useState(!1),[H,J]=re.useState(x!=="system"?x:typeof window!="undefined"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),te=re.useRef(null),de=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=re.useRef(null),ie=re.useRef(!1),ne=re.useCallback($=>{B(ee=>{var xe;return(xe=ee.find(he=>he.id===$.id))!=null&&xe.delete||Yn.dismiss($.id),ee.filter(({id:he})=>he!==$.id)})},[]);return re.useEffect(()=>Yn.subscribe($=>{if($.dismiss){requestAnimationFrame(()=>{B(ee=>ee.map(xe=>xe.id===$.id?le(F({},xe),{delete:!0}):xe))});return}setTimeout(()=>{oT.flushSync(()=>{B(ee=>{const xe=ee.findIndex(he=>he.id===$.id);return xe!==-1?[...ee.slice(0,xe),F(F({},ee[xe]),$),...ee.slice(xe+1)]:[$,...ee]})})})}),[E]),re.useEffect(()=>{if(x!=="system"){J(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window=="undefined")return;const $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:ee})=>{J(ee?"dark":"light")})}catch(ee){$.addListener(({matches:xe})=>{try{J(xe?"dark":"light")}catch(he){console.error(he)}})}},[x]),re.useEffect(()=>{E.length<=1&&q(!1)},[E]),re.useEffect(()=>{const $=ee=>{var xe;if(c.every(Ae=>ee[Ae]||ee.code===Ae)){var ke;q(!0),(ke=te.current)==null||ke.focus()}ee.code==="Escape"&&(document.activeElement===te.current||(xe=te.current)!=null&&xe.contains(document.activeElement))&&q(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[c]),re.useEffect(()=>{if(te.current)return()=>{P.current&&(P.current.focus({preventScroll:!0}),P.current=null,ie.current=!1)}},[te.current]),re.createElement("section",{ref:s,"aria-label":`${D} ${de}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map(($,ee)=>{var xe;const[he,ke]=$.split("-");return U.length?re.createElement("ol",{key:$,dir:A==="auto"?gN():A,tabIndex:-1,ref:te,className:f,"data-sonner-toaster":!0,"data-sonner-theme":H,"data-y-position":he,"data-x-position":ke,style:F(F({"--front-toast-height":`${((xe=K[0])==null?void 0:xe.height)||0}px`,"--width":`${jL}px`,"--gap":`${C}px`},v),kL(p,g)),onBlur:Ae=>{ie.current&&!Ae.currentTarget.contains(Ae.relatedTarget)&&(ie.current=!1,P.current&&(P.current.focus({preventScroll:!0}),P.current=null))},onFocus:Ae=>{Ae.target instanceof HTMLElement&&Ae.target.dataset.dismissible==="false"||ie.current||(ie.current=!0,P.current=Ae.relatedTarget)},onMouseEnter:()=>q(!0),onMouseMove:()=>q(!0),onMouseLeave:()=>{G||q(!1)},onDragEnd:()=>q(!1),onPointerDown:Ae=>{Ae.target instanceof HTMLElement&&Ae.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},U.filter(Ae=>!Ae.position&&ee===0||Ae.position===$).map((Ae,Ve)=>{var ze,M;return re.createElement(CL,{key:Ae.id,icons:S,index:Ve,toast:Ae,defaultRichColors:b,duration:(ze=T==null?void 0:T.duration)!=null?ze:j,className:T==null?void 0:T.className,descriptionClassName:T==null?void 0:T.descriptionClassName,invert:i,visibleToasts:_,closeButton:(M=T==null?void 0:T.closeButton)!=null?M:h,interacting:G,position:$,style:T==null?void 0:T.style,unstyled:T==null?void 0:T.unstyled,classNames:T==null?void 0:T.classNames,cancelButtonStyle:T==null?void 0:T.cancelButtonStyle,actionButtonStyle:T==null?void 0:T.actionButtonStyle,closeButtonAriaLabel:T==null?void 0:T.closeButtonAriaLabel,removeToast:ne,toasts:U.filter(_e=>_e.position==Ae.position),heights:K.filter(_e=>_e.position==Ae.position),setHeights:W,expandByDefault:d,gap:C,expanded:Z,swipeDirections:t.swipeDirections})})):null}))}),nh={duration:4e3};class g0{static success(t,s){const n=`success-${t}`;return this.activeToasts.has(n)?void 0:(this.activeToasts.add(n),Ta.success(t,{description:s==null?void 0:s.description,duration:(s==null?void 0:s.duration)||nh.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(n)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(n)},this.DUPLICATE_TIMEOUT)}}))}static error(t,s){const n=`error-${t}`;return this.activeToasts.has(n)?void 0:(this.activeToasts.add(n),Ta.error(t,{description:s==null?void 0:s.description,duration:(s==null?void 0:s.duration)||nh.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(n)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(n)},this.DUPLICATE_TIMEOUT)}}))}static info(t,s){const n=`info-${t}`;return this.activeToasts.has(n)?void 0:(this.activeToasts.add(n),Ta.info(t,{description:s==null?void 0:s.description,duration:(s==null?void 0:s.duration)||nh.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(n)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(n)},this.DUPLICATE_TIMEOUT)}}))}static warning(t,s){const n=`warning-${t}`;return this.activeToasts.has(n)?void 0:(this.activeToasts.add(n),Ta.warning(t,{description:s==null?void 0:s.description,duration:(s==null?void 0:s.duration)||nh.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(n)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(n)},this.DUPLICATE_TIMEOUT)}}))}static dismissAll(){Ta.dismiss(),this.activeToasts.clear()}static clearCache(){this.activeToasts.clear()}}kt(g0,"activeToasts",new Set),kt(g0,"DUPLICATE_TIMEOUT",1e3);const xs=g0,DL=({onMenuClick:e})=>{const{currentUser:t,isLoading:s}=JP(),{currentUserProfile:n}=eL(),{logout:i}=On(),o=()=>we(null,null,function*(){try{xs.success("Logging out...",{description:"You will be redirected to the login page.",duration:2e3}),yield i(),setTimeout(()=>{pS()},1e3)}catch(p){console.error("Logout failed:",p),xs.error("Logout failed",{description:"Please try again or contact support."}),setTimeout(()=>{window.location.href=sL()},2e3)}}),c=()=>n?n.full_name||n.first_name||n.email||"User":!t||typeof t=="string"?t||"Guest":t.full_name||t.first_name||t.email||"User",d=()=>t?c().split(" ").map(g=>g[0]).join("").toUpperCase().slice(0,2):"G",h=()=>n!=null&&n.user_image?n.user_image:null,f=()=>n?n.email:t&&typeof t!="string"?t.email:t||"No email";return a.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between h-16 px-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",title:"Toggle sidebar",children:a.jsx($M,{className:"h-5 w-5 text-gray-600"})}),a.jsxs("div",{className:"relative hidden md:block",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(mc,{className:"h-4 w-4 text-gray-400"})}),a.jsx("input",{type:"text",className:"block w-80 pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-gray-50 placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Tìm kiếm dự án, task, tài liệu..."})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[a.jsx(cT,{className:"h-5 w-5 text-gray-600"}),a.jsx("span",{className:"absolute top-1 right-1 h-2 w-2 bg-red-500 rounded-full"})]}),a.jsx("div",{className:"relative",children:a.jsxs(Sy,{children:[a.jsx(Cy,{asChild:!0,children:a.jsxs("button",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:h()?a.jsx("img",{src:h(),alt:"User avatar",className:"w-8 h-8 rounded-full object-cover"}):a.jsx("span",{className:"text-xs font-medium text-white",children:d()})}),a.jsx("span",{className:"hidden md:block text-sm font-medium text-gray-700",children:s?"Loading...":c()}),a.jsx(ur,{className:"h-4 w-4 text-gray-500"})]})}),a.jsxs(ky,{className:"w-64 p-0",align:"end",children:[a.jsx("div",{className:"p-4 border-b border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:h()?a.jsx("img",{src:h(),alt:"User avatar",className:"w-10 h-10 rounded-full object-cover"}):a.jsx("span",{className:"text-sm font-medium text-white",children:d()})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:c()}),a.jsx("p",{className:"text-sm text-gray-500",children:f()})]})]})}),a.jsxs("div",{className:"p-2",children:[a.jsxs("button",{className:"w-full flex items-center space-x-3 px-3 py-2 text-left rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[a.jsx(cy,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Settings"})]}),a.jsxs("button",{onClick:o,className:"w-full flex items-center space-x-3 px-3 py-2 text-left rounded-lg hover:bg-red-50 transition-colors duration-200 text-red-600",children:[a.jsx(FM,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm",children:"Sign out"})]})]})]})]})})]})]})})},gS=t=>{var e=Re(t,[]);const{theme:s="system"}=CO();return a.jsx(EL,F({theme:s,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"}},e))},AL=()=>{const[e,t]=N.useState(!1),[s,n]=N.useState(!1),i=()=>{window.innerWidth<1024?t(!e):n(!s)};return a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsx("div",{className:"hidden lg:flex lg:flex-shrink-0 transition-all duration-300",children:a.jsx(H1,{collapsed:s,onToggle:i})}),e&&a.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>t(!1)}),a.jsx("div",{className:"relative flex flex-col w-64 h-full bg-white shadow-xl",children:a.jsx(H1,{})})]}),a.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[a.jsx(DL,{onMenuClick:i}),a.jsx("main",{className:"flex-1 overflow-y-auto",children:a.jsx("div",{className:"py-6",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx(i4,{})})})})]}),a.jsx(gS,{position:"top-right",richColors:!0,expand:!0,closeButton:!0,toastOptions:{duration:4e3}})]})},OL=(e={})=>{const{checkIntervalMinutes:t=5,showNotifications:s=!0,enabled:n=!0,onTokenExpired:i}=e,{currentUser:o,isLoading:c}=On(),d=N.useRef(null),h=N.useRef(!1),f=N.useCallback(()=>{d.current&&(clearInterval(d.current),d.current=null)},[]),p=N.useCallback(()=>{f(),s&&xs.error("Session Expired",{description:"Your session has expired. Please log in again.",duration:3e3}),i==null||i(),setTimeout(()=>{pS()},1e3)},[f,i,s]),g=N.useCallback(()=>we(null,null,function*(){try{return(yield tL()).isValid?(h.current=!1,!0):(console.warn("Authentication check failed - token invalid"),p(),!1)}catch(v){return console.error("Error checking authentication:",v),!0}}),[p]),x=N.useCallback(()=>{if(!n||c||!o||m0())return;f(),g();const v=t*60*1e3;d.current=setInterval(g,v)},[n,c,o,t,g,f]);N.useEffect(()=>(o&&!c?x():f(),f),[o,c,x,f]),N.useEffect(()=>f,[f]);const b=N.useCallback(()=>g(),[g]),j=N.useCallback(()=>{p()},[p]);return{checkAuth:b,forceLogout:j,isWatching:!!d.current,currentUser:o,isLoading:c}},RL=({children:e,checkInterval:t=5,showNotifications:s=!0})=>{const{isWatching:n,currentUser:i,isLoading:o}=OL({checkIntervalMinutes:t,showNotifications:s,enabled:!m0(),onTokenExpired:()=>{console.log("Token expired callback triggered")}});return N.useEffect(()=>{},[n,i,o,t]),m0()?a.jsx(a.Fragment,{children:e}):o?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsx(a.Fragment,{children:e})};function ML(){return a.jsx(vO,{siteName:"frontend",socketPort:"9000",children:a.jsxs(kO,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:[a.jsx(RL,{checkInterval:5,showNotifications:!0,children:a.jsx(AL,{})}),a.jsx(gS,{})]})})}const PL=()=>{const[e,t]=N.useState("all"),[s,n]=N.useState("all"),[i,o]=N.useState([]),[c,d]=N.useState(!1),{data:h,isLoading:f}=Nt("Project",{fields:["name","project_name","status","department","team","estimated_costing","expected_end_date","percent_complete"]}),{data:p,isLoading:g}=Nt("project_phase",{fields:["name"],limit:0});N.useEffect(()=>{we(null,null,function*(){if(!p||p.length===0){o([]);return}d(!0);try{const B=p.map(K=>we(null,null,function*(){try{const W=yield fetch(`/api/resource/project_phase/${K.name}`,{method:"GET",headers:{Accept:"application/json"}});if(!W.ok)return console.warn(`❌ Failed to fetch phase ${K.name}:`,W.status),null;const Z=yield W.json();return Z.data||Z}catch(W){return console.error(`💥 Error fetching phase ${K.name}:`,W),null}})),R=(yield Promise.all(B)).filter(K=>K!==null);o(R)}catch(B){console.error("💥 Error in fetchPhasesWithTasks:",B)}finally{d(!1)}})},[p]);const{data:x,isLoading:b}=Nt("Task",{fields:["name","subject","status","exp_end_date","exp_start_date","project","progress","priority","is_group"],limit:0}),{data:j,isLoading:v}=Nt("Timesheet",{fields:["name","total_hours"],limit:0}),_=(h||[]).map(E=>{var B;return le(F({},E),{project_type:E.project_type||"",customer:E.customer||"",company:E.company||"",department:E.department||"",team:E.team||"",expected_start_date:E.expected_start_date||"",expected_end_date:E.expected_end_date||"",actual_start_date:E.actual_start_date||"",actual_end_date:E.actual_end_date||null,percent_complete:E.percent_complete||0,priority:E.priority||"Medium",estimated_costing:E.estimated_costing||0,total_billable_amount:E.total_billable_amount||0,total_billed_amount:E.total_billed_amount||0,gross_margin:E.gross_margin||0,estimated_hours:E.estimated_hours||0,total_hours:E.total_hours||0,is_active:(B=E.is_active)!=null?B:!0})}),T=N.useMemo(()=>!i||i.length===0?[]:i.map(E=>{const B=E.tasks||[];return le(F({},E),{phase_name:E.subject||E.name||"",status:E.status||"Open",expected_start_date:E.start_date||"",expected_end_date:E.end_date||"",actual_start_date:E.start_date||"",actual_end_date:null,progress:E.progress||0,description:E.details||"",tasks:B})}),[i]),A=(x||[]).map(E=>le(F({},E),{project:E.project||"",priority:E.priority||"Medium",type:E.type||"",expected_time:E.expected_time||0,actual_time:E.actual_time||0,start_date:E.exp_start_date||"",end_date:E.exp_end_date||"",progress:E.progress||0,assigned_to:E.assigned_to||null,is_group:E.is_group||!1,parent_task_name:E.parent_task_name||null})),C=(j||[]).map(E=>({name:E.name,employee:E.employee||"",project:"",task:"",start_date:E.start_date||"",end_date:E.end_date||"",total_hours:E.total_hours||0,billable:!0,billing_hours:0,billing_rate:0,billing_amount:0})),S=f||g||c||b||v,D=N.useMemo(()=>{let E=_;s!=="all"&&s!==""&&(E=E.filter(K=>K.team===s)),e!=="all"&&e!==""&&(E=E.filter(K=>K.project_name===e));const B=E.map(K=>K.project_name),U=E.map(K=>K.name),R=T.filter(K=>U.includes(K.project));return{filteredProjects:E,filteredPhases:R,filteredTasks:A.filter(K=>{const W=K.project||"";return U.includes(W)}),filteredTimesheets:C.filter(K=>K.project?B.includes(K.project):!0)}},[_,T,A,C,e,s]);return{allProjects:_,allPhases:T,filteredData:D,selectedProject:e,selectedTeam:s,setSelectedProject:t,setSelectedTeam:n,isLoading:S}},Ho=class Ho{static useUserProjects(){const{currentUser:t}=On(),{data:s,isLoading:n,error:i,mutate:o}=Nt("Project",{fields:Ho.PROJECT_FIELDS,filters:t?[["owner","=",t]]:[],orderBy:{field:"modified",order:"desc"}},void 0,{revalidateOnFocus:!0,revalidateOnReconnect:!0}),{data:c,isLoading:d,error:h,mutate:f}=Nt("Project",{fields:Ho.PROJECT_FIELDS,limit:0,orderBy:{field:"modified",order:"desc"}},void 0,{revalidateOnFocus:!0,revalidateOnReconnect:!0}),p=re.useMemo(()=>{if(!t)return[];const x=j=>{const v=new Map;return j.forEach(_=>{var A;const T=_.name;if(!v.has(T)){const C={name:_.name,owner:_.owner,creation:_.creation,modified:_.modified,project_name:_.project_name,project_type:_.project_type,status:_.status,customer:_.customer,expected_start_date:_.expected_start_date,expected_end_date:_.expected_end_date,percent_complete:_.percent_complete,priority:_.priority,department:_.department,team:_.team||null,estimated_costing:_.estimated_costing,total_billable_amount:_.total_billable_amount,company:_.company,users:[]};v.set(T,C)}if(_.user){const C=v.get(T);((A=C.users)==null?void 0:A.some(D=>D.user===_.user))||(C.users=C.users||[],C.users.push({user:_.user,email:_.email,full_name:_.full_name,project_status:_.project_status}))}}),Array.from(v.values()).sort((_,T)=>{const A=new Date(_.modified||_.creation||0);return new Date(T.modified||T.creation||0).getTime()-A.getTime()})};let b=[];if(s&&s.length>0&&(b=b.concat(s)),c&&c.length>0){const j=c.filter(v=>v.owner===t||v.user&&v.user===t);b=b.concat(j)}return x(b)},[s,c,t]),g=re.useCallback(()=>we(null,null,function*(){console.log("Mutating ownedProjects and allProjects...");try{yield Promise.all([o(),f()]),console.log("Data refreshed successfully")}catch(x){console.error("Error refreshing data:",x)}}),[o,f]);return{data:p,isLoading:n||d,error:i&&h?i||h:null,mutate:g}}static useProject(t){const{data:s,isLoading:n,error:i,mutate:o}=Ot("Project",t||"",t?"Project":void 0);return{data:s,isLoading:n,error:i,mutate:o}}static useProjectOwner(t){const{data:s,isLoading:n,error:i}=Ot("User",t||"",t?void 0:null);return{data:s,isLoading:n,error:i}}static useCreateProject(){const{createDoc:t,loading:s,error:n}=eo();return{createProject:o=>we(null,null,function*(){return yield t("Project",le(F({},o),{expected_start_date:o.expected_start_date||void 0,expected_end_date:o.expected_end_date||void 0}))}),isLoading:s,error:n}}static useUpdateProject(){const{updateDoc:t,loading:s,error:n}=Kn();return{updateProject:(o,c)=>we(null,null,function*(){return yield t("Project",o,le(F({},c),{expected_start_date:c.expected_start_date||void 0,expected_end_date:c.expected_end_date||void 0}))}),isLoading:s,error:n}}static useDeleteProject(){const{call:t,loading:s,error:n}=yn("frappe.client.delete");return{deleteProject:o=>we(null,null,function*(){return yield t({doctype:"Project",name:o})}),isLoading:s,error:n}}static useProjectMembers(){const{call:t}=yn("frappe.client.insert"),{call:s}=yn("frappe.client.save"),{call:n}=yn("frappe.client.delete");return{addMember:d=>we(null,null,function*(){return yield t({doc:le(F({doctype:"Project User"},d),{welcome_email_sent:1})})}),updateMember:(d,h)=>we(null,null,function*(){return yield s({doc:F({doctype:"Project User",name:d},h)})}),removeMember:d=>we(null,null,function*(){return yield n({doctype:"Project User",name:d})})}}static useProjectOwnerManagement(){const{call:t}=yn("frappe.client.save"),{call:s}=yn("frappe.client.set_value");return{transferOwner:(o,c)=>we(null,null,function*(){try{return yield t({doc:{doctype:"Project",name:o,owner:c}}),{success:!0,method:"save"}}catch(d){try{return yield s({doctype:"Project",name:o,fieldname:"owner",value:c}),{success:!0,method:"set_value"}}catch(h){throw new Error("Owner field is protected by ERPNext")}}}),transferOwnerWithAPI:(o,c)=>we(null,null,function*(){try{const d=yield fetch("/api/method/my_app.api.project_transfer.transfer_project_owner",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({project_name:o,new_owner:c})}),h=yield d.json();return d.ok&&h.message?{success:!0,data:h.message}:{success:!1,error:h.message||"Transfer failed"}}catch(d){return{success:!1,error:d instanceof Error?d.message:"Unknown error"}}})}}static useProjectUsers(t){const{data:s,isLoading:n,error:i,mutate:o}=Ot("Project",t,{fields:["name","users"]});return{data:(s==null?void 0:s.users)||[],isLoading:n,error:i,mutate:o}}static useProjectUsersAlt(t){const{data:s,isLoading:n,error:i,mutate:o}=Nt("Project User",{fields:["name","user","email","full_name","image"],filters:[["parent","=",t]],limit:0});return{data:s||[],isLoading:n,error:i,mutate:o}}};kt(Ho,"PROJECT_FIELDS",["name","owner","creation","modified","project_name","project_type","status","customer","department","team","expected_start_date","expected_end_date","percent_complete","priority","estimated_costing","total_billable_amount","company","users.user","users.email","users.full_name","users.project_status"]),kt(Ho,"DETAILED_PROJECT_FIELDS",[...Ho.PROJECT_FIELDS,"creation","modified","modified_by","description","notes","expected_start_date","actual_start_date","actual_end_date","total_costing_amount","total_purchase_cost","total_sales_amount","total_billed_amount","users"]);let ou=Ho;const LL=ou.useUserProjects,BL=ou.useCreateProject,FL=ou.useUpdateProject;class Zr{static useDocTypeOptions(t,s={}){const{fields:n=["name"],filters:i=[],limit:o=100}=s,{data:c,isLoading:d,error:h}=Nt(t,{fields:n,filters:i,limit:o});return{data:c||[],isLoading:d,error:h}}static useCustomers(){return Zr.useDocTypeOptions("Customer",{fields:["name","customer_name","customer_type"],filters:[["disabled","=",0]]})}static useCompanies(){return Zr.useDocTypeOptions("Company",{fields:["name","company_name","abbr"],filters:[["is_group","=",0]]})}static useProjectTypes(){return Zr.useDocTypeOptions("Project Type",{fields:["name","description"]})}static useDepartments(){return Zr.useDocTypeOptions("Department",{fields:["name","department_name","parent_department"],filters:[["disabled","=",0]]})}static useCostCenters(){return Zr.useDocTypeOptions("Cost Center",{fields:["name","cost_center_name","parent_cost_center"],filters:[["disabled","=",0],["is_group","=",0]]})}static useProjectTemplates(){return Zr.useDocTypeOptions("Project Template",{fields:["name","project_template_name"]})}static useTeams(){return Zr.useDocTypeOptions("Team",{fields:["name","team","department"]})}}const xS=Zr.useTeams;class UL{static useCreatePhaseTask(){const{createDoc:t,loading:s}=eo(),{call:n}=yn("frappe.client.insert"),{call:i}=yn("frappe.client.save"),{data:o}=Ot("User","",{shouldFetch:!0});return{createTaskWithPhase:d=>we(null,null,function*(){try{const h=yield t("Task",{subject:d.subject,description:d.description,priority:d.priority,status:d.status,type:d.type,expected_time:d.expected_time,task_weight:d.task_weight,exp_start_date:d.exp_start_date||null,exp_end_date:d.exp_end_date||null,project:d.project});let f=null;if(d.assign_to&&h)try{f=yield n({doc:{doctype:"ToDo",allocated_to:d.assign_to,assigned_by:(o==null?void 0:o.name)||"",description:`Task: ${d.subject}`,reference_type:"Task",reference_name:h.name,status:"Open",priority:d.priority,date:new Date().toISOString().split("T")[0]}})}catch(p){console.error("Error creating ToDo:",p)}if(d.phaseId&&h){const p={parent:d.phaseId,parenttype:"project_phase",parentfield:"tasks",task:h.name,task_name:h.subject,status:h.status,start_date:h.exp_start_date,end_date:h.exp_end_date,description:h.description},g=yield n({doc:F({doctype:"Project Phase Task"},p)});console.log("Project Phase Task created successfully:",g);try{console.log("Saving parent phase document to commit child table changes...");const x=yield i({doc:{doctype:"project_phase",name:d.phaseId}});console.log("Parent phase saved successfully:",x)}catch(x){console.warn("Failed to save parent phase, but child was created:",x)}return{success:!0,task:h,phaseTask:g,todo:f,message:"Task created and linked to phase successfully"}}return{success:!0,task:h,todo:f,message:"Task created successfully"}}catch(h){throw console.error("Error in createTaskWithPhase:",h),h}}),isLoading:s}}static useLinkTaskToPhase(){const{call:t}=yn("frappe.client.insert");return{linkTaskToPhase:(n,i,o)=>we(null,null,function*(){try{const c={parent:i,parenttype:"Project Phase",parentfield:"tasks",task:n,task_name:(o==null?void 0:o.task_name)||n,status:(o==null?void 0:o.status)||"Open",start_date:o==null?void 0:o.start_date,end_date:o==null?void 0:o.end_date,description:o==null?void 0:o.description};return{success:!0,phaseTask:yield t({doc:F({doctype:"Project Phase Task"},c)}),message:"Task linked to phase successfully"}}catch(c){return console.error("Error linking task to phase:",c),{success:!1,error:c instanceof Error?c.message:"Unknown error",message:"Failed to link task to phase"}}})}}}const zL=UL.useCreatePhaseTask;class yS{static useUpdateTask(){const{updateDoc:t,loading:s,error:n}=Kn();return{updateTask:(o,c)=>we(null,null,function*(){const p=c,{assign_to:d}=p,h=Re(p,["assign_to"]),f=yield t("Task",o,le(F({},h),{exp_start_date:h.exp_start_date||void 0,exp_end_date:h.exp_end_date||void 0}));return h.progress!==void 0&&(console.log(`Task ${o} progress updated, signaling phase progress update...`),localStorage.setItem("task_progress_updated",o),window.dispatchEvent(new StorageEvent("storage",{key:"task_progress_updated",newValue:o}))),f}),isLoading:s,error:n}}static useTaskAssignment(){const{createDoc:t}=eo(),{deleteDoc:s}=bm(),{data:n}=Ot("User","",{shouldFetch:!0});return{assignTask:(c,d,h,f="Medium")=>we(null,null,function*(){return yield t("ToDo",{allocated_to:h,assigned_by:(n==null?void 0:n.name)||"",description:`Task: ${d}`,reference_type:"Task",reference_name:c,status:"Open",priority:f,date:new Date().toISOString().split("T")[0]})}),unassignTask:c=>we(null,null,function*(){return yield s("ToDo",c)})}}}const bS=yS.useUpdateTask,vS=yS.useTaskAssignment;class wS{static useUpdatePhase(){const{updateDoc:t,loading:s,error:n}=Kn();return{updatePhase:(o,c)=>we(null,null,function*(){return t("project_phase",o,c)}),isLoading:s,error:n}}static usePhaseAssignment(){const{createDoc:t}=eo(),{deleteDoc:s}=bm(),{data:n}=Ot("User","",{shouldFetch:!0});return{assignPhase:(c,d)=>we(null,null,function*(){return t("ToDo",{allocated_to:d,assigned_by:(n==null?void 0:n.name)||"",reference_type:"project_phase",reference_name:c,description:`Assigned to phase: ${c}`,status:"Open"})}),unassignPhase:c=>we(null,null,function*(){return s("ToDo",c)})}}}const HL=wS.useUpdatePhase,jS=wS.usePhaseAssignment;class $L{static useUpdateSubTask(){const{updateDoc:t,loading:s,error:n}=Kn();return{updateSubTask:(o,c)=>we(null,null,function*(){return yield t("SubTask",o,c)}),isLoading:s,error:n}}static useSubTaskAssignment(){const{createDoc:t}=eo(),{deleteDoc:s}=bm(),{data:n}=Ot("User","",{shouldFetch:!0});return{assignSubTask:(c,d)=>we(null,null,function*(){return yield t("ToDo",{allocated_to:d,assigned_by:(n==null?void 0:n.name)||"",reference_type:"SubTask",reference_name:c,description:`Assignment for SubTask: ${c}`,status:"Open"})}),unassignSubTask:c=>we(null,null,function*(){return yield s("ToDo",c)})}}}const{useUpdateSubTask:NS,useSubTaskAssignment:Ey}=$L,jc=e=>{const{data:t,isLoading:s,error:n}=Ot("Project",e,{fields:["name","users"]}),{data:i,isLoading:o}=Ot("Project",(t==null?void 0:t.name)||"",t!=null&&t.name?"Project":void 0);return{data:(i==null?void 0:i.users)||(t==null?void 0:t.users)||[],isLoading:s||o,error:n}};class IL{static useTaskProgressCalculation(){const{updateDoc:t}=Kn();return{calculateAndUpdateTaskProgress:n=>we(null,null,function*(){try{const i=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"SubTask",fields:["name","status"],filters:[["task","=",n]]})});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const c=(yield i.json()).message||[];if(!c||c.length===0)return null;let d=0;c.forEach(f=>{switch(f.status){case"Open":d+=1;break;case"Working":d+=50;break;case"Completed":d+=100;break;default:d+=0}});const h=Math.round(d/c.length);return yield t("Task",n,{progress:h}),console.log(`Task ${n} progress updated to ${h}%, signaling phase progress update...`),localStorage.setItem("task_progress_updated",n),window.dispatchEvent(new StorageEvent("storage",{key:"task_progress_updated",newValue:n})),console.log(`Task ${n} progress updated to ${h}%`),h}catch(i){return console.error("Error calculating task progress:",i),null}})}}static useTaskStatusProgressUpdate(){const{updateDoc:t}=Kn();return{updateTaskProgressByStatus:(n,i,o)=>we(null,null,function*(){try{let c=o||0;switch(i){case"Completed":c=100;break;case"Cancelled":case"Rejected":c=0;break;default:break}return yield t("Task",n,{status:i,progress:c}),console.log(`Task ${n} status/progress updated, signaling phase progress update...`),localStorage.setItem("task_progress_updated",n),window.dispatchEvent(new StorageEvent("storage",{key:"task_progress_updated",newValue:n})),c}catch(c){return console.error("Error updating task progress by status:",c),null}})}}static useManualProgressUpdate(){const{updateDoc:t}=Kn();return{updateTaskProgress:(n,i)=>we(null,null,function*(){try{let o="";return i===0||i===1?o="Open":i>1&&i<=90?o="Working":i>90&&i<100?o="Pending Review":i===100&&(o="Completed"),yield t("Task",n,{progress:i,status:o}),console.log(`Task ${n} manual progress updated to ${i}%, signaling phase progress update...`),localStorage.setItem("task_progress_updated",n),window.dispatchEvent(new StorageEvent("storage",{key:"task_progress_updated",newValue:n})),{progress:i,status:o}}catch(o){return console.error("Error updating manual task progress:",o),null}})}}}const{useTaskProgressCalculation:_u,useTaskStatusProgressUpdate:_S,useManualProgressUpdate:TS}=IL;class SS{static usePhaseProgressCalculation(){const{updateDoc:t}=Kn();return{calculateAndUpdatePhaseProgress:n=>we(null,null,function*(){try{const i=yield fetch("/api/method/frappe.client.get",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",name:n})});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const c=(yield i.json()).message;if(!c||!c.tasks||c.tasks.length===0)return yield t("project_phase",n,{progress:0}),console.log(`Phase ${n} progress updated to 0% (no tasks)`),0;const d=c.tasks.map(b=>b.task);console.log(`Phase ${n} has ${d.length} tasks:`,d);const h=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["name","in",d]]})});if(!h.ok)throw new Error(`HTTP error! status: ${h.status}`);const p=(yield h.json()).message||[];if(p.length===0)return yield t("project_phase",n,{progress:0}),console.log(`Phase ${n} progress updated to 0% (no valid tasks)`),0;let g=0;p.forEach(b=>{const j=b.progress||0;console.log(`Task ${b.name}: ${j}%`),g+=j});const x=Math.round(g/p.length);return console.log(`Calculated phase progress: ${x}% (from ${p.length} tasks)`),yield t("project_phase",n,{progress:x}),console.log(`Phase ${n} progress updated to ${x}% (based on ${p.length} tasks)`),x}catch(i){return console.error("Error calculating phase progress:",i),null}})}}static usePhaseStatusProgressUpdate(){const{updateDoc:t}=Kn();return{updatePhaseProgressByStatus:(n,i,o)=>we(null,null,function*(){try{let c=o||0;switch(i){case"Completed":c=100;break;case"Cancelled":case"Rejected":c=0;break;default:break}return yield t("project_phase",n,{status:i,progress:c}),c}catch(c){return console.error("Error updating phase progress by status:",c),null}})}}static useManualPhaseProgressUpdate(){const{updateDoc:t}=Kn();return{updatePhaseProgress:(n,i)=>we(null,null,function*(){try{let o="";return i===0||i===1?o="Open":i>1&&i<=90?o="Working":i>90&&i<100?o="Pending Review":i===100&&(o="Completed"),yield t("project_phase",n,{progress:i,status:o}),{progress:i,status:o}}catch(o){return console.error("Error updating manual phase progress:",o),null}})}}}const{usePhaseProgressCalculation:CS}=SS,VL=e=>we(null,null,function*(){const{calculateAndUpdatePhaseProgress:t}=SS.usePhaseProgressCalculation();return yield t(e)});class Dy{static useProjectProgressFromPhases(){const{updateDoc:t}=Kn();return{calculateAndUpdateProjectProgressFromPhases:n=>we(null,null,function*(){try{const i=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","progress"],filters:[["project","=",n]]})});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const c=(yield i.json()).message||[];if(!c||c.length===0){const{calculateAndUpdateProjectProgressFromTasks:f}=Dy.useProjectProgressFromTasks();return yield f(n)}let d=0;c.forEach(f=>{d+=f.progress||0});const h=Math.round(d/c.length);return yield t("Project",n,{percent_complete:h}),h}catch(i){return console.error("Error calculating project progress from phases:",i),null}})}}static useProjectProgressFromTasks(){const{updateDoc:t}=Kn();return{calculateAndUpdateProjectProgressFromTasks:n=>we(null,null,function*(){try{const i=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["project","=",n]]})});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const c=(yield i.json()).message||[];if(!c||c.length===0)return yield t("Project",n,{percent_complete:0}),0;let d=0;c.forEach(f=>{d+=f.progress||0});const h=Math.round(d/c.length);return yield t("Project",n,{percent_complete:h}),h}catch(i){return console.error("Error calculating project progress from tasks:",i),null}})}}static useProjectProgressCalculation(){const{updateDoc:t}=Kn();return{calculateAndUpdateProjectProgress:n=>we(null,null,function*(){try{const i=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","progress"],filters:[["project","=",n]]})});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const c=(yield i.json()).message||[];console.log("Found phases:",c.length);const d=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["project","=",n]]})});if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);const f=(yield d.json()).message||[];if(console.log("Found tasks:",f.length),c&&c.length>0){const p=[];for(const v of c)try{const _=yield fetch(`/api/resource/project_phase/${v.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(_.ok){const T=yield _.json();T.data.tasks&&T.data.tasks.length>0&&T.data.tasks.forEach(A=>{A.task&&p.push(A.task)})}}catch(_){console.warn("Error fetching phase document:",v.name,_)}console.log("Tasks in phases:",p);const g=f.filter(v=>!p.includes(v.name));console.log("Standalone tasks:",g.length);let x=0,b=0;c.forEach(v=>{const _=v.progress||0;console.log(`Phase ${v.name}: ${_}%`),x+=_,b+=1}),g.forEach(v=>{const _=v.progress||0;console.log(`Standalone Task ${v.name}: ${_}%`),x+=_,b+=1}),console.log(`Total components: ${b}, Total progress: ${x}`);const j=b>0?Math.round(x/b):0;return console.log(`Calculated average progress: ${j}%`),yield t("Project",n,{percent_complete:j}),{progress:j,source:"mixed",count:b,phases:c.length,standaloneTasks:g.length}}else if(f&&f.length>0){console.log("No phases found, calculating from all tasks");let p=0;f.forEach(x=>{p+=x.progress||0});const g=Math.round(p/f.length);return console.log(`Task-based progress: ${g}%`),yield t("Project",n,{percent_complete:g}),{progress:g,source:"tasks",count:f.length}}else return console.log("No phases or tasks found"),yield t("Project",n,{percent_complete:0}),{progress:0,source:"none",count:0}}catch(i){return console.error("Error calculating project progress:",i),null}})}}static useProjectStatusProgressUpdate(){const{updateDoc:t}=Kn();return{updateProjectProgressByStatus:(n,i,o)=>we(null,null,function*(){try{let c=o||0;switch(i){case"Completed":c=100;break;case"Cancelled":case"Rejected":c=0;break;default:break}return yield t("Project",n,{status:i,percent_complete:c}),c}catch(c){return console.error("Error updating project progress by status:",c),null}})}}}const{useProjectProgressCalculation:qL}=Dy;class WL{static useProjectCascadeDelete(){const{call:t}=yn("frappe.client.delete"),{call:s}=yn("frappe.client.get_list");return{deleteProjectCascade:i=>we(null,null,function*(){try{console.log(`Starting cascade delete for project: ${i}`);try{const b=yield s({doctype:"Project",fields:["name"],filters:[["name","=",i]],limit_page_length:1});if(!(b!=null&&b.message)||b.message.length===0)throw new Error(`Project ${i} not found`)}catch(b){throw console.error("Project validation failed:",b),new Error(`Project validation failed: ${b instanceof Error?b.message:"Unknown validation error"}`)}let o=0,c=0,d=0;console.log("Step 1: Fetching all tasks...");let h=[];try{const b=yield s({doctype:"Task",fields:["name"],filters:[["project","=",i]],limit_page_length:1e3});h=(b==null?void 0:b.message)||[],console.log(`Found ${h.length} tasks to delete`)}catch(b){console.error("Error fetching tasks:",b),console.log("Continuing with deletion despite task fetch error...")}if(h.length>0){console.log(`Step 2: Processing ${h.length} tasks for subtask deletion...`);for(const b of h){console.log(`Step 2: Deleting subtasks for task ${b.name}...`);try{const j=yield s({doctype:"SubTask",fields:["name"],filters:[["task","=",b.name]],limit_page_length:1e3}),v=(j==null?void 0:j.message)||[];console.log(`Found ${v.length} subtasks for task ${b.name}`);for(const _ of v)try{console.log(`Deleting subtask: ${_.name}`),yield t({doctype:"SubTask",name:_.name}),o++,console.log(`Successfully deleted subtask: ${_.name}`),yield new Promise(T=>setTimeout(T,100))}catch(T){console.error(`Error deleting subtask ${_.name}:`,T)}}catch(j){console.error(`Error fetching subtasks for task ${b.name}:`,j)}}yield new Promise(b=>setTimeout(b,500))}if(h.length>0){console.log(`Step 3: Deleting ${h.length} tasks...`);for(const b of h)try{console.log(`Deleting task: ${b.name}`),yield t({doctype:"Task",name:b.name}),c++,console.log(`Successfully deleted task: ${b.name}`),yield new Promise(j=>setTimeout(j,100))}catch(j){console.error(`Error deleting task ${b.name}:`,j)}yield new Promise(b=>setTimeout(b,500))}console.log("Step 4: Deleting all phases...");let f=[];try{const b=yield s({doctype:"project_phase",fields:["name"],filters:[["project","=",i]],limit_page_length:1e3});f=(b==null?void 0:b.message)||[],console.log(`Found ${f.length} phases to delete`)}catch(b){console.error("Error fetching phases:",b),console.log("Continuing with deletion despite phase fetch error...")}for(const b of f)try{console.log(`Deleting phase: ${b.name}`),yield t({doctype:"project_phase",name:b.name}),d++,console.log(`Successfully deleted phase: ${b.name}`),yield new Promise(j=>setTimeout(j,100))}catch(j){console.error(`Error deleting phase ${b.name}:`,j)}f.length>0&&(yield new Promise(b=>setTimeout(b,500))),console.log("Step 5: Deleting ToDo assignments...");try{const b=yield s({doctype:"ToDo",fields:["name"],filters:[["reference_type","in",["Project","Task","SubTask"]],["reference_name","like",`%${i}%`]],limit_page_length:1e3}),j=(b==null?void 0:b.message)||[];console.log(`Found ${j.length} ToDo assignments to delete`);for(const v of j)try{yield t({doctype:"ToDo",name:v.name})}catch(_){console.error(`Error deleting ToDo ${v.name}:`,_)}}catch(b){console.error("Error fetching/deleting ToDo assignments:",b)}console.log("Step 6: Deleting project users...");try{const b=yield s({doctype:"Project User",fields:["name"],filters:[["parent","=",i]],limit_page_length:1e3}),j=(b==null?void 0:b.message)||[];console.log(`Found ${j.length} project users to delete`);for(const v of j)try{yield t({doctype:"Project User",name:v.name})}catch(_){console.error(`Error deleting Project User ${v.name}:`,_)}}catch(b){console.error("Error fetching/deleting project users:",b)}console.log("Step 6.5: Performing comprehensive dependency cleanup...");const p=[{doctype:"Task",filter:[["project","=",i]]},{doctype:"SubTask",filter:[["project","=",i]]},{doctype:"project_phase",filter:[["project","=",i]]},{doctype:"Project User",filter:[["parent","=",i]]},{doctype:"ToDo",filter:[["reference_type","=","Project"],["reference_name","=",i]]},{doctype:"ToDo",filter:[["reference_type","=","Task"],["reference_name","like",`%${i}%`]]},{doctype:"Communication",filter:[["reference_doctype","=","Project"],["reference_name","=",i]]},{doctype:"File",filter:[["attached_to_doctype","=","Project"],["attached_to_name","=",i]]},{doctype:"Comment",filter:[["reference_doctype","=","Project"],["reference_name","=",i]]}];for(const b of p)try{console.log(`Checking for remaining ${b.doctype} dependencies...`);const j=yield s({doctype:b.doctype,fields:["name"],filters:b.filter,limit_page_length:1e3}),v=(j==null?void 0:j.message)||[];if(v.length>0){console.log(`Found ${v.length} remaining ${b.doctype} items, deleting them...`);for(const _ of v)try{yield t({doctype:b.doctype,name:_.name}),console.log(`Deleted remaining ${b.doctype}: ${_.name}`),yield new Promise(T=>setTimeout(T,100))}catch(T){console.error(`Error deleting remaining ${b.doctype} ${_.name}:`,T)}}else console.log(`No remaining ${b.doctype} dependencies found.`)}catch(j){console.error(`Error checking ${b.doctype} dependencies:`,j)}yield new Promise(b=>setTimeout(b,1e3)),console.log("Step 7: Deleting the project..."),yield new Promise(b=>setTimeout(b,1e3));let g=0;const x=3;for(;g<x;)try{g++,console.log(`Attempting to delete project ${i} (attempt ${g}/${x})`),yield t({doctype:"Project",name:i}),console.log(`Verifying project ${i} deletion...`);try{const b=yield s({doctype:"Project",fields:["name"],filters:[["name","=",i]],limit_page_length:1});if(b!=null&&b.message&&b.message.length>0)throw new Error("Project still exists after deletion attempt");console.log(`Successfully verified project ${i} deletion`)}catch(b){if(b.message==="Project still exists after deletion attempt")throw b;console.log(`Project ${i} not found during verification - deletion successful`)}console.log(`Successfully deleted project: ${i}`);break}catch(b){if(console.error(`Error deleting project ${i} (attempt ${g}):`,b),g<x){console.log(`Waiting before retry attempt ${g+1}...`),yield new Promise(j=>setTimeout(j,2e3)),console.log("Attempting to clean up remaining dependencies...");try{const j=yield s({doctype:"Project User",fields:["name"],filters:[["parent","=",i]],limit_page_length:1e3}),v=(j==null?void 0:j.message)||[];if(v.length>0){console.log(`Found ${v.length} remaining project users, deleting them...`);for(const _ of v)try{yield t({doctype:"Project User",name:_.name}),console.log(`Deleted remaining project user: ${_.name}`)}catch(T){console.error(`Error deleting remaining project user ${_.name}:`,T)}}}catch(j){console.error("Error during dependency cleanup:",j)}try{const j=yield s({doctype:"ToDo",fields:["name"],filters:[["reference_type","=","Project"],["reference_name","=",i]],limit_page_length:1e3}),v=(j==null?void 0:j.message)||[];if(v.length>0){console.log(`Found ${v.length} remaining todos, deleting them...`);for(const _ of v)try{yield t({doctype:"ToDo",name:_.name}),console.log(`Deleted remaining todo: ${_.name}`)}catch(T){console.error(`Error deleting remaining todo ${_.name}:`,T)}}}catch(j){console.error("Error during todo cleanup:",j)}}else{let j="Unknown project deletion error";if(b&&typeof b=="object")if(console.error("Full project deletion error object:",JSON.stringify(b,null,2)),b.message)j=b.message;else if(b.exc)j=b.exc;else if(b._server_messages)try{const v=JSON.parse(b._server_messages);Array.isArray(v)&&v.length>0&&(j=JSON.parse(v[0]).message||j)}catch(v){console.error("Error parsing server messages:",v)}else j=JSON.stringify(b);else typeof b=="string"&&(j=b);throw new Error(`Failed to delete project ${i} after ${x} attempts: ${j}`)}}return console.log(`Successfully completed cascade delete for project: ${i}`),{success:!0,deletedItems:{subtasks:o,tasks:c,phases:d,project:1}}}catch(o){console.error("Error in cascade delete:",o);let c="Unknown error";throw o instanceof Error?c=o.message:typeof o=="string"?c=o:o&&typeof o=="object"&&(c=o.message||o.error||o.exc||JSON.stringify(o)),new Error(`Failed to delete project and related items: ${c}`)}})}}}const{useProjectCascadeDelete:YL}=WL;class Ay{static useUserTodos(){const{data:t}=Ot("User","",{shouldFetch:!0}),{data:s,isLoading:n,error:i,mutate:o}=Nt("ToDo",{fields:["name","status","priority","date","allocated_to","description","reference_type","reference_name","assigned_by","assigned_by_full_name","creation","modified"],filters:[["allocated_to","=",(t==null?void 0:t.name)||""],["reference_type","=","Task"]],orderBy:{field:"creation",order:"desc"},limit:0},t!=null&&t.name?"user-todos":null);return{todos:s||[],isLoading:n,error:i,mutate:o,currentUser:t}}static useUserTodosEnriched(){const{data:t}=Ot("User","",{shouldFetch:!0}),{data:s,isLoading:n,error:i,mutate:o}=NO("todo.api.get_user_todos_with_task_info",{user:(t==null?void 0:t.name)||""},t!=null&&t.name?"user-todos-enriched":null,{revalidateOnFocus:!1,revalidateOnReconnect:!1});return{todos:(s==null?void 0:s.message)||[],isLoading:n,error:i,mutate:o,currentUser:t}}static useUserTodosWithTaskData(){const{todos:t,isLoading:s,error:n,mutate:i,currentUser:o}=Ay.useUserTodos();return{todos:t.map(d=>(d.reference_type==="Task"&&d.reference_name,d)),isLoading:s,error:n,mutate:i,currentUser:o}}static useAllTodos(){const{data:t,isLoading:s,error:n}=Nt("ToDo",{fields:["name","status","priority","date","allocated_to","description","reference_type","reference_name","assigned_by"],filters:[["reference_type","in",["Task","SubTask"]]],limit:0});return{todos:t||[],isLoading:s,error:n}}}const GL=Ay.useAllTodos;class XL{static useUserAssignedTasks(){const{currentUser:t}=On(),{data:s,isLoading:n,error:i,mutate:o}=Nt("ToDo",{fields:["name","status","priority","date","allocated_to","description","reference_type","reference_name","assigned_by","assigned_by_full_name","creation","modified"],filters:[["allocated_to","=",t||""]],orderBy:{field:"creation",order:"desc"},limit:0},t?"user-assigned-todos":null),d=(s||[]).filter(G=>G.reference_type==="Task").map(G=>G.reference_name).filter(Boolean),f=(s||[]).filter(G=>G.reference_type==="SubTask").map(G=>G.reference_name).filter(Boolean),{data:p,isLoading:g,error:x,mutate:b}=Nt("Task",{fields:["name","subject","project","status","priority","type","expected_time","actual_time","exp_start_date","exp_end_date","progress","is_group","parent_task","description","company","department"],filters:d.length>0?[["name","in",d]]:[["name","=","nonexistent"]],limit:0},d.length>0?"user-assigned-tasks":null),{data:j,isLoading:v,error:_,mutate:T}=Nt("SubTask",{fields:["name","subject","task","status","start_date","end_date","description","assigned_to"],filters:f.length>0?[["name","in",f]]:[["name","=","nonexistent"]],limit:0},f.length>0?"user-assigned-subtasks":null),A=[...new Set((j||[]).map(G=>G.task).filter(Boolean))],{data:C}=Nt("Task",{fields:["name","subject","project"],filters:A.length>0?[["name","in",A]]:[["name","=","nonexistent"]],limit:0},A.length>0?"parent-tasks-for-subtasks":null),S=[...new Set([...(p||[]).map(G=>G.project).filter(Boolean),...(C||[]).map(G=>G.project).filter(Boolean)])],{data:D}=Nt("Project",{fields:["name","project_name"],filters:S.length>0?[["name","in",S]]:[["name","=","nonexistent"]],limit:0},S.length>0?"projects-for-assigned-tasks":null),E=(D||[]).reduce((G,I)=>(G[I.name]=I.project_name||I.name,G),{}),B=(C||[]).reduce((G,I)=>(G[I.name]=I,G),{}),U=(s||[]).reduce((G,I)=>(I.reference_name&&(G[I.reference_name]=I),G),{}),R=(p||[]).map(G=>le(F({},G),{project_name:G.project?E[G.project]:void 0,assignedTodo:U[G.name]})),K=(j||[]).map(G=>{const I=G.task?B[G.task]:void 0;return le(F({},G),{task_subject:I==null?void 0:I.subject,project_name:I!=null&&I.project?E[I.project]:void 0,assignedTodo:U[G.name]})});return{tasks:R,subTasks:K,todos:s||[],isLoading:n||g||v,error:i||x||_,mutate:()=>{o(),b(),T()},currentUser:t}}}const KL=XL.useUserAssignedTasks;class kS{static useAllTeamTasks(){const{data:t,isLoading:s,error:n}=Nt("Task",{fields:["name","subject","description","status","priority","exp_start_date","exp_end_date","project","type","progress","completed_by"],limit:0}),{data:i,isLoading:o,error:c}=Nt("SubTask",{fields:["name","subject","description","status","start_date","end_date","assigned_to","task"],limit:0});return{allTasks:t||[],allSubTasks:i||[],isLoading:s||o,error:n||c}}static getAllTaskOfTeam(){const t=On().currentUser,{data:s}=Nt("Team",{filters:[["teamlead","=",t||""]]}),n=(s==null?void 0:s.map(R=>R.name))||[],{data:i}=Nt("Project",{fields:["name","team"],filters:[["team","in",n]],limit:0}),o=(i==null?void 0:i.map(R=>R.name))||[],{data:c,isLoading:d,error:h}=Nt("Task",{fields:["name","status","exp_end_date","project"],limit:0}),f=(c||[]).filter(R=>o.includes(R.project||"")),{data:p,isLoading:g,error:x}=Nt("SubTask",{fields:["name","status","task"],limit:0}),b=f.map(R=>R.name),j=(p||[]).filter(R=>b.includes(R.task||"")),v=R=>(R||"").toLowerCase()==="completed",_=R=>(R||"").toLowerCase()==="working",T=R=>(R||"").toLowerCase()==="cancelled",A=R=>(R||"").toLowerCase()==="overdue",C=new Date;C.setHours(0,0,0,0);const S=R=>{if(A(R.status))return!0;if(!v(R.status)&&!T(R.status)&&R.exp_end_date){const K=new Date(R.exp_end_date);return K.setHours(0,0,0,0),K<C}return!1},D=f.length+j.length,E=f.filter(R=>_(R.status)).length+j.filter(R=>_(R.status)).length,B=f.filter(R=>v(R.status)).length+j.filter(R=>v(R.status)).length,U=f.filter(R=>S(R)).length;return{total:D,working:E,completed:B,overdue:U,isLoading:d||g,error:h||x}}}const QL=kS.useAllTeamTasks,ZL=kS.getAllTaskOfTeam,JL=()=>{const{currentUser:e}=On(),{data:t,isLoading:s,error:n}=Nt("User",{fields:["name","full_name","user_image","first_name","last_name","email"],filters:[["enabled","=",1],["user_type","=","System User"]],limit:20});return{simpleTeamData:N.useMemo(()=>t?t.map(o=>({id:o.name,name:o.full_name||o.first_name||o.name||"Unknown User",role:o.name===e?"Leader":"Member",avatar:o.user_image||`https://placehold.co/40x40/e2e8f0/475569?text=${(o.first_name||o.full_name||"U").charAt(0).toUpperCase()}`})):[],[t,e]),users:t,isLoading:s,error:n}},eB=({projects:e,selectedProject:t,selectedTeam:s,onProjectChange:n,onTeamChange:i})=>{var v,_;const[o,c]=N.useState({selectedTeam:s,selectedProject:t}),[d,h]=N.useState(!1),{data:f}=xS(),p=(T,A)=>{c(C=>le(F({},C),{[T]:A})),T==="selectedTeam"?i(A):T==="selectedProject"&&n(A)},g=re.useMemo(()=>{const T=[{value:"all",label:"Tất cả team"},...(f==null?void 0:f.map(A=>({value:A.name,label:A.team_name||A.name})))||[]];return[T[0],...T.slice(1).sort((A,C)=>A.label.localeCompare(C.label))]},[f]),x=e.filter(T=>!(o.selectedTeam!=="all"&&o.selectedTeam!==""&&T.team!==o.selectedTeam)),b=()=>{c({selectedTeam:"all",selectedProject:"all"}),i("all"),n("all")},j=o.selectedTeam!=="all"||o.selectedProject!=="all";return re.useEffect(()=>{c(T=>le(F({},T),{selectedTeam:s,selectedProject:t}))},[s,t]),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>h(!d),className:`inline-flex items-center px-4 py-2 border rounded-lg text-sm font-medium bg-white hover:bg-gray-50 transition-colors ${j?"border-blue-500 text-blue-700 bg-blue-50":"border-gray-300 text-gray-700"}`,children:[a.jsx(xu,{className:"mr-2 h-4 w-4"}),"Bộ lọc",j&&a.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[o.selectedTeam!=="all"?1:0,o.selectedProject!=="all"?1:0].reduce((T,A)=>T+A,0)})]}),d&&a.jsx("div",{className:"absolute top-full right-0 mt-2 w-96 bg-white border border-gray-200 rounded-lg shadow-lg z-10",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Bộ lọc dự án"}),j&&a.jsx("button",{onClick:b,className:"text-sm text-blue-600 hover:text-blue-800",children:"Xóa tất cả"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Team"}),a.jsx("select",{value:o.selectedTeam,onChange:T=>p("selectedTeam",T.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:!f||f.length===0,children:g.map(T=>a.jsx("option",{value:T.value,children:T.label},T.value))}),(!f||f.length===0)&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Không có team nào"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dự án"}),a.jsxs("select",{value:o.selectedProject,onChange:T=>p("selectedProject",T.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"Tất cả dự án"}),x.map(T=>a.jsx("option",{value:T.project_name,children:T.project_name},T.name))]})]})]}),j&&a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[a.jsx("span",{children:"Đang áp dụng:"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.selectedTeam!=="all"&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Team: ",(v=g.find(T=>T.value===o.selectedTeam))==null?void 0:v.label,a.jsx("button",{onClick:()=>p("selectedTeam","all"),className:"ml-1 text-blue-600 hover:text-blue-800",children:"×"})]}),o.selectedProject!=="all"&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Dự án: ",(_=x.find(T=>T.project_name===o.selectedProject))==null?void 0:_.project_name,a.jsx("button",{onClick:()=>p("selectedProject","all"),className:"ml-1 text-green-600 hover:text-green-800",children:"×"})]})]})]})})]})}),d&&a.jsx("div",{className:"fixed inset-0 z-5",onClick:()=>h(!1)})]})},tB=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),sB=({projects:e,tasks:t,selectedProject:s})=>{const n=s&&s!=="all",i=n?"Task":"Dự án";let o,c,d;if(n){o=t.filter(g=>g.status==="Open"||g.status==="Working"||g.status!=="Completed"&&g.status!=="Cancelled").length,c=t.filter(g=>g.status==="Completed").length;const p=new Date;d=t.filter(g=>g.exp_end_date?new Date(g.exp_end_date)<p&&g.status!=="Completed":!1).length,t.reduce((g,x)=>g+(x.expected_time||0),0)}else{o=e.filter(g=>g.status==="Đang thực hiện"||g.status!=="Hoàn thành"&&g.status!=="Hủy"&&g.percent_complete<100).length,c=e.filter(g=>g.status==="Hoàn thành"||g.percent_complete===100).length;const p=new Date;d=e.filter(g=>new Date(g.expected_end_date)<p&&g.status!=="Hoàn thành"&&g.percent_complete<100).length}const h=e.reduce((p,g)=>p+(g.estimated_costing||0),0),f=[{title:`${i} đang hoạt động`,value:o,icon:G4,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-blue-500 to-blue-600",cardBg:"bg-white",shadow:"shadow-lg shadow-blue-500/20",change:"+55%",changeText:"than last week",changeColor:"text-green-500"},{title:`${i} hoàn thành`,value:c,icon:dT,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-green-500 to-green-600",cardBg:"bg-white",shadow:"shadow-lg shadow-green-500/20",change:"+3%",changeText:"than last month",changeColor:"text-green-500"},{title:`${i} quá hạn`,value:d,icon:Xi,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-pink-500 to-pink-600",cardBg:"bg-white",shadow:"shadow-lg shadow-pink-500/20",change:"+1%",changeText:"than yesterday",changeColor:"text-green-500"},{title:"Chi phí Dự án",value:tB(h),icon:GM,iconColor:"text-white",iconBg:"bg-gradient-to-br from-yellow-200 to-yellow-600",cardBg:"bg-white",shadow:"shadow-lg shadow-yellow-500/20",change:"+91",changeText:"Just updated",changeColor:"text-gray-500"}];return a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:f.map((p,g)=>{const x=p.icon;return a.jsx("div",{className:`${p.cardBg} ${p.shadow} rounded-xl p-6 border border-gray-100 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1`,children:a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:`${p.iconBg} ${p.iconColor} p-3 rounded-2xl shadow-lg`,children:a.jsx(x,{className:"h-6 w-6"})}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:p.title}),a.jsx("p",{className:`${p.title.includes("Chi phí")?"text-2xl":"text-3xl"} font-bold text-gray-900`,children:p.value})]})]})},g)})})},ES=({title:e,children:t,className:s=""})=>a.jsxs("div",{className:`bg-white rounded-xl shadow-sm p-6 mb-6 ${s}`,children:[e&&a.jsx("div",{className:"text-xl font-semibold text-gray-800 mb-4",children:e}),t]}),nB=({projects:e,tasks:t,selectedProject:s})=>{const n=s&&s!=="all",i=re.useMemo(()=>{const p=new Date;return p.setHours(0,0,0,0),e.map((x,b)=>({id:`milestone-${b}`,name:x.project_name,project:x.project_name,endDate:new Date(x.expected_end_date),priority:x.priority,status:x.percent_complete===100?"completed":x.percent_complete>0?"in progress":"upcoming",progress:x.percent_complete})).filter(x=>{const b=new Date(x.endDate);b.setHours(0,0,0,0);const j=Math.ceil((b.getTime()-p.getTime())/(1e3*60*60*24));return x.status!=="completed"&&j>=0&&j<=15}).sort((x,b)=>{const j=new Date;j.setHours(0,0,0,0);const v=new Date(x.endDate);v.setHours(0,0,0,0);const _=new Date(b.endDate);_.setHours(0,0,0,0);const T=Math.abs(v.getTime()-j.getTime()),A=Math.abs(_.getTime()-j.getTime()),C=T-A;if(C!==0)return C;const S={"Khẩn cấp":0,Cao:1,"Trung bình":2,Thấp:3,Urgent:0,High:1,Medium:2,Low:3};return(S[x.priority]||3)-(S[b.priority]||3)})},[e]),o=re.useMemo(()=>{if(!n)return[];const p=new Date;return p.setHours(0,0,0,0),t.filter(g=>{if(!g.exp_end_date||g.status==="Completed")return!1;const x=new Date(g.exp_end_date);x.setHours(0,0,0,0);const b=Math.ceil((x.getTime()-p.getTime())/(1e3*60*60*24));return b>=0&&b<=2}).sort((g,x)=>{const b=new Date;b.setHours(0,0,0,0);const j=new Date(g.exp_end_date);j.setHours(0,0,0,0);const v=new Date(x.exp_end_date);v.setHours(0,0,0,0);const _=Math.abs(j.getTime()-b.getTime()),T=Math.abs(v.getTime()-b.getTime()),A=_-T;if(A!==0)return A;const C={Urgent:0,High:1,Medium:2,Low:3};return(C[g.priority]||3)-(C[x.priority]||3)})},[t,n]),c=p=>{switch(p){case"completed":return"bg-green-500";case"in progress":return"bg-blue-500";case"upcoming":return"bg-gray-300";default:return"bg-gray-300"}},d=p=>{switch(p){case"Urgent":return"bg-red-100 text-red-800";case"High":return"bg-orange-100 text-orange-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"Low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},h=p=>p.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),f=p=>{const g=new Date;g.setHours(0,0,0,0);const x=new Date(p);x.setHours(0,0,0,0);const b=Math.ceil((x.getTime()-g.getTime())/(1e3*60*60*24));return b<0?{text:`Quá hạn ${Math.abs(b)} ngày`,color:"text-red-600",urgent:!0}:b===0?{text:"Hôm nay",color:"text-red-600",urgent:!0}:b<=3?{text:`${b} ngày nữa`,color:"text-red-600",urgent:!0}:b<=7?{text:`${b} ngày nữa`,color:"text-orange-600",urgent:!0}:b<=14?{text:`${b} ngày nữa`,color:"text-yellow-600",urgent:!1}:{text:`${b} ngày nữa`,color:"text-gray-600",urgent:!1}};return a.jsx("div",{className:"grid grid-cols-1 gap-8",children:a.jsx(ES,{title:n?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Tasks"})," ","gần ",a.jsx("span",{className:"text-red-600 font-semibold",children:"đến hạn "})," (<2 ngày)"]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Dự án"})," ","sắp ",a.jsx("span",{className:"text-red-600 font-semibold",children:"đến hạn"})," (<15 ngày)"]}),children:a.jsx("div",{className:`space-y-6 ${n?o.length>=3?"h-80 overflow-y-auto":"overflow-visible":i.length>=3?"h-80 overflow-y-auto":"overflow-visible"}`,children:n?a.jsxs(a.Fragment,{children:[o.map((p,g)=>{const x=f(new Date(p.exp_end_date));return a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:p.subject}),a.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${d(p.priority)}`,children:p.priority})]}),a.jsx("div",{className:"mt-1",children:a.jsx("span",{className:`text-xs font-medium ${x.color}`,children:x.text})})]})}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[a.jsx(hn,{className:"h-4 w-4 mr-1"}),h(new Date(p.exp_end_date))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Progress"}),a.jsxs("span",{className:"font-medium",children:[p.progress||0,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${p.status==="Completed"?"bg-green-500":p.status==="Working"?"bg-blue-500":"bg-gray-300"}`,style:{width:`${p.progress||0}%`}})})]})]},`task-${g}`)}),o.length===0&&a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(hn,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),a.jsx("p",{children:"Không có task nào sắp đến hạn"})]})]}):a.jsxs(a.Fragment,{children:[i.map(p=>{const g=f(p.endDate);return a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:p.name}),a.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${d(p.priority)}`,children:p.priority})]}),a.jsx("div",{className:"mt-1",children:a.jsx("span",{className:`text-xs font-medium ${g.color}`,children:g.text})})]})}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[a.jsx(hn,{className:"h-4 w-4 mr-1"}),h(p.endDate)]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Progress"}),a.jsxs("span",{className:"font-medium",children:[p.progress,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${c(p.status)}`,style:{width:`${p.progress}%`}})})]})]},p.id)}),i.length===0&&a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(hn,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),a.jsx("p",{children:"Không có dự án nào sắp đến hạn"})]})]})})})})},aB=({projects:e,tasks:t,selectedProject:s})=>{const[n,i]=N.useState(null),[o,c]=N.useState(!0),d=j=>{i(v=>v===j?null:j)},h=s&&s!=="all",p=(()=>{if(h){const j={open:{projects:[],color:"#3b82f6",lightColor:"#60a5fa",darkColor:"#1d4ed8",label:"Open",height:30},working:{projects:[],color:"#f59e0b",lightColor:"#fbbf24",darkColor:"#d97706",label:"Working",height:25},completed:{projects:[],color:"#22c55e",lightColor:"#4ade80",darkColor:"#15803d",label:"Completed",height:20},overdue:{projects:[],color:"#ef4444",lightColor:"#f87171",darkColor:"#dc2626",label:"Overdue",height:40},cancelled:{projects:[],color:"#6b7280",lightColor:"#9ca3af",darkColor:"#4b5563",label:"Cancelled",height:35}};return t.forEach(v=>{const _=new Date;v.exp_end_date&&new Date(v.exp_end_date)<_&&v.status!=="Completed"&&v.status!=="Cancelled"?j.overdue.projects.push(v):v.status==="Completed"?j.completed.projects.push(v):v.status==="Working"?j.working.projects.push(v):v.status==="Cancelled"?j.cancelled.projects.push(v):j.open.projects.push(v)}),j}else{const j={open:{projects:[],color:"#3b82f6",lightColor:"#60a5fa",darkColor:"#1d4ed8",label:"Đang mở",height:30},completed:{projects:[],color:"#22c55e",lightColor:"#4ade80",darkColor:"#15803d",label:"Hoàn thành",height:20},cancelled:{projects:[],color:"#ef4444",lightColor:"#f87171",darkColor:"#dc2626",label:"Đã hủy",height:40}};return e.forEach(v=>{v.status==="Completed"||v.status==="Hoàn thành"?j.completed.projects.push(v):v.status==="Cancelled"||v.status==="Canceled"||v.status==="Hủy"?j.cancelled.projects.push(v):j.open.projects.push(v)}),j}})(),g=h?t.length:e.length,x=j=>{const v={Urgent:4,High:3,Medium:2,Low:1};return j.sort((_,T)=>{const A=v[_.priority]||0;return(v[T.priority]||0)-A})};Object.values(p).forEach(j=>{j.projects=x(j.projects)});const b=()=>{const[j,v]=re.useState({visible:!1,x:0,y:0,categoryKey:""}),_=360,T=_/2,A=_/2,C=170;let S=0;const D=Object.entries(p).filter(([,R])=>R.projects.length>0),E=(R,K)=>{const W=K.clientX,Z=K.clientY;v({visible:!0,x:W+15,y:Z-10,categoryKey:R})},B=(R,K)=>{if(j.visible&&j.categoryKey===R){const W=K.clientX,Z=K.clientY;v(q=>le(F({},q),{x:W+15,y:Z-10}))}},U=()=>{v({visible:!1,x:0,y:0,categoryKey:""})};return a.jsxs("div",{className:"relative flex flex-col items-center",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-6 text-center max-w-xs",children:h?"Biểu đồ phân bố Tasks theo trạng thái":"Biểu đồ phân bố dự án theo trạng thái"}),a.jsx("div",{className:"relative",style:{width:_,height:_},children:a.jsxs("svg",{width:_,height:_,className:"absolute top-0 left-0",children:[a.jsx("defs",{children:a.jsx("filter",{id:"dropshadow2d",x:"-20%",y:"-20%",width:"140%",height:"140%",children:a.jsx("feDropShadow",{dx:"2",dy:"4",stdDeviation:"4",floodOpacity:"0.2"})})}),(S=0,D.map(([R,K])=>{const W=K.projects.length/g*100,Z=S,q=S+W/100*360;S=q;const G=Z*Math.PI/180,I=q*Math.PI/180,H=(Z+q)/2*Math.PI/180,J=T+C*Math.cos(G),te=A+C*Math.sin(G),de=T+C*Math.cos(I),P=A+C*Math.sin(I),ie=q-Z>180?1:0,ne=D.length===1;let $;ne?$=`M ${T} ${A+C} A ${C} ${C} 0 1 1 ${T} ${A-C} A ${C} ${C} 0 1 1 ${T} ${A+C} Z`:$=[`M ${T} ${A}`,`L ${J} ${te}`,`A ${C} ${C} 0 ${ie} 1 ${de} ${P}`,"Z"].join(" ");const ee=C*.7,xe=ne?T:T+ee*Math.cos(H),he=ne?A:A+ee*Math.sin(H);return a.jsxs("g",{children:[a.jsx("path",{d:$,fill:K.color,stroke:"white",strokeWidth:"2",filter:"url(#dropshadow2d)",className:"hover:opacity-80 transition-opacity cursor-pointer",onMouseEnter:ke=>E(R,ke),onMouseMove:ke=>B(R,ke),onMouseLeave:U}),W>5&&a.jsxs("text",{x:xe,y:he,textAnchor:"middle",dominantBaseline:"middle",className:"text-xs font-bold fill-white pointer-events-none",style:{textShadow:"1px 1px 2px rgba(0,0,0,0.5)"},children:[Math.round(W),"%"]})]},`segment-${R}`)}))]})}),j.visible&&j.categoryKey&&p[j.categoryKey]&&a.jsxs("div",{className:"fixed z-50 bg-white border border-gray-200 rounded-lg shadow-lg p-4 max-w-xs pointer-events-none",style:{left:j.x,top:j.y,transform:"translate(-50%, -100%)"},children:[a.jsxs("div",{className:"font-semibold text-gray-800 mb-2 flex items-center",children:[a.jsx("div",{className:"w-3 h-3 rounded mr-2",style:{backgroundColor:p[j.categoryKey].color}}),p[j.categoryKey].label," (",p[j.categoryKey].projects.length,")"]}),a.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:p[j.categoryKey].projects.map((R,K)=>a.jsxs("div",{className:"text-xs border-b border-gray-100 pb-1 last:border-b-0",children:[a.jsx("div",{className:"font-medium text-gray-700",children:h?R.subject:R.project_name}),a.jsxs("div",{className:"text-gray-500 flex justify-between",children:[a.jsx("span",{children:h?`${R.progress||0}% hoàn thành`:`${R.percent_complete}% hoàn thành`}),a.jsxs("span",{className:"font-medium",children:["Priority: ",R.priority]})]})]},K))})]})]})};return a.jsx(ES,{title:a.jsx("div",{className:"flex items-center justify-between w-full cursor-pointer hover:bg-gray-50 -m-2 p-2 rounded-md transition-colors",onClick:()=>c(!o),children:a.jsx("div",{className:"flex items-center",children:a.jsx("span",{children:h?a.jsxs(a.Fragment,{children:["Tổng quan ",a.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Tasks"})]}):a.jsxs(a.Fragment,{children:["Tổng quan ",a.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"dự án"})]})})})}),children:o&&a.jsx("div",{children:g===0?a.jsx("div",{className:"flex flex-col items-center justify-center py-16",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-8xl text-gray-300 mb-6",children:"📊"}),a.jsx("p",{className:"text-xl font-medium text-gray-600 mb-3",children:h?"Không có task nào":"Không có dự án nào"}),a.jsx("p",{className:"text-base text-gray-500 max-w-md",children:h?"Không có task nào đang thực hiện trong dự án này":"Không có dự án nào đang thực hiện"})]})}):a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsx("div",{className:"flex flex-col items-center",children:a.jsx(b,{})}),a.jsx("div",{className:"space-y-4",children:Object.entries(p).map(([j,v])=>v.projects.length>0&&a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:()=>d(j),className:"w-full px-4 py-3 bg-gray-50 hover:bg-gray-100 transition-colors flex items-center justify-between border-l-4",style:{borderLeftColor:v.color},children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-3 h-3 rounded-full mr-3",style:{backgroundColor:v.color}}),a.jsxs("h4",{className:"font-semibold text-gray-800",children:[v.label," (",v.projects.length,")"]})]}),a.jsx("div",{className:"flex items-center",children:a.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform duration-200 ${n===j?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),a.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${n===j?"max-h-96":"max-h-0"}`,children:a.jsx("div",{className:"p-4 space-y-2 max-h-80 overflow-y-auto",children:v.projects.map(_=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md hover:bg-gray-100 transition-colors",children:[a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:h?_.subject:_.project_name}),a.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ml-2 flex-shrink-0 ${_.priority==="Urgent"?"bg-red-100 text-red-800":_.priority==="High"?"bg-orange-100 text-orange-800":_.priority==="Medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:_.priority})]})}),a.jsx("div",{className:"flex flex-col items-end ml-3",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-12 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(h?_.progress||0:_.percent_complete||0,100)}%`,backgroundColor:(()=>{const T=h?_.progress||0:_.percent_complete||0;return T>=100?"#22c55e":T>=70?"#3b82f6":T>=30?"#f59e0b":"#ef4444"})()}})}),a.jsxs("span",{className:"text-xs font-semibold text-gray-600 min-w-[35px] text-right",children:[h?_.progress||0:_.percent_complete||0,"%"]})]})})]},_.name))})})]},j))})]})})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Tu(e){return e+.5|0}const Hi=(e,t,s)=>Math.max(Math.min(e,s),t);function Vd(e){return Hi(Tu(e*2.55),0,255)}function Vi(e){return Hi(Tu(e*255),0,255)}function Jr(e){return Hi(Tu(e/2.55)/100,0,1)}function xN(e){return Hi(Tu(e*100),0,100)}const Na={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},x0=[..."0123456789ABCDEF"],rB=e=>x0[e&15],iB=e=>x0[(e&240)>>4]+x0[e&15],ah=e=>(e&240)>>4===(e&15),oB=e=>ah(e.r)&&ah(e.g)&&ah(e.b)&&ah(e.a);function lB(e){var t=e.length,s;return e[0]==="#"&&(t===4||t===5?s={r:255&Na[e[1]]*17,g:255&Na[e[2]]*17,b:255&Na[e[3]]*17,a:t===5?Na[e[4]]*17:255}:(t===7||t===9)&&(s={r:Na[e[1]]<<4|Na[e[2]],g:Na[e[3]]<<4|Na[e[4]],b:Na[e[5]]<<4|Na[e[6]],a:t===9?Na[e[7]]<<4|Na[e[8]]:255})),s}const cB=(e,t)=>e<255?t(e):"";function dB(e){var t=oB(e)?rB:iB;return e?"#"+t(e.r)+t(e.g)+t(e.b)+cB(e.a,t):void 0}const uB=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function DS(e,t,s){const n=t*Math.min(s,1-s),i=(o,c=(o+e/30)%12)=>s-n*Math.max(Math.min(c-3,9-c,1),-1);return[i(0),i(8),i(4)]}function fB(e,t,s){const n=(i,o=(i+e/60)%6)=>s-s*t*Math.max(Math.min(o,4-o,1),0);return[n(5),n(3),n(1)]}function hB(e,t,s){const n=DS(e,1,.5);let i;for(t+s>1&&(i=1/(t+s),t*=i,s*=i),i=0;i<3;i++)n[i]*=1-t-s,n[i]+=t;return n}function mB(e,t,s,n,i){return e===i?(t-s)/n+(t<s?6:0):t===i?(s-e)/n+2:(e-t)/n+4}function Oy(e){const s=e.r/255,n=e.g/255,i=e.b/255,o=Math.max(s,n,i),c=Math.min(s,n,i),d=(o+c)/2;let h,f,p;return o!==c&&(p=o-c,f=d>.5?p/(2-o-c):p/(o+c),h=mB(s,n,i,p,o),h=h*60+.5),[h|0,f||0,d]}function Ry(e,t,s,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,s,n)).map(Vi)}function My(e,t,s){return Ry(DS,e,t,s)}function pB(e,t,s){return Ry(hB,e,t,s)}function gB(e,t,s){return Ry(fB,e,t,s)}function AS(e){return(e%360+360)%360}function xB(e){const t=uB.exec(e);let s=255,n;if(!t)return;t[5]!==n&&(s=t[6]?Vd(+t[5]):Vi(+t[5]));const i=AS(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?n=pB(i,o,c):t[1]==="hsv"?n=gB(i,o,c):n=My(i,o,c),{r:n[0],g:n[1],b:n[2],a:s}}function yB(e,t){var s=Oy(e);s[0]=AS(s[0]+t),s=My(s),e.r=s[0],e.g=s[1],e.b=s[2]}function bB(e){if(!e)return;const t=Oy(e),s=t[0],n=xN(t[1]),i=xN(t[2]);return e.a<255?`hsla(${s}, ${n}%, ${i}%, ${Jr(e.a)})`:`hsl(${s}, ${n}%, ${i}%)`}const yN={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},bN={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function vB(){const e={},t=Object.keys(bN),s=Object.keys(yN);let n,i,o,c,d;for(n=0;n<t.length;n++){for(c=d=t[n],i=0;i<s.length;i++)o=s[i],d=d.replace(o,yN[o]);o=parseInt(bN[c],16),e[d]=[o>>16&255,o>>8&255,o&255]}return e}let rh;function wB(e){rh||(rh=vB(),rh.transparent=[0,0,0,0]);const t=rh[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const jB=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function NB(e){const t=jB.exec(e);let s=255,n,i,o;if(t){if(t[7]!==n){const c=+t[7];s=t[8]?Vd(c):Hi(c*255,0,255)}return n=+t[1],i=+t[3],o=+t[5],n=255&(t[2]?Vd(n):Hi(n,0,255)),i=255&(t[4]?Vd(i):Hi(i,0,255)),o=255&(t[6]?Vd(o):Hi(o,0,255)),{r:n,g:i,b:o,a:s}}}function _B(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Jr(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const gx=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Gl=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function TB(e,t,s){const n=Gl(Jr(e.r)),i=Gl(Jr(e.g)),o=Gl(Jr(e.b));return{r:Vi(gx(n+s*(Gl(Jr(t.r))-n))),g:Vi(gx(i+s*(Gl(Jr(t.g))-i))),b:Vi(gx(o+s*(Gl(Jr(t.b))-o))),a:e.a+s*(t.a-e.a)}}function ih(e,t,s){if(e){let n=Oy(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*s,t===0?360:1)),n=My(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function OS(e,t){return e&&Object.assign(t||{},e)}function vN(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Vi(e[3]))):(t=OS(e,{r:0,g:0,b:0,a:1}),t.a=Vi(t.a)),t}function SB(e){return e.charAt(0)==="r"?NB(e):xB(e)}class lu{constructor(t){if(t instanceof lu)return t;const s=typeof t;let n;s==="object"?n=vN(t):s==="string"&&(n=lB(t)||wB(t)||SB(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=OS(this._rgb);return t&&(t.a=Jr(t.a)),t}set rgb(t){this._rgb=vN(t)}rgbString(){return this._valid?_B(this._rgb):void 0}hexString(){return this._valid?dB(this._rgb):void 0}hslString(){return this._valid?bB(this._rgb):void 0}mix(t,s){if(t){const n=this.rgb,i=t.rgb;let o;const c=s===o?.5:s,d=2*c-1,h=n.a-i.a,f=((d*h===-1?d:(d+h)/(1+d*h))+1)/2;o=1-f,n.r=255&f*n.r+o*i.r+.5,n.g=255&f*n.g+o*i.g+.5,n.b=255&f*n.b+o*i.b+.5,n.a=c*n.a+(1-c)*i.a,this.rgb=n}return this}interpolate(t,s){return t&&(this._rgb=TB(this._rgb,t._rgb,s)),this}clone(){return new lu(this.rgb)}alpha(t){return this._rgb.a=Vi(t),this}clearer(t){const s=this._rgb;return s.a*=1-t,this}greyscale(){const t=this._rgb,s=Tu(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=s,this}opaquer(t){const s=this._rgb;return s.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return ih(this._rgb,2,t),this}darken(t){return ih(this._rgb,2,-t),this}saturate(t){return ih(this._rgb,1,t),this}desaturate(t){return ih(this._rgb,1,-t),this}rotate(t){return yB(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Yr(){}const CB=(()=>{let e=0;return()=>e++})();function Os(e){return e==null}function fn(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function as(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Ma(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function lr(e,t){return Ma(e)?e:t}function us(e,t){return typeof e=="undefined"?t:e}const kB=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Ns(e,t,s){if(e&&typeof e.call=="function")return e.apply(s,t)}function ds(e,t,s,n){let i,o,c;if(fn(e))for(o=e.length,i=0;i<o;i++)t.call(s,e[i],i);else if(as(e))for(c=Object.keys(e),o=c.length,i=0;i<o;i++)t.call(s,e[c[i]],c[i])}function Zh(e,t){let s,n,i,o;if(!e||!t||e.length!==t.length)return!1;for(s=0,n=e.length;s<n;++s)if(i=e[s],o=t[s],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function Jh(e){if(fn(e))return e.map(Jh);if(as(e)){const t=Object.create(null),s=Object.keys(e),n=s.length;let i=0;for(;i<n;++i)t[s[i]]=Jh(e[s[i]]);return t}return e}function RS(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function EB(e,t,s,n){if(!RS(e))return;const i=t[e],o=s[e];as(i)&&as(o)?cu(i,o,n):t[e]=Jh(o)}function cu(e,t,s){const n=fn(t)?t:[t],i=n.length;if(!as(e))return e;s=s||{};const o=s.merger||EB;let c;for(let d=0;d<i;++d){if(c=n[d],!as(c))continue;const h=Object.keys(c);for(let f=0,p=h.length;f<p;++f)o(h[f],e,c,s)}return e}function Gd(e,t){return cu(e,t,{merger:DB})}function DB(e,t,s){if(!RS(e))return;const n=t[e],i=s[e];as(n)&&as(i)?Gd(n,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Jh(i))}const wN={"":e=>e,x:e=>e.x,y:e=>e.y};function AB(e){const t=e.split("."),s=[];let n="";for(const i of t)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}function OB(e){const t=AB(e);return s=>{for(const n of t){if(n==="")break;s=s&&s[n]}return s}}function em(e,t){return(wN[t]||(wN[t]=OB(t)))(e)}function Py(e){return e.charAt(0).toUpperCase()+e.slice(1)}const tm=e=>typeof e!="undefined",Zi=e=>typeof e=="function",jN=(e,t)=>{if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0};function RB(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const _s=Math.PI,Ln=2*_s,sm=Number.POSITIVE_INFINITY,MB=_s/180,bn=_s/2,Oo=_s/4,NN=_s*2/3,MS=Math.log10,nm=Math.sign;function Lh(e,t,s){return Math.abs(e-t)<s}function _N(e){const t=Math.round(e);e=Lh(e,t,e/1e3)?t:e;const s=Math.pow(10,Math.floor(MS(e))),n=e/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function PB(e){const t=[],s=Math.sqrt(e);let n;for(n=1;n<s;n++)e%n===0&&(t.push(n),t.push(e/n));return s===(s|0)&&t.push(s),t.sort((i,o)=>i-o).pop(),t}function LB(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function am(e){return!LB(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function BB(e,t){const s=Math.round(e);return s-t<=e&&s+t>=e}function FB(e,t,s){let n,i,o;for(n=0,i=e.length;n<i;n++)o=e[n][s],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Io(e){return e*(_s/180)}function UB(e){return e*(180/_s)}function TN(e){if(!Ma(e))return;let t=1,s=0;for(;Math.round(e*t)/t!==e;)t*=10,s++;return s}function PS(e,t){const s=t.x-e.x,n=t.y-e.y,i=Math.sqrt(s*s+n*n);let o=Math.atan2(n,s);return o<-.5*_s&&(o+=Ln),{angle:o,distance:i}}function zB(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function mr(e){return(e%Ln+Ln)%Ln}function LS(e,t,s,n){const i=mr(e),o=mr(t),c=mr(s),d=mr(o-i),h=mr(c-i),f=mr(i-o),p=mr(i-c);return i===o||i===c||n&&o===c||d>h&&f<p}function Qn(e,t,s){return Math.max(t,Math.min(s,e))}function HB(e){return Qn(e,-32768,32767)}function Vo(e,t,s,n=1e-6){return e>=Math.min(t,s)-n&&e<=Math.max(t,s)+n}function Ly(e,t,s){s=s||(c=>e[c]<t);let n=e.length-1,i=0,o;for(;n-i>1;)o=i+n>>1,s(o)?i=o:n=o;return{lo:i,hi:n}}const y0=(e,t,s,n)=>Ly(e,s,n?i=>{const o=e[i][t];return o<s||o===s&&e[i+1][t]===s}:i=>e[i][t]<s),$B=(e,t,s)=>Ly(e,s,n=>e[n][t]>=s);function IB(e,t,s){let n=0,i=e.length;for(;n<i&&e[n]<t;)n++;for(;i>n&&e[i-1]>s;)i--;return n>0||i<e.length?e.slice(n,i):e}const BS=["push","pop","shift","splice","unshift"];function VB(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),BS.forEach(s=>{const n="_onData"+Py(s),i=e[s];Object.defineProperty(e,s,{configurable:!0,enumerable:!1,value(...o){const c=i.apply(this,o);return e._chartjs.listeners.forEach(d=>{typeof d[n]=="function"&&d[n](...o)}),c}})})}function SN(e,t){const s=e._chartjs;if(!s)return;const n=s.listeners,i=n.indexOf(t);i!==-1&&n.splice(i,1),!(n.length>0)&&(BS.forEach(o=>{delete e[o]}),delete e._chartjs)}function qB(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const FS=function(){return typeof window=="undefined"?function(e){return e()}:window.requestAnimationFrame}();function US(e,t){let s=[],n=!1;return function(...i){s=i,n||(n=!0,FS.call(window,()=>{n=!1,e.apply(t,s)}))}}function WB(e,t){let s;return function(...n){return t?(clearTimeout(s),s=setTimeout(e,t,n)):e.apply(this,n),t}}const By=e=>e==="start"?"left":e==="end"?"right":"center",kn=(e,t,s)=>e==="start"?t:e==="end"?s:(t+s)/2,YB=(e,t,s,n)=>e===(n?"left":"right")?s:e==="center"?(t+s)/2:t,oh=e=>e===0||e===1,CN=(e,t,s)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Ln/s)),kN=(e,t,s)=>Math.pow(2,-10*e)*Math.sin((e-t)*Ln/s)+1,Xd={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*bn)+1,easeOutSine:e=>Math.sin(e*bn),easeInOutSine:e=>-.5*(Math.cos(_s*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>oh(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>oh(e)?e:CN(e,.075,.3),easeOutElastic:e=>oh(e)?e:kN(e,.075,.3),easeInOutElastic(e){return oh(e)?e:e<.5?.5*CN(e*2,.1125,.45):.5+.5*kN(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Xd.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Xd.easeInBounce(e*2)*.5:Xd.easeOutBounce(e*2-1)*.5+.5};function zS(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function EN(e){return zS(e)?e:new lu(e)}function xx(e){return zS(e)?e:new lu(e).saturate(.5).darken(.1).hexString()}const GB=["x","y","borderWidth","radius","tension"],XB=["color","borderColor","backgroundColor"];function KB(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:XB},numbers:{type:"number",properties:GB}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function QB(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const DN=new Map;function ZB(e,t){t=t||{};const s=e+JSON.stringify(t);let n=DN.get(s);return n||(n=new Intl.NumberFormat(e,t),DN.set(s,n)),n}function HS(e,t,s){return ZB(t,s).format(e)}const JB={values(e){return fn(e)?e:""+e},numeric(e,t,s){if(e===0)return"0";const n=this.chart.options.locale;let i,o=e;if(s.length>1){const f=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(f<1e-4||f>1e15)&&(i="scientific"),o=eF(e,s)}const c=MS(Math.abs(o)),d=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),h={notation:i,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(h,this.options.ticks.format),HS(e,n,h)}};function eF(e,t){let s=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(s)>=1&&e!==Math.floor(e)&&(s=e-Math.floor(e)),s}var $S={formatters:JB};function tF(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,s)=>s.lineWidth,tickColor:(t,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:$S.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Qo=Object.create(null),b0=Object.create(null);function Kd(e,t){if(!t)return e;const s=t.split(".");for(let n=0,i=s.length;n<i;++n){const o=s[n];e=e[o]||(e[o]=Object.create(null))}return e}function yx(e,t,s){return typeof t=="string"?cu(Kd(e,t),s):cu(Kd(e,""),t)}class sF{constructor(t,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>xx(i.backgroundColor),this.hoverBorderColor=(n,i)=>xx(i.borderColor),this.hoverColor=(n,i)=>xx(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(s)}set(t,s){return yx(this,t,s)}get(t){return Kd(this,t)}describe(t,s){return yx(b0,t,s)}override(t,s){return yx(Qo,t,s)}route(t,s,n,i){const o=Kd(this,t),c=Kd(this,n),d="_"+s;Object.defineProperties(o,{[d]:{value:o[s],writable:!0},[s]:{enumerable:!0,get(){const h=this[d],f=c[i];return as(h)?Object.assign({},f,h):us(h,f)},set(h){this[d]=h}}})}apply(t){t.forEach(s=>s(this))}}var Is=new sF({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[KB,QB,tF]);function nF(e){return!e||Os(e.size)||Os(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function AN(e,t,s,n,i){let o=t[i];return o||(o=t[i]=e.measureText(i).width,s.push(i)),o>n&&(n=o),n}function Ro(e,t,s){const n=e.currentDevicePixelRatio,i=s!==0?Math.max(s/2,.5):0;return Math.round((t-i)*n)/n+i}function ON(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function RN(e,t,s,n){IS(e,t,s,n,null)}function IS(e,t,s,n,i){let o,c,d,h,f,p,g,x;const b=t.pointStyle,j=t.rotation,v=t.radius;let _=(j||0)*MB;if(b&&typeof b=="object"&&(o=b.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(s,n),e.rotate(_),e.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),e.restore();return}if(!(isNaN(v)||v<=0)){switch(e.beginPath(),b){default:i?e.ellipse(s,n,i/2,v,0,0,Ln):e.arc(s,n,v,0,Ln),e.closePath();break;case"triangle":p=i?i/2:v,e.moveTo(s+Math.sin(_)*p,n-Math.cos(_)*v),_+=NN,e.lineTo(s+Math.sin(_)*p,n-Math.cos(_)*v),_+=NN,e.lineTo(s+Math.sin(_)*p,n-Math.cos(_)*v),e.closePath();break;case"rectRounded":f=v*.516,h=v-f,c=Math.cos(_+Oo)*h,g=Math.cos(_+Oo)*(i?i/2-f:h),d=Math.sin(_+Oo)*h,x=Math.sin(_+Oo)*(i?i/2-f:h),e.arc(s-g,n-d,f,_-_s,_-bn),e.arc(s+x,n-c,f,_-bn,_),e.arc(s+g,n+d,f,_,_+bn),e.arc(s-x,n+c,f,_+bn,_+_s),e.closePath();break;case"rect":if(!j){h=Math.SQRT1_2*v,p=i?i/2:h,e.rect(s-p,n-h,2*p,2*h);break}_+=Oo;case"rectRot":g=Math.cos(_)*(i?i/2:v),c=Math.cos(_)*v,d=Math.sin(_)*v,x=Math.sin(_)*(i?i/2:v),e.moveTo(s-g,n-d),e.lineTo(s+x,n-c),e.lineTo(s+g,n+d),e.lineTo(s-x,n+c),e.closePath();break;case"crossRot":_+=Oo;case"cross":g=Math.cos(_)*(i?i/2:v),c=Math.cos(_)*v,d=Math.sin(_)*v,x=Math.sin(_)*(i?i/2:v),e.moveTo(s-g,n-d),e.lineTo(s+g,n+d),e.moveTo(s+x,n-c),e.lineTo(s-x,n+c);break;case"star":g=Math.cos(_)*(i?i/2:v),c=Math.cos(_)*v,d=Math.sin(_)*v,x=Math.sin(_)*(i?i/2:v),e.moveTo(s-g,n-d),e.lineTo(s+g,n+d),e.moveTo(s+x,n-c),e.lineTo(s-x,n+c),_+=Oo,g=Math.cos(_)*(i?i/2:v),c=Math.cos(_)*v,d=Math.sin(_)*v,x=Math.sin(_)*(i?i/2:v),e.moveTo(s-g,n-d),e.lineTo(s+g,n+d),e.moveTo(s+x,n-c),e.lineTo(s-x,n+c);break;case"line":c=i?i/2:Math.cos(_)*v,d=Math.sin(_)*v,e.moveTo(s-c,n-d),e.lineTo(s+c,n+d);break;case"dash":e.moveTo(s,n),e.lineTo(s+Math.cos(_)*(i?i/2:v),n+Math.sin(_)*v);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function VS(e,t,s){return s=s||.5,!t||e&&e.x>t.left-s&&e.x<t.right+s&&e.y>t.top-s&&e.y<t.bottom+s}function Fy(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Uy(e){e.restore()}function aF(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Os(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function rF(e,t,s,n,i){if(i.strikethrough||i.underline){const o=e.measureText(n),c=t-o.actualBoundingBoxLeft,d=t+o.actualBoundingBoxRight,h=s-o.actualBoundingBoxAscent,f=s+o.actualBoundingBoxDescent,p=i.strikethrough?(h+f)/2:f;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(c,p),e.lineTo(d,p),e.stroke()}}function iF(e,t){const s=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=s}function du(e,t,s,n,i,o={}){const c=fn(t)?t:[t],d=o.strokeWidth>0&&o.strokeColor!=="";let h,f;for(e.save(),e.font=i.string,aF(e,o),h=0;h<c.length;++h)f=c[h],o.backdrop&&iF(e,o.backdrop),d&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),Os(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(f,s,n,o.maxWidth)),e.fillText(f,s,n,o.maxWidth),rF(e,s,n,f,o),n+=Number(i.lineHeight);e.restore()}function rm(e,t){const{x:s,y:n,w:i,h:o,radius:c}=t;e.arc(s+c.topLeft,n+c.topLeft,c.topLeft,1.5*_s,_s,!0),e.lineTo(s,n+o-c.bottomLeft),e.arc(s+c.bottomLeft,n+o-c.bottomLeft,c.bottomLeft,_s,bn,!0),e.lineTo(s+i-c.bottomRight,n+o),e.arc(s+i-c.bottomRight,n+o-c.bottomRight,c.bottomRight,bn,0,!0),e.lineTo(s+i,n+c.topRight),e.arc(s+i-c.topRight,n+c.topRight,c.topRight,0,-bn,!0),e.lineTo(s+c.topLeft,n)}const oF=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,lF=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function cF(e,t){const s=(""+e).match(oF);if(!s||s[1]==="normal")return t*1.2;switch(e=+s[2],s[3]){case"px":return e;case"%":e/=100;break}return t*e}const dF=e=>+e||0;function zy(e,t){const s={},n=as(t),i=n?Object.keys(t):t,o=as(e)?n?c=>us(e[c],e[t[c]]):c=>e[c]:()=>e;for(const c of i)s[c]=dF(o(c));return s}function qS(e){return zy(e,{top:"y",right:"x",bottom:"y",left:"x"})}function oc(e){return zy(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Pa(e){const t=qS(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Dn(e,t){e=e||{},t=t||Is.font;let s=us(e.size,t.size);typeof s=="string"&&(s=parseInt(s,10));let n=us(e.style,t.style);n&&!(""+n).match(lF)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:us(e.family,t.family),lineHeight:cF(us(e.lineHeight,t.lineHeight),s),size:s,style:n,weight:us(e.weight,t.weight),string:""};return i.string=nF(i),i}function lh(e,t,s,n){let i,o,c;for(i=0,o=e.length;i<o;++i)if(c=e[i],c!==void 0&&c!==void 0)return c}function uF(e,t,s){const{min:n,max:i}=e,o=kB(t,(i-n)/2),c=(d,h)=>s&&d===0?0:d+h;return{min:c(n,-Math.abs(o)),max:c(i,o)}}function Nc(e,t){return Object.assign(Object.create(e),t)}function Hy(e,t=[""],s,n,i=()=>e[0]){const o=s||e;typeof n=="undefined"&&(n=XS("_fallback",e));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:n,_getTarget:i,override:d=>Hy([d,...e],t,o,n)};return new Proxy(c,{deleteProperty(d,h){return delete d[h],delete d._keys,delete e[0][h],!0},get(d,h){return YS(d,h,()=>bF(h,t,e,d))},getOwnPropertyDescriptor(d,h){return Reflect.getOwnPropertyDescriptor(d._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(d,h){return PN(d).includes(h)},ownKeys(d){return PN(d)},set(d,h,f){const p=d._storage||(d._storage=i());return d[h]=p[h]=f,delete d._keys,!0}})}function fc(e,t,s,n){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:s,_stack:new Set,_descriptors:WS(e,n),setContext:o=>fc(e,o,s,n),override:o=>fc(e.override(o),t,s,n)};return new Proxy(i,{deleteProperty(o,c){return delete o[c],delete e[c],!0},get(o,c,d){return YS(o,c,()=>hF(o,c,d))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(e,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,c)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,c){return Reflect.has(e,c)},ownKeys(){return Reflect.ownKeys(e)},set(o,c,d){return e[c]=d,delete o[c],!0}})}function WS(e,t={scriptable:!0,indexable:!0}){const{_scriptable:s=t.scriptable,_indexable:n=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:s,indexable:n,isScriptable:Zi(s)?s:()=>s,isIndexable:Zi(n)?n:()=>n}}const fF=(e,t)=>e?e+Py(t):t,$y=(e,t)=>as(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function YS(e,t,s){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const n=s();return e[t]=n,n}function hF(e,t,s){const{_proxy:n,_context:i,_subProxy:o,_descriptors:c}=e;let d=n[t];return Zi(d)&&c.isScriptable(t)&&(d=mF(t,d,e,s)),fn(d)&&d.length&&(d=pF(t,d,e,c.isIndexable)),$y(t,d)&&(d=fc(d,i,o&&o[t],c)),d}function mF(e,t,s,n){const{_proxy:i,_context:o,_subProxy:c,_stack:d}=s;if(d.has(e))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+e);d.add(e);let h=t(o,c||n);return d.delete(e),$y(e,h)&&(h=Iy(i._scopes,i,e,h)),h}function pF(e,t,s,n){const{_proxy:i,_context:o,_subProxy:c,_descriptors:d}=s;if(typeof o.index!="undefined"&&n(e))return t[o.index%t.length];if(as(t[0])){const h=t,f=i._scopes.filter(p=>p!==h);t=[];for(const p of h){const g=Iy(f,i,e,p);t.push(fc(g,o,c&&c[e],d))}}return t}function GS(e,t,s){return Zi(e)?e(t,s):e}const gF=(e,t)=>e===!0?t:typeof e=="string"?em(t,e):void 0;function xF(e,t,s,n,i){for(const o of t){const c=gF(s,o);if(c){e.add(c);const d=GS(c._fallback,s,i);if(typeof d!="undefined"&&d!==s&&d!==n)return d}else if(c===!1&&typeof n!="undefined"&&s!==n)return null}return!1}function Iy(e,t,s,n){const i=t._rootScopes,o=GS(t._fallback,s,n),c=[...e,...i],d=new Set;d.add(n);let h=MN(d,c,s,o||s,n);return h===null||typeof o!="undefined"&&o!==s&&(h=MN(d,c,o,h,n),h===null)?!1:Hy(Array.from(d),[""],i,o,()=>yF(t,s,n))}function MN(e,t,s,n,i){for(;s;)s=xF(e,t,s,n,i);return s}function yF(e,t,s){const n=e._getTarget();t in n||(n[t]={});const i=n[t];return fn(i)&&as(s)?s:i||{}}function bF(e,t,s,n){let i;for(const o of t)if(i=XS(fF(o,e),s),typeof i!="undefined")return $y(e,i)?Iy(s,n,e,i):i}function XS(e,t){for(const s of t){if(!s)continue;const n=s[e];if(typeof n!="undefined")return n}}function PN(e){let t=e._keys;return t||(t=e._keys=vF(e._scopes)),t}function vF(e){const t=new Set;for(const s of e)for(const n of Object.keys(s).filter(i=>!i.startsWith("_")))t.add(n);return Array.from(t)}function Vy(){return typeof window!="undefined"&&typeof document!="undefined"}function qy(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function im(e,t,s){let n;return typeof e=="string"?(n=parseInt(e,10),e.indexOf("%")!==-1&&(n=n/100*t.parentNode[s])):n=e,n}const Dm=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function wF(e,t){return Dm(e).getPropertyValue(t)}const jF=["top","right","bottom","left"];function Wo(e,t,s){const n={};s=s?"-"+s:"";for(let i=0;i<4;i++){const o=jF[i];n[o]=parseFloat(e[t+"-"+o+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const NF=(e,t,s)=>(e>0||t>0)&&(!s||!s.shadowRoot);function _F(e,t){const s=e.touches,n=s&&s.length?s[0]:e,{offsetX:i,offsetY:o}=n;let c=!1,d,h;if(NF(i,o,e.target))d=i,h=o;else{const f=t.getBoundingClientRect();d=n.clientX-f.left,h=n.clientY-f.top,c=!0}return{x:d,y:h,box:c}}function Lo(e,t){if("native"in e)return e;const{canvas:s,currentDevicePixelRatio:n}=t,i=Dm(s),o=i.boxSizing==="border-box",c=Wo(i,"padding"),d=Wo(i,"border","width"),{x:h,y:f,box:p}=_F(e,s),g=c.left+(p&&d.left),x=c.top+(p&&d.top);let{width:b,height:j}=t;return o&&(b-=c.width+d.width,j-=c.height+d.height),{x:Math.round((h-g)/b*s.width/n),y:Math.round((f-x)/j*s.height/n)}}function TF(e,t,s){let n,i;if(t===void 0||s===void 0){const o=e&&qy(e);if(!o)t=e.clientWidth,s=e.clientHeight;else{const c=o.getBoundingClientRect(),d=Dm(o),h=Wo(d,"border","width"),f=Wo(d,"padding");t=c.width-f.width-h.width,s=c.height-f.height-h.height,n=im(d.maxWidth,o,"clientWidth"),i=im(d.maxHeight,o,"clientHeight")}}return{width:t,height:s,maxWidth:n||sm,maxHeight:i||sm}}const ch=e=>Math.round(e*10)/10;function SF(e,t,s,n){const i=Dm(e),o=Wo(i,"margin"),c=im(i.maxWidth,e,"clientWidth")||sm,d=im(i.maxHeight,e,"clientHeight")||sm,h=TF(e,t,s);let{width:f,height:p}=h;if(i.boxSizing==="content-box"){const x=Wo(i,"border","width"),b=Wo(i,"padding");f-=b.width+x.width,p-=b.height+x.height}return f=Math.max(0,f-o.width),p=Math.max(0,n?f/n:p-o.height),f=ch(Math.min(f,c,h.maxWidth)),p=ch(Math.min(p,d,h.maxHeight)),f&&!p&&(p=ch(f/2)),(t!==void 0||s!==void 0)&&n&&h.height&&p>h.height&&(p=h.height,f=ch(Math.floor(p*n))),{width:f,height:p}}function LN(e,t,s){const n=t||1,i=Math.floor(e.height*n),o=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const c=e.canvas;return c.style&&(s||!c.style.height&&!c.style.width)&&(c.style.height=`${e.height}px`,c.style.width=`${e.width}px`),e.currentDevicePixelRatio!==n||c.height!==i||c.width!==o?(e.currentDevicePixelRatio=n,c.height=i,c.width=o,e.ctx.setTransform(n,0,0,n,0,0),!0):!1}const CF=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Vy()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(t){}return e}();function BN(e,t){const s=wF(e,t),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}const kF=function(e,t){return{x(s){return e+e+t-s},setWidth(s){t=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,n){return s-n},leftForLtr(s,n){return s-n}}},EF=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function lc(e,t,s){return e?kF(t,s):EF()}function KS(e,t){let s,n;(t==="ltr"||t==="rtl")&&(s=e.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",t,"important"),e.prevTextDirection=n)}function QS(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function dh(e,t,s){return e.options.clip?e[s]:t[s]}function DF(e,t){const{xScale:s,yScale:n}=e;return s&&n?{left:dh(s,t,"left"),right:dh(s,t,"right"),top:dh(n,t,"top"),bottom:dh(n,t,"bottom")}:t}function AF(e,t){const s=t._clip;if(s.disabled)return!1;const n=DF(t,e.chartArea);return{left:s.left===!1?0:n.left-(s.left===!0?0:s.left),right:s.right===!1?e.width:n.right+(s.right===!0?0:s.right),top:s.top===!1?0:n.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?e.height:n.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class OF{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,s,n,i){const o=s.listeners[i],c=s.duration;o.forEach(d=>d({chart:t,initial:s.initial,numSteps:c,currentStep:Math.min(n-s.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=FS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let s=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const o=n.items;let c=o.length-1,d=!1,h;for(;c>=0;--c)h=o[c],h._active?(h._total>n.duration&&(n.duration=h._total),h.tick(t),d=!0):(o[c]=o[o.length-1],o.pop());d&&(i.draw(),this._notify(i,n,t,"progress")),o.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),s+=o.length}),this._lastDate=t,s===0&&(this._running=!1)}_getAnims(t){const s=this._charts;let n=s.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(t,n)),n}listen(t,s,n){this._getAnims(t).listeners[s].push(n)}add(t,s){!s||!s.length||this._getAnims(t).items.push(...s)}has(t){return this._getAnims(t).items.length>0}start(t){const s=this._charts.get(t);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const s=this._charts.get(t);return!(!s||!s.running||!s.items.length)}stop(t){const s=this._charts.get(t);if(!s||!s.items.length)return;const n=s.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();s.items=[],this._notify(t,s,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Kr=new OF;const FN="transparent",RF={boolean(e,t,s){return s>.5?t:e},color(e,t,s){const n=EN(e||FN),i=n.valid&&EN(t||FN);return i&&i.valid?i.mix(n,s).hexString():t},number(e,t,s){return e+(t-e)*s}};class MF{constructor(t,s,n,i){const o=s[n];i=lh([t.to,i,o,t.from]);const c=lh([t.from,o,i]);this._active=!0,this._fn=t.fn||RF[t.type||typeof c],this._easing=Xd[t.easing]||Xd.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=s,this._prop=n,this._from=c,this._to=i,this._promises=void 0}active(){return this._active}update(t,s,n){if(this._active){this._notify(!1);const i=this._target[this._prop],o=n-this._start,c=this._duration-o;this._start=n,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=lh([t.to,s,i,t.from]),this._from=lh([t.from,i,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const s=t-this._start,n=this._duration,i=this._prop,o=this._from,c=this._loop,d=this._to;let h;if(this._active=o!==d&&(c||s<n),!this._active){this._target[i]=d,this._notify(!0);return}if(s<0){this._target[i]=o;return}h=s/n%2,h=c&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[i]=this._fn(o,d,h)}wait(){const t=this._promises||(this._promises=[]);return new Promise((s,n)=>{t.push({res:s,rej:n})})}_notify(t){const s=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][s]()}}class ZS{constructor(t,s){this._chart=t,this._properties=new Map,this.configure(s)}configure(t){if(!as(t))return;const s=Object.keys(Is.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const o=t[i];if(!as(o))return;const c={};for(const d of s)c[d]=o[d];(fn(o.properties)&&o.properties||[i]).forEach(d=>{(d===i||!n.has(d))&&n.set(d,c)})})}_animateOptions(t,s){const n=s.options,i=LF(t,n);if(!i)return[];const o=this._createAnimations(i,n);return n.$shared&&PF(t.options.$animations,n).then(()=>{t.options=n},()=>{}),o}_createAnimations(t,s){const n=this._properties,i=[],o=t.$animations||(t.$animations={}),c=Object.keys(s),d=Date.now();let h;for(h=c.length-1;h>=0;--h){const f=c[h];if(f.charAt(0)==="$")continue;if(f==="options"){i.push(...this._animateOptions(t,s));continue}const p=s[f];let g=o[f];const x=n.get(f);if(g)if(x&&g.active()){g.update(x,p,d);continue}else g.cancel();if(!x||!x.duration){t[f]=p;continue}o[f]=g=new MF(x,t,f,p),i.push(g)}return i}update(t,s){if(this._properties.size===0){Object.assign(t,s);return}const n=this._createAnimations(t,s);if(n.length)return Kr.add(this._chart,n),!0}}function PF(e,t){const s=[],n=Object.keys(t);for(let i=0;i<n.length;i++){const o=e[n[i]];o&&o.active()&&s.push(o.wait())}return Promise.all(s)}function LF(e,t){if(!t)return;let s=e.options;if(!s){e.options=t;return}return s.$shared&&(e.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function UN(e,t){const s=e&&e.options||{},n=s.reverse,i=s.min===void 0?t:0,o=s.max===void 0?t:0;return{start:n?o:i,end:n?i:o}}function BF(e,t,s){if(s===!1)return!1;const n=UN(e,s),i=UN(t,s);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function FF(e){let t,s,n,i;return as(e)?(t=e.top,s=e.right,n=e.bottom,i=e.left):t=s=n=i=e,{top:t,right:s,bottom:n,left:i,disabled:e===!1}}function JS(e,t){const s=[],n=e._getSortedDatasetMetas(t);let i,o;for(i=0,o=n.length;i<o;++i)s.push(n[i].index);return s}function zN(e,t,s,n={}){const i=e.keys,o=n.mode==="single";let c,d,h,f;if(t===null)return;let p=!1;for(c=0,d=i.length;c<d;++c){if(h=+i[c],h===s){if(p=!0,n.all)continue;break}f=e.values[h],Ma(f)&&(o||t===0||nm(t)===nm(f))&&(t+=f)}return!p&&!n.all?0:t}function UF(e,t){const{iScale:s,vScale:n}=t,i=s.axis==="x"?"x":"y",o=n.axis==="x"?"x":"y",c=Object.keys(e),d=new Array(c.length);let h,f,p;for(h=0,f=c.length;h<f;++h)p=c[h],d[h]={[i]:p,[o]:e[p]};return d}function bx(e,t){const s=e&&e.options.stacked;return s||s===void 0&&t.stack!==void 0}function zF(e,t,s){return`${e.id}.${t.id}.${s.stack||s.type}`}function HF(e){const{min:t,max:s,minDefined:n,maxDefined:i}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:i?s:Number.POSITIVE_INFINITY}}function $F(e,t,s){const n=e[t]||(e[t]={});return n[s]||(n[s]={})}function HN(e,t,s,n){for(const i of t.getMatchingVisibleMetas(n).reverse()){const o=e[i.index];if(s&&o>0||!s&&o<0)return i.index}return null}function $N(e,t){const{chart:s,_cachedMeta:n}=e,i=s._stacks||(s._stacks={}),{iScale:o,vScale:c,index:d}=n,h=o.axis,f=c.axis,p=zF(o,c,n),g=t.length;let x;for(let b=0;b<g;++b){const j=t[b],{[h]:v,[f]:_}=j,T=j._stacks||(j._stacks={});x=T[f]=$F(i,p,v),x[d]=_,x._top=HN(x,c,!0,n.type),x._bottom=HN(x,c,!1,n.type);const A=x._visualValues||(x._visualValues={});A[d]=_}}function vx(e,t){const s=e.scales;return Object.keys(s).filter(n=>s[n].axis===t).shift()}function IF(e,t){return Nc(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function VF(e,t,s){return Nc(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:s,index:t,mode:"default",type:"data"})}function Dd(e,t){const s=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const i of t){const o=i._stacks;if(!o||o[n]===void 0||o[n][s]===void 0)return;delete o[n][s],o[n]._visualValues!==void 0&&o[n]._visualValues[s]!==void 0&&delete o[n]._visualValues[s]}}}const wx=e=>e==="reset"||e==="none",IN=(e,t)=>t?e:Object.assign({},e),qF=(e,t,s)=>e&&!t.hidden&&t._stacked&&{keys:JS(s,!0),values:null};class Bh{constructor(t,s){this.chart=t,this._ctx=t.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=bx(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Dd(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,s=this._cachedMeta,n=this.getDataset(),i=(g,x,b,j)=>g==="x"?x:g==="r"?j:b,o=s.xAxisID=us(n.xAxisID,vx(t,"x")),c=s.yAxisID=us(n.yAxisID,vx(t,"y")),d=s.rAxisID=us(n.rAxisID,vx(t,"r")),h=s.indexAxis,f=s.iAxisID=i(h,o,c,d),p=s.vAxisID=i(h,c,o,d);s.xScale=this.getScaleForId(o),s.yScale=this.getScaleForId(c),s.rScale=this.getScaleForId(d),s.iScale=this.getScaleForId(f),s.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const s=this._cachedMeta;return t===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&SN(this._data,this),t._stacked&&Dd(t)}_dataCheck(){const t=this.getDataset(),s=t.data||(t.data=[]),n=this._data;if(as(s)){const i=this._cachedMeta;this._data=UF(s,i)}else if(n!==s){if(n){SN(n,this);const i=this._cachedMeta;Dd(i),i._parsed=[]}s&&Object.isExtensible(s)&&VB(s,this),this._syncList=[],this._data=s}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const s=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const o=s._stacked;s._stacked=bx(s.vScale,s),s.stack!==n.stack&&(i=!0,Dd(s),s.stack=n.stack),this._resyncElements(t),(i||o!==s._stacked)&&($N(this,s._parsed),s._stacked=bx(s.vScale,s))}configure(){const t=this.chart.config,s=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),s,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,s){const{_cachedMeta:n,_data:i}=this,{iScale:o,_stacked:c}=n,d=o.axis;let h=t===0&&s===i.length?!0:n._sorted,f=t>0&&n._parsed[t-1],p,g,x;if(this._parsing===!1)n._parsed=i,n._sorted=!0,x=i;else{fn(i[t])?x=this.parseArrayData(n,i,t,s):as(i[t])?x=this.parseObjectData(n,i,t,s):x=this.parsePrimitiveData(n,i,t,s);const b=()=>g[d]===null||f&&g[d]<f[d];for(p=0;p<s;++p)n._parsed[p+t]=g=x[p],h&&(b()&&(h=!1),f=g);n._sorted=h}c&&$N(this,x)}parsePrimitiveData(t,s,n,i){const{iScale:o,vScale:c}=t,d=o.axis,h=c.axis,f=o.getLabels(),p=o===c,g=new Array(i);let x,b,j;for(x=0,b=i;x<b;++x)j=x+n,g[x]={[d]:p||o.parse(f[j],j),[h]:c.parse(s[j],j)};return g}parseArrayData(t,s,n,i){const{xScale:o,yScale:c}=t,d=new Array(i);let h,f,p,g;for(h=0,f=i;h<f;++h)p=h+n,g=s[p],d[h]={x:o.parse(g[0],p),y:c.parse(g[1],p)};return d}parseObjectData(t,s,n,i){const{xScale:o,yScale:c}=t,{xAxisKey:d="x",yAxisKey:h="y"}=this._parsing,f=new Array(i);let p,g,x,b;for(p=0,g=i;p<g;++p)x=p+n,b=s[x],f[p]={x:o.parse(em(b,d),x),y:c.parse(em(b,h),x)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,s,n){const i=this.chart,o=this._cachedMeta,c=s[t.axis],d={keys:JS(i,!0),values:s._stacks[t.axis]._visualValues};return zN(d,c,o.index,{mode:n})}updateRangeFromParsed(t,s,n,i){const o=n[s.axis];let c=o===null?NaN:o;const d=i&&n._stacks[s.axis];i&&d&&(i.values=d,c=zN(i,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,s){const n=this._cachedMeta,i=n._parsed,o=n._sorted&&t===n.iScale,c=i.length,d=this._getOtherScale(t),h=qF(s,n,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:g}=HF(d);let x,b;function j(){b=i[x];const v=b[d.axis];return!Ma(b[t.axis])||p>v||g<v}for(x=0;x<c&&!(!j()&&(this.updateRangeFromParsed(f,t,b,h),o));++x);if(o){for(x=c-1;x>=0;--x)if(!j()){this.updateRangeFromParsed(f,t,b,h);break}}return f}getAllParsedValues(t){const s=this._cachedMeta._parsed,n=[];let i,o,c;for(i=0,o=s.length;i<o;++i)c=s[i][t.axis],Ma(c)&&n.push(c);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const s=this._cachedMeta,n=s.iScale,i=s.vScale,o=this.getParsed(t);return{label:n?""+n.getLabelForValue(o[n.axis]):"",value:i?""+i.getLabelForValue(o[i.axis]):""}}_update(t){const s=this._cachedMeta;this.update(t||"default"),s._clip=FF(us(this.options.clip,BF(s.xScale,s.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,s=this.chart,n=this._cachedMeta,i=n.data||[],o=s.chartArea,c=[],d=this._drawStart||0,h=this._drawCount||i.length-d,f=this.options.drawActiveElementsOnTop;let p;for(n.dataset&&n.dataset.draw(t,o,d,h),p=d;p<d+h;++p){const g=i[p];g.hidden||(g.active&&f?c.push(g):g.draw(t,o))}for(p=0;p<c.length;++p)c[p].draw(t,o)}getStyle(t,s){const n=s?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,s,n){const i=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=VF(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=i.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=IF(this.chart.getContext(),this.index)),o.dataset=i,o.index=o.datasetIndex=this.index;return o.active=!!s,o.mode=n,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,s){return this._resolveElementOptions(this.dataElementType.id,s,t)}_resolveElementOptions(t,s="default",n){const i=s==="active",o=this._cachedDataOpts,c=t+"-"+s,d=o[c],h=this.enableOptionSharing&&tm(n);if(d)return IN(d,h);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,t),g=i?[`${t}Hover`,"hover",t,""]:[t,""],x=f.getOptionScopes(this.getDataset(),p),b=Object.keys(Is.elements[t]),j=()=>this.getContext(n,i,s),v=f.resolveNamedOptions(x,b,j,g);return v.$shared&&(v.$shared=h,o[c]=Object.freeze(IN(v,h))),v}_resolveAnimations(t,s,n){const i=this.chart,o=this._cachedDataOpts,c=`animation-${s}`,d=o[c];if(d)return d;let h;if(i.options.animation!==!1){const p=this.chart.config,g=p.datasetAnimationScopeKeys(this._type,s),x=p.getOptionScopes(this.getDataset(),g);h=p.createResolver(x,this.getContext(t,n,s))}const f=new ZS(i,h&&h.animations);return h&&h._cacheable&&(o[c]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,s){return!s||wx(t)||this.chart._animationsDisabled}_getSharedOptions(t,s){const n=this.resolveDataElementOptions(t,s),i=this._sharedOptions,o=this.getSharedOptions(n),c=this.includeOptions(s,o)||o!==i;return this.updateSharedOptions(o,s,n),{sharedOptions:o,includeOptions:c}}updateElement(t,s,n,i){wx(i)?Object.assign(t,n):this._resolveAnimations(s,i).update(t,n)}updateSharedOptions(t,s,n){t&&!wx(s)&&this._resolveAnimations(void 0,s).update(t,n)}_setStyle(t,s,n,i){t.active=i;const o=this.getStyle(s,i);this._resolveAnimations(s,n,i).update(t,{options:!i&&this.getSharedOptions(o)||o})}removeHoverStyle(t,s,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,s,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const s=this._data,n=this._cachedMeta.data;for(const[d,h,f]of this._syncList)this[d](h,f);this._syncList=[];const i=n.length,o=s.length,c=Math.min(o,i);c&&this.parse(0,c),o>i?this._insertElements(i,o-i,t):o<i&&this._removeElements(o,i-o)}_insertElements(t,s,n=!0){const i=this._cachedMeta,o=i.data,c=t+s;let d;const h=f=>{for(f.length+=s,d=f.length-1;d>=c;d--)f[d]=f[d-s]};for(h(o),d=t;d<c;++d)o[d]=new this.dataElementType;this._parsing&&h(i._parsed),this.parse(t,s),n&&this.updateElements(o,t,s,"reset")}updateElements(t,s,n,i){}_removeElements(t,s){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,s);n._stacked&&Dd(n,i)}n.data.splice(t,s)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[s,n,i]=t;this[s](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,s){s&&this._sync(["_removeElements",t,s]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}kt(Bh,"defaults",{}),kt(Bh,"datasetElementType",null),kt(Bh,"dataElementType",null);function Mo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Wy{constructor(t){kt(this,"options");this.options=t||{}}static override(t){Object.assign(Wy.prototype,t)}init(){}formats(){return Mo()}parse(){return Mo()}format(){return Mo()}add(){return Mo()}diff(){return Mo()}startOf(){return Mo()}endOf(){return Mo()}}var WF={_date:Wy};function YF(e,t,s,n){const{controller:i,data:o,_sorted:c}=e,d=i._cachedMeta.iScale,h=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(d&&t===d.axis&&t!=="r"&&c&&o.length){const f=d._reversePixels?$B:y0;if(n){if(i._sharedOptions){const p=o[0],g=typeof p.getRange=="function"&&p.getRange(t);if(g){const x=f(o,t,s-g),b=f(o,t,s+g);return{lo:x.lo,hi:b.hi}}}}else{const p=f(o,t,s);if(h){const{vScale:g}=i._cachedMeta,{_parsed:x}=e,b=x.slice(0,p.lo+1).reverse().findIndex(v=>!Os(v[g.axis]));p.lo-=Math.max(0,b);const j=x.slice(p.hi).findIndex(v=>!Os(v[g.axis]));p.hi+=Math.max(0,j)}return p}}return{lo:0,hi:o.length-1}}function Am(e,t,s,n,i){const o=e.getSortedVisibleDatasetMetas(),c=s[t];for(let d=0,h=o.length;d<h;++d){const{index:f,data:p}=o[d],{lo:g,hi:x}=YF(o[d],t,c,i);for(let b=g;b<=x;++b){const j=p[b];j.skip||n(j,f,b)}}}function GF(e){const t=e.indexOf("x")!==-1,s=e.indexOf("y")!==-1;return function(n,i){const o=t?Math.abs(n.x-i.x):0,c=s?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function jx(e,t,s,n,i){const o=[];return!i&&!e.isPointInArea(t)||Am(e,s,t,function(d,h,f){!i&&!VS(d,e.chartArea,0)||d.inRange(t.x,t.y,n)&&o.push({element:d,datasetIndex:h,index:f})},!0),o}function XF(e,t,s,n){let i=[];function o(c,d,h){const{startAngle:f,endAngle:p}=c.getProps(["startAngle","endAngle"],n),{angle:g}=PS(c,{x:t.x,y:t.y});LS(g,f,p)&&i.push({element:c,datasetIndex:d,index:h})}return Am(e,s,t,o),i}function KF(e,t,s,n,i,o){let c=[];const d=GF(s);let h=Number.POSITIVE_INFINITY;function f(p,g,x){const b=p.inRange(t.x,t.y,i);if(n&&!b)return;const j=p.getCenterPoint(i);if(!(!!o||e.isPointInArea(j))&&!b)return;const _=d(t,j);_<h?(c=[{element:p,datasetIndex:g,index:x}],h=_):_===h&&c.push({element:p,datasetIndex:g,index:x})}return Am(e,s,t,f),c}function Nx(e,t,s,n,i,o){return!o&&!e.isPointInArea(t)?[]:s==="r"&&!n?XF(e,t,s,i):KF(e,t,s,n,i,o)}function VN(e,t,s,n,i){const o=[],c=s==="x"?"inXRange":"inYRange";let d=!1;return Am(e,s,t,(h,f,p)=>{h[c]&&h[c](t[s],i)&&(o.push({element:h,datasetIndex:f,index:p}),d=d||h.inRange(t.x,t.y,i))}),n&&!d?[]:o}var QF={modes:{index(e,t,s,n){const i=Lo(t,e),o=s.axis||"x",c=s.includeInvisible||!1,d=s.intersect?jx(e,i,o,n,c):Nx(e,i,o,!1,n,c),h=[];return d.length?(e.getSortedVisibleDatasetMetas().forEach(f=>{const p=d[0].index,g=f.data[p];g&&!g.skip&&h.push({element:g,datasetIndex:f.index,index:p})}),h):[]},dataset(e,t,s,n){const i=Lo(t,e),o=s.axis||"xy",c=s.includeInvisible||!1;let d=s.intersect?jx(e,i,o,n,c):Nx(e,i,o,!1,n,c);if(d.length>0){const h=d[0].datasetIndex,f=e.getDatasetMeta(h).data;d=[];for(let p=0;p<f.length;++p)d.push({element:f[p],datasetIndex:h,index:p})}return d},point(e,t,s,n){const i=Lo(t,e),o=s.axis||"xy",c=s.includeInvisible||!1;return jx(e,i,o,n,c)},nearest(e,t,s,n){const i=Lo(t,e),o=s.axis||"xy",c=s.includeInvisible||!1;return Nx(e,i,o,s.intersect,n,c)},x(e,t,s,n){const i=Lo(t,e);return VN(e,i,"x",s.intersect,n)},y(e,t,s,n){const i=Lo(t,e);return VN(e,i,"y",s.intersect,n)}}};const eC=["left","top","right","bottom"];function Ad(e,t){return e.filter(s=>s.pos===t)}function qN(e,t){return e.filter(s=>eC.indexOf(s.pos)===-1&&s.box.axis===t)}function Od(e,t){return e.sort((s,n)=>{const i=t?n:s,o=t?s:n;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function ZF(e){const t=[];let s,n,i,o,c,d;for(s=0,n=(e||[]).length;s<n;++s)i=e[s],{position:o,options:{stack:c,stackWeight:d=1}}=i,t.push({index:s,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:c&&o+c,stackWeight:d});return t}function JF(e){const t={};for(const s of e){const{stack:n,pos:i,stackWeight:o}=s;if(!n||!eC.includes(i))continue;const c=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function e8(e,t){const s=JF(e),{vBoxMaxWidth:n,hBoxMaxHeight:i}=t;let o,c,d;for(o=0,c=e.length;o<c;++o){d=e[o];const{fullSize:h}=d.box,f=s[d.stack],p=f&&d.stackWeight/f.weight;d.horizontal?(d.width=p?p*n:h&&t.availableWidth,d.height=i):(d.width=n,d.height=p?p*i:h&&t.availableHeight)}return s}function t8(e){const t=ZF(e),s=Od(t.filter(f=>f.box.fullSize),!0),n=Od(Ad(t,"left"),!0),i=Od(Ad(t,"right")),o=Od(Ad(t,"top"),!0),c=Od(Ad(t,"bottom")),d=qN(t,"x"),h=qN(t,"y");return{fullSize:s,leftAndTop:n.concat(o),rightAndBottom:i.concat(h).concat(c).concat(d),chartArea:Ad(t,"chartArea"),vertical:n.concat(i).concat(h),horizontal:o.concat(c).concat(d)}}function WN(e,t,s,n){return Math.max(e[s],t[s])+Math.max(e[n],t[n])}function tC(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function s8(e,t,s,n){const{pos:i,box:o}=s,c=e.maxPadding;if(!as(i)){s.size&&(e[i]-=s.size);const g=n[s.stack]||{size:0,count:1};g.size=Math.max(g.size,s.horizontal?o.height:o.width),s.size=g.size/g.count,e[i]+=s.size}o.getPadding&&tC(c,o.getPadding());const d=Math.max(0,t.outerWidth-WN(c,e,"left","right")),h=Math.max(0,t.outerHeight-WN(c,e,"top","bottom")),f=d!==e.w,p=h!==e.h;return e.w=d,e.h=h,s.horizontal?{same:f,other:p}:{same:p,other:f}}function n8(e){const t=e.maxPadding;function s(n){const i=Math.max(t[n]-e[n],0);return e[n]+=i,i}e.y+=s("top"),e.x+=s("left"),s("right"),s("bottom")}function a8(e,t){const s=t.maxPadding;function n(i){const o={left:0,top:0,right:0,bottom:0};return i.forEach(c=>{o[c]=Math.max(t[c],s[c])}),o}return n(e?["left","right"]:["top","bottom"])}function qd(e,t,s,n){const i=[];let o,c,d,h,f,p;for(o=0,c=e.length,f=0;o<c;++o){d=e[o],h=d.box,h.update(d.width||t.w,d.height||t.h,a8(d.horizontal,t));const{same:g,other:x}=s8(t,s,d,n);f|=g&&i.length,p=p||x,h.fullSize||i.push(d)}return f&&qd(i,t,s,n)||p}function uh(e,t,s,n,i){e.top=s,e.left=t,e.right=t+n,e.bottom=s+i,e.width=n,e.height=i}function YN(e,t,s,n){const i=s.padding;let{x:o,y:c}=t;for(const d of e){const h=d.box,f=n[d.stack]||{placed:0,weight:1},p=d.stackWeight/f.weight||1;if(d.horizontal){const g=t.w*p,x=f.size||h.height;tm(f.start)&&(c=f.start),h.fullSize?uh(h,i.left,c,s.outerWidth-i.right-i.left,x):uh(h,t.left+f.placed,c,g,x),f.start=c,f.placed+=g,c=h.bottom}else{const g=t.h*p,x=f.size||h.width;tm(f.start)&&(o=f.start),h.fullSize?uh(h,o,i.top,x,s.outerHeight-i.bottom-i.top):uh(h,o,t.top+f.placed,x,g),f.start=o,f.placed+=g,o=h.right}}t.x=o,t.y=c}var Aa={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(s){t.draw(s)}}]},e.boxes.push(t)},removeBox(e,t){const s=e.boxes?e.boxes.indexOf(t):-1;s!==-1&&e.boxes.splice(s,1)},configure(e,t,s){t.fullSize=s.fullSize,t.position=s.position,t.weight=s.weight},update(e,t,s,n){if(!e)return;const i=Pa(e.options.layout.padding),o=Math.max(t-i.width,0),c=Math.max(s-i.height,0),d=t8(e.boxes),h=d.vertical,f=d.horizontal;ds(e.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const p=h.reduce((v,_)=>_.box.options&&_.box.options.display===!1?v:v+1,0)||1,g=Object.freeze({outerWidth:t,outerHeight:s,padding:i,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/p,hBoxMaxHeight:c/2}),x=Object.assign({},i);tC(x,Pa(n));const b=Object.assign({maxPadding:x,w:o,h:c,x:i.left,y:i.top},i),j=e8(h.concat(f),g);qd(d.fullSize,b,g,j),qd(h,b,g,j),qd(f,b,g,j)&&qd(h,b,g,j),n8(b),YN(d.leftAndTop,b,g,j),b.x+=b.w,b.y+=b.h,YN(d.rightAndBottom,b,g,j),e.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},ds(d.chartArea,v=>{const _=v.box;Object.assign(_,e.chartArea),_.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class sC{acquireContext(t,s){}releaseContext(t){return!1}addEventListener(t,s,n){}removeEventListener(t,s,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,s,n,i){return s=Math.max(0,s||t.width),n=n||t.height,{width:s,height:Math.max(0,i?Math.floor(s/i):n)}}isAttached(t){return!0}updateConfig(t){}}class r8 extends sC{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Fh="$chartjs",i8={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},GN=e=>e===null||e==="";function o8(e,t){const s=e.style,n=e.getAttribute("height"),i=e.getAttribute("width");if(e[Fh]={initial:{height:n,width:i,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",GN(i)){const o=BN(e,"width");o!==void 0&&(e.width=o)}if(GN(n))if(e.style.height==="")e.height=e.width/(t||2);else{const o=BN(e,"height");o!==void 0&&(e.height=o)}return e}const nC=CF?{passive:!0}:!1;function l8(e,t,s){e&&e.addEventListener(t,s,nC)}function c8(e,t,s){e&&e.canvas&&e.canvas.removeEventListener(t,s,nC)}function d8(e,t){const s=i8[e.type]||e.type,{x:n,y:i}=Lo(e,t);return{type:s,chart:t,native:e,x:n!==void 0?n:null,y:i!==void 0?i:null}}function om(e,t){for(const s of e)if(s===t||s.contains(t))return!0}function u8(e,t,s){const n=e.canvas,i=new MutationObserver(o=>{let c=!1;for(const d of o)c=c||om(d.addedNodes,n),c=c&&!om(d.removedNodes,n);c&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}function f8(e,t,s){const n=e.canvas,i=new MutationObserver(o=>{let c=!1;for(const d of o)c=c||om(d.removedNodes,n),c=c&&!om(d.addedNodes,n);c&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}const uu=new Map;let XN=0;function aC(){const e=window.devicePixelRatio;e!==XN&&(XN=e,uu.forEach((t,s)=>{s.currentDevicePixelRatio!==e&&t()}))}function h8(e,t){uu.size||window.addEventListener("resize",aC),uu.set(e,t)}function m8(e){uu.delete(e),uu.size||window.removeEventListener("resize",aC)}function p8(e,t,s){const n=e.canvas,i=n&&qy(n);if(!i)return;const o=US((d,h)=>{const f=i.clientWidth;s(d,h),f<i.clientWidth&&s()},window),c=new ResizeObserver(d=>{const h=d[0],f=h.contentRect.width,p=h.contentRect.height;f===0&&p===0||o(f,p)});return c.observe(i),h8(e,o),c}function _x(e,t,s){s&&s.disconnect(),t==="resize"&&m8(e)}function g8(e,t,s){const n=e.canvas,i=US(o=>{e.ctx!==null&&s(d8(o,e))},e);return l8(n,t,i),i}class x8 extends sC{acquireContext(t,s){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(o8(t,s),n):null}releaseContext(t){const s=t.canvas;if(!s[Fh])return!1;const n=s[Fh].initial;["height","width"].forEach(o=>{const c=n[o];Os(c)?s.removeAttribute(o):s.setAttribute(o,c)});const i=n.style||{};return Object.keys(i).forEach(o=>{s.style[o]=i[o]}),s.width=s.width,delete s[Fh],!0}addEventListener(t,s,n){this.removeEventListener(t,s);const i=t.$proxies||(t.$proxies={}),c={attach:u8,detach:f8,resize:p8}[s]||g8;i[s]=c(t,s,n)}removeEventListener(t,s){const n=t.$proxies||(t.$proxies={}),i=n[s];if(!i)return;({attach:_x,detach:_x,resize:_x}[s]||c8)(t,s,i),n[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,s,n,i){return SF(t,s,n,i)}isAttached(t){const s=t&&qy(t);return!!(s&&s.isConnected)}}function y8(e){return!Vy()||typeof OffscreenCanvas!="undefined"&&e instanceof OffscreenCanvas?r8:x8}var Nh;let nl=(Nh=class{constructor(){kt(this,"x");kt(this,"y");kt(this,"active",!1);kt(this,"options");kt(this,"$animations")}tooltipPosition(t){const{x:s,y:n}=this.getProps(["x","y"],t);return{x:s,y:n}}hasValue(){return am(this.x)&&am(this.y)}getProps(t,s){const n=this.$animations;if(!s||!n)return this;const i={};return t.forEach(o=>{i[o]=n[o]&&n[o].active()?n[o]._to:this[o]}),i}},kt(Nh,"defaults",{}),kt(Nh,"defaultRoutes"),Nh);function b8(e,t){const s=e.options.ticks,n=v8(e),i=Math.min(s.maxTicksLimit||n,n),o=s.major.enabled?j8(t):[],c=o.length,d=o[0],h=o[c-1],f=[];if(c>i)return N8(t,f,o,c/i),f;const p=w8(o,t,i);if(c>0){let g,x;const b=c>1?Math.round((h-d)/(c-1)):null;for(fh(t,f,p,Os(b)?0:d-b,d),g=0,x=c-1;g<x;g++)fh(t,f,p,o[g],o[g+1]);return fh(t,f,p,h,Os(b)?t.length:h+b),f}return fh(t,f,p),f}function v8(e){const t=e.options.offset,s=e._tickSize(),n=e._length/s+(t?0:1),i=e._maxLength/s;return Math.floor(Math.min(n,i))}function w8(e,t,s){const n=_8(e),i=t.length/s;if(!n)return Math.max(i,1);const o=PB(n);for(let c=0,d=o.length-1;c<d;c++){const h=o[c];if(h>i)return h}return Math.max(i,1)}function j8(e){const t=[];let s,n;for(s=0,n=e.length;s<n;s++)e[s].major&&t.push(s);return t}function N8(e,t,s,n){let i=0,o=s[0],c;for(n=Math.ceil(n),c=0;c<e.length;c++)c===o&&(t.push(e[c]),i++,o=s[i*n])}function fh(e,t,s,n,i){const o=us(n,0),c=Math.min(us(i,e.length),e.length);let d=0,h,f,p;for(s=Math.ceil(s),i&&(h=i-n,s=h/Math.floor(h/s)),p=o;p<0;)d++,p=Math.round(o+d*s);for(f=Math.max(o,0);f<c;f++)f===p&&(t.push(e[f]),d++,p=Math.round(o+d*s))}function _8(e){const t=e.length;let s,n;if(t<2)return!1;for(n=e[0],s=1;s<t;++s)if(e[s]-e[s-1]!==n)return!1;return n}const T8=e=>e==="left"?"right":e==="right"?"left":e,KN=(e,t,s)=>t==="top"||t==="left"?e[t]+s:e[t]-s,QN=(e,t)=>Math.min(t||e,e);function ZN(e,t){const s=[],n=e.length/t,i=e.length;let o=0;for(;o<i;o+=n)s.push(e[Math.floor(o)]);return s}function S8(e,t,s){const n=e.ticks.length,i=Math.min(t,n-1),o=e._startPixel,c=e._endPixel,d=1e-6;let h=e.getPixelForTick(i),f;if(!(s&&(n===1?f=Math.max(h-o,c-h):t===0?f=(e.getPixelForTick(1)-h)/2:f=(h-e.getPixelForTick(i-1))/2,h+=i<t?f:-f,h<o-d||h>c+d)))return h}function C8(e,t){ds(e,s=>{const n=s.gc,i=n.length/2;let o;if(i>t){for(o=0;o<i;++o)delete s.data[n[o]];n.splice(0,i)}})}function Rd(e){return e.drawTicks?e.tickLength:0}function JN(e,t){if(!e.display)return 0;const s=Dn(e.font,t),n=Pa(e.padding);return(fn(e.text)?e.text.length:1)*s.lineHeight+n.height}function k8(e,t){return Nc(e,{scale:t,type:"scale"})}function E8(e,t,s){return Nc(e,{tick:s,index:t,type:"tick"})}function D8(e,t,s){let n=By(e);return(s&&t!=="right"||!s&&t==="right")&&(n=T8(n)),n}function A8(e,t,s,n){const{top:i,left:o,bottom:c,right:d,chart:h}=e,{chartArea:f,scales:p}=h;let g=0,x,b,j;const v=c-i,_=d-o;if(e.isHorizontal()){if(b=kn(n,o,d),as(s)){const T=Object.keys(s)[0],A=s[T];j=p[T].getPixelForValue(A)+v-t}else s==="center"?j=(f.bottom+f.top)/2+v-t:j=KN(e,s,t);x=d-o}else{if(as(s)){const T=Object.keys(s)[0],A=s[T];b=p[T].getPixelForValue(A)-_+t}else s==="center"?b=(f.left+f.right)/2-_+t:b=KN(e,s,t);j=kn(n,c,i),g=s==="left"?-bn:bn}return{titleX:b,titleY:j,maxWidth:x,rotation:g}}class _c extends nl{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,s){return t}getUserBounds(){let{_userMin:t,_userMax:s,_suggestedMin:n,_suggestedMax:i}=this;return t=lr(t,Number.POSITIVE_INFINITY),s=lr(s,Number.NEGATIVE_INFINITY),n=lr(n,Number.POSITIVE_INFINITY),i=lr(i,Number.NEGATIVE_INFINITY),{min:lr(t,n),max:lr(s,i),minDefined:Ma(t),maxDefined:Ma(s)}}getMinMax(t){let{min:s,max:n,minDefined:i,maxDefined:o}=this.getUserBounds(),c;if(i&&o)return{min:s,max:n};const d=this.getMatchingVisibleMetas();for(let h=0,f=d.length;h<f;++h)c=d[h].controller.getMinMax(this,t),i||(s=Math.min(s,c.min)),o||(n=Math.max(n,c.max));return s=o&&s>n?n:s,n=i&&s>n?s:n,{min:lr(s,lr(n,s)),max:lr(n,lr(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ns(this.options.beforeUpdate,[this])}update(t,s,n){const{beginAtZero:i,grace:o,ticks:c}=this.options,d=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=s,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=uF(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=d<this.ticks.length;this._convertTicksToLabels(h?ZN(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=b8(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,s,n;this.isHorizontal()?(s=this.left,n=this.right):(s=this.top,n=this.bottom,t=!t),this._startPixel=s,this._endPixel=n,this._reversePixels=t,this._length=n-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ns(this.options.afterUpdate,[this])}beforeSetDimensions(){Ns(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ns(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Ns(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ns(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const s=this.options.ticks;let n,i,o;for(n=0,i=t.length;n<i;n++)o=t[n],o.label=Ns(s.callback,[o.value,n,t],this)}afterTickToLabelConversion(){Ns(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ns(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,s=t.ticks,n=QN(this.ticks.length,t.ticks.maxTicksLimit),i=s.minRotation||0,o=s.maxRotation;let c=i,d,h,f;if(!this._isVisible()||!s.display||i>=o||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const p=this._getLabelSizes(),g=p.widest.width,x=p.highest.height,b=Qn(this.chart.width-g,0,this.maxWidth);d=t.offset?this.maxWidth/n:b/(n-1),g+6>d&&(d=b/(n-(t.offset?.5:1)),h=this.maxHeight-Rd(t.grid)-s.padding-JN(t.title,this.chart.options.font),f=Math.sqrt(g*g+x*x),c=UB(Math.min(Math.asin(Qn((p.highest.height+6)/d,-1,1)),Math.asin(Qn(h/f,-1,1))-Math.asin(Qn(x/f,-1,1)))),c=Math.max(i,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){Ns(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ns(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:s,options:{ticks:n,title:i,grid:o}}=this,c=this._isVisible(),d=this.isHorizontal();if(c){const h=JN(i,s.options.font);if(d?(t.width=this.maxWidth,t.height=Rd(o)+h):(t.height=this.maxHeight,t.width=Rd(o)+h),n.display&&this.ticks.length){const{first:f,last:p,widest:g,highest:x}=this._getLabelSizes(),b=n.padding*2,j=Io(this.labelRotation),v=Math.cos(j),_=Math.sin(j);if(d){const T=n.mirror?0:_*g.width+v*x.height;t.height=Math.min(this.maxHeight,t.height+T+b)}else{const T=n.mirror?0:v*g.width+_*x.height;t.width=Math.min(this.maxWidth,t.width+T+b)}this._calculatePadding(f,p,_,v)}}this._handleMargins(),d?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,s,n,i){const{ticks:{align:o,padding:c},position:d}=this.options,h=this.labelRotation!==0,f=d!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let x=0,b=0;h?f?(x=i*t.width,b=n*s.height):(x=n*t.height,b=i*s.width):o==="start"?b=s.width:o==="end"?x=t.width:o!=="inner"&&(x=t.width/2,b=s.width/2),this.paddingLeft=Math.max((x-p+c)*this.width/(this.width-p),0),this.paddingRight=Math.max((b-g+c)*this.width/(this.width-g),0)}else{let p=s.height/2,g=t.height/2;o==="start"?(p=0,g=t.height):o==="end"&&(p=s.height,g=0),this.paddingTop=p+c,this.paddingBottom=g+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ns(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:s}=this.options;return s==="top"||s==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let s,n;for(s=0,n=t.length;s<n;s++)Os(t[s].label)&&(t.splice(s,1),n--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const s=this.options.ticks.sampleSize;let n=this.ticks;s<n.length&&(n=ZN(n,s)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,s,n){const{ctx:i,_longestTextCache:o}=this,c=[],d=[],h=Math.floor(s/QN(s,n));let f=0,p=0,g,x,b,j,v,_,T,A,C,S,D;for(g=0;g<s;g+=h){if(j=t[g].label,v=this._resolveTickFontOptions(g),i.font=_=v.string,T=o[_]=o[_]||{data:{},gc:[]},A=v.lineHeight,C=S=0,!Os(j)&&!fn(j))C=AN(i,T.data,T.gc,C,j),S=A;else if(fn(j))for(x=0,b=j.length;x<b;++x)D=j[x],!Os(D)&&!fn(D)&&(C=AN(i,T.data,T.gc,C,D),S+=A);c.push(C),d.push(S),f=Math.max(C,f),p=Math.max(S,p)}C8(o,s);const E=c.indexOf(f),B=d.indexOf(p),U=R=>({width:c[R]||0,height:d[R]||0});return{first:U(0),last:U(s-1),widest:U(E),highest:U(B),widths:c,heights:d}}getLabelForValue(t){return t}getPixelForValue(t,s){return NaN}getValueForPixel(t){}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const s=this._startPixel+t*this._length;return HB(this._alignToPixels?Ro(this.chart,s,0):s)}getDecimalForPixel(t){const s=(t-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:s}=this;return t<0&&s<0?s:t>0&&s>0?t:0}getContext(t){const s=this.ticks||[];if(t>=0&&t<s.length){const n=s[t];return n.$context||(n.$context=E8(this.getContext(),t,n))}return this.$context||(this.$context=k8(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,s=Io(this.labelRotation),n=Math.abs(Math.cos(s)),i=Math.abs(Math.sin(s)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,d=o?o.widest.width+c:0,h=o?o.highest.height+c:0;return this.isHorizontal()?h*n>d*i?d/n:h/i:h*i<d*n?h/n:d/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const s=this.axis,n=this.chart,i=this.options,{grid:o,position:c,border:d}=i,h=o.offset,f=this.isHorizontal(),g=this.ticks.length+(h?1:0),x=Rd(o),b=[],j=d.setContext(this.getContext()),v=j.display?j.width:0,_=v/2,T=function(H){return Ro(n,H,v)};let A,C,S,D,E,B,U,R,K,W,Z,q;if(c==="top")A=T(this.bottom),B=this.bottom-x,R=A-_,W=T(t.top)+_,q=t.bottom;else if(c==="bottom")A=T(this.top),W=t.top,q=T(t.bottom)-_,B=A+_,R=this.top+x;else if(c==="left")A=T(this.right),E=this.right-x,U=A-_,K=T(t.left)+_,Z=t.right;else if(c==="right")A=T(this.left),K=t.left,Z=T(t.right)-_,E=A+_,U=this.left+x;else if(s==="x"){if(c==="center")A=T((t.top+t.bottom)/2+.5);else if(as(c)){const H=Object.keys(c)[0],J=c[H];A=T(this.chart.scales[H].getPixelForValue(J))}W=t.top,q=t.bottom,B=A+_,R=B+x}else if(s==="y"){if(c==="center")A=T((t.left+t.right)/2);else if(as(c)){const H=Object.keys(c)[0],J=c[H];A=T(this.chart.scales[H].getPixelForValue(J))}E=A-_,U=E-x,K=t.left,Z=t.right}const G=us(i.ticks.maxTicksLimit,g),I=Math.max(1,Math.ceil(g/G));for(C=0;C<g;C+=I){const H=this.getContext(C),J=o.setContext(H),te=d.setContext(H),de=J.lineWidth,P=J.color,ie=te.dash||[],ne=te.dashOffset,$=J.tickWidth,ee=J.tickColor,xe=J.tickBorderDash||[],he=J.tickBorderDashOffset;S=S8(this,C,h),S!==void 0&&(D=Ro(n,S,de),f?E=U=K=Z=D:B=R=W=q=D,b.push({tx1:E,ty1:B,tx2:U,ty2:R,x1:K,y1:W,x2:Z,y2:q,width:de,color:P,borderDash:ie,borderDashOffset:ne,tickWidth:$,tickColor:ee,tickBorderDash:xe,tickBorderDashOffset:he}))}return this._ticksLength=g,this._borderValue=A,b}_computeLabelItems(t){const s=this.axis,n=this.options,{position:i,ticks:o}=n,c=this.isHorizontal(),d=this.ticks,{align:h,crossAlign:f,padding:p,mirror:g}=o,x=Rd(n.grid),b=x+p,j=g?-p:b,v=-Io(this.labelRotation),_=[];let T,A,C,S,D,E,B,U,R,K,W,Z,q="middle";if(i==="top")E=this.bottom-j,B=this._getXAxisLabelAlignment();else if(i==="bottom")E=this.top+j,B=this._getXAxisLabelAlignment();else if(i==="left"){const I=this._getYAxisLabelAlignment(x);B=I.textAlign,D=I.x}else if(i==="right"){const I=this._getYAxisLabelAlignment(x);B=I.textAlign,D=I.x}else if(s==="x"){if(i==="center")E=(t.top+t.bottom)/2+b;else if(as(i)){const I=Object.keys(i)[0],H=i[I];E=this.chart.scales[I].getPixelForValue(H)+b}B=this._getXAxisLabelAlignment()}else if(s==="y"){if(i==="center")D=(t.left+t.right)/2-b;else if(as(i)){const I=Object.keys(i)[0],H=i[I];D=this.chart.scales[I].getPixelForValue(H)}B=this._getYAxisLabelAlignment(x).textAlign}s==="y"&&(h==="start"?q="top":h==="end"&&(q="bottom"));const G=this._getLabelSizes();for(T=0,A=d.length;T<A;++T){C=d[T],S=C.label;const I=o.setContext(this.getContext(T));U=this.getPixelForTick(T)+o.labelOffset,R=this._resolveTickFontOptions(T),K=R.lineHeight,W=fn(S)?S.length:1;const H=W/2,J=I.color,te=I.textStrokeColor,de=I.textStrokeWidth;let P=B;c?(D=U,B==="inner"&&(T===A-1?P=this.options.reverse?"left":"right":T===0?P=this.options.reverse?"right":"left":P="center"),i==="top"?f==="near"||v!==0?Z=-W*K+K/2:f==="center"?Z=-G.highest.height/2-H*K+K:Z=-G.highest.height+K/2:f==="near"||v!==0?Z=K/2:f==="center"?Z=G.highest.height/2-H*K:Z=G.highest.height-W*K,g&&(Z*=-1),v!==0&&!I.showLabelBackdrop&&(D+=K/2*Math.sin(v))):(E=U,Z=(1-W)*K/2);let ie;if(I.showLabelBackdrop){const ne=Pa(I.backdropPadding),$=G.heights[T],ee=G.widths[T];let xe=Z-ne.top,he=0-ne.left;switch(q){case"middle":xe-=$/2;break;case"bottom":xe-=$;break}switch(B){case"center":he-=ee/2;break;case"right":he-=ee;break;case"inner":T===A-1?he-=ee:T>0&&(he-=ee/2);break}ie={left:he,top:xe,width:ee+ne.width,height:$+ne.height,color:I.backdropColor}}_.push({label:S,font:R,textOffset:Z,options:{rotation:v,color:J,strokeColor:te,strokeWidth:de,textAlign:P,textBaseline:q,translation:[D,E],backdrop:ie}})}return _}_getXAxisLabelAlignment(){const{position:t,ticks:s}=this.options;if(-Io(this.labelRotation))return t==="top"?"left":"right";let i="center";return s.align==="start"?i="left":s.align==="end"?i="right":s.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:s,ticks:{crossAlign:n,mirror:i,padding:o}}=this.options,c=this._getLabelSizes(),d=t+o,h=c.widest.width;let f,p;return s==="left"?i?(p=this.right+o,n==="near"?f="left":n==="center"?(f="center",p+=h/2):(f="right",p+=h)):(p=this.right-d,n==="near"?f="right":n==="center"?(f="center",p-=h/2):(f="left",p=this.left)):s==="right"?i?(p=this.left+o,n==="near"?f="right":n==="center"?(f="center",p-=h/2):(f="left",p-=h)):(p=this.left+d,n==="near"?f="left":n==="center"?(f="center",p+=h/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:s},left:n,top:i,width:o,height:c}=this;s&&(t.save(),t.fillStyle=s,t.fillRect(n,i,o,c),t.restore())}getLineWidthForValue(t){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const i=this.ticks.findIndex(o=>o.value===t);return i>=0?s.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const s=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const d=(h,f,p)=>{!p.width||!p.color||(n.save(),n.lineWidth=p.width,n.strokeStyle=p.color,n.setLineDash(p.borderDash||[]),n.lineDashOffset=p.borderDashOffset,n.beginPath(),n.moveTo(h.x,h.y),n.lineTo(f.x,f.y),n.stroke(),n.restore())};if(s.display)for(o=0,c=i.length;o<c;++o){const h=i[o];s.drawOnChartArea&&d({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),s.drawTicks&&d({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:s,options:{border:n,grid:i}}=this,o=n.setContext(this.getContext()),c=n.display?o.width:0;if(!c)return;const d=i.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,p,g,x;this.isHorizontal()?(f=Ro(t,this.left,c)-c/2,p=Ro(t,this.right,d)+d/2,g=x=h):(g=Ro(t,this.top,c)-c/2,x=Ro(t,this.bottom,d)+d/2,f=p=h),s.save(),s.lineWidth=o.width,s.strokeStyle=o.color,s.beginPath(),s.moveTo(f,g),s.lineTo(p,x),s.stroke(),s.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&Fy(n,i);const o=this.getLabelItems(t);for(const c of o){const d=c.options,h=c.font,f=c.label,p=c.textOffset;du(n,f,0,p,h,d)}i&&Uy(n)}drawTitle(){const{ctx:t,options:{position:s,title:n,reverse:i}}=this;if(!n.display)return;const o=Dn(n.font),c=Pa(n.padding),d=n.align;let h=o.lineHeight/2;s==="bottom"||s==="center"||as(s)?(h+=c.bottom,fn(n.text)&&(h+=o.lineHeight*(n.text.length-1))):h+=c.top;const{titleX:f,titleY:p,maxWidth:g,rotation:x}=A8(this,h,s,d);du(t,n.text,0,0,o,{color:n.color,maxWidth:g,rotation:x,textAlign:D8(d,s,i),textBaseline:"middle",translation:[f,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,s=t.ticks&&t.ticks.z||0,n=us(t.grid&&t.grid.z,-1),i=us(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==_c.prototype.draw?[{z:s,draw:o=>{this.draw(o)}}]:[{z:n,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:s,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const s=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let o,c;for(o=0,c=s.length;o<c;++o){const d=s[o];d[n]===this.id&&(!t||d.type===t)&&i.push(d)}return i}_resolveTickFontOptions(t){const s=this.options.ticks.setContext(this.getContext(t));return Dn(s.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class hh{constructor(t,s,n){this.type=t,this.scope=s,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const s=Object.getPrototypeOf(t);let n;M8(s)&&(n=this.register(s));const i=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in i||(i[o]=t,O8(t,c,n),this.override&&Is.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const s=this.items,n=t.id,i=this.scope;n in s&&delete s[n],i&&n in Is[i]&&(delete Is[i][n],this.override&&delete Qo[n])}}function O8(e,t,s){const n=cu(Object.create(null),[s?Is.get(s):{},Is.get(t),e.defaults]);Is.set(t,n),e.defaultRoutes&&R8(t,e.defaultRoutes),e.descriptors&&Is.describe(t,e.descriptors)}function R8(e,t){Object.keys(t).forEach(s=>{const n=s.split("."),i=n.pop(),o=[e].concat(n).join("."),c=t[s].split("."),d=c.pop(),h=c.join(".");Is.route(o,i,h,d)})}function M8(e){return"id"in e&&"defaults"in e}class P8{constructor(){this.controllers=new hh(Bh,"datasets",!0),this.elements=new hh(nl,"elements"),this.plugins=new hh(Object,"plugins"),this.scales=new hh(_c,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,s,n){[...s].forEach(i=>{const o=n||this._getRegistryForType(i);n||o.isForType(i)||o===this.plugins&&i.id?this._exec(t,o,i):ds(i,c=>{const d=n||this._getRegistryForType(c);this._exec(t,d,c)})})}_exec(t,s,n){const i=Py(t);Ns(n["before"+i],[],n),s[t](n),Ns(n["after"+i],[],n)}_getRegistryForType(t){for(let s=0;s<this._typedRegistries.length;s++){const n=this._typedRegistries[s];if(n.isForType(t))return n}return this.plugins}_get(t,s,n){const i=s.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return i}}var hr=new P8;class L8{constructor(){this._init=[]}notify(t,s,n,i){s==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=i?this._descriptors(t).filter(i):this._descriptors(t),c=this._notify(o,t,s,n);return s==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,s,n,i){i=i||{};for(const o of t){const c=o.plugin,d=c[n],h=[s,i,o.options];if(Ns(d,h,c)===!1&&i.cancelable)return!1}return!0}invalidate(){Os(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),s}_createDescriptors(t,s){const n=t&&t.config,i=us(n.options&&n.options.plugins,{}),o=B8(n);return i===!1&&!s?[]:U8(t,o,i,s)}_notifyStateChanges(t){const s=this._oldCache||[],n=this._cache,i=(o,c)=>o.filter(d=>!c.some(h=>d.plugin.id===h.plugin.id));this._notify(i(s,n),t,"stop"),this._notify(i(n,s),t,"start")}}function B8(e){const t={},s=[],n=Object.keys(hr.plugins.items);for(let o=0;o<n.length;o++)s.push(hr.getPlugin(n[o]));const i=e.plugins||[];for(let o=0;o<i.length;o++){const c=i[o];s.indexOf(c)===-1&&(s.push(c),t[c.id]=!0)}return{plugins:s,localIds:t}}function F8(e,t){return!t&&e===!1?null:e===!0?{}:e}function U8(e,{plugins:t,localIds:s},n,i){const o=[],c=e.getContext();for(const d of t){const h=d.id,f=F8(n[h],i);f!==null&&o.push({plugin:d,options:z8(e.config,{plugin:d,local:s[h]},f,c)})}return o}function z8(e,{plugin:t,local:s},n,i){const o=e.pluginScopeKeys(t),c=e.getOptionScopes(n,o);return s&&t.defaults&&c.push(t.defaults),e.createResolver(c,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function v0(e,t){const s=Is.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||s.indexAxis||"x"}function H8(e,t){let s=e;return e==="_index_"?s=t:e==="_value_"&&(s=t==="x"?"y":"x"),s}function $8(e,t){return e===t?"_index_":"_value_"}function e_(e){if(e==="x"||e==="y"||e==="r")return e}function I8(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function w0(e,...t){if(e_(e))return e;for(const s of t){const n=s.axis||I8(s.position)||e.length>1&&e_(e[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function t_(e,t,s){if(s[t+"AxisID"]===e)return{axis:t}}function V8(e,t){if(t.data&&t.data.datasets){const s=t.data.datasets.filter(n=>n.xAxisID===e||n.yAxisID===e);if(s.length)return t_(e,"x",s[0])||t_(e,"y",s[0])}return{}}function q8(e,t){const s=Qo[e.type]||{scales:{}},n=t.scales||{},i=v0(e.type,t),o=Object.create(null);return Object.keys(n).forEach(c=>{const d=n[c];if(!as(d))return console.error(`Invalid scale configuration for scale: ${c}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const h=w0(c,d,V8(c,e),Is.scales[d.type]),f=$8(h,i),p=s.scales||{};o[c]=Gd(Object.create(null),[{axis:h},d,p[h],p[f]])}),e.data.datasets.forEach(c=>{const d=c.type||e.type,h=c.indexAxis||v0(d,t),p=(Qo[d]||{}).scales||{};Object.keys(p).forEach(g=>{const x=H8(g,h),b=c[x+"AxisID"]||x;o[b]=o[b]||Object.create(null),Gd(o[b],[{axis:x},n[b],p[g]])})}),Object.keys(o).forEach(c=>{const d=o[c];Gd(d,[Is.scales[d.type],Is.scale])}),o}function rC(e){const t=e.options||(e.options={});t.plugins=us(t.plugins,{}),t.scales=q8(e,t)}function iC(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function W8(e){return e=e||{},e.data=iC(e.data),rC(e),e}const s_=new Map,oC=new Set;function mh(e,t){let s=s_.get(e);return s||(s=t(),s_.set(e,s),oC.add(s)),s}const Md=(e,t,s)=>{const n=em(t,s);n!==void 0&&e.add(n)};class Y8{constructor(t){this._config=W8(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=iC(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),rC(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return mh(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,s){return mh(`${t}.transition.${s}`,()=>[[`datasets.${t}.transitions.${s}`,`transitions.${s}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,s){return mh(`${t}-${s}`,()=>[[`datasets.${t}.elements.${s}`,`datasets.${t}`,`elements.${s}`,""]])}pluginScopeKeys(t){const s=t.id,n=this.type;return mh(`${n}-plugin-${s}`,()=>[[`plugins.${s}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,s){const n=this._scopeCache;let i=n.get(t);return(!i||s)&&(i=new Map,n.set(t,i)),i}getOptionScopes(t,s,n){const{options:i,type:o}=this,c=this._cachedScopes(t,n),d=c.get(s);if(d)return d;const h=new Set;s.forEach(p=>{t&&(h.add(t),p.forEach(g=>Md(h,t,g))),p.forEach(g=>Md(h,i,g)),p.forEach(g=>Md(h,Qo[o]||{},g)),p.forEach(g=>Md(h,Is,g)),p.forEach(g=>Md(h,b0,g))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),oC.has(s)&&c.set(s,f),f}chartOptionScopes(){const{options:t,type:s}=this;return[t,Qo[s]||{},Is.datasets[s]||{},{type:s},Is,b0]}resolveNamedOptions(t,s,n,i=[""]){const o={$shared:!0},{resolver:c,subPrefixes:d}=n_(this._resolverCache,t,i);let h=c;if(X8(c,s)){o.$shared=!1,n=Zi(n)?n():n;const f=this.createResolver(t,n,d);h=fc(c,n,f)}for(const f of s)o[f]=h[f];return o}createResolver(t,s,n=[""],i){const{resolver:o}=n_(this._resolverCache,t,n);return as(s)?fc(o,s,void 0,i):o}}function n_(e,t,s){let n=e.get(t);n||(n=new Map,e.set(t,n));const i=s.join();let o=n.get(i);return o||(o={resolver:Hy(t,s),subPrefixes:s.filter(d=>!d.toLowerCase().includes("hover"))},n.set(i,o)),o}const G8=e=>as(e)&&Object.getOwnPropertyNames(e).some(t=>Zi(e[t]));function X8(e,t){const{isScriptable:s,isIndexable:n}=WS(e);for(const i of t){const o=s(i),c=n(i),d=(c||o)&&e[i];if(o&&(Zi(d)||G8(d))||c&&fn(d))return!0}return!1}var K8="4.5.0";const Q8=["top","bottom","left","right","chartArea"];function a_(e,t){return e==="top"||e==="bottom"||Q8.indexOf(e)===-1&&t==="x"}function r_(e,t){return function(s,n){return s[e]===n[e]?s[t]-n[t]:s[e]-n[e]}}function i_(e){const t=e.chart,s=t.options.animation;t.notifyPlugins("afterRender"),Ns(s&&s.onComplete,[e],t)}function Z8(e){const t=e.chart,s=t.options.animation;Ns(s&&s.onProgress,[e],t)}function lC(e){return Vy()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Uh={},o_=e=>{const t=lC(e);return Object.values(Uh).filter(s=>s.canvas===t).pop()};function J8(e,t,s){const n=Object.keys(e);for(const i of n){const o=+i;if(o>=t){const c=e[i];delete e[i],(s>0||o>t)&&(e[o+s]=c)}}}function eU(e,t,s,n){return!s||e.type==="mouseout"?null:n?t:e}class Fi{static register(...t){hr.add(...t),l_()}static unregister(...t){hr.remove(...t),l_()}constructor(t,s){const n=this.config=new Y8(s),i=lC(t),o=o_(i);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||y8(i)),this.platform.updateConfig(n);const d=this.platform.acquireContext(i,c.aspectRatio),h=d&&d.canvas,f=h&&h.height,p=h&&h.width;if(this.id=CB(),this.ctx=d,this.canvas=h,this.width=p,this.height=f,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new L8,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=WB(g=>this.update(g),c.resizeDelay||0),this._dataChanges=[],Uh[this.id]=this,!d||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Kr.listen(this,"complete",i_),Kr.listen(this,"progress",Z8),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:s},width:n,height:i,_aspectRatio:o}=this;return Os(t)?s&&o?o:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return hr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():LN(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ON(this.canvas,this.ctx),this}stop(){return Kr.stop(this),this}resize(t,s){Kr.running(this)?this._resizeBeforeDraw={width:t,height:s}:this._resize(t,s)}_resize(t,s){const n=this.options,i=this.canvas,o=n.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(i,t,s,o),d=n.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,LN(this,d,!0)&&(this.notifyPlugins("resize",{size:c}),Ns(n.onResize,[this,c],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};ds(s,(n,i)=>{n.id=i})}buildOrUpdateScales(){const t=this.options,s=t.scales,n=this.scales,i=Object.keys(n).reduce((c,d)=>(c[d]=!1,c),{});let o=[];s&&(o=o.concat(Object.keys(s).map(c=>{const d=s[c],h=w0(c,d),f=h==="r",p=h==="x";return{options:d,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),ds(o,c=>{const d=c.options,h=d.id,f=w0(h,d),p=us(d.type,c.dtype);(d.position===void 0||a_(d.position,f)!==a_(c.dposition))&&(d.position=c.dposition),i[h]=!0;let g=null;if(h in n&&n[h].type===p)g=n[h];else{const x=hr.getScale(p);g=new x({id:h,type:p,ctx:this.ctx,chart:this}),n[g.id]=g}g.init(d,t)}),ds(i,(c,d)=>{c||delete n[d]}),ds(n,c=>{Aa.configure(this,c,c.options),Aa.addBox(this,c)})}_updateMetasets(){const t=this._metasets,s=this.data.datasets.length,n=t.length;if(t.sort((i,o)=>i.index-o.index),n>s){for(let i=s;i<n;++i)this._destroyDatasetMeta(i);t.splice(s,n-s)}this._sortedMetasets=t.slice(0).sort(r_("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:s}}=this;t.length>s.length&&delete this._stacks,t.forEach((n,i)=>{s.filter(o=>o===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],s=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=s.length;n<i;n++){const o=s[n];let c=this.getDatasetMeta(n);const d=o.type||this.config.type;if(c.type&&c.type!==d&&(this._destroyDatasetMeta(n),c=this.getDatasetMeta(n)),c.type=d,c.indexAxis=o.indexAxis||v0(d,this.options),c.order=o.order||0,c.index=n,c.label=""+o.label,c.visible=this.isDatasetVisible(n),c.controller)c.controller.updateIndex(n),c.controller.linkScales();else{const h=hr.getController(d),{datasetElementType:f,dataElementType:p}=Is.datasets[d];Object.assign(h,{dataElementType:hr.getElement(p),datasetElementType:f&&hr.getElement(f)}),c.controller=new h(this,n),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){ds(this.data.datasets,(t,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const s=this.config;s.update();const n=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:g}=this.getDatasetMeta(f),x=!i&&o.indexOf(g)===-1;g.buildOrUpdateElements(x),c=Math.max(+g.getMaxOverflow(),c)}c=this._minPadding=n.layout.autoPadding?c:0,this._updateLayout(c),i||ds(o,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(r_("z","_idx"));const{_active:d,_lastEvent:h}=this;h?this._eventHandler(h,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){ds(this.scales,t=>{Aa.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,s=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!jN(s,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,s=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:o}of s){const c=n==="_removeElements"?-o:o;J8(t,i,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const s=this.data.datasets.length,n=o=>new Set(t.filter(c=>c[0]===o).map((c,d)=>d+","+c.splice(1).join(","))),i=n(0);for(let o=1;o<s;o++)if(!jN(i,n(o)))return;return Array.from(i).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Aa.update(this,this.width,this.height,t);const s=this.chartArea,n=s.width<=0||s.height<=0;this._layers=[],ds(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,o)=>{i._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let s=0,n=this.data.datasets.length;s<n;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,n=this.data.datasets.length;s<n;++s)this._updateDataset(s,Zi(t)?t({datasetIndex:s}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,s){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(s),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Kr.has(this)?this.attached&&!Kr.running(this)&&Kr.start(this):(this.draw(),i_({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(t=0;t<s.length&&s[t].z<=0;++t)s[t].draw(this.chartArea);for(this._drawDatasets();t<s.length;++t)s[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const s=this._sortedMetasets,n=[];let i,o;for(i=0,o=s.length;i<o;++i){const c=s[i];(!t||c.visible)&&n.push(c)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let s=t.length-1;s>=0;--s)this._drawDataset(t[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const s=this.ctx,n={meta:t,index:t.index,cancelable:!0},i=AF(this,t);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(i&&Fy(s,i),t.controller.draw(),i&&Uy(s),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(t){return VS(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,s,n,i){const o=QF.modes[s];return typeof o=="function"?o(this,t,n,i):[]}getDatasetMeta(t){const s=this.data.datasets[t],n=this._metasets;let i=n.filter(o=>o&&o._dataset===s).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:t,_dataset:s,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=Nc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const s=this.data.datasets[t];if(!s)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!s.hidden}setDatasetVisibility(t,s){const n=this.getDatasetMeta(t);n.hidden=!s}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,s,n){const i=n?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,i);tm(s)?(o.data[s].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),c.update(o,{visible:n}),this.update(d=>d.datasetIndex===t?i:void 0))}hide(t,s){this._updateVisibility(t,s,!1)}show(t,s){this._updateVisibility(t,s,!0)}_destroyDatasetMeta(t){const s=this._metasets[t];s&&s.controller&&s.controller._destroy(),delete this._metasets[t]}_stop(){let t,s;for(this.stop(),Kr.remove(this),t=0,s=this.data.datasets.length;t<s;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:s}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),ON(t,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete Uh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,s=this.platform,n=(o,c)=>{s.addEventListener(this,o,c),t[o]=c},i=(o,c,d)=>{o.offsetX=c,o.offsetY=d,this._eventHandler(o)};ds(this.options.events,o=>n(o,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,s=this.platform,n=(h,f)=>{s.addEventListener(this,h,f),t[h]=f},i=(h,f)=>{t[h]&&(s.removeEventListener(this,h,f),delete t[h])},o=(h,f)=>{this.canvas&&this.resize(h,f)};let c;const d=()=>{i("attach",d),this.attached=!0,this.resize(),n("resize",o),n("detach",c)};c=()=>{this.attached=!1,i("resize",o),this._stop(),this._resize(0,0),n("attach",d)},s.isAttached(this.canvas)?d():c()}unbindEvents(){ds(this._listeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._listeners={},ds(this._responsiveListeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,s,n){const i=n?"set":"remove";let o,c,d,h;for(s==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+i+"DatasetHoverStyle"]()),d=0,h=t.length;d<h;++d){c=t[d];const f=c&&this.getDatasetMeta(c.datasetIndex).controller;f&&f[i+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const s=this._active||[],n=t.map(({datasetIndex:o,index:c})=>{const d=this.getDatasetMeta(o);if(!d)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:d.data[c],index:c}});!Zh(n,s)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,s))}notifyPlugins(t,s,n){return this._plugins.notify(this,t,s,n)}isPluginEnabled(t){return this._plugins._cache.filter(s=>s.plugin.id===t).length===1}_updateHoverStyles(t,s,n){const i=this.options.hover,o=(h,f)=>h.filter(p=>!f.some(g=>p.datasetIndex===g.datasetIndex&&p.index===g.index)),c=o(s,t),d=n?t:o(t,s);c.length&&this.updateHoverStyle(c,i.mode,!1),d.length&&i.mode&&this.updateHoverStyle(d,i.mode,!0)}_eventHandler(t,s){const n={event:t,replay:s,cancelable:!0,inChartArea:this.isPointInArea(t)},i=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const o=this._handleEvent(t,s,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(o||n.changed)&&this.render(),this}_handleEvent(t,s,n){const{_active:i=[],options:o}=this,c=s,d=this._getActiveElements(t,i,n,c),h=RB(t),f=eU(t,this._lastEvent,n,h);n&&(this._lastEvent=null,Ns(o.onHover,[t,d,this],this),h&&Ns(o.onClick,[t,d,this],this));const p=!Zh(d,i);return(p||s)&&(this._active=d,this._updateHoverStyles(d,i,s)),this._lastEvent=f,p}_getActiveElements(t,s,n,i){if(t.type==="mouseout")return[];if(!n)return s;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,i)}}kt(Fi,"defaults",Is),kt(Fi,"instances",Uh),kt(Fi,"overrides",Qo),kt(Fi,"registry",hr),kt(Fi,"version",K8),kt(Fi,"getChart",o_);function l_(){return ds(Fi.instances,e=>e._plugins.invalidate())}function tU(e,t,s){const{startAngle:n,x:i,y:o,outerRadius:c,innerRadius:d,options:h}=t,{borderWidth:f,borderJoinStyle:p}=h,g=Math.min(f/c,mr(n-s));if(e.beginPath(),e.arc(i,o,c-f/2,n+g/2,s-g/2),d>0){const x=Math.min(f/d,mr(n-s));e.arc(i,o,d+f/2,s-x/2,n+x/2,!0)}else{const x=Math.min(f/2,c*mr(n-s));if(p==="round")e.arc(i,o,x,s-_s/2,n+_s/2,!0);else if(p==="bevel"){const b=2*x*x,j=-b*Math.cos(s+_s/2)+i,v=-b*Math.sin(s+_s/2)+o,_=b*Math.cos(n+_s/2)+i,T=b*Math.sin(n+_s/2)+o;e.lineTo(j,v),e.lineTo(_,T)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function sU(e,t,s){const{startAngle:n,pixelMargin:i,x:o,y:c,outerRadius:d,innerRadius:h}=t;let f=i/d;e.beginPath(),e.arc(o,c,d,n-f,s+f),h>i?(f=i/h,e.arc(o,c,h,s+f,n-f,!0)):e.arc(o,c,i,s+bn,n-bn),e.closePath(),e.clip()}function nU(e){return zy(e,["outerStart","outerEnd","innerStart","innerEnd"])}function aU(e,t,s,n){const i=nU(e.options.borderRadius),o=(s-t)/2,c=Math.min(o,n*t/2),d=h=>{const f=(s-Math.min(o,h))*n/2;return Qn(h,0,Math.min(o,f))};return{outerStart:d(i.outerStart),outerEnd:d(i.outerEnd),innerStart:Qn(i.innerStart,0,c),innerEnd:Qn(i.innerEnd,0,c)}}function Xl(e,t,s,n){return{x:s+e*Math.cos(t),y:n+e*Math.sin(t)}}function lm(e,t,s,n,i,o){const{x:c,y:d,startAngle:h,pixelMargin:f,innerRadius:p}=t,g=Math.max(t.outerRadius+n+s-f,0),x=p>0?p+n+s+f:0;let b=0;const j=i-h;if(n){const I=p>0?p-n:0,H=g>0?g-n:0,J=(I+H)/2,te=J!==0?j*J/(J+n):j;b=(j-te)/2}const v=Math.max(.001,j*g-s/_s)/g,_=(j-v)/2,T=h+_+b,A=i-_-b,{outerStart:C,outerEnd:S,innerStart:D,innerEnd:E}=aU(t,x,g,A-T),B=g-C,U=g-S,R=T+C/B,K=A-S/U,W=x+D,Z=x+E,q=T+D/W,G=A-E/Z;if(e.beginPath(),o){const I=(R+K)/2;if(e.arc(c,d,g,R,I),e.arc(c,d,g,I,K),S>0){const de=Xl(U,K,c,d);e.arc(de.x,de.y,S,K,A+bn)}const H=Xl(Z,A,c,d);if(e.lineTo(H.x,H.y),E>0){const de=Xl(Z,G,c,d);e.arc(de.x,de.y,E,A+bn,G+Math.PI)}const J=(A-E/x+(T+D/x))/2;if(e.arc(c,d,x,A-E/x,J,!0),e.arc(c,d,x,J,T+D/x,!0),D>0){const de=Xl(W,q,c,d);e.arc(de.x,de.y,D,q+Math.PI,T-bn)}const te=Xl(B,T,c,d);if(e.lineTo(te.x,te.y),C>0){const de=Xl(B,R,c,d);e.arc(de.x,de.y,C,T-bn,R)}}else{e.moveTo(c,d);const I=Math.cos(R)*g+c,H=Math.sin(R)*g+d;e.lineTo(I,H);const J=Math.cos(K)*g+c,te=Math.sin(K)*g+d;e.lineTo(J,te)}e.closePath()}function rU(e,t,s,n,i){const{fullCircles:o,startAngle:c,circumference:d}=t;let h=t.endAngle;if(o){lm(e,t,s,n,h,i);for(let f=0;f<o;++f)e.fill();isNaN(d)||(h=c+(d%Ln||Ln))}return lm(e,t,s,n,h,i),e.fill(),h}function iU(e,t,s,n,i){const{fullCircles:o,startAngle:c,circumference:d,options:h}=t,{borderWidth:f,borderJoinStyle:p,borderDash:g,borderDashOffset:x,borderRadius:b}=h,j=h.borderAlign==="inner";if(!f)return;e.setLineDash(g||[]),e.lineDashOffset=x,j?(e.lineWidth=f*2,e.lineJoin=p||"round"):(e.lineWidth=f,e.lineJoin=p||"bevel");let v=t.endAngle;if(o){lm(e,t,s,n,v,i);for(let _=0;_<o;++_)e.stroke();isNaN(d)||(v=c+(d%Ln||Ln))}j&&sU(e,t,v),h.selfJoin&&v-c>=_s&&b===0&&p!=="miter"&&tU(e,t,v),o||(lm(e,t,s,n,v,i),e.stroke())}class Wd extends nl{constructor(s){super();kt(this,"circumference");kt(this,"endAngle");kt(this,"fullCircles");kt(this,"innerRadius");kt(this,"outerRadius");kt(this,"pixelMargin");kt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,n,i){const o=this.getProps(["x","y"],i),{angle:c,distance:d}=PS(o,{x:s,y:n}),{startAngle:h,endAngle:f,innerRadius:p,outerRadius:g,circumference:x}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),b=(this.options.spacing+this.options.borderWidth)/2,j=us(x,f-h),v=LS(c,h,f)&&h!==f,_=j>=Ln||v,T=Vo(d,p+b,g+b);return _&&T}getCenterPoint(s){const{x:n,y:i,startAngle:o,endAngle:c,innerRadius:d,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:f,spacing:p}=this.options,g=(o+c)/2,x=(d+h+p+f)/2;return{x:n+Math.cos(g)*x,y:i+Math.sin(g)*x}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:n,circumference:i}=this,o=(n.offset||0)/4,c=(n.spacing||0)/2,d=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>Ln?Math.floor(i/Ln):0,i===0||this.innerRadius<0||this.outerRadius<0)return;s.save();const h=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(h)*o,Math.sin(h)*o);const f=1-Math.sin(Math.min(_s,i||0)),p=o*f;s.fillStyle=n.backgroundColor,s.strokeStyle=n.borderColor,rU(s,this,p,c,d),iU(s,this,p,c,d),s.restore()}}kt(Wd,"id","arc"),kt(Wd,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),kt(Wd,"defaultRoutes",{backgroundColor:"backgroundColor"}),kt(Wd,"descriptors",{_scriptable:!0,_indexable:s=>s!=="borderDash"});function cC(e,t){const{x:s,y:n,base:i,width:o,height:c}=e.getProps(["x","y","base","width","height"],t);let d,h,f,p,g;return e.horizontal?(g=c/2,d=Math.min(s,i),h=Math.max(s,i),f=n-g,p=n+g):(g=o/2,d=s-g,h=s+g,f=Math.min(n,i),p=Math.max(n,i)),{left:d,top:f,right:h,bottom:p}}function $i(e,t,s,n){return e?0:Qn(t,s,n)}function oU(e,t,s){const n=e.options.borderWidth,i=e.borderSkipped,o=qS(n);return{t:$i(i.top,o.top,0,s),r:$i(i.right,o.right,0,t),b:$i(i.bottom,o.bottom,0,s),l:$i(i.left,o.left,0,t)}}function lU(e,t,s){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,o=oc(i),c=Math.min(t,s),d=e.borderSkipped,h=n||as(i);return{topLeft:$i(!h||d.top||d.left,o.topLeft,0,c),topRight:$i(!h||d.top||d.right,o.topRight,0,c),bottomLeft:$i(!h||d.bottom||d.left,o.bottomLeft,0,c),bottomRight:$i(!h||d.bottom||d.right,o.bottomRight,0,c)}}function cU(e){const t=cC(e),s=t.right-t.left,n=t.bottom-t.top,i=oU(e,s/2,n/2),o=lU(e,s/2,n/2);return{outer:{x:t.left,y:t.top,w:s,h:n,radius:o},inner:{x:t.left+i.l,y:t.top+i.t,w:s-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function Tx(e,t,s,n){const i=t===null,o=s===null,d=e&&!(i&&o)&&cC(e,n);return d&&(i||Vo(t,d.left,d.right))&&(o||Vo(s,d.top,d.bottom))}function dU(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function uU(e,t){e.rect(t.x,t.y,t.w,t.h)}function Sx(e,t,s={}){const n=e.x!==s.x?-t:0,i=e.y!==s.y?-t:0,o=(e.x+e.w!==s.x+s.w?t:0)-n,c=(e.y+e.h!==s.y+s.h?t:0)-i;return{x:e.x+n,y:e.y+i,w:e.w+o,h:e.h+c,radius:e.radius}}class zh extends nl{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:s,options:{borderColor:n,backgroundColor:i}}=this,{inner:o,outer:c}=cU(this),d=dU(c.radius)?rm:uU;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),d(t,Sx(c,s,o)),t.clip(),d(t,Sx(o,-s,c)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),d(t,Sx(o,s)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,s,n){return Tx(this,t,s,n)}inXRange(t,s){return Tx(this,t,null,s)}inYRange(t,s){return Tx(this,null,t,s)}getCenterPoint(t){const{x:s,y:n,base:i,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(s+i)/2:s,y:o?n:(n+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}kt(zh,"id","bar"),kt(zh,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),kt(zh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const c_=(e,t)=>{let{boxHeight:s=t,boxWidth:n=t}=e;return e.usePointStyle&&(s=Math.min(s,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(t,s)}},fU=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class d_ extends nl{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s,n){this.maxWidth=t,this.maxHeight=s,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let s=Ns(t.generateLabels,[this.chart],this)||[];t.filter&&(s=s.filter(n=>t.filter(n,this.chart.data))),t.sort&&(s=s.sort((n,i)=>t.sort(n,i,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:t,ctx:s}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,i=Dn(n.font),o=i.size,c=this._computeTitleHeight(),{boxWidth:d,itemHeight:h}=c_(n,o);let f,p;s.font=i.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(c,o,d,h)+10):(p=this.maxHeight,f=this._fitCols(c,i,d,h)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,s,n,i){const{ctx:o,maxWidth:c,options:{labels:{padding:d}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],p=i+d;let g=t;o.textAlign="left",o.textBaseline="middle";let x=-1,b=-p;return this.legendItems.forEach((j,v)=>{const _=n+s/2+o.measureText(j.text).width;(v===0||f[f.length-1]+_+2*d>c)&&(g+=p,f[f.length-(v>0?0:1)]=0,b+=p,x++),h[v]={left:0,top:b,row:x,width:_,height:i},f[f.length-1]+=_+d}),g}_fitCols(t,s,n,i){const{ctx:o,maxHeight:c,options:{labels:{padding:d}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],p=c-t;let g=d,x=0,b=0,j=0,v=0;return this.legendItems.forEach((_,T)=>{const{itemWidth:A,itemHeight:C}=hU(n,s,o,_,i);T>0&&b+C+2*d>p&&(g+=x+d,f.push({width:x,height:b}),j+=x+d,v++,x=b=0),h[T]={left:j,top:b,col:v,width:A,height:C},x=Math.max(x,A),b+=C+d}),g+=x,f.push({width:x,height:b}),g}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:n,labels:{padding:i},rtl:o}}=this,c=lc(o,this.left,this.width);if(this.isHorizontal()){let d=0,h=kn(n,this.left+i,this.right-this.lineWidths[d]);for(const f of s)d!==f.row&&(d=f.row,h=kn(n,this.left+i,this.right-this.lineWidths[d])),f.top+=this.top+t+i,f.left=c.leftForLtr(c.x(h),f.width),h+=f.width+i}else{let d=0,h=kn(n,this.top+t+i,this.bottom-this.columnSizes[d].height);for(const f of s)f.col!==d&&(d=f.col,h=kn(n,this.top+t+i,this.bottom-this.columnSizes[d].height)),f.top=h,f.left+=this.left+i,f.left=c.leftForLtr(c.x(f.left),f.width),h+=f.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Fy(t,this),this._draw(),Uy(t)}}_draw(){const{options:t,columnSizes:s,lineWidths:n,ctx:i}=this,{align:o,labels:c}=t,d=Is.color,h=lc(t.rtl,this.left,this.width),f=Dn(c.font),{padding:p}=c,g=f.size,x=g/2;let b;this.drawTitle(),i.textAlign=h.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=f.string;const{boxWidth:j,boxHeight:v,itemHeight:_}=c_(c,g),T=function(E,B,U){if(isNaN(j)||j<=0||isNaN(v)||v<0)return;i.save();const R=us(U.lineWidth,1);if(i.fillStyle=us(U.fillStyle,d),i.lineCap=us(U.lineCap,"butt"),i.lineDashOffset=us(U.lineDashOffset,0),i.lineJoin=us(U.lineJoin,"miter"),i.lineWidth=R,i.strokeStyle=us(U.strokeStyle,d),i.setLineDash(us(U.lineDash,[])),c.usePointStyle){const K={radius:v*Math.SQRT2/2,pointStyle:U.pointStyle,rotation:U.rotation,borderWidth:R},W=h.xPlus(E,j/2),Z=B+x;IS(i,K,W,Z,c.pointStyleWidth&&j)}else{const K=B+Math.max((g-v)/2,0),W=h.leftForLtr(E,j),Z=oc(U.borderRadius);i.beginPath(),Object.values(Z).some(q=>q!==0)?rm(i,{x:W,y:K,w:j,h:v,radius:Z}):i.rect(W,K,j,v),i.fill(),R!==0&&i.stroke()}i.restore()},A=function(E,B,U){du(i,U.text,E,B+_/2,f,{strikethrough:U.hidden,textAlign:h.textAlign(U.textAlign)})},C=this.isHorizontal(),S=this._computeTitleHeight();C?b={x:kn(o,this.left+p,this.right-n[0]),y:this.top+p+S,line:0}:b={x:this.left+p,y:kn(o,this.top+S+p,this.bottom-s[0].height),line:0},KS(this.ctx,t.textDirection);const D=_+p;this.legendItems.forEach((E,B)=>{i.strokeStyle=E.fontColor,i.fillStyle=E.fontColor;const U=i.measureText(E.text).width,R=h.textAlign(E.textAlign||(E.textAlign=c.textAlign)),K=j+x+U;let W=b.x,Z=b.y;h.setWidth(this.width),C?B>0&&W+K+p>this.right&&(Z=b.y+=D,b.line++,W=b.x=kn(o,this.left+p,this.right-n[b.line])):B>0&&Z+D>this.bottom&&(W=b.x=W+s[b.line].width+p,b.line++,Z=b.y=kn(o,this.top+S+p,this.bottom-s[b.line].height));const q=h.x(W);if(T(q,Z,E),W=YB(R,W+j+x,C?W+K:this.right,t.rtl),A(h.x(W),Z,E),C)b.x+=K+p;else if(typeof E.text!="string"){const G=f.lineHeight;b.y+=dC(E,G)+p}else b.y+=D}),QS(this.ctx,t.textDirection)}drawTitle(){const t=this.options,s=t.title,n=Dn(s.font),i=Pa(s.padding);if(!s.display)return;const o=lc(t.rtl,this.left,this.width),c=this.ctx,d=s.position,h=n.size/2,f=i.top+h;let p,g=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),p=this.top+f,g=kn(t.align,g,this.right-x);else{const j=this.columnSizes.reduce((v,_)=>Math.max(v,_.height),0);p=f+kn(t.align,this.top,this.bottom-j-t.labels.padding-this._computeTitleHeight())}const b=kn(d,g,g+x);c.textAlign=o.textAlign(By(d)),c.textBaseline="middle",c.strokeStyle=s.color,c.fillStyle=s.color,c.font=n.string,du(c,s.text,b,p,n)}_computeTitleHeight(){const t=this.options.title,s=Dn(t.font),n=Pa(t.padding);return t.display?s.lineHeight+n.height:0}_getLegendItemAt(t,s){let n,i,o;if(Vo(t,this.left,this.right)&&Vo(s,this.top,this.bottom)){for(o=this.legendHitBoxes,n=0;n<o.length;++n)if(i=o[n],Vo(t,i.left,i.left+i.width)&&Vo(s,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(t){const s=this.options;if(!gU(t.type,s))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,o=fU(i,n);i&&!o&&Ns(s.onLeave,[t,i,this],this),this._hoveredItem=n,n&&!o&&Ns(s.onHover,[t,n,this],this)}else n&&Ns(s.onClick,[t,n,this],this)}}function hU(e,t,s,n,i){const o=mU(n,e,t,s),c=pU(i,n,t.lineHeight);return{itemWidth:o,itemHeight:c}}function mU(e,t,s,n){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((o,c)=>o.length>c.length?o:c)),t+s.size/2+n.measureText(i).width}function pU(e,t,s){let n=e;return typeof t.text!="string"&&(n=dC(t,s)),n}function dC(e,t){const s=e.text?e.text.length:0;return t*s}function gU(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var xU={id:"legend",_element:d_,start(e,t,s){const n=e.legend=new d_({ctx:e.ctx,options:s,chart:e});Aa.configure(e,n,s),Aa.addBox(e,n)},stop(e){Aa.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,s){const n=e.legend;Aa.configure(e,n,s),n.options=s},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,s){const n=t.datasetIndex,i=s.chart;i.isDatasetVisible(n)?(i.hide(n),t.hidden=!0):(i.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:i,color:o,useBorderRadius:c,borderRadius:d}}=e.legend.options;return e._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(s?0:void 0),p=Pa(f.borderWidth);return{text:t[h.index].label,fillStyle:f.backgroundColor,fontColor:o,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:n||f.pointStyle,rotation:f.rotation,textAlign:i||f.textAlign,borderRadius:c&&(d||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};let uC=class extends nl{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=s;const i=fn(n.text)?n.text.length:1;this._padding=Pa(n.padding);const o=i*Dn(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:s,left:n,bottom:i,right:o,options:c}=this,d=c.align;let h=0,f,p,g;return this.isHorizontal()?(p=kn(d,n,o),g=s+t,f=o-n):(c.position==="left"?(p=n+t,g=kn(d,i,s),h=_s*-.5):(p=o-t,g=kn(d,s,i),h=_s*.5),f=i-s),{titleX:p,titleY:g,maxWidth:f,rotation:h}}draw(){const t=this.ctx,s=this.options;if(!s.display)return;const n=Dn(s.font),o=n.lineHeight/2+this._padding.top,{titleX:c,titleY:d,maxWidth:h,rotation:f}=this._drawArgs(o);du(t,s.text,0,0,n,{color:s.color,maxWidth:h,rotation:f,textAlign:By(s.align),textBaseline:"middle",translation:[c,d]})}};function yU(e,t){const s=new uC({ctx:e.ctx,options:t,chart:e});Aa.configure(e,s,t),Aa.addBox(e,s),e.titleBlock=s}var bU={id:"title",_element:uC,start(e,t,s){yU(e,s)},stop(e){const t=e.titleBlock;Aa.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,s){const n=e.titleBlock;Aa.configure(e,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Yd={average(e){if(!e.length)return!1;let t,s,n=new Set,i=0,o=0;for(t=0,s=e.length;t<s;++t){const d=e[t].element;if(d&&d.hasValue()){const h=d.tooltipPosition();n.add(h.x),i+=h.y,++o}}return o===0||n.size===0?!1:{x:[...n].reduce((d,h)=>d+h)/n.size,y:i/o}},nearest(e,t){if(!e.length)return!1;let s=t.x,n=t.y,i=Number.POSITIVE_INFINITY,o,c,d;for(o=0,c=e.length;o<c;++o){const h=e[o].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),p=zB(t,f);p<i&&(i=p,d=h)}}if(d){const h=d.tooltipPosition();s=h.x,n=h.y}return{x:s,y:n}}};function dr(e,t){return t&&(fn(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Qr(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function vU(e,t){const{element:s,datasetIndex:n,index:i}=t,o=e.getDatasetMeta(n).controller,{label:c,value:d}=o.getLabelAndValue(i);return{chart:e,label:c,parsed:o.getParsed(i),raw:e.data.datasets[n].data[i],formattedValue:d,dataset:o.getDataset(),dataIndex:i,datasetIndex:n,element:s}}function u_(e,t){const s=e.chart.ctx,{body:n,footer:i,title:o}=e,{boxWidth:c,boxHeight:d}=t,h=Dn(t.bodyFont),f=Dn(t.titleFont),p=Dn(t.footerFont),g=o.length,x=i.length,b=n.length,j=Pa(t.padding);let v=j.height,_=0,T=n.reduce((S,D)=>S+D.before.length+D.lines.length+D.after.length,0);if(T+=e.beforeBody.length+e.afterBody.length,g&&(v+=g*f.lineHeight+(g-1)*t.titleSpacing+t.titleMarginBottom),T){const S=t.displayColors?Math.max(d,h.lineHeight):h.lineHeight;v+=b*S+(T-b)*h.lineHeight+(T-1)*t.bodySpacing}x&&(v+=t.footerMarginTop+x*p.lineHeight+(x-1)*t.footerSpacing);let A=0;const C=function(S){_=Math.max(_,s.measureText(S).width+A)};return s.save(),s.font=f.string,ds(e.title,C),s.font=h.string,ds(e.beforeBody.concat(e.afterBody),C),A=t.displayColors?c+2+t.boxPadding:0,ds(n,S=>{ds(S.before,C),ds(S.lines,C),ds(S.after,C)}),A=0,s.font=p.string,ds(e.footer,C),s.restore(),_+=j.width,{width:_,height:v}}function wU(e,t){const{y:s,height:n}=t;return s<n/2?"top":s>e.height-n/2?"bottom":"center"}function jU(e,t,s,n){const{x:i,width:o}=n,c=s.caretSize+s.caretPadding;if(e==="left"&&i+o+c>t.width||e==="right"&&i-o-c<0)return!0}function NU(e,t,s,n){const{x:i,width:o}=s,{width:c,chartArea:{left:d,right:h}}=e;let f="center";return n==="center"?f=i<=(d+h)/2?"left":"right":i<=o/2?f="left":i>=c-o/2&&(f="right"),jU(f,e,t,s)&&(f="center"),f}function f_(e,t,s){const n=s.yAlign||t.yAlign||wU(e,s);return{xAlign:s.xAlign||t.xAlign||NU(e,t,s,n),yAlign:n}}function _U(e,t){let{x:s,width:n}=e;return t==="right"?s-=n:t==="center"&&(s-=n/2),s}function TU(e,t,s){let{y:n,height:i}=e;return t==="top"?n+=s:t==="bottom"?n-=i+s:n-=i/2,n}function h_(e,t,s,n){const{caretSize:i,caretPadding:o,cornerRadius:c}=e,{xAlign:d,yAlign:h}=s,f=i+o,{topLeft:p,topRight:g,bottomLeft:x,bottomRight:b}=oc(c);let j=_U(t,d);const v=TU(t,h,f);return h==="center"?d==="left"?j+=f:d==="right"&&(j-=f):d==="left"?j-=Math.max(p,x)+i:d==="right"&&(j+=Math.max(g,b)+i),{x:Qn(j,0,n.width-t.width),y:Qn(v,0,n.height-t.height)}}function ph(e,t,s){const n=Pa(s.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-n.right:e.x+n.left}function m_(e){return dr([],Qr(e))}function SU(e,t,s){return Nc(e,{tooltip:t,tooltipItems:s,type:"tooltip"})}function p_(e,t){const s=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return s?e.override(s):e}const fC={beforeTitle:Yr,title(e){if(e.length>0){const t=e[0],s=t.chart.data.labels,n=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return s[t.dataIndex]}return""},afterTitle:Yr,beforeBody:Yr,beforeLabel:Yr,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const s=e.formattedValue;return Os(s)||(t+=s),t},labelColor(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:Yr,afterBody:Yr,beforeFooter:Yr,footer:Yr,afterFooter:Yr};function qn(e,t,s,n){const i=e[t].call(s,n);return typeof i=="undefined"?fC[t].call(s,n):i}class j0 extends nl{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const s=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&s.options.animation&&n.animations,o=new ZS(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=SU(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,s){const{callbacks:n}=s,i=qn(n,"beforeTitle",this,t),o=qn(n,"title",this,t),c=qn(n,"afterTitle",this,t);let d=[];return d=dr(d,Qr(i)),d=dr(d,Qr(o)),d=dr(d,Qr(c)),d}getBeforeBody(t,s){return m_(qn(s.callbacks,"beforeBody",this,t))}getBody(t,s){const{callbacks:n}=s,i=[];return ds(t,o=>{const c={before:[],lines:[],after:[]},d=p_(n,o);dr(c.before,Qr(qn(d,"beforeLabel",this,o))),dr(c.lines,qn(d,"label",this,o)),dr(c.after,Qr(qn(d,"afterLabel",this,o))),i.push(c)}),i}getAfterBody(t,s){return m_(qn(s.callbacks,"afterBody",this,t))}getFooter(t,s){const{callbacks:n}=s,i=qn(n,"beforeFooter",this,t),o=qn(n,"footer",this,t),c=qn(n,"afterFooter",this,t);let d=[];return d=dr(d,Qr(i)),d=dr(d,Qr(o)),d=dr(d,Qr(c)),d}_createItems(t){const s=this._active,n=this.chart.data,i=[],o=[],c=[];let d=[],h,f;for(h=0,f=s.length;h<f;++h)d.push(vU(this.chart,s[h]));return t.filter&&(d=d.filter((p,g,x)=>t.filter(p,g,x,n))),t.itemSort&&(d=d.sort((p,g)=>t.itemSort(p,g,n))),ds(d,p=>{const g=p_(t.callbacks,p);i.push(qn(g,"labelColor",this,p)),o.push(qn(g,"labelPointStyle",this,p)),c.push(qn(g,"labelTextColor",this,p))}),this.labelColors=i,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=d,d}update(t,s){const n=this.options.setContext(this.getContext()),i=this._active;let o,c=[];if(!i.length)this.opacity!==0&&(o={opacity:0});else{const d=Yd[n.position].call(this,i,this._eventPosition);c=this._createItems(n),this.title=this.getTitle(c,n),this.beforeBody=this.getBeforeBody(c,n),this.body=this.getBody(c,n),this.afterBody=this.getAfterBody(c,n),this.footer=this.getFooter(c,n);const h=this._size=u_(this,n),f=Object.assign({},d,h),p=f_(this.chart,n,f),g=h_(n,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:g.x,y:g.y,width:h.width,height:h.height,caretX:d.x,caretY:d.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(t,s,n,i){const o=this.getCaretPosition(t,n,i);s.lineTo(o.x1,o.y1),s.lineTo(o.x2,o.y2),s.lineTo(o.x3,o.y3)}getCaretPosition(t,s,n){const{xAlign:i,yAlign:o}=this,{caretSize:c,cornerRadius:d}=n,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:g}=oc(d),{x,y:b}=t,{width:j,height:v}=s;let _,T,A,C,S,D;return o==="center"?(S=b+v/2,i==="left"?(_=x,T=_-c,C=S+c,D=S-c):(_=x+j,T=_+c,C=S-c,D=S+c),A=_):(i==="left"?T=x+Math.max(h,p)+c:i==="right"?T=x+j-Math.max(f,g)-c:T=this.caretX,o==="top"?(C=b,S=C-c,_=T-c,A=T+c):(C=b+v,S=C+c,_=T+c,A=T-c),D=C),{x1:_,x2:T,x3:A,y1:C,y2:S,y3:D}}drawTitle(t,s,n){const i=this.title,o=i.length;let c,d,h;if(o){const f=lc(n.rtl,this.x,this.width);for(t.x=ph(this,n.titleAlign,n),s.textAlign=f.textAlign(n.titleAlign),s.textBaseline="middle",c=Dn(n.titleFont),d=n.titleSpacing,s.fillStyle=n.titleColor,s.font=c.string,h=0;h<o;++h)s.fillText(i[h],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+d,h+1===o&&(t.y+=n.titleMarginBottom-d)}}_drawColorBox(t,s,n,i,o){const c=this.labelColors[n],d=this.labelPointStyles[n],{boxHeight:h,boxWidth:f}=o,p=Dn(o.bodyFont),g=ph(this,"left",o),x=i.x(g),b=h<p.lineHeight?(p.lineHeight-h)/2:0,j=s.y+b;if(o.usePointStyle){const v={radius:Math.min(f,h)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},_=i.leftForLtr(x,f)+f/2,T=j+h/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,RN(t,v,_,T),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,RN(t,v,_,T)}else{t.lineWidth=as(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const v=i.leftForLtr(x,f),_=i.leftForLtr(i.xPlus(x,1),f-2),T=oc(c.borderRadius);Object.values(T).some(A=>A!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,rm(t,{x:v,y:j,w:f,h,radius:T}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),rm(t,{x:_,y:j+1,w:f-2,h:h-2,radius:T}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(v,j,f,h),t.strokeRect(v,j,f,h),t.fillStyle=c.backgroundColor,t.fillRect(_,j+1,f-2,h-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,s,n){const{body:i}=this,{bodySpacing:o,bodyAlign:c,displayColors:d,boxHeight:h,boxWidth:f,boxPadding:p}=n,g=Dn(n.bodyFont);let x=g.lineHeight,b=0;const j=lc(n.rtl,this.x,this.width),v=function(U){s.fillText(U,j.x(t.x+b),t.y+x/2),t.y+=x+o},_=j.textAlign(c);let T,A,C,S,D,E,B;for(s.textAlign=c,s.textBaseline="middle",s.font=g.string,t.x=ph(this,_,n),s.fillStyle=n.bodyColor,ds(this.beforeBody,v),b=d&&_!=="right"?c==="center"?f/2+p:f+2+p:0,S=0,E=i.length;S<E;++S){for(T=i[S],A=this.labelTextColors[S],s.fillStyle=A,ds(T.before,v),C=T.lines,d&&C.length&&(this._drawColorBox(s,t,S,j,n),x=Math.max(g.lineHeight,h)),D=0,B=C.length;D<B;++D)v(C[D]),x=g.lineHeight;ds(T.after,v)}b=0,x=g.lineHeight,ds(this.afterBody,v),t.y-=o}drawFooter(t,s,n){const i=this.footer,o=i.length;let c,d;if(o){const h=lc(n.rtl,this.x,this.width);for(t.x=ph(this,n.footerAlign,n),t.y+=n.footerMarginTop,s.textAlign=h.textAlign(n.footerAlign),s.textBaseline="middle",c=Dn(n.footerFont),s.fillStyle=n.footerColor,s.font=c.string,d=0;d<o;++d)s.fillText(i[d],h.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+n.footerSpacing}}drawBackground(t,s,n,i){const{xAlign:o,yAlign:c}=this,{x:d,y:h}=t,{width:f,height:p}=n,{topLeft:g,topRight:x,bottomLeft:b,bottomRight:j}=oc(i.cornerRadius);s.fillStyle=i.backgroundColor,s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.beginPath(),s.moveTo(d+g,h),c==="top"&&this.drawCaret(t,s,n,i),s.lineTo(d+f-x,h),s.quadraticCurveTo(d+f,h,d+f,h+x),c==="center"&&o==="right"&&this.drawCaret(t,s,n,i),s.lineTo(d+f,h+p-j),s.quadraticCurveTo(d+f,h+p,d+f-j,h+p),c==="bottom"&&this.drawCaret(t,s,n,i),s.lineTo(d+b,h+p),s.quadraticCurveTo(d,h+p,d,h+p-b),c==="center"&&o==="left"&&this.drawCaret(t,s,n,i),s.lineTo(d,h+g),s.quadraticCurveTo(d,h,d+g,h),s.closePath(),s.fill(),i.borderWidth>0&&s.stroke()}_updateAnimationTarget(t){const s=this.chart,n=this.$animations,i=n&&n.x,o=n&&n.y;if(i||o){const c=Yd[t.position].call(this,this._active,this._eventPosition);if(!c)return;const d=this._size=u_(this,t),h=Object.assign({},c,this._size),f=f_(s,t,h),p=h_(t,h,f,s);(i._to!==p.x||o._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=d.width,this.height=d.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const s=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(s);const i={width:this.width,height:this.height},o={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const c=Pa(s.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&d&&(t.save(),t.globalAlpha=n,this.drawBackground(o,t,i,s),KS(t,s.textDirection),o.y+=c.top,this.drawTitle(o,t,s),this.drawBody(o,t,s),this.drawFooter(o,t,s),QS(t,s.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,s){const n=this._active,i=t.map(({datasetIndex:d,index:h})=>{const f=this.chart.getDatasetMeta(d);if(!f)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:f.data[h],index:h}}),o=!Zh(n,i),c=this._positionChanged(i,s);(o||c)&&(this._active=i,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,s,n=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,o=this._active||[],c=this._getActiveElements(t,o,s,n),d=this._positionChanged(c,t),h=s||!Zh(c,o)||d;return h&&(this._active=c,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,s))),h}_getActiveElements(t,s,n,i){const o=this.options;if(t.type==="mouseout")return[];if(!i)return s.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,n);return o.reverse&&c.reverse(),c}_positionChanged(t,s){const{caretX:n,caretY:i,options:o}=this,c=Yd[o.position].call(this,t,s);return c!==!1&&(n!==c.x||i!==c.y)}}kt(j0,"positioners",Yd);var CU={id:"tooltip",_element:j0,positioners:Yd,afterInit(e,t,s){s&&(e.tooltip=new j0({chart:e,options:s}))},beforeUpdate(e,t,s){e.tooltip&&e.tooltip.initialize(s)},reset(e,t,s){e.tooltip&&e.tooltip.initialize(s)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const s={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",le(F({},s),{cancelable:!0}))===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",s)}},afterEvent(e,t){if(e.tooltip){const s=t.replay;e.tooltip.handleEvent(t.event,s,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:fC},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const kU=(e,t,s,n)=>(typeof t=="string"?(s=e.push(t)-1,n.unshift({index:s,label:t})):isNaN(t)&&(s=null),s);function EU(e,t,s,n){const i=e.indexOf(t);if(i===-1)return kU(e,t,s,n);const o=e.lastIndexOf(t);return i!==o?s:i}const DU=(e,t)=>e===null?null:Qn(Math.round(e),0,t);function g_(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class N0 extends _c{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const s=this._addedLabels;if(s.length){const n=this.getLabels();for(const{index:i,label:o}of s)n[i]===o&&n.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,s){if(Os(t))return null;const n=this.getLabels();return s=isFinite(s)&&n[s]===t?s:EU(n,t,us(s,t),this._addedLabels),DU(s,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),s||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,s=this.max,n=this.options.offset,i=[];let o=this.getLabels();o=t===0&&s===o.length-1?o:o.slice(t,s+1),this._valueRange=Math.max(o.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let c=t;c<=s;c++)i.push({value:c});return i}getLabelForValue(t){return g_.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}kt(N0,"id","category"),kt(N0,"defaults",{ticks:{callback:g_}});function AU(e,t){const s=[],{bounds:i,step:o,min:c,max:d,precision:h,count:f,maxTicks:p,maxDigits:g,includeBounds:x}=e,b=o||1,j=p-1,{min:v,max:_}=t,T=!Os(c),A=!Os(d),C=!Os(f),S=(_-v)/(g+1);let D=_N((_-v)/j/b)*b,E,B,U,R;if(D<1e-14&&!T&&!A)return[{value:v},{value:_}];R=Math.ceil(_/D)-Math.floor(v/D),R>j&&(D=_N(R*D/j/b)*b),Os(h)||(E=Math.pow(10,h),D=Math.ceil(D*E)/E),i==="ticks"?(B=Math.floor(v/D)*D,U=Math.ceil(_/D)*D):(B=v,U=_),T&&A&&o&&BB((d-c)/o,D/1e3)?(R=Math.round(Math.min((d-c)/D,p)),D=(d-c)/R,B=c,U=d):C?(B=T?c:B,U=A?d:U,R=f-1,D=(U-B)/R):(R=(U-B)/D,Lh(R,Math.round(R),D/1e3)?R=Math.round(R):R=Math.ceil(R));const K=Math.max(TN(D),TN(B));E=Math.pow(10,Os(h)?K:h),B=Math.round(B*E)/E,U=Math.round(U*E)/E;let W=0;for(T&&(x&&B!==c?(s.push({value:c}),B<c&&W++,Lh(Math.round((B+W*D)*E)/E,c,x_(c,S,e))&&W++):B<c&&W++);W<R;++W){const Z=Math.round((B+W*D)*E)/E;if(A&&Z>d)break;s.push({value:Z})}return A&&x&&U!==d?s.length&&Lh(s[s.length-1].value,d,x_(d,S,e))?s[s.length-1].value=d:s.push({value:d}):(!A||U===d)&&s.push({value:U}),s}function x_(e,t,{horizontal:s,minRotation:n}){const i=Io(n),o=(s?Math.sin(i):Math.cos(i))||.001,c=.75*t*(""+e).length;return Math.min(t/o,c)}class OU extends _c{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,s){return Os(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:s,maxDefined:n}=this.getUserBounds();let{min:i,max:o}=this;const c=h=>i=s?i:h,d=h=>o=n?o:h;if(t){const h=nm(i),f=nm(o);h<0&&f<0?d(0):h>0&&f>0&&c(0)}if(i===o){let h=o===0?1:Math.abs(o*.05);d(o+h),t||c(i-h)}this.min=i,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:s,stepSize:n}=t,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),s=s||11),s&&(i=Math.min(s,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,s=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},o=this._range||this,c=AU(i,o);return t.bounds==="ticks"&&FB(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let s=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-s)/Math.max(t.length-1,1)/2;s-=i,n+=i}this._startValue=s,this._endValue=n,this._valueRange=n-s}getLabelForValue(t){return HS(t,this.chart.options.locale,this.options.ticks.format)}}class _0 extends OU{determineDataLimits(){const{min:t,max:s}=this.getMinMax(!0);this.min=Ma(t)?t:0,this.max=Ma(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),s=t?this.width:this.height,n=Io(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,o.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}kt(_0,"id","linear"),kt(_0,"defaults",{ticks:{callback:$S.formatters.numeric}});const Om={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Xn=Object.keys(Om);function y_(e,t){return e-t}function b_(e,t){if(Os(t))return null;const s=e._adapter,{parser:n,round:i,isoWeekday:o}=e._parseOpts;let c=t;return typeof n=="function"&&(c=n(c)),Ma(c)||(c=typeof n=="string"?s.parse(c,n):s.parse(c)),c===null?null:(i&&(c=i==="week"&&(am(o)||o===!0)?s.startOf(c,"isoWeek",o):s.startOf(c,i)),+c)}function v_(e,t,s,n){const i=Xn.length;for(let o=Xn.indexOf(e);o<i-1;++o){const c=Om[Xn[o]],d=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((s-t)/(d*c.size))<=n)return Xn[o]}return Xn[i-1]}function RU(e,t,s,n,i){for(let o=Xn.length-1;o>=Xn.indexOf(s);o--){const c=Xn[o];if(Om[c].common&&e._adapter.diff(i,n,c)>=t-1)return c}return Xn[s?Xn.indexOf(s):0]}function MU(e){for(let t=Xn.indexOf(e)+1,s=Xn.length;t<s;++t)if(Om[Xn[t]].common)return Xn[t]}function w_(e,t,s){if(!s)e[t]=!0;else if(s.length){const{lo:n,hi:i}=Ly(s,t),o=s[n]>=t?s[n]:s[i];e[o]=!0}}function PU(e,t,s,n){const i=e._adapter,o=+i.startOf(t[0].value,n),c=t[t.length-1].value;let d,h;for(d=o;d<=c;d=+i.add(d,1,n))h=s[d],h>=0&&(t[h].major=!0);return t}function j_(e,t,s){const n=[],i={},o=t.length;let c,d;for(c=0;c<o;++c)d=t[c],i[d]=c,n.push({value:d,major:!1});return o===0||!s?n:PU(e,n,i,s)}class cm extends _c{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,s={}){const n=t.time||(t.time={}),i=this._adapter=new WF._date(t.adapters.date);i.init(s),Gd(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=s.normalized}parse(t,s){return t===void 0?null:b_(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,s=this._adapter,n=t.time.unit||"day";let{min:i,max:o,minDefined:c,maxDefined:d}=this.getUserBounds();function h(f){!c&&!isNaN(f.min)&&(i=Math.min(i,f.min)),!d&&!isNaN(f.max)&&(o=Math.max(o,f.max))}(!c||!d)&&(h(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&h(this.getMinMax(!1))),i=Ma(i)&&!isNaN(i)?i:+s.startOf(Date.now(),n),o=Ma(o)&&!isNaN(o)?o:+s.endOf(Date.now(),n)+1,this.min=Math.min(i,o-1),this.max=Math.max(i+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(s=t[0],n=t[t.length-1]),{min:s,max:n}}buildTicks(){const t=this.options,s=t.time,n=t.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const o=this.min,c=this.max,d=IB(i,o,c);return this._unit=s.unit||(n.autoSkip?v_(s.minUnit,this.min,this.max,this._getLabelCapacity(o)):RU(this,d.length,s.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:MU(this._unit),this.initOffsets(i),t.reverse&&d.reverse(),j_(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let s=0,n=0,i,o;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?s=1-i:s=(this.getDecimalForValue(t[1])-i)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?n=o:n=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;s=Qn(s,0,c),n=Qn(n,0,c),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const t=this._adapter,s=this.min,n=this.max,i=this.options,o=i.time,c=o.unit||v_(o.minUnit,s,n,this._getLabelCapacity(s)),d=us(i.ticks.stepSize,1),h=c==="week"?o.isoWeekday:!1,f=am(h)||h===!0,p={};let g=s,x,b;if(f&&(g=+t.startOf(g,"isoWeek",h)),g=+t.startOf(g,f?"day":c),t.diff(n,s,c)>1e5*d)throw new Error(s+" and "+n+" are too far apart with stepSize of "+d+" "+c);const j=i.ticks.source==="data"&&this.getDataTimestamps();for(x=g,b=0;x<n;x=+t.add(x,d,c),b++)w_(p,x,j);return(x===n||i.bounds==="ticks"||b===1)&&w_(p,x,j),Object.keys(p).sort(y_).map(v=>+v)}getLabelForValue(t){const s=this._adapter,n=this.options.time;return n.tooltipFormat?s.format(t,n.tooltipFormat):s.format(t,n.displayFormats.datetime)}format(t,s){const i=this.options.time.displayFormats,o=this._unit,c=s||i[o];return this._adapter.format(t,c)}_tickFormatFunction(t,s,n,i){const o=this.options,c=o.ticks.callback;if(c)return Ns(c,[t,s,n],this);const d=o.time.displayFormats,h=this._unit,f=this._majorUnit,p=h&&d[h],g=f&&d[f],x=n[s],b=f&&g&&x&&x.major;return this._adapter.format(t,i||(b?g:p))}generateTickLabels(t){let s,n,i;for(s=0,n=t.length;s<n;++s)i=t[s],i.label=this._tickFormatFunction(i.value,s,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const s=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((s.start+n)*s.factor)}getValueForPixel(t){const s=this._offsets,n=this.getDecimalForPixel(t)/s.factor-s.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const s=this.options.ticks,n=this.ctx.measureText(t).width,i=Io(this.isHorizontal()?s.maxRotation:s.minRotation),o=Math.cos(i),c=Math.sin(i),d=this._resolveTickFontOptions(0).size;return{w:n*o+d*c,h:n*c+d*o}}_getLabelCapacity(t){const s=this.options.time,n=s.displayFormats,i=n[s.unit]||n.millisecond,o=this._tickFormatFunction(t,0,j_(this,[t],this._majorUnit),i),c=this._getLabelSize(o),d=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return d>0?d:1}getDataTimestamps(){let t=this._cache.data||[],s,n;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(s=0,n=i.length;s<n;++s)t=t.concat(i[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let s,n;if(t.length)return t;const i=this.getLabels();for(s=0,n=i.length;s<n;++s)t.push(b_(this,i[s]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return qB(t.sort(y_))}}kt(cm,"id","time"),kt(cm,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function gh(e,t,s){let n=0,i=e.length-1,o,c,d,h;s?(t>=e[n].pos&&t<=e[i].pos&&({lo:n,hi:i}=y0(e,"pos",t)),{pos:o,time:d}=e[n],{pos:c,time:h}=e[i]):(t>=e[n].time&&t<=e[i].time&&({lo:n,hi:i}=y0(e,"time",t)),{time:o,pos:d}=e[n],{time:c,pos:h}=e[i]);const f=c-o;return f?d+(h-d)*(t-o)/f:d}class N_ extends cm{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(t);this._minPos=gh(s,this.min),this._tableRange=gh(s,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:s,max:n}=this,i=[],o=[];let c,d,h,f,p;for(c=0,d=t.length;c<d;++c)f=t[c],f>=s&&f<=n&&i.push(f);if(i.length<2)return[{time:s,pos:0},{time:n,pos:1}];for(c=0,d=i.length;c<d;++c)p=i[c+1],h=i[c-1],f=i[c],Math.round((p+h)/2)!==f&&o.push({time:f,pos:c/(d-1)});return o}_generate(){const t=this.min,s=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(s)||n.length===1)&&n.push(s),n.sort((i,o)=>i-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const s=this.getDataTimestamps(),n=this.getLabelTimestamps();return s.length&&n.length?t=this.normalize(s.concat(n)):t=s.length?s:n,t=this._cache.all=t,t}getDecimalForValue(t){return(gh(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const s=this._offsets,n=this.getDecimalForPixel(t)/s.factor-s.end;return gh(this._table,n*this._tableRange+this._minPos,!0)}}kt(N_,"id","timeseries"),kt(N_,"defaults",cm.defaults);Fi.register(N0,_0,zh,Wd,bU,CU,xU);const LU=({className:e=""})=>a.jsx("div",{className:`inline-block animate-spin rounded-full border-4 border-gray-200 border-t-blue-600 h-6 w-6 ${e}`}),BU=()=>{const{allProjects:e,filteredData:t,selectedProject:s,selectedTeam:n,setSelectedProject:i,setSelectedTeam:o,isLoading:c}=PL();return c?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx(LU,{className:"h-12 w-12 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Đang tải dữ liệu..."})]})}):a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-800 text-center flex-1",children:"Bảng điều khiển quản lý dự án"}),a.jsx(eB,{projects:e,selectedProject:s,selectedTeam:n,onProjectChange:i,onTeamChange:o})]}),a.jsx(sB,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:s}),a.jsx(aB,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:s}),a.jsx(nB,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:s})]})})},Fo=e=>e==null?"N/A":new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0}).format(e);var Su=e=>e.type==="checkbox",qo=e=>e instanceof Date,Pn=e=>e==null;const hC=e=>typeof e=="object";var Vs=e=>!Pn(e)&&!Array.isArray(e)&&hC(e)&&!qo(e),mC=e=>Vs(e)&&e.target?Su(e.target)?e.target.checked:e.target.value:e,FU=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,pC=(e,t)=>e.has(FU(t)),UU=e=>{const t=e.constructor&&e.constructor.prototype;return Vs(t)&&t.hasOwnProperty("isPrototypeOf")},Yy=typeof window!="undefined"&&typeof window.HTMLElement!="undefined"&&typeof document!="undefined";function nn(e){let t;const s=Array.isArray(e),n=typeof FileList!="undefined"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Yy&&(e instanceof Blob||n))&&(s||Vs(e)))if(t=s?[]:Object.create(Object.getPrototypeOf(e)),!s&&!UU(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=nn(e[i]));else return e;return t}var Rm=e=>/^\w*$/.test(e),$s=e=>e===void 0,Gy=e=>Array.isArray(e)?e.filter(Boolean):[],Xy=e=>Gy(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Xe=(e,t,s)=>{if(!t||!Vs(e))return s;const n=(Rm(t)?[t]:Xy(t)).reduce((i,o)=>Pn(i)?i:i[o],e);return $s(n)||n===e?$s(e[t])?s:e[t]:n},la=e=>typeof e=="boolean",js=(e,t,s)=>{let n=-1;const i=Rm(t)?[t]:Xy(t),o=i.length,c=o-1;for(;++n<o;){const d=i[n];let h=s;if(n!==c){const f=e[d];h=Vs(f)||Array.isArray(f)?f:isNaN(+i[n+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;e[d]=h,e=e[d]}};const dm={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ya={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Gr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},gC=re.createContext(null);gC.displayName="HookFormContext";const Ky=()=>re.useContext(gC);var xC=(e,t,s,n=!0)=>{const i={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(i,o,{get:()=>{const c=o;return t._proxyFormState[c]!==Ya.all&&(t._proxyFormState[c]=!n||Ya.all),s&&(s[c]=!0),e[c]}});return i};const Qy=typeof window!="undefined"?re.useLayoutEffect:re.useEffect;function zU(e){const t=Ky(),{control:s=t.control,disabled:n,name:i,exact:o}=e||{},[c,d]=re.useState(s._formState),h=re.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Qy(()=>s._subscribe({name:i,formState:h.current,exact:o,callback:f=>{!n&&d(F(F({},s._formState),f))}}),[i,n,o]),re.useEffect(()=>{h.current.isValid&&s._setValid(!0)},[s]),re.useMemo(()=>xC(c,s,h.current,!1),[c,s])}var xr=e=>typeof e=="string",yC=(e,t,s,n,i)=>xr(e)?(n&&t.watch.add(e),Xe(s,e,i)):Array.isArray(e)?e.map(o=>(n&&t.watch.add(o),Xe(s,o))):(n&&(t.watchAll=!0),s),T0=e=>Pn(e)||!hC(e);function ti(e,t,s=new WeakSet){if(T0(e)||T0(t))return e===t;if(qo(e)&&qo(t))return e.getTime()===t.getTime();const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;if(s.has(e)||s.has(t))return!0;s.add(e),s.add(t);for(const o of n){const c=e[o];if(!i.includes(o))return!1;if(o!=="ref"){const d=t[o];if(qo(c)&&qo(d)||Vs(c)&&Vs(d)||Array.isArray(c)&&Array.isArray(d)?!ti(c,d,s):c!==d)return!1}}return!0}function HU(e){const t=Ky(),{control:s=t.control,name:n,defaultValue:i,disabled:o,exact:c,compute:d}=e||{},h=re.useRef(i),f=re.useRef(d),p=re.useRef(void 0);f.current=d;const g=re.useMemo(()=>s._getWatch(n,h.current),[s,n]),[x,b]=re.useState(f.current?f.current(g):g);return Qy(()=>s._subscribe({name:n,formState:{values:!0},exact:c,callback:j=>{if(!o){const v=yC(n,s._names,j.values||s._formValues,!1,h.current);if(f.current){const _=f.current(v);ti(_,p.current)||(b(_),p.current=_)}else b(v)}}}),[s,o,n,c]),re.useEffect(()=>s._removeUnmounted()),x}function $U(e){const t=Ky(),{name:s,disabled:n,control:i=t.control,shouldUnregister:o,defaultValue:c}=e,d=pC(i._names.array,s),h=re.useMemo(()=>Xe(i._formValues,s,Xe(i._defaultValues,s,c)),[i,s,c]),f=HU({control:i,name:s,defaultValue:h,exact:!0}),p=zU({control:i,name:s,exact:!0}),g=re.useRef(e),x=re.useRef(i.register(s,F(le(F({},e.rules),{value:f}),la(e.disabled)?{disabled:e.disabled}:{})));g.current=e;const b=re.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Xe(p.errors,s)},isDirty:{enumerable:!0,get:()=>!!Xe(p.dirtyFields,s)},isTouched:{enumerable:!0,get:()=>!!Xe(p.touchedFields,s)},isValidating:{enumerable:!0,get:()=>!!Xe(p.validatingFields,s)},error:{enumerable:!0,get:()=>Xe(p.errors,s)}}),[p,s]),j=re.useCallback(A=>x.current.onChange({target:{value:mC(A),name:s},type:dm.CHANGE}),[s]),v=re.useCallback(()=>x.current.onBlur({target:{value:Xe(i._formValues,s),name:s},type:dm.BLUR}),[s,i._formValues]),_=re.useCallback(A=>{const C=Xe(i._fields,s);C&&A&&(C._f.ref={focus:()=>A.focus&&A.focus(),select:()=>A.select&&A.select(),setCustomValidity:S=>A.setCustomValidity(S),reportValidity:()=>A.reportValidity()})},[i._fields,s]),T=re.useMemo(()=>le(F({name:s,value:f},la(n)||p.disabled?{disabled:p.disabled||n}:{}),{onChange:j,onBlur:v,ref:_}),[s,n,p.disabled,j,v,_,f]);return re.useEffect(()=>{const A=i._options.shouldUnregister||o;i.register(s,F(F({},g.current.rules),la(g.current.disabled)?{disabled:g.current.disabled}:{}));const C=(S,D)=>{const E=Xe(i._fields,S);E&&E._f&&(E._f.mount=D)};if(C(s,!0),A){const S=nn(Xe(i._options.defaultValues,s));js(i._defaultValues,s,S),$s(Xe(i._formValues,s))&&js(i._formValues,s,S)}return!d&&i.register(s),()=>{(d?A&&!i._state.action:A)?i.unregister(s):C(s,!1)}},[s,i,d,o]),re.useEffect(()=>{i._setDisabledField({disabled:n,name:s})},[n,s,i]),re.useMemo(()=>({field:T,formState:p,fieldState:b}),[T,p,b])}const ka=e=>e.render($U(e));var IU=(e,t,s,n,i)=>t?le(F({},s[e]),{types:le(F({},s[e]&&s[e].types?s[e].types:{}),{[n]:i||!0})}):{},Qd=e=>Array.isArray(e)?e:[e],__=()=>{let e=[];return{get observers(){return e},next:i=>{for(const o of e)o.next&&o.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(o=>o!==i)}}),unsubscribe:()=>{e=[]}}},Wn=e=>Vs(e)&&!Object.keys(e).length,Zy=e=>e.type==="file",Ga=e=>typeof e=="function",um=e=>{if(!Yy)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},bC=e=>e.type==="select-multiple",Jy=e=>e.type==="radio",VU=e=>Jy(e)||Su(e),Cx=e=>um(e)&&e.isConnected;function qU(e,t){const s=t.slice(0,-1).length;let n=0;for(;n<s;)e=$s(e)?n++:e[t[n++]];return e}function WU(e){for(const t in e)if(e.hasOwnProperty(t)&&!$s(e[t]))return!1;return!0}function Xs(e,t){const s=Array.isArray(t)?t:Rm(t)?[t]:Xy(t),n=s.length===1?e:qU(e,s),i=s.length-1,o=s[i];return n&&delete n[o],i!==0&&(Vs(n)&&Wn(n)||Array.isArray(n)&&WU(n))&&Xs(e,s.slice(0,-1)),e}var vC=e=>{for(const t in e)if(Ga(e[t]))return!0;return!1};function fm(e,t={}){const s=Array.isArray(e);if(Vs(e)||s)for(const n in e)Array.isArray(e[n])||Vs(e[n])&&!vC(e[n])?(t[n]=Array.isArray(e[n])?[]:{},fm(e[n],t[n])):Pn(e[n])||(t[n]=!0);return t}function wC(e,t,s){const n=Array.isArray(e);if(Vs(e)||n)for(const i in e)Array.isArray(e[i])||Vs(e[i])&&!vC(e[i])?$s(t)||T0(s[i])?s[i]=Array.isArray(e[i])?fm(e[i],[]):F({},fm(e[i])):wC(e[i],Pn(t)?{}:t[i],s[i]):s[i]=!ti(e[i],t[i]);return s}var Pd=(e,t)=>wC(e,t,fm(t));const T_={value:!1,isValid:!1},S_={value:!0,isValid:!0};var jC=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!$s(e[0].attributes.value)?$s(e[0].value)||e[0].value===""?S_:{value:e[0].value,isValid:!0}:S_:T_}return T_},NC=(e,{valueAsNumber:t,valueAsDate:s,setValueAs:n})=>$s(e)?e:t?e===""?NaN:e&&+e:s&&xr(e)?new Date(e):n?n(e):e;const C_={isValid:!1,value:null};var _C=e=>Array.isArray(e)?e.reduce((t,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:t,C_):C_;function k_(e){const t=e.ref;return Zy(t)?t.files:Jy(t)?_C(e.refs).value:bC(t)?[...t.selectedOptions].map(({value:s})=>s):Su(t)?jC(e.refs).value:NC($s(t.value)?e.ref.value:t.value,e)}var YU=(e,t,s,n)=>{const i={};for(const o of e){const c=Xe(t,o);c&&js(i,o,c._f)}return{criteriaMode:s,names:[...e],fields:i,shouldUseNativeValidation:n}},hm=e=>e instanceof RegExp,Ld=e=>$s(e)?e:hm(e)?e.source:Vs(e)?hm(e.value)?e.value.source:e.value:e,E_=e=>({isOnSubmit:!e||e===Ya.onSubmit,isOnBlur:e===Ya.onBlur,isOnChange:e===Ya.onChange,isOnAll:e===Ya.all,isOnTouch:e===Ya.onTouched});const D_="AsyncFunction";var GU=e=>!!e&&!!e.validate&&!!(Ga(e.validate)&&e.validate.constructor.name===D_||Vs(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===D_)),XU=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),A_=(e,t,s)=>!s&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Zd=(e,t,s,n)=>{for(const o of s||Object.keys(e)){const c=Xe(e,o);if(c){const i=c,{_f:d}=i,h=Re(i,["_f"]);if(d){if(d.refs&&d.refs[0]&&t(d.refs[0],o)&&!n)return!0;if(d.ref&&t(d.ref,d.name)&&!n)return!0;if(Zd(h,t))break}else if(Vs(h)&&Zd(h,t))break}}};function O_(e,t,s){const n=Xe(e,s);if(n||Rm(s))return{error:n,name:s};const i=s.split(".");for(;i.length;){const o=i.join("."),c=Xe(t,o),d=Xe(e,o);if(c&&!Array.isArray(c)&&s!==o)return{name:s};if(d&&d.type)return{name:o,error:d};if(d&&d.root&&d.root.type)return{name:`${o}.root`,error:d.root};i.pop()}return{name:s}}var KU=(e,t,s,n)=>{s(e);const c=e,{name:i}=c,o=Re(c,["name"]);return Wn(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(d=>t[d]===(!n||Ya.all))},QU=(e,t,s)=>!e||!t||e===t||Qd(e).some(n=>n&&(s?n===t:n.startsWith(t)||t.startsWith(n))),ZU=(e,t,s,n,i)=>i.isOnAll?!1:!s&&i.isOnTouch?!(t||e):(s?n.isOnBlur:i.isOnBlur)?!e:(s?n.isOnChange:i.isOnChange)?e:!0,JU=(e,t)=>!Gy(Xe(e,t)).length&&Xs(e,t),ez=(e,t,s)=>{const n=Qd(Xe(e,s));return js(n,"root",t[s]),js(e,s,n),e},Hh=e=>xr(e);function R_(e,t,s="validate"){if(Hh(e)||Array.isArray(e)&&e.every(Hh)||la(e)&&!e)return{type:s,message:Hh(e)?e:"",ref:t}}var Kl=e=>Vs(e)&&!hm(e)?e:{value:e,message:""},M_=(e,t,s,n,i,o)=>we(null,null,function*(){const{ref:c,refs:d,required:h,maxLength:f,minLength:p,min:g,max:x,pattern:b,validate:j,name:v,valueAsNumber:_,mount:T}=e._f,A=Xe(s,v);if(!T||t.has(v))return{};const C=d?d[0]:c,S=Z=>{i&&C.reportValidity&&(C.setCustomValidity(la(Z)?"":Z||""),C.reportValidity())},D={},E=Jy(c),B=Su(c),U=E||B,R=(_||Zy(c))&&$s(c.value)&&$s(A)||um(c)&&c.value===""||A===""||Array.isArray(A)&&!A.length,K=IU.bind(null,v,n,D),W=(Z,q,G,I=Gr.maxLength,H=Gr.minLength)=>{const J=Z?q:G;D[v]=F({type:Z?I:H,message:J,ref:c},K(Z?I:H,J))};if(o?!Array.isArray(A)||!A.length:h&&(!U&&(R||Pn(A))||la(A)&&!A||B&&!jC(d).isValid||E&&!_C(d).isValid)){const{value:Z,message:q}=Hh(h)?{value:!!h,message:h}:Kl(h);if(Z&&(D[v]=F({type:Gr.required,message:q,ref:C},K(Gr.required,q)),!n))return S(q),D}if(!R&&(!Pn(g)||!Pn(x))){let Z,q;const G=Kl(x),I=Kl(g);if(!Pn(A)&&!isNaN(A)){const H=c.valueAsNumber||A&&+A;Pn(G.value)||(Z=H>G.value),Pn(I.value)||(q=H<I.value)}else{const H=c.valueAsDate||new Date(A),J=P=>new Date(new Date().toDateString()+" "+P),te=c.type=="time",de=c.type=="week";xr(G.value)&&A&&(Z=te?J(A)>J(G.value):de?A>G.value:H>new Date(G.value)),xr(I.value)&&A&&(q=te?J(A)<J(I.value):de?A<I.value:H<new Date(I.value))}if((Z||q)&&(W(!!Z,G.message,I.message,Gr.max,Gr.min),!n))return S(D[v].message),D}if((f||p)&&!R&&(xr(A)||o&&Array.isArray(A))){const Z=Kl(f),q=Kl(p),G=!Pn(Z.value)&&A.length>+Z.value,I=!Pn(q.value)&&A.length<+q.value;if((G||I)&&(W(G,Z.message,q.message),!n))return S(D[v].message),D}if(b&&!R&&xr(A)){const{value:Z,message:q}=Kl(b);if(hm(Z)&&!A.match(Z)&&(D[v]=F({type:Gr.pattern,message:q,ref:c},K(Gr.pattern,q)),!n))return S(q),D}if(j){if(Ga(j)){const Z=yield j(A,s),q=R_(Z,C);if(q&&(D[v]=F(F({},q),K(Gr.validate,q.message)),!n))return S(q.message),D}else if(Vs(j)){let Z={};for(const q in j){if(!Wn(Z)&&!n)break;const G=R_(yield j[q](A,s),C,q);G&&(Z=F(F({},G),K(q,G.message)),S(G.message),n&&(D[v]=Z))}if(!Wn(Z)&&(D[v]=F({ref:C},Z),!n))return D}}return S(!0),D});const tz={mode:Ya.onSubmit,reValidateMode:Ya.onChange,shouldFocusError:!0};function sz(e={}){let t=F(F({},tz),e),s={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ga(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},i=Vs(t.defaultValues)||Vs(t.values)?nn(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:nn(i),c={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,f=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let g=F({},p);const x={array:__(),state:__()},b=t.criteriaMode===Ya.all,j=Q=>me=>{clearTimeout(f),f=setTimeout(Q,me)},v=Q=>we(null,null,function*(){if(!t.disabled&&(p.isValid||g.isValid||Q)){const me=t.resolver?Wn((yield B()).errors):yield R(n,!0);me!==s.isValid&&x.state.next({isValid:me})}}),_=(Q,me)=>{!t.disabled&&(p.isValidating||p.validatingFields||g.isValidating||g.validatingFields)&&((Q||Array.from(d.mount)).forEach(X=>{X&&(me?js(s.validatingFields,X,me):Xs(s.validatingFields,X))}),x.state.next({validatingFields:s.validatingFields,isValidating:!Wn(s.validatingFields)}))},T=(Q,me=[],X,Se,Fe=!0,Pe=!0)=>{if(Se&&X&&!t.disabled){if(c.action=!0,Pe&&Array.isArray(Xe(n,Q))){const We=X(Xe(n,Q),Se.argA,Se.argB);Fe&&js(n,Q,We)}if(Pe&&Array.isArray(Xe(s.errors,Q))){const We=X(Xe(s.errors,Q),Se.argA,Se.argB);Fe&&js(s.errors,Q,We),JU(s.errors,Q)}if((p.touchedFields||g.touchedFields)&&Pe&&Array.isArray(Xe(s.touchedFields,Q))){const We=X(Xe(s.touchedFields,Q),Se.argA,Se.argB);Fe&&js(s.touchedFields,Q,We)}(p.dirtyFields||g.dirtyFields)&&(s.dirtyFields=Pd(i,o)),x.state.next({name:Q,isDirty:W(Q,me),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else js(o,Q,me)},A=(Q,me)=>{js(s.errors,Q,me),x.state.next({errors:s.errors})},C=Q=>{s.errors=Q,x.state.next({errors:s.errors,isValid:!1})},S=(Q,me,X,Se)=>{const Fe=Xe(n,Q);if(Fe){const Pe=Xe(o,Q,$s(X)?Xe(i,Q):X);$s(Pe)||Se&&Se.defaultChecked||me?js(o,Q,me?Pe:k_(Fe._f)):G(Q,Pe),c.mount&&v()}},D=(Q,me,X,Se,Fe)=>{let Pe=!1,We=!1;const Ke={name:Q};if(!t.disabled){if(!X||Se){(p.isDirty||g.isDirty)&&(We=s.isDirty,s.isDirty=Ke.isDirty=W(),Pe=We!==Ke.isDirty);const st=ti(Xe(i,Q),me);We=!!Xe(s.dirtyFields,Q),st?Xs(s.dirtyFields,Q):js(s.dirtyFields,Q,!0),Ke.dirtyFields=s.dirtyFields,Pe=Pe||(p.dirtyFields||g.dirtyFields)&&We!==!st}if(X){const st=Xe(s.touchedFields,Q);st||(js(s.touchedFields,Q,X),Ke.touchedFields=s.touchedFields,Pe=Pe||(p.touchedFields||g.touchedFields)&&st!==X)}Pe&&Fe&&x.state.next(Ke)}return Pe?Ke:{}},E=(Q,me,X,Se)=>{const Fe=Xe(s.errors,Q),Pe=(p.isValid||g.isValid)&&la(me)&&s.isValid!==me;if(t.delayError&&X?(h=j(()=>A(Q,X)),h(t.delayError)):(clearTimeout(f),h=null,X?js(s.errors,Q,X):Xs(s.errors,Q)),(X?!ti(Fe,X):Fe)||!Wn(Se)||Pe){const We=le(F(F({},Se),Pe&&la(me)?{isValid:me}:{}),{errors:s.errors,name:Q});s=F(F({},s),We),x.state.next(We)}},B=Q=>we(null,null,function*(){_(Q,!0);const me=yield t.resolver(o,t.context,YU(Q||d.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return _(Q),me}),U=Q=>we(null,null,function*(){const{errors:me}=yield B(Q);if(Q)for(const X of Q){const Se=Xe(me,X);Se?js(s.errors,X,Se):Xs(s.errors,X)}else s.errors=me;return me}),R=(Se,Fe,...Pe)=>we(null,[Se,Fe,...Pe],function*(Q,me,X={valid:!0}){for(const Ke in Q){const st=Q[Ke];if(st){const We=st,{_f:jt}=We,Ce=Re(We,["_f"]);if(jt){const Be=d.array.has(jt.name),Ge=st._f&&GU(st._f);Ge&&p.validatingFields&&_([Ke],!0);const zt=yield M_(st,d.disabled,o,b,t.shouldUseNativeValidation&&!me,Be);if(Ge&&p.validatingFields&&_([Ke]),zt[jt.name]&&(X.valid=!1,me))break;!me&&(Xe(zt,jt.name)?Be?ez(s.errors,zt,jt.name):js(s.errors,jt.name,zt[jt.name]):Xs(s.errors,jt.name))}!Wn(Ce)&&(yield R(Ce,me,X))}}return X.valid}),K=()=>{for(const Q of d.unMount){const me=Xe(n,Q);me&&(me._f.refs?me._f.refs.every(X=>!Cx(X)):!Cx(me._f.ref))&&ke(Q)}d.unMount=new Set},W=(Q,me)=>!t.disabled&&(Q&&me&&js(o,Q,me),!ti(P(),i)),Z=(Q,me,X)=>yC(Q,d,F({},c.mount?o:$s(me)?i:xr(Q)?{[Q]:me}:me),X,me),q=Q=>Gy(Xe(c.mount?o:i,Q,t.shouldUnregister?Xe(i,Q,[]):[])),G=(Q,me,X={})=>{const Se=Xe(n,Q);let Fe=me;if(Se){const Pe=Se._f;Pe&&(!Pe.disabled&&js(o,Q,NC(me,Pe)),Fe=um(Pe.ref)&&Pn(me)?"":me,bC(Pe.ref)?[...Pe.ref.options].forEach(We=>We.selected=Fe.includes(We.value)):Pe.refs?Su(Pe.ref)?Pe.refs.forEach(We=>{(!We.defaultChecked||!We.disabled)&&(Array.isArray(Fe)?We.checked=!!Fe.find(Ke=>Ke===We.value):We.checked=Fe===We.value||!!Fe)}):Pe.refs.forEach(We=>We.checked=We.value===Fe):Zy(Pe.ref)?Pe.ref.value="":(Pe.ref.value=Fe,Pe.ref.type||x.state.next({name:Q,values:nn(o)})))}(X.shouldDirty||X.shouldTouch)&&D(Q,Fe,X.shouldTouch,X.shouldDirty,!0),X.shouldValidate&&de(Q)},I=(Q,me,X)=>{for(const Se in me){if(!me.hasOwnProperty(Se))return;const Fe=me[Se],Pe=Q+"."+Se,We=Xe(n,Pe);(d.array.has(Q)||Vs(Fe)||We&&!We._f)&&!qo(Fe)?I(Pe,Fe,X):G(Pe,Fe,X)}},H=(Q,me,X={})=>{const Se=Xe(n,Q),Fe=d.array.has(Q),Pe=nn(me);js(o,Q,Pe),Fe?(x.array.next({name:Q,values:nn(o)}),(p.isDirty||p.dirtyFields||g.isDirty||g.dirtyFields)&&X.shouldDirty&&x.state.next({name:Q,dirtyFields:Pd(i,o),isDirty:W(Q,Pe)})):Se&&!Se._f&&!Pn(Pe)?I(Q,Pe,X):G(Q,Pe,X),A_(Q,d)&&x.state.next(le(F({},s),{name:Q})),x.state.next({name:c.mount?Q:void 0,values:nn(o)})},J=Q=>we(null,null,function*(){c.mount=!0;const me=Q.target;let X=me.name,Se=!0;const Fe=Xe(n,X),Pe=st=>{Se=Number.isNaN(st)||qo(st)&&isNaN(st.getTime())||ti(st,Xe(o,X,st))},We=E_(t.mode),Ke=E_(t.reValidateMode);if(Fe){let st,jt;const Ce=me.type?k_(Fe._f):mC(Q),Be=Q.type===dm.BLUR||Q.type===dm.FOCUS_OUT,Ge=!XU(Fe._f)&&!t.resolver&&!Xe(s.errors,X)&&!Fe._f.deps||ZU(Be,Xe(s.touchedFields,X),s.isSubmitted,Ke,We),zt=A_(X,d,Be);js(o,X,Ce),Be?(!me||!me.readOnly)&&(Fe._f.onBlur&&Fe._f.onBlur(Q),h&&h(0)):Fe._f.onChange&&Fe._f.onChange(Q);const Gt=D(X,Ce,Be),Xt=!Wn(Gt)||zt;if(!Be&&x.state.next({name:X,type:Q.type,values:nn(o)}),Ge)return(p.isValid||g.isValid)&&(t.mode==="onBlur"?Be&&v():Be||v()),Xt&&x.state.next(F({name:X},zt?{}:Gt));if(!Be&&zt&&x.state.next(F({},s)),t.resolver){const{errors:os}=yield B([X]);if(Pe(Ce),Se){const qs=O_(s.errors,n,X),rn=O_(os,n,qs.name||X);st=rn.error,X=rn.name,jt=Wn(os)}}else _([X],!0),st=(yield M_(Fe,d.disabled,o,b,t.shouldUseNativeValidation))[X],_([X]),Pe(Ce),Se&&(st?jt=!1:(p.isValid||g.isValid)&&(jt=yield R(n,!0)));Se&&(Fe._f.deps&&de(Fe._f.deps),E(X,jt,st,Gt))}}),te=(Q,me)=>{if(Xe(s.errors,me)&&Q.focus)return Q.focus(),1},de=(X,...Se)=>we(null,[X,...Se],function*(Q,me={}){let Fe,Pe;const We=Qd(Q);if(t.resolver){const Ke=yield U($s(Q)?Q:We);Fe=Wn(Ke),Pe=Q?!We.some(st=>Xe(Ke,st)):Fe}else Q?(Pe=(yield Promise.all(We.map(Ke=>we(null,null,function*(){const st=Xe(n,Ke);return yield R(st&&st._f?{[Ke]:st}:st)})))).every(Boolean),!(!Pe&&!s.isValid)&&v()):Pe=Fe=yield R(n);return x.state.next(le(F(F({},!xr(Q)||(p.isValid||g.isValid)&&Fe!==s.isValid?{}:{name:Q}),t.resolver||!Q?{isValid:Fe}:{}),{errors:s.errors})),me.shouldFocus&&!Pe&&Zd(n,te,Q?We:d.mount),Pe}),P=Q=>{const me=F({},c.mount?o:i);return $s(Q)?me:xr(Q)?Xe(me,Q):Q.map(X=>Xe(me,X))},ie=(Q,me)=>({invalid:!!Xe((me||s).errors,Q),isDirty:!!Xe((me||s).dirtyFields,Q),error:Xe((me||s).errors,Q),isValidating:!!Xe(s.validatingFields,Q),isTouched:!!Xe((me||s).touchedFields,Q)}),ne=Q=>{Q&&Qd(Q).forEach(me=>Xs(s.errors,me)),x.state.next({errors:Q?s.errors:{}})},$=(Q,me,X)=>{const Se=(Xe(n,Q,{_f:{}})._f||{}).ref,jt=Xe(s.errors,Q)||{},{ref:Pe,message:We,type:Ke}=jt,st=Re(jt,["ref","message","type"]);js(s.errors,Q,le(F(F({},st),me),{ref:Se})),x.state.next({name:Q,errors:s.errors,isValid:!1}),X&&X.shouldFocus&&Se&&Se.focus&&Se.focus()},ee=(Q,me)=>Ga(Q)?x.state.subscribe({next:X=>"values"in X&&Q(Z(void 0,me),X)}):Z(Q,me,!0),xe=Q=>x.state.subscribe({next:me=>{QU(Q.name,me.name,Q.exact)&&KU(me,Q.formState||p,Le,Q.reRenderRoot)&&Q.callback(le(F(F({values:F({},o)},s),me),{defaultValues:i}))}}).unsubscribe,he=Q=>(c.mount=!0,g=F(F({},g),Q.formState),xe(le(F({},Q),{formState:g}))),ke=(Q,me={})=>{for(const X of Q?Qd(Q):d.mount)d.mount.delete(X),d.array.delete(X),me.keepValue||(Xs(n,X),Xs(o,X)),!me.keepError&&Xs(s.errors,X),!me.keepDirty&&Xs(s.dirtyFields,X),!me.keepTouched&&Xs(s.touchedFields,X),!me.keepIsValidating&&Xs(s.validatingFields,X),!t.shouldUnregister&&!me.keepDefaultValue&&Xs(i,X);x.state.next({values:nn(o)}),x.state.next(F(F({},s),me.keepDirty?{isDirty:W()}:{})),!me.keepIsValid&&v()},Ae=({disabled:Q,name:me})=>{(la(Q)&&c.mount||Q||d.disabled.has(me))&&(Q?d.disabled.add(me):d.disabled.delete(me))},Ve=(Q,me={})=>{let X=Xe(n,Q);const Se=la(me.disabled)||la(t.disabled);return js(n,Q,le(F({},X||{}),{_f:F(le(F({},X&&X._f?X._f:{ref:{name:Q}}),{name:Q,mount:!0}),me)})),d.mount.add(Q),X?Ae({disabled:la(me.disabled)?me.disabled:t.disabled,name:Q}):S(Q,!0,me.value),le(F(F({},Se?{disabled:me.disabled||t.disabled}:{}),t.progressive?{required:!!me.required,min:Ld(me.min),max:Ld(me.max),minLength:Ld(me.minLength),maxLength:Ld(me.maxLength),pattern:Ld(me.pattern)}:{}),{name:Q,onChange:J,onBlur:J,ref:Fe=>{if(Fe){Ve(Q,me),X=Xe(n,Q);const Pe=$s(Fe.value)&&Fe.querySelectorAll&&Fe.querySelectorAll("input,select,textarea")[0]||Fe,We=VU(Pe),Ke=X._f.refs||[];if(We?Ke.find(st=>st===Pe):Pe===X._f.ref)return;js(n,Q,{_f:F(F({},X._f),We?{refs:[...Ke.filter(Cx),Pe,...Array.isArray(Xe(i,Q))?[{}]:[]],ref:{type:Pe.type,name:Q}}:{ref:Pe})}),S(Q,!1,void 0,Pe)}else X=Xe(n,Q,{}),X._f&&(X._f.mount=!1),(t.shouldUnregister||me.shouldUnregister)&&!(pC(d.array,Q)&&c.action)&&d.unMount.add(Q)}})},ze=()=>t.shouldFocusError&&Zd(n,te,d.mount),M=Q=>{la(Q)&&(x.state.next({disabled:Q}),Zd(n,(me,X)=>{const Se=Xe(n,X);Se&&(me.disabled=Se._f.disabled||Q,Array.isArray(Se._f.refs)&&Se._f.refs.forEach(Fe=>{Fe.disabled=Se._f.disabled||Q}))},0,!1))},_e=(Q,me)=>X=>we(null,null,function*(){let Se;X&&(X.preventDefault&&X.preventDefault(),X.persist&&X.persist());let Fe=nn(o);if(x.state.next({isSubmitting:!0}),t.resolver){const{errors:Pe,values:We}=yield B();s.errors=Pe,Fe=nn(We)}else yield R(n);if(d.disabled.size)for(const Pe of d.disabled)Xs(Fe,Pe);if(Xs(s.errors,"root"),Wn(s.errors)){x.state.next({errors:{}});try{yield Q(Fe,X)}catch(Pe){Se=Pe}}else me&&(yield me(F({},s.errors),X)),ze(),setTimeout(ze);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Wn(s.errors)&&!Se,submitCount:s.submitCount+1,errors:s.errors}),Se)throw Se}),He=(Q,me={})=>{Xe(n,Q)&&($s(me.defaultValue)?H(Q,nn(Xe(i,Q))):(H(Q,me.defaultValue),js(i,Q,nn(me.defaultValue))),me.keepTouched||Xs(s.touchedFields,Q),me.keepDirty||(Xs(s.dirtyFields,Q),s.isDirty=me.defaultValue?W(Q,nn(Xe(i,Q))):W()),me.keepError||(Xs(s.errors,Q),p.isValid&&v()),x.state.next(F({},s)))},Ue=(Q,me={})=>{const X=Q?nn(Q):i,Se=nn(X),Fe=Wn(Q),Pe=Fe?i:Se;if(me.keepDefaultValues||(i=X),!me.keepValues){if(me.keepDirtyValues){const We=new Set([...d.mount,...Object.keys(Pd(i,o))]);for(const Ke of Array.from(We))Xe(s.dirtyFields,Ke)?js(Pe,Ke,Xe(o,Ke)):H(Ke,Xe(Pe,Ke))}else{if(Yy&&$s(Q))for(const We of d.mount){const Ke=Xe(n,We);if(Ke&&Ke._f){const st=Array.isArray(Ke._f.refs)?Ke._f.refs[0]:Ke._f.ref;if(um(st)){const jt=st.closest("form");if(jt){jt.reset();break}}}}if(me.keepFieldsRef)for(const We of d.mount)H(We,Xe(Pe,We));else n={}}o=t.shouldUnregister?me.keepDefaultValues?nn(i):{}:nn(Pe),x.array.next({values:F({},Pe)}),x.state.next({values:F({},Pe)})}d={mount:me.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!p.isValid||!!me.keepIsValid||!!me.keepDirtyValues,c.watch=!!t.shouldUnregister,x.state.next({submitCount:me.keepSubmitCount?s.submitCount:0,isDirty:Fe?!1:me.keepDirty?s.isDirty:!!(me.keepDefaultValues&&!ti(Q,i)),isSubmitted:me.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:Fe?{}:me.keepDirtyValues?me.keepDefaultValues&&o?Pd(i,o):s.dirtyFields:me.keepDefaultValues&&Q?Pd(i,Q):me.keepDirty?s.dirtyFields:{},touchedFields:me.keepTouched?s.touchedFields:{},errors:me.keepErrors?s.errors:{},isSubmitSuccessful:me.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},mt=(Q,me)=>Ue(Ga(Q)?Q(o):Q,me),tt=(Q,me={})=>{const X=Xe(n,Q),Se=X&&X._f;if(Se){const Fe=Se.refs?Se.refs[0]:Se.ref;Fe.focus&&(Fe.focus(),me.shouldSelect&&Ga(Fe.select)&&Fe.select())}},Le=Q=>{s=F(F({},s),Q)},lt={control:{register:Ve,unregister:ke,getFieldState:ie,handleSubmit:_e,setError:$,_subscribe:xe,_runSchema:B,_focusError:ze,_getWatch:Z,_getDirty:W,_setValid:v,_setFieldArray:T,_setDisabledField:Ae,_setErrors:C,_getFieldArray:q,_reset:Ue,_resetDefaultValues:()=>Ga(t.defaultValues)&&t.defaultValues().then(Q=>{mt(Q,t.resetOptions),x.state.next({isLoading:!1})}),_removeUnmounted:K,_disableForm:M,_subjects:x,_proxyFormState:p,get _fields(){return n},get _formValues(){return o},get _state(){return c},set _state(Q){c=Q},get _defaultValues(){return i},get _names(){return d},set _names(Q){d=Q},get _formState(){return s},get _options(){return t},set _options(Q){t=F(F({},t),Q)}},subscribe:he,trigger:de,register:Ve,handleSubmit:_e,watch:ee,setValue:H,getValues:P,reset:mt,resetField:He,clearErrors:ne,unregister:ke,setError:$,setFocus:tt,getFieldState:ie};return le(F({},lt),{formControl:lt})}function fu(e={}){const t=re.useRef(void 0),s=re.useRef(void 0),[n,i]=re.useState({isDirty:!1,isValidating:!1,isLoading:Ga(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ga(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current=le(F({},e.formControl),{formState:n}),e.defaultValues&&!Ga(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const c=sz(e),{formControl:d}=c,h=Re(c,["formControl"]);t.current=le(F({},h),{formState:n})}const o=t.current.control;return o._options=e,Qy(()=>{const d=o._subscribe({formState:o._proxyFormState,callback:()=>i(F({},o._formState)),reRenderRoot:!0});return i(h=>le(F({},h),{isReady:!0})),o._formState.isReady=!0,d},[o]),re.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),re.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),re.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),re.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),re.useEffect(()=>{if(o._proxyFormState.isDirty){const d=o._getDirty();d!==n.isDirty&&o._subjects.state.next({isDirty:d})}},[o,n.isDirty]),re.useEffect(()=>{e.values&&!ti(e.values,s.current)?(o._reset(e.values,F({keepFieldsRef:!0},o._options.resetOptions)),s.current=e.values,i(d=>F({},d))):o._resetDefaultValues()},[o,e.values]),re.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next(F({},o._formState))),o._removeUnmounted()}),t.current.formState=xC(n,o),t.current}const nz=0,az=1,rz=2;var P_=Object.prototype.hasOwnProperty;function S0(e,t){var s,n;if(e===t)return!0;if(e&&t&&(s=e.constructor)===t.constructor){if(s===Date)return e.getTime()===t.getTime();if(s===RegExp)return e.toString()===t.toString();if(s===Array){if((n=e.length)===t.length)for(;n--&&S0(e[n],t[n]););return n===-1}if(!s||typeof e=="object"){n=0;for(s in e)if(P_.call(e,s)&&++n&&!P_.call(t,s)||!(s in t)||!S0(e[s],t[s]))return!1;return Object.keys(t).length===n}}return e!==e&&t!==t}const Uo=new WeakMap,Ii=()=>{},Ea=Ii(),C0=Object,yr=e=>e===Ea,zo=e=>typeof e=="function",Mm=(e,t)=>F(F({},e),t),iz=e=>zo(e.then),kx={},xh={},TC="undefined",eb=typeof window!=TC,k0=typeof document!=TC,oz=eb&&"Deno"in window,lz=(e,t)=>{const s=Uo.get(e);return[()=>!yr(t)&&e.get(t)||kx,n=>{if(!yr(t)){const i=e.get(t);t in xh||(xh[t]=i),s[5](t,Mm(i,n),i||kx)}},s[6],()=>!yr(t)&&t in xh?xh[t]:!yr(t)&&e.get(t)||kx]};let E0=!0;const cz=()=>E0,[D0,A0]=eb&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Ii,Ii],dz=()=>{const e=k0&&document.visibilityState;return yr(e)||e!=="hidden"},uz=e=>(k0&&document.addEventListener("visibilitychange",e),D0("focus",e),()=>{k0&&document.removeEventListener("visibilitychange",e),A0("focus",e)}),fz=e=>{const t=()=>{E0=!0,e()},s=()=>{E0=!1};return D0("online",t),D0("offline",s),()=>{A0("online",t),A0("offline",s)}},hz={isOnline:cz,isVisible:dz},mz={initFocus:uz,initReconnect:fz};re.useId;const SC=!eb||oz,Ex=typeof navigator!="undefined"&&navigator.connection,L_=!SC&&Ex&&(["slow-2g","2g"].includes(Ex.effectiveType)||Ex.saveData),yh=new WeakMap,pz=e=>C0.prototype.toString.call(e),Dx=(e,t)=>e===`[object ${t}]`;let gz=0;const O0=e=>{const t=typeof e,s=pz(e),n=Dx(s,"Date"),i=Dx(s,"RegExp"),o=Dx(s,"Object");let c,d;if(C0(e)===e&&!n&&!i){if(c=yh.get(e),c)return c;if(c=++gz+"~",yh.set(e,c),Array.isArray(e)){for(c="@",d=0;d<e.length;d++)c+=O0(e[d])+",";yh.set(e,c)}if(o){c="#";const h=C0.keys(e).sort();for(;!yr(d=h.pop());)yr(e[d])||(c+=d+":"+O0(e[d])+",");yh.set(e,c)}}else c=n?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return c},xz=e=>{if(zo(e))try{e=e()}catch(s){e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?O0(e):"",[e,t]};let yz=0;const B_=()=>++yz;function bz(...e){return we(this,null,function*(){const[t,s,n,i]=e,o=Mm({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let c=o.populateCache;const d=o.rollbackOnError;let h=o.optimisticData;const f=x=>typeof d=="function"?d(x):d!==!1,p=o.throwOnError;if(zo(s)){const x=s,b=[],j=t.keys();for(const v of j)!/^\$(inf|sub)\$/.test(v)&&x(t.get(v)._k)&&b.push(v);return Promise.all(b.map(g))}return g(s);function g(x){return we(this,null,function*(){const[b]=xz(x);if(!b)return;const[j,v]=lz(t,b),[_,T,A,C]=Uo.get(t),S=()=>{const G=_[b];return(zo(o.revalidate)?o.revalidate(j().data,x):o.revalidate!==!1)&&(delete A[b],delete C[b],G&&G[0])?G[0](rz).then(()=>j().data):j().data};if(e.length<3)return S();let D=n,E,B=!1;const U=B_();T[b]=[U,0];const R=!yr(h),K=j(),W=K.data,Z=K._c,q=yr(Z)?W:Z;if(R&&(h=zo(h)?h(q,W):h,v({data:h,_c:q})),zo(D))try{D=D(q)}catch(G){E=G,B=!0}if(D&&iz(D))if(D=yield D.catch(G=>{E=G,B=!0}),U!==T[b][0]){if(B)throw E;return D}else B&&R&&f(E)&&(c=!0,v({data:q,_c:Ea}));if(c&&!B)if(zo(c)){const G=c(D,q);v({data:G,error:Ea,_c:Ea})}else v({data:D,error:Ea,_c:Ea});if(T[b][1]=B_(),Promise.resolve(S()).then(()=>{v({_c:Ea})}),B){if(p)throw E;return}return D})}})}const F_=(e,t)=>{for(const s in e)e[s][0]&&e[s][0](t)},vz=(e,t)=>{if(!Uo.has(e)){const s=Mm(mz,t),n=Object.create(null),i=bz.bind(Ea,e);let o=Ii;const c=Object.create(null),d=(p,g)=>{const x=c[p]||[];return c[p]=x,x.push(g),()=>x.splice(x.indexOf(g),1)},h=(p,g,x)=>{e.set(p,g);const b=c[p];if(b)for(const j of b)j(g,x)},f=()=>{if(!Uo.has(e)&&(Uo.set(e,[n,Object.create(null),Object.create(null),Object.create(null),i,h,d]),!SC)){const p=s.initFocus(setTimeout.bind(Ea,F_.bind(Ea,n,nz))),g=s.initReconnect(setTimeout.bind(Ea,F_.bind(Ea,n,az)));o=()=>{p&&p(),g&&g(),Uo.delete(e)}}};return f(),[e,i,f,o]}return[e,Uo.get(e)[4]]},wz=(e,t,s,n,i)=>{const o=s.errorRetryCount,c=i.retryCount,d=~~((Math.random()+.5)*(1<<(c<8?c:8)))*s.errorRetryInterval;!yr(o)&&c>o||setTimeout(n,d,i)},jz=S0,[Nz,cc]=vz(new Map);Mm({onLoadingSlow:Ii,onSuccess:Ii,onError:Ii,onErrorRetry:wz,onDiscarded:Ii,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:L_?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:L_?5e3:3e3,compare:jz,isPaused:()=>!1,cache:Nz,mutate:cc,fallback:{}},hz);N.createContext({});const U_=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,z_=aS,_z=(e,t)=>s=>{var n;if((t==null?void 0:t.variants)==null)return z_(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:i,defaultVariants:o}=t,c=Object.keys(i).map(f=>{const p=s==null?void 0:s[f],g=o==null?void 0:o[f];if(p===null)return null;const x=U_(p)||U_(g);return i[f][x]}),d=s&&Object.entries(s).reduce((f,p)=>{let[g,x]=p;return x===void 0||(f[g]=x),f},{}),h=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((f,p)=>{let j=p,{class:g,className:x}=j,b=Re(j,["class","className"]);return Object.entries(b).every(v=>{let[_,T]=v;return Array.isArray(T)?T.includes(F(F({},o),d)[_]):F(F({},o),d)[_]===T})?[...f,g,x]:f},[]);return z_(e,c,h,s==null?void 0:s.class,s==null?void 0:s.className)},Tz=_z("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Qe(o){var c=o,{className:e,variant:t,size:s,asChild:n=!1}=c,i=Re(c,["className","variant","size","asChild"]);const d=n?j5:"button";return a.jsx(d,F({"data-slot":"button",className:ks(Tz({variant:t,size:s,className:e}))},i))}function qi(e,t,{checkForDefaultPrevented:s=!0}={}){return function(i){if(e==null||e(i),s===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}var Sz="DismissableLayer",R0="dismissableLayer.update",Cz="dismissableLayer.pointerDownOutside",kz="dismissableLayer.focusOutside",H_,CC=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),kC=N.forwardRef((e,t)=>{var U;const B=e,{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:c,onDismiss:d}=B,h=Re(B,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),f=N.useContext(CC),[p,g]=N.useState(null),x=(U=p==null?void 0:p.ownerDocument)!=null?U:globalThis==null?void 0:globalThis.document,[,b]=N.useState({}),j=Rs(t,R=>g(R)),v=Array.from(f.layers),[_]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),T=v.indexOf(_),A=p?v.indexOf(p):-1,C=f.layersWithOutsidePointerEventsDisabled.size>0,S=A>=T,D=Az(R=>{const K=R.target,W=[...f.branches].some(Z=>Z.contains(K));!S||W||(i==null||i(R),c==null||c(R),R.defaultPrevented||d==null||d())},x),E=Oz(R=>{const K=R.target;[...f.branches].some(Z=>Z.contains(K))||(o==null||o(R),c==null||c(R),R.defaultPrevented||d==null||d())},x);return hy(R=>{A===f.layers.size-1&&(n==null||n(R),!R.defaultPrevented&&d&&(R.preventDefault(),d()))},x),N.useEffect(()=>{if(p)return s&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(H_=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),$_(),()=>{s&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=H_)}},[p,x,s,f]),N.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),$_())},[p,f]),N.useEffect(()=>{const R=()=>b({});return document.addEventListener(R0,R),()=>document.removeEventListener(R0,R)},[]),a.jsx(Yt.div,le(F({},h),{ref:j,style:F({pointerEvents:C?S?"auto":"none":void 0},e.style),onFocusCapture:qi(e.onFocusCapture,E.onFocusCapture),onBlurCapture:qi(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:qi(e.onPointerDownCapture,D.onPointerDownCapture)}))});kC.displayName=Sz;var Ez="DismissableLayerBranch",Dz=N.forwardRef((e,t)=>{const s=N.useContext(CC),n=N.useRef(null),i=Rs(t,n);return N.useEffect(()=>{const o=n.current;if(o)return s.branches.add(o),()=>{s.branches.delete(o)}},[s.branches]),a.jsx(Yt.div,le(F({},e),{ref:i}))});Dz.displayName=Ez;function Az(e,t=globalThis==null?void 0:globalThis.document){const s=Nr(e),n=N.useRef(!1),i=N.useRef(()=>{});return N.useEffect(()=>{const o=d=>{if(d.target&&!n.current){let h=function(){EC(Cz,s,f,{discrete:!0})};const f={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=h,t.addEventListener("click",i.current,{once:!0})):h()}else t.removeEventListener("click",i.current);n.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,s]),{onPointerDownCapture:()=>n.current=!0}}function Oz(e,t=globalThis==null?void 0:globalThis.document){const s=Nr(e),n=N.useRef(!1);return N.useEffect(()=>{const i=o=>{o.target&&!n.current&&EC(kz,s,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,s]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function $_(){const e=new CustomEvent(R0);document.dispatchEvent(e)}function EC(e,t,s,{discrete:n}){const i=s.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&i.addEventListener(e,t,{once:!0}),n?fy(i,o):i.dispatchEvent(o)}function Rz(e,t){return N.useReducer((s,n)=>{const i=t[s][n];return i!=null?i:s},e)}var Pm=e=>{const{present:t,children:s}=e,n=Mz(t),i=typeof s=="function"?s({present:n.isPresent}):N.Children.only(s),o=Rs(n.ref,Pz(i));return typeof s=="function"||n.isPresent?N.cloneElement(i,{ref:o}):null};Pm.displayName="Presence";function Mz(e){const[t,s]=N.useState(),n=N.useRef(null),i=N.useRef(e),o=N.useRef("none"),c=e?"mounted":"unmounted",[d,h]=Rz(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const f=bh(n.current);o.current=d==="mounted"?f:"none"},[d]),Ra(()=>{const f=n.current,p=i.current;if(p!==e){const x=o.current,b=bh(f);e?h("MOUNT"):b==="none"||(f==null?void 0:f.display)==="none"?h("UNMOUNT"):h(p&&x!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,h]),Ra(()=>{var f;if(t){let p;const g=(f=t.ownerDocument.defaultView)!=null?f:window,x=j=>{const _=bh(n.current).includes(j.animationName);if(j.target===t&&_&&(h("ANIMATION_END"),!i.current)){const T=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=T)})}},b=j=>{j.target===t&&(o.current=bh(n.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",x),t.addEventListener("animationend",x),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",x),t.removeEventListener("animationend",x)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:N.useCallback(f=>{n.current=f?getComputedStyle(f):null,s(f)},[])}}function bh(e){return(e==null?void 0:e.animationName)||"none"}function Pz(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var Ax=0;function Lz(){N.useEffect(()=>{var t,s;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:I_()),document.body.insertAdjacentElement("beforeend",(s=e[1])!=null?s:I_()),Ax++,()=>{Ax===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),Ax--}},[])}function I_(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Lm="Dialog",[DC,d$]=yu(Lm),[Bz,Qa]=DC(Lm),AC=e=>{const{__scopeDialog:t,children:s,open:n,defaultOpen:i,onOpenChange:o,modal:c=!0}=e,d=N.useRef(null),h=N.useRef(null),[f,p]=Sm({prop:n,defaultProp:i!=null?i:!1,onChange:o,caller:Lm});return a.jsx(Bz,{scope:t,triggerRef:d,contentRef:h,contentId:An(),titleId:An(),descriptionId:An(),open:f,onOpenChange:p,onOpenToggle:N.useCallback(()=>p(g=>!g),[p]),modal:c,children:s})};AC.displayName=Lm;var OC="DialogTrigger",Fz=N.forwardRef((e,t)=>{const c=e,{__scopeDialog:s}=c,n=Re(c,["__scopeDialog"]),i=Qa(OC,s),o=Rs(t,i.triggerRef);return a.jsx(Yt.button,le(F({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":nb(i.open)},n),{ref:o,onClick:qi(e.onClick,i.onOpenToggle)}))});Fz.displayName=OC;var tb="DialogPortal",[Uz,RC]=DC(tb,{forceMount:void 0}),MC=e=>{const{__scopeDialog:t,forceMount:s,children:n,container:i}=e,o=Qa(tb,t);return a.jsx(Uz,{scope:t,forceMount:s,children:N.Children.map(n,c=>a.jsx(Pm,{present:s||o.open,children:a.jsx(wu,{asChild:!0,container:i,children:c})}))})};MC.displayName=tb;var mm="DialogOverlay",PC=N.forwardRef((e,t)=>{const s=RC(mm,e.__scopeDialog),c=e,{forceMount:n=s.forceMount}=c,i=Re(c,["forceMount"]),o=Qa(mm,e.__scopeDialog);return o.modal?a.jsx(Pm,{present:n||o.open,children:a.jsx(Hz,le(F({},i),{ref:t}))}):null});PC.displayName=mm;var zz=gc("DialogOverlay.RemoveScroll"),Hz=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:s}=o,n=Re(o,["__scopeDialog"]),i=Qa(mm,s);return a.jsx(ju,{as:zz,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(Yt.div,le(F({"data-state":nb(i.open)},n),{ref:t,style:F({pointerEvents:"auto"},n.style)}))})}),Zo="DialogContent",LC=N.forwardRef((e,t)=>{const s=RC(Zo,e.__scopeDialog),c=e,{forceMount:n=s.forceMount}=c,i=Re(c,["forceMount"]),o=Qa(Zo,e.__scopeDialog);return a.jsx(Pm,{present:n||o.open,children:o.modal?a.jsx($z,le(F({},i),{ref:t})):a.jsx(Iz,le(F({},i),{ref:t}))})});LC.displayName=Zo;var $z=N.forwardRef((e,t)=>{const s=Qa(Zo,e.__scopeDialog),n=N.useRef(null),i=Rs(t,s.contentRef,n);return N.useEffect(()=>{const o=n.current;if(o)return Cm(o)},[]),a.jsx(BC,le(F({},e),{ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qi(e.onCloseAutoFocus,o=>{var c;o.preventDefault(),(c=s.triggerRef.current)==null||c.focus()}),onPointerDownOutside:qi(e.onPointerDownOutside,o=>{const c=o.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&o.preventDefault()}),onFocusOutside:qi(e.onFocusOutside,o=>o.preventDefault())}))}),Iz=N.forwardRef((e,t)=>{const s=Qa(Zo,e.__scopeDialog),n=N.useRef(!1),i=N.useRef(!1);return a.jsx(BC,le(F({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,d;(c=e.onCloseAutoFocus)==null||c.call(e,o),o.defaultPrevented||(n.current||(d=s.triggerRef.current)==null||d.focus(),o.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:o=>{var h,f;(h=e.onInteractOutside)==null||h.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=o.target;((f=s.triggerRef.current)==null?void 0:f.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}}))}),BC=N.forwardRef((e,t)=>{const p=e,{__scopeDialog:s,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o}=p,c=Re(p,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),d=Qa(Zo,s),h=N.useRef(null),f=Rs(t,h);return Lz(),a.jsxs(a.Fragment,{children:[a.jsx(bu,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:o,children:a.jsx(kC,le(F({role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":nb(d.open)},c),{ref:f,onDismiss:()=>d.onOpenChange(!1)}))}),a.jsxs(a.Fragment,{children:[a.jsx(qz,{titleId:d.titleId}),a.jsx(Yz,{contentRef:h,descriptionId:d.descriptionId})]})]})}),sb="DialogTitle",FC=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:s}=o,n=Re(o,["__scopeDialog"]),i=Qa(sb,s);return a.jsx(Yt.h2,le(F({id:i.titleId},n),{ref:t}))});FC.displayName=sb;var UC="DialogDescription",zC=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:s}=o,n=Re(o,["__scopeDialog"]),i=Qa(UC,s);return a.jsx(Yt.p,le(F({id:i.descriptionId},n),{ref:t}))});zC.displayName=UC;var HC="DialogClose",Vz=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:s}=o,n=Re(o,["__scopeDialog"]),i=Qa(HC,s);return a.jsx(Yt.button,le(F({type:"button"},n),{ref:t,onClick:qi(e.onClick,()=>i.onOpenChange(!1))}))});Vz.displayName=HC;function nb(e){return e?"open":"closed"}var $C="DialogTitleWarning",[u$,IC]=uy($C,{contentName:Zo,titleName:sb,docsSlug:"dialog"}),qz=({titleId:e})=>{const t=IC($C),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return N.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},Wz="DialogDescriptionWarning",Yz=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${IC(Wz).contentName}}.`;return N.useEffect(()=>{var o;const i=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Gz=AC,Xz=MC,Kz=PC,Qz=LC,Zz=FC,Jz=zC;function e7(e){if(typeof document=="undefined")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}const VC=re.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Cu=()=>{const e=re.useContext(VC);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};e7(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function t7(){const e=navigator.userAgent;return typeof window!="undefined"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function s7(){return ab(/^Mac/)}function n7(){return ab(/^iPhone/)}function V_(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function a7(){return ab(/^iPad/)||s7()&&navigator.maxTouchPoints>1}function qC(){return n7()||a7()}function ab(e){return typeof window!="undefined"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const r7=24,i7=typeof window!="undefined"?N.useLayoutEffect:N.useEffect;function q_(...e){return(...t)=>{for(let s of e)typeof s=="function"&&s(...t)}}const Ox=typeof document!="undefined"&&window.visualViewport;function W_(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function WC(e){for(W_(e)&&(e=e.parentElement);e&&!W_(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const o7=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let vh=0,Rx;function l7(e={}){let{isDisabled:t}=e;i7(()=>{if(!t)return vh++,vh===1&&qC()&&(Rx=c7()),()=>{vh--,vh===0&&(Rx==null||Rx())}},[t])}function c7(){let e,t=0,s=g=>{e=WC(g.target),!(e===document.documentElement&&e===document.body)&&(t=g.changedTouches[0].pageY)},n=g=>{if(!e||e===document.documentElement||e===document.body){g.preventDefault();return}let x=g.changedTouches[0].pageY,b=e.scrollTop,j=e.scrollHeight-e.clientHeight;j!==0&&((b<=0&&x>t||b>=j&&x<t)&&g.preventDefault(),t=x)},i=g=>{let x=g.target;M0(x)&&x!==document.activeElement&&(g.preventDefault(),x.style.transform="translateY(-2000px)",x.focus(),requestAnimationFrame(()=>{x.style.transform=""}))},o=g=>{let x=g.target;M0(x)&&(x.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{x.style.transform="",Ox&&(Ox.height<window.innerHeight?requestAnimationFrame(()=>{Y_(x)}):Ox.addEventListener("resize",()=>Y_(x),{once:!0}))}))},c=()=>{window.scrollTo(0,0)},d=window.pageXOffset,h=window.pageYOffset,f=q_(d7(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let p=q_(Bd(document,"touchstart",s,{passive:!1,capture:!0}),Bd(document,"touchmove",n,{passive:!1,capture:!0}),Bd(document,"touchend",i,{passive:!1,capture:!0}),Bd(document,"focus",o,!0),Bd(window,"scroll",c));return()=>{f(),p(),window.scrollTo(d,h)}}function d7(e,t,s){let n=e.style[t];return e.style[t]=s,()=>{e.style[t]=n}}function Bd(e,t,s,n){return e.addEventListener(t,s,n),()=>{e.removeEventListener(t,s,n)}}function Y_(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let s=WC(e);if(s!==document.documentElement&&s!==document.body&&s!==e){let n=s.getBoundingClientRect().top,i=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom;const c=s.getBoundingClientRect().bottom+r7;o>c&&(s.scrollTop+=i-n)}e=s.parentElement}}function M0(e){return e instanceof HTMLInputElement&&!o7.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function u7(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function f7(...e){return t=>e.forEach(s=>u7(s,t))}function YC(...e){return N.useCallback(f7(...e),e)}const GC=new WeakMap;function an(e,t,s=!1){if(!e||!(e instanceof HTMLElement))return;let n={};Object.entries(t).forEach(([i,o])=>{if(i.startsWith("--")){e.style.setProperty(i,o);return}n[i]=e.style[i],e.style[i]=o}),!s&&GC.set(e,n)}function h7(e,t){if(!e||!(e instanceof HTMLElement))return;let s=GC.get(e);s&&(e.style[t]=s[t])}const Ks=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function wh(e,t){if(!e)return null;const s=window.getComputedStyle(e),n=s.transform||s.webkitTransform||s.mozTransform;let i=n.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[Ks(t)?13:12]):(i=n.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[Ks(t)?5:4]):null)}function m7(e){return 8*(Math.log(e+1)-2)}function Mx(e,t){if(!e)return()=>{};const s=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=s}}function p7(...e){return(...t)=>{for(const s of e)typeof s=="function"&&s(...t)}}const As={DURATION:.5,EASE:[.32,.72,0,1]},XC=.4,g7=.25,x7=100,KC=8,Po=16,P0=26,Px="vaul-dragging";function QC(e){const t=re.useRef(e);return re.useEffect(()=>{t.current=e}),re.useMemo(()=>(...s)=>t.current==null?void 0:t.current.call(t,...s),[])}function y7({defaultProp:e,onChange:t}){const s=re.useState(e),[n]=s,i=re.useRef(n),o=QC(t);return re.useEffect(()=>{i.current!==n&&(o(n),i.current=n)},[n,i,o]),s}function ZC({prop:e,defaultProp:t,onChange:s=()=>{}}){const[n,i]=y7({defaultProp:t,onChange:s}),o=e!==void 0,c=o?e:n,d=QC(s),h=re.useCallback(f=>{if(o){const g=typeof f=="function"?f(e):f;g!==e&&d(g)}else i(f)},[o,e,i,d]);return[c,h]}function b7({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:s,drawerRef:n,overlayRef:i,fadeFromIndex:o,onSnapPointChange:c,direction:d="bottom",container:h,snapToSequentialPoint:f}){const[p,g]=ZC({prop:e,defaultProp:s==null?void 0:s[0],onChange:t}),[x,b]=re.useState(typeof window!="undefined"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);re.useEffect(()=>{function B(){b({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",B),()=>window.removeEventListener("resize",B)},[]);const j=re.useMemo(()=>p===(s==null?void 0:s[s.length-1])||null,[s,p]),v=re.useMemo(()=>{var B;return(B=s==null?void 0:s.findIndex(U=>U===p))!=null?B:null},[s,p]),_=s&&s.length>0&&(o||o===0)&&!Number.isNaN(o)&&s[o]===p||!s,T=re.useMemo(()=>{const B=h?{width:h.getBoundingClientRect().width,height:h.getBoundingClientRect().height}:typeof window!="undefined"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var U;return(U=s==null?void 0:s.map(R=>{const K=typeof R=="string";let W=0;if(K&&(W=parseInt(R,10)),Ks(d)){const q=K?W:x?R*B.height:0;return x?d==="bottom"?B.height-q:-B.height+q:q}const Z=K?W:x?R*B.width:0;return x?d==="right"?B.width-Z:-B.width+Z:Z}))!=null?U:[]},[s,x,h]),A=re.useMemo(()=>v!==null?T==null?void 0:T[v]:null,[T,v]),C=re.useCallback(B=>{var U;const R=(U=T==null?void 0:T.findIndex(K=>K===B))!=null?U:null;c(R),an(n.current,{transition:`transform ${As.DURATION}s cubic-bezier(${As.EASE.join(",")})`,transform:Ks(d)?`translate3d(0, ${B}px, 0)`:`translate3d(${B}px, 0, 0)`}),T&&R!==T.length-1&&o!==void 0&&R!==o&&R<o?an(i.current,{transition:`opacity ${As.DURATION}s cubic-bezier(${As.EASE.join(",")})`,opacity:"0"}):an(i.current,{transition:`opacity ${As.DURATION}s cubic-bezier(${As.EASE.join(",")})`,opacity:"1"}),g(s==null?void 0:s[Math.max(R,0)])},[n.current,s,T,o,i,g]);re.useEffect(()=>{if(p||e){var B;const U=(B=s==null?void 0:s.findIndex(R=>R===e||R===p))!=null?B:-1;T&&U!==-1&&typeof T[U]=="number"&&C(T[U])}},[p,e,s,T,C]);function S({draggedDistance:B,closeDrawer:U,velocity:R,dismissible:K}){if(o===void 0)return;const W=d==="bottom"||d==="right"?(A!=null?A:0)-B:(A!=null?A:0)+B,Z=v===o-1,q=v===0,G=B>0;if(Z&&an(i.current,{transition:`opacity ${As.DURATION}s cubic-bezier(${As.EASE.join(",")})`}),!f&&R>2&&!G){K?U():C(T[0]);return}if(!f&&R>2&&G&&T&&s){C(T[s.length-1]);return}const I=T==null?void 0:T.reduce((J,te)=>typeof J!="number"||typeof te!="number"?J:Math.abs(te-W)<Math.abs(J-W)?te:J),H=Ks(d)?window.innerHeight:window.innerWidth;if(R>XC&&Math.abs(B)<H*.4){const J=G?1:-1;if(J>0&&j&&s){C(T[s.length-1]);return}if(q&&J<0&&K&&U(),v===null)return;C(T[v+J]);return}C(I)}function D({draggedDistance:B}){if(A===null)return;const U=d==="bottom"||d==="right"?A-B:A+B;(d==="bottom"||d==="right")&&U<T[T.length-1]||(d==="top"||d==="left")&&U>T[T.length-1]||an(n.current,{transform:Ks(d)?`translate3d(0, ${U}px, 0)`:`translate3d(${U}px, 0, 0)`})}function E(B,U){if(!s||typeof v!="number"||!T||o===void 0)return null;const R=v===o-1;if(v>=o&&U)return 0;if(R&&!U)return 1;if(!_&&!R)return null;const W=R?v+1:v-1,Z=R?T[W]-T[W-1]:T[W+1]-T[W],q=B/Math.abs(Z);return R?1-q:q}return{isLastSnapPoint:j,activeSnapPoint:p,shouldFade:_,getPercentageDragged:E,setActiveSnapPoint:g,activeSnapPointIndex:v,onRelease:S,onDrag:D,snapPointsOffset:T}}const v7=()=>()=>{};function w7(){const{direction:e,isOpen:t,shouldScaleBackground:s,setBackgroundColorOnScale:n,noBodyStyles:i}=Cu(),o=re.useRef(null),c=N.useMemo(()=>document.body.style.backgroundColor,[]);function d(){return(window.innerWidth-P0)/window.innerWidth}re.useEffect(()=>{if(t&&s){o.current&&clearTimeout(o.current);const h=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!h)return;p7(n&&!i?Mx(document.body,{background:"black"}):v7,Mx(h,{transformOrigin:Ks(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${As.DURATION}s`,transitionTimingFunction:`cubic-bezier(${As.EASE.join(",")})`}));const f=Mx(h,F({borderRadius:`${KC}px`,overflow:"hidden"},Ks(e)?{transform:`scale(${d()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${d()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}));return()=>{f(),o.current=window.setTimeout(()=>{c?document.body.style.background=c:document.body.style.removeProperty("background")},As.DURATION*1e3)}}},[t,s,c])}let Fd=null;function j7({isOpen:e,modal:t,nested:s,hasBeenOpened:n,preventScrollRestoration:i,noBodyStyles:o}){const[c,d]=re.useState(()=>typeof window!="undefined"?window.location.href:""),h=re.useRef(0),f=re.useCallback(()=>{if(V_()&&Fd===null&&e&&!o){Fd={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:g,innerHeight:x}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-h.current}px`,left:`${-g}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const b=x-window.innerHeight;b&&h.current>=x&&(document.body.style.top=`${-(h.current+b)}px`)}),300)}},[e]),p=re.useCallback(()=>{if(V_()&&Fd!==null&&!o){const g=-parseInt(document.body.style.top,10),x=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Fd),window.requestAnimationFrame(()=>{if(i&&c!==window.location.href){d(window.location.href);return}window.scrollTo(x,g)}),Fd=null}},[c]);return re.useEffect(()=>{function g(){h.current=window.scrollY}return g(),window.addEventListener("scroll",g),()=>{window.removeEventListener("scroll",g)}},[]),re.useEffect(()=>{if(t)return()=>{typeof document=="undefined"||document.querySelector("[data-vaul-drawer]")||p()}},[t,p]),re.useEffect(()=>{s||!n||(e?(!window.matchMedia("(display-mode: standalone)").matches&&f(),t||window.setTimeout(()=>{p()},500)):p())},[e,n,c,t,s,f,p]),{restorePositionSetting:p}}function N7({open:e,onOpenChange:t,children:s,onDrag:n,onRelease:i,snapPoints:o,shouldScaleBackground:c=!1,setBackgroundColorOnScale:d=!0,closeThreshold:h=g7,scrollLockTimeout:f=x7,dismissible:p=!0,handleOnly:g=!1,fadeFromIndex:x=o&&o.length-1,activeSnapPoint:b,setActiveSnapPoint:j,fixed:v,modal:_=!0,onClose:T,nested:A,noBodyStyles:C=!1,direction:S="bottom",defaultOpen:D=!1,disablePreventScroll:E=!0,snapToSequentialPoint:B=!1,preventScrollRestoration:U=!1,repositionInputs:R=!0,onAnimationEnd:K,container:W,autoFocus:Z=!1}){var q,G;const[I=!1,H]=ZC({defaultProp:D,prop:e,onChange:Je=>{t==null||t(Je),!Je&&!A&&Ke(),setTimeout(()=>{K==null||K(Je)},As.DURATION*1e3),Je&&!_&&typeof window!="undefined"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),Je||(document.body.style.pointerEvents="auto")}}),[J,te]=re.useState(!1),[de,P]=re.useState(!1),[ie,ne]=re.useState(!1),$=re.useRef(null),ee=re.useRef(null),xe=re.useRef(null),he=re.useRef(null),ke=re.useRef(null),Ae=re.useRef(!1),Ve=re.useRef(null),ze=re.useRef(0),M=re.useRef(!1),_e=re.useRef(!D),He=re.useRef(0),Ue=re.useRef(null),mt=re.useRef(((q=Ue.current)==null?void 0:q.getBoundingClientRect().height)||0),tt=re.useRef(((G=Ue.current)==null?void 0:G.getBoundingClientRect().width)||0),Le=re.useRef(0),nt=re.useCallback(Je=>{o&&Je===Se.length-1&&(ee.current=new Date)},[]),{activeSnapPoint:lt,activeSnapPointIndex:Q,setActiveSnapPoint:me,onRelease:X,snapPointsOffset:Se,onDrag:Fe,shouldFade:Pe,getPercentageDragged:We}=b7({snapPoints:o,activeSnapPointProp:b,setActiveSnapPointProp:j,drawerRef:Ue,fadeFromIndex:x,overlayRef:$,onSnapPointChange:nt,direction:S,container:W,snapToSequentialPoint:B});l7({isDisabled:!I||de||!_||ie||!J||!R||!E});const{restorePositionSetting:Ke}=j7({isOpen:I,modal:_,nested:A!=null?A:!1,hasBeenOpened:J,preventScrollRestoration:U,noBodyStyles:C});function st(){return(window.innerWidth-P0)/window.innerWidth}function jt(Je){var Bt,It;!p&&!o||Ue.current&&!Ue.current.contains(Je.target)||(mt.current=((Bt=Ue.current)==null?void 0:Bt.getBoundingClientRect().height)||0,tt.current=((It=Ue.current)==null?void 0:It.getBoundingClientRect().width)||0,P(!0),xe.current=new Date,qC()&&window.addEventListener("touchend",()=>Ae.current=!1,{once:!0}),Je.target.setPointerCapture(Je.pointerId),ze.current=Ks(S)?Je.pageY:Je.pageX)}function Ce(Je,Bt){var It;let Et=Je;const rs=(It=window.getSelection())==null?void 0:It.toString(),et=Ue.current?wh(Ue.current,S):null,Ct=new Date;if(Et.tagName==="SELECT"||Et.hasAttribute("data-vaul-no-drag")||Et.closest("[data-vaul-no-drag]"))return!1;if(S==="right"||S==="left")return!0;if(ee.current&&Ct.getTime()-ee.current.getTime()<500)return!1;if(et!==null&&(S==="bottom"?et>0:et<0))return!0;if(rs&&rs.length>0)return!1;if(ke.current&&Ct.getTime()-ke.current.getTime()<f&&et===0||Bt)return ke.current=Ct,!1;for(;Et;){if(Et.scrollHeight>Et.clientHeight){if(Et.scrollTop!==0)return ke.current=new Date,!1;if(Et.getAttribute("role")==="dialog")return!0}Et=Et.parentNode}return!0}function Be(Je){if(Ue.current&&de){const Bt=S==="bottom"||S==="right"?1:-1,It=(ze.current-(Ks(S)?Je.pageY:Je.pageX))*Bt,Et=It>0,rs=o&&!p&&!Et;if(rs&&Q===0)return;const et=Math.abs(It),Ct=document.querySelector("[data-vaul-drawer-wrapper]"),Qt=S==="bottom"||S==="top"?mt.current:tt.current;let es=et/Qt;const ae=We(et,Et);if(ae!==null&&(es=ae),rs&&es>=1||!Ae.current&&!Ce(Je.target,Et))return;if(Ue.current.classList.add(Px),Ae.current=!0,an(Ue.current,{transition:"none"}),an($.current,{transition:"none"}),o&&Fe({draggedDistance:It}),Et&&!o){const ge=m7(It),Te=Math.min(ge*-1,0)*Bt;an(Ue.current,{transform:Ks(S)?`translate3d(0, ${Te}px, 0)`:`translate3d(${Te}px, 0, 0)`});return}const ce=1-es;if((Pe||x&&Q===x-1)&&(n==null||n(Je,es),an($.current,{opacity:`${ce}`,transition:"none"},!0)),Ct&&$.current&&c){const ge=Math.min(st()+es*(1-st()),1),Te=8-es*8,Me=Math.max(0,14-es*14);an(Ct,{borderRadius:`${Te}px`,transform:Ks(S)?`scale(${ge}) translate3d(0, ${Me}px, 0)`:`scale(${ge}) translate3d(${Me}px, 0, 0)`,transition:"none"},!0)}if(!o){const ge=et*Bt;an(Ue.current,{transform:Ks(S)?`translate3d(0, ${ge}px, 0)`:`translate3d(${ge}px, 0, 0)`})}}}re.useEffect(()=>{window.requestAnimationFrame(()=>{_e.current=!0})},[]),re.useEffect(()=>{var Je;function Bt(){if(!Ue.current||!R)return;const It=document.activeElement;if(M0(It)||M.current){var Et;const rs=((Et=window.visualViewport)==null?void 0:Et.height)||0,et=window.innerHeight;let Ct=et-rs;const Qt=Ue.current.getBoundingClientRect().height||0,es=Qt>et*.8;Le.current||(Le.current=Qt);const ae=Ue.current.getBoundingClientRect().top;if(Math.abs(He.current-Ct)>60&&(M.current=!M.current),o&&o.length>0&&Se&&Q){const ce=Se[Q]||0;Ct+=ce}if(He.current=Ct,Qt>rs||M.current){const ce=Ue.current.getBoundingClientRect().height;let ge=ce;ce>rs&&(ge=rs-(es?ae:P0)),v?Ue.current.style.height=`${ce-Math.max(Ct,0)}px`:Ue.current.style.height=`${Math.max(ge,rs-ae)}px`}else t7()||(Ue.current.style.height=`${Le.current}px`);o&&o.length>0&&!M.current?Ue.current.style.bottom="0px":Ue.current.style.bottom=`${Math.max(Ct,0)}px`}}return(Je=window.visualViewport)==null||Je.addEventListener("resize",Bt),()=>{var It;return(It=window.visualViewport)==null?void 0:It.removeEventListener("resize",Bt)}},[Q,o,Se]);function Ge(Je){Gt(),T==null||T(),Je||H(!1),setTimeout(()=>{o&&me(o[0])},As.DURATION*1e3)}function zt(){if(!Ue.current)return;const Je=document.querySelector("[data-vaul-drawer-wrapper]"),Bt=wh(Ue.current,S);an(Ue.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${As.DURATION}s cubic-bezier(${As.EASE.join(",")})`}),an($.current,{transition:`opacity ${As.DURATION}s cubic-bezier(${As.EASE.join(",")})`,opacity:"1"}),c&&Bt&&Bt>0&&I&&an(Je,le(F({borderRadius:`${KC}px`,overflow:"hidden"},Ks(S)?{transform:`scale(${st()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${st()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"}),{transitionProperty:"transform, border-radius",transitionDuration:`${As.DURATION}s`,transitionTimingFunction:`cubic-bezier(${As.EASE.join(",")})`}),!0)}function Gt(){!de||!Ue.current||(Ue.current.classList.remove(Px),Ae.current=!1,P(!1),he.current=new Date)}function Xt(Je){if(!de||!Ue.current)return;Ue.current.classList.remove(Px),Ae.current=!1,P(!1),he.current=new Date;const Bt=wh(Ue.current,S);if(!Je||!Ce(Je.target,!1)||!Bt||Number.isNaN(Bt)||xe.current===null)return;const It=he.current.getTime()-xe.current.getTime(),Et=ze.current-(Ks(S)?Je.pageY:Je.pageX),rs=Math.abs(Et)/It;if(rs>.05&&(ne(!0),setTimeout(()=>{ne(!1)},200)),o){X({draggedDistance:Et*(S==="bottom"||S==="right"?1:-1),closeDrawer:Ge,velocity:rs,dismissible:p}),i==null||i(Je,!0);return}if(S==="bottom"||S==="right"?Et>0:Et<0){zt(),i==null||i(Je,!0);return}if(rs>XC){Ge(),i==null||i(Je,!1);return}var et;const Ct=Math.min((et=Ue.current.getBoundingClientRect().height)!=null?et:0,window.innerHeight);var Qt;const es=Math.min((Qt=Ue.current.getBoundingClientRect().width)!=null?Qt:0,window.innerWidth),ae=S==="left"||S==="right";if(Math.abs(Bt)>=(ae?es:Ct)*h){Ge(),i==null||i(Je,!1);return}i==null||i(Je,!0),zt()}re.useEffect(()=>(I&&(an(document.documentElement,{scrollBehavior:"auto"}),ee.current=new Date),()=>{h7(document.documentElement,"scrollBehavior")}),[I]);function os(Je){const Bt=Je?(window.innerWidth-Po)/window.innerWidth:1,It=Je?-Po:0;Ve.current&&window.clearTimeout(Ve.current),an(Ue.current,{transition:`transform ${As.DURATION}s cubic-bezier(${As.EASE.join(",")})`,transform:Ks(S)?`scale(${Bt}) translate3d(0, ${It}px, 0)`:`scale(${Bt}) translate3d(${It}px, 0, 0)`}),!Je&&Ue.current&&(Ve.current=setTimeout(()=>{const Et=wh(Ue.current,S);an(Ue.current,{transition:"none",transform:Ks(S)?`translate3d(0, ${Et}px, 0)`:`translate3d(${Et}px, 0, 0)`})},500))}function qs(Je,Bt){if(Bt<0)return;const It=(window.innerWidth-Po)/window.innerWidth,Et=It+Bt*(1-It),rs=-Po+Bt*Po;an(Ue.current,{transform:Ks(S)?`scale(${Et}) translate3d(0, ${rs}px, 0)`:`scale(${Et}) translate3d(${rs}px, 0, 0)`,transition:"none"})}function rn(Je,Bt){const It=Ks(S)?window.innerHeight:window.innerWidth,Et=Bt?(It-Po)/It:1,rs=Bt?-Po:0;Bt&&an(Ue.current,{transition:`transform ${As.DURATION}s cubic-bezier(${As.EASE.join(",")})`,transform:Ks(S)?`scale(${Et}) translate3d(0, ${rs}px, 0)`:`scale(${Et}) translate3d(${rs}px, 0, 0)`})}return re.useEffect(()=>{_||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[_]),re.createElement(Gz,{defaultOpen:D,onOpenChange:Je=>{!p&&!Je||(Je?te(!0):Ge(!0),H(Je))},open:I},re.createElement(VC.Provider,{value:{activeSnapPoint:lt,snapPoints:o,setActiveSnapPoint:me,drawerRef:Ue,overlayRef:$,onOpenChange:t,onPress:jt,onRelease:Xt,onDrag:Be,dismissible:p,shouldAnimate:_e,handleOnly:g,isOpen:I,isDragging:de,shouldFade:Pe,closeDrawer:Ge,onNestedDrag:qs,onNestedOpenChange:os,onNestedRelease:rn,keyboardIsOpen:M,modal:_,snapPointsOffset:Se,activeSnapPointIndex:Q,direction:S,shouldScaleBackground:c,setBackgroundColorOnScale:d,noBodyStyles:C,container:W,autoFocus:Z}},s))}const JC=re.forwardRef(function(s,t){var e=Re(s,[]);const{overlayRef:n,snapPoints:i,onRelease:o,shouldFade:c,isOpen:d,modal:h,shouldAnimate:f}=Cu(),p=YC(t,n),g=i&&i.length>0;if(!h)return null;const x=re.useCallback(b=>o(b),[o]);return re.createElement(Kz,F({onMouseUp:x,ref:p,"data-vaul-overlay":"","data-vaul-snap-points":d&&g?"true":"false","data-vaul-snap-points-overlay":d&&c?"true":"false","data-vaul-animate":f!=null&&f.current?"true":"false"},e))});JC.displayName="Drawer.Overlay";const ek=re.forwardRef(function(o,i){var c=o,{onPointerDownOutside:e,style:t,onOpenAutoFocus:s}=c,n=Re(c,["onPointerDownOutside","style","onOpenAutoFocus"]);const{drawerRef:d,onPress:h,onRelease:f,onDrag:p,keyboardIsOpen:g,snapPointsOffset:x,activeSnapPointIndex:b,modal:j,isOpen:v,direction:_,snapPoints:T,container:A,handleOnly:C,shouldAnimate:S,autoFocus:D}=Cu(),[E,B]=re.useState(!1),U=YC(i,d),R=re.useRef(null),K=re.useRef(null),W=re.useRef(!1),Z=T&&T.length>0;w7();const q=(I,H,J=0)=>{if(W.current)return!0;const te=Math.abs(I.y),de=Math.abs(I.x),P=de>te,ie=["bottom","right"].includes(H)?1:-1;if(H==="left"||H==="right"){if(!(I.x*ie<0)&&de>=0&&de<=J)return P}else if(!(I.y*ie<0)&&te>=0&&te<=J)return!P;return W.current=!0,!0};re.useEffect(()=>{Z&&window.requestAnimationFrame(()=>{B(!0)})},[]);function G(I){R.current=null,W.current=!1,f(I)}return re.createElement(Qz,le(F({"data-vaul-drawer-direction":_,"data-vaul-drawer":"","data-vaul-delayed-snap-points":E?"true":"false","data-vaul-snap-points":v&&Z?"true":"false","data-vaul-custom-container":A?"true":"false","data-vaul-animate":S!=null&&S.current?"true":"false"},n),{ref:U,style:x&&x.length>0?F({"--snap-point-height":`${x[b!=null?b:0]}px`},t):t,onPointerDown:I=>{C||(n.onPointerDown==null||n.onPointerDown.call(n,I),R.current={x:I.pageX,y:I.pageY},h(I))},onOpenAutoFocus:I=>{s==null||s(I),D||I.preventDefault()},onPointerDownOutside:I=>{if(e==null||e(I),!j||I.defaultPrevented){I.preventDefault();return}g.current&&(g.current=!1)},onFocusOutside:I=>{if(!j){I.preventDefault();return}},onPointerMove:I=>{if(K.current=I,C||(n.onPointerMove==null||n.onPointerMove.call(n,I),!R.current))return;const H=I.pageY-R.current.y,J=I.pageX-R.current.x,te=I.pointerType==="touch"?10:2;q({x:J,y:H},_,te)?p(I):(Math.abs(J)>te||Math.abs(H)>te)&&(R.current=null)},onPointerUp:I=>{n.onPointerUp==null||n.onPointerUp.call(n,I),R.current=null,W.current=!1,f(I)},onPointerOut:I=>{n.onPointerOut==null||n.onPointerOut.call(n,I),G(K.current)},onContextMenu:I=>{n.onContextMenu==null||n.onContextMenu.call(n,I),K.current&&G(K.current)}}))});ek.displayName="Drawer.Content";const _7=250,T7=120,S7=re.forwardRef(function(i,n){var o=i,{preventCycle:e=!1,children:t}=o,s=Re(o,["preventCycle","children"]);const{closeDrawer:c,isDragging:d,snapPoints:h,activeSnapPoint:f,setActiveSnapPoint:p,dismissible:g,handleOnly:x,isOpen:b,onPress:j,onDrag:v}=Cu(),_=re.useRef(null),T=re.useRef(!1);function A(){if(T.current){D();return}window.setTimeout(()=>{C()},T7)}function C(){if(d||e||T.current){D();return}if(D(),!h||h.length===0){g||c();return}if(f===h[h.length-1]&&g){c();return}const B=h.findIndex(R=>R===f);if(B===-1)return;const U=h[B+1];p(U)}function S(){_.current=window.setTimeout(()=>{T.current=!0},_7)}function D(){_.current&&window.clearTimeout(_.current),T.current=!1}return re.createElement("div",F({onClick:A,onPointerCancel:D,onPointerDown:E=>{x&&j(E),S()},onPointerMove:E=>{x&&v(E)},ref:n,"data-vaul-drawer-visible":b?"true":"false","data-vaul-handle":"","aria-hidden":"true"},s),re.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});S7.displayName="Drawer.Handle";function C7(e){const t=Cu(),i=e,{container:s=t.container}=i,n=Re(i,["container"]);return re.createElement(Xz,F({container:s},n))}const Tc={Root:N7,Content:ek,Overlay:JC,Portal:C7,Title:Zz,Description:Jz};function k7(t){var e=Re(t,[]);return a.jsx(Tc.Root,F({"data-slot":"drawer"},e))}function E7(t){var e=Re(t,[]);return a.jsx(Tc.Portal,F({"data-slot":"drawer-portal"},e))}function D7(s){var n=s,{className:e}=n,t=Re(n,["className"]);return a.jsx(Tc.Overlay,F({"data-slot":"drawer-overlay",className:ks("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e)},t))}function A7(n){var i=n,{className:e,children:t}=i,s=Re(i,["className","children"]);return a.jsxs(E7,{"data-slot":"drawer-portal",children:[a.jsx(D7,{}),a.jsxs(Tc.Content,le(F({"data-slot":"drawer-content",className:ks("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-2/3 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",e)},s),{children:[a.jsx("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),t]}))]})}function O7(s){var n=s,{className:e}=n,t=Re(n,["className"]);return a.jsx("div",F({"data-slot":"drawer-header",className:ks("flex flex-col gap-0.5 p-4 group-data-[vaul-drawer-direction=bottom]/drawer-content:text-center group-data-[vaul-drawer-direction=top]/drawer-content:text-center md:gap-1.5 md:text-left",e)},t))}function R7(s){var n=s,{className:e}=n,t=Re(n,["className"]);return a.jsx("div",F({"data-slot":"drawer-footer",className:ks("mt-auto flex flex-col gap-2 p-4",e)},t))}function M7(s){var n=s,{className:e}=n,t=Re(n,["className"]);return a.jsx(Tc.Title,F({"data-slot":"drawer-title",className:ks("text-foreground font-semibold",e)},t))}function P7(s){var n=s,{className:e}=n,t=Re(n,["className"]);return a.jsx(Tc.Description,F({"data-slot":"drawer-description",className:ks("text-muted-foreground text-sm",e)},t))}var Bm="Dialog",[tk,f$]=yu(Bm),[L7,Za]=tk(Bm),sk=e=>{const{__scopeDialog:t,children:s,open:n,defaultOpen:i,onOpenChange:o,modal:c=!0}=e,d=N.useRef(null),h=N.useRef(null),[f,p]=Sm({prop:n,defaultProp:i!=null?i:!1,onChange:o,caller:Bm});return a.jsx(L7,{scope:t,triggerRef:d,contentRef:h,contentId:An(),titleId:An(),descriptionId:An(),open:f,onOpenChange:p,onOpenToggle:N.useCallback(()=>p(g=>!g),[p]),modal:c,children:s})};sk.displayName=Bm;var nk="DialogTrigger",ak=N.forwardRef((e,t)=>{const c=e,{__scopeDialog:s}=c,n=Re(c,["__scopeDialog"]),i=Za(nk,s),o=Rs(t,i.triggerRef);return a.jsx(Yt.button,le(F({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":ob(i.open)},n),{ref:o,onClick:da(e.onClick,i.onOpenToggle)}))});ak.displayName=nk;var rb="DialogPortal",[B7,rk]=tk(rb,{forceMount:void 0}),ik=e=>{const{__scopeDialog:t,forceMount:s,children:n,container:i}=e,o=Za(rb,t);return a.jsx(B7,{scope:t,forceMount:s,children:N.Children.map(n,c=>a.jsx(bc,{present:s||o.open,children:a.jsx(wu,{asChild:!0,container:i,children:c})}))})};ik.displayName=rb;var pm="DialogOverlay",ok=N.forwardRef((e,t)=>{const s=rk(pm,e.__scopeDialog),c=e,{forceMount:n=s.forceMount}=c,i=Re(c,["forceMount"]),o=Za(pm,e.__scopeDialog);return o.modal?a.jsx(bc,{present:n||o.open,children:a.jsx(U7,le(F({},i),{ref:t}))}):null});ok.displayName=pm;var F7=gc("DialogOverlay.RemoveScroll"),U7=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:s}=o,n=Re(o,["__scopeDialog"]),i=Za(pm,s);return a.jsx(ju,{as:F7,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(Yt.div,le(F({"data-state":ob(i.open)},n),{ref:t,style:F({pointerEvents:"auto"},n.style)}))})}),Jo="DialogContent",lk=N.forwardRef((e,t)=>{const s=rk(Jo,e.__scopeDialog),c=e,{forceMount:n=s.forceMount}=c,i=Re(c,["forceMount"]),o=Za(Jo,e.__scopeDialog);return a.jsx(bc,{present:n||o.open,children:o.modal?a.jsx(z7,le(F({},i),{ref:t})):a.jsx(H7,le(F({},i),{ref:t}))})});lk.displayName=Jo;var z7=N.forwardRef((e,t)=>{const s=Za(Jo,e.__scopeDialog),n=N.useRef(null),i=Rs(t,s.contentRef,n);return N.useEffect(()=>{const o=n.current;if(o)return Cm(o)},[]),a.jsx(ck,le(F({},e),{ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:da(e.onCloseAutoFocus,o=>{var c;o.preventDefault(),(c=s.triggerRef.current)==null||c.focus()}),onPointerDownOutside:da(e.onPointerDownOutside,o=>{const c=o.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&o.preventDefault()}),onFocusOutside:da(e.onFocusOutside,o=>o.preventDefault())}))}),H7=N.forwardRef((e,t)=>{const s=Za(Jo,e.__scopeDialog),n=N.useRef(!1),i=N.useRef(!1);return a.jsx(ck,le(F({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,d;(c=e.onCloseAutoFocus)==null||c.call(e,o),o.defaultPrevented||(n.current||(d=s.triggerRef.current)==null||d.focus(),o.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:o=>{var h,f;(h=e.onInteractOutside)==null||h.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=o.target;((f=s.triggerRef.current)==null?void 0:f.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}}))}),ck=N.forwardRef((e,t)=>{const p=e,{__scopeDialog:s,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o}=p,c=Re(p,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),d=Za(Jo,s),h=N.useRef(null),f=Rs(t,h);return mT(),a.jsxs(a.Fragment,{children:[a.jsx(bu,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:o,children:a.jsx(my,le(F({role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":ob(d.open)},c),{ref:f,onDismiss:()=>d.onOpenChange(!1)}))}),a.jsxs(a.Fragment,{children:[a.jsx($7,{titleId:d.titleId}),a.jsx(V7,{contentRef:h,descriptionId:d.descriptionId})]})]})}),ib="DialogTitle",dk=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:s}=o,n=Re(o,["__scopeDialog"]),i=Za(ib,s);return a.jsx(Yt.h2,le(F({id:i.titleId},n),{ref:t}))});dk.displayName=ib;var uk="DialogDescription",fk=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:s}=o,n=Re(o,["__scopeDialog"]),i=Za(uk,s);return a.jsx(Yt.p,le(F({id:i.descriptionId},n),{ref:t}))});fk.displayName=uk;var hk="DialogClose",mk=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:s}=o,n=Re(o,["__scopeDialog"]),i=Za(hk,s);return a.jsx(Yt.button,le(F({type:"button"},n),{ref:t,onClick:da(e.onClick,()=>i.onOpenChange(!1))}))});mk.displayName=hk;function ob(e){return e?"open":"closed"}var pk="DialogTitleWarning",[h$,gk]=uy(pk,{contentName:Jo,titleName:ib,docsSlug:"dialog"}),$7=({titleId:e})=>{const t=gk(pk),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return N.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},I7="DialogDescriptionWarning",V7=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${gk(I7).contentName}}.`;return N.useEffect(()=>{var o;const i=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},q7=sk,W7=ak,Y7=ik,G7=ok,X7=lk,K7=dk,Q7=fk,xk=mk;function vn(t){var e=Re(t,[]);return a.jsx(q7,F({"data-slot":"dialog"},e))}function Z7(t){var e=Re(t,[]);return a.jsx(W7,F({"data-slot":"dialog-trigger"},e))}function J7(t){var e=Re(t,[]);return a.jsx(Y7,F({"data-slot":"dialog-portal"},e))}function eH(t){var e=Re(t,[]);return a.jsx(xk,F({"data-slot":"dialog-close"},e))}function tH(s){var n=s,{className:e}=n,t=Re(n,["className"]);return a.jsx(G7,F({"data-slot":"dialog-overlay",className:ks("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-[9998] bg-black/50",e)},t))}function wn(i){var o=i,{className:e,children:t,showCloseButton:s=!0}=o,n=Re(o,["className","children","showCloseButton"]);return a.jsxs(J7,{"data-slot":"dialog-portal",children:[a.jsx(tH,{}),a.jsxs(X7,le(F({"data-slot":"dialog-content",className:ks("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-[9999] grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e)},n),{children:[t,s&&a.jsxs(xk,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[a.jsx(b5,{}),a.jsx("span",{className:"sr-only",children:"Close"})]})]}))]})}function jn(s){var n=s,{className:e}=n,t=Re(n,["className"]);return a.jsx("div",F({"data-slot":"dialog-header",className:ks("flex flex-col gap-2 text-center sm:text-left",e)},t))}function Bn(s){var n=s,{className:e}=n,t=Re(n,["className"]);return a.jsx("div",F({"data-slot":"dialog-footer",className:ks("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e)},t))}function Nn(s){var n=s,{className:e}=n,t=Re(n,["className"]);return a.jsx(K7,F({"data-slot":"dialog-title",className:ks("text-lg leading-none font-semibold",e)},t))}function ku(s){var n=s,{className:e}=n,t=Re(n,["className"]);return a.jsx(Q7,F({"data-slot":"dialog-description",className:ks("text-muted-foreground text-sm",e)},t))}function $t(n){var i=n,{className:e,type:t}=i,s=Re(i,["className","type"]);return a.jsx("input",F({type:t,"data-slot":"input",className:ks("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e)},s))}var sH="Label",yk=N.forwardRef((e,t)=>a.jsx(Yt.label,le(F({},e),{ref:t,onMouseDown:s=>{var i;s.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}})));yk.displayName=sH;var nH=yk;function $e(s){var n=s,{className:e}=n,t=Re(n,["className"]);return a.jsx(nH,F({"data-slot":"label",className:ks("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e)},t))}function Fm({doctype:e,docname:t,title:s="File Attachments",allowUpload:n=!0,allowDelete:i=!0,className:o=""}){const[c,d]=N.useState(!1),[h,f]=N.useState(!1),[p,g]=N.useState(null),[x,b]=N.useState(!1),[j,v]=N.useState(""),[_,T]=N.useState(""),[A,C]=N.useState(!1),S=N.useRef(null),{currentUser:D}=On(),{data:E,mutate:B,isLoading:U}=Nt("File",{fields:["name","file_name","file_url","file_size","is_private","attached_to_doctype","attached_to_name","creation","owner","modified"],filters:[["attached_to_doctype","=",e],["attached_to_name","=",t]],orderBy:{field:"creation",order:"desc"},limit:0}),{call:R}=yn("frappe.client.delete"),K=P=>{var ne;if(te(P))return a.jsx(Id,{className:"h-6 w-6 text-blue-500"});switch((ne=P.file_name.split(".").pop())==null?void 0:ne.toLowerCase()){case"pdf":return a.jsx(Kt,{className:"h-6 w-6 text-red-500"});case"doc":case"docx":return a.jsx(Kt,{className:"h-6 w-6 text-blue-500"});case"xls":case"xlsx":return a.jsx(Kt,{className:"h-6 w-6 text-green-500"});case"ppt":case"pptx":return a.jsx(Kt,{className:"h-6 w-6 text-orange-500"});case"jpg":case"jpeg":case"png":case"gif":case"webp":return a.jsx(DM,{className:"h-6 w-6 text-purple-500"});case"zip":case"rar":case"7z":return a.jsx(K4,{className:"h-6 w-6 text-gray-500"});default:return a.jsx(Yf,{className:"h-6 w-6 text-gray-500"})}},W=P=>{if(P===0)return"0 Bytes";const ie=1024,ne=["Bytes","KB","MB","GB"],$=Math.floor(Math.log(P)/Math.log(ie));return parseFloat((P/Math.pow(ie,$)).toFixed(2))+" "+ne[$]},Z=P=>we(null,null,function*(){var xe;if(!P||P.length===0)return;const ie=25*1024*1024,ne=Array.from(P).filter(he=>he.size>ie);if(ne.length>0){const he=ne.map(ke=>ke.name).join(", ");setTimeout(()=>{Ta.error(`File(s) too large: ${he}. Maximum size is 25MB per file.`)},100);return}d(!0);let $=0,ee=0;try{for(let he=0;he<P.length;he++){const ke=P[he],Ae=new FormData;Ae.append("file",ke),Ae.append("doctype",e),Ae.append("docname",t),Ae.append("is_private","0");try{const Ve=yield fetch("/api/method/upload_file",{method:"POST",body:Ae,credentials:"include"});if(!Ve.ok){const M=yield Ve.text();throw M.includes("too large")||M.includes("size")||Ve.status===413?new Error(`File "${ke.name}" is too large. Maximum size is 25MB.`):new Error(`Upload failed for "${ke.name}": ${Ve.statusText}`)}let ze;try{ze=yield Ve.json()}catch(M){console.log("Response is not JSON, assuming success")}if((xe=ze==null?void 0:ze.message)!=null&&xe.error)throw new Error(`Upload failed for "${ke.name}": ${ze.message.error}`);$++}catch(Ve){console.error(`Error uploading file ${ke.name}:`,Ve);const ze=Ve instanceof Error?Ve.message:String(Ve);(ze.includes("too large")||ze.includes("25MB"))&&ke.size>ie&&setTimeout(()=>{Ta.error(ze)},100),ee++}}setTimeout(()=>we(null,null,function*(){yield B()}),500)}catch(he){}finally{d(!1)}}),q=P=>we(null,null,function*(){if(confirm(`Are you sure you want to delete "${P.file_name}"?`))try{yield R({doctype:"File",name:P.name}),yield B()}catch(ie){console.error("Error deleting file:",ie),Ta.error("Failed to delete file")}}),G=()=>we(null,null,function*(){if(!j.trim()){Ta.error("Please enter a URL");return}try{new URL(j)}catch(P){Ta.error("Please enter a valid URL");return}C(!0);try{if(!(yield fetch("/api/method/frappe.client.insert",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({doc:{doctype:"File",file_name:_.trim()||j,file_url:j,attached_to_doctype:e,attached_to_name:t,is_private:0}}),credentials:"include"})).ok)throw new Error("Failed to attach link");v(""),T(""),b(!1),yield B(),Ta.success("Link attached successfully")}catch(P){console.error("Error attaching link:",P),Ta.error("Failed to attach link")}finally{C(!1)}}),I=P=>we(null,null,function*(){const ie=P.target.files;ie&&ie.length>0&&(yield Z(ie)),P.target.value=""}),H=P=>{g(P),f(!0)},J=P=>{var ne;const ie=(ne=P.split(".").pop())==null?void 0:ne.toLowerCase();return["jpg","jpeg","png","gif","webp","svg"].includes(ie||"")},te=P=>{const ie=P.file_url.startsWith("http://")||P.file_url.startsWith("https://"),ne=P.file_size===0,$=P.file_name.startsWith("http://")||P.file_name.startsWith("https://"),ee=!P.file_name.includes(".")||P.file_name.split(".").length<2;return ie&&(ne||$||ee)},de=P=>i&&(P.owner===D||D==="Administrator");return a.jsxs("div",{className:`bg-white border border-gray-200 rounded-xl p-6 ${o}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h3",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(Yf,{className:"h-5 w-5"}),s,E&&a.jsx("span",{className:"inline-flex px-2 py-1 text-sm font-medium bg-blue-100 text-blue-800 rounded-full",children:E.length})]}),n&&a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Qe,{size:"sm",onClick:()=>{var P;return(P=S.current)==null?void 0:P.click()},disabled:c,className:"bg-blue-600 hover:bg-blue-700",children:[a.jsx(Xr,{className:"h-4 w-4 mr-1"}),c?"Uploading...":"Upload Files"]}),a.jsxs(Qe,{size:"sm",variant:"outline",onClick:()=>b(!0),disabled:c||A,className:"border-blue-600 text-blue-600 hover:bg-blue-50",children:[a.jsx(Id,{className:"h-4 w-4 mr-1"}),"Attach Link"]}),a.jsx("input",{ref:S,type:"file",multiple:!0,accept:"*/*",onChange:I,className:"hidden",style:{display:"none"}})]})]}),U&&a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("span",{className:"ml-3 text-gray-600",children:"Loading attachments..."})]}),!U&&a.jsx(a.Fragment,{children:E&&E.length>0?a.jsx("div",{className:"space-y-3",children:E.map(P=>a.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors",children:[a.jsx("div",{className:"flex-shrink-0",children:K(P)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:P.file_name}),a.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[a.jsx("p",{className:"text-xs text-gray-500",children:W(P.file_size)}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Uploaded by ",P.owner]}),a.jsx("p",{className:"text-xs text-gray-500",children:new Date(P.creation).toLocaleDateString()}),P.is_private===1&&a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded",children:"Private"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[J(P.file_name)&&!te(P)&&a.jsxs(Qe,{size:"sm",variant:"outline",onClick:()=>H(P),className:"text-xs",children:[a.jsx(fr,{className:"h-3 w-3 mr-1"}),"Preview"]}),a.jsx(Qe,{size:"sm",variant:"outline",onClick:()=>window.open(P.file_url,"_blank"),className:"text-xs",children:te(P)?a.jsxs(a.Fragment,{children:[a.jsx(cr,{className:"h-3 w-3 mr-1"}),"Open Link"]}):a.jsxs(a.Fragment,{children:[a.jsx(ia,{className:"h-3 w-3 mr-1"}),"Download"]})}),de(P)&&a.jsxs(Qe,{size:"sm",variant:"outline",onClick:()=>q(P),className:"text-xs text-red-600 hover:text-red-700",children:[a.jsx(Mn,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]},P.name))}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Yf,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"No files attached"}),a.jsx("p",{className:"text-gray-500 text-sm mt-2",children:n?"Upload files to attach them to this project":"No files have been attached to this project"})]})}),a.jsx(vn,{open:x,onOpenChange:b,children:a.jsxs(wn,{className:"max-w-md",children:[a.jsx(jn,{children:a.jsxs(Nn,{className:"flex items-center gap-2",children:[a.jsx(Id,{className:"h-5 w-5"}),"Attach Link"]})}),a.jsxs("div",{className:"space-y-4 pt-4",children:[a.jsxs("div",{children:[a.jsx($e,{htmlFor:"link-url",className:"text-sm font-medium",children:"URL *"}),a.jsx($t,{id:"link-url",type:"url",placeholder:"https://example.com",value:j,onChange:P=>v(P.target.value),className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx($e,{htmlFor:"link-title",className:"text-sm font-medium",children:"Title (optional)"}),a.jsx($t,{id:"link-title",type:"text",placeholder:"Enter a descriptive title",value:_,onChange:P=>T(P.target.value),className:"mt-1"})]}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsx(Qe,{onClick:G,disabled:!j.trim()||A,className:"flex-1",children:A?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Attaching..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Id,{className:"h-4 w-4 mr-2"}),"Attach Link"]})}),a.jsx(Qe,{variant:"outline",onClick:()=>{b(!1),v(""),T("")},disabled:A,children:"Cancel"})]})]})]})}),h&&p&&a.jsx(vn,{open:h,onOpenChange:f,children:a.jsxs(wn,{className:"max-w-4xl max-h-[80vh] overflow-hidden",children:[a.jsx(jn,{children:a.jsx(Nn,{className:"flex items-center justify-between",children:a.jsx("span",{children:p.file_name})})}),a.jsx("div",{className:"flex items-center justify-center p-4",children:J(p.file_name)?a.jsx("img",{src:p.file_url,alt:p.file_name,className:"max-w-full max-h-[60vh] object-contain"}):a.jsxs("div",{className:"text-center",children:[a.jsx(Yf,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Preview not available for this file type"}),a.jsxs(Qe,{className:"mt-4",onClick:()=>window.open(p.file_url,"_blank"),children:[a.jsx(ia,{className:"h-4 w-4 mr-2"}),"Download File"]})]})})]})})]})}const aH=({isOpen:e,onClose:t,projectName:s,onSuccess:n})=>{const[i,o]=N.useState({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),{createDoc:c,loading:d,error:h}=eo(),{assignPhase:f}=jS(),{data:p,isLoading:g}=jc(s),x=(v,_)=>{o(T=>le(F({},T),{[v]:_}))},b=v=>we(null,null,function*(){if(v.preventDefault(),!!i.subject.trim())try{const _=i,{assign_to:T}=_,A=Re(_,["assign_to"]),C=yield c("project_phase",{project:s,subject:A.subject,start_date:A.start_date||null,end_date:A.end_date||null,priority:A.priority,details:A.details||null,costing:A.costing||0,status:"Open",progress:0});T&&C&&(yield f(C.name,T)),o({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),n&&n(),t()}catch(T){console.error("Failed to create project phase:",T)}}),j=()=>{o({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),t()};return a.jsx(vn,{open:e,onOpenChange:j,children:a.jsxs(wn,{className:"sm:max-w-[500px]",children:[a.jsxs(jn,{children:[a.jsx(Nn,{children:"Create New Project Phase"}),a.jsxs(ku,{children:['Add a new phase to organize tasks and milestones for "',s,'".']})]}),a.jsxs("form",{onSubmit:b,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"subject",children:"Phase Name *"}),a.jsx($t,{id:"subject",value:i.subject,onChange:v=>x("subject",v.target.value),placeholder:"e.g., Planning, Development, Testing",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"priority",children:"Priority"}),a.jsxs("select",{id:"priority",value:i.priority,onChange:v=>x("priority",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Critical",children:"Critical"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"start_date",children:"Start Date"}),a.jsxs("div",{className:"relative",children:[a.jsx($t,{id:"start_date",type:"date",value:i.start_date,onChange:v=>x("start_date",v.target.value)}),a.jsx(hn,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"end_date",children:"End Date"}),a.jsxs("div",{className:"relative",children:[a.jsx($t,{id:"end_date",type:"date",value:i.end_date,onChange:v=>x("end_date",v.target.value),min:i.start_date||void 0}),a.jsx(hn,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"costing",children:"Estimated Cost"}),a.jsx($t,{id:"costing",type:"number",value:i.costing,onChange:v=>x("costing",parseFloat(v.target.value)||0),placeholder:"0",min:"0",step:"0.01"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"assign_to",children:"Assign To"}),a.jsxs("select",{id:"assign_to",value:i.assign_to,onChange:v=>x("assign_to",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:g,children:[a.jsx("option",{value:"",children:"Select user..."}),p==null?void 0:p.map(v=>a.jsx("option",{value:v.user||v.name,children:v.user||v.name},v.name))]}),g&&a.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"details",children:"Description"}),a.jsx("textarea",{id:"details",value:i.details,onChange:v=>x("details",v.target.value),placeholder:"Phase description, objectives, and key deliverables...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3})]}),h&&a.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:a.jsx("p",{className:"text-sm text-red-600",children:h.message||"Failed to create project phase. Please try again."})}),a.jsxs(Bn,{children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:j,disabled:d,children:"Cancel"}),a.jsxs(Qe,{type:"submit",disabled:d||!i.subject.trim(),className:"flex items-center gap-2",children:[d&&a.jsx(r0,{className:"h-4 w-4 animate-spin"}),"Create Phase"]})]})]})]})})},rH=({isOpen:e,onClose:t,projectName:s,onSuccess:n})=>{const[i,o]=N.useState({subject:"",description:"",priority:"Medium",exp_start_date:"",exp_end_date:"",status:"Open"}),{createDoc:c,loading:d,error:h}=eo(),f=g=>we(null,null,function*(){if(g.preventDefault(),!!i.subject.trim())try{yield c("Task",{subject:i.subject,description:i.description,priority:i.priority,exp_start_date:i.exp_start_date||null,exp_end_date:i.exp_end_date||null,status:i.status,project:s,is_template:0,progress:0}),o({subject:"",description:"",priority:"Medium",exp_start_date:"",exp_end_date:"",status:"Open"}),n==null||n(),t()}catch(x){console.error("Error creating standalone task:",x)}}),p=(g,x)=>{o(b=>le(F({},b),{[g]:x}))};return a.jsx(vn,{open:e,onOpenChange:t,children:a.jsxs(wn,{className:"sm:max-w-[500px]",children:[a.jsx(jn,{children:a.jsx(Nn,{className:"flex items-center justify-between",children:"Create Standalone Task"})}),a.jsxs("form",{onSubmit:f,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"subject",children:"Task Subject *"}),a.jsx($t,{id:"subject",value:i.subject,onChange:g=>p("subject",g.target.value),placeholder:"Enter task subject",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"description",children:"Description"}),a.jsx("textarea",{id:"description",value:i.description,onChange:g=>p("description",g.target.value),placeholder:"Enter task description (optional)",rows:3,className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"priority",children:"Priority"}),a.jsxs("select",{id:"priority",value:i.priority,onChange:g=>p("priority",g.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Urgent",children:"Urgent"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"status",children:"Status"}),a.jsxs("select",{id:"status",value:i.status,onChange:g=>p("status",g.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[a.jsx("option",{value:"Open",children:"Open"}),a.jsx("option",{value:"Working",children:"Working"}),a.jsx("option",{value:"Pending Review",children:"Pending Review"}),a.jsx("option",{value:"Overdue",children:"Overdue"}),a.jsx("option",{value:"Template",children:"Template"}),a.jsx("option",{value:"Completed",children:"Completed"}),a.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"exp_start_date",children:"Expected Start Date"}),a.jsx($t,{id:"exp_start_date",type:"date",value:i.exp_start_date,onChange:g=>p("exp_start_date",g.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"exp_end_date",children:"Expected End Date"}),a.jsx($t,{id:"exp_end_date",type:"date",value:i.exp_end_date,onChange:g=>p("exp_end_date",g.target.value)})]})]}),h&&a.jsxs("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded-md",children:["Error creating task: ",h.message]}),a.jsxs(Bn,{children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:t,disabled:d,children:"Cancel"}),a.jsx(Qe,{type:"submit",disabled:d||!i.subject.trim(),children:d?"Creating...":"Create Task"})]})]})]})})},iH=(e,t)=>{const s=n=>we(null,null,function*(){try{console.log(`Task ${n} changed, updating affected phase progress...`);const i=yield fetch(`/api/resource/Task/${n}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(i.ok&&(yield i.json()).data.project===e){console.log(`Task ${n} belongs to current project ${e}, finding affected phases...`);const d=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name"],filters:[["project","=",e]]})});if(d.ok){const f=(yield d.json()).message||[];for(const p of f)try{const g=yield fetch(`/api/resource/project_phase/${p.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(g.ok){const b=(yield g.json()).data;b.tasks&&b.tasks.some(j=>j.task===n)&&(console.log(`Updating progress for phase ${p.name} containing task ${n}`),yield VL(p.name),t&&t())}}catch(g){console.error(`Error updating progress for phase ${p.name}:`,g)}}}}catch(i){console.error("Error in triggerPhaseProgressUpdate:",i)}});return N.useEffect(()=>{const n=i=>{if(i.key==="task_progress_updated"&&i.newValue){const o=i.newValue;console.log(`Received task progress update signal for: ${o}`),s(o),localStorage.removeItem("task_progress_updated")}};return window.addEventListener("storage",n),()=>{window.removeEventListener("storage",n)}},[e,t]),{triggerPhaseProgressUpdate:s}},oH=({projectName:e,onViewPhaseDetails:t,onViewTaskDetails:s,onViewSubTaskDetails:n})=>{const[i,o]=N.useState(new Set),[c,d]=N.useState(new Set),[h,f]=N.useState(!1),[p,g]=N.useState(!1),[x,b]=N.useState([]),[j,v]=N.useState({visible:!1,text:"",x:0,y:0}),{data:_,isLoading:T,mutate:A}=Nt("project_phase",{fields:["name","subject","status","priority","start_date","end_date","progress","details","costing"],filters:[["project","=",e]],orderBy:{field:"start_date",order:"asc"},limit:0});iH(e,()=>{console.log("Phase progress updated, refreshing UI..."),A()}),N.useEffect(()=>{_&&_.length>0?we(null,null,function*(){const $=[];for(const ee of _)try{const xe=yield fetch(`/api/resource/project_phase/${ee.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(xe.ok){const he=yield xe.json();$.push(he.data)}else console.warn("Failed to fetch phase:",ee.name),$.push(ee)}catch(xe){console.error("Error fetching phase:",ee.name,xe),$.push(ee)}b($)}):b([])},[_==null?void 0:_.length,_==null?void 0:_.map(ne=>ne.name).join(",")]);const{data:C,isLoading:S,mutate:D}=Nt("Task",{fields:["name","subject","status","priority","project","exp_start_date","exp_end_date","progress"],filters:[["project","=",e]],orderBy:{field:"exp_start_date",order:"asc"},limit:0}),E=(C==null?void 0:C.map(ne=>ne.name))||[],{data:B,isLoading:U,mutate:R}=Nt("SubTask",{fields:["name","subject","task","status","progress","start_date","end_date","description"],filters:E.length>0?[["task","in",E]]:[["task","=","dummy-non-existent-task"]],orderBy:{field:"start_date",order:"asc"},limit:0}),K=ne=>{const $=new Set(i);$.has(ne)?$.delete(ne):$.add(ne),o($)},W=ne=>{const $=new Set(c);$.has(ne)?$.delete(ne):$.add(ne),d($)};N.useEffect(()=>{const ne=()=>{document.hidden||(console.log("Tab became visible, refreshing all data (phases, tasks, subtasks)..."),A(),D(),R())};return document.addEventListener("visibilitychange",ne),()=>{document.removeEventListener("visibilitychange",ne)}},[A,D,R]);const Z=ne=>null,q=ne=>{switch(ne){case"Completed":return"bg-green-100 text-green-800";case"Working":return"bg-yellow-100 text-yellow-800";default:return"bg-blue-100 text-blue-800"}},G=ne=>{switch(ne){case"Urgent":return"bg-red-100 text-red-800";case"High":return"bg-orange-100 text-orange-800";case"Medium":return"bg-yellow-100 text-yellow-800";default:return"bg-green-100 text-green-800"}},I=(ne,$)=>{if(ne.length>30){const ee=$.currentTarget.getBoundingClientRect(),xe=document.querySelector(".bg-white.border.border-gray-200.rounded-lg"),he=xe==null?void 0:xe.getBoundingClientRect();v({visible:!0,text:ne,x:he?he.left+24:50,y:ee.top-8})}},H=()=>{v({visible:!1,text:"",x:0,y:0})},J=(ne,$,ee,xe=!1,he=!1,ke)=>{let Ae="0.75rem";ee==="phase-task"||ee==="task"&&$===1?Ae="2rem":ee==="subtask"&&(Ae="3.5rem");const Ve=ee==="phase"||ee==="task"&&xe||ee==="phase-task"&&xe,ze=ne.subject||ne.name,M=ne.status||"Open",_e=ne.progress||0,He=nt=>{nt.preventDefault(),nt.stopPropagation(),ke&&ke()},Ue=nt=>{nt.preventDefault(),nt.stopPropagation(),ee==="phase"&&t?t(ne):(ee==="task"||ee==="phase-task")&&s?s(ne):ee==="subtask"&&n&&n(ne)},mt=nt=>{nt.preventDefault(),nt.stopPropagation(),xe&&ke&&ke()};let tt="hover:bg-gray-50",Le="";return ee==="phase"||ee==="task"?(tt="bg-white hover:bg-gray-50",Le=""):ee==="phase-task"?(tt="bg-green-50/20 hover:bg-green-50",Le="border-l-2 border-l-green-200"):ee==="subtask"&&(tt="bg-yellow-50/20 hover:bg-yellow-50",Le="border-l-2 border-l-yellow-200"),a.jsx("div",{className:`${tt} ${Le} transition-colors`,children:a.jsxs("div",{className:"grid grid-cols-12 gap-4 py-3 px-6 border-b border-gray-100 items-center cursor-pointer",onClick:mt,onDoubleClick:Ue,children:[a.jsxs("div",{className:"col-span-5 flex items-center",style:{paddingLeft:Ae},children:[Ve&&a.jsx("button",{className:"mr-2 p-1 hover:bg-gray-100 rounded transition-colors flex-shrink-0",onClick:He,type:"button","aria-label":he?"Collapse":"Expand",children:he?a.jsx(ur,{className:"h-4 w-4 text-gray-600"}):a.jsx(oM,{className:"h-4 w-4 text-gray-600"})}),!Ve&&a.jsx("div",{className:"mr-2 p-1 flex-shrink-0 w-6 h-6"}),Z(),a.jsxs("div",{className:"ml-1 flex-1 min-w-0",children:[a.jsx("div",{className:`font-medium truncate ${ee==="phase"?"text-blue-900 text-lg":ee==="task"?"text-orange-900":ee==="phase-task"?"text-green-900":"text-gray-700"}`,onMouseEnter:nt=>I(ze,nt),onMouseLeave:H,title:ze.length>30?ze:void 0,children:ze}),ne.description&&ee==="subtask"&&a.jsx("p",{className:"text-sm text-gray-500 mt-1 truncate",onMouseEnter:nt=>I(ne.description,nt),onMouseLeave:H,title:ne.description.length>50?ne.description:void 0,children:ne.description}),ne.details&&ee==="phase"&&a.jsx("p",{className:"text-sm text-gray-600 mt-1 truncate",onMouseEnter:nt=>I(ne.details,nt),onMouseLeave:H,title:ne.details.length>50?ne.details:void 0,children:ne.details})]})]}),a.jsx("div",{className:"col-span-2 text-center",children:a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${q(M)}`,children:M})}),a.jsx("div",{className:"col-span-2 text-center",children:ne.priority&&a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${G(ne.priority)}`,children:ne.priority})}),a.jsxs("div",{className:"col-span-3 flex items-center justify-start space-x-2",children:[ee!=="subtask"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`${ee==="phase"?"w-20":"w-16"} bg-gray-200 rounded-full h-2`,children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${_e}%`}})}),a.jsxs("span",{className:"text-sm text-gray-600 w-12 text-left flex-shrink-0",children:[_e,"%"]})]}),a.jsxs("div",{className:"ml-auto",children:[ee==="phase"&&t&&a.jsx(Qe,{variant:"outline",size:"sm",onClick:nt=>{nt.preventDefault(),nt.stopPropagation(),t(ne)},className:"h-7 px-2 text-xs",children:"View Details"}),(ee==="task"||ee==="phase-task")&&s&&a.jsx(Qe,{variant:"outline",size:"sm",onClick:nt=>{nt.preventDefault(),nt.stopPropagation(),s(ne)},className:"h-7 px-2 text-xs",children:"View Details"}),ee==="subtask"&&n&&a.jsx(Qe,{variant:"outline",size:"sm",onClick:nt=>{nt.preventDefault(),nt.stopPropagation(),n(ne)},className:"h-7 px-2 text-xs",children:"View Details"})]})]})]})},`${ee}-${ne.name}`)};if(T||S||U)return a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"}),a.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"}),a.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"})]});const te=x.length>0?x:_||[],de=C||[],P=B||[],ie=ne=>P.filter($=>$.task===ne);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Project Tasks & Phases"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Qe,{size:"sm",variant:"outline",className:"flex items-center gap-2",onClick:()=>g(!0),children:[a.jsx(jr,{className:"h-4 w-4"}),"Add Task"]}),a.jsxs(Qe,{size:"sm",className:"flex items-center gap-2",onClick:()=>f(!0),children:[a.jsx(jr,{className:"h-4 w-4"}),"Add Phase"]})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[a.jsxs("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-200 grid grid-cols-12 gap-4 text-sm font-medium text-gray-700",children:[a.jsx("div",{className:"col-span-5",children:"Task / Phase"}),a.jsx("div",{className:"col-span-2 text-center",children:"Status"}),a.jsx("div",{className:"col-span-2 text-center",children:"Priority"}),a.jsx("div",{className:"col-span-3 text-left",children:"Progress"})]}),a.jsxs("div",{className:"divide-y divide-gray-100",children:[te.map(ne=>{const $=i.has(ne.name),ee=ne.tasks||[];return a.jsxs("div",{children:[J(ne,0,"phase",ee.length>0,$,()=>{K(ne.name)}),$&&ee.map((xe,he)=>{const ke=de.find(M=>M.name===xe.task),Ae=ie(xe.task),Ve=Ae.length>0,ze=c.has(xe.task);if(!ke){const M={name:xe.task,subject:xe.task,status:"Open"};return a.jsxs("div",{children:[J(M,1,"phase-task",Ve,ze,Ve?()=>{W(xe.task)}:void 0),ze&&Ve&&Ae.map((_e,He)=>a.jsx("div",{children:J(_e,2,"subtask",!1,!1)},`subtask-${He}`))]},`phase-task-${he}`)}return a.jsxs("div",{children:[J(ke,1,"phase-task",Ve,ze,Ve?()=>{W(ke.name)}:void 0),ze&&Ve&&Ae.map((M,_e)=>a.jsx("div",{children:J(M,2,"subtask",!1,!1)},`subtask-${_e}`))]},`phase-task-${he}`)})]},ne.name)}),te.length>0&&de.filter(ne=>!te.some(ee=>{var xe;return(xe=ee.tasks)==null?void 0:xe.some(he=>he.task===ne.name)})).length>0&&a.jsx("div",{className:"bg-gray-100 px-6 py-2 border-b border-gray-200",children:a.jsxs("div",{className:"text-sm font-medium text-gray-600 flex items-center",children:[a.jsx("span",{className:"mr-2",children:"📝"}),"Standalone Tasks"]})}),de.filter(ne=>!te.some(ee=>{var xe;return(xe=ee.tasks)==null?void 0:xe.some(he=>he.task===ne.name)})).map(ne=>{const $=c.has(ne.name),ee=ie(ne.name),xe=ee.length>0;return a.jsxs("div",{children:[J(ne,1,"task",xe,$,xe?()=>{W(ne.name)}:void 0),$&&xe&&ee.map((he,ke)=>a.jsx("div",{children:J(he,2,"subtask",!1,!1)},`standalone-subtask-${ke}`))]},ne.name)})]})]}),te.length===0&&de.length===0&&a.jsx("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"📋"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No phases or tasks yet"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Start organizing your project by creating phases and tasks."}),a.jsxs("div",{className:"flex gap-3 justify-center",children:[a.jsx(Qe,{onClick:()=>f(!0),children:"Create First Phase"}),a.jsx(Qe,{variant:"outline",onClick:()=>g(!0),children:"Create Task"})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-6 border-t border-gray-200",children:[a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:te.length}),a.jsx("div",{className:"text-sm text-blue-600",children:"Total Phases"})]}),a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:de.length}),a.jsx("div",{className:"text-sm text-green-600",children:"Total Tasks"})]}),a.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:P.length}),a.jsx("div",{className:"text-sm text-purple-600",children:"Total Subtasks"})]})]}),a.jsx(aH,{isOpen:h,onClose:()=>f(!1),projectName:e,onSuccess:()=>{A()}}),a.jsx(rH,{isOpen:p,onClose:()=>g(!1),projectName:e,onSuccess:()=>{D()}}),j.visible&&a.jsxs("div",{className:"fixed z-50 bg-gray-900 text-white text-sm px-4 py-2 rounded-lg shadow-xl pointer-events-none border border-gray-700",style:{left:j.x,top:j.y,transform:"translateY(-100%)",maxWidth:"400px",minWidth:"200px",wordWrap:"break-word"},children:[a.jsx("div",{className:"font-medium leading-relaxed",children:j.text}),a.jsx("div",{className:"absolute top-full w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900",style:{left:"20px"}})]})]})},lH=({isOpen:e,onClose:t,projectName:s,phaseId:n,onSuccess:i})=>{const[o,c]=N.useState({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),[d,h]=N.useState({}),[f,p]=N.useState(!1),{createTaskWithPhase:g,isLoading:x}=zL(),{data:b,isLoading:j}=jc(s),{data:v}=Ot("Project",s),_=(S,D)=>{c(E=>le(F({},E),{[S]:D})),d[S]&&h(E=>le(F({},E),{[S]:""}))},T=()=>{const S={};return o.subject.trim()||(S.subject="Task subject is required"),h(S),Object.keys(S).length===0},A=S=>we(null,null,function*(){if(S.preventDefault(),!f&&T()){if(o.exp_start_date&&o.exp_end_date){const D=new Date(o.exp_start_date);if(new Date(o.exp_end_date)<D){xs.error("End date cannot be earlier than start date");return}}if(o.exp_end_date&&(v!=null&&v.expected_end_date)){const D=new Date(o.exp_end_date),E=new Date(v.expected_end_date);if(D>E){xs.error(`Task end date cannot be after project end date (${v.expected_end_date})`);return}}p(!0);try{const D=le(F({},o),{project:s,expected_time:Number(o.expected_time),task_weight:Number(o.task_weight),exp_start_date:o.exp_start_date||void 0,exp_end_date:o.exp_end_date||void 0,phaseId:n,assign_to:o.assign_to||void 0});console.log("Creating task with data:",D),console.log("Date fields:",{exp_start_date:o.exp_start_date,exp_end_date:o.exp_end_date});const E=yield g(D);console.log("Task with phase created:",E);let B=`Task "${o.subject}" has been created successfully.`;E.todo&&o.assign_to&&(console.log("Task assigned and ToDo created for:",o.assign_to),B+=` Task has been assigned to ${o.assign_to}.`),xs.success("Task created successfully",{description:B}),c({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),h({}),i&&i(),t()}catch(D){console.error("Error creating task:",D);let E="Failed to create task. Please try again.";D!=null&&D.message&&(D.message.includes("Expected End Date cannot be after Project")?E="Task end date cannot be after the project end date. Please choose an earlier date.":D.message.includes("InvalidDates")?E="Invalid date configuration. Please check your task dates.":E=D.message),D!=null&&D.exception&&typeof D.exception=="string"&&D.exception.includes("Expected End Date cannot be after Project")&&(E="Task end date cannot be after the project end date. Please choose an earlier date."),xs.error("Failed to create task",{description:E}),h({submit:E})}finally{p(!1)}}}),C=()=>{c({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),h({}),t()};return a.jsx(vn,{open:e,onOpenChange:C,children:a.jsxs(wn,{className:"sm:max-w-[600px]",children:[a.jsxs(jn,{children:[a.jsxs(Nn,{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-2xl",children:"📝"}),"Create New Task"]}),a.jsxs(ku,{children:["Create a new task for project: ",a.jsx("strong",{children:s}),n&&a.jsxs(a.Fragment,{children:[a.jsx("br",{}),a.jsx("span",{className:"text-blue-600",children:"🔗 This task will be linked to the current phase"})]}),a.jsx("br",{}),a.jsx("span",{className:"text-gray-600",children:"💡 Assigning to a user will automatically create a ToDo item for them"})]})]}),a.jsxs("form",{onSubmit:A,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx($e,{htmlFor:"subject",children:"Task Subject *"}),a.jsx($t,{id:"subject",value:o.subject,onChange:S=>_("subject",S.target.value),placeholder:"Enter task subject...",className:d.subject?"border-red-500":""}),d.subject&&a.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.subject})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx($e,{htmlFor:"description",children:"Description"}),a.jsx("textarea",{id:"description",value:o.description,onChange:S=>_("description",S.target.value),placeholder:"Enter task description...",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx($e,{htmlFor:"priority",children:"Priority"}),a.jsxs("select",{id:"priority",value:o.priority,onChange:S=>_("priority",S.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Urgent",children:"Urgent"})]})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx($e,{htmlFor:"status",children:"Status"}),a.jsxs("select",{id:"status",value:o.status,onChange:S=>_("status",S.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[a.jsx("option",{value:"Open",children:"Open"}),a.jsx("option",{value:"Working",children:"Working"}),a.jsx("option",{value:"Overdue",children:"Overdue"}),a.jsx("option",{value:"Pending Review",children:"Pending Review"}),a.jsx("option",{value:"Completed",children:"Completed"}),a.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx($e,{htmlFor:"assign_to",children:"Assign To"}),a.jsxs("select",{id:"assign_to",value:o.assign_to,onChange:S=>_("assign_to",S.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",disabled:j,children:[a.jsx("option",{value:"",children:"Select user to assign (Optional)"}),b==null?void 0:b.map(S=>a.jsxs("option",{value:S.user||S.name,children:[S.full_name||S.name,S.email&&` (${S.email})`]},S.user||S.name))]}),j&&a.jsx("p",{className:"text-sm text-gray-500",children:"Loading users..."}),!j&&b&&b.length>10&&a.jsx("p",{className:"text-sm text-amber-600",children:"⚠️ Showing all system users (project users not available)"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx($e,{htmlFor:"expected_time",children:"Expected Time (hours)"}),a.jsx($t,{id:"expected_time",type:"number",min:"0",step:"0.5",value:o.expected_time,onChange:S=>_("expected_time",Number(S.target.value)),placeholder:"0"})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx($e,{htmlFor:"task_weight",children:"Task Weight"}),a.jsx($t,{id:"task_weight",type:"number",min:"1",value:o.task_weight,onChange:S=>_("task_weight",Number(S.target.value)),placeholder:"1"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"exp_start_date",children:"Expected Start Date"}),a.jsx($t,{id:"exp_start_date",type:"date",value:o.exp_start_date,onChange:S=>_("exp_start_date",S.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"exp_end_date",children:"Expected End Date"}),a.jsx($t,{id:"exp_end_date",type:"date",value:o.exp_end_date,onChange:S=>_("exp_end_date",S.target.value),max:(v==null?void 0:v.expected_end_date)||void 0}),(v==null?void 0:v.expected_end_date)&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Must be before project end date: ",v.expected_end_date]})]})]})]}),d.submit&&a.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-md p-3",children:d.submit}),a.jsxs(Bn,{children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:C,children:"Cancel"}),a.jsx(Qe,{type:"submit",disabled:x||f,children:x||f?"Creating...":"Create Task"})]})]})]})})},cH=({phase:e,projectName:t,isOpen:s,onClose:n,onSuccess:i})=>{var B;const{updatePhase:o,isLoading:c,error:d}=HL(),{assignPhase:h,unassignPhase:f}=jS(),{currentUser:p}=On(),{data:g,isLoading:x}=jc(t),{data:b}=Ot("Project",t||"",t?"Project":void 0),j=(b==null?void 0:b.users)||[],{data:v}=Nt("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","project_phase"],["reference_name","=",(e==null?void 0:e.name)||""]]}),_=()=>{if(p==="Administrator"||(b==null?void 0:b.owner)===p)return!0;const U=j.find(R=>R.user===p);return(U==null?void 0:U.project_status)==="Project Manager (Owner Substitute)"},[T,A]=N.useState({subject:"",status:"Open",priority:"Medium",start_date:"",end_date:"",progress:0,details:"",costing:0,assign_to:""}),C=((B=v==null?void 0:v[0])==null?void 0:B.allocated_to)||"";N.useEffect(()=>{e&&A({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",progress:e.progress||0,details:e.details||"",costing:e.costing||0,assign_to:C})},[e,C]);const S=(U,R)=>{A(K=>le(F({},K),{[U]:R}))},D=U=>we(null,null,function*(){if(U.preventDefault(),!!e){if(T.status==="Completed"&&!_()){xs.error("Permission denied",{description:"You don't have permission to mark this phase as Completed. Only Project Owner, Project Manager, or Administrator can do this."});return}try{const R=T,{assign_to:K}=R,W=Re(R,["assign_to"]);yield o(e.name,W);const Z=C,q=K;if(Z&&Z!==q){const G=v==null?void 0:v.find(I=>I.allocated_to===Z);G&&(yield f(G.name))}q&&q!==Z&&(yield h(e.name,q)),xs.success("Phase updated successfully",{description:`Phase "${T.subject}" has been updated.`}),i&&i(),n()}catch(K){console.error("Error updating phase:",K),xs.error("Failed to update phase",{description:K instanceof Error?K.message:"An unexpected error occurred."})}}}),E=()=>{e&&A({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",progress:e.progress||0,details:e.details||"",costing:e.costing||0,assign_to:C}),n()};return a.jsx(vn,{open:s,onOpenChange:n,children:a.jsxs(wn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[a.jsx(jn,{children:a.jsx(Nn,{children:"Edit Phase"})}),a.jsxs("form",{onSubmit:D,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"subject",children:"Subject *"}),a.jsx($t,{id:"subject",value:T.subject,onChange:U=>S("subject",U.target.value),required:!0,placeholder:"Enter phase subject"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"status",children:"Status"}),a.jsxs("select",{id:"status",value:T.status,onChange:U=>S("status",U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"Open",children:"Open"}),a.jsx("option",{value:"Working",children:"Working"}),a.jsx("option",{value:"Pending Review",children:"Pending Review"}),_()&&a.jsx("option",{value:"Completed",children:"Completed"}),a.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),!_()&&a.jsx("span",{className:"text-xs text-amber-600",children:"You don't have permission to mark Completed"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"priority",children:"Priority"}),a.jsxs("select",{id:"priority",value:T.priority,onChange:U=>S("priority",U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Critical",children:"Critical"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"start_date",children:"Start Date"}),a.jsx($t,{id:"start_date",type:"date",value:T.start_date,onChange:U=>S("start_date",U.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"end_date",children:"End Date"}),a.jsx($t,{id:"end_date",type:"date",value:T.end_date,onChange:U=>S("end_date",U.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"progress",children:"Progress (%)"}),a.jsx($t,{id:"progress",type:"number",min:"0",max:"100",value:T.progress,onChange:U=>S("progress",parseInt(U.target.value)||0),placeholder:"0"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"costing",children:"Costing"}),a.jsx($t,{id:"costing",type:"number",min:"0",step:"0.01",value:T.costing,onChange:U=>S("costing",parseFloat(U.target.value)||0),placeholder:"0.00"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"details",children:"Details"}),a.jsx("textarea",{id:"details",value:T.details,onChange:U=>S("details",U.target.value),placeholder:"Enter phase details",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"assign_to",children:"Assign To"}),a.jsxs("select",{id:"assign_to",value:T.assign_to,onChange:U=>S("assign_to",U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:x,children:[a.jsx("option",{value:"",children:"Select user..."}),g==null?void 0:g.map(U=>a.jsx("option",{value:U.user||U.name,children:U.user||U.name},U.name))]}),x&&a.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),d&&a.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:a.jsxs("p",{children:[a.jsx("strong",{children:"Error:"})," ",d.message||"Failed to update phase"]})}),a.jsxs(Bn,{className:"flex gap-2",children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:E,children:"Cancel"}),a.jsx(Qe,{type:"submit",disabled:c,children:c?"Updating...":"Update Phase"})]})]})]})})},dH=({phase:e,isOpen:t,onClose:s,onSuccess:n})=>{const{call:i,loading:o,error:c}=yn("frappe.client.delete"),d=()=>we(null,null,function*(){if(e)try{yield i({doctype:"project_phase",name:e.name}),n&&n(),s()}catch(f){console.error("Error deleting phase:",f)}}),h=()=>{s()};return a.jsx(vn,{open:t,onOpenChange:s,children:a.jsxs(wn,{className:"sm:max-w-[400px]",children:[a.jsx(jn,{children:a.jsxs(Nn,{className:"flex items-center gap-2 text-red-600",children:[a.jsx(pc,{className:"h-5 w-5"}),"Delete Phase"]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this phase? This action cannot be undone."}),e&&a.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[a.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Priority: ",e.priority||"Medium"]})]}),a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[a.jsxs("div",{className:"text-sm text-red-800",children:[a.jsx("strong",{children:"Warning:"})," Deleting this phase will also remove:"]}),a.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[a.jsx("li",{children:"All tasks associated with this phase"}),a.jsx("li",{children:"All phase progress data"}),a.jsx("li",{children:"Phase timeline and milestones"}),a.jsx("li",{children:"Related documents and attachments"})]})]}),c&&a.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:a.jsxs("p",{children:[a.jsx("strong",{children:"Error:"})," ",c.message||"Failed to delete phase"]})})]}),a.jsxs(Bn,{className:"flex gap-2",children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:h,children:"Cancel"}),a.jsx(Qe,{type:"button",variant:"destructive",onClick:d,disabled:o,children:o?"Deleting...":"Delete Phase"})]})]})})},uH=({phase:e,projectName:t,onBack:s,onViewTaskDetails:n,onPhaseUpdated:i,onPhaseDeleted:o,onTaskCreated:c})=>{var te;const[d,h]=N.useState(!1),[f,p]=N.useState(!1),[g,x]=N.useState(!1),[b,j]=N.useState(!1),[v,_]=N.useState(!1),{calculateAndUpdatePhaseProgress:T}=CS(),{data:A,mutate:C}=Ot("project_phase",e.name,"project_phase"),S=A||e,{data:D,isLoading:E,mutate:B}=Nt("Task",{fields:["name","subject","status","priority","project","exp_start_date","exp_end_date","progress"],filters:[["project","=",t]],orderBy:{field:"exp_start_date",order:"asc"},limit:0}),U=re.useMemo(()=>{if(!D)return[];if(S.tasks&&S.tasks.length>0){const de=S.tasks.map(P=>P.task);return D.filter(P=>de.includes(P.name))}return[]},[D,S.tasks]),R=re.useMemo(()=>{if(!U||U.length===0)return 0;const de=U.reduce((P,ie)=>P+(ie.progress||0),0);return Math.round(de/U.length)},[U]);N.useEffect(()=>{U.length>0&&R!==(S.progress||0)&&K()},[R,U.length]);const K=()=>we(null,null,function*(){j(!0);try{yield T(e.name),yield C(),i&&i()}catch(de){console.error("Error recalculating phase progress:",de)}finally{j(!1)}}),W=de=>de?new Date(de).toLocaleDateString():"N/A",Z=de=>de?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(de):"$0",q=de=>{switch(de){case"Completed":return a.jsx(ly,{className:"h-5 w-5 text-green-600"});case"Working":return a.jsx(Xi,{className:"h-5 w-5 text-yellow-600"});case"Open":return a.jsx(Gi,{className:"h-5 w-5 text-blue-600"});default:return a.jsx(Gi,{className:"h-5 w-5 text-gray-400"})}},G=de=>{switch(de){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},I=de=>{switch(de){case"Urgent":return"bg-red-100 text-red-800 border-red-200";case"High":return"bg-orange-100 text-orange-800 border-orange-200";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},H=()=>we(null,null,function*(){_(!0);try{yield C(),yield B(),i&&(yield i()),setTimeout(()=>we(null,null,function*(){j(!0);try{yield T(S.name),setTimeout(()=>we(null,null,function*(){yield C()}),500)}catch(de){console.error("Error recalculating phase progress:",de)}finally{j(!1)}}),500)}finally{_(!1)}}),J=()=>{o&&o(),s()};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Qe,{variant:"ghost",size:"sm",onClick:s,className:"flex items-center gap-2",children:[a.jsx(oy,{className:"h-4 w-4"}),"Back to Tasks"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Qe,{variant:"outline",size:"sm",onClick:()=>p(!0),disabled:v||b,className:"flex items-center gap-2",children:[a.jsx(au,{className:`h-4 w-4 ${v?"animate-pulse":""}`}),v?"Updating...":"Edit Phase"]}),a.jsxs(Qe,{variant:"outline",size:"sm",onClick:()=>x(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[a.jsx(Mn,{className:"h-4 w-4"}),"Delete Phase"]})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"h-12 w-12 rounded-lg bg-blue-500 flex items-center justify-center",children:a.jsx("span",{className:"text-xl",children:"📋"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:S.subject}),a.jsx("p",{className:"text-sm text-gray-600",children:"Phase Details"})]})]}),S.details&&a.jsx("p",{className:"text-gray-700 leading-relaxed",children:S.details})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${G(S.status||"Open")}`,children:[q(S.status||"Open"),a.jsx("span",{className:"font-medium",children:S.status||"Open"})]}),S.priority&&a.jsx("div",{className:`px-3 py-1 rounded-full border ${I(S.priority)}`,children:a.jsx("span",{className:"text-sm font-medium",children:S.priority})})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Phase Progress"}),U.length>0&&a.jsxs("span",{className:"text-xs text-gray-500",children:["(Auto-calculated from ",U.length," tasks)"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[R,"%"]}),a.jsx(Qe,{variant:"ghost",size:"sm",onClick:K,disabled:b,className:"h-8 w-8 p-0",title:"Recalculate progress from tasks",children:a.jsx(JM,{className:`h-4 w-4 ${b?"animate-spin":""}`})})]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full transition-all duration-500",style:{width:`${R}%`}})}),U.length>0&&a.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Task progress: ",U.map(de=>`${de.subject}: ${de.progress||0}%`).join(", ")]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:a.jsx(hn,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),a.jsx("p",{className:"text-lg font-bold text-gray-900",children:W(S.start_date)})]})]})}),a.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:a.jsx(dy,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),a.jsx("p",{className:"text-lg font-bold text-gray-900",children:W(S.end_date)})]})]})}),a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:a.jsx(Yo,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Estimated Cost"}),a.jsx("p",{className:"text-lg font-bold text-gray-900",children:Z(S.costing)})]})]})})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Phase Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Phase ID"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:S.name})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),a.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${G(S.status||"Open")}`,children:[q(S.status||"Open"),a.jsx("span",{className:"font-medium",children:S.status||"Open"})]})]}),a.jsxs("div",{className:"flex items-center justify-between py-3",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),a.jsx("div",{className:`px-3 py-1 rounded-full ${I(S.priority||"Medium")}`,children:a.jsx("span",{className:"font-medium",children:S.priority||"Medium"})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Tasks Count"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:((te=S.tasks)==null?void 0:te.length)||0})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:S.start_date&&S.end_date?`${Math.ceil((new Date(S.end_date).getTime()-new Date(S.start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),a.jsxs("div",{className:"flex items-center justify-between py-3",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Progress"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-xl font-bold text-blue-600",children:[R,"%"]}),U.length>0&&a.jsxs("span",{className:"text-xs text-gray-500",children:["(from ",U.length," tasks)"]})]})]}),a.jsxs("div",{className:"flex items-center justify-between py-3",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Estimated Cost"}),a.jsx("span",{className:"text-xl font-bold text-green-600",children:Z(e.costing)})]})]})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Tasks in this Phase"})}),E?a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),a.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),a.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"})]}):a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3",children:[a.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700",children:"#"}),a.jsx("div",{className:"col-span-4 text-sm font-medium text-gray-700",children:"Task"}),a.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Progress"}),a.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Status"}),a.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700 text-center",children:"Priority"}),a.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Actions"})]})}),a.jsxs("div",{className:"divide-y divide-gray-100",children:[U&&U.length>0?U.map((de,P)=>a.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[a.jsx("div",{className:"col-span-1 flex items-center",children:a.jsx("span",{className:"text-sm text-gray-600",children:P+1})}),a.jsxs("div",{className:"col-span-4 flex items-center gap-3",children:[a.jsx("div",{className:"p-1 bg-orange-100 rounded",children:a.jsx("span",{className:"text-sm",children:"📝"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:de.subject||de.name}),a.jsx("div",{className:"text-sm text-gray-500",children:de.name})]})]}),a.jsx("div",{className:"col-span-2 flex items-center justify-center",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${de.progress||0}%`}})}),a.jsxs("span",{className:"text-sm font-medium text-gray-700 min-w-[30px]",children:[de.progress||0,"%"]})]})}),a.jsx("div",{className:"col-span-2 flex items-center justify-center",children:a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${G(de.status||"Open")}`,children:de.status||"Open"})}),a.jsx("div",{className:"col-span-1 flex items-center justify-center",children:de.priority&&a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${I(de.priority)}`,children:de.priority})}),a.jsx("div",{className:"col-span-2 flex items-center justify-center",children:n&&a.jsx(Qe,{variant:"outline",size:"sm",onClick:()=>n(de),className:"h-7 px-2 text-xs",children:"View Details"})})]},de.name)):a.jsxs("div",{className:"px-6 py-8 text-center text-gray-500",children:[a.jsx("div",{className:"text-4xl mb-2",children:"📝"}),a.jsx("div",{className:"text-lg font-medium mb-1",children:"No tasks yet"}),a.jsx("div",{className:"text-sm",children:'Click "Add Task" to create the first task for this phase'})]}),a.jsx("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 bg-gray-50 border-t border-gray-200",children:a.jsx("div",{className:"col-span-12 flex items-center justify-center",children:a.jsxs(Qe,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",onClick:()=>h(!0),children:[a.jsx(jr,{className:"h-4 w-4"}),"Add new task to this phase"]})})})]})]})]}),a.jsx(Fm,{doctype:"project_phase",docname:e.name,title:"Phase Files",allowUpload:!0,allowDelete:!0,className:"mt-8"}),a.jsx(lH,{isOpen:d,onClose:()=>h(!1),projectName:t,phaseId:e.name,onSuccess:()=>we(null,null,function*(){yield C(),c&&(yield c()),setTimeout(()=>we(null,null,function*(){yield B(),setTimeout(()=>we(null,null,function*(){yield K()}),500)}),500)})}),a.jsx(cH,{phase:e,projectName:t,isOpen:f,onClose:()=>p(!1),onSuccess:H}),a.jsx(dH,{phase:e,isOpen:g,onClose:()=>x(!1),onSuccess:J})]})},fH=({isOpen:e,onClose:t,projectName:s,parentTask:n,onSuccess:i})=>{const[o,c]=N.useState({subject:"",description:"",priority:"Medium",status:"Open",task:n||"",assign_to:""}),[d,h]=N.useState({}),{createDoc:f,loading:p}=eo(),{assignSubTask:g}=Ey(),{calculateAndUpdateTaskProgress:x}=_u(),{data:b,isLoading:j}=jc(s),v=(C,S)=>{c(D=>le(F({},D),{[C]:S})),d[C]&&h(D=>le(F({},D),{[C]:""}))},_=()=>{const C={};return o.subject.trim()||(C.subject="SubTask subject is required"),o.task.trim()||(C.task="Parent task is required"),h(C),Object.keys(C).length===0},T=C=>we(null,null,function*(){if(C.preventDefault(),!!_())try{const S=o,{assign_to:D}=S,E=Re(S,["assign_to"]),B=yield f("SubTask",le(F({},E),{project:s}));if(D&&B&&(yield g(B.name,D)),n)try{yield x(n)}catch(U){console.error("Error updating task progress after subtask creation:",U)}c({subject:"",description:"",priority:"Medium",status:"Open",task:n||"",assign_to:""}),h({}),i&&i(),t()}catch(D){console.error("Error creating subtask:",D),h({submit:"Failed to create subtask. Please try again."})}}),A=()=>{c({subject:"",description:"",priority:"Medium",status:"Open",task:n||"",assign_to:""}),h({}),t()};return a.jsx(vn,{open:e,onOpenChange:A,children:a.jsxs(wn,{className:"sm:max-w-[600px]",children:[a.jsxs(jn,{children:[a.jsxs(Nn,{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-2xl",children:"📌"}),"Create New SubTask"]}),a.jsxs(ku,{children:["Create a new subtask for project: ",a.jsx("strong",{children:s}),n&&a.jsxs("span",{className:"block mt-1",children:["Parent Task: ",a.jsx("strong",{children:n})]})]})]}),a.jsxs("form",{onSubmit:T,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx($e,{htmlFor:"subject",children:"SubTask Subject *"}),a.jsx($t,{id:"subject",value:o.subject,onChange:C=>v("subject",C.target.value),placeholder:"Enter subtask subject...",className:d.subject?"border-red-500":""}),d.subject&&a.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.subject})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx($e,{htmlFor:"task",children:"Parent Task *"}),a.jsx($t,{id:"task",value:o.task,onChange:C=>v("task",C.target.value),placeholder:"Enter parent task ID...",className:d.task?"border-red-500":""}),d.task&&a.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.task}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Enter the Task ID that this subtask belongs to"})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx($e,{htmlFor:"description",children:"Description"}),a.jsx("textarea",{id:"description",value:o.description,onChange:C=>v("description",C.target.value),placeholder:"Enter subtask description...",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"assign_to",children:"Assign To"}),a.jsxs("select",{id:"assign_to",value:o.assign_to,onChange:C=>v("assign_to",C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:j,children:[a.jsx("option",{value:"",children:"Select user..."}),b==null?void 0:b.map(C=>a.jsx("option",{value:C.user||C.name,children:C.user||C.name},C.name))]}),j&&a.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx($e,{htmlFor:"priority",children:"Priority"}),a.jsxs("select",{id:"priority",value:o.priority,onChange:C=>v("priority",C.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"})]})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx($e,{htmlFor:"status",children:"Status"}),a.jsxs("select",{id:"status",value:o.status,onChange:C=>v("status",C.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[a.jsx("option",{value:"Open",children:"Open"}),a.jsx("option",{value:"Working",children:"Working"}),a.jsx("option",{value:"Completed",children:"Completed"})]})]})]})]}),d.submit&&a.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-md p-3",children:d.submit}),a.jsxs(Bn,{children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:A,children:"Cancel"}),a.jsx(Qe,{type:"submit",disabled:p,children:p?"Creating...":"Create SubTask"})]})]})]})})},hH=({task:e,projectName:t,isOpen:s,onClose:n,onSuccess:i})=>{const{updateTask:o,isLoading:c,error:d}=bS(),{assignTask:h,unassignTask:f}=vS(),{updateTaskProgress:p}=TS(),{updateTaskProgressByStatus:g}=_S(),{currentUser:x}=On(),{data:b,isLoading:j}=jc(t),{data:v}=Ot("Project",t),_=(v==null?void 0:v.users)||[],{data:T}=Nt("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","Task"],["reference_name","=",(e==null?void 0:e.name)||""]]}),{data:A}=Nt("SubTask",{fields:["name"],filters:[["task","=",(e==null?void 0:e.name)||""]],limit:1}),C=()=>{if(x==="Administrator"||(v==null?void 0:v.owner)===x)return!0;const W=_.find(Z=>Z.user===x);return(W==null?void 0:W.project_status)==="Project Manager (Owner Substitute)"},[S,D]=N.useState({subject:"",status:"Open",priority:"Medium",exp_start_date:"",exp_end_date:"",progress:0,description:"",assign_to:""}),[E,B]=N.useState(!1);N.useEffect(()=>{var W;if(e){const Z=((W=T==null?void 0:T[0])==null?void 0:W.allocated_to)||"";D({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",exp_start_date:e.exp_start_date?e.exp_start_date.split(" ")[0]:"",exp_end_date:e.exp_end_date?e.exp_end_date.split(" ")[0]:"",progress:e.progress||0,description:e.description||"",assign_to:Z})}},[e,T]),N.useEffect(()=>{B(!!(A&&A.length>0))},[A]);const U=(W,Z)=>{D(q=>le(F({},q),{[W]:Z}))},R=W=>we(null,null,function*(){var Z,q,G;if(W.preventDefault(),!!e){if(S.status==="Completed"&&!C()){xs.error("Permission denied",{description:"You don't have permission to mark this task as Completed. Only Project Owner, Project Manager, or Administrator can do this."});return}if(S.exp_start_date&&S.exp_end_date){const I=new Date(S.exp_start_date);if(new Date(S.exp_end_date)<I){xs.error("End date cannot be earlier than start date");return}}if(S.exp_end_date&&(v!=null&&v.expected_end_date)){const I=new Date(S.exp_end_date),H=new Date(v.expected_end_date);if(I>H){xs.error(`Task end date cannot be after project end date (${v.expected_end_date})`);return}}try{const I=S.progress!==(e.progress||0),H=S.status!==e.status;E&&I?yield p(e.name,S.progress):H&&(S.status==="Completed"||S.status==="Cancelled")?yield g(e.name,S.status):yield o(e.name,S);const J=((Z=T==null?void 0:T[0])==null?void 0:Z.allocated_to)||"",te=S.assign_to;if(J!==te){if(J&&(T!=null&&T[0]))try{yield f(T[0].name)}catch(de){console.error("Error deleting old ToDo:",de)}if(te)try{yield h(e.name,S.subject,te,S.priority)}catch(de){console.error("Error creating new ToDo:",de)}}xs.success("Task updated successfully",{description:`Task "${S.subject}" has been updated.`}),i&&i(),n()}catch(I){console.error("Error updating task:",I);let H="Failed to update task";(q=I==null?void 0:I.message)!=null&&q.includes("modified")?H="The task has been modified by someone else. Please close and reopen the task to get the latest version.":(G=I==null?void 0:I.message)!=null&&G.includes("permission")?H="You do not have permission to update this task.":I!=null&&I.message&&(H=I.message),xs.error("Failed to update task",{description:H})}}}),K=()=>{var W;if(e){const Z=((W=T==null?void 0:T[0])==null?void 0:W.allocated_to)||"";D({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",exp_start_date:e.exp_start_date?e.exp_start_date.split(" ")[0]:"",exp_end_date:e.exp_end_date?e.exp_end_date.split(" ")[0]:"",progress:e.progress||0,description:e.description||"",assign_to:Z})}n()};return a.jsx(vn,{open:s,onOpenChange:n,children:a.jsxs(wn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[a.jsx(jn,{children:a.jsx(Nn,{children:"Edit Task"})}),a.jsxs("form",{onSubmit:R,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"subject",children:"Subject *"}),a.jsx($t,{id:"subject",value:S.subject,onChange:W=>U("subject",W.target.value),required:!0,placeholder:"Enter task subject"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"status",children:"Status"}),a.jsxs("select",{id:"status",value:S.status,onChange:W=>U("status",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"Open",children:"Open"}),a.jsx("option",{value:"Working",children:"Working"}),a.jsx("option",{value:"Pending Review",children:"Pending Review"}),a.jsx("option",{value:"Overdue",children:"Overdue"}),a.jsx("option",{value:"Template",children:"Template"}),C()&&a.jsx("option",{value:"Completed",children:"Completed"}),a.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),!C()&&a.jsx("span",{className:"text-xs text-amber-600",children:"You don't have permission to mark Completed"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"priority",children:"Priority"}),a.jsxs("select",{id:"priority",value:S.priority,onChange:W=>U("priority",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Urgent",children:"Urgent"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"assign_to",children:"Assign To"}),a.jsxs("select",{id:"assign_to",value:S.assign_to,onChange:W=>U("assign_to",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:j,children:[a.jsx("option",{value:"",children:"Select user to assign (Optional)"}),b==null?void 0:b.map(W=>a.jsxs("option",{value:W.user||W.name,children:[W.full_name||W.name,W.email&&` (${W.email})`]},W.user||W.name))]}),j&&a.jsx("p",{className:"text-sm text-gray-500",children:"Loading users..."}),!j&&b&&b.length>10&&a.jsx("p",{className:"text-sm text-amber-600",children:"⚠️ Showing all system users (project users not available)"}),T&&T.length>0&&a.jsx("p",{className:"text-sm text-blue-600",children:"💡 Changing assignment will update the ToDo automatically"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"exp_start_date",children:"Expected Start Date"}),a.jsx($t,{id:"exp_start_date",type:"date",value:S.exp_start_date,onChange:W=>U("exp_start_date",W.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"exp_end_date",children:"Expected End Date"}),a.jsx($t,{id:"exp_end_date",type:"date",value:S.exp_end_date,onChange:W=>U("exp_end_date",W.target.value),max:(v==null?void 0:v.expected_end_date)||void 0}),(v==null?void 0:v.expected_end_date)&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Must be before project end date: ",v.expected_end_date]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"progress",children:"Progress (%)"}),a.jsx($t,{id:"progress",type:"number",min:"0",max:"100",value:S.progress,onChange:W=>U("progress",parseInt(W.target.value)||0),placeholder:"0",disabled:E}),E?a.jsxs("div",{className:"text-sm text-blue-600 bg-blue-50 p-2 rounded",children:[a.jsx("strong",{children:"🔄 Smart Progress Mode:"}),a.jsxs("ul",{className:"mt-1 ml-4 list-disc text-xs",children:[a.jsx("li",{children:"Progress is automatically calculated from subtasks"}),a.jsx("li",{children:"Only assignee can manually override progress"}),a.jsx("li",{children:"Project leaders can set progress via status changes"})]})]}):a.jsxs("div",{className:"text-sm text-green-600 bg-green-50 p-2 rounded",children:[a.jsx("strong",{children:"✏️ Manual Progress Mode:"}),a.jsx("span",{className:"text-xs",children:" Progress can be updated manually by anyone with edit permission"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"description",children:"Description"}),a.jsx("textarea",{id:"description",value:S.description,onChange:W=>U("description",W.target.value),placeholder:"Enter task description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),d&&a.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:a.jsxs("p",{children:[a.jsx("strong",{children:"Error:"})," ",d.message||"Failed to update task"]})}),a.jsxs(Bn,{className:"flex gap-2",children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:K,children:"Cancel"}),a.jsx(Qe,{type:"submit",disabled:c,children:c?"Updating...":"Update Task"})]})]})]})})},mH=({task:e,isOpen:t,onClose:s,onSuccess:n})=>{const{deleteDoc:i,loading:o,error:c}=bm(),[d,h]=N.useState(!1),f=()=>we(null,null,function*(){var g,x;if(e){h(!0);try{const b=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"SubTask",fields:["name"],filters:[["task","=",e.name]]})});if(b.ok){const v=(yield b.json()).message||[];if(v.length>0)for(const _ of v)yield i("SubTask",_.name)}try{const j=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","subject","status","priority","start_date","end_date","progress","details","costing"],filters:[["project","=",e.project]],orderBy:{field:"start_date",order:"asc"}})});if(j.ok){const _=(yield j.json()).message||[],T=[];for(const A of _)try{const C=yield fetch(`/api/resource/project_phase/${A.name}`,{headers:{Accept:"application/json"}});if(C.ok){const S=yield C.json(),D=((g=S.data)==null?void 0:g.tasks)||[],E=D.findIndex(B=>B.task===e.name);E>=0&&(console.log(`Found task ${e.name} in phase ${A.name}, will remove from child table...`),D.splice(E,1),T.push({name:A.name,data:le(F({},S.data),{tasks:D})}))}else console.warn("Failed to fetch phase:",A.name)}catch(C){console.error("Error fetching phase:",A.name,C)}for(const A of T)try{(yield fetch(`/api/resource/project_phase/${A.name}`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(A.data)})).ok?console.log(`Successfully removed task ${e.name} from phase ${A.name}`):console.warn(`Failed to update phase ${A.name} after removing task`)}catch(C){console.error(`Error updating phase ${A.name}:`,C)}}else console.warn("Failed to fetch phases list, proceeding with task deletion...")}catch(j){console.warn("Error checking phases for task references:",j)}yield i("Task",e.name),console.log(`Successfully deleted task ${e.name}`),n&&n(),s()}catch(b){console.error("Error deleting task:",b),(x=b==null?void 0:b.exception)!=null&&x.includes("LinkExistsError")?b.exception.includes("project_phase")||b.exception.includes("phase")?alert("Cannot delete task because it is still linked with project phases. The system tried to remove phase task links automatically but failed. Please contact administrator."):b.exception.includes("SubTask")?alert("Cannot delete task because it has linked subtasks. Please delete all subtasks first."):alert("Cannot delete task because it has linked dependencies. Please check related records."):alert("Error deleting task. Please try again.")}finally{h(!1)}}}),p=()=>{s()};return a.jsx(vn,{open:t,onOpenChange:s,children:a.jsxs(wn,{className:"sm:max-w-[400px]",children:[a.jsx(jn,{children:a.jsxs(Nn,{className:"flex items-center gap-2 text-red-600",children:[a.jsx(pc,{className:"h-5 w-5"}),"Delete Task"]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this task? This action cannot be undone."}),e&&a.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[a.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Priority: ",e.priority||"Medium"]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Progress: ",e.progress||0,"%"]}),e.project&&a.jsxs("div",{className:"text-sm text-blue-600",children:["Project: ",e.project]})]}),a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[a.jsxs("div",{className:"text-sm text-red-800",children:[a.jsx("strong",{children:"⚠️ Warning:"})," Deleting this task will automatically:"]}),a.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Delete ALL subtasks first"})," (to resolve SubTask dependencies)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Remove task from ALL phase child tables"})," (for any phases this task is assigned to)"]}),a.jsx("li",{children:"Remove all task progress data"}),a.jsx("li",{children:"Delete task timeline and activities"}),a.jsx("li",{children:"Remove related comments and attachments"})]}),a.jsx("div",{className:"text-xs text-red-600 mt-2 font-medium",children:"💡 The system will automatically search and handle ALL dependencies to prevent LinkExistsError."})]}),c&&a.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:a.jsxs("p",{children:[a.jsx("strong",{children:"Error:"})," ",c.message||"Failed to delete task"]})})]}),a.jsxs(Bn,{className:"flex gap-2",children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:p,disabled:d,children:"Cancel"}),a.jsx(Qe,{type:"button",variant:"destructive",onClick:f,disabled:d||o,children:d?"Deleting Task & SubTasks...":o?"Deleting...":"Delete Task"})]})]})})},bk=()=>{const{calculateAndUpdatePhaseProgress:e}=CS(),{calculateAndUpdateProjectProgress:t}=qL();return{updatePhaseProgressForTask:(i,o)=>we(null,null,function*(){try{const c=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","tasks"],filters:[["project","=",o]]})});if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);const h=(yield c.json()).message||[],f=[];for(const p of h)try{const g=yield fetch(`/api/resource/project_phase/${p.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(g.ok){const x=yield g.json();x.data.tasks&&x.data.tasks.some(b=>b.task===i)&&f.push(p)}}catch(g){console.warn("Error fetching phase document:",p.name,g)}console.log(`Found ${f.length} phases affected by task ${i}`);for(const p of f)console.log(`Updating progress for phase ${p.name} after task ${i} change`),yield e(p.name);return console.log(`Updating overall project progress for ${o} after task ${i} change`),yield t(o),console.log(`Updated progress for ${f.length} phases and project ${o} affected by task ${i}`),f}catch(c){return console.error("Error updating phase progress for task:",c),[]}}),updateProjectProgress:i=>we(null,null,function*(){try{console.log(`Updating overall project progress for ${i}`);const o=yield t(i);return o&&console.log(`Project ${i} progress updated to ${o.progress}% from ${o.source} (${o.count} items)`),o}catch(o){return console.error("Error updating project progress:",o),null}})}},pH=({task:e,projectName:t,onBack:s,onViewSubTaskDetails:n,onTaskUpdated:i,onTaskDeleted:o})=>{const[c,d]=N.useState(!1),[h,f]=N.useState(!1),[p,g]=N.useState(!1),{updatePhaseProgressForTask:x}=bk(),{calculateAndUpdateTaskProgress:b}=_u(),{data:j,isLoading:v,mutate:_}=Nt("SubTask",{fields:["name","subject","task","status","progress","start_date","end_date","description"],filters:[["task","=",e.name]],orderBy:{field:"start_date",order:"asc"},limit:0}),{data:T}=Nt("ToDo",{fields:["name","allocated_to","status"],filters:[["reference_type","=","Task"],["reference_name","=",e.name]],limit:1}),A=T&&T.length>0?T[0].allocated_to:null,{data:C}=Ot("User",A||void 0,{fields:["name","full_name","email","user_image"]}),S=W=>W?new Date(W).toLocaleDateString():"N/A",D=W=>{switch(W){case"Completed":return a.jsx(ly,{className:"h-5 w-5 text-green-600"});case"Working":return a.jsx(Xi,{className:"h-5 w-5 text-yellow-600"});case"Open":return a.jsx(Gi,{className:"h-5 w-5 text-blue-600"});default:return a.jsx(Gi,{className:"h-5 w-5 text-gray-400"})}},E=W=>{switch(W){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},B=W=>{switch(W){case"Urgent":return"bg-red-100 text-red-800 border-red-200";case"High":return"bg-orange-100 text-orange-800 border-orange-200";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},U=()=>{i&&i(),x(e.name,t).catch(console.error)},R=()=>{o&&o(),x(e.name,t).catch(console.error),s()},K=({subtask:W})=>{var G;const{data:Z}=Nt("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(W==null?void 0:W.name)||""]]}),q=(G=Z==null?void 0:Z[0])==null?void 0:G.allocated_to;return a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("span",{children:q})})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Qe,{variant:"ghost",size:"sm",onClick:s,className:"flex items-center gap-2",children:[a.jsx(oy,{className:"h-4 w-4"}),"Back to Tasks"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Qe,{variant:"outline",size:"sm",onClick:()=>f(!0),className:"flex items-center gap-2",children:[a.jsx(au,{className:"h-4 w-4"}),"Edit Task"]}),a.jsxs(Qe,{variant:"outline",size:"sm",onClick:()=>g(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[a.jsx(Mn,{className:"h-4 w-4"}),"Delete Task"]})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 border border-orange-200 rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"h-12 w-12 rounded-lg bg-orange-500 flex items-center justify-center",children:a.jsx("span",{className:"text-xl",children:"📝"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.subject}),a.jsx("p",{className:"text-sm text-gray-600",children:"Task Details"})]})]}),e.description&&a.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.description})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${E(e.status||"Open")}`,children:[D(e.status||"Open"),a.jsx("span",{className:"font-medium",children:e.status||"Open"})]}),e.priority&&a.jsx("div",{className:`px-3 py-1 rounded-full border ${B(e.priority)}`,children:a.jsx("span",{className:"text-sm font-medium",children:e.priority})})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Task Progress"}),a.jsxs("span",{className:"text-lg font-bold text-orange-600",children:[e.progress||0,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:a.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-yellow-600 h-3 rounded-full transition-all duration-500",style:{width:`${e.progress||0}%`}})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:a.jsx(hn,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),a.jsx("p",{className:"text-lg font-bold text-gray-900",children:S(e.exp_start_date)})]})]})}),a.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:a.jsx(dy,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),a.jsx("p",{className:"text-lg font-bold text-gray-900",children:S(e.exp_end_date)})]})]})}),a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:a.jsx(Go,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Assigned To"}),T&&T.length>0?a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-bold text-gray-900",children:(C==null?void 0:C.full_name)||A}),(C==null?void 0:C.email)&&a.jsx("p",{className:"text-sm text-gray-600",children:C.email})]}):a.jsx("p",{className:"text-lg font-bold text-gray-900",children:"Unassigned"})]})]})})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Task Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Task ID"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:e.name})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),a.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${E(e.status||"Open")}`,children:[D(e.status||"Open"),a.jsx("span",{className:"font-medium",children:e.status||"Open"})]})]}),a.jsxs("div",{className:"flex items-center justify-between py-3",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),a.jsx("div",{className:`px-3 py-1 rounded-full ${B(e.priority||"Medium")}`,children:a.jsx("span",{className:"font-medium",children:e.priority||"Medium"})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Subtasks Count"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:(j==null?void 0:j.length)||0})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:e.exp_start_date&&e.exp_end_date?`${Math.ceil((new Date(e.exp_end_date).getTime()-new Date(e.exp_start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Progress"}),a.jsxs("span",{className:"text-xl font-bold text-orange-600",children:[e.progress||0,"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between py-3",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Assigned To"}),T&&T.length>0?a.jsx("div",{children:a.jsx("p",{className:"text-lg font-bold text-gray-900",children:(C==null?void 0:C.full_name)||A})}):a.jsx("p",{className:"text-lg font-bold text-gray-900",children:"Unassigned"})]})]})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"SubTasks"})}),v?a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),a.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),a.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"})]}):a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3",children:[a.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700",children:"#"}),a.jsx("div",{className:"col-span-5 text-sm font-medium text-gray-700",children:"SubTask"}),a.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Status"}),a.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Assign To"}),a.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Actions"})]})}),a.jsxs("div",{className:"divide-y divide-gray-100",children:[j&&j.length>0?j.map((W,Z)=>a.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[a.jsx("div",{className:"col-span-1 flex items-center",children:a.jsx("span",{className:"text-sm text-gray-600",children:Z+1})}),a.jsxs("div",{className:"col-span-5 flex items-center gap-3",children:[a.jsx("div",{className:"p-1 bg-green-100 rounded",children:a.jsx("span",{className:"text-sm",children:"✅"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:W.subject||W.name}),a.jsx("div",{className:"text-sm text-gray-500",children:W.name})]})]}),a.jsx("div",{className:"col-span-2 flex items-center justify-center",children:a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${E(W.status||"Open")}`,children:W.status||"Open"})}),a.jsx("div",{className:"col-span-2 flex items-center justify-center",children:a.jsx(K,{subtask:W})}),a.jsx("div",{className:"col-span-2 flex items-center justify-center",children:n&&a.jsx(Qe,{variant:"outline",size:"sm",onClick:()=>n(W),className:"h-7 px-2 text-xs",children:"View Details"})})]},W.name)):a.jsxs("div",{className:"px-6 py-8 text-center text-gray-500",children:[a.jsx("div",{className:"text-4xl mb-2",children:"✅"}),a.jsx("div",{className:"text-lg font-medium mb-1",children:"No subtasks yet"}),a.jsx("div",{className:"text-sm",children:'Click "Add SubTask" to create the first subtask for this task'})]}),a.jsx("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 bg-gray-50 border-t border-gray-200",children:a.jsx("div",{className:"col-span-12 flex items-center justify-center",children:a.jsxs(Qe,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",onClick:()=>d(!0),children:[a.jsx(jr,{className:"h-4 w-4"}),"Add new subtask to this task"]})})})]})]})]}),a.jsx(Fm,{doctype:"Task",docname:e.name,title:"Task Files",allowUpload:!0,allowDelete:!0,className:"mt-8"}),a.jsx(fH,{isOpen:c,onClose:()=>d(!1),projectName:t,parentTask:e.name,onSuccess:()=>we(null,null,function*(){_(),setTimeout(()=>we(null,null,function*(){yield b(e.name),setTimeout(()=>we(null,null,function*(){yield x(e.name,t)}),500)}),500)})}),a.jsx(hH,{task:e,projectName:t,isOpen:h,onClose:()=>f(!1),onSuccess:U}),a.jsx(mH,{task:e,isOpen:p,onClose:()=>g(!1),onSuccess:R})]})},gH=({subtask:e,projectName:t,isOpen:s,onClose:n,onSuccess:i})=>{var S;const{updateSubTask:o,isLoading:c,error:d}=NS(),{assignSubTask:h,unassignSubTask:f}=Ey(),{calculateAndUpdateTaskProgress:p}=_u(),{data:g,isLoading:x}=jc(t),{data:b}=Nt("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(e==null?void 0:e.name)||""]]}),[j,v]=N.useState({subject:"",status:"Open",start_date:"",end_date:"",description:"",assign_to:""}),_=((S=b==null?void 0:b[0])==null?void 0:S.allocated_to)||"";N.useEffect(()=>{e&&v({subject:e.subject||"",status:e.status||"Open",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",description:e.description||"",assign_to:_})},[e,_]);const T=(D,E)=>{v(B=>le(F({},B),{[D]:E}))},A=D=>we(null,null,function*(){if(D.preventDefault(),!!e)try{const E=j,{assign_to:B}=E,U=Re(E,["assign_to"]);yield o(e.name,U);const R=_,K=B;if(R&&R!==K){const W=b==null?void 0:b.find(Z=>Z.allocated_to===R);W&&(yield f(W.name))}K&&K!==R&&(yield h(e.name,K)),e.task&&U.status!==e.status&&(yield p(e.task)),i&&i(),n()}catch(B){console.error("Error updating subtask:",B)}}),C=()=>{e&&v({subject:e.subject||"",status:e.status||"Open",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",description:e.description||"",assign_to:_}),n()};return a.jsx(vn,{open:s,onOpenChange:n,children:a.jsxs(wn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[a.jsx(jn,{children:a.jsx(Nn,{children:"Edit SubTask"})}),a.jsxs("form",{onSubmit:A,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"subject",children:"Subject *"}),a.jsx($t,{id:"subject",value:j.subject,onChange:D=>T("subject",D.target.value),required:!0,placeholder:"Enter subtask subject"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"status",children:"Status"}),a.jsxs("select",{id:"status",value:j.status,onChange:D=>T("status",D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"Open",children:"Open"}),a.jsx("option",{value:"Working",children:"Working"}),a.jsx("option",{value:"Completed",children:"Completed"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"start_date",children:"Start Date"}),a.jsx($t,{id:"start_date",type:"date",value:j.start_date,onChange:D=>T("start_date",D.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"end_date",children:"End Date"}),a.jsx($t,{id:"end_date",type:"date",value:j.end_date,onChange:D=>T("end_date",D.target.value)})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"description",children:"Description"}),a.jsx("textarea",{id:"description",value:j.description,onChange:D=>T("description",D.target.value),placeholder:"Enter subtask description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"assign_to",children:"Assign To"}),a.jsxs("select",{id:"assign_to",value:j.assign_to,onChange:D=>T("assign_to",D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:x,children:[a.jsx("option",{value:"",children:"Select user..."}),g==null?void 0:g.map(D=>a.jsx("option",{value:D.user||D.name,children:D.user||D.name},D.name))]}),x&&a.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),d&&a.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:a.jsxs("p",{children:[a.jsx("strong",{children:"Error:"})," ",d.message||"Failed to update subtask"]})}),a.jsxs(Bn,{className:"flex gap-2",children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:C,children:"Cancel"}),a.jsx(Qe,{type:"submit",disabled:c,children:c?"Updating...":"Update SubTask"})]})]})]})})},xH=({subtask:e,isOpen:t,onClose:s,onSuccess:n})=>{const{call:i,loading:o,error:c}=yn("frappe.client.delete"),{calculateAndUpdateTaskProgress:d}=_u(),h=()=>we(null,null,function*(){if(e)try{if(yield i({doctype:"SubTask",name:e.name}),e.task)try{yield d(e.task)}catch(p){console.error("Error updating task progress after subtask deletion:",p)}n&&n(),s()}catch(p){console.error("Error deleting subtask:",p)}}),f=()=>{s()};return a.jsx(vn,{open:t,onOpenChange:s,children:a.jsxs(wn,{className:"sm:max-w-[400px]",children:[a.jsx(jn,{children:a.jsxs(Nn,{className:"flex items-center gap-2 text-red-600",children:[a.jsx(pc,{className:"h-5 w-5"}),"Delete SubTask"]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this subtask? This action cannot be undone."}),e&&a.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[a.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Progress: ",e.progress||0,"%"]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Task: ",e.task]})]}),a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[a.jsxs("div",{className:"text-sm text-red-800",children:[a.jsx("strong",{children:"Warning:"})," Deleting this subtask will also remove:"]}),a.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[a.jsx("li",{children:"All subtask progress data"}),a.jsx("li",{children:"Subtask timeline and activities"}),a.jsx("li",{children:"Related comments and attachments"}),a.jsx("li",{children:"Any associated time logs"})]})]}),c&&a.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:a.jsxs("p",{children:[a.jsx("strong",{children:"Error:"})," ",c.message||"Failed to delete subtask"]})})]}),a.jsxs(Bn,{className:"flex gap-2",children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:f,children:"Cancel"}),a.jsx(Qe,{type:"button",variant:"destructive",onClick:h,disabled:o,children:o?"Deleting...":"Delete SubTask"})]})]})})},yH=({subtask:e,projectName:t,onBack:s,onSubTaskUpdated:n,onSubTaskDeleted:i})=>{var C;const[o,c]=N.useState(!1),[d,h]=N.useState(!1),{calculateAndUpdateTaskProgress:f}=_u(),{updatePhaseProgressForTask:p}=bk(),{data:g}=Nt("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(e==null?void 0:e.name)||""]]}),x=(C=g==null?void 0:g[0])==null?void 0:C.allocated_to,{data:b}=Ot("User",x||"",{shouldFetch:!!x}),j=S=>S?new Date(S).toLocaleDateString():"N/A",v=S=>{switch(S){case"Completed":return a.jsx(ly,{className:"h-5 w-5 text-green-600"});case"Working":return a.jsx(Xi,{className:"h-5 w-5 text-yellow-600"});case"Open":return a.jsx(Gi,{className:"h-5 w-5 text-blue-600"});default:return a.jsx(Gi,{className:"h-5 w-5 text-gray-400"})}},_=S=>{switch(S){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},T=()=>we(null,null,function*(){if(e!=null&&e.task)try{yield f(e.task);try{console.log(`Updating phase progress for task ${e.task} in project ${t}`),yield p(e.task,t),console.log("Phase and project progress updated after subtask edit")}catch(S){console.error("Error updating phase progress after subtask edit:",S)}}catch(S){console.error("Error updating task progress after subtask edit:",S)}n&&n()}),A=()=>we(null,null,function*(){if(e!=null&&e.task)try{yield f(e.task);try{console.log(`Updating phase progress for task ${e.task} in project ${t}`),yield p(e.task,t),console.log("Phase and project progress updated after subtask delete")}catch(S){console.error("Error updating phase progress after subtask delete:",S)}}catch(S){console.error("Error updating task progress after subtask delete:",S)}i&&i(),s()});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Qe,{variant:"ghost",size:"sm",onClick:s,className:"flex items-center gap-2",children:[a.jsx(oy,{className:"h-4 w-4"}),"Back to Tasks"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Qe,{variant:"outline",size:"sm",onClick:()=>c(!0),className:"flex items-center gap-2",children:[a.jsx(au,{className:"h-4 w-4"}),"Edit SubTask"]}),a.jsxs(Qe,{variant:"outline",size:"sm",onClick:()=>h(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[a.jsx(Mn,{className:"h-4 w-4"}),"Delete SubTask"]})]})]}),a.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"h-12 w-12 rounded-lg bg-green-500 flex items-center justify-center",children:a.jsx("span",{className:"text-xl",children:"✅"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.subject}),a.jsx("p",{className:"text-sm text-gray-600",children:"SubTask Details"})]})]}),e.description&&a.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.description})]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${_(e.status||"Open")}`,children:[v(e.status||"Open"),a.jsx("span",{className:"font-medium",children:e.status||"Open"})]})})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:a.jsx(hn,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),a.jsx("p",{className:"text-lg font-bold text-gray-900",children:j(e.start_date)})]})]})}),a.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:a.jsx(dy,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),a.jsx("p",{className:"text-lg font-bold text-gray-900",children:j(e.end_date)})]})]})}),a.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:a.jsx(Kt,{className:"h-6 w-6 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-orange-600 uppercase tracking-wide",children:"Parent Task"}),a.jsx("p",{className:"text-lg font-bold text-gray-900",children:e.task||"N/A"})]})]})})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"SubTask Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"SubTask ID"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:e.name})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Parent Task"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:e.task||"N/A"})]}),a.jsxs("div",{className:"flex items-center justify-between py-3",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),a.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${_(e.status||"Open")}`,children:[v(e.status||"Open"),a.jsx("span",{className:"font-medium",children:e.status||"Open"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Start Date"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:j(e.start_date)})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"End Date"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:j(e.end_date)})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:e.start_date&&e.end_date?`${Math.ceil((new Date(e.end_date).getTime()-new Date(e.start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-t border-gray-100",children:[a.jsxs("span",{className:"text-gray-600 font-medium flex items-center gap-2",children:[a.jsx(Go,{className:"h-4 w-4"}),"Assigned To"]}),a.jsx("span",{className:"text-gray-900 font-semibold",children:x?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:(b==null?void 0:b.full_name)||x}),(b==null?void 0:b.user_image)&&a.jsx("img",{src:b.user_image,alt:b.full_name||x,className:"h-6 w-6 rounded-full"})]}):a.jsx("span",{className:"text-gray-400",children:"Not assigned"})})]})]})]})]}),e.description&&a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Description"}),a.jsx("div",{className:"prose max-w-none",children:a.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:e.description})})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Activity Timeline"}),a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("div",{className:"text-4xl mb-2",children:"📋"}),a.jsx("div",{className:"text-lg font-medium mb-1",children:"No activity yet"}),a.jsx("div",{className:"text-sm",children:"Activity and updates will appear here when available"})]})]}),a.jsx(Fm,{doctype:"SubTask",docname:e.name,title:"SubTask Files",allowUpload:!0,allowDelete:!0,className:"mt-8"}),a.jsx(gH,{subtask:e,projectName:t,isOpen:o,onClose:()=>c(!1),onSuccess:T}),a.jsx(xH,{subtask:e,isOpen:d,onClose:()=>h(!1),onSuccess:A})]})};var G_=1,bH=.9,vH=.8,wH=.17,Lx=.1,Bx=.999,jH=.9999,NH=.99,_H=/[\\\/_+.#"@\[\(\{&]/,TH=/[\\\/_+.#"@\[\(\{&]/g,SH=/[\s-]/,vk=/[\s-]/g;function L0(e,t,s,n,i,o,c){if(o===t.length)return i===e.length?G_:NH;var d=`${i},${o}`;if(c[d]!==void 0)return c[d];for(var h=n.charAt(o),f=s.indexOf(h,i),p=0,g,x,b,j;f>=0;)g=L0(e,t,s,n,f+1,o+1,c),g>p&&(f===i?g*=G_:_H.test(e.charAt(f-1))?(g*=vH,b=e.slice(i,f-1).match(TH),b&&i>0&&(g*=Math.pow(Bx,b.length))):SH.test(e.charAt(f-1))?(g*=bH,j=e.slice(i,f-1).match(vk),j&&i>0&&(g*=Math.pow(Bx,j.length))):(g*=wH,i>0&&(g*=Math.pow(Bx,f-i))),e.charAt(f)!==t.charAt(o)&&(g*=jH)),(g<Lx&&s.charAt(f-1)===n.charAt(o+1)||n.charAt(o+1)===n.charAt(o)&&s.charAt(f-1)!==n.charAt(o))&&(x=L0(e,t,s,n,f+1,o+2,c),x*Lx>g&&(g=x*Lx)),g>p&&(p=g),f=s.indexOf(h,f+1);return c[d]=p,p}function X_(e){return e.toLowerCase().replace(vk," ")}function CH(e,t,s){return e=s&&s.length>0?`${e+" "+s.join(" ")}`:e,L0(e,t,X_(e),X_(t),0,0,{})}function Wi(e,t,{checkForDefaultPrevented:s=!0}={}){return function(i){if(e==null||e(i),s===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}var kH="DismissableLayer",B0="dismissableLayer.update",EH="dismissableLayer.pointerDownOutside",DH="dismissableLayer.focusOutside",K_,wk=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jk=N.forwardRef((e,t)=>{var U;const B=e,{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:c,onDismiss:d}=B,h=Re(B,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),f=N.useContext(wk),[p,g]=N.useState(null),x=(U=p==null?void 0:p.ownerDocument)!=null?U:globalThis==null?void 0:globalThis.document,[,b]=N.useState({}),j=Rs(t,R=>g(R)),v=Array.from(f.layers),[_]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),T=v.indexOf(_),A=p?v.indexOf(p):-1,C=f.layersWithOutsidePointerEventsDisabled.size>0,S=A>=T,D=RH(R=>{const K=R.target,W=[...f.branches].some(Z=>Z.contains(K));!S||W||(i==null||i(R),c==null||c(R),R.defaultPrevented||d==null||d())},x),E=MH(R=>{const K=R.target;[...f.branches].some(Z=>Z.contains(K))||(o==null||o(R),c==null||c(R),R.defaultPrevented||d==null||d())},x);return hy(R=>{A===f.layers.size-1&&(n==null||n(R),!R.defaultPrevented&&d&&(R.preventDefault(),d()))},x),N.useEffect(()=>{if(p)return s&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(K_=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),Q_(),()=>{s&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=K_)}},[p,x,s,f]),N.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),Q_())},[p,f]),N.useEffect(()=>{const R=()=>b({});return document.addEventListener(B0,R),()=>document.removeEventListener(B0,R)},[]),a.jsx(Yt.div,le(F({},h),{ref:j,style:F({pointerEvents:C?S?"auto":"none":void 0},e.style),onFocusCapture:Wi(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Wi(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Wi(e.onPointerDownCapture,D.onPointerDownCapture)}))});jk.displayName=kH;var AH="DismissableLayerBranch",OH=N.forwardRef((e,t)=>{const s=N.useContext(wk),n=N.useRef(null),i=Rs(t,n);return N.useEffect(()=>{const o=n.current;if(o)return s.branches.add(o),()=>{s.branches.delete(o)}},[s.branches]),a.jsx(Yt.div,le(F({},e),{ref:i}))});OH.displayName=AH;function RH(e,t=globalThis==null?void 0:globalThis.document){const s=Nr(e),n=N.useRef(!1),i=N.useRef(()=>{});return N.useEffect(()=>{const o=d=>{if(d.target&&!n.current){let h=function(){Nk(EH,s,f,{discrete:!0})};const f={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=h,t.addEventListener("click",i.current,{once:!0})):h()}else t.removeEventListener("click",i.current);n.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,s]),{onPointerDownCapture:()=>n.current=!0}}function MH(e,t=globalThis==null?void 0:globalThis.document){const s=Nr(e),n=N.useRef(!1);return N.useEffect(()=>{const i=o=>{o.target&&!n.current&&Nk(DH,s,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,s]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Q_(){const e=new CustomEvent(B0);document.dispatchEvent(e)}function Nk(e,t,s,{discrete:n}){const i=s.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&i.addEventListener(e,t,{once:!0}),n?fy(i,o):i.dispatchEvent(o)}function PH(e,t){return N.useReducer((s,n)=>{const i=t[s][n];return i!=null?i:s},e)}var Um=e=>{const{present:t,children:s}=e,n=LH(t),i=typeof s=="function"?s({present:n.isPresent}):N.Children.only(s),o=Rs(n.ref,BH(i));return typeof s=="function"||n.isPresent?N.cloneElement(i,{ref:o}):null};Um.displayName="Presence";function LH(e){const[t,s]=N.useState(),n=N.useRef(null),i=N.useRef(e),o=N.useRef("none"),c=e?"mounted":"unmounted",[d,h]=PH(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const f=jh(n.current);o.current=d==="mounted"?f:"none"},[d]),Ra(()=>{const f=n.current,p=i.current;if(p!==e){const x=o.current,b=jh(f);e?h("MOUNT"):b==="none"||(f==null?void 0:f.display)==="none"?h("UNMOUNT"):h(p&&x!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,h]),Ra(()=>{var f;if(t){let p;const g=(f=t.ownerDocument.defaultView)!=null?f:window,x=j=>{const _=jh(n.current).includes(j.animationName);if(j.target===t&&_&&(h("ANIMATION_END"),!i.current)){const T=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=T)})}},b=j=>{j.target===t&&(o.current=jh(n.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",x),t.addEventListener("animationend",x),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",x),t.removeEventListener("animationend",x)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:N.useCallback(f=>{n.current=f?getComputedStyle(f):null,s(f)},[])}}function jh(e){return(e==null?void 0:e.animationName)||"none"}function BH(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var Fx=0;function FH(){N.useEffect(()=>{var t,s;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:Z_()),document.body.insertAdjacentElement("beforeend",(s=e[1])!=null?s:Z_()),Fx++,()=>{Fx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),Fx--}},[])}function Z_(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var zm="Dialog",[_k,m$]=yu(zm),[UH,Ja]=_k(zm),Tk=e=>{const{__scopeDialog:t,children:s,open:n,defaultOpen:i,onOpenChange:o,modal:c=!0}=e,d=N.useRef(null),h=N.useRef(null),[f,p]=Sm({prop:n,defaultProp:i!=null?i:!1,onChange:o,caller:zm});return a.jsx(UH,{scope:t,triggerRef:d,contentRef:h,contentId:An(),titleId:An(),descriptionId:An(),open:f,onOpenChange:p,onOpenToggle:N.useCallback(()=>p(g=>!g),[p]),modal:c,children:s})};Tk.displayName=zm;var Sk="DialogTrigger",zH=N.forwardRef((e,t)=>{const c=e,{__scopeDialog:s}=c,n=Re(c,["__scopeDialog"]),i=Ja(Sk,s),o=Rs(t,i.triggerRef);return a.jsx(Yt.button,le(F({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":db(i.open)},n),{ref:o,onClick:Wi(e.onClick,i.onOpenToggle)}))});zH.displayName=Sk;var lb="DialogPortal",[HH,Ck]=_k(lb,{forceMount:void 0}),kk=e=>{const{__scopeDialog:t,forceMount:s,children:n,container:i}=e,o=Ja(lb,t);return a.jsx(HH,{scope:t,forceMount:s,children:N.Children.map(n,c=>a.jsx(Um,{present:s||o.open,children:a.jsx(wu,{asChild:!0,container:i,children:c})}))})};kk.displayName=lb;var gm="DialogOverlay",Ek=N.forwardRef((e,t)=>{const s=Ck(gm,e.__scopeDialog),c=e,{forceMount:n=s.forceMount}=c,i=Re(c,["forceMount"]),o=Ja(gm,e.__scopeDialog);return o.modal?a.jsx(Um,{present:n||o.open,children:a.jsx(IH,le(F({},i),{ref:t}))}):null});Ek.displayName=gm;var $H=gc("DialogOverlay.RemoveScroll"),IH=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:s}=o,n=Re(o,["__scopeDialog"]),i=Ja(gm,s);return a.jsx(ju,{as:$H,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(Yt.div,le(F({"data-state":db(i.open)},n),{ref:t,style:F({pointerEvents:"auto"},n.style)}))})}),el="DialogContent",Dk=N.forwardRef((e,t)=>{const s=Ck(el,e.__scopeDialog),c=e,{forceMount:n=s.forceMount}=c,i=Re(c,["forceMount"]),o=Ja(el,e.__scopeDialog);return a.jsx(Um,{present:n||o.open,children:o.modal?a.jsx(VH,le(F({},i),{ref:t})):a.jsx(qH,le(F({},i),{ref:t}))})});Dk.displayName=el;var VH=N.forwardRef((e,t)=>{const s=Ja(el,e.__scopeDialog),n=N.useRef(null),i=Rs(t,s.contentRef,n);return N.useEffect(()=>{const o=n.current;if(o)return Cm(o)},[]),a.jsx(Ak,le(F({},e),{ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Wi(e.onCloseAutoFocus,o=>{var c;o.preventDefault(),(c=s.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Wi(e.onPointerDownOutside,o=>{const c=o.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&o.preventDefault()}),onFocusOutside:Wi(e.onFocusOutside,o=>o.preventDefault())}))}),qH=N.forwardRef((e,t)=>{const s=Ja(el,e.__scopeDialog),n=N.useRef(!1),i=N.useRef(!1);return a.jsx(Ak,le(F({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,d;(c=e.onCloseAutoFocus)==null||c.call(e,o),o.defaultPrevented||(n.current||(d=s.triggerRef.current)==null||d.focus(),o.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:o=>{var h,f;(h=e.onInteractOutside)==null||h.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=o.target;((f=s.triggerRef.current)==null?void 0:f.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}}))}),Ak=N.forwardRef((e,t)=>{const p=e,{__scopeDialog:s,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o}=p,c=Re(p,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),d=Ja(el,s),h=N.useRef(null),f=Rs(t,h);return FH(),a.jsxs(a.Fragment,{children:[a.jsx(bu,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:o,children:a.jsx(jk,le(F({role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":db(d.open)},c),{ref:f,onDismiss:()=>d.onOpenChange(!1)}))}),a.jsxs(a.Fragment,{children:[a.jsx(XH,{titleId:d.titleId}),a.jsx(QH,{contentRef:h,descriptionId:d.descriptionId})]})]})}),cb="DialogTitle",WH=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:s}=o,n=Re(o,["__scopeDialog"]),i=Ja(cb,s);return a.jsx(Yt.h2,le(F({id:i.titleId},n),{ref:t}))});WH.displayName=cb;var Ok="DialogDescription",YH=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:s}=o,n=Re(o,["__scopeDialog"]),i=Ja(Ok,s);return a.jsx(Yt.p,le(F({id:i.descriptionId},n),{ref:t}))});YH.displayName=Ok;var Rk="DialogClose",GH=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:s}=o,n=Re(o,["__scopeDialog"]),i=Ja(Rk,s);return a.jsx(Yt.button,le(F({type:"button"},n),{ref:t,onClick:Wi(e.onClick,()=>i.onOpenChange(!1))}))});GH.displayName=Rk;function db(e){return e?"open":"closed"}var Mk="DialogTitleWarning",[p$,Pk]=uy(Mk,{contentName:el,titleName:cb,docsSlug:"dialog"}),XH=({titleId:e})=>{const t=Pk(Mk),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return N.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},KH="DialogDescriptionWarning",QH=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Pk(KH).contentName}}.`;return N.useEffect(()=>{var o;const i=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},ZH=Tk,JH=kk,e9=Ek,t9=Dk,Ud='[cmdk-group=""]',Ux='[cmdk-group-items=""]',s9='[cmdk-group-heading=""]',Lk='[cmdk-item=""]',J_=`${Lk}:not([aria-disabled="true"])`,F0="cmdk-item-select",ec="data-value",n9=(e,t,s)=>CH(e,t,s),Bk=N.createContext(void 0),Eu=()=>N.useContext(Bk),Fk=N.createContext(void 0),ub=()=>N.useContext(Fk),Uk=N.createContext(void 0),zk=N.forwardRef((e,t)=>{let s=tc(()=>{var $,ee;return{search:"",value:(ee=($=e.value)!=null?$:e.defaultValue)!=null?ee:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=tc(()=>new Set),i=tc(()=>new Map),o=tc(()=>new Map),c=tc(()=>new Set),d=Hk(e),ne=e,{label:h,children:f,value:p,onValueChange:g,filter:x,shouldFilter:b,loop:j,disablePointerSelection:v=!1,vimBindings:_=!0}=ne,T=Re(ne,["label","children","value","onValueChange","filter","shouldFilter","loop","disablePointerSelection","vimBindings"]),A=An(),C=An(),S=An(),D=N.useRef(null),E=m9();tl(()=>{if(p!==void 0){let $=p.trim();s.current.value=$,B.emit()}},[p]),tl(()=>{E(6,q)},[]);let B=N.useMemo(()=>({subscribe:$=>(c.current.add($),()=>c.current.delete($)),snapshot:()=>s.current,setState:($,ee,xe)=>{var he,ke,Ae,Ve;if(!Object.is(s.current[$],ee)){if(s.current[$]=ee,$==="search")Z(),K(),E(1,W);else if($==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ze=document.getElementById(S);ze?ze.focus():(he=document.getElementById(A))==null||he.focus()}if(E(7,()=>{var ze;s.current.selectedItemId=(ze=G())==null?void 0:ze.id,B.emit()}),xe||E(5,q),((ke=d.current)==null?void 0:ke.value)!==void 0){let ze=ee!=null?ee:"";(Ve=(Ae=d.current).onValueChange)==null||Ve.call(Ae,ze);return}}B.emit()}},emit:()=>{c.current.forEach($=>$())}}),[]),U=N.useMemo(()=>({value:($,ee,xe)=>{var he;ee!==((he=o.current.get($))==null?void 0:he.value)&&(o.current.set($,{value:ee,keywords:xe}),s.current.filtered.items.set($,R(ee,xe)),E(2,()=>{K(),B.emit()}))},item:($,ee)=>(n.current.add($),ee&&(i.current.has(ee)?i.current.get(ee).add($):i.current.set(ee,new Set([$]))),E(3,()=>{Z(),K(),s.current.value||W(),B.emit()}),()=>{o.current.delete($),n.current.delete($),s.current.filtered.items.delete($);let xe=G();E(4,()=>{Z(),(xe==null?void 0:xe.getAttribute("id"))===$&&W(),B.emit()})}),group:$=>(i.current.has($)||i.current.set($,new Set),()=>{o.current.delete($),i.current.delete($)}),filter:()=>d.current.shouldFilter,label:h||e["aria-label"],getDisablePointerSelection:()=>d.current.disablePointerSelection,listId:A,inputId:S,labelId:C,listInnerRef:D}),[]);function R($,ee){var xe,he;let ke=(he=(xe=d.current)==null?void 0:xe.filter)!=null?he:n9;return $?ke($,s.current.search,ee):0}function K(){if(!s.current.search||d.current.shouldFilter===!1)return;let $=s.current.filtered.items,ee=[];s.current.filtered.groups.forEach(he=>{let ke=i.current.get(he),Ae=0;ke.forEach(Ve=>{let ze=$.get(Ve);Ae=Math.max(ze,Ae)}),ee.push([he,Ae])});let xe=D.current;I().sort((he,ke)=>{var Ae,Ve;let ze=he.getAttribute("id"),M=ke.getAttribute("id");return((Ae=$.get(M))!=null?Ae:0)-((Ve=$.get(ze))!=null?Ve:0)}).forEach(he=>{let ke=he.closest(Ux);ke?ke.appendChild(he.parentElement===ke?he:he.closest(`${Ux} > *`)):xe.appendChild(he.parentElement===xe?he:he.closest(`${Ux} > *`))}),ee.sort((he,ke)=>ke[1]-he[1]).forEach(he=>{var ke;let Ae=(ke=D.current)==null?void 0:ke.querySelector(`${Ud}[${ec}="${encodeURIComponent(he[0])}"]`);Ae==null||Ae.parentElement.appendChild(Ae)})}function W(){let $=I().find(xe=>xe.getAttribute("aria-disabled")!=="true"),ee=$==null?void 0:$.getAttribute(ec);B.setState("value",ee||void 0)}function Z(){var $,ee,xe,he;if(!s.current.search||d.current.shouldFilter===!1){s.current.filtered.count=n.current.size;return}s.current.filtered.groups=new Set;let ke=0;for(let Ae of n.current){let Ve=(ee=($=o.current.get(Ae))==null?void 0:$.value)!=null?ee:"",ze=(he=(xe=o.current.get(Ae))==null?void 0:xe.keywords)!=null?he:[],M=R(Ve,ze);s.current.filtered.items.set(Ae,M),M>0&&ke++}for(let[Ae,Ve]of i.current)for(let ze of Ve)if(s.current.filtered.items.get(ze)>0){s.current.filtered.groups.add(Ae);break}s.current.filtered.count=ke}function q(){var $,ee,xe;let he=G();he&&((($=he.parentElement)==null?void 0:$.firstChild)===he&&((xe=(ee=he.closest(Ud))==null?void 0:ee.querySelector(s9))==null||xe.scrollIntoView({block:"nearest"})),he.scrollIntoView({block:"nearest"}))}function G(){var $;return($=D.current)==null?void 0:$.querySelector(`${Lk}[aria-selected="true"]`)}function I(){var $;return Array.from((($=D.current)==null?void 0:$.querySelectorAll(J_))||[])}function H($){let ee=I()[$];ee&&B.setState("value",ee.getAttribute(ec))}function J($){var ee;let xe=G(),he=I(),ke=he.findIndex(Ve=>Ve===xe),Ae=he[ke+$];(ee=d.current)!=null&&ee.loop&&(Ae=ke+$<0?he[he.length-1]:ke+$===he.length?he[0]:he[ke+$]),Ae&&B.setState("value",Ae.getAttribute(ec))}function te($){let ee=G(),xe=ee==null?void 0:ee.closest(Ud),he;for(;xe&&!he;)xe=$>0?f9(xe,Ud):h9(xe,Ud),he=xe==null?void 0:xe.querySelector(J_);he?B.setState("value",he.getAttribute(ec)):J($)}let de=()=>H(I().length-1),P=$=>{$.preventDefault(),$.metaKey?de():$.altKey?te(1):J(1)},ie=$=>{$.preventDefault(),$.metaKey?H(0):$.altKey?te(-1):J(-1)};return N.createElement(Yt.div,le(F({ref:t,tabIndex:-1},T),{"cmdk-root":"",onKeyDown:$=>{var ee;(ee=T.onKeyDown)==null||ee.call(T,$);let xe=$.nativeEvent.isComposing||$.keyCode===229;if(!($.defaultPrevented||xe))switch($.key){case"n":case"j":{_&&$.ctrlKey&&P($);break}case"ArrowDown":{P($);break}case"p":case"k":{_&&$.ctrlKey&&ie($);break}case"ArrowUp":{ie($);break}case"Home":{$.preventDefault(),H(0);break}case"End":{$.preventDefault(),de();break}case"Enter":{$.preventDefault();let he=G();if(he){let ke=new Event(F0);he.dispatchEvent(ke)}}}}}),N.createElement("label",{"cmdk-label":"",htmlFor:U.inputId,id:U.labelId,style:g9},h),Hm(e,$=>N.createElement(Fk.Provider,{value:B},N.createElement(Bk.Provider,{value:U},$))))}),a9=N.forwardRef((e,t)=>{var s,n;let i=An(),o=N.useRef(null),c=N.useContext(Uk),d=Eu(),h=Hk(e),f=(n=(s=h.current)==null?void 0:s.forceMount)!=null?n:c==null?void 0:c.forceMount;tl(()=>{if(!f)return d.item(i,c==null?void 0:c.id)},[f]);let p=$k(i,o,[e.value,e.children,o],e.keywords),g=ub(),x=Ji(B=>B.value&&B.value===p.current),b=Ji(B=>f||d.filter()===!1?!0:B.search?B.filtered.items.get(i)>0:!0);N.useEffect(()=>{let B=o.current;if(!(!B||e.disabled))return B.addEventListener(F0,j),()=>B.removeEventListener(F0,j)},[b,e.onSelect,e.disabled]);function j(){var B,U;v(),(U=(B=h.current).onSelect)==null||U.call(B,p.current)}function v(){g.setState("value",p.current,!0)}if(!b)return null;let E=e,{disabled:_,value:T,onSelect:A,forceMount:C,keywords:S}=E,D=Re(E,["disabled","value","onSelect","forceMount","keywords"]);return N.createElement(Yt.div,le(F({ref:Xo(o,t)},D),{id:i,"cmdk-item":"",role:"option","aria-disabled":!!_,"aria-selected":!!x,"data-disabled":!!_,"data-selected":!!x,onPointerMove:_||d.getDisablePointerSelection()?void 0:v,onClick:_?void 0:j}),e.children)}),r9=N.forwardRef((e,t)=>{let b=e,{heading:s,children:n,forceMount:i}=b,o=Re(b,["heading","children","forceMount"]),c=An(),d=N.useRef(null),h=N.useRef(null),f=An(),p=Eu(),g=Ji(j=>i||p.filter()===!1?!0:j.search?j.filtered.groups.has(c):!0);tl(()=>p.group(c),[]),$k(c,d,[e.value,e.heading,h]);let x=N.useMemo(()=>({id:c,forceMount:i}),[i]);return N.createElement(Yt.div,le(F({ref:Xo(d,t)},o),{"cmdk-group":"",role:"presentation",hidden:g?void 0:!0}),s&&N.createElement("div",{ref:h,"cmdk-group-heading":"","aria-hidden":!0,id:f},s),Hm(e,j=>N.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":s?f:void 0},N.createElement(Uk.Provider,{value:x},j))))}),i9=N.forwardRef((e,t)=>{let c=e,{alwaysRender:s}=c,n=Re(c,["alwaysRender"]),i=N.useRef(null),o=Ji(d=>!d.search);return!s&&!o?null:N.createElement(Yt.div,le(F({ref:Xo(i,t)},n),{"cmdk-separator":"",role:"separator"}))}),o9=N.forwardRef((e,t)=>{let f=e,{onValueChange:s}=f,n=Re(f,["onValueChange"]),i=e.value!=null,o=ub(),c=Ji(p=>p.search),d=Ji(p=>p.selectedItemId),h=Eu();return N.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),N.createElement(Yt.input,le(F({ref:t},n),{"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":h.listId,"aria-labelledby":h.labelId,"aria-activedescendant":d,id:h.inputId,type:"text",value:i?e.value:c,onChange:p=>{i||o.setState("search",p.target.value),s==null||s(p.target.value)}}))}),l9=N.forwardRef((e,t)=>{let f=e,{children:s,label:n="Suggestions"}=f,i=Re(f,["children","label"]),o=N.useRef(null),c=N.useRef(null),d=Ji(p=>p.selectedItemId),h=Eu();return N.useEffect(()=>{if(c.current&&o.current){let p=c.current,g=o.current,x,b=new ResizeObserver(()=>{x=requestAnimationFrame(()=>{let j=p.offsetHeight;g.style.setProperty("--cmdk-list-height",j.toFixed(1)+"px")})});return b.observe(p),()=>{cancelAnimationFrame(x),b.unobserve(p)}}},[]),N.createElement(Yt.div,le(F({ref:Xo(o,t)},i),{"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":d,"aria-label":n,id:h.listId}),Hm(e,p=>N.createElement("div",{ref:Xo(c,h.listInnerRef),"cmdk-list-sizer":""},p)))}),c9=N.forwardRef((e,t)=>{let h=e,{open:s,onOpenChange:n,overlayClassName:i,contentClassName:o,container:c}=h,d=Re(h,["open","onOpenChange","overlayClassName","contentClassName","container"]);return N.createElement(ZH,{open:s,onOpenChange:n},N.createElement(JH,{container:c},N.createElement(e9,{"cmdk-overlay":"",className:i}),N.createElement(t9,{"aria-label":e.label,"cmdk-dialog":"",className:o},N.createElement(zk,F({ref:t},d)))))}),d9=N.forwardRef((e,t)=>Ji(s=>s.filtered.count===0)?N.createElement(Yt.div,le(F({ref:t},e),{"cmdk-empty":"",role:"presentation"})):null),u9=N.forwardRef((e,t)=>{let c=e,{progress:s,children:n,label:i="Loading..."}=c,o=Re(c,["progress","children","label"]);return N.createElement(Yt.div,le(F({ref:t},o),{"cmdk-loading":"",role:"progressbar","aria-valuenow":s,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i}),Hm(e,d=>N.createElement("div",{"aria-hidden":!0},d)))}),Sc=Object.assign(zk,{List:l9,Item:a9,Input:o9,Group:r9,Separator:i9,Dialog:c9,Empty:d9,Loading:u9});function f9(e,t){let s=e.nextElementSibling;for(;s;){if(s.matches(t))return s;s=s.nextElementSibling}}function h9(e,t){let s=e.previousElementSibling;for(;s;){if(s.matches(t))return s;s=s.previousElementSibling}}function Hk(e){let t=N.useRef(e);return tl(()=>{t.current=e}),t}var tl=typeof window=="undefined"?N.useEffect:N.useLayoutEffect;function tc(e){let t=N.useRef();return t.current===void 0&&(t.current=e()),t}function Ji(e){let t=ub(),s=()=>e(t.snapshot());return N.useSyncExternalStore(t.subscribe,s,s)}function $k(e,t,s,n=[]){let i=N.useRef(),o=Eu();return tl(()=>{var c;let d=(()=>{var f;for(let p of s){if(typeof p=="string")return p.trim();if(typeof p=="object"&&"current"in p)return p.current?(f=p.current.textContent)==null?void 0:f.trim():i.current}})(),h=n.map(f=>f.trim());o.value(e,d,h),(c=t.current)==null||c.setAttribute(ec,d),i.current=d}),i}var m9=()=>{let[e,t]=N.useState(),s=tc(()=>new Map);return tl(()=>{s.current.forEach(n=>n()),s.current=new Map},[e]),(n,i)=>{s.current.set(n,i),t({})}};function p9(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Hm({asChild:e,children:t},s){return e&&N.isValidElement(t)?N.cloneElement(p9(t),{ref:t.ref},s(t.props.children)):s(t)}var g9={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function x9(s){var n=s,{className:e}=n,t=Re(n,["className"]);return a.jsx(Sc,F({"data-slot":"command",className:ks("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e)},t))}function y9(s){var n=s,{className:e}=n,t=Re(n,["className"]);return a.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[a.jsx(mc,{className:"size-4 shrink-0 opacity-50"}),a.jsx(Sc.Input,F({"data-slot":"command-input",className:ks("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e)},t))]})}function b9(s){var n=s,{className:e}=n,t=Re(n,["className"]);return a.jsx(Sc.List,F({"data-slot":"command-list",className:ks("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e)},t))}function zx(t){var e=Re(t,[]);return a.jsx(Sc.Empty,F({"data-slot":"command-empty",className:"py-6 text-center text-sm"},e))}function v9(s){var n=s,{className:e}=n,t=Re(n,["className"]);return a.jsx(Sc.Group,F({"data-slot":"command-group",className:ks("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e)},t))}function w9(s){var n=s,{className:e}=n,t=Re(n,["className"]);return a.jsx(Sc.Item,F({"data-slot":"command-item",className:ks("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e)},t))}function Da({doctype:e,value:t="",onChange:s,placeholder:n="Select option...",className:i="w-[200px]",fields:o=["name"],filters:c=[],displayField:d="name",valueField:h="name",disabled:f=!1,limit:p=20}){const[g,x]=N.useState(!1),[b,j]=N.useState(""),v=N.useMemo(()=>{let B={};if(c.length>0&&c.forEach(R=>{if(Array.isArray(R)&&R.length>=3){const[K,W,Z]=R;W==="="&&(B[K]=Z)}}),b.trim()&&(B[d]=["like",`%${b}%`]),Object.keys(B).length===0&&b.trim())return[[d,"like",`%${b}%`]];const U=[];return Object.entries(B).forEach(([R,K])=>{Array.isArray(K)?U.push([R,K[0],K[1]]):U.push([R,"=",K])}),U.length>0?U:void 0},[b,c,d]),{data:_,isLoading:T,error:A}=Nt(e,{fields:[...new Set([...o,d,h])],filters:v,limit:p,orderBy:{field:d,order:"asc"}}),C=N.useMemo(()=>!_||!Array.isArray(_)?[]:_.map(B=>({value:B[h],label:B[d]})),[_,d,h]),S=C.find(B=>B.value===t),D=B=>{s(B===t?"":B),x(!1)},E=B=>{j(B)};return a.jsxs(Sy,{open:g,onOpenChange:x,children:[a.jsx(Cy,{asChild:!0,children:a.jsxs(Qe,{variant:"outline",role:"combobox","aria-expanded":g,className:ks("justify-between",i),disabled:f,children:[(S==null?void 0:S.label)||n,a.jsx(dM,{className:"opacity-50"})]})}),a.jsx(ky,{className:ks("p-0",i),children:a.jsxs(x9,{shouldFilter:!1,children:[a.jsx(y9,{placeholder:`Search ${e.toLowerCase()}...`,className:"h-9",value:b,onValueChange:E}),a.jsxs(b9,{children:[T&&a.jsx(zx,{children:"Loading..."}),A&&a.jsx(zx,{children:"Error loading data."}),!T&&!A&&C.length===0&&a.jsxs(zx,{children:["No ",e.toLowerCase()," found."]}),!T&&!A&&C.length>0&&a.jsx(v9,{children:C.map(B=>a.jsxs(w9,{value:B.value,onSelect:D,children:[B.label,a.jsx(aM,{className:ks("ml-auto",t===B.value?"opacity-100":"opacity-0")})]},B.value))})]})]})})]})}const Ik=({project:e,isOpen:t,onClose:s,onSuccess:n})=>{const{updateProject:i,isLoading:o}=FL(),{currentUser:c}=On(),{data:d}=Ot("Project",(e==null?void 0:e.name)||"",e!=null&&e.name?"Project":void 0),h=(d==null?void 0:d.users)||(e==null?void 0:e.users)||[],f=()=>{if(c==="Administrator"||(e==null?void 0:e.owner)===c)return!0;const T=h.find(A=>A.user===c);return(T==null?void 0:T.project_status)==="Project Manager (Owner Substitute)"},{register:p,control:g,handleSubmit:x,reset:b,formState:{errors:j}}=fu({defaultValues:{project_name:"",customer:"",project_type:"",status:"Open",priority:"Medium",department:"",team:"",company:"",cost_center:"",expected_start_date:"",expected_end_date:"",notes:""}});N.useEffect(()=>{e&&b({project_name:e.project_name||"",customer:e.customer||"",project_type:e.project_type||"",status:e.status||"Open",priority:e.priority||"Medium",department:e.department||"",team:e.team||"",company:e.company||"",cost_center:e.cost_center||"",expected_start_date:e.expected_start_date?e.expected_start_date.split(" ")[0]:"",expected_end_date:e.expected_end_date?e.expected_end_date.split(" ")[0]:"",notes:e.notes||""})},[e,b]);const v=T=>we(null,null,function*(){if(e){if(T.status==="Completed"&&!f()){xs.error("Permission denied",{description:"You don't have permission to mark this project as Completed. Only Project Owner, Project Manager, or Administrator can do this."});return}try{yield i(e.name,T),xs.success("Project updated successfully"),n&&setTimeout(()=>{n()},100),s()}catch(A){let C="Edit project failed";if(A!=null&&A._server_messages)try{const S=JSON.parse(A._server_messages);Array.isArray(S)&&S.length>0&&(C=JSON.parse(S[0]).message||C)}catch(S){console.error("Parse error messages failed:",S)}else A!=null&&A.message&&(C=A.message);xs.error("Update project failed",{description:C}),console.error("Error updating project:",A)}}}),_=()=>{e&&b({project_name:e.project_name||"",customer:e.customer||"",project_type:e.project_type||"",status:e.status||"Open",priority:e.priority||"Medium",department:e.department||"",team:e.team||"",company:e.company||"",cost_center:e.cost_center||"",expected_start_date:e.expected_start_date?e.expected_start_date.split(" ")[0]:"",expected_end_date:e.expected_end_date?e.expected_end_date.split(" ")[0]:"",notes:e.notes||""}),s()};return a.jsx(vn,{open:t,onOpenChange:s,children:a.jsxs(wn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[a.jsx(jn,{children:a.jsx(Nn,{children:"Edit Project"})}),a.jsxs("form",{onSubmit:x(v),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"project_name",children:"Project Name *"}),a.jsx($t,le(F({id:"project_name"},p("project_name",{required:"Project name is required",maxLength:{value:100,message:"Project name cannot exceed 100 characters"}})),{placeholder:"Enter project name"})),j.project_name&&a.jsx("span",{className:"text-red-500 text-sm",children:j.project_name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{children:"Customer"}),a.jsx(ka,{name:"customer",control:g,render:({field:T})=>a.jsx(Da,{doctype:"Customer",value:T.value||"",onChange:T.onChange,placeholder:"Select customer...",displayField:"customer_name",valueField:"name",className:"w-full"})})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{children:"Project Type"}),a.jsx(ka,{name:"project_type",control:g,render:({field:T})=>a.jsx(Da,{doctype:"Project Type",value:T.value||"",onChange:T.onChange,placeholder:"Select type...",className:"w-full"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Status"}),a.jsxs("select",le(F({},p("status")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[a.jsx("option",{value:"",children:"Select status..."}),a.jsx("option",{value:"Open",children:"Open"}),f()&&a.jsx("option",{value:"Completed",children:"Completed"}),a.jsx("option",{value:"Cancelled",children:"Cancelled"})]})),!f()&&a.jsx("span",{className:"text-xs text-amber-600",children:"You dont have permission to mark Completed"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Priority"}),a.jsxs("select",le(F({},p("priority")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[a.jsx("option",{value:"",children:"Select priority..."}),a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Urgent",children:"Urgent"})]}))]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{children:"Team"}),a.jsx(ka,{name:"team",control:g,render:({field:T})=>a.jsx(Da,{doctype:"Team",value:T.value||"",onChange:T.onChange,placeholder:"Select team...",className:"w-full"})})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{children:"Company"}),a.jsx(ka,{name:"company",control:g,render:({field:T})=>a.jsx(Da,{doctype:"Company",value:T.value||"",onChange:T.onChange,placeholder:"Select company...",className:"w-full"})})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{children:"Cost Center"}),a.jsx(ka,{name:"cost_center",control:g,render:({field:T})=>a.jsx(Da,{doctype:"Cost Center",value:T.value||"",onChange:T.onChange,placeholder:"Select cost center...",className:"w-full"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"expected_start_date",children:"Expected Start Date"}),a.jsx($t,F({id:"expected_start_date",type:"date"},p("expected_start_date")))]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"expected_end_date",children:"Expected End Date"}),a.jsx($t,F({id:"expected_end_date",type:"date"},p("expected_end_date")))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"notes",children:"Notes"}),a.jsx("textarea",le(F({id:"notes"},p("notes")),{placeholder:"Enter project notes",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}))]}),a.jsxs(Bn,{className:"flex gap-2",children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:_,children:"Cancel"}),a.jsx(Qe,{type:"submit",disabled:o,children:o?"Updating...":"Update Project"})]})]})]})})},Vk=({project:e,isOpen:t,onClose:s,onSuccess:n})=>{const{deleteProjectCascade:i}=YL(),[o,c]=N.useState(!1),[d,h]=N.useState(null),[f,p]=N.useState(""),g=()=>we(null,null,function*(){if(!e){console.error("No project selected for deletion"),xs.error("Delete project failed",{description:"No project selected"});return}if(o){console.log("Delete already in progress, ignoring duplicate request");return}c(!0),h(null),p("Starting deletion...");try{console.log(`Starting deletion for project: ${e.name}`),p("Deleting subtasks..."),yield new Promise(j=>setTimeout(j,300)),p("Deleting tasks..."),yield new Promise(j=>setTimeout(j,300)),p("Deleting project phases..."),yield new Promise(j=>setTimeout(j,300)),p("Cleaning up dependencies..."),yield new Promise(j=>setTimeout(j,300)),p("Deleting project...");const b=yield i(e.name);p("Deletion completed successfully!"),console.log("Cascade deletion result:",b),xs.success("Project deleted successfully",{description:`Project "${e.name}" and all related items have been deleted.`}),n&&n(),s()}catch(b){let j="Delete project failed",v=!1;if(b!=null&&b._server_messages)try{const _=JSON.parse(b._server_messages);Array.isArray(_)&&_.length>0&&(j=JSON.parse(_[0]).message||j)}catch(_){console.error("Parse error messages failed:",_)}else b!=null&&b.message&&(j=b.message,(j.includes("dependencies")||j.includes("linked")||j.includes("referenced")||j.includes("Unknown project deletion error"))&&(v=!0,j+=`

Tip: This error usually resolves on the second attempt. Please try again.`));console.error("Error deleting project:",b),xs.error("Delete project failed",{description:j,duration:v?8e3:5e3}),h(b instanceof Error?b:new Error(j)),p("")}finally{c(!1)}}),x=()=>{o||(h(null),p(""),s())};return a.jsx(vn,{open:t,onOpenChange:s,children:a.jsxs(wn,{className:"sm:max-w-[400px]",children:[a.jsx(jn,{children:a.jsxs(Nn,{className:"flex items-center gap-2 text-red-600",children:[a.jsx(pc,{className:"h-5 w-5"}),"Delete Project"]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this project? This action cannot be undone."}),e&&a.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[a.jsx("div",{className:"font-medium text-gray-900",children:e.project_name}),a.jsx("div",{className:"text-sm text-gray-600",children:e.customer||"No customer"}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]})]}),a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[a.jsxs("div",{className:"text-sm text-red-800",children:[a.jsx("strong",{children:"Warning:"})," This will permanently delete in the following order:"]}),a.jsxs("ol",{className:"text-sm text-red-700 mt-1 ml-4 list-decimal",children:[a.jsx("li",{children:"All subtasks in all tasks"}),a.jsx("li",{children:"All tasks in the project"}),a.jsx("li",{children:"All project phases"}),a.jsx("li",{children:"All ToDo assignments"}),a.jsx("li",{children:"All project team members"}),a.jsx("li",{children:"The project itself"})]}),a.jsx("div",{className:"text-sm text-red-800 mt-2",children:a.jsx("strong",{children:"This action cannot be undone!"})})]}),o&&f&&a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(r0,{className:"h-4 w-4 animate-spin text-blue-600"}),a.jsxs("span",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Progress:"})," ",f]})]}),a.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"Please wait while we delete all related items..."})]}),d&&a.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:a.jsxs("p",{children:[a.jsx("strong",{children:"Error:"})," ",d.message||"Failed to delete project"]})})]}),a.jsxs(Bn,{className:"flex gap-2",children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:x,disabled:o,children:o?"Deleting...":"Cancel"}),a.jsx(Qe,{type:"button",variant:"destructive",onClick:g,disabled:o,className:"min-w-[120px]",children:o?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(r0,{className:"h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete Project"})]})]})})};function j9({isOpen:e,onClose:t,projectName:s,onSuccess:n}){const[i,o]=N.useState(!1),{call:c}=yn("todo.api.add_project_member"),d=fu();N.useEffect(()=>{e&&(d.reset(),d.clearErrors())},[e,d]);const h=()=>{i||(t(),d.reset(),d.clearErrors())},f=p=>we(null,null,function*(){if(s&&!i){o(!0);try{const g=yield c({project_name:s,user:p.user,view_attachments:p.view_attachments?1:0,hide_timesheets:p.hide_timesheets?1:0,project_status:p.project_status||"Team Member"});console.log("Member added successfully:",g),t(),setTimeout(()=>{d.reset(),d.clearErrors()},0),setTimeout(()=>{n()},1e3),alert("Member added successfully!")}catch(g){console.error("Error adding member:",g);const x=g instanceof Error?g.message:String(g),b=JSON.stringify(g);x.includes("Email Account")||x.includes("OutgoingEmailError")||x.includes("email")||x.includes("SMTP")||b.includes("OutgoingEmailError")||b.includes("Email Account")?(console.log("Email error detected, member likely added successfully"),t(),setTimeout(()=>{d.reset(),d.clearErrors()},0),setTimeout(()=>{n(),alert("Member added successfully! (Welcome email could not be sent due to email configuration, but the member was added to the project)")},1e3)):x.includes("DuplicateEntryError")||x.includes("already exists")?alert("This user is already a member of the project."):x.includes("PermissionError")||x.includes("Not permitted")?alert("You do not have permission to add members to this project."):x.includes("ValidationError")?alert("Invalid data provided. Please check your inputs."):alert("Failed to add member: "+x)}finally{o(!1)}}});return a.jsx(vn,{open:e,onOpenChange:h,children:a.jsx(wn,{className:"sm:max-w-md",children:a.jsxs("form",{onSubmit:d.handleSubmit(f),onKeyDown:p=>{p.key==="Enter"&&p.target instanceof HTMLInputElement&&p.preventDefault()},children:[a.jsxs(jn,{children:[a.jsx(Nn,{children:"Add Team Member"}),a.jsx(ku,{children:"Add a new member to the project team."})]}),a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsxs($e,{children:["User ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ka,{name:"user",control:d.control,rules:{required:"Please select a user"},render:({field:p})=>a.jsx(Da,{doctype:"User",value:p.value||"",onChange:g=>{console.log("Combobox onChange:",g),p.onChange(g),g&&d.formState.errors.user&&d.clearErrors("user")},placeholder:i?"Please wait...":"Select user...",displayField:"full_name",valueField:"name",filters:[["enabled","=",1],["user_type","!=","Website User"]],fields:["name","full_name","email","user_image"],className:"w-full",disabled:i},`add-member-${e?"open":"closed"}-${Date.now()}`)}),d.formState.errors.user&&a.jsx("span",{className:"text-red-500 text-sm",children:d.formState.errors.user.message})]}),a.jsxs("div",{className:"space-y-3 pt-2 border-t",children:[a.jsx($e,{className:"text-sm font-medium",children:"Permissions"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",le(F({type:"checkbox",id:"add_view_attachments"},d.register("view_attachments")),{defaultChecked:!0,disabled:i,className:"rounded border-gray-300"})),a.jsx($e,{htmlFor:"add_view_attachments",className:"text-sm",children:"Can view attachments"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",le(F({type:"checkbox",id:"add_hide_timesheets"},d.register("hide_timesheets")),{disabled:i,className:"rounded border-gray-300"})),a.jsx($e,{htmlFor:"add_hide_timesheets",className:"text-sm",children:"Hide timesheets from this user"})]})]})]}),a.jsxs(Bn,{className:"gap-2",children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:h,disabled:i,children:"Cancel"}),a.jsx(Qe,{type:"submit",disabled:i||!d.watch("user"),className:"bg-blue-600 hover:bg-blue-700 disabled:opacity-50",children:i?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Adding..."]}):"Add Member"})]})]})})})}function qk({project:e,isOpen:t,onClose:s}){const[n,i]=N.useState("overview"),[o,c]=N.useState(null),[d,h]=N.useState(null),[f,p]=N.useState(null),[g,x]=N.useState(!1),[b,j]=N.useState(!1),[v,_]=N.useState(!1),[T,A]=N.useState(!1),[C,S]=N.useState(!1),[D,E]=N.useState(!1);N.useEffect(()=>{t||(i("overview"),c(null),h(null),p(null),x(!1),j(!1),_(!1),A(!1),S(!1),E(!1))},[t]),N.useEffect(()=>{b||(he.reset(),he.clearErrors())},[b]),N.useEffect(()=>{v||(ke.reset(),ke.clearErrors())},[v]);const{data:B,isLoading:U,mutate:R}=Ot("Project",(e==null?void 0:e.name)||"",e!=null&&e.name?"Project":void 0),{call:K}=yn("frappe.client.delete"),{call:W}=yn("todo.api.remove_project_member"),{data:Z,error:q,isLoading:G}=Ot("User",(e==null?void 0:e.owner)||"",e!=null&&e.owner?void 0:null),{data:I,mutate:H}=Ot("SubTask",(f==null?void 0:f.name)||"",f!=null&&f.name?void 0:null),{data:J,mutate:te}=Ot("Task",(d==null?void 0:d.name)||"",d!=null&&d.name?void 0:null),{currentUser:de}=On(),P=(B==null?void 0:B.users)||(e==null?void 0:e.users)||[],ie=U,ne=N.useMemo(()=>({progress:(B==null?void 0:B.percent_complete)||(e==null?void 0:e.percent_complete)||0,source:"project",count:1}),[B==null?void 0:B.percent_complete,e==null?void 0:e.percent_complete]),$=()=>we(null,null,function*(){if(f!=null&&f.name)try{yield H()}catch(Le){console.error("Error refreshing subtask data:",Le)}}),ee=()=>we(null,null,function*(){if(d!=null&&d.name)try{yield te()}catch(Le){console.error("Error refreshing task data:",Le)}}),xe=Le=>we(null,null,function*(){(d==null?void 0:d.name)===Le&&(yield ee())});N.useEffect(()=>{I&&(f==null?void 0:f.name)===I.name&&p(I)},[I,f==null?void 0:f.name]),N.useEffect(()=>{J&&(d==null?void 0:d.name)===J.name&&h(J)},[J,d==null?void 0:d.name]);const he=fu(),ke=fu(),Ae=Le=>we(null,null,function*(){if(e!=null&&e.name&&confirm("Are you sure you want to remove this member from the project?"))try{const nt=yield W({project_name:e.name,user:Le});console.log("Member removed successfully:",nt),setTimeout(()=>R(),1e3),alert("Member removed successfully!")}catch(nt){console.error("Error removing member:",nt);const lt=nt instanceof Error?nt.message:String(nt);if(lt.includes("Email Account")||lt.includes("OutgoingEmailError")||lt.includes("email")||lt.includes("SMTP"))console.log("Email error detected when removing member, checking if removal was successful"),setTimeout(()=>{R(),alert("Member removed successfully! (Email notification failed to send, but member was removed from project)")},1e3);else if(lt.includes("PermissionError")||lt.includes("Not permitted"))alert("You do not have permission to remove members from this project.");else if(lt.includes("ValidationError"))alert("Cannot remove member: Validation error occurred.");else if(lt.includes("LinkExistsError")||lt.includes("Cannot delete"))alert("Cannot remove member: This user may have linked records (tasks, timesheets, etc.). Please remove or reassign those records first.");else if(lt.includes("is not a member of this project"))alert("This user is not a member of the project."),setTimeout(()=>R(),500);else{console.log("Custom API failed, trying fallback method");try{const Q=P.find(me=>me.user===Le);Q!=null&&Q.name?(yield K({doctype:"Project User",name:Q.name}),setTimeout(()=>R(),1e3),alert("Member removed successfully! (Using fallback method)")):alert("User record not found.")}catch(Q){console.error("Fallback method also failed:",Q),alert(`Failed to remove member: ${lt}`)}}}}),Ve=()=>(e==null?void 0:e.owner)===de||de==="Administrator",ze=Le=>{switch(Le){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},M=Le=>Le?new Date(Le).toLocaleDateString():"N/A",_e=()=>{A(!0)},He=()=>{S(!0)},Ue=()=>{R(),cc(Le=>typeof Le=="string"&&Le.includes("Project"),void 0,{revalidate:!0})},mt=()=>{s()};if(!e)return null;const tt=B||e;return a.jsx(k7,{open:t,onOpenChange:s,direction:"right",children:a.jsxs(A7,{children:[a.jsxs("div",{className:"w-full h-full overflow-y-auto p-6",children:[a.jsxs(O7,{className:"px-0 pb-6",children:[a.jsxs(M7,{className:"flex gap-4 justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"h-16 w-16 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg",children:a.jsx("span",{className:"text-2xl font-bold text-white",children:tt.project_name.charAt(0).toUpperCase()})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:tt.project_name}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:`inline-flex px-4 py-2 text-sm font-semibold rounded-full ${ze(tt.status)}`,children:tt.status||"Open"}),tt.project_type&&a.jsx("span",{className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-full",children:tt.project_type})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Qe,{variant:"outline",size:"sm",onClick:_e,className:"flex items-center gap-2",children:[a.jsx(au,{className:"h-4 w-4"}),"Edit"]}),a.jsxs(Qe,{variant:"outline",size:"sm",onClick:He,className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[a.jsx(Mn,{className:"h-4 w-4"}),"Delete"]}),a.jsx(Qe,{variant:"ghost",size:"sm",onClick:s,children:"X"})]})]}),a.jsx(P7,{className:"text-lg text-gray-600 mt-4",children:"Project Details and Progress Overview"}),a.jsxs("div",{className:"flex border-b border-gray-200 mt-6",children:[a.jsx("button",{onClick:()=>i("overview"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${n==="overview"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Overview"}),a.jsx("button",{onClick:()=>i("tasks"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${n==="tasks"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Tasks & Phases"}),a.jsxs("button",{onClick:()=>i("team"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${n==="team"?"border-green-600 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(Ca,{className:"h-4 w-4"}),"Team (",((P==null?void 0:P.length)||0)+1,")"]}),o&&a.jsxs("button",{onClick:()=>i("phase-details"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${n==="phase-details"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["📋 ",o.subject,a.jsx("span",{onClick:Le=>{Le.stopPropagation(),c(null),i("tasks")},className:"ml-2 hover:bg-gray-200 rounded-full p-1 transition-colors cursor-pointer",title:"Close phase details",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d&&a.jsxs("button",{onClick:()=>i("task-details"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${n==="task-details"?"border-orange-600 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["📝 ",d.subject||d.name,a.jsx("span",{onClick:Le=>{Le.stopPropagation(),h(null),i("tasks")},className:"ml-2 hover:bg-gray-200 rounded-full p-1 transition-colors cursor-pointer",title:"Close task details",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f&&a.jsxs("button",{onClick:()=>i("subtask-details"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${n==="subtask-details"?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["📌 ",f.subject||f.name,a.jsx("span",{onClick:Le=>{Le.stopPropagation(),p(null),i("tasks")},className:"ml-2 hover:bg-gray-200 rounded-full p-1 transition-colors cursor-pointer",title:"Close subtask details",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})]}),a.jsxs("div",{className:"space-y-8",children:[n==="overview"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Project Progress"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg font-medium text-gray-700",children:"Overall Progress"}),a.jsx("span",{className:"text-xs text-gray-500"})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[ne.progress,"%"]})})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-4 rounded-full transition-all duration-500 ease-out",style:{width:`${ne.progress}%`}})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:a.jsx(Go,{className:"h-8 w-8 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Customer"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:tt.customer||"N/A"})]})]})}),a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:a.jsx(Yo,{className:"h-8 w-8 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Budget"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:Fo(tt.estimated_costing)})]})]})}),a.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:a.jsx(hn,{className:"h-8 w-8 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"Deadline"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:M(tt.expected_end_date)})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Project Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Start Date"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:M(tt.expected_start_date)})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:tt.priority||"Medium"})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Team"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:tt.team||"N/A"})]}),a.jsxs("div",{className:"flex items-center justify-between py-3",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Company"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:tt.company||"N/A"})]})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Financial Metrics"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Total Cost"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:Fo(tt.total_costing_amount)})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Total Sales"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:Fo(tt.total_sales_amount)})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Billable Amount"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:Fo(tt.total_billable_amount)})]}),a.jsxs("div",{className:"flex items-center justify-between py-3",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Gross Margin"}),a.jsx("span",{className:"text-lg font-bold text-green-600",children:Fo(tt.gross_margin)})]})]})]})]}),a.jsx(Fm,{doctype:"Project",docname:e.name,title:"Project Files",allowUpload:!0,allowDelete:!0,className:"mt-8"})]}),n==="team"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(gM,{className:"h-6 w-6 text-yellow-600"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Project Owner"})]}),Ve()&&a.jsxs(Qe,{variant:"outline",size:"sm",onClick:()=>{ke.reset({owner:(e==null?void 0:e.owner)||""}),_(!0)},className:"flex items-center gap-2",children:[a.jsx(au,{className:"h-4 w-4"}),"Change Owner"]})]}),a.jsxs("div",{className:"flex items-center gap-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[a.jsx("div",{className:"h-12 w-12 rounded-full bg-yellow-100 flex items-center justify-center",children:a.jsx(Go,{className:"h-6 w-6 text-yellow-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:G?"Loading...":Z!=null&&Z.full_name?Z.full_name:tt!=null&&tt.owner?tt.owner:"No Owner"}),a.jsx("p",{className:"text-sm text-gray-600",children:G?"Loading email...":Z!=null&&Z.email?Z.email:tt!=null&&tt.owner?tt.owner:"No email"}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded",children:"Project Owner"}),(Z==null?void 0:Z.designation)&&a.jsx("span",{className:"text-xs text-gray-500",children:Z.designation}),q&&a.jsx("span",{className:"text-xs text-red-500",children:"(Error loading user details)"})]})]})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ca,{className:"h-6 w-6 text-blue-600"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Team Members"}),a.jsxs("span",{className:"inline-flex px-3 py-1 text-sm font-medium bg-blue-100 text-blue-800 rounded-full",children:[(P==null?void 0:P.length)||0," members"]})]}),a.jsxs(Qe,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",onClick:()=>x(!0),children:[a.jsx(jr,{className:"h-4 w-4 mr-1"}),"Add Member"]})]}),ie?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("span",{className:"ml-3 text-gray-600",children:"Loading team members..."})]}):P&&P.length>0?a.jsx("div",{className:"grid gap-4",children:P.map((Le,nt)=>a.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center overflow-hidden",children:Le.image?a.jsx("img",{src:Le.image,alt:Le.full_name||Le.user,className:"h-full w-full object-cover"}):a.jsx("span",{className:"text-sm font-semibold text-blue-600",children:(Le.full_name||Le.user||"U").charAt(0).toUpperCase()})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-semibold text-gray-900",children:Le.full_name||Le.user||"Unknown User"}),a.jsx("p",{className:"text-sm text-gray-600",children:Le.email||Le.user||"No email"}),Le.project_status&&a.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Status: ",Le.project_status]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:"Team Member"}),Le.view_attachments&&a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded",children:"Can View Files"}),a.jsxs(Qe,{size:"sm",variant:"outline",className:"text-xs text-red-600 hover:text-red-700",onClick:()=>Ae(Le.user),children:[a.jsx(Mn,{className:"h-3 w-3 mr-1"}),"Remove"]})]})]},Le.user||nt))}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Ca,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"No team members added yet"}),a.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Add team members to collaborate on this project"}),a.jsxs(Qe,{className:"mt-4 bg-blue-600 hover:bg-blue-700",onClick:()=>x(!0),children:[a.jsx(jr,{className:"h-4 w-4 mr-2"}),"Add First Member"]})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Statistics"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:((P==null?void 0:P.length)||0)+1}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:"1"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Project Owner"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:(P==null?void 0:P.length)||0}),a.jsx("p",{className:"text-sm text-gray-600",children:"Team Members"})]}),a.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[(e==null?void 0:e.percent_complete)||0,"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Progress"})]})]})]})]}),n==="tasks"&&a.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:a.jsx(oH,{projectName:e.name,onViewPhaseDetails:Le=>{c(Le),i("phase-details")},onViewTaskDetails:Le=>{h(Le),i("task-details")},onViewSubTaskDetails:Le=>{p(Le),i("subtask-details")}})}),n==="phase-details"&&o&&a.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:a.jsx(uH,{phase:o,projectName:e.name,onBack:()=>i("tasks"),onViewTaskDetails:Le=>{h(Le),i("task-details")},onPhaseUpdated:()=>we(null,null,function*(){R()}),onPhaseDeleted:()=>we(null,null,function*(){R(),i("tasks"),c(null)}),onTaskCreated:()=>we(null,null,function*(){R()})})}),n==="task-details"&&d&&a.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:a.jsx(pH,{task:d,projectName:e.name,onBack:()=>i("tasks"),onViewSubTaskDetails:Le=>{p(Le),i("subtask-details")},onTaskUpdated:()=>we(null,null,function*(){R(),yield ee()}),onTaskDeleted:()=>we(null,null,function*(){R(),i("tasks"),h(null)})})}),n==="subtask-details"&&f&&a.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:a.jsx(yH,{subtask:f,projectName:e.name,onBack:()=>i("tasks"),onSubTaskUpdated:()=>we(null,null,function*(){R(),yield $(),f!=null&&f.task&&(yield xe(f.task))}),onSubTaskDeleted:()=>we(null,null,function*(){R(),i("tasks"),p(null)})})})]}),a.jsx(R7,{className:"px-0 mt-8 pt-6 border-t border-gray-200",children:a.jsxs("div",{className:"flex gap-4",children:[a.jsx(Qe,{variant:"outline",className:"flex-1 h-12 text-lg font-semibold",onClick:()=>i("tasks"),children:"View Tasks"}),a.jsx(Qe,{variant:"outline",className:"flex-1 h-12 text-lg font-semibold",children:"View Timeline"})]})})]}),a.jsx(j9,{isOpen:g,onClose:()=>x(!1),projectName:e.name,onSuccess:()=>{setTimeout(()=>R(),1e3)}}),a.jsx(Ik,{project:e,isOpen:T,onClose:()=>A(!1),onSuccess:Ue}),a.jsx(Vk,{project:e,isOpen:C,onClose:()=>S(!1),onSuccess:mt})]})})}const Wk=({project:e,onProjectUpdated:t,onProjectDeleted:s,onCloseDrawer:n})=>{const[i,o]=N.useState(!1),[c,d]=N.useState(!1),[h,f]=N.useState(!1),p=j=>{j&&j.stopPropagation(),o(!0),f(!1)},g=j=>{j&&j.stopPropagation(),d(!0),f(!1)},x=()=>{t&&t()},b=()=>{s&&s(),n&&n()};return a.jsxs(a.Fragment,{children:[a.jsxs(Sy,{open:h,onOpenChange:f,children:[a.jsx(Cy,{asChild:!0,children:a.jsx(Qe,{variant:"ghost",size:"sm",onClick:j=>{j.stopPropagation(),f(!h)},className:"h-8 w-8 p-0",children:a.jsx(vM,{className:"h-4 w-4"})})}),a.jsx(ky,{className:"w-48 p-2",align:"end",onClick:j=>j.stopPropagation(),children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs(Qe,{variant:"ghost",size:"sm",onClick:j=>p(j),className:"w-full justify-start text-left",children:[a.jsx(WM,{className:"mr-2 h-4 w-4"}),"Edit Project"]}),a.jsxs(Qe,{variant:"ghost",size:"sm",onClick:j=>g(j),className:"w-full justify-start text-left text-red-600 hover:text-red-700 hover:bg-red-50",children:[a.jsx(Mn,{className:"mr-2 h-4 w-4"}),"Delete Project"]})]})})]}),a.jsx(Ik,{project:e,isOpen:i,onClose:()=>o(!1),onSuccess:x}),a.jsx(Vk,{project:e,isOpen:c,onClose:()=>d(!1),onSuccess:b})]})},N9=({projects:e,onProjectsChange:t})=>{const[s,n]=N.useState(null),[i,o]=N.useState(!1),c=f=>{n(f),o(!0)},d=()=>{o(!1),n(null)},h=f=>{switch(f){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:e.map(f=>a.jsxs("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 hover:shadow-md transition-shadow duration-200 cursor-pointer",onClick:()=>c(f),children:[a.jsx("div",{className:"h-48 bg-gray-200 flex items-center justify-center",children:a.jsx("div",{className:"text-4xl font-bold text-gray-400",children:f.project_name.charAt(0).toUpperCase()})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate flex-1",children:f.project_name}),a.jsxs("div",{className:"flex items-center gap-2",onClick:p=>p.stopPropagation(),children:[a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${h(f.status)}`,children:f.status||"Open"}),a.jsx(Wk,{project:f,onProjectUpdated:t,onProjectDeleted:t,onCloseDrawer:d})]})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:f.project_type||"N/A"}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Progress"}),a.jsxs("span",{className:"text-sm text-gray-600",children:[f.percent_complete||0,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${f.percent_complete||0}%`}})})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[a.jsx("span",{children:f.customer||"N/A"}),a.jsx("span",{children:Fo(f.estimated_costing)})]})]})]},f.name))}),a.jsx(qk,{project:s,isOpen:i,onClose:d})]})},_9=({projects:e,onProjectsChange:t})=>{const[s,n]=N.useState(null),[i,o]=N.useState(!1),[c,d]=N.useState(null),h=v=>{n(v),o(!0)},f=()=>{o(!1),n(null)},p=()=>{s&&(d(s.name),setTimeout(()=>{d(null)},5e3)),console.log("handleProjectUpdated called, about to refresh data..."),o(!1),n(null),cc(v=>typeof v=="string"&&v.includes("Project"),void 0,{revalidate:!0}),cc("/api/resource/Project"),cc("Project"),t?(console.log("Calling onProjectsChange to refresh data immediately"),t()):console.log("onProjectsChange is not available"),setTimeout(()=>{t&&(console.log("Calling onProjectsChange again as backup"),t())},100)},g=()=>{d(null),t&&t()},x=N.useMemo(()=>[...e].sort((v,_)=>{const T=new Date(v.modified||v.creation||0);return new Date(_.modified||_.creation||0).getTime()-T.getTime()}),[e]),b=v=>{switch(v){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},j=v=>v?new Date(v).toLocaleDateString():"N/A";return a.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[a.jsx("div",{className:"overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progress"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Budget"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Deadline"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(v=>a.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer transition-colors ${c===v.name?"bg-green-50 border-l-4 border-green-400":""}`,onClick:()=>h(v),children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:a.jsx("div",{className:"h-10 w-10 rounded-lg bg-gray-200 flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-bold text-gray-600",children:v.project_name.charAt(0).toUpperCase()})})}),a.jsxs("div",{className:"ml-4",style:{maxWidth:"300px"},children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 cursor-help",title:v.project_name,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:v.project_name}),a.jsx("div",{className:"text-sm text-gray-500",children:v.project_type||"N/A"})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${b(v.status)}`,children:v.status||"Open"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${v.percent_complete||0}%`}})}),a.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[v.percent_complete||0,"%"]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Fo(v.estimated_costing)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:j(v.expected_end_date)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",onClick:_=>_.stopPropagation(),children:a.jsx(Wk,{project:v,onProjectUpdated:p,onProjectDeleted:g,onCloseDrawer:f})})]},v.name))})]})}),a.jsx(qk,{project:s,isOpen:i,onClose:f})]})},T9=({projects:e,onFilteredProjectsChange:t,viewMode:s,onViewModeChange:n})=>{var j;const[i,o]=re.useState({searchText:"",selectedTeam:"",selectedStatus:""}),[c,d]=re.useState(!1),{data:h=[]}=xS(),f=[{value:"",label:"All Status"},{value:"Open",label:"Open"},{value:"Completed",label:"Completed"},{value:"Cancelled",label:"Cancelled"}],p=re.useMemo(()=>{const v=[{value:"",label:"All Teams"},...h.map(_=>({value:_.name,label:_.team||_.name}))];return[v[0],...v.slice(1).sort((_,T)=>_.label.localeCompare(T.label))]},[h]);re.useEffect(()=>{let v=[...e];if(i.searchText.trim()){const _=i.searchText.toLowerCase();v=v.filter(T=>T.project_name.toLowerCase().includes(_)||T.name.toLowerCase().includes(_))}i.selectedTeam&&(v=v.filter(_=>(_.team||"")===i.selectedTeam)),i.selectedStatus&&(v=v.filter(_=>_.status===i.selectedStatus)),t(v)},[i.searchText,i.selectedTeam,i.selectedStatus,e]);const g=(v,_)=>{o(T=>le(F({},T),{[v]:_}))},x=()=>{o({searchText:"",selectedTeam:"",selectedStatus:""})},b=i.searchText||i.selectedTeam||i.selectedStatus;return a.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[a.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(mc,{className:"h-4 w-4 text-gray-400"})}),a.jsx("input",{type:"text",value:i.searchText,onChange:v=>g("searchText",v.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Search projects by name..."})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>d(!c),className:`inline-flex items-center px-3 py-2 border rounded-md text-sm font-medium bg-white hover:bg-gray-50 ${b?"border-blue-500 text-blue-700 bg-blue-50":"border-gray-300 text-gray-700"}`,children:[a.jsx(xu,{className:"mr-2 h-4 w-4"}),"Bộ lọc",b&&a.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[i.selectedTeam,i.selectedStatus].filter(Boolean).length})]}),c&&a.jsx("div",{className:"absolute top-full left-0 mt-2 w-80 bg-white border border-gray-200 rounded-md shadow-lg z-10",children:a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Filters"}),b&&a.jsx("button",{onClick:x,className:"text-sm text-blue-600 hover:text-blue-800",children:"Clear all"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team"}),a.jsx("select",{value:i.selectedTeam,onChange:v=>g("selectedTeam",v.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:h.length===0,children:p.map(v=>a.jsx("option",{value:v.value,children:v.label},v.value))}),h.length===0&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No teams available"}),h.length>0&&e.filter(v=>v.team).length===0&&a.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"Projects haven't been assigned to teams yet"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsx("select",{value:i.selectedStatus,onChange:v=>g("selectedStatus",v.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:f.map(v=>a.jsx("option",{value:v.value,children:v.label},v.value))})]})]})})]}),a.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 border border-gray-200 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>n("grid"),className:`p-2 rounded-md transition-colors ${s==="grid"?"bg-white text-blue-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,title:"Grid view",children:a.jsx(kM,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>n("list"),className:`p-2 rounded-md transition-colors ${s==="list"?"bg-white text-blue-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,title:"List view",children:a.jsx(PM,{className:"h-4 w-4"})})]})]}),b&&a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[a.jsx("span",{children:"Active filters:"}),a.jsxs("div",{className:"flex space-x-1",children:[i.selectedTeam&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Team: ",(j=p.find(v=>v.value===i.selectedTeam))==null?void 0:j.label,a.jsx("button",{onClick:()=>g("selectedTeam",""),className:"ml-1 text-blue-600 hover:text-blue-800",children:"×"})]}),i.selectedStatus&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Status: ",i.selectedStatus,a.jsx("button",{onClick:()=>g("selectedStatus",""),className:"ml-1 text-green-600 hover:text-green-800",children:"×"})]})]})]})]}),c&&a.jsx("div",{className:"fixed inset-0 z-5",onClick:()=>d(!1)})]})},S9=({onProjectCreated:e})=>{const[t,s]=N.useState(!1),{createProject:n,isLoading:i}=BL(),{register:o,control:c,handleSubmit:d,reset:h,formState:{errors:f,isSubmitting:p}}=fu({defaultValues:{status:"Open",priority:"Medium"}}),g=x=>we(null,null,function*(){try{yield n(x),h(),s(!1),cc(b=>typeof b=="string"&&b.includes("Project"),void 0,{revalidate:!0}),xs.success("Project created successfully"),e&&e()}catch(b){let j="Create project failed";if(b!=null&&b._server_messages)try{const v=JSON.parse(b._server_messages);Array.isArray(v)&&v.length>0&&(j=JSON.parse(v[0]).message||j)}catch(v){console.error("Parse error messages failed:",v)}else b!=null&&b.message&&(j=b.message);xs.error("Create project failed",{description:j}),console.error("Error creating project:",b)}});return a.jsxs(vn,{open:t,onOpenChange:s,children:[a.jsx(Z7,{asChild:!0,children:a.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[a.jsx(jr,{className:"mr-2 h-4 w-4"}),"New Project"]})}),a.jsx(wn,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:a.jsxs("form",{onSubmit:d(g),children:[a.jsxs(jn,{children:[a.jsx(Nn,{children:"Create New Project"}),a.jsx(ku,{children:"Fill in the project details. Fields marked with * are required."})]}),a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsxs($e,{htmlFor:"project_name",children:["Project Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx($t,le(F({id:"project_name"},o("project_name",{required:"Project name is required",maxLength:{value:100,message:"Project name cannot exceed 100 characters"}})),{placeholder:"Enter project name"})),f.project_name&&a.jsx("span",{className:"text-red-500 text-sm",children:f.project_name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{children:"Customer"}),a.jsx(ka,{name:"customer",control:c,render:({field:x})=>a.jsx(Da,{doctype:"Customer",value:x.value||"",onChange:x.onChange,placeholder:"Select customer...",displayField:"customer_name",valueField:"name",className:"w-full"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{children:"Project Type"}),a.jsx(ka,{name:"project_type",control:c,render:({field:x})=>a.jsx(Da,{doctype:"Project Type",value:x.value||"",onChange:x.onChange,placeholder:"Select type...",className:"w-full"})})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsxs($e,{children:["Status ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",le(F({},o("status",{required:"Status is required"})),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[a.jsx("option",{value:"Open",children:"Open"}),a.jsx("option",{value:"Completed",children:"Completed"}),a.jsx("option",{value:"Cancelled",children:"Cancelled"})]}))]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{children:"Priority"}),a.jsxs("select",le(F({},o("priority")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[a.jsx("option",{value:"",children:"Select priority..."}),a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Critical",children:"Critical"})]}))]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{children:"Team"}),a.jsx(ka,{name:"team",control:c,render:({field:x})=>a.jsx(Da,{doctype:"Team",value:x.value||"",onChange:x.onChange,placeholder:"Select team...",className:"w-full"})})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{children:"Company"}),a.jsx(ka,{name:"company",control:c,render:({field:x})=>a.jsx(Da,{doctype:"Company",value:x.value||"",onChange:x.onChange,placeholder:"Select company...",className:"w-full"})})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{children:"Cost Center"}),a.jsx(ka,{name:"cost_center",control:c,render:({field:x})=>a.jsx(Da,{doctype:"Cost Center",value:x.value||"",onChange:x.onChange,placeholder:"Select cost center...",displayField:"cost_center_name",valueField:"name",className:"w-full"})})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{children:"Project Template"}),a.jsx(ka,{name:"project_template",control:c,render:({field:x})=>a.jsx(Da,{doctype:"Project Template",value:x.value||"",onChange:x.onChange,placeholder:"Select project template...",className:"w-full"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{children:"Expected Start Date"}),a.jsx($t,F({type:"date"},o("expected_start_date")))]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{children:"Expected End Date"}),a.jsx($t,F({type:"date"},o("expected_end_date")))]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{children:"Notes"}),a.jsx("textarea",le(F({},o("notes")),{placeholder:"Enter project notes...",rows:3,className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"}))]})]}),a.jsxs(Bn,{children:[a.jsx(eH,{asChild:!0,children:a.jsx(Qe,{type:"button",variant:"outline",children:"Cancel"})}),a.jsx(Qe,{type:"submit",disabled:p||i,className:"bg-blue-600 hover:bg-blue-700",children:p||i?"Creating...":"Create Project"})]})]})})]})},C9=()=>{const[e,t]=re.useState("list"),[s,n]=re.useState([]),{data:i=[],isLoading:o,error:c,mutate:d}=LL();re.useEffect(()=>{n(i)},[i]);const h=()=>we(null,null,function*(){d&&(yield d())}),f=re.useCallback(p=>{n(p)},[]);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Projects"}),a.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Showing ",s.length," of ",i.length," projects"]})]}),a.jsx("div",{className:"mt-4 flex md:mt-0 md:ml-4",children:a.jsx(S9,{onProjectCreated:h})})]}),!o&&!c&&i.length>0&&a.jsx(T9,{projects:i,onFilteredProjectsChange:f,viewMode:e,onViewModeChange:t}),o?a.jsx("div",{className:"flex justify-center items-center p-8",children:a.jsx("div",{className:"text-gray-500",children:"Loading projects..."})}):c?a.jsx("div",{className:"flex flex-col justify-center items-center p-8 bg-red-50 rounded-lg border border-red-200",children:a.jsxs("div",{className:"text-red-700 text-center",children:[a.jsx("p",{className:"text-lg font-medium mb-2",children:"Error loading projects"}),a.jsx("p",{className:"text-sm mb-2",children:c.message}),c.message.includes("PermissionError")&&a.jsxs("div",{className:"text-sm text-red-600 bg-red-100 p-3 rounded mt-2",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Permission Issue:"})," You don't have access to view projects."]}),a.jsx("p",{children:"Please contact your system administrator to:"}),a.jsxs("ul",{className:"list-disc list-inside mt-1",children:[a.jsx("li",{children:'Grant you "Read" permission for Project doctype'}),a.jsx("li",{children:"Add you to projects as a team member"}),a.jsx("li",{children:"Make you the owner of projects"})]})]})]})}):i.length===0?a.jsx("div",{className:"flex flex-col justify-center items-center p-8 bg-white rounded-lg border border-gray-200",children:a.jsxs("div",{className:"text-gray-500 text-center",children:[a.jsx("p",{className:"text-lg font-medium mb-2",children:"No projects found"}),a.jsx("p",{className:"text-sm",children:"You are not currently participating in any projects."}),a.jsx("p",{className:"text-sm",children:"Create a new project or ask to be added to an existing one."})]})}):s.length===0?a.jsx("div",{className:"flex flex-col justify-center items-center p-8 bg-white rounded-lg border border-gray-200",children:a.jsxs("div",{className:"text-gray-500 text-center",children:[a.jsx("p",{className:"text-lg font-medium mb-2",children:"No projects match your filters"}),a.jsx("p",{className:"text-sm",children:"Try adjusting your search criteria or clear the filters."})]})}):a.jsx(a.Fragment,{children:e==="grid"?a.jsx(N9,{projects:s,onProjectsChange:h}):a.jsx(_9,{projects:s,onProjectsChange:h})})]})},Yk=({team:e})=>{var E,B;const{data:t,isLoading:s,error:n}=Ot("Team",e),i=(t==null?void 0:t.team_member)||[],{currentUser:o}=On(),c=o==="Administrator",{data:d,isLoading:h,error:f}=Nt("User",{fields:["name","full_name","user_image","first_name","last_name","email"],limit:0}),{simpleTeamData:p,isLoading:g}=JL(),x=!n||!((E=n.message)!=null&&E.includes("PermissionError")),{allTasks:b,allSubTasks:j,isLoading:v,error:_}=QL(),{todos:T,isLoading:A,error:C}=GL(),S=N.useMemo(()=>{const U=[];return b.forEach(R=>{const K=T==null?void 0:T.find(W=>W.reference_type==="Task"&&W.reference_name===R.name);U.push({id:R.name,title:R.subject||"Untitled Task",description:R.description||"No description available",project:R.project||"Unknown Project",assignee:(K==null?void 0:K.allocated_to)||R.completed_by||R.owner||"Unknown",status:R.status||"Open",priority:R.priority||"Medium",dueDate:R.exp_end_date||new Date().toISOString().split("T")[0],labels:[R.type||"Task"],todoId:(K==null?void 0:K.name)||"",referenceName:R.name,referenceType:"Task",type:"Task",taskProgress:R.progress,expectedTime:R.expected_time,actualTime:0,startDate:R.exp_start_date,endDate:R.exp_end_date})}),j.forEach(R=>{const K=T==null?void 0:T.find(W=>W.reference_type==="SubTask"&&W.reference_name===R.name);U.push({id:R.name,title:R.subject||"Untitled SubTask",description:R.description||"No description available",project:"Unknown Project",assignee:(K==null?void 0:K.allocated_to)||R.assigned_to||R.owner||"Unknown",status:R.status||"Open",priority:"Medium",dueDate:R.end_date||new Date().toISOString().split("T")[0],labels:["SubTask"],todoId:(K==null?void 0:K.name)||"",referenceName:R.name,referenceType:"SubTask",type:"SubTask",parentTask:R.task,startDate:R.start_date,endDate:R.end_date})}),U.sort((R,K)=>new Date(K.dueDate).getTime()-new Date(R.dueDate).getTime())},[b,j,T]);return{teamMembersData:N.useMemo(()=>{var U;if(c&&d)return d.map(R=>{const K=S.filter(Z=>Z.assignee===R.name),W=R.user_image||`https://placehold.co/40x40/e2e8f0/475569?text=${(R.first_name||R.full_name||"U").charAt(0).toUpperCase()}`;return{id:R.name||"",name:R.full_name||R.first_name||R.name||"Unknown User",role:R.name===o?"Leader":"Member",taskCount:K.length,avatar:W,tasks:K,user:R}});if(!i||(U=n==null?void 0:n.message)!=null&&U.includes("PermissionError")){if(p&&p.length>0)return p.map(R=>{const K=S.filter(W=>W.assignee===R.id);return{id:R.id,name:R.name,role:R.role,taskCount:K.length,avatar:R.avatar,tasks:K,user:d==null?void 0:d.find(W=>W.name===R.id)}});if(d&&d.length>0){const R=d[0],K=S.filter(W=>W.assignee===(R==null?void 0:R.name));return[{id:(R==null?void 0:R.name)||"unknown",name:(R==null?void 0:R.full_name)||(R==null?void 0:R.first_name)||"Current User",role:"Member",taskCount:K.length,avatar:(R==null?void 0:R.user_image)||`https://placehold.co/40x40/e2e8f0/475569?text=${((R==null?void 0:R.first_name)||"U").charAt(0).toUpperCase()}`,tasks:K,user:R}]}return[]}return d?i.map(R=>{const K=d.find(q=>q.name===R.user),W=S.filter(q=>q.assignee===R.user),Z=(K==null?void 0:K.user_image)||`https://placehold.co/40x40/e2e8f0/475569?text=${((K==null?void 0:K.first_name)||(K==null?void 0:K.full_name)||"U").charAt(0).toUpperCase()}`;return{id:R.user||"",name:(K==null?void 0:K.full_name)||(K==null?void 0:K.first_name)||R.user||"Unknown User",role:R.role||"Member",taskCount:W.length,avatar:Z,tasks:W,user:K}}):[]},[i,d,S,n,p,c,o]),allTransformedTasks:S,isLoading:s||h||v||g||A,error:n&&!((B=n.message)!=null&&B.includes("PermissionError"))?n:f||_||C,teamMembers:i,users:d,hasTeamMemberPermission:x}},k9=({task:e,isOpen:t,onClose:s,onSuccess:n,isLeader:i})=>{const o=(e==null?void 0:e.type)==="SubTask",{updateTask:c,isLoading:d,error:h}=bS(),{assignTask:f,unassignTask:p}=vS(),{updateTaskProgress:g}=TS(),{updateTaskProgressByStatus:x}=_S(),{updateSubTask:b,isLoading:j,error:v}=NS(),{assignSubTask:_,unassignSubTask:T}=Ey(),A=d||j,C=h||v,{data:S}=Ot("Project",(e==null?void 0:e.project)||"",{enabled:!!(e!=null&&e.project)&&!o}),{data:D}=Nt("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=",o?"SubTask":"Task"],["reference_name","=",(e==null?void 0:e.referenceName)||""]]}),{data:E}=Nt("SubTask",{fields:["name"],filters:[["task","=",(e==null?void 0:e.referenceName)||""]],limit:1}),[B,U]=N.useState({subject:"",status:"Open",priority:"Medium",start_date:"",end_date:"",progress:0,description:"",assign_to:""}),[R,K]=N.useState(!1);N.useEffect(()=>{var G;if(e){const I=((G=D==null?void 0:D[0])==null?void 0:G.allocated_to)||"";U({subject:e.title||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.startDate?e.startDate.split(" ")[0]:"",end_date:e.endDate?e.endDate.split(" ")[0]:"",progress:e.taskProgress||0,description:e.description||"",assign_to:I})}},[e,D]),N.useEffect(()=>{o||K(!!(E&&E.length>0))},[E,o]);const W=(G,I)=>{U(H=>le(F({},H),{[G]:I}))},Z=G=>we(null,null,function*(){var I,J,te;if(G.preventDefault(),!!e){if(B.start_date&&B.end_date){const de=new Date(B.start_date);if(new Date(B.end_date)<de){xs.error("End date cannot be earlier than start date");return}}if(!o&&B.end_date&&(S!=null&&S.expected_end_date)){const de=new Date(B.end_date),P=new Date(S.expected_end_date);if(de>P){xs.error(`Task end date cannot be after project end date (${S.expected_end_date})`);return}}try{const de=((I=D==null?void 0:D[0])==null?void 0:I.allocated_to)||"",P=B.assign_to;if(o){const H=B,{assign_to:ie}=H,ne=Re(H,["assign_to"]),$={subject:ne.subject,status:ne.status,start_date:ne.start_date,end_date:ne.end_date,description:ne.description};if(yield b(e.referenceName,$),de&&de!==P){const ee=D==null?void 0:D.find(xe=>xe.allocated_to===de);ee&&(yield T(ee.name))}P&&P!==de&&(yield _(e.referenceName,P)),$.status,e.status,xs.success("SubTask updated successfully",{description:`SubTask "${B.subject}" has been updated.`})}else{const ie=B.progress!==(e.taskProgress||0),ne=B.status!==e.status,$={subject:B.subject,status:B.status,priority:B.priority,exp_start_date:B.start_date,exp_end_date:B.end_date,progress:B.progress,description:B.description};if(R&&ie?yield g(e.referenceName,B.progress):ne&&(B.status==="Completed"||B.status==="Cancelled")?yield x(e.referenceName,B.status):yield c(e.referenceName,$),de!==P){if(de&&(D!=null&&D[0]))try{yield p(D[0].name)}catch(ee){console.error("Error deleting old ToDo:",ee)}if(P)try{yield f(e.referenceName,B.subject,P,B.priority)}catch(ee){console.error("Error creating new ToDo:",ee)}}xs.success("Task updated successfully",{description:`Task "${B.subject}" has been updated.`})}n&&n(),s()}catch(de){console.error("Error updating task/subtask:",de);let P=`Failed to update ${o?"subtask":"task"}`;(J=de==null?void 0:de.message)!=null&&J.includes("modified")?P=`The ${o?"subtask":"task"} has been modified by someone else. Please close and reopen to get the latest version.`:(te=de==null?void 0:de.message)!=null&&te.includes("permission")?P=`You do not have permission to update this ${o?"subtask":"task"}.`:de!=null&&de.message&&(P=de.message),xs.error(`Failed to update ${o?"subtask":"task"}`,{description:P})}}}),q=()=>{var G;if(e){const I=((G=D==null?void 0:D[0])==null?void 0:G.allocated_to)||"";U({subject:e.title||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.startDate?e.startDate.split(" ")[0]:"",end_date:e.endDate?e.endDate.split(" ")[0]:"",progress:e.taskProgress||0,description:e.description||"",assign_to:I})}s()};return e?a.jsx(vn,{open:t,onOpenChange:s,children:a.jsxs(wn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[a.jsx(jn,{children:a.jsxs(Nn,{children:["Edit ",o?"SubTask":"Task"]})}),a.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"subject",children:"Subject *"}),a.jsx($t,{id:"subject",value:B.subject,onChange:G=>W("subject",G.target.value),required:!0,placeholder:`Enter ${o?"subtask":"task"} subject`})]}),a.jsxs("div",{className:`grid ${o?"grid-cols-1":"grid-cols-2"} gap-4`,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"status",children:"Status"}),a.jsxs("select",{id:"status",value:B.status,onChange:G=>W("status",G.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"Open",children:"Open"}),a.jsx("option",{value:"Working",children:"Working"}),a.jsx("option",{value:"Pending Review",children:"Pending Review"}),!o&&a.jsx("option",{value:"Overdue",children:"Overdue"}),i&&a.jsx("option",{value:"Completed",children:"Completed"}),i&&a.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),!o&&a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"priority",children:"Priority"}),a.jsxs("select",{id:"priority",value:B.priority,onChange:G=>W("priority",G.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Urgent",children:"Urgent"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"start_date",children:o?"Start Date":"Expected Start Date"}),a.jsx($t,{id:"start_date",type:"date",value:B.start_date,onChange:G=>W("start_date",G.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"end_date",children:o?"End Date":"Expected End Date"}),a.jsx($t,{id:"end_date",type:"date",value:B.end_date,onChange:G=>W("end_date",G.target.value),max:!o&&(S!=null&&S.expected_end_date)?S.expected_end_date:void 0}),!o&&(S==null?void 0:S.expected_end_date)&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Must be before project end date: ",S.expected_end_date]})]})]}),!o&&a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"progress",children:"Progress (%)"}),a.jsx($t,{id:"progress",type:"number",min:"0",max:"100",value:B.progress,onChange:G=>W("progress",parseInt(G.target.value)||0),placeholder:"0",disabled:R}),R?a.jsxs("div",{className:"text-sm text-blue-600 bg-blue-50 p-2 rounded",children:[a.jsx("strong",{children:"🔄 Smart Progress Mode:"}),a.jsxs("ul",{className:"mt-1 ml-4 list-disc text-xs",children:[a.jsx("li",{children:"Progress is automatically calculated from subtasks"}),a.jsx("li",{children:"Only assignee can manually override progress"}),a.jsx("li",{children:"Project leaders can set progress via status changes"})]})]}):a.jsxs("div",{className:"text-sm text-green-600 bg-green-50 p-2 rounded",children:[a.jsx("strong",{children:"✏️ Manual Progress Mode:"}),a.jsx("span",{className:"text-xs",children:" Progress can be updated manually by anyone with edit permission"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"description",children:"Description"}),a.jsx("textarea",{id:"description",value:B.description,onChange:G=>W("description",G.target.value),placeholder:`Enter ${o?"subtask":"task"} description`,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),a.jsx("div",{className:"bg-gray-50 p-3 rounded-md",children:a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx("strong",{children:"Project:"})," ",e.project]})}),C&&a.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:a.jsxs("p",{children:[a.jsx("strong",{children:"Error:"})," ",C.message||`Failed to update ${o?"subtask":"task"}`]})}),a.jsxs(Bn,{className:"flex gap-2",children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:q,children:"Cancel"}),a.jsx(Qe,{type:"submit",disabled:A,children:A?"Updating...":`Update ${o?"SubTask":"Task"}`})]})]})]})}):null},E9=({role:e,currentView:t,setCurrentView:s})=>{const n=On().currentUser==="Administrator";return a.jsx("header",{className:"mb-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{children:a.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Trình Quản Lý Công Việc"})}),(e==="Leader"||n)&&a.jsxs("div",{className:"inline-flex bg-slate-200 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>s("user"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-all ${t==="user"?"bg-white text-slate-900 shadow-sm":"text-slate-600"}`,children:"User"}),e==="Leader"&&a.jsx("button",{onClick:()=>s("leader"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-all ${t==="leader"?"bg-white text-slate-900 shadow-sm":"text-slate-600"}`,children:"Leader"}),n&&a.jsx("button",{onClick:()=>s("admin"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-all ${t==="admin"?"bg-white text-slate-900 shadow-sm":"text-slate-600"}`,children:"Admin"})]})]})})},fb=e=>{switch(e){case"Working":return"text-orange-800 bg-orange-100";case"Open":return"text-sky-800 bg-sky-100";case"Completed":return"text-emerald-800 bg-emerald-100";case"Cancelled":return"text-red-800 bg-red-100";default:return"text-slate-800 bg-slate-100"}},Gk=e=>{switch(e){case"High":return"text-red-800 bg-red-100";case"Medium":return"text-amber-800 bg-amber-100";case"Low":return"text-green-800 bg-green-100";default:return"text-slate-800 bg-slate-100"}},zd=({task:e,onClick:t,formatDate:s,barClass:n="bg-indigo-600",completed:i=!1})=>{var o,c;return a.jsxs("div",{className:`kanban-card bg-white p-4 rounded-lg shadow-sm border border-slate-200 cursor-pointer ${i?"opacity-70":""}`,onClick:t,children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("p",{className:`font-semibold text-slate-900 flex-1 ${i?"line-through":""}`,children:e.title}),a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ml-2 ${e.type==="Task"?"text-blue-800 bg-blue-100":"text-purple-800 bg-purple-100"}`,children:e.type})]}),a.jsx("p",{className:"text-xs text-slate-500 mb-3",children:e.project}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-xs text-slate-600",children:"Tiến độ"}),a.jsx("span",{className:"text-xs text-slate-600 font-medium",children:i?"100%":`${(o=e.taskProgress)!=null?o:0}%`})]}),a.jsx("div",{className:"bg-slate-200 rounded-full h-1.5",children:a.jsx("div",{className:`${i?"bg-emerald-500":n} h-1.5 rounded-full`,style:{width:i?"100%":`${(c=e.taskProgress)!=null?c:0}%`}})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:`priority-badge ${Gk(e.priority)}`,children:e.priority}),a.jsx("span",{className:"text-xs text-slate-500",children:s(e.dueDate).formatted})]})]})},D9=["Open","Working","Overdue","Pending Review","Completed"],A9=["Low","Medium","High","Urgent"],O9=["Task","SubTask"],e2=e=>e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),R9=({isLoading:e,handleRefresh:t,activeTab:s,setActiveTab:n,transformedTasks:i,formatDate:o,handleTaskClick:c})=>{const[d,h]=N.useState(""),[f,p]=N.useState(""),[g,x]=N.useState(""),[b,j]=N.useState(""),[v,_]=N.useState(""),[T,A]=N.useState(!1),[C,S]=N.useState(""),[D,E]=N.useState(""),B=N.useMemo(()=>{const q=new Set;return i.forEach(G=>G.project&&q.add(G.project)),Array.from(q).sort((G,I)=>G.localeCompare(I))},[i]),U=N.useMemo(()=>{const q=e2(d.trim()),G=I=>{if(!I)return!0;const H=new Date(I);if(Number.isNaN(H.getTime()))return!0;if(C){const J=new Date(C);if(H<new Date(J.getFullYear(),J.getMonth(),J.getDate()))return!1}if(D){const J=new Date(D),te=new Date(J.getFullYear(),J.getMonth(),J.getDate(),23,59,59,999);if(H>te)return!1}return!0};return(i||[]).filter(I=>!(q&&!e2(`${I.title||""} ${I.project||""} ${I.status||""} ${I.priority||""}`).includes(q)||f&&I.status!==f||g&&I.priority!==g||b&&I.type!==b||v&&I.project!==v||T&&I.status!=="Overdue"&&!o(I.dueDate).isOverdue||!G(I.dueDate)))},[d,f,g,b,v,T,C,D,i,o]),R=()=>{h(""),p(""),x(""),j(""),_(""),A(!1),S(""),E("")},K=q=>U.filter(G=>G.status===q).length,[W,Z]=N.useState(!1);return a.jsx("div",{className:"space-y-8",children:a.jsxs("section",{children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Việc của tôi"}),a.jsxs("button",{onClick:t,disabled:e,className:"mt-4 sm:mt-0 flex items-center justify-center gap-2 bg-indigo-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-indigo-700 transition-all shadow-sm disabled:opacity-50",children:[e?a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:a.jsx("path",{fill:"currentColor",d:"M12 20q-3.35 0-5.675-2.325T4 12t2.325-5.675T12 4q1.725 0 3.3.712T18 6.75V4h2v7h-7V9h4.2q-.8-1.4-2.187-2.2T12 6Q9.5 6 7.75 7.75T6 12t1.75 4.25T12 18q1.925 0 3.475-1.1T17.65 14h2.1q-.7 2.65-2.85 4.325T12 20"})}),e?"Đang tải...":"Làm mới"]})]}),a.jsx("div",{className:"mt-4 border-b border-slate-200",children:a.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[a.jsx("button",{onClick:()=>n("list"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${s==="list"?"border-indigo-500 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Danh sách"}),a.jsx("button",{onClick:()=>n("kanban"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${s==="kanban"?"border-indigo-500 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Bảng Kanban"}),a.jsx("button",{onClick:()=>n("calendar"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${s==="calendar"?"border-indigo-500 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Lịch"})]})}),a.jsxs("div",{className:"mt-4 bg-white border border-slate-200 p-4 rounded-xl shadow-sm",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3",children:[a.jsxs("div",{className:"relative w-full md:max-w-sm",children:[a.jsx("label",{className:"sr-only",children:"Tìm kiếm"}),a.jsx(mc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx("input",{value:d,onChange:q=>h(q.target.value),placeholder:"Tìm theo tên, dự án, trạng thái...",className:"w-full rounded-lg border border-slate-300 pl-9 pr-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),a.jsxs("div",{className:"flex items-center gap-2 md:ml-auto",children:[a.jsxs("button",{onClick:()=>Z(q=>!q),className:"px-3 py-2 rounded-lg border border-slate-300 text-slate-700 hover:bg-slate-50 inline-flex items-center gap-2",children:[a.jsx(xu,{className:"h-4 w-4"}),"Bộ lọc"]}),a.jsx("button",{onClick:R,className:"px-3 py-2 rounded-lg border border-slate-300 text-slate-700 hover:bg-slate-50",children:"Xóa"})]})]}),W&&a.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-6 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Trạng thái"}),a.jsxs("select",{value:f,onChange:q=>p(q.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"",children:"Tất cả"}),D9.map(q=>a.jsx("option",{value:q,children:q},q))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Ưu tiên"}),a.jsxs("select",{value:g,onChange:q=>x(q.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"",children:"Tất cả"}),A9.map(q=>a.jsx("option",{value:q,children:q},q))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Loại"}),a.jsxs("select",{value:b,onChange:q=>j(q.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"",children:"Tất cả"}),O9.map(q=>a.jsx("option",{value:q,children:q},q))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Dự án"}),a.jsxs("select",{value:v,onChange:q=>_(q.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"",children:"Tất cả"}),B.map(q=>a.jsx("option",{value:q,children:q},q))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Hạn từ"}),a.jsx("input",{type:"date",value:C,onChange:q=>S(q.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Hạn đến"}),a.jsx("input",{type:"date",value:D,onChange:q=>E(q.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2"})]})]})]}),s==="list"&&a.jsx("div",{className:"mt-6 bg-white p-4 rounded-xl shadow-sm border border-slate-200",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"text-xs text-slate-500 uppercase bg-slate-100 rounded-t-lg",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3",children:"Tên công việc"}),a.jsx("th",{scope:"col",className:"px-6 py-3",children:"Loại"}),a.jsx("th",{scope:"col",className:"px-6 py-3",children:"Dự án"}),a.jsx("th",{scope:"col",className:"px-6 py-3",children:"Tiến độ"}),a.jsx("th",{scope:"col",className:"px-6 py-3",children:"Ngày hết hạn"}),a.jsx("th",{scope:"col",className:"px-6 py-3",children:"Ưu tiên"}),a.jsx("th",{scope:"col",className:"px-6 py-3",children:"Trạng thái"})]})}),a.jsx("tbody",{children:U.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-slate-500",children:e?"Đang tải...":"Không có công việc nào"})}):U.map(q=>a.jsxs("tr",{className:"bg-white border-b border-slate-200 hover:bg-slate-50 table-row transition-all cursor-pointer",onClick:()=>c(q),children:[a.jsxs("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-900 whitespace-nowrap",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[q.type==="SubTask"&&a.jsx("svg",{className:"w-4 h-4 text-slate-400",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M7.707 3.293a1 1 0 010 1.414L5.414 7H11a7 7 0 017 7v2a1 1 0 11-2 0v-2a5 5 0 00-5-5H5.414l2.293 2.293a1 1 0 11-1.414 1.414L2.586 7l3.707-3.707a1 1 0 011.414 0z",clipRule:"evenodd"})}),q.title]}),q.parentTask&&a.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["↳ Subtask của: ",q.parentTask]})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${q.type==="Task"?"text-blue-800 bg-blue-100":"text-purple-800 bg-purple-100"}`,children:q.type})}),a.jsx("td",{className:"px-6 py-4",children:q.project}),a.jsx("td",{className:"px-6 py-4",children:q.taskProgress!==void 0?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 bg-slate-200 rounded-full h-2",children:a.jsx("div",{className:"bg-indigo-600 h-2 rounded-full transition-all duration-300",style:{width:`${q.taskProgress}%`}})}),a.jsxs("span",{className:"text-xs text-slate-600 font-medium min-w-[3rem]",children:[q.taskProgress,"%"]})]}):a.jsx("span",{className:"text-xs text-slate-400",children:"N/A"})}),a.jsx("td",{className:`px-6 py-4 ${o(q.dueDate).isOverdue?"text-red-600 font-medium":""}`,children:o(q.dueDate).display}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`priority-badge ${Gk(q.priority)}`,children:q.priority})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`status-badge ${fb(q.status)}`,children:q.status})})]},q.id))})]})})}),s==="kanban"&&a.jsx("div",{className:"mt-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[a.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[a.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-sky-500"}),"Cần làm (",K("Open"),")"]}),a.jsx("div",{className:"space-y-4",children:U.filter(q=>q.status==="Open").map(q=>a.jsx(zd,{task:q,onClick:()=>c(q),formatDate:o},q.id))})]}),a.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[a.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-orange-500"}),"Đang làm (",K("Working"),")"]}),a.jsx("div",{className:"space-y-4",children:U.filter(q=>q.status==="Working").map(q=>a.jsx(zd,{task:q,onClick:()=>c(q),formatDate:o,barClass:"bg-orange-500"},q.id))})]}),a.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[a.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"}),"Trễ (",K("Overdue"),")"]}),a.jsx("div",{className:"space-y-4",children:U.filter(q=>q.status==="Overdue").map(q=>a.jsx(zd,{task:q,onClick:()=>c(q),formatDate:o,barClass:"bg-orange-500"},q.id))})]}),a.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[a.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"}),"Review (",K("Pending Review"),")"]}),a.jsx("div",{className:"space-y-4",children:U.filter(q=>q.status==="Pending Review").map(q=>a.jsx(zd,{task:q,onClick:()=>c(q),formatDate:o,barClass:"bg-orange-500"},q.id))})]}),a.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[a.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500"}),"Hoàn thành (",K("Completed"),")"]}),a.jsx("div",{className:"space-y-4",children:U.filter(q=>q.status==="Completed").map(q=>a.jsx(zd,{task:q,onClick:()=>c(q),formatDate:o,completed:!0},q.id))})]})]})}),s==="calendar"&&a.jsx("div",{className:"mt-6 bg-white p-8 rounded-xl shadow-sm border border-slate-200",children:a.jsx("div",{className:"text-center text-slate-500",children:a.jsx("p",{children:"Giao diện lịch sẽ được phát triển trong tương lai"})})})]})})},M9=({teamDataError:e,teamMembersData:t,selectedMember:s,setSelectedMember:n,formatDate:i,handleTaskClick:o})=>{var q;const c=ZL(),[d,h]=N.useState(""),[f,p]=N.useState(1),[g]=N.useState(5),[x,b]=N.useState(""),[j,v]=N.useState(""),[_,T]=N.useState(""),[A,C]=N.useState(1),[S]=N.useState(10),D=N.useMemo(()=>t.filter(G=>G.name.toLowerCase().includes(d.toLowerCase())||G.id.toLowerCase().includes(d.toLowerCase())),[t,d]),E=N.useMemo(()=>{const G=(f-1)*g;return D.slice(G,G+g)},[D,f,g]),B=Math.ceil(D.length/g),U=N.useMemo(()=>{if(!s)return[];const G=t.find(I=>I.id===s);return G?G.tasks.filter(I=>{const H=I.title.toLowerCase().includes(x.toLowerCase())||I.description.toLowerCase().includes(x.toLowerCase())||I.project.toLowerCase().includes(x.toLowerCase()),J=j===""||I.status===j,te=_===""||I.type===_;return H&&J&&te}):[]},[s,t,x,j,_]),R=N.useMemo(()=>{const G=(A-1)*S;return U.slice(G,G+S)},[U,A,S]),K=Math.ceil(U.length/S);re.useEffect(()=>{C(1)},[x,j,_,s]),re.useEffect(()=>{p(1)},[d]);const W=G=>{p(Math.max(1,Math.min(G,B)))},Z=G=>{C(Math.max(1,Math.min(G,K)))};return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Dashboard Tổng Quan"}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[a.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Tổng công việc"}),a.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-1",children:c.total})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[a.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Đang thực hiện"}),a.jsx("p",{className:"text-3xl font-bold text-orange-500 mt-1",children:c.working})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[a.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Hoàn thành"}),a.jsx("p",{className:"text-3xl font-bold text-emerald-500 mt-1",children:c.completed})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[a.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Trễ hạn"}),a.jsx("p",{className:"text-3xl font-bold text-red-500 mt-1",children:c.overdue})]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Quản lý Nhóm"}),((q=e==null?void 0:e.message)==null?void 0:q.includes("PermissionError"))&&a.jsx("div",{className:"mt-4 bg-amber-50 border border-amber-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-amber-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-amber-800",children:"Quyền truy cập hạn chế"}),a.jsx("div",{className:"mt-2 text-sm text-amber-700",children:a.jsx("p",{children:"Không thể truy cập đầy đủ dữ liệu team members. Hiển thị dữ liệu cơ bản từ danh sách users."})})]})]})}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-4 gap-5 items-start",children:[a.jsxs("div",{className:"lg:col-span-1 bg-white p-4 rounded-xl shadow-sm border border-slate-200",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("h3",{className:"font-bold text-slate-800",children:["Thành viên nhóm (",D.length,")"]})}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"relative",children:[a.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),a.jsx("input",{type:"text",placeholder:"Tìm kiếm thành viên...",value:d,onChange:G=>h(G.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"})]})}),a.jsx("ul",{className:"space-y-2 mb-4",children:E.map(G=>a.jsx("li",{onClick:()=>n(G.id),className:`member-item p-3 border rounded-lg hover:bg-slate-100 cursor-pointer transition-all ${s===G.id?"active border-indigo-500 bg-indigo-50":"border-transparent"}`,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:G.avatar,alt:G.name}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-semibold text-slate-900 truncate",children:G.name}),a.jsxs("p",{className:"text-sm text-slate-500",children:[G.taskCount," công việc"]}),a.jsx("p",{className:"text-xs text-slate-400",children:G.role})]})]})},G.id))}),B>1&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("button",{onClick:()=>W(f-1),disabled:f===1,className:"px-3 py-1 text-sm bg-slate-100 text-slate-700 rounded hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trước"}),a.jsxs("span",{className:"text-xs text-slate-500",children:["Trang ",f," / ",B]}),a.jsx("button",{onClick:()=>W(f+1),disabled:f===B,className:"px-3 py-1 text-sm bg-slate-100 text-slate-700 rounded hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})]}),a.jsx("div",{className:"lg:col-span-3 bg-white p-4 rounded-xl shadow-sm border border-slate-200 min-h-[300px]",children:s?(()=>{const G=t.find(I=>I.id===s);return G?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"font-bold text-slate-800",children:["Công việc của ",G.name]}),a.jsxs("span",{className:"text-sm text-slate-500",children:["(",U.length," công việc)"]})]}),a.jsxs("div",{className:"mb-6 space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),a.jsx("input",{type:"text",placeholder:"Tìm kiếm công việc...",value:x,onChange:I=>b(I.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("select",{value:j,onChange:I=>v(I.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm",children:[a.jsx("option",{value:"",children:"Tất cả trạng thái"}),a.jsx("option",{value:"Open",children:"Mở"}),a.jsx("option",{value:"Working",children:"Đang làm"}),a.jsx("option",{value:"Pending Review",children:"Chờ duyệt"}),a.jsx("option",{value:"Completed",children:"Hoàn thành"}),a.jsx("option",{value:"Cancelled",children:"Đã hủy"})]}),a.jsxs("select",{value:_,onChange:I=>T(I.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm",children:[a.jsx("option",{value:"",children:"Tất cả loại"}),a.jsx("option",{value:"Task",children:"Task"}),a.jsx("option",{value:"SubTask",children:"SubTask"})]}),(x||j||_)&&a.jsx("button",{onClick:()=>{b(""),v(""),T("")},className:"px-3 py-2 text-sm text-slate-600 hover:text-slate-800 underline",children:"Xóa bộ lọc"})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"text-xs text-slate-500 uppercase bg-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2",children:"Tên công việc"}),a.jsx("th",{className:"px-4 py-2",children:"Loại"}),a.jsx("th",{className:"px-4 py-2",children:"Dự án"}),a.jsx("th",{className:"px-4 py-2",children:"Tiến độ"}),a.jsx("th",{className:"px-4 py-2",children:"Hạn chót"}),a.jsx("th",{className:"px-4 py-2",children:"Trạng thái"})]})}),a.jsx("tbody",{children:R.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"text-center py-8 text-slate-500",children:U.length===0&&G.tasks.length>0?"Không tìm thấy công việc phù hợp với bộ lọc.":"Thành viên này chưa có công việc nào."})}):R.map(I=>a.jsxs("tr",{className:"border-b border-slate-200 cursor-pointer hover:bg-slate-50",onClick:()=>o(I),children:[a.jsxs("td",{className:"px-4 py-3 font-medium text-slate-900",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[I.type==="SubTask"&&a.jsx("svg",{className:"w-3 h-3 text-slate-400",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M7.707 3.293a1 1 0 010 1.414L5.414 7H11a7 7 0 017 7v2a1 1 0 11-2 0v-2a5 5 0 00-5-5H5.414l2.293 2.293a1 1 0 11-1.414 1.414L2.586 7l3.707-3.707a1 1 0 011.414 0z",clipRule:"evenodd"})}),a.jsx("span",{className:"truncate",children:I.title})]}),I.parentTask&&a.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["↳ Subtask của: ",I.parentTask]})]}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${I.type==="Task"?"text-blue-800 bg-blue-100":"text-purple-800 bg-purple-100"}`,children:I.type})}),a.jsx("td",{className:"px-4 py-3 truncate",children:I.project}),a.jsx("td",{className:"px-4 py-3",children:I.taskProgress!==void 0?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 bg-slate-200 rounded-full h-1.5 min-w-[60px]",children:a.jsx("div",{className:"bg-indigo-600 h-1.5 rounded-full transition-all duration-300",style:{width:`${I.taskProgress}%`}})}),a.jsxs("span",{className:"text-xs text-slate-600 font-medium min-w-[2.5rem]",children:[I.taskProgress,"%"]})]}):a.jsx("span",{className:"text-xs text-slate-400",children:"N/A"})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:i(I.dueDate).display}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:`status-badge ${fb(I.status)}`,children:I.status})})]},I.id))})]})}),K>1&&a.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-slate-500",children:["Hiển thị ",(A-1)*S+1," - ",Math.min(A*S,U.length)," trong số ",U.length," công việc"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>Z(A-1),disabled:A===1,className:"px-3 py-1 text-sm bg-slate-100 text-slate-700 rounded hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trước"}),a.jsxs("span",{className:"text-sm text-slate-600",children:[A," / ",K]}),a.jsx("button",{onClick:()=>Z(A+1),disabled:A===K,className:"px-3 py-1 text-sm bg-slate-100 text-slate-700 rounded hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})]})]}):a.jsx("div",{className:"flex items-center justify-center h-full text-slate-500",children:a.jsx("p",{children:"Không tìm thấy thành viên."})})})():a.jsx("div",{className:"flex items-center justify-center h-full text-slate-500",children:a.jsxs("div",{className:"text-center",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-slate-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),a.jsx("p",{children:"Chọn một thành viên để xem công việc của họ."})]})})})]})]})]})},P9=({teamDataError:e,teamMembersData:t,selectedMember:s,setSelectedMember:n,formatDate:i,handleTaskClick:o})=>{var jt;const{allTransformedTasks:c,isLoading:d}=Yk({team:""}),{data:h}=Nt("Team",{fields:["name"],limit:0}),f=(h==null?void 0:h.map(Ce=>Ce.name).filter(Boolean))||[],{data:p}=Nt("Project",{fields:["name","project_name","team"],limit:0}),g=N.useMemo(()=>p?p.map(Be=>Be.team).filter(Boolean).filter((Be,Ge,zt)=>zt.indexOf(Be)===Ge):[],[p]),x=Ot("Team",f[0],f[0]?void 0:{disabled:!0}),b=Ot("Team",f[1],f[1]?void 0:{disabled:!0}),j=Ot("Team",f[2],f[2]?void 0:{disabled:!0}),v=Ot("Team",f[3],f[3]?void 0:{disabled:!0}),_=Ot("Team",f[4],f[4]?void 0:{disabled:!0}),T=Ot("Team",f[5],f[5]?void 0:{disabled:!0}),A=Ot("Team",f[6],f[6]?void 0:{disabled:!0}),C=Ot("Team",f[7],f[7]?void 0:{disabled:!0}),S=Ot("Team",f[8],f[8]?void 0:{disabled:!0}),D=Ot("Team",f[9],f[9]?void 0:{disabled:!0}),E=Ot("Team",f[10],f[10]?void 0:{disabled:!0}),B=Ot("Team",f[11],f[11]?void 0:{disabled:!0}),U=Ot("Team",f[12],f[12]?void 0:{disabled:!0}),R=Ot("Team",f[13],f[13]?void 0:{disabled:!0}),K=Ot("Team",f[14],f[14]?void 0:{disabled:!0}),W=Ot("Team",f[15],f[15]?void 0:{disabled:!0}),Z=Ot("Team",f[16],f[16]?void 0:{disabled:!0}),q=Ot("Team",f[17],f[17]?void 0:{disabled:!0}),G=Ot("Team",f[18],f[18]?void 0:{disabled:!0}),I=Ot("Team",f[19],f[19]?void 0:{disabled:!0}),H=N.useMemo(()=>{const Ce=[];return x.data&&Ce.push(x.data),b.data&&Ce.push(b.data),j.data&&Ce.push(j.data),v.data&&Ce.push(v.data),_.data&&Ce.push(_.data),T.data&&Ce.push(T.data),A.data&&Ce.push(A.data),C.data&&Ce.push(C.data),S.data&&Ce.push(S.data),D.data&&Ce.push(D.data),E.data&&Ce.push(E.data),B.data&&Ce.push(B.data),U.data&&Ce.push(U.data),R.data&&Ce.push(R.data),K.data&&Ce.push(K.data),W.data&&Ce.push(W.data),Z.data&&Ce.push(Z.data),q.data&&Ce.push(q.data),G.data&&Ce.push(G.data),I.data&&Ce.push(I.data),Ce},[x.data,b.data,j.data,v.data,_.data,T.data,A.data,C.data,S.data,D.data,E.data,B.data,U.data,R.data,K.data,W.data,Z.data,q.data,G.data,I.data]),J=N.useMemo(()=>{const Ce={},Be=[];return H==null||H.forEach(Ge=>{var zt;if(Ce[Ge.team||Ge.name]=[],Ge.teamlead){const Gt=t.find(Xt=>Xt.id===Ge.teamlead);Gt&&!Ce[Ge.team||Ge.name].find(Xt=>Xt.id===Gt.id)&&Ce[Ge.team||Ge.name].push(le(F({},Gt),{role:"Leader"}))}(zt=Ge.team_member)==null||zt.forEach(Gt=>{const Xt=t.find(os=>os.id===Gt.user);Xt&&!Ce[Ge.team||Ge.name].find(os=>os.id===Xt.id)&&Ce[Ge.team||Ge.name].push(le(F({},Xt),{role:Gt.role||"Member"}))})}),t.forEach(Ge=>{Object.values(Ce).some(Gt=>Gt.find(Xt=>Xt.id===Ge.id))||Be.push(Ge)}),Be.length>0&&(Ce["Không thuộc team nào"]=Be),Ce},[H,t]),[te,de]=N.useState(""),[P,ie]=N.useState(null),[ne,$]=N.useState(null),[ee,xe]=N.useState({}),he=Ce=>{xe(Be=>le(F({},Be),{[Ce]:!Be[Ce]}))},ke=()=>{const Ce=Object.values(ee).every(Boolean),Be={};Object.keys(J).forEach(Ge=>{Be[Ge]=!Ce}),xe(Be)},Ae=Ce=>{n(Ce),ie(null),$(null)},[Ve,ze]=N.useState(""),[M,_e]=N.useState(""),[He,Ue]=N.useState(""),[mt,tt]=N.useState(1),[Le]=N.useState(10),nt=N.useMemo(()=>{const Ce={};return Object.entries(J).forEach(([Be,Ge])=>{const zt=Ge.filter(Gt=>Gt.name.toLowerCase().includes(te.toLowerCase())||Gt.id.toLowerCase().includes(te.toLowerCase()));zt.length>0&&(Ce[Be]=zt)}),Ce},[J,te]),lt=N.useMemo(()=>s?c.filter(Ce=>Ce.assignee===s):[],[s,c]),Q=N.useMemo(()=>{if(!P||s)return[];const Be=(J[P]||[]).map(Ge=>Ge.id);return c.filter(Ge=>Be.includes(Ge.assignee))},[P,s,c,J]),me=N.useMemo(()=>!ne||s||P?[]:c.filter(Ce=>{const Be=p==null?void 0:p.find(Ge=>Ge.name===Ce.project||Ge.project_name===Ce.project);return Be&&Be.team===ne}),[ne,s,P,c,p]),X=N.useMemo(()=>{let Ce=c;s?Ce=lt:P?Ce=Q:ne&&(Ce=me);const Be=Ce.length,Ge=Ce.filter(Xt=>{var os;return((os=Xt.status)==null?void 0:os.toLowerCase())==="working"}).length,zt=Ce.filter(Xt=>{var os;return((os=Xt.status)==null?void 0:os.toLowerCase())==="completed"}).length,Gt=Ce.filter(Xt=>{var rn;if(((rn=Xt.status)==null?void 0:rn.toLowerCase())==="completed")return!1;const os=new Date;return new Date(Xt.dueDate)<os}).length;return{total:Be,working:Ge,completed:zt,overdue:Gt}},[s,lt,P,Q,ne,me,c]),Se=N.useMemo(()=>{let Ce=lt;return Ve&&(Ce=Ce.filter(Be=>{var Ge,zt,Gt;return((Ge=Be.title)==null?void 0:Ge.toLowerCase().includes(Ve.toLowerCase()))||((zt=Be.subject)==null?void 0:zt.toLowerCase().includes(Ve.toLowerCase()))||((Gt=Be.description)==null?void 0:Gt.toLowerCase().includes(Ve.toLowerCase()))})),M&&(Ce=Ce.filter(Be=>Be.status===M)),He&&(Ce=Ce.filter(Be=>Be.type===He||Be.referenceType===He)),Ce},[lt,Ve,M,He]),Fe=N.useMemo(()=>{const Ce=(mt-1)*Le;return Se.slice(Ce,Ce+Le)},[Se,mt,Le]),Pe=Math.ceil(Se.length/Le),We=Ce=>{tt(Math.max(1,Math.min(Ce,Pe)))};re.useEffect(()=>{tt(1)},[s]),re.useEffect(()=>{s&&(ie(null),$(null))},[s]),re.useEffect(()=>{ne&&(n(null),ie(null))},[ne]),re.useEffect(()=>{if(Object.keys(J).length>0&&Object.keys(ee).length===0){const Ce={};Object.keys(J).forEach(Be=>{Ce[Be]=!0}),xe(Ce)}},[J,ee]);const Ke=N.useMemo(()=>[...new Set(lt.map(Ce=>Ce.status).filter(Boolean))],[lt]),st=N.useMemo(()=>[...new Set(lt.map(Ce=>Ce.type||Ce.referenceType).filter(Boolean))],[lt]);return e?a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),"Lỗi khi tải dữ liệu nhóm: ",e.message]})}):a.jsxs("div",{className:"admin-view",children:[a.jsxs("section",{className:"mb-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:s?`Thống kê công việc - ${((jt=t.find(Ce=>Ce.id===s))==null?void 0:jt.name)||s}`:P?`Thống kê công việc - Team ${P}`:ne?`Thống kê công việc - Project Team ${ne}`:"Dashboard Tổng Quan - Toàn hệ thống"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Lọc theo Project Team:"}),a.jsxs("select",{value:ne||"",onChange:Ce=>{const Be=Ce.target.value||null;$(Be),Be&&(n(null),ie(null))},className:"px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm min-w-[200px]",children:[a.jsx("option",{value:"",children:"Tất cả Project Teams"}),g.map(Ce=>a.jsx("option",{value:Ce,children:Ce},Ce))]}),ne&&a.jsx("button",{onClick:()=>$(null),className:"px-2 py-1 text-xs bg-slate-100 text-slate-600 rounded hover:bg-slate-200 transition-colors",title:"Xóa bộ lọc",children:"✕"})]})]}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[a.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Tổng công việc"}),a.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-1",children:X.total})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[a.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Đang thực hiện"}),a.jsx("p",{className:"text-3xl font-bold text-orange-500 mt-1",children:X.working})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[a.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Hoàn thành"}),a.jsx("p",{className:"text-3xl font-bold text-emerald-500 mt-1",children:X.completed})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[a.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Trễ hạn"}),a.jsx("p",{className:"text-3xl font-bold text-red-500 mt-1",children:X.overdue})]})]})]}),a.jsx("section",{children:a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200",children:[a.jsx("div",{className:"p-6 border-b border-slate-200",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"📋 Quản lý toàn bộ công việc (Admin)"}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Xem và quản lý công việc của tất cả thành viên trong hệ thống"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("span",{className:"text-slate-500",children:"Tổng số thành viên:"}),a.jsx("span",{className:"font-semibold text-slate-700",children:t.length})]})]})}),a.jsxs("div",{className:"flex flex-col lg:flex-row h-[600px]",children:[a.jsxs("div",{className:"lg:w-1/3 border-r border-slate-200 p-4",children:[a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"flex gap-2 mb-3",children:[a.jsx("input",{type:"text",placeholder:"🔍 Tìm kiếm thành viên...",value:te,onChange:Ce=>{de(Ce.target.value)},className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),a.jsx("button",{onClick:ke,className:"px-3 py-2 text-xs bg-slate-100 text-slate-700 border border-slate-300 rounded-lg hover:bg-slate-200 transition-colors whitespace-nowrap",children:Object.values(ee).every(Boolean)?"📁 Thu gọn":"📂 Mở rộng"})]})}),a.jsx("div",{className:"space-y-4 mb-4 h-[400px] overflow-y-auto",children:d?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):Object.keys(nt).length===0?a.jsxs("div",{className:"text-center py-8 text-slate-500",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-slate-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),a.jsx("p",{children:"Không tìm thấy thành viên nào."})]}):Object.entries(nt).map(([Ce,Be])=>a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:`flex items-center mb-2 px-2 py-2 rounded-lg cursor-pointer transition-colors ${P===Ce&&!s?"bg-blue-100 border border-blue-300 hover:bg-blue-200":"bg-slate-100 hover:bg-slate-200"}`,onClick:()=>he(Ce),children:a.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[a.jsx("svg",{className:`w-4 h-4 text-slate-600 transition-transform ${ee[Ce]?"rotate-90":"rotate-0"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-sm font-semibold text-slate-700 uppercase tracking-wide",children:Ce}),a.jsxs("p",{className:"text-xs text-slate-500",children:[Be.length," thành viên"]})]}),a.jsx("button",{onClick:Ge=>{Ge.stopPropagation(),ie(Ce),n(null)},className:`p-1.5 rounded-md transition-colors hover:bg-blue-200 ${P===Ce&&!s?"bg-blue-200 text-blue-700":"text-slate-500 hover:text-blue-600"}`,title:"Xem thống kê team",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})}),ee[Ce]&&a.jsx("div",{className:"space-y-2 ml-6 animate-in slide-in-from-top-2 duration-200",children:Be.map(Ge=>a.jsx("div",{onClick:()=>Ae(Ge.id),className:`p-3 rounded-lg border cursor-pointer transition-all ${s===Ge.id?"border-blue-500 bg-blue-50 shadow-sm":"border-slate-200 hover:border-slate-300 hover:bg-slate-50"}`,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm font-medium",children:Ge.name.charAt(0).toUpperCase()}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h4",{className:"font-medium text-slate-800 truncate text-sm",children:Ge.name}),Ge.role==="Leader"&&a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Leader"})]}),a.jsx("p",{className:"text-xs text-slate-500 truncate",children:Ge.id})]}),s===Ge.id&&a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})},Ge.id))})]},Ce))})]}),a.jsx("div",{className:"lg:w-2/3 p-4 flex flex-col",children:s?(()=>{const Ce=t.find(Be=>Be.id===s);return a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-medium",children:Ce==null?void 0:Ce.name.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-800",children:Ce==null?void 0:Ce.name}),a.jsxs("p",{className:"text-sm text-slate-500",children:["Công việc được giao: ",lt.length]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:[a.jsx("input",{type:"text",placeholder:"🔍 Tìm kiếm công việc...",value:Ve,onChange:Be=>{ze(Be.target.value),tt(1)},className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),a.jsxs("select",{value:M,onChange:Be=>{_e(Be.target.value),tt(1)},className:"px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[a.jsx("option",{value:"",children:"Tất cả trạng thái"}),Ke.map(Be=>a.jsx("option",{value:Be,children:Be},Be))]}),a.jsxs("select",{value:He,onChange:Be=>{Ue(Be.target.value),tt(1)},className:"px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[a.jsx("option",{value:"",children:"Tất cả loại"}),st.map(Be=>a.jsx("option",{value:Be,children:Be},Be))]})]})]}),a.jsx("div",{className:"flex-1 overflow-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 sticky top-0",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Công việc"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Dự án"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Loại"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Hạn chót"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Trạng thái"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:d?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-4 py-8 text-center",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-2 text-slate-500",children:"Đang tải..."})]})})}):Fe.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-slate-500",children:Se.length===0&&lt.length===0?"Thành viên này chưa có công việc nào.":"Không tìm thấy công việc phù hợp với bộ lọc."})}):Fe.map(Be=>a.jsxs("tr",{onClick:()=>o(Be),className:"hover:bg-slate-50 cursor-pointer transition-colors",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"max-w-xs",children:[a.jsx("div",{className:"font-medium text-slate-900 truncate text-sm",children:Be.title||Be.subject}),Be.description&&a.jsx("div",{className:"text-slate-500 text-xs truncate mt-1",children:Be.description})]})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:"text-sm text-slate-600 truncate block max-w-[100px]",children:Be.project||Be.project_name||"N/A"})}),a.jsx("td",{className:"px-4 py-3",children:Be.type==="SubTask"||Be.referenceType==="SubTask"?a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"SubTask"}):a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Task"})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:i(Be.dueDate).display}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:`status-badge ${fb(Be.status)}`,children:Be.status})})]},Be.id))})]})}),Pe>1&&a.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-slate-500",children:["Hiển thị ",(mt-1)*Le+1," - ",Math.min(mt*Le,Se.length)," trong số ",Se.length," công việc"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>We(mt-1),disabled:mt===1,className:"px-3 py-1 text-sm bg-slate-100 text-slate-700 rounded hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trước"}),a.jsxs("span",{className:"text-sm text-slate-600",children:[mt," / ",Pe]}),a.jsx("button",{onClick:()=>We(mt+1),disabled:mt===Pe,className:"px-3 py-1 text-sm bg-slate-100 text-slate-700 rounded hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})]})]})})():a.jsx("div",{className:"flex items-center justify-center h-full text-slate-500",children:a.jsxs("div",{className:"text-center",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-slate-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),a.jsx("p",{children:"Chọn một thành viên để xem công việc của họ."})]})})})]})]})})]})},L9=({error:e})=>a.jsx(a.Fragment,{children:e&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:a.jsx("div",{className:"flex",children:a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading tasks"}),a.jsx("div",{className:"mt-2 text-sm text-red-700",children:a.jsx("p",{children:e.message||"Failed to load your tasks. Please try again."})})]})})})}),B9=()=>{const[e,t]=re.useState("user"),[s,n]=re.useState("list"),[i,o]=re.useState(null),c=On().currentUser==="Administrator",[d,h]=re.useState(!1),[f,p]=re.useState(null),{tasks:g,subTasks:x,isLoading:b,error:j,mutate:v,currentUser:_}=KL(),{data:T}=Nt("Team",{filters:[["teamlead","=",_||""]]}),A=T&&T.length>0?"Leader":"Member";re.useEffect(()=>{c?t("admin"):A==="Leader"&&t("leader")},[A,c]);const C=re.useMemo(()=>{const q=[];return g.forEach(G=>{var I;q.push({id:G.name,title:G.subject||"Untitled Task",description:G.description||"No description available",project:G.project_name||G.project||"Unknown Project",assignee:_||"Unknown",status:G.status||"Open",priority:G.priority||"Medium",dueDate:G.exp_end_date||new Date().toISOString().split("T")[0],labels:[G.type||"Task"],todoId:((I=G.assignedTodo)==null?void 0:I.name)||"",referenceName:G.name,referenceType:"Task",type:"Task",taskProgress:G.progress,expectedTime:G.expected_time,actualTime:G.actual_time,startDate:G.exp_start_date,endDate:G.exp_end_date})}),x.forEach(G=>{var I;q.push({id:G.name,title:G.subject||"Untitled SubTask",description:G.description||"No description available",project:G.project_name||"Unknown Project",assignee:_||"Unknown",status:G.status||"Open",priority:"Medium",dueDate:G.end_date||new Date().toISOString().split("T")[0],labels:["SubTask"],todoId:((I=G.assignedTodo)==null?void 0:I.name)||"",referenceName:G.name,referenceType:"SubTask",type:"SubTask",parentTask:G.task_subject,startDate:G.start_date,endDate:G.end_date})}),q.sort((G,I)=>new Date(I.dueDate).getTime()-new Date(G.dueDate).getTime())},[g,x,_]),{teamMembersData:S,error:D}=Yk({team:T&&T.length>0?T[0].name:""}),{data:E}=Nt("User",{fields:["name","full_name","first_name","last_name"],filters:[["enabled","=",1]],limit:0}),B=re.useMemo(()=>!c||!E?S:E.map(q=>({id:q.name,name:q.full_name||q.first_name||q.name,role:"Member",taskCount:0,avatar:"",tasks:[],user:q})),[c,E,S]),U=q=>{const G=new Date(q),H=G<new Date,J=G.toLocaleDateString("vi-VN");return{formatted:J,isOverdue:H,display:H?`${J} (Trễ)`:J}},R=()=>{v()},K=q=>{p(q),h(!0)},W=()=>{h(!1),p(null)},Z=()=>{v()};return a.jsxs("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-slate-50 text-slate-800",children:[a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx(E9,{role:A,currentView:e,setCurrentView:t}),a.jsx(L9,{error:j}),a.jsxs("main",{children:[e==="user"&&a.jsx(R9,{isLoading:b,handleRefresh:R,activeTab:s,setActiveTab:n,transformedTasks:C,formatDate:U,handleTaskClick:K}),e==="leader"&&A==="Leader"&&a.jsx(M9,{teamDataError:D,teamMembersData:S,selectedMember:i,setSelectedMember:o,formatDate:U,handleTaskClick:K}),e==="admin"&&c&&a.jsx(P9,{teamDataError:D,teamMembersData:B,selectedMember:i,setSelectedMember:o,formatDate:U,handleTaskClick:K})]})]}),a.jsx(k9,{task:f,isOpen:d,onClose:W,onSuccess:Z,isLeader:A==="Leader"})]})},Cs=[{id:"CT-RD-F001",name:"Biểu mẫu Nộp ý tưởng",fileName:"01_Biểu mẫu Nộp ý tưởng -CT-RD-F001.docx",category:"GIAI ĐOẠN 1: HÌNH THÀNH Ý TƯỞNG VÀ PHÁT TRIỂN KHÁI NIỆM",status:"approved",fileType:"docx",size:"245 KB",uploadDate:"2024-03-15",uploader:"Nguyễn Văn A",link:"https://ctgroupvietnam.sharepoint.com/:w:/r/sites/CTTV-CTUAV-CTUAV-UAVLAB/_layouts/15/Doc.aspx?sourcedoc=%7B586A401B-5252-4DC9-8909-D9100B60791C%7D&file=01_Bi%E1%BB%83u%20m%E1%BA%ABu%20N%E1%BB%99p%20%C3%BD%20t%C6%B0%E1%BB%9Fng.docx&action=default&mobileredirect=true",hasFile:!0},{id:"CT-RD-F002",name:"Biểu mẫu Ma trận đánh giá ý tưởng",fileName:"02_Biểu mẫu Ma trận đánh giá ý tưởng -CT-RD-F002.docx",category:"GIAI ĐOẠN 1: HÌNH THÀNH Ý TƯỞNG VÀ PHÁT TRIỂN KHÁI NIỆM",status:"pending",fileType:"docx",size:"189 KB",uploadDate:"2024-03-16",uploader:"Trần Thị B",link:"https://ctgroupvietnam.sharepoint.com/:w:/r/sites/CTTV-CTUAV-CTUAV-UAVLAB/_layouts/15/Doc.aspx?sourcedoc=%7B875BEDBE-0BF8-4499-9C84-404FEFAA1FE0%7D&file=02_Bi%E1%BB%83u%20m%E1%BA%ABu%20Ma%20tr%E1%BA%ADn%20%C4%91%C3%A1nh%20gi%C3%A1%20%C3%BD%20t%C6%B0%E1%BB%9Fng%20-CT-RD-F002.docx&action=default&mobileredirect=true",hasFile:!0},{id:"CT-RD-F003",name:"Biểu mẫu Đề xuất khái niệm",fileName:"03_Biểu mẫu Đề xuất khái niệm -CT-RD-F003.docx",category:"GIAI ĐOẠN 1: HÌNH THÀNH Ý TƯỞNG VÀ PHÁT TRIỂN KHÁI NIỆM",status:"draft",fileType:"docx",size:"298 KB",uploadDate:"2024-03-17",uploader:"Lê Văn C",link:"https://ctgroupvietnam.sharepoint.com/:w:/r/sites/CTTV-CTUAV-CTUAV-UAVLAB/_layouts/15/Doc.aspx?sourcedoc=%7B70EB7086-DACE-4788-9444-5DF02348BCE5%7D&file=03_Bi%E1%BB%83u%20m%E1%BA%ABu%20%C4%90%E1%BB%81%20xu%E1%BA%A5t%20kh%C3%A1i%20ni%E1%BB%87m%20-CT-RD-F003.docx&action=default&mobileredirect=true",hasFile:!0},{id:"CT-RD-F004",name:"Biểu mẫu Báo cáo phân tích thị trường",fileName:"04_Biểu mẫu Báo cáo phân tích thị trường -CT-RD-F004.docx",category:"GIAI ĐOẠN 1: HÌNH THÀNH Ý TƯỞNG VÀ PHÁT TRIỂN KHÁI NIỆM",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"https://ctgroupvietnam.sharepoint.com/:w:/r/sites/CTTV-CTUAV-CTUAV-UAVLAB/_layouts/15/Doc.aspx?sourcedoc=%7BBDAA8503-E279-4041-86BD-9E63557BAE3C%7D&file=04_Bi%E1%BB%83u%20m%E1%BA%ABu%20B%C3%A1o%20c%C3%A1o%20ph%C3%A2n%20t%C3%ADch%20th%E1%BB%8B%20tr%C6%B0%E1%BB%9Dng%20-CT-RD-F004.docx&action=default&mobileredirect=true",hasFile:!1},{id:"CT-RD-F005",name:"Biểu mẫu Báo cáo IP sơ bộ",fileName:"05_Biểu mẫu Báo cáo IP sơ bộ -CT-RD-F005.docx",category:"GIAI ĐOẠN 1: HÌNH THÀNH Ý TƯỞNG VÀ PHÁT TRIỂN KHÁI NIỆM",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"https://ctgroupvietnam.sharepoint.com/:w:/r/sites/CTTV-CTUAV-CTUAV-UAVLAB/_layouts/15/Doc.aspx?sourcedoc=%7B8198D875-CD5F-4591-AB56-6EB7A04CAB88%7D&file=05_Bi%E1%BB%83u%20m%E1%BA%ABu%20B%C3%A1o%20c%C3%A1o%20IP%20s%C6%A1%20b%E1%BB%99-CT-RD-F005.docx&action=default&mobileredirect=true",hasFile:!1},{id:"CT-RD-F006",name:"Biểu mẫu Biên bản họp Công 1",fileName:"06_Biểu mẫu Biên bản họp Công 1 -CT-RD-F006.docx",category:"GIAI ĐOẠN 1: HÌNH THÀNH Ý TƯỞNG VÀ PHÁT TRIỂN KHÁI NIỆM",status:"approved",fileType:"docx",size:"178 KB",uploadDate:"2024-03-18",uploader:"Phạm Thị D",link:"https://ctgroupvietnam.sharepoint.com/:w:/r/sites/CTTV-CTUAV-CTUAV-UAVLAB/_layouts/15/Doc.aspx?sourcedoc=%7BC2C9B73E-D6F0-4F43-8348-BB1952BE29CC%7D&file=06_Bi%E1%BB%83u%20m%E1%BA%ABu%20Bi%C3%AAn%20b%E1%BA%A3n%20h%E1%BB%8Dp%20C%E1%BB%95ng%201-CT-RD-F006.docx&action=default&mobileredirect=true",hasFile:!0},{id:"CT-RD-F007",name:"Biểu mẫu Báo cáo xem xét tài liệu",fileName:"07_Biểu mẫu Báo cáo xem xét tài liệu-CT-RD-F007.docx",category:"GIAI ĐOẠN 2: NGHIÊN CỨU TÍNH KHẢ THI KỸ THUẬT",status:"pending",fileType:"docx",size:"156 KB",uploadDate:"2024-03-19",uploader:"Hoàng Văn E",link:"#",hasFile:!0},{id:"CT-RD-F008",name:"Biểu mẫu Tài liệu thiết kế sơ bộ",fileName:"08_Biểu mẫu Tài liệu thiết kế sơ bộ -CT-RD-F008.docx",category:"GIAI ĐOẠN 2: NGHIÊN CỨU TÍNH KHẢ THI KỸ THUẬT",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F009",name:"Biểu mẫu Báo cáo thử nghiệm PoC",fileName:"09_Biểu mẫu Báo cáo thử nghiệm PoC -CT-RD-F009.docx",category:"GIAI ĐOẠN 2: NGHIÊN CỨU TÍNH KHẢ THI KỸ THUẬT",status:"draft",fileType:"docx",size:"234 KB",uploadDate:"2024-03-20",uploader:"Võ Thị F",link:"#",hasFile:!0},{id:"CT-RD-F010",name:"Biểu mẫu Ma trận đánh giá rủi ro",fileName:"10_Biểu mẫu Ma trận đánh giá rủi ro -CT-RD-F010.docx",category:"GIAI ĐOẠN 2: NGHIÊN CỨU TÍNH KHẢ THI KỸ THUẬT",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F011",name:"Biểu mẫu Kế hoạch tài nguyên",fileName:"11_Biểu mẫu Kế hoạch tài nguyên -CT-RD-F011.docx",category:"GIAI ĐOẠN 2: NGHIÊN CỨU TÍNH KHẢ THI KỸ THUẬT",status:"approved",fileType:"docx",size:"192 KB",uploadDate:"2024-03-21",uploader:"Đặng Văn G",link:"#",hasFile:!0},{id:"CT-RD-F012",name:"Biểu mẫu Biên bản họp Công 2",fileName:"12_Biểu mẫu Biên bản họp Công 2 -CT-RD-F012.docx",category:"GIAI ĐOẠN 2: NGHIÊN CỨU TÍNH KHẢ THI KỸ THUẬT",status:"pending",fileType:"docx",size:"168 KB",uploadDate:"2024-03-22",uploader:"Bùi Thị H",link:"#",hasFile:!0},{id:"CT-RD-F013",name:"Biểu mẫu Báo cáo tìm kiếm Prior Art",fileName:"13_Biểu mẫu Báo cáo tìm kiếm Prior Art-CT-RD-F013.docx",category:"GIAI ĐOẠN 3: PHÂN TÍCH BẢN ĐỒ SỞ HỮU TRÍ TUỆ",status:"draft",fileType:"docx",size:"210 KB",uploadDate:"2024-03-23",uploader:"Lý Văn I",link:"#",hasFile:!0},{id:"CT-RD-F014",name:"Biểu mẫu Báo cáo phân tích FTO",fileName:"14_Biểu mẫu Báo cáo phân tích FTO -CT-RD-F014.docx",category:"GIAI ĐOẠN 3: PHÂN TÍCH BẢN ĐỒ SỞ HỮU TRÍ TUỆ",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F015",name:"Biểu mẫu Báo cáo thông tin cảnh tranh IP",fileName:"15_Biểu mẫu Báo cáo thông tin cảnh tranh IP -CT-RD-F015.docx",category:"GIAI ĐOẠN 3: PHÂN TÍCH BẢN ĐỒ SỞ HỮU TRÍ TUỆ",status:"approved",fileType:"docx",size:"267 KB",uploadDate:"2024-03-24",uploader:"Ngô Thị J",link:"#",hasFile:!0},{id:"CT-RD-F016",name:"Biểu mẫu Kế hoạch chiến lược IP",fileName:"16_Biểu mẫu Kế hoạch chiến lược IP -CT-RD-F016.docx",category:"GIAI ĐOẠN 3: PHÂN TÍCH BẢN ĐỒ SỞ HỮU TRÍ TUỆ",status:"pending",fileType:"docx",size:"189 KB",uploadDate:"2024-03-25",uploader:"Phan Văn K",link:"#",hasFile:!0},{id:"CT-RD-F017",name:"Biểu mẫu Biên bản họp Công 3",fileName:"17_Biểu mẫu Biên bản họp Công 3 -CT-RD-F017.docx",category:"GIAI ĐOẠN 3: PHÂN TÍCH BẢN ĐỒ SỞ HỮU TRÍ TUỆ",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F018",name:"Biểu mẫu Bản vẽ thiết kế chi tiết",fileName:"18_Biểu mẫu Bản vẽ thiết kế chi tiết-CT-RD-F018.docx",category:"GIAI ĐOẠN 4: THIẾT KẾ VÀ PHÁT TRIỂN CHI TIẾT",status:"approved",fileType:"docx",size:"312 KB",uploadDate:"2024-04-01",uploader:"Nguyễn Thị L",link:"#",hasFile:!0},{id:"CT-RD-F019",name:"Biểu mẫu Báo cáo phân tích nguyên mẫu",fileName:"19_Biểu mẫu Báo cáo phân tích nguyên mẫu-CT-RD-F019.docx",category:"GIAI ĐOẠN 4: THIẾT KẾ VÀ PHÁT TRIỂN CHI TIẾT",status:"pending",fileType:"docx",size:"278 KB",uploadDate:"2024-04-02",uploader:"Trần Văn M",link:"#",hasFile:!0},{id:"CT-RD-F020",name:"Biểu mẫu kế hoạch kiểm soát chất lượng",fileName:"20_Biểu mẫu kế hoạch kiểm soát chất lượng-CT-RD-F020.docx",category:"GIAI ĐOẠN 4: THIẾT KẾ VÀ PHÁT TRIỂN CHI TIẾT",status:"draft",fileType:"docx",size:"195 KB",uploadDate:"2024-04-03",uploader:"Lê Thị N",link:"#",hasFile:!0},{id:"CT-RD-F021",name:"Biểu mẫu Báo cáo tiến độ dự án",fileName:"21_Biểu mẫu Báo cáo tiến độ dự án-CT-RD-F021.docx",category:"GIAI ĐOẠN 4: THIẾT KẾ VÀ PHÁT TRIỂN CHI TIẾT",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F022",name:"Biểu mẫu Biên bản họp Cổng 4",fileName:"22_Biểu mẫu Biên bản họp Cổng 4-CT-RD-F022.docx",category:"GIAI ĐOẠN 4: THIẾT KẾ VÀ PHÁT TRIỂN CHI TIẾT",status:"approved",fileType:"docx",size:"167 KB",uploadDate:"2024-04-04",uploader:"Phạm Văn O",link:"#",hasFile:!0},{id:"CT-RD-F023",name:"Biểu mẫu kế hoạch kiểm thử tổng thể",fileName:"23_Biểu mẫu kế hoạch kiểm thử tổng thể-CT-RD-F023.docx",category:"GIAI ĐOẠN 5: KIỂM THỬ VÀ XÁC THỰC",status:"pending",fileType:"docx",size:"245 KB",uploadDate:"2024-04-05",uploader:"Võ Thị P",link:"#",hasFile:!0},{id:"CT-RD-F024",name:"Biểu mẫu Báo cáo kiểm thử chức năng",fileName:"24_Biểu mẫu Báo cáo kiểm thử chức năng-CT-RD-F024.docx",category:"GIAI ĐOẠN 5: KIỂM THỬ VÀ XÁC THỰC",status:"draft",fileType:"docx",size:"189 KB",uploadDate:"2024-04-06",uploader:"Đặng Văn Q",link:"#",hasFile:!0},{id:"CT-RD-F025",name:"Biểu mẫu Báo cáo kiểm thử hiệu suất",fileName:"25_Biểu mẫu Báo cáo kiểm thử hiệu suất-CT-RD-F025.docx",category:"GIAI ĐOẠN 5: KIỂM THỬ VÀ XÁC THỰC",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F026",name:"Biểu mẫu Báo cáo kiểm thử an toàn",fileName:"26_Biểu mẫu Báo cáo kiểm thử an toàn-CT-RD-F026.docx",category:"GIAI ĐOẠN 5: KIỂM THỬ VÀ XÁC THỰC",status:"approved",fileType:"docx",size:"223 KB",uploadDate:"2024-04-07",uploader:"Bùi Thị R",link:"#",hasFile:!0},{id:"CT-RD-F027",name:"Biểu mẫu Báo cáo xác thực khách hàng",fileName:"27_Biểu mẫu Báo cáo xác thực khách hàng-CT-RD-F027.docx",category:"GIAI ĐOẠN 5: KIỂM THỬ VÀ XÁC THỰC",status:"pending",fileType:"docx",size:"156 KB",uploadDate:"2024-04-08",uploader:"Lý Văn S",link:"#",hasFile:!0},{id:"CT-RD-F028",name:"Biểu mẫu Biên bản họp Cổng 5",fileName:"28_Biểu mẫu Biên bản họp Cổng 5-CT-RD-F028.docx",category:"GIAI ĐOẠN 5: KIỂM THỬ VÀ XÁC THỰC",status:"draft",fileType:"docx",size:"172 KB",uploadDate:"2024-04-09",uploader:"Ngô Thị T",link:"#",hasFile:!0},{id:"CT-RD-F029",name:"Biểu mẫu Đơn bằng sáng chế",fileName:"29_Biểu mẫu Đơn bằng sáng chế-CT-RD-F029.docx",category:"GIAI ĐOẠN 6: HOÀN THIỆN SỞ HỮU TRÍ TUỆ",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F030",name:"Kế hoạch bảo vệ Trade Secret",fileName:"30_Kế hoạch bảo vệ Trade Secret-CT-RD-F030.docx",category:"GIAI ĐOẠN 6: HOÀN THIỆN SỞ HỮU TRÍ TUỆ",status:"approved",fileType:"docx",size:"198 KB",uploadDate:"2024-04-10",uploader:"Phan Văn U",link:"#",hasFile:!0},{id:"CT-RD-F031",name:"Biểu mẫu Ma trận rủi ro IP",fileName:"31_Biểu mẫu Ma trận rủi ro IP-CT-RD-F031.docx",category:"GIAI ĐOẠN 6: HOÀN THIỆN SỞ HỮU TRÍ TUỆ",status:"pending",fileType:"docx",size:"234 KB",uploadDate:"2024-04-11",uploader:"Hoàng Thị V",link:"#",hasFile:!0},{id:"CT-RD-F032",name:"Biểu mẫu Biên bản họp Cổng 6",fileName:"32_Biểu mẫu Biên bản họp Cổng 6-CT-RD-F032.docx",category:"GIAI ĐOẠN 6: HOÀN THIỆN SỞ HỮU TRÍ TUỆ",status:"draft",fileType:"docx",size:"165 KB",uploadDate:"2024-04-12",uploader:"Đinh Văn W",link:"#",hasFile:!0},{id:"CT-RD-F033",name:"Biểu mẫu Báo cáo DfM",fileName:"33_Biểu mẫu Báo cáo DfM-CT-RD-F033.docx",category:"GIAI ĐOẠN 7: CHUẨN BỊ SẢN XUẤT",status:"approved",fileType:"docx",size:"289 KB",uploadDate:"2024-04-13",uploader:"Vũ Thị X",link:"#",hasFile:!0},{id:"CT-RD-F034",name:"Quy trình sản xuất UAV",fileName:"34_Quy trình sản xuất UAV - CT-RD-F034.docx",category:"GIAI ĐOẠN 7: CHUẨN BỊ SẢN XUẤT",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F035",name:"Biểu mẫu Hệ thống quản lý chất lượng",fileName:"35_Biểu mẫu Hệ thống quản lý chất lượng-CT-RD-F035.docx",category:"GIAI ĐOẠN 7: CHUẨN BỊ SẢN XUẤT",status:"pending",fileType:"docx",size:"256 KB",uploadDate:"2024-04-14",uploader:"Mai Văn Y",link:"#",hasFile:!0},{id:"CT-RD-F036",name:"Biểu mẫu Kế hoạch chuỗi cung ứng",fileName:"36_Biểu mẫu Kế hoạch chuỗi cung ứng-CT-RD-F036.docx",category:"GIAI ĐOẠN 7: CHUẨN BỊ SẢN XUẤT",status:"draft",fileType:"docx",size:"178 KB",uploadDate:"2024-04-15",uploader:"Cao Thị Z",link:"#",hasFile:!0},{id:"CT-RD-F037",name:"Biểu mẫu Báo cáo năng lực sản xuất",fileName:"37_Biểu mẫu Báo cáo năng lực sản xuất-CT-RD-F037.docx",category:"GIAI ĐOẠN 7: CHUẨN BỊ SẢN XUẤT",status:"approved",fileType:"docx",size:"312 KB",uploadDate:"2024-04-16",uploader:"Tạ Văn AA",link:"#",hasFile:!0},{id:"CT-RD-F038",name:"Biểu mẫu Biên bản họp Cổng 7",fileName:"38_Biểu mẫu Biên bản họp Cổng 7-CT-RD-F038.docx",category:"GIAI ĐOẠN 7: CHUẨN BỊ SẢN XUẤT",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F039",name:"Biểu mẫu Kế hoạch chuyển giao công nghệ",fileName:"39_Biểu mẫu Kế hoạch chuyển giao công nghệ-CT-RD-F039.docx",category:"GIAI ĐOẠN 8: CHUYỂN GIAO CÔNG NGHỆ",status:"pending",fileType:"docx",size:"267 KB",uploadDate:"2024-04-17",uploader:"Lại Thị BB",link:"#",hasFile:!0},{id:"CT-RD-F040",name:"Biểu mẫu Danh mục tài liệu chuyển giao",fileName:"40_Biểu mẫu Danh mục tài liệu chuyển giao-CT-RD-F040.docx",category:"GIAI ĐOẠN 8: CHUYỂN GIAO CÔNG NGHỆ",status:"draft",fileType:"docx",size:"195 KB",uploadDate:"2024-04-18",uploader:"Dương Văn CC",link:"#",hasFile:!0},{id:"CT-RD-F041",name:"Biểu mẫu Chương trình đào tạo",fileName:"41_Biểu mẫu Chương trình đào tạo-CT-RD-F041.docx",category:"GIAI ĐOẠN 8: CHUYỂN GIAO CÔNG NGHỆ",status:"approved",fileType:"docx",size:"223 KB",uploadDate:"2024-04-19",uploader:"Hà Thị DD",link:"#",hasFile:!0},{id:"CT-RD-F042",name:"Biểu mẫu Kế hoạch hỗ trợ sản xuất",fileName:"42_Biểu mẫu Kế hoạch hỗ trợ sản xuất-CT-RD-F042.docx",category:"GIAI ĐOẠN 8: CHUYỂN GIAO CÔNG NGHỆ",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F043",name:"Biểu mẫu Báo cáo đánh giá chuyển giao",fileName:"43_Biểu mẫu Báo cáo đánh giá chuyển giao-CT-RD-F043.docx",category:"GIAI ĐOẠN 8: CHUYỂN GIAO CÔNG NGHỆ",status:"pending",fileType:"docx",size:"178 KB",uploadDate:"2024-04-20",uploader:"Từ Văn EE",link:"#",hasFile:!0},{id:"CT-RD-F044",name:"Biểu mẫu Biên bản họp Cổng 8",fileName:"44_Biểu mẫu Biên bản họp Cổng 8-CT-RD-F044.docx",category:"GIAI ĐOẠN 8: CHUYỂN GIAO CÔNG NGHỆ",status:"draft",fileType:"docx",size:"189 KB",uploadDate:"2024-04-21",uploader:"Ông Thị FF",link:"#",hasFile:!0}],F9=()=>{const[e,t]=N.useState(""),[s,n]=N.useState("teams"),[i,o]=N.useState([]),[c,d]=N.useState(""),[h,f]=N.useState(""),[p,g]=N.useState(""),[x,b]=N.useState(""),[j,v]=N.useState(""),[_,T]=N.useState(new Set),[A,C]=N.useState({}),S=M=>{switch(M){case"approved":return{className:"bg-green-100 text-green-800 border-green-200",text:"Đã duyệt"};case"pending":return{className:"bg-yellow-100 text-yellow-800 border-yellow-200",text:"Chờ duyệt"};case"draft":return{className:"bg-blue-100 text-blue-800 border-blue-200",text:"Nháp"};case"empty":return{className:"bg-gray-100 text-gray-800 border-gray-200",text:"Trống"};default:return{className:"bg-gray-100 text-gray-800 border-gray-200",text:"Không xác định"}}},{data:D,isLoading:E}=Nt("Team",{fields:["name","team","teamlead"],limit:0}),{data:B,isLoading:U}=Nt("Project",{fields:["name","project_name","owner","team"],limit:0}),{data:R,isLoading:K}=Nt("project_phase",{fields:["name","subject","project"],limit:0}),{data:W,isLoading:Z}=Nt("Task",{fields:["name","subject","project"],limit:0}),{data:q,isLoading:G}=Nt("File",{fields:["name","file_name","file_url","file_size","is_private","attached_to_doctype","attached_to_name","creation","owner","modified"],filters:[["attached_to_doctype","=","Task"]],orderBy:{field:"creation",order:"desc"},limit:0}),I=(M,_e)=>{d(M),n("projects"),o([{id:M,name:_e,type:"team"}])},H=(M,_e)=>{f(M),n("project-detail"),o(He=>[...He,{id:M,name:_e,type:"project"}])},J=(M,_e)=>{g(M),n("tasks"),o(He=>[...He,{id:M,name:_e,type:"phase"}])},te=(M,_e)=>{b(M),n("files"),o(He=>[...He,{id:M,name:_e,type:"task"}])},de=M=>{const _e=i[M];if(!_e){n("teams"),o([]),d(""),f(""),g(""),b("");return}switch(_e.type){case"team":n("projects"),o(i.slice(0,M+1)),d(_e.id),f(""),g(""),b("");break;case"project":n("phases"),o(i.slice(0,M+1)),g(""),b("");break;case"phase":n("tasks"),o(i.slice(0,M+1)),b("");break}},P=M=>{if(M===0)return"0 Bytes";const _e=1024,He=["Bytes","KB","MB","GB"],Ue=Math.floor(Math.log(M)/Math.log(_e));return parseFloat((M/Math.pow(_e,Ue)).toFixed(2))+" "+He[Ue]},ie=M=>{var Ue;if(M.file_url.startsWith("http")&&(M.file_size===0||!M.file_name.includes(".")))return a.jsx(Id,{className:"h-5 w-5 text-blue-500"});switch((Ue=M.file_name.split(".").pop())==null?void 0:Ue.toLowerCase()){case"pdf":return a.jsx(Kt,{className:"h-5 w-5 text-red-500"});case"doc":case"docx":return a.jsx(Kt,{className:"h-5 w-5 text-blue-500"});case"xls":case"xlsx":return a.jsx(Kt,{className:"h-5 w-5 text-green-500"});default:return a.jsx(Kt,{className:"h-5 w-5 text-gray-500"})}},ne=M=>M.file_url.startsWith("http")&&(M.file_size===0||!M.file_name.includes(".")),$=(M,_e)=>{C(He=>le(F({},He),{[M]:_e})),console.log(`Updating document ${M} status to ${_e}`)},ee=M=>{console.log(`Deleting document ${M}`)},xe=N.useMemo(()=>!B||!c?[]:B.filter(M=>M.team===c),[B,c]),he=N.useMemo(()=>!R||!h?[]:R.filter(M=>M.project===h),[R,h]),ke=N.useMemo(()=>!W||!h?[]:p?W.filter(M=>M.project===h&&M.phase===p):W.filter(M=>M.project===h&&!M.phase),[W,h,p]),Ae=N.useMemo(()=>!q||!x?[]:q.filter(M=>M.attached_to_name===x),[q,x]),Ve=N.useMemo(()=>{if(!D||!B)return{};const M={};return D.forEach(_e=>{const Ue=B.filter(mt=>mt.team===_e.name).length*45;M[_e.name]=Ue}),M},[D,B]),ze=N.useMemo(()=>{if(!B)return{};const M={};return B.forEach(_e=>{M[_e.name]=45}),M},[B]);return E||U||K||Z||G?a.jsxs("div",{className:"flex items-center justify-center min-h-96",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("span",{className:"ml-3 text-gray-600",children:"Đang tải dữ liệu..."})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Quản lý tài liệu"}),a.jsxs("p",{className:"text-gray-600",children:["Quản lý tài liệu theo cấu trúc Team ","->"," Project ","->"," Phase ","->"," Task"]})]})}),i.length>0&&a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsxs("button",{onClick:()=>de(-1),className:"text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[a.jsx(Ca,{className:"h-4 w-4"}),"Teams"]}),i.map((M,_e)=>a.jsxs(re.Fragment,{children:[a.jsx("span",{className:"text-gray-500",children:"/"}),a.jsxs("button",{onClick:()=>de(_e),className:"text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[M.type==="team"&&a.jsx(Ca,{className:"h-4 w-4"}),M.type==="project"&&a.jsx(Jl,{className:"h-4 w-4"}),M.type==="phase"&&a.jsx(hn,{className:"h-4 w-4"}),M.type==="task"&&a.jsx(Li,{className:"h-4 w-4"}),M.name]})]},M.id))]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:a.jsxs("div",{className:"relative max-w-md",children:[a.jsx(mc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx("input",{type:"text",placeholder:s==="teams"?"Tìm kiếm team...":s==="projects"?"Tìm kiếm dự án...":s==="project-detail"?"Tìm kiếm tài liệu...":s==="phases"?"Tìm kiếm phase...":s==="tasks"?"Tìm kiếm task...":"Tìm kiếm file...",value:e,onChange:M=>t(M.target.value),className:"pl-10 w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[s==="teams"&&a.jsxs("div",{children:[a.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 text-sm font-semibold text-gray-700 uppercase tracking-wider",children:[a.jsxs("div",{className:"col-span-5 flex items-center gap-2",children:[a.jsx(Ca,{className:"h-4 w-4"}),"Team"]}),a.jsxs("div",{className:"col-span-4 flex items-center gap-2",children:[a.jsx(Go,{className:"h-4 w-4"}),"Nhóm Trưởng"]}),a.jsxs("div",{className:"col-span-3 flex items-center gap-2",children:[a.jsx(Kt,{className:"h-4 w-4"}),"Số Tài liệu"]})]})}),a.jsx("div",{className:"divide-y divide-gray-200",children:D&&D.length>0?D.filter(M=>{var _e;return!e||((_e=M.team)==null?void 0:_e.toLowerCase().includes(e.toLowerCase()))}).map(M=>a.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>I(M.name,M.team||"Unnamed Team"),children:[a.jsxs("div",{className:"col-span-5 flex items-center gap-3",children:[a.jsx(Ca,{className:"h-6 w-6 text-blue-500 flex-shrink-0"}),a.jsx("div",{className:"min-w-0",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:M.team||"Unnamed Team"})})]}),a.jsx("div",{className:"col-span-4 flex items-center",children:a.jsx("div",{className:"min-w-0",children:a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:M.teamlead||"Chưa có nhóm trưởng"})})}),a.jsx("div",{className:"col-span-3 flex items-center",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg font-semibold text-blue-600",children:(Ve[M.name]||45).toLocaleString("vi-VN")}),a.jsx("span",{className:"text-sm text-gray-600",children:"tài liệu"})]})})]},M.name)):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ca,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Không có team nào"})]})})]}),s==="projects"&&a.jsxs("div",{children:[a.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 text-sm font-semibold text-gray-700 uppercase tracking-wider",children:[a.jsxs("div",{className:"col-span-6 flex items-center gap-2",children:[a.jsx(Jl,{className:"h-4 w-4"}),"Tên Dự Án"]}),a.jsxs("div",{className:"col-span-3 flex items-center gap-2",children:[a.jsx(Kt,{className:"h-4 w-4"}),"Số File"]}),a.jsxs("div",{className:"col-span-3 flex items-center gap-2",children:[a.jsx(hn,{className:"h-4 w-4"}),"Thao Tác"]})]})}),a.jsx("div",{className:"divide-y divide-gray-200",children:xe&&xe.length>0?xe.filter(M=>!e||M.project_name.toLowerCase().includes(e.toLowerCase())).map(M=>a.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>H(M.name,M.project_name),children:[a.jsxs("div",{className:"col-span-6 flex items-center gap-3",children:[a.jsx(Jl,{className:"h-6 w-6 text-green-500 flex-shrink-0"}),a.jsx("div",{className:"min-w-0",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:M.project_name})})]}),a.jsx("div",{className:"col-span-3 flex items-center",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg font-semibold text-green-600",children:(ze[M.name]||45).toLocaleString("vi-VN")}),a.jsx("span",{className:"text-sm text-gray-600",children:"tài liệu"})]})}),a.jsx("div",{className:"col-span-3 flex items-center",children:a.jsx("span",{className:"text-sm text-gray-600",children:"Click để xem phases và tasks"})})]},M.name)):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Jl,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Không có dự án nào"})]})})]}),s==="project-detail"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[a.jsxs("button",{onClick:()=>{const M=new Set(_);M.has("stage1")?M.delete("stage1"):M.add("stage1"),T(M)},className:"w-full px-6 py-4 bg-blue-50 hover:bg-blue-100 transition-colors flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-blue-100 p-2 rounded",children:a.jsx(Kt,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"🔬 Giai đoạn 1: Hình thành ý tưởng và phát triển khái niệm"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[Cs.filter(M=>M.category.includes("GIAI ĐOẠN 1")&&M.hasFile).length,"/",Cs.filter(M=>M.category.includes("GIAI ĐOẠN 1")).length," tài liệu"]})]})]}),_.has("stage1")?a.jsx(Ri,{className:"h-5 w-5 text-gray-500"}):a.jsx(ur,{className:"h-5 w-5 text-gray-500"})]}),_.has("stage1")&&a.jsxs("div",{className:"border-t border-gray-200",children:[a.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3 text-sm font-semibold text-gray-700",children:[a.jsx("div",{className:"col-span-1 text-center",children:"Mã số"}),a.jsx("div",{className:"col-span-3",children:"Tên File"}),a.jsx("div",{className:"col-span-1 text-center",children:"Link"}),a.jsx("div",{className:"col-span-3",children:"File Upload"}),a.jsx("div",{className:"col-span-2",children:"Status"}),a.jsx("div",{className:"col-span-1 text-center",children:"Thao tác"})]})}),a.jsx("div",{className:"divide-y divide-gray-200",children:Cs.filter(M=>{const _e=!e||M.name.toLowerCase().includes(e.toLowerCase())||M.id.toLowerCase().includes(e.toLowerCase()),He=M.category.includes("GIAI ĐOẠN 1");return _e&&He}).map(M=>a.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[a.jsx("div",{className:"col-span-1 text-center",children:a.jsx("span",{className:"text-xs font-mono text-blue-600 bg-blue-50 px-2 py-1 rounded",children:M.id})}),a.jsxs("div",{className:"col-span-3 flex items-center gap-3",children:[a.jsx(Kt,{className:"h-5 w-5 text-blue-500"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-900 truncate",children:M.name}),a.jsx("p",{className:"text-xs text-gray-500 truncate",children:M.fileName})]})]}),a.jsx("div",{className:"col-span-1 text-center",children:a.jsx("button",{onClick:()=>window.open(M.link,"_blank"),className:"text-blue-600 hover:text-blue-700 p-1 rounded transition-colors",title:"Xem tài liệu",children:a.jsx(cr,{className:"h-4 w-4"})})}),a.jsx("div",{className:"col-span-3",children:M.hasFile?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-900 truncate flex-1",title:M.fileName,style:{maxWidth:"150px"},children:M.fileName}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{className:"text-blue-600 hover:text-blue-700 p-1 rounded transition-colors",title:"Xem",children:a.jsx(fr,{className:"h-4 w-4"})}),a.jsx("button",{className:"text-green-600 hover:text-green-700 p-1 rounded transition-colors",title:"Tải xuống",children:a.jsx(ia,{className:"h-4 w-4"})})]})]}):a.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded text-xs font-medium transition-colors flex items-center gap-1",children:[a.jsx(Xr,{className:"h-3 w-3"}),"Tải lên"]})}),a.jsx("div",{className:"col-span-2",children:a.jsxs("select",{value:A[M.id]||M.status,onChange:_e=>$(M.id,_e.target.value),className:`text-xs border rounded px-2 py-1 focus:ring-2 focus:ring-blue-500 focus:border-transparent font-medium ${S(A[M.id]||M.status).className}`,children:[a.jsx("option",{value:"approved",children:"Đã duyệt"}),a.jsx("option",{value:"pending",children:"Chờ duyệt"}),a.jsx("option",{value:"draft",children:"Nháp"}),a.jsx("option",{value:"empty",children:"Trống"})]})}),a.jsx("div",{className:"col-span-1 text-center",children:a.jsx("button",{onClick:()=>ee(M.id),className:"text-red-600 hover:text-red-700 p-1 rounded transition-colors",title:"Xóa tài liệu",children:a.jsx(Mn,{className:"h-4 w-4"})})})]},M.id))})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[a.jsxs("button",{onClick:()=>{const M=new Set(_);M.has("stage2")?M.delete("stage2"):M.add("stage2"),T(M)},className:"w-full px-6 py-4 bg-green-50 hover:bg-green-100 transition-colors flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-green-100 p-2 rounded",children:a.jsx(Kt,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"⚙️ Giai đoạn 2: Nghiên cứu tính khả thi kỹ thuật"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[Cs.filter(M=>M.category.includes("GIAI ĐOẠN 2")&&M.hasFile).length,"/",Cs.filter(M=>M.category.includes("GIAI ĐOẠN 2")).length," tài liệu"]})]})]}),_.has("stage2")?a.jsx(Ri,{className:"h-5 w-5 text-gray-500"}):a.jsx(ur,{className:"h-5 w-5 text-gray-500"})]}),_.has("stage2")&&a.jsxs("div",{className:"border-t border-gray-200",children:[a.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3 text-sm font-semibold text-gray-700",children:[a.jsx("div",{className:"col-span-1 text-center",children:"Mã số"}),a.jsx("div",{className:"col-span-3",children:"Tên File"}),a.jsx("div",{className:"col-span-1 text-center",children:"Link"}),a.jsx("div",{className:"col-span-3",children:"File Upload"}),a.jsx("div",{className:"col-span-2",children:"Status"}),a.jsx("div",{className:"col-span-1 text-center",children:"Thao tác"})]})}),a.jsx("div",{className:"divide-y divide-gray-200",children:Cs.filter(M=>{const _e=!e||M.name.toLowerCase().includes(e.toLowerCase())||M.id.toLowerCase().includes(e.toLowerCase()),He=M.category.includes("GIAI ĐOẠN 2");return _e&&He}).map(M=>a.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[a.jsx("div",{className:"col-span-1 text-center",children:a.jsx("span",{className:"text-xs font-mono text-green-600 bg-green-50 px-2 py-1 rounded",children:M.id})}),a.jsxs("div",{className:"col-span-3 flex items-center gap-3",children:[a.jsx(Kt,{className:"h-5 w-5 text-green-500"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-900 truncate",children:M.name}),a.jsx("p",{className:"text-xs text-gray-500 truncate",children:M.fileName})]})]}),a.jsx("div",{className:"col-span-1 text-center",children:a.jsx("button",{onClick:()=>window.open(M.link,"_blank"),className:"text-blue-600 hover:text-blue-700 p-1 rounded transition-colors",title:"Xem tài liệu",children:a.jsx(cr,{className:"h-4 w-4"})})}),a.jsx("div",{className:"col-span-3",children:M.hasFile?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-900 truncate flex-1",title:M.fileName,style:{maxWidth:"150px"},children:M.fileName}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{className:"text-blue-600 hover:text-blue-700 p-1 rounded transition-colors",title:"Xem",children:a.jsx(fr,{className:"h-4 w-4"})}),a.jsx("button",{className:"text-green-600 hover:text-green-700 p-1 rounded transition-colors",title:"Tải xuống",children:a.jsx(ia,{className:"h-4 w-4"})})]})]}):a.jsxs("button",{className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1.5 rounded text-xs font-medium transition-colors flex items-center gap-1",children:[a.jsx(Xr,{className:"h-3 w-3"}),"Tải lên"]})}),a.jsx("div",{className:"col-span-2",children:a.jsxs("select",{value:A[M.id]||M.status,onChange:_e=>$(M.id,_e.target.value),className:`text-xs border rounded px-2 py-1 focus:ring-2 focus:ring-blue-500 focus:border-transparent font-medium ${S(A[M.id]||M.status).className}`,children:[a.jsx("option",{value:"approved",children:"Đã duyệt"}),a.jsx("option",{value:"pending",children:"Chờ duyệt"}),a.jsx("option",{value:"draft",children:"Nháp"}),a.jsx("option",{value:"empty",children:"Trống"})]})}),a.jsx("div",{className:"col-span-1 text-center",children:a.jsx("button",{onClick:()=>ee(M.id),className:"text-red-600 hover:text-red-700 p-1 rounded transition-colors",title:"Xóa tài liệu",children:a.jsx(Mn,{className:"h-4 w-4"})})})]},M.id))})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[a.jsxs("button",{onClick:()=>{const M=new Set(_);M.has("stage3")?M.delete("stage3"):M.add("stage3"),T(M)},className:"w-full px-6 py-4 bg-purple-50 hover:bg-purple-100 transition-colors flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-purple-100 p-2 rounded",children:a.jsx(Kt,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"📊 Giai đoạn 3: Phân tích bản đồ sở hữu trí tuệ"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[Cs.filter(M=>M.category.includes("GIAI ĐOẠN 3")&&M.hasFile).length,"/",Cs.filter(M=>M.category.includes("GIAI ĐOẠN 3")).length," tài liệu"]})]})]}),_.has("stage3")?a.jsx(Ri,{className:"h-5 w-5 text-gray-500"}):a.jsx(ur,{className:"h-5 w-5 text-gray-500"})]}),_.has("stage3")&&a.jsxs("div",{className:"border-t border-gray-200",children:[a.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3 text-sm font-semibold text-gray-700",children:[a.jsx("div",{className:"col-span-1 text-center",children:"Mã số"}),a.jsx("div",{className:"col-span-3",children:"Tên File"}),a.jsx("div",{className:"col-span-1 text-center",children:"Link"}),a.jsx("div",{className:"col-span-3",children:"File Upload"}),a.jsx("div",{className:"col-span-2",children:"Status"}),a.jsx("div",{className:"col-span-1 text-center",children:"Thao tác"})]})}),a.jsx("div",{className:"divide-y divide-gray-200",children:Cs.filter(M=>{const _e=!e||M.name.toLowerCase().includes(e.toLowerCase())||M.id.toLowerCase().includes(e.toLowerCase()),He=M.category.includes("GIAI ĐOẠN 3");return _e&&He}).map(M=>a.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[a.jsx("div",{className:"col-span-1 text-center",children:a.jsx("span",{className:"text-xs font-mono text-purple-600 bg-purple-50 px-2 py-1 rounded",children:M.id})}),a.jsxs("div",{className:"col-span-3 flex items-center gap-3",children:[a.jsx(Kt,{className:"h-5 w-5 text-purple-500"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-900 truncate",children:M.name}),a.jsx("p",{className:"text-xs text-gray-500 truncate",children:M.fileName})]})]}),a.jsx("div",{className:"col-span-1 text-center",children:a.jsx("button",{onClick:()=>window.open(M.link,"_blank"),className:"text-blue-600 hover:text-blue-700 p-1 rounded transition-colors",title:"Xem tài liệu",children:a.jsx(cr,{className:"h-4 w-4"})})}),a.jsx("div",{className:"col-span-3",children:M.hasFile?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-900 truncate flex-1",title:M.fileName,style:{maxWidth:"150px"},children:M.fileName}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{className:"text-blue-600 hover:text-blue-700 p-1 rounded transition-colors",title:"Xem",children:a.jsx(fr,{className:"h-4 w-4"})}),a.jsx("button",{className:"text-green-600 hover:text-green-700 p-1 rounded transition-colors",title:"Tải xuống",children:a.jsx(ia,{className:"h-4 w-4"})})]})]}):a.jsxs("button",{className:"bg-purple-600 hover:bg-purple-700 text-white px-3 py-1.5 rounded text-xs font-medium transition-colors flex items-center gap-1",children:[a.jsx(Xr,{className:"h-3 w-3"}),"Tải lên"]})}),a.jsx("div",{className:"col-span-2",children:a.jsxs("select",{value:A[M.id]||M.status,onChange:_e=>$(M.id,_e.target.value),className:`text-xs border rounded px-2 py-1 focus:ring-2 focus:ring-blue-500 focus:border-transparent font-medium ${S(A[M.id]||M.status).className}`,children:[a.jsx("option",{value:"approved",children:"Đã duyệt"}),a.jsx("option",{value:"pending",children:"Chờ duyệt"}),a.jsx("option",{value:"draft",children:"Nháp"}),a.jsx("option",{value:"empty",children:"Trống"})]})}),a.jsx("div",{className:"col-span-1 text-center",children:a.jsx("button",{onClick:()=>ee(M.id),className:"text-red-600 hover:text-red-700 p-1 rounded transition-colors",title:"Xóa tài liệu",children:a.jsx(Mn,{className:"h-4 w-4"})})})]},M.id))})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[a.jsxs("button",{onClick:()=>{const M=new Set(_);M.has("stage4")?M.delete("stage4"):M.add("stage4"),T(M)},className:"w-full px-6 py-4 bg-orange-50 hover:bg-orange-100 transition-colors flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-orange-100 p-2 rounded",children:a.jsx(Kt,{className:"h-6 w-6 text-orange-600"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"🔧 Giai đoạn 4: Thiết kế và phát triển chi tiết"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[Cs.filter(M=>M.category.includes("GIAI ĐOẠN 4")&&M.hasFile).length,"/",Cs.filter(M=>M.category.includes("GIAI ĐOẠN 4")).length," tài liệu"]})]})]}),_.has("stage4")?a.jsx(Ri,{className:"h-5 w-5 text-gray-500"}):a.jsx(ur,{className:"h-5 w-5 text-gray-500"})]}),_.has("stage4")&&a.jsxs("div",{className:"border-t border-gray-200",children:[a.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("div",{className:"grid grid-cols-10 gap-4 px-6 py-3 text-sm font-semibold text-gray-700",children:[a.jsx("div",{className:"col-span-1 text-center",children:"Mã số"}),a.jsx("div",{className:"col-span-3",children:"Tên File"}),a.jsx("div",{className:"col-span-1 text-center",children:"Link"}),a.jsx("div",{className:"col-span-3",children:"File Upload"}),a.jsx("div",{className:"col-span-2",children:"Status"}),a.jsx("div",{className:"col-span-1 text-center",children:"Thao tác"})]})}),a.jsx("div",{className:"divide-y divide-gray-200",children:Cs.filter(M=>{const _e=!e||M.name.toLowerCase().includes(e.toLowerCase())||M.id.toLowerCase().includes(e.toLowerCase()),He=M.category.includes("GIAI ĐOẠN 4");return _e&&He}).map(M=>a.jsxs("div",{className:"grid grid-cols-11 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[a.jsx("div",{className:"col-span-1 text-center",children:a.jsx("span",{className:"text-xs font-mono text-orange-600 bg-orange-50 px-2 py-1 rounded",children:M.id})}),a.jsxs("div",{className:"col-span-3 flex items-center gap-3",children:[a.jsx(Kt,{className:"h-5 w-5 text-orange-500"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-900 truncate",children:M.name}),a.jsx("p",{className:"text-xs text-gray-500 truncate",children:M.fileName})]})]}),a.jsx("div",{className:"col-span-1 text-center",children:a.jsx("button",{onClick:()=>window.open(M.link,"_blank"),className:"text-blue-600 hover:text-blue-700 p-1 rounded transition-colors",title:"Xem tài liệu",children:a.jsx(cr,{className:"h-4 w-4"})})}),a.jsx("div",{className:"col-span-3",children:M.hasFile?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-900 truncate flex-1",title:M.fileName,style:{maxWidth:"150px"},children:M.fileName}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{className:"text-blue-600 hover:text-blue-700 p-1 rounded transition-colors",title:"Xem",children:a.jsx(fr,{className:"h-4 w-4"})}),a.jsx("button",{className:"text-green-600 hover:text-green-700 p-1 rounded transition-colors",title:"Tải xuống",children:a.jsx(ia,{className:"h-4 w-4"})})]})]}):a.jsxs("button",{className:"bg-orange-600 hover:bg-orange-700 text-white px-3 py-1.5 rounded text-xs font-medium transition-colors flex items-center gap-1",children:[a.jsx(Xr,{className:"h-3 w-3"}),"Tải lên"]})}),a.jsx("div",{className:"col-span-2",children:a.jsxs("select",{value:A[M.id]||M.status,onChange:_e=>$(M.id,_e.target.value),className:`text-xs border rounded px-2 py-1 focus:ring-2 focus:ring-blue-500 focus:border-transparent font-medium ${S(A[M.id]||M.status).className}`,children:[a.jsx("option",{value:"approved",children:"Đã duyệt"}),a.jsx("option",{value:"pending",children:"Chờ duyệt"}),a.jsx("option",{value:"draft",children:"Nháp"}),a.jsx("option",{value:"empty",children:"Trống"})]})}),a.jsx("div",{className:"col-span-1 text-center",children:a.jsx("button",{onClick:()=>ee(M.id),className:"text-red-600 hover:text-red-700 p-1 rounded transition-colors",title:"Xóa tài liệu",children:a.jsx(Mn,{className:"h-4 w-4"})})})]},M.id))})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[a.jsxs("button",{onClick:()=>{const M=new Set(_);M.has("stage5")?M.delete("stage5"):M.add("stage5"),T(M)},className:"w-full px-6 py-4 bg-red-50 hover:bg-red-100 transition-colors flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-red-100 p-2 rounded",children:a.jsx(Kt,{className:"h-6 w-6 text-red-600"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"✅ Giai đoạn 5: Kiểm thử và xác thực"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[Cs.filter(M=>M.category.includes("GIAI ĐOẠN 5")&&M.hasFile).length,"/",Cs.filter(M=>M.category.includes("GIAI ĐOẠN 5")).length," tài liệu"]})]})]}),_.has("stage5")?a.jsx(Ri,{className:"h-5 w-5 text-gray-500"}):a.jsx(ur,{className:"h-5 w-5 text-gray-500"})]}),_.has("stage5")&&a.jsxs("div",{className:"border-t border-gray-200",children:[a.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("div",{className:"grid grid-cols-11 gap-4 px-6 py-3 text-sm font-semibold text-gray-700",children:[a.jsx("div",{className:"col-span-1 text-center",children:"Mã số"}),a.jsx("div",{className:"col-span-3",children:"Tên File"}),a.jsx("div",{className:"col-span-1 text-center",children:"Link"}),a.jsx("div",{className:"col-span-3",children:"File Upload"}),a.jsx("div",{className:"col-span-2",children:"Status"}),a.jsx("div",{className:"col-span-1 text-center",children:"Thao tác"})]})}),a.jsx("div",{className:"divide-y divide-gray-200",children:Cs.filter(M=>{const _e=!e||M.name.toLowerCase().includes(e.toLowerCase())||M.id.toLowerCase().includes(e.toLowerCase()),He=M.category.includes("GIAI ĐOẠN 5");return _e&&He}).map(M=>a.jsxs("div",{className:"grid grid-cols-11 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[a.jsx("div",{className:"col-span-1 text-center",children:a.jsx("span",{className:"text-xs font-mono text-red-600 bg-red-50 px-2 py-1 rounded",children:M.id})}),a.jsxs("div",{className:"col-span-3 flex items-center gap-3",children:[a.jsx(Kt,{className:"h-5 w-5 text-red-500"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-900 truncate",children:M.name}),a.jsx("p",{className:"text-xs text-gray-500 truncate",children:M.fileName})]})]}),a.jsx("div",{className:"col-span-1 text-center",children:a.jsx("button",{onClick:()=>window.open(M.link,"_blank"),className:"text-blue-600 hover:text-blue-700 p-1 rounded transition-colors",title:"Xem tài liệu",children:a.jsx(cr,{className:"h-4 w-4"})})}),a.jsx("div",{className:"col-span-3",children:M.hasFile?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-900 truncate flex-1",title:M.fileName,style:{maxWidth:"150px"},children:M.fileName}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{className:"text-blue-600 hover:text-blue-700 p-1 rounded transition-colors",title:"Xem",children:a.jsx(fr,{className:"h-4 w-4"})}),a.jsx("button",{className:"text-green-600 hover:text-green-700 p-1 rounded transition-colors",title:"Tải xuống",children:a.jsx(ia,{className:"h-4 w-4"})})]})]}):a.jsxs("button",{className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1.5 rounded text-xs font-medium transition-colors flex items-center gap-1",children:[a.jsx(Xr,{className:"h-3 w-3"}),"Tải lên"]})}),a.jsx("div",{className:"col-span-2",children:a.jsxs("select",{value:A[M.id]||M.status,onChange:_e=>$(M.id,_e.target.value),className:`text-xs border rounded px-2 py-1 focus:ring-2 focus:ring-blue-500 focus:border-transparent font-medium ${S(A[M.id]||M.status).className}`,children:[a.jsx("option",{value:"approved",children:"Đã duyệt"}),a.jsx("option",{value:"pending",children:"Chờ duyệt"}),a.jsx("option",{value:"draft",children:"Nháp"}),a.jsx("option",{value:"empty",children:"Trống"})]})}),a.jsx("div",{className:"col-span-1 text-center",children:a.jsx("button",{onClick:()=>ee(M.id),className:"text-red-600 hover:text-red-700 p-1 rounded transition-colors",title:"Xóa tài liệu",children:a.jsx(Mn,{className:"h-4 w-4"})})})]},M.id))})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[a.jsxs("button",{onClick:()=>{const M=new Set(_);M.has("stage6")?M.delete("stage6"):M.add("stage6"),T(M)},className:"w-full px-6 py-4 bg-indigo-50 hover:bg-indigo-100 transition-colors flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-indigo-100 p-2 rounded",children:a.jsx(Kt,{className:"h-6 w-6 text-indigo-600"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"🏆 Giai đoạn 6: Hoàn thiện sở hữu trí tuệ"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[Cs.filter(M=>M.category.includes("GIAI ĐOẠN 6")&&M.hasFile).length,"/",Cs.filter(M=>M.category.includes("GIAI ĐOẠN 6")).length," tài liệu"]})]})]}),_.has("stage6")?a.jsx(Ri,{className:"h-5 w-5 text-gray-500"}):a.jsx(ur,{className:"h-5 w-5 text-gray-500"})]}),_.has("stage6")&&a.jsxs("div",{className:"border-t border-gray-200",children:[a.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("div",{className:"grid grid-cols-11 gap-4 px-6 py-3 text-sm font-semibold text-gray-700",children:[a.jsx("div",{className:"col-span-1 text-center",children:"Mã số"}),a.jsx("div",{className:"col-span-3",children:"Tên File"}),a.jsx("div",{className:"col-span-1 text-center",children:"Link"}),a.jsx("div",{className:"col-span-3",children:"File Upload"}),a.jsx("div",{className:"col-span-2",children:"Status"}),a.jsx("div",{className:"col-span-1 text-center",children:"Thao tác"})]})}),a.jsx("div",{className:"divide-y divide-gray-200",children:Cs.filter(M=>{const _e=!e||M.name.toLowerCase().includes(e.toLowerCase())||M.id.toLowerCase().includes(e.toLowerCase()),He=M.category.includes("GIAI ĐOẠN 6");return _e&&He}).map(M=>a.jsxs("div",{className:"grid grid-cols-11 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[a.jsx("div",{className:"col-span-1 text-center",children:a.jsx("span",{className:"text-xs font-mono text-indigo-600 bg-indigo-50 px-2 py-1 rounded",children:M.id})}),a.jsxs("div",{className:"col-span-3 flex items-center gap-3",children:[a.jsx(Kt,{className:"h-5 w-5 text-indigo-500"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-900 truncate",children:M.name}),a.jsx("p",{className:"text-xs text-gray-500 truncate",children:M.fileName})]})]}),a.jsx("div",{className:"col-span-1 text-center",children:a.jsx("button",{onClick:()=>window.open(M.link,"_blank"),className:"text-blue-600 hover:text-blue-700 p-1 rounded transition-colors",title:"Xem tài liệu",children:a.jsx(cr,{className:"h-4 w-4"})})}),a.jsx("div",{className:"col-span-3",children:M.hasFile?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-900 truncate flex-1",title:M.fileName,style:{maxWidth:"150px"},children:M.fileName}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{className:"text-blue-600 hover:text-blue-700 p-1 rounded transition-colors",title:"Xem",children:a.jsx(fr,{className:"h-4 w-4"})}),a.jsx("button",{className:"text-green-600 hover:text-green-700 p-1 rounded transition-colors",title:"Tải xuống",children:a.jsx(ia,{className:"h-4 w-4"})})]})]}):a.jsxs("button",{className:"bg-indigo-600 hover:bg-indigo-700 text-white px-3 py-1.5 rounded text-xs font-medium transition-colors flex items-center gap-1",children:[a.jsx(Xr,{className:"h-3 w-3"}),"Tải lên"]})}),a.jsx("div",{className:"col-span-2",children:a.jsxs("select",{value:A[M.id]||M.status,onChange:_e=>$(M.id,_e.target.value),className:`text-xs border rounded px-2 py-1 focus:ring-2 focus:ring-blue-500 focus:border-transparent font-medium ${S(A[M.id]||M.status).className}`,children:[a.jsx("option",{value:"approved",children:"Đã duyệt"}),a.jsx("option",{value:"pending",children:"Chờ duyệt"}),a.jsx("option",{value:"draft",children:"Nháp"}),a.jsx("option",{value:"empty",children:"Trống"})]})}),a.jsx("div",{className:"col-span-1 text-center",children:a.jsx("button",{onClick:()=>ee(M.id),className:"text-red-600 hover:text-red-700 p-1 rounded transition-colors",title:"Xóa tài liệu",children:a.jsx(Mn,{className:"h-4 w-4"})})})]},M.id))})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[a.jsxs("button",{onClick:()=>{const M=new Set(_);M.has("stage7")?M.delete("stage7"):M.add("stage7"),T(M)},className:"w-full px-6 py-4 bg-yellow-50 hover:bg-yellow-100 transition-colors flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-yellow-100 p-2 rounded",children:a.jsx(Kt,{className:"h-6 w-6 text-yellow-600"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"🏭 Giai đoạn 7: Chuẩn bị sản xuất"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[Cs.filter(M=>M.category.includes("GIAI ĐOẠN 7")&&M.hasFile).length,"/",Cs.filter(M=>M.category.includes("GIAI ĐOẠN 7")).length," tài liệu"]})]})]}),_.has("stage7")?a.jsx(Ri,{className:"h-5 w-5 text-gray-500"}):a.jsx(ur,{className:"h-5 w-5 text-gray-500"})]}),_.has("stage7")&&a.jsxs("div",{className:"border-t border-gray-200",children:[a.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("div",{className:"grid grid-cols-11 gap-4 px-6 py-3 text-sm font-semibold text-gray-700",children:[a.jsx("div",{className:"col-span-1 text-center",children:"Mã số"}),a.jsx("div",{className:"col-span-3",children:"Tên File"}),a.jsx("div",{className:"col-span-1 text-center",children:"Link"}),a.jsx("div",{className:"col-span-3",children:"File Upload"}),a.jsx("div",{className:"col-span-2",children:"Status"}),a.jsx("div",{className:"col-span-1 text-center",children:"Thao tác"})]})}),a.jsx("div",{className:"divide-y divide-gray-200",children:Cs.filter(M=>{const _e=!e||M.name.toLowerCase().includes(e.toLowerCase())||M.id.toLowerCase().includes(e.toLowerCase()),He=M.category.includes("GIAI ĐOẠN 7");return _e&&He}).map(M=>a.jsxs("div",{className:"grid grid-cols-11 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[a.jsx("div",{className:"col-span-1 text-center",children:a.jsx("span",{className:"text-xs font-mono text-yellow-600 bg-yellow-50 px-2 py-1 rounded",children:M.id})}),a.jsxs("div",{className:"col-span-3 flex items-center gap-3",children:[a.jsx(Kt,{className:"h-5 w-5 text-yellow-500"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-900 truncate",children:M.name}),a.jsx("p",{className:"text-xs text-gray-500 truncate",children:M.fileName})]})]}),a.jsx("div",{className:"col-span-1 text-center",children:a.jsx("button",{onClick:()=>window.open(M.link,"_blank"),className:"text-blue-600 hover:text-blue-700 p-1 rounded transition-colors",title:"Xem tài liệu",children:a.jsx(cr,{className:"h-4 w-4"})})}),a.jsx("div",{className:"col-span-3",children:M.hasFile?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-900 truncate flex-1",title:M.fileName,style:{maxWidth:"150px"},children:M.fileName}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{className:"text-blue-600 hover:text-blue-700 p-1 rounded transition-colors",title:"Xem",children:a.jsx(fr,{className:"h-4 w-4"})}),a.jsx("button",{className:"text-green-600 hover:text-green-700 p-1 rounded transition-colors",title:"Tải xuống",children:a.jsx(ia,{className:"h-4 w-4"})})]})]}):a.jsxs("button",{className:"bg-yellow-600 hover:bg-yellow-700 text-white px-3 py-1.5 rounded text-xs font-medium transition-colors flex items-center gap-1",children:[a.jsx(Xr,{className:"h-3 w-3"}),"Tải lên"]})}),a.jsx("div",{className:"col-span-2",children:a.jsxs("select",{value:A[M.id]||M.status,onChange:_e=>$(M.id,_e.target.value),className:`text-xs border rounded px-2 py-1 focus:ring-2 focus:ring-blue-500 focus:border-transparent font-medium ${S(A[M.id]||M.status).className}`,children:[a.jsx("option",{value:"approved",children:"Đã duyệt"}),a.jsx("option",{value:"pending",children:"Chờ duyệt"}),a.jsx("option",{value:"draft",children:"Nháp"}),a.jsx("option",{value:"empty",children:"Trống"})]})}),a.jsx("div",{className:"col-span-1 text-center",children:a.jsx("button",{onClick:()=>ee(M.id),className:"text-red-600 hover:text-red-700 p-1 rounded transition-colors",title:"Xóa tài liệu",children:a.jsx(Mn,{className:"h-4 w-4"})})})]},M.id))})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[a.jsxs("button",{onClick:()=>{const M=new Set(_);M.has("stage8")?M.delete("stage8"):M.add("stage8"),T(M)},className:"w-full px-6 py-4 bg-pink-50 hover:bg-pink-100 transition-colors flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-pink-100 p-2 rounded",children:a.jsx(Kt,{className:"h-6 w-6 text-pink-600"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"🚀 Giai đoạn 8: Chuyển giao công nghệ"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[Cs.filter(M=>M.category.includes("GIAI ĐOẠN 8")&&M.hasFile).length,"/",Cs.filter(M=>M.category.includes("GIAI ĐOẠN 8")).length," tài liệu"]})]})]}),_.has("stage8")?a.jsx(Ri,{className:"h-5 w-5 text-gray-500"}):a.jsx(ur,{className:"h-5 w-5 text-gray-500"})]}),_.has("stage8")&&a.jsxs("div",{className:"border-t border-gray-200",children:[a.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("div",{className:"grid grid-cols-11 gap-4 px-6 py-3 text-sm font-semibold text-gray-700",children:[a.jsx("div",{className:"col-span-1 text-center",children:"Mã số"}),a.jsx("div",{className:"col-span-3",children:"Tên File"}),a.jsx("div",{className:"col-span-1 text-center",children:"Link"}),a.jsx("div",{className:"col-span-3",children:"File Upload"}),a.jsx("div",{className:"col-span-2",children:"Status"}),a.jsx("div",{className:"col-span-1 text-center",children:"Thao tác"})]})}),a.jsx("div",{className:"divide-y divide-gray-200",children:Cs.filter(M=>{const _e=!e||M.name.toLowerCase().includes(e.toLowerCase())||M.id.toLowerCase().includes(e.toLowerCase()),He=M.category.includes("GIAI ĐOẠN 8");return _e&&He}).map(M=>a.jsxs("div",{className:"grid grid-cols-11 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[a.jsx("div",{className:"col-span-1 text-center",children:a.jsx("span",{className:"text-xs font-mono text-pink-600 bg-pink-50 px-2 py-1 rounded",children:M.id})}),a.jsxs("div",{className:"col-span-3 flex items-center gap-3",children:[a.jsx(Kt,{className:"h-5 w-5 text-pink-500"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-900 truncate",children:M.name}),a.jsx("p",{className:"text-xs text-gray-500 truncate",children:M.fileName})]})]}),a.jsx("div",{className:"col-span-1 text-center",children:a.jsx("button",{onClick:()=>window.open(M.link,"_blank"),className:"text-blue-600 hover:text-blue-700 p-1 rounded transition-colors",title:"Xem tài liệu",children:a.jsx(cr,{className:"h-4 w-4"})})}),a.jsx("div",{className:"col-span-3",children:M.hasFile?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-900 truncate flex-1",title:M.fileName,style:{maxWidth:"150px"},children:M.fileName}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{className:"text-blue-600 hover:text-blue-700 p-1 rounded transition-colors",title:"Xem",children:a.jsx(fr,{className:"h-4 w-4"})}),a.jsx("button",{className:"text-green-600 hover:text-green-700 p-1 rounded transition-colors",title:"Tải xuống",children:a.jsx(ia,{className:"h-4 w-4"})})]})]}):a.jsxs("button",{className:"bg-pink-600 hover:bg-pink-700 text-white px-3 py-1.5 rounded text-xs font-medium transition-colors flex items-center gap-1",children:[a.jsx(Xr,{className:"h-3 w-3"}),"Tải lên"]})}),a.jsx("div",{className:"col-span-2",children:a.jsxs("select",{value:A[M.id]||M.status,onChange:_e=>$(M.id,_e.target.value),className:`text-xs border rounded px-2 py-1 focus:ring-2 focus:ring-blue-500 focus:border-transparent font-medium ${S(A[M.id]||M.status).className}`,children:[a.jsx("option",{value:"approved",children:"Đã duyệt"}),a.jsx("option",{value:"pending",children:"Chờ duyệt"}),a.jsx("option",{value:"draft",children:"Nháp"}),a.jsx("option",{value:"empty",children:"Trống"})]})}),a.jsx("div",{className:"col-span-1 text-center",children:a.jsx("button",{onClick:()=>ee(M.id),className:"text-red-600 hover:text-red-700 p-1 rounded transition-colors",title:"Xóa tài liệu",children:a.jsx(Mn,{className:"h-4 w-4"})})})]},M.id))})]})]})]})}),s==="phases"&&a.jsxs("div",{className:"divide-y divide-gray-200",children:[a.jsx("div",{className:"p-4 bg-gray-50 border-b",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(hn,{className:"h-5 w-5 text-orange-500"}),"Phases"]})}),he&&he.length>0?he.filter(M=>{var _e;return!e||((_e=M.subject)==null?void 0:_e.toLowerCase().includes(e.toLowerCase()))}).map(M=>a.jsxs("div",{className:"flex items-center gap-4 p-6 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>J(M.name,M.subject||"Unnamed Phase"),children:[a.jsx(hn,{className:"h-8 w-8 text-orange-500"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:M.subject||"Unnamed Phase"}),a.jsx("p",{className:"text-gray-600",children:"Click để xem tasks trong phase này"})]}),a.jsx("div",{className:"text-gray-400",children:a.jsx(Li,{className:"h-5 w-5"})})]},M.name)):a.jsx("div",{className:"p-6",children:a.jsx("p",{className:"text-gray-600",children:"Không có phase nào trong dự án này"})}),a.jsx("div",{className:"p-4 bg-gray-50 border-b",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(Li,{className:"h-5 w-5 text-purple-500"}),"Tasks (Không thuộc Phase)"]})}),ke&&ke.length>0?ke.filter(M=>!(e&&!M.subject.toLowerCase().includes(e.toLowerCase()))).map(M=>{const _e=(q==null?void 0:q.filter(He=>He.attached_to_name===M.name).length)||0;return a.jsxs("div",{className:"flex items-center gap-4 p-6 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>te(M.name,M.subject),children:[a.jsx(Li,{className:"h-8 w-8 text-purple-500"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:M.subject}),a.jsxs("p",{className:"text-gray-600",children:[_e," file(s)"]})]}),a.jsx("div",{className:"text-gray-400",children:a.jsx(Kt,{className:"h-5 w-5"})})]},M.name)}):a.jsx("div",{className:"p-6",children:a.jsx("p",{className:"text-gray-600",children:"Không có task nào trong dự án này"})})]}),s==="tasks"&&p&&a.jsx("div",{className:"divide-y divide-gray-200",children:ke&&ke.length>0?ke.filter(M=>!(e&&!M.subject.toLowerCase().includes(e.toLowerCase()))).map(M=>{const _e=(q==null?void 0:q.filter(He=>He.attached_to_name===M.name).length)||0;return a.jsxs("div",{className:"flex items-center gap-4 p-6 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>te(M.name,M.subject),children:[a.jsx(Li,{className:"h-8 w-8 text-purple-500"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:M.subject}),a.jsxs("p",{className:"text-gray-600",children:[_e," file(s)"]})]}),a.jsx("div",{className:"text-gray-400",children:a.jsx(Kt,{className:"h-5 w-5"})})]},M.name)}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Li,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Không có task nào trong phase này"})]})}),s==="files"&&a.jsx("div",{className:"divide-y divide-gray-200",children:Ae&&Ae.length>0?Ae.filter(M=>!e||M.file_name.toLowerCase().includes(e.toLowerCase())||M.owner.toLowerCase().includes(e.toLowerCase())).map(M=>a.jsxs("div",{className:"flex items-center gap-4 p-6 hover:bg-gray-50 transition-colors",children:[ie(M),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 truncate",children:M.file_name}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Go,{className:"h-4 w-4"}),a.jsxs("span",{children:["Người thêm: ",M.owner]})]}),!ne(M)&&a.jsxs("span",{children:["Kích thước: ",P(M.file_size)]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Xi,{className:"h-4 w-4"}),a.jsx("span",{children:new Date(M.creation).toLocaleDateString("vi-VN")})]}),ne(M)&&a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:"Link"})]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("button",{onClick:_e=>{_e.stopPropagation(),window.open(M.file_url,"_blank")},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:ne(M)?a.jsxs(a.Fragment,{children:[a.jsx(cr,{className:"h-4 w-4"}),"Mở Link"]}):a.jsxs(a.Fragment,{children:[a.jsx(ia,{className:"h-4 w-4"}),"Tải xuống"]})})})]},M.name)):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Kt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Không có file nào"}),a.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Task này chưa có file đính kèm"})]})})]}),s==="teams"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ca,{className:"h-8 w-8 text-blue-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng Team"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(D==null?void 0:D.length)||0})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Jl,{className:"h-8 w-8 text-green-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng Dự án"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(B==null?void 0:B.length)||0})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Li,{className:"h-8 w-8 text-purple-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng Task"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(W==null?void 0:W.length)||0})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Kt,{className:"h-8 w-8 text-red-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng Tài liệu"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:D?Object.values(Ve).reduce((M,_e)=>M+_e,0).toLocaleString("vi-VN"):"0"})]})]})})]})]})},U9=[{id:"1",project:"Hệ thống Điều khiển UAV Tự động",category:"Thiết kế Chi tiết",planned:5e8,actual:36e7,remaining:14e7,status:"on-track",lastUpdated:"2024-01-15"},{id:"2",project:"Cảm biến Nhiệt độ IoT",category:"Nghiên cứu Tính khả thi",planned:2e8,actual:24e7,remaining:-4e7,status:"over-budget",lastUpdated:"2024-01-16"},{id:"3",project:"Platform AI cho Robot",category:"Phát triển Sản phẩm",planned:8e8,remaining:576e6,actual:224e6,status:"under-budget",lastUpdated:"2024-01-14"}],z9=["Tất cả","Thiết kế Chi tiết","Nghiên cứu Tính khả thi","Phát triển Sản phẩm"],H9=()=>{const[e]=N.useState(U9),[t,s]=N.useState("Tất cả"),n=e.filter(x=>t==="Tất cả"||x.category===t),i=e.reduce((x,b)=>x+b.planned,0),o=e.reduce((x,b)=>x+b.actual,0),c=e.reduce((x,b)=>x+b.remaining,0),d=Math.round(o/i*100),h=x=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0,maximumFractionDigits:0}).format(x).replace("₫","đ"),f=x=>{switch(x){case"on-track":return"bg-green-100 text-green-800";case"over-budget":return"bg-red-100 text-red-800";case"under-budget":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},p=x=>{switch(x){case"on-track":return"Đúng kế hoạch";case"over-budget":return"Vượt ngân sách";case"under-budget":return"Dưới ngân sách";default:return x}},g=x=>{switch(x){case"on-track":return a.jsx(ac,{className:"h-4 w-4 text-green-600"});case"over-budget":return a.jsx(U1,{className:"h-4 w-4 text-red-600"});case"under-budget":return a.jsx(ac,{className:"h-4 w-4 text-blue-600"});default:return a.jsx(Gi,{className:"h-4 w-4 text-gray-600"})}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Ngân sách"}),a.jsx("p",{className:"text-gray-600",children:"Quản lý chi phí và ngân sách"})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[a.jsx(ia,{className:"h-4 w-4"}),"Xuất báo cáo"]}),a.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[a.jsx(jr,{className:"h-4 w-4"}),"Thêm ngân sách"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng ngân sách"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h(i)}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Kế hoạch năm 2024"})]}),a.jsx(Yo,{className:"h-8 w-8 text-blue-500"})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đã sử dụng"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h(o)}),a.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[d,"% đã sử dụng"]})]}),a.jsx(ac,{className:"h-8 w-8 text-green-500"})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Còn lại"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h(c)}),a.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:[100-d,"% còn lại"]})]}),a.jsx(U1,{className:"h-8 w-8 text-purple-500"})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Dự án vượt ngân sách"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:e.filter(x=>x.status==="over-budget").length}),a.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Cần chú ý"})]}),a.jsx(Gi,{className:"h-8 w-8 text-red-500"})]})})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(xu,{className:"h-5 w-5 text-gray-400"}),a.jsx("select",{value:t,onChange:x=>s(x.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:z9.map(x=>a.jsx("option",{value:x,children:x},x))})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dự án"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Giai đoạn"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kế hoạch"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thực tế"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Còn lại"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tiến độ"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trạng thái"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cập nhật"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(x=>{const b=Math.round(x.actual/x.planned*100);return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.project})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-500",children:x.category})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-gray-900",children:h(x.planned)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-gray-900",children:h(x.actual)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:a.jsx("span",{className:x.remaining<0?"text-red-600":"text-gray-900",children:h(x.remaining)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${b>100?"bg-red-500":b>80?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(b,100)}%`}})}),a.jsxs("span",{className:"ml-2 text-xs text-gray-600",children:[b,"%"]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${f(x.status)}`,children:[g(x.status),a.jsx("span",{className:"ml-1",children:p(x.status)})]})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-gray-500",children:x.lastUpdated})]},x.id)})})]})})}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Biểu đồ ngân sách theo thời gian"}),a.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:a.jsx("p",{className:"text-gray-500",children:"Biểu đồ sẽ được hiển thị tại đây"})})]})]})},$9=[{id:"1",title:"Thiếu linh kiện cảm biến chính",project:"Hệ thống Điều khiển UAV Tự động",category:"Kỹ thuật",probability:"high",impact:"high",status:"mitigating",owner:"Nguyễn Văn A",description:"Nhà cung cấp chính gặp vấn đề sản xuất, có thể ảnh hưởng đến tiến độ dự án",mitigation:"Tìm nhà cung cấp thay thế và đàm phán gia hạn giao hàng",createdDate:"2024-01-10",dueDate:"2024-02-15"},{id:"2",title:"Thay đổi yêu cầu từ khách hàng",project:"Cảm biến Nhiệt độ IoT",category:"Yêu cầu",probability:"medium",impact:"medium",status:"analyzing",owner:"Trần Thị B",description:"Khách hàng có thể thay đổi thông số kỹ thuật trong quá trình phát triển",mitigation:"Thiết lập quy trình quản lý thay đổi chặt chẽ",createdDate:"2024-01-12",dueDate:"2024-01-30"},{id:"3",title:"Nhân sự chủ chốt nghỉ việc",project:"Platform AI cho Robot",category:"Nhân sự",probability:"low",impact:"high",status:"identified",owner:"Lê Văn C",description:"Rủi ro mất đi nhân sự có kinh nghiệm trong quá trình phát triển",mitigation:"Xây dựng kế hoạch đào tạo và chuyển giao kiến thức",createdDate:"2024-01-08",dueDate:"2024-03-01"}],I9=["Tất cả","Kỹ thuật","Yêu cầu","Nhân sự","Tài chính","Lịch trình"],V9=["Tất cả","identified","analyzing","mitigating","closed"],q9=()=>{const[e]=N.useState($9),[t,s]=N.useState(""),[n,i]=N.useState("Tất cả"),[o,c]=N.useState("Tất cả"),d=e.filter(C=>{const S=C.title.toLowerCase().includes(t.toLowerCase())||C.project.toLowerCase().includes(t.toLowerCase()),D=n==="Tất cả"||C.category===n,E=o==="Tất cả"||C.status===o;return S&&D&&E}),h=(C,S)=>{const B=(C==="high"?3:C==="medium"?2:1)*(S==="high"?3:S==="medium"?2:1);return B>=6?{level:"Cao",color:"bg-red-100 text-red-800"}:B>=3?{level:"Trung bình",color:"bg-yellow-100 text-yellow-800"}:{level:"Thấp",color:"bg-green-100 text-green-800"}},f=C=>{switch(C){case"high":return"text-red-600";case"medium":return"text-yellow-600";case"low":return"text-green-600";default:return"text-gray-600"}},p=C=>{switch(C){case"high":return"text-red-600";case"medium":return"text-yellow-600";case"low":return"text-green-600";default:return"text-gray-600"}},g=C=>{switch(C){case"identified":return"bg-blue-100 text-blue-800";case"analyzing":return"bg-yellow-100 text-yellow-800";case"mitigating":return"bg-orange-100 text-orange-800";case"closed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},x=C=>{switch(C){case"identified":return"Đã xác định";case"analyzing":return"Đang phân tích";case"mitigating":return"Đang giảm thiểu";case"closed":return"Đã đóng";default:return C}},b=C=>{switch(C){case"high":return"Cao";case"medium":return"Trung bình";case"low":return"Thấp";default:return C}},j=C=>{switch(C){case"high":return"Cao";case"medium":return"Trung bình";case"low":return"Thấp";default:return C}},v=e.filter(C=>h(C.probability,C.impact).level==="Cao").length,_=e.filter(C=>h(C.probability,C.impact).level==="Trung bình").length,T=e.filter(C=>h(C.probability,C.impact).level==="Thấp").length,A=e.filter(C=>C.status!=="closed").length;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Rủi ro"}),a.jsx("p",{className:"text-gray-600",children:"Quản lý rủi ro dự án"})]}),a.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[a.jsx(jr,{className:"h-4 w-4"}),"Thêm rủi ro"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(pc,{className:"h-8 w-8 text-red-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rủi ro cao"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:v})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(fr,{className:"h-8 w-8 text-yellow-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rủi ro trung bình"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:_})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(uT,{className:"h-8 w-8 text-green-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rủi ro thấp"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:T})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ac,{className:"h-8 w-8 text-blue-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đang xử lý"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:A})]})]})})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(mc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx("input",{type:"text",placeholder:"Tìm kiếm rủi ro...",value:t,onChange:C=>s(C.target.value),className:"pl-10 w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsx("div",{children:a.jsx("select",{value:n,onChange:C=>i(C.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:I9.map(C=>a.jsx("option",{value:C,children:C},C))})}),a.jsx("div",{children:a.jsx("select",{value:o,onChange:C=>c(C.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:V9.map(C=>a.jsx("option",{value:C,children:C==="Tất cả"?"Tất cả trạng thái":x(C)},C))})})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rủi ro"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dự án"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Xác suất"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tác động"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mức độ"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trạng thái"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Người phụ trách"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hạn xử lý"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(C=>{const S=h(C.probability,C.impact);return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.title}),a.jsx("div",{className:"text-sm text-gray-500 mt-1",children:C.category})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900",children:C.project})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:a.jsx("span",{className:`text-sm font-medium ${f(C.probability)}`,children:b(C.probability)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:a.jsx("span",{className:`text-sm font-medium ${p(C.impact)}`,children:j(C.impact)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${S.color}`,children:S.level})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${g(C.status)}`,children:x(C.status)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:C.owner}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-gray-500",children:C.dueDate})]},C.id)})})]})})}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Ma trận rủi ro"}),a.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:a.jsx("p",{className:"text-gray-500",children:"Ma trận rủi ro sẽ được hiển thị tại đây"})})]})]})},W9=[{id:"1",title:"Gate Review 4 - UAV Control System",type:"gate-review",project:"Hệ thống Điều khiển UAV Tự động",date:"2024-01-15",time:"09:00",duration:120,location:"Phòng họp A",attendees:["Nguyễn Văn A","Trần Thị B","Lê Văn C"],status:"scheduled",description:"Đánh giá tiến độ và chất lượng giai đoạn Thiết kế Chi tiết",isOnline:!1},{id:"2",title:"Weekly Progress Meeting",type:"progress",project:"Cảm biến Nhiệt độ IoT",date:"2024-01-16",time:"14:00",duration:60,location:"Microsoft Teams",attendees:["Trần Thị B","Phạm Văn D"],status:"scheduled",description:"Họp tiến độ hàng tuần cho dự án IoT",isOnline:!0,meetingLink:"https://teams.microsoft.com/..."},{id:"3",title:"Technical Review - AI Platform",type:"technical",project:"Platform AI cho Robot",date:"2024-01-18",time:"10:30",duration:90,location:"Phòng họp B",attendees:["Lê Văn C","Hoàng Thị E","Vũ Văn F"],status:"completed",description:"Đánh giá kỹ thuật kiến trúc hệ thống AI",isOnline:!1}],Y9=[{value:"all",label:"Tất cả cuộc họp"},{value:"gate-review",label:"Gate Review"},{value:"progress",label:"Họp tiến độ"},{value:"planning",label:"Họp lập kế hoạch"},{value:"technical",label:"Họp kỹ thuật"}],G9=()=>{const[e]=N.useState(W9),[t,s]=N.useState("all"),[n,i]=N.useState("list"),o=e.filter(v=>t==="all"||v.type===t),c=v=>{switch(v){case"gate-review":return"bg-red-100 text-red-800";case"progress":return"bg-blue-100 text-blue-800";case"planning":return"bg-green-100 text-green-800";case"technical":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},d=v=>{switch(v){case"gate-review":return"Gate Review";case"progress":return"Họp tiến độ";case"planning":return"Lập kế hoạch";case"technical":return"Kỹ thuật";default:return v}},h=v=>{switch(v){case"scheduled":return"bg-blue-100 text-blue-800";case"in-progress":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},f=v=>{switch(v){case"scheduled":return"Đã lên lịch";case"in-progress":return"Đang diễn ra";case"completed":return"Hoàn thành";case"cancelled":return"Đã hủy";default:return v}},p=v=>new Date(v).toLocaleDateString("vi-VN",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),g=e.filter(v=>v.date==="2024-01-15").length,x=e.filter(v=>v.status==="scheduled").length,b=e.filter(v=>v.status==="completed").length,j=e.filter(v=>v.type==="gate-review").length;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Lịch họp"}),a.jsx("p",{className:"text-gray-600",children:"Quản lý cuộc họp và gate review"})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>i("list"),className:`px-3 py-1 rounded text-sm transition-colors ${n==="list"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:"Danh sách"}),a.jsx("button",{onClick:()=>i("calendar"),className:`px-3 py-1 rounded text-sm transition-colors ${n==="calendar"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:"Lịch"})]}),a.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[a.jsx(jr,{className:"h-4 w-4"}),"Tạo cuộc họp"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(hn,{className:"h-8 w-8 text-blue-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Hôm nay"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Xi,{className:"h-8 w-8 text-green-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Sắp tới"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(dT,{className:"h-8 w-8 text-purple-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đã hoàn thành"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Kt,{className:"h-8 w-8 text-red-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Gate Review"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j})]})]})})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Loại cuộc họp:"}),a.jsx("select",{value:t,onChange:v=>s(v.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:Y9.map(v=>a.jsx("option",{value:v.value,children:v.label},v.value))})]})}),n==="list"?a.jsx("div",{className:"space-y-4",children:o.map(v=>a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:v.title}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c(v.type)}`,children:d(v.type)}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${h(v.status)}`,children:f(v.status)})]}),a.jsx("p",{className:"text-gray-600 mb-3",children:v.description}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm text-gray-500",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(hn,{className:"h-4 w-4 mr-2"}),p(v.date)]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Xi,{className:"h-4 w-4 mr-2"}),v.time," (",v.duration," phút)"]}),a.jsxs("div",{className:"flex items-center",children:[v.isOnline?a.jsx(z1,{className:"h-4 w-4 mr-2"}):a.jsx(zM,{className:"h-4 w-4 mr-2"}),v.location]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ca,{className:"h-4 w-4 mr-2"}),v.attendees.length," người tham gia"]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Dự án: ",a.jsx("span",{className:"font-medium",children:v.project})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:v.attendees.map((_,T)=>a.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded",children:_},T))})]})]}),a.jsxs("div",{className:"flex flex-col space-y-2 ml-4",children:[v.isOnline&&v.meetingLink&&a.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm flex items-center gap-1",children:[a.jsx(z1,{className:"h-3 w-3"}),"Tham gia"]}),a.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1 rounded text-sm",children:"Chi tiết"})]})]})},v.id))}):a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Lịch cuộc họp"}),a.jsx("div",{className:"h-96 bg-gray-50 rounded-lg flex items-center justify-center",children:a.jsx("p",{className:"text-gray-500",children:"Lịch cuộc họp sẽ được hiển thị tại đây"})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cuộc họp sắp tới"}),a.jsx("div",{className:"space-y-3",children:e.filter(v=>v.status==="scheduled").slice(0,3).map(v=>a.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:v.title}),a.jsxs("p",{className:"text-xs text-gray-500",children:[v.date," - ",v.time]})]})]},v.id))})]})]})},X9=[{id:"1",name:"Báo cáo tiến độ dự án tháng 1",type:"project",description:"Tổng hợp tiến độ thực hiện các dự án R&D trong tháng 1/2024",lastGenerated:"2024-01-15",status:"ready",format:"PDF"},{id:"2",name:"Phân tích chi phí quý 1",type:"financial",description:"Báo cáo chi tiết về tình hình tài chính và ngân sách dự án",lastGenerated:"2024-01-14",status:"ready",format:"Excel"},{id:"3",name:"Báo cáo hiệu suất nhân sự",type:"resource",description:"Đánh giá hiệu suất làm việc và phân bổ nguồn lực",lastGenerated:"2024-01-13",status:"generating",format:"PowerPoint"},{id:"4",name:"Dashboard KPI tổng quan",type:"performance",description:"Các chỉ số hiệu suất chính của tổ chức",lastGenerated:"2024-01-12",status:"ready",format:"PDF"}],K9=[{value:"all",label:"Tất cả báo cáo",icon:Kt},{value:"project",label:"Báo cáo dự án",icon:Wh},{value:"financial",label:"Báo cáo tài chính",icon:Yo},{value:"resource",label:"Báo cáo nguồn lực",icon:Ca},{value:"performance",label:"Báo cáo hiệu suất",icon:ac}],Q9=()=>{const[e]=N.useState(X9),[t,s]=N.useState("all"),[n,i]=N.useState("this-month"),o=e.filter(v=>t==="all"||v.type===t),c=v=>{switch(v){case"project":return"bg-blue-100 text-blue-800";case"financial":return"bg-green-100 text-green-800";case"resource":return"bg-purple-100 text-purple-800";case"performance":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},d=v=>{switch(v){case"project":return"Dự án";case"financial":return"Tài chính";case"resource":return"Nguồn lực";case"performance":return"Hiệu suất";default:return v}},h=v=>{switch(v){case"ready":return"bg-green-100 text-green-800";case"generating":return"bg-yellow-100 text-yellow-800";case"error":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},f=v=>{switch(v){case"ready":return"Sẵn sàng";case"generating":return"Đang tạo";case"error":return"Lỗi";default:return v}},p=v=>{switch(v){case"PDF":return"📄";case"Excel":return"📊";case"PowerPoint":return"📽️";default:return"📄"}},g=e.filter(v=>v.status==="ready").length,x=e.filter(v=>v.status==="generating").length,b=e.filter(v=>v.type==="project").length,j=e.filter(v=>v.type==="financial").length;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Báo cáo"}),a.jsx("p",{className:"text-gray-600",children:"Báo cáo và thống kê"})]}),a.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[a.jsx(Kt,{className:"h-4 w-4"}),"Tạo báo cáo mới"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Kt,{className:"h-8 w-8 text-green-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Báo cáo sẵn sàng"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Wh,{className:"h-8 w-8 text-yellow-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đang tạo"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(sM,{className:"h-8 w-8 text-blue-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Báo cáo dự án"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Yo,{className:"h-8 w-8 text-purple-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Báo cáo tài chính"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j})]})]})})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loại báo cáo"}),a.jsx("select",{value:t,onChange:v=>s(v.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:K9.map(v=>a.jsx("option",{value:v.value,children:v.label},v.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Thời gian"}),a.jsxs("select",{value:n,onChange:v=>i(v.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"this-week",children:"Tuần này"}),a.jsx("option",{value:"this-month",children:"Tháng này"}),a.jsx("option",{value:"this-quarter",children:"Quý này"}),a.jsx("option",{value:"this-year",children:"Năm này"}),a.jsx("option",{value:"custom",children:"Tùy chọn"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs("button",{className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[a.jsx(xu,{className:"h-4 w-4"}),"Lọc"]})})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("button",{className:"bg-white hover:bg-gray-50 rounded-lg shadow-sm border border-gray-200 p-6 text-left transition-colors",children:[a.jsx(Wh,{className:"h-8 w-8 text-blue-500 mb-3"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Báo cáo tiến độ"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Tổng quan tiến độ các dự án"})]}),a.jsxs("button",{className:"bg-white hover:bg-gray-50 rounded-lg shadow-sm border border-gray-200 p-6 text-left transition-colors",children:[a.jsx(Yo,{className:"h-8 w-8 text-green-500 mb-3"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Báo cáo tài chính"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Chi phí và ngân sách"})]}),a.jsxs("button",{className:"bg-white hover:bg-gray-50 rounded-lg shadow-sm border border-gray-200 p-6 text-left transition-colors",children:[a.jsx(Ca,{className:"h-8 w-8 text-purple-500 mb-3"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Báo cáo nhân sự"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Hiệu suất và phân bổ"})]}),a.jsxs("button",{className:"bg-white hover:bg-gray-50 rounded-lg shadow-sm border border-gray-200 p-6 text-left transition-colors",children:[a.jsx(ac,{className:"h-8 w-8 text-orange-500 mb-3"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Dashboard KPI"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Chỉ số hiệu suất"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Báo cáo gần đây"})}),a.jsx("div",{className:"divide-y divide-gray-200",children:o.map(v=>a.jsx("div",{className:"p-6 hover:bg-gray-50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900",children:v.name}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c(v.type)}`,children:d(v.type)}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${h(v.status)}`,children:f(v.status)})]}),a.jsx("p",{className:"text-gray-600 mb-2",children:v.description}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(hn,{className:"h-4 w-4 mr-1"}),"Tạo: ",v.lastGenerated]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"mr-1",children:p(v.format)}),v.format]})]})]}),a.jsxs("div",{className:"flex space-x-2 ml-4",children:[v.status==="ready"&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm flex items-center gap-1",children:[a.jsx(ia,{className:"h-3 w-3"}),"Tải xuống"]}),a.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1 rounded text-sm",children:"Xem"})]}),v.status==="generating"&&a.jsxs("div",{className:"flex items-center text-yellow-600",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-yellow-600 border-t-transparent mr-2"}),"Đang tạo..."]}),a.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1 rounded text-sm",children:"Tạo lại"})]})]})},v.id))})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Tiến độ dự án theo thời gian"}),a.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:a.jsx("p",{className:"text-gray-500",children:"Biểu đồ tiến độ sẽ được hiển thị tại đây"})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Phân bổ ngân sách theo dự án"}),a.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:a.jsx("p",{className:"text-gray-500",children:"Biểu đồ ngân sách sẽ được hiển thị tại đây"})})]})]})]})},Xk=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thông tin tổ chức"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tên tổ chức"}),a.jsx("input",{type:"text",defaultValue:"R&D Management",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email liên hệ"}),a.jsx("input",{type:"email",defaultValue:"admin@company.com",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số điện thoại"}),a.jsx("input",{type:"tel",defaultValue:"+84 123 456 789",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Múi giờ"}),a.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"Asia/Ho_Chi_Minh",children:"UTC+7 (Việt Nam)"}),a.jsx("option",{value:"UTC",children:"UTC"}),a.jsx("option",{value:"Asia/Tokyo",children:"UTC+9 (Nhật Bản)"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cài đặt hệ thống"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Cho phép đăng ký mới"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Cho phép người dùng mới tự đăng ký tài khoản"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Yêu cầu xác thực 2 lớp"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Bắt buộc người dùng sử dụng 2FA"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})]}),Z9=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thông tin cá nhân"}),a.jsxs("div",{className:"flex items-center space-x-6 mb-6",children:[a.jsx("div",{className:"w-24 h-24 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-2xl",children:"AU"})}),a.jsxs("div",{children:[a.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg mr-3",children:"Thay đổi ảnh"}),a.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg",children:"Xóa ảnh"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Họ và tên"}),a.jsx("input",{type:"text",defaultValue:"Admin User",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),a.jsx("input",{type:"email",defaultValue:"admin@company.com",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vị trí"}),a.jsx("input",{type:"text",defaultValue:"System Administrator",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phòng ban"}),a.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{children:"IT Department"}),a.jsx("option",{children:"R&D Department"}),a.jsx("option",{children:"Management"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thay đổi mật khẩu"}),a.jsxs("div",{className:"space-y-4 max-w-md",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mật khẩu hiện tại"}),a.jsx("input",{type:"password",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mật khẩu mới"}),a.jsx("input",{type:"password",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Xác nhận mật khẩu mới"}),a.jsx("input",{type:"password",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Cập nhật mật khẩu"})]})]})]}),J9=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thông báo Email"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Cập nhật dự án"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Nhận thông báo khi có cập nhật về dự án"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Thông báo task"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Nhận thông báo khi có task mới được giao"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Báo cáo tuần"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Nhận báo cáo tổng hợp hàng tuần"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thông báo trình duyệt"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Thông báo realtime"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Hiển thị thông báo ngay lập tức trên trình duyệt"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})})]})]}),e$=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Bảo mật tài khoản"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Xác thực 2 lớp (2FA)"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Tăng cường bảo mật với xác thực 2 lớp"})]}),a.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Kích hoạt"})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Phiên đăng nhập"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Quản lý các phiên đăng nhập hiện tại"})]}),a.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg",children:"Xem chi tiết"})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Nhật ký hoạt động"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Xem lịch sử hoạt động của tài khoản"})]}),a.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg",children:"Xem nhật ký"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quyền riêng tư"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Hiển thị trạng thái online"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Cho phép người khác thấy khi bạn đang online"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})})]})]}),t2=[{id:"general",name:"Cài đặt chung",icon:cy,component:Xk},{id:"user",name:"Tài khoản",icon:Go,component:Z9},{id:"notifications",name:"Thông báo",icon:cT,component:J9},{id:"security",name:"Bảo mật",icon:uT,component:e$}],t$=()=>{var n;const[e,t]=N.useState("general"),s=((n=t2.find(i=>i.id===e))==null?void 0:n.component)||Xk;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Cài đặt"}),a.jsx("p",{className:"text-gray-600",children:"Cài đặt hệ thống"})]}),a.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[a.jsx(t5,{className:"h-4 w-4"}),"Lưu thay đổi"]})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[a.jsx("div",{className:"lg:w-64 flex-shrink-0",children:a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:a.jsx("nav",{className:"space-y-1 p-2",children:t2.map(i=>{const o=i.icon;return a.jsxs("button",{onClick:()=>t(i.id),className:`w-full flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${e===i.id?"bg-blue-50 text-blue-700 border-l-4 border-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:[a.jsx(o,{className:`mr-3 h-5 w-5 ${e===i.id?"text-blue-600":"text-gray-400"}`}),i.name]},i.id)})})})}),a.jsx("div",{className:"flex-1",children:a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsx(s,{})})})]})]})},s$=[{id:1,project:"E-commerce Platform",task:"Design user interface mockups",user:"Jane Smith",startTime:"09:00 AM",endTime:"11:30 AM",duration:"2h 30m",date:"2024-03-08"},{id:2,project:"Mobile App Redesign",task:"API documentation",user:"Mike Johnson",startTime:"02:00 PM",endTime:"04:15 PM",duration:"2h 15m",date:"2024-03-08"},{id:3,project:"Data Analytics Dashboard",task:"Testing setup",user:"Sarah Wilson",startTime:"10:30 AM",endTime:"12:00 PM",duration:"1h 30m",date:"2024-03-07"}],n$=()=>{const[e,t]=re.useState(!1),[s,n]=re.useState("00:00:00");return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"md:flex md:items-center md:justify-between",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Time Tracking"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Track time spent on projects and tasks"})]})}),a.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-6",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"text-4xl font-mono font-bold text-gray-900",children:s}),a.jsx("div",{className:"flex items-center justify-center space-x-4",children:e?a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>t(!1),className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-yellow-600 hover:bg-yellow-700",children:[a.jsx(VM,{className:"mr-2 h-5 w-5"}),"Pause"]}),a.jsxs("button",{onClick:()=>{t(!1),n("00:00:00")},className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-red-600 hover:bg-red-700",children:[a.jsx(l5,{className:"mr-2 h-5 w-5"}),"Stop"]})]}):a.jsxs("button",{onClick:()=>t(!0),className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-green-600 hover:bg-green-700",children:[a.jsx(KM,{className:"mr-2 h-5 w-5"}),"Start Timer"]})}),e&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project"}),a.jsxs("select",{className:"w-full border border-gray-300 rounded-md px-3 py-2",children:[a.jsx("option",{children:"E-commerce Platform"}),a.jsx("option",{children:"Mobile App Redesign"}),a.jsx("option",{children:"Data Analytics Dashboard"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Task Description"}),a.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"What are you working on?"})]})]})]})}),a.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Time Entries"})}),a.jsx("div",{className:"overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Task"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time Period"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s$.map(i=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:i.project}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.task}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.user}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[i.startTime," - ",i.endTime]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[a.jsx(Xi,{className:"mr-1 h-3 w-3"}),i.duration]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.date})]},i.id))})]})})]})]})},a$=D4([{path:"/",element:a.jsx(ML,{}),children:[{index:!0,element:a.jsx(BU,{})},{path:"projects",element:a.jsx(C9,{})},{path:"tasks",element:a.jsx(B9,{})},{path:"documents",element:a.jsx(F9,{})},{path:"budget",element:a.jsx(H9,{})},{path:"risk",element:a.jsx(q9,{})},{path:"meetings",element:a.jsx(G9,{})},{path:"reports",element:a.jsx(Q9,{})},{path:"settings",element:a.jsx(t$,{})},{path:"time-tracking",element:a.jsx(n$,{})}]}],{basename:"/todo"});YD.createRoot(document.getElementById("root")).render(a.jsx(re.StrictMode,{children:a.jsx(H4,{router:a$})}))});export default r$();
