var ZE=Object.defineProperty,JE=Object.defineProperties;var e4=Object.getOwnPropertyDescriptors;var Oh=Object.getOwnPropertySymbols;var mw=Object.prototype.hasOwnProperty,gw=Object.prototype.propertyIsEnumerable;var Pl=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),t4=e=>{throw TypeError(e)};var Cp=(e,t,s)=>t in e?ZE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,z=(e,t)=>{for(var s in t||(t={}))mw.call(t,s)&&Cp(e,s,t[s]);if(Oh)for(var s of Oh(t))gw.call(t,s)&&Cp(e,s,t[s]);return e},oe=(e,t)=>JE(e,e4(t));var $e=(e,t)=>{var s={};for(var n in e)mw.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&Oh)for(var n of Oh(e))t.indexOf(n)<0&&gw.call(e,n)&&(s[n]=e[n]);return s};var s4=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var St=(e,t,s)=>Cp(e,typeof t!="symbol"?t+"":t,s);var fe=(e,t,s)=>new Promise((n,i)=>{var l=h=>{try{u(s.next(h))}catch(f){i(f)}},c=h=>{try{u(s.throw(h))}catch(f){i(f)}},u=h=>h.done?n(h.value):Promise.resolve(h.value).then(l,c);u((s=s.apply(e,t)).next())}),So=function(e,t){this[0]=e,this[1]=t},Ep=(e,t,s)=>{var n=(c,u,h,f)=>{try{var g=s[c](u),p=(u=g.value)instanceof So,b=g.done;Promise.resolve(p?u[0]:u).then(y=>p?n(c==="return"?c:"next",u[1]?{done:y.done,value:y.value}:y,h,f):h({value:y,done:b})).catch(y=>n("throw",y,h,f))}catch(y){f(y)}},i=c=>l[c]=u=>new Promise((h,f)=>n(c,u,h,f)),l={};return s=s.apply(e,t),l[Pl("asyncIterator")]=()=>l,i("next"),i("throw"),i("return"),l},Dp=e=>{var t=e[Pl("asyncIterator")],s=!1,n,i={};return t==null?(t=e[Pl("iterator")](),n=l=>i[l]=c=>t[l](c)):(t=t.call(e),n=l=>i[l]=c=>{if(s){if(s=!1,l==="throw")throw c;return c}return s=!0,{done:!1,value:new So(new Promise(u=>{var h=t[l](c);h instanceof Object||t4("Object expected"),u(h)}),1)}}),i[Pl("iterator")]=()=>i,n("next"),"throw"in t?n("throw"):i.throw=l=>{throw l},"return"in t&&n("return"),i},pw=(e,t,s)=>(t=e[Pl("asyncIterator")])?t.call(e):(e=e[Pl("iterator")](),t={},s=(n,i)=>(i=e[n])&&(t[n]=l=>new Promise((c,u,h)=>(l=i.call(e,l),h=l.done,Promise.resolve(l.value).then(f=>c({value:f,done:h}),u)))),s("next"),s("return"),t);var a$=s4(yt=>{function n4(e,t){for(var s=0;s<t.length;s++){const n=t[s];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const l=Object.getOwnPropertyDescriptor(n,i);l&&Object.defineProperty(e,i,l.get?l:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function s(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(i){if(i.ep)return;i.ep=!0;const l=s(i);fetch(i.href,l)}})();function _x(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ap={exports:{}},vd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xw;function a4(){if(xw)return vd;xw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(n,i,l){var c=null;if(l!==void 0&&(c=""+l),i.key!==void 0&&(c=""+i.key),"key"in i){l={};for(var u in i)u!=="key"&&(l[u]=i[u])}else l=i;return i=l.ref,{$$typeof:e,type:n,key:c,ref:i!==void 0?i:null,props:l}}return vd.Fragment=t,vd.jsx=s,vd.jsxs=s,vd}var yw;function r4(){return yw||(yw=1,Ap.exports=a4()),Ap.exports}var a=r4(),Op={exports:{}},Mt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bw;function i4(){if(bw)return Mt;bw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),p=Symbol.iterator;function b(P){return P===null||typeof P!="object"?null:(P=p&&P[p]||P["@@iterator"],typeof P=="function"?P:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,v={};function _(P,ne,ge){this.props=P,this.context=ne,this.refs=v,this.updater=ge||y}_.prototype.isReactComponent={},_.prototype.setState=function(P,ne){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ne,"setState")},_.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function T(){}T.prototype=_.prototype;function O(P,ne,ge){this.props=P,this.context=ne,this.refs=v,this.updater=ge||y}var S=O.prototype=new T;S.constructor=O,j(S,_.prototype),S.isPureReactComponent=!0;var C=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},E=Object.prototype.hasOwnProperty;function L(P,ne,ge,G,re,_e){return ge=_e.ref,{$$typeof:e,type:P,key:ne,ref:ge!==void 0?ge:null,props:_e}}function F(P,ne){return L(P.type,ne,void 0,void 0,void 0,P.props)}function R(P){return typeof P=="object"&&P!==null&&P.$$typeof===e}function K(P){var ne={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ge){return ne[ge]})}var W=/\/+/g;function Q(P,ne){return typeof P=="object"&&P!==null&&P.key!=null?K(""+P.key):ne.toString(36)}function H(){}function q(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(H,H):(P.status="pending",P.then(function(ne){P.status==="pending"&&(P.status="fulfilled",P.value=ne)},function(ne){P.status==="pending"&&(P.status="rejected",P.reason=ne)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function Y(P,ne,ge,G,re){var _e=typeof P;(_e==="undefined"||_e==="boolean")&&(P=null);var me=!1;if(P===null)me=!0;else switch(_e){case"bigint":case"string":case"number":me=!0;break;case"object":switch(P.$$typeof){case e:case t:me=!0;break;case g:return me=P._init,Y(me(P._payload),ne,ge,G,re)}}if(me)return re=re(P),me=G===""?"."+Q(P,0):G,C(re)?(ge="",me!=null&&(ge=me.replace(W,"$&/")+"/"),Y(re,ne,ge,"",function(Ee){return Ee})):re!=null&&(R(re)&&(re=F(re,ge+(re.key==null||P&&P.key===re.key?"":(""+re.key).replace(W,"$&/")+"/")+me)),ne.push(re)),1;me=0;var Le=G===""?".":G+":";if(C(P))for(var we=0;we<P.length;we++)G=P[we],_e=Le+Q(G,we),me+=Y(G,ne,ge,_e,re);else if(we=b(P),typeof we=="function")for(P=we.call(P),we=0;!(G=P.next()).done;)G=G.value,_e=Le+Q(G,we++),me+=Y(G,ne,ge,_e,re);else if(_e==="object"){if(typeof P.then=="function")return Y(q(P),ne,ge,G,re);throw ne=String(P),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return me}function $(P,ne,ge){if(P==null)return P;var G=[],re=0;return Y(P,G,"","",function(_e){return ne.call(ge,_e,re++)}),G}function J(P){if(P._status===-1){var ne=P._result;ne=ne(),ne.then(function(ge){(P._status===0||P._status===-1)&&(P._status=1,P._result=ge)},function(ge){(P._status===0||P._status===-1)&&(P._status=2,P._result=ge)}),P._status===-1&&(P._status=0,P._result=ne)}if(P._status===1)return P._result.default;throw P._result}var se=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function Ne(){}return Mt.Children={map:$,forEach:function(P,ne,ge){$(P,function(){ne.apply(this,arguments)},ge)},count:function(P){var ne=0;return $(P,function(){ne++}),ne},toArray:function(P){return $(P,function(ne){return ne})||[]},only:function(P){if(!R(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Mt.Component=_,Mt.Fragment=s,Mt.Profiler=i,Mt.PureComponent=O,Mt.StrictMode=n,Mt.Suspense=h,Mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Mt.__COMPILER_RUNTIME={__proto__:null,c:function(P){return D.H.useMemoCache(P)}},Mt.cache=function(P){return function(){return P.apply(null,arguments)}},Mt.cloneElement=function(P,ne,ge){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var G=j({},P.props),re=P.key,_e=void 0;if(ne!=null)for(me in ne.ref!==void 0&&(_e=void 0),ne.key!==void 0&&(re=""+ne.key),ne)!E.call(ne,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&ne.ref===void 0||(G[me]=ne[me]);var me=arguments.length-2;if(me===1)G.children=ge;else if(1<me){for(var Le=Array(me),we=0;we<me;we++)Le[we]=arguments[we+2];G.children=Le}return L(P.type,re,void 0,void 0,_e,G)},Mt.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},Mt.createElement=function(P,ne,ge){var G,re={},_e=null;if(ne!=null)for(G in ne.key!==void 0&&(_e=""+ne.key),ne)E.call(ne,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(re[G]=ne[G]);var me=arguments.length-2;if(me===1)re.children=ge;else if(1<me){for(var Le=Array(me),we=0;we<me;we++)Le[we]=arguments[we+2];re.children=Le}if(P&&P.defaultProps)for(G in me=P.defaultProps,me)re[G]===void 0&&(re[G]=me[G]);return L(P,_e,void 0,void 0,null,re)},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(P){return{$$typeof:u,render:P}},Mt.isValidElement=R,Mt.lazy=function(P){return{$$typeof:g,_payload:{_status:-1,_result:P},_init:J}},Mt.memo=function(P,ne){return{$$typeof:f,type:P,compare:ne===void 0?null:ne}},Mt.startTransition=function(P){var ne=D.T,ge={};D.T=ge;try{var G=P(),re=D.S;re!==null&&re(ge,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(Ne,se)}catch(_e){se(_e)}finally{D.T=ne}},Mt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Mt.use=function(P){return D.H.use(P)},Mt.useActionState=function(P,ne,ge){return D.H.useActionState(P,ne,ge)},Mt.useCallback=function(P,ne){return D.H.useCallback(P,ne)},Mt.useContext=function(P){return D.H.useContext(P)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(P,ne){return D.H.useDeferredValue(P,ne)},Mt.useEffect=function(P,ne,ge){var G=D.H;if(typeof ge=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(P,ne)},Mt.useId=function(){return D.H.useId()},Mt.useImperativeHandle=function(P,ne,ge){return D.H.useImperativeHandle(P,ne,ge)},Mt.useInsertionEffect=function(P,ne){return D.H.useInsertionEffect(P,ne)},Mt.useLayoutEffect=function(P,ne){return D.H.useLayoutEffect(P,ne)},Mt.useMemo=function(P,ne){return D.H.useMemo(P,ne)},Mt.useOptimistic=function(P,ne){return D.H.useOptimistic(P,ne)},Mt.useReducer=function(P,ne,ge){return D.H.useReducer(P,ne,ge)},Mt.useRef=function(P){return D.H.useRef(P)},Mt.useState=function(P){return D.H.useState(P)},Mt.useSyncExternalStore=function(P,ne,ge){return D.H.useSyncExternalStore(P,ne,ge)},Mt.useTransition=function(){return D.H.useTransition()},Mt.version="19.1.1",Mt}var vw;function Tx(){return vw||(vw=1,Op.exports=i4()),Op.exports}var N=Tx();const ye=_x(N),U2=n4({__proto__:null,default:ye},[N]);var Mp={exports:{}},wd={},Rp={exports:{}},Pp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ww;function o4(){return ww||(ww=1,function(e){function t($,J){var se=$.length;$.push(J);e:for(;0<se;){var Ne=se-1>>>1,P=$[Ne];if(0<i(P,J))$[Ne]=J,$[se]=P,se=Ne;else break e}}function s($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var J=$[0],se=$.pop();if(se!==J){$[0]=se;e:for(var Ne=0,P=$.length,ne=P>>>1;Ne<ne;){var ge=2*(Ne+1)-1,G=$[ge],re=ge+1,_e=$[re];if(0>i(G,se))re<P&&0>i(_e,G)?($[Ne]=_e,$[re]=se,Ne=re):($[Ne]=G,$[ge]=se,Ne=ge);else if(re<P&&0>i(_e,se))$[Ne]=_e,$[re]=se,Ne=re;else break e}}return J}function i($,J){var se=$.sortIndex-J.sortIndex;return se!==0?se:$.id-J.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var h=[],f=[],g=1,p=null,b=3,y=!1,j=!1,v=!1,_=!1,T=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate!="undefined"?setImmediate:null;function C($){for(var J=s(f);J!==null;){if(J.callback===null)n(f);else if(J.startTime<=$)n(f),J.sortIndex=J.expirationTime,t(h,J);else break;J=s(f)}}function D($){if(v=!1,C($),!j)if(s(h)!==null)j=!0,E||(E=!0,Q());else{var J=s(f);J!==null&&Y(D,J.startTime-$)}}var E=!1,L=-1,F=5,R=-1;function K(){return _?!0:!(e.unstable_now()-R<F)}function W(){if(_=!1,E){var $=e.unstable_now();R=$;var J=!0;try{e:{j=!1,v&&(v=!1,O(L),L=-1),y=!0;var se=b;try{t:{for(C($),p=s(h);p!==null&&!(p.expirationTime>$&&K());){var Ne=p.callback;if(typeof Ne=="function"){p.callback=null,b=p.priorityLevel;var P=Ne(p.expirationTime<=$);if($=e.unstable_now(),typeof P=="function"){p.callback=P,C($),J=!0;break t}p===s(h)&&n(h),C($)}else n(h);p=s(h)}if(p!==null)J=!0;else{var ne=s(f);ne!==null&&Y(D,ne.startTime-$),J=!1}}break e}finally{p=null,b=se,y=!1}J=void 0}}finally{J?Q():E=!1}}}var Q;if(typeof S=="function")Q=function(){S(W)};else if(typeof MessageChannel!="undefined"){var H=new MessageChannel,q=H.port2;H.port1.onmessage=W,Q=function(){q.postMessage(null)}}else Q=function(){T(W,0)};function Y($,J){L=T(function(){$(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function($){switch(b){case 1:case 2:case 3:var J=3;break;default:J=b}var se=b;b=J;try{return $()}finally{b=se}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function($,J){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var se=b;b=$;try{return J()}finally{b=se}},e.unstable_scheduleCallback=function($,J,se){var Ne=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Ne+se:Ne):se=Ne,$){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=se+P,$={id:g++,callback:J,priorityLevel:$,startTime:se,expirationTime:P,sortIndex:-1},se>Ne?($.sortIndex=se,t(f,$),s(h)===null&&$===s(f)&&(v?(O(L),L=-1):v=!0,Y(D,se-Ne))):($.sortIndex=P,t(h,$),j||y||(j=!0,E||(E=!0,Q()))),$},e.unstable_shouldYield=K,e.unstable_wrapCallback=function($){var J=b;return function(){var se=b;b=J;try{return $.apply(this,arguments)}finally{b=se}}}}(Pp)),Pp}var jw;function l4(){return jw||(jw=1,Rp.exports=o4()),Rp.exports}var Lp={exports:{}},wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nw;function c4(){if(Nw)return wn;Nw=1;var e=Tx();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var n={d:{f:s,r:function(){throw Error(t(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(h,f,g){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:h,containerInfo:f,implementation:g}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,wn.createPortal=function(h,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return l(h,f,null,g)},wn.flushSync=function(h){var f=c.T,g=n.p;try{if(c.T=null,n.p=2,h)return h()}finally{c.T=f,n.p=g,n.d.f()}},wn.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(h,f))},wn.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},wn.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var g=f.as,p=u(g,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?n.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:b,fetchPriority:y}):g==="script"&&n.d.X(h,{crossOrigin:p,integrity:b,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},wn.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=u(f.as,f.crossOrigin);n.d.M(h,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(h)},wn.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,p=u(g,f.crossOrigin);n.d.L(h,g,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},wn.preloadModule=function(h,f){if(typeof h=="string")if(f){var g=u(f.as,f.crossOrigin);n.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(h)},wn.requestFormReset=function(h){n.d.r(h)},wn.unstable_batchedUpdates=function(h,f){return h(f)},wn.useFormState=function(h,f,g){return c.H.useFormState(h,f,g)},wn.useFormStatus=function(){return c.H.useHostTransitionStatus()},wn.version="19.1.1",wn}var _w;function H2(){if(_w)return Lp.exports;_w=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Lp.exports=c4(),Lp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tw;function d4(){if(Tw)return wd;Tw=1;var e=l4(),t=Tx(),s=H2();function n(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var o=r,d=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(d=o.return),r=o.return;while(r)}return o.tag===3?d:null}function c(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function u(r){if(l(r)!==r)throw Error(n(188))}function h(r){var o=r.alternate;if(!o){if(o=l(r),o===null)throw Error(n(188));return o!==r?null:r}for(var d=r,m=o;;){var x=d.return;if(x===null)break;var w=x.alternate;if(w===null){if(m=x.return,m!==null){d=m;continue}break}if(x.child===w.child){for(w=x.child;w;){if(w===d)return u(x),r;if(w===m)return u(x),o;w=w.sibling}throw Error(n(188))}if(d.return!==m.return)d=x,m=w;else{for(var A=!1,B=x.child;B;){if(B===d){A=!0,d=x,m=w;break}if(B===m){A=!0,m=x,d=w;break}B=B.sibling}if(!A){for(B=w.child;B;){if(B===d){A=!0,d=w,m=x;break}if(B===m){A=!0,m=w,d=x;break}B=B.sibling}if(!A)throw Error(n(189))}}if(d.alternate!==m)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?r:o}function f(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=f(r),o!==null)return o;r=r.sibling}return null}var g=Object.assign,p=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),S=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function Q(r){return r===null||typeof r!="object"?null:(r=W&&r[W]||r["@@iterator"],typeof r=="function"?r:null)}var H=Symbol.for("react.client.reference");function q(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===H?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case j:return"Fragment";case _:return"Profiler";case v:return"StrictMode";case D:return"Suspense";case E:return"SuspenseList";case R:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case y:return"Portal";case S:return(r.displayName||"Context")+".Provider";case O:return(r._context.displayName||"Context")+".Consumer";case C:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case L:return o=r.displayName||null,o!==null?o:q(r.type)||"Memo";case F:o=r._payload,r=r._init;try{return q(r(o))}catch(d){}}return null}var Y=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},Ne=[],P=-1;function ne(r){return{current:r}}function ge(r){0>P||(r.current=Ne[P],Ne[P]=null,P--)}function G(r,o){P++,Ne[P]=r.current,r.current=o}var re=ne(null),_e=ne(null),me=ne(null),Le=ne(null);function we(r,o){switch(G(me,o),G(_e,r),G(re,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?$1(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=$1(o),r=V1(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ge(re),G(re,r)}function Ee(){ge(re),ge(_e),ge(me)}function X(r){r.memoizedState!==null&&G(Le,r);var o=re.current,d=V1(o,r.type);o!==d&&(G(_e,r),G(re,d))}function Oe(r){_e.current===r&&(ge(re),ge(_e)),Le.current===r&&(ge(Le),gd._currentValue=se)}var He=Object.prototype.hasOwnProperty,Ye=e.unstable_scheduleCallback,tt=e.unstable_cancelCallback,gt=e.unstable_shouldYield,Dt=e.unstable_requestPaint,De=e.unstable_now,Ue=e.unstable_getCurrentPriorityLevel,Pe=e.unstable_ImmediatePriority,Z=e.unstable_UserBlockingPriority,le=e.unstable_NormalPriority,V=e.unstable_LowPriority,Te=e.unstable_IdlePriority,Be=e.log,Re=e.unstable_setDisableYieldValue,Ve=null,Ge=null;function st(r){if(typeof Be=="function"&&Re(r),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(Ve,r)}catch(o){}}var Nt=Math.clz32?Math.clz32:Ze,ke=Math.log,ze=Math.LN2;function Ze(r){return r>>>=0,r===0?32:31-(ke(r)/ze|0)|0}var Xe=256,Bt=4194304;function It(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function ds(r,o,d){var m=r.pendingLanes;if(m===0)return 0;var x=0,w=r.suspendedLanes,A=r.pingedLanes;r=r.warmLanes;var B=m&134217727;return B!==0?(m=B&~w,m!==0?x=It(m):(A&=B,A!==0?x=It(A):d||(d=B&~r,d!==0&&(x=It(d))))):(B=m&~w,B!==0?x=It(B):A!==0?x=It(A):d||(d=m&~r,d!==0&&(x=It(d)))),x===0?0:o!==0&&o!==x&&(o&w)===0&&(w=x&-x,d=o&-o,w>=d||w===32&&(d&4194048)!==0)?o:x}function Qs(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function xn(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zs(){var r=Xe;return Xe<<=1,(Xe&4194048)===0&&(Xe=256),r}function vr(){var r=Bt;return Bt<<=1,(Bt&62914560)===0&&(Bt=4194304),r}function Wa(r){for(var o=[],d=0;31>d;d++)o.push(r);return o}function ra(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function wr(r,o,d,m,x,w){var A=r.pendingLanes;r.pendingLanes=d,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=d,r.entangledLanes&=d,r.errorRecoveryDisabledLanes&=d,r.shellSuspendCounter=0;var B=r.entanglements,ee=r.expirationTimes,xe=r.hiddenUpdates;for(d=A&~d;0<d;){var Ce=31-Nt(d),Me=1<<Ce;B[Ce]=0,ee[Ce]=-1;var ve=xe[Ce];if(ve!==null)for(xe[Ce]=null,Ce=0;Ce<ve.length;Ce++){var je=ve[Ce];je!==null&&(je.lane&=-536870913)}d&=~Me}m!==0&&bt(r,m,0),w!==0&&x===0&&r.tag!==0&&(r.suspendedLanes|=w&~(A&~o))}function bt(r,o,d){r.pendingLanes|=o,r.suspendedLanes&=~o;var m=31-Nt(o);r.entangledLanes|=o,r.entanglements[m]=r.entanglements[m]|1073741824|d&4194090}function Qt(r,o){var d=r.entangledLanes|=o;for(r=r.entanglements;d;){var m=31-Nt(d),x=1<<m;x&o|r[m]&o&&(r[m]|=o),d&=~x}}function fs(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Os(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function te(){var r=J.p;return r!==0?r:(r=window.event,r===void 0?32:lw(r.type))}function ie(r,o){var d=J.p;try{return J.p=r,o()}finally{J.p=d}}var pe=Math.random().toString(36).slice(2),Se="__reactFiber$"+pe,Fe="__reactProps$"+pe,Ke="__reactContainer$"+pe,nt="__reactEvents$"+pe,ot="__reactListeners$"+pe,pt="__reactHandles$"+pe,Ot="__reactResources$"+pe,dt="__reactMarker$"+pe;function Tt(r){delete r[Se],delete r[Fe],delete r[nt],delete r[ot],delete r[pt]}function At(r){var o=r[Se];if(o)return o;for(var d=r.parentNode;d;){if(o=d[Ke]||d[Se]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(r=Y1(r);r!==null;){if(d=r[Se])return d;r=Y1(r)}return o}r=d,d=r.parentNode}return null}function us(r){if(r=r[Se]||r[Ke]){var o=r.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return r}return null}function _s(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(n(33))}function as(r){var o=r[Ot];return o||(o=r[Ot]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function ut(r){r[dt]=!0}var Ct=new Set,Wt={};function bs(r,o){Ts(r,o),Ts(r+"Capture",o)}function Ts(r,o){for(Wt[r]=o,r=0;r<o.length;r++)Ct.add(o[r])}var Ws=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Js={},ia={};function oa(r){return He.call(ia,r)?!0:He.call(Js,r)?!1:Ws.test(r)?ia[r]=!0:(Js[r]=!0,!1)}function yn(r,o,d){if(oa(o))if(d===null)r.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+d)}}function la(r,o,d){if(d===null)r.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+d)}}function Rt(r,o,d,m){if(m===null)r.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(d);return}r.setAttributeNS(o,d,""+m)}}var Ss,jr;function on(r){if(Ss===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);Ss=o&&o[1]||"",jr=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ss+r+jr}var ms=!1;function ka(r,o){if(!r||ms)return"";ms=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var Me=function(){throw Error()};if(Object.defineProperty(Me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Me,[])}catch(je){var ve=je}Reflect.construct(r,[],Me)}else{try{Me.call()}catch(je){ve=je}r.call(Me.prototype)}}else{try{throw Error()}catch(je){ve=je}(Me=r())&&typeof Me.catch=="function"&&Me.catch(function(){})}}catch(je){if(je&&ve&&typeof je.stack=="string")return[je.stack,ve.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=m.DetermineComponentFrameRoot(),A=w[0],B=w[1];if(A&&B){var ee=A.split(`
`),xe=B.split(`
`);for(x=m=0;m<ee.length&&!ee[m].includes("DetermineComponentFrameRoot");)m++;for(;x<xe.length&&!xe[x].includes("DetermineComponentFrameRoot");)x++;if(m===ee.length||x===xe.length)for(m=ee.length-1,x=xe.length-1;1<=m&&0<=x&&ee[m]!==xe[x];)x--;for(;1<=m&&0<=x;m--,x--)if(ee[m]!==xe[x]){if(m!==1||x!==1)do if(m--,x--,0>x||ee[m]!==xe[x]){var Ce=`
`+ee[m].replace(" at new "," at ");return r.displayName&&Ce.includes("<anonymous>")&&(Ce=Ce.replace("<anonymous>",r.displayName)),Ce}while(1<=m&&0<=x);break}}}finally{ms=!1,Error.prepareStackTrace=d}return(d=r?r.displayName||r.name:"")?on(d):""}function Qo(r){switch(r.tag){case 26:case 27:case 5:return on(r.type);case 16:return on("Lazy");case 13:return on("Suspense");case 19:return on("SuspenseList");case 0:case 15:return ka(r.type,!1);case 11:return ka(r.type.render,!1);case 1:return ka(r.type,!0);case 31:return on("Activity");default:return""}}function Zo(r){try{var o="";do o+=Qo(r),r=r.return;while(r);return o}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function On(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Tu(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Su(r){var o=Tu(r)?"checked":"value",d=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),m=""+r[o];if(!r.hasOwnProperty(o)&&typeof d!="undefined"&&typeof d.get=="function"&&typeof d.set=="function"){var x=d.get,w=d.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return x.call(this)},set:function(A){m=""+A,w.call(this,A)}}),Object.defineProperty(r,o,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(A){m=""+A},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function to(r){r._valueTracker||(r._valueTracker=Su(r))}function Ya(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var d=o.getValue(),m="";return r&&(m=Tu(r)?r.checked?"true":"false":r.value),r=m,r!==d?(o.setValue(r),!0):!1}function so(r){if(r=r||(typeof document!="undefined"?document:void 0),typeof r=="undefined")return null;try{return r.activeElement||r.body}catch(o){return r.body}}var Pm=/[\n"\\]/g;function Mn(r){return r.replace(Pm,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Tc(r,o,d,m,x,w,A,B){r.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.type=A:r.removeAttribute("type"),o!=null?A==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+On(o)):r.value!==""+On(o)&&(r.value=""+On(o)):A!=="submit"&&A!=="reset"||r.removeAttribute("value"),o!=null?Sc(r,A,On(o)):d!=null?Sc(r,A,On(d)):m!=null&&r.removeAttribute("value"),x==null&&w!=null&&(r.defaultChecked=!!w),x!=null&&(r.checked=x&&typeof x!="function"&&typeof x!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?r.name=""+On(B):r.removeAttribute("name")}function ku(r,o,d,m,x,w,A,B){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.type=w),o!=null||d!=null){if(!(w!=="submit"&&w!=="reset"||o!=null))return;d=d!=null?""+On(d):"",o=o!=null?""+On(o):d,B||o===r.value||(r.value=o),r.defaultValue=o}m=m!=null?m:x,m=typeof m!="function"&&typeof m!="symbol"&&!!m,r.checked=B?r.checked:!!m,r.defaultChecked=!!m,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(r.name=A)}function Sc(r,o,d){o==="number"&&so(r.ownerDocument)===r||r.defaultValue===""+d||(r.defaultValue=""+d)}function Nr(r,o,d,m){if(r=r.options,o){o={};for(var x=0;x<d.length;x++)o["$"+d[x]]=!0;for(d=0;d<r.length;d++)x=o.hasOwnProperty("$"+r[d].value),r[d].selected!==x&&(r[d].selected=x),x&&m&&(r[d].defaultSelected=!0)}else{for(d=""+On(d),o=null,x=0;x<r.length;x++){if(r[x].value===d){r[x].selected=!0,m&&(r[x].defaultSelected=!0);return}o!==null||r[x].disabled||(o=r[x])}o!==null&&(o.selected=!0)}}function no(r,o,d){if(o!=null&&(o=""+On(o),o!==r.value&&(r.value=o),d==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=d!=null?""+On(d):""}function kc(r,o,d,m){if(o==null){if(m!=null){if(d!=null)throw Error(n(92));if(Y(m)){if(1<m.length)throw Error(n(93));m=m[0]}d=m}d==null&&(d=""),o=d}d=On(o),r.defaultValue=d,m=r.textContent,m===d&&m!==""&&m!==null&&(r.value=m)}function Jr(r,o){if(o){var d=r.firstChild;if(d&&d===r.lastChild&&d.nodeType===3){d.nodeValue=o;return}}r.textContent=o}var Cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eu(r,o,d){var m=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":m?r.setProperty(o,d):typeof d!="number"||d===0||Cu.has(o)?o==="float"?r.cssFloat=d:r[o]=(""+d).trim():r[o]=d+"px"}function Cc(r,o,d){if(o!=null&&typeof o!="object")throw Error(n(62));if(r=r.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?r.setProperty(m,""):m==="float"?r.cssFloat="":r[m]="");for(var x in o)m=o[x],o.hasOwnProperty(x)&&d[x]!==m&&Eu(r,x,m)}else for(var w in o)o.hasOwnProperty(w)&&Eu(r,w,o[w])}function ao(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function el(r){return Lm.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Ec=null;function ro(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var _r=null,ei=null;function Dc(r){var o=us(r);if(o&&(r=o.stateNode)){var d=r[Fe]||null;e:switch(r=o.stateNode,o.type){case"input":if(Tc(r,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=r;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Mn(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var m=d[o];if(m!==r&&m.form===r.form){var x=m[Fe]||null;if(!x)throw Error(n(90));Tc(m,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(o=0;o<d.length;o++)m=d[o],m.form===r.form&&Ya(m)}break e;case"textarea":no(r,d.value,d.defaultValue);break e;case"select":o=d.value,o!=null&&Nr(r,!!d.multiple,o,!1)}}}var io=!1;function Ac(r,o,d){if(io)return r(o,d);io=!0;try{var m=r(o);return m}finally{if(io=!1,(_r!==null||ei!==null)&&(uh(),_r&&(o=_r,r=ei,ei=_r=null,Dc(o),r)))for(o=0;o<r.length;o++)Dc(r[o])}}function ti(r,o){var d=r.stateNode;if(d===null)return null;var m=d[Fe]||null;if(m===null)return null;d=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(r=r.type,m=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!m;break e;default:r=!1}if(r)return null;if(d&&typeof d!="function")throw Error(n(231,o,typeof d));return d}var Rn=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),tl=!1;if(Rn)try{var oo={};Object.defineProperty(oo,"passive",{get:function(){tl=!0}}),window.addEventListener("test",oo,oo),window.removeEventListener("test",oo,oo)}catch(r){tl=!1}var qn=null,Pn=null,Tr=null;function lo(){if(Tr)return Tr;var r,o=Pn,d=o.length,m,x="value"in qn?qn.value:qn.textContent,w=x.length;for(r=0;r<d&&o[r]===x[r];r++);var A=d-r;for(m=1;m<=A&&o[d-m]===x[w-m];m++);return Tr=x.slice(r,1<m?1-m:void 0)}function si(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function sl(){return!0}function Du(){return!1}function bn(r){function o(d,m,x,w,A){this._reactName=d,this._targetInst=x,this.type=m,this.nativeEvent=w,this.target=A,this.currentTarget=null;for(var B in r)r.hasOwnProperty(B)&&(d=r[B],this[B]=d?d(w):w[B]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?sl:Du,this.isPropagationStopped=Du,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=sl)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=sl)},persist:function(){},isPersistent:sl}),o}var Ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nl=bn(Ca),ni=g({},Ca,{view:0,detail:0}),ks=bn(ni),k,M,U,I=g({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ca,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==U&&(U&&r.type==="mousemove"?(k=r.screenX-U.screenX,M=r.screenY-U.screenY):M=k=0,U=r),k)},movementY:function(r){return"movementY"in r?r.movementY:M}}),ce=bn(I),ue=g({},I,{dataTransfer:0}),be=bn(ue),qe=g({},ni,{relatedTarget:0}),ft=bn(qe),We=g({},Ca,{animationName:0,elapsedTime:0,pseudoElement:0}),et=bn(We),wt=g({},Ca,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),rs=bn(wt),Et=g({},Ca,{data:0}),xt=bn(Et),lt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},en={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ws(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=Fs[r])?!!o[r]:!1}function ca(){return ws}var co=g({},ni,{key:function(r){if(r.key){var o=lt[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=si(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?en[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ca,charCode:function(r){return r.type==="keypress"?si(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?si(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ga=bn(co),ai=g({},I,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),al=bn(ai),rl=g({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ca}),Au=bn(rl),pC=g({},Ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),xC=bn(pC),yC=g({},I,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),bC=bn(yC),vC=g({},Ca,{newState:0,oldState:0}),wC=bn(vC),jC=[9,13,27,32],Bm=Rn&&"CompositionEvent"in window,Oc=null;Rn&&"documentMode"in document&&(Oc=document.documentMode);var NC=Rn&&"TextEvent"in window&&!Oc,Qy=Rn&&(!Bm||Oc&&8<Oc&&11>=Oc),Zy=" ",Jy=!1;function eb(r,o){switch(r){case"keyup":return jC.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tb(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var il=!1;function _C(r,o){switch(r){case"compositionend":return tb(o);case"keypress":return o.which!==32?null:(Jy=!0,Zy);case"textInput":return r=o.data,r===Zy&&Jy?null:r;default:return null}}function TC(r,o){if(il)return r==="compositionend"||!Bm&&eb(r,o)?(r=lo(),Tr=Pn=qn=null,il=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Qy&&o.locale!=="ko"?null:o.data;default:return null}}var SC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sb(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!SC[r.type]:o==="textarea"}function nb(r,o,d,m){_r?ei?ei.push(m):ei=[m]:_r=m,o=xh(o,"onChange"),0<o.length&&(d=new nl("onChange","change",null,d,m),r.push({event:d,listeners:o}))}var Mc=null,Rc=null;function kC(r){B1(r,0)}function Ou(r){var o=_s(r);if(Ya(o))return r}function ab(r,o){if(r==="change")return o}var rb=!1;if(Rn){var Fm;if(Rn){var zm="oninput"in document;if(!zm){var ib=document.createElement("div");ib.setAttribute("oninput","return;"),zm=typeof ib.oninput=="function"}Fm=zm}else Fm=!1;rb=Fm&&(!document.documentMode||9<document.documentMode)}function ob(){Mc&&(Mc.detachEvent("onpropertychange",lb),Rc=Mc=null)}function lb(r){if(r.propertyName==="value"&&Ou(Rc)){var o=[];nb(o,Rc,r,ro(r)),Ac(kC,o)}}function CC(r,o,d){r==="focusin"?(ob(),Mc=o,Rc=d,Mc.attachEvent("onpropertychange",lb)):r==="focusout"&&ob()}function EC(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ou(Rc)}function DC(r,o){if(r==="click")return Ou(o)}function AC(r,o){if(r==="input"||r==="change")return Ou(o)}function OC(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Wn=typeof Object.is=="function"?Object.is:OC;function Pc(r,o){if(Wn(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var d=Object.keys(r),m=Object.keys(o);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var x=d[m];if(!He.call(o,x)||!Wn(r[x],o[x]))return!1}return!0}function cb(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function db(r,o){var d=cb(r);r=0;for(var m;d;){if(d.nodeType===3){if(m=r+d.textContent.length,r<=o&&m>=o)return{node:d,offset:o-r};r=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=cb(d)}}function ub(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?ub(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function hb(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=so(r.document);o instanceof r.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch(m){d=!1}if(d)r=o.contentWindow;else break;o=so(r.document)}return o}function Um(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var MC=Rn&&"documentMode"in document&&11>=document.documentMode,ol=null,Hm=null,Lc=null,$m=!1;function fb(r,o,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;$m||ol==null||ol!==so(m)||(m=ol,"selectionStart"in m&&Um(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Lc&&Pc(Lc,m)||(Lc=m,m=xh(Hm,"onSelect"),0<m.length&&(o=new nl("onSelect","select",null,o,d),r.push({event:o,listeners:m}),o.target=ol)))}function uo(r,o){var d={};return d[r.toLowerCase()]=o.toLowerCase(),d["Webkit"+r]="webkit"+o,d["Moz"+r]="moz"+o,d}var ll={animationend:uo("Animation","AnimationEnd"),animationiteration:uo("Animation","AnimationIteration"),animationstart:uo("Animation","AnimationStart"),transitionrun:uo("Transition","TransitionRun"),transitionstart:uo("Transition","TransitionStart"),transitioncancel:uo("Transition","TransitionCancel"),transitionend:uo("Transition","TransitionEnd")},Vm={},mb={};Rn&&(mb=document.createElement("div").style,"AnimationEvent"in window||(delete ll.animationend.animation,delete ll.animationiteration.animation,delete ll.animationstart.animation),"TransitionEvent"in window||delete ll.transitionend.transition);function ho(r){if(Vm[r])return Vm[r];if(!ll[r])return r;var o=ll[r],d;for(d in o)if(o.hasOwnProperty(d)&&d in mb)return Vm[r]=o[d];return r}var gb=ho("animationend"),pb=ho("animationiteration"),xb=ho("animationstart"),RC=ho("transitionrun"),PC=ho("transitionstart"),LC=ho("transitioncancel"),yb=ho("transitionend"),bb=new Map,Im="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Im.push("scrollEnd");function Ea(r,o){bb.set(r,o),bs(o,[r])}var vb=new WeakMap;function da(r,o){if(typeof r=="object"&&r!==null){var d=vb.get(r);return d!==void 0?d:(o={value:r,source:o,stack:Zo(o)},vb.set(r,o),o)}return{value:r,source:o,stack:Zo(o)}}var ua=[],cl=0,qm=0;function Mu(){for(var r=cl,o=qm=cl=0;o<r;){var d=ua[o];ua[o++]=null;var m=ua[o];ua[o++]=null;var x=ua[o];ua[o++]=null;var w=ua[o];if(ua[o++]=null,m!==null&&x!==null){var A=m.pending;A===null?x.next=x:(x.next=A.next,A.next=x),m.pending=x}w!==0&&wb(d,x,w)}}function Ru(r,o,d,m){ua[cl++]=r,ua[cl++]=o,ua[cl++]=d,ua[cl++]=m,qm|=m,r.lanes|=m,r=r.alternate,r!==null&&(r.lanes|=m)}function Wm(r,o,d,m){return Ru(r,o,d,m),Pu(r)}function dl(r,o){return Ru(r,null,null,o),Pu(r)}function wb(r,o,d){r.lanes|=d;var m=r.alternate;m!==null&&(m.lanes|=d);for(var x=!1,w=r.return;w!==null;)w.childLanes|=d,m=w.alternate,m!==null&&(m.childLanes|=d),w.tag===22&&(r=w.stateNode,r===null||r._visibility&1||(x=!0)),r=w,w=w.return;return r.tag===3?(w=r.stateNode,x&&o!==null&&(x=31-Nt(d),r=w.hiddenUpdates,m=r[x],m===null?r[x]=[o]:m.push(o),o.lane=d|536870912),w):null}function Pu(r){if(50<od)throw od=0,Zg=null,Error(n(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var ul={};function BC(r,o,d,m){this.tag=r,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(r,o,d,m){return new BC(r,o,d,m)}function Ym(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Sr(r,o){var d=r.alternate;return d===null?(d=Yn(r.tag,o,r.key,r.mode),d.elementType=r.elementType,d.type=r.type,d.stateNode=r.stateNode,d.alternate=r,r.alternate=d):(d.pendingProps=o,d.type=r.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=r.flags&65011712,d.childLanes=r.childLanes,d.lanes=r.lanes,d.child=r.child,d.memoizedProps=r.memoizedProps,d.memoizedState=r.memoizedState,d.updateQueue=r.updateQueue,o=r.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=r.sibling,d.index=r.index,d.ref=r.ref,d.refCleanup=r.refCleanup,d}function jb(r,o){r.flags&=65011714;var d=r.alternate;return d===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=d.childLanes,r.lanes=d.lanes,r.child=d.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=d.memoizedProps,r.memoizedState=d.memoizedState,r.updateQueue=d.updateQueue,r.type=d.type,o=d.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function Lu(r,o,d,m,x,w){var A=0;if(m=r,typeof r=="function")Ym(r)&&(A=1);else if(typeof r=="string")A=zE(r,d,re.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case R:return r=Yn(31,d,o,x),r.elementType=R,r.lanes=w,r;case j:return fo(d.children,x,w,o);case v:A=8,x|=24;break;case _:return r=Yn(12,d,o,x|2),r.elementType=_,r.lanes=w,r;case D:return r=Yn(13,d,o,x),r.elementType=D,r.lanes=w,r;case E:return r=Yn(19,d,o,x),r.elementType=E,r.lanes=w,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case T:case S:A=10;break e;case O:A=9;break e;case C:A=11;break e;case L:A=14;break e;case F:A=16,m=null;break e}A=29,d=Error(n(130,r===null?"null":typeof r,"")),m=null}return o=Yn(A,d,o,x),o.elementType=r,o.type=m,o.lanes=w,o}function fo(r,o,d,m){return r=Yn(7,r,m,o),r.lanes=d,r}function Gm(r,o,d){return r=Yn(6,r,null,o),r.lanes=d,r}function Xm(r,o,d){return o=Yn(4,r.children!==null?r.children:[],r.key,o),o.lanes=d,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var hl=[],fl=0,Bu=null,Fu=0,ha=[],fa=0,mo=null,kr=1,Cr="";function go(r,o){hl[fl++]=Fu,hl[fl++]=Bu,Bu=r,Fu=o}function Nb(r,o,d){ha[fa++]=kr,ha[fa++]=Cr,ha[fa++]=mo,mo=r;var m=kr;r=Cr;var x=32-Nt(m)-1;m&=~(1<<x),d+=1;var w=32-Nt(o)+x;if(30<w){var A=x-x%5;w=(m&(1<<A)-1).toString(32),m>>=A,x-=A,kr=1<<32-Nt(o)+x|d<<x|m,Cr=w+r}else kr=1<<w|d<<x|m,Cr=r}function Km(r){r.return!==null&&(go(r,1),Nb(r,1,0))}function Qm(r){for(;r===Bu;)Bu=hl[--fl],hl[fl]=null,Fu=hl[--fl],hl[fl]=null;for(;r===mo;)mo=ha[--fa],ha[fa]=null,Cr=ha[--fa],ha[fa]=null,kr=ha[--fa],ha[fa]=null}var Sn=null,Cs=null,Kt=!1,po=null,Xa=!1,Zm=Error(n(519));function xo(r){var o=Error(n(418,""));throw zc(da(o,r)),Zm}function _b(r){var o=r.stateNode,d=r.type,m=r.memoizedProps;switch(o[Se]=r,o[Fe]=m,d){case"dialog":Ht("cancel",o),Ht("close",o);break;case"iframe":case"object":case"embed":Ht("load",o);break;case"video":case"audio":for(d=0;d<cd.length;d++)Ht(cd[d],o);break;case"source":Ht("error",o);break;case"img":case"image":case"link":Ht("error",o),Ht("load",o);break;case"details":Ht("toggle",o);break;case"input":Ht("invalid",o),ku(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),to(o);break;case"select":Ht("invalid",o);break;case"textarea":Ht("invalid",o),kc(o,m.value,m.defaultValue,m.children),to(o)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||m.suppressHydrationWarning===!0||H1(o.textContent,d)?(m.popover!=null&&(Ht("beforetoggle",o),Ht("toggle",o)),m.onScroll!=null&&Ht("scroll",o),m.onScrollEnd!=null&&Ht("scrollend",o),m.onClick!=null&&(o.onclick=yh),o=!0):o=!1,o||xo(r)}function Tb(r){for(Sn=r.return;Sn;)switch(Sn.tag){case 5:case 13:Xa=!1;return;case 27:case 3:Xa=!0;return;default:Sn=Sn.return}}function Bc(r){if(r!==Sn)return!1;if(!Kt)return Tb(r),Kt=!0,!1;var o=r.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=r.type,d=!(d!=="form"&&d!=="button")||mp(r.type,r.memoizedProps)),d=!d),d&&Cs&&xo(r),Tb(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8)if(d=r.data,d==="/$"){if(o===0){Cs=Aa(r.nextSibling);break e}o--}else d!=="$"&&d!=="$!"&&d!=="$?"||o++;r=r.nextSibling}Cs=null}}else o===27?(o=Cs,vi(r.type)?(r=yp,yp=null,Cs=r):Cs=o):Cs=Sn?Aa(r.stateNode.nextSibling):null;return!0}function Fc(){Cs=Sn=null,Kt=!1}function Sb(){var r=po;return r!==null&&(Fn===null?Fn=r:Fn.push.apply(Fn,r),po=null),r}function zc(r){po===null?po=[r]:po.push(r)}var Jm=ne(null),yo=null,Er=null;function ri(r,o,d){G(Jm,o._currentValue),o._currentValue=d}function Dr(r){r._currentValue=Jm.current,ge(Jm)}function eg(r,o,d){for(;r!==null;){var m=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),r===d)break;r=r.return}}function tg(r,o,d,m){var x=r.child;for(x!==null&&(x.return=r);x!==null;){var w=x.dependencies;if(w!==null){var A=x.child;w=w.firstContext;e:for(;w!==null;){var B=w;w=x;for(var ee=0;ee<o.length;ee++)if(B.context===o[ee]){w.lanes|=d,B=w.alternate,B!==null&&(B.lanes|=d),eg(w.return,d,r),m||(A=null);break e}w=B.next}}else if(x.tag===18){if(A=x.return,A===null)throw Error(n(341));A.lanes|=d,w=A.alternate,w!==null&&(w.lanes|=d),eg(A,d,r),A=null}else A=x.child;if(A!==null)A.return=x;else for(A=x;A!==null;){if(A===r){A=null;break}if(x=A.sibling,x!==null){x.return=A.return,A=x;break}A=A.return}x=A}}function Uc(r,o,d,m){r=null;for(var x=o,w=!1;x!==null;){if(!w){if((x.flags&524288)!==0)w=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var A=x.alternate;if(A===null)throw Error(n(387));if(A=A.memoizedProps,A!==null){var B=x.type;Wn(x.pendingProps.value,A.value)||(r!==null?r.push(B):r=[B])}}else if(x===Le.current){if(A=x.alternate,A===null)throw Error(n(387));A.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(r!==null?r.push(gd):r=[gd])}x=x.return}r!==null&&tg(o,r,d,m),o.flags|=262144}function zu(r){for(r=r.firstContext;r!==null;){if(!Wn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function bo(r){yo=r,Er=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function vn(r){return kb(yo,r)}function Uu(r,o){return yo===null&&bo(r),kb(r,o)}function kb(r,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},Er===null){if(r===null)throw Error(n(308));Er=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else Er=Er.next=o;return d}var FC=typeof AbortController!="undefined"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(d,m){r.push(m)}};this.abort=function(){o.aborted=!0,r.forEach(function(d){return d()})}},zC=e.unstable_scheduleCallback,UC=e.unstable_NormalPriority,Ys={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sg(){return{controller:new FC,data:new Map,refCount:0}}function Hc(r){r.refCount--,r.refCount===0&&zC(UC,function(){r.controller.abort()})}var $c=null,ng=0,ml=0,gl=null;function HC(r,o){if($c===null){var d=$c=[];ng=0,ml=rp(),gl={status:"pending",value:void 0,then:function(m){d.push(m)}}}return ng++,o.then(Cb,Cb),o}function Cb(){if(--ng===0&&$c!==null){gl!==null&&(gl.status="fulfilled");var r=$c;$c=null,ml=0,gl=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function $C(r,o){var d=[],m={status:"pending",value:null,reason:null,then:function(x){d.push(x)}};return r.then(function(){m.status="fulfilled",m.value=o;for(var x=0;x<d.length;x++)(0,d[x])(o)},function(x){for(m.status="rejected",m.reason=x,x=0;x<d.length;x++)(0,d[x])(void 0)}),m}var Eb=$.S;$.S=function(r,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&HC(r,o),Eb!==null&&Eb(r,o)};var vo=ne(null);function ag(){var r=vo.current;return r!==null?r:gs.pooledCache}function Hu(r,o){o===null?G(vo,vo.current):G(vo,o.pool)}function Db(){var r=ag();return r===null?null:{parent:Ys._currentValue,pool:r}}var Vc=Error(n(460)),Ab=Error(n(474)),$u=Error(n(542)),rg={then:function(){}};function Ob(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Vu(){}function Mb(r,o,d){switch(d=r[d],d===void 0?r.push(o):d!==o&&(o.then(Vu,Vu),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,Pb(r),r;default:if(typeof o.status=="string")o.then(Vu,Vu);else{if(r=gs,r!==null&&100<r.shellSuspendCounter)throw Error(n(482));r=o,r.status="pending",r.then(function(m){if(o.status==="pending"){var x=o;x.status="fulfilled",x.value=m}},function(m){if(o.status==="pending"){var x=o;x.status="rejected",x.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,Pb(r),r}throw Ic=o,Vc}}var Ic=null;function Rb(){if(Ic===null)throw Error(n(459));var r=Ic;return Ic=null,r}function Pb(r){if(r===Vc||r===$u)throw Error(n(483))}var ii=!1;function ig(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function og(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function oi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function li(r,o,d){var m=r.updateQueue;if(m===null)return null;if(m=m.shared,(Jt&2)!==0){var x=m.pending;return x===null?o.next=o:(o.next=x.next,x.next=o),m.pending=o,o=Pu(r),wb(r,null,d),o}return Ru(r,m,o,d),Pu(r)}function qc(r,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var m=o.lanes;m&=r.pendingLanes,d|=m,o.lanes=d,Qt(r,d)}}function lg(r,o){var d=r.updateQueue,m=r.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var x=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var A={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};w===null?x=w=A:w=w.next=A,d=d.next}while(d!==null);w===null?x=w=o:w=w.next=o}else x=w=o;d={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:w,shared:m.shared,callbacks:m.callbacks},r.updateQueue=d;return}r=d.lastBaseUpdate,r===null?d.firstBaseUpdate=o:r.next=o,d.lastBaseUpdate=o}var cg=!1;function Wc(){if(cg){var r=gl;if(r!==null)throw r}}function Yc(r,o,d,m){cg=!1;var x=r.updateQueue;ii=!1;var w=x.firstBaseUpdate,A=x.lastBaseUpdate,B=x.shared.pending;if(B!==null){x.shared.pending=null;var ee=B,xe=ee.next;ee.next=null,A===null?w=xe:A.next=xe,A=ee;var Ce=r.alternate;Ce!==null&&(Ce=Ce.updateQueue,B=Ce.lastBaseUpdate,B!==A&&(B===null?Ce.firstBaseUpdate=xe:B.next=xe,Ce.lastBaseUpdate=ee))}if(w!==null){var Me=x.baseState;A=0,Ce=xe=ee=null,B=w;do{var ve=B.lane&-536870913,je=ve!==B.lane;if(je?(qt&ve)===ve:(m&ve)===ve){ve!==0&&ve===ml&&(cg=!0),Ce!==null&&(Ce=Ce.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var _t=r,vt=B;ve=o;var ls=d;switch(vt.tag){case 1:if(_t=vt.payload,typeof _t=="function"){Me=_t.call(ls,Me,ve);break e}Me=_t;break e;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=vt.payload,ve=typeof _t=="function"?_t.call(ls,Me,ve):_t,ve==null)break e;Me=g({},Me,ve);break e;case 2:ii=!0}}ve=B.callback,ve!==null&&(r.flags|=64,je&&(r.flags|=8192),je=x.callbacks,je===null?x.callbacks=[ve]:je.push(ve))}else je={lane:ve,tag:B.tag,payload:B.payload,callback:B.callback,next:null},Ce===null?(xe=Ce=je,ee=Me):Ce=Ce.next=je,A|=ve;if(B=B.next,B===null){if(B=x.shared.pending,B===null)break;je=B,B=je.next,je.next=null,x.lastBaseUpdate=je,x.shared.pending=null}}while(!0);Ce===null&&(ee=Me),x.baseState=ee,x.firstBaseUpdate=xe,x.lastBaseUpdate=Ce,w===null&&(x.shared.lanes=0),pi|=A,r.lanes=A,r.memoizedState=Me}}function Lb(r,o){if(typeof r!="function")throw Error(n(191,r));r.call(o)}function Bb(r,o){var d=r.callbacks;if(d!==null)for(r.callbacks=null,r=0;r<d.length;r++)Lb(d[r],o)}var pl=ne(null),Iu=ne(0);function Fb(r,o){r=Br,G(Iu,r),G(pl,o),Br=r|o.baseLanes}function dg(){G(Iu,Br),G(pl,pl.current)}function ug(){Br=Iu.current,ge(pl),ge(Iu)}var ci=0,Pt=null,is=null,zs=null,qu=!1,xl=!1,wo=!1,Wu=0,Gc=0,yl=null,VC=0;function Ms(){throw Error(n(321))}function hg(r,o){if(o===null)return!1;for(var d=0;d<o.length&&d<r.length;d++)if(!Wn(r[d],o[d]))return!1;return!0}function fg(r,o,d,m,x,w){return ci=w,Pt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,$.H=r===null||r.memoizedState===null?wv:jv,wo=!1,w=d(m,x),wo=!1,xl&&(w=Ub(o,d,m,x)),zb(r),w}function zb(r){$.H=Zu;var o=is!==null&&is.next!==null;if(ci=0,zs=is=Pt=null,qu=!1,Gc=0,yl=null,o)throw Error(n(300));r===null||tn||(r=r.dependencies,r!==null&&zu(r)&&(tn=!0))}function Ub(r,o,d,m){Pt=r;var x=0;do{if(xl&&(yl=null),Gc=0,xl=!1,25<=x)throw Error(n(301));if(x+=1,zs=is=null,r.updateQueue!=null){var w=r.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}$.H=KC,w=o(d,m)}while(xl);return w}function IC(){var r=$.H,o=r.useState()[0];return o=typeof o.then=="function"?Xc(o):o,r=r.useState()[0],(is!==null?is.memoizedState:null)!==r&&(Pt.flags|=1024),o}function mg(){var r=Wu!==0;return Wu=0,r}function gg(r,o,d){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~d}function pg(r){if(qu){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}qu=!1}ci=0,zs=is=Pt=null,xl=!1,Gc=Wu=0,yl=null}function Ln(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zs===null?Pt.memoizedState=zs=r:zs=zs.next=r,zs}function Us(){if(is===null){var r=Pt.alternate;r=r!==null?r.memoizedState:null}else r=is.next;var o=zs===null?Pt.memoizedState:zs.next;if(o!==null)zs=o,is=r;else{if(r===null)throw Pt.alternate===null?Error(n(467)):Error(n(310));is=r,r={memoizedState:is.memoizedState,baseState:is.baseState,baseQueue:is.baseQueue,queue:is.queue,next:null},zs===null?Pt.memoizedState=zs=r:zs=zs.next=r}return zs}function xg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xc(r){var o=Gc;return Gc+=1,yl===null&&(yl=[]),r=Mb(yl,r,o),o=Pt,(zs===null?o.memoizedState:zs.next)===null&&(o=o.alternate,$.H=o===null||o.memoizedState===null?wv:jv),r}function Yu(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Xc(r);if(r.$$typeof===S)return vn(r)}throw Error(n(438,String(r)))}function yg(r){var o=null,d=Pt.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var m=Pt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(x){return x.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=xg(),Pt.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(r),m=0;m<r;m++)d[m]=K;return o.index++,d}function Ar(r,o){return typeof o=="function"?o(r):o}function Gu(r){var o=Us();return bg(o,is,r)}function bg(r,o,d){var m=r.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=d;var x=r.baseQueue,w=m.pending;if(w!==null){if(x!==null){var A=x.next;x.next=w.next,w.next=A}o.baseQueue=x=w,m.pending=null}if(w=r.baseState,x===null)r.memoizedState=w;else{o=x.next;var B=A=null,ee=null,xe=o,Ce=!1;do{var Me=xe.lane&-536870913;if(Me!==xe.lane?(qt&Me)===Me:(ci&Me)===Me){var ve=xe.revertLane;if(ve===0)ee!==null&&(ee=ee.next={lane:0,revertLane:0,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null}),Me===ml&&(Ce=!0);else if((ci&ve)===ve){xe=xe.next,ve===ml&&(Ce=!0);continue}else Me={lane:0,revertLane:xe.revertLane,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null},ee===null?(B=ee=Me,A=w):ee=ee.next=Me,Pt.lanes|=ve,pi|=ve;Me=xe.action,wo&&d(w,Me),w=xe.hasEagerState?xe.eagerState:d(w,Me)}else ve={lane:Me,revertLane:xe.revertLane,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null},ee===null?(B=ee=ve,A=w):ee=ee.next=ve,Pt.lanes|=Me,pi|=Me;xe=xe.next}while(xe!==null&&xe!==o);if(ee===null?A=w:ee.next=B,!Wn(w,r.memoizedState)&&(tn=!0,Ce&&(d=gl,d!==null)))throw d;r.memoizedState=w,r.baseState=A,r.baseQueue=ee,m.lastRenderedState=w}return x===null&&(m.lanes=0),[r.memoizedState,m.dispatch]}function vg(r){var o=Us(),d=o.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=r;var m=d.dispatch,x=d.pending,w=o.memoizedState;if(x!==null){d.pending=null;var A=x=x.next;do w=r(w,A.action),A=A.next;while(A!==x);Wn(w,o.memoizedState)||(tn=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),d.lastRenderedState=w}return[w,m]}function Hb(r,o,d){var m=Pt,x=Us(),w=Kt;if(w){if(d===void 0)throw Error(n(407));d=d()}else d=o();var A=!Wn((is||x).memoizedState,d);A&&(x.memoizedState=d,tn=!0),x=x.queue;var B=Ib.bind(null,m,x,r);if(Kc(2048,8,B,[r]),x.getSnapshot!==o||A||zs!==null&&zs.memoizedState.tag&1){if(m.flags|=2048,bl(9,Xu(),Vb.bind(null,m,x,d,o),null),gs===null)throw Error(n(349));w||(ci&124)!==0||$b(m,o,d)}return d}function $b(r,o,d){r.flags|=16384,r={getSnapshot:o,value:d},o=Pt.updateQueue,o===null?(o=xg(),Pt.updateQueue=o,o.stores=[r]):(d=o.stores,d===null?o.stores=[r]:d.push(r))}function Vb(r,o,d,m){o.value=d,o.getSnapshot=m,qb(o)&&Wb(r)}function Ib(r,o,d){return d(function(){qb(o)&&Wb(r)})}function qb(r){var o=r.getSnapshot;r=r.value;try{var d=o();return!Wn(r,d)}catch(m){return!0}}function Wb(r){var o=dl(r,2);o!==null&&Zn(o,r,2)}function wg(r){var o=Ln();if(typeof r=="function"){var d=r;if(r=d(),wo){st(!0);try{d()}finally{st(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ar,lastRenderedState:r},o}function Yb(r,o,d,m){return r.baseState=d,bg(r,is,typeof m=="function"?m:Ar)}function qC(r,o,d,m,x){if(Qu(r))throw Error(n(485));if(r=o.action,r!==null){var w={payload:x,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){w.listeners.push(A)}};$.T!==null?d(!0):w.isTransition=!1,m(w),d=o.pending,d===null?(w.next=o.pending=w,Gb(o,w)):(w.next=d.next,o.pending=d.next=w)}}function Gb(r,o){var d=o.action,m=o.payload,x=r.state;if(o.isTransition){var w=$.T,A={};$.T=A;try{var B=d(x,m),ee=$.S;ee!==null&&ee(A,B),Xb(r,o,B)}catch(xe){jg(r,o,xe)}finally{$.T=w}}else try{w=d(x,m),Xb(r,o,w)}catch(xe){jg(r,o,xe)}}function Xb(r,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){Kb(r,o,m)},function(m){return jg(r,o,m)}):Kb(r,o,d)}function Kb(r,o,d){o.status="fulfilled",o.value=d,Qb(o),r.state=d,o=r.pending,o!==null&&(d=o.next,d===o?r.pending=null:(d=d.next,o.next=d,Gb(r,d)))}function jg(r,o,d){var m=r.pending;if(r.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=d,Qb(o),o=o.next;while(o!==m)}r.action=null}function Qb(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function Zb(r,o){return o}function Jb(r,o){if(Kt){var d=gs.formState;if(d!==null){e:{var m=Pt;if(Kt){if(Cs){t:{for(var x=Cs,w=Xa;x.nodeType!==8;){if(!w){x=null;break t}if(x=Aa(x.nextSibling),x===null){x=null;break t}}w=x.data,x=w==="F!"||w==="F"?x:null}if(x){Cs=Aa(x.nextSibling),m=x.data==="F!";break e}}xo(m)}m=!1}m&&(o=d[0])}}return d=Ln(),d.memoizedState=d.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zb,lastRenderedState:o},d.queue=m,d=yv.bind(null,Pt,m),m.dispatch=d,m=wg(!1),w=kg.bind(null,Pt,!1,m.queue),m=Ln(),x={state:o,dispatch:null,action:r,pending:null},m.queue=x,d=qC.bind(null,Pt,x,w,d),x.dispatch=d,m.memoizedState=r,[o,d,!1]}function ev(r){var o=Us();return tv(o,is,r)}function tv(r,o,d){if(o=bg(r,o,Zb)[0],r=Gu(Ar)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=Xc(o)}catch(A){throw A===Vc?$u:A}else m=o;o=Us();var x=o.queue,w=x.dispatch;return d!==o.memoizedState&&(Pt.flags|=2048,bl(9,Xu(),WC.bind(null,x,d),null)),[m,w,r]}function WC(r,o){r.action=o}function sv(r){var o=Us(),d=is;if(d!==null)return tv(o,d,r);Us(),o=o.memoizedState,d=Us();var m=d.queue.dispatch;return d.memoizedState=r,[o,m,!1]}function bl(r,o,d,m){return r={tag:r,create:d,deps:m,inst:o,next:null},o=Pt.updateQueue,o===null&&(o=xg(),Pt.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=r.next=r:(m=d.next,d.next=r,r.next=m,o.lastEffect=r),r}function Xu(){return{destroy:void 0,resource:void 0}}function nv(){return Us().memoizedState}function Ku(r,o,d,m){var x=Ln();m=m===void 0?null:m,Pt.flags|=r,x.memoizedState=bl(1|o,Xu(),d,m)}function Kc(r,o,d,m){var x=Us();m=m===void 0?null:m;var w=x.memoizedState.inst;is!==null&&m!==null&&hg(m,is.memoizedState.deps)?x.memoizedState=bl(o,w,d,m):(Pt.flags|=r,x.memoizedState=bl(1|o,w,d,m))}function av(r,o){Ku(8390656,8,r,o)}function rv(r,o){Kc(2048,8,r,o)}function iv(r,o){return Kc(4,2,r,o)}function ov(r,o){return Kc(4,4,r,o)}function lv(r,o){if(typeof o=="function"){r=r();var d=o(r);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function cv(r,o,d){d=d!=null?d.concat([r]):null,Kc(4,4,lv.bind(null,o,r),d)}function Ng(){}function dv(r,o){var d=Us();o=o===void 0?null:o;var m=d.memoizedState;return o!==null&&hg(o,m[1])?m[0]:(d.memoizedState=[r,o],r)}function uv(r,o){var d=Us();o=o===void 0?null:o;var m=d.memoizedState;if(o!==null&&hg(o,m[1]))return m[0];if(m=r(),wo){st(!0);try{r()}finally{st(!1)}}return d.memoizedState=[m,o],m}function _g(r,o,d){return d===void 0||(ci&1073741824)!==0?r.memoizedState=o:(r.memoizedState=d,r=m1(),Pt.lanes|=r,pi|=r,d)}function hv(r,o,d,m){return Wn(d,o)?d:pl.current!==null?(r=_g(r,d,m),Wn(r,o)||(tn=!0),r):(ci&42)===0?(tn=!0,r.memoizedState=d):(r=m1(),Pt.lanes|=r,pi|=r,o)}function fv(r,o,d,m,x){var w=J.p;J.p=w!==0&&8>w?w:8;var A=$.T,B={};$.T=B,kg(r,!1,o,d);try{var ee=x(),xe=$.S;if(xe!==null&&xe(B,ee),ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var Ce=$C(ee,m);Qc(r,o,Ce,Qn(r))}else Qc(r,o,m,Qn(r))}catch(Me){Qc(r,o,{then:function(){},status:"rejected",reason:Me},Qn())}finally{J.p=w,$.T=A}}function YC(){}function Tg(r,o,d,m){if(r.tag!==5)throw Error(n(476));var x=mv(r).queue;fv(r,x,o,se,d===null?YC:function(){return gv(r),d(m)})}function mv(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ar,lastRenderedState:se},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ar,lastRenderedState:d},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function gv(r){var o=mv(r).next.queue;Qc(r,o,{},Qn())}function Sg(){return vn(gd)}function pv(){return Us().memoizedState}function xv(){return Us().memoizedState}function GC(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var d=Qn();r=oi(d);var m=li(o,r,d);m!==null&&(Zn(m,o,d),qc(m,o,d)),o={cache:sg()},r.payload=o;return}o=o.return}}function XC(r,o,d){var m=Qn();d={lane:m,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},Qu(r)?bv(o,d):(d=Wm(r,o,d,m),d!==null&&(Zn(d,r,m),vv(d,o,m)))}function yv(r,o,d){var m=Qn();Qc(r,o,d,m)}function Qc(r,o,d,m){var x={lane:m,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(Qu(r))bv(o,x);else{var w=r.alternate;if(r.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var A=o.lastRenderedState,B=w(A,d);if(x.hasEagerState=!0,x.eagerState=B,Wn(B,A))return Ru(r,o,x,0),gs===null&&Mu(),!1}catch(ee){}finally{}if(d=Wm(r,o,x,m),d!==null)return Zn(d,r,m),vv(d,o,m),!0}return!1}function kg(r,o,d,m){if(m={lane:2,revertLane:rp(),action:m,hasEagerState:!1,eagerState:null,next:null},Qu(r)){if(o)throw Error(n(479))}else o=Wm(r,d,m,2),o!==null&&Zn(o,r,2)}function Qu(r){var o=r.alternate;return r===Pt||o!==null&&o===Pt}function bv(r,o){xl=qu=!0;var d=r.pending;d===null?o.next=o:(o.next=d.next,d.next=o),r.pending=o}function vv(r,o,d){if((d&4194048)!==0){var m=o.lanes;m&=r.pendingLanes,d|=m,o.lanes=d,Qt(r,d)}}var Zu={readContext:vn,use:Yu,useCallback:Ms,useContext:Ms,useEffect:Ms,useImperativeHandle:Ms,useLayoutEffect:Ms,useInsertionEffect:Ms,useMemo:Ms,useReducer:Ms,useRef:Ms,useState:Ms,useDebugValue:Ms,useDeferredValue:Ms,useTransition:Ms,useSyncExternalStore:Ms,useId:Ms,useHostTransitionStatus:Ms,useFormState:Ms,useActionState:Ms,useOptimistic:Ms,useMemoCache:Ms,useCacheRefresh:Ms},wv={readContext:vn,use:Yu,useCallback:function(r,o){return Ln().memoizedState=[r,o===void 0?null:o],r},useContext:vn,useEffect:av,useImperativeHandle:function(r,o,d){d=d!=null?d.concat([r]):null,Ku(4194308,4,lv.bind(null,o,r),d)},useLayoutEffect:function(r,o){return Ku(4194308,4,r,o)},useInsertionEffect:function(r,o){Ku(4,2,r,o)},useMemo:function(r,o){var d=Ln();o=o===void 0?null:o;var m=r();if(wo){st(!0);try{r()}finally{st(!1)}}return d.memoizedState=[m,o],m},useReducer:function(r,o,d){var m=Ln();if(d!==void 0){var x=d(o);if(wo){st(!0);try{d(o)}finally{st(!1)}}}else x=o;return m.memoizedState=m.baseState=x,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:x},m.queue=r,r=r.dispatch=XC.bind(null,Pt,r),[m.memoizedState,r]},useRef:function(r){var o=Ln();return r={current:r},o.memoizedState=r},useState:function(r){r=wg(r);var o=r.queue,d=yv.bind(null,Pt,o);return o.dispatch=d,[r.memoizedState,d]},useDebugValue:Ng,useDeferredValue:function(r,o){var d=Ln();return _g(d,r,o)},useTransition:function(){var r=wg(!1);return r=fv.bind(null,Pt,r.queue,!0,!1),Ln().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,d){var m=Pt,x=Ln();if(Kt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=o(),gs===null)throw Error(n(349));(qt&124)!==0||$b(m,o,d)}x.memoizedState=d;var w={value:d,getSnapshot:o};return x.queue=w,av(Ib.bind(null,m,w,r),[r]),m.flags|=2048,bl(9,Xu(),Vb.bind(null,m,w,d,o),null),d},useId:function(){var r=Ln(),o=gs.identifierPrefix;if(Kt){var d=Cr,m=kr;d=(m&~(1<<32-Nt(m)-1)).toString(32)+d,o="«"+o+"R"+d,d=Wu++,0<d&&(o+="H"+d.toString(32)),o+="»"}else d=VC++,o="«"+o+"r"+d.toString(32)+"»";return r.memoizedState=o},useHostTransitionStatus:Sg,useFormState:Jb,useActionState:Jb,useOptimistic:function(r){var o=Ln();o.memoizedState=o.baseState=r;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=kg.bind(null,Pt,!0,d),d.dispatch=o,[r,o]},useMemoCache:yg,useCacheRefresh:function(){return Ln().memoizedState=GC.bind(null,Pt)}},jv={readContext:vn,use:Yu,useCallback:dv,useContext:vn,useEffect:rv,useImperativeHandle:cv,useInsertionEffect:iv,useLayoutEffect:ov,useMemo:uv,useReducer:Gu,useRef:nv,useState:function(){return Gu(Ar)},useDebugValue:Ng,useDeferredValue:function(r,o){var d=Us();return hv(d,is.memoizedState,r,o)},useTransition:function(){var r=Gu(Ar)[0],o=Us().memoizedState;return[typeof r=="boolean"?r:Xc(r),o]},useSyncExternalStore:Hb,useId:pv,useHostTransitionStatus:Sg,useFormState:ev,useActionState:ev,useOptimistic:function(r,o){var d=Us();return Yb(d,is,r,o)},useMemoCache:yg,useCacheRefresh:xv},KC={readContext:vn,use:Yu,useCallback:dv,useContext:vn,useEffect:rv,useImperativeHandle:cv,useInsertionEffect:iv,useLayoutEffect:ov,useMemo:uv,useReducer:vg,useRef:nv,useState:function(){return vg(Ar)},useDebugValue:Ng,useDeferredValue:function(r,o){var d=Us();return is===null?_g(d,r,o):hv(d,is.memoizedState,r,o)},useTransition:function(){var r=vg(Ar)[0],o=Us().memoizedState;return[typeof r=="boolean"?r:Xc(r),o]},useSyncExternalStore:Hb,useId:pv,useHostTransitionStatus:Sg,useFormState:sv,useActionState:sv,useOptimistic:function(r,o){var d=Us();return is!==null?Yb(d,is,r,o):(d.baseState=r,[r,d.queue.dispatch])},useMemoCache:yg,useCacheRefresh:xv},vl=null,Zc=0;function Ju(r){var o=Zc;return Zc+=1,vl===null&&(vl=[]),Mb(vl,r,o)}function Jc(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function eh(r,o){throw o.$$typeof===p?Error(n(525)):(r=Object.prototype.toString.call(o),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function Nv(r){var o=r._init;return o(r._payload)}function _v(r){function o(de,ae){if(r){var he=de.deletions;he===null?(de.deletions=[ae],de.flags|=16):he.push(ae)}}function d(de,ae){if(!r)return null;for(;ae!==null;)o(de,ae),ae=ae.sibling;return null}function m(de){for(var ae=new Map;de!==null;)de.key!==null?ae.set(de.key,de):ae.set(de.index,de),de=de.sibling;return ae}function x(de,ae){return de=Sr(de,ae),de.index=0,de.sibling=null,de}function w(de,ae,he){return de.index=he,r?(he=de.alternate,he!==null?(he=he.index,he<ae?(de.flags|=67108866,ae):he):(de.flags|=67108866,ae)):(de.flags|=1048576,ae)}function A(de){return r&&de.alternate===null&&(de.flags|=67108866),de}function B(de,ae,he,Ae){return ae===null||ae.tag!==6?(ae=Gm(he,de.mode,Ae),ae.return=de,ae):(ae=x(ae,he),ae.return=de,ae)}function ee(de,ae,he,Ae){var at=he.type;return at===j?Ce(de,ae,he.props.children,Ae,he.key):ae!==null&&(ae.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===F&&Nv(at)===ae.type)?(ae=x(ae,he.props),Jc(ae,he),ae.return=de,ae):(ae=Lu(he.type,he.key,he.props,null,de.mode,Ae),Jc(ae,he),ae.return=de,ae)}function xe(de,ae,he,Ae){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==he.containerInfo||ae.stateNode.implementation!==he.implementation?(ae=Xm(he,de.mode,Ae),ae.return=de,ae):(ae=x(ae,he.children||[]),ae.return=de,ae)}function Ce(de,ae,he,Ae,at){return ae===null||ae.tag!==7?(ae=fo(he,de.mode,Ae,at),ae.return=de,ae):(ae=x(ae,he),ae.return=de,ae)}function Me(de,ae,he){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=Gm(""+ae,de.mode,he),ae.return=de,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case b:return he=Lu(ae.type,ae.key,ae.props,null,de.mode,he),Jc(he,ae),he.return=de,he;case y:return ae=Xm(ae,de.mode,he),ae.return=de,ae;case F:var Ae=ae._init;return ae=Ae(ae._payload),Me(de,ae,he)}if(Y(ae)||Q(ae))return ae=fo(ae,de.mode,he,null),ae.return=de,ae;if(typeof ae.then=="function")return Me(de,Ju(ae),he);if(ae.$$typeof===S)return Me(de,Uu(de,ae),he);eh(de,ae)}return null}function ve(de,ae,he,Ae){var at=ae!==null?ae.key:null;if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return at!==null?null:B(de,ae,""+he,Ae);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case b:return he.key===at?ee(de,ae,he,Ae):null;case y:return he.key===at?xe(de,ae,he,Ae):null;case F:return at=he._init,he=at(he._payload),ve(de,ae,he,Ae)}if(Y(he)||Q(he))return at!==null?null:Ce(de,ae,he,Ae,null);if(typeof he.then=="function")return ve(de,ae,Ju(he),Ae);if(he.$$typeof===S)return ve(de,ae,Uu(de,he),Ae);eh(de,he)}return null}function je(de,ae,he,Ae,at){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return de=de.get(he)||null,B(ae,de,""+Ae,at);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case b:return de=de.get(Ae.key===null?he:Ae.key)||null,ee(ae,de,Ae,at);case y:return de=de.get(Ae.key===null?he:Ae.key)||null,xe(ae,de,Ae,at);case F:var Ft=Ae._init;return Ae=Ft(Ae._payload),je(de,ae,he,Ae,at)}if(Y(Ae)||Q(Ae))return de=de.get(he)||null,Ce(ae,de,Ae,at,null);if(typeof Ae.then=="function")return je(de,ae,he,Ju(Ae),at);if(Ae.$$typeof===S)return je(de,ae,he,Uu(ae,Ae),at);eh(ae,Ae)}return null}function _t(de,ae,he,Ae){for(var at=null,Ft=null,ht=ae,jt=ae=0,nn=null;ht!==null&&jt<he.length;jt++){ht.index>jt?(nn=ht,ht=null):nn=ht.sibling;var Gt=ve(de,ht,he[jt],Ae);if(Gt===null){ht===null&&(ht=nn);break}r&&ht&&Gt.alternate===null&&o(de,ht),ae=w(Gt,ae,jt),Ft===null?at=Gt:Ft.sibling=Gt,Ft=Gt,ht=nn}if(jt===he.length)return d(de,ht),Kt&&go(de,jt),at;if(ht===null){for(;jt<he.length;jt++)ht=Me(de,he[jt],Ae),ht!==null&&(ae=w(ht,ae,jt),Ft===null?at=ht:Ft.sibling=ht,Ft=ht);return Kt&&go(de,jt),at}for(ht=m(ht);jt<he.length;jt++)nn=je(ht,de,jt,he[jt],Ae),nn!==null&&(r&&nn.alternate!==null&&ht.delete(nn.key===null?jt:nn.key),ae=w(nn,ae,jt),Ft===null?at=nn:Ft.sibling=nn,Ft=nn);return r&&ht.forEach(function(Ti){return o(de,Ti)}),Kt&&go(de,jt),at}function vt(de,ae,he,Ae){if(he==null)throw Error(n(151));for(var at=null,Ft=null,ht=ae,jt=ae=0,nn=null,Gt=he.next();ht!==null&&!Gt.done;jt++,Gt=he.next()){ht.index>jt?(nn=ht,ht=null):nn=ht.sibling;var Ti=ve(de,ht,Gt.value,Ae);if(Ti===null){ht===null&&(ht=nn);break}r&&ht&&Ti.alternate===null&&o(de,ht),ae=w(Ti,ae,jt),Ft===null?at=Ti:Ft.sibling=Ti,Ft=Ti,ht=nn}if(Gt.done)return d(de,ht),Kt&&go(de,jt),at;if(ht===null){for(;!Gt.done;jt++,Gt=he.next())Gt=Me(de,Gt.value,Ae),Gt!==null&&(ae=w(Gt,ae,jt),Ft===null?at=Gt:Ft.sibling=Gt,Ft=Gt);return Kt&&go(de,jt),at}for(ht=m(ht);!Gt.done;jt++,Gt=he.next())Gt=je(ht,de,jt,Gt.value,Ae),Gt!==null&&(r&&Gt.alternate!==null&&ht.delete(Gt.key===null?jt:Gt.key),ae=w(Gt,ae,jt),Ft===null?at=Gt:Ft.sibling=Gt,Ft=Gt);return r&&ht.forEach(function(QE){return o(de,QE)}),Kt&&go(de,jt),at}function ls(de,ae,he,Ae){if(typeof he=="object"&&he!==null&&he.type===j&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case b:e:{for(var at=he.key;ae!==null;){if(ae.key===at){if(at=he.type,at===j){if(ae.tag===7){d(de,ae.sibling),Ae=x(ae,he.props.children),Ae.return=de,de=Ae;break e}}else if(ae.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===F&&Nv(at)===ae.type){d(de,ae.sibling),Ae=x(ae,he.props),Jc(Ae,he),Ae.return=de,de=Ae;break e}d(de,ae);break}else o(de,ae);ae=ae.sibling}he.type===j?(Ae=fo(he.props.children,de.mode,Ae,he.key),Ae.return=de,de=Ae):(Ae=Lu(he.type,he.key,he.props,null,de.mode,Ae),Jc(Ae,he),Ae.return=de,de=Ae)}return A(de);case y:e:{for(at=he.key;ae!==null;){if(ae.key===at)if(ae.tag===4&&ae.stateNode.containerInfo===he.containerInfo&&ae.stateNode.implementation===he.implementation){d(de,ae.sibling),Ae=x(ae,he.children||[]),Ae.return=de,de=Ae;break e}else{d(de,ae);break}else o(de,ae);ae=ae.sibling}Ae=Xm(he,de.mode,Ae),Ae.return=de,de=Ae}return A(de);case F:return at=he._init,he=at(he._payload),ls(de,ae,he,Ae)}if(Y(he))return _t(de,ae,he,Ae);if(Q(he)){if(at=Q(he),typeof at!="function")throw Error(n(150));return he=at.call(he),vt(de,ae,he,Ae)}if(typeof he.then=="function")return ls(de,ae,Ju(he),Ae);if(he.$$typeof===S)return ls(de,ae,Uu(de,he),Ae);eh(de,he)}return typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint"?(he=""+he,ae!==null&&ae.tag===6?(d(de,ae.sibling),Ae=x(ae,he),Ae.return=de,de=Ae):(d(de,ae),Ae=Gm(he,de.mode,Ae),Ae.return=de,de=Ae),A(de)):d(de,ae)}return function(de,ae,he,Ae){try{Zc=0;var at=ls(de,ae,he,Ae);return vl=null,at}catch(ht){if(ht===Vc||ht===$u)throw ht;var Ft=Yn(29,ht,null,de.mode);return Ft.lanes=Ae,Ft.return=de,Ft}finally{}}}var wl=_v(!0),Tv=_v(!1),ma=ne(null),Ka=null;function di(r){var o=r.alternate;G(Gs,Gs.current&1),G(ma,r),Ka===null&&(o===null||pl.current!==null||o.memoizedState!==null)&&(Ka=r)}function Sv(r){if(r.tag===22){if(G(Gs,Gs.current),G(ma,r),Ka===null){var o=r.alternate;o!==null&&o.memoizedState!==null&&(Ka=r)}}else ui()}function ui(){G(Gs,Gs.current),G(ma,ma.current)}function Or(r){ge(ma),Ka===r&&(Ka=null),ge(Gs)}var Gs=ne(0);function th(r){for(var o=r;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||xp(d)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Cg(r,o,d,m){o=r.memoizedState,d=d(m,o),d=d==null?o:g({},o,d),r.memoizedState=d,r.lanes===0&&(r.updateQueue.baseState=d)}var Eg={enqueueSetState:function(r,o,d){r=r._reactInternals;var m=Qn(),x=oi(m);x.payload=o,d!=null&&(x.callback=d),o=li(r,x,m),o!==null&&(Zn(o,r,m),qc(o,r,m))},enqueueReplaceState:function(r,o,d){r=r._reactInternals;var m=Qn(),x=oi(m);x.tag=1,x.payload=o,d!=null&&(x.callback=d),o=li(r,x,m),o!==null&&(Zn(o,r,m),qc(o,r,m))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var d=Qn(),m=oi(d);m.tag=2,o!=null&&(m.callback=o),o=li(r,m,d),o!==null&&(Zn(o,r,d),qc(o,r,d))}};function kv(r,o,d,m,x,w,A){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(m,w,A):o.prototype&&o.prototype.isPureReactComponent?!Pc(d,m)||!Pc(x,w):!0}function Cv(r,o,d,m){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,m),o.state!==r&&Eg.enqueueReplaceState(o,o.state,null)}function jo(r,o){var d=o;if("ref"in o){d={};for(var m in o)m!=="ref"&&(d[m]=o[m])}if(r=r.defaultProps){d===o&&(d=g({},d));for(var x in r)d[x]===void 0&&(d[x]=r[x])}return d}var sh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Ev(r){sh(r)}function Dv(r){console.error(r)}function Av(r){sh(r)}function nh(r,o){try{var d=r.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function Ov(r,o,d){try{var m=r.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function Dg(r,o,d){return d=oi(d),d.tag=3,d.payload={element:null},d.callback=function(){nh(r,o)},d}function Mv(r){return r=oi(r),r.tag=3,r}function Rv(r,o,d,m){var x=d.type.getDerivedStateFromError;if(typeof x=="function"){var w=m.value;r.payload=function(){return x(w)},r.callback=function(){Ov(o,d,m)}}var A=d.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(r.callback=function(){Ov(o,d,m),typeof x!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var B=m.stack;this.componentDidCatch(m.value,{componentStack:B!==null?B:""})})}function QC(r,o,d,m,x){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=d.alternate,o!==null&&Uc(o,d,x,!0),d=ma.current,d!==null){switch(d.tag){case 13:return Ka===null?ep():d.alternate===null&&Es===0&&(Es=3),d.flags&=-257,d.flags|=65536,d.lanes=x,m===rg?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([m]):o.add(m),sp(r,m,x)),!1;case 22:return d.flags|=65536,m===rg?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([m]):d.add(m)),sp(r,m,x)),!1}throw Error(n(435,d.tag))}return sp(r,m,x),ep(),!1}if(Kt)return o=ma.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=x,m!==Zm&&(r=Error(n(422),{cause:m}),zc(da(r,d)))):(m!==Zm&&(o=Error(n(423),{cause:m}),zc(da(o,d))),r=r.current.alternate,r.flags|=65536,x&=-x,r.lanes|=x,m=da(m,d),x=Dg(r.stateNode,m,x),lg(r,x),Es!==4&&(Es=2)),!1;var w=Error(n(520),{cause:m});if(w=da(w,d),id===null?id=[w]:id.push(w),Es!==4&&(Es=2),o===null)return!0;m=da(m,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,r=x&-x,d.lanes|=r,r=Dg(d.stateNode,m,r),lg(d,r),!1;case 1:if(o=d.type,w=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(xi===null||!xi.has(w))))return d.flags|=65536,x&=-x,d.lanes|=x,x=Mv(x),Rv(x,r,d,m),lg(d,x),!1}d=d.return}while(d!==null);return!1}var Pv=Error(n(461)),tn=!1;function ln(r,o,d,m){o.child=r===null?Tv(o,null,d,m):wl(o,r.child,d,m)}function Lv(r,o,d,m,x){d=d.render;var w=o.ref;if("ref"in m){var A={};for(var B in m)B!=="ref"&&(A[B]=m[B])}else A=m;return bo(o),m=fg(r,o,d,A,w,x),B=mg(),r!==null&&!tn?(gg(r,o,x),Mr(r,o,x)):(Kt&&B&&Km(o),o.flags|=1,ln(r,o,m,x),o.child)}function Bv(r,o,d,m,x){if(r===null){var w=d.type;return typeof w=="function"&&!Ym(w)&&w.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=w,Fv(r,o,w,m,x)):(r=Lu(d.type,null,m,o,o.mode,x),r.ref=o.ref,r.return=o,o.child=r)}if(w=r.child,!Fg(r,x)){var A=w.memoizedProps;if(d=d.compare,d=d!==null?d:Pc,d(A,m)&&r.ref===o.ref)return Mr(r,o,x)}return o.flags|=1,r=Sr(w,m),r.ref=o.ref,r.return=o,o.child=r}function Fv(r,o,d,m,x){if(r!==null){var w=r.memoizedProps;if(Pc(w,m)&&r.ref===o.ref)if(tn=!1,o.pendingProps=m=w,Fg(r,x))(r.flags&131072)!==0&&(tn=!0);else return o.lanes=r.lanes,Mr(r,o,x)}return Ag(r,o,d,m,x)}function zv(r,o,d){var m=o.pendingProps,x=m.children,w=r!==null?r.memoizedState:null;if(m.mode==="hidden"){if((o.flags&128)!==0){if(m=w!==null?w.baseLanes|d:d,r!==null){for(x=o.child=r.child,w=0;x!==null;)w=w|x.lanes|x.childLanes,x=x.sibling;o.childLanes=w&~m}else o.childLanes=0,o.child=null;return Uv(r,o,m,d)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&Hu(o,w!==null?w.cachePool:null),w!==null?Fb(o,w):dg(),Sv(o);else return o.lanes=o.childLanes=536870912,Uv(r,o,w!==null?w.baseLanes|d:d,d)}else w!==null?(Hu(o,w.cachePool),Fb(o,w),ui(),o.memoizedState=null):(r!==null&&Hu(o,null),dg(),ui());return ln(r,o,x,d),o.child}function Uv(r,o,d,m){var x=ag();return x=x===null?null:{parent:Ys._currentValue,pool:x},o.memoizedState={baseLanes:d,cachePool:x},r!==null&&Hu(o,null),dg(),Sv(o),r!==null&&Uc(r,o,m,!0),null}function ah(r,o){var d=o.ref;if(d===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(r===null||r.ref!==d)&&(o.flags|=4194816)}}function Ag(r,o,d,m,x){return bo(o),d=fg(r,o,d,m,void 0,x),m=mg(),r!==null&&!tn?(gg(r,o,x),Mr(r,o,x)):(Kt&&m&&Km(o),o.flags|=1,ln(r,o,d,x),o.child)}function Hv(r,o,d,m,x,w){return bo(o),o.updateQueue=null,d=Ub(o,m,d,x),zb(r),m=mg(),r!==null&&!tn?(gg(r,o,w),Mr(r,o,w)):(Kt&&m&&Km(o),o.flags|=1,ln(r,o,d,w),o.child)}function $v(r,o,d,m,x){if(bo(o),o.stateNode===null){var w=ul,A=d.contextType;typeof A=="object"&&A!==null&&(w=vn(A)),w=new d(m,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Eg,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=m,w.state=o.memoizedState,w.refs={},ig(o),A=d.contextType,w.context=typeof A=="object"&&A!==null?vn(A):ul,w.state=o.memoizedState,A=d.getDerivedStateFromProps,typeof A=="function"&&(Cg(o,d,A,m),w.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(A=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),A!==w.state&&Eg.enqueueReplaceState(w,w.state,null),Yc(o,m,w,x),Wc(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(r===null){w=o.stateNode;var B=o.memoizedProps,ee=jo(d,B);w.props=ee;var xe=w.context,Ce=d.contextType;A=ul,typeof Ce=="object"&&Ce!==null&&(A=vn(Ce));var Me=d.getDerivedStateFromProps;Ce=typeof Me=="function"||typeof w.getSnapshotBeforeUpdate=="function",B=o.pendingProps!==B,Ce||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(B||xe!==A)&&Cv(o,w,m,A),ii=!1;var ve=o.memoizedState;w.state=ve,Yc(o,m,w,x),Wc(),xe=o.memoizedState,B||ve!==xe||ii?(typeof Me=="function"&&(Cg(o,d,Me,m),xe=o.memoizedState),(ee=ii||kv(o,d,ee,m,ve,xe,A))?(Ce||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=xe),w.props=m,w.state=xe,w.context=A,m=ee):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{w=o.stateNode,og(r,o),A=o.memoizedProps,Ce=jo(d,A),w.props=Ce,Me=o.pendingProps,ve=w.context,xe=d.contextType,ee=ul,typeof xe=="object"&&xe!==null&&(ee=vn(xe)),B=d.getDerivedStateFromProps,(xe=typeof B=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==Me||ve!==ee)&&Cv(o,w,m,ee),ii=!1,ve=o.memoizedState,w.state=ve,Yc(o,m,w,x),Wc();var je=o.memoizedState;A!==Me||ve!==je||ii||r!==null&&r.dependencies!==null&&zu(r.dependencies)?(typeof B=="function"&&(Cg(o,d,B,m),je=o.memoizedState),(Ce=ii||kv(o,d,Ce,m,ve,je,ee)||r!==null&&r.dependencies!==null&&zu(r.dependencies))?(xe||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(m,je,ee),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(m,je,ee)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||A===r.memoizedProps&&ve===r.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&ve===r.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=je),w.props=m,w.state=je,w.context=ee,m=Ce):(typeof w.componentDidUpdate!="function"||A===r.memoizedProps&&ve===r.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&ve===r.memoizedState||(o.flags|=1024),m=!1)}return w=m,ah(r,o),m=(o.flags&128)!==0,w||m?(w=o.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,r!==null&&m?(o.child=wl(o,r.child,null,x),o.child=wl(o,null,d,x)):ln(r,o,d,x),o.memoizedState=w.state,r=o.child):r=Mr(r,o,x),r}function Vv(r,o,d,m){return Fc(),o.flags|=256,ln(r,o,d,m),o.child}var Og={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mg(r){return{baseLanes:r,cachePool:Db()}}function Rg(r,o,d){return r=r!==null?r.childLanes&~d:0,o&&(r|=ga),r}function Iv(r,o,d){var m=o.pendingProps,x=!1,w=(o.flags&128)!==0,A;if((A=w)||(A=r!==null&&r.memoizedState===null?!1:(Gs.current&2)!==0),A&&(x=!0,o.flags&=-129),A=(o.flags&32)!==0,o.flags&=-33,r===null){if(Kt){if(x?di(o):ui(),Kt){var B=Cs,ee;if(ee=B){e:{for(ee=B,B=Xa;ee.nodeType!==8;){if(!B){B=null;break e}if(ee=Aa(ee.nextSibling),ee===null){B=null;break e}}B=ee}B!==null?(o.memoizedState={dehydrated:B,treeContext:mo!==null?{id:kr,overflow:Cr}:null,retryLane:536870912,hydrationErrors:null},ee=Yn(18,null,null,0),ee.stateNode=B,ee.return=o,o.child=ee,Sn=o,Cs=null,ee=!0):ee=!1}ee||xo(o)}if(B=o.memoizedState,B!==null&&(B=B.dehydrated,B!==null))return xp(B)?o.lanes=32:o.lanes=536870912,null;Or(o)}return B=m.children,m=m.fallback,x?(ui(),x=o.mode,B=rh({mode:"hidden",children:B},x),m=fo(m,x,d,null),B.return=o,m.return=o,B.sibling=m,o.child=B,x=o.child,x.memoizedState=Mg(d),x.childLanes=Rg(r,A,d),o.memoizedState=Og,m):(di(o),Pg(o,B))}if(ee=r.memoizedState,ee!==null&&(B=ee.dehydrated,B!==null)){if(w)o.flags&256?(di(o),o.flags&=-257,o=Lg(r,o,d)):o.memoizedState!==null?(ui(),o.child=r.child,o.flags|=128,o=null):(ui(),x=m.fallback,B=o.mode,m=rh({mode:"visible",children:m.children},B),x=fo(x,B,d,null),x.flags|=2,m.return=o,x.return=o,m.sibling=x,o.child=m,wl(o,r.child,null,d),m=o.child,m.memoizedState=Mg(d),m.childLanes=Rg(r,A,d),o.memoizedState=Og,o=x);else if(di(o),xp(B)){if(A=B.nextSibling&&B.nextSibling.dataset,A)var xe=A.dgst;A=xe,m=Error(n(419)),m.stack="",m.digest=A,zc({value:m,source:null,stack:null}),o=Lg(r,o,d)}else if(tn||Uc(r,o,d,!1),A=(d&r.childLanes)!==0,tn||A){if(A=gs,A!==null&&(m=d&-d,m=(m&42)!==0?1:fs(m),m=(m&(A.suspendedLanes|d))!==0?0:m,m!==0&&m!==ee.retryLane))throw ee.retryLane=m,dl(r,m),Zn(A,r,m),Pv;B.data==="$?"||ep(),o=Lg(r,o,d)}else B.data==="$?"?(o.flags|=192,o.child=r.child,o=null):(r=ee.treeContext,Cs=Aa(B.nextSibling),Sn=o,Kt=!0,po=null,Xa=!1,r!==null&&(ha[fa++]=kr,ha[fa++]=Cr,ha[fa++]=mo,kr=r.id,Cr=r.overflow,mo=o),o=Pg(o,m.children),o.flags|=4096);return o}return x?(ui(),x=m.fallback,B=o.mode,ee=r.child,xe=ee.sibling,m=Sr(ee,{mode:"hidden",children:m.children}),m.subtreeFlags=ee.subtreeFlags&65011712,xe!==null?x=Sr(xe,x):(x=fo(x,B,d,null),x.flags|=2),x.return=o,m.return=o,m.sibling=x,o.child=m,m=x,x=o.child,B=r.child.memoizedState,B===null?B=Mg(d):(ee=B.cachePool,ee!==null?(xe=Ys._currentValue,ee=ee.parent!==xe?{parent:xe,pool:xe}:ee):ee=Db(),B={baseLanes:B.baseLanes|d,cachePool:ee}),x.memoizedState=B,x.childLanes=Rg(r,A,d),o.memoizedState=Og,m):(di(o),d=r.child,r=d.sibling,d=Sr(d,{mode:"visible",children:m.children}),d.return=o,d.sibling=null,r!==null&&(A=o.deletions,A===null?(o.deletions=[r],o.flags|=16):A.push(r)),o.child=d,o.memoizedState=null,d)}function Pg(r,o){return o=rh({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function rh(r,o){return r=Yn(22,r,null,o),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Lg(r,o,d){return wl(o,r.child,null,d),r=Pg(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function qv(r,o,d){r.lanes|=o;var m=r.alternate;m!==null&&(m.lanes|=o),eg(r.return,o,d)}function Bg(r,o,d,m,x){var w=r.memoizedState;w===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:x}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=m,w.tail=d,w.tailMode=x)}function Wv(r,o,d){var m=o.pendingProps,x=m.revealOrder,w=m.tail;if(ln(r,o,m.children,d),m=Gs.current,(m&2)!==0)m=m&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&qv(r,d,o);else if(r.tag===19)qv(r,d,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}m&=1}switch(G(Gs,m),x){case"forwards":for(d=o.child,x=null;d!==null;)r=d.alternate,r!==null&&th(r)===null&&(x=d),d=d.sibling;d=x,d===null?(x=o.child,o.child=null):(x=d.sibling,d.sibling=null),Bg(o,!1,x,d,w);break;case"backwards":for(d=null,x=o.child,o.child=null;x!==null;){if(r=x.alternate,r!==null&&th(r)===null){o.child=x;break}r=x.sibling,x.sibling=d,d=x,x=r}Bg(o,!0,d,null,w);break;case"together":Bg(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Mr(r,o,d){if(r!==null&&(o.dependencies=r.dependencies),pi|=o.lanes,(d&o.childLanes)===0)if(r!==null){if(Uc(r,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(n(153));if(o.child!==null){for(r=o.child,d=Sr(r,r.pendingProps),o.child=d,d.return=o;r.sibling!==null;)r=r.sibling,d=d.sibling=Sr(r,r.pendingProps),d.return=o;d.sibling=null}return o.child}function Fg(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&zu(r)))}function ZC(r,o,d){switch(o.tag){case 3:we(o,o.stateNode.containerInfo),ri(o,Ys,r.memoizedState.cache),Fc();break;case 27:case 5:X(o);break;case 4:we(o,o.stateNode.containerInfo);break;case 10:ri(o,o.type,o.memoizedProps.value);break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(di(o),o.flags|=128,null):(d&o.child.childLanes)!==0?Iv(r,o,d):(di(o),r=Mr(r,o,d),r!==null?r.sibling:null);di(o);break;case 19:var x=(r.flags&128)!==0;if(m=(d&o.childLanes)!==0,m||(Uc(r,o,d,!1),m=(d&o.childLanes)!==0),x){if(m)return Wv(r,o,d);o.flags|=128}if(x=o.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),G(Gs,Gs.current),m)break;return null;case 22:case 23:return o.lanes=0,zv(r,o,d);case 24:ri(o,Ys,r.memoizedState.cache)}return Mr(r,o,d)}function Yv(r,o,d){if(r!==null)if(r.memoizedProps!==o.pendingProps)tn=!0;else{if(!Fg(r,d)&&(o.flags&128)===0)return tn=!1,ZC(r,o,d);tn=(r.flags&131072)!==0}else tn=!1,Kt&&(o.flags&1048576)!==0&&Nb(o,Fu,o.index);switch(o.lanes=0,o.tag){case 16:e:{r=o.pendingProps;var m=o.elementType,x=m._init;if(m=x(m._payload),o.type=m,typeof m=="function")Ym(m)?(r=jo(m,r),o.tag=1,o=$v(null,o,m,r,d)):(o.tag=0,o=Ag(null,o,m,r,d));else{if(m!=null){if(x=m.$$typeof,x===C){o.tag=11,o=Lv(null,o,m,r,d);break e}else if(x===L){o.tag=14,o=Bv(null,o,m,r,d);break e}}throw o=q(m)||m,Error(n(306,o,""))}}return o;case 0:return Ag(r,o,o.type,o.pendingProps,d);case 1:return m=o.type,x=jo(m,o.pendingProps),$v(r,o,m,x,d);case 3:e:{if(we(o,o.stateNode.containerInfo),r===null)throw Error(n(387));m=o.pendingProps;var w=o.memoizedState;x=w.element,og(r,o),Yc(o,m,null,d);var A=o.memoizedState;if(m=A.cache,ri(o,Ys,m),m!==w.cache&&tg(o,[Ys],d,!0),Wc(),m=A.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:A.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=Vv(r,o,m,d);break e}else if(m!==x){x=da(Error(n(424)),o),zc(x),o=Vv(r,o,m,d);break e}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Cs=Aa(r.firstChild),Sn=o,Kt=!0,po=null,Xa=!0,d=Tv(o,null,m,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Fc(),m===x){o=Mr(r,o,d);break e}ln(r,o,m,d)}o=o.child}return o;case 26:return ah(r,o),r===null?(d=Q1(o.type,null,o.pendingProps,null))?o.memoizedState=d:Kt||(d=o.type,r=o.pendingProps,m=bh(me.current).createElement(d),m[Se]=o,m[Fe]=r,dn(m,d,r),ut(m),o.stateNode=m):o.memoizedState=Q1(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return X(o),r===null&&Kt&&(m=o.stateNode=G1(o.type,o.pendingProps,me.current),Sn=o,Xa=!0,x=Cs,vi(o.type)?(yp=x,Cs=Aa(m.firstChild)):Cs=x),ln(r,o,o.pendingProps.children,d),ah(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&Kt&&((x=m=Cs)&&(m=SE(m,o.type,o.pendingProps,Xa),m!==null?(o.stateNode=m,Sn=o,Cs=Aa(m.firstChild),Xa=!1,x=!0):x=!1),x||xo(o)),X(o),x=o.type,w=o.pendingProps,A=r!==null?r.memoizedProps:null,m=w.children,mp(x,w)?m=null:A!==null&&mp(x,A)&&(o.flags|=32),o.memoizedState!==null&&(x=fg(r,o,IC,null,null,d),gd._currentValue=x),ah(r,o),ln(r,o,m,d),o.child;case 6:return r===null&&Kt&&((r=d=Cs)&&(d=kE(d,o.pendingProps,Xa),d!==null?(o.stateNode=d,Sn=o,Cs=null,r=!0):r=!1),r||xo(o)),null;case 13:return Iv(r,o,d);case 4:return we(o,o.stateNode.containerInfo),m=o.pendingProps,r===null?o.child=wl(o,null,m,d):ln(r,o,m,d),o.child;case 11:return Lv(r,o,o.type,o.pendingProps,d);case 7:return ln(r,o,o.pendingProps,d),o.child;case 8:return ln(r,o,o.pendingProps.children,d),o.child;case 12:return ln(r,o,o.pendingProps.children,d),o.child;case 10:return m=o.pendingProps,ri(o,o.type,m.value),ln(r,o,m.children,d),o.child;case 9:return x=o.type._context,m=o.pendingProps.children,bo(o),x=vn(x),m=m(x),o.flags|=1,ln(r,o,m,d),o.child;case 14:return Bv(r,o,o.type,o.pendingProps,d);case 15:return Fv(r,o,o.type,o.pendingProps,d);case 19:return Wv(r,o,d);case 31:return m=o.pendingProps,d=o.mode,m={mode:m.mode,children:m.children},r===null?(d=rh(m,d),d.ref=o.ref,o.child=d,d.return=o,o=d):(d=Sr(r.child,m),d.ref=o.ref,o.child=d,d.return=o,o=d),o;case 22:return zv(r,o,d);case 24:return bo(o),m=vn(Ys),r===null?(x=ag(),x===null&&(x=gs,w=sg(),x.pooledCache=w,w.refCount++,w!==null&&(x.pooledCacheLanes|=d),x=w),o.memoizedState={parent:m,cache:x},ig(o),ri(o,Ys,x)):((r.lanes&d)!==0&&(og(r,o),Yc(o,null,null,d),Wc()),x=r.memoizedState,w=o.memoizedState,x.parent!==m?(x={parent:m,cache:m},o.memoizedState=x,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=x),ri(o,Ys,m)):(m=w.cache,ri(o,Ys,m),m!==x.cache&&tg(o,[Ys],d,!0))),ln(r,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function Rr(r){r.flags|=4}function Gv(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!sw(o)){if(o=ma.current,o!==null&&((qt&4194048)===qt?Ka!==null:(qt&62914560)!==qt&&(qt&536870912)===0||o!==Ka))throw Ic=rg,Ab;r.flags|=8192}}function ih(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?vr():536870912,r.lanes|=o,Tl|=o)}function ed(r,o){if(!Kt)switch(r.tailMode){case"hidden":o=r.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?r.tail=null:d.sibling=null;break;case"collapsed":d=r.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:m.sibling=null}}function js(r){var o=r.alternate!==null&&r.alternate.child===r.child,d=0,m=0;if(o)for(var x=r.child;x!==null;)d|=x.lanes|x.childLanes,m|=x.subtreeFlags&65011712,m|=x.flags&65011712,x.return=r,x=x.sibling;else for(x=r.child;x!==null;)d|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=r,x=x.sibling;return r.subtreeFlags|=m,r.childLanes=d,o}function JC(r,o,d){var m=o.pendingProps;switch(Qm(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return js(o),null;case 1:return js(o),null;case 3:return d=o.stateNode,m=null,r!==null&&(m=r.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),Dr(Ys),Ee(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(Bc(o)?Rr(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Sb())),js(o),null;case 26:return d=o.memoizedState,r===null?(Rr(o),d!==null?(js(o),Gv(o,d)):(js(o),o.flags&=-16777217)):d?d!==r.memoizedState?(Rr(o),js(o),Gv(o,d)):(js(o),o.flags&=-16777217):(r.memoizedProps!==m&&Rr(o),js(o),o.flags&=-16777217),null;case 27:Oe(o),d=me.current;var x=o.type;if(r!==null&&o.stateNode!=null)r.memoizedProps!==m&&Rr(o);else{if(!m){if(o.stateNode===null)throw Error(n(166));return js(o),null}r=re.current,Bc(o)?_b(o):(r=G1(x,m,d),o.stateNode=r,Rr(o))}return js(o),null;case 5:if(Oe(o),d=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==m&&Rr(o);else{if(!m){if(o.stateNode===null)throw Error(n(166));return js(o),null}if(r=re.current,Bc(o))_b(o);else{switch(x=bh(me.current),r){case 1:r=x.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:r=x.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":r=x.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":r=x.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":r=x.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof m.is=="string"?x.createElement("select",{is:m.is}):x.createElement("select"),m.multiple?r.multiple=!0:m.size&&(r.size=m.size);break;default:r=typeof m.is=="string"?x.createElement(d,{is:m.is}):x.createElement(d)}}r[Se]=o,r[Fe]=m;e:for(x=o.child;x!==null;){if(x.tag===5||x.tag===6)r.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===o)break e;for(;x.sibling===null;){if(x.return===null||x.return===o)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}o.stateNode=r;e:switch(dn(r,d,m),d){case"button":case"input":case"select":case"textarea":r=!!m.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Rr(o)}}return js(o),o.flags&=-16777217,null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==m&&Rr(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(n(166));if(r=me.current,Bc(o)){if(r=o.stateNode,d=o.memoizedProps,m=null,x=Sn,x!==null)switch(x.tag){case 27:case 5:m=x.memoizedProps}r[Se]=o,r=!!(r.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||H1(r.nodeValue,d)),r||xo(o)}else r=bh(r).createTextNode(m),r[Se]=o,o.stateNode=r}return js(o),null;case 13:if(m=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(x=Bc(o),m!==null&&m.dehydrated!==null){if(r===null){if(!x)throw Error(n(318));if(x=o.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[Se]=o}else Fc(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;js(o),x=!1}else x=Sb(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=x),x=!0;if(!x)return o.flags&256?(Or(o),o):(Or(o),null)}if(Or(o),(o.flags&128)!==0)return o.lanes=d,o;if(d=m!==null,r=r!==null&&r.memoizedState!==null,d){m=o.child,x=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(x=m.alternate.memoizedState.cachePool.pool);var w=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(w=m.memoizedState.cachePool.pool),w!==x&&(m.flags|=2048)}return d!==r&&d&&(o.child.flags|=8192),ih(o,o.updateQueue),js(o),null;case 4:return Ee(),r===null&&cp(o.stateNode.containerInfo),js(o),null;case 10:return Dr(o.type),js(o),null;case 19:if(ge(Gs),x=o.memoizedState,x===null)return js(o),null;if(m=(o.flags&128)!==0,w=x.rendering,w===null)if(m)ed(x,!1);else{if(Es!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(w=th(r),w!==null){for(o.flags|=128,ed(x,!1),r=w.updateQueue,o.updateQueue=r,ih(o,r),o.subtreeFlags=0,r=d,d=o.child;d!==null;)jb(d,r),d=d.sibling;return G(Gs,Gs.current&1|2),o.child}r=r.sibling}x.tail!==null&&De()>ch&&(o.flags|=128,m=!0,ed(x,!1),o.lanes=4194304)}else{if(!m)if(r=th(w),r!==null){if(o.flags|=128,m=!0,r=r.updateQueue,o.updateQueue=r,ih(o,r),ed(x,!0),x.tail===null&&x.tailMode==="hidden"&&!w.alternate&&!Kt)return js(o),null}else 2*De()-x.renderingStartTime>ch&&d!==536870912&&(o.flags|=128,m=!0,ed(x,!1),o.lanes=4194304);x.isBackwards?(w.sibling=o.child,o.child=w):(r=x.last,r!==null?r.sibling=w:o.child=w,x.last=w)}return x.tail!==null?(o=x.tail,x.rendering=o,x.tail=o.sibling,x.renderingStartTime=De(),o.sibling=null,r=Gs.current,G(Gs,m?r&1|2:r&1),o):(js(o),null);case 22:case 23:return Or(o),ug(),m=o.memoizedState!==null,r!==null?r.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(d&536870912)!==0&&(o.flags&128)===0&&(js(o),o.subtreeFlags&6&&(o.flags|=8192)):js(o),d=o.updateQueue,d!==null&&ih(o,d.retryQueue),d=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==d&&(o.flags|=2048),r!==null&&ge(vo),null;case 24:return d=null,r!==null&&(d=r.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Dr(Ys),js(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function eE(r,o){switch(Qm(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Dr(Ys),Ee(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return Oe(o),null;case 13:if(Or(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Fc()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return ge(Gs),null;case 4:return Ee(),null;case 10:return Dr(o.type),null;case 22:case 23:return Or(o),ug(),r!==null&&ge(vo),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return Dr(Ys),null;case 25:return null;default:return null}}function Xv(r,o){switch(Qm(o),o.tag){case 3:Dr(Ys),Ee();break;case 26:case 27:case 5:Oe(o);break;case 4:Ee();break;case 13:Or(o);break;case 19:ge(Gs);break;case 10:Dr(o.type);break;case 22:case 23:Or(o),ug(),r!==null&&ge(vo);break;case 24:Dr(Ys)}}function td(r,o){try{var d=o.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var x=m.next;d=x;do{if((d.tag&r)===r){m=void 0;var w=d.create,A=d.inst;m=w(),A.destroy=m}d=d.next}while(d!==x)}}catch(B){hs(o,o.return,B)}}function hi(r,o,d){try{var m=o.updateQueue,x=m!==null?m.lastEffect:null;if(x!==null){var w=x.next;m=w;do{if((m.tag&r)===r){var A=m.inst,B=A.destroy;if(B!==void 0){A.destroy=void 0,x=o;var ee=d,xe=B;try{xe()}catch(Ce){hs(x,ee,Ce)}}}m=m.next}while(m!==w)}}catch(Ce){hs(o,o.return,Ce)}}function Kv(r){var o=r.updateQueue;if(o!==null){var d=r.stateNode;try{Bb(o,d)}catch(m){hs(r,r.return,m)}}}function Qv(r,o,d){d.props=jo(r.type,r.memoizedProps),d.state=r.memoizedState;try{d.componentWillUnmount()}catch(m){hs(r,o,m)}}function sd(r,o){try{var d=r.ref;if(d!==null){switch(r.tag){case 26:case 27:case 5:var m=r.stateNode;break;case 30:m=r.stateNode;break;default:m=r.stateNode}typeof d=="function"?r.refCleanup=d(m):d.current=m}}catch(x){hs(r,o,x)}}function Qa(r,o){var d=r.ref,m=r.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(x){hs(r,o,x)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(x){hs(r,o,x)}else d.current=null}function Zv(r){var o=r.type,d=r.memoizedProps,m=r.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(x){hs(r,r.return,x)}}function zg(r,o,d){try{var m=r.stateNode;wE(m,r.type,d,o),m[Fe]=o}catch(x){hs(r,r.return,x)}}function Jv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&vi(r.type)||r.tag===4}function Ug(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Jv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&vi(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Hg(r,o,d){var m=r.tag;if(m===5||m===6)r=r.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(r,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(r),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=yh));else if(m!==4&&(m===27&&vi(r.type)&&(d=r.stateNode,o=null),r=r.child,r!==null))for(Hg(r,o,d),r=r.sibling;r!==null;)Hg(r,o,d),r=r.sibling}function oh(r,o,d){var m=r.tag;if(m===5||m===6)r=r.stateNode,o?d.insertBefore(r,o):d.appendChild(r);else if(m!==4&&(m===27&&vi(r.type)&&(d=r.stateNode),r=r.child,r!==null))for(oh(r,o,d),r=r.sibling;r!==null;)oh(r,o,d),r=r.sibling}function e1(r){var o=r.stateNode,d=r.memoizedProps;try{for(var m=r.type,x=o.attributes;x.length;)o.removeAttributeNode(x[0]);dn(o,m,d),o[Se]=r,o[Fe]=d}catch(w){hs(r,r.return,w)}}var Pr=!1,Rs=!1,$g=!1,t1=typeof WeakSet=="function"?WeakSet:Set,sn=null;function tE(r,o){if(r=r.containerInfo,hp=Th,r=hb(r),Um(r)){if("selectionStart"in r)var d={start:r.selectionStart,end:r.selectionEnd};else e:{d=(d=r.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var x=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{d.nodeType,w.nodeType}catch(vt){d=null;break e}var A=0,B=-1,ee=-1,xe=0,Ce=0,Me=r,ve=null;t:for(;;){for(var je;Me!==d||x!==0&&Me.nodeType!==3||(B=A+x),Me!==w||m!==0&&Me.nodeType!==3||(ee=A+m),Me.nodeType===3&&(A+=Me.nodeValue.length),(je=Me.firstChild)!==null;)ve=Me,Me=je;for(;;){if(Me===r)break t;if(ve===d&&++xe===x&&(B=A),ve===w&&++Ce===m&&(ee=A),(je=Me.nextSibling)!==null)break;Me=ve,ve=Me.parentNode}Me=je}d=B===-1||ee===-1?null:{start:B,end:ee}}else d=null}d=d||{start:0,end:0}}else d=null;for(fp={focusedElem:r,selectionRange:d},Th=!1,sn=o;sn!==null;)if(o=sn,r=o.child,(o.subtreeFlags&1024)!==0&&r!==null)r.return=o,sn=r;else for(;sn!==null;){switch(o=sn,w=o.alternate,r=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&w!==null){r=void 0,d=o,x=w.memoizedProps,w=w.memoizedState,m=d.stateNode;try{var _t=jo(d.type,x,d.elementType===d.type);r=m.getSnapshotBeforeUpdate(_t,w),m.__reactInternalSnapshotBeforeUpdate=r}catch(vt){hs(d,d.return,vt)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,d=r.nodeType,d===9)pp(r);else if(d===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":pp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(n(163))}if(r=o.sibling,r!==null){r.return=o.return,sn=r;break}sn=o.return}}function s1(r,o,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:fi(r,d),m&4&&td(5,d);break;case 1:if(fi(r,d),m&4)if(r=d.stateNode,o===null)try{r.componentDidMount()}catch(A){hs(d,d.return,A)}else{var x=jo(d.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(x,o,r.__reactInternalSnapshotBeforeUpdate)}catch(A){hs(d,d.return,A)}}m&64&&Kv(d),m&512&&sd(d,d.return);break;case 3:if(fi(r,d),m&64&&(r=d.updateQueue,r!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{Bb(r,o)}catch(A){hs(d,d.return,A)}}break;case 27:o===null&&m&4&&e1(d);case 26:case 5:fi(r,d),o===null&&m&4&&Zv(d),m&512&&sd(d,d.return);break;case 12:fi(r,d);break;case 13:fi(r,d),m&4&&r1(r,d),m&64&&(r=d.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(d=dE.bind(null,d),CE(r,d))));break;case 22:if(m=d.memoizedState!==null||Pr,!m){o=o!==null&&o.memoizedState!==null||Rs,x=Pr;var w=Rs;Pr=m,(Rs=o)&&!w?mi(r,d,(d.subtreeFlags&8772)!==0):fi(r,d),Pr=x,Rs=w}break;case 30:break;default:fi(r,d)}}function n1(r){var o=r.alternate;o!==null&&(r.alternate=null,n1(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&Tt(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var vs=null,Bn=!1;function Lr(r,o,d){for(d=d.child;d!==null;)a1(r,o,d),d=d.sibling}function a1(r,o,d){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(Ve,d)}catch(w){}switch(d.tag){case 26:Rs||Qa(d,o),Lr(r,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Rs||Qa(d,o);var m=vs,x=Bn;vi(d.type)&&(vs=d.stateNode,Bn=!1),Lr(r,o,d),ud(d.stateNode),vs=m,Bn=x;break;case 5:Rs||Qa(d,o);case 6:if(m=vs,x=Bn,vs=null,Lr(r,o,d),vs=m,Bn=x,vs!==null)if(Bn)try{(vs.nodeType===9?vs.body:vs.nodeName==="HTML"?vs.ownerDocument.body:vs).removeChild(d.stateNode)}catch(w){hs(d,o,w)}else try{vs.removeChild(d.stateNode)}catch(w){hs(d,o,w)}break;case 18:vs!==null&&(Bn?(r=vs,W1(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,d.stateNode),bd(r)):W1(vs,d.stateNode));break;case 4:m=vs,x=Bn,vs=d.stateNode.containerInfo,Bn=!0,Lr(r,o,d),vs=m,Bn=x;break;case 0:case 11:case 14:case 15:Rs||hi(2,d,o),Rs||hi(4,d,o),Lr(r,o,d);break;case 1:Rs||(Qa(d,o),m=d.stateNode,typeof m.componentWillUnmount=="function"&&Qv(d,o,m)),Lr(r,o,d);break;case 21:Lr(r,o,d);break;case 22:Rs=(m=Rs)||d.memoizedState!==null,Lr(r,o,d),Rs=m;break;default:Lr(r,o,d)}}function r1(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{bd(r)}catch(d){hs(o,o.return,d)}}function sE(r){switch(r.tag){case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new t1),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new t1),o;default:throw Error(n(435,r.tag))}}function Vg(r,o){var d=sE(r);o.forEach(function(m){var x=uE.bind(null,r,m);d.has(m)||(d.add(m),m.then(x,x))})}function Gn(r,o){var d=o.deletions;if(d!==null)for(var m=0;m<d.length;m++){var x=d[m],w=r,A=o,B=A;e:for(;B!==null;){switch(B.tag){case 27:if(vi(B.type)){vs=B.stateNode,Bn=!1;break e}break;case 5:vs=B.stateNode,Bn=!1;break e;case 3:case 4:vs=B.stateNode.containerInfo,Bn=!0;break e}B=B.return}if(vs===null)throw Error(n(160));a1(w,A,x),vs=null,Bn=!1,w=x.alternate,w!==null&&(w.return=null),x.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)i1(o,r),o=o.sibling}var Da=null;function i1(r,o){var d=r.alternate,m=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Gn(o,r),Xn(r),m&4&&(hi(3,r,r.return),td(3,r),hi(5,r,r.return));break;case 1:Gn(o,r),Xn(r),m&512&&(Rs||d===null||Qa(d,d.return)),m&64&&Pr&&(r=r.updateQueue,r!==null&&(m=r.callbacks,m!==null&&(d=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var x=Da;if(Gn(o,r),Xn(r),m&512&&(Rs||d===null||Qa(d,d.return)),m&4){var w=d!==null?d.memoizedState:null;if(m=r.memoizedState,d===null)if(m===null)if(r.stateNode===null){e:{m=r.type,d=r.memoizedProps,x=x.ownerDocument||x;t:switch(m){case"title":w=x.getElementsByTagName("title")[0],(!w||w[dt]||w[Se]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=x.createElement(m),x.head.insertBefore(w,x.querySelector("head > title"))),dn(w,m,d),w[Se]=r,ut(w),m=w;break e;case"link":var A=ew("link","href",x).get(m+(d.href||""));if(A){for(var B=0;B<A.length;B++)if(w=A[B],w.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&w.getAttribute("rel")===(d.rel==null?null:d.rel)&&w.getAttribute("title")===(d.title==null?null:d.title)&&w.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){A.splice(B,1);break t}}w=x.createElement(m),dn(w,m,d),x.head.appendChild(w);break;case"meta":if(A=ew("meta","content",x).get(m+(d.content||""))){for(B=0;B<A.length;B++)if(w=A[B],w.getAttribute("content")===(d.content==null?null:""+d.content)&&w.getAttribute("name")===(d.name==null?null:d.name)&&w.getAttribute("property")===(d.property==null?null:d.property)&&w.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&w.getAttribute("charset")===(d.charSet==null?null:d.charSet)){A.splice(B,1);break t}}w=x.createElement(m),dn(w,m,d),x.head.appendChild(w);break;default:throw Error(n(468,m))}w[Se]=r,ut(w),m=w}r.stateNode=m}else tw(x,r.type,r.stateNode);else r.stateNode=J1(x,m,r.memoizedProps);else w!==m?(w===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):w.count--,m===null?tw(x,r.type,r.stateNode):J1(x,m,r.memoizedProps)):m===null&&r.stateNode!==null&&zg(r,r.memoizedProps,d.memoizedProps)}break;case 27:Gn(o,r),Xn(r),m&512&&(Rs||d===null||Qa(d,d.return)),d!==null&&m&4&&zg(r,r.memoizedProps,d.memoizedProps);break;case 5:if(Gn(o,r),Xn(r),m&512&&(Rs||d===null||Qa(d,d.return)),r.flags&32){x=r.stateNode;try{Jr(x,"")}catch(je){hs(r,r.return,je)}}m&4&&r.stateNode!=null&&(x=r.memoizedProps,zg(r,x,d!==null?d.memoizedProps:x)),m&1024&&($g=!0);break;case 6:if(Gn(o,r),Xn(r),m&4){if(r.stateNode===null)throw Error(n(162));m=r.memoizedProps,d=r.stateNode;try{d.nodeValue=m}catch(je){hs(r,r.return,je)}}break;case 3:if(jh=null,x=Da,Da=vh(o.containerInfo),Gn(o,r),Da=x,Xn(r),m&4&&d!==null&&d.memoizedState.isDehydrated)try{bd(o.containerInfo)}catch(je){hs(r,r.return,je)}$g&&($g=!1,o1(r));break;case 4:m=Da,Da=vh(r.stateNode.containerInfo),Gn(o,r),Xn(r),Da=m;break;case 12:Gn(o,r),Xn(r);break;case 13:Gn(o,r),Xn(r),r.child.flags&8192&&r.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Xg=De()),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,Vg(r,m)));break;case 22:x=r.memoizedState!==null;var ee=d!==null&&d.memoizedState!==null,xe=Pr,Ce=Rs;if(Pr=xe||x,Rs=Ce||ee,Gn(o,r),Rs=Ce,Pr=xe,Xn(r),m&8192)e:for(o=r.stateNode,o._visibility=x?o._visibility&-2:o._visibility|1,x&&(d===null||ee||Pr||Rs||No(r)),d=null,o=r;;){if(o.tag===5||o.tag===26){if(d===null){ee=d=o;try{if(w=ee.stateNode,x)A=w.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{B=ee.stateNode;var Me=ee.memoizedProps.style,ve=Me!=null&&Me.hasOwnProperty("display")?Me.display:null;B.style.display=ve==null||typeof ve=="boolean"?"":(""+ve).trim()}}catch(je){hs(ee,ee.return,je)}}}else if(o.tag===6){if(d===null){ee=o;try{ee.stateNode.nodeValue=x?"":ee.memoizedProps}catch(je){hs(ee,ee.return,je)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break e;for(;o.sibling===null;){if(o.return===null||o.return===r)break e;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=r.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,Vg(r,d))));break;case 19:Gn(o,r),Xn(r),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,Vg(r,m)));break;case 30:break;case 21:break;default:Gn(o,r),Xn(r)}}function Xn(r){var o=r.flags;if(o&2){try{for(var d,m=r.return;m!==null;){if(Jv(m)){d=m;break}m=m.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var x=d.stateNode,w=Ug(r);oh(r,w,x);break;case 5:var A=d.stateNode;d.flags&32&&(Jr(A,""),d.flags&=-33);var B=Ug(r);oh(r,B,A);break;case 3:case 4:var ee=d.stateNode.containerInfo,xe=Ug(r);Hg(r,xe,ee);break;default:throw Error(n(161))}}catch(Ce){hs(r,r.return,Ce)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function o1(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;o1(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function fi(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)s1(r,o.alternate,o),o=o.sibling}function No(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:hi(4,o,o.return),No(o);break;case 1:Qa(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&Qv(o,o.return,d),No(o);break;case 27:ud(o.stateNode);case 26:case 5:Qa(o,o.return),No(o);break;case 22:o.memoizedState===null&&No(o);break;case 30:No(o);break;default:No(o)}r=r.sibling}}function mi(r,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,x=r,w=o,A=w.flags;switch(w.tag){case 0:case 11:case 15:mi(x,w,d),td(4,w);break;case 1:if(mi(x,w,d),m=w,x=m.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(xe){hs(m,m.return,xe)}if(m=w,x=m.updateQueue,x!==null){var B=m.stateNode;try{var ee=x.shared.hiddenCallbacks;if(ee!==null)for(x.shared.hiddenCallbacks=null,x=0;x<ee.length;x++)Lb(ee[x],B)}catch(xe){hs(m,m.return,xe)}}d&&A&64&&Kv(w),sd(w,w.return);break;case 27:e1(w);case 26:case 5:mi(x,w,d),d&&m===null&&A&4&&Zv(w),sd(w,w.return);break;case 12:mi(x,w,d);break;case 13:mi(x,w,d),d&&A&4&&r1(x,w);break;case 22:w.memoizedState===null&&mi(x,w,d),sd(w,w.return);break;case 30:break;default:mi(x,w,d)}o=o.sibling}}function Ig(r,o){var d=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==d&&(r!=null&&r.refCount++,d!=null&&Hc(d))}function qg(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Hc(r))}function Za(r,o,d,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)l1(r,o,d,m),o=o.sibling}function l1(r,o,d,m){var x=o.flags;switch(o.tag){case 0:case 11:case 15:Za(r,o,d,m),x&2048&&td(9,o);break;case 1:Za(r,o,d,m);break;case 3:Za(r,o,d,m),x&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Hc(r)));break;case 12:if(x&2048){Za(r,o,d,m),r=o.stateNode;try{var w=o.memoizedProps,A=w.id,B=w.onPostCommit;typeof B=="function"&&B(A,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(ee){hs(o,o.return,ee)}}else Za(r,o,d,m);break;case 13:Za(r,o,d,m);break;case 23:break;case 22:w=o.stateNode,A=o.alternate,o.memoizedState!==null?w._visibility&2?Za(r,o,d,m):nd(r,o):w._visibility&2?Za(r,o,d,m):(w._visibility|=2,jl(r,o,d,m,(o.subtreeFlags&10256)!==0)),x&2048&&Ig(A,o);break;case 24:Za(r,o,d,m),x&2048&&qg(o.alternate,o);break;default:Za(r,o,d,m)}}function jl(r,o,d,m,x){for(x=x&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var w=r,A=o,B=d,ee=m,xe=A.flags;switch(A.tag){case 0:case 11:case 15:jl(w,A,B,ee,x),td(8,A);break;case 23:break;case 22:var Ce=A.stateNode;A.memoizedState!==null?Ce._visibility&2?jl(w,A,B,ee,x):nd(w,A):(Ce._visibility|=2,jl(w,A,B,ee,x)),x&&xe&2048&&Ig(A.alternate,A);break;case 24:jl(w,A,B,ee,x),x&&xe&2048&&qg(A.alternate,A);break;default:jl(w,A,B,ee,x)}o=o.sibling}}function nd(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=r,m=o,x=m.flags;switch(m.tag){case 22:nd(d,m),x&2048&&Ig(m.alternate,m);break;case 24:nd(d,m),x&2048&&qg(m.alternate,m);break;default:nd(d,m)}o=o.sibling}}var ad=8192;function Nl(r){if(r.subtreeFlags&ad)for(r=r.child;r!==null;)c1(r),r=r.sibling}function c1(r){switch(r.tag){case 26:Nl(r),r.flags&ad&&r.memoizedState!==null&&HE(Da,r.memoizedState,r.memoizedProps);break;case 5:Nl(r);break;case 3:case 4:var o=Da;Da=vh(r.stateNode.containerInfo),Nl(r),Da=o;break;case 22:r.memoizedState===null&&(o=r.alternate,o!==null&&o.memoizedState!==null?(o=ad,ad=16777216,Nl(r),ad=o):Nl(r));break;default:Nl(r)}}function d1(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function rd(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var m=o[d];sn=m,h1(m,r)}d1(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)u1(r),r=r.sibling}function u1(r){switch(r.tag){case 0:case 11:case 15:rd(r),r.flags&2048&&hi(9,r,r.return);break;case 3:rd(r);break;case 12:rd(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,lh(r)):rd(r);break;default:rd(r)}}function lh(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var m=o[d];sn=m,h1(m,r)}d1(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:hi(8,o,o.return),lh(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,lh(o));break;default:lh(o)}r=r.sibling}}function h1(r,o){for(;sn!==null;){var d=sn;switch(d.tag){case 0:case 11:case 15:hi(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Hc(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,sn=m;else e:for(d=r;sn!==null;){m=sn;var x=m.sibling,w=m.return;if(n1(m),m===d){sn=null;break e}if(x!==null){x.return=w,sn=x;break e}sn=w}}}var nE={getCacheForType:function(r){var o=vn(Ys),d=o.data.get(r);return d===void 0&&(d=r(),o.data.set(r,d)),d}},aE=typeof WeakMap=="function"?WeakMap:Map,Jt=0,gs=null,Ut=null,qt=0,es=0,Kn=null,gi=!1,_l=!1,Wg=!1,Br=0,Es=0,pi=0,_o=0,Yg=0,ga=0,Tl=0,id=null,Fn=null,Gg=!1,Xg=0,ch=1/0,dh=null,xi=null,cn=0,yi=null,Sl=null,kl=0,Kg=0,Qg=null,f1=null,od=0,Zg=null;function Qn(){if((Jt&2)!==0&&qt!==0)return qt&-qt;if($.T!==null){var r=ml;return r!==0?r:rp()}return te()}function m1(){ga===0&&(ga=(qt&536870912)===0||Kt?Zs():536870912);var r=ma.current;return r!==null&&(r.flags|=32),ga}function Zn(r,o,d){(r===gs&&(es===2||es===9)||r.cancelPendingCommit!==null)&&(Cl(r,0),bi(r,qt,ga,!1)),ra(r,d),((Jt&2)===0||r!==gs)&&(r===gs&&((Jt&2)===0&&(_o|=d),Es===4&&bi(r,qt,ga,!1)),Ja(r))}function g1(r,o,d){if((Jt&6)!==0)throw Error(n(327));var m=!d&&(o&124)===0&&(o&r.expiredLanes)===0||Qs(r,o),x=m?oE(r,o):tp(r,o,!0),w=m;do{if(x===0){_l&&!m&&bi(r,o,0,!1);break}else{if(d=r.current.alternate,w&&!rE(d)){x=tp(r,o,!1),w=!1;continue}if(x===2){if(w=o,r.errorRecoveryDisabledLanes&w)var A=0;else A=r.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){o=A;e:{var B=r;x=id;var ee=B.current.memoizedState.isDehydrated;if(ee&&(Cl(B,A).flags|=256),A=tp(B,A,!1),A!==2){if(Wg&&!ee){B.errorRecoveryDisabledLanes|=w,_o|=w,x=4;break e}w=Fn,Fn=x,w!==null&&(Fn===null?Fn=w:Fn.push.apply(Fn,w))}x=A}if(w=!1,x!==2)continue}}if(x===1){Cl(r,0),bi(r,o,0,!0);break}e:{switch(m=r,w=x,w){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:bi(m,o,ga,!gi);break e;case 2:Fn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(x=Xg+300-De(),10<x)){if(bi(m,o,ga,!gi),ds(m,0,!0)!==0)break e;m.timeoutHandle=I1(p1.bind(null,m,d,Fn,dh,Gg,o,ga,_o,Tl,gi,w,2,-0,0),x);break e}p1(m,d,Fn,dh,Gg,o,ga,_o,Tl,gi,w,0,-0,0)}}break}while(!0);Ja(r)}function p1(r,o,d,m,x,w,A,B,ee,xe,Ce,Me,ve,je){if(r.timeoutHandle=-1,Me=o.subtreeFlags,(Me&8192||(Me&16785408)===16785408)&&(md={stylesheets:null,count:0,unsuspend:UE},c1(o),Me=$E(),Me!==null)){r.cancelPendingCommit=Me(N1.bind(null,r,o,w,d,m,x,A,B,ee,Ce,1,ve,je)),bi(r,w,A,!xe);return}N1(r,o,w,d,m,x,A,B,ee)}function rE(r){for(var o=r;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var x=d[m],w=x.getSnapshot;x=x.value;try{if(!Wn(w(),x))return!1}catch(A){return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function bi(r,o,d,m){o&=~Yg,o&=~_o,r.suspendedLanes|=o,r.pingedLanes&=~o,m&&(r.warmLanes|=o),m=r.expirationTimes;for(var x=o;0<x;){var w=31-Nt(x),A=1<<w;m[w]=-1,x&=~A}d!==0&&bt(r,d,o)}function uh(){return(Jt&6)===0?(ld(0),!1):!0}function Jg(){if(Ut!==null){if(es===0)var r=Ut.return;else r=Ut,Er=yo=null,pg(r),vl=null,Zc=0,r=Ut;for(;r!==null;)Xv(r.alternate,r),r=r.return;Ut=null}}function Cl(r,o){var d=r.timeoutHandle;d!==-1&&(r.timeoutHandle=-1,NE(d)),d=r.cancelPendingCommit,d!==null&&(r.cancelPendingCommit=null,d()),Jg(),gs=r,Ut=d=Sr(r.current,null),qt=o,es=0,Kn=null,gi=!1,_l=Qs(r,o),Wg=!1,Tl=ga=Yg=_o=pi=Es=0,Fn=id=null,Gg=!1,(o&8)!==0&&(o|=o&32);var m=r.entangledLanes;if(m!==0)for(r=r.entanglements,m&=o;0<m;){var x=31-Nt(m),w=1<<x;o|=r[x],m&=~w}return Br=o,Mu(),d}function x1(r,o){Pt=null,$.H=Zu,o===Vc||o===$u?(o=Rb(),es=3):o===Ab?(o=Rb(),es=4):es=o===Pv?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Kn=o,Ut===null&&(Es=1,nh(r,da(o,r.current)))}function y1(){var r=$.H;return $.H=Zu,r===null?Zu:r}function b1(){var r=$.A;return $.A=nE,r}function ep(){Es=4,gi||(qt&4194048)!==qt&&ma.current!==null||(_l=!0),(pi&134217727)===0&&(_o&134217727)===0||gs===null||bi(gs,qt,ga,!1)}function tp(r,o,d){var m=Jt;Jt|=2;var x=y1(),w=b1();(gs!==r||qt!==o)&&(dh=null,Cl(r,o)),o=!1;var A=Es;e:do try{if(es!==0&&Ut!==null){var B=Ut,ee=Kn;switch(es){case 8:Jg(),A=6;break e;case 3:case 2:case 9:case 6:ma.current===null&&(o=!0);var xe=es;if(es=0,Kn=null,El(r,B,ee,xe),d&&_l){A=0;break e}break;default:xe=es,es=0,Kn=null,El(r,B,ee,xe)}}iE(),A=Es;break}catch(Ce){x1(r,Ce)}while(!0);return o&&r.shellSuspendCounter++,Er=yo=null,Jt=m,$.H=x,$.A=w,Ut===null&&(gs=null,qt=0,Mu()),A}function iE(){for(;Ut!==null;)v1(Ut)}function oE(r,o){var d=Jt;Jt|=2;var m=y1(),x=b1();gs!==r||qt!==o?(dh=null,ch=De()+500,Cl(r,o)):_l=Qs(r,o);e:do try{if(es!==0&&Ut!==null){o=Ut;var w=Kn;t:switch(es){case 1:es=0,Kn=null,El(r,o,w,1);break;case 2:case 9:if(Ob(w)){es=0,Kn=null,w1(o);break}o=function(){es!==2&&es!==9||gs!==r||(es=7),Ja(r)},w.then(o,o);break e;case 3:es=7;break e;case 4:es=5;break e;case 7:Ob(w)?(es=0,Kn=null,w1(o)):(es=0,Kn=null,El(r,o,w,7));break;case 5:var A=null;switch(Ut.tag){case 26:A=Ut.memoizedState;case 5:case 27:var B=Ut;if(!A||sw(A)){es=0,Kn=null;var ee=B.sibling;if(ee!==null)Ut=ee;else{var xe=B.return;xe!==null?(Ut=xe,hh(xe)):Ut=null}break t}}es=0,Kn=null,El(r,o,w,5);break;case 6:es=0,Kn=null,El(r,o,w,6);break;case 8:Jg(),Es=6;break e;default:throw Error(n(462))}}lE();break}catch(Ce){x1(r,Ce)}while(!0);return Er=yo=null,$.H=m,$.A=x,Jt=d,Ut!==null?0:(gs=null,qt=0,Mu(),Es)}function lE(){for(;Ut!==null&&!gt();)v1(Ut)}function v1(r){var o=Yv(r.alternate,r,Br);r.memoizedProps=r.pendingProps,o===null?hh(r):Ut=o}function w1(r){var o=r,d=o.alternate;switch(o.tag){case 15:case 0:o=Hv(d,o,o.pendingProps,o.type,void 0,qt);break;case 11:o=Hv(d,o,o.pendingProps,o.type.render,o.ref,qt);break;case 5:pg(o);default:Xv(d,o),o=Ut=jb(o,Br),o=Yv(d,o,Br)}r.memoizedProps=r.pendingProps,o===null?hh(r):Ut=o}function El(r,o,d,m){Er=yo=null,pg(o),vl=null,Zc=0;var x=o.return;try{if(QC(r,x,o,d,qt)){Es=1,nh(r,da(d,r.current)),Ut=null;return}}catch(w){if(x!==null)throw Ut=x,w;Es=1,nh(r,da(d,r.current)),Ut=null;return}o.flags&32768?(Kt||m===1?r=!0:_l||(qt&536870912)!==0?r=!1:(gi=r=!0,(m===2||m===9||m===3||m===6)&&(m=ma.current,m!==null&&m.tag===13&&(m.flags|=16384))),j1(o,r)):hh(o)}function hh(r){var o=r;do{if((o.flags&32768)!==0){j1(o,gi);return}r=o.return;var d=JC(o.alternate,o,Br);if(d!==null){Ut=d;return}if(o=o.sibling,o!==null){Ut=o;return}Ut=o=r}while(o!==null);Es===0&&(Es=5)}function j1(r,o){do{var d=eE(r.alternate,r);if(d!==null){d.flags&=32767,Ut=d;return}if(d=r.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(r=r.sibling,r!==null)){Ut=r;return}Ut=r=d}while(r!==null);Es=6,Ut=null}function N1(r,o,d,m,x,w,A,B,ee){r.cancelPendingCommit=null;do fh();while(cn!==0);if((Jt&6)!==0)throw Error(n(327));if(o!==null){if(o===r.current)throw Error(n(177));if(w=o.lanes|o.childLanes,w|=qm,wr(r,d,w,A,B,ee),r===gs&&(Ut=gs=null,qt=0),Sl=o,yi=r,kl=d,Kg=w,Qg=x,f1=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,hE(le,function(){return C1(),null})):(r.callbackNode=null,r.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=$.T,$.T=null,x=J.p,J.p=2,A=Jt,Jt|=4;try{tE(r,o,d)}finally{Jt=A,J.p=x,$.T=m}}cn=1,_1(),T1(),S1()}}function _1(){if(cn===1){cn=0;var r=yi,o=Sl,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=$.T,$.T=null;var m=J.p;J.p=2;var x=Jt;Jt|=4;try{i1(o,r);var w=fp,A=hb(r.containerInfo),B=w.focusedElem,ee=w.selectionRange;if(A!==B&&B&&B.ownerDocument&&ub(B.ownerDocument.documentElement,B)){if(ee!==null&&Um(B)){var xe=ee.start,Ce=ee.end;if(Ce===void 0&&(Ce=xe),"selectionStart"in B)B.selectionStart=xe,B.selectionEnd=Math.min(Ce,B.value.length);else{var Me=B.ownerDocument||document,ve=Me&&Me.defaultView||window;if(ve.getSelection){var je=ve.getSelection(),_t=B.textContent.length,vt=Math.min(ee.start,_t),ls=ee.end===void 0?vt:Math.min(ee.end,_t);!je.extend&&vt>ls&&(A=ls,ls=vt,vt=A);var de=db(B,vt),ae=db(B,ls);if(de&&ae&&(je.rangeCount!==1||je.anchorNode!==de.node||je.anchorOffset!==de.offset||je.focusNode!==ae.node||je.focusOffset!==ae.offset)){var he=Me.createRange();he.setStart(de.node,de.offset),je.removeAllRanges(),vt>ls?(je.addRange(he),je.extend(ae.node,ae.offset)):(he.setEnd(ae.node,ae.offset),je.addRange(he))}}}}for(Me=[],je=B;je=je.parentNode;)je.nodeType===1&&Me.push({element:je,left:je.scrollLeft,top:je.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<Me.length;B++){var Ae=Me[B];Ae.element.scrollLeft=Ae.left,Ae.element.scrollTop=Ae.top}}Th=!!hp,fp=hp=null}finally{Jt=x,J.p=m,$.T=d}}r.current=o,cn=2}}function T1(){if(cn===2){cn=0;var r=yi,o=Sl,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=$.T,$.T=null;var m=J.p;J.p=2;var x=Jt;Jt|=4;try{s1(r,o.alternate,o)}finally{Jt=x,J.p=m,$.T=d}}cn=3}}function S1(){if(cn===4||cn===3){cn=0,Dt();var r=yi,o=Sl,d=kl,m=f1;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?cn=5:(cn=0,Sl=yi=null,k1(r,r.pendingLanes));var x=r.pendingLanes;if(x===0&&(xi=null),Os(d),o=o.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(Ve,o,void 0,(o.current.flags&128)===128)}catch(ee){}if(m!==null){o=$.T,x=J.p,J.p=2,$.T=null;try{for(var w=r.onRecoverableError,A=0;A<m.length;A++){var B=m[A];w(B.value,{componentStack:B.stack})}}finally{$.T=o,J.p=x}}(kl&3)!==0&&fh(),Ja(r),x=r.pendingLanes,(d&4194090)!==0&&(x&42)!==0?r===Zg?od++:(od=0,Zg=r):od=0,ld(0)}}function k1(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,Hc(o)))}function fh(r){return _1(),T1(),S1(),C1()}function C1(){if(cn!==5)return!1;var r=yi,o=Kg;Kg=0;var d=Os(kl),m=$.T,x=J.p;try{J.p=32>d?32:d,$.T=null,d=Qg,Qg=null;var w=yi,A=kl;if(cn=0,Sl=yi=null,kl=0,(Jt&6)!==0)throw Error(n(331));var B=Jt;if(Jt|=4,u1(w.current),l1(w,w.current,A,d),Jt=B,ld(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(Ve,w)}catch(ee){}return!0}finally{J.p=x,$.T=m,k1(r,o)}}function E1(r,o,d){o=da(d,o),o=Dg(r.stateNode,o,2),r=li(r,o,2),r!==null&&(ra(r,2),Ja(r))}function hs(r,o,d){if(r.tag===3)E1(r,r,d);else for(;o!==null;){if(o.tag===3){E1(o,r,d);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(xi===null||!xi.has(m))){r=da(d,r),d=Mv(2),m=li(o,d,2),m!==null&&(Rv(d,m,o,r),ra(m,2),Ja(m));break}}o=o.return}}function sp(r,o,d){var m=r.pingCache;if(m===null){m=r.pingCache=new aE;var x=new Set;m.set(o,x)}else x=m.get(o),x===void 0&&(x=new Set,m.set(o,x));x.has(d)||(Wg=!0,x.add(d),r=cE.bind(null,r,o,d),o.then(r,r))}function cE(r,o,d){var m=r.pingCache;m!==null&&m.delete(o),r.pingedLanes|=r.suspendedLanes&d,r.warmLanes&=~d,gs===r&&(qt&d)===d&&(Es===4||Es===3&&(qt&62914560)===qt&&300>De()-Xg?(Jt&2)===0&&Cl(r,0):Yg|=d,Tl===qt&&(Tl=0)),Ja(r)}function D1(r,o){o===0&&(o=vr()),r=dl(r,o),r!==null&&(ra(r,o),Ja(r))}function dE(r){var o=r.memoizedState,d=0;o!==null&&(d=o.retryLane),D1(r,d)}function uE(r,o){var d=0;switch(r.tag){case 13:var m=r.stateNode,x=r.memoizedState;x!==null&&(d=x.retryLane);break;case 19:m=r.stateNode;break;case 22:m=r.stateNode._retryCache;break;default:throw Error(n(314))}m!==null&&m.delete(o),D1(r,d)}function hE(r,o){return Ye(r,o)}var mh=null,Dl=null,np=!1,gh=!1,ap=!1,To=0;function Ja(r){r!==Dl&&r.next===null&&(Dl===null?mh=Dl=r:Dl=Dl.next=r),gh=!0,np||(np=!0,mE())}function ld(r,o){if(!ap&&gh){ap=!0;do for(var d=!1,m=mh;m!==null;){if(r!==0){var x=m.pendingLanes;if(x===0)var w=0;else{var A=m.suspendedLanes,B=m.pingedLanes;w=(1<<31-Nt(42|r)+1)-1,w&=x&~(A&~B),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(d=!0,R1(m,w))}else w=qt,w=ds(m,m===gs?w:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(w&3)===0||Qs(m,w)||(d=!0,R1(m,w));m=m.next}while(d);ap=!1}}function fE(){A1()}function A1(){gh=np=!1;var r=0;To!==0&&(jE()&&(r=To),To=0);for(var o=De(),d=null,m=mh;m!==null;){var x=m.next,w=O1(m,o);w===0?(m.next=null,d===null?mh=x:d.next=x,x===null&&(Dl=d)):(d=m,(r!==0||(w&3)!==0)&&(gh=!0)),m=x}ld(r)}function O1(r,o){for(var d=r.suspendedLanes,m=r.pingedLanes,x=r.expirationTimes,w=r.pendingLanes&-62914561;0<w;){var A=31-Nt(w),B=1<<A,ee=x[A];ee===-1?((B&d)===0||(B&m)!==0)&&(x[A]=xn(B,o)):ee<=o&&(r.expiredLanes|=B),w&=~B}if(o=gs,d=qt,d=ds(r,r===o?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m=r.callbackNode,d===0||r===o&&(es===2||es===9)||r.cancelPendingCommit!==null)return m!==null&&m!==null&&tt(m),r.callbackNode=null,r.callbackPriority=0;if((d&3)===0||Qs(r,d)){if(o=d&-d,o===r.callbackPriority)return o;switch(m!==null&&tt(m),Os(d)){case 2:case 8:d=Z;break;case 32:d=le;break;case 268435456:d=Te;break;default:d=le}return m=M1.bind(null,r),d=Ye(d,m),r.callbackPriority=o,r.callbackNode=d,o}return m!==null&&m!==null&&tt(m),r.callbackPriority=2,r.callbackNode=null,2}function M1(r,o){if(cn!==0&&cn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var d=r.callbackNode;if(fh()&&r.callbackNode!==d)return null;var m=qt;return m=ds(r,r===gs?m:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m===0?null:(g1(r,m,o),O1(r,De()),r.callbackNode!=null&&r.callbackNode===d?M1.bind(null,r):null)}function R1(r,o){if(fh())return null;g1(r,o,!0)}function mE(){_E(function(){(Jt&6)!==0?Ye(Pe,fE):A1()})}function rp(){return To===0&&(To=Zs()),To}function P1(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:el(""+r)}function L1(r,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,r.id&&d.setAttribute("form",r.id),o.parentNode.insertBefore(d,o),r=new FormData(r),d.parentNode.removeChild(d),r}function gE(r,o,d,m,x){if(o==="submit"&&d&&d.stateNode===x){var w=P1((x[Fe]||null).action),A=m.submitter;A&&(o=(o=A[Fe]||null)?P1(o.formAction):A.getAttribute("formAction"),o!==null&&(w=o,A=null));var B=new nl("action","action",null,m,x);r.push({event:B,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(To!==0){var ee=A?L1(x,A):new FormData(x);Tg(d,{pending:!0,data:ee,method:x.method,action:w},null,ee)}}else typeof w=="function"&&(B.preventDefault(),ee=A?L1(x,A):new FormData(x),Tg(d,{pending:!0,data:ee,method:x.method,action:w},w,ee))},currentTarget:x}]})}}for(var ip=0;ip<Im.length;ip++){var op=Im[ip],pE=op.toLowerCase(),xE=op[0].toUpperCase()+op.slice(1);Ea(pE,"on"+xE)}Ea(gb,"onAnimationEnd"),Ea(pb,"onAnimationIteration"),Ea(xb,"onAnimationStart"),Ea("dblclick","onDoubleClick"),Ea("focusin","onFocus"),Ea("focusout","onBlur"),Ea(RC,"onTransitionRun"),Ea(PC,"onTransitionStart"),Ea(LC,"onTransitionCancel"),Ea(yb,"onTransitionEnd"),Ts("onMouseEnter",["mouseout","mouseover"]),Ts("onMouseLeave",["mouseout","mouseover"]),Ts("onPointerEnter",["pointerout","pointerover"]),Ts("onPointerLeave",["pointerout","pointerover"]),bs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bs("onBeforeInput",["compositionend","keypress","textInput","paste"]),bs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cd));function B1(r,o){o=(o&4)!==0;for(var d=0;d<r.length;d++){var m=r[d],x=m.event;m=m.listeners;e:{var w=void 0;if(o)for(var A=m.length-1;0<=A;A--){var B=m[A],ee=B.instance,xe=B.currentTarget;if(B=B.listener,ee!==w&&x.isPropagationStopped())break e;w=B,x.currentTarget=xe;try{w(x)}catch(Ce){sh(Ce)}x.currentTarget=null,w=ee}else for(A=0;A<m.length;A++){if(B=m[A],ee=B.instance,xe=B.currentTarget,B=B.listener,ee!==w&&x.isPropagationStopped())break e;w=B,x.currentTarget=xe;try{w(x)}catch(Ce){sh(Ce)}x.currentTarget=null,w=ee}}}}function Ht(r,o){var d=o[nt];d===void 0&&(d=o[nt]=new Set);var m=r+"__bubble";d.has(m)||(F1(o,r,2,!1),d.add(m))}function lp(r,o,d){var m=0;o&&(m|=4),F1(d,r,m,o)}var ph="_reactListening"+Math.random().toString(36).slice(2);function cp(r){if(!r[ph]){r[ph]=!0,Ct.forEach(function(d){d!=="selectionchange"&&(yE.has(d)||lp(d,!1,r),lp(d,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[ph]||(o[ph]=!0,lp("selectionchange",!1,o))}}function F1(r,o,d,m){switch(lw(o)){case 2:var x=qE;break;case 8:x=WE;break;default:x=Np}d=x.bind(null,o,d,r),x=void 0,!tl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(x=!0),m?x!==void 0?r.addEventListener(o,d,{capture:!0,passive:x}):r.addEventListener(o,d,!0):x!==void 0?r.addEventListener(o,d,{passive:x}):r.addEventListener(o,d,!1)}function dp(r,o,d,m,x){var w=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var A=m.tag;if(A===3||A===4){var B=m.stateNode.containerInfo;if(B===x)break;if(A===4)for(A=m.return;A!==null;){var ee=A.tag;if((ee===3||ee===4)&&A.stateNode.containerInfo===x)return;A=A.return}for(;B!==null;){if(A=At(B),A===null)return;if(ee=A.tag,ee===5||ee===6||ee===26||ee===27){m=w=A;continue e}B=B.parentNode}}m=m.return}Ac(function(){var xe=w,Ce=ro(d),Me=[];e:{var ve=bb.get(r);if(ve!==void 0){var je=nl,_t=r;switch(r){case"keypress":if(si(d)===0)break e;case"keydown":case"keyup":je=Ga;break;case"focusin":_t="focus",je=ft;break;case"focusout":_t="blur",je=ft;break;case"beforeblur":case"afterblur":je=ft;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=ce;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=be;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=Au;break;case gb:case pb:case xb:je=et;break;case yb:je=xC;break;case"scroll":case"scrollend":je=ks;break;case"wheel":je=bC;break;case"copy":case"cut":case"paste":je=rs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=al;break;case"toggle":case"beforetoggle":je=wC}var vt=(o&4)!==0,ls=!vt&&(r==="scroll"||r==="scrollend"),de=vt?ve!==null?ve+"Capture":null:ve;vt=[];for(var ae=xe,he;ae!==null;){var Ae=ae;if(he=Ae.stateNode,Ae=Ae.tag,Ae!==5&&Ae!==26&&Ae!==27||he===null||de===null||(Ae=ti(ae,de),Ae!=null&&vt.push(dd(ae,Ae,he))),ls)break;ae=ae.return}0<vt.length&&(ve=new je(ve,_t,null,d,Ce),Me.push({event:ve,listeners:vt}))}}if((o&7)===0){e:{if(ve=r==="mouseover"||r==="pointerover",je=r==="mouseout"||r==="pointerout",ve&&d!==Ec&&(_t=d.relatedTarget||d.fromElement)&&(At(_t)||_t[Ke]))break e;if((je||ve)&&(ve=Ce.window===Ce?Ce:(ve=Ce.ownerDocument)?ve.defaultView||ve.parentWindow:window,je?(_t=d.relatedTarget||d.toElement,je=xe,_t=_t?At(_t):null,_t!==null&&(ls=l(_t),vt=_t.tag,_t!==ls||vt!==5&&vt!==27&&vt!==6)&&(_t=null)):(je=null,_t=xe),je!==_t)){if(vt=ce,Ae="onMouseLeave",de="onMouseEnter",ae="mouse",(r==="pointerout"||r==="pointerover")&&(vt=al,Ae="onPointerLeave",de="onPointerEnter",ae="pointer"),ls=je==null?ve:_s(je),he=_t==null?ve:_s(_t),ve=new vt(Ae,ae+"leave",je,d,Ce),ve.target=ls,ve.relatedTarget=he,Ae=null,At(Ce)===xe&&(vt=new vt(de,ae+"enter",_t,d,Ce),vt.target=he,vt.relatedTarget=ls,Ae=vt),ls=Ae,je&&_t)t:{for(vt=je,de=_t,ae=0,he=vt;he;he=Al(he))ae++;for(he=0,Ae=de;Ae;Ae=Al(Ae))he++;for(;0<ae-he;)vt=Al(vt),ae--;for(;0<he-ae;)de=Al(de),he--;for(;ae--;){if(vt===de||de!==null&&vt===de.alternate)break t;vt=Al(vt),de=Al(de)}vt=null}else vt=null;je!==null&&z1(Me,ve,je,vt,!1),_t!==null&&ls!==null&&z1(Me,ls,_t,vt,!0)}}e:{if(ve=xe?_s(xe):window,je=ve.nodeName&&ve.nodeName.toLowerCase(),je==="select"||je==="input"&&ve.type==="file")var at=ab;else if(sb(ve))if(rb)at=AC;else{at=EC;var Ft=CC}else je=ve.nodeName,!je||je.toLowerCase()!=="input"||ve.type!=="checkbox"&&ve.type!=="radio"?xe&&ao(xe.elementType)&&(at=ab):at=DC;if(at&&(at=at(r,xe))){nb(Me,at,d,Ce);break e}Ft&&Ft(r,ve,xe),r==="focusout"&&xe&&ve.type==="number"&&xe.memoizedProps.value!=null&&Sc(ve,"number",ve.value)}switch(Ft=xe?_s(xe):window,r){case"focusin":(sb(Ft)||Ft.contentEditable==="true")&&(ol=Ft,Hm=xe,Lc=null);break;case"focusout":Lc=Hm=ol=null;break;case"mousedown":$m=!0;break;case"contextmenu":case"mouseup":case"dragend":$m=!1,fb(Me,d,Ce);break;case"selectionchange":if(MC)break;case"keydown":case"keyup":fb(Me,d,Ce)}var ht;if(Bm)e:{switch(r){case"compositionstart":var jt="onCompositionStart";break e;case"compositionend":jt="onCompositionEnd";break e;case"compositionupdate":jt="onCompositionUpdate";break e}jt=void 0}else il?eb(r,d)&&(jt="onCompositionEnd"):r==="keydown"&&d.keyCode===229&&(jt="onCompositionStart");jt&&(Qy&&d.locale!=="ko"&&(il||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&il&&(ht=lo()):(qn=Ce,Pn="value"in qn?qn.value:qn.textContent,il=!0)),Ft=xh(xe,jt),0<Ft.length&&(jt=new xt(jt,r,null,d,Ce),Me.push({event:jt,listeners:Ft}),ht?jt.data=ht:(ht=tb(d),ht!==null&&(jt.data=ht)))),(ht=NC?_C(r,d):TC(r,d))&&(jt=xh(xe,"onBeforeInput"),0<jt.length&&(Ft=new xt("onBeforeInput","beforeinput",null,d,Ce),Me.push({event:Ft,listeners:jt}),Ft.data=ht)),gE(Me,r,xe,d,Ce)}B1(Me,o)})}function dd(r,o,d){return{instance:r,listener:o,currentTarget:d}}function xh(r,o){for(var d=o+"Capture",m=[];r!==null;){var x=r,w=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||w===null||(x=ti(r,d),x!=null&&m.unshift(dd(r,x,w)),x=ti(r,o),x!=null&&m.push(dd(r,x,w))),r.tag===3)return m;r=r.return}return[]}function Al(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function z1(r,o,d,m,x){for(var w=o._reactName,A=[];d!==null&&d!==m;){var B=d,ee=B.alternate,xe=B.stateNode;if(B=B.tag,ee!==null&&ee===m)break;B!==5&&B!==26&&B!==27||xe===null||(ee=xe,x?(xe=ti(d,w),xe!=null&&A.unshift(dd(d,xe,ee))):x||(xe=ti(d,w),xe!=null&&A.push(dd(d,xe,ee)))),d=d.return}A.length!==0&&r.push({event:o,listeners:A})}var bE=/\r\n?/g,vE=/\u0000|\uFFFD/g;function U1(r){return(typeof r=="string"?r:""+r).replace(bE,`
`).replace(vE,"")}function H1(r,o){return o=U1(o),U1(r)===o}function yh(){}function os(r,o,d,m,x,w){switch(d){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||Jr(r,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&Jr(r,""+m);break;case"className":la(r,"class",m);break;case"tabIndex":la(r,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":la(r,d,m);break;case"style":Cc(r,m,w);break;case"data":if(o!=="object"){la(r,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||d!=="href")){r.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(d);break}m=el(""+m),r.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){r.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(d==="formAction"?(o!=="input"&&os(r,o,"name",x.name,x,null),os(r,o,"formEncType",x.formEncType,x,null),os(r,o,"formMethod",x.formMethod,x,null),os(r,o,"formTarget",x.formTarget,x,null)):(os(r,o,"encType",x.encType,x,null),os(r,o,"method",x.method,x,null),os(r,o,"target",x.target,x,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(d);break}m=el(""+m),r.setAttribute(d,m);break;case"onClick":m!=null&&(r.onclick=yh);break;case"onScroll":m!=null&&Ht("scroll",r);break;case"onScrollEnd":m!=null&&Ht("scrollend",r);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(d=m.__html,d!=null){if(x.children!=null)throw Error(n(60));r.innerHTML=d}}break;case"multiple":r.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":r.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){r.removeAttribute("xlink:href");break}d=el(""+m),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(d,""+m):r.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(d,""):r.removeAttribute(d);break;case"capture":case"download":m===!0?r.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(d,m):r.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?r.setAttribute(d,m):r.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?r.removeAttribute(d):r.setAttribute(d,m);break;case"popover":Ht("beforetoggle",r),Ht("toggle",r),yn(r,"popover",m);break;case"xlinkActuate":Rt(r,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Rt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Rt(r,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Rt(r,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Rt(r,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Rt(r,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Rt(r,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Rt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Rt(r,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":yn(r,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Jo.get(d)||d,yn(r,d,m))}}function up(r,o,d,m,x,w){switch(d){case"style":Cc(r,m,w);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(d=m.__html,d!=null){if(x.children!=null)throw Error(n(60));r.innerHTML=d}}break;case"children":typeof m=="string"?Jr(r,m):(typeof m=="number"||typeof m=="bigint")&&Jr(r,""+m);break;case"onScroll":m!=null&&Ht("scroll",r);break;case"onScrollEnd":m!=null&&Ht("scrollend",r);break;case"onClick":m!=null&&(r.onclick=yh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wt.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(x=d.endsWith("Capture"),o=d.slice(2,x?d.length-7:void 0),w=r[Fe]||null,w=w!=null?w[d]:null,typeof w=="function"&&r.removeEventListener(o,w,x),typeof m=="function")){typeof w!="function"&&w!==null&&(d in r?r[d]=null:r.hasAttribute(d)&&r.removeAttribute(d)),r.addEventListener(o,m,x);break e}d in r?r[d]=m:m===!0?r.setAttribute(d,""):yn(r,d,m)}}}function dn(r,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ht("error",r),Ht("load",r);var m=!1,x=!1,w;for(w in d)if(d.hasOwnProperty(w)){var A=d[w];if(A!=null)switch(w){case"src":m=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:os(r,o,w,A,d,null)}}x&&os(r,o,"srcSet",d.srcSet,d,null),m&&os(r,o,"src",d.src,d,null);return;case"input":Ht("invalid",r);var B=w=A=x=null,ee=null,xe=null;for(m in d)if(d.hasOwnProperty(m)){var Ce=d[m];if(Ce!=null)switch(m){case"name":x=Ce;break;case"type":A=Ce;break;case"checked":ee=Ce;break;case"defaultChecked":xe=Ce;break;case"value":w=Ce;break;case"defaultValue":B=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(n(137,o));break;default:os(r,o,m,Ce,d,null)}}ku(r,w,B,ee,xe,A,x,!1),to(r);return;case"select":Ht("invalid",r),m=A=w=null;for(x in d)if(d.hasOwnProperty(x)&&(B=d[x],B!=null))switch(x){case"value":w=B;break;case"defaultValue":A=B;break;case"multiple":m=B;default:os(r,o,x,B,d,null)}o=w,d=A,r.multiple=!!m,o!=null?Nr(r,!!m,o,!1):d!=null&&Nr(r,!!m,d,!0);return;case"textarea":Ht("invalid",r),w=x=m=null;for(A in d)if(d.hasOwnProperty(A)&&(B=d[A],B!=null))switch(A){case"value":m=B;break;case"defaultValue":x=B;break;case"children":w=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(n(91));break;default:os(r,o,A,B,d,null)}kc(r,m,x,w),to(r);return;case"option":for(ee in d)if(d.hasOwnProperty(ee)&&(m=d[ee],m!=null))switch(ee){case"selected":r.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:os(r,o,ee,m,d,null)}return;case"dialog":Ht("beforetoggle",r),Ht("toggle",r),Ht("cancel",r),Ht("close",r);break;case"iframe":case"object":Ht("load",r);break;case"video":case"audio":for(m=0;m<cd.length;m++)Ht(cd[m],r);break;case"image":Ht("error",r),Ht("load",r);break;case"details":Ht("toggle",r);break;case"embed":case"source":case"link":Ht("error",r),Ht("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(xe in d)if(d.hasOwnProperty(xe)&&(m=d[xe],m!=null))switch(xe){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:os(r,o,xe,m,d,null)}return;default:if(ao(o)){for(Ce in d)d.hasOwnProperty(Ce)&&(m=d[Ce],m!==void 0&&up(r,o,Ce,m,d,void 0));return}}for(B in d)d.hasOwnProperty(B)&&(m=d[B],m!=null&&os(r,o,B,m,d,null))}function wE(r,o,d,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,w=null,A=null,B=null,ee=null,xe=null,Ce=null;for(je in d){var Me=d[je];if(d.hasOwnProperty(je)&&Me!=null)switch(je){case"checked":break;case"value":break;case"defaultValue":ee=Me;default:m.hasOwnProperty(je)||os(r,o,je,null,m,Me)}}for(var ve in m){var je=m[ve];if(Me=d[ve],m.hasOwnProperty(ve)&&(je!=null||Me!=null))switch(ve){case"type":w=je;break;case"name":x=je;break;case"checked":xe=je;break;case"defaultChecked":Ce=je;break;case"value":A=je;break;case"defaultValue":B=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(n(137,o));break;default:je!==Me&&os(r,o,ve,je,m,Me)}}Tc(r,A,B,ee,xe,Ce,w,x);return;case"select":je=A=B=ve=null;for(w in d)if(ee=d[w],d.hasOwnProperty(w)&&ee!=null)switch(w){case"value":break;case"multiple":je=ee;default:m.hasOwnProperty(w)||os(r,o,w,null,m,ee)}for(x in m)if(w=m[x],ee=d[x],m.hasOwnProperty(x)&&(w!=null||ee!=null))switch(x){case"value":ve=w;break;case"defaultValue":B=w;break;case"multiple":A=w;default:w!==ee&&os(r,o,x,w,m,ee)}o=B,d=A,m=je,ve!=null?Nr(r,!!d,ve,!1):!!m!=!!d&&(o!=null?Nr(r,!!d,o,!0):Nr(r,!!d,d?[]:"",!1));return;case"textarea":je=ve=null;for(B in d)if(x=d[B],d.hasOwnProperty(B)&&x!=null&&!m.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:os(r,o,B,null,m,x)}for(A in m)if(x=m[A],w=d[A],m.hasOwnProperty(A)&&(x!=null||w!=null))switch(A){case"value":ve=x;break;case"defaultValue":je=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(n(91));break;default:x!==w&&os(r,o,A,x,m,w)}no(r,ve,je);return;case"option":for(var _t in d)if(ve=d[_t],d.hasOwnProperty(_t)&&ve!=null&&!m.hasOwnProperty(_t))switch(_t){case"selected":r.selected=!1;break;default:os(r,o,_t,null,m,ve)}for(ee in m)if(ve=m[ee],je=d[ee],m.hasOwnProperty(ee)&&ve!==je&&(ve!=null||je!=null))switch(ee){case"selected":r.selected=ve&&typeof ve!="function"&&typeof ve!="symbol";break;default:os(r,o,ee,ve,m,je)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in d)ve=d[vt],d.hasOwnProperty(vt)&&ve!=null&&!m.hasOwnProperty(vt)&&os(r,o,vt,null,m,ve);for(xe in m)if(ve=m[xe],je=d[xe],m.hasOwnProperty(xe)&&ve!==je&&(ve!=null||je!=null))switch(xe){case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(n(137,o));break;default:os(r,o,xe,ve,m,je)}return;default:if(ao(o)){for(var ls in d)ve=d[ls],d.hasOwnProperty(ls)&&ve!==void 0&&!m.hasOwnProperty(ls)&&up(r,o,ls,void 0,m,ve);for(Ce in m)ve=m[Ce],je=d[Ce],!m.hasOwnProperty(Ce)||ve===je||ve===void 0&&je===void 0||up(r,o,Ce,ve,m,je);return}}for(var de in d)ve=d[de],d.hasOwnProperty(de)&&ve!=null&&!m.hasOwnProperty(de)&&os(r,o,de,null,m,ve);for(Me in m)ve=m[Me],je=d[Me],!m.hasOwnProperty(Me)||ve===je||ve==null&&je==null||os(r,o,Me,ve,m,je)}var hp=null,fp=null;function bh(r){return r.nodeType===9?r:r.ownerDocument}function $1(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function V1(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function mp(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var gp=null;function jE(){var r=window.event;return r&&r.type==="popstate"?r===gp?!1:(gp=r,!0):(gp=null,!1)}var I1=typeof setTimeout=="function"?setTimeout:void 0,NE=typeof clearTimeout=="function"?clearTimeout:void 0,q1=typeof Promise=="function"?Promise:void 0,_E=typeof queueMicrotask=="function"?queueMicrotask:typeof q1!="undefined"?function(r){return q1.resolve(null).then(r).catch(TE)}:I1;function TE(r){setTimeout(function(){throw r})}function vi(r){return r==="head"}function W1(r,o){var d=o,m=0,x=0;do{var w=d.nextSibling;if(r.removeChild(d),w&&w.nodeType===8)if(d=w.data,d==="/$"){if(0<m&&8>m){d=m;var A=r.ownerDocument;if(d&1&&ud(A.documentElement),d&2&&ud(A.body),d&4)for(d=A.head,ud(d),A=d.firstChild;A;){var B=A.nextSibling,ee=A.nodeName;A[dt]||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&A.rel.toLowerCase()==="stylesheet"||d.removeChild(A),A=B}}if(x===0){r.removeChild(w),bd(o);return}x--}else d==="$"||d==="$?"||d==="$!"?x++:m=d.charCodeAt(0)-48;else m=0;d=w}while(d);bd(o)}function pp(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":pp(d),Tt(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}r.removeChild(d)}}function SE(r,o,d,m){for(;r.nodeType===1;){var x=d;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(m){if(!r[dt])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(w=r.getAttribute("rel"),w==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(w!==x.rel||r.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||r.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||r.getAttribute("title")!==(x.title==null?null:x.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(w=r.getAttribute("src"),(w!==(x.src==null?null:x.src)||r.getAttribute("type")!==(x.type==null?null:x.type)||r.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&w&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var w=x.name==null?null:""+x.name;if(x.type==="hidden"&&r.getAttribute("name")===w)return r}else return r;if(r=Aa(r.nextSibling),r===null)break}return null}function kE(r,o,d){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!d||(r=Aa(r.nextSibling),r===null))return null;return r}function xp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function CE(r,o){var d=r.ownerDocument;if(r.data!=="$?"||d.readyState==="complete")o();else{var m=function(){o(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),r._reactRetry=m}}function Aa(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return r}var yp=null;function Y1(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var d=r.data;if(d==="$"||d==="$!"||d==="$?"){if(o===0)return r;o--}else d==="/$"&&o++}r=r.previousSibling}return null}function G1(r,o,d){switch(o=bh(d),r){case"html":if(r=o.documentElement,!r)throw Error(n(452));return r;case"head":if(r=o.head,!r)throw Error(n(453));return r;case"body":if(r=o.body,!r)throw Error(n(454));return r;default:throw Error(n(451))}}function ud(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);Tt(r)}var pa=new Map,X1=new Set;function vh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Fr=J.d;J.d={f:EE,r:DE,D:AE,C:OE,L:ME,m:RE,X:LE,S:PE,M:BE};function EE(){var r=Fr.f(),o=uh();return r||o}function DE(r){var o=us(r);o!==null&&o.tag===5&&o.type==="form"?gv(o):Fr.r(r)}var Ol=typeof document=="undefined"?null:document;function K1(r,o,d){var m=Ol;if(m&&typeof o=="string"&&o){var x=Mn(o);x='link[rel="'+r+'"][href="'+x+'"]',typeof d=="string"&&(x+='[crossorigin="'+d+'"]'),X1.has(x)||(X1.add(x),r={rel:r,crossOrigin:d,href:o},m.querySelector(x)===null&&(o=m.createElement("link"),dn(o,"link",r),ut(o),m.head.appendChild(o)))}}function AE(r){Fr.D(r),K1("dns-prefetch",r,null)}function OE(r,o){Fr.C(r,o),K1("preconnect",r,o)}function ME(r,o,d){Fr.L(r,o,d);var m=Ol;if(m&&r&&o){var x='link[rel="preload"][as="'+Mn(o)+'"]';o==="image"&&d&&d.imageSrcSet?(x+='[imagesrcset="'+Mn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(x+='[imagesizes="'+Mn(d.imageSizes)+'"]')):x+='[href="'+Mn(r)+'"]';var w=x;switch(o){case"style":w=Ml(r);break;case"script":w=Rl(r)}pa.has(w)||(r=g({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:r,as:o},d),pa.set(w,r),m.querySelector(x)!==null||o==="style"&&m.querySelector(hd(w))||o==="script"&&m.querySelector(fd(w))||(o=m.createElement("link"),dn(o,"link",r),ut(o),m.head.appendChild(o)))}}function RE(r,o){Fr.m(r,o);var d=Ol;if(d&&r){var m=o&&typeof o.as=="string"?o.as:"script",x='link[rel="modulepreload"][as="'+Mn(m)+'"][href="'+Mn(r)+'"]',w=x;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Rl(r)}if(!pa.has(w)&&(r=g({rel:"modulepreload",href:r},o),pa.set(w,r),d.querySelector(x)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(fd(w)))return}m=d.createElement("link"),dn(m,"link",r),ut(m),d.head.appendChild(m)}}}function PE(r,o,d){Fr.S(r,o,d);var m=Ol;if(m&&r){var x=as(m).hoistableStyles,w=Ml(r);o=o||"default";var A=x.get(w);if(!A){var B={loading:0,preload:null};if(A=m.querySelector(hd(w)))B.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":o},d),(d=pa.get(w))&&bp(r,d);var ee=A=m.createElement("link");ut(ee),dn(ee,"link",r),ee._p=new Promise(function(xe,Ce){ee.onload=xe,ee.onerror=Ce}),ee.addEventListener("load",function(){B.loading|=1}),ee.addEventListener("error",function(){B.loading|=2}),B.loading|=4,wh(A,o,m)}A={type:"stylesheet",instance:A,count:1,state:B},x.set(w,A)}}}function LE(r,o){Fr.X(r,o);var d=Ol;if(d&&r){var m=as(d).hoistableScripts,x=Rl(r),w=m.get(x);w||(w=d.querySelector(fd(x)),w||(r=g({src:r,async:!0},o),(o=pa.get(x))&&vp(r,o),w=d.createElement("script"),ut(w),dn(w,"link",r),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(x,w))}}function BE(r,o){Fr.M(r,o);var d=Ol;if(d&&r){var m=as(d).hoistableScripts,x=Rl(r),w=m.get(x);w||(w=d.querySelector(fd(x)),w||(r=g({src:r,async:!0,type:"module"},o),(o=pa.get(x))&&vp(r,o),w=d.createElement("script"),ut(w),dn(w,"link",r),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(x,w))}}function Q1(r,o,d,m){var x=(x=me.current)?vh(x):null;if(!x)throw Error(n(446));switch(r){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=Ml(d.href),d=as(x).hoistableStyles,m=d.get(o),m||(m={type:"style",instance:null,count:0,state:null},d.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){r=Ml(d.href);var w=as(x).hoistableStyles,A=w.get(r);if(A||(x=x.ownerDocument||x,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(r,A),(w=x.querySelector(hd(r)))&&!w._p&&(A.instance=w,A.state.loading=5),pa.has(r)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},pa.set(r,d),w||FE(x,r,d,A.state))),o&&m===null)throw Error(n(528,""));return A}if(o&&m!==null)throw Error(n(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Rl(d),d=as(x).hoistableScripts,m=d.get(o),m||(m={type:"script",instance:null,count:0,state:null},d.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,r))}}function Ml(r){return'href="'+Mn(r)+'"'}function hd(r){return'link[rel="stylesheet"]['+r+"]"}function Z1(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function FE(r,o,d,m){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=r.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),dn(o,"link",d),ut(o),r.head.appendChild(o))}function Rl(r){return'[src="'+Mn(r)+'"]'}function fd(r){return"script[async]"+r}function J1(r,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var m=r.querySelector('style[data-href~="'+Mn(d.href)+'"]');if(m)return o.instance=m,ut(m),m;var x=g({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(r.ownerDocument||r).createElement("style"),ut(m),dn(m,"style",x),wh(m,d.precedence,r),o.instance=m;case"stylesheet":x=Ml(d.href);var w=r.querySelector(hd(x));if(w)return o.state.loading|=4,o.instance=w,ut(w),w;m=Z1(d),(x=pa.get(x))&&bp(m,x),w=(r.ownerDocument||r).createElement("link"),ut(w);var A=w;return A._p=new Promise(function(B,ee){A.onload=B,A.onerror=ee}),dn(w,"link",m),o.state.loading|=4,wh(w,d.precedence,r),o.instance=w;case"script":return w=Rl(d.src),(x=r.querySelector(fd(w)))?(o.instance=x,ut(x),x):(m=d,(x=pa.get(w))&&(m=g({},d),vp(m,x)),r=r.ownerDocument||r,x=r.createElement("script"),ut(x),dn(x,"link",m),r.head.appendChild(x),o.instance=x);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,wh(m,d.precedence,r));return o.instance}function wh(r,o,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=m.length?m[m.length-1]:null,w=x,A=0;A<m.length;A++){var B=m[A];if(B.dataset.precedence===o)w=B;else if(w!==x)break}w?w.parentNode.insertBefore(r,w.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(r,o.firstChild))}function bp(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function vp(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var jh=null;function ew(r,o,d){if(jh===null){var m=new Map,x=jh=new Map;x.set(d,m)}else x=jh,m=x.get(d),m||(m=new Map,x.set(d,m));if(m.has(r))return m;for(m.set(r,null),d=d.getElementsByTagName(r),x=0;x<d.length;x++){var w=d[x];if(!(w[dt]||w[Se]||r==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var A=w.getAttribute(o)||"";A=r+A;var B=m.get(A);B?B.push(w):m.set(A,[w])}}return m}function tw(r,o,d){r=r.ownerDocument||r,r.head.insertBefore(d,o==="title"?r.querySelector("head > title"):null)}function zE(r,o,d){if(d===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function sw(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var md=null;function UE(){}function HE(r,o,d){if(md===null)throw Error(n(475));var m=md;if(o.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var x=Ml(d.href),w=r.querySelector(hd(x));if(w){r=w._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(m.count++,m=Nh.bind(m),r.then(m,m)),o.state.loading|=4,o.instance=w,ut(w);return}w=r.ownerDocument||r,d=Z1(d),(x=pa.get(x))&&bp(d,x),w=w.createElement("link"),ut(w);var A=w;A._p=new Promise(function(B,ee){A.onload=B,A.onerror=ee}),dn(w,"link",d),o.instance=w}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(m.count++,o=Nh.bind(m),r.addEventListener("load",o),r.addEventListener("error",o))}}function $E(){if(md===null)throw Error(n(475));var r=md;return r.stylesheets&&r.count===0&&wp(r,r.stylesheets),0<r.count?function(o){var d=setTimeout(function(){if(r.stylesheets&&wp(r,r.stylesheets),r.unsuspend){var m=r.unsuspend;r.unsuspend=null,m()}},6e4);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(d)}}:null}function Nh(){if(this.count--,this.count===0){if(this.stylesheets)wp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var _h=null;function wp(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,_h=new Map,o.forEach(VE,r),_h=null,Nh.call(r))}function VE(r,o){if(!(o.state.loading&4)){var d=_h.get(r);if(d)var m=d.get(null);else{d=new Map,_h.set(r,d);for(var x=r.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<x.length;w++){var A=x[w];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(d.set(A.dataset.precedence,A),m=A)}m&&d.set(null,m)}x=o.instance,A=x.getAttribute("data-precedence"),w=d.get(A)||m,w===m&&d.set(null,x),d.set(A,x),this.count++,m=Nh.bind(this),x.addEventListener("load",m),x.addEventListener("error",m),w?w.parentNode.insertBefore(x,w.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(x,r.firstChild)),o.state.loading|=4}}var gd={$$typeof:S,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function IE(r,o,d,m,x,w,A,B){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wa(0),this.hiddenUpdates=Wa(null),this.identifierPrefix=m,this.onUncaughtError=x,this.onCaughtError=w,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function nw(r,o,d,m,x,w,A,B,ee,xe,Ce,Me){return r=new IE(r,o,d,A,B,ee,xe,Me),o=1,w===!0&&(o|=24),w=Yn(3,null,null,o),r.current=w,w.stateNode=r,o=sg(),o.refCount++,r.pooledCache=o,o.refCount++,w.memoizedState={element:m,isDehydrated:d,cache:o},ig(w),r}function aw(r){return r?(r=ul,r):ul}function rw(r,o,d,m,x,w){x=aw(x),m.context===null?m.context=x:m.pendingContext=x,m=oi(o),m.payload={element:d},w=w===void 0?null:w,w!==null&&(m.callback=w),d=li(r,m,o),d!==null&&(Zn(d,r,o),qc(d,r,o))}function iw(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var d=r.retryLane;r.retryLane=d!==0&&d<o?d:o}}function jp(r,o){iw(r,o),(r=r.alternate)&&iw(r,o)}function ow(r){if(r.tag===13){var o=dl(r,67108864);o!==null&&Zn(o,r,67108864),jp(r,67108864)}}var Th=!0;function qE(r,o,d,m){var x=$.T;$.T=null;var w=J.p;try{J.p=2,Np(r,o,d,m)}finally{J.p=w,$.T=x}}function WE(r,o,d,m){var x=$.T;$.T=null;var w=J.p;try{J.p=8,Np(r,o,d,m)}finally{J.p=w,$.T=x}}function Np(r,o,d,m){if(Th){var x=_p(m);if(x===null)dp(r,o,m,Sh,d),cw(r,m);else if(GE(x,r,o,d,m))m.stopPropagation();else if(cw(r,m),o&4&&-1<YE.indexOf(r)){for(;x!==null;){var w=us(x);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var A=It(w.pendingLanes);if(A!==0){var B=w;for(B.pendingLanes|=2,B.entangledLanes|=2;A;){var ee=1<<31-Nt(A);B.entanglements[1]|=ee,A&=~ee}Ja(w),(Jt&6)===0&&(ch=De()+500,ld(0))}}break;case 13:B=dl(w,2),B!==null&&Zn(B,w,2),uh(),jp(w,2)}if(w=_p(m),w===null&&dp(r,o,m,Sh,d),w===x)break;x=w}x!==null&&m.stopPropagation()}else dp(r,o,m,null,d)}}function _p(r){return r=ro(r),Tp(r)}var Sh=null;function Tp(r){if(Sh=null,r=At(r),r!==null){var o=l(r);if(o===null)r=null;else{var d=o.tag;if(d===13){if(r=c(o),r!==null)return r;r=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return Sh=r,null}function lw(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ue()){case Pe:return 2;case Z:return 8;case le:case V:return 32;case Te:return 268435456;default:return 32}default:return 32}}var Sp=!1,wi=null,ji=null,Ni=null,pd=new Map,xd=new Map,_i=[],YE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cw(r,o){switch(r){case"focusin":case"focusout":wi=null;break;case"dragenter":case"dragleave":ji=null;break;case"mouseover":case"mouseout":Ni=null;break;case"pointerover":case"pointerout":pd.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":xd.delete(o.pointerId)}}function yd(r,o,d,m,x,w){return r===null||r.nativeEvent!==w?(r={blockedOn:o,domEventName:d,eventSystemFlags:m,nativeEvent:w,targetContainers:[x]},o!==null&&(o=us(o),o!==null&&ow(o)),r):(r.eventSystemFlags|=m,o=r.targetContainers,x!==null&&o.indexOf(x)===-1&&o.push(x),r)}function GE(r,o,d,m,x){switch(o){case"focusin":return wi=yd(wi,r,o,d,m,x),!0;case"dragenter":return ji=yd(ji,r,o,d,m,x),!0;case"mouseover":return Ni=yd(Ni,r,o,d,m,x),!0;case"pointerover":var w=x.pointerId;return pd.set(w,yd(pd.get(w)||null,r,o,d,m,x)),!0;case"gotpointercapture":return w=x.pointerId,xd.set(w,yd(xd.get(w)||null,r,o,d,m,x)),!0}return!1}function dw(r){var o=At(r.target);if(o!==null){var d=l(o);if(d!==null){if(o=d.tag,o===13){if(o=c(d),o!==null){r.blockedOn=o,ie(r.priority,function(){if(d.tag===13){var m=Qn();m=fs(m);var x=dl(d,m);x!==null&&Zn(x,d,m),jp(d,m)}});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){r.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}r.blockedOn=null}function kh(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var d=_p(r.nativeEvent);if(d===null){d=r.nativeEvent;var m=new d.constructor(d.type,d);Ec=m,d.target.dispatchEvent(m),Ec=null}else return o=us(d),o!==null&&ow(o),r.blockedOn=d,!1;o.shift()}return!0}function uw(r,o,d){kh(r)&&d.delete(o)}function XE(){Sp=!1,wi!==null&&kh(wi)&&(wi=null),ji!==null&&kh(ji)&&(ji=null),Ni!==null&&kh(Ni)&&(Ni=null),pd.forEach(uw),xd.forEach(uw)}function Ch(r,o){r.blockedOn===o&&(r.blockedOn=null,Sp||(Sp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,XE)))}var Eh=null;function hw(r){Eh!==r&&(Eh=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Eh===r&&(Eh=null);for(var o=0;o<r.length;o+=3){var d=r[o],m=r[o+1],x=r[o+2];if(typeof m!="function"){if(Tp(m||d)===null)continue;break}var w=us(d);w!==null&&(r.splice(o,3),o-=3,Tg(w,{pending:!0,data:x,method:d.method,action:m},m,x))}}))}function bd(r){function o(ee){return Ch(ee,r)}wi!==null&&Ch(wi,r),ji!==null&&Ch(ji,r),Ni!==null&&Ch(Ni,r),pd.forEach(o),xd.forEach(o);for(var d=0;d<_i.length;d++){var m=_i[d];m.blockedOn===r&&(m.blockedOn=null)}for(;0<_i.length&&(d=_i[0],d.blockedOn===null);)dw(d),d.blockedOn===null&&_i.shift();if(d=(r.ownerDocument||r).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var x=d[m],w=d[m+1],A=x[Fe]||null;if(typeof w=="function")A||hw(d);else if(A){var B=null;if(w&&w.hasAttribute("formAction")){if(x=w,A=w[Fe]||null)B=A.formAction;else if(Tp(x)!==null)continue}else B=A.action;typeof B=="function"?d[m+1]=B:(d.splice(m,3),m-=3),hw(d)}}}function kp(r){this._internalRoot=r}Dh.prototype.render=kp.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(n(409));var d=o.current,m=Qn();rw(d,m,r,o,null,null)},Dh.prototype.unmount=kp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;rw(r.current,2,null,r,null,null),uh(),o[Ke]=null}};function Dh(r){this._internalRoot=r}Dh.prototype.unstable_scheduleHydration=function(r){if(r){var o=te();r={blockedOn:null,target:r,priority:o};for(var d=0;d<_i.length&&o!==0&&o<_i[d].priority;d++);_i.splice(d,0,r),d===0&&dw(r)}};var fw=t.version;if(fw!=="19.1.1")throw Error(n(527,fw,"19.1.1"));J.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=h(o),r=r!==null?f(r):null,r=r===null?null:r.stateNode,r};var KE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ah.isDisabled&&Ah.supportsFiber)try{Ve=Ah.inject(KE),Ge=Ah}catch(r){}}return wd.createRoot=function(r,o){if(!i(r))throw Error(n(299));var d=!1,m="",x=Ev,w=Dv,A=Av,B=null;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(x=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(B=o.unstable_transitionCallbacks)),o=nw(r,1,!1,null,null,d,m,x,w,A,B,null),r[Ke]=o.current,cp(r),new kp(o)},wd.hydrateRoot=function(r,o,d){if(!i(r))throw Error(n(299));var m=!1,x="",w=Ev,A=Dv,B=Av,ee=null,xe=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onUncaughtError!==void 0&&(w=d.onUncaughtError),d.onCaughtError!==void 0&&(A=d.onCaughtError),d.onRecoverableError!==void 0&&(B=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(ee=d.unstable_transitionCallbacks),d.formState!==void 0&&(xe=d.formState)),o=nw(r,1,!0,o,d!=null?d:null,m,x,w,A,B,ee,xe),o.context=aw(null),d=o.current,m=Qn(),m=fs(m),x=oi(m),x.callback=null,li(d,x,m),d=m,o.current.lanes=d,ra(o,d),Ja(o),r[Ke]=o.current,cp(r),new Dh(o)},wd.version="19.1.1",wd}var Sw;function u4(){if(Sw)return Mp.exports;Sw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Mp.exports=d4(),Mp.exports}var h4=u4();const f4=_x(h4);var m4=Object.defineProperty,g4=(e,t,s)=>t in e?m4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,ko=(e,t,s)=>g4(e,typeof t!="symbol"?t+"":t,s),p4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ll={},jd={},Oa={},kw;function $2(){if(kw)return Oa;kw=1;var e=Oa&&Oa.__assign||function(){return e=Object.assign||function(i){for(var l,c=1,u=arguments.length;c<u;c++){l=arguments[c];for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(i[h]=l[h])}return i},e.apply(this,arguments)},t=Oa&&Oa.__awaiter||function(i,l,c,u){function h(f){return f instanceof c?f:new c(function(g){g(f)})}return new(c||(c=Promise))(function(f,g){function p(j){try{y(u.next(j))}catch(v){g(v)}}function b(j){try{y(u.throw(j))}catch(v){g(v)}}function y(j){j.done?f(j.value):h(j.value).then(p,b)}y((u=u.apply(i,l||[])).next())})},s=Oa&&Oa.__generator||function(i,l){var c={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},u,h,f,g;return g={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function p(y){return function(j){return b([y,j])}}function b(y){if(u)throw new TypeError("Generator is already executing.");for(;g&&(g=0,y[0]&&(c=0)),c;)try{if(u=1,h&&(f=y[0]&2?h.return:y[0]?h.throw||((f=h.return)&&f.call(h),0):h.next)&&!(f=f.call(h,y[1])).done)return f;switch(h=0,f&&(y=[y[0]&2,f.value]),y[0]){case 0:case 1:f=y;break;case 4:return c.label++,{value:y[1],done:!1};case 5:c.label++,h=y[1],y=[0];continue;case 7:y=c.ops.pop(),c.trys.pop();continue;default:if(f=c.trys,!(f=f.length>0&&f[f.length-1])&&(y[0]===6||y[0]===2)){c=0;continue}if(y[0]===3&&(!f||y[1]>f[0]&&y[1]<f[3])){c.label=y[1];break}if(y[0]===6&&c.label<f[1]){c.label=f[1],f=y;break}if(f&&c.label<f[2]){c.label=f[2],c.ops.push(y);break}f[2]&&c.ops.pop(),c.trys.pop();continue}y=l.call(i,c)}catch(j){y=[6,j],h=0}finally{u=f=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}};Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.FrappeCall=void 0;var n=function(){function i(l,c,u,h,f){this.appURL=l,this.axios=c,this.useToken=u!=null?u:!1,this.token=h,this.tokenType=f}return i.prototype.get=function(l,c){return t(this,void 0,void 0,function(){var u;return s(this,function(h){return u=new URLSearchParams,c&&Object.entries(c).forEach(function(f){var g=f[0],p=f[1];if(p!=null){var b=typeof p=="object"?JSON.stringify(p):p;u.set(g,b)}}),[2,this.axios.get("/api/method/".concat(l),{params:u}).then(function(f){return f.data}).catch(function(f){var g,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(g=f.response.data.message)!==null&&g!==void 0?g:"There was an error.",exception:(p=f.response.data.exception)!==null&&p!==void 0?p:""})})]})})},i.prototype.post=function(l,c){return t(this,void 0,void 0,function(){return s(this,function(u){return[2,this.axios.post("/api/method/".concat(l),e({},c)).then(function(h){return h.data}).catch(function(h){var f,g;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(f=h.response.data.message)!==null&&f!==void 0?f:"There was an error.",exception:(g=h.response.data.exception)!==null&&g!==void 0?g:""})})]})})},i.prototype.put=function(l,c){return t(this,void 0,void 0,function(){return s(this,function(u){return[2,this.axios.put("/api/method/".concat(l),e({},c)).then(function(h){return h.data}).catch(function(h){var f,g;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(f=h.response.data.message)!==null&&f!==void 0?f:"There was an error.",exception:(g=h.response.data.exception)!==null&&g!==void 0?g:""})})]})})},i.prototype.delete=function(l,c){return t(this,void 0,void 0,function(){return s(this,function(u){return[2,this.axios.delete("/api/method/".concat(l),{params:c}).then(function(h){return h.data}).catch(function(h){var f,g;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(f=h.response.data.message)!==null&&f!==void 0?f:"There was an error.",exception:(g=h.response.data.exception)!==null&&g!==void 0?g:""})})]})})},i}();return Oa.FrappeCall=n,Oa}var Ma={},Cw;function V2(){if(Cw)return Ma;Cw=1;var e=Ma&&Ma.__assign||function(){return e=Object.assign||function(i){for(var l,c=1,u=arguments.length;c<u;c++){l=arguments[c];for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(i[h]=l[h])}return i},e.apply(this,arguments)},t=Ma&&Ma.__awaiter||function(i,l,c,u){function h(f){return f instanceof c?f:new c(function(g){g(f)})}return new(c||(c=Promise))(function(f,g){function p(j){try{y(u.next(j))}catch(v){g(v)}}function b(j){try{y(u.throw(j))}catch(v){g(v)}}function y(j){j.done?f(j.value):h(j.value).then(p,b)}y((u=u.apply(i,l||[])).next())})},s=Ma&&Ma.__generator||function(i,l){var c={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},u,h,f,g;return g={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function p(y){return function(j){return b([y,j])}}function b(y){if(u)throw new TypeError("Generator is already executing.");for(;g&&(g=0,y[0]&&(c=0)),c;)try{if(u=1,h&&(f=y[0]&2?h.return:y[0]?h.throw||((f=h.return)&&f.call(h),0):h.next)&&!(f=f.call(h,y[1])).done)return f;switch(h=0,f&&(y=[y[0]&2,f.value]),y[0]){case 0:case 1:f=y;break;case 4:return c.label++,{value:y[1],done:!1};case 5:c.label++,h=y[1],y=[0];continue;case 7:y=c.ops.pop(),c.trys.pop();continue;default:if(f=c.trys,!(f=f.length>0&&f[f.length-1])&&(y[0]===6||y[0]===2)){c=0;continue}if(y[0]===3&&(!f||y[1]>f[0]&&y[1]<f[3])){c.label=y[1];break}if(y[0]===6&&c.label<f[1]){c.label=f[1],f=y;break}if(f&&c.label<f[2]){c.label=f[2],c.ops.push(y);break}f[2]&&c.ops.pop(),c.trys.pop();continue}y=l.call(i,c)}catch(j){y=[6,j],h=0}finally{u=f=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}};Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.FrappeDB=void 0;var n=function(){function i(l,c,u,h,f){this.appURL=l,this.axios=c,this.useToken=u!=null?u:!1,this.token=h,this.tokenType=f}return i.prototype.getDoc=function(l,c){return c===void 0&&(c=""),t(this,void 0,void 0,function(){return s(this,function(u){return[2,this.axios.get("/api/resource/".concat(l,"/").concat(encodeURIComponent(c))).then(function(h){return h.data.data}).catch(function(h){var f,g;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:"There was an error while fetching the document.",exception:(g=(f=h.response.data.exception)!==null&&f!==void 0?f:h.response.data.exc_type)!==null&&g!==void 0?g:""})})]})})},i.prototype.getDocList=function(l,c){var u;return t(this,void 0,void 0,function(){var h,f,g,p,b,y,j,v,_,T,O;return s(this,function(S){return h={},c&&(f=c.fields,g=c.filters,p=c.orFilters,b=c.orderBy,y=c.limit,j=c.limit_start,v=c.groupBy,_=c.asDict,T=_===void 0?!0:_,O=b?"".concat(String(b==null?void 0:b.field)," ").concat((u=b==null?void 0:b.order)!==null&&u!==void 0?u:"asc"):"",h={fields:f?JSON.stringify(f):void 0,filters:g?JSON.stringify(g):void 0,or_filters:p?JSON.stringify(p):void 0,order_by:O,group_by:v,limit:y,limit_start:j,as_dict:T}),[2,this.axios.get("/api/resource/".concat(l),{params:h}).then(function(C){return C.data.data}).catch(function(C){var D,E;throw e(e({},C.response.data),{httpStatus:C.response.status,httpStatusText:C.response.statusText,message:"There was an error while fetching the documents.",exception:(E=(D=C.response.data.exception)!==null&&D!==void 0?D:C.response.data.exc_type)!==null&&E!==void 0?E:""})})]})})},i.prototype.createDoc=function(l,c){return t(this,void 0,void 0,function(){return s(this,function(u){return[2,this.axios.post("/api/resource/".concat(l),e({},c)).then(function(h){return h.data.data}).catch(function(h){var f,g,p;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(f=h.response.data.message)!==null&&f!==void 0?f:"There was an error while creating the document.",exception:(p=(g=h.response.data.exception)!==null&&g!==void 0?g:h.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},i.prototype.updateDoc=function(l,c,u){return t(this,void 0,void 0,function(){return s(this,function(h){return[2,this.axios.put("/api/resource/".concat(l,"/").concat(c&&encodeURIComponent(c)),e({},u)).then(function(f){return f.data.data}).catch(function(f){var g,p,b;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(g=f.response.data.message)!==null&&g!==void 0?g:"There was an error while updating the document.",exception:(b=(p=f.response.data.exception)!==null&&p!==void 0?p:f.response.data.exc_type)!==null&&b!==void 0?b:""})})]})})},i.prototype.deleteDoc=function(l,c){return t(this,void 0,void 0,function(){return s(this,function(u){return[2,this.axios.delete("/api/resource/".concat(l,"/").concat(c&&encodeURIComponent(c))).then(function(h){return h.data}).catch(function(h){var f,g;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:"There was an error while deleting the document.",exception:(g=(f=h.response.data.exception)!==null&&f!==void 0?f:h.response.data.exc_type)!==null&&g!==void 0?g:""})})]})})},i.prototype.getCount=function(l,c,u,h){return u===void 0&&(u=!1),h===void 0&&(h=!1),t(this,void 0,void 0,function(){var f;return s(this,function(g){return f={doctype:l,filters:[]},u&&(f.cache=u),h&&(f.debug=h),c&&(f.filters=c?JSON.stringify(c):void 0),[2,this.axios.get("/api/method/frappe.client.get_count",{params:f}).then(function(p){return p.data.message}).catch(function(p){var b,y;throw e(e({},p.response.data),{httpStatus:p.response.status,httpStatusText:p.response.statusText,message:"There was an error while getting the count.",exception:(y=(b=p.response.data.exception)!==null&&b!==void 0?b:p.response.data.exc_type)!==null&&y!==void 0?y:""})})]})})},i.prototype.getLastDoc=function(l,c){return t(this,void 0,void 0,function(){var u,h;return s(this,function(f){switch(f.label){case 0:return u={orderBy:{field:"creation",order:"desc"}},c&&(u=e(e({},u),c)),[4,this.getDocList(l,e(e({},u),{limit:1,fields:["name"]}))];case 1:return h=f.sent(),h.length>0?[2,this.getDoc(l,h[0].name)]:[2,{}]}})})},i.prototype.renameDoc=function(l,c,u,h){return h===void 0&&(h=!1),t(this,void 0,void 0,function(){return s(this,function(f){return[2,this.axios.post("/api/method/frappe.client.rename_doc",{doctype:l,old_name:c,new_name:u,merge:h}).then(function(g){return g.data}).catch(function(g){var p,b,y;throw e(e({},g.response.data),{httpStatus:g.response.status,httpStatusText:g.response.statusText,message:(p=g.response.data.message)!==null&&p!==void 0?p:"There was an error while renaming the document.",exception:(y=(b=g.response.data.exception)!==null&&b!==void 0?b:g.response.data.exc_type)!==null&&y!==void 0?y:""})})]})})},i.prototype.getValue=function(l,c,u,h,f,g){return h===void 0&&(h=!0),f===void 0&&(f=!1),g===void 0&&(g=null),t(this,void 0,void 0,function(){var p;return s(this,function(b){return p={doctype:l,fieldname:"[]",filters:[],as_dict:h,debug:f,parent:null},c&&(p.fieldname=typeof c=="object"?JSON.stringify(c):c),u&&(p.filters=u?JSON.stringify(u):void 0),g&&(p.parent=g),[2,this.axios.get("/api/method/frappe.client.get_value",{params:p}).then(function(y){return y.data}).catch(function(y){var j,v;throw e(e({},y.response.data),{httpStatus:y.response.status,httpStatusText:y.response.statusText,message:"There was an error while getting the value.",exception:(v=(j=y.response.data.exception)!==null&&j!==void 0?j:y.response.data.exc_type)!==null&&v!==void 0?v:""})})]})})},i.prototype.setValue=function(l,c,u,h){return t(this,void 0,void 0,function(){return s(this,function(f){return u!==null&&typeof u=="object"&&!Array.isArray(u)&&(h=void 0),[2,this.axios.post("/api/method/frappe.client.set_value",{doctype:l,name:c,fieldname:u,value:h}).then(function(g){return g.data}).catch(function(g){var p,b;throw e(e({},g.response.data),{httpStatus:g.response.status,httpStatusText:g.response.statusText,message:"There was an error while setting the value.",exception:(b=(p=g.response.data.exception)!==null&&p!==void 0?p:g.response.data.exc_type)!==null&&b!==void 0?b:""})})]})})},i.prototype.getSingleValue=function(l,c){return t(this,void 0,void 0,function(){var u;return s(this,function(h){return u={doctype:l,field:c},[2,this.axios.get("/api/method/frappe.client.get_single_value",{params:u}).then(function(f){return f.data}).catch(function(f){var g,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while getting the value of single doctype.",exception:(p=(g=f.response.data.exception)!==null&&g!==void 0?g:f.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},i.prototype.submit=function(l){return t(this,void 0,void 0,function(){return s(this,function(c){return[2,this.axios.post("/api/method/frappe.client.submit",{doc:l}).then(function(u){return u.data.message}).catch(function(u){var h,f;throw e(e({},u.response.data),{httpStatus:u.response.status,httpStatusText:u.response.statusText,message:"There was an error while submitting the document.",exception:(f=(h=u.response.data.exception)!==null&&h!==void 0?h:u.response.data.exc_type)!==null&&f!==void 0?f:""})})]})})},i.prototype.cancel=function(l,c){return t(this,void 0,void 0,function(){return s(this,function(u){return[2,this.axios.post("/api/method/frappe.client.cancel",{doctype:l,name:c}).then(function(h){return h.data}).catch(function(h){var f,g;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:"There was an error while cancelling the document.",exception:(g=(f=h.response.data.exception)!==null&&f!==void 0?f:h.response.data.exc_type)!==null&&g!==void 0?g:""})})]})})},i}();return Ma.FrappeDB=n,Ma}var Ra={},zr={};/*! Axios v1.8.2 Copyright (c) 2025 Matt Zabriskie and contributors */var Bp,Ew;function x4(){if(Ew)return Bp;Ew=1;function e(k,M){return function(){return k.apply(M,arguments)}}const{toString:t}=Object.prototype,{getPrototypeOf:s}=Object,n=(k=>M=>{const U=t.call(M);return k[U]||(k[U]=U.slice(8,-1).toLowerCase())})(Object.create(null)),i=k=>(k=k.toLowerCase(),M=>n(M)===k),l=k=>M=>typeof M===k,{isArray:c}=Array,u=l("undefined");function h(k){return k!==null&&!u(k)&&k.constructor!==null&&!u(k.constructor)&&b(k.constructor.isBuffer)&&k.constructor.isBuffer(k)}const f=i("ArrayBuffer");function g(k){let M;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?M=ArrayBuffer.isView(k):M=k&&k.buffer&&f(k.buffer),M}const p=l("string"),b=l("function"),y=l("number"),j=k=>k!==null&&typeof k=="object",v=k=>k===!0||k===!1,_=k=>{if(n(k)!=="object")return!1;const M=s(k);return(M===null||M===Object.prototype||Object.getPrototypeOf(M)===null)&&!(Symbol.toStringTag in k)&&!(Symbol.iterator in k)},T=i("Date"),O=i("File"),S=i("Blob"),C=i("FileList"),D=k=>j(k)&&b(k.pipe),E=k=>{let M;return k&&(typeof FormData=="function"&&k instanceof FormData||b(k.append)&&((M=n(k))==="formdata"||M==="object"&&b(k.toString)&&k.toString()==="[object FormData]"))},L=i("URLSearchParams"),[F,R,K,W]=["ReadableStream","Request","Response","Headers"].map(i),Q=k=>k.trim?k.trim():k.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function H(k,M,{allOwnKeys:U=!1}={}){if(k===null||typeof k>"u")return;let I,ce;if(typeof k!="object"&&(k=[k]),c(k))for(I=0,ce=k.length;I<ce;I++)M.call(null,k[I],I,k);else{const ue=U?Object.getOwnPropertyNames(k):Object.keys(k),be=ue.length;let qe;for(I=0;I<be;I++)qe=ue[I],M.call(null,k[qe],qe,k)}}function q(k,M){M=M.toLowerCase();const U=Object.keys(k);let I=U.length,ce;for(;I-- >0;)if(ce=U[I],M===ce.toLowerCase())return ce;return null}const Y=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:p4,$=k=>!u(k)&&k!==Y;function J(){const{caseless:k}=$(this)&&this||{},M={},U=(I,ce)=>{const ue=k&&q(M,ce)||ce;_(M[ue])&&_(I)?M[ue]=J(M[ue],I):_(I)?M[ue]=J({},I):c(I)?M[ue]=I.slice():M[ue]=I};for(let I=0,ce=arguments.length;I<ce;I++)arguments[I]&&H(arguments[I],U);return M}const se=(k,M,U,{allOwnKeys:I}={})=>(H(M,(ce,ue)=>{U&&b(ce)?k[ue]=e(ce,U):k[ue]=ce},{allOwnKeys:I}),k),Ne=k=>(k.charCodeAt(0)===65279&&(k=k.slice(1)),k),P=(k,M,U,I)=>{k.prototype=Object.create(M.prototype,I),k.prototype.constructor=k,Object.defineProperty(k,"super",{value:M.prototype}),U&&Object.assign(k.prototype,U)},ne=(k,M,U,I)=>{let ce,ue,be;const qe={};if(M=M||{},k==null)return M;do{for(ce=Object.getOwnPropertyNames(k),ue=ce.length;ue-- >0;)be=ce[ue],(!I||I(be,k,M))&&!qe[be]&&(M[be]=k[be],qe[be]=!0);k=U!==!1&&s(k)}while(k&&(!U||U(k,M))&&k!==Object.prototype);return M},ge=(k,M,U)=>{k=String(k),(U===void 0||U>k.length)&&(U=k.length),U-=M.length;const I=k.indexOf(M,U);return I!==-1&&I===U},G=k=>{if(!k)return null;if(c(k))return k;let M=k.length;if(!y(M))return null;const U=new Array(M);for(;M-- >0;)U[M]=k[M];return U},re=(k=>M=>k&&M instanceof k)(typeof Uint8Array<"u"&&s(Uint8Array)),_e=(k,M)=>{const U=(k&&k[Symbol.iterator]).call(k);let I;for(;(I=U.next())&&!I.done;){const ce=I.value;M.call(k,ce[0],ce[1])}},me=(k,M)=>{let U;const I=[];for(;(U=k.exec(M))!==null;)I.push(U);return I},Le=i("HTMLFormElement"),we=k=>k.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(M,U,I){return U.toUpperCase()+I}),Ee=(({hasOwnProperty:k})=>(M,U)=>k.call(M,U))(Object.prototype),X=i("RegExp"),Oe=(k,M)=>{const U=Object.getOwnPropertyDescriptors(k),I={};H(U,(ce,ue)=>{let be;(be=M(ce,ue,k))!==!1&&(I[ue]=be||ce)}),Object.defineProperties(k,I)},He=k=>{Oe(k,(M,U)=>{if(b(k)&&["arguments","caller","callee"].indexOf(U)!==-1)return!1;const I=k[U];if(b(I)){if(M.enumerable=!1,"writable"in M){M.writable=!1;return}M.set||(M.set=()=>{throw Error("Can not rewrite read-only method '"+U+"'")})}})},Ye=(k,M)=>{const U={},I=ce=>{ce.forEach(ue=>{U[ue]=!0})};return c(k)?I(k):I(String(k).split(M)),U},tt=()=>{},gt=(k,M)=>k!=null&&Number.isFinite(k=+k)?k:M;function Dt(k){return!!(k&&b(k.append)&&k[Symbol.toStringTag]==="FormData"&&k[Symbol.iterator])}const De=k=>{const M=new Array(10),U=(I,ce)=>{if(j(I)){if(M.indexOf(I)>=0)return;if(!("toJSON"in I)){M[ce]=I;const ue=c(I)?[]:{};return H(I,(be,qe)=>{const ft=U(be,ce+1);!u(ft)&&(ue[qe]=ft)}),M[ce]=void 0,ue}}return I};return U(k,0)},Ue=i("AsyncFunction"),Pe=k=>k&&(j(k)||b(k))&&b(k.then)&&b(k.catch),Z=((k,M)=>k?setImmediate:M?((U,I)=>(Y.addEventListener("message",({source:ce,data:ue})=>{ce===Y&&ue===U&&I.length&&I.shift()()},!1),ce=>{I.push(ce),Y.postMessage(U,"*")}))(`axios@${Math.random()}`,[]):U=>setTimeout(U))(typeof setImmediate=="function",b(Y.postMessage)),le=typeof queueMicrotask<"u"?queueMicrotask.bind(Y):typeof process<"u"&&process.nextTick||Z;var V={isArray:c,isArrayBuffer:f,isBuffer:h,isFormData:E,isArrayBufferView:g,isString:p,isNumber:y,isBoolean:v,isObject:j,isPlainObject:_,isReadableStream:F,isRequest:R,isResponse:K,isHeaders:W,isUndefined:u,isDate:T,isFile:O,isBlob:S,isRegExp:X,isFunction:b,isStream:D,isURLSearchParams:L,isTypedArray:re,isFileList:C,forEach:H,merge:J,extend:se,trim:Q,stripBOM:Ne,inherits:P,toFlatObject:ne,kindOf:n,kindOfTest:i,endsWith:ge,toArray:G,forEachEntry:_e,matchAll:me,isHTMLForm:Le,hasOwnProperty:Ee,hasOwnProp:Ee,reduceDescriptors:Oe,freezeMethods:He,toObjectSet:Ye,toCamelCase:we,noop:tt,toFiniteNumber:gt,findKey:q,global:Y,isContextDefined:$,isSpecCompliantForm:Dt,toJSONObject:De,isAsyncFn:Ue,isThenable:Pe,setImmediate:Z,asap:le};function Te(k,M,U,I,ce){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=k,this.name="AxiosError",M&&(this.code=M),U&&(this.config=U),I&&(this.request=I),ce&&(this.response=ce,this.status=ce.status?ce.status:null)}V.inherits(Te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.status}}});const Be=Te.prototype,Re={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(k=>{Re[k]={value:k}}),Object.defineProperties(Te,Re),Object.defineProperty(Be,"isAxiosError",{value:!0}),Te.from=(k,M,U,I,ce,ue)=>{const be=Object.create(Be);return V.toFlatObject(k,be,function(qe){return qe!==Error.prototype},qe=>qe!=="isAxiosError"),Te.call(be,k.message,M,U,I,ce),be.cause=k,be.name=k.name,ue&&Object.assign(be,ue),be};var Ve=null;function Ge(k){return V.isPlainObject(k)||V.isArray(k)}function st(k){return V.endsWith(k,"[]")?k.slice(0,-2):k}function Nt(k,M,U){return k?k.concat(M).map(function(I,ce){return I=st(I),!U&&ce?"["+I+"]":I}).join(U?".":""):M}function ke(k){return V.isArray(k)&&!k.some(Ge)}const ze=V.toFlatObject(V,{},null,function(k){return/^is[A-Z]/.test(k)});function Ze(k,M,U){if(!V.isObject(k))throw new TypeError("target must be an object");M=M||new FormData,U=V.toFlatObject(U,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Et,xt){return!V.isUndefined(xt[Et])});const I=U.metaTokens,ce=U.visitor||We,ue=U.dots,be=U.indexes,qe=(U.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(M);if(!V.isFunction(ce))throw new TypeError("visitor must be a function");function ft(Et){if(Et===null)return"";if(V.isDate(Et))return Et.toISOString();if(!qe&&V.isBlob(Et))throw new Te("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(Et)||V.isTypedArray(Et)?qe&&typeof Blob=="function"?new Blob([Et]):Buffer.from(Et):Et}function We(Et,xt,lt){let en=Et;if(Et&&!lt&&typeof Et=="object"){if(V.endsWith(xt,"{}"))xt=I?xt:xt.slice(0,-2),Et=JSON.stringify(Et);else if(V.isArray(Et)&&ke(Et)||(V.isFileList(Et)||V.endsWith(xt,"[]"))&&(en=V.toArray(Et)))return xt=st(xt),en.forEach(function(Fs,ws){!(V.isUndefined(Fs)||Fs===null)&&M.append(be===!0?Nt([xt],ws,ue):be===null?xt:xt+"[]",ft(Fs))}),!1}return Ge(Et)?!0:(M.append(Nt(lt,xt,ue),ft(Et)),!1)}const et=[],wt=Object.assign(ze,{defaultVisitor:We,convertValue:ft,isVisitable:Ge});function rs(Et,xt){if(!V.isUndefined(Et)){if(et.indexOf(Et)!==-1)throw Error("Circular reference detected in "+xt.join("."));et.push(Et),V.forEach(Et,function(lt,en){(!(V.isUndefined(lt)||lt===null)&&ce.call(M,lt,V.isString(en)?en.trim():en,xt,wt))===!0&&rs(lt,xt?xt.concat(en):[en])}),et.pop()}}if(!V.isObject(k))throw new TypeError("data must be an object");return rs(k),M}function Xe(k){const M={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(k).replace(/[!'()~]|%20|%00/g,function(U){return M[U]})}function Bt(k,M){this._pairs=[],k&&Ze(k,this,M)}const It=Bt.prototype;It.append=function(k,M){this._pairs.push([k,M])},It.toString=function(k){const M=k?function(U){return k.call(this,U,Xe)}:Xe;return this._pairs.map(function(U){return M(U[0])+"="+M(U[1])},"").join("&")};function ds(k){return encodeURIComponent(k).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Qs(k,M,U){if(!M)return k;const I=U&&U.encode||ds;V.isFunction(U)&&(U={serialize:U});const ce=U&&U.serialize;let ue;if(ce?ue=ce(M,U):ue=V.isURLSearchParams(M)?M.toString():new Bt(M,U).toString(I),ue){const be=k.indexOf("#");be!==-1&&(k=k.slice(0,be)),k+=(k.indexOf("?")===-1?"?":"&")+ue}return k}class xn{constructor(){this.handlers=[]}use(M,U,I){return this.handlers.push({fulfilled:M,rejected:U,synchronous:I?I.synchronous:!1,runWhen:I?I.runWhen:null}),this.handlers.length-1}eject(M){this.handlers[M]&&(this.handlers[M]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(M){V.forEach(this.handlers,function(U){U!==null&&M(U)})}}var Zs=xn,vr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Wa=typeof URLSearchParams<"u"?URLSearchParams:Bt,ra=typeof FormData<"u"?FormData:null,wr=typeof Blob<"u"?Blob:null,bt={isBrowser:!0,classes:{URLSearchParams:Wa,FormData:ra,Blob:wr},protocols:["http","https","file","blob","url","data"]};const Qt=typeof window<"u"&&typeof document<"u",fs=typeof navigator=="object"&&navigator||void 0,Os=Qt&&(!fs||["ReactNative","NativeScript","NS"].indexOf(fs.product)<0),te=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ie=Qt&&window.location.href||"http://localhost";var pe=Object.freeze({__proto__:null,hasBrowserEnv:Qt,hasStandardBrowserWebWorkerEnv:te,hasStandardBrowserEnv:Os,navigator:fs,origin:ie}),Se=z(z({},pe),bt);function Fe(k,M){return Ze(k,new Se.classes.URLSearchParams,Object.assign({visitor:function(U,I,ce,ue){return Se.isNode&&V.isBuffer(U)?(this.append(I,U.toString("base64")),!1):ue.defaultVisitor.apply(this,arguments)}},M))}function Ke(k){return V.matchAll(/\w+|\[(\w*)]/g,k).map(M=>M[0]==="[]"?"":M[1]||M[0])}function nt(k){const M={},U=Object.keys(k);let I;const ce=U.length;let ue;for(I=0;I<ce;I++)ue=U[I],M[ue]=k[ue];return M}function ot(k){function M(U,I,ce,ue){let be=U[ue++];if(be==="__proto__")return!0;const qe=Number.isFinite(+be),ft=ue>=U.length;return be=!be&&V.isArray(ce)?ce.length:be,ft?(V.hasOwnProp(ce,be)?ce[be]=[ce[be],I]:ce[be]=I,!qe):((!ce[be]||!V.isObject(ce[be]))&&(ce[be]=[]),M(U,I,ce[be],ue)&&V.isArray(ce[be])&&(ce[be]=nt(ce[be])),!qe)}if(V.isFormData(k)&&V.isFunction(k.entries)){const U={};return V.forEachEntry(k,(I,ce)=>{M(Ke(I),ce,U,0)}),U}return null}function pt(k,M,U){if(V.isString(k))try{return(M||JSON.parse)(k),V.trim(k)}catch(I){if(I.name!=="SyntaxError")throw I}return(U||JSON.stringify)(k)}const Ot={transitional:vr,adapter:["xhr","http","fetch"],transformRequest:[function(k,M){const U=M.getContentType()||"",I=U.indexOf("application/json")>-1,ce=V.isObject(k);if(ce&&V.isHTMLForm(k)&&(k=new FormData(k)),V.isFormData(k))return I?JSON.stringify(ot(k)):k;if(V.isArrayBuffer(k)||V.isBuffer(k)||V.isStream(k)||V.isFile(k)||V.isBlob(k)||V.isReadableStream(k))return k;if(V.isArrayBufferView(k))return k.buffer;if(V.isURLSearchParams(k))return M.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),k.toString();let ue;if(ce){if(U.indexOf("application/x-www-form-urlencoded")>-1)return Fe(k,this.formSerializer).toString();if((ue=V.isFileList(k))||U.indexOf("multipart/form-data")>-1){const be=this.env&&this.env.FormData;return Ze(ue?{"files[]":k}:k,be&&new be,this.formSerializer)}}return ce||I?(M.setContentType("application/json",!1),pt(k)):k}],transformResponse:[function(k){const M=this.transitional||Ot.transitional,U=M&&M.forcedJSONParsing,I=this.responseType==="json";if(V.isResponse(k)||V.isReadableStream(k))return k;if(k&&V.isString(k)&&(U&&!this.responseType||I)){const ce=!(M&&M.silentJSONParsing)&&I;try{return JSON.parse(k)}catch(ue){if(ce)throw ue.name==="SyntaxError"?Te.from(ue,Te.ERR_BAD_RESPONSE,this,null,this.response):ue}}return k}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Se.classes.FormData,Blob:Se.classes.Blob},validateStatus:function(k){return k>=200&&k<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],k=>{Ot.headers[k]={}});var dt=Ot;const Tt=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var At=k=>{const M={};let U,I,ce;return k&&k.split(`
`).forEach(function(ue){ce=ue.indexOf(":"),U=ue.substring(0,ce).trim().toLowerCase(),I=ue.substring(ce+1).trim(),!(!U||M[U]&&Tt[U])&&(U==="set-cookie"?M[U]?M[U].push(I):M[U]=[I]:M[U]=M[U]?M[U]+", "+I:I)}),M};const us=Symbol("internals");function _s(k){return k&&String(k).trim().toLowerCase()}function as(k){return k===!1||k==null?k:V.isArray(k)?k.map(as):String(k)}function ut(k){const M=Object.create(null),U=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let I;for(;I=U.exec(k);)M[I[1]]=I[2];return M}const Ct=k=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(k.trim());function Wt(k,M,U,I,ce){if(V.isFunction(I))return I.call(this,M,U);if(ce&&(M=U),!!V.isString(M)){if(V.isString(I))return M.indexOf(I)!==-1;if(V.isRegExp(I))return I.test(M)}}function bs(k){return k.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(M,U,I)=>U.toUpperCase()+I)}function Ts(k,M){const U=V.toCamelCase(" "+M);["get","set","has"].forEach(I=>{Object.defineProperty(k,I+U,{value:function(ce,ue,be){return this[I].call(this,M,ce,ue,be)},configurable:!0})})}class Ws{constructor(M){M&&this.set(M)}set(M,U,I){const ce=this;function ue(qe,ft,We){const et=_s(ft);if(!et)throw new Error("header name must be a non-empty string");const wt=V.findKey(ce,et);(!wt||ce[wt]===void 0||We===!0||We===void 0&&ce[wt]!==!1)&&(ce[wt||ft]=as(qe))}const be=(qe,ft)=>V.forEach(qe,(We,et)=>ue(We,et,ft));if(V.isPlainObject(M)||M instanceof this.constructor)be(M,U);else if(V.isString(M)&&(M=M.trim())&&!Ct(M))be(At(M),U);else if(V.isHeaders(M))for(const[qe,ft]of M.entries())ue(ft,qe,I);else M!=null&&ue(U,M,I);return this}get(M,U){if(M=_s(M),M){const I=V.findKey(this,M);if(I){const ce=this[I];if(!U)return ce;if(U===!0)return ut(ce);if(V.isFunction(U))return U.call(this,ce,I);if(V.isRegExp(U))return U.exec(ce);throw new TypeError("parser must be boolean|regexp|function")}}}has(M,U){if(M=_s(M),M){const I=V.findKey(this,M);return!!(I&&this[I]!==void 0&&(!U||Wt(this,this[I],I,U)))}return!1}delete(M,U){const I=this;let ce=!1;function ue(be){if(be=_s(be),be){const qe=V.findKey(I,be);qe&&(!U||Wt(I,I[qe],qe,U))&&(delete I[qe],ce=!0)}}return V.isArray(M)?M.forEach(ue):ue(M),ce}clear(M){const U=Object.keys(this);let I=U.length,ce=!1;for(;I--;){const ue=U[I];(!M||Wt(this,this[ue],ue,M,!0))&&(delete this[ue],ce=!0)}return ce}normalize(M){const U=this,I={};return V.forEach(this,(ce,ue)=>{const be=V.findKey(I,ue);if(be){U[be]=as(ce),delete U[ue];return}const qe=M?bs(ue):String(ue).trim();qe!==ue&&delete U[ue],U[qe]=as(ce),I[qe]=!0}),this}concat(...M){return this.constructor.concat(this,...M)}toJSON(M){const U=Object.create(null);return V.forEach(this,(I,ce)=>{I!=null&&I!==!1&&(U[ce]=M&&V.isArray(I)?I.join(", "):I)}),U}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([M,U])=>M+": "+U).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(M){return M instanceof this?M:new this(M)}static concat(M,...U){const I=new this(M);return U.forEach(ce=>I.set(ce)),I}static accessor(M){const U=(this[us]=this[us]={accessors:{}}).accessors,I=this.prototype;function ce(ue){const be=_s(ue);U[be]||(Ts(I,ue),U[be]=!0)}return V.isArray(M)?M.forEach(ce):ce(M),this}}Ws.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),V.reduceDescriptors(Ws.prototype,({value:k},M)=>{let U=M[0].toUpperCase()+M.slice(1);return{get:()=>k,set(I){this[U]=I}}}),V.freezeMethods(Ws);var Js=Ws;function ia(k,M){const U=this||dt,I=M||U,ce=Js.from(I.headers);let ue=I.data;return V.forEach(k,function(be){ue=be.call(U,ue,ce.normalize(),M?M.status:void 0)}),ce.normalize(),ue}function oa(k){return!!(k&&k.__CANCEL__)}function yn(k,M,U){Te.call(this,k!=null?k:"canceled",Te.ERR_CANCELED,M,U),this.name="CanceledError"}V.inherits(yn,Te,{__CANCEL__:!0});function la(k,M,U){const I=U.config.validateStatus;!U.status||!I||I(U.status)?k(U):M(new Te("Request failed with status code "+U.status,[Te.ERR_BAD_REQUEST,Te.ERR_BAD_RESPONSE][Math.floor(U.status/100)-4],U.config,U.request,U))}function Rt(k){const M=/^([-+\w]{1,25})(:?\/\/|:)/.exec(k);return M&&M[1]||""}function Ss(k,M){k=k||10;const U=new Array(k),I=new Array(k);let ce=0,ue=0,be;return M=M!==void 0?M:1e3,function(qe){const ft=Date.now(),We=I[ue];be||(be=ft),U[ce]=qe,I[ce]=ft;let et=ue,wt=0;for(;et!==ce;)wt+=U[et++],et=et%k;if(ce=(ce+1)%k,ce===ue&&(ue=(ue+1)%k),ft-be<M)return;const rs=We&&ft-We;return rs?Math.round(wt*1e3/rs):void 0}}function jr(k,M){let U=0,I=1e3/M,ce,ue;const be=(qe,ft=Date.now())=>{U=ft,ce=null,ue&&(clearTimeout(ue),ue=null),k.apply(null,qe)};return[(...qe)=>{const ft=Date.now(),We=ft-U;We>=I?be(qe,ft):(ce=qe,ue||(ue=setTimeout(()=>{ue=null,be(ce)},I-We)))},()=>ce&&be(ce)]}const on=(k,M,U=3)=>{let I=0;const ce=Ss(50,250);return jr(ue=>{const be=ue.loaded,qe=ue.lengthComputable?ue.total:void 0,ft=be-I,We=ce(ft),et=be<=qe;I=be;const wt={loaded:be,total:qe,progress:qe?be/qe:void 0,bytes:ft,rate:We||void 0,estimated:We&&qe&&et?(qe-be)/We:void 0,event:ue,lengthComputable:qe!=null,[M?"download":"upload"]:!0};k(wt)},U)},ms=(k,M)=>{const U=k!=null;return[I=>M[0]({lengthComputable:U,total:k,loaded:I}),M[1]]},ka=k=>(...M)=>V.asap(()=>k(...M));var Qo=Se.hasStandardBrowserEnv?((k,M)=>U=>(U=new URL(U,Se.origin),k.protocol===U.protocol&&k.host===U.host&&(M||k.port===U.port)))(new URL(Se.origin),Se.navigator&&/(msie|trident)/i.test(Se.navigator.userAgent)):()=>!0,Zo=Se.hasStandardBrowserEnv?{write(k,M,U,I,ce,ue){const be=[k+"="+encodeURIComponent(M)];V.isNumber(U)&&be.push("expires="+new Date(U).toGMTString()),V.isString(I)&&be.push("path="+I),V.isString(ce)&&be.push("domain="+ce),ue===!0&&be.push("secure"),document.cookie=be.join("; ")},read(k){const M=document.cookie.match(new RegExp("(^|;\\s*)("+k+")=([^;]*)"));return M?decodeURIComponent(M[3]):null},remove(k){this.write(k,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function On(k){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(k)}function Tu(k,M){return M?k.replace(/\/?\/$/,"")+"/"+M.replace(/^\/+/,""):k}function Su(k,M,U){let I=!On(M);return k&&I||U==!1?Tu(k,M):M}const to=k=>k instanceof Js?z({},k):k;function Ya(k,M){M=M||{};const U={};function I(We,et,wt,rs){return V.isPlainObject(We)&&V.isPlainObject(et)?V.merge.call({caseless:rs},We,et):V.isPlainObject(et)?V.merge({},et):V.isArray(et)?et.slice():et}function ce(We,et,wt,rs){if(V.isUndefined(et)){if(!V.isUndefined(We))return I(void 0,We,wt,rs)}else return I(We,et,wt,rs)}function ue(We,et){if(!V.isUndefined(et))return I(void 0,et)}function be(We,et){if(V.isUndefined(et)){if(!V.isUndefined(We))return I(void 0,We)}else return I(void 0,et)}function qe(We,et,wt){if(wt in M)return I(We,et);if(wt in k)return I(void 0,We)}const ft={url:ue,method:ue,data:ue,baseURL:be,transformRequest:be,transformResponse:be,paramsSerializer:be,timeout:be,timeoutMessage:be,withCredentials:be,withXSRFToken:be,adapter:be,responseType:be,xsrfCookieName:be,xsrfHeaderName:be,onUploadProgress:be,onDownloadProgress:be,decompress:be,maxContentLength:be,maxBodyLength:be,beforeRedirect:be,transport:be,httpAgent:be,httpsAgent:be,cancelToken:be,socketPath:be,responseEncoding:be,validateStatus:qe,headers:(We,et,wt)=>ce(to(We),to(et),wt,!0)};return V.forEach(Object.keys(Object.assign({},k,M)),function(We){const et=ft[We]||ce,wt=et(k[We],M[We],We);V.isUndefined(wt)&&et!==qe||(U[We]=wt)}),U}var so=k=>{const M=Ya({},k);let{data:U,withXSRFToken:I,xsrfHeaderName:ce,xsrfCookieName:ue,headers:be,auth:qe}=M;M.headers=be=Js.from(be),M.url=Qs(Su(M.baseURL,M.url),k.params,k.paramsSerializer),qe&&be.set("Authorization","Basic "+btoa((qe.username||"")+":"+(qe.password?unescape(encodeURIComponent(qe.password)):"")));let ft;if(V.isFormData(U)){if(Se.hasStandardBrowserEnv||Se.hasStandardBrowserWebWorkerEnv)be.setContentType(void 0);else if((ft=be.getContentType())!==!1){const[We,...et]=ft?ft.split(";").map(wt=>wt.trim()).filter(Boolean):[];be.setContentType([We||"multipart/form-data",...et].join("; "))}}if(Se.hasStandardBrowserEnv&&(I&&V.isFunction(I)&&(I=I(M)),I||I!==!1&&Qo(M.url))){const We=ce&&ue&&Zo.read(ue);We&&be.set(ce,We)}return M},Pm=typeof XMLHttpRequest<"u"&&function(k){return new Promise(function(M,U){const I=so(k);let ce=I.data;const ue=Js.from(I.headers).normalize();let{responseType:be,onUploadProgress:qe,onDownloadProgress:ft}=I,We,et,wt,rs,Et;function xt(){rs&&rs(),Et&&Et(),I.cancelToken&&I.cancelToken.unsubscribe(We),I.signal&&I.signal.removeEventListener("abort",We)}let lt=new XMLHttpRequest;lt.open(I.method.toUpperCase(),I.url,!0),lt.timeout=I.timeout;function en(){if(!lt)return;const ws=Js.from("getAllResponseHeaders"in lt&&lt.getAllResponseHeaders()),ca={data:!be||be==="text"||be==="json"?lt.responseText:lt.response,status:lt.status,statusText:lt.statusText,headers:ws,config:k,request:lt};la(function(co){M(co),xt()},function(co){U(co),xt()},ca),lt=null}"onloadend"in lt?lt.onloadend=en:lt.onreadystatechange=function(){!lt||lt.readyState!==4||lt.status===0&&!(lt.responseURL&&lt.responseURL.indexOf("file:")===0)||setTimeout(en)},lt.onabort=function(){lt&&(U(new Te("Request aborted",Te.ECONNABORTED,k,lt)),lt=null)},lt.onerror=function(){U(new Te("Network Error",Te.ERR_NETWORK,k,lt)),lt=null},lt.ontimeout=function(){let ws=I.timeout?"timeout of "+I.timeout+"ms exceeded":"timeout exceeded";const ca=I.transitional||vr;I.timeoutErrorMessage&&(ws=I.timeoutErrorMessage),U(new Te(ws,ca.clarifyTimeoutError?Te.ETIMEDOUT:Te.ECONNABORTED,k,lt)),lt=null},ce===void 0&&ue.setContentType(null),"setRequestHeader"in lt&&V.forEach(ue.toJSON(),function(ws,ca){lt.setRequestHeader(ca,ws)}),V.isUndefined(I.withCredentials)||(lt.withCredentials=!!I.withCredentials),be&&be!=="json"&&(lt.responseType=I.responseType),ft&&([wt,Et]=on(ft,!0),lt.addEventListener("progress",wt)),qe&&lt.upload&&([et,rs]=on(qe),lt.upload.addEventListener("progress",et),lt.upload.addEventListener("loadend",rs)),(I.cancelToken||I.signal)&&(We=ws=>{lt&&(U(!ws||ws.type?new yn(null,k,lt):ws),lt.abort(),lt=null)},I.cancelToken&&I.cancelToken.subscribe(We),I.signal&&(I.signal.aborted?We():I.signal.addEventListener("abort",We)));const Fs=Rt(I.url);if(Fs&&Se.protocols.indexOf(Fs)===-1){U(new Te("Unsupported protocol "+Fs+":",Te.ERR_BAD_REQUEST,k));return}lt.send(ce||null)})},Mn=(k,M)=>{const{length:U}=k=k?k.filter(Boolean):[];if(M||U){let I=new AbortController,ce;const ue=function(We){if(!ce){ce=!0,qe();const et=We instanceof Error?We:this.reason;I.abort(et instanceof Te?et:new yn(et instanceof Error?et.message:et))}};let be=M&&setTimeout(()=>{be=null,ue(new Te(`timeout ${M} of ms exceeded`,Te.ETIMEDOUT))},M);const qe=()=>{k&&(be&&clearTimeout(be),be=null,k.forEach(We=>{We.unsubscribe?We.unsubscribe(ue):We.removeEventListener("abort",ue)}),k=null)};k.forEach(We=>We.addEventListener("abort",ue));const{signal:ft}=I;return ft.unsubscribe=()=>V.asap(qe),ft}};const Tc=function*(k,M){let U=k.byteLength;if(U<M){yield k;return}let I=0,ce;for(;I<U;)ce=I+M,yield k.slice(I,ce),I=ce},ku=function(k,M){return Ep(this,null,function*(){try{for(var U=pw(Sc(k)),I,ce,ue;I=!(ce=yield new So(U.next())).done;I=!1){const be=ce.value;yield*Dp(Tc(be,M))}}catch(ce){ue=[ce]}finally{try{I&&(ce=U.return)&&(yield new So(ce.call(U)))}finally{if(ue)throw ue[0]}}})},Sc=function(k){return Ep(this,null,function*(){if(k[Symbol.asyncIterator]){yield*Dp(k);return}const M=k.getReader();try{for(;;){const{done:U,value:I}=yield new So(M.read());if(U)break;yield I}}finally{yield new So(M.cancel())}})},Nr=(k,M,U,I)=>{const ce=ku(k,M);let ue=0,be,qe=We=>{be||(be=!0,I&&I(We))};return new ReadableStream({pull(We){return fe(this,null,function*(){try{const{done:et,value:wt}=yield ce.next();if(et){qe(),We.close();return}let rs=wt.byteLength;if(U){let Et=ue+=rs;U(Et)}We.enqueue(new Uint8Array(wt))}catch(et){throw qe(et),et}})},cancel(We){return qe(We),ce.return()}},{highWaterMark:2})},no=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",kc=no&&typeof ReadableStream=="function",Jr=no&&(typeof TextEncoder=="function"?(k=>M=>k.encode(M))(new TextEncoder):k=>fe(null,null,function*(){return new Uint8Array(yield new Response(k).arrayBuffer())})),Cu=(k,...M)=>{try{return!!k(...M)}catch(U){return!1}},Eu=kc&&Cu(()=>{let k=!1;const M=new Request(Se.origin,{body:new ReadableStream,method:"POST",get duplex(){return k=!0,"half"}}).headers.has("Content-Type");return k&&!M}),Cc=64*1024,ao=kc&&Cu(()=>V.isReadableStream(new Response("").body)),Jo={stream:ao&&(k=>k.body)};no&&(k=>{["text","arrayBuffer","blob","formData","stream"].forEach(M=>{!Jo[M]&&(Jo[M]=V.isFunction(k[M])?U=>U[M]():(U,I)=>{throw new Te(`Response type '${M}' is not supported`,Te.ERR_NOT_SUPPORT,I)})})})(new Response);const Lm=k=>fe(null,null,function*(){if(k==null)return 0;if(V.isBlob(k))return k.size;if(V.isSpecCompliantForm(k))return(yield new Request(Se.origin,{method:"POST",body:k}).arrayBuffer()).byteLength;if(V.isArrayBufferView(k)||V.isArrayBuffer(k))return k.byteLength;if(V.isURLSearchParams(k)&&(k=k+""),V.isString(k))return(yield Jr(k)).byteLength}),el=(k,M)=>fe(null,null,function*(){const U=V.toFiniteNumber(k.getContentLength());return U!=null?U:Lm(M)});var Ec=no&&(k=>fe(null,null,function*(){let{url:M,method:U,data:I,signal:ce,cancelToken:ue,timeout:be,onDownloadProgress:qe,onUploadProgress:ft,responseType:We,headers:et,withCredentials:wt="same-origin",fetchOptions:rs}=so(k);We=We?(We+"").toLowerCase():"text";let Et=Mn([ce,ue&&ue.toAbortSignal()],be),xt;const lt=Et&&Et.unsubscribe&&(()=>{Et.unsubscribe()});let en;try{if(ft&&Eu&&U!=="get"&&U!=="head"&&(en=yield el(et,I))!==0){let Ga=new Request(M,{method:"POST",body:I,duplex:"half"}),ai;if(V.isFormData(I)&&(ai=Ga.headers.get("content-type"))&&et.setContentType(ai),Ga.body){const[al,rl]=ms(en,on(ka(ft)));I=Nr(Ga.body,Cc,al,rl)}}V.isString(wt)||(wt=wt?"include":"omit");const Fs="credentials"in Request.prototype;xt=new Request(M,oe(z({},rs),{signal:Et,method:U.toUpperCase(),headers:et.normalize().toJSON(),body:I,duplex:"half",credentials:Fs?wt:void 0}));let ws=yield fetch(xt);const ca=ao&&(We==="stream"||We==="response");if(ao&&(qe||ca&&lt)){const Ga={};["status","statusText","headers"].forEach(Au=>{Ga[Au]=ws[Au]});const ai=V.toFiniteNumber(ws.headers.get("content-length")),[al,rl]=qe&&ms(ai,on(ka(qe),!0))||[];ws=new Response(Nr(ws.body,Cc,al,()=>{rl&&rl(),lt&&lt()}),Ga)}We=We||"text";let co=yield Jo[V.findKey(Jo,We)||"text"](ws,k);return!ca&&lt&&lt(),yield new Promise((Ga,ai)=>{la(Ga,ai,{data:co,headers:Js.from(ws.headers),status:ws.status,statusText:ws.statusText,config:k,request:xt})})}catch(Fs){throw lt&&lt(),Fs&&Fs.name==="TypeError"&&/fetch/i.test(Fs.message)?Object.assign(new Te("Network Error",Te.ERR_NETWORK,k,xt),{cause:Fs.cause||Fs}):Te.from(Fs,Fs&&Fs.code,k,xt)}}));const ro={http:Ve,xhr:Pm,fetch:Ec};V.forEach(ro,(k,M)=>{if(k){try{Object.defineProperty(k,"name",{value:M})}catch(U){}Object.defineProperty(k,"adapterName",{value:M})}});const _r=k=>`- ${k}`,ei=k=>V.isFunction(k)||k===null||k===!1;var Dc={getAdapter:k=>{k=V.isArray(k)?k:[k];const{length:M}=k;let U,I;const ce={};for(let ue=0;ue<M;ue++){U=k[ue];let be;if(I=U,!ei(U)&&(I=ro[(be=String(U)).toLowerCase()],I===void 0))throw new Te(`Unknown adapter '${be}'`);if(I)break;ce[be||"#"+ue]=I}if(!I){const ue=Object.entries(ce).map(([qe,ft])=>`adapter ${qe} `+(ft===!1?"is not supported by the environment":"is not available in the build"));let be=M?ue.length>1?`since :
`+ue.map(_r).join(`
`):" "+_r(ue[0]):"as no adapter specified";throw new Te("There is no suitable adapter to dispatch the request "+be,"ERR_NOT_SUPPORT")}return I},adapters:ro};function io(k){if(k.cancelToken&&k.cancelToken.throwIfRequested(),k.signal&&k.signal.aborted)throw new yn(null,k)}function Ac(k){return io(k),k.headers=Js.from(k.headers),k.data=ia.call(k,k.transformRequest),["post","put","patch"].indexOf(k.method)!==-1&&k.headers.setContentType("application/x-www-form-urlencoded",!1),Dc.getAdapter(k.adapter||dt.adapter)(k).then(function(M){return io(k),M.data=ia.call(k,k.transformResponse,M),M.headers=Js.from(M.headers),M},function(M){return oa(M)||(io(k),M&&M.response&&(M.response.data=ia.call(k,k.transformResponse,M.response),M.response.headers=Js.from(M.response.headers))),Promise.reject(M)})}const ti="1.8.2",Rn={};["object","boolean","number","function","string","symbol"].forEach((k,M)=>{Rn[k]=function(U){return typeof U===k||"a"+(M<1?"n ":" ")+k}});const tl={};Rn.transitional=function(k,M,U){function I(ce,ue){return"[Axios v"+ti+"] Transitional option '"+ce+"'"+ue+(U?". "+U:"")}return(ce,ue,be)=>{if(k===!1)throw new Te(I(ue," has been removed"+(M?" in "+M:"")),Te.ERR_DEPRECATED);return M&&!tl[ue]&&(tl[ue]=!0,console.warn(I(ue," has been deprecated since v"+M+" and will be removed in the near future"))),k?k(ce,ue,be):!0}},Rn.spelling=function(k){return(M,U)=>(console.warn(`${U} is likely a misspelling of ${k}`),!0)};function oo(k,M,U){if(typeof k!="object")throw new Te("options must be an object",Te.ERR_BAD_OPTION_VALUE);const I=Object.keys(k);let ce=I.length;for(;ce-- >0;){const ue=I[ce],be=M[ue];if(be){const qe=k[ue],ft=qe===void 0||be(qe,ue,k);if(ft!==!0)throw new Te("option "+ue+" must be "+ft,Te.ERR_BAD_OPTION_VALUE);continue}if(U!==!0)throw new Te("Unknown option "+ue,Te.ERR_BAD_OPTION)}}var qn={assertOptions:oo,validators:Rn};const Pn=qn.validators;class Tr{constructor(M){this.defaults=M,this.interceptors={request:new Zs,response:new Zs}}request(M,U){return fe(this,null,function*(){try{return yield this._request(M,U)}catch(I){if(I instanceof Error){let ce={};Error.captureStackTrace?Error.captureStackTrace(ce):ce=new Error;const ue=ce.stack?ce.stack.replace(/^.+\n/,""):"";try{I.stack?ue&&!String(I.stack).endsWith(ue.replace(/^.+\n.+\n/,""))&&(I.stack+=`
`+ue):I.stack=ue}catch(be){}}throw I}})}_request(M,U){typeof M=="string"?(U=U||{},U.url=M):U=M||{},U=Ya(this.defaults,U);const{transitional:I,paramsSerializer:ce,headers:ue}=U;I!==void 0&&qn.assertOptions(I,{silentJSONParsing:Pn.transitional(Pn.boolean),forcedJSONParsing:Pn.transitional(Pn.boolean),clarifyTimeoutError:Pn.transitional(Pn.boolean)},!1),ce!=null&&(V.isFunction(ce)?U.paramsSerializer={serialize:ce}:qn.assertOptions(ce,{encode:Pn.function,serialize:Pn.function},!0)),U.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?U.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:U.allowAbsoluteUrls=!0),qn.assertOptions(U,{baseUrl:Pn.spelling("baseURL"),withXsrfToken:Pn.spelling("withXSRFToken")},!0),U.method=(U.method||this.defaults.method||"get").toLowerCase();let be=ue&&V.merge(ue.common,ue[U.method]);ue&&V.forEach(["delete","get","head","post","put","patch","common"],xt=>{delete ue[xt]}),U.headers=Js.concat(be,ue);const qe=[];let ft=!0;this.interceptors.request.forEach(function(xt){typeof xt.runWhen=="function"&&xt.runWhen(U)===!1||(ft=ft&&xt.synchronous,qe.unshift(xt.fulfilled,xt.rejected))});const We=[];this.interceptors.response.forEach(function(xt){We.push(xt.fulfilled,xt.rejected)});let et,wt=0,rs;if(!ft){const xt=[Ac.bind(this),void 0];for(xt.unshift.apply(xt,qe),xt.push.apply(xt,We),rs=xt.length,et=Promise.resolve(U);wt<rs;)et=et.then(xt[wt++],xt[wt++]);return et}rs=qe.length;let Et=U;for(wt=0;wt<rs;){const xt=qe[wt++],lt=qe[wt++];try{Et=xt(Et)}catch(en){lt.call(this,en);break}}try{et=Ac.call(this,Et)}catch(xt){return Promise.reject(xt)}for(wt=0,rs=We.length;wt<rs;)et=et.then(We[wt++],We[wt++]);return et}getUri(M){M=Ya(this.defaults,M);const U=Su(M.baseURL,M.url,M.allowAbsoluteUrls);return Qs(U,M.params,M.paramsSerializer)}}V.forEach(["delete","get","head","options"],function(k){Tr.prototype[k]=function(M,U){return this.request(Ya(U||{},{method:k,url:M,data:(U||{}).data}))}}),V.forEach(["post","put","patch"],function(k){function M(U){return function(I,ce,ue){return this.request(Ya(ue||{},{method:k,headers:U?{"Content-Type":"multipart/form-data"}:{},url:I,data:ce}))}}Tr.prototype[k]=M(),Tr.prototype[k+"Form"]=M(!0)});var lo=Tr;class si{constructor(M){if(typeof M!="function")throw new TypeError("executor must be a function.");let U;this.promise=new Promise(function(ce){U=ce});const I=this;this.promise.then(ce=>{if(!I._listeners)return;let ue=I._listeners.length;for(;ue-- >0;)I._listeners[ue](ce);I._listeners=null}),this.promise.then=ce=>{let ue;const be=new Promise(qe=>{I.subscribe(qe),ue=qe}).then(ce);return be.cancel=function(){I.unsubscribe(ue)},be},M(function(ce,ue,be){I.reason||(I.reason=new yn(ce,ue,be),U(I.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(M){if(this.reason){M(this.reason);return}this._listeners?this._listeners.push(M):this._listeners=[M]}unsubscribe(M){if(!this._listeners)return;const U=this._listeners.indexOf(M);U!==-1&&this._listeners.splice(U,1)}toAbortSignal(){const M=new AbortController,U=I=>{M.abort(I)};return this.subscribe(U),M.signal.unsubscribe=()=>this.unsubscribe(U),M.signal}static source(){let M;return{token:new si(function(U){M=U}),cancel:M}}}var sl=si;function Du(k){return function(M){return k.apply(null,M)}}function bn(k){return V.isObject(k)&&k.isAxiosError===!0}const Ca={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ca).forEach(([k,M])=>{Ca[M]=k});var nl=Ca;function ni(k){const M=new lo(k),U=e(lo.prototype.request,M);return V.extend(U,lo.prototype,M,{allOwnKeys:!0}),V.extend(U,M,null,{allOwnKeys:!0}),U.create=function(I){return ni(Ya(k,I))},U}const ks=ni(dt);return ks.Axios=lo,ks.CanceledError=yn,ks.CancelToken=sl,ks.isCancel=oa,ks.VERSION=ti,ks.toFormData=Ze,ks.AxiosError=Te,ks.Cancel=ks.CanceledError,ks.all=function(k){return Promise.all(k)},ks.spread=Du,ks.isAxiosError=bn,ks.mergeConfig=Ya,ks.AxiosHeaders=Js,ks.formToJSON=k=>ot(V.isHTMLForm(k)?new FormData(k):k),ks.getAdapter=Dc.getAdapter,ks.HttpStatusCode=nl,ks.default=ks,Bp=ks,Bp}var Dw;function I2(){if(Dw)return zr;Dw=1;var e=zr&&zr.__assign||function(){return e=Object.assign||function(i){for(var l,c=1,u=arguments.length;c<u;c++){l=arguments[c];for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(i[h]=l[h])}return i},e.apply(this,arguments)};Object.defineProperty(zr,"__esModule",{value:!0}),zr.getRequestHeaders=zr.getAxiosClient=void 0;var t=x4();function s(i,l,c,u,h){var f=t.default.create({baseURL:i,headers:n(l,u,c,i,h),withCredentials:!0});return f.interceptors.request.use(function(g){return typeof window<"u"&&window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(g.headers["X-Frappe-CSRF-Token"]=window.csrf_token),l&&u&&c&&(g.headers.Authorization="".concat(u," ").concat(c())),g}),f}zr.getAxiosClient=s;function n(i,l,c,u,h){i===void 0&&(i=!1);var f={Accept:"application/json","Content-Type":"application/json; charset=utf-8"};return i&&l&&c&&(f.Authorization="".concat(l," ").concat(c())),typeof window<"u"&&typeof document<"u"&&(window.location&&(u&&u!==window.location.origin||(f["X-Frappe-Site-Name"]=window.location.hostname)),window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(f["X-Frappe-CSRF-Token"]=window.csrf_token)),e(e({},f),h!=null?h:{})}return zr.getRequestHeaders=n,zr}var Aw;function q2(){if(Aw)return Ra;Aw=1;var e=Ra&&Ra.__assign||function(){return e=Object.assign||function(l){for(var c,u=1,h=arguments.length;u<h;u++){c=arguments[u];for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(l[f]=c[f])}return l},e.apply(this,arguments)},t=Ra&&Ra.__awaiter||function(l,c,u,h){function f(g){return g instanceof u?g:new u(function(p){p(g)})}return new(u||(u=Promise))(function(g,p){function b(v){try{j(h.next(v))}catch(_){p(_)}}function y(v){try{j(h.throw(v))}catch(_){p(_)}}function j(v){v.done?g(v.value):f(v.value).then(b,y)}j((h=h.apply(l,c||[])).next())})},s=Ra&&Ra.__generator||function(l,c){var u={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},h,f,g,p;return p={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function b(j){return function(v){return y([j,v])}}function y(j){if(h)throw new TypeError("Generator is already executing.");for(;p&&(p=0,j[0]&&(u=0)),u;)try{if(h=1,f&&(g=j[0]&2?f.return:j[0]?f.throw||((g=f.return)&&g.call(f),0):f.next)&&!(g=g.call(f,j[1])).done)return g;switch(f=0,g&&(j=[j[0]&2,g.value]),j[0]){case 0:case 1:g=j;break;case 4:return u.label++,{value:j[1],done:!1};case 5:u.label++,f=j[1],j=[0];continue;case 7:j=u.ops.pop(),u.trys.pop();continue;default:if(g=u.trys,!(g=g.length>0&&g[g.length-1])&&(j[0]===6||j[0]===2)){u=0;continue}if(j[0]===3&&(!g||j[1]>g[0]&&j[1]<g[3])){u.label=j[1];break}if(j[0]===6&&u.label<g[1]){u.label=g[1],g=j;break}if(g&&u.label<g[2]){u.label=g[2],u.ops.push(j);break}g[2]&&u.ops.pop(),u.trys.pop();continue}j=c.call(l,u)}catch(v){j=[6,v],f=0}finally{h=g=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}};Object.defineProperty(Ra,"__esModule",{value:!0}),Ra.FrappeFileUpload=void 0;var n=I2(),i=function(){function l(c,u,h,f,g,p){this.appURL=c,this.axios=u,this.useToken=h!=null?h:!1,this.token=f,this.tokenType=g,this.customHeaders=p}return l.prototype.uploadFile=function(c,u,h,f){return f===void 0&&(f="upload_file"),t(this,void 0,void 0,function(){var g,p,b,y,j,v,_,T;return s(this,function(O){return g=new FormData,c&&g.append("file",c,c.name),p=u.isPrivate,b=u.folder,y=u.file_url,j=u.doctype,v=u.docname,_=u.fieldname,T=u.otherData,p&&g.append("is_private","1"),b&&g.append("folder",b),y&&g.append("file_url",y),j&&v&&(g.append("doctype",j),g.append("docname",v),_&&g.append("fieldname",_)),T&&Object.keys(T).forEach(function(S){var C=T[S];g.append(S,C)}),[2,this.axios.post("/api/method/".concat(f),g,{onUploadProgress:function(S){h&&h(S.loaded,S.total,S)},headers:e(e({},(0,n.getRequestHeaders)(this.useToken,this.tokenType,this.token,this.appURL,this.customHeaders)),{"Content-Type":"multipart/form-data"})}).catch(function(S){var C,D;throw e(e({},S.response.data),{httpStatus:S.response.status,httpStatusText:S.response.statusText,message:(C=S.response.data.message)!==null&&C!==void 0?C:"There was an error while uploading the file.",exception:(D=S.response.data.exception)!==null&&D!==void 0?D:""})})]})})},l}();return Ra.FrappeFileUpload=i,Ra}var Ow;function y4(){if(Ow)return jd;Ow=1,Object.defineProperty(jd,"__esModule",{value:!0}),jd.FrappeApp=void 0;var e=W2(),t=$2(),s=V2(),n=q2(),i=I2(),l=function(){function c(u,h,f,g){var p,b;this.url=u,this.name=f!=null?f:"FrappeApp",this.useToken=(p=h==null?void 0:h.useToken)!==null&&p!==void 0?p:!1,this.token=h==null?void 0:h.token,this.tokenType=(b=h==null?void 0:h.type)!==null&&b!==void 0?b:"Bearer",this.customHeaders=g,this.axios=(0,i.getAxiosClient)(this.url,this.useToken,this.token,this.tokenType,this.customHeaders)}return c.prototype.auth=function(){return new e.FrappeAuth(this.url,this.axios,this.useToken,this.token,this.tokenType)},c.prototype.db=function(){return new s.FrappeDB(this.url,this.axios,this.useToken,this.token,this.tokenType)},c.prototype.file=function(){return new n.FrappeFileUpload(this.url,this.axios,this.useToken,this.token,this.tokenType,this.customHeaders)},c.prototype.call=function(){return new t.FrappeCall(this.url,this.axios,this.useToken,this.token,this.tokenType)},c}();return jd.FrappeApp=l,jd}var Pa={},Mw;function b4(){if(Mw)return Pa;Mw=1;var e=Pa&&Pa.__assign||function(){return e=Object.assign||function(i){for(var l,c=1,u=arguments.length;c<u;c++){l=arguments[c];for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(i[h]=l[h])}return i},e.apply(this,arguments)},t=Pa&&Pa.__awaiter||function(i,l,c,u){function h(f){return f instanceof c?f:new c(function(g){g(f)})}return new(c||(c=Promise))(function(f,g){function p(j){try{y(u.next(j))}catch(v){g(v)}}function b(j){try{y(u.throw(j))}catch(v){g(v)}}function y(j){j.done?f(j.value):h(j.value).then(p,b)}y((u=u.apply(i,l||[])).next())})},s=Pa&&Pa.__generator||function(i,l){var c={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},u,h,f,g;return g={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function p(y){return function(j){return b([y,j])}}function b(y){if(u)throw new TypeError("Generator is already executing.");for(;g&&(g=0,y[0]&&(c=0)),c;)try{if(u=1,h&&(f=y[0]&2?h.return:y[0]?h.throw||((f=h.return)&&f.call(h),0):h.next)&&!(f=f.call(h,y[1])).done)return f;switch(h=0,f&&(y=[y[0]&2,f.value]),y[0]){case 0:case 1:f=y;break;case 4:return c.label++,{value:y[1],done:!1};case 5:c.label++,h=y[1],y=[0];continue;case 7:y=c.ops.pop(),c.trys.pop();continue;default:if(f=c.trys,!(f=f.length>0&&f[f.length-1])&&(y[0]===6||y[0]===2)){c=0;continue}if(y[0]===3&&(!f||y[1]>f[0]&&y[1]<f[3])){c.label=y[1];break}if(y[0]===6&&c.label<f[1]){c.label=f[1],f=y;break}if(f&&c.label<f[2]){c.label=f[2],c.ops.push(y);break}f[2]&&c.ops.pop(),c.trys.pop();continue}y=l.call(i,c)}catch(j){y=[6,j],h=0}finally{u=f=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}};Object.defineProperty(Pa,"__esModule",{value:!0}),Pa.FrappeAuth=void 0;var n=function(){function i(l,c,u,h,f){this.appURL=l,this.axios=c,this.useToken=u!=null?u:!1,this.token=h,this.tokenType=f}return i.prototype.loginWithUsernamePassword=function(l){return t(this,void 0,void 0,function(){return s(this,function(c){return[2,this.axios.post("/api/method/login",{usr:l.username,pwd:l.password,otp:l.otp,tmp_id:l.tmp_id,device:l.device}).then(function(u){return u.data}).catch(function(u){var h,f;throw e(e({},u.response.data),{httpStatus:u.response.status,httpStatusText:u.response.statusText,message:(h=u.response.data.message)!==null&&h!==void 0?h:"There was an error while logging in",exception:(f=u.response.data.exception)!==null&&f!==void 0?f:""})})]})})},i.prototype.getLoggedInUser=function(){return t(this,void 0,void 0,function(){return s(this,function(l){return[2,this.axios.get("/api/method/frappe.auth.get_logged_user").then(function(c){return c.data.message}).catch(function(c){var u;throw e(e({},c.response.data),{httpStatus:c.response.status,httpStatusText:c.response.statusText,message:"There was an error while fetching the logged in user",exception:(u=c.response.data.exception)!==null&&u!==void 0?u:""})})]})})},i.prototype.logout=function(){return t(this,void 0,void 0,function(){return s(this,function(l){return[2,this.axios.post("/api/method/logout",{}).then(function(){}).catch(function(c){var u,h;throw e(e({},c.response.data),{httpStatus:c.response.status,httpStatusText:c.response.statusText,message:(u=c.response.data.message)!==null&&u!==void 0?u:"There was an error while logging out",exception:(h=c.response.data.exception)!==null&&h!==void 0?h:""})})]})})},i.prototype.forgetPassword=function(l){return t(this,void 0,void 0,function(){return s(this,function(c){return[2,this.axios.post("/",{cmd:"frappe.core.doctype.user.user.reset_password",user:l}).then(function(){}).catch(function(u){var h,f;throw e(e({},u.response.data),{httpStatus:u.response.status,httpStatusText:u.response.statusText,message:(h=u.response.data.message)!==null&&h!==void 0?h:"There was an error sending password reset email.",exception:(f=u.response.data.exception)!==null&&f!==void 0?f:""})})]})})},i}();return Pa.FrappeAuth=n,Pa}var Rw;function W2(){return Rw||(Rw=1,function(e){var t=Ll&&Ll.__createBinding||(Object.create?function(n,i,l,c){c===void 0&&(c=l);var u=Object.getOwnPropertyDescriptor(i,l);(!u||("get"in u?!i.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return i[l]}}),Object.defineProperty(n,c,u)}:function(n,i,l,c){c===void 0&&(c=l),n[c]=i[l]}),s=Ll&&Ll.__exportStar||function(n,i){for(var l in n)l!=="default"&&!Object.prototype.hasOwnProperty.call(i,l)&&t(i,n,l)};Object.defineProperty(e,"__esModule",{value:!0}),s(y4(),e),s(b4(),e),s(V2(),e),s(q2(),e),s($2(),e)}(Ll)),Ll}var v4=W2(),Pw={exports:{}},Fp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lw;function w4(){if(Lw)return Fp;Lw=1;var e=ye;function t(p,b){return p===b&&(p!==0||1/p===1/b)||p!==p&&b!==b}var s=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function u(p,b){var y=b(),j=n({inst:{value:y,getSnapshot:b}}),v=j[0].inst,_=j[1];return l(function(){v.value=y,v.getSnapshot=b,h(v)&&_({inst:v})},[p,y,b]),i(function(){return h(v)&&_({inst:v}),p(function(){h(v)&&_({inst:v})})},[p]),c(y),y}function h(p){var b=p.getSnapshot;p=p.value;try{var y=b();return!s(p,y)}catch(j){return!0}}function f(p,b){return b()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return Fp.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,Fp}var Bw;function j4(){return Bw||(Bw=1,Pw.exports=w4()),Pw.exports}var N4=j4();const Y2=0,G2=1,X2=2,Fw=3;var zw=Object.prototype.hasOwnProperty;function D0(e,t){var s,n;if(e===t)return!0;if(e&&t&&(s=e.constructor)===t.constructor){if(s===Date)return e.getTime()===t.getTime();if(s===RegExp)return e.toString()===t.toString();if(s===Array){if((n=e.length)===t.length)for(;n--&&D0(e[n],t[n]););return n===-1}if(!s||typeof e=="object"){n=0;for(s in e)if(zw.call(e,s)&&++n&&!zw.call(t,s)||!(s in t)||!D0(e[s],t[s]))return!1;return Object.keys(t).length===n}}return e!==e&&t!==t}const Yr=new WeakMap,Mi=()=>{},Nn=Mi(),Mf=Object,Yt=e=>e===Nn,Ba=e=>typeof e=="function",Xr=(e,t)=>z(z({},e),t),K2=e=>Ba(e.then),zp={},Mh={},Sx="undefined",hu=typeof window!=Sx,A0=typeof document!=Sx,_4=hu&&"Deno"in window,T4=()=>hu&&typeof window.requestAnimationFrame!=Sx,Q2=(e,t)=>{const s=Yr.get(e);return[()=>!Yt(t)&&e.get(t)||zp,n=>{if(!Yt(t)){const i=e.get(t);t in Mh||(Mh[t]=i),s[5](t,Xr(i,n),i||zp)}},s[6],()=>!Yt(t)&&t in Mh?Mh[t]:!Yt(t)&&e.get(t)||zp]};let O0=!0;const S4=()=>O0,[M0,R0]=hu&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Mi,Mi],k4=()=>{const e=A0&&document.visibilityState;return Yt(e)||e!=="hidden"},C4=e=>(A0&&document.addEventListener("visibilitychange",e),M0("focus",e),()=>{A0&&document.removeEventListener("visibilitychange",e),R0("focus",e)}),E4=e=>{const t=()=>{O0=!0,e()},s=()=>{O0=!1};return M0("online",t),M0("offline",s),()=>{R0("online",t),R0("offline",s)}},D4={isOnline:S4,isVisible:k4},A4={initFocus:C4,initReconnect:E4},Uw=!ye.useId,Xd=!hu||_4,O4=e=>T4()?window.requestAnimationFrame(e):setTimeout(e,1),pf=Xd?N.useEffect:N.useLayoutEffect,Up=typeof navigator<"u"&&navigator.connection,Hw=!Xd&&Up&&(["slow-2g","2g"].includes(Up.effectiveType)||Up.saveData),Rh=new WeakMap,Hp=(e,t)=>Mf.prototype.toString.call(e)===`[object ${t}]`;let M4=0;const P0=e=>{const t=typeof e,s=Hp(e,"Date"),n=Hp(e,"RegExp"),i=Hp(e,"Object");let l,c;if(Mf(e)===e&&!s&&!n){if(l=Rh.get(e),l)return l;if(l=++M4+"~",Rh.set(e,l),Array.isArray(e)){for(l="@",c=0;c<e.length;c++)l+=P0(e[c])+",";Rh.set(e,l)}if(i){l="#";const u=Mf.keys(e).sort();for(;!Yt(c=u.pop());)Yt(e[c])||(l+=c+":"+P0(e[c])+",");Rh.set(e,l)}}else l=s?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return l},kx=e=>{if(Ba(e))try{e=e()}catch(s){e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?P0(e):"",[e,t]};let R4=0;const L0=()=>++R4;function Z2(...e){return fe(this,null,function*(){const[t,s,n,i]=e,l=Xr({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let c=l.populateCache;const u=l.rollbackOnError;let h=l.optimisticData;const f=b=>typeof u=="function"?u(b):u!==!1,g=l.throwOnError;if(Ba(s)){const b=s,y=[],j=t.keys();for(const v of j)!/^\$(inf|sub)\$/.test(v)&&b(t.get(v)._k)&&y.push(v);return Promise.all(y.map(p))}return p(s);function p(b){return fe(this,null,function*(){const[y]=kx(b);if(!y)return;const[j,v]=Q2(t,y),[_,T,O,S]=Yr.get(t),C=()=>{const H=_[y];return(Ba(l.revalidate)?l.revalidate(j().data,b):l.revalidate!==!1)&&(delete O[y],delete S[y],H&&H[0])?H[0](X2).then(()=>j().data):j().data};if(e.length<3)return C();let D=n,E;const L=L0();T[y]=[L,0];const F=!Yt(h),R=j(),K=R.data,W=R._c,Q=Yt(W)?K:W;if(F&&(h=Ba(h)?h(Q,K):h,v({data:h,_c:Q})),Ba(D))try{D=D(Q)}catch(H){E=H}if(D&&K2(D))if(D=yield D.catch(H=>{E=H}),L!==T[y][0]){if(E)throw E;return D}else E&&F&&f(E)&&(c=!0,v({data:Q,_c:Nn}));if(c&&!E)if(Ba(c)){const H=c(D,Q);v({data:H,error:Nn,_c:Nn})}else v({data:D,error:Nn,_c:Nn});if(T[y][1]=L0(),Promise.resolve(C()).then(()=>{v({_c:Nn})}),E){if(g)throw E;return}return D})}})}const $w=(e,t)=>{for(const s in e)e[s][0]&&e[s][0](t)},J2=(e,t)=>{if(!Yr.has(e)){const s=Xr(A4,t),n=Object.create(null),i=Z2.bind(Nn,e);let l=Mi;const c=Object.create(null),u=(g,p)=>{const b=c[g]||[];return c[g]=b,b.push(p),()=>b.splice(b.indexOf(p),1)},h=(g,p,b)=>{e.set(g,p);const y=c[g];if(y)for(const j of y)j(p,b)},f=()=>{if(!Yr.has(e)&&(Yr.set(e,[n,Object.create(null),Object.create(null),Object.create(null),i,h,u]),!Xd)){const g=s.initFocus(setTimeout.bind(Nn,$w.bind(Nn,n,Y2))),p=s.initReconnect(setTimeout.bind(Nn,$w.bind(Nn,n,G2)));l=()=>{g&&g(),p&&p(),Yr.delete(e)}}};return f(),[e,i,f,l]}return[e,Yr.get(e)[4]]},P4=(e,t,s,n,i)=>{const l=s.errorRetryCount,c=i.retryCount,u=~~((Math.random()+.5)*(1<<(c<8?c:8)))*s.errorRetryInterval;!Yt(l)&&c>l||setTimeout(n,u,i)},L4=D0,[Cx,B4]=J2(new Map),e_=Xr({onLoadingSlow:Mi,onSuccess:Mi,onError:Mi,onErrorRetry:P4,onDiscarded:Mi,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Hw?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Hw?5e3:3e3,compare:L4,isPaused:()=>!1,cache:Cx,mutate:B4,fallback:{}},D4),t_=(e,t)=>{const s=Xr(e,t);if(t){const{use:n,fallback:i}=e,{use:l,fallback:c}=t;n&&l&&(s.use=n.concat(l)),i&&c&&(s.fallback=Xr(i,c))}return s},B0=N.createContext({}),F4=e=>{const{value:t}=e,s=N.useContext(B0),n=Ba(t),i=N.useMemo(()=>n?t(s):t,[n,s,t]),l=N.useMemo(()=>n?i:t_(s,i),[n,s,i]),c=i&&i.provider,u=N.useRef(Nn);c&&!u.current&&(u.current=J2(c(l.cache||Cx),i));const h=u.current;return h&&(l.cache=h[0],l.mutate=h[1]),pf(()=>{if(h)return h[2]&&h[2](),h[3]},[]),N.createElement(B0.Provider,Xr(e,{value:l}))},z4="$inf$",s_=hu&&window.__SWR_DEVTOOLS_USE__,U4=s_?window.__SWR_DEVTOOLS_USE__:[],H4=()=>{s_&&(window.__SWR_DEVTOOLS_REACT__=ye)},$4=e=>Ba(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],V4=()=>Xr(e_,N.useContext(B0)),I4=e=>(t,s,n)=>e(t,s&&((...i)=>{const[l]=kx(t),[,,,c]=Yr.get(Cx);if(l.startsWith(z4))return s(...i);const u=c[l];return Yt(u)?s(...i):(delete c[l],u)}),n),q4=U4.concat(I4),W4=e=>function(...t){const s=V4(),[n,i,l]=$4(t),c=t_(s,l);let u=e;const{use:h}=c,f=(h||[]).concat(q4);for(let g=f.length;g--;)u=f[g](u);return u(n,i||c.fetcher||null,c)},Y4=(e,t,s)=>{const n=t[e]||(t[e]=[]);return n.push(s),()=>{const i=n.indexOf(s);i>=0&&(n[i]=n[n.length-1],n.pop())}};H4();const $p=ye.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),Vp={dedupe:!0},G4=(e,t,s)=>{const{cache:n,compare:i,suspense:l,fallbackData:c,revalidateOnMount:u,revalidateIfStale:h,refreshInterval:f,refreshWhenHidden:g,refreshWhenOffline:p,keepPreviousData:b}=s,[y,j,v,_]=Yr.get(n),[T,O]=kx(e),S=N.useRef(!1),C=N.useRef(!1),D=N.useRef(T),E=N.useRef(t),L=N.useRef(s),F=()=>L.current,R=()=>F().isVisible()&&F().isOnline(),[K,W,Q,H]=Q2(n,T),q=N.useRef({}).current,Y=Yt(c)?Yt(s.fallback)?Nn:s.fallback[T]:c,$=(He,Ye)=>{for(const tt in q){const gt=tt;if(gt==="data"){if(!i(He[gt],Ye[gt])&&(!Yt(He[gt])||!i(_e,Ye[gt])))return!1}else if(Ye[gt]!==He[gt])return!1}return!0},J=N.useMemo(()=>{const He=!T||!t?!1:Yt(u)?F().isPaused()||l?!1:h!==!1:u,Ye=Pe=>{const Z=Xr(Pe);return delete Z._k,He?z({isValidating:!0,isLoading:!0},Z):Z},tt=K(),gt=H(),Dt=Ye(tt),De=tt===gt?Dt:Ye(gt);let Ue=Dt;return[()=>{const Pe=Ye(K());return $(Pe,Ue)?(Ue.data=Pe.data,Ue.isLoading=Pe.isLoading,Ue.isValidating=Pe.isValidating,Ue.error=Pe.error,Ue):(Ue=Pe,Pe)},()=>De]},[n,T]),se=N4.useSyncExternalStore(N.useCallback(He=>Q(T,(Ye,tt)=>{$(tt,Ye)||He()}),[n,T]),J[0],J[1]),Ne=!S.current,P=y[T]&&y[T].length>0,ne=se.data,ge=Yt(ne)?Y&&K2(Y)?$p(Y):Y:ne,G=se.error,re=N.useRef(ge),_e=b?Yt(ne)?Yt(re.current)?ge:re.current:ne:ge,me=P&&!Yt(G)?!1:Ne&&!Yt(u)?u:F().isPaused()?!1:l?Yt(ge)?!1:h:Yt(ge)||h,Le=!!(T&&t&&Ne&&me),we=Yt(se.isValidating)?Le:se.isValidating,Ee=Yt(se.isLoading)?Le:se.isLoading,X=N.useCallback(He=>fe(null,null,function*(){const Ye=E.current;if(!T||!Ye||C.current||F().isPaused())return!1;let tt,gt,Dt=!0;const De=He||{},Ue=!v[T]||!De.dedupe,Pe=()=>Uw?!C.current&&T===D.current&&S.current:T===D.current,Z={isValidating:!1,isLoading:!1},le=()=>{W(Z)},V=()=>{const Be=v[T];Be&&Be[1]===gt&&delete v[T]},Te={isValidating:!0};Yt(K().data)&&(Te.isLoading=!0);try{if(Ue&&(W(Te),s.loadingTimeout&&Yt(K().data)&&setTimeout(()=>{Dt&&Pe()&&F().onLoadingSlow(T,s)},s.loadingTimeout),v[T]=[Ye(O),L0()]),[tt,gt]=v[T],tt=yield tt,Ue&&setTimeout(V,s.dedupingInterval),!v[T]||v[T][1]!==gt)return Ue&&Pe()&&F().onDiscarded(T),!1;Z.error=Nn;const Be=j[T];if(!Yt(Be)&&(gt<=Be[0]||gt<=Be[1]||Be[1]===0))return le(),Ue&&Pe()&&F().onDiscarded(T),!1;const Re=K().data;Z.data=i(Re,tt)?Re:tt,Ue&&Pe()&&F().onSuccess(tt,T,s)}catch(Be){V();const Re=F(),{shouldRetryOnError:Ve}=Re;Re.isPaused()||(Z.error=Be,Ue&&Pe()&&(Re.onError(Be,T,Re),(Ve===!0||Ba(Ve)&&Ve(Be))&&(!F().revalidateOnFocus||!F().revalidateOnReconnect||R())&&Re.onErrorRetry(Be,T,Re,Ge=>{const st=y[T];st&&st[0]&&st[0](Fw,Ge)},{retryCount:(De.retryCount||0)+1,dedupe:!0})))}return Dt=!1,le(),!0}),[T,n]),Oe=N.useCallback((...He)=>Z2(n,D.current,...He),[]);if(pf(()=>{E.current=t,L.current=s,Yt(ne)||(re.current=ne)}),pf(()=>{if(!T)return;const He=X.bind(Nn,Vp);let Ye=0;F().revalidateOnFocus&&(Ye=Date.now()+F().focusThrottleInterval);const tt=Y4(T,y,(gt,Dt={})=>{if(gt==Y2){const De=Date.now();F().revalidateOnFocus&&De>Ye&&R()&&(Ye=De+F().focusThrottleInterval,He())}else if(gt==G2)F().revalidateOnReconnect&&R()&&He();else{if(gt==X2)return X();if(gt==Fw)return X(Dt)}});return C.current=!1,D.current=T,S.current=!0,W({_k:O}),me&&(Yt(ge)||Xd?He():O4(He)),()=>{C.current=!0,tt()}},[T]),pf(()=>{let He;function Ye(){const gt=Ba(f)?f(K().data):f;gt&&He!==-1&&(He=setTimeout(tt,gt))}function tt(){!K().error&&(g||F().isVisible())&&(p||F().isOnline())?X(Vp).then(Ye):Ye()}return Ye(),()=>{He&&(clearTimeout(He),He=-1)}},[f,g,p,T]),N.useDebugValue(_e),l&&Yt(ge)&&T){if(!Uw&&Xd)throw new Error("Fallback data is required when using Suspense in SSR.");E.current=t,L.current=s,C.current=!1;const He=_[T];if(!Yt(He)){const Ye=Oe(He);$p(Ye)}if(Yt(G)){const Ye=X(Vp);Yt(_e)||(Ye.status="fulfilled",Ye.value=!0),$p(Ye)}else throw G}return{mutate:Oe,get data(){return q.data=!0,_e},get error(){return q.error=!0,G},get isValidating(){return q.isValidating=!0,we},get isLoading(){return q.isLoading=!0,Ee}}},X4=Mf.defineProperty(F4,"defaultValue",{value:e_}),im=W4(G4);Promise.resolve();const mr=Object.create(null);mr.open="0";mr.close="1";mr.ping="2";mr.pong="3";mr.message="4";mr.upgrade="5";mr.noop="6";const xf=Object.create(null);Object.keys(mr).forEach(e=>{xf[mr[e]]=e});const F0={type:"error",data:"parser error"},n_=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",a_=typeof ArrayBuffer=="function",r_=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Ex=({type:e,data:t},s,n)=>n_&&t instanceof Blob?s?n(t):Vw(t,n):a_&&(t instanceof ArrayBuffer||r_(t))?s?n(t):Vw(new Blob([t]),n):n(mr[e]+(t||"")),Vw=(e,t)=>{const s=new FileReader;return s.onload=function(){const n=s.result.split(",")[1];t("b"+(n||""))},s.readAsDataURL(e)};function Iw(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Ip;function K4(e,t){if(n_&&e.data instanceof Blob)return e.data.arrayBuffer().then(Iw).then(t);if(a_&&(e.data instanceof ArrayBuffer||r_(e.data)))return t(Iw(e.data));Ex(e,!1,s=>{Ip||(Ip=new TextEncoder),t(Ip.encode(s))})}const qw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Bd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<qw.length;e++)Bd[qw.charCodeAt(e)]=e;const Q4=e=>{let t=e.length*.75,s=e.length,n,i=0,l,c,u,h;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const f=new ArrayBuffer(t),g=new Uint8Array(f);for(n=0;n<s;n+=4)l=Bd[e.charCodeAt(n)],c=Bd[e.charCodeAt(n+1)],u=Bd[e.charCodeAt(n+2)],h=Bd[e.charCodeAt(n+3)],g[i++]=l<<2|c>>4,g[i++]=(c&15)<<4|u>>2,g[i++]=(u&3)<<6|h&63;return f},Z4=typeof ArrayBuffer=="function",Dx=(e,t)=>{if(typeof e!="string")return{type:"message",data:i_(e,t)};const s=e.charAt(0);return s==="b"?{type:"message",data:J4(e.substring(1),t)}:xf[s]?e.length>1?{type:xf[s],data:e.substring(1)}:{type:xf[s]}:F0},J4=(e,t)=>{if(Z4){const s=Q4(e);return i_(s,t)}else return{base64:!0,data:e}},i_=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},o_="",eD=(e,t)=>{const s=e.length,n=new Array(s);let i=0;e.forEach((l,c)=>{Ex(l,!1,u=>{n[c]=u,++i===s&&t(n.join(o_))})})},tD=(e,t)=>{const s=e.split(o_),n=[];for(let i=0;i<s.length;i++){const l=Dx(s[i],t);if(n.push(l),l.type==="error")break}return n};function sD(){return new TransformStream({transform(e,t){K4(e,s=>{const n=s.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const l=new DataView(i.buffer);l.setUint8(0,126),l.setUint16(1,n)}else{i=new Uint8Array(9);const l=new DataView(i.buffer);l.setUint8(0,127),l.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(s)})}})}let qp;function Ph(e){return e.reduce((t,s)=>t+s.length,0)}function Lh(e,t){if(e[0].length===t)return e.shift();const s=new Uint8Array(t);let n=0;for(let i=0;i<t;i++)s[i]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),s}function nD(e,t){qp||(qp=new TextDecoder);const s=[];let n=0,i=-1,l=!1;return new TransformStream({transform(c,u){for(s.push(c);;){if(n===0){if(Ph(s)<1)break;const h=Lh(s,1);l=(h[0]&128)===128,i=h[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(Ph(s)<2)break;const h=Lh(s,2);i=new DataView(h.buffer,h.byteOffset,h.length).getUint16(0),n=3}else if(n===2){if(Ph(s)<8)break;const h=Lh(s,8),f=new DataView(h.buffer,h.byteOffset,h.length),g=f.getUint32(0);if(g>Math.pow(2,21)-1){u.enqueue(F0);break}i=g*Math.pow(2,32)+f.getUint32(4),n=3}else{if(Ph(s)<i)break;const h=Lh(s,i);u.enqueue(Dx(l?h:qp.decode(h),t)),n=0}if(i===0||i>e){u.enqueue(F0);break}}}})}const l_=4;function Is(e){if(e)return aD(e)}function aD(e){for(var t in Is.prototype)e[t]=Is.prototype[t];return e}Is.prototype.on=Is.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Is.prototype.once=function(e,t){function s(){this.off(e,s),t.apply(this,arguments)}return s.fn=t,this.on(e,s),this};Is.prototype.off=Is.prototype.removeListener=Is.prototype.removeAllListeners=Is.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+e];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,i=0;i<s.length;i++)if(n=s[i],n===t||n.fn===t){s.splice(i,1);break}return s.length===0&&delete this._callbacks["$"+e],this};Is.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),s=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(s){s=s.slice(0);for(var n=0,i=s.length;n<i;++n)s[n].apply(this,t)}return this};Is.prototype.emitReserved=Is.prototype.emit;Is.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Is.prototype.hasListeners=function(e){return!!this.listeners(e).length};const ba=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function c_(e,...t){return t.reduce((s,n)=>(e.hasOwnProperty(n)&&(s[n]=e[n]),s),{})}const rD=ba.setTimeout,iD=ba.clearTimeout;function om(e,t){t.useNativeTimers?(e.setTimeoutFn=rD.bind(ba),e.clearTimeoutFn=iD.bind(ba)):(e.setTimeoutFn=ba.setTimeout.bind(ba),e.clearTimeoutFn=ba.clearTimeout.bind(ba))}const oD=1.33;function lD(e){return typeof e=="string"?cD(e):Math.ceil((e.byteLength||e.size)*oD)}function cD(e){let t=0,s=0;for(let n=0,i=e.length;n<i;n++)t=e.charCodeAt(n),t<128?s+=1:t<2048?s+=2:t<55296||t>=57344?s+=3:(n++,s+=4);return s}function dD(e){let t="";for(let s in e)e.hasOwnProperty(s)&&(t.length&&(t+="&"),t+=encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return t}function uD(e){let t={},s=e.split("&");for(let n=0,i=s.length;n<i;n++){let l=s[n].split("=");t[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return t}class hD extends Error{constructor(t,s,n){super(t),this.description=s,this.context=n,this.type="TransportError"}}class Ax extends Is{constructor(t){super(),this.writable=!1,om(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,s,n){return super.emitReserved("error",new hD(t,s,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const s=Dx(t,this.socket.binaryType);this.onPacket(s)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,s={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const s=dD(t);return s.length?"?"+s:""}}const d_="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),z0=64,fD={};let Ww=0,Bh=0,Yw;function Gw(e){let t="";do t=d_[e%z0]+t,e=Math.floor(e/z0);while(e>0);return t}function u_(){const e=Gw(+new Date);return e!==Yw?(Ww=0,Yw=e):e+"."+Gw(Ww++)}for(;Bh<z0;Bh++)fD[d_[Bh]]=Bh;let h_=!1;try{h_=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(e){}const mD=h_;function f_(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||mD))return new XMLHttpRequest}catch(s){}if(!t)try{return new ba[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(s){}}function gD(){}const pD=function(){return new f_({xdomain:!1}).responseType!=null}();class xD extends Ax{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const n=location.protocol==="https:";let i=location.port;i||(i=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||i!==t.port}const s=t&&t.forceBase64;this.supportsBinary=pD&&!s,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const s=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||s()})),this.writable||(n++,this.once("drain",function(){--n||s()}))}else s()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const s=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};tD(t,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,eD(t,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=u_()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(t,s)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Ql(this.uri(),t)}doWrite(t,s){const n=this.request({method:"POST",data:t});n.on("success",s),n.on("error",(i,l)=>{this.onError("xhr post error",i,l)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(s,n)=>{this.onError("xhr poll error",s,n)}),this.pollXhr=t}}let Ql=class yf extends Is{constructor(t,s){super(),om(this,s),this.opts=s,this.method=s.method||"GET",this.uri=t,this.data=s.data!==void 0?s.data:null,this.create()}create(){var t;const s=c_(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this.opts.xd;const n=this.xhr=new f_(s);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this.opts.extraHeaders[i])}}catch(i){}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(i){}try{n.setRequestHeader("Accept","*/*")}catch(i){}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this.opts.cookieJar)===null||i===void 0||i.parseCookies(n)),n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},n.send(this.data)}catch(i){this.setTimeoutFn(()=>{this.onError(i)},0);return}typeof document<"u"&&(this.index=yf.requestsCount++,yf.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=gD,t)try{this.xhr.abort()}catch(s){}typeof document<"u"&&delete yf.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};Ql.requestsCount=0;Ql.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Xw);else if(typeof addEventListener=="function"){const e="onpagehide"in ba?"pagehide":"unload";addEventListener(e,Xw,!1)}}function Xw(){for(let e in Ql.requests)Ql.requests.hasOwnProperty(e)&&Ql.requests[e].abort()}const Ox=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Fh=ba.WebSocket||ba.MozWebSocket,Kw=!0,yD="arraybuffer",Qw=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class bD extends Ax{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),s=this.opts.protocols,n=Qw?{}:c_(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=Kw&&!Qw?s?new Fh(t,s):new Fh(t):new Fh(t,s,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const n=t[s],i=s===t.length-1;Ex(n,this.supportsBinary,l=>{try{Kw&&this.ws.send(l)}catch(c){}i&&Ox(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=u_()),this.supportsBinary||(s.b64=1),this.createUri(t,s)}check(){return!!Fh}}class vD extends Ax{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const s=nD(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(s).getReader(),i=sD();i.readable.pipeTo(t.writable),this.writer=i.writable.getWriter();const l=()=>{n.read().then(({done:u,value:h})=>{u||(this.onPacket(h),l())}).catch(u=>{})};l();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this.writer.write(c).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const n=t[s],i=s===t.length-1;this.writer.write(n).then(()=>{i&&Ox(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const wD={websocket:bD,webtransport:vD,polling:xD},jD=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ND=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function U0(e){if(e.length>2e3)throw"URI too long";const t=e,s=e.indexOf("["),n=e.indexOf("]");s!=-1&&n!=-1&&(e=e.substring(0,s)+e.substring(s,n).replace(/:/g,";")+e.substring(n,e.length));let i=jD.exec(e||""),l={},c=14;for(;c--;)l[ND[c]]=i[c]||"";return s!=-1&&n!=-1&&(l.source=t,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=_D(l,l.path),l.queryKey=TD(l,l.query),l}function _D(e,t){const s=/\/{2,9}/g,n=t.replace(s,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function TD(e,t){const s={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,l){i&&(s[i]=l)}),s}let m_=class ql extends Is{constructor(t,s={}){super(),this.binaryType=yD,this.writeBuffer=[],t&&typeof t=="object"&&(s=t,t=null),t?(t=U0(t),s.hostname=t.host,s.secure=t.protocol==="https"||t.protocol==="wss",s.port=t.port,t.query&&(s.query=t.query)):s.host&&(s.hostname=U0(s.host).host),om(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=s.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=uD(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const s=Object.assign({},this.opts.query);s.EIO=l_,s.transport=t,this.id&&(s.sid=this.id);const n=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new wD[t](n)}open(){let t;if(this.opts.rememberUpgrade&&ql.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch(s){this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",s=>this.onClose("transport close",s))}probe(t){let s=this.createTransport(t),n=!1;ql.priorWebsocketSuccess=!1;const i=()=>{n||(s.send([{type:"ping",data:"probe"}]),s.once("packet",p=>{if(!n)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;ql.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(g(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=s.name,this.emitReserved("upgradeError",b)}}))};function l(){n||(n=!0,g(),s.close(),s=null)}const c=p=>{const b=new Error("probe error: "+p);b.transport=s.name,l(),this.emitReserved("upgradeError",b)};function u(){c("transport closed")}function h(){c("socket closed")}function f(p){s&&p.name!==s.name&&l()}const g=()=>{s.removeListener("open",i),s.removeListener("error",c),s.removeListener("close",u),this.off("close",h),this.off("upgrading",f)};s.once("open",i),s.once("error",c),s.once("close",u),this.once("close",h),this.once("upgrading",f),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||s.open()},200):s.open()}onOpen(){if(this.readyState="open",ql.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const s=this.upgrades.length;for(;t<s;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const s=new Error("server error");s.code=t.data,this.onError(s);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let s=0;s<this.writeBuffer.length;s++){const n=this.writeBuffer[s].data;if(n&&(t+=lD(n)),s>0&&t>this.maxPayload)return this.writeBuffer.slice(0,s);t+=2}return this.writeBuffer}write(t,s,n){return this.sendPacket("message",t,s,n),this}send(t,s,n){return this.sendPacket("message",t,s,n),this}sendPacket(t,s,n,i){if(typeof s=="function"&&(i=s,s=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const l={type:t,data:s,options:n};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),t()},n=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}onError(t){ql.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,s){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,s),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const s=[];let n=0;const i=t.length;for(;n<i;n++)~this.transports.indexOf(t[n])&&s.push(t[n]);return s}};m_.protocol=l_;function SD(e,t="",s){let n=e;s=s||typeof location<"u"&&location,e==null&&(e=s.protocol+"//"+s.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=s.protocol+e:e=s.host+e),/^(https?|wss?):\/\//.test(e)||(typeof s<"u"?e=s.protocol+"//"+e:e="https://"+e),n=U0(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+t,n.href=n.protocol+"://"+i+(s&&s.port===n.port?"":":"+n.port),n}const kD=typeof ArrayBuffer=="function",CD=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,g_=Object.prototype.toString,ED=typeof Blob=="function"||typeof Blob<"u"&&g_.call(Blob)==="[object BlobConstructor]",DD=typeof File=="function"||typeof File<"u"&&g_.call(File)==="[object FileConstructor]";function Mx(e){return kD&&(e instanceof ArrayBuffer||CD(e))||ED&&e instanceof Blob||DD&&e instanceof File}function bf(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let s=0,n=e.length;s<n;s++)if(bf(e[s]))return!0;return!1}if(Mx(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return bf(e.toJSON(),!0);for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&bf(e[s]))return!0;return!1}function AD(e){const t=[],s=e.data,n=e;return n.data=H0(s,t),n.attachments=t.length,{packet:n,buffers:t}}function H0(e,t){if(!e)return e;if(Mx(e)){const s={_placeholder:!0,num:t.length};return t.push(e),s}else if(Array.isArray(e)){const s=new Array(e.length);for(let n=0;n<e.length;n++)s[n]=H0(e[n],t);return s}else if(typeof e=="object"&&!(e instanceof Date)){const s={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=H0(e[n],t));return s}return e}function OD(e,t){return e.data=$0(e.data,t),delete e.attachments,e}function $0(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let s=0;s<e.length;s++)e[s]=$0(e[s],t);else if(typeof e=="object")for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(e[s]=$0(e[s],t));return e}const MD=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],RD=5;var Vt;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Vt||(Vt={}));class PD{constructor(t){this.replacer=t}encode(t){return(t.type===Vt.EVENT||t.type===Vt.ACK)&&bf(t)?this.encodeAsBinary({type:t.type===Vt.EVENT?Vt.BINARY_EVENT:Vt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let s=""+t.type;return(t.type===Vt.BINARY_EVENT||t.type===Vt.BINARY_ACK)&&(s+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(s+=t.nsp+","),t.id!=null&&(s+=t.id),t.data!=null&&(s+=JSON.stringify(t.data,this.replacer)),s}encodeAsBinary(t){const s=AD(t),n=this.encodeAsString(s.packet),i=s.buffers;return i.unshift(n),i}}function Zw(e){return Object.prototype.toString.call(e)==="[object Object]"}class Rx extends Is{constructor(t){super(),this.reviver=t}add(t){let s;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(t);const n=s.type===Vt.BINARY_EVENT;n||s.type===Vt.BINARY_ACK?(s.type=n?Vt.EVENT:Vt.ACK,this.reconstructor=new LD(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(Mx(t)||t.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(t),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let s=0;const n={type:Number(t.charAt(0))};if(Vt[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Vt.BINARY_EVENT||n.type===Vt.BINARY_ACK){const l=s+1;for(;t.charAt(++s)!=="-"&&s!=t.length;);const c=t.substring(l,s);if(c!=Number(c)||t.charAt(s)!=="-")throw new Error("Illegal attachments");n.attachments=Number(c)}if(t.charAt(s+1)==="/"){const l=s+1;for(;++s&&!(t.charAt(s)===","||s===t.length););n.nsp=t.substring(l,s)}else n.nsp="/";const i=t.charAt(s+1);if(i!==""&&Number(i)==i){const l=s+1;for(;++s;){const c=t.charAt(s);if(c==null||Number(c)!=c){--s;break}if(s===t.length)break}n.id=Number(t.substring(l,s+1))}if(t.charAt(++s)){const l=this.tryParse(t.substr(s));if(Rx.isPayloadValid(n.type,l))n.data=l;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(s){return!1}}static isPayloadValid(t,s){switch(t){case Vt.CONNECT:return Zw(s);case Vt.DISCONNECT:return s===void 0;case Vt.CONNECT_ERROR:return typeof s=="string"||Zw(s);case Vt.EVENT:case Vt.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&MD.indexOf(s[0])===-1);case Vt.ACK:case Vt.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class LD{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const s=OD(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const BD=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Rx,Encoder:PD,get PacketType(){return Vt},protocol:RD},Symbol.toStringTag,{value:"Module"}));function La(e,t,s){return e.on(t,s),function(){e.off(t,s)}}const FD=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class p_ extends Is{constructor(t,s,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=s,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[La(t,"open",this.onopen.bind(this)),La(t,"packet",this.onpacket.bind(this)),La(t,"error",this.onerror.bind(this)),La(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...s){if(FD.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(s.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const n={type:Vt.EVENT,data:s};if(n.options={},n.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const l=this.ids++,c=s.pop();this._registerAckCallback(l,c),n.id=l}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(t,s){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[t]=s;return}const l=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===t&&this.sendBuffer.splice(c,1);s.call(this,new Error("operation has timed out"))},i);this.acks[t]=(...c)=>{this.io.clearTimeoutFn(l),s.apply(this,[null,...c])}}emitWithAck(t,...s){const n=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((i,l)=>{s.push((c,u)=>n?c?l(c):i(u):i(c)),this.emit(t,...s)})}_addToQueue(t){let s;typeof t[t.length-1]=="function"&&(s=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...l)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(i)):(this._queue.shift(),s&&s(null,...l)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!t||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Vt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,s)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Vt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Vt.EVENT:case Vt.BINARY_EVENT:this.onevent(t);break;case Vt.ACK:case Vt.BINARY_ACK:this.onack(t);break;case Vt.DISCONNECT:this.ondisconnect();break;case Vt.CONNECT_ERROR:this.destroy();const s=new Error(t.data.message);s.data=t.data.data,this.emitReserved("connect_error",s);break}}onevent(t){const s=t.data||[];t.id!=null&&s.push(this.ack(t.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const n of s)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const s=this;let n=!1;return function(...i){n||(n=!0,s.packet({type:Vt.ACK,id:t,data:i}))}}onack(t){const s=this.acks[t.id];typeof s=="function"&&(s.apply(this,t.data),delete this.acks[t.id])}onconnect(t,s){this.id=t,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Vt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const s=this._anyListeners;for(let n=0;n<s.length;n++)if(t===s[n])return s.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const s=this._anyOutgoingListeners;for(let n=0;n<s.length;n++)if(t===s[n])return s.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const n of s)n.apply(this,t.data)}}}function fc(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}fc.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),s=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-s:e+s}return Math.min(e,this.max)|0};fc.prototype.reset=function(){this.attempts=0};fc.prototype.setMin=function(e){this.ms=e};fc.prototype.setMax=function(e){this.max=e};fc.prototype.setJitter=function(e){this.jitter=e};class V0 extends Is{constructor(t,s){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(s=t,t=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,om(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((n=s.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new fc({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=t;const i=s.parser||BD;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var s;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(s=this.backoff)===null||s===void 0||s.setMin(t),this)}randomizationFactor(t){var s;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(s=this.backoff)===null||s===void 0||s.setJitter(t),this)}reconnectionDelayMax(t){var s;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(s=this.backoff)===null||s===void 0||s.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new m_(this.uri,this.opts);const s=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=La(s,"open",function(){n.onopen(),t&&t()}),l=u=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",u),t?t(u):this.maybeReconnectOnOpen()},c=La(s,"error",l);if(this._timeout!==!1){const u=this._timeout,h=this.setTimeoutFn(()=>{i(),l(new Error("timeout")),s.close()},u);this.opts.autoUnref&&h.unref(),this.subs.push(()=>{this.clearTimeoutFn(h)})}return this.subs.push(i),this.subs.push(c),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(La(t,"ping",this.onping.bind(this)),La(t,"data",this.ondata.bind(this)),La(t,"error",this.onerror.bind(this)),La(t,"close",this.onclose.bind(this)),La(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(s){this.onclose("parse error",s)}}ondecoded(t){Ox(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,s){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new p_(this,t,s),this.nsps[t]=n),n}_destroy(t){const s=Object.keys(this.nsps);for(const n of s)if(this.nsps[n].active)return;this._close()}_packet(t){const s=this.encoder.encode(t);for(let n=0;n<s.length;n++)this.engine.write(s[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,s){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},s);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Nd={};function vf(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const s=SD(e,t.path||"/socket.io"),n=s.source,i=s.id,l=s.path,c=Nd[i]&&l in Nd[i].nsps,u=t.forceNew||t["force new connection"]||t.multiplex===!1||c;let h;return u?h=new V0(n,t):(Nd[i]||(Nd[i]=new V0(n,t)),h=Nd[i]),s.query&&!t.query&&(t.query=s.queryKey),h.socket(s.path,t)}Object.assign(vf,{Manager:V0,Socket:p_,io:vf,connect:vf});class zD{constructor(t,s,n,i){ko(this,"socket_port"),ko(this,"host"),ko(this,"port"),ko(this,"protocol"),ko(this,"url"),ko(this,"site_name"),ko(this,"socket");var l,c,u,h;if(this.socket_port=n!=null?n:"9000",this.host=(l=window.location)==null?void 0:l.hostname,this.port=(c=window.location)!=null&&c.port?`:${this.socket_port}`:"",this.protocol=((u=window.location)==null?void 0:u.protocol)==="https:"?"https":"http",t){let f=new URL(t);f.port="",n?(f.port=n,this.url=f.toString()):this.url=f.toString()}else this.url=`${this.protocol}://${this.host}${this.port}/`;s&&(this.url=`${this.url}${s}`),this.site_name=s,this.socket=vf(`${this.url}`,{withCredentials:!0,secure:this.protocol==="https",extraHeaders:i&&i.useToken===!0?{Authorization:`${i.type} ${(h=i.token)==null?void 0:h.call(i)}`}:{}})}}const Zr=N.createContext(null),UD=({url:e="",tokenParams:t,socketPort:s,swrConfig:n,siteName:i,enableSocket:l=!0,children:c,customHeaders:u})=>{const h=N.useMemo(()=>{const f=new v4.FrappeApp(e,t,void 0,u);return{url:e,tokenParams:t,app:f,auth:f.auth(),db:f.db(),call:f.call(),file:f.file(),socket:l?new zD(e,i,s,t).socket:void 0,enableSocket:l,socketPort:s}},[e,t,s,l,u]);return a.jsx(Zr.Provider,{value:h,children:a.jsx(X4,{value:n,children:c})})},Tn=e=>{const{url:t,auth:s,tokenParams:n}=N.useContext(Zr),[i,l]=N.useState(),c=N.useCallback(()=>{const j=document.cookie.split(";").find(v=>v.trim().startsWith("user_id="));if(j){const v=j.split("=")[1];l(v&&v!=="Guest"?v:null)}else l(null)},[]);N.useEffect(()=>{n&&n.useToken?l(null):c()},[]);const{data:u,error:h,isLoading:f,isValidating:g,mutate:p}=im(()=>n&&n.useToken||i?`${t}/api/method/frappe.auth.get_logged_user`:null,()=>s.getLoggedInUser(),z({onError:()=>{l(null)},shouldRetryOnError:!1,revalidateOnFocus:!1},e)),b=N.useCallback(j=>fe(null,null,function*(){return s.loginWithUsernamePassword(j).then(v=>(c(),v))}),[]),y=N.useCallback(()=>fe(null,null,function*(){return s.logout().then(()=>p(null)).then(()=>l(null))}),[]);return{isLoading:i===void 0||f,currentUser:u,isValidating:g,error:h,login:b,logout:y,updateCurrentUser:p,getUserCookie:c}},x_=(e,t,s)=>{let n=`${t}/api/resource/`;return s?n+=`${e}/${s}`:n+=`${e}`,n},kt=(e,t,s,n)=>{const{url:i,db:l}=N.useContext(Zr);return im(s===void 0?x_(e,i,t):s,()=>l.getDoc(e,t),n)},HD=e=>{var i;var t,s;let n="";if(e!=null&&e.fields&&(n+="fields="+JSON.stringify(e==null?void 0:e.fields)+"&"),e!=null&&e.filters&&(n+="filters="+JSON.stringify(e==null?void 0:e.filters)+"&"),e!=null&&e.orFilters&&(n+="or_filters="+JSON.stringify(e==null?void 0:e.orFilters)+"&"),e!=null&&e.limit_start&&(n+="limit_start="+JSON.stringify(e==null?void 0:e.limit_start)+"&"),e!=null&&e.limit&&(n+="limit="+JSON.stringify(e==null?void 0:e.limit)+"&"),e!=null&&e.groupBy&&(n+="group_by="+String(e.groupBy)+"&"),e!=null&&e.orderBy){const l=`${String((t=e.orderBy)==null?void 0:t.field)} ${(i=(s=e.orderBy)==null?void 0:s.order)!=null?i:"asc"}`;n+="order_by="+l+"&"}return e!=null&&e.asDict&&(n+="as_dict="+e.asDict),n},mt=(e,t,s,n)=>{const{url:i,db:l}=N.useContext(Zr);return im(s===void 0?`${x_(e,i)}?${HD(t)}`:s,()=>l.getDocList(e,t),n)},Qi=()=>{const{db:e}=N.useContext(Zr),[t,s]=N.useState(!1),[n,i]=N.useState(null),[l,c]=N.useState(!1),u=N.useCallback(()=>{s(!1),i(null),c(!1)},[]);return{createDoc:N.useCallback((h,f)=>fe(null,null,function*(){return i(null),c(!1),s(!0),e.createDoc(h,f).then(g=>(s(!1),c(!0),g)).catch(g=>{throw s(!1),c(!1),i(g),g})}),[]),loading:t,error:n,isCompleted:l,reset:u}},En=()=>{const{db:e}=N.useContext(Zr),[t,s]=N.useState(!1),[n,i]=N.useState(null),[l,c]=N.useState(!1),u=N.useCallback(()=>{s(!1),i(null),c(!1)},[]);return{updateDoc:N.useCallback((h,f,g)=>fe(null,null,function*(){return i(null),c(!1),s(!0),e.updateDoc(h,f,g).then(p=>(s(!1),c(!0),p)).catch(p=>{throw s(!1),c(!1),i(p),p})}),[]),loading:t,error:n,reset:u,isCompleted:l}},lm=()=>{const{db:e}=N.useContext(Zr),[t,s]=N.useState(!1),[n,i]=N.useState(null),[l,c]=N.useState(!1),u=N.useCallback(()=>{s(!1),i(null),c(!1)},[]);return{deleteDoc:N.useCallback((h,f)=>fe(null,null,function*(){return i(null),c(!1),s(!0),e.deleteDoc(h,f).then(g=>(s(!1),c(!0),g)).catch(g=>{throw s(!1),c(!1),i(g),g})}),[]),loading:t,error:n,reset:u,isCompleted:l}};function $D(e){const t=[];for(let s in e)t.push(encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return t.join("&")}const VD=(e,t,s,n,i="GET")=>{const{call:l}=N.useContext(Zr),c=$D(t!=null?t:{}),u=`${e}?${c}`;return z({},im(s===void 0?u:s,i==="GET"?()=>l.get(e,t):()=>l.post(e,t),n))},$s=e=>{const{call:t}=N.useContext(Zr),[s,n]=N.useState(null),[i,l]=N.useState(!1),[c,u]=N.useState(null),[h,f]=N.useState(!1),g=N.useCallback(()=>{n(null),l(!1),u(null),f(!1)},[]);return{call:N.useCallback(p=>fe(null,null,function*(){return u(null),f(!1),l(!0),n(null),t.post(e,p).then(b=>(n(b),l(!1),f(!0),b)).catch(b=>{throw l(!1),f(!1),u(b),b})}),[]),result:s,loading:i,error:c,reset:g,isCompleted:h}};var ID=(e,t,s,n,i,l,c,u)=>{let h=document.documentElement,f=["light","dark"];function g(y){(Array.isArray(e)?e:[e]).forEach(j=>{let v=j==="class",_=v&&l?i.map(T=>l[T]||T):i;v?(h.classList.remove(..._),h.classList.add(l&&l[y]?l[y]:y)):h.setAttribute(j,y)}),p(y)}function p(y){u&&f.includes(y)&&(h.style.colorScheme=y)}function b(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)g(n);else try{let y=localStorage.getItem(t)||s,j=c&&y==="system"?b():y;g(j)}catch(y){}},Jw=["light","dark"],y_="(prefers-color-scheme: dark)",qD=typeof window=="undefined",Px=N.createContext(void 0),WD={setTheme:e=>{},themes:[]},YD=()=>{var e;return(e=N.useContext(Px))!=null?e:WD},GD=e=>N.useContext(Px)?N.createElement(N.Fragment,null,e.children):N.createElement(KD,z({},e)),XD=["light","dark"],KD=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:s=!0,enableColorScheme:n=!0,storageKey:i="theme",themes:l=XD,defaultTheme:c=s?"system":"light",attribute:u="data-theme",value:h,children:f,nonce:g,scriptProps:p})=>{let[b,y]=N.useState(()=>ZD(i,c)),[j,v]=N.useState(()=>b==="system"?Wp():b),_=h?Object.values(h):l,T=N.useCallback(D=>{let E=D;if(!E)return;D==="system"&&s&&(E=Wp());let L=h?h[E]:E,F=t?JD(g):null,R=document.documentElement,K=W=>{W==="class"?(R.classList.remove(..._),L&&R.classList.add(L)):W.startsWith("data-")&&(L?R.setAttribute(W,L):R.removeAttribute(W))};if(Array.isArray(u)?u.forEach(K):K(u),n){let W=Jw.includes(c)?c:null,Q=Jw.includes(E)?E:W;R.style.colorScheme=Q}F==null||F()},[g]),O=N.useCallback(D=>{let E=typeof D=="function"?D(b):D;y(E);try{localStorage.setItem(i,E)}catch(L){}},[b]),S=N.useCallback(D=>{let E=Wp(D);v(E),b==="system"&&s&&!e&&T("system")},[b,e]);N.useEffect(()=>{let D=window.matchMedia(y_);return D.addListener(S),S(D),()=>D.removeListener(S)},[S]),N.useEffect(()=>{let D=E=>{E.key===i&&(E.newValue?y(E.newValue):O(c))};return window.addEventListener("storage",D),()=>window.removeEventListener("storage",D)},[O]),N.useEffect(()=>{T(e!=null?e:b)},[e,b]);let C=N.useMemo(()=>({theme:b,setTheme:O,forcedTheme:e,resolvedTheme:b==="system"?j:b,themes:s?[...l,"system"]:l,systemTheme:s?j:void 0}),[b,O,e,j,s,l]);return N.createElement(Px.Provider,{value:C},N.createElement(QD,{forcedTheme:e,storageKey:i,attribute:u,enableSystem:s,enableColorScheme:n,defaultTheme:c,value:h,themes:l,nonce:g,scriptProps:p}),f)},QD=N.memo(({forcedTheme:e,storageKey:t,attribute:s,enableSystem:n,enableColorScheme:i,defaultTheme:l,value:c,themes:u,nonce:h,scriptProps:f})=>{let g=JSON.stringify([s,t,l,e,u,c,n,i]).slice(1,-1);return N.createElement("script",oe(z({},f),{suppressHydrationWarning:!0,nonce:typeof window=="undefined"?h:"",dangerouslySetInnerHTML:{__html:`(${ID.toString()})(${g})`}}))}),ZD=(e,t)=>{if(qD)return;let s;try{s=localStorage.getItem(e)||void 0}catch(n){}return s||t},JD=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},Wp=e=>(e||(e=window.matchMedia(y_)),e.matches?"dark":"light");/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var b_=e=>{throw TypeError(e)},eA=(e,t,s)=>t.has(e)||b_("Cannot "+s),Yp=(e,t,s)=>(eA(e,t,"read from private field"),s?s.call(e):t.get(e)),tA=(e,t,s)=>t.has(e)?b_("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),ej="popstate";function sA(e={}){function t(n,i){let{pathname:l,search:c,hash:u}=n.location;return Kd("",{pathname:l,search:c,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(n,i){return typeof i=="string"?i:zi(i)}return aA(t,s,null,e)}function $t(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function qs(e,t){if(!e){typeof console!="undefined"&&console.warn(t);try{throw new Error(t)}catch(s){}}}function nA(){return Math.random().toString(36).substring(2,10)}function tj(e,t){return{usr:e.state,key:e.key,idx:t}}function Kd(e,t,s=null,n){return oe(z({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Zi(t):t),{state:s,key:t&&t.key||n||nA()})}function zi({pathname:e="/",search:t="",hash:s=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Zi(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substring(s),e=e.substring(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function aA(e,t,s,n={}){let{window:i=document.defaultView,v5Compat:l=!1}=n,c=i.history,u="POP",h=null,f=g();f==null&&(f=0,c.replaceState(oe(z({},c.state),{idx:f}),""));function g(){return(c.state||{idx:null}).idx}function p(){u="POP";let _=g(),T=_==null?null:_-f;f=_,h&&h({action:u,location:v.location,delta:T})}function b(_,T){u="PUSH";let O=Kd(v.location,_,T);f=g()+1;let S=tj(O,f),C=v.createHref(O);try{c.pushState(S,"",C)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(C)}l&&h&&h({action:u,location:v.location,delta:1})}function y(_,T){u="REPLACE";let O=Kd(v.location,_,T);f=g();let S=tj(O,f),C=v.createHref(O);c.replaceState(S,"",C),l&&h&&h({action:u,location:v.location,delta:0})}function j(_){return v_(_)}let v={get action(){return u},get location(){return e(i,c)},listen(_){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(ej,p),h=_,()=>{i.removeEventListener(ej,p),h=null}},createHref(_){return t(i,_)},createURL:j,encodeLocation(_){let T=j(_);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:b,replace:y,go(_){return c.go(_)}};return v}function v_(e,t=!1){let s="http://localhost";typeof window!="undefined"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),$t(s,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:zi(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=s+n),new URL(n,s)}var Fd,sj=class{constructor(e){if(tA(this,Fd,new Map),e)for(let[t,s]of e)this.set(t,s)}get(e){if(Yp(this,Fd).has(e))return Yp(this,Fd).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){Yp(this,Fd).set(e,t)}};Fd=new WeakMap;var rA=new Set(["lazy","caseSensitive","path","id","index","children"]);function iA(e){return rA.has(e)}var oA=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function lA(e){return oA.has(e)}function cA(e){return e.index===!0}function Qd(e,t,s=[],n={},i=!1){return e.map((l,c)=>{let u=[...s,String(c)],h=typeof l.id=="string"?l.id:u.join("-");if($t(l.index!==!0||!l.children,"Cannot specify children on an index route"),$t(i||!n[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),cA(l)){let f=oe(z(z({},l),t(l)),{id:h});return n[h]=f,f}else{let f=oe(z(z({},l),t(l)),{id:h,children:void 0});return n[h]=f,l.children&&(f.children=Qd(l.children,t,u,n,i)),f}})}function Oi(e,t,s="/"){return wf(e,t,s,!1)}function wf(e,t,s,n){let i=typeof t=="string"?Zi(t):t,l=_a(i.pathname||"/",s);if(l==null)return null;let c=w_(e);uA(c);let u=null;for(let h=0;u==null&&h<c.length;++h){let f=jA(l);u=vA(c[h],f,n)}return u}function dA(e,t){let{route:s,pathname:n,params:i}=e;return{id:s.id,pathname:n,params:i,data:t[s.id],handle:s.handle}}function w_(e,t=[],s=[],n=""){let i=(l,c,u)=>{let h={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};h.relativePath.startsWith("/")&&($t(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length));let f=hr([n,h.relativePath]),g=s.concat(h);l.children&&l.children.length>0&&($t(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),w_(l.children,t,g,f)),!(l.path==null&&!l.index)&&t.push({path:f,score:yA(f,l.index),routesMeta:g})};return e.forEach((l,c)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))i(l,c);else for(let h of j_(l.path))i(l,c,h)}),t}function j_(e){let t=e.split("/");if(t.length===0)return[];let[s,...n]=t,i=s.endsWith("?"),l=s.replace(/\?$/,"");if(n.length===0)return i?[l,""]:[l];let c=j_(n.join("/")),u=[];return u.push(...c.map(h=>h===""?l:[l,h].join("/"))),i&&u.push(...c),u.map(h=>e.startsWith("/")&&h===""?"/":h)}function uA(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:bA(t.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}var hA=/^:[\w-]+$/,fA=3,mA=2,gA=1,pA=10,xA=-2,nj=e=>e==="*";function yA(e,t){let s=e.split("/"),n=s.length;return s.some(nj)&&(n+=xA),t&&(n+=mA),s.filter(i=>!nj(i)).reduce((i,l)=>i+(hA.test(l)?fA:l===""?gA:pA),n)}function bA(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function vA(e,t,s=!1){let{routesMeta:n}=e,i={},l="/",c=[];for(let u=0;u<n.length;++u){let h=n[u],f=u===n.length-1,g=l==="/"?t:t.slice(l.length)||"/",p=Rf({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},g),b=h.route;if(!p&&f&&s&&!n[n.length-1].route.index&&(p=Rf({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!p)return null;Object.assign(i,p.params),c.push({params:i,pathname:hr([l,p.pathname]),pathnameBase:SA(hr([l,p.pathnameBase])),route:b}),p.pathnameBase!=="/"&&(l=hr([l,p.pathnameBase]))}return c}function Rf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=wA(e.path,e.caseSensitive,e.end),i=t.match(s);if(!i)return null;let l=i[0],c=l.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((f,{paramName:g,isOptional:p},b)=>{if(g==="*"){let j=u[b]||"";c=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const y=u[b];return p&&!y?f[g]=void 0:f[g]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:l,pathnameBase:c,pattern:e}}function wA(e,t=!1,s=!0){qs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,h)=>(n.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function jA(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qs(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function _a(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&n!=="/"?null:e.slice(s)||"/"}function NA({basename:e,pathname:t}){return t==="/"?e:hr([e,t])}function _A(e,t="/"){let{pathname:s,search:n="",hash:i=""}=typeof e=="string"?Zi(e):e;return{pathname:s?s.startsWith("/")?s:TA(s,t):t,search:kA(n),hash:CA(i)}}function TA(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function Gp(e,t,s,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function N_(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Lx(e){let t=N_(e);return t.map((s,n)=>n===t.length-1?s.pathname:s.pathnameBase)}function Bx(e,t,s,n=!1){let i;typeof e=="string"?i=Zi(e):(i=z({},e),$t(!i.pathname||!i.pathname.includes("?"),Gp("?","pathname","search",i)),$t(!i.pathname||!i.pathname.includes("#"),Gp("#","pathname","hash",i)),$t(!i.search||!i.search.includes("#"),Gp("#","search","hash",i)));let l=e===""||i.pathname==="",c=l?"/":i.pathname,u;if(c==null)u=s;else{let p=t.length-1;if(!n&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),p-=1;i.pathname=b.join("/")}u=p>=0?t[p]:"/"}let h=_A(i,u),f=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&s.endsWith("/");return!h.pathname.endsWith("/")&&(f||g)&&(h.pathname+="/"),h}var hr=e=>e.join("/").replace(/\/\/+/g,"/"),SA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),kA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,CA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Pf=class{constructor(e,t,s,n=!1){this.status=e,this.statusText=t||"",this.internal=n,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function Zd(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var __=["POST","PUT","PATCH","DELETE"],EA=new Set(__),DA=["GET",...__],AA=new Set(DA),OA=new Set([301,302,303,307,308]),MA=new Set([307,308]),Xp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},RA={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},_d={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},PA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fx=e=>PA.test(e),LA=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),T_="remix-router-transitions",S_=Symbol("ResetLoaderData");function BA(e){const t=e.window?e.window:typeof window!="undefined"?window:void 0,s=typeof t!="undefined"&&typeof t.document!="undefined"&&typeof t.document.createElement!="undefined";$t(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=e.hydrationRouteProperties||[],i=e.mapRouteProperties||LA,l={},c=Qd(e.routes,i,void 0,l),u,h=e.basename||"/",f=e.dataStrategy||$A,g=z({unstable_middleware:!1},e.future),p=null,b=new Set,y=null,j=null,v=null,_=e.hydrationData!=null,T=Oi(c,e.history.location,h),O=!1,S=null,C;if(T==null&&!e.patchRoutesOnNavigation){let te=ya(404,{pathname:e.history.location.pathname}),{matches:ie,route:pe}=gj(c);C=!0,T=ie,S={[pe.id]:te}}else if(T&&!e.hydrationData&&bt(T,c,e.history.location.pathname).active&&(T=null),T)if(T.some(te=>te.route.lazy))C=!1;else if(!T.some(te=>te.route.loader))C=!0;else{let te=e.hydrationData?e.hydrationData.loaderData:null,ie=e.hydrationData?e.hydrationData.errors:null;if(ie){let pe=T.findIndex(Se=>ie[Se.route.id]!==void 0);C=T.slice(0,pe+1).every(Se=>!q0(Se.route,te,ie))}else C=T.every(pe=>!q0(pe.route,te,ie))}else{C=!1,T=[];let te=bt(null,c,e.history.location.pathname);te.active&&te.matches&&(O=!0,T=te.matches)}let D,E={historyAction:e.history.action,location:e.history.location,matches:T,initialized:C,navigation:Xp,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||S,fetchers:new Map,blockers:new Map},L="POP",F=!1,R,K=!1,W=new Map,Q=null,H=!1,q=!1,Y=new Set,$=new Map,J=0,se=-1,Ne=new Map,P=new Set,ne=new Map,ge=new Map,G=new Set,re=new Map,_e,me=null;function Le(){if(p=e.history.listen(({action:te,location:ie,delta:pe})=>{if(_e){_e(),_e=void 0;return}qs(re.size===0||pe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Se=xn({currentLocation:E.location,nextLocation:ie,historyAction:te});if(Se&&pe!=null){let Fe=new Promise(Ke=>{_e=Ke});e.history.go(pe*-1),Qs(Se,{state:"blocked",location:ie,proceed(){Qs(Se,{state:"proceeding",proceed:void 0,reset:void 0,location:ie}),Fe.then(()=>e.history.go(pe))},reset(){let Ke=new Map(E.blockers);Ke.set(Se,_d),X({blockers:Ke})}});return}return tt(te,ie)}),s){JA(t,W);let te=()=>eO(t,W);t.addEventListener("pagehide",te),Q=()=>t.removeEventListener("pagehide",te)}return E.initialized||tt("POP",E.location,{initialHydration:!0}),D}function we(){p&&p(),Q&&Q(),b.clear(),R&&R.abort(),E.fetchers.forEach((te,ie)=>Nt(ie)),E.blockers.forEach((te,ie)=>ds(ie))}function Ee(te){return b.add(te),()=>b.delete(te)}function X(te,ie={}){te.matches&&(te.matches=te.matches.map(Fe=>{let Ke=l[Fe.route.id],nt=Fe.route;return nt.element!==Ke.element||nt.errorElement!==Ke.errorElement||nt.hydrateFallbackElement!==Ke.hydrateFallbackElement?oe(z({},Fe),{route:Ke}):Fe})),E=z(z({},E),te);let pe=[],Se=[];E.fetchers.forEach((Fe,Ke)=>{Fe.state==="idle"&&(G.has(Ke)?pe.push(Ke):Se.push(Ke))}),G.forEach(Fe=>{!E.fetchers.has(Fe)&&!$.has(Fe)&&pe.push(Fe)}),[...b].forEach(Fe=>Fe(E,{deletedFetchers:pe,viewTransitionOpts:ie.viewTransitionOpts,flushSync:ie.flushSync===!0})),pe.forEach(Fe=>Nt(Fe)),Se.forEach(Fe=>E.fetchers.delete(Fe))}function Oe(te,ie,{flushSync:pe}={}){var dt,Tt;let Se=E.actionData!=null&&E.navigation.formMethod!=null&&$n(E.navigation.formMethod)&&E.navigation.state==="loading"&&((dt=te.state)==null?void 0:dt._isRedirect)!==!0,Fe;ie.actionData?Object.keys(ie.actionData).length>0?Fe=ie.actionData:Fe=null:Se?Fe=E.actionData:Fe=null;let Ke=ie.loaderData?fj(E.loaderData,ie.loaderData,ie.matches||[],ie.errors):E.loaderData,nt=E.blockers;nt.size>0&&(nt=new Map(nt),nt.forEach((At,us)=>nt.set(us,_d)));let ot=H?!1:wr(te,ie.matches||E.matches),pt=F===!0||E.navigation.formMethod!=null&&$n(E.navigation.formMethod)&&((Tt=te.state)==null?void 0:Tt._isRedirect)!==!0;u&&(c=u,u=void 0),H||L==="POP"||(L==="PUSH"?e.history.push(te,te.state):L==="REPLACE"&&e.history.replace(te,te.state));let Ot;if(L==="POP"){let At=W.get(E.location.pathname);At&&At.has(te.pathname)?Ot={currentLocation:E.location,nextLocation:te}:W.has(te.pathname)&&(Ot={currentLocation:te,nextLocation:E.location})}else if(K){let At=W.get(E.location.pathname);At?At.add(te.pathname):(At=new Set([te.pathname]),W.set(E.location.pathname,At)),Ot={currentLocation:E.location,nextLocation:te}}X(oe(z({},ie),{actionData:Fe,loaderData:Ke,historyAction:L,location:te,initialized:!0,navigation:Xp,revalidation:"idle",restoreScrollPosition:ot,preventScrollReset:pt,blockers:nt}),{viewTransitionOpts:Ot,flushSync:pe===!0}),L="POP",F=!1,K=!1,H=!1,q=!1,me==null||me.resolve(),me=null}function He(te,ie){return fe(this,null,function*(){if(typeof te=="number"){e.history.go(te);return}let pe=I0(E.location,E.matches,h,te,ie==null?void 0:ie.fromRouteId,ie==null?void 0:ie.relative),{path:Se,submission:Fe,error:Ke}=aj(!1,pe,ie),nt=E.location,ot=Kd(E.location,Se,ie&&ie.state);ot=z(z({},ot),e.history.encodeLocation(ot));let pt=ie&&ie.replace!=null?ie.replace:void 0,Ot="PUSH";pt===!0?Ot="REPLACE":pt===!1||Fe!=null&&$n(Fe.formMethod)&&Fe.formAction===E.location.pathname+E.location.search&&(Ot="REPLACE");let dt=ie&&"preventScrollReset"in ie?ie.preventScrollReset===!0:void 0,Tt=(ie&&ie.flushSync)===!0,At=xn({currentLocation:nt,nextLocation:ot,historyAction:Ot});if(At){Qs(At,{state:"blocked",location:ot,proceed(){Qs(At,{state:"proceeding",proceed:void 0,reset:void 0,location:ot}),He(te,ie)},reset(){let us=new Map(E.blockers);us.set(At,_d),X({blockers:us})}});return}yield tt(Ot,ot,{submission:Fe,pendingError:Ke,preventScrollReset:dt,replace:ie&&ie.replace,enableViewTransition:ie&&ie.viewTransition,flushSync:Tt})})}function Ye(){me||(me=tO()),Re(),X({revalidation:"loading"});let te=me.promise;return E.navigation.state==="submitting"?te:E.navigation.state==="idle"?(tt(E.historyAction,E.location,{startUninterruptedRevalidation:!0}),te):(tt(L||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation,enableViewTransition:K===!0}),te)}function tt(te,ie,pe){return fe(this,null,function*(){R&&R.abort(),R=null,L=te,H=(pe&&pe.startUninterruptedRevalidation)===!0,ra(E.location,E.matches),F=(pe&&pe.preventScrollReset)===!0,K=(pe&&pe.enableViewTransition)===!0;let Se=u||c,Fe=pe&&pe.overrideNavigation,Ke=pe!=null&&pe.initialHydration&&E.matches&&E.matches.length>0&&!O?E.matches:Oi(Se,ie,h),nt=(pe&&pe.flushSync)===!0;if(Ke&&E.initialized&&!q&&GA(E.location,ie)&&!(pe&&pe.submission&&$n(pe.submission.formMethod))){Oe(ie,{matches:Ke},{flushSync:nt});return}let ot=bt(Ke,Se,ie.pathname);if(ot.active&&ot.matches&&(Ke=ot.matches),!Ke){let{error:as,notFoundMatches:ut,route:Ct}=Zs(ie.pathname);Oe(ie,{matches:ut,loaderData:{},errors:{[Ct.id]:as}},{flushSync:nt});return}R=new AbortController;let pt=Wl(e.history,ie,R.signal,pe&&pe.submission),Ot=new sj(e.unstable_getContext?yield e.unstable_getContext():void 0),dt;if(pe&&pe.pendingError)dt=[Ro(Ke).route.id,{type:"error",error:pe.pendingError}];else if(pe&&pe.submission&&$n(pe.submission.formMethod)){let as=yield gt(pt,ie,pe.submission,Ke,Ot,ot.active,pe&&pe.initialHydration===!0,{replace:pe.replace,flushSync:nt});if(as.shortCircuited)return;if(as.pendingActionResult){let[ut,Ct]=as.pendingActionResult;if(Jn(Ct)&&Zd(Ct.error)&&Ct.error.status===404){R=null,Oe(ie,{matches:as.matches,loaderData:{},errors:{[ut]:Ct.error}});return}}Ke=as.matches||Ke,dt=as.pendingActionResult,Fe=Kp(ie,pe.submission),nt=!1,ot.active=!1,pt=Wl(e.history,pt.url,pt.signal)}let{shortCircuited:Tt,matches:At,loaderData:us,errors:_s}=yield Dt(pt,ie,Ke,Ot,ot.active,Fe,pe&&pe.submission,pe&&pe.fetcherSubmission,pe&&pe.replace,pe&&pe.initialHydration===!0,nt,dt);Tt||(R=null,Oe(ie,oe(z({matches:At||Ke},mj(dt)),{loaderData:us,errors:_s})))})}function gt(pt,Ot,dt,Tt,At,us,_s){return fe(this,arguments,function*(te,ie,pe,Se,Fe,Ke,nt,ot={}){Re();let as=QA(ie,pe);if(X({navigation:as},{flushSync:ot.flushSync===!0}),Ke){let Wt=yield Qt(Se,ie.pathname,te.signal);if(Wt.type==="aborted")return{shortCircuited:!0};if(Wt.type==="error"){let bs=Ro(Wt.partialMatches).route.id;return{matches:Wt.partialMatches,pendingActionResult:[bs,{type:"error",error:Wt.error}]}}else if(Wt.matches)Se=Wt.matches;else{let{notFoundMatches:bs,error:Ts,route:Ws}=Zs(ie.pathname);return{matches:bs,pendingActionResult:[Ws.id,{type:"error",error:Ts}]}}}let ut,Ct=jf(Se,ie);if(!Ct.route.action&&!Ct.route.lazy)ut={type:"error",error:ya(405,{method:te.method,pathname:ie.pathname,routeId:Ct.route.id})};else{let Wt=Zl(i,l,te,Se,Ct,nt?[]:n,Fe),bs=yield Te(te,Wt,Fe,null);if(ut=bs[Ct.route.id],!ut){for(let Ts of Se)if(bs[Ts.route.id]){ut=bs[Ts.route.id];break}}if(te.signal.aborted)return{shortCircuited:!0}}if(Fo(ut)){let Wt;return ot&&ot.replace!=null?Wt=ot.replace:Wt=dj(ut.response.headers.get("Location"),new URL(te.url),h)===E.location.pathname+E.location.search,yield V(te,ut,!0,{submission:pe,replace:Wt}),{shortCircuited:!0}}if(Jn(ut)){let Wt=Ro(Se,Ct.route.id);return(ot&&ot.replace)!==!0&&(L="PUSH"),{matches:Se,pendingActionResult:[Wt.route.id,ut,Ct.route.id]}}return{matches:Se,pendingActionResult:[Ct.route.id,ut]}})}function Dt(te,ie,pe,Se,Fe,Ke,nt,ot,pt,Ot,dt,Tt){return fe(this,null,function*(){let At=Ke||Kp(ie,nt),us=nt||ot||xj(At),_s=!H&&!Ot;if(Fe){if(_s){let Ss=De(Tt);X(z({navigation:At},Ss!==void 0?{actionData:Ss}:{}),{flushSync:dt})}let Rt=yield Qt(pe,ie.pathname,te.signal);if(Rt.type==="aborted")return{shortCircuited:!0};if(Rt.type==="error"){let Ss=Ro(Rt.partialMatches).route.id;return{matches:Rt.partialMatches,loaderData:{},errors:{[Ss]:Rt.error}}}else if(Rt.matches)pe=Rt.matches;else{let{error:Ss,notFoundMatches:jr,route:on}=Zs(ie.pathname);return{matches:jr,loaderData:{},errors:{[on.id]:Ss}}}}let as=u||c,{dsMatches:ut,revalidatingFetchers:Ct}=rj(te,Se,i,l,e.history,E,pe,us,ie,Ot?[]:n,Ot===!0,q,Y,G,ne,P,as,h,e.patchRoutesOnNavigation!=null,Tt);if(se=++J,!e.dataStrategy&&!ut.some(Rt=>Rt.shouldLoad)&&Ct.length===0){let Rt=Xe();return Oe(ie,z(z({matches:pe,loaderData:{},errors:Tt&&Jn(Tt[1])?{[Tt[0]]:Tt[1].error}:null},mj(Tt)),Rt?{fetchers:new Map(E.fetchers)}:{}),{flushSync:dt}),{shortCircuited:!0}}if(_s){let Rt={};if(!Fe){Rt.navigation=At;let Ss=De(Tt);Ss!==void 0&&(Rt.actionData=Ss)}Ct.length>0&&(Rt.fetchers=Ue(Ct)),X(Rt,{flushSync:dt})}Ct.forEach(Rt=>{ze(Rt.key),Rt.controller&&$.set(Rt.key,Rt.controller)});let Wt=()=>Ct.forEach(Rt=>ze(Rt.key));R&&R.signal.addEventListener("abort",Wt);let{loaderResults:bs,fetcherResults:Ts}=yield Be(ut,Ct,te,Se);if(te.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",Wt),Ct.forEach(Rt=>$.delete(Rt.key));let Ws=zh(bs);if(Ws)return yield V(te,Ws.result,!0,{replace:pt}),{shortCircuited:!0};if(Ws=zh(Ts),Ws)return P.add(Ws.key),yield V(te,Ws.result,!0,{replace:pt}),{shortCircuited:!0};let{loaderData:Js,errors:ia}=hj(E,pe,bs,Tt,Ct,Ts);Ot&&E.errors&&(ia=z(z({},E.errors),ia));let oa=Xe(),yn=Bt(se),la=oa||yn||Ct.length>0;return z({matches:pe,loaderData:Js,errors:ia},la?{fetchers:new Map(E.fetchers)}:{})})}function De(te){if(te&&!Jn(te[1]))return{[te[0]]:te[1].data};if(E.actionData)return Object.keys(E.actionData).length===0?null:E.actionData}function Ue(te){return te.forEach(ie=>{let pe=E.fetchers.get(ie.key),Se=Td(void 0,pe?pe.data:void 0);E.fetchers.set(ie.key,Se)}),new Map(E.fetchers)}function Pe(te,ie,pe,Se){return fe(this,null,function*(){ze(te);let Fe=(Se&&Se.flushSync)===!0,Ke=u||c,nt=I0(E.location,E.matches,h,pe,ie,Se==null?void 0:Se.relative),ot=Oi(Ke,nt,h),pt=bt(ot,Ke,nt);if(pt.active&&pt.matches&&(ot=pt.matches),!ot){Ge(te,ie,ya(404,{pathname:nt}),{flushSync:Fe});return}let{path:Ot,submission:dt,error:Tt}=aj(!0,nt,Se);if(Tt){Ge(te,ie,Tt,{flushSync:Fe});return}let At=new sj(e.unstable_getContext?yield e.unstable_getContext():void 0),us=(Se&&Se.preventScrollReset)===!0;if(dt&&$n(dt.formMethod)){yield Z(te,ie,Ot,ot,At,pt.active,Fe,us,dt);return}ne.set(te,{routeId:ie,path:Ot}),yield le(te,ie,Ot,ot,At,pt.active,Fe,us,dt)})}function Z(te,ie,pe,Se,Fe,Ke,nt,ot,pt){return fe(this,null,function*(){Re(),ne.delete(te);let Ot=E.fetchers.get(te);Ve(te,ZA(pt,Ot),{flushSync:nt});let dt=new AbortController,Tt=Wl(e.history,pe,dt.signal,pt);if(Ke){let ms=yield Qt(Se,new URL(Tt.url).pathname,Tt.signal,te);if(ms.type==="aborted")return;if(ms.type==="error"){Ge(te,ie,ms.error,{flushSync:nt});return}else if(ms.matches)Se=ms.matches;else{Ge(te,ie,ya(404,{pathname:pe}),{flushSync:nt});return}}let At=jf(Se,pe);if(!At.route.action&&!At.route.lazy){let ms=ya(405,{method:pt.formMethod,pathname:pe,routeId:ie});Ge(te,ie,ms,{flushSync:nt});return}$.set(te,dt);let us=J,_s=Zl(i,l,Tt,Se,At,n,Fe),ut=(yield Te(Tt,_s,Fe,te))[At.route.id];if(Tt.signal.aborted){$.get(te)===dt&&$.delete(te);return}if(G.has(te)){if(Fo(ut)||Jn(ut)){Ve(te,Ci(void 0));return}}else{if(Fo(ut))if($.delete(te),se>us){Ve(te,Ci(void 0));return}else return P.add(te),Ve(te,Td(pt)),V(Tt,ut,!1,{fetcherSubmission:pt,preventScrollReset:ot});if(Jn(ut)){Ge(te,ie,ut.error);return}}let Ct=E.navigation.location||E.location,Wt=Wl(e.history,Ct,dt.signal),bs=u||c,Ts=E.navigation.state!=="idle"?Oi(bs,E.navigation.location,h):E.matches;$t(Ts,"Didn't find any matches after fetcher action");let Ws=++J;Ne.set(te,Ws);let Js=Td(pt,ut.data);E.fetchers.set(te,Js);let{dsMatches:ia,revalidatingFetchers:oa}=rj(Wt,Fe,i,l,e.history,E,Ts,pt,Ct,n,!1,q,Y,G,ne,P,bs,h,e.patchRoutesOnNavigation!=null,[At.route.id,ut]);oa.filter(ms=>ms.key!==te).forEach(ms=>{let ka=ms.key,Qo=E.fetchers.get(ka),Zo=Td(void 0,Qo?Qo.data:void 0);E.fetchers.set(ka,Zo),ze(ka),ms.controller&&$.set(ka,ms.controller)}),X({fetchers:new Map(E.fetchers)});let yn=()=>oa.forEach(ms=>ze(ms.key));dt.signal.addEventListener("abort",yn);let{loaderResults:la,fetcherResults:Rt}=yield Be(ia,oa,Wt,Fe);if(dt.signal.aborted)return;if(dt.signal.removeEventListener("abort",yn),Ne.delete(te),$.delete(te),oa.forEach(ms=>$.delete(ms.key)),E.fetchers.has(te)){let ms=Ci(ut.data);E.fetchers.set(te,ms)}let Ss=zh(la);if(Ss)return V(Wt,Ss.result,!1,{preventScrollReset:ot});if(Ss=zh(Rt),Ss)return P.add(Ss.key),V(Wt,Ss.result,!1,{preventScrollReset:ot});let{loaderData:jr,errors:on}=hj(E,Ts,la,void 0,oa,Rt);Bt(Ws),E.navigation.state==="loading"&&Ws>se?($t(L,"Expected pending action"),R&&R.abort(),Oe(E.navigation.location,{matches:Ts,loaderData:jr,errors:on,fetchers:new Map(E.fetchers)})):(X({errors:on,loaderData:fj(E.loaderData,jr,Ts,on),fetchers:new Map(E.fetchers)}),q=!1)})}function le(te,ie,pe,Se,Fe,Ke,nt,ot,pt){return fe(this,null,function*(){let Ot=E.fetchers.get(te);Ve(te,Td(pt,Ot?Ot.data:void 0),{flushSync:nt});let dt=new AbortController,Tt=Wl(e.history,pe,dt.signal);if(Ke){let Ct=yield Qt(Se,new URL(Tt.url).pathname,Tt.signal,te);if(Ct.type==="aborted")return;if(Ct.type==="error"){Ge(te,ie,Ct.error,{flushSync:nt});return}else if(Ct.matches)Se=Ct.matches;else{Ge(te,ie,ya(404,{pathname:pe}),{flushSync:nt});return}}let At=jf(Se,pe);$.set(te,dt);let us=J,_s=Zl(i,l,Tt,Se,At,n,Fe),ut=(yield Te(Tt,_s,Fe,te))[At.route.id];if($.get(te)===dt&&$.delete(te),!Tt.signal.aborted){if(G.has(te)){Ve(te,Ci(void 0));return}if(Fo(ut))if(se>us){Ve(te,Ci(void 0));return}else{P.add(te),yield V(Tt,ut,!1,{preventScrollReset:ot});return}if(Jn(ut)){Ge(te,ie,ut.error);return}Ve(te,Ci(ut.data))}})}function V(ot,pt,Ot){return fe(this,arguments,function*(te,ie,pe,{submission:Se,fetcherSubmission:Fe,preventScrollReset:Ke,replace:nt}={}){ie.response.headers.has("X-Remix-Revalidate")&&(q=!0);let dt=ie.response.headers.get("Location");$t(dt,"Expected a Location header on the redirect Response"),dt=dj(dt,new URL(te.url),h);let Tt=Kd(E.location,dt,{_isRedirect:!0});if(s){let Ct=!1;if(ie.response.headers.has("X-Remix-Reload-Document"))Ct=!0;else if(Fx(dt)){const Wt=v_(dt,!0);Ct=Wt.origin!==t.location.origin||_a(Wt.pathname,h)==null}if(Ct){nt?t.location.replace(dt):t.location.assign(dt);return}}R=null;let At=nt===!0||ie.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:us,formAction:_s,formEncType:as}=E.navigation;!Se&&!Fe&&us&&_s&&as&&(Se=xj(E.navigation));let ut=Se||Fe;if(MA.has(ie.response.status)&&ut&&$n(ut.formMethod))yield tt(At,Tt,{submission:oe(z({},ut),{formAction:dt}),preventScrollReset:Ke||F,enableViewTransition:pe?K:void 0});else{let Ct=Kp(Tt,Se);yield tt(At,Tt,{overrideNavigation:Ct,fetcherSubmission:Fe,preventScrollReset:Ke||F,enableViewTransition:pe?K:void 0})}})}function Te(te,ie,pe,Se){return fe(this,null,function*(){let Fe,Ke={};try{Fe=yield VA(f,te,ie,Se,pe,!1)}catch(nt){return ie.filter(ot=>ot.shouldLoad).forEach(ot=>{Ke[ot.route.id]={type:"error",error:nt}}),Ke}if(te.signal.aborted)return Ke;for(let[nt,ot]of Object.entries(Fe))if(XA(ot)){let pt=ot.result;Ke[nt]={type:"redirect",response:WA(pt,te,nt,ie,h)}}else Ke[nt]=yield qA(ot);return Ke})}function Be(te,ie,pe,Se){return fe(this,null,function*(){let Fe=Te(pe,te,Se,null),Ke=Promise.all(ie.map(pt=>fe(null,null,function*(){if(pt.matches&&pt.match&&pt.request&&pt.controller){let dt=(yield Te(pt.request,pt.matches,Se,pt.key))[pt.match.route.id];return{[pt.key]:dt}}else return Promise.resolve({[pt.key]:{type:"error",error:ya(404,{pathname:pt.path})}})}))),nt=yield Fe,ot=(yield Ke).reduce((pt,Ot)=>Object.assign(pt,Ot),{});return{loaderResults:nt,fetcherResults:ot}})}function Re(){q=!0,ne.forEach((te,ie)=>{$.has(ie)&&Y.add(ie),ze(ie)})}function Ve(te,ie,pe={}){E.fetchers.set(te,ie),X({fetchers:new Map(E.fetchers)},{flushSync:(pe&&pe.flushSync)===!0})}function Ge(te,ie,pe,Se={}){let Fe=Ro(E.matches,ie);Nt(te),X({errors:{[Fe.route.id]:pe},fetchers:new Map(E.fetchers)},{flushSync:(Se&&Se.flushSync)===!0})}function st(te){return ge.set(te,(ge.get(te)||0)+1),G.has(te)&&G.delete(te),E.fetchers.get(te)||RA}function Nt(te){let ie=E.fetchers.get(te);$.has(te)&&!(ie&&ie.state==="loading"&&Ne.has(te))&&ze(te),ne.delete(te),Ne.delete(te),P.delete(te),G.delete(te),Y.delete(te),E.fetchers.delete(te)}function ke(te){let ie=(ge.get(te)||0)-1;ie<=0?(ge.delete(te),G.add(te)):ge.set(te,ie),X({fetchers:new Map(E.fetchers)})}function ze(te){let ie=$.get(te);ie&&(ie.abort(),$.delete(te))}function Ze(te){for(let ie of te){let pe=st(ie),Se=Ci(pe.data);E.fetchers.set(ie,Se)}}function Xe(){let te=[],ie=!1;for(let pe of P){let Se=E.fetchers.get(pe);$t(Se,`Expected fetcher: ${pe}`),Se.state==="loading"&&(P.delete(pe),te.push(pe),ie=!0)}return Ze(te),ie}function Bt(te){let ie=[];for(let[pe,Se]of Ne)if(Se<te){let Fe=E.fetchers.get(pe);$t(Fe,`Expected fetcher: ${pe}`),Fe.state==="loading"&&(ze(pe),Ne.delete(pe),ie.push(pe))}return Ze(ie),ie.length>0}function It(te,ie){let pe=E.blockers.get(te)||_d;return re.get(te)!==ie&&re.set(te,ie),pe}function ds(te){E.blockers.delete(te),re.delete(te)}function Qs(te,ie){let pe=E.blockers.get(te)||_d;$t(pe.state==="unblocked"&&ie.state==="blocked"||pe.state==="blocked"&&ie.state==="blocked"||pe.state==="blocked"&&ie.state==="proceeding"||pe.state==="blocked"&&ie.state==="unblocked"||pe.state==="proceeding"&&ie.state==="unblocked",`Invalid blocker state transition: ${pe.state} -> ${ie.state}`);let Se=new Map(E.blockers);Se.set(te,ie),X({blockers:Se})}function xn({currentLocation:te,nextLocation:ie,historyAction:pe}){if(re.size===0)return;re.size>1&&qs(!1,"A router only supports one blocker at a time");let Se=Array.from(re.entries()),[Fe,Ke]=Se[Se.length-1],nt=E.blockers.get(Fe);if(!(nt&&nt.state==="proceeding")&&Ke({currentLocation:te,nextLocation:ie,historyAction:pe}))return Fe}function Zs(te){let ie=ya(404,{pathname:te}),pe=u||c,{matches:Se,route:Fe}=gj(pe);return{notFoundMatches:Se,route:Fe,error:ie}}function vr(te,ie,pe){if(y=te,v=ie,j=pe||null,!_&&E.navigation===Xp){_=!0;let Se=wr(E.location,E.matches);Se!=null&&X({restoreScrollPosition:Se})}return()=>{y=null,v=null,j=null}}function Wa(te,ie){return j&&j(te,ie.map(Se=>dA(Se,E.loaderData)))||te.key}function ra(te,ie){if(y&&v){let pe=Wa(te,ie);y[pe]=v()}}function wr(te,ie){if(y){let pe=Wa(te,ie),Se=y[pe];if(typeof Se=="number")return Se}return null}function bt(te,ie,pe){if(e.patchRoutesOnNavigation)if(te){if(Object.keys(te[0].params).length>0)return{active:!0,matches:wf(ie,pe,h,!0)}}else return{active:!0,matches:wf(ie,pe,h,!0)||[]};return{active:!1,matches:null}}function Qt(te,ie,pe,Se){return fe(this,null,function*(){if(!e.patchRoutesOnNavigation)return{type:"success",matches:te};let Fe=te;for(;;){let Ke=u==null,nt=u||c,ot=l;try{yield e.patchRoutesOnNavigation({signal:pe,path:ie,matches:Fe,fetcherKey:Se,patch:(dt,Tt)=>{pe.aborted||ij(dt,Tt,nt,ot,i,!1)}})}catch(dt){return{type:"error",error:dt,partialMatches:Fe}}finally{Ke&&!pe.aborted&&(c=[...c])}if(pe.aborted)return{type:"aborted"};let pt=Oi(nt,ie,h);if(pt)return{type:"success",matches:pt};let Ot=wf(nt,ie,h,!0);if(!Ot||Fe.length===Ot.length&&Fe.every((dt,Tt)=>dt.route.id===Ot[Tt].route.id))return{type:"success",matches:null};Fe=Ot}})}function fs(te){l={},u=Qd(te,i,void 0,l)}function Os(te,ie,pe=!1){let Se=u==null;ij(te,ie,u||c,l,i,pe),Se&&(c=[...c],X({}))}return D={get basename(){return h},get future(){return g},get state(){return E},get routes(){return c},get window(){return t},initialize:Le,subscribe:Ee,enableScrollRestoration:vr,navigate:He,fetch:Pe,revalidate:Ye,createHref:te=>e.history.createHref(te),encodeLocation:te=>e.history.encodeLocation(te),getFetcher:st,deleteFetcher:ke,dispose:we,getBlocker:It,deleteBlocker:ds,patchRoutes:Os,_internalFetchControllers:$,_internalSetRoutes:fs,_internalSetStateDoNotUseOrYouWillBreakYourApp(te){X(te)}},D}function FA(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function I0(e,t,s,n,i,l){let c,u;if(i){c=[];for(let f of t)if(c.push(f),f.route.id===i){u=f;break}}else c=t,u=t[t.length-1];let h=Bx(n||".",Lx(c),_a(e.pathname,s)||e.pathname,l==="path");if(n==null&&(h.search=e.search,h.hash=e.hash),(n==null||n===""||n===".")&&u){let f=zx(h.search);if(u.route.index&&!f)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&f){let g=new URLSearchParams(h.search),p=g.getAll("index");g.delete("index"),p.filter(y=>y).forEach(y=>g.append("index",y));let b=g.toString();h.search=b?`?${b}`:""}}return s!=="/"&&(h.pathname=NA({basename:s,pathname:h.pathname})),zi(h)}function aj(e,t,s){if(!s||!FA(s))return{path:t};if(s.formMethod&&!KA(s.formMethod))return{path:t,error:ya(405,{method:s.formMethod})};let n=()=>({path:t,error:ya(400,{type:"invalid-body"})}),l=(s.formMethod||"get").toUpperCase(),c=O_(t);if(s.body!==void 0){if(s.formEncType==="text/plain"){if(!$n(l))return n();let p=typeof s.body=="string"?s.body:s.body instanceof FormData||s.body instanceof URLSearchParams?Array.from(s.body.entries()).reduce((b,[y,j])=>`${b}${y}=${j}
`,""):String(s.body);return{path:t,submission:{formMethod:l,formAction:c,formEncType:s.formEncType,formData:void 0,json:void 0,text:p}}}else if(s.formEncType==="application/json"){if(!$n(l))return n();try{let p=typeof s.body=="string"?JSON.parse(s.body):s.body;return{path:t,submission:{formMethod:l,formAction:c,formEncType:s.formEncType,formData:void 0,json:p,text:void 0}}}catch(p){return n()}}}$t(typeof FormData=="function","FormData is not available in this environment");let u,h;if(s.formData)u=Y0(s.formData),h=s.formData;else if(s.body instanceof FormData)u=Y0(s.body),h=s.body;else if(s.body instanceof URLSearchParams)u=s.body,h=uj(u);else if(s.body==null)u=new URLSearchParams,h=new FormData;else try{u=new URLSearchParams(s.body),h=uj(u)}catch(p){return n()}let f={formMethod:l,formAction:c,formEncType:s&&s.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if($n(f.formMethod))return{path:t,submission:f};let g=Zi(t);return e&&g.search&&zx(g.search)&&u.append("index",""),g.search=`?${u}`,{path:zi(g),submission:f}}function rj(e,t,s,n,i,l,c,u,h,f,g,p,b,y,j,v,_,T,O,S){var H;let C=S?Jn(S[1])?S[1].error:S[1].data:void 0,D=i.createURL(l.location),E=i.createURL(h),L;if(g&&l.errors){let q=Object.keys(l.errors)[0];L=c.findIndex(Y=>Y.route.id===q)}else if(S&&Jn(S[1])){let q=S[0];L=c.findIndex(Y=>Y.route.id===q)-1}let F=S?S[1].statusCode:void 0,R=F&&F>=400,K=oe(z({currentUrl:D,currentParams:((H=l.matches[0])==null?void 0:H.params)||{},nextUrl:E,nextParams:c[0].params},u),{actionResult:C,actionStatus:F}),W=c.map((q,Y)=>{let{route:$}=q,J=null;if(L!=null&&Y>L?J=!1:$.lazy?J=!0:$.loader==null?J=!1:g?J=q0($,l.loaderData,l.errors):zA(l.loaderData,l.matches[Y],q)&&(J=!0),J!==null)return W0(s,n,e,q,f,t,J);let se=R?!1:p||D.pathname+D.search===E.pathname+E.search||D.search!==E.search||UA(l.matches[Y],q),Ne=oe(z({},K),{defaultShouldRevalidate:se}),P=Lf(q,Ne);return W0(s,n,e,q,f,t,P,Ne)}),Q=[];return j.forEach((q,Y)=>{if(g||!c.some(G=>G.route.id===q.routeId)||y.has(Y))return;let $=l.fetchers.get(Y),J=$&&$.state!=="idle"&&$.data===void 0,se=Oi(_,q.path,T);if(!se){if(O&&J)return;Q.push({key:Y,routeId:q.routeId,path:q.path,matches:null,match:null,request:null,controller:null});return}if(v.has(Y))return;let Ne=jf(se,q.path),P=new AbortController,ne=Wl(i,q.path,P.signal),ge=null;if(b.has(Y))b.delete(Y),ge=Zl(s,n,ne,se,Ne,f,t);else if(J)p&&(ge=Zl(s,n,ne,se,Ne,f,t));else{let G=oe(z({},K),{defaultShouldRevalidate:R?!1:p});Lf(Ne,G)&&(ge=Zl(s,n,ne,se,Ne,f,t,G))}ge&&Q.push({key:Y,routeId:q.routeId,path:q.path,matches:ge,match:Ne,request:ne,controller:P})}),{dsMatches:W,revalidatingFetchers:Q}}function q0(e,t,s){if(e.lazy)return!0;if(!e.loader)return!1;let n=t!=null&&e.id in t,i=s!=null&&s[e.id]!==void 0;return!n&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!n&&!i}function zA(e,t,s){let n=!t||s.route.id!==t.route.id,i=!e.hasOwnProperty(s.route.id);return n||i}function UA(e,t){let s=e.route.path;return e.pathname!==t.pathname||s!=null&&s.endsWith("*")&&e.params["*"]!==t.params["*"]}function Lf(e,t){if(e.route.shouldRevalidate){let s=e.route.shouldRevalidate(t);if(typeof s=="boolean")return s}return t.defaultShouldRevalidate}function ij(e,t,s,n,i,l){let c;if(e){let f=n[e];$t(f,`No route found to patch children into: routeId = ${e}`),f.children||(f.children=[]),c=f.children}else c=s;let u=[],h=[];if(t.forEach(f=>{let g=c.find(p=>k_(f,p));g?h.push({existingRoute:g,newRoute:f}):u.push(f)}),u.length>0){let f=Qd(u,i,[e||"_","patch",String((c==null?void 0:c.length)||"0")],n);c.push(...f)}if(l&&h.length>0)for(let f=0;f<h.length;f++){let{existingRoute:g,newRoute:p}=h[f],b=g,[y]=Qd([p],i,[],{},!0);Object.assign(b,{element:y.element?y.element:b.element,errorElement:y.errorElement?y.errorElement:b.errorElement,hydrateFallbackElement:y.hydrateFallbackElement?y.hydrateFallbackElement:b.hydrateFallbackElement})}}function k_(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((s,n)=>{var i;return(i=t.children)==null?void 0:i.some(l=>k_(s,l))}):!1}var oj=new WeakMap,C_=({key:e,route:t,manifest:s,mapRouteProperties:n})=>{let i=s[t.id];if($t(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let l=i.lazy[e];if(!l)return;let c=oj.get(i);c||(c={},oj.set(i,c));let u=c[e];if(u)return u;let h=fe(null,null,function*(){let f=iA(e),p=i[e]!==void 0&&e!=="hasErrorBoundary";if(f)qs(!f,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),c[e]=Promise.resolve();else if(p)qs(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let b=yield l();b!=null&&(Object.assign(i,{[e]:b}),Object.assign(i,n(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(b=>b===void 0)&&(i.lazy=void 0))});return c[e]=h,h},lj=new WeakMap;function HA(e,t,s,n,i){let l=s[e.id];if($t(l,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let g=lj.get(l);if(g)return{lazyRoutePromise:g,lazyHandlerPromise:g};let p=fe(null,null,function*(){$t(typeof e.lazy=="function","No lazy route function found");let b=yield e.lazy(),y={};for(let j in b){let v=b[j];if(v===void 0)continue;let _=lA(j),O=l[j]!==void 0&&j!=="hasErrorBoundary";_?qs(!_,"Route property "+j+" is not a supported property to be returned from a lazy route function. This property will be ignored."):O?qs(!O,`Route "${l.id}" has a static property "${j}" defined but its lazy function is also returning a value for this property. The lazy route property "${j}" will be ignored.`):y[j]=v}Object.assign(l,y),Object.assign(l,oe(z({},n(l)),{lazy:void 0}))});return lj.set(l,p),p.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:p}}let c=Object.keys(e.lazy),u=[],h;for(let g of c){if(i&&i.includes(g))continue;let p=C_({key:g,route:e,manifest:s,mapRouteProperties:n});p&&(u.push(p),g===t&&(h=p))}let f=u.length>0?Promise.all(u).then(()=>{}):void 0;return f==null||f.catch(()=>{}),h==null||h.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:h}}function cj(e){return fe(this,null,function*(){let t=e.matches.filter(i=>i.shouldLoad),s={};return(yield Promise.all(t.map(i=>i.resolve()))).forEach((i,l)=>{s[t[l].route.id]=i}),s})}function $A(e){return fe(this,null,function*(){return e.matches.some(t=>t.route.unstable_middleware)?E_(e,!1,()=>cj(e),(t,s)=>({[s]:{type:"error",result:t}})):cj(e)})}function E_(e,t,s,n){return fe(this,null,function*(){let{matches:i,request:l,params:c,context:u}=e,h={handlerResult:void 0};try{let f=i.flatMap(p=>p.route.unstable_middleware?p.route.unstable_middleware.map(b=>[p.route.id,b]):[]),g=yield D_({request:l,params:c,context:u},f,t,h,s);return t?g:h.handlerResult}catch(f){if(!h.middlewareError)throw f;let g=yield n(h.middlewareError.error,h.middlewareError.routeId);return h.handlerResult?Object.assign(h.handlerResult,g):g}})}function D_(e,t,s,n,i,l=0){return fe(this,null,function*(){let{request:c}=e;if(c.signal.aborted)throw c.signal.reason?c.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${c.method} ${c.url}`);let u=t[l];if(!u)return n.handlerResult=yield i(),n.handlerResult;let[h,f]=u,g=!1,p,b=()=>fe(null,null,function*(){if(g)throw new Error("You may only call `next()` once per middleware");g=!0,yield D_(e,t,s,n,i,l+1)});try{let y=yield f({request:e.request,params:e.params,context:e.context},b);return g?y===void 0?p:y:b()}catch(y){throw n.middlewareError?n.middlewareError.error!==y&&(n.middlewareError={routeId:h,error:y}):n.middlewareError={routeId:h,error:y},y}})}function A_(e,t,s,n,i){let l=C_({key:"unstable_middleware",route:n.route,manifest:t,mapRouteProperties:e}),c=HA(n.route,$n(s.method)?"action":"loader",t,e,i);return{middleware:l,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function W0(e,t,s,n,i,l,c,u=null){let h=!1,f=A_(e,t,s,n,i);return oe(z({},n),{_lazyPromises:f,shouldLoad:c,unstable_shouldRevalidateArgs:u,unstable_shouldCallHandler(g){return h=!0,u?typeof g=="boolean"?Lf(n,oe(z({},u),{defaultShouldRevalidate:g})):Lf(n,u):c},resolve(g){return h||c||g&&!$n(s.method)&&(n.route.lazy||n.route.loader)?IA({request:s,match:n,lazyHandlerPromise:f==null?void 0:f.handler,lazyRoutePromise:f==null?void 0:f.route,handlerOverride:g,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}})}function Zl(e,t,s,n,i,l,c,u=null){return n.map(h=>h.route.id!==i.route.id?oe(z({},h),{shouldLoad:!1,unstable_shouldRevalidateArgs:u,unstable_shouldCallHandler:()=>!1,_lazyPromises:A_(e,t,s,h,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}):W0(e,t,s,h,l,c,!0,u))}function VA(e,t,s,n,i,l){return fe(this,null,function*(){s.some(f=>{var g;return(g=f._lazyPromises)==null?void 0:g.middleware})&&(yield Promise.all(s.map(f=>{var g;return(g=f._lazyPromises)==null?void 0:g.middleware})));let c={request:t,params:s[0].params,context:i,matches:s},u=f=>{let g=c;return E_(g,!1,()=>f(oe(z({},g),{fetcherKey:n,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})),(p,b)=>({[b]:{type:"error",result:p}}))},h=yield e(oe(z({},c),{fetcherKey:n,unstable_runClientMiddleware:u}));try{yield Promise.all(s.flatMap(f=>{var g,p;return[(g=f._lazyPromises)==null?void 0:g.handler,(p=f._lazyPromises)==null?void 0:p.route]}))}catch(f){}return h})}function IA(c){return fe(this,arguments,function*({request:e,match:t,lazyHandlerPromise:s,lazyRoutePromise:n,handlerOverride:i,scopedContext:l}){let u,h,f=$n(e.method),g=f?"action":"loader",p=b=>{let y,j=new Promise((T,O)=>y=O);h=()=>y(),e.signal.addEventListener("abort",h);let v=T=>typeof b!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${t.route.id}]`)):b({request:e,params:t.params,context:l},...T!==void 0?[T]:[]),_=fe(null,null,function*(){try{return{type:"data",result:yield i?i(O=>v(O)):v()}}catch(T){return{type:"error",result:T}}});return Promise.race([_,j])};try{let b=f?t.route.action:t.route.loader;if(s||n)if(b){let y,[j]=yield Promise.all([p(b).catch(v=>{y=v}),s,n]);if(y!==void 0)throw y;u=j}else{yield s;let y=f?t.route.action:t.route.loader;if(y)[u]=yield Promise.all([p(y),n]);else if(g==="action"){let j=new URL(e.url),v=j.pathname+j.search;throw ya(405,{method:e.method,pathname:v,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(b)u=yield p(b);else{let y=new URL(e.url),j=y.pathname+y.search;throw ya(404,{pathname:j})}}catch(b){return{type:"error",result:b}}finally{h&&e.signal.removeEventListener("abort",h)}return u})}function qA(e){return fe(this,null,function*(){var n,i,l,c,u,h;let{result:t,type:s}=e;if(M_(t)){let f;try{let g=t.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?t.body==null?f=null:f=yield t.json():f=yield t.text()}catch(g){return{type:"error",error:g}}return s==="error"?{type:"error",error:new Pf(t.status,t.statusText,f),statusCode:t.status,headers:t.headers}:{type:"data",data:f,statusCode:t.status,headers:t.headers}}return s==="error"?pj(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(n=t.init)==null?void 0:n.status,headers:(i=t.init)!=null&&i.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Pf(((l=t.init)==null?void 0:l.status)||500,void 0,t.data),statusCode:Zd(t)?t.status:void 0,headers:(c=t.init)!=null&&c.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Zd(t)?t.status:void 0}:pj(t)?{type:"data",data:t.data,statusCode:(u=t.init)==null?void 0:u.status,headers:(h=t.init)!=null&&h.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}})}function WA(e,t,s,n,i){let l=e.headers.get("Location");if($t(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Fx(l)){let c=n.slice(0,n.findIndex(u=>u.route.id===s)+1);l=I0(new URL(t.url),c,i,l),e.headers.set("Location",l)}return e}function dj(e,t,s){if(Fx(e)){let n=e,i=n.startsWith("//")?new URL(t.protocol+n):new URL(n),l=_a(i.pathname,s)!=null;if(i.origin===t.origin&&l)return i.pathname+i.search+i.hash}return e}function Wl(e,t,s,n){let i=e.createURL(O_(t)).toString(),l={signal:s};if(n&&$n(n.formMethod)){let{formMethod:c,formEncType:u}=n;l.method=c.toUpperCase(),u==="application/json"?(l.headers=new Headers({"Content-Type":u}),l.body=JSON.stringify(n.json)):u==="text/plain"?l.body=n.text:u==="application/x-www-form-urlencoded"&&n.formData?l.body=Y0(n.formData):l.body=n.formData}return new Request(i,l)}function Y0(e){let t=new URLSearchParams;for(let[s,n]of e.entries())t.append(s,typeof n=="string"?n:n.name);return t}function uj(e){let t=new FormData;for(let[s,n]of e.entries())t.append(s,n);return t}function YA(e,t,s,n=!1,i=!1){let l={},c=null,u,h=!1,f={},g=s&&Jn(s[1])?s[1].error:void 0;return e.forEach(p=>{if(!(p.route.id in t))return;let b=p.route.id,y=t[b];if($t(!Fo(y),"Cannot handle redirect results in processLoaderData"),Jn(y)){let j=y.error;if(g!==void 0&&(j=g,g=void 0),c=c||{},i)c[b]=j;else{let v=Ro(e,b);c[v.route.id]==null&&(c[v.route.id]=j)}n||(l[b]=S_),h||(h=!0,u=Zd(y.error)?y.error.status:500),y.headers&&(f[b]=y.headers)}else l[b]=y.data,y.statusCode&&y.statusCode!==200&&!h&&(u=y.statusCode),y.headers&&(f[b]=y.headers)}),g!==void 0&&s&&(c={[s[0]]:g},s[2]&&(l[s[2]]=void 0)),{loaderData:l,errors:c,statusCode:u||200,loaderHeaders:f}}function hj(e,t,s,n,i,l){let{loaderData:c,errors:u}=YA(t,s,n);return i.filter(h=>!h.matches||h.matches.some(f=>f.shouldLoad)).forEach(h=>{let{key:f,match:g,controller:p}=h,b=l[f];if($t(b,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(Jn(b)){let y=Ro(e.matches,g==null?void 0:g.route.id);u&&u[y.route.id]||(u=oe(z({},u),{[y.route.id]:b.error})),e.fetchers.delete(f)}else if(Fo(b))$t(!1,"Unhandled fetcher revalidation redirect");else{let y=Ci(b.data);e.fetchers.set(f,y)}}),{loaderData:c,errors:u}}function fj(e,t,s,n){let i=Object.entries(t).filter(([,l])=>l!==S_).reduce((l,[c,u])=>(l[c]=u,l),{});for(let l of s){let c=l.route.id;if(!t.hasOwnProperty(c)&&e.hasOwnProperty(c)&&l.route.loader&&(i[c]=e[c]),n&&n.hasOwnProperty(c))break}return i}function mj(e){return e?Jn(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Ro(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function gj(e){let t=e.length===1?e[0]:e.find(s=>s.index||!s.path||s.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function ya(e,{pathname:t,routeId:s,method:n,type:i,message:l}={}){let c="Unknown Server Error",u="Unknown @remix-run/router error";return e===400?(c="Bad Request",n&&t&&s?u=`You made a ${n} request to "${t}" but did not provide a \`loader\` for route "${s}", so there is no way to handle the request.`:i==="invalid-body"&&(u="Unable to encode submission body")):e===403?(c="Forbidden",u=`Route "${s}" does not match URL "${t}"`):e===404?(c="Not Found",u=`No route matches URL "${t}"`):e===405&&(c="Method Not Allowed",n&&t&&s?u=`You made a ${n.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${s}", so there is no way to handle the request.`:n&&(u=`Invalid request method "${n.toUpperCase()}"`)),new Pf(e||500,c,new Error(u),!0)}function zh(e){let t=Object.entries(e);for(let s=t.length-1;s>=0;s--){let[n,i]=t[s];if(Fo(i))return{key:n,result:i}}}function O_(e){let t=typeof e=="string"?Zi(e):e;return zi(oe(z({},t),{hash:""}))}function GA(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function XA(e){return M_(e.result)&&OA.has(e.result.status)}function Jn(e){return e.type==="error"}function Fo(e){return(e&&e.type)==="redirect"}function pj(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function M_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body!="undefined"}function KA(e){return AA.has(e.toUpperCase())}function $n(e){return EA.has(e.toUpperCase())}function zx(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function jf(e,t){let s=typeof t=="string"?Zi(t).search:t.search;if(e[e.length-1].route.index&&zx(s||""))return e[e.length-1];let n=N_(e);return n[n.length-1]}function xj(e){let{formMethod:t,formAction:s,formEncType:n,text:i,formData:l,json:c}=e;if(!(!t||!s||!n)){if(i!=null)return{formMethod:t,formAction:s,formEncType:n,formData:void 0,json:void 0,text:i};if(l!=null)return{formMethod:t,formAction:s,formEncType:n,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:t,formAction:s,formEncType:n,formData:void 0,json:c,text:void 0}}}function Kp(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function QA(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Td(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function ZA(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Ci(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function JA(e,t){try{let s=e.sessionStorage.getItem(T_);if(s){let n=JSON.parse(s);for(let[i,l]of Object.entries(n||{}))l&&Array.isArray(l)&&t.set(i,new Set(l||[]))}}catch(s){}}function eO(e,t){if(t.size>0){let s={};for(let[n,i]of t)s[n]=[...i];try{e.sessionStorage.setItem(T_,JSON.stringify(s))}catch(n){qs(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function tO(){let e,t,s=new Promise((n,i)=>{e=l=>fe(null,null,function*(){n(l);try{yield s}catch(c){}}),t=l=>fe(null,null,function*(){i(l);try{yield s}catch(c){}})});return{promise:s,resolve:e,reject:t}}var Xo=N.createContext(null);Xo.displayName="DataRouter";var fu=N.createContext(null);fu.displayName="DataRouterState";N.createContext(!1);var Ux=N.createContext({isTransitioning:!1});Ux.displayName="ViewTransition";var R_=N.createContext(new Map);R_.displayName="Fetchers";var sO=N.createContext(null);sO.displayName="Await";var yr=N.createContext(null);yr.displayName="Navigation";var cm=N.createContext(null);cm.displayName="Location";var $a=N.createContext({outlet:null,matches:[],isDataRoute:!1});$a.displayName="Route";var Hx=N.createContext(null);Hx.displayName="RouteError";function nO(e,{relative:t}={}){$t(mu(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:n}=N.useContext(yr),{hash:i,pathname:l,search:c}=gu(e,{relative:t}),u=l;return s!=="/"&&(u=l==="/"?s:hr([s,l])),n.createHref({pathname:u,search:c,hash:i})}function mu(){return N.useContext(cm)!=null}function Ji(){return $t(mu(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(cm).location}var P_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function L_(e){N.useContext(yr).static||N.useLayoutEffect(e)}function dm(){let{isDataRoute:e}=N.useContext($a);return e?bO():aO()}function aO(){$t(mu(),"useNavigate() may be used only in the context of a <Router> component.");let e=N.useContext(Xo),{basename:t,navigator:s}=N.useContext(yr),{matches:n}=N.useContext($a),{pathname:i}=Ji(),l=JSON.stringify(Lx(n)),c=N.useRef(!1);return L_(()=>{c.current=!0}),N.useCallback((h,f={})=>{if(qs(c.current,P_),!c.current)return;if(typeof h=="number"){s.go(h);return}let g=Bx(h,JSON.parse(l),i,f.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:hr([t,g.pathname])),(f.replace?s.replace:s.push)(g,f.state,f)},[t,s,l,i,e])}var rO=N.createContext(null);function iO(e){let t=N.useContext($a).outlet;return t&&N.createElement(rO.Provider,{value:e},t)}function oO(){let{matches:e}=N.useContext($a),t=e[e.length-1];return t?t.params:{}}function gu(e,{relative:t}={}){let{matches:s}=N.useContext($a),{pathname:n}=Ji(),i=JSON.stringify(Lx(s));return N.useMemo(()=>Bx(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function lO(e,t,s,n){$t(mu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=N.useContext(yr),{matches:l}=N.useContext($a),c=l[l.length-1],u=c?c.params:{},h=c?c.pathname:"/",f=c?c.pathnameBase:"/",g=c&&c.route;{let T=g&&g.path||"";B_(h,!g||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let p=Ji(),b;b=p;let y=b.pathname||"/",j=y;if(f!=="/"){let T=f.replace(/^\//,"").split("/");j="/"+y.replace(/^\//,"").split("/").slice(T.length).join("/")}let v=Oi(e,{pathname:j});return qs(g||v!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),qs(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),fO(v&&v.map(T=>Object.assign({},T,{params:Object.assign({},u,T.params),pathname:hr([f,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?f:hr([f,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),l,s,n)}function cO(){let e=yO(),t=Zd(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},l={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),s?N.createElement("pre",{style:i},s):null,c)}var dO=N.createElement(cO,null),uO=class extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?N.createElement($a.Provider,{value:this.props.routeContext},N.createElement(Hx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hO({routeContext:e,match:t,children:s}){let n=N.useContext(Xo);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement($a.Provider,{value:e},s)}function fO(e,t=[],s=null,n=null){if(e==null){if(!s)return null;if(s.errors)e=s.matches;else if(t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let i=e,l=s==null?void 0:s.errors;if(l!=null){let h=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);$t(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let c=!1,u=-1;if(s)for(let h=0;h<i.length;h++){let f=i[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:g,errors:p}=s,b=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||b){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,f,g)=>{let p,b=!1,y=null,j=null;s&&(p=l&&f.route.id?l[f.route.id]:void 0,y=f.route.errorElement||dO,c&&(u<0&&g===0?(B_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,j=null):u===g&&(b=!0,j=f.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,g+1)),_=()=>{let T;return p?T=y:b?T=j:f.route.Component?T=N.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=h,N.createElement(hO,{match:f,routeContext:{outlet:h,matches:v,isDataRoute:s!=null},children:T})};return s&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?N.createElement(uO,{location:s.location,revalidation:s.revalidation,component:y,error:p,children:_(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):_()},null)}function $x(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mO(e){let t=N.useContext(Xo);return $t(t,$x(e)),t}function gO(e){let t=N.useContext(fu);return $t(t,$x(e)),t}function pO(e){let t=N.useContext($a);return $t(t,$x(e)),t}function Vx(e){let t=pO(e),s=t.matches[t.matches.length-1];return $t(s.route.id,`${e} can only be used on routes that contain a unique "id"`),s.route.id}function xO(){return Vx("useRouteId")}function yO(){var n;let e=N.useContext(Hx),t=gO("useRouteError"),s=Vx("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[s]}function bO(){let{router:e}=mO("useNavigate"),t=Vx("useNavigate"),s=N.useRef(!1);return L_(()=>{s.current=!0}),N.useCallback((c,...u)=>fe(null,[c,...u],function*(i,l={}){qs(s.current,P_),s.current&&(typeof i=="number"?e.navigate(i):yield e.navigate(i,z({fromRouteId:t},l)))}),[e,t])}var yj={};function B_(e,t,s){!t&&!yj[e]&&(yj[e]=!0,qs(!1,s))}var bj={};function vj(e,t){!e&&!bj[t]&&(bj[t]=!0,console.warn(t))}function vO(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&qs(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:N.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&qs(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:N.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&qs(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:N.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var wO=["HydrateFallback","hydrateFallbackElement"],jO=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",t(s))}})}};function NO({router:e,flushSync:t}){let[s,n]=N.useState(e.state),[i,l]=N.useState(),[c,u]=N.useState({isTransitioning:!1}),[h,f]=N.useState(),[g,p]=N.useState(),[b,y]=N.useState(),j=N.useRef(new Map),v=N.useCallback((S,{deletedFetchers:C,flushSync:D,viewTransitionOpts:E})=>{S.fetchers.forEach((F,R)=>{F.data!==void 0&&j.current.set(R,F.data)}),C.forEach(F=>j.current.delete(F)),vj(D===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let L=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(vj(E==null||L,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!E||!L){t&&D?t(()=>n(S)):N.startTransition(()=>n(S));return}if(t&&D){t(()=>{g&&(h&&h.resolve(),g.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:E.currentLocation,nextLocation:E.nextLocation})});let F=e.window.document.startViewTransition(()=>{t(()=>n(S))});F.finished.finally(()=>{t(()=>{f(void 0),p(void 0),l(void 0),u({isTransitioning:!1})})}),t(()=>p(F));return}g?(h&&h.resolve(),g.skipTransition(),y({state:S,currentLocation:E.currentLocation,nextLocation:E.nextLocation})):(l(S),u({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}))},[e.window,t,g,h]);N.useLayoutEffect(()=>e.subscribe(v),[e,v]),N.useEffect(()=>{c.isTransitioning&&!c.flushSync&&f(new jO)},[c]),N.useEffect(()=>{if(h&&i&&e.window){let S=i,C=h.promise,D=e.window.document.startViewTransition(()=>fe(null,null,function*(){N.startTransition(()=>n(S)),yield C}));D.finished.finally(()=>{f(void 0),p(void 0),l(void 0),u({isTransitioning:!1})}),p(D)}},[i,h,e.window]),N.useEffect(()=>{h&&i&&s.location.key===i.location.key&&h.resolve()},[h,g,s.location,i]),N.useEffect(()=>{!c.isTransitioning&&b&&(l(b.state),u({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),y(void 0))},[c.isTransitioning,b]);let _=N.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:S=>e.navigate(S),push:(S,C,D)=>e.navigate(S,{state:C,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(S,C,D)=>e.navigate(S,{replace:!0,state:C,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[e]),T=e.basename||"/",O=N.useMemo(()=>({router:e,navigator:_,static:!1,basename:T}),[e,_,T]);return N.createElement(N.Fragment,null,N.createElement(Xo.Provider,{value:O},N.createElement(fu.Provider,{value:s},N.createElement(R_.Provider,{value:j.current},N.createElement(Ux.Provider,{value:c},N.createElement(kO,{basename:T,location:s.location,navigationType:s.historyAction,navigator:_},N.createElement(_O,{routes:e.routes,future:e.future,state:s})))))),null)}var _O=N.memo(TO);function TO({routes:e,future:t,state:s}){return lO(e,void 0,s,t)}function SO(e){return iO(e.context)}function kO({basename:e="/",children:t=null,location:s,navigationType:n="POP",navigator:i,static:l=!1}){$t(!mu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:c,navigator:i,static:l,future:{}}),[c,i,l]);typeof s=="string"&&(s=Zi(s));let{pathname:h="/",search:f="",hash:g="",state:p=null,key:b="default"}=s,y=N.useMemo(()=>{let j=_a(h,c);return j==null?null:{location:{pathname:j,search:f,hash:g,state:p,key:b},navigationType:n}},[c,h,f,g,p,b,n]);return qs(y!=null,`<Router basename="${c}"> is not able to match the URL "${h}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:N.createElement(yr.Provider,{value:u},N.createElement(cm.Provider,{children:t,value:y}))}var Nf="get",_f="application/x-www-form-urlencoded";function um(e){return e!=null&&typeof e.tagName=="string"}function CO(e){return um(e)&&e.tagName.toLowerCase()==="button"}function EO(e){return um(e)&&e.tagName.toLowerCase()==="form"}function DO(e){return um(e)&&e.tagName.toLowerCase()==="input"}function AO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function OO(e,t){return e.button===0&&(!t||t==="_self")&&!AO(e)}var Uh=null;function MO(){if(Uh===null)try{new FormData(document.createElement("form"),0),Uh=!1}catch(e){Uh=!0}return Uh}var RO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qp(e){return e!=null&&!RO.has(e)?(qs(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_f}"`),null):e}function PO(e,t){let s,n,i,l,c;if(EO(e)){let u=e.getAttribute("action");n=u?_a(u,t):null,s=e.getAttribute("method")||Nf,i=Qp(e.getAttribute("enctype"))||_f,l=new FormData(e)}else if(CO(e)||DO(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||u.getAttribute("action");if(n=h?_a(h,t):null,s=e.getAttribute("formmethod")||u.getAttribute("method")||Nf,i=Qp(e.getAttribute("formenctype"))||Qp(u.getAttribute("enctype"))||_f,l=new FormData(u,e),!MO()){let{name:f,type:g,value:p}=e;if(g==="image"){let b=f?`${f}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else f&&l.append(f,p)}}else{if(um(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Nf,n=null,i=_f,c=e}return l&&i==="text/plain"&&(c=l,l=void 0),{action:n,method:s.toLowerCase(),encType:i,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ix(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function LO(e,t,s){let n=typeof e=="string"?new URL(e,typeof window=="undefined"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${s}`:t&&_a(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${s}`,n}function BO(e,t){return fe(this,null,function*(){if(e.id in t)return t[e.id];try{let s=yield import(e.module);return t[e.id]=s,s}catch(s){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}})}function FO(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}function zO(e,t,s){return fe(this,null,function*(){let n=yield Promise.all(e.map(i=>fe(null,null,function*(){let l=t.routes[i.route.id];if(l){let c=yield BO(l,s);return c.links?c.links():[]}return[]})));return VO(n.flat(1).filter(FO).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?oe(z({},i),{rel:"prefetch",as:"style"}):oe(z({},i),{rel:"prefetch"})))})}function wj(e,t,s,n,i,l){let c=(h,f)=>s[f]?h.route.id!==s[f].route.id:!0,u=(h,f)=>{var g;return s[f].pathname!==h.pathname||((g=s[f].route.path)==null?void 0:g.endsWith("*"))&&s[f].params["*"]!==h.params["*"]};return l==="assets"?t.filter((h,f)=>c(h,f)||u(h,f)):l==="data"?t.filter((h,f)=>{var p;let g=n.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(c(h,f)||u(h,f))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=s[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function UO(e,t,{includeHydrateFallback:s}={}){return HO(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),s&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function HO(e){return[...new Set(e)]}function $O(e){let t={},s=Object.keys(e).sort();for(let n of s)t[n]=e[n];return t}function VO(e,t){let s=new Set;return new Set(t),e.reduce((n,i)=>{let l=JSON.stringify($O(i));return s.has(l)||(s.add(l),n.push({key:l,link:i})),n},[])}function F_(){let e=N.useContext(Xo);return Ix(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function IO(){let e=N.useContext(fu);return Ix(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var qx=N.createContext(void 0);qx.displayName="FrameworkContext";function z_(){let e=N.useContext(qx);return Ix(e,"You must render this element inside a <HydratedRouter> element"),e}function qO(e,t){let s=N.useContext(qx),[n,i]=N.useState(!1),[l,c]=N.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:f,onMouseLeave:g,onTouchStart:p}=t,b=N.useRef(null);N.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let v=T=>{T.forEach(O=>{c(O.isIntersecting)})},_=new IntersectionObserver(v,{threshold:.5});return b.current&&_.observe(b.current),()=>{_.disconnect()}}},[e]),N.useEffect(()=>{if(n){let v=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(v)}}},[n]);let y=()=>{i(!0)},j=()=>{i(!1),c(!1)};return s?e!=="intent"?[l,b,{}]:[l,b,{onFocus:Sd(u,y),onBlur:Sd(h,j),onMouseEnter:Sd(f,y),onMouseLeave:Sd(g,j),onTouchStart:Sd(p,y)}]:[!1,b,{}]}function Sd(e,t){return s=>{e&&e(s),s.defaultPrevented||t(s)}}function WO(s){var n=s,{page:e}=n,t=$e(n,["page"]);let{router:i}=F_(),l=N.useMemo(()=>Oi(i.routes,e,i.basename),[i.routes,e,i.basename]);return l?N.createElement(GO,z({page:e,matches:l},t)):null}function YO(e){let{manifest:t,routeModules:s}=z_(),[n,i]=N.useState([]);return N.useEffect(()=>{let l=!1;return zO(e,t,s).then(c=>{l||i(c)}),()=>{l=!0}},[e,t,s]),n}function GO(n){var i=n,{page:e,matches:t}=i,s=$e(i,["page","matches"]);let l=Ji(),{manifest:c,routeModules:u}=z_(),{basename:h}=F_(),{loaderData:f,matches:g}=IO(),p=N.useMemo(()=>wj(e,t,g,c,l,"data"),[e,t,g,c,l]),b=N.useMemo(()=>wj(e,t,g,c,l,"assets"),[e,t,g,c,l]),y=N.useMemo(()=>{if(e===l.pathname+l.search+l.hash)return[];let _=new Set,T=!1;if(t.forEach(S=>{var D;let C=c.routes[S.route.id];!C||!C.hasLoader||(!p.some(E=>E.route.id===S.route.id)&&S.route.id in f&&((D=u[S.route.id])!=null&&D.shouldRevalidate)||C.hasClientLoader?T=!0:_.add(S.route.id))}),_.size===0)return[];let O=LO(e,h,"data");return T&&_.size>0&&O.searchParams.set("_routes",t.filter(S=>_.has(S.route.id)).map(S=>S.route.id).join(",")),[O.pathname+O.search]},[h,f,l,c,p,t,e,u]),j=N.useMemo(()=>UO(b,c),[b,c]),v=YO(b);return N.createElement(N.Fragment,null,y.map(_=>N.createElement("link",z({key:_,rel:"prefetch",as:"fetch",href:_},s))),j.map(_=>N.createElement("link",z({key:_,rel:"modulepreload",href:_},s))),v.map(({key:_,link:T})=>N.createElement("link",z({key:_},T))))}function XO(...e){return t=>{e.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}var U_=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{U_&&(window.__reactRouterVersion="7.7.1")}catch(e){}function KO(e,t){return BA({basename:t==null?void 0:t.basename,unstable_getContext:t==null?void 0:t.unstable_getContext,future:t==null?void 0:t.future,history:sA({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||QO(),routes:e,mapRouteProperties:vO,hydrationRouteProperties:wO,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function QO(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e=oe(z({},e),{errors:ZO(e.errors)})),e}function ZO(e){if(!e)return null;let t=Object.entries(e),s={};for(let[n,i]of t)if(i&&i.__type==="RouteErrorResponse")s[n]=new Pf(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let l=window[i.__subType];if(typeof l=="function")try{let c=new l(i.message);c.stack="",s[n]=c}catch(c){}}if(s[n]==null){let l=new Error(i.message);l.stack="",s[n]=l}}else s[n]=i;return s}var H_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$_=N.forwardRef(function(j,y){var v=j,{onClick:t,discover:s="render",prefetch:n="none",relative:i,reloadDocument:l,replace:c,state:u,target:h,to:f,preventScrollReset:g,viewTransition:p}=v,b=$e(v,["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"]);let{basename:_}=N.useContext(yr),T=typeof f=="string"&&H_.test(f),O,S=!1;if(typeof f=="string"&&T&&(O=f,U_))try{let W=new URL(window.location.href),Q=f.startsWith("//")?new URL(W.protocol+f):new URL(f),H=_a(Q.pathname,_);Q.origin===W.origin&&H!=null?f=H+Q.search+Q.hash:S=!0}catch(W){qs(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=nO(f,{relative:i}),[D,E,L]=qO(n,b),F=tM(f,{replace:c,state:u,target:h,preventScrollReset:g,relative:i,viewTransition:p});function R(W){t&&t(W),W.defaultPrevented||F(W)}let K=N.createElement("a",oe(z(z({},b),L),{href:O||C,onClick:S||l?t:R,ref:XO(y,E),target:h,"data-discover":!T&&s==="render"?"true":void 0}));return D&&!T?N.createElement(N.Fragment,null,K,N.createElement(WO,{page:C})):K});$_.displayName="Link";var V_=N.forwardRef(function(p,g){var b=p,{"aria-current":t="page",caseSensitive:s=!1,className:n="",end:i=!1,style:l,to:c,viewTransition:u,children:h}=b,f=$e(b,["aria-current","caseSensitive","className","end","style","to","viewTransition","children"]);let y=gu(c,{relative:f.relative}),j=Ji(),v=N.useContext(fu),{navigator:_,basename:T}=N.useContext(yr),O=v!=null&&iM(y)&&u===!0,S=_.encodeLocation?_.encodeLocation(y).pathname:y.pathname,C=j.pathname,D=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(C=C.toLowerCase(),D=D?D.toLowerCase():null,S=S.toLowerCase()),D&&T&&(D=_a(D,T)||D);const E=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let L=C===S||!i&&C.startsWith(S)&&C.charAt(E)==="/",F=D!=null&&(D===S||!i&&D.startsWith(S)&&D.charAt(S.length)==="/"),R={isActive:L,isPending:F,isTransitioning:O},K=L?t:void 0,W;typeof n=="function"?W=n(R):W=[n,L?"active":null,F?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let Q=typeof l=="function"?l(R):l;return N.createElement($_,oe(z({},f),{"aria-current":K,className:W,ref:g,style:Q,to:c,viewTransition:u}),typeof h=="function"?h(R):h)});V_.displayName="NavLink";var JO=N.forwardRef((j,y)=>{var v=j,{discover:e="render",fetcherKey:t,navigate:s,reloadDocument:n,replace:i,state:l,method:c=Nf,action:u,onSubmit:h,relative:f,preventScrollReset:g,viewTransition:p}=v,b=$e(v,["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"]);let _=aM(),T=rM(u,{relative:f}),O=c.toLowerCase()==="get"?"get":"post",S=typeof u=="string"&&H_.test(u),C=D=>{if(h&&h(D),D.defaultPrevented)return;D.preventDefault();let E=D.nativeEvent.submitter,L=(E==null?void 0:E.getAttribute("formmethod"))||c;_(E||D.currentTarget,{fetcherKey:t,method:L,navigate:s,replace:i,state:l,relative:f,preventScrollReset:g,viewTransition:p})};return N.createElement("form",oe(z({ref:y,method:O,action:T,onSubmit:n?h:C},b),{"data-discover":!S&&e==="render"?"true":void 0}))});JO.displayName="Form";function eM(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I_(e){let t=N.useContext(Xo);return $t(t,eM(e)),t}function tM(e,{target:t,replace:s,state:n,preventScrollReset:i,relative:l,viewTransition:c}={}){let u=dm(),h=Ji(),f=gu(e,{relative:l});return N.useCallback(g=>{if(OO(g,t)){g.preventDefault();let p=s!==void 0?s:zi(h)===zi(f);u(e,{replace:p,state:n,preventScrollReset:i,relative:l,viewTransition:c})}},[h,u,f,s,n,t,e,i,l,c])}var sM=0,nM=()=>`__${String(++sM)}__`;function aM(){let{router:e}=I_("useSubmit"),{basename:t}=N.useContext(yr),s=xO();return N.useCallback((l,...c)=>fe(null,[l,...c],function*(n,i={}){let{action:u,method:h,encType:f,formData:g,body:p}=PO(n,t);if(i.navigate===!1){let b=i.fetcherKey||nM();yield e.fetch(b,s,i.action||u,{preventScrollReset:i.preventScrollReset,formData:g,body:p,formMethod:i.method||h,formEncType:i.encType||f,flushSync:i.flushSync})}else yield e.navigate(i.action||u,{preventScrollReset:i.preventScrollReset,formData:g,body:p,formMethod:i.method||h,formEncType:i.encType||f,replace:i.replace,state:i.state,fromRouteId:s,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[e,t,s])}function rM(e,{relative:t}={}){let{basename:s}=N.useContext(yr),n=N.useContext($a);$t(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),l=z({},gu(e||".",{relative:t})),c=Ji();if(e==null){l.search=c.search;let u=new URLSearchParams(l.search),h=u.getAll("index");if(h.some(g=>g==="")){u.delete("index"),h.filter(p=>p).forEach(p=>u.append("index",p));let g=u.toString();l.search=g?`?${g}`:""}}return(!e||e===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(l.pathname=l.pathname==="/"?s:hr([s,l.pathname])),zi(l)}function iM(e,{relative:t}={}){let s=N.useContext(Ux);$t(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=I_("useViewTransitionState"),i=gu(e,{relative:t});if(!s.isTransitioning)return!1;let l=_a(s.currentLocation.pathname,n)||s.currentLocation.pathname,c=_a(s.nextLocation.pathname,n)||s.nextLocation.pathname;return Rf(i.pathname,c)!=null||Rf(i.pathname,l)!=null}var hm=H2();const q_=_x(hm);function oM(e){return N.createElement(NO,z({flushSync:hm.flushSync},e))}/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cM=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,n)=>n?n.toUpperCase():s.toLowerCase()),jj=e=>{const t=cM(e);return t.charAt(0).toUpperCase()+t.slice(1)},W_=(...e)=>e.filter((t,s,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===s).join(" ").trim(),dM=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=N.forwardRef((f,h)=>{var g=f,{color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:i="",children:l,iconNode:c}=g,u=$e(g,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return N.createElement("svg",z(z(oe(z({ref:h},uM),{width:t,height:t,stroke:e,strokeWidth:n?Number(s)*24/Number(t):s,className:W_("lucide",i)}),!l&&!dM(u)&&{"aria-hidden":"true"}),u),[...c.map(([p,b])=>N.createElement(p,b)),...Array.isArray(l)?l:[l]])});/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=(e,t)=>{const s=N.forwardRef((c,l)=>{var u=c,{className:n}=u,i=$e(u,["className"]);return N.createElement(hM,z({ref:l,iconNode:t,className:W_(`lucide-${lM(jj(e))}`,`lucide-${e}`,n)},i))});return s.displayName=jj(e),s};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],mM=ct("activity",fM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],pM=ct("archive",gM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Jd=ct("arrow-left",xM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Y_=ct("bell",yM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],vM=ct("book-open",bM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Vs=ct("calendar",wM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],oc=ct("chart-column",jM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],_M=ct("chart-pie",NM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],SM=ct("check",TM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Wx=ct("chevron-down",kM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],EM=ct("chevron-right",CM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],AM=ct("chevron-up",DM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],MM=ct("chevrons-up-down",OM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ui=ct("circle-alert",RM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],G_=ct("circle-check-big",PM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Yx=ct("circle-check",LM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Hi=ct("clock",BM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Zp=ct("crown",FM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],$i=ct("dollar-sign",zM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],lc=ct("download",UM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],$M=ct("ellipsis-vertical",HM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],G0=ct("external-link",VM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Gx=ct("eye",IM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ds=ct("file-text",qM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],Hh=ct("file",WM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Yl=ct("folder-open",YM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],pu=ct("funnel",GM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],KM=ct("grid-3x3",XM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],ZM=ct("image",QM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],e5=ct("layout-dashboard",JM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],zd=ct("link",t5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],n5=ct("list",s5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],X0=ct("loader-circle",a5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],i5=ct("log-out",r5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],l5=ct("map-pin",o5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],d5=ct("menu",c5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],h5=ct("pause",u5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],m5=ct("pen",f5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],p5=ct("piggy-bank",g5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],y5=ct("play",x5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],gr=ct("plus",b5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],w5=ct("refresh-cw",v5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],N5=ct("save",j5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],mc=ct("search",_5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Xx=ct("settings",T5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],X_=ct("shield",S5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ei=ct("square-check-big",k5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],eu=ct("square-pen",C5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],D5=ct("square",E5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Kx=ct("target",A5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Vi=ct("trash-2",O5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Nj=ct("trending-down",M5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Jl=ct("trending-up",R5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],gc=ct("triangle-alert",P5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],K_=ct("upload",L5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],tu=ct("user",B5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Cn=ct("users",F5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],_j=ct("video",z5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],H5=ct("x",U5),$5=[{name:"Dashboard",href:"/",icon:e5,subtitle:"Tổng quan hệ thống"},{name:"Dự án",href:"/projects",icon:Yl,subtitle:"Quản lý dự án R&D"},{name:"Công việc",href:"/tasks",icon:Ei,subtitle:"Quản lý task và tiến độ"},{name:"Tài liệu",href:"/documents",icon:Ds,subtitle:"Quản lý biểu mẫu và tài liệu"},{name:"Ngân sách",href:"/budget",icon:$i,subtitle:"Quản lý chi phí và ngân sách"},{name:"Rủi ro",href:"/risk",icon:gc,subtitle:"Quản lý rủi ro dự án"},{name:"Lịch họp",href:"/meetings",icon:Vs,subtitle:"Quản lý cuộc họp và gate review"},{name:"Báo cáo",href:"/reports",icon:oc,subtitle:"Báo cáo và thống kê"},{name:"Cài đặt",href:"/settings",icon:Xx,subtitle:"Cài đặt hệ thống"}],Tj=({collapsed:e=!1,onToggle:t})=>{const s=Ji();return a.jsxs("div",{className:`flex flex-col bg-white shadow-lg border-r border-gray-200 transition-all duration-300 ${e?"w-20":"w-85"}`,children:[a.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[!e&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg overflow-hidden",children:a.jsx("img",{src:"https://ctuav.vn/wp-content/uploads/2024/08/Logo-moi-ctuav-e1755917887778.png",alt:"R&D",className:"w-full h-full object-contain bg-white"})}),a.jsx("span",{className:"text-xl font-bold text-gray-800",children:"R&D Management"})]}),e&&a.jsx("div",{className:"w-12 h-10 bg-blue-600 rounded-lg flex items-center justify-center mx-auto",children:a.jsx("span",{className:"text-white font-bold text-sm",children:"RD"})})]}),a.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2",children:$5.map(n=>{const i=s.pathname===n.href;return a.jsxs(V_,{to:n.href,className:`
                group flex items-start rounded-lg transition-all duration-200 relative
                ${e?"px-2 py-3 justify-center":"px-3 py-3"}
                ${i?"bg-blue-50 text-blue-700 border-l-4 border-blue-600":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}
              `,title:e?n.name:void 0,children:[a.jsx(n.icon,{className:`
                  h-5 w-5 transition-colors duration-200 flex-shrink-0
                  ${e?"mr-0":"mr-3 mt-0.5"}
                  ${i?"text-blue-600":"text-gray-500 group-hover:text-gray-700"}
                `}),!e&&a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-medium text-sm",children:n.name}),a.jsx("span",{className:`text-xs mt-0.5 ${i?"text-blue-600":"text-gray-500"}`,children:n.subtitle})]}),e&&a.jsxs("div",{className:"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50",children:[n.name,a.jsx("div",{className:"absolute top-1/2 left-0 transform -translate-y-1/2 -translate-x-1 w-2 h-2 bg-gray-800 rotate-45"})]})]},n.name)})}),a.jsx("div",{className:"p-4 border-t border-gray-200",children:a.jsxs("div",{className:`flex items-center ${e?"justify-center":"space-x-3"}`,children:[a.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-medium text-sm",children:"AU"})}),!e&&a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:"Admin User"}),a.jsx("p",{className:"text-xs text-gray-500 truncate",children:"System Administrator"})]})]})})]})};function sa(e,t,{checkForDefaultPrevented:s=!0}={}){return function(i){if(e==null||e(i),s===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Sj(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Vo(...e){return t=>{let s=!1;const n=e.map(i=>{const l=Sj(i,t);return!s&&typeof l=="function"&&(s=!0),l});if(s)return()=>{for(let i=0;i<n.length;i++){const l=n[i];typeof l=="function"?l():Sj(e[i],null)}}}}function pn(...e){return N.useCallback(Vo(...e),e)}function Q_(e,t){const s=N.createContext(t),n=l=>{const f=l,{children:c}=f,u=$e(f,["children"]),h=N.useMemo(()=>u,Object.values(u));return a.jsx(s.Provider,{value:h,children:c})};n.displayName=e+"Provider";function i(l){const c=N.useContext(s);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[n,i]}function fm(e,t=[]){let s=[];function n(l,c){const u=N.createContext(c),h=s.length;s=[...s,c];const f=p=>{var O;const T=p,{scope:b,children:y}=T,j=$e(T,["scope","children"]),v=((O=b==null?void 0:b[e])==null?void 0:O[h])||u,_=N.useMemo(()=>j,Object.values(j));return a.jsx(v.Provider,{value:_,children:y})};f.displayName=l+"Provider";function g(p,b){var v;const y=((v=b==null?void 0:b[e])==null?void 0:v[h])||u,j=N.useContext(y);if(j)return j;if(c!==void 0)return c;throw new Error(`\`${p}\` must be used within \`${l}\``)}return[f,g]}const i=()=>{const l=s.map(c=>N.createContext(c));return function(u){const h=(u==null?void 0:u[e])||l;return N.useMemo(()=>({[`__scope${e}`]:oe(z({},u),{[e]:h})}),[u,h])}};return i.scopeName=e,[n,V5(i,...t)]}function V5(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const c=n.reduce((u,{useScope:h,scopeName:f})=>{const p=h(l)[`__scope${f}`];return z(z({},u),p)},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return s.scopeName=t.scopeName,s}function xu(e){const t=q5(e),s=N.forwardRef((n,i)=>{const f=n,{children:l}=f,c=$e(f,["children"]),u=N.Children.toArray(l),h=u.find(Y5);if(h){const g=h.props.children,p=u.map(b=>b===h?N.Children.count(g)>1?N.Children.only(null):N.isValidElement(g)?g.props.children:null:b);return a.jsx(t,oe(z({},c),{ref:i,children:N.isValidElement(g)?N.cloneElement(g,void 0,p):null}))}return a.jsx(t,oe(z({},c),{ref:i,children:l}))});return s.displayName=`${e}.Slot`,s}var I5=xu("Slot");function q5(e){const t=N.forwardRef((s,n)=>{const c=s,{children:i}=c,l=$e(c,["children"]);if(N.isValidElement(i)){const u=X5(i),h=G5(l,i.props);return i.type!==N.Fragment&&(h.ref=n?Vo(n,u):u),N.cloneElement(i,h)}return N.Children.count(i)>1?N.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var W5=Symbol("radix.slottable");function Y5(e){return N.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===W5}function G5(e,t){const s=z({},t);for(const n in t){const i=e[n],l=t[n];/^on[A-Z]/.test(n)?i&&l?s[n]=(...u)=>{const h=l(...u);return i(...u),h}:i&&(s[n]=i):n==="style"?s[n]=z(z({},i),l):n==="className"&&(s[n]=[i,l].filter(Boolean).join(" "))}return z(z({},e),s)}function X5(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var K5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Zt=K5.reduce((e,t)=>{const s=xu(`Primitive.${t}`),n=N.forwardRef((i,l)=>{const f=i,{asChild:c}=f,u=$e(f,["asChild"]),h=c?s:t;return typeof window!="undefined"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(h,oe(z({},u),{ref:l}))});return n.displayName=`Primitive.${t}`,oe(z({},e),{[t]:n})},{});function Z_(e,t){e&&hm.flushSync(()=>e.dispatchEvent(t))}function Ii(e){const t=N.useRef(e);return N.useEffect(()=>{t.current=e}),N.useMemo(()=>(...s)=>{var n;return(n=t.current)==null?void 0:n.call(t,...s)},[])}function J_(e,t=globalThis==null?void 0:globalThis.document){const s=Ii(e);N.useEffect(()=>{const n=i=>{i.key==="Escape"&&s(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[s,t])}var Q5="DismissableLayer",K0="dismissableLayer.update",Z5="dismissableLayer.pointerDownOutside",J5="dismissableLayer.focusOutside",kj,eT=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Qx=N.forwardRef((e,t)=>{var F;const L=e,{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:c,onDismiss:u}=L,h=$e(L,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),f=N.useContext(eT),[g,p]=N.useState(null),b=(F=g==null?void 0:g.ownerDocument)!=null?F:globalThis==null?void 0:globalThis.document,[,y]=N.useState({}),j=pn(t,R=>p(R)),v=Array.from(f.layers),[_]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),T=v.indexOf(_),O=g?v.indexOf(g):-1,S=f.layersWithOutsidePointerEventsDisabled.size>0,C=O>=T,D=s3(R=>{const K=R.target,W=[...f.branches].some(Q=>Q.contains(K));!C||W||(i==null||i(R),c==null||c(R),R.defaultPrevented||u==null||u())},b),E=n3(R=>{const K=R.target;[...f.branches].some(Q=>Q.contains(K))||(l==null||l(R),c==null||c(R),R.defaultPrevented||u==null||u())},b);return J_(R=>{O===f.layers.size-1&&(n==null||n(R),!R.defaultPrevented&&u&&(R.preventDefault(),u()))},b),N.useEffect(()=>{if(g)return s&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(kj=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(g)),f.layers.add(g),Cj(),()=>{s&&f.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=kj)}},[g,b,s,f]),N.useEffect(()=>()=>{g&&(f.layers.delete(g),f.layersWithOutsidePointerEventsDisabled.delete(g),Cj())},[g,f]),N.useEffect(()=>{const R=()=>y({});return document.addEventListener(K0,R),()=>document.removeEventListener(K0,R)},[]),a.jsx(Zt.div,oe(z({},h),{ref:j,style:z({pointerEvents:S?C?"auto":"none":void 0},e.style),onFocusCapture:sa(e.onFocusCapture,E.onFocusCapture),onBlurCapture:sa(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:sa(e.onPointerDownCapture,D.onPointerDownCapture)}))});Qx.displayName=Q5;var e3="DismissableLayerBranch",t3=N.forwardRef((e,t)=>{const s=N.useContext(eT),n=N.useRef(null),i=pn(t,n);return N.useEffect(()=>{const l=n.current;if(l)return s.branches.add(l),()=>{s.branches.delete(l)}},[s.branches]),a.jsx(Zt.div,oe(z({},e),{ref:i}))});t3.displayName=e3;function s3(e,t=globalThis==null?void 0:globalThis.document){const s=Ii(e),n=N.useRef(!1),i=N.useRef(()=>{});return N.useEffect(()=>{const l=u=>{if(u.target&&!n.current){let h=function(){tT(Z5,s,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=h,t.addEventListener("click",i.current,{once:!0})):h()}else t.removeEventListener("click",i.current);n.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",l),t.removeEventListener("click",i.current)}},[t,s]),{onPointerDownCapture:()=>n.current=!0}}function n3(e,t=globalThis==null?void 0:globalThis.document){const s=Ii(e),n=N.useRef(!1);return N.useEffect(()=>{const i=l=>{l.target&&!n.current&&tT(J5,s,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,s]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Cj(){const e=new CustomEvent(K0);document.dispatchEvent(e)}function tT(e,t,s,{discrete:n}){const i=s.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&i.addEventListener(e,t,{once:!0}),n?Z_(i,l):i.dispatchEvent(l)}var Jp=0;function sT(){N.useEffect(()=>{var t,s;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:Ej()),document.body.insertAdjacentElement("beforeend",(s=e[1])!=null?s:Ej()),Jp++,()=>{Jp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),Jp--}},[])}function Ej(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var e0="focusScope.autoFocusOnMount",t0="focusScope.autoFocusOnUnmount",Dj={bubbles:!1,cancelable:!0},a3="FocusScope",mm=N.forwardRef((e,t)=>{const v=e,{loop:s=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:l}=v,c=$e(v,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),[u,h]=N.useState(null),f=Ii(i),g=Ii(l),p=N.useRef(null),b=pn(t,_=>h(_)),y=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(n){let _=function(C){if(y.paused||!u)return;const D=C.target;u.contains(D)?p.current=D:Di(p.current,{select:!0})},T=function(C){if(y.paused||!u)return;const D=C.relatedTarget;D!==null&&(u.contains(D)||Di(p.current,{select:!0}))},O=function(C){if(document.activeElement===document.body)for(const E of C)E.removedNodes.length>0&&Di(u)};document.addEventListener("focusin",_),document.addEventListener("focusout",T);const S=new MutationObserver(O);return u&&S.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",T),S.disconnect()}}},[n,u,y.paused]),N.useEffect(()=>{if(u){Oj.add(y);const _=document.activeElement;if(!u.contains(_)){const O=new CustomEvent(e0,Dj);u.addEventListener(e0,f),u.dispatchEvent(O),O.defaultPrevented||(r3(d3(nT(u)),{select:!0}),document.activeElement===_&&Di(u))}return()=>{u.removeEventListener(e0,f),setTimeout(()=>{const O=new CustomEvent(t0,Dj);u.addEventListener(t0,g),u.dispatchEvent(O),O.defaultPrevented||Di(_!=null?_:document.body,{select:!0}),u.removeEventListener(t0,g),Oj.remove(y)},0)}}},[u,f,g,y]);const j=N.useCallback(_=>{if(!s&&!n||y.paused)return;const T=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,O=document.activeElement;if(T&&O){const S=_.currentTarget,[C,D]=i3(S);C&&D?!_.shiftKey&&O===D?(_.preventDefault(),s&&Di(C,{select:!0})):_.shiftKey&&O===C&&(_.preventDefault(),s&&Di(D,{select:!0})):O===S&&_.preventDefault()}},[s,n,y.paused]);return a.jsx(Zt.div,oe(z({tabIndex:-1},c),{ref:b,onKeyDown:j}))});mm.displayName=a3;function r3(e,{select:t=!1}={}){const s=document.activeElement;for(const n of e)if(Di(n,{select:t}),document.activeElement!==s)return}function i3(e){const t=nT(e),s=Aj(t,e),n=Aj(t.reverse(),e);return[s,n]}function nT(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function Aj(e,t){for(const s of e)if(!o3(s,{upTo:t}))return s}function o3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function l3(e){return e instanceof HTMLInputElement&&"select"in e}function Di(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&l3(e)&&t&&e.select()}}var Oj=c3();function c3(){let e=[];return{add(t){const s=e[0];t!==s&&(s==null||s.pause()),e=Mj(e,t),e.unshift(t)},remove(t){var s;e=Mj(e,t),(s=e[0])==null||s.resume()}}}function Mj(e,t){const s=[...e],n=s.indexOf(t);return n!==-1&&s.splice(n,1),s}function d3(e){return e.filter(t=>t.tagName!=="A")}var pr=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},u3=U2[" useId ".trim().toString()]||(()=>{}),h3=0;function na(e){const[t,s]=N.useState(u3());return pr(()=>{s(n=>n!=null?n:String(h3++))},[e]),e||(t?`radix-${t}`:"")}const f3=["top","right","bottom","left"],qi=Math.min,ta=Math.max,Bf=Math.round,$h=Math.floor,fr=e=>({x:e,y:e}),m3={left:"right",right:"left",bottom:"top",top:"bottom"},g3={start:"end",end:"start"};function Q0(e,t,s){return ta(e,qi(t,s))}function Kr(e,t){return typeof e=="function"?e(t):e}function Qr(e){return e.split("-")[0]}function pc(e){return e.split("-")[1]}function Zx(e){return e==="x"?"y":"x"}function Jx(e){return e==="y"?"height":"width"}const p3=new Set(["top","bottom"]);function cr(e){return p3.has(Qr(e))?"y":"x"}function ey(e){return Zx(cr(e))}function x3(e,t,s){s===void 0&&(s=!1);const n=pc(e),i=ey(e),l=Jx(i);let c=i==="x"?n===(s?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(c=Ff(c)),[c,Ff(c)]}function y3(e){const t=Ff(e);return[Z0(e),t,Z0(t)]}function Z0(e){return e.replace(/start|end/g,t=>g3[t])}const Rj=["left","right"],Pj=["right","left"],b3=["top","bottom"],v3=["bottom","top"];function w3(e,t,s){switch(e){case"top":case"bottom":return s?t?Pj:Rj:t?Rj:Pj;case"left":case"right":return t?b3:v3;default:return[]}}function j3(e,t,s,n){const i=pc(e);let l=w3(Qr(e),s==="start",n);return i&&(l=l.map(c=>c+"-"+i),t&&(l=l.concat(l.map(Z0)))),l}function Ff(e){return e.replace(/left|right|bottom|top/g,t=>m3[t])}function N3(e){return z({top:0,right:0,bottom:0,left:0},e)}function aT(e){return typeof e!="number"?N3(e):{top:e,right:e,bottom:e,left:e}}function zf(e){const{x:t,y:s,width:n,height:i}=e;return{width:n,height:i,top:s,left:t,right:t+n,bottom:s+i,x:t,y:s}}function Lj(e,t,s){let{reference:n,floating:i}=e;const l=cr(t),c=ey(t),u=Jx(c),h=Qr(t),f=l==="y",g=n.x+n.width/2-i.width/2,p=n.y+n.height/2-i.height/2,b=n[u]/2-i[u]/2;let y;switch(h){case"top":y={x:g,y:n.y-i.height};break;case"bottom":y={x:g,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:p};break;case"left":y={x:n.x-i.width,y:p};break;default:y={x:n.x,y:n.y}}switch(pc(t)){case"start":y[c]-=b*(s&&f?-1:1);break;case"end":y[c]+=b*(s&&f?-1:1);break}return y}const _3=(e,t,s)=>fe(null,null,function*(){const{placement:n="bottom",strategy:i="absolute",middleware:l=[],platform:c}=s,u=l.filter(Boolean),h=yield c.isRTL==null?void 0:c.isRTL(t);let f=yield c.getElementRects({reference:e,floating:t,strategy:i}),{x:g,y:p}=Lj(f,n,h),b=n,y={},j=0;for(let v=0;v<u.length;v++){const{name:_,fn:T}=u[v],{x:O,y:S,data:C,reset:D}=yield T({x:g,y:p,initialPlacement:n,placement:b,strategy:i,middlewareData:y,rects:f,platform:c,elements:{reference:e,floating:t}});g=O!=null?O:g,p=S!=null?S:p,y=oe(z({},y),{[_]:z(z({},y[_]),C)}),D&&j<=50&&(j++,typeof D=="object"&&(D.placement&&(b=D.placement),D.rects&&(f=D.rects===!0?yield c.getElementRects({reference:e,floating:t,strategy:i}):D.rects),{x:g,y:p}=Lj(f,b,h)),v=-1)}return{x:g,y:p,placement:b,strategy:i,middlewareData:y}});function su(e,t){return fe(this,null,function*(){var s;t===void 0&&(t={});const{x:n,y:i,platform:l,rects:c,elements:u,strategy:h}=e,{boundary:f="clippingAncestors",rootBoundary:g="viewport",elementContext:p="floating",altBoundary:b=!1,padding:y=0}=Kr(t,e),j=aT(y),_=u[b?p==="floating"?"reference":"floating":p],T=zf(yield l.getClippingRect({element:(s=yield l.isElement==null?void 0:l.isElement(_))==null||s?_:_.contextElement||(yield l.getDocumentElement==null?void 0:l.getDocumentElement(u.floating)),boundary:f,rootBoundary:g,strategy:h})),O=p==="floating"?{x:n,y:i,width:c.floating.width,height:c.floating.height}:c.reference,S=yield l.getOffsetParent==null?void 0:l.getOffsetParent(u.floating),C=(yield l.isElement==null?void 0:l.isElement(S))?(yield l.getScale==null?void 0:l.getScale(S))||{x:1,y:1}:{x:1,y:1},D=zf(l.convertOffsetParentRelativeRectToViewportRelativeRect?yield l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:O,offsetParent:S,strategy:h}):O);return{top:(T.top-D.top+j.top)/C.y,bottom:(D.bottom-T.bottom+j.bottom)/C.y,left:(T.left-D.left+j.left)/C.x,right:(D.right-T.right+j.right)/C.x}})}const T3=e=>({name:"arrow",options:e,fn(s){return fe(this,null,function*(){const{x:n,y:i,placement:l,rects:c,platform:u,elements:h,middlewareData:f}=s,{element:g,padding:p=0}=Kr(e,s)||{};if(g==null)return{};const b=aT(p),y={x:n,y:i},j=ey(l),v=Jx(j),_=yield u.getDimensions(g),T=j==="y",O=T?"top":"left",S=T?"bottom":"right",C=T?"clientHeight":"clientWidth",D=c.reference[v]+c.reference[j]-y[j]-c.floating[v],E=y[j]-c.reference[j],L=yield u.getOffsetParent==null?void 0:u.getOffsetParent(g);let F=L?L[C]:0;(!F||!(yield u.isElement==null?void 0:u.isElement(L)))&&(F=h.floating[C]||c.floating[v]);const R=D/2-E/2,K=F/2-_[v]/2-1,W=qi(b[O],K),Q=qi(b[S],K),H=W,q=F-_[v]-Q,Y=F/2-_[v]/2+R,$=Q0(H,Y,q),J=!f.arrow&&pc(l)!=null&&Y!==$&&c.reference[v]/2-(Y<H?W:Q)-_[v]/2<0,se=J?Y<H?Y-H:Y-q:0;return{[j]:y[j]+se,data:z({[j]:$,centerOffset:Y-$-se},J&&{alignmentOffset:se}),reset:J}})}}),S3=function(e){return e===void 0&&(e={}),{name:"flip",options:e,fn(s){return fe(this,null,function*(){var n,i;const{placement:l,middlewareData:c,rects:u,initialPlacement:h,platform:f,elements:g}=s,Y=Kr(e,s),{mainAxis:p=!0,crossAxis:b=!0,fallbackPlacements:y,fallbackStrategy:j="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:_=!0}=Y,T=$e(Y,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if((n=c.arrow)!=null&&n.alignmentOffset)return{};const O=Qr(l),S=cr(h),C=Qr(h)===h,D=yield f.isRTL==null?void 0:f.isRTL(g.floating),E=y||(C||!_?[Ff(h)]:y3(h)),L=v!=="none";!y&&L&&E.push(...j3(h,_,v,D));const F=[h,...E],R=yield su(s,T),K=[];let W=((i=c.flip)==null?void 0:i.overflows)||[];if(p&&K.push(R[O]),b){const $=x3(l,u,D);K.push(R[$[0]],R[$[1]])}if(W=[...W,{placement:l,overflows:K}],!K.every($=>$<=0)){var Q,H;const $=(((Q=c.flip)==null?void 0:Q.index)||0)+1,J=F[$];if(J&&(!(b==="alignment"?S!==cr(J):!1)||W.every(P=>cr(P.placement)===S?P.overflows[0]>0:!0)))return{data:{index:$,overflows:W},reset:{placement:J}};let se=(H=W.filter(Ne=>Ne.overflows[0]<=0).sort((Ne,P)=>Ne.overflows[1]-P.overflows[1])[0])==null?void 0:H.placement;if(!se)switch(j){case"bestFit":{var q;const Ne=(q=W.filter(P=>{if(L){const ne=cr(P.placement);return ne===S||ne==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(ne=>ne>0).reduce((ne,ge)=>ne+ge,0)]).sort((P,ne)=>P[1]-ne[1])[0])==null?void 0:q[0];Ne&&(se=Ne);break}case"initialPlacement":se=h;break}if(l!==se)return{reset:{placement:se}}}return{}})}}};function Bj(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Fj(e){return f3.some(t=>e[t]>=0)}const k3=function(e){return e===void 0&&(e={}),{name:"hide",options:e,fn(s){return fe(this,null,function*(){const{rects:n}=s,c=Kr(e,s),{strategy:i="referenceHidden"}=c,l=$e(c,["strategy"]);switch(i){case"referenceHidden":{const u=yield su(s,oe(z({},l),{elementContext:"reference"})),h=Bj(u,n.reference);return{data:{referenceHiddenOffsets:h,referenceHidden:Fj(h)}}}case"escaped":{const u=yield su(s,oe(z({},l),{altBoundary:!0})),h=Bj(u,n.floating);return{data:{escapedOffsets:h,escaped:Fj(h)}}}default:return{}}})}}},rT=new Set(["left","top"]);function C3(e,t){return fe(this,null,function*(){const{placement:s,platform:n,elements:i}=e,l=yield n.isRTL==null?void 0:n.isRTL(i.floating),c=Qr(s),u=pc(s),h=cr(s)==="y",f=rT.has(c)?-1:1,g=l&&h?-1:1,p=Kr(t,e);let{mainAxis:b,crossAxis:y,alignmentAxis:j}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return u&&typeof j=="number"&&(y=u==="end"?j*-1:j),h?{x:y*g,y:b*f}:{x:b*f,y:y*g}})}const E3=function(e){return e===void 0&&(e=0),{name:"offset",options:e,fn(s){return fe(this,null,function*(){var n,i;const{x:l,y:c,placement:u,middlewareData:h}=s,f=yield C3(s,e);return u===((n=h.offset)==null?void 0:n.placement)&&(i=h.arrow)!=null&&i.alignmentOffset?{}:{x:l+f.x,y:c+f.y,data:oe(z({},f),{placement:u})}})}}},D3=function(e){return e===void 0&&(e={}),{name:"shift",options:e,fn(s){return fe(this,null,function*(){const{x:n,y:i,placement:l}=s,T=Kr(e,s),{mainAxis:c=!0,crossAxis:u=!1,limiter:h={fn:O=>{let{x:S,y:C}=O;return{x:S,y:C}}}}=T,f=$e(T,["mainAxis","crossAxis","limiter"]),g={x:n,y:i},p=yield su(s,f),b=cr(Qr(l)),y=Zx(b);let j=g[y],v=g[b];if(c){const O=y==="y"?"top":"left",S=y==="y"?"bottom":"right",C=j+p[O],D=j-p[S];j=Q0(C,j,D)}if(u){const O=b==="y"?"top":"left",S=b==="y"?"bottom":"right",C=v+p[O],D=v-p[S];v=Q0(C,v,D)}const _=h.fn(oe(z({},s),{[y]:j,[b]:v}));return oe(z({},_),{data:{x:_.x-n,y:_.y-i,enabled:{[y]:c,[b]:u}}})})}}},A3=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:n,placement:i,rects:l,middlewareData:c}=t,{offset:u=0,mainAxis:h=!0,crossAxis:f=!0}=Kr(e,t),g={x:s,y:n},p=cr(i),b=Zx(p);let y=g[b],j=g[p];const v=Kr(u,t),_=typeof v=="number"?{mainAxis:v,crossAxis:0}:z({mainAxis:0,crossAxis:0},v);if(h){const S=b==="y"?"height":"width",C=l.reference[b]-l.floating[S]+_.mainAxis,D=l.reference[b]+l.reference[S]-_.mainAxis;y<C?y=C:y>D&&(y=D)}if(f){var T,O;const S=b==="y"?"width":"height",C=rT.has(Qr(i)),D=l.reference[p]-l.floating[S]+(C&&((T=c.offset)==null?void 0:T[p])||0)+(C?0:_.crossAxis),E=l.reference[p]+l.reference[S]+(C?0:((O=c.offset)==null?void 0:O[p])||0)-(C?_.crossAxis:0);j<D?j=D:j>E&&(j=E)}return{[b]:y,[p]:j}}}},O3=function(e){return e===void 0&&(e={}),{name:"size",options:e,fn(s){return fe(this,null,function*(){var n,i;const{placement:l,rects:c,platform:u,elements:h}=s,W=Kr(e,s),{apply:f=()=>{}}=W,g=$e(W,["apply"]),p=yield su(s,g),b=Qr(l),y=pc(l),j=cr(l)==="y",{width:v,height:_}=c.floating;let T,O;b==="top"||b==="bottom"?(T=b,O=y===((yield u.isRTL==null?void 0:u.isRTL(h.floating))?"start":"end")?"left":"right"):(O=b,T=y==="end"?"top":"bottom");const S=_-p.top-p.bottom,C=v-p.left-p.right,D=qi(_-p[T],S),E=qi(v-p[O],C),L=!s.middlewareData.shift;let F=D,R=E;if((n=s.middlewareData.shift)!=null&&n.enabled.x&&(R=C),(i=s.middlewareData.shift)!=null&&i.enabled.y&&(F=S),L&&!y){const Q=ta(p.left,0),H=ta(p.right,0),q=ta(p.top,0),Y=ta(p.bottom,0);j?R=v-2*(Q!==0||H!==0?Q+H:ta(p.left,p.right)):F=_-2*(q!==0||Y!==0?q+Y:ta(p.top,p.bottom))}yield f(oe(z({},s),{availableWidth:R,availableHeight:F}));const K=yield u.getDimensions(h.floating);return v!==K.width||_!==K.height?{reset:{rects:!0}}:{}})}}};function gm(){return typeof window!="undefined"}function xc(e){return iT(e)?(e.nodeName||"").toLowerCase():"#document"}function aa(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function br(e){var t;return(t=(iT(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function iT(e){return gm()?e instanceof Node||e instanceof aa(e).Node:!1}function Ua(e){return gm()?e instanceof Element||e instanceof aa(e).Element:!1}function xr(e){return gm()?e instanceof HTMLElement||e instanceof aa(e).HTMLElement:!1}function zj(e){return!gm()||typeof ShadowRoot=="undefined"?!1:e instanceof ShadowRoot||e instanceof aa(e).ShadowRoot}const M3=new Set(["inline","contents"]);function yu(e){const{overflow:t,overflowX:s,overflowY:n,display:i}=Ha(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+s)&&!M3.has(i)}const R3=new Set(["table","td","th"]);function P3(e){return R3.has(xc(e))}const L3=[":popover-open",":modal"];function pm(e){return L3.some(t=>{try{return e.matches(t)}catch(s){return!1}})}const B3=["transform","translate","scale","rotate","perspective"],F3=["transform","translate","scale","rotate","perspective","filter"],z3=["paint","layout","strict","content"];function ty(e){const t=sy(),s=Ua(e)?Ha(e):e;return B3.some(n=>s[n]?s[n]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||F3.some(n=>(s.willChange||"").includes(n))||z3.some(n=>(s.contain||"").includes(n))}function U3(e){let t=Wi(e);for(;xr(t)&&!cc(t);){if(ty(t))return t;if(pm(t))return null;t=Wi(t)}return null}function sy(){return typeof CSS=="undefined"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const H3=new Set(["html","body","#document"]);function cc(e){return H3.has(xc(e))}function Ha(e){return aa(e).getComputedStyle(e)}function xm(e){return Ua(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Wi(e){if(xc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||zj(e)&&e.host||br(e);return zj(t)?t.host:t}function oT(e){const t=Wi(e);return cc(t)?e.ownerDocument?e.ownerDocument.body:e.body:xr(t)&&yu(t)?t:oT(t)}function nu(e,t,s){var n;t===void 0&&(t=[]),s===void 0&&(s=!0);const i=oT(e),l=i===((n=e.ownerDocument)==null?void 0:n.body),c=aa(i);if(l){const u=J0(c);return t.concat(c,c.visualViewport||[],yu(i)?i:[],u&&s?nu(u):[])}return t.concat(i,nu(i,[],s))}function J0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function lT(e){const t=Ha(e);let s=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=xr(e),l=i?e.offsetWidth:s,c=i?e.offsetHeight:n,u=Bf(s)!==l||Bf(n)!==c;return u&&(s=l,n=c),{width:s,height:n,$:u}}function ny(e){return Ua(e)?e:e.contextElement}function ec(e){const t=ny(e);if(!xr(t))return fr(1);const s=t.getBoundingClientRect(),{width:n,height:i,$:l}=lT(t);let c=(l?Bf(s.width):s.width)/n,u=(l?Bf(s.height):s.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const $3=fr(0);function cT(e){const t=aa(e);return!sy()||!t.visualViewport?$3:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function V3(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==aa(e)?!1:t}function Io(e,t,s,n){t===void 0&&(t=!1),s===void 0&&(s=!1);const i=e.getBoundingClientRect(),l=ny(e);let c=fr(1);t&&(n?Ua(n)&&(c=ec(n)):c=ec(e));const u=V3(l,s,n)?cT(l):fr(0);let h=(i.left+u.x)/c.x,f=(i.top+u.y)/c.y,g=i.width/c.x,p=i.height/c.y;if(l){const b=aa(l),y=n&&Ua(n)?aa(n):n;let j=b,v=J0(j);for(;v&&n&&y!==j;){const _=ec(v),T=v.getBoundingClientRect(),O=Ha(v),S=T.left+(v.clientLeft+parseFloat(O.paddingLeft))*_.x,C=T.top+(v.clientTop+parseFloat(O.paddingTop))*_.y;h*=_.x,f*=_.y,g*=_.x,p*=_.y,h+=S,f+=C,j=aa(v),v=J0(j)}}return zf({width:g,height:p,x:h,y:f})}function ay(e,t){const s=xm(e).scrollLeft;return t?t.left+s:Io(br(e)).left+s}function dT(e,t,s){s===void 0&&(s=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(s?0:ay(e,n)),l=n.top+t.scrollTop;return{x:i,y:l}}function I3(e){let{elements:t,rect:s,offsetParent:n,strategy:i}=e;const l=i==="fixed",c=br(n),u=t?pm(t.floating):!1;if(n===c||u&&l)return s;let h={scrollLeft:0,scrollTop:0},f=fr(1);const g=fr(0),p=xr(n);if((p||!p&&!l)&&((xc(n)!=="body"||yu(c))&&(h=xm(n)),xr(n))){const y=Io(n);f=ec(n),g.x=y.x+n.clientLeft,g.y=y.y+n.clientTop}const b=c&&!p&&!l?dT(c,h,!0):fr(0);return{width:s.width*f.x,height:s.height*f.y,x:s.x*f.x-h.scrollLeft*f.x+g.x+b.x,y:s.y*f.y-h.scrollTop*f.y+g.y+b.y}}function q3(e){return Array.from(e.getClientRects())}function W3(e){const t=br(e),s=xm(e),n=e.ownerDocument.body,i=ta(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),l=ta(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let c=-s.scrollLeft+ay(e);const u=-s.scrollTop;return Ha(n).direction==="rtl"&&(c+=ta(t.clientWidth,n.clientWidth)-i),{width:i,height:l,x:c,y:u}}function Y3(e,t){const s=aa(e),n=br(e),i=s.visualViewport;let l=n.clientWidth,c=n.clientHeight,u=0,h=0;if(i){l=i.width,c=i.height;const f=sy();(!f||f&&t==="fixed")&&(u=i.offsetLeft,h=i.offsetTop)}return{width:l,height:c,x:u,y:h}}const G3=new Set(["absolute","fixed"]);function X3(e,t){const s=Io(e,!0,t==="fixed"),n=s.top+e.clientTop,i=s.left+e.clientLeft,l=xr(e)?ec(e):fr(1),c=e.clientWidth*l.x,u=e.clientHeight*l.y,h=i*l.x,f=n*l.y;return{width:c,height:u,x:h,y:f}}function Uj(e,t,s){let n;if(t==="viewport")n=Y3(e,s);else if(t==="document")n=W3(br(e));else if(Ua(t))n=X3(t,s);else{const i=cT(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return zf(n)}function uT(e,t){const s=Wi(e);return s===t||!Ua(s)||cc(s)?!1:Ha(s).position==="fixed"||uT(s,t)}function K3(e,t){const s=t.get(e);if(s)return s;let n=nu(e,[],!1).filter(u=>Ua(u)&&xc(u)!=="body"),i=null;const l=Ha(e).position==="fixed";let c=l?Wi(e):e;for(;Ua(c)&&!cc(c);){const u=Ha(c),h=ty(c);!h&&u.position==="fixed"&&(i=null),(l?!h&&!i:!h&&u.position==="static"&&!!i&&G3.has(i.position)||yu(c)&&!h&&uT(e,c))?n=n.filter(g=>g!==c):i=u,c=Wi(c)}return t.set(e,n),n}function Q3(e){let{element:t,boundary:s,rootBoundary:n,strategy:i}=e;const c=[...s==="clippingAncestors"?pm(t)?[]:K3(t,this._c):[].concat(s),n],u=c[0],h=c.reduce((f,g)=>{const p=Uj(t,g,i);return f.top=ta(p.top,f.top),f.right=qi(p.right,f.right),f.bottom=qi(p.bottom,f.bottom),f.left=ta(p.left,f.left),f},Uj(t,u,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function Z3(e){const{width:t,height:s}=lT(e);return{width:t,height:s}}function J3(e,t,s){const n=xr(t),i=br(t),l=s==="fixed",c=Io(e,!0,l,t);let u={scrollLeft:0,scrollTop:0};const h=fr(0);function f(){h.x=ay(i)}if(n||!n&&!l)if((xc(t)!=="body"||yu(i))&&(u=xm(t)),n){const y=Io(t,!0,l,t);h.x=y.x+t.clientLeft,h.y=y.y+t.clientTop}else i&&f();l&&!n&&i&&f();const g=i&&!n&&!l?dT(i,u):fr(0),p=c.left+u.scrollLeft-h.x-g.x,b=c.top+u.scrollTop-h.y-g.y;return{x:p,y:b,width:c.width,height:c.height}}function s0(e){return Ha(e).position==="static"}function Hj(e,t){if(!xr(e)||Ha(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return br(e)===s&&(s=s.ownerDocument.body),s}function hT(e,t){const s=aa(e);if(pm(e))return s;if(!xr(e)){let i=Wi(e);for(;i&&!cc(i);){if(Ua(i)&&!s0(i))return i;i=Wi(i)}return s}let n=Hj(e,t);for(;n&&P3(n)&&s0(n);)n=Hj(n,t);return n&&cc(n)&&s0(n)&&!ty(n)?s:n||U3(e)||s}const eR=function(e){return fe(this,null,function*(){const t=this.getOffsetParent||hT,s=this.getDimensions,n=yield s(e.floating);return{reference:J3(e.reference,yield t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}})};function tR(e){return Ha(e).direction==="rtl"}const sR={convertOffsetParentRelativeRectToViewportRelativeRect:I3,getDocumentElement:br,getClippingRect:Q3,getOffsetParent:hT,getElementRects:eR,getClientRects:q3,getDimensions:Z3,getScale:ec,isElement:Ua,isRTL:tR};function fT(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function nR(e,t){let s=null,n;const i=br(e);function l(){var u;clearTimeout(n),(u=s)==null||u.disconnect(),s=null}function c(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),l();const f=e.getBoundingClientRect(),{left:g,top:p,width:b,height:y}=f;if(u||t(),!b||!y)return;const j=$h(p),v=$h(i.clientWidth-(g+b)),_=$h(i.clientHeight-(p+y)),T=$h(g),S={rootMargin:-j+"px "+-v+"px "+-_+"px "+-T+"px",threshold:ta(0,qi(1,h))||1};let C=!0;function D(E){const L=E[0].intersectionRatio;if(L!==h){if(!C)return c();L?c(!1,L):n=setTimeout(()=>{c(!1,1e-7)},1e3)}L===1&&!fT(f,e.getBoundingClientRect())&&c(),C=!1}try{s=new IntersectionObserver(D,oe(z({},S),{root:i.ownerDocument}))}catch(E){s=new IntersectionObserver(D,S)}s.observe(e)}return c(!0),l}function aR(e,t,s,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=n,f=ny(e),g=i||l?[...f?nu(f):[],...nu(t)]:[];g.forEach(T=>{i&&T.addEventListener("scroll",s,{passive:!0}),l&&T.addEventListener("resize",s)});const p=f&&u?nR(f,s):null;let b=-1,y=null;c&&(y=new ResizeObserver(T=>{let[O]=T;O&&O.target===f&&y&&(y.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var S;(S=y)==null||S.observe(t)})),s()}),f&&!h&&y.observe(f),y.observe(t));let j,v=h?Io(e):null;h&&_();function _(){const T=Io(e);v&&!fT(v,T)&&s(),v=T,j=requestAnimationFrame(_)}return s(),()=>{var T;g.forEach(O=>{i&&O.removeEventListener("scroll",s),l&&O.removeEventListener("resize",s)}),p==null||p(),(T=y)==null||T.disconnect(),y=null,h&&cancelAnimationFrame(j)}}const rR=E3,iR=D3,oR=S3,lR=O3,cR=k3,$j=T3,dR=A3,uR=(e,t,s)=>{const n=new Map,i=z({platform:sR},s),l=oe(z({},i.platform),{_c:n});return _3(e,t,oe(z({},i),{platform:l}))};var hR=typeof document!="undefined",fR=function(){},Tf=hR?N.useLayoutEffect:fR;function Uf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(n=s;n--!==0;)if(!Uf(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),s=i.length,s!==Object.keys(t).length)return!1;for(n=s;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=s;n--!==0;){const l=i[n];if(!(l==="_owner"&&e.$$typeof)&&!Uf(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function mT(e){return typeof window=="undefined"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Vj(e,t){const s=mT(e);return Math.round(t*s)/s}function n0(e){const t=N.useRef(e);return Tf(()=>{t.current=e}),t}function mR(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:n=[],platform:i,elements:{reference:l,floating:c}={},transform:u=!0,whileElementsMounted:h,open:f}=e,[g,p]=N.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[b,y]=N.useState(n);Uf(b,n)||y(n);const[j,v]=N.useState(null),[_,T]=N.useState(null),O=N.useCallback(se=>{se!==E.current&&(E.current=se,v(se))},[]),S=N.useCallback(se=>{se!==L.current&&(L.current=se,T(se))},[]),C=l||j,D=c||_,E=N.useRef(null),L=N.useRef(null),F=N.useRef(g),R=h!=null,K=n0(h),W=n0(i),Q=n0(f),H=N.useCallback(()=>{if(!E.current||!L.current)return;const se={placement:t,strategy:s,middleware:b};W.current&&(se.platform=W.current),uR(E.current,L.current,se).then(Ne=>{const P=oe(z({},Ne),{isPositioned:Q.current!==!1});q.current&&!Uf(F.current,P)&&(F.current=P,hm.flushSync(()=>{p(P)}))})},[b,t,s,W,Q]);Tf(()=>{f===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,p(se=>oe(z({},se),{isPositioned:!1})))},[f]);const q=N.useRef(!1);Tf(()=>(q.current=!0,()=>{q.current=!1}),[]),Tf(()=>{if(C&&(E.current=C),D&&(L.current=D),C&&D){if(K.current)return K.current(C,D,H);H()}},[C,D,H,K,R]);const Y=N.useMemo(()=>({reference:E,floating:L,setReference:O,setFloating:S}),[O,S]),$=N.useMemo(()=>({reference:C,floating:D}),[C,D]),J=N.useMemo(()=>{const se={position:s,left:0,top:0};if(!$.floating)return se;const Ne=Vj($.floating,g.x),P=Vj($.floating,g.y);return u?z(oe(z({},se),{transform:"translate("+Ne+"px, "+P+"px)"}),mT($.floating)>=1.5&&{willChange:"transform"}):{position:s,left:Ne,top:P}},[s,u,$.floating,g.x,g.y]);return N.useMemo(()=>oe(z({},g),{update:H,refs:Y,elements:$,floatingStyles:J}),[g,H,Y,$,J])}const gR=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:n,padding:i}=typeof e=="function"?e(s):e;return n&&t(n)?n.current!=null?$j({element:n.current,padding:i}).fn(s):{}:n?$j({element:n,padding:i}).fn(s):{}}}},pR=(e,t)=>oe(z({},rR(e)),{options:[e,t]}),xR=(e,t)=>oe(z({},iR(e)),{options:[e,t]}),yR=(e,t)=>oe(z({},dR(e)),{options:[e,t]}),bR=(e,t)=>oe(z({},oR(e)),{options:[e,t]}),vR=(e,t)=>oe(z({},lR(e)),{options:[e,t]}),wR=(e,t)=>oe(z({},cR(e)),{options:[e,t]}),jR=(e,t)=>oe(z({},gR(e)),{options:[e,t]});var NR="Arrow",gT=N.forwardRef((e,t)=>{const c=e,{children:s,width:n=10,height:i=5}=c,l=$e(c,["children","width","height"]);return a.jsx(Zt.svg,oe(z({},l),{ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:a.jsx("polygon",{points:"0,0 30,0 15,10"})}))});gT.displayName=NR;var _R=gT;function TR(e){const[t,s]=N.useState(void 0);return pr(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const l=i[0];let c,u;if("borderBoxSize"in l){const h=l.borderBoxSize,f=Array.isArray(h)?h[0]:h;c=f.inlineSize,u=f.blockSize}else c=e.offsetWidth,u=e.offsetHeight;s({width:c,height:u})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else s(void 0)},[e]),t}var ry="Popper",[pT,xT]=fm(ry),[SR,yT]=pT(ry),bT=e=>{const{__scopePopper:t,children:s}=e,[n,i]=N.useState(null);return a.jsx(SR,{scope:t,anchor:n,onAnchorChange:i,children:s})};bT.displayName=ry;var vT="PopperAnchor",wT=N.forwardRef((e,t)=>{const f=e,{__scopePopper:s,virtualRef:n}=f,i=$e(f,["__scopePopper","virtualRef"]),l=yT(vT,s),c=N.useRef(null),u=pn(t,c),h=N.useRef(null);return N.useEffect(()=>{const g=h.current;h.current=(n==null?void 0:n.current)||c.current,g!==h.current&&l.onAnchorChange(h.current)}),n?null:a.jsx(Zt.div,oe(z({},i),{ref:u}))});wT.displayName=vT;var iy="PopperContent",[kR,CR]=pT(iy),jT=N.forwardRef((e,t)=>{var we,Ee,X,Oe,He,Ye,tt,gt;const Le=e,{__scopePopper:s,side:n="bottom",sideOffset:i=0,align:l="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:f=[],collisionPadding:g=0,sticky:p="partial",hideWhenDetached:b=!1,updatePositionStrategy:y="optimized",onPlaced:j}=Le,v=$e(Le,["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"]),_=yT(iy,s),[T,O]=N.useState(null),S=pn(t,Dt=>O(Dt)),[C,D]=N.useState(null),E=TR(C),L=(we=E==null?void 0:E.width)!=null?we:0,F=(Ee=E==null?void 0:E.height)!=null?Ee:0,R=n+(l!=="center"?"-"+l:""),K=typeof g=="number"?g:z({top:0,right:0,bottom:0,left:0},g),W=Array.isArray(f)?f:[f],Q=W.length>0,H={padding:K,boundary:W.filter(DR),altBoundary:Q},{refs:q,floatingStyles:Y,placement:$,isPositioned:J,middlewareData:se}=mR({strategy:"fixed",placement:R,whileElementsMounted:(...Dt)=>aR(...Dt,{animationFrame:y==="always"}),elements:{reference:_.anchor},middleware:[pR({mainAxis:i+F,alignmentAxis:c}),h&&xR(z({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?yR():void 0},H)),h&&bR(z({},H)),vR(oe(z({},H),{apply:({elements:Dt,rects:De,availableWidth:Ue,availableHeight:Pe})=>{const{width:Z,height:le}=De.reference,V=Dt.floating.style;V.setProperty("--radix-popper-available-width",`${Ue}px`),V.setProperty("--radix-popper-available-height",`${Pe}px`),V.setProperty("--radix-popper-anchor-width",`${Z}px`),V.setProperty("--radix-popper-anchor-height",`${le}px`)}})),C&&jR({element:C,padding:u}),AR({arrowWidth:L,arrowHeight:F}),b&&wR(z({strategy:"referenceHidden"},H))]}),[Ne,P]=TT($),ne=Ii(j);pr(()=>{J&&(ne==null||ne())},[J,ne]);const ge=(X=se.arrow)==null?void 0:X.x,G=(Oe=se.arrow)==null?void 0:Oe.y,re=((He=se.arrow)==null?void 0:He.centerOffset)!==0,[_e,me]=N.useState();return pr(()=>{T&&me(window.getComputedStyle(T).zIndex)},[T]),a.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:z(oe(z({},Y),{transform:J?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:_e,"--radix-popper-transform-origin":[(Ye=se.transformOrigin)==null?void 0:Ye.x,(tt=se.transformOrigin)==null?void 0:tt.y].join(" ")}),((gt=se.hide)==null?void 0:gt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:a.jsx(kR,{scope:s,placedSide:Ne,onArrowChange:D,arrowX:ge,arrowY:G,shouldHideArrow:re,children:a.jsx(Zt.div,oe(z({"data-side":Ne,"data-align":P},v),{ref:S,style:oe(z({},v.style),{animation:J?void 0:"none"})}))})})});jT.displayName=iy;var NT="PopperArrow",ER={top:"bottom",right:"left",bottom:"top",left:"right"},_T=N.forwardRef(function(t,s){const u=t,{__scopePopper:n}=u,i=$e(u,["__scopePopper"]),l=CR(NT,n),c=ER[l.placedSide];return a.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:a.jsx(_R,oe(z({},i),{ref:s,style:oe(z({},i.style),{display:"block"})}))})});_T.displayName=NT;function DR(e){return e!==null}var AR=e=>({name:"transformOrigin",options:e,fn(t){var _,T,O,S,C;const{placement:s,rects:n,middlewareData:i}=t,c=((_=i.arrow)==null?void 0:_.centerOffset)!==0,u=c?0:e.arrowWidth,h=c?0:e.arrowHeight,[f,g]=TT(s),p={start:"0%",center:"50%",end:"100%"}[g],b=((O=(T=i.arrow)==null?void 0:T.x)!=null?O:0)+u/2,y=((C=(S=i.arrow)==null?void 0:S.y)!=null?C:0)+h/2;let j="",v="";return f==="bottom"?(j=c?p:`${b}px`,v=`${-h}px`):f==="top"?(j=c?p:`${b}px`,v=`${n.floating.height+h}px`):f==="right"?(j=`${-h}px`,v=c?p:`${y}px`):f==="left"&&(j=`${n.floating.width+h}px`,v=c?p:`${y}px`),{data:{x:j,y:v}}}});function TT(e){const[t,s="center"]=e.split("-");return[t,s]}var OR=bT,ST=wT,MR=jT,RR=_T,PR="Portal",ym=N.forwardRef((e,t)=>{var h;const u=e,{container:s}=u,n=$e(u,["container"]),[i,l]=N.useState(!1);pr(()=>l(!0),[]);const c=s||i&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return c?q_.createPortal(a.jsx(Zt.div,oe(z({},n),{ref:t})),c):null});ym.displayName=PR;function LR(e,t){return N.useReducer((s,n)=>{const i=t[s][n];return i!=null?i:s},e)}var yc=e=>{const{present:t,children:s}=e,n=BR(t),i=typeof s=="function"?s({present:n.isPresent}):N.Children.only(s),l=pn(n.ref,FR(i));return typeof s=="function"||n.isPresent?N.cloneElement(i,{ref:l}):null};yc.displayName="Presence";function BR(e){const[t,s]=N.useState(),n=N.useRef(null),i=N.useRef(e),l=N.useRef("none"),c=e?"mounted":"unmounted",[u,h]=LR(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const f=Vh(n.current);l.current=u==="mounted"?f:"none"},[u]),pr(()=>{const f=n.current,g=i.current;if(g!==e){const b=l.current,y=Vh(f);e?h("MOUNT"):y==="none"||(f==null?void 0:f.display)==="none"?h("UNMOUNT"):h(g&&b!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,h]),pr(()=>{var f;if(t){let g;const p=(f=t.ownerDocument.defaultView)!=null?f:window,b=j=>{const _=Vh(n.current).includes(CSS.escape(j.animationName));if(j.target===t&&_&&(h("ANIMATION_END"),!i.current)){const T=t.style.animationFillMode;t.style.animationFillMode="forwards",g=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=T)})}},y=j=>{j.target===t&&(l.current=Vh(n.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{p.clearTimeout(g),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:N.useCallback(f=>{n.current=f?getComputedStyle(f):null,s(f)},[])}}function Vh(e){return(e==null?void 0:e.animationName)||"none"}function FR(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var zR=U2[" useInsertionEffect ".trim().toString()]||pr;function oy({prop:e,defaultProp:t,onChange:s=()=>{},caller:n}){const[i,l,c]=UR({defaultProp:t,onChange:s}),u=e!==void 0,h=u?e:i;{const g=N.useRef(e!==void 0);N.useEffect(()=>{const p=g.current;p!==u&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=u},[u,n])}const f=N.useCallback(g=>{var p;if(u){const b=HR(g)?g(e):g;b!==e&&((p=c.current)==null||p.call(c,b))}else l(g)},[u,e,l,c]);return[h,f]}function UR({defaultProp:e,onChange:t}){const[s,n]=N.useState(e),i=N.useRef(s),l=N.useRef(t);return zR(()=>{l.current=t},[t]),N.useEffect(()=>{var c;i.current!==s&&((c=l.current)==null||c.call(l,s),i.current=s)},[s,i]),[s,n,l]}function HR(e){return typeof e=="function"}var $R=function(e){if(typeof document=="undefined")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Bl=new WeakMap,Ih=new WeakMap,qh={},a0=0,kT=function(e){return e&&(e.host||kT(e.parentNode))},VR=function(e,t){return t.map(function(s){if(e.contains(s))return s;var n=kT(s);return n&&e.contains(n)?n:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},IR=function(e,t,s,n){var i=VR(t,Array.isArray(e)?e:[e]);qh[s]||(qh[s]=new WeakMap);var l=qh[s],c=[],u=new Set,h=new Set(i),f=function(p){!p||u.has(p)||(u.add(p),f(p.parentNode))};i.forEach(f);var g=function(p){!p||h.has(p)||Array.prototype.forEach.call(p.children,function(b){if(u.has(b))g(b);else try{var y=b.getAttribute(n),j=y!==null&&y!=="false",v=(Bl.get(b)||0)+1,_=(l.get(b)||0)+1;Bl.set(b,v),l.set(b,_),c.push(b),v===1&&j&&Ih.set(b,!0),_===1&&b.setAttribute(s,"true"),j||b.setAttribute(n,"true")}catch(T){console.error("aria-hidden: cannot operate on ",b,T)}})};return g(t),u.clear(),a0++,function(){c.forEach(function(p){var b=Bl.get(p)-1,y=l.get(p)-1;Bl.set(p,b),l.set(p,y),b||(Ih.has(p)||p.removeAttribute(n),Ih.delete(p)),y||p.removeAttribute(s)}),a0--,a0||(Bl=new WeakMap,Bl=new WeakMap,Ih=new WeakMap,qh={})}},ly=function(e,t,s){s===void 0&&(s="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=$R(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),IR(n,i,s,"aria-hidden")):function(){return null}},ir=function(){return ir=Object.assign||function(t){for(var s,n=1,i=arguments.length;n<i;n++){s=arguments[n];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(t[l]=s[l])}return t},ir.apply(this,arguments)};function CT(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(s[n[i]]=e[n[i]]);return s}function qR(e,t,s){if(s||arguments.length===2)for(var n=0,i=t.length,l;n<i;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return e.concat(l||Array.prototype.slice.call(t))}var Sf="right-scroll-bar-position",kf="width-before-scroll-bar",WR="with-scroll-bars-hidden",YR="--removed-body-scroll-bar-size";function r0(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function GR(e,t){var s=N.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(n){var i=s.value;i!==n&&(s.value=n,s.callback(n,i))}}}})[0];return s.callback=t,s.facade}var XR=typeof window!="undefined"?N.useLayoutEffect:N.useEffect,Ij=new WeakMap;function KR(e,t){var s=GR(null,function(n){return e.forEach(function(i){return r0(i,n)})});return XR(function(){var n=Ij.get(s);if(n){var i=new Set(n),l=new Set(e),c=s.current;i.forEach(function(u){l.has(u)||r0(u,null)}),l.forEach(function(u){i.has(u)||r0(u,c)})}Ij.set(s,e)},[e]),s}function QR(e){return e}function ZR(e,t){t===void 0&&(t=QR);var s=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(l){var c=t(l,n);return s.push(c),function(){s=s.filter(function(u){return u!==c})}},assignSyncMedium:function(l){for(n=!0;s.length;){var c=s;s=[],c.forEach(l)}s={push:function(u){return l(u)},filter:function(){return s}}},assignMedium:function(l){n=!0;var c=[];if(s.length){var u=s;s=[],u.forEach(l),c=s}var h=function(){var g=c;c=[],g.forEach(l)},f=function(){return Promise.resolve().then(h)};f(),s={push:function(g){c.push(g),f()},filter:function(g){return c=c.filter(g),s}}}};return i}function JR(e){e===void 0&&(e={});var t=ZR(null);return t.options=ir({async:!0,ssr:!1},e),t}var ET=function(e){var t=e.sideCar,s=CT(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return N.createElement(n,ir({},s))};ET.isSideCarExport=!0;function e6(e,t){return e.useMedium(t),ET}var DT=JR(),i0=function(){},bm=N.forwardRef(function(e,t){var s=N.useRef(null),n=N.useState({onScrollCapture:i0,onWheelCapture:i0,onTouchMoveCapture:i0}),i=n[0],l=n[1],c=e.forwardProps,u=e.children,h=e.className,f=e.removeScrollBar,g=e.enabled,p=e.shards,b=e.sideCar,y=e.noRelative,j=e.noIsolation,v=e.inert,_=e.allowPinchZoom,T=e.as,O=T===void 0?"div":T,S=e.gapMode,C=CT(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=b,E=KR([s,t]),L=ir(ir({},C),i);return N.createElement(N.Fragment,null,g&&N.createElement(D,{sideCar:DT,removeScrollBar:f,shards:p,noRelative:y,noIsolation:j,inert:v,setCallbacks:l,allowPinchZoom:!!_,lockRef:s,gapMode:S}),c?N.cloneElement(N.Children.only(u),ir(ir({},L),{ref:E})):N.createElement(O,ir({},L,{className:h,ref:E}),u))});bm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bm.classNames={fullWidth:kf,zeroRight:Sf};var t6=function(){if(typeof __webpack_nonce__!="undefined")return __webpack_nonce__};function s6(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=t6();return t&&e.setAttribute("nonce",t),e}function n6(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function a6(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var r6=function(){var e=0,t=null;return{add:function(s){e==0&&(t=s6())&&(n6(t,s),a6(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},i6=function(){var e=r6();return function(t,s){N.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},AT=function(){var e=i6(),t=function(s){var n=s.styles,i=s.dynamic;return e(n,i),null};return t},o6={left:0,top:0,right:0,gap:0},o0=function(e){return parseInt(e||"",10)||0},l6=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[o0(s),o0(n),o0(i)]},c6=function(e){if(e===void 0&&(e="margin"),typeof window=="undefined")return o6;var t=l6(e),s=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-s+t[2]-t[0])}},d6=AT(),tc="data-scroll-locked",u6=function(e,t,s,n){var i=e.left,l=e.top,c=e.right,u=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(WR,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(tc,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),s==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),s==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Sf,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(kf,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Sf," .").concat(Sf,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(kf," .").concat(kf,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(tc,`] {
    `).concat(YR,": ").concat(u,`px;
  }
`)},qj=function(){var e=parseInt(document.body.getAttribute(tc)||"0",10);return isFinite(e)?e:0},h6=function(){N.useEffect(function(){return document.body.setAttribute(tc,(qj()+1).toString()),function(){var e=qj()-1;e<=0?document.body.removeAttribute(tc):document.body.setAttribute(tc,e.toString())}},[])},f6=function(e){var t=e.noRelative,s=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;h6();var l=N.useMemo(function(){return c6(i)},[i]);return N.createElement(d6,{styles:u6(l,!t,i,s?"":"!important")})},ex=!1;if(typeof window!="undefined")try{var Wh=Object.defineProperty({},"passive",{get:function(){return ex=!0,!0}});window.addEventListener("test",Wh,Wh),window.removeEventListener("test",Wh,Wh)}catch(e){ex=!1}var Fl=ex?{passive:!1}:!1,m6=function(e){return e.tagName==="TEXTAREA"},OT=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!m6(e)&&s[t]==="visible")},g6=function(e){return OT(e,"overflowY")},p6=function(e){return OT(e,"overflowX")},Wj=function(e,t){var s=t.ownerDocument,n=t;do{typeof ShadowRoot!="undefined"&&n instanceof ShadowRoot&&(n=n.host);var i=MT(e,n);if(i){var l=RT(e,n),c=l[1],u=l[2];if(c>u)return!0}n=n.parentNode}while(n&&n!==s.body);return!1},x6=function(e){var t=e.scrollTop,s=e.scrollHeight,n=e.clientHeight;return[t,s,n]},y6=function(e){var t=e.scrollLeft,s=e.scrollWidth,n=e.clientWidth;return[t,s,n]},MT=function(e,t){return e==="v"?g6(t):p6(t)},RT=function(e,t){return e==="v"?x6(t):y6(t)},b6=function(e,t){return e==="h"&&t==="rtl"?-1:1},v6=function(e,t,s,n,i){var l=b6(e,window.getComputedStyle(t).direction),c=l*n,u=s.target,h=t.contains(u),f=!1,g=c>0,p=0,b=0;do{if(!u)break;var y=RT(e,u),j=y[0],v=y[1],_=y[2],T=v-_-l*j;(j||T)&&MT(e,u)&&(p+=T,b+=j);var O=u.parentNode;u=O&&O.nodeType===Node.DOCUMENT_FRAGMENT_NODE?O.host:O}while(!h&&u!==document.body||h&&(t.contains(u)||t===u));return(g&&Math.abs(p)<1||!g&&Math.abs(b)<1)&&(f=!0),f},Yh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Yj=function(e){return[e.deltaX,e.deltaY]},Gj=function(e){return e&&"current"in e?e.current:e},w6=function(e,t){return e[0]===t[0]&&e[1]===t[1]},j6=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},N6=0,zl=[];function _6(e){var t=N.useRef([]),s=N.useRef([0,0]),n=N.useRef(),i=N.useState(N6++)[0],l=N.useState(AT)[0],c=N.useRef(e);N.useEffect(function(){c.current=e},[e]),N.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var v=qR([e.lockRef.current],(e.shards||[]).map(Gj),!0).filter(Boolean);return v.forEach(function(_){return _.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var u=N.useCallback(function(v,_){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!c.current.allowPinchZoom;var T=Yh(v),O=s.current,S="deltaX"in v?v.deltaX:O[0]-T[0],C="deltaY"in v?v.deltaY:O[1]-T[1],D,E=v.target,L=Math.abs(S)>Math.abs(C)?"h":"v";if("touches"in v&&L==="h"&&E.type==="range")return!1;var F=Wj(L,E);if(!F)return!0;if(F?D=L:(D=L==="v"?"h":"v",F=Wj(L,E)),!F)return!1;if(!n.current&&"changedTouches"in v&&(S||C)&&(n.current=D),!D)return!0;var R=n.current||D;return v6(R,_,v,R==="h"?S:C)},[]),h=N.useCallback(function(v){var _=v;if(!(!zl.length||zl[zl.length-1]!==l)){var T="deltaY"in _?Yj(_):Yh(_),O=t.current.filter(function(D){return D.name===_.type&&(D.target===_.target||_.target===D.shadowParent)&&w6(D.delta,T)})[0];if(O&&O.should){_.cancelable&&_.preventDefault();return}if(!O){var S=(c.current.shards||[]).map(Gj).filter(Boolean).filter(function(D){return D.contains(_.target)}),C=S.length>0?u(_,S[0]):!c.current.noIsolation;C&&_.cancelable&&_.preventDefault()}}},[]),f=N.useCallback(function(v,_,T,O){var S={name:v,delta:_,target:T,should:O,shadowParent:T6(T)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(C){return C!==S})},1)},[]),g=N.useCallback(function(v){s.current=Yh(v),n.current=void 0},[]),p=N.useCallback(function(v){f(v.type,Yj(v),v.target,u(v,e.lockRef.current))},[]),b=N.useCallback(function(v){f(v.type,Yh(v),v.target,u(v,e.lockRef.current))},[]);N.useEffect(function(){return zl.push(l),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:b}),document.addEventListener("wheel",h,Fl),document.addEventListener("touchmove",h,Fl),document.addEventListener("touchstart",g,Fl),function(){zl=zl.filter(function(v){return v!==l}),document.removeEventListener("wheel",h,Fl),document.removeEventListener("touchmove",h,Fl),document.removeEventListener("touchstart",g,Fl)}},[]);var y=e.removeScrollBar,j=e.inert;return N.createElement(N.Fragment,null,j?N.createElement(l,{styles:j6(i)}):null,y?N.createElement(f6,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function T6(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const S6=e6(DT,_6);var vm=N.forwardRef(function(e,t){return N.createElement(bm,ir({},e,{ref:t,sideCar:S6}))});vm.classNames=bm.classNames;var wm="Popover",[PT,i$]=fm(wm,[xT]),bu=xT(),[k6,eo]=PT(wm),LT=e=>{const{__scopePopover:t,children:s,open:n,defaultOpen:i,onOpenChange:l,modal:c=!1}=e,u=bu(t),h=N.useRef(null),[f,g]=N.useState(!1),[p,b]=oy({prop:n,defaultProp:i!=null?i:!1,onChange:l,caller:wm});return a.jsx(OR,oe(z({},u),{children:a.jsx(k6,{scope:t,contentId:na(),triggerRef:h,open:p,onOpenChange:b,onOpenToggle:N.useCallback(()=>b(y=>!y),[b]),hasCustomAnchor:f,onCustomAnchorAdd:N.useCallback(()=>g(!0),[]),onCustomAnchorRemove:N.useCallback(()=>g(!1),[]),modal:c,children:s})}))};LT.displayName=wm;var BT="PopoverAnchor",C6=N.forwardRef((e,t)=>{const h=e,{__scopePopover:s}=h,n=$e(h,["__scopePopover"]),i=eo(BT,s),l=bu(s),{onCustomAnchorAdd:c,onCustomAnchorRemove:u}=i;return N.useEffect(()=>(c(),()=>u()),[c,u]),a.jsx(ST,oe(z(z({},l),n),{ref:t}))});C6.displayName=BT;var FT="PopoverTrigger",zT=N.forwardRef((e,t)=>{const h=e,{__scopePopover:s}=h,n=$e(h,["__scopePopover"]),i=eo(FT,s),l=bu(s),c=pn(t,i.triggerRef),u=a.jsx(Zt.button,oe(z({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":IT(i.open)},n),{ref:c,onClick:sa(e.onClick,i.onOpenToggle)}));return i.hasCustomAnchor?u:a.jsx(ST,oe(z({asChild:!0},l),{children:u}))});zT.displayName=FT;var cy="PopoverPortal",[E6,D6]=PT(cy,{forceMount:void 0}),UT=e=>{const{__scopePopover:t,forceMount:s,children:n,container:i}=e,l=eo(cy,t);return a.jsx(E6,{scope:t,forceMount:s,children:a.jsx(yc,{present:s||l.open,children:a.jsx(ym,{asChild:!0,container:i,children:n})})})};UT.displayName=cy;var dc="PopoverContent",HT=N.forwardRef((e,t)=>{const s=D6(dc,e.__scopePopover),c=e,{forceMount:n=s.forceMount}=c,i=$e(c,["forceMount"]),l=eo(dc,e.__scopePopover);return a.jsx(yc,{present:n||l.open,children:l.modal?a.jsx(O6,oe(z({},i),{ref:t})):a.jsx(M6,oe(z({},i),{ref:t}))})});HT.displayName=dc;var A6=xu("PopoverContent.RemoveScroll"),O6=N.forwardRef((e,t)=>{const s=eo(dc,e.__scopePopover),n=N.useRef(null),i=pn(t,n),l=N.useRef(!1);return N.useEffect(()=>{const c=n.current;if(c)return ly(c)},[]),a.jsx(vm,{as:A6,allowPinchZoom:!0,children:a.jsx($T,oe(z({},e),{ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:sa(e.onCloseAutoFocus,c=>{var u;c.preventDefault(),l.current||(u=s.triggerRef.current)==null||u.focus()}),onPointerDownOutside:sa(e.onPointerDownOutside,c=>{const u=c.detail.originalEvent,h=u.button===0&&u.ctrlKey===!0,f=u.button===2||h;l.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:sa(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})}))})}),M6=N.forwardRef((e,t)=>{const s=eo(dc,e.__scopePopover),n=N.useRef(!1),i=N.useRef(!1);return a.jsx($T,oe(z({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,u;(c=e.onCloseAutoFocus)==null||c.call(e,l),l.defaultPrevented||(n.current||(u=s.triggerRef.current)==null||u.focus(),l.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:l=>{var h,f;(h=e.onInteractOutside)==null||h.call(e,l),l.defaultPrevented||(n.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=l.target;((f=s.triggerRef.current)==null?void 0:f.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}}))}),$T=N.forwardRef((e,t)=>{const j=e,{__scopePopover:s,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:g}=j,p=$e(j,["__scopePopover","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside"]),b=eo(dc,s),y=bu(s);return sT(),a.jsx(mm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:l,children:a.jsx(Qx,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:g,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onDismiss:()=>b.onOpenChange(!1),children:a.jsx(MR,oe(z(z({"data-state":IT(b.open),role:"dialog",id:b.contentId},y),p),{ref:t,style:oe(z({},p.style),{"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"})}))})})}),VT="PopoverClose",R6=N.forwardRef((e,t)=>{const l=e,{__scopePopover:s}=l,n=$e(l,["__scopePopover"]),i=eo(VT,s);return a.jsx(Zt.button,oe(z({type:"button"},n),{ref:t,onClick:sa(e.onClick,()=>i.onOpenChange(!1))}))});R6.displayName=VT;var P6="PopoverArrow",L6=N.forwardRef((e,t)=>{const l=e,{__scopePopover:s}=l,n=$e(l,["__scopePopover"]),i=bu(s);return a.jsx(RR,oe(z(z({},i),n),{ref:t}))});L6.displayName=P6;function IT(e){return e?"open":"closed"}var B6=LT,F6=zT,z6=UT,U6=HT;function qT(e){var t,s,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(s=qT(e[t]))&&(n&&(n+=" "),n+=s)}else for(s in e)e[s]&&(n&&(n+=" "),n+=s);return n}function WT(){for(var e,t,s=0,n="",i=arguments.length;s<i;s++)(e=arguments[s])&&(t=qT(e))&&(n&&(n+=" "),n+=t);return n}const dy="-",H6=e=>{const t=V6(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:c=>{const u=c.split(dy);return u[0]===""&&u.length!==1&&u.shift(),YT(u,t)||$6(c)},getConflictingClassGroupIds:(c,u)=>{const h=s[c]||[];return u&&n[c]?[...h,...n[c]]:h}}},YT=(e,t)=>{var c;if(e.length===0)return t.classGroupId;const s=e[0],n=t.nextPart.get(s),i=n?YT(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const l=e.join(dy);return(c=t.validators.find(({validator:u})=>u(l)))==null?void 0:c.classGroupId},Xj=/^\[(.+)\]$/,$6=e=>{if(Xj.test(e)){const t=Xj.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},V6=e=>{const{theme:t,classGroups:s}=e,n={nextPart:new Map,validators:[]};for(const i in s)tx(s[i],n,i,t);return n},tx=(e,t,s,n)=>{e.forEach(i=>{if(typeof i=="string"){const l=i===""?t:Kj(t,i);l.classGroupId=s;return}if(typeof i=="function"){if(I6(i)){tx(i(n),t,s,n);return}t.validators.push({validator:i,classGroupId:s});return}Object.entries(i).forEach(([l,c])=>{tx(c,Kj(t,l),s,n)})})},Kj=(e,t)=>{let s=e;return t.split(dy).forEach(n=>{s.nextPart.has(n)||s.nextPart.set(n,{nextPart:new Map,validators:[]}),s=s.nextPart.get(n)}),s},I6=e=>e.isThemeGetter,q6=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,n=new Map;const i=(l,c)=>{s.set(l,c),t++,t>e&&(t=0,n=s,s=new Map)};return{get(l){let c=s.get(l);if(c!==void 0)return c;if((c=n.get(l))!==void 0)return i(l,c),c},set(l,c){s.has(l)?s.set(l,c):i(l,c)}}},sx="!",nx=":",W6=nx.length,Y6=e=>{const{prefix:t,experimentalParseClassName:s}=e;let n=i=>{const l=[];let c=0,u=0,h=0,f;for(let j=0;j<i.length;j++){let v=i[j];if(c===0&&u===0){if(v===nx){l.push(i.slice(h,j)),h=j+W6;continue}if(v==="/"){f=j;continue}}v==="["?c++:v==="]"?c--:v==="("?u++:v===")"&&u--}const g=l.length===0?i:i.substring(h),p=G6(g),b=p!==g,y=f&&f>h?f-h:void 0;return{modifiers:l,hasImportantModifier:b,baseClassName:p,maybePostfixModifierPosition:y}};if(t){const i=t+nx,l=n;n=c=>c.startsWith(i)?l(c.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(s){const i=n;n=l=>s({className:l,parseClassName:i})}return n},G6=e=>e.endsWith(sx)?e.substring(0,e.length-1):e.startsWith(sx)?e.substring(1):e,X6=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const i=[];let l=[];return n.forEach(c=>{c[0]==="["||t[c]?(i.push(...l.sort(),c),l=[]):l.push(c)}),i.push(...l.sort()),i}},K6=e=>z({cache:q6(e.cacheSize),parseClassName:Y6(e),sortModifiers:X6(e)},H6(e)),Q6=/\s+/,Z6=(e,t)=>{const{parseClassName:s,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:l}=t,c=[],u=e.trim().split(Q6);let h="";for(let f=u.length-1;f>=0;f-=1){const g=u[f],{isExternal:p,modifiers:b,hasImportantModifier:y,baseClassName:j,maybePostfixModifierPosition:v}=s(g);if(p){h=g+(h.length>0?" "+h:h);continue}let _=!!v,T=n(_?j.substring(0,v):j);if(!T){if(!_){h=g+(h.length>0?" "+h:h);continue}if(T=n(j),!T){h=g+(h.length>0?" "+h:h);continue}_=!1}const O=l(b).join(":"),S=y?O+sx:O,C=S+T;if(c.includes(C))continue;c.push(C);const D=i(T,_);for(let E=0;E<D.length;++E){const L=D[E];c.push(S+L)}h=g+(h.length>0?" "+h:h)}return h};function J6(){let e=0,t,s,n="";for(;e<arguments.length;)(t=arguments[e++])&&(s=GT(t))&&(n&&(n+=" "),n+=s);return n}const GT=e=>{if(typeof e=="string")return e;let t,s="";for(let n=0;n<e.length;n++)e[n]&&(t=GT(e[n]))&&(s&&(s+=" "),s+=t);return s};function eP(e,...t){let s,n,i,l=c;function c(h){const f=t.reduce((g,p)=>p(g),e());return s=K6(f),n=s.cache.get,i=s.cache.set,l=u,u(h)}function u(h){const f=n(h);if(f)return f;const g=Z6(h,s);return i(h,g),g}return function(){return l(J6.apply(null,arguments))}}const Xs=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},XT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,KT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,tP=/^\d+\/\d+$/,sP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,aP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,rP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,iP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ul=e=>tP.test(e),Lt=e=>!!e&&!Number.isNaN(Number(e)),Si=e=>!!e&&Number.isInteger(Number(e)),l0=e=>e.endsWith("%")&&Lt(e.slice(0,-1)),Ur=e=>sP.test(e),oP=()=>!0,lP=e=>nP.test(e)&&!aP.test(e),QT=()=>!1,cP=e=>rP.test(e),dP=e=>iP.test(e),uP=e=>!rt(e)&&!it(e),hP=e=>bc(e,eS,QT),rt=e=>XT.test(e),Co=e=>bc(e,tS,lP),c0=e=>bc(e,xP,Lt),Qj=e=>bc(e,ZT,QT),fP=e=>bc(e,JT,dP),Gh=e=>bc(e,sS,cP),it=e=>KT.test(e),kd=e=>vc(e,tS),mP=e=>vc(e,yP),Zj=e=>vc(e,ZT),gP=e=>vc(e,eS),pP=e=>vc(e,JT),Xh=e=>vc(e,sS,!0),bc=(e,t,s)=>{const n=XT.exec(e);return n?n[1]?t(n[1]):s(n[2]):!1},vc=(e,t,s=!1)=>{const n=KT.exec(e);return n?n[1]?t(n[1]):s:!1},ZT=e=>e==="position"||e==="percentage",JT=e=>e==="image"||e==="url",eS=e=>e==="length"||e==="size"||e==="bg-size",tS=e=>e==="length",xP=e=>e==="number",yP=e=>e==="family-name",sS=e=>e==="shadow",bP=()=>{const e=Xs("color"),t=Xs("font"),s=Xs("text"),n=Xs("font-weight"),i=Xs("tracking"),l=Xs("leading"),c=Xs("breakpoint"),u=Xs("container"),h=Xs("spacing"),f=Xs("radius"),g=Xs("shadow"),p=Xs("inset-shadow"),b=Xs("text-shadow"),y=Xs("drop-shadow"),j=Xs("blur"),v=Xs("perspective"),_=Xs("aspect"),T=Xs("ease"),O=Xs("animate"),S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],D=()=>[...C(),it,rt],E=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto","contain","none"],F=()=>[it,rt,h],R=()=>[Ul,"full","auto",...F()],K=()=>[Si,"none","subgrid",it,rt],W=()=>["auto",{span:["full",Si,it,rt]},Si,it,rt],Q=()=>[Si,"auto",it,rt],H=()=>["auto","min","max","fr",it,rt],q=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Y=()=>["start","end","center","stretch","center-safe","end-safe"],$=()=>["auto",...F()],J=()=>[Ul,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...F()],se=()=>[e,it,rt],Ne=()=>[...C(),Zj,Qj,{position:[it,rt]}],P=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ne=()=>["auto","cover","contain",gP,hP,{size:[it,rt]}],ge=()=>[l0,kd,Co],G=()=>["","none","full",f,it,rt],re=()=>["",Lt,kd,Co],_e=()=>["solid","dashed","dotted","double"],me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Le=()=>[Lt,l0,Zj,Qj],we=()=>["","none",j,it,rt],Ee=()=>["none",Lt,it,rt],X=()=>["none",Lt,it,rt],Oe=()=>[Lt,it,rt],He=()=>[Ul,"full",...F()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ur],breakpoint:[Ur],color:[oP],container:[Ur],"drop-shadow":[Ur],ease:["in","out","in-out"],font:[uP],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ur],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ur],shadow:[Ur],spacing:["px",Lt],text:[Ur],"text-shadow":[Ur],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ul,rt,it,_]}],container:["container"],columns:[{columns:[Lt,rt,it,u]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[Si,"auto",it,rt]}],basis:[{basis:[Ul,"full","auto",u,...F()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Lt,Ul,"auto","initial","none",rt]}],grow:[{grow:["",Lt,it,rt]}],shrink:[{shrink:["",Lt,it,rt]}],order:[{order:[Si,"first","last","none",it,rt]}],"grid-cols":[{"grid-cols":K()}],"col-start-end":[{col:W()}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":K()}],"row-start-end":[{row:W()}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":H()}],"auto-rows":[{"auto-rows":H()}],gap:[{gap:F()}],"gap-x":[{"gap-x":F()}],"gap-y":[{"gap-y":F()}],"justify-content":[{justify:[...q(),"normal"]}],"justify-items":[{"justify-items":[...Y(),"normal"]}],"justify-self":[{"justify-self":["auto",...Y()]}],"align-content":[{content:["normal",...q()]}],"align-items":[{items:[...Y(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Y(),{baseline:["","last"]}]}],"place-content":[{"place-content":q()}],"place-items":[{"place-items":[...Y(),"baseline"]}],"place-self":[{"place-self":["auto",...Y()]}],p:[{p:F()}],px:[{px:F()}],py:[{py:F()}],ps:[{ps:F()}],pe:[{pe:F()}],pt:[{pt:F()}],pr:[{pr:F()}],pb:[{pb:F()}],pl:[{pl:F()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":F()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":F()}],"space-y-reverse":["space-y-reverse"],size:[{size:J()}],w:[{w:[u,"screen",...J()]}],"min-w":[{"min-w":[u,"screen","none",...J()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[c]},...J()]}],h:[{h:["screen","lh",...J()]}],"min-h":[{"min-h":["screen","lh","none",...J()]}],"max-h":[{"max-h":["screen","lh",...J()]}],"font-size":[{text:["base",s,kd,Co]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,it,c0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",l0,rt]}],"font-family":[{font:[mP,rt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,it,rt]}],"line-clamp":[{"line-clamp":[Lt,"none",it,c0]}],leading:[{leading:[l,...F()]}],"list-image":[{"list-image":["none",it,rt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",it,rt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:se()}],"text-color":[{text:se()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._e(),"wavy"]}],"text-decoration-thickness":[{decoration:[Lt,"from-font","auto",it,Co]}],"text-decoration-color":[{decoration:se()}],"underline-offset":[{"underline-offset":[Lt,"auto",it,rt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",it,rt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",it,rt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ne()}],"bg-repeat":[{bg:P()}],"bg-size":[{bg:ne()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Si,it,rt],radial:["",it,rt],conic:[Si,it,rt]},pP,fP]}],"bg-color":[{bg:se()}],"gradient-from-pos":[{from:ge()}],"gradient-via-pos":[{via:ge()}],"gradient-to-pos":[{to:ge()}],"gradient-from":[{from:se()}],"gradient-via":[{via:se()}],"gradient-to":[{to:se()}],rounded:[{rounded:G()}],"rounded-s":[{"rounded-s":G()}],"rounded-e":[{"rounded-e":G()}],"rounded-t":[{"rounded-t":G()}],"rounded-r":[{"rounded-r":G()}],"rounded-b":[{"rounded-b":G()}],"rounded-l":[{"rounded-l":G()}],"rounded-ss":[{"rounded-ss":G()}],"rounded-se":[{"rounded-se":G()}],"rounded-ee":[{"rounded-ee":G()}],"rounded-es":[{"rounded-es":G()}],"rounded-tl":[{"rounded-tl":G()}],"rounded-tr":[{"rounded-tr":G()}],"rounded-br":[{"rounded-br":G()}],"rounded-bl":[{"rounded-bl":G()}],"border-w":[{border:re()}],"border-w-x":[{"border-x":re()}],"border-w-y":[{"border-y":re()}],"border-w-s":[{"border-s":re()}],"border-w-e":[{"border-e":re()}],"border-w-t":[{"border-t":re()}],"border-w-r":[{"border-r":re()}],"border-w-b":[{"border-b":re()}],"border-w-l":[{"border-l":re()}],"divide-x":[{"divide-x":re()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":re()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[..._e(),"hidden","none"]}],"divide-style":[{divide:[..._e(),"hidden","none"]}],"border-color":[{border:se()}],"border-color-x":[{"border-x":se()}],"border-color-y":[{"border-y":se()}],"border-color-s":[{"border-s":se()}],"border-color-e":[{"border-e":se()}],"border-color-t":[{"border-t":se()}],"border-color-r":[{"border-r":se()}],"border-color-b":[{"border-b":se()}],"border-color-l":[{"border-l":se()}],"divide-color":[{divide:se()}],"outline-style":[{outline:[..._e(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Lt,it,rt]}],"outline-w":[{outline:["",Lt,kd,Co]}],"outline-color":[{outline:se()}],shadow:[{shadow:["","none",g,Xh,Gh]}],"shadow-color":[{shadow:se()}],"inset-shadow":[{"inset-shadow":["none",p,Xh,Gh]}],"inset-shadow-color":[{"inset-shadow":se()}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:se()}],"ring-offset-w":[{"ring-offset":[Lt,Co]}],"ring-offset-color":[{"ring-offset":se()}],"inset-ring-w":[{"inset-ring":re()}],"inset-ring-color":[{"inset-ring":se()}],"text-shadow":[{"text-shadow":["none",b,Xh,Gh]}],"text-shadow-color":[{"text-shadow":se()}],opacity:[{opacity:[Lt,it,rt]}],"mix-blend":[{"mix-blend":[...me(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":me()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Lt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Le()}],"mask-image-linear-to-pos":[{"mask-linear-to":Le()}],"mask-image-linear-from-color":[{"mask-linear-from":se()}],"mask-image-linear-to-color":[{"mask-linear-to":se()}],"mask-image-t-from-pos":[{"mask-t-from":Le()}],"mask-image-t-to-pos":[{"mask-t-to":Le()}],"mask-image-t-from-color":[{"mask-t-from":se()}],"mask-image-t-to-color":[{"mask-t-to":se()}],"mask-image-r-from-pos":[{"mask-r-from":Le()}],"mask-image-r-to-pos":[{"mask-r-to":Le()}],"mask-image-r-from-color":[{"mask-r-from":se()}],"mask-image-r-to-color":[{"mask-r-to":se()}],"mask-image-b-from-pos":[{"mask-b-from":Le()}],"mask-image-b-to-pos":[{"mask-b-to":Le()}],"mask-image-b-from-color":[{"mask-b-from":se()}],"mask-image-b-to-color":[{"mask-b-to":se()}],"mask-image-l-from-pos":[{"mask-l-from":Le()}],"mask-image-l-to-pos":[{"mask-l-to":Le()}],"mask-image-l-from-color":[{"mask-l-from":se()}],"mask-image-l-to-color":[{"mask-l-to":se()}],"mask-image-x-from-pos":[{"mask-x-from":Le()}],"mask-image-x-to-pos":[{"mask-x-to":Le()}],"mask-image-x-from-color":[{"mask-x-from":se()}],"mask-image-x-to-color":[{"mask-x-to":se()}],"mask-image-y-from-pos":[{"mask-y-from":Le()}],"mask-image-y-to-pos":[{"mask-y-to":Le()}],"mask-image-y-from-color":[{"mask-y-from":se()}],"mask-image-y-to-color":[{"mask-y-to":se()}],"mask-image-radial":[{"mask-radial":[it,rt]}],"mask-image-radial-from-pos":[{"mask-radial-from":Le()}],"mask-image-radial-to-pos":[{"mask-radial-to":Le()}],"mask-image-radial-from-color":[{"mask-radial-from":se()}],"mask-image-radial-to-color":[{"mask-radial-to":se()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":C()}],"mask-image-conic-pos":[{"mask-conic":[Lt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Le()}],"mask-image-conic-to-pos":[{"mask-conic-to":Le()}],"mask-image-conic-from-color":[{"mask-conic-from":se()}],"mask-image-conic-to-color":[{"mask-conic-to":se()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ne()}],"mask-repeat":[{mask:P()}],"mask-size":[{mask:ne()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",it,rt]}],filter:[{filter:["","none",it,rt]}],blur:[{blur:we()}],brightness:[{brightness:[Lt,it,rt]}],contrast:[{contrast:[Lt,it,rt]}],"drop-shadow":[{"drop-shadow":["","none",y,Xh,Gh]}],"drop-shadow-color":[{"drop-shadow":se()}],grayscale:[{grayscale:["",Lt,it,rt]}],"hue-rotate":[{"hue-rotate":[Lt,it,rt]}],invert:[{invert:["",Lt,it,rt]}],saturate:[{saturate:[Lt,it,rt]}],sepia:[{sepia:["",Lt,it,rt]}],"backdrop-filter":[{"backdrop-filter":["","none",it,rt]}],"backdrop-blur":[{"backdrop-blur":we()}],"backdrop-brightness":[{"backdrop-brightness":[Lt,it,rt]}],"backdrop-contrast":[{"backdrop-contrast":[Lt,it,rt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Lt,it,rt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Lt,it,rt]}],"backdrop-invert":[{"backdrop-invert":["",Lt,it,rt]}],"backdrop-opacity":[{"backdrop-opacity":[Lt,it,rt]}],"backdrop-saturate":[{"backdrop-saturate":[Lt,it,rt]}],"backdrop-sepia":[{"backdrop-sepia":["",Lt,it,rt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":F()}],"border-spacing-x":[{"border-spacing-x":F()}],"border-spacing-y":[{"border-spacing-y":F()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",it,rt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Lt,"initial",it,rt]}],ease:[{ease:["linear","initial",T,it,rt]}],delay:[{delay:[Lt,it,rt]}],animate:[{animate:["none",O,it,rt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,it,rt]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:Ee()}],"rotate-x":[{"rotate-x":Ee()}],"rotate-y":[{"rotate-y":Ee()}],"rotate-z":[{"rotate-z":Ee()}],scale:[{scale:X()}],"scale-x":[{"scale-x":X()}],"scale-y":[{"scale-y":X()}],"scale-z":[{"scale-z":X()}],"scale-3d":["scale-3d"],skew:[{skew:Oe()}],"skew-x":[{"skew-x":Oe()}],"skew-y":[{"skew-y":Oe()}],transform:[{transform:[it,rt,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:He()}],"translate-x":[{"translate-x":He()}],"translate-y":[{"translate-y":He()}],"translate-z":[{"translate-z":He()}],"translate-none":["translate-none"],accent:[{accent:se()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:se()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",it,rt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",it,rt]}],fill:[{fill:["none",...se()]}],"stroke-w":[{stroke:[Lt,kd,Co,c0]}],stroke:[{stroke:["none",...se()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},vP=eP(bP);function rn(...e){return vP(WT(e))}function uy(t){var e=$e(t,[]);return a.jsx(B6,z({"data-slot":"popover"},e))}function hy(t){var e=$e(t,[]);return a.jsx(F6,z({"data-slot":"popover-trigger"},e))}function fy(i){var l=i,{className:e,align:t="center",sideOffset:s=4}=l,n=$e(l,["className","align","sideOffset"]);return a.jsx(z6,{children:a.jsx(U6,z({"data-slot":"popover-content",align:t,sideOffset:s,className:rn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-[10000] w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e)},n))})}const Kl=class Kl{static useUsers(){const{data:t,isLoading:s,error:n}=mt("User",{fields:Kl.USER_FIELDS,filters:[["enabled","=",1],["user_type","=","System User"]],limit:0});return{data:t||[],isLoading:s,error:n}}static useCurrentUser(){const{currentUser:t,isLoading:s}=Tn();return{currentUser:t,isLoading:s}}static useCurrentUserProfile(){const{currentUser:t}=Tn(),{data:s,isLoading:n,error:i,mutate:l}=kt("User",t||void 0,{fields:Kl.USER_PROFILE_FIELDS});return{currentUserProfile:s,isLoading:n,error:i,mutate:l}}static useUpdateUserProfile(){const{updateDoc:t,loading:s,isCompleted:n,error:i,reset:l}=En();return{updateProfile:(u,h)=>fe(null,null,function*(){try{return yield t("User",u,h)}catch(f){throw console.error("Error updating user profile:",f),f}}),loading:s,isCompleted:n,error:i,reset:l}}static useChangePassword(){const{call:t,loading:s,error:n}=$s("frappe.core.doctype.user.user.update_password");return{changePassword:(l,c)=>fe(null,null,function*(){try{return yield t({old_password:l,new_password:c})}catch(u){throw console.error("Error changing password:",u),u}}),loading:s,error:n}}static useUploadUserImage(){const{call:t,loading:s,error:n}=$s("frappe.handler.upload_file");return{uploadImage:(l,c)=>fe(null,null,function*(){try{const u=new FormData;return u.append("file",l),u.append("doctype","User"),u.append("docname",c),u.append("fieldname","user_image"),yield t(u)}catch(u){throw console.error("Error uploading user image:",u),u}}),loading:s,error:n}}static useUserRoles(t){const{data:s,isLoading:n,error:i}=mt("Has Role",{fields:["role","parent"],filters:t?[["parent","=",t]]:[],limit:0});return{roles:s||[],isLoading:n,error:i}}static useUserPermissions(){const{call:t,loading:s,error:n}=$s("frappe.core.doctype.user.user.get_user_permissions");return{getUserPermissions:l=>fe(null,null,function*(){try{return yield t({user:l})}catch(c){throw console.error("Error getting user permissions:",c),c}}),loading:s,error:n}}};St(Kl,"USER_FIELDS",["name","email","full_name","first_name","last_name","user_image","enabled","user_type","role_profile_name"]),St(Kl,"USER_PROFILE_FIELDS",["name","email","full_name","first_name","middle_name","last_name","user_image","phone","mobile_no","gender","birth_date","location","bio","interest","time_zone","language","desk_theme","role_profile_name","enabled","user_type","last_login","last_active"]);let Yi=Kl;const nS=Yi.useCurrentUser,jm=Yi.useCurrentUserProfile,aS=Yi.useUpdateUserProfile,wP=Yi.useChangePassword,jP=Yi.useUploadUserImage,NP=Yi.useUserRoles,_P=()=>fe(null,null,function*(){try{const e=yield fetch("/api/method/frappe.auth.get_logged_user",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token||""}});if(e.status===401||e.status===403)return{isValid:!1};if(e.ok){const t=yield e.json();if(t&&!t.exc)return{isValid:!0}}return{isValid:!1}}catch(e){return console.error("Token validation error:",e),{isValid:!1}}}),rS=()=>{try{localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(t=>{const s=t.indexOf("="),n=s>-1?t.substr(0,s).trim():t.trim();document.cookie=`${n}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;domain=${window.location.hostname}`,document.cookie=`${n}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/`}),console.warn("Session expired. Redirecting to login...");const e="/login";window.location.href=e}catch(e){console.error("Error handling token expiry:",e),window.location.href="/login"}},TP=()=>"/login",ax=()=>window.location.pathname.includes("/login")||window.location.pathname.includes("/signin");function SP(e){if(typeof document=="undefined")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}const kP=e=>{switch(e){case"success":return DP;case"info":return OP;case"warning":return AP;case"error":return MP;default:return null}},CP=Array(12).fill(0),EP=({visible:e,className:t})=>ye.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},ye.createElement("div",{className:"sonner-spinner"},CP.map((s,n)=>ye.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),DP=ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ye.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),AP=ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ye.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),OP=ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ye.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),MP=ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ye.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),RP=ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ye.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ye.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),PP=()=>{const[e,t]=ye.useState(document.hidden);return ye.useEffect(()=>{const s=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),e};let rx=1;class LP{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const s=this.subscribers.indexOf(t);this.subscribers.splice(s,1)}),this.publish=t=>{this.subscribers.forEach(s=>s(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var s;const h=t,{message:n}=h,i=$e(h,["message"]),l=typeof(t==null?void 0:t.id)=="number"||((s=t.id)==null?void 0:s.length)>0?t.id:rx++,c=this.toasts.find(f=>f.id===l),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),c?this.toasts=this.toasts.map(f=>f.id===l?(this.publish(oe(z(z({},f),t),{id:l,title:n})),oe(z(z({},f),t),{id:l,dismissible:u,title:n})):f):this.addToast(oe(z({title:n},i),{dismissible:u,id:l})),l},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(s=>s({id:t,dismiss:!0})))):this.toasts.forEach(s=>{this.subscribers.forEach(n=>n({id:s.id,dismiss:!0}))}),t),this.message=(t,s)=>this.create(oe(z({},s),{message:t})),this.error=(t,s)=>this.create(oe(z({},s),{message:t,type:"error"})),this.success=(t,s)=>this.create(oe(z({},s),{type:"success",message:t})),this.info=(t,s)=>this.create(oe(z({},s),{type:"info",message:t})),this.warning=(t,s)=>this.create(oe(z({},s),{type:"warning",message:t})),this.loading=(t,s)=>this.create(oe(z({},s),{type:"loading",message:t})),this.promise=(t,s)=>{if(!s)return;let n;s.loading!==void 0&&(n=this.create(oe(z({},s),{promise:t,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0})));const i=Promise.resolve(t instanceof Function?t():t);let l=n!==void 0,c;const u=i.then(f=>fe(this,null,function*(){if(c=["resolve",f],ye.isValidElement(f))l=!1,this.create({id:n,type:"default",message:f});else if(FP(f)&&!f.ok){l=!1;const p=typeof s.error=="function"?yield s.error(`HTTP error! status: ${f.status}`):s.error,b=typeof s.description=="function"?yield s.description(`HTTP error! status: ${f.status}`):s.description,j=typeof p=="object"&&!ye.isValidElement(p)?p:{message:p};this.create(z({id:n,type:"error",description:b},j))}else if(f instanceof Error){l=!1;const p=typeof s.error=="function"?yield s.error(f):s.error,b=typeof s.description=="function"?yield s.description(f):s.description,j=typeof p=="object"&&!ye.isValidElement(p)?p:{message:p};this.create(z({id:n,type:"error",description:b},j))}else if(s.success!==void 0){l=!1;const p=typeof s.success=="function"?yield s.success(f):s.success,b=typeof s.description=="function"?yield s.description(f):s.description,j=typeof p=="object"&&!ye.isValidElement(p)?p:{message:p};this.create(z({id:n,type:"success",description:b},j))}})).catch(f=>fe(this,null,function*(){if(c=["reject",f],s.error!==void 0){l=!1;const g=typeof s.error=="function"?yield s.error(f):s.error,p=typeof s.description=="function"?yield s.description(f):s.description,y=typeof g=="object"&&!ye.isValidElement(g)?g:{message:g};this.create(z({id:n,type:"error",description:p},y))}})).finally(()=>{l&&(this.dismiss(n),n=void 0),s.finally==null||s.finally.call(s)}),h=()=>new Promise((f,g)=>u.then(()=>c[0]==="reject"?g(c[1]):f(c[1])).catch(g));return typeof n!="string"&&typeof n!="number"?{unwrap:h}:Object.assign(n,{unwrap:h})},this.custom=(t,s)=>{const n=(s==null?void 0:s.id)||rx++;return this.create(z({jsx:t(n),id:n},s)),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Hn=new LP,BP=(e,t)=>{const s=(t==null?void 0:t.id)||rx++;return Hn.addToast(oe(z({title:e},t),{id:s})),s},FP=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",zP=BP,UP=()=>Hn.toasts,HP=()=>Hn.getActiveToasts(),As=Object.assign(zP,{success:Hn.success,info:Hn.info,warning:Hn.warning,error:Hn.error,custom:Hn.custom,message:Hn.message,promise:Hn.promise,dismiss:Hn.dismiss,loading:Hn.loading},{getHistory:UP,getToasts:HP});SP("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Kh(e){return e.label!==void 0}const $P=3,VP="24px",IP="16px",Jj=4e3,qP=356,WP=14,YP=45,GP=200;function er(...e){return e.filter(Boolean).join(" ")}function XP(e){const[t,s]=e.split("-"),n=[];return t&&n.push(t),s&&n.push(s),n}const KP=e=>{var t,s,n,i,l,c,u,h,f;const{invert:g,toast:p,unstyled:b,interacting:y,setHeights:j,visibleToasts:v,heights:_,index:T,toasts:O,expanded:S,removeToast:C,defaultRichColors:D,closeButton:E,style:L,cancelButtonStyle:F,actionButtonStyle:R,className:K="",descriptionClassName:W="",duration:Q,position:H,gap:q,expandByDefault:Y,classNames:$,icons:J,closeButtonAriaLabel:se="Close toast"}=e,[Ne,P]=ye.useState(null),[ne,ge]=ye.useState(null),[G,re]=ye.useState(!1),[_e,me]=ye.useState(!1),[Le,we]=ye.useState(!1),[Ee,X]=ye.useState(!1),[Oe,He]=ye.useState(!1),[Ye,tt]=ye.useState(0),[gt,Dt]=ye.useState(0),De=ye.useRef(p.duration||Q||Jj),Ue=ye.useRef(null),Pe=ye.useRef(null),Z=T===0,le=T+1<=v,V=p.type,Te=p.dismissible!==!1,Be=p.className||"",Re=p.descriptionClassName||"",Ve=ye.useMemo(()=>_.findIndex(bt=>bt.toastId===p.id)||0,[_,p.id]),Ge=ye.useMemo(()=>{var bt;return(bt=p.closeButton)!=null?bt:E},[p.closeButton,E]),st=ye.useMemo(()=>p.duration||Q||Jj,[p.duration,Q]),Nt=ye.useRef(0),ke=ye.useRef(0),ze=ye.useRef(0),Ze=ye.useRef(null),[Xe,Bt]=H.split("-"),It=ye.useMemo(()=>_.reduce((bt,Qt,fs)=>fs>=Ve?bt:bt+Qt.height,0),[_,Ve]),ds=PP(),Qs=p.invert||g,xn=V==="loading";ke.current=ye.useMemo(()=>Ve*q+It,[Ve,It]),ye.useEffect(()=>{De.current=st},[st]),ye.useEffect(()=>{re(!0)},[]),ye.useEffect(()=>{const bt=Pe.current;if(bt){const Qt=bt.getBoundingClientRect().height;return Dt(Qt),j(fs=>[{toastId:p.id,height:Qt,position:p.position},...fs]),()=>j(fs=>fs.filter(Os=>Os.toastId!==p.id))}},[j,p.id]),ye.useLayoutEffect(()=>{if(!G)return;const bt=Pe.current,Qt=bt.style.height;bt.style.height="auto";const fs=bt.getBoundingClientRect().height;bt.style.height=Qt,Dt(fs),j(Os=>Os.find(ie=>ie.toastId===p.id)?Os.map(ie=>ie.toastId===p.id?oe(z({},ie),{height:fs}):ie):[{toastId:p.id,height:fs,position:p.position},...Os])},[G,p.title,p.description,j,p.id,p.jsx,p.action,p.cancel]);const Zs=ye.useCallback(()=>{me(!0),tt(ke.current),j(bt=>bt.filter(Qt=>Qt.toastId!==p.id)),setTimeout(()=>{C(p)},GP)},[p,C,j,ke]);ye.useEffect(()=>{if(p.promise&&V==="loading"||p.duration===1/0||p.type==="loading")return;let bt;return S||y||ds?(()=>{if(ze.current<Nt.current){const Os=new Date().getTime()-Nt.current;De.current=De.current-Os}ze.current=new Date().getTime()})():(()=>{De.current!==1/0&&(Nt.current=new Date().getTime(),bt=setTimeout(()=>{p.onAutoClose==null||p.onAutoClose.call(p,p),Zs()},De.current))})(),()=>clearTimeout(bt)},[S,y,p,V,ds,Zs]),ye.useEffect(()=>{p.delete&&(Zs(),p.onDismiss==null||p.onDismiss.call(p,p))},[Zs,p.delete]);function vr(){var bt;if(J!=null&&J.loading){var Qt;return ye.createElement("div",{className:er($==null?void 0:$.loader,p==null||(Qt=p.classNames)==null?void 0:Qt.loader,"sonner-loader"),"data-visible":V==="loading"},J.loading)}return ye.createElement(EP,{className:er($==null?void 0:$.loader,p==null||(bt=p.classNames)==null?void 0:bt.loader),visible:V==="loading"})}const Wa=p.icon||(J==null?void 0:J[V])||kP(V);var ra,wr;return ye.createElement("li",{tabIndex:0,ref:Pe,className:er(K,Be,$==null?void 0:$.toast,p==null||(t=p.classNames)==null?void 0:t.toast,$==null?void 0:$.default,$==null?void 0:$[V],p==null||(s=p.classNames)==null?void 0:s[V]),"data-sonner-toast":"","data-rich-colors":(ra=p.richColors)!=null?ra:D,"data-styled":!(p.jsx||p.unstyled||b),"data-mounted":G,"data-promise":!!p.promise,"data-swiped":Oe,"data-removed":_e,"data-visible":le,"data-y-position":Xe,"data-x-position":Bt,"data-index":T,"data-front":Z,"data-swiping":Le,"data-dismissible":Te,"data-type":V,"data-invert":Qs,"data-swipe-out":Ee,"data-swipe-direction":ne,"data-expanded":!!(S||Y&&G),"data-testid":p.testId,style:z(z({"--index":T,"--toasts-before":T,"--z-index":O.length-T,"--offset":`${_e?Ye:ke.current}px`,"--initial-height":Y?"auto":`${gt}px`},L),p.style),onDragEnd:()=>{we(!1),P(null),Ze.current=null},onPointerDown:bt=>{bt.button!==2&&(xn||!Te||(Ue.current=new Date,tt(ke.current),bt.target.setPointerCapture(bt.pointerId),bt.target.tagName!=="BUTTON"&&(we(!0),Ze.current={x:bt.clientX,y:bt.clientY})))},onPointerUp:()=>{var bt,Qt,fs;if(Ee||!Te)return;Ze.current=null;const Os=Number(((bt=Pe.current)==null?void 0:bt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),te=Number(((Qt=Pe.current)==null?void 0:Qt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ie=new Date().getTime()-((fs=Ue.current)==null?void 0:fs.getTime()),pe=Ne==="x"?Os:te,Se=Math.abs(pe)/ie;if(Math.abs(pe)>=YP||Se>.11){tt(ke.current),p.onDismiss==null||p.onDismiss.call(p,p),ge(Ne==="x"?Os>0?"right":"left":te>0?"down":"up"),Zs(),X(!0);return}else{var Fe,Ke;(Fe=Pe.current)==null||Fe.style.setProperty("--swipe-amount-x","0px"),(Ke=Pe.current)==null||Ke.style.setProperty("--swipe-amount-y","0px")}He(!1),we(!1),P(null)},onPointerMove:bt=>{var Qt,fs,Os;if(!Ze.current||!Te||((Qt=window.getSelection())==null?void 0:Qt.toString().length)>0)return;const ie=bt.clientY-Ze.current.y,pe=bt.clientX-Ze.current.x;var Se;const Fe=(Se=e.swipeDirections)!=null?Se:XP(H);!Ne&&(Math.abs(pe)>1||Math.abs(ie)>1)&&P(Math.abs(pe)>Math.abs(ie)?"x":"y");let Ke={x:0,y:0};const nt=ot=>1/(1.5+Math.abs(ot)/20);if(Ne==="y"){if(Fe.includes("top")||Fe.includes("bottom"))if(Fe.includes("top")&&ie<0||Fe.includes("bottom")&&ie>0)Ke.y=ie;else{const ot=ie*nt(ie);Ke.y=Math.abs(ot)<Math.abs(ie)?ot:ie}}else if(Ne==="x"&&(Fe.includes("left")||Fe.includes("right")))if(Fe.includes("left")&&pe<0||Fe.includes("right")&&pe>0)Ke.x=pe;else{const ot=pe*nt(pe);Ke.x=Math.abs(ot)<Math.abs(pe)?ot:pe}(Math.abs(Ke.x)>0||Math.abs(Ke.y)>0)&&He(!0),(fs=Pe.current)==null||fs.style.setProperty("--swipe-amount-x",`${Ke.x}px`),(Os=Pe.current)==null||Os.style.setProperty("--swipe-amount-y",`${Ke.y}px`)}},Ge&&!p.jsx&&V!=="loading"?ye.createElement("button",{"aria-label":se,"data-disabled":xn,"data-close-button":!0,onClick:xn||!Te?()=>{}:()=>{Zs(),p.onDismiss==null||p.onDismiss.call(p,p)},className:er($==null?void 0:$.closeButton,p==null||(n=p.classNames)==null?void 0:n.closeButton)},(wr=J==null?void 0:J.close)!=null?wr:RP):null,(V||p.icon||p.promise)&&p.icon!==null&&((J==null?void 0:J[V])!==null||p.icon)?ye.createElement("div",{"data-icon":"",className:er($==null?void 0:$.icon,p==null||(i=p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||vr():null,p.type!=="loading"?Wa:null):null,ye.createElement("div",{"data-content":"",className:er($==null?void 0:$.content,p==null||(l=p.classNames)==null?void 0:l.content)},ye.createElement("div",{"data-title":"",className:er($==null?void 0:$.title,p==null||(c=p.classNames)==null?void 0:c.title)},p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title),p.description?ye.createElement("div",{"data-description":"",className:er(W,Re,$==null?void 0:$.description,p==null||(u=p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),ye.isValidElement(p.cancel)?p.cancel:p.cancel&&Kh(p.cancel)?ye.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||F,onClick:bt=>{Kh(p.cancel)&&Te&&(p.cancel.onClick==null||p.cancel.onClick.call(p.cancel,bt),Zs())},className:er($==null?void 0:$.cancelButton,p==null||(h=p.classNames)==null?void 0:h.cancelButton)},p.cancel.label):null,ye.isValidElement(p.action)?p.action:p.action&&Kh(p.action)?ye.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||R,onClick:bt=>{Kh(p.action)&&(p.action.onClick==null||p.action.onClick.call(p.action,bt),!bt.defaultPrevented&&Zs())},className:er($==null?void 0:$.actionButton,p==null||(f=p.classNames)==null?void 0:f.actionButton)},p.action.label):null)};function eN(){if(typeof window=="undefined"||typeof document=="undefined")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function QP(e,t){const s={};return[e,t].forEach((n,i)=>{const l=i===1,c=l?"--mobile-offset":"--offset",u=l?IP:VP;function h(f){["top","right","bottom","left"].forEach(g=>{s[`${c}-${g}`]=typeof f=="number"?`${f}px`:f})}typeof n=="number"||typeof n=="string"?h(n):typeof n=="object"?["top","right","bottom","left"].forEach(f=>{n[f]===void 0?s[`${c}-${f}`]=u:s[`${c}-${f}`]=typeof n[f]=="number"?`${n[f]}px`:n[f]}):h(u)}),s}const ZP=ye.forwardRef(function(t,s){const{id:n,invert:i,position:l="bottom-right",hotkey:c=["altKey","KeyT"],expand:u,closeButton:h,className:f,offset:g,mobileOffset:p,theme:b="light",richColors:y,duration:j,style:v,visibleToasts:_=$P,toastOptions:T,dir:O=eN(),gap:S=WP,icons:C,containerAriaLabel:D="Notifications"}=t,[E,L]=ye.useState([]),F=ye.useMemo(()=>n?E.filter(G=>G.toasterId===n):E.filter(G=>!G.toasterId),[E,n]),R=ye.useMemo(()=>Array.from(new Set([l].concat(F.filter(G=>G.position).map(G=>G.position)))),[F,l]),[K,W]=ye.useState([]),[Q,H]=ye.useState(!1),[q,Y]=ye.useState(!1),[$,J]=ye.useState(b!=="system"?b:typeof window!="undefined"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),se=ye.useRef(null),Ne=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=ye.useRef(null),ne=ye.useRef(!1),ge=ye.useCallback(G=>{L(re=>{var _e;return(_e=re.find(me=>me.id===G.id))!=null&&_e.delete||Hn.dismiss(G.id),re.filter(({id:me})=>me!==G.id)})},[]);return ye.useEffect(()=>Hn.subscribe(G=>{if(G.dismiss){requestAnimationFrame(()=>{L(re=>re.map(_e=>_e.id===G.id?oe(z({},_e),{delete:!0}):_e))});return}setTimeout(()=>{q_.flushSync(()=>{L(re=>{const _e=re.findIndex(me=>me.id===G.id);return _e!==-1?[...re.slice(0,_e),z(z({},re[_e]),G),...re.slice(_e+1)]:[G,...re]})})})}),[E]),ye.useEffect(()=>{if(b!=="system"){J(b);return}if(b==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window=="undefined")return;const G=window.matchMedia("(prefers-color-scheme: dark)");try{G.addEventListener("change",({matches:re})=>{J(re?"dark":"light")})}catch(re){G.addListener(({matches:_e})=>{try{J(_e?"dark":"light")}catch(me){console.error(me)}})}},[b]),ye.useEffect(()=>{E.length<=1&&H(!1)},[E]),ye.useEffect(()=>{const G=re=>{var _e;if(c.every(we=>re[we]||re.code===we)){var Le;H(!0),(Le=se.current)==null||Le.focus()}re.code==="Escape"&&(document.activeElement===se.current||(_e=se.current)!=null&&_e.contains(document.activeElement))&&H(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[c]),ye.useEffect(()=>{if(se.current)return()=>{P.current&&(P.current.focus({preventScroll:!0}),P.current=null,ne.current=!1)}},[se.current]),ye.createElement("section",{ref:s,"aria-label":`${D} ${Ne}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((G,re)=>{var _e;const[me,Le]=G.split("-");return F.length?ye.createElement("ol",{key:G,dir:O==="auto"?eN():O,tabIndex:-1,ref:se,className:f,"data-sonner-toaster":!0,"data-sonner-theme":$,"data-y-position":me,"data-x-position":Le,style:z(z({"--front-toast-height":`${((_e=K[0])==null?void 0:_e.height)||0}px`,"--width":`${qP}px`,"--gap":`${S}px`},v),QP(g,p)),onBlur:we=>{ne.current&&!we.currentTarget.contains(we.relatedTarget)&&(ne.current=!1,P.current&&(P.current.focus({preventScroll:!0}),P.current=null))},onFocus:we=>{we.target instanceof HTMLElement&&we.target.dataset.dismissible==="false"||ne.current||(ne.current=!0,P.current=we.relatedTarget)},onMouseEnter:()=>H(!0),onMouseMove:()=>H(!0),onMouseLeave:()=>{q||H(!1)},onDragEnd:()=>H(!1),onPointerDown:we=>{we.target instanceof HTMLElement&&we.target.dataset.dismissible==="false"||Y(!0)},onPointerUp:()=>Y(!1)},F.filter(we=>!we.position&&re===0||we.position===G).map((we,Ee)=>{var X,Oe;return ye.createElement(KP,{key:we.id,icons:C,index:Ee,toast:we,defaultRichColors:y,duration:(X=T==null?void 0:T.duration)!=null?X:j,className:T==null?void 0:T.className,descriptionClassName:T==null?void 0:T.descriptionClassName,invert:i,visibleToasts:_,closeButton:(Oe=T==null?void 0:T.closeButton)!=null?Oe:h,interacting:q,position:G,style:T==null?void 0:T.style,unstyled:T==null?void 0:T.unstyled,classNames:T==null?void 0:T.classNames,cancelButtonStyle:T==null?void 0:T.cancelButtonStyle,actionButtonStyle:T==null?void 0:T.actionButtonStyle,closeButtonAriaLabel:T==null?void 0:T.closeButtonAriaLabel,removeToast:ge,toasts:F.filter(He=>He.position==we.position),heights:K.filter(He=>He.position==we.position),setHeights:W,expandByDefault:u,gap:S,expanded:Q,swipeDirections:t.swipeDirections})})):null}))}),Qh={duration:4e3};class ix{static success(t,s){const n=`success-${t}`;return this.activeToasts.has(n)?void 0:(this.activeToasts.add(n),As.success(t,{description:s==null?void 0:s.description,duration:(s==null?void 0:s.duration)||Qh.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(n)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(n)},this.DUPLICATE_TIMEOUT)}}))}static error(t,s){const n=`error-${t}`;return this.activeToasts.has(n)?void 0:(this.activeToasts.add(n),As.error(t,{description:s==null?void 0:s.description,duration:(s==null?void 0:s.duration)||Qh.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(n)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(n)},this.DUPLICATE_TIMEOUT)}}))}static info(t,s){const n=`info-${t}`;return this.activeToasts.has(n)?void 0:(this.activeToasts.add(n),As.info(t,{description:s==null?void 0:s.description,duration:(s==null?void 0:s.duration)||Qh.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(n)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(n)},this.DUPLICATE_TIMEOUT)}}))}static warning(t,s){const n=`warning-${t}`;return this.activeToasts.has(n)?void 0:(this.activeToasts.add(n),As.warning(t,{description:s==null?void 0:s.description,duration:(s==null?void 0:s.duration)||Qh.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(n)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(n)},this.DUPLICATE_TIMEOUT)}}))}static dismissAll(){As.dismiss(),this.activeToasts.clear()}static clearCache(){this.activeToasts.clear()}}St(ix,"activeToasts",new Set),St(ix,"DUPLICATE_TIMEOUT",1e3);const cs=ix,JP=({onMenuClick:e})=>{const{currentUser:t,isLoading:s}=nS(),{currentUserProfile:n}=jm(),{logout:i}=Tn(),l=()=>fe(null,null,function*(){try{cs.success("Logging out...",{description:"You will be redirected to the login page.",duration:2e3}),yield i(),setTimeout(()=>{rS()},1e3)}catch(g){console.error("Logout failed:",g),cs.error("Logout failed",{description:"Please try again or contact support."}),setTimeout(()=>{window.location.href=TP()},2e3)}}),c=()=>n?n.full_name||n.first_name||n.email||"User":!t||typeof t=="string"?t||"Guest":t.full_name||t.first_name||t.email||"User",u=()=>t?c().split(" ").map(p=>p[0]).join("").toUpperCase().slice(0,2):"G",h=()=>n!=null&&n.user_image?n.user_image:null,f=()=>n?n.email:t&&typeof t!="string"?t.email:t||"No email";return a.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between h-16 px-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",title:"Toggle sidebar",children:a.jsx(d5,{className:"h-5 w-5 text-gray-600"})}),a.jsxs("div",{className:"relative hidden md:block",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(mc,{className:"h-4 w-4 text-gray-400"})}),a.jsx("input",{type:"text",className:"block w-80 pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-gray-50 placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Tìm kiếm dự án, task, tài liệu..."})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[a.jsx(Y_,{className:"h-5 w-5 text-gray-600"}),a.jsx("span",{className:"absolute top-1 right-1 h-2 w-2 bg-red-500 rounded-full"})]}),a.jsx("div",{className:"relative",children:a.jsxs(uy,{children:[a.jsx(hy,{asChild:!0,children:a.jsxs("button",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:h()?a.jsx("img",{src:h(),alt:"User avatar",className:"w-8 h-8 rounded-full object-cover"}):a.jsx("span",{className:"text-xs font-medium text-white",children:u()})}),a.jsx("span",{className:"hidden md:block text-sm font-medium text-gray-700",children:s?"Loading...":c()}),a.jsx(Wx,{className:"h-4 w-4 text-gray-500"})]})}),a.jsxs(fy,{className:"w-64 p-0",align:"end",children:[a.jsx("div",{className:"p-4 border-b border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:h()?a.jsx("img",{src:h(),alt:"User avatar",className:"w-10 h-10 rounded-full object-cover"}):a.jsx("span",{className:"text-sm font-medium text-white",children:u()})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:c()}),a.jsx("p",{className:"text-sm text-gray-500",children:f()})]})]})}),a.jsxs("div",{className:"p-2",children:[a.jsxs("button",{className:"w-full flex items-center space-x-3 px-3 py-2 text-left rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[a.jsx(Xx,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Settings"})]}),a.jsxs("button",{onClick:l,className:"w-full flex items-center space-x-3 px-3 py-2 text-left rounded-lg hover:bg-red-50 transition-colors duration-200 text-red-600",children:[a.jsx(i5,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm",children:"Sign out"})]})]})]})]})})]})]})})},iS=t=>{var e=$e(t,[]);const{theme:s="system"}=YD();return a.jsx(ZP,z({theme:s,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"}},e))},eL=()=>{const[e,t]=N.useState(!1),[s,n]=N.useState(!1),i=()=>{window.innerWidth<1024?t(!e):n(!s)};return a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsx("div",{className:"hidden lg:flex lg:flex-shrink-0 transition-all duration-300",children:a.jsx(Tj,{collapsed:s,onToggle:i})}),e&&a.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>t(!1)}),a.jsx("div",{className:"relative flex flex-col w-64 h-full bg-white shadow-xl",children:a.jsx(Tj,{})})]}),a.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[a.jsx(JP,{onMenuClick:i}),a.jsx("main",{className:"flex-1 overflow-y-auto",children:a.jsx("div",{className:"py-6",children:a.jsx("div",{className:"mx-auto px-5",children:a.jsx(SO,{})})})})]}),a.jsx(iS,{position:"top-right",richColors:!0,expand:!0,closeButton:!0,toastOptions:{duration:4e3}})]})},tL=(e={})=>{const{checkIntervalMinutes:t=5,showNotifications:s=!0,enabled:n=!0,onTokenExpired:i}=e,{currentUser:l,isLoading:c}=Tn(),u=N.useRef(null),h=N.useRef(!1),f=N.useCallback(()=>{u.current&&(clearInterval(u.current),u.current=null)},[]),g=N.useCallback(()=>{f(),s&&cs.error("Session Expired",{description:"Your session has expired. Please log in again.",duration:3e3}),i==null||i(),setTimeout(()=>{rS()},1e3)},[f,i,s]),p=N.useCallback(()=>fe(null,null,function*(){try{return(yield _P()).isValid?(h.current=!1,!0):(console.warn("Authentication check failed - token invalid"),g(),!1)}catch(v){return console.error("Error checking authentication:",v),!0}}),[g]),b=N.useCallback(()=>{if(!n||c||!l||ax())return;f(),p();const v=t*60*1e3;u.current=setInterval(p,v)},[n,c,l,t,p,f]);N.useEffect(()=>(l&&!c?b():f(),f),[l,c,b,f]),N.useEffect(()=>f,[f]);const y=N.useCallback(()=>p(),[p]),j=N.useCallback(()=>{g()},[g]);return{checkAuth:y,forceLogout:j,isWatching:!!u.current,currentUser:l,isLoading:c}},sL=({children:e,checkInterval:t=5,showNotifications:s=!0})=>{const{isWatching:n,currentUser:i,isLoading:l}=tL({checkIntervalMinutes:t,showNotifications:s,enabled:!ax(),onTokenExpired:()=>{console.log("Token expired callback triggered")}});return N.useEffect(()=>{},[n,i,l,t]),ax()?a.jsx(a.Fragment,{children:e}):l?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsx(a.Fragment,{children:e})};function nL(){return a.jsx(UD,{siteName:"frontend",socketPort:"9000",children:a.jsxs(GD,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:[a.jsx(sL,{checkInterval:5,showNotifications:!0,children:a.jsx(eL,{})}),a.jsx(iS,{})]})})}const aL=()=>{const[e,t]=N.useState("all"),[s,n]=N.useState("all"),[i,l]=N.useState([]),[c,u]=N.useState(!1),{data:h,isLoading:f}=mt("Project",{fields:["name","project_name","status","department","team","estimated_costing","expected_end_date","percent_complete"]}),{data:g,isLoading:p}=mt("project_phase",{fields:["name"],limit:0});N.useEffect(()=>{fe(null,null,function*(){if(!g||g.length===0){l([]);return}u(!0);try{const L=g.map(K=>fe(null,null,function*(){try{const W=yield fetch(`/api/resource/project_phase/${K.name}`,{method:"GET",headers:{Accept:"application/json"}});if(!W.ok)return console.warn(`❌ Failed to fetch phase ${K.name}:`,W.status),null;const Q=yield W.json();return Q.data||Q}catch(W){return console.error(`💥 Error fetching phase ${K.name}:`,W),null}})),R=(yield Promise.all(L)).filter(K=>K!==null);l(R)}catch(L){console.error("💥 Error in fetchPhasesWithTasks:",L)}finally{u(!1)}})},[g]);const{data:b,isLoading:y}=mt("Task",{fields:["name","subject","status","exp_end_date","exp_start_date","project","progress","priority","is_group"],limit:0}),{data:j,isLoading:v}=mt("Timesheet",{fields:["name","total_hours"],limit:0}),_=(h||[]).map(E=>{var L;return oe(z({},E),{project_type:E.project_type||"",customer:E.customer||"",company:E.company||"",department:E.department||"",team:E.team||"",expected_start_date:E.expected_start_date||"",expected_end_date:E.expected_end_date||"",actual_start_date:E.actual_start_date||"",actual_end_date:E.actual_end_date||null,percent_complete:E.percent_complete||0,priority:E.priority||"Medium",estimated_costing:E.estimated_costing||0,total_billable_amount:E.total_billable_amount||0,total_billed_amount:E.total_billed_amount||0,gross_margin:E.gross_margin||0,estimated_hours:E.estimated_hours||0,total_hours:E.total_hours||0,is_active:(L=E.is_active)!=null?L:!0})}),T=N.useMemo(()=>!i||i.length===0?[]:i.map(E=>{const L=E.tasks||[];return oe(z({},E),{phase_name:E.subject||E.name||"",status:E.status||"Open",expected_start_date:E.start_date||"",expected_end_date:E.end_date||"",actual_start_date:E.start_date||"",actual_end_date:null,progress:E.progress||0,description:E.details||"",tasks:L})}),[i]),O=(b||[]).map(E=>oe(z({},E),{project:E.project||"",priority:E.priority||"Medium",type:E.type||"",expected_time:E.expected_time||0,actual_time:E.actual_time||0,start_date:E.exp_start_date||"",end_date:E.exp_end_date||"",progress:E.progress||0,assigned_to:E.assigned_to||null,is_group:E.is_group||!1,parent_task_name:E.parent_task_name||null})),S=(j||[]).map(E=>({name:E.name,employee:E.employee||"",project:"",task:"",start_date:E.start_date||"",end_date:E.end_date||"",total_hours:E.total_hours||0,billable:!0,billing_hours:0,billing_rate:0,billing_amount:0})),C=f||p||c||y||v,D=N.useMemo(()=>{let E=_;s!=="all"&&s!==""&&(E=E.filter(K=>K.team===s)),e!=="all"&&e!==""&&(E=E.filter(K=>K.project_name===e));const L=E.map(K=>K.project_name),F=E.map(K=>K.name),R=T.filter(K=>F.includes(K.project));return{filteredProjects:E,filteredPhases:R,filteredTasks:O.filter(K=>{const W=K.project||"";return F.includes(W)}),filteredTimesheets:S.filter(K=>K.project?L.includes(K.project):!0)}},[_,T,O,S,e,s]);return{allProjects:_,allPhases:T,filteredData:D,selectedProject:e,selectedTeam:s,setSelectedProject:t,setSelectedTeam:n,isLoading:C}},Bo=class Bo{static useUserProjects(){const{currentUser:t}=Tn(),{data:s,isLoading:n,error:i,mutate:l}=mt("Project",{fields:Bo.PROJECT_FIELDS,filters:t?[["owner","=",t]]:[],orderBy:{field:"modified",order:"desc"}},void 0,{revalidateOnFocus:!0,revalidateOnReconnect:!0}),{data:c,isLoading:u,error:h,mutate:f}=mt("Project",{fields:Bo.PROJECT_FIELDS,limit:0,orderBy:{field:"modified",order:"desc"}},void 0,{revalidateOnFocus:!0,revalidateOnReconnect:!0}),g=ye.useMemo(()=>{if(!t)return[];const b=j=>{const v=new Map;return j.forEach(_=>{var O;const T=_.name;if(!v.has(T)){const S={name:_.name,owner:_.owner,creation:_.creation,modified:_.modified,project_name:_.project_name,project_type:_.project_type,status:_.status,customer:_.customer,expected_start_date:_.expected_start_date,expected_end_date:_.expected_end_date,percent_complete:_.percent_complete,priority:_.priority,department:_.department,team:_.team||null,estimated_costing:_.estimated_costing,total_billable_amount:_.total_billable_amount,company:_.company,users:[]};v.set(T,S)}if(_.user){const S=v.get(T);((O=S.users)==null?void 0:O.some(D=>D.user===_.user))||(S.users=S.users||[],S.users.push({user:_.user,email:_.email,full_name:_.full_name,project_status:_.project_status}))}}),Array.from(v.values()).sort((_,T)=>{const O=new Date(_.modified||_.creation||0);return new Date(T.modified||T.creation||0).getTime()-O.getTime()})};let y=[];if(s&&s.length>0&&(y=y.concat(s)),c&&c.length>0){const j=c.filter(v=>v.owner===t||v.user&&v.user===t);y=y.concat(j)}return b(y)},[s,c,t]),p=ye.useCallback(()=>fe(null,null,function*(){console.log("Mutating ownedProjects and allProjects...");try{yield Promise.all([l(),f()]),console.log("Data refreshed successfully")}catch(b){console.error("Error refreshing data:",b)}}),[l,f]);return{data:g,isLoading:n||u,error:i&&h?i||h:null,mutate:p}}static useProject(t){const{data:s,isLoading:n,error:i,mutate:l}=kt("Project",t||"",t?"Project":void 0);return{data:s,isLoading:n,error:i,mutate:l}}static useProjectOwner(t){const{data:s,isLoading:n,error:i}=kt("User",t||"",t?void 0:null);return{data:s,isLoading:n,error:i}}static useCreateProject(){const{createDoc:t,loading:s,error:n}=Qi();return{createProject:l=>fe(null,null,function*(){return yield t("Project",oe(z({},l),{expected_start_date:l.expected_start_date||void 0,expected_end_date:l.expected_end_date||void 0}))}),isLoading:s,error:n}}static useUpdateProject(){const{updateDoc:t,loading:s,error:n}=En();return{updateProject:(l,c)=>fe(null,null,function*(){return yield t("Project",l,oe(z({},c),{expected_start_date:c.expected_start_date||void 0,expected_end_date:c.expected_end_date||void 0}))}),isLoading:s,error:n}}static useDeleteProject(){const{call:t,loading:s,error:n}=$s("frappe.client.delete");return{deleteProject:l=>fe(null,null,function*(){return yield t({doctype:"Project",name:l})}),isLoading:s,error:n}}static useProjectMembers(){const{call:t}=$s("frappe.client.insert"),{call:s}=$s("frappe.client.save"),{call:n}=$s("frappe.client.delete");return{addMember:u=>fe(null,null,function*(){return yield t({doc:oe(z({doctype:"Project User"},u),{welcome_email_sent:1})})}),updateMember:(u,h)=>fe(null,null,function*(){return yield s({doc:z({doctype:"Project User",name:u},h)})}),removeMember:u=>fe(null,null,function*(){return yield n({doctype:"Project User",name:u})})}}static useProjectOwnerManagement(){const{call:t}=$s("frappe.client.save"),{call:s}=$s("frappe.client.set_value");return{transferOwner:(l,c)=>fe(null,null,function*(){try{return yield t({doc:{doctype:"Project",name:l,owner:c}}),{success:!0,method:"save"}}catch(u){try{return yield s({doctype:"Project",name:l,fieldname:"owner",value:c}),{success:!0,method:"set_value"}}catch(h){throw new Error("Owner field is protected by ERPNext")}}}),transferOwnerWithAPI:(l,c)=>fe(null,null,function*(){try{const u=yield fetch("/api/method/my_app.api.project_transfer.transfer_project_owner",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({project_name:l,new_owner:c})}),h=yield u.json();return u.ok&&h.message?{success:!0,data:h.message}:{success:!1,error:h.message||"Transfer failed"}}catch(u){return{success:!1,error:u instanceof Error?u.message:"Unknown error"}}})}}static useProjectUsers(t){const{data:s,isLoading:n,error:i,mutate:l}=kt("Project",t,{fields:["name","users"]});return{data:(s==null?void 0:s.users)||[],isLoading:n,error:i,mutate:l}}static useProjectUsersAlt(t){const{data:s,isLoading:n,error:i,mutate:l}=mt("Project User",{fields:["name","user","email","full_name","image"],filters:[["parent","=",t]],limit:0});return{data:s||[],isLoading:n,error:i,mutate:l}}};St(Bo,"PROJECT_FIELDS",["name","owner","creation","modified","project_name","project_type","status","customer","department","team","expected_start_date","expected_end_date","percent_complete","priority","estimated_costing","total_billable_amount","company","users.user","users.email","users.full_name","users.project_status"]),St(Bo,"DETAILED_PROJECT_FIELDS",[...Bo.PROJECT_FIELDS,"creation","modified","modified_by","description","notes","expected_start_date","actual_start_date","actual_end_date","total_costing_amount","total_purchase_cost","total_sales_amount","total_billed_amount","users"]);let au=Bo;const rL=au.useUserProjects,iL=au.useCreateProject,oL=au.useUpdateProject;class qr{static useDocTypeOptions(t,s={}){const{fields:n=["name"],filters:i=[],limit:l=100}=s,{data:c,isLoading:u,error:h}=mt(t,{fields:n,filters:i,limit:l});return{data:c||[],isLoading:u,error:h}}static useCustomers(){return qr.useDocTypeOptions("Customer",{fields:["name","customer_name","customer_type"],filters:[["disabled","=",0]]})}static useCompanies(){return qr.useDocTypeOptions("Company",{fields:["name","company_name","abbr"],filters:[["is_group","=",0]]})}static useProjectTypes(){return qr.useDocTypeOptions("Project Type",{fields:["name","description"]})}static useDepartments(){return qr.useDocTypeOptions("Department",{fields:["name","department_name","parent_department"],filters:[["disabled","=",0]]})}static useCostCenters(){return qr.useDocTypeOptions("Cost Center",{fields:["name","cost_center_name","parent_cost_center"],filters:[["disabled","=",0],["is_group","=",0]]})}static useProjectTemplates(){return qr.useDocTypeOptions("Project Template",{fields:["name","project_template_name"]})}static useTeams(){return qr.useDocTypeOptions("Team",{fields:["name","team","department"]})}}const oS=qr.useTeams;class lL{static useCreatePhaseTask(){const{createDoc:t,loading:s}=Qi(),{call:n}=$s("frappe.client.insert"),{call:i}=$s("frappe.client.save"),{data:l}=kt("User","",{shouldFetch:!0});return{createTaskWithPhase:u=>fe(null,null,function*(){try{const h=yield t("Task",{subject:u.subject,description:u.description,priority:u.priority,status:u.status,type:u.type,expected_time:u.expected_time,task_weight:u.task_weight,exp_start_date:u.exp_start_date||null,exp_end_date:u.exp_end_date||null,project:u.project});let f=null;if(u.assign_to&&h)try{f=yield n({doc:{doctype:"ToDo",allocated_to:u.assign_to,assigned_by:(l==null?void 0:l.name)||"",description:`Task: ${u.subject}`,reference_type:"Task",reference_name:h.name,status:"Open",priority:u.priority,date:new Date().toISOString().split("T")[0]}})}catch(g){console.error("Error creating ToDo:",g)}if(u.phaseId&&h){const g={parent:u.phaseId,parenttype:"project_phase",parentfield:"tasks",task:h.name,task_name:h.subject,status:h.status,start_date:h.exp_start_date,end_date:h.exp_end_date,description:h.description},p=yield n({doc:z({doctype:"Project Phase Task"},g)});console.log("Project Phase Task created successfully:",p);try{console.log("Saving parent phase document to commit child table changes...");const b=yield i({doc:{doctype:"project_phase",name:u.phaseId}});console.log("Parent phase saved successfully:",b)}catch(b){console.warn("Failed to save parent phase, but child was created:",b)}return{success:!0,task:h,phaseTask:p,todo:f,message:"Task created and linked to phase successfully"}}return{success:!0,task:h,todo:f,message:"Task created successfully"}}catch(h){throw console.error("Error in createTaskWithPhase:",h),h}}),isLoading:s}}static useLinkTaskToPhase(){const{call:t}=$s("frappe.client.insert");return{linkTaskToPhase:(n,i,l)=>fe(null,null,function*(){try{const c={parent:i,parenttype:"Project Phase",parentfield:"tasks",task:n,task_name:(l==null?void 0:l.task_name)||n,status:(l==null?void 0:l.status)||"Open",start_date:l==null?void 0:l.start_date,end_date:l==null?void 0:l.end_date,description:l==null?void 0:l.description};return{success:!0,phaseTask:yield t({doc:z({doctype:"Project Phase Task"},c)}),message:"Task linked to phase successfully"}}catch(c){return console.error("Error linking task to phase:",c),{success:!1,error:c instanceof Error?c.message:"Unknown error",message:"Failed to link task to phase"}}})}}}const cL=lL.useCreatePhaseTask;class lS{static useUpdateTask(){const{updateDoc:t,loading:s,error:n}=En();return{updateTask:(l,c)=>fe(null,null,function*(){const g=c,{assign_to:u}=g,h=$e(g,["assign_to"]),f=yield t("Task",l,oe(z({},h),{exp_start_date:h.exp_start_date||void 0,exp_end_date:h.exp_end_date||void 0}));return h.progress!==void 0&&(console.log(`Task ${l} progress updated, signaling phase progress update...`),localStorage.setItem("task_progress_updated",l),window.dispatchEvent(new StorageEvent("storage",{key:"task_progress_updated",newValue:l}))),f}),isLoading:s,error:n}}static useTaskAssignment(){const{createDoc:t}=Qi(),{deleteDoc:s}=lm(),{data:n}=kt("User","",{shouldFetch:!0});return{assignTask:(c,u,h,f="Medium")=>fe(null,null,function*(){return yield t("ToDo",{allocated_to:h,assigned_by:(n==null?void 0:n.name)||"",description:`Task: ${u}`,reference_type:"Task",reference_name:c,status:"Open",priority:f,date:new Date().toISOString().split("T")[0]})}),unassignTask:c=>fe(null,null,function*(){return yield s("ToDo",c)})}}}const cS=lS.useUpdateTask,dS=lS.useTaskAssignment;class uS{static useUpdatePhase(){const{updateDoc:t,loading:s,error:n}=En();return{updatePhase:(l,c)=>fe(null,null,function*(){return t("project_phase",l,c)}),isLoading:s,error:n}}static usePhaseAssignment(){const{createDoc:t}=Qi(),{deleteDoc:s}=lm(),{data:n}=kt("User","",{shouldFetch:!0});return{assignPhase:(c,u)=>fe(null,null,function*(){return t("ToDo",{allocated_to:u,assigned_by:(n==null?void 0:n.name)||"",reference_type:"project_phase",reference_name:c,description:`Assigned to phase: ${c}`,status:"Open"})}),unassignPhase:c=>fe(null,null,function*(){return s("ToDo",c)})}}}const dL=uS.useUpdatePhase,hS=uS.usePhaseAssignment;class uL{static useUpdateSubTask(){const{updateDoc:t,loading:s,error:n}=En();return{updateSubTask:(l,c)=>fe(null,null,function*(){return yield t("SubTask",l,c)}),isLoading:s,error:n}}static useSubTaskAssignment(){const{createDoc:t}=Qi(),{deleteDoc:s}=lm(),{data:n}=kt("User","",{shouldFetch:!0});return{assignSubTask:(c,u)=>fe(null,null,function*(){return yield t("ToDo",{allocated_to:u,assigned_by:(n==null?void 0:n.name)||"",reference_type:"SubTask",reference_name:c,description:`Assignment for SubTask: ${c}`,status:"Open"})}),unassignSubTask:c=>fe(null,null,function*(){return yield s("ToDo",c)})}}}const{useUpdateSubTask:fS,useSubTaskAssignment:my}=uL,wc=e=>{const{data:t,isLoading:s,error:n}=kt("Project",e,{fields:["name","users"]}),{data:i,isLoading:l}=kt("Project",(t==null?void 0:t.name)||"",t!=null&&t.name?"Project":void 0);return{data:(i==null?void 0:i.users)||(t==null?void 0:t.users)||[],isLoading:s||l,error:n}};class hL{static useTaskProgressCalculation(){const{updateDoc:t}=En();return{calculateAndUpdateTaskProgress:n=>fe(null,null,function*(){try{const i=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"SubTask",fields:["name","status"],filters:[["task","=",n]]})});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const c=(yield i.json()).message||[];if(!c||c.length===0)return null;let u=0;c.forEach(f=>{switch(f.status){case"Open":u+=1;break;case"Working":u+=50;break;case"Completed":u+=100;break;default:u+=0}});const h=Math.round(u/c.length);return yield t("Task",n,{progress:h}),console.log(`Task ${n} progress updated to ${h}%, signaling phase progress update...`),localStorage.setItem("task_progress_updated",n),window.dispatchEvent(new StorageEvent("storage",{key:"task_progress_updated",newValue:n})),console.log(`Task ${n} progress updated to ${h}%`),h}catch(i){return console.error("Error calculating task progress:",i),null}})}}static useTaskStatusProgressUpdate(){const{updateDoc:t}=En();return{updateTaskProgressByStatus:(n,i,l)=>fe(null,null,function*(){try{let c=l||0;switch(i){case"Completed":c=100;break;case"Cancelled":case"Rejected":c=0;break;default:break}return yield t("Task",n,{status:i,progress:c}),console.log(`Task ${n} status/progress updated, signaling phase progress update...`),localStorage.setItem("task_progress_updated",n),window.dispatchEvent(new StorageEvent("storage",{key:"task_progress_updated",newValue:n})),c}catch(c){return console.error("Error updating task progress by status:",c),null}})}}static useManualProgressUpdate(){const{updateDoc:t}=En();return{updateTaskProgress:(n,i)=>fe(null,null,function*(){try{let l="";return i===0||i===1?l="Open":i>1&&i<=90?l="Working":i>90&&i<100?l="Pending Review":i===100&&(l="Completed"),yield t("Task",n,{progress:i,status:l}),console.log(`Task ${n} manual progress updated to ${i}%, signaling phase progress update...`),localStorage.setItem("task_progress_updated",n),window.dispatchEvent(new StorageEvent("storage",{key:"task_progress_updated",newValue:n})),{progress:i,status:l}}catch(l){return console.error("Error updating manual task progress:",l),null}})}}}const{useTaskProgressCalculation:vu,useTaskStatusProgressUpdate:mS,useManualProgressUpdate:gS}=hL;class pS{static usePhaseProgressCalculation(){const{updateDoc:t}=En();return{calculateAndUpdatePhaseProgress:n=>fe(null,null,function*(){try{const i=yield fetch("/api/method/frappe.client.get",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",name:n})});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const c=(yield i.json()).message;if(!c||!c.tasks||c.tasks.length===0)return yield t("project_phase",n,{progress:0}),console.log(`Phase ${n} progress updated to 0% (no tasks)`),0;const u=c.tasks.map(y=>y.task);console.log(`Phase ${n} has ${u.length} tasks:`,u);const h=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["name","in",u]]})});if(!h.ok)throw new Error(`HTTP error! status: ${h.status}`);const g=(yield h.json()).message||[];if(g.length===0)return yield t("project_phase",n,{progress:0}),console.log(`Phase ${n} progress updated to 0% (no valid tasks)`),0;let p=0;g.forEach(y=>{const j=y.progress||0;console.log(`Task ${y.name}: ${j}%`),p+=j});const b=Math.round(p/g.length);return console.log(`Calculated phase progress: ${b}% (from ${g.length} tasks)`),yield t("project_phase",n,{progress:b}),console.log(`Phase ${n} progress updated to ${b}% (based on ${g.length} tasks)`),b}catch(i){return console.error("Error calculating phase progress:",i),null}})}}static usePhaseStatusProgressUpdate(){const{updateDoc:t}=En();return{updatePhaseProgressByStatus:(n,i,l)=>fe(null,null,function*(){try{let c=l||0;switch(i){case"Completed":c=100;break;case"Cancelled":case"Rejected":c=0;break;default:break}return yield t("project_phase",n,{status:i,progress:c}),c}catch(c){return console.error("Error updating phase progress by status:",c),null}})}}static useManualPhaseProgressUpdate(){const{updateDoc:t}=En();return{updatePhaseProgress:(n,i)=>fe(null,null,function*(){try{let l="";return i===0||i===1?l="Open":i>1&&i<=90?l="Working":i>90&&i<100?l="Pending Review":i===100&&(l="Completed"),yield t("project_phase",n,{progress:i,status:l}),{progress:i,status:l}}catch(l){return console.error("Error updating manual phase progress:",l),null}})}}}const{usePhaseProgressCalculation:xS}=pS,fL=e=>fe(null,null,function*(){const{calculateAndUpdatePhaseProgress:t}=pS.usePhaseProgressCalculation();return yield t(e)});class gy{static useProjectProgressFromPhases(){const{updateDoc:t}=En();return{calculateAndUpdateProjectProgressFromPhases:n=>fe(null,null,function*(){try{const i=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","progress"],filters:[["project","=",n]]})});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const c=(yield i.json()).message||[];if(!c||c.length===0){const{calculateAndUpdateProjectProgressFromTasks:f}=gy.useProjectProgressFromTasks();return yield f(n)}let u=0;c.forEach(f=>{u+=f.progress||0});const h=Math.round(u/c.length);return yield t("Project",n,{percent_complete:h}),h}catch(i){return console.error("Error calculating project progress from phases:",i),null}})}}static useProjectProgressFromTasks(){const{updateDoc:t}=En();return{calculateAndUpdateProjectProgressFromTasks:n=>fe(null,null,function*(){try{const i=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["project","=",n]]})});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const c=(yield i.json()).message||[];if(!c||c.length===0)return yield t("Project",n,{percent_complete:0}),0;let u=0;c.forEach(f=>{u+=f.progress||0});const h=Math.round(u/c.length);return yield t("Project",n,{percent_complete:h}),h}catch(i){return console.error("Error calculating project progress from tasks:",i),null}})}}static useProjectProgressCalculation(){const{updateDoc:t}=En();return{calculateAndUpdateProjectProgress:n=>fe(null,null,function*(){try{const i=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","progress"],filters:[["project","=",n]]})});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const c=(yield i.json()).message||[];console.log("Found phases:",c.length);const u=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["project","=",n]]})});if(!u.ok)throw new Error(`HTTP error! status: ${u.status}`);const f=(yield u.json()).message||[];if(console.log("Found tasks:",f.length),c&&c.length>0){const g=[];for(const v of c)try{const _=yield fetch(`/api/resource/project_phase/${v.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(_.ok){const T=yield _.json();T.data.tasks&&T.data.tasks.length>0&&T.data.tasks.forEach(O=>{O.task&&g.push(O.task)})}}catch(_){console.warn("Error fetching phase document:",v.name,_)}console.log("Tasks in phases:",g);const p=f.filter(v=>!g.includes(v.name));console.log("Standalone tasks:",p.length);let b=0,y=0;c.forEach(v=>{const _=v.progress||0;console.log(`Phase ${v.name}: ${_}%`),b+=_,y+=1}),p.forEach(v=>{const _=v.progress||0;console.log(`Standalone Task ${v.name}: ${_}%`),b+=_,y+=1}),console.log(`Total components: ${y}, Total progress: ${b}`);const j=y>0?Math.round(b/y):0;return console.log(`Calculated average progress: ${j}%`),yield t("Project",n,{percent_complete:j}),{progress:j,source:"mixed",count:y,phases:c.length,standaloneTasks:p.length}}else if(f&&f.length>0){console.log("No phases found, calculating from all tasks");let g=0;f.forEach(b=>{g+=b.progress||0});const p=Math.round(g/f.length);return console.log(`Task-based progress: ${p}%`),yield t("Project",n,{percent_complete:p}),{progress:p,source:"tasks",count:f.length}}else return console.log("No phases or tasks found"),yield t("Project",n,{percent_complete:0}),{progress:0,source:"none",count:0}}catch(i){return console.error("Error calculating project progress:",i),null}})}}static useProjectStatusProgressUpdate(){const{updateDoc:t}=En();return{updateProjectProgressByStatus:(n,i,l)=>fe(null,null,function*(){try{let c=l||0;switch(i){case"Completed":c=100;break;case"Cancelled":case"Rejected":c=0;break;default:break}return yield t("Project",n,{status:i,percent_complete:c}),c}catch(c){return console.error("Error updating project progress by status:",c),null}})}}}const{useProjectProgressCalculation:mL}=gy;class gL{static useProjectCascadeDelete(){const{call:t}=$s("frappe.client.delete"),{call:s}=$s("frappe.client.get_list");return{deleteProjectCascade:i=>fe(null,null,function*(){try{console.log(`Starting cascade delete for project: ${i}`);try{const y=yield s({doctype:"Project",fields:["name"],filters:[["name","=",i]],limit_page_length:1});if(!(y!=null&&y.message)||y.message.length===0)throw new Error(`Project ${i} not found`)}catch(y){throw console.error("Project validation failed:",y),new Error(`Project validation failed: ${y instanceof Error?y.message:"Unknown validation error"}`)}let l=0,c=0,u=0;console.log("Step 1: Fetching all tasks...");let h=[];try{const y=yield s({doctype:"Task",fields:["name"],filters:[["project","=",i]],limit_page_length:1e3});h=(y==null?void 0:y.message)||[],console.log(`Found ${h.length} tasks to delete`)}catch(y){console.error("Error fetching tasks:",y),console.log("Continuing with deletion despite task fetch error...")}if(h.length>0){console.log(`Step 2: Processing ${h.length} tasks for subtask deletion...`);for(const y of h){console.log(`Step 2: Deleting subtasks for task ${y.name}...`);try{const j=yield s({doctype:"SubTask",fields:["name"],filters:[["task","=",y.name]],limit_page_length:1e3}),v=(j==null?void 0:j.message)||[];console.log(`Found ${v.length} subtasks for task ${y.name}`);for(const _ of v)try{console.log(`Deleting subtask: ${_.name}`),yield t({doctype:"SubTask",name:_.name}),l++,console.log(`Successfully deleted subtask: ${_.name}`),yield new Promise(T=>setTimeout(T,100))}catch(T){console.error(`Error deleting subtask ${_.name}:`,T)}}catch(j){console.error(`Error fetching subtasks for task ${y.name}:`,j)}}yield new Promise(y=>setTimeout(y,500))}if(h.length>0){console.log(`Step 3: Deleting ${h.length} tasks...`);for(const y of h)try{console.log(`Deleting task: ${y.name}`),yield t({doctype:"Task",name:y.name}),c++,console.log(`Successfully deleted task: ${y.name}`),yield new Promise(j=>setTimeout(j,100))}catch(j){console.error(`Error deleting task ${y.name}:`,j)}yield new Promise(y=>setTimeout(y,500))}console.log("Step 4: Deleting all phases...");let f=[];try{const y=yield s({doctype:"project_phase",fields:["name"],filters:[["project","=",i]],limit_page_length:1e3});f=(y==null?void 0:y.message)||[],console.log(`Found ${f.length} phases to delete`)}catch(y){console.error("Error fetching phases:",y),console.log("Continuing with deletion despite phase fetch error...")}for(const y of f)try{console.log(`Deleting phase: ${y.name}`),yield t({doctype:"project_phase",name:y.name}),u++,console.log(`Successfully deleted phase: ${y.name}`),yield new Promise(j=>setTimeout(j,100))}catch(j){console.error(`Error deleting phase ${y.name}:`,j)}f.length>0&&(yield new Promise(y=>setTimeout(y,500))),console.log("Step 5: Deleting ToDo assignments...");try{const y=yield s({doctype:"ToDo",fields:["name"],filters:[["reference_type","in",["Project","Task","SubTask"]],["reference_name","like",`%${i}%`]],limit_page_length:1e3}),j=(y==null?void 0:y.message)||[];console.log(`Found ${j.length} ToDo assignments to delete`);for(const v of j)try{yield t({doctype:"ToDo",name:v.name})}catch(_){console.error(`Error deleting ToDo ${v.name}:`,_)}}catch(y){console.error("Error fetching/deleting ToDo assignments:",y)}console.log("Step 6: Deleting project users...");try{const y=yield s({doctype:"Project User",fields:["name"],filters:[["parent","=",i]],limit_page_length:1e3}),j=(y==null?void 0:y.message)||[];console.log(`Found ${j.length} project users to delete`);for(const v of j)try{yield t({doctype:"Project User",name:v.name})}catch(_){console.error(`Error deleting Project User ${v.name}:`,_)}}catch(y){console.error("Error fetching/deleting project users:",y)}console.log("Step 6.5: Performing comprehensive dependency cleanup...");const g=[{doctype:"Task",filter:[["project","=",i]]},{doctype:"SubTask",filter:[["project","=",i]]},{doctype:"project_phase",filter:[["project","=",i]]},{doctype:"Project User",filter:[["parent","=",i]]},{doctype:"ToDo",filter:[["reference_type","=","Project"],["reference_name","=",i]]},{doctype:"ToDo",filter:[["reference_type","=","Task"],["reference_name","like",`%${i}%`]]},{doctype:"Communication",filter:[["reference_doctype","=","Project"],["reference_name","=",i]]},{doctype:"File",filter:[["attached_to_doctype","=","Project"],["attached_to_name","=",i]]},{doctype:"Comment",filter:[["reference_doctype","=","Project"],["reference_name","=",i]]}];for(const y of g)try{console.log(`Checking for remaining ${y.doctype} dependencies...`);const j=yield s({doctype:y.doctype,fields:["name"],filters:y.filter,limit_page_length:1e3}),v=(j==null?void 0:j.message)||[];if(v.length>0){console.log(`Found ${v.length} remaining ${y.doctype} items, deleting them...`);for(const _ of v)try{yield t({doctype:y.doctype,name:_.name}),console.log(`Deleted remaining ${y.doctype}: ${_.name}`),yield new Promise(T=>setTimeout(T,100))}catch(T){console.error(`Error deleting remaining ${y.doctype} ${_.name}:`,T)}}else console.log(`No remaining ${y.doctype} dependencies found.`)}catch(j){console.error(`Error checking ${y.doctype} dependencies:`,j)}yield new Promise(y=>setTimeout(y,1e3)),console.log("Step 7: Deleting the project..."),yield new Promise(y=>setTimeout(y,1e3));let p=0;const b=3;for(;p<b;)try{p++,console.log(`Attempting to delete project ${i} (attempt ${p}/${b})`),yield t({doctype:"Project",name:i}),console.log(`Verifying project ${i} deletion...`);try{const y=yield s({doctype:"Project",fields:["name"],filters:[["name","=",i]],limit_page_length:1});if(y!=null&&y.message&&y.message.length>0)throw new Error("Project still exists after deletion attempt");console.log(`Successfully verified project ${i} deletion`)}catch(y){if(y.message==="Project still exists after deletion attempt")throw y;console.log(`Project ${i} not found during verification - deletion successful`)}console.log(`Successfully deleted project: ${i}`);break}catch(y){if(console.error(`Error deleting project ${i} (attempt ${p}):`,y),p<b){console.log(`Waiting before retry attempt ${p+1}...`),yield new Promise(j=>setTimeout(j,2e3)),console.log("Attempting to clean up remaining dependencies...");try{const j=yield s({doctype:"Project User",fields:["name"],filters:[["parent","=",i]],limit_page_length:1e3}),v=(j==null?void 0:j.message)||[];if(v.length>0){console.log(`Found ${v.length} remaining project users, deleting them...`);for(const _ of v)try{yield t({doctype:"Project User",name:_.name}),console.log(`Deleted remaining project user: ${_.name}`)}catch(T){console.error(`Error deleting remaining project user ${_.name}:`,T)}}}catch(j){console.error("Error during dependency cleanup:",j)}try{const j=yield s({doctype:"ToDo",fields:["name"],filters:[["reference_type","=","Project"],["reference_name","=",i]],limit_page_length:1e3}),v=(j==null?void 0:j.message)||[];if(v.length>0){console.log(`Found ${v.length} remaining todos, deleting them...`);for(const _ of v)try{yield t({doctype:"ToDo",name:_.name}),console.log(`Deleted remaining todo: ${_.name}`)}catch(T){console.error(`Error deleting remaining todo ${_.name}:`,T)}}}catch(j){console.error("Error during todo cleanup:",j)}}else{let j="Unknown project deletion error";if(y&&typeof y=="object")if(console.error("Full project deletion error object:",JSON.stringify(y,null,2)),y.message)j=y.message;else if(y.exc)j=y.exc;else if(y._server_messages)try{const v=JSON.parse(y._server_messages);Array.isArray(v)&&v.length>0&&(j=JSON.parse(v[0]).message||j)}catch(v){console.error("Error parsing server messages:",v)}else j=JSON.stringify(y);else typeof y=="string"&&(j=y);throw new Error(`Failed to delete project ${i} after ${b} attempts: ${j}`)}}return console.log(`Successfully completed cascade delete for project: ${i}`),{success:!0,deletedItems:{subtasks:l,tasks:c,phases:u,project:1}}}catch(l){console.error("Error in cascade delete:",l);let c="Unknown error";throw l instanceof Error?c=l.message:typeof l=="string"?c=l:l&&typeof l=="object"&&(c=l.message||l.error||l.exc||JSON.stringify(l)),new Error(`Failed to delete project and related items: ${c}`)}})}}}const{useProjectCascadeDelete:pL}=gL;class py{static useUserTodos(){const{data:t}=kt("User","",{shouldFetch:!0}),{data:s,isLoading:n,error:i,mutate:l}=mt("ToDo",{fields:["name","status","priority","date","allocated_to","description","reference_type","reference_name","assigned_by","assigned_by_full_name","creation","modified"],filters:[["allocated_to","=",(t==null?void 0:t.name)||""],["reference_type","=","Task"]],orderBy:{field:"creation",order:"desc"},limit:0},t!=null&&t.name?"user-todos":null);return{todos:s||[],isLoading:n,error:i,mutate:l,currentUser:t}}static useUserTodosEnriched(){const{data:t}=kt("User","",{shouldFetch:!0}),{data:s,isLoading:n,error:i,mutate:l}=VD("todo.api.get_user_todos_with_task_info",{user:(t==null?void 0:t.name)||""},t!=null&&t.name?"user-todos-enriched":null,{revalidateOnFocus:!1,revalidateOnReconnect:!1});return{todos:(s==null?void 0:s.message)||[],isLoading:n,error:i,mutate:l,currentUser:t}}static useUserTodosWithTaskData(){const{todos:t,isLoading:s,error:n,mutate:i,currentUser:l}=py.useUserTodos();return{todos:t.map(u=>(u.reference_type==="Task"&&u.reference_name,u)),isLoading:s,error:n,mutate:i,currentUser:l}}static useAllTodos(){const{data:t,isLoading:s,error:n}=mt("ToDo",{fields:["name","status","priority","date","allocated_to","description","reference_type","reference_name","assigned_by"],filters:[["reference_type","in",["Task","SubTask"]]],limit:0});return{todos:t||[],isLoading:s,error:n}}}const xL=py.useAllTodos;class yL{static useUserAssignedTasks(){const{currentUser:t}=Tn(),{data:s,isLoading:n,error:i,mutate:l}=mt("ToDo",{fields:["name","status","priority","date","allocated_to","description","reference_type","reference_name","assigned_by","assigned_by_full_name","creation","modified"],filters:[["allocated_to","=",t||""]],orderBy:{field:"creation",order:"desc"},limit:0},t?"user-assigned-todos":null),u=(s||[]).filter(q=>q.reference_type==="Task").map(q=>q.reference_name).filter(Boolean),f=(s||[]).filter(q=>q.reference_type==="SubTask").map(q=>q.reference_name).filter(Boolean),{data:g,isLoading:p,error:b,mutate:y}=mt("Task",{fields:["name","subject","project","status","priority","type","expected_time","actual_time","exp_start_date","exp_end_date","progress","is_group","parent_task","description","company","department"],filters:u.length>0?[["name","in",u]]:[["name","=","nonexistent"]],limit:0},u.length>0?"user-assigned-tasks":null),{data:j,isLoading:v,error:_,mutate:T}=mt("SubTask",{fields:["name","subject","task","status","start_date","end_date","description","assigned_to"],filters:f.length>0?[["name","in",f]]:[["name","=","nonexistent"]],limit:0},f.length>0?"user-assigned-subtasks":null),O=[...new Set((j||[]).map(q=>q.task).filter(Boolean))],{data:S}=mt("Task",{fields:["name","subject","project"],filters:O.length>0?[["name","in",O]]:[["name","=","nonexistent"]],limit:0},O.length>0?"parent-tasks-for-subtasks":null),C=[...new Set([...(g||[]).map(q=>q.project).filter(Boolean),...(S||[]).map(q=>q.project).filter(Boolean)])],{data:D}=mt("Project",{fields:["name","project_name"],filters:C.length>0?[["name","in",C]]:[["name","=","nonexistent"]],limit:0},C.length>0?"projects-for-assigned-tasks":null),E=(D||[]).reduce((q,Y)=>(q[Y.name]=Y.project_name||Y.name,q),{}),L=(S||[]).reduce((q,Y)=>(q[Y.name]=Y,q),{}),F=(s||[]).reduce((q,Y)=>(Y.reference_name&&(q[Y.reference_name]=Y),q),{}),R=(g||[]).map(q=>oe(z({},q),{project_name:q.project?E[q.project]:void 0,assignedTodo:F[q.name]})),K=(j||[]).map(q=>{const Y=q.task?L[q.task]:void 0;return oe(z({},q),{task_subject:Y==null?void 0:Y.subject,project_name:Y!=null&&Y.project?E[Y.project]:void 0,assignedTodo:F[q.name]})});return{tasks:R,subTasks:K,todos:s||[],isLoading:n||p||v,error:i||b||_,mutate:()=>{l(),y(),T()},currentUser:t}}}const bL=yL.useUserAssignedTasks;class yS{static useAllTeamTasks(){const{data:t,isLoading:s,error:n}=mt("Task",{fields:["name","subject","description","status","priority","exp_start_date","exp_end_date","project","type","progress","completed_by"],limit:0}),{data:i,isLoading:l,error:c}=mt("SubTask",{fields:["name","subject","description","status","start_date","end_date","assigned_to","task"],limit:0});return{allTasks:t||[],allSubTasks:i||[],isLoading:s||l,error:n||c}}static getAllTaskOfTeam(){const t=Tn().currentUser,{data:s}=mt("Team",{filters:[["teamlead","=",t||""]]}),n=(s==null?void 0:s.map(R=>R.name))||[],{data:i}=mt("Project",{fields:["name","team"],filters:[["team","in",n]],limit:0}),l=(i==null?void 0:i.map(R=>R.name))||[],{data:c,isLoading:u,error:h}=mt("Task",{fields:["name","status","exp_end_date","project"],limit:0}),f=(c||[]).filter(R=>l.includes(R.project||"")),{data:g,isLoading:p,error:b}=mt("SubTask",{fields:["name","status","task"],limit:0}),y=f.map(R=>R.name),j=(g||[]).filter(R=>y.includes(R.task||"")),v=R=>(R||"").toLowerCase()==="completed",_=R=>(R||"").toLowerCase()==="working",T=R=>(R||"").toLowerCase()==="cancelled",O=R=>(R||"").toLowerCase()==="overdue",S=new Date;S.setHours(0,0,0,0);const C=R=>{if(O(R.status))return!0;if(!v(R.status)&&!T(R.status)&&R.exp_end_date){const K=new Date(R.exp_end_date);return K.setHours(0,0,0,0),K<S}return!1},D=f.length+j.length,E=f.filter(R=>_(R.status)).length+j.filter(R=>_(R.status)).length,L=f.filter(R=>v(R.status)).length+j.filter(R=>v(R.status)).length,F=f.filter(R=>C(R)).length;return{total:D,working:E,completed:L,overdue:F,isLoading:u||p,error:h||b}}}const vL=yS.useAllTeamTasks,wL=yS.getAllTaskOfTeam,jL=()=>{const{currentUser:e}=Tn(),{data:t,isLoading:s,error:n}=mt("User",{fields:["name","full_name","user_image","first_name","last_name","email"],filters:[["enabled","=",1],["user_type","=","System User"]],limit:20});return{simpleTeamData:N.useMemo(()=>t?t.map(l=>({id:l.name,name:l.full_name||l.first_name||l.name||"Unknown User",role:l.name===e?"Leader":"Member",avatar:l.user_image||`https://placehold.co/40x40/e2e8f0/475569?text=${(l.first_name||l.full_name||"U").charAt(0).toUpperCase()}`})):[],[t,e]),users:t,isLoading:s,error:n}},NL=({projects:e,selectedProject:t,selectedTeam:s,onProjectChange:n,onTeamChange:i})=>{var v,_;const[l,c]=N.useState({selectedTeam:s,selectedProject:t}),[u,h]=N.useState(!1),{data:f}=oS(),g=(T,O)=>{c(S=>oe(z({},S),{[T]:O})),T==="selectedTeam"?i(O):T==="selectedProject"&&n(O)},p=ye.useMemo(()=>{const T=[{value:"all",label:"Tất cả team"},...(f==null?void 0:f.map(O=>({value:O.name,label:O.team_name||O.name})))||[]];return[T[0],...T.slice(1).sort((O,S)=>O.label.localeCompare(S.label))]},[f]),b=e.filter(T=>!(l.selectedTeam!=="all"&&l.selectedTeam!==""&&T.team!==l.selectedTeam)),y=()=>{c({selectedTeam:"all",selectedProject:"all"}),i("all"),n("all")},j=l.selectedTeam!=="all"||l.selectedProject!=="all";return ye.useEffect(()=>{c(T=>oe(z({},T),{selectedTeam:s,selectedProject:t}))},[s,t]),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>h(!u),className:`inline-flex items-center px-4 py-2 border rounded-lg text-sm font-medium bg-white hover:bg-gray-50 transition-colors ${j?"border-blue-500 text-blue-700 bg-blue-50":"border-gray-300 text-gray-700"}`,children:[a.jsx(pu,{className:"mr-2 h-4 w-4"}),"Bộ lọc",j&&a.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[l.selectedTeam!=="all"?1:0,l.selectedProject!=="all"?1:0].reduce((T,O)=>T+O,0)})]}),u&&a.jsx("div",{className:"absolute top-full right-0 mt-2 w-96 bg-white border border-gray-200 rounded-lg shadow-lg z-10",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Bộ lọc dự án"}),j&&a.jsx("button",{onClick:y,className:"text-sm text-blue-600 hover:text-blue-800",children:"Xóa tất cả"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Team"}),a.jsx("select",{value:l.selectedTeam,onChange:T=>g("selectedTeam",T.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:!f||f.length===0,children:p.map(T=>a.jsx("option",{value:T.value,children:T.label},T.value))}),(!f||f.length===0)&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Không có team nào"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dự án"}),a.jsxs("select",{value:l.selectedProject,onChange:T=>g("selectedProject",T.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"Tất cả dự án"}),b.map(T=>a.jsx("option",{value:T.project_name,children:T.project_name},T.name))]})]})]}),j&&a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[a.jsx("span",{children:"Đang áp dụng:"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.selectedTeam!=="all"&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Team: ",(v=p.find(T=>T.value===l.selectedTeam))==null?void 0:v.label,a.jsx("button",{onClick:()=>g("selectedTeam","all"),className:"ml-1 text-blue-600 hover:text-blue-800",children:"×"})]}),l.selectedProject!=="all"&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Dự án: ",(_=b.find(T=>T.project_name===l.selectedProject))==null?void 0:_.project_name,a.jsx("button",{onClick:()=>g("selectedProject","all"),className:"ml-1 text-green-600 hover:text-green-800",children:"×"})]})]})]})})]})}),u&&a.jsx("div",{className:"fixed inset-0 z-5",onClick:()=>h(!1)})]})},_L=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),TL=({projects:e,tasks:t,selectedProject:s})=>{const n=s&&s!=="all",i=n?"Task":"Dự án";let l,c,u;if(n){l=t.filter(p=>p.status==="Open"||p.status==="Working"||p.status!=="Completed"&&p.status!=="Cancelled").length,c=t.filter(p=>p.status==="Completed").length;const g=new Date;u=t.filter(p=>p.exp_end_date?new Date(p.exp_end_date)<g&&p.status!=="Completed":!1).length,t.reduce((p,b)=>p+(b.expected_time||0),0)}else{l=e.filter(p=>p.status==="Đang thực hiện"||p.status!=="Hoàn thành"&&p.status!=="Hủy"&&p.percent_complete<100).length,c=e.filter(p=>p.status==="Hoàn thành"||p.percent_complete===100).length;const g=new Date;u=e.filter(p=>new Date(p.expected_end_date)<g&&p.status!=="Hoàn thành"&&p.percent_complete<100).length}const h=e.reduce((g,p)=>g+(p.estimated_costing||0),0),f=[{title:`${i} đang hoạt động`,value:l,icon:mM,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-blue-500 to-blue-600",cardBg:"bg-white",shadow:"shadow-lg shadow-blue-500/20",change:"+55%",changeText:"than last week",changeColor:"text-green-500"},{title:`${i} hoàn thành`,value:c,icon:G_,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-green-500 to-green-600",cardBg:"bg-white",shadow:"shadow-lg shadow-green-500/20",change:"+3%",changeText:"than last month",changeColor:"text-green-500"},{title:`${i} quá hạn`,value:u,icon:Hi,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-pink-500 to-pink-600",cardBg:"bg-white",shadow:"shadow-lg shadow-pink-500/20",change:"+1%",changeText:"than yesterday",changeColor:"text-green-500"},{title:"Chi phí Dự án",value:_L(h),icon:p5,iconColor:"text-white",iconBg:"bg-gradient-to-br from-yellow-200 to-yellow-600",cardBg:"bg-white",shadow:"shadow-lg shadow-yellow-500/20",change:"+91",changeText:"Just updated",changeColor:"text-gray-500"}];return a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:f.map((g,p)=>{const b=g.icon;return a.jsx("div",{className:`${g.cardBg} ${g.shadow} rounded-xl p-6 border border-gray-100 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1`,children:a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:`${g.iconBg} ${g.iconColor} p-3 rounded-2xl shadow-lg`,children:a.jsx(b,{className:"h-6 w-6"})}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:g.title}),a.jsx("p",{className:`${g.title.includes("Chi phí")?"text-2xl":"text-3xl"} font-bold text-gray-900`,children:g.value})]})]})},p)})})},bS=({title:e,children:t,className:s=""})=>a.jsxs("div",{className:`bg-white rounded-xl shadow-sm p-6 mb-6 ${s}`,children:[e&&a.jsx("div",{className:"text-xl font-semibold text-gray-800 mb-4",children:e}),t]}),SL=({projects:e,tasks:t,selectedProject:s})=>{const n=s&&s!=="all",i=ye.useMemo(()=>{const g=new Date;return g.setHours(0,0,0,0),e.map((b,y)=>({id:`milestone-${y}`,name:b.project_name,project:b.project_name,endDate:new Date(b.expected_end_date),priority:b.priority,status:b.percent_complete===100?"completed":b.percent_complete>0?"in progress":"upcoming",progress:b.percent_complete})).filter(b=>{const y=new Date(b.endDate);y.setHours(0,0,0,0);const j=Math.ceil((y.getTime()-g.getTime())/(1e3*60*60*24));return b.status!=="completed"&&j>=0&&j<=15}).sort((b,y)=>{const j=new Date;j.setHours(0,0,0,0);const v=new Date(b.endDate);v.setHours(0,0,0,0);const _=new Date(y.endDate);_.setHours(0,0,0,0);const T=Math.abs(v.getTime()-j.getTime()),O=Math.abs(_.getTime()-j.getTime()),S=T-O;if(S!==0)return S;const C={"Khẩn cấp":0,Cao:1,"Trung bình":2,Thấp:3,Urgent:0,High:1,Medium:2,Low:3};return(C[b.priority]||3)-(C[y.priority]||3)})},[e]),l=ye.useMemo(()=>{if(!n)return[];const g=new Date;return g.setHours(0,0,0,0),t.filter(p=>{if(!p.exp_end_date||p.status==="Completed")return!1;const b=new Date(p.exp_end_date);b.setHours(0,0,0,0);const y=Math.ceil((b.getTime()-g.getTime())/(1e3*60*60*24));return y>=0&&y<=2}).sort((p,b)=>{const y=new Date;y.setHours(0,0,0,0);const j=new Date(p.exp_end_date);j.setHours(0,0,0,0);const v=new Date(b.exp_end_date);v.setHours(0,0,0,0);const _=Math.abs(j.getTime()-y.getTime()),T=Math.abs(v.getTime()-y.getTime()),O=_-T;if(O!==0)return O;const S={Urgent:0,High:1,Medium:2,Low:3};return(S[p.priority]||3)-(S[b.priority]||3)})},[t,n]),c=g=>{switch(g){case"completed":return"bg-green-500";case"in progress":return"bg-blue-500";case"upcoming":return"bg-gray-300";default:return"bg-gray-300"}},u=g=>{switch(g){case"Urgent":return"bg-red-100 text-red-800";case"High":return"bg-orange-100 text-orange-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"Low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},h=g=>g.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),f=g=>{const p=new Date;p.setHours(0,0,0,0);const b=new Date(g);b.setHours(0,0,0,0);const y=Math.ceil((b.getTime()-p.getTime())/(1e3*60*60*24));return y<0?{text:`Quá hạn ${Math.abs(y)} ngày`,color:"text-red-600",urgent:!0}:y===0?{text:"Hôm nay",color:"text-red-600",urgent:!0}:y<=3?{text:`${y} ngày nữa`,color:"text-red-600",urgent:!0}:y<=7?{text:`${y} ngày nữa`,color:"text-orange-600",urgent:!0}:y<=14?{text:`${y} ngày nữa`,color:"text-yellow-600",urgent:!1}:{text:`${y} ngày nữa`,color:"text-gray-600",urgent:!1}};return a.jsx("div",{className:"grid grid-cols-1 gap-8",children:a.jsx(bS,{title:n?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Tasks"})," ","gần ",a.jsx("span",{className:"text-red-600 font-semibold",children:"đến hạn "})," (<2 ngày)"]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Dự án"})," ","sắp ",a.jsx("span",{className:"text-red-600 font-semibold",children:"đến hạn"})," (<15 ngày)"]}),children:a.jsx("div",{className:`space-y-6 ${n?l.length>=3?"h-80 overflow-y-auto":"overflow-visible":i.length>=3?"h-80 overflow-y-auto":"overflow-visible"}`,children:n?a.jsxs(a.Fragment,{children:[l.map((g,p)=>{const b=f(new Date(g.exp_end_date));return a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:g.subject}),a.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${u(g.priority)}`,children:g.priority})]}),a.jsx("div",{className:"mt-1",children:a.jsx("span",{className:`text-xs font-medium ${b.color}`,children:b.text})})]})}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[a.jsx(Vs,{className:"h-4 w-4 mr-1"}),h(new Date(g.exp_end_date))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Progress"}),a.jsxs("span",{className:"font-medium",children:[g.progress||0,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${g.status==="Completed"?"bg-green-500":g.status==="Working"?"bg-blue-500":"bg-gray-300"}`,style:{width:`${g.progress||0}%`}})})]})]},`task-${p}`)}),l.length===0&&a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(Vs,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),a.jsx("p",{children:"Không có task nào sắp đến hạn"})]})]}):a.jsxs(a.Fragment,{children:[i.map(g=>{const p=f(g.endDate);return a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:g.name}),a.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${u(g.priority)}`,children:g.priority})]}),a.jsx("div",{className:"mt-1",children:a.jsx("span",{className:`text-xs font-medium ${p.color}`,children:p.text})})]})}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[a.jsx(Vs,{className:"h-4 w-4 mr-1"}),h(g.endDate)]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Progress"}),a.jsxs("span",{className:"font-medium",children:[g.progress,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${c(g.status)}`,style:{width:`${g.progress}%`}})})]})]},g.id)}),i.length===0&&a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(Vs,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),a.jsx("p",{children:"Không có dự án nào sắp đến hạn"})]})]})})})})},kL=({projects:e,tasks:t,selectedProject:s})=>{const[n,i]=N.useState(null),[l,c]=N.useState(!0),u=j=>{i(v=>v===j?null:j)},h=s&&s!=="all",g=(()=>{if(h){const j={open:{projects:[],color:"#3b82f6",lightColor:"#60a5fa",darkColor:"#1d4ed8",label:"Open",height:30},working:{projects:[],color:"#f59e0b",lightColor:"#fbbf24",darkColor:"#d97706",label:"Working",height:25},completed:{projects:[],color:"#22c55e",lightColor:"#4ade80",darkColor:"#15803d",label:"Completed",height:20},overdue:{projects:[],color:"#ef4444",lightColor:"#f87171",darkColor:"#dc2626",label:"Overdue",height:40},cancelled:{projects:[],color:"#6b7280",lightColor:"#9ca3af",darkColor:"#4b5563",label:"Cancelled",height:35}};return t.forEach(v=>{const _=new Date;v.exp_end_date&&new Date(v.exp_end_date)<_&&v.status!=="Completed"&&v.status!=="Cancelled"?j.overdue.projects.push(v):v.status==="Completed"?j.completed.projects.push(v):v.status==="Working"?j.working.projects.push(v):v.status==="Cancelled"?j.cancelled.projects.push(v):j.open.projects.push(v)}),j}else{const j={open:{projects:[],color:"#3b82f6",lightColor:"#60a5fa",darkColor:"#1d4ed8",label:"Đang mở",height:30},completed:{projects:[],color:"#22c55e",lightColor:"#4ade80",darkColor:"#15803d",label:"Hoàn thành",height:20},cancelled:{projects:[],color:"#ef4444",lightColor:"#f87171",darkColor:"#dc2626",label:"Đã hủy",height:40}};return e.forEach(v=>{v.status==="Completed"||v.status==="Hoàn thành"?j.completed.projects.push(v):v.status==="Cancelled"||v.status==="Canceled"||v.status==="Hủy"?j.cancelled.projects.push(v):j.open.projects.push(v)}),j}})(),p=h?t.length:e.length,b=j=>{const v={Urgent:4,High:3,Medium:2,Low:1};return j.sort((_,T)=>{const O=v[_.priority]||0;return(v[T.priority]||0)-O})};Object.values(g).forEach(j=>{j.projects=b(j.projects)});const y=()=>{const[j,v]=ye.useState({visible:!1,x:0,y:0,categoryKey:""}),_=360,T=_/2,O=_/2,S=170;let C=0;const D=Object.entries(g).filter(([,R])=>R.projects.length>0),E=(R,K)=>{const W=K.clientX,Q=K.clientY;v({visible:!0,x:W+15,y:Q-10,categoryKey:R})},L=(R,K)=>{if(j.visible&&j.categoryKey===R){const W=K.clientX,Q=K.clientY;v(H=>oe(z({},H),{x:W+15,y:Q-10}))}},F=()=>{v({visible:!1,x:0,y:0,categoryKey:""})};return a.jsxs("div",{className:"relative flex flex-col items-center",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-6 text-center max-w-xs",children:h?"Biểu đồ phân bố Tasks theo trạng thái":"Biểu đồ phân bố dự án theo trạng thái"}),a.jsx("div",{className:"relative",style:{width:_,height:_},children:a.jsxs("svg",{width:_,height:_,className:"absolute top-0 left-0",children:[a.jsx("defs",{children:a.jsx("filter",{id:"dropshadow2d",x:"-20%",y:"-20%",width:"140%",height:"140%",children:a.jsx("feDropShadow",{dx:"2",dy:"4",stdDeviation:"4",floodOpacity:"0.2"})})}),(C=0,D.map(([R,K])=>{const W=K.projects.length/p*100,Q=C,H=C+W/100*360;C=H;const q=Q*Math.PI/180,Y=H*Math.PI/180,$=(Q+H)/2*Math.PI/180,J=T+S*Math.cos(q),se=O+S*Math.sin(q),Ne=T+S*Math.cos(Y),P=O+S*Math.sin(Y),ne=H-Q>180?1:0,ge=D.length===1;let G;ge?G=`M ${T} ${O+S} A ${S} ${S} 0 1 1 ${T} ${O-S} A ${S} ${S} 0 1 1 ${T} ${O+S} Z`:G=[`M ${T} ${O}`,`L ${J} ${se}`,`A ${S} ${S} 0 ${ne} 1 ${Ne} ${P}`,"Z"].join(" ");const re=S*.7,_e=ge?T:T+re*Math.cos($),me=ge?O:O+re*Math.sin($);return a.jsxs("g",{children:[a.jsx("path",{d:G,fill:K.color,stroke:"white",strokeWidth:"2",filter:"url(#dropshadow2d)",className:"hover:opacity-80 transition-opacity cursor-pointer",onMouseEnter:Le=>E(R,Le),onMouseMove:Le=>L(R,Le),onMouseLeave:F}),W>5&&a.jsxs("text",{x:_e,y:me,textAnchor:"middle",dominantBaseline:"middle",className:"text-xs font-bold fill-white pointer-events-none",style:{textShadow:"1px 1px 2px rgba(0,0,0,0.5)"},children:[Math.round(W),"%"]})]},`segment-${R}`)}))]})}),j.visible&&j.categoryKey&&g[j.categoryKey]&&a.jsxs("div",{className:"fixed z-50 bg-white border border-gray-200 rounded-lg shadow-lg p-4 max-w-xs pointer-events-none",style:{left:j.x,top:j.y,transform:"translate(-50%, -100%)"},children:[a.jsxs("div",{className:"font-semibold text-gray-800 mb-2 flex items-center",children:[a.jsx("div",{className:"w-3 h-3 rounded mr-2",style:{backgroundColor:g[j.categoryKey].color}}),g[j.categoryKey].label," (",g[j.categoryKey].projects.length,")"]}),a.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:g[j.categoryKey].projects.map((R,K)=>a.jsxs("div",{className:"text-xs border-b border-gray-100 pb-1 last:border-b-0",children:[a.jsx("div",{className:"font-medium text-gray-700",children:h?R.subject:R.project_name}),a.jsxs("div",{className:"text-gray-500 flex justify-between",children:[a.jsx("span",{children:h?`${R.progress||0}% hoàn thành`:`${R.percent_complete}% hoàn thành`}),a.jsxs("span",{className:"font-medium",children:["Priority: ",R.priority]})]})]},K))})]})]})};return a.jsx(bS,{title:a.jsx("div",{className:"flex items-center justify-between w-full cursor-pointer hover:bg-gray-50 -m-2 p-2 rounded-md transition-colors",onClick:()=>c(!l),children:a.jsx("div",{className:"flex items-center",children:a.jsx("span",{children:h?a.jsxs(a.Fragment,{children:["Tổng quan ",a.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Tasks"})]}):a.jsxs(a.Fragment,{children:["Tổng quan ",a.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"dự án"})]})})})}),children:l&&a.jsx("div",{children:p===0?a.jsx("div",{className:"flex flex-col items-center justify-center py-16",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-8xl text-gray-300 mb-6",children:"📊"}),a.jsx("p",{className:"text-xl font-medium text-gray-600 mb-3",children:h?"Không có task nào":"Không có dự án nào"}),a.jsx("p",{className:"text-base text-gray-500 max-w-md",children:h?"Không có task nào đang thực hiện trong dự án này":"Không có dự án nào đang thực hiện"})]})}):a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsx("div",{className:"flex flex-col items-center",children:a.jsx(y,{})}),a.jsx("div",{className:"space-y-4",children:Object.entries(g).map(([j,v])=>v.projects.length>0&&a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:()=>u(j),className:"w-full px-4 py-3 bg-gray-50 hover:bg-gray-100 transition-colors flex items-center justify-between border-l-4",style:{borderLeftColor:v.color},children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-3 h-3 rounded-full mr-3",style:{backgroundColor:v.color}}),a.jsxs("h4",{className:"font-semibold text-gray-800",children:[v.label," (",v.projects.length,")"]})]}),a.jsx("div",{className:"flex items-center",children:a.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform duration-200 ${n===j?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),a.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${n===j?"max-h-96":"max-h-0"}`,children:a.jsx("div",{className:"p-4 space-y-2 max-h-80 overflow-y-auto",children:v.projects.map(_=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md hover:bg-gray-100 transition-colors",children:[a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:h?_.subject:_.project_name}),a.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ml-2 flex-shrink-0 ${_.priority==="Urgent"?"bg-red-100 text-red-800":_.priority==="High"?"bg-orange-100 text-orange-800":_.priority==="Medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:_.priority})]})}),a.jsx("div",{className:"flex flex-col items-end ml-3",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-12 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(h?_.progress||0:_.percent_complete||0,100)}%`,backgroundColor:(()=>{const T=h?_.progress||0:_.percent_complete||0;return T>=100?"#22c55e":T>=70?"#3b82f6":T>=30?"#f59e0b":"#ef4444"})()}})}),a.jsxs("span",{className:"text-xs font-semibold text-gray-600 min-w-[35px] text-right",children:[h?_.progress||0:_.percent_complete||0,"%"]})]})})]},_.name))})})]},j))})]})})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function wu(e){return e+.5|0}const Ri=(e,t,s)=>Math.max(Math.min(e,s),t);function Ud(e){return Ri(wu(e*2.55),0,255)}function Bi(e){return Ri(wu(e*255),0,255)}function Wr(e){return Ri(wu(e/2.55)/100,0,1)}function tN(e){return Ri(wu(e*100),0,100)}const xa={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ox=[..."0123456789ABCDEF"],CL=e=>ox[e&15],EL=e=>ox[(e&240)>>4]+ox[e&15],Zh=e=>(e&240)>>4===(e&15),DL=e=>Zh(e.r)&&Zh(e.g)&&Zh(e.b)&&Zh(e.a);function AL(e){var t=e.length,s;return e[0]==="#"&&(t===4||t===5?s={r:255&xa[e[1]]*17,g:255&xa[e[2]]*17,b:255&xa[e[3]]*17,a:t===5?xa[e[4]]*17:255}:(t===7||t===9)&&(s={r:xa[e[1]]<<4|xa[e[2]],g:xa[e[3]]<<4|xa[e[4]],b:xa[e[5]]<<4|xa[e[6]],a:t===9?xa[e[7]]<<4|xa[e[8]]:255})),s}const OL=(e,t)=>e<255?t(e):"";function ML(e){var t=DL(e)?CL:EL;return e?"#"+t(e.r)+t(e.g)+t(e.b)+OL(e.a,t):void 0}const RL=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function vS(e,t,s){const n=t*Math.min(s,1-s),i=(l,c=(l+e/30)%12)=>s-n*Math.max(Math.min(c-3,9-c,1),-1);return[i(0),i(8),i(4)]}function PL(e,t,s){const n=(i,l=(i+e/60)%6)=>s-s*t*Math.max(Math.min(l,4-l,1),0);return[n(5),n(3),n(1)]}function LL(e,t,s){const n=vS(e,1,.5);let i;for(t+s>1&&(i=1/(t+s),t*=i,s*=i),i=0;i<3;i++)n[i]*=1-t-s,n[i]+=t;return n}function BL(e,t,s,n,i){return e===i?(t-s)/n+(t<s?6:0):t===i?(s-e)/n+2:(e-t)/n+4}function xy(e){const s=e.r/255,n=e.g/255,i=e.b/255,l=Math.max(s,n,i),c=Math.min(s,n,i),u=(l+c)/2;let h,f,g;return l!==c&&(g=l-c,f=u>.5?g/(2-l-c):g/(l+c),h=BL(s,n,i,g,l),h=h*60+.5),[h|0,f||0,u]}function yy(e,t,s,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,s,n)).map(Bi)}function by(e,t,s){return yy(vS,e,t,s)}function FL(e,t,s){return yy(LL,e,t,s)}function zL(e,t,s){return yy(PL,e,t,s)}function wS(e){return(e%360+360)%360}function UL(e){const t=RL.exec(e);let s=255,n;if(!t)return;t[5]!==n&&(s=t[6]?Ud(+t[5]):Bi(+t[5]));const i=wS(+t[2]),l=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?n=FL(i,l,c):t[1]==="hsv"?n=zL(i,l,c):n=by(i,l,c),{r:n[0],g:n[1],b:n[2],a:s}}function HL(e,t){var s=xy(e);s[0]=wS(s[0]+t),s=by(s),e.r=s[0],e.g=s[1],e.b=s[2]}function $L(e){if(!e)return;const t=xy(e),s=t[0],n=tN(t[1]),i=tN(t[2]);return e.a<255?`hsla(${s}, ${n}%, ${i}%, ${Wr(e.a)})`:`hsl(${s}, ${n}%, ${i}%)`}const sN={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},nN={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function VL(){const e={},t=Object.keys(nN),s=Object.keys(sN);let n,i,l,c,u;for(n=0;n<t.length;n++){for(c=u=t[n],i=0;i<s.length;i++)l=s[i],u=u.replace(l,sN[l]);l=parseInt(nN[c],16),e[u]=[l>>16&255,l>>8&255,l&255]}return e}let Jh;function IL(e){Jh||(Jh=VL(),Jh.transparent=[0,0,0,0]);const t=Jh[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const qL=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function WL(e){const t=qL.exec(e);let s=255,n,i,l;if(t){if(t[7]!==n){const c=+t[7];s=t[8]?Ud(c):Ri(c*255,0,255)}return n=+t[1],i=+t[3],l=+t[5],n=255&(t[2]?Ud(n):Ri(n,0,255)),i=255&(t[4]?Ud(i):Ri(i,0,255)),l=255&(t[6]?Ud(l):Ri(l,0,255)),{r:n,g:i,b:l,a:s}}}function YL(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Wr(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const d0=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Hl=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function GL(e,t,s){const n=Hl(Wr(e.r)),i=Hl(Wr(e.g)),l=Hl(Wr(e.b));return{r:Bi(d0(n+s*(Hl(Wr(t.r))-n))),g:Bi(d0(i+s*(Hl(Wr(t.g))-i))),b:Bi(d0(l+s*(Hl(Wr(t.b))-l))),a:e.a+s*(t.a-e.a)}}function ef(e,t,s){if(e){let n=xy(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*s,t===0?360:1)),n=by(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function jS(e,t){return e&&Object.assign(t||{},e)}function aN(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Bi(e[3]))):(t=jS(e,{r:0,g:0,b:0,a:1}),t.a=Bi(t.a)),t}function XL(e){return e.charAt(0)==="r"?WL(e):UL(e)}class ru{constructor(t){if(t instanceof ru)return t;const s=typeof t;let n;s==="object"?n=aN(t):s==="string"&&(n=AL(t)||IL(t)||XL(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=jS(this._rgb);return t&&(t.a=Wr(t.a)),t}set rgb(t){this._rgb=aN(t)}rgbString(){return this._valid?YL(this._rgb):void 0}hexString(){return this._valid?ML(this._rgb):void 0}hslString(){return this._valid?$L(this._rgb):void 0}mix(t,s){if(t){const n=this.rgb,i=t.rgb;let l;const c=s===l?.5:s,u=2*c-1,h=n.a-i.a,f=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;l=1-f,n.r=255&f*n.r+l*i.r+.5,n.g=255&f*n.g+l*i.g+.5,n.b=255&f*n.b+l*i.b+.5,n.a=c*n.a+(1-c)*i.a,this.rgb=n}return this}interpolate(t,s){return t&&(this._rgb=GL(this._rgb,t._rgb,s)),this}clone(){return new ru(this.rgb)}alpha(t){return this._rgb.a=Bi(t),this}clearer(t){const s=this._rgb;return s.a*=1-t,this}greyscale(){const t=this._rgb,s=wu(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=s,this}opaquer(t){const s=this._rgb;return s.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return ef(this._rgb,2,t),this}darken(t){return ef(this._rgb,2,-t),this}saturate(t){return ef(this._rgb,1,t),this}desaturate(t){return ef(this._rgb,1,-t),this}rotate(t){return HL(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Hr(){}const KL=(()=>{let e=0;return()=>e++})();function Ns(e){return e==null}function an(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Xt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Ta(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function tr(e,t){return Ta(e)?e:t}function ns(e,t){return typeof e=="undefined"?t:e}const QL=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function xs(e,t,s){if(e&&typeof e.call=="function")return e.apply(s,t)}function ss(e,t,s,n){let i,l,c;if(an(e))for(l=e.length,i=0;i<l;i++)t.call(s,e[i],i);else if(Xt(e))for(c=Object.keys(e),l=c.length,i=0;i<l;i++)t.call(s,e[c[i]],c[i])}function Hf(e,t){let s,n,i,l;if(!e||!t||e.length!==t.length)return!1;for(s=0,n=e.length;s<n;++s)if(i=e[s],l=t[s],i.datasetIndex!==l.datasetIndex||i.index!==l.index)return!1;return!0}function $f(e){if(an(e))return e.map($f);if(Xt(e)){const t=Object.create(null),s=Object.keys(e),n=s.length;let i=0;for(;i<n;++i)t[s[i]]=$f(e[s[i]]);return t}return e}function NS(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function ZL(e,t,s,n){if(!NS(e))return;const i=t[e],l=s[e];Xt(i)&&Xt(l)?iu(i,l,n):t[e]=$f(l)}function iu(e,t,s){const n=an(t)?t:[t],i=n.length;if(!Xt(e))return e;s=s||{};const l=s.merger||ZL;let c;for(let u=0;u<i;++u){if(c=n[u],!Xt(c))continue;const h=Object.keys(c);for(let f=0,g=h.length;f<g;++f)l(h[f],e,c,s)}return e}function Id(e,t){return iu(e,t,{merger:JL})}function JL(e,t,s){if(!NS(e))return;const n=t[e],i=s[e];Xt(n)&&Xt(i)?Id(n,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=$f(i))}const rN={"":e=>e,x:e=>e.x,y:e=>e.y};function eB(e){const t=e.split("."),s=[];let n="";for(const i of t)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}function tB(e){const t=eB(e);return s=>{for(const n of t){if(n==="")break;s=s&&s[n]}return s}}function Vf(e,t){return(rN[t]||(rN[t]=tB(t)))(e)}function vy(e){return e.charAt(0).toUpperCase()+e.slice(1)}const If=e=>typeof e!="undefined",Gi=e=>typeof e=="function",iN=(e,t)=>{if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0};function sB(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const ys=Math.PI,Dn=2*ys,qf=Number.POSITIVE_INFINITY,nB=ys/180,un=ys/2,Eo=ys/4,oN=ys*2/3,_S=Math.log10,Wf=Math.sign;function Cf(e,t,s){return Math.abs(e-t)<s}function lN(e){const t=Math.round(e);e=Cf(e,t,e/1e3)?t:e;const s=Math.pow(10,Math.floor(_S(e))),n=e/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function aB(e){const t=[],s=Math.sqrt(e);let n;for(n=1;n<s;n++)e%n===0&&(t.push(n),t.push(e/n));return s===(s|0)&&t.push(s),t.sort((i,l)=>i-l).pop(),t}function rB(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Yf(e){return!rB(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function iB(e,t){const s=Math.round(e);return s-t<=e&&s+t>=e}function oB(e,t,s){let n,i,l;for(n=0,i=e.length;n<i;n++)l=e[n][s],isNaN(l)||(t.min=Math.min(t.min,l),t.max=Math.max(t.max,l))}function zo(e){return e*(ys/180)}function lB(e){return e*(180/ys)}function cN(e){if(!Ta(e))return;let t=1,s=0;for(;Math.round(e*t)/t!==e;)t*=10,s++;return s}function TS(e,t){const s=t.x-e.x,n=t.y-e.y,i=Math.sqrt(s*s+n*n);let l=Math.atan2(n,s);return l<-.5*ys&&(l+=Dn),{angle:l,distance:i}}function cB(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function ar(e){return(e%Dn+Dn)%Dn}function SS(e,t,s,n){const i=ar(e),l=ar(t),c=ar(s),u=ar(l-i),h=ar(c-i),f=ar(i-l),g=ar(i-c);return i===l||i===c||n&&l===c||u>h&&f<g}function In(e,t,s){return Math.max(t,Math.min(s,e))}function dB(e){return In(e,-32768,32767)}function Uo(e,t,s,n=1e-6){return e>=Math.min(t,s)-n&&e<=Math.max(t,s)+n}function wy(e,t,s){s=s||(c=>e[c]<t);let n=e.length-1,i=0,l;for(;n-i>1;)l=i+n>>1,s(l)?i=l:n=l;return{lo:i,hi:n}}const lx=(e,t,s,n)=>wy(e,s,n?i=>{const l=e[i][t];return l<s||l===s&&e[i+1][t]===s}:i=>e[i][t]<s),uB=(e,t,s)=>wy(e,s,n=>e[n][t]>=s);function hB(e,t,s){let n=0,i=e.length;for(;n<i&&e[n]<t;)n++;for(;i>n&&e[i-1]>s;)i--;return n>0||i<e.length?e.slice(n,i):e}const kS=["push","pop","shift","splice","unshift"];function fB(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),kS.forEach(s=>{const n="_onData"+vy(s),i=e[s];Object.defineProperty(e,s,{configurable:!0,enumerable:!1,value(...l){const c=i.apply(this,l);return e._chartjs.listeners.forEach(u=>{typeof u[n]=="function"&&u[n](...l)}),c}})})}function dN(e,t){const s=e._chartjs;if(!s)return;const n=s.listeners,i=n.indexOf(t);i!==-1&&n.splice(i,1),!(n.length>0)&&(kS.forEach(l=>{delete e[l]}),delete e._chartjs)}function mB(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const CS=function(){return typeof window=="undefined"?function(e){return e()}:window.requestAnimationFrame}();function ES(e,t){let s=[],n=!1;return function(...i){s=i,n||(n=!0,CS.call(window,()=>{n=!1,e.apply(t,s)}))}}function gB(e,t){let s;return function(...n){return t?(clearTimeout(s),s=setTimeout(e,t,n)):e.apply(this,n),t}}const jy=e=>e==="start"?"left":e==="end"?"right":"center",jn=(e,t,s)=>e==="start"?t:e==="end"?s:(t+s)/2,pB=(e,t,s,n)=>e===(n?"left":"right")?s:e==="center"?(t+s)/2:t,tf=e=>e===0||e===1,uN=(e,t,s)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Dn/s)),hN=(e,t,s)=>Math.pow(2,-10*e)*Math.sin((e-t)*Dn/s)+1,qd={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*un)+1,easeOutSine:e=>Math.sin(e*un),easeInOutSine:e=>-.5*(Math.cos(ys*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>tf(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>tf(e)?e:uN(e,.075,.3),easeOutElastic:e=>tf(e)?e:hN(e,.075,.3),easeInOutElastic(e){return tf(e)?e:e<.5?.5*uN(e*2,.1125,.45):.5+.5*hN(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-qd.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?qd.easeInBounce(e*2)*.5:qd.easeOutBounce(e*2-1)*.5+.5};function DS(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function fN(e){return DS(e)?e:new ru(e)}function u0(e){return DS(e)?e:new ru(e).saturate(.5).darken(.1).hexString()}const xB=["x","y","borderWidth","radius","tension"],yB=["color","borderColor","backgroundColor"];function bB(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:yB},numbers:{type:"number",properties:xB}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function vB(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const mN=new Map;function wB(e,t){t=t||{};const s=e+JSON.stringify(t);let n=mN.get(s);return n||(n=new Intl.NumberFormat(e,t),mN.set(s,n)),n}function AS(e,t,s){return wB(t,s).format(e)}const jB={values(e){return an(e)?e:""+e},numeric(e,t,s){if(e===0)return"0";const n=this.chart.options.locale;let i,l=e;if(s.length>1){const f=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(f<1e-4||f>1e15)&&(i="scientific"),l=NB(e,s)}const c=_S(Math.abs(l)),u=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),h={notation:i,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(h,this.options.ticks.format),AS(e,n,h)}};function NB(e,t){let s=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(s)>=1&&e!==Math.floor(e)&&(s=e-Math.floor(e)),s}var OS={formatters:jB};function _B(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,s)=>s.lineWidth,tickColor:(t,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:OS.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const qo=Object.create(null),cx=Object.create(null);function Wd(e,t){if(!t)return e;const s=t.split(".");for(let n=0,i=s.length;n<i;++n){const l=s[n];e=e[l]||(e[l]=Object.create(null))}return e}function h0(e,t,s){return typeof t=="string"?iu(Wd(e,t),s):iu(Wd(e,""),t)}class TB{constructor(t,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>u0(i.backgroundColor),this.hoverBorderColor=(n,i)=>u0(i.borderColor),this.hoverColor=(n,i)=>u0(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(s)}set(t,s){return h0(this,t,s)}get(t){return Wd(this,t)}describe(t,s){return h0(cx,t,s)}override(t,s){return h0(qo,t,s)}route(t,s,n,i){const l=Wd(this,t),c=Wd(this,n),u="_"+s;Object.defineProperties(l,{[u]:{value:l[s],writable:!0},[s]:{enumerable:!0,get(){const h=this[u],f=c[i];return Xt(h)?Object.assign({},f,h):ns(h,f)},set(h){this[u]=h}}})}apply(t){t.forEach(s=>s(this))}}var Ls=new TB({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[bB,vB,_B]);function SB(e){return!e||Ns(e.size)||Ns(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function gN(e,t,s,n,i){let l=t[i];return l||(l=t[i]=e.measureText(i).width,s.push(i)),l>n&&(n=l),n}function Do(e,t,s){const n=e.currentDevicePixelRatio,i=s!==0?Math.max(s/2,.5):0;return Math.round((t-i)*n)/n+i}function pN(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function xN(e,t,s,n){MS(e,t,s,n,null)}function MS(e,t,s,n,i){let l,c,u,h,f,g,p,b;const y=t.pointStyle,j=t.rotation,v=t.radius;let _=(j||0)*nB;if(y&&typeof y=="object"&&(l=y.toString(),l==="[object HTMLImageElement]"||l==="[object HTMLCanvasElement]")){e.save(),e.translate(s,n),e.rotate(_),e.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),e.restore();return}if(!(isNaN(v)||v<=0)){switch(e.beginPath(),y){default:i?e.ellipse(s,n,i/2,v,0,0,Dn):e.arc(s,n,v,0,Dn),e.closePath();break;case"triangle":g=i?i/2:v,e.moveTo(s+Math.sin(_)*g,n-Math.cos(_)*v),_+=oN,e.lineTo(s+Math.sin(_)*g,n-Math.cos(_)*v),_+=oN,e.lineTo(s+Math.sin(_)*g,n-Math.cos(_)*v),e.closePath();break;case"rectRounded":f=v*.516,h=v-f,c=Math.cos(_+Eo)*h,p=Math.cos(_+Eo)*(i?i/2-f:h),u=Math.sin(_+Eo)*h,b=Math.sin(_+Eo)*(i?i/2-f:h),e.arc(s-p,n-u,f,_-ys,_-un),e.arc(s+b,n-c,f,_-un,_),e.arc(s+p,n+u,f,_,_+un),e.arc(s-b,n+c,f,_+un,_+ys),e.closePath();break;case"rect":if(!j){h=Math.SQRT1_2*v,g=i?i/2:h,e.rect(s-g,n-h,2*g,2*h);break}_+=Eo;case"rectRot":p=Math.cos(_)*(i?i/2:v),c=Math.cos(_)*v,u=Math.sin(_)*v,b=Math.sin(_)*(i?i/2:v),e.moveTo(s-p,n-u),e.lineTo(s+b,n-c),e.lineTo(s+p,n+u),e.lineTo(s-b,n+c),e.closePath();break;case"crossRot":_+=Eo;case"cross":p=Math.cos(_)*(i?i/2:v),c=Math.cos(_)*v,u=Math.sin(_)*v,b=Math.sin(_)*(i?i/2:v),e.moveTo(s-p,n-u),e.lineTo(s+p,n+u),e.moveTo(s+b,n-c),e.lineTo(s-b,n+c);break;case"star":p=Math.cos(_)*(i?i/2:v),c=Math.cos(_)*v,u=Math.sin(_)*v,b=Math.sin(_)*(i?i/2:v),e.moveTo(s-p,n-u),e.lineTo(s+p,n+u),e.moveTo(s+b,n-c),e.lineTo(s-b,n+c),_+=Eo,p=Math.cos(_)*(i?i/2:v),c=Math.cos(_)*v,u=Math.sin(_)*v,b=Math.sin(_)*(i?i/2:v),e.moveTo(s-p,n-u),e.lineTo(s+p,n+u),e.moveTo(s+b,n-c),e.lineTo(s-b,n+c);break;case"line":c=i?i/2:Math.cos(_)*v,u=Math.sin(_)*v,e.moveTo(s-c,n-u),e.lineTo(s+c,n+u);break;case"dash":e.moveTo(s,n),e.lineTo(s+Math.cos(_)*(i?i/2:v),n+Math.sin(_)*v);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function RS(e,t,s){return s=s||.5,!t||e&&e.x>t.left-s&&e.x<t.right+s&&e.y>t.top-s&&e.y<t.bottom+s}function Ny(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function _y(e){e.restore()}function kB(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Ns(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function CB(e,t,s,n,i){if(i.strikethrough||i.underline){const l=e.measureText(n),c=t-l.actualBoundingBoxLeft,u=t+l.actualBoundingBoxRight,h=s-l.actualBoundingBoxAscent,f=s+l.actualBoundingBoxDescent,g=i.strikethrough?(h+f)/2:f;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(c,g),e.lineTo(u,g),e.stroke()}}function EB(e,t){const s=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=s}function ou(e,t,s,n,i,l={}){const c=an(t)?t:[t],u=l.strokeWidth>0&&l.strokeColor!=="";let h,f;for(e.save(),e.font=i.string,kB(e,l),h=0;h<c.length;++h)f=c[h],l.backdrop&&EB(e,l.backdrop),u&&(l.strokeColor&&(e.strokeStyle=l.strokeColor),Ns(l.strokeWidth)||(e.lineWidth=l.strokeWidth),e.strokeText(f,s,n,l.maxWidth)),e.fillText(f,s,n,l.maxWidth),CB(e,s,n,f,l),n+=Number(i.lineHeight);e.restore()}function Gf(e,t){const{x:s,y:n,w:i,h:l,radius:c}=t;e.arc(s+c.topLeft,n+c.topLeft,c.topLeft,1.5*ys,ys,!0),e.lineTo(s,n+l-c.bottomLeft),e.arc(s+c.bottomLeft,n+l-c.bottomLeft,c.bottomLeft,ys,un,!0),e.lineTo(s+i-c.bottomRight,n+l),e.arc(s+i-c.bottomRight,n+l-c.bottomRight,c.bottomRight,un,0,!0),e.lineTo(s+i,n+c.topRight),e.arc(s+i-c.topRight,n+c.topRight,c.topRight,0,-un,!0),e.lineTo(s+c.topLeft,n)}const DB=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,AB=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function OB(e,t){const s=(""+e).match(DB);if(!s||s[1]==="normal")return t*1.2;switch(e=+s[2],s[3]){case"px":return e;case"%":e/=100;break}return t*e}const MB=e=>+e||0;function Ty(e,t){const s={},n=Xt(t),i=n?Object.keys(t):t,l=Xt(e)?n?c=>ns(e[c],e[t[c]]):c=>e[c]:()=>e;for(const c of i)s[c]=MB(l(c));return s}function PS(e){return Ty(e,{top:"y",right:"x",bottom:"y",left:"x"})}function sc(e){return Ty(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Sa(e){const t=PS(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function _n(e,t){e=e||{},t=t||Ls.font;let s=ns(e.size,t.size);typeof s=="string"&&(s=parseInt(s,10));let n=ns(e.style,t.style);n&&!(""+n).match(AB)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:ns(e.family,t.family),lineHeight:OB(ns(e.lineHeight,t.lineHeight),s),size:s,style:n,weight:ns(e.weight,t.weight),string:""};return i.string=SB(i),i}function sf(e,t,s,n){let i,l,c;for(i=0,l=e.length;i<l;++i)if(c=e[i],c!==void 0&&c!==void 0)return c}function RB(e,t,s){const{min:n,max:i}=e,l=QL(t,(i-n)/2),c=(u,h)=>s&&u===0?0:u+h;return{min:c(n,-Math.abs(l)),max:c(i,l)}}function jc(e,t){return Object.assign(Object.create(e),t)}function Sy(e,t=[""],s,n,i=()=>e[0]){const l=s||e;typeof n=="undefined"&&(n=zS("_fallback",e));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:l,_fallback:n,_getTarget:i,override:u=>Sy([u,...e],t,l,n)};return new Proxy(c,{deleteProperty(u,h){return delete u[h],delete u._keys,delete e[0][h],!0},get(u,h){return BS(u,h,()=>$B(h,t,e,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(u,h){return bN(u).includes(h)},ownKeys(u){return bN(u)},set(u,h,f){const g=u._storage||(u._storage=i());return u[h]=g[h]=f,delete u._keys,!0}})}function uc(e,t,s,n){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:s,_stack:new Set,_descriptors:LS(e,n),setContext:l=>uc(e,l,s,n),override:l=>uc(e.override(l),t,s,n)};return new Proxy(i,{deleteProperty(l,c){return delete l[c],delete e[c],!0},get(l,c,u){return BS(l,c,()=>LB(l,c,u))},getOwnPropertyDescriptor(l,c){return l._descriptors.allKeys?Reflect.has(e,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,c)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(l,c){return Reflect.has(e,c)},ownKeys(){return Reflect.ownKeys(e)},set(l,c,u){return e[c]=u,delete l[c],!0}})}function LS(e,t={scriptable:!0,indexable:!0}){const{_scriptable:s=t.scriptable,_indexable:n=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:s,indexable:n,isScriptable:Gi(s)?s:()=>s,isIndexable:Gi(n)?n:()=>n}}const PB=(e,t)=>e?e+vy(t):t,ky=(e,t)=>Xt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function BS(e,t,s){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const n=s();return e[t]=n,n}function LB(e,t,s){const{_proxy:n,_context:i,_subProxy:l,_descriptors:c}=e;let u=n[t];return Gi(u)&&c.isScriptable(t)&&(u=BB(t,u,e,s)),an(u)&&u.length&&(u=FB(t,u,e,c.isIndexable)),ky(t,u)&&(u=uc(u,i,l&&l[t],c)),u}function BB(e,t,s,n){const{_proxy:i,_context:l,_subProxy:c,_stack:u}=s;if(u.has(e))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+e);u.add(e);let h=t(l,c||n);return u.delete(e),ky(e,h)&&(h=Cy(i._scopes,i,e,h)),h}function FB(e,t,s,n){const{_proxy:i,_context:l,_subProxy:c,_descriptors:u}=s;if(typeof l.index!="undefined"&&n(e))return t[l.index%t.length];if(Xt(t[0])){const h=t,f=i._scopes.filter(g=>g!==h);t=[];for(const g of h){const p=Cy(f,i,e,g);t.push(uc(p,l,c&&c[e],u))}}return t}function FS(e,t,s){return Gi(e)?e(t,s):e}const zB=(e,t)=>e===!0?t:typeof e=="string"?Vf(t,e):void 0;function UB(e,t,s,n,i){for(const l of t){const c=zB(s,l);if(c){e.add(c);const u=FS(c._fallback,s,i);if(typeof u!="undefined"&&u!==s&&u!==n)return u}else if(c===!1&&typeof n!="undefined"&&s!==n)return null}return!1}function Cy(e,t,s,n){const i=t._rootScopes,l=FS(t._fallback,s,n),c=[...e,...i],u=new Set;u.add(n);let h=yN(u,c,s,l||s,n);return h===null||typeof l!="undefined"&&l!==s&&(h=yN(u,c,l,h,n),h===null)?!1:Sy(Array.from(u),[""],i,l,()=>HB(t,s,n))}function yN(e,t,s,n,i){for(;s;)s=UB(e,t,s,n,i);return s}function HB(e,t,s){const n=e._getTarget();t in n||(n[t]={});const i=n[t];return an(i)&&Xt(s)?s:i||{}}function $B(e,t,s,n){let i;for(const l of t)if(i=zS(PB(l,e),s),typeof i!="undefined")return ky(e,i)?Cy(s,n,e,i):i}function zS(e,t){for(const s of t){if(!s)continue;const n=s[e];if(typeof n!="undefined")return n}}function bN(e){let t=e._keys;return t||(t=e._keys=VB(e._scopes)),t}function VB(e){const t=new Set;for(const s of e)for(const n of Object.keys(s).filter(i=>!i.startsWith("_")))t.add(n);return Array.from(t)}function Ey(){return typeof window!="undefined"&&typeof document!="undefined"}function Dy(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Xf(e,t,s){let n;return typeof e=="string"?(n=parseInt(e,10),e.indexOf("%")!==-1&&(n=n/100*t.parentNode[s])):n=e,n}const Nm=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function IB(e,t){return Nm(e).getPropertyValue(t)}const qB=["top","right","bottom","left"];function $o(e,t,s){const n={};s=s?"-"+s:"";for(let i=0;i<4;i++){const l=qB[i];n[l]=parseFloat(e[t+"-"+l+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const WB=(e,t,s)=>(e>0||t>0)&&(!s||!s.shadowRoot);function YB(e,t){const s=e.touches,n=s&&s.length?s[0]:e,{offsetX:i,offsetY:l}=n;let c=!1,u,h;if(WB(i,l,e.target))u=i,h=l;else{const f=t.getBoundingClientRect();u=n.clientX-f.left,h=n.clientY-f.top,c=!0}return{x:u,y:h,box:c}}function Oo(e,t){if("native"in e)return e;const{canvas:s,currentDevicePixelRatio:n}=t,i=Nm(s),l=i.boxSizing==="border-box",c=$o(i,"padding"),u=$o(i,"border","width"),{x:h,y:f,box:g}=YB(e,s),p=c.left+(g&&u.left),b=c.top+(g&&u.top);let{width:y,height:j}=t;return l&&(y-=c.width+u.width,j-=c.height+u.height),{x:Math.round((h-p)/y*s.width/n),y:Math.round((f-b)/j*s.height/n)}}function GB(e,t,s){let n,i;if(t===void 0||s===void 0){const l=e&&Dy(e);if(!l)t=e.clientWidth,s=e.clientHeight;else{const c=l.getBoundingClientRect(),u=Nm(l),h=$o(u,"border","width"),f=$o(u,"padding");t=c.width-f.width-h.width,s=c.height-f.height-h.height,n=Xf(u.maxWidth,l,"clientWidth"),i=Xf(u.maxHeight,l,"clientHeight")}}return{width:t,height:s,maxWidth:n||qf,maxHeight:i||qf}}const nf=e=>Math.round(e*10)/10;function XB(e,t,s,n){const i=Nm(e),l=$o(i,"margin"),c=Xf(i.maxWidth,e,"clientWidth")||qf,u=Xf(i.maxHeight,e,"clientHeight")||qf,h=GB(e,t,s);let{width:f,height:g}=h;if(i.boxSizing==="content-box"){const b=$o(i,"border","width"),y=$o(i,"padding");f-=y.width+b.width,g-=y.height+b.height}return f=Math.max(0,f-l.width),g=Math.max(0,n?f/n:g-l.height),f=nf(Math.min(f,c,h.maxWidth)),g=nf(Math.min(g,u,h.maxHeight)),f&&!g&&(g=nf(f/2)),(t!==void 0||s!==void 0)&&n&&h.height&&g>h.height&&(g=h.height,f=nf(Math.floor(g*n))),{width:f,height:g}}function vN(e,t,s){const n=t||1,i=Math.floor(e.height*n),l=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const c=e.canvas;return c.style&&(s||!c.style.height&&!c.style.width)&&(c.style.height=`${e.height}px`,c.style.width=`${e.width}px`),e.currentDevicePixelRatio!==n||c.height!==i||c.width!==l?(e.currentDevicePixelRatio=n,c.height=i,c.width=l,e.ctx.setTransform(n,0,0,n,0,0),!0):!1}const KB=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Ey()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(t){}return e}();function wN(e,t){const s=IB(e,t),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}const QB=function(e,t){return{x(s){return e+e+t-s},setWidth(s){t=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,n){return s-n},leftForLtr(s,n){return s-n}}},ZB=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function nc(e,t,s){return e?QB(t,s):ZB()}function US(e,t){let s,n;(t==="ltr"||t==="rtl")&&(s=e.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",t,"important"),e.prevTextDirection=n)}function HS(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function af(e,t,s){return e.options.clip?e[s]:t[s]}function JB(e,t){const{xScale:s,yScale:n}=e;return s&&n?{left:af(s,t,"left"),right:af(s,t,"right"),top:af(n,t,"top"),bottom:af(n,t,"bottom")}:t}function e8(e,t){const s=t._clip;if(s.disabled)return!1;const n=JB(t,e.chartArea);return{left:s.left===!1?0:n.left-(s.left===!0?0:s.left),right:s.right===!1?e.width:n.right+(s.right===!0?0:s.right),top:s.top===!1?0:n.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?e.height:n.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class t8{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,s,n,i){const l=s.listeners[i],c=s.duration;l.forEach(u=>u({chart:t,initial:s.initial,numSteps:c,currentStep:Math.min(n-s.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=CS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let s=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const l=n.items;let c=l.length-1,u=!1,h;for(;c>=0;--c)h=l[c],h._active?(h._total>n.duration&&(n.duration=h._total),h.tick(t),u=!0):(l[c]=l[l.length-1],l.pop());u&&(i.draw(),this._notify(i,n,t,"progress")),l.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),s+=l.length}),this._lastDate=t,s===0&&(this._running=!1)}_getAnims(t){const s=this._charts;let n=s.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(t,n)),n}listen(t,s,n){this._getAnims(t).listeners[s].push(n)}add(t,s){!s||!s.length||this._getAnims(t).items.push(...s)}has(t){return this._getAnims(t).items.length>0}start(t){const s=this._charts.get(t);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const s=this._charts.get(t);return!(!s||!s.running||!s.items.length)}stop(t){const s=this._charts.get(t);if(!s||!s.items.length)return;const n=s.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();s.items=[],this._notify(t,s,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Vr=new t8;const jN="transparent",s8={boolean(e,t,s){return s>.5?t:e},color(e,t,s){const n=fN(e||jN),i=n.valid&&fN(t||jN);return i&&i.valid?i.mix(n,s).hexString():t},number(e,t,s){return e+(t-e)*s}};class n8{constructor(t,s,n,i){const l=s[n];i=sf([t.to,i,l,t.from]);const c=sf([t.from,l,i]);this._active=!0,this._fn=t.fn||s8[t.type||typeof c],this._easing=qd[t.easing]||qd.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=s,this._prop=n,this._from=c,this._to=i,this._promises=void 0}active(){return this._active}update(t,s,n){if(this._active){this._notify(!1);const i=this._target[this._prop],l=n-this._start,c=this._duration-l;this._start=n,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=l,this._loop=!!t.loop,this._to=sf([t.to,s,i,t.from]),this._from=sf([t.from,i,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const s=t-this._start,n=this._duration,i=this._prop,l=this._from,c=this._loop,u=this._to;let h;if(this._active=l!==u&&(c||s<n),!this._active){this._target[i]=u,this._notify(!0);return}if(s<0){this._target[i]=l;return}h=s/n%2,h=c&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[i]=this._fn(l,u,h)}wait(){const t=this._promises||(this._promises=[]);return new Promise((s,n)=>{t.push({res:s,rej:n})})}_notify(t){const s=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][s]()}}class $S{constructor(t,s){this._chart=t,this._properties=new Map,this.configure(s)}configure(t){if(!Xt(t))return;const s=Object.keys(Ls.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const l=t[i];if(!Xt(l))return;const c={};for(const u of s)c[u]=l[u];(an(l.properties)&&l.properties||[i]).forEach(u=>{(u===i||!n.has(u))&&n.set(u,c)})})}_animateOptions(t,s){const n=s.options,i=r8(t,n);if(!i)return[];const l=this._createAnimations(i,n);return n.$shared&&a8(t.options.$animations,n).then(()=>{t.options=n},()=>{}),l}_createAnimations(t,s){const n=this._properties,i=[],l=t.$animations||(t.$animations={}),c=Object.keys(s),u=Date.now();let h;for(h=c.length-1;h>=0;--h){const f=c[h];if(f.charAt(0)==="$")continue;if(f==="options"){i.push(...this._animateOptions(t,s));continue}const g=s[f];let p=l[f];const b=n.get(f);if(p)if(b&&p.active()){p.update(b,g,u);continue}else p.cancel();if(!b||!b.duration){t[f]=g;continue}l[f]=p=new n8(b,t,f,g),i.push(p)}return i}update(t,s){if(this._properties.size===0){Object.assign(t,s);return}const n=this._createAnimations(t,s);if(n.length)return Vr.add(this._chart,n),!0}}function a8(e,t){const s=[],n=Object.keys(t);for(let i=0;i<n.length;i++){const l=e[n[i]];l&&l.active()&&s.push(l.wait())}return Promise.all(s)}function r8(e,t){if(!t)return;let s=e.options;if(!s){e.options=t;return}return s.$shared&&(e.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function NN(e,t){const s=e&&e.options||{},n=s.reverse,i=s.min===void 0?t:0,l=s.max===void 0?t:0;return{start:n?l:i,end:n?i:l}}function i8(e,t,s){if(s===!1)return!1;const n=NN(e,s),i=NN(t,s);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function o8(e){let t,s,n,i;return Xt(e)?(t=e.top,s=e.right,n=e.bottom,i=e.left):t=s=n=i=e,{top:t,right:s,bottom:n,left:i,disabled:e===!1}}function VS(e,t){const s=[],n=e._getSortedDatasetMetas(t);let i,l;for(i=0,l=n.length;i<l;++i)s.push(n[i].index);return s}function _N(e,t,s,n={}){const i=e.keys,l=n.mode==="single";let c,u,h,f;if(t===null)return;let g=!1;for(c=0,u=i.length;c<u;++c){if(h=+i[c],h===s){if(g=!0,n.all)continue;break}f=e.values[h],Ta(f)&&(l||t===0||Wf(t)===Wf(f))&&(t+=f)}return!g&&!n.all?0:t}function l8(e,t){const{iScale:s,vScale:n}=t,i=s.axis==="x"?"x":"y",l=n.axis==="x"?"x":"y",c=Object.keys(e),u=new Array(c.length);let h,f,g;for(h=0,f=c.length;h<f;++h)g=c[h],u[h]={[i]:g,[l]:e[g]};return u}function f0(e,t){const s=e&&e.options.stacked;return s||s===void 0&&t.stack!==void 0}function c8(e,t,s){return`${e.id}.${t.id}.${s.stack||s.type}`}function d8(e){const{min:t,max:s,minDefined:n,maxDefined:i}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:i?s:Number.POSITIVE_INFINITY}}function u8(e,t,s){const n=e[t]||(e[t]={});return n[s]||(n[s]={})}function TN(e,t,s,n){for(const i of t.getMatchingVisibleMetas(n).reverse()){const l=e[i.index];if(s&&l>0||!s&&l<0)return i.index}return null}function SN(e,t){const{chart:s,_cachedMeta:n}=e,i=s._stacks||(s._stacks={}),{iScale:l,vScale:c,index:u}=n,h=l.axis,f=c.axis,g=c8(l,c,n),p=t.length;let b;for(let y=0;y<p;++y){const j=t[y],{[h]:v,[f]:_}=j,T=j._stacks||(j._stacks={});b=T[f]=u8(i,g,v),b[u]=_,b._top=TN(b,c,!0,n.type),b._bottom=TN(b,c,!1,n.type);const O=b._visualValues||(b._visualValues={});O[u]=_}}function m0(e,t){const s=e.scales;return Object.keys(s).filter(n=>s[n].axis===t).shift()}function h8(e,t){return jc(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function f8(e,t,s){return jc(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:s,index:t,mode:"default",type:"data"})}function Cd(e,t){const s=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const i of t){const l=i._stacks;if(!l||l[n]===void 0||l[n][s]===void 0)return;delete l[n][s],l[n]._visualValues!==void 0&&l[n]._visualValues[s]!==void 0&&delete l[n]._visualValues[s]}}}const g0=e=>e==="reset"||e==="none",kN=(e,t)=>t?e:Object.assign({},e),m8=(e,t,s)=>e&&!t.hidden&&t._stacked&&{keys:VS(s,!0),values:null};class Ef{constructor(t,s){this.chart=t,this._ctx=t.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=f0(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Cd(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,s=this._cachedMeta,n=this.getDataset(),i=(p,b,y,j)=>p==="x"?b:p==="r"?j:y,l=s.xAxisID=ns(n.xAxisID,m0(t,"x")),c=s.yAxisID=ns(n.yAxisID,m0(t,"y")),u=s.rAxisID=ns(n.rAxisID,m0(t,"r")),h=s.indexAxis,f=s.iAxisID=i(h,l,c,u),g=s.vAxisID=i(h,c,l,u);s.xScale=this.getScaleForId(l),s.yScale=this.getScaleForId(c),s.rScale=this.getScaleForId(u),s.iScale=this.getScaleForId(f),s.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const s=this._cachedMeta;return t===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&dN(this._data,this),t._stacked&&Cd(t)}_dataCheck(){const t=this.getDataset(),s=t.data||(t.data=[]),n=this._data;if(Xt(s)){const i=this._cachedMeta;this._data=l8(s,i)}else if(n!==s){if(n){dN(n,this);const i=this._cachedMeta;Cd(i),i._parsed=[]}s&&Object.isExtensible(s)&&fB(s,this),this._syncList=[],this._data=s}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const s=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const l=s._stacked;s._stacked=f0(s.vScale,s),s.stack!==n.stack&&(i=!0,Cd(s),s.stack=n.stack),this._resyncElements(t),(i||l!==s._stacked)&&(SN(this,s._parsed),s._stacked=f0(s.vScale,s))}configure(){const t=this.chart.config,s=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),s,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,s){const{_cachedMeta:n,_data:i}=this,{iScale:l,_stacked:c}=n,u=l.axis;let h=t===0&&s===i.length?!0:n._sorted,f=t>0&&n._parsed[t-1],g,p,b;if(this._parsing===!1)n._parsed=i,n._sorted=!0,b=i;else{an(i[t])?b=this.parseArrayData(n,i,t,s):Xt(i[t])?b=this.parseObjectData(n,i,t,s):b=this.parsePrimitiveData(n,i,t,s);const y=()=>p[u]===null||f&&p[u]<f[u];for(g=0;g<s;++g)n._parsed[g+t]=p=b[g],h&&(y()&&(h=!1),f=p);n._sorted=h}c&&SN(this,b)}parsePrimitiveData(t,s,n,i){const{iScale:l,vScale:c}=t,u=l.axis,h=c.axis,f=l.getLabels(),g=l===c,p=new Array(i);let b,y,j;for(b=0,y=i;b<y;++b)j=b+n,p[b]={[u]:g||l.parse(f[j],j),[h]:c.parse(s[j],j)};return p}parseArrayData(t,s,n,i){const{xScale:l,yScale:c}=t,u=new Array(i);let h,f,g,p;for(h=0,f=i;h<f;++h)g=h+n,p=s[g],u[h]={x:l.parse(p[0],g),y:c.parse(p[1],g)};return u}parseObjectData(t,s,n,i){const{xScale:l,yScale:c}=t,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,f=new Array(i);let g,p,b,y;for(g=0,p=i;g<p;++g)b=g+n,y=s[b],f[g]={x:l.parse(Vf(y,u),b),y:c.parse(Vf(y,h),b)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,s,n){const i=this.chart,l=this._cachedMeta,c=s[t.axis],u={keys:VS(i,!0),values:s._stacks[t.axis]._visualValues};return _N(u,c,l.index,{mode:n})}updateRangeFromParsed(t,s,n,i){const l=n[s.axis];let c=l===null?NaN:l;const u=i&&n._stacks[s.axis];i&&u&&(i.values=u,c=_N(i,l,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,s){const n=this._cachedMeta,i=n._parsed,l=n._sorted&&t===n.iScale,c=i.length,u=this._getOtherScale(t),h=m8(s,n,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:p}=d8(u);let b,y;function j(){y=i[b];const v=y[u.axis];return!Ta(y[t.axis])||g>v||p<v}for(b=0;b<c&&!(!j()&&(this.updateRangeFromParsed(f,t,y,h),l));++b);if(l){for(b=c-1;b>=0;--b)if(!j()){this.updateRangeFromParsed(f,t,y,h);break}}return f}getAllParsedValues(t){const s=this._cachedMeta._parsed,n=[];let i,l,c;for(i=0,l=s.length;i<l;++i)c=s[i][t.axis],Ta(c)&&n.push(c);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const s=this._cachedMeta,n=s.iScale,i=s.vScale,l=this.getParsed(t);return{label:n?""+n.getLabelForValue(l[n.axis]):"",value:i?""+i.getLabelForValue(l[i.axis]):""}}_update(t){const s=this._cachedMeta;this.update(t||"default"),s._clip=o8(ns(this.options.clip,i8(s.xScale,s.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,s=this.chart,n=this._cachedMeta,i=n.data||[],l=s.chartArea,c=[],u=this._drawStart||0,h=this._drawCount||i.length-u,f=this.options.drawActiveElementsOnTop;let g;for(n.dataset&&n.dataset.draw(t,l,u,h),g=u;g<u+h;++g){const p=i[g];p.hidden||(p.active&&f?c.push(p):p.draw(t,l))}for(g=0;g<c.length;++g)c[g].draw(t,l)}getStyle(t,s){const n=s?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,s,n){const i=this.getDataset();let l;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];l=c.$context||(c.$context=f8(this.getContext(),t,c)),l.parsed=this.getParsed(t),l.raw=i.data[t],l.index=l.dataIndex=t}else l=this.$context||(this.$context=h8(this.chart.getContext(),this.index)),l.dataset=i,l.index=l.datasetIndex=this.index;return l.active=!!s,l.mode=n,l}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,s){return this._resolveElementOptions(this.dataElementType.id,s,t)}_resolveElementOptions(t,s="default",n){const i=s==="active",l=this._cachedDataOpts,c=t+"-"+s,u=l[c],h=this.enableOptionSharing&&If(n);if(u)return kN(u,h);const f=this.chart.config,g=f.datasetElementScopeKeys(this._type,t),p=i?[`${t}Hover`,"hover",t,""]:[t,""],b=f.getOptionScopes(this.getDataset(),g),y=Object.keys(Ls.elements[t]),j=()=>this.getContext(n,i,s),v=f.resolveNamedOptions(b,y,j,p);return v.$shared&&(v.$shared=h,l[c]=Object.freeze(kN(v,h))),v}_resolveAnimations(t,s,n){const i=this.chart,l=this._cachedDataOpts,c=`animation-${s}`,u=l[c];if(u)return u;let h;if(i.options.animation!==!1){const g=this.chart.config,p=g.datasetAnimationScopeKeys(this._type,s),b=g.getOptionScopes(this.getDataset(),p);h=g.createResolver(b,this.getContext(t,n,s))}const f=new $S(i,h&&h.animations);return h&&h._cacheable&&(l[c]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,s){return!s||g0(t)||this.chart._animationsDisabled}_getSharedOptions(t,s){const n=this.resolveDataElementOptions(t,s),i=this._sharedOptions,l=this.getSharedOptions(n),c=this.includeOptions(s,l)||l!==i;return this.updateSharedOptions(l,s,n),{sharedOptions:l,includeOptions:c}}updateElement(t,s,n,i){g0(i)?Object.assign(t,n):this._resolveAnimations(s,i).update(t,n)}updateSharedOptions(t,s,n){t&&!g0(s)&&this._resolveAnimations(void 0,s).update(t,n)}_setStyle(t,s,n,i){t.active=i;const l=this.getStyle(s,i);this._resolveAnimations(s,n,i).update(t,{options:!i&&this.getSharedOptions(l)||l})}removeHoverStyle(t,s,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,s,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const s=this._data,n=this._cachedMeta.data;for(const[u,h,f]of this._syncList)this[u](h,f);this._syncList=[];const i=n.length,l=s.length,c=Math.min(l,i);c&&this.parse(0,c),l>i?this._insertElements(i,l-i,t):l<i&&this._removeElements(l,i-l)}_insertElements(t,s,n=!0){const i=this._cachedMeta,l=i.data,c=t+s;let u;const h=f=>{for(f.length+=s,u=f.length-1;u>=c;u--)f[u]=f[u-s]};for(h(l),u=t;u<c;++u)l[u]=new this.dataElementType;this._parsing&&h(i._parsed),this.parse(t,s),n&&this.updateElements(l,t,s,"reset")}updateElements(t,s,n,i){}_removeElements(t,s){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,s);n._stacked&&Cd(n,i)}n.data.splice(t,s)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[s,n,i]=t;this[s](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,s){s&&this._sync(["_removeElements",t,s]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}St(Ef,"defaults",{}),St(Ef,"datasetElementType",null),St(Ef,"dataElementType",null);function Ao(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ay{constructor(t){St(this,"options");this.options=t||{}}static override(t){Object.assign(Ay.prototype,t)}init(){}formats(){return Ao()}parse(){return Ao()}format(){return Ao()}add(){return Ao()}diff(){return Ao()}startOf(){return Ao()}endOf(){return Ao()}}var g8={_date:Ay};function p8(e,t,s,n){const{controller:i,data:l,_sorted:c}=e,u=i._cachedMeta.iScale,h=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&c&&l.length){const f=u._reversePixels?uB:lx;if(n){if(i._sharedOptions){const g=l[0],p=typeof g.getRange=="function"&&g.getRange(t);if(p){const b=f(l,t,s-p),y=f(l,t,s+p);return{lo:b.lo,hi:y.hi}}}}else{const g=f(l,t,s);if(h){const{vScale:p}=i._cachedMeta,{_parsed:b}=e,y=b.slice(0,g.lo+1).reverse().findIndex(v=>!Ns(v[p.axis]));g.lo-=Math.max(0,y);const j=b.slice(g.hi).findIndex(v=>!Ns(v[p.axis]));g.hi+=Math.max(0,j)}return g}}return{lo:0,hi:l.length-1}}function _m(e,t,s,n,i){const l=e.getSortedVisibleDatasetMetas(),c=s[t];for(let u=0,h=l.length;u<h;++u){const{index:f,data:g}=l[u],{lo:p,hi:b}=p8(l[u],t,c,i);for(let y=p;y<=b;++y){const j=g[y];j.skip||n(j,f,y)}}}function x8(e){const t=e.indexOf("x")!==-1,s=e.indexOf("y")!==-1;return function(n,i){const l=t?Math.abs(n.x-i.x):0,c=s?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(l,2)+Math.pow(c,2))}}function p0(e,t,s,n,i){const l=[];return!i&&!e.isPointInArea(t)||_m(e,s,t,function(u,h,f){!i&&!RS(u,e.chartArea,0)||u.inRange(t.x,t.y,n)&&l.push({element:u,datasetIndex:h,index:f})},!0),l}function y8(e,t,s,n){let i=[];function l(c,u,h){const{startAngle:f,endAngle:g}=c.getProps(["startAngle","endAngle"],n),{angle:p}=TS(c,{x:t.x,y:t.y});SS(p,f,g)&&i.push({element:c,datasetIndex:u,index:h})}return _m(e,s,t,l),i}function b8(e,t,s,n,i,l){let c=[];const u=x8(s);let h=Number.POSITIVE_INFINITY;function f(g,p,b){const y=g.inRange(t.x,t.y,i);if(n&&!y)return;const j=g.getCenterPoint(i);if(!(!!l||e.isPointInArea(j))&&!y)return;const _=u(t,j);_<h?(c=[{element:g,datasetIndex:p,index:b}],h=_):_===h&&c.push({element:g,datasetIndex:p,index:b})}return _m(e,s,t,f),c}function x0(e,t,s,n,i,l){return!l&&!e.isPointInArea(t)?[]:s==="r"&&!n?y8(e,t,s,i):b8(e,t,s,n,i,l)}function CN(e,t,s,n,i){const l=[],c=s==="x"?"inXRange":"inYRange";let u=!1;return _m(e,s,t,(h,f,g)=>{h[c]&&h[c](t[s],i)&&(l.push({element:h,datasetIndex:f,index:g}),u=u||h.inRange(t.x,t.y,i))}),n&&!u?[]:l}var v8={modes:{index(e,t,s,n){const i=Oo(t,e),l=s.axis||"x",c=s.includeInvisible||!1,u=s.intersect?p0(e,i,l,n,c):x0(e,i,l,!1,n,c),h=[];return u.length?(e.getSortedVisibleDatasetMetas().forEach(f=>{const g=u[0].index,p=f.data[g];p&&!p.skip&&h.push({element:p,datasetIndex:f.index,index:g})}),h):[]},dataset(e,t,s,n){const i=Oo(t,e),l=s.axis||"xy",c=s.includeInvisible||!1;let u=s.intersect?p0(e,i,l,n,c):x0(e,i,l,!1,n,c);if(u.length>0){const h=u[0].datasetIndex,f=e.getDatasetMeta(h).data;u=[];for(let g=0;g<f.length;++g)u.push({element:f[g],datasetIndex:h,index:g})}return u},point(e,t,s,n){const i=Oo(t,e),l=s.axis||"xy",c=s.includeInvisible||!1;return p0(e,i,l,n,c)},nearest(e,t,s,n){const i=Oo(t,e),l=s.axis||"xy",c=s.includeInvisible||!1;return x0(e,i,l,s.intersect,n,c)},x(e,t,s,n){const i=Oo(t,e);return CN(e,i,"x",s.intersect,n)},y(e,t,s,n){const i=Oo(t,e);return CN(e,i,"y",s.intersect,n)}}};const IS=["left","top","right","bottom"];function Ed(e,t){return e.filter(s=>s.pos===t)}function EN(e,t){return e.filter(s=>IS.indexOf(s.pos)===-1&&s.box.axis===t)}function Dd(e,t){return e.sort((s,n)=>{const i=t?n:s,l=t?s:n;return i.weight===l.weight?i.index-l.index:i.weight-l.weight})}function w8(e){const t=[];let s,n,i,l,c,u;for(s=0,n=(e||[]).length;s<n;++s)i=e[s],{position:l,options:{stack:c,stackWeight:u=1}}=i,t.push({index:s,box:i,pos:l,horizontal:i.isHorizontal(),weight:i.weight,stack:c&&l+c,stackWeight:u});return t}function j8(e){const t={};for(const s of e){const{stack:n,pos:i,stackWeight:l}=s;if(!n||!IS.includes(i))continue;const c=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=l}return t}function N8(e,t){const s=j8(e),{vBoxMaxWidth:n,hBoxMaxHeight:i}=t;let l,c,u;for(l=0,c=e.length;l<c;++l){u=e[l];const{fullSize:h}=u.box,f=s[u.stack],g=f&&u.stackWeight/f.weight;u.horizontal?(u.width=g?g*n:h&&t.availableWidth,u.height=i):(u.width=n,u.height=g?g*i:h&&t.availableHeight)}return s}function _8(e){const t=w8(e),s=Dd(t.filter(f=>f.box.fullSize),!0),n=Dd(Ed(t,"left"),!0),i=Dd(Ed(t,"right")),l=Dd(Ed(t,"top"),!0),c=Dd(Ed(t,"bottom")),u=EN(t,"x"),h=EN(t,"y");return{fullSize:s,leftAndTop:n.concat(l),rightAndBottom:i.concat(h).concat(c).concat(u),chartArea:Ed(t,"chartArea"),vertical:n.concat(i).concat(h),horizontal:l.concat(c).concat(u)}}function DN(e,t,s,n){return Math.max(e[s],t[s])+Math.max(e[n],t[n])}function qS(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function T8(e,t,s,n){const{pos:i,box:l}=s,c=e.maxPadding;if(!Xt(i)){s.size&&(e[i]-=s.size);const p=n[s.stack]||{size:0,count:1};p.size=Math.max(p.size,s.horizontal?l.height:l.width),s.size=p.size/p.count,e[i]+=s.size}l.getPadding&&qS(c,l.getPadding());const u=Math.max(0,t.outerWidth-DN(c,e,"left","right")),h=Math.max(0,t.outerHeight-DN(c,e,"top","bottom")),f=u!==e.w,g=h!==e.h;return e.w=u,e.h=h,s.horizontal?{same:f,other:g}:{same:g,other:f}}function S8(e){const t=e.maxPadding;function s(n){const i=Math.max(t[n]-e[n],0);return e[n]+=i,i}e.y+=s("top"),e.x+=s("left"),s("right"),s("bottom")}function k8(e,t){const s=t.maxPadding;function n(i){const l={left:0,top:0,right:0,bottom:0};return i.forEach(c=>{l[c]=Math.max(t[c],s[c])}),l}return n(e?["left","right"]:["top","bottom"])}function Hd(e,t,s,n){const i=[];let l,c,u,h,f,g;for(l=0,c=e.length,f=0;l<c;++l){u=e[l],h=u.box,h.update(u.width||t.w,u.height||t.h,k8(u.horizontal,t));const{same:p,other:b}=T8(t,s,u,n);f|=p&&i.length,g=g||b,h.fullSize||i.push(u)}return f&&Hd(i,t,s,n)||g}function rf(e,t,s,n,i){e.top=s,e.left=t,e.right=t+n,e.bottom=s+i,e.width=n,e.height=i}function AN(e,t,s,n){const i=s.padding;let{x:l,y:c}=t;for(const u of e){const h=u.box,f=n[u.stack]||{placed:0,weight:1},g=u.stackWeight/f.weight||1;if(u.horizontal){const p=t.w*g,b=f.size||h.height;If(f.start)&&(c=f.start),h.fullSize?rf(h,i.left,c,s.outerWidth-i.right-i.left,b):rf(h,t.left+f.placed,c,p,b),f.start=c,f.placed+=p,c=h.bottom}else{const p=t.h*g,b=f.size||h.width;If(f.start)&&(l=f.start),h.fullSize?rf(h,l,i.top,b,s.outerHeight-i.bottom-i.top):rf(h,l,t.top+f.placed,b,p),f.start=l,f.placed+=p,l=h.right}}t.x=l,t.y=c}var Na={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(s){t.draw(s)}}]},e.boxes.push(t)},removeBox(e,t){const s=e.boxes?e.boxes.indexOf(t):-1;s!==-1&&e.boxes.splice(s,1)},configure(e,t,s){t.fullSize=s.fullSize,t.position=s.position,t.weight=s.weight},update(e,t,s,n){if(!e)return;const i=Sa(e.options.layout.padding),l=Math.max(t-i.width,0),c=Math.max(s-i.height,0),u=_8(e.boxes),h=u.vertical,f=u.horizontal;ss(e.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const g=h.reduce((v,_)=>_.box.options&&_.box.options.display===!1?v:v+1,0)||1,p=Object.freeze({outerWidth:t,outerHeight:s,padding:i,availableWidth:l,availableHeight:c,vBoxMaxWidth:l/2/g,hBoxMaxHeight:c/2}),b=Object.assign({},i);qS(b,Sa(n));const y=Object.assign({maxPadding:b,w:l,h:c,x:i.left,y:i.top},i),j=N8(h.concat(f),p);Hd(u.fullSize,y,p,j),Hd(h,y,p,j),Hd(f,y,p,j)&&Hd(h,y,p,j),S8(y),AN(u.leftAndTop,y,p,j),y.x+=y.w,y.y+=y.h,AN(u.rightAndBottom,y,p,j),e.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},ss(u.chartArea,v=>{const _=v.box;Object.assign(_,e.chartArea),_.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class WS{acquireContext(t,s){}releaseContext(t){return!1}addEventListener(t,s,n){}removeEventListener(t,s,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,s,n,i){return s=Math.max(0,s||t.width),n=n||t.height,{width:s,height:Math.max(0,i?Math.floor(s/i):n)}}isAttached(t){return!0}updateConfig(t){}}class C8 extends WS{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Df="$chartjs",E8={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ON=e=>e===null||e==="";function D8(e,t){const s=e.style,n=e.getAttribute("height"),i=e.getAttribute("width");if(e[Df]={initial:{height:n,width:i,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",ON(i)){const l=wN(e,"width");l!==void 0&&(e.width=l)}if(ON(n))if(e.style.height==="")e.height=e.width/(t||2);else{const l=wN(e,"height");l!==void 0&&(e.height=l)}return e}const YS=KB?{passive:!0}:!1;function A8(e,t,s){e&&e.addEventListener(t,s,YS)}function O8(e,t,s){e&&e.canvas&&e.canvas.removeEventListener(t,s,YS)}function M8(e,t){const s=E8[e.type]||e.type,{x:n,y:i}=Oo(e,t);return{type:s,chart:t,native:e,x:n!==void 0?n:null,y:i!==void 0?i:null}}function Kf(e,t){for(const s of e)if(s===t||s.contains(t))return!0}function R8(e,t,s){const n=e.canvas,i=new MutationObserver(l=>{let c=!1;for(const u of l)c=c||Kf(u.addedNodes,n),c=c&&!Kf(u.removedNodes,n);c&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}function P8(e,t,s){const n=e.canvas,i=new MutationObserver(l=>{let c=!1;for(const u of l)c=c||Kf(u.removedNodes,n),c=c&&!Kf(u.addedNodes,n);c&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}const lu=new Map;let MN=0;function GS(){const e=window.devicePixelRatio;e!==MN&&(MN=e,lu.forEach((t,s)=>{s.currentDevicePixelRatio!==e&&t()}))}function L8(e,t){lu.size||window.addEventListener("resize",GS),lu.set(e,t)}function B8(e){lu.delete(e),lu.size||window.removeEventListener("resize",GS)}function F8(e,t,s){const n=e.canvas,i=n&&Dy(n);if(!i)return;const l=ES((u,h)=>{const f=i.clientWidth;s(u,h),f<i.clientWidth&&s()},window),c=new ResizeObserver(u=>{const h=u[0],f=h.contentRect.width,g=h.contentRect.height;f===0&&g===0||l(f,g)});return c.observe(i),L8(e,l),c}function y0(e,t,s){s&&s.disconnect(),t==="resize"&&B8(e)}function z8(e,t,s){const n=e.canvas,i=ES(l=>{e.ctx!==null&&s(M8(l,e))},e);return A8(n,t,i),i}class U8 extends WS{acquireContext(t,s){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(D8(t,s),n):null}releaseContext(t){const s=t.canvas;if(!s[Df])return!1;const n=s[Df].initial;["height","width"].forEach(l=>{const c=n[l];Ns(c)?s.removeAttribute(l):s.setAttribute(l,c)});const i=n.style||{};return Object.keys(i).forEach(l=>{s.style[l]=i[l]}),s.width=s.width,delete s[Df],!0}addEventListener(t,s,n){this.removeEventListener(t,s);const i=t.$proxies||(t.$proxies={}),c={attach:R8,detach:P8,resize:F8}[s]||z8;i[s]=c(t,s,n)}removeEventListener(t,s){const n=t.$proxies||(t.$proxies={}),i=n[s];if(!i)return;({attach:y0,detach:y0,resize:y0}[s]||O8)(t,s,i),n[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,s,n,i){return XB(t,s,n,i)}isAttached(t){const s=t&&Dy(t);return!!(s&&s.isConnected)}}function H8(e){return!Ey()||typeof OffscreenCanvas!="undefined"&&e instanceof OffscreenCanvas?C8:U8}var gf;let Ko=(gf=class{constructor(){St(this,"x");St(this,"y");St(this,"active",!1);St(this,"options");St(this,"$animations")}tooltipPosition(t){const{x:s,y:n}=this.getProps(["x","y"],t);return{x:s,y:n}}hasValue(){return Yf(this.x)&&Yf(this.y)}getProps(t,s){const n=this.$animations;if(!s||!n)return this;const i={};return t.forEach(l=>{i[l]=n[l]&&n[l].active()?n[l]._to:this[l]}),i}},St(gf,"defaults",{}),St(gf,"defaultRoutes"),gf);function $8(e,t){const s=e.options.ticks,n=V8(e),i=Math.min(s.maxTicksLimit||n,n),l=s.major.enabled?q8(t):[],c=l.length,u=l[0],h=l[c-1],f=[];if(c>i)return W8(t,f,l,c/i),f;const g=I8(l,t,i);if(c>0){let p,b;const y=c>1?Math.round((h-u)/(c-1)):null;for(of(t,f,g,Ns(y)?0:u-y,u),p=0,b=c-1;p<b;p++)of(t,f,g,l[p],l[p+1]);return of(t,f,g,h,Ns(y)?t.length:h+y),f}return of(t,f,g),f}function V8(e){const t=e.options.offset,s=e._tickSize(),n=e._length/s+(t?0:1),i=e._maxLength/s;return Math.floor(Math.min(n,i))}function I8(e,t,s){const n=Y8(e),i=t.length/s;if(!n)return Math.max(i,1);const l=aB(n);for(let c=0,u=l.length-1;c<u;c++){const h=l[c];if(h>i)return h}return Math.max(i,1)}function q8(e){const t=[];let s,n;for(s=0,n=e.length;s<n;s++)e[s].major&&t.push(s);return t}function W8(e,t,s,n){let i=0,l=s[0],c;for(n=Math.ceil(n),c=0;c<e.length;c++)c===l&&(t.push(e[c]),i++,l=s[i*n])}function of(e,t,s,n,i){const l=ns(n,0),c=Math.min(ns(i,e.length),e.length);let u=0,h,f,g;for(s=Math.ceil(s),i&&(h=i-n,s=h/Math.floor(h/s)),g=l;g<0;)u++,g=Math.round(l+u*s);for(f=Math.max(l,0);f<c;f++)f===g&&(t.push(e[f]),u++,g=Math.round(l+u*s))}function Y8(e){const t=e.length;let s,n;if(t<2)return!1;for(n=e[0],s=1;s<t;++s)if(e[s]-e[s-1]!==n)return!1;return n}const G8=e=>e==="left"?"right":e==="right"?"left":e,RN=(e,t,s)=>t==="top"||t==="left"?e[t]+s:e[t]-s,PN=(e,t)=>Math.min(t||e,e);function LN(e,t){const s=[],n=e.length/t,i=e.length;let l=0;for(;l<i;l+=n)s.push(e[Math.floor(l)]);return s}function X8(e,t,s){const n=e.ticks.length,i=Math.min(t,n-1),l=e._startPixel,c=e._endPixel,u=1e-6;let h=e.getPixelForTick(i),f;if(!(s&&(n===1?f=Math.max(h-l,c-h):t===0?f=(e.getPixelForTick(1)-h)/2:f=(h-e.getPixelForTick(i-1))/2,h+=i<t?f:-f,h<l-u||h>c+u)))return h}function K8(e,t){ss(e,s=>{const n=s.gc,i=n.length/2;let l;if(i>t){for(l=0;l<i;++l)delete s.data[n[l]];n.splice(0,i)}})}function Ad(e){return e.drawTicks?e.tickLength:0}function BN(e,t){if(!e.display)return 0;const s=_n(e.font,t),n=Sa(e.padding);return(an(e.text)?e.text.length:1)*s.lineHeight+n.height}function Q8(e,t){return jc(e,{scale:t,type:"scale"})}function Z8(e,t,s){return jc(e,{tick:s,index:t,type:"tick"})}function J8(e,t,s){let n=jy(e);return(s&&t!=="right"||!s&&t==="right")&&(n=G8(n)),n}function eF(e,t,s,n){const{top:i,left:l,bottom:c,right:u,chart:h}=e,{chartArea:f,scales:g}=h;let p=0,b,y,j;const v=c-i,_=u-l;if(e.isHorizontal()){if(y=jn(n,l,u),Xt(s)){const T=Object.keys(s)[0],O=s[T];j=g[T].getPixelForValue(O)+v-t}else s==="center"?j=(f.bottom+f.top)/2+v-t:j=RN(e,s,t);b=u-l}else{if(Xt(s)){const T=Object.keys(s)[0],O=s[T];y=g[T].getPixelForValue(O)-_+t}else s==="center"?y=(f.left+f.right)/2-_+t:y=RN(e,s,t);j=jn(n,c,i),p=s==="left"?-un:un}return{titleX:y,titleY:j,maxWidth:b,rotation:p}}class Nc extends Ko{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,s){return t}getUserBounds(){let{_userMin:t,_userMax:s,_suggestedMin:n,_suggestedMax:i}=this;return t=tr(t,Number.POSITIVE_INFINITY),s=tr(s,Number.NEGATIVE_INFINITY),n=tr(n,Number.POSITIVE_INFINITY),i=tr(i,Number.NEGATIVE_INFINITY),{min:tr(t,n),max:tr(s,i),minDefined:Ta(t),maxDefined:Ta(s)}}getMinMax(t){let{min:s,max:n,minDefined:i,maxDefined:l}=this.getUserBounds(),c;if(i&&l)return{min:s,max:n};const u=this.getMatchingVisibleMetas();for(let h=0,f=u.length;h<f;++h)c=u[h].controller.getMinMax(this,t),i||(s=Math.min(s,c.min)),l||(n=Math.max(n,c.max));return s=l&&s>n?n:s,n=i&&s>n?s:n,{min:tr(s,tr(n,s)),max:tr(n,tr(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){xs(this.options.beforeUpdate,[this])}update(t,s,n){const{beginAtZero:i,grace:l,ticks:c}=this.options,u=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=s,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=RB(this,l,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?LN(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=$8(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,s,n;this.isHorizontal()?(s=this.left,n=this.right):(s=this.top,n=this.bottom,t=!t),this._startPixel=s,this._endPixel=n,this._reversePixels=t,this._length=n-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){xs(this.options.afterUpdate,[this])}beforeSetDimensions(){xs(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){xs(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),xs(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){xs(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const s=this.options.ticks;let n,i,l;for(n=0,i=t.length;n<i;n++)l=t[n],l.label=xs(s.callback,[l.value,n,t],this)}afterTickToLabelConversion(){xs(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){xs(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,s=t.ticks,n=PN(this.ticks.length,t.ticks.maxTicksLimit),i=s.minRotation||0,l=s.maxRotation;let c=i,u,h,f;if(!this._isVisible()||!s.display||i>=l||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const g=this._getLabelSizes(),p=g.widest.width,b=g.highest.height,y=In(this.chart.width-p,0,this.maxWidth);u=t.offset?this.maxWidth/n:y/(n-1),p+6>u&&(u=y/(n-(t.offset?.5:1)),h=this.maxHeight-Ad(t.grid)-s.padding-BN(t.title,this.chart.options.font),f=Math.sqrt(p*p+b*b),c=lB(Math.min(Math.asin(In((g.highest.height+6)/u,-1,1)),Math.asin(In(h/f,-1,1))-Math.asin(In(b/f,-1,1)))),c=Math.max(i,Math.min(l,c))),this.labelRotation=c}afterCalculateLabelRotation(){xs(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){xs(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:s,options:{ticks:n,title:i,grid:l}}=this,c=this._isVisible(),u=this.isHorizontal();if(c){const h=BN(i,s.options.font);if(u?(t.width=this.maxWidth,t.height=Ad(l)+h):(t.height=this.maxHeight,t.width=Ad(l)+h),n.display&&this.ticks.length){const{first:f,last:g,widest:p,highest:b}=this._getLabelSizes(),y=n.padding*2,j=zo(this.labelRotation),v=Math.cos(j),_=Math.sin(j);if(u){const T=n.mirror?0:_*p.width+v*b.height;t.height=Math.min(this.maxHeight,t.height+T+y)}else{const T=n.mirror?0:v*p.width+_*b.height;t.width=Math.min(this.maxWidth,t.width+T+y)}this._calculatePadding(f,g,_,v)}}this._handleMargins(),u?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,s,n,i){const{ticks:{align:l,padding:c},position:u}=this.options,h=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,y=0;h?f?(b=i*t.width,y=n*s.height):(b=n*t.height,y=i*s.width):l==="start"?y=s.width:l==="end"?b=t.width:l!=="inner"&&(b=t.width/2,y=s.width/2),this.paddingLeft=Math.max((b-g+c)*this.width/(this.width-g),0),this.paddingRight=Math.max((y-p+c)*this.width/(this.width-p),0)}else{let g=s.height/2,p=t.height/2;l==="start"?(g=0,p=t.height):l==="end"&&(g=s.height,p=0),this.paddingTop=g+c,this.paddingBottom=p+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){xs(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:s}=this.options;return s==="top"||s==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let s,n;for(s=0,n=t.length;s<n;s++)Ns(t[s].label)&&(t.splice(s,1),n--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const s=this.options.ticks.sampleSize;let n=this.ticks;s<n.length&&(n=LN(n,s)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,s,n){const{ctx:i,_longestTextCache:l}=this,c=[],u=[],h=Math.floor(s/PN(s,n));let f=0,g=0,p,b,y,j,v,_,T,O,S,C,D;for(p=0;p<s;p+=h){if(j=t[p].label,v=this._resolveTickFontOptions(p),i.font=_=v.string,T=l[_]=l[_]||{data:{},gc:[]},O=v.lineHeight,S=C=0,!Ns(j)&&!an(j))S=gN(i,T.data,T.gc,S,j),C=O;else if(an(j))for(b=0,y=j.length;b<y;++b)D=j[b],!Ns(D)&&!an(D)&&(S=gN(i,T.data,T.gc,S,D),C+=O);c.push(S),u.push(C),f=Math.max(S,f),g=Math.max(C,g)}K8(l,s);const E=c.indexOf(f),L=u.indexOf(g),F=R=>({width:c[R]||0,height:u[R]||0});return{first:F(0),last:F(s-1),widest:F(E),highest:F(L),widths:c,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,s){return NaN}getValueForPixel(t){}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const s=this._startPixel+t*this._length;return dB(this._alignToPixels?Do(this.chart,s,0):s)}getDecimalForPixel(t){const s=(t-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:s}=this;return t<0&&s<0?s:t>0&&s>0?t:0}getContext(t){const s=this.ticks||[];if(t>=0&&t<s.length){const n=s[t];return n.$context||(n.$context=Z8(this.getContext(),t,n))}return this.$context||(this.$context=Q8(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,s=zo(this.labelRotation),n=Math.abs(Math.cos(s)),i=Math.abs(Math.sin(s)),l=this._getLabelSizes(),c=t.autoSkipPadding||0,u=l?l.widest.width+c:0,h=l?l.highest.height+c:0;return this.isHorizontal()?h*n>u*i?u/n:h/i:h*i<u*n?h/n:u/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const s=this.axis,n=this.chart,i=this.options,{grid:l,position:c,border:u}=i,h=l.offset,f=this.isHorizontal(),p=this.ticks.length+(h?1:0),b=Ad(l),y=[],j=u.setContext(this.getContext()),v=j.display?j.width:0,_=v/2,T=function($){return Do(n,$,v)};let O,S,C,D,E,L,F,R,K,W,Q,H;if(c==="top")O=T(this.bottom),L=this.bottom-b,R=O-_,W=T(t.top)+_,H=t.bottom;else if(c==="bottom")O=T(this.top),W=t.top,H=T(t.bottom)-_,L=O+_,R=this.top+b;else if(c==="left")O=T(this.right),E=this.right-b,F=O-_,K=T(t.left)+_,Q=t.right;else if(c==="right")O=T(this.left),K=t.left,Q=T(t.right)-_,E=O+_,F=this.left+b;else if(s==="x"){if(c==="center")O=T((t.top+t.bottom)/2+.5);else if(Xt(c)){const $=Object.keys(c)[0],J=c[$];O=T(this.chart.scales[$].getPixelForValue(J))}W=t.top,H=t.bottom,L=O+_,R=L+b}else if(s==="y"){if(c==="center")O=T((t.left+t.right)/2);else if(Xt(c)){const $=Object.keys(c)[0],J=c[$];O=T(this.chart.scales[$].getPixelForValue(J))}E=O-_,F=E-b,K=t.left,Q=t.right}const q=ns(i.ticks.maxTicksLimit,p),Y=Math.max(1,Math.ceil(p/q));for(S=0;S<p;S+=Y){const $=this.getContext(S),J=l.setContext($),se=u.setContext($),Ne=J.lineWidth,P=J.color,ne=se.dash||[],ge=se.dashOffset,G=J.tickWidth,re=J.tickColor,_e=J.tickBorderDash||[],me=J.tickBorderDashOffset;C=X8(this,S,h),C!==void 0&&(D=Do(n,C,Ne),f?E=F=K=Q=D:L=R=W=H=D,y.push({tx1:E,ty1:L,tx2:F,ty2:R,x1:K,y1:W,x2:Q,y2:H,width:Ne,color:P,borderDash:ne,borderDashOffset:ge,tickWidth:G,tickColor:re,tickBorderDash:_e,tickBorderDashOffset:me}))}return this._ticksLength=p,this._borderValue=O,y}_computeLabelItems(t){const s=this.axis,n=this.options,{position:i,ticks:l}=n,c=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:f,padding:g,mirror:p}=l,b=Ad(n.grid),y=b+g,j=p?-g:y,v=-zo(this.labelRotation),_=[];let T,O,S,C,D,E,L,F,R,K,W,Q,H="middle";if(i==="top")E=this.bottom-j,L=this._getXAxisLabelAlignment();else if(i==="bottom")E=this.top+j,L=this._getXAxisLabelAlignment();else if(i==="left"){const Y=this._getYAxisLabelAlignment(b);L=Y.textAlign,D=Y.x}else if(i==="right"){const Y=this._getYAxisLabelAlignment(b);L=Y.textAlign,D=Y.x}else if(s==="x"){if(i==="center")E=(t.top+t.bottom)/2+y;else if(Xt(i)){const Y=Object.keys(i)[0],$=i[Y];E=this.chart.scales[Y].getPixelForValue($)+y}L=this._getXAxisLabelAlignment()}else if(s==="y"){if(i==="center")D=(t.left+t.right)/2-y;else if(Xt(i)){const Y=Object.keys(i)[0],$=i[Y];D=this.chart.scales[Y].getPixelForValue($)}L=this._getYAxisLabelAlignment(b).textAlign}s==="y"&&(h==="start"?H="top":h==="end"&&(H="bottom"));const q=this._getLabelSizes();for(T=0,O=u.length;T<O;++T){S=u[T],C=S.label;const Y=l.setContext(this.getContext(T));F=this.getPixelForTick(T)+l.labelOffset,R=this._resolveTickFontOptions(T),K=R.lineHeight,W=an(C)?C.length:1;const $=W/2,J=Y.color,se=Y.textStrokeColor,Ne=Y.textStrokeWidth;let P=L;c?(D=F,L==="inner"&&(T===O-1?P=this.options.reverse?"left":"right":T===0?P=this.options.reverse?"right":"left":P="center"),i==="top"?f==="near"||v!==0?Q=-W*K+K/2:f==="center"?Q=-q.highest.height/2-$*K+K:Q=-q.highest.height+K/2:f==="near"||v!==0?Q=K/2:f==="center"?Q=q.highest.height/2-$*K:Q=q.highest.height-W*K,p&&(Q*=-1),v!==0&&!Y.showLabelBackdrop&&(D+=K/2*Math.sin(v))):(E=F,Q=(1-W)*K/2);let ne;if(Y.showLabelBackdrop){const ge=Sa(Y.backdropPadding),G=q.heights[T],re=q.widths[T];let _e=Q-ge.top,me=0-ge.left;switch(H){case"middle":_e-=G/2;break;case"bottom":_e-=G;break}switch(L){case"center":me-=re/2;break;case"right":me-=re;break;case"inner":T===O-1?me-=re:T>0&&(me-=re/2);break}ne={left:me,top:_e,width:re+ge.width,height:G+ge.height,color:Y.backdropColor}}_.push({label:C,font:R,textOffset:Q,options:{rotation:v,color:J,strokeColor:se,strokeWidth:Ne,textAlign:P,textBaseline:H,translation:[D,E],backdrop:ne}})}return _}_getXAxisLabelAlignment(){const{position:t,ticks:s}=this.options;if(-zo(this.labelRotation))return t==="top"?"left":"right";let i="center";return s.align==="start"?i="left":s.align==="end"?i="right":s.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:s,ticks:{crossAlign:n,mirror:i,padding:l}}=this.options,c=this._getLabelSizes(),u=t+l,h=c.widest.width;let f,g;return s==="left"?i?(g=this.right+l,n==="near"?f="left":n==="center"?(f="center",g+=h/2):(f="right",g+=h)):(g=this.right-u,n==="near"?f="right":n==="center"?(f="center",g-=h/2):(f="left",g=this.left)):s==="right"?i?(g=this.left+l,n==="near"?f="right":n==="center"?(f="center",g-=h/2):(f="left",g-=h)):(g=this.left+u,n==="near"?f="left":n==="center"?(f="center",g+=h/2):(f="right",g=this.right)):f="right",{textAlign:f,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:s},left:n,top:i,width:l,height:c}=this;s&&(t.save(),t.fillStyle=s,t.fillRect(n,i,l,c),t.restore())}getLineWidthForValue(t){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const i=this.ticks.findIndex(l=>l.value===t);return i>=0?s.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const s=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let l,c;const u=(h,f,g)=>{!g.width||!g.color||(n.save(),n.lineWidth=g.width,n.strokeStyle=g.color,n.setLineDash(g.borderDash||[]),n.lineDashOffset=g.borderDashOffset,n.beginPath(),n.moveTo(h.x,h.y),n.lineTo(f.x,f.y),n.stroke(),n.restore())};if(s.display)for(l=0,c=i.length;l<c;++l){const h=i[l];s.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),s.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:s,options:{border:n,grid:i}}=this,l=n.setContext(this.getContext()),c=n.display?l.width:0;if(!c)return;const u=i.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,g,p,b;this.isHorizontal()?(f=Do(t,this.left,c)-c/2,g=Do(t,this.right,u)+u/2,p=b=h):(p=Do(t,this.top,c)-c/2,b=Do(t,this.bottom,u)+u/2,f=g=h),s.save(),s.lineWidth=l.width,s.strokeStyle=l.color,s.beginPath(),s.moveTo(f,p),s.lineTo(g,b),s.stroke(),s.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&Ny(n,i);const l=this.getLabelItems(t);for(const c of l){const u=c.options,h=c.font,f=c.label,g=c.textOffset;ou(n,f,0,g,h,u)}i&&_y(n)}drawTitle(){const{ctx:t,options:{position:s,title:n,reverse:i}}=this;if(!n.display)return;const l=_n(n.font),c=Sa(n.padding),u=n.align;let h=l.lineHeight/2;s==="bottom"||s==="center"||Xt(s)?(h+=c.bottom,an(n.text)&&(h+=l.lineHeight*(n.text.length-1))):h+=c.top;const{titleX:f,titleY:g,maxWidth:p,rotation:b}=eF(this,h,s,u);ou(t,n.text,0,0,l,{color:n.color,maxWidth:p,rotation:b,textAlign:J8(u,s,i),textBaseline:"middle",translation:[f,g]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,s=t.ticks&&t.ticks.z||0,n=ns(t.grid&&t.grid.z,-1),i=ns(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Nc.prototype.draw?[{z:s,draw:l=>{this.draw(l)}}]:[{z:n,draw:l=>{this.drawBackground(),this.drawGrid(l),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:s,draw:l=>{this.drawLabels(l)}}]}getMatchingVisibleMetas(t){const s=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let l,c;for(l=0,c=s.length;l<c;++l){const u=s[l];u[n]===this.id&&(!t||u.type===t)&&i.push(u)}return i}_resolveTickFontOptions(t){const s=this.options.ticks.setContext(this.getContext(t));return _n(s.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class lf{constructor(t,s,n){this.type=t,this.scope=s,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const s=Object.getPrototypeOf(t);let n;nF(s)&&(n=this.register(s));const i=this.items,l=t.id,c=this.scope+"."+l;if(!l)throw new Error("class does not have id: "+t);return l in i||(i[l]=t,tF(t,c,n),this.override&&Ls.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const s=this.items,n=t.id,i=this.scope;n in s&&delete s[n],i&&n in Ls[i]&&(delete Ls[i][n],this.override&&delete qo[n])}}function tF(e,t,s){const n=iu(Object.create(null),[s?Ls.get(s):{},Ls.get(t),e.defaults]);Ls.set(t,n),e.defaultRoutes&&sF(t,e.defaultRoutes),e.descriptors&&Ls.describe(t,e.descriptors)}function sF(e,t){Object.keys(t).forEach(s=>{const n=s.split("."),i=n.pop(),l=[e].concat(n).join("."),c=t[s].split("."),u=c.pop(),h=c.join(".");Ls.route(l,i,h,u)})}function nF(e){return"id"in e&&"defaults"in e}class aF{constructor(){this.controllers=new lf(Ef,"datasets",!0),this.elements=new lf(Ko,"elements"),this.plugins=new lf(Object,"plugins"),this.scales=new lf(Nc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,s,n){[...s].forEach(i=>{const l=n||this._getRegistryForType(i);n||l.isForType(i)||l===this.plugins&&i.id?this._exec(t,l,i):ss(i,c=>{const u=n||this._getRegistryForType(c);this._exec(t,u,c)})})}_exec(t,s,n){const i=vy(t);xs(n["before"+i],[],n),s[t](n),xs(n["after"+i],[],n)}_getRegistryForType(t){for(let s=0;s<this._typedRegistries.length;s++){const n=this._typedRegistries[s];if(n.isForType(t))return n}return this.plugins}_get(t,s,n){const i=s.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return i}}var nr=new aF;class rF{constructor(){this._init=[]}notify(t,s,n,i){s==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const l=i?this._descriptors(t).filter(i):this._descriptors(t),c=this._notify(l,t,s,n);return s==="afterDestroy"&&(this._notify(l,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,s,n,i){i=i||{};for(const l of t){const c=l.plugin,u=c[n],h=[s,i,l.options];if(xs(u,h,c)===!1&&i.cancelable)return!1}return!0}invalidate(){Ns(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),s}_createDescriptors(t,s){const n=t&&t.config,i=ns(n.options&&n.options.plugins,{}),l=iF(n);return i===!1&&!s?[]:lF(t,l,i,s)}_notifyStateChanges(t){const s=this._oldCache||[],n=this._cache,i=(l,c)=>l.filter(u=>!c.some(h=>u.plugin.id===h.plugin.id));this._notify(i(s,n),t,"stop"),this._notify(i(n,s),t,"start")}}function iF(e){const t={},s=[],n=Object.keys(nr.plugins.items);for(let l=0;l<n.length;l++)s.push(nr.getPlugin(n[l]));const i=e.plugins||[];for(let l=0;l<i.length;l++){const c=i[l];s.indexOf(c)===-1&&(s.push(c),t[c.id]=!0)}return{plugins:s,localIds:t}}function oF(e,t){return!t&&e===!1?null:e===!0?{}:e}function lF(e,{plugins:t,localIds:s},n,i){const l=[],c=e.getContext();for(const u of t){const h=u.id,f=oF(n[h],i);f!==null&&l.push({plugin:u,options:cF(e.config,{plugin:u,local:s[h]},f,c)})}return l}function cF(e,{plugin:t,local:s},n,i){const l=e.pluginScopeKeys(t),c=e.getOptionScopes(n,l);return s&&t.defaults&&c.push(t.defaults),e.createResolver(c,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function dx(e,t){const s=Ls.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||s.indexAxis||"x"}function dF(e,t){let s=e;return e==="_index_"?s=t:e==="_value_"&&(s=t==="x"?"y":"x"),s}function uF(e,t){return e===t?"_index_":"_value_"}function FN(e){if(e==="x"||e==="y"||e==="r")return e}function hF(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function ux(e,...t){if(FN(e))return e;for(const s of t){const n=s.axis||hF(s.position)||e.length>1&&FN(e[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function zN(e,t,s){if(s[t+"AxisID"]===e)return{axis:t}}function fF(e,t){if(t.data&&t.data.datasets){const s=t.data.datasets.filter(n=>n.xAxisID===e||n.yAxisID===e);if(s.length)return zN(e,"x",s[0])||zN(e,"y",s[0])}return{}}function mF(e,t){const s=qo[e.type]||{scales:{}},n=t.scales||{},i=dx(e.type,t),l=Object.create(null);return Object.keys(n).forEach(c=>{const u=n[c];if(!Xt(u))return console.error(`Invalid scale configuration for scale: ${c}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const h=ux(c,u,fF(c,e),Ls.scales[u.type]),f=uF(h,i),g=s.scales||{};l[c]=Id(Object.create(null),[{axis:h},u,g[h],g[f]])}),e.data.datasets.forEach(c=>{const u=c.type||e.type,h=c.indexAxis||dx(u,t),g=(qo[u]||{}).scales||{};Object.keys(g).forEach(p=>{const b=dF(p,h),y=c[b+"AxisID"]||b;l[y]=l[y]||Object.create(null),Id(l[y],[{axis:b},n[y],g[p]])})}),Object.keys(l).forEach(c=>{const u=l[c];Id(u,[Ls.scales[u.type],Ls.scale])}),l}function XS(e){const t=e.options||(e.options={});t.plugins=ns(t.plugins,{}),t.scales=mF(e,t)}function KS(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function gF(e){return e=e||{},e.data=KS(e.data),XS(e),e}const UN=new Map,QS=new Set;function cf(e,t){let s=UN.get(e);return s||(s=t(),UN.set(e,s),QS.add(s)),s}const Od=(e,t,s)=>{const n=Vf(t,s);n!==void 0&&e.add(n)};class pF{constructor(t){this._config=gF(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=KS(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),XS(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return cf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,s){return cf(`${t}.transition.${s}`,()=>[[`datasets.${t}.transitions.${s}`,`transitions.${s}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,s){return cf(`${t}-${s}`,()=>[[`datasets.${t}.elements.${s}`,`datasets.${t}`,`elements.${s}`,""]])}pluginScopeKeys(t){const s=t.id,n=this.type;return cf(`${n}-plugin-${s}`,()=>[[`plugins.${s}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,s){const n=this._scopeCache;let i=n.get(t);return(!i||s)&&(i=new Map,n.set(t,i)),i}getOptionScopes(t,s,n){const{options:i,type:l}=this,c=this._cachedScopes(t,n),u=c.get(s);if(u)return u;const h=new Set;s.forEach(g=>{t&&(h.add(t),g.forEach(p=>Od(h,t,p))),g.forEach(p=>Od(h,i,p)),g.forEach(p=>Od(h,qo[l]||{},p)),g.forEach(p=>Od(h,Ls,p)),g.forEach(p=>Od(h,cx,p))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),QS.has(s)&&c.set(s,f),f}chartOptionScopes(){const{options:t,type:s}=this;return[t,qo[s]||{},Ls.datasets[s]||{},{type:s},Ls,cx]}resolveNamedOptions(t,s,n,i=[""]){const l={$shared:!0},{resolver:c,subPrefixes:u}=HN(this._resolverCache,t,i);let h=c;if(yF(c,s)){l.$shared=!1,n=Gi(n)?n():n;const f=this.createResolver(t,n,u);h=uc(c,n,f)}for(const f of s)l[f]=h[f];return l}createResolver(t,s,n=[""],i){const{resolver:l}=HN(this._resolverCache,t,n);return Xt(s)?uc(l,s,void 0,i):l}}function HN(e,t,s){let n=e.get(t);n||(n=new Map,e.set(t,n));const i=s.join();let l=n.get(i);return l||(l={resolver:Sy(t,s),subPrefixes:s.filter(u=>!u.toLowerCase().includes("hover"))},n.set(i,l)),l}const xF=e=>Xt(e)&&Object.getOwnPropertyNames(e).some(t=>Gi(e[t]));function yF(e,t){const{isScriptable:s,isIndexable:n}=LS(e);for(const i of t){const l=s(i),c=n(i),u=(c||l)&&e[i];if(l&&(Gi(u)||xF(u))||c&&an(u))return!0}return!1}var bF="4.5.0";const vF=["top","bottom","left","right","chartArea"];function $N(e,t){return e==="top"||e==="bottom"||vF.indexOf(e)===-1&&t==="x"}function VN(e,t){return function(s,n){return s[e]===n[e]?s[t]-n[t]:s[e]-n[e]}}function IN(e){const t=e.chart,s=t.options.animation;t.notifyPlugins("afterRender"),xs(s&&s.onComplete,[e],t)}function wF(e){const t=e.chart,s=t.options.animation;xs(s&&s.onProgress,[e],t)}function ZS(e){return Ey()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Af={},qN=e=>{const t=ZS(e);return Object.values(Af).filter(s=>s.canvas===t).pop()};function jF(e,t,s){const n=Object.keys(e);for(const i of n){const l=+i;if(l>=t){const c=e[i];delete e[i],(s>0||l>t)&&(e[l+s]=c)}}}function NF(e,t,s,n){return!s||e.type==="mouseout"?null:n?t:e}class rr{static register(...t){nr.add(...t),WN()}static unregister(...t){nr.remove(...t),WN()}constructor(t,s){const n=this.config=new pF(s),i=ZS(t),l=qN(i);if(l)throw new Error("Canvas is already in use. Chart with ID '"+l.id+"' must be destroyed before the canvas with ID '"+l.canvas.id+"' can be reused.");const c=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||H8(i)),this.platform.updateConfig(n);const u=this.platform.acquireContext(i,c.aspectRatio),h=u&&u.canvas,f=h&&h.height,g=h&&h.width;if(this.id=KL(),this.ctx=u,this.canvas=h,this.width=g,this.height=f,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new rF,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=gB(p=>this.update(p),c.resizeDelay||0),this._dataChanges=[],Af[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Vr.listen(this,"complete",IN),Vr.listen(this,"progress",wF),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:s},width:n,height:i,_aspectRatio:l}=this;return Ns(t)?s&&l?l:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return nr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():vN(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return pN(this.canvas,this.ctx),this}stop(){return Vr.stop(this),this}resize(t,s){Vr.running(this)?this._resizeBeforeDraw={width:t,height:s}:this._resize(t,s)}_resize(t,s){const n=this.options,i=this.canvas,l=n.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(i,t,s,l),u=n.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,vN(this,u,!0)&&(this.notifyPlugins("resize",{size:c}),xs(n.onResize,[this,c],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};ss(s,(n,i)=>{n.id=i})}buildOrUpdateScales(){const t=this.options,s=t.scales,n=this.scales,i=Object.keys(n).reduce((c,u)=>(c[u]=!1,c),{});let l=[];s&&(l=l.concat(Object.keys(s).map(c=>{const u=s[c],h=ux(c,u),f=h==="r",g=h==="x";return{options:u,dposition:f?"chartArea":g?"bottom":"left",dtype:f?"radialLinear":g?"category":"linear"}}))),ss(l,c=>{const u=c.options,h=u.id,f=ux(h,u),g=ns(u.type,c.dtype);(u.position===void 0||$N(u.position,f)!==$N(c.dposition))&&(u.position=c.dposition),i[h]=!0;let p=null;if(h in n&&n[h].type===g)p=n[h];else{const b=nr.getScale(g);p=new b({id:h,type:g,ctx:this.ctx,chart:this}),n[p.id]=p}p.init(u,t)}),ss(i,(c,u)=>{c||delete n[u]}),ss(n,c=>{Na.configure(this,c,c.options),Na.addBox(this,c)})}_updateMetasets(){const t=this._metasets,s=this.data.datasets.length,n=t.length;if(t.sort((i,l)=>i.index-l.index),n>s){for(let i=s;i<n;++i)this._destroyDatasetMeta(i);t.splice(s,n-s)}this._sortedMetasets=t.slice(0).sort(VN("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:s}}=this;t.length>s.length&&delete this._stacks,t.forEach((n,i)=>{s.filter(l=>l===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],s=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=s.length;n<i;n++){const l=s[n];let c=this.getDatasetMeta(n);const u=l.type||this.config.type;if(c.type&&c.type!==u&&(this._destroyDatasetMeta(n),c=this.getDatasetMeta(n)),c.type=u,c.indexAxis=l.indexAxis||dx(u,this.options),c.order=l.order||0,c.index=n,c.label=""+l.label,c.visible=this.isDatasetVisible(n),c.controller)c.controller.updateIndex(n),c.controller.linkScales();else{const h=nr.getController(u),{datasetElementType:f,dataElementType:g}=Ls.datasets[u];Object.assign(h,{dataElementType:nr.getElement(g),datasetElementType:f&&nr.getElement(f)}),c.controller=new h(this,n),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){ss(this.data.datasets,(t,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const s=this.config;s.update();const n=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const l=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let f=0,g=this.data.datasets.length;f<g;f++){const{controller:p}=this.getDatasetMeta(f),b=!i&&l.indexOf(p)===-1;p.buildOrUpdateElements(b),c=Math.max(+p.getMaxOverflow(),c)}c=this._minPadding=n.layout.autoPadding?c:0,this._updateLayout(c),i||ss(l,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(VN("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){ss(this.scales,t=>{Na.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,s=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!iN(s,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,s=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:l}of s){const c=n==="_removeElements"?-l:l;jF(t,i,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const s=this.data.datasets.length,n=l=>new Set(t.filter(c=>c[0]===l).map((c,u)=>u+","+c.splice(1).join(","))),i=n(0);for(let l=1;l<s;l++)if(!iN(i,n(l)))return;return Array.from(i).map(l=>l.split(",")).map(l=>({method:l[1],start:+l[2],count:+l[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Na.update(this,this.width,this.height,t);const s=this.chartArea,n=s.width<=0||s.height<=0;this._layers=[],ss(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,l)=>{i._idx=l}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let s=0,n=this.data.datasets.length;s<n;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,n=this.data.datasets.length;s<n;++s)this._updateDataset(s,Gi(t)?t({datasetIndex:s}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,s){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(s),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Vr.has(this)?this.attached&&!Vr.running(this)&&Vr.start(this):(this.draw(),IN({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(t=0;t<s.length&&s[t].z<=0;++t)s[t].draw(this.chartArea);for(this._drawDatasets();t<s.length;++t)s[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const s=this._sortedMetasets,n=[];let i,l;for(i=0,l=s.length;i<l;++i){const c=s[i];(!t||c.visible)&&n.push(c)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let s=t.length-1;s>=0;--s)this._drawDataset(t[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const s=this.ctx,n={meta:t,index:t.index,cancelable:!0},i=e8(this,t);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(i&&Ny(s,i),t.controller.draw(),i&&_y(s),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(t){return RS(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,s,n,i){const l=v8.modes[s];return typeof l=="function"?l(this,t,n,i):[]}getDatasetMeta(t){const s=this.data.datasets[t],n=this._metasets;let i=n.filter(l=>l&&l._dataset===s).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:t,_dataset:s,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=jc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const s=this.data.datasets[t];if(!s)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!s.hidden}setDatasetVisibility(t,s){const n=this.getDatasetMeta(t);n.hidden=!s}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,s,n){const i=n?"show":"hide",l=this.getDatasetMeta(t),c=l.controller._resolveAnimations(void 0,i);If(s)?(l.data[s].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),c.update(l,{visible:n}),this.update(u=>u.datasetIndex===t?i:void 0))}hide(t,s){this._updateVisibility(t,s,!1)}show(t,s){this._updateVisibility(t,s,!0)}_destroyDatasetMeta(t){const s=this._metasets[t];s&&s.controller&&s.controller._destroy(),delete this._metasets[t]}_stop(){let t,s;for(this.stop(),Vr.remove(this),t=0,s=this.data.datasets.length;t<s;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:s}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),pN(t,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete Af[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,s=this.platform,n=(l,c)=>{s.addEventListener(this,l,c),t[l]=c},i=(l,c,u)=>{l.offsetX=c,l.offsetY=u,this._eventHandler(l)};ss(this.options.events,l=>n(l,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,s=this.platform,n=(h,f)=>{s.addEventListener(this,h,f),t[h]=f},i=(h,f)=>{t[h]&&(s.removeEventListener(this,h,f),delete t[h])},l=(h,f)=>{this.canvas&&this.resize(h,f)};let c;const u=()=>{i("attach",u),this.attached=!0,this.resize(),n("resize",l),n("detach",c)};c=()=>{this.attached=!1,i("resize",l),this._stop(),this._resize(0,0),n("attach",u)},s.isAttached(this.canvas)?u():c()}unbindEvents(){ss(this._listeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._listeners={},ss(this._responsiveListeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,s,n){const i=n?"set":"remove";let l,c,u,h;for(s==="dataset"&&(l=this.getDatasetMeta(t[0].datasetIndex),l.controller["_"+i+"DatasetHoverStyle"]()),u=0,h=t.length;u<h;++u){c=t[u];const f=c&&this.getDatasetMeta(c.datasetIndex).controller;f&&f[i+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const s=this._active||[],n=t.map(({datasetIndex:l,index:c})=>{const u=this.getDatasetMeta(l);if(!u)throw new Error("No dataset found at index "+l);return{datasetIndex:l,element:u.data[c],index:c}});!Hf(n,s)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,s))}notifyPlugins(t,s,n){return this._plugins.notify(this,t,s,n)}isPluginEnabled(t){return this._plugins._cache.filter(s=>s.plugin.id===t).length===1}_updateHoverStyles(t,s,n){const i=this.options.hover,l=(h,f)=>h.filter(g=>!f.some(p=>g.datasetIndex===p.datasetIndex&&g.index===p.index)),c=l(s,t),u=n?t:l(t,s);c.length&&this.updateHoverStyle(c,i.mode,!1),u.length&&i.mode&&this.updateHoverStyle(u,i.mode,!0)}_eventHandler(t,s){const n={event:t,replay:s,cancelable:!0,inChartArea:this.isPointInArea(t)},i=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const l=this._handleEvent(t,s,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(l||n.changed)&&this.render(),this}_handleEvent(t,s,n){const{_active:i=[],options:l}=this,c=s,u=this._getActiveElements(t,i,n,c),h=sB(t),f=NF(t,this._lastEvent,n,h);n&&(this._lastEvent=null,xs(l.onHover,[t,u,this],this),h&&xs(l.onClick,[t,u,this],this));const g=!Hf(u,i);return(g||s)&&(this._active=u,this._updateHoverStyles(u,i,s)),this._lastEvent=f,g}_getActiveElements(t,s,n,i){if(t.type==="mouseout")return[];if(!n)return s;const l=this.options.hover;return this.getElementsAtEventForMode(t,l.mode,l,i)}}St(rr,"defaults",Ls),St(rr,"instances",Af),St(rr,"overrides",qo),St(rr,"registry",nr),St(rr,"version",bF),St(rr,"getChart",qN);function WN(){return ss(rr.instances,e=>e._plugins.invalidate())}function _F(e,t,s){const{startAngle:n,x:i,y:l,outerRadius:c,innerRadius:u,options:h}=t,{borderWidth:f,borderJoinStyle:g}=h,p=Math.min(f/c,ar(n-s));if(e.beginPath(),e.arc(i,l,c-f/2,n+p/2,s-p/2),u>0){const b=Math.min(f/u,ar(n-s));e.arc(i,l,u+f/2,s-b/2,n+b/2,!0)}else{const b=Math.min(f/2,c*ar(n-s));if(g==="round")e.arc(i,l,b,s-ys/2,n+ys/2,!0);else if(g==="bevel"){const y=2*b*b,j=-y*Math.cos(s+ys/2)+i,v=-y*Math.sin(s+ys/2)+l,_=y*Math.cos(n+ys/2)+i,T=y*Math.sin(n+ys/2)+l;e.lineTo(j,v),e.lineTo(_,T)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function TF(e,t,s){const{startAngle:n,pixelMargin:i,x:l,y:c,outerRadius:u,innerRadius:h}=t;let f=i/u;e.beginPath(),e.arc(l,c,u,n-f,s+f),h>i?(f=i/h,e.arc(l,c,h,s+f,n-f,!0)):e.arc(l,c,i,s+un,n-un),e.closePath(),e.clip()}function SF(e){return Ty(e,["outerStart","outerEnd","innerStart","innerEnd"])}function kF(e,t,s,n){const i=SF(e.options.borderRadius),l=(s-t)/2,c=Math.min(l,n*t/2),u=h=>{const f=(s-Math.min(l,h))*n/2;return In(h,0,Math.min(l,f))};return{outerStart:u(i.outerStart),outerEnd:u(i.outerEnd),innerStart:In(i.innerStart,0,c),innerEnd:In(i.innerEnd,0,c)}}function $l(e,t,s,n){return{x:s+e*Math.cos(t),y:n+e*Math.sin(t)}}function Qf(e,t,s,n,i,l){const{x:c,y:u,startAngle:h,pixelMargin:f,innerRadius:g}=t,p=Math.max(t.outerRadius+n+s-f,0),b=g>0?g+n+s+f:0;let y=0;const j=i-h;if(n){const Y=g>0?g-n:0,$=p>0?p-n:0,J=(Y+$)/2,se=J!==0?j*J/(J+n):j;y=(j-se)/2}const v=Math.max(.001,j*p-s/ys)/p,_=(j-v)/2,T=h+_+y,O=i-_-y,{outerStart:S,outerEnd:C,innerStart:D,innerEnd:E}=kF(t,b,p,O-T),L=p-S,F=p-C,R=T+S/L,K=O-C/F,W=b+D,Q=b+E,H=T+D/W,q=O-E/Q;if(e.beginPath(),l){const Y=(R+K)/2;if(e.arc(c,u,p,R,Y),e.arc(c,u,p,Y,K),C>0){const Ne=$l(F,K,c,u);e.arc(Ne.x,Ne.y,C,K,O+un)}const $=$l(Q,O,c,u);if(e.lineTo($.x,$.y),E>0){const Ne=$l(Q,q,c,u);e.arc(Ne.x,Ne.y,E,O+un,q+Math.PI)}const J=(O-E/b+(T+D/b))/2;if(e.arc(c,u,b,O-E/b,J,!0),e.arc(c,u,b,J,T+D/b,!0),D>0){const Ne=$l(W,H,c,u);e.arc(Ne.x,Ne.y,D,H+Math.PI,T-un)}const se=$l(L,T,c,u);if(e.lineTo(se.x,se.y),S>0){const Ne=$l(L,R,c,u);e.arc(Ne.x,Ne.y,S,T-un,R)}}else{e.moveTo(c,u);const Y=Math.cos(R)*p+c,$=Math.sin(R)*p+u;e.lineTo(Y,$);const J=Math.cos(K)*p+c,se=Math.sin(K)*p+u;e.lineTo(J,se)}e.closePath()}function CF(e,t,s,n,i){const{fullCircles:l,startAngle:c,circumference:u}=t;let h=t.endAngle;if(l){Qf(e,t,s,n,h,i);for(let f=0;f<l;++f)e.fill();isNaN(u)||(h=c+(u%Dn||Dn))}return Qf(e,t,s,n,h,i),e.fill(),h}function EF(e,t,s,n,i){const{fullCircles:l,startAngle:c,circumference:u,options:h}=t,{borderWidth:f,borderJoinStyle:g,borderDash:p,borderDashOffset:b,borderRadius:y}=h,j=h.borderAlign==="inner";if(!f)return;e.setLineDash(p||[]),e.lineDashOffset=b,j?(e.lineWidth=f*2,e.lineJoin=g||"round"):(e.lineWidth=f,e.lineJoin=g||"bevel");let v=t.endAngle;if(l){Qf(e,t,s,n,v,i);for(let _=0;_<l;++_)e.stroke();isNaN(u)||(v=c+(u%Dn||Dn))}j&&TF(e,t,v),h.selfJoin&&v-c>=ys&&y===0&&g!=="miter"&&_F(e,t,v),l||(Qf(e,t,s,n,v,i),e.stroke())}class $d extends Ko{constructor(s){super();St(this,"circumference");St(this,"endAngle");St(this,"fullCircles");St(this,"innerRadius");St(this,"outerRadius");St(this,"pixelMargin");St(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,n,i){const l=this.getProps(["x","y"],i),{angle:c,distance:u}=TS(l,{x:s,y:n}),{startAngle:h,endAngle:f,innerRadius:g,outerRadius:p,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),y=(this.options.spacing+this.options.borderWidth)/2,j=ns(b,f-h),v=SS(c,h,f)&&h!==f,_=j>=Dn||v,T=Uo(u,g+y,p+y);return _&&T}getCenterPoint(s){const{x:n,y:i,startAngle:l,endAngle:c,innerRadius:u,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:f,spacing:g}=this.options,p=(l+c)/2,b=(u+h+g+f)/2;return{x:n+Math.cos(p)*b,y:i+Math.sin(p)*b}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:n,circumference:i}=this,l=(n.offset||0)/4,c=(n.spacing||0)/2,u=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>Dn?Math.floor(i/Dn):0,i===0||this.innerRadius<0||this.outerRadius<0)return;s.save();const h=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(h)*l,Math.sin(h)*l);const f=1-Math.sin(Math.min(ys,i||0)),g=l*f;s.fillStyle=n.backgroundColor,s.strokeStyle=n.borderColor,CF(s,this,g,c,u),EF(s,this,g,c,u),s.restore()}}St($d,"id","arc"),St($d,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),St($d,"defaultRoutes",{backgroundColor:"backgroundColor"}),St($d,"descriptors",{_scriptable:!0,_indexable:s=>s!=="borderDash"});function JS(e,t){const{x:s,y:n,base:i,width:l,height:c}=e.getProps(["x","y","base","width","height"],t);let u,h,f,g,p;return e.horizontal?(p=c/2,u=Math.min(s,i),h=Math.max(s,i),f=n-p,g=n+p):(p=l/2,u=s-p,h=s+p,f=Math.min(n,i),g=Math.max(n,i)),{left:u,top:f,right:h,bottom:g}}function Pi(e,t,s,n){return e?0:In(t,s,n)}function DF(e,t,s){const n=e.options.borderWidth,i=e.borderSkipped,l=PS(n);return{t:Pi(i.top,l.top,0,s),r:Pi(i.right,l.right,0,t),b:Pi(i.bottom,l.bottom,0,s),l:Pi(i.left,l.left,0,t)}}function AF(e,t,s){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,l=sc(i),c=Math.min(t,s),u=e.borderSkipped,h=n||Xt(i);return{topLeft:Pi(!h||u.top||u.left,l.topLeft,0,c),topRight:Pi(!h||u.top||u.right,l.topRight,0,c),bottomLeft:Pi(!h||u.bottom||u.left,l.bottomLeft,0,c),bottomRight:Pi(!h||u.bottom||u.right,l.bottomRight,0,c)}}function OF(e){const t=JS(e),s=t.right-t.left,n=t.bottom-t.top,i=DF(e,s/2,n/2),l=AF(e,s/2,n/2);return{outer:{x:t.left,y:t.top,w:s,h:n,radius:l},inner:{x:t.left+i.l,y:t.top+i.t,w:s-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,l.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,l.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,l.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,l.bottomRight-Math.max(i.b,i.r))}}}}function b0(e,t,s,n){const i=t===null,l=s===null,u=e&&!(i&&l)&&JS(e,n);return u&&(i||Uo(t,u.left,u.right))&&(l||Uo(s,u.top,u.bottom))}function MF(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function RF(e,t){e.rect(t.x,t.y,t.w,t.h)}function v0(e,t,s={}){const n=e.x!==s.x?-t:0,i=e.y!==s.y?-t:0,l=(e.x+e.w!==s.x+s.w?t:0)-n,c=(e.y+e.h!==s.y+s.h?t:0)-i;return{x:e.x+n,y:e.y+i,w:e.w+l,h:e.h+c,radius:e.radius}}class ac extends Ko{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:s,options:{borderColor:n,backgroundColor:i}}=this,{inner:l,outer:c}=OF(this),u=MF(c.radius)?Gf:RF;t.save(),(c.w!==l.w||c.h!==l.h)&&(t.beginPath(),u(t,v0(c,s,l)),t.clip(),u(t,v0(l,-s,c)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),u(t,v0(l,s)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,s,n){return b0(this,t,s,n)}inXRange(t,s){return b0(this,t,null,s)}inYRange(t,s){return b0(this,null,t,s)}getCenterPoint(t){const{x:s,y:n,base:i,horizontal:l}=this.getProps(["x","y","base","horizontal"],t);return{x:l?(s+i)/2:s,y:l?n:(n+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}St(ac,"id","bar"),St(ac,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),St(ac,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const YN=(e,t)=>{let{boxHeight:s=t,boxWidth:n=t}=e;return e.usePointStyle&&(s=Math.min(s,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(t,s)}},PF=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class GN extends Ko{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s,n){this.maxWidth=t,this.maxHeight=s,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let s=xs(t.generateLabels,[this.chart],this)||[];t.filter&&(s=s.filter(n=>t.filter(n,this.chart.data))),t.sort&&(s=s.sort((n,i)=>t.sort(n,i,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:t,ctx:s}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,i=_n(n.font),l=i.size,c=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=YN(n,l);let f,g;s.font=i.string,this.isHorizontal()?(f=this.maxWidth,g=this._fitRows(c,l,u,h)+10):(g=this.maxHeight,f=this._fitCols(c,i,u,h)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(g,t.maxHeight||this.maxHeight)}_fitRows(t,s,n,i){const{ctx:l,maxWidth:c,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],g=i+u;let p=t;l.textAlign="left",l.textBaseline="middle";let b=-1,y=-g;return this.legendItems.forEach((j,v)=>{const _=n+s/2+l.measureText(j.text).width;(v===0||f[f.length-1]+_+2*u>c)&&(p+=g,f[f.length-(v>0?0:1)]=0,y+=g,b++),h[v]={left:0,top:y,row:b,width:_,height:i},f[f.length-1]+=_+u}),p}_fitCols(t,s,n,i){const{ctx:l,maxHeight:c,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],g=c-t;let p=u,b=0,y=0,j=0,v=0;return this.legendItems.forEach((_,T)=>{const{itemWidth:O,itemHeight:S}=LF(n,s,l,_,i);T>0&&y+S+2*u>g&&(p+=b+u,f.push({width:b,height:y}),j+=b+u,v++,b=y=0),h[T]={left:j,top:y,col:v,width:O,height:S},b=Math.max(b,O),y+=S+u}),p+=b,f.push({width:b,height:y}),p}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:n,labels:{padding:i},rtl:l}}=this,c=nc(l,this.left,this.width);if(this.isHorizontal()){let u=0,h=jn(n,this.left+i,this.right-this.lineWidths[u]);for(const f of s)u!==f.row&&(u=f.row,h=jn(n,this.left+i,this.right-this.lineWidths[u])),f.top+=this.top+t+i,f.left=c.leftForLtr(c.x(h),f.width),h+=f.width+i}else{let u=0,h=jn(n,this.top+t+i,this.bottom-this.columnSizes[u].height);for(const f of s)f.col!==u&&(u=f.col,h=jn(n,this.top+t+i,this.bottom-this.columnSizes[u].height)),f.top=h,f.left+=this.left+i,f.left=c.leftForLtr(c.x(f.left),f.width),h+=f.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Ny(t,this),this._draw(),_y(t)}}_draw(){const{options:t,columnSizes:s,lineWidths:n,ctx:i}=this,{align:l,labels:c}=t,u=Ls.color,h=nc(t.rtl,this.left,this.width),f=_n(c.font),{padding:g}=c,p=f.size,b=p/2;let y;this.drawTitle(),i.textAlign=h.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=f.string;const{boxWidth:j,boxHeight:v,itemHeight:_}=YN(c,p),T=function(E,L,F){if(isNaN(j)||j<=0||isNaN(v)||v<0)return;i.save();const R=ns(F.lineWidth,1);if(i.fillStyle=ns(F.fillStyle,u),i.lineCap=ns(F.lineCap,"butt"),i.lineDashOffset=ns(F.lineDashOffset,0),i.lineJoin=ns(F.lineJoin,"miter"),i.lineWidth=R,i.strokeStyle=ns(F.strokeStyle,u),i.setLineDash(ns(F.lineDash,[])),c.usePointStyle){const K={radius:v*Math.SQRT2/2,pointStyle:F.pointStyle,rotation:F.rotation,borderWidth:R},W=h.xPlus(E,j/2),Q=L+b;MS(i,K,W,Q,c.pointStyleWidth&&j)}else{const K=L+Math.max((p-v)/2,0),W=h.leftForLtr(E,j),Q=sc(F.borderRadius);i.beginPath(),Object.values(Q).some(H=>H!==0)?Gf(i,{x:W,y:K,w:j,h:v,radius:Q}):i.rect(W,K,j,v),i.fill(),R!==0&&i.stroke()}i.restore()},O=function(E,L,F){ou(i,F.text,E,L+_/2,f,{strikethrough:F.hidden,textAlign:h.textAlign(F.textAlign)})},S=this.isHorizontal(),C=this._computeTitleHeight();S?y={x:jn(l,this.left+g,this.right-n[0]),y:this.top+g+C,line:0}:y={x:this.left+g,y:jn(l,this.top+C+g,this.bottom-s[0].height),line:0},US(this.ctx,t.textDirection);const D=_+g;this.legendItems.forEach((E,L)=>{i.strokeStyle=E.fontColor,i.fillStyle=E.fontColor;const F=i.measureText(E.text).width,R=h.textAlign(E.textAlign||(E.textAlign=c.textAlign)),K=j+b+F;let W=y.x,Q=y.y;h.setWidth(this.width),S?L>0&&W+K+g>this.right&&(Q=y.y+=D,y.line++,W=y.x=jn(l,this.left+g,this.right-n[y.line])):L>0&&Q+D>this.bottom&&(W=y.x=W+s[y.line].width+g,y.line++,Q=y.y=jn(l,this.top+C+g,this.bottom-s[y.line].height));const H=h.x(W);if(T(H,Q,E),W=pB(R,W+j+b,S?W+K:this.right,t.rtl),O(h.x(W),Q,E),S)y.x+=K+g;else if(typeof E.text!="string"){const q=f.lineHeight;y.y+=ek(E,q)+g}else y.y+=D}),HS(this.ctx,t.textDirection)}drawTitle(){const t=this.options,s=t.title,n=_n(s.font),i=Sa(s.padding);if(!s.display)return;const l=nc(t.rtl,this.left,this.width),c=this.ctx,u=s.position,h=n.size/2,f=i.top+h;let g,p=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),g=this.top+f,p=jn(t.align,p,this.right-b);else{const j=this.columnSizes.reduce((v,_)=>Math.max(v,_.height),0);g=f+jn(t.align,this.top,this.bottom-j-t.labels.padding-this._computeTitleHeight())}const y=jn(u,p,p+b);c.textAlign=l.textAlign(jy(u)),c.textBaseline="middle",c.strokeStyle=s.color,c.fillStyle=s.color,c.font=n.string,ou(c,s.text,y,g,n)}_computeTitleHeight(){const t=this.options.title,s=_n(t.font),n=Sa(t.padding);return t.display?s.lineHeight+n.height:0}_getLegendItemAt(t,s){let n,i,l;if(Uo(t,this.left,this.right)&&Uo(s,this.top,this.bottom)){for(l=this.legendHitBoxes,n=0;n<l.length;++n)if(i=l[n],Uo(t,i.left,i.left+i.width)&&Uo(s,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(t){const s=this.options;if(!zF(t.type,s))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,l=PF(i,n);i&&!l&&xs(s.onLeave,[t,i,this],this),this._hoveredItem=n,n&&!l&&xs(s.onHover,[t,n,this],this)}else n&&xs(s.onClick,[t,n,this],this)}}function LF(e,t,s,n,i){const l=BF(n,e,t,s),c=FF(i,n,t.lineHeight);return{itemWidth:l,itemHeight:c}}function BF(e,t,s,n){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((l,c)=>l.length>c.length?l:c)),t+s.size/2+n.measureText(i).width}function FF(e,t,s){let n=e;return typeof t.text!="string"&&(n=ek(t,s)),n}function ek(e,t){const s=e.text?e.text.length:0;return t*s}function zF(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var Oy={id:"legend",_element:GN,start(e,t,s){const n=e.legend=new GN({ctx:e.ctx,options:s,chart:e});Na.configure(e,n,s),Na.addBox(e,n)},stop(e){Na.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,s){const n=e.legend;Na.configure(e,n,s),n.options=s},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,s){const n=t.datasetIndex,i=s.chart;i.isDatasetVisible(n)?(i.hide(n),t.hidden=!0):(i.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:i,color:l,useBorderRadius:c,borderRadius:u}}=e.legend.options;return e._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(s?0:void 0),g=Sa(f.borderWidth);return{text:t[h.index].label,fillStyle:f.backgroundColor,fontColor:l,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:f.borderColor,pointStyle:n||f.pointStyle,rotation:f.rotation,textAlign:i||f.textAlign,borderRadius:c&&(u||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};let tk=class extends Ko{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=s;const i=an(n.text)?n.text.length:1;this._padding=Sa(n.padding);const l=i*_n(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=l:this.width=l}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:s,left:n,bottom:i,right:l,options:c}=this,u=c.align;let h=0,f,g,p;return this.isHorizontal()?(g=jn(u,n,l),p=s+t,f=l-n):(c.position==="left"?(g=n+t,p=jn(u,i,s),h=ys*-.5):(g=l-t,p=jn(u,s,i),h=ys*.5),f=i-s),{titleX:g,titleY:p,maxWidth:f,rotation:h}}draw(){const t=this.ctx,s=this.options;if(!s.display)return;const n=_n(s.font),l=n.lineHeight/2+this._padding.top,{titleX:c,titleY:u,maxWidth:h,rotation:f}=this._drawArgs(l);ou(t,s.text,0,0,n,{color:s.color,maxWidth:h,rotation:f,textAlign:jy(s.align),textBaseline:"middle",translation:[c,u]})}};function UF(e,t){const s=new tk({ctx:e.ctx,options:t,chart:e});Na.configure(e,s,t),Na.addBox(e,s),e.titleBlock=s}var My={id:"title",_element:tk,start(e,t,s){UF(e,s)},stop(e){const t=e.titleBlock;Na.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,s){const n=e.titleBlock;Na.configure(e,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Vd={average(e){if(!e.length)return!1;let t,s,n=new Set,i=0,l=0;for(t=0,s=e.length;t<s;++t){const u=e[t].element;if(u&&u.hasValue()){const h=u.tooltipPosition();n.add(h.x),i+=h.y,++l}}return l===0||n.size===0?!1:{x:[...n].reduce((u,h)=>u+h)/n.size,y:i/l}},nearest(e,t){if(!e.length)return!1;let s=t.x,n=t.y,i=Number.POSITIVE_INFINITY,l,c,u;for(l=0,c=e.length;l<c;++l){const h=e[l].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),g=cB(t,f);g<i&&(i=g,u=h)}}if(u){const h=u.tooltipPosition();s=h.x,n=h.y}return{x:s,y:n}}};function sr(e,t){return t&&(an(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Ir(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function HF(e,t){const{element:s,datasetIndex:n,index:i}=t,l=e.getDatasetMeta(n).controller,{label:c,value:u}=l.getLabelAndValue(i);return{chart:e,label:c,parsed:l.getParsed(i),raw:e.data.datasets[n].data[i],formattedValue:u,dataset:l.getDataset(),dataIndex:i,datasetIndex:n,element:s}}function XN(e,t){const s=e.chart.ctx,{body:n,footer:i,title:l}=e,{boxWidth:c,boxHeight:u}=t,h=_n(t.bodyFont),f=_n(t.titleFont),g=_n(t.footerFont),p=l.length,b=i.length,y=n.length,j=Sa(t.padding);let v=j.height,_=0,T=n.reduce((C,D)=>C+D.before.length+D.lines.length+D.after.length,0);if(T+=e.beforeBody.length+e.afterBody.length,p&&(v+=p*f.lineHeight+(p-1)*t.titleSpacing+t.titleMarginBottom),T){const C=t.displayColors?Math.max(u,h.lineHeight):h.lineHeight;v+=y*C+(T-y)*h.lineHeight+(T-1)*t.bodySpacing}b&&(v+=t.footerMarginTop+b*g.lineHeight+(b-1)*t.footerSpacing);let O=0;const S=function(C){_=Math.max(_,s.measureText(C).width+O)};return s.save(),s.font=f.string,ss(e.title,S),s.font=h.string,ss(e.beforeBody.concat(e.afterBody),S),O=t.displayColors?c+2+t.boxPadding:0,ss(n,C=>{ss(C.before,S),ss(C.lines,S),ss(C.after,S)}),O=0,s.font=g.string,ss(e.footer,S),s.restore(),_+=j.width,{width:_,height:v}}function $F(e,t){const{y:s,height:n}=t;return s<n/2?"top":s>e.height-n/2?"bottom":"center"}function VF(e,t,s,n){const{x:i,width:l}=n,c=s.caretSize+s.caretPadding;if(e==="left"&&i+l+c>t.width||e==="right"&&i-l-c<0)return!0}function IF(e,t,s,n){const{x:i,width:l}=s,{width:c,chartArea:{left:u,right:h}}=e;let f="center";return n==="center"?f=i<=(u+h)/2?"left":"right":i<=l/2?f="left":i>=c-l/2&&(f="right"),VF(f,e,t,s)&&(f="center"),f}function KN(e,t,s){const n=s.yAlign||t.yAlign||$F(e,s);return{xAlign:s.xAlign||t.xAlign||IF(e,t,s,n),yAlign:n}}function qF(e,t){let{x:s,width:n}=e;return t==="right"?s-=n:t==="center"&&(s-=n/2),s}function WF(e,t,s){let{y:n,height:i}=e;return t==="top"?n+=s:t==="bottom"?n-=i+s:n-=i/2,n}function QN(e,t,s,n){const{caretSize:i,caretPadding:l,cornerRadius:c}=e,{xAlign:u,yAlign:h}=s,f=i+l,{topLeft:g,topRight:p,bottomLeft:b,bottomRight:y}=sc(c);let j=qF(t,u);const v=WF(t,h,f);return h==="center"?u==="left"?j+=f:u==="right"&&(j-=f):u==="left"?j-=Math.max(g,b)+i:u==="right"&&(j+=Math.max(p,y)+i),{x:In(j,0,n.width-t.width),y:In(v,0,n.height-t.height)}}function df(e,t,s){const n=Sa(s.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-n.right:e.x+n.left}function ZN(e){return sr([],Ir(e))}function YF(e,t,s){return jc(e,{tooltip:t,tooltipItems:s,type:"tooltip"})}function JN(e,t){const s=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return s?e.override(s):e}const sk={beforeTitle:Hr,title(e){if(e.length>0){const t=e[0],s=t.chart.data.labels,n=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return s[t.dataIndex]}return""},afterTitle:Hr,beforeBody:Hr,beforeLabel:Hr,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const s=e.formattedValue;return Ns(s)||(t+=s),t},labelColor(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:Hr,afterBody:Hr,beforeFooter:Hr,footer:Hr,afterFooter:Hr};function zn(e,t,s,n){const i=e[t].call(s,n);return typeof i=="undefined"?sk[t].call(s,n):i}class hx extends Ko{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const s=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&s.options.animation&&n.animations,l=new $S(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(l)),l}getContext(){return this.$context||(this.$context=YF(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,s){const{callbacks:n}=s,i=zn(n,"beforeTitle",this,t),l=zn(n,"title",this,t),c=zn(n,"afterTitle",this,t);let u=[];return u=sr(u,Ir(i)),u=sr(u,Ir(l)),u=sr(u,Ir(c)),u}getBeforeBody(t,s){return ZN(zn(s.callbacks,"beforeBody",this,t))}getBody(t,s){const{callbacks:n}=s,i=[];return ss(t,l=>{const c={before:[],lines:[],after:[]},u=JN(n,l);sr(c.before,Ir(zn(u,"beforeLabel",this,l))),sr(c.lines,zn(u,"label",this,l)),sr(c.after,Ir(zn(u,"afterLabel",this,l))),i.push(c)}),i}getAfterBody(t,s){return ZN(zn(s.callbacks,"afterBody",this,t))}getFooter(t,s){const{callbacks:n}=s,i=zn(n,"beforeFooter",this,t),l=zn(n,"footer",this,t),c=zn(n,"afterFooter",this,t);let u=[];return u=sr(u,Ir(i)),u=sr(u,Ir(l)),u=sr(u,Ir(c)),u}_createItems(t){const s=this._active,n=this.chart.data,i=[],l=[],c=[];let u=[],h,f;for(h=0,f=s.length;h<f;++h)u.push(HF(this.chart,s[h]));return t.filter&&(u=u.filter((g,p,b)=>t.filter(g,p,b,n))),t.itemSort&&(u=u.sort((g,p)=>t.itemSort(g,p,n))),ss(u,g=>{const p=JN(t.callbacks,g);i.push(zn(p,"labelColor",this,g)),l.push(zn(p,"labelPointStyle",this,g)),c.push(zn(p,"labelTextColor",this,g))}),this.labelColors=i,this.labelPointStyles=l,this.labelTextColors=c,this.dataPoints=u,u}update(t,s){const n=this.options.setContext(this.getContext()),i=this._active;let l,c=[];if(!i.length)this.opacity!==0&&(l={opacity:0});else{const u=Vd[n.position].call(this,i,this._eventPosition);c=this._createItems(n),this.title=this.getTitle(c,n),this.beforeBody=this.getBeforeBody(c,n),this.body=this.getBody(c,n),this.afterBody=this.getAfterBody(c,n),this.footer=this.getFooter(c,n);const h=this._size=XN(this,n),f=Object.assign({},u,h),g=KN(this.chart,n,f),p=QN(n,f,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,l={opacity:1,x:p.x,y:p.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=c,this.$context=void 0,l&&this._resolveAnimations().update(this,l),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(t,s,n,i){const l=this.getCaretPosition(t,n,i);s.lineTo(l.x1,l.y1),s.lineTo(l.x2,l.y2),s.lineTo(l.x3,l.y3)}getCaretPosition(t,s,n){const{xAlign:i,yAlign:l}=this,{caretSize:c,cornerRadius:u}=n,{topLeft:h,topRight:f,bottomLeft:g,bottomRight:p}=sc(u),{x:b,y}=t,{width:j,height:v}=s;let _,T,O,S,C,D;return l==="center"?(C=y+v/2,i==="left"?(_=b,T=_-c,S=C+c,D=C-c):(_=b+j,T=_+c,S=C-c,D=C+c),O=_):(i==="left"?T=b+Math.max(h,g)+c:i==="right"?T=b+j-Math.max(f,p)-c:T=this.caretX,l==="top"?(S=y,C=S-c,_=T-c,O=T+c):(S=y+v,C=S+c,_=T+c,O=T-c),D=S),{x1:_,x2:T,x3:O,y1:S,y2:C,y3:D}}drawTitle(t,s,n){const i=this.title,l=i.length;let c,u,h;if(l){const f=nc(n.rtl,this.x,this.width);for(t.x=df(this,n.titleAlign,n),s.textAlign=f.textAlign(n.titleAlign),s.textBaseline="middle",c=_n(n.titleFont),u=n.titleSpacing,s.fillStyle=n.titleColor,s.font=c.string,h=0;h<l;++h)s.fillText(i[h],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+u,h+1===l&&(t.y+=n.titleMarginBottom-u)}}_drawColorBox(t,s,n,i,l){const c=this.labelColors[n],u=this.labelPointStyles[n],{boxHeight:h,boxWidth:f}=l,g=_n(l.bodyFont),p=df(this,"left",l),b=i.x(p),y=h<g.lineHeight?(g.lineHeight-h)/2:0,j=s.y+y;if(l.usePointStyle){const v={radius:Math.min(f,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},_=i.leftForLtr(b,f)+f/2,T=j+h/2;t.strokeStyle=l.multiKeyBackground,t.fillStyle=l.multiKeyBackground,xN(t,v,_,T),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,xN(t,v,_,T)}else{t.lineWidth=Xt(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const v=i.leftForLtr(b,f),_=i.leftForLtr(i.xPlus(b,1),f-2),T=sc(c.borderRadius);Object.values(T).some(O=>O!==0)?(t.beginPath(),t.fillStyle=l.multiKeyBackground,Gf(t,{x:v,y:j,w:f,h,radius:T}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),Gf(t,{x:_,y:j+1,w:f-2,h:h-2,radius:T}),t.fill()):(t.fillStyle=l.multiKeyBackground,t.fillRect(v,j,f,h),t.strokeRect(v,j,f,h),t.fillStyle=c.backgroundColor,t.fillRect(_,j+1,f-2,h-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,s,n){const{body:i}=this,{bodySpacing:l,bodyAlign:c,displayColors:u,boxHeight:h,boxWidth:f,boxPadding:g}=n,p=_n(n.bodyFont);let b=p.lineHeight,y=0;const j=nc(n.rtl,this.x,this.width),v=function(F){s.fillText(F,j.x(t.x+y),t.y+b/2),t.y+=b+l},_=j.textAlign(c);let T,O,S,C,D,E,L;for(s.textAlign=c,s.textBaseline="middle",s.font=p.string,t.x=df(this,_,n),s.fillStyle=n.bodyColor,ss(this.beforeBody,v),y=u&&_!=="right"?c==="center"?f/2+g:f+2+g:0,C=0,E=i.length;C<E;++C){for(T=i[C],O=this.labelTextColors[C],s.fillStyle=O,ss(T.before,v),S=T.lines,u&&S.length&&(this._drawColorBox(s,t,C,j,n),b=Math.max(p.lineHeight,h)),D=0,L=S.length;D<L;++D)v(S[D]),b=p.lineHeight;ss(T.after,v)}y=0,b=p.lineHeight,ss(this.afterBody,v),t.y-=l}drawFooter(t,s,n){const i=this.footer,l=i.length;let c,u;if(l){const h=nc(n.rtl,this.x,this.width);for(t.x=df(this,n.footerAlign,n),t.y+=n.footerMarginTop,s.textAlign=h.textAlign(n.footerAlign),s.textBaseline="middle",c=_n(n.footerFont),s.fillStyle=n.footerColor,s.font=c.string,u=0;u<l;++u)s.fillText(i[u],h.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+n.footerSpacing}}drawBackground(t,s,n,i){const{xAlign:l,yAlign:c}=this,{x:u,y:h}=t,{width:f,height:g}=n,{topLeft:p,topRight:b,bottomLeft:y,bottomRight:j}=sc(i.cornerRadius);s.fillStyle=i.backgroundColor,s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.beginPath(),s.moveTo(u+p,h),c==="top"&&this.drawCaret(t,s,n,i),s.lineTo(u+f-b,h),s.quadraticCurveTo(u+f,h,u+f,h+b),c==="center"&&l==="right"&&this.drawCaret(t,s,n,i),s.lineTo(u+f,h+g-j),s.quadraticCurveTo(u+f,h+g,u+f-j,h+g),c==="bottom"&&this.drawCaret(t,s,n,i),s.lineTo(u+y,h+g),s.quadraticCurveTo(u,h+g,u,h+g-y),c==="center"&&l==="left"&&this.drawCaret(t,s,n,i),s.lineTo(u,h+p),s.quadraticCurveTo(u,h,u+p,h),s.closePath(),s.fill(),i.borderWidth>0&&s.stroke()}_updateAnimationTarget(t){const s=this.chart,n=this.$animations,i=n&&n.x,l=n&&n.y;if(i||l){const c=Vd[t.position].call(this,this._active,this._eventPosition);if(!c)return;const u=this._size=XN(this,t),h=Object.assign({},c,this._size),f=KN(s,t,h),g=QN(t,h,f,s);(i._to!==g.x||l._to!==g.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(t){const s=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(s);const i={width:this.width,height:this.height},l={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const c=Sa(s.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&u&&(t.save(),t.globalAlpha=n,this.drawBackground(l,t,i,s),US(t,s.textDirection),l.y+=c.top,this.drawTitle(l,t,s),this.drawBody(l,t,s),this.drawFooter(l,t,s),HS(t,s.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,s){const n=this._active,i=t.map(({datasetIndex:u,index:h})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[h],index:h}}),l=!Hf(n,i),c=this._positionChanged(i,s);(l||c)&&(this._active=i,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,s,n=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,l=this._active||[],c=this._getActiveElements(t,l,s,n),u=this._positionChanged(c,t),h=s||!Hf(c,l)||u;return h&&(this._active=c,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,s))),h}_getActiveElements(t,s,n,i){const l=this.options;if(t.type==="mouseout")return[];if(!i)return s.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,l.mode,l,n);return l.reverse&&c.reverse(),c}_positionChanged(t,s){const{caretX:n,caretY:i,options:l}=this,c=Vd[l.position].call(this,t,s);return c!==!1&&(n!==c.x||i!==c.y)}}St(hx,"positioners",Vd);var Ry={id:"tooltip",_element:hx,positioners:Vd,afterInit(e,t,s){s&&(e.tooltip=new hx({chart:e,options:s}))},beforeUpdate(e,t,s){e.tooltip&&e.tooltip.initialize(s)},reset(e,t,s){e.tooltip&&e.tooltip.initialize(s)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const s={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",oe(z({},s),{cancelable:!0}))===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",s)}},afterEvent(e,t){if(e.tooltip){const s=t.replay;e.tooltip.handleEvent(t.event,s,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:sk},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const GF=(e,t,s,n)=>(typeof t=="string"?(s=e.push(t)-1,n.unshift({index:s,label:t})):isNaN(t)&&(s=null),s);function XF(e,t,s,n){const i=e.indexOf(t);if(i===-1)return GF(e,t,s,n);const l=e.lastIndexOf(t);return i!==l?s:i}const KF=(e,t)=>e===null?null:In(Math.round(e),0,t);function e2(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class cu extends Nc{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const s=this._addedLabels;if(s.length){const n=this.getLabels();for(const{index:i,label:l}of s)n[i]===l&&n.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,s){if(Ns(t))return null;const n=this.getLabels();return s=isFinite(s)&&n[s]===t?s:XF(n,t,ns(s,t),this._addedLabels),KF(s,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),s||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,s=this.max,n=this.options.offset,i=[];let l=this.getLabels();l=t===0&&s===l.length-1?l:l.slice(t,s+1),this._valueRange=Math.max(l.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let c=t;c<=s;c++)i.push({value:c});return i}getLabelForValue(t){return e2.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}St(cu,"id","category"),St(cu,"defaults",{ticks:{callback:e2}});function QF(e,t){const s=[],{bounds:i,step:l,min:c,max:u,precision:h,count:f,maxTicks:g,maxDigits:p,includeBounds:b}=e,y=l||1,j=g-1,{min:v,max:_}=t,T=!Ns(c),O=!Ns(u),S=!Ns(f),C=(_-v)/(p+1);let D=lN((_-v)/j/y)*y,E,L,F,R;if(D<1e-14&&!T&&!O)return[{value:v},{value:_}];R=Math.ceil(_/D)-Math.floor(v/D),R>j&&(D=lN(R*D/j/y)*y),Ns(h)||(E=Math.pow(10,h),D=Math.ceil(D*E)/E),i==="ticks"?(L=Math.floor(v/D)*D,F=Math.ceil(_/D)*D):(L=v,F=_),T&&O&&l&&iB((u-c)/l,D/1e3)?(R=Math.round(Math.min((u-c)/D,g)),D=(u-c)/R,L=c,F=u):S?(L=T?c:L,F=O?u:F,R=f-1,D=(F-L)/R):(R=(F-L)/D,Cf(R,Math.round(R),D/1e3)?R=Math.round(R):R=Math.ceil(R));const K=Math.max(cN(D),cN(L));E=Math.pow(10,Ns(h)?K:h),L=Math.round(L*E)/E,F=Math.round(F*E)/E;let W=0;for(T&&(b&&L!==c?(s.push({value:c}),L<c&&W++,Cf(Math.round((L+W*D)*E)/E,c,t2(c,C,e))&&W++):L<c&&W++);W<R;++W){const Q=Math.round((L+W*D)*E)/E;if(O&&Q>u)break;s.push({value:Q})}return O&&b&&F!==u?s.length&&Cf(s[s.length-1].value,u,t2(u,C,e))?s[s.length-1].value=u:s.push({value:u}):(!O||F===u)&&s.push({value:F}),s}function t2(e,t,{horizontal:s,minRotation:n}){const i=zo(n),l=(s?Math.sin(i):Math.cos(i))||.001,c=.75*t*(""+e).length;return Math.min(t/l,c)}class ZF extends Nc{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,s){return Ns(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:s,maxDefined:n}=this.getUserBounds();let{min:i,max:l}=this;const c=h=>i=s?i:h,u=h=>l=n?l:h;if(t){const h=Wf(i),f=Wf(l);h<0&&f<0?u(0):h>0&&f>0&&c(0)}if(i===l){let h=l===0?1:Math.abs(l*.05);u(l+h),t||c(i-h)}this.min=i,this.max=l}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:s,stepSize:n}=t,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),s=s||11),s&&(i=Math.min(s,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,s=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},l=this._range||this,c=QF(i,l);return t.bounds==="ticks"&&oB(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let s=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-s)/Math.max(t.length-1,1)/2;s-=i,n+=i}this._startValue=s,this._endValue=n,this._valueRange=n-s}getLabelForValue(t){return AS(t,this.chart.options.locale,this.options.ticks.format)}}class du extends ZF{determineDataLimits(){const{min:t,max:s}=this.getMinMax(!0);this.min=Ta(t)?t:0,this.max=Ta(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),s=t?this.width:this.height,n=zo(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,l=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,l.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}St(du,"id","linear"),St(du,"defaults",{ticks:{callback:OS.formatters.numeric}});const Tm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Vn=Object.keys(Tm);function s2(e,t){return e-t}function n2(e,t){if(Ns(t))return null;const s=e._adapter,{parser:n,round:i,isoWeekday:l}=e._parseOpts;let c=t;return typeof n=="function"&&(c=n(c)),Ta(c)||(c=typeof n=="string"?s.parse(c,n):s.parse(c)),c===null?null:(i&&(c=i==="week"&&(Yf(l)||l===!0)?s.startOf(c,"isoWeek",l):s.startOf(c,i)),+c)}function a2(e,t,s,n){const i=Vn.length;for(let l=Vn.indexOf(e);l<i-1;++l){const c=Tm[Vn[l]],u=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((s-t)/(u*c.size))<=n)return Vn[l]}return Vn[i-1]}function JF(e,t,s,n,i){for(let l=Vn.length-1;l>=Vn.indexOf(s);l--){const c=Vn[l];if(Tm[c].common&&e._adapter.diff(i,n,c)>=t-1)return c}return Vn[s?Vn.indexOf(s):0]}function e7(e){for(let t=Vn.indexOf(e)+1,s=Vn.length;t<s;++t)if(Tm[Vn[t]].common)return Vn[t]}function r2(e,t,s){if(!s)e[t]=!0;else if(s.length){const{lo:n,hi:i}=wy(s,t),l=s[n]>=t?s[n]:s[i];e[l]=!0}}function t7(e,t,s,n){const i=e._adapter,l=+i.startOf(t[0].value,n),c=t[t.length-1].value;let u,h;for(u=l;u<=c;u=+i.add(u,1,n))h=s[u],h>=0&&(t[h].major=!0);return t}function i2(e,t,s){const n=[],i={},l=t.length;let c,u;for(c=0;c<l;++c)u=t[c],i[u]=c,n.push({value:u,major:!1});return l===0||!s?n:t7(e,n,i,s)}class Zf extends Nc{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,s={}){const n=t.time||(t.time={}),i=this._adapter=new g8._date(t.adapters.date);i.init(s),Id(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=s.normalized}parse(t,s){return t===void 0?null:n2(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,s=this._adapter,n=t.time.unit||"day";let{min:i,max:l,minDefined:c,maxDefined:u}=this.getUserBounds();function h(f){!c&&!isNaN(f.min)&&(i=Math.min(i,f.min)),!u&&!isNaN(f.max)&&(l=Math.max(l,f.max))}(!c||!u)&&(h(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&h(this.getMinMax(!1))),i=Ta(i)&&!isNaN(i)?i:+s.startOf(Date.now(),n),l=Ta(l)&&!isNaN(l)?l:+s.endOf(Date.now(),n)+1,this.min=Math.min(i,l-1),this.max=Math.max(i+1,l)}_getLabelBounds(){const t=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(s=t[0],n=t[t.length-1]),{min:s,max:n}}buildTicks(){const t=this.options,s=t.time,n=t.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const l=this.min,c=this.max,u=hB(i,l,c);return this._unit=s.unit||(n.autoSkip?a2(s.minUnit,this.min,this.max,this._getLabelCapacity(l)):JF(this,u.length,s.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:e7(this._unit),this.initOffsets(i),t.reverse&&u.reverse(),i2(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let s=0,n=0,i,l;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?s=1-i:s=(this.getDecimalForValue(t[1])-i)/2,l=this.getDecimalForValue(t[t.length-1]),t.length===1?n=l:n=(l-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;s=In(s,0,c),n=In(n,0,c),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const t=this._adapter,s=this.min,n=this.max,i=this.options,l=i.time,c=l.unit||a2(l.minUnit,s,n,this._getLabelCapacity(s)),u=ns(i.ticks.stepSize,1),h=c==="week"?l.isoWeekday:!1,f=Yf(h)||h===!0,g={};let p=s,b,y;if(f&&(p=+t.startOf(p,"isoWeek",h)),p=+t.startOf(p,f?"day":c),t.diff(n,s,c)>1e5*u)throw new Error(s+" and "+n+" are too far apart with stepSize of "+u+" "+c);const j=i.ticks.source==="data"&&this.getDataTimestamps();for(b=p,y=0;b<n;b=+t.add(b,u,c),y++)r2(g,b,j);return(b===n||i.bounds==="ticks"||y===1)&&r2(g,b,j),Object.keys(g).sort(s2).map(v=>+v)}getLabelForValue(t){const s=this._adapter,n=this.options.time;return n.tooltipFormat?s.format(t,n.tooltipFormat):s.format(t,n.displayFormats.datetime)}format(t,s){const i=this.options.time.displayFormats,l=this._unit,c=s||i[l];return this._adapter.format(t,c)}_tickFormatFunction(t,s,n,i){const l=this.options,c=l.ticks.callback;if(c)return xs(c,[t,s,n],this);const u=l.time.displayFormats,h=this._unit,f=this._majorUnit,g=h&&u[h],p=f&&u[f],b=n[s],y=f&&p&&b&&b.major;return this._adapter.format(t,i||(y?p:g))}generateTickLabels(t){let s,n,i;for(s=0,n=t.length;s<n;++s)i=t[s],i.label=this._tickFormatFunction(i.value,s,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const s=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((s.start+n)*s.factor)}getValueForPixel(t){const s=this._offsets,n=this.getDecimalForPixel(t)/s.factor-s.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const s=this.options.ticks,n=this.ctx.measureText(t).width,i=zo(this.isHorizontal()?s.maxRotation:s.minRotation),l=Math.cos(i),c=Math.sin(i),u=this._resolveTickFontOptions(0).size;return{w:n*l+u*c,h:n*c+u*l}}_getLabelCapacity(t){const s=this.options.time,n=s.displayFormats,i=n[s.unit]||n.millisecond,l=this._tickFormatFunction(t,0,i2(this,[t],this._majorUnit),i),c=this._getLabelSize(l),u=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],s,n;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(s=0,n=i.length;s<n;++s)t=t.concat(i[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let s,n;if(t.length)return t;const i=this.getLabels();for(s=0,n=i.length;s<n;++s)t.push(n2(this,i[s]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return mB(t.sort(s2))}}St(Zf,"id","time"),St(Zf,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function uf(e,t,s){let n=0,i=e.length-1,l,c,u,h;s?(t>=e[n].pos&&t<=e[i].pos&&({lo:n,hi:i}=lx(e,"pos",t)),{pos:l,time:u}=e[n],{pos:c,time:h}=e[i]):(t>=e[n].time&&t<=e[i].time&&({lo:n,hi:i}=lx(e,"time",t)),{time:l,pos:u}=e[n],{time:c,pos:h}=e[i]);const f=c-l;return f?u+(h-u)*(t-l)/f:u}class o2 extends Zf{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(t);this._minPos=uf(s,this.min),this._tableRange=uf(s,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:s,max:n}=this,i=[],l=[];let c,u,h,f,g;for(c=0,u=t.length;c<u;++c)f=t[c],f>=s&&f<=n&&i.push(f);if(i.length<2)return[{time:s,pos:0},{time:n,pos:1}];for(c=0,u=i.length;c<u;++c)g=i[c+1],h=i[c-1],f=i[c],Math.round((g+h)/2)!==f&&l.push({time:f,pos:c/(u-1)});return l}_generate(){const t=this.min,s=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(s)||n.length===1)&&n.push(s),n.sort((i,l)=>i-l)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const s=this.getDataTimestamps(),n=this.getLabelTimestamps();return s.length&&n.length?t=this.normalize(s.concat(n)):t=s.length?s:n,t=this._cache.all=t,t}getDecimalForValue(t){return(uf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const s=this._offsets,n=this.getDecimalForPixel(t)/s.factor-s.end;return uf(this._table,n*this._tableRange+this._minPos,!0)}}St(o2,"id","timeseries"),St(o2,"defaults",Zf.defaults);rr.register(cu,du,ac,$d,My,Ry,Oy);const hc=({className:e=""})=>a.jsx("div",{className:`inline-block animate-spin rounded-full border-4 border-gray-200 border-t-blue-600 h-6 w-6 ${e}`}),s7=()=>{const{allProjects:e,filteredData:t,selectedProject:s,selectedTeam:n,setSelectedProject:i,setSelectedTeam:l,isLoading:c}=aL();return c?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx(hc,{className:"h-12 w-12 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Đang tải dữ liệu..."})]})}):a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-800 text-center flex-1",children:"Bảng điều khiển quản lý dự án"}),a.jsx(NL,{projects:e,selectedProject:s,selectedTeam:n,onProjectChange:i,onTeamChange:l})]}),a.jsx(TL,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:s}),a.jsx(kL,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:s}),a.jsx(SL,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:s})]})})},Ai=e=>e==null?"N/A":new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0}).format(e),l2=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,c2=WT,n7=(e,t)=>s=>{var n;if((t==null?void 0:t.variants)==null)return c2(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:i,defaultVariants:l}=t,c=Object.keys(i).map(f=>{const g=s==null?void 0:s[f],p=l==null?void 0:l[f];if(g===null)return null;const b=l2(g)||l2(p);return i[f][b]}),u=s&&Object.entries(s).reduce((f,g)=>{let[p,b]=g;return b===void 0||(f[p]=b),f},{}),h=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((f,g)=>{let j=g,{class:p,className:b}=j,y=$e(j,["class","className"]);return Object.entries(y).every(v=>{let[_,T]=v;return Array.isArray(T)?T.includes(z(z({},l),u)[_]):z(z({},l),u)[_]===T})?[...f,p,b]:f},[]);return c2(e,c,h,s==null?void 0:s.class,s==null?void 0:s.className)},a7=n7("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Qe(l){var c=l,{className:e,variant:t,size:s,asChild:n=!1}=c,i=$e(c,["className","variant","size","asChild"]);const u=n?I5:"button";return a.jsx(u,z({"data-slot":"button",className:rn(a7({variant:t,size:s,className:e}))},i))}function zt(n){var i=n,{className:e,type:t}=i,s=$e(i,["className","type"]);return a.jsx("input",z({type:t,"data-slot":"input",className:rn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e)},s))}var r7="Label",nk=N.forwardRef((e,t)=>a.jsx(Zt.label,oe(z({},e),{ref:t,onMouseDown:s=>{var i;s.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}})));nk.displayName=r7;var i7=nk;function Ie(s){var n=s,{className:e}=n,t=$e(n,["className"]);return a.jsx(i7,z({"data-slot":"label",className:rn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e)},t))}var Sm="Dialog",[ak,c$]=fm(Sm),[o7,Va]=ak(Sm),rk=e=>{const{__scopeDialog:t,children:s,open:n,defaultOpen:i,onOpenChange:l,modal:c=!0}=e,u=N.useRef(null),h=N.useRef(null),[f,g]=oy({prop:n,defaultProp:i!=null?i:!1,onChange:l,caller:Sm});return a.jsx(o7,{scope:t,triggerRef:u,contentRef:h,contentId:na(),titleId:na(),descriptionId:na(),open:f,onOpenChange:g,onOpenToggle:N.useCallback(()=>g(p=>!p),[g]),modal:c,children:s})};rk.displayName=Sm;var ik="DialogTrigger",ok=N.forwardRef((e,t)=>{const c=e,{__scopeDialog:s}=c,n=$e(c,["__scopeDialog"]),i=Va(ik,s),l=pn(t,i.triggerRef);return a.jsx(Zt.button,oe(z({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":By(i.open)},n),{ref:l,onClick:sa(e.onClick,i.onOpenToggle)}))});ok.displayName=ik;var Py="DialogPortal",[l7,lk]=ak(Py,{forceMount:void 0}),ck=e=>{const{__scopeDialog:t,forceMount:s,children:n,container:i}=e,l=Va(Py,t);return a.jsx(l7,{scope:t,forceMount:s,children:N.Children.map(n,c=>a.jsx(yc,{present:s||l.open,children:a.jsx(ym,{asChild:!0,container:i,children:c})}))})};ck.displayName=Py;var Jf="DialogOverlay",dk=N.forwardRef((e,t)=>{const s=lk(Jf,e.__scopeDialog),c=e,{forceMount:n=s.forceMount}=c,i=$e(c,["forceMount"]),l=Va(Jf,e.__scopeDialog);return l.modal?a.jsx(yc,{present:n||l.open,children:a.jsx(d7,oe(z({},i),{ref:t}))}):null});dk.displayName=Jf;var c7=xu("DialogOverlay.RemoveScroll"),d7=N.forwardRef((e,t)=>{const l=e,{__scopeDialog:s}=l,n=$e(l,["__scopeDialog"]),i=Va(Jf,s);return a.jsx(vm,{as:c7,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(Zt.div,oe(z({"data-state":By(i.open)},n),{ref:t,style:z({pointerEvents:"auto"},n.style)}))})}),Wo="DialogContent",uk=N.forwardRef((e,t)=>{const s=lk(Wo,e.__scopeDialog),c=e,{forceMount:n=s.forceMount}=c,i=$e(c,["forceMount"]),l=Va(Wo,e.__scopeDialog);return a.jsx(yc,{present:n||l.open,children:l.modal?a.jsx(u7,oe(z({},i),{ref:t})):a.jsx(h7,oe(z({},i),{ref:t}))})});uk.displayName=Wo;var u7=N.forwardRef((e,t)=>{const s=Va(Wo,e.__scopeDialog),n=N.useRef(null),i=pn(t,s.contentRef,n);return N.useEffect(()=>{const l=n.current;if(l)return ly(l)},[]),a.jsx(hk,oe(z({},e),{ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:sa(e.onCloseAutoFocus,l=>{var c;l.preventDefault(),(c=s.triggerRef.current)==null||c.focus()}),onPointerDownOutside:sa(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&l.preventDefault()}),onFocusOutside:sa(e.onFocusOutside,l=>l.preventDefault())}))}),h7=N.forwardRef((e,t)=>{const s=Va(Wo,e.__scopeDialog),n=N.useRef(!1),i=N.useRef(!1);return a.jsx(hk,oe(z({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,u;(c=e.onCloseAutoFocus)==null||c.call(e,l),l.defaultPrevented||(n.current||(u=s.triggerRef.current)==null||u.focus(),l.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:l=>{var h,f;(h=e.onInteractOutside)==null||h.call(e,l),l.defaultPrevented||(n.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=l.target;((f=s.triggerRef.current)==null?void 0:f.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}}))}),hk=N.forwardRef((e,t)=>{const g=e,{__scopeDialog:s,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:l}=g,c=$e(g,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),u=Va(Wo,s),h=N.useRef(null),f=pn(t,h);return sT(),a.jsxs(a.Fragment,{children:[a.jsx(mm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:l,children:a.jsx(Qx,oe(z({role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":By(u.open)},c),{ref:f,onDismiss:()=>u.onOpenChange(!1)}))}),a.jsxs(a.Fragment,{children:[a.jsx(f7,{titleId:u.titleId}),a.jsx(g7,{contentRef:h,descriptionId:u.descriptionId})]})]})}),Ly="DialogTitle",fk=N.forwardRef((e,t)=>{const l=e,{__scopeDialog:s}=l,n=$e(l,["__scopeDialog"]),i=Va(Ly,s);return a.jsx(Zt.h2,oe(z({id:i.titleId},n),{ref:t}))});fk.displayName=Ly;var mk="DialogDescription",gk=N.forwardRef((e,t)=>{const l=e,{__scopeDialog:s}=l,n=$e(l,["__scopeDialog"]),i=Va(mk,s);return a.jsx(Zt.p,oe(z({id:i.descriptionId},n),{ref:t}))});gk.displayName=mk;var pk="DialogClose",xk=N.forwardRef((e,t)=>{const l=e,{__scopeDialog:s}=l,n=$e(l,["__scopeDialog"]),i=Va(pk,s);return a.jsx(Zt.button,oe(z({type:"button"},n),{ref:t,onClick:sa(e.onClick,()=>i.onOpenChange(!1))}))});xk.displayName=pk;function By(e){return e?"open":"closed"}var yk="DialogTitleWarning",[d$,bk]=Q_(yk,{contentName:Wo,titleName:Ly,docsSlug:"dialog"}),f7=({titleId:e})=>{const t=bk(yk),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return N.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},m7="DialogDescriptionWarning",g7=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${bk(m7).contentName}}.`;return N.useEffect(()=>{var l;const i=(l=e.current)==null?void 0:l.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},p7=rk,x7=ok,y7=ck,b7=dk,v7=uk,w7=fk,j7=gk,vk=xk;function hn(t){var e=$e(t,[]);return a.jsx(p7,z({"data-slot":"dialog"},e))}function N7(t){var e=$e(t,[]);return a.jsx(x7,z({"data-slot":"dialog-trigger"},e))}function _7(t){var e=$e(t,[]);return a.jsx(y7,z({"data-slot":"dialog-portal"},e))}function T7(t){var e=$e(t,[]);return a.jsx(vk,z({"data-slot":"dialog-close"},e))}function S7(s){var n=s,{className:e}=n,t=$e(n,["className"]);return a.jsx(b7,z({"data-slot":"dialog-overlay",className:rn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-[9998] bg-black/50",e)},t))}function fn(i){var l=i,{className:e,children:t,showCloseButton:s=!0}=l,n=$e(l,["className","children","showCloseButton"]);return a.jsxs(_7,{"data-slot":"dialog-portal",children:[a.jsx(S7,{}),a.jsxs(v7,oe(z({"data-slot":"dialog-content",className:rn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-[9999] grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e)},n),{children:[t,s&&a.jsxs(vk,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[a.jsx(H5,{}),a.jsx("span",{className:"sr-only",children:"Close"})]})]}))]})}function mn(s){var n=s,{className:e}=n,t=$e(n,["className"]);return a.jsx("div",z({"data-slot":"dialog-header",className:rn("flex flex-col gap-2 text-center sm:text-left",e)},t))}function An(s){var n=s,{className:e}=n,t=$e(n,["className"]);return a.jsx("div",z({"data-slot":"dialog-footer",className:rn("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e)},t))}function gn(s){var n=s,{className:e}=n,t=$e(n,["className"]);return a.jsx(w7,z({"data-slot":"dialog-title",className:rn("text-lg leading-none font-semibold",e)},t))}function ju(s){var n=s,{className:e}=n,t=$e(n,["className"]);return a.jsx(j7,z({"data-slot":"dialog-description",className:rn("text-muted-foreground text-sm",e)},t))}var Nu=e=>e.type==="checkbox",Ho=e=>e instanceof Date,kn=e=>e==null;const wk=e=>typeof e=="object";var Bs=e=>!kn(e)&&!Array.isArray(e)&&wk(e)&&!Ho(e),jk=e=>Bs(e)&&e.target?Nu(e.target)?e.target.checked:e.target.value:e,k7=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Nk=(e,t)=>e.has(k7(t)),C7=e=>{const t=e.constructor&&e.constructor.prototype;return Bs(t)&&t.hasOwnProperty("isPrototypeOf")},Fy=typeof window!="undefined"&&typeof window.HTMLElement!="undefined"&&typeof document!="undefined";function Ks(e){let t;const s=Array.isArray(e),n=typeof FileList!="undefined"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Fy&&(e instanceof Blob||n))&&(s||Bs(e)))if(t=s?[]:Object.create(Object.getPrototypeOf(e)),!s&&!C7(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=Ks(e[i]));else return e;return t}var km=e=>/^\w*$/.test(e),Ps=e=>e===void 0,zy=e=>Array.isArray(e)?e.filter(Boolean):[],Uy=e=>zy(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Je=(e,t,s)=>{if(!t||!Bs(e))return s;const n=(km(t)?[t]:Uy(t)).reduce((i,l)=>kn(i)?i:i[l],e);return Ps(n)||n===e?Ps(e[t])?s:e[t]:n},ea=e=>typeof e=="boolean",ps=(e,t,s)=>{let n=-1;const i=km(t)?[t]:Uy(t),l=i.length,c=l-1;for(;++n<l;){const u=i[n];let h=s;if(n!==c){const f=e[u];h=Bs(f)||Array.isArray(f)?f:isNaN(+i[n+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;e[u]=h,e=e[u]}};const em={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Fa={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},$r={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},_k=ye.createContext(null);_k.displayName="HookFormContext";const Hy=()=>ye.useContext(_k);var Tk=(e,t,s,n=!0)=>{const i={defaultValues:t._defaultValues};for(const l in e)Object.defineProperty(i,l,{get:()=>{const c=l;return t._proxyFormState[c]!==Fa.all&&(t._proxyFormState[c]=!n||Fa.all),s&&(s[c]=!0),e[c]}});return i};const $y=typeof window!="undefined"?ye.useLayoutEffect:ye.useEffect;function E7(e){const t=Hy(),{control:s=t.control,disabled:n,name:i,exact:l}=e||{},[c,u]=ye.useState(s._formState),h=ye.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return $y(()=>s._subscribe({name:i,formState:h.current,exact:l,callback:f=>{!n&&u(z(z({},s._formState),f))}}),[i,n,l]),ye.useEffect(()=>{h.current.isValid&&s._setValid(!0)},[s]),ye.useMemo(()=>Tk(c,s,h.current,!1),[c,s])}var dr=e=>typeof e=="string",Sk=(e,t,s,n,i)=>dr(e)?(n&&t.watch.add(e),Je(s,e,i)):Array.isArray(e)?e.map(l=>(n&&t.watch.add(l),Je(s,l))):(n&&(t.watchAll=!0),s),fx=e=>kn(e)||!wk(e);function Gr(e,t,s=new WeakSet){if(fx(e)||fx(t))return e===t;if(Ho(e)&&Ho(t))return e.getTime()===t.getTime();const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;if(s.has(e)||s.has(t))return!0;s.add(e),s.add(t);for(const l of n){const c=e[l];if(!i.includes(l))return!1;if(l!=="ref"){const u=t[l];if(Ho(c)&&Ho(u)||Bs(c)&&Bs(u)||Array.isArray(c)&&Array.isArray(u)?!Gr(c,u,s):c!==u)return!1}}return!0}function D7(e){const t=Hy(),{control:s=t.control,name:n,defaultValue:i,disabled:l,exact:c,compute:u}=e||{},h=ye.useRef(i),f=ye.useRef(u),g=ye.useRef(void 0);f.current=u;const p=ye.useMemo(()=>s._getWatch(n,h.current),[s,n]),[b,y]=ye.useState(f.current?f.current(p):p);return $y(()=>s._subscribe({name:n,formState:{values:!0},exact:c,callback:j=>{if(!l){const v=Sk(n,s._names,j.values||s._formValues,!1,h.current);if(f.current){const _=f.current(v);Gr(_,g.current)||(y(_),g.current=_)}else y(v)}}}),[s,l,n,c]),ye.useEffect(()=>s._removeUnmounted()),b}function A7(e){const t=Hy(),{name:s,disabled:n,control:i=t.control,shouldUnregister:l,defaultValue:c}=e,u=Nk(i._names.array,s),h=ye.useMemo(()=>Je(i._formValues,s,Je(i._defaultValues,s,c)),[i,s,c]),f=D7({control:i,name:s,defaultValue:h,exact:!0}),g=E7({control:i,name:s,exact:!0}),p=ye.useRef(e),b=ye.useRef(i.register(s,z(oe(z({},e.rules),{value:f}),ea(e.disabled)?{disabled:e.disabled}:{})));p.current=e;const y=ye.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Je(g.errors,s)},isDirty:{enumerable:!0,get:()=>!!Je(g.dirtyFields,s)},isTouched:{enumerable:!0,get:()=>!!Je(g.touchedFields,s)},isValidating:{enumerable:!0,get:()=>!!Je(g.validatingFields,s)},error:{enumerable:!0,get:()=>Je(g.errors,s)}}),[g,s]),j=ye.useCallback(O=>b.current.onChange({target:{value:jk(O),name:s},type:em.CHANGE}),[s]),v=ye.useCallback(()=>b.current.onBlur({target:{value:Je(i._formValues,s),name:s},type:em.BLUR}),[s,i._formValues]),_=ye.useCallback(O=>{const S=Je(i._fields,s);S&&O&&(S._f.ref={focus:()=>O.focus&&O.focus(),select:()=>O.select&&O.select(),setCustomValidity:C=>O.setCustomValidity(C),reportValidity:()=>O.reportValidity()})},[i._fields,s]),T=ye.useMemo(()=>oe(z({name:s,value:f},ea(n)||g.disabled?{disabled:g.disabled||n}:{}),{onChange:j,onBlur:v,ref:_}),[s,n,g.disabled,j,v,_,f]);return ye.useEffect(()=>{const O=i._options.shouldUnregister||l;i.register(s,z(z({},p.current.rules),ea(p.current.disabled)?{disabled:p.current.disabled}:{}));const S=(C,D)=>{const E=Je(i._fields,C);E&&E._f&&(E._f.mount=D)};if(S(s,!0),O){const C=Ks(Je(i._options.defaultValues,s));ps(i._defaultValues,s,C),Ps(Je(i._formValues,s))&&ps(i._formValues,s,C)}return!u&&i.register(s),()=>{(u?O&&!i._state.action:O)?i.unregister(s):S(s,!1)}},[s,i,u,l]),ye.useEffect(()=>{i._setDisabledField({disabled:n,name:s})},[n,s,i]),ye.useMemo(()=>({field:T,formState:g,fieldState:y}),[T,g,y])}const va=e=>e.render(A7(e));var O7=(e,t,s,n,i)=>t?oe(z({},s[e]),{types:oe(z({},s[e]&&s[e].types?s[e].types:{}),{[n]:i||!0})}):{},Yd=e=>Array.isArray(e)?e:[e],d2=()=>{let e=[];return{get observers(){return e},next:i=>{for(const l of e)l.next&&l.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(l=>l!==i)}}),unsubscribe:()=>{e=[]}}},Un=e=>Bs(e)&&!Object.keys(e).length,Vy=e=>e.type==="file",za=e=>typeof e=="function",tm=e=>{if(!Fy)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},kk=e=>e.type==="select-multiple",Iy=e=>e.type==="radio",M7=e=>Iy(e)||Nu(e),w0=e=>tm(e)&&e.isConnected;function R7(e,t){const s=t.slice(0,-1).length;let n=0;for(;n<s;)e=Ps(e)?n++:e[t[n++]];return e}function P7(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ps(e[t]))return!1;return!0}function Hs(e,t){const s=Array.isArray(t)?t:km(t)?[t]:Uy(t),n=s.length===1?e:R7(e,s),i=s.length-1,l=s[i];return n&&delete n[l],i!==0&&(Bs(n)&&Un(n)||Array.isArray(n)&&P7(n))&&Hs(e,s.slice(0,-1)),e}var Ck=e=>{for(const t in e)if(za(e[t]))return!0;return!1};function sm(e,t={}){const s=Array.isArray(e);if(Bs(e)||s)for(const n in e)Array.isArray(e[n])||Bs(e[n])&&!Ck(e[n])?(t[n]=Array.isArray(e[n])?[]:{},sm(e[n],t[n])):kn(e[n])||(t[n]=!0);return t}function Ek(e,t,s){const n=Array.isArray(e);if(Bs(e)||n)for(const i in e)Array.isArray(e[i])||Bs(e[i])&&!Ck(e[i])?Ps(t)||fx(s[i])?s[i]=Array.isArray(e[i])?sm(e[i],[]):z({},sm(e[i])):Ek(e[i],kn(t)?{}:t[i],s[i]):s[i]=!Gr(e[i],t[i]);return s}var Md=(e,t)=>Ek(e,t,sm(t));const u2={value:!1,isValid:!1},h2={value:!0,isValid:!0};var Dk=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ps(e[0].attributes.value)?Ps(e[0].value)||e[0].value===""?h2:{value:e[0].value,isValid:!0}:h2:u2}return u2},Ak=(e,{valueAsNumber:t,valueAsDate:s,setValueAs:n})=>Ps(e)?e:t?e===""?NaN:e&&+e:s&&dr(e)?new Date(e):n?n(e):e;const f2={isValid:!1,value:null};var Ok=e=>Array.isArray(e)?e.reduce((t,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:t,f2):f2;function m2(e){const t=e.ref;return Vy(t)?t.files:Iy(t)?Ok(e.refs).value:kk(t)?[...t.selectedOptions].map(({value:s})=>s):Nu(t)?Dk(e.refs).value:Ak(Ps(t.value)?e.ref.value:t.value,e)}var L7=(e,t,s,n)=>{const i={};for(const l of e){const c=Je(t,l);c&&ps(i,l,c._f)}return{criteriaMode:s,names:[...e],fields:i,shouldUseNativeValidation:n}},nm=e=>e instanceof RegExp,Rd=e=>Ps(e)?e:nm(e)?e.source:Bs(e)?nm(e.value)?e.value.source:e.value:e,g2=e=>({isOnSubmit:!e||e===Fa.onSubmit,isOnBlur:e===Fa.onBlur,isOnChange:e===Fa.onChange,isOnAll:e===Fa.all,isOnTouch:e===Fa.onTouched});const p2="AsyncFunction";var B7=e=>!!e&&!!e.validate&&!!(za(e.validate)&&e.validate.constructor.name===p2||Bs(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===p2)),F7=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),x2=(e,t,s)=>!s&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Gd=(e,t,s,n)=>{for(const l of s||Object.keys(e)){const c=Je(e,l);if(c){const i=c,{_f:u}=i,h=$e(i,["_f"]);if(u){if(u.refs&&u.refs[0]&&t(u.refs[0],l)&&!n)return!0;if(u.ref&&t(u.ref,u.name)&&!n)return!0;if(Gd(h,t))break}else if(Bs(h)&&Gd(h,t))break}}};function y2(e,t,s){const n=Je(e,s);if(n||km(s))return{error:n,name:s};const i=s.split(".");for(;i.length;){const l=i.join("."),c=Je(t,l),u=Je(e,l);if(c&&!Array.isArray(c)&&s!==l)return{name:s};if(u&&u.type)return{name:l,error:u};if(u&&u.root&&u.root.type)return{name:`${l}.root`,error:u.root};i.pop()}return{name:s}}var z7=(e,t,s,n)=>{s(e);const c=e,{name:i}=c,l=$e(c,["name"]);return Un(l)||Object.keys(l).length>=Object.keys(t).length||Object.keys(l).find(u=>t[u]===(!n||Fa.all))},U7=(e,t,s)=>!e||!t||e===t||Yd(e).some(n=>n&&(s?n===t:n.startsWith(t)||t.startsWith(n))),H7=(e,t,s,n,i)=>i.isOnAll?!1:!s&&i.isOnTouch?!(t||e):(s?n.isOnBlur:i.isOnBlur)?!e:(s?n.isOnChange:i.isOnChange)?e:!0,$7=(e,t)=>!zy(Je(e,t)).length&&Hs(e,t),V7=(e,t,s)=>{const n=Yd(Je(e,s));return ps(n,"root",t[s]),ps(e,s,n),e},Of=e=>dr(e);function b2(e,t,s="validate"){if(Of(e)||Array.isArray(e)&&e.every(Of)||ea(e)&&!e)return{type:s,message:Of(e)?e:"",ref:t}}var Vl=e=>Bs(e)&&!nm(e)?e:{value:e,message:""},v2=(e,t,s,n,i,l)=>fe(null,null,function*(){const{ref:c,refs:u,required:h,maxLength:f,minLength:g,min:p,max:b,pattern:y,validate:j,name:v,valueAsNumber:_,mount:T}=e._f,O=Je(s,v);if(!T||t.has(v))return{};const S=u?u[0]:c,C=Q=>{i&&S.reportValidity&&(S.setCustomValidity(ea(Q)?"":Q||""),S.reportValidity())},D={},E=Iy(c),L=Nu(c),F=E||L,R=(_||Vy(c))&&Ps(c.value)&&Ps(O)||tm(c)&&c.value===""||O===""||Array.isArray(O)&&!O.length,K=O7.bind(null,v,n,D),W=(Q,H,q,Y=$r.maxLength,$=$r.minLength)=>{const J=Q?H:q;D[v]=z({type:Q?Y:$,message:J,ref:c},K(Q?Y:$,J))};if(l?!Array.isArray(O)||!O.length:h&&(!F&&(R||kn(O))||ea(O)&&!O||L&&!Dk(u).isValid||E&&!Ok(u).isValid)){const{value:Q,message:H}=Of(h)?{value:!!h,message:h}:Vl(h);if(Q&&(D[v]=z({type:$r.required,message:H,ref:S},K($r.required,H)),!n))return C(H),D}if(!R&&(!kn(p)||!kn(b))){let Q,H;const q=Vl(b),Y=Vl(p);if(!kn(O)&&!isNaN(O)){const $=c.valueAsNumber||O&&+O;kn(q.value)||(Q=$>q.value),kn(Y.value)||(H=$<Y.value)}else{const $=c.valueAsDate||new Date(O),J=P=>new Date(new Date().toDateString()+" "+P),se=c.type=="time",Ne=c.type=="week";dr(q.value)&&O&&(Q=se?J(O)>J(q.value):Ne?O>q.value:$>new Date(q.value)),dr(Y.value)&&O&&(H=se?J(O)<J(Y.value):Ne?O<Y.value:$<new Date(Y.value))}if((Q||H)&&(W(!!Q,q.message,Y.message,$r.max,$r.min),!n))return C(D[v].message),D}if((f||g)&&!R&&(dr(O)||l&&Array.isArray(O))){const Q=Vl(f),H=Vl(g),q=!kn(Q.value)&&O.length>+Q.value,Y=!kn(H.value)&&O.length<+H.value;if((q||Y)&&(W(q,Q.message,H.message),!n))return C(D[v].message),D}if(y&&!R&&dr(O)){const{value:Q,message:H}=Vl(y);if(nm(Q)&&!O.match(Q)&&(D[v]=z({type:$r.pattern,message:H,ref:c},K($r.pattern,H)),!n))return C(H),D}if(j){if(za(j)){const Q=yield j(O,s),H=b2(Q,S);if(H&&(D[v]=z(z({},H),K($r.validate,H.message)),!n))return C(H.message),D}else if(Bs(j)){let Q={};for(const H in j){if(!Un(Q)&&!n)break;const q=b2(yield j[H](O,s),S,H);q&&(Q=z(z({},q),K(H,q.message)),C(q.message),n&&(D[v]=Q))}if(!Un(Q)&&(D[v]=z({ref:S},Q),!n))return D}}return C(!0),D});const I7={mode:Fa.onSubmit,reValidateMode:Fa.onChange,shouldFocusError:!0};function q7(e={}){let t=z(z({},I7),e),s={submitCount:0,isDirty:!1,isReady:!1,isLoading:za(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},i=Bs(t.defaultValues)||Bs(t.values)?Ks(t.defaultValues||t.values)||{}:{},l=t.shouldUnregister?{}:Ks(i),c={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,f=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p=z({},g);const b={array:d2(),state:d2()},y=t.criteriaMode===Fa.all,j=Z=>le=>{clearTimeout(f),f=setTimeout(Z,le)},v=Z=>fe(null,null,function*(){if(!t.disabled&&(g.isValid||p.isValid||Z)){const le=t.resolver?Un((yield L()).errors):yield R(n,!0);le!==s.isValid&&b.state.next({isValid:le})}}),_=(Z,le)=>{!t.disabled&&(g.isValidating||g.validatingFields||p.isValidating||p.validatingFields)&&((Z||Array.from(u.mount)).forEach(V=>{V&&(le?ps(s.validatingFields,V,le):Hs(s.validatingFields,V))}),b.state.next({validatingFields:s.validatingFields,isValidating:!Un(s.validatingFields)}))},T=(Z,le=[],V,Te,Be=!0,Re=!0)=>{if(Te&&V&&!t.disabled){if(c.action=!0,Re&&Array.isArray(Je(n,Z))){const Ve=V(Je(n,Z),Te.argA,Te.argB);Be&&ps(n,Z,Ve)}if(Re&&Array.isArray(Je(s.errors,Z))){const Ve=V(Je(s.errors,Z),Te.argA,Te.argB);Be&&ps(s.errors,Z,Ve),$7(s.errors,Z)}if((g.touchedFields||p.touchedFields)&&Re&&Array.isArray(Je(s.touchedFields,Z))){const Ve=V(Je(s.touchedFields,Z),Te.argA,Te.argB);Be&&ps(s.touchedFields,Z,Ve)}(g.dirtyFields||p.dirtyFields)&&(s.dirtyFields=Md(i,l)),b.state.next({name:Z,isDirty:W(Z,le),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else ps(l,Z,le)},O=(Z,le)=>{ps(s.errors,Z,le),b.state.next({errors:s.errors})},S=Z=>{s.errors=Z,b.state.next({errors:s.errors,isValid:!1})},C=(Z,le,V,Te)=>{const Be=Je(n,Z);if(Be){const Re=Je(l,Z,Ps(V)?Je(i,Z):V);Ps(Re)||Te&&Te.defaultChecked||le?ps(l,Z,le?Re:m2(Be._f)):q(Z,Re),c.mount&&v()}},D=(Z,le,V,Te,Be)=>{let Re=!1,Ve=!1;const Ge={name:Z};if(!t.disabled){if(!V||Te){(g.isDirty||p.isDirty)&&(Ve=s.isDirty,s.isDirty=Ge.isDirty=W(),Re=Ve!==Ge.isDirty);const st=Gr(Je(i,Z),le);Ve=!!Je(s.dirtyFields,Z),st?Hs(s.dirtyFields,Z):ps(s.dirtyFields,Z,!0),Ge.dirtyFields=s.dirtyFields,Re=Re||(g.dirtyFields||p.dirtyFields)&&Ve!==!st}if(V){const st=Je(s.touchedFields,Z);st||(ps(s.touchedFields,Z,V),Ge.touchedFields=s.touchedFields,Re=Re||(g.touchedFields||p.touchedFields)&&st!==V)}Re&&Be&&b.state.next(Ge)}return Re?Ge:{}},E=(Z,le,V,Te)=>{const Be=Je(s.errors,Z),Re=(g.isValid||p.isValid)&&ea(le)&&s.isValid!==le;if(t.delayError&&V?(h=j(()=>O(Z,V)),h(t.delayError)):(clearTimeout(f),h=null,V?ps(s.errors,Z,V):Hs(s.errors,Z)),(V?!Gr(Be,V):Be)||!Un(Te)||Re){const Ve=oe(z(z({},Te),Re&&ea(le)?{isValid:le}:{}),{errors:s.errors,name:Z});s=z(z({},s),Ve),b.state.next(Ve)}},L=Z=>fe(null,null,function*(){_(Z,!0);const le=yield t.resolver(l,t.context,L7(Z||u.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return _(Z),le}),F=Z=>fe(null,null,function*(){const{errors:le}=yield L(Z);if(Z)for(const V of Z){const Te=Je(le,V);Te?ps(s.errors,V,Te):Hs(s.errors,V)}else s.errors=le;return le}),R=(Te,Be,...Re)=>fe(null,[Te,Be,...Re],function*(Z,le,V={valid:!0}){for(const Ge in Z){const st=Z[Ge];if(st){const Ve=st,{_f:Nt}=Ve,ke=$e(Ve,["_f"]);if(Nt){const ze=u.array.has(Nt.name),Ze=st._f&&B7(st._f);Ze&&g.validatingFields&&_([Ge],!0);const Xe=yield v2(st,u.disabled,l,y,t.shouldUseNativeValidation&&!le,ze);if(Ze&&g.validatingFields&&_([Ge]),Xe[Nt.name]&&(V.valid=!1,le))break;!le&&(Je(Xe,Nt.name)?ze?V7(s.errors,Xe,Nt.name):ps(s.errors,Nt.name,Xe[Nt.name]):Hs(s.errors,Nt.name))}!Un(ke)&&(yield R(ke,le,V))}}return V.valid}),K=()=>{for(const Z of u.unMount){const le=Je(n,Z);le&&(le._f.refs?le._f.refs.every(V=>!w0(V)):!w0(le._f.ref))&&Le(Z)}u.unMount=new Set},W=(Z,le)=>!t.disabled&&(Z&&le&&ps(l,Z,le),!Gr(P(),i)),Q=(Z,le,V)=>Sk(Z,u,z({},c.mount?l:Ps(le)?i:dr(Z)?{[Z]:le}:le),V,le),H=Z=>zy(Je(c.mount?l:i,Z,t.shouldUnregister?Je(i,Z,[]):[])),q=(Z,le,V={})=>{const Te=Je(n,Z);let Be=le;if(Te){const Re=Te._f;Re&&(!Re.disabled&&ps(l,Z,Ak(le,Re)),Be=tm(Re.ref)&&kn(le)?"":le,kk(Re.ref)?[...Re.ref.options].forEach(Ve=>Ve.selected=Be.includes(Ve.value)):Re.refs?Nu(Re.ref)?Re.refs.forEach(Ve=>{(!Ve.defaultChecked||!Ve.disabled)&&(Array.isArray(Be)?Ve.checked=!!Be.find(Ge=>Ge===Ve.value):Ve.checked=Be===Ve.value||!!Be)}):Re.refs.forEach(Ve=>Ve.checked=Ve.value===Be):Vy(Re.ref)?Re.ref.value="":(Re.ref.value=Be,Re.ref.type||b.state.next({name:Z,values:Ks(l)})))}(V.shouldDirty||V.shouldTouch)&&D(Z,Be,V.shouldTouch,V.shouldDirty,!0),V.shouldValidate&&Ne(Z)},Y=(Z,le,V)=>{for(const Te in le){if(!le.hasOwnProperty(Te))return;const Be=le[Te],Re=Z+"."+Te,Ve=Je(n,Re);(u.array.has(Z)||Bs(Be)||Ve&&!Ve._f)&&!Ho(Be)?Y(Re,Be,V):q(Re,Be,V)}},$=(Z,le,V={})=>{const Te=Je(n,Z),Be=u.array.has(Z),Re=Ks(le);ps(l,Z,Re),Be?(b.array.next({name:Z,values:Ks(l)}),(g.isDirty||g.dirtyFields||p.isDirty||p.dirtyFields)&&V.shouldDirty&&b.state.next({name:Z,dirtyFields:Md(i,l),isDirty:W(Z,Re)})):Te&&!Te._f&&!kn(Re)?Y(Z,Re,V):q(Z,Re,V),x2(Z,u)&&b.state.next(oe(z({},s),{name:Z})),b.state.next({name:c.mount?Z:void 0,values:Ks(l)})},J=Z=>fe(null,null,function*(){c.mount=!0;const le=Z.target;let V=le.name,Te=!0;const Be=Je(n,V),Re=st=>{Te=Number.isNaN(st)||Ho(st)&&isNaN(st.getTime())||Gr(st,Je(l,V,st))},Ve=g2(t.mode),Ge=g2(t.reValidateMode);if(Be){let st,Nt;const ke=le.type?m2(Be._f):jk(Z),ze=Z.type===em.BLUR||Z.type===em.FOCUS_OUT,Ze=!F7(Be._f)&&!t.resolver&&!Je(s.errors,V)&&!Be._f.deps||H7(ze,Je(s.touchedFields,V),s.isSubmitted,Ge,Ve),Xe=x2(V,u,ze);ps(l,V,ke),ze?(!le||!le.readOnly)&&(Be._f.onBlur&&Be._f.onBlur(Z),h&&h(0)):Be._f.onChange&&Be._f.onChange(Z);const Bt=D(V,ke,ze),It=!Un(Bt)||Xe;if(!ze&&b.state.next({name:V,type:Z.type,values:Ks(l)}),Ze)return(g.isValid||p.isValid)&&(t.mode==="onBlur"?ze&&v():ze||v()),It&&b.state.next(z({name:V},Xe?{}:Bt));if(!ze&&Xe&&b.state.next(z({},s)),t.resolver){const{errors:ds}=yield L([V]);if(Re(ke),Te){const Qs=y2(s.errors,n,V),xn=y2(ds,n,Qs.name||V);st=xn.error,V=xn.name,Nt=Un(ds)}}else _([V],!0),st=(yield v2(Be,u.disabled,l,y,t.shouldUseNativeValidation))[V],_([V]),Re(ke),Te&&(st?Nt=!1:(g.isValid||p.isValid)&&(Nt=yield R(n,!0)));Te&&(Be._f.deps&&Ne(Be._f.deps),E(V,Nt,st,Bt))}}),se=(Z,le)=>{if(Je(s.errors,le)&&Z.focus)return Z.focus(),1},Ne=(V,...Te)=>fe(null,[V,...Te],function*(Z,le={}){let Be,Re;const Ve=Yd(Z);if(t.resolver){const Ge=yield F(Ps(Z)?Z:Ve);Be=Un(Ge),Re=Z?!Ve.some(st=>Je(Ge,st)):Be}else Z?(Re=(yield Promise.all(Ve.map(Ge=>fe(null,null,function*(){const st=Je(n,Ge);return yield R(st&&st._f?{[Ge]:st}:st)})))).every(Boolean),!(!Re&&!s.isValid)&&v()):Re=Be=yield R(n);return b.state.next(oe(z(z({},!dr(Z)||(g.isValid||p.isValid)&&Be!==s.isValid?{}:{name:Z}),t.resolver||!Z?{isValid:Be}:{}),{errors:s.errors})),le.shouldFocus&&!Re&&Gd(n,se,Z?Ve:u.mount),Re}),P=Z=>{const le=z({},c.mount?l:i);return Ps(Z)?le:dr(Z)?Je(le,Z):Z.map(V=>Je(le,V))},ne=(Z,le)=>({invalid:!!Je((le||s).errors,Z),isDirty:!!Je((le||s).dirtyFields,Z),error:Je((le||s).errors,Z),isValidating:!!Je(s.validatingFields,Z),isTouched:!!Je((le||s).touchedFields,Z)}),ge=Z=>{Z&&Yd(Z).forEach(le=>Hs(s.errors,le)),b.state.next({errors:Z?s.errors:{}})},G=(Z,le,V)=>{const Te=(Je(n,Z,{_f:{}})._f||{}).ref,Nt=Je(s.errors,Z)||{},{ref:Re,message:Ve,type:Ge}=Nt,st=$e(Nt,["ref","message","type"]);ps(s.errors,Z,oe(z(z({},st),le),{ref:Te})),b.state.next({name:Z,errors:s.errors,isValid:!1}),V&&V.shouldFocus&&Te&&Te.focus&&Te.focus()},re=(Z,le)=>za(Z)?b.state.subscribe({next:V=>"values"in V&&Z(Q(void 0,le),V)}):Q(Z,le,!0),_e=Z=>b.state.subscribe({next:le=>{U7(Z.name,le.name,Z.exact)&&z7(le,Z.formState||g,De,Z.reRenderRoot)&&Z.callback(oe(z(z({values:z({},l)},s),le),{defaultValues:i}))}}).unsubscribe,me=Z=>(c.mount=!0,p=z(z({},p),Z.formState),_e(oe(z({},Z),{formState:p}))),Le=(Z,le={})=>{for(const V of Z?Yd(Z):u.mount)u.mount.delete(V),u.array.delete(V),le.keepValue||(Hs(n,V),Hs(l,V)),!le.keepError&&Hs(s.errors,V),!le.keepDirty&&Hs(s.dirtyFields,V),!le.keepTouched&&Hs(s.touchedFields,V),!le.keepIsValidating&&Hs(s.validatingFields,V),!t.shouldUnregister&&!le.keepDefaultValue&&Hs(i,V);b.state.next({values:Ks(l)}),b.state.next(z(z({},s),le.keepDirty?{isDirty:W()}:{})),!le.keepIsValid&&v()},we=({disabled:Z,name:le})=>{(ea(Z)&&c.mount||Z||u.disabled.has(le))&&(Z?u.disabled.add(le):u.disabled.delete(le))},Ee=(Z,le={})=>{let V=Je(n,Z);const Te=ea(le.disabled)||ea(t.disabled);return ps(n,Z,oe(z({},V||{}),{_f:z(oe(z({},V&&V._f?V._f:{ref:{name:Z}}),{name:Z,mount:!0}),le)})),u.mount.add(Z),V?we({disabled:ea(le.disabled)?le.disabled:t.disabled,name:Z}):C(Z,!0,le.value),oe(z(z({},Te?{disabled:le.disabled||t.disabled}:{}),t.progressive?{required:!!le.required,min:Rd(le.min),max:Rd(le.max),minLength:Rd(le.minLength),maxLength:Rd(le.maxLength),pattern:Rd(le.pattern)}:{}),{name:Z,onChange:J,onBlur:J,ref:Be=>{if(Be){Ee(Z,le),V=Je(n,Z);const Re=Ps(Be.value)&&Be.querySelectorAll&&Be.querySelectorAll("input,select,textarea")[0]||Be,Ve=M7(Re),Ge=V._f.refs||[];if(Ve?Ge.find(st=>st===Re):Re===V._f.ref)return;ps(n,Z,{_f:z(z({},V._f),Ve?{refs:[...Ge.filter(w0),Re,...Array.isArray(Je(i,Z))?[{}]:[]],ref:{type:Re.type,name:Z}}:{ref:Re})}),C(Z,!1,void 0,Re)}else V=Je(n,Z,{}),V._f&&(V._f.mount=!1),(t.shouldUnregister||le.shouldUnregister)&&!(Nk(u.array,Z)&&c.action)&&u.unMount.add(Z)}})},X=()=>t.shouldFocusError&&Gd(n,se,u.mount),Oe=Z=>{ea(Z)&&(b.state.next({disabled:Z}),Gd(n,(le,V)=>{const Te=Je(n,V);Te&&(le.disabled=Te._f.disabled||Z,Array.isArray(Te._f.refs)&&Te._f.refs.forEach(Be=>{Be.disabled=Te._f.disabled||Z}))},0,!1))},He=(Z,le)=>V=>fe(null,null,function*(){let Te;V&&(V.preventDefault&&V.preventDefault(),V.persist&&V.persist());let Be=Ks(l);if(b.state.next({isSubmitting:!0}),t.resolver){const{errors:Re,values:Ve}=yield L();s.errors=Re,Be=Ks(Ve)}else yield R(n);if(u.disabled.size)for(const Re of u.disabled)Hs(Be,Re);if(Hs(s.errors,"root"),Un(s.errors)){b.state.next({errors:{}});try{yield Z(Be,V)}catch(Re){Te=Re}}else le&&(yield le(z({},s.errors),V)),X(),setTimeout(X);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Un(s.errors)&&!Te,submitCount:s.submitCount+1,errors:s.errors}),Te)throw Te}),Ye=(Z,le={})=>{Je(n,Z)&&(Ps(le.defaultValue)?$(Z,Ks(Je(i,Z))):($(Z,le.defaultValue),ps(i,Z,Ks(le.defaultValue))),le.keepTouched||Hs(s.touchedFields,Z),le.keepDirty||(Hs(s.dirtyFields,Z),s.isDirty=le.defaultValue?W(Z,Ks(Je(i,Z))):W()),le.keepError||(Hs(s.errors,Z),g.isValid&&v()),b.state.next(z({},s)))},tt=(Z,le={})=>{const V=Z?Ks(Z):i,Te=Ks(V),Be=Un(Z),Re=Be?i:Te;if(le.keepDefaultValues||(i=V),!le.keepValues){if(le.keepDirtyValues){const Ve=new Set([...u.mount,...Object.keys(Md(i,l))]);for(const Ge of Array.from(Ve))Je(s.dirtyFields,Ge)?ps(Re,Ge,Je(l,Ge)):$(Ge,Je(Re,Ge))}else{if(Fy&&Ps(Z))for(const Ve of u.mount){const Ge=Je(n,Ve);if(Ge&&Ge._f){const st=Array.isArray(Ge._f.refs)?Ge._f.refs[0]:Ge._f.ref;if(tm(st)){const Nt=st.closest("form");if(Nt){Nt.reset();break}}}}if(le.keepFieldsRef)for(const Ve of u.mount)$(Ve,Je(Re,Ve));else n={}}l=t.shouldUnregister?le.keepDefaultValues?Ks(i):{}:Ks(Re),b.array.next({values:z({},Re)}),b.state.next({values:z({},Re)})}u={mount:le.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!g.isValid||!!le.keepIsValid||!!le.keepDirtyValues,c.watch=!!t.shouldUnregister,b.state.next({submitCount:le.keepSubmitCount?s.submitCount:0,isDirty:Be?!1:le.keepDirty?s.isDirty:!!(le.keepDefaultValues&&!Gr(Z,i)),isSubmitted:le.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:Be?{}:le.keepDirtyValues?le.keepDefaultValues&&l?Md(i,l):s.dirtyFields:le.keepDefaultValues&&Z?Md(i,Z):le.keepDirty?s.dirtyFields:{},touchedFields:le.keepTouched?s.touchedFields:{},errors:le.keepErrors?s.errors:{},isSubmitSuccessful:le.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},gt=(Z,le)=>tt(za(Z)?Z(l):Z,le),Dt=(Z,le={})=>{const V=Je(n,Z),Te=V&&V._f;if(Te){const Be=Te.refs?Te.refs[0]:Te.ref;Be.focus&&(Be.focus(),le.shouldSelect&&za(Be.select)&&Be.select())}},De=Z=>{s=z(z({},s),Z)},Pe={control:{register:Ee,unregister:Le,getFieldState:ne,handleSubmit:He,setError:G,_subscribe:_e,_runSchema:L,_focusError:X,_getWatch:Q,_getDirty:W,_setValid:v,_setFieldArray:T,_setDisabledField:we,_setErrors:S,_getFieldArray:H,_reset:tt,_resetDefaultValues:()=>za(t.defaultValues)&&t.defaultValues().then(Z=>{gt(Z,t.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:K,_disableForm:Oe,_subjects:b,_proxyFormState:g,get _fields(){return n},get _formValues(){return l},get _state(){return c},set _state(Z){c=Z},get _defaultValues(){return i},get _names(){return u},set _names(Z){u=Z},get _formState(){return s},get _options(){return t},set _options(Z){t=z(z({},t),Z)}},subscribe:me,trigger:Ne,register:Ee,handleSubmit:He,watch:re,setValue:$,getValues:P,reset:gt,resetField:Ye,clearErrors:ge,unregister:Le,setError:G,setFocus:Dt,getFieldState:ne};return oe(z({},Pe),{formControl:Pe})}function Cm(e={}){const t=ye.useRef(void 0),s=ye.useRef(void 0),[n,i]=ye.useState({isDirty:!1,isValidating:!1,isLoading:za(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:za(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current=oe(z({},e.formControl),{formState:n}),e.defaultValues&&!za(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const c=q7(e),{formControl:u}=c,h=$e(c,["formControl"]);t.current=oe(z({},h),{formState:n})}const l=t.current.control;return l._options=e,$y(()=>{const u=l._subscribe({formState:l._proxyFormState,callback:()=>i(z({},l._formState)),reRenderRoot:!0});return i(h=>oe(z({},h),{isReady:!0})),l._formState.isReady=!0,u},[l]),ye.useEffect(()=>l._disableForm(e.disabled),[l,e.disabled]),ye.useEffect(()=>{e.mode&&(l._options.mode=e.mode),e.reValidateMode&&(l._options.reValidateMode=e.reValidateMode)},[l,e.mode,e.reValidateMode]),ye.useEffect(()=>{e.errors&&(l._setErrors(e.errors),l._focusError())},[l,e.errors]),ye.useEffect(()=>{e.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,e.shouldUnregister]),ye.useEffect(()=>{if(l._proxyFormState.isDirty){const u=l._getDirty();u!==n.isDirty&&l._subjects.state.next({isDirty:u})}},[l,n.isDirty]),ye.useEffect(()=>{e.values&&!Gr(e.values,s.current)?(l._reset(e.values,z({keepFieldsRef:!0},l._options.resetOptions)),s.current=e.values,i(u=>z({},u))):l._resetDefaultValues()},[l,e.values]),ye.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next(z({},l._formState))),l._removeUnmounted()}),t.current.formState=Tk(n,l),t.current}var w2=1,W7=.9,Y7=.8,G7=.17,j0=.1,N0=.999,X7=.9999,K7=.99,Q7=/[\\\/_+.#"@\[\(\{&]/,Z7=/[\\\/_+.#"@\[\(\{&]/g,J7=/[\s-]/,Mk=/[\s-]/g;function mx(e,t,s,n,i,l,c){if(l===t.length)return i===e.length?w2:K7;var u=`${i},${l}`;if(c[u]!==void 0)return c[u];for(var h=n.charAt(l),f=s.indexOf(h,i),g=0,p,b,y,j;f>=0;)p=mx(e,t,s,n,f+1,l+1,c),p>g&&(f===i?p*=w2:Q7.test(e.charAt(f-1))?(p*=Y7,y=e.slice(i,f-1).match(Z7),y&&i>0&&(p*=Math.pow(N0,y.length))):J7.test(e.charAt(f-1))?(p*=W7,j=e.slice(i,f-1).match(Mk),j&&i>0&&(p*=Math.pow(N0,j.length))):(p*=G7,i>0&&(p*=Math.pow(N0,f-i))),e.charAt(f)!==t.charAt(l)&&(p*=X7)),(p<j0&&s.charAt(f-1)===n.charAt(l+1)||n.charAt(l+1)===n.charAt(l)&&s.charAt(f-1)!==n.charAt(l))&&(b=mx(e,t,s,n,f+1,l+2,c),b*j0>p&&(p=b*j0)),p>g&&(g=p),f=s.indexOf(h,f+1);return c[u]=g,g}function j2(e){return e.toLowerCase().replace(Mk," ")}function ez(e,t,s){return e=s&&s.length>0?`${e+" "+s.join(" ")}`:e,mx(e,t,j2(e),j2(t),0,0,{})}function Fi(e,t,{checkForDefaultPrevented:s=!0}={}){return function(i){if(e==null||e(i),s===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}var tz="DismissableLayer",gx="dismissableLayer.update",sz="dismissableLayer.pointerDownOutside",nz="dismissableLayer.focusOutside",N2,Rk=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Pk=N.forwardRef((e,t)=>{var F;const L=e,{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:c,onDismiss:u}=L,h=$e(L,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),f=N.useContext(Rk),[g,p]=N.useState(null),b=(F=g==null?void 0:g.ownerDocument)!=null?F:globalThis==null?void 0:globalThis.document,[,y]=N.useState({}),j=pn(t,R=>p(R)),v=Array.from(f.layers),[_]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),T=v.indexOf(_),O=g?v.indexOf(g):-1,S=f.layersWithOutsidePointerEventsDisabled.size>0,C=O>=T,D=iz(R=>{const K=R.target,W=[...f.branches].some(Q=>Q.contains(K));!C||W||(i==null||i(R),c==null||c(R),R.defaultPrevented||u==null||u())},b),E=oz(R=>{const K=R.target;[...f.branches].some(Q=>Q.contains(K))||(l==null||l(R),c==null||c(R),R.defaultPrevented||u==null||u())},b);return J_(R=>{O===f.layers.size-1&&(n==null||n(R),!R.defaultPrevented&&u&&(R.preventDefault(),u()))},b),N.useEffect(()=>{if(g)return s&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(N2=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(g)),f.layers.add(g),_2(),()=>{s&&f.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=N2)}},[g,b,s,f]),N.useEffect(()=>()=>{g&&(f.layers.delete(g),f.layersWithOutsidePointerEventsDisabled.delete(g),_2())},[g,f]),N.useEffect(()=>{const R=()=>y({});return document.addEventListener(gx,R),()=>document.removeEventListener(gx,R)},[]),a.jsx(Zt.div,oe(z({},h),{ref:j,style:z({pointerEvents:S?C?"auto":"none":void 0},e.style),onFocusCapture:Fi(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Fi(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Fi(e.onPointerDownCapture,D.onPointerDownCapture)}))});Pk.displayName=tz;var az="DismissableLayerBranch",rz=N.forwardRef((e,t)=>{const s=N.useContext(Rk),n=N.useRef(null),i=pn(t,n);return N.useEffect(()=>{const l=n.current;if(l)return s.branches.add(l),()=>{s.branches.delete(l)}},[s.branches]),a.jsx(Zt.div,oe(z({},e),{ref:i}))});rz.displayName=az;function iz(e,t=globalThis==null?void 0:globalThis.document){const s=Ii(e),n=N.useRef(!1),i=N.useRef(()=>{});return N.useEffect(()=>{const l=u=>{if(u.target&&!n.current){let h=function(){Lk(sz,s,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=h,t.addEventListener("click",i.current,{once:!0})):h()}else t.removeEventListener("click",i.current);n.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",l),t.removeEventListener("click",i.current)}},[t,s]),{onPointerDownCapture:()=>n.current=!0}}function oz(e,t=globalThis==null?void 0:globalThis.document){const s=Ii(e),n=N.useRef(!1);return N.useEffect(()=>{const i=l=>{l.target&&!n.current&&Lk(nz,s,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,s]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function _2(){const e=new CustomEvent(gx);document.dispatchEvent(e)}function Lk(e,t,s,{discrete:n}){const i=s.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&i.addEventListener(e,t,{once:!0}),n?Z_(i,l):i.dispatchEvent(l)}function lz(e,t){return N.useReducer((s,n)=>{const i=t[s][n];return i!=null?i:s},e)}var Em=e=>{const{present:t,children:s}=e,n=cz(t),i=typeof s=="function"?s({present:n.isPresent}):N.Children.only(s),l=pn(n.ref,dz(i));return typeof s=="function"||n.isPresent?N.cloneElement(i,{ref:l}):null};Em.displayName="Presence";function cz(e){const[t,s]=N.useState(),n=N.useRef(null),i=N.useRef(e),l=N.useRef("none"),c=e?"mounted":"unmounted",[u,h]=lz(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const f=hf(n.current);l.current=u==="mounted"?f:"none"},[u]),pr(()=>{const f=n.current,g=i.current;if(g!==e){const b=l.current,y=hf(f);e?h("MOUNT"):y==="none"||(f==null?void 0:f.display)==="none"?h("UNMOUNT"):h(g&&b!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,h]),pr(()=>{var f;if(t){let g;const p=(f=t.ownerDocument.defaultView)!=null?f:window,b=j=>{const _=hf(n.current).includes(j.animationName);if(j.target===t&&_&&(h("ANIMATION_END"),!i.current)){const T=t.style.animationFillMode;t.style.animationFillMode="forwards",g=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=T)})}},y=j=>{j.target===t&&(l.current=hf(n.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{p.clearTimeout(g),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:N.useCallback(f=>{n.current=f?getComputedStyle(f):null,s(f)},[])}}function hf(e){return(e==null?void 0:e.animationName)||"none"}function dz(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var _0=0;function uz(){N.useEffect(()=>{var t,s;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:T2()),document.body.insertAdjacentElement("beforeend",(s=e[1])!=null?s:T2()),_0++,()=>{_0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),_0--}},[])}function T2(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Dm="Dialog",[Bk,u$]=fm(Dm),[hz,Ia]=Bk(Dm),Fk=e=>{const{__scopeDialog:t,children:s,open:n,defaultOpen:i,onOpenChange:l,modal:c=!0}=e,u=N.useRef(null),h=N.useRef(null),[f,g]=oy({prop:n,defaultProp:i!=null?i:!1,onChange:l,caller:Dm});return a.jsx(hz,{scope:t,triggerRef:u,contentRef:h,contentId:na(),titleId:na(),descriptionId:na(),open:f,onOpenChange:g,onOpenToggle:N.useCallback(()=>g(p=>!p),[g]),modal:c,children:s})};Fk.displayName=Dm;var zk="DialogTrigger",fz=N.forwardRef((e,t)=>{const c=e,{__scopeDialog:s}=c,n=$e(c,["__scopeDialog"]),i=Ia(zk,s),l=pn(t,i.triggerRef);return a.jsx(Zt.button,oe(z({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Yy(i.open)},n),{ref:l,onClick:Fi(e.onClick,i.onOpenToggle)}))});fz.displayName=zk;var qy="DialogPortal",[mz,Uk]=Bk(qy,{forceMount:void 0}),Hk=e=>{const{__scopeDialog:t,forceMount:s,children:n,container:i}=e,l=Ia(qy,t);return a.jsx(mz,{scope:t,forceMount:s,children:N.Children.map(n,c=>a.jsx(Em,{present:s||l.open,children:a.jsx(ym,{asChild:!0,container:i,children:c})}))})};Hk.displayName=qy;var am="DialogOverlay",$k=N.forwardRef((e,t)=>{const s=Uk(am,e.__scopeDialog),c=e,{forceMount:n=s.forceMount}=c,i=$e(c,["forceMount"]),l=Ia(am,e.__scopeDialog);return l.modal?a.jsx(Em,{present:n||l.open,children:a.jsx(pz,oe(z({},i),{ref:t}))}):null});$k.displayName=am;var gz=xu("DialogOverlay.RemoveScroll"),pz=N.forwardRef((e,t)=>{const l=e,{__scopeDialog:s}=l,n=$e(l,["__scopeDialog"]),i=Ia(am,s);return a.jsx(vm,{as:gz,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(Zt.div,oe(z({"data-state":Yy(i.open)},n),{ref:t,style:z({pointerEvents:"auto"},n.style)}))})}),Yo="DialogContent",Vk=N.forwardRef((e,t)=>{const s=Uk(Yo,e.__scopeDialog),c=e,{forceMount:n=s.forceMount}=c,i=$e(c,["forceMount"]),l=Ia(Yo,e.__scopeDialog);return a.jsx(Em,{present:n||l.open,children:l.modal?a.jsx(xz,oe(z({},i),{ref:t})):a.jsx(yz,oe(z({},i),{ref:t}))})});Vk.displayName=Yo;var xz=N.forwardRef((e,t)=>{const s=Ia(Yo,e.__scopeDialog),n=N.useRef(null),i=pn(t,s.contentRef,n);return N.useEffect(()=>{const l=n.current;if(l)return ly(l)},[]),a.jsx(Ik,oe(z({},e),{ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Fi(e.onCloseAutoFocus,l=>{var c;l.preventDefault(),(c=s.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Fi(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&l.preventDefault()}),onFocusOutside:Fi(e.onFocusOutside,l=>l.preventDefault())}))}),yz=N.forwardRef((e,t)=>{const s=Ia(Yo,e.__scopeDialog),n=N.useRef(!1),i=N.useRef(!1);return a.jsx(Ik,oe(z({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,u;(c=e.onCloseAutoFocus)==null||c.call(e,l),l.defaultPrevented||(n.current||(u=s.triggerRef.current)==null||u.focus(),l.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:l=>{var h,f;(h=e.onInteractOutside)==null||h.call(e,l),l.defaultPrevented||(n.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=l.target;((f=s.triggerRef.current)==null?void 0:f.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}}))}),Ik=N.forwardRef((e,t)=>{const g=e,{__scopeDialog:s,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:l}=g,c=$e(g,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),u=Ia(Yo,s),h=N.useRef(null),f=pn(t,h);return uz(),a.jsxs(a.Fragment,{children:[a.jsx(mm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:l,children:a.jsx(Pk,oe(z({role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Yy(u.open)},c),{ref:f,onDismiss:()=>u.onOpenChange(!1)}))}),a.jsxs(a.Fragment,{children:[a.jsx(jz,{titleId:u.titleId}),a.jsx(_z,{contentRef:h,descriptionId:u.descriptionId})]})]})}),Wy="DialogTitle",bz=N.forwardRef((e,t)=>{const l=e,{__scopeDialog:s}=l,n=$e(l,["__scopeDialog"]),i=Ia(Wy,s);return a.jsx(Zt.h2,oe(z({id:i.titleId},n),{ref:t}))});bz.displayName=Wy;var qk="DialogDescription",vz=N.forwardRef((e,t)=>{const l=e,{__scopeDialog:s}=l,n=$e(l,["__scopeDialog"]),i=Ia(qk,s);return a.jsx(Zt.p,oe(z({id:i.descriptionId},n),{ref:t}))});vz.displayName=qk;var Wk="DialogClose",wz=N.forwardRef((e,t)=>{const l=e,{__scopeDialog:s}=l,n=$e(l,["__scopeDialog"]),i=Ia(Wk,s);return a.jsx(Zt.button,oe(z({type:"button"},n),{ref:t,onClick:Fi(e.onClick,()=>i.onOpenChange(!1))}))});wz.displayName=Wk;function Yy(e){return e?"open":"closed"}var Yk="DialogTitleWarning",[h$,Gk]=Q_(Yk,{contentName:Yo,titleName:Wy,docsSlug:"dialog"}),jz=({titleId:e})=>{const t=Gk(Yk),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return N.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},Nz="DialogDescriptionWarning",_z=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Gk(Nz).contentName}}.`;return N.useEffect(()=>{var l;const i=(l=e.current)==null?void 0:l.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Tz=Fk,Sz=Hk,kz=$k,Cz=Vk,Pd='[cmdk-group=""]',T0='[cmdk-group-items=""]',Ez='[cmdk-group-heading=""]',Xk='[cmdk-item=""]',S2=`${Xk}:not([aria-disabled="true"])`,px="cmdk-item-select",Gl="data-value",Dz=(e,t,s)=>ez(e,t,s),Kk=N.createContext(void 0),_u=()=>N.useContext(Kk),Qk=N.createContext(void 0),Gy=()=>N.useContext(Qk),Zk=N.createContext(void 0),Jk=N.forwardRef((e,t)=>{let s=Xl(()=>{var G,re;return{search:"",value:(re=(G=e.value)!=null?G:e.defaultValue)!=null?re:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Xl(()=>new Set),i=Xl(()=>new Map),l=Xl(()=>new Map),c=Xl(()=>new Set),u=eC(e),ge=e,{label:h,children:f,value:g,onValueChange:p,filter:b,shouldFilter:y,loop:j,disablePointerSelection:v=!1,vimBindings:_=!0}=ge,T=$e(ge,["label","children","value","onValueChange","filter","shouldFilter","loop","disablePointerSelection","vimBindings"]),O=na(),S=na(),C=na(),D=N.useRef(null),E=Hz();Go(()=>{if(g!==void 0){let G=g.trim();s.current.value=G,L.emit()}},[g]),Go(()=>{E(6,H)},[]);let L=N.useMemo(()=>({subscribe:G=>(c.current.add(G),()=>c.current.delete(G)),snapshot:()=>s.current,setState:(G,re,_e)=>{var me,Le,we,Ee;if(!Object.is(s.current[G],re)){if(s.current[G]=re,G==="search")Q(),K(),E(1,W);else if(G==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let X=document.getElementById(C);X?X.focus():(me=document.getElementById(O))==null||me.focus()}if(E(7,()=>{var X;s.current.selectedItemId=(X=q())==null?void 0:X.id,L.emit()}),_e||E(5,H),((Le=u.current)==null?void 0:Le.value)!==void 0){let X=re!=null?re:"";(Ee=(we=u.current).onValueChange)==null||Ee.call(we,X);return}}L.emit()}},emit:()=>{c.current.forEach(G=>G())}}),[]),F=N.useMemo(()=>({value:(G,re,_e)=>{var me;re!==((me=l.current.get(G))==null?void 0:me.value)&&(l.current.set(G,{value:re,keywords:_e}),s.current.filtered.items.set(G,R(re,_e)),E(2,()=>{K(),L.emit()}))},item:(G,re)=>(n.current.add(G),re&&(i.current.has(re)?i.current.get(re).add(G):i.current.set(re,new Set([G]))),E(3,()=>{Q(),K(),s.current.value||W(),L.emit()}),()=>{l.current.delete(G),n.current.delete(G),s.current.filtered.items.delete(G);let _e=q();E(4,()=>{Q(),(_e==null?void 0:_e.getAttribute("id"))===G&&W(),L.emit()})}),group:G=>(i.current.has(G)||i.current.set(G,new Set),()=>{l.current.delete(G),i.current.delete(G)}),filter:()=>u.current.shouldFilter,label:h||e["aria-label"],getDisablePointerSelection:()=>u.current.disablePointerSelection,listId:O,inputId:C,labelId:S,listInnerRef:D}),[]);function R(G,re){var _e,me;let Le=(me=(_e=u.current)==null?void 0:_e.filter)!=null?me:Dz;return G?Le(G,s.current.search,re):0}function K(){if(!s.current.search||u.current.shouldFilter===!1)return;let G=s.current.filtered.items,re=[];s.current.filtered.groups.forEach(me=>{let Le=i.current.get(me),we=0;Le.forEach(Ee=>{let X=G.get(Ee);we=Math.max(X,we)}),re.push([me,we])});let _e=D.current;Y().sort((me,Le)=>{var we,Ee;let X=me.getAttribute("id"),Oe=Le.getAttribute("id");return((we=G.get(Oe))!=null?we:0)-((Ee=G.get(X))!=null?Ee:0)}).forEach(me=>{let Le=me.closest(T0);Le?Le.appendChild(me.parentElement===Le?me:me.closest(`${T0} > *`)):_e.appendChild(me.parentElement===_e?me:me.closest(`${T0} > *`))}),re.sort((me,Le)=>Le[1]-me[1]).forEach(me=>{var Le;let we=(Le=D.current)==null?void 0:Le.querySelector(`${Pd}[${Gl}="${encodeURIComponent(me[0])}"]`);we==null||we.parentElement.appendChild(we)})}function W(){let G=Y().find(_e=>_e.getAttribute("aria-disabled")!=="true"),re=G==null?void 0:G.getAttribute(Gl);L.setState("value",re||void 0)}function Q(){var G,re,_e,me;if(!s.current.search||u.current.shouldFilter===!1){s.current.filtered.count=n.current.size;return}s.current.filtered.groups=new Set;let Le=0;for(let we of n.current){let Ee=(re=(G=l.current.get(we))==null?void 0:G.value)!=null?re:"",X=(me=(_e=l.current.get(we))==null?void 0:_e.keywords)!=null?me:[],Oe=R(Ee,X);s.current.filtered.items.set(we,Oe),Oe>0&&Le++}for(let[we,Ee]of i.current)for(let X of Ee)if(s.current.filtered.items.get(X)>0){s.current.filtered.groups.add(we);break}s.current.filtered.count=Le}function H(){var G,re,_e;let me=q();me&&(((G=me.parentElement)==null?void 0:G.firstChild)===me&&((_e=(re=me.closest(Pd))==null?void 0:re.querySelector(Ez))==null||_e.scrollIntoView({block:"nearest"})),me.scrollIntoView({block:"nearest"}))}function q(){var G;return(G=D.current)==null?void 0:G.querySelector(`${Xk}[aria-selected="true"]`)}function Y(){var G;return Array.from(((G=D.current)==null?void 0:G.querySelectorAll(S2))||[])}function $(G){let re=Y()[G];re&&L.setState("value",re.getAttribute(Gl))}function J(G){var re;let _e=q(),me=Y(),Le=me.findIndex(Ee=>Ee===_e),we=me[Le+G];(re=u.current)!=null&&re.loop&&(we=Le+G<0?me[me.length-1]:Le+G===me.length?me[0]:me[Le+G]),we&&L.setState("value",we.getAttribute(Gl))}function se(G){let re=q(),_e=re==null?void 0:re.closest(Pd),me;for(;_e&&!me;)_e=G>0?zz(_e,Pd):Uz(_e,Pd),me=_e==null?void 0:_e.querySelector(S2);me?L.setState("value",me.getAttribute(Gl)):J(G)}let Ne=()=>$(Y().length-1),P=G=>{G.preventDefault(),G.metaKey?Ne():G.altKey?se(1):J(1)},ne=G=>{G.preventDefault(),G.metaKey?$(0):G.altKey?se(-1):J(-1)};return N.createElement(Zt.div,oe(z({ref:t,tabIndex:-1},T),{"cmdk-root":"",onKeyDown:G=>{var re;(re=T.onKeyDown)==null||re.call(T,G);let _e=G.nativeEvent.isComposing||G.keyCode===229;if(!(G.defaultPrevented||_e))switch(G.key){case"n":case"j":{_&&G.ctrlKey&&P(G);break}case"ArrowDown":{P(G);break}case"p":case"k":{_&&G.ctrlKey&&ne(G);break}case"ArrowUp":{ne(G);break}case"Home":{G.preventDefault(),$(0);break}case"End":{G.preventDefault(),Ne();break}case"Enter":{G.preventDefault();let me=q();if(me){let Le=new Event(px);me.dispatchEvent(Le)}}}}}),N.createElement("label",{"cmdk-label":"",htmlFor:F.inputId,id:F.labelId,style:Vz},h),Am(e,G=>N.createElement(Qk.Provider,{value:L},N.createElement(Kk.Provider,{value:F},G))))}),Az=N.forwardRef((e,t)=>{var s,n;let i=na(),l=N.useRef(null),c=N.useContext(Zk),u=_u(),h=eC(e),f=(n=(s=h.current)==null?void 0:s.forceMount)!=null?n:c==null?void 0:c.forceMount;Go(()=>{if(!f)return u.item(i,c==null?void 0:c.id)},[f]);let g=tC(i,l,[e.value,e.children,l],e.keywords),p=Gy(),b=Xi(L=>L.value&&L.value===g.current),y=Xi(L=>f||u.filter()===!1?!0:L.search?L.filtered.items.get(i)>0:!0);N.useEffect(()=>{let L=l.current;if(!(!L||e.disabled))return L.addEventListener(px,j),()=>L.removeEventListener(px,j)},[y,e.onSelect,e.disabled]);function j(){var L,F;v(),(F=(L=h.current).onSelect)==null||F.call(L,g.current)}function v(){p.setState("value",g.current,!0)}if(!y)return null;let E=e,{disabled:_,value:T,onSelect:O,forceMount:S,keywords:C}=E,D=$e(E,["disabled","value","onSelect","forceMount","keywords"]);return N.createElement(Zt.div,oe(z({ref:Vo(l,t)},D),{id:i,"cmdk-item":"",role:"option","aria-disabled":!!_,"aria-selected":!!b,"data-disabled":!!_,"data-selected":!!b,onPointerMove:_||u.getDisablePointerSelection()?void 0:v,onClick:_?void 0:j}),e.children)}),Oz=N.forwardRef((e,t)=>{let y=e,{heading:s,children:n,forceMount:i}=y,l=$e(y,["heading","children","forceMount"]),c=na(),u=N.useRef(null),h=N.useRef(null),f=na(),g=_u(),p=Xi(j=>i||g.filter()===!1?!0:j.search?j.filtered.groups.has(c):!0);Go(()=>g.group(c),[]),tC(c,u,[e.value,e.heading,h]);let b=N.useMemo(()=>({id:c,forceMount:i}),[i]);return N.createElement(Zt.div,oe(z({ref:Vo(u,t)},l),{"cmdk-group":"",role:"presentation",hidden:p?void 0:!0}),s&&N.createElement("div",{ref:h,"cmdk-group-heading":"","aria-hidden":!0,id:f},s),Am(e,j=>N.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":s?f:void 0},N.createElement(Zk.Provider,{value:b},j))))}),Mz=N.forwardRef((e,t)=>{let c=e,{alwaysRender:s}=c,n=$e(c,["alwaysRender"]),i=N.useRef(null),l=Xi(u=>!u.search);return!s&&!l?null:N.createElement(Zt.div,oe(z({ref:Vo(i,t)},n),{"cmdk-separator":"",role:"separator"}))}),Rz=N.forwardRef((e,t)=>{let f=e,{onValueChange:s}=f,n=$e(f,["onValueChange"]),i=e.value!=null,l=Gy(),c=Xi(g=>g.search),u=Xi(g=>g.selectedItemId),h=_u();return N.useEffect(()=>{e.value!=null&&l.setState("search",e.value)},[e.value]),N.createElement(Zt.input,oe(z({ref:t},n),{"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":h.listId,"aria-labelledby":h.labelId,"aria-activedescendant":u,id:h.inputId,type:"text",value:i?e.value:c,onChange:g=>{i||l.setState("search",g.target.value),s==null||s(g.target.value)}}))}),Pz=N.forwardRef((e,t)=>{let f=e,{children:s,label:n="Suggestions"}=f,i=$e(f,["children","label"]),l=N.useRef(null),c=N.useRef(null),u=Xi(g=>g.selectedItemId),h=_u();return N.useEffect(()=>{if(c.current&&l.current){let g=c.current,p=l.current,b,y=new ResizeObserver(()=>{b=requestAnimationFrame(()=>{let j=g.offsetHeight;p.style.setProperty("--cmdk-list-height",j.toFixed(1)+"px")})});return y.observe(g),()=>{cancelAnimationFrame(b),y.unobserve(g)}}},[]),N.createElement(Zt.div,oe(z({ref:Vo(l,t)},i),{"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":u,"aria-label":n,id:h.listId}),Am(e,g=>N.createElement("div",{ref:Vo(c,h.listInnerRef),"cmdk-list-sizer":""},g)))}),Lz=N.forwardRef((e,t)=>{let h=e,{open:s,onOpenChange:n,overlayClassName:i,contentClassName:l,container:c}=h,u=$e(h,["open","onOpenChange","overlayClassName","contentClassName","container"]);return N.createElement(Tz,{open:s,onOpenChange:n},N.createElement(Sz,{container:c},N.createElement(kz,{"cmdk-overlay":"",className:i}),N.createElement(Cz,{"aria-label":e.label,"cmdk-dialog":"",className:l},N.createElement(Jk,z({ref:t},u)))))}),Bz=N.forwardRef((e,t)=>Xi(s=>s.filtered.count===0)?N.createElement(Zt.div,oe(z({ref:t},e),{"cmdk-empty":"",role:"presentation"})):null),Fz=N.forwardRef((e,t)=>{let c=e,{progress:s,children:n,label:i="Loading..."}=c,l=$e(c,["progress","children","label"]);return N.createElement(Zt.div,oe(z({ref:t},l),{"cmdk-loading":"",role:"progressbar","aria-valuenow":s,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i}),Am(e,u=>N.createElement("div",{"aria-hidden":!0},u)))}),_c=Object.assign(Jk,{List:Pz,Item:Az,Input:Rz,Group:Oz,Separator:Mz,Dialog:Lz,Empty:Bz,Loading:Fz});function zz(e,t){let s=e.nextElementSibling;for(;s;){if(s.matches(t))return s;s=s.nextElementSibling}}function Uz(e,t){let s=e.previousElementSibling;for(;s;){if(s.matches(t))return s;s=s.previousElementSibling}}function eC(e){let t=N.useRef(e);return Go(()=>{t.current=e}),t}var Go=typeof window=="undefined"?N.useEffect:N.useLayoutEffect;function Xl(e){let t=N.useRef();return t.current===void 0&&(t.current=e()),t}function Xi(e){let t=Gy(),s=()=>e(t.snapshot());return N.useSyncExternalStore(t.subscribe,s,s)}function tC(e,t,s,n=[]){let i=N.useRef(),l=_u();return Go(()=>{var c;let u=(()=>{var f;for(let g of s){if(typeof g=="string")return g.trim();if(typeof g=="object"&&"current"in g)return g.current?(f=g.current.textContent)==null?void 0:f.trim():i.current}})(),h=n.map(f=>f.trim());l.value(e,u,h),(c=t.current)==null||c.setAttribute(Gl,u),i.current=u}),i}var Hz=()=>{let[e,t]=N.useState(),s=Xl(()=>new Map);return Go(()=>{s.current.forEach(n=>n()),s.current=new Map},[e]),(n,i)=>{s.current.set(n,i),t({})}};function $z(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Am({asChild:e,children:t},s){return e&&N.isValidElement(t)?N.cloneElement($z(t),{ref:t.ref},s(t.props.children)):s(t)}var Vz={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function Iz(s){var n=s,{className:e}=n,t=$e(n,["className"]);return a.jsx(_c,z({"data-slot":"command",className:rn("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e)},t))}function qz(s){var n=s,{className:e}=n,t=$e(n,["className"]);return a.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[a.jsx(mc,{className:"size-4 shrink-0 opacity-50"}),a.jsx(_c.Input,z({"data-slot":"command-input",className:rn("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e)},t))]})}function Wz(s){var n=s,{className:e}=n,t=$e(n,["className"]);return a.jsx(_c.List,z({"data-slot":"command-list",className:rn("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e)},t))}function S0(t){var e=$e(t,[]);return a.jsx(_c.Empty,z({"data-slot":"command-empty",className:"py-6 text-center text-sm"},e))}function Yz(s){var n=s,{className:e}=n,t=$e(n,["className"]);return a.jsx(_c.Group,z({"data-slot":"command-group",className:rn("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e)},t))}function Gz(s){var n=s,{className:e}=n,t=$e(n,["className"]);return a.jsx(_c.Item,z({"data-slot":"command-item",className:rn("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e)},t))}function wa({doctype:e,value:t="",onChange:s,placeholder:n="Select option...",className:i="w-[200px]",fields:l=["name"],filters:c=[],displayField:u="name",valueField:h="name",disabled:f=!1,limit:g=20}){const[p,b]=N.useState(!1),[y,j]=N.useState(""),v=N.useMemo(()=>{let L={};if(c.length>0&&c.forEach(R=>{if(Array.isArray(R)&&R.length>=3){const[K,W,Q]=R;W==="="&&(L[K]=Q)}}),y.trim()&&(L[u]=["like",`%${y}%`]),Object.keys(L).length===0&&y.trim())return[[u,"like",`%${y}%`]];const F=[];return Object.entries(L).forEach(([R,K])=>{Array.isArray(K)?F.push([R,K[0],K[1]]):F.push([R,"=",K])}),F.length>0?F:void 0},[y,c,u]),{data:_,isLoading:T,error:O}=mt(e,{fields:[...new Set([...l,u,h])],filters:v,limit:g,orderBy:{field:u,order:"asc"}}),S=N.useMemo(()=>!_||!Array.isArray(_)?[]:_.map(L=>({value:L[h],label:L[u]})),[_,u,h]),C=S.find(L=>L.value===t),D=L=>{s(L===t?"":L),b(!1)},E=L=>{j(L)};return a.jsxs(uy,{open:p,onOpenChange:b,children:[a.jsx(hy,{asChild:!0,children:a.jsxs(Qe,{variant:"outline",role:"combobox","aria-expanded":p,className:rn("justify-between",i),disabled:f,children:[(C==null?void 0:C.label)||n,a.jsx(MM,{className:"opacity-50"})]})}),a.jsx(fy,{className:rn("p-0",i),children:a.jsxs(Iz,{shouldFilter:!1,children:[a.jsx(qz,{placeholder:`Search ${e.toLowerCase()}...`,className:"h-9",value:y,onValueChange:E}),a.jsxs(Wz,{children:[T&&a.jsx(S0,{children:"Loading..."}),O&&a.jsx(S0,{children:"Error loading data."}),!T&&!O&&S.length===0&&a.jsxs(S0,{children:["No ",e.toLowerCase()," found."]}),!T&&!O&&S.length>0&&a.jsx(Yz,{children:S.map(L=>a.jsxs(Gz,{value:L.value,onSelect:D,children:[L.label,a.jsx(SM,{className:rn("ml-auto",t===L.value?"opacity-100":"opacity-0")})]},L.value))})]})]})})]})}const sC=({project:e,isOpen:t,onClose:s,onSuccess:n})=>{const{updateProject:i,isLoading:l}=oL(),{currentUser:c}=Tn(),{data:u}=kt("Project",(e==null?void 0:e.name)||"",e!=null&&e.name?"Project":void 0),h=(u==null?void 0:u.users)||(e==null?void 0:e.users)||[],f=()=>{if(c==="Administrator"||(e==null?void 0:e.owner)===c)return!0;const T=h.find(O=>O.user===c);return(T==null?void 0:T.project_status)==="Project Manager (Owner Substitute)"},{register:g,control:p,handleSubmit:b,reset:y,formState:{errors:j}}=Cm({defaultValues:{project_name:"",customer:"",project_type:"",status:"Open",priority:"Medium",department:"",team:"",company:"",cost_center:"",expected_start_date:"",expected_end_date:"",notes:""}});N.useEffect(()=>{e&&y({project_name:e.project_name||"",customer:e.customer||"",project_type:e.project_type||"",status:e.status||"Open",priority:e.priority||"Medium",department:e.department||"",team:e.team||"",company:e.company||"",cost_center:e.cost_center||"",expected_start_date:e.expected_start_date?e.expected_start_date.split(" ")[0]:"",expected_end_date:e.expected_end_date?e.expected_end_date.split(" ")[0]:"",notes:e.notes||""})},[e,y]);const v=T=>fe(null,null,function*(){if(e){if(T.status==="Completed"&&!f()){cs.error("Permission denied",{description:"You don't have permission to mark this project as Completed. Only Project Owner, Project Manager, or Administrator can do this."});return}try{yield i(e.name,T),cs.success("Project updated successfully"),n&&setTimeout(()=>{n()},100),s()}catch(O){let S="Edit project failed";if(O!=null&&O._server_messages)try{const C=JSON.parse(O._server_messages);Array.isArray(C)&&C.length>0&&(S=JSON.parse(C[0]).message||S)}catch(C){console.error("Parse error messages failed:",C)}else O!=null&&O.message&&(S=O.message);cs.error("Update project failed",{description:S}),console.error("Error updating project:",O)}}}),_=()=>{e&&y({project_name:e.project_name||"",customer:e.customer||"",project_type:e.project_type||"",status:e.status||"Open",priority:e.priority||"Medium",department:e.department||"",team:e.team||"",company:e.company||"",cost_center:e.cost_center||"",expected_start_date:e.expected_start_date?e.expected_start_date.split(" ")[0]:"",expected_end_date:e.expected_end_date?e.expected_end_date.split(" ")[0]:"",notes:e.notes||""}),s()};return a.jsx(hn,{open:t,onOpenChange:s,children:a.jsxs(fn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[a.jsx(mn,{children:a.jsx(gn,{children:"Edit Project"})}),a.jsxs("form",{onSubmit:b(v),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"project_name",children:"Project Name *"}),a.jsx(zt,oe(z({id:"project_name"},g("project_name",{required:"Project name is required",maxLength:{value:100,message:"Project name cannot exceed 100 characters"}})),{placeholder:"Enter project name"})),j.project_name&&a.jsx("span",{className:"text-red-500 text-sm",children:j.project_name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Ie,{children:"Customer"}),a.jsx(va,{name:"customer",control:p,render:({field:T})=>a.jsx(wa,{doctype:"Customer",value:T.value||"",onChange:T.onChange,placeholder:"Select customer...",displayField:"customer_name",valueField:"name",className:"w-full"})})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Ie,{children:"Project Type"}),a.jsx(va,{name:"project_type",control:p,render:({field:T})=>a.jsx(wa,{doctype:"Project Type",value:T.value||"",onChange:T.onChange,placeholder:"Select type...",className:"w-full"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{children:"Status"}),a.jsxs("select",oe(z({},g("status")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[a.jsx("option",{value:"",children:"Select status..."}),a.jsx("option",{value:"Open",children:"Open"}),f()&&a.jsx("option",{value:"Completed",children:"Completed"}),a.jsx("option",{value:"Cancelled",children:"Cancelled"})]})),!f()&&a.jsx("span",{className:"text-xs text-amber-600",children:"You dont have permission to mark Completed"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{children:"Priority"}),a.jsxs("select",oe(z({},g("priority")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[a.jsx("option",{value:"",children:"Select priority..."}),a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Urgent",children:"Urgent"})]}))]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Ie,{children:"Team"}),a.jsx(va,{name:"team",control:p,render:({field:T})=>a.jsx(wa,{doctype:"Team",value:T.value||"",onChange:T.onChange,placeholder:"Select team...",className:"w-full"})})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Ie,{children:"Company"}),a.jsx(va,{name:"company",control:p,render:({field:T})=>a.jsx(wa,{doctype:"Company",value:T.value||"",onChange:T.onChange,placeholder:"Select company...",className:"w-full"})})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Ie,{children:"Cost Center"}),a.jsx(va,{name:"cost_center",control:p,render:({field:T})=>a.jsx(wa,{doctype:"Cost Center",value:T.value||"",onChange:T.onChange,placeholder:"Select cost center...",className:"w-full"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"expected_start_date",children:"Expected Start Date"}),a.jsx(zt,z({id:"expected_start_date",type:"date"},g("expected_start_date")))]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"expected_end_date",children:"Expected End Date"}),a.jsx(zt,z({id:"expected_end_date",type:"date"},g("expected_end_date")))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"notes",children:"Notes"}),a.jsx("textarea",oe(z({id:"notes"},g("notes")),{placeholder:"Enter project notes",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}))]}),a.jsxs(An,{className:"flex gap-2",children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:_,children:"Cancel"}),a.jsx(Qe,{type:"submit",disabled:l,children:l?"Updating...":"Update Project"})]})]})]})})},nC=({project:e,isOpen:t,onClose:s,onSuccess:n})=>{const{deleteProjectCascade:i}=pL(),[l,c]=N.useState(!1),[u,h]=N.useState(null),[f,g]=N.useState(""),p=()=>fe(null,null,function*(){if(!e){console.error("No project selected for deletion"),cs.error("Delete project failed",{description:"No project selected"});return}if(l){console.log("Delete already in progress, ignoring duplicate request");return}c(!0),h(null),g("Starting deletion...");try{console.log(`Starting deletion for project: ${e.name}`),g("Deleting subtasks..."),yield new Promise(j=>setTimeout(j,300)),g("Deleting tasks..."),yield new Promise(j=>setTimeout(j,300)),g("Deleting project phases..."),yield new Promise(j=>setTimeout(j,300)),g("Cleaning up dependencies..."),yield new Promise(j=>setTimeout(j,300)),g("Deleting project...");const y=yield i(e.name);g("Deletion completed successfully!"),console.log("Cascade deletion result:",y),cs.success("Project deleted successfully",{description:`Project "${e.name}" and all related items have been deleted.`}),n&&n(),s()}catch(y){let j="Delete project failed",v=!1;if(y!=null&&y._server_messages)try{const _=JSON.parse(y._server_messages);Array.isArray(_)&&_.length>0&&(j=JSON.parse(_[0]).message||j)}catch(_){console.error("Parse error messages failed:",_)}else y!=null&&y.message&&(j=y.message,(j.includes("dependencies")||j.includes("linked")||j.includes("referenced")||j.includes("Unknown project deletion error"))&&(v=!0,j+=`

Tip: This error usually resolves on the second attempt. Please try again.`));console.error("Error deleting project:",y),cs.error("Delete project failed",{description:j,duration:v?8e3:5e3}),h(y instanceof Error?y:new Error(j)),g("")}finally{c(!1)}}),b=()=>{l||(h(null),g(""),s())};return a.jsx(hn,{open:t,onOpenChange:s,children:a.jsxs(fn,{className:"sm:max-w-[400px]",children:[a.jsx(mn,{children:a.jsxs(gn,{className:"flex items-center gap-2 text-red-600",children:[a.jsx(gc,{className:"h-5 w-5"}),"Delete Project"]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this project? This action cannot be undone."}),e&&a.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[a.jsx("div",{className:"font-medium text-gray-900",children:e.project_name}),a.jsx("div",{className:"text-sm text-gray-600",children:e.customer||"No customer"}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]})]}),a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[a.jsxs("div",{className:"text-sm text-red-800",children:[a.jsx("strong",{children:"Warning:"})," This will permanently delete in the following order:"]}),a.jsxs("ol",{className:"text-sm text-red-700 mt-1 ml-4 list-decimal",children:[a.jsx("li",{children:"All subtasks in all tasks"}),a.jsx("li",{children:"All tasks in the project"}),a.jsx("li",{children:"All project phases"}),a.jsx("li",{children:"All ToDo assignments"}),a.jsx("li",{children:"All project team members"}),a.jsx("li",{children:"The project itself"})]}),a.jsx("div",{className:"text-sm text-red-800 mt-2",children:a.jsx("strong",{children:"This action cannot be undone!"})})]}),l&&f&&a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(X0,{className:"h-4 w-4 animate-spin text-blue-600"}),a.jsxs("span",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Progress:"})," ",f]})]}),a.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"Please wait while we delete all related items..."})]}),u&&a.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:a.jsxs("p",{children:[a.jsx("strong",{children:"Error:"})," ",u.message||"Failed to delete project"]})})]}),a.jsxs(An,{className:"flex gap-2",children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:b,disabled:l,children:l?"Deleting...":"Cancel"}),a.jsx(Qe,{type:"button",variant:"destructive",onClick:p,disabled:l,className:"min-w-[120px]",children:l?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(X0,{className:"h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete Project"})]})]})})},aC=({project:e,onProjectUpdated:t,onProjectDeleted:s})=>{const[n,i]=N.useState(!1),[l,c]=N.useState(!1),[u,h]=N.useState(!1),f=y=>{y&&y.stopPropagation(),i(!0),h(!1)},g=y=>{y&&y.stopPropagation(),c(!0),h(!1)},p=()=>{t&&t()},b=()=>{s&&s()};return a.jsxs(a.Fragment,{children:[a.jsxs(uy,{open:u,onOpenChange:h,children:[a.jsx(hy,{asChild:!0,children:a.jsx(Qe,{variant:"ghost",size:"sm",onClick:y=>{y.stopPropagation(),h(!u)},className:"h-8 w-8 p-0",children:a.jsx($M,{className:"h-4 w-4"})})}),a.jsx(fy,{className:"w-48 p-2",align:"end",onClick:y=>y.stopPropagation(),children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs(Qe,{variant:"ghost",size:"sm",onClick:y=>f(y),className:"w-full justify-start text-left",children:[a.jsx(m5,{className:"mr-2 h-4 w-4"}),"Edit Project"]}),a.jsxs(Qe,{variant:"ghost",size:"sm",onClick:y=>g(y),className:"w-full justify-start text-left text-red-600 hover:text-red-700 hover:bg-red-50",children:[a.jsx(Vi,{className:"mr-2 h-4 w-4"}),"Delete Project"]})]})})]}),a.jsx(sC,{project:e,isOpen:n,onClose:()=>i(!1),onSuccess:p}),a.jsx(nC,{project:e,isOpen:l,onClose:()=>c(!1),onSuccess:b})]})},Xz=({projects:e,onProjectsChange:t})=>{const s=dm(),n=l=>{s(`/projects/${l.name}`)},i=l=>{switch(l){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}};return a.jsx(a.Fragment,{children:a.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:e.map(l=>a.jsxs("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 hover:shadow-md transition-shadow duration-200 cursor-pointer",onClick:()=>n(l),children:[a.jsx("div",{className:"h-48 bg-gray-200 flex items-center justify-center",children:a.jsx("div",{className:"text-4xl font-bold text-gray-400",children:l.project_name.charAt(0).toUpperCase()})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate flex-1",children:l.project_name}),a.jsxs("div",{className:"flex items-center gap-2",onClick:c=>c.stopPropagation(),children:[a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${i(l.status)}`,children:l.status||"Open"}),a.jsx(aC,{project:l,onProjectUpdated:t,onProjectDeleted:t})]})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:l.project_type||"N/A"}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Progress"}),a.jsxs("span",{className:"text-sm text-gray-600",children:[l.percent_complete||0,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${l.percent_complete||0}%`}})})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[a.jsx("span",{children:l.customer||"N/A"}),a.jsx("span",{children:Ai(l.estimated_costing)})]})]})]},l.name))})})},Kz=0,Qz=1,Zz=2;var k2=Object.prototype.hasOwnProperty;function xx(e,t){var s,n;if(e===t)return!0;if(e&&t&&(s=e.constructor)===t.constructor){if(s===Date)return e.getTime()===t.getTime();if(s===RegExp)return e.toString()===t.toString();if(s===Array){if((n=e.length)===t.length)for(;n--&&xx(e[n],t[n]););return n===-1}if(!s||typeof e=="object"){n=0;for(s in e)if(k2.call(e,s)&&++n&&!k2.call(t,s)||!(s in t)||!xx(e[s],t[s]))return!1;return Object.keys(t).length===n}}return e!==e&&t!==t}const Po=new WeakMap,Li=()=>{},ja=Li(),yx=Object,ur=e=>e===ja,Lo=e=>typeof e=="function",Om=(e,t)=>z(z({},e),t),Jz=e=>Lo(e.then),k0={},ff={},rC="undefined",Xy=typeof window!=rC,bx=typeof document!=rC,eU=Xy&&"Deno"in window,tU=(e,t)=>{const s=Po.get(e);return[()=>!ur(t)&&e.get(t)||k0,n=>{if(!ur(t)){const i=e.get(t);t in ff||(ff[t]=i),s[5](t,Om(i,n),i||k0)}},s[6],()=>!ur(t)&&t in ff?ff[t]:!ur(t)&&e.get(t)||k0]};let vx=!0;const sU=()=>vx,[wx,jx]=Xy&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Li,Li],nU=()=>{const e=bx&&document.visibilityState;return ur(e)||e!=="hidden"},aU=e=>(bx&&document.addEventListener("visibilitychange",e),wx("focus",e),()=>{bx&&document.removeEventListener("visibilitychange",e),jx("focus",e)}),rU=e=>{const t=()=>{vx=!0,e()},s=()=>{vx=!1};return wx("online",t),wx("offline",s),()=>{jx("online",t),jx("offline",s)}},iU={isOnline:sU,isVisible:nU},oU={initFocus:aU,initReconnect:rU};ye.useId;const iC=!Xy||eU,C0=typeof navigator!="undefined"&&navigator.connection,C2=!iC&&C0&&(["slow-2g","2g"].includes(C0.effectiveType)||C0.saveData),mf=new WeakMap,lU=e=>yx.prototype.toString.call(e),E0=(e,t)=>e===`[object ${t}]`;let cU=0;const Nx=e=>{const t=typeof e,s=lU(e),n=E0(s,"Date"),i=E0(s,"RegExp"),l=E0(s,"Object");let c,u;if(yx(e)===e&&!n&&!i){if(c=mf.get(e),c)return c;if(c=++cU+"~",mf.set(e,c),Array.isArray(e)){for(c="@",u=0;u<e.length;u++)c+=Nx(e[u])+",";mf.set(e,c)}if(l){c="#";const h=yx.keys(e).sort();for(;!ur(u=h.pop());)ur(e[u])||(c+=u+":"+Nx(e[u])+",");mf.set(e,c)}}else c=n?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return c},dU=e=>{if(Lo(e))try{e=e()}catch(s){e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Nx(e):"",[e,t]};let uU=0;const E2=()=>++uU;function hU(...e){return fe(this,null,function*(){const[t,s,n,i]=e,l=Om({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let c=l.populateCache;const u=l.rollbackOnError;let h=l.optimisticData;const f=b=>typeof u=="function"?u(b):u!==!1,g=l.throwOnError;if(Lo(s)){const b=s,y=[],j=t.keys();for(const v of j)!/^\$(inf|sub)\$/.test(v)&&b(t.get(v)._k)&&y.push(v);return Promise.all(y.map(p))}return p(s);function p(b){return fe(this,null,function*(){const[y]=dU(b);if(!y)return;const[j,v]=tU(t,y),[_,T,O,S]=Po.get(t),C=()=>{const q=_[y];return(Lo(l.revalidate)?l.revalidate(j().data,b):l.revalidate!==!1)&&(delete O[y],delete S[y],q&&q[0])?q[0](Zz).then(()=>j().data):j().data};if(e.length<3)return C();let D=n,E,L=!1;const F=E2();T[y]=[F,0];const R=!ur(h),K=j(),W=K.data,Q=K._c,H=ur(Q)?W:Q;if(R&&(h=Lo(h)?h(H,W):h,v({data:h,_c:H})),Lo(D))try{D=D(H)}catch(q){E=q,L=!0}if(D&&Jz(D))if(D=yield D.catch(q=>{E=q,L=!0}),F!==T[y][0]){if(L)throw E;return D}else L&&R&&f(E)&&(c=!0,v({data:H,_c:ja}));if(c&&!L)if(Lo(c)){const q=c(D,H);v({data:q,error:ja,_c:ja})}else v({data:D,error:ja,_c:ja});if(T[y][1]=E2(),Promise.resolve(C()).then(()=>{v({_c:ja})}),L){if(g)throw E;return}return D})}})}const D2=(e,t)=>{for(const s in e)e[s][0]&&e[s][0](t)},fU=(e,t)=>{if(!Po.has(e)){const s=Om(oU,t),n=Object.create(null),i=hU.bind(ja,e);let l=Li;const c=Object.create(null),u=(g,p)=>{const b=c[g]||[];return c[g]=b,b.push(p),()=>b.splice(b.indexOf(p),1)},h=(g,p,b)=>{e.set(g,p);const y=c[g];if(y)for(const j of y)j(p,b)},f=()=>{if(!Po.has(e)&&(Po.set(e,[n,Object.create(null),Object.create(null),Object.create(null),i,h,u]),!iC)){const g=s.initFocus(setTimeout.bind(ja,D2.bind(ja,n,Kz))),p=s.initReconnect(setTimeout.bind(ja,D2.bind(ja,n,Qz)));l=()=>{g&&g(),p&&p(),Po.delete(e)}}};return f(),[e,i,f,l]}return[e,Po.get(e)[4]]},mU=(e,t,s,n,i)=>{const l=s.errorRetryCount,c=i.retryCount,u=~~((Math.random()+.5)*(1<<(c<8?c:8)))*s.errorRetryInterval;!ur(l)&&c>l||setTimeout(n,u,i)},gU=xx,[pU,rc]=fU(new Map);Om({onLoadingSlow:Li,onSuccess:Li,onError:Li,onErrorRetry:mU,onDiscarded:Li,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:C2?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:C2?5e3:3e3,compare:gU,isPaused:()=>!1,cache:pU,mutate:rc,fallback:{}},iU);N.createContext({});const xU=({projects:e,onProjectsChange:t})=>{const s=dm(),[n,i]=N.useState(null),l=p=>{s(`/projects/${p.name}`)},c=()=>{setTimeout(()=>{i(null)},5e3),console.log("handleProjectUpdated called, about to refresh data..."),rc(p=>typeof p=="string"&&p.includes("Project"),void 0,{revalidate:!0}),rc("/api/resource/Project"),rc("Project"),t?(console.log("Calling onProjectsChange to refresh data immediately"),t()):console.log("onProjectsChange is not available"),setTimeout(()=>{t&&(console.log("Calling onProjectsChange again as backup"),t())},100)},u=()=>{i(null),t&&t()},h=N.useMemo(()=>[...e].sort((p,b)=>{const y=new Date(p.modified||p.creation||0);return new Date(b.modified||b.creation||0).getTime()-y.getTime()}),[e]),f=p=>{switch(p){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},g=p=>p?new Date(p).toLocaleDateString():"N/A";return a.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:a.jsx("div",{className:"overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progress"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Budget"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Deadline"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(p=>a.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer transition-colors ${n===p.name?"bg-green-50 border-l-4 border-green-400":""}`,onClick:()=>l(p),children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:a.jsx("div",{className:"h-10 w-10 rounded-lg bg-gray-200 flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-bold text-gray-600",children:p.project_name.charAt(0).toUpperCase()})})}),a.jsxs("div",{className:"ml-4",style:{maxWidth:"300px"},children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 cursor-help",title:p.project_name,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:p.project_name}),a.jsx("div",{className:"text-sm text-gray-500",children:p.project_type||"N/A"})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${f(p.status)}`,children:p.status||"Open"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${p.percent_complete||0}%`}})}),a.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[p.percent_complete||0,"%"]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Ai(p.estimated_costing)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g(p.expected_end_date)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",onClick:b=>b.stopPropagation(),children:a.jsx(aC,{project:p,onProjectUpdated:c,onProjectDeleted:u})})]},p.name))})]})})})},yU=({projects:e,onFilteredProjectsChange:t,viewMode:s,onViewModeChange:n})=>{var j;const[i,l]=ye.useState({searchText:"",selectedTeam:"",selectedStatus:""}),[c,u]=ye.useState(!1),{data:h=[]}=oS(),f=[{value:"",label:"All Status"},{value:"Open",label:"Open"},{value:"Completed",label:"Completed"},{value:"Cancelled",label:"Cancelled"}],g=ye.useMemo(()=>{const v=[{value:"",label:"All Teams"},...h.map(_=>({value:_.name,label:_.team||_.name}))];return[v[0],...v.slice(1).sort((_,T)=>_.label.localeCompare(T.label))]},[h]);ye.useEffect(()=>{let v=[...e];if(i.searchText.trim()){const _=i.searchText.toLowerCase();v=v.filter(T=>T.project_name.toLowerCase().includes(_)||T.name.toLowerCase().includes(_))}i.selectedTeam&&(v=v.filter(_=>(_.team||"")===i.selectedTeam)),i.selectedStatus&&(v=v.filter(_=>_.status===i.selectedStatus)),t(v)},[i.searchText,i.selectedTeam,i.selectedStatus,e]);const p=(v,_)=>{l(T=>oe(z({},T),{[v]:_}))},b=()=>{l({searchText:"",selectedTeam:"",selectedStatus:""})},y=i.searchText||i.selectedTeam||i.selectedStatus;return a.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[a.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(mc,{className:"h-4 w-4 text-gray-400"})}),a.jsx("input",{type:"text",value:i.searchText,onChange:v=>p("searchText",v.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Search projects by name..."})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>u(!c),className:`inline-flex items-center px-3 py-2 border rounded-md text-sm font-medium bg-white hover:bg-gray-50 ${y?"border-blue-500 text-blue-700 bg-blue-50":"border-gray-300 text-gray-700"}`,children:[a.jsx(pu,{className:"mr-2 h-4 w-4"}),"Bộ lọc",y&&a.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[i.selectedTeam,i.selectedStatus].filter(Boolean).length})]}),c&&a.jsx("div",{className:"absolute top-full left-0 mt-2 w-80 bg-white border border-gray-200 rounded-md shadow-lg z-10",children:a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Filters"}),y&&a.jsx("button",{onClick:b,className:"text-sm text-blue-600 hover:text-blue-800",children:"Clear all"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team"}),a.jsx("select",{value:i.selectedTeam,onChange:v=>p("selectedTeam",v.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:h.length===0,children:g.map(v=>a.jsx("option",{value:v.value,children:v.label},v.value))}),h.length===0&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No teams available"}),h.length>0&&e.filter(v=>v.team).length===0&&a.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"Projects haven't been assigned to teams yet"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsx("select",{value:i.selectedStatus,onChange:v=>p("selectedStatus",v.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:f.map(v=>a.jsx("option",{value:v.value,children:v.label},v.value))})]})]})})]}),a.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 border border-gray-200 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>n("grid"),className:`p-2 rounded-md transition-colors ${s==="grid"?"bg-white text-blue-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,title:"Grid view",children:a.jsx(KM,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>n("list"),className:`p-2 rounded-md transition-colors ${s==="list"?"bg-white text-blue-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,title:"List view",children:a.jsx(n5,{className:"h-4 w-4"})})]})]}),y&&a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[a.jsx("span",{children:"Active filters:"}),a.jsxs("div",{className:"flex space-x-1",children:[i.selectedTeam&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Team: ",(j=g.find(v=>v.value===i.selectedTeam))==null?void 0:j.label,a.jsx("button",{onClick:()=>p("selectedTeam",""),className:"ml-1 text-blue-600 hover:text-blue-800",children:"×"})]}),i.selectedStatus&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Status: ",i.selectedStatus,a.jsx("button",{onClick:()=>p("selectedStatus",""),className:"ml-1 text-green-600 hover:text-green-800",children:"×"})]})]})]})]}),c&&a.jsx("div",{className:"fixed inset-0 z-5",onClick:()=>u(!1)})]})},bU=({onProjectCreated:e})=>{const[t,s]=N.useState(!1),{createProject:n,isLoading:i}=iL(),{register:l,control:c,handleSubmit:u,reset:h,formState:{errors:f,isSubmitting:g}}=Cm({defaultValues:{status:"Open",priority:"Medium"}}),p=b=>fe(null,null,function*(){try{yield n(b),h(),s(!1),rc(y=>typeof y=="string"&&y.includes("Project"),void 0,{revalidate:!0}),cs.success("Project created successfully"),e&&e()}catch(y){let j="Create project failed";if(y!=null&&y._server_messages)try{const v=JSON.parse(y._server_messages);Array.isArray(v)&&v.length>0&&(j=JSON.parse(v[0]).message||j)}catch(v){console.error("Parse error messages failed:",v)}else y!=null&&y.message&&(j=y.message);cs.error("Create project failed",{description:j}),console.error("Error creating project:",y)}});return a.jsxs(hn,{open:t,onOpenChange:s,children:[a.jsx(N7,{asChild:!0,children:a.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[a.jsx(gr,{className:"mr-2 h-4 w-4"}),"New Project"]})}),a.jsx(fn,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:a.jsxs("form",{onSubmit:u(p),children:[a.jsxs(mn,{children:[a.jsx(gn,{children:"Create New Project"}),a.jsx(ju,{children:"Fill in the project details. Fields marked with * are required."})]}),a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsxs(Ie,{htmlFor:"project_name",children:["Project Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(zt,oe(z({id:"project_name"},l("project_name",{required:"Project name is required",maxLength:{value:100,message:"Project name cannot exceed 100 characters"}})),{placeholder:"Enter project name"})),f.project_name&&a.jsx("span",{className:"text-red-500 text-sm",children:f.project_name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Ie,{children:"Customer"}),a.jsx(va,{name:"customer",control:c,render:({field:b})=>a.jsx(wa,{doctype:"Customer",value:b.value||"",onChange:b.onChange,placeholder:"Select customer...",displayField:"customer_name",valueField:"name",className:"w-full"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Ie,{children:"Project Type"}),a.jsx(va,{name:"project_type",control:c,render:({field:b})=>a.jsx(wa,{doctype:"Project Type",value:b.value||"",onChange:b.onChange,placeholder:"Select type...",className:"w-full"})})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsxs(Ie,{children:["Status ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",oe(z({},l("status",{required:"Status is required"})),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[a.jsx("option",{value:"Open",children:"Open"}),a.jsx("option",{value:"Completed",children:"Completed"}),a.jsx("option",{value:"Cancelled",children:"Cancelled"})]}))]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Ie,{children:"Priority"}),a.jsxs("select",oe(z({},l("priority")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[a.jsx("option",{value:"",children:"Select priority..."}),a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Critical",children:"Critical"})]}))]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Ie,{children:"Team"}),a.jsx(va,{name:"team",control:c,render:({field:b})=>a.jsx(wa,{doctype:"Team",value:b.value||"",onChange:b.onChange,placeholder:"Select team...",className:"w-full"})})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Ie,{children:"Company"}),a.jsx(va,{name:"company",control:c,render:({field:b})=>a.jsx(wa,{doctype:"Company",value:b.value||"",onChange:b.onChange,placeholder:"Select company...",className:"w-full"})})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Ie,{children:"Cost Center"}),a.jsx(va,{name:"cost_center",control:c,render:({field:b})=>a.jsx(wa,{doctype:"Cost Center",value:b.value||"",onChange:b.onChange,placeholder:"Select cost center...",displayField:"cost_center_name",valueField:"name",className:"w-full"})})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Ie,{children:"Project Template"}),a.jsx(va,{name:"project_template",control:c,render:({field:b})=>a.jsx(wa,{doctype:"Project Template",value:b.value||"",onChange:b.onChange,placeholder:"Select project template...",className:"w-full"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Ie,{children:"Expected Start Date"}),a.jsx(zt,z({type:"date"},l("expected_start_date")))]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Ie,{children:"Expected End Date"}),a.jsx(zt,z({type:"date"},l("expected_end_date")))]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Ie,{children:"Notes"}),a.jsx("textarea",oe(z({},l("notes")),{placeholder:"Enter project notes...",rows:3,className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"}))]})]}),a.jsxs(An,{children:[a.jsx(T7,{asChild:!0,children:a.jsx(Qe,{type:"button",variant:"outline",children:"Cancel"})}),a.jsx(Qe,{type:"submit",disabled:g||i,className:"bg-blue-600 hover:bg-blue-700",children:g||i?"Creating...":"Create Project"})]})]})})]})},vU=()=>{const[e,t]=ye.useState("list"),[s,n]=ye.useState([]),[i,l]=ye.useState(1),c=10,{data:u=[],isLoading:h,error:f,mutate:g}=rL();ye.useEffect(()=>{n(u),l(1)},[u]);const p=Math.ceil(s.length/c),b=(i-1)*c,y=b+c,j=s.slice(b,y),v=()=>fe(null,null,function*(){g&&(yield g())}),_=ye.useCallback(O=>{n(O),l(1)},[]),T=O=>{l(O)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Projects"}),a.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Showing ",b+1,"-",Math.min(y,s.length)," of ",s.length," projects (Total: ",u.length,")"]})]}),a.jsx("div",{className:"mt-4 flex md:mt-0 md:ml-4",children:a.jsx(bU,{onProjectCreated:v})})]}),!h&&!f&&u.length>0&&a.jsx(yU,{projects:u,onFilteredProjectsChange:_,viewMode:e,onViewModeChange:t}),h?a.jsx("div",{className:"flex justify-center items-center p-8",children:a.jsx("div",{className:"text-gray-500",children:"Loading projects..."})}):f?a.jsx("div",{className:"flex flex-col justify-center items-center p-8 bg-red-50 rounded-lg border border-red-200",children:a.jsxs("div",{className:"text-red-700 text-center",children:[a.jsx("p",{className:"text-lg font-medium mb-2",children:"Error loading projects"}),a.jsx("p",{className:"text-sm mb-2",children:f.message}),f.message.includes("PermissionError")&&a.jsxs("div",{className:"text-sm text-red-600 bg-red-100 p-3 rounded mt-2",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Permission Issue:"})," You don't have access to view projects."]}),a.jsx("p",{children:"Please contact your system administrator to:"}),a.jsxs("ul",{className:"list-disc list-inside mt-1",children:[a.jsx("li",{children:'Grant you "Read" permission for Project doctype'}),a.jsx("li",{children:"Add you to projects as a team member"}),a.jsx("li",{children:"Make you the owner of projects"})]})]})]})}):u.length===0?a.jsx("div",{className:"flex flex-col justify-center items-center p-8 bg-white rounded-lg border border-gray-200",children:a.jsxs("div",{className:"text-gray-500 text-center",children:[a.jsx("p",{className:"text-lg font-medium mb-2",children:"No projects found"}),a.jsx("p",{className:"text-sm",children:"You are not currently participating in any projects."}),a.jsx("p",{className:"text-sm",children:"Create a new project or ask to be added to an existing one."})]})}):s.length===0?a.jsx("div",{className:"flex flex-col justify-center items-center p-8 bg-white rounded-lg border border-gray-200",children:a.jsxs("div",{className:"text-gray-500 text-center",children:[a.jsx("p",{className:"text-lg font-medium mb-2",children:"No projects match your filters"}),a.jsx("p",{className:"text-sm",children:"Try adjusting your search criteria or clear the filters."})]})}):a.jsxs(a.Fragment,{children:[e==="grid"?a.jsx(Xz,{projects:j,onProjectsChange:v}):a.jsx(xU,{projects:j,onProjectsChange:v}),p>1&&a.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6 mt-6",children:[a.jsxs("div",{className:"flex flex-1 justify-between sm:hidden",children:[a.jsx("button",{onClick:()=>T(i-1),disabled:i===1,className:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),a.jsx("button",{onClick:()=>T(i+1),disabled:i===p,className:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),a.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",a.jsx("span",{className:"font-medium",children:b+1})," to"," ",a.jsx("span",{className:"font-medium",children:Math.min(y,s.length)})," of"," ",a.jsx("span",{className:"font-medium",children:s.length})," results"]})}),a.jsx("div",{children:a.jsxs("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination",children:[a.jsxs("button",{onClick:()=>T(i-1),disabled:i===1,className:"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx("span",{className:"sr-only",children:"Previous"}),a.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:a.jsx("path",{fillRule:"evenodd",d:"M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z",clipRule:"evenodd"})})]}),Array.from({length:p},(O,S)=>S+1).map(O=>a.jsx("button",{onClick:()=>T(O),className:`relative inline-flex items-center px-4 py-2 text-sm font-semibold ${O===i?"bg-indigo-600 text-white focus:z-20 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600":"text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0"}`,children:O},O)),a.jsxs("button",{onClick:()=>T(i+1),disabled:i===p,className:"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx("span",{className:"sr-only",children:"Next"}),a.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:a.jsx("path",{fillRule:"evenodd",d:"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z",clipRule:"evenodd"})})]})]})})]})]})]})]})};function Mm({doctype:e,docname:t,title:s="File Attachments",allowUpload:n=!0,allowDelete:i=!0,className:l=""}){const[c,u]=N.useState(!1),[h,f]=N.useState(!1),[g,p]=N.useState(null),[b,y]=N.useState(!1),[j,v]=N.useState(""),[_,T]=N.useState(""),[O,S]=N.useState(!1),C=N.useRef(null),{currentUser:D}=Tn(),{data:E,mutate:L,isLoading:F}=mt("File",{fields:["name","file_name","file_url","file_size","is_private","attached_to_doctype","attached_to_name","creation","owner","modified"],filters:[["attached_to_doctype","=",e],["attached_to_name","=",t]],orderBy:{field:"creation",order:"desc"},limit:0}),{call:R}=$s("frappe.client.delete"),K=P=>{var ge;if(se(P))return a.jsx(zd,{className:"h-6 w-6 text-blue-500"});switch((ge=P.file_name.split(".").pop())==null?void 0:ge.toLowerCase()){case"pdf":return a.jsx(Ds,{className:"h-6 w-6 text-red-500"});case"doc":case"docx":return a.jsx(Ds,{className:"h-6 w-6 text-blue-500"});case"xls":case"xlsx":return a.jsx(Ds,{className:"h-6 w-6 text-green-500"});case"ppt":case"pptx":return a.jsx(Ds,{className:"h-6 w-6 text-orange-500"});case"jpg":case"jpeg":case"png":case"gif":case"webp":return a.jsx(ZM,{className:"h-6 w-6 text-purple-500"});case"zip":case"rar":case"7z":return a.jsx(pM,{className:"h-6 w-6 text-gray-500"});default:return a.jsx(Hh,{className:"h-6 w-6 text-gray-500"})}},W=P=>{if(P===0)return"0 Bytes";const ne=1024,ge=["Bytes","KB","MB","GB"],G=Math.floor(Math.log(P)/Math.log(ne));return parseFloat((P/Math.pow(ne,G)).toFixed(2))+" "+ge[G]},Q=P=>fe(null,null,function*(){var _e;if(!P||P.length===0)return;const ne=25*1024*1024,ge=Array.from(P).filter(me=>me.size>ne);if(ge.length>0){const me=ge.map(Le=>Le.name).join(", ");setTimeout(()=>{As.error(`File(s) too large: ${me}. Maximum size is 25MB per file.`)},100);return}u(!0);let G=0,re=0;try{for(let me=0;me<P.length;me++){const Le=P[me],we=new FormData;we.append("file",Le),we.append("doctype",e),we.append("docname",t),we.append("is_private","0");try{const Ee=yield fetch("/api/method/upload_file",{method:"POST",body:we,credentials:"include"});if(!Ee.ok){const Oe=yield Ee.text();throw Oe.includes("too large")||Oe.includes("size")||Ee.status===413?new Error(`File "${Le.name}" is too large. Maximum size is 25MB.`):new Error(`Upload failed for "${Le.name}": ${Ee.statusText}`)}let X;try{X=yield Ee.json()}catch(Oe){console.log("Response is not JSON, assuming success")}if((_e=X==null?void 0:X.message)!=null&&_e.error)throw new Error(`Upload failed for "${Le.name}": ${X.message.error}`);G++}catch(Ee){console.error(`Error uploading file ${Le.name}:`,Ee);const X=Ee instanceof Error?Ee.message:String(Ee);(X.includes("too large")||X.includes("25MB"))&&Le.size>ne&&setTimeout(()=>{As.error(X)},100),re++}}setTimeout(()=>fe(null,null,function*(){yield L()}),500)}catch(me){}finally{u(!1)}}),H=P=>fe(null,null,function*(){if(confirm(`Are you sure you want to delete "${P.file_name}"?`))try{yield R({doctype:"File",name:P.name}),yield L()}catch(ne){console.error("Error deleting file:",ne),As.error("Failed to delete file")}}),q=()=>fe(null,null,function*(){if(!j.trim()){As.error("Please enter a URL");return}try{new URL(j)}catch(P){As.error("Please enter a valid URL");return}S(!0);try{if(!(yield fetch("/api/method/frappe.client.insert",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({doc:{doctype:"File",file_name:_.trim()||j,file_url:j,attached_to_doctype:e,attached_to_name:t,is_private:0}}),credentials:"include"})).ok)throw new Error("Failed to attach link");v(""),T(""),y(!1),yield L(),As.success("Link attached successfully")}catch(P){console.error("Error attaching link:",P),As.error("Failed to attach link")}finally{S(!1)}}),Y=P=>fe(null,null,function*(){const ne=P.target.files;ne&&ne.length>0&&(yield Q(ne)),P.target.value=""}),$=P=>{p(P),f(!0)},J=P=>{var ge;const ne=(ge=P.split(".").pop())==null?void 0:ge.toLowerCase();return["jpg","jpeg","png","gif","webp","svg"].includes(ne||"")},se=P=>{const ne=P.file_url.startsWith("http://")||P.file_url.startsWith("https://"),ge=P.file_size===0,G=P.file_name.startsWith("http://")||P.file_name.startsWith("https://"),re=!P.file_name.includes(".")||P.file_name.split(".").length<2;return ne&&(ge||G||re)},Ne=P=>i&&(P.owner===D||D==="Administrator");return a.jsxs("div",{className:`bg-white border border-gray-200 rounded-xl p-6 ${l}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h3",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(Hh,{className:"h-5 w-5"}),s,E&&a.jsx("span",{className:"inline-flex px-2 py-1 text-sm font-medium bg-blue-100 text-blue-800 rounded-full",children:E.length})]}),n&&a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Qe,{size:"sm",onClick:()=>{var P;return(P=C.current)==null?void 0:P.click()},disabled:c,className:"bg-blue-600 hover:bg-blue-700",children:[a.jsx(K_,{className:"h-4 w-4 mr-1"}),c?"Uploading...":"Upload Files"]}),a.jsxs(Qe,{size:"sm",variant:"outline",onClick:()=>y(!0),disabled:c||O,className:"border-blue-600 text-blue-600 hover:bg-blue-50",children:[a.jsx(zd,{className:"h-4 w-4 mr-1"}),"Attach Link"]}),a.jsx("input",{ref:C,type:"file",multiple:!0,accept:"*/*",onChange:Y,className:"hidden",style:{display:"none"}})]})]}),F&&a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("span",{className:"ml-3 text-gray-600",children:"Loading attachments..."})]}),!F&&a.jsx(a.Fragment,{children:E&&E.length>0?a.jsx("div",{className:"space-y-3",children:E.map(P=>a.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors",children:[a.jsx("div",{className:"flex-shrink-0",children:K(P)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:P.file_name}),a.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[a.jsx("p",{className:"text-xs text-gray-500",children:W(P.file_size)}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Uploaded by ",P.owner]}),a.jsx("p",{className:"text-xs text-gray-500",children:new Date(P.creation).toLocaleDateString()}),P.is_private===1&&a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded",children:"Private"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[J(P.file_name)&&!se(P)&&a.jsxs(Qe,{size:"sm",variant:"outline",onClick:()=>$(P),className:"text-xs",children:[a.jsx(Gx,{className:"h-3 w-3 mr-1"}),"Preview"]}),a.jsx(Qe,{size:"sm",variant:"outline",onClick:()=>window.open(P.file_url,"_blank"),className:"text-xs",children:se(P)?a.jsxs(a.Fragment,{children:[a.jsx(G0,{className:"h-3 w-3 mr-1"}),"Open Link"]}):a.jsxs(a.Fragment,{children:[a.jsx(lc,{className:"h-3 w-3 mr-1"}),"Download"]})}),Ne(P)&&a.jsxs(Qe,{size:"sm",variant:"outline",onClick:()=>H(P),className:"text-xs text-red-600 hover:text-red-700",children:[a.jsx(Vi,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]},P.name))}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Hh,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"No files attached"}),a.jsx("p",{className:"text-gray-500 text-sm mt-2",children:n?"Upload files to attach them to this project":"No files have been attached to this project"})]})}),a.jsx(hn,{open:b,onOpenChange:y,children:a.jsxs(fn,{className:"max-w-md",children:[a.jsx(mn,{children:a.jsxs(gn,{className:"flex items-center gap-2",children:[a.jsx(zd,{className:"h-5 w-5"}),"Attach Link"]})}),a.jsxs("div",{className:"space-y-4 pt-4",children:[a.jsxs("div",{children:[a.jsx(Ie,{htmlFor:"link-url",className:"text-sm font-medium",children:"URL *"}),a.jsx(zt,{id:"link-url",type:"url",placeholder:"https://example.com",value:j,onChange:P=>v(P.target.value),className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx(Ie,{htmlFor:"link-title",className:"text-sm font-medium",children:"Title (optional)"}),a.jsx(zt,{id:"link-title",type:"text",placeholder:"Enter a descriptive title",value:_,onChange:P=>T(P.target.value),className:"mt-1"})]}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsx(Qe,{onClick:q,disabled:!j.trim()||O,className:"flex-1",children:O?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Attaching..."]}):a.jsxs(a.Fragment,{children:[a.jsx(zd,{className:"h-4 w-4 mr-2"}),"Attach Link"]})}),a.jsx(Qe,{variant:"outline",onClick:()=>{y(!1),v(""),T("")},disabled:O,children:"Cancel"})]})]})]})}),h&&g&&a.jsx(hn,{open:h,onOpenChange:f,children:a.jsxs(fn,{className:"max-w-4xl max-h-[80vh] overflow-hidden",children:[a.jsx(mn,{children:a.jsx(gn,{className:"flex items-center justify-between",children:a.jsx("span",{children:g.file_name})})}),a.jsx("div",{className:"flex items-center justify-center p-4",children:J(g.file_name)?a.jsx("img",{src:g.file_url,alt:g.file_name,className:"max-w-full max-h-[60vh] object-contain"}):a.jsxs("div",{className:"text-center",children:[a.jsx(Hh,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Preview not available for this file type"}),a.jsxs(Qe,{className:"mt-4",onClick:()=>window.open(g.file_url,"_blank"),children:[a.jsx(lc,{className:"h-4 w-4 mr-2"}),"Download File"]})]})})]})})]})}const wU=({isOpen:e,onClose:t,projectName:s,onSuccess:n})=>{const[i,l]=N.useState({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),{createDoc:c,loading:u,error:h}=Qi(),{assignPhase:f}=hS(),{data:g,isLoading:p}=wc(s),b=(v,_)=>{l(T=>oe(z({},T),{[v]:_}))},y=v=>fe(null,null,function*(){if(v.preventDefault(),!!i.subject.trim())try{const _=i,{assign_to:T}=_,O=$e(_,["assign_to"]),S=yield c("project_phase",{project:s,subject:O.subject,start_date:O.start_date||null,end_date:O.end_date||null,priority:O.priority,details:O.details||null,costing:O.costing||0,status:"Open",progress:0});T&&S&&(yield f(S.name,T)),l({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),n&&n(),t()}catch(T){console.error("Failed to create project phase:",T)}}),j=()=>{l({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),t()};return a.jsx(hn,{open:e,onOpenChange:j,children:a.jsxs(fn,{className:"sm:max-w-[500px]",children:[a.jsxs(mn,{children:[a.jsx(gn,{children:"Create New Project Phase"}),a.jsxs(ju,{children:['Add a new phase to organize tasks and milestones for "',s,'".']})]}),a.jsxs("form",{onSubmit:y,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"subject",children:"Phase Name *"}),a.jsx(zt,{id:"subject",value:i.subject,onChange:v=>b("subject",v.target.value),placeholder:"e.g., Planning, Development, Testing",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"priority",children:"Priority"}),a.jsxs("select",{id:"priority",value:i.priority,onChange:v=>b("priority",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Critical",children:"Critical"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"start_date",children:"Start Date"}),a.jsxs("div",{className:"relative",children:[a.jsx(zt,{id:"start_date",type:"date",value:i.start_date,onChange:v=>b("start_date",v.target.value)}),a.jsx(Vs,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"end_date",children:"End Date"}),a.jsxs("div",{className:"relative",children:[a.jsx(zt,{id:"end_date",type:"date",value:i.end_date,onChange:v=>b("end_date",v.target.value),min:i.start_date||void 0}),a.jsx(Vs,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"costing",children:"Estimated Cost"}),a.jsx(zt,{id:"costing",type:"number",value:i.costing,onChange:v=>b("costing",parseFloat(v.target.value)||0),placeholder:"0",min:"0",step:"0.01"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"assign_to",children:"Assign To"}),a.jsxs("select",{id:"assign_to",value:i.assign_to,onChange:v=>b("assign_to",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:p,children:[a.jsx("option",{value:"",children:"Select user..."}),g==null?void 0:g.map(v=>a.jsx("option",{value:v.user||v.name,children:v.user||v.name},v.name))]}),p&&a.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"details",children:"Description"}),a.jsx("textarea",{id:"details",value:i.details,onChange:v=>b("details",v.target.value),placeholder:"Phase description, objectives, and key deliverables...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3})]}),h&&a.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:a.jsx("p",{className:"text-sm text-red-600",children:h.message||"Failed to create project phase. Please try again."})}),a.jsxs(An,{children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:j,disabled:u,children:"Cancel"}),a.jsxs(Qe,{type:"submit",disabled:u||!i.subject.trim(),className:"flex items-center gap-2",children:[u&&a.jsx(X0,{className:"h-4 w-4 animate-spin"}),"Create Phase"]})]})]})]})})},jU=({isOpen:e,onClose:t,projectName:s,onSuccess:n})=>{const[i,l]=N.useState({subject:"",description:"",priority:"Medium",exp_start_date:"",exp_end_date:"",status:"Open"}),{createDoc:c,loading:u,error:h}=Qi(),f=p=>fe(null,null,function*(){if(p.preventDefault(),!!i.subject.trim())try{yield c("Task",{subject:i.subject,description:i.description,priority:i.priority,exp_start_date:i.exp_start_date||null,exp_end_date:i.exp_end_date||null,status:i.status,project:s,is_template:0,progress:0}),l({subject:"",description:"",priority:"Medium",exp_start_date:"",exp_end_date:"",status:"Open"}),n==null||n(),t()}catch(b){console.error("Error creating standalone task:",b)}}),g=(p,b)=>{l(y=>oe(z({},y),{[p]:b}))};return a.jsx(hn,{open:e,onOpenChange:t,children:a.jsxs(fn,{className:"sm:max-w-[500px]",children:[a.jsx(mn,{children:a.jsx(gn,{className:"flex items-center justify-between",children:"Create Standalone Task"})}),a.jsxs("form",{onSubmit:f,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"subject",children:"Task Subject *"}),a.jsx(zt,{id:"subject",value:i.subject,onChange:p=>g("subject",p.target.value),placeholder:"Enter task subject",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"description",children:"Description"}),a.jsx("textarea",{id:"description",value:i.description,onChange:p=>g("description",p.target.value),placeholder:"Enter task description (optional)",rows:3,className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"priority",children:"Priority"}),a.jsxs("select",{id:"priority",value:i.priority,onChange:p=>g("priority",p.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Urgent",children:"Urgent"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"status",children:"Status"}),a.jsxs("select",{id:"status",value:i.status,onChange:p=>g("status",p.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[a.jsx("option",{value:"Open",children:"Open"}),a.jsx("option",{value:"Working",children:"Working"}),a.jsx("option",{value:"Pending Review",children:"Pending Review"}),a.jsx("option",{value:"Overdue",children:"Overdue"}),a.jsx("option",{value:"Template",children:"Template"}),a.jsx("option",{value:"Completed",children:"Completed"}),a.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"exp_start_date",children:"Expected Start Date"}),a.jsx(zt,{id:"exp_start_date",type:"date",value:i.exp_start_date,onChange:p=>g("exp_start_date",p.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"exp_end_date",children:"Expected End Date"}),a.jsx(zt,{id:"exp_end_date",type:"date",value:i.exp_end_date,onChange:p=>g("exp_end_date",p.target.value)})]})]}),h&&a.jsxs("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded-md",children:["Error creating task: ",h.message]}),a.jsxs(An,{children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:t,disabled:u,children:"Cancel"}),a.jsx(Qe,{type:"submit",disabled:u||!i.subject.trim(),children:u?"Creating...":"Create Task"})]})]})]})})},NU=(e,t)=>{const s=n=>fe(null,null,function*(){try{console.log(`Task ${n} changed, updating affected phase progress...`);const i=yield fetch(`/api/resource/Task/${n}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(i.ok&&(yield i.json()).data.project===e){console.log(`Task ${n} belongs to current project ${e}, finding affected phases...`);const u=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name"],filters:[["project","=",e]]})});if(u.ok){const f=(yield u.json()).message||[];for(const g of f)try{const p=yield fetch(`/api/resource/project_phase/${g.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(p.ok){const y=(yield p.json()).data;y.tasks&&y.tasks.some(j=>j.task===n)&&(console.log(`Updating progress for phase ${g.name} containing task ${n}`),yield fL(g.name),t&&t())}}catch(p){console.error(`Error updating progress for phase ${g.name}:`,p)}}}}catch(i){console.error("Error in triggerPhaseProgressUpdate:",i)}});return N.useEffect(()=>{const n=i=>{if(i.key==="task_progress_updated"&&i.newValue){const l=i.newValue;console.log(`Received task progress update signal for: ${l}`),s(l),localStorage.removeItem("task_progress_updated")}};return window.addEventListener("storage",n),()=>{window.removeEventListener("storage",n)}},[e,t]),{triggerPhaseProgressUpdate:s}},_U=({projectName:e,onViewPhaseDetails:t,onViewTaskDetails:s,onViewSubTaskDetails:n})=>{const[i,l]=N.useState(new Set),[c,u]=N.useState(new Set),[h,f]=N.useState(!1),[g,p]=N.useState(!1),[b,y]=N.useState([]),[j,v]=N.useState({visible:!1,text:"",x:0,y:0}),{data:_,isLoading:T,mutate:O}=mt("project_phase",{fields:["name","subject","status","priority","start_date","end_date","progress","details","costing"],filters:[["project","=",e]],orderBy:{field:"start_date",order:"asc"},limit:0});NU(e,()=>{console.log("Phase progress updated, refreshing UI..."),O()}),N.useEffect(()=>{_&&_.length>0?fe(null,null,function*(){const Ue=[];for(const Pe of _)try{const Z=yield fetch(`/api/resource/project_phase/${Pe.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(Z.ok){const le=yield Z.json();Ue.push(le.data)}else console.warn("Failed to fetch phase:",Pe.name),Ue.push(Pe)}catch(Z){console.error("Error fetching phase:",Pe.name,Z),Ue.push(Pe)}y(Ue)}):y([])},[_==null?void 0:_.length,_==null?void 0:_.map(De=>De.name).join(",")]);const{data:S,isLoading:C,mutate:D}=mt("Task",{fields:["name","subject","status","priority","project","exp_start_date","exp_end_date","progress"],filters:[["project","=",e]],orderBy:{field:"exp_start_date",order:"asc"},limit:0}),E=(S==null?void 0:S.map(De=>De.name))||[],{data:L,isLoading:F,mutate:R}=mt("ToDo",{fields:["name","allocated_to","reference_name","reference_type"],filters:[["reference_type","=","Task"],["reference_name","in",E.length>0?E:["dummy-non-existent-task"]]],limit:0}),K=Array.from(new Set(L==null?void 0:L.map(De=>De.allocated_to).filter(Boolean)))||[],{data:W,isLoading:Q}=mt("User",{fields:["name","full_name","email"],filters:K.length>0?[["name","in",K]]:[["name","=","dummy-non-existent-user"]],limit:0}),{data:H,isLoading:q,mutate:Y}=mt("SubTask",{fields:["name","subject","task","status","progress","start_date","end_date","description"],filters:E.length>0?[["task","in",E]]:[["task","=","dummy-non-existent-task"]],orderBy:{field:"start_date",order:"asc"},limit:0}),$=(H==null?void 0:H.map(De=>De.name))||[],{data:J,isLoading:se,mutate:Ne}=mt("ToDo",{fields:["name","allocated_to","reference_name","reference_type"],filters:[["reference_type","=","SubTask"],["reference_name","in",$.length>0?$:["dummy-non-existent-subtask"]]],limit:0}),P=Array.from(new Set(J==null?void 0:J.map(De=>De.allocated_to).filter(Boolean)))||[],{data:ne,isLoading:ge}=mt("User",{fields:["name","full_name","email"],filters:P.length>0?[["name","in",P]]:[["name","=","dummy-non-existent-user"]],limit:0}),G=(De,Ue)=>{const Pe=Ue.currentTarget.getBoundingClientRect();v({visible:!0,text:De,x:Pe.left,y:Pe.top-35})},re=()=>{v({visible:!1,text:"",x:0,y:0})},_e=De=>{const Ue=L==null?void 0:L.find(Z=>Z.reference_name===De);if(!(Ue!=null&&Ue.allocated_to))return null;const Pe=W==null?void 0:W.find(Z=>Z.name===Ue.allocated_to);return(Pe==null?void 0:Pe.full_name)||Ue.allocated_to},me=De=>{const Ue=J==null?void 0:J.find(Z=>Z.reference_name===De);if(!(Ue!=null&&Ue.allocated_to))return null;const Pe=ne==null?void 0:ne.find(Z=>Z.name===Ue.allocated_to);return(Pe==null?void 0:Pe.full_name)||Ue.allocated_to},Le=De=>{const Ue=new Set(i);Ue.has(De)?Ue.delete(De):Ue.add(De),l(Ue)},we=De=>{const Ue=new Set(c);Ue.has(De)?Ue.delete(De):Ue.add(De),u(Ue)};N.useEffect(()=>{const De=()=>{document.hidden||(console.log("Tab became visible, refreshing all data (phases, tasks, subtasks, todos)..."),O(),D(),Y(),R(),Ne())};return document.addEventListener("visibilitychange",De),()=>{document.removeEventListener("visibilitychange",De)}},[O,D,Y,R,Ne]);const Ee=De=>null,X=De=>{switch(De){case"Completed":return"bg-green-100 text-green-800";case"Working":return"bg-yellow-100 text-yellow-800";default:return"bg-blue-100 text-blue-800"}},Oe=De=>{switch(De){case"Urgent":return"bg-red-100 text-red-800";case"High":return"bg-orange-100 text-orange-800";case"Medium":return"bg-yellow-100 text-yellow-800";default:return"bg-green-100 text-green-800"}},He=(De,Ue,Pe,Z=!1,le=!1,V)=>{let Te="0.75rem";Pe==="phase-task"||Pe==="task"&&Ue===1?Te="2rem":Pe==="subtask"&&(Te="3.5rem");const Be=Pe==="phase"||Pe==="task"&&Z||Pe==="phase-task"&&Z,Re=De.subject||De.name,Ve=De.status||"Open",Ge=De.progress||0,st=Xe=>{Xe.preventDefault(),Xe.stopPropagation(),V&&V()},Nt=Xe=>{Xe.preventDefault(),Xe.stopPropagation(),Pe==="phase"&&t?t(De):(Pe==="task"||Pe==="phase-task")&&s?s(De):Pe==="subtask"&&n&&n(De)},ke=Xe=>{Xe.preventDefault(),Xe.stopPropagation(),Z&&V&&V()};let ze="hover:bg-gray-50",Ze="";return Pe==="phase"||Pe==="task"?(ze="bg-white hover:bg-gray-50",Ze=""):Pe==="phase-task"?(ze="bg-green-50/20 hover:bg-green-50",Ze="border-l-2 border-l-green-200"):Pe==="subtask"&&(ze="bg-yellow-50/20 hover:bg-yellow-50",Ze="border-l-2 border-l-yellow-200"),a.jsx("div",{className:`${ze} ${Ze} transition-colors`,children:a.jsxs("div",{className:"grid grid-cols-12 gap-4 py-3 px-6 border-b border-gray-100 items-center cursor-pointer",onClick:ke,onDoubleClick:Nt,children:[a.jsxs("div",{className:"col-span-4 flex items-center",style:{paddingLeft:Te},children:[Be&&a.jsx("button",{className:"mr-2 p-1 hover:bg-gray-100 rounded transition-colors flex-shrink-0",onClick:st,type:"button","aria-label":le?"Collapse":"Expand",children:le?a.jsx(Wx,{className:"h-4 w-4 text-gray-600"}):a.jsx(EM,{className:"h-4 w-4 text-gray-600"})}),!Be&&a.jsx("div",{className:"mr-2 p-1 flex-shrink-0 w-6 h-6"}),Ee(),a.jsxs("div",{className:"ml-1 flex-1 min-w-0",children:[a.jsx("div",{className:`font-medium truncate ${Pe==="phase"?"text-blue-900 text-lg":Pe==="task"?"text-orange-900":Pe==="phase-task"?"text-green-900":"text-gray-700"}`,onMouseEnter:Xe=>G(Re,Xe),onMouseLeave:re,title:Re.length>30?Re:void 0,children:Re}),De.description&&Pe==="subtask"&&a.jsx("p",{className:"text-sm text-gray-500 mt-1 truncate",onMouseEnter:Xe=>G(De.description,Xe),onMouseLeave:re,title:De.description.length>50?De.description:void 0,children:De.description}),De.details&&Pe==="phase"&&a.jsx("p",{className:"text-sm text-gray-600 mt-1 truncate",onMouseEnter:Xe=>G(De.details,Xe),onMouseLeave:re,title:De.details.length>50?De.details:void 0,children:De.details})]})]}),a.jsx("div",{className:"col-span-2 text-center",children:a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${X(Ve)}`,children:Ve})}),a.jsx("div",{className:"col-span-2 text-center",children:De.priority&&a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Oe(De.priority)}`,children:De.priority})}),a.jsxs("div",{className:"col-span-2 text-center",children:[(Pe==="task"||Pe==="phase-task")&&(()=>{const Xe=_e(De.name);return Xe?a.jsx("span",{className:"text-sm text-gray-700 truncate inline-block max-w-full",title:Xe.length>15?Xe:void 0,onMouseEnter:Bt=>Xe.length>15&&G(Xe,Bt),onMouseLeave:re,children:Xe.length>15?`${Xe.substring(0,15)}...`:Xe}):a.jsx("span",{className:"text-xs text-gray-400",children:"Unassigned"})})(),Pe==="subtask"&&(()=>{const Xe=me(De.name);return Xe?a.jsx("span",{className:"text-sm text-gray-700 truncate inline-block max-w-full",title:Xe.length>15?Xe:void 0,onMouseEnter:Bt=>Xe.length>15&&G(Xe,Bt),onMouseLeave:re,children:Xe.length>15?`${Xe.substring(0,15)}...`:Xe}):a.jsx("span",{className:"text-xs text-gray-400",children:"Unassigned"})})(),Pe==="phase"&&a.jsx("span",{className:"text-xs text-gray-400",children:"-"})]}),a.jsxs("div",{className:"col-span-2 flex items-center justify-start space-x-2",children:[Pe!=="subtask"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`${Pe==="phase"?"w-16":"w-12"} bg-gray-200 rounded-full h-2`,children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${Ge}%`}})}),a.jsxs("span",{className:"text-sm text-gray-600 w-10 text-left flex-shrink-0",children:[Ge,"%"]})]}),Pe==="phase"&&t&&a.jsx("div",{className:"ml-auto",children:a.jsx(Qe,{variant:"outline",size:"sm",onClick:Xe=>{Xe.preventDefault(),Xe.stopPropagation(),t(De)},className:"h-7 px-2 text-xs",children:"View Details"})}),(Pe==="task"||Pe==="phase-task")&&s&&a.jsx("div",{className:"ml-auto",children:a.jsx(Qe,{variant:"outline",size:"sm",onClick:Xe=>{Xe.preventDefault(),Xe.stopPropagation(),s(De)},className:"h-7 px-2 text-xs",children:"View Details"})}),Pe==="subtask"&&n&&a.jsx("div",{className:"ml-auto",children:a.jsx(Qe,{variant:"outline",size:"sm",onClick:Xe=>{Xe.preventDefault(),Xe.stopPropagation(),n(De)},className:"h-7 px-2 text-xs",children:"View Details"})})]})]})},`${Pe}-${De.name}`)};if(T||C||q||F||se||Q||ge)return a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"}),a.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"}),a.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"})]});const Ye=b.length>0?b:_||[],tt=S||[],gt=H||[],Dt=De=>gt.filter(Ue=>Ue.task===De);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Project Tasks & Phases"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Qe,{size:"sm",variant:"outline",className:"flex items-center gap-2",onClick:()=>p(!0),children:[a.jsx(gr,{className:"h-4 w-4"}),"Add Task"]}),a.jsxs(Qe,{size:"sm",className:"flex items-center gap-2",onClick:()=>f(!0),children:[a.jsx(gr,{className:"h-4 w-4"}),"Add Phase"]})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[a.jsxs("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-200 grid grid-cols-12 gap-4 text-sm font-medium text-gray-700",children:[a.jsx("div",{className:"col-span-4",children:"Task / Phase"}),a.jsx("div",{className:"col-span-2 text-center",children:"Status"}),a.jsx("div",{className:"col-span-2 text-center",children:"Priority"}),a.jsx("div",{className:"col-span-2 text-center",children:"Assign to"}),a.jsx("div",{className:"col-span-2 text-left",children:"Progress"})]}),a.jsxs("div",{className:"divide-y divide-gray-100",children:[Ye.map(De=>{const Ue=i.has(De.name),Pe=De.tasks||[];return a.jsxs("div",{children:[He(De,0,"phase",Pe.length>0,Ue,()=>{Le(De.name)}),Ue&&Pe.map((Z,le)=>{const V=tt.find(Ve=>Ve.name===Z.task),Te=Dt(Z.task),Be=Te.length>0,Re=c.has(Z.task);if(!V){const Ve={name:Z.task,subject:Z.task,status:"Open"};return a.jsxs("div",{children:[He(Ve,1,"phase-task",Be,Re,Be?()=>{we(Z.task)}:void 0),Re&&Be&&Te.map((Ge,st)=>a.jsx("div",{children:He(Ge,2,"subtask",!1,!1)},`subtask-${st}`))]},`phase-task-${le}`)}return a.jsxs("div",{children:[He(V,1,"phase-task",Be,Re,Be?()=>{we(V.name)}:void 0),Re&&Be&&Te.map((Ve,Ge)=>a.jsx("div",{children:He(Ve,2,"subtask",!1,!1)},`subtask-${Ge}`))]},`phase-task-${le}`)})]},De.name)}),Ye.length>0&&tt.filter(De=>!Ye.some(Pe=>{var Z;return(Z=Pe.tasks)==null?void 0:Z.some(le=>le.task===De.name)})).length>0&&a.jsx("div",{className:"bg-gray-100 px-6 py-2 border-b border-gray-200",children:a.jsxs("div",{className:"text-sm font-medium text-gray-600 flex items-center",children:[a.jsx("span",{className:"mr-2",children:"📝"}),"Standalone Tasks"]})}),tt.filter(De=>!Ye.some(Pe=>{var Z;return(Z=Pe.tasks)==null?void 0:Z.some(le=>le.task===De.name)})).map(De=>{const Ue=c.has(De.name),Pe=Dt(De.name),Z=Pe.length>0;return a.jsxs("div",{children:[He(De,1,"task",Z,Ue,Z?()=>{we(De.name)}:void 0),Ue&&Z&&Pe.map((le,V)=>a.jsx("div",{children:He(le,2,"subtask",!1,!1)},`standalone-subtask-${V}`))]},De.name)})]})]}),Ye.length===0&&tt.length===0&&a.jsx("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"📋"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No phases or tasks yet"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Start organizing your project by creating phases and tasks."}),a.jsxs("div",{className:"flex gap-3 justify-center",children:[a.jsx(Qe,{onClick:()=>f(!0),children:"Create First Phase"}),a.jsx(Qe,{variant:"outline",onClick:()=>p(!0),children:"Create Task"})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-6 border-t border-gray-200",children:[a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:Ye.length}),a.jsx("div",{className:"text-sm text-blue-600",children:"Total Phases"})]}),a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:tt.length}),a.jsx("div",{className:"text-sm text-green-600",children:"Total Tasks"})]}),a.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:gt.length}),a.jsx("div",{className:"text-sm text-purple-600",children:"Total Subtasks"})]})]}),a.jsx(wU,{isOpen:h,onClose:()=>f(!1),projectName:e,onSuccess:()=>{O()}}),a.jsx(jU,{isOpen:g,onClose:()=>p(!1),projectName:e,onSuccess:()=>{D()}}),j.visible&&a.jsxs("div",{className:"fixed z-50 bg-gray-900 text-white text-sm px-4 py-2 rounded-lg shadow-xl pointer-events-none border border-gray-700",style:{left:j.x,top:j.y,transform:"translateY(-100%)",maxWidth:"400px",minWidth:"200px",wordWrap:"break-word"},children:[a.jsx("div",{className:"font-medium leading-relaxed",children:j.text}),a.jsx("div",{className:"absolute top-full w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900",style:{left:"20px"}})]})]})},TU=({isOpen:e,onClose:t,projectName:s,phaseId:n,onSuccess:i})=>{const[l,c]=N.useState({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),[u,h]=N.useState({}),[f,g]=N.useState(!1),{createTaskWithPhase:p,isLoading:b}=cL(),{data:y,isLoading:j}=wc(s),{data:v}=kt("Project",s),_=(C,D)=>{c(E=>oe(z({},E),{[C]:D})),u[C]&&h(E=>oe(z({},E),{[C]:""}))},T=()=>{const C={};return l.subject.trim()||(C.subject="Task subject is required"),h(C),Object.keys(C).length===0},O=C=>fe(null,null,function*(){if(C.preventDefault(),!f&&T()){if(l.exp_start_date&&l.exp_end_date){const D=new Date(l.exp_start_date);if(new Date(l.exp_end_date)<D){cs.error("End date cannot be earlier than start date");return}}if(l.exp_end_date&&(v!=null&&v.expected_end_date)){const D=new Date(l.exp_end_date),E=new Date(v.expected_end_date);if(D>E){cs.error(`Task end date cannot be after project end date (${v.expected_end_date})`);return}}g(!0);try{const D=oe(z({},l),{project:s,expected_time:Number(l.expected_time),task_weight:Number(l.task_weight),exp_start_date:l.exp_start_date||void 0,exp_end_date:l.exp_end_date||void 0,phaseId:n,assign_to:l.assign_to||void 0});console.log("Creating task with data:",D),console.log("Date fields:",{exp_start_date:l.exp_start_date,exp_end_date:l.exp_end_date});const E=yield p(D);console.log("Task with phase created:",E);let L=`Task "${l.subject}" has been created successfully.`;E.todo&&l.assign_to&&(console.log("Task assigned and ToDo created for:",l.assign_to),L+=` Task has been assigned to ${l.assign_to}.`),cs.success("Task created successfully",{description:L}),c({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),h({}),i&&i(),t()}catch(D){console.error("Error creating task:",D);let E="Failed to create task. Please try again.";D!=null&&D.message&&(D.message.includes("Expected End Date cannot be after Project")?E="Task end date cannot be after the project end date. Please choose an earlier date.":D.message.includes("InvalidDates")?E="Invalid date configuration. Please check your task dates.":E=D.message),D!=null&&D.exception&&typeof D.exception=="string"&&D.exception.includes("Expected End Date cannot be after Project")&&(E="Task end date cannot be after the project end date. Please choose an earlier date."),cs.error("Failed to create task",{description:E}),h({submit:E})}finally{g(!1)}}}),S=()=>{c({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),h({}),t()};return a.jsx(hn,{open:e,onOpenChange:S,children:a.jsxs(fn,{className:"sm:max-w-[600px]",children:[a.jsxs(mn,{children:[a.jsxs(gn,{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-2xl",children:"📝"}),"Create New Task"]}),a.jsxs(ju,{children:["Create a new task for project: ",a.jsx("strong",{children:s}),n&&a.jsxs(a.Fragment,{children:[a.jsx("br",{}),a.jsx("span",{className:"text-blue-600",children:"🔗 This task will be linked to the current phase"})]}),a.jsx("br",{}),a.jsx("span",{className:"text-gray-600",children:"💡 Assigning to a user will automatically create a ToDo item for them"})]})]}),a.jsxs("form",{onSubmit:O,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx(Ie,{htmlFor:"subject",children:"Task Subject *"}),a.jsx(zt,{id:"subject",value:l.subject,onChange:C=>_("subject",C.target.value),placeholder:"Enter task subject...",className:u.subject?"border-red-500":""}),u.subject&&a.jsx("p",{className:"text-sm text-red-600 mt-1",children:u.subject})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx(Ie,{htmlFor:"description",children:"Description"}),a.jsx("textarea",{id:"description",value:l.description,onChange:C=>_("description",C.target.value),placeholder:"Enter task description...",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx(Ie,{htmlFor:"priority",children:"Priority"}),a.jsxs("select",{id:"priority",value:l.priority,onChange:C=>_("priority",C.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Urgent",children:"Urgent"})]})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx(Ie,{htmlFor:"status",children:"Status"}),a.jsxs("select",{id:"status",value:l.status,onChange:C=>_("status",C.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[a.jsx("option",{value:"Open",children:"Open"}),a.jsx("option",{value:"Working",children:"Working"}),a.jsx("option",{value:"Overdue",children:"Overdue"}),a.jsx("option",{value:"Pending Review",children:"Pending Review"}),a.jsx("option",{value:"Completed",children:"Completed"}),a.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx(Ie,{htmlFor:"assign_to",children:"Assign To"}),a.jsxs("select",{id:"assign_to",value:l.assign_to,onChange:C=>_("assign_to",C.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",disabled:j,children:[a.jsx("option",{value:"",children:"Select user to assign (Optional)"}),y==null?void 0:y.map(C=>a.jsxs("option",{value:C.user||C.name,children:[C.full_name||C.name,C.email&&` (${C.email})`]},C.user||C.name))]}),j&&a.jsx("p",{className:"text-sm text-gray-500",children:"Loading users..."}),!j&&y&&y.length>10&&a.jsx("p",{className:"text-sm text-amber-600",children:"⚠️ Showing all system users (project users not available)"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx(Ie,{htmlFor:"expected_time",children:"Expected Time (hours)"}),a.jsx(zt,{id:"expected_time",type:"number",min:"0",step:"0.5",value:l.expected_time,onChange:C=>_("expected_time",Number(C.target.value)),placeholder:"0"})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx(Ie,{htmlFor:"task_weight",children:"Task Weight"}),a.jsx(zt,{id:"task_weight",type:"number",min:"1",value:l.task_weight,onChange:C=>_("task_weight",Number(C.target.value)),placeholder:"1"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"exp_start_date",children:"Expected Start Date"}),a.jsx(zt,{id:"exp_start_date",type:"date",value:l.exp_start_date,onChange:C=>_("exp_start_date",C.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"exp_end_date",children:"Expected End Date"}),a.jsx(zt,{id:"exp_end_date",type:"date",value:l.exp_end_date,onChange:C=>_("exp_end_date",C.target.value),max:(v==null?void 0:v.expected_end_date)||void 0}),(v==null?void 0:v.expected_end_date)&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Must be before project end date: ",v.expected_end_date]})]})]})]}),u.submit&&a.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-md p-3",children:u.submit}),a.jsxs(An,{children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:S,children:"Cancel"}),a.jsx(Qe,{type:"submit",disabled:b||f,children:b||f?"Creating...":"Create Task"})]})]})]})})},SU=({phase:e,projectName:t,isOpen:s,onClose:n,onSuccess:i})=>{var L;const{updatePhase:l,isLoading:c,error:u}=dL(),{assignPhase:h,unassignPhase:f}=hS(),{currentUser:g}=Tn(),{data:p,isLoading:b}=wc(t),{data:y}=kt("Project",t||"",t?"Project":void 0),j=(y==null?void 0:y.users)||[],{data:v}=mt("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","project_phase"],["reference_name","=",(e==null?void 0:e.name)||""]]}),_=()=>{if(g==="Administrator"||(y==null?void 0:y.owner)===g)return!0;const F=j.find(R=>R.user===g);return(F==null?void 0:F.project_status)==="Project Manager (Owner Substitute)"},[T,O]=N.useState({subject:"",status:"Open",priority:"Medium",start_date:"",end_date:"",progress:0,details:"",costing:0,assign_to:""}),S=((L=v==null?void 0:v[0])==null?void 0:L.allocated_to)||"";N.useEffect(()=>{e&&O({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",progress:e.progress||0,details:e.details||"",costing:e.costing||0,assign_to:S})},[e,S]);const C=(F,R)=>{O(K=>oe(z({},K),{[F]:R}))},D=F=>fe(null,null,function*(){if(F.preventDefault(),!!e){if(T.status==="Completed"&&!_()){cs.error("Permission denied",{description:"You don't have permission to mark this phase as Completed. Only Project Owner, Project Manager, or Administrator can do this."});return}try{const R=T,{assign_to:K}=R,W=$e(R,["assign_to"]);yield l(e.name,W);const Q=S,H=K;if(Q&&Q!==H){const q=v==null?void 0:v.find(Y=>Y.allocated_to===Q);q&&(yield f(q.name))}H&&H!==Q&&(yield h(e.name,H)),cs.success("Phase updated successfully",{description:`Phase "${T.subject}" has been updated.`}),i&&i(),n()}catch(K){console.error("Error updating phase:",K),cs.error("Failed to update phase",{description:K instanceof Error?K.message:"An unexpected error occurred."})}}}),E=()=>{e&&O({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",progress:e.progress||0,details:e.details||"",costing:e.costing||0,assign_to:S}),n()};return a.jsx(hn,{open:s,onOpenChange:n,children:a.jsxs(fn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[a.jsx(mn,{children:a.jsx(gn,{children:"Edit Phase"})}),a.jsxs("form",{onSubmit:D,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"subject",children:"Subject *"}),a.jsx(zt,{id:"subject",value:T.subject,onChange:F=>C("subject",F.target.value),required:!0,placeholder:"Enter phase subject"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"status",children:"Status"}),a.jsxs("select",{id:"status",value:T.status,onChange:F=>C("status",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"Open",children:"Open"}),a.jsx("option",{value:"Working",children:"Working"}),a.jsx("option",{value:"Pending Review",children:"Pending Review"}),_()&&a.jsx("option",{value:"Completed",children:"Completed"}),a.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),!_()&&a.jsx("span",{className:"text-xs text-amber-600",children:"You don't have permission to mark Completed"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"priority",children:"Priority"}),a.jsxs("select",{id:"priority",value:T.priority,onChange:F=>C("priority",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Critical",children:"Critical"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"start_date",children:"Start Date"}),a.jsx(zt,{id:"start_date",type:"date",value:T.start_date,onChange:F=>C("start_date",F.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"end_date",children:"End Date"}),a.jsx(zt,{id:"end_date",type:"date",value:T.end_date,onChange:F=>C("end_date",F.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"progress",children:"Progress (%)"}),a.jsx(zt,{id:"progress",type:"number",min:"0",max:"100",value:T.progress,onChange:F=>C("progress",parseInt(F.target.value)||0),placeholder:"0"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"costing",children:"Costing"}),a.jsx(zt,{id:"costing",type:"number",min:"0",step:"0.01",value:T.costing,onChange:F=>C("costing",parseFloat(F.target.value)||0),placeholder:"0.00"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"details",children:"Details"}),a.jsx("textarea",{id:"details",value:T.details,onChange:F=>C("details",F.target.value),placeholder:"Enter phase details",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"assign_to",children:"Assign To"}),a.jsxs("select",{id:"assign_to",value:T.assign_to,onChange:F=>C("assign_to",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:b,children:[a.jsx("option",{value:"",children:"Select user..."}),p==null?void 0:p.map(F=>a.jsx("option",{value:F.user||F.name,children:F.user||F.name},F.name))]}),b&&a.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),u&&a.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:a.jsxs("p",{children:[a.jsx("strong",{children:"Error:"})," ",u.message||"Failed to update phase"]})}),a.jsxs(An,{className:"flex gap-2",children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:E,children:"Cancel"}),a.jsx(Qe,{type:"submit",disabled:c,children:c?"Updating...":"Update Phase"})]})]})]})})},kU=({phase:e,isOpen:t,onClose:s,onSuccess:n})=>{const{call:i,loading:l,error:c}=$s("frappe.client.delete"),u=()=>fe(null,null,function*(){if(e)try{yield i({doctype:"project_phase",name:e.name}),n&&n(),s()}catch(f){console.error("Error deleting phase:",f)}}),h=()=>{s()};return a.jsx(hn,{open:t,onOpenChange:s,children:a.jsxs(fn,{className:"sm:max-w-[400px]",children:[a.jsx(mn,{children:a.jsxs(gn,{className:"flex items-center gap-2 text-red-600",children:[a.jsx(gc,{className:"h-5 w-5"}),"Delete Phase"]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this phase? This action cannot be undone."}),e&&a.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[a.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Priority: ",e.priority||"Medium"]})]}),a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[a.jsxs("div",{className:"text-sm text-red-800",children:[a.jsx("strong",{children:"Warning:"})," Deleting this phase will also remove:"]}),a.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[a.jsx("li",{children:"All tasks associated with this phase"}),a.jsx("li",{children:"All phase progress data"}),a.jsx("li",{children:"Phase timeline and milestones"}),a.jsx("li",{children:"Related documents and attachments"})]})]}),c&&a.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:a.jsxs("p",{children:[a.jsx("strong",{children:"Error:"})," ",c.message||"Failed to delete phase"]})})]}),a.jsxs(An,{className:"flex gap-2",children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:h,children:"Cancel"}),a.jsx(Qe,{type:"button",variant:"destructive",onClick:u,disabled:l,children:l?"Deleting...":"Delete Phase"})]})]})})},CU=({phase:e,projectName:t,onBack:s,onViewTaskDetails:n,onPhaseUpdated:i,onPhaseDeleted:l,onTaskCreated:c})=>{var Le;const[u,h]=N.useState(!1),[f,g]=N.useState(!1),[p,b]=N.useState(!1),[y,j]=N.useState(!1),[v,_]=N.useState(!1),{calculateAndUpdatePhaseProgress:T}=xS(),{data:O,mutate:S}=kt("project_phase",e.name,"project_phase"),C=O||e,{data:D,isLoading:E,mutate:L}=mt("Task",{fields:["name","subject","status","priority","project","exp_start_date","exp_end_date","progress"],filters:[["project","=",t]],orderBy:{field:"exp_start_date",order:"asc"},limit:0}),F=ye.useMemo(()=>{if(!D)return[];if(C.tasks&&C.tasks.length>0){const we=C.tasks.map(Ee=>Ee.task);return D.filter(Ee=>we.includes(Ee.name))}return[]},[D,C.tasks]),R=(F==null?void 0:F.map(we=>we.name))||[],{data:K}=mt("ToDo",{fields:["name","reference_type","reference_name","allocated_to","status"],filters:R.length>0?[["reference_type","=","Task"],["reference_name","in",R]]:[["name","=","dummy-non-existent-todo"]],limit:0}),W=Array.from(new Set(K==null?void 0:K.map(we=>we.allocated_to).filter(Boolean)))||[],{data:Q}=mt("User",{fields:["name","full_name","email"],filters:W.length>0?[["name","in",W]]:[["name","=","dummy-non-existent-user"]],limit:0}),[H,q]=N.useState({visible:!1,text:"",x:0,y:0}),Y=(we,Ee)=>{const X=Ee.currentTarget.getBoundingClientRect();q({visible:!0,text:we,x:X.left,y:X.top-35})},$=()=>{q({visible:!1,text:"",x:0,y:0})},J=we=>{const Ee=K==null?void 0:K.find(Oe=>Oe.reference_name===we);if(!(Ee!=null&&Ee.allocated_to))return null;const X=Q==null?void 0:Q.find(Oe=>Oe.name===Ee.allocated_to);return(X==null?void 0:X.full_name)||Ee.allocated_to},se=ye.useMemo(()=>{if(!F||F.length===0)return 0;const we=F.reduce((Ee,X)=>Ee+(X.progress||0),0);return Math.round(we/F.length)},[F]);N.useEffect(()=>{F.length>0&&se!==(C.progress||0)&&Ne()},[se,F.length]);const Ne=()=>fe(null,null,function*(){j(!0);try{yield T(e.name),yield S(),i&&i()}catch(we){console.error("Error recalculating phase progress:",we)}finally{j(!1)}}),P=we=>we?new Date(we).toLocaleDateString():"N/A",ne=we=>we?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(we):"$0",ge=we=>{switch(we){case"Completed":return a.jsx(Yx,{className:"h-5 w-5 text-green-600"});case"Working":return a.jsx(Hi,{className:"h-5 w-5 text-yellow-600"});case"Open":return a.jsx(Ui,{className:"h-5 w-5 text-blue-600"});default:return a.jsx(Ui,{className:"h-5 w-5 text-gray-400"})}},G=we=>{switch(we){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},re=we=>{switch(we){case"Urgent":return"bg-red-100 text-red-800 border-red-200";case"High":return"bg-orange-100 text-orange-800 border-orange-200";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},_e=()=>fe(null,null,function*(){_(!0);try{yield S(),yield L(),i&&(yield i()),setTimeout(()=>fe(null,null,function*(){j(!0);try{yield T(C.name),setTimeout(()=>fe(null,null,function*(){yield S()}),500)}catch(we){console.error("Error recalculating phase progress:",we)}finally{j(!1)}}),500)}finally{_(!1)}}),me=()=>{l&&l(),s()};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Qe,{variant:"ghost",size:"sm",onClick:s,className:"flex items-center gap-2",children:[a.jsx(Jd,{className:"h-4 w-4"}),"Back to Tasks"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Qe,{variant:"outline",size:"sm",onClick:()=>g(!0),disabled:v||y,className:"flex items-center gap-2",children:[a.jsx(eu,{className:`h-4 w-4 ${v?"animate-pulse":""}`}),v?"Updating...":"Edit Phase"]}),a.jsxs(Qe,{variant:"outline",size:"sm",onClick:()=>b(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[a.jsx(Vi,{className:"h-4 w-4"}),"Delete Phase"]})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"h-12 w-12 rounded-lg bg-blue-500 flex items-center justify-center",children:a.jsx("span",{className:"text-xl",children:"📋"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:C.subject}),a.jsx("p",{className:"text-sm text-gray-600",children:"Phase Details"})]})]}),C.details&&a.jsx("p",{className:"text-gray-700 leading-relaxed",children:C.details})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${G(C.status||"Open")}`,children:[ge(C.status||"Open"),a.jsx("span",{className:"font-medium",children:C.status||"Open"})]}),C.priority&&a.jsx("div",{className:`px-3 py-1 rounded-full border ${re(C.priority)}`,children:a.jsx("span",{className:"text-sm font-medium",children:C.priority})})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Phase Progress"}),F.length>0&&a.jsxs("span",{className:"text-xs text-gray-500",children:["(Auto-calculated from ",F.length," tasks)"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[se,"%"]}),a.jsx(Qe,{variant:"ghost",size:"sm",onClick:Ne,disabled:y,className:"h-8 w-8 p-0",title:"Recalculate progress from tasks",children:a.jsx(w5,{className:`h-4 w-4 ${y?"animate-spin":""}`})})]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full transition-all duration-500",style:{width:`${se}%`}})}),F.length>0&&a.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Task progress: ",F.map(we=>`${we.subject}: ${we.progress||0}%`).join(", ")]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:a.jsx(Vs,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),a.jsx("p",{className:"text-lg font-bold text-gray-900",children:P(C.start_date)})]})]})}),a.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:a.jsx(Kx,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),a.jsx("p",{className:"text-lg font-bold text-gray-900",children:P(C.end_date)})]})]})}),a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:a.jsx($i,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Estimated Cost"}),a.jsx("p",{className:"text-lg font-bold text-gray-900",children:ne(C.costing)})]})]})})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Phase Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Phase ID"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:C.name})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),a.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${G(C.status||"Open")}`,children:[ge(C.status||"Open"),a.jsx("span",{className:"font-medium",children:C.status||"Open"})]})]}),a.jsxs("div",{className:"flex items-center justify-between py-3",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),a.jsx("div",{className:`px-3 py-1 rounded-full ${re(C.priority||"Medium")}`,children:a.jsx("span",{className:"font-medium",children:C.priority||"Medium"})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Tasks Count"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:((Le=C.tasks)==null?void 0:Le.length)||0})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:C.start_date&&C.end_date?`${Math.ceil((new Date(C.end_date).getTime()-new Date(C.start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),a.jsxs("div",{className:"flex items-center justify-between py-3",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Progress"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-xl font-bold text-blue-600",children:[se,"%"]}),F.length>0&&a.jsxs("span",{className:"text-xs text-gray-500",children:["(from ",F.length," tasks)"]})]})]}),a.jsxs("div",{className:"flex items-center justify-between py-3",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Estimated Cost"}),a.jsx("span",{className:"text-xl font-bold text-green-600",children:ne(e.costing)})]})]})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Tasks in this Phase"})}),E?a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),a.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),a.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"})]}):a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3",children:[a.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700",children:"#"}),a.jsx("div",{className:"col-span-3 text-sm font-medium text-gray-700",children:"Task"}),a.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Progress"}),a.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Assign to"}),a.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Status"}),a.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700 text-center",children:"Priority"}),a.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700 text-center",children:"Actions"})]})}),a.jsxs("div",{className:"divide-y divide-gray-100",children:[F&&F.length>0?F.map((we,Ee)=>a.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[a.jsx("div",{className:"col-span-1 flex items-center",children:a.jsx("span",{className:"text-sm text-gray-600",children:Ee+1})}),a.jsxs("div",{className:"col-span-3 flex items-center gap-3",children:[a.jsx("div",{className:"p-1 bg-orange-100 rounded",children:a.jsx("span",{className:"text-sm",children:"📝"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:we.subject||we.name}),a.jsx("div",{className:"text-sm text-gray-500",children:we.name})]})]}),a.jsx("div",{className:"col-span-2 flex items-center justify-center",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${we.progress||0}%`}})}),a.jsxs("span",{className:"text-sm font-medium text-gray-700 min-w-[30px]",children:[we.progress||0,"%"]})]})}),a.jsx("div",{className:"col-span-2 flex items-center justify-center",children:(()=>{const X=J(we.name);return X?a.jsx("span",{className:"text-sm text-gray-700 truncate inline-block max-w-full",title:X.length>15?X:void 0,onMouseEnter:Oe=>X.length>15&&Y(X,Oe),onMouseLeave:$,children:X.length>15?`${X.substring(0,15)}...`:X}):a.jsx("span",{className:"text-xs text-gray-400",children:"Unassigned"})})()}),a.jsx("div",{className:"col-span-2 flex items-center justify-center",children:a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${G(we.status||"Open")}`,children:we.status||"Open"})}),a.jsx("div",{className:"col-span-1 flex items-center justify-center",children:we.priority&&a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${re(we.priority)}`,children:we.priority})}),a.jsx("div",{className:"col-span-1 flex items-center justify-center",children:n&&a.jsx(Qe,{variant:"outline",size:"sm",onClick:()=>n(we),className:"h-7 px-2 text-xs",children:"View"})})]},we.name)):a.jsxs("div",{className:"px-6 py-8 text-center text-gray-500",children:[a.jsx("div",{className:"text-4xl mb-2",children:"📝"}),a.jsx("div",{className:"text-lg font-medium mb-1",children:"No tasks yet"}),a.jsx("div",{className:"text-sm",children:'Click "Add Task" to create the first task for this phase'})]}),a.jsx("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 bg-gray-50 border-t border-gray-200",children:a.jsx("div",{className:"col-span-12 flex items-center justify-center",children:a.jsxs(Qe,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",onClick:()=>h(!0),children:[a.jsx(gr,{className:"h-4 w-4"}),"Add new task to this phase"]})})})]})]})]}),a.jsx(Mm,{doctype:"project_phase",docname:e.name,title:"Phase Files",allowUpload:!0,allowDelete:!0,className:"mt-8"}),a.jsx(TU,{isOpen:u,onClose:()=>h(!1),projectName:t,phaseId:e.name,onSuccess:()=>fe(null,null,function*(){yield S(),c&&(yield c()),setTimeout(()=>fe(null,null,function*(){yield L(),setTimeout(()=>fe(null,null,function*(){yield Ne()}),500)}),500)})}),a.jsx(SU,{phase:e,projectName:t,isOpen:f,onClose:()=>g(!1),onSuccess:_e}),a.jsx(kU,{phase:e,isOpen:p,onClose:()=>b(!1),onSuccess:me}),H.visible&&a.jsxs("div",{className:"fixed z-50 bg-gray-900 text-white text-sm px-4 py-2 rounded-lg shadow-xl pointer-events-none border border-gray-700",style:{left:H.x,top:H.y,transform:"translateY(-100%)",maxWidth:"400px",minWidth:"200px",wordWrap:"break-word"},children:[a.jsx("div",{className:"font-medium leading-relaxed",children:H.text}),a.jsx("div",{className:"absolute top-full w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900",style:{left:"20px"}})]})]})},EU=({isOpen:e,onClose:t,projectName:s,parentTask:n,onSuccess:i})=>{const[l,c]=N.useState({subject:"",description:"",priority:"Medium",status:"Open",task:n||"",assign_to:""}),[u,h]=N.useState({}),{createDoc:f,loading:g}=Qi(),{assignSubTask:p}=my(),{calculateAndUpdateTaskProgress:b}=vu(),{data:y,isLoading:j}=wc(s),v=(S,C)=>{c(D=>oe(z({},D),{[S]:C})),u[S]&&h(D=>oe(z({},D),{[S]:""}))},_=()=>{const S={};return l.subject.trim()||(S.subject="SubTask subject is required"),l.task.trim()||(S.task="Parent task is required"),h(S),Object.keys(S).length===0},T=S=>fe(null,null,function*(){if(S.preventDefault(),!!_())try{const C=l,{assign_to:D}=C,E=$e(C,["assign_to"]),L=yield f("SubTask",oe(z({},E),{project:s}));if(D&&L&&(yield p(L.name,D)),n)try{yield b(n)}catch(F){console.error("Error updating task progress after subtask creation:",F)}c({subject:"",description:"",priority:"Medium",status:"Open",task:n||"",assign_to:""}),h({}),i&&i(),t()}catch(D){console.error("Error creating subtask:",D),h({submit:"Failed to create subtask. Please try again."})}}),O=()=>{c({subject:"",description:"",priority:"Medium",status:"Open",task:n||"",assign_to:""}),h({}),t()};return a.jsx(hn,{open:e,onOpenChange:O,children:a.jsxs(fn,{className:"sm:max-w-[600px]",children:[a.jsxs(mn,{children:[a.jsxs(gn,{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-2xl",children:"📌"}),"Create New SubTask"]}),a.jsxs(ju,{children:["Create a new subtask for project: ",a.jsx("strong",{children:s}),n&&a.jsxs("span",{className:"block mt-1",children:["Parent Task: ",a.jsx("strong",{children:n})]})]})]}),a.jsxs("form",{onSubmit:T,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx(Ie,{htmlFor:"subject",children:"SubTask Subject *"}),a.jsx(zt,{id:"subject",value:l.subject,onChange:S=>v("subject",S.target.value),placeholder:"Enter subtask subject...",className:u.subject?"border-red-500":""}),u.subject&&a.jsx("p",{className:"text-sm text-red-600 mt-1",children:u.subject})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx(Ie,{htmlFor:"task",children:"Parent Task *"}),a.jsx(zt,{id:"task",value:l.task,onChange:S=>v("task",S.target.value),placeholder:"Enter parent task ID...",className:u.task?"border-red-500":""}),u.task&&a.jsx("p",{className:"text-sm text-red-600 mt-1",children:u.task}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Enter the Task ID that this subtask belongs to"})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx(Ie,{htmlFor:"description",children:"Description"}),a.jsx("textarea",{id:"description",value:l.description,onChange:S=>v("description",S.target.value),placeholder:"Enter subtask description...",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"assign_to",children:"Assign To"}),a.jsxs("select",{id:"assign_to",value:l.assign_to,onChange:S=>v("assign_to",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:j,children:[a.jsx("option",{value:"",children:"Select user..."}),y==null?void 0:y.map(S=>a.jsx("option",{value:S.user||S.name,children:S.user||S.name},S.name))]}),j&&a.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx(Ie,{htmlFor:"priority",children:"Priority"}),a.jsxs("select",{id:"priority",value:l.priority,onChange:S=>v("priority",S.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"})]})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx(Ie,{htmlFor:"status",children:"Status"}),a.jsxs("select",{id:"status",value:l.status,onChange:S=>v("status",S.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[a.jsx("option",{value:"Open",children:"Open"}),a.jsx("option",{value:"Working",children:"Working"}),a.jsx("option",{value:"Completed",children:"Completed"})]})]})]})]}),u.submit&&a.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-md p-3",children:u.submit}),a.jsxs(An,{children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:O,children:"Cancel"}),a.jsx(Qe,{type:"submit",disabled:g,children:g?"Creating...":"Create SubTask"})]})]})]})})},DU=({task:e,projectName:t,isOpen:s,onClose:n,onSuccess:i})=>{const{updateTask:l,isLoading:c,error:u}=cS(),{assignTask:h,unassignTask:f}=dS(),{updateTaskProgress:g}=gS(),{updateTaskProgressByStatus:p}=mS(),{currentUser:b}=Tn(),{data:y,isLoading:j}=wc(t),{data:v}=kt("Project",t),_=(v==null?void 0:v.users)||[],{data:T}=mt("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","Task"],["reference_name","=",(e==null?void 0:e.name)||""]]}),{data:O}=mt("SubTask",{fields:["name"],filters:[["task","=",(e==null?void 0:e.name)||""]],limit:1}),S=()=>{if(b==="Administrator"||(v==null?void 0:v.owner)===b)return!0;const W=_.find(Q=>Q.user===b);return(W==null?void 0:W.project_status)==="Project Manager (Owner Substitute)"},[C,D]=N.useState({subject:"",status:"Open",priority:"Medium",exp_start_date:"",exp_end_date:"",progress:0,description:"",assign_to:""}),[E,L]=N.useState(!1);N.useEffect(()=>{var W;if(e){const Q=((W=T==null?void 0:T[0])==null?void 0:W.allocated_to)||"";D({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",exp_start_date:e.exp_start_date?e.exp_start_date.split(" ")[0]:"",exp_end_date:e.exp_end_date?e.exp_end_date.split(" ")[0]:"",progress:e.progress||0,description:e.description||"",assign_to:Q})}},[e,T]),N.useEffect(()=>{L(!!(O&&O.length>0))},[O]);const F=(W,Q)=>{D(H=>oe(z({},H),{[W]:Q}))},R=W=>fe(null,null,function*(){var Q,H,q;if(W.preventDefault(),!!e){if(C.status==="Completed"&&!S()){cs.error("Permission denied",{description:"You don't have permission to mark this task as Completed. Only Project Owner, Project Manager, or Administrator can do this."});return}if(C.exp_start_date&&C.exp_end_date){const Y=new Date(C.exp_start_date);if(new Date(C.exp_end_date)<Y){cs.error("End date cannot be earlier than start date");return}}if(C.exp_end_date&&(v!=null&&v.expected_end_date)){const Y=new Date(C.exp_end_date),$=new Date(v.expected_end_date);if(Y>$){cs.error(`Task end date cannot be after project end date (${v.expected_end_date})`);return}}try{const Y=C.progress!==(e.progress||0),$=C.status!==e.status;E&&Y?yield g(e.name,C.progress):$&&(C.status==="Completed"||C.status==="Cancelled")?yield p(e.name,C.status):yield l(e.name,C);const J=((Q=T==null?void 0:T[0])==null?void 0:Q.allocated_to)||"",se=C.assign_to;if(J!==se){if(J&&(T!=null&&T[0]))try{yield f(T[0].name)}catch(Ne){console.error("Error deleting old ToDo:",Ne)}if(se)try{yield h(e.name,C.subject,se,C.priority)}catch(Ne){console.error("Error creating new ToDo:",Ne)}}cs.success("Task updated successfully",{description:`Task "${C.subject}" has been updated.`}),i&&i(),n()}catch(Y){console.error("Error updating task:",Y);let $="Failed to update task";(H=Y==null?void 0:Y.message)!=null&&H.includes("modified")?$="The task has been modified by someone else. Please close and reopen the task to get the latest version.":(q=Y==null?void 0:Y.message)!=null&&q.includes("permission")?$="You do not have permission to update this task.":Y!=null&&Y.message&&($=Y.message),cs.error("Failed to update task",{description:$})}}}),K=()=>{var W;if(e){const Q=((W=T==null?void 0:T[0])==null?void 0:W.allocated_to)||"";D({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",exp_start_date:e.exp_start_date?e.exp_start_date.split(" ")[0]:"",exp_end_date:e.exp_end_date?e.exp_end_date.split(" ")[0]:"",progress:e.progress||0,description:e.description||"",assign_to:Q})}n()};return a.jsx(hn,{open:s,onOpenChange:n,children:a.jsxs(fn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[a.jsx(mn,{children:a.jsx(gn,{children:"Edit Task"})}),a.jsxs("form",{onSubmit:R,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"subject",children:"Subject *"}),a.jsx(zt,{id:"subject",value:C.subject,onChange:W=>F("subject",W.target.value),required:!0,placeholder:"Enter task subject"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"status",children:"Status"}),a.jsxs("select",{id:"status",value:C.status,onChange:W=>F("status",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"Open",children:"Open"}),a.jsx("option",{value:"Working",children:"Working"}),a.jsx("option",{value:"Pending Review",children:"Pending Review"}),a.jsx("option",{value:"Overdue",children:"Overdue"}),a.jsx("option",{value:"Template",children:"Template"}),S()&&a.jsx("option",{value:"Completed",children:"Completed"}),a.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),!S()&&a.jsx("span",{className:"text-xs text-amber-600",children:"You don't have permission to mark Completed"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"priority",children:"Priority"}),a.jsxs("select",{id:"priority",value:C.priority,onChange:W=>F("priority",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Urgent",children:"Urgent"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"assign_to",children:"Assign To"}),a.jsxs("select",{id:"assign_to",value:C.assign_to,onChange:W=>F("assign_to",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:j,children:[a.jsx("option",{value:"",children:"Select user to assign (Optional)"}),y==null?void 0:y.map(W=>a.jsxs("option",{value:W.user||W.name,children:[W.full_name||W.name,W.email&&` (${W.email})`]},W.user||W.name))]}),j&&a.jsx("p",{className:"text-sm text-gray-500",children:"Loading users..."}),!j&&y&&y.length>10&&a.jsx("p",{className:"text-sm text-amber-600",children:"⚠️ Showing all system users (project users not available)"}),T&&T.length>0&&a.jsx("p",{className:"text-sm text-blue-600",children:"💡 Changing assignment will update the ToDo automatically"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"exp_start_date",children:"Expected Start Date"}),a.jsx(zt,{id:"exp_start_date",type:"date",value:C.exp_start_date,onChange:W=>F("exp_start_date",W.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"exp_end_date",children:"Expected End Date"}),a.jsx(zt,{id:"exp_end_date",type:"date",value:C.exp_end_date,onChange:W=>F("exp_end_date",W.target.value),max:(v==null?void 0:v.expected_end_date)||void 0}),(v==null?void 0:v.expected_end_date)&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Must be before project end date: ",v.expected_end_date]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"progress",children:"Progress (%)"}),a.jsx(zt,{id:"progress",type:"number",min:"0",max:"100",value:C.progress,onChange:W=>F("progress",parseInt(W.target.value)||0),placeholder:"0",disabled:E}),E?a.jsxs("div",{className:"text-sm text-blue-600 bg-blue-50 p-2 rounded",children:[a.jsx("strong",{children:"🔄 Smart Progress Mode:"}),a.jsxs("ul",{className:"mt-1 ml-4 list-disc text-xs",children:[a.jsx("li",{children:"Progress is automatically calculated from subtasks"}),a.jsx("li",{children:"Only assignee can manually override progress"}),a.jsx("li",{children:"Project leaders can set progress via status changes"})]})]}):a.jsxs("div",{className:"text-sm text-green-600 bg-green-50 p-2 rounded",children:[a.jsx("strong",{children:"✏️ Manual Progress Mode:"}),a.jsx("span",{className:"text-xs",children:" Progress can be updated manually by anyone with edit permission"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"description",children:"Description"}),a.jsx("textarea",{id:"description",value:C.description,onChange:W=>F("description",W.target.value),placeholder:"Enter task description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),u&&a.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:a.jsxs("p",{children:[a.jsx("strong",{children:"Error:"})," ",u.message||"Failed to update task"]})}),a.jsxs(An,{className:"flex gap-2",children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:K,children:"Cancel"}),a.jsx(Qe,{type:"submit",disabled:c,children:c?"Updating...":"Update Task"})]})]})]})})},AU=({task:e,isOpen:t,onClose:s,onSuccess:n})=>{const{deleteDoc:i,loading:l,error:c}=lm(),[u,h]=N.useState(!1),f=()=>fe(null,null,function*(){var p,b;if(e){h(!0);try{const y=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"SubTask",fields:["name"],filters:[["task","=",e.name]]})});if(y.ok){const v=(yield y.json()).message||[];if(v.length>0)for(const _ of v)yield i("SubTask",_.name)}try{const j=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","subject","status","priority","start_date","end_date","progress","details","costing"],filters:[["project","=",e.project]],orderBy:{field:"start_date",order:"asc"}})});if(j.ok){const _=(yield j.json()).message||[],T=[];for(const O of _)try{const S=yield fetch(`/api/resource/project_phase/${O.name}`,{headers:{Accept:"application/json"}});if(S.ok){const C=yield S.json(),D=((p=C.data)==null?void 0:p.tasks)||[],E=D.findIndex(L=>L.task===e.name);E>=0&&(console.log(`Found task ${e.name} in phase ${O.name}, will remove from child table...`),D.splice(E,1),T.push({name:O.name,data:oe(z({},C.data),{tasks:D})}))}else console.warn("Failed to fetch phase:",O.name)}catch(S){console.error("Error fetching phase:",O.name,S)}for(const O of T)try{(yield fetch(`/api/resource/project_phase/${O.name}`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(O.data)})).ok?console.log(`Successfully removed task ${e.name} from phase ${O.name}`):console.warn(`Failed to update phase ${O.name} after removing task`)}catch(S){console.error(`Error updating phase ${O.name}:`,S)}}else console.warn("Failed to fetch phases list, proceeding with task deletion...")}catch(j){console.warn("Error checking phases for task references:",j)}yield i("Task",e.name),console.log(`Successfully deleted task ${e.name}`),n&&n(),s()}catch(y){console.error("Error deleting task:",y),(b=y==null?void 0:y.exception)!=null&&b.includes("LinkExistsError")?y.exception.includes("project_phase")||y.exception.includes("phase")?alert("Cannot delete task because it is still linked with project phases. The system tried to remove phase task links automatically but failed. Please contact administrator."):y.exception.includes("SubTask")?alert("Cannot delete task because it has linked subtasks. Please delete all subtasks first."):alert("Cannot delete task because it has linked dependencies. Please check related records."):alert("Error deleting task. Please try again.")}finally{h(!1)}}}),g=()=>{s()};return a.jsx(hn,{open:t,onOpenChange:s,children:a.jsxs(fn,{className:"sm:max-w-[400px]",children:[a.jsx(mn,{children:a.jsxs(gn,{className:"flex items-center gap-2 text-red-600",children:[a.jsx(gc,{className:"h-5 w-5"}),"Delete Task"]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this task? This action cannot be undone."}),e&&a.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[a.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Priority: ",e.priority||"Medium"]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Progress: ",e.progress||0,"%"]}),e.project&&a.jsxs("div",{className:"text-sm text-blue-600",children:["Project: ",e.project]})]}),a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[a.jsxs("div",{className:"text-sm text-red-800",children:[a.jsx("strong",{children:"⚠️ Warning:"})," Deleting this task will automatically:"]}),a.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Delete ALL subtasks first"})," (to resolve SubTask dependencies)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Remove task from ALL phase child tables"})," (for any phases this task is assigned to)"]}),a.jsx("li",{children:"Remove all task progress data"}),a.jsx("li",{children:"Delete task timeline and activities"}),a.jsx("li",{children:"Remove related comments and attachments"})]}),a.jsx("div",{className:"text-xs text-red-600 mt-2 font-medium",children:"💡 The system will automatically search and handle ALL dependencies to prevent LinkExistsError."})]}),c&&a.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:a.jsxs("p",{children:[a.jsx("strong",{children:"Error:"})," ",c.message||"Failed to delete task"]})})]}),a.jsxs(An,{className:"flex gap-2",children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:g,disabled:u,children:"Cancel"}),a.jsx(Qe,{type:"button",variant:"destructive",onClick:f,disabled:u||l,children:u?"Deleting Task & SubTasks...":l?"Deleting...":"Delete Task"})]})]})})},oC=()=>{const{calculateAndUpdatePhaseProgress:e}=xS(),{calculateAndUpdateProjectProgress:t}=mL();return{updatePhaseProgressForTask:(i,l)=>fe(null,null,function*(){try{const c=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","tasks"],filters:[["project","=",l]]})});if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);const h=(yield c.json()).message||[],f=[];for(const g of h)try{const p=yield fetch(`/api/resource/project_phase/${g.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(p.ok){const b=yield p.json();b.data.tasks&&b.data.tasks.some(y=>y.task===i)&&f.push(g)}}catch(p){console.warn("Error fetching phase document:",g.name,p)}console.log(`Found ${f.length} phases affected by task ${i}`);for(const g of f)console.log(`Updating progress for phase ${g.name} after task ${i} change`),yield e(g.name);return console.log(`Updating overall project progress for ${l} after task ${i} change`),yield t(l),console.log(`Updated progress for ${f.length} phases and project ${l} affected by task ${i}`),f}catch(c){return console.error("Error updating phase progress for task:",c),[]}}),updateProjectProgress:i=>fe(null,null,function*(){try{console.log(`Updating overall project progress for ${i}`);const l=yield t(i);return l&&console.log(`Project ${i} progress updated to ${l.progress}% from ${l.source} (${l.count} items)`),l}catch(l){return console.error("Error updating project progress:",l),null}})}},OU=({task:e,projectName:t,onBack:s,onViewSubTaskDetails:n,onTaskUpdated:i,onTaskDeleted:l})=>{const[c,u]=N.useState(!1),[h,f]=N.useState(!1),[g,p]=N.useState(!1),{updatePhaseProgressForTask:b}=oC(),{calculateAndUpdateTaskProgress:y}=vu(),{data:j,isLoading:v,mutate:_}=mt("SubTask",{fields:["name","subject","task","status","progress","start_date","end_date","description"],filters:[["task","=",e.name]],orderBy:{field:"start_date",order:"asc"},limit:0}),{data:T}=mt("ToDo",{fields:["name","allocated_to","status"],filters:[["reference_type","=","Task"],["reference_name","=",e.name]],limit:1}),O=T&&T.length>0?T[0].allocated_to:null,{data:S}=kt("User",O||void 0,{fields:["name","full_name","email","user_image"]}),C=W=>W?new Date(W).toLocaleDateString():"N/A",D=W=>{switch(W){case"Completed":return a.jsx(Yx,{className:"h-5 w-5 text-green-600"});case"Working":return a.jsx(Hi,{className:"h-5 w-5 text-yellow-600"});case"Open":return a.jsx(Ui,{className:"h-5 w-5 text-blue-600"});default:return a.jsx(Ui,{className:"h-5 w-5 text-gray-400"})}},E=W=>{switch(W){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},L=W=>{switch(W){case"Urgent":return"bg-red-100 text-red-800 border-red-200";case"High":return"bg-orange-100 text-orange-800 border-orange-200";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},F=()=>{i&&i(),b(e.name,t).catch(console.error)},R=()=>{l&&l(),b(e.name,t).catch(console.error),s()},K=({subtask:W})=>{var q;const{data:Q}=mt("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(W==null?void 0:W.name)||""]]}),H=(q=Q==null?void 0:Q[0])==null?void 0:q.allocated_to;return a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("span",{children:H})})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Qe,{variant:"ghost",size:"sm",onClick:s,className:"flex items-center gap-2",children:[a.jsx(Jd,{className:"h-4 w-4"}),"Back to Tasks"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Qe,{variant:"outline",size:"sm",onClick:()=>f(!0),className:"flex items-center gap-2",children:[a.jsx(eu,{className:"h-4 w-4"}),"Edit Task"]}),a.jsxs(Qe,{variant:"outline",size:"sm",onClick:()=>p(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[a.jsx(Vi,{className:"h-4 w-4"}),"Delete Task"]})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 border border-orange-200 rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"h-12 w-12 rounded-lg bg-orange-500 flex items-center justify-center",children:a.jsx("span",{className:"text-xl",children:"📝"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.subject}),a.jsx("p",{className:"text-sm text-gray-600",children:"Task Details"})]})]}),e.description&&a.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.description})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${E(e.status||"Open")}`,children:[D(e.status||"Open"),a.jsx("span",{className:"font-medium",children:e.status||"Open"})]}),e.priority&&a.jsx("div",{className:`px-3 py-1 rounded-full border ${L(e.priority)}`,children:a.jsx("span",{className:"text-sm font-medium",children:e.priority})})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Task Progress"}),a.jsxs("span",{className:"text-lg font-bold text-orange-600",children:[e.progress||0,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:a.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-yellow-600 h-3 rounded-full transition-all duration-500",style:{width:`${e.progress||0}%`}})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:a.jsx(Vs,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),a.jsx("p",{className:"text-lg font-bold text-gray-900",children:C(e.exp_start_date)})]})]})}),a.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:a.jsx(Kx,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),a.jsx("p",{className:"text-lg font-bold text-gray-900",children:C(e.exp_end_date)})]})]})}),a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:a.jsx(tu,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Assigned To"}),T&&T.length>0?a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-bold text-gray-900",children:(S==null?void 0:S.full_name)||O}),(S==null?void 0:S.email)&&a.jsx("p",{className:"text-sm text-gray-600",children:S.email})]}):a.jsx("p",{className:"text-lg font-bold text-gray-900",children:"Unassigned"})]})]})})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Task Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Task ID"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:e.name})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),a.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${E(e.status||"Open")}`,children:[D(e.status||"Open"),a.jsx("span",{className:"font-medium",children:e.status||"Open"})]})]}),a.jsxs("div",{className:"flex items-center justify-between py-3",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),a.jsx("div",{className:`px-3 py-1 rounded-full ${L(e.priority||"Medium")}`,children:a.jsx("span",{className:"font-medium",children:e.priority||"Medium"})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Subtasks Count"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:(j==null?void 0:j.length)||0})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:e.exp_start_date&&e.exp_end_date?`${Math.ceil((new Date(e.exp_end_date).getTime()-new Date(e.exp_start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Progress"}),a.jsxs("span",{className:"text-xl font-bold text-orange-600",children:[e.progress||0,"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between py-3",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Assigned To"}),T&&T.length>0?a.jsx("div",{children:a.jsx("p",{className:"text-lg font-bold text-gray-900",children:(S==null?void 0:S.full_name)||O})}):a.jsx("p",{className:"text-lg font-bold text-gray-900",children:"Unassigned"})]})]})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"SubTasks"})}),v?a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),a.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),a.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"})]}):a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3",children:[a.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700",children:"#"}),a.jsx("div",{className:"col-span-5 text-sm font-medium text-gray-700",children:"SubTask"}),a.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Status"}),a.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Assign To"}),a.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Actions"})]})}),a.jsxs("div",{className:"divide-y divide-gray-100",children:[j&&j.length>0?j.map((W,Q)=>a.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[a.jsx("div",{className:"col-span-1 flex items-center",children:a.jsx("span",{className:"text-sm text-gray-600",children:Q+1})}),a.jsxs("div",{className:"col-span-5 flex items-center gap-3",children:[a.jsx("div",{className:"p-1 bg-green-100 rounded",children:a.jsx("span",{className:"text-sm",children:"✅"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:W.subject||W.name}),a.jsx("div",{className:"text-sm text-gray-500",children:W.name})]})]}),a.jsx("div",{className:"col-span-2 flex items-center justify-center",children:a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${E(W.status||"Open")}`,children:W.status||"Open"})}),a.jsx("div",{className:"col-span-2 flex items-center justify-center",children:a.jsx(K,{subtask:W})}),a.jsx("div",{className:"col-span-2 flex items-center justify-center",children:n&&a.jsx(Qe,{variant:"outline",size:"sm",onClick:()=>n(W),className:"h-7 px-2 text-xs",children:"View Details"})})]},W.name)):a.jsxs("div",{className:"px-6 py-8 text-center text-gray-500",children:[a.jsx("div",{className:"text-4xl mb-2",children:"✅"}),a.jsx("div",{className:"text-lg font-medium mb-1",children:"No subtasks yet"}),a.jsx("div",{className:"text-sm",children:'Click "Add SubTask" to create the first subtask for this task'})]}),a.jsx("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 bg-gray-50 border-t border-gray-200",children:a.jsx("div",{className:"col-span-12 flex items-center justify-center",children:a.jsxs(Qe,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",onClick:()=>u(!0),children:[a.jsx(gr,{className:"h-4 w-4"}),"Add new subtask to this task"]})})})]})]})]}),a.jsx(Mm,{doctype:"Task",docname:e.name,title:"Task Files",allowUpload:!0,allowDelete:!0,className:"mt-8"}),a.jsx(EU,{isOpen:c,onClose:()=>u(!1),projectName:t,parentTask:e.name,onSuccess:()=>fe(null,null,function*(){_(),setTimeout(()=>fe(null,null,function*(){yield y(e.name),setTimeout(()=>fe(null,null,function*(){yield b(e.name,t)}),500)}),500)})}),a.jsx(DU,{task:e,projectName:t,isOpen:h,onClose:()=>f(!1),onSuccess:F}),a.jsx(AU,{task:e,isOpen:g,onClose:()=>p(!1),onSuccess:R})]})},MU=({subtask:e,projectName:t,isOpen:s,onClose:n,onSuccess:i})=>{var C;const{updateSubTask:l,isLoading:c,error:u}=fS(),{assignSubTask:h,unassignSubTask:f}=my(),{calculateAndUpdateTaskProgress:g}=vu(),{data:p,isLoading:b}=wc(t),{data:y}=mt("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(e==null?void 0:e.name)||""]]}),[j,v]=N.useState({subject:"",status:"Open",start_date:"",end_date:"",description:"",assign_to:""}),_=((C=y==null?void 0:y[0])==null?void 0:C.allocated_to)||"";N.useEffect(()=>{e&&v({subject:e.subject||"",status:e.status||"Open",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",description:e.description||"",assign_to:_})},[e,_]);const T=(D,E)=>{v(L=>oe(z({},L),{[D]:E}))},O=D=>fe(null,null,function*(){if(D.preventDefault(),!!e)try{const E=j,{assign_to:L}=E,F=$e(E,["assign_to"]);yield l(e.name,F);const R=_,K=L;if(R&&R!==K){const W=y==null?void 0:y.find(Q=>Q.allocated_to===R);W&&(yield f(W.name))}K&&K!==R&&(yield h(e.name,K)),e.task&&F.status!==e.status&&(yield g(e.task)),i&&i(),n()}catch(L){console.error("Error updating subtask:",L)}}),S=()=>{e&&v({subject:e.subject||"",status:e.status||"Open",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",description:e.description||"",assign_to:_}),n()};return a.jsx(hn,{open:s,onOpenChange:n,children:a.jsxs(fn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[a.jsx(mn,{children:a.jsx(gn,{children:"Edit SubTask"})}),a.jsxs("form",{onSubmit:O,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"subject",children:"Subject *"}),a.jsx(zt,{id:"subject",value:j.subject,onChange:D=>T("subject",D.target.value),required:!0,placeholder:"Enter subtask subject"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"status",children:"Status"}),a.jsxs("select",{id:"status",value:j.status,onChange:D=>T("status",D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"Open",children:"Open"}),a.jsx("option",{value:"Working",children:"Working"}),a.jsx("option",{value:"Completed",children:"Completed"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"start_date",children:"Start Date"}),a.jsx(zt,{id:"start_date",type:"date",value:j.start_date,onChange:D=>T("start_date",D.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"end_date",children:"End Date"}),a.jsx(zt,{id:"end_date",type:"date",value:j.end_date,onChange:D=>T("end_date",D.target.value)})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"description",children:"Description"}),a.jsx("textarea",{id:"description",value:j.description,onChange:D=>T("description",D.target.value),placeholder:"Enter subtask description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"assign_to",children:"Assign To"}),a.jsxs("select",{id:"assign_to",value:j.assign_to,onChange:D=>T("assign_to",D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:b,children:[a.jsx("option",{value:"",children:"Select user..."}),p==null?void 0:p.map(D=>a.jsx("option",{value:D.user||D.name,children:D.user||D.name},D.name))]}),b&&a.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),u&&a.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:a.jsxs("p",{children:[a.jsx("strong",{children:"Error:"})," ",u.message||"Failed to update subtask"]})}),a.jsxs(An,{className:"flex gap-2",children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:S,children:"Cancel"}),a.jsx(Qe,{type:"submit",disabled:c,children:c?"Updating...":"Update SubTask"})]})]})]})})},RU=({subtask:e,isOpen:t,onClose:s,onSuccess:n})=>{const{call:i,loading:l,error:c}=$s("frappe.client.delete"),{calculateAndUpdateTaskProgress:u}=vu(),h=()=>fe(null,null,function*(){if(e)try{if(yield i({doctype:"SubTask",name:e.name}),e.task)try{yield u(e.task)}catch(g){console.error("Error updating task progress after subtask deletion:",g)}n&&n(),s()}catch(g){console.error("Error deleting subtask:",g)}}),f=()=>{s()};return a.jsx(hn,{open:t,onOpenChange:s,children:a.jsxs(fn,{className:"sm:max-w-[400px]",children:[a.jsx(mn,{children:a.jsxs(gn,{className:"flex items-center gap-2 text-red-600",children:[a.jsx(gc,{className:"h-5 w-5"}),"Delete SubTask"]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this subtask? This action cannot be undone."}),e&&a.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[a.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Progress: ",e.progress||0,"%"]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Task: ",e.task]})]}),a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[a.jsxs("div",{className:"text-sm text-red-800",children:[a.jsx("strong",{children:"Warning:"})," Deleting this subtask will also remove:"]}),a.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[a.jsx("li",{children:"All subtask progress data"}),a.jsx("li",{children:"Subtask timeline and activities"}),a.jsx("li",{children:"Related comments and attachments"}),a.jsx("li",{children:"Any associated time logs"})]})]}),c&&a.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:a.jsxs("p",{children:[a.jsx("strong",{children:"Error:"})," ",c.message||"Failed to delete subtask"]})})]}),a.jsxs(An,{className:"flex gap-2",children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:f,children:"Cancel"}),a.jsx(Qe,{type:"button",variant:"destructive",onClick:h,disabled:l,children:l?"Deleting...":"Delete SubTask"})]})]})})},PU=({subtask:e,projectName:t,onBack:s,onSubTaskUpdated:n,onSubTaskDeleted:i})=>{var S;const[l,c]=N.useState(!1),[u,h]=N.useState(!1),{calculateAndUpdateTaskProgress:f}=vu(),{updatePhaseProgressForTask:g}=oC(),{data:p}=mt("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(e==null?void 0:e.name)||""]]}),b=(S=p==null?void 0:p[0])==null?void 0:S.allocated_to,{data:y}=kt("User",b||"",{shouldFetch:!!b}),j=C=>C?new Date(C).toLocaleDateString():"N/A",v=C=>{switch(C){case"Completed":return a.jsx(Yx,{className:"h-5 w-5 text-green-600"});case"Working":return a.jsx(Hi,{className:"h-5 w-5 text-yellow-600"});case"Open":return a.jsx(Ui,{className:"h-5 w-5 text-blue-600"});default:return a.jsx(Ui,{className:"h-5 w-5 text-gray-400"})}},_=C=>{switch(C){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},T=()=>fe(null,null,function*(){if(e!=null&&e.task)try{yield f(e.task);try{console.log(`Updating phase progress for task ${e.task} in project ${t}`),yield g(e.task,t),console.log("Phase and project progress updated after subtask edit")}catch(C){console.error("Error updating phase progress after subtask edit:",C)}}catch(C){console.error("Error updating task progress after subtask edit:",C)}n&&n()}),O=()=>fe(null,null,function*(){if(e!=null&&e.task)try{yield f(e.task);try{console.log(`Updating phase progress for task ${e.task} in project ${t}`),yield g(e.task,t),console.log("Phase and project progress updated after subtask delete")}catch(C){console.error("Error updating phase progress after subtask delete:",C)}}catch(C){console.error("Error updating task progress after subtask delete:",C)}i&&i(),s()});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Qe,{variant:"ghost",size:"sm",onClick:s,className:"flex items-center gap-2",children:[a.jsx(Jd,{className:"h-4 w-4"}),"Back to Tasks"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Qe,{variant:"outline",size:"sm",onClick:()=>c(!0),className:"flex items-center gap-2",children:[a.jsx(eu,{className:"h-4 w-4"}),"Edit SubTask"]}),a.jsxs(Qe,{variant:"outline",size:"sm",onClick:()=>h(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[a.jsx(Vi,{className:"h-4 w-4"}),"Delete SubTask"]})]})]}),a.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"h-12 w-12 rounded-lg bg-green-500 flex items-center justify-center",children:a.jsx("span",{className:"text-xl",children:"✅"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.subject}),a.jsx("p",{className:"text-sm text-gray-600",children:"SubTask Details"})]})]}),e.description&&a.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.description})]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${_(e.status||"Open")}`,children:[v(e.status||"Open"),a.jsx("span",{className:"font-medium",children:e.status||"Open"})]})})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:a.jsx(Vs,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),a.jsx("p",{className:"text-lg font-bold text-gray-900",children:j(e.start_date)})]})]})}),a.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:a.jsx(Kx,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),a.jsx("p",{className:"text-lg font-bold text-gray-900",children:j(e.end_date)})]})]})}),a.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:a.jsx(Ds,{className:"h-6 w-6 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-orange-600 uppercase tracking-wide",children:"Parent Task"}),a.jsx("p",{className:"text-lg font-bold text-gray-900",children:e.task||"N/A"})]})]})})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"SubTask Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"SubTask ID"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:e.name})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Parent Task"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:e.task||"N/A"})]}),a.jsxs("div",{className:"flex items-center justify-between py-3",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),a.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${_(e.status||"Open")}`,children:[v(e.status||"Open"),a.jsx("span",{className:"font-medium",children:e.status||"Open"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Start Date"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:j(e.start_date)})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"End Date"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:j(e.end_date)})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:e.start_date&&e.end_date?`${Math.ceil((new Date(e.end_date).getTime()-new Date(e.start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-t border-gray-100",children:[a.jsxs("span",{className:"text-gray-600 font-medium flex items-center gap-2",children:[a.jsx(tu,{className:"h-4 w-4"}),"Assigned To"]}),a.jsx("span",{className:"text-gray-900 font-semibold",children:b?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:(y==null?void 0:y.full_name)||b}),(y==null?void 0:y.user_image)&&a.jsx("img",{src:y.user_image,alt:y.full_name||b,className:"h-6 w-6 rounded-full"})]}):a.jsx("span",{className:"text-gray-400",children:"Not assigned"})})]})]})]})]}),e.description&&a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Description"}),a.jsx("div",{className:"prose max-w-none",children:a.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:e.description})})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Activity Timeline"}),a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("div",{className:"text-4xl mb-2",children:"📋"}),a.jsx("div",{className:"text-lg font-medium mb-1",children:"No activity yet"}),a.jsx("div",{className:"text-sm",children:"Activity and updates will appear here when available"})]})]}),a.jsx(Mm,{doctype:"SubTask",docname:e.name,title:"SubTask Files",allowUpload:!0,allowDelete:!0,className:"mt-8"}),a.jsx(MU,{subtask:e,projectName:t,isOpen:l,onClose:()=>c(!1),onSuccess:T}),a.jsx(RU,{subtask:e,isOpen:u,onClose:()=>h(!1),onSuccess:O})]})};function LU({isOpen:e,onClose:t,projectName:s,onSuccess:n}){const[i,l]=N.useState(!1),{call:c}=$s("todo.api.add_project_member"),u=Cm();N.useEffect(()=>{e&&(u.reset(),u.clearErrors())},[e,u]);const h=()=>{i||(t(),u.reset(),u.clearErrors())},f=g=>fe(null,null,function*(){if(s&&!i){l(!0);try{const p=yield c({project_name:s,user:g.user,view_attachments:g.view_attachments?1:0,hide_timesheets:g.hide_timesheets?1:0,project_status:g.project_status||"Team Member"});console.log("Member added successfully:",p),t(),setTimeout(()=>{u.reset(),u.clearErrors()},0),setTimeout(()=>{n()},1e3),alert("Member added successfully!")}catch(p){console.error("Error adding member:",p);const b=p instanceof Error?p.message:String(p),y=JSON.stringify(p);b.includes("Email Account")||b.includes("OutgoingEmailError")||b.includes("email")||b.includes("SMTP")||y.includes("OutgoingEmailError")||y.includes("Email Account")?(console.log("Email error detected, member likely added successfully"),t(),setTimeout(()=>{u.reset(),u.clearErrors()},0),setTimeout(()=>{n(),alert("Member added successfully! (Welcome email could not be sent due to email configuration, but the member was added to the project)")},1e3)):b.includes("DuplicateEntryError")||b.includes("already exists")?alert("This user is already a member of the project."):b.includes("PermissionError")||b.includes("Not permitted")?alert("You do not have permission to add members to this project."):b.includes("ValidationError")?alert("Invalid data provided. Please check your inputs."):alert("Failed to add member: "+b)}finally{l(!1)}}});return a.jsx(hn,{open:e,onOpenChange:h,children:a.jsx(fn,{className:"sm:max-w-md",children:a.jsxs("form",{onSubmit:u.handleSubmit(f),onKeyDown:g=>{g.key==="Enter"&&g.target instanceof HTMLInputElement&&g.preventDefault()},children:[a.jsxs(mn,{children:[a.jsx(gn,{children:"Add Team Member"}),a.jsx(ju,{children:"Add a new member to the project team."})]}),a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsxs(Ie,{children:["User ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(va,{name:"user",control:u.control,rules:{required:"Please select a user"},render:({field:g})=>a.jsx(wa,{doctype:"User",value:g.value||"",onChange:p=>{console.log("Combobox onChange:",p),g.onChange(p),p&&u.formState.errors.user&&u.clearErrors("user")},placeholder:i?"Please wait...":"Select user...",displayField:"full_name",valueField:"name",filters:[["enabled","=",1],["user_type","!=","Website User"]],fields:["name","full_name","email","user_image"],className:"w-full",disabled:i},`add-member-${e?"open":"closed"}-${Date.now()}`)}),u.formState.errors.user&&a.jsx("span",{className:"text-red-500 text-sm",children:u.formState.errors.user.message})]}),a.jsxs("div",{className:"space-y-3 pt-2 border-t",children:[a.jsx(Ie,{className:"text-sm font-medium",children:"Permissions"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",oe(z({type:"checkbox",id:"add_view_attachments"},u.register("view_attachments")),{defaultChecked:!0,disabled:i,className:"rounded border-gray-300"})),a.jsx(Ie,{htmlFor:"add_view_attachments",className:"text-sm",children:"Can view attachments"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",oe(z({type:"checkbox",id:"add_hide_timesheets"},u.register("hide_timesheets")),{disabled:i,className:"rounded border-gray-300"})),a.jsx(Ie,{htmlFor:"add_hide_timesheets",className:"text-sm",children:"Hide timesheets from this user"})]})]})]}),a.jsxs(An,{className:"gap-2",children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:h,disabled:i,children:"Cancel"}),a.jsx(Qe,{type:"submit",disabled:i||!u.watch("user"),className:"bg-blue-600 hover:bg-blue-700 disabled:opacity-50",children:i?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Adding..."]}):"Add Member"})]})]})})})}function BU({project:e,onBack:t}){const[s,n]=N.useState("overview"),[i,l]=N.useState(null),[c,u]=N.useState(null),[h,f]=N.useState(null),[g,p]=N.useState(!1),[b,y]=N.useState(!1),[j,v]=N.useState(!1),[_,T]=N.useState(!1);N.useEffect(()=>{b||(ne.reset(),ne.clearErrors())},[b]),N.useEffect(()=>{e!=null&&e.name&&(n("overview"),l(null),u(null),f(null),p(!1),y(!1),v(!1),T(!1))},[e==null?void 0:e.name]);const{data:O,isLoading:S,mutate:C}=kt("Project",(e==null?void 0:e.name)||"",{revalidateIfStale:!0,revalidateOnFocus:!0,revalidateOnReconnect:!0}),{call:D}=$s("frappe.client.delete"),{call:E}=$s("todo.api.remove_project_member"),{data:L,error:F,isLoading:R}=kt("User",(e==null?void 0:e.owner)||"",{revalidateIfStale:!0,revalidateOnFocus:!0,revalidateOnReconnect:!0}),{data:K,mutate:W}=kt("SubTask",(h==null?void 0:h.name)||"",{revalidateIfStale:!0,revalidateOnFocus:!0,revalidateOnReconnect:!0}),{data:Q,mutate:H}=kt("Task",(c==null?void 0:c.name)||"",{revalidateIfStale:!0,revalidateOnFocus:!0,revalidateOnReconnect:!0}),{currentUser:q}=Tn(),Y=(O==null?void 0:O.users)||(e==null?void 0:e.users)||[],$=S,J=N.useMemo(()=>{const Oe=Math.round(15*((O==null?void 0:O.percent_complete)||(e==null?void 0:e.percent_complete)||0)/100),He=[{name:"Planning",progress:100},{name:"Development",progress:75},{name:"Testing",progress:30},{name:"Deployment",progress:0}];return{progress:(O==null?void 0:O.percent_complete)||(e==null?void 0:e.percent_complete)||0,source:"project",count:1,totalTasks:15,completedTasks:Oe,phases:He}},[O==null?void 0:O.percent_complete,e==null?void 0:e.percent_complete,e==null?void 0:e.name]),se=()=>fe(null,null,function*(){if(h!=null&&h.name)try{yield W()}catch(X){console.error("Error refreshing subtask data:",X)}}),Ne=()=>fe(null,null,function*(){if(c!=null&&c.name)try{yield H()}catch(X){console.error("Error refreshing task data:",X)}}),P=X=>fe(null,null,function*(){(c==null?void 0:c.name)===X&&(yield Ne())});N.useEffect(()=>{K&&(h==null?void 0:h.name)===K.name&&f(K)},[K,h==null?void 0:h.name]),N.useEffect(()=>{Q&&(c==null?void 0:c.name)===Q.name&&u(Q)},[Q,c==null?void 0:c.name]);const ne=Cm();N.useEffect(()=>{e!=null&&e.name&&(ne.reset(),C&&C())},[e==null?void 0:e.name,ne,C]);const ge=X=>fe(null,null,function*(){if(e!=null&&e.name&&confirm("Are you sure you want to remove this member from the project?"))try{const Oe=yield E({project_name:e.name,user:X});console.log("Member removed successfully:",Oe),setTimeout(()=>C(),1e3),alert("Member removed successfully!")}catch(Oe){console.error("Error removing member:",Oe);const He=Oe instanceof Error?Oe.message:String(Oe);if(He.includes("Email Account")||He.includes("OutgoingEmailError")||He.includes("email")||He.includes("SMTP"))console.log("Email error detected when removing member, checking if removal was successful"),setTimeout(()=>{C(),alert("Member removed successfully! (Email notification failed to send, but member was removed from project)")},1e3);else if(He.includes("PermissionError")||He.includes("Not permitted"))alert("You do not have permission to remove members from this project.");else if(He.includes("ValidationError"))alert("Cannot remove member: Validation error occurred.");else if(He.includes("LinkExistsError")||He.includes("Cannot delete"))alert("Cannot remove member: This user may have linked records (tasks, timesheets, etc.). Please remove or reassign those records first.");else if(He.includes("is not a member of this project"))alert("This user is not a member of the project."),setTimeout(()=>C(),500);else{console.log("Custom API failed, trying fallback method");try{const Ye=Y.find(tt=>tt.user===X);Ye!=null&&Ye.name?(yield D({doctype:"Project User",name:Ye.name}),setTimeout(()=>C(),1e3),alert("Member removed successfully! (Using fallback method)")):alert("User record not found.")}catch(Ye){console.error("Fallback method also failed:",Ye),alert(`Failed to remove member: ${He}`)}}}}),G=()=>(e==null?void 0:e.owner)===q||q==="Administrator",re=X=>X?new Date(X).toLocaleDateString():"N/A",_e=()=>{v(!0)},me=()=>{T(!0)},Le=()=>{C(),rc(X=>typeof X=="string"&&X.includes("Project"),void 0,{revalidate:!0})},we=()=>{t()};if(!e)return null;const Ee=O||e;return a.jsxs("div",{className:"min-h-screen bg-slate-50",children:[a.jsx("div",{className:"bg-gradient-to-r from-slate-800 to-slate-900 text-white shadow-2xl",children:a.jsxs("div",{className:"mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsx("div",{className:"h-20 w-20 rounded-xl bg-white/10 backdrop-blur-sm flex items-center justify-center shadow-lg border border-white/20",children:a.jsx("span",{className:"text-3xl font-bold text-white",children:Ee.project_name.charAt(0).toUpperCase()})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:Ee.project_name}),a.jsx("span",{className:`px-4 py-2 text-sm font-semibold rounded-full ${Ee.status==="Open"?"bg-emerald-500/20 text-emerald-300 border border-emerald-400/30":Ee.status==="Completed"?"bg-blue-500/20 text-blue-300 border border-blue-400/30":"bg-red-500/20 text-red-300 border border-red-400/30"}`,children:Ee.status||"Open"})]}),a.jsxs("div",{className:"flex items-center space-x-4 text-slate-300",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),re(Ee.expected_end_date)]}),Ee.project_type&&a.jsxs("span",{className:"flex items-center",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),Ee.project_type]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(Qe,{variant:"outline",size:"lg",onClick:_e,className:"bg-white/10 border-white/30 text-white hover:bg-white/20 backdrop-blur-sm",children:[a.jsx(eu,{className:"h-5 w-5 mr-2"}),"Edit Project"]}),a.jsxs(Qe,{variant:"outline",size:"lg",onClick:me,className:"bg-red-600/20 border-red-400/30 text-red-200 hover:bg-red-600/30 backdrop-blur-sm",children:[a.jsx(Vi,{className:"h-5 w-5 mr-2"}),"Delete"]}),a.jsxs(Qe,{variant:"ghost",size:"lg",onClick:t,className:"text-white hover:bg-white/10 backdrop-blur-sm",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Projects"]})]})]}),a.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/15 transition-all",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-300 text-sm font-medium",children:"Progress"}),a.jsxs("p",{className:"text-3xl font-bold text-white",children:[J.progress,"%"]})]}),a.jsx("div",{className:"h-12 w-12 rounded-full bg-white/20 flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]}),a.jsx("div",{className:"mt-3 w-full bg-white/20 rounded-full h-2",children:a.jsx("div",{className:"bg-white h-2 rounded-full transition-all duration-1000 ease-out",style:{width:`${J.progress}%`}})})]}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/15 transition-all",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-300 text-sm font-medium",children:"Budget"}),a.jsx("p",{className:"text-2xl font-bold text-white",children:Ai(Ee.estimated_costing)})]}),a.jsx("div",{className:"h-12 w-12 rounded-full bg-emerald-500/30 flex items-center justify-center",children:a.jsx($i,{className:"w-6 h-6"})})]})}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/15 transition-all",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-300 text-sm font-medium",children:"Team Size"}),a.jsx("p",{className:"text-2xl font-bold text-white",children:((Y==null?void 0:Y.length)||0)+1})]}),a.jsx("div",{className:"h-12 w-12 rounded-full bg-slate-500/30 flex items-center justify-center",children:a.jsx(Cn,{className:"w-6 h-6"})})]})}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/15 transition-all",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-300 text-sm font-medium",children:"Days Left"}),a.jsx("p",{className:"text-2xl font-bold text-white",children:Ee.expected_end_date?Math.max(0,Math.ceil((new Date(Ee.expected_end_date).getTime()-new Date().getTime())/(1e3*3600*24))):"N/A"})]}),a.jsx("div",{className:"h-12 w-12 rounded-full bg-orange-500/30 flex items-center justify-center",children:a.jsx(Vs,{className:"w-6 h-6"})})]})})]})]})}),a.jsx("div",{className:"bg-white border-b border-slate-200 sticky top-0 z-40 shadow-sm",children:a.jsx("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"flex space-x-8 overflow-x-auto",children:[{id:"overview",label:"Overview",icon:"📊"},{id:"tasks",label:"Tasks & Phases",icon:"📋"},{id:"team",label:`Team (${((Y==null?void 0:Y.length)||0)+1})`,icon:"👥"},...i?[{id:"phase-details",label:`📋 ${i.subject}`,icon:"🔍"}]:[],...c?[{id:"task-details",label:`📝 ${c.subject||c.name}`,icon:"🔍"}]:[],...h?[{id:"subtask-details",label:`📌 ${h.subject||h.name}`,icon:"🔍"}]:[]].map(X=>a.jsxs("button",{onClick:()=>n(X.id),className:`py-4 px-6 text-sm font-medium border-b-2 transition-all duration-200 whitespace-nowrap flex items-center space-x-2 ${s===X.id?"border-slate-600 text-slate-800 bg-slate-50":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 hover:bg-slate-50/50"}`,children:[a.jsx("span",{children:X.icon}),a.jsx("span",{children:X.label}),(X.id==="phase-details"||X.id==="task-details"||X.id==="subtask-details")&&a.jsx("button",{onClick:Oe=>{Oe.stopPropagation(),X.id==="phase-details"?(l(null),n("tasks")):X.id==="task-details"?(u(null),n("tasks")):(f(null),n("tasks"))},className:"ml-2 p-1 rounded-full hover:bg-slate-200 transition-colors",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},X.id))})})}),a.jsx("div",{className:"bg-slate-50 min-h-screen",children:a.jsxs("div",{className:" mx-auto py-8",children:[a.jsxs("div",{className:"space-y-8",children:[s==="overview"&&a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200 hover:shadow-md transition-all duration-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-500 uppercase tracking-wider",children:"Total Tasks"}),a.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-2",children:J.totalTasks}),a.jsxs("p",{className:"text-sm text-emerald-600 mt-1",children:[J.completedTasks," completed"]})]}),a.jsx("div",{className:"h-14 w-14 bg-slate-100 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"w-7 h-7 text-slate-600",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})})]})}),a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200 hover:shadow-md transition-all duration-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-500 uppercase tracking-wider",children:"Team Members"}),a.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-2",children:((Y==null?void 0:Y.length)||0)+1}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Including project owner"})]}),a.jsx("div",{className:"h-14 w-14 bg-slate-100 rounded-xl flex items-center justify-center",children:a.jsx(Cn,{className:"w-7 h-7 text-slate-600"})})]})}),a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200 hover:shadow-md transition-all duration-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-500 uppercase tracking-wider",children:"Budget"}),a.jsx("p",{className:"text-2xl font-bold text-slate-900 mt-2",children:Ai(Ee.estimated_costing)}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Estimated cost"})]}),a.jsx("div",{className:"h-14 w-14 bg-emerald-50 rounded-xl flex items-center justify-center",children:a.jsx($i,{className:"w-7 h-7 text-emerald-600"})})]})}),a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200 hover:shadow-md transition-all duration-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-500 uppercase tracking-wider",children:"Time Left"}),a.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-2",children:Ee.expected_end_date?Math.max(0,Math.ceil((new Date(Ee.expected_end_date).getTime()-new Date().getTime())/(1e3*3600*24))):"N/A"}),a.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"Days remaining"})]}),a.jsx("div",{className:"h-14 w-14 bg-orange-50 rounded-xl flex items-center justify-center",children:a.jsx(Vs,{className:"w-7 h-7 text-orange-600"})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[a.jsx("div",{className:"xl:col-span-2 space-y-8",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[a.jsx("div",{className:"px-8 py-6 border-b border-slate-200",children:a.jsxs("h3",{className:"text-2xl font-bold text-slate-900 flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 bg-slate-100 rounded-lg flex items-center justify-center",children:a.jsx(vM,{className:"h-6 w-6 text-slate-600"})}),"Project Information"]})}),a.jsxs("div",{className:"p-8 space-y-8",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-500 uppercase tracking-wider mb-3",children:"Description"}),a.jsx("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:a.jsx("p",{className:"text-slate-900 leading-relaxed",children:Ee.description||"No description provided for this project."})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-500 uppercase tracking-wider mb-3",children:"Start Date"}),a.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-emerald-50 rounded-lg border border-emerald-200",children:[a.jsx("div",{className:"h-8 w-8 bg-emerald-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-4 h-4 text-emerald-600",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.293l-3-3a1 1 0 00-1.414 1.414L10.586 9.5H7a1 1 0 100 2h3.586l-1.293 1.293a1 1 0 101.414 1.414l3-3a1 1 0 000-1.414z",clipRule:"evenodd"})})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-slate-900",children:re(Ee.expected_start_date)}),a.jsx("p",{className:"text-sm text-emerald-600",children:"Project kickoff"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-500 uppercase tracking-wider mb-3",children:"Target End Date"}),a.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-red-50 rounded-lg border border-red-200",children:[a.jsx("div",{className:"h-8 w-8 bg-red-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-4 h-4 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-slate-900",children:re(Ee.expected_end_date)}),a.jsx("p",{className:"text-sm text-red-600",children:"Delivery deadline"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-500 uppercase tracking-wider mb-3",children:"Customer"}),a.jsx("div",{className:"p-3 bg-slate-50 rounded-lg border border-slate-200",children:a.jsx("p",{className:"text-slate-900 font-medium",children:Ee.customer||"Not assigned"})})]}),Ee.project_type&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-500 uppercase tracking-wider mb-3",children:"Project Type"}),a.jsxs("div",{className:"flex items-center px-4 py-3 bg-slate-50 rounded-lg border border-slate-200",children:[a.jsx("div",{className:"h-6 w-6 bg-slate-200 rounded-md flex items-center justify-center mr-3",children:a.jsx("svg",{className:"w-3 h-3 text-slate-600",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})}),a.jsx("span",{className:"text-slate-900 font-medium",children:Ee.project_type})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-500 uppercase tracking-wider mb-3",children:"Priority"}),a.jsx("div",{className:"p-3 bg-amber-50 rounded-lg border border-amber-200",children:a.jsx("p",{className:"text-amber-900 font-medium",children:Ee.priority||"Medium"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-500 uppercase tracking-wider mb-3",children:"Financial Overview"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-emerald-50 p-4 rounded-lg border border-emerald-200",children:[a.jsx("p",{className:"text-sm text-emerald-700 font-medium",children:"Total Sales"}),a.jsx("p",{className:"text-lg font-bold text-emerald-900",children:Ai(Ee.total_sales_amount)})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[a.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"Total Cost"}),a.jsx("p",{className:"text-lg font-bold text-blue-900",children:Ai(Ee.total_costing_amount)})]}),a.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[a.jsx("p",{className:"text-sm text-purple-700 font-medium",children:"Billable"}),a.jsx("p",{className:"text-lg font-bold text-purple-900",children:Ai(Ee.total_billable_amount)})]}),a.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:[a.jsx("p",{className:"text-sm text-orange-700 font-medium",children:"Gross Margin"}),a.jsx("p",{className:"text-lg font-bold text-orange-900",children:Ai(Ee.gross_margin)})]})]})]})]})]})}),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[a.jsx("div",{className:"px-6 py-5 border-b border-slate-200",children:a.jsxs("h3",{className:"text-xl font-bold text-slate-900 flex items-center gap-3",children:[a.jsx("div",{className:"h-8 w-8 bg-slate-100 rounded-lg flex items-center justify-center",children:a.jsx(oc,{className:"h-5 w-5 text-slate-600"})}),"Progress Overview"]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"relative inline-flex items-center justify-center",children:[a.jsx("div",{className:"w-28 h-28",children:a.jsxs("svg",{className:"w-28 h-28 transform -rotate-90",viewBox:"0 0 100 100",children:[a.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-slate-200"}),a.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:`${2*Math.PI*40}`,strokeDashoffset:`${2*Math.PI*40*(1-J.progress/100)}`,className:"text-slate-800 transition-all duration-1000 ease-out",strokeLinecap:"round"})]})}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("span",{className:"text-2xl font-bold text-slate-800",children:[J.progress,"%"]})})]}),a.jsx("p",{className:"text-slate-600 mt-3 font-medium",children:"Overall Completion"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-slate-50 rounded-lg border border-slate-200",children:[a.jsx("div",{className:"text-2xl font-bold text-slate-800",children:J.completedTasks}),a.jsx("div",{className:"text-sm text-slate-600 font-medium",children:"Completed"})]}),a.jsxs("div",{className:"text-center p-4 bg-slate-50 rounded-lg border border-slate-200",children:[a.jsx("div",{className:"text-2xl font-bold text-slate-800",children:J.totalTasks-J.completedTasks}),a.jsx("div",{className:"text-sm text-slate-600 font-medium",children:"Remaining"})]})]}),J.phases.length>0&&a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[a.jsx("div",{className:"h-6 w-6 bg-slate-100 rounded-md flex items-center justify-center",children:a.jsx("svg",{className:"w-4 h-4 text-slate-600",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})}),"Phase Progress"]}),a.jsx("div",{className:"space-y-3",children:J.phases.map((X,Oe)=>a.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-sm font-semibold text-slate-900 truncate",children:X.name}),a.jsxs("span",{className:"text-sm font-bold text-slate-700 ml-2",children:[X.progress,"%"]})]}),a.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:a.jsx("div",{className:"bg-slate-600 h-2 rounded-full transition-all duration-500",style:{width:`${X.progress}%`}})})]},Oe))})]})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[a.jsx("div",{className:"px-8 py-6 border-b border-slate-200",children:a.jsxs("h3",{className:"text-2xl font-bold text-slate-900 flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 bg-slate-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"h-6 w-6 text-slate-600",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})})}),"Project Files"]})}),a.jsx("div",{className:"p-8",children:a.jsx(Mm,{doctype:"Project",docname:e.name,title:"",allowUpload:!0,allowDelete:!0})})]})]}),s==="team"&&a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200 hover:shadow-md transition-all duration-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-500 uppercase tracking-wider",children:"Total Members"}),a.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-2",children:((Y==null?void 0:Y.length)||0)+1}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Including owner"})]}),a.jsx("div",{className:"h-14 w-14 bg-slate-100 rounded-xl flex items-center justify-center",children:a.jsx(Cn,{className:"w-7 h-7 text-slate-600"})})]})}),a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200 hover:shadow-md transition-all duration-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-500 uppercase tracking-wider",children:"Project Owner"}),a.jsx("p",{className:"text-2xl font-bold text-amber-600 mt-2",children:"1"}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Active"})]}),a.jsx("div",{className:"h-14 w-14 bg-amber-50 rounded-xl flex items-center justify-center",children:a.jsx(Zp,{className:"w-7 h-7 text-amber-600"})})]})}),a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200 hover:shadow-md transition-all duration-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-500 uppercase tracking-wider",children:"Team Members"}),a.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-2",children:(Y==null?void 0:Y.length)||0}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Contributors"})]}),a.jsx("div",{className:"h-14 w-14 bg-slate-100 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"w-7 h-7 text-slate-600",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"})})})]})}),a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200 hover:shadow-md transition-all duration-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-500 uppercase tracking-wider",children:"Progress"}),a.jsxs("p",{className:"text-3xl font-bold text-emerald-600 mt-2",children:[(e==null?void 0:e.percent_complete)||0,"%"]}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Complete"})]}),a.jsx("div",{className:"h-14 w-14 bg-emerald-50 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"w-7 h-7 text-emerald-600",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[a.jsx("div",{className:"px-8 py-6 border-b border-slate-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-2xl font-bold text-slate-900 flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 bg-amber-100 rounded-lg flex items-center justify-center",children:a.jsx(Zp,{className:"h-6 w-6 text-amber-600"})}),"Project Owner"]}),G()&&a.jsxs(Qe,{variant:"outline",size:"lg",onClick:()=>{ne.reset({owner:(e==null?void 0:e.owner)||""}),y(!0)},className:"border-slate-300 text-slate-700 hover:bg-slate-50",children:[a.jsx(eu,{className:"h-5 w-5 mr-2"}),"Change Owner"]})]})}),a.jsx("div",{className:"p-8",children:a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"h-16 w-16 rounded-xl bg-slate-100 flex items-center justify-center shadow-sm border border-slate-200",children:L!=null&&L.user_image?a.jsx("img",{src:L.user_image,alt:(L==null?void 0:L.full_name)||"Owner",className:"h-full w-full object-cover rounded-xl"}):a.jsx("span",{className:"text-xl font-bold text-slate-600",children:((L==null?void 0:L.full_name)||(Ee==null?void 0:Ee.owner)||"O").charAt(0).toUpperCase()})}),a.jsx("div",{className:"absolute -bottom-1 -right-1 h-6 w-6 bg-amber-500 rounded-full flex items-center justify-center border-2 border-white",children:a.jsx(Zp,{className:"h-3 w-3 text-white"})})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-xl font-bold text-slate-900 mb-1",children:R?"Loading...":(L==null?void 0:L.full_name)||(Ee==null?void 0:Ee.owner)||"No Owner"}),a.jsx("p",{className:"text-slate-600 mb-3",children:R?"Loading email...":(L==null?void 0:L.email)||(Ee==null?void 0:Ee.owner)||"No email"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("span",{className:"inline-flex px-3 py-1 text-sm font-medium bg-amber-100 text-amber-800 rounded-full border border-amber-200",children:"👑 Project Owner"}),(L==null?void 0:L.designation)&&a.jsx("span",{className:"inline-flex px-3 py-1 text-sm font-medium bg-slate-100 text-slate-700 rounded-full border border-slate-200",children:L.designation}),F&&a.jsx("span",{className:"inline-flex px-3 py-1 text-sm font-medium bg-red-100 text-red-700 rounded-full border border-red-200",children:"⚠️ Error loading details"})]})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[a.jsx("div",{className:"px-8 py-6 border-b border-slate-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-2xl font-bold text-slate-900 flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 bg-slate-100 rounded-lg flex items-center justify-center",children:a.jsx(Cn,{className:"h-6 w-6 text-slate-600"})}),"Team Members",a.jsxs("span",{className:"inline-flex px-3 py-1 text-sm font-medium bg-slate-100 text-slate-700 rounded-full border border-slate-200",children:[(Y==null?void 0:Y.length)||0," members"]})]}),a.jsxs(Qe,{size:"lg",className:"bg-slate-800 hover:bg-slate-900",onClick:()=>p(!0),children:[a.jsx(gr,{className:"h-5 w-5 mr-2"}),"Add Member"]})]})}),a.jsx("div",{className:"p-8",children:$?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-slate-300 border-t-slate-600 mx-auto mb-4"}),a.jsx("p",{className:"text-lg font-medium text-slate-600",children:"Loading team members..."}),a.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Please wait while we fetch the team data"})]})}):Y&&Y.length>0?a.jsx("div",{className:"grid gap-4",children:Y.map((X,Oe)=>a.jsxs("div",{className:"flex items-center justify-between p-6 bg-slate-50 border border-slate-200 rounded-xl hover:bg-slate-100 hover:border-slate-300 transition-all duration-200",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"h-14 w-14 rounded-xl bg-slate-100 flex items-center justify-center overflow-hidden shadow-sm border border-slate-200",children:X.image?a.jsx("img",{src:X.image,alt:X.full_name||X.user,className:"h-full w-full object-cover rounded-xl"}):a.jsx("span",{className:"text-lg font-semibold text-slate-600",children:(X.full_name||X.user||"U").charAt(0).toUpperCase()})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-lg font-semibold text-slate-900 mb-1",children:X.full_name||X.user||"Unknown User"}),a.jsx("p",{className:"text-slate-600 mb-2",children:X.email||X.user||"No email"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-slate-100 text-slate-700 rounded-md border border-slate-200",children:"👥 Team Member"}),X.project_status&&a.jsxs("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-emerald-100 text-emerald-700 rounded-md border border-emerald-200",children:["📊 ",X.project_status]}),X.view_attachments&&a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-slate-100 text-slate-700 rounded-md border border-slate-200",children:"📎 File Access"})]})]})]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs(Qe,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700 hover:bg-red-50 border-red-300",onClick:()=>ge(X.user),children:[a.jsx(Vi,{className:"h-4 w-4 mr-2"}),"Remove"]})})]},X.user||Oe))}):a.jsx("div",{className:"text-center py-16",children:a.jsxs("div",{className:"max-w-sm mx-auto",children:[a.jsx("div",{className:"h-20 w-20 bg-slate-100 rounded-xl flex items-center justify-center mx-auto mb-6 border border-slate-200",children:a.jsx(Cn,{className:"h-10 w-10 text-slate-400"})}),a.jsx("h4",{className:"text-xl font-semibold text-slate-900 mb-3",children:"No team members yet"}),a.jsx("p",{className:"text-slate-600 text-base mb-6",children:"Start building your team by adding members to collaborate on this project"}),a.jsxs(Qe,{size:"lg",className:"bg-slate-800 hover:bg-slate-900",onClick:()=>p(!0),children:[a.jsx(gr,{className:"h-5 w-5 mr-2"}),"Add First Member"]})]})})})]})]}),s==="tasks"&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-100 px-8 py-6 border-b border-gray-200",children:[a.jsxs("h3",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 bg-green-600 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"h-6 w-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})}),"Tasks & Phases Management"]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Organize and track project phases, tasks, and subtasks"})]}),a.jsx("div",{className:"p-8",children:a.jsx(_U,{projectName:e.name,onViewPhaseDetails:X=>{l(X),n("phase-details")},onViewTaskDetails:X=>{u(X),n("task-details")},onViewSubTaskDetails:X=>{f(X),n("subtask-details")}})})]}),s==="phase-details"&&i&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-100 px-8 py-6 border-b border-gray-200",children:[a.jsxs("h3",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 bg-purple-600 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"h-6 w-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})}),"Phase Details: ",i.subject]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage tasks and track progress for this phase"})]}),a.jsx("div",{className:"p-8",children:a.jsx(CU,{phase:i,projectName:e.name,onBack:()=>n("tasks"),onViewTaskDetails:X=>{u(X),n("task-details")},onPhaseUpdated:()=>fe(null,null,function*(){C()}),onPhaseDeleted:()=>fe(null,null,function*(){C(),n("tasks"),l(null)}),onTaskCreated:()=>fe(null,null,function*(){C()})})})]}),s==="task-details"&&c&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-amber-100 px-8 py-6 border-b border-gray-200",children:[a.jsxs("h3",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 bg-orange-600 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"h-6 w-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})}),"Task Details: ",c.subject||c.name]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage subtasks and track task progress"})]}),a.jsx("div",{className:"p-8",children:a.jsx(OU,{task:c,projectName:e.name,onBack:()=>n("tasks"),onViewSubTaskDetails:X=>{f(X),n("subtask-details")},onTaskUpdated:()=>fe(null,null,function*(){C(),yield Ne()}),onTaskDeleted:()=>fe(null,null,function*(){C(),n("tasks"),u(null)})})})]}),s==="subtask-details"&&h&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-pink-50 to-rose-100 px-8 py-6 border-b border-gray-200",children:[a.jsxs("h3",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 bg-pink-600 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"h-6 w-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})}),"Subtask Details:"," ",h.subject||h.name]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Detailed view and management of subtask"})]}),a.jsx("div",{className:"p-8",children:a.jsx(PU,{subtask:h,projectName:e.name,onBack:()=>n("tasks"),onSubTaskUpdated:()=>fe(null,null,function*(){C(),yield se(),h!=null&&h.task&&(yield P(h.task))}),onSubTaskDeleted:()=>fe(null,null,function*(){C(),n("tasks"),f(null)})})})]})]}),a.jsxs("div",{className:"mt-12 bg-white rounded-2xl shadow-lg border border-gray-100 p-8",children:[a.jsxs("h4",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[a.jsx("div",{className:"h-8 w-8 bg-indigo-600 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"h-5 w-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})})}),"Quick Actions"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs(Qe,{variant:"outline",className:"h-16 text-lg font-semibold bg-gradient-to-r from-green-50 to-emerald-50 hover:from-green-100 hover:to-emerald-100 border-green-300 text-green-700 hover:text-green-800",onClick:()=>n("tasks"),children:[a.jsx("svg",{className:"w-6 h-6 mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})}),"Manage Tasks"]}),a.jsxs(Qe,{variant:"outline",className:"h-16 text-lg font-semibold bg-gradient-to-r from-blue-50 to-indigo-50 hover:from-blue-100 hover:to-indigo-100 border-blue-300 text-blue-700 hover:text-blue-800",onClick:()=>n("team"),children:[a.jsx(Cn,{className:"w-6 h-6 mr-3"}),"Team Overview"]}),a.jsxs(Qe,{variant:"outline",className:"h-16 text-lg font-semibold bg-gradient-to-r from-purple-50 to-pink-50 hover:from-purple-100 hover:to-pink-100 border-purple-300 text-purple-700 hover:text-purple-800",onClick:()=>n("overview"),children:[a.jsx(oc,{className:"w-6 h-6 mr-3"}),"View Analytics"]})]})]})]})}),a.jsx(LU,{isOpen:g,onClose:()=>p(!1),projectName:e.name,onSuccess:()=>{setTimeout(()=>C(),1e3)}}),a.jsx(sC,{project:e,isOpen:j,onClose:()=>v(!1),onSuccess:Le}),a.jsx(nC,{project:e,isOpen:_,onClose:()=>T(!1),onSuccess:we})]})}const FU=()=>{const{projectId:e}=oO(),t=dm(),{data:s,isLoading:n,error:i}=kt("Project",e||"",{revalidateIfStale:!0,revalidateOnFocus:!0,revalidateOnReconnect:!0,shouldRetryOnError:!0}),l=()=>{t("/projects")};return e?n?a.jsx("div",{className:"flex justify-center items-center min-h-screen",children:a.jsx("div",{className:"text-gray-500",children:"Loading project details..."})}):i||!s?a.jsx("div",{className:"flex flex-col justify-center items-center min-h-screen p-8 bg-red-50 rounded-lg border border-red-200",children:a.jsxs("div",{className:"text-red-700 text-center",children:[a.jsx("p",{className:"text-lg font-medium mb-2",children:"Error loading project"}),a.jsx("p",{className:"text-sm mb-4",children:(i==null?void 0:i.message)||"Project not found"}),a.jsxs(Qe,{onClick:l,variant:"outline",children:[a.jsx(Jd,{className:"h-4 w-4 mr-2"}),"Back to Projects"]})]})}):a.jsx(BU,{project:s,onBack:l},e):a.jsx("div",{className:"flex flex-col justify-center items-center min-h-screen p-8 bg-yellow-50 rounded-lg border border-yellow-200",children:a.jsxs("div",{className:"text-yellow-700 text-center",children:[a.jsx("p",{className:"text-lg font-medium mb-2",children:"No project selected"}),a.jsxs(Qe,{onClick:l,variant:"outline",children:[a.jsx(Jd,{className:"h-4 w-4 mr-2"}),"Back to Projects"]})]})})},lC=({team:e})=>{var E,L;const{data:t,isLoading:s,error:n}=kt("Team",e),i=(t==null?void 0:t.team_member)||[],{currentUser:l}=Tn(),c=l==="Administrator",{data:u,isLoading:h,error:f}=mt("User",{fields:["name","full_name","user_image","first_name","last_name","email"],limit:0}),{simpleTeamData:g,isLoading:p}=jL(),b=!n||!((E=n.message)!=null&&E.includes("PermissionError")),{allTasks:y,allSubTasks:j,isLoading:v,error:_}=vL(),{todos:T,isLoading:O,error:S}=xL(),C=N.useMemo(()=>{const F=[];return y.forEach(R=>{const K=T==null?void 0:T.find(W=>W.reference_type==="Task"&&W.reference_name===R.name);F.push({id:R.name,title:R.subject||"Untitled Task",description:R.description||"No description available",project:R.project||"Unknown Project",assignee:(K==null?void 0:K.allocated_to)||R.completed_by||R.owner||"Unknown",status:R.status||"Open",priority:R.priority||"Medium",dueDate:R.exp_end_date||new Date().toISOString().split("T")[0],labels:[R.type||"Task"],todoId:(K==null?void 0:K.name)||"",referenceName:R.name,referenceType:"Task",type:"Task",taskProgress:R.progress,expectedTime:R.expected_time,actualTime:0,startDate:R.exp_start_date,endDate:R.exp_end_date})}),j.forEach(R=>{const K=T==null?void 0:T.find(W=>W.reference_type==="SubTask"&&W.reference_name===R.name);F.push({id:R.name,title:R.subject||"Untitled SubTask",description:R.description||"No description available",project:"Unknown Project",assignee:(K==null?void 0:K.allocated_to)||R.assigned_to||R.owner||"Unknown",status:R.status||"Open",priority:"Medium",dueDate:R.end_date||new Date().toISOString().split("T")[0],labels:["SubTask"],todoId:(K==null?void 0:K.name)||"",referenceName:R.name,referenceType:"SubTask",type:"SubTask",parentTask:R.task,startDate:R.start_date,endDate:R.end_date})}),F.sort((R,K)=>new Date(K.dueDate).getTime()-new Date(R.dueDate).getTime())},[y,j,T]);return{teamMembersData:N.useMemo(()=>{var F;if(c&&u)return u.map(R=>{const K=C.filter(Q=>Q.assignee===R.name),W=R.user_image||`https://placehold.co/40x40/e2e8f0/475569?text=${(R.first_name||R.full_name||"U").charAt(0).toUpperCase()}`;return{id:R.name||"",name:R.full_name||R.first_name||R.name||"Unknown User",role:R.name===l?"Leader":"Member",taskCount:K.length,avatar:W,tasks:K,user:R}});if(!i||(F=n==null?void 0:n.message)!=null&&F.includes("PermissionError")){if(g&&g.length>0)return g.map(R=>{const K=C.filter(W=>W.assignee===R.id);return{id:R.id,name:R.name,role:R.role,taskCount:K.length,avatar:R.avatar,tasks:K,user:u==null?void 0:u.find(W=>W.name===R.id)}});if(u&&u.length>0){const R=u[0],K=C.filter(W=>W.assignee===(R==null?void 0:R.name));return[{id:(R==null?void 0:R.name)||"unknown",name:(R==null?void 0:R.full_name)||(R==null?void 0:R.first_name)||"Current User",role:"Member",taskCount:K.length,avatar:(R==null?void 0:R.user_image)||`https://placehold.co/40x40/e2e8f0/475569?text=${((R==null?void 0:R.first_name)||"U").charAt(0).toUpperCase()}`,tasks:K,user:R}]}return[]}return u?i.map(R=>{const K=u.find(H=>H.name===R.user),W=C.filter(H=>H.assignee===R.user),Q=(K==null?void 0:K.user_image)||`https://placehold.co/40x40/e2e8f0/475569?text=${((K==null?void 0:K.first_name)||(K==null?void 0:K.full_name)||"U").charAt(0).toUpperCase()}`;return{id:R.user||"",name:(K==null?void 0:K.full_name)||(K==null?void 0:K.first_name)||R.user||"Unknown User",role:R.role||"Member",taskCount:W.length,avatar:Q,tasks:W,user:K}}):[]},[i,u,C,n,g,c,l]),allTransformedTasks:C,isLoading:s||h||v||p||O,error:n&&!((L=n.message)!=null&&L.includes("PermissionError"))?n:f||_||S,teamMembers:i,users:u,hasTeamMemberPermission:b}},zU=({task:e,isOpen:t,onClose:s,onSuccess:n,isLeader:i})=>{const l=(e==null?void 0:e.type)==="SubTask",{updateTask:c,isLoading:u,error:h}=cS(),{assignTask:f,unassignTask:g}=dS(),{updateTaskProgress:p}=gS(),{updateTaskProgressByStatus:b}=mS(),{updateSubTask:y,isLoading:j,error:v}=fS(),{assignSubTask:_,unassignSubTask:T}=my(),O=u||j,S=h||v,{data:C}=kt("Project",(e==null?void 0:e.project)||"",{enabled:!!(e!=null&&e.project)&&!l}),{data:D}=mt("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=",l?"SubTask":"Task"],["reference_name","=",(e==null?void 0:e.referenceName)||""]]}),{data:E}=mt("SubTask",{fields:["name"],filters:[["task","=",(e==null?void 0:e.referenceName)||""]],limit:1}),[L,F]=N.useState({subject:"",status:"Open",priority:"Medium",start_date:"",end_date:"",progress:0,description:"",assign_to:""}),[R,K]=N.useState(!1);N.useEffect(()=>{var q;if(e){const Y=((q=D==null?void 0:D[0])==null?void 0:q.allocated_to)||"";F({subject:e.title||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.startDate?e.startDate.split(" ")[0]:"",end_date:e.endDate?e.endDate.split(" ")[0]:"",progress:e.taskProgress||0,description:e.description||"",assign_to:Y})}},[e,D]),N.useEffect(()=>{l||K(!!(E&&E.length>0))},[E,l]);const W=(q,Y)=>{F($=>oe(z({},$),{[q]:Y}))},Q=q=>fe(null,null,function*(){var Y,J,se;if(q.preventDefault(),!!e){if(L.start_date&&L.end_date){const Ne=new Date(L.start_date);if(new Date(L.end_date)<Ne){cs.error("End date cannot be earlier than start date");return}}if(!l&&L.end_date&&(C!=null&&C.expected_end_date)){const Ne=new Date(L.end_date),P=new Date(C.expected_end_date);if(Ne>P){cs.error(`Task end date cannot be after project end date (${C.expected_end_date})`);return}}try{const Ne=((Y=D==null?void 0:D[0])==null?void 0:Y.allocated_to)||"",P=L.assign_to;if(l){const $=L,{assign_to:ne}=$,ge=$e($,["assign_to"]),G={subject:ge.subject,status:ge.status,start_date:ge.start_date,end_date:ge.end_date,description:ge.description};if(yield y(e.referenceName,G),Ne&&Ne!==P){const re=D==null?void 0:D.find(_e=>_e.allocated_to===Ne);re&&(yield T(re.name))}P&&P!==Ne&&(yield _(e.referenceName,P)),G.status,e.status,cs.success("SubTask updated successfully",{description:`SubTask "${L.subject}" has been updated.`})}else{const ne=L.progress!==(e.taskProgress||0),ge=L.status!==e.status,G={subject:L.subject,status:L.status,priority:L.priority,exp_start_date:L.start_date,exp_end_date:L.end_date,progress:L.progress,description:L.description};if(R&&ne?yield p(e.referenceName,L.progress):ge&&(L.status==="Completed"||L.status==="Cancelled")?yield b(e.referenceName,L.status):yield c(e.referenceName,G),Ne!==P){if(Ne&&(D!=null&&D[0]))try{yield g(D[0].name)}catch(re){console.error("Error deleting old ToDo:",re)}if(P)try{yield f(e.referenceName,L.subject,P,L.priority)}catch(re){console.error("Error creating new ToDo:",re)}}cs.success("Task updated successfully",{description:`Task "${L.subject}" has been updated.`})}n&&n(),s()}catch(Ne){console.error("Error updating task/subtask:",Ne);let P=`Failed to update ${l?"subtask":"task"}`;(J=Ne==null?void 0:Ne.message)!=null&&J.includes("modified")?P=`The ${l?"subtask":"task"} has been modified by someone else. Please close and reopen to get the latest version.`:(se=Ne==null?void 0:Ne.message)!=null&&se.includes("permission")?P=`You do not have permission to update this ${l?"subtask":"task"}.`:Ne!=null&&Ne.message&&(P=Ne.message),cs.error(`Failed to update ${l?"subtask":"task"}`,{description:P})}}}),H=()=>{var q;if(e){const Y=((q=D==null?void 0:D[0])==null?void 0:q.allocated_to)||"";F({subject:e.title||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.startDate?e.startDate.split(" ")[0]:"",end_date:e.endDate?e.endDate.split(" ")[0]:"",progress:e.taskProgress||0,description:e.description||"",assign_to:Y})}s()};return e?a.jsx(hn,{open:t,onOpenChange:s,children:a.jsxs(fn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[a.jsx(mn,{children:a.jsxs(gn,{children:["Edit ",l?"SubTask":"Task"]})}),a.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"subject",children:"Subject *"}),a.jsx(zt,{id:"subject",value:L.subject,onChange:q=>W("subject",q.target.value),required:!0,placeholder:`Enter ${l?"subtask":"task"} subject`})]}),a.jsxs("div",{className:`grid ${l?"grid-cols-1":"grid-cols-2"} gap-4`,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"status",children:"Status"}),a.jsxs("select",{id:"status",value:L.status,onChange:q=>W("status",q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"Open",children:"Open"}),a.jsx("option",{value:"Working",children:"Working"}),a.jsx("option",{value:"Pending Review",children:"Pending Review"}),!l&&a.jsx("option",{value:"Overdue",children:"Overdue"}),i&&a.jsx("option",{value:"Completed",children:"Completed"}),i&&a.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),!l&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"priority",children:"Priority"}),a.jsxs("select",{id:"priority",value:L.priority,onChange:q=>W("priority",q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Urgent",children:"Urgent"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"start_date",children:l?"Start Date":"Expected Start Date"}),a.jsx(zt,{id:"start_date",type:"date",value:L.start_date,onChange:q=>W("start_date",q.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"end_date",children:l?"End Date":"Expected End Date"}),a.jsx(zt,{id:"end_date",type:"date",value:L.end_date,onChange:q=>W("end_date",q.target.value),max:!l&&(C!=null&&C.expected_end_date)?C.expected_end_date:void 0}),!l&&(C==null?void 0:C.expected_end_date)&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Must be before project end date: ",C.expected_end_date]})]})]}),!l&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"progress",children:"Progress (%)"}),a.jsx(zt,{id:"progress",type:"number",min:"0",max:"100",value:L.progress,onChange:q=>W("progress",parseInt(q.target.value)||0),placeholder:"0",disabled:R}),R?a.jsxs("div",{className:"text-sm text-blue-600 bg-blue-50 p-2 rounded",children:[a.jsx("strong",{children:"🔄 Smart Progress Mode:"}),a.jsxs("ul",{className:"mt-1 ml-4 list-disc text-xs",children:[a.jsx("li",{children:"Progress is automatically calculated from subtasks"}),a.jsx("li",{children:"Only assignee can manually override progress"}),a.jsx("li",{children:"Project leaders can set progress via status changes"})]})]}):a.jsxs("div",{className:"text-sm text-green-600 bg-green-50 p-2 rounded",children:[a.jsx("strong",{children:"✏️ Manual Progress Mode:"}),a.jsx("span",{className:"text-xs",children:" Progress can be updated manually by anyone with edit permission"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"description",children:"Description"}),a.jsx("textarea",{id:"description",value:L.description,onChange:q=>W("description",q.target.value),placeholder:`Enter ${l?"subtask":"task"} description`,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),a.jsx("div",{className:"bg-gray-50 p-3 rounded-md",children:a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx("strong",{children:"Project:"})," ",e.project]})}),S&&a.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:a.jsxs("p",{children:[a.jsx("strong",{children:"Error:"})," ",S.message||`Failed to update ${l?"subtask":"task"}`]})}),a.jsxs(An,{className:"flex gap-2",children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:H,children:"Cancel"}),a.jsx(Qe,{type:"submit",disabled:O,children:O?"Updating...":`Update ${l?"SubTask":"Task"}`})]})]})]})}):null},UU=({role:e,currentView:t,setCurrentView:s})=>{const n=Tn().currentUser==="Administrator";return a.jsx("header",{className:"mb-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{children:a.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Trình Quản Lý Công Việc"})}),(e==="Leader"||n)&&a.jsxs("div",{className:"inline-flex bg-slate-200 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>s("user"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-all ${t==="user"?"bg-white text-slate-900 shadow-sm":"text-slate-600"}`,children:"User"}),e==="Leader"&&a.jsx("button",{onClick:()=>s("leader"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-all ${t==="leader"?"bg-white text-slate-900 shadow-sm":"text-slate-600"}`,children:"Leader"}),n&&a.jsx("button",{onClick:()=>s("admin"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-all ${t==="admin"?"bg-white text-slate-900 shadow-sm":"text-slate-600"}`,children:"Admin"})]})]})})},Ky=e=>{switch(e){case"Working":return"text-orange-800 bg-orange-100";case"Open":return"text-sky-800 bg-sky-100";case"Completed":return"text-emerald-800 bg-emerald-100";case"Cancelled":return"text-red-800 bg-red-100";default:return"text-slate-800 bg-slate-100"}},cC=e=>{switch(e){case"High":return"text-red-800 bg-red-100";case"Medium":return"text-amber-800 bg-amber-100";case"Low":return"text-green-800 bg-green-100";default:return"text-slate-800 bg-slate-100"}},Ld=({task:e,onClick:t,formatDate:s,barClass:n="bg-indigo-600",completed:i=!1})=>{var l,c;return a.jsxs("div",{className:`kanban-card bg-white p-4 rounded-lg shadow-sm border border-slate-200 cursor-pointer ${i?"opacity-70":""}`,onClick:t,children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("p",{className:`font-semibold text-slate-900 flex-1 ${i?"line-through":""}`,children:e.title}),a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ml-2 ${e.type==="Task"?"text-blue-800 bg-blue-100":"text-purple-800 bg-purple-100"}`,children:e.type})]}),a.jsx("p",{className:"text-xs text-slate-500 mb-3",children:e.project}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-xs text-slate-600",children:"Tiến độ"}),a.jsx("span",{className:"text-xs text-slate-600 font-medium",children:i?"100%":`${(l=e.taskProgress)!=null?l:0}%`})]}),a.jsx("div",{className:"bg-slate-200 rounded-full h-1.5",children:a.jsx("div",{className:`${i?"bg-emerald-500":n} h-1.5 rounded-full`,style:{width:i?"100%":`${(c=e.taskProgress)!=null?c:0}%`}})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:`priority-badge ${cC(e.priority)}`,children:e.priority}),a.jsx("span",{className:"text-xs text-slate-500",children:s(e.dueDate).formatted})]})]})},HU=["Open","Working","Overdue","Pending Review","Completed"],$U=["Low","Medium","High","Urgent"],VU=["Task","SubTask"],A2=e=>e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),IU=({isLoading:e,handleRefresh:t,activeTab:s,setActiveTab:n,transformedTasks:i,formatDate:l,handleTaskClick:c})=>{const[u,h]=N.useState(""),[f,g]=N.useState(""),[p,b]=N.useState(""),[y,j]=N.useState(""),[v,_]=N.useState(""),[T,O]=N.useState(!1),[S,C]=N.useState(""),[D,E]=N.useState(""),L=N.useMemo(()=>{const H=new Set;return i.forEach(q=>q.project&&H.add(q.project)),Array.from(H).sort((q,Y)=>q.localeCompare(Y))},[i]),F=N.useMemo(()=>{const H=A2(u.trim()),q=Y=>{if(!Y)return!0;const $=new Date(Y);if(Number.isNaN($.getTime()))return!0;if(S){const J=new Date(S);if($<new Date(J.getFullYear(),J.getMonth(),J.getDate()))return!1}if(D){const J=new Date(D),se=new Date(J.getFullYear(),J.getMonth(),J.getDate(),23,59,59,999);if($>se)return!1}return!0};return(i||[]).filter(Y=>!(H&&!A2(`${Y.title||""} ${Y.project||""} ${Y.status||""} ${Y.priority||""}`).includes(H)||f&&Y.status!==f||p&&Y.priority!==p||y&&Y.type!==y||v&&Y.project!==v||T&&Y.status!=="Overdue"&&!l(Y.dueDate).isOverdue||!q(Y.dueDate)))},[u,f,p,y,v,T,S,D,i,l]),R=()=>{h(""),g(""),b(""),j(""),_(""),O(!1),C(""),E("")},K=H=>F.filter(q=>q.status===H).length,[W,Q]=N.useState(!1);return a.jsx("div",{className:"space-y-8",children:a.jsxs("section",{children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Việc của tôi"}),a.jsxs("button",{onClick:t,disabled:e,className:"mt-4 sm:mt-0 flex items-center justify-center gap-2 bg-indigo-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-indigo-700 transition-all shadow-sm disabled:opacity-50",children:[e?a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:a.jsx("path",{fill:"currentColor",d:"M12 20q-3.35 0-5.675-2.325T4 12t2.325-5.675T12 4q1.725 0 3.3.712T18 6.75V4h2v7h-7V9h4.2q-.8-1.4-2.187-2.2T12 6Q9.5 6 7.75 7.75T6 12t1.75 4.25T12 18q1.925 0 3.475-1.1T17.65 14h2.1q-.7 2.65-2.85 4.325T12 20"})}),e?"Đang tải...":"Làm mới"]})]}),a.jsx("div",{className:"mt-4 border-b border-slate-200",children:a.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[a.jsx("button",{onClick:()=>n("list"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${s==="list"?"border-indigo-500 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Danh sách"}),a.jsx("button",{onClick:()=>n("kanban"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${s==="kanban"?"border-indigo-500 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Bảng Kanban"}),a.jsx("button",{onClick:()=>n("calendar"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${s==="calendar"?"border-indigo-500 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Lịch"})]})}),a.jsxs("div",{className:"mt-4 bg-white border border-slate-200 p-4 rounded-xl shadow-sm",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3",children:[a.jsxs("div",{className:"relative w-full md:max-w-sm",children:[a.jsx("label",{className:"sr-only",children:"Tìm kiếm"}),a.jsx(mc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx("input",{value:u,onChange:H=>h(H.target.value),placeholder:"Tìm theo tên, dự án, trạng thái...",className:"w-full rounded-lg border border-slate-300 pl-9 pr-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),a.jsxs("div",{className:"flex items-center gap-2 md:ml-auto",children:[a.jsxs("button",{onClick:()=>Q(H=>!H),className:"px-3 py-2 rounded-lg border border-slate-300 text-slate-700 hover:bg-slate-50 inline-flex items-center gap-2",children:[a.jsx(pu,{className:"h-4 w-4"}),"Bộ lọc"]}),a.jsx("button",{onClick:R,className:"px-3 py-2 rounded-lg border border-slate-300 text-slate-700 hover:bg-slate-50",children:"Xóa"})]})]}),W&&a.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-6 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Trạng thái"}),a.jsxs("select",{value:f,onChange:H=>g(H.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"",children:"Tất cả"}),HU.map(H=>a.jsx("option",{value:H,children:H},H))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Ưu tiên"}),a.jsxs("select",{value:p,onChange:H=>b(H.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"",children:"Tất cả"}),$U.map(H=>a.jsx("option",{value:H,children:H},H))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Loại"}),a.jsxs("select",{value:y,onChange:H=>j(H.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"",children:"Tất cả"}),VU.map(H=>a.jsx("option",{value:H,children:H},H))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Dự án"}),a.jsxs("select",{value:v,onChange:H=>_(H.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"",children:"Tất cả"}),L.map(H=>a.jsx("option",{value:H,children:H},H))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Hạn từ"}),a.jsx("input",{type:"date",value:S,onChange:H=>C(H.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Hạn đến"}),a.jsx("input",{type:"date",value:D,onChange:H=>E(H.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2"})]})]})]}),s==="list"&&a.jsx("div",{className:"mt-6 bg-white p-4 rounded-xl shadow-sm border border-slate-200",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"text-xs text-slate-500 uppercase bg-slate-100 rounded-t-lg",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3",children:"Tên công việc"}),a.jsx("th",{scope:"col",className:"px-6 py-3",children:"Loại"}),a.jsx("th",{scope:"col",className:"px-6 py-3",children:"Dự án"}),a.jsx("th",{scope:"col",className:"px-6 py-3",children:"Tiến độ"}),a.jsx("th",{scope:"col",className:"px-6 py-3",children:"Ngày hết hạn"}),a.jsx("th",{scope:"col",className:"px-6 py-3",children:"Ưu tiên"}),a.jsx("th",{scope:"col",className:"px-6 py-3",children:"Trạng thái"})]})}),a.jsx("tbody",{children:F.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-slate-500",children:e?"Đang tải...":"Không có công việc nào"})}):F.map(H=>a.jsxs("tr",{className:"bg-white border-b border-slate-200 hover:bg-slate-50 table-row transition-all cursor-pointer",onClick:()=>c(H),children:[a.jsxs("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-900 whitespace-nowrap",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[H.type==="SubTask"&&a.jsx("svg",{className:"w-4 h-4 text-slate-400",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M7.707 3.293a1 1 0 010 1.414L5.414 7H11a7 7 0 017 7v2a1 1 0 11-2 0v-2a5 5 0 00-5-5H5.414l2.293 2.293a1 1 0 11-1.414 1.414L2.586 7l3.707-3.707a1 1 0 011.414 0z",clipRule:"evenodd"})}),H.title]}),H.parentTask&&a.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["↳ Subtask của: ",H.parentTask]})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${H.type==="Task"?"text-blue-800 bg-blue-100":"text-purple-800 bg-purple-100"}`,children:H.type})}),a.jsx("td",{className:"px-6 py-4",children:H.project}),a.jsx("td",{className:"px-6 py-4",children:H.taskProgress!==void 0?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 bg-slate-200 rounded-full h-2",children:a.jsx("div",{className:"bg-indigo-600 h-2 rounded-full transition-all duration-300",style:{width:`${H.taskProgress}%`}})}),a.jsxs("span",{className:"text-xs text-slate-600 font-medium min-w-[3rem]",children:[H.taskProgress,"%"]})]}):a.jsx("span",{className:"text-xs text-slate-400",children:"N/A"})}),a.jsx("td",{className:`px-6 py-4 ${l(H.dueDate).isOverdue?"text-red-600 font-medium":""}`,children:l(H.dueDate).display}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`priority-badge ${cC(H.priority)}`,children:H.priority})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`status-badge ${Ky(H.status)}`,children:H.status})})]},H.id))})]})})}),s==="kanban"&&a.jsx("div",{className:"mt-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[a.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[a.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-sky-500"}),"Cần làm (",K("Open"),")"]}),a.jsx("div",{className:"space-y-4",children:F.filter(H=>H.status==="Open").map(H=>a.jsx(Ld,{task:H,onClick:()=>c(H),formatDate:l},H.id))})]}),a.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[a.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-orange-500"}),"Đang làm (",K("Working"),")"]}),a.jsx("div",{className:"space-y-4",children:F.filter(H=>H.status==="Working").map(H=>a.jsx(Ld,{task:H,onClick:()=>c(H),formatDate:l,barClass:"bg-orange-500"},H.id))})]}),a.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[a.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"}),"Trễ (",K("Overdue"),")"]}),a.jsx("div",{className:"space-y-4",children:F.filter(H=>H.status==="Overdue").map(H=>a.jsx(Ld,{task:H,onClick:()=>c(H),formatDate:l,barClass:"bg-orange-500"},H.id))})]}),a.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[a.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"}),"Review (",K("Pending Review"),")"]}),a.jsx("div",{className:"space-y-4",children:F.filter(H=>H.status==="Pending Review").map(H=>a.jsx(Ld,{task:H,onClick:()=>c(H),formatDate:l,barClass:"bg-orange-500"},H.id))})]}),a.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[a.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500"}),"Hoàn thành (",K("Completed"),")"]}),a.jsx("div",{className:"space-y-4",children:F.filter(H=>H.status==="Completed").map(H=>a.jsx(Ld,{task:H,onClick:()=>c(H),formatDate:l,completed:!0},H.id))})]})]})}),s==="calendar"&&a.jsx("div",{className:"mt-6 bg-white p-8 rounded-xl shadow-sm border border-slate-200",children:a.jsx("div",{className:"text-center text-slate-500",children:a.jsx("p",{children:"Giao diện lịch sẽ được phát triển trong tương lai"})})})]})})},qU=({teamDataError:e,teamMembersData:t,selectedMember:s,setSelectedMember:n,formatDate:i,handleTaskClick:l})=>{var H;const c=wL(),[u,h]=N.useState(""),[f,g]=N.useState(1),[p]=N.useState(5),[b,y]=N.useState(""),[j,v]=N.useState(""),[_,T]=N.useState(""),[O,S]=N.useState(1),[C]=N.useState(10),D=N.useMemo(()=>t.filter(q=>q.name.toLowerCase().includes(u.toLowerCase())||q.id.toLowerCase().includes(u.toLowerCase())),[t,u]),E=N.useMemo(()=>{const q=(f-1)*p;return D.slice(q,q+p)},[D,f,p]),L=Math.ceil(D.length/p),F=N.useMemo(()=>{if(!s)return[];const q=t.find(Y=>Y.id===s);return q?q.tasks.filter(Y=>{const $=Y.title.toLowerCase().includes(b.toLowerCase())||Y.description.toLowerCase().includes(b.toLowerCase())||Y.project.toLowerCase().includes(b.toLowerCase()),J=j===""||Y.status===j,se=_===""||Y.type===_;return $&&J&&se}):[]},[s,t,b,j,_]),R=N.useMemo(()=>{const q=(O-1)*C;return F.slice(q,q+C)},[F,O,C]),K=Math.ceil(F.length/C);ye.useEffect(()=>{S(1)},[b,j,_,s]),ye.useEffect(()=>{g(1)},[u]);const W=q=>{g(Math.max(1,Math.min(q,L)))},Q=q=>{S(Math.max(1,Math.min(q,K)))};return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Dashboard Tổng Quan"}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[a.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Tổng công việc"}),a.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-1",children:c.total})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[a.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Đang thực hiện"}),a.jsx("p",{className:"text-3xl font-bold text-orange-500 mt-1",children:c.working})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[a.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Hoàn thành"}),a.jsx("p",{className:"text-3xl font-bold text-emerald-500 mt-1",children:c.completed})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[a.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Trễ hạn"}),a.jsx("p",{className:"text-3xl font-bold text-red-500 mt-1",children:c.overdue})]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Quản lý Nhóm"}),((H=e==null?void 0:e.message)==null?void 0:H.includes("PermissionError"))&&a.jsx("div",{className:"mt-4 bg-amber-50 border border-amber-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-amber-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-amber-800",children:"Quyền truy cập hạn chế"}),a.jsx("div",{className:"mt-2 text-sm text-amber-700",children:a.jsx("p",{children:"Không thể truy cập đầy đủ dữ liệu team members. Hiển thị dữ liệu cơ bản từ danh sách users."})})]})]})}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-4 gap-5 items-start",children:[a.jsxs("div",{className:"lg:col-span-1 bg-white p-4 rounded-xl shadow-sm border border-slate-200",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("h3",{className:"font-bold text-slate-800",children:["Thành viên nhóm (",D.length,")"]})}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"relative",children:[a.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),a.jsx("input",{type:"text",placeholder:"Tìm kiếm thành viên...",value:u,onChange:q=>h(q.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"})]})}),a.jsx("ul",{className:"space-y-2 mb-4",children:E.map(q=>a.jsx("li",{onClick:()=>n(q.id),className:`member-item p-3 border rounded-lg hover:bg-slate-100 cursor-pointer transition-all ${s===q.id?"active border-indigo-500 bg-indigo-50":"border-transparent"}`,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:q.avatar,alt:q.name}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-semibold text-slate-900 truncate",children:q.name}),a.jsxs("p",{className:"text-sm text-slate-500",children:[q.taskCount," công việc"]}),a.jsx("p",{className:"text-xs text-slate-400",children:q.role})]})]})},q.id))}),L>1&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("button",{onClick:()=>W(f-1),disabled:f===1,className:"px-3 py-1 text-sm bg-slate-100 text-slate-700 rounded hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trước"}),a.jsxs("span",{className:"text-xs text-slate-500",children:["Trang ",f," / ",L]}),a.jsx("button",{onClick:()=>W(f+1),disabled:f===L,className:"px-3 py-1 text-sm bg-slate-100 text-slate-700 rounded hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})]}),a.jsx("div",{className:"lg:col-span-3 bg-white p-4 rounded-xl shadow-sm border border-slate-200 min-h-[300px]",children:s?(()=>{const q=t.find(Y=>Y.id===s);return q?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"font-bold text-slate-800",children:["Công việc của ",q.name]}),a.jsxs("span",{className:"text-sm text-slate-500",children:["(",F.length," công việc)"]})]}),a.jsxs("div",{className:"mb-6 space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),a.jsx("input",{type:"text",placeholder:"Tìm kiếm công việc...",value:b,onChange:Y=>y(Y.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("select",{value:j,onChange:Y=>v(Y.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm",children:[a.jsx("option",{value:"",children:"Tất cả trạng thái"}),a.jsx("option",{value:"Open",children:"Mở"}),a.jsx("option",{value:"Working",children:"Đang làm"}),a.jsx("option",{value:"Pending Review",children:"Chờ duyệt"}),a.jsx("option",{value:"Completed",children:"Hoàn thành"}),a.jsx("option",{value:"Cancelled",children:"Đã hủy"})]}),a.jsxs("select",{value:_,onChange:Y=>T(Y.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm",children:[a.jsx("option",{value:"",children:"Tất cả loại"}),a.jsx("option",{value:"Task",children:"Task"}),a.jsx("option",{value:"SubTask",children:"SubTask"})]}),(b||j||_)&&a.jsx("button",{onClick:()=>{y(""),v(""),T("")},className:"px-3 py-2 text-sm text-slate-600 hover:text-slate-800 underline",children:"Xóa bộ lọc"})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"text-xs text-slate-500 uppercase bg-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2",children:"Tên công việc"}),a.jsx("th",{className:"px-4 py-2",children:"Loại"}),a.jsx("th",{className:"px-4 py-2",children:"Dự án"}),a.jsx("th",{className:"px-4 py-2",children:"Tiến độ"}),a.jsx("th",{className:"px-4 py-2",children:"Hạn chót"}),a.jsx("th",{className:"px-4 py-2",children:"Trạng thái"})]})}),a.jsx("tbody",{children:R.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"text-center py-8 text-slate-500",children:F.length===0&&q.tasks.length>0?"Không tìm thấy công việc phù hợp với bộ lọc.":"Thành viên này chưa có công việc nào."})}):R.map(Y=>a.jsxs("tr",{className:"border-b border-slate-200 cursor-pointer hover:bg-slate-50",onClick:()=>l(Y),children:[a.jsxs("td",{className:"px-4 py-3 font-medium text-slate-900",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[Y.type==="SubTask"&&a.jsx("svg",{className:"w-3 h-3 text-slate-400",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M7.707 3.293a1 1 0 010 1.414L5.414 7H11a7 7 0 017 7v2a1 1 0 11-2 0v-2a5 5 0 00-5-5H5.414l2.293 2.293a1 1 0 11-1.414 1.414L2.586 7l3.707-3.707a1 1 0 011.414 0z",clipRule:"evenodd"})}),a.jsx("span",{className:"truncate",children:Y.title})]}),Y.parentTask&&a.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["↳ Subtask của: ",Y.parentTask]})]}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Y.type==="Task"?"text-blue-800 bg-blue-100":"text-purple-800 bg-purple-100"}`,children:Y.type})}),a.jsx("td",{className:"px-4 py-3 truncate",children:Y.project}),a.jsx("td",{className:"px-4 py-3",children:Y.taskProgress!==void 0?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 bg-slate-200 rounded-full h-1.5 min-w-[60px]",children:a.jsx("div",{className:"bg-indigo-600 h-1.5 rounded-full transition-all duration-300",style:{width:`${Y.taskProgress}%`}})}),a.jsxs("span",{className:"text-xs text-slate-600 font-medium min-w-[2.5rem]",children:[Y.taskProgress,"%"]})]}):a.jsx("span",{className:"text-xs text-slate-400",children:"N/A"})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:i(Y.dueDate).display}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:`status-badge ${Ky(Y.status)}`,children:Y.status})})]},Y.id))})]})}),K>1&&a.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-slate-500",children:["Hiển thị ",(O-1)*C+1," - ",Math.min(O*C,F.length)," trong số ",F.length," công việc"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>Q(O-1),disabled:O===1,className:"px-3 py-1 text-sm bg-slate-100 text-slate-700 rounded hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trước"}),a.jsxs("span",{className:"text-sm text-slate-600",children:[O," / ",K]}),a.jsx("button",{onClick:()=>Q(O+1),disabled:O===K,className:"px-3 py-1 text-sm bg-slate-100 text-slate-700 rounded hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})]})]}):a.jsx("div",{className:"flex items-center justify-center h-full text-slate-500",children:a.jsx("p",{children:"Không tìm thấy thành viên."})})})():a.jsx("div",{className:"flex items-center justify-center h-full text-slate-500",children:a.jsxs("div",{className:"text-center",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-slate-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),a.jsx("p",{children:"Chọn một thành viên để xem công việc của họ."})]})})})]})]})]})},WU=({teamDataError:e,teamMembersData:t,selectedMember:s,setSelectedMember:n,formatDate:i,handleTaskClick:l})=>{var Nt;const{allTransformedTasks:c,isLoading:u}=lC({team:""}),{data:h}=mt("Team",{fields:["name"],limit:0}),f=(h==null?void 0:h.map(ke=>ke.name).filter(Boolean))||[],{data:g}=mt("Project",{fields:["name","project_name","team"],limit:0}),p=N.useMemo(()=>g?g.map(ze=>ze.team).filter(Boolean).filter((ze,Ze,Xe)=>Xe.indexOf(ze)===Ze):[],[g]),b=kt("Team",f[0],f[0]?void 0:{disabled:!0}),y=kt("Team",f[1],f[1]?void 0:{disabled:!0}),j=kt("Team",f[2],f[2]?void 0:{disabled:!0}),v=kt("Team",f[3],f[3]?void 0:{disabled:!0}),_=kt("Team",f[4],f[4]?void 0:{disabled:!0}),T=kt("Team",f[5],f[5]?void 0:{disabled:!0}),O=kt("Team",f[6],f[6]?void 0:{disabled:!0}),S=kt("Team",f[7],f[7]?void 0:{disabled:!0}),C=kt("Team",f[8],f[8]?void 0:{disabled:!0}),D=kt("Team",f[9],f[9]?void 0:{disabled:!0}),E=kt("Team",f[10],f[10]?void 0:{disabled:!0}),L=kt("Team",f[11],f[11]?void 0:{disabled:!0}),F=kt("Team",f[12],f[12]?void 0:{disabled:!0}),R=kt("Team",f[13],f[13]?void 0:{disabled:!0}),K=kt("Team",f[14],f[14]?void 0:{disabled:!0}),W=kt("Team",f[15],f[15]?void 0:{disabled:!0}),Q=kt("Team",f[16],f[16]?void 0:{disabled:!0}),H=kt("Team",f[17],f[17]?void 0:{disabled:!0}),q=kt("Team",f[18],f[18]?void 0:{disabled:!0}),Y=kt("Team",f[19],f[19]?void 0:{disabled:!0}),$=N.useMemo(()=>{const ke=[];return b.data&&ke.push(b.data),y.data&&ke.push(y.data),j.data&&ke.push(j.data),v.data&&ke.push(v.data),_.data&&ke.push(_.data),T.data&&ke.push(T.data),O.data&&ke.push(O.data),S.data&&ke.push(S.data),C.data&&ke.push(C.data),D.data&&ke.push(D.data),E.data&&ke.push(E.data),L.data&&ke.push(L.data),F.data&&ke.push(F.data),R.data&&ke.push(R.data),K.data&&ke.push(K.data),W.data&&ke.push(W.data),Q.data&&ke.push(Q.data),H.data&&ke.push(H.data),q.data&&ke.push(q.data),Y.data&&ke.push(Y.data),ke},[b.data,y.data,j.data,v.data,_.data,T.data,O.data,S.data,C.data,D.data,E.data,L.data,F.data,R.data,K.data,W.data,Q.data,H.data,q.data,Y.data]),J=N.useMemo(()=>{const ke={},ze=[];return $==null||$.forEach(Ze=>{var Xe;if(ke[Ze.team||Ze.name]=[],Ze.teamlead){const Bt=t.find(It=>It.id===Ze.teamlead);Bt&&!ke[Ze.team||Ze.name].find(It=>It.id===Bt.id)&&ke[Ze.team||Ze.name].push(oe(z({},Bt),{role:"Leader"}))}(Xe=Ze.team_member)==null||Xe.forEach(Bt=>{const It=t.find(ds=>ds.id===Bt.user);It&&!ke[Ze.team||Ze.name].find(ds=>ds.id===It.id)&&ke[Ze.team||Ze.name].push(oe(z({},It),{role:Bt.role||"Member"}))})}),t.forEach(Ze=>{Object.values(ke).some(Bt=>Bt.find(It=>It.id===Ze.id))||ze.push(Ze)}),ze.length>0&&(ke["Không thuộc team nào"]=ze),ke},[$,t]),[se,Ne]=N.useState(""),[P,ne]=N.useState(null),[ge,G]=N.useState(null),[re,_e]=N.useState({}),me=ke=>{_e(ze=>oe(z({},ze),{[ke]:!ze[ke]}))},Le=()=>{const ke=Object.values(re).every(Boolean),ze={};Object.keys(J).forEach(Ze=>{ze[Ze]=!ke}),_e(ze)},we=ke=>{n(ke),ne(null),G(null)},[Ee,X]=N.useState(""),[Oe,He]=N.useState(""),[Ye,tt]=N.useState(""),[gt,Dt]=N.useState(1),[De]=N.useState(10),Ue=N.useMemo(()=>{const ke={};return Object.entries(J).forEach(([ze,Ze])=>{const Xe=Ze.filter(Bt=>Bt.name.toLowerCase().includes(se.toLowerCase())||Bt.id.toLowerCase().includes(se.toLowerCase()));Xe.length>0&&(ke[ze]=Xe)}),ke},[J,se]),Pe=N.useMemo(()=>s?c.filter(ke=>ke.assignee===s):[],[s,c]),Z=N.useMemo(()=>{if(!P||s)return[];const ze=(J[P]||[]).map(Ze=>Ze.id);return c.filter(Ze=>ze.includes(Ze.assignee))},[P,s,c,J]),le=N.useMemo(()=>!ge||s||P?[]:c.filter(ke=>{const ze=g==null?void 0:g.find(Ze=>Ze.name===ke.project||Ze.project_name===ke.project);return ze&&ze.team===ge}),[ge,s,P,c,g]),V=N.useMemo(()=>{let ke=c;s?ke=Pe:P?ke=Z:ge&&(ke=le);const ze=ke.length,Ze=ke.filter(It=>{var ds;return((ds=It.status)==null?void 0:ds.toLowerCase())==="working"}).length,Xe=ke.filter(It=>{var ds;return((ds=It.status)==null?void 0:ds.toLowerCase())==="completed"}).length,Bt=ke.filter(It=>{var xn;if(((xn=It.status)==null?void 0:xn.toLowerCase())==="completed")return!1;const ds=new Date;return new Date(It.dueDate)<ds}).length;return{total:ze,working:Ze,completed:Xe,overdue:Bt}},[s,Pe,P,Z,ge,le,c]),Te=N.useMemo(()=>{let ke=Pe;return Ee&&(ke=ke.filter(ze=>{var Ze,Xe,Bt;return((Ze=ze.title)==null?void 0:Ze.toLowerCase().includes(Ee.toLowerCase()))||((Xe=ze.subject)==null?void 0:Xe.toLowerCase().includes(Ee.toLowerCase()))||((Bt=ze.description)==null?void 0:Bt.toLowerCase().includes(Ee.toLowerCase()))})),Oe&&(ke=ke.filter(ze=>ze.status===Oe)),Ye&&(ke=ke.filter(ze=>ze.type===Ye||ze.referenceType===Ye)),ke},[Pe,Ee,Oe,Ye]),Be=N.useMemo(()=>{const ke=(gt-1)*De;return Te.slice(ke,ke+De)},[Te,gt,De]),Re=Math.ceil(Te.length/De),Ve=ke=>{Dt(Math.max(1,Math.min(ke,Re)))};ye.useEffect(()=>{Dt(1)},[s]),ye.useEffect(()=>{s&&(ne(null),G(null))},[s]),ye.useEffect(()=>{ge&&(n(null),ne(null))},[ge]),ye.useEffect(()=>{if(Object.keys(J).length>0&&Object.keys(re).length===0){const ke={};Object.keys(J).forEach(ze=>{ke[ze]=!0}),_e(ke)}},[J,re]);const Ge=N.useMemo(()=>[...new Set(Pe.map(ke=>ke.status).filter(Boolean))],[Pe]),st=N.useMemo(()=>[...new Set(Pe.map(ke=>ke.type||ke.referenceType).filter(Boolean))],[Pe]);return e?a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),"Lỗi khi tải dữ liệu nhóm: ",e.message]})}):a.jsxs("div",{className:"admin-view",children:[a.jsxs("section",{className:"mb-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:s?`Thống kê công việc - ${((Nt=t.find(ke=>ke.id===s))==null?void 0:Nt.name)||s}`:P?`Thống kê công việc - Team ${P}`:ge?`Thống kê công việc - Project Team ${ge}`:"Dashboard Tổng Quan - Toàn hệ thống"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Lọc theo Project Team:"}),a.jsxs("select",{value:ge||"",onChange:ke=>{const ze=ke.target.value||null;G(ze),ze&&(n(null),ne(null))},className:"px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm min-w-[200px]",children:[a.jsx("option",{value:"",children:"Tất cả Project Teams"}),p.map(ke=>a.jsx("option",{value:ke,children:ke},ke))]}),ge&&a.jsx("button",{onClick:()=>G(null),className:"px-2 py-1 text-xs bg-slate-100 text-slate-600 rounded hover:bg-slate-200 transition-colors",title:"Xóa bộ lọc",children:"✕"})]})]}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[a.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Tổng công việc"}),a.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-1",children:V.total})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[a.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Đang thực hiện"}),a.jsx("p",{className:"text-3xl font-bold text-orange-500 mt-1",children:V.working})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[a.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Hoàn thành"}),a.jsx("p",{className:"text-3xl font-bold text-emerald-500 mt-1",children:V.completed})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[a.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Trễ hạn"}),a.jsx("p",{className:"text-3xl font-bold text-red-500 mt-1",children:V.overdue})]})]})]}),a.jsx("section",{children:a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200",children:[a.jsx("div",{className:"p-6 border-b border-slate-200",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"📋 Quản lý toàn bộ công việc (Admin)"}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Xem và quản lý công việc của tất cả thành viên trong hệ thống"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("span",{className:"text-slate-500",children:"Tổng số thành viên:"}),a.jsx("span",{className:"font-semibold text-slate-700",children:t.length})]})]})}),a.jsxs("div",{className:"flex flex-col lg:flex-row h-[600px]",children:[a.jsxs("div",{className:"lg:w-1/3 border-r border-slate-200 p-4",children:[a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"flex gap-2 mb-3",children:[a.jsx("input",{type:"text",placeholder:"🔍 Tìm kiếm thành viên...",value:se,onChange:ke=>{Ne(ke.target.value)},className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),a.jsx("button",{onClick:Le,className:"px-3 py-2 text-xs bg-slate-100 text-slate-700 border border-slate-300 rounded-lg hover:bg-slate-200 transition-colors whitespace-nowrap",children:Object.values(re).every(Boolean)?"📁 Thu gọn":"📂 Mở rộng"})]})}),a.jsx("div",{className:"space-y-4 mb-4 h-[400px] overflow-y-auto",children:u?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):Object.keys(Ue).length===0?a.jsxs("div",{className:"text-center py-8 text-slate-500",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-slate-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),a.jsx("p",{children:"Không tìm thấy thành viên nào."})]}):Object.entries(Ue).map(([ke,ze])=>a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:`flex items-center mb-2 px-2 py-2 rounded-lg cursor-pointer transition-colors ${P===ke&&!s?"bg-blue-100 border border-blue-300 hover:bg-blue-200":"bg-slate-100 hover:bg-slate-200"}`,onClick:()=>me(ke),children:a.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[a.jsx("svg",{className:`w-4 h-4 text-slate-600 transition-transform ${re[ke]?"rotate-90":"rotate-0"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-sm font-semibold text-slate-700 uppercase tracking-wide",children:ke}),a.jsxs("p",{className:"text-xs text-slate-500",children:[ze.length," thành viên"]})]}),a.jsx("button",{onClick:Ze=>{Ze.stopPropagation(),ne(ke),n(null)},className:`p-1.5 rounded-md transition-colors hover:bg-blue-200 ${P===ke&&!s?"bg-blue-200 text-blue-700":"text-slate-500 hover:text-blue-600"}`,title:"Xem thống kê team",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})}),re[ke]&&a.jsx("div",{className:"space-y-2 ml-6 animate-in slide-in-from-top-2 duration-200",children:ze.map(Ze=>a.jsx("div",{onClick:()=>we(Ze.id),className:`p-3 rounded-lg border cursor-pointer transition-all ${s===Ze.id?"border-blue-500 bg-blue-50 shadow-sm":"border-slate-200 hover:border-slate-300 hover:bg-slate-50"}`,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm font-medium",children:Ze.name.charAt(0).toUpperCase()}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h4",{className:"font-medium text-slate-800 truncate text-sm",children:Ze.name}),Ze.role==="Leader"&&a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Leader"})]}),a.jsx("p",{className:"text-xs text-slate-500 truncate",children:Ze.id})]}),s===Ze.id&&a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})},Ze.id))})]},ke))})]}),a.jsx("div",{className:"lg:w-2/3 p-4 flex flex-col",children:s?(()=>{const ke=t.find(ze=>ze.id===s);return a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-medium",children:ke==null?void 0:ke.name.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-800",children:ke==null?void 0:ke.name}),a.jsxs("p",{className:"text-sm text-slate-500",children:["Công việc được giao: ",Pe.length]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:[a.jsx("input",{type:"text",placeholder:"🔍 Tìm kiếm công việc...",value:Ee,onChange:ze=>{X(ze.target.value),Dt(1)},className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),a.jsxs("select",{value:Oe,onChange:ze=>{He(ze.target.value),Dt(1)},className:"px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[a.jsx("option",{value:"",children:"Tất cả trạng thái"}),Ge.map(ze=>a.jsx("option",{value:ze,children:ze},ze))]}),a.jsxs("select",{value:Ye,onChange:ze=>{tt(ze.target.value),Dt(1)},className:"px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[a.jsx("option",{value:"",children:"Tất cả loại"}),st.map(ze=>a.jsx("option",{value:ze,children:ze},ze))]})]})]}),a.jsx("div",{className:"flex-1 overflow-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 sticky top-0",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Công việc"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Dự án"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Loại"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Hạn chót"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Trạng thái"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:u?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-4 py-8 text-center",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-2 text-slate-500",children:"Đang tải..."})]})})}):Be.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-slate-500",children:Te.length===0&&Pe.length===0?"Thành viên này chưa có công việc nào.":"Không tìm thấy công việc phù hợp với bộ lọc."})}):Be.map(ze=>a.jsxs("tr",{onClick:()=>l(ze),className:"hover:bg-slate-50 cursor-pointer transition-colors",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"max-w-xs",children:[a.jsx("div",{className:"font-medium text-slate-900 truncate text-sm",children:ze.title||ze.subject}),ze.description&&a.jsx("div",{className:"text-slate-500 text-xs truncate mt-1",children:ze.description})]})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:"text-sm text-slate-600 truncate block max-w-[100px]",children:ze.project||ze.project_name||"N/A"})}),a.jsx("td",{className:"px-4 py-3",children:ze.type==="SubTask"||ze.referenceType==="SubTask"?a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"SubTask"}):a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Task"})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:i(ze.dueDate).display}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:`status-badge ${Ky(ze.status)}`,children:ze.status})})]},ze.id))})]})}),Re>1&&a.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-slate-500",children:["Hiển thị ",(gt-1)*De+1," - ",Math.min(gt*De,Te.length)," trong số ",Te.length," công việc"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>Ve(gt-1),disabled:gt===1,className:"px-3 py-1 text-sm bg-slate-100 text-slate-700 rounded hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trước"}),a.jsxs("span",{className:"text-sm text-slate-600",children:[gt," / ",Re]}),a.jsx("button",{onClick:()=>Ve(gt+1),disabled:gt===Re,className:"px-3 py-1 text-sm bg-slate-100 text-slate-700 rounded hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})]})]})})():a.jsx("div",{className:"flex items-center justify-center h-full text-slate-500",children:a.jsxs("div",{className:"text-center",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-slate-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),a.jsx("p",{children:"Chọn một thành viên để xem công việc của họ."})]})})})]})]})})]})},YU=({error:e})=>a.jsx(a.Fragment,{children:e&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:a.jsx("div",{className:"flex",children:a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading tasks"}),a.jsx("div",{className:"mt-2 text-sm text-red-700",children:a.jsx("p",{children:e.message||"Failed to load your tasks. Please try again."})})]})})})}),GU=()=>{const[e,t]=ye.useState("user"),[s,n]=ye.useState("list"),[i,l]=ye.useState(null),c=Tn().currentUser==="Administrator",[u,h]=ye.useState(!1),[f,g]=ye.useState(null),{tasks:p,subTasks:b,isLoading:y,error:j,mutate:v,currentUser:_}=bL(),{data:T}=mt("Team",{filters:[["teamlead","=",_||""]]}),O=T&&T.length>0?"Leader":"Member";ye.useEffect(()=>{c?t("admin"):O==="Leader"&&t("leader")},[O,c]);const S=ye.useMemo(()=>{const H=[];return p.forEach(q=>{var Y;H.push({id:q.name,title:q.subject||"Untitled Task",description:q.description||"No description available",project:q.project_name||q.project||"Unknown Project",assignee:_||"Unknown",status:q.status||"Open",priority:q.priority||"Medium",dueDate:q.exp_end_date||new Date().toISOString().split("T")[0],labels:[q.type||"Task"],todoId:((Y=q.assignedTodo)==null?void 0:Y.name)||"",referenceName:q.name,referenceType:"Task",type:"Task",taskProgress:q.progress,expectedTime:q.expected_time,actualTime:q.actual_time,startDate:q.exp_start_date,endDate:q.exp_end_date})}),b.forEach(q=>{var Y;H.push({id:q.name,title:q.subject||"Untitled SubTask",description:q.description||"No description available",project:q.project_name||"Unknown Project",assignee:_||"Unknown",status:q.status||"Open",priority:"Medium",dueDate:q.end_date||new Date().toISOString().split("T")[0],labels:["SubTask"],todoId:((Y=q.assignedTodo)==null?void 0:Y.name)||"",referenceName:q.name,referenceType:"SubTask",type:"SubTask",parentTask:q.task_subject,startDate:q.start_date,endDate:q.end_date})}),H.sort((q,Y)=>new Date(Y.dueDate).getTime()-new Date(q.dueDate).getTime())},[p,b,_]),{teamMembersData:C,error:D}=lC({team:T&&T.length>0?T[0].name:""}),{data:E}=mt("User",{fields:["name","full_name","first_name","last_name"],filters:[["enabled","=",1]],limit:0}),L=ye.useMemo(()=>!c||!E?C:E.map(H=>({id:H.name,name:H.full_name||H.first_name||H.name,role:"Member",taskCount:0,avatar:"",tasks:[],user:H})),[c,E,C]),F=H=>{const q=new Date(H),$=q<new Date,J=q.toLocaleDateString("vi-VN");return{formatted:J,isOverdue:$,display:$?`${J} (Trễ)`:J}},R=()=>{v()},K=H=>{g(H),h(!0)},W=()=>{h(!1),g(null)},Q=()=>{v()};return a.jsxs("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-slate-50 text-slate-800",children:[a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx(UU,{role:O,currentView:e,setCurrentView:t}),a.jsx(YU,{error:j}),a.jsxs("main",{children:[e==="user"&&a.jsx(IU,{isLoading:y,handleRefresh:R,activeTab:s,setActiveTab:n,transformedTasks:S,formatDate:F,handleTaskClick:K}),e==="leader"&&O==="Leader"&&a.jsx(qU,{teamDataError:D,teamMembersData:C,selectedMember:i,setSelectedMember:l,formatDate:F,handleTaskClick:K}),e==="admin"&&c&&a.jsx(WU,{teamDataError:D,teamMembersData:L,selectedMember:i,setSelectedMember:l,formatDate:F,handleTaskClick:K})]})]}),a.jsx(zU,{task:f,isOpen:u,onClose:W,onSuccess:Q,isLeader:O==="Leader"})]})},XU=[{id:"CT-RD-F001",name:"Biểu mẫu Nộp ý tưởng",fileName:"01_Biểu mẫu Nộp ý tưởng -CT-RD-F001.docx",category:"GIAI ĐOẠN 1: HÌNH THÀNH Ý TƯỞNG VÀ PHÁT TRIỂN KHÁI NIỆM",status:"approved",fileType:"docx",size:"245 KB",uploadDate:"2024-03-15",uploader:"Nguyễn Văn A",link:"https://ctgroupvietnam.sharepoint.com/:w:/r/sites/CTTV-CTUAV-CTUAV-UAVLAB/_layouts/15/Doc.aspx?sourcedoc=%7B586A401B-5252-4DC9-8909-D9100B60791C%7D&file=01_Bi%E1%BB%83u%20m%E1%BA%ABu%20N%E1%BB%99p%20%C3%BD%20t%C6%B0%E1%BB%9Fng.docx&action=default&mobileredirect=true",hasFile:!0},{id:"CT-RD-F002",name:"Biểu mẫu Ma trận đánh giá ý tưởng",fileName:"02_Biểu mẫu Ma trận đánh giá ý tưởng -CT-RD-F002.docx",category:"GIAI ĐOẠN 1: HÌNH THÀNH Ý TƯỞNG VÀ PHÁT TRIỂN KHÁI NIỆM",status:"pending",fileType:"docx",size:"189 KB",uploadDate:"2024-03-16",uploader:"Trần Thị B",link:"https://ctgroupvietnam.sharepoint.com/:w:/r/sites/CTTV-CTUAV-CTUAV-UAVLAB/_layouts/15/Doc.aspx?sourcedoc=%7B875BEDBE-0BF8-4499-9C84-404FEFAA1FE0%7D&file=02_Bi%E1%BB%83u%20m%E1%BA%ABu%20Ma%20tr%E1%BA%ADn%20%C4%91%C3%A1nh%20gi%C3%A1%20%C3%BD%20t%C6%B0%E1%BB%9Fng%20-CT-RD-F002.docx&action=default&mobileredirect=true",hasFile:!0},{id:"CT-RD-F003",name:"Biểu mẫu Đề xuất khái niệm",fileName:"03_Biểu mẫu Đề xuất khái niệm -CT-RD-F003.docx",category:"GIAI ĐOẠN 1: HÌNH THÀNH Ý TƯỞNG VÀ PHÁT TRIỂN KHÁI NIỆM",status:"draft",fileType:"docx",size:"298 KB",uploadDate:"2024-03-17",uploader:"Lê Văn C",link:"https://ctgroupvietnam.sharepoint.com/:w:/r/sites/CTTV-CTUAV-CTUAV-UAVLAB/_layouts/15/Doc.aspx?sourcedoc=%7B70EB7086-DACE-4788-9444-5DF02348BCE5%7D&file=03_Bi%E1%BB%83u%20m%E1%BA%ABu%20%C4%90%E1%BB%81%20xu%E1%BA%A5t%20kh%C3%A1i%20ni%E1%BB%87m%20-CT-RD-F003.docx&action=default&mobileredirect=true",hasFile:!0},{id:"CT-RD-F004",name:"Biểu mẫu Báo cáo phân tích thị trường",fileName:"04_Biểu mẫu Báo cáo phân tích thị trường -CT-RD-F004.docx",category:"GIAI ĐOẠN 1: HÌNH THÀNH Ý TƯỞNG VÀ PHÁT TRIỂN KHÁI NIỆM",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"https://ctgroupvietnam.sharepoint.com/:w:/r/sites/CTTV-CTUAV-CTUAV-UAVLAB/_layouts/15/Doc.aspx?sourcedoc=%7BBDAA8503-E279-4041-86BD-9E63557BAE3C%7D&file=04_Bi%E1%BB%83u%20m%E1%BA%ABu%20B%C3%A1o%20c%C3%A1o%20ph%C3%A2n%20t%C3%ADch%20th%E1%BB%8B%20tr%C6%B0%E1%BB%9Dng%20-CT-RD-F004.docx&action=default&mobileredirect=true",hasFile:!1},{id:"CT-RD-F005",name:"Biểu mẫu Báo cáo IP sơ bộ",fileName:"05_Biểu mẫu Báo cáo IP sơ bộ -CT-RD-F005.docx",category:"GIAI ĐOẠN 1: HÌNH THÀNH Ý TƯỞNG VÀ PHÁT TRIỂN KHÁI NIỆM",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"https://ctgroupvietnam.sharepoint.com/:w:/r/sites/CTTV-CTUAV-CTUAV-UAVLAB/_layouts/15/Doc.aspx?sourcedoc=%7B8198D875-CD5F-4591-AB56-6EB7A04CAB88%7D&file=05_Bi%E1%BB%83u%20m%E1%BA%ABu%20B%C3%A1o%20c%C3%A1o%20IP%20s%C6%A1%20b%E1%BB%99-CT-RD-F005.docx&action=default&mobileredirect=true",hasFile:!1},{id:"CT-RD-F006",name:"Biểu mẫu Biên bản họp Công 1",fileName:"06_Biểu mẫu Biên bản họp Công 1 -CT-RD-F006.docx",category:"GIAI ĐOẠN 1: HÌNH THÀNH Ý TƯỞNG VÀ PHÁT TRIỂN KHÁI NIỆM",status:"approved",fileType:"docx",size:"178 KB",uploadDate:"2024-03-18",uploader:"Phạm Thị D",link:"https://ctgroupvietnam.sharepoint.com/:w:/r/sites/CTTV-CTUAV-CTUAV-UAVLAB/_layouts/15/Doc.aspx?sourcedoc=%7BC2C9B73E-D6F0-4F43-8348-BB1952BE29CC%7D&file=06_Bi%E1%BB%83u%20m%E1%BA%ABu%20Bi%C3%AAn%20b%E1%BA%A3n%20h%E1%BB%8Dp%20C%E1%BB%95ng%201-CT-RD-F006.docx&action=default&mobileredirect=true",hasFile:!0},{id:"CT-RD-F007",name:"Biểu mẫu Báo cáo xem xét tài liệu",fileName:"07_Biểu mẫu Báo cáo xem xét tài liệu-CT-RD-F007.docx",category:"GIAI ĐOẠN 2: NGHIÊN CỨU TÍNH KHẢ THI KỸ THUẬT",status:"pending",fileType:"docx",size:"156 KB",uploadDate:"2024-03-19",uploader:"Hoàng Văn E",link:"#",hasFile:!0},{id:"CT-RD-F008",name:"Biểu mẫu Tài liệu thiết kế sơ bộ",fileName:"08_Biểu mẫu Tài liệu thiết kế sơ bộ -CT-RD-F008.docx",category:"GIAI ĐOẠN 2: NGHIÊN CỨU TÍNH KHẢ THI KỸ THUẬT",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F009",name:"Biểu mẫu Báo cáo thử nghiệm PoC",fileName:"09_Biểu mẫu Báo cáo thử nghiệm PoC -CT-RD-F009.docx",category:"GIAI ĐOẠN 2: NGHIÊN CỨU TÍNH KHẢ THI KỸ THUẬT",status:"draft",fileType:"docx",size:"234 KB",uploadDate:"2024-03-20",uploader:"Võ Thị F",link:"#",hasFile:!0},{id:"CT-RD-F010",name:"Biểu mẫu Ma trận đánh giá rủi ro",fileName:"10_Biểu mẫu Ma trận đánh giá rủi ro -CT-RD-F010.docx",category:"GIAI ĐOẠN 2: NGHIÊN CỨU TÍNH KHẢ THI KỸ THUẬT",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F011",name:"Biểu mẫu Kế hoạch tài nguyên",fileName:"11_Biểu mẫu Kế hoạch tài nguyên -CT-RD-F011.docx",category:"GIAI ĐOẠN 2: NGHIÊN CỨU TÍNH KHẢ THI KỸ THUẬT",status:"approved",fileType:"docx",size:"192 KB",uploadDate:"2024-03-21",uploader:"Đặng Văn G",link:"#",hasFile:!0},{id:"CT-RD-F012",name:"Biểu mẫu Biên bản họp Công 2",fileName:"12_Biểu mẫu Biên bản họp Công 2 -CT-RD-F012.docx",category:"GIAI ĐOẠN 2: NGHIÊN CỨU TÍNH KHẢ THI KỸ THUẬT",status:"pending",fileType:"docx",size:"168 KB",uploadDate:"2024-03-22",uploader:"Bùi Thị H",link:"#",hasFile:!0},{id:"CT-RD-F013",name:"Biểu mẫu Báo cáo tìm kiếm Prior Art",fileName:"13_Biểu mẫu Báo cáo tìm kiếm Prior Art-CT-RD-F013.docx",category:"GIAI ĐOẠN 3: PHÂN TÍCH BẢN ĐỒ SỞ HỮU TRÍ TUỆ",status:"draft",fileType:"docx",size:"210 KB",uploadDate:"2024-03-23",uploader:"Lý Văn I",link:"#",hasFile:!0},{id:"CT-RD-F014",name:"Biểu mẫu Báo cáo phân tích FTO",fileName:"14_Biểu mẫu Báo cáo phân tích FTO -CT-RD-F014.docx",category:"GIAI ĐOẠN 3: PHÂN TÍCH BẢN ĐỒ SỞ HỮU TRÍ TUỆ",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F015",name:"Biểu mẫu Báo cáo thông tin cảnh tranh IP",fileName:"15_Biểu mẫu Báo cáo thông tin cảnh tranh IP -CT-RD-F015.docx",category:"GIAI ĐOẠN 3: PHÂN TÍCH BẢN ĐỒ SỞ HỮU TRÍ TUỆ",status:"approved",fileType:"docx",size:"267 KB",uploadDate:"2024-03-24",uploader:"Ngô Thị J",link:"#",hasFile:!0},{id:"CT-RD-F016",name:"Biểu mẫu Kế hoạch chiến lược IP",fileName:"16_Biểu mẫu Kế hoạch chiến lược IP -CT-RD-F016.docx",category:"GIAI ĐOẠN 3: PHÂN TÍCH BẢN ĐỒ SỞ HỮU TRÍ TUỆ",status:"pending",fileType:"docx",size:"189 KB",uploadDate:"2024-03-25",uploader:"Phan Văn K",link:"#",hasFile:!0},{id:"CT-RD-F017",name:"Biểu mẫu Biên bản họp Công 3",fileName:"17_Biểu mẫu Biên bản họp Công 3 -CT-RD-F017.docx",category:"GIAI ĐOẠN 3: PHÂN TÍCH BẢN ĐỒ SỞ HỮU TRÍ TUỆ",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F018",name:"Biểu mẫu Bản vẽ thiết kế chi tiết",fileName:"18_Biểu mẫu Bản vẽ thiết kế chi tiết-CT-RD-F018.docx",category:"GIAI ĐOẠN 4: THIẾT KẾ VÀ PHÁT TRIỂN CHI TIẾT",status:"approved",fileType:"docx",size:"312 KB",uploadDate:"2024-04-01",uploader:"Nguyễn Thị L",link:"#",hasFile:!0},{id:"CT-RD-F019",name:"Biểu mẫu Báo cáo phân tích nguyên mẫu",fileName:"19_Biểu mẫu Báo cáo phân tích nguyên mẫu-CT-RD-F019.docx",category:"GIAI ĐOẠN 4: THIẾT KẾ VÀ PHÁT TRIỂN CHI TIẾT",status:"pending",fileType:"docx",size:"278 KB",uploadDate:"2024-04-02",uploader:"Trần Văn M",link:"#",hasFile:!0},{id:"CT-RD-F020",name:"Biểu mẫu kế hoạch kiểm soát chất lượng",fileName:"20_Biểu mẫu kế hoạch kiểm soát chất lượng-CT-RD-F020.docx",category:"GIAI ĐOẠN 4: THIẾT KẾ VÀ PHÁT TRIỂN CHI TIẾT",status:"draft",fileType:"docx",size:"195 KB",uploadDate:"2024-04-03",uploader:"Lê Thị N",link:"#",hasFile:!0},{id:"CT-RD-F021",name:"Biểu mẫu Báo cáo tiến độ dự án",fileName:"21_Biểu mẫu Báo cáo tiến độ dự án-CT-RD-F021.docx",category:"GIAI ĐOẠN 4: THIẾT KẾ VÀ PHÁT TRIỂN CHI TIẾT",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F022",name:"Biểu mẫu Biên bản họp Cổng 4",fileName:"22_Biểu mẫu Biên bản họp Cổng 4-CT-RD-F022.docx",category:"GIAI ĐOẠN 4: THIẾT KẾ VÀ PHÁT TRIỂN CHI TIẾT",status:"approved",fileType:"docx",size:"167 KB",uploadDate:"2024-04-04",uploader:"Phạm Văn O",link:"#",hasFile:!0},{id:"CT-RD-F023",name:"Biểu mẫu kế hoạch kiểm thử tổng thể",fileName:"23_Biểu mẫu kế hoạch kiểm thử tổng thể-CT-RD-F023.docx",category:"GIAI ĐOẠN 5: KIỂM THỬ VÀ XÁC THỰC",status:"pending",fileType:"docx",size:"245 KB",uploadDate:"2024-04-05",uploader:"Võ Thị P",link:"#",hasFile:!0},{id:"CT-RD-F024",name:"Biểu mẫu Báo cáo kiểm thử chức năng",fileName:"24_Biểu mẫu Báo cáo kiểm thử chức năng-CT-RD-F024.docx",category:"GIAI ĐOẠN 5: KIỂM THỬ VÀ XÁC THỰC",status:"draft",fileType:"docx",size:"189 KB",uploadDate:"2024-04-06",uploader:"Đặng Văn Q",link:"#",hasFile:!0},{id:"CT-RD-F025",name:"Biểu mẫu Báo cáo kiểm thử hiệu suất",fileName:"25_Biểu mẫu Báo cáo kiểm thử hiệu suất-CT-RD-F025.docx",category:"GIAI ĐOẠN 5: KIỂM THỬ VÀ XÁC THỰC",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F026",name:"Biểu mẫu Báo cáo kiểm thử an toàn",fileName:"26_Biểu mẫu Báo cáo kiểm thử an toàn-CT-RD-F026.docx",category:"GIAI ĐOẠN 5: KIỂM THỬ VÀ XÁC THỰC",status:"approved",fileType:"docx",size:"223 KB",uploadDate:"2024-04-07",uploader:"Bùi Thị R",link:"#",hasFile:!0},{id:"CT-RD-F027",name:"Biểu mẫu Báo cáo xác thực khách hàng",fileName:"27_Biểu mẫu Báo cáo xác thực khách hàng-CT-RD-F027.docx",category:"GIAI ĐOẠN 5: KIỂM THỬ VÀ XÁC THỰC",status:"pending",fileType:"docx",size:"156 KB",uploadDate:"2024-04-08",uploader:"Lý Văn S",link:"#",hasFile:!0},{id:"CT-RD-F028",name:"Biểu mẫu Biên bản họp Cổng 5",fileName:"28_Biểu mẫu Biên bản họp Cổng 5-CT-RD-F028.docx",category:"GIAI ĐOẠN 5: KIỂM THỬ VÀ XÁC THỰC",status:"draft",fileType:"docx",size:"172 KB",uploadDate:"2024-04-09",uploader:"Ngô Thị T",link:"#",hasFile:!0},{id:"CT-RD-F029",name:"Biểu mẫu Đơn bằng sáng chế",fileName:"29_Biểu mẫu Đơn bằng sáng chế-CT-RD-F029.docx",category:"GIAI ĐOẠN 6: HOÀN THIỆN SỞ HỮU TRÍ TUỆ",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F030",name:"Kế hoạch bảo vệ Trade Secret",fileName:"30_Kế hoạch bảo vệ Trade Secret-CT-RD-F030.docx",category:"GIAI ĐOẠN 6: HOÀN THIỆN SỞ HỮU TRÍ TUỆ",status:"approved",fileType:"docx",size:"198 KB",uploadDate:"2024-04-10",uploader:"Phan Văn U",link:"#",hasFile:!0},{id:"CT-RD-F031",name:"Biểu mẫu Ma trận rủi ro IP",fileName:"31_Biểu mẫu Ma trận rủi ro IP-CT-RD-F031.docx",category:"GIAI ĐOẠN 6: HOÀN THIỆN SỞ HỮU TRÍ TUỆ",status:"pending",fileType:"docx",size:"234 KB",uploadDate:"2024-04-11",uploader:"Hoàng Thị V",link:"#",hasFile:!0},{id:"CT-RD-F032",name:"Biểu mẫu Biên bản họp Cổng 6",fileName:"32_Biểu mẫu Biên bản họp Cổng 6-CT-RD-F032.docx",category:"GIAI ĐOẠN 6: HOÀN THIỆN SỞ HỮU TRÍ TUỆ",status:"draft",fileType:"docx",size:"165 KB",uploadDate:"2024-04-12",uploader:"Đinh Văn W",link:"#",hasFile:!0},{id:"CT-RD-F033",name:"Biểu mẫu Báo cáo DfM",fileName:"33_Biểu mẫu Báo cáo DfM-CT-RD-F033.docx",category:"GIAI ĐOẠN 7: CHUẨN BỊ SẢN XUẤT",status:"approved",fileType:"docx",size:"289 KB",uploadDate:"2024-04-13",uploader:"Vũ Thị X",link:"#",hasFile:!0},{id:"CT-RD-F034",name:"Quy trình sản xuất UAV",fileName:"34_Quy trình sản xuất UAV - CT-RD-F034.docx",category:"GIAI ĐOẠN 7: CHUẨN BỊ SẢN XUẤT",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F035",name:"Biểu mẫu Hệ thống quản lý chất lượng",fileName:"35_Biểu mẫu Hệ thống quản lý chất lượng-CT-RD-F035.docx",category:"GIAI ĐOẠN 7: CHUẨN BỊ SẢN XUẤT",status:"pending",fileType:"docx",size:"256 KB",uploadDate:"2024-04-14",uploader:"Mai Văn Y",link:"#",hasFile:!0},{id:"CT-RD-F036",name:"Biểu mẫu Kế hoạch chuỗi cung ứng",fileName:"36_Biểu mẫu Kế hoạch chuỗi cung ứng-CT-RD-F036.docx",category:"GIAI ĐOẠN 7: CHUẨN BỊ SẢN XUẤT",status:"draft",fileType:"docx",size:"178 KB",uploadDate:"2024-04-15",uploader:"Cao Thị Z",link:"#",hasFile:!0},{id:"CT-RD-F037",name:"Biểu mẫu Báo cáo năng lực sản xuất",fileName:"37_Biểu mẫu Báo cáo năng lực sản xuất-CT-RD-F037.docx",category:"GIAI ĐOẠN 7: CHUẨN BỊ SẢN XUẤT",status:"approved",fileType:"docx",size:"312 KB",uploadDate:"2024-04-16",uploader:"Tạ Văn AA",link:"#",hasFile:!0},{id:"CT-RD-F038",name:"Biểu mẫu Biên bản họp Cổng 7",fileName:"38_Biểu mẫu Biên bản họp Cổng 7-CT-RD-F038.docx",category:"GIAI ĐOẠN 7: CHUẨN BỊ SẢN XUẤT",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F039",name:"Biểu mẫu Kế hoạch chuyển giao công nghệ",fileName:"39_Biểu mẫu Kế hoạch chuyển giao công nghệ-CT-RD-F039.docx",category:"GIAI ĐOẠN 8: CHUYỂN GIAO CÔNG NGHỆ",status:"pending",fileType:"docx",size:"267 KB",uploadDate:"2024-04-17",uploader:"Lại Thị BB",link:"#",hasFile:!0},{id:"CT-RD-F040",name:"Biểu mẫu Danh mục tài liệu chuyển giao",fileName:"40_Biểu mẫu Danh mục tài liệu chuyển giao-CT-RD-F040.docx",category:"GIAI ĐOẠN 8: CHUYỂN GIAO CÔNG NGHỆ",status:"draft",fileType:"docx",size:"195 KB",uploadDate:"2024-04-18",uploader:"Dương Văn CC",link:"#",hasFile:!0},{id:"CT-RD-F041",name:"Biểu mẫu Chương trình đào tạo",fileName:"41_Biểu mẫu Chương trình đào tạo-CT-RD-F041.docx",category:"GIAI ĐOẠN 8: CHUYỂN GIAO CÔNG NGHỆ",status:"approved",fileType:"docx",size:"223 KB",uploadDate:"2024-04-19",uploader:"Hà Thị DD",link:"#",hasFile:!0},{id:"CT-RD-F042",name:"Biểu mẫu Kế hoạch hỗ trợ sản xuất",fileName:"42_Biểu mẫu Kế hoạch hỗ trợ sản xuất-CT-RD-F042.docx",category:"GIAI ĐOẠN 8: CHUYỂN GIAO CÔNG NGHỆ",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F043",name:"Biểu mẫu Báo cáo đánh giá chuyển giao",fileName:"43_Biểu mẫu Báo cáo đánh giá chuyển giao-CT-RD-F043.docx",category:"GIAI ĐOẠN 8: CHUYỂN GIAO CÔNG NGHỆ",status:"pending",fileType:"docx",size:"178 KB",uploadDate:"2024-04-20",uploader:"Từ Văn EE",link:"#",hasFile:!0},{id:"CT-RD-F044",name:"Biểu mẫu Biên bản họp Cổng 8",fileName:"44_Biểu mẫu Biên bản họp Cổng 8-CT-RD-F044.docx",category:"GIAI ĐOẠN 8: CHUYỂN GIAO CÔNG NGHỆ",status:"draft",fileType:"docx",size:"189 KB",uploadDate:"2024-04-21",uploader:"Ông Thị FF",link:"#",hasFile:!0}],KU=()=>{const[e,t]=N.useState(""),[s,n]=N.useState("teams"),[i,l]=N.useState([]),[c,u]=N.useState(""),[h,f]=N.useState(""),[g,p]=N.useState(""),[b,y]=N.useState(""),[j,v]=N.useState(new Set),[_,T]=N.useState({}),O=X=>{switch(X){case"approved":return{className:"bg-green-100 text-green-800 border-green-200",text:"Đã duyệt"};case"pending":return{className:"bg-yellow-100 text-yellow-800 border-yellow-200",text:"Chờ duyệt"};case"draft":return{className:"bg-blue-100 text-blue-800 border-blue-200",text:"Nháp"};case"empty":return{className:"bg-gray-100 text-gray-800 border-gray-200",text:"Trống"};default:return{className:"bg-gray-100 text-gray-800 border-gray-200",text:"Không xác định"}}},{data:S,isLoading:C}=mt("Team",{fields:["name","team","teamlead"],limit:0}),{data:D,isLoading:E}=mt("Project",{fields:["name","project_name","owner","team"],limit:0}),{data:L,isLoading:F}=mt("project_phase",{fields:["name","subject","project","progress","status"],limit:0}),{data:R,isLoading:K}=mt("Task",{fields:["name","subject","project","phase"],limit:0}),{data:W,isLoading:Q}=mt("File",{fields:["name","file_name","file_url","file_size","is_private","attached_to_doctype","attached_to_name","creation","owner","modified"],filters:[["attached_to_doctype","=","Task"]],orderBy:{field:"creation",order:"desc"},limit:0}),H=(X,Oe)=>{u(X),n("projects"),l([{id:X,name:Oe,type:"team"}])},q=(X,Oe)=>{f(X),n("project-detail"),l(He=>[...He,{id:X,name:Oe,type:"project"}])},Y=(X,Oe)=>{p(X),n("tasks"),l(He=>[...He,{id:X,name:Oe,type:"phase"}])},$=(X,Oe)=>{y(X),n("files"),l(He=>[...He,{id:X,name:Oe,type:"task"}])},J=X=>{const Oe=i[X];if(!Oe){n("teams"),l([]),u(""),f(""),p(""),y("");return}switch(Oe.type){case"team":n("projects"),l(i.slice(0,X+1)),u(Oe.id),f(""),p(""),y("");break;case"project":n("project-detail"),l(i.slice(0,X+1)),p(""),y("");break;case"phase":n("tasks"),l(i.slice(0,X+1)),y("");break}},se=X=>{if(X===0)return"0 Bytes";const Oe=1024,He=["Bytes","KB","MB","GB"],Ye=Math.floor(Math.log(X)/Math.log(Oe));return parseFloat((X/Math.pow(Oe,Ye)).toFixed(2))+" "+He[Ye]},Ne=X=>{var Ye;if(X.file_url.startsWith("http")&&(X.file_size===0||!X.file_name.includes(".")))return a.jsx(zd,{className:"h-5 w-5 text-blue-500"});switch((Ye=X.file_name.split(".").pop())==null?void 0:Ye.toLowerCase()){case"pdf":return a.jsx(Ds,{className:"h-5 w-5 text-red-500"});case"doc":case"docx":return a.jsx(Ds,{className:"h-5 w-5 text-blue-500"});case"xls":case"xlsx":return a.jsx(Ds,{className:"h-5 w-5 text-green-500"});default:return a.jsx(Ds,{className:"h-5 w-5 text-gray-500"})}},P=X=>X.file_url.startsWith("http")&&(X.file_size===0||!X.file_name.includes(".")),ne=(X,Oe)=>{T(He=>oe(z({},He),{[X]:Oe})),console.log(`Updating document ${X} status to ${Oe}`)},ge=X=>{console.log(`Deleting document ${X}`)},G=N.useMemo(()=>!D||!c?[]:D.filter(X=>X.team===c),[D,c]),re=N.useMemo(()=>!L||!h?[]:L.filter(Oe=>Oe.project===h).slice(0,8),[L,h]),_e=X=>{const Oe=X.progress||0,Ye=`GIAI ĐOẠN ${re.findIndex(tt=>tt.name===X.name)+1}`;return XU.filter(tt=>tt.category.includes(Ye)).map(tt=>oe(z({},tt),{status:Oe===100?"approved":tt.status,hasFile:Oe===100?!0:tt.hasFile}))},me=N.useMemo(()=>!R||!h?[]:g?R.filter(X=>X.project===h&&X.phase===g):R.filter(X=>X.project===h&&!X.phase),[R,h,g]),Le=N.useMemo(()=>!W||!b?[]:W.filter(X=>X.attached_to_name===b),[W,b]),we=N.useMemo(()=>{if(!S||!D)return{};const X={};return S.forEach(Oe=>{const Ye=D.filter(tt=>tt.team===Oe.name).length*45;X[Oe.name]=Ye}),X},[S,D]),Ee=N.useMemo(()=>{if(!D)return{};const X={};return D.forEach(Oe=>{X[Oe.name]=45}),X},[D]);return C||E||F||K||Q?a.jsxs("div",{className:"flex items-center justify-center min-h-96",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("span",{className:"ml-3 text-gray-600",children:"Đang tải dữ liệu..."})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Quản lý tài liệu"}),a.jsxs("p",{className:"text-gray-600",children:["Quản lý tài liệu theo cấu trúc Team ","->"," Project ","->"," Phase"]})]})}),i.length>0&&a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsxs("button",{onClick:()=>J(-1),className:"text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[a.jsx(Cn,{className:"h-4 w-4"}),"Teams"]}),i.map((X,Oe)=>a.jsxs(ye.Fragment,{children:[a.jsx("span",{className:"text-gray-500",children:"/"}),a.jsxs("button",{onClick:()=>J(Oe),className:"text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[X.type==="team"&&a.jsx(Cn,{className:"h-4 w-4"}),X.type==="project"&&a.jsx(Yl,{className:"h-4 w-4"}),X.type==="phase"&&a.jsx(Vs,{className:"h-4 w-4"}),X.type==="task"&&a.jsx(Ei,{className:"h-4 w-4"}),X.name]})]},X.id))]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:a.jsxs("div",{className:"relative max-w-md",children:[a.jsx(mc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx("input",{type:"text",placeholder:s==="teams"?"Tìm kiếm team...":s==="projects"?"Tìm kiếm dự án...":s==="project-detail"?"Tìm kiếm tài liệu...":s==="phases"?"Tìm kiếm phase...":s==="tasks"?"Tìm kiếm task...":"Tìm kiếm file...",value:e,onChange:X=>t(X.target.value),className:"pl-10 w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[s==="teams"&&a.jsxs("div",{children:[a.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 text-sm font-semibold text-gray-700 uppercase tracking-wider",children:[a.jsxs("div",{className:"col-span-5 flex items-center gap-2",children:[a.jsx(Cn,{className:"h-4 w-4"}),"Team"]}),a.jsxs("div",{className:"col-span-4 flex items-center gap-2",children:[a.jsx(tu,{className:"h-4 w-4"}),"Nhóm Trưởng"]}),a.jsxs("div",{className:"col-span-3 flex items-center gap-2",children:[a.jsx(Ds,{className:"h-4 w-4"}),"Số Tài liệu"]})]})}),a.jsx("div",{className:"divide-y divide-gray-200",children:S&&S.length>0?S.filter(X=>{var Oe;return!e||((Oe=X.team)==null?void 0:Oe.toLowerCase().includes(e.toLowerCase()))}).map(X=>a.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>H(X.name,X.team||"Unnamed Team"),children:[a.jsxs("div",{className:"col-span-5 flex items-center gap-3",children:[a.jsx(Cn,{className:"h-6 w-6 text-blue-500 flex-shrink-0"}),a.jsx("div",{className:"min-w-0",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:X.team||"Unnamed Team"})})]}),a.jsx("div",{className:"col-span-4 flex items-center",children:a.jsx("div",{className:"min-w-0",children:a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:X.teamlead||"Chưa có nhóm trưởng"})})}),a.jsx("div",{className:"col-span-3 flex items-center",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg font-semibold text-blue-600",children:(we[X.name]||45).toLocaleString("vi-VN")}),a.jsx("span",{className:"text-sm text-gray-600",children:"tài liệu"})]})})]},X.name)):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Cn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Không có team nào"})]})})]}),s==="projects"&&a.jsxs("div",{children:[a.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 text-sm font-semibold text-gray-700 uppercase tracking-wider",children:[a.jsxs("div",{className:"col-span-6 flex items-center gap-2",children:[a.jsx(Yl,{className:"h-4 w-4"}),"Tên Dự Án"]}),a.jsxs("div",{className:"col-span-3 flex items-center gap-2",children:[a.jsx(Ds,{className:"h-4 w-4"}),"Số File"]}),a.jsxs("div",{className:"col-span-3 flex items-center gap-2",children:[a.jsx(Vs,{className:"h-4 w-4"}),"Thao Tác"]})]})}),a.jsx("div",{className:"divide-y divide-gray-200",children:G&&G.length>0?G.filter(X=>!e||X.project_name.toLowerCase().includes(e.toLowerCase())).map(X=>a.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>q(X.name,X.project_name),children:[a.jsxs("div",{className:"col-span-6 flex items-center gap-3",children:[a.jsx(Yl,{className:"h-6 w-6 text-green-500 flex-shrink-0"}),a.jsx("div",{className:"min-w-0",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:X.project_name})})]}),a.jsx("div",{className:"col-span-3 flex items-center",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg font-semibold text-green-600",children:(Ee[X.name]||45).toLocaleString("vi-VN")}),a.jsx("span",{className:"text-sm text-gray-600",children:"tài liệu"})]})}),a.jsx("div",{className:"col-span-3 flex items-center",children:a.jsx("span",{className:"text-sm text-gray-600",children:"Click để xem phases và tasks"})})]},X.name)):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Yl,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Không có dự án nào"})]})})]}),s==="project-detail"&&a.jsx("div",{className:"space-y-6",children:re&&re.length>0?a.jsx("div",{className:"space-y-4",children:re.map((X,Oe)=>{const He=`phase-${X.name}`,Ye=X.progress||0,tt=_e(X),gt=[{bg:"bg-blue-50",hoverBg:"hover:bg-blue-100",iconBg:"bg-blue-100",iconColor:"text-blue-600",textColor:"text-blue-600",uploadBg:"bg-blue-600",uploadHover:"hover:bg-blue-700"},{bg:"bg-green-50",hoverBg:"hover:bg-green-100",iconBg:"bg-green-100",iconColor:"text-green-600",textColor:"text-green-600",uploadBg:"bg-green-600",uploadHover:"hover:bg-green-700"},{bg:"bg-purple-50",hoverBg:"hover:bg-purple-100",iconBg:"bg-purple-100",iconColor:"text-purple-600",textColor:"text-purple-600",uploadBg:"bg-purple-600",uploadHover:"hover:bg-purple-700"},{bg:"bg-orange-50",hoverBg:"hover:bg-orange-100",iconBg:"bg-orange-100",iconColor:"text-orange-600",textColor:"text-orange-600",uploadBg:"bg-orange-600",uploadHover:"hover:bg-orange-700"},{bg:"bg-red-50",hoverBg:"hover:bg-red-100",iconBg:"bg-red-100",iconColor:"text-red-600",textColor:"text-red-600",uploadBg:"bg-red-600",uploadHover:"hover:bg-red-700"},{bg:"bg-indigo-50",hoverBg:"hover:bg-indigo-100",iconBg:"bg-indigo-100",iconColor:"text-indigo-600",textColor:"text-indigo-600",uploadBg:"bg-indigo-600",uploadHover:"hover:bg-indigo-700"},{bg:"bg-yellow-50",hoverBg:"hover:bg-yellow-100",iconBg:"bg-yellow-100",iconColor:"text-yellow-600",textColor:"text-yellow-600",uploadBg:"bg-yellow-600",uploadHover:"hover:bg-yellow-700"},{bg:"bg-pink-50",hoverBg:"hover:bg-pink-100",iconBg:"bg-pink-100",iconColor:"text-pink-600",textColor:"text-pink-600",uploadBg:"bg-pink-600",uploadHover:"hover:bg-pink-700"}],Dt=gt[Oe%gt.length],De=Ue=>Ue===100?"✅":Ue>=75?"🔄":Ue>=50?"⏳":Ue>=25?"🔧":Ue>0?"🚀":"📋";return a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[a.jsxs("button",{onClick:()=>{const Ue=new Set(j);Ue.has(He)?Ue.delete(He):Ue.add(He),v(Ue)},className:`w-full px-6 py-4 ${Dt.bg} ${Dt.hoverBg} transition-colors flex items-center justify-between`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`${Dt.iconBg} p-2 rounded`,children:a.jsx(Ds,{className:`h-6 w-6 ${Dt.iconColor}`})}),a.jsxs("div",{className:"text-left",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[De(Ye)," ",X.subject||"Unnamed Phase"]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[a.jsxs("span",{children:[tt.filter(Ue=>Ue.hasFile).length,"/",tt.length," tài liệu"]}),a.jsxs("span",{className:`font-medium ${Ye===100?"text-green-600":Ye>=1?"text-yellow-600":"text-gray-500"}`,children:["Progress: ",Ye,"%"]}),Ye===100&&a.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:"Tài liệu đã duyệt"}),Ye!==100&&a.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:"Tài liệu trống/nháp"})]})]})]}),j.has(He)?a.jsx(AM,{className:"h-5 w-5 text-gray-500"}):a.jsx(Wx,{className:"h-5 w-5 text-gray-500"})]}),j.has(He)&&a.jsxs("div",{className:"border-t border-gray-200",children:[a.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3 text-sm font-semibold text-gray-700",children:[a.jsx("div",{className:"col-span-1 text-center",children:"Mã số"}),a.jsx("div",{className:"col-span-3",children:"Tên File"}),a.jsx("div",{className:"col-span-1 text-center",children:"Link"}),a.jsx("div",{className:"col-span-3",children:"File Upload"}),a.jsx("div",{className:"col-span-2",children:"Status"}),a.jsx("div",{className:"col-span-1 text-center",children:"Thao tác"})]})}),a.jsx("div",{className:"divide-y divide-gray-200",children:tt.filter(Ue=>!e||Ue.name.toLowerCase().includes(e.toLowerCase())||Ue.id.toLowerCase().includes(e.toLowerCase())).map(Ue=>a.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[a.jsx("div",{className:"col-span-1 text-center",children:a.jsx("span",{className:`text-xs font-mono ${Dt.textColor} bg-opacity-50 ${Dt.bg} px-2 py-1 rounded`,children:Ue.id})}),a.jsxs("div",{className:"col-span-3 flex items-center gap-3",children:[a.jsx(Ds,{className:`h-5 w-5 ${Dt.iconColor.replace("text-","text-").replace("-600","-500")}`}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-900 truncate",children:Ue.name}),a.jsx("p",{className:"text-xs text-gray-500 truncate",children:Ue.fileName})]})]}),a.jsx("div",{className:"col-span-1 text-center",children:a.jsx("button",{onClick:()=>window.open(Ue.link,"_blank"),className:"text-blue-600 hover:text-blue-700 p-1 rounded transition-colors",title:"Xem tài liệu",children:a.jsx(G0,{className:"h-4 w-4"})})}),a.jsx("div",{className:"col-span-3",children:Ue.hasFile?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-900 truncate flex-1",title:Ue.fileName,style:{maxWidth:"150px"},children:Ue.fileName}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{className:"text-blue-600 hover:text-blue-700 p-1 rounded transition-colors",title:"Xem",children:a.jsx(Gx,{className:"h-4 w-4"})}),a.jsx("button",{className:"text-green-600 hover:text-green-700 p-1 rounded transition-colors",title:"Tải xuống",children:a.jsx(lc,{className:"h-4 w-4"})})]})]}):a.jsxs("button",{className:`${Dt.uploadBg} ${Dt.uploadHover} text-white px-3 py-1.5 rounded text-xs font-medium transition-colors flex items-center gap-1`,children:[a.jsx(K_,{className:"h-3 w-3"}),"Tải lên"]})}),a.jsx("div",{className:"col-span-2",children:a.jsxs("select",{value:_[Ue.id]||Ue.status,onChange:Pe=>ne(Ue.id,Pe.target.value),className:`text-xs border rounded px-2 py-1 focus:ring-2 focus:ring-blue-500 focus:border-transparent font-medium ${O(_[Ue.id]||Ue.status).className}`,children:[a.jsx("option",{value:"approved",children:"Đã duyệt"}),a.jsx("option",{value:"pending",children:"Chờ duyệt"}),a.jsx("option",{value:"draft",children:"Nháp"}),a.jsx("option",{value:"empty",children:"Trống"})]})}),a.jsx("div",{className:"col-span-1 text-center",children:a.jsx("button",{onClick:()=>ge(Ue.id),className:"text-red-600 hover:text-red-700 p-1 rounded transition-colors",title:"Xóa tài liệu",children:a.jsx(Vi,{className:"h-4 w-4"})})})]},Ue.id))})]})]},He)})}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Vs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Dự án không có giai đoạn"}),a.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Dự án này chưa được thiết lập các giai đoạn"})]})}),s==="phases"&&a.jsxs("div",{className:"divide-y divide-gray-200",children:[a.jsx("div",{className:"p-4 bg-gray-50 border-b",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(Vs,{className:"h-5 w-5 text-orange-500"}),"Phases"]})}),re&&re.length>0?re.filter(X=>{var Oe;return!e||((Oe=X.subject)==null?void 0:Oe.toLowerCase().includes(e.toLowerCase()))}).map(X=>a.jsxs("div",{className:"flex items-center gap-4 p-6 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>Y(X.name,X.subject||"Unnamed Phase"),children:[a.jsx(Vs,{className:"h-8 w-8 text-orange-500"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:X.subject||"Unnamed Phase"}),a.jsx("p",{className:"text-gray-600",children:"Click để xem tasks trong phase này"})]}),a.jsx("div",{className:"text-gray-400",children:a.jsx(Ei,{className:"h-5 w-5"})})]},X.name)):a.jsx("div",{className:"p-6",children:a.jsx("p",{className:"text-gray-600",children:"Không có phase nào trong dự án này"})}),a.jsx("div",{className:"p-4 bg-gray-50 border-b",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(Ei,{className:"h-5 w-5 text-purple-500"}),"Tasks (Không thuộc Phase)"]})}),me&&me.length>0?me.filter(X=>!(e&&!X.subject.toLowerCase().includes(e.toLowerCase()))).map(X=>{const Oe=(W==null?void 0:W.filter(He=>He.attached_to_name===X.name).length)||0;return a.jsxs("div",{className:"flex items-center gap-4 p-6 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>$(X.name,X.subject),children:[a.jsx(Ei,{className:"h-8 w-8 text-purple-500"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:X.subject}),a.jsxs("p",{className:"text-gray-600",children:[Oe," file(s)"]})]}),a.jsx("div",{className:"text-gray-400",children:a.jsx(Ds,{className:"h-5 w-5"})})]},X.name)}):a.jsx("div",{className:"p-6",children:a.jsx("p",{className:"text-gray-600",children:"Không có task nào trong dự án này"})})]}),s==="tasks"&&g&&a.jsx("div",{className:"divide-y divide-gray-200",children:me&&me.length>0?me.filter(X=>!(e&&!X.subject.toLowerCase().includes(e.toLowerCase()))).map(X=>{const Oe=(W==null?void 0:W.filter(He=>He.attached_to_name===X.name).length)||0;return a.jsxs("div",{className:"flex items-center gap-4 p-6 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>$(X.name,X.subject),children:[a.jsx(Ei,{className:"h-8 w-8 text-purple-500"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:X.subject}),a.jsxs("p",{className:"text-gray-600",children:[Oe," file(s)"]})]}),a.jsx("div",{className:"text-gray-400",children:a.jsx(Ds,{className:"h-5 w-5"})})]},X.name)}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ei,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Không có task nào trong phase này"})]})}),s==="files"&&a.jsx("div",{className:"divide-y divide-gray-200",children:Le&&Le.length>0?Le.filter(X=>!e||X.file_name.toLowerCase().includes(e.toLowerCase())||X.owner.toLowerCase().includes(e.toLowerCase())).map(X=>a.jsxs("div",{className:"flex items-center gap-4 p-6 hover:bg-gray-50 transition-colors",children:[Ne(X),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 truncate",children:X.file_name}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(tu,{className:"h-4 w-4"}),a.jsxs("span",{children:["Người thêm: ",X.owner]})]}),!P(X)&&a.jsxs("span",{children:["Kích thước: ",se(X.file_size)]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Hi,{className:"h-4 w-4"}),a.jsx("span",{children:new Date(X.creation).toLocaleDateString("vi-VN")})]}),P(X)&&a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:"Link"})]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("button",{onClick:Oe=>{Oe.stopPropagation(),window.open(X.file_url,"_blank")},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:P(X)?a.jsxs(a.Fragment,{children:[a.jsx(G0,{className:"h-4 w-4"}),"Mở Link"]}):a.jsxs(a.Fragment,{children:[a.jsx(lc,{className:"h-4 w-4"}),"Tải xuống"]})})})]},X.name)):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ds,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Không có file nào"}),a.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Task này chưa có file đính kèm"})]})})]}),s==="teams"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Cn,{className:"h-8 w-8 text-blue-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng Team"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(S==null?void 0:S.length)||0})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Yl,{className:"h-8 w-8 text-green-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng Dự án"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(D==null?void 0:D.length)||0})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ei,{className:"h-8 w-8 text-purple-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng Task"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(R==null?void 0:R.length)||0})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ds,{className:"h-8 w-8 text-red-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng Tài liệu"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:S?Object.values(we).reduce((X,Oe)=>X+Oe,0).toLocaleString("vi-VN"):"0"})]})]})})]})]})},QU=[{id:"1",project:"Hệ thống Điều khiển UAV Tự động",category:"Thiết kế Chi tiết",planned:5e8,actual:36e7,remaining:14e7,status:"on-track",lastUpdated:"2024-01-15"},{id:"2",project:"Cảm biến Nhiệt độ IoT",category:"Nghiên cứu Tính khả thi",planned:2e8,actual:24e7,remaining:-4e7,status:"over-budget",lastUpdated:"2024-01-16"},{id:"3",project:"Platform AI cho Robot",category:"Phát triển Sản phẩm",planned:8e8,remaining:576e6,actual:224e6,status:"under-budget",lastUpdated:"2024-01-14"}],ZU=["Tất cả","Thiết kế Chi tiết","Nghiên cứu Tính khả thi","Phát triển Sản phẩm"],JU=()=>{const[e]=N.useState(QU),[t,s]=N.useState("Tất cả"),n=e.filter(b=>t==="Tất cả"||b.category===t),i=e.reduce((b,y)=>b+y.planned,0),l=e.reduce((b,y)=>b+y.actual,0),c=e.reduce((b,y)=>b+y.remaining,0),u=Math.round(l/i*100),h=b=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0,maximumFractionDigits:0}).format(b).replace("₫","đ"),f=b=>{switch(b){case"on-track":return"bg-green-100 text-green-800";case"over-budget":return"bg-red-100 text-red-800";case"under-budget":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},g=b=>{switch(b){case"on-track":return"Đúng kế hoạch";case"over-budget":return"Vượt ngân sách";case"under-budget":return"Dưới ngân sách";default:return b}},p=b=>{switch(b){case"on-track":return a.jsx(Jl,{className:"h-4 w-4 text-green-600"});case"over-budget":return a.jsx(Nj,{className:"h-4 w-4 text-red-600"});case"under-budget":return a.jsx(Jl,{className:"h-4 w-4 text-blue-600"});default:return a.jsx(Ui,{className:"h-4 w-4 text-gray-600"})}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Ngân sách"}),a.jsx("p",{className:"text-gray-600",children:"Quản lý chi phí và ngân sách"})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[a.jsx(lc,{className:"h-4 w-4"}),"Xuất báo cáo"]}),a.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[a.jsx(gr,{className:"h-4 w-4"}),"Thêm ngân sách"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng ngân sách"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h(i)}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Kế hoạch năm 2024"})]}),a.jsx($i,{className:"h-8 w-8 text-blue-500"})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đã sử dụng"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h(l)}),a.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[u,"% đã sử dụng"]})]}),a.jsx(Jl,{className:"h-8 w-8 text-green-500"})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Còn lại"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h(c)}),a.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:[100-u,"% còn lại"]})]}),a.jsx(Nj,{className:"h-8 w-8 text-purple-500"})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Dự án vượt ngân sách"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:e.filter(b=>b.status==="over-budget").length}),a.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Cần chú ý"})]}),a.jsx(Ui,{className:"h-8 w-8 text-red-500"})]})})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(pu,{className:"h-5 w-5 text-gray-400"}),a.jsx("select",{value:t,onChange:b=>s(b.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:ZU.map(b=>a.jsx("option",{value:b,children:b},b))})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dự án"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Giai đoạn"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kế hoạch"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thực tế"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Còn lại"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tiến độ"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trạng thái"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cập nhật"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(b=>{const y=Math.round(b.actual/b.planned*100);return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:b.project})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-500",children:b.category})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-gray-900",children:h(b.planned)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-gray-900",children:h(b.actual)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:a.jsx("span",{className:b.remaining<0?"text-red-600":"text-gray-900",children:h(b.remaining)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${y>100?"bg-red-500":y>80?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(y,100)}%`}})}),a.jsxs("span",{className:"ml-2 text-xs text-gray-600",children:[y,"%"]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${f(b.status)}`,children:[p(b.status),a.jsx("span",{className:"ml-1",children:g(b.status)})]})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-gray-500",children:b.lastUpdated})]},b.id)})})]})})}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Biểu đồ ngân sách theo thời gian"}),a.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:a.jsx("p",{className:"text-gray-500",children:"Biểu đồ sẽ được hiển thị tại đây"})})]})]})},e9=[{id:"1",title:"Thiếu linh kiện cảm biến chính",project:"Hệ thống Điều khiển UAV Tự động",category:"Kỹ thuật",probability:"high",impact:"high",status:"mitigating",owner:"Nguyễn Văn A",description:"Nhà cung cấp chính gặp vấn đề sản xuất, có thể ảnh hưởng đến tiến độ dự án",mitigation:"Tìm nhà cung cấp thay thế và đàm phán gia hạn giao hàng",createdDate:"2024-01-10",dueDate:"2024-02-15"},{id:"2",title:"Thay đổi yêu cầu từ khách hàng",project:"Cảm biến Nhiệt độ IoT",category:"Yêu cầu",probability:"medium",impact:"medium",status:"analyzing",owner:"Trần Thị B",description:"Khách hàng có thể thay đổi thông số kỹ thuật trong quá trình phát triển",mitigation:"Thiết lập quy trình quản lý thay đổi chặt chẽ",createdDate:"2024-01-12",dueDate:"2024-01-30"},{id:"3",title:"Nhân sự chủ chốt nghỉ việc",project:"Platform AI cho Robot",category:"Nhân sự",probability:"low",impact:"high",status:"identified",owner:"Lê Văn C",description:"Rủi ro mất đi nhân sự có kinh nghiệm trong quá trình phát triển",mitigation:"Xây dựng kế hoạch đào tạo và chuyển giao kiến thức",createdDate:"2024-01-08",dueDate:"2024-03-01"}],t9=["Tất cả","Kỹ thuật","Yêu cầu","Nhân sự","Tài chính","Lịch trình"],s9=["Tất cả","identified","analyzing","mitigating","closed"],n9=()=>{const[e]=N.useState(e9),[t,s]=N.useState(""),[n,i]=N.useState("Tất cả"),[l,c]=N.useState("Tất cả"),u=e.filter(S=>{const C=S.title.toLowerCase().includes(t.toLowerCase())||S.project.toLowerCase().includes(t.toLowerCase()),D=n==="Tất cả"||S.category===n,E=l==="Tất cả"||S.status===l;return C&&D&&E}),h=(S,C)=>{const L=(S==="high"?3:S==="medium"?2:1)*(C==="high"?3:C==="medium"?2:1);return L>=6?{level:"Cao",color:"bg-red-100 text-red-800"}:L>=3?{level:"Trung bình",color:"bg-yellow-100 text-yellow-800"}:{level:"Thấp",color:"bg-green-100 text-green-800"}},f=S=>{switch(S){case"high":return"text-red-600";case"medium":return"text-yellow-600";case"low":return"text-green-600";default:return"text-gray-600"}},g=S=>{switch(S){case"high":return"text-red-600";case"medium":return"text-yellow-600";case"low":return"text-green-600";default:return"text-gray-600"}},p=S=>{switch(S){case"identified":return"bg-blue-100 text-blue-800";case"analyzing":return"bg-yellow-100 text-yellow-800";case"mitigating":return"bg-orange-100 text-orange-800";case"closed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},b=S=>{switch(S){case"identified":return"Đã xác định";case"analyzing":return"Đang phân tích";case"mitigating":return"Đang giảm thiểu";case"closed":return"Đã đóng";default:return S}},y=S=>{switch(S){case"high":return"Cao";case"medium":return"Trung bình";case"low":return"Thấp";default:return S}},j=S=>{switch(S){case"high":return"Cao";case"medium":return"Trung bình";case"low":return"Thấp";default:return S}},v=e.filter(S=>h(S.probability,S.impact).level==="Cao").length,_=e.filter(S=>h(S.probability,S.impact).level==="Trung bình").length,T=e.filter(S=>h(S.probability,S.impact).level==="Thấp").length,O=e.filter(S=>S.status!=="closed").length;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Rủi ro"}),a.jsx("p",{className:"text-gray-600",children:"Quản lý rủi ro dự án"})]}),a.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[a.jsx(gr,{className:"h-4 w-4"}),"Thêm rủi ro"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(gc,{className:"h-8 w-8 text-red-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rủi ro cao"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:v})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Gx,{className:"h-8 w-8 text-yellow-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rủi ro trung bình"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:_})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(X_,{className:"h-8 w-8 text-green-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rủi ro thấp"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:T})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Jl,{className:"h-8 w-8 text-blue-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đang xử lý"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:O})]})]})})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(mc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx("input",{type:"text",placeholder:"Tìm kiếm rủi ro...",value:t,onChange:S=>s(S.target.value),className:"pl-10 w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsx("div",{children:a.jsx("select",{value:n,onChange:S=>i(S.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:t9.map(S=>a.jsx("option",{value:S,children:S},S))})}),a.jsx("div",{children:a.jsx("select",{value:l,onChange:S=>c(S.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:s9.map(S=>a.jsx("option",{value:S,children:S==="Tất cả"?"Tất cả trạng thái":b(S)},S))})})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rủi ro"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dự án"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Xác suất"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tác động"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mức độ"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trạng thái"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Người phụ trách"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hạn xử lý"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(S=>{const C=h(S.probability,S.impact);return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:S.title}),a.jsx("div",{className:"text-sm text-gray-500 mt-1",children:S.category})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900",children:S.project})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:a.jsx("span",{className:`text-sm font-medium ${f(S.probability)}`,children:y(S.probability)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:a.jsx("span",{className:`text-sm font-medium ${g(S.impact)}`,children:j(S.impact)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C.color}`,children:C.level})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p(S.status)}`,children:b(S.status)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:S.owner}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-gray-500",children:S.dueDate})]},S.id)})})]})})}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Ma trận rủi ro"}),a.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:a.jsx("p",{className:"text-gray-500",children:"Ma trận rủi ro sẽ được hiển thị tại đây"})})]})]})},a9=[{id:"1",title:"Gate Review 4 - UAV Control System",type:"gate-review",project:"Hệ thống Điều khiển UAV Tự động",date:"2024-01-15",time:"09:00",duration:120,location:"Phòng họp A",attendees:["Nguyễn Văn A","Trần Thị B","Lê Văn C"],status:"scheduled",description:"Đánh giá tiến độ và chất lượng giai đoạn Thiết kế Chi tiết",isOnline:!1},{id:"2",title:"Weekly Progress Meeting",type:"progress",project:"Cảm biến Nhiệt độ IoT",date:"2024-01-16",time:"14:00",duration:60,location:"Microsoft Teams",attendees:["Trần Thị B","Phạm Văn D"],status:"scheduled",description:"Họp tiến độ hàng tuần cho dự án IoT",isOnline:!0,meetingLink:"https://teams.microsoft.com/..."},{id:"3",title:"Technical Review - AI Platform",type:"technical",project:"Platform AI cho Robot",date:"2024-01-18",time:"10:30",duration:90,location:"Phòng họp B",attendees:["Lê Văn C","Hoàng Thị E","Vũ Văn F"],status:"completed",description:"Đánh giá kỹ thuật kiến trúc hệ thống AI",isOnline:!1}],r9=[{value:"all",label:"Tất cả cuộc họp"},{value:"gate-review",label:"Gate Review"},{value:"progress",label:"Họp tiến độ"},{value:"planning",label:"Họp lập kế hoạch"},{value:"technical",label:"Họp kỹ thuật"}],i9=()=>{const[e]=N.useState(a9),[t,s]=N.useState("all"),[n,i]=N.useState("list"),l=e.filter(v=>t==="all"||v.type===t),c=v=>{switch(v){case"gate-review":return"bg-red-100 text-red-800";case"progress":return"bg-blue-100 text-blue-800";case"planning":return"bg-green-100 text-green-800";case"technical":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},u=v=>{switch(v){case"gate-review":return"Gate Review";case"progress":return"Họp tiến độ";case"planning":return"Lập kế hoạch";case"technical":return"Kỹ thuật";default:return v}},h=v=>{switch(v){case"scheduled":return"bg-blue-100 text-blue-800";case"in-progress":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},f=v=>{switch(v){case"scheduled":return"Đã lên lịch";case"in-progress":return"Đang diễn ra";case"completed":return"Hoàn thành";case"cancelled":return"Đã hủy";default:return v}},g=v=>new Date(v).toLocaleDateString("vi-VN",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),p=e.filter(v=>v.date==="2024-01-15").length,b=e.filter(v=>v.status==="scheduled").length,y=e.filter(v=>v.status==="completed").length,j=e.filter(v=>v.type==="gate-review").length;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Lịch họp"}),a.jsx("p",{className:"text-gray-600",children:"Quản lý cuộc họp và gate review"})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>i("list"),className:`px-3 py-1 rounded text-sm transition-colors ${n==="list"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:"Danh sách"}),a.jsx("button",{onClick:()=>i("calendar"),className:`px-3 py-1 rounded text-sm transition-colors ${n==="calendar"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:"Lịch"})]}),a.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[a.jsx(gr,{className:"h-4 w-4"}),"Tạo cuộc họp"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Vs,{className:"h-8 w-8 text-blue-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Hôm nay"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hi,{className:"h-8 w-8 text-green-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Sắp tới"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(G_,{className:"h-8 w-8 text-purple-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đã hoàn thành"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ds,{className:"h-8 w-8 text-red-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Gate Review"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j})]})]})})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Loại cuộc họp:"}),a.jsx("select",{value:t,onChange:v=>s(v.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:r9.map(v=>a.jsx("option",{value:v.value,children:v.label},v.value))})]})}),n==="list"?a.jsx("div",{className:"space-y-4",children:l.map(v=>a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:v.title}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c(v.type)}`,children:u(v.type)}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${h(v.status)}`,children:f(v.status)})]}),a.jsx("p",{className:"text-gray-600 mb-3",children:v.description}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm text-gray-500",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Vs,{className:"h-4 w-4 mr-2"}),g(v.date)]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hi,{className:"h-4 w-4 mr-2"}),v.time," (",v.duration," phút)"]}),a.jsxs("div",{className:"flex items-center",children:[v.isOnline?a.jsx(_j,{className:"h-4 w-4 mr-2"}):a.jsx(l5,{className:"h-4 w-4 mr-2"}),v.location]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Cn,{className:"h-4 w-4 mr-2"}),v.attendees.length," người tham gia"]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Dự án: ",a.jsx("span",{className:"font-medium",children:v.project})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:v.attendees.map((_,T)=>a.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded",children:_},T))})]})]}),a.jsxs("div",{className:"flex flex-col space-y-2 ml-4",children:[v.isOnline&&v.meetingLink&&a.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm flex items-center gap-1",children:[a.jsx(_j,{className:"h-3 w-3"}),"Tham gia"]}),a.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1 rounded text-sm",children:"Chi tiết"})]})]})},v.id))}):a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Lịch cuộc họp"}),a.jsx("div",{className:"h-96 bg-gray-50 rounded-lg flex items-center justify-center",children:a.jsx("p",{className:"text-gray-500",children:"Lịch cuộc họp sẽ được hiển thị tại đây"})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cuộc họp sắp tới"}),a.jsx("div",{className:"space-y-3",children:e.filter(v=>v.status==="scheduled").slice(0,3).map(v=>a.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:v.title}),a.jsxs("p",{className:"text-xs text-gray-500",children:[v.date," - ",v.time]})]})]},v.id))})]})]})},o9=[{id:"1",name:"Báo cáo tiến độ dự án tháng 1",type:"project",description:"Tổng hợp tiến độ thực hiện các dự án R&D trong tháng 1/2024",lastGenerated:"2024-01-15",status:"ready",format:"PDF"},{id:"2",name:"Phân tích chi phí quý 1",type:"financial",description:"Báo cáo chi tiết về tình hình tài chính và ngân sách dự án",lastGenerated:"2024-01-14",status:"ready",format:"Excel"},{id:"3",name:"Báo cáo hiệu suất nhân sự",type:"resource",description:"Đánh giá hiệu suất làm việc và phân bổ nguồn lực",lastGenerated:"2024-01-13",status:"generating",format:"PowerPoint"},{id:"4",name:"Dashboard KPI tổng quan",type:"performance",description:"Các chỉ số hiệu suất chính của tổ chức",lastGenerated:"2024-01-12",status:"ready",format:"PDF"}],l9=[{value:"all",label:"Tất cả báo cáo",icon:Ds},{value:"project",label:"Báo cáo dự án",icon:oc},{value:"financial",label:"Báo cáo tài chính",icon:$i},{value:"resource",label:"Báo cáo nguồn lực",icon:Cn},{value:"performance",label:"Báo cáo hiệu suất",icon:Jl}],c9=()=>{const[e]=N.useState(o9),[t,s]=N.useState("all"),[n,i]=N.useState("this-month"),l=e.filter(v=>t==="all"||v.type===t),c=v=>{switch(v){case"project":return"bg-blue-100 text-blue-800";case"financial":return"bg-green-100 text-green-800";case"resource":return"bg-purple-100 text-purple-800";case"performance":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},u=v=>{switch(v){case"project":return"Dự án";case"financial":return"Tài chính";case"resource":return"Nguồn lực";case"performance":return"Hiệu suất";default:return v}},h=v=>{switch(v){case"ready":return"bg-green-100 text-green-800";case"generating":return"bg-yellow-100 text-yellow-800";case"error":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},f=v=>{switch(v){case"ready":return"Sẵn sàng";case"generating":return"Đang tạo";case"error":return"Lỗi";default:return v}},g=v=>{switch(v){case"PDF":return"📄";case"Excel":return"📊";case"PowerPoint":return"📽️";default:return"📄"}},p=e.filter(v=>v.status==="ready").length,b=e.filter(v=>v.status==="generating").length,y=e.filter(v=>v.type==="project").length,j=e.filter(v=>v.type==="financial").length;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Báo cáo"}),a.jsx("p",{className:"text-gray-600",children:"Báo cáo và thống kê"})]}),a.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[a.jsx(Ds,{className:"h-4 w-4"}),"Tạo báo cáo mới"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ds,{className:"h-8 w-8 text-green-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Báo cáo sẵn sàng"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(oc,{className:"h-8 w-8 text-yellow-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đang tạo"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(_M,{className:"h-8 w-8 text-blue-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Báo cáo dự án"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx($i,{className:"h-8 w-8 text-purple-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Báo cáo tài chính"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j})]})]})})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loại báo cáo"}),a.jsx("select",{value:t,onChange:v=>s(v.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:l9.map(v=>a.jsx("option",{value:v.value,children:v.label},v.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Thời gian"}),a.jsxs("select",{value:n,onChange:v=>i(v.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"this-week",children:"Tuần này"}),a.jsx("option",{value:"this-month",children:"Tháng này"}),a.jsx("option",{value:"this-quarter",children:"Quý này"}),a.jsx("option",{value:"this-year",children:"Năm này"}),a.jsx("option",{value:"custom",children:"Tùy chọn"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs("button",{className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[a.jsx(pu,{className:"h-4 w-4"}),"Lọc"]})})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("button",{className:"bg-white hover:bg-gray-50 rounded-lg shadow-sm border border-gray-200 p-6 text-left transition-colors",children:[a.jsx(oc,{className:"h-8 w-8 text-blue-500 mb-3"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Báo cáo tiến độ"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Tổng quan tiến độ các dự án"})]}),a.jsxs("button",{className:"bg-white hover:bg-gray-50 rounded-lg shadow-sm border border-gray-200 p-6 text-left transition-colors",children:[a.jsx($i,{className:"h-8 w-8 text-green-500 mb-3"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Báo cáo tài chính"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Chi phí và ngân sách"})]}),a.jsxs("button",{className:"bg-white hover:bg-gray-50 rounded-lg shadow-sm border border-gray-200 p-6 text-left transition-colors",children:[a.jsx(Cn,{className:"h-8 w-8 text-purple-500 mb-3"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Báo cáo nhân sự"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Hiệu suất và phân bổ"})]}),a.jsxs("button",{className:"bg-white hover:bg-gray-50 rounded-lg shadow-sm border border-gray-200 p-6 text-left transition-colors",children:[a.jsx(Jl,{className:"h-8 w-8 text-orange-500 mb-3"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Dashboard KPI"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Chỉ số hiệu suất"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Báo cáo gần đây"})}),a.jsx("div",{className:"divide-y divide-gray-200",children:l.map(v=>a.jsx("div",{className:"p-6 hover:bg-gray-50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900",children:v.name}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c(v.type)}`,children:u(v.type)}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${h(v.status)}`,children:f(v.status)})]}),a.jsx("p",{className:"text-gray-600 mb-2",children:v.description}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Vs,{className:"h-4 w-4 mr-1"}),"Tạo: ",v.lastGenerated]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"mr-1",children:g(v.format)}),v.format]})]})]}),a.jsxs("div",{className:"flex space-x-2 ml-4",children:[v.status==="ready"&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm flex items-center gap-1",children:[a.jsx(lc,{className:"h-3 w-3"}),"Tải xuống"]}),a.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1 rounded text-sm",children:"Xem"})]}),v.status==="generating"&&a.jsxs("div",{className:"flex items-center text-yellow-600",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-yellow-600 border-t-transparent mr-2"}),"Đang tạo..."]}),a.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1 rounded text-sm",children:"Tạo lại"})]})]})},v.id))})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Tiến độ dự án theo thời gian"}),a.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:a.jsx("p",{className:"text-gray-500",children:"Biểu đồ tiến độ sẽ được hiển thị tại đây"})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Phân bổ ngân sách theo dự án"}),a.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:a.jsx("p",{className:"text-gray-500",children:"Biểu đồ ngân sách sẽ được hiển thị tại đây"})})]})]})]})},dC=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thông tin tổ chức"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tên tổ chức"}),a.jsx("input",{type:"text",defaultValue:"R&D Management",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email liên hệ"}),a.jsx("input",{type:"email",defaultValue:"admin@company.com",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số điện thoại"}),a.jsx("input",{type:"tel",defaultValue:"+84 123 456 789",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Múi giờ"}),a.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"Asia/Ho_Chi_Minh",children:"UTC+7 (Việt Nam)"}),a.jsx("option",{value:"UTC",children:"UTC"}),a.jsx("option",{value:"Asia/Tokyo",children:"UTC+9 (Nhật Bản)"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cài đặt hệ thống"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Cho phép đăng ký mới"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Cho phép người dùng mới tự đăng ký tài khoản"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Yêu cầu xác thực 2 lớp"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Bắt buộc người dùng sử dụng 2FA"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})]});rr.register(cu,du,ac,My,Ry,Oy);rr.register(cu,du,ac,My,Ry,Oy);const d9=()=>{const{currentUser:e}=nS(),{roles:t,isLoading:s,error:n}=NP(e||void 0);return s?a.jsx("div",{className:"flex justify-center items-center h-32",children:a.jsx(hc,{})}):n?a.jsx("div",{className:"text-red-600 text-sm",children:"Có lỗi xảy ra khi tải thông tin vai trò"}):a.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Vai trò của bạn"}),t&&t.length>0?a.jsx("div",{className:"space-y-2",children:t.map((i,l)=>a.jsx("div",{className:"inline-block bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium mr-2 mb-2",children:i.role},l))}):a.jsx("p",{className:"text-gray-500 text-sm",children:"Chưa có vai trò được gán"}),a.jsx("p",{className:"text-xs text-gray-400 mt-4",children:"Vai trò quyết định quyền truy cập và chức năng mà bạn có thể sử dụng trong hệ thống."})]})},uC=6048e5,u9=864e5,O2=Symbol.for("constructDateFrom");function Ki(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&O2 in e?e[O2](t):e instanceof Date?new e.constructor(t):new Date(t)}function qa(e,t){return Ki(t||e,e)}let h9={};function Rm(){return h9}function uu(e,t){var u,h,f,g,p,b,y,j;const s=Rm(),n=(j=(y=(g=(f=t==null?void 0:t.weekStartsOn)!=null?f:(h=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)!=null?g:s.weekStartsOn)!=null?y:(b=(p=s.locale)==null?void 0:p.options)==null?void 0:b.weekStartsOn)!=null?j:0,i=qa(e,t==null?void 0:t.in),l=i.getDay(),c=(l<n?7:0)+l-n;return i.setDate(i.getDate()-c),i.setHours(0,0,0,0),i}function rm(e,t){return uu(e,oe(z({},t),{weekStartsOn:1}))}function hC(e,t){const s=qa(e,t==null?void 0:t.in),n=s.getFullYear(),i=Ki(s,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const l=rm(i),c=Ki(s,0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);const u=rm(c);return s.getTime()>=l.getTime()?n+1:s.getTime()>=u.getTime()?n:n-1}function M2(e){const t=qa(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function f9(e,...t){const s=Ki.bind(null,t.find(n=>typeof n=="object"));return t.map(s)}function R2(e,t){const s=qa(e,t==null?void 0:t.in);return s.setHours(0,0,0,0),s}function m9(e,t,s){const[n,i]=f9(s==null?void 0:s.in,e,t),l=R2(n),c=R2(i),u=+l-M2(l),h=+c-M2(c);return Math.round((u-h)/u9)}function g9(e,t){const s=hC(e,t),n=Ki(e,0);return n.setFullYear(s,0,4),n.setHours(0,0,0,0),rm(n)}function p9(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function x9(e){return!(!p9(e)&&typeof e!="number"||isNaN(+qa(e)))}function y9(e,t){const s=qa(e,t==null?void 0:t.in);return s.setFullYear(s.getFullYear(),0,1),s.setHours(0,0,0,0),s}const b9={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},v9=(e,t,s)=>{let n;const i=b9[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+n:n+" ago":n};function ic(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const w9={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},j9={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},N9={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_9={date:ic({formats:w9,defaultWidth:"full"}),time:ic({formats:j9,defaultWidth:"full"}),dateTime:ic({formats:N9,defaultWidth:"full"})},T9={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},S9=(e,t,s,n)=>T9[e];function or(e){return(t,s)=>{const n=s!=null&&s.context?String(s.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,u=s!=null&&s.width?String(s.width):c;i=e.formattingValues[u]||e.formattingValues[c]}else{const c=e.defaultWidth,u=s!=null&&s.width?String(s.width):e.defaultWidth;i=e.values[u]||e.values[c]}const l=e.argumentCallback?e.argumentCallback(t):t;return i[l]}}const k9={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},C9={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},E9={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},D9={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},A9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},O9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},M9=(e,t)=>{const s=Number(e),n=s%100;if(n>20||n<10)switch(n%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},R9={ordinalNumber:M9,era:or({values:k9,defaultWidth:"wide"}),quarter:or({values:C9,defaultWidth:"wide",argumentCallback:e=>e-1}),month:or({values:E9,defaultWidth:"wide"}),day:or({values:D9,defaultWidth:"wide"}),dayPeriod:or({values:A9,defaultWidth:"wide",formattingValues:O9,defaultFormattingWidth:"wide"})};function lr(e){return(t,s={})=>{const n=s.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],l=t.match(i);if(!l)return null;const c=l[0],u=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(u)?L9(u,p=>p.test(c)):P9(u,p=>p.test(c));let f;f=e.valueCallback?e.valueCallback(h):h,f=s.valueCallback?s.valueCallback(f):f;const g=t.slice(c.length);return{value:f,rest:g}}}function P9(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function L9(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function fC(e){return(t,s={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],l=t.match(e.parsePattern);if(!l)return null;let c=e.valueCallback?e.valueCallback(l[0]):l[0];c=s.valueCallback?s.valueCallback(c):c;const u=t.slice(i.length);return{value:c,rest:u}}}const B9=/^(\d+)(th|st|nd|rd)?/i,F9=/\d+/i,z9={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},U9={any:[/^b/i,/^(a|c)/i]},H9={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},$9={any:[/1/i,/2/i,/3/i,/4/i]},V9={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},I9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},q9={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},W9={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Y9={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},G9={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},X9={ordinalNumber:fC({matchPattern:B9,parsePattern:F9,valueCallback:e=>parseInt(e,10)}),era:lr({matchPatterns:z9,defaultMatchWidth:"wide",parsePatterns:U9,defaultParseWidth:"any"}),quarter:lr({matchPatterns:H9,defaultMatchWidth:"wide",parsePatterns:$9,defaultParseWidth:"any",valueCallback:e=>e+1}),month:lr({matchPatterns:V9,defaultMatchWidth:"wide",parsePatterns:I9,defaultParseWidth:"any"}),day:lr({matchPatterns:q9,defaultMatchWidth:"wide",parsePatterns:W9,defaultParseWidth:"any"}),dayPeriod:lr({matchPatterns:Y9,defaultMatchWidth:"any",parsePatterns:G9,defaultParseWidth:"any"})},K9={code:"en-US",formatDistance:v9,formatLong:_9,formatRelative:S9,localize:R9,match:X9,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Q9(e,t){const s=qa(e,t==null?void 0:t.in);return m9(s,y9(s))+1}function Z9(e,t){const s=qa(e,t==null?void 0:t.in),n=+rm(s)-+g9(s);return Math.round(n/uC)+1}function mC(e,t){var g,p,b,y,j,v,_,T;const s=qa(e,t==null?void 0:t.in),n=s.getFullYear(),i=Rm(),l=(T=(_=(y=(b=t==null?void 0:t.firstWeekContainsDate)!=null?b:(p=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:p.firstWeekContainsDate)!=null?y:i.firstWeekContainsDate)!=null?_:(v=(j=i.locale)==null?void 0:j.options)==null?void 0:v.firstWeekContainsDate)!=null?T:1,c=Ki((t==null?void 0:t.in)||e,0);c.setFullYear(n+1,0,l),c.setHours(0,0,0,0);const u=uu(c,t),h=Ki((t==null?void 0:t.in)||e,0);h.setFullYear(n,0,l),h.setHours(0,0,0,0);const f=uu(h,t);return+s>=+u?n+1:+s>=+f?n:n-1}function J9(e,t){var u,h,f,g,p,b,y,j;const s=Rm(),n=(j=(y=(g=(f=t==null?void 0:t.firstWeekContainsDate)!=null?f:(h=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)!=null?g:s.firstWeekContainsDate)!=null?y:(b=(p=s.locale)==null?void 0:p.options)==null?void 0:b.firstWeekContainsDate)!=null?j:1,i=mC(e,t),l=Ki((t==null?void 0:t.in)||e,0);return l.setFullYear(i,0,n),l.setHours(0,0,0,0),uu(l,t)}function eH(e,t){const s=qa(e,t==null?void 0:t.in),n=+uu(s,t)-+J9(s,t);return Math.round(n/uC)+1}function ts(e,t){const s=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return s+n}const ki={y(e,t){const s=e.getFullYear(),n=s>0?s:1-s;return ts(t==="yy"?n%100:n,t.length)},M(e,t){const s=e.getMonth();return t==="M"?String(s+1):ts(s+1,2)},d(e,t){return ts(e.getDate(),t.length)},a(e,t){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,t){return ts(e.getHours()%12||12,t.length)},H(e,t){return ts(e.getHours(),t.length)},m(e,t){return ts(e.getMinutes(),t.length)},s(e,t){return ts(e.getSeconds(),t.length)},S(e,t){const s=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,s-3));return ts(i,t.length)}},Il={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},P2={G:function(e,t,s){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})}},y:function(e,t,s){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return s.ordinalNumber(i,{unit:"year"})}return ki.y(e,t)},Y:function(e,t,s,n){const i=mC(e,n),l=i>0?i:1-i;if(t==="YY"){const c=l%100;return ts(c,2)}return t==="Yo"?s.ordinalNumber(l,{unit:"year"}):ts(l,t.length)},R:function(e,t){const s=hC(e);return ts(s,t.length)},u:function(e,t){const s=e.getFullYear();return ts(s,t.length)},Q:function(e,t,s){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ts(n,2);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,s){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ts(n,2);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,s){const n=e.getMonth();switch(t){case"M":case"MM":return ki.M(e,t);case"Mo":return s.ordinalNumber(n+1,{unit:"month"});case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,s){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ts(n+1,2);case"Lo":return s.ordinalNumber(n+1,{unit:"month"});case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,s,n){const i=eH(e,n);return t==="wo"?s.ordinalNumber(i,{unit:"week"}):ts(i,t.length)},I:function(e,t,s){const n=Z9(e);return t==="Io"?s.ordinalNumber(n,{unit:"week"}):ts(n,t.length)},d:function(e,t,s){return t==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):ki.d(e,t)},D:function(e,t,s){const n=Q9(e);return t==="Do"?s.ordinalNumber(n,{unit:"dayOfYear"}):ts(n,t.length)},E:function(e,t,s){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,s,n){const i=e.getDay(),l=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return ts(l,2);case"eo":return s.ordinalNumber(l,{unit:"day"});case"eee":return s.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,s,n){const i=e.getDay(),l=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return ts(l,t.length);case"co":return s.ordinalNumber(l,{unit:"day"});case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,s){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return ts(i,t.length);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return s.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(n,{width:"short",context:"formatting"});case"iiii":default:return s.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,s){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,s){const n=e.getHours();let i;switch(n===12?i=Il.noon:n===0?i=Il.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,s){const n=e.getHours();let i;switch(n>=17?i=Il.evening:n>=12?i=Il.afternoon:n>=4?i=Il.morning:i=Il.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,s){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),s.ordinalNumber(n,{unit:"hour"})}return ki.h(e,t)},H:function(e,t,s){return t==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):ki.H(e,t)},K:function(e,t,s){const n=e.getHours()%12;return t==="Ko"?s.ordinalNumber(n,{unit:"hour"}):ts(n,t.length)},k:function(e,t,s){let n=e.getHours();return n===0&&(n=24),t==="ko"?s.ordinalNumber(n,{unit:"hour"}):ts(n,t.length)},m:function(e,t,s){return t==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):ki.m(e,t)},s:function(e,t,s){return t==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):ki.s(e,t)},S:function(e,t){return ki.S(e,t)},X:function(e,t,s){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return B2(n);case"XXXX":case"XX":return Mo(n);case"XXXXX":case"XXX":default:return Mo(n,":")}},x:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"x":return B2(n);case"xxxx":case"xx":return Mo(n);case"xxxxx":case"xxx":default:return Mo(n,":")}},O:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+L2(n,":");case"OOOO":default:return"GMT"+Mo(n,":")}},z:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+L2(n,":");case"zzzz":default:return"GMT"+Mo(n,":")}},t:function(e,t,s){const n=Math.trunc(+e/1e3);return ts(n,t.length)},T:function(e,t,s){return ts(+e,t.length)}};function L2(e,t=""){const s=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),l=n%60;return l===0?s+String(i):s+String(i)+t+ts(l,2)}function B2(e,t){return e%60===0?(e>0?"-":"+")+ts(Math.abs(e)/60,2):Mo(e,t)}function Mo(e,t=""){const s=e>0?"-":"+",n=Math.abs(e),i=ts(Math.trunc(n/60),2),l=ts(n%60,2);return s+i+t+l}const F2=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},gC=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},tH=(e,t)=>{const s=e.match(/(P+)(p+)?/)||[],n=s[1],i=s[2];if(!i)return F2(e,t);let l;switch(n){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;case"PPPP":default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",F2(n,t)).replace("{{time}}",gC(i,t))},sH={p:gC,P:tH},nH=/^D+$/,aH=/^Y+$/,rH=["D","DD","YY","YYYY"];function iH(e){return nH.test(e)}function oH(e){return aH.test(e)}function lH(e,t,s){const n=cH(e,t,s);if(console.warn(n),rH.includes(e))throw new RangeError(n)}function cH(e,t,s){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const dH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,uH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hH=/^'([^]*?)'?$/,fH=/''/g,mH=/[a-zA-Z]/;function gH(e,t,s){var g,p,b,y,j,v,_,T,O,S,C,D,E,L,F,R,K,W;const n=Rm(),i=(p=(g=s==null?void 0:s.locale)!=null?g:n.locale)!=null?p:K9,l=(S=(O=(v=(j=s==null?void 0:s.firstWeekContainsDate)!=null?j:(y=(b=s==null?void 0:s.locale)==null?void 0:b.options)==null?void 0:y.firstWeekContainsDate)!=null?v:n.firstWeekContainsDate)!=null?O:(T=(_=n.locale)==null?void 0:_.options)==null?void 0:T.firstWeekContainsDate)!=null?S:1,c=(W=(K=(L=(E=s==null?void 0:s.weekStartsOn)!=null?E:(D=(C=s==null?void 0:s.locale)==null?void 0:C.options)==null?void 0:D.weekStartsOn)!=null?L:n.weekStartsOn)!=null?K:(R=(F=n.locale)==null?void 0:F.options)==null?void 0:R.weekStartsOn)!=null?W:0,u=qa(e,s==null?void 0:s.in);if(!x9(u))throw new RangeError("Invalid time value");let h=t.match(uH).map(Q=>{const H=Q[0];if(H==="p"||H==="P"){const q=sH[H];return q(Q,i.formatLong)}return Q}).join("").match(dH).map(Q=>{if(Q==="''")return{isToken:!1,value:"'"};const H=Q[0];if(H==="'")return{isToken:!1,value:pH(Q)};if(P2[H])return{isToken:!0,value:Q};if(H.match(mH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+H+"`");return{isToken:!1,value:Q}});i.localize.preprocessor&&(h=i.localize.preprocessor(u,h));const f={firstWeekContainsDate:l,weekStartsOn:c,locale:i};return h.map(Q=>{if(!Q.isToken)return Q.value;const H=Q.value;(!(s!=null&&s.useAdditionalWeekYearTokens)&&oH(H)||!(s!=null&&s.useAdditionalDayOfYearTokens)&&iH(H))&&lH(H,t,String(e));const q=P2[H[0]];return q(u,H,i.localize,f)}).join("")}function pH(e){const t=e.match(hH);return t?t[1].replace(fH,"'"):e}const xH={lessThanXSeconds:{one:"dưới 1 giây",other:"dưới {{count}} giây"},xSeconds:{one:"1 giây",other:"{{count}} giây"},halfAMinute:"nửa phút",lessThanXMinutes:{one:"dưới 1 phút",other:"dưới {{count}} phút"},xMinutes:{one:"1 phút",other:"{{count}} phút"},aboutXHours:{one:"khoảng 1 giờ",other:"khoảng {{count}} giờ"},xHours:{one:"1 giờ",other:"{{count}} giờ"},xDays:{one:"1 ngày",other:"{{count}} ngày"},aboutXWeeks:{one:"khoảng 1 tuần",other:"khoảng {{count}} tuần"},xWeeks:{one:"1 tuần",other:"{{count}} tuần"},aboutXMonths:{one:"khoảng 1 tháng",other:"khoảng {{count}} tháng"},xMonths:{one:"1 tháng",other:"{{count}} tháng"},aboutXYears:{one:"khoảng 1 năm",other:"khoảng {{count}} năm"},xYears:{one:"1 năm",other:"{{count}} năm"},overXYears:{one:"hơn 1 năm",other:"hơn {{count}} năm"},almostXYears:{one:"gần 1 năm",other:"gần {{count}} năm"}},yH=(e,t,s)=>{let n;const i=xH[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",String(t)),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?n+" nữa":n+" trước":n},bH={full:"EEEE, 'ngày' d MMMM 'năm' y",long:"'ngày' d MMMM 'năm' y",medium:"d MMM 'năm' y",short:"dd/MM/y"},vH={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},wH={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},jH={date:ic({formats:bH,defaultWidth:"full"}),time:ic({formats:vH,defaultWidth:"full"}),dateTime:ic({formats:wH,defaultWidth:"full"})},NH={lastWeek:"eeee 'tuần trước vào lúc' p",yesterday:"'hôm qua vào lúc' p",today:"'hôm nay vào lúc' p",tomorrow:"'ngày mai vào lúc' p",nextWeek:"eeee 'tới vào lúc' p",other:"P"},_H=(e,t,s,n)=>NH[e],TH={narrow:["TCN","SCN"],abbreviated:["trước CN","sau CN"],wide:["trước Công Nguyên","sau Công Nguyên"]},SH={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["Quý 1","Quý 2","Quý 3","Quý 4"]},kH={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["quý I","quý II","quý III","quý IV"]},CH={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["Thg 1","Thg 2","Thg 3","Thg 4","Thg 5","Thg 6","Thg 7","Thg 8","Thg 9","Thg 10","Thg 11","Thg 12"],wide:["Tháng Một","Tháng Hai","Tháng Ba","Tháng Tư","Tháng Năm","Tháng Sáu","Tháng Bảy","Tháng Tám","Tháng Chín","Tháng Mười","Tháng Mười Một","Tháng Mười Hai"]},EH={narrow:["01","02","03","04","05","06","07","08","09","10","11","12"],abbreviated:["thg 1","thg 2","thg 3","thg 4","thg 5","thg 6","thg 7","thg 8","thg 9","thg 10","thg 11","thg 12"],wide:["tháng 01","tháng 02","tháng 03","tháng 04","tháng 05","tháng 06","tháng 07","tháng 08","tháng 09","tháng 10","tháng 11","tháng 12"]},DH={narrow:["CN","T2","T3","T4","T5","T6","T7"],short:["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"],abbreviated:["CN","Thứ 2","Thứ 3","Thứ 4","Thứ 5","Thứ 6","Thứ 7"],wide:["Chủ Nhật","Thứ Hai","Thứ Ba","Thứ Tư","Thứ Năm","Thứ Sáu","Thứ Bảy"]},AH={narrow:{am:"am",pm:"pm",midnight:"nửa đêm",noon:"tr",morning:"sg",afternoon:"ch",evening:"tối",night:"đêm"},abbreviated:{am:"AM",pm:"PM",midnight:"nửa đêm",noon:"trưa",morning:"sáng",afternoon:"chiều",evening:"tối",night:"đêm"},wide:{am:"SA",pm:"CH",midnight:"nửa đêm",noon:"trưa",morning:"sáng",afternoon:"chiều",evening:"tối",night:"đêm"}},OH={narrow:{am:"am",pm:"pm",midnight:"nửa đêm",noon:"tr",morning:"sg",afternoon:"ch",evening:"tối",night:"đêm"},abbreviated:{am:"AM",pm:"PM",midnight:"nửa đêm",noon:"trưa",morning:"sáng",afternoon:"chiều",evening:"tối",night:"đêm"},wide:{am:"SA",pm:"CH",midnight:"nửa đêm",noon:"giữa trưa",morning:"vào buổi sáng",afternoon:"vào buổi chiều",evening:"vào buổi tối",night:"vào ban đêm"}},MH=(e,t)=>{const s=Number(e),n=t==null?void 0:t.unit;if(n==="quarter")switch(s){case 1:return"I";case 2:return"II";case 3:return"III";case 4:return"IV"}else if(n==="day")switch(s){case 1:return"thứ 2";case 2:return"thứ 3";case 3:return"thứ 4";case 4:return"thứ 5";case 5:return"thứ 6";case 6:return"thứ 7";case 7:return"chủ nhật"}else{if(n==="week")return s===1?"thứ nhất":"thứ "+s;if(n==="dayOfYear")return s===1?"đầu tiên":"thứ "+s}return String(s)},RH={ordinalNumber:MH,era:or({values:TH,defaultWidth:"wide"}),quarter:or({values:SH,defaultWidth:"wide",formattingValues:kH,defaultFormattingWidth:"wide",argumentCallback:e=>e-1}),month:or({values:CH,defaultWidth:"wide",formattingValues:EH,defaultFormattingWidth:"wide"}),day:or({values:DH,defaultWidth:"wide"}),dayPeriod:or({values:AH,defaultWidth:"wide",formattingValues:OH,defaultFormattingWidth:"wide"})},PH=/^(\d+)/i,LH=/\d+/i,BH={narrow:/^(tcn|scn)/i,abbreviated:/^(trước CN|sau CN)/i,wide:/^(trước Công Nguyên|sau Công Nguyên)/i},FH={any:[/^t/i,/^s/i]},zH={narrow:/^([1234]|i{1,3}v?)/i,abbreviated:/^q([1234]|i{1,3}v?)/i,wide:/^quý ([1234]|i{1,3}v?)/i},UH={any:[/(1|i)$/i,/(2|ii)$/i,/(3|iii)$/i,/(4|iv)$/i]},HH={narrow:/^(0?[2-9]|10|11|12|0?1)/i,abbreviated:/^thg[ _]?(0?[1-9](?!\d)|10|11|12)/i,wide:/^tháng ?(Một|Hai|Ba|Tư|Năm|Sáu|Bảy|Tám|Chín|Mười|Mười ?Một|Mười ?Hai|0?[1-9](?!\d)|10|11|12)/i},$H={narrow:[/0?1$/i,/0?2/i,/3/,/4/,/5/,/6/,/7/,/8/,/9/,/10/,/11/,/12/],abbreviated:[/^thg[ _]?0?1(?!\d)/i,/^thg[ _]?0?2/i,/^thg[ _]?0?3/i,/^thg[ _]?0?4/i,/^thg[ _]?0?5/i,/^thg[ _]?0?6/i,/^thg[ _]?0?7/i,/^thg[ _]?0?8/i,/^thg[ _]?0?9/i,/^thg[ _]?10/i,/^thg[ _]?11/i,/^thg[ _]?12/i],wide:[/^tháng ?(Một|0?1(?!\d))/i,/^tháng ?(Hai|0?2)/i,/^tháng ?(Ba|0?3)/i,/^tháng ?(Tư|0?4)/i,/^tháng ?(Năm|0?5)/i,/^tháng ?(Sáu|0?6)/i,/^tháng ?(Bảy|0?7)/i,/^tháng ?(Tám|0?8)/i,/^tháng ?(Chín|0?9)/i,/^tháng ?(Mười|10)/i,/^tháng ?(Mười ?Một|11)/i,/^tháng ?(Mười ?Hai|12)/i]},VH={narrow:/^(CN|T2|T3|T4|T5|T6|T7)/i,short:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,abbreviated:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,wide:/^(Chủ ?Nhật|Chúa ?Nhật|thứ ?Hai|thứ ?Ba|thứ ?Tư|thứ ?Năm|thứ ?Sáu|thứ ?Bảy)/i},IH={narrow:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],short:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],abbreviated:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],wide:[/(Chủ|Chúa) ?Nhật/i,/Hai/i,/Ba/i,/Tư/i,/Năm/i,/Sáu/i,/Bảy/i]},qH={narrow:/^(a|p|nửa đêm|trưa|(giờ) (sáng|chiều|tối|đêm))/i,abbreviated:/^(am|pm|nửa đêm|trưa|(giờ) (sáng|chiều|tối|đêm))/i,wide:/^(ch[^i]*|sa|nửa đêm|trưa|(giờ) (sáng|chiều|tối|đêm))/i},WH={any:{am:/^(a|sa)/i,pm:/^(p|ch[^i]*)/i,midnight:/nửa đêm/i,noon:/trưa/i,morning:/sáng/i,afternoon:/chiều/i,evening:/tối/i,night:/^đêm/i}},YH={ordinalNumber:fC({matchPattern:PH,parsePattern:LH,valueCallback:e=>parseInt(e,10)}),era:lr({matchPatterns:BH,defaultMatchWidth:"wide",parsePatterns:FH,defaultParseWidth:"any"}),quarter:lr({matchPatterns:zH,defaultMatchWidth:"wide",parsePatterns:UH,defaultParseWidth:"any",valueCallback:e=>e+1}),month:lr({matchPatterns:HH,defaultMatchWidth:"wide",parsePatterns:$H,defaultParseWidth:"wide"}),day:lr({matchPatterns:VH,defaultMatchWidth:"wide",parsePatterns:IH,defaultParseWidth:"wide"}),dayPeriod:lr({matchPatterns:qH,defaultMatchWidth:"wide",parsePatterns:WH,defaultParseWidth:"any"})},GH={code:"vi",formatDistance:yH,formatLong:jH,formatRelative:_H,localize:RH,match:YH,options:{weekStartsOn:1,firstWeekContainsDate:1}},XH=()=>{const{currentUserProfile:e,isLoading:t,error:s}=jm();if(t)return a.jsx("div",{className:"flex justify-center items-center h-32",children:a.jsx(hc,{})});if(s)return a.jsx("div",{className:"text-red-600 text-sm",children:"Có lỗi xảy ra khi tải thông tin hoạt động"});const n=i=>{if(!i)return"Chưa có thông tin";try{return gH(new Date(i),"dd/MM/yyyy HH:mm",{locale:GH})}catch(l){return"Ngày không hợp lệ"}};return a.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thông tin hoạt động"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Lần đăng nhập cuối"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:n(e==null?void 0:e.last_login)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hoạt động cuối"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:n(e==null?void 0:e.last_active)})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ngày tạo tài khoản"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:n(e==null?void 0:e.creation)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Trạng thái tài khoản"}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mt-1 ${e!=null&&e.enabled?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e!=null&&e.enabled?"Hoạt động":"Bị vô hiệu hóa"})]})]})]}),a.jsx("div",{className:"mt-4 pt-4 border-t",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Loại người dùng"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:(e==null?void 0:e.user_type)||"Chưa xác định"})]})})]})},KH=()=>{const{currentUserProfile:e,isLoading:t,error:s,mutate:n}=jm(),{updateProfile:i,loading:l}=aS();if(t)return a.jsx("div",{className:"flex justify-center items-center h-32",children:a.jsx(hc,{})});if(s)return a.jsx("div",{className:"text-red-600 text-sm",children:"Có lỗi xảy ra khi tải tùy chỉnh"});const c=(u,h)=>fe(null,null,function*(){if(e)try{yield i(e.name,{[u]:h}),As.success("Tùy chỉnh đã được cập nhật thành công"),n()}catch(f){As.error("Có lỗi xảy ra khi cập nhật tùy chỉnh"),console.error("Update preference error:",f)}});return a.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Tùy chỉnh giao diện"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Giao diện"}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:["Light","Dark","Automatic"].map(u=>a.jsxs("button",{onClick:()=>c("desk_theme",u),disabled:l,className:`p-3 border rounded-lg text-sm font-medium transition-colors ${(e==null?void 0:e.desk_theme)===u?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 bg-white text-gray-700 hover:bg-gray-50"} disabled:opacity-50`,children:[u==="Light"&&"☀️ Sáng",u==="Dark"&&"🌙 Tối",u==="Automatic"&&"🔄 Tự động"]},u))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Cài đặt thông báo"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:!!(e!=null&&e.notifications),onChange:u=>c("notifications",u.target.checked?1:0),disabled:l,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:opacity-50"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Nhận thông báo"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:!!(e!=null&&e.mute_sounds),onChange:u=>c("mute_sounds",u.target.checked?1:0),disabled:l,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:opacity-50"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Tắt âm thanh thông báo"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:!!(e!=null&&e.document_follow_notify),onChange:u=>c("document_follow_notify",u.target.checked?1:0),disabled:l,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:opacity-50"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Thông báo tài liệu theo dõi"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Tùy chỉnh giao diện"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:!!(e!=null&&e.search_bar),onChange:u=>c("search_bar",u.target.checked?1:0),disabled:l,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:opacity-50"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Hiển thị thanh tìm kiếm"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:!!(e!=null&&e.list_sidebar),onChange:u=>c("list_sidebar",u.target.checked?1:0),disabled:l,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:opacity-50"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Hiển thị sidebar danh sách"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:!!(e!=null&&e.form_sidebar),onChange:u=>c("form_sidebar",u.target.checked?1:0),disabled:l,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:opacity-50"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Hiển thị sidebar form"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:!!(e!=null&&e.timeline),onChange:u=>c("timeline",u.target.checked?1:0),disabled:l,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:opacity-50"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Hiển thị timeline"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:!!(e!=null&&e.dashboard),onChange:u=>c("dashboard",u.target.checked?1:0),disabled:l,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:opacity-50"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Hiển thị dashboard"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Cài đặt email"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:!!(e!=null&&e.send_me_a_copy),onChange:u=>c("send_me_a_copy",u.target.checked?1:0),disabled:l,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:opacity-50"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Gửi bản sao email cho tôi"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:!!(e!=null&&e.thread_notify),onChange:u=>c("thread_notify",u.target.checked?1:0),disabled:l,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:opacity-50"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Thông báo email thread"})]})]})]})]}),l&&a.jsxs("div",{className:"mt-4 text-sm text-blue-600 flex items-center",children:[a.jsx(hc,{}),a.jsx("span",{className:"ml-2",children:"Đang cập nhật..."})]})]})},QH=()=>{var F,R,K,W;const{currentUserProfile:e,isLoading:t,error:s,mutate:n}=jm(),{updateProfile:i,loading:l}=aS(),{changePassword:c,loading:u}=wP(),{uploadImage:h,loading:f}=jP(),[g,p]=N.useState({first_name:"",last_name:"",email:"",phone:"",mobile_no:"",bio:"",location:"",gender:"",birth_date:""}),[b,y]=N.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[j,v]=N.useState(null),[_,T]=N.useState("");N.useEffect(()=>{e&&(p({first_name:e.first_name||"",last_name:e.last_name||"",email:e.email||"",phone:e.phone||"",mobile_no:e.mobile_no||"",bio:e.bio||"",location:e.location||"",gender:e.gender||"",birth_date:e.birth_date||""}),e.user_image&&T(e.user_image))},[e]);const O=(Q,H)=>{p(q=>oe(z({},q),{[Q]:H}))},S=(Q,H)=>{y(q=>oe(z({},q),{[Q]:H}))},C=Q=>{var q;const H=(q=Q.target.files)==null?void 0:q[0];if(H){v(H);const Y=new FileReader;Y.onload=$=>{var J;T((J=$.target)==null?void 0:J.result)},Y.readAsDataURL(H)}},D=()=>fe(null,null,function*(){if(!(!j||!e))try{yield h(j,e.name),As.success("Ảnh đại diện đã được cập nhật thành công"),n(),v(null)}catch(Q){As.error("Có lỗi xảy ra khi tải ảnh lên"),console.error("Upload error:",Q)}}),E=()=>fe(null,null,function*(){if(e)try{yield i(e.name,g),As.success("Thông tin cá nhân đã được cập nhật thành công"),n()}catch(Q){As.error("Có lỗi xảy ra khi cập nhật thông tin"),console.error("Update error:",Q)}}),L=()=>fe(null,null,function*(){if(b.newPassword!==b.confirmPassword){As.error("Mật khẩu mới và xác nhận mật khẩu không khớp");return}if(b.newPassword.length<6){As.error("Mật khẩu mới phải có ít nhất 6 ký tự");return}try{yield c(b.currentPassword,b.newPassword),As.success("Mật khẩu đã được thay đổi thành công"),y({currentPassword:"",newPassword:"",confirmPassword:""})}catch(Q){As.error("Có lỗi xảy ra khi thay đổi mật khẩu"),console.error("Password change error:",Q)}});return t?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx(hc,{})}):s?a.jsx("div",{className:"text-center text-red-600 p-4",children:"Có lỗi xảy ra khi tải thông tin người dùng"}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thông tin cá nhân"}),a.jsxs("div",{className:"flex items-center space-x-6 mb-6",children:[a.jsx("div",{className:"w-24 h-24 bg-blue-600 rounded-full flex items-center justify-center overflow-hidden",children:_?a.jsx("img",{src:_,alt:"User Avatar",className:"w-full h-full object-cover"}):a.jsxs("span",{className:"text-white font-bold text-2xl",children:[((R=(F=e==null?void 0:e.first_name)==null?void 0:F[0])==null?void 0:R.toUpperCase())||"U",((W=(K=e==null?void 0:e.last_name)==null?void 0:K[0])==null?void 0:W.toUpperCase())||"S"]})}),a.jsxs("div",{children:[a.jsx("input",{type:"file",accept:"image/*",onChange:C,className:"hidden",id:"avatar-upload"}),a.jsx("label",{htmlFor:"avatar-upload",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg mr-3 cursor-pointer inline-block",children:"Chọn ảnh"}),j&&a.jsx("button",{onClick:D,disabled:f,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg mr-3 disabled:opacity-50",children:f?"Đang tải...":"Cập nhật ảnh"}),a.jsx("button",{onClick:()=>{T(""),v(null)},className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg",children:"Xóa ảnh"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Họ"}),a.jsx("input",{type:"text",value:g.first_name,onChange:Q=>O("first_name",Q.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tên"}),a.jsx("input",{type:"text",value:g.last_name,onChange:Q=>O("last_name",Q.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),a.jsx("input",{type:"email",value:g.email,onChange:Q=>O("email",Q.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số điện thoại"}),a.jsx("input",{type:"text",value:g.phone||"",onChange:Q=>O("phone",Q.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số di động"}),a.jsx("input",{type:"text",value:g.mobile_no||"",onChange:Q=>O("mobile_no",Q.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Giới tính"}),a.jsxs("select",{value:g.gender||"",onChange:Q=>O("gender",Q.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Chọn giới tính"}),a.jsx("option",{value:"Male",children:"Nam"}),a.jsx("option",{value:"Female",children:"Nữ"}),a.jsx("option",{value:"Other",children:"Khác"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ngày sinh"}),a.jsx("input",{type:"date",value:g.birth_date||"",onChange:Q=>O("birth_date",Q.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Địa chỉ"}),a.jsx("input",{type:"text",value:g.location||"",onChange:Q=>O("location",Q.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Giới thiệu bản thân"}),a.jsx("textarea",{value:g.bio||"",onChange:Q=>O("bio",Q.target.value),rows:3,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),a.jsx("button",{onClick:E,disabled:l,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg disabled:opacity-50",children:l?"Đang cập nhật...":"Cập nhật thông tin"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thay đổi mật khẩu"}),a.jsxs("div",{className:"space-y-4 max-w-md",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mật khẩu hiện tại"}),a.jsx("input",{type:"password",value:b.currentPassword,onChange:Q=>S("currentPassword",Q.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mật khẩu mới"}),a.jsx("input",{type:"password",value:b.newPassword,onChange:Q=>S("newPassword",Q.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Xác nhận mật khẩu mới"}),a.jsx("input",{type:"password",value:b.confirmPassword,onChange:Q=>S("confirmPassword",Q.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsx("button",{onClick:L,disabled:u,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:u?"Đang cập nhật...":"Cập nhật mật khẩu"})]})]}),a.jsx(d9,{}),a.jsx(XH,{}),a.jsx(KH,{})]})},ZH=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thông báo Email"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Cập nhật dự án"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Nhận thông báo khi có cập nhật về dự án"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Thông báo task"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Nhận thông báo khi có task mới được giao"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Báo cáo tuần"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Nhận báo cáo tổng hợp hàng tuần"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thông báo trình duyệt"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Thông báo realtime"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Hiển thị thông báo ngay lập tức trên trình duyệt"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})})]})]}),JH=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Bảo mật tài khoản"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Xác thực 2 lớp (2FA)"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Tăng cường bảo mật với xác thực 2 lớp"})]}),a.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Kích hoạt"})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Phiên đăng nhập"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Quản lý các phiên đăng nhập hiện tại"})]}),a.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg",children:"Xem chi tiết"})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Nhật ký hoạt động"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Xem lịch sử hoạt động của tài khoản"})]}),a.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg",children:"Xem nhật ký"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quyền riêng tư"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Hiển thị trạng thái online"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Cho phép người khác thấy khi bạn đang online"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})})]})]}),z2=[{id:"general",name:"Cài đặt chung",icon:Xx,component:dC},{id:"user",name:"Tài khoản",icon:tu,component:QH},{id:"notifications",name:"Thông báo",icon:Y_,component:ZH},{id:"security",name:"Bảo mật",icon:X_,component:JH}],e$=()=>{var n;const[e,t]=N.useState("general"),s=((n=z2.find(i=>i.id===e))==null?void 0:n.component)||dC;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Cài đặt"}),a.jsx("p",{className:"text-gray-600",children:"Cài đặt hệ thống"})]}),a.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[a.jsx(N5,{className:"h-4 w-4"}),"Lưu thay đổi"]})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[a.jsx("div",{className:"lg:w-64 flex-shrink-0",children:a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:a.jsx("nav",{className:"space-y-1 p-2",children:z2.map(i=>{const l=i.icon;return a.jsxs("button",{onClick:()=>t(i.id),className:`w-full flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${e===i.id?"bg-blue-50 text-blue-700 border-l-4 border-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:[a.jsx(l,{className:`mr-3 h-5 w-5 ${e===i.id?"text-blue-600":"text-gray-400"}`}),i.name]},i.id)})})})}),a.jsx("div",{className:"flex-1",children:a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsx(s,{})})})]})]})},t$=[{id:1,project:"E-commerce Platform",task:"Design user interface mockups",user:"Jane Smith",startTime:"09:00 AM",endTime:"11:30 AM",duration:"2h 30m",date:"2024-03-08"},{id:2,project:"Mobile App Redesign",task:"API documentation",user:"Mike Johnson",startTime:"02:00 PM",endTime:"04:15 PM",duration:"2h 15m",date:"2024-03-08"},{id:3,project:"Data Analytics Dashboard",task:"Testing setup",user:"Sarah Wilson",startTime:"10:30 AM",endTime:"12:00 PM",duration:"1h 30m",date:"2024-03-07"}],s$=()=>{const[e,t]=ye.useState(!1),[s,n]=ye.useState("00:00:00");return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"md:flex md:items-center md:justify-between",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Time Tracking"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Track time spent on projects and tasks"})]})}),a.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-6",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"text-4xl font-mono font-bold text-gray-900",children:s}),a.jsx("div",{className:"flex items-center justify-center space-x-4",children:e?a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>t(!1),className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-yellow-600 hover:bg-yellow-700",children:[a.jsx(h5,{className:"mr-2 h-5 w-5"}),"Pause"]}),a.jsxs("button",{onClick:()=>{t(!1),n("00:00:00")},className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-red-600 hover:bg-red-700",children:[a.jsx(D5,{className:"mr-2 h-5 w-5"}),"Stop"]})]}):a.jsxs("button",{onClick:()=>t(!0),className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-green-600 hover:bg-green-700",children:[a.jsx(y5,{className:"mr-2 h-5 w-5"}),"Start Timer"]})}),e&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project"}),a.jsxs("select",{className:"w-full border border-gray-300 rounded-md px-3 py-2",children:[a.jsx("option",{children:"E-commerce Platform"}),a.jsx("option",{children:"Mobile App Redesign"}),a.jsx("option",{children:"Data Analytics Dashboard"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Task Description"}),a.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"What are you working on?"})]})]})]})}),a.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Time Entries"})}),a.jsx("div",{className:"overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Task"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time Period"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t$.map(i=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:i.project}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.task}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.user}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[i.startTime," - ",i.endTime]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[a.jsx(Hi,{className:"mr-1 h-3 w-3"}),i.duration]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.date})]},i.id))})]})})]})]})},n$=KO([{path:"/",element:a.jsx(nL,{}),children:[{index:!0,element:a.jsx(s7,{})},{path:"projects",element:a.jsx(vU,{})},{path:"projects/:projectId",element:a.jsx(FU,{})},{path:"tasks",element:a.jsx(GU,{})},{path:"documents",element:a.jsx(KU,{})},{path:"budget",element:a.jsx(JU,{})},{path:"risk",element:a.jsx(n9,{})},{path:"meetings",element:a.jsx(i9,{})},{path:"reports",element:a.jsx(c9,{})},{path:"settings",element:a.jsx(e$,{})},{path:"time-tracking",element:a.jsx(s$,{})}]}],{basename:"/todo"});f4.createRoot(document.getElementById("root")).render(a.jsx(ye.StrictMode,{children:a.jsx(oM,{router:n$})}))});export default a$();
