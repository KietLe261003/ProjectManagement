var TD=Object.defineProperty,ED=Object.defineProperties;var kD=Object.getOwnPropertyDescriptors;var Cf=Object.getOwnPropertySymbols;var _j=Object.prototype.hasOwnProperty,Nj=Object.prototype.propertyIsEnumerable;var Rl=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),CD=e=>{throw TypeError(e)};var Eg=(e,t,n)=>t in e?TD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,z=(e,t)=>{for(var n in t||(t={}))_j.call(t,n)&&Eg(e,n,t[n]);if(Cf)for(var n of Cf(t))Nj.call(t,n)&&Eg(e,n,t[n]);return e},oe=(e,t)=>ED(e,kD(t));var Ce=(e,t)=>{var n={};for(var s in e)_j.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&Cf)for(var s of Cf(e))t.indexOf(s)<0&&Nj.call(e,s)&&(n[s]=e[s]);return n};var DD=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var _t=(e,t,n)=>Eg(e,typeof t!="symbol"?t+"":t,n);var ve=(e,t,n)=>new Promise((s,a)=>{var o=f=>{try{d(n.next(f))}catch(h){a(h)}},c=f=>{try{d(n.throw(f))}catch(h){a(h)}},d=f=>f.done?s(f.value):Promise.resolve(f.value).then(o,c);d((n=n.apply(e,t)).next())}),bo=function(e,t){this[0]=e,this[1]=t},kg=(e,t,n)=>{var s=(c,d,f,h)=>{try{var p=n[c](d),g=(d=p.value)instanceof bo,y=p.done;Promise.resolve(g?d[0]:d).then(b=>g?s(c==="return"?c:"next",d[1]?{done:b.done,value:b.value}:b,f,h):f({value:b,done:y})).catch(b=>s("throw",b,f,h))}catch(b){h(b)}},a=c=>o[c]=d=>new Promise((f,h)=>s(c,d,f,h)),o={};return n=n.apply(e,t),o[Rl("asyncIterator")]=()=>o,a("next"),a("throw"),a("return"),o},Cg=e=>{var t=e[Rl("asyncIterator")],n=!1,s,a={};return t==null?(t=e[Rl("iterator")](),s=o=>a[o]=c=>t[o](c)):(t=t.call(e),s=o=>a[o]=c=>{if(n){if(n=!1,o==="throw")throw c;return c}return n=!0,{done:!1,value:new bo(new Promise(d=>{var f=t[o](c);f instanceof Object||CD("Object expected"),d(f)}),1)}}),a[Rl("iterator")]=()=>a,s("next"),"throw"in t?s("throw"):a.throw=o=>{throw o},"return"in t&&s("return"),a},Sj=(e,t,n)=>(t=e[Rl("asyncIterator")])?t.call(e):(e=e[Rl("iterator")](),t={},n=(s,a)=>(a=e[s])&&(t[s]=o=>new Promise((c,d,f)=>(o=a.call(e,o),f=o.done,Promise.resolve(o.value).then(h=>c({value:h,done:f}),d)))),n("next"),n("return"),t);var rH=DD(bt=>{function OD(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(s,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function Ax(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Dg={exports:{}},mu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tj;function AD(){if(Tj)return mu;Tj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var d in a)d!=="key"&&(o[d]=a[d])}else o=a;return a=o.ref,{$$typeof:e,type:s,key:c,ref:a!==void 0?a:null,props:o}}return mu.Fragment=t,mu.jsx=n,mu.jsxs=n,mu}var Ej;function RD(){return Ej||(Ej=1,Dg.exports=AD()),Dg.exports}var i=RD(),Og={exports:{}},Dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kj;function MD(){if(kj)return Dt;kj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function y(L){return L===null||typeof L!="object"?null:(L=g&&L[g]||L["@@iterator"],typeof L=="function"?L:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,v={};function S(L,le,re){this.props=L,this.context=le,this.refs=v,this.updater=re||b}S.prototype.isReactComponent={},S.prototype.setState=function(L,le){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,le,"setState")},S.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function N(){}N.prototype=S.prototype;function R(L,le,re){this.props=L,this.context=le,this.refs=v,this.updater=re||b}var E=R.prototype=new N;E.constructor=R,j(E,S.prototype),E.isPureReactComponent=!0;var k=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},C=Object.prototype.hasOwnProperty;function A(L,le,re,V,ne,xe){return re=xe.ref,{$$typeof:e,type:L,key:le,ref:re!==void 0?re:null,props:xe}}function P(L,le){return A(L.type,le,void 0,void 0,void 0,L.props)}function U(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function K(L){var le={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(re){return le[re]})}var $=/\/+/g;function G(L,le){return typeof L=="object"&&L!==null&&L.key!=null?K(""+L.key):le.toString(36)}function W(){}function ee(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(W,W):(L.status="pending",L.then(function(le){L.status==="pending"&&(L.status="fulfilled",L.value=le)},function(le){L.status==="pending"&&(L.status="rejected",L.reason=le)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Y(L,le,re,V,ne){var xe=typeof L;(xe==="undefined"||xe==="boolean")&&(L=null);var me=!1;if(L===null)me=!0;else switch(xe){case"bigint":case"string":case"number":me=!0;break;case"object":switch(L.$$typeof){case e:case t:me=!0;break;case p:return me=L._init,Y(me(L._payload),le,re,V,ne)}}if(me)return ne=ne(L),me=V===""?"."+G(L,0):V,k(ne)?(re="",me!=null&&(re=me.replace($,"$&/")+"/"),Y(ne,le,re,"",function(He){return He})):ne!=null&&(U(ne)&&(ne=P(ne,re+(ne.key==null||L&&L.key===ne.key?"":(""+ne.key).replace($,"$&/")+"/")+me)),le.push(ne)),1;me=0;var Ee=V===""?".":V+":";if(k(L))for(var De=0;De<L.length;De++)V=L[De],xe=Ee+G(V,De),me+=Y(V,le,re,xe,ne);else if(De=y(L),typeof De=="function")for(L=De.call(L),De=0;!(V=L.next()).done;)V=V.value,xe=Ee+G(V,De++),me+=Y(V,le,re,xe,ne);else if(xe==="object"){if(typeof L.then=="function")return Y(ee(L),le,re,V,ne);throw le=String(L),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return me}function H(L,le,re){if(L==null)return L;var V=[],ne=0;return Y(L,V,"","",function(xe){return le.call(re,xe,ne++)}),V}function J(L){if(L._status===-1){var le=L._result;le=le(),le.then(function(re){(L._status===0||L._status===-1)&&(L._status=1,L._result=re)},function(re){(L._status===0||L._status===-1)&&(L._status=2,L._result=re)}),L._status===-1&&(L._status=0,L._result=le)}if(L._status===1)return L._result.default;throw L._result}var te=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function ce(){}return Dt.Children={map:H,forEach:function(L,le,re){H(L,function(){le.apply(this,arguments)},re)},count:function(L){var le=0;return H(L,function(){le++}),le},toArray:function(L){return H(L,function(le){return le})||[]},only:function(L){if(!U(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Dt.Component=S,Dt.Fragment=n,Dt.Profiler=a,Dt.PureComponent=R,Dt.StrictMode=s,Dt.Suspense=f,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(L){return D.H.useMemoCache(L)}},Dt.cache=function(L){return function(){return L.apply(null,arguments)}},Dt.cloneElement=function(L,le,re){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var V=j({},L.props),ne=L.key,xe=void 0;if(le!=null)for(me in le.ref!==void 0&&(xe=void 0),le.key!==void 0&&(ne=""+le.key),le)!C.call(le,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&le.ref===void 0||(V[me]=le[me]);var me=arguments.length-2;if(me===1)V.children=re;else if(1<me){for(var Ee=Array(me),De=0;De<me;De++)Ee[De]=arguments[De+2];V.children=Ee}return A(L.type,ne,void 0,void 0,xe,V)},Dt.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},Dt.createElement=function(L,le,re){var V,ne={},xe=null;if(le!=null)for(V in le.key!==void 0&&(xe=""+le.key),le)C.call(le,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(ne[V]=le[V]);var me=arguments.length-2;if(me===1)ne.children=re;else if(1<me){for(var Ee=Array(me),De=0;De<me;De++)Ee[De]=arguments[De+2];ne.children=Ee}if(L&&L.defaultProps)for(V in me=L.defaultProps,me)ne[V]===void 0&&(ne[V]=me[V]);return A(L,xe,void 0,void 0,null,ne)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(L){return{$$typeof:d,render:L}},Dt.isValidElement=U,Dt.lazy=function(L){return{$$typeof:p,_payload:{_status:-1,_result:L},_init:J}},Dt.memo=function(L,le){return{$$typeof:h,type:L,compare:le===void 0?null:le}},Dt.startTransition=function(L){var le=D.T,re={};D.T=re;try{var V=L(),ne=D.S;ne!==null&&ne(re,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(ce,te)}catch(xe){te(xe)}finally{D.T=le}},Dt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Dt.use=function(L){return D.H.use(L)},Dt.useActionState=function(L,le,re){return D.H.useActionState(L,le,re)},Dt.useCallback=function(L,le){return D.H.useCallback(L,le)},Dt.useContext=function(L){return D.H.useContext(L)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(L,le){return D.H.useDeferredValue(L,le)},Dt.useEffect=function(L,le,re){var V=D.H;if(typeof re=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return V.useEffect(L,le)},Dt.useId=function(){return D.H.useId()},Dt.useImperativeHandle=function(L,le,re){return D.H.useImperativeHandle(L,le,re)},Dt.useInsertionEffect=function(L,le){return D.H.useInsertionEffect(L,le)},Dt.useLayoutEffect=function(L,le){return D.H.useLayoutEffect(L,le)},Dt.useMemo=function(L,le){return D.H.useMemo(L,le)},Dt.useOptimistic=function(L,le){return D.H.useOptimistic(L,le)},Dt.useReducer=function(L,le,re){return D.H.useReducer(L,le,re)},Dt.useRef=function(L){return D.H.useRef(L)},Dt.useState=function(L){return D.H.useState(L)},Dt.useSyncExternalStore=function(L,le,re){return D.H.useSyncExternalStore(L,le,re)},Dt.useTransition=function(){return D.H.useTransition()},Dt.version="19.1.1",Dt}var Cj;function Rx(){return Cj||(Cj=1,Og.exports=MD()),Og.exports}var _=Rx();const se=Ax(_),GN=OD({__proto__:null,default:se},[_]);var Ag={exports:{}},pu={},Rg={exports:{}},Mg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dj;function PD(){return Dj||(Dj=1,function(e){function t(H,J){var te=H.length;H.push(J);e:for(;0<te;){var ce=te-1>>>1,L=H[ce];if(0<a(L,J))H[ce]=J,H[te]=L,te=ce;else break e}}function n(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var J=H[0],te=H.pop();if(te!==J){H[0]=te;e:for(var ce=0,L=H.length,le=L>>>1;ce<le;){var re=2*(ce+1)-1,V=H[re],ne=re+1,xe=H[ne];if(0>a(V,te))ne<L&&0>a(xe,V)?(H[ce]=xe,H[ne]=te,ce=ne):(H[ce]=V,H[re]=te,ce=re);else if(ne<L&&0>a(xe,te))H[ce]=xe,H[ne]=te,ce=ne;else break e}}return J}function a(H,J){var te=H.sortIndex-J.sortIndex;return te!==0?te:H.id-J.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var f=[],h=[],p=1,g=null,y=3,b=!1,j=!1,v=!1,S=!1,N=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate!="undefined"?setImmediate:null;function k(H){for(var J=n(h);J!==null;){if(J.callback===null)s(h);else if(J.startTime<=H)s(h),J.sortIndex=J.expirationTime,t(f,J);else break;J=n(h)}}function D(H){if(v=!1,k(H),!j)if(n(f)!==null)j=!0,C||(C=!0,G());else{var J=n(h);J!==null&&Y(D,J.startTime-H)}}var C=!1,A=-1,P=5,U=-1;function K(){return S?!0:!(e.unstable_now()-U<P)}function $(){if(S=!1,C){var H=e.unstable_now();U=H;var J=!0;try{e:{j=!1,v&&(v=!1,R(A),A=-1),b=!0;var te=y;try{t:{for(k(H),g=n(f);g!==null&&!(g.expirationTime>H&&K());){var ce=g.callback;if(typeof ce=="function"){g.callback=null,y=g.priorityLevel;var L=ce(g.expirationTime<=H);if(H=e.unstable_now(),typeof L=="function"){g.callback=L,k(H),J=!0;break t}g===n(f)&&s(f),k(H)}else s(f);g=n(f)}if(g!==null)J=!0;else{var le=n(h);le!==null&&Y(D,le.startTime-H),J=!1}}break e}finally{g=null,y=te,b=!1}J=void 0}}finally{J?G():C=!1}}}var G;if(typeof E=="function")G=function(){E($)};else if(typeof MessageChannel!="undefined"){var W=new MessageChannel,ee=W.port2;W.port1.onmessage=$,G=function(){ee.postMessage(null)}}else G=function(){N($,0)};function Y(H,J){A=N(function(){H(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(H){switch(y){case 1:case 2:case 3:var J=3;break;default:J=y}var te=y;y=J;try{return H()}finally{y=te}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(H,J){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var te=y;y=H;try{return J()}finally{y=te}},e.unstable_scheduleCallback=function(H,J,te){var ce=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ce+te:ce):te=ce,H){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=te+L,H={id:p++,callback:J,priorityLevel:H,startTime:te,expirationTime:L,sortIndex:-1},te>ce?(H.sortIndex=te,t(h,H),n(f)===null&&H===n(h)&&(v?(R(A),A=-1):v=!0,Y(D,te-ce))):(H.sortIndex=L,t(f,H),j||b||(j=!0,C||(C=!0,G()))),H},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(H){var J=y;return function(){var te=y;y=J;try{return H.apply(this,arguments)}finally{y=te}}}}(Mg)),Mg}var Oj;function LD(){return Oj||(Oj=1,Rg.exports=PD()),Rg.exports}var Pg={exports:{}},_s={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aj;function zD(){if(Aj)return _s;Aj=1;var e=Rx();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return _s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,_s.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return o(f,h,null,p)},_s.flushSync=function(f){var h=c.T,p=s.p;try{if(c.T=null,s.p=2,f)return f()}finally{c.T=h,s.p=p,s.d.f()}},_s.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(f,h))},_s.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},_s.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?s.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:b}):p==="script"&&s.d.X(f,{crossOrigin:g,integrity:y,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},_s.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);s.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(f)},_s.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin);s.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},_s.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=d(h.as,h.crossOrigin);s.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(f)},_s.requestFormReset=function(f){s.d.r(f)},_s.unstable_batchedUpdates=function(f,h){return f(h)},_s.useFormState=function(f,h,p){return c.H.useFormState(f,h,p)},_s.useFormStatus=function(){return c.H.useHostTransitionStatus()},_s.version="19.1.1",_s}var Rj;function KN(){if(Rj)return Pg.exports;Rj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Pg.exports=zD(),Pg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mj;function UD(){if(Mj)return pu;Mj=1;var e=LD(),t=Rx(),n=KN();function s(r){var l="https://react.dev/errors/"+r;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var l=r,u=r;if(r.alternate)for(;l.return;)l=l.return;else{r=l;do l=r,(l.flags&4098)!==0&&(u=l.return),r=l.return;while(r)}return l.tag===3?u:null}function c(r){if(r.tag===13){var l=r.memoizedState;if(l===null&&(r=r.alternate,r!==null&&(l=r.memoizedState)),l!==null)return l.dehydrated}return null}function d(r){if(o(r)!==r)throw Error(s(188))}function f(r){var l=r.alternate;if(!l){if(l=o(r),l===null)throw Error(s(188));return l!==r?null:r}for(var u=r,m=l;;){var x=u.return;if(x===null)break;var w=x.alternate;if(w===null){if(m=x.return,m!==null){u=m;continue}break}if(x.child===w.child){for(w=x.child;w;){if(w===u)return d(x),r;if(w===m)return d(x),l;w=w.sibling}throw Error(s(188))}if(u.return!==m.return)u=x,m=w;else{for(var O=!1,F=x.child;F;){if(F===u){O=!0,u=x,m=w;break}if(F===m){O=!0,m=x,u=w;break}F=F.sibling}if(!O){for(F=w.child;F;){if(F===u){O=!0,u=w,m=x;break}if(F===m){O=!0,m=w,u=x;break}F=F.sibling}if(!O)throw Error(s(189))}}if(u.alternate!==m)throw Error(s(190))}if(u.tag!==3)throw Error(s(188));return u.stateNode.current===u?r:l}function h(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r;for(r=r.child;r!==null;){if(l=h(r),l!==null)return l;r=r.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),E=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function G(r){return r===null||typeof r!="object"?null:(r=$&&r[$]||r["@@iterator"],typeof r=="function"?r:null)}var W=Symbol.for("react.client.reference");function ee(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===W?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case j:return"Fragment";case S:return"Profiler";case v:return"StrictMode";case D:return"Suspense";case C:return"SuspenseList";case U:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case b:return"Portal";case E:return(r.displayName||"Context")+".Provider";case R:return(r._context.displayName||"Context")+".Consumer";case k:var l=r.render;return r=r.displayName,r||(r=l.displayName||l.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case A:return l=r.displayName||null,l!==null?l:ee(r.type)||"Memo";case P:l=r._payload,r=r._init;try{return ee(r(l))}catch(u){}}return null}var Y=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},ce=[],L=-1;function le(r){return{current:r}}function re(r){0>L||(r.current=ce[L],ce[L]=null,L--)}function V(r,l){L++,ce[L]=r.current,r.current=l}var ne=le(null),xe=le(null),me=le(null),Ee=le(null);function De(r,l){switch(V(me,l),V(xe,r),V(ne,null),l.nodeType){case 9:case 11:r=(r=l.documentElement)&&(r=r.namespaceURI)?Qw(r):0;break;default:if(r=l.tagName,l=l.namespaceURI)l=Qw(l),r=Zw(l,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}re(ne),V(ne,r)}function He(){re(ne),re(xe),re(me)}function Pe(r){r.memoizedState!==null&&V(Ee,r);var l=ne.current,u=Zw(l,r.type);l!==u&&(V(xe,r),V(ne,u))}function rt(r){xe.current===r&&(re(ne),re(xe)),Ee.current===r&&(re(Ee),cu._currentValue=te)}var Ge=Object.prototype.hasOwnProperty,pt=e.unstable_scheduleCallback,ze=e.unstable_cancelCallback,Nt=e.unstable_shouldYield,at=e.unstable_requestPaint,Me=e.unstable_now,st=e.unstable_getCurrentPriorityLevel,ht=e.unstable_ImmediatePriority,X=e.unstable_UserBlockingPriority,fe=e.unstable_NormalPriority,q=e.unstable_LowPriority,Ne=e.unstable_IdlePriority,Re=e.log,Ae=e.unstable_setDisableYieldValue,Be=null,qe=null;function et(r){if(typeof Re=="function"&&Ae(r),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Be,r)}catch(l){}}var wt=Math.clz32?Math.clz32:dn,Nn=Math.log,Jt=Math.LN2;function dn(r){return r>>>=0,r===0?32:31-(Nn(r)/Jt|0)|0}var vn=256,Xn=4194304;function Gn(r){var l=r&42;if(l!==0)return l;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function cs(r,l,u){var m=r.pendingLanes;if(m===0)return 0;var x=0,w=r.suspendedLanes,O=r.pingedLanes;r=r.warmLanes;var F=m&134217727;return F!==0?(m=F&~w,m!==0?x=Gn(m):(O&=F,O!==0?x=Gn(O):u||(u=F&~r,u!==0&&(x=Gn(u))))):(F=m&~w,F!==0?x=Gn(F):O!==0?x=Gn(O):u||(u=m&~r,u!==0&&(x=Gn(u)))),x===0?0:l!==0&&l!==x&&(l&w)===0&&(w=x&-x,u=l&-l,w>=u||w===32&&(u&4194048)!==0)?l:x}function Kn(r,l){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&l)===0}function ks(r,l){switch(r){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ye(){var r=vn;return vn<<=1,(vn&4194048)===0&&(vn=256),r}function Rt(){var r=Xn;return Xn<<=1,(Xn&62914560)===0&&(Xn=4194304),r}function Ut(r){for(var l=[],u=0;31>u;u++)l.push(r);return l}function St(r,l){r.pendingLanes|=l,l!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Qt(r,l,u,m,x,w){var O=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var F=r.entanglements,Q=r.expirationTimes,ye=r.hiddenUpdates;for(u=O&~u;0<u;){var Se=31-wt(u),ke=1<<Se;F[Se]=0,Q[Se]=-1;var we=ye[Se];if(we!==null)for(ye[Se]=null,Se=0;Se<we.length;Se++){var je=we[Se];je!==null&&(je.lane&=-536870913)}u&=~ke}m!==0&&Xe(r,m,0),w!==0&&x===0&&r.tag!==0&&(r.suspendedLanes|=w&~(O&~l))}function Xe(r,l,u){r.pendingLanes|=l,r.suspendedLanes&=~l;var m=31-wt(l);r.entangledLanes|=l,r.entanglements[m]=r.entanglements[m]|1073741824|u&4194090}function jt(r,l){var u=r.entangledLanes|=l;for(r=r.entanglements;u;){var m=31-wt(u),x=1<<m;x&l|r[m]&l&&(r[m]|=l),u&=~x}}function Vt(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Wt(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Z(){var r=J.p;return r!==0?r:(r=window.event,r===void 0?32:xj(r.type))}function ie(r,l){var u=J.p;try{return J.p=r,l()}finally{J.p=u}}var pe=Math.random().toString(36).slice(2),_e="__reactFiber$"+pe,Oe="__reactProps$"+pe,$e="__reactContainer$"+pe,Ke="__reactEvents$"+pe,tt="__reactListeners$"+pe,dt="__reactHandles$"+pe,Ct="__reactResources$"+pe,it="__reactMarker$"+pe;function vt(r){delete r[_e],delete r[Oe],delete r[Ke],delete r[tt],delete r[dt]}function kt(r){var l=r[_e];if(l)return l;for(var u=r.parentNode;u;){if(l=u[$e]||u[_e]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(r=nj(r);r!==null;){if(u=r[_e])return u;r=nj(r)}return l}r=u,u=r.parentNode}return null}function fn(r){if(r=r[_e]||r[$e]){var l=r.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return r}return null}function Dn(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r.stateNode;throw Error(s(33))}function rn(r){var l=r[Ct];return l||(l=r[Ct]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function ot(r){r[it]=!0}var Tt=new Set,Yt={};function wn(r,l){On(r,l),On(r+"Capture",l)}function On(r,l){for(Yt[r]=l,r=0;r<l.length;r++)Tt.add(l[r])}var Qn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ss={},lr={};function cr(r){return Ge.call(lr,r)?!0:Ge.call(ss,r)?!1:Qn.test(r)?lr[r]=!0:(ss[r]=!0,!1)}function vs(r,l,u){if(cr(l))if(u===null)r.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){r.removeAttribute(l);return}}r.setAttribute(l,""+u)}}function ur(r,l,u){if(u===null)r.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttribute(l,""+u)}}function At(r,l,u,m){if(m===null)r.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(l,u,""+m)}}var An,wa;function us(r){if(An===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);An=l&&l[1]||"",wa=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+An+r+wa}var mn=!1;function Ar(r,l){if(!r||mn)return"";mn=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var ke=function(){throw Error()};if(Object.defineProperty(ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ke,[])}catch(je){var we=je}Reflect.construct(r,[],ke)}else{try{ke.call()}catch(je){we=je}r.call(ke.prototype)}}else{try{throw Error()}catch(je){we=je}(ke=r())&&typeof ke.catch=="function"&&ke.catch(function(){})}}catch(je){if(je&&we&&typeof je.stack=="string")return[je.stack,we.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=m.DetermineComponentFrameRoot(),O=w[0],F=w[1];if(O&&F){var Q=O.split(`
`),ye=F.split(`
`);for(x=m=0;m<Q.length&&!Q[m].includes("DetermineComponentFrameRoot");)m++;for(;x<ye.length&&!ye[x].includes("DetermineComponentFrameRoot");)x++;if(m===Q.length||x===ye.length)for(m=Q.length-1,x=ye.length-1;1<=m&&0<=x&&Q[m]!==ye[x];)x--;for(;1<=m&&0<=x;m--,x--)if(Q[m]!==ye[x]){if(m!==1||x!==1)do if(m--,x--,0>x||Q[m]!==ye[x]){var Se=`
`+Q[m].replace(" at new "," at ");return r.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",r.displayName)),Se}while(1<=m&&0<=x);break}}}finally{mn=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?us(u):""}function Go(r){switch(r.tag){case 26:case 27:case 5:return us(r.type);case 16:return us("Lazy");case 13:return us("Suspense");case 19:return us("SuspenseList");case 0:case 15:return Ar(r.type,!1);case 11:return Ar(r.type.render,!1);case 1:return Ar(r.type,!0);case 31:return us("Activity");default:return""}}function Ko(r){try{var l="";do l+=Go(r),r=r.return;while(r);return l}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Rs(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function wd(r){var l=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function jd(r){var l=wd(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,l),m=""+r[l];if(!r.hasOwnProperty(l)&&typeof u!="undefined"&&typeof u.get=="function"&&typeof u.set=="function"){var x=u.get,w=u.set;return Object.defineProperty(r,l,{configurable:!0,get:function(){return x.call(this)},set:function(O){m=""+O,w.call(this,O)}}),Object.defineProperty(r,l,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(O){m=""+O},stopTracking:function(){r._valueTracker=null,delete r[l]}}}}function Xi(r){r._valueTracker||(r._valueTracker=jd(r))}function Qr(r){if(!r)return!1;var l=r._valueTracker;if(!l)return!0;var u=l.getValue(),m="";return r&&(m=wd(r)?r.checked?"true":"false":r.value),r=m,r!==u?(l.setValue(r),!0):!1}function Gi(r){if(r=r||(typeof document!="undefined"?document:void 0),typeof r=="undefined")return null;try{return r.activeElement||r.body}catch(l){return r.body}}var Mm=/[\n"\\]/g;function Ms(r){return r.replace(Mm,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function bc(r,l,u,m,x,w,O,F){r.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?r.type=O:r.removeAttribute("type"),l!=null?O==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+Rs(l)):r.value!==""+Rs(l)&&(r.value=""+Rs(l)):O!=="submit"&&O!=="reset"||r.removeAttribute("value"),l!=null?vc(r,O,Rs(l)):u!=null?vc(r,O,Rs(u)):m!=null&&r.removeAttribute("value"),x==null&&w!=null&&(r.defaultChecked=!!w),x!=null&&(r.checked=x&&typeof x!="function"&&typeof x!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?r.name=""+Rs(F):r.removeAttribute("name")}function _d(r,l,u,m,x,w,O,F){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.type=w),l!=null||u!=null){if(!(w!=="submit"&&w!=="reset"||l!=null))return;u=u!=null?""+Rs(u):"",l=l!=null?""+Rs(l):u,F||l===r.value||(r.value=l),r.defaultValue=l}m=m!=null?m:x,m=typeof m!="function"&&typeof m!="symbol"&&!!m,r.checked=F?r.checked:!!m,r.defaultChecked=!!m,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(r.name=O)}function vc(r,l,u){l==="number"&&Gi(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function ja(r,l,u,m){if(r=r.options,l){l={};for(var x=0;x<u.length;x++)l["$"+u[x]]=!0;for(u=0;u<r.length;u++)x=l.hasOwnProperty("$"+r[u].value),r[u].selected!==x&&(r[u].selected=x),x&&m&&(r[u].defaultSelected=!0)}else{for(u=""+Rs(u),l=null,x=0;x<r.length;x++){if(r[x].value===u){r[x].selected=!0,m&&(r[x].defaultSelected=!0);return}l!==null||r[x].disabled||(l=r[x])}l!==null&&(l.selected=!0)}}function Ki(r,l,u){if(l!=null&&(l=""+Rs(l),l!==r.value&&(r.value=l),u==null)){r.defaultValue!==l&&(r.defaultValue=l);return}r.defaultValue=u!=null?""+Rs(u):""}function wc(r,l,u,m){if(l==null){if(m!=null){if(u!=null)throw Error(s(92));if(Y(m)){if(1<m.length)throw Error(s(93));m=m[0]}u=m}u==null&&(u=""),l=u}u=Rs(l),r.defaultValue=u,m=r.textContent,m===u&&m!==""&&m!==null&&(r.value=m)}function Za(r,l){if(l){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=l;return}}r.textContent=l}var Nd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sd(r,l,u){var m=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="":m?r.setProperty(l,u):typeof u!="number"||u===0||Nd.has(l)?l==="float"?r.cssFloat=u:r[l]=(""+u).trim():r[l]=u+"px"}function jc(r,l,u){if(l!=null&&typeof l!="object")throw Error(s(62));if(r=r.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?r.setProperty(m,""):m==="float"?r.cssFloat="":r[m]="");for(var x in l)m=l[x],l.hasOwnProperty(x)&&u[x]!==m&&Sd(r,x,m)}else for(var w in l)l.hasOwnProperty(w)&&Sd(r,w,l[w])}function Qi(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zo(r){return Pm.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var _c=null;function Zi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var _a=null,Ja=null;function Nc(r){var l=fn(r);if(l&&(r=l.stateNode)){var u=r[Oe]||null;e:switch(r=l.stateNode,l.type){case"input":if(bc(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Ms(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var m=u[l];if(m!==r&&m.form===r.form){var x=m[Oe]||null;if(!x)throw Error(s(90));bc(m,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(l=0;l<u.length;l++)m=u[l],m.form===r.form&&Qr(m)}break e;case"textarea":Ki(r,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&ja(r,!!u.multiple,l,!1)}}}var Ji=!1;function Sc(r,l,u){if(Ji)return r(l,u);Ji=!0;try{var m=r(l);return m}finally{if(Ji=!1,(_a!==null||Ja!==null)&&(lf(),_a&&(l=_a,r=Ja,Ja=_a=null,Nc(l),r)))for(l=0;l<r.length;l++)Nc(r[l])}}function ei(r,l){var u=r.stateNode;if(u===null)return null;var m=u[Oe]||null;if(m===null)return null;u=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(r=r.type,m=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!m;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(s(231,l,typeof u));return u}var Ps=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Jo=!1;if(Ps)try{var eo={};Object.defineProperty(eo,"passive",{get:function(){Jo=!0}}),window.addEventListener("test",eo,eo),window.removeEventListener("test",eo,eo)}catch(r){Jo=!1}var Xs=null,Ls=null,Na=null;function to(){if(Na)return Na;var r,l=Ls,u=l.length,m,x="value"in Xs?Xs.value:Xs.textContent,w=x.length;for(r=0;r<u&&l[r]===x[r];r++);var O=u-r;for(m=1;m<=O&&l[u-m]===x[w-m];m++);return Na=x.slice(r,1<m?1-m:void 0)}function ti(r){var l=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&l===13&&(r=13)):r=l,r===10&&(r=13),32<=r||r===13?r:0}function el(){return!0}function Td(){return!1}function ws(r){function l(u,m,x,w,O){this._reactName=u,this._targetInst=x,this.type=m,this.nativeEvent=w,this.target=O,this.currentTarget=null;for(var F in r)r.hasOwnProperty(F)&&(u=r[F],this[F]=u?u(w):w[F]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?el:Td,this.isPropagationStopped=Td,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=el)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=el)},persist:function(){},isPersistent:el}),l}var Rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tl=ws(Rr),ni=p({},Rr,{view:0,detail:0}),Rn=ws(ni),T,M,B,I=p({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==B&&(B&&r.type==="mousemove"?(T=r.screenX-B.screenX,M=r.screenY-B.screenY):M=T=0,B=r),T)},movementY:function(r){return"movementY"in r?r.movementY:M}}),ue=ws(I),he=p({},I,{dataTransfer:0}),be=ws(he),Ue=p({},ni,{relatedTarget:0}),ut=ws(Ue),Fe=p({},Rr,{animationName:0,elapsedTime:0,pseudoElement:0}),We=ws(Fe),gt=p({},Rr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),an=ws(gt),Et=p({},Rr,{data:0}),ft=ws(Et),nt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(r){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(r):(r=$n[r])?!!l[r]:!1}function dr(){return Sn}var no=p({},ni,{key:function(r){if(r.key){var l=nt[r.key]||r.key;if(l!=="Unidentified")return l}return r.type==="keypress"?(r=ti(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?rs[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dr,charCode:function(r){return r.type==="keypress"?ti(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ti(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Zr=ws(no),si=p({},I,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nl=ws(si),sl=p({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dr}),Ed=ws(sl),Ik=p({},Rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),qk=ws(Ik),Wk=p({},I,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Yk=ws(Wk),Xk=p({},Rr,{newState:0,oldState:0}),Gk=ws(Xk),Kk=[9,13,27,32],Lm=Ps&&"CompositionEvent"in window,Tc=null;Ps&&"documentMode"in document&&(Tc=document.documentMode);var Qk=Ps&&"TextEvent"in window&&!Tc,ib=Ps&&(!Lm||Tc&&8<Tc&&11>=Tc),ob=" ",lb=!1;function cb(r,l){switch(r){case"keyup":return Kk.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ub(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var rl=!1;function Zk(r,l){switch(r){case"compositionend":return ub(l);case"keypress":return l.which!==32?null:(lb=!0,ob);case"textInput":return r=l.data,r===ob&&lb?null:r;default:return null}}function Jk(r,l){if(rl)return r==="compositionend"||!Lm&&cb(r,l)?(r=to(),Na=Ls=Xs=null,rl=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ib&&l.locale!=="ko"?null:l.data;default:return null}}var eC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function db(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l==="input"?!!eC[r.type]:l==="textarea"}function fb(r,l,u,m){_a?Ja?Ja.push(m):Ja=[m]:_a=m,l=mf(l,"onChange"),0<l.length&&(u=new tl("onChange","change",null,u,m),r.push({event:u,listeners:l}))}var Ec=null,kc=null;function tC(r){Ww(r,0)}function kd(r){var l=Dn(r);if(Qr(l))return r}function hb(r,l){if(r==="change")return l}var mb=!1;if(Ps){var zm;if(Ps){var Um="oninput"in document;if(!Um){var pb=document.createElement("div");pb.setAttribute("oninput","return;"),Um=typeof pb.oninput=="function"}zm=Um}else zm=!1;mb=zm&&(!document.documentMode||9<document.documentMode)}function gb(){Ec&&(Ec.detachEvent("onpropertychange",xb),kc=Ec=null)}function xb(r){if(r.propertyName==="value"&&kd(kc)){var l=[];fb(l,kc,r,Zi(r)),Sc(tC,l)}}function nC(r,l,u){r==="focusin"?(gb(),Ec=l,kc=u,Ec.attachEvent("onpropertychange",xb)):r==="focusout"&&gb()}function sC(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return kd(kc)}function rC(r,l){if(r==="click")return kd(l)}function aC(r,l){if(r==="input"||r==="change")return kd(l)}function iC(r,l){return r===l&&(r!==0||1/r===1/l)||r!==r&&l!==l}var Gs=typeof Object.is=="function"?Object.is:iC;function Cc(r,l){if(Gs(r,l))return!0;if(typeof r!="object"||r===null||typeof l!="object"||l===null)return!1;var u=Object.keys(r),m=Object.keys(l);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var x=u[m];if(!Ge.call(l,x)||!Gs(r[x],l[x]))return!1}return!0}function yb(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function bb(r,l){var u=yb(r);r=0;for(var m;u;){if(u.nodeType===3){if(m=r+u.textContent.length,r<=l&&m>=l)return{node:u,offset:l-r};r=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=yb(u)}}function vb(r,l){return r&&l?r===l?!0:r&&r.nodeType===3?!1:l&&l.nodeType===3?vb(r,l.parentNode):"contains"in r?r.contains(l):r.compareDocumentPosition?!!(r.compareDocumentPosition(l)&16):!1:!1}function wb(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var l=Gi(r.document);l instanceof r.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch(m){u=!1}if(u)r=l.contentWindow;else break;l=Gi(r.document)}return l}function Fm(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l&&(l==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||l==="textarea"||r.contentEditable==="true")}var oC=Ps&&"documentMode"in document&&11>=document.documentMode,al=null,Bm=null,Dc=null,$m=!1;function jb(r,l,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;$m||al==null||al!==Gi(m)||(m=al,"selectionStart"in m&&Fm(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Dc&&Cc(Dc,m)||(Dc=m,m=mf(Bm,"onSelect"),0<m.length&&(l=new tl("onSelect","select",null,l,u),r.push({event:l,listeners:m}),l.target=al)))}function so(r,l){var u={};return u[r.toLowerCase()]=l.toLowerCase(),u["Webkit"+r]="webkit"+l,u["Moz"+r]="moz"+l,u}var il={animationend:so("Animation","AnimationEnd"),animationiteration:so("Animation","AnimationIteration"),animationstart:so("Animation","AnimationStart"),transitionrun:so("Transition","TransitionRun"),transitionstart:so("Transition","TransitionStart"),transitioncancel:so("Transition","TransitionCancel"),transitionend:so("Transition","TransitionEnd")},Hm={},_b={};Ps&&(_b=document.createElement("div").style,"AnimationEvent"in window||(delete il.animationend.animation,delete il.animationiteration.animation,delete il.animationstart.animation),"TransitionEvent"in window||delete il.transitionend.transition);function ro(r){if(Hm[r])return Hm[r];if(!il[r])return r;var l=il[r],u;for(u in l)if(l.hasOwnProperty(u)&&u in _b)return Hm[r]=l[u];return r}var Nb=ro("animationend"),Sb=ro("animationiteration"),Tb=ro("animationstart"),lC=ro("transitionrun"),cC=ro("transitionstart"),uC=ro("transitioncancel"),Eb=ro("transitionend"),kb=new Map,Vm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vm.push("scrollEnd");function Mr(r,l){kb.set(r,l),wn(l,[r])}var Cb=new WeakMap;function fr(r,l){if(typeof r=="object"&&r!==null){var u=Cb.get(r);return u!==void 0?u:(l={value:r,source:l,stack:Ko(l)},Cb.set(r,l),l)}return{value:r,source:l,stack:Ko(l)}}var hr=[],ol=0,Im=0;function Cd(){for(var r=ol,l=Im=ol=0;l<r;){var u=hr[l];hr[l++]=null;var m=hr[l];hr[l++]=null;var x=hr[l];hr[l++]=null;var w=hr[l];if(hr[l++]=null,m!==null&&x!==null){var O=m.pending;O===null?x.next=x:(x.next=O.next,O.next=x),m.pending=x}w!==0&&Db(u,x,w)}}function Dd(r,l,u,m){hr[ol++]=r,hr[ol++]=l,hr[ol++]=u,hr[ol++]=m,Im|=m,r.lanes|=m,r=r.alternate,r!==null&&(r.lanes|=m)}function qm(r,l,u,m){return Dd(r,l,u,m),Od(r)}function ll(r,l){return Dd(r,null,null,l),Od(r)}function Db(r,l,u){r.lanes|=u;var m=r.alternate;m!==null&&(m.lanes|=u);for(var x=!1,w=r.return;w!==null;)w.childLanes|=u,m=w.alternate,m!==null&&(m.childLanes|=u),w.tag===22&&(r=w.stateNode,r===null||r._visibility&1||(x=!0)),r=w,w=w.return;return r.tag===3?(w=r.stateNode,x&&l!==null&&(x=31-wt(u),r=w.hiddenUpdates,m=r[x],m===null?r[x]=[l]:m.push(l),l.lane=u|536870912),w):null}function Od(r){if(50<tu)throw tu=0,Qp=null,Error(s(185));for(var l=r.return;l!==null;)r=l,l=r.return;return r.tag===3?r.stateNode:null}var cl={};function dC(r,l,u,m){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ks(r,l,u,m){return new dC(r,l,u,m)}function Wm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Sa(r,l){var u=r.alternate;return u===null?(u=Ks(r.tag,l,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=l,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,l=r.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function Ob(r,l){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=l,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,l=u.dependencies,r.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),r}function Ad(r,l,u,m,x,w){var O=0;if(m=r,typeof r=="function")Wm(r)&&(O=1);else if(typeof r=="string")O=hD(r,u,ne.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case U:return r=Ks(31,u,l,x),r.elementType=U,r.lanes=w,r;case j:return ao(u.children,x,w,l);case v:O=8,x|=24;break;case S:return r=Ks(12,u,l,x|2),r.elementType=S,r.lanes=w,r;case D:return r=Ks(13,u,l,x),r.elementType=D,r.lanes=w,r;case C:return r=Ks(19,u,l,x),r.elementType=C,r.lanes=w,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case N:case E:O=10;break e;case R:O=9;break e;case k:O=11;break e;case A:O=14;break e;case P:O=16,m=null;break e}O=29,u=Error(s(130,r===null?"null":typeof r,"")),m=null}return l=Ks(O,u,l,x),l.elementType=r,l.type=m,l.lanes=w,l}function ao(r,l,u,m){return r=Ks(7,r,m,l),r.lanes=u,r}function Ym(r,l,u){return r=Ks(6,r,null,l),r.lanes=u,r}function Xm(r,l,u){return l=Ks(4,r.children!==null?r.children:[],r.key,l),l.lanes=u,l.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},l}var ul=[],dl=0,Rd=null,Md=0,mr=[],pr=0,io=null,Ta=1,Ea="";function oo(r,l){ul[dl++]=Md,ul[dl++]=Rd,Rd=r,Md=l}function Ab(r,l,u){mr[pr++]=Ta,mr[pr++]=Ea,mr[pr++]=io,io=r;var m=Ta;r=Ea;var x=32-wt(m)-1;m&=~(1<<x),u+=1;var w=32-wt(l)+x;if(30<w){var O=x-x%5;w=(m&(1<<O)-1).toString(32),m>>=O,x-=O,Ta=1<<32-wt(l)+x|u<<x|m,Ea=w+r}else Ta=1<<w|u<<x|m,Ea=r}function Gm(r){r.return!==null&&(oo(r,1),Ab(r,1,0))}function Km(r){for(;r===Rd;)Rd=ul[--dl],ul[dl]=null,Md=ul[--dl],ul[dl]=null;for(;r===io;)io=mr[--pr],mr[pr]=null,Ea=mr[--pr],mr[pr]=null,Ta=mr[--pr],mr[pr]=null}var Cs=null,Mn=null,Zt=!1,lo=null,Jr=!1,Qm=Error(s(519));function co(r){var l=Error(s(418,""));throw Rc(fr(l,r)),Qm}function Rb(r){var l=r.stateNode,u=r.type,m=r.memoizedProps;switch(l[_e]=r,l[Oe]=m,u){case"dialog":Bt("cancel",l),Bt("close",l);break;case"iframe":case"object":case"embed":Bt("load",l);break;case"video":case"audio":for(u=0;u<su.length;u++)Bt(su[u],l);break;case"source":Bt("error",l);break;case"img":case"image":case"link":Bt("error",l),Bt("load",l);break;case"details":Bt("toggle",l);break;case"input":Bt("invalid",l),_d(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),Xi(l);break;case"select":Bt("invalid",l);break;case"textarea":Bt("invalid",l),wc(l,m.value,m.defaultValue,m.children),Xi(l)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||m.suppressHydrationWarning===!0||Kw(l.textContent,u)?(m.popover!=null&&(Bt("beforetoggle",l),Bt("toggle",l)),m.onScroll!=null&&Bt("scroll",l),m.onScrollEnd!=null&&Bt("scrollend",l),m.onClick!=null&&(l.onclick=pf),l=!0):l=!1,l||co(r)}function Mb(r){for(Cs=r.return;Cs;)switch(Cs.tag){case 5:case 13:Jr=!1;return;case 27:case 3:Jr=!0;return;default:Cs=Cs.return}}function Oc(r){if(r!==Cs)return!1;if(!Zt)return Mb(r),Zt=!0,!1;var l=r.tag,u;if((u=l!==3&&l!==27)&&((u=l===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||hg(r.type,r.memoizedProps)),u=!u),u&&Mn&&co(r),Mb(r),l===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,l=0;r;){if(r.nodeType===8)if(u=r.data,u==="/$"){if(l===0){Mn=Lr(r.nextSibling);break e}l--}else u!=="$"&&u!=="$!"&&u!=="$?"||l++;r=r.nextSibling}Mn=null}}else l===27?(l=Mn,bi(r.type)?(r=xg,xg=null,Mn=r):Mn=l):Mn=Cs?Lr(r.stateNode.nextSibling):null;return!0}function Ac(){Mn=Cs=null,Zt=!1}function Pb(){var r=lo;return r!==null&&(Fs===null?Fs=r:Fs.push.apply(Fs,r),lo=null),r}function Rc(r){lo===null?lo=[r]:lo.push(r)}var Zm=le(null),uo=null,ka=null;function ri(r,l,u){V(Zm,l._currentValue),l._currentValue=u}function Ca(r){r._currentValue=Zm.current,re(Zm)}function Jm(r,l,u){for(;r!==null;){var m=r.alternate;if((r.childLanes&l)!==l?(r.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),r===u)break;r=r.return}}function ep(r,l,u,m){var x=r.child;for(x!==null&&(x.return=r);x!==null;){var w=x.dependencies;if(w!==null){var O=x.child;w=w.firstContext;e:for(;w!==null;){var F=w;w=x;for(var Q=0;Q<l.length;Q++)if(F.context===l[Q]){w.lanes|=u,F=w.alternate,F!==null&&(F.lanes|=u),Jm(w.return,u,r),m||(O=null);break e}w=F.next}}else if(x.tag===18){if(O=x.return,O===null)throw Error(s(341));O.lanes|=u,w=O.alternate,w!==null&&(w.lanes|=u),Jm(O,u,r),O=null}else O=x.child;if(O!==null)O.return=x;else for(O=x;O!==null;){if(O===r){O=null;break}if(x=O.sibling,x!==null){x.return=O.return,O=x;break}O=O.return}x=O}}function Mc(r,l,u,m){r=null;for(var x=l,w=!1;x!==null;){if(!w){if((x.flags&524288)!==0)w=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var O=x.alternate;if(O===null)throw Error(s(387));if(O=O.memoizedProps,O!==null){var F=x.type;Gs(x.pendingProps.value,O.value)||(r!==null?r.push(F):r=[F])}}else if(x===Ee.current){if(O=x.alternate,O===null)throw Error(s(387));O.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(r!==null?r.push(cu):r=[cu])}x=x.return}r!==null&&ep(l,r,u,m),l.flags|=262144}function Pd(r){for(r=r.firstContext;r!==null;){if(!Gs(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function fo(r){uo=r,ka=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function js(r){return Lb(uo,r)}function Ld(r,l){return uo===null&&fo(r),Lb(r,l)}function Lb(r,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},ka===null){if(r===null)throw Error(s(308));ka=l,r.dependencies={lanes:0,firstContext:l},r.flags|=524288}else ka=ka.next=l;return u}var fC=typeof AbortController!="undefined"?AbortController:function(){var r=[],l=this.signal={aborted:!1,addEventListener:function(u,m){r.push(m)}};this.abort=function(){l.aborted=!0,r.forEach(function(u){return u()})}},hC=e.unstable_scheduleCallback,mC=e.unstable_NormalPriority,Zn={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tp(){return{controller:new fC,data:new Map,refCount:0}}function Pc(r){r.refCount--,r.refCount===0&&hC(mC,function(){r.controller.abort()})}var Lc=null,np=0,fl=0,hl=null;function pC(r,l){if(Lc===null){var u=Lc=[];np=0,fl=rg(),hl={status:"pending",value:void 0,then:function(m){u.push(m)}}}return np++,l.then(zb,zb),l}function zb(){if(--np===0&&Lc!==null){hl!==null&&(hl.status="fulfilled");var r=Lc;Lc=null,fl=0,hl=null;for(var l=0;l<r.length;l++)(0,r[l])()}}function gC(r,l){var u=[],m={status:"pending",value:null,reason:null,then:function(x){u.push(x)}};return r.then(function(){m.status="fulfilled",m.value=l;for(var x=0;x<u.length;x++)(0,u[x])(l)},function(x){for(m.status="rejected",m.reason=x,x=0;x<u.length;x++)(0,u[x])(void 0)}),m}var Ub=H.S;H.S=function(r,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&pC(r,l),Ub!==null&&Ub(r,l)};var ho=le(null);function sp(){var r=ho.current;return r!==null?r:pn.pooledCache}function zd(r,l){l===null?V(ho,ho.current):V(ho,l.pool)}function Fb(){var r=sp();return r===null?null:{parent:Zn._currentValue,pool:r}}var zc=Error(s(460)),Bb=Error(s(474)),Ud=Error(s(542)),rp={then:function(){}};function $b(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Fd(){}function Hb(r,l,u){switch(u=r[u],u===void 0?r.push(l):u!==l&&(l.then(Fd,Fd),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,Ib(r),r;default:if(typeof l.status=="string")l.then(Fd,Fd);else{if(r=pn,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=l,r.status="pending",r.then(function(m){if(l.status==="pending"){var x=l;x.status="fulfilled",x.value=m}},function(m){if(l.status==="pending"){var x=l;x.status="rejected",x.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,Ib(r),r}throw Uc=l,zc}}var Uc=null;function Vb(){if(Uc===null)throw Error(s(459));var r=Uc;return Uc=null,r}function Ib(r){if(r===zc||r===Ud)throw Error(s(483))}var ai=!1;function ap(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ip(r,l){r=r.updateQueue,l.updateQueue===r&&(l.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ii(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function oi(r,l,u){var m=r.updateQueue;if(m===null)return null;if(m=m.shared,(en&2)!==0){var x=m.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),m.pending=l,l=Od(r),Db(r,null,u),l}return Dd(r,m,l,u),Od(r)}function Fc(r,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194048)!==0)){var m=l.lanes;m&=r.pendingLanes,u|=m,l.lanes=u,jt(r,u)}}function op(r,l){var u=r.updateQueue,m=r.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var x=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var O={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};w===null?x=w=O:w=w.next=O,u=u.next}while(u!==null);w===null?x=w=l:w=w.next=l}else x=w=l;u={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:w,shared:m.shared,callbacks:m.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=l:r.next=l,u.lastBaseUpdate=l}var lp=!1;function Bc(){if(lp){var r=hl;if(r!==null)throw r}}function $c(r,l,u,m){lp=!1;var x=r.updateQueue;ai=!1;var w=x.firstBaseUpdate,O=x.lastBaseUpdate,F=x.shared.pending;if(F!==null){x.shared.pending=null;var Q=F,ye=Q.next;Q.next=null,O===null?w=ye:O.next=ye,O=Q;var Se=r.alternate;Se!==null&&(Se=Se.updateQueue,F=Se.lastBaseUpdate,F!==O&&(F===null?Se.firstBaseUpdate=ye:F.next=ye,Se.lastBaseUpdate=Q))}if(w!==null){var ke=x.baseState;O=0,Se=ye=Q=null,F=w;do{var we=F.lane&-536870913,je=we!==F.lane;if(je?(qt&we)===we:(m&we)===we){we!==0&&we===fl&&(lp=!0),Se!==null&&(Se=Se.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var yt=r,mt=F;we=l;var cn=u;switch(mt.tag){case 1:if(yt=mt.payload,typeof yt=="function"){ke=yt.call(cn,ke,we);break e}ke=yt;break e;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=mt.payload,we=typeof yt=="function"?yt.call(cn,ke,we):yt,we==null)break e;ke=p({},ke,we);break e;case 2:ai=!0}}we=F.callback,we!==null&&(r.flags|=64,je&&(r.flags|=8192),je=x.callbacks,je===null?x.callbacks=[we]:je.push(we))}else je={lane:we,tag:F.tag,payload:F.payload,callback:F.callback,next:null},Se===null?(ye=Se=je,Q=ke):Se=Se.next=je,O|=we;if(F=F.next,F===null){if(F=x.shared.pending,F===null)break;je=F,F=je.next,je.next=null,x.lastBaseUpdate=je,x.shared.pending=null}}while(!0);Se===null&&(Q=ke),x.baseState=Q,x.firstBaseUpdate=ye,x.lastBaseUpdate=Se,w===null&&(x.shared.lanes=0),pi|=O,r.lanes=O,r.memoizedState=ke}}function qb(r,l){if(typeof r!="function")throw Error(s(191,r));r.call(l)}function Wb(r,l){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)qb(u[r],l)}var ml=le(null),Bd=le(0);function Yb(r,l){r=La,V(Bd,r),V(ml,l),La=r|l.baseLanes}function cp(){V(Bd,La),V(ml,ml.current)}function up(){La=Bd.current,re(ml),re(Bd)}var li=0,Mt=null,on=null,Hn=null,$d=!1,pl=!1,mo=!1,Hd=0,Hc=0,gl=null,xC=0;function Ln(){throw Error(s(321))}function dp(r,l){if(l===null)return!1;for(var u=0;u<l.length&&u<r.length;u++)if(!Gs(r[u],l[u]))return!1;return!0}function fp(r,l,u,m,x,w){return li=w,Mt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,H.H=r===null||r.memoizedState===null?Dv:Ov,mo=!1,w=u(m,x),mo=!1,pl&&(w=Gb(l,u,m,x)),Xb(r),w}function Xb(r){H.H=Xd;var l=on!==null&&on.next!==null;if(li=0,Hn=on=Mt=null,$d=!1,Hc=0,gl=null,l)throw Error(s(300));r===null||as||(r=r.dependencies,r!==null&&Pd(r)&&(as=!0))}function Gb(r,l,u,m){Mt=r;var x=0;do{if(pl&&(gl=null),Hc=0,pl=!1,25<=x)throw Error(s(301));if(x+=1,Hn=on=null,r.updateQueue!=null){var w=r.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}H.H=NC,w=l(u,m)}while(pl);return w}function yC(){var r=H.H,l=r.useState()[0];return l=typeof l.then=="function"?Vc(l):l,r=r.useState()[0],(on!==null?on.memoizedState:null)!==r&&(Mt.flags|=1024),l}function hp(){var r=Hd!==0;return Hd=0,r}function mp(r,l,u){l.updateQueue=r.updateQueue,l.flags&=-2053,r.lanes&=~u}function pp(r){if($d){for(r=r.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}$d=!1}li=0,Hn=on=Mt=null,pl=!1,Hc=Hd=0,gl=null}function zs(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?Mt.memoizedState=Hn=r:Hn=Hn.next=r,Hn}function Vn(){if(on===null){var r=Mt.alternate;r=r!==null?r.memoizedState:null}else r=on.next;var l=Hn===null?Mt.memoizedState:Hn.next;if(l!==null)Hn=l,on=r;else{if(r===null)throw Mt.alternate===null?Error(s(467)):Error(s(310));on=r,r={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},Hn===null?Mt.memoizedState=Hn=r:Hn=Hn.next=r}return Hn}function gp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vc(r){var l=Hc;return Hc+=1,gl===null&&(gl=[]),r=Hb(gl,r,l),l=Mt,(Hn===null?l.memoizedState:Hn.next)===null&&(l=l.alternate,H.H=l===null||l.memoizedState===null?Dv:Ov),r}function Vd(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Vc(r);if(r.$$typeof===E)return js(r)}throw Error(s(438,String(r)))}function xp(r){var l=null,u=Mt.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var m=Mt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(x){return x.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=gp(),Mt.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(r),m=0;m<r;m++)u[m]=K;return l.index++,u}function Da(r,l){return typeof l=="function"?l(r):l}function Id(r){var l=Vn();return yp(l,on,r)}function yp(r,l,u){var m=r.queue;if(m===null)throw Error(s(311));m.lastRenderedReducer=u;var x=r.baseQueue,w=m.pending;if(w!==null){if(x!==null){var O=x.next;x.next=w.next,w.next=O}l.baseQueue=x=w,m.pending=null}if(w=r.baseState,x===null)r.memoizedState=w;else{l=x.next;var F=O=null,Q=null,ye=l,Se=!1;do{var ke=ye.lane&-536870913;if(ke!==ye.lane?(qt&ke)===ke:(li&ke)===ke){var we=ye.revertLane;if(we===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null}),ke===fl&&(Se=!0);else if((li&we)===we){ye=ye.next,we===fl&&(Se=!0);continue}else ke={lane:0,revertLane:ye.revertLane,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null},Q===null?(F=Q=ke,O=w):Q=Q.next=ke,Mt.lanes|=we,pi|=we;ke=ye.action,mo&&u(w,ke),w=ye.hasEagerState?ye.eagerState:u(w,ke)}else we={lane:ke,revertLane:ye.revertLane,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null},Q===null?(F=Q=we,O=w):Q=Q.next=we,Mt.lanes|=ke,pi|=ke;ye=ye.next}while(ye!==null&&ye!==l);if(Q===null?O=w:Q.next=F,!Gs(w,r.memoizedState)&&(as=!0,Se&&(u=hl,u!==null)))throw u;r.memoizedState=w,r.baseState=O,r.baseQueue=Q,m.lastRenderedState=w}return x===null&&(m.lanes=0),[r.memoizedState,m.dispatch]}function bp(r){var l=Vn(),u=l.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=r;var m=u.dispatch,x=u.pending,w=l.memoizedState;if(x!==null){u.pending=null;var O=x=x.next;do w=r(w,O.action),O=O.next;while(O!==x);Gs(w,l.memoizedState)||(as=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),u.lastRenderedState=w}return[w,m]}function Kb(r,l,u){var m=Mt,x=Vn(),w=Zt;if(w){if(u===void 0)throw Error(s(407));u=u()}else u=l();var O=!Gs((on||x).memoizedState,u);O&&(x.memoizedState=u,as=!0),x=x.queue;var F=Jb.bind(null,m,x,r);if(Ic(2048,8,F,[r]),x.getSnapshot!==l||O||Hn!==null&&Hn.memoizedState.tag&1){if(m.flags|=2048,xl(9,qd(),Zb.bind(null,m,x,u,l),null),pn===null)throw Error(s(349));w||(li&124)!==0||Qb(m,l,u)}return u}function Qb(r,l,u){r.flags|=16384,r={getSnapshot:l,value:u},l=Mt.updateQueue,l===null?(l=gp(),Mt.updateQueue=l,l.stores=[r]):(u=l.stores,u===null?l.stores=[r]:u.push(r))}function Zb(r,l,u,m){l.value=u,l.getSnapshot=m,ev(l)&&tv(r)}function Jb(r,l,u){return u(function(){ev(l)&&tv(r)})}function ev(r){var l=r.getSnapshot;r=r.value;try{var u=l();return!Gs(r,u)}catch(m){return!0}}function tv(r){var l=ll(r,2);l!==null&&tr(l,r,2)}function vp(r){var l=zs();if(typeof r=="function"){var u=r;if(r=u(),mo){et(!0);try{u()}finally{et(!1)}}}return l.memoizedState=l.baseState=r,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:r},l}function nv(r,l,u,m){return r.baseState=u,yp(r,on,typeof m=="function"?m:Da)}function bC(r,l,u,m,x){if(Yd(r))throw Error(s(485));if(r=l.action,r!==null){var w={payload:x,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){w.listeners.push(O)}};H.T!==null?u(!0):w.isTransition=!1,m(w),u=l.pending,u===null?(w.next=l.pending=w,sv(l,w)):(w.next=u.next,l.pending=u.next=w)}}function sv(r,l){var u=l.action,m=l.payload,x=r.state;if(l.isTransition){var w=H.T,O={};H.T=O;try{var F=u(x,m),Q=H.S;Q!==null&&Q(O,F),rv(r,l,F)}catch(ye){wp(r,l,ye)}finally{H.T=w}}else try{w=u(x,m),rv(r,l,w)}catch(ye){wp(r,l,ye)}}function rv(r,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){av(r,l,m)},function(m){return wp(r,l,m)}):av(r,l,u)}function av(r,l,u){l.status="fulfilled",l.value=u,iv(l),r.state=u,l=r.pending,l!==null&&(u=l.next,u===l?r.pending=null:(u=u.next,l.next=u,sv(r,u)))}function wp(r,l,u){var m=r.pending;if(r.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=u,iv(l),l=l.next;while(l!==m)}r.action=null}function iv(r){r=r.listeners;for(var l=0;l<r.length;l++)(0,r[l])()}function ov(r,l){return l}function lv(r,l){if(Zt){var u=pn.formState;if(u!==null){e:{var m=Mt;if(Zt){if(Mn){t:{for(var x=Mn,w=Jr;x.nodeType!==8;){if(!w){x=null;break t}if(x=Lr(x.nextSibling),x===null){x=null;break t}}w=x.data,x=w==="F!"||w==="F"?x:null}if(x){Mn=Lr(x.nextSibling),m=x.data==="F!";break e}}co(m)}m=!1}m&&(l=u[0])}}return u=zs(),u.memoizedState=u.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ov,lastRenderedState:l},u.queue=m,u=Ev.bind(null,Mt,m),m.dispatch=u,m=vp(!1),w=Tp.bind(null,Mt,!1,m.queue),m=zs(),x={state:l,dispatch:null,action:r,pending:null},m.queue=x,u=bC.bind(null,Mt,x,w,u),x.dispatch=u,m.memoizedState=r,[l,u,!1]}function cv(r){var l=Vn();return uv(l,on,r)}function uv(r,l,u){if(l=yp(r,l,ov)[0],r=Id(Da)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=Vc(l)}catch(O){throw O===zc?Ud:O}else m=l;l=Vn();var x=l.queue,w=x.dispatch;return u!==l.memoizedState&&(Mt.flags|=2048,xl(9,qd(),vC.bind(null,x,u),null)),[m,w,r]}function vC(r,l){r.action=l}function dv(r){var l=Vn(),u=on;if(u!==null)return uv(l,u,r);Vn(),l=l.memoizedState,u=Vn();var m=u.queue.dispatch;return u.memoizedState=r,[l,m,!1]}function xl(r,l,u,m){return r={tag:r,create:u,deps:m,inst:l,next:null},l=Mt.updateQueue,l===null&&(l=gp(),Mt.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=r.next=r:(m=u.next,u.next=r,r.next=m,l.lastEffect=r),r}function qd(){return{destroy:void 0,resource:void 0}}function fv(){return Vn().memoizedState}function Wd(r,l,u,m){var x=zs();m=m===void 0?null:m,Mt.flags|=r,x.memoizedState=xl(1|l,qd(),u,m)}function Ic(r,l,u,m){var x=Vn();m=m===void 0?null:m;var w=x.memoizedState.inst;on!==null&&m!==null&&dp(m,on.memoizedState.deps)?x.memoizedState=xl(l,w,u,m):(Mt.flags|=r,x.memoizedState=xl(1|l,w,u,m))}function hv(r,l){Wd(8390656,8,r,l)}function mv(r,l){Ic(2048,8,r,l)}function pv(r,l){return Ic(4,2,r,l)}function gv(r,l){return Ic(4,4,r,l)}function xv(r,l){if(typeof l=="function"){r=r();var u=l(r);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return r=r(),l.current=r,function(){l.current=null}}function yv(r,l,u){u=u!=null?u.concat([r]):null,Ic(4,4,xv.bind(null,l,r),u)}function jp(){}function bv(r,l){var u=Vn();l=l===void 0?null:l;var m=u.memoizedState;return l!==null&&dp(l,m[1])?m[0]:(u.memoizedState=[r,l],r)}function vv(r,l){var u=Vn();l=l===void 0?null:l;var m=u.memoizedState;if(l!==null&&dp(l,m[1]))return m[0];if(m=r(),mo){et(!0);try{r()}finally{et(!1)}}return u.memoizedState=[m,l],m}function _p(r,l,u){return u===void 0||(li&1073741824)!==0?r.memoizedState=l:(r.memoizedState=u,r=_w(),Mt.lanes|=r,pi|=r,u)}function wv(r,l,u,m){return Gs(u,l)?u:ml.current!==null?(r=_p(r,u,m),Gs(r,l)||(as=!0),r):(li&42)===0?(as=!0,r.memoizedState=u):(r=_w(),Mt.lanes|=r,pi|=r,l)}function jv(r,l,u,m,x){var w=J.p;J.p=w!==0&&8>w?w:8;var O=H.T,F={};H.T=F,Tp(r,!1,l,u);try{var Q=x(),ye=H.S;if(ye!==null&&ye(F,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var Se=gC(Q,m);qc(r,l,Se,er(r))}else qc(r,l,m,er(r))}catch(ke){qc(r,l,{then:function(){},status:"rejected",reason:ke},er())}finally{J.p=w,H.T=O}}function wC(){}function Np(r,l,u,m){if(r.tag!==5)throw Error(s(476));var x=_v(r).queue;jv(r,x,l,te,u===null?wC:function(){return Nv(r),u(m)})}function _v(r){var l=r.memoizedState;if(l!==null)return l;l={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:te},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:u},next:null},r.memoizedState=l,r=r.alternate,r!==null&&(r.memoizedState=l),l}function Nv(r){var l=_v(r).next.queue;qc(r,l,{},er())}function Sp(){return js(cu)}function Sv(){return Vn().memoizedState}function Tv(){return Vn().memoizedState}function jC(r){for(var l=r.return;l!==null;){switch(l.tag){case 24:case 3:var u=er();r=ii(u);var m=oi(l,r,u);m!==null&&(tr(m,l,u),Fc(m,l,u)),l={cache:tp()},r.payload=l;return}l=l.return}}function _C(r,l,u){var m=er();u={lane:m,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Yd(r)?kv(l,u):(u=qm(r,l,u,m),u!==null&&(tr(u,r,m),Cv(u,l,m)))}function Ev(r,l,u){var m=er();qc(r,l,u,m)}function qc(r,l,u,m){var x={lane:m,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Yd(r))kv(l,x);else{var w=r.alternate;if(r.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var O=l.lastRenderedState,F=w(O,u);if(x.hasEagerState=!0,x.eagerState=F,Gs(F,O))return Dd(r,l,x,0),pn===null&&Cd(),!1}catch(Q){}finally{}if(u=qm(r,l,x,m),u!==null)return tr(u,r,m),Cv(u,l,m),!0}return!1}function Tp(r,l,u,m){if(m={lane:2,revertLane:rg(),action:m,hasEagerState:!1,eagerState:null,next:null},Yd(r)){if(l)throw Error(s(479))}else l=qm(r,u,m,2),l!==null&&tr(l,r,2)}function Yd(r){var l=r.alternate;return r===Mt||l!==null&&l===Mt}function kv(r,l){pl=$d=!0;var u=r.pending;u===null?l.next=l:(l.next=u.next,u.next=l),r.pending=l}function Cv(r,l,u){if((u&4194048)!==0){var m=l.lanes;m&=r.pendingLanes,u|=m,l.lanes=u,jt(r,u)}}var Xd={readContext:js,use:Vd,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useLayoutEffect:Ln,useInsertionEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useSyncExternalStore:Ln,useId:Ln,useHostTransitionStatus:Ln,useFormState:Ln,useActionState:Ln,useOptimistic:Ln,useMemoCache:Ln,useCacheRefresh:Ln},Dv={readContext:js,use:Vd,useCallback:function(r,l){return zs().memoizedState=[r,l===void 0?null:l],r},useContext:js,useEffect:hv,useImperativeHandle:function(r,l,u){u=u!=null?u.concat([r]):null,Wd(4194308,4,xv.bind(null,l,r),u)},useLayoutEffect:function(r,l){return Wd(4194308,4,r,l)},useInsertionEffect:function(r,l){Wd(4,2,r,l)},useMemo:function(r,l){var u=zs();l=l===void 0?null:l;var m=r();if(mo){et(!0);try{r()}finally{et(!1)}}return u.memoizedState=[m,l],m},useReducer:function(r,l,u){var m=zs();if(u!==void 0){var x=u(l);if(mo){et(!0);try{u(l)}finally{et(!1)}}}else x=l;return m.memoizedState=m.baseState=x,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:x},m.queue=r,r=r.dispatch=_C.bind(null,Mt,r),[m.memoizedState,r]},useRef:function(r){var l=zs();return r={current:r},l.memoizedState=r},useState:function(r){r=vp(r);var l=r.queue,u=Ev.bind(null,Mt,l);return l.dispatch=u,[r.memoizedState,u]},useDebugValue:jp,useDeferredValue:function(r,l){var u=zs();return _p(u,r,l)},useTransition:function(){var r=vp(!1);return r=jv.bind(null,Mt,r.queue,!0,!1),zs().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,l,u){var m=Mt,x=zs();if(Zt){if(u===void 0)throw Error(s(407));u=u()}else{if(u=l(),pn===null)throw Error(s(349));(qt&124)!==0||Qb(m,l,u)}x.memoizedState=u;var w={value:u,getSnapshot:l};return x.queue=w,hv(Jb.bind(null,m,w,r),[r]),m.flags|=2048,xl(9,qd(),Zb.bind(null,m,w,u,l),null),u},useId:function(){var r=zs(),l=pn.identifierPrefix;if(Zt){var u=Ea,m=Ta;u=(m&~(1<<32-wt(m)-1)).toString(32)+u,l="«"+l+"R"+u,u=Hd++,0<u&&(l+="H"+u.toString(32)),l+="»"}else u=xC++,l="«"+l+"r"+u.toString(32)+"»";return r.memoizedState=l},useHostTransitionStatus:Sp,useFormState:lv,useActionState:lv,useOptimistic:function(r){var l=zs();l.memoizedState=l.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=Tp.bind(null,Mt,!0,u),u.dispatch=l,[r,l]},useMemoCache:xp,useCacheRefresh:function(){return zs().memoizedState=jC.bind(null,Mt)}},Ov={readContext:js,use:Vd,useCallback:bv,useContext:js,useEffect:mv,useImperativeHandle:yv,useInsertionEffect:pv,useLayoutEffect:gv,useMemo:vv,useReducer:Id,useRef:fv,useState:function(){return Id(Da)},useDebugValue:jp,useDeferredValue:function(r,l){var u=Vn();return wv(u,on.memoizedState,r,l)},useTransition:function(){var r=Id(Da)[0],l=Vn().memoizedState;return[typeof r=="boolean"?r:Vc(r),l]},useSyncExternalStore:Kb,useId:Sv,useHostTransitionStatus:Sp,useFormState:cv,useActionState:cv,useOptimistic:function(r,l){var u=Vn();return nv(u,on,r,l)},useMemoCache:xp,useCacheRefresh:Tv},NC={readContext:js,use:Vd,useCallback:bv,useContext:js,useEffect:mv,useImperativeHandle:yv,useInsertionEffect:pv,useLayoutEffect:gv,useMemo:vv,useReducer:bp,useRef:fv,useState:function(){return bp(Da)},useDebugValue:jp,useDeferredValue:function(r,l){var u=Vn();return on===null?_p(u,r,l):wv(u,on.memoizedState,r,l)},useTransition:function(){var r=bp(Da)[0],l=Vn().memoizedState;return[typeof r=="boolean"?r:Vc(r),l]},useSyncExternalStore:Kb,useId:Sv,useHostTransitionStatus:Sp,useFormState:dv,useActionState:dv,useOptimistic:function(r,l){var u=Vn();return on!==null?nv(u,on,r,l):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:xp,useCacheRefresh:Tv},yl=null,Wc=0;function Gd(r){var l=Wc;return Wc+=1,yl===null&&(yl=[]),Hb(yl,r,l)}function Yc(r,l){l=l.props.ref,r.ref=l!==void 0?l:null}function Kd(r,l){throw l.$$typeof===g?Error(s(525)):(r=Object.prototype.toString.call(l),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":r)))}function Av(r){var l=r._init;return l(r._payload)}function Rv(r){function l(de,ae){if(r){var ge=de.deletions;ge===null?(de.deletions=[ae],de.flags|=16):ge.push(ae)}}function u(de,ae){if(!r)return null;for(;ae!==null;)l(de,ae),ae=ae.sibling;return null}function m(de){for(var ae=new Map;de!==null;)de.key!==null?ae.set(de.key,de):ae.set(de.index,de),de=de.sibling;return ae}function x(de,ae){return de=Sa(de,ae),de.index=0,de.sibling=null,de}function w(de,ae,ge){return de.index=ge,r?(ge=de.alternate,ge!==null?(ge=ge.index,ge<ae?(de.flags|=67108866,ae):ge):(de.flags|=67108866,ae)):(de.flags|=1048576,ae)}function O(de){return r&&de.alternate===null&&(de.flags|=67108866),de}function F(de,ae,ge,Te){return ae===null||ae.tag!==6?(ae=Ym(ge,de.mode,Te),ae.return=de,ae):(ae=x(ae,ge),ae.return=de,ae)}function Q(de,ae,ge,Te){var Qe=ge.type;return Qe===j?Se(de,ae,ge.props.children,Te,ge.key):ae!==null&&(ae.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===P&&Av(Qe)===ae.type)?(ae=x(ae,ge.props),Yc(ae,ge),ae.return=de,ae):(ae=Ad(ge.type,ge.key,ge.props,null,de.mode,Te),Yc(ae,ge),ae.return=de,ae)}function ye(de,ae,ge,Te){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==ge.containerInfo||ae.stateNode.implementation!==ge.implementation?(ae=Xm(ge,de.mode,Te),ae.return=de,ae):(ae=x(ae,ge.children||[]),ae.return=de,ae)}function Se(de,ae,ge,Te,Qe){return ae===null||ae.tag!==7?(ae=ao(ge,de.mode,Te,Qe),ae.return=de,ae):(ae=x(ae,ge),ae.return=de,ae)}function ke(de,ae,ge){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=Ym(""+ae,de.mode,ge),ae.return=de,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case y:return ge=Ad(ae.type,ae.key,ae.props,null,de.mode,ge),Yc(ge,ae),ge.return=de,ge;case b:return ae=Xm(ae,de.mode,ge),ae.return=de,ae;case P:var Te=ae._init;return ae=Te(ae._payload),ke(de,ae,ge)}if(Y(ae)||G(ae))return ae=ao(ae,de.mode,ge,null),ae.return=de,ae;if(typeof ae.then=="function")return ke(de,Gd(ae),ge);if(ae.$$typeof===E)return ke(de,Ld(de,ae),ge);Kd(de,ae)}return null}function we(de,ae,ge,Te){var Qe=ae!==null?ae.key:null;if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return Qe!==null?null:F(de,ae,""+ge,Te);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case y:return ge.key===Qe?Q(de,ae,ge,Te):null;case b:return ge.key===Qe?ye(de,ae,ge,Te):null;case P:return Qe=ge._init,ge=Qe(ge._payload),we(de,ae,ge,Te)}if(Y(ge)||G(ge))return Qe!==null?null:Se(de,ae,ge,Te,null);if(typeof ge.then=="function")return we(de,ae,Gd(ge),Te);if(ge.$$typeof===E)return we(de,ae,Ld(de,ge),Te);Kd(de,ge)}return null}function je(de,ae,ge,Te,Qe){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return de=de.get(ge)||null,F(ae,de,""+Te,Qe);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case y:return de=de.get(Te.key===null?ge:Te.key)||null,Q(ae,de,Te,Qe);case b:return de=de.get(Te.key===null?ge:Te.key)||null,ye(ae,de,Te,Qe);case P:var Lt=Te._init;return Te=Lt(Te._payload),je(de,ae,ge,Te,Qe)}if(Y(Te)||G(Te))return de=de.get(ge)||null,Se(ae,de,Te,Qe,null);if(typeof Te.then=="function")return je(de,ae,ge,Gd(Te),Qe);if(Te.$$typeof===E)return je(de,ae,ge,Ld(ae,Te),Qe);Kd(ae,Te)}return null}function yt(de,ae,ge,Te){for(var Qe=null,Lt=null,lt=ae,xt=ae=0,os=null;lt!==null&&xt<ge.length;xt++){lt.index>xt?(os=lt,lt=null):os=lt.sibling;var Gt=we(de,lt,ge[xt],Te);if(Gt===null){lt===null&&(lt=os);break}r&&lt&&Gt.alternate===null&&l(de,lt),ae=w(Gt,ae,xt),Lt===null?Qe=Gt:Lt.sibling=Gt,Lt=Gt,lt=os}if(xt===ge.length)return u(de,lt),Zt&&oo(de,xt),Qe;if(lt===null){for(;xt<ge.length;xt++)lt=ke(de,ge[xt],Te),lt!==null&&(ae=w(lt,ae,xt),Lt===null?Qe=lt:Lt.sibling=lt,Lt=lt);return Zt&&oo(de,xt),Qe}for(lt=m(lt);xt<ge.length;xt++)os=je(lt,de,xt,ge[xt],Te),os!==null&&(r&&os.alternate!==null&&lt.delete(os.key===null?xt:os.key),ae=w(os,ae,xt),Lt===null?Qe=os:Lt.sibling=os,Lt=os);return r&&lt.forEach(function(Ni){return l(de,Ni)}),Zt&&oo(de,xt),Qe}function mt(de,ae,ge,Te){if(ge==null)throw Error(s(151));for(var Qe=null,Lt=null,lt=ae,xt=ae=0,os=null,Gt=ge.next();lt!==null&&!Gt.done;xt++,Gt=ge.next()){lt.index>xt?(os=lt,lt=null):os=lt.sibling;var Ni=we(de,lt,Gt.value,Te);if(Ni===null){lt===null&&(lt=os);break}r&&lt&&Ni.alternate===null&&l(de,lt),ae=w(Ni,ae,xt),Lt===null?Qe=Ni:Lt.sibling=Ni,Lt=Ni,lt=os}if(Gt.done)return u(de,lt),Zt&&oo(de,xt),Qe;if(lt===null){for(;!Gt.done;xt++,Gt=ge.next())Gt=ke(de,Gt.value,Te),Gt!==null&&(ae=w(Gt,ae,xt),Lt===null?Qe=Gt:Lt.sibling=Gt,Lt=Gt);return Zt&&oo(de,xt),Qe}for(lt=m(lt);!Gt.done;xt++,Gt=ge.next())Gt=je(lt,de,xt,Gt.value,Te),Gt!==null&&(r&&Gt.alternate!==null&&lt.delete(Gt.key===null?xt:Gt.key),ae=w(Gt,ae,xt),Lt===null?Qe=Gt:Lt.sibling=Gt,Lt=Gt);return r&&lt.forEach(function(SD){return l(de,SD)}),Zt&&oo(de,xt),Qe}function cn(de,ae,ge,Te){if(typeof ge=="object"&&ge!==null&&ge.type===j&&ge.key===null&&(ge=ge.props.children),typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case y:e:{for(var Qe=ge.key;ae!==null;){if(ae.key===Qe){if(Qe=ge.type,Qe===j){if(ae.tag===7){u(de,ae.sibling),Te=x(ae,ge.props.children),Te.return=de,de=Te;break e}}else if(ae.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===P&&Av(Qe)===ae.type){u(de,ae.sibling),Te=x(ae,ge.props),Yc(Te,ge),Te.return=de,de=Te;break e}u(de,ae);break}else l(de,ae);ae=ae.sibling}ge.type===j?(Te=ao(ge.props.children,de.mode,Te,ge.key),Te.return=de,de=Te):(Te=Ad(ge.type,ge.key,ge.props,null,de.mode,Te),Yc(Te,ge),Te.return=de,de=Te)}return O(de);case b:e:{for(Qe=ge.key;ae!==null;){if(ae.key===Qe)if(ae.tag===4&&ae.stateNode.containerInfo===ge.containerInfo&&ae.stateNode.implementation===ge.implementation){u(de,ae.sibling),Te=x(ae,ge.children||[]),Te.return=de,de=Te;break e}else{u(de,ae);break}else l(de,ae);ae=ae.sibling}Te=Xm(ge,de.mode,Te),Te.return=de,de=Te}return O(de);case P:return Qe=ge._init,ge=Qe(ge._payload),cn(de,ae,ge,Te)}if(Y(ge))return yt(de,ae,ge,Te);if(G(ge)){if(Qe=G(ge),typeof Qe!="function")throw Error(s(150));return ge=Qe.call(ge),mt(de,ae,ge,Te)}if(typeof ge.then=="function")return cn(de,ae,Gd(ge),Te);if(ge.$$typeof===E)return cn(de,ae,Ld(de,ge),Te);Kd(de,ge)}return typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint"?(ge=""+ge,ae!==null&&ae.tag===6?(u(de,ae.sibling),Te=x(ae,ge),Te.return=de,de=Te):(u(de,ae),Te=Ym(ge,de.mode,Te),Te.return=de,de=Te),O(de)):u(de,ae)}return function(de,ae,ge,Te){try{Wc=0;var Qe=cn(de,ae,ge,Te);return yl=null,Qe}catch(lt){if(lt===zc||lt===Ud)throw lt;var Lt=Ks(29,lt,null,de.mode);return Lt.lanes=Te,Lt.return=de,Lt}finally{}}}var bl=Rv(!0),Mv=Rv(!1),gr=le(null),ea=null;function ci(r){var l=r.alternate;V(Jn,Jn.current&1),V(gr,r),ea===null&&(l===null||ml.current!==null||l.memoizedState!==null)&&(ea=r)}function Pv(r){if(r.tag===22){if(V(Jn,Jn.current),V(gr,r),ea===null){var l=r.alternate;l!==null&&l.memoizedState!==null&&(ea=r)}}else ui()}function ui(){V(Jn,Jn.current),V(gr,gr.current)}function Oa(r){re(gr),ea===r&&(ea=null),re(Jn)}var Jn=le(0);function Qd(r){for(var l=r;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||gg(u)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function Ep(r,l,u,m){l=r.memoizedState,u=u(m,l),u=u==null?l:p({},l,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var kp={enqueueSetState:function(r,l,u){r=r._reactInternals;var m=er(),x=ii(m);x.payload=l,u!=null&&(x.callback=u),l=oi(r,x,m),l!==null&&(tr(l,r,m),Fc(l,r,m))},enqueueReplaceState:function(r,l,u){r=r._reactInternals;var m=er(),x=ii(m);x.tag=1,x.payload=l,u!=null&&(x.callback=u),l=oi(r,x,m),l!==null&&(tr(l,r,m),Fc(l,r,m))},enqueueForceUpdate:function(r,l){r=r._reactInternals;var u=er(),m=ii(u);m.tag=2,l!=null&&(m.callback=l),l=oi(r,m,u),l!==null&&(tr(l,r,u),Fc(l,r,u))}};function Lv(r,l,u,m,x,w,O){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(m,w,O):l.prototype&&l.prototype.isPureReactComponent?!Cc(u,m)||!Cc(x,w):!0}function zv(r,l,u,m){r=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,m),l.state!==r&&kp.enqueueReplaceState(l,l.state,null)}function po(r,l){var u=l;if("ref"in l){u={};for(var m in l)m!=="ref"&&(u[m]=l[m])}if(r=r.defaultProps){u===l&&(u=p({},u));for(var x in r)u[x]===void 0&&(u[x]=r[x])}return u}var Zd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Uv(r){Zd(r)}function Fv(r){console.error(r)}function Bv(r){Zd(r)}function Jd(r,l){try{var u=r.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function $v(r,l,u){try{var m=r.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function Cp(r,l,u){return u=ii(u),u.tag=3,u.payload={element:null},u.callback=function(){Jd(r,l)},u}function Hv(r){return r=ii(r),r.tag=3,r}function Vv(r,l,u,m){var x=u.type.getDerivedStateFromError;if(typeof x=="function"){var w=m.value;r.payload=function(){return x(w)},r.callback=function(){$v(l,u,m)}}var O=u.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(r.callback=function(){$v(l,u,m),typeof x!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var F=m.stack;this.componentDidCatch(m.value,{componentStack:F!==null?F:""})})}function SC(r,l,u,m,x){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=u.alternate,l!==null&&Mc(l,u,x,!0),u=gr.current,u!==null){switch(u.tag){case 13:return ea===null?Jp():u.alternate===null&&Pn===0&&(Pn=3),u.flags&=-257,u.flags|=65536,u.lanes=x,m===rp?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([m]):l.add(m),tg(r,m,x)),!1;case 22:return u.flags|=65536,m===rp?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([m]):u.add(m)),tg(r,m,x)),!1}throw Error(s(435,u.tag))}return tg(r,m,x),Jp(),!1}if(Zt)return l=gr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=x,m!==Qm&&(r=Error(s(422),{cause:m}),Rc(fr(r,u)))):(m!==Qm&&(l=Error(s(423),{cause:m}),Rc(fr(l,u))),r=r.current.alternate,r.flags|=65536,x&=-x,r.lanes|=x,m=fr(m,u),x=Cp(r.stateNode,m,x),op(r,x),Pn!==4&&(Pn=2)),!1;var w=Error(s(520),{cause:m});if(w=fr(w,u),eu===null?eu=[w]:eu.push(w),Pn!==4&&(Pn=2),l===null)return!0;m=fr(m,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,r=x&-x,u.lanes|=r,r=Cp(u.stateNode,m,r),op(u,r),!1;case 1:if(l=u.type,w=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(gi===null||!gi.has(w))))return u.flags|=65536,x&=-x,u.lanes|=x,x=Hv(x),Vv(x,r,u,m),op(u,x),!1}u=u.return}while(u!==null);return!1}var Iv=Error(s(461)),as=!1;function ds(r,l,u,m){l.child=r===null?Mv(l,null,u,m):bl(l,r.child,u,m)}function qv(r,l,u,m,x){u=u.render;var w=l.ref;if("ref"in m){var O={};for(var F in m)F!=="ref"&&(O[F]=m[F])}else O=m;return fo(l),m=fp(r,l,u,O,w,x),F=hp(),r!==null&&!as?(mp(r,l,x),Aa(r,l,x)):(Zt&&F&&Gm(l),l.flags|=1,ds(r,l,m,x),l.child)}function Wv(r,l,u,m,x){if(r===null){var w=u.type;return typeof w=="function"&&!Wm(w)&&w.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=w,Yv(r,l,w,m,x)):(r=Ad(u.type,null,m,l,l.mode,x),r.ref=l.ref,r.return=l,l.child=r)}if(w=r.child,!zp(r,x)){var O=w.memoizedProps;if(u=u.compare,u=u!==null?u:Cc,u(O,m)&&r.ref===l.ref)return Aa(r,l,x)}return l.flags|=1,r=Sa(w,m),r.ref=l.ref,r.return=l,l.child=r}function Yv(r,l,u,m,x){if(r!==null){var w=r.memoizedProps;if(Cc(w,m)&&r.ref===l.ref)if(as=!1,l.pendingProps=m=w,zp(r,x))(r.flags&131072)!==0&&(as=!0);else return l.lanes=r.lanes,Aa(r,l,x)}return Dp(r,l,u,m,x)}function Xv(r,l,u){var m=l.pendingProps,x=m.children,w=r!==null?r.memoizedState:null;if(m.mode==="hidden"){if((l.flags&128)!==0){if(m=w!==null?w.baseLanes|u:u,r!==null){for(x=l.child=r.child,w=0;x!==null;)w=w|x.lanes|x.childLanes,x=x.sibling;l.childLanes=w&~m}else l.childLanes=0,l.child=null;return Gv(r,l,m,u)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},r!==null&&zd(l,w!==null?w.cachePool:null),w!==null?Yb(l,w):cp(),Pv(l);else return l.lanes=l.childLanes=536870912,Gv(r,l,w!==null?w.baseLanes|u:u,u)}else w!==null?(zd(l,w.cachePool),Yb(l,w),ui(),l.memoizedState=null):(r!==null&&zd(l,null),cp(),ui());return ds(r,l,x,u),l.child}function Gv(r,l,u,m){var x=sp();return x=x===null?null:{parent:Zn._currentValue,pool:x},l.memoizedState={baseLanes:u,cachePool:x},r!==null&&zd(l,null),cp(),Pv(l),r!==null&&Mc(r,l,m,!0),null}function ef(r,l){var u=l.ref;if(u===null)r!==null&&r.ref!==null&&(l.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(s(284));(r===null||r.ref!==u)&&(l.flags|=4194816)}}function Dp(r,l,u,m,x){return fo(l),u=fp(r,l,u,m,void 0,x),m=hp(),r!==null&&!as?(mp(r,l,x),Aa(r,l,x)):(Zt&&m&&Gm(l),l.flags|=1,ds(r,l,u,x),l.child)}function Kv(r,l,u,m,x,w){return fo(l),l.updateQueue=null,u=Gb(l,m,u,x),Xb(r),m=hp(),r!==null&&!as?(mp(r,l,w),Aa(r,l,w)):(Zt&&m&&Gm(l),l.flags|=1,ds(r,l,u,w),l.child)}function Qv(r,l,u,m,x){if(fo(l),l.stateNode===null){var w=cl,O=u.contextType;typeof O=="object"&&O!==null&&(w=js(O)),w=new u(m,w),l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=kp,l.stateNode=w,w._reactInternals=l,w=l.stateNode,w.props=m,w.state=l.memoizedState,w.refs={},ap(l),O=u.contextType,w.context=typeof O=="object"&&O!==null?js(O):cl,w.state=l.memoizedState,O=u.getDerivedStateFromProps,typeof O=="function"&&(Ep(l,u,O,m),w.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(O=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),O!==w.state&&kp.enqueueReplaceState(w,w.state,null),$c(l,m,w,x),Bc(),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(r===null){w=l.stateNode;var F=l.memoizedProps,Q=po(u,F);w.props=Q;var ye=w.context,Se=u.contextType;O=cl,typeof Se=="object"&&Se!==null&&(O=js(Se));var ke=u.getDerivedStateFromProps;Se=typeof ke=="function"||typeof w.getSnapshotBeforeUpdate=="function",F=l.pendingProps!==F,Se||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(F||ye!==O)&&zv(l,w,m,O),ai=!1;var we=l.memoizedState;w.state=we,$c(l,m,w,x),Bc(),ye=l.memoizedState,F||we!==ye||ai?(typeof ke=="function"&&(Ep(l,u,ke,m),ye=l.memoizedState),(Q=ai||Lv(l,u,Q,m,we,ye,O))?(Se||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(l.flags|=4194308)):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=ye),w.props=m,w.state=ye,w.context=O,m=Q):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{w=l.stateNode,ip(r,l),O=l.memoizedProps,Se=po(u,O),w.props=Se,ke=l.pendingProps,we=w.context,ye=u.contextType,Q=cl,typeof ye=="object"&&ye!==null&&(Q=js(ye)),F=u.getDerivedStateFromProps,(ye=typeof F=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(O!==ke||we!==Q)&&zv(l,w,m,Q),ai=!1,we=l.memoizedState,w.state=we,$c(l,m,w,x),Bc();var je=l.memoizedState;O!==ke||we!==je||ai||r!==null&&r.dependencies!==null&&Pd(r.dependencies)?(typeof F=="function"&&(Ep(l,u,F,m),je=l.memoizedState),(Se=ai||Lv(l,u,Se,m,we,je,Q)||r!==null&&r.dependencies!==null&&Pd(r.dependencies))?(ye||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(m,je,Q),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(m,je,Q)),typeof w.componentDidUpdate=="function"&&(l.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof w.componentDidUpdate!="function"||O===r.memoizedProps&&we===r.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&we===r.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=je),w.props=m,w.state=je,w.context=Q,m=Se):(typeof w.componentDidUpdate!="function"||O===r.memoizedProps&&we===r.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&we===r.memoizedState||(l.flags|=1024),m=!1)}return w=m,ef(r,l),m=(l.flags&128)!==0,w||m?(w=l.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:w.render(),l.flags|=1,r!==null&&m?(l.child=bl(l,r.child,null,x),l.child=bl(l,null,u,x)):ds(r,l,u,x),l.memoizedState=w.state,r=l.child):r=Aa(r,l,x),r}function Zv(r,l,u,m){return Ac(),l.flags|=256,ds(r,l,u,m),l.child}var Op={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ap(r){return{baseLanes:r,cachePool:Fb()}}function Rp(r,l,u){return r=r!==null?r.childLanes&~u:0,l&&(r|=xr),r}function Jv(r,l,u){var m=l.pendingProps,x=!1,w=(l.flags&128)!==0,O;if((O=w)||(O=r!==null&&r.memoizedState===null?!1:(Jn.current&2)!==0),O&&(x=!0,l.flags&=-129),O=(l.flags&32)!==0,l.flags&=-33,r===null){if(Zt){if(x?ci(l):ui(),Zt){var F=Mn,Q;if(Q=F){e:{for(Q=F,F=Jr;Q.nodeType!==8;){if(!F){F=null;break e}if(Q=Lr(Q.nextSibling),Q===null){F=null;break e}}F=Q}F!==null?(l.memoizedState={dehydrated:F,treeContext:io!==null?{id:Ta,overflow:Ea}:null,retryLane:536870912,hydrationErrors:null},Q=Ks(18,null,null,0),Q.stateNode=F,Q.return=l,l.child=Q,Cs=l,Mn=null,Q=!0):Q=!1}Q||co(l)}if(F=l.memoizedState,F!==null&&(F=F.dehydrated,F!==null))return gg(F)?l.lanes=32:l.lanes=536870912,null;Oa(l)}return F=m.children,m=m.fallback,x?(ui(),x=l.mode,F=tf({mode:"hidden",children:F},x),m=ao(m,x,u,null),F.return=l,m.return=l,F.sibling=m,l.child=F,x=l.child,x.memoizedState=Ap(u),x.childLanes=Rp(r,O,u),l.memoizedState=Op,m):(ci(l),Mp(l,F))}if(Q=r.memoizedState,Q!==null&&(F=Q.dehydrated,F!==null)){if(w)l.flags&256?(ci(l),l.flags&=-257,l=Pp(r,l,u)):l.memoizedState!==null?(ui(),l.child=r.child,l.flags|=128,l=null):(ui(),x=m.fallback,F=l.mode,m=tf({mode:"visible",children:m.children},F),x=ao(x,F,u,null),x.flags|=2,m.return=l,x.return=l,m.sibling=x,l.child=m,bl(l,r.child,null,u),m=l.child,m.memoizedState=Ap(u),m.childLanes=Rp(r,O,u),l.memoizedState=Op,l=x);else if(ci(l),gg(F)){if(O=F.nextSibling&&F.nextSibling.dataset,O)var ye=O.dgst;O=ye,m=Error(s(419)),m.stack="",m.digest=O,Rc({value:m,source:null,stack:null}),l=Pp(r,l,u)}else if(as||Mc(r,l,u,!1),O=(u&r.childLanes)!==0,as||O){if(O=pn,O!==null&&(m=u&-u,m=(m&42)!==0?1:Vt(m),m=(m&(O.suspendedLanes|u))!==0?0:m,m!==0&&m!==Q.retryLane))throw Q.retryLane=m,ll(r,m),tr(O,r,m),Iv;F.data==="$?"||Jp(),l=Pp(r,l,u)}else F.data==="$?"?(l.flags|=192,l.child=r.child,l=null):(r=Q.treeContext,Mn=Lr(F.nextSibling),Cs=l,Zt=!0,lo=null,Jr=!1,r!==null&&(mr[pr++]=Ta,mr[pr++]=Ea,mr[pr++]=io,Ta=r.id,Ea=r.overflow,io=l),l=Mp(l,m.children),l.flags|=4096);return l}return x?(ui(),x=m.fallback,F=l.mode,Q=r.child,ye=Q.sibling,m=Sa(Q,{mode:"hidden",children:m.children}),m.subtreeFlags=Q.subtreeFlags&65011712,ye!==null?x=Sa(ye,x):(x=ao(x,F,u,null),x.flags|=2),x.return=l,m.return=l,m.sibling=x,l.child=m,m=x,x=l.child,F=r.child.memoizedState,F===null?F=Ap(u):(Q=F.cachePool,Q!==null?(ye=Zn._currentValue,Q=Q.parent!==ye?{parent:ye,pool:ye}:Q):Q=Fb(),F={baseLanes:F.baseLanes|u,cachePool:Q}),x.memoizedState=F,x.childLanes=Rp(r,O,u),l.memoizedState=Op,m):(ci(l),u=r.child,r=u.sibling,u=Sa(u,{mode:"visible",children:m.children}),u.return=l,u.sibling=null,r!==null&&(O=l.deletions,O===null?(l.deletions=[r],l.flags|=16):O.push(r)),l.child=u,l.memoizedState=null,u)}function Mp(r,l){return l=tf({mode:"visible",children:l},r.mode),l.return=r,r.child=l}function tf(r,l){return r=Ks(22,r,null,l),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Pp(r,l,u){return bl(l,r.child,null,u),r=Mp(l,l.pendingProps.children),r.flags|=2,l.memoizedState=null,r}function ew(r,l,u){r.lanes|=l;var m=r.alternate;m!==null&&(m.lanes|=l),Jm(r.return,l,u)}function Lp(r,l,u,m,x){var w=r.memoizedState;w===null?r.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:x}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=m,w.tail=u,w.tailMode=x)}function tw(r,l,u){var m=l.pendingProps,x=m.revealOrder,w=m.tail;if(ds(r,l,m.children,u),m=Jn.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=l.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&ew(r,u,l);else if(r.tag===19)ew(r,u,l);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===l)break e;for(;r.sibling===null;){if(r.return===null||r.return===l)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}m&=1}switch(V(Jn,m),x){case"forwards":for(u=l.child,x=null;u!==null;)r=u.alternate,r!==null&&Qd(r)===null&&(x=u),u=u.sibling;u=x,u===null?(x=l.child,l.child=null):(x=u.sibling,u.sibling=null),Lp(l,!1,x,u,w);break;case"backwards":for(u=null,x=l.child,l.child=null;x!==null;){if(r=x.alternate,r!==null&&Qd(r)===null){l.child=x;break}r=x.sibling,x.sibling=u,u=x,x=r}Lp(l,!0,u,null,w);break;case"together":Lp(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Aa(r,l,u){if(r!==null&&(l.dependencies=r.dependencies),pi|=l.lanes,(u&l.childLanes)===0)if(r!==null){if(Mc(r,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(r!==null&&l.child!==r.child)throw Error(s(153));if(l.child!==null){for(r=l.child,u=Sa(r,r.pendingProps),l.child=u,u.return=l;r.sibling!==null;)r=r.sibling,u=u.sibling=Sa(r,r.pendingProps),u.return=l;u.sibling=null}return l.child}function zp(r,l){return(r.lanes&l)!==0?!0:(r=r.dependencies,!!(r!==null&&Pd(r)))}function TC(r,l,u){switch(l.tag){case 3:De(l,l.stateNode.containerInfo),ri(l,Zn,r.memoizedState.cache),Ac();break;case 27:case 5:Pe(l);break;case 4:De(l,l.stateNode.containerInfo);break;case 10:ri(l,l.type,l.memoizedProps.value);break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(ci(l),l.flags|=128,null):(u&l.child.childLanes)!==0?Jv(r,l,u):(ci(l),r=Aa(r,l,u),r!==null?r.sibling:null);ci(l);break;case 19:var x=(r.flags&128)!==0;if(m=(u&l.childLanes)!==0,m||(Mc(r,l,u,!1),m=(u&l.childLanes)!==0),x){if(m)return tw(r,l,u);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),V(Jn,Jn.current),m)break;return null;case 22:case 23:return l.lanes=0,Xv(r,l,u);case 24:ri(l,Zn,r.memoizedState.cache)}return Aa(r,l,u)}function nw(r,l,u){if(r!==null)if(r.memoizedProps!==l.pendingProps)as=!0;else{if(!zp(r,u)&&(l.flags&128)===0)return as=!1,TC(r,l,u);as=(r.flags&131072)!==0}else as=!1,Zt&&(l.flags&1048576)!==0&&Ab(l,Md,l.index);switch(l.lanes=0,l.tag){case 16:e:{r=l.pendingProps;var m=l.elementType,x=m._init;if(m=x(m._payload),l.type=m,typeof m=="function")Wm(m)?(r=po(m,r),l.tag=1,l=Qv(null,l,m,r,u)):(l.tag=0,l=Dp(null,l,m,r,u));else{if(m!=null){if(x=m.$$typeof,x===k){l.tag=11,l=qv(null,l,m,r,u);break e}else if(x===A){l.tag=14,l=Wv(null,l,m,r,u);break e}}throw l=ee(m)||m,Error(s(306,l,""))}}return l;case 0:return Dp(r,l,l.type,l.pendingProps,u);case 1:return m=l.type,x=po(m,l.pendingProps),Qv(r,l,m,x,u);case 3:e:{if(De(l,l.stateNode.containerInfo),r===null)throw Error(s(387));m=l.pendingProps;var w=l.memoizedState;x=w.element,ip(r,l),$c(l,m,null,u);var O=l.memoizedState;if(m=O.cache,ri(l,Zn,m),m!==w.cache&&ep(l,[Zn],u,!0),Bc(),m=O.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:O.cache},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){l=Zv(r,l,m,u);break e}else if(m!==x){x=fr(Error(s(424)),l),Rc(x),l=Zv(r,l,m,u);break e}else{switch(r=l.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Mn=Lr(r.firstChild),Cs=l,Zt=!0,lo=null,Jr=!0,u=Mv(l,null,m,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Ac(),m===x){l=Aa(r,l,u);break e}ds(r,l,m,u)}l=l.child}return l;case 26:return ef(r,l),r===null?(u=ij(l.type,null,l.pendingProps,null))?l.memoizedState=u:Zt||(u=l.type,r=l.pendingProps,m=gf(me.current).createElement(u),m[_e]=l,m[Oe]=r,hs(m,u,r),ot(m),l.stateNode=m):l.memoizedState=ij(l.type,r.memoizedProps,l.pendingProps,r.memoizedState),null;case 27:return Pe(l),r===null&&Zt&&(m=l.stateNode=sj(l.type,l.pendingProps,me.current),Cs=l,Jr=!0,x=Mn,bi(l.type)?(xg=x,Mn=Lr(m.firstChild)):Mn=x),ds(r,l,l.pendingProps.children,u),ef(r,l),r===null&&(l.flags|=4194304),l.child;case 5:return r===null&&Zt&&((x=m=Mn)&&(m=eD(m,l.type,l.pendingProps,Jr),m!==null?(l.stateNode=m,Cs=l,Mn=Lr(m.firstChild),Jr=!1,x=!0):x=!1),x||co(l)),Pe(l),x=l.type,w=l.pendingProps,O=r!==null?r.memoizedProps:null,m=w.children,hg(x,w)?m=null:O!==null&&hg(x,O)&&(l.flags|=32),l.memoizedState!==null&&(x=fp(r,l,yC,null,null,u),cu._currentValue=x),ef(r,l),ds(r,l,m,u),l.child;case 6:return r===null&&Zt&&((r=u=Mn)&&(u=tD(u,l.pendingProps,Jr),u!==null?(l.stateNode=u,Cs=l,Mn=null,r=!0):r=!1),r||co(l)),null;case 13:return Jv(r,l,u);case 4:return De(l,l.stateNode.containerInfo),m=l.pendingProps,r===null?l.child=bl(l,null,m,u):ds(r,l,m,u),l.child;case 11:return qv(r,l,l.type,l.pendingProps,u);case 7:return ds(r,l,l.pendingProps,u),l.child;case 8:return ds(r,l,l.pendingProps.children,u),l.child;case 12:return ds(r,l,l.pendingProps.children,u),l.child;case 10:return m=l.pendingProps,ri(l,l.type,m.value),ds(r,l,m.children,u),l.child;case 9:return x=l.type._context,m=l.pendingProps.children,fo(l),x=js(x),m=m(x),l.flags|=1,ds(r,l,m,u),l.child;case 14:return Wv(r,l,l.type,l.pendingProps,u);case 15:return Yv(r,l,l.type,l.pendingProps,u);case 19:return tw(r,l,u);case 31:return m=l.pendingProps,u=l.mode,m={mode:m.mode,children:m.children},r===null?(u=tf(m,u),u.ref=l.ref,l.child=u,u.return=l,l=u):(u=Sa(r.child,m),u.ref=l.ref,l.child=u,u.return=l,l=u),l;case 22:return Xv(r,l,u);case 24:return fo(l),m=js(Zn),r===null?(x=sp(),x===null&&(x=pn,w=tp(),x.pooledCache=w,w.refCount++,w!==null&&(x.pooledCacheLanes|=u),x=w),l.memoizedState={parent:m,cache:x},ap(l),ri(l,Zn,x)):((r.lanes&u)!==0&&(ip(r,l),$c(l,null,null,u),Bc()),x=r.memoizedState,w=l.memoizedState,x.parent!==m?(x={parent:m,cache:m},l.memoizedState=x,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=x),ri(l,Zn,m)):(m=w.cache,ri(l,Zn,m),m!==x.cache&&ep(l,[Zn],u,!0))),ds(r,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(s(156,l.tag))}function Ra(r){r.flags|=4}function sw(r,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!dj(l)){if(l=gr.current,l!==null&&((qt&4194048)===qt?ea!==null:(qt&62914560)!==qt&&(qt&536870912)===0||l!==ea))throw Uc=rp,Bb;r.flags|=8192}}function nf(r,l){l!==null&&(r.flags|=4),r.flags&16384&&(l=r.tag!==22?Rt():536870912,r.lanes|=l,_l|=l)}function Xc(r,l){if(!Zt)switch(r.tailMode){case"hidden":l=r.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?l||r.tail===null?r.tail=null:r.tail.sibling=null:m.sibling=null}}function Tn(r){var l=r.alternate!==null&&r.alternate.child===r.child,u=0,m=0;if(l)for(var x=r.child;x!==null;)u|=x.lanes|x.childLanes,m|=x.subtreeFlags&65011712,m|=x.flags&65011712,x.return=r,x=x.sibling;else for(x=r.child;x!==null;)u|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=r,x=x.sibling;return r.subtreeFlags|=m,r.childLanes=u,l}function EC(r,l,u){var m=l.pendingProps;switch(Km(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tn(l),null;case 1:return Tn(l),null;case 3:return u=l.stateNode,m=null,r!==null&&(m=r.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),Ca(Zn),He(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(Oc(l)?Ra(l):r===null||r.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Pb())),Tn(l),null;case 26:return u=l.memoizedState,r===null?(Ra(l),u!==null?(Tn(l),sw(l,u)):(Tn(l),l.flags&=-16777217)):u?u!==r.memoizedState?(Ra(l),Tn(l),sw(l,u)):(Tn(l),l.flags&=-16777217):(r.memoizedProps!==m&&Ra(l),Tn(l),l.flags&=-16777217),null;case 27:rt(l),u=me.current;var x=l.type;if(r!==null&&l.stateNode!=null)r.memoizedProps!==m&&Ra(l);else{if(!m){if(l.stateNode===null)throw Error(s(166));return Tn(l),null}r=ne.current,Oc(l)?Rb(l):(r=sj(x,m,u),l.stateNode=r,Ra(l))}return Tn(l),null;case 5:if(rt(l),u=l.type,r!==null&&l.stateNode!=null)r.memoizedProps!==m&&Ra(l);else{if(!m){if(l.stateNode===null)throw Error(s(166));return Tn(l),null}if(r=ne.current,Oc(l))Rb(l);else{switch(x=gf(me.current),r){case 1:r=x.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:r=x.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":r=x.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":r=x.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":r=x.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof m.is=="string"?x.createElement("select",{is:m.is}):x.createElement("select"),m.multiple?r.multiple=!0:m.size&&(r.size=m.size);break;default:r=typeof m.is=="string"?x.createElement(u,{is:m.is}):x.createElement(u)}}r[_e]=l,r[Oe]=m;e:for(x=l.child;x!==null;){if(x.tag===5||x.tag===6)r.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===l)break e;for(;x.sibling===null;){if(x.return===null||x.return===l)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}l.stateNode=r;e:switch(hs(r,u,m),u){case"button":case"input":case"select":case"textarea":r=!!m.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ra(l)}}return Tn(l),l.flags&=-16777217,null;case 6:if(r&&l.stateNode!=null)r.memoizedProps!==m&&Ra(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(s(166));if(r=me.current,Oc(l)){if(r=l.stateNode,u=l.memoizedProps,m=null,x=Cs,x!==null)switch(x.tag){case 27:case 5:m=x.memoizedProps}r[_e]=l,r=!!(r.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||Kw(r.nodeValue,u)),r||co(l)}else r=gf(r).createTextNode(m),r[_e]=l,l.stateNode=r}return Tn(l),null;case 13:if(m=l.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(x=Oc(l),m!==null&&m.dehydrated!==null){if(r===null){if(!x)throw Error(s(318));if(x=l.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(s(317));x[_e]=l}else Ac(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Tn(l),x=!1}else x=Pb(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=x),x=!0;if(!x)return l.flags&256?(Oa(l),l):(Oa(l),null)}if(Oa(l),(l.flags&128)!==0)return l.lanes=u,l;if(u=m!==null,r=r!==null&&r.memoizedState!==null,u){m=l.child,x=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(x=m.alternate.memoizedState.cachePool.pool);var w=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(w=m.memoizedState.cachePool.pool),w!==x&&(m.flags|=2048)}return u!==r&&u&&(l.child.flags|=8192),nf(l,l.updateQueue),Tn(l),null;case 4:return He(),r===null&&lg(l.stateNode.containerInfo),Tn(l),null;case 10:return Ca(l.type),Tn(l),null;case 19:if(re(Jn),x=l.memoizedState,x===null)return Tn(l),null;if(m=(l.flags&128)!==0,w=x.rendering,w===null)if(m)Xc(x,!1);else{if(Pn!==0||r!==null&&(r.flags&128)!==0)for(r=l.child;r!==null;){if(w=Qd(r),w!==null){for(l.flags|=128,Xc(x,!1),r=w.updateQueue,l.updateQueue=r,nf(l,r),l.subtreeFlags=0,r=u,u=l.child;u!==null;)Ob(u,r),u=u.sibling;return V(Jn,Jn.current&1|2),l.child}r=r.sibling}x.tail!==null&&Me()>af&&(l.flags|=128,m=!0,Xc(x,!1),l.lanes=4194304)}else{if(!m)if(r=Qd(w),r!==null){if(l.flags|=128,m=!0,r=r.updateQueue,l.updateQueue=r,nf(l,r),Xc(x,!0),x.tail===null&&x.tailMode==="hidden"&&!w.alternate&&!Zt)return Tn(l),null}else 2*Me()-x.renderingStartTime>af&&u!==536870912&&(l.flags|=128,m=!0,Xc(x,!1),l.lanes=4194304);x.isBackwards?(w.sibling=l.child,l.child=w):(r=x.last,r!==null?r.sibling=w:l.child=w,x.last=w)}return x.tail!==null?(l=x.tail,x.rendering=l,x.tail=l.sibling,x.renderingStartTime=Me(),l.sibling=null,r=Jn.current,V(Jn,m?r&1|2:r&1),l):(Tn(l),null);case 22:case 23:return Oa(l),up(),m=l.memoizedState!==null,r!==null?r.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(u&536870912)!==0&&(l.flags&128)===0&&(Tn(l),l.subtreeFlags&6&&(l.flags|=8192)):Tn(l),u=l.updateQueue,u!==null&&nf(l,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==u&&(l.flags|=2048),r!==null&&re(ho),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),Ca(Zn),Tn(l),null;case 25:return null;case 30:return null}throw Error(s(156,l.tag))}function kC(r,l){switch(Km(l),l.tag){case 1:return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 3:return Ca(Zn),He(),r=l.flags,(r&65536)!==0&&(r&128)===0?(l.flags=r&-65537|128,l):null;case 26:case 27:case 5:return rt(l),null;case 13:if(Oa(l),r=l.memoizedState,r!==null&&r.dehydrated!==null){if(l.alternate===null)throw Error(s(340));Ac()}return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 19:return re(Jn),null;case 4:return He(),null;case 10:return Ca(l.type),null;case 22:case 23:return Oa(l),up(),r!==null&&re(ho),r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 24:return Ca(Zn),null;case 25:return null;default:return null}}function rw(r,l){switch(Km(l),l.tag){case 3:Ca(Zn),He();break;case 26:case 27:case 5:rt(l);break;case 4:He();break;case 13:Oa(l);break;case 19:re(Jn);break;case 10:Ca(l.type);break;case 22:case 23:Oa(l),up(),r!==null&&re(ho);break;case 24:Ca(Zn)}}function Gc(r,l){try{var u=l.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var x=m.next;u=x;do{if((u.tag&r)===r){m=void 0;var w=u.create,O=u.inst;m=w(),O.destroy=m}u=u.next}while(u!==x)}}catch(F){hn(l,l.return,F)}}function di(r,l,u){try{var m=l.updateQueue,x=m!==null?m.lastEffect:null;if(x!==null){var w=x.next;m=w;do{if((m.tag&r)===r){var O=m.inst,F=O.destroy;if(F!==void 0){O.destroy=void 0,x=l;var Q=u,ye=F;try{ye()}catch(Se){hn(x,Q,Se)}}}m=m.next}while(m!==w)}}catch(Se){hn(l,l.return,Se)}}function aw(r){var l=r.updateQueue;if(l!==null){var u=r.stateNode;try{Wb(l,u)}catch(m){hn(r,r.return,m)}}}function iw(r,l,u){u.props=po(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(m){hn(r,l,m)}}function Kc(r,l){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var m=r.stateNode;break;case 30:m=r.stateNode;break;default:m=r.stateNode}typeof u=="function"?r.refCleanup=u(m):u.current=m}}catch(x){hn(r,l,x)}}function ta(r,l){var u=r.ref,m=r.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(x){hn(r,l,x)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(x){hn(r,l,x)}else u.current=null}function ow(r){var l=r.type,u=r.memoizedProps,m=r.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(x){hn(r,r.return,x)}}function Up(r,l,u){try{var m=r.stateNode;GC(m,r.type,u,l),m[Oe]=l}catch(x){hn(r,r.return,x)}}function lw(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&bi(r.type)||r.tag===4}function Fp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||lw(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&bi(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Bp(r,l,u){var m=r.tag;if(m===5||m===6)r=r.stateNode,l?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,l):(l=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,l.appendChild(r),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=pf));else if(m!==4&&(m===27&&bi(r.type)&&(u=r.stateNode,l=null),r=r.child,r!==null))for(Bp(r,l,u),r=r.sibling;r!==null;)Bp(r,l,u),r=r.sibling}function sf(r,l,u){var m=r.tag;if(m===5||m===6)r=r.stateNode,l?u.insertBefore(r,l):u.appendChild(r);else if(m!==4&&(m===27&&bi(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(sf(r,l,u),r=r.sibling;r!==null;)sf(r,l,u),r=r.sibling}function cw(r){var l=r.stateNode,u=r.memoizedProps;try{for(var m=r.type,x=l.attributes;x.length;)l.removeAttributeNode(x[0]);hs(l,m,u),l[_e]=r,l[Oe]=u}catch(w){hn(r,r.return,w)}}var Ma=!1,zn=!1,$p=!1,uw=typeof WeakSet=="function"?WeakSet:Set,is=null;function CC(r,l){if(r=r.containerInfo,dg=jf,r=wb(r),Fm(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var x=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{u.nodeType,w.nodeType}catch(mt){u=null;break e}var O=0,F=-1,Q=-1,ye=0,Se=0,ke=r,we=null;t:for(;;){for(var je;ke!==u||x!==0&&ke.nodeType!==3||(F=O+x),ke!==w||m!==0&&ke.nodeType!==3||(Q=O+m),ke.nodeType===3&&(O+=ke.nodeValue.length),(je=ke.firstChild)!==null;)we=ke,ke=je;for(;;){if(ke===r)break t;if(we===u&&++ye===x&&(F=O),we===w&&++Se===m&&(Q=O),(je=ke.nextSibling)!==null)break;ke=we,we=ke.parentNode}ke=je}u=F===-1||Q===-1?null:{start:F,end:Q}}else u=null}u=u||{start:0,end:0}}else u=null;for(fg={focusedElem:r,selectionRange:u},jf=!1,is=l;is!==null;)if(l=is,r=l.child,(l.subtreeFlags&1024)!==0&&r!==null)r.return=l,is=r;else for(;is!==null;){switch(l=is,w=l.alternate,r=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&w!==null){r=void 0,u=l,x=w.memoizedProps,w=w.memoizedState,m=u.stateNode;try{var yt=po(u.type,x,u.elementType===u.type);r=m.getSnapshotBeforeUpdate(yt,w),m.__reactInternalSnapshotBeforeUpdate=r}catch(mt){hn(u,u.return,mt)}}break;case 3:if((r&1024)!==0){if(r=l.stateNode.containerInfo,u=r.nodeType,u===9)pg(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":pg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=l.sibling,r!==null){r.return=l.return,is=r;break}is=l.return}}function dw(r,l,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:fi(r,u),m&4&&Gc(5,u);break;case 1:if(fi(r,u),m&4)if(r=u.stateNode,l===null)try{r.componentDidMount()}catch(O){hn(u,u.return,O)}else{var x=po(u.type,l.memoizedProps);l=l.memoizedState;try{r.componentDidUpdate(x,l,r.__reactInternalSnapshotBeforeUpdate)}catch(O){hn(u,u.return,O)}}m&64&&aw(u),m&512&&Kc(u,u.return);break;case 3:if(fi(r,u),m&64&&(r=u.updateQueue,r!==null)){if(l=null,u.child!==null)switch(u.child.tag){case 27:case 5:l=u.child.stateNode;break;case 1:l=u.child.stateNode}try{Wb(r,l)}catch(O){hn(u,u.return,O)}}break;case 27:l===null&&m&4&&cw(u);case 26:case 5:fi(r,u),l===null&&m&4&&ow(u),m&512&&Kc(u,u.return);break;case 12:fi(r,u);break;case 13:fi(r,u),m&4&&mw(r,u),m&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=UC.bind(null,u),nD(r,u))));break;case 22:if(m=u.memoizedState!==null||Ma,!m){l=l!==null&&l.memoizedState!==null||zn,x=Ma;var w=zn;Ma=m,(zn=l)&&!w?hi(r,u,(u.subtreeFlags&8772)!==0):fi(r,u),Ma=x,zn=w}break;case 30:break;default:fi(r,u)}}function fw(r){var l=r.alternate;l!==null&&(r.alternate=null,fw(l)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(l=r.stateNode,l!==null&&vt(l)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var jn=null,Us=!1;function Pa(r,l,u){for(u=u.child;u!==null;)hw(r,l,u),u=u.sibling}function hw(r,l,u){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Be,u)}catch(w){}switch(u.tag){case 26:zn||ta(u,l),Pa(r,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:zn||ta(u,l);var m=jn,x=Us;bi(u.type)&&(jn=u.stateNode,Us=!1),Pa(r,l,u),au(u.stateNode),jn=m,Us=x;break;case 5:zn||ta(u,l);case 6:if(m=jn,x=Us,jn=null,Pa(r,l,u),jn=m,Us=x,jn!==null)if(Us)try{(jn.nodeType===9?jn.body:jn.nodeName==="HTML"?jn.ownerDocument.body:jn).removeChild(u.stateNode)}catch(w){hn(u,l,w)}else try{jn.removeChild(u.stateNode)}catch(w){hn(u,l,w)}break;case 18:jn!==null&&(Us?(r=jn,tj(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),hu(r)):tj(jn,u.stateNode));break;case 4:m=jn,x=Us,jn=u.stateNode.containerInfo,Us=!0,Pa(r,l,u),jn=m,Us=x;break;case 0:case 11:case 14:case 15:zn||di(2,u,l),zn||di(4,u,l),Pa(r,l,u);break;case 1:zn||(ta(u,l),m=u.stateNode,typeof m.componentWillUnmount=="function"&&iw(u,l,m)),Pa(r,l,u);break;case 21:Pa(r,l,u);break;case 22:zn=(m=zn)||u.memoizedState!==null,Pa(r,l,u),zn=m;break;default:Pa(r,l,u)}}function mw(r,l){if(l.memoizedState===null&&(r=l.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{hu(r)}catch(u){hn(l,l.return,u)}}function DC(r){switch(r.tag){case 13:case 19:var l=r.stateNode;return l===null&&(l=r.stateNode=new uw),l;case 22:return r=r.stateNode,l=r._retryCache,l===null&&(l=r._retryCache=new uw),l;default:throw Error(s(435,r.tag))}}function Hp(r,l){var u=DC(r);l.forEach(function(m){var x=FC.bind(null,r,m);u.has(m)||(u.add(m),m.then(x,x))})}function Qs(r,l){var u=l.deletions;if(u!==null)for(var m=0;m<u.length;m++){var x=u[m],w=r,O=l,F=O;e:for(;F!==null;){switch(F.tag){case 27:if(bi(F.type)){jn=F.stateNode,Us=!1;break e}break;case 5:jn=F.stateNode,Us=!1;break e;case 3:case 4:jn=F.stateNode.containerInfo,Us=!0;break e}F=F.return}if(jn===null)throw Error(s(160));hw(w,O,x),jn=null,Us=!1,w=x.alternate,w!==null&&(w.return=null),x.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)pw(l,r),l=l.sibling}var Pr=null;function pw(r,l){var u=r.alternate,m=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Qs(l,r),Zs(r),m&4&&(di(3,r,r.return),Gc(3,r),di(5,r,r.return));break;case 1:Qs(l,r),Zs(r),m&512&&(zn||u===null||ta(u,u.return)),m&64&&Ma&&(r=r.updateQueue,r!==null&&(m=r.callbacks,m!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var x=Pr;if(Qs(l,r),Zs(r),m&512&&(zn||u===null||ta(u,u.return)),m&4){var w=u!==null?u.memoizedState:null;if(m=r.memoizedState,u===null)if(m===null)if(r.stateNode===null){e:{m=r.type,u=r.memoizedProps,x=x.ownerDocument||x;t:switch(m){case"title":w=x.getElementsByTagName("title")[0],(!w||w[it]||w[_e]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=x.createElement(m),x.head.insertBefore(w,x.querySelector("head > title"))),hs(w,m,u),w[_e]=r,ot(w),m=w;break e;case"link":var O=cj("link","href",x).get(m+(u.href||""));if(O){for(var F=0;F<O.length;F++)if(w=O[F],w.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&w.getAttribute("rel")===(u.rel==null?null:u.rel)&&w.getAttribute("title")===(u.title==null?null:u.title)&&w.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){O.splice(F,1);break t}}w=x.createElement(m),hs(w,m,u),x.head.appendChild(w);break;case"meta":if(O=cj("meta","content",x).get(m+(u.content||""))){for(F=0;F<O.length;F++)if(w=O[F],w.getAttribute("content")===(u.content==null?null:""+u.content)&&w.getAttribute("name")===(u.name==null?null:u.name)&&w.getAttribute("property")===(u.property==null?null:u.property)&&w.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&w.getAttribute("charset")===(u.charSet==null?null:u.charSet)){O.splice(F,1);break t}}w=x.createElement(m),hs(w,m,u),x.head.appendChild(w);break;default:throw Error(s(468,m))}w[_e]=r,ot(w),m=w}r.stateNode=m}else uj(x,r.type,r.stateNode);else r.stateNode=lj(x,m,r.memoizedProps);else w!==m?(w===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):w.count--,m===null?uj(x,r.type,r.stateNode):lj(x,m,r.memoizedProps)):m===null&&r.stateNode!==null&&Up(r,r.memoizedProps,u.memoizedProps)}break;case 27:Qs(l,r),Zs(r),m&512&&(zn||u===null||ta(u,u.return)),u!==null&&m&4&&Up(r,r.memoizedProps,u.memoizedProps);break;case 5:if(Qs(l,r),Zs(r),m&512&&(zn||u===null||ta(u,u.return)),r.flags&32){x=r.stateNode;try{Za(x,"")}catch(je){hn(r,r.return,je)}}m&4&&r.stateNode!=null&&(x=r.memoizedProps,Up(r,x,u!==null?u.memoizedProps:x)),m&1024&&($p=!0);break;case 6:if(Qs(l,r),Zs(r),m&4){if(r.stateNode===null)throw Error(s(162));m=r.memoizedProps,u=r.stateNode;try{u.nodeValue=m}catch(je){hn(r,r.return,je)}}break;case 3:if(bf=null,x=Pr,Pr=xf(l.containerInfo),Qs(l,r),Pr=x,Zs(r),m&4&&u!==null&&u.memoizedState.isDehydrated)try{hu(l.containerInfo)}catch(je){hn(r,r.return,je)}$p&&($p=!1,gw(r));break;case 4:m=Pr,Pr=xf(r.stateNode.containerInfo),Qs(l,r),Zs(r),Pr=m;break;case 12:Qs(l,r),Zs(r);break;case 13:Qs(l,r),Zs(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Xp=Me()),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,Hp(r,m)));break;case 22:x=r.memoizedState!==null;var Q=u!==null&&u.memoizedState!==null,ye=Ma,Se=zn;if(Ma=ye||x,zn=Se||Q,Qs(l,r),zn=Se,Ma=ye,Zs(r),m&8192)e:for(l=r.stateNode,l._visibility=x?l._visibility&-2:l._visibility|1,x&&(u===null||Q||Ma||zn||go(r)),u=null,l=r;;){if(l.tag===5||l.tag===26){if(u===null){Q=u=l;try{if(w=Q.stateNode,x)O=w.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{F=Q.stateNode;var ke=Q.memoizedProps.style,we=ke!=null&&ke.hasOwnProperty("display")?ke.display:null;F.style.display=we==null||typeof we=="boolean"?"":(""+we).trim()}}catch(je){hn(Q,Q.return,je)}}}else if(l.tag===6){if(u===null){Q=l;try{Q.stateNode.nodeValue=x?"":Q.memoizedProps}catch(je){hn(Q,Q.return,je)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===r)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break e;for(;l.sibling===null;){if(l.return===null||l.return===r)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=r.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,Hp(r,u))));break;case 19:Qs(l,r),Zs(r),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,Hp(r,m)));break;case 30:break;case 21:break;default:Qs(l,r),Zs(r)}}function Zs(r){var l=r.flags;if(l&2){try{for(var u,m=r.return;m!==null;){if(lw(m)){u=m;break}m=m.return}if(u==null)throw Error(s(160));switch(u.tag){case 27:var x=u.stateNode,w=Fp(r);sf(r,w,x);break;case 5:var O=u.stateNode;u.flags&32&&(Za(O,""),u.flags&=-33);var F=Fp(r);sf(r,F,O);break;case 3:case 4:var Q=u.stateNode.containerInfo,ye=Fp(r);Bp(r,ye,Q);break;default:throw Error(s(161))}}catch(Se){hn(r,r.return,Se)}r.flags&=-3}l&4096&&(r.flags&=-4097)}function gw(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var l=r;gw(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),r=r.sibling}}function fi(r,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)dw(r,l.alternate,l),l=l.sibling}function go(r){for(r=r.child;r!==null;){var l=r;switch(l.tag){case 0:case 11:case 14:case 15:di(4,l,l.return),go(l);break;case 1:ta(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&iw(l,l.return,u),go(l);break;case 27:au(l.stateNode);case 26:case 5:ta(l,l.return),go(l);break;case 22:l.memoizedState===null&&go(l);break;case 30:go(l);break;default:go(l)}r=r.sibling}}function hi(r,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,x=r,w=l,O=w.flags;switch(w.tag){case 0:case 11:case 15:hi(x,w,u),Gc(4,w);break;case 1:if(hi(x,w,u),m=w,x=m.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(ye){hn(m,m.return,ye)}if(m=w,x=m.updateQueue,x!==null){var F=m.stateNode;try{var Q=x.shared.hiddenCallbacks;if(Q!==null)for(x.shared.hiddenCallbacks=null,x=0;x<Q.length;x++)qb(Q[x],F)}catch(ye){hn(m,m.return,ye)}}u&&O&64&&aw(w),Kc(w,w.return);break;case 27:cw(w);case 26:case 5:hi(x,w,u),u&&m===null&&O&4&&ow(w),Kc(w,w.return);break;case 12:hi(x,w,u);break;case 13:hi(x,w,u),u&&O&4&&mw(x,w);break;case 22:w.memoizedState===null&&hi(x,w,u),Kc(w,w.return);break;case 30:break;default:hi(x,w,u)}l=l.sibling}}function Vp(r,l){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(r=l.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&Pc(u))}function Ip(r,l){r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&Pc(r))}function na(r,l,u,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)xw(r,l,u,m),l=l.sibling}function xw(r,l,u,m){var x=l.flags;switch(l.tag){case 0:case 11:case 15:na(r,l,u,m),x&2048&&Gc(9,l);break;case 1:na(r,l,u,m);break;case 3:na(r,l,u,m),x&2048&&(r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&Pc(r)));break;case 12:if(x&2048){na(r,l,u,m),r=l.stateNode;try{var w=l.memoizedProps,O=w.id,F=w.onPostCommit;typeof F=="function"&&F(O,l.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(Q){hn(l,l.return,Q)}}else na(r,l,u,m);break;case 13:na(r,l,u,m);break;case 23:break;case 22:w=l.stateNode,O=l.alternate,l.memoizedState!==null?w._visibility&2?na(r,l,u,m):Qc(r,l):w._visibility&2?na(r,l,u,m):(w._visibility|=2,vl(r,l,u,m,(l.subtreeFlags&10256)!==0)),x&2048&&Vp(O,l);break;case 24:na(r,l,u,m),x&2048&&Ip(l.alternate,l);break;default:na(r,l,u,m)}}function vl(r,l,u,m,x){for(x=x&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var w=r,O=l,F=u,Q=m,ye=O.flags;switch(O.tag){case 0:case 11:case 15:vl(w,O,F,Q,x),Gc(8,O);break;case 23:break;case 22:var Se=O.stateNode;O.memoizedState!==null?Se._visibility&2?vl(w,O,F,Q,x):Qc(w,O):(Se._visibility|=2,vl(w,O,F,Q,x)),x&&ye&2048&&Vp(O.alternate,O);break;case 24:vl(w,O,F,Q,x),x&&ye&2048&&Ip(O.alternate,O);break;default:vl(w,O,F,Q,x)}l=l.sibling}}function Qc(r,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=r,m=l,x=m.flags;switch(m.tag){case 22:Qc(u,m),x&2048&&Vp(m.alternate,m);break;case 24:Qc(u,m),x&2048&&Ip(m.alternate,m);break;default:Qc(u,m)}l=l.sibling}}var Zc=8192;function wl(r){if(r.subtreeFlags&Zc)for(r=r.child;r!==null;)yw(r),r=r.sibling}function yw(r){switch(r.tag){case 26:wl(r),r.flags&Zc&&r.memoizedState!==null&&pD(Pr,r.memoizedState,r.memoizedProps);break;case 5:wl(r);break;case 3:case 4:var l=Pr;Pr=xf(r.stateNode.containerInfo),wl(r),Pr=l;break;case 22:r.memoizedState===null&&(l=r.alternate,l!==null&&l.memoizedState!==null?(l=Zc,Zc=16777216,wl(r),Zc=l):wl(r));break;default:wl(r)}}function bw(r){var l=r.alternate;if(l!==null&&(r=l.child,r!==null)){l.child=null;do l=r.sibling,r.sibling=null,r=l;while(r!==null)}}function Jc(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var m=l[u];is=m,ww(m,r)}bw(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)vw(r),r=r.sibling}function vw(r){switch(r.tag){case 0:case 11:case 15:Jc(r),r.flags&2048&&di(9,r,r.return);break;case 3:Jc(r);break;case 12:Jc(r);break;case 22:var l=r.stateNode;r.memoizedState!==null&&l._visibility&2&&(r.return===null||r.return.tag!==13)?(l._visibility&=-3,rf(r)):Jc(r);break;default:Jc(r)}}function rf(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var m=l[u];is=m,ww(m,r)}bw(r)}for(r=r.child;r!==null;){switch(l=r,l.tag){case 0:case 11:case 15:di(8,l,l.return),rf(l);break;case 22:u=l.stateNode,u._visibility&2&&(u._visibility&=-3,rf(l));break;default:rf(l)}r=r.sibling}}function ww(r,l){for(;is!==null;){var u=is;switch(u.tag){case 0:case 11:case 15:di(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Pc(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,is=m;else e:for(u=r;is!==null;){m=is;var x=m.sibling,w=m.return;if(fw(m),m===u){is=null;break e}if(x!==null){x.return=w,is=x;break e}is=w}}}var OC={getCacheForType:function(r){var l=js(Zn),u=l.data.get(r);return u===void 0&&(u=r(),l.data.set(r,u)),u}},AC=typeof WeakMap=="function"?WeakMap:Map,en=0,pn=null,Ft=null,qt=0,tn=0,Js=null,mi=!1,jl=!1,qp=!1,La=0,Pn=0,pi=0,xo=0,Wp=0,xr=0,_l=0,eu=null,Fs=null,Yp=!1,Xp=0,af=1/0,of=null,gi=null,fs=0,xi=null,Nl=null,Sl=0,Gp=0,Kp=null,jw=null,tu=0,Qp=null;function er(){if((en&2)!==0&&qt!==0)return qt&-qt;if(H.T!==null){var r=fl;return r!==0?r:rg()}return Z()}function _w(){xr===0&&(xr=(qt&536870912)===0||Zt?Ye():536870912);var r=gr.current;return r!==null&&(r.flags|=32),xr}function tr(r,l,u){(r===pn&&(tn===2||tn===9)||r.cancelPendingCommit!==null)&&(Tl(r,0),yi(r,qt,xr,!1)),St(r,u),((en&2)===0||r!==pn)&&(r===pn&&((en&2)===0&&(xo|=u),Pn===4&&yi(r,qt,xr,!1)),sa(r))}function Nw(r,l,u){if((en&6)!==0)throw Error(s(327));var m=!u&&(l&124)===0&&(l&r.expiredLanes)===0||Kn(r,l),x=m?PC(r,l):eg(r,l,!0),w=m;do{if(x===0){jl&&!m&&yi(r,l,0,!1);break}else{if(u=r.current.alternate,w&&!RC(u)){x=eg(r,l,!1),w=!1;continue}if(x===2){if(w=l,r.errorRecoveryDisabledLanes&w)var O=0;else O=r.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){l=O;e:{var F=r;x=eu;var Q=F.current.memoizedState.isDehydrated;if(Q&&(Tl(F,O).flags|=256),O=eg(F,O,!1),O!==2){if(qp&&!Q){F.errorRecoveryDisabledLanes|=w,xo|=w,x=4;break e}w=Fs,Fs=x,w!==null&&(Fs===null?Fs=w:Fs.push.apply(Fs,w))}x=O}if(w=!1,x!==2)continue}}if(x===1){Tl(r,0),yi(r,l,0,!0);break}e:{switch(m=r,w=x,w){case 0:case 1:throw Error(s(345));case 4:if((l&4194048)!==l)break;case 6:yi(m,l,xr,!mi);break e;case 2:Fs=null;break;case 3:case 5:break;default:throw Error(s(329))}if((l&62914560)===l&&(x=Xp+300-Me(),10<x)){if(yi(m,l,xr,!mi),cs(m,0,!0)!==0)break e;m.timeoutHandle=Jw(Sw.bind(null,m,u,Fs,of,Yp,l,xr,xo,_l,mi,w,2,-0,0),x);break e}Sw(m,u,Fs,of,Yp,l,xr,xo,_l,mi,w,0,-0,0)}}break}while(!0);sa(r)}function Sw(r,l,u,m,x,w,O,F,Q,ye,Se,ke,we,je){if(r.timeoutHandle=-1,ke=l.subtreeFlags,(ke&8192||(ke&16785408)===16785408)&&(lu={stylesheets:null,count:0,unsuspend:mD},yw(l),ke=gD(),ke!==null)){r.cancelPendingCommit=ke(Aw.bind(null,r,l,w,u,m,x,O,F,Q,Se,1,we,je)),yi(r,w,O,!ye);return}Aw(r,l,w,u,m,x,O,F,Q)}function RC(r){for(var l=r;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var x=u[m],w=x.getSnapshot;x=x.value;try{if(!Gs(w(),x))return!1}catch(O){return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function yi(r,l,u,m){l&=~Wp,l&=~xo,r.suspendedLanes|=l,r.pingedLanes&=~l,m&&(r.warmLanes|=l),m=r.expirationTimes;for(var x=l;0<x;){var w=31-wt(x),O=1<<w;m[w]=-1,x&=~O}u!==0&&Xe(r,u,l)}function lf(){return(en&6)===0?(nu(0),!1):!0}function Zp(){if(Ft!==null){if(tn===0)var r=Ft.return;else r=Ft,ka=uo=null,pp(r),yl=null,Wc=0,r=Ft;for(;r!==null;)rw(r.alternate,r),r=r.return;Ft=null}}function Tl(r,l){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,QC(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),Zp(),pn=r,Ft=u=Sa(r.current,null),qt=l,tn=0,Js=null,mi=!1,jl=Kn(r,l),qp=!1,_l=xr=Wp=xo=pi=Pn=0,Fs=eu=null,Yp=!1,(l&8)!==0&&(l|=l&32);var m=r.entangledLanes;if(m!==0)for(r=r.entanglements,m&=l;0<m;){var x=31-wt(m),w=1<<x;l|=r[x],m&=~w}return La=l,Cd(),u}function Tw(r,l){Mt=null,H.H=Xd,l===zc||l===Ud?(l=Vb(),tn=3):l===Bb?(l=Vb(),tn=4):tn=l===Iv?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Js=l,Ft===null&&(Pn=1,Jd(r,fr(l,r.current)))}function Ew(){var r=H.H;return H.H=Xd,r===null?Xd:r}function kw(){var r=H.A;return H.A=OC,r}function Jp(){Pn=4,mi||(qt&4194048)!==qt&&gr.current!==null||(jl=!0),(pi&134217727)===0&&(xo&134217727)===0||pn===null||yi(pn,qt,xr,!1)}function eg(r,l,u){var m=en;en|=2;var x=Ew(),w=kw();(pn!==r||qt!==l)&&(of=null,Tl(r,l)),l=!1;var O=Pn;e:do try{if(tn!==0&&Ft!==null){var F=Ft,Q=Js;switch(tn){case 8:Zp(),O=6;break e;case 3:case 2:case 9:case 6:gr.current===null&&(l=!0);var ye=tn;if(tn=0,Js=null,El(r,F,Q,ye),u&&jl){O=0;break e}break;default:ye=tn,tn=0,Js=null,El(r,F,Q,ye)}}MC(),O=Pn;break}catch(Se){Tw(r,Se)}while(!0);return l&&r.shellSuspendCounter++,ka=uo=null,en=m,H.H=x,H.A=w,Ft===null&&(pn=null,qt=0,Cd()),O}function MC(){for(;Ft!==null;)Cw(Ft)}function PC(r,l){var u=en;en|=2;var m=Ew(),x=kw();pn!==r||qt!==l?(of=null,af=Me()+500,Tl(r,l)):jl=Kn(r,l);e:do try{if(tn!==0&&Ft!==null){l=Ft;var w=Js;t:switch(tn){case 1:tn=0,Js=null,El(r,l,w,1);break;case 2:case 9:if($b(w)){tn=0,Js=null,Dw(l);break}l=function(){tn!==2&&tn!==9||pn!==r||(tn=7),sa(r)},w.then(l,l);break e;case 3:tn=7;break e;case 4:tn=5;break e;case 7:$b(w)?(tn=0,Js=null,Dw(l)):(tn=0,Js=null,El(r,l,w,7));break;case 5:var O=null;switch(Ft.tag){case 26:O=Ft.memoizedState;case 5:case 27:var F=Ft;if(!O||dj(O)){tn=0,Js=null;var Q=F.sibling;if(Q!==null)Ft=Q;else{var ye=F.return;ye!==null?(Ft=ye,cf(ye)):Ft=null}break t}}tn=0,Js=null,El(r,l,w,5);break;case 6:tn=0,Js=null,El(r,l,w,6);break;case 8:Zp(),Pn=6;break e;default:throw Error(s(462))}}LC();break}catch(Se){Tw(r,Se)}while(!0);return ka=uo=null,H.H=m,H.A=x,en=u,Ft!==null?0:(pn=null,qt=0,Cd(),Pn)}function LC(){for(;Ft!==null&&!Nt();)Cw(Ft)}function Cw(r){var l=nw(r.alternate,r,La);r.memoizedProps=r.pendingProps,l===null?cf(r):Ft=l}function Dw(r){var l=r,u=l.alternate;switch(l.tag){case 15:case 0:l=Kv(u,l,l.pendingProps,l.type,void 0,qt);break;case 11:l=Kv(u,l,l.pendingProps,l.type.render,l.ref,qt);break;case 5:pp(l);default:rw(u,l),l=Ft=Ob(l,La),l=nw(u,l,La)}r.memoizedProps=r.pendingProps,l===null?cf(r):Ft=l}function El(r,l,u,m){ka=uo=null,pp(l),yl=null,Wc=0;var x=l.return;try{if(SC(r,x,l,u,qt)){Pn=1,Jd(r,fr(u,r.current)),Ft=null;return}}catch(w){if(x!==null)throw Ft=x,w;Pn=1,Jd(r,fr(u,r.current)),Ft=null;return}l.flags&32768?(Zt||m===1?r=!0:jl||(qt&536870912)!==0?r=!1:(mi=r=!0,(m===2||m===9||m===3||m===6)&&(m=gr.current,m!==null&&m.tag===13&&(m.flags|=16384))),Ow(l,r)):cf(l)}function cf(r){var l=r;do{if((l.flags&32768)!==0){Ow(l,mi);return}r=l.return;var u=EC(l.alternate,l,La);if(u!==null){Ft=u;return}if(l=l.sibling,l!==null){Ft=l;return}Ft=l=r}while(l!==null);Pn===0&&(Pn=5)}function Ow(r,l){do{var u=kC(r.alternate,r);if(u!==null){u.flags&=32767,Ft=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(r=r.sibling,r!==null)){Ft=r;return}Ft=r=u}while(r!==null);Pn=6,Ft=null}function Aw(r,l,u,m,x,w,O,F,Q){r.cancelPendingCommit=null;do uf();while(fs!==0);if((en&6)!==0)throw Error(s(327));if(l!==null){if(l===r.current)throw Error(s(177));if(w=l.lanes|l.childLanes,w|=Im,Qt(r,u,w,O,F,Q),r===pn&&(Ft=pn=null,qt=0),Nl=l,xi=r,Sl=u,Gp=w,Kp=x,jw=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,BC(fe,function(){return zw(),null})):(r.callbackNode=null,r.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=H.T,H.T=null,x=J.p,J.p=2,O=en,en|=4;try{CC(r,l,u)}finally{en=O,J.p=x,H.T=m}}fs=1,Rw(),Mw(),Pw()}}function Rw(){if(fs===1){fs=0;var r=xi,l=Nl,u=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||u){u=H.T,H.T=null;var m=J.p;J.p=2;var x=en;en|=4;try{pw(l,r);var w=fg,O=wb(r.containerInfo),F=w.focusedElem,Q=w.selectionRange;if(O!==F&&F&&F.ownerDocument&&vb(F.ownerDocument.documentElement,F)){if(Q!==null&&Fm(F)){var ye=Q.start,Se=Q.end;if(Se===void 0&&(Se=ye),"selectionStart"in F)F.selectionStart=ye,F.selectionEnd=Math.min(Se,F.value.length);else{var ke=F.ownerDocument||document,we=ke&&ke.defaultView||window;if(we.getSelection){var je=we.getSelection(),yt=F.textContent.length,mt=Math.min(Q.start,yt),cn=Q.end===void 0?mt:Math.min(Q.end,yt);!je.extend&&mt>cn&&(O=cn,cn=mt,mt=O);var de=bb(F,mt),ae=bb(F,cn);if(de&&ae&&(je.rangeCount!==1||je.anchorNode!==de.node||je.anchorOffset!==de.offset||je.focusNode!==ae.node||je.focusOffset!==ae.offset)){var ge=ke.createRange();ge.setStart(de.node,de.offset),je.removeAllRanges(),mt>cn?(je.addRange(ge),je.extend(ae.node,ae.offset)):(ge.setEnd(ae.node,ae.offset),je.addRange(ge))}}}}for(ke=[],je=F;je=je.parentNode;)je.nodeType===1&&ke.push({element:je,left:je.scrollLeft,top:je.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<ke.length;F++){var Te=ke[F];Te.element.scrollLeft=Te.left,Te.element.scrollTop=Te.top}}jf=!!dg,fg=dg=null}finally{en=x,J.p=m,H.T=u}}r.current=l,fs=2}}function Mw(){if(fs===2){fs=0;var r=xi,l=Nl,u=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||u){u=H.T,H.T=null;var m=J.p;J.p=2;var x=en;en|=4;try{dw(r,l.alternate,l)}finally{en=x,J.p=m,H.T=u}}fs=3}}function Pw(){if(fs===4||fs===3){fs=0,at();var r=xi,l=Nl,u=Sl,m=jw;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?fs=5:(fs=0,Nl=xi=null,Lw(r,r.pendingLanes));var x=r.pendingLanes;if(x===0&&(gi=null),Wt(u),l=l.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Be,l,void 0,(l.current.flags&128)===128)}catch(Q){}if(m!==null){l=H.T,x=J.p,J.p=2,H.T=null;try{for(var w=r.onRecoverableError,O=0;O<m.length;O++){var F=m[O];w(F.value,{componentStack:F.stack})}}finally{H.T=l,J.p=x}}(Sl&3)!==0&&uf(),sa(r),x=r.pendingLanes,(u&4194090)!==0&&(x&42)!==0?r===Qp?tu++:(tu=0,Qp=r):tu=0,nu(0)}}function Lw(r,l){(r.pooledCacheLanes&=l)===0&&(l=r.pooledCache,l!=null&&(r.pooledCache=null,Pc(l)))}function uf(r){return Rw(),Mw(),Pw(),zw()}function zw(){if(fs!==5)return!1;var r=xi,l=Gp;Gp=0;var u=Wt(Sl),m=H.T,x=J.p;try{J.p=32>u?32:u,H.T=null,u=Kp,Kp=null;var w=xi,O=Sl;if(fs=0,Nl=xi=null,Sl=0,(en&6)!==0)throw Error(s(331));var F=en;if(en|=4,vw(w.current),xw(w,w.current,O,u),en=F,nu(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Be,w)}catch(Q){}return!0}finally{J.p=x,H.T=m,Lw(r,l)}}function Uw(r,l,u){l=fr(u,l),l=Cp(r.stateNode,l,2),r=oi(r,l,2),r!==null&&(St(r,2),sa(r))}function hn(r,l,u){if(r.tag===3)Uw(r,r,u);else for(;l!==null;){if(l.tag===3){Uw(l,r,u);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(gi===null||!gi.has(m))){r=fr(u,r),u=Hv(2),m=oi(l,u,2),m!==null&&(Vv(u,m,l,r),St(m,2),sa(m));break}}l=l.return}}function tg(r,l,u){var m=r.pingCache;if(m===null){m=r.pingCache=new AC;var x=new Set;m.set(l,x)}else x=m.get(l),x===void 0&&(x=new Set,m.set(l,x));x.has(u)||(qp=!0,x.add(u),r=zC.bind(null,r,l,u),l.then(r,r))}function zC(r,l,u){var m=r.pingCache;m!==null&&m.delete(l),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,pn===r&&(qt&u)===u&&(Pn===4||Pn===3&&(qt&62914560)===qt&&300>Me()-Xp?(en&2)===0&&Tl(r,0):Wp|=u,_l===qt&&(_l=0)),sa(r)}function Fw(r,l){l===0&&(l=Rt()),r=ll(r,l),r!==null&&(St(r,l),sa(r))}function UC(r){var l=r.memoizedState,u=0;l!==null&&(u=l.retryLane),Fw(r,u)}function FC(r,l){var u=0;switch(r.tag){case 13:var m=r.stateNode,x=r.memoizedState;x!==null&&(u=x.retryLane);break;case 19:m=r.stateNode;break;case 22:m=r.stateNode._retryCache;break;default:throw Error(s(314))}m!==null&&m.delete(l),Fw(r,u)}function BC(r,l){return pt(r,l)}var df=null,kl=null,ng=!1,ff=!1,sg=!1,yo=0;function sa(r){r!==kl&&r.next===null&&(kl===null?df=kl=r:kl=kl.next=r),ff=!0,ng||(ng=!0,HC())}function nu(r,l){if(!sg&&ff){sg=!0;do for(var u=!1,m=df;m!==null;){if(r!==0){var x=m.pendingLanes;if(x===0)var w=0;else{var O=m.suspendedLanes,F=m.pingedLanes;w=(1<<31-wt(42|r)+1)-1,w&=x&~(O&~F),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(u=!0,Vw(m,w))}else w=qt,w=cs(m,m===pn?w:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(w&3)===0||Kn(m,w)||(u=!0,Vw(m,w));m=m.next}while(u);sg=!1}}function $C(){Bw()}function Bw(){ff=ng=!1;var r=0;yo!==0&&(KC()&&(r=yo),yo=0);for(var l=Me(),u=null,m=df;m!==null;){var x=m.next,w=$w(m,l);w===0?(m.next=null,u===null?df=x:u.next=x,x===null&&(kl=u)):(u=m,(r!==0||(w&3)!==0)&&(ff=!0)),m=x}nu(r)}function $w(r,l){for(var u=r.suspendedLanes,m=r.pingedLanes,x=r.expirationTimes,w=r.pendingLanes&-62914561;0<w;){var O=31-wt(w),F=1<<O,Q=x[O];Q===-1?((F&u)===0||(F&m)!==0)&&(x[O]=ks(F,l)):Q<=l&&(r.expiredLanes|=F),w&=~F}if(l=pn,u=qt,u=cs(r,r===l?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m=r.callbackNode,u===0||r===l&&(tn===2||tn===9)||r.cancelPendingCommit!==null)return m!==null&&m!==null&&ze(m),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||Kn(r,u)){if(l=u&-u,l===r.callbackPriority)return l;switch(m!==null&&ze(m),Wt(u)){case 2:case 8:u=X;break;case 32:u=fe;break;case 268435456:u=Ne;break;default:u=fe}return m=Hw.bind(null,r),u=pt(u,m),r.callbackPriority=l,r.callbackNode=u,l}return m!==null&&m!==null&&ze(m),r.callbackPriority=2,r.callbackNode=null,2}function Hw(r,l){if(fs!==0&&fs!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(uf()&&r.callbackNode!==u)return null;var m=qt;return m=cs(r,r===pn?m:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m===0?null:(Nw(r,m,l),$w(r,Me()),r.callbackNode!=null&&r.callbackNode===u?Hw.bind(null,r):null)}function Vw(r,l){if(uf())return null;Nw(r,l,!0)}function HC(){ZC(function(){(en&6)!==0?pt(ht,$C):Bw()})}function rg(){return yo===0&&(yo=Ye()),yo}function Iw(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Zo(""+r)}function qw(r,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,r.id&&u.setAttribute("form",r.id),l.parentNode.insertBefore(u,l),r=new FormData(r),u.parentNode.removeChild(u),r}function VC(r,l,u,m,x){if(l==="submit"&&u&&u.stateNode===x){var w=Iw((x[Oe]||null).action),O=m.submitter;O&&(l=(l=O[Oe]||null)?Iw(l.formAction):O.getAttribute("formAction"),l!==null&&(w=l,O=null));var F=new tl("action","action",null,m,x);r.push({event:F,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(yo!==0){var Q=O?qw(x,O):new FormData(x);Np(u,{pending:!0,data:Q,method:x.method,action:w},null,Q)}}else typeof w=="function"&&(F.preventDefault(),Q=O?qw(x,O):new FormData(x),Np(u,{pending:!0,data:Q,method:x.method,action:w},w,Q))},currentTarget:x}]})}}for(var ag=0;ag<Vm.length;ag++){var ig=Vm[ag],IC=ig.toLowerCase(),qC=ig[0].toUpperCase()+ig.slice(1);Mr(IC,"on"+qC)}Mr(Nb,"onAnimationEnd"),Mr(Sb,"onAnimationIteration"),Mr(Tb,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(lC,"onTransitionRun"),Mr(cC,"onTransitionStart"),Mr(uC,"onTransitionCancel"),Mr(Eb,"onTransitionEnd"),On("onMouseEnter",["mouseout","mouseover"]),On("onMouseLeave",["mouseout","mouseover"]),On("onPointerEnter",["pointerout","pointerover"]),On("onPointerLeave",["pointerout","pointerover"]),wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(su));function Ww(r,l){l=(l&4)!==0;for(var u=0;u<r.length;u++){var m=r[u],x=m.event;m=m.listeners;e:{var w=void 0;if(l)for(var O=m.length-1;0<=O;O--){var F=m[O],Q=F.instance,ye=F.currentTarget;if(F=F.listener,Q!==w&&x.isPropagationStopped())break e;w=F,x.currentTarget=ye;try{w(x)}catch(Se){Zd(Se)}x.currentTarget=null,w=Q}else for(O=0;O<m.length;O++){if(F=m[O],Q=F.instance,ye=F.currentTarget,F=F.listener,Q!==w&&x.isPropagationStopped())break e;w=F,x.currentTarget=ye;try{w(x)}catch(Se){Zd(Se)}x.currentTarget=null,w=Q}}}}function Bt(r,l){var u=l[Ke];u===void 0&&(u=l[Ke]=new Set);var m=r+"__bubble";u.has(m)||(Yw(l,r,2,!1),u.add(m))}function og(r,l,u){var m=0;l&&(m|=4),Yw(u,r,m,l)}var hf="_reactListening"+Math.random().toString(36).slice(2);function lg(r){if(!r[hf]){r[hf]=!0,Tt.forEach(function(u){u!=="selectionchange"&&(WC.has(u)||og(u,!1,r),og(u,!0,r))});var l=r.nodeType===9?r:r.ownerDocument;l===null||l[hf]||(l[hf]=!0,og("selectionchange",!1,l))}}function Yw(r,l,u,m){switch(xj(l)){case 2:var x=bD;break;case 8:x=vD;break;default:x=jg}u=x.bind(null,l,u,r),x=void 0,!Jo||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),m?x!==void 0?r.addEventListener(l,u,{capture:!0,passive:x}):r.addEventListener(l,u,!0):x!==void 0?r.addEventListener(l,u,{passive:x}):r.addEventListener(l,u,!1)}function cg(r,l,u,m,x){var w=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var O=m.tag;if(O===3||O===4){var F=m.stateNode.containerInfo;if(F===x)break;if(O===4)for(O=m.return;O!==null;){var Q=O.tag;if((Q===3||Q===4)&&O.stateNode.containerInfo===x)return;O=O.return}for(;F!==null;){if(O=kt(F),O===null)return;if(Q=O.tag,Q===5||Q===6||Q===26||Q===27){m=w=O;continue e}F=F.parentNode}}m=m.return}Sc(function(){var ye=w,Se=Zi(u),ke=[];e:{var we=kb.get(r);if(we!==void 0){var je=tl,yt=r;switch(r){case"keypress":if(ti(u)===0)break e;case"keydown":case"keyup":je=Zr;break;case"focusin":yt="focus",je=ut;break;case"focusout":yt="blur",je=ut;break;case"beforeblur":case"afterblur":je=ut;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=ue;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=be;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=Ed;break;case Nb:case Sb:case Tb:je=We;break;case Eb:je=qk;break;case"scroll":case"scrollend":je=Rn;break;case"wheel":je=Yk;break;case"copy":case"cut":case"paste":je=an;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=nl;break;case"toggle":case"beforetoggle":je=Gk}var mt=(l&4)!==0,cn=!mt&&(r==="scroll"||r==="scrollend"),de=mt?we!==null?we+"Capture":null:we;mt=[];for(var ae=ye,ge;ae!==null;){var Te=ae;if(ge=Te.stateNode,Te=Te.tag,Te!==5&&Te!==26&&Te!==27||ge===null||de===null||(Te=ei(ae,de),Te!=null&&mt.push(ru(ae,Te,ge))),cn)break;ae=ae.return}0<mt.length&&(we=new je(we,yt,null,u,Se),ke.push({event:we,listeners:mt}))}}if((l&7)===0){e:{if(we=r==="mouseover"||r==="pointerover",je=r==="mouseout"||r==="pointerout",we&&u!==_c&&(yt=u.relatedTarget||u.fromElement)&&(kt(yt)||yt[$e]))break e;if((je||we)&&(we=Se.window===Se?Se:(we=Se.ownerDocument)?we.defaultView||we.parentWindow:window,je?(yt=u.relatedTarget||u.toElement,je=ye,yt=yt?kt(yt):null,yt!==null&&(cn=o(yt),mt=yt.tag,yt!==cn||mt!==5&&mt!==27&&mt!==6)&&(yt=null)):(je=null,yt=ye),je!==yt)){if(mt=ue,Te="onMouseLeave",de="onMouseEnter",ae="mouse",(r==="pointerout"||r==="pointerover")&&(mt=nl,Te="onPointerLeave",de="onPointerEnter",ae="pointer"),cn=je==null?we:Dn(je),ge=yt==null?we:Dn(yt),we=new mt(Te,ae+"leave",je,u,Se),we.target=cn,we.relatedTarget=ge,Te=null,kt(Se)===ye&&(mt=new mt(de,ae+"enter",yt,u,Se),mt.target=ge,mt.relatedTarget=cn,Te=mt),cn=Te,je&&yt)t:{for(mt=je,de=yt,ae=0,ge=mt;ge;ge=Cl(ge))ae++;for(ge=0,Te=de;Te;Te=Cl(Te))ge++;for(;0<ae-ge;)mt=Cl(mt),ae--;for(;0<ge-ae;)de=Cl(de),ge--;for(;ae--;){if(mt===de||de!==null&&mt===de.alternate)break t;mt=Cl(mt),de=Cl(de)}mt=null}else mt=null;je!==null&&Xw(ke,we,je,mt,!1),yt!==null&&cn!==null&&Xw(ke,cn,yt,mt,!0)}}e:{if(we=ye?Dn(ye):window,je=we.nodeName&&we.nodeName.toLowerCase(),je==="select"||je==="input"&&we.type==="file")var Qe=hb;else if(db(we))if(mb)Qe=aC;else{Qe=sC;var Lt=nC}else je=we.nodeName,!je||je.toLowerCase()!=="input"||we.type!=="checkbox"&&we.type!=="radio"?ye&&Qi(ye.elementType)&&(Qe=hb):Qe=rC;if(Qe&&(Qe=Qe(r,ye))){fb(ke,Qe,u,Se);break e}Lt&&Lt(r,we,ye),r==="focusout"&&ye&&we.type==="number"&&ye.memoizedProps.value!=null&&vc(we,"number",we.value)}switch(Lt=ye?Dn(ye):window,r){case"focusin":(db(Lt)||Lt.contentEditable==="true")&&(al=Lt,Bm=ye,Dc=null);break;case"focusout":Dc=Bm=al=null;break;case"mousedown":$m=!0;break;case"contextmenu":case"mouseup":case"dragend":$m=!1,jb(ke,u,Se);break;case"selectionchange":if(oC)break;case"keydown":case"keyup":jb(ke,u,Se)}var lt;if(Lm)e:{switch(r){case"compositionstart":var xt="onCompositionStart";break e;case"compositionend":xt="onCompositionEnd";break e;case"compositionupdate":xt="onCompositionUpdate";break e}xt=void 0}else rl?cb(r,u)&&(xt="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(xt="onCompositionStart");xt&&(ib&&u.locale!=="ko"&&(rl||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&rl&&(lt=to()):(Xs=Se,Ls="value"in Xs?Xs.value:Xs.textContent,rl=!0)),Lt=mf(ye,xt),0<Lt.length&&(xt=new ft(xt,r,null,u,Se),ke.push({event:xt,listeners:Lt}),lt?xt.data=lt:(lt=ub(u),lt!==null&&(xt.data=lt)))),(lt=Qk?Zk(r,u):Jk(r,u))&&(xt=mf(ye,"onBeforeInput"),0<xt.length&&(Lt=new ft("onBeforeInput","beforeinput",null,u,Se),ke.push({event:Lt,listeners:xt}),Lt.data=lt)),VC(ke,r,ye,u,Se)}Ww(ke,l)})}function ru(r,l,u){return{instance:r,listener:l,currentTarget:u}}function mf(r,l){for(var u=l+"Capture",m=[];r!==null;){var x=r,w=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||w===null||(x=ei(r,u),x!=null&&m.unshift(ru(r,x,w)),x=ei(r,l),x!=null&&m.push(ru(r,x,w))),r.tag===3)return m;r=r.return}return[]}function Cl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Xw(r,l,u,m,x){for(var w=l._reactName,O=[];u!==null&&u!==m;){var F=u,Q=F.alternate,ye=F.stateNode;if(F=F.tag,Q!==null&&Q===m)break;F!==5&&F!==26&&F!==27||ye===null||(Q=ye,x?(ye=ei(u,w),ye!=null&&O.unshift(ru(u,ye,Q))):x||(ye=ei(u,w),ye!=null&&O.push(ru(u,ye,Q)))),u=u.return}O.length!==0&&r.push({event:l,listeners:O})}var YC=/\r\n?/g,XC=/\u0000|\uFFFD/g;function Gw(r){return(typeof r=="string"?r:""+r).replace(YC,`
`).replace(XC,"")}function Kw(r,l){return l=Gw(l),Gw(r)===l}function pf(){}function ln(r,l,u,m,x,w){switch(u){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||Za(r,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&Za(r,""+m);break;case"className":ur(r,"class",m);break;case"tabIndex":ur(r,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":ur(r,u,m);break;case"style":jc(r,m,w);break;case"data":if(l!=="object"){ur(r,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||u!=="href")){r.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(u);break}m=Zo(""+m),r.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(u==="formAction"?(l!=="input"&&ln(r,l,"name",x.name,x,null),ln(r,l,"formEncType",x.formEncType,x,null),ln(r,l,"formMethod",x.formMethod,x,null),ln(r,l,"formTarget",x.formTarget,x,null)):(ln(r,l,"encType",x.encType,x,null),ln(r,l,"method",x.method,x,null),ln(r,l,"target",x.target,x,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(u);break}m=Zo(""+m),r.setAttribute(u,m);break;case"onClick":m!=null&&(r.onclick=pf);break;case"onScroll":m!=null&&Bt("scroll",r);break;case"onScrollEnd":m!=null&&Bt("scrollend",r);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(s(61));if(u=m.__html,u!=null){if(x.children!=null)throw Error(s(60));r.innerHTML=u}}break;case"multiple":r.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":r.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){r.removeAttribute("xlink:href");break}u=Zo(""+m),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(u,""+m):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":m===!0?r.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(u,m):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?r.setAttribute(u,m):r.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?r.removeAttribute(u):r.setAttribute(u,m);break;case"popover":Bt("beforetoggle",r),Bt("toggle",r),vs(r,"popover",m);break;case"xlinkActuate":At(r,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":At(r,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":At(r,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":At(r,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":At(r,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":At(r,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":At(r,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":At(r,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":At(r,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":vs(r,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Qo.get(u)||u,vs(r,u,m))}}function ug(r,l,u,m,x,w){switch(u){case"style":jc(r,m,w);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(s(61));if(u=m.__html,u!=null){if(x.children!=null)throw Error(s(60));r.innerHTML=u}}break;case"children":typeof m=="string"?Za(r,m):(typeof m=="number"||typeof m=="bigint")&&Za(r,""+m);break;case"onScroll":m!=null&&Bt("scroll",r);break;case"onScrollEnd":m!=null&&Bt("scrollend",r);break;case"onClick":m!=null&&(r.onclick=pf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yt.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(x=u.endsWith("Capture"),l=u.slice(2,x?u.length-7:void 0),w=r[Oe]||null,w=w!=null?w[u]:null,typeof w=="function"&&r.removeEventListener(l,w,x),typeof m=="function")){typeof w!="function"&&w!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(l,m,x);break e}u in r?r[u]=m:m===!0?r.setAttribute(u,""):vs(r,u,m)}}}function hs(r,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bt("error",r),Bt("load",r);var m=!1,x=!1,w;for(w in u)if(u.hasOwnProperty(w)){var O=u[w];if(O!=null)switch(w){case"src":m=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,l));default:ln(r,l,w,O,u,null)}}x&&ln(r,l,"srcSet",u.srcSet,u,null),m&&ln(r,l,"src",u.src,u,null);return;case"input":Bt("invalid",r);var F=w=O=x=null,Q=null,ye=null;for(m in u)if(u.hasOwnProperty(m)){var Se=u[m];if(Se!=null)switch(m){case"name":x=Se;break;case"type":O=Se;break;case"checked":Q=Se;break;case"defaultChecked":ye=Se;break;case"value":w=Se;break;case"defaultValue":F=Se;break;case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(s(137,l));break;default:ln(r,l,m,Se,u,null)}}_d(r,w,F,Q,ye,O,x,!1),Xi(r);return;case"select":Bt("invalid",r),m=O=w=null;for(x in u)if(u.hasOwnProperty(x)&&(F=u[x],F!=null))switch(x){case"value":w=F;break;case"defaultValue":O=F;break;case"multiple":m=F;default:ln(r,l,x,F,u,null)}l=w,u=O,r.multiple=!!m,l!=null?ja(r,!!m,l,!1):u!=null&&ja(r,!!m,u,!0);return;case"textarea":Bt("invalid",r),w=x=m=null;for(O in u)if(u.hasOwnProperty(O)&&(F=u[O],F!=null))switch(O){case"value":m=F;break;case"defaultValue":x=F;break;case"children":w=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(91));break;default:ln(r,l,O,F,u,null)}wc(r,m,x,w),Xi(r);return;case"option":for(Q in u)if(u.hasOwnProperty(Q)&&(m=u[Q],m!=null))switch(Q){case"selected":r.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:ln(r,l,Q,m,u,null)}return;case"dialog":Bt("beforetoggle",r),Bt("toggle",r),Bt("cancel",r),Bt("close",r);break;case"iframe":case"object":Bt("load",r);break;case"video":case"audio":for(m=0;m<su.length;m++)Bt(su[m],r);break;case"image":Bt("error",r),Bt("load",r);break;case"details":Bt("toggle",r);break;case"embed":case"source":case"link":Bt("error",r),Bt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ye in u)if(u.hasOwnProperty(ye)&&(m=u[ye],m!=null))switch(ye){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,l));default:ln(r,l,ye,m,u,null)}return;default:if(Qi(l)){for(Se in u)u.hasOwnProperty(Se)&&(m=u[Se],m!==void 0&&ug(r,l,Se,m,u,void 0));return}}for(F in u)u.hasOwnProperty(F)&&(m=u[F],m!=null&&ln(r,l,F,m,u,null))}function GC(r,l,u,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,w=null,O=null,F=null,Q=null,ye=null,Se=null;for(je in u){var ke=u[je];if(u.hasOwnProperty(je)&&ke!=null)switch(je){case"checked":break;case"value":break;case"defaultValue":Q=ke;default:m.hasOwnProperty(je)||ln(r,l,je,null,m,ke)}}for(var we in m){var je=m[we];if(ke=u[we],m.hasOwnProperty(we)&&(je!=null||ke!=null))switch(we){case"type":w=je;break;case"name":x=je;break;case"checked":ye=je;break;case"defaultChecked":Se=je;break;case"value":O=je;break;case"defaultValue":F=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(s(137,l));break;default:je!==ke&&ln(r,l,we,je,m,ke)}}bc(r,O,F,Q,ye,Se,w,x);return;case"select":je=O=F=we=null;for(w in u)if(Q=u[w],u.hasOwnProperty(w)&&Q!=null)switch(w){case"value":break;case"multiple":je=Q;default:m.hasOwnProperty(w)||ln(r,l,w,null,m,Q)}for(x in m)if(w=m[x],Q=u[x],m.hasOwnProperty(x)&&(w!=null||Q!=null))switch(x){case"value":we=w;break;case"defaultValue":F=w;break;case"multiple":O=w;default:w!==Q&&ln(r,l,x,w,m,Q)}l=F,u=O,m=je,we!=null?ja(r,!!u,we,!1):!!m!=!!u&&(l!=null?ja(r,!!u,l,!0):ja(r,!!u,u?[]:"",!1));return;case"textarea":je=we=null;for(F in u)if(x=u[F],u.hasOwnProperty(F)&&x!=null&&!m.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:ln(r,l,F,null,m,x)}for(O in m)if(x=m[O],w=u[O],m.hasOwnProperty(O)&&(x!=null||w!=null))switch(O){case"value":we=x;break;case"defaultValue":je=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:x!==w&&ln(r,l,O,x,m,w)}Ki(r,we,je);return;case"option":for(var yt in u)if(we=u[yt],u.hasOwnProperty(yt)&&we!=null&&!m.hasOwnProperty(yt))switch(yt){case"selected":r.selected=!1;break;default:ln(r,l,yt,null,m,we)}for(Q in m)if(we=m[Q],je=u[Q],m.hasOwnProperty(Q)&&we!==je&&(we!=null||je!=null))switch(Q){case"selected":r.selected=we&&typeof we!="function"&&typeof we!="symbol";break;default:ln(r,l,Q,we,m,je)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in u)we=u[mt],u.hasOwnProperty(mt)&&we!=null&&!m.hasOwnProperty(mt)&&ln(r,l,mt,null,m,we);for(ye in m)if(we=m[ye],je=u[ye],m.hasOwnProperty(ye)&&we!==je&&(we!=null||je!=null))switch(ye){case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(s(137,l));break;default:ln(r,l,ye,we,m,je)}return;default:if(Qi(l)){for(var cn in u)we=u[cn],u.hasOwnProperty(cn)&&we!==void 0&&!m.hasOwnProperty(cn)&&ug(r,l,cn,void 0,m,we);for(Se in m)we=m[Se],je=u[Se],!m.hasOwnProperty(Se)||we===je||we===void 0&&je===void 0||ug(r,l,Se,we,m,je);return}}for(var de in u)we=u[de],u.hasOwnProperty(de)&&we!=null&&!m.hasOwnProperty(de)&&ln(r,l,de,null,m,we);for(ke in m)we=m[ke],je=u[ke],!m.hasOwnProperty(ke)||we===je||we==null&&je==null||ln(r,l,ke,we,m,je)}var dg=null,fg=null;function gf(r){return r.nodeType===9?r:r.ownerDocument}function Qw(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zw(r,l){if(r===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&l==="foreignObject"?0:r}function hg(r,l){return r==="textarea"||r==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var mg=null;function KC(){var r=window.event;return r&&r.type==="popstate"?r===mg?!1:(mg=r,!0):(mg=null,!1)}var Jw=typeof setTimeout=="function"?setTimeout:void 0,QC=typeof clearTimeout=="function"?clearTimeout:void 0,ej=typeof Promise=="function"?Promise:void 0,ZC=typeof queueMicrotask=="function"?queueMicrotask:typeof ej!="undefined"?function(r){return ej.resolve(null).then(r).catch(JC)}:Jw;function JC(r){setTimeout(function(){throw r})}function bi(r){return r==="head"}function tj(r,l){var u=l,m=0,x=0;do{var w=u.nextSibling;if(r.removeChild(u),w&&w.nodeType===8)if(u=w.data,u==="/$"){if(0<m&&8>m){u=m;var O=r.ownerDocument;if(u&1&&au(O.documentElement),u&2&&au(O.body),u&4)for(u=O.head,au(u),O=u.firstChild;O;){var F=O.nextSibling,Q=O.nodeName;O[it]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&O.rel.toLowerCase()==="stylesheet"||u.removeChild(O),O=F}}if(x===0){r.removeChild(w),hu(l);return}x--}else u==="$"||u==="$?"||u==="$!"?x++:m=u.charCodeAt(0)-48;else m=0;u=w}while(u);hu(l)}function pg(r){var l=r.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":pg(u),vt(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function eD(r,l,u,m){for(;r.nodeType===1;){var x=u;if(r.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(m){if(!r[it])switch(l){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(w=r.getAttribute("rel"),w==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(w!==x.rel||r.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||r.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||r.getAttribute("title")!==(x.title==null?null:x.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(w=r.getAttribute("src"),(w!==(x.src==null?null:x.src)||r.getAttribute("type")!==(x.type==null?null:x.type)||r.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&w&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(l==="input"&&r.type==="hidden"){var w=x.name==null?null:""+x.name;if(x.type==="hidden"&&r.getAttribute("name")===w)return r}else return r;if(r=Lr(r.nextSibling),r===null)break}return null}function tD(r,l,u){if(l==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=Lr(r.nextSibling),r===null))return null;return r}function gg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function nD(r,l){var u=r.ownerDocument;if(r.data!=="$?"||u.readyState==="complete")l();else{var m=function(){l(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),r._reactRetry=m}}function Lr(r){for(;r!=null;r=r.nextSibling){var l=r.nodeType;if(l===1||l===3)break;if(l===8){if(l=r.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return r}var xg=null;function nj(r){r=r.previousSibling;for(var l=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(l===0)return r;l--}else u==="/$"&&l++}r=r.previousSibling}return null}function sj(r,l,u){switch(l=gf(u),r){case"html":if(r=l.documentElement,!r)throw Error(s(452));return r;case"head":if(r=l.head,!r)throw Error(s(453));return r;case"body":if(r=l.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function au(r){for(var l=r.attributes;l.length;)r.removeAttributeNode(l[0]);vt(r)}var yr=new Map,rj=new Set;function xf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var za=J.d;J.d={f:sD,r:rD,D:aD,C:iD,L:oD,m:lD,X:uD,S:cD,M:dD};function sD(){var r=za.f(),l=lf();return r||l}function rD(r){var l=fn(r);l!==null&&l.tag===5&&l.type==="form"?Nv(l):za.r(r)}var Dl=typeof document=="undefined"?null:document;function aj(r,l,u){var m=Dl;if(m&&typeof l=="string"&&l){var x=Ms(l);x='link[rel="'+r+'"][href="'+x+'"]',typeof u=="string"&&(x+='[crossorigin="'+u+'"]'),rj.has(x)||(rj.add(x),r={rel:r,crossOrigin:u,href:l},m.querySelector(x)===null&&(l=m.createElement("link"),hs(l,"link",r),ot(l),m.head.appendChild(l)))}}function aD(r){za.D(r),aj("dns-prefetch",r,null)}function iD(r,l){za.C(r,l),aj("preconnect",r,l)}function oD(r,l,u){za.L(r,l,u);var m=Dl;if(m&&r&&l){var x='link[rel="preload"][as="'+Ms(l)+'"]';l==="image"&&u&&u.imageSrcSet?(x+='[imagesrcset="'+Ms(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(x+='[imagesizes="'+Ms(u.imageSizes)+'"]')):x+='[href="'+Ms(r)+'"]';var w=x;switch(l){case"style":w=Ol(r);break;case"script":w=Al(r)}yr.has(w)||(r=p({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:r,as:l},u),yr.set(w,r),m.querySelector(x)!==null||l==="style"&&m.querySelector(iu(w))||l==="script"&&m.querySelector(ou(w))||(l=m.createElement("link"),hs(l,"link",r),ot(l),m.head.appendChild(l)))}}function lD(r,l){za.m(r,l);var u=Dl;if(u&&r){var m=l&&typeof l.as=="string"?l.as:"script",x='link[rel="modulepreload"][as="'+Ms(m)+'"][href="'+Ms(r)+'"]',w=x;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Al(r)}if(!yr.has(w)&&(r=p({rel:"modulepreload",href:r},l),yr.set(w,r),u.querySelector(x)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(ou(w)))return}m=u.createElement("link"),hs(m,"link",r),ot(m),u.head.appendChild(m)}}}function cD(r,l,u){za.S(r,l,u);var m=Dl;if(m&&r){var x=rn(m).hoistableStyles,w=Ol(r);l=l||"default";var O=x.get(w);if(!O){var F={loading:0,preload:null};if(O=m.querySelector(iu(w)))F.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":l},u),(u=yr.get(w))&&yg(r,u);var Q=O=m.createElement("link");ot(Q),hs(Q,"link",r),Q._p=new Promise(function(ye,Se){Q.onload=ye,Q.onerror=Se}),Q.addEventListener("load",function(){F.loading|=1}),Q.addEventListener("error",function(){F.loading|=2}),F.loading|=4,yf(O,l,m)}O={type:"stylesheet",instance:O,count:1,state:F},x.set(w,O)}}}function uD(r,l){za.X(r,l);var u=Dl;if(u&&r){var m=rn(u).hoistableScripts,x=Al(r),w=m.get(x);w||(w=u.querySelector(ou(x)),w||(r=p({src:r,async:!0},l),(l=yr.get(x))&&bg(r,l),w=u.createElement("script"),ot(w),hs(w,"link",r),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(x,w))}}function dD(r,l){za.M(r,l);var u=Dl;if(u&&r){var m=rn(u).hoistableScripts,x=Al(r),w=m.get(x);w||(w=u.querySelector(ou(x)),w||(r=p({src:r,async:!0,type:"module"},l),(l=yr.get(x))&&bg(r,l),w=u.createElement("script"),ot(w),hs(w,"link",r),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(x,w))}}function ij(r,l,u,m){var x=(x=me.current)?xf(x):null;if(!x)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=Ol(u.href),u=rn(x).hoistableStyles,m=u.get(l),m||(m={type:"style",instance:null,count:0,state:null},u.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=Ol(u.href);var w=rn(x).hoistableStyles,O=w.get(r);if(O||(x=x.ownerDocument||x,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(r,O),(w=x.querySelector(iu(r)))&&!w._p&&(O.instance=w,O.state.loading=5),yr.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},yr.set(r,u),w||fD(x,r,u,O.state))),l&&m===null)throw Error(s(528,""));return O}if(l&&m!==null)throw Error(s(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Al(u),u=rn(x).hoistableScripts,m=u.get(l),m||(m={type:"script",instance:null,count:0,state:null},u.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function Ol(r){return'href="'+Ms(r)+'"'}function iu(r){return'link[rel="stylesheet"]['+r+"]"}function oj(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function fD(r,l,u,m){r.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=r.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),hs(l,"link",u),ot(l),r.head.appendChild(l))}function Al(r){return'[src="'+Ms(r)+'"]'}function ou(r){return"script[async]"+r}function lj(r,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var m=r.querySelector('style[data-href~="'+Ms(u.href)+'"]');if(m)return l.instance=m,ot(m),m;var x=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(r.ownerDocument||r).createElement("style"),ot(m),hs(m,"style",x),yf(m,u.precedence,r),l.instance=m;case"stylesheet":x=Ol(u.href);var w=r.querySelector(iu(x));if(w)return l.state.loading|=4,l.instance=w,ot(w),w;m=oj(u),(x=yr.get(x))&&yg(m,x),w=(r.ownerDocument||r).createElement("link"),ot(w);var O=w;return O._p=new Promise(function(F,Q){O.onload=F,O.onerror=Q}),hs(w,"link",m),l.state.loading|=4,yf(w,u.precedence,r),l.instance=w;case"script":return w=Al(u.src),(x=r.querySelector(ou(w)))?(l.instance=x,ot(x),x):(m=u,(x=yr.get(w))&&(m=p({},u),bg(m,x)),r=r.ownerDocument||r,x=r.createElement("script"),ot(x),hs(x,"link",m),r.head.appendChild(x),l.instance=x);case"void":return null;default:throw Error(s(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,yf(m,u.precedence,r));return l.instance}function yf(r,l,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=m.length?m[m.length-1]:null,w=x,O=0;O<m.length;O++){var F=m[O];if(F.dataset.precedence===l)w=F;else if(w!==x)break}w?w.parentNode.insertBefore(r,w.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(r,l.firstChild))}function yg(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.title==null&&(r.title=l.title)}function bg(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.integrity==null&&(r.integrity=l.integrity)}var bf=null;function cj(r,l,u){if(bf===null){var m=new Map,x=bf=new Map;x.set(u,m)}else x=bf,m=x.get(u),m||(m=new Map,x.set(u,m));if(m.has(r))return m;for(m.set(r,null),u=u.getElementsByTagName(r),x=0;x<u.length;x++){var w=u[x];if(!(w[it]||w[_e]||r==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var O=w.getAttribute(l)||"";O=r+O;var F=m.get(O);F?F.push(w):m.set(O,[w])}}return m}function uj(r,l,u){r=r.ownerDocument||r,r.head.insertBefore(u,l==="title"?r.querySelector("head > title"):null)}function hD(r,l,u){if(u===1||l.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return r=l.disabled,typeof l.precedence=="string"&&r==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function dj(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var lu=null;function mD(){}function pD(r,l,u){if(lu===null)throw Error(s(475));var m=lu;if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var x=Ol(u.href),w=r.querySelector(iu(x));if(w){r=w._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(m.count++,m=vf.bind(m),r.then(m,m)),l.state.loading|=4,l.instance=w,ot(w);return}w=r.ownerDocument||r,u=oj(u),(x=yr.get(x))&&yg(u,x),w=w.createElement("link"),ot(w);var O=w;O._p=new Promise(function(F,Q){O.onload=F,O.onerror=Q}),hs(w,"link",u),l.instance=w}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(m.count++,l=vf.bind(m),r.addEventListener("load",l),r.addEventListener("error",l))}}function gD(){if(lu===null)throw Error(s(475));var r=lu;return r.stylesheets&&r.count===0&&vg(r,r.stylesheets),0<r.count?function(l){var u=setTimeout(function(){if(r.stylesheets&&vg(r,r.stylesheets),r.unsuspend){var m=r.unsuspend;r.unsuspend=null,m()}},6e4);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(u)}}:null}function vf(){if(this.count--,this.count===0){if(this.stylesheets)vg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var wf=null;function vg(r,l){r.stylesheets=null,r.unsuspend!==null&&(r.count++,wf=new Map,l.forEach(xD,r),wf=null,vf.call(r))}function xD(r,l){if(!(l.state.loading&4)){var u=wf.get(r);if(u)var m=u.get(null);else{u=new Map,wf.set(r,u);for(var x=r.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<x.length;w++){var O=x[w];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(u.set(O.dataset.precedence,O),m=O)}m&&u.set(null,m)}x=l.instance,O=x.getAttribute("data-precedence"),w=u.get(O)||m,w===m&&u.set(null,x),u.set(O,x),this.count++,m=vf.bind(this),x.addEventListener("load",m),x.addEventListener("error",m),w?w.parentNode.insertBefore(x,w.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(x,r.firstChild)),l.state.loading|=4}}var cu={$$typeof:E,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function yD(r,l,u,m,x,w,O,F){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ut(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ut(0),this.hiddenUpdates=Ut(null),this.identifierPrefix=m,this.onUncaughtError=x,this.onCaughtError=w,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function fj(r,l,u,m,x,w,O,F,Q,ye,Se,ke){return r=new yD(r,l,u,O,F,Q,ye,ke),l=1,w===!0&&(l|=24),w=Ks(3,null,null,l),r.current=w,w.stateNode=r,l=tp(),l.refCount++,r.pooledCache=l,l.refCount++,w.memoizedState={element:m,isDehydrated:u,cache:l},ap(w),r}function hj(r){return r?(r=cl,r):cl}function mj(r,l,u,m,x,w){x=hj(x),m.context===null?m.context=x:m.pendingContext=x,m=ii(l),m.payload={element:u},w=w===void 0?null:w,w!==null&&(m.callback=w),u=oi(r,m,l),u!==null&&(tr(u,r,l),Fc(u,r,l))}function pj(r,l){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<l?u:l}}function wg(r,l){pj(r,l),(r=r.alternate)&&pj(r,l)}function gj(r){if(r.tag===13){var l=ll(r,67108864);l!==null&&tr(l,r,67108864),wg(r,67108864)}}var jf=!0;function bD(r,l,u,m){var x=H.T;H.T=null;var w=J.p;try{J.p=2,jg(r,l,u,m)}finally{J.p=w,H.T=x}}function vD(r,l,u,m){var x=H.T;H.T=null;var w=J.p;try{J.p=8,jg(r,l,u,m)}finally{J.p=w,H.T=x}}function jg(r,l,u,m){if(jf){var x=_g(m);if(x===null)cg(r,l,m,_f,u),yj(r,m);else if(jD(x,r,l,u,m))m.stopPropagation();else if(yj(r,m),l&4&&-1<wD.indexOf(r)){for(;x!==null;){var w=fn(x);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var O=Gn(w.pendingLanes);if(O!==0){var F=w;for(F.pendingLanes|=2,F.entangledLanes|=2;O;){var Q=1<<31-wt(O);F.entanglements[1]|=Q,O&=~Q}sa(w),(en&6)===0&&(af=Me()+500,nu(0))}}break;case 13:F=ll(w,2),F!==null&&tr(F,w,2),lf(),wg(w,2)}if(w=_g(m),w===null&&cg(r,l,m,_f,u),w===x)break;x=w}x!==null&&m.stopPropagation()}else cg(r,l,m,null,u)}}function _g(r){return r=Zi(r),Ng(r)}var _f=null;function Ng(r){if(_f=null,r=kt(r),r!==null){var l=o(r);if(l===null)r=null;else{var u=l.tag;if(u===13){if(r=c(l),r!==null)return r;r=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;r=null}else l!==r&&(r=null)}}return _f=r,null}function xj(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(st()){case ht:return 2;case X:return 8;case fe:case q:return 32;case Ne:return 268435456;default:return 32}default:return 32}}var Sg=!1,vi=null,wi=null,ji=null,uu=new Map,du=new Map,_i=[],wD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yj(r,l){switch(r){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":wi=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":uu.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":du.delete(l.pointerId)}}function fu(r,l,u,m,x,w){return r===null||r.nativeEvent!==w?(r={blockedOn:l,domEventName:u,eventSystemFlags:m,nativeEvent:w,targetContainers:[x]},l!==null&&(l=fn(l),l!==null&&gj(l)),r):(r.eventSystemFlags|=m,l=r.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),r)}function jD(r,l,u,m,x){switch(l){case"focusin":return vi=fu(vi,r,l,u,m,x),!0;case"dragenter":return wi=fu(wi,r,l,u,m,x),!0;case"mouseover":return ji=fu(ji,r,l,u,m,x),!0;case"pointerover":var w=x.pointerId;return uu.set(w,fu(uu.get(w)||null,r,l,u,m,x)),!0;case"gotpointercapture":return w=x.pointerId,du.set(w,fu(du.get(w)||null,r,l,u,m,x)),!0}return!1}function bj(r){var l=kt(r.target);if(l!==null){var u=o(l);if(u!==null){if(l=u.tag,l===13){if(l=c(u),l!==null){r.blockedOn=l,ie(r.priority,function(){if(u.tag===13){var m=er();m=Vt(m);var x=ll(u,m);x!==null&&tr(x,u,m),wg(u,m)}});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Nf(r){if(r.blockedOn!==null)return!1;for(var l=r.targetContainers;0<l.length;){var u=_g(r.nativeEvent);if(u===null){u=r.nativeEvent;var m=new u.constructor(u.type,u);_c=m,u.target.dispatchEvent(m),_c=null}else return l=fn(u),l!==null&&gj(l),r.blockedOn=u,!1;l.shift()}return!0}function vj(r,l,u){Nf(r)&&u.delete(l)}function _D(){Sg=!1,vi!==null&&Nf(vi)&&(vi=null),wi!==null&&Nf(wi)&&(wi=null),ji!==null&&Nf(ji)&&(ji=null),uu.forEach(vj),du.forEach(vj)}function Sf(r,l){r.blockedOn===l&&(r.blockedOn=null,Sg||(Sg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,_D)))}var Tf=null;function wj(r){Tf!==r&&(Tf=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Tf===r&&(Tf=null);for(var l=0;l<r.length;l+=3){var u=r[l],m=r[l+1],x=r[l+2];if(typeof m!="function"){if(Ng(m||u)===null)continue;break}var w=fn(u);w!==null&&(r.splice(l,3),l-=3,Np(w,{pending:!0,data:x,method:u.method,action:m},m,x))}}))}function hu(r){function l(Q){return Sf(Q,r)}vi!==null&&Sf(vi,r),wi!==null&&Sf(wi,r),ji!==null&&Sf(ji,r),uu.forEach(l),du.forEach(l);for(var u=0;u<_i.length;u++){var m=_i[u];m.blockedOn===r&&(m.blockedOn=null)}for(;0<_i.length&&(u=_i[0],u.blockedOn===null);)bj(u),u.blockedOn===null&&_i.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var x=u[m],w=u[m+1],O=x[Oe]||null;if(typeof w=="function")O||wj(u);else if(O){var F=null;if(w&&w.hasAttribute("formAction")){if(x=w,O=w[Oe]||null)F=O.formAction;else if(Ng(x)!==null)continue}else F=O.action;typeof F=="function"?u[m+1]=F:(u.splice(m,3),m-=3),wj(u)}}}function Tg(r){this._internalRoot=r}Ef.prototype.render=Tg.prototype.render=function(r){var l=this._internalRoot;if(l===null)throw Error(s(409));var u=l.current,m=er();mj(u,m,r,l,null,null)},Ef.prototype.unmount=Tg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var l=r.containerInfo;mj(r.current,2,null,r,null,null),lf(),l[$e]=null}};function Ef(r){this._internalRoot=r}Ef.prototype.unstable_scheduleHydration=function(r){if(r){var l=Z();r={blockedOn:null,target:r,priority:l};for(var u=0;u<_i.length&&l!==0&&l<_i[u].priority;u++);_i.splice(u,0,r),u===0&&bj(r)}};var jj=t.version;if(jj!=="19.1.1")throw Error(s(527,jj,"19.1.1"));J.findDOMNode=function(r){var l=r._reactInternals;if(l===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=f(l),r=r!==null?h(r):null,r=r===null?null:r.stateNode,r};var ND={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var kf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kf.isDisabled&&kf.supportsFiber)try{Be=kf.inject(ND),qe=kf}catch(r){}}return pu.createRoot=function(r,l){if(!a(r))throw Error(s(299));var u=!1,m="",x=Uv,w=Fv,O=Bv,F=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(O=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(F=l.unstable_transitionCallbacks)),l=fj(r,1,!1,null,null,u,m,x,w,O,F,null),r[$e]=l.current,lg(r),new Tg(l)},pu.hydrateRoot=function(r,l,u){if(!a(r))throw Error(s(299));var m=!1,x="",w=Uv,O=Fv,F=Bv,Q=null,ye=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(O=u.onCaughtError),u.onRecoverableError!==void 0&&(F=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(Q=u.unstable_transitionCallbacks),u.formState!==void 0&&(ye=u.formState)),l=fj(r,1,!0,l,u!=null?u:null,m,x,w,O,F,Q,ye),l.context=hj(null),u=l.current,m=er(),m=Vt(m),x=ii(m),x.callback=null,oi(u,x,m),u=m,l.current.lanes=u,St(l,u),sa(l),r[$e]=l.current,lg(r),new Ef(l)},pu.version="19.1.1",pu}var Pj;function FD(){if(Pj)return Ag.exports;Pj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ag.exports=UD(),Ag.exports}var BD=FD();const $D=Ax(BD);var HD=Object.defineProperty,VD=(e,t,n)=>t in e?HD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vo=(e,t,n)=>VD(e,typeof t!="symbol"?t+"":t,n),ID=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ml={},gu={},zr={},Lj;function QN(){if(Lj)return zr;Lj=1;var e=zr&&zr.__assign||function(){return e=Object.assign||function(a){for(var o,c=1,d=arguments.length;c<d;c++){o=arguments[c];for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(a[f]=o[f])}return a},e.apply(this,arguments)},t=zr&&zr.__awaiter||function(a,o,c,d){function f(h){return h instanceof c?h:new c(function(p){p(h)})}return new(c||(c=Promise))(function(h,p){function g(j){try{b(d.next(j))}catch(v){p(v)}}function y(j){try{b(d.throw(j))}catch(v){p(v)}}function b(j){j.done?h(j.value):f(j.value).then(g,y)}b((d=d.apply(a,o||[])).next())})},n=zr&&zr.__generator||function(a,o){var c={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},d,f,h,p;return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(b){return function(j){return y([b,j])}}function y(b){if(d)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(c=0)),c;)try{if(d=1,f&&(h=b[0]&2?f.return:b[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,b[1])).done)return h;switch(f=0,h&&(b=[b[0]&2,h.value]),b[0]){case 0:case 1:h=b;break;case 4:return c.label++,{value:b[1],done:!1};case 5:c.label++,f=b[1],b=[0];continue;case 7:b=c.ops.pop(),c.trys.pop();continue;default:if(h=c.trys,!(h=h.length>0&&h[h.length-1])&&(b[0]===6||b[0]===2)){c=0;continue}if(b[0]===3&&(!h||b[1]>h[0]&&b[1]<h[3])){c.label=b[1];break}if(b[0]===6&&c.label<h[1]){c.label=h[1],h=b;break}if(h&&c.label<h[2]){c.label=h[2],c.ops.push(b);break}h[2]&&c.ops.pop(),c.trys.pop();continue}b=o.call(a,c)}catch(j){b=[6,j],f=0}finally{d=h=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}};Object.defineProperty(zr,"__esModule",{value:!0}),zr.FrappeCall=void 0;var s=function(){function a(o,c,d,f,h){this.appURL=o,this.axios=c,this.useToken=d!=null?d:!1,this.token=f,this.tokenType=h}return a.prototype.get=function(o,c){return t(this,void 0,void 0,function(){var d;return n(this,function(f){return d=new URLSearchParams,c&&Object.entries(c).forEach(function(h){var p=h[0],g=h[1];if(g!=null){var y=typeof g=="object"?JSON.stringify(g):g;d.set(p,y)}}),[2,this.axios.get("/api/method/".concat(o),{params:d}).then(function(h){return h.data}).catch(function(h){var p,g;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(p=h.response.data.message)!==null&&p!==void 0?p:"There was an error.",exception:(g=h.response.data.exception)!==null&&g!==void 0?g:""})})]})})},a.prototype.post=function(o,c){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.post("/api/method/".concat(o),e({},c)).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error.",exception:(p=f.response.data.exception)!==null&&p!==void 0?p:""})})]})})},a.prototype.put=function(o,c){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.put("/api/method/".concat(o),e({},c)).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error.",exception:(p=f.response.data.exception)!==null&&p!==void 0?p:""})})]})})},a.prototype.delete=function(o,c){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.delete("/api/method/".concat(o),{params:c}).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error.",exception:(p=f.response.data.exception)!==null&&p!==void 0?p:""})})]})})},a}();return zr.FrappeCall=s,zr}var Ur={},zj;function ZN(){if(zj)return Ur;zj=1;var e=Ur&&Ur.__assign||function(){return e=Object.assign||function(a){for(var o,c=1,d=arguments.length;c<d;c++){o=arguments[c];for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(a[f]=o[f])}return a},e.apply(this,arguments)},t=Ur&&Ur.__awaiter||function(a,o,c,d){function f(h){return h instanceof c?h:new c(function(p){p(h)})}return new(c||(c=Promise))(function(h,p){function g(j){try{b(d.next(j))}catch(v){p(v)}}function y(j){try{b(d.throw(j))}catch(v){p(v)}}function b(j){j.done?h(j.value):f(j.value).then(g,y)}b((d=d.apply(a,o||[])).next())})},n=Ur&&Ur.__generator||function(a,o){var c={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},d,f,h,p;return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(b){return function(j){return y([b,j])}}function y(b){if(d)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(c=0)),c;)try{if(d=1,f&&(h=b[0]&2?f.return:b[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,b[1])).done)return h;switch(f=0,h&&(b=[b[0]&2,h.value]),b[0]){case 0:case 1:h=b;break;case 4:return c.label++,{value:b[1],done:!1};case 5:c.label++,f=b[1],b=[0];continue;case 7:b=c.ops.pop(),c.trys.pop();continue;default:if(h=c.trys,!(h=h.length>0&&h[h.length-1])&&(b[0]===6||b[0]===2)){c=0;continue}if(b[0]===3&&(!h||b[1]>h[0]&&b[1]<h[3])){c.label=b[1];break}if(b[0]===6&&c.label<h[1]){c.label=h[1],h=b;break}if(h&&c.label<h[2]){c.label=h[2],c.ops.push(b);break}h[2]&&c.ops.pop(),c.trys.pop();continue}b=o.call(a,c)}catch(j){b=[6,j],f=0}finally{d=h=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}};Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.FrappeDB=void 0;var s=function(){function a(o,c,d,f,h){this.appURL=o,this.axios=c,this.useToken=d!=null?d:!1,this.token=f,this.tokenType=h}return a.prototype.getDoc=function(o,c){return c===void 0&&(c=""),t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.get("/api/resource/".concat(o,"/").concat(encodeURIComponent(c))).then(function(f){return f.data.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while fetching the document.",exception:(p=(h=f.response.data.exception)!==null&&h!==void 0?h:f.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},a.prototype.getDocList=function(o,c){var d;return t(this,void 0,void 0,function(){var f,h,p,g,y,b,j,v,S,N,R;return n(this,function(E){return f={},c&&(h=c.fields,p=c.filters,g=c.orFilters,y=c.orderBy,b=c.limit,j=c.limit_start,v=c.groupBy,S=c.asDict,N=S===void 0?!0:S,R=y?"".concat(String(y==null?void 0:y.field)," ").concat((d=y==null?void 0:y.order)!==null&&d!==void 0?d:"asc"):"",f={fields:h?JSON.stringify(h):void 0,filters:p?JSON.stringify(p):void 0,or_filters:g?JSON.stringify(g):void 0,order_by:R,group_by:v,limit:b,limit_start:j,as_dict:N}),[2,this.axios.get("/api/resource/".concat(o),{params:f}).then(function(k){return k.data.data}).catch(function(k){var D,C;throw e(e({},k.response.data),{httpStatus:k.response.status,httpStatusText:k.response.statusText,message:"There was an error while fetching the documents.",exception:(C=(D=k.response.data.exception)!==null&&D!==void 0?D:k.response.data.exc_type)!==null&&C!==void 0?C:""})})]})})},a.prototype.createDoc=function(o,c){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.post("/api/resource/".concat(o),e({},c)).then(function(f){return f.data.data}).catch(function(f){var h,p,g;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error while creating the document.",exception:(g=(p=f.response.data.exception)!==null&&p!==void 0?p:f.response.data.exc_type)!==null&&g!==void 0?g:""})})]})})},a.prototype.updateDoc=function(o,c,d){return t(this,void 0,void 0,function(){return n(this,function(f){return[2,this.axios.put("/api/resource/".concat(o,"/").concat(c&&encodeURIComponent(c)),e({},d)).then(function(h){return h.data.data}).catch(function(h){var p,g,y;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(p=h.response.data.message)!==null&&p!==void 0?p:"There was an error while updating the document.",exception:(y=(g=h.response.data.exception)!==null&&g!==void 0?g:h.response.data.exc_type)!==null&&y!==void 0?y:""})})]})})},a.prototype.deleteDoc=function(o,c){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.delete("/api/resource/".concat(o,"/").concat(c&&encodeURIComponent(c))).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while deleting the document.",exception:(p=(h=f.response.data.exception)!==null&&h!==void 0?h:f.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},a.prototype.getCount=function(o,c,d,f){return d===void 0&&(d=!1),f===void 0&&(f=!1),t(this,void 0,void 0,function(){var h;return n(this,function(p){return h={doctype:o,filters:[]},d&&(h.cache=d),f&&(h.debug=f),c&&(h.filters=c?JSON.stringify(c):void 0),[2,this.axios.get("/api/method/frappe.client.get_count",{params:h}).then(function(g){return g.data.message}).catch(function(g){var y,b;throw e(e({},g.response.data),{httpStatus:g.response.status,httpStatusText:g.response.statusText,message:"There was an error while getting the count.",exception:(b=(y=g.response.data.exception)!==null&&y!==void 0?y:g.response.data.exc_type)!==null&&b!==void 0?b:""})})]})})},a.prototype.getLastDoc=function(o,c){return t(this,void 0,void 0,function(){var d,f;return n(this,function(h){switch(h.label){case 0:return d={orderBy:{field:"creation",order:"desc"}},c&&(d=e(e({},d),c)),[4,this.getDocList(o,e(e({},d),{limit:1,fields:["name"]}))];case 1:return f=h.sent(),f.length>0?[2,this.getDoc(o,f[0].name)]:[2,{}]}})})},a.prototype.renameDoc=function(o,c,d,f){return f===void 0&&(f=!1),t(this,void 0,void 0,function(){return n(this,function(h){return[2,this.axios.post("/api/method/frappe.client.rename_doc",{doctype:o,old_name:c,new_name:d,merge:f}).then(function(p){return p.data}).catch(function(p){var g,y,b;throw e(e({},p.response.data),{httpStatus:p.response.status,httpStatusText:p.response.statusText,message:(g=p.response.data.message)!==null&&g!==void 0?g:"There was an error while renaming the document.",exception:(b=(y=p.response.data.exception)!==null&&y!==void 0?y:p.response.data.exc_type)!==null&&b!==void 0?b:""})})]})})},a.prototype.getValue=function(o,c,d,f,h,p){return f===void 0&&(f=!0),h===void 0&&(h=!1),p===void 0&&(p=null),t(this,void 0,void 0,function(){var g;return n(this,function(y){return g={doctype:o,fieldname:"[]",filters:[],as_dict:f,debug:h,parent:null},c&&(g.fieldname=typeof c=="object"?JSON.stringify(c):c),d&&(g.filters=d?JSON.stringify(d):void 0),p&&(g.parent=p),[2,this.axios.get("/api/method/frappe.client.get_value",{params:g}).then(function(b){return b.data}).catch(function(b){var j,v;throw e(e({},b.response.data),{httpStatus:b.response.status,httpStatusText:b.response.statusText,message:"There was an error while getting the value.",exception:(v=(j=b.response.data.exception)!==null&&j!==void 0?j:b.response.data.exc_type)!==null&&v!==void 0?v:""})})]})})},a.prototype.setValue=function(o,c,d,f){return t(this,void 0,void 0,function(){return n(this,function(h){return d!==null&&typeof d=="object"&&!Array.isArray(d)&&(f=void 0),[2,this.axios.post("/api/method/frappe.client.set_value",{doctype:o,name:c,fieldname:d,value:f}).then(function(p){return p.data}).catch(function(p){var g,y;throw e(e({},p.response.data),{httpStatus:p.response.status,httpStatusText:p.response.statusText,message:"There was an error while setting the value.",exception:(y=(g=p.response.data.exception)!==null&&g!==void 0?g:p.response.data.exc_type)!==null&&y!==void 0?y:""})})]})})},a.prototype.getSingleValue=function(o,c){return t(this,void 0,void 0,function(){var d;return n(this,function(f){return d={doctype:o,field:c},[2,this.axios.get("/api/method/frappe.client.get_single_value",{params:d}).then(function(h){return h.data}).catch(function(h){var p,g;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:"There was an error while getting the value of single doctype.",exception:(g=(p=h.response.data.exception)!==null&&p!==void 0?p:h.response.data.exc_type)!==null&&g!==void 0?g:""})})]})})},a.prototype.submit=function(o){return t(this,void 0,void 0,function(){return n(this,function(c){return[2,this.axios.post("/api/method/frappe.client.submit",{doc:o}).then(function(d){return d.data.message}).catch(function(d){var f,h;throw e(e({},d.response.data),{httpStatus:d.response.status,httpStatusText:d.response.statusText,message:"There was an error while submitting the document.",exception:(h=(f=d.response.data.exception)!==null&&f!==void 0?f:d.response.data.exc_type)!==null&&h!==void 0?h:""})})]})})},a.prototype.cancel=function(o,c){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.post("/api/method/frappe.client.cancel",{doctype:o,name:c}).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while cancelling the document.",exception:(p=(h=f.response.data.exception)!==null&&h!==void 0?h:f.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},a}();return Ur.FrappeDB=s,Ur}var Fr={},Ua={};/*! Axios v1.8.2 Copyright (c) 2025 Matt Zabriskie and contributors */var Lg,Uj;function qD(){if(Uj)return Lg;Uj=1;function e(T,M){return function(){return T.apply(M,arguments)}}const{toString:t}=Object.prototype,{getPrototypeOf:n}=Object,s=(T=>M=>{const B=t.call(M);return T[B]||(T[B]=B.slice(8,-1).toLowerCase())})(Object.create(null)),a=T=>(T=T.toLowerCase(),M=>s(M)===T),o=T=>M=>typeof M===T,{isArray:c}=Array,d=o("undefined");function f(T){return T!==null&&!d(T)&&T.constructor!==null&&!d(T.constructor)&&y(T.constructor.isBuffer)&&T.constructor.isBuffer(T)}const h=a("ArrayBuffer");function p(T){let M;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?M=ArrayBuffer.isView(T):M=T&&T.buffer&&h(T.buffer),M}const g=o("string"),y=o("function"),b=o("number"),j=T=>T!==null&&typeof T=="object",v=T=>T===!0||T===!1,S=T=>{if(s(T)!=="object")return!1;const M=n(T);return(M===null||M===Object.prototype||Object.getPrototypeOf(M)===null)&&!(Symbol.toStringTag in T)&&!(Symbol.iterator in T)},N=a("Date"),R=a("File"),E=a("Blob"),k=a("FileList"),D=T=>j(T)&&y(T.pipe),C=T=>{let M;return T&&(typeof FormData=="function"&&T instanceof FormData||y(T.append)&&((M=s(T))==="formdata"||M==="object"&&y(T.toString)&&T.toString()==="[object FormData]"))},A=a("URLSearchParams"),[P,U,K,$]=["ReadableStream","Request","Response","Headers"].map(a),G=T=>T.trim?T.trim():T.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function W(T,M,{allOwnKeys:B=!1}={}){if(T===null||typeof T>"u")return;let I,ue;if(typeof T!="object"&&(T=[T]),c(T))for(I=0,ue=T.length;I<ue;I++)M.call(null,T[I],I,T);else{const he=B?Object.getOwnPropertyNames(T):Object.keys(T),be=he.length;let Ue;for(I=0;I<be;I++)Ue=he[I],M.call(null,T[Ue],Ue,T)}}function ee(T,M){M=M.toLowerCase();const B=Object.keys(T);let I=B.length,ue;for(;I-- >0;)if(ue=B[I],M===ue.toLowerCase())return ue;return null}const Y=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:ID,H=T=>!d(T)&&T!==Y;function J(){const{caseless:T}=H(this)&&this||{},M={},B=(I,ue)=>{const he=T&&ee(M,ue)||ue;S(M[he])&&S(I)?M[he]=J(M[he],I):S(I)?M[he]=J({},I):c(I)?M[he]=I.slice():M[he]=I};for(let I=0,ue=arguments.length;I<ue;I++)arguments[I]&&W(arguments[I],B);return M}const te=(T,M,B,{allOwnKeys:I}={})=>(W(M,(ue,he)=>{B&&y(ue)?T[he]=e(ue,B):T[he]=ue},{allOwnKeys:I}),T),ce=T=>(T.charCodeAt(0)===65279&&(T=T.slice(1)),T),L=(T,M,B,I)=>{T.prototype=Object.create(M.prototype,I),T.prototype.constructor=T,Object.defineProperty(T,"super",{value:M.prototype}),B&&Object.assign(T.prototype,B)},le=(T,M,B,I)=>{let ue,he,be;const Ue={};if(M=M||{},T==null)return M;do{for(ue=Object.getOwnPropertyNames(T),he=ue.length;he-- >0;)be=ue[he],(!I||I(be,T,M))&&!Ue[be]&&(M[be]=T[be],Ue[be]=!0);T=B!==!1&&n(T)}while(T&&(!B||B(T,M))&&T!==Object.prototype);return M},re=(T,M,B)=>{T=String(T),(B===void 0||B>T.length)&&(B=T.length),B-=M.length;const I=T.indexOf(M,B);return I!==-1&&I===B},V=T=>{if(!T)return null;if(c(T))return T;let M=T.length;if(!b(M))return null;const B=new Array(M);for(;M-- >0;)B[M]=T[M];return B},ne=(T=>M=>T&&M instanceof T)(typeof Uint8Array<"u"&&n(Uint8Array)),xe=(T,M)=>{const B=(T&&T[Symbol.iterator]).call(T);let I;for(;(I=B.next())&&!I.done;){const ue=I.value;M.call(T,ue[0],ue[1])}},me=(T,M)=>{let B;const I=[];for(;(B=T.exec(M))!==null;)I.push(B);return I},Ee=a("HTMLFormElement"),De=T=>T.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(M,B,I){return B.toUpperCase()+I}),He=(({hasOwnProperty:T})=>(M,B)=>T.call(M,B))(Object.prototype),Pe=a("RegExp"),rt=(T,M)=>{const B=Object.getOwnPropertyDescriptors(T),I={};W(B,(ue,he)=>{let be;(be=M(ue,he,T))!==!1&&(I[he]=be||ue)}),Object.defineProperties(T,I)},Ge=T=>{rt(T,(M,B)=>{if(y(T)&&["arguments","caller","callee"].indexOf(B)!==-1)return!1;const I=T[B];if(y(I)){if(M.enumerable=!1,"writable"in M){M.writable=!1;return}M.set||(M.set=()=>{throw Error("Can not rewrite read-only method '"+B+"'")})}})},pt=(T,M)=>{const B={},I=ue=>{ue.forEach(he=>{B[he]=!0})};return c(T)?I(T):I(String(T).split(M)),B},ze=()=>{},Nt=(T,M)=>T!=null&&Number.isFinite(T=+T)?T:M;function at(T){return!!(T&&y(T.append)&&T[Symbol.toStringTag]==="FormData"&&T[Symbol.iterator])}const Me=T=>{const M=new Array(10),B=(I,ue)=>{if(j(I)){if(M.indexOf(I)>=0)return;if(!("toJSON"in I)){M[ue]=I;const he=c(I)?[]:{};return W(I,(be,Ue)=>{const ut=B(be,ue+1);!d(ut)&&(he[Ue]=ut)}),M[ue]=void 0,he}}return I};return B(T,0)},st=a("AsyncFunction"),ht=T=>T&&(j(T)||y(T))&&y(T.then)&&y(T.catch),X=((T,M)=>T?setImmediate:M?((B,I)=>(Y.addEventListener("message",({source:ue,data:he})=>{ue===Y&&he===B&&I.length&&I.shift()()},!1),ue=>{I.push(ue),Y.postMessage(B,"*")}))(`axios@${Math.random()}`,[]):B=>setTimeout(B))(typeof setImmediate=="function",y(Y.postMessage)),fe=typeof queueMicrotask<"u"?queueMicrotask.bind(Y):typeof process<"u"&&process.nextTick||X;var q={isArray:c,isArrayBuffer:h,isBuffer:f,isFormData:C,isArrayBufferView:p,isString:g,isNumber:b,isBoolean:v,isObject:j,isPlainObject:S,isReadableStream:P,isRequest:U,isResponse:K,isHeaders:$,isUndefined:d,isDate:N,isFile:R,isBlob:E,isRegExp:Pe,isFunction:y,isStream:D,isURLSearchParams:A,isTypedArray:ne,isFileList:k,forEach:W,merge:J,extend:te,trim:G,stripBOM:ce,inherits:L,toFlatObject:le,kindOf:s,kindOfTest:a,endsWith:re,toArray:V,forEachEntry:xe,matchAll:me,isHTMLForm:Ee,hasOwnProperty:He,hasOwnProp:He,reduceDescriptors:rt,freezeMethods:Ge,toObjectSet:pt,toCamelCase:De,noop:ze,toFiniteNumber:Nt,findKey:ee,global:Y,isContextDefined:H,isSpecCompliantForm:at,toJSONObject:Me,isAsyncFn:st,isThenable:ht,setImmediate:X,asap:fe};function Ne(T,M,B,I,ue){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=T,this.name="AxiosError",M&&(this.code=M),B&&(this.config=B),I&&(this.request=I),ue&&(this.response=ue,this.status=ue.status?ue.status:null)}q.inherits(Ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}});const Re=Ne.prototype,Ae={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(T=>{Ae[T]={value:T}}),Object.defineProperties(Ne,Ae),Object.defineProperty(Re,"isAxiosError",{value:!0}),Ne.from=(T,M,B,I,ue,he)=>{const be=Object.create(Re);return q.toFlatObject(T,be,function(Ue){return Ue!==Error.prototype},Ue=>Ue!=="isAxiosError"),Ne.call(be,T.message,M,B,I,ue),be.cause=T,be.name=T.name,he&&Object.assign(be,he),be};var Be=null;function qe(T){return q.isPlainObject(T)||q.isArray(T)}function et(T){return q.endsWith(T,"[]")?T.slice(0,-2):T}function wt(T,M,B){return T?T.concat(M).map(function(I,ue){return I=et(I),!B&&ue?"["+I+"]":I}).join(B?".":""):M}function Nn(T){return q.isArray(T)&&!T.some(qe)}const Jt=q.toFlatObject(q,{},null,function(T){return/^is[A-Z]/.test(T)});function dn(T,M,B){if(!q.isObject(T))throw new TypeError("target must be an object");M=M||new FormData,B=q.toFlatObject(B,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Et,ft){return!q.isUndefined(ft[Et])});const I=B.metaTokens,ue=B.visitor||Fe,he=B.dots,be=B.indexes,Ue=(B.Blob||typeof Blob<"u"&&Blob)&&q.isSpecCompliantForm(M);if(!q.isFunction(ue))throw new TypeError("visitor must be a function");function ut(Et){if(Et===null)return"";if(q.isDate(Et))return Et.toISOString();if(!Ue&&q.isBlob(Et))throw new Ne("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(Et)||q.isTypedArray(Et)?Ue&&typeof Blob=="function"?new Blob([Et]):Buffer.from(Et):Et}function Fe(Et,ft,nt){let rs=Et;if(Et&&!nt&&typeof Et=="object"){if(q.endsWith(ft,"{}"))ft=I?ft:ft.slice(0,-2),Et=JSON.stringify(Et);else if(q.isArray(Et)&&Nn(Et)||(q.isFileList(Et)||q.endsWith(ft,"[]"))&&(rs=q.toArray(Et)))return ft=et(ft),rs.forEach(function($n,Sn){!(q.isUndefined($n)||$n===null)&&M.append(be===!0?wt([ft],Sn,he):be===null?ft:ft+"[]",ut($n))}),!1}return qe(Et)?!0:(M.append(wt(nt,ft,he),ut(Et)),!1)}const We=[],gt=Object.assign(Jt,{defaultVisitor:Fe,convertValue:ut,isVisitable:qe});function an(Et,ft){if(!q.isUndefined(Et)){if(We.indexOf(Et)!==-1)throw Error("Circular reference detected in "+ft.join("."));We.push(Et),q.forEach(Et,function(nt,rs){(!(q.isUndefined(nt)||nt===null)&&ue.call(M,nt,q.isString(rs)?rs.trim():rs,ft,gt))===!0&&an(nt,ft?ft.concat(rs):[rs])}),We.pop()}}if(!q.isObject(T))throw new TypeError("data must be an object");return an(T),M}function vn(T){const M={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(T).replace(/[!'()~]|%20|%00/g,function(B){return M[B]})}function Xn(T,M){this._pairs=[],T&&dn(T,this,M)}const Gn=Xn.prototype;Gn.append=function(T,M){this._pairs.push([T,M])},Gn.toString=function(T){const M=T?function(B){return T.call(this,B,vn)}:vn;return this._pairs.map(function(B){return M(B[0])+"="+M(B[1])},"").join("&")};function cs(T){return encodeURIComponent(T).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Kn(T,M,B){if(!M)return T;const I=B&&B.encode||cs;q.isFunction(B)&&(B={serialize:B});const ue=B&&B.serialize;let he;if(ue?he=ue(M,B):he=q.isURLSearchParams(M)?M.toString():new Xn(M,B).toString(I),he){const be=T.indexOf("#");be!==-1&&(T=T.slice(0,be)),T+=(T.indexOf("?")===-1?"?":"&")+he}return T}class ks{constructor(){this.handlers=[]}use(M,B,I){return this.handlers.push({fulfilled:M,rejected:B,synchronous:I?I.synchronous:!1,runWhen:I?I.runWhen:null}),this.handlers.length-1}eject(M){this.handlers[M]&&(this.handlers[M]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(M){q.forEach(this.handlers,function(B){B!==null&&M(B)})}}var Ye=ks,Rt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ut=typeof URLSearchParams<"u"?URLSearchParams:Xn,St=typeof FormData<"u"?FormData:null,Qt=typeof Blob<"u"?Blob:null,Xe={isBrowser:!0,classes:{URLSearchParams:Ut,FormData:St,Blob:Qt},protocols:["http","https","file","blob","url","data"]};const jt=typeof window<"u"&&typeof document<"u",Vt=typeof navigator=="object"&&navigator||void 0,Wt=jt&&(!Vt||["ReactNative","NativeScript","NS"].indexOf(Vt.product)<0),Z=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ie=jt&&window.location.href||"http://localhost";var pe=Object.freeze({__proto__:null,hasBrowserEnv:jt,hasStandardBrowserWebWorkerEnv:Z,hasStandardBrowserEnv:Wt,navigator:Vt,origin:ie}),_e=z(z({},pe),Xe);function Oe(T,M){return dn(T,new _e.classes.URLSearchParams,Object.assign({visitor:function(B,I,ue,he){return _e.isNode&&q.isBuffer(B)?(this.append(I,B.toString("base64")),!1):he.defaultVisitor.apply(this,arguments)}},M))}function $e(T){return q.matchAll(/\w+|\[(\w*)]/g,T).map(M=>M[0]==="[]"?"":M[1]||M[0])}function Ke(T){const M={},B=Object.keys(T);let I;const ue=B.length;let he;for(I=0;I<ue;I++)he=B[I],M[he]=T[he];return M}function tt(T){function M(B,I,ue,he){let be=B[he++];if(be==="__proto__")return!0;const Ue=Number.isFinite(+be),ut=he>=B.length;return be=!be&&q.isArray(ue)?ue.length:be,ut?(q.hasOwnProp(ue,be)?ue[be]=[ue[be],I]:ue[be]=I,!Ue):((!ue[be]||!q.isObject(ue[be]))&&(ue[be]=[]),M(B,I,ue[be],he)&&q.isArray(ue[be])&&(ue[be]=Ke(ue[be])),!Ue)}if(q.isFormData(T)&&q.isFunction(T.entries)){const B={};return q.forEachEntry(T,(I,ue)=>{M($e(I),ue,B,0)}),B}return null}function dt(T,M,B){if(q.isString(T))try{return(M||JSON.parse)(T),q.trim(T)}catch(I){if(I.name!=="SyntaxError")throw I}return(B||JSON.stringify)(T)}const Ct={transitional:Rt,adapter:["xhr","http","fetch"],transformRequest:[function(T,M){const B=M.getContentType()||"",I=B.indexOf("application/json")>-1,ue=q.isObject(T);if(ue&&q.isHTMLForm(T)&&(T=new FormData(T)),q.isFormData(T))return I?JSON.stringify(tt(T)):T;if(q.isArrayBuffer(T)||q.isBuffer(T)||q.isStream(T)||q.isFile(T)||q.isBlob(T)||q.isReadableStream(T))return T;if(q.isArrayBufferView(T))return T.buffer;if(q.isURLSearchParams(T))return M.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),T.toString();let he;if(ue){if(B.indexOf("application/x-www-form-urlencoded")>-1)return Oe(T,this.formSerializer).toString();if((he=q.isFileList(T))||B.indexOf("multipart/form-data")>-1){const be=this.env&&this.env.FormData;return dn(he?{"files[]":T}:T,be&&new be,this.formSerializer)}}return ue||I?(M.setContentType("application/json",!1),dt(T)):T}],transformResponse:[function(T){const M=this.transitional||Ct.transitional,B=M&&M.forcedJSONParsing,I=this.responseType==="json";if(q.isResponse(T)||q.isReadableStream(T))return T;if(T&&q.isString(T)&&(B&&!this.responseType||I)){const ue=!(M&&M.silentJSONParsing)&&I;try{return JSON.parse(T)}catch(he){if(ue)throw he.name==="SyntaxError"?Ne.from(he,Ne.ERR_BAD_RESPONSE,this,null,this.response):he}}return T}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_e.classes.FormData,Blob:_e.classes.Blob},validateStatus:function(T){return T>=200&&T<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],T=>{Ct.headers[T]={}});var it=Ct;const vt=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var kt=T=>{const M={};let B,I,ue;return T&&T.split(`
`).forEach(function(he){ue=he.indexOf(":"),B=he.substring(0,ue).trim().toLowerCase(),I=he.substring(ue+1).trim(),!(!B||M[B]&&vt[B])&&(B==="set-cookie"?M[B]?M[B].push(I):M[B]=[I]:M[B]=M[B]?M[B]+", "+I:I)}),M};const fn=Symbol("internals");function Dn(T){return T&&String(T).trim().toLowerCase()}function rn(T){return T===!1||T==null?T:q.isArray(T)?T.map(rn):String(T)}function ot(T){const M=Object.create(null),B=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let I;for(;I=B.exec(T);)M[I[1]]=I[2];return M}const Tt=T=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(T.trim());function Yt(T,M,B,I,ue){if(q.isFunction(I))return I.call(this,M,B);if(ue&&(M=B),!!q.isString(M)){if(q.isString(I))return M.indexOf(I)!==-1;if(q.isRegExp(I))return I.test(M)}}function wn(T){return T.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(M,B,I)=>B.toUpperCase()+I)}function On(T,M){const B=q.toCamelCase(" "+M);["get","set","has"].forEach(I=>{Object.defineProperty(T,I+B,{value:function(ue,he,be){return this[I].call(this,M,ue,he,be)},configurable:!0})})}class Qn{constructor(M){M&&this.set(M)}set(M,B,I){const ue=this;function he(Ue,ut,Fe){const We=Dn(ut);if(!We)throw new Error("header name must be a non-empty string");const gt=q.findKey(ue,We);(!gt||ue[gt]===void 0||Fe===!0||Fe===void 0&&ue[gt]!==!1)&&(ue[gt||ut]=rn(Ue))}const be=(Ue,ut)=>q.forEach(Ue,(Fe,We)=>he(Fe,We,ut));if(q.isPlainObject(M)||M instanceof this.constructor)be(M,B);else if(q.isString(M)&&(M=M.trim())&&!Tt(M))be(kt(M),B);else if(q.isHeaders(M))for(const[Ue,ut]of M.entries())he(ut,Ue,I);else M!=null&&he(B,M,I);return this}get(M,B){if(M=Dn(M),M){const I=q.findKey(this,M);if(I){const ue=this[I];if(!B)return ue;if(B===!0)return ot(ue);if(q.isFunction(B))return B.call(this,ue,I);if(q.isRegExp(B))return B.exec(ue);throw new TypeError("parser must be boolean|regexp|function")}}}has(M,B){if(M=Dn(M),M){const I=q.findKey(this,M);return!!(I&&this[I]!==void 0&&(!B||Yt(this,this[I],I,B)))}return!1}delete(M,B){const I=this;let ue=!1;function he(be){if(be=Dn(be),be){const Ue=q.findKey(I,be);Ue&&(!B||Yt(I,I[Ue],Ue,B))&&(delete I[Ue],ue=!0)}}return q.isArray(M)?M.forEach(he):he(M),ue}clear(M){const B=Object.keys(this);let I=B.length,ue=!1;for(;I--;){const he=B[I];(!M||Yt(this,this[he],he,M,!0))&&(delete this[he],ue=!0)}return ue}normalize(M){const B=this,I={};return q.forEach(this,(ue,he)=>{const be=q.findKey(I,he);if(be){B[be]=rn(ue),delete B[he];return}const Ue=M?wn(he):String(he).trim();Ue!==he&&delete B[he],B[Ue]=rn(ue),I[Ue]=!0}),this}concat(...M){return this.constructor.concat(this,...M)}toJSON(M){const B=Object.create(null);return q.forEach(this,(I,ue)=>{I!=null&&I!==!1&&(B[ue]=M&&q.isArray(I)?I.join(", "):I)}),B}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([M,B])=>M+": "+B).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(M){return M instanceof this?M:new this(M)}static concat(M,...B){const I=new this(M);return B.forEach(ue=>I.set(ue)),I}static accessor(M){const B=(this[fn]=this[fn]={accessors:{}}).accessors,I=this.prototype;function ue(he){const be=Dn(he);B[be]||(On(I,he),B[be]=!0)}return q.isArray(M)?M.forEach(ue):ue(M),this}}Qn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),q.reduceDescriptors(Qn.prototype,({value:T},M)=>{let B=M[0].toUpperCase()+M.slice(1);return{get:()=>T,set(I){this[B]=I}}}),q.freezeMethods(Qn);var ss=Qn;function lr(T,M){const B=this||it,I=M||B,ue=ss.from(I.headers);let he=I.data;return q.forEach(T,function(be){he=be.call(B,he,ue.normalize(),M?M.status:void 0)}),ue.normalize(),he}function cr(T){return!!(T&&T.__CANCEL__)}function vs(T,M,B){Ne.call(this,T!=null?T:"canceled",Ne.ERR_CANCELED,M,B),this.name="CanceledError"}q.inherits(vs,Ne,{__CANCEL__:!0});function ur(T,M,B){const I=B.config.validateStatus;!B.status||!I||I(B.status)?T(B):M(new Ne("Request failed with status code "+B.status,[Ne.ERR_BAD_REQUEST,Ne.ERR_BAD_RESPONSE][Math.floor(B.status/100)-4],B.config,B.request,B))}function At(T){const M=/^([-+\w]{1,25})(:?\/\/|:)/.exec(T);return M&&M[1]||""}function An(T,M){T=T||10;const B=new Array(T),I=new Array(T);let ue=0,he=0,be;return M=M!==void 0?M:1e3,function(Ue){const ut=Date.now(),Fe=I[he];be||(be=ut),B[ue]=Ue,I[ue]=ut;let We=he,gt=0;for(;We!==ue;)gt+=B[We++],We=We%T;if(ue=(ue+1)%T,ue===he&&(he=(he+1)%T),ut-be<M)return;const an=Fe&&ut-Fe;return an?Math.round(gt*1e3/an):void 0}}function wa(T,M){let B=0,I=1e3/M,ue,he;const be=(Ue,ut=Date.now())=>{B=ut,ue=null,he&&(clearTimeout(he),he=null),T.apply(null,Ue)};return[(...Ue)=>{const ut=Date.now(),Fe=ut-B;Fe>=I?be(Ue,ut):(ue=Ue,he||(he=setTimeout(()=>{he=null,be(ue)},I-Fe)))},()=>ue&&be(ue)]}const us=(T,M,B=3)=>{let I=0;const ue=An(50,250);return wa(he=>{const be=he.loaded,Ue=he.lengthComputable?he.total:void 0,ut=be-I,Fe=ue(ut),We=be<=Ue;I=be;const gt={loaded:be,total:Ue,progress:Ue?be/Ue:void 0,bytes:ut,rate:Fe||void 0,estimated:Fe&&Ue&&We?(Ue-be)/Fe:void 0,event:he,lengthComputable:Ue!=null,[M?"download":"upload"]:!0};T(gt)},B)},mn=(T,M)=>{const B=T!=null;return[I=>M[0]({lengthComputable:B,total:T,loaded:I}),M[1]]},Ar=T=>(...M)=>q.asap(()=>T(...M));var Go=_e.hasStandardBrowserEnv?((T,M)=>B=>(B=new URL(B,_e.origin),T.protocol===B.protocol&&T.host===B.host&&(M||T.port===B.port)))(new URL(_e.origin),_e.navigator&&/(msie|trident)/i.test(_e.navigator.userAgent)):()=>!0,Ko=_e.hasStandardBrowserEnv?{write(T,M,B,I,ue,he){const be=[T+"="+encodeURIComponent(M)];q.isNumber(B)&&be.push("expires="+new Date(B).toGMTString()),q.isString(I)&&be.push("path="+I),q.isString(ue)&&be.push("domain="+ue),he===!0&&be.push("secure"),document.cookie=be.join("; ")},read(T){const M=document.cookie.match(new RegExp("(^|;\\s*)("+T+")=([^;]*)"));return M?decodeURIComponent(M[3]):null},remove(T){this.write(T,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Rs(T){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(T)}function wd(T,M){return M?T.replace(/\/?\/$/,"")+"/"+M.replace(/^\/+/,""):T}function jd(T,M,B){let I=!Rs(M);return T&&I||B==!1?wd(T,M):M}const Xi=T=>T instanceof ss?z({},T):T;function Qr(T,M){M=M||{};const B={};function I(Fe,We,gt,an){return q.isPlainObject(Fe)&&q.isPlainObject(We)?q.merge.call({caseless:an},Fe,We):q.isPlainObject(We)?q.merge({},We):q.isArray(We)?We.slice():We}function ue(Fe,We,gt,an){if(q.isUndefined(We)){if(!q.isUndefined(Fe))return I(void 0,Fe,gt,an)}else return I(Fe,We,gt,an)}function he(Fe,We){if(!q.isUndefined(We))return I(void 0,We)}function be(Fe,We){if(q.isUndefined(We)){if(!q.isUndefined(Fe))return I(void 0,Fe)}else return I(void 0,We)}function Ue(Fe,We,gt){if(gt in M)return I(Fe,We);if(gt in T)return I(void 0,Fe)}const ut={url:he,method:he,data:he,baseURL:be,transformRequest:be,transformResponse:be,paramsSerializer:be,timeout:be,timeoutMessage:be,withCredentials:be,withXSRFToken:be,adapter:be,responseType:be,xsrfCookieName:be,xsrfHeaderName:be,onUploadProgress:be,onDownloadProgress:be,decompress:be,maxContentLength:be,maxBodyLength:be,beforeRedirect:be,transport:be,httpAgent:be,httpsAgent:be,cancelToken:be,socketPath:be,responseEncoding:be,validateStatus:Ue,headers:(Fe,We,gt)=>ue(Xi(Fe),Xi(We),gt,!0)};return q.forEach(Object.keys(Object.assign({},T,M)),function(Fe){const We=ut[Fe]||ue,gt=We(T[Fe],M[Fe],Fe);q.isUndefined(gt)&&We!==Ue||(B[Fe]=gt)}),B}var Gi=T=>{const M=Qr({},T);let{data:B,withXSRFToken:I,xsrfHeaderName:ue,xsrfCookieName:he,headers:be,auth:Ue}=M;M.headers=be=ss.from(be),M.url=Kn(jd(M.baseURL,M.url),T.params,T.paramsSerializer),Ue&&be.set("Authorization","Basic "+btoa((Ue.username||"")+":"+(Ue.password?unescape(encodeURIComponent(Ue.password)):"")));let ut;if(q.isFormData(B)){if(_e.hasStandardBrowserEnv||_e.hasStandardBrowserWebWorkerEnv)be.setContentType(void 0);else if((ut=be.getContentType())!==!1){const[Fe,...We]=ut?ut.split(";").map(gt=>gt.trim()).filter(Boolean):[];be.setContentType([Fe||"multipart/form-data",...We].join("; "))}}if(_e.hasStandardBrowserEnv&&(I&&q.isFunction(I)&&(I=I(M)),I||I!==!1&&Go(M.url))){const Fe=ue&&he&&Ko.read(he);Fe&&be.set(ue,Fe)}return M},Mm=typeof XMLHttpRequest<"u"&&function(T){return new Promise(function(M,B){const I=Gi(T);let ue=I.data;const he=ss.from(I.headers).normalize();let{responseType:be,onUploadProgress:Ue,onDownloadProgress:ut}=I,Fe,We,gt,an,Et;function ft(){an&&an(),Et&&Et(),I.cancelToken&&I.cancelToken.unsubscribe(Fe),I.signal&&I.signal.removeEventListener("abort",Fe)}let nt=new XMLHttpRequest;nt.open(I.method.toUpperCase(),I.url,!0),nt.timeout=I.timeout;function rs(){if(!nt)return;const Sn=ss.from("getAllResponseHeaders"in nt&&nt.getAllResponseHeaders()),dr={data:!be||be==="text"||be==="json"?nt.responseText:nt.response,status:nt.status,statusText:nt.statusText,headers:Sn,config:T,request:nt};ur(function(no){M(no),ft()},function(no){B(no),ft()},dr),nt=null}"onloadend"in nt?nt.onloadend=rs:nt.onreadystatechange=function(){!nt||nt.readyState!==4||nt.status===0&&!(nt.responseURL&&nt.responseURL.indexOf("file:")===0)||setTimeout(rs)},nt.onabort=function(){nt&&(B(new Ne("Request aborted",Ne.ECONNABORTED,T,nt)),nt=null)},nt.onerror=function(){B(new Ne("Network Error",Ne.ERR_NETWORK,T,nt)),nt=null},nt.ontimeout=function(){let Sn=I.timeout?"timeout of "+I.timeout+"ms exceeded":"timeout exceeded";const dr=I.transitional||Rt;I.timeoutErrorMessage&&(Sn=I.timeoutErrorMessage),B(new Ne(Sn,dr.clarifyTimeoutError?Ne.ETIMEDOUT:Ne.ECONNABORTED,T,nt)),nt=null},ue===void 0&&he.setContentType(null),"setRequestHeader"in nt&&q.forEach(he.toJSON(),function(Sn,dr){nt.setRequestHeader(dr,Sn)}),q.isUndefined(I.withCredentials)||(nt.withCredentials=!!I.withCredentials),be&&be!=="json"&&(nt.responseType=I.responseType),ut&&([gt,Et]=us(ut,!0),nt.addEventListener("progress",gt)),Ue&&nt.upload&&([We,an]=us(Ue),nt.upload.addEventListener("progress",We),nt.upload.addEventListener("loadend",an)),(I.cancelToken||I.signal)&&(Fe=Sn=>{nt&&(B(!Sn||Sn.type?new vs(null,T,nt):Sn),nt.abort(),nt=null)},I.cancelToken&&I.cancelToken.subscribe(Fe),I.signal&&(I.signal.aborted?Fe():I.signal.addEventListener("abort",Fe)));const $n=At(I.url);if($n&&_e.protocols.indexOf($n)===-1){B(new Ne("Unsupported protocol "+$n+":",Ne.ERR_BAD_REQUEST,T));return}nt.send(ue||null)})},Ms=(T,M)=>{const{length:B}=T=T?T.filter(Boolean):[];if(M||B){let I=new AbortController,ue;const he=function(Fe){if(!ue){ue=!0,Ue();const We=Fe instanceof Error?Fe:this.reason;I.abort(We instanceof Ne?We:new vs(We instanceof Error?We.message:We))}};let be=M&&setTimeout(()=>{be=null,he(new Ne(`timeout ${M} of ms exceeded`,Ne.ETIMEDOUT))},M);const Ue=()=>{T&&(be&&clearTimeout(be),be=null,T.forEach(Fe=>{Fe.unsubscribe?Fe.unsubscribe(he):Fe.removeEventListener("abort",he)}),T=null)};T.forEach(Fe=>Fe.addEventListener("abort",he));const{signal:ut}=I;return ut.unsubscribe=()=>q.asap(Ue),ut}};const bc=function*(T,M){let B=T.byteLength;if(B<M){yield T;return}let I=0,ue;for(;I<B;)ue=I+M,yield T.slice(I,ue),I=ue},_d=function(T,M){return kg(this,null,function*(){try{for(var B=Sj(vc(T)),I,ue,he;I=!(ue=yield new bo(B.next())).done;I=!1){const be=ue.value;yield*Cg(bc(be,M))}}catch(ue){he=[ue]}finally{try{I&&(ue=B.return)&&(yield new bo(ue.call(B)))}finally{if(he)throw he[0]}}})},vc=function(T){return kg(this,null,function*(){if(T[Symbol.asyncIterator]){yield*Cg(T);return}const M=T.getReader();try{for(;;){const{done:B,value:I}=yield new bo(M.read());if(B)break;yield I}}finally{yield new bo(M.cancel())}})},ja=(T,M,B,I)=>{const ue=_d(T,M);let he=0,be,Ue=Fe=>{be||(be=!0,I&&I(Fe))};return new ReadableStream({pull(Fe){return ve(this,null,function*(){try{const{done:We,value:gt}=yield ue.next();if(We){Ue(),Fe.close();return}let an=gt.byteLength;if(B){let Et=he+=an;B(Et)}Fe.enqueue(new Uint8Array(gt))}catch(We){throw Ue(We),We}})},cancel(Fe){return Ue(Fe),ue.return()}},{highWaterMark:2})},Ki=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",wc=Ki&&typeof ReadableStream=="function",Za=Ki&&(typeof TextEncoder=="function"?(T=>M=>T.encode(M))(new TextEncoder):T=>ve(null,null,function*(){return new Uint8Array(yield new Response(T).arrayBuffer())})),Nd=(T,...M)=>{try{return!!T(...M)}catch(B){return!1}},Sd=wc&&Nd(()=>{let T=!1;const M=new Request(_e.origin,{body:new ReadableStream,method:"POST",get duplex(){return T=!0,"half"}}).headers.has("Content-Type");return T&&!M}),jc=64*1024,Qi=wc&&Nd(()=>q.isReadableStream(new Response("").body)),Qo={stream:Qi&&(T=>T.body)};Ki&&(T=>{["text","arrayBuffer","blob","formData","stream"].forEach(M=>{!Qo[M]&&(Qo[M]=q.isFunction(T[M])?B=>B[M]():(B,I)=>{throw new Ne(`Response type '${M}' is not supported`,Ne.ERR_NOT_SUPPORT,I)})})})(new Response);const Pm=T=>ve(null,null,function*(){if(T==null)return 0;if(q.isBlob(T))return T.size;if(q.isSpecCompliantForm(T))return(yield new Request(_e.origin,{method:"POST",body:T}).arrayBuffer()).byteLength;if(q.isArrayBufferView(T)||q.isArrayBuffer(T))return T.byteLength;if(q.isURLSearchParams(T)&&(T=T+""),q.isString(T))return(yield Za(T)).byteLength}),Zo=(T,M)=>ve(null,null,function*(){const B=q.toFiniteNumber(T.getContentLength());return B!=null?B:Pm(M)});var _c=Ki&&(T=>ve(null,null,function*(){let{url:M,method:B,data:I,signal:ue,cancelToken:he,timeout:be,onDownloadProgress:Ue,onUploadProgress:ut,responseType:Fe,headers:We,withCredentials:gt="same-origin",fetchOptions:an}=Gi(T);Fe=Fe?(Fe+"").toLowerCase():"text";let Et=Ms([ue,he&&he.toAbortSignal()],be),ft;const nt=Et&&Et.unsubscribe&&(()=>{Et.unsubscribe()});let rs;try{if(ut&&Sd&&B!=="get"&&B!=="head"&&(rs=yield Zo(We,I))!==0){let Zr=new Request(M,{method:"POST",body:I,duplex:"half"}),si;if(q.isFormData(I)&&(si=Zr.headers.get("content-type"))&&We.setContentType(si),Zr.body){const[nl,sl]=mn(rs,us(Ar(ut)));I=ja(Zr.body,jc,nl,sl)}}q.isString(gt)||(gt=gt?"include":"omit");const $n="credentials"in Request.prototype;ft=new Request(M,oe(z({},an),{signal:Et,method:B.toUpperCase(),headers:We.normalize().toJSON(),body:I,duplex:"half",credentials:$n?gt:void 0}));let Sn=yield fetch(ft);const dr=Qi&&(Fe==="stream"||Fe==="response");if(Qi&&(Ue||dr&&nt)){const Zr={};["status","statusText","headers"].forEach(Ed=>{Zr[Ed]=Sn[Ed]});const si=q.toFiniteNumber(Sn.headers.get("content-length")),[nl,sl]=Ue&&mn(si,us(Ar(Ue),!0))||[];Sn=new Response(ja(Sn.body,jc,nl,()=>{sl&&sl(),nt&&nt()}),Zr)}Fe=Fe||"text";let no=yield Qo[q.findKey(Qo,Fe)||"text"](Sn,T);return!dr&&nt&&nt(),yield new Promise((Zr,si)=>{ur(Zr,si,{data:no,headers:ss.from(Sn.headers),status:Sn.status,statusText:Sn.statusText,config:T,request:ft})})}catch($n){throw nt&&nt(),$n&&$n.name==="TypeError"&&/fetch/i.test($n.message)?Object.assign(new Ne("Network Error",Ne.ERR_NETWORK,T,ft),{cause:$n.cause||$n}):Ne.from($n,$n&&$n.code,T,ft)}}));const Zi={http:Be,xhr:Mm,fetch:_c};q.forEach(Zi,(T,M)=>{if(T){try{Object.defineProperty(T,"name",{value:M})}catch(B){}Object.defineProperty(T,"adapterName",{value:M})}});const _a=T=>`- ${T}`,Ja=T=>q.isFunction(T)||T===null||T===!1;var Nc={getAdapter:T=>{T=q.isArray(T)?T:[T];const{length:M}=T;let B,I;const ue={};for(let he=0;he<M;he++){B=T[he];let be;if(I=B,!Ja(B)&&(I=Zi[(be=String(B)).toLowerCase()],I===void 0))throw new Ne(`Unknown adapter '${be}'`);if(I)break;ue[be||"#"+he]=I}if(!I){const he=Object.entries(ue).map(([Ue,ut])=>`adapter ${Ue} `+(ut===!1?"is not supported by the environment":"is not available in the build"));let be=M?he.length>1?`since :
`+he.map(_a).join(`
`):" "+_a(he[0]):"as no adapter specified";throw new Ne("There is no suitable adapter to dispatch the request "+be,"ERR_NOT_SUPPORT")}return I},adapters:Zi};function Ji(T){if(T.cancelToken&&T.cancelToken.throwIfRequested(),T.signal&&T.signal.aborted)throw new vs(null,T)}function Sc(T){return Ji(T),T.headers=ss.from(T.headers),T.data=lr.call(T,T.transformRequest),["post","put","patch"].indexOf(T.method)!==-1&&T.headers.setContentType("application/x-www-form-urlencoded",!1),Nc.getAdapter(T.adapter||it.adapter)(T).then(function(M){return Ji(T),M.data=lr.call(T,T.transformResponse,M),M.headers=ss.from(M.headers),M},function(M){return cr(M)||(Ji(T),M&&M.response&&(M.response.data=lr.call(T,T.transformResponse,M.response),M.response.headers=ss.from(M.response.headers))),Promise.reject(M)})}const ei="1.8.2",Ps={};["object","boolean","number","function","string","symbol"].forEach((T,M)=>{Ps[T]=function(B){return typeof B===T||"a"+(M<1?"n ":" ")+T}});const Jo={};Ps.transitional=function(T,M,B){function I(ue,he){return"[Axios v"+ei+"] Transitional option '"+ue+"'"+he+(B?". "+B:"")}return(ue,he,be)=>{if(T===!1)throw new Ne(I(he," has been removed"+(M?" in "+M:"")),Ne.ERR_DEPRECATED);return M&&!Jo[he]&&(Jo[he]=!0,console.warn(I(he," has been deprecated since v"+M+" and will be removed in the near future"))),T?T(ue,he,be):!0}},Ps.spelling=function(T){return(M,B)=>(console.warn(`${B} is likely a misspelling of ${T}`),!0)};function eo(T,M,B){if(typeof T!="object")throw new Ne("options must be an object",Ne.ERR_BAD_OPTION_VALUE);const I=Object.keys(T);let ue=I.length;for(;ue-- >0;){const he=I[ue],be=M[he];if(be){const Ue=T[he],ut=Ue===void 0||be(Ue,he,T);if(ut!==!0)throw new Ne("option "+he+" must be "+ut,Ne.ERR_BAD_OPTION_VALUE);continue}if(B!==!0)throw new Ne("Unknown option "+he,Ne.ERR_BAD_OPTION)}}var Xs={assertOptions:eo,validators:Ps};const Ls=Xs.validators;class Na{constructor(M){this.defaults=M,this.interceptors={request:new Ye,response:new Ye}}request(M,B){return ve(this,null,function*(){try{return yield this._request(M,B)}catch(I){if(I instanceof Error){let ue={};Error.captureStackTrace?Error.captureStackTrace(ue):ue=new Error;const he=ue.stack?ue.stack.replace(/^.+\n/,""):"";try{I.stack?he&&!String(I.stack).endsWith(he.replace(/^.+\n.+\n/,""))&&(I.stack+=`
`+he):I.stack=he}catch(be){}}throw I}})}_request(M,B){typeof M=="string"?(B=B||{},B.url=M):B=M||{},B=Qr(this.defaults,B);const{transitional:I,paramsSerializer:ue,headers:he}=B;I!==void 0&&Xs.assertOptions(I,{silentJSONParsing:Ls.transitional(Ls.boolean),forcedJSONParsing:Ls.transitional(Ls.boolean),clarifyTimeoutError:Ls.transitional(Ls.boolean)},!1),ue!=null&&(q.isFunction(ue)?B.paramsSerializer={serialize:ue}:Xs.assertOptions(ue,{encode:Ls.function,serialize:Ls.function},!0)),B.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?B.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:B.allowAbsoluteUrls=!0),Xs.assertOptions(B,{baseUrl:Ls.spelling("baseURL"),withXsrfToken:Ls.spelling("withXSRFToken")},!0),B.method=(B.method||this.defaults.method||"get").toLowerCase();let be=he&&q.merge(he.common,he[B.method]);he&&q.forEach(["delete","get","head","post","put","patch","common"],ft=>{delete he[ft]}),B.headers=ss.concat(be,he);const Ue=[];let ut=!0;this.interceptors.request.forEach(function(ft){typeof ft.runWhen=="function"&&ft.runWhen(B)===!1||(ut=ut&&ft.synchronous,Ue.unshift(ft.fulfilled,ft.rejected))});const Fe=[];this.interceptors.response.forEach(function(ft){Fe.push(ft.fulfilled,ft.rejected)});let We,gt=0,an;if(!ut){const ft=[Sc.bind(this),void 0];for(ft.unshift.apply(ft,Ue),ft.push.apply(ft,Fe),an=ft.length,We=Promise.resolve(B);gt<an;)We=We.then(ft[gt++],ft[gt++]);return We}an=Ue.length;let Et=B;for(gt=0;gt<an;){const ft=Ue[gt++],nt=Ue[gt++];try{Et=ft(Et)}catch(rs){nt.call(this,rs);break}}try{We=Sc.call(this,Et)}catch(ft){return Promise.reject(ft)}for(gt=0,an=Fe.length;gt<an;)We=We.then(Fe[gt++],Fe[gt++]);return We}getUri(M){M=Qr(this.defaults,M);const B=jd(M.baseURL,M.url,M.allowAbsoluteUrls);return Kn(B,M.params,M.paramsSerializer)}}q.forEach(["delete","get","head","options"],function(T){Na.prototype[T]=function(M,B){return this.request(Qr(B||{},{method:T,url:M,data:(B||{}).data}))}}),q.forEach(["post","put","patch"],function(T){function M(B){return function(I,ue,he){return this.request(Qr(he||{},{method:T,headers:B?{"Content-Type":"multipart/form-data"}:{},url:I,data:ue}))}}Na.prototype[T]=M(),Na.prototype[T+"Form"]=M(!0)});var to=Na;class ti{constructor(M){if(typeof M!="function")throw new TypeError("executor must be a function.");let B;this.promise=new Promise(function(ue){B=ue});const I=this;this.promise.then(ue=>{if(!I._listeners)return;let he=I._listeners.length;for(;he-- >0;)I._listeners[he](ue);I._listeners=null}),this.promise.then=ue=>{let he;const be=new Promise(Ue=>{I.subscribe(Ue),he=Ue}).then(ue);return be.cancel=function(){I.unsubscribe(he)},be},M(function(ue,he,be){I.reason||(I.reason=new vs(ue,he,be),B(I.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(M){if(this.reason){M(this.reason);return}this._listeners?this._listeners.push(M):this._listeners=[M]}unsubscribe(M){if(!this._listeners)return;const B=this._listeners.indexOf(M);B!==-1&&this._listeners.splice(B,1)}toAbortSignal(){const M=new AbortController,B=I=>{M.abort(I)};return this.subscribe(B),M.signal.unsubscribe=()=>this.unsubscribe(B),M.signal}static source(){let M;return{token:new ti(function(B){M=B}),cancel:M}}}var el=ti;function Td(T){return function(M){return T.apply(null,M)}}function ws(T){return q.isObject(T)&&T.isAxiosError===!0}const Rr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Rr).forEach(([T,M])=>{Rr[M]=T});var tl=Rr;function ni(T){const M=new to(T),B=e(to.prototype.request,M);return q.extend(B,to.prototype,M,{allOwnKeys:!0}),q.extend(B,M,null,{allOwnKeys:!0}),B.create=function(I){return ni(Qr(T,I))},B}const Rn=ni(it);return Rn.Axios=to,Rn.CanceledError=vs,Rn.CancelToken=el,Rn.isCancel=cr,Rn.VERSION=ei,Rn.toFormData=dn,Rn.AxiosError=Ne,Rn.Cancel=Rn.CanceledError,Rn.all=function(T){return Promise.all(T)},Rn.spread=Td,Rn.isAxiosError=ws,Rn.mergeConfig=Qr,Rn.AxiosHeaders=ss,Rn.formToJSON=T=>tt(q.isHTMLForm(T)?new FormData(T):T),Rn.getAdapter=Nc.getAdapter,Rn.HttpStatusCode=tl,Rn.default=Rn,Lg=Rn,Lg}var Fj;function JN(){if(Fj)return Ua;Fj=1;var e=Ua&&Ua.__assign||function(){return e=Object.assign||function(a){for(var o,c=1,d=arguments.length;c<d;c++){o=arguments[c];for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(a[f]=o[f])}return a},e.apply(this,arguments)};Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.getRequestHeaders=Ua.getAxiosClient=void 0;var t=qD();function n(a,o,c,d,f){var h=t.default.create({baseURL:a,headers:s(o,d,c,a,f),withCredentials:!0});return h.interceptors.request.use(function(p){return typeof window<"u"&&window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(p.headers["X-Frappe-CSRF-Token"]=window.csrf_token),o&&d&&c&&(p.headers.Authorization="".concat(d," ").concat(c())),p}),h}Ua.getAxiosClient=n;function s(a,o,c,d,f){a===void 0&&(a=!1);var h={Accept:"application/json","Content-Type":"application/json; charset=utf-8"};return a&&o&&c&&(h.Authorization="".concat(o," ").concat(c())),typeof window<"u"&&typeof document<"u"&&(window.location&&(d&&d!==window.location.origin||(h["X-Frappe-Site-Name"]=window.location.hostname)),window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(h["X-Frappe-CSRF-Token"]=window.csrf_token)),e(e({},h),f!=null?f:{})}return Ua.getRequestHeaders=s,Ua}var Bj;function e2(){if(Bj)return Fr;Bj=1;var e=Fr&&Fr.__assign||function(){return e=Object.assign||function(o){for(var c,d=1,f=arguments.length;d<f;d++){c=arguments[d];for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(o[h]=c[h])}return o},e.apply(this,arguments)},t=Fr&&Fr.__awaiter||function(o,c,d,f){function h(p){return p instanceof d?p:new d(function(g){g(p)})}return new(d||(d=Promise))(function(p,g){function y(v){try{j(f.next(v))}catch(S){g(S)}}function b(v){try{j(f.throw(v))}catch(S){g(S)}}function j(v){v.done?p(v.value):h(v.value).then(y,b)}j((f=f.apply(o,c||[])).next())})},n=Fr&&Fr.__generator||function(o,c){var d={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},f,h,p,g;return g={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function y(j){return function(v){return b([j,v])}}function b(j){if(f)throw new TypeError("Generator is already executing.");for(;g&&(g=0,j[0]&&(d=0)),d;)try{if(f=1,h&&(p=j[0]&2?h.return:j[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,j[1])).done)return p;switch(h=0,p&&(j=[j[0]&2,p.value]),j[0]){case 0:case 1:p=j;break;case 4:return d.label++,{value:j[1],done:!1};case 5:d.label++,h=j[1],j=[0];continue;case 7:j=d.ops.pop(),d.trys.pop();continue;default:if(p=d.trys,!(p=p.length>0&&p[p.length-1])&&(j[0]===6||j[0]===2)){d=0;continue}if(j[0]===3&&(!p||j[1]>p[0]&&j[1]<p[3])){d.label=j[1];break}if(j[0]===6&&d.label<p[1]){d.label=p[1],p=j;break}if(p&&d.label<p[2]){d.label=p[2],d.ops.push(j);break}p[2]&&d.ops.pop(),d.trys.pop();continue}j=c.call(o,d)}catch(v){j=[6,v],h=0}finally{f=p=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}};Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.FrappeFileUpload=void 0;var s=JN(),a=function(){function o(c,d,f,h,p,g){this.appURL=c,this.axios=d,this.useToken=f!=null?f:!1,this.token=h,this.tokenType=p,this.customHeaders=g}return o.prototype.uploadFile=function(c,d,f,h){return h===void 0&&(h="upload_file"),t(this,void 0,void 0,function(){var p,g,y,b,j,v,S,N;return n(this,function(R){return p=new FormData,c&&p.append("file",c,c.name),g=d.isPrivate,y=d.folder,b=d.file_url,j=d.doctype,v=d.docname,S=d.fieldname,N=d.otherData,g&&p.append("is_private","1"),y&&p.append("folder",y),b&&p.append("file_url",b),j&&v&&(p.append("doctype",j),p.append("docname",v),S&&p.append("fieldname",S)),N&&Object.keys(N).forEach(function(E){var k=N[E];p.append(E,k)}),[2,this.axios.post("/api/method/".concat(h),p,{onUploadProgress:function(E){f&&f(E.loaded,E.total,E)},headers:e(e({},(0,s.getRequestHeaders)(this.useToken,this.tokenType,this.token,this.appURL,this.customHeaders)),{"Content-Type":"multipart/form-data"})}).catch(function(E){var k,D;throw e(e({},E.response.data),{httpStatus:E.response.status,httpStatusText:E.response.statusText,message:(k=E.response.data.message)!==null&&k!==void 0?k:"There was an error while uploading the file.",exception:(D=E.response.data.exception)!==null&&D!==void 0?D:""})})]})})},o}();return Fr.FrappeFileUpload=a,Fr}var $j;function WD(){if($j)return gu;$j=1,Object.defineProperty(gu,"__esModule",{value:!0}),gu.FrappeApp=void 0;var e=t2(),t=QN(),n=ZN(),s=e2(),a=JN(),o=function(){function c(d,f,h,p){var g,y;this.url=d,this.name=h!=null?h:"FrappeApp",this.useToken=(g=f==null?void 0:f.useToken)!==null&&g!==void 0?g:!1,this.token=f==null?void 0:f.token,this.tokenType=(y=f==null?void 0:f.type)!==null&&y!==void 0?y:"Bearer",this.customHeaders=p,this.axios=(0,a.getAxiosClient)(this.url,this.useToken,this.token,this.tokenType,this.customHeaders)}return c.prototype.auth=function(){return new e.FrappeAuth(this.url,this.axios,this.useToken,this.token,this.tokenType)},c.prototype.db=function(){return new n.FrappeDB(this.url,this.axios,this.useToken,this.token,this.tokenType)},c.prototype.file=function(){return new s.FrappeFileUpload(this.url,this.axios,this.useToken,this.token,this.tokenType,this.customHeaders)},c.prototype.call=function(){return new t.FrappeCall(this.url,this.axios,this.useToken,this.token,this.tokenType)},c}();return gu.FrappeApp=o,gu}var Br={},Hj;function YD(){if(Hj)return Br;Hj=1;var e=Br&&Br.__assign||function(){return e=Object.assign||function(a){for(var o,c=1,d=arguments.length;c<d;c++){o=arguments[c];for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(a[f]=o[f])}return a},e.apply(this,arguments)},t=Br&&Br.__awaiter||function(a,o,c,d){function f(h){return h instanceof c?h:new c(function(p){p(h)})}return new(c||(c=Promise))(function(h,p){function g(j){try{b(d.next(j))}catch(v){p(v)}}function y(j){try{b(d.throw(j))}catch(v){p(v)}}function b(j){j.done?h(j.value):f(j.value).then(g,y)}b((d=d.apply(a,o||[])).next())})},n=Br&&Br.__generator||function(a,o){var c={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},d,f,h,p;return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(b){return function(j){return y([b,j])}}function y(b){if(d)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(c=0)),c;)try{if(d=1,f&&(h=b[0]&2?f.return:b[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,b[1])).done)return h;switch(f=0,h&&(b=[b[0]&2,h.value]),b[0]){case 0:case 1:h=b;break;case 4:return c.label++,{value:b[1],done:!1};case 5:c.label++,f=b[1],b=[0];continue;case 7:b=c.ops.pop(),c.trys.pop();continue;default:if(h=c.trys,!(h=h.length>0&&h[h.length-1])&&(b[0]===6||b[0]===2)){c=0;continue}if(b[0]===3&&(!h||b[1]>h[0]&&b[1]<h[3])){c.label=b[1];break}if(b[0]===6&&c.label<h[1]){c.label=h[1],h=b;break}if(h&&c.label<h[2]){c.label=h[2],c.ops.push(b);break}h[2]&&c.ops.pop(),c.trys.pop();continue}b=o.call(a,c)}catch(j){b=[6,j],f=0}finally{d=h=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}};Object.defineProperty(Br,"__esModule",{value:!0}),Br.FrappeAuth=void 0;var s=function(){function a(o,c,d,f,h){this.appURL=o,this.axios=c,this.useToken=d!=null?d:!1,this.token=f,this.tokenType=h}return a.prototype.loginWithUsernamePassword=function(o){return t(this,void 0,void 0,function(){return n(this,function(c){return[2,this.axios.post("/api/method/login",{usr:o.username,pwd:o.password,otp:o.otp,tmp_id:o.tmp_id,device:o.device}).then(function(d){return d.data}).catch(function(d){var f,h;throw e(e({},d.response.data),{httpStatus:d.response.status,httpStatusText:d.response.statusText,message:(f=d.response.data.message)!==null&&f!==void 0?f:"There was an error while logging in",exception:(h=d.response.data.exception)!==null&&h!==void 0?h:""})})]})})},a.prototype.getLoggedInUser=function(){return t(this,void 0,void 0,function(){return n(this,function(o){return[2,this.axios.get("/api/method/frappe.auth.get_logged_user").then(function(c){return c.data.message}).catch(function(c){var d;throw e(e({},c.response.data),{httpStatus:c.response.status,httpStatusText:c.response.statusText,message:"There was an error while fetching the logged in user",exception:(d=c.response.data.exception)!==null&&d!==void 0?d:""})})]})})},a.prototype.logout=function(){return t(this,void 0,void 0,function(){return n(this,function(o){return[2,this.axios.post("/api/method/logout",{}).then(function(){}).catch(function(c){var d,f;throw e(e({},c.response.data),{httpStatus:c.response.status,httpStatusText:c.response.statusText,message:(d=c.response.data.message)!==null&&d!==void 0?d:"There was an error while logging out",exception:(f=c.response.data.exception)!==null&&f!==void 0?f:""})})]})})},a.prototype.forgetPassword=function(o){return t(this,void 0,void 0,function(){return n(this,function(c){return[2,this.axios.post("/",{cmd:"frappe.core.doctype.user.user.reset_password",user:o}).then(function(){}).catch(function(d){var f,h;throw e(e({},d.response.data),{httpStatus:d.response.status,httpStatusText:d.response.statusText,message:(f=d.response.data.message)!==null&&f!==void 0?f:"There was an error sending password reset email.",exception:(h=d.response.data.exception)!==null&&h!==void 0?h:""})})]})})},a}();return Br.FrappeAuth=s,Br}var Vj;function t2(){return Vj||(Vj=1,function(e){var t=Ml&&Ml.__createBinding||(Object.create?function(s,a,o,c){c===void 0&&(c=o);var d=Object.getOwnPropertyDescriptor(a,o);(!d||("get"in d?!a.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(s,c,d)}:function(s,a,o,c){c===void 0&&(c=o),s[c]=a[o]}),n=Ml&&Ml.__exportStar||function(s,a){for(var o in s)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&t(a,s,o)};Object.defineProperty(e,"__esModule",{value:!0}),n(WD(),e),n(YD(),e),n(ZN(),e),n(e2(),e),n(QN(),e)}(Ml)),Ml}var XD=t2(),Ij={exports:{}},zg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qj;function GD(){if(qj)return zg;qj=1;var e=se;function t(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var n=typeof Object.is=="function"?Object.is:t,s=e.useState,a=e.useEffect,o=e.useLayoutEffect,c=e.useDebugValue;function d(g,y){var b=y(),j=s({inst:{value:b,getSnapshot:y}}),v=j[0].inst,S=j[1];return o(function(){v.value=b,v.getSnapshot=y,f(v)&&S({inst:v})},[g,b,y]),a(function(){return f(v)&&S({inst:v}),g(function(){f(v)&&S({inst:v})})},[g]),c(b),b}function f(g){var y=g.getSnapshot;g=g.value;try{var b=y();return!n(g,b)}catch(j){return!0}}function h(g,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return zg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,zg}var Wj;function KD(){return Wj||(Wj=1,Ij.exports=GD()),Ij.exports}var QD=KD();const n2=0,s2=1,r2=2,Yj=3;var Xj=Object.prototype.hasOwnProperty;function R0(e,t){var n,s;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((s=e.length)===t.length)for(;s--&&R0(e[s],t[s]););return s===-1}if(!n||typeof e=="object"){s=0;for(n in e)if(Xj.call(e,n)&&++s&&!Xj.call(t,n)||!(n in t)||!R0(e[n],t[n]))return!1;return Object.keys(t).length===s}}return e!==e&&t!==t}const Wa=new WeakMap,Di=()=>{},Ss=Di(),Mh=Object,Xt=e=>e===Ss,Hr=e=>typeof e=="function",Xa=(e,t)=>z(z({},e),t),a2=e=>Hr(e.then),Ug={},Df={},Mx="undefined",rd=typeof window!=Mx,M0=typeof document!=Mx,ZD=rd&&"Deno"in window,JD=()=>rd&&typeof window.requestAnimationFrame!=Mx,i2=(e,t)=>{const n=Wa.get(e);return[()=>!Xt(t)&&e.get(t)||Ug,s=>{if(!Xt(t)){const a=e.get(t);t in Df||(Df[t]=a),n[5](t,Xa(a,s),a||Ug)}},n[6],()=>!Xt(t)&&t in Df?Df[t]:!Xt(t)&&e.get(t)||Ug]};let P0=!0;const eO=()=>P0,[L0,z0]=rd&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Di,Di],tO=()=>{const e=M0&&document.visibilityState;return Xt(e)||e!=="hidden"},nO=e=>(M0&&document.addEventListener("visibilitychange",e),L0("focus",e),()=>{M0&&document.removeEventListener("visibilitychange",e),z0("focus",e)}),sO=e=>{const t=()=>{P0=!0,e()},n=()=>{P0=!1};return L0("online",t),L0("offline",n),()=>{z0("online",t),z0("offline",n)}},rO={isOnline:eO,isVisible:tO},aO={initFocus:nO,initReconnect:sO},Gj=!se.useId,qu=!rd||ZD,iO=e=>JD()?window.requestAnimationFrame(e):setTimeout(e,1),gh=qu?_.useEffect:_.useLayoutEffect,Fg=typeof navigator<"u"&&navigator.connection,Kj=!qu&&Fg&&(["slow-2g","2g"].includes(Fg.effectiveType)||Fg.saveData),Of=new WeakMap,Bg=(e,t)=>Mh.prototype.toString.call(e)===`[object ${t}]`;let oO=0;const U0=e=>{const t=typeof e,n=Bg(e,"Date"),s=Bg(e,"RegExp"),a=Bg(e,"Object");let o,c;if(Mh(e)===e&&!n&&!s){if(o=Of.get(e),o)return o;if(o=++oO+"~",Of.set(e,o),Array.isArray(e)){for(o="@",c=0;c<e.length;c++)o+=U0(e[c])+",";Of.set(e,o)}if(a){o="#";const d=Mh.keys(e).sort();for(;!Xt(c=d.pop());)Xt(e[c])||(o+=c+":"+U0(e[c])+",");Of.set(e,o)}}else o=n?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return o},Px=e=>{if(Hr(e))try{e=e()}catch(n){e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?U0(e):"",[e,t]};let lO=0;const F0=()=>++lO;function o2(...e){return ve(this,null,function*(){const[t,n,s,a]=e,o=Xa({populateCache:!0,throwOnError:!0},typeof a=="boolean"?{revalidate:a}:a||{});let c=o.populateCache;const d=o.rollbackOnError;let f=o.optimisticData;const h=y=>typeof d=="function"?d(y):d!==!1,p=o.throwOnError;if(Hr(n)){const y=n,b=[],j=t.keys();for(const v of j)!/^\$(inf|sub)\$/.test(v)&&y(t.get(v)._k)&&b.push(v);return Promise.all(b.map(g))}return g(n);function g(y){return ve(this,null,function*(){const[b]=Px(y);if(!b)return;const[j,v]=i2(t,b),[S,N,R,E]=Wa.get(t),k=()=>{const W=S[b];return(Hr(o.revalidate)?o.revalidate(j().data,y):o.revalidate!==!1)&&(delete R[b],delete E[b],W&&W[0])?W[0](r2).then(()=>j().data):j().data};if(e.length<3)return k();let D=s,C;const A=F0();N[b]=[A,0];const P=!Xt(f),U=j(),K=U.data,$=U._c,G=Xt($)?K:$;if(P&&(f=Hr(f)?f(G,K):f,v({data:f,_c:G})),Hr(D))try{D=D(G)}catch(W){C=W}if(D&&a2(D))if(D=yield D.catch(W=>{C=W}),A!==N[b][0]){if(C)throw C;return D}else C&&P&&h(C)&&(c=!0,v({data:G,_c:Ss}));if(c&&!C)if(Hr(c)){const W=c(D,G);v({data:W,error:Ss,_c:Ss})}else v({data:D,error:Ss,_c:Ss});if(N[b][1]=F0(),Promise.resolve(k()).then(()=>{v({_c:Ss})}),C){if(p)throw C;return}return D})}})}const Qj=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},l2=(e,t)=>{if(!Wa.has(e)){const n=Xa(aO,t),s=Object.create(null),a=o2.bind(Ss,e);let o=Di;const c=Object.create(null),d=(p,g)=>{const y=c[p]||[];return c[p]=y,y.push(g),()=>y.splice(y.indexOf(g),1)},f=(p,g,y)=>{e.set(p,g);const b=c[p];if(b)for(const j of b)j(g,y)},h=()=>{if(!Wa.has(e)&&(Wa.set(e,[s,Object.create(null),Object.create(null),Object.create(null),a,f,d]),!qu)){const p=n.initFocus(setTimeout.bind(Ss,Qj.bind(Ss,s,n2))),g=n.initReconnect(setTimeout.bind(Ss,Qj.bind(Ss,s,s2)));o=()=>{p&&p(),g&&g(),Wa.delete(e)}}};return h(),[e,a,h,o]}return[e,Wa.get(e)[4]]},cO=(e,t,n,s,a)=>{const o=n.errorRetryCount,c=a.retryCount,d=~~((Math.random()+.5)*(1<<(c<8?c:8)))*n.errorRetryInterval;!Xt(o)&&c>o||setTimeout(s,d,a)},uO=R0,[Lx,dO]=l2(new Map),c2=Xa({onLoadingSlow:Di,onSuccess:Di,onError:Di,onErrorRetry:cO,onDiscarded:Di,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Kj?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Kj?5e3:3e3,compare:uO,isPaused:()=>!1,cache:Lx,mutate:dO,fallback:{}},rO),u2=(e,t)=>{const n=Xa(e,t);if(t){const{use:s,fallback:a}=e,{use:o,fallback:c}=t;s&&o&&(n.use=s.concat(o)),a&&c&&(n.fallback=Xa(a,c))}return n},B0=_.createContext({}),fO=e=>{const{value:t}=e,n=_.useContext(B0),s=Hr(t),a=_.useMemo(()=>s?t(n):t,[s,n,t]),o=_.useMemo(()=>s?a:u2(n,a),[s,n,a]),c=a&&a.provider,d=_.useRef(Ss);c&&!d.current&&(d.current=l2(c(o.cache||Lx),a));const f=d.current;return f&&(o.cache=f[0],o.mutate=f[1]),gh(()=>{if(f)return f[2]&&f[2](),f[3]},[]),_.createElement(B0.Provider,Xa(e,{value:o}))},hO="$inf$",d2=rd&&window.__SWR_DEVTOOLS_USE__,mO=d2?window.__SWR_DEVTOOLS_USE__:[],pO=()=>{d2&&(window.__SWR_DEVTOOLS_REACT__=se)},gO=e=>Hr(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],xO=()=>Xa(c2,_.useContext(B0)),yO=e=>(t,n,s)=>e(t,n&&((...a)=>{const[o]=Px(t),[,,,c]=Wa.get(Lx);if(o.startsWith(hO))return n(...a);const d=c[o];return Xt(d)?n(...a):(delete c[o],d)}),s),bO=mO.concat(yO),vO=e=>function(...t){const n=xO(),[s,a,o]=gO(t),c=u2(n,o);let d=e;const{use:f}=c,h=(f||[]).concat(bO);for(let p=h.length;p--;)d=h[p](d);return d(s,a||c.fetcher||null,c)},wO=(e,t,n)=>{const s=t[e]||(t[e]=[]);return s.push(n),()=>{const a=s.indexOf(n);a>=0&&(s[a]=s[s.length-1],s.pop())}};pO();const $g=se.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),Hg={dedupe:!0},jO=(e,t,n)=>{const{cache:s,compare:a,suspense:o,fallbackData:c,revalidateOnMount:d,revalidateIfStale:f,refreshInterval:h,refreshWhenHidden:p,refreshWhenOffline:g,keepPreviousData:y}=n,[b,j,v,S]=Wa.get(s),[N,R]=Px(e),E=_.useRef(!1),k=_.useRef(!1),D=_.useRef(N),C=_.useRef(t),A=_.useRef(n),P=()=>A.current,U=()=>P().isVisible()&&P().isOnline(),[K,$,G,W]=i2(s,N),ee=_.useRef({}).current,Y=Xt(c)?Xt(n.fallback)?Ss:n.fallback[N]:c,H=(Ge,pt)=>{for(const ze in ee){const Nt=ze;if(Nt==="data"){if(!a(Ge[Nt],pt[Nt])&&(!Xt(Ge[Nt])||!a(xe,pt[Nt])))return!1}else if(pt[Nt]!==Ge[Nt])return!1}return!0},J=_.useMemo(()=>{const Ge=!N||!t?!1:Xt(d)?P().isPaused()||o?!1:f!==!1:d,pt=ht=>{const X=Xa(ht);return delete X._k,Ge?z({isValidating:!0,isLoading:!0},X):X},ze=K(),Nt=W(),at=pt(ze),Me=ze===Nt?at:pt(Nt);let st=at;return[()=>{const ht=pt(K());return H(ht,st)?(st.data=ht.data,st.isLoading=ht.isLoading,st.isValidating=ht.isValidating,st.error=ht.error,st):(st=ht,ht)},()=>Me]},[s,N]),te=QD.useSyncExternalStore(_.useCallback(Ge=>G(N,(pt,ze)=>{H(ze,pt)||Ge()}),[s,N]),J[0],J[1]),ce=!E.current,L=b[N]&&b[N].length>0,le=te.data,re=Xt(le)?Y&&a2(Y)?$g(Y):Y:le,V=te.error,ne=_.useRef(re),xe=y?Xt(le)?Xt(ne.current)?re:ne.current:le:re,me=L&&!Xt(V)?!1:ce&&!Xt(d)?d:P().isPaused()?!1:o?Xt(re)?!1:f:Xt(re)||f,Ee=!!(N&&t&&ce&&me),De=Xt(te.isValidating)?Ee:te.isValidating,He=Xt(te.isLoading)?Ee:te.isLoading,Pe=_.useCallback(Ge=>ve(null,null,function*(){const pt=C.current;if(!N||!pt||k.current||P().isPaused())return!1;let ze,Nt,at=!0;const Me=Ge||{},st=!v[N]||!Me.dedupe,ht=()=>Gj?!k.current&&N===D.current&&E.current:N===D.current,X={isValidating:!1,isLoading:!1},fe=()=>{$(X)},q=()=>{const Re=v[N];Re&&Re[1]===Nt&&delete v[N]},Ne={isValidating:!0};Xt(K().data)&&(Ne.isLoading=!0);try{if(st&&($(Ne),n.loadingTimeout&&Xt(K().data)&&setTimeout(()=>{at&&ht()&&P().onLoadingSlow(N,n)},n.loadingTimeout),v[N]=[pt(R),F0()]),[ze,Nt]=v[N],ze=yield ze,st&&setTimeout(q,n.dedupingInterval),!v[N]||v[N][1]!==Nt)return st&&ht()&&P().onDiscarded(N),!1;X.error=Ss;const Re=j[N];if(!Xt(Re)&&(Nt<=Re[0]||Nt<=Re[1]||Re[1]===0))return fe(),st&&ht()&&P().onDiscarded(N),!1;const Ae=K().data;X.data=a(Ae,ze)?Ae:ze,st&&ht()&&P().onSuccess(ze,N,n)}catch(Re){q();const Ae=P(),{shouldRetryOnError:Be}=Ae;Ae.isPaused()||(X.error=Re,st&&ht()&&(Ae.onError(Re,N,Ae),(Be===!0||Hr(Be)&&Be(Re))&&(!P().revalidateOnFocus||!P().revalidateOnReconnect||U())&&Ae.onErrorRetry(Re,N,Ae,qe=>{const et=b[N];et&&et[0]&&et[0](Yj,qe)},{retryCount:(Me.retryCount||0)+1,dedupe:!0})))}return at=!1,fe(),!0}),[N,s]),rt=_.useCallback((...Ge)=>o2(s,D.current,...Ge),[]);if(gh(()=>{C.current=t,A.current=n,Xt(le)||(ne.current=le)}),gh(()=>{if(!N)return;const Ge=Pe.bind(Ss,Hg);let pt=0;P().revalidateOnFocus&&(pt=Date.now()+P().focusThrottleInterval);const ze=wO(N,b,(Nt,at={})=>{if(Nt==n2){const Me=Date.now();P().revalidateOnFocus&&Me>pt&&U()&&(pt=Me+P().focusThrottleInterval,Ge())}else if(Nt==s2)P().revalidateOnReconnect&&U()&&Ge();else{if(Nt==r2)return Pe();if(Nt==Yj)return Pe(at)}});return k.current=!1,D.current=N,E.current=!0,$({_k:R}),me&&(Xt(re)||qu?Ge():iO(Ge)),()=>{k.current=!0,ze()}},[N]),gh(()=>{let Ge;function pt(){const Nt=Hr(h)?h(K().data):h;Nt&&Ge!==-1&&(Ge=setTimeout(ze,Nt))}function ze(){!K().error&&(p||P().isVisible())&&(g||P().isOnline())?Pe(Hg).then(pt):pt()}return pt(),()=>{Ge&&(clearTimeout(Ge),Ge=-1)}},[h,p,g,N]),_.useDebugValue(xe),o&&Xt(re)&&N){if(!Gj&&qu)throw new Error("Fallback data is required when using Suspense in SSR.");C.current=t,A.current=n,k.current=!1;const Ge=S[N];if(!Xt(Ge)){const pt=rt(Ge);$g(pt)}if(Xt(V)){const pt=Pe(Hg);Xt(xe)||(pt.status="fulfilled",pt.value=!0),$g(pt)}else throw V}return{mutate:rt,get data(){return ee.data=!0,xe},get error(){return ee.error=!0,V},get isValidating(){return ee.isValidating=!0,De},get isLoading(){return ee.isLoading=!0,He}}},_O=Mh.defineProperty(fO,"defaultValue",{value:c2}),cm=vO(jO);Promise.resolve();const pa=Object.create(null);pa.open="0";pa.close="1";pa.ping="2";pa.pong="3";pa.message="4";pa.upgrade="5";pa.noop="6";const xh=Object.create(null);Object.keys(pa).forEach(e=>{xh[pa[e]]=e});const $0={type:"error",data:"parser error"},f2=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",h2=typeof ArrayBuffer=="function",m2=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,zx=({type:e,data:t},n,s)=>f2&&t instanceof Blob?n?s(t):Zj(t,s):h2&&(t instanceof ArrayBuffer||m2(t))?n?s(t):Zj(new Blob([t]),s):s(pa[e]+(t||"")),Zj=(e,t)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];t("b"+(s||""))},n.readAsDataURL(e)};function Jj(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Vg;function NO(e,t){if(f2&&e.data instanceof Blob)return e.data.arrayBuffer().then(Jj).then(t);if(h2&&(e.data instanceof ArrayBuffer||m2(e.data)))return t(Jj(e.data));zx(e,!1,n=>{Vg||(Vg=new TextEncoder),t(Vg.encode(n))})}const e1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ru=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<e1.length;e++)Ru[e1.charCodeAt(e)]=e;const SO=e=>{let t=e.length*.75,n=e.length,s,a=0,o,c,d,f;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const h=new ArrayBuffer(t),p=new Uint8Array(h);for(s=0;s<n;s+=4)o=Ru[e.charCodeAt(s)],c=Ru[e.charCodeAt(s+1)],d=Ru[e.charCodeAt(s+2)],f=Ru[e.charCodeAt(s+3)],p[a++]=o<<2|c>>4,p[a++]=(c&15)<<4|d>>2,p[a++]=(d&3)<<6|f&63;return h},TO=typeof ArrayBuffer=="function",Ux=(e,t)=>{if(typeof e!="string")return{type:"message",data:p2(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:EO(e.substring(1),t)}:xh[n]?e.length>1?{type:xh[n],data:e.substring(1)}:{type:xh[n]}:$0},EO=(e,t)=>{if(TO){const n=SO(e);return p2(n,t)}else return{base64:!0,data:e}},p2=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},g2="",kO=(e,t)=>{const n=e.length,s=new Array(n);let a=0;e.forEach((o,c)=>{zx(o,!1,d=>{s[c]=d,++a===n&&t(s.join(g2))})})},CO=(e,t)=>{const n=e.split(g2),s=[];for(let a=0;a<n.length;a++){const o=Ux(n[a],t);if(s.push(o),o.type==="error")break}return s};function DO(){return new TransformStream({transform(e,t){NO(e,n=>{const s=n.length;let a;if(s<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,s);else if(s<65536){a=new Uint8Array(3);const o=new DataView(a.buffer);o.setUint8(0,126),o.setUint16(1,s)}else{a=new Uint8Array(9);const o=new DataView(a.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(s))}e.data&&typeof e.data!="string"&&(a[0]|=128),t.enqueue(a),t.enqueue(n)})}})}let Ig;function Af(e){return e.reduce((t,n)=>t+n.length,0)}function Rf(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let s=0;for(let a=0;a<t;a++)n[a]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),n}function OO(e,t){Ig||(Ig=new TextDecoder);const n=[];let s=0,a=-1,o=!1;return new TransformStream({transform(c,d){for(n.push(c);;){if(s===0){if(Af(n)<1)break;const f=Rf(n,1);o=(f[0]&128)===128,a=f[0]&127,a<126?s=3:a===126?s=1:s=2}else if(s===1){if(Af(n)<2)break;const f=Rf(n,2);a=new DataView(f.buffer,f.byteOffset,f.length).getUint16(0),s=3}else if(s===2){if(Af(n)<8)break;const f=Rf(n,8),h=new DataView(f.buffer,f.byteOffset,f.length),p=h.getUint32(0);if(p>Math.pow(2,21)-1){d.enqueue($0);break}a=p*Math.pow(2,32)+h.getUint32(4),s=3}else{if(Af(n)<a)break;const f=Rf(n,a);d.enqueue(Ux(o?f:Ig.decode(f),t)),s=0}if(a===0||a>e){d.enqueue($0);break}}}})}const x2=4;function Wn(e){if(e)return AO(e)}function AO(e){for(var t in Wn.prototype)e[t]=Wn.prototype[t];return e}Wn.prototype.on=Wn.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Wn.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};Wn.prototype.off=Wn.prototype.removeListener=Wn.prototype.removeAllListeners=Wn.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var s,a=0;a<n.length;a++)if(s=n[a],s===t||s.fn===t){n.splice(a,1);break}return n.length===0&&delete this._callbacks["$"+e],this};Wn.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,a=n.length;s<a;++s)n[s].apply(this,t)}return this};Wn.prototype.emitReserved=Wn.prototype.emit;Wn.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Wn.prototype.hasListeners=function(e){return!!this.listeners(e).length};const jr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function y2(e,...t){return t.reduce((n,s)=>(e.hasOwnProperty(s)&&(n[s]=e[s]),n),{})}const RO=jr.setTimeout,MO=jr.clearTimeout;function um(e,t){t.useNativeTimers?(e.setTimeoutFn=RO.bind(jr),e.clearTimeoutFn=MO.bind(jr)):(e.setTimeoutFn=jr.setTimeout.bind(jr),e.clearTimeoutFn=jr.clearTimeout.bind(jr))}const PO=1.33;function LO(e){return typeof e=="string"?zO(e):Math.ceil((e.byteLength||e.size)*PO)}function zO(e){let t=0,n=0;for(let s=0,a=e.length;s<a;s++)t=e.charCodeAt(s),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(s++,n+=4);return n}function UO(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function FO(e){let t={},n=e.split("&");for(let s=0,a=n.length;s<a;s++){let o=n[s].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}class BO extends Error{constructor(t,n,s){super(t),this.description=n,this.context=s,this.type="TransportError"}}class Fx extends Wn{constructor(t){super(),this.writable=!1,um(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,s){return super.emitReserved("error",new BO(t,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Ux(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=UO(t);return n.length?"?"+n:""}}const b2="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),H0=64,$O={};let t1=0,Mf=0,n1;function s1(e){let t="";do t=b2[e%H0]+t,e=Math.floor(e/H0);while(e>0);return t}function v2(){const e=s1(+new Date);return e!==n1?(t1=0,n1=e):e+"."+s1(t1++)}for(;Mf<H0;Mf++)$O[b2[Mf]]=Mf;let w2=!1;try{w2=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(e){}const HO=w2;function j2(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||HO))return new XMLHttpRequest}catch(n){}if(!t)try{return new jr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(n){}}function VO(){}const IO=function(){return new j2({xdomain:!1}).responseType!=null}();class qO extends Fx{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const s=location.protocol==="https:";let a=location.port;a||(a=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||a!==t.port}const n=t&&t.forceBase64;this.supportsBinary=IO&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let s=0;this.polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};CO(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,kO(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=v2()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Wl(this.uri(),t)}doWrite(t,n){const s=this.request({method:"POST",data:t});s.on("success",n),s.on("error",(a,o)=>{this.onError("xhr post error",a,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=t}}let Wl=class yh extends Wn{constructor(t,n){super(),um(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=y2(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const s=this.xhr=new j2(n);try{s.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let a in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(a)&&s.setRequestHeader(a,this.opts.extraHeaders[a])}}catch(a){}if(this.method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(a){}try{s.setRequestHeader("Accept","*/*")}catch(a){}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(s.timeout=this.opts.requestTimeout),s.onreadystatechange=()=>{var a;s.readyState===3&&((a=this.opts.cookieJar)===null||a===void 0||a.parseCookies(s)),s.readyState===4&&(s.status===200||s.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof s.status=="number"?s.status:0)},0))},s.send(this.data)}catch(a){this.setTimeoutFn(()=>{this.onError(a)},0);return}typeof document<"u"&&(this.index=yh.requestsCount++,yh.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=VO,t)try{this.xhr.abort()}catch(n){}typeof document<"u"&&delete yh.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};Wl.requestsCount=0;Wl.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",r1);else if(typeof addEventListener=="function"){const e="onpagehide"in jr?"pagehide":"unload";addEventListener(e,r1,!1)}}function r1(){for(let e in Wl.requests)Wl.requests.hasOwnProperty(e)&&Wl.requests[e].abort()}const Bx=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Pf=jr.WebSocket||jr.MozWebSocket,a1=!0,WO="arraybuffer",i1=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class YO extends Fx{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,s=i1?{}:y2(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=a1&&!i1?n?new Pf(t,n):new Pf(t):new Pf(t,n,s)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],a=n===t.length-1;zx(s,this.supportsBinary,o=>{try{a1&&this.ws.send(o)}catch(c){}a&&Bx(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=v2()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!Pf}}class XO extends Fx{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=OO(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(n).getReader(),a=DO();a.readable.pipeTo(t.writable),this.writer=a.writable.getWriter();const o=()=>{s.read().then(({done:d,value:f})=>{d||(this.onPacket(f),o())}).catch(d=>{})};o();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this.writer.write(c).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],a=n===t.length-1;this.writer.write(s).then(()=>{a&&Bx(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const GO={websocket:YO,webtransport:XO,polling:qO},KO=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,QO=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function V0(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),s=e.indexOf("]");n!=-1&&s!=-1&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));let a=KO.exec(e||""),o={},c=14;for(;c--;)o[QO[c]]=a[c]||"";return n!=-1&&s!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=ZO(o,o.path),o.queryKey=JO(o,o.query),o}function ZO(e,t){const n=/\/{2,9}/g,s=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&s.splice(0,1),t.slice(-1)=="/"&&s.splice(s.length-1,1),s}function JO(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,a,o){a&&(n[a]=o)}),n}let _2=class Hl extends Wn{constructor(t,n={}){super(),this.binaryType=WO,this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=V0(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=V0(n.host).host),um(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=FO(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=x2,n.transport=t,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new GO[t](s)}open(){let t;if(this.opts.rememberUpgrade&&Hl.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch(n){this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),s=!1;Hl.priorWebsocketSuccess=!1;const a=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",g=>{if(!s)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Hl.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(p(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const y=new Error("probe error");y.transport=n.name,this.emitReserved("upgradeError",y)}}))};function o(){s||(s=!0,p(),n.close(),n=null)}const c=g=>{const y=new Error("probe error: "+g);y.transport=n.name,o(),this.emitReserved("upgradeError",y)};function d(){c("transport closed")}function f(){c("socket closed")}function h(g){n&&g.name!==n.name&&o()}const p=()=>{n.removeListener("open",a),n.removeListener("error",c),n.removeListener("close",d),this.off("close",f),this.off("upgrading",h)};n.once("open",a),n.once("error",c),n.once("close",d),this.once("close",f),this.once("upgrading",h),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onOpen(){if(this.readyState="open",Hl.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(t+=LO(s)),n>0&&t>this.maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}write(t,n,s){return this.sendPacket("message",t,n,s),this}send(t,n,s){return this.sendPacket("message",t,n,s),this}sendPacket(t,n,s,a){if(typeof n=="function"&&(a=n,n=void 0),typeof s=="function"&&(a=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const o={type:t,data:n,options:s};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),a&&this.once("flush",a),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}onError(t){Hl.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let s=0;const a=t.length;for(;s<a;s++)~this.transports.indexOf(t[s])&&n.push(t[s]);return n}};_2.protocol=x2;function eA(e,t="",n){let s=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),s=V0(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const a=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+a+":"+s.port+t,s.href=s.protocol+"://"+a+(n&&n.port===s.port?"":":"+s.port),s}const tA=typeof ArrayBuffer=="function",nA=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,N2=Object.prototype.toString,sA=typeof Blob=="function"||typeof Blob<"u"&&N2.call(Blob)==="[object BlobConstructor]",rA=typeof File=="function"||typeof File<"u"&&N2.call(File)==="[object FileConstructor]";function $x(e){return tA&&(e instanceof ArrayBuffer||nA(e))||sA&&e instanceof Blob||rA&&e instanceof File}function bh(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,s=e.length;n<s;n++)if(bh(e[n]))return!0;return!1}if($x(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return bh(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&bh(e[n]))return!0;return!1}function aA(e){const t=[],n=e.data,s=e;return s.data=I0(n,t),s.attachments=t.length,{packet:s,buffers:t}}function I0(e,t){if(!e)return e;if($x(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let s=0;s<e.length;s++)n[s]=I0(e[s],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=I0(e[s],t));return n}return e}function iA(e,t){return e.data=q0(e.data,t),delete e.attachments,e}function q0(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=q0(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=q0(e[n],t));return e}const oA=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],lA=5;var It;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(It||(It={}));class cA{constructor(t){this.replacer=t}encode(t){return(t.type===It.EVENT||t.type===It.ACK)&&bh(t)?this.encodeAsBinary({type:t.type===It.EVENT?It.BINARY_EVENT:It.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===It.BINARY_EVENT||t.type===It.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=aA(t),s=this.encodeAsString(n.packet),a=n.buffers;return a.unshift(s),a}}function o1(e){return Object.prototype.toString.call(e)==="[object Object]"}class Hx extends Wn{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const s=n.type===It.BINARY_EVENT;s||n.type===It.BINARY_ACK?(n.type=s?It.EVENT:It.ACK,this.reconstructor=new uA(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if($x(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const s={type:Number(t.charAt(0))};if(It[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===It.BINARY_EVENT||s.type===It.BINARY_ACK){const o=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const c=t.substring(o,n);if(c!=Number(c)||t.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(c)}if(t.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););s.nsp=t.substring(o,n)}else s.nsp="/";const a=t.charAt(n+1);if(a!==""&&Number(a)==a){const o=n+1;for(;++n;){const c=t.charAt(n);if(c==null||Number(c)!=c){--n;break}if(n===t.length)break}s.id=Number(t.substring(o,n+1))}if(t.charAt(++n)){const o=this.tryParse(t.substr(n));if(Hx.isPayloadValid(s.type,o))s.data=o;else throw new Error("invalid payload")}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(n){return!1}}static isPayloadValid(t,n){switch(t){case It.CONNECT:return o1(n);case It.DISCONNECT:return n===void 0;case It.CONNECT_ERROR:return typeof n=="string"||o1(n);case It.EVENT:case It.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&oA.indexOf(n[0])===-1);case It.ACK:case It.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class uA{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=iA(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const dA=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Hx,Encoder:cA,get PacketType(){return It},protocol:lA},Symbol.toStringTag,{value:"Module"}));function $r(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const fA=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class S2 extends Wn{constructor(t,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[$r(t,"open",this.onopen.bind(this)),$r(t,"packet",this.onpacket.bind(this)),$r(t,"error",this.onerror.bind(this)),$r(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(fA.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const s={type:It.EVENT,data:n};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const o=this.ids++,c=n.pop();this._registerAckCallback(o,c),s.id=o}const a=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!a||!this.connected)||(this.connected?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,n){var s;const a=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(a===void 0){this.acks[t]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===t&&this.sendBuffer.splice(c,1);n.call(this,new Error("operation has timed out"))},a);this.acks[t]=(...c)=>{this.io.clearTimeoutFn(o),n.apply(this,[null,...c])}}emitWithAck(t,...n){const s=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((a,o)=>{n.push((c,d)=>s?c?o(c):a(d):a(c)),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((a,...o)=>s!==this._queue[0]?void 0:(a!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(a)):(this._queue.shift(),n&&n(null,...o)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:It.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case It.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case It.EVENT:case It.BINARY_EVENT:this.onevent(t);break;case It.ACK:case It.BINARY_ACK:this.onack(t);break;case It.DISCONNECT:this.ondisconnect();break;case It.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let s=!1;return function(...a){s||(s=!0,n.packet({type:It.ACK,id:t,data:a}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(n.apply(this,t.data),delete this.acks[t.id])}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:It.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,t.data)}}}function ac(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}ac.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-n:e+n}return Math.min(e,this.max)|0};ac.prototype.reset=function(){this.attempts=0};ac.prototype.setMin=function(e){this.ms=e};ac.prototype.setMax=function(e){this.max=e};ac.prototype.setJitter=function(e){this.jitter=e};class W0 extends Wn{constructor(t,n){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,um(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new ac({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const a=n.parser||dA;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new _2(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const a=$r(n,"open",function(){s.onopen(),t&&t()}),o=d=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",d),t?t(d):this.maybeReconnectOnOpen()},c=$r(n,"error",o);if(this._timeout!==!1){const d=this._timeout,f=this.setTimeoutFn(()=>{a(),o(new Error("timeout")),n.close()},d);this.opts.autoUnref&&f.unref(),this.subs.push(()=>{this.clearTimeoutFn(f)})}return this.subs.push(a),this.subs.push(c),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push($r(t,"ping",this.onping.bind(this)),$r(t,"data",this.ondata.bind(this)),$r(t,"error",this.onerror.bind(this)),$r(t,"close",this.onclose.bind(this)),$r(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Bx(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new S2(this,t,n),this.nsps[t]=s),s}_destroy(t){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let s=0;s<n.length;s++)this.engine.write(n[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(a=>{a?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",a)):t.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const xu={};function vh(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=eA(e,t.path||"/socket.io"),s=n.source,a=n.id,o=n.path,c=xu[a]&&o in xu[a].nsps,d=t.forceNew||t["force new connection"]||t.multiplex===!1||c;let f;return d?f=new W0(s,t):(xu[a]||(xu[a]=new W0(s,t)),f=xu[a]),n.query&&!t.query&&(t.query=n.queryKey),f.socket(n.path,t)}Object.assign(vh,{Manager:W0,Socket:S2,io:vh,connect:vh});class hA{constructor(t,n,s,a){vo(this,"socket_port"),vo(this,"host"),vo(this,"port"),vo(this,"protocol"),vo(this,"url"),vo(this,"site_name"),vo(this,"socket");var o,c,d,f;if(this.socket_port=s!=null?s:"9000",this.host=(o=window.location)==null?void 0:o.hostname,this.port=(c=window.location)!=null&&c.port?`:${this.socket_port}`:"",this.protocol=((d=window.location)==null?void 0:d.protocol)==="https:"?"https":"http",t){let h=new URL(t);h.port="",s?(h.port=s,this.url=h.toString()):this.url=h.toString()}else this.url=`${this.protocol}://${this.host}${this.port}/`;n&&(this.url=`${this.url}${n}`),this.site_name=n,this.socket=vh(`${this.url}`,{withCredentials:!0,secure:this.protocol==="https",extraHeaders:a&&a.useToken===!0?{Authorization:`${a.type} ${(f=a.token)==null?void 0:f.call(a)}`}:{}})}}const Qa=_.createContext(null),mA=({url:e="",tokenParams:t,socketPort:n,swrConfig:s,siteName:a,enableSocket:o=!0,children:c,customHeaders:d})=>{const f=_.useMemo(()=>{const h=new XD.FrappeApp(e,t,void 0,d);return{url:e,tokenParams:t,app:h,auth:h.auth(),db:h.db(),call:h.call(),file:h.file(),socket:o?new hA(e,a,n,t).socket:void 0,enableSocket:o,socketPort:n}},[e,t,n,o,d]);return i.jsx(Qa.Provider,{value:f,children:i.jsx(_O,{value:s,children:c})})},or=e=>{const{url:t,auth:n,tokenParams:s}=_.useContext(Qa),[a,o]=_.useState(),c=_.useCallback(()=>{const j=document.cookie.split(";").find(v=>v.trim().startsWith("user_id="));if(j){const v=j.split("=")[1];o(v&&v!=="Guest"?v:null)}else o(null)},[]);_.useEffect(()=>{s&&s.useToken?o(null):c()},[]);const{data:d,error:f,isLoading:h,isValidating:p,mutate:g}=cm(()=>s&&s.useToken||a?`${t}/api/method/frappe.auth.get_logged_user`:null,()=>n.getLoggedInUser(),z({onError:()=>{o(null)},shouldRetryOnError:!1,revalidateOnFocus:!1},e)),y=_.useCallback(j=>ve(null,null,function*(){return n.loginWithUsernamePassword(j).then(v=>(c(),v))}),[]),b=_.useCallback(()=>ve(null,null,function*(){return n.logout().then(()=>g(null)).then(()=>o(null))}),[]);return{isLoading:a===void 0||h,currentUser:d,isValidating:p,error:f,login:y,logout:b,updateCurrentUser:g,getUserCookie:c}},T2=(e,t,n)=>{let s=`${t}/api/resource/`;return n?s+=`${e}/${n}`:s+=`${e}`,s},bn=(e,t,n,s)=>{const{url:a,db:o}=_.useContext(Qa);return cm(n===void 0?T2(e,a,t):n,()=>o.getDoc(e,t),s)},pA=e=>{var a;var t,n;let s="";if(e!=null&&e.fields&&(s+="fields="+JSON.stringify(e==null?void 0:e.fields)+"&"),e!=null&&e.filters&&(s+="filters="+JSON.stringify(e==null?void 0:e.filters)+"&"),e!=null&&e.orFilters&&(s+="or_filters="+JSON.stringify(e==null?void 0:e.orFilters)+"&"),e!=null&&e.limit_start&&(s+="limit_start="+JSON.stringify(e==null?void 0:e.limit_start)+"&"),e!=null&&e.limit&&(s+="limit="+JSON.stringify(e==null?void 0:e.limit)+"&"),e!=null&&e.groupBy&&(s+="group_by="+String(e.groupBy)+"&"),e!=null&&e.orderBy){const o=`${String((t=e.orderBy)==null?void 0:t.field)} ${(a=(n=e.orderBy)==null?void 0:n.order)!=null?a:"asc"}`;s+="order_by="+o+"&"}return e!=null&&e.asDict&&(s+="as_dict="+e.asDict),s},Ot=(e,t,n,s)=>{const{url:a,db:o}=_.useContext(Qa);return cm(n===void 0?`${T2(e,a)}?${pA(t)}`:n,()=>o.getDocList(e,t),s)},Ii=()=>{const{db:e}=_.useContext(Qa),[t,n]=_.useState(!1),[s,a]=_.useState(null),[o,c]=_.useState(!1),d=_.useCallback(()=>{n(!1),a(null),c(!1)},[]);return{createDoc:_.useCallback((f,h)=>ve(null,null,function*(){return a(null),c(!1),n(!0),e.createDoc(f,h).then(p=>(n(!1),c(!0),p)).catch(p=>{throw n(!1),c(!1),a(p),p})}),[]),loading:t,error:s,isCompleted:o,reset:d}},qs=()=>{const{db:e}=_.useContext(Qa),[t,n]=_.useState(!1),[s,a]=_.useState(null),[o,c]=_.useState(!1),d=_.useCallback(()=>{n(!1),a(null),c(!1)},[]);return{updateDoc:_.useCallback((f,h,p)=>ve(null,null,function*(){return a(null),c(!1),n(!0),e.updateDoc(f,h,p).then(g=>(n(!1),c(!0),g)).catch(g=>{throw n(!1),c(!1),a(g),g})}),[]),loading:t,error:s,reset:d,isCompleted:o}},dm=()=>{const{db:e}=_.useContext(Qa),[t,n]=_.useState(!1),[s,a]=_.useState(null),[o,c]=_.useState(!1),d=_.useCallback(()=>{n(!1),a(null),c(!1)},[]);return{deleteDoc:_.useCallback((f,h)=>ve(null,null,function*(){return a(null),c(!1),n(!0),e.deleteDoc(f,h).then(p=>(n(!1),c(!0),p)).catch(p=>{throw n(!1),c(!1),a(p),p})}),[]),loading:t,error:s,reset:d,isCompleted:o}};function gA(e){const t=[];for(let n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}const xA=(e,t,n,s,a="GET")=>{const{call:o}=_.useContext(Qa),c=gA(t!=null?t:{}),d=`${e}?${c}`;return z({},cm(n===void 0?d:n,a==="GET"?()=>o.get(e,t):()=>o.post(e,t),s))},ms=e=>{const{call:t}=_.useContext(Qa),[n,s]=_.useState(null),[a,o]=_.useState(!1),[c,d]=_.useState(null),[f,h]=_.useState(!1),p=_.useCallback(()=>{s(null),o(!1),d(null),h(!1)},[]);return{call:_.useCallback(g=>ve(null,null,function*(){return d(null),h(!1),o(!0),s(null),t.post(e,g).then(y=>(s(y),o(!1),h(!0),y)).catch(y=>{throw o(!1),h(!1),d(y),y})}),[]),result:n,loading:a,error:c,reset:p,isCompleted:f}};var yA=(e,t,n,s,a,o,c,d)=>{let f=document.documentElement,h=["light","dark"];function p(b){(Array.isArray(e)?e:[e]).forEach(j=>{let v=j==="class",S=v&&o?a.map(N=>o[N]||N):a;v?(f.classList.remove(...S),f.classList.add(o&&o[b]?o[b]:b)):f.setAttribute(j,b)}),g(b)}function g(b){d&&h.includes(b)&&(f.style.colorScheme=b)}function y(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)p(s);else try{let b=localStorage.getItem(t)||n,j=c&&b==="system"?y():b;p(j)}catch(b){}},l1=["light","dark"],E2="(prefers-color-scheme: dark)",bA=typeof window=="undefined",Vx=_.createContext(void 0),vA={setTheme:e=>{},themes:[]},wA=()=>{var e;return(e=_.useContext(Vx))!=null?e:vA},jA=e=>_.useContext(Vx)?_.createElement(_.Fragment,null,e.children):_.createElement(NA,z({},e)),_A=["light","dark"],NA=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:s=!0,storageKey:a="theme",themes:o=_A,defaultTheme:c=n?"system":"light",attribute:d="data-theme",value:f,children:h,nonce:p,scriptProps:g})=>{let[y,b]=_.useState(()=>TA(a,c)),[j,v]=_.useState(()=>y==="system"?qg():y),S=f?Object.values(f):o,N=_.useCallback(D=>{let C=D;if(!C)return;D==="system"&&n&&(C=qg());let A=f?f[C]:C,P=t?EA(p):null,U=document.documentElement,K=$=>{$==="class"?(U.classList.remove(...S),A&&U.classList.add(A)):$.startsWith("data-")&&(A?U.setAttribute($,A):U.removeAttribute($))};if(Array.isArray(d)?d.forEach(K):K(d),s){let $=l1.includes(c)?c:null,G=l1.includes(C)?C:$;U.style.colorScheme=G}P==null||P()},[p]),R=_.useCallback(D=>{let C=typeof D=="function"?D(y):D;b(C);try{localStorage.setItem(a,C)}catch(A){}},[y]),E=_.useCallback(D=>{let C=qg(D);v(C),y==="system"&&n&&!e&&N("system")},[y,e]);_.useEffect(()=>{let D=window.matchMedia(E2);return D.addListener(E),E(D),()=>D.removeListener(E)},[E]),_.useEffect(()=>{let D=C=>{C.key===a&&(C.newValue?b(C.newValue):R(c))};return window.addEventListener("storage",D),()=>window.removeEventListener("storage",D)},[R]),_.useEffect(()=>{N(e!=null?e:y)},[e,y]);let k=_.useMemo(()=>({theme:y,setTheme:R,forcedTheme:e,resolvedTheme:y==="system"?j:y,themes:n?[...o,"system"]:o,systemTheme:n?j:void 0}),[y,R,e,j,n,o]);return _.createElement(Vx.Provider,{value:k},_.createElement(SA,{forcedTheme:e,storageKey:a,attribute:d,enableSystem:n,enableColorScheme:s,defaultTheme:c,value:f,themes:o,nonce:p,scriptProps:g}),h)},SA=_.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:s,enableColorScheme:a,defaultTheme:o,value:c,themes:d,nonce:f,scriptProps:h})=>{let p=JSON.stringify([n,t,o,e,d,c,s,a]).slice(1,-1);return _.createElement("script",oe(z({},h),{suppressHydrationWarning:!0,nonce:typeof window=="undefined"?f:"",dangerouslySetInnerHTML:{__html:`(${yA.toString()})(${p})`}}))}),TA=(e,t)=>{if(bA)return;let n;try{n=localStorage.getItem(e)||void 0}catch(s){}return n||t},EA=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},qg=e=>(e||(e=window.matchMedia(E2)),e.matches?"dark":"light");/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var k2=e=>{throw TypeError(e)},kA=(e,t,n)=>t.has(e)||k2("Cannot "+n),Wg=(e,t,n)=>(kA(e,t,"read from private field"),n?n.call(e):t.get(e)),CA=(e,t,n)=>t.has(e)?k2("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),c1="popstate";function DA(e={}){function t(s,a){let{pathname:o,search:c,hash:d}=s.location;return Wu("",{pathname:o,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:zi(a)}return AA(t,n,null,e)}function $t(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function Yn(e,t){if(!e){typeof console!="undefined"&&console.warn(t);try{throw new Error(t)}catch(n){}}}function OA(){return Math.random().toString(36).substring(2,10)}function u1(e,t){return{usr:e.state,key:e.key,idx:t}}function Wu(e,t,n=null,s){return oe(z({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?qi(t):t),{state:n,key:t&&t.key||s||OA()})}function zi({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function qi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function AA(e,t,n,s={}){let{window:a=document.defaultView,v5Compat:o=!1}=s,c=a.history,d="POP",f=null,h=p();h==null&&(h=0,c.replaceState(oe(z({},c.state),{idx:h}),""));function p(){return(c.state||{idx:null}).idx}function g(){d="POP";let S=p(),N=S==null?null:S-h;h=S,f&&f({action:d,location:v.location,delta:N})}function y(S,N){d="PUSH";let R=Wu(v.location,S,N);h=p()+1;let E=u1(R,h),k=v.createHref(R);try{c.pushState(E,"",k)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;a.location.assign(k)}o&&f&&f({action:d,location:v.location,delta:1})}function b(S,N){d="REPLACE";let R=Wu(v.location,S,N);h=p();let E=u1(R,h),k=v.createHref(R);c.replaceState(E,"",k),o&&f&&f({action:d,location:v.location,delta:0})}function j(S){return C2(S)}let v={get action(){return d},get location(){return e(a,c)},listen(S){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(c1,g),f=S,()=>{a.removeEventListener(c1,g),f=null}},createHref(S){return t(a,S)},createURL:j,encodeLocation(S){let N=j(S);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:y,replace:b,go(S){return c.go(S)}};return v}function C2(e,t=!1){let n="http://localhost";typeof window!="undefined"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),$t(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:zi(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}var Mu,d1=class{constructor(e){if(CA(this,Mu,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(Wg(this,Mu).has(e))return Wg(this,Mu).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){Wg(this,Mu).set(e,t)}};Mu=new WeakMap;var RA=new Set(["lazy","caseSensitive","path","id","index","children"]);function MA(e){return RA.has(e)}var PA=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function LA(e){return PA.has(e)}function zA(e){return e.index===!0}function Yu(e,t,n=[],s={},a=!1){return e.map((o,c)=>{let d=[...n,String(c)],f=typeof o.id=="string"?o.id:d.join("-");if($t(o.index!==!0||!o.children,"Cannot specify children on an index route"),$t(a||!s[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),zA(o)){let h=oe(z(z({},o),t(o)),{id:f});return s[f]=h,h}else{let h=oe(z(z({},o),t(o)),{id:f,children:void 0});return s[f]=h,o.children&&(h.children=Yu(o.children,t,d,s,a)),h}})}function Ci(e,t,n="/"){return wh(e,t,n,!1)}function wh(e,t,n,s){let a=typeof t=="string"?qi(t):t,o=kr(a.pathname||"/",n);if(o==null)return null;let c=D2(e);FA(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let h=KA(o);d=XA(c[f],h,s)}return d}function UA(e,t){let{route:n,pathname:s,params:a}=e;return{id:n.id,pathname:s,params:a,data:t[n.id],handle:n.handle}}function D2(e,t=[],n=[],s=""){let a=(o,c,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};f.relativePath.startsWith("/")&&($t(f.relativePath.startsWith(s),`Absolute route path "${f.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(s.length));let h=ha([s,f.relativePath]),p=n.concat(f);o.children&&o.children.length>0&&($t(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),D2(o.children,t,p,h)),!(o.path==null&&!o.index)&&t.push({path:h,score:WA(h,o.index),routesMeta:p})};return e.forEach((o,c)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))a(o,c);else for(let f of O2(o.path))a(o,c,f)}),t}function O2(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(s.length===0)return a?[o,""]:[o];let c=O2(s.join("/")),d=[];return d.push(...c.map(f=>f===""?o:[o,f].join("/"))),a&&d.push(...c),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function FA(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:YA(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var BA=/^:[\w-]+$/,$A=3,HA=2,VA=1,IA=10,qA=-2,f1=e=>e==="*";function WA(e,t){let n=e.split("/"),s=n.length;return n.some(f1)&&(s+=qA),t&&(s+=HA),n.filter(a=>!f1(a)).reduce((a,o)=>a+(BA.test(o)?$A:o===""?VA:IA),s)}function YA(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function XA(e,t,n=!1){let{routesMeta:s}=e,a={},o="/",c=[];for(let d=0;d<s.length;++d){let f=s[d],h=d===s.length-1,p=o==="/"?t:t.slice(o.length)||"/",g=Ph({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),y=f.route;if(!g&&h&&n&&!s[s.length-1].route.index&&(g=Ph({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(a,g.params),c.push({params:a,pathname:ha([o,g.pathname]),pathnameBase:eR(ha([o,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(o=ha([o,g.pathnameBase]))}return c}function Ph(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=GA(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((h,{paramName:p,isOptional:g},y)=>{if(p==="*"){let j=d[y]||"";c=o.slice(0,o.length-j.length).replace(/(.)\/+$/,"$1")}const b=d[y];return g&&!b?h[p]=void 0:h[p]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:c,pattern:e}}function GA(e,t=!1,n=!0){Yn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(s.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function KA(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Yn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function kr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function QA({basename:e,pathname:t}){return t==="/"?e:ha([e,t])}function ZA(e,t="/"){let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?qi(e):e;return{pathname:n?n.startsWith("/")?n:JA(n,t):t,search:tR(s),hash:nR(a)}}function JA(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Yg(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function A2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ix(e){let t=A2(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function qx(e,t,n,s=!1){let a;typeof e=="string"?a=qi(e):(a=z({},e),$t(!a.pathname||!a.pathname.includes("?"),Yg("?","pathname","search",a)),$t(!a.pathname||!a.pathname.includes("#"),Yg("#","pathname","hash",a)),$t(!a.search||!a.search.includes("#"),Yg("#","search","hash",a)));let o=e===""||a.pathname==="",c=o?"/":a.pathname,d;if(c==null)d=n;else{let g=t.length-1;if(!s&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),g-=1;a.pathname=y.join("/")}d=g>=0?t[g]:"/"}let f=ZA(a,d),h=c&&c!=="/"&&c.endsWith("/"),p=(o||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var ha=e=>e.join("/").replace(/\/\/+/g,"/"),eR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),tR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,nR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Lh=class{constructor(e,t,n,s=!1){this.status=e,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Xu(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var R2=["POST","PUT","PATCH","DELETE"],sR=new Set(R2),rR=["GET",...R2],aR=new Set(rR),iR=new Set([301,302,303,307,308]),oR=new Set([307,308]),Xg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},lR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},yu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},cR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wx=e=>cR.test(e),uR=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),M2="remix-router-transitions",P2=Symbol("ResetLoaderData");function dR(e){const t=e.window?e.window:typeof window!="undefined"?window:void 0,n=typeof t!="undefined"&&typeof t.document!="undefined"&&typeof t.document.createElement!="undefined";$t(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=e.hydrationRouteProperties||[],a=e.mapRouteProperties||uR,o={},c=Yu(e.routes,a,void 0,o),d,f=e.basename||"/",h=e.dataStrategy||gR,p=z({unstable_middleware:!1},e.future),g=null,y=new Set,b=null,j=null,v=null,S=e.hydrationData!=null,N=Ci(c,e.history.location,f),R=!1,E=null,k;if(N==null&&!e.patchRoutesOnNavigation){let Z=vr(404,{pathname:e.history.location.pathname}),{matches:ie,route:pe}=N1(c);k=!0,N=ie,E={[pe.id]:Z}}else if(N&&!e.hydrationData&&Xe(N,c,e.history.location.pathname).active&&(N=null),N)if(N.some(Z=>Z.route.lazy))k=!1;else if(!N.some(Z=>Z.route.loader))k=!0;else{let Z=e.hydrationData?e.hydrationData.loaderData:null,ie=e.hydrationData?e.hydrationData.errors:null;if(ie){let pe=N.findIndex(_e=>ie[_e.route.id]!==void 0);k=N.slice(0,pe+1).every(_e=>!X0(_e.route,Z,ie))}else k=N.every(pe=>!X0(pe.route,Z,ie))}else{k=!1,N=[];let Z=Xe(null,c,e.history.location.pathname);Z.active&&Z.matches&&(R=!0,N=Z.matches)}let D,C={historyAction:e.history.action,location:e.history.location,matches:N,initialized:k,navigation:Xg,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||E,fetchers:new Map,blockers:new Map},A="POP",P=!1,U,K=!1,$=new Map,G=null,W=!1,ee=!1,Y=new Set,H=new Map,J=0,te=-1,ce=new Map,L=new Set,le=new Map,re=new Map,V=new Set,ne=new Map,xe,me=null;function Ee(){if(g=e.history.listen(({action:Z,location:ie,delta:pe})=>{if(xe){xe(),xe=void 0;return}Yn(ne.size===0||pe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let _e=ks({currentLocation:C.location,nextLocation:ie,historyAction:Z});if(_e&&pe!=null){let Oe=new Promise($e=>{xe=$e});e.history.go(pe*-1),Kn(_e,{state:"blocked",location:ie,proceed(){Kn(_e,{state:"proceeding",proceed:void 0,reset:void 0,location:ie}),Oe.then(()=>e.history.go(pe))},reset(){let $e=new Map(C.blockers);$e.set(_e,yu),Pe({blockers:$e})}});return}return ze(Z,ie)}),n){ER(t,$);let Z=()=>kR(t,$);t.addEventListener("pagehide",Z),G=()=>t.removeEventListener("pagehide",Z)}return C.initialized||ze("POP",C.location,{initialHydration:!0}),D}function De(){g&&g(),G&&G(),y.clear(),U&&U.abort(),C.fetchers.forEach((Z,ie)=>wt(ie)),C.blockers.forEach((Z,ie)=>cs(ie))}function He(Z){return y.add(Z),()=>y.delete(Z)}function Pe(Z,ie={}){Z.matches&&(Z.matches=Z.matches.map(Oe=>{let $e=o[Oe.route.id],Ke=Oe.route;return Ke.element!==$e.element||Ke.errorElement!==$e.errorElement||Ke.hydrateFallbackElement!==$e.hydrateFallbackElement?oe(z({},Oe),{route:$e}):Oe})),C=z(z({},C),Z);let pe=[],_e=[];C.fetchers.forEach((Oe,$e)=>{Oe.state==="idle"&&(V.has($e)?pe.push($e):_e.push($e))}),V.forEach(Oe=>{!C.fetchers.has(Oe)&&!H.has(Oe)&&pe.push(Oe)}),[...y].forEach(Oe=>Oe(C,{deletedFetchers:pe,viewTransitionOpts:ie.viewTransitionOpts,flushSync:ie.flushSync===!0})),pe.forEach(Oe=>wt(Oe)),_e.forEach(Oe=>C.fetchers.delete(Oe))}function rt(Z,ie,{flushSync:pe}={}){var it,vt;let _e=C.actionData!=null&&C.navigation.formMethod!=null&&Vs(C.navigation.formMethod)&&C.navigation.state==="loading"&&((it=Z.state)==null?void 0:it._isRedirect)!==!0,Oe;ie.actionData?Object.keys(ie.actionData).length>0?Oe=ie.actionData:Oe=null:_e?Oe=C.actionData:Oe=null;let $e=ie.loaderData?j1(C.loaderData,ie.loaderData,ie.matches||[],ie.errors):C.loaderData,Ke=C.blockers;Ke.size>0&&(Ke=new Map(Ke),Ke.forEach((kt,fn)=>Ke.set(fn,yu)));let tt=W?!1:Qt(Z,ie.matches||C.matches),dt=P===!0||C.navigation.formMethod!=null&&Vs(C.navigation.formMethod)&&((vt=Z.state)==null?void 0:vt._isRedirect)!==!0;d&&(c=d,d=void 0),W||A==="POP"||(A==="PUSH"?e.history.push(Z,Z.state):A==="REPLACE"&&e.history.replace(Z,Z.state));let Ct;if(A==="POP"){let kt=$.get(C.location.pathname);kt&&kt.has(Z.pathname)?Ct={currentLocation:C.location,nextLocation:Z}:$.has(Z.pathname)&&(Ct={currentLocation:Z,nextLocation:C.location})}else if(K){let kt=$.get(C.location.pathname);kt?kt.add(Z.pathname):(kt=new Set([Z.pathname]),$.set(C.location.pathname,kt)),Ct={currentLocation:C.location,nextLocation:Z}}Pe(oe(z({},ie),{actionData:Oe,loaderData:$e,historyAction:A,location:Z,initialized:!0,navigation:Xg,revalidation:"idle",restoreScrollPosition:tt,preventScrollReset:dt,blockers:Ke}),{viewTransitionOpts:Ct,flushSync:pe===!0}),A="POP",P=!1,K=!1,W=!1,ee=!1,me==null||me.resolve(),me=null}function Ge(Z,ie){return ve(this,null,function*(){if(typeof Z=="number"){e.history.go(Z);return}let pe=Y0(C.location,C.matches,f,Z,ie==null?void 0:ie.fromRouteId,ie==null?void 0:ie.relative),{path:_e,submission:Oe,error:$e}=h1(!1,pe,ie),Ke=C.location,tt=Wu(C.location,_e,ie&&ie.state);tt=z(z({},tt),e.history.encodeLocation(tt));let dt=ie&&ie.replace!=null?ie.replace:void 0,Ct="PUSH";dt===!0?Ct="REPLACE":dt===!1||Oe!=null&&Vs(Oe.formMethod)&&Oe.formAction===C.location.pathname+C.location.search&&(Ct="REPLACE");let it=ie&&"preventScrollReset"in ie?ie.preventScrollReset===!0:void 0,vt=(ie&&ie.flushSync)===!0,kt=ks({currentLocation:Ke,nextLocation:tt,historyAction:Ct});if(kt){Kn(kt,{state:"blocked",location:tt,proceed(){Kn(kt,{state:"proceeding",proceed:void 0,reset:void 0,location:tt}),Ge(Z,ie)},reset(){let fn=new Map(C.blockers);fn.set(kt,yu),Pe({blockers:fn})}});return}yield ze(Ct,tt,{submission:Oe,pendingError:$e,preventScrollReset:it,replace:ie&&ie.replace,enableViewTransition:ie&&ie.viewTransition,flushSync:vt})})}function pt(){me||(me=CR()),Ae(),Pe({revalidation:"loading"});let Z=me.promise;return C.navigation.state==="submitting"?Z:C.navigation.state==="idle"?(ze(C.historyAction,C.location,{startUninterruptedRevalidation:!0}),Z):(ze(A||C.historyAction,C.navigation.location,{overrideNavigation:C.navigation,enableViewTransition:K===!0}),Z)}function ze(Z,ie,pe){return ve(this,null,function*(){U&&U.abort(),U=null,A=Z,W=(pe&&pe.startUninterruptedRevalidation)===!0,St(C.location,C.matches),P=(pe&&pe.preventScrollReset)===!0,K=(pe&&pe.enableViewTransition)===!0;let _e=d||c,Oe=pe&&pe.overrideNavigation,$e=pe!=null&&pe.initialHydration&&C.matches&&C.matches.length>0&&!R?C.matches:Ci(_e,ie,f),Ke=(pe&&pe.flushSync)===!0;if($e&&C.initialized&&!ee&&jR(C.location,ie)&&!(pe&&pe.submission&&Vs(pe.submission.formMethod))){rt(ie,{matches:$e},{flushSync:Ke});return}let tt=Xe($e,_e,ie.pathname);if(tt.active&&tt.matches&&($e=tt.matches),!$e){let{error:rn,notFoundMatches:ot,route:Tt}=Ye(ie.pathname);rt(ie,{matches:ot,loaderData:{},errors:{[Tt.id]:rn}},{flushSync:Ke});return}U=new AbortController;let dt=Vl(e.history,ie,U.signal,pe&&pe.submission),Ct=new d1(e.unstable_getContext?yield e.unstable_getContext():void 0),it;if(pe&&pe.pendingError)it=[Eo($e).route.id,{type:"error",error:pe.pendingError}];else if(pe&&pe.submission&&Vs(pe.submission.formMethod)){let rn=yield Nt(dt,ie,pe.submission,$e,Ct,tt.active,pe&&pe.initialHydration===!0,{replace:pe.replace,flushSync:Ke});if(rn.shortCircuited)return;if(rn.pendingActionResult){let[ot,Tt]=rn.pendingActionResult;if(nr(Tt)&&Xu(Tt.error)&&Tt.error.status===404){U=null,rt(ie,{matches:rn.matches,loaderData:{},errors:{[ot]:Tt.error}});return}}$e=rn.matches||$e,it=rn.pendingActionResult,Oe=Gg(ie,pe.submission),Ke=!1,tt.active=!1,dt=Vl(e.history,dt.url,dt.signal)}let{shortCircuited:vt,matches:kt,loaderData:fn,errors:Dn}=yield at(dt,ie,$e,Ct,tt.active,Oe,pe&&pe.submission,pe&&pe.fetcherSubmission,pe&&pe.replace,pe&&pe.initialHydration===!0,Ke,it);vt||(U=null,rt(ie,oe(z({matches:kt||$e},_1(it)),{loaderData:fn,errors:Dn})))})}function Nt(dt,Ct,it,vt,kt,fn,Dn){return ve(this,arguments,function*(Z,ie,pe,_e,Oe,$e,Ke,tt={}){Ae();let rn=SR(ie,pe);if(Pe({navigation:rn},{flushSync:tt.flushSync===!0}),$e){let Yt=yield jt(_e,ie.pathname,Z.signal);if(Yt.type==="aborted")return{shortCircuited:!0};if(Yt.type==="error"){let wn=Eo(Yt.partialMatches).route.id;return{matches:Yt.partialMatches,pendingActionResult:[wn,{type:"error",error:Yt.error}]}}else if(Yt.matches)_e=Yt.matches;else{let{notFoundMatches:wn,error:On,route:Qn}=Ye(ie.pathname);return{matches:wn,pendingActionResult:[Qn.id,{type:"error",error:On}]}}}let ot,Tt=jh(_e,ie);if(!Tt.route.action&&!Tt.route.lazy)ot={type:"error",error:vr(405,{method:Z.method,pathname:ie.pathname,routeId:Tt.route.id})};else{let Yt=Yl(a,o,Z,_e,Tt,Ke?[]:s,Oe),wn=yield Ne(Z,Yt,Oe,null);if(ot=wn[Tt.route.id],!ot){for(let On of _e)if(wn[On.route.id]){ot=wn[On.route.id];break}}if(Z.signal.aborted)return{shortCircuited:!0}}if(Ao(ot)){let Yt;return tt&&tt.replace!=null?Yt=tt.replace:Yt=b1(ot.response.headers.get("Location"),new URL(Z.url),f)===C.location.pathname+C.location.search,yield q(Z,ot,!0,{submission:pe,replace:Yt}),{shortCircuited:!0}}if(nr(ot)){let Yt=Eo(_e,Tt.route.id);return(tt&&tt.replace)!==!0&&(A="PUSH"),{matches:_e,pendingActionResult:[Yt.route.id,ot,Tt.route.id]}}return{matches:_e,pendingActionResult:[Tt.route.id,ot]}})}function at(Z,ie,pe,_e,Oe,$e,Ke,tt,dt,Ct,it,vt){return ve(this,null,function*(){let kt=$e||Gg(ie,Ke),fn=Ke||tt||T1(kt),Dn=!W&&!Ct;if(Oe){if(Dn){let An=Me(vt);Pe(z({navigation:kt},An!==void 0?{actionData:An}:{}),{flushSync:it})}let At=yield jt(pe,ie.pathname,Z.signal);if(At.type==="aborted")return{shortCircuited:!0};if(At.type==="error"){let An=Eo(At.partialMatches).route.id;return{matches:At.partialMatches,loaderData:{},errors:{[An]:At.error}}}else if(At.matches)pe=At.matches;else{let{error:An,notFoundMatches:wa,route:us}=Ye(ie.pathname);return{matches:wa,loaderData:{},errors:{[us.id]:An}}}}let rn=d||c,{dsMatches:ot,revalidatingFetchers:Tt}=m1(Z,_e,a,o,e.history,C,pe,fn,ie,Ct?[]:s,Ct===!0,ee,Y,V,le,L,rn,f,e.patchRoutesOnNavigation!=null,vt);if(te=++J,!e.dataStrategy&&!ot.some(At=>At.shouldLoad)&&Tt.length===0){let At=vn();return rt(ie,z(z({matches:pe,loaderData:{},errors:vt&&nr(vt[1])?{[vt[0]]:vt[1].error}:null},_1(vt)),At?{fetchers:new Map(C.fetchers)}:{}),{flushSync:it}),{shortCircuited:!0}}if(Dn){let At={};if(!Oe){At.navigation=kt;let An=Me(vt);An!==void 0&&(At.actionData=An)}Tt.length>0&&(At.fetchers=st(Tt)),Pe(At,{flushSync:it})}Tt.forEach(At=>{Jt(At.key),At.controller&&H.set(At.key,At.controller)});let Yt=()=>Tt.forEach(At=>Jt(At.key));U&&U.signal.addEventListener("abort",Yt);let{loaderResults:wn,fetcherResults:On}=yield Re(ot,Tt,Z,_e);if(Z.signal.aborted)return{shortCircuited:!0};U&&U.signal.removeEventListener("abort",Yt),Tt.forEach(At=>H.delete(At.key));let Qn=Lf(wn);if(Qn)return yield q(Z,Qn.result,!0,{replace:dt}),{shortCircuited:!0};if(Qn=Lf(On),Qn)return L.add(Qn.key),yield q(Z,Qn.result,!0,{replace:dt}),{shortCircuited:!0};let{loaderData:ss,errors:lr}=w1(C,pe,wn,vt,Tt,On);Ct&&C.errors&&(lr=z(z({},C.errors),lr));let cr=vn(),vs=Xn(te),ur=cr||vs||Tt.length>0;return z({matches:pe,loaderData:ss,errors:lr},ur?{fetchers:new Map(C.fetchers)}:{})})}function Me(Z){if(Z&&!nr(Z[1]))return{[Z[0]]:Z[1].data};if(C.actionData)return Object.keys(C.actionData).length===0?null:C.actionData}function st(Z){return Z.forEach(ie=>{let pe=C.fetchers.get(ie.key),_e=bu(void 0,pe?pe.data:void 0);C.fetchers.set(ie.key,_e)}),new Map(C.fetchers)}function ht(Z,ie,pe,_e){return ve(this,null,function*(){Jt(Z);let Oe=(_e&&_e.flushSync)===!0,$e=d||c,Ke=Y0(C.location,C.matches,f,pe,ie,_e==null?void 0:_e.relative),tt=Ci($e,Ke,f),dt=Xe(tt,$e,Ke);if(dt.active&&dt.matches&&(tt=dt.matches),!tt){qe(Z,ie,vr(404,{pathname:Ke}),{flushSync:Oe});return}let{path:Ct,submission:it,error:vt}=h1(!0,Ke,_e);if(vt){qe(Z,ie,vt,{flushSync:Oe});return}let kt=new d1(e.unstable_getContext?yield e.unstable_getContext():void 0),fn=(_e&&_e.preventScrollReset)===!0;if(it&&Vs(it.formMethod)){yield X(Z,ie,Ct,tt,kt,dt.active,Oe,fn,it);return}le.set(Z,{routeId:ie,path:Ct}),yield fe(Z,ie,Ct,tt,kt,dt.active,Oe,fn,it)})}function X(Z,ie,pe,_e,Oe,$e,Ke,tt,dt){return ve(this,null,function*(){Ae(),le.delete(Z);let Ct=C.fetchers.get(Z);Be(Z,TR(dt,Ct),{flushSync:Ke});let it=new AbortController,vt=Vl(e.history,pe,it.signal,dt);if($e){let mn=yield jt(_e,new URL(vt.url).pathname,vt.signal,Z);if(mn.type==="aborted")return;if(mn.type==="error"){qe(Z,ie,mn.error,{flushSync:Ke});return}else if(mn.matches)_e=mn.matches;else{qe(Z,ie,vr(404,{pathname:pe}),{flushSync:Ke});return}}let kt=jh(_e,pe);if(!kt.route.action&&!kt.route.lazy){let mn=vr(405,{method:dt.formMethod,pathname:pe,routeId:ie});qe(Z,ie,mn,{flushSync:Ke});return}H.set(Z,it);let fn=J,Dn=Yl(a,o,vt,_e,kt,s,Oe),ot=(yield Ne(vt,Dn,Oe,Z))[kt.route.id];if(vt.signal.aborted){H.get(Z)===it&&H.delete(Z);return}if(V.has(Z)){if(Ao(ot)||nr(ot)){Be(Z,Ti(void 0));return}}else{if(Ao(ot))if(H.delete(Z),te>fn){Be(Z,Ti(void 0));return}else return L.add(Z),Be(Z,bu(dt)),q(vt,ot,!1,{fetcherSubmission:dt,preventScrollReset:tt});if(nr(ot)){qe(Z,ie,ot.error);return}}let Tt=C.navigation.location||C.location,Yt=Vl(e.history,Tt,it.signal),wn=d||c,On=C.navigation.state!=="idle"?Ci(wn,C.navigation.location,f):C.matches;$t(On,"Didn't find any matches after fetcher action");let Qn=++J;ce.set(Z,Qn);let ss=bu(dt,ot.data);C.fetchers.set(Z,ss);let{dsMatches:lr,revalidatingFetchers:cr}=m1(Yt,Oe,a,o,e.history,C,On,dt,Tt,s,!1,ee,Y,V,le,L,wn,f,e.patchRoutesOnNavigation!=null,[kt.route.id,ot]);cr.filter(mn=>mn.key!==Z).forEach(mn=>{let Ar=mn.key,Go=C.fetchers.get(Ar),Ko=bu(void 0,Go?Go.data:void 0);C.fetchers.set(Ar,Ko),Jt(Ar),mn.controller&&H.set(Ar,mn.controller)}),Pe({fetchers:new Map(C.fetchers)});let vs=()=>cr.forEach(mn=>Jt(mn.key));it.signal.addEventListener("abort",vs);let{loaderResults:ur,fetcherResults:At}=yield Re(lr,cr,Yt,Oe);if(it.signal.aborted)return;if(it.signal.removeEventListener("abort",vs),ce.delete(Z),H.delete(Z),cr.forEach(mn=>H.delete(mn.key)),C.fetchers.has(Z)){let mn=Ti(ot.data);C.fetchers.set(Z,mn)}let An=Lf(ur);if(An)return q(Yt,An.result,!1,{preventScrollReset:tt});if(An=Lf(At),An)return L.add(An.key),q(Yt,An.result,!1,{preventScrollReset:tt});let{loaderData:wa,errors:us}=w1(C,On,ur,void 0,cr,At);Xn(Qn),C.navigation.state==="loading"&&Qn>te?($t(A,"Expected pending action"),U&&U.abort(),rt(C.navigation.location,{matches:On,loaderData:wa,errors:us,fetchers:new Map(C.fetchers)})):(Pe({errors:us,loaderData:j1(C.loaderData,wa,On,us),fetchers:new Map(C.fetchers)}),ee=!1)})}function fe(Z,ie,pe,_e,Oe,$e,Ke,tt,dt){return ve(this,null,function*(){let Ct=C.fetchers.get(Z);Be(Z,bu(dt,Ct?Ct.data:void 0),{flushSync:Ke});let it=new AbortController,vt=Vl(e.history,pe,it.signal);if($e){let Tt=yield jt(_e,new URL(vt.url).pathname,vt.signal,Z);if(Tt.type==="aborted")return;if(Tt.type==="error"){qe(Z,ie,Tt.error,{flushSync:Ke});return}else if(Tt.matches)_e=Tt.matches;else{qe(Z,ie,vr(404,{pathname:pe}),{flushSync:Ke});return}}let kt=jh(_e,pe);H.set(Z,it);let fn=J,Dn=Yl(a,o,vt,_e,kt,s,Oe),ot=(yield Ne(vt,Dn,Oe,Z))[kt.route.id];if(H.get(Z)===it&&H.delete(Z),!vt.signal.aborted){if(V.has(Z)){Be(Z,Ti(void 0));return}if(Ao(ot))if(te>fn){Be(Z,Ti(void 0));return}else{L.add(Z),yield q(vt,ot,!1,{preventScrollReset:tt});return}if(nr(ot)){qe(Z,ie,ot.error);return}Be(Z,Ti(ot.data))}})}function q(tt,dt,Ct){return ve(this,arguments,function*(Z,ie,pe,{submission:_e,fetcherSubmission:Oe,preventScrollReset:$e,replace:Ke}={}){ie.response.headers.has("X-Remix-Revalidate")&&(ee=!0);let it=ie.response.headers.get("Location");$t(it,"Expected a Location header on the redirect Response"),it=b1(it,new URL(Z.url),f);let vt=Wu(C.location,it,{_isRedirect:!0});if(n){let Tt=!1;if(ie.response.headers.has("X-Remix-Reload-Document"))Tt=!0;else if(Wx(it)){const Yt=C2(it,!0);Tt=Yt.origin!==t.location.origin||kr(Yt.pathname,f)==null}if(Tt){Ke?t.location.replace(it):t.location.assign(it);return}}U=null;let kt=Ke===!0||ie.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:fn,formAction:Dn,formEncType:rn}=C.navigation;!_e&&!Oe&&fn&&Dn&&rn&&(_e=T1(C.navigation));let ot=_e||Oe;if(oR.has(ie.response.status)&&ot&&Vs(ot.formMethod))yield ze(kt,vt,{submission:oe(z({},ot),{formAction:it}),preventScrollReset:$e||P,enableViewTransition:pe?K:void 0});else{let Tt=Gg(vt,_e);yield ze(kt,vt,{overrideNavigation:Tt,fetcherSubmission:Oe,preventScrollReset:$e||P,enableViewTransition:pe?K:void 0})}})}function Ne(Z,ie,pe,_e){return ve(this,null,function*(){let Oe,$e={};try{Oe=yield xR(h,Z,ie,_e,pe,!1)}catch(Ke){return ie.filter(tt=>tt.shouldLoad).forEach(tt=>{$e[tt.route.id]={type:"error",error:Ke}}),$e}if(Z.signal.aborted)return $e;for(let[Ke,tt]of Object.entries(Oe))if(_R(tt)){let dt=tt.result;$e[Ke]={type:"redirect",response:vR(dt,Z,Ke,ie,f)}}else $e[Ke]=yield bR(tt);return $e})}function Re(Z,ie,pe,_e){return ve(this,null,function*(){let Oe=Ne(pe,Z,_e,null),$e=Promise.all(ie.map(dt=>ve(null,null,function*(){if(dt.matches&&dt.match&&dt.request&&dt.controller){let it=(yield Ne(dt.request,dt.matches,_e,dt.key))[dt.match.route.id];return{[dt.key]:it}}else return Promise.resolve({[dt.key]:{type:"error",error:vr(404,{pathname:dt.path})}})}))),Ke=yield Oe,tt=(yield $e).reduce((dt,Ct)=>Object.assign(dt,Ct),{});return{loaderResults:Ke,fetcherResults:tt}})}function Ae(){ee=!0,le.forEach((Z,ie)=>{H.has(ie)&&Y.add(ie),Jt(ie)})}function Be(Z,ie,pe={}){C.fetchers.set(Z,ie),Pe({fetchers:new Map(C.fetchers)},{flushSync:(pe&&pe.flushSync)===!0})}function qe(Z,ie,pe,_e={}){let Oe=Eo(C.matches,ie);wt(Z),Pe({errors:{[Oe.route.id]:pe},fetchers:new Map(C.fetchers)},{flushSync:(_e&&_e.flushSync)===!0})}function et(Z){return re.set(Z,(re.get(Z)||0)+1),V.has(Z)&&V.delete(Z),C.fetchers.get(Z)||lR}function wt(Z){let ie=C.fetchers.get(Z);H.has(Z)&&!(ie&&ie.state==="loading"&&ce.has(Z))&&Jt(Z),le.delete(Z),ce.delete(Z),L.delete(Z),V.delete(Z),Y.delete(Z),C.fetchers.delete(Z)}function Nn(Z){let ie=(re.get(Z)||0)-1;ie<=0?(re.delete(Z),V.add(Z)):re.set(Z,ie),Pe({fetchers:new Map(C.fetchers)})}function Jt(Z){let ie=H.get(Z);ie&&(ie.abort(),H.delete(Z))}function dn(Z){for(let ie of Z){let pe=et(ie),_e=Ti(pe.data);C.fetchers.set(ie,_e)}}function vn(){let Z=[],ie=!1;for(let pe of L){let _e=C.fetchers.get(pe);$t(_e,`Expected fetcher: ${pe}`),_e.state==="loading"&&(L.delete(pe),Z.push(pe),ie=!0)}return dn(Z),ie}function Xn(Z){let ie=[];for(let[pe,_e]of ce)if(_e<Z){let Oe=C.fetchers.get(pe);$t(Oe,`Expected fetcher: ${pe}`),Oe.state==="loading"&&(Jt(pe),ce.delete(pe),ie.push(pe))}return dn(ie),ie.length>0}function Gn(Z,ie){let pe=C.blockers.get(Z)||yu;return ne.get(Z)!==ie&&ne.set(Z,ie),pe}function cs(Z){C.blockers.delete(Z),ne.delete(Z)}function Kn(Z,ie){let pe=C.blockers.get(Z)||yu;$t(pe.state==="unblocked"&&ie.state==="blocked"||pe.state==="blocked"&&ie.state==="blocked"||pe.state==="blocked"&&ie.state==="proceeding"||pe.state==="blocked"&&ie.state==="unblocked"||pe.state==="proceeding"&&ie.state==="unblocked",`Invalid blocker state transition: ${pe.state} -> ${ie.state}`);let _e=new Map(C.blockers);_e.set(Z,ie),Pe({blockers:_e})}function ks({currentLocation:Z,nextLocation:ie,historyAction:pe}){if(ne.size===0)return;ne.size>1&&Yn(!1,"A router only supports one blocker at a time");let _e=Array.from(ne.entries()),[Oe,$e]=_e[_e.length-1],Ke=C.blockers.get(Oe);if(!(Ke&&Ke.state==="proceeding")&&$e({currentLocation:Z,nextLocation:ie,historyAction:pe}))return Oe}function Ye(Z){let ie=vr(404,{pathname:Z}),pe=d||c,{matches:_e,route:Oe}=N1(pe);return{notFoundMatches:_e,route:Oe,error:ie}}function Rt(Z,ie,pe){if(b=Z,v=ie,j=pe||null,!S&&C.navigation===Xg){S=!0;let _e=Qt(C.location,C.matches);_e!=null&&Pe({restoreScrollPosition:_e})}return()=>{b=null,v=null,j=null}}function Ut(Z,ie){return j&&j(Z,ie.map(_e=>UA(_e,C.loaderData)))||Z.key}function St(Z,ie){if(b&&v){let pe=Ut(Z,ie);b[pe]=v()}}function Qt(Z,ie){if(b){let pe=Ut(Z,ie),_e=b[pe];if(typeof _e=="number")return _e}return null}function Xe(Z,ie,pe){if(e.patchRoutesOnNavigation)if(Z){if(Object.keys(Z[0].params).length>0)return{active:!0,matches:wh(ie,pe,f,!0)}}else return{active:!0,matches:wh(ie,pe,f,!0)||[]};return{active:!1,matches:null}}function jt(Z,ie,pe,_e){return ve(this,null,function*(){if(!e.patchRoutesOnNavigation)return{type:"success",matches:Z};let Oe=Z;for(;;){let $e=d==null,Ke=d||c,tt=o;try{yield e.patchRoutesOnNavigation({signal:pe,path:ie,matches:Oe,fetcherKey:_e,patch:(it,vt)=>{pe.aborted||p1(it,vt,Ke,tt,a,!1)}})}catch(it){return{type:"error",error:it,partialMatches:Oe}}finally{$e&&!pe.aborted&&(c=[...c])}if(pe.aborted)return{type:"aborted"};let dt=Ci(Ke,ie,f);if(dt)return{type:"success",matches:dt};let Ct=wh(Ke,ie,f,!0);if(!Ct||Oe.length===Ct.length&&Oe.every((it,vt)=>it.route.id===Ct[vt].route.id))return{type:"success",matches:null};Oe=Ct}})}function Vt(Z){o={},d=Yu(Z,a,void 0,o)}function Wt(Z,ie,pe=!1){let _e=d==null;p1(Z,ie,d||c,o,a,pe),_e&&(c=[...c],Pe({}))}return D={get basename(){return f},get future(){return p},get state(){return C},get routes(){return c},get window(){return t},initialize:Ee,subscribe:He,enableScrollRestoration:Rt,navigate:Ge,fetch:ht,revalidate:pt,createHref:Z=>e.history.createHref(Z),encodeLocation:Z=>e.history.encodeLocation(Z),getFetcher:et,deleteFetcher:Nn,dispose:De,getBlocker:Gn,deleteBlocker:cs,patchRoutes:Wt,_internalFetchControllers:H,_internalSetRoutes:Vt,_internalSetStateDoNotUseOrYouWillBreakYourApp(Z){Pe(Z)}},D}function fR(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Y0(e,t,n,s,a,o){let c,d;if(a){c=[];for(let h of t)if(c.push(h),h.route.id===a){d=h;break}}else c=t,d=t[t.length-1];let f=qx(s||".",Ix(c),kr(e.pathname,n)||e.pathname,o==="path");if(s==null&&(f.search=e.search,f.hash=e.hash),(s==null||s===""||s===".")&&d){let h=Yx(f.search);if(d.route.index&&!h)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&h){let p=new URLSearchParams(f.search),g=p.getAll("index");p.delete("index"),g.filter(b=>b).forEach(b=>p.append("index",b));let y=p.toString();f.search=y?`?${y}`:""}}return n!=="/"&&(f.pathname=QA({basename:n,pathname:f.pathname})),zi(f)}function h1(e,t,n){if(!n||!fR(n))return{path:t};if(n.formMethod&&!NR(n.formMethod))return{path:t,error:vr(405,{method:n.formMethod})};let s=()=>({path:t,error:vr(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),c=$2(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Vs(o))return s();let g=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((y,[b,j])=>`${y}${b}=${j}
`,""):String(n.body);return{path:t,submission:{formMethod:o,formAction:c,formEncType:n.formEncType,formData:void 0,json:void 0,text:g}}}else if(n.formEncType==="application/json"){if(!Vs(o))return s();try{let g=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:o,formAction:c,formEncType:n.formEncType,formData:void 0,json:g,text:void 0}}}catch(g){return s()}}}$t(typeof FormData=="function","FormData is not available in this environment");let d,f;if(n.formData)d=K0(n.formData),f=n.formData;else if(n.body instanceof FormData)d=K0(n.body),f=n.body;else if(n.body instanceof URLSearchParams)d=n.body,f=v1(d);else if(n.body==null)d=new URLSearchParams,f=new FormData;else try{d=new URLSearchParams(n.body),f=v1(d)}catch(g){return s()}let h={formMethod:o,formAction:c,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Vs(h.formMethod))return{path:t,submission:h};let p=qi(t);return e&&p.search&&Yx(p.search)&&d.append("index",""),p.search=`?${d}`,{path:zi(p),submission:h}}function m1(e,t,n,s,a,o,c,d,f,h,p,g,y,b,j,v,S,N,R,E){var W;let k=E?nr(E[1])?E[1].error:E[1].data:void 0,D=a.createURL(o.location),C=a.createURL(f),A;if(p&&o.errors){let ee=Object.keys(o.errors)[0];A=c.findIndex(Y=>Y.route.id===ee)}else if(E&&nr(E[1])){let ee=E[0];A=c.findIndex(Y=>Y.route.id===ee)-1}let P=E?E[1].statusCode:void 0,U=P&&P>=400,K=oe(z({currentUrl:D,currentParams:((W=o.matches[0])==null?void 0:W.params)||{},nextUrl:C,nextParams:c[0].params},d),{actionResult:k,actionStatus:P}),$=c.map((ee,Y)=>{let{route:H}=ee,J=null;if(A!=null&&Y>A?J=!1:H.lazy?J=!0:H.loader==null?J=!1:p?J=X0(H,o.loaderData,o.errors):hR(o.loaderData,o.matches[Y],ee)&&(J=!0),J!==null)return G0(n,s,e,ee,h,t,J);let te=U?!1:g||D.pathname+D.search===C.pathname+C.search||D.search!==C.search||mR(o.matches[Y],ee),ce=oe(z({},K),{defaultShouldRevalidate:te}),L=zh(ee,ce);return G0(n,s,e,ee,h,t,L,ce)}),G=[];return j.forEach((ee,Y)=>{if(p||!c.some(V=>V.route.id===ee.routeId)||b.has(Y))return;let H=o.fetchers.get(Y),J=H&&H.state!=="idle"&&H.data===void 0,te=Ci(S,ee.path,N);if(!te){if(R&&J)return;G.push({key:Y,routeId:ee.routeId,path:ee.path,matches:null,match:null,request:null,controller:null});return}if(v.has(Y))return;let ce=jh(te,ee.path),L=new AbortController,le=Vl(a,ee.path,L.signal),re=null;if(y.has(Y))y.delete(Y),re=Yl(n,s,le,te,ce,h,t);else if(J)g&&(re=Yl(n,s,le,te,ce,h,t));else{let V=oe(z({},K),{defaultShouldRevalidate:U?!1:g});zh(ce,V)&&(re=Yl(n,s,le,te,ce,h,t,V))}re&&G.push({key:Y,routeId:ee.routeId,path:ee.path,matches:re,match:ce,request:le,controller:L})}),{dsMatches:$,revalidatingFetchers:G}}function X0(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let s=t!=null&&e.id in t,a=n!=null&&n[e.id]!==void 0;return!s&&a?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!s&&!a}function hR(e,t,n){let s=!t||n.route.id!==t.route.id,a=!e.hasOwnProperty(n.route.id);return s||a}function mR(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function zh(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function p1(e,t,n,s,a,o){let c;if(e){let h=s[e];$t(h,`No route found to patch children into: routeId = ${e}`),h.children||(h.children=[]),c=h.children}else c=n;let d=[],f=[];if(t.forEach(h=>{let p=c.find(g=>L2(h,g));p?f.push({existingRoute:p,newRoute:h}):d.push(h)}),d.length>0){let h=Yu(d,a,[e||"_","patch",String((c==null?void 0:c.length)||"0")],s);c.push(...h)}if(o&&f.length>0)for(let h=0;h<f.length;h++){let{existingRoute:p,newRoute:g}=f[h],y=p,[b]=Yu([g],a,[],{},!0);Object.assign(y,{element:b.element?b.element:y.element,errorElement:b.errorElement?b.errorElement:y.errorElement,hydrateFallbackElement:b.hydrateFallbackElement?b.hydrateFallbackElement:y.hydrateFallbackElement})}}function L2(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,s)=>{var a;return(a=t.children)==null?void 0:a.some(o=>L2(n,o))}):!1}var g1=new WeakMap,z2=({key:e,route:t,manifest:n,mapRouteProperties:s})=>{let a=n[t.id];if($t(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let o=a.lazy[e];if(!o)return;let c=g1.get(a);c||(c={},g1.set(a,c));let d=c[e];if(d)return d;let f=ve(null,null,function*(){let h=MA(e),g=a[e]!==void 0&&e!=="hasErrorBoundary";if(h)Yn(!h,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),c[e]=Promise.resolve();else if(g)Yn(!1,`Route "${a.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let y=yield o();y!=null&&(Object.assign(a,{[e]:y}),Object.assign(a,s(a)))}typeof a.lazy=="object"&&(a.lazy[e]=void 0,Object.values(a.lazy).every(y=>y===void 0)&&(a.lazy=void 0))});return c[e]=f,f},x1=new WeakMap;function pR(e,t,n,s,a){let o=n[e.id];if($t(o,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let p=x1.get(o);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let g=ve(null,null,function*(){$t(typeof e.lazy=="function","No lazy route function found");let y=yield e.lazy(),b={};for(let j in y){let v=y[j];if(v===void 0)continue;let S=LA(j),R=o[j]!==void 0&&j!=="hasErrorBoundary";S?Yn(!S,"Route property "+j+" is not a supported property to be returned from a lazy route function. This property will be ignored."):R?Yn(!R,`Route "${o.id}" has a static property "${j}" defined but its lazy function is also returning a value for this property. The lazy route property "${j}" will be ignored.`):b[j]=v}Object.assign(o,b),Object.assign(o,oe(z({},s(o)),{lazy:void 0}))});return x1.set(o,g),g.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:g}}let c=Object.keys(e.lazy),d=[],f;for(let p of c){if(a&&a.includes(p))continue;let g=z2({key:p,route:e,manifest:n,mapRouteProperties:s});g&&(d.push(g),p===t&&(f=g))}let h=d.length>0?Promise.all(d).then(()=>{}):void 0;return h==null||h.catch(()=>{}),f==null||f.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:f}}function y1(e){return ve(this,null,function*(){let t=e.matches.filter(a=>a.shouldLoad),n={};return(yield Promise.all(t.map(a=>a.resolve()))).forEach((a,o)=>{n[t[o].route.id]=a}),n})}function gR(e){return ve(this,null,function*(){return e.matches.some(t=>t.route.unstable_middleware)?U2(e,!1,()=>y1(e),(t,n)=>({[n]:{type:"error",result:t}})):y1(e)})}function U2(e,t,n,s){return ve(this,null,function*(){let{matches:a,request:o,params:c,context:d}=e,f={handlerResult:void 0};try{let h=a.flatMap(g=>g.route.unstable_middleware?g.route.unstable_middleware.map(y=>[g.route.id,y]):[]),p=yield F2({request:o,params:c,context:d},h,t,f,n);return t?p:f.handlerResult}catch(h){if(!f.middlewareError)throw h;let p=yield s(f.middlewareError.error,f.middlewareError.routeId);return f.handlerResult?Object.assign(f.handlerResult,p):p}})}function F2(e,t,n,s,a,o=0){return ve(this,null,function*(){let{request:c}=e;if(c.signal.aborted)throw c.signal.reason?c.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${c.method} ${c.url}`);let d=t[o];if(!d)return s.handlerResult=yield a(),s.handlerResult;let[f,h]=d,p=!1,g,y=()=>ve(null,null,function*(){if(p)throw new Error("You may only call `next()` once per middleware");p=!0,yield F2(e,t,n,s,a,o+1)});try{let b=yield h({request:e.request,params:e.params,context:e.context},y);return p?b===void 0?g:b:y()}catch(b){throw s.middlewareError?s.middlewareError.error!==b&&(s.middlewareError={routeId:f,error:b}):s.middlewareError={routeId:f,error:b},b}})}function B2(e,t,n,s,a){let o=z2({key:"unstable_middleware",route:s.route,manifest:t,mapRouteProperties:e}),c=pR(s.route,Vs(n.method)?"action":"loader",t,e,a);return{middleware:o,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function G0(e,t,n,s,a,o,c,d=null){let f=!1,h=B2(e,t,n,s,a);return oe(z({},s),{_lazyPromises:h,shouldLoad:c,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(p){return f=!0,d?typeof p=="boolean"?zh(s,oe(z({},d),{defaultShouldRevalidate:p})):zh(s,d):c},resolve(p){return f||c||p&&!Vs(n.method)&&(s.route.lazy||s.route.loader)?yR({request:n,match:s,lazyHandlerPromise:h==null?void 0:h.handler,lazyRoutePromise:h==null?void 0:h.route,handlerOverride:p,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}})}function Yl(e,t,n,s,a,o,c,d=null){return s.map(f=>f.route.id!==a.route.id?oe(z({},f),{shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:B2(e,t,n,f,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}):G0(e,t,n,f,o,c,!0,d))}function xR(e,t,n,s,a,o){return ve(this,null,function*(){n.some(h=>{var p;return(p=h._lazyPromises)==null?void 0:p.middleware})&&(yield Promise.all(n.map(h=>{var p;return(p=h._lazyPromises)==null?void 0:p.middleware})));let c={request:t,params:n[0].params,context:a,matches:n},d=h=>{let p=c;return U2(p,!1,()=>h(oe(z({},p),{fetcherKey:s,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})),(g,y)=>({[y]:{type:"error",result:g}}))},f=yield e(oe(z({},c),{fetcherKey:s,unstable_runClientMiddleware:d}));try{yield Promise.all(n.flatMap(h=>{var p,g;return[(p=h._lazyPromises)==null?void 0:p.handler,(g=h._lazyPromises)==null?void 0:g.route]}))}catch(h){}return f})}function yR(c){return ve(this,arguments,function*({request:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:s,handlerOverride:a,scopedContext:o}){let d,f,h=Vs(e.method),p=h?"action":"loader",g=y=>{let b,j=new Promise((N,R)=>b=R);f=()=>b(),e.signal.addEventListener("abort",f);let v=N=>typeof y!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${t.route.id}]`)):y({request:e,params:t.params,context:o},...N!==void 0?[N]:[]),S=ve(null,null,function*(){try{return{type:"data",result:yield a?a(R=>v(R)):v()}}catch(N){return{type:"error",result:N}}});return Promise.race([S,j])};try{let y=h?t.route.action:t.route.loader;if(n||s)if(y){let b,[j]=yield Promise.all([g(y).catch(v=>{b=v}),n,s]);if(b!==void 0)throw b;d=j}else{yield n;let b=h?t.route.action:t.route.loader;if(b)[d]=yield Promise.all([g(b),s]);else if(p==="action"){let j=new URL(e.url),v=j.pathname+j.search;throw vr(405,{method:e.method,pathname:v,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(y)d=yield g(y);else{let b=new URL(e.url),j=b.pathname+b.search;throw vr(404,{pathname:j})}}catch(y){return{type:"error",result:y}}finally{f&&e.signal.removeEventListener("abort",f)}return d})}function bR(e){return ve(this,null,function*(){var s,a,o,c,d,f;let{result:t,type:n}=e;if(H2(t)){let h;try{let p=t.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?t.body==null?h=null:h=yield t.json():h=yield t.text()}catch(p){return{type:"error",error:p}}return n==="error"?{type:"error",error:new Lh(t.status,t.statusText,h),statusCode:t.status,headers:t.headers}:{type:"data",data:h,statusCode:t.status,headers:t.headers}}return n==="error"?S1(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(s=t.init)==null?void 0:s.status,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Lh(((o=t.init)==null?void 0:o.status)||500,void 0,t.data),statusCode:Xu(t)?t.status:void 0,headers:(c=t.init)!=null&&c.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Xu(t)?t.status:void 0}:S1(t)?{type:"data",data:t.data,statusCode:(d=t.init)==null?void 0:d.status,headers:(f=t.init)!=null&&f.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}})}function vR(e,t,n,s,a){let o=e.headers.get("Location");if($t(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Wx(o)){let c=s.slice(0,s.findIndex(d=>d.route.id===n)+1);o=Y0(new URL(t.url),c,a,o),e.headers.set("Location",o)}return e}function b1(e,t,n){if(Wx(e)){let s=e,a=s.startsWith("//")?new URL(t.protocol+s):new URL(s),o=kr(a.pathname,n)!=null;if(a.origin===t.origin&&o)return a.pathname+a.search+a.hash}return e}function Vl(e,t,n,s){let a=e.createURL($2(t)).toString(),o={signal:n};if(s&&Vs(s.formMethod)){let{formMethod:c,formEncType:d}=s;o.method=c.toUpperCase(),d==="application/json"?(o.headers=new Headers({"Content-Type":d}),o.body=JSON.stringify(s.json)):d==="text/plain"?o.body=s.text:d==="application/x-www-form-urlencoded"&&s.formData?o.body=K0(s.formData):o.body=s.formData}return new Request(a,o)}function K0(e){let t=new URLSearchParams;for(let[n,s]of e.entries())t.append(n,typeof s=="string"?s:s.name);return t}function v1(e){let t=new FormData;for(let[n,s]of e.entries())t.append(n,s);return t}function wR(e,t,n,s=!1,a=!1){let o={},c=null,d,f=!1,h={},p=n&&nr(n[1])?n[1].error:void 0;return e.forEach(g=>{if(!(g.route.id in t))return;let y=g.route.id,b=t[y];if($t(!Ao(b),"Cannot handle redirect results in processLoaderData"),nr(b)){let j=b.error;if(p!==void 0&&(j=p,p=void 0),c=c||{},a)c[y]=j;else{let v=Eo(e,y);c[v.route.id]==null&&(c[v.route.id]=j)}s||(o[y]=P2),f||(f=!0,d=Xu(b.error)?b.error.status:500),b.headers&&(h[y]=b.headers)}else o[y]=b.data,b.statusCode&&b.statusCode!==200&&!f&&(d=b.statusCode),b.headers&&(h[y]=b.headers)}),p!==void 0&&n&&(c={[n[0]]:p},n[2]&&(o[n[2]]=void 0)),{loaderData:o,errors:c,statusCode:d||200,loaderHeaders:h}}function w1(e,t,n,s,a,o){let{loaderData:c,errors:d}=wR(t,n,s);return a.filter(f=>!f.matches||f.matches.some(h=>h.shouldLoad)).forEach(f=>{let{key:h,match:p,controller:g}=f,y=o[h];if($t(y,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(nr(y)){let b=Eo(e.matches,p==null?void 0:p.route.id);d&&d[b.route.id]||(d=oe(z({},d),{[b.route.id]:y.error})),e.fetchers.delete(h)}else if(Ao(y))$t(!1,"Unhandled fetcher revalidation redirect");else{let b=Ti(y.data);e.fetchers.set(h,b)}}),{loaderData:c,errors:d}}function j1(e,t,n,s){let a=Object.entries(t).filter(([,o])=>o!==P2).reduce((o,[c,d])=>(o[c]=d,o),{});for(let o of n){let c=o.route.id;if(!t.hasOwnProperty(c)&&e.hasOwnProperty(c)&&o.route.loader&&(a[c]=e[c]),s&&s.hasOwnProperty(c))break}return a}function _1(e){return e?nr(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Eo(e,t){return(t?e.slice(0,e.findIndex(s=>s.route.id===t)+1):[...e]).reverse().find(s=>s.route.hasErrorBoundary===!0)||e[0]}function N1(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function vr(e,{pathname:t,routeId:n,method:s,type:a,message:o}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return e===400?(c="Bad Request",s&&t&&n?d=`You made a ${s} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:a==="invalid-body"&&(d="Unable to encode submission body")):e===403?(c="Forbidden",d=`Route "${n}" does not match URL "${t}"`):e===404?(c="Not Found",d=`No route matches URL "${t}"`):e===405&&(c="Method Not Allowed",s&&t&&n?d=`You made a ${s.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:s&&(d=`Invalid request method "${s.toUpperCase()}"`)),new Lh(e||500,c,new Error(d),!0)}function Lf(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[s,a]=t[n];if(Ao(a))return{key:s,result:a}}}function $2(e){let t=typeof e=="string"?qi(e):e;return zi(oe(z({},t),{hash:""}))}function jR(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function _R(e){return H2(e.result)&&iR.has(e.result.status)}function nr(e){return e.type==="error"}function Ao(e){return(e&&e.type)==="redirect"}function S1(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function H2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body!="undefined"}function NR(e){return aR.has(e.toUpperCase())}function Vs(e){return sR.has(e.toUpperCase())}function Yx(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function jh(e,t){let n=typeof t=="string"?qi(t).search:t.search;if(e[e.length-1].route.index&&Yx(n||""))return e[e.length-1];let s=A2(e);return s[s.length-1]}function T1(e){let{formMethod:t,formAction:n,formEncType:s,text:a,formData:o,json:c}=e;if(!(!t||!n||!s)){if(a!=null)return{formMethod:t,formAction:n,formEncType:s,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:t,formAction:n,formEncType:s,formData:o,json:void 0,text:void 0};if(c!==void 0)return{formMethod:t,formAction:n,formEncType:s,formData:void 0,json:c,text:void 0}}}function Gg(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function SR(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function bu(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function TR(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Ti(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function ER(e,t){try{let n=e.sessionStorage.getItem(M2);if(n){let s=JSON.parse(n);for(let[a,o]of Object.entries(s||{}))o&&Array.isArray(o)&&t.set(a,new Set(o||[]))}}catch(n){}}function kR(e,t){if(t.size>0){let n={};for(let[s,a]of t)n[s]=[...a];try{e.sessionStorage.setItem(M2,JSON.stringify(n))}catch(s){Yn(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function CR(){let e,t,n=new Promise((s,a)=>{e=o=>ve(null,null,function*(){s(o);try{yield n}catch(c){}}),t=o=>ve(null,null,function*(){a(o);try{yield n}catch(c){}})});return{promise:n,resolve:e,reject:t}}var Yo=_.createContext(null);Yo.displayName="DataRouter";var ad=_.createContext(null);ad.displayName="DataRouterState";_.createContext(!1);var Xx=_.createContext({isTransitioning:!1});Xx.displayName="ViewTransition";var V2=_.createContext(new Map);V2.displayName="Fetchers";var DR=_.createContext(null);DR.displayName="Await";var ya=_.createContext(null);ya.displayName="Navigation";var fm=_.createContext(null);fm.displayName="Location";var ba=_.createContext({outlet:null,matches:[],isDataRoute:!1});ba.displayName="Route";var Gx=_.createContext(null);Gx.displayName="RouteError";function OR(e,{relative:t}={}){$t(id(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=_.useContext(ya),{hash:a,pathname:o,search:c}=od(e,{relative:t}),d=o;return n!=="/"&&(d=o==="/"?n:ha([n,o])),s.createHref({pathname:d,search:c,hash:a})}function id(){return _.useContext(fm)!=null}function Wi(){return $t(id(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(fm).location}var I2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function q2(e){_.useContext(ya).static||_.useLayoutEffect(e)}function AR(){let{isDataRoute:e}=_.useContext(ba);return e?YR():RR()}function RR(){$t(id(),"useNavigate() may be used only in the context of a <Router> component.");let e=_.useContext(Yo),{basename:t,navigator:n}=_.useContext(ya),{matches:s}=_.useContext(ba),{pathname:a}=Wi(),o=JSON.stringify(Ix(s)),c=_.useRef(!1);return q2(()=>{c.current=!0}),_.useCallback((f,h={})=>{if(Yn(c.current,I2),!c.current)return;if(typeof f=="number"){n.go(f);return}let p=qx(f,JSON.parse(o),a,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:ha([t,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[t,n,o,a,e])}var MR=_.createContext(null);function PR(e){let t=_.useContext(ba).outlet;return t&&_.createElement(MR.Provider,{value:e},t)}function od(e,{relative:t}={}){let{matches:n}=_.useContext(ba),{pathname:s}=Wi(),a=JSON.stringify(Ix(n));return _.useMemo(()=>qx(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function LR(e,t,n,s){$t(id(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=_.useContext(ya),{matches:o}=_.useContext(ba),c=o[o.length-1],d=c?c.params:{},f=c?c.pathname:"/",h=c?c.pathnameBase:"/",p=c&&c.route;{let N=p&&p.path||"";W2(f,!p||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let g=Wi(),y;y=g;let b=y.pathname||"/",j=b;if(h!=="/"){let N=h.replace(/^\//,"").split("/");j="/"+b.replace(/^\//,"").split("/").slice(N.length).join("/")}let v=Ci(e,{pathname:j});return Yn(p||v!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Yn(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),$R(v&&v.map(N=>Object.assign({},N,{params:Object.assign({},d,N.params),pathname:ha([h,a.encodeLocation?a.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?h:ha([h,a.encodeLocation?a.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),o,n,s)}function zR(){let e=WR(),t=Xu(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=_.createElement(_.Fragment,null,_.createElement("p",null,"💿 Hey developer 👋"),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:o},"ErrorBoundary")," or"," ",_.createElement("code",{style:o},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),n?_.createElement("pre",{style:a},n):null,c)}var UR=_.createElement(zR,null),FR=class extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?_.createElement(ba.Provider,{value:this.props.routeContext},_.createElement(Gx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function BR({routeContext:e,match:t,children:n}){let s=_.useContext(Yo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(ba.Provider,{value:e},n)}function $R(e,t=[],n=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n==null?void 0:n.errors;if(o!=null){let f=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);$t(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,d=-1;if(n)for(let f=0;f<a.length;f++){let h=a[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=f),h.route.id){let{loaderData:p,errors:g}=n,y=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||y){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,h,p)=>{let g,y=!1,b=null,j=null;n&&(g=o&&h.route.id?o[h.route.id]:void 0,b=h.route.errorElement||UR,c&&(d<0&&p===0?(W2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,j=null):d===p&&(y=!0,j=h.route.hydrateFallbackElement||null)));let v=t.concat(a.slice(0,p+1)),S=()=>{let N;return g?N=b:y?N=j:h.route.Component?N=_.createElement(h.route.Component,null):h.route.element?N=h.route.element:N=f,_.createElement(BR,{match:h,routeContext:{outlet:f,matches:v,isDataRoute:n!=null},children:N})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?_.createElement(FR,{location:n.location,revalidation:n.revalidation,component:b,error:g,children:S(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):S()},null)}function Kx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HR(e){let t=_.useContext(Yo);return $t(t,Kx(e)),t}function VR(e){let t=_.useContext(ad);return $t(t,Kx(e)),t}function IR(e){let t=_.useContext(ba);return $t(t,Kx(e)),t}function Qx(e){let t=IR(e),n=t.matches[t.matches.length-1];return $t(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function qR(){return Qx("useRouteId")}function WR(){var s;let e=_.useContext(Gx),t=VR("useRouteError"),n=Qx("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function YR(){let{router:e}=HR("useNavigate"),t=Qx("useNavigate"),n=_.useRef(!1);return q2(()=>{n.current=!0}),_.useCallback((c,...d)=>ve(null,[c,...d],function*(a,o={}){Yn(n.current,I2),n.current&&(typeof a=="number"?e.navigate(a):yield e.navigate(a,z({fromRouteId:t},o)))}),[e,t])}var E1={};function W2(e,t,n){!t&&!E1[e]&&(E1[e]=!0,Yn(!1,n))}var k1={};function C1(e,t){!e&&!k1[t]&&(k1[t]=!0,console.warn(t))}function XR(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Yn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:_.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Yn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:_.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Yn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:_.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var GR=["HydrateFallback","hydrateFallbackElement"],KR=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",t(n))}})}};function QR({router:e,flushSync:t}){let[n,s]=_.useState(e.state),[a,o]=_.useState(),[c,d]=_.useState({isTransitioning:!1}),[f,h]=_.useState(),[p,g]=_.useState(),[y,b]=_.useState(),j=_.useRef(new Map),v=_.useCallback((E,{deletedFetchers:k,flushSync:D,viewTransitionOpts:C})=>{E.fetchers.forEach((P,U)=>{P.data!==void 0&&j.current.set(U,P.data)}),k.forEach(P=>j.current.delete(P)),C1(D===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let A=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(C1(C==null||A,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!C||!A){t&&D?t(()=>s(E)):_.startTransition(()=>s(E));return}if(t&&D){t(()=>{p&&(f&&f.resolve(),p.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:C.currentLocation,nextLocation:C.nextLocation})});let P=e.window.document.startViewTransition(()=>{t(()=>s(E))});P.finished.finally(()=>{t(()=>{h(void 0),g(void 0),o(void 0),d({isTransitioning:!1})})}),t(()=>g(P));return}p?(f&&f.resolve(),p.skipTransition(),b({state:E,currentLocation:C.currentLocation,nextLocation:C.nextLocation})):(o(E),d({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}))},[e.window,t,p,f]);_.useLayoutEffect(()=>e.subscribe(v),[e,v]),_.useEffect(()=>{c.isTransitioning&&!c.flushSync&&h(new KR)},[c]),_.useEffect(()=>{if(f&&a&&e.window){let E=a,k=f.promise,D=e.window.document.startViewTransition(()=>ve(null,null,function*(){_.startTransition(()=>s(E)),yield k}));D.finished.finally(()=>{h(void 0),g(void 0),o(void 0),d({isTransitioning:!1})}),g(D)}},[a,f,e.window]),_.useEffect(()=>{f&&a&&n.location.key===a.location.key&&f.resolve()},[f,p,n.location,a]),_.useEffect(()=>{!c.isTransitioning&&y&&(o(y.state),d({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),b(void 0))},[c.isTransitioning,y]);let S=_.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:E=>e.navigate(E),push:(E,k,D)=>e.navigate(E,{state:k,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(E,k,D)=>e.navigate(E,{replace:!0,state:k,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[e]),N=e.basename||"/",R=_.useMemo(()=>({router:e,navigator:S,static:!1,basename:N}),[e,S,N]);return _.createElement(_.Fragment,null,_.createElement(Yo.Provider,{value:R},_.createElement(ad.Provider,{value:n},_.createElement(V2.Provider,{value:j.current},_.createElement(Xx.Provider,{value:c},_.createElement(tM,{basename:N,location:n.location,navigationType:n.historyAction,navigator:S},_.createElement(ZR,{routes:e.routes,future:e.future,state:n})))))),null)}var ZR=_.memo(JR);function JR({routes:e,future:t,state:n}){return LR(e,void 0,n,t)}function eM(e){return PR(e.context)}function tM({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:a,static:o=!1}){$t(!id(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=_.useMemo(()=>({basename:c,navigator:a,static:o,future:{}}),[c,a,o]);typeof n=="string"&&(n=qi(n));let{pathname:f="/",search:h="",hash:p="",state:g=null,key:y="default"}=n,b=_.useMemo(()=>{let j=kr(f,c);return j==null?null:{location:{pathname:j,search:h,hash:p,state:g,key:y},navigationType:s}},[c,f,h,p,g,y,s]);return Yn(b!=null,`<Router basename="${c}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:_.createElement(ya.Provider,{value:d},_.createElement(fm.Provider,{children:t,value:b}))}var _h="get",Nh="application/x-www-form-urlencoded";function hm(e){return e!=null&&typeof e.tagName=="string"}function nM(e){return hm(e)&&e.tagName.toLowerCase()==="button"}function sM(e){return hm(e)&&e.tagName.toLowerCase()==="form"}function rM(e){return hm(e)&&e.tagName.toLowerCase()==="input"}function aM(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function iM(e,t){return e.button===0&&(!t||t==="_self")&&!aM(e)}var zf=null;function oM(){if(zf===null)try{new FormData(document.createElement("form"),0),zf=!1}catch(e){zf=!0}return zf}var lM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kg(e){return e!=null&&!lM.has(e)?(Yn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nh}"`),null):e}function cM(e,t){let n,s,a,o,c;if(sM(e)){let d=e.getAttribute("action");s=d?kr(d,t):null,n=e.getAttribute("method")||_h,a=Kg(e.getAttribute("enctype"))||Nh,o=new FormData(e)}else if(nM(e)||rM(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(s=f?kr(f,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||_h,a=Kg(e.getAttribute("formenctype"))||Kg(d.getAttribute("enctype"))||Nh,o=new FormData(d,e),!oM()){let{name:h,type:p,value:g}=e;if(p==="image"){let y=h?`${h}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else h&&o.append(h,g)}}else{if(hm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_h,s=null,a=Nh,c=e}return o&&a==="text/plain"&&(c=o,o=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Zx(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function uM(e,t,n){let s=typeof e=="string"?new URL(e,typeof window=="undefined"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&kr(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}function dM(e,t){return ve(this,null,function*(){if(e.id in t)return t[e.id];try{let n=yield import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}})}function fM(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}function hM(e,t,n){return ve(this,null,function*(){let s=yield Promise.all(e.map(a=>ve(null,null,function*(){let o=t.routes[a.route.id];if(o){let c=yield dM(o,n);return c.links?c.links():[]}return[]})));return xM(s.flat(1).filter(fM).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?oe(z({},a),{rel:"prefetch",as:"style"}):oe(z({},a),{rel:"prefetch"})))})}function D1(e,t,n,s,a,o){let c=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,d=(f,h)=>{var p;return n[h].pathname!==f.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==f.params["*"]};return o==="assets"?t.filter((f,h)=>c(f,h)||d(f,h)):o==="data"?t.filter((f,h)=>{var g;let p=s.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(c(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function mM(e,t,{includeHydrateFallback:n}={}){return pM(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function pM(e){return[...new Set(e)]}function gM(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function xM(e,t){let n=new Set;return new Set(t),e.reduce((s,a)=>{let o=JSON.stringify(gM(a));return n.has(o)||(n.add(o),s.push({key:o,link:a})),s},[])}function Y2(){let e=_.useContext(Yo);return Zx(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function yM(){let e=_.useContext(ad);return Zx(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Jx=_.createContext(void 0);Jx.displayName="FrameworkContext";function X2(){let e=_.useContext(Jx);return Zx(e,"You must render this element inside a <HydratedRouter> element"),e}function bM(e,t){let n=_.useContext(Jx),[s,a]=_.useState(!1),[o,c]=_.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=t,y=_.useRef(null);_.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let v=N=>{N.forEach(R=>{c(R.isIntersecting)})},S=new IntersectionObserver(v,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[e]),_.useEffect(()=>{if(s){let v=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(v)}}},[s]);let b=()=>{a(!0)},j=()=>{a(!1),c(!1)};return n?e!=="intent"?[o,y,{}]:[o,y,{onFocus:vu(d,b),onBlur:vu(f,j),onMouseEnter:vu(h,b),onMouseLeave:vu(p,j),onTouchStart:vu(g,b)}]:[!1,y,{}]}function vu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function vM(n){var s=n,{page:e}=s,t=Ce(s,["page"]);let{router:a}=Y2(),o=_.useMemo(()=>Ci(a.routes,e,a.basename),[a.routes,e,a.basename]);return o?_.createElement(jM,z({page:e,matches:o},t)):null}function wM(e){let{manifest:t,routeModules:n}=X2(),[s,a]=_.useState([]);return _.useEffect(()=>{let o=!1;return hM(e,t,n).then(c=>{o||a(c)}),()=>{o=!0}},[e,t,n]),s}function jM(s){var a=s,{page:e,matches:t}=a,n=Ce(a,["page","matches"]);let o=Wi(),{manifest:c,routeModules:d}=X2(),{basename:f}=Y2(),{loaderData:h,matches:p}=yM(),g=_.useMemo(()=>D1(e,t,p,c,o,"data"),[e,t,p,c,o]),y=_.useMemo(()=>D1(e,t,p,c,o,"assets"),[e,t,p,c,o]),b=_.useMemo(()=>{if(e===o.pathname+o.search+o.hash)return[];let S=new Set,N=!1;if(t.forEach(E=>{var D;let k=c.routes[E.route.id];!k||!k.hasLoader||(!g.some(C=>C.route.id===E.route.id)&&E.route.id in h&&((D=d[E.route.id])!=null&&D.shouldRevalidate)||k.hasClientLoader?N=!0:S.add(E.route.id))}),S.size===0)return[];let R=uM(e,f,"data");return N&&S.size>0&&R.searchParams.set("_routes",t.filter(E=>S.has(E.route.id)).map(E=>E.route.id).join(",")),[R.pathname+R.search]},[f,h,o,c,g,t,e,d]),j=_.useMemo(()=>mM(y,c),[y,c]),v=wM(y);return _.createElement(_.Fragment,null,b.map(S=>_.createElement("link",z({key:S,rel:"prefetch",as:"fetch",href:S},n))),j.map(S=>_.createElement("link",z({key:S,rel:"modulepreload",href:S},n))),v.map(({key:S,link:N})=>_.createElement("link",z({key:S},N))))}function _M(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var G2=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{G2&&(window.__reactRouterVersion="7.7.1")}catch(e){}function NM(e,t){return dR({basename:t==null?void 0:t.basename,unstable_getContext:t==null?void 0:t.unstable_getContext,future:t==null?void 0:t.future,history:DA({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||SM(),routes:e,mapRouteProperties:XR,hydrationRouteProperties:GR,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function SM(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e=oe(z({},e),{errors:TM(e.errors)})),e}function TM(e){if(!e)return null;let t=Object.entries(e),n={};for(let[s,a]of t)if(a&&a.__type==="RouteErrorResponse")n[s]=new Lh(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let c=new o(a.message);c.stack="",n[s]=c}catch(c){}}if(n[s]==null){let o=new Error(a.message);o.stack="",n[s]=o}}else n[s]=a;return n}var K2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Q2=_.forwardRef(function(j,b){var v=j,{onClick:t,discover:n="render",prefetch:s="none",relative:a,reloadDocument:o,replace:c,state:d,target:f,to:h,preventScrollReset:p,viewTransition:g}=v,y=Ce(v,["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"]);let{basename:S}=_.useContext(ya),N=typeof h=="string"&&K2.test(h),R,E=!1;if(typeof h=="string"&&N&&(R=h,G2))try{let $=new URL(window.location.href),G=h.startsWith("//")?new URL($.protocol+h):new URL(h),W=kr(G.pathname,S);G.origin===$.origin&&W!=null?h=W+G.search+G.hash:E=!0}catch($){Yn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=OR(h,{relative:a}),[D,C,A]=bM(s,y),P=CM(h,{replace:c,state:d,target:f,preventScrollReset:p,relative:a,viewTransition:g});function U($){t&&t($),$.defaultPrevented||P($)}let K=_.createElement("a",oe(z(z({},y),A),{href:R||k,onClick:E||o?t:U,ref:_M(b,C),target:f,"data-discover":!N&&n==="render"?"true":void 0}));return D&&!N?_.createElement(_.Fragment,null,K,_.createElement(vM,{page:k})):K});Q2.displayName="Link";var Z2=_.forwardRef(function(g,p){var y=g,{"aria-current":t="page",caseSensitive:n=!1,className:s="",end:a=!1,style:o,to:c,viewTransition:d,children:f}=y,h=Ce(y,["aria-current","caseSensitive","className","end","style","to","viewTransition","children"]);let b=od(c,{relative:h.relative}),j=Wi(),v=_.useContext(ad),{navigator:S,basename:N}=_.useContext(ya),R=v!=null&&MM(b)&&d===!0,E=S.encodeLocation?S.encodeLocation(b).pathname:b.pathname,k=j.pathname,D=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(k=k.toLowerCase(),D=D?D.toLowerCase():null,E=E.toLowerCase()),D&&N&&(D=kr(D,N)||D);const C=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let A=k===E||!a&&k.startsWith(E)&&k.charAt(C)==="/",P=D!=null&&(D===E||!a&&D.startsWith(E)&&D.charAt(E.length)==="/"),U={isActive:A,isPending:P,isTransitioning:R},K=A?t:void 0,$;typeof s=="function"?$=s(U):$=[s,A?"active":null,P?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let G=typeof o=="function"?o(U):o;return _.createElement(Q2,oe(z({},h),{"aria-current":K,className:$,ref:p,style:G,to:c,viewTransition:d}),typeof f=="function"?f(U):f)});Z2.displayName="NavLink";var EM=_.forwardRef((j,b)=>{var v=j,{discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:a,state:o,method:c=_h,action:d,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g}=v,y=Ce(v,["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"]);let S=AM(),N=RM(d,{relative:h}),R=c.toLowerCase()==="get"?"get":"post",E=typeof d=="string"&&K2.test(d),k=D=>{if(f&&f(D),D.defaultPrevented)return;D.preventDefault();let C=D.nativeEvent.submitter,A=(C==null?void 0:C.getAttribute("formmethod"))||c;S(C||D.currentTarget,{fetcherKey:t,method:A,navigate:n,replace:a,state:o,relative:h,preventScrollReset:p,viewTransition:g})};return _.createElement("form",oe(z({ref:b,method:R,action:N,onSubmit:s?f:k},y),{"data-discover":!E&&e==="render"?"true":void 0}))});EM.displayName="Form";function kM(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function J2(e){let t=_.useContext(Yo);return $t(t,kM(e)),t}function CM(e,{target:t,replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:c}={}){let d=AR(),f=Wi(),h=od(e,{relative:o});return _.useCallback(p=>{if(iM(p,t)){p.preventDefault();let g=n!==void 0?n:zi(f)===zi(h);d(e,{replace:g,state:s,preventScrollReset:a,relative:o,viewTransition:c})}},[f,d,h,n,s,t,e,a,o,c])}var DM=0,OM=()=>`__${String(++DM)}__`;function AM(){let{router:e}=J2("useSubmit"),{basename:t}=_.useContext(ya),n=qR();return _.useCallback((o,...c)=>ve(null,[o,...c],function*(s,a={}){let{action:d,method:f,encType:h,formData:p,body:g}=cM(s,t);if(a.navigate===!1){let y=a.fetcherKey||OM();yield e.fetch(y,n,a.action||d,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||f,formEncType:a.encType||h,flushSync:a.flushSync})}else yield e.navigate(a.action||d,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||f,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})}),[e,t,n])}function RM(e,{relative:t}={}){let{basename:n}=_.useContext(ya),s=_.useContext(ba);$t(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),o=z({},od(e||".",{relative:t})),c=Wi();if(e==null){o.search=c.search;let d=new URLSearchParams(o.search),f=d.getAll("index");if(f.some(p=>p==="")){d.delete("index"),f.filter(g=>g).forEach(g=>d.append("index",g));let p=d.toString();o.search=p?`?${p}`:""}}return(!e||e===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:ha([n,o.pathname])),zi(o)}function MM(e,{relative:t}={}){let n=_.useContext(Xx);$t(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=J2("useViewTransitionState"),a=od(e,{relative:t});if(!n.isTransitioning)return!1;let o=kr(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=kr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ph(a.pathname,c)!=null||Ph(a.pathname,o)!=null}var mm=KN();const eS=Ax(mm);function PM(e){return _.createElement(QR,z({flushSync:mm.flushSync},e))}/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zM=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),O1=e=>{const t=zM(e);return t.charAt(0).toUpperCase()+t.slice(1)},tS=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),UM=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=_.forwardRef((h,f)=>{var p=h,{color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:o,iconNode:c}=p,d=Ce(p,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return _.createElement("svg",z(z(oe(z({ref:f},FM),{width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:tS("lucide",a)}),!o&&!UM(d)&&{"aria-hidden":"true"}),d),[...c.map(([g,y])=>_.createElement(g,y)),...Array.isArray(o)?o:[o]])});/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=(e,t)=>{const n=_.forwardRef((c,o)=>{var d=c,{className:s}=d,a=Ce(d,["className"]);return _.createElement(BM,z({ref:o,iconNode:t,className:tS(`lucide-${LM(O1(e))}`,`lucide-${e}`,s)},a))});return n.displayName=O1(e),n};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],HM=ct("activity",$M);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],IM=ct("archive",VM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ey=ct("arrow-left",qM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],nS=ct("bell",WM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ws=ct("calendar",YM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Uh=ct("chart-column",XM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],KM=ct("chart-pie",GM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ZM=ct("check",QM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],sS=ct("chevron-down",JM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],t3=ct("chevron-right",e3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],s3=ct("chevrons-up-down",n3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ui=ct("circle-alert",r3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],rS=ct("circle-check-big",a3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ty=ct("circle-check",i3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zo=ct("clock",o3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],c3=ct("crown",l3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Uo=ct("dollar-sign",u3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],tc=ct("download",d3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],h3=ct("ellipsis-vertical",f3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],p3=ct("external-link",m3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ny=ct("eye",g3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Tr=ct("file-text",x3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],Uf=ct("file",y3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],v3=ct("folder-open",b3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ld=ct("funnel",w3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],_3=ct("grid-3x3",j3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],S3=ct("image",N3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],E3=ct("layout-dashboard",T3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Ff=ct("link",k3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],D3=ct("list",C3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Q0=ct("loader-circle",O3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],R3=ct("log-out",A3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],P3=ct("map-pin",M3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],z3=ct("menu",L3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],F3=ct("pause",U3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],$3=ct("pen",B3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],V3=ct("piggy-bank",H3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],q3=ct("play",I3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],qr=ct("plus",W3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],X3=ct("refresh-cw",Y3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],K3=ct("save",G3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ic=ct("search",Q3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sy=ct("settings",Z3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],aS=ct("shield",J3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],t4=ct("square-check-big",e4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Fo=ct("square-pen",n4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],r4=ct("square",s4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ry=ct("target",a4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Fi=ct("trash-2",i4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],A1=ct("trending-down",o4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Xl=ct("trending-up",l4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],oc=ct("triangle-alert",c4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Z0=ct("upload",u4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Gu=ct("user",d4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Gl=ct("users",f4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],R1=ct("video",h4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],p4=ct("x",m4),g4=[{name:"Dashboard",href:"/",icon:E3,subtitle:"Tổng quan hệ thống"},{name:"Dự án",href:"/projects",icon:v3,subtitle:"Quản lý dự án R&D"},{name:"Công việc",href:"/tasks",icon:t4,subtitle:"Quản lý task và tiến độ"},{name:"Tài liệu",href:"/documents",icon:Tr,subtitle:"Quản lý biểu mẫu và tài liệu"},{name:"Ngân sách",href:"/budget",icon:Uo,subtitle:"Quản lý chi phí và ngân sách"},{name:"Rủi ro",href:"/risk",icon:oc,subtitle:"Quản lý rủi ro dự án"},{name:"Lịch họp",href:"/meetings",icon:Ws,subtitle:"Quản lý cuộc họp và gate review"},{name:"Báo cáo",href:"/reports",icon:Uh,subtitle:"Báo cáo và thống kê"},{name:"Cài đặt",href:"/settings",icon:sy,subtitle:"Cài đặt hệ thống"}],M1=({collapsed:e=!1,onToggle:t})=>{const n=Wi();return i.jsxs("div",{className:`flex flex-col bg-white shadow-lg border-r border-gray-200 transition-all duration-300 ${e?"w-20":"w-85"}`,children:[i.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[!e&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white font-bold text-sm",children:"RD"})}),i.jsx("span",{className:"text-xl font-bold text-gray-800",children:"R&D Management"})]}),e&&i.jsx("div",{className:"w-12 h-10 bg-blue-600 rounded-lg flex items-center justify-center mx-auto",children:i.jsx("span",{className:"text-white font-bold text-sm",children:"RD"})})]}),i.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2",children:g4.map(s=>{const a=n.pathname===s.href;return i.jsxs(Z2,{to:s.href,className:`
                group flex items-start rounded-lg transition-all duration-200 relative
                ${e?"px-2 py-3 justify-center":"px-3 py-3"}
                ${a?"bg-blue-50 text-blue-700 border-l-4 border-blue-600":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}
              `,title:e?s.name:void 0,children:[i.jsx(s.icon,{className:`
                  h-5 w-5 transition-colors duration-200 flex-shrink-0
                  ${e?"mr-0":"mr-3 mt-0.5"}
                  ${a?"text-blue-600":"text-gray-500 group-hover:text-gray-700"}
                `}),!e&&i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"font-medium text-sm",children:s.name}),i.jsx("span",{className:`text-xs mt-0.5 ${a?"text-blue-600":"text-gray-500"}`,children:s.subtitle})]}),e&&i.jsxs("div",{className:"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50",children:[s.name,i.jsx("div",{className:"absolute top-1/2 left-0 transform -translate-y-1/2 -translate-x-1 w-2 h-2 bg-gray-800 rotate-45"})]})]},s.name)})}),i.jsx("div",{className:"p-4 border-t border-gray-200",children:i.jsxs("div",{className:`flex items-center ${e?"justify-center":"space-x-3"}`,children:[i.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-white font-medium text-sm",children:"AU"})}),!e&&i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:"Admin User"}),i.jsx("p",{className:"text-xs text-gray-500 truncate",children:"System Administrator"})]})]})})]})};function ar(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function P1(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Bo(...e){return t=>{let n=!1;const s=e.map(a=>{const o=P1(a,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let a=0;a<s.length;a++){const o=s[a];typeof o=="function"?o():P1(e[a],null)}}}}function Cn(...e){return _.useCallback(Bo(...e),e)}function ay(e,t){const n=_.createContext(t),s=o=>{const h=o,{children:c}=h,d=Ce(h,["children"]),f=_.useMemo(()=>d,Object.values(d));return i.jsx(n.Provider,{value:f,children:c})};s.displayName=e+"Provider";function a(o){const c=_.useContext(n);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[s,a]}function cd(e,t=[]){let n=[];function s(o,c){const d=_.createContext(c),f=n.length;n=[...n,c];const h=g=>{var R;const N=g,{scope:y,children:b}=N,j=Ce(N,["scope","children"]),v=((R=y==null?void 0:y[e])==null?void 0:R[f])||d,S=_.useMemo(()=>j,Object.values(j));return i.jsx(v.Provider,{value:S,children:b})};h.displayName=o+"Provider";function p(g,y){var v;const b=((v=y==null?void 0:y[e])==null?void 0:v[f])||d,j=_.useContext(b);if(j)return j;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${o}\``)}return[h,p]}const a=()=>{const o=n.map(c=>_.createContext(c));return function(d){const f=(d==null?void 0:d[e])||o;return _.useMemo(()=>({[`__scope${e}`]:oe(z({},d),{[e]:f})}),[d,f])}};return a.scopeName=e,[s,x4(a,...t)]}function x4(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const c=s.reduce((d,{useScope:f,scopeName:h})=>{const g=f(o)[`__scope${h}`];return z(z({},d),g)},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return n.scopeName=t.scopeName,n}function lc(e){const t=b4(e),n=_.forwardRef((s,a)=>{const h=s,{children:o}=h,c=Ce(h,["children"]),d=_.Children.toArray(o),f=d.find(w4);if(f){const p=f.props.children,g=d.map(y=>y===f?_.Children.count(p)>1?_.Children.only(null):_.isValidElement(p)?p.props.children:null:y);return i.jsx(t,oe(z({},c),{ref:a,children:_.isValidElement(p)?_.cloneElement(p,void 0,g):null}))}return i.jsx(t,oe(z({},c),{ref:a,children:o}))});return n.displayName=`${e}.Slot`,n}var y4=lc("Slot");function b4(e){const t=_.forwardRef((n,s)=>{const c=n,{children:a}=c,o=Ce(c,["children"]);if(_.isValidElement(a)){const d=_4(a),f=j4(o,a.props);return a.type!==_.Fragment&&(f.ref=s?Bo(s,d):d),_.cloneElement(a,f)}return _.Children.count(a)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var v4=Symbol("radix.slottable");function w4(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===v4}function j4(e,t){const n=z({},t);for(const s in t){const a=e[s],o=t[s];/^on[A-Z]/.test(s)?a&&o?n[s]=(...d)=>{const f=o(...d);return a(...d),f}:a&&(n[s]=a):s==="style"?n[s]=z(z({},a),o):s==="className"&&(n[s]=[a,o].filter(Boolean).join(" "))}return z(z({},e),n)}function _4(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var N4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ht=N4.reduce((e,t)=>{const n=lc(`Primitive.${t}`),s=_.forwardRef((a,o)=>{const h=a,{asChild:c}=h,d=Ce(h,["asChild"]),f=c?n:t;return typeof window!="undefined"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(f,oe(z({},d),{ref:o}))});return s.displayName=`Primitive.${t}`,oe(z({},e),{[t]:s})},{});function iy(e,t){e&&mm.flushSync(()=>e.dispatchEvent(t))}function ga(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e}),_.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function oy(e,t=globalThis==null?void 0:globalThis.document){const n=ga(e);_.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var S4="DismissableLayer",J0="dismissableLayer.update",T4="dismissableLayer.pointerDownOutside",E4="dismissableLayer.focusOutside",L1,iS=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ly=_.forwardRef((e,t)=>{var P;const A=e,{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:c,onDismiss:d}=A,f=Ce(A,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),h=_.useContext(iS),[p,g]=_.useState(null),y=(P=p==null?void 0:p.ownerDocument)!=null?P:globalThis==null?void 0:globalThis.document,[,b]=_.useState({}),j=Cn(t,U=>g(U)),v=Array.from(h.layers),[S]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),N=v.indexOf(S),R=p?v.indexOf(p):-1,E=h.layersWithOutsidePointerEventsDisabled.size>0,k=R>=N,D=D4(U=>{const K=U.target,$=[...h.branches].some(G=>G.contains(K));!k||$||(a==null||a(U),c==null||c(U),U.defaultPrevented||d==null||d())},y),C=O4(U=>{const K=U.target;[...h.branches].some(G=>G.contains(K))||(o==null||o(U),c==null||c(U),U.defaultPrevented||d==null||d())},y);return oy(U=>{R===h.layers.size-1&&(s==null||s(U),!U.defaultPrevented&&d&&(U.preventDefault(),d()))},y),_.useEffect(()=>{if(p)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(L1=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),z1(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=L1)}},[p,y,n,h]),_.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),z1())},[p,h]),_.useEffect(()=>{const U=()=>b({});return document.addEventListener(J0,U),()=>document.removeEventListener(J0,U)},[]),i.jsx(Ht.div,oe(z({},f),{ref:j,style:z({pointerEvents:E?k?"auto":"none":void 0},e.style),onFocusCapture:ar(e.onFocusCapture,C.onFocusCapture),onBlurCapture:ar(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:ar(e.onPointerDownCapture,D.onPointerDownCapture)}))});ly.displayName=S4;var k4="DismissableLayerBranch",C4=_.forwardRef((e,t)=>{const n=_.useContext(iS),s=_.useRef(null),a=Cn(t,s);return _.useEffect(()=>{const o=s.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),i.jsx(Ht.div,oe(z({},e),{ref:a}))});C4.displayName=k4;function D4(e,t=globalThis==null?void 0:globalThis.document){const n=ga(e),s=_.useRef(!1),a=_.useRef(()=>{});return _.useEffect(()=>{const o=d=>{if(d.target&&!s.current){let f=function(){oS(T4,n,h,{discrete:!0})};const h={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=f,t.addEventListener("click",a.current,{once:!0})):f()}else t.removeEventListener("click",a.current);s.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function O4(e,t=globalThis==null?void 0:globalThis.document){const n=ga(e),s=_.useRef(!1);return _.useEffect(()=>{const a=o=>{o.target&&!s.current&&oS(E4,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function z1(){const e=new CustomEvent(J0);document.dispatchEvent(e)}function oS(e,t,n,{discrete:s}){const a=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?iy(a,o):a.dispatchEvent(o)}var Qg=0;function lS(){_.useEffect(()=>{var t,n;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:U1()),document.body.insertAdjacentElement("beforeend",(n=e[1])!=null?n:U1()),Qg++,()=>{Qg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),Qg--}},[])}function U1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Zg="focusScope.autoFocusOnMount",Jg="focusScope.autoFocusOnUnmount",F1={bubbles:!1,cancelable:!0},A4="FocusScope",ud=_.forwardRef((e,t)=>{const v=e,{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:o}=v,c=Ce(v,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),[d,f]=_.useState(null),h=ga(a),p=ga(o),g=_.useRef(null),y=Cn(t,S=>f(S)),b=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(s){let S=function(k){if(b.paused||!d)return;const D=k.target;d.contains(D)?g.current=D:Ei(g.current,{select:!0})},N=function(k){if(b.paused||!d)return;const D=k.relatedTarget;D!==null&&(d.contains(D)||Ei(g.current,{select:!0}))},R=function(k){if(document.activeElement===document.body)for(const C of k)C.removedNodes.length>0&&Ei(d)};document.addEventListener("focusin",S),document.addEventListener("focusout",N);const E=new MutationObserver(R);return d&&E.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",N),E.disconnect()}}},[s,d,b.paused]),_.useEffect(()=>{if(d){$1.add(b);const S=document.activeElement;if(!d.contains(S)){const R=new CustomEvent(Zg,F1);d.addEventListener(Zg,h),d.dispatchEvent(R),R.defaultPrevented||(R4(U4(cS(d)),{select:!0}),document.activeElement===S&&Ei(d))}return()=>{d.removeEventListener(Zg,h),setTimeout(()=>{const R=new CustomEvent(Jg,F1);d.addEventListener(Jg,p),d.dispatchEvent(R),R.defaultPrevented||Ei(S!=null?S:document.body,{select:!0}),d.removeEventListener(Jg,p),$1.remove(b)},0)}}},[d,h,p,b]);const j=_.useCallback(S=>{if(!n&&!s||b.paused)return;const N=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,R=document.activeElement;if(N&&R){const E=S.currentTarget,[k,D]=M4(E);k&&D?!S.shiftKey&&R===D?(S.preventDefault(),n&&Ei(k,{select:!0})):S.shiftKey&&R===k&&(S.preventDefault(),n&&Ei(D,{select:!0})):R===E&&S.preventDefault()}},[n,s,b.paused]);return i.jsx(Ht.div,oe(z({tabIndex:-1},c),{ref:y,onKeyDown:j}))});ud.displayName=A4;function R4(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(Ei(s,{select:t}),document.activeElement!==n)return}function M4(e){const t=cS(e),n=B1(t,e),s=B1(t.reverse(),e);return[n,s]}function cS(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function B1(e,t){for(const n of e)if(!P4(n,{upTo:t}))return n}function P4(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function L4(e){return e instanceof HTMLInputElement&&"select"in e}function Ei(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&L4(e)&&t&&e.select()}}var $1=z4();function z4(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=H1(e,t),e.unshift(t)},remove(t){var n;e=H1(e,t),(n=e[0])==null||n.resume()}}}function H1(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function U4(e){return e.filter(t=>t.tagName!=="A")}var Cr=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},F4=GN[" useId ".trim().toString()]||(()=>{}),B4=0;function Es(e){const[t,n]=_.useState(F4());return Cr(()=>{n(s=>s!=null?s:String(B4++))},[e]),e||(t?`radix-${t}`:"")}const $4=["top","right","bottom","left"],Bi=Math.min,rr=Math.max,Fh=Math.round,Bf=Math.floor,ma=e=>({x:e,y:e}),H4={left:"right",right:"left",bottom:"top",top:"bottom"},V4={start:"end",end:"start"};function ex(e,t,n){return rr(e,Bi(t,n))}function Ga(e,t){return typeof e=="function"?e(t):e}function Ka(e){return e.split("-")[0]}function cc(e){return e.split("-")[1]}function cy(e){return e==="x"?"y":"x"}function uy(e){return e==="y"?"height":"width"}const I4=new Set(["top","bottom"]);function ua(e){return I4.has(Ka(e))?"y":"x"}function dy(e){return cy(ua(e))}function q4(e,t,n){n===void 0&&(n=!1);const s=cc(e),a=dy(e),o=uy(a);let c=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(c=Bh(c)),[c,Bh(c)]}function W4(e){const t=Bh(e);return[tx(e),t,tx(t)]}function tx(e){return e.replace(/start|end/g,t=>V4[t])}const V1=["left","right"],I1=["right","left"],Y4=["top","bottom"],X4=["bottom","top"];function G4(e,t,n){switch(e){case"top":case"bottom":return n?t?I1:V1:t?V1:I1;case"left":case"right":return t?Y4:X4;default:return[]}}function K4(e,t,n,s){const a=cc(e);let o=G4(Ka(e),n==="start",s);return a&&(o=o.map(c=>c+"-"+a),t&&(o=o.concat(o.map(tx)))),o}function Bh(e){return e.replace(/left|right|bottom|top/g,t=>H4[t])}function Q4(e){return z({top:0,right:0,bottom:0,left:0},e)}function uS(e){return typeof e!="number"?Q4(e):{top:e,right:e,bottom:e,left:e}}function $h(e){const{x:t,y:n,width:s,height:a}=e;return{width:s,height:a,top:n,left:t,right:t+s,bottom:n+a,x:t,y:n}}function q1(e,t,n){let{reference:s,floating:a}=e;const o=ua(t),c=dy(t),d=uy(c),f=Ka(t),h=o==="y",p=s.x+s.width/2-a.width/2,g=s.y+s.height/2-a.height/2,y=s[d]/2-a[d]/2;let b;switch(f){case"top":b={x:p,y:s.y-a.height};break;case"bottom":b={x:p,y:s.y+s.height};break;case"right":b={x:s.x+s.width,y:g};break;case"left":b={x:s.x-a.width,y:g};break;default:b={x:s.x,y:s.y}}switch(cc(t)){case"start":b[c]-=y*(n&&h?-1:1);break;case"end":b[c]+=y*(n&&h?-1:1);break}return b}const Z4=(e,t,n)=>ve(null,null,function*(){const{placement:s="bottom",strategy:a="absolute",middleware:o=[],platform:c}=n,d=o.filter(Boolean),f=yield c.isRTL==null?void 0:c.isRTL(t);let h=yield c.getElementRects({reference:e,floating:t,strategy:a}),{x:p,y:g}=q1(h,s,f),y=s,b={},j=0;for(let v=0;v<d.length;v++){const{name:S,fn:N}=d[v],{x:R,y:E,data:k,reset:D}=yield N({x:p,y:g,initialPlacement:s,placement:y,strategy:a,middlewareData:b,rects:h,platform:c,elements:{reference:e,floating:t}});p=R!=null?R:p,g=E!=null?E:g,b=oe(z({},b),{[S]:z(z({},b[S]),k)}),D&&j<=50&&(j++,typeof D=="object"&&(D.placement&&(y=D.placement),D.rects&&(h=D.rects===!0?yield c.getElementRects({reference:e,floating:t,strategy:a}):D.rects),{x:p,y:g}=q1(h,y,f)),v=-1)}return{x:p,y:g,placement:y,strategy:a,middlewareData:b}});function Ku(e,t){return ve(this,null,function*(){var n;t===void 0&&(t={});const{x:s,y:a,platform:o,rects:c,elements:d,strategy:f}=e,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:y=!1,padding:b=0}=Ga(t,e),j=uS(b),S=d[y?g==="floating"?"reference":"floating":g],N=$h(yield o.getClippingRect({element:(n=yield o.isElement==null?void 0:o.isElement(S))==null||n?S:S.contextElement||(yield o.getDocumentElement==null?void 0:o.getDocumentElement(d.floating)),boundary:h,rootBoundary:p,strategy:f})),R=g==="floating"?{x:s,y:a,width:c.floating.width,height:c.floating.height}:c.reference,E=yield o.getOffsetParent==null?void 0:o.getOffsetParent(d.floating),k=(yield o.isElement==null?void 0:o.isElement(E))?(yield o.getScale==null?void 0:o.getScale(E))||{x:1,y:1}:{x:1,y:1},D=$h(o.convertOffsetParentRelativeRectToViewportRelativeRect?yield o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:R,offsetParent:E,strategy:f}):R);return{top:(N.top-D.top+j.top)/k.y,bottom:(D.bottom-N.bottom+j.bottom)/k.y,left:(N.left-D.left+j.left)/k.x,right:(D.right-N.right+j.right)/k.x}})}const J4=e=>({name:"arrow",options:e,fn(n){return ve(this,null,function*(){const{x:s,y:a,placement:o,rects:c,platform:d,elements:f,middlewareData:h}=n,{element:p,padding:g=0}=Ga(e,n)||{};if(p==null)return{};const y=uS(g),b={x:s,y:a},j=dy(o),v=uy(j),S=yield d.getDimensions(p),N=j==="y",R=N?"top":"left",E=N?"bottom":"right",k=N?"clientHeight":"clientWidth",D=c.reference[v]+c.reference[j]-b[j]-c.floating[v],C=b[j]-c.reference[j],A=yield d.getOffsetParent==null?void 0:d.getOffsetParent(p);let P=A?A[k]:0;(!P||!(yield d.isElement==null?void 0:d.isElement(A)))&&(P=f.floating[k]||c.floating[v]);const U=D/2-C/2,K=P/2-S[v]/2-1,$=Bi(y[R],K),G=Bi(y[E],K),W=$,ee=P-S[v]-G,Y=P/2-S[v]/2+U,H=ex(W,Y,ee),J=!h.arrow&&cc(o)!=null&&Y!==H&&c.reference[v]/2-(Y<W?$:G)-S[v]/2<0,te=J?Y<W?Y-W:Y-ee:0;return{[j]:b[j]+te,data:z({[j]:H,centerOffset:Y-H-te},J&&{alignmentOffset:te}),reset:J}})}}),eP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,fn(n){return ve(this,null,function*(){var s,a;const{placement:o,middlewareData:c,rects:d,initialPlacement:f,platform:h,elements:p}=n,Y=Ga(e,n),{mainAxis:g=!0,crossAxis:y=!0,fallbackPlacements:b,fallbackStrategy:j="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:S=!0}=Y,N=Ce(Y,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if((s=c.arrow)!=null&&s.alignmentOffset)return{};const R=Ka(o),E=ua(f),k=Ka(f)===f,D=yield h.isRTL==null?void 0:h.isRTL(p.floating),C=b||(k||!S?[Bh(f)]:W4(f)),A=v!=="none";!b&&A&&C.push(...K4(f,S,v,D));const P=[f,...C],U=yield Ku(n,N),K=[];let $=((a=c.flip)==null?void 0:a.overflows)||[];if(g&&K.push(U[R]),y){const H=q4(o,d,D);K.push(U[H[0]],U[H[1]])}if($=[...$,{placement:o,overflows:K}],!K.every(H=>H<=0)){var G,W;const H=(((G=c.flip)==null?void 0:G.index)||0)+1,J=P[H];if(J&&(!(y==="alignment"?E!==ua(J):!1)||$.every(L=>ua(L.placement)===E?L.overflows[0]>0:!0)))return{data:{index:H,overflows:$},reset:{placement:J}};let te=(W=$.filter(ce=>ce.overflows[0]<=0).sort((ce,L)=>ce.overflows[1]-L.overflows[1])[0])==null?void 0:W.placement;if(!te)switch(j){case"bestFit":{var ee;const ce=(ee=$.filter(L=>{if(A){const le=ua(L.placement);return le===E||le==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(le=>le>0).reduce((le,re)=>le+re,0)]).sort((L,le)=>L[1]-le[1])[0])==null?void 0:ee[0];ce&&(te=ce);break}case"initialPlacement":te=f;break}if(o!==te)return{reset:{placement:te}}}return{}})}}};function W1(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Y1(e){return $4.some(t=>e[t]>=0)}const tP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,fn(n){return ve(this,null,function*(){const{rects:s}=n,c=Ga(e,n),{strategy:a="referenceHidden"}=c,o=Ce(c,["strategy"]);switch(a){case"referenceHidden":{const d=yield Ku(n,oe(z({},o),{elementContext:"reference"})),f=W1(d,s.reference);return{data:{referenceHiddenOffsets:f,referenceHidden:Y1(f)}}}case"escaped":{const d=yield Ku(n,oe(z({},o),{altBoundary:!0})),f=W1(d,s.floating);return{data:{escapedOffsets:f,escaped:Y1(f)}}}default:return{}}})}}},dS=new Set(["left","top"]);function nP(e,t){return ve(this,null,function*(){const{placement:n,platform:s,elements:a}=e,o=yield s.isRTL==null?void 0:s.isRTL(a.floating),c=Ka(n),d=cc(n),f=ua(n)==="y",h=dS.has(c)?-1:1,p=o&&f?-1:1,g=Ga(t,e);let{mainAxis:y,crossAxis:b,alignmentAxis:j}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return d&&typeof j=="number"&&(b=d==="end"?j*-1:j),f?{x:b*p,y:y*h}:{x:y*h,y:b*p}})}const sP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,fn(n){return ve(this,null,function*(){var s,a;const{x:o,y:c,placement:d,middlewareData:f}=n,h=yield nP(n,e);return d===((s=f.offset)==null?void 0:s.placement)&&(a=f.arrow)!=null&&a.alignmentOffset?{}:{x:o+h.x,y:c+h.y,data:oe(z({},h),{placement:d})}})}}},rP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,fn(n){return ve(this,null,function*(){const{x:s,y:a,placement:o}=n,N=Ga(e,n),{mainAxis:c=!0,crossAxis:d=!1,limiter:f={fn:R=>{let{x:E,y:k}=R;return{x:E,y:k}}}}=N,h=Ce(N,["mainAxis","crossAxis","limiter"]),p={x:s,y:a},g=yield Ku(n,h),y=ua(Ka(o)),b=cy(y);let j=p[b],v=p[y];if(c){const R=b==="y"?"top":"left",E=b==="y"?"bottom":"right",k=j+g[R],D=j-g[E];j=ex(k,j,D)}if(d){const R=y==="y"?"top":"left",E=y==="y"?"bottom":"right",k=v+g[R],D=v-g[E];v=ex(k,v,D)}const S=f.fn(oe(z({},n),{[b]:j,[y]:v}));return oe(z({},S),{data:{x:S.x-s,y:S.y-a,enabled:{[b]:c,[y]:d}}})})}}},aP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:a,rects:o,middlewareData:c}=t,{offset:d=0,mainAxis:f=!0,crossAxis:h=!0}=Ga(e,t),p={x:n,y:s},g=ua(a),y=cy(g);let b=p[y],j=p[g];const v=Ga(d,t),S=typeof v=="number"?{mainAxis:v,crossAxis:0}:z({mainAxis:0,crossAxis:0},v);if(f){const E=y==="y"?"height":"width",k=o.reference[y]-o.floating[E]+S.mainAxis,D=o.reference[y]+o.reference[E]-S.mainAxis;b<k?b=k:b>D&&(b=D)}if(h){var N,R;const E=y==="y"?"width":"height",k=dS.has(Ka(a)),D=o.reference[g]-o.floating[E]+(k&&((N=c.offset)==null?void 0:N[g])||0)+(k?0:S.crossAxis),C=o.reference[g]+o.reference[E]+(k?0:((R=c.offset)==null?void 0:R[g])||0)-(k?S.crossAxis:0);j<D?j=D:j>C&&(j=C)}return{[y]:b,[g]:j}}}},iP=function(e){return e===void 0&&(e={}),{name:"size",options:e,fn(n){return ve(this,null,function*(){var s,a;const{placement:o,rects:c,platform:d,elements:f}=n,$=Ga(e,n),{apply:h=()=>{}}=$,p=Ce($,["apply"]),g=yield Ku(n,p),y=Ka(o),b=cc(o),j=ua(o)==="y",{width:v,height:S}=c.floating;let N,R;y==="top"||y==="bottom"?(N=y,R=b===((yield d.isRTL==null?void 0:d.isRTL(f.floating))?"start":"end")?"left":"right"):(R=y,N=b==="end"?"top":"bottom");const E=S-g.top-g.bottom,k=v-g.left-g.right,D=Bi(S-g[N],E),C=Bi(v-g[R],k),A=!n.middlewareData.shift;let P=D,U=C;if((s=n.middlewareData.shift)!=null&&s.enabled.x&&(U=k),(a=n.middlewareData.shift)!=null&&a.enabled.y&&(P=E),A&&!b){const G=rr(g.left,0),W=rr(g.right,0),ee=rr(g.top,0),Y=rr(g.bottom,0);j?U=v-2*(G!==0||W!==0?G+W:rr(g.left,g.right)):P=S-2*(ee!==0||Y!==0?ee+Y:rr(g.top,g.bottom))}yield h(oe(z({},n),{availableWidth:U,availableHeight:P}));const K=yield d.getDimensions(f.floating);return v!==K.width||S!==K.height?{reset:{rects:!0}}:{}})}}};function pm(){return typeof window!="undefined"}function uc(e){return fS(e)?(e.nodeName||"").toLowerCase():"#document"}function ir(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function va(e){var t;return(t=(fS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function fS(e){return pm()?e instanceof Node||e instanceof ir(e).Node:!1}function Wr(e){return pm()?e instanceof Element||e instanceof ir(e).Element:!1}function xa(e){return pm()?e instanceof HTMLElement||e instanceof ir(e).HTMLElement:!1}function X1(e){return!pm()||typeof ShadowRoot=="undefined"?!1:e instanceof ShadowRoot||e instanceof ir(e).ShadowRoot}const oP=new Set(["inline","contents"]);function dd(e){const{overflow:t,overflowX:n,overflowY:s,display:a}=Yr(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!oP.has(a)}const lP=new Set(["table","td","th"]);function cP(e){return lP.has(uc(e))}const uP=[":popover-open",":modal"];function gm(e){return uP.some(t=>{try{return e.matches(t)}catch(n){return!1}})}const dP=["transform","translate","scale","rotate","perspective"],fP=["transform","translate","scale","rotate","perspective","filter"],hP=["paint","layout","strict","content"];function fy(e){const t=hy(),n=Wr(e)?Yr(e):e;return dP.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||fP.some(s=>(n.willChange||"").includes(s))||hP.some(s=>(n.contain||"").includes(s))}function mP(e){let t=$i(e);for(;xa(t)&&!nc(t);){if(fy(t))return t;if(gm(t))return null;t=$i(t)}return null}function hy(){return typeof CSS=="undefined"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const pP=new Set(["html","body","#document"]);function nc(e){return pP.has(uc(e))}function Yr(e){return ir(e).getComputedStyle(e)}function xm(e){return Wr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function $i(e){if(uc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||X1(e)&&e.host||va(e);return X1(t)?t.host:t}function hS(e){const t=$i(e);return nc(t)?e.ownerDocument?e.ownerDocument.body:e.body:xa(t)&&dd(t)?t:hS(t)}function Qu(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=hS(e),o=a===((s=e.ownerDocument)==null?void 0:s.body),c=ir(a);if(o){const d=nx(c);return t.concat(c,c.visualViewport||[],dd(a)?a:[],d&&n?Qu(d):[])}return t.concat(a,Qu(a,[],n))}function nx(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function mS(e){const t=Yr(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=xa(e),o=a?e.offsetWidth:n,c=a?e.offsetHeight:s,d=Fh(n)!==o||Fh(s)!==c;return d&&(n=o,s=c),{width:n,height:s,$:d}}function my(e){return Wr(e)?e:e.contextElement}function Kl(e){const t=my(e);if(!xa(t))return ma(1);const n=t.getBoundingClientRect(),{width:s,height:a,$:o}=mS(t);let c=(o?Fh(n.width):n.width)/s,d=(o?Fh(n.height):n.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const gP=ma(0);function pS(e){const t=ir(e);return!hy()||!t.visualViewport?gP:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function xP(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ir(e)?!1:t}function $o(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),o=my(e);let c=ma(1);t&&(s?Wr(s)&&(c=Kl(s)):c=Kl(e));const d=xP(o,n,s)?pS(o):ma(0);let f=(a.left+d.x)/c.x,h=(a.top+d.y)/c.y,p=a.width/c.x,g=a.height/c.y;if(o){const y=ir(o),b=s&&Wr(s)?ir(s):s;let j=y,v=nx(j);for(;v&&s&&b!==j;){const S=Kl(v),N=v.getBoundingClientRect(),R=Yr(v),E=N.left+(v.clientLeft+parseFloat(R.paddingLeft))*S.x,k=N.top+(v.clientTop+parseFloat(R.paddingTop))*S.y;f*=S.x,h*=S.y,p*=S.x,g*=S.y,f+=E,h+=k,j=ir(v),v=nx(j)}}return $h({width:p,height:g,x:f,y:h})}function py(e,t){const n=xm(e).scrollLeft;return t?t.left+n:$o(va(e)).left+n}function gS(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=s.left+t.scrollLeft-(n?0:py(e,s)),o=s.top+t.scrollTop;return{x:a,y:o}}function yP(e){let{elements:t,rect:n,offsetParent:s,strategy:a}=e;const o=a==="fixed",c=va(s),d=t?gm(t.floating):!1;if(s===c||d&&o)return n;let f={scrollLeft:0,scrollTop:0},h=ma(1);const p=ma(0),g=xa(s);if((g||!g&&!o)&&((uc(s)!=="body"||dd(c))&&(f=xm(s)),xa(s))){const b=$o(s);h=Kl(s),p.x=b.x+s.clientLeft,p.y=b.y+s.clientTop}const y=c&&!g&&!o?gS(c,f,!0):ma(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-f.scrollLeft*h.x+p.x+y.x,y:n.y*h.y-f.scrollTop*h.y+p.y+y.y}}function bP(e){return Array.from(e.getClientRects())}function vP(e){const t=va(e),n=xm(e),s=e.ownerDocument.body,a=rr(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),o=rr(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let c=-n.scrollLeft+py(e);const d=-n.scrollTop;return Yr(s).direction==="rtl"&&(c+=rr(t.clientWidth,s.clientWidth)-a),{width:a,height:o,x:c,y:d}}function wP(e,t){const n=ir(e),s=va(e),a=n.visualViewport;let o=s.clientWidth,c=s.clientHeight,d=0,f=0;if(a){o=a.width,c=a.height;const h=hy();(!h||h&&t==="fixed")&&(d=a.offsetLeft,f=a.offsetTop)}return{width:o,height:c,x:d,y:f}}const jP=new Set(["absolute","fixed"]);function _P(e,t){const n=$o(e,!0,t==="fixed"),s=n.top+e.clientTop,a=n.left+e.clientLeft,o=xa(e)?Kl(e):ma(1),c=e.clientWidth*o.x,d=e.clientHeight*o.y,f=a*o.x,h=s*o.y;return{width:c,height:d,x:f,y:h}}function G1(e,t,n){let s;if(t==="viewport")s=wP(e,n);else if(t==="document")s=vP(va(e));else if(Wr(t))s=_P(t,n);else{const a=pS(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return $h(s)}function xS(e,t){const n=$i(e);return n===t||!Wr(n)||nc(n)?!1:Yr(n).position==="fixed"||xS(n,t)}function NP(e,t){const n=t.get(e);if(n)return n;let s=Qu(e,[],!1).filter(d=>Wr(d)&&uc(d)!=="body"),a=null;const o=Yr(e).position==="fixed";let c=o?$i(e):e;for(;Wr(c)&&!nc(c);){const d=Yr(c),f=fy(c);!f&&d.position==="fixed"&&(a=null),(o?!f&&!a:!f&&d.position==="static"&&!!a&&jP.has(a.position)||dd(c)&&!f&&xS(e,c))?s=s.filter(p=>p!==c):a=d,c=$i(c)}return t.set(e,s),s}function SP(e){let{element:t,boundary:n,rootBoundary:s,strategy:a}=e;const c=[...n==="clippingAncestors"?gm(t)?[]:NP(t,this._c):[].concat(n),s],d=c[0],f=c.reduce((h,p)=>{const g=G1(t,p,a);return h.top=rr(g.top,h.top),h.right=Bi(g.right,h.right),h.bottom=Bi(g.bottom,h.bottom),h.left=rr(g.left,h.left),h},G1(t,d,a));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function TP(e){const{width:t,height:n}=mS(e);return{width:t,height:n}}function EP(e,t,n){const s=xa(t),a=va(t),o=n==="fixed",c=$o(e,!0,o,t);let d={scrollLeft:0,scrollTop:0};const f=ma(0);function h(){f.x=py(a)}if(s||!s&&!o)if((uc(t)!=="body"||dd(a))&&(d=xm(t)),s){const b=$o(t,!0,o,t);f.x=b.x+t.clientLeft,f.y=b.y+t.clientTop}else a&&h();o&&!s&&a&&h();const p=a&&!s&&!o?gS(a,d):ma(0),g=c.left+d.scrollLeft-f.x-p.x,y=c.top+d.scrollTop-f.y-p.y;return{x:g,y,width:c.width,height:c.height}}function e0(e){return Yr(e).position==="static"}function K1(e,t){if(!xa(e)||Yr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return va(e)===n&&(n=n.ownerDocument.body),n}function yS(e,t){const n=ir(e);if(gm(e))return n;if(!xa(e)){let a=$i(e);for(;a&&!nc(a);){if(Wr(a)&&!e0(a))return a;a=$i(a)}return n}let s=K1(e,t);for(;s&&cP(s)&&e0(s);)s=K1(s,t);return s&&nc(s)&&e0(s)&&!fy(s)?n:s||mP(e)||n}const kP=function(e){return ve(this,null,function*(){const t=this.getOffsetParent||yS,n=this.getDimensions,s=yield n(e.floating);return{reference:EP(e.reference,yield t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}})};function CP(e){return Yr(e).direction==="rtl"}const DP={convertOffsetParentRelativeRectToViewportRelativeRect:yP,getDocumentElement:va,getClippingRect:SP,getOffsetParent:yS,getElementRects:kP,getClientRects:bP,getDimensions:TP,getScale:Kl,isElement:Wr,isRTL:CP};function bS(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function OP(e,t){let n=null,s;const a=va(e);function o(){var d;clearTimeout(s),(d=n)==null||d.disconnect(),n=null}function c(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),o();const h=e.getBoundingClientRect(),{left:p,top:g,width:y,height:b}=h;if(d||t(),!y||!b)return;const j=Bf(g),v=Bf(a.clientWidth-(p+y)),S=Bf(a.clientHeight-(g+b)),N=Bf(p),E={rootMargin:-j+"px "+-v+"px "+-S+"px "+-N+"px",threshold:rr(0,Bi(1,f))||1};let k=!0;function D(C){const A=C[0].intersectionRatio;if(A!==f){if(!k)return c();A?c(!1,A):s=setTimeout(()=>{c(!1,1e-7)},1e3)}A===1&&!bS(h,e.getBoundingClientRect())&&c(),k=!1}try{n=new IntersectionObserver(D,oe(z({},E),{root:a.ownerDocument}))}catch(C){n=new IntersectionObserver(D,E)}n.observe(e)}return c(!0),o}function AP(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=s,h=my(e),p=a||o?[...h?Qu(h):[],...Qu(t)]:[];p.forEach(N=>{a&&N.addEventListener("scroll",n,{passive:!0}),o&&N.addEventListener("resize",n)});const g=h&&d?OP(h,n):null;let y=-1,b=null;c&&(b=new ResizeObserver(N=>{let[R]=N;R&&R.target===h&&b&&(b.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var E;(E=b)==null||E.observe(t)})),n()}),h&&!f&&b.observe(h),b.observe(t));let j,v=f?$o(e):null;f&&S();function S(){const N=$o(e);v&&!bS(v,N)&&n(),v=N,j=requestAnimationFrame(S)}return n(),()=>{var N;p.forEach(R=>{a&&R.removeEventListener("scroll",n),o&&R.removeEventListener("resize",n)}),g==null||g(),(N=b)==null||N.disconnect(),b=null,f&&cancelAnimationFrame(j)}}const RP=sP,MP=rP,PP=eP,LP=iP,zP=tP,Q1=J4,UP=aP,FP=(e,t,n)=>{const s=new Map,a=z({platform:DP},n),o=oe(z({},a.platform),{_c:s});return Z4(e,t,oe(z({},a),{platform:o}))};var BP=typeof document!="undefined",$P=function(){},Sh=BP?_.useLayoutEffect:$P;function Hh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!Hh(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=n;s--!==0;){const o=a[s];if(!(o==="_owner"&&e.$$typeof)&&!Hh(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function vS(e){return typeof window=="undefined"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Z1(e,t){const n=vS(e);return Math.round(t*n)/n}function t0(e){const t=_.useRef(e);return Sh(()=>{t.current=e}),t}function HP(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:o,floating:c}={},transform:d=!0,whileElementsMounted:f,open:h}=e,[p,g]=_.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[y,b]=_.useState(s);Hh(y,s)||b(s);const[j,v]=_.useState(null),[S,N]=_.useState(null),R=_.useCallback(te=>{te!==C.current&&(C.current=te,v(te))},[]),E=_.useCallback(te=>{te!==A.current&&(A.current=te,N(te))},[]),k=o||j,D=c||S,C=_.useRef(null),A=_.useRef(null),P=_.useRef(p),U=f!=null,K=t0(f),$=t0(a),G=t0(h),W=_.useCallback(()=>{if(!C.current||!A.current)return;const te={placement:t,strategy:n,middleware:y};$.current&&(te.platform=$.current),FP(C.current,A.current,te).then(ce=>{const L=oe(z({},ce),{isPositioned:G.current!==!1});ee.current&&!Hh(P.current,L)&&(P.current=L,mm.flushSync(()=>{g(L)}))})},[y,t,n,$,G]);Sh(()=>{h===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,g(te=>oe(z({},te),{isPositioned:!1})))},[h]);const ee=_.useRef(!1);Sh(()=>(ee.current=!0,()=>{ee.current=!1}),[]),Sh(()=>{if(k&&(C.current=k),D&&(A.current=D),k&&D){if(K.current)return K.current(k,D,W);W()}},[k,D,W,K,U]);const Y=_.useMemo(()=>({reference:C,floating:A,setReference:R,setFloating:E}),[R,E]),H=_.useMemo(()=>({reference:k,floating:D}),[k,D]),J=_.useMemo(()=>{const te={position:n,left:0,top:0};if(!H.floating)return te;const ce=Z1(H.floating,p.x),L=Z1(H.floating,p.y);return d?z(oe(z({},te),{transform:"translate("+ce+"px, "+L+"px)"}),vS(H.floating)>=1.5&&{willChange:"transform"}):{position:n,left:ce,top:L}},[n,d,H.floating,p.x,p.y]);return _.useMemo(()=>oe(z({},p),{update:W,refs:Y,elements:H,floatingStyles:J}),[p,W,Y,H,J])}const VP=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:a}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?Q1({element:s.current,padding:a}).fn(n):{}:s?Q1({element:s,padding:a}).fn(n):{}}}},IP=(e,t)=>oe(z({},RP(e)),{options:[e,t]}),qP=(e,t)=>oe(z({},MP(e)),{options:[e,t]}),WP=(e,t)=>oe(z({},UP(e)),{options:[e,t]}),YP=(e,t)=>oe(z({},PP(e)),{options:[e,t]}),XP=(e,t)=>oe(z({},LP(e)),{options:[e,t]}),GP=(e,t)=>oe(z({},zP(e)),{options:[e,t]}),KP=(e,t)=>oe(z({},VP(e)),{options:[e,t]});var QP="Arrow",wS=_.forwardRef((e,t)=>{const c=e,{children:n,width:s=10,height:a=5}=c,o=Ce(c,["children","width","height"]);return i.jsx(Ht.svg,oe(z({},o),{ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:i.jsx("polygon",{points:"0,0 30,0 15,10"})}))});wS.displayName=QP;var ZP=wS;function JP(e){const[t,n]=_.useState(void 0);return Cr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let c,d;if("borderBoxSize"in o){const f=o.borderBoxSize,h=Array.isArray(f)?f[0]:f;c=h.inlineSize,d=h.blockSize}else c=e.offsetWidth,d=e.offsetHeight;n({width:c,height:d})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var gy="Popper",[jS,_S]=cd(gy),[e5,NS]=jS(gy),SS=e=>{const{__scopePopper:t,children:n}=e,[s,a]=_.useState(null);return i.jsx(e5,{scope:t,anchor:s,onAnchorChange:a,children:n})};SS.displayName=gy;var TS="PopperAnchor",ES=_.forwardRef((e,t)=>{const h=e,{__scopePopper:n,virtualRef:s}=h,a=Ce(h,["__scopePopper","virtualRef"]),o=NS(TS,n),c=_.useRef(null),d=Cn(t,c),f=_.useRef(null);return _.useEffect(()=>{const p=f.current;f.current=(s==null?void 0:s.current)||c.current,p!==f.current&&o.onAnchorChange(f.current)}),s?null:i.jsx(Ht.div,oe(z({},a),{ref:d}))});ES.displayName=TS;var xy="PopperContent",[t5,n5]=jS(xy),kS=_.forwardRef((e,t)=>{var De,He,Pe,rt,Ge,pt,ze,Nt;const Ee=e,{__scopePopper:n,side:s="bottom",sideOffset:a=0,align:o="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:y=!1,updatePositionStrategy:b="optimized",onPlaced:j}=Ee,v=Ce(Ee,["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"]),S=NS(xy,n),[N,R]=_.useState(null),E=Cn(t,at=>R(at)),[k,D]=_.useState(null),C=JP(k),A=(De=C==null?void 0:C.width)!=null?De:0,P=(He=C==null?void 0:C.height)!=null?He:0,U=s+(o!=="center"?"-"+o:""),K=typeof p=="number"?p:z({top:0,right:0,bottom:0,left:0},p),$=Array.isArray(h)?h:[h],G=$.length>0,W={padding:K,boundary:$.filter(r5),altBoundary:G},{refs:ee,floatingStyles:Y,placement:H,isPositioned:J,middlewareData:te}=HP({strategy:"fixed",placement:U,whileElementsMounted:(...at)=>AP(...at,{animationFrame:b==="always"}),elements:{reference:S.anchor},middleware:[IP({mainAxis:a+P,alignmentAxis:c}),f&&qP(z({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?WP():void 0},W)),f&&YP(z({},W)),XP(oe(z({},W),{apply:({elements:at,rects:Me,availableWidth:st,availableHeight:ht})=>{const{width:X,height:fe}=Me.reference,q=at.floating.style;q.setProperty("--radix-popper-available-width",`${st}px`),q.setProperty("--radix-popper-available-height",`${ht}px`),q.setProperty("--radix-popper-anchor-width",`${X}px`),q.setProperty("--radix-popper-anchor-height",`${fe}px`)}})),k&&KP({element:k,padding:d}),a5({arrowWidth:A,arrowHeight:P}),y&&GP(z({strategy:"referenceHidden"},W))]}),[ce,L]=OS(H),le=ga(j);Cr(()=>{J&&(le==null||le())},[J,le]);const re=(Pe=te.arrow)==null?void 0:Pe.x,V=(rt=te.arrow)==null?void 0:rt.y,ne=((Ge=te.arrow)==null?void 0:Ge.centerOffset)!==0,[xe,me]=_.useState();return Cr(()=>{N&&me(window.getComputedStyle(N).zIndex)},[N]),i.jsx("div",{ref:ee.setFloating,"data-radix-popper-content-wrapper":"",style:z(oe(z({},Y),{transform:J?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xe,"--radix-popper-transform-origin":[(pt=te.transformOrigin)==null?void 0:pt.x,(ze=te.transformOrigin)==null?void 0:ze.y].join(" ")}),((Nt=te.hide)==null?void 0:Nt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:i.jsx(t5,{scope:n,placedSide:ce,onArrowChange:D,arrowX:re,arrowY:V,shouldHideArrow:ne,children:i.jsx(Ht.div,oe(z({"data-side":ce,"data-align":L},v),{ref:E,style:oe(z({},v.style),{animation:J?void 0:"none"})}))})})});kS.displayName=xy;var CS="PopperArrow",s5={top:"bottom",right:"left",bottom:"top",left:"right"},DS=_.forwardRef(function(t,n){const d=t,{__scopePopper:s}=d,a=Ce(d,["__scopePopper"]),o=n5(CS,s),c=s5[o.placedSide];return i.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:i.jsx(ZP,oe(z({},a),{ref:n,style:oe(z({},a.style),{display:"block"})}))})});DS.displayName=CS;function r5(e){return e!==null}var a5=e=>({name:"transformOrigin",options:e,fn(t){var S,N,R,E,k;const{placement:n,rects:s,middlewareData:a}=t,c=((S=a.arrow)==null?void 0:S.centerOffset)!==0,d=c?0:e.arrowWidth,f=c?0:e.arrowHeight,[h,p]=OS(n),g={start:"0%",center:"50%",end:"100%"}[p],y=((R=(N=a.arrow)==null?void 0:N.x)!=null?R:0)+d/2,b=((k=(E=a.arrow)==null?void 0:E.y)!=null?k:0)+f/2;let j="",v="";return h==="bottom"?(j=c?g:`${y}px`,v=`${-f}px`):h==="top"?(j=c?g:`${y}px`,v=`${s.floating.height+f}px`):h==="right"?(j=`${-f}px`,v=c?g:`${b}px`):h==="left"&&(j=`${s.floating.width+f}px`,v=c?g:`${b}px`),{data:{x:j,y:v}}}});function OS(e){const[t,n="center"]=e.split("-");return[t,n]}var i5=SS,AS=ES,o5=kS,l5=DS,c5="Portal",fd=_.forwardRef((e,t)=>{var f;const d=e,{container:n}=d,s=Ce(d,["container"]),[a,o]=_.useState(!1);Cr(()=>o(!0),[]);const c=n||a&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return c?eS.createPortal(i.jsx(Ht.div,oe(z({},s),{ref:t})),c):null});fd.displayName=c5;function u5(e,t){return _.useReducer((n,s)=>{const a=t[n][s];return a!=null?a:n},e)}var dc=e=>{const{present:t,children:n}=e,s=d5(t),a=typeof n=="function"?n({present:s.isPresent}):_.Children.only(n),o=Cn(s.ref,f5(a));return typeof n=="function"||s.isPresent?_.cloneElement(a,{ref:o}):null};dc.displayName="Presence";function d5(e){const[t,n]=_.useState(),s=_.useRef(null),a=_.useRef(e),o=_.useRef("none"),c=e?"mounted":"unmounted",[d,f]=u5(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const h=$f(s.current);o.current=d==="mounted"?h:"none"},[d]),Cr(()=>{const h=s.current,p=a.current;if(p!==e){const y=o.current,b=$f(h);e?f("MOUNT"):b==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(p&&y!==b?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,f]),Cr(()=>{var h;if(t){let p;const g=(h=t.ownerDocument.defaultView)!=null?h:window,y=j=>{const S=$f(s.current).includes(CSS.escape(j.animationName));if(j.target===t&&S&&(f("ANIMATION_END"),!a.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},b=j=>{j.target===t&&(o.current=$f(s.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",y),t.addEventListener("animationend",y),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",y),t.removeEventListener("animationend",y)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:_.useCallback(h=>{s.current=h?getComputedStyle(h):null,n(h)},[])}}function $f(e){return(e==null?void 0:e.animationName)||"none"}function f5(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var h5=GN[" useInsertionEffect ".trim().toString()]||Cr;function ym({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[a,o,c]=m5({defaultProp:t,onChange:n}),d=e!==void 0,f=d?e:a;{const p=_.useRef(e!==void 0);_.useEffect(()=>{const g=p.current;g!==d&&console.warn(`${s} is changing from ${g?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=d},[d,s])}const h=_.useCallback(p=>{var g;if(d){const y=p5(p)?p(e):p;y!==e&&((g=c.current)==null||g.call(c,y))}else o(p)},[d,e,o,c]);return[f,h]}function m5({defaultProp:e,onChange:t}){const[n,s]=_.useState(e),a=_.useRef(n),o=_.useRef(t);return h5(()=>{o.current=t},[t]),_.useEffect(()=>{var c;a.current!==n&&((c=o.current)==null||c.call(o,n),a.current=n)},[n,a]),[n,s,o]}function p5(e){return typeof e=="function"}var g5=function(e){if(typeof document=="undefined")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Pl=new WeakMap,Hf=new WeakMap,Vf={},n0=0,RS=function(e){return e&&(e.host||RS(e.parentNode))},x5=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=RS(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},y5=function(e,t,n,s){var a=x5(t,Array.isArray(e)?e:[e]);Vf[n]||(Vf[n]=new WeakMap);var o=Vf[n],c=[],d=new Set,f=new Set(a),h=function(g){!g||d.has(g)||(d.add(g),h(g.parentNode))};a.forEach(h);var p=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(y){if(d.has(y))p(y);else try{var b=y.getAttribute(s),j=b!==null&&b!=="false",v=(Pl.get(y)||0)+1,S=(o.get(y)||0)+1;Pl.set(y,v),o.set(y,S),c.push(y),v===1&&j&&Hf.set(y,!0),S===1&&y.setAttribute(n,"true"),j||y.setAttribute(s,"true")}catch(N){console.error("aria-hidden: cannot operate on ",y,N)}})};return p(t),d.clear(),n0++,function(){c.forEach(function(g){var y=Pl.get(g)-1,b=o.get(g)-1;Pl.set(g,y),o.set(g,b),y||(Hf.has(g)||g.removeAttribute(s),Hf.delete(g)),b||g.removeAttribute(n)}),n0--,n0||(Pl=new WeakMap,Pl=new WeakMap,Hf=new WeakMap,Vf={})}},bm=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=g5(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),y5(s,a,n,"aria-hidden")):function(){return null}},ca=function(){return ca=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ca.apply(this,arguments)};function MS(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function b5(e,t,n){if(n||arguments.length===2)for(var s=0,a=t.length,o;s<a;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return e.concat(o||Array.prototype.slice.call(t))}var Th="right-scroll-bar-position",Eh="width-before-scroll-bar",v5="with-scroll-bars-hidden",w5="--removed-body-scroll-bar-size";function s0(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function j5(e,t){var n=_.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=t,n.facade}var _5=typeof window!="undefined"?_.useLayoutEffect:_.useEffect,J1=new WeakMap;function N5(e,t){var n=j5(null,function(s){return e.forEach(function(a){return s0(a,s)})});return _5(function(){var s=J1.get(n);if(s){var a=new Set(s),o=new Set(e),c=n.current;a.forEach(function(d){o.has(d)||s0(d,null)}),o.forEach(function(d){a.has(d)||s0(d,c)})}J1.set(n,e)},[e]),n}function S5(e){return e}function T5(e,t){t===void 0&&(t=S5);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var c=t(o,s);return n.push(c),function(){n=n.filter(function(d){return d!==c})}},assignSyncMedium:function(o){for(s=!0;n.length;){var c=n;n=[],c.forEach(o)}n={push:function(d){return o(d)},filter:function(){return n}}},assignMedium:function(o){s=!0;var c=[];if(n.length){var d=n;n=[],d.forEach(o),c=n}var f=function(){var p=c;c=[],p.forEach(o)},h=function(){return Promise.resolve().then(f)};h(),n={push:function(p){c.push(p),h()},filter:function(p){return c=c.filter(p),n}}}};return a}function E5(e){e===void 0&&(e={});var t=T5(null);return t.options=ca({async:!0,ssr:!1},e),t}var PS=function(e){var t=e.sideCar,n=MS(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return _.createElement(s,ca({},n))};PS.isSideCarExport=!0;function k5(e,t){return e.useMedium(t),PS}var LS=E5(),r0=function(){},vm=_.forwardRef(function(e,t){var n=_.useRef(null),s=_.useState({onScrollCapture:r0,onWheelCapture:r0,onTouchMoveCapture:r0}),a=s[0],o=s[1],c=e.forwardProps,d=e.children,f=e.className,h=e.removeScrollBar,p=e.enabled,g=e.shards,y=e.sideCar,b=e.noRelative,j=e.noIsolation,v=e.inert,S=e.allowPinchZoom,N=e.as,R=N===void 0?"div":N,E=e.gapMode,k=MS(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=y,C=N5([n,t]),A=ca(ca({},k),a);return _.createElement(_.Fragment,null,p&&_.createElement(D,{sideCar:LS,removeScrollBar:h,shards:g,noRelative:b,noIsolation:j,inert:v,setCallbacks:o,allowPinchZoom:!!S,lockRef:n,gapMode:E}),c?_.cloneElement(_.Children.only(d),ca(ca({},A),{ref:C})):_.createElement(R,ca({},A,{className:f,ref:C}),d))});vm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};vm.classNames={fullWidth:Eh,zeroRight:Th};var C5=function(){if(typeof __webpack_nonce__!="undefined")return __webpack_nonce__};function D5(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=C5();return t&&e.setAttribute("nonce",t),e}function O5(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function A5(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var R5=function(){var e=0,t=null;return{add:function(n){e==0&&(t=D5())&&(O5(t,n),A5(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},M5=function(){var e=R5();return function(t,n){_.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},zS=function(){var e=M5(),t=function(n){var s=n.styles,a=n.dynamic;return e(s,a),null};return t},P5={left:0,top:0,right:0,gap:0},a0=function(e){return parseInt(e||"",10)||0},L5=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[a0(n),a0(s),a0(a)]},z5=function(e){if(e===void 0&&(e="margin"),typeof window=="undefined")return P5;var t=L5(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},U5=zS(),Ql="data-scroll-locked",F5=function(e,t,n,s){var a=e.left,o=e.top,c=e.right,d=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(v5,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(d,"px ").concat(s,`;
  }
  body[`).concat(Ql,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Th,` {
    right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(Eh,` {
    margin-right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(Th," .").concat(Th,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Eh," .").concat(Eh,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Ql,`] {
    `).concat(w5,": ").concat(d,`px;
  }
`)},e_=function(){var e=parseInt(document.body.getAttribute(Ql)||"0",10);return isFinite(e)?e:0},B5=function(){_.useEffect(function(){return document.body.setAttribute(Ql,(e_()+1).toString()),function(){var e=e_()-1;e<=0?document.body.removeAttribute(Ql):document.body.setAttribute(Ql,e.toString())}},[])},$5=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;B5();var o=_.useMemo(function(){return z5(a)},[a]);return _.createElement(U5,{styles:F5(o,!t,a,n?"":"!important")})},sx=!1;if(typeof window!="undefined")try{var If=Object.defineProperty({},"passive",{get:function(){return sx=!0,!0}});window.addEventListener("test",If,If),window.removeEventListener("test",If,If)}catch(e){sx=!1}var Ll=sx?{passive:!1}:!1,H5=function(e){return e.tagName==="TEXTAREA"},US=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!H5(e)&&n[t]==="visible")},V5=function(e){return US(e,"overflowY")},I5=function(e){return US(e,"overflowX")},t_=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot!="undefined"&&s instanceof ShadowRoot&&(s=s.host);var a=FS(e,s);if(a){var o=BS(e,s),c=o[1],d=o[2];if(c>d)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},q5=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},W5=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},FS=function(e,t){return e==="v"?V5(t):I5(t)},BS=function(e,t){return e==="v"?q5(t):W5(t)},Y5=function(e,t){return e==="h"&&t==="rtl"?-1:1},X5=function(e,t,n,s,a){var o=Y5(e,window.getComputedStyle(t).direction),c=o*s,d=n.target,f=t.contains(d),h=!1,p=c>0,g=0,y=0;do{if(!d)break;var b=BS(e,d),j=b[0],v=b[1],S=b[2],N=v-S-o*j;(j||N)&&FS(e,d)&&(g+=N,y+=j);var R=d.parentNode;d=R&&R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?R.host:R}while(!f&&d!==document.body||f&&(t.contains(d)||t===d));return(p&&Math.abs(g)<1||!p&&Math.abs(y)<1)&&(h=!0),h},qf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},n_=function(e){return[e.deltaX,e.deltaY]},s_=function(e){return e&&"current"in e?e.current:e},G5=function(e,t){return e[0]===t[0]&&e[1]===t[1]},K5=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Q5=0,zl=[];function Z5(e){var t=_.useRef([]),n=_.useRef([0,0]),s=_.useRef(),a=_.useState(Q5++)[0],o=_.useState(zS)[0],c=_.useRef(e);_.useEffect(function(){c.current=e},[e]),_.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var v=b5([e.lockRef.current],(e.shards||[]).map(s_),!0).filter(Boolean);return v.forEach(function(S){return S.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),v.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var d=_.useCallback(function(v,S){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!c.current.allowPinchZoom;var N=qf(v),R=n.current,E="deltaX"in v?v.deltaX:R[0]-N[0],k="deltaY"in v?v.deltaY:R[1]-N[1],D,C=v.target,A=Math.abs(E)>Math.abs(k)?"h":"v";if("touches"in v&&A==="h"&&C.type==="range")return!1;var P=t_(A,C);if(!P)return!0;if(P?D=A:(D=A==="v"?"h":"v",P=t_(A,C)),!P)return!1;if(!s.current&&"changedTouches"in v&&(E||k)&&(s.current=D),!D)return!0;var U=s.current||D;return X5(U,S,v,U==="h"?E:k)},[]),f=_.useCallback(function(v){var S=v;if(!(!zl.length||zl[zl.length-1]!==o)){var N="deltaY"in S?n_(S):qf(S),R=t.current.filter(function(D){return D.name===S.type&&(D.target===S.target||S.target===D.shadowParent)&&G5(D.delta,N)})[0];if(R&&R.should){S.cancelable&&S.preventDefault();return}if(!R){var E=(c.current.shards||[]).map(s_).filter(Boolean).filter(function(D){return D.contains(S.target)}),k=E.length>0?d(S,E[0]):!c.current.noIsolation;k&&S.cancelable&&S.preventDefault()}}},[]),h=_.useCallback(function(v,S,N,R){var E={name:v,delta:S,target:N,should:R,shadowParent:J5(N)};t.current.push(E),setTimeout(function(){t.current=t.current.filter(function(k){return k!==E})},1)},[]),p=_.useCallback(function(v){n.current=qf(v),s.current=void 0},[]),g=_.useCallback(function(v){h(v.type,n_(v),v.target,d(v,e.lockRef.current))},[]),y=_.useCallback(function(v){h(v.type,qf(v),v.target,d(v,e.lockRef.current))},[]);_.useEffect(function(){return zl.push(o),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:y}),document.addEventListener("wheel",f,Ll),document.addEventListener("touchmove",f,Ll),document.addEventListener("touchstart",p,Ll),function(){zl=zl.filter(function(v){return v!==o}),document.removeEventListener("wheel",f,Ll),document.removeEventListener("touchmove",f,Ll),document.removeEventListener("touchstart",p,Ll)}},[]);var b=e.removeScrollBar,j=e.inert;return _.createElement(_.Fragment,null,j?_.createElement(o,{styles:K5(a)}):null,b?_.createElement($5,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function J5(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const e6=k5(LS,Z5);var hd=_.forwardRef(function(e,t){return _.createElement(vm,ca({},e,{ref:t,sideCar:e6}))});hd.classNames=vm.classNames;var wm="Popover",[$S,iH]=cd(wm,[_S]),md=_S(),[t6,Yi]=$S(wm),HS=e=>{const{__scopePopover:t,children:n,open:s,defaultOpen:a,onOpenChange:o,modal:c=!1}=e,d=md(t),f=_.useRef(null),[h,p]=_.useState(!1),[g,y]=ym({prop:s,defaultProp:a!=null?a:!1,onChange:o,caller:wm});return i.jsx(i5,oe(z({},d),{children:i.jsx(t6,{scope:t,contentId:Es(),triggerRef:f,open:g,onOpenChange:y,onOpenToggle:_.useCallback(()=>y(b=>!b),[y]),hasCustomAnchor:h,onCustomAnchorAdd:_.useCallback(()=>p(!0),[]),onCustomAnchorRemove:_.useCallback(()=>p(!1),[]),modal:c,children:n})}))};HS.displayName=wm;var VS="PopoverAnchor",n6=_.forwardRef((e,t)=>{const f=e,{__scopePopover:n}=f,s=Ce(f,["__scopePopover"]),a=Yi(VS,n),o=md(n),{onCustomAnchorAdd:c,onCustomAnchorRemove:d}=a;return _.useEffect(()=>(c(),()=>d()),[c,d]),i.jsx(AS,oe(z(z({},o),s),{ref:t}))});n6.displayName=VS;var IS="PopoverTrigger",qS=_.forwardRef((e,t)=>{const f=e,{__scopePopover:n}=f,s=Ce(f,["__scopePopover"]),a=Yi(IS,n),o=md(n),c=Cn(t,a.triggerRef),d=i.jsx(Ht.button,oe(z({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":KS(a.open)},s),{ref:c,onClick:ar(e.onClick,a.onOpenToggle)}));return a.hasCustomAnchor?d:i.jsx(AS,oe(z({asChild:!0},o),{children:d}))});qS.displayName=IS;var yy="PopoverPortal",[s6,r6]=$S(yy,{forceMount:void 0}),WS=e=>{const{__scopePopover:t,forceMount:n,children:s,container:a}=e,o=Yi(yy,t);return i.jsx(s6,{scope:t,forceMount:n,children:i.jsx(dc,{present:n||o.open,children:i.jsx(fd,{asChild:!0,container:a,children:s})})})};WS.displayName=yy;var sc="PopoverContent",YS=_.forwardRef((e,t)=>{const n=r6(sc,e.__scopePopover),c=e,{forceMount:s=n.forceMount}=c,a=Ce(c,["forceMount"]),o=Yi(sc,e.__scopePopover);return i.jsx(dc,{present:s||o.open,children:o.modal?i.jsx(i6,oe(z({},a),{ref:t})):i.jsx(o6,oe(z({},a),{ref:t}))})});YS.displayName=sc;var a6=lc("PopoverContent.RemoveScroll"),i6=_.forwardRef((e,t)=>{const n=Yi(sc,e.__scopePopover),s=_.useRef(null),a=Cn(t,s),o=_.useRef(!1);return _.useEffect(()=>{const c=s.current;if(c)return bm(c)},[]),i.jsx(hd,{as:a6,allowPinchZoom:!0,children:i.jsx(XS,oe(z({},e),{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ar(e.onCloseAutoFocus,c=>{var d;c.preventDefault(),o.current||(d=n.triggerRef.current)==null||d.focus()}),onPointerDownOutside:ar(e.onPointerDownOutside,c=>{const d=c.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,h=d.button===2||f;o.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:ar(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})}))})}),o6=_.forwardRef((e,t)=>{const n=Yi(sc,e.__scopePopover),s=_.useRef(!1),a=_.useRef(!1);return i.jsx(XS,oe(z({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,d;(c=e.onCloseAutoFocus)==null||c.call(e,o),o.defaultPrevented||(s.current||(d=n.triggerRef.current)==null||d.focus(),o.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:o=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=o.target;((h=n.triggerRef.current)==null?void 0:h.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}}))}),XS=_.forwardRef((e,t)=>{const j=e,{__scopePopover:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:p}=j,g=Ce(j,["__scopePopover","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside"]),y=Yi(sc,n),b=md(n);return lS(),i.jsx(ud,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:o,children:i.jsx(ly,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:p,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onDismiss:()=>y.onOpenChange(!1),children:i.jsx(o5,oe(z(z({"data-state":KS(y.open),role:"dialog",id:y.contentId},b),g),{ref:t,style:oe(z({},g.style),{"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"})}))})})}),GS="PopoverClose",l6=_.forwardRef((e,t)=>{const o=e,{__scopePopover:n}=o,s=Ce(o,["__scopePopover"]),a=Yi(GS,n);return i.jsx(Ht.button,oe(z({type:"button"},s),{ref:t,onClick:ar(e.onClick,()=>a.onOpenChange(!1))}))});l6.displayName=GS;var c6="PopoverArrow",u6=_.forwardRef((e,t)=>{const o=e,{__scopePopover:n}=o,s=Ce(o,["__scopePopover"]),a=md(n);return i.jsx(l5,oe(z(z({},a),s),{ref:t}))});u6.displayName=c6;function KS(e){return e?"open":"closed"}var d6=HS,f6=qS,h6=WS,m6=YS;function QS(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=QS(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function ZS(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=QS(e))&&(s&&(s+=" "),s+=t);return s}const by="-",p6=e=>{const t=x6(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:c=>{const d=c.split(by);return d[0]===""&&d.length!==1&&d.shift(),JS(d,t)||g6(c)},getConflictingClassGroupIds:(c,d)=>{const f=n[c]||[];return d&&s[c]?[...f,...s[c]]:f}}},JS=(e,t)=>{var c;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),a=s?JS(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(by);return(c=t.validators.find(({validator:d})=>d(o)))==null?void 0:c.classGroupId},r_=/^\[(.+)\]$/,g6=e=>{if(r_.test(e)){const t=r_.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},x6=e=>{const{theme:t,classGroups:n}=e,s={nextPart:new Map,validators:[]};for(const a in n)rx(n[a],s,a,t);return s},rx=(e,t,n,s)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:a_(t,a);o.classGroupId=n;return}if(typeof a=="function"){if(y6(a)){rx(a(s),t,n,s);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([o,c])=>{rx(c,a_(t,o),n,s)})})},a_=(e,t)=>{let n=e;return t.split(by).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},y6=e=>e.isThemeGetter,b6=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const a=(o,c)=>{n.set(o,c),t++,t>e&&(t=0,s=n,n=new Map)};return{get(o){let c=n.get(o);if(c!==void 0)return c;if((c=s.get(o))!==void 0)return a(o,c),c},set(o,c){n.has(o)?n.set(o,c):a(o,c)}}},ax="!",ix=":",v6=ix.length,w6=e=>{const{prefix:t,experimentalParseClassName:n}=e;let s=a=>{const o=[];let c=0,d=0,f=0,h;for(let j=0;j<a.length;j++){let v=a[j];if(c===0&&d===0){if(v===ix){o.push(a.slice(f,j)),f=j+v6;continue}if(v==="/"){h=j;continue}}v==="["?c++:v==="]"?c--:v==="("?d++:v===")"&&d--}const p=o.length===0?a:a.substring(f),g=j6(p),y=g!==p,b=h&&h>f?h-f:void 0;return{modifiers:o,hasImportantModifier:y,baseClassName:g,maybePostfixModifierPosition:b}};if(t){const a=t+ix,o=s;s=c=>c.startsWith(a)?o(c.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(n){const a=s;s=o=>n({className:o,parseClassName:a})}return s},j6=e=>e.endsWith(ax)?e.substring(0,e.length-1):e.startsWith(ax)?e.substring(1):e,_6=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const a=[];let o=[];return s.forEach(c=>{c[0]==="["||t[c]?(a.push(...o.sort(),c),o=[]):o.push(c)}),a.push(...o.sort()),a}},N6=e=>z({cache:b6(e.cacheSize),parseClassName:w6(e),sortModifiers:_6(e)},p6(e)),S6=/\s+/,T6=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:o}=t,c=[],d=e.trim().split(S6);let f="";for(let h=d.length-1;h>=0;h-=1){const p=d[h],{isExternal:g,modifiers:y,hasImportantModifier:b,baseClassName:j,maybePostfixModifierPosition:v}=n(p);if(g){f=p+(f.length>0?" "+f:f);continue}let S=!!v,N=s(S?j.substring(0,v):j);if(!N){if(!S){f=p+(f.length>0?" "+f:f);continue}if(N=s(j),!N){f=p+(f.length>0?" "+f:f);continue}S=!1}const R=o(y).join(":"),E=b?R+ax:R,k=E+N;if(c.includes(k))continue;c.push(k);const D=a(N,S);for(let C=0;C<D.length;++C){const A=D[C];c.push(E+A)}f=p+(f.length>0?" "+f:f)}return f};function E6(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=eT(t))&&(s&&(s+=" "),s+=n);return s}const eT=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=eT(e[s]))&&(n&&(n+=" "),n+=t);return n};function k6(e,...t){let n,s,a,o=c;function c(f){const h=t.reduce((p,g)=>g(p),e());return n=N6(h),s=n.cache.get,a=n.cache.set,o=d,d(f)}function d(f){const h=s(f);if(h)return h;const p=T6(f,n);return a(f,p),p}return function(){return o(E6.apply(null,arguments))}}const es=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},tT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,nT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,C6=/^\d+\/\d+$/,D6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,O6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,A6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,R6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,M6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ul=e=>C6.test(e),Pt=e=>!!e&&!Number.isNaN(Number(e)),Si=e=>!!e&&Number.isInteger(Number(e)),i0=e=>e.endsWith("%")&&Pt(e.slice(0,-1)),Fa=e=>D6.test(e),P6=()=>!0,L6=e=>O6.test(e)&&!A6.test(e),sT=()=>!1,z6=e=>R6.test(e),U6=e=>M6.test(e),F6=e=>!Ze(e)&&!Je(e),B6=e=>fc(e,iT,sT),Ze=e=>tT.test(e),wo=e=>fc(e,oT,L6),o0=e=>fc(e,q6,Pt),i_=e=>fc(e,rT,sT),$6=e=>fc(e,aT,U6),Wf=e=>fc(e,lT,z6),Je=e=>nT.test(e),wu=e=>hc(e,oT),H6=e=>hc(e,W6),o_=e=>hc(e,rT),V6=e=>hc(e,iT),I6=e=>hc(e,aT),Yf=e=>hc(e,lT,!0),fc=(e,t,n)=>{const s=tT.exec(e);return s?s[1]?t(s[1]):n(s[2]):!1},hc=(e,t,n=!1)=>{const s=nT.exec(e);return s?s[1]?t(s[1]):n:!1},rT=e=>e==="position"||e==="percentage",aT=e=>e==="image"||e==="url",iT=e=>e==="length"||e==="size"||e==="bg-size",oT=e=>e==="length",q6=e=>e==="number",W6=e=>e==="family-name",lT=e=>e==="shadow",Y6=()=>{const e=es("color"),t=es("font"),n=es("text"),s=es("font-weight"),a=es("tracking"),o=es("leading"),c=es("breakpoint"),d=es("container"),f=es("spacing"),h=es("radius"),p=es("shadow"),g=es("inset-shadow"),y=es("text-shadow"),b=es("drop-shadow"),j=es("blur"),v=es("perspective"),S=es("aspect"),N=es("ease"),R=es("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],D=()=>[...k(),Je,Ze],C=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto","contain","none"],P=()=>[Je,Ze,f],U=()=>[Ul,"full","auto",...P()],K=()=>[Si,"none","subgrid",Je,Ze],$=()=>["auto",{span:["full",Si,Je,Ze]},Si,Je,Ze],G=()=>[Si,"auto",Je,Ze],W=()=>["auto","min","max","fr",Je,Ze],ee=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Y=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...P()],J=()=>[Ul,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],te=()=>[e,Je,Ze],ce=()=>[...k(),o_,i_,{position:[Je,Ze]}],L=()=>["no-repeat",{repeat:["","x","y","space","round"]}],le=()=>["auto","cover","contain",V6,B6,{size:[Je,Ze]}],re=()=>[i0,wu,wo],V=()=>["","none","full",h,Je,Ze],ne=()=>["",Pt,wu,wo],xe=()=>["solid","dashed","dotted","double"],me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ee=()=>[Pt,i0,o_,i_],De=()=>["","none",j,Je,Ze],He=()=>["none",Pt,Je,Ze],Pe=()=>["none",Pt,Je,Ze],rt=()=>[Pt,Je,Ze],Ge=()=>[Ul,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Fa],breakpoint:[Fa],color:[P6],container:[Fa],"drop-shadow":[Fa],ease:["in","out","in-out"],font:[F6],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Fa],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Fa],shadow:[Fa],spacing:["px",Pt],text:[Fa],"text-shadow":[Fa],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ul,Ze,Je,S]}],container:["container"],columns:[{columns:[Pt,Ze,Je,d]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:U()}],"inset-x":[{"inset-x":U()}],"inset-y":[{"inset-y":U()}],start:[{start:U()}],end:[{end:U()}],top:[{top:U()}],right:[{right:U()}],bottom:[{bottom:U()}],left:[{left:U()}],visibility:["visible","invisible","collapse"],z:[{z:[Si,"auto",Je,Ze]}],basis:[{basis:[Ul,"full","auto",d,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Pt,Ul,"auto","initial","none",Ze]}],grow:[{grow:["",Pt,Je,Ze]}],shrink:[{shrink:["",Pt,Je,Ze]}],order:[{order:[Si,"first","last","none",Je,Ze]}],"grid-cols":[{"grid-cols":K()}],"col-start-end":[{col:$()}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":K()}],"row-start-end":[{row:$()}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":W()}],"auto-rows":[{"auto-rows":W()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...ee(),"normal"]}],"justify-items":[{"justify-items":[...Y(),"normal"]}],"justify-self":[{"justify-self":["auto",...Y()]}],"align-content":[{content:["normal",...ee()]}],"align-items":[{items:[...Y(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Y(),{baseline:["","last"]}]}],"place-content":[{"place-content":ee()}],"place-items":[{"place-items":[...Y(),"baseline"]}],"place-self":[{"place-self":["auto",...Y()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:J()}],w:[{w:[d,"screen",...J()]}],"min-w":[{"min-w":[d,"screen","none",...J()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...J()]}],h:[{h:["screen","lh",...J()]}],"min-h":[{"min-h":["screen","lh","none",...J()]}],"max-h":[{"max-h":["screen","lh",...J()]}],"font-size":[{text:["base",n,wu,wo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Je,o0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",i0,Ze]}],"font-family":[{font:[H6,Ze,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Je,Ze]}],"line-clamp":[{"line-clamp":[Pt,"none",Je,o0]}],leading:[{leading:[o,...P()]}],"list-image":[{"list-image":["none",Je,Ze]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Je,Ze]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:te()}],"text-color":[{text:te()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...xe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Pt,"from-font","auto",Je,wo]}],"text-decoration-color":[{decoration:te()}],"underline-offset":[{"underline-offset":[Pt,"auto",Je,Ze]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Je,Ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Je,Ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ce()}],"bg-repeat":[{bg:L()}],"bg-size":[{bg:le()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Si,Je,Ze],radial:["",Je,Ze],conic:[Si,Je,Ze]},I6,$6]}],"bg-color":[{bg:te()}],"gradient-from-pos":[{from:re()}],"gradient-via-pos":[{via:re()}],"gradient-to-pos":[{to:re()}],"gradient-from":[{from:te()}],"gradient-via":[{via:te()}],"gradient-to":[{to:te()}],rounded:[{rounded:V()}],"rounded-s":[{"rounded-s":V()}],"rounded-e":[{"rounded-e":V()}],"rounded-t":[{"rounded-t":V()}],"rounded-r":[{"rounded-r":V()}],"rounded-b":[{"rounded-b":V()}],"rounded-l":[{"rounded-l":V()}],"rounded-ss":[{"rounded-ss":V()}],"rounded-se":[{"rounded-se":V()}],"rounded-ee":[{"rounded-ee":V()}],"rounded-es":[{"rounded-es":V()}],"rounded-tl":[{"rounded-tl":V()}],"rounded-tr":[{"rounded-tr":V()}],"rounded-br":[{"rounded-br":V()}],"rounded-bl":[{"rounded-bl":V()}],"border-w":[{border:ne()}],"border-w-x":[{"border-x":ne()}],"border-w-y":[{"border-y":ne()}],"border-w-s":[{"border-s":ne()}],"border-w-e":[{"border-e":ne()}],"border-w-t":[{"border-t":ne()}],"border-w-r":[{"border-r":ne()}],"border-w-b":[{"border-b":ne()}],"border-w-l":[{"border-l":ne()}],"divide-x":[{"divide-x":ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...xe(),"hidden","none"]}],"divide-style":[{divide:[...xe(),"hidden","none"]}],"border-color":[{border:te()}],"border-color-x":[{"border-x":te()}],"border-color-y":[{"border-y":te()}],"border-color-s":[{"border-s":te()}],"border-color-e":[{"border-e":te()}],"border-color-t":[{"border-t":te()}],"border-color-r":[{"border-r":te()}],"border-color-b":[{"border-b":te()}],"border-color-l":[{"border-l":te()}],"divide-color":[{divide:te()}],"outline-style":[{outline:[...xe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Pt,Je,Ze]}],"outline-w":[{outline:["",Pt,wu,wo]}],"outline-color":[{outline:te()}],shadow:[{shadow:["","none",p,Yf,Wf]}],"shadow-color":[{shadow:te()}],"inset-shadow":[{"inset-shadow":["none",g,Yf,Wf]}],"inset-shadow-color":[{"inset-shadow":te()}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:te()}],"ring-offset-w":[{"ring-offset":[Pt,wo]}],"ring-offset-color":[{"ring-offset":te()}],"inset-ring-w":[{"inset-ring":ne()}],"inset-ring-color":[{"inset-ring":te()}],"text-shadow":[{"text-shadow":["none",y,Yf,Wf]}],"text-shadow-color":[{"text-shadow":te()}],opacity:[{opacity:[Pt,Je,Ze]}],"mix-blend":[{"mix-blend":[...me(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":me()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Pt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ee()}],"mask-image-linear-from-color":[{"mask-linear-from":te()}],"mask-image-linear-to-color":[{"mask-linear-to":te()}],"mask-image-t-from-pos":[{"mask-t-from":Ee()}],"mask-image-t-to-pos":[{"mask-t-to":Ee()}],"mask-image-t-from-color":[{"mask-t-from":te()}],"mask-image-t-to-color":[{"mask-t-to":te()}],"mask-image-r-from-pos":[{"mask-r-from":Ee()}],"mask-image-r-to-pos":[{"mask-r-to":Ee()}],"mask-image-r-from-color":[{"mask-r-from":te()}],"mask-image-r-to-color":[{"mask-r-to":te()}],"mask-image-b-from-pos":[{"mask-b-from":Ee()}],"mask-image-b-to-pos":[{"mask-b-to":Ee()}],"mask-image-b-from-color":[{"mask-b-from":te()}],"mask-image-b-to-color":[{"mask-b-to":te()}],"mask-image-l-from-pos":[{"mask-l-from":Ee()}],"mask-image-l-to-pos":[{"mask-l-to":Ee()}],"mask-image-l-from-color":[{"mask-l-from":te()}],"mask-image-l-to-color":[{"mask-l-to":te()}],"mask-image-x-from-pos":[{"mask-x-from":Ee()}],"mask-image-x-to-pos":[{"mask-x-to":Ee()}],"mask-image-x-from-color":[{"mask-x-from":te()}],"mask-image-x-to-color":[{"mask-x-to":te()}],"mask-image-y-from-pos":[{"mask-y-from":Ee()}],"mask-image-y-to-pos":[{"mask-y-to":Ee()}],"mask-image-y-from-color":[{"mask-y-from":te()}],"mask-image-y-to-color":[{"mask-y-to":te()}],"mask-image-radial":[{"mask-radial":[Je,Ze]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ee()}],"mask-image-radial-from-color":[{"mask-radial-from":te()}],"mask-image-radial-to-color":[{"mask-radial-to":te()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[Pt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ee()}],"mask-image-conic-from-color":[{"mask-conic-from":te()}],"mask-image-conic-to-color":[{"mask-conic-to":te()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ce()}],"mask-repeat":[{mask:L()}],"mask-size":[{mask:le()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Je,Ze]}],filter:[{filter:["","none",Je,Ze]}],blur:[{blur:De()}],brightness:[{brightness:[Pt,Je,Ze]}],contrast:[{contrast:[Pt,Je,Ze]}],"drop-shadow":[{"drop-shadow":["","none",b,Yf,Wf]}],"drop-shadow-color":[{"drop-shadow":te()}],grayscale:[{grayscale:["",Pt,Je,Ze]}],"hue-rotate":[{"hue-rotate":[Pt,Je,Ze]}],invert:[{invert:["",Pt,Je,Ze]}],saturate:[{saturate:[Pt,Je,Ze]}],sepia:[{sepia:["",Pt,Je,Ze]}],"backdrop-filter":[{"backdrop-filter":["","none",Je,Ze]}],"backdrop-blur":[{"backdrop-blur":De()}],"backdrop-brightness":[{"backdrop-brightness":[Pt,Je,Ze]}],"backdrop-contrast":[{"backdrop-contrast":[Pt,Je,Ze]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Pt,Je,Ze]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Pt,Je,Ze]}],"backdrop-invert":[{"backdrop-invert":["",Pt,Je,Ze]}],"backdrop-opacity":[{"backdrop-opacity":[Pt,Je,Ze]}],"backdrop-saturate":[{"backdrop-saturate":[Pt,Je,Ze]}],"backdrop-sepia":[{"backdrop-sepia":["",Pt,Je,Ze]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Je,Ze]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Pt,"initial",Je,Ze]}],ease:[{ease:["linear","initial",N,Je,Ze]}],delay:[{delay:[Pt,Je,Ze]}],animate:[{animate:["none",R,Je,Ze]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,Je,Ze]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:He()}],"rotate-x":[{"rotate-x":He()}],"rotate-y":[{"rotate-y":He()}],"rotate-z":[{"rotate-z":He()}],scale:[{scale:Pe()}],"scale-x":[{"scale-x":Pe()}],"scale-y":[{"scale-y":Pe()}],"scale-z":[{"scale-z":Pe()}],"scale-3d":["scale-3d"],skew:[{skew:rt()}],"skew-x":[{"skew-x":rt()}],"skew-y":[{"skew-y":rt()}],transform:[{transform:[Je,Ze,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ge()}],"translate-x":[{"translate-x":Ge()}],"translate-y":[{"translate-y":Ge()}],"translate-z":[{"translate-z":Ge()}],"translate-none":["translate-none"],accent:[{accent:te()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:te()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Je,Ze]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Je,Ze]}],fill:[{fill:["none",...te()]}],"stroke-w":[{stroke:[Pt,wu,wo,o0]}],stroke:[{stroke:["none",...te()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},X6=k6(Y6);function _n(...e){return X6(ZS(e))}function vy(t){var e=Ce(t,[]);return i.jsx(d6,z({"data-slot":"popover"},e))}function wy(t){var e=Ce(t,[]);return i.jsx(f6,z({"data-slot":"popover-trigger"},e))}function jy(a){var o=a,{className:e,align:t="center",sideOffset:n=4}=o,s=Ce(o,["className","align","sideOffset"]);return i.jsx(h6,{children:i.jsx(m6,z({"data-slot":"popover-content",align:t,sideOffset:n,className:_n("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-[10000] w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e)},s))})}const Iu=class Iu{static useUsers(){const{data:t,isLoading:n,error:s}=Ot("User",{fields:Iu.USER_FIELDS,filters:[["enabled","=",1],["user_type","=","System User"]],limit:0});return{data:t||[],isLoading:n,error:s}}static useCurrentUser(){const{currentUser:t,isLoading:n}=or();return{currentUser:t,isLoading:n}}static useCurrentUserProfile(){const{currentUser:t}=or(),{data:n,isLoading:s,error:a}=bn("User",t||void 0,{fields:Iu.USER_FIELDS});return{currentUserProfile:n,isLoading:s,error:a}}};_t(Iu,"USER_FIELDS",["name","email","full_name","first_name","last_name","user_image","enabled","user_type","role_profile_name"]);let Vh=Iu;const G6=Vh.useCurrentUser,K6=Vh.useCurrentUserProfile,Q6=()=>ve(null,null,function*(){try{const e=yield fetch("/api/method/frappe.auth.get_logged_user",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token||""}});if(e.status===401||e.status===403)return{isValid:!1};if(e.ok){const t=yield e.json();if(t&&!t.exc)return{isValid:!0}}return{isValid:!1}}catch(e){return console.error("Token validation error:",e),{isValid:!1}}}),cT=()=>{try{localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(t=>{const n=t.indexOf("="),s=n>-1?t.substr(0,n).trim():t.trim();document.cookie=`${s}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;domain=${window.location.hostname}`,document.cookie=`${s}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/`}),console.warn("Session expired. Redirecting to login...");const e="/login";window.location.href=e}catch(e){console.error("Error handling token expiry:",e),window.location.href="/login"}},Z6=()=>"/login",ox=()=>window.location.pathname.includes("/login")||window.location.pathname.includes("/signin");function J6(e){if(typeof document=="undefined")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const eL=e=>{switch(e){case"success":return sL;case"info":return aL;case"warning":return rL;case"error":return iL;default:return null}},tL=Array(12).fill(0),nL=({visible:e,className:t})=>se.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},se.createElement("div",{className:"sonner-spinner"},tL.map((n,s)=>se.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),sL=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),rL=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),aL=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),iL=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),oL=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},se.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),se.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),lL=()=>{const[e,t]=se.useState(document.hidden);return se.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let lx=1;class cL{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const f=t,{message:s}=f,a=Ce(f,["message"]),o=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:lx++,c=this.toasts.find(h=>h.id===o),d=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),c?this.toasts=this.toasts.map(h=>h.id===o?(this.publish(oe(z(z({},h),t),{id:o,title:s})),oe(z(z({},h),t),{id:o,dismissible:d,title:s})):h):this.addToast(oe(z({title:s},a),{dismissible:d,id:o})),o},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create(oe(z({},n),{message:t})),this.error=(t,n)=>this.create(oe(z({},n),{message:t,type:"error"})),this.success=(t,n)=>this.create(oe(z({},n),{type:"success",message:t})),this.info=(t,n)=>this.create(oe(z({},n),{type:"info",message:t})),this.warning=(t,n)=>this.create(oe(z({},n),{type:"warning",message:t})),this.loading=(t,n)=>this.create(oe(z({},n),{type:"loading",message:t})),this.promise=(t,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create(oe(z({},n),{promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0})));const a=Promise.resolve(t instanceof Function?t():t);let o=s!==void 0,c;const d=a.then(h=>ve(this,null,function*(){if(c=["resolve",h],se.isValidElement(h))o=!1,this.create({id:s,type:"default",message:h});else if(dL(h)&&!h.ok){o=!1;const g=typeof n.error=="function"?yield n.error(`HTTP error! status: ${h.status}`):n.error,y=typeof n.description=="function"?yield n.description(`HTTP error! status: ${h.status}`):n.description,j=typeof g=="object"&&!se.isValidElement(g)?g:{message:g};this.create(z({id:s,type:"error",description:y},j))}else if(h instanceof Error){o=!1;const g=typeof n.error=="function"?yield n.error(h):n.error,y=typeof n.description=="function"?yield n.description(h):n.description,j=typeof g=="object"&&!se.isValidElement(g)?g:{message:g};this.create(z({id:s,type:"error",description:y},j))}else if(n.success!==void 0){o=!1;const g=typeof n.success=="function"?yield n.success(h):n.success,y=typeof n.description=="function"?yield n.description(h):n.description,j=typeof g=="object"&&!se.isValidElement(g)?g:{message:g};this.create(z({id:s,type:"success",description:y},j))}})).catch(h=>ve(this,null,function*(){if(c=["reject",h],n.error!==void 0){o=!1;const p=typeof n.error=="function"?yield n.error(h):n.error,g=typeof n.description=="function"?yield n.description(h):n.description,b=typeof p=="object"&&!se.isValidElement(p)?p:{message:p};this.create(z({id:s,type:"error",description:g},b))}})).finally(()=>{o&&(this.dismiss(s),s=void 0),n.finally==null||n.finally.call(n)}),f=()=>new Promise((h,p)=>d.then(()=>c[0]==="reject"?p(c[1]):h(c[1])).catch(p));return typeof s!="string"&&typeof s!="number"?{unwrap:f}:Object.assign(s,{unwrap:f})},this.custom=(t,n)=>{const s=(n==null?void 0:n.id)||lx++;return this.create(z({jsx:t(s),id:s},n)),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Hs=new cL,uL=(e,t)=>{const n=(t==null?void 0:t.id)||lx++;return Hs.addToast(oe(z({title:e},t),{id:n})),n},dL=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",fL=uL,hL=()=>Hs.toasts,mL=()=>Hs.getActiveToasts(),wr=Object.assign(fL,{success:Hs.success,info:Hs.info,warning:Hs.warning,error:Hs.error,custom:Hs.custom,message:Hs.message,promise:Hs.promise,dismiss:Hs.dismiss,loading:Hs.loading},{getHistory:hL,getToasts:mL});J6("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Xf(e){return e.label!==void 0}const pL=3,gL="24px",xL="16px",l_=4e3,yL=356,bL=14,vL=45,wL=200;function ra(...e){return e.filter(Boolean).join(" ")}function jL(e){const[t,n]=e.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}const _L=e=>{var t,n,s,a,o,c,d,f,h;const{invert:p,toast:g,unstyled:y,interacting:b,setHeights:j,visibleToasts:v,heights:S,index:N,toasts:R,expanded:E,removeToast:k,defaultRichColors:D,closeButton:C,style:A,cancelButtonStyle:P,actionButtonStyle:U,className:K="",descriptionClassName:$="",duration:G,position:W,gap:ee,expandByDefault:Y,classNames:H,icons:J,closeButtonAriaLabel:te="Close toast"}=e,[ce,L]=se.useState(null),[le,re]=se.useState(null),[V,ne]=se.useState(!1),[xe,me]=se.useState(!1),[Ee,De]=se.useState(!1),[He,Pe]=se.useState(!1),[rt,Ge]=se.useState(!1),[pt,ze]=se.useState(0),[Nt,at]=se.useState(0),Me=se.useRef(g.duration||G||l_),st=se.useRef(null),ht=se.useRef(null),X=N===0,fe=N+1<=v,q=g.type,Ne=g.dismissible!==!1,Re=g.className||"",Ae=g.descriptionClassName||"",Be=se.useMemo(()=>S.findIndex(Xe=>Xe.toastId===g.id)||0,[S,g.id]),qe=se.useMemo(()=>{var Xe;return(Xe=g.closeButton)!=null?Xe:C},[g.closeButton,C]),et=se.useMemo(()=>g.duration||G||l_,[g.duration,G]),wt=se.useRef(0),Nn=se.useRef(0),Jt=se.useRef(0),dn=se.useRef(null),[vn,Xn]=W.split("-"),Gn=se.useMemo(()=>S.reduce((Xe,jt,Vt)=>Vt>=Be?Xe:Xe+jt.height,0),[S,Be]),cs=lL(),Kn=g.invert||p,ks=q==="loading";Nn.current=se.useMemo(()=>Be*ee+Gn,[Be,Gn]),se.useEffect(()=>{Me.current=et},[et]),se.useEffect(()=>{ne(!0)},[]),se.useEffect(()=>{const Xe=ht.current;if(Xe){const jt=Xe.getBoundingClientRect().height;return at(jt),j(Vt=>[{toastId:g.id,height:jt,position:g.position},...Vt]),()=>j(Vt=>Vt.filter(Wt=>Wt.toastId!==g.id))}},[j,g.id]),se.useLayoutEffect(()=>{if(!V)return;const Xe=ht.current,jt=Xe.style.height;Xe.style.height="auto";const Vt=Xe.getBoundingClientRect().height;Xe.style.height=jt,at(Vt),j(Wt=>Wt.find(ie=>ie.toastId===g.id)?Wt.map(ie=>ie.toastId===g.id?oe(z({},ie),{height:Vt}):ie):[{toastId:g.id,height:Vt,position:g.position},...Wt])},[V,g.title,g.description,j,g.id,g.jsx,g.action,g.cancel]);const Ye=se.useCallback(()=>{me(!0),ze(Nn.current),j(Xe=>Xe.filter(jt=>jt.toastId!==g.id)),setTimeout(()=>{k(g)},wL)},[g,k,j,Nn]);se.useEffect(()=>{if(g.promise&&q==="loading"||g.duration===1/0||g.type==="loading")return;let Xe;return E||b||cs?(()=>{if(Jt.current<wt.current){const Wt=new Date().getTime()-wt.current;Me.current=Me.current-Wt}Jt.current=new Date().getTime()})():(()=>{Me.current!==1/0&&(wt.current=new Date().getTime(),Xe=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),Ye()},Me.current))})(),()=>clearTimeout(Xe)},[E,b,g,q,cs,Ye]),se.useEffect(()=>{g.delete&&(Ye(),g.onDismiss==null||g.onDismiss.call(g,g))},[Ye,g.delete]);function Rt(){var Xe;if(J!=null&&J.loading){var jt;return se.createElement("div",{className:ra(H==null?void 0:H.loader,g==null||(jt=g.classNames)==null?void 0:jt.loader,"sonner-loader"),"data-visible":q==="loading"},J.loading)}return se.createElement(nL,{className:ra(H==null?void 0:H.loader,g==null||(Xe=g.classNames)==null?void 0:Xe.loader),visible:q==="loading"})}const Ut=g.icon||(J==null?void 0:J[q])||eL(q);var St,Qt;return se.createElement("li",{tabIndex:0,ref:ht,className:ra(K,Re,H==null?void 0:H.toast,g==null||(t=g.classNames)==null?void 0:t.toast,H==null?void 0:H.default,H==null?void 0:H[q],g==null||(n=g.classNames)==null?void 0:n[q]),"data-sonner-toast":"","data-rich-colors":(St=g.richColors)!=null?St:D,"data-styled":!(g.jsx||g.unstyled||y),"data-mounted":V,"data-promise":!!g.promise,"data-swiped":rt,"data-removed":xe,"data-visible":fe,"data-y-position":vn,"data-x-position":Xn,"data-index":N,"data-front":X,"data-swiping":Ee,"data-dismissible":Ne,"data-type":q,"data-invert":Kn,"data-swipe-out":He,"data-swipe-direction":le,"data-expanded":!!(E||Y&&V),"data-testid":g.testId,style:z(z({"--index":N,"--toasts-before":N,"--z-index":R.length-N,"--offset":`${xe?pt:Nn.current}px`,"--initial-height":Y?"auto":`${Nt}px`},A),g.style),onDragEnd:()=>{De(!1),L(null),dn.current=null},onPointerDown:Xe=>{Xe.button!==2&&(ks||!Ne||(st.current=new Date,ze(Nn.current),Xe.target.setPointerCapture(Xe.pointerId),Xe.target.tagName!=="BUTTON"&&(De(!0),dn.current={x:Xe.clientX,y:Xe.clientY})))},onPointerUp:()=>{var Xe,jt,Vt;if(He||!Ne)return;dn.current=null;const Wt=Number(((Xe=ht.current)==null?void 0:Xe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Z=Number(((jt=ht.current)==null?void 0:jt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ie=new Date().getTime()-((Vt=st.current)==null?void 0:Vt.getTime()),pe=ce==="x"?Wt:Z,_e=Math.abs(pe)/ie;if(Math.abs(pe)>=vL||_e>.11){ze(Nn.current),g.onDismiss==null||g.onDismiss.call(g,g),re(ce==="x"?Wt>0?"right":"left":Z>0?"down":"up"),Ye(),Pe(!0);return}else{var Oe,$e;(Oe=ht.current)==null||Oe.style.setProperty("--swipe-amount-x","0px"),($e=ht.current)==null||$e.style.setProperty("--swipe-amount-y","0px")}Ge(!1),De(!1),L(null)},onPointerMove:Xe=>{var jt,Vt,Wt;if(!dn.current||!Ne||((jt=window.getSelection())==null?void 0:jt.toString().length)>0)return;const ie=Xe.clientY-dn.current.y,pe=Xe.clientX-dn.current.x;var _e;const Oe=(_e=e.swipeDirections)!=null?_e:jL(W);!ce&&(Math.abs(pe)>1||Math.abs(ie)>1)&&L(Math.abs(pe)>Math.abs(ie)?"x":"y");let $e={x:0,y:0};const Ke=tt=>1/(1.5+Math.abs(tt)/20);if(ce==="y"){if(Oe.includes("top")||Oe.includes("bottom"))if(Oe.includes("top")&&ie<0||Oe.includes("bottom")&&ie>0)$e.y=ie;else{const tt=ie*Ke(ie);$e.y=Math.abs(tt)<Math.abs(ie)?tt:ie}}else if(ce==="x"&&(Oe.includes("left")||Oe.includes("right")))if(Oe.includes("left")&&pe<0||Oe.includes("right")&&pe>0)$e.x=pe;else{const tt=pe*Ke(pe);$e.x=Math.abs(tt)<Math.abs(pe)?tt:pe}(Math.abs($e.x)>0||Math.abs($e.y)>0)&&Ge(!0),(Vt=ht.current)==null||Vt.style.setProperty("--swipe-amount-x",`${$e.x}px`),(Wt=ht.current)==null||Wt.style.setProperty("--swipe-amount-y",`${$e.y}px`)}},qe&&!g.jsx&&q!=="loading"?se.createElement("button",{"aria-label":te,"data-disabled":ks,"data-close-button":!0,onClick:ks||!Ne?()=>{}:()=>{Ye(),g.onDismiss==null||g.onDismiss.call(g,g)},className:ra(H==null?void 0:H.closeButton,g==null||(s=g.classNames)==null?void 0:s.closeButton)},(Qt=J==null?void 0:J.close)!=null?Qt:oL):null,(q||g.icon||g.promise)&&g.icon!==null&&((J==null?void 0:J[q])!==null||g.icon)?se.createElement("div",{"data-icon":"",className:ra(H==null?void 0:H.icon,g==null||(a=g.classNames)==null?void 0:a.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Rt():null,g.type!=="loading"?Ut:null):null,se.createElement("div",{"data-content":"",className:ra(H==null?void 0:H.content,g==null||(o=g.classNames)==null?void 0:o.content)},se.createElement("div",{"data-title":"",className:ra(H==null?void 0:H.title,g==null||(c=g.classNames)==null?void 0:c.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?se.createElement("div",{"data-description":"",className:ra($,Ae,H==null?void 0:H.description,g==null||(d=g.classNames)==null?void 0:d.description)},typeof g.description=="function"?g.description():g.description):null),se.isValidElement(g.cancel)?g.cancel:g.cancel&&Xf(g.cancel)?se.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||P,onClick:Xe=>{Xf(g.cancel)&&Ne&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,Xe),Ye())},className:ra(H==null?void 0:H.cancelButton,g==null||(f=g.classNames)==null?void 0:f.cancelButton)},g.cancel.label):null,se.isValidElement(g.action)?g.action:g.action&&Xf(g.action)?se.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||U,onClick:Xe=>{Xf(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,Xe),!Xe.defaultPrevented&&Ye())},className:ra(H==null?void 0:H.actionButton,g==null||(h=g.classNames)==null?void 0:h.actionButton)},g.action.label):null)};function c_(){if(typeof window=="undefined"||typeof document=="undefined")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function NL(e,t){const n={};return[e,t].forEach((s,a)=>{const o=a===1,c=o?"--mobile-offset":"--offset",d=o?xL:gL;function f(h){["top","right","bottom","left"].forEach(p=>{n[`${c}-${p}`]=typeof h=="number"?`${h}px`:h})}typeof s=="number"||typeof s=="string"?f(s):typeof s=="object"?["top","right","bottom","left"].forEach(h=>{s[h]===void 0?n[`${c}-${h}`]=d:n[`${c}-${h}`]=typeof s[h]=="number"?`${s[h]}px`:s[h]}):f(d)}),n}const SL=se.forwardRef(function(t,n){const{id:s,invert:a,position:o="bottom-right",hotkey:c=["altKey","KeyT"],expand:d,closeButton:f,className:h,offset:p,mobileOffset:g,theme:y="light",richColors:b,duration:j,style:v,visibleToasts:S=pL,toastOptions:N,dir:R=c_(),gap:E=bL,icons:k,containerAriaLabel:D="Notifications"}=t,[C,A]=se.useState([]),P=se.useMemo(()=>s?C.filter(V=>V.toasterId===s):C.filter(V=>!V.toasterId),[C,s]),U=se.useMemo(()=>Array.from(new Set([o].concat(P.filter(V=>V.position).map(V=>V.position)))),[P,o]),[K,$]=se.useState([]),[G,W]=se.useState(!1),[ee,Y]=se.useState(!1),[H,J]=se.useState(y!=="system"?y:typeof window!="undefined"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),te=se.useRef(null),ce=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=se.useRef(null),le=se.useRef(!1),re=se.useCallback(V=>{A(ne=>{var xe;return(xe=ne.find(me=>me.id===V.id))!=null&&xe.delete||Hs.dismiss(V.id),ne.filter(({id:me})=>me!==V.id)})},[]);return se.useEffect(()=>Hs.subscribe(V=>{if(V.dismiss){requestAnimationFrame(()=>{A(ne=>ne.map(xe=>xe.id===V.id?oe(z({},xe),{delete:!0}):xe))});return}setTimeout(()=>{eS.flushSync(()=>{A(ne=>{const xe=ne.findIndex(me=>me.id===V.id);return xe!==-1?[...ne.slice(0,xe),z(z({},ne[xe]),V),...ne.slice(xe+1)]:[V,...ne]})})})}),[C]),se.useEffect(()=>{if(y!=="system"){J(y);return}if(y==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window=="undefined")return;const V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:ne})=>{J(ne?"dark":"light")})}catch(ne){V.addListener(({matches:xe})=>{try{J(xe?"dark":"light")}catch(me){console.error(me)}})}},[y]),se.useEffect(()=>{C.length<=1&&W(!1)},[C]),se.useEffect(()=>{const V=ne=>{var xe;if(c.every(De=>ne[De]||ne.code===De)){var Ee;W(!0),(Ee=te.current)==null||Ee.focus()}ne.code==="Escape"&&(document.activeElement===te.current||(xe=te.current)!=null&&xe.contains(document.activeElement))&&W(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[c]),se.useEffect(()=>{if(te.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,le.current=!1)}},[te.current]),se.createElement("section",{ref:n,"aria-label":`${D} ${ce}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},U.map((V,ne)=>{var xe;const[me,Ee]=V.split("-");return P.length?se.createElement("ol",{key:V,dir:R==="auto"?c_():R,tabIndex:-1,ref:te,className:h,"data-sonner-toaster":!0,"data-sonner-theme":H,"data-y-position":me,"data-x-position":Ee,style:z(z({"--front-toast-height":`${((xe=K[0])==null?void 0:xe.height)||0}px`,"--width":`${yL}px`,"--gap":`${E}px`},v),NL(p,g)),onBlur:De=>{le.current&&!De.currentTarget.contains(De.relatedTarget)&&(le.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:De=>{De.target instanceof HTMLElement&&De.target.dataset.dismissible==="false"||le.current||(le.current=!0,L.current=De.relatedTarget)},onMouseEnter:()=>W(!0),onMouseMove:()=>W(!0),onMouseLeave:()=>{ee||W(!1)},onDragEnd:()=>W(!1),onPointerDown:De=>{De.target instanceof HTMLElement&&De.target.dataset.dismissible==="false"||Y(!0)},onPointerUp:()=>Y(!1)},P.filter(De=>!De.position&&ne===0||De.position===V).map((De,He)=>{var Pe,rt;return se.createElement(_L,{key:De.id,icons:k,index:He,toast:De,defaultRichColors:b,duration:(Pe=N==null?void 0:N.duration)!=null?Pe:j,className:N==null?void 0:N.className,descriptionClassName:N==null?void 0:N.descriptionClassName,invert:a,visibleToasts:S,closeButton:(rt=N==null?void 0:N.closeButton)!=null?rt:f,interacting:ee,position:V,style:N==null?void 0:N.style,unstyled:N==null?void 0:N.unstyled,classNames:N==null?void 0:N.classNames,cancelButtonStyle:N==null?void 0:N.cancelButtonStyle,actionButtonStyle:N==null?void 0:N.actionButtonStyle,closeButtonAriaLabel:N==null?void 0:N.closeButtonAriaLabel,removeToast:re,toasts:P.filter(Ge=>Ge.position==De.position),heights:K.filter(Ge=>Ge.position==De.position),setHeights:$,expandByDefault:d,gap:E,expanded:G,swipeDirections:t.swipeDirections})})):null}))}),Gf={duration:4e3};class cx{static success(t,n){const s=`success-${t}`;return this.activeToasts.has(s)?void 0:(this.activeToasts.add(s),wr.success(t,{description:n==null?void 0:n.description,duration:(n==null?void 0:n.duration)||Gf.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)}}))}static error(t,n){const s=`error-${t}`;return this.activeToasts.has(s)?void 0:(this.activeToasts.add(s),wr.error(t,{description:n==null?void 0:n.description,duration:(n==null?void 0:n.duration)||Gf.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)}}))}static info(t,n){const s=`info-${t}`;return this.activeToasts.has(s)?void 0:(this.activeToasts.add(s),wr.info(t,{description:n==null?void 0:n.description,duration:(n==null?void 0:n.duration)||Gf.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)}}))}static warning(t,n){const s=`warning-${t}`;return this.activeToasts.has(s)?void 0:(this.activeToasts.add(s),wr.warning(t,{description:n==null?void 0:n.description,duration:(n==null?void 0:n.duration)||Gf.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)}}))}static dismissAll(){wr.dismiss(),this.activeToasts.clear()}static clearCache(){this.activeToasts.clear()}}_t(cx,"activeToasts",new Set),_t(cx,"DUPLICATE_TIMEOUT",1e3);const un=cx,TL=({onMenuClick:e})=>{const{currentUser:t,isLoading:n}=G6(),{currentUserProfile:s}=K6(),{logout:a}=or(),o=()=>ve(null,null,function*(){try{un.success("Logging out...",{description:"You will be redirected to the login page.",duration:2e3}),yield a(),setTimeout(()=>{cT()},1e3)}catch(p){console.error("Logout failed:",p),un.error("Logout failed",{description:"Please try again or contact support."}),setTimeout(()=>{window.location.href=Z6()},2e3)}}),c=()=>s?s.full_name||s.first_name||s.email||"User":!t||typeof t=="string"?t||"Guest":t.full_name||t.first_name||t.email||"User",d=()=>t?c().split(" ").map(g=>g[0]).join("").toUpperCase().slice(0,2):"G",f=()=>s!=null&&s.user_image?s.user_image:null,h=()=>s?s.email:t&&typeof t!="string"?t.email:t||"No email";return i.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between h-16 px-6",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",title:"Toggle sidebar",children:i.jsx(z3,{className:"h-5 w-5 text-gray-600"})}),i.jsxs("div",{className:"relative hidden md:block",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(ic,{className:"h-4 w-4 text-gray-400"})}),i.jsx("input",{type:"text",className:"block w-80 pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-gray-50 placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Tìm kiếm dự án, task, tài liệu..."})]})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("button",{className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[i.jsx(nS,{className:"h-5 w-5 text-gray-600"}),i.jsx("span",{className:"absolute top-1 right-1 h-2 w-2 bg-red-500 rounded-full"})]}),i.jsx("div",{className:"relative",children:i.jsxs(vy,{children:[i.jsx(wy,{asChild:!0,children:i.jsxs("button",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:f()?i.jsx("img",{src:f(),alt:"User avatar",className:"w-8 h-8 rounded-full object-cover"}):i.jsx("span",{className:"text-xs font-medium text-white",children:d()})}),i.jsx("span",{className:"hidden md:block text-sm font-medium text-gray-700",children:n?"Loading...":c()}),i.jsx(sS,{className:"h-4 w-4 text-gray-500"})]})}),i.jsxs(jy,{className:"w-64 p-0",align:"end",children:[i.jsx("div",{className:"p-4 border-b border-gray-100",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:f()?i.jsx("img",{src:f(),alt:"User avatar",className:"w-10 h-10 rounded-full object-cover"}):i.jsx("span",{className:"text-sm font-medium text-white",children:d()})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:c()}),i.jsx("p",{className:"text-sm text-gray-500",children:h()})]})]})}),i.jsxs("div",{className:"p-2",children:[i.jsxs("button",{className:"w-full flex items-center space-x-3 px-3 py-2 text-left rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[i.jsx(sy,{className:"h-4 w-4 text-gray-500"}),i.jsx("span",{className:"text-sm text-gray-700",children:"Settings"})]}),i.jsxs("button",{onClick:o,className:"w-full flex items-center space-x-3 px-3 py-2 text-left rounded-lg hover:bg-red-50 transition-colors duration-200 text-red-600",children:[i.jsx(R3,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm",children:"Sign out"})]})]})]})]})})]})]})})},uT=t=>{var e=Ce(t,[]);const{theme:n="system"}=wA();return i.jsx(SL,z({theme:n,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"}},e))},EL=()=>{const[e,t]=_.useState(!1),[n,s]=_.useState(!1),a=()=>{window.innerWidth<1024?t(!e):s(!n)};return i.jsxs("div",{className:"flex h-screen bg-gray-50",children:[i.jsx("div",{className:"hidden lg:flex lg:flex-shrink-0 transition-all duration-300",children:i.jsx(M1,{collapsed:n,onToggle:a})}),e&&i.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[i.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>t(!1)}),i.jsx("div",{className:"relative flex flex-col w-64 h-full bg-white shadow-xl",children:i.jsx(M1,{})})]}),i.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[i.jsx(TL,{onMenuClick:a}),i.jsx("main",{className:"flex-1 overflow-y-auto",children:i.jsx("div",{className:"py-6",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsx(eM,{})})})})]}),i.jsx(uT,{position:"top-right",richColors:!0,expand:!0,closeButton:!0,toastOptions:{duration:4e3}})]})},kL=(e={})=>{const{checkIntervalMinutes:t=5,showNotifications:n=!0,enabled:s=!0,onTokenExpired:a}=e,{currentUser:o,isLoading:c}=or(),d=_.useRef(null),f=_.useRef(!1),h=_.useCallback(()=>{d.current&&(clearInterval(d.current),d.current=null)},[]),p=_.useCallback(()=>{h(),n&&un.error("Session Expired",{description:"Your session has expired. Please log in again.",duration:3e3}),a==null||a(),setTimeout(()=>{cT()},1e3)},[h,a,n]),g=_.useCallback(()=>ve(null,null,function*(){try{return(yield Q6()).isValid?(f.current=!1,!0):(console.warn("Authentication check failed - token invalid"),p(),!1)}catch(v){return console.error("Error checking authentication:",v),!0}}),[p]),y=_.useCallback(()=>{if(!s||c||!o||ox())return;h(),g();const v=t*60*1e3;d.current=setInterval(g,v)},[s,c,o,t,g,h]);_.useEffect(()=>(o&&!c?y():h(),h),[o,c,y,h]),_.useEffect(()=>h,[h]);const b=_.useCallback(()=>g(),[g]),j=_.useCallback(()=>{p()},[p]);return{checkAuth:b,forceLogout:j,isWatching:!!d.current,currentUser:o,isLoading:c}},CL=({children:e,checkInterval:t=5,showNotifications:n=!0})=>{const{isWatching:s,currentUser:a,isLoading:o}=kL({checkIntervalMinutes:t,showNotifications:n,enabled:!ox(),onTokenExpired:()=>{console.log("Token expired callback triggered")}});return _.useEffect(()=>{},[s,a,o,t]),ox()?i.jsx(i.Fragment,{children:e}):o?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):i.jsx(i.Fragment,{children:e})};function DL(){return i.jsx(mA,{siteName:"frontend",socketPort:"9000",children:i.jsxs(jA,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:[i.jsx(CL,{checkInterval:5,showNotifications:!0,children:i.jsx(EL,{})}),i.jsx(uT,{})]})})}const OL=()=>{const[e,t]=_.useState("all"),[n,s]=_.useState("all"),[a,o]=_.useState([]),[c,d]=_.useState(!1),{data:f,isLoading:h}=Ot("Project",{fields:["name","project_name","status","department","team","estimated_costing","expected_end_date","percent_complete"]}),{data:p,isLoading:g}=Ot("project_phase",{fields:["name"],limit:0});_.useEffect(()=>{ve(null,null,function*(){if(!p||p.length===0){o([]);return}d(!0);try{const A=p.map(K=>ve(null,null,function*(){try{const $=yield fetch(`/api/resource/project_phase/${K.name}`,{method:"GET",headers:{Accept:"application/json"}});if(!$.ok)return console.warn(`❌ Failed to fetch phase ${K.name}:`,$.status),null;const G=yield $.json();return G.data||G}catch($){return console.error(`💥 Error fetching phase ${K.name}:`,$),null}})),U=(yield Promise.all(A)).filter(K=>K!==null);o(U)}catch(A){console.error("💥 Error in fetchPhasesWithTasks:",A)}finally{d(!1)}})},[p]);const{data:y,isLoading:b}=Ot("Task",{fields:["name","subject","status","exp_end_date","exp_start_date","project","progress","priority","is_group"],limit:0}),{data:j,isLoading:v}=Ot("Timesheet",{fields:["name","total_hours"],limit:0}),S=(f||[]).map(C=>{var A;return oe(z({},C),{project_type:C.project_type||"",customer:C.customer||"",company:C.company||"",department:C.department||"",team:C.team||"",expected_start_date:C.expected_start_date||"",expected_end_date:C.expected_end_date||"",actual_start_date:C.actual_start_date||"",actual_end_date:C.actual_end_date||null,percent_complete:C.percent_complete||0,priority:C.priority||"Medium",estimated_costing:C.estimated_costing||0,total_billable_amount:C.total_billable_amount||0,total_billed_amount:C.total_billed_amount||0,gross_margin:C.gross_margin||0,estimated_hours:C.estimated_hours||0,total_hours:C.total_hours||0,is_active:(A=C.is_active)!=null?A:!0})}),N=_.useMemo(()=>!a||a.length===0?[]:a.map(C=>{const A=C.tasks||[];return oe(z({},C),{phase_name:C.subject||C.name||"",status:C.status||"Open",expected_start_date:C.start_date||"",expected_end_date:C.end_date||"",actual_start_date:C.start_date||"",actual_end_date:null,progress:C.progress||0,description:C.details||"",tasks:A})}),[a]),R=(y||[]).map(C=>oe(z({},C),{project:C.project||"",priority:C.priority||"Medium",type:C.type||"",expected_time:C.expected_time||0,actual_time:C.actual_time||0,start_date:C.exp_start_date||"",end_date:C.exp_end_date||"",progress:C.progress||0,assigned_to:C.assigned_to||null,is_group:C.is_group||!1,parent_task_name:C.parent_task_name||null})),E=(j||[]).map(C=>({name:C.name,employee:C.employee||"",project:"",task:"",start_date:C.start_date||"",end_date:C.end_date||"",total_hours:C.total_hours||0,billable:!0,billing_hours:0,billing_rate:0,billing_amount:0})),k=h||g||c||b||v,D=_.useMemo(()=>{let C=S;n!=="all"&&n!==""&&(C=C.filter(K=>K.team===n)),e!=="all"&&e!==""&&(C=C.filter(K=>K.project_name===e));const A=C.map(K=>K.project_name),P=C.map(K=>K.name),U=N.filter(K=>P.includes(K.project));return{filteredProjects:C,filteredPhases:U,filteredTasks:R.filter(K=>{const $=K.project||"";return P.includes($)}),filteredTimesheets:E.filter(K=>K.project?A.includes(K.project):!0)}},[S,N,R,E,e,n]);return{allProjects:S,allPhases:N,filteredData:D,selectedProject:e,selectedTeam:n,setSelectedProject:t,setSelectedTeam:s,isLoading:k}},Oo=class Oo{static useUserProjects(){const{currentUser:t}=or(),{data:n,isLoading:s,error:a,mutate:o}=Ot("Project",{fields:Oo.PROJECT_FIELDS,filters:t?[["owner","=",t]]:[],orderBy:{field:"modified",order:"desc"}},void 0,{revalidateOnFocus:!0,revalidateOnReconnect:!0}),{data:c,isLoading:d,error:f,mutate:h}=Ot("Project",{fields:Oo.PROJECT_FIELDS,limit:0,orderBy:{field:"modified",order:"desc"}},void 0,{revalidateOnFocus:!0,revalidateOnReconnect:!0}),p=se.useMemo(()=>{if(!t)return[];const y=j=>{const v=new Map;return j.forEach(S=>{var R;const N=S.name;if(!v.has(N)){const E={name:S.name,owner:S.owner,creation:S.creation,modified:S.modified,project_name:S.project_name,project_type:S.project_type,status:S.status,customer:S.customer,expected_start_date:S.expected_start_date,expected_end_date:S.expected_end_date,percent_complete:S.percent_complete,priority:S.priority,department:S.department,team:S.team||null,estimated_costing:S.estimated_costing,total_billable_amount:S.total_billable_amount,company:S.company,users:[]};v.set(N,E)}if(S.user){const E=v.get(N);((R=E.users)==null?void 0:R.some(D=>D.user===S.user))||(E.users=E.users||[],E.users.push({user:S.user,email:S.email,full_name:S.full_name,project_status:S.project_status}))}}),Array.from(v.values()).sort((S,N)=>{const R=new Date(S.modified||S.creation||0);return new Date(N.modified||N.creation||0).getTime()-R.getTime()})};let b=[];if(n&&n.length>0&&(b=b.concat(n)),c&&c.length>0){const j=c.filter(v=>v.owner===t||v.user&&v.user===t);b=b.concat(j)}return y(b)},[n,c,t]),g=se.useCallback(()=>ve(null,null,function*(){console.log("Mutating ownedProjects and allProjects...");try{yield Promise.all([o(),h()]),console.log("Data refreshed successfully")}catch(y){console.error("Error refreshing data:",y)}}),[o,h]);return{data:p,isLoading:s||d,error:a&&f?a||f:null,mutate:g}}static useProject(t){const{data:n,isLoading:s,error:a,mutate:o}=bn("Project",t||"",t?"Project":void 0);return{data:n,isLoading:s,error:a,mutate:o}}static useProjectOwner(t){const{data:n,isLoading:s,error:a}=bn("User",t||"",t?void 0:null);return{data:n,isLoading:s,error:a}}static useCreateProject(){const{createDoc:t,loading:n,error:s}=Ii();return{createProject:o=>ve(null,null,function*(){return yield t("Project",oe(z({},o),{expected_start_date:o.expected_start_date||void 0,expected_end_date:o.expected_end_date||void 0}))}),isLoading:n,error:s}}static useUpdateProject(){const{updateDoc:t,loading:n,error:s}=qs();return{updateProject:(o,c)=>ve(null,null,function*(){return yield t("Project",o,oe(z({},c),{expected_start_date:c.expected_start_date||void 0,expected_end_date:c.expected_end_date||void 0}))}),isLoading:n,error:s}}static useDeleteProject(){const{call:t,loading:n,error:s}=ms("frappe.client.delete");return{deleteProject:o=>ve(null,null,function*(){return yield t({doctype:"Project",name:o})}),isLoading:n,error:s}}static useProjectMembers(){const{call:t}=ms("frappe.client.insert"),{call:n}=ms("frappe.client.save"),{call:s}=ms("frappe.client.delete");return{addMember:d=>ve(null,null,function*(){return yield t({doc:oe(z({doctype:"Project User"},d),{welcome_email_sent:1})})}),updateMember:(d,f)=>ve(null,null,function*(){return yield n({doc:z({doctype:"Project User",name:d},f)})}),removeMember:d=>ve(null,null,function*(){return yield s({doctype:"Project User",name:d})})}}static useProjectOwnerManagement(){const{call:t}=ms("frappe.client.save"),{call:n}=ms("frappe.client.set_value");return{transferOwner:(o,c)=>ve(null,null,function*(){try{return yield t({doc:{doctype:"Project",name:o,owner:c}}),{success:!0,method:"save"}}catch(d){try{return yield n({doctype:"Project",name:o,fieldname:"owner",value:c}),{success:!0,method:"set_value"}}catch(f){throw new Error("Owner field is protected by ERPNext")}}}),transferOwnerWithAPI:(o,c)=>ve(null,null,function*(){try{const d=yield fetch("/api/method/my_app.api.project_transfer.transfer_project_owner",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({project_name:o,new_owner:c})}),f=yield d.json();return d.ok&&f.message?{success:!0,data:f.message}:{success:!1,error:f.message||"Transfer failed"}}catch(d){return{success:!1,error:d instanceof Error?d.message:"Unknown error"}}})}}static useProjectUsers(t){const{data:n,isLoading:s,error:a,mutate:o}=bn("Project",t,{fields:["name","users"]});return{data:(n==null?void 0:n.users)||[],isLoading:s,error:a,mutate:o}}static useProjectUsersAlt(t){const{data:n,isLoading:s,error:a,mutate:o}=Ot("Project User",{fields:["name","user","email","full_name","image"],filters:[["parent","=",t]],limit:0});return{data:n||[],isLoading:s,error:a,mutate:o}}};_t(Oo,"PROJECT_FIELDS",["name","owner","creation","modified","project_name","project_type","status","customer","department","team","expected_start_date","expected_end_date","percent_complete","priority","estimated_costing","total_billable_amount","company","users.user","users.email","users.full_name","users.project_status"]),_t(Oo,"DETAILED_PROJECT_FIELDS",[...Oo.PROJECT_FIELDS,"creation","modified","modified_by","description","notes","expected_start_date","actual_start_date","actual_end_date","total_costing_amount","total_purchase_cost","total_sales_amount","total_billed_amount","users"]);let Zu=Oo;const AL=Zu.useUserProjects,RL=Zu.useCreateProject,ML=Zu.useUpdateProject;class Ia{static useDocTypeOptions(t,n={}){const{fields:s=["name"],filters:a=[],limit:o=100}=n,{data:c,isLoading:d,error:f}=Ot(t,{fields:s,filters:a,limit:o});return{data:c||[],isLoading:d,error:f}}static useCustomers(){return Ia.useDocTypeOptions("Customer",{fields:["name","customer_name","customer_type"],filters:[["disabled","=",0]]})}static useCompanies(){return Ia.useDocTypeOptions("Company",{fields:["name","company_name","abbr"],filters:[["is_group","=",0]]})}static useProjectTypes(){return Ia.useDocTypeOptions("Project Type",{fields:["name","description"]})}static useDepartments(){return Ia.useDocTypeOptions("Department",{fields:["name","department_name","parent_department"],filters:[["disabled","=",0]]})}static useCostCenters(){return Ia.useDocTypeOptions("Cost Center",{fields:["name","cost_center_name","parent_cost_center"],filters:[["disabled","=",0],["is_group","=",0]]})}static useProjectTemplates(){return Ia.useDocTypeOptions("Project Template",{fields:["name","project_template_name"]})}static useTeams(){return Ia.useDocTypeOptions("Team",{fields:["name","team","department"]})}}const dT=Ia.useTeams;class PL{static useCreatePhaseTask(){const{createDoc:t,loading:n}=Ii(),{call:s}=ms("frappe.client.insert"),{call:a}=ms("frappe.client.save"),{data:o}=bn("User","",{shouldFetch:!0});return{createTaskWithPhase:d=>ve(null,null,function*(){try{const f=yield t("Task",{subject:d.subject,description:d.description,priority:d.priority,status:d.status,type:d.type,expected_time:d.expected_time,task_weight:d.task_weight,exp_start_date:d.exp_start_date||null,exp_end_date:d.exp_end_date||null,project:d.project});let h=null;if(d.assign_to&&f)try{h=yield s({doc:{doctype:"ToDo",allocated_to:d.assign_to,assigned_by:(o==null?void 0:o.name)||"",description:`Task: ${d.subject}`,reference_type:"Task",reference_name:f.name,status:"Open",priority:d.priority,date:new Date().toISOString().split("T")[0]}})}catch(p){console.error("Error creating ToDo:",p)}if(d.phaseId&&f){const p={parent:d.phaseId,parenttype:"project_phase",parentfield:"tasks",task:f.name,task_name:f.subject,status:f.status,start_date:f.exp_start_date,end_date:f.exp_end_date,description:f.description},g=yield s({doc:z({doctype:"Project Phase Task"},p)});console.log("Project Phase Task created successfully:",g);try{console.log("Saving parent phase document to commit child table changes...");const y=yield a({doc:{doctype:"project_phase",name:d.phaseId}});console.log("Parent phase saved successfully:",y)}catch(y){console.warn("Failed to save parent phase, but child was created:",y)}return{success:!0,task:f,phaseTask:g,todo:h,message:"Task created and linked to phase successfully"}}return{success:!0,task:f,todo:h,message:"Task created successfully"}}catch(f){throw console.error("Error in createTaskWithPhase:",f),f}}),isLoading:n}}static useLinkTaskToPhase(){const{call:t}=ms("frappe.client.insert");return{linkTaskToPhase:(s,a,o)=>ve(null,null,function*(){try{const c={parent:a,parenttype:"Project Phase",parentfield:"tasks",task:s,task_name:(o==null?void 0:o.task_name)||s,status:(o==null?void 0:o.status)||"Open",start_date:o==null?void 0:o.start_date,end_date:o==null?void 0:o.end_date,description:o==null?void 0:o.description};return{success:!0,phaseTask:yield t({doc:z({doctype:"Project Phase Task"},c)}),message:"Task linked to phase successfully"}}catch(c){return console.error("Error linking task to phase:",c),{success:!1,error:c instanceof Error?c.message:"Unknown error",message:"Failed to link task to phase"}}})}}}const LL=PL.useCreatePhaseTask;class fT{static useUpdateTask(){const{updateDoc:t,loading:n,error:s}=qs();return{updateTask:(o,c)=>ve(null,null,function*(){const p=c,{assign_to:d}=p,f=Ce(p,["assign_to"]),h=yield t("Task",o,oe(z({},f),{exp_start_date:f.exp_start_date||void 0,exp_end_date:f.exp_end_date||void 0}));return f.progress!==void 0&&(console.log(`Task ${o} progress updated, signaling phase progress update...`),localStorage.setItem("task_progress_updated",o),window.dispatchEvent(new StorageEvent("storage",{key:"task_progress_updated",newValue:o}))),h}),isLoading:n,error:s}}static useTaskAssignment(){const{createDoc:t}=Ii(),{deleteDoc:n}=dm(),{data:s}=bn("User","",{shouldFetch:!0});return{assignTask:(c,d,f,h="Medium")=>ve(null,null,function*(){return yield t("ToDo",{allocated_to:f,assigned_by:(s==null?void 0:s.name)||"",description:`Task: ${d}`,reference_type:"Task",reference_name:c,status:"Open",priority:h,date:new Date().toISOString().split("T")[0]})}),unassignTask:c=>ve(null,null,function*(){return yield n("ToDo",c)})}}}const hT=fT.useUpdateTask,mT=fT.useTaskAssignment;class pT{static useUpdatePhase(){const{updateDoc:t,loading:n,error:s}=qs();return{updatePhase:(o,c)=>ve(null,null,function*(){return t("project_phase",o,c)}),isLoading:n,error:s}}static usePhaseAssignment(){const{createDoc:t}=Ii(),{deleteDoc:n}=dm(),{data:s}=bn("User","",{shouldFetch:!0});return{assignPhase:(c,d)=>ve(null,null,function*(){return t("ToDo",{allocated_to:d,assigned_by:(s==null?void 0:s.name)||"",reference_type:"project_phase",reference_name:c,description:`Assigned to phase: ${c}`,status:"Open"})}),unassignPhase:c=>ve(null,null,function*(){return n("ToDo",c)})}}}const zL=pT.useUpdatePhase,gT=pT.usePhaseAssignment;class UL{static useUpdateSubTask(){const{updateDoc:t,loading:n,error:s}=qs();return{updateSubTask:(o,c)=>ve(null,null,function*(){return yield t("SubTask",o,c)}),isLoading:n,error:s}}static useSubTaskAssignment(){const{createDoc:t}=Ii(),{deleteDoc:n}=dm(),{data:s}=bn("User","",{shouldFetch:!0});return{assignSubTask:(c,d)=>ve(null,null,function*(){return yield t("ToDo",{allocated_to:d,assigned_by:(s==null?void 0:s.name)||"",reference_type:"SubTask",reference_name:c,description:`Assignment for SubTask: ${c}`,status:"Open"})}),unassignSubTask:c=>ve(null,null,function*(){return yield n("ToDo",c)})}}}const{useUpdateSubTask:xT,useSubTaskAssignment:_y}=UL,mc=e=>{const{data:t,isLoading:n,error:s}=bn("Project",e,{fields:["name","users"]}),{data:a,isLoading:o}=bn("Project",(t==null?void 0:t.name)||"",t!=null&&t.name?"Project":void 0);return{data:(a==null?void 0:a.users)||(t==null?void 0:t.users)||[],isLoading:n||o,error:s}};class FL{static useTaskProgressCalculation(){const{updateDoc:t}=qs();return{calculateAndUpdateTaskProgress:s=>ve(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"SubTask",fields:["name","status"],filters:[["task","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const c=(yield a.json()).message||[];if(!c||c.length===0)return null;let d=0;c.forEach(h=>{switch(h.status){case"Open":d+=1;break;case"Working":d+=50;break;case"Completed":d+=100;break;default:d+=0}});const f=Math.round(d/c.length);return yield t("Task",s,{progress:f}),console.log(`Task ${s} progress updated to ${f}%, signaling phase progress update...`),localStorage.setItem("task_progress_updated",s),window.dispatchEvent(new StorageEvent("storage",{key:"task_progress_updated",newValue:s})),console.log(`Task ${s} progress updated to ${f}%`),f}catch(a){return console.error("Error calculating task progress:",a),null}})}}static useTaskStatusProgressUpdate(){const{updateDoc:t}=qs();return{updateTaskProgressByStatus:(s,a,o)=>ve(null,null,function*(){try{let c=o||0;switch(a){case"Completed":c=100;break;case"Cancelled":case"Rejected":c=0;break;default:break}return yield t("Task",s,{status:a,progress:c}),console.log(`Task ${s} status/progress updated, signaling phase progress update...`),localStorage.setItem("task_progress_updated",s),window.dispatchEvent(new StorageEvent("storage",{key:"task_progress_updated",newValue:s})),c}catch(c){return console.error("Error updating task progress by status:",c),null}})}}static useManualProgressUpdate(){const{updateDoc:t}=qs();return{updateTaskProgress:(s,a)=>ve(null,null,function*(){try{let o="";return a===0||a===1?o="Open":a>1&&a<=90?o="Working":a>90&&a<100?o="Pending Review":a===100&&(o="Completed"),yield t("Task",s,{progress:a,status:o}),console.log(`Task ${s} manual progress updated to ${a}%, signaling phase progress update...`),localStorage.setItem("task_progress_updated",s),window.dispatchEvent(new StorageEvent("storage",{key:"task_progress_updated",newValue:s})),{progress:a,status:o}}catch(o){return console.error("Error updating manual task progress:",o),null}})}}}const{useTaskProgressCalculation:pd,useTaskStatusProgressUpdate:yT,useManualProgressUpdate:bT}=FL;class vT{static usePhaseProgressCalculation(){const{updateDoc:t}=qs();return{calculateAndUpdatePhaseProgress:s=>ve(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",name:s})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const c=(yield a.json()).message;if(!c||!c.tasks||c.tasks.length===0)return yield t("project_phase",s,{progress:0}),console.log(`Phase ${s} progress updated to 0% (no tasks)`),0;const d=c.tasks.map(b=>b.task);console.log(`Phase ${s} has ${d.length} tasks:`,d);const f=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["name","in",d]]})});if(!f.ok)throw new Error(`HTTP error! status: ${f.status}`);const p=(yield f.json()).message||[];if(p.length===0)return yield t("project_phase",s,{progress:0}),console.log(`Phase ${s} progress updated to 0% (no valid tasks)`),0;let g=0;p.forEach(b=>{const j=b.progress||0;console.log(`Task ${b.name}: ${j}%`),g+=j});const y=Math.round(g/p.length);return console.log(`Calculated phase progress: ${y}% (from ${p.length} tasks)`),yield t("project_phase",s,{progress:y}),console.log(`Phase ${s} progress updated to ${y}% (based on ${p.length} tasks)`),y}catch(a){return console.error("Error calculating phase progress:",a),null}})}}static usePhaseStatusProgressUpdate(){const{updateDoc:t}=qs();return{updatePhaseProgressByStatus:(s,a,o)=>ve(null,null,function*(){try{let c=o||0;switch(a){case"Completed":c=100;break;case"Cancelled":case"Rejected":c=0;break;default:break}return yield t("project_phase",s,{status:a,progress:c}),c}catch(c){return console.error("Error updating phase progress by status:",c),null}})}}static useManualPhaseProgressUpdate(){const{updateDoc:t}=qs();return{updatePhaseProgress:(s,a)=>ve(null,null,function*(){try{let o="";return a===0||a===1?o="Open":a>1&&a<=90?o="Working":a>90&&a<100?o="Pending Review":a===100&&(o="Completed"),yield t("project_phase",s,{progress:a,status:o}),{progress:a,status:o}}catch(o){return console.error("Error updating manual phase progress:",o),null}})}}}const{usePhaseProgressCalculation:wT}=vT,BL=e=>ve(null,null,function*(){const{calculateAndUpdatePhaseProgress:t}=vT.usePhaseProgressCalculation();return yield t(e)});class Ny{static useProjectProgressFromPhases(){const{updateDoc:t}=qs();return{calculateAndUpdateProjectProgressFromPhases:s=>ve(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","progress"],filters:[["project","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const c=(yield a.json()).message||[];if(!c||c.length===0){const{calculateAndUpdateProjectProgressFromTasks:h}=Ny.useProjectProgressFromTasks();return yield h(s)}let d=0;c.forEach(h=>{d+=h.progress||0});const f=Math.round(d/c.length);return yield t("Project",s,{percent_complete:f}),f}catch(a){return console.error("Error calculating project progress from phases:",a),null}})}}static useProjectProgressFromTasks(){const{updateDoc:t}=qs();return{calculateAndUpdateProjectProgressFromTasks:s=>ve(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["project","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const c=(yield a.json()).message||[];if(!c||c.length===0)return yield t("Project",s,{percent_complete:0}),0;let d=0;c.forEach(h=>{d+=h.progress||0});const f=Math.round(d/c.length);return yield t("Project",s,{percent_complete:f}),f}catch(a){return console.error("Error calculating project progress from tasks:",a),null}})}}static useProjectProgressCalculation(){const{updateDoc:t}=qs();return{calculateAndUpdateProjectProgress:s=>ve(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","progress"],filters:[["project","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const c=(yield a.json()).message||[];console.log("Found phases:",c.length);const d=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["project","=",s]]})});if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);const h=(yield d.json()).message||[];if(console.log("Found tasks:",h.length),c&&c.length>0){const p=[];for(const v of c)try{const S=yield fetch(`/api/resource/project_phase/${v.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(S.ok){const N=yield S.json();N.data.tasks&&N.data.tasks.length>0&&N.data.tasks.forEach(R=>{R.task&&p.push(R.task)})}}catch(S){console.warn("Error fetching phase document:",v.name,S)}console.log("Tasks in phases:",p);const g=h.filter(v=>!p.includes(v.name));console.log("Standalone tasks:",g.length);let y=0,b=0;c.forEach(v=>{const S=v.progress||0;console.log(`Phase ${v.name}: ${S}%`),y+=S,b+=1}),g.forEach(v=>{const S=v.progress||0;console.log(`Standalone Task ${v.name}: ${S}%`),y+=S,b+=1}),console.log(`Total components: ${b}, Total progress: ${y}`);const j=b>0?Math.round(y/b):0;return console.log(`Calculated average progress: ${j}%`),yield t("Project",s,{percent_complete:j}),{progress:j,source:"mixed",count:b,phases:c.length,standaloneTasks:g.length}}else if(h&&h.length>0){console.log("No phases found, calculating from all tasks");let p=0;h.forEach(y=>{p+=y.progress||0});const g=Math.round(p/h.length);return console.log(`Task-based progress: ${g}%`),yield t("Project",s,{percent_complete:g}),{progress:g,source:"tasks",count:h.length}}else return console.log("No phases or tasks found"),yield t("Project",s,{percent_complete:0}),{progress:0,source:"none",count:0}}catch(a){return console.error("Error calculating project progress:",a),null}})}}static useProjectStatusProgressUpdate(){const{updateDoc:t}=qs();return{updateProjectProgressByStatus:(s,a,o)=>ve(null,null,function*(){try{let c=o||0;switch(a){case"Completed":c=100;break;case"Cancelled":case"Rejected":c=0;break;default:break}return yield t("Project",s,{status:a,percent_complete:c}),c}catch(c){return console.error("Error updating project progress by status:",c),null}})}}}const{useProjectProgressCalculation:$L}=Ny;class HL{static useProjectCascadeDelete(){const{call:t}=ms("frappe.client.delete"),{call:n}=ms("frappe.client.get_list");return{deleteProjectCascade:a=>ve(null,null,function*(){try{console.log(`Starting cascade delete for project: ${a}`);try{const b=yield n({doctype:"Project",fields:["name"],filters:[["name","=",a]],limit_page_length:1});if(!(b!=null&&b.message)||b.message.length===0)throw new Error(`Project ${a} not found`)}catch(b){throw console.error("Project validation failed:",b),new Error(`Project validation failed: ${b instanceof Error?b.message:"Unknown validation error"}`)}let o=0,c=0,d=0;console.log("Step 1: Fetching all tasks...");let f=[];try{const b=yield n({doctype:"Task",fields:["name"],filters:[["project","=",a]],limit_page_length:1e3});f=(b==null?void 0:b.message)||[],console.log(`Found ${f.length} tasks to delete`)}catch(b){console.error("Error fetching tasks:",b),console.log("Continuing with deletion despite task fetch error...")}if(f.length>0){console.log(`Step 2: Processing ${f.length} tasks for subtask deletion...`);for(const b of f){console.log(`Step 2: Deleting subtasks for task ${b.name}...`);try{const j=yield n({doctype:"SubTask",fields:["name"],filters:[["task","=",b.name]],limit_page_length:1e3}),v=(j==null?void 0:j.message)||[];console.log(`Found ${v.length} subtasks for task ${b.name}`);for(const S of v)try{console.log(`Deleting subtask: ${S.name}`),yield t({doctype:"SubTask",name:S.name}),o++,console.log(`Successfully deleted subtask: ${S.name}`),yield new Promise(N=>setTimeout(N,100))}catch(N){console.error(`Error deleting subtask ${S.name}:`,N)}}catch(j){console.error(`Error fetching subtasks for task ${b.name}:`,j)}}yield new Promise(b=>setTimeout(b,500))}if(f.length>0){console.log(`Step 3: Deleting ${f.length} tasks...`);for(const b of f)try{console.log(`Deleting task: ${b.name}`),yield t({doctype:"Task",name:b.name}),c++,console.log(`Successfully deleted task: ${b.name}`),yield new Promise(j=>setTimeout(j,100))}catch(j){console.error(`Error deleting task ${b.name}:`,j)}yield new Promise(b=>setTimeout(b,500))}console.log("Step 4: Deleting all phases...");let h=[];try{const b=yield n({doctype:"project_phase",fields:["name"],filters:[["project","=",a]],limit_page_length:1e3});h=(b==null?void 0:b.message)||[],console.log(`Found ${h.length} phases to delete`)}catch(b){console.error("Error fetching phases:",b),console.log("Continuing with deletion despite phase fetch error...")}for(const b of h)try{console.log(`Deleting phase: ${b.name}`),yield t({doctype:"project_phase",name:b.name}),d++,console.log(`Successfully deleted phase: ${b.name}`),yield new Promise(j=>setTimeout(j,100))}catch(j){console.error(`Error deleting phase ${b.name}:`,j)}h.length>0&&(yield new Promise(b=>setTimeout(b,500))),console.log("Step 5: Deleting ToDo assignments...");try{const b=yield n({doctype:"ToDo",fields:["name"],filters:[["reference_type","in",["Project","Task","SubTask"]],["reference_name","like",`%${a}%`]],limit_page_length:1e3}),j=(b==null?void 0:b.message)||[];console.log(`Found ${j.length} ToDo assignments to delete`);for(const v of j)try{yield t({doctype:"ToDo",name:v.name})}catch(S){console.error(`Error deleting ToDo ${v.name}:`,S)}}catch(b){console.error("Error fetching/deleting ToDo assignments:",b)}console.log("Step 6: Deleting project users...");try{const b=yield n({doctype:"Project User",fields:["name"],filters:[["parent","=",a]],limit_page_length:1e3}),j=(b==null?void 0:b.message)||[];console.log(`Found ${j.length} project users to delete`);for(const v of j)try{yield t({doctype:"Project User",name:v.name})}catch(S){console.error(`Error deleting Project User ${v.name}:`,S)}}catch(b){console.error("Error fetching/deleting project users:",b)}console.log("Step 6.5: Performing comprehensive dependency cleanup...");const p=[{doctype:"Task",filter:[["project","=",a]]},{doctype:"SubTask",filter:[["project","=",a]]},{doctype:"project_phase",filter:[["project","=",a]]},{doctype:"Project User",filter:[["parent","=",a]]},{doctype:"ToDo",filter:[["reference_type","=","Project"],["reference_name","=",a]]},{doctype:"ToDo",filter:[["reference_type","=","Task"],["reference_name","like",`%${a}%`]]},{doctype:"Communication",filter:[["reference_doctype","=","Project"],["reference_name","=",a]]},{doctype:"File",filter:[["attached_to_doctype","=","Project"],["attached_to_name","=",a]]},{doctype:"Comment",filter:[["reference_doctype","=","Project"],["reference_name","=",a]]}];for(const b of p)try{console.log(`Checking for remaining ${b.doctype} dependencies...`);const j=yield n({doctype:b.doctype,fields:["name"],filters:b.filter,limit_page_length:1e3}),v=(j==null?void 0:j.message)||[];if(v.length>0){console.log(`Found ${v.length} remaining ${b.doctype} items, deleting them...`);for(const S of v)try{yield t({doctype:b.doctype,name:S.name}),console.log(`Deleted remaining ${b.doctype}: ${S.name}`),yield new Promise(N=>setTimeout(N,100))}catch(N){console.error(`Error deleting remaining ${b.doctype} ${S.name}:`,N)}}else console.log(`No remaining ${b.doctype} dependencies found.`)}catch(j){console.error(`Error checking ${b.doctype} dependencies:`,j)}yield new Promise(b=>setTimeout(b,1e3)),console.log("Step 7: Deleting the project..."),yield new Promise(b=>setTimeout(b,1e3));let g=0;const y=3;for(;g<y;)try{g++,console.log(`Attempting to delete project ${a} (attempt ${g}/${y})`),yield t({doctype:"Project",name:a}),console.log(`Verifying project ${a} deletion...`);try{const b=yield n({doctype:"Project",fields:["name"],filters:[["name","=",a]],limit_page_length:1});if(b!=null&&b.message&&b.message.length>0)throw new Error("Project still exists after deletion attempt");console.log(`Successfully verified project ${a} deletion`)}catch(b){if(b.message==="Project still exists after deletion attempt")throw b;console.log(`Project ${a} not found during verification - deletion successful`)}console.log(`Successfully deleted project: ${a}`);break}catch(b){if(console.error(`Error deleting project ${a} (attempt ${g}):`,b),g<y){console.log(`Waiting before retry attempt ${g+1}...`),yield new Promise(j=>setTimeout(j,2e3)),console.log("Attempting to clean up remaining dependencies...");try{const j=yield n({doctype:"Project User",fields:["name"],filters:[["parent","=",a]],limit_page_length:1e3}),v=(j==null?void 0:j.message)||[];if(v.length>0){console.log(`Found ${v.length} remaining project users, deleting them...`);for(const S of v)try{yield t({doctype:"Project User",name:S.name}),console.log(`Deleted remaining project user: ${S.name}`)}catch(N){console.error(`Error deleting remaining project user ${S.name}:`,N)}}}catch(j){console.error("Error during dependency cleanup:",j)}try{const j=yield n({doctype:"ToDo",fields:["name"],filters:[["reference_type","=","Project"],["reference_name","=",a]],limit_page_length:1e3}),v=(j==null?void 0:j.message)||[];if(v.length>0){console.log(`Found ${v.length} remaining todos, deleting them...`);for(const S of v)try{yield t({doctype:"ToDo",name:S.name}),console.log(`Deleted remaining todo: ${S.name}`)}catch(N){console.error(`Error deleting remaining todo ${S.name}:`,N)}}}catch(j){console.error("Error during todo cleanup:",j)}}else{let j="Unknown project deletion error";if(b&&typeof b=="object")if(console.error("Full project deletion error object:",JSON.stringify(b,null,2)),b.message)j=b.message;else if(b.exc)j=b.exc;else if(b._server_messages)try{const v=JSON.parse(b._server_messages);Array.isArray(v)&&v.length>0&&(j=JSON.parse(v[0]).message||j)}catch(v){console.error("Error parsing server messages:",v)}else j=JSON.stringify(b);else typeof b=="string"&&(j=b);throw new Error(`Failed to delete project ${a} after ${y} attempts: ${j}`)}}return console.log(`Successfully completed cascade delete for project: ${a}`),{success:!0,deletedItems:{subtasks:o,tasks:c,phases:d,project:1}}}catch(o){console.error("Error in cascade delete:",o);let c="Unknown error";throw o instanceof Error?c=o.message:typeof o=="string"?c=o:o&&typeof o=="object"&&(c=o.message||o.error||o.exc||JSON.stringify(o)),new Error(`Failed to delete project and related items: ${c}`)}})}}}const{useProjectCascadeDelete:VL}=HL;class Sy{static useUserTodos(){const{data:t}=bn("User","",{shouldFetch:!0}),{data:n,isLoading:s,error:a,mutate:o}=Ot("ToDo",{fields:["name","status","priority","date","allocated_to","description","reference_type","reference_name","assigned_by","assigned_by_full_name","creation","modified"],filters:[["allocated_to","=",(t==null?void 0:t.name)||""],["reference_type","=","Task"]],orderBy:{field:"creation",order:"desc"},limit:0},t!=null&&t.name?"user-todos":null);return{todos:n||[],isLoading:s,error:a,mutate:o,currentUser:t}}static useUserTodosEnriched(){const{data:t}=bn("User","",{shouldFetch:!0}),{data:n,isLoading:s,error:a,mutate:o}=xA("todo.api.get_user_todos_with_task_info",{user:(t==null?void 0:t.name)||""},t!=null&&t.name?"user-todos-enriched":null,{revalidateOnFocus:!1,revalidateOnReconnect:!1});return{todos:(n==null?void 0:n.message)||[],isLoading:s,error:a,mutate:o,currentUser:t}}static useUserTodosWithTaskData(){const{todos:t,isLoading:n,error:s,mutate:a,currentUser:o}=Sy.useUserTodos();return{todos:t.map(d=>(d.reference_type==="Task"&&d.reference_name,d)),isLoading:n,error:s,mutate:a,currentUser:o}}static useAllTodos(){const{data:t,isLoading:n,error:s}=Ot("ToDo",{fields:["name","status","priority","date","allocated_to","description","reference_type","reference_name","assigned_by"],filters:[["reference_type","in",["Task","SubTask"]]],limit:0});return{todos:t||[],isLoading:n,error:s}}}const IL=Sy.useAllTodos;class qL{static useUserAssignedTasks(){const{currentUser:t}=or(),{data:n,isLoading:s,error:a,mutate:o}=Ot("ToDo",{fields:["name","status","priority","date","allocated_to","description","reference_type","reference_name","assigned_by","assigned_by_full_name","creation","modified"],filters:[["allocated_to","=",t||""]],orderBy:{field:"creation",order:"desc"},limit:0},t?"user-assigned-todos":null),d=(n||[]).filter(ee=>ee.reference_type==="Task").map(ee=>ee.reference_name).filter(Boolean),h=(n||[]).filter(ee=>ee.reference_type==="SubTask").map(ee=>ee.reference_name).filter(Boolean),{data:p,isLoading:g,error:y,mutate:b}=Ot("Task",{fields:["name","subject","project","status","priority","type","expected_time","actual_time","exp_start_date","exp_end_date","progress","is_group","parent_task","description","company","department"],filters:d.length>0?[["name","in",d]]:[["name","=","nonexistent"]],limit:0},d.length>0?"user-assigned-tasks":null),{data:j,isLoading:v,error:S,mutate:N}=Ot("SubTask",{fields:["name","subject","task","status","start_date","end_date","description","assigned_to"],filters:h.length>0?[["name","in",h]]:[["name","=","nonexistent"]],limit:0},h.length>0?"user-assigned-subtasks":null),R=[...new Set((j||[]).map(ee=>ee.task).filter(Boolean))],{data:E}=Ot("Task",{fields:["name","subject","project"],filters:R.length>0?[["name","in",R]]:[["name","=","nonexistent"]],limit:0},R.length>0?"parent-tasks-for-subtasks":null),k=[...new Set([...(p||[]).map(ee=>ee.project).filter(Boolean),...(E||[]).map(ee=>ee.project).filter(Boolean)])],{data:D}=Ot("Project",{fields:["name","project_name"],filters:k.length>0?[["name","in",k]]:[["name","=","nonexistent"]],limit:0},k.length>0?"projects-for-assigned-tasks":null),C=(D||[]).reduce((ee,Y)=>(ee[Y.name]=Y.project_name||Y.name,ee),{}),A=(E||[]).reduce((ee,Y)=>(ee[Y.name]=Y,ee),{}),P=(n||[]).reduce((ee,Y)=>(Y.reference_name&&(ee[Y.reference_name]=Y),ee),{}),U=(p||[]).map(ee=>oe(z({},ee),{project_name:ee.project?C[ee.project]:void 0,assignedTodo:P[ee.name]})),K=(j||[]).map(ee=>{const Y=ee.task?A[ee.task]:void 0;return oe(z({},ee),{task_subject:Y==null?void 0:Y.subject,project_name:Y!=null&&Y.project?C[Y.project]:void 0,assignedTodo:P[ee.name]})});return{tasks:U,subTasks:K,todos:n||[],isLoading:s||g||v,error:a||y||S,mutate:()=>{o(),b(),N()},currentUser:t}}}const WL=qL.useUserAssignedTasks;class jT{static useAllTeamTasks(){const{data:t,isLoading:n,error:s}=Ot("Task",{fields:["name","subject","description","status","priority","exp_start_date","exp_end_date","project","type","progress","completed_by"],limit:0}),{data:a,isLoading:o,error:c}=Ot("SubTask",{fields:["name","subject","description","status","start_date","end_date","assigned_to","task"],limit:0});return{allTasks:t||[],allSubTasks:a||[],isLoading:n||o,error:s||c}}static getAllTaskOfTeam(){const t=or().currentUser,{data:n}=Ot("Team",{filters:[["teamlead","=",t||""]]}),s=(n==null?void 0:n.map(U=>U.name))||[],{data:a}=Ot("Project",{fields:["name","team"],filters:[["team","in",s]],limit:0}),o=(a==null?void 0:a.map(U=>U.name))||[],{data:c,isLoading:d,error:f}=Ot("Task",{fields:["name","status","exp_end_date","project"],limit:0}),h=(c||[]).filter(U=>o.includes(U.project||"")),{data:p,isLoading:g,error:y}=Ot("SubTask",{fields:["name","status","task"],limit:0}),b=h.map(U=>U.name),j=(p||[]).filter(U=>b.includes(U.task||"")),v=U=>(U||"").toLowerCase()==="completed",S=U=>(U||"").toLowerCase()==="working",N=U=>(U||"").toLowerCase()==="cancelled",R=U=>(U||"").toLowerCase()==="overdue",E=new Date;E.setHours(0,0,0,0);const k=U=>{if(R(U.status))return!0;if(!v(U.status)&&!N(U.status)&&U.exp_end_date){const K=new Date(U.exp_end_date);return K.setHours(0,0,0,0),K<E}return!1},D=h.length+j.length,C=h.filter(U=>S(U.status)).length+j.filter(U=>S(U.status)).length,A=h.filter(U=>v(U.status)).length+j.filter(U=>v(U.status)).length,P=h.filter(U=>k(U)).length;return{total:D,working:C,completed:A,overdue:P,isLoading:d||g,error:f||y}}}const YL=jT.useAllTeamTasks,XL=jT.getAllTaskOfTeam,GL=()=>{const{currentUser:e}=or(),{data:t,isLoading:n,error:s}=Ot("User",{fields:["name","full_name","user_image","first_name","last_name","email"],filters:[["enabled","=",1],["user_type","=","System User"]],limit:20});return{simpleTeamData:_.useMemo(()=>t?t.map(o=>({id:o.name,name:o.full_name||o.first_name||o.name||"Unknown User",role:o.name===e?"Leader":"Member",avatar:o.user_image||`https://placehold.co/40x40/e2e8f0/475569?text=${(o.first_name||o.full_name||"U").charAt(0).toUpperCase()}`})):[],[t,e]),users:t,isLoading:n,error:s}},KL=({projects:e,selectedProject:t,selectedTeam:n,onProjectChange:s,onTeamChange:a})=>{var v,S;const[o,c]=_.useState({selectedTeam:n,selectedProject:t}),[d,f]=_.useState(!1),{data:h}=dT(),p=(N,R)=>{c(E=>oe(z({},E),{[N]:R})),N==="selectedTeam"?a(R):N==="selectedProject"&&s(R)},g=se.useMemo(()=>{const N=[{value:"all",label:"Tất cả team"},...(h==null?void 0:h.map(R=>({value:R.name,label:R.team_name||R.name})))||[]];return[N[0],...N.slice(1).sort((R,E)=>R.label.localeCompare(E.label))]},[h]),y=e.filter(N=>!(o.selectedTeam!=="all"&&o.selectedTeam!==""&&N.team!==o.selectedTeam)),b=()=>{c({selectedTeam:"all",selectedProject:"all"}),a("all"),s("all")},j=o.selectedTeam!=="all"||o.selectedProject!=="all";return se.useEffect(()=>{c(N=>oe(z({},N),{selectedTeam:n,selectedProject:t}))},[n,t]),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>f(!d),className:`inline-flex items-center px-4 py-2 border rounded-lg text-sm font-medium bg-white hover:bg-gray-50 transition-colors ${j?"border-blue-500 text-blue-700 bg-blue-50":"border-gray-300 text-gray-700"}`,children:[i.jsx(ld,{className:"mr-2 h-4 w-4"}),"Bộ lọc",j&&i.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[o.selectedTeam!=="all"?1:0,o.selectedProject!=="all"?1:0].reduce((N,R)=>N+R,0)})]}),d&&i.jsx("div",{className:"absolute top-full right-0 mt-2 w-96 bg-white border border-gray-200 rounded-lg shadow-lg z-10",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Bộ lọc dự án"}),j&&i.jsx("button",{onClick:b,className:"text-sm text-blue-600 hover:text-blue-800",children:"Xóa tất cả"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Team"}),i.jsx("select",{value:o.selectedTeam,onChange:N=>p("selectedTeam",N.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:!h||h.length===0,children:g.map(N=>i.jsx("option",{value:N.value,children:N.label},N.value))}),(!h||h.length===0)&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Không có team nào"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dự án"}),i.jsxs("select",{value:o.selectedProject,onChange:N=>p("selectedProject",N.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"all",children:"Tất cả dự án"}),y.map(N=>i.jsx("option",{value:N.project_name,children:N.project_name},N.name))]})]})]}),j&&i.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[i.jsx("span",{children:"Đang áp dụng:"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.selectedTeam!=="all"&&i.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Team: ",(v=g.find(N=>N.value===o.selectedTeam))==null?void 0:v.label,i.jsx("button",{onClick:()=>p("selectedTeam","all"),className:"ml-1 text-blue-600 hover:text-blue-800",children:"×"})]}),o.selectedProject!=="all"&&i.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Dự án: ",(S=y.find(N=>N.project_name===o.selectedProject))==null?void 0:S.project_name,i.jsx("button",{onClick:()=>p("selectedProject","all"),className:"ml-1 text-green-600 hover:text-green-800",children:"×"})]})]})]})})]})}),d&&i.jsx("div",{className:"fixed inset-0 z-5",onClick:()=>f(!1)})]})},QL=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),ZL=({projects:e,tasks:t,selectedProject:n})=>{const s=n&&n!=="all",a=s?"Task":"Dự án";let o,c,d;if(s){o=t.filter(g=>g.status==="Open"||g.status==="Working"||g.status!=="Completed"&&g.status!=="Cancelled").length,c=t.filter(g=>g.status==="Completed").length;const p=new Date;d=t.filter(g=>g.exp_end_date?new Date(g.exp_end_date)<p&&g.status!=="Completed":!1).length,t.reduce((g,y)=>g+(y.expected_time||0),0)}else{o=e.filter(g=>g.status==="Đang thực hiện"||g.status!=="Hoàn thành"&&g.status!=="Hủy"&&g.percent_complete<100).length,c=e.filter(g=>g.status==="Hoàn thành"||g.percent_complete===100).length;const p=new Date;d=e.filter(g=>new Date(g.expected_end_date)<p&&g.status!=="Hoàn thành"&&g.percent_complete<100).length}const f=e.reduce((p,g)=>p+(g.estimated_costing||0),0),h=[{title:`${a} đang hoạt động`,value:o,icon:HM,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-blue-500 to-blue-600",cardBg:"bg-white",shadow:"shadow-lg shadow-blue-500/20",change:"+55%",changeText:"than last week",changeColor:"text-green-500"},{title:`${a} hoàn thành`,value:c,icon:rS,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-green-500 to-green-600",cardBg:"bg-white",shadow:"shadow-lg shadow-green-500/20",change:"+3%",changeText:"than last month",changeColor:"text-green-500"},{title:`${a} quá hạn`,value:d,icon:zo,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-pink-500 to-pink-600",cardBg:"bg-white",shadow:"shadow-lg shadow-pink-500/20",change:"+1%",changeText:"than yesterday",changeColor:"text-green-500"},{title:"Chi phí Dự án",value:QL(f),icon:V3,iconColor:"text-white",iconBg:"bg-gradient-to-br from-yellow-200 to-yellow-600",cardBg:"bg-white",shadow:"shadow-lg shadow-yellow-500/20",change:"+91",changeText:"Just updated",changeColor:"text-gray-500"}];return i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:h.map((p,g)=>{const y=p.icon;return i.jsx("div",{className:`${p.cardBg} ${p.shadow} rounded-xl p-6 border border-gray-100 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1`,children:i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:`${p.iconBg} ${p.iconColor} p-3 rounded-2xl shadow-lg`,children:i.jsx(y,{className:"h-6 w-6"})}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:p.title}),i.jsx("p",{className:`${p.title.includes("Chi phí")?"text-2xl":"text-3xl"} font-bold text-gray-900`,children:p.value})]})]})},g)})})},_T=({title:e,children:t,className:n=""})=>i.jsxs("div",{className:`bg-white rounded-xl shadow-sm p-6 mb-6 ${n}`,children:[e&&i.jsx("div",{className:"text-xl font-semibold text-gray-800 mb-4",children:e}),t]}),JL=({projects:e,tasks:t,selectedProject:n})=>{const s=n&&n!=="all",a=se.useMemo(()=>{const p=new Date;return p.setHours(0,0,0,0),e.map((y,b)=>({id:`milestone-${b}`,name:y.project_name,project:y.project_name,endDate:new Date(y.expected_end_date),priority:y.priority,status:y.percent_complete===100?"completed":y.percent_complete>0?"in progress":"upcoming",progress:y.percent_complete})).filter(y=>{const b=new Date(y.endDate);b.setHours(0,0,0,0);const j=Math.ceil((b.getTime()-p.getTime())/(1e3*60*60*24));return y.status!=="completed"&&j>=0&&j<=15}).sort((y,b)=>{const j=new Date;j.setHours(0,0,0,0);const v=new Date(y.endDate);v.setHours(0,0,0,0);const S=new Date(b.endDate);S.setHours(0,0,0,0);const N=Math.abs(v.getTime()-j.getTime()),R=Math.abs(S.getTime()-j.getTime()),E=N-R;if(E!==0)return E;const k={"Khẩn cấp":0,Cao:1,"Trung bình":2,Thấp:3,Urgent:0,High:1,Medium:2,Low:3};return(k[y.priority]||3)-(k[b.priority]||3)})},[e]),o=se.useMemo(()=>{if(!s)return[];const p=new Date;return p.setHours(0,0,0,0),t.filter(g=>{if(!g.exp_end_date||g.status==="Completed")return!1;const y=new Date(g.exp_end_date);y.setHours(0,0,0,0);const b=Math.ceil((y.getTime()-p.getTime())/(1e3*60*60*24));return b>=0&&b<=2}).sort((g,y)=>{const b=new Date;b.setHours(0,0,0,0);const j=new Date(g.exp_end_date);j.setHours(0,0,0,0);const v=new Date(y.exp_end_date);v.setHours(0,0,0,0);const S=Math.abs(j.getTime()-b.getTime()),N=Math.abs(v.getTime()-b.getTime()),R=S-N;if(R!==0)return R;const E={Urgent:0,High:1,Medium:2,Low:3};return(E[g.priority]||3)-(E[y.priority]||3)})},[t,s]),c=p=>{switch(p){case"completed":return"bg-green-500";case"in progress":return"bg-blue-500";case"upcoming":return"bg-gray-300";default:return"bg-gray-300"}},d=p=>{switch(p){case"Urgent":return"bg-red-100 text-red-800";case"High":return"bg-orange-100 text-orange-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"Low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},f=p=>p.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),h=p=>{const g=new Date;g.setHours(0,0,0,0);const y=new Date(p);y.setHours(0,0,0,0);const b=Math.ceil((y.getTime()-g.getTime())/(1e3*60*60*24));return b<0?{text:`Quá hạn ${Math.abs(b)} ngày`,color:"text-red-600",urgent:!0}:b===0?{text:"Hôm nay",color:"text-red-600",urgent:!0}:b<=3?{text:`${b} ngày nữa`,color:"text-red-600",urgent:!0}:b<=7?{text:`${b} ngày nữa`,color:"text-orange-600",urgent:!0}:b<=14?{text:`${b} ngày nữa`,color:"text-yellow-600",urgent:!1}:{text:`${b} ngày nữa`,color:"text-gray-600",urgent:!1}};return i.jsx("div",{className:"grid grid-cols-1 gap-8",children:i.jsx(_T,{title:s?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Tasks"})," ","gần ",i.jsx("span",{className:"text-red-600 font-semibold",children:"đến hạn "})," (<2 ngày)"]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Dự án"})," ","sắp ",i.jsx("span",{className:"text-red-600 font-semibold",children:"đến hạn"})," (<15 ngày)"]}),children:i.jsx("div",{className:`space-y-6 ${s?o.length>=3?"h-80 overflow-y-auto":"overflow-visible":a.length>=3?"h-80 overflow-y-auto":"overflow-visible"}`,children:s?i.jsxs(i.Fragment,{children:[o.map((p,g)=>{const y=h(new Date(p.exp_end_date));return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center space-x-3",children:i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("h4",{className:"font-medium text-gray-900",children:p.subject}),i.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${d(p.priority)}`,children:p.priority})]}),i.jsx("div",{className:"mt-1",children:i.jsx("span",{className:`text-xs font-medium ${y.color}`,children:y.text})})]})}),i.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[i.jsx(Ws,{className:"h-4 w-4 mr-1"}),f(new Date(p.exp_end_date))]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Progress"}),i.jsxs("span",{className:"font-medium",children:[p.progress||0,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full ${p.status==="Completed"?"bg-green-500":p.status==="Working"?"bg-blue-500":"bg-gray-300"}`,style:{width:`${p.progress||0}%`}})})]})]},`task-${g}`)}),o.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(Ws,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),i.jsx("p",{children:"Không có task nào sắp đến hạn"})]})]}):i.jsxs(i.Fragment,{children:[a.map(p=>{const g=h(p.endDate);return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center space-x-3",children:i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("h4",{className:"font-medium text-gray-900",children:p.name}),i.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${d(p.priority)}`,children:p.priority})]}),i.jsx("div",{className:"mt-1",children:i.jsx("span",{className:`text-xs font-medium ${g.color}`,children:g.text})})]})}),i.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[i.jsx(Ws,{className:"h-4 w-4 mr-1"}),f(p.endDate)]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Progress"}),i.jsxs("span",{className:"font-medium",children:[p.progress,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full ${c(p.status)}`,style:{width:`${p.progress}%`}})})]})]},p.id)}),a.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(Ws,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),i.jsx("p",{children:"Không có dự án nào sắp đến hạn"})]})]})})})})},e8=({projects:e,tasks:t,selectedProject:n})=>{const[s,a]=_.useState(null),[o,c]=_.useState(!0),d=j=>{a(v=>v===j?null:j)},f=n&&n!=="all",p=(()=>{if(f){const j={open:{projects:[],color:"#3b82f6",lightColor:"#60a5fa",darkColor:"#1d4ed8",label:"Open",height:30},working:{projects:[],color:"#f59e0b",lightColor:"#fbbf24",darkColor:"#d97706",label:"Working",height:25},completed:{projects:[],color:"#22c55e",lightColor:"#4ade80",darkColor:"#15803d",label:"Completed",height:20},overdue:{projects:[],color:"#ef4444",lightColor:"#f87171",darkColor:"#dc2626",label:"Overdue",height:40},cancelled:{projects:[],color:"#6b7280",lightColor:"#9ca3af",darkColor:"#4b5563",label:"Cancelled",height:35}};return t.forEach(v=>{const S=new Date;v.exp_end_date&&new Date(v.exp_end_date)<S&&v.status!=="Completed"&&v.status!=="Cancelled"?j.overdue.projects.push(v):v.status==="Completed"?j.completed.projects.push(v):v.status==="Working"?j.working.projects.push(v):v.status==="Cancelled"?j.cancelled.projects.push(v):j.open.projects.push(v)}),j}else{const j={open:{projects:[],color:"#3b82f6",lightColor:"#60a5fa",darkColor:"#1d4ed8",label:"Đang mở",height:30},completed:{projects:[],color:"#22c55e",lightColor:"#4ade80",darkColor:"#15803d",label:"Hoàn thành",height:20},cancelled:{projects:[],color:"#ef4444",lightColor:"#f87171",darkColor:"#dc2626",label:"Đã hủy",height:40}};return e.forEach(v=>{v.status==="Completed"||v.status==="Hoàn thành"?j.completed.projects.push(v):v.status==="Cancelled"||v.status==="Canceled"||v.status==="Hủy"?j.cancelled.projects.push(v):j.open.projects.push(v)}),j}})(),g=f?t.length:e.length,y=j=>{const v={Urgent:4,High:3,Medium:2,Low:1};return j.sort((S,N)=>{const R=v[S.priority]||0;return(v[N.priority]||0)-R})};Object.values(p).forEach(j=>{j.projects=y(j.projects)});const b=()=>{const[j,v]=se.useState({visible:!1,x:0,y:0,categoryKey:""}),S=360,N=S/2,R=S/2,E=170;let k=0;const D=Object.entries(p).filter(([,U])=>U.projects.length>0),C=(U,K)=>{const $=K.clientX,G=K.clientY;v({visible:!0,x:$+15,y:G-10,categoryKey:U})},A=(U,K)=>{if(j.visible&&j.categoryKey===U){const $=K.clientX,G=K.clientY;v(W=>oe(z({},W),{x:$+15,y:G-10}))}},P=()=>{v({visible:!1,x:0,y:0,categoryKey:""})};return i.jsxs("div",{className:"relative flex flex-col items-center",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-6 text-center max-w-xs",children:f?"Biểu đồ phân bố Tasks theo trạng thái":"Biểu đồ phân bố dự án theo trạng thái"}),i.jsx("div",{className:"relative",style:{width:S,height:S},children:i.jsxs("svg",{width:S,height:S,className:"absolute top-0 left-0",children:[i.jsx("defs",{children:i.jsx("filter",{id:"dropshadow2d",x:"-20%",y:"-20%",width:"140%",height:"140%",children:i.jsx("feDropShadow",{dx:"2",dy:"4",stdDeviation:"4",floodOpacity:"0.2"})})}),(k=0,D.map(([U,K])=>{const $=K.projects.length/g*100,G=k,W=k+$/100*360;k=W;const ee=G*Math.PI/180,Y=W*Math.PI/180,H=(G+W)/2*Math.PI/180,J=N+E*Math.cos(ee),te=R+E*Math.sin(ee),ce=N+E*Math.cos(Y),L=R+E*Math.sin(Y),le=W-G>180?1:0,re=D.length===1;let V;re?V=`M ${N} ${R+E} A ${E} ${E} 0 1 1 ${N} ${R-E} A ${E} ${E} 0 1 1 ${N} ${R+E} Z`:V=[`M ${N} ${R}`,`L ${J} ${te}`,`A ${E} ${E} 0 ${le} 1 ${ce} ${L}`,"Z"].join(" ");const ne=E*.7,xe=re?N:N+ne*Math.cos(H),me=re?R:R+ne*Math.sin(H);return i.jsxs("g",{children:[i.jsx("path",{d:V,fill:K.color,stroke:"white",strokeWidth:"2",filter:"url(#dropshadow2d)",className:"hover:opacity-80 transition-opacity cursor-pointer",onMouseEnter:Ee=>C(U,Ee),onMouseMove:Ee=>A(U,Ee),onMouseLeave:P}),$>5&&i.jsxs("text",{x:xe,y:me,textAnchor:"middle",dominantBaseline:"middle",className:"text-xs font-bold fill-white pointer-events-none",style:{textShadow:"1px 1px 2px rgba(0,0,0,0.5)"},children:[Math.round($),"%"]})]},`segment-${U}`)}))]})}),j.visible&&j.categoryKey&&p[j.categoryKey]&&i.jsxs("div",{className:"fixed z-50 bg-white border border-gray-200 rounded-lg shadow-lg p-4 max-w-xs pointer-events-none",style:{left:j.x,top:j.y,transform:"translate(-50%, -100%)"},children:[i.jsxs("div",{className:"font-semibold text-gray-800 mb-2 flex items-center",children:[i.jsx("div",{className:"w-3 h-3 rounded mr-2",style:{backgroundColor:p[j.categoryKey].color}}),p[j.categoryKey].label," (",p[j.categoryKey].projects.length,")"]}),i.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:p[j.categoryKey].projects.map((U,K)=>i.jsxs("div",{className:"text-xs border-b border-gray-100 pb-1 last:border-b-0",children:[i.jsx("div",{className:"font-medium text-gray-700",children:f?U.subject:U.project_name}),i.jsxs("div",{className:"text-gray-500 flex justify-between",children:[i.jsx("span",{children:f?`${U.progress||0}% hoàn thành`:`${U.percent_complete}% hoàn thành`}),i.jsxs("span",{className:"font-medium",children:["Priority: ",U.priority]})]})]},K))})]})]})};return i.jsx(_T,{title:i.jsx("div",{className:"flex items-center justify-between w-full cursor-pointer hover:bg-gray-50 -m-2 p-2 rounded-md transition-colors",onClick:()=>c(!o),children:i.jsx("div",{className:"flex items-center",children:i.jsx("span",{children:f?i.jsxs(i.Fragment,{children:["Tổng quan ",i.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Tasks"})]}):i.jsxs(i.Fragment,{children:["Tổng quan ",i.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"dự án"})]})})})}),children:o&&i.jsx("div",{children:g===0?i.jsx("div",{className:"flex flex-col items-center justify-center py-16",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-8xl text-gray-300 mb-6",children:"📊"}),i.jsx("p",{className:"text-xl font-medium text-gray-600 mb-3",children:f?"Không có task nào":"Không có dự án nào"}),i.jsx("p",{className:"text-base text-gray-500 max-w-md",children:f?"Không có task nào đang thực hiện trong dự án này":"Không có dự án nào đang thực hiện"})]})}):i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsx("div",{className:"flex flex-col items-center",children:i.jsx(b,{})}),i.jsx("div",{className:"space-y-4",children:Object.entries(p).map(([j,v])=>v.projects.length>0&&i.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[i.jsxs("button",{onClick:()=>d(j),className:"w-full px-4 py-3 bg-gray-50 hover:bg-gray-100 transition-colors flex items-center justify-between border-l-4",style:{borderLeftColor:v.color},children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-3 h-3 rounded-full mr-3",style:{backgroundColor:v.color}}),i.jsxs("h4",{className:"font-semibold text-gray-800",children:[v.label," (",v.projects.length,")"]})]}),i.jsx("div",{className:"flex items-center",children:i.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform duration-200 ${s===j?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),i.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${s===j?"max-h-96":"max-h-0"}`,children:i.jsx("div",{className:"p-4 space-y-2 max-h-80 overflow-y-auto",children:v.projects.map(S=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md hover:bg-gray-100 transition-colors",children:[i.jsx("div",{className:"flex-1 min-w-0",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:f?S.subject:S.project_name}),i.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ml-2 flex-shrink-0 ${S.priority==="Urgent"?"bg-red-100 text-red-800":S.priority==="High"?"bg-orange-100 text-orange-800":S.priority==="Medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:S.priority})]})}),i.jsx("div",{className:"flex flex-col items-end ml-3",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-12 bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(f?S.progress||0:S.percent_complete||0,100)}%`,backgroundColor:(()=>{const N=f?S.progress||0:S.percent_complete||0;return N>=100?"#22c55e":N>=70?"#3b82f6":N>=30?"#f59e0b":"#ef4444"})()}})}),i.jsxs("span",{className:"text-xs font-semibold text-gray-600 min-w-[35px] text-right",children:[f?S.progress||0:S.percent_complete||0,"%"]})]})})]},S.name))})})]},j))})]})})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function gd(e){return e+.5|0}const Oi=(e,t,n)=>Math.max(Math.min(e,n),t);function Pu(e){return Oi(gd(e*2.55),0,255)}function Mi(e){return Oi(gd(e*255),0,255)}function qa(e){return Oi(gd(e/2.55)/100,0,1)}function u_(e){return Oi(gd(e*100),0,100)}const br={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ux=[..."0123456789ABCDEF"],t8=e=>ux[e&15],n8=e=>ux[(e&240)>>4]+ux[e&15],Kf=e=>(e&240)>>4===(e&15),s8=e=>Kf(e.r)&&Kf(e.g)&&Kf(e.b)&&Kf(e.a);function r8(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&br[e[1]]*17,g:255&br[e[2]]*17,b:255&br[e[3]]*17,a:t===5?br[e[4]]*17:255}:(t===7||t===9)&&(n={r:br[e[1]]<<4|br[e[2]],g:br[e[3]]<<4|br[e[4]],b:br[e[5]]<<4|br[e[6]],a:t===9?br[e[7]]<<4|br[e[8]]:255})),n}const a8=(e,t)=>e<255?t(e):"";function i8(e){var t=s8(e)?t8:n8;return e?"#"+t(e.r)+t(e.g)+t(e.b)+a8(e.a,t):void 0}const o8=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function NT(e,t,n){const s=t*Math.min(n,1-n),a=(o,c=(o+e/30)%12)=>n-s*Math.max(Math.min(c-3,9-c,1),-1);return[a(0),a(8),a(4)]}function l8(e,t,n){const s=(a,o=(a+e/60)%6)=>n-n*t*Math.max(Math.min(o,4-o,1),0);return[s(5),s(3),s(1)]}function c8(e,t,n){const s=NT(e,1,.5);let a;for(t+n>1&&(a=1/(t+n),t*=a,n*=a),a=0;a<3;a++)s[a]*=1-t-n,s[a]+=t;return s}function u8(e,t,n,s,a){return e===a?(t-n)/s+(t<n?6:0):t===a?(n-e)/s+2:(e-t)/s+4}function Ty(e){const n=e.r/255,s=e.g/255,a=e.b/255,o=Math.max(n,s,a),c=Math.min(n,s,a),d=(o+c)/2;let f,h,p;return o!==c&&(p=o-c,h=d>.5?p/(2-o-c):p/(o+c),f=u8(n,s,a,p,o),f=f*60+.5),[f|0,h||0,d]}function Ey(e,t,n,s){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,s)).map(Mi)}function ky(e,t,n){return Ey(NT,e,t,n)}function d8(e,t,n){return Ey(c8,e,t,n)}function f8(e,t,n){return Ey(l8,e,t,n)}function ST(e){return(e%360+360)%360}function h8(e){const t=o8.exec(e);let n=255,s;if(!t)return;t[5]!==s&&(n=t[6]?Pu(+t[5]):Mi(+t[5]));const a=ST(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?s=d8(a,o,c):t[1]==="hsv"?s=f8(a,o,c):s=ky(a,o,c),{r:s[0],g:s[1],b:s[2],a:n}}function m8(e,t){var n=Ty(e);n[0]=ST(n[0]+t),n=ky(n),e.r=n[0],e.g=n[1],e.b=n[2]}function p8(e){if(!e)return;const t=Ty(e),n=t[0],s=u_(t[1]),a=u_(t[2]);return e.a<255?`hsla(${n}, ${s}%, ${a}%, ${qa(e.a)})`:`hsl(${n}, ${s}%, ${a}%)`}const d_={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},f_={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function g8(){const e={},t=Object.keys(f_),n=Object.keys(d_);let s,a,o,c,d;for(s=0;s<t.length;s++){for(c=d=t[s],a=0;a<n.length;a++)o=n[a],d=d.replace(o,d_[o]);o=parseInt(f_[c],16),e[d]=[o>>16&255,o>>8&255,o&255]}return e}let Qf;function x8(e){Qf||(Qf=g8(),Qf.transparent=[0,0,0,0]);const t=Qf[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const y8=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function b8(e){const t=y8.exec(e);let n=255,s,a,o;if(t){if(t[7]!==s){const c=+t[7];n=t[8]?Pu(c):Oi(c*255,0,255)}return s=+t[1],a=+t[3],o=+t[5],s=255&(t[2]?Pu(s):Oi(s,0,255)),a=255&(t[4]?Pu(a):Oi(a,0,255)),o=255&(t[6]?Pu(o):Oi(o,0,255)),{r:s,g:a,b:o,a:n}}}function v8(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${qa(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const l0=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Fl=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function w8(e,t,n){const s=Fl(qa(e.r)),a=Fl(qa(e.g)),o=Fl(qa(e.b));return{r:Mi(l0(s+n*(Fl(qa(t.r))-s))),g:Mi(l0(a+n*(Fl(qa(t.g))-a))),b:Mi(l0(o+n*(Fl(qa(t.b))-o))),a:e.a+n*(t.a-e.a)}}function Zf(e,t,n){if(e){let s=Ty(e);s[t]=Math.max(0,Math.min(s[t]+s[t]*n,t===0?360:1)),s=ky(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function TT(e,t){return e&&Object.assign(t||{},e)}function h_(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Mi(e[3]))):(t=TT(e,{r:0,g:0,b:0,a:1}),t.a=Mi(t.a)),t}function j8(e){return e.charAt(0)==="r"?b8(e):h8(e)}class Ju{constructor(t){if(t instanceof Ju)return t;const n=typeof t;let s;n==="object"?s=h_(t):n==="string"&&(s=r8(t)||x8(t)||j8(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=TT(this._rgb);return t&&(t.a=qa(t.a)),t}set rgb(t){this._rgb=h_(t)}rgbString(){return this._valid?v8(this._rgb):void 0}hexString(){return this._valid?i8(this._rgb):void 0}hslString(){return this._valid?p8(this._rgb):void 0}mix(t,n){if(t){const s=this.rgb,a=t.rgb;let o;const c=n===o?.5:n,d=2*c-1,f=s.a-a.a,h=((d*f===-1?d:(d+f)/(1+d*f))+1)/2;o=1-h,s.r=255&h*s.r+o*a.r+.5,s.g=255&h*s.g+o*a.g+.5,s.b=255&h*s.b+o*a.b+.5,s.a=c*s.a+(1-c)*a.a,this.rgb=s}return this}interpolate(t,n){return t&&(this._rgb=w8(this._rgb,t._rgb,n)),this}clone(){return new Ju(this.rgb)}alpha(t){return this._rgb.a=Mi(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=gd(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Zf(this._rgb,2,t),this}darken(t){return Zf(this._rgb,2,-t),this}saturate(t){return Zf(this._rgb,1,t),this}desaturate(t){return Zf(this._rgb,1,-t),this}rotate(t){return m8(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ba(){}const _8=(()=>{let e=0;return()=>e++})();function kn(e){return e==null}function ls(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Kt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Dr(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function aa(e,t){return Dr(e)?e:t}function sn(e,t){return typeof e=="undefined"?t:e}const N8=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function xn(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function nn(e,t,n,s){let a,o,c;if(ls(e))for(o=e.length,a=0;a<o;a++)t.call(n,e[a],a);else if(Kt(e))for(c=Object.keys(e),o=c.length,a=0;a<o;a++)t.call(n,e[c[a]],c[a])}function Ih(e,t){let n,s,a,o;if(!e||!t||e.length!==t.length)return!1;for(n=0,s=e.length;n<s;++n)if(a=e[n],o=t[n],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function qh(e){if(ls(e))return e.map(qh);if(Kt(e)){const t=Object.create(null),n=Object.keys(e),s=n.length;let a=0;for(;a<s;++a)t[n[a]]=qh(e[n[a]]);return t}return e}function ET(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function S8(e,t,n,s){if(!ET(e))return;const a=t[e],o=n[e];Kt(a)&&Kt(o)?ed(a,o,s):t[e]=qh(o)}function ed(e,t,n){const s=ls(t)?t:[t],a=s.length;if(!Kt(e))return e;n=n||{};const o=n.merger||S8;let c;for(let d=0;d<a;++d){if(c=s[d],!Kt(c))continue;const f=Object.keys(c);for(let h=0,p=f.length;h<p;++h)o(f[h],e,c,n)}return e}function Fu(e,t){return ed(e,t,{merger:T8})}function T8(e,t,n){if(!ET(e))return;const s=t[e],a=n[e];Kt(s)&&Kt(a)?Fu(s,a):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=qh(a))}const m_={"":e=>e,x:e=>e.x,y:e=>e.y};function E8(e){const t=e.split("."),n=[];let s="";for(const a of t)s+=a,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function k8(e){const t=E8(e);return n=>{for(const s of t){if(s==="")break;n=n&&n[s]}return n}}function Wh(e,t){return(m_[t]||(m_[t]=k8(t)))(e)}function Cy(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Yh=e=>typeof e!="undefined",Hi=e=>typeof e=="function",p_=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function C8(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const yn=Math.PI,Os=2*yn,Xh=Number.POSITIVE_INFINITY,D8=yn/180,ps=yn/2,jo=yn/4,g_=yn*2/3,kT=Math.log10,Gh=Math.sign;function kh(e,t,n){return Math.abs(e-t)<n}function x_(e){const t=Math.round(e);e=kh(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(kT(e))),s=e/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function O8(e){const t=[],n=Math.sqrt(e);let s;for(s=1;s<n;s++)e%s===0&&(t.push(s),t.push(e/s));return n===(n|0)&&t.push(n),t.sort((a,o)=>a-o).pop(),t}function A8(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Kh(e){return!A8(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function R8(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function M8(e,t,n){let s,a,o;for(s=0,a=e.length;s<a;s++)o=e[s][n],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Ro(e){return e*(yn/180)}function P8(e){return e*(180/yn)}function y_(e){if(!Dr(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function CT(e,t){const n=t.x-e.x,s=t.y-e.y,a=Math.sqrt(n*n+s*s);let o=Math.atan2(s,n);return o<-.5*yn&&(o+=Os),{angle:o,distance:a}}function L8(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function la(e){return(e%Os+Os)%Os}function DT(e,t,n,s){const a=la(e),o=la(t),c=la(n),d=la(o-a),f=la(c-a),h=la(a-o),p=la(a-c);return a===o||a===c||s&&o===c||d>f&&h<p}function Ys(e,t,n){return Math.max(t,Math.min(n,e))}function z8(e){return Ys(e,-32768,32767)}function Mo(e,t,n,s=1e-6){return e>=Math.min(t,n)-s&&e<=Math.max(t,n)+s}function Dy(e,t,n){n=n||(c=>e[c]<t);let s=e.length-1,a=0,o;for(;s-a>1;)o=a+s>>1,n(o)?a=o:s=o;return{lo:a,hi:s}}const dx=(e,t,n,s)=>Dy(e,n,s?a=>{const o=e[a][t];return o<n||o===n&&e[a+1][t]===n}:a=>e[a][t]<n),U8=(e,t,n)=>Dy(e,n,s=>e[s][t]>=n);function F8(e,t,n){let s=0,a=e.length;for(;s<a&&e[s]<t;)s++;for(;a>s&&e[a-1]>n;)a--;return s>0||a<e.length?e.slice(s,a):e}const OT=["push","pop","shift","splice","unshift"];function B8(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),OT.forEach(n=>{const s="_onData"+Cy(n),a=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...o){const c=a.apply(this,o);return e._chartjs.listeners.forEach(d=>{typeof d[s]=="function"&&d[s](...o)}),c}})})}function b_(e,t){const n=e._chartjs;if(!n)return;const s=n.listeners,a=s.indexOf(t);a!==-1&&s.splice(a,1),!(s.length>0)&&(OT.forEach(o=>{delete e[o]}),delete e._chartjs)}function $8(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const AT=function(){return typeof window=="undefined"?function(e){return e()}:window.requestAnimationFrame}();function RT(e,t){let n=[],s=!1;return function(...a){n=a,s||(s=!0,AT.call(window,()=>{s=!1,e.apply(t,n)}))}}function H8(e,t){let n;return function(...s){return t?(clearTimeout(n),n=setTimeout(e,t,s)):e.apply(this,s),t}}const Oy=e=>e==="start"?"left":e==="end"?"right":"center",Ns=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,V8=(e,t,n,s)=>e===(s?"left":"right")?n:e==="center"?(t+n)/2:t,Jf=e=>e===0||e===1,v_=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Os/n)),w_=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Os/n)+1,Bu={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*ps)+1,easeOutSine:e=>Math.sin(e*ps),easeInOutSine:e=>-.5*(Math.cos(yn*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Jf(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Jf(e)?e:v_(e,.075,.3),easeOutElastic:e=>Jf(e)?e:w_(e,.075,.3),easeInOutElastic(e){return Jf(e)?e:e<.5?.5*v_(e*2,.1125,.45):.5+.5*w_(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Bu.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Bu.easeInBounce(e*2)*.5:Bu.easeOutBounce(e*2-1)*.5+.5};function MT(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function j_(e){return MT(e)?e:new Ju(e)}function c0(e){return MT(e)?e:new Ju(e).saturate(.5).darken(.1).hexString()}const I8=["x","y","borderWidth","radius","tension"],q8=["color","borderColor","backgroundColor"];function W8(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:q8},numbers:{type:"number",properties:I8}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Y8(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const __=new Map;function X8(e,t){t=t||{};const n=e+JSON.stringify(t);let s=__.get(n);return s||(s=new Intl.NumberFormat(e,t),__.set(n,s)),s}function PT(e,t,n){return X8(t,n).format(e)}const G8={values(e){return ls(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const s=this.chart.options.locale;let a,o=e;if(n.length>1){const h=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(h<1e-4||h>1e15)&&(a="scientific"),o=K8(e,n)}const c=kT(Math.abs(o)),d=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:a,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(f,this.options.ticks.format),PT(e,s,f)}};function K8(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var LT={formatters:G8};function Q8(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:LT.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ho=Object.create(null),fx=Object.create(null);function $u(e,t){if(!t)return e;const n=t.split(".");for(let s=0,a=n.length;s<a;++s){const o=n[s];e=e[o]||(e[o]=Object.create(null))}return e}function u0(e,t,n){return typeof t=="string"?ed($u(e,t),n):ed($u(e,""),t)}class Z8{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,a)=>c0(a.backgroundColor),this.hoverBorderColor=(s,a)=>c0(a.borderColor),this.hoverColor=(s,a)=>c0(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return u0(this,t,n)}get(t){return $u(this,t)}describe(t,n){return u0(fx,t,n)}override(t,n){return u0(Ho,t,n)}route(t,n,s,a){const o=$u(this,t),c=$u(this,s),d="_"+n;Object.defineProperties(o,{[d]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const f=this[d],h=c[a];return Kt(f)?Object.assign({},h,f):sn(f,h)},set(f){this[d]=f}}})}apply(t){t.forEach(n=>n(this))}}var Fn=new Z8({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[W8,Y8,Q8]);function J8(e){return!e||kn(e.size)||kn(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function N_(e,t,n,s,a){let o=t[a];return o||(o=t[a]=e.measureText(a).width,n.push(a)),o>s&&(s=o),s}function _o(e,t,n){const s=e.currentDevicePixelRatio,a=n!==0?Math.max(n/2,.5):0;return Math.round((t-a)*s)/s+a}function S_(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function T_(e,t,n,s){zT(e,t,n,s,null)}function zT(e,t,n,s,a){let o,c,d,f,h,p,g,y;const b=t.pointStyle,j=t.rotation,v=t.radius;let S=(j||0)*D8;if(b&&typeof b=="object"&&(o=b.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(n,s),e.rotate(S),e.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),e.restore();return}if(!(isNaN(v)||v<=0)){switch(e.beginPath(),b){default:a?e.ellipse(n,s,a/2,v,0,0,Os):e.arc(n,s,v,0,Os),e.closePath();break;case"triangle":p=a?a/2:v,e.moveTo(n+Math.sin(S)*p,s-Math.cos(S)*v),S+=g_,e.lineTo(n+Math.sin(S)*p,s-Math.cos(S)*v),S+=g_,e.lineTo(n+Math.sin(S)*p,s-Math.cos(S)*v),e.closePath();break;case"rectRounded":h=v*.516,f=v-h,c=Math.cos(S+jo)*f,g=Math.cos(S+jo)*(a?a/2-h:f),d=Math.sin(S+jo)*f,y=Math.sin(S+jo)*(a?a/2-h:f),e.arc(n-g,s-d,h,S-yn,S-ps),e.arc(n+y,s-c,h,S-ps,S),e.arc(n+g,s+d,h,S,S+ps),e.arc(n-y,s+c,h,S+ps,S+yn),e.closePath();break;case"rect":if(!j){f=Math.SQRT1_2*v,p=a?a/2:f,e.rect(n-p,s-f,2*p,2*f);break}S+=jo;case"rectRot":g=Math.cos(S)*(a?a/2:v),c=Math.cos(S)*v,d=Math.sin(S)*v,y=Math.sin(S)*(a?a/2:v),e.moveTo(n-g,s-d),e.lineTo(n+y,s-c),e.lineTo(n+g,s+d),e.lineTo(n-y,s+c),e.closePath();break;case"crossRot":S+=jo;case"cross":g=Math.cos(S)*(a?a/2:v),c=Math.cos(S)*v,d=Math.sin(S)*v,y=Math.sin(S)*(a?a/2:v),e.moveTo(n-g,s-d),e.lineTo(n+g,s+d),e.moveTo(n+y,s-c),e.lineTo(n-y,s+c);break;case"star":g=Math.cos(S)*(a?a/2:v),c=Math.cos(S)*v,d=Math.sin(S)*v,y=Math.sin(S)*(a?a/2:v),e.moveTo(n-g,s-d),e.lineTo(n+g,s+d),e.moveTo(n+y,s-c),e.lineTo(n-y,s+c),S+=jo,g=Math.cos(S)*(a?a/2:v),c=Math.cos(S)*v,d=Math.sin(S)*v,y=Math.sin(S)*(a?a/2:v),e.moveTo(n-g,s-d),e.lineTo(n+g,s+d),e.moveTo(n+y,s-c),e.lineTo(n-y,s+c);break;case"line":c=a?a/2:Math.cos(S)*v,d=Math.sin(S)*v,e.moveTo(n-c,s-d),e.lineTo(n+c,s+d);break;case"dash":e.moveTo(n,s),e.lineTo(n+Math.cos(S)*(a?a/2:v),s+Math.sin(S)*v);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function UT(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Ay(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Ry(e){e.restore()}function ez(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),kn(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function tz(e,t,n,s,a){if(a.strikethrough||a.underline){const o=e.measureText(s),c=t-o.actualBoundingBoxLeft,d=t+o.actualBoundingBoxRight,f=n-o.actualBoundingBoxAscent,h=n+o.actualBoundingBoxDescent,p=a.strikethrough?(f+h)/2:h;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=a.decorationWidth||2,e.moveTo(c,p),e.lineTo(d,p),e.stroke()}}function nz(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function td(e,t,n,s,a,o={}){const c=ls(t)?t:[t],d=o.strokeWidth>0&&o.strokeColor!=="";let f,h;for(e.save(),e.font=a.string,ez(e,o),f=0;f<c.length;++f)h=c[f],o.backdrop&&nz(e,o.backdrop),d&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),kn(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(h,n,s,o.maxWidth)),e.fillText(h,n,s,o.maxWidth),tz(e,n,s,h,o),s+=Number(a.lineHeight);e.restore()}function Qh(e,t){const{x:n,y:s,w:a,h:o,radius:c}=t;e.arc(n+c.topLeft,s+c.topLeft,c.topLeft,1.5*yn,yn,!0),e.lineTo(n,s+o-c.bottomLeft),e.arc(n+c.bottomLeft,s+o-c.bottomLeft,c.bottomLeft,yn,ps,!0),e.lineTo(n+a-c.bottomRight,s+o),e.arc(n+a-c.bottomRight,s+o-c.bottomRight,c.bottomRight,ps,0,!0),e.lineTo(n+a,s+c.topRight),e.arc(n+a-c.topRight,s+c.topRight,c.topRight,0,-ps,!0),e.lineTo(n+c.topLeft,s)}const sz=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,rz=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function az(e,t){const n=(""+e).match(sz);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const iz=e=>+e||0;function My(e,t){const n={},s=Kt(t),a=s?Object.keys(t):t,o=Kt(e)?s?c=>sn(e[c],e[t[c]]):c=>e[c]:()=>e;for(const c of a)n[c]=iz(o(c));return n}function FT(e){return My(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Zl(e){return My(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Or(e){const t=FT(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ts(e,t){e=e||{},t=t||Fn.font;let n=sn(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let s=sn(e.style,t.style);s&&!(""+s).match(rz)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const a={family:sn(e.family,t.family),lineHeight:az(sn(e.lineHeight,t.lineHeight),n),size:n,style:s,weight:sn(e.weight,t.weight),string:""};return a.string=J8(a),a}function eh(e,t,n,s){let a,o,c;for(a=0,o=e.length;a<o;++a)if(c=e[a],c!==void 0&&c!==void 0)return c}function oz(e,t,n){const{min:s,max:a}=e,o=N8(t,(a-s)/2),c=(d,f)=>n&&d===0?0:d+f;return{min:c(s,-Math.abs(o)),max:c(a,o)}}function pc(e,t){return Object.assign(Object.create(e),t)}function Py(e,t=[""],n,s,a=()=>e[0]){const o=n||e;typeof s=="undefined"&&(s=VT("_fallback",e));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:s,_getTarget:a,override:d=>Py([d,...e],t,o,s)};return new Proxy(c,{deleteProperty(d,f){return delete d[f],delete d._keys,delete e[0][f],!0},get(d,f){return $T(d,f,()=>pz(f,t,e,d))},getOwnPropertyDescriptor(d,f){return Reflect.getOwnPropertyDescriptor(d._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(d,f){return k_(d).includes(f)},ownKeys(d){return k_(d)},set(d,f,h){const p=d._storage||(d._storage=a());return d[f]=p[f]=h,delete d._keys,!0}})}function rc(e,t,n,s){const a={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:BT(e,s),setContext:o=>rc(e,o,n,s),override:o=>rc(e.override(o),t,n,s)};return new Proxy(a,{deleteProperty(o,c){return delete o[c],delete e[c],!0},get(o,c,d){return $T(o,c,()=>cz(o,c,d))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(e,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,c)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,c){return Reflect.has(e,c)},ownKeys(){return Reflect.ownKeys(e)},set(o,c,d){return e[c]=d,delete o[c],!0}})}function BT(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:s=t.indexable,_allKeys:a=t.allKeys}=e;return{allKeys:a,scriptable:n,indexable:s,isScriptable:Hi(n)?n:()=>n,isIndexable:Hi(s)?s:()=>s}}const lz=(e,t)=>e?e+Cy(t):t,Ly=(e,t)=>Kt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function $T(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const s=n();return e[t]=s,s}function cz(e,t,n){const{_proxy:s,_context:a,_subProxy:o,_descriptors:c}=e;let d=s[t];return Hi(d)&&c.isScriptable(t)&&(d=uz(t,d,e,n)),ls(d)&&d.length&&(d=dz(t,d,e,c.isIndexable)),Ly(t,d)&&(d=rc(d,a,o&&o[t],c)),d}function uz(e,t,n,s){const{_proxy:a,_context:o,_subProxy:c,_stack:d}=n;if(d.has(e))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+e);d.add(e);let f=t(o,c||s);return d.delete(e),Ly(e,f)&&(f=zy(a._scopes,a,e,f)),f}function dz(e,t,n,s){const{_proxy:a,_context:o,_subProxy:c,_descriptors:d}=n;if(typeof o.index!="undefined"&&s(e))return t[o.index%t.length];if(Kt(t[0])){const f=t,h=a._scopes.filter(p=>p!==f);t=[];for(const p of f){const g=zy(h,a,e,p);t.push(rc(g,o,c&&c[e],d))}}return t}function HT(e,t,n){return Hi(e)?e(t,n):e}const fz=(e,t)=>e===!0?t:typeof e=="string"?Wh(t,e):void 0;function hz(e,t,n,s,a){for(const o of t){const c=fz(n,o);if(c){e.add(c);const d=HT(c._fallback,n,a);if(typeof d!="undefined"&&d!==n&&d!==s)return d}else if(c===!1&&typeof s!="undefined"&&n!==s)return null}return!1}function zy(e,t,n,s){const a=t._rootScopes,o=HT(t._fallback,n,s),c=[...e,...a],d=new Set;d.add(s);let f=E_(d,c,n,o||n,s);return f===null||typeof o!="undefined"&&o!==n&&(f=E_(d,c,o,f,s),f===null)?!1:Py(Array.from(d),[""],a,o,()=>mz(t,n,s))}function E_(e,t,n,s,a){for(;n;)n=hz(e,t,n,s,a);return n}function mz(e,t,n){const s=e._getTarget();t in s||(s[t]={});const a=s[t];return ls(a)&&Kt(n)?n:a||{}}function pz(e,t,n,s){let a;for(const o of t)if(a=VT(lz(o,e),n),typeof a!="undefined")return Ly(e,a)?zy(n,s,e,a):a}function VT(e,t){for(const n of t){if(!n)continue;const s=n[e];if(typeof s!="undefined")return s}}function k_(e){let t=e._keys;return t||(t=e._keys=gz(e._scopes)),t}function gz(e){const t=new Set;for(const n of e)for(const s of Object.keys(n).filter(a=>!a.startsWith("_")))t.add(s);return Array.from(t)}function Uy(){return typeof window!="undefined"&&typeof document!="undefined"}function Fy(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Zh(e,t,n){let s;return typeof e=="string"?(s=parseInt(e,10),e.indexOf("%")!==-1&&(s=s/100*t.parentNode[n])):s=e,s}const jm=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function xz(e,t){return jm(e).getPropertyValue(t)}const yz=["top","right","bottom","left"];function Lo(e,t,n){const s={};n=n?"-"+n:"";for(let a=0;a<4;a++){const o=yz[a];s[o]=parseFloat(e[t+"-"+o+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const bz=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function vz(e,t){const n=e.touches,s=n&&n.length?n[0]:e,{offsetX:a,offsetY:o}=s;let c=!1,d,f;if(bz(a,o,e.target))d=a,f=o;else{const h=t.getBoundingClientRect();d=s.clientX-h.left,f=s.clientY-h.top,c=!0}return{x:d,y:f,box:c}}function To(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:s}=t,a=jm(n),o=a.boxSizing==="border-box",c=Lo(a,"padding"),d=Lo(a,"border","width"),{x:f,y:h,box:p}=vz(e,n),g=c.left+(p&&d.left),y=c.top+(p&&d.top);let{width:b,height:j}=t;return o&&(b-=c.width+d.width,j-=c.height+d.height),{x:Math.round((f-g)/b*n.width/s),y:Math.round((h-y)/j*n.height/s)}}function wz(e,t,n){let s,a;if(t===void 0||n===void 0){const o=e&&Fy(e);if(!o)t=e.clientWidth,n=e.clientHeight;else{const c=o.getBoundingClientRect(),d=jm(o),f=Lo(d,"border","width"),h=Lo(d,"padding");t=c.width-h.width-f.width,n=c.height-h.height-f.height,s=Zh(d.maxWidth,o,"clientWidth"),a=Zh(d.maxHeight,o,"clientHeight")}}return{width:t,height:n,maxWidth:s||Xh,maxHeight:a||Xh}}const th=e=>Math.round(e*10)/10;function jz(e,t,n,s){const a=jm(e),o=Lo(a,"margin"),c=Zh(a.maxWidth,e,"clientWidth")||Xh,d=Zh(a.maxHeight,e,"clientHeight")||Xh,f=wz(e,t,n);let{width:h,height:p}=f;if(a.boxSizing==="content-box"){const y=Lo(a,"border","width"),b=Lo(a,"padding");h-=b.width+y.width,p-=b.height+y.height}return h=Math.max(0,h-o.width),p=Math.max(0,s?h/s:p-o.height),h=th(Math.min(h,c,f.maxWidth)),p=th(Math.min(p,d,f.maxHeight)),h&&!p&&(p=th(h/2)),(t!==void 0||n!==void 0)&&s&&f.height&&p>f.height&&(p=f.height,h=th(Math.floor(p*s))),{width:h,height:p}}function C_(e,t,n){const s=t||1,a=Math.floor(e.height*s),o=Math.floor(e.width*s);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const c=e.canvas;return c.style&&(n||!c.style.height&&!c.style.width)&&(c.style.height=`${e.height}px`,c.style.width=`${e.width}px`),e.currentDevicePixelRatio!==s||c.height!==a||c.width!==o?(e.currentDevicePixelRatio=s,c.height=a,c.width=o,e.ctx.setTransform(s,0,0,s,0,0),!0):!1}const _z=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Uy()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(t){}return e}();function D_(e,t){const n=xz(e,t),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}const Nz=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},Sz=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Jl(e,t,n){return e?Nz(t,n):Sz()}function IT(e,t){let n,s;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=s)}function qT(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function nh(e,t,n){return e.options.clip?e[n]:t[n]}function Tz(e,t){const{xScale:n,yScale:s}=e;return n&&s?{left:nh(n,t,"left"),right:nh(n,t,"right"),top:nh(s,t,"top"),bottom:nh(s,t,"bottom")}:t}function Ez(e,t){const n=t._clip;if(n.disabled)return!1;const s=Tz(t,e.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class kz{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,s,a){const o=n.listeners[a],c=n.duration;o.forEach(d=>d({chart:t,initial:n.initial,numSteps:c,currentStep:Math.min(s-n.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=AT.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((s,a)=>{if(!s.running||!s.items.length)return;const o=s.items;let c=o.length-1,d=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>s.duration&&(s.duration=f._total),f.tick(t),d=!0):(o[c]=o[o.length-1],o.pop());d&&(a.draw(),this._notify(a,s,t,"progress")),o.length||(s.running=!1,this._notify(a,s,t,"complete"),s.initial=!1),n+=o.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let s=n.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,s)),s}listen(t,n,s){this._getAnims(t).listeners[n].push(s)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,a)=>Math.max(s,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const s=n.items;let a=s.length-1;for(;a>=0;--a)s[a].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ha=new kz;const O_="transparent",Cz={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const s=j_(e||O_),a=s.valid&&j_(t||O_);return a&&a.valid?a.mix(s,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class Dz{constructor(t,n,s,a){const o=n[s];a=eh([t.to,a,o,t.from]);const c=eh([t.from,o,a]);this._active=!0,this._fn=t.fn||Cz[t.type||typeof c],this._easing=Bu[t.easing]||Bu.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=s,this._from=c,this._to=a,this._promises=void 0}active(){return this._active}update(t,n,s){if(this._active){this._notify(!1);const a=this._target[this._prop],o=s-this._start,c=this._duration-o;this._start=s,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=eh([t.to,n,a,t.from]),this._from=eh([t.from,a,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,s=this._duration,a=this._prop,o=this._from,c=this._loop,d=this._to;let f;if(this._active=o!==d&&(c||n<s),!this._active){this._target[a]=d,this._notify(!0);return}if(n<0){this._target[a]=o;return}f=n/s%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[a]=this._fn(o,d,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,s)=>{t.push({res:n,rej:s})})}_notify(t){const n=t?"res":"rej",s=this._promises||[];for(let a=0;a<s.length;a++)s[a][n]()}}class WT{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Kt(t))return;const n=Object.keys(Fn.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{const o=t[a];if(!Kt(o))return;const c={};for(const d of n)c[d]=o[d];(ls(o.properties)&&o.properties||[a]).forEach(d=>{(d===a||!s.has(d))&&s.set(d,c)})})}_animateOptions(t,n){const s=n.options,a=Az(t,s);if(!a)return[];const o=this._createAnimations(a,s);return s.$shared&&Oz(t.options.$animations,s).then(()=>{t.options=s},()=>{}),o}_createAnimations(t,n){const s=this._properties,a=[],o=t.$animations||(t.$animations={}),c=Object.keys(n),d=Date.now();let f;for(f=c.length-1;f>=0;--f){const h=c[f];if(h.charAt(0)==="$")continue;if(h==="options"){a.push(...this._animateOptions(t,n));continue}const p=n[h];let g=o[h];const y=s.get(h);if(g)if(y&&g.active()){g.update(y,p,d);continue}else g.cancel();if(!y||!y.duration){t[h]=p;continue}o[h]=g=new Dz(y,t,h,p),a.push(g)}return a}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const s=this._createAnimations(t,n);if(s.length)return Ha.add(this._chart,s),!0}}function Oz(e,t){const n=[],s=Object.keys(t);for(let a=0;a<s.length;a++){const o=e[s[a]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function Az(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function A_(e,t){const n=e&&e.options||{},s=n.reverse,a=n.min===void 0?t:0,o=n.max===void 0?t:0;return{start:s?o:a,end:s?a:o}}function Rz(e,t,n){if(n===!1)return!1;const s=A_(e,n),a=A_(t,n);return{top:a.end,right:s.end,bottom:a.start,left:s.start}}function Mz(e){let t,n,s,a;return Kt(e)?(t=e.top,n=e.right,s=e.bottom,a=e.left):t=n=s=a=e,{top:t,right:n,bottom:s,left:a,disabled:e===!1}}function YT(e,t){const n=[],s=e._getSortedDatasetMetas(t);let a,o;for(a=0,o=s.length;a<o;++a)n.push(s[a].index);return n}function R_(e,t,n,s={}){const a=e.keys,o=s.mode==="single";let c,d,f,h;if(t===null)return;let p=!1;for(c=0,d=a.length;c<d;++c){if(f=+a[c],f===n){if(p=!0,s.all)continue;break}h=e.values[f],Dr(h)&&(o||t===0||Gh(t)===Gh(h))&&(t+=h)}return!p&&!s.all?0:t}function Pz(e,t){const{iScale:n,vScale:s}=t,a=n.axis==="x"?"x":"y",o=s.axis==="x"?"x":"y",c=Object.keys(e),d=new Array(c.length);let f,h,p;for(f=0,h=c.length;f<h;++f)p=c[f],d[f]={[a]:p,[o]:e[p]};return d}function d0(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function Lz(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function zz(e){const{min:t,max:n,minDefined:s,maxDefined:a}=e.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:a?n:Number.POSITIVE_INFINITY}}function Uz(e,t,n){const s=e[t]||(e[t]={});return s[n]||(s[n]={})}function M_(e,t,n,s){for(const a of t.getMatchingVisibleMetas(s).reverse()){const o=e[a.index];if(n&&o>0||!n&&o<0)return a.index}return null}function P_(e,t){const{chart:n,_cachedMeta:s}=e,a=n._stacks||(n._stacks={}),{iScale:o,vScale:c,index:d}=s,f=o.axis,h=c.axis,p=Lz(o,c,s),g=t.length;let y;for(let b=0;b<g;++b){const j=t[b],{[f]:v,[h]:S}=j,N=j._stacks||(j._stacks={});y=N[h]=Uz(a,p,v),y[d]=S,y._top=M_(y,c,!0,s.type),y._bottom=M_(y,c,!1,s.type);const R=y._visualValues||(y._visualValues={});R[d]=S}}function f0(e,t){const n=e.scales;return Object.keys(n).filter(s=>n[s].axis===t).shift()}function Fz(e,t){return pc(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Bz(e,t,n){return pc(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function ju(e,t){const n=e.controller.index,s=e.vScale&&e.vScale.axis;if(s){t=t||e._parsed;for(const a of t){const o=a._stacks;if(!o||o[s]===void 0||o[s][n]===void 0)return;delete o[s][n],o[s]._visualValues!==void 0&&o[s]._visualValues[n]!==void 0&&delete o[s]._visualValues[n]}}}const h0=e=>e==="reset"||e==="none",L_=(e,t)=>t?e:Object.assign({},e),$z=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:YT(n,!0),values:null};class Ch{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=d0(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&ju(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,s=this.getDataset(),a=(g,y,b,j)=>g==="x"?y:g==="r"?j:b,o=n.xAxisID=sn(s.xAxisID,f0(t,"x")),c=n.yAxisID=sn(s.yAxisID,f0(t,"y")),d=n.rAxisID=sn(s.rAxisID,f0(t,"r")),f=n.indexAxis,h=n.iAxisID=a(f,o,c,d),p=n.vAxisID=a(f,c,o,d);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(c),n.rScale=this.getScaleForId(d),n.iScale=this.getScaleForId(h),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&b_(this._data,this),t._stacked&&ju(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),s=this._data;if(Kt(n)){const a=this._cachedMeta;this._data=Pz(n,a)}else if(s!==n){if(s){b_(s,this);const a=this._cachedMeta;ju(a),a._parsed=[]}n&&Object.isExtensible(n)&&B8(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,s=this.getDataset();let a=!1;this._dataCheck();const o=n._stacked;n._stacked=d0(n.vScale,n),n.stack!==s.stack&&(a=!0,ju(n),n.stack=s.stack),this._resyncElements(t),(a||o!==n._stacked)&&(P_(this,n._parsed),n._stacked=d0(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:s,_data:a}=this,{iScale:o,_stacked:c}=s,d=o.axis;let f=t===0&&n===a.length?!0:s._sorted,h=t>0&&s._parsed[t-1],p,g,y;if(this._parsing===!1)s._parsed=a,s._sorted=!0,y=a;else{ls(a[t])?y=this.parseArrayData(s,a,t,n):Kt(a[t])?y=this.parseObjectData(s,a,t,n):y=this.parsePrimitiveData(s,a,t,n);const b=()=>g[d]===null||h&&g[d]<h[d];for(p=0;p<n;++p)s._parsed[p+t]=g=y[p],f&&(b()&&(f=!1),h=g);s._sorted=f}c&&P_(this,y)}parsePrimitiveData(t,n,s,a){const{iScale:o,vScale:c}=t,d=o.axis,f=c.axis,h=o.getLabels(),p=o===c,g=new Array(a);let y,b,j;for(y=0,b=a;y<b;++y)j=y+s,g[y]={[d]:p||o.parse(h[j],j),[f]:c.parse(n[j],j)};return g}parseArrayData(t,n,s,a){const{xScale:o,yScale:c}=t,d=new Array(a);let f,h,p,g;for(f=0,h=a;f<h;++f)p=f+s,g=n[p],d[f]={x:o.parse(g[0],p),y:c.parse(g[1],p)};return d}parseObjectData(t,n,s,a){const{xScale:o,yScale:c}=t,{xAxisKey:d="x",yAxisKey:f="y"}=this._parsing,h=new Array(a);let p,g,y,b;for(p=0,g=a;p<g;++p)y=p+s,b=n[y],h[p]={x:o.parse(Wh(b,d),y),y:c.parse(Wh(b,f),y)};return h}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,s){const a=this.chart,o=this._cachedMeta,c=n[t.axis],d={keys:YT(a,!0),values:n._stacks[t.axis]._visualValues};return R_(d,c,o.index,{mode:s})}updateRangeFromParsed(t,n,s,a){const o=s[n.axis];let c=o===null?NaN:o;const d=a&&s._stacks[n.axis];a&&d&&(a.values=d,c=R_(a,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,n){const s=this._cachedMeta,a=s._parsed,o=s._sorted&&t===s.iScale,c=a.length,d=this._getOtherScale(t),f=$z(n,s,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:g}=zz(d);let y,b;function j(){b=a[y];const v=b[d.axis];return!Dr(b[t.axis])||p>v||g<v}for(y=0;y<c&&!(!j()&&(this.updateRangeFromParsed(h,t,b,f),o));++y);if(o){for(y=c-1;y>=0;--y)if(!j()){this.updateRangeFromParsed(h,t,b,f);break}}return h}getAllParsedValues(t){const n=this._cachedMeta._parsed,s=[];let a,o,c;for(a=0,o=n.length;a<o;++a)c=n[a][t.axis],Dr(c)&&s.push(c);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,s=n.iScale,a=n.vScale,o=this.getParsed(t);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=Mz(sn(this.options.clip,Rz(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,s=this._cachedMeta,a=s.data||[],o=n.chartArea,c=[],d=this._drawStart||0,f=this._drawCount||a.length-d,h=this.options.drawActiveElementsOnTop;let p;for(s.dataset&&s.dataset.draw(t,o,d,f),p=d;p<d+f;++p){const g=a[p];g.hidden||(g.active&&h?c.push(g):g.draw(t,o))}for(p=0;p<c.length;++p)c[p].draw(t,o)}getStyle(t,n){const s=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,n,s){const a=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=Bz(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=a.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=Fz(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=s,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",s){const a=n==="active",o=this._cachedDataOpts,c=t+"-"+n,d=o[c],f=this.enableOptionSharing&&Yh(s);if(d)return L_(d,f);const h=this.chart.config,p=h.datasetElementScopeKeys(this._type,t),g=a?[`${t}Hover`,"hover",t,""]:[t,""],y=h.getOptionScopes(this.getDataset(),p),b=Object.keys(Fn.elements[t]),j=()=>this.getContext(s,a,n),v=h.resolveNamedOptions(y,b,j,g);return v.$shared&&(v.$shared=f,o[c]=Object.freeze(L_(v,f))),v}_resolveAnimations(t,n,s){const a=this.chart,o=this._cachedDataOpts,c=`animation-${n}`,d=o[c];if(d)return d;let f;if(a.options.animation!==!1){const p=this.chart.config,g=p.datasetAnimationScopeKeys(this._type,n),y=p.getOptionScopes(this.getDataset(),g);f=p.createResolver(y,this.getContext(t,s,n))}const h=new WT(a,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(h)),h}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||h0(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const s=this.resolveDataElementOptions(t,n),a=this._sharedOptions,o=this.getSharedOptions(s),c=this.includeOptions(n,o)||o!==a;return this.updateSharedOptions(o,n,s),{sharedOptions:o,includeOptions:c}}updateElement(t,n,s,a){h0(a)?Object.assign(t,s):this._resolveAnimations(n,a).update(t,s)}updateSharedOptions(t,n,s){t&&!h0(n)&&this._resolveAnimations(void 0,n).update(t,s)}_setStyle(t,n,s,a){t.active=a;const o=this.getStyle(n,a);this._resolveAnimations(n,s,a).update(t,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(t,n,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,n,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,s=this._cachedMeta.data;for(const[d,f,h]of this._syncList)this[d](f,h);this._syncList=[];const a=s.length,o=n.length,c=Math.min(o,a);c&&this.parse(0,c),o>a?this._insertElements(a,o-a,t):o<a&&this._removeElements(o,a-o)}_insertElements(t,n,s=!0){const a=this._cachedMeta,o=a.data,c=t+n;let d;const f=h=>{for(h.length+=n,d=h.length-1;d>=c;d--)h[d]=h[d-n]};for(f(o),d=t;d<c;++d)o[d]=new this.dataElementType;this._parsing&&f(a._parsed),this.parse(t,n),s&&this.updateElements(o,t,n,"reset")}updateElements(t,n,s,a){}_removeElements(t,n){const s=this._cachedMeta;if(this._parsing){const a=s._parsed.splice(t,n);s._stacked&&ju(s,a)}s.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,s,a]=t;this[n](s,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}_t(Ch,"defaults",{}),_t(Ch,"datasetElementType",null),_t(Ch,"dataElementType",null);function No(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class By{constructor(t){_t(this,"options");this.options=t||{}}static override(t){Object.assign(By.prototype,t)}init(){}formats(){return No()}parse(){return No()}format(){return No()}add(){return No()}diff(){return No()}startOf(){return No()}endOf(){return No()}}var Hz={_date:By};function Vz(e,t,n,s){const{controller:a,data:o,_sorted:c}=e,d=a._cachedMeta.iScale,f=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(d&&t===d.axis&&t!=="r"&&c&&o.length){const h=d._reversePixels?U8:dx;if(s){if(a._sharedOptions){const p=o[0],g=typeof p.getRange=="function"&&p.getRange(t);if(g){const y=h(o,t,n-g),b=h(o,t,n+g);return{lo:y.lo,hi:b.hi}}}}else{const p=h(o,t,n);if(f){const{vScale:g}=a._cachedMeta,{_parsed:y}=e,b=y.slice(0,p.lo+1).reverse().findIndex(v=>!kn(v[g.axis]));p.lo-=Math.max(0,b);const j=y.slice(p.hi).findIndex(v=>!kn(v[g.axis]));p.hi+=Math.max(0,j)}return p}}return{lo:0,hi:o.length-1}}function _m(e,t,n,s,a){const o=e.getSortedVisibleDatasetMetas(),c=n[t];for(let d=0,f=o.length;d<f;++d){const{index:h,data:p}=o[d],{lo:g,hi:y}=Vz(o[d],t,c,a);for(let b=g;b<=y;++b){const j=p[b];j.skip||s(j,h,b)}}}function Iz(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(s,a){const o=t?Math.abs(s.x-a.x):0,c=n?Math.abs(s.y-a.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function m0(e,t,n,s,a){const o=[];return!a&&!e.isPointInArea(t)||_m(e,n,t,function(d,f,h){!a&&!UT(d,e.chartArea,0)||d.inRange(t.x,t.y,s)&&o.push({element:d,datasetIndex:f,index:h})},!0),o}function qz(e,t,n,s){let a=[];function o(c,d,f){const{startAngle:h,endAngle:p}=c.getProps(["startAngle","endAngle"],s),{angle:g}=CT(c,{x:t.x,y:t.y});DT(g,h,p)&&a.push({element:c,datasetIndex:d,index:f})}return _m(e,n,t,o),a}function Wz(e,t,n,s,a,o){let c=[];const d=Iz(n);let f=Number.POSITIVE_INFINITY;function h(p,g,y){const b=p.inRange(t.x,t.y,a);if(s&&!b)return;const j=p.getCenterPoint(a);if(!(!!o||e.isPointInArea(j))&&!b)return;const S=d(t,j);S<f?(c=[{element:p,datasetIndex:g,index:y}],f=S):S===f&&c.push({element:p,datasetIndex:g,index:y})}return _m(e,n,t,h),c}function p0(e,t,n,s,a,o){return!o&&!e.isPointInArea(t)?[]:n==="r"&&!s?qz(e,t,n,a):Wz(e,t,n,s,a,o)}function z_(e,t,n,s,a){const o=[],c=n==="x"?"inXRange":"inYRange";let d=!1;return _m(e,n,t,(f,h,p)=>{f[c]&&f[c](t[n],a)&&(o.push({element:f,datasetIndex:h,index:p}),d=d||f.inRange(t.x,t.y,a))}),s&&!d?[]:o}var Yz={modes:{index(e,t,n,s){const a=To(t,e),o=n.axis||"x",c=n.includeInvisible||!1,d=n.intersect?m0(e,a,o,s,c):p0(e,a,o,!1,s,c),f=[];return d.length?(e.getSortedVisibleDatasetMetas().forEach(h=>{const p=d[0].index,g=h.data[p];g&&!g.skip&&f.push({element:g,datasetIndex:h.index,index:p})}),f):[]},dataset(e,t,n,s){const a=To(t,e),o=n.axis||"xy",c=n.includeInvisible||!1;let d=n.intersect?m0(e,a,o,s,c):p0(e,a,o,!1,s,c);if(d.length>0){const f=d[0].datasetIndex,h=e.getDatasetMeta(f).data;d=[];for(let p=0;p<h.length;++p)d.push({element:h[p],datasetIndex:f,index:p})}return d},point(e,t,n,s){const a=To(t,e),o=n.axis||"xy",c=n.includeInvisible||!1;return m0(e,a,o,s,c)},nearest(e,t,n,s){const a=To(t,e),o=n.axis||"xy",c=n.includeInvisible||!1;return p0(e,a,o,n.intersect,s,c)},x(e,t,n,s){const a=To(t,e);return z_(e,a,"x",n.intersect,s)},y(e,t,n,s){const a=To(t,e);return z_(e,a,"y",n.intersect,s)}}};const XT=["left","top","right","bottom"];function _u(e,t){return e.filter(n=>n.pos===t)}function U_(e,t){return e.filter(n=>XT.indexOf(n.pos)===-1&&n.box.axis===t)}function Nu(e,t){return e.sort((n,s)=>{const a=t?s:n,o=t?n:s;return a.weight===o.weight?a.index-o.index:a.weight-o.weight})}function Xz(e){const t=[];let n,s,a,o,c,d;for(n=0,s=(e||[]).length;n<s;++n)a=e[n],{position:o,options:{stack:c,stackWeight:d=1}}=a,t.push({index:n,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:c&&o+c,stackWeight:d});return t}function Gz(e){const t={};for(const n of e){const{stack:s,pos:a,stackWeight:o}=n;if(!s||!XT.includes(a))continue;const c=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function Kz(e,t){const n=Gz(e),{vBoxMaxWidth:s,hBoxMaxHeight:a}=t;let o,c,d;for(o=0,c=e.length;o<c;++o){d=e[o];const{fullSize:f}=d.box,h=n[d.stack],p=h&&d.stackWeight/h.weight;d.horizontal?(d.width=p?p*s:f&&t.availableWidth,d.height=a):(d.width=s,d.height=p?p*a:f&&t.availableHeight)}return n}function Qz(e){const t=Xz(e),n=Nu(t.filter(h=>h.box.fullSize),!0),s=Nu(_u(t,"left"),!0),a=Nu(_u(t,"right")),o=Nu(_u(t,"top"),!0),c=Nu(_u(t,"bottom")),d=U_(t,"x"),f=U_(t,"y");return{fullSize:n,leftAndTop:s.concat(o),rightAndBottom:a.concat(f).concat(c).concat(d),chartArea:_u(t,"chartArea"),vertical:s.concat(a).concat(f),horizontal:o.concat(c).concat(d)}}function F_(e,t,n,s){return Math.max(e[n],t[n])+Math.max(e[s],t[s])}function GT(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Zz(e,t,n,s){const{pos:a,box:o}=n,c=e.maxPadding;if(!Kt(a)){n.size&&(e[a]-=n.size);const g=s[n.stack]||{size:0,count:1};g.size=Math.max(g.size,n.horizontal?o.height:o.width),n.size=g.size/g.count,e[a]+=n.size}o.getPadding&&GT(c,o.getPadding());const d=Math.max(0,t.outerWidth-F_(c,e,"left","right")),f=Math.max(0,t.outerHeight-F_(c,e,"top","bottom")),h=d!==e.w,p=f!==e.h;return e.w=d,e.h=f,n.horizontal?{same:h,other:p}:{same:p,other:h}}function Jz(e){const t=e.maxPadding;function n(s){const a=Math.max(t[s]-e[s],0);return e[s]+=a,a}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function eU(e,t){const n=t.maxPadding;function s(a){const o={left:0,top:0,right:0,bottom:0};return a.forEach(c=>{o[c]=Math.max(t[c],n[c])}),o}return s(e?["left","right"]:["top","bottom"])}function Lu(e,t,n,s){const a=[];let o,c,d,f,h,p;for(o=0,c=e.length,h=0;o<c;++o){d=e[o],f=d.box,f.update(d.width||t.w,d.height||t.h,eU(d.horizontal,t));const{same:g,other:y}=Zz(t,n,d,s);h|=g&&a.length,p=p||y,f.fullSize||a.push(d)}return h&&Lu(a,t,n,s)||p}function sh(e,t,n,s,a){e.top=n,e.left=t,e.right=t+s,e.bottom=n+a,e.width=s,e.height=a}function B_(e,t,n,s){const a=n.padding;let{x:o,y:c}=t;for(const d of e){const f=d.box,h=s[d.stack]||{placed:0,weight:1},p=d.stackWeight/h.weight||1;if(d.horizontal){const g=t.w*p,y=h.size||f.height;Yh(h.start)&&(c=h.start),f.fullSize?sh(f,a.left,c,n.outerWidth-a.right-a.left,y):sh(f,t.left+h.placed,c,g,y),h.start=c,h.placed+=g,c=f.bottom}else{const g=t.h*p,y=h.size||f.width;Yh(h.start)&&(o=h.start),f.fullSize?sh(f,o,a.top,y,n.outerHeight-a.bottom-a.top):sh(f,o,t.top+h.placed,y,g),h.start=o,h.placed+=g,o=f.right}}t.x=o,t.y=c}var Er={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,s){if(!e)return;const a=Or(e.options.layout.padding),o=Math.max(t-a.width,0),c=Math.max(n-a.height,0),d=Qz(e.boxes),f=d.vertical,h=d.horizontal;nn(e.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const p=f.reduce((v,S)=>S.box.options&&S.box.options.display===!1?v:v+1,0)||1,g=Object.freeze({outerWidth:t,outerHeight:n,padding:a,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/p,hBoxMaxHeight:c/2}),y=Object.assign({},a);GT(y,Or(s));const b=Object.assign({maxPadding:y,w:o,h:c,x:a.left,y:a.top},a),j=Kz(f.concat(h),g);Lu(d.fullSize,b,g,j),Lu(f,b,g,j),Lu(h,b,g,j)&&Lu(f,b,g,j),Jz(b),B_(d.leftAndTop,b,g,j),b.x+=b.w,b.y+=b.h,B_(d.rightAndBottom,b,g,j),e.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},nn(d.chartArea,v=>{const S=v.box;Object.assign(S,e.chartArea),S.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class KT{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,s){}removeEventListener(t,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,s,a){return n=Math.max(0,n||t.width),s=s||t.height,{width:n,height:Math.max(0,a?Math.floor(n/a):s)}}isAttached(t){return!0}updateConfig(t){}}class tU extends KT{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Dh="$chartjs",nU={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},$_=e=>e===null||e==="";function sU(e,t){const n=e.style,s=e.getAttribute("height"),a=e.getAttribute("width");if(e[Dh]={initial:{height:s,width:a,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",$_(a)){const o=D_(e,"width");o!==void 0&&(e.width=o)}if($_(s))if(e.style.height==="")e.height=e.width/(t||2);else{const o=D_(e,"height");o!==void 0&&(e.height=o)}return e}const QT=_z?{passive:!0}:!1;function rU(e,t,n){e&&e.addEventListener(t,n,QT)}function aU(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,QT)}function iU(e,t){const n=nU[e.type]||e.type,{x:s,y:a}=To(e,t);return{type:n,chart:t,native:e,x:s!==void 0?s:null,y:a!==void 0?a:null}}function Jh(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function oU(e,t,n){const s=e.canvas,a=new MutationObserver(o=>{let c=!1;for(const d of o)c=c||Jh(d.addedNodes,s),c=c&&!Jh(d.removedNodes,s);c&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}function lU(e,t,n){const s=e.canvas,a=new MutationObserver(o=>{let c=!1;for(const d of o)c=c||Jh(d.removedNodes,s),c=c&&!Jh(d.addedNodes,s);c&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}const nd=new Map;let H_=0;function ZT(){const e=window.devicePixelRatio;e!==H_&&(H_=e,nd.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function cU(e,t){nd.size||window.addEventListener("resize",ZT),nd.set(e,t)}function uU(e){nd.delete(e),nd.size||window.removeEventListener("resize",ZT)}function dU(e,t,n){const s=e.canvas,a=s&&Fy(s);if(!a)return;const o=RT((d,f)=>{const h=a.clientWidth;n(d,f),h<a.clientWidth&&n()},window),c=new ResizeObserver(d=>{const f=d[0],h=f.contentRect.width,p=f.contentRect.height;h===0&&p===0||o(h,p)});return c.observe(a),cU(e,o),c}function g0(e,t,n){n&&n.disconnect(),t==="resize"&&uU(e)}function fU(e,t,n){const s=e.canvas,a=RT(o=>{e.ctx!==null&&n(iU(o,e))},e);return rU(s,t,a),a}class hU extends KT{acquireContext(t,n){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(sU(t,n),s):null}releaseContext(t){const n=t.canvas;if(!n[Dh])return!1;const s=n[Dh].initial;["height","width"].forEach(o=>{const c=s[o];kn(c)?n.removeAttribute(o):n.setAttribute(o,c)});const a=s.style||{};return Object.keys(a).forEach(o=>{n.style[o]=a[o]}),n.width=n.width,delete n[Dh],!0}addEventListener(t,n,s){this.removeEventListener(t,n);const a=t.$proxies||(t.$proxies={}),c={attach:oU,detach:lU,resize:dU}[n]||fU;a[n]=c(t,n,s)}removeEventListener(t,n){const s=t.$proxies||(t.$proxies={}),a=s[n];if(!a)return;({attach:g0,detach:g0,resize:g0}[n]||aU)(t,n,a),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,s,a){return jz(t,n,s,a)}isAttached(t){const n=t&&Fy(t);return!!(n&&n.isConnected)}}function mU(e){return!Uy()||typeof OffscreenCanvas!="undefined"&&e instanceof OffscreenCanvas?tU:hU}var ph;let Xo=(ph=class{constructor(){_t(this,"x");_t(this,"y");_t(this,"active",!1);_t(this,"options");_t(this,"$animations")}tooltipPosition(t){const{x:n,y:s}=this.getProps(["x","y"],t);return{x:n,y:s}}hasValue(){return Kh(this.x)&&Kh(this.y)}getProps(t,n){const s=this.$animations;if(!n||!s)return this;const a={};return t.forEach(o=>{a[o]=s[o]&&s[o].active()?s[o]._to:this[o]}),a}},_t(ph,"defaults",{}),_t(ph,"defaultRoutes"),ph);function pU(e,t){const n=e.options.ticks,s=gU(e),a=Math.min(n.maxTicksLimit||s,s),o=n.major.enabled?yU(t):[],c=o.length,d=o[0],f=o[c-1],h=[];if(c>a)return bU(t,h,o,c/a),h;const p=xU(o,t,a);if(c>0){let g,y;const b=c>1?Math.round((f-d)/(c-1)):null;for(rh(t,h,p,kn(b)?0:d-b,d),g=0,y=c-1;g<y;g++)rh(t,h,p,o[g],o[g+1]);return rh(t,h,p,f,kn(b)?t.length:f+b),h}return rh(t,h,p),h}function gU(e){const t=e.options.offset,n=e._tickSize(),s=e._length/n+(t?0:1),a=e._maxLength/n;return Math.floor(Math.min(s,a))}function xU(e,t,n){const s=vU(e),a=t.length/n;if(!s)return Math.max(a,1);const o=O8(s);for(let c=0,d=o.length-1;c<d;c++){const f=o[c];if(f>a)return f}return Math.max(a,1)}function yU(e){const t=[];let n,s;for(n=0,s=e.length;n<s;n++)e[n].major&&t.push(n);return t}function bU(e,t,n,s){let a=0,o=n[0],c;for(s=Math.ceil(s),c=0;c<e.length;c++)c===o&&(t.push(e[c]),a++,o=n[a*s])}function rh(e,t,n,s,a){const o=sn(s,0),c=Math.min(sn(a,e.length),e.length);let d=0,f,h,p;for(n=Math.ceil(n),a&&(f=a-s,n=f/Math.floor(f/n)),p=o;p<0;)d++,p=Math.round(o+d*n);for(h=Math.max(o,0);h<c;h++)h===p&&(t.push(e[h]),d++,p=Math.round(o+d*n))}function vU(e){const t=e.length;let n,s;if(t<2)return!1;for(s=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==s)return!1;return s}const wU=e=>e==="left"?"right":e==="right"?"left":e,V_=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,I_=(e,t)=>Math.min(t||e,e);function q_(e,t){const n=[],s=e.length/t,a=e.length;let o=0;for(;o<a;o+=s)n.push(e[Math.floor(o)]);return n}function jU(e,t,n){const s=e.ticks.length,a=Math.min(t,s-1),o=e._startPixel,c=e._endPixel,d=1e-6;let f=e.getPixelForTick(a),h;if(!(n&&(s===1?h=Math.max(f-o,c-f):t===0?h=(e.getPixelForTick(1)-f)/2:h=(f-e.getPixelForTick(a-1))/2,f+=a<t?h:-h,f<o-d||f>c+d)))return f}function _U(e,t){nn(e,n=>{const s=n.gc,a=s.length/2;let o;if(a>t){for(o=0;o<a;++o)delete n.data[s[o]];s.splice(0,a)}})}function Su(e){return e.drawTicks?e.tickLength:0}function W_(e,t){if(!e.display)return 0;const n=Ts(e.font,t),s=Or(e.padding);return(ls(e.text)?e.text.length:1)*n.lineHeight+s.height}function NU(e,t){return pc(e,{scale:t,type:"scale"})}function SU(e,t,n){return pc(e,{tick:n,index:t,type:"tick"})}function TU(e,t,n){let s=Oy(e);return(n&&t!=="right"||!n&&t==="right")&&(s=wU(s)),s}function EU(e,t,n,s){const{top:a,left:o,bottom:c,right:d,chart:f}=e,{chartArea:h,scales:p}=f;let g=0,y,b,j;const v=c-a,S=d-o;if(e.isHorizontal()){if(b=Ns(s,o,d),Kt(n)){const N=Object.keys(n)[0],R=n[N];j=p[N].getPixelForValue(R)+v-t}else n==="center"?j=(h.bottom+h.top)/2+v-t:j=V_(e,n,t);y=d-o}else{if(Kt(n)){const N=Object.keys(n)[0],R=n[N];b=p[N].getPixelForValue(R)-S+t}else n==="center"?b=(h.left+h.right)/2-S+t:b=V_(e,n,t);j=Ns(s,c,a),g=n==="left"?-ps:ps}return{titleX:b,titleY:j,maxWidth:y,rotation:g}}class gc extends Xo{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:s,_suggestedMax:a}=this;return t=aa(t,Number.POSITIVE_INFINITY),n=aa(n,Number.NEGATIVE_INFINITY),s=aa(s,Number.POSITIVE_INFINITY),a=aa(a,Number.NEGATIVE_INFINITY),{min:aa(t,s),max:aa(n,a),minDefined:Dr(t),maxDefined:Dr(n)}}getMinMax(t){let{min:n,max:s,minDefined:a,maxDefined:o}=this.getUserBounds(),c;if(a&&o)return{min:n,max:s};const d=this.getMatchingVisibleMetas();for(let f=0,h=d.length;f<h;++f)c=d[f].controller.getMinMax(this,t),a||(n=Math.min(n,c.min)),o||(s=Math.max(s,c.max));return n=o&&n>s?s:n,s=a&&n>s?n:s,{min:aa(n,aa(s,n)),max:aa(s,aa(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){xn(this.options.beforeUpdate,[this])}update(t,n,s){const{beginAtZero:a,grace:o,ticks:c}=this.options,d=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=oz(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=d<this.ticks.length;this._convertTicksToLabels(f?q_(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=pU(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,t=!t),this._startPixel=n,this._endPixel=s,this._reversePixels=t,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){xn(this.options.afterUpdate,[this])}beforeSetDimensions(){xn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){xn(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),xn(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){xn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let s,a,o;for(s=0,a=t.length;s<a;s++)o=t[s],o.label=xn(n.callback,[o.value,s,t],this)}afterTickToLabelConversion(){xn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){xn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,s=I_(this.ticks.length,t.ticks.maxTicksLimit),a=n.minRotation||0,o=n.maxRotation;let c=a,d,f,h;if(!this._isVisible()||!n.display||a>=o||s<=1||!this.isHorizontal()){this.labelRotation=a;return}const p=this._getLabelSizes(),g=p.widest.width,y=p.highest.height,b=Ys(this.chart.width-g,0,this.maxWidth);d=t.offset?this.maxWidth/s:b/(s-1),g+6>d&&(d=b/(s-(t.offset?.5:1)),f=this.maxHeight-Su(t.grid)-n.padding-W_(t.title,this.chart.options.font),h=Math.sqrt(g*g+y*y),c=P8(Math.min(Math.asin(Ys((p.highest.height+6)/d,-1,1)),Math.asin(Ys(f/h,-1,1))-Math.asin(Ys(y/h,-1,1)))),c=Math.max(a,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){xn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){xn(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:s,title:a,grid:o}}=this,c=this._isVisible(),d=this.isHorizontal();if(c){const f=W_(a,n.options.font);if(d?(t.width=this.maxWidth,t.height=Su(o)+f):(t.height=this.maxHeight,t.width=Su(o)+f),s.display&&this.ticks.length){const{first:h,last:p,widest:g,highest:y}=this._getLabelSizes(),b=s.padding*2,j=Ro(this.labelRotation),v=Math.cos(j),S=Math.sin(j);if(d){const N=s.mirror?0:S*g.width+v*y.height;t.height=Math.min(this.maxHeight,t.height+N+b)}else{const N=s.mirror?0:v*g.width+S*y.height;t.width=Math.min(this.maxWidth,t.width+N+b)}this._calculatePadding(h,p,S,v)}}this._handleMargins(),d?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,s,a){const{ticks:{align:o,padding:c},position:d}=this.options,f=this.labelRotation!==0,h=d!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,b=0;f?h?(y=a*t.width,b=s*n.height):(y=s*t.height,b=a*n.width):o==="start"?b=n.width:o==="end"?y=t.width:o!=="inner"&&(y=t.width/2,b=n.width/2),this.paddingLeft=Math.max((y-p+c)*this.width/(this.width-p),0),this.paddingRight=Math.max((b-g+c)*this.width/(this.width-g),0)}else{let p=n.height/2,g=t.height/2;o==="start"?(p=0,g=t.height):o==="end"&&(p=n.height,g=0),this.paddingTop=p+c,this.paddingBottom=g+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){xn(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,s;for(n=0,s=t.length;n<s;n++)kn(t[n].label)&&(t.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=q_(s,n)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,s){const{ctx:a,_longestTextCache:o}=this,c=[],d=[],f=Math.floor(n/I_(n,s));let h=0,p=0,g,y,b,j,v,S,N,R,E,k,D;for(g=0;g<n;g+=f){if(j=t[g].label,v=this._resolveTickFontOptions(g),a.font=S=v.string,N=o[S]=o[S]||{data:{},gc:[]},R=v.lineHeight,E=k=0,!kn(j)&&!ls(j))E=N_(a,N.data,N.gc,E,j),k=R;else if(ls(j))for(y=0,b=j.length;y<b;++y)D=j[y],!kn(D)&&!ls(D)&&(E=N_(a,N.data,N.gc,E,D),k+=R);c.push(E),d.push(k),h=Math.max(E,h),p=Math.max(k,p)}_U(o,n);const C=c.indexOf(h),A=d.indexOf(p),P=U=>({width:c[U]||0,height:d[U]||0});return{first:P(0),last:P(n-1),widest:P(C),highest:P(A),widths:c,heights:d}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return z8(this._alignToPixels?_o(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const s=n[t];return s.$context||(s.$context=SU(this.getContext(),t,s))}return this.$context||(this.$context=NU(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Ro(this.labelRotation),s=Math.abs(Math.cos(n)),a=Math.abs(Math.sin(n)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,d=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*s>d*a?d/s:f/a:f*a<d*s?f/s:d/a}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,s=this.chart,a=this.options,{grid:o,position:c,border:d}=a,f=o.offset,h=this.isHorizontal(),g=this.ticks.length+(f?1:0),y=Su(o),b=[],j=d.setContext(this.getContext()),v=j.display?j.width:0,S=v/2,N=function(H){return _o(s,H,v)};let R,E,k,D,C,A,P,U,K,$,G,W;if(c==="top")R=N(this.bottom),A=this.bottom-y,U=R-S,$=N(t.top)+S,W=t.bottom;else if(c==="bottom")R=N(this.top),$=t.top,W=N(t.bottom)-S,A=R+S,U=this.top+y;else if(c==="left")R=N(this.right),C=this.right-y,P=R-S,K=N(t.left)+S,G=t.right;else if(c==="right")R=N(this.left),K=t.left,G=N(t.right)-S,C=R+S,P=this.left+y;else if(n==="x"){if(c==="center")R=N((t.top+t.bottom)/2+.5);else if(Kt(c)){const H=Object.keys(c)[0],J=c[H];R=N(this.chart.scales[H].getPixelForValue(J))}$=t.top,W=t.bottom,A=R+S,U=A+y}else if(n==="y"){if(c==="center")R=N((t.left+t.right)/2);else if(Kt(c)){const H=Object.keys(c)[0],J=c[H];R=N(this.chart.scales[H].getPixelForValue(J))}C=R-S,P=C-y,K=t.left,G=t.right}const ee=sn(a.ticks.maxTicksLimit,g),Y=Math.max(1,Math.ceil(g/ee));for(E=0;E<g;E+=Y){const H=this.getContext(E),J=o.setContext(H),te=d.setContext(H),ce=J.lineWidth,L=J.color,le=te.dash||[],re=te.dashOffset,V=J.tickWidth,ne=J.tickColor,xe=J.tickBorderDash||[],me=J.tickBorderDashOffset;k=jU(this,E,f),k!==void 0&&(D=_o(s,k,ce),h?C=P=K=G=D:A=U=$=W=D,b.push({tx1:C,ty1:A,tx2:P,ty2:U,x1:K,y1:$,x2:G,y2:W,width:ce,color:L,borderDash:le,borderDashOffset:re,tickWidth:V,tickColor:ne,tickBorderDash:xe,tickBorderDashOffset:me}))}return this._ticksLength=g,this._borderValue=R,b}_computeLabelItems(t){const n=this.axis,s=this.options,{position:a,ticks:o}=s,c=this.isHorizontal(),d=this.ticks,{align:f,crossAlign:h,padding:p,mirror:g}=o,y=Su(s.grid),b=y+p,j=g?-p:b,v=-Ro(this.labelRotation),S=[];let N,R,E,k,D,C,A,P,U,K,$,G,W="middle";if(a==="top")C=this.bottom-j,A=this._getXAxisLabelAlignment();else if(a==="bottom")C=this.top+j,A=this._getXAxisLabelAlignment();else if(a==="left"){const Y=this._getYAxisLabelAlignment(y);A=Y.textAlign,D=Y.x}else if(a==="right"){const Y=this._getYAxisLabelAlignment(y);A=Y.textAlign,D=Y.x}else if(n==="x"){if(a==="center")C=(t.top+t.bottom)/2+b;else if(Kt(a)){const Y=Object.keys(a)[0],H=a[Y];C=this.chart.scales[Y].getPixelForValue(H)+b}A=this._getXAxisLabelAlignment()}else if(n==="y"){if(a==="center")D=(t.left+t.right)/2-b;else if(Kt(a)){const Y=Object.keys(a)[0],H=a[Y];D=this.chart.scales[Y].getPixelForValue(H)}A=this._getYAxisLabelAlignment(y).textAlign}n==="y"&&(f==="start"?W="top":f==="end"&&(W="bottom"));const ee=this._getLabelSizes();for(N=0,R=d.length;N<R;++N){E=d[N],k=E.label;const Y=o.setContext(this.getContext(N));P=this.getPixelForTick(N)+o.labelOffset,U=this._resolveTickFontOptions(N),K=U.lineHeight,$=ls(k)?k.length:1;const H=$/2,J=Y.color,te=Y.textStrokeColor,ce=Y.textStrokeWidth;let L=A;c?(D=P,A==="inner"&&(N===R-1?L=this.options.reverse?"left":"right":N===0?L=this.options.reverse?"right":"left":L="center"),a==="top"?h==="near"||v!==0?G=-$*K+K/2:h==="center"?G=-ee.highest.height/2-H*K+K:G=-ee.highest.height+K/2:h==="near"||v!==0?G=K/2:h==="center"?G=ee.highest.height/2-H*K:G=ee.highest.height-$*K,g&&(G*=-1),v!==0&&!Y.showLabelBackdrop&&(D+=K/2*Math.sin(v))):(C=P,G=(1-$)*K/2);let le;if(Y.showLabelBackdrop){const re=Or(Y.backdropPadding),V=ee.heights[N],ne=ee.widths[N];let xe=G-re.top,me=0-re.left;switch(W){case"middle":xe-=V/2;break;case"bottom":xe-=V;break}switch(A){case"center":me-=ne/2;break;case"right":me-=ne;break;case"inner":N===R-1?me-=ne:N>0&&(me-=ne/2);break}le={left:me,top:xe,width:ne+re.width,height:V+re.height,color:Y.backdropColor}}S.push({label:k,font:U,textOffset:G,options:{rotation:v,color:J,strokeColor:te,strokeWidth:ce,textAlign:L,textBaseline:W,translation:[D,C],backdrop:le}})}return S}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Ro(this.labelRotation))return t==="top"?"left":"right";let a="center";return n.align==="start"?a="left":n.align==="end"?a="right":n.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:s,mirror:a,padding:o}}=this.options,c=this._getLabelSizes(),d=t+o,f=c.widest.width;let h,p;return n==="left"?a?(p=this.right+o,s==="near"?h="left":s==="center"?(h="center",p+=f/2):(h="right",p+=f)):(p=this.right-d,s==="near"?h="right":s==="center"?(h="center",p-=f/2):(h="left",p=this.left)):n==="right"?a?(p=this.left+o,s==="near"?h="right":s==="center"?(h="center",p-=f/2):(h="left",p-=f)):(p=this.left+d,s==="near"?h="left":s==="center"?(h="center",p+=f/2):(h="right",p=this.right)):h="right",{textAlign:h,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:s,top:a,width:o,height:c}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(s,a,o,c),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const a=this.ticks.findIndex(o=>o.value===t);return a>=0?n.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){const n=this.options.grid,s=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const d=(f,h,p)=>{!p.width||!p.color||(s.save(),s.lineWidth=p.width,s.strokeStyle=p.color,s.setLineDash(p.borderDash||[]),s.lineDashOffset=p.borderDashOffset,s.beginPath(),s.moveTo(f.x,f.y),s.lineTo(h.x,h.y),s.stroke(),s.restore())};if(n.display)for(o=0,c=a.length;o<c;++o){const f=a[o];n.drawOnChartArea&&d({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),n.drawTicks&&d({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:s,grid:a}}=this,o=s.setContext(this.getContext()),c=s.display?o.width:0;if(!c)return;const d=a.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let h,p,g,y;this.isHorizontal()?(h=_o(t,this.left,c)-c/2,p=_o(t,this.right,d)+d/2,g=y=f):(g=_o(t,this.top,c)-c/2,y=_o(t,this.bottom,d)+d/2,h=p=f),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(h,g),n.lineTo(p,y),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,a=this._computeLabelArea();a&&Ay(s,a);const o=this.getLabelItems(t);for(const c of o){const d=c.options,f=c.font,h=c.label,p=c.textOffset;td(s,h,0,p,f,d)}a&&Ry(s)}drawTitle(){const{ctx:t,options:{position:n,title:s,reverse:a}}=this;if(!s.display)return;const o=Ts(s.font),c=Or(s.padding),d=s.align;let f=o.lineHeight/2;n==="bottom"||n==="center"||Kt(n)?(f+=c.bottom,ls(s.text)&&(f+=o.lineHeight*(s.text.length-1))):f+=c.top;const{titleX:h,titleY:p,maxWidth:g,rotation:y}=EU(this,f,n,d);td(t,s.text,0,0,o,{color:s.color,maxWidth:g,rotation:y,textAlign:TU(d,n,a),textBaseline:"middle",translation:[h,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,s=sn(t.grid&&t.grid.z,-1),a=sn(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==gc.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:s,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",a=[];let o,c;for(o=0,c=n.length;o<c;++o){const d=n[o];d[s]===this.id&&(!t||d.type===t)&&a.push(d)}return a}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Ts(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class ah{constructor(t,n,s){this.type=t,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let s;DU(n)&&(s=this.register(n));const a=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in a||(a[o]=t,kU(t,c,s),this.override&&Fn.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const n=this.items,s=t.id,a=this.scope;s in n&&delete n[s],a&&s in Fn[a]&&(delete Fn[a][s],this.override&&delete Ho[s])}}function kU(e,t,n){const s=ed(Object.create(null),[n?Fn.get(n):{},Fn.get(t),e.defaults]);Fn.set(t,s),e.defaultRoutes&&CU(t,e.defaultRoutes),e.descriptors&&Fn.describe(t,e.descriptors)}function CU(e,t){Object.keys(t).forEach(n=>{const s=n.split("."),a=s.pop(),o=[e].concat(s).join("."),c=t[n].split("."),d=c.pop(),f=c.join(".");Fn.route(o,a,f,d)})}function DU(e){return"id"in e&&"defaults"in e}class OU{constructor(){this.controllers=new ah(Ch,"datasets",!0),this.elements=new ah(Xo,"elements"),this.plugins=new ah(Object,"plugins"),this.scales=new ah(gc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,s){[...n].forEach(a=>{const o=s||this._getRegistryForType(a);s||o.isForType(a)||o===this.plugins&&a.id?this._exec(t,o,a):nn(a,c=>{const d=s||this._getRegistryForType(c);this._exec(t,d,c)})})}_exec(t,n,s){const a=Cy(t);xn(s["before"+a],[],s),n[t](s),xn(s["after"+a],[],s)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(t))return s}return this.plugins}_get(t,n,s){const a=n.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return a}}var oa=new OU;class AU{constructor(){this._init=[]}notify(t,n,s,a){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=a?this._descriptors(t).filter(a):this._descriptors(t),c=this._notify(o,t,n,s);return n==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,n,s,a){a=a||{};for(const o of t){const c=o.plugin,d=c[s],f=[n,a,o.options];if(xn(d,f,c)===!1&&a.cancelable)return!1}return!0}invalidate(){kn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const s=t&&t.config,a=sn(s.options&&s.options.plugins,{}),o=RU(s);return a===!1&&!n?[]:PU(t,o,a,n)}_notifyStateChanges(t){const n=this._oldCache||[],s=this._cache,a=(o,c)=>o.filter(d=>!c.some(f=>d.plugin.id===f.plugin.id));this._notify(a(n,s),t,"stop"),this._notify(a(s,n),t,"start")}}function RU(e){const t={},n=[],s=Object.keys(oa.plugins.items);for(let o=0;o<s.length;o++)n.push(oa.getPlugin(s[o]));const a=e.plugins||[];for(let o=0;o<a.length;o++){const c=a[o];n.indexOf(c)===-1&&(n.push(c),t[c.id]=!0)}return{plugins:n,localIds:t}}function MU(e,t){return!t&&e===!1?null:e===!0?{}:e}function PU(e,{plugins:t,localIds:n},s,a){const o=[],c=e.getContext();for(const d of t){const f=d.id,h=MU(s[f],a);h!==null&&o.push({plugin:d,options:LU(e.config,{plugin:d,local:n[f]},h,c)})}return o}function LU(e,{plugin:t,local:n},s,a){const o=e.pluginScopeKeys(t),c=e.getOptionScopes(s,o);return n&&t.defaults&&c.push(t.defaults),e.createResolver(c,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function hx(e,t){const n=Fn.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function zU(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function UU(e,t){return e===t?"_index_":"_value_"}function Y_(e){if(e==="x"||e==="y"||e==="r")return e}function FU(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function mx(e,...t){if(Y_(e))return e;for(const n of t){const s=n.axis||FU(n.position)||e.length>1&&Y_(e[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function X_(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function BU(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(s=>s.xAxisID===e||s.yAxisID===e);if(n.length)return X_(e,"x",n[0])||X_(e,"y",n[0])}return{}}function $U(e,t){const n=Ho[e.type]||{scales:{}},s=t.scales||{},a=hx(e.type,t),o=Object.create(null);return Object.keys(s).forEach(c=>{const d=s[c];if(!Kt(d))return console.error(`Invalid scale configuration for scale: ${c}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=mx(c,d,BU(c,e),Fn.scales[d.type]),h=UU(f,a),p=n.scales||{};o[c]=Fu(Object.create(null),[{axis:f},d,p[f],p[h]])}),e.data.datasets.forEach(c=>{const d=c.type||e.type,f=c.indexAxis||hx(d,t),p=(Ho[d]||{}).scales||{};Object.keys(p).forEach(g=>{const y=zU(g,f),b=c[y+"AxisID"]||y;o[b]=o[b]||Object.create(null),Fu(o[b],[{axis:y},s[b],p[g]])})}),Object.keys(o).forEach(c=>{const d=o[c];Fu(d,[Fn.scales[d.type],Fn.scale])}),o}function JT(e){const t=e.options||(e.options={});t.plugins=sn(t.plugins,{}),t.scales=$U(e,t)}function eE(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function HU(e){return e=e||{},e.data=eE(e.data),JT(e),e}const G_=new Map,tE=new Set;function ih(e,t){let n=G_.get(e);return n||(n=t(),G_.set(e,n),tE.add(n)),n}const Tu=(e,t,n)=>{const s=Wh(t,n);s!==void 0&&e.add(s)};class VU{constructor(t){this._config=HU(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=eE(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),JT(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return ih(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return ih(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return ih(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,s=this.type;return ih(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const s=this._scopeCache;let a=s.get(t);return(!a||n)&&(a=new Map,s.set(t,a)),a}getOptionScopes(t,n,s){const{options:a,type:o}=this,c=this._cachedScopes(t,s),d=c.get(n);if(d)return d;const f=new Set;n.forEach(p=>{t&&(f.add(t),p.forEach(g=>Tu(f,t,g))),p.forEach(g=>Tu(f,a,g)),p.forEach(g=>Tu(f,Ho[o]||{},g)),p.forEach(g=>Tu(f,Fn,g)),p.forEach(g=>Tu(f,fx,g))});const h=Array.from(f);return h.length===0&&h.push(Object.create(null)),tE.has(n)&&c.set(n,h),h}chartOptionScopes(){const{options:t,type:n}=this;return[t,Ho[n]||{},Fn.datasets[n]||{},{type:n},Fn,fx]}resolveNamedOptions(t,n,s,a=[""]){const o={$shared:!0},{resolver:c,subPrefixes:d}=K_(this._resolverCache,t,a);let f=c;if(qU(c,n)){o.$shared=!1,s=Hi(s)?s():s;const h=this.createResolver(t,s,d);f=rc(c,s,h)}for(const h of n)o[h]=f[h];return o}createResolver(t,n,s=[""],a){const{resolver:o}=K_(this._resolverCache,t,s);return Kt(n)?rc(o,n,void 0,a):o}}function K_(e,t,n){let s=e.get(t);s||(s=new Map,e.set(t,s));const a=n.join();let o=s.get(a);return o||(o={resolver:Py(t,n),subPrefixes:n.filter(d=>!d.toLowerCase().includes("hover"))},s.set(a,o)),o}const IU=e=>Kt(e)&&Object.getOwnPropertyNames(e).some(t=>Hi(e[t]));function qU(e,t){const{isScriptable:n,isIndexable:s}=BT(e);for(const a of t){const o=n(a),c=s(a),d=(c||o)&&e[a];if(o&&(Hi(d)||IU(d))||c&&ls(d))return!0}return!1}var WU="4.5.0";const YU=["top","bottom","left","right","chartArea"];function Q_(e,t){return e==="top"||e==="bottom"||YU.indexOf(e)===-1&&t==="x"}function Z_(e,t){return function(n,s){return n[e]===s[e]?n[t]-s[t]:n[e]-s[e]}}function J_(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),xn(n&&n.onComplete,[e],t)}function XU(e){const t=e.chart,n=t.options.animation;xn(n&&n.onProgress,[e],t)}function nE(e){return Uy()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Oh={},eN=e=>{const t=nE(e);return Object.values(Oh).filter(n=>n.canvas===t).pop()};function GU(e,t,n){const s=Object.keys(e);for(const a of s){const o=+a;if(o>=t){const c=e[a];delete e[a],(n>0||o>t)&&(e[o+n]=c)}}}function KU(e,t,n,s){return!n||e.type==="mouseout"?null:s?t:e}class ki{static register(...t){oa.add(...t),tN()}static unregister(...t){oa.remove(...t),tN()}constructor(t,n){const s=this.config=new VU(n),a=nE(t),o=eN(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||mU(a)),this.platform.updateConfig(s);const d=this.platform.acquireContext(a,c.aspectRatio),f=d&&d.canvas,h=f&&f.height,p=f&&f.width;if(this.id=_8(),this.ctx=d,this.canvas=f,this.width=p,this.height=h,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new AU,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=H8(g=>this.update(g),c.resizeDelay||0),this._dataChanges=[],Oh[this.id]=this,!d||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Ha.listen(this,"complete",J_),Ha.listen(this,"progress",XU),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:s,height:a,_aspectRatio:o}=this;return kn(t)?n&&o?o:a?s/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return oa}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():C_(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return S_(this.canvas,this.ctx),this}stop(){return Ha.stop(this),this}resize(t,n){Ha.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const s=this.options,a=this.canvas,o=s.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(a,t,n,o),d=s.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,C_(this,d,!0)&&(this.notifyPlugins("resize",{size:c}),xn(s.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};nn(n,(s,a)=>{s.id=a})}buildOrUpdateScales(){const t=this.options,n=t.scales,s=this.scales,a=Object.keys(s).reduce((c,d)=>(c[d]=!1,c),{});let o=[];n&&(o=o.concat(Object.keys(n).map(c=>{const d=n[c],f=mx(c,d),h=f==="r",p=f==="x";return{options:d,dposition:h?"chartArea":p?"bottom":"left",dtype:h?"radialLinear":p?"category":"linear"}}))),nn(o,c=>{const d=c.options,f=d.id,h=mx(f,d),p=sn(d.type,c.dtype);(d.position===void 0||Q_(d.position,h)!==Q_(c.dposition))&&(d.position=c.dposition),a[f]=!0;let g=null;if(f in s&&s[f].type===p)g=s[f];else{const y=oa.getScale(p);g=new y({id:f,type:p,ctx:this.ctx,chart:this}),s[g.id]=g}g.init(d,t)}),nn(a,(c,d)=>{c||delete s[d]}),nn(s,c=>{Er.configure(this,c,c.options),Er.addBox(this,c)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,s=t.length;if(t.sort((a,o)=>a.index-o.index),s>n){for(let a=n;a<s;++a)this._destroyDatasetMeta(a);t.splice(n,s-n)}this._sortedMetasets=t.slice(0).sort(Z_("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((s,a)=>{n.filter(o=>o===s._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let s,a;for(this._removeUnreferencedMetasets(),s=0,a=n.length;s<a;s++){const o=n[s];let c=this.getDatasetMeta(s);const d=o.type||this.config.type;if(c.type&&c.type!==d&&(this._destroyDatasetMeta(s),c=this.getDatasetMeta(s)),c.type=d,c.indexAxis=o.indexAxis||hx(d,this.options),c.order=o.order||0,c.index=s,c.label=""+o.label,c.visible=this.isDatasetVisible(s),c.controller)c.controller.updateIndex(s),c.controller.linkScales();else{const f=oa.getController(d),{datasetElementType:h,dataElementType:p}=Fn.datasets[d];Object.assign(f,{dataElementType:oa.getElement(p),datasetElementType:h&&oa.getElement(h)}),c.controller=new f(this,s),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){nn(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let h=0,p=this.data.datasets.length;h<p;h++){const{controller:g}=this.getDatasetMeta(h),y=!a&&o.indexOf(g)===-1;g.buildOrUpdateElements(y),c=Math.max(+g.getMaxOverflow(),c)}c=this._minPadding=s.layout.autoPadding?c:0,this._updateLayout(c),a||nn(o,h=>{h.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Z_("z","_idx"));const{_active:d,_lastEvent:f}=this;f?this._eventHandler(f,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){nn(this.scales,t=>{Er.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!p_(n,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:a,count:o}of n){const c=s==="_removeElements"?-o:o;GU(t,a,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=o=>new Set(t.filter(c=>c[0]===o).map((c,d)=>d+","+c.splice(1).join(","))),a=s(0);for(let o=1;o<n;o++)if(!p_(a,s(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Er.update(this,this.width,this.height,t);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],nn(this.boxes,a=>{s&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Hi(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const s=this.getDatasetMeta(t),a={meta:s,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(s.controller._update(n),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ha.has(this)?this.attached&&!Ha.running(this)&&Ha.start(this):(this.draw(),J_({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,s=[];let a,o;for(a=0,o=n.length;a<o;++a){const c=n[a];(!t||c.visible)&&s.push(c)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,s={meta:t,index:t.index,cancelable:!0},a=Ez(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(a&&Ay(n,a),t.controller.draw(),a&&Ry(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return UT(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,s,a){const o=Yz.modes[n];return typeof o=="function"?o(this,t,s,a):[]}getDatasetMeta(t){const n=this.data.datasets[t],s=this._metasets;let a=s.filter(o=>o&&o._dataset===n).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},s.push(a)),a}getContext(){return this.$context||(this.$context=pc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(t,n){const s=this.getDatasetMeta(t);s.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,s){const a=s?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,a);Yh(n)?(o.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),c.update(o,{visible:s}),this.update(d=>d.datasetIndex===t?a:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Ha.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),S_(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Oh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,s=(o,c)=>{n.addEventListener(this,o,c),t[o]=c},a=(o,c,d)=>{o.offsetX=c,o.offsetY=d,this._eventHandler(o)};nn(this.options.events,o=>s(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,s=(f,h)=>{n.addEventListener(this,f,h),t[f]=h},a=(f,h)=>{t[f]&&(n.removeEventListener(this,f,h),delete t[f])},o=(f,h)=>{this.canvas&&this.resize(f,h)};let c;const d=()=>{a("attach",d),this.attached=!0,this.resize(),s("resize",o),s("detach",c)};c=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),s("attach",d)},n.isAttached(this.canvas)?d():c()}unbindEvents(){nn(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},nn(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,s){const a=s?"set":"remove";let o,c,d,f;for(n==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),d=0,f=t.length;d<f;++d){c=t[d];const h=c&&this.getDatasetMeta(c.datasetIndex).controller;h&&h[a+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],s=t.map(({datasetIndex:o,index:c})=>{const d=this.getDatasetMeta(o);if(!d)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:d.data[c],index:c}});!Ih(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(t,n,s){return this._plugins.notify(this,t,n,s)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,s){const a=this.options.hover,o=(f,h)=>f.filter(p=>!h.some(g=>p.datasetIndex===g.datasetIndex&&p.index===g.index)),c=o(n,t),d=s?t:o(t,n);c.length&&this.updateHoverStyle(c,a.mode,!1),d.length&&a.mode&&this.updateHoverStyle(d,a.mode,!0)}_eventHandler(t,n){const s={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},a=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,a)===!1)return;const o=this._handleEvent(t,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,a),(o||s.changed)&&this.render(),this}_handleEvent(t,n,s){const{_active:a=[],options:o}=this,c=n,d=this._getActiveElements(t,a,s,c),f=C8(t),h=KU(t,this._lastEvent,s,f);s&&(this._lastEvent=null,xn(o.onHover,[t,d,this],this),f&&xn(o.onClick,[t,d,this],this));const p=!Ih(d,a);return(p||n)&&(this._active=d,this._updateHoverStyles(d,a,n)),this._lastEvent=h,p}_getActiveElements(t,n,s,a){if(t.type==="mouseout")return[];if(!s)return n;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,a)}}_t(ki,"defaults",Fn),_t(ki,"instances",Oh),_t(ki,"overrides",Ho),_t(ki,"registry",oa),_t(ki,"version",WU),_t(ki,"getChart",eN);function tN(){return nn(ki.instances,e=>e._plugins.invalidate())}function QU(e,t,n){const{startAngle:s,x:a,y:o,outerRadius:c,innerRadius:d,options:f}=t,{borderWidth:h,borderJoinStyle:p}=f,g=Math.min(h/c,la(s-n));if(e.beginPath(),e.arc(a,o,c-h/2,s+g/2,n-g/2),d>0){const y=Math.min(h/d,la(s-n));e.arc(a,o,d+h/2,n-y/2,s+y/2,!0)}else{const y=Math.min(h/2,c*la(s-n));if(p==="round")e.arc(a,o,y,n-yn/2,s+yn/2,!0);else if(p==="bevel"){const b=2*y*y,j=-b*Math.cos(n+yn/2)+a,v=-b*Math.sin(n+yn/2)+o,S=b*Math.cos(s+yn/2)+a,N=b*Math.sin(s+yn/2)+o;e.lineTo(j,v),e.lineTo(S,N)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function ZU(e,t,n){const{startAngle:s,pixelMargin:a,x:o,y:c,outerRadius:d,innerRadius:f}=t;let h=a/d;e.beginPath(),e.arc(o,c,d,s-h,n+h),f>a?(h=a/f,e.arc(o,c,f,n+h,s-h,!0)):e.arc(o,c,a,n+ps,s-ps),e.closePath(),e.clip()}function JU(e){return My(e,["outerStart","outerEnd","innerStart","innerEnd"])}function eF(e,t,n,s){const a=JU(e.options.borderRadius),o=(n-t)/2,c=Math.min(o,s*t/2),d=f=>{const h=(n-Math.min(o,f))*s/2;return Ys(f,0,Math.min(o,h))};return{outerStart:d(a.outerStart),outerEnd:d(a.outerEnd),innerStart:Ys(a.innerStart,0,c),innerEnd:Ys(a.innerEnd,0,c)}}function Bl(e,t,n,s){return{x:n+e*Math.cos(t),y:s+e*Math.sin(t)}}function em(e,t,n,s,a,o){const{x:c,y:d,startAngle:f,pixelMargin:h,innerRadius:p}=t,g=Math.max(t.outerRadius+s+n-h,0),y=p>0?p+s+n+h:0;let b=0;const j=a-f;if(s){const Y=p>0?p-s:0,H=g>0?g-s:0,J=(Y+H)/2,te=J!==0?j*J/(J+s):j;b=(j-te)/2}const v=Math.max(.001,j*g-n/yn)/g,S=(j-v)/2,N=f+S+b,R=a-S-b,{outerStart:E,outerEnd:k,innerStart:D,innerEnd:C}=eF(t,y,g,R-N),A=g-E,P=g-k,U=N+E/A,K=R-k/P,$=y+D,G=y+C,W=N+D/$,ee=R-C/G;if(e.beginPath(),o){const Y=(U+K)/2;if(e.arc(c,d,g,U,Y),e.arc(c,d,g,Y,K),k>0){const ce=Bl(P,K,c,d);e.arc(ce.x,ce.y,k,K,R+ps)}const H=Bl(G,R,c,d);if(e.lineTo(H.x,H.y),C>0){const ce=Bl(G,ee,c,d);e.arc(ce.x,ce.y,C,R+ps,ee+Math.PI)}const J=(R-C/y+(N+D/y))/2;if(e.arc(c,d,y,R-C/y,J,!0),e.arc(c,d,y,J,N+D/y,!0),D>0){const ce=Bl($,W,c,d);e.arc(ce.x,ce.y,D,W+Math.PI,N-ps)}const te=Bl(A,N,c,d);if(e.lineTo(te.x,te.y),E>0){const ce=Bl(A,U,c,d);e.arc(ce.x,ce.y,E,N-ps,U)}}else{e.moveTo(c,d);const Y=Math.cos(U)*g+c,H=Math.sin(U)*g+d;e.lineTo(Y,H);const J=Math.cos(K)*g+c,te=Math.sin(K)*g+d;e.lineTo(J,te)}e.closePath()}function tF(e,t,n,s,a){const{fullCircles:o,startAngle:c,circumference:d}=t;let f=t.endAngle;if(o){em(e,t,n,s,f,a);for(let h=0;h<o;++h)e.fill();isNaN(d)||(f=c+(d%Os||Os))}return em(e,t,n,s,f,a),e.fill(),f}function nF(e,t,n,s,a){const{fullCircles:o,startAngle:c,circumference:d,options:f}=t,{borderWidth:h,borderJoinStyle:p,borderDash:g,borderDashOffset:y,borderRadius:b}=f,j=f.borderAlign==="inner";if(!h)return;e.setLineDash(g||[]),e.lineDashOffset=y,j?(e.lineWidth=h*2,e.lineJoin=p||"round"):(e.lineWidth=h,e.lineJoin=p||"bevel");let v=t.endAngle;if(o){em(e,t,n,s,v,a);for(let S=0;S<o;++S)e.stroke();isNaN(d)||(v=c+(d%Os||Os))}j&&ZU(e,t,v),f.selfJoin&&v-c>=yn&&b===0&&p!=="miter"&&QU(e,t,v),o||(em(e,t,n,s,v,a),e.stroke())}class zu extends Xo{constructor(n){super();_t(this,"circumference");_t(this,"endAngle");_t(this,"fullCircles");_t(this,"innerRadius");_t(this,"outerRadius");_t(this,"pixelMargin");_t(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,a){const o=this.getProps(["x","y"],a),{angle:c,distance:d}=CT(o,{x:n,y:s}),{startAngle:f,endAngle:h,innerRadius:p,outerRadius:g,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),b=(this.options.spacing+this.options.borderWidth)/2,j=sn(y,h-f),v=DT(c,f,h)&&f!==h,S=j>=Os||v,N=Mo(d,p+b,g+b);return S&&N}getCenterPoint(n){const{x:s,y:a,startAngle:o,endAngle:c,innerRadius:d,outerRadius:f}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:h,spacing:p}=this.options,g=(o+c)/2,y=(d+f+p+h)/2;return{x:s+Math.cos(g)*y,y:a+Math.sin(g)*y}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:a}=this,o=(s.offset||0)/4,c=(s.spacing||0)/2,d=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=a>Os?Math.floor(a/Os):0,a===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const f=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(f)*o,Math.sin(f)*o);const h=1-Math.sin(Math.min(yn,a||0)),p=o*h;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,tF(n,this,p,c,d),nF(n,this,p,c,d),n.restore()}}_t(zu,"id","arc"),_t(zu,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),_t(zu,"defaultRoutes",{backgroundColor:"backgroundColor"}),_t(zu,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function sE(e,t){const{x:n,y:s,base:a,width:o,height:c}=e.getProps(["x","y","base","width","height"],t);let d,f,h,p,g;return e.horizontal?(g=c/2,d=Math.min(n,a),f=Math.max(n,a),h=s-g,p=s+g):(g=o/2,d=n-g,f=n+g,h=Math.min(s,a),p=Math.max(s,a)),{left:d,top:h,right:f,bottom:p}}function Ai(e,t,n,s){return e?0:Ys(t,n,s)}function sF(e,t,n){const s=e.options.borderWidth,a=e.borderSkipped,o=FT(s);return{t:Ai(a.top,o.top,0,n),r:Ai(a.right,o.right,0,t),b:Ai(a.bottom,o.bottom,0,n),l:Ai(a.left,o.left,0,t)}}function rF(e,t,n){const{enableBorderRadius:s}=e.getProps(["enableBorderRadius"]),a=e.options.borderRadius,o=Zl(a),c=Math.min(t,n),d=e.borderSkipped,f=s||Kt(a);return{topLeft:Ai(!f||d.top||d.left,o.topLeft,0,c),topRight:Ai(!f||d.top||d.right,o.topRight,0,c),bottomLeft:Ai(!f||d.bottom||d.left,o.bottomLeft,0,c),bottomRight:Ai(!f||d.bottom||d.right,o.bottomRight,0,c)}}function aF(e){const t=sE(e),n=t.right-t.left,s=t.bottom-t.top,a=sF(e,n/2,s/2),o=rF(e,n/2,s/2);return{outer:{x:t.left,y:t.top,w:n,h:s,radius:o},inner:{x:t.left+a.l,y:t.top+a.t,w:n-a.l-a.r,h:s-a.t-a.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,o.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(a.b,a.r))}}}}function x0(e,t,n,s){const a=t===null,o=n===null,d=e&&!(a&&o)&&sE(e,s);return d&&(a||Mo(t,d.left,d.right))&&(o||Mo(n,d.top,d.bottom))}function iF(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function oF(e,t){e.rect(t.x,t.y,t.w,t.h)}function y0(e,t,n={}){const s=e.x!==n.x?-t:0,a=e.y!==n.y?-t:0,o=(e.x+e.w!==n.x+n.w?t:0)-s,c=(e.y+e.h!==n.y+n.h?t:0)-a;return{x:e.x+s,y:e.y+a,w:e.w+o,h:e.h+c,radius:e.radius}}class Ah extends Xo{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:s,backgroundColor:a}}=this,{inner:o,outer:c}=aF(this),d=iF(c.radius)?Qh:oF;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),d(t,y0(c,n,o)),t.clip(),d(t,y0(o,-n,c)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),d(t,y0(o,n)),t.fillStyle=a,t.fill(),t.restore()}inRange(t,n,s){return x0(this,t,n,s)}inXRange(t,n){return x0(this,t,null,n)}inYRange(t,n){return x0(this,null,t,n)}getCenterPoint(t){const{x:n,y:s,base:a,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(n+a)/2:n,y:o?s:(s+a)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}_t(Ah,"id","bar"),_t(Ah,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),_t(Ah,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const nN=(e,t)=>{let{boxHeight:n=t,boxWidth:s=t}=e;return e.usePointStyle&&(n=Math.min(n,t),s=e.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(t,n)}},lF=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class sN extends Xo{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,s){this.maxWidth=t,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=xn(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(s=>t.filter(s,this.chart.data))),t.sort&&(n=n.sort((s,a)=>t.sort(s,a,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,a=Ts(s.font),o=a.size,c=this._computeTitleHeight(),{boxWidth:d,itemHeight:f}=nN(s,o);let h,p;n.font=a.string,this.isHorizontal()?(h=this.maxWidth,p=this._fitRows(c,o,d,f)+10):(p=this.maxHeight,h=this._fitCols(c,a,d,f)+10),this.width=Math.min(h,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,n,s,a){const{ctx:o,maxWidth:c,options:{labels:{padding:d}}}=this,f=this.legendHitBoxes=[],h=this.lineWidths=[0],p=a+d;let g=t;o.textAlign="left",o.textBaseline="middle";let y=-1,b=-p;return this.legendItems.forEach((j,v)=>{const S=s+n/2+o.measureText(j.text).width;(v===0||h[h.length-1]+S+2*d>c)&&(g+=p,h[h.length-(v>0?0:1)]=0,b+=p,y++),f[v]={left:0,top:b,row:y,width:S,height:a},h[h.length-1]+=S+d}),g}_fitCols(t,n,s,a){const{ctx:o,maxHeight:c,options:{labels:{padding:d}}}=this,f=this.legendHitBoxes=[],h=this.columnSizes=[],p=c-t;let g=d,y=0,b=0,j=0,v=0;return this.legendItems.forEach((S,N)=>{const{itemWidth:R,itemHeight:E}=cF(s,n,o,S,a);N>0&&b+E+2*d>p&&(g+=y+d,h.push({width:y,height:b}),j+=y+d,v++,y=b=0),f[N]={left:j,top:b,col:v,width:R,height:E},y=Math.max(y,R),b+=E+d}),g+=y,h.push({width:y,height:b}),g}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:a},rtl:o}}=this,c=Jl(o,this.left,this.width);if(this.isHorizontal()){let d=0,f=Ns(s,this.left+a,this.right-this.lineWidths[d]);for(const h of n)d!==h.row&&(d=h.row,f=Ns(s,this.left+a,this.right-this.lineWidths[d])),h.top+=this.top+t+a,h.left=c.leftForLtr(c.x(f),h.width),f+=h.width+a}else{let d=0,f=Ns(s,this.top+t+a,this.bottom-this.columnSizes[d].height);for(const h of n)h.col!==d&&(d=h.col,f=Ns(s,this.top+t+a,this.bottom-this.columnSizes[d].height)),h.top=f,h.left+=this.left+a,h.left=c.leftForLtr(c.x(h.left),h.width),f+=h.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Ay(t,this),this._draw(),Ry(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:s,ctx:a}=this,{align:o,labels:c}=t,d=Fn.color,f=Jl(t.rtl,this.left,this.width),h=Ts(c.font),{padding:p}=c,g=h.size,y=g/2;let b;this.drawTitle(),a.textAlign=f.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=h.string;const{boxWidth:j,boxHeight:v,itemHeight:S}=nN(c,g),N=function(C,A,P){if(isNaN(j)||j<=0||isNaN(v)||v<0)return;a.save();const U=sn(P.lineWidth,1);if(a.fillStyle=sn(P.fillStyle,d),a.lineCap=sn(P.lineCap,"butt"),a.lineDashOffset=sn(P.lineDashOffset,0),a.lineJoin=sn(P.lineJoin,"miter"),a.lineWidth=U,a.strokeStyle=sn(P.strokeStyle,d),a.setLineDash(sn(P.lineDash,[])),c.usePointStyle){const K={radius:v*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:U},$=f.xPlus(C,j/2),G=A+y;zT(a,K,$,G,c.pointStyleWidth&&j)}else{const K=A+Math.max((g-v)/2,0),$=f.leftForLtr(C,j),G=Zl(P.borderRadius);a.beginPath(),Object.values(G).some(W=>W!==0)?Qh(a,{x:$,y:K,w:j,h:v,radius:G}):a.rect($,K,j,v),a.fill(),U!==0&&a.stroke()}a.restore()},R=function(C,A,P){td(a,P.text,C,A+S/2,h,{strikethrough:P.hidden,textAlign:f.textAlign(P.textAlign)})},E=this.isHorizontal(),k=this._computeTitleHeight();E?b={x:Ns(o,this.left+p,this.right-s[0]),y:this.top+p+k,line:0}:b={x:this.left+p,y:Ns(o,this.top+k+p,this.bottom-n[0].height),line:0},IT(this.ctx,t.textDirection);const D=S+p;this.legendItems.forEach((C,A)=>{a.strokeStyle=C.fontColor,a.fillStyle=C.fontColor;const P=a.measureText(C.text).width,U=f.textAlign(C.textAlign||(C.textAlign=c.textAlign)),K=j+y+P;let $=b.x,G=b.y;f.setWidth(this.width),E?A>0&&$+K+p>this.right&&(G=b.y+=D,b.line++,$=b.x=Ns(o,this.left+p,this.right-s[b.line])):A>0&&G+D>this.bottom&&($=b.x=$+n[b.line].width+p,b.line++,G=b.y=Ns(o,this.top+k+p,this.bottom-n[b.line].height));const W=f.x($);if(N(W,G,C),$=V8(U,$+j+y,E?$+K:this.right,t.rtl),R(f.x($),G,C),E)b.x+=K+p;else if(typeof C.text!="string"){const ee=h.lineHeight;b.y+=rE(C,ee)+p}else b.y+=D}),qT(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,s=Ts(n.font),a=Or(n.padding);if(!n.display)return;const o=Jl(t.rtl,this.left,this.width),c=this.ctx,d=n.position,f=s.size/2,h=a.top+f;let p,g=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),p=this.top+h,g=Ns(t.align,g,this.right-y);else{const j=this.columnSizes.reduce((v,S)=>Math.max(v,S.height),0);p=h+Ns(t.align,this.top,this.bottom-j-t.labels.padding-this._computeTitleHeight())}const b=Ns(d,g,g+y);c.textAlign=o.textAlign(Oy(d)),c.textBaseline="middle",c.strokeStyle=n.color,c.fillStyle=n.color,c.font=s.string,td(c,n.text,b,p,s)}_computeTitleHeight(){const t=this.options.title,n=Ts(t.font),s=Or(t.padding);return t.display?n.lineHeight+s.height:0}_getLegendItemAt(t,n){let s,a,o;if(Mo(t,this.left,this.right)&&Mo(n,this.top,this.bottom)){for(o=this.legendHitBoxes,s=0;s<o.length;++s)if(a=o[s],Mo(t,a.left,a.left+a.width)&&Mo(n,a.top,a.top+a.height))return this.legendItems[s]}return null}handleEvent(t){const n=this.options;if(!fF(t.type,n))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const a=this._hoveredItem,o=lF(a,s);a&&!o&&xn(n.onLeave,[t,a,this],this),this._hoveredItem=s,s&&!o&&xn(n.onHover,[t,s,this],this)}else s&&xn(n.onClick,[t,s,this],this)}}function cF(e,t,n,s,a){const o=uF(s,e,t,n),c=dF(a,s,t.lineHeight);return{itemWidth:o,itemHeight:c}}function uF(e,t,n,s){let a=e.text;return a&&typeof a!="string"&&(a=a.reduce((o,c)=>o.length>c.length?o:c)),t+n.size/2+s.measureText(a).width}function dF(e,t,n){let s=e;return typeof t.text!="string"&&(s=rE(t,n)),s}function rE(e,t){const n=e.text?e.text.length:0;return t*n}function fF(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var hF={id:"legend",_element:sN,start(e,t,n){const s=e.legend=new sN({ctx:e.ctx,options:n,chart:e});Er.configure(e,s,n),Er.addBox(e,s)},stop(e){Er.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const s=e.legend;Er.configure(e,s,n),s.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const s=t.datasetIndex,a=n.chart;a.isDatasetVisible(s)?(a.hide(s),t.hidden=!0):(a.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:a,color:o,useBorderRadius:c,borderRadius:d}}=e.legend.options;return e._getSortedDatasetMetas().map(f=>{const h=f.controller.getStyle(n?0:void 0),p=Or(h.borderWidth);return{text:t[f.index].label,fillStyle:h.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:h.borderColor,pointStyle:s||h.pointStyle,rotation:h.rotation,textAlign:a||h.textAlign,borderRadius:c&&(d||h.borderRadius),datasetIndex:f.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};let aE=class extends Xo{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const a=ls(s.text)?s.text.length:1;this._padding=Or(s.padding);const o=a*Ts(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:s,bottom:a,right:o,options:c}=this,d=c.align;let f=0,h,p,g;return this.isHorizontal()?(p=Ns(d,s,o),g=n+t,h=o-s):(c.position==="left"?(p=s+t,g=Ns(d,a,n),f=yn*-.5):(p=o-t,g=Ns(d,n,a),f=yn*.5),h=a-n),{titleX:p,titleY:g,maxWidth:h,rotation:f}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const s=Ts(n.font),o=s.lineHeight/2+this._padding.top,{titleX:c,titleY:d,maxWidth:f,rotation:h}=this._drawArgs(o);td(t,n.text,0,0,s,{color:n.color,maxWidth:f,rotation:h,textAlign:Oy(n.align),textBaseline:"middle",translation:[c,d]})}};function mF(e,t){const n=new aE({ctx:e.ctx,options:t,chart:e});Er.configure(e,n,t),Er.addBox(e,n),e.titleBlock=n}var pF={id:"title",_element:aE,start(e,t,n){mF(e,n)},stop(e){const t=e.titleBlock;Er.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const s=e.titleBlock;Er.configure(e,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Uu={average(e){if(!e.length)return!1;let t,n,s=new Set,a=0,o=0;for(t=0,n=e.length;t<n;++t){const d=e[t].element;if(d&&d.hasValue()){const f=d.tooltipPosition();s.add(f.x),a+=f.y,++o}}return o===0||s.size===0?!1:{x:[...s].reduce((d,f)=>d+f)/s.size,y:a/o}},nearest(e,t){if(!e.length)return!1;let n=t.x,s=t.y,a=Number.POSITIVE_INFINITY,o,c,d;for(o=0,c=e.length;o<c;++o){const f=e[o].element;if(f&&f.hasValue()){const h=f.getCenterPoint(),p=L8(t,h);p<a&&(a=p,d=f)}}if(d){const f=d.tooltipPosition();n=f.x,s=f.y}return{x:n,y:s}}};function ia(e,t){return t&&(ls(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Va(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function gF(e,t){const{element:n,datasetIndex:s,index:a}=t,o=e.getDatasetMeta(s).controller,{label:c,value:d}=o.getLabelAndValue(a);return{chart:e,label:c,parsed:o.getParsed(a),raw:e.data.datasets[s].data[a],formattedValue:d,dataset:o.getDataset(),dataIndex:a,datasetIndex:s,element:n}}function rN(e,t){const n=e.chart.ctx,{body:s,footer:a,title:o}=e,{boxWidth:c,boxHeight:d}=t,f=Ts(t.bodyFont),h=Ts(t.titleFont),p=Ts(t.footerFont),g=o.length,y=a.length,b=s.length,j=Or(t.padding);let v=j.height,S=0,N=s.reduce((k,D)=>k+D.before.length+D.lines.length+D.after.length,0);if(N+=e.beforeBody.length+e.afterBody.length,g&&(v+=g*h.lineHeight+(g-1)*t.titleSpacing+t.titleMarginBottom),N){const k=t.displayColors?Math.max(d,f.lineHeight):f.lineHeight;v+=b*k+(N-b)*f.lineHeight+(N-1)*t.bodySpacing}y&&(v+=t.footerMarginTop+y*p.lineHeight+(y-1)*t.footerSpacing);let R=0;const E=function(k){S=Math.max(S,n.measureText(k).width+R)};return n.save(),n.font=h.string,nn(e.title,E),n.font=f.string,nn(e.beforeBody.concat(e.afterBody),E),R=t.displayColors?c+2+t.boxPadding:0,nn(s,k=>{nn(k.before,E),nn(k.lines,E),nn(k.after,E)}),R=0,n.font=p.string,nn(e.footer,E),n.restore(),S+=j.width,{width:S,height:v}}function xF(e,t){const{y:n,height:s}=t;return n<s/2?"top":n>e.height-s/2?"bottom":"center"}function yF(e,t,n,s){const{x:a,width:o}=s,c=n.caretSize+n.caretPadding;if(e==="left"&&a+o+c>t.width||e==="right"&&a-o-c<0)return!0}function bF(e,t,n,s){const{x:a,width:o}=n,{width:c,chartArea:{left:d,right:f}}=e;let h="center";return s==="center"?h=a<=(d+f)/2?"left":"right":a<=o/2?h="left":a>=c-o/2&&(h="right"),yF(h,e,t,n)&&(h="center"),h}function aN(e,t,n){const s=n.yAlign||t.yAlign||xF(e,n);return{xAlign:n.xAlign||t.xAlign||bF(e,t,n,s),yAlign:s}}function vF(e,t){let{x:n,width:s}=e;return t==="right"?n-=s:t==="center"&&(n-=s/2),n}function wF(e,t,n){let{y:s,height:a}=e;return t==="top"?s+=n:t==="bottom"?s-=a+n:s-=a/2,s}function iN(e,t,n,s){const{caretSize:a,caretPadding:o,cornerRadius:c}=e,{xAlign:d,yAlign:f}=n,h=a+o,{topLeft:p,topRight:g,bottomLeft:y,bottomRight:b}=Zl(c);let j=vF(t,d);const v=wF(t,f,h);return f==="center"?d==="left"?j+=h:d==="right"&&(j-=h):d==="left"?j-=Math.max(p,y)+a:d==="right"&&(j+=Math.max(g,b)+a),{x:Ys(j,0,s.width-t.width),y:Ys(v,0,s.height-t.height)}}function oh(e,t,n){const s=Or(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-s.right:e.x+s.left}function oN(e){return ia([],Va(e))}function jF(e,t,n){return pc(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function lN(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const iE={beforeTitle:Ba,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return n[t.dataIndex]}return""},afterTitle:Ba,beforeBody:Ba,beforeLabel:Ba,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return kn(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ba,afterBody:Ba,beforeFooter:Ba,footer:Ba,afterFooter:Ba};function Bs(e,t,n,s){const a=e[t].call(n,s);return typeof a=="undefined"?iE[t].call(n,s):a}class px extends Xo{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,s=this.options.setContext(this.getContext()),a=s.enabled&&n.options.animation&&s.animations,o=new WT(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=jF(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:s}=n,a=Bs(s,"beforeTitle",this,t),o=Bs(s,"title",this,t),c=Bs(s,"afterTitle",this,t);let d=[];return d=ia(d,Va(a)),d=ia(d,Va(o)),d=ia(d,Va(c)),d}getBeforeBody(t,n){return oN(Bs(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:s}=n,a=[];return nn(t,o=>{const c={before:[],lines:[],after:[]},d=lN(s,o);ia(c.before,Va(Bs(d,"beforeLabel",this,o))),ia(c.lines,Bs(d,"label",this,o)),ia(c.after,Va(Bs(d,"afterLabel",this,o))),a.push(c)}),a}getAfterBody(t,n){return oN(Bs(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:s}=n,a=Bs(s,"beforeFooter",this,t),o=Bs(s,"footer",this,t),c=Bs(s,"afterFooter",this,t);let d=[];return d=ia(d,Va(a)),d=ia(d,Va(o)),d=ia(d,Va(c)),d}_createItems(t){const n=this._active,s=this.chart.data,a=[],o=[],c=[];let d=[],f,h;for(f=0,h=n.length;f<h;++f)d.push(gF(this.chart,n[f]));return t.filter&&(d=d.filter((p,g,y)=>t.filter(p,g,y,s))),t.itemSort&&(d=d.sort((p,g)=>t.itemSort(p,g,s))),nn(d,p=>{const g=lN(t.callbacks,p);a.push(Bs(g,"labelColor",this,p)),o.push(Bs(g,"labelPointStyle",this,p)),c.push(Bs(g,"labelTextColor",this,p))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=d,d}update(t,n){const s=this.options.setContext(this.getContext()),a=this._active;let o,c=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{const d=Uu[s.position].call(this,a,this._eventPosition);c=this._createItems(s),this.title=this.getTitle(c,s),this.beforeBody=this.getBeforeBody(c,s),this.body=this.getBody(c,s),this.afterBody=this.getAfterBody(c,s),this.footer=this.getFooter(c,s);const f=this._size=rN(this,s),h=Object.assign({},d,f),p=aN(this.chart,s,h),g=iN(s,h,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:g.x,y:g.y,width:f.width,height:f.height,caretX:d.x,caretY:d.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,s,a){const o=this.getCaretPosition(t,s,a);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(t,n,s){const{xAlign:a,yAlign:o}=this,{caretSize:c,cornerRadius:d}=s,{topLeft:f,topRight:h,bottomLeft:p,bottomRight:g}=Zl(d),{x:y,y:b}=t,{width:j,height:v}=n;let S,N,R,E,k,D;return o==="center"?(k=b+v/2,a==="left"?(S=y,N=S-c,E=k+c,D=k-c):(S=y+j,N=S+c,E=k-c,D=k+c),R=S):(a==="left"?N=y+Math.max(f,p)+c:a==="right"?N=y+j-Math.max(h,g)-c:N=this.caretX,o==="top"?(E=b,k=E-c,S=N-c,R=N+c):(E=b+v,k=E+c,S=N+c,R=N-c),D=E),{x1:S,x2:N,x3:R,y1:E,y2:k,y3:D}}drawTitle(t,n,s){const a=this.title,o=a.length;let c,d,f;if(o){const h=Jl(s.rtl,this.x,this.width);for(t.x=oh(this,s.titleAlign,s),n.textAlign=h.textAlign(s.titleAlign),n.textBaseline="middle",c=Ts(s.titleFont),d=s.titleSpacing,n.fillStyle=s.titleColor,n.font=c.string,f=0;f<o;++f)n.fillText(a[f],h.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+d,f+1===o&&(t.y+=s.titleMarginBottom-d)}}_drawColorBox(t,n,s,a,o){const c=this.labelColors[s],d=this.labelPointStyles[s],{boxHeight:f,boxWidth:h}=o,p=Ts(o.bodyFont),g=oh(this,"left",o),y=a.x(g),b=f<p.lineHeight?(p.lineHeight-f)/2:0,j=n.y+b;if(o.usePointStyle){const v={radius:Math.min(h,f)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},S=a.leftForLtr(y,h)+h/2,N=j+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,T_(t,v,S,N),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,T_(t,v,S,N)}else{t.lineWidth=Kt(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const v=a.leftForLtr(y,h),S=a.leftForLtr(a.xPlus(y,1),h-2),N=Zl(c.borderRadius);Object.values(N).some(R=>R!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Qh(t,{x:v,y:j,w:h,h:f,radius:N}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),Qh(t,{x:S,y:j+1,w:h-2,h:f-2,radius:N}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(v,j,h,f),t.strokeRect(v,j,h,f),t.fillStyle=c.backgroundColor,t.fillRect(S,j+1,h-2,f-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,n,s){const{body:a}=this,{bodySpacing:o,bodyAlign:c,displayColors:d,boxHeight:f,boxWidth:h,boxPadding:p}=s,g=Ts(s.bodyFont);let y=g.lineHeight,b=0;const j=Jl(s.rtl,this.x,this.width),v=function(P){n.fillText(P,j.x(t.x+b),t.y+y/2),t.y+=y+o},S=j.textAlign(c);let N,R,E,k,D,C,A;for(n.textAlign=c,n.textBaseline="middle",n.font=g.string,t.x=oh(this,S,s),n.fillStyle=s.bodyColor,nn(this.beforeBody,v),b=d&&S!=="right"?c==="center"?h/2+p:h+2+p:0,k=0,C=a.length;k<C;++k){for(N=a[k],R=this.labelTextColors[k],n.fillStyle=R,nn(N.before,v),E=N.lines,d&&E.length&&(this._drawColorBox(n,t,k,j,s),y=Math.max(g.lineHeight,f)),D=0,A=E.length;D<A;++D)v(E[D]),y=g.lineHeight;nn(N.after,v)}b=0,y=g.lineHeight,nn(this.afterBody,v),t.y-=o}drawFooter(t,n,s){const a=this.footer,o=a.length;let c,d;if(o){const f=Jl(s.rtl,this.x,this.width);for(t.x=oh(this,s.footerAlign,s),t.y+=s.footerMarginTop,n.textAlign=f.textAlign(s.footerAlign),n.textBaseline="middle",c=Ts(s.footerFont),n.fillStyle=s.footerColor,n.font=c.string,d=0;d<o;++d)n.fillText(a[d],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+s.footerSpacing}}drawBackground(t,n,s,a){const{xAlign:o,yAlign:c}=this,{x:d,y:f}=t,{width:h,height:p}=s,{topLeft:g,topRight:y,bottomLeft:b,bottomRight:j}=Zl(a.cornerRadius);n.fillStyle=a.backgroundColor,n.strokeStyle=a.borderColor,n.lineWidth=a.borderWidth,n.beginPath(),n.moveTo(d+g,f),c==="top"&&this.drawCaret(t,n,s,a),n.lineTo(d+h-y,f),n.quadraticCurveTo(d+h,f,d+h,f+y),c==="center"&&o==="right"&&this.drawCaret(t,n,s,a),n.lineTo(d+h,f+p-j),n.quadraticCurveTo(d+h,f+p,d+h-j,f+p),c==="bottom"&&this.drawCaret(t,n,s,a),n.lineTo(d+b,f+p),n.quadraticCurveTo(d,f+p,d,f+p-b),c==="center"&&o==="left"&&this.drawCaret(t,n,s,a),n.lineTo(d,f+g),n.quadraticCurveTo(d,f,d+g,f),n.closePath(),n.fill(),a.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,s=this.$animations,a=s&&s.x,o=s&&s.y;if(a||o){const c=Uu[t.position].call(this,this._active,this._eventPosition);if(!c)return;const d=this._size=rN(this,t),f=Object.assign({},c,this._size),h=aN(n,t,f),p=iN(t,f,h,n);(a._to!==p.x||o._to!==p.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=d.width,this.height=d.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const a={width:this.width,height:this.height},o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const c=Or(n.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&d&&(t.save(),t.globalAlpha=s,this.drawBackground(o,t,a,n),IT(t,n.textDirection),o.y+=c.top,this.drawTitle(o,t,n),this.drawBody(o,t,n),this.drawFooter(o,t,n),qT(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const s=this._active,a=t.map(({datasetIndex:d,index:f})=>{const h=this.chart.getDatasetMeta(d);if(!h)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:h.data[f],index:f}}),o=!Ih(s,a),c=this._positionChanged(a,n);(o||c)&&(this._active=a,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,o=this._active||[],c=this._getActiveElements(t,o,n,s),d=this._positionChanged(c,t),f=n||!Ih(c,o)||d;return f&&(this._active=c,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),f}_getActiveElements(t,n,s,a){const o=this.options;if(t.type==="mouseout")return[];if(!a)return n.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,s);return o.reverse&&c.reverse(),c}_positionChanged(t,n){const{caretX:s,caretY:a,options:o}=this,c=Uu[o.position].call(this,t,n);return c!==!1&&(s!==c.x||a!==c.y)}}_t(px,"positioners",Uu);var _F={id:"tooltip",_element:px,positioners:Uu,afterInit(e,t,n){n&&(e.tooltip=new px({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",oe(z({},n),{cancelable:!0}))===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:iE},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const NF=(e,t,n,s)=>(typeof t=="string"?(n=e.push(t)-1,s.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function SF(e,t,n,s){const a=e.indexOf(t);if(a===-1)return NF(e,t,n,s);const o=e.lastIndexOf(t);return a!==o?n:a}const TF=(e,t)=>e===null?null:Ys(Math.round(e),0,t);function cN(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class gx extends gc{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:a,label:o}of n)s[a]===o&&s.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(kn(t))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===t?n:SF(s,t,sn(n,t),this._addedLabels),TF(n,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:s,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),n||(a=this.getLabels().length-1)),this.min=s,this.max=a}buildTicks(){const t=this.min,n=this.max,s=this.options.offset,a=[];let o=this.getLabels();o=t===0&&n===o.length-1?o:o.slice(t,n+1),this._valueRange=Math.max(o.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let c=t;c<=n;c++)a.push({value:c});return a}getLabelForValue(t){return cN.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}_t(gx,"id","category"),_t(gx,"defaults",{ticks:{callback:cN}});function EF(e,t){const n=[],{bounds:a,step:o,min:c,max:d,precision:f,count:h,maxTicks:p,maxDigits:g,includeBounds:y}=e,b=o||1,j=p-1,{min:v,max:S}=t,N=!kn(c),R=!kn(d),E=!kn(h),k=(S-v)/(g+1);let D=x_((S-v)/j/b)*b,C,A,P,U;if(D<1e-14&&!N&&!R)return[{value:v},{value:S}];U=Math.ceil(S/D)-Math.floor(v/D),U>j&&(D=x_(U*D/j/b)*b),kn(f)||(C=Math.pow(10,f),D=Math.ceil(D*C)/C),a==="ticks"?(A=Math.floor(v/D)*D,P=Math.ceil(S/D)*D):(A=v,P=S),N&&R&&o&&R8((d-c)/o,D/1e3)?(U=Math.round(Math.min((d-c)/D,p)),D=(d-c)/U,A=c,P=d):E?(A=N?c:A,P=R?d:P,U=h-1,D=(P-A)/U):(U=(P-A)/D,kh(U,Math.round(U),D/1e3)?U=Math.round(U):U=Math.ceil(U));const K=Math.max(y_(D),y_(A));C=Math.pow(10,kn(f)?K:f),A=Math.round(A*C)/C,P=Math.round(P*C)/C;let $=0;for(N&&(y&&A!==c?(n.push({value:c}),A<c&&$++,kh(Math.round((A+$*D)*C)/C,c,uN(c,k,e))&&$++):A<c&&$++);$<U;++$){const G=Math.round((A+$*D)*C)/C;if(R&&G>d)break;n.push({value:G})}return R&&y&&P!==d?n.length&&kh(n[n.length-1].value,d,uN(d,k,e))?n[n.length-1].value=d:n.push({value:d}):(!R||P===d)&&n.push({value:P}),n}function uN(e,t,{horizontal:n,minRotation:s}){const a=Ro(s),o=(n?Math.sin(a):Math.cos(a))||.001,c=.75*t*(""+e).length;return Math.min(t/o,c)}class kF extends gc{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return kn(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:a,max:o}=this;const c=f=>a=n?a:f,d=f=>o=s?o:f;if(t){const f=Gh(a),h=Gh(o);f<0&&h<0?d(0):f>0&&h>0&&c(0)}if(a===o){let f=o===0?1:Math.abs(o*.05);d(o+f),t||c(a-f)}this.min=a,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=t,a;return s?(a=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),n=n||11),n&&(a=Math.min(n,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const a={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,c=EF(a,o);return t.bounds==="ticks"&&M8(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const a=(s-n)/Math.max(t.length-1,1)/2;n-=a,s+=a}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(t){return PT(t,this.chart.options.locale,this.options.ticks.format)}}class xx extends kF{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Dr(t)?t:0,this.max=Dr(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,s=Ro(this.options.ticks.minRotation),a=(t?Math.sin(s):Math.cos(s))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/a))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}_t(xx,"id","linear"),_t(xx,"defaults",{ticks:{callback:LT.formatters.numeric}});const Nm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Is=Object.keys(Nm);function dN(e,t){return e-t}function fN(e,t){if(kn(t))return null;const n=e._adapter,{parser:s,round:a,isoWeekday:o}=e._parseOpts;let c=t;return typeof s=="function"&&(c=s(c)),Dr(c)||(c=typeof s=="string"?n.parse(c,s):n.parse(c)),c===null?null:(a&&(c=a==="week"&&(Kh(o)||o===!0)?n.startOf(c,"isoWeek",o):n.startOf(c,a)),+c)}function hN(e,t,n,s){const a=Is.length;for(let o=Is.indexOf(e);o<a-1;++o){const c=Nm[Is[o]],d=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((n-t)/(d*c.size))<=s)return Is[o]}return Is[a-1]}function CF(e,t,n,s,a){for(let o=Is.length-1;o>=Is.indexOf(n);o--){const c=Is[o];if(Nm[c].common&&e._adapter.diff(a,s,c)>=t-1)return c}return Is[n?Is.indexOf(n):0]}function DF(e){for(let t=Is.indexOf(e)+1,n=Is.length;t<n;++t)if(Nm[Is[t]].common)return Is[t]}function mN(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:s,hi:a}=Dy(n,t),o=n[s]>=t?n[s]:n[a];e[o]=!0}}function OF(e,t,n,s){const a=e._adapter,o=+a.startOf(t[0].value,s),c=t[t.length-1].value;let d,f;for(d=o;d<=c;d=+a.add(d,1,s))f=n[d],f>=0&&(t[f].major=!0);return t}function pN(e,t,n){const s=[],a={},o=t.length;let c,d;for(c=0;c<o;++c)d=t[c],a[d]=c,s.push({value:d,major:!1});return o===0||!n?s:OF(e,s,a,n)}class tm extends gc{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const s=t.time||(t.time={}),a=this._adapter=new Hz._date(t.adapters.date);a.init(n),Fu(s.displayFormats,a.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:fN(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,s=t.time.unit||"day";let{min:a,max:o,minDefined:c,maxDefined:d}=this.getUserBounds();function f(h){!c&&!isNaN(h.min)&&(a=Math.min(a,h.min)),!d&&!isNaN(h.max)&&(o=Math.max(o,h.max))}(!c||!d)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),a=Dr(a)&&!isNaN(a)?a:+n.startOf(Date.now(),s),o=Dr(o)&&!isNaN(o)?o:+n.endOf(Date.now(),s)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],s=t[t.length-1]),{min:n,max:s}}buildTicks(){const t=this.options,n=t.time,s=t.ticks,a=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const o=this.min,c=this.max,d=F8(a,o,c);return this._unit=n.unit||(s.autoSkip?hN(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):CF(this,d.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:DF(this._unit),this.initOffsets(a),t.reverse&&d.reverse(),pN(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,s=0,a,o;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?n=1-a:n=(this.getDecimalForValue(t[1])-a)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?s=o:s=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;n=Ys(n,0,c),s=Ys(s,0,c),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const t=this._adapter,n=this.min,s=this.max,a=this.options,o=a.time,c=o.unit||hN(o.minUnit,n,s,this._getLabelCapacity(n)),d=sn(a.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,h=Kh(f)||f===!0,p={};let g=n,y,b;if(h&&(g=+t.startOf(g,"isoWeek",f)),g=+t.startOf(g,h?"day":c),t.diff(s,n,c)>1e5*d)throw new Error(n+" and "+s+" are too far apart with stepSize of "+d+" "+c);const j=a.ticks.source==="data"&&this.getDataTimestamps();for(y=g,b=0;y<s;y=+t.add(y,d,c),b++)mN(p,y,j);return(y===s||a.bounds==="ticks"||b===1)&&mN(p,y,j),Object.keys(p).sort(dN).map(v=>+v)}getLabelForValue(t){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(t,s.tooltipFormat):n.format(t,s.displayFormats.datetime)}format(t,n){const a=this.options.time.displayFormats,o=this._unit,c=n||a[o];return this._adapter.format(t,c)}_tickFormatFunction(t,n,s,a){const o=this.options,c=o.ticks.callback;if(c)return xn(c,[t,n,s],this);const d=o.time.displayFormats,f=this._unit,h=this._majorUnit,p=f&&d[f],g=h&&d[h],y=s[n],b=h&&g&&y&&y.major;return this._adapter.format(t,a||(b?g:p))}generateTickLabels(t){let n,s,a;for(n=0,s=t.length;n<s;++n)a=t[n],a.label=this._tickFormatFunction(a.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,s=this.ctx.measureText(t).width,a=Ro(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(a),c=Math.sin(a),d=this._resolveTickFontOptions(0).size;return{w:s*o+d*c,h:s*c+d*o}}_getLabelCapacity(t){const n=this.options.time,s=n.displayFormats,a=s[n.unit]||s.millisecond,o=this._tickFormatFunction(t,0,pN(this,[t],this._majorUnit),a),c=this._getLabelSize(o),d=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return d>0?d:1}getDataTimestamps(){let t=this._cache.data||[],n,s;if(t.length)return t;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(n=0,s=a.length;n<s;++n)t=t.concat(a[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,s;if(t.length)return t;const a=this.getLabels();for(n=0,s=a.length;n<s;++n)t.push(fN(this,a[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return $8(t.sort(dN))}}_t(tm,"id","time"),_t(tm,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function lh(e,t,n){let s=0,a=e.length-1,o,c,d,f;n?(t>=e[s].pos&&t<=e[a].pos&&({lo:s,hi:a}=dx(e,"pos",t)),{pos:o,time:d}=e[s],{pos:c,time:f}=e[a]):(t>=e[s].time&&t<=e[a].time&&({lo:s,hi:a}=dx(e,"time",t)),{time:o,pos:d}=e[s],{time:c,pos:f}=e[a]);const h=c-o;return h?d+(f-d)*(t-o)/h:d}class gN extends tm{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=lh(n,this.min),this._tableRange=lh(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:s}=this,a=[],o=[];let c,d,f,h,p;for(c=0,d=t.length;c<d;++c)h=t[c],h>=n&&h<=s&&a.push(h);if(a.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(c=0,d=a.length;c<d;++c)p=a[c+1],f=a[c-1],h=a[c],Math.round((p+f)/2)!==h&&o.push({time:h,pos:c/(d-1)});return o}_generate(){const t=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((a,o)=>a-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?t=this.normalize(n.concat(s)):t=n.length?n:s,t=this._cache.all=t,t}getDecimalForValue(t){return(lh(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return lh(this._table,s*this._tableRange+this._minPos,!0)}}_t(gN,"id","timeseries"),_t(gN,"defaults",tm.defaults);ki.register(gx,xx,Ah,zu,pF,_F,hF);const AF=({className:e=""})=>i.jsx("div",{className:`inline-block animate-spin rounded-full border-4 border-gray-200 border-t-blue-600 h-6 w-6 ${e}`}),RF=()=>{const{allProjects:e,filteredData:t,selectedProject:n,selectedTeam:s,setSelectedProject:a,setSelectedTeam:o,isLoading:c}=OL();return c?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx(AF,{className:"h-12 w-12 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Đang tải dữ liệu..."})]})}):i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsx("h1",{className:"text-4xl font-bold text-gray-800 text-center flex-1",children:"Bảng điều khiển quản lý dự án"}),i.jsx(KL,{projects:e,selectedProject:n,selectedTeam:s,onProjectChange:a,onTeamChange:o})]}),i.jsx(ZL,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:n}),i.jsx(e8,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:n}),i.jsx(JL,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:n})]})})},ko=e=>e==null?"N/A":new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0}).format(e);var xd=e=>e.type==="checkbox",Po=e=>e instanceof Date,Ds=e=>e==null;const oE=e=>typeof e=="object";var Bn=e=>!Ds(e)&&!Array.isArray(e)&&oE(e)&&!Po(e),lE=e=>Bn(e)&&e.target?xd(e.target)?e.target.checked:e.target.value:e,MF=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,cE=(e,t)=>e.has(MF(t)),PF=e=>{const t=e.constructor&&e.constructor.prototype;return Bn(t)&&t.hasOwnProperty("isPrototypeOf")},$y=typeof window!="undefined"&&typeof window.HTMLElement!="undefined"&&typeof document!="undefined";function ts(e){let t;const n=Array.isArray(e),s=typeof FileList!="undefined"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!($y&&(e instanceof Blob||s))&&(n||Bn(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!PF(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=ts(e[a]));else return e;return t}var Sm=e=>/^\w*$/.test(e),Un=e=>e===void 0,Hy=e=>Array.isArray(e)?e.filter(Boolean):[],Vy=e=>Hy(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ve=(e,t,n)=>{if(!t||!Bn(e))return n;const s=(Sm(t)?[t]:Vy(t)).reduce((a,o)=>Ds(a)?a:a[o],e);return Un(s)||s===e?Un(e[t])?n:e[t]:s},sr=e=>typeof e=="boolean",gn=(e,t,n)=>{let s=-1;const a=Sm(t)?[t]:Vy(t),o=a.length,c=o-1;for(;++s<o;){const d=a[s];let f=n;if(s!==c){const h=e[d];f=Bn(h)||Array.isArray(h)?h:isNaN(+a[s+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;e[d]=f,e=e[d]}};const nm={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Vr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},$a={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},uE=se.createContext(null);uE.displayName="HookFormContext";const Iy=()=>se.useContext(uE);var dE=(e,t,n,s=!0)=>{const a={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(a,o,{get:()=>{const c=o;return t._proxyFormState[c]!==Vr.all&&(t._proxyFormState[c]=!s||Vr.all),n&&(n[c]=!0),e[c]}});return a};const qy=typeof window!="undefined"?se.useLayoutEffect:se.useEffect;function LF(e){const t=Iy(),{control:n=t.control,disabled:s,name:a,exact:o}=e||{},[c,d]=se.useState(n._formState),f=se.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return qy(()=>n._subscribe({name:a,formState:f.current,exact:o,callback:h=>{!s&&d(z(z({},n._formState),h))}}),[a,s,o]),se.useEffect(()=>{f.current.isValid&&n._setValid(!0)},[n]),se.useMemo(()=>dE(c,n,f.current,!1),[c,n])}var da=e=>typeof e=="string",fE=(e,t,n,s,a)=>da(e)?(s&&t.watch.add(e),Ve(n,e,a)):Array.isArray(e)?e.map(o=>(s&&t.watch.add(o),Ve(n,o))):(s&&(t.watchAll=!0),n),yx=e=>Ds(e)||!oE(e);function Ya(e,t,n=new WeakSet){if(yx(e)||yx(t))return e===t;if(Po(e)&&Po(t))return e.getTime()===t.getTime();const s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const o of s){const c=e[o];if(!a.includes(o))return!1;if(o!=="ref"){const d=t[o];if(Po(c)&&Po(d)||Bn(c)&&Bn(d)||Array.isArray(c)&&Array.isArray(d)?!Ya(c,d,n):c!==d)return!1}}return!0}function zF(e){const t=Iy(),{control:n=t.control,name:s,defaultValue:a,disabled:o,exact:c,compute:d}=e||{},f=se.useRef(a),h=se.useRef(d),p=se.useRef(void 0);h.current=d;const g=se.useMemo(()=>n._getWatch(s,f.current),[n,s]),[y,b]=se.useState(h.current?h.current(g):g);return qy(()=>n._subscribe({name:s,formState:{values:!0},exact:c,callback:j=>{if(!o){const v=fE(s,n._names,j.values||n._formValues,!1,f.current);if(h.current){const S=h.current(v);Ya(S,p.current)||(b(S),p.current=S)}else b(v)}}}),[n,o,s,c]),se.useEffect(()=>n._removeUnmounted()),y}function UF(e){const t=Iy(),{name:n,disabled:s,control:a=t.control,shouldUnregister:o,defaultValue:c}=e,d=cE(a._names.array,n),f=se.useMemo(()=>Ve(a._formValues,n,Ve(a._defaultValues,n,c)),[a,n,c]),h=zF({control:a,name:n,defaultValue:f,exact:!0}),p=LF({control:a,name:n,exact:!0}),g=se.useRef(e),y=se.useRef(a.register(n,z(oe(z({},e.rules),{value:h}),sr(e.disabled)?{disabled:e.disabled}:{})));g.current=e;const b=se.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ve(p.errors,n)},isDirty:{enumerable:!0,get:()=>!!Ve(p.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Ve(p.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Ve(p.validatingFields,n)},error:{enumerable:!0,get:()=>Ve(p.errors,n)}}),[p,n]),j=se.useCallback(R=>y.current.onChange({target:{value:lE(R),name:n},type:nm.CHANGE}),[n]),v=se.useCallback(()=>y.current.onBlur({target:{value:Ve(a._formValues,n),name:n},type:nm.BLUR}),[n,a._formValues]),S=se.useCallback(R=>{const E=Ve(a._fields,n);E&&R&&(E._f.ref={focus:()=>R.focus&&R.focus(),select:()=>R.select&&R.select(),setCustomValidity:k=>R.setCustomValidity(k),reportValidity:()=>R.reportValidity()})},[a._fields,n]),N=se.useMemo(()=>oe(z({name:n,value:h},sr(s)||p.disabled?{disabled:p.disabled||s}:{}),{onChange:j,onBlur:v,ref:S}),[n,s,p.disabled,j,v,S,h]);return se.useEffect(()=>{const R=a._options.shouldUnregister||o;a.register(n,z(z({},g.current.rules),sr(g.current.disabled)?{disabled:g.current.disabled}:{}));const E=(k,D)=>{const C=Ve(a._fields,k);C&&C._f&&(C._f.mount=D)};if(E(n,!0),R){const k=ts(Ve(a._options.defaultValues,n));gn(a._defaultValues,n,k),Un(Ve(a._formValues,n))&&gn(a._formValues,n,k)}return!d&&a.register(n),()=>{(d?R&&!a._state.action:R)?a.unregister(n):E(n,!1)}},[n,a,d,o]),se.useEffect(()=>{a._setDisabledField({disabled:s,name:n})},[s,n,a]),se.useMemo(()=>({field:N,formState:p,fieldState:b}),[N,p,b])}const _r=e=>e.render(UF(e));var FF=(e,t,n,s,a)=>t?oe(z({},n[e]),{types:oe(z({},n[e]&&n[e].types?n[e].types:{}),{[s]:a||!0})}):{},Hu=e=>Array.isArray(e)?e:[e],xN=()=>{let e=[];return{get observers(){return e},next:a=>{for(const o of e)o.next&&o.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(o=>o!==a)}}),unsubscribe:()=>{e=[]}}},$s=e=>Bn(e)&&!Object.keys(e).length,Wy=e=>e.type==="file",Ir=e=>typeof e=="function",sm=e=>{if(!$y)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},hE=e=>e.type==="select-multiple",Yy=e=>e.type==="radio",BF=e=>Yy(e)||xd(e),b0=e=>sm(e)&&e.isConnected;function $F(e,t){const n=t.slice(0,-1).length;let s=0;for(;s<n;)e=Un(e)?s++:e[t[s++]];return e}function HF(e){for(const t in e)if(e.hasOwnProperty(t)&&!Un(e[t]))return!1;return!0}function In(e,t){const n=Array.isArray(t)?t:Sm(t)?[t]:Vy(t),s=n.length===1?e:$F(e,n),a=n.length-1,o=n[a];return s&&delete s[o],a!==0&&(Bn(s)&&$s(s)||Array.isArray(s)&&HF(s))&&In(e,n.slice(0,-1)),e}var mE=e=>{for(const t in e)if(Ir(e[t]))return!0;return!1};function rm(e,t={}){const n=Array.isArray(e);if(Bn(e)||n)for(const s in e)Array.isArray(e[s])||Bn(e[s])&&!mE(e[s])?(t[s]=Array.isArray(e[s])?[]:{},rm(e[s],t[s])):Ds(e[s])||(t[s]=!0);return t}function pE(e,t,n){const s=Array.isArray(e);if(Bn(e)||s)for(const a in e)Array.isArray(e[a])||Bn(e[a])&&!mE(e[a])?Un(t)||yx(n[a])?n[a]=Array.isArray(e[a])?rm(e[a],[]):z({},rm(e[a])):pE(e[a],Ds(t)?{}:t[a],n[a]):n[a]=!Ya(e[a],t[a]);return n}var Eu=(e,t)=>pE(e,t,rm(t));const yN={value:!1,isValid:!1},bN={value:!0,isValid:!0};var gE=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Un(e[0].attributes.value)?Un(e[0].value)||e[0].value===""?bN:{value:e[0].value,isValid:!0}:bN:yN}return yN},xE=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:s})=>Un(e)?e:t?e===""?NaN:e&&+e:n&&da(e)?new Date(e):s?s(e):e;const vN={isValid:!1,value:null};var yE=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,vN):vN;function wN(e){const t=e.ref;return Wy(t)?t.files:Yy(t)?yE(e.refs).value:hE(t)?[...t.selectedOptions].map(({value:n})=>n):xd(t)?gE(e.refs).value:xE(Un(t.value)?e.ref.value:t.value,e)}var VF=(e,t,n,s)=>{const a={};for(const o of e){const c=Ve(t,o);c&&gn(a,o,c._f)}return{criteriaMode:n,names:[...e],fields:a,shouldUseNativeValidation:s}},am=e=>e instanceof RegExp,ku=e=>Un(e)?e:am(e)?e.source:Bn(e)?am(e.value)?e.value.source:e.value:e,jN=e=>({isOnSubmit:!e||e===Vr.onSubmit,isOnBlur:e===Vr.onBlur,isOnChange:e===Vr.onChange,isOnAll:e===Vr.all,isOnTouch:e===Vr.onTouched});const _N="AsyncFunction";var IF=e=>!!e&&!!e.validate&&!!(Ir(e.validate)&&e.validate.constructor.name===_N||Bn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===_N)),qF=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),NN=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const Vu=(e,t,n,s)=>{for(const o of n||Object.keys(e)){const c=Ve(e,o);if(c){const a=c,{_f:d}=a,f=Ce(a,["_f"]);if(d){if(d.refs&&d.refs[0]&&t(d.refs[0],o)&&!s)return!0;if(d.ref&&t(d.ref,d.name)&&!s)return!0;if(Vu(f,t))break}else if(Bn(f)&&Vu(f,t))break}}};function SN(e,t,n){const s=Ve(e,n);if(s||Sm(n))return{error:s,name:n};const a=n.split(".");for(;a.length;){const o=a.join("."),c=Ve(t,o),d=Ve(e,o);if(c&&!Array.isArray(c)&&n!==o)return{name:n};if(d&&d.type)return{name:o,error:d};if(d&&d.root&&d.root.type)return{name:`${o}.root`,error:d.root};a.pop()}return{name:n}}var WF=(e,t,n,s)=>{n(e);const c=e,{name:a}=c,o=Ce(c,["name"]);return $s(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(d=>t[d]===(!s||Vr.all))},YF=(e,t,n)=>!e||!t||e===t||Hu(e).some(s=>s&&(n?s===t:s.startsWith(t)||t.startsWith(s))),XF=(e,t,n,s,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(t||e):(n?s.isOnBlur:a.isOnBlur)?!e:(n?s.isOnChange:a.isOnChange)?e:!0,GF=(e,t)=>!Hy(Ve(e,t)).length&&In(e,t),KF=(e,t,n)=>{const s=Hu(Ve(e,n));return gn(s,"root",t[n]),gn(e,n,s),e},Rh=e=>da(e);function TN(e,t,n="validate"){if(Rh(e)||Array.isArray(e)&&e.every(Rh)||sr(e)&&!e)return{type:n,message:Rh(e)?e:"",ref:t}}var $l=e=>Bn(e)&&!am(e)?e:{value:e,message:""},EN=(e,t,n,s,a,o)=>ve(null,null,function*(){const{ref:c,refs:d,required:f,maxLength:h,minLength:p,min:g,max:y,pattern:b,validate:j,name:v,valueAsNumber:S,mount:N}=e._f,R=Ve(n,v);if(!N||t.has(v))return{};const E=d?d[0]:c,k=G=>{a&&E.reportValidity&&(E.setCustomValidity(sr(G)?"":G||""),E.reportValidity())},D={},C=Yy(c),A=xd(c),P=C||A,U=(S||Wy(c))&&Un(c.value)&&Un(R)||sm(c)&&c.value===""||R===""||Array.isArray(R)&&!R.length,K=FF.bind(null,v,s,D),$=(G,W,ee,Y=$a.maxLength,H=$a.minLength)=>{const J=G?W:ee;D[v]=z({type:G?Y:H,message:J,ref:c},K(G?Y:H,J))};if(o?!Array.isArray(R)||!R.length:f&&(!P&&(U||Ds(R))||sr(R)&&!R||A&&!gE(d).isValid||C&&!yE(d).isValid)){const{value:G,message:W}=Rh(f)?{value:!!f,message:f}:$l(f);if(G&&(D[v]=z({type:$a.required,message:W,ref:E},K($a.required,W)),!s))return k(W),D}if(!U&&(!Ds(g)||!Ds(y))){let G,W;const ee=$l(y),Y=$l(g);if(!Ds(R)&&!isNaN(R)){const H=c.valueAsNumber||R&&+R;Ds(ee.value)||(G=H>ee.value),Ds(Y.value)||(W=H<Y.value)}else{const H=c.valueAsDate||new Date(R),J=L=>new Date(new Date().toDateString()+" "+L),te=c.type=="time",ce=c.type=="week";da(ee.value)&&R&&(G=te?J(R)>J(ee.value):ce?R>ee.value:H>new Date(ee.value)),da(Y.value)&&R&&(W=te?J(R)<J(Y.value):ce?R<Y.value:H<new Date(Y.value))}if((G||W)&&($(!!G,ee.message,Y.message,$a.max,$a.min),!s))return k(D[v].message),D}if((h||p)&&!U&&(da(R)||o&&Array.isArray(R))){const G=$l(h),W=$l(p),ee=!Ds(G.value)&&R.length>+G.value,Y=!Ds(W.value)&&R.length<+W.value;if((ee||Y)&&($(ee,G.message,W.message),!s))return k(D[v].message),D}if(b&&!U&&da(R)){const{value:G,message:W}=$l(b);if(am(G)&&!R.match(G)&&(D[v]=z({type:$a.pattern,message:W,ref:c},K($a.pattern,W)),!s))return k(W),D}if(j){if(Ir(j)){const G=yield j(R,n),W=TN(G,E);if(W&&(D[v]=z(z({},W),K($a.validate,W.message)),!s))return k(W.message),D}else if(Bn(j)){let G={};for(const W in j){if(!$s(G)&&!s)break;const ee=TN(yield j[W](R,n),E,W);ee&&(G=z(z({},ee),K(W,ee.message)),k(ee.message),s&&(D[v]=G))}if(!$s(G)&&(D[v]=z({ref:E},G),!s))return D}}return k(!0),D});const QF={mode:Vr.onSubmit,reValidateMode:Vr.onChange,shouldFocusError:!0};function ZF(e={}){let t=z(z({},QF),e),n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ir(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},a=Bn(t.defaultValues)||Bn(t.values)?ts(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:ts(a),c={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,h=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let g=z({},p);const y={array:xN(),state:xN()},b=t.criteriaMode===Vr.all,j=X=>fe=>{clearTimeout(h),h=setTimeout(X,fe)},v=X=>ve(null,null,function*(){if(!t.disabled&&(p.isValid||g.isValid||X)){const fe=t.resolver?$s((yield A()).errors):yield U(s,!0);fe!==n.isValid&&y.state.next({isValid:fe})}}),S=(X,fe)=>{!t.disabled&&(p.isValidating||p.validatingFields||g.isValidating||g.validatingFields)&&((X||Array.from(d.mount)).forEach(q=>{q&&(fe?gn(n.validatingFields,q,fe):In(n.validatingFields,q))}),y.state.next({validatingFields:n.validatingFields,isValidating:!$s(n.validatingFields)}))},N=(X,fe=[],q,Ne,Re=!0,Ae=!0)=>{if(Ne&&q&&!t.disabled){if(c.action=!0,Ae&&Array.isArray(Ve(s,X))){const Be=q(Ve(s,X),Ne.argA,Ne.argB);Re&&gn(s,X,Be)}if(Ae&&Array.isArray(Ve(n.errors,X))){const Be=q(Ve(n.errors,X),Ne.argA,Ne.argB);Re&&gn(n.errors,X,Be),GF(n.errors,X)}if((p.touchedFields||g.touchedFields)&&Ae&&Array.isArray(Ve(n.touchedFields,X))){const Be=q(Ve(n.touchedFields,X),Ne.argA,Ne.argB);Re&&gn(n.touchedFields,X,Be)}(p.dirtyFields||g.dirtyFields)&&(n.dirtyFields=Eu(a,o)),y.state.next({name:X,isDirty:$(X,fe),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else gn(o,X,fe)},R=(X,fe)=>{gn(n.errors,X,fe),y.state.next({errors:n.errors})},E=X=>{n.errors=X,y.state.next({errors:n.errors,isValid:!1})},k=(X,fe,q,Ne)=>{const Re=Ve(s,X);if(Re){const Ae=Ve(o,X,Un(q)?Ve(a,X):q);Un(Ae)||Ne&&Ne.defaultChecked||fe?gn(o,X,fe?Ae:wN(Re._f)):ee(X,Ae),c.mount&&v()}},D=(X,fe,q,Ne,Re)=>{let Ae=!1,Be=!1;const qe={name:X};if(!t.disabled){if(!q||Ne){(p.isDirty||g.isDirty)&&(Be=n.isDirty,n.isDirty=qe.isDirty=$(),Ae=Be!==qe.isDirty);const et=Ya(Ve(a,X),fe);Be=!!Ve(n.dirtyFields,X),et?In(n.dirtyFields,X):gn(n.dirtyFields,X,!0),qe.dirtyFields=n.dirtyFields,Ae=Ae||(p.dirtyFields||g.dirtyFields)&&Be!==!et}if(q){const et=Ve(n.touchedFields,X);et||(gn(n.touchedFields,X,q),qe.touchedFields=n.touchedFields,Ae=Ae||(p.touchedFields||g.touchedFields)&&et!==q)}Ae&&Re&&y.state.next(qe)}return Ae?qe:{}},C=(X,fe,q,Ne)=>{const Re=Ve(n.errors,X),Ae=(p.isValid||g.isValid)&&sr(fe)&&n.isValid!==fe;if(t.delayError&&q?(f=j(()=>R(X,q)),f(t.delayError)):(clearTimeout(h),f=null,q?gn(n.errors,X,q):In(n.errors,X)),(q?!Ya(Re,q):Re)||!$s(Ne)||Ae){const Be=oe(z(z({},Ne),Ae&&sr(fe)?{isValid:fe}:{}),{errors:n.errors,name:X});n=z(z({},n),Be),y.state.next(Be)}},A=X=>ve(null,null,function*(){S(X,!0);const fe=yield t.resolver(o,t.context,VF(X||d.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return S(X),fe}),P=X=>ve(null,null,function*(){const{errors:fe}=yield A(X);if(X)for(const q of X){const Ne=Ve(fe,q);Ne?gn(n.errors,q,Ne):In(n.errors,q)}else n.errors=fe;return fe}),U=(Ne,Re,...Ae)=>ve(null,[Ne,Re,...Ae],function*(X,fe,q={valid:!0}){for(const qe in X){const et=X[qe];if(et){const Be=et,{_f:wt}=Be,Nn=Ce(Be,["_f"]);if(wt){const Jt=d.array.has(wt.name),dn=et._f&&IF(et._f);dn&&p.validatingFields&&S([qe],!0);const vn=yield EN(et,d.disabled,o,b,t.shouldUseNativeValidation&&!fe,Jt);if(dn&&p.validatingFields&&S([qe]),vn[wt.name]&&(q.valid=!1,fe))break;!fe&&(Ve(vn,wt.name)?Jt?KF(n.errors,vn,wt.name):gn(n.errors,wt.name,vn[wt.name]):In(n.errors,wt.name))}!$s(Nn)&&(yield U(Nn,fe,q))}}return q.valid}),K=()=>{for(const X of d.unMount){const fe=Ve(s,X);fe&&(fe._f.refs?fe._f.refs.every(q=>!b0(q)):!b0(fe._f.ref))&&Ee(X)}d.unMount=new Set},$=(X,fe)=>!t.disabled&&(X&&fe&&gn(o,X,fe),!Ya(L(),a)),G=(X,fe,q)=>fE(X,d,z({},c.mount?o:Un(fe)?a:da(X)?{[X]:fe}:fe),q,fe),W=X=>Hy(Ve(c.mount?o:a,X,t.shouldUnregister?Ve(a,X,[]):[])),ee=(X,fe,q={})=>{const Ne=Ve(s,X);let Re=fe;if(Ne){const Ae=Ne._f;Ae&&(!Ae.disabled&&gn(o,X,xE(fe,Ae)),Re=sm(Ae.ref)&&Ds(fe)?"":fe,hE(Ae.ref)?[...Ae.ref.options].forEach(Be=>Be.selected=Re.includes(Be.value)):Ae.refs?xd(Ae.ref)?Ae.refs.forEach(Be=>{(!Be.defaultChecked||!Be.disabled)&&(Array.isArray(Re)?Be.checked=!!Re.find(qe=>qe===Be.value):Be.checked=Re===Be.value||!!Re)}):Ae.refs.forEach(Be=>Be.checked=Be.value===Re):Wy(Ae.ref)?Ae.ref.value="":(Ae.ref.value=Re,Ae.ref.type||y.state.next({name:X,values:ts(o)})))}(q.shouldDirty||q.shouldTouch)&&D(X,Re,q.shouldTouch,q.shouldDirty,!0),q.shouldValidate&&ce(X)},Y=(X,fe,q)=>{for(const Ne in fe){if(!fe.hasOwnProperty(Ne))return;const Re=fe[Ne],Ae=X+"."+Ne,Be=Ve(s,Ae);(d.array.has(X)||Bn(Re)||Be&&!Be._f)&&!Po(Re)?Y(Ae,Re,q):ee(Ae,Re,q)}},H=(X,fe,q={})=>{const Ne=Ve(s,X),Re=d.array.has(X),Ae=ts(fe);gn(o,X,Ae),Re?(y.array.next({name:X,values:ts(o)}),(p.isDirty||p.dirtyFields||g.isDirty||g.dirtyFields)&&q.shouldDirty&&y.state.next({name:X,dirtyFields:Eu(a,o),isDirty:$(X,Ae)})):Ne&&!Ne._f&&!Ds(Ae)?Y(X,Ae,q):ee(X,Ae,q),NN(X,d)&&y.state.next(oe(z({},n),{name:X})),y.state.next({name:c.mount?X:void 0,values:ts(o)})},J=X=>ve(null,null,function*(){c.mount=!0;const fe=X.target;let q=fe.name,Ne=!0;const Re=Ve(s,q),Ae=et=>{Ne=Number.isNaN(et)||Po(et)&&isNaN(et.getTime())||Ya(et,Ve(o,q,et))},Be=jN(t.mode),qe=jN(t.reValidateMode);if(Re){let et,wt;const Nn=fe.type?wN(Re._f):lE(X),Jt=X.type===nm.BLUR||X.type===nm.FOCUS_OUT,dn=!qF(Re._f)&&!t.resolver&&!Ve(n.errors,q)&&!Re._f.deps||XF(Jt,Ve(n.touchedFields,q),n.isSubmitted,qe,Be),vn=NN(q,d,Jt);gn(o,q,Nn),Jt?(!fe||!fe.readOnly)&&(Re._f.onBlur&&Re._f.onBlur(X),f&&f(0)):Re._f.onChange&&Re._f.onChange(X);const Xn=D(q,Nn,Jt),Gn=!$s(Xn)||vn;if(!Jt&&y.state.next({name:q,type:X.type,values:ts(o)}),dn)return(p.isValid||g.isValid)&&(t.mode==="onBlur"?Jt&&v():Jt||v()),Gn&&y.state.next(z({name:q},vn?{}:Xn));if(!Jt&&vn&&y.state.next(z({},n)),t.resolver){const{errors:cs}=yield A([q]);if(Ae(Nn),Ne){const Kn=SN(n.errors,s,q),ks=SN(cs,s,Kn.name||q);et=ks.error,q=ks.name,wt=$s(cs)}}else S([q],!0),et=(yield EN(Re,d.disabled,o,b,t.shouldUseNativeValidation))[q],S([q]),Ae(Nn),Ne&&(et?wt=!1:(p.isValid||g.isValid)&&(wt=yield U(s,!0)));Ne&&(Re._f.deps&&ce(Re._f.deps),C(q,wt,et,Xn))}}),te=(X,fe)=>{if(Ve(n.errors,fe)&&X.focus)return X.focus(),1},ce=(q,...Ne)=>ve(null,[q,...Ne],function*(X,fe={}){let Re,Ae;const Be=Hu(X);if(t.resolver){const qe=yield P(Un(X)?X:Be);Re=$s(qe),Ae=X?!Be.some(et=>Ve(qe,et)):Re}else X?(Ae=(yield Promise.all(Be.map(qe=>ve(null,null,function*(){const et=Ve(s,qe);return yield U(et&&et._f?{[qe]:et}:et)})))).every(Boolean),!(!Ae&&!n.isValid)&&v()):Ae=Re=yield U(s);return y.state.next(oe(z(z({},!da(X)||(p.isValid||g.isValid)&&Re!==n.isValid?{}:{name:X}),t.resolver||!X?{isValid:Re}:{}),{errors:n.errors})),fe.shouldFocus&&!Ae&&Vu(s,te,X?Be:d.mount),Ae}),L=X=>{const fe=z({},c.mount?o:a);return Un(X)?fe:da(X)?Ve(fe,X):X.map(q=>Ve(fe,q))},le=(X,fe)=>({invalid:!!Ve((fe||n).errors,X),isDirty:!!Ve((fe||n).dirtyFields,X),error:Ve((fe||n).errors,X),isValidating:!!Ve(n.validatingFields,X),isTouched:!!Ve((fe||n).touchedFields,X)}),re=X=>{X&&Hu(X).forEach(fe=>In(n.errors,fe)),y.state.next({errors:X?n.errors:{}})},V=(X,fe,q)=>{const Ne=(Ve(s,X,{_f:{}})._f||{}).ref,wt=Ve(n.errors,X)||{},{ref:Ae,message:Be,type:qe}=wt,et=Ce(wt,["ref","message","type"]);gn(n.errors,X,oe(z(z({},et),fe),{ref:Ne})),y.state.next({name:X,errors:n.errors,isValid:!1}),q&&q.shouldFocus&&Ne&&Ne.focus&&Ne.focus()},ne=(X,fe)=>Ir(X)?y.state.subscribe({next:q=>"values"in q&&X(G(void 0,fe),q)}):G(X,fe,!0),xe=X=>y.state.subscribe({next:fe=>{YF(X.name,fe.name,X.exact)&&WF(fe,X.formState||p,Me,X.reRenderRoot)&&X.callback(oe(z(z({values:z({},o)},n),fe),{defaultValues:a}))}}).unsubscribe,me=X=>(c.mount=!0,g=z(z({},g),X.formState),xe(oe(z({},X),{formState:g}))),Ee=(X,fe={})=>{for(const q of X?Hu(X):d.mount)d.mount.delete(q),d.array.delete(q),fe.keepValue||(In(s,q),In(o,q)),!fe.keepError&&In(n.errors,q),!fe.keepDirty&&In(n.dirtyFields,q),!fe.keepTouched&&In(n.touchedFields,q),!fe.keepIsValidating&&In(n.validatingFields,q),!t.shouldUnregister&&!fe.keepDefaultValue&&In(a,q);y.state.next({values:ts(o)}),y.state.next(z(z({},n),fe.keepDirty?{isDirty:$()}:{})),!fe.keepIsValid&&v()},De=({disabled:X,name:fe})=>{(sr(X)&&c.mount||X||d.disabled.has(fe))&&(X?d.disabled.add(fe):d.disabled.delete(fe))},He=(X,fe={})=>{let q=Ve(s,X);const Ne=sr(fe.disabled)||sr(t.disabled);return gn(s,X,oe(z({},q||{}),{_f:z(oe(z({},q&&q._f?q._f:{ref:{name:X}}),{name:X,mount:!0}),fe)})),d.mount.add(X),q?De({disabled:sr(fe.disabled)?fe.disabled:t.disabled,name:X}):k(X,!0,fe.value),oe(z(z({},Ne?{disabled:fe.disabled||t.disabled}:{}),t.progressive?{required:!!fe.required,min:ku(fe.min),max:ku(fe.max),minLength:ku(fe.minLength),maxLength:ku(fe.maxLength),pattern:ku(fe.pattern)}:{}),{name:X,onChange:J,onBlur:J,ref:Re=>{if(Re){He(X,fe),q=Ve(s,X);const Ae=Un(Re.value)&&Re.querySelectorAll&&Re.querySelectorAll("input,select,textarea")[0]||Re,Be=BF(Ae),qe=q._f.refs||[];if(Be?qe.find(et=>et===Ae):Ae===q._f.ref)return;gn(s,X,{_f:z(z({},q._f),Be?{refs:[...qe.filter(b0),Ae,...Array.isArray(Ve(a,X))?[{}]:[]],ref:{type:Ae.type,name:X}}:{ref:Ae})}),k(X,!1,void 0,Ae)}else q=Ve(s,X,{}),q._f&&(q._f.mount=!1),(t.shouldUnregister||fe.shouldUnregister)&&!(cE(d.array,X)&&c.action)&&d.unMount.add(X)}})},Pe=()=>t.shouldFocusError&&Vu(s,te,d.mount),rt=X=>{sr(X)&&(y.state.next({disabled:X}),Vu(s,(fe,q)=>{const Ne=Ve(s,q);Ne&&(fe.disabled=Ne._f.disabled||X,Array.isArray(Ne._f.refs)&&Ne._f.refs.forEach(Re=>{Re.disabled=Ne._f.disabled||X}))},0,!1))},Ge=(X,fe)=>q=>ve(null,null,function*(){let Ne;q&&(q.preventDefault&&q.preventDefault(),q.persist&&q.persist());let Re=ts(o);if(y.state.next({isSubmitting:!0}),t.resolver){const{errors:Ae,values:Be}=yield A();n.errors=Ae,Re=ts(Be)}else yield U(s);if(d.disabled.size)for(const Ae of d.disabled)In(Re,Ae);if(In(n.errors,"root"),$s(n.errors)){y.state.next({errors:{}});try{yield X(Re,q)}catch(Ae){Ne=Ae}}else fe&&(yield fe(z({},n.errors),q)),Pe(),setTimeout(Pe);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:$s(n.errors)&&!Ne,submitCount:n.submitCount+1,errors:n.errors}),Ne)throw Ne}),pt=(X,fe={})=>{Ve(s,X)&&(Un(fe.defaultValue)?H(X,ts(Ve(a,X))):(H(X,fe.defaultValue),gn(a,X,ts(fe.defaultValue))),fe.keepTouched||In(n.touchedFields,X),fe.keepDirty||(In(n.dirtyFields,X),n.isDirty=fe.defaultValue?$(X,ts(Ve(a,X))):$()),fe.keepError||(In(n.errors,X),p.isValid&&v()),y.state.next(z({},n)))},ze=(X,fe={})=>{const q=X?ts(X):a,Ne=ts(q),Re=$s(X),Ae=Re?a:Ne;if(fe.keepDefaultValues||(a=q),!fe.keepValues){if(fe.keepDirtyValues){const Be=new Set([...d.mount,...Object.keys(Eu(a,o))]);for(const qe of Array.from(Be))Ve(n.dirtyFields,qe)?gn(Ae,qe,Ve(o,qe)):H(qe,Ve(Ae,qe))}else{if($y&&Un(X))for(const Be of d.mount){const qe=Ve(s,Be);if(qe&&qe._f){const et=Array.isArray(qe._f.refs)?qe._f.refs[0]:qe._f.ref;if(sm(et)){const wt=et.closest("form");if(wt){wt.reset();break}}}}if(fe.keepFieldsRef)for(const Be of d.mount)H(Be,Ve(Ae,Be));else s={}}o=t.shouldUnregister?fe.keepDefaultValues?ts(a):{}:ts(Ae),y.array.next({values:z({},Ae)}),y.state.next({values:z({},Ae)})}d={mount:fe.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!p.isValid||!!fe.keepIsValid||!!fe.keepDirtyValues,c.watch=!!t.shouldUnregister,y.state.next({submitCount:fe.keepSubmitCount?n.submitCount:0,isDirty:Re?!1:fe.keepDirty?n.isDirty:!!(fe.keepDefaultValues&&!Ya(X,a)),isSubmitted:fe.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Re?{}:fe.keepDirtyValues?fe.keepDefaultValues&&o?Eu(a,o):n.dirtyFields:fe.keepDefaultValues&&X?Eu(a,X):fe.keepDirty?n.dirtyFields:{},touchedFields:fe.keepTouched?n.touchedFields:{},errors:fe.keepErrors?n.errors:{},isSubmitSuccessful:fe.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},Nt=(X,fe)=>ze(Ir(X)?X(o):X,fe),at=(X,fe={})=>{const q=Ve(s,X),Ne=q&&q._f;if(Ne){const Re=Ne.refs?Ne.refs[0]:Ne.ref;Re.focus&&(Re.focus(),fe.shouldSelect&&Ir(Re.select)&&Re.select())}},Me=X=>{n=z(z({},n),X)},ht={control:{register:He,unregister:Ee,getFieldState:le,handleSubmit:Ge,setError:V,_subscribe:xe,_runSchema:A,_focusError:Pe,_getWatch:G,_getDirty:$,_setValid:v,_setFieldArray:N,_setDisabledField:De,_setErrors:E,_getFieldArray:W,_reset:ze,_resetDefaultValues:()=>Ir(t.defaultValues)&&t.defaultValues().then(X=>{Nt(X,t.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:K,_disableForm:rt,_subjects:y,_proxyFormState:p,get _fields(){return s},get _formValues(){return o},get _state(){return c},set _state(X){c=X},get _defaultValues(){return a},get _names(){return d},set _names(X){d=X},get _formState(){return n},get _options(){return t},set _options(X){t=z(z({},t),X)}},subscribe:me,trigger:ce,register:He,handleSubmit:Ge,watch:ne,setValue:H,getValues:L,reset:Nt,resetField:pt,clearErrors:re,unregister:Ee,setError:V,setFocus:at,getFieldState:le};return oe(z({},ht),{formControl:ht})}function sd(e={}){const t=se.useRef(void 0),n=se.useRef(void 0),[s,a]=se.useState({isDirty:!1,isValidating:!1,isLoading:Ir(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ir(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current=oe(z({},e.formControl),{formState:s}),e.defaultValues&&!Ir(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const c=ZF(e),{formControl:d}=c,f=Ce(c,["formControl"]);t.current=oe(z({},f),{formState:s})}const o=t.current.control;return o._options=e,qy(()=>{const d=o._subscribe({formState:o._proxyFormState,callback:()=>a(z({},o._formState)),reRenderRoot:!0});return a(f=>oe(z({},f),{isReady:!0})),o._formState.isReady=!0,d},[o]),se.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),se.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),se.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),se.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),se.useEffect(()=>{if(o._proxyFormState.isDirty){const d=o._getDirty();d!==s.isDirty&&o._subjects.state.next({isDirty:d})}},[o,s.isDirty]),se.useEffect(()=>{e.values&&!Ya(e.values,n.current)?(o._reset(e.values,z({keepFieldsRef:!0},o._options.resetOptions)),n.current=e.values,a(d=>z({},d))):o._resetDefaultValues()},[o,e.values]),se.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next(z({},o._formState))),o._removeUnmounted()}),t.current.formState=dE(s,o),t.current}const JF=0,eB=1,tB=2;var kN=Object.prototype.hasOwnProperty;function bx(e,t){var n,s;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((s=e.length)===t.length)for(;s--&&bx(e[s],t[s]););return s===-1}if(!n||typeof e=="object"){s=0;for(n in e)if(kN.call(e,n)&&++s&&!kN.call(t,n)||!(n in t)||!bx(e[n],t[n]))return!1;return Object.keys(t).length===s}}return e!==e&&t!==t}const Co=new WeakMap,Ri=()=>{},Nr=Ri(),vx=Object,fa=e=>e===Nr,Do=e=>typeof e=="function",Tm=(e,t)=>z(z({},e),t),nB=e=>Do(e.then),v0={},ch={},bE="undefined",Xy=typeof window!=bE,wx=typeof document!=bE,sB=Xy&&"Deno"in window,rB=(e,t)=>{const n=Co.get(e);return[()=>!fa(t)&&e.get(t)||v0,s=>{if(!fa(t)){const a=e.get(t);t in ch||(ch[t]=a),n[5](t,Tm(a,s),a||v0)}},n[6],()=>!fa(t)&&t in ch?ch[t]:!fa(t)&&e.get(t)||v0]};let jx=!0;const aB=()=>jx,[_x,Nx]=Xy&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Ri,Ri],iB=()=>{const e=wx&&document.visibilityState;return fa(e)||e!=="hidden"},oB=e=>(wx&&document.addEventListener("visibilitychange",e),_x("focus",e),()=>{wx&&document.removeEventListener("visibilitychange",e),Nx("focus",e)}),lB=e=>{const t=()=>{jx=!0,e()},n=()=>{jx=!1};return _x("online",t),_x("offline",n),()=>{Nx("online",t),Nx("offline",n)}},cB={isOnline:aB,isVisible:iB},uB={initFocus:oB,initReconnect:lB};se.useId;const vE=!Xy||sB,w0=typeof navigator!="undefined"&&navigator.connection,CN=!vE&&w0&&(["slow-2g","2g"].includes(w0.effectiveType)||w0.saveData),uh=new WeakMap,dB=e=>vx.prototype.toString.call(e),j0=(e,t)=>e===`[object ${t}]`;let fB=0;const Sx=e=>{const t=typeof e,n=dB(e),s=j0(n,"Date"),a=j0(n,"RegExp"),o=j0(n,"Object");let c,d;if(vx(e)===e&&!s&&!a){if(c=uh.get(e),c)return c;if(c=++fB+"~",uh.set(e,c),Array.isArray(e)){for(c="@",d=0;d<e.length;d++)c+=Sx(e[d])+",";uh.set(e,c)}if(o){c="#";const f=vx.keys(e).sort();for(;!fa(d=f.pop());)fa(e[d])||(c+=d+":"+Sx(e[d])+",");uh.set(e,c)}}else c=s?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return c},hB=e=>{if(Do(e))try{e=e()}catch(n){e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Sx(e):"",[e,t]};let mB=0;const DN=()=>++mB;function pB(...e){return ve(this,null,function*(){const[t,n,s,a]=e,o=Tm({populateCache:!0,throwOnError:!0},typeof a=="boolean"?{revalidate:a}:a||{});let c=o.populateCache;const d=o.rollbackOnError;let f=o.optimisticData;const h=y=>typeof d=="function"?d(y):d!==!1,p=o.throwOnError;if(Do(n)){const y=n,b=[],j=t.keys();for(const v of j)!/^\$(inf|sub)\$/.test(v)&&y(t.get(v)._k)&&b.push(v);return Promise.all(b.map(g))}return g(n);function g(y){return ve(this,null,function*(){const[b]=hB(y);if(!b)return;const[j,v]=rB(t,b),[S,N,R,E]=Co.get(t),k=()=>{const ee=S[b];return(Do(o.revalidate)?o.revalidate(j().data,y):o.revalidate!==!1)&&(delete R[b],delete E[b],ee&&ee[0])?ee[0](tB).then(()=>j().data):j().data};if(e.length<3)return k();let D=s,C,A=!1;const P=DN();N[b]=[P,0];const U=!fa(f),K=j(),$=K.data,G=K._c,W=fa(G)?$:G;if(U&&(f=Do(f)?f(W,$):f,v({data:f,_c:W})),Do(D))try{D=D(W)}catch(ee){C=ee,A=!0}if(D&&nB(D))if(D=yield D.catch(ee=>{C=ee,A=!0}),P!==N[b][0]){if(A)throw C;return D}else A&&U&&h(C)&&(c=!0,v({data:W,_c:Nr}));if(c&&!A)if(Do(c)){const ee=c(D,W);v({data:ee,error:Nr,_c:Nr})}else v({data:D,error:Nr,_c:Nr});if(N[b][1]=DN(),Promise.resolve(k()).then(()=>{v({_c:Nr})}),A){if(p)throw C;return}return D})}})}const ON=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},gB=(e,t)=>{if(!Co.has(e)){const n=Tm(uB,t),s=Object.create(null),a=pB.bind(Nr,e);let o=Ri;const c=Object.create(null),d=(p,g)=>{const y=c[p]||[];return c[p]=y,y.push(g),()=>y.splice(y.indexOf(g),1)},f=(p,g,y)=>{e.set(p,g);const b=c[p];if(b)for(const j of b)j(g,y)},h=()=>{if(!Co.has(e)&&(Co.set(e,[s,Object.create(null),Object.create(null),Object.create(null),a,f,d]),!vE)){const p=n.initFocus(setTimeout.bind(Nr,ON.bind(Nr,s,JF))),g=n.initReconnect(setTimeout.bind(Nr,ON.bind(Nr,s,eB)));o=()=>{p&&p(),g&&g(),Co.delete(e)}}};return h(),[e,a,h,o]}return[e,Co.get(e)[4]]},xB=(e,t,n,s,a)=>{const o=n.errorRetryCount,c=a.retryCount,d=~~((Math.random()+.5)*(1<<(c<8?c:8)))*n.errorRetryInterval;!fa(o)&&c>o||setTimeout(s,d,a)},yB=bx,[bB,ec]=gB(new Map);Tm({onLoadingSlow:Ri,onSuccess:Ri,onError:Ri,onErrorRetry:xB,onDiscarded:Ri,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:CN?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:CN?5e3:3e3,compare:yB,isPaused:()=>!1,cache:bB,mutate:ec,fallback:{}},cB);_.createContext({});const AN=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,RN=ZS,vB=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return RN(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:o}=t,c=Object.keys(a).map(h=>{const p=n==null?void 0:n[h],g=o==null?void 0:o[h];if(p===null)return null;const y=AN(p)||AN(g);return a[h][y]}),d=n&&Object.entries(n).reduce((h,p)=>{let[g,y]=p;return y===void 0||(h[g]=y),h},{}),f=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((h,p)=>{let j=p,{class:g,className:y}=j,b=Ce(j,["class","className"]);return Object.entries(b).every(v=>{let[S,N]=v;return Array.isArray(N)?N.includes(z(z({},o),d)[S]):z(z({},o),d)[S]===N})?[...h,g,y]:h},[]);return RN(e,c,f,n==null?void 0:n.class,n==null?void 0:n.className)},wB=vB("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Ie(o){var c=o,{className:e,variant:t,size:n,asChild:s=!1}=c,a=Ce(c,["className","variant","size","asChild"]);const d=s?y4:"button";return i.jsx(d,z({"data-slot":"button",className:_n(wB({variant:t,size:n,className:e}))},a))}function Pi(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}var jB="DismissableLayer",Tx="dismissableLayer.update",_B="dismissableLayer.pointerDownOutside",NB="dismissableLayer.focusOutside",MN,wE=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jE=_.forwardRef((e,t)=>{var P;const A=e,{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:c,onDismiss:d}=A,f=Ce(A,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),h=_.useContext(wE),[p,g]=_.useState(null),y=(P=p==null?void 0:p.ownerDocument)!=null?P:globalThis==null?void 0:globalThis.document,[,b]=_.useState({}),j=Cn(t,U=>g(U)),v=Array.from(h.layers),[S]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),N=v.indexOf(S),R=p?v.indexOf(p):-1,E=h.layersWithOutsidePointerEventsDisabled.size>0,k=R>=N,D=EB(U=>{const K=U.target,$=[...h.branches].some(G=>G.contains(K));!k||$||(a==null||a(U),c==null||c(U),U.defaultPrevented||d==null||d())},y),C=kB(U=>{const K=U.target;[...h.branches].some(G=>G.contains(K))||(o==null||o(U),c==null||c(U),U.defaultPrevented||d==null||d())},y);return oy(U=>{R===h.layers.size-1&&(s==null||s(U),!U.defaultPrevented&&d&&(U.preventDefault(),d()))},y),_.useEffect(()=>{if(p)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(MN=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),PN(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=MN)}},[p,y,n,h]),_.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),PN())},[p,h]),_.useEffect(()=>{const U=()=>b({});return document.addEventListener(Tx,U),()=>document.removeEventListener(Tx,U)},[]),i.jsx(Ht.div,oe(z({},f),{ref:j,style:z({pointerEvents:E?k?"auto":"none":void 0},e.style),onFocusCapture:Pi(e.onFocusCapture,C.onFocusCapture),onBlurCapture:Pi(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Pi(e.onPointerDownCapture,D.onPointerDownCapture)}))});jE.displayName=jB;var SB="DismissableLayerBranch",TB=_.forwardRef((e,t)=>{const n=_.useContext(wE),s=_.useRef(null),a=Cn(t,s);return _.useEffect(()=>{const o=s.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),i.jsx(Ht.div,oe(z({},e),{ref:a}))});TB.displayName=SB;function EB(e,t=globalThis==null?void 0:globalThis.document){const n=ga(e),s=_.useRef(!1),a=_.useRef(()=>{});return _.useEffect(()=>{const o=d=>{if(d.target&&!s.current){let f=function(){_E(_B,n,h,{discrete:!0})};const h={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=f,t.addEventListener("click",a.current,{once:!0})):f()}else t.removeEventListener("click",a.current);s.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function kB(e,t=globalThis==null?void 0:globalThis.document){const n=ga(e),s=_.useRef(!1);return _.useEffect(()=>{const a=o=>{o.target&&!s.current&&_E(NB,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function PN(){const e=new CustomEvent(Tx);document.dispatchEvent(e)}function _E(e,t,n,{discrete:s}){const a=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?iy(a,o):a.dispatchEvent(o)}function CB(e,t){return _.useReducer((n,s)=>{const a=t[n][s];return a!=null?a:n},e)}var Em=e=>{const{present:t,children:n}=e,s=DB(t),a=typeof n=="function"?n({present:s.isPresent}):_.Children.only(n),o=Cn(s.ref,OB(a));return typeof n=="function"||s.isPresent?_.cloneElement(a,{ref:o}):null};Em.displayName="Presence";function DB(e){const[t,n]=_.useState(),s=_.useRef(null),a=_.useRef(e),o=_.useRef("none"),c=e?"mounted":"unmounted",[d,f]=CB(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const h=dh(s.current);o.current=d==="mounted"?h:"none"},[d]),Cr(()=>{const h=s.current,p=a.current;if(p!==e){const y=o.current,b=dh(h);e?f("MOUNT"):b==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(p&&y!==b?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,f]),Cr(()=>{var h;if(t){let p;const g=(h=t.ownerDocument.defaultView)!=null?h:window,y=j=>{const S=dh(s.current).includes(j.animationName);if(j.target===t&&S&&(f("ANIMATION_END"),!a.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},b=j=>{j.target===t&&(o.current=dh(s.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",y),t.addEventListener("animationend",y),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",y),t.removeEventListener("animationend",y)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:_.useCallback(h=>{s.current=h?getComputedStyle(h):null,n(h)},[])}}function dh(e){return(e==null?void 0:e.animationName)||"none"}function OB(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var _0=0;function AB(){_.useEffect(()=>{var t,n;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:LN()),document.body.insertAdjacentElement("beforeend",(n=e[1])!=null?n:LN()),_0++,()=>{_0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),_0--}},[])}function LN(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var km="Dialog",[NE,cH]=cd(km),[RB,Xr]=NE(km),SE=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:o,modal:c=!0}=e,d=_.useRef(null),f=_.useRef(null),[h,p]=ym({prop:s,defaultProp:a!=null?a:!1,onChange:o,caller:km});return i.jsx(RB,{scope:t,triggerRef:d,contentRef:f,contentId:Es(),titleId:Es(),descriptionId:Es(),open:h,onOpenChange:p,onOpenToggle:_.useCallback(()=>p(g=>!g),[p]),modal:c,children:n})};SE.displayName=km;var TE="DialogTrigger",MB=_.forwardRef((e,t)=>{const c=e,{__scopeDialog:n}=c,s=Ce(c,["__scopeDialog"]),a=Xr(TE,n),o=Cn(t,a.triggerRef);return i.jsx(Ht.button,oe(z({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Qy(a.open)},s),{ref:o,onClick:Pi(e.onClick,a.onOpenToggle)}))});MB.displayName=TE;var Gy="DialogPortal",[PB,EE]=NE(Gy,{forceMount:void 0}),kE=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:a}=e,o=Xr(Gy,t);return i.jsx(PB,{scope:t,forceMount:n,children:_.Children.map(s,c=>i.jsx(Em,{present:n||o.open,children:i.jsx(fd,{asChild:!0,container:a,children:c})}))})};kE.displayName=Gy;var im="DialogOverlay",CE=_.forwardRef((e,t)=>{const n=EE(im,e.__scopeDialog),c=e,{forceMount:s=n.forceMount}=c,a=Ce(c,["forceMount"]),o=Xr(im,e.__scopeDialog);return o.modal?i.jsx(Em,{present:s||o.open,children:i.jsx(zB,oe(z({},a),{ref:t}))}):null});CE.displayName=im;var LB=lc("DialogOverlay.RemoveScroll"),zB=_.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Ce(o,["__scopeDialog"]),a=Xr(im,n);return i.jsx(hd,{as:LB,allowPinchZoom:!0,shards:[a.contentRef],children:i.jsx(Ht.div,oe(z({"data-state":Qy(a.open)},s),{ref:t,style:z({pointerEvents:"auto"},s.style)}))})}),Vo="DialogContent",DE=_.forwardRef((e,t)=>{const n=EE(Vo,e.__scopeDialog),c=e,{forceMount:s=n.forceMount}=c,a=Ce(c,["forceMount"]),o=Xr(Vo,e.__scopeDialog);return i.jsx(Em,{present:s||o.open,children:o.modal?i.jsx(UB,oe(z({},a),{ref:t})):i.jsx(FB,oe(z({},a),{ref:t}))})});DE.displayName=Vo;var UB=_.forwardRef((e,t)=>{const n=Xr(Vo,e.__scopeDialog),s=_.useRef(null),a=Cn(t,n.contentRef,s);return _.useEffect(()=>{const o=s.current;if(o)return bm(o)},[]),i.jsx(OE,oe(z({},e),{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pi(e.onCloseAutoFocus,o=>{var c;o.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Pi(e.onPointerDownOutside,o=>{const c=o.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&o.preventDefault()}),onFocusOutside:Pi(e.onFocusOutside,o=>o.preventDefault())}))}),FB=_.forwardRef((e,t)=>{const n=Xr(Vo,e.__scopeDialog),s=_.useRef(!1),a=_.useRef(!1);return i.jsx(OE,oe(z({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,d;(c=e.onCloseAutoFocus)==null||c.call(e,o),o.defaultPrevented||(s.current||(d=n.triggerRef.current)==null||d.focus(),o.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:o=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=o.target;((h=n.triggerRef.current)==null?void 0:h.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}}))}),OE=_.forwardRef((e,t)=>{const p=e,{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o}=p,c=Ce(p,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),d=Xr(Vo,n),f=_.useRef(null),h=Cn(t,f);return AB(),i.jsxs(i.Fragment,{children:[i.jsx(ud,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:o,children:i.jsx(jE,oe(z({role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Qy(d.open)},c),{ref:h,onDismiss:()=>d.onOpenChange(!1)}))}),i.jsxs(i.Fragment,{children:[i.jsx($B,{titleId:d.titleId}),i.jsx(VB,{contentRef:f,descriptionId:d.descriptionId})]})]})}),Ky="DialogTitle",AE=_.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Ce(o,["__scopeDialog"]),a=Xr(Ky,n);return i.jsx(Ht.h2,oe(z({id:a.titleId},s),{ref:t}))});AE.displayName=Ky;var RE="DialogDescription",ME=_.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Ce(o,["__scopeDialog"]),a=Xr(RE,n);return i.jsx(Ht.p,oe(z({id:a.descriptionId},s),{ref:t}))});ME.displayName=RE;var PE="DialogClose",BB=_.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Ce(o,["__scopeDialog"]),a=Xr(PE,n);return i.jsx(Ht.button,oe(z({type:"button"},s),{ref:t,onClick:Pi(e.onClick,()=>a.onOpenChange(!1))}))});BB.displayName=PE;function Qy(e){return e?"open":"closed"}var LE="DialogTitleWarning",[uH,zE]=ay(LE,{contentName:Vo,titleName:Ky,docsSlug:"dialog"}),$B=({titleId:e})=>{const t=zE(LE),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return _.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},HB="DialogDescriptionWarning",VB=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${zE(HB).contentName}}.`;return _.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},IB=SE,qB=kE,WB=CE,YB=DE,XB=AE,GB=ME;function KB(e){if(typeof document=="undefined")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const UE=se.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),yd=()=>{const e=se.useContext(UE);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};KB(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function QB(){const e=navigator.userAgent;return typeof window!="undefined"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function ZB(){return Zy(/^Mac/)}function JB(){return Zy(/^iPhone/)}function zN(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function e$(){return Zy(/^iPad/)||ZB()&&navigator.maxTouchPoints>1}function FE(){return JB()||e$()}function Zy(e){return typeof window!="undefined"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const t$=24,n$=typeof window!="undefined"?_.useLayoutEffect:_.useEffect;function UN(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const N0=typeof document!="undefined"&&window.visualViewport;function FN(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function BE(e){for(FN(e)&&(e=e.parentElement);e&&!FN(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const s$=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let fh=0,S0;function r$(e={}){let{isDisabled:t}=e;n$(()=>{if(!t)return fh++,fh===1&&FE()&&(S0=a$()),()=>{fh--,fh===0&&(S0==null||S0())}},[t])}function a$(){let e,t=0,n=g=>{e=BE(g.target),!(e===document.documentElement&&e===document.body)&&(t=g.changedTouches[0].pageY)},s=g=>{if(!e||e===document.documentElement||e===document.body){g.preventDefault();return}let y=g.changedTouches[0].pageY,b=e.scrollTop,j=e.scrollHeight-e.clientHeight;j!==0&&((b<=0&&y>t||b>=j&&y<t)&&g.preventDefault(),t=y)},a=g=>{let y=g.target;Ex(y)&&y!==document.activeElement&&(g.preventDefault(),y.style.transform="translateY(-2000px)",y.focus(),requestAnimationFrame(()=>{y.style.transform=""}))},o=g=>{let y=g.target;Ex(y)&&(y.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{y.style.transform="",N0&&(N0.height<window.innerHeight?requestAnimationFrame(()=>{BN(y)}):N0.addEventListener("resize",()=>BN(y),{once:!0}))}))},c=()=>{window.scrollTo(0,0)},d=window.pageXOffset,f=window.pageYOffset,h=UN(i$(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let p=UN(Cu(document,"touchstart",n,{passive:!1,capture:!0}),Cu(document,"touchmove",s,{passive:!1,capture:!0}),Cu(document,"touchend",a,{passive:!1,capture:!0}),Cu(document,"focus",o,!0),Cu(window,"scroll",c));return()=>{h(),p(),window.scrollTo(d,f)}}function i$(e,t,n){let s=e.style[t];return e.style[t]=n,()=>{e.style[t]=s}}function Cu(e,t,n,s){return e.addEventListener(t,n,s),()=>{e.removeEventListener(t,n,s)}}function BN(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=BE(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let s=n.getBoundingClientRect().top,a=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom;const c=n.getBoundingClientRect().bottom+t$;o>c&&(n.scrollTop+=a-s)}e=n.parentElement}}function Ex(e){return e instanceof HTMLInputElement&&!s$.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function o$(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function l$(...e){return t=>e.forEach(n=>o$(n,t))}function $E(...e){return _.useCallback(l$(...e),e)}const HE=new WeakMap;function ns(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let s={};Object.entries(t).forEach(([a,o])=>{if(a.startsWith("--")){e.style.setProperty(a,o);return}s[a]=e.style[a],e.style[a]=o}),!n&&HE.set(e,s)}function c$(e,t){if(!e||!(e instanceof HTMLElement))return;let n=HE.get(e);n&&(e.style[t]=n[t])}const qn=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function hh(e,t){if(!e)return null;const n=window.getComputedStyle(e),s=n.transform||n.webkitTransform||n.mozTransform;let a=s.match(/^matrix3d\((.+)\)$/);return a?parseFloat(a[1].split(", ")[qn(t)?13:12]):(a=s.match(/^matrix\((.+)\)$/),a?parseFloat(a[1].split(", ")[qn(t)?5:4]):null)}function u$(e){return 8*(Math.log(e+1)-2)}function T0(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function d$(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const En={DURATION:.5,EASE:[.32,.72,0,1]},VE=.4,f$=.25,h$=100,IE=8,So=16,kx=26,E0="vaul-dragging";function qE(e){const t=se.useRef(e);return se.useEffect(()=>{t.current=e}),se.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function m$({defaultProp:e,onChange:t}){const n=se.useState(e),[s]=n,a=se.useRef(s),o=qE(t);return se.useEffect(()=>{a.current!==s&&(o(s),a.current=s)},[s,a,o]),n}function WE({prop:e,defaultProp:t,onChange:n=()=>{}}){const[s,a]=m$({defaultProp:t,onChange:n}),o=e!==void 0,c=o?e:s,d=qE(n),f=se.useCallback(h=>{if(o){const g=typeof h=="function"?h(e):h;g!==e&&d(g)}else a(h)},[o,e,a,d]);return[c,f]}function p$({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:s,overlayRef:a,fadeFromIndex:o,onSnapPointChange:c,direction:d="bottom",container:f,snapToSequentialPoint:h}){const[p,g]=WE({prop:e,defaultProp:n==null?void 0:n[0],onChange:t}),[y,b]=se.useState(typeof window!="undefined"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);se.useEffect(()=>{function A(){b({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]);const j=se.useMemo(()=>p===(n==null?void 0:n[n.length-1])||null,[n,p]),v=se.useMemo(()=>{var A;return(A=n==null?void 0:n.findIndex(P=>P===p))!=null?A:null},[n,p]),S=n&&n.length>0&&(o||o===0)&&!Number.isNaN(o)&&n[o]===p||!n,N=se.useMemo(()=>{const A=f?{width:f.getBoundingClientRect().width,height:f.getBoundingClientRect().height}:typeof window!="undefined"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var P;return(P=n==null?void 0:n.map(U=>{const K=typeof U=="string";let $=0;if(K&&($=parseInt(U,10)),qn(d)){const W=K?$:y?U*A.height:0;return y?d==="bottom"?A.height-W:-A.height+W:W}const G=K?$:y?U*A.width:0;return y?d==="right"?A.width-G:-A.width+G:G}))!=null?P:[]},[n,y,f]),R=se.useMemo(()=>v!==null?N==null?void 0:N[v]:null,[N,v]),E=se.useCallback(A=>{var P;const U=(P=N==null?void 0:N.findIndex(K=>K===A))!=null?P:null;c(U),ns(s.current,{transition:`transform ${En.DURATION}s cubic-bezier(${En.EASE.join(",")})`,transform:qn(d)?`translate3d(0, ${A}px, 0)`:`translate3d(${A}px, 0, 0)`}),N&&U!==N.length-1&&o!==void 0&&U!==o&&U<o?ns(a.current,{transition:`opacity ${En.DURATION}s cubic-bezier(${En.EASE.join(",")})`,opacity:"0"}):ns(a.current,{transition:`opacity ${En.DURATION}s cubic-bezier(${En.EASE.join(",")})`,opacity:"1"}),g(n==null?void 0:n[Math.max(U,0)])},[s.current,n,N,o,a,g]);se.useEffect(()=>{if(p||e){var A;const P=(A=n==null?void 0:n.findIndex(U=>U===e||U===p))!=null?A:-1;N&&P!==-1&&typeof N[P]=="number"&&E(N[P])}},[p,e,n,N,E]);function k({draggedDistance:A,closeDrawer:P,velocity:U,dismissible:K}){if(o===void 0)return;const $=d==="bottom"||d==="right"?(R!=null?R:0)-A:(R!=null?R:0)+A,G=v===o-1,W=v===0,ee=A>0;if(G&&ns(a.current,{transition:`opacity ${En.DURATION}s cubic-bezier(${En.EASE.join(",")})`}),!h&&U>2&&!ee){K?P():E(N[0]);return}if(!h&&U>2&&ee&&N&&n){E(N[n.length-1]);return}const Y=N==null?void 0:N.reduce((J,te)=>typeof J!="number"||typeof te!="number"?J:Math.abs(te-$)<Math.abs(J-$)?te:J),H=qn(d)?window.innerHeight:window.innerWidth;if(U>VE&&Math.abs(A)<H*.4){const J=ee?1:-1;if(J>0&&j&&n){E(N[n.length-1]);return}if(W&&J<0&&K&&P(),v===null)return;E(N[v+J]);return}E(Y)}function D({draggedDistance:A}){if(R===null)return;const P=d==="bottom"||d==="right"?R-A:R+A;(d==="bottom"||d==="right")&&P<N[N.length-1]||(d==="top"||d==="left")&&P>N[N.length-1]||ns(s.current,{transform:qn(d)?`translate3d(0, ${P}px, 0)`:`translate3d(${P}px, 0, 0)`})}function C(A,P){if(!n||typeof v!="number"||!N||o===void 0)return null;const U=v===o-1;if(v>=o&&P)return 0;if(U&&!P)return 1;if(!S&&!U)return null;const $=U?v+1:v-1,G=U?N[$]-N[$-1]:N[$+1]-N[$],W=A/Math.abs(G);return U?1-W:W}return{isLastSnapPoint:j,activeSnapPoint:p,shouldFade:S,getPercentageDragged:C,setActiveSnapPoint:g,activeSnapPointIndex:v,onRelease:k,onDrag:D,snapPointsOffset:N}}const g$=()=>()=>{};function x$(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:s,noBodyStyles:a}=yd(),o=se.useRef(null),c=_.useMemo(()=>document.body.style.backgroundColor,[]);function d(){return(window.innerWidth-kx)/window.innerWidth}se.useEffect(()=>{if(t&&n){o.current&&clearTimeout(o.current);const f=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!f)return;d$(s&&!a?T0(document.body,{background:"black"}):g$,T0(f,{transformOrigin:qn(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${En.DURATION}s`,transitionTimingFunction:`cubic-bezier(${En.EASE.join(",")})`}));const h=T0(f,z({borderRadius:`${IE}px`,overflow:"hidden"},qn(e)?{transform:`scale(${d()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${d()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}));return()=>{h(),o.current=window.setTimeout(()=>{c?document.body.style.background=c:document.body.style.removeProperty("background")},En.DURATION*1e3)}}},[t,n,c])}let Du=null;function y$({isOpen:e,modal:t,nested:n,hasBeenOpened:s,preventScrollRestoration:a,noBodyStyles:o}){const[c,d]=se.useState(()=>typeof window!="undefined"?window.location.href:""),f=se.useRef(0),h=se.useCallback(()=>{if(zN()&&Du===null&&e&&!o){Du={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:g,innerHeight:y}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-f.current}px`,left:`${-g}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const b=y-window.innerHeight;b&&f.current>=y&&(document.body.style.top=`${-(f.current+b)}px`)}),300)}},[e]),p=se.useCallback(()=>{if(zN()&&Du!==null&&!o){const g=-parseInt(document.body.style.top,10),y=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Du),window.requestAnimationFrame(()=>{if(a&&c!==window.location.href){d(window.location.href);return}window.scrollTo(y,g)}),Du=null}},[c]);return se.useEffect(()=>{function g(){f.current=window.scrollY}return g(),window.addEventListener("scroll",g),()=>{window.removeEventListener("scroll",g)}},[]),se.useEffect(()=>{if(t)return()=>{typeof document=="undefined"||document.querySelector("[data-vaul-drawer]")||p()}},[t,p]),se.useEffect(()=>{n||!s||(e?(!window.matchMedia("(display-mode: standalone)").matches&&h(),t||window.setTimeout(()=>{p()},500)):p())},[e,s,c,t,n,h,p]),{restorePositionSetting:p}}function b$({open:e,onOpenChange:t,children:n,onDrag:s,onRelease:a,snapPoints:o,shouldScaleBackground:c=!1,setBackgroundColorOnScale:d=!0,closeThreshold:f=f$,scrollLockTimeout:h=h$,dismissible:p=!0,handleOnly:g=!1,fadeFromIndex:y=o&&o.length-1,activeSnapPoint:b,setActiveSnapPoint:j,fixed:v,modal:S=!0,onClose:N,nested:R,noBodyStyles:E=!1,direction:k="bottom",defaultOpen:D=!1,disablePreventScroll:C=!0,snapToSequentialPoint:A=!1,preventScrollRestoration:P=!1,repositionInputs:U=!0,onAnimationEnd:K,container:$,autoFocus:G=!1}){var W,ee;const[Y=!1,H]=WE({defaultProp:D,prop:e,onChange:Ye=>{t==null||t(Ye),!Ye&&!R&&qe(),setTimeout(()=>{K==null||K(Ye)},En.DURATION*1e3),Ye&&!S&&typeof window!="undefined"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),Ye||(document.body.style.pointerEvents="auto")}}),[J,te]=se.useState(!1),[ce,L]=se.useState(!1),[le,re]=se.useState(!1),V=se.useRef(null),ne=se.useRef(null),xe=se.useRef(null),me=se.useRef(null),Ee=se.useRef(null),De=se.useRef(!1),He=se.useRef(null),Pe=se.useRef(0),rt=se.useRef(!1),Ge=se.useRef(!D),pt=se.useRef(0),ze=se.useRef(null),Nt=se.useRef(((W=ze.current)==null?void 0:W.getBoundingClientRect().height)||0),at=se.useRef(((ee=ze.current)==null?void 0:ee.getBoundingClientRect().width)||0),Me=se.useRef(0),st=se.useCallback(Ye=>{o&&Ye===Ne.length-1&&(ne.current=new Date)},[]),{activeSnapPoint:ht,activeSnapPointIndex:X,setActiveSnapPoint:fe,onRelease:q,snapPointsOffset:Ne,onDrag:Re,shouldFade:Ae,getPercentageDragged:Be}=p$({snapPoints:o,activeSnapPointProp:b,setActiveSnapPointProp:j,drawerRef:ze,fadeFromIndex:y,overlayRef:V,onSnapPointChange:st,direction:k,container:$,snapToSequentialPoint:A});r$({isDisabled:!Y||ce||!S||le||!J||!U||!C});const{restorePositionSetting:qe}=y$({isOpen:Y,modal:S,nested:R!=null?R:!1,hasBeenOpened:J,preventScrollRestoration:P,noBodyStyles:E});function et(){return(window.innerWidth-kx)/window.innerWidth}function wt(Ye){var Rt,Ut;!p&&!o||ze.current&&!ze.current.contains(Ye.target)||(Nt.current=((Rt=ze.current)==null?void 0:Rt.getBoundingClientRect().height)||0,at.current=((Ut=ze.current)==null?void 0:Ut.getBoundingClientRect().width)||0,L(!0),xe.current=new Date,FE()&&window.addEventListener("touchend",()=>De.current=!1,{once:!0}),Ye.target.setPointerCapture(Ye.pointerId),Pe.current=qn(k)?Ye.pageY:Ye.pageX)}function Nn(Ye,Rt){var Ut;let St=Ye;const Qt=(Ut=window.getSelection())==null?void 0:Ut.toString(),Xe=ze.current?hh(ze.current,k):null,jt=new Date;if(St.tagName==="SELECT"||St.hasAttribute("data-vaul-no-drag")||St.closest("[data-vaul-no-drag]"))return!1;if(k==="right"||k==="left")return!0;if(ne.current&&jt.getTime()-ne.current.getTime()<500)return!1;if(Xe!==null&&(k==="bottom"?Xe>0:Xe<0))return!0;if(Qt&&Qt.length>0)return!1;if(Ee.current&&jt.getTime()-Ee.current.getTime()<h&&Xe===0||Rt)return Ee.current=jt,!1;for(;St;){if(St.scrollHeight>St.clientHeight){if(St.scrollTop!==0)return Ee.current=new Date,!1;if(St.getAttribute("role")==="dialog")return!0}St=St.parentNode}return!0}function Jt(Ye){if(ze.current&&ce){const Rt=k==="bottom"||k==="right"?1:-1,Ut=(Pe.current-(qn(k)?Ye.pageY:Ye.pageX))*Rt,St=Ut>0,Qt=o&&!p&&!St;if(Qt&&X===0)return;const Xe=Math.abs(Ut),jt=document.querySelector("[data-vaul-drawer-wrapper]"),Vt=k==="bottom"||k==="top"?Nt.current:at.current;let Wt=Xe/Vt;const Z=Be(Xe,St);if(Z!==null&&(Wt=Z),Qt&&Wt>=1||!De.current&&!Nn(Ye.target,St))return;if(ze.current.classList.add(E0),De.current=!0,ns(ze.current,{transition:"none"}),ns(V.current,{transition:"none"}),o&&Re({draggedDistance:Ut}),St&&!o){const pe=u$(Ut),_e=Math.min(pe*-1,0)*Rt;ns(ze.current,{transform:qn(k)?`translate3d(0, ${_e}px, 0)`:`translate3d(${_e}px, 0, 0)`});return}const ie=1-Wt;if((Ae||y&&X===y-1)&&(s==null||s(Ye,Wt),ns(V.current,{opacity:`${ie}`,transition:"none"},!0)),jt&&V.current&&c){const pe=Math.min(et()+Wt*(1-et()),1),_e=8-Wt*8,Oe=Math.max(0,14-Wt*14);ns(jt,{borderRadius:`${_e}px`,transform:qn(k)?`scale(${pe}) translate3d(0, ${Oe}px, 0)`:`scale(${pe}) translate3d(${Oe}px, 0, 0)`,transition:"none"},!0)}if(!o){const pe=Xe*Rt;ns(ze.current,{transform:qn(k)?`translate3d(0, ${pe}px, 0)`:`translate3d(${pe}px, 0, 0)`})}}}se.useEffect(()=>{window.requestAnimationFrame(()=>{Ge.current=!0})},[]),se.useEffect(()=>{var Ye;function Rt(){if(!ze.current||!U)return;const Ut=document.activeElement;if(Ex(Ut)||rt.current){var St;const Qt=((St=window.visualViewport)==null?void 0:St.height)||0,Xe=window.innerHeight;let jt=Xe-Qt;const Vt=ze.current.getBoundingClientRect().height||0,Wt=Vt>Xe*.8;Me.current||(Me.current=Vt);const Z=ze.current.getBoundingClientRect().top;if(Math.abs(pt.current-jt)>60&&(rt.current=!rt.current),o&&o.length>0&&Ne&&X){const ie=Ne[X]||0;jt+=ie}if(pt.current=jt,Vt>Qt||rt.current){const ie=ze.current.getBoundingClientRect().height;let pe=ie;ie>Qt&&(pe=Qt-(Wt?Z:kx)),v?ze.current.style.height=`${ie-Math.max(jt,0)}px`:ze.current.style.height=`${Math.max(pe,Qt-Z)}px`}else QB()||(ze.current.style.height=`${Me.current}px`);o&&o.length>0&&!rt.current?ze.current.style.bottom="0px":ze.current.style.bottom=`${Math.max(jt,0)}px`}}return(Ye=window.visualViewport)==null||Ye.addEventListener("resize",Rt),()=>{var Ut;return(Ut=window.visualViewport)==null?void 0:Ut.removeEventListener("resize",Rt)}},[X,o,Ne]);function dn(Ye){Xn(),N==null||N(),Ye||H(!1),setTimeout(()=>{o&&fe(o[0])},En.DURATION*1e3)}function vn(){if(!ze.current)return;const Ye=document.querySelector("[data-vaul-drawer-wrapper]"),Rt=hh(ze.current,k);ns(ze.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${En.DURATION}s cubic-bezier(${En.EASE.join(",")})`}),ns(V.current,{transition:`opacity ${En.DURATION}s cubic-bezier(${En.EASE.join(",")})`,opacity:"1"}),c&&Rt&&Rt>0&&Y&&ns(Ye,oe(z({borderRadius:`${IE}px`,overflow:"hidden"},qn(k)?{transform:`scale(${et()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${et()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"}),{transitionProperty:"transform, border-radius",transitionDuration:`${En.DURATION}s`,transitionTimingFunction:`cubic-bezier(${En.EASE.join(",")})`}),!0)}function Xn(){!ce||!ze.current||(ze.current.classList.remove(E0),De.current=!1,L(!1),me.current=new Date)}function Gn(Ye){if(!ce||!ze.current)return;ze.current.classList.remove(E0),De.current=!1,L(!1),me.current=new Date;const Rt=hh(ze.current,k);if(!Ye||!Nn(Ye.target,!1)||!Rt||Number.isNaN(Rt)||xe.current===null)return;const Ut=me.current.getTime()-xe.current.getTime(),St=Pe.current-(qn(k)?Ye.pageY:Ye.pageX),Qt=Math.abs(St)/Ut;if(Qt>.05&&(re(!0),setTimeout(()=>{re(!1)},200)),o){q({draggedDistance:St*(k==="bottom"||k==="right"?1:-1),closeDrawer:dn,velocity:Qt,dismissible:p}),a==null||a(Ye,!0);return}if(k==="bottom"||k==="right"?St>0:St<0){vn(),a==null||a(Ye,!0);return}if(Qt>VE){dn(),a==null||a(Ye,!1);return}var Xe;const jt=Math.min((Xe=ze.current.getBoundingClientRect().height)!=null?Xe:0,window.innerHeight);var Vt;const Wt=Math.min((Vt=ze.current.getBoundingClientRect().width)!=null?Vt:0,window.innerWidth),Z=k==="left"||k==="right";if(Math.abs(Rt)>=(Z?Wt:jt)*f){dn(),a==null||a(Ye,!1);return}a==null||a(Ye,!0),vn()}se.useEffect(()=>(Y&&(ns(document.documentElement,{scrollBehavior:"auto"}),ne.current=new Date),()=>{c$(document.documentElement,"scrollBehavior")}),[Y]);function cs(Ye){const Rt=Ye?(window.innerWidth-So)/window.innerWidth:1,Ut=Ye?-So:0;He.current&&window.clearTimeout(He.current),ns(ze.current,{transition:`transform ${En.DURATION}s cubic-bezier(${En.EASE.join(",")})`,transform:qn(k)?`scale(${Rt}) translate3d(0, ${Ut}px, 0)`:`scale(${Rt}) translate3d(${Ut}px, 0, 0)`}),!Ye&&ze.current&&(He.current=setTimeout(()=>{const St=hh(ze.current,k);ns(ze.current,{transition:"none",transform:qn(k)?`translate3d(0, ${St}px, 0)`:`translate3d(${St}px, 0, 0)`})},500))}function Kn(Ye,Rt){if(Rt<0)return;const Ut=(window.innerWidth-So)/window.innerWidth,St=Ut+Rt*(1-Ut),Qt=-So+Rt*So;ns(ze.current,{transform:qn(k)?`scale(${St}) translate3d(0, ${Qt}px, 0)`:`scale(${St}) translate3d(${Qt}px, 0, 0)`,transition:"none"})}function ks(Ye,Rt){const Ut=qn(k)?window.innerHeight:window.innerWidth,St=Rt?(Ut-So)/Ut:1,Qt=Rt?-So:0;Rt&&ns(ze.current,{transition:`transform ${En.DURATION}s cubic-bezier(${En.EASE.join(",")})`,transform:qn(k)?`scale(${St}) translate3d(0, ${Qt}px, 0)`:`scale(${St}) translate3d(${Qt}px, 0, 0)`})}return se.useEffect(()=>{S||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[S]),se.createElement(IB,{defaultOpen:D,onOpenChange:Ye=>{!p&&!Ye||(Ye?te(!0):dn(!0),H(Ye))},open:Y},se.createElement(UE.Provider,{value:{activeSnapPoint:ht,snapPoints:o,setActiveSnapPoint:fe,drawerRef:ze,overlayRef:V,onOpenChange:t,onPress:wt,onRelease:Gn,onDrag:Jt,dismissible:p,shouldAnimate:Ge,handleOnly:g,isOpen:Y,isDragging:ce,shouldFade:Ae,closeDrawer:dn,onNestedDrag:Kn,onNestedOpenChange:cs,onNestedRelease:ks,keyboardIsOpen:rt,modal:S,snapPointsOffset:Ne,activeSnapPointIndex:X,direction:k,shouldScaleBackground:c,setBackgroundColorOnScale:d,noBodyStyles:E,container:$,autoFocus:G}},n))}const YE=se.forwardRef(function(n,t){var e=Ce(n,[]);const{overlayRef:s,snapPoints:a,onRelease:o,shouldFade:c,isOpen:d,modal:f,shouldAnimate:h}=yd(),p=$E(t,s),g=a&&a.length>0;if(!f)return null;const y=se.useCallback(b=>o(b),[o]);return se.createElement(WB,z({onMouseUp:y,ref:p,"data-vaul-overlay":"","data-vaul-snap-points":d&&g?"true":"false","data-vaul-snap-points-overlay":d&&c?"true":"false","data-vaul-animate":h!=null&&h.current?"true":"false"},e))});YE.displayName="Drawer.Overlay";const XE=se.forwardRef(function(o,a){var c=o,{onPointerDownOutside:e,style:t,onOpenAutoFocus:n}=c,s=Ce(c,["onPointerDownOutside","style","onOpenAutoFocus"]);const{drawerRef:d,onPress:f,onRelease:h,onDrag:p,keyboardIsOpen:g,snapPointsOffset:y,activeSnapPointIndex:b,modal:j,isOpen:v,direction:S,snapPoints:N,container:R,handleOnly:E,shouldAnimate:k,autoFocus:D}=yd(),[C,A]=se.useState(!1),P=$E(a,d),U=se.useRef(null),K=se.useRef(null),$=se.useRef(!1),G=N&&N.length>0;x$();const W=(Y,H,J=0)=>{if($.current)return!0;const te=Math.abs(Y.y),ce=Math.abs(Y.x),L=ce>te,le=["bottom","right"].includes(H)?1:-1;if(H==="left"||H==="right"){if(!(Y.x*le<0)&&ce>=0&&ce<=J)return L}else if(!(Y.y*le<0)&&te>=0&&te<=J)return!L;return $.current=!0,!0};se.useEffect(()=>{G&&window.requestAnimationFrame(()=>{A(!0)})},[]);function ee(Y){U.current=null,$.current=!1,h(Y)}return se.createElement(YB,oe(z({"data-vaul-drawer-direction":S,"data-vaul-drawer":"","data-vaul-delayed-snap-points":C?"true":"false","data-vaul-snap-points":v&&G?"true":"false","data-vaul-custom-container":R?"true":"false","data-vaul-animate":k!=null&&k.current?"true":"false"},s),{ref:P,style:y&&y.length>0?z({"--snap-point-height":`${y[b!=null?b:0]}px`},t):t,onPointerDown:Y=>{E||(s.onPointerDown==null||s.onPointerDown.call(s,Y),U.current={x:Y.pageX,y:Y.pageY},f(Y))},onOpenAutoFocus:Y=>{n==null||n(Y),D||Y.preventDefault()},onPointerDownOutside:Y=>{if(e==null||e(Y),!j||Y.defaultPrevented){Y.preventDefault();return}g.current&&(g.current=!1)},onFocusOutside:Y=>{if(!j){Y.preventDefault();return}},onPointerMove:Y=>{if(K.current=Y,E||(s.onPointerMove==null||s.onPointerMove.call(s,Y),!U.current))return;const H=Y.pageY-U.current.y,J=Y.pageX-U.current.x,te=Y.pointerType==="touch"?10:2;W({x:J,y:H},S,te)?p(Y):(Math.abs(J)>te||Math.abs(H)>te)&&(U.current=null)},onPointerUp:Y=>{s.onPointerUp==null||s.onPointerUp.call(s,Y),U.current=null,$.current=!1,h(Y)},onPointerOut:Y=>{s.onPointerOut==null||s.onPointerOut.call(s,Y),ee(K.current)},onContextMenu:Y=>{s.onContextMenu==null||s.onContextMenu.call(s,Y),K.current&&ee(K.current)}}))});XE.displayName="Drawer.Content";const v$=250,w$=120,j$=se.forwardRef(function(a,s){var o=a,{preventCycle:e=!1,children:t}=o,n=Ce(o,["preventCycle","children"]);const{closeDrawer:c,isDragging:d,snapPoints:f,activeSnapPoint:h,setActiveSnapPoint:p,dismissible:g,handleOnly:y,isOpen:b,onPress:j,onDrag:v}=yd(),S=se.useRef(null),N=se.useRef(!1);function R(){if(N.current){D();return}window.setTimeout(()=>{E()},w$)}function E(){if(d||e||N.current){D();return}if(D(),!f||f.length===0){g||c();return}if(h===f[f.length-1]&&g){c();return}const A=f.findIndex(U=>U===h);if(A===-1)return;const P=f[A+1];p(P)}function k(){S.current=window.setTimeout(()=>{N.current=!0},v$)}function D(){S.current&&window.clearTimeout(S.current),N.current=!1}return se.createElement("div",z({onClick:R,onPointerCancel:D,onPointerDown:C=>{y&&j(C),k()},onPointerMove:C=>{y&&v(C)},ref:s,"data-vaul-drawer-visible":b?"true":"false","data-vaul-handle":"","aria-hidden":"true"},n),se.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});j$.displayName="Drawer.Handle";function _$(e){const t=yd(),a=e,{container:n=t.container}=a,s=Ce(a,["container"]);return se.createElement(qB,z({container:n},s))}const xc={Root:b$,Content:XE,Overlay:YE,Portal:_$,Title:XB,Description:GB};function N$(t){var e=Ce(t,[]);return i.jsx(xc.Root,z({"data-slot":"drawer"},e))}function S$(t){var e=Ce(t,[]);return i.jsx(xc.Portal,z({"data-slot":"drawer-portal"},e))}function T$(n){var s=n,{className:e}=s,t=Ce(s,["className"]);return i.jsx(xc.Overlay,z({"data-slot":"drawer-overlay",className:_n("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e)},t))}function E$(s){var a=s,{className:e,children:t}=a,n=Ce(a,["className","children"]);return i.jsxs(S$,{"data-slot":"drawer-portal",children:[i.jsx(T$,{}),i.jsxs(xc.Content,oe(z({"data-slot":"drawer-content",className:_n("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-2/3 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",e)},n),{children:[i.jsx("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),t]}))]})}function k$(n){var s=n,{className:e}=s,t=Ce(s,["className"]);return i.jsx("div",z({"data-slot":"drawer-header",className:_n("flex flex-col gap-0.5 p-4 group-data-[vaul-drawer-direction=bottom]/drawer-content:text-center group-data-[vaul-drawer-direction=top]/drawer-content:text-center md:gap-1.5 md:text-left",e)},t))}function C$(n){var s=n,{className:e}=s,t=Ce(s,["className"]);return i.jsx("div",z({"data-slot":"drawer-footer",className:_n("mt-auto flex flex-col gap-2 p-4",e)},t))}function D$(n){var s=n,{className:e}=s,t=Ce(s,["className"]);return i.jsx(xc.Title,z({"data-slot":"drawer-title",className:_n("text-foreground font-semibold",e)},t))}function O$(n){var s=n,{className:e}=s,t=Ce(s,["className"]);return i.jsx(xc.Description,z({"data-slot":"drawer-description",className:_n("text-muted-foreground text-sm",e)},t))}var Cm="Dialog",[GE,dH]=cd(Cm),[A$,Gr]=GE(Cm),KE=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:o,modal:c=!0}=e,d=_.useRef(null),f=_.useRef(null),[h,p]=ym({prop:s,defaultProp:a!=null?a:!1,onChange:o,caller:Cm});return i.jsx(A$,{scope:t,triggerRef:d,contentRef:f,contentId:Es(),titleId:Es(),descriptionId:Es(),open:h,onOpenChange:p,onOpenToggle:_.useCallback(()=>p(g=>!g),[p]),modal:c,children:n})};KE.displayName=Cm;var QE="DialogTrigger",ZE=_.forwardRef((e,t)=>{const c=e,{__scopeDialog:n}=c,s=Ce(c,["__scopeDialog"]),a=Gr(QE,n),o=Cn(t,a.triggerRef);return i.jsx(Ht.button,oe(z({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":tb(a.open)},s),{ref:o,onClick:ar(e.onClick,a.onOpenToggle)}))});ZE.displayName=QE;var Jy="DialogPortal",[R$,JE]=GE(Jy,{forceMount:void 0}),ek=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:a}=e,o=Gr(Jy,t);return i.jsx(R$,{scope:t,forceMount:n,children:_.Children.map(s,c=>i.jsx(dc,{present:n||o.open,children:i.jsx(fd,{asChild:!0,container:a,children:c})}))})};ek.displayName=Jy;var om="DialogOverlay",tk=_.forwardRef((e,t)=>{const n=JE(om,e.__scopeDialog),c=e,{forceMount:s=n.forceMount}=c,a=Ce(c,["forceMount"]),o=Gr(om,e.__scopeDialog);return o.modal?i.jsx(dc,{present:s||o.open,children:i.jsx(P$,oe(z({},a),{ref:t}))}):null});tk.displayName=om;var M$=lc("DialogOverlay.RemoveScroll"),P$=_.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Ce(o,["__scopeDialog"]),a=Gr(om,n);return i.jsx(hd,{as:M$,allowPinchZoom:!0,shards:[a.contentRef],children:i.jsx(Ht.div,oe(z({"data-state":tb(a.open)},s),{ref:t,style:z({pointerEvents:"auto"},s.style)}))})}),Io="DialogContent",nk=_.forwardRef((e,t)=>{const n=JE(Io,e.__scopeDialog),c=e,{forceMount:s=n.forceMount}=c,a=Ce(c,["forceMount"]),o=Gr(Io,e.__scopeDialog);return i.jsx(dc,{present:s||o.open,children:o.modal?i.jsx(L$,oe(z({},a),{ref:t})):i.jsx(z$,oe(z({},a),{ref:t}))})});nk.displayName=Io;var L$=_.forwardRef((e,t)=>{const n=Gr(Io,e.__scopeDialog),s=_.useRef(null),a=Cn(t,n.contentRef,s);return _.useEffect(()=>{const o=s.current;if(o)return bm(o)},[]),i.jsx(sk,oe(z({},e),{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ar(e.onCloseAutoFocus,o=>{var c;o.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:ar(e.onPointerDownOutside,o=>{const c=o.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&o.preventDefault()}),onFocusOutside:ar(e.onFocusOutside,o=>o.preventDefault())}))}),z$=_.forwardRef((e,t)=>{const n=Gr(Io,e.__scopeDialog),s=_.useRef(!1),a=_.useRef(!1);return i.jsx(sk,oe(z({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,d;(c=e.onCloseAutoFocus)==null||c.call(e,o),o.defaultPrevented||(s.current||(d=n.triggerRef.current)==null||d.focus(),o.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:o=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=o.target;((h=n.triggerRef.current)==null?void 0:h.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}}))}),sk=_.forwardRef((e,t)=>{const p=e,{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o}=p,c=Ce(p,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),d=Gr(Io,n),f=_.useRef(null),h=Cn(t,f);return lS(),i.jsxs(i.Fragment,{children:[i.jsx(ud,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:o,children:i.jsx(ly,oe(z({role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":tb(d.open)},c),{ref:h,onDismiss:()=>d.onOpenChange(!1)}))}),i.jsxs(i.Fragment,{children:[i.jsx(U$,{titleId:d.titleId}),i.jsx(B$,{contentRef:f,descriptionId:d.descriptionId})]})]})}),eb="DialogTitle",rk=_.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Ce(o,["__scopeDialog"]),a=Gr(eb,n);return i.jsx(Ht.h2,oe(z({id:a.titleId},s),{ref:t}))});rk.displayName=eb;var ak="DialogDescription",ik=_.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Ce(o,["__scopeDialog"]),a=Gr(ak,n);return i.jsx(Ht.p,oe(z({id:a.descriptionId},s),{ref:t}))});ik.displayName=ak;var ok="DialogClose",lk=_.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Ce(o,["__scopeDialog"]),a=Gr(ok,n);return i.jsx(Ht.button,oe(z({type:"button"},s),{ref:t,onClick:ar(e.onClick,()=>a.onOpenChange(!1))}))});lk.displayName=ok;function tb(e){return e?"open":"closed"}var ck="DialogTitleWarning",[fH,uk]=ay(ck,{contentName:Io,titleName:eb,docsSlug:"dialog"}),U$=({titleId:e})=>{const t=uk(ck),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return _.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},F$="DialogDescriptionWarning",B$=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${uk(F$).contentName}}.`;return _.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},$$=KE,H$=ZE,V$=ek,I$=tk,q$=nk,W$=rk,Y$=ik,dk=lk;function gs(t){var e=Ce(t,[]);return i.jsx($$,z({"data-slot":"dialog"},e))}function X$(t){var e=Ce(t,[]);return i.jsx(H$,z({"data-slot":"dialog-trigger"},e))}function G$(t){var e=Ce(t,[]);return i.jsx(V$,z({"data-slot":"dialog-portal"},e))}function K$(t){var e=Ce(t,[]);return i.jsx(dk,z({"data-slot":"dialog-close"},e))}function Q$(n){var s=n,{className:e}=s,t=Ce(s,["className"]);return i.jsx(I$,z({"data-slot":"dialog-overlay",className:_n("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-[9998] bg-black/50",e)},t))}function xs(a){var o=a,{className:e,children:t,showCloseButton:n=!0}=o,s=Ce(o,["className","children","showCloseButton"]);return i.jsxs(G$,{"data-slot":"dialog-portal",children:[i.jsx(Q$,{}),i.jsxs(q$,oe(z({"data-slot":"dialog-content",className:_n("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-[9999] grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e)},s),{children:[t,n&&i.jsxs(dk,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[i.jsx(p4,{}),i.jsx("span",{className:"sr-only",children:"Close"})]})]}))]})}function ys(n){var s=n,{className:e}=s,t=Ce(s,["className"]);return i.jsx("div",z({"data-slot":"dialog-header",className:_n("flex flex-col gap-2 text-center sm:text-left",e)},t))}function As(n){var s=n,{className:e}=s,t=Ce(s,["className"]);return i.jsx("div",z({"data-slot":"dialog-footer",className:_n("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e)},t))}function bs(n){var s=n,{className:e}=s,t=Ce(s,["className"]);return i.jsx(W$,z({"data-slot":"dialog-title",className:_n("text-lg leading-none font-semibold",e)},t))}function bd(n){var s=n,{className:e}=s,t=Ce(s,["className"]);return i.jsx(Y$,z({"data-slot":"dialog-description",className:_n("text-muted-foreground text-sm",e)},t))}function zt(s){var a=s,{className:e,type:t}=a,n=Ce(a,["className","type"]);return i.jsx("input",z({type:t,"data-slot":"input",className:_n("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e)},n))}var Z$="Label",fk=_.forwardRef((e,t)=>i.jsx(Ht.label,oe(z({},e),{ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}})));fk.displayName=Z$;var J$=fk;function Le(n){var s=n,{className:e}=s,t=Ce(s,["className"]);return i.jsx(J$,z({"data-slot":"label",className:_n("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e)},t))}function Dm({doctype:e,docname:t,title:n="File Attachments",allowUpload:s=!0,allowDelete:a=!0,className:o=""}){const[c,d]=_.useState(!1),[f,h]=_.useState(!1),[p,g]=_.useState(null),[y,b]=_.useState(!1),[j,v]=_.useState(""),[S,N]=_.useState(""),[R,E]=_.useState(!1),k=_.useRef(null),{currentUser:D}=or(),{data:C,mutate:A,isLoading:P}=Ot("File",{fields:["name","file_name","file_url","file_size","is_private","attached_to_doctype","attached_to_name","creation","owner","modified"],filters:[["attached_to_doctype","=",e],["attached_to_name","=",t]],orderBy:{field:"creation",order:"desc"},limit:0}),{call:U}=ms("frappe.client.delete"),K=L=>{var re;if(te(L))return i.jsx(Ff,{className:"h-6 w-6 text-blue-500"});switch((re=L.file_name.split(".").pop())==null?void 0:re.toLowerCase()){case"pdf":return i.jsx(Tr,{className:"h-6 w-6 text-red-500"});case"doc":case"docx":return i.jsx(Tr,{className:"h-6 w-6 text-blue-500"});case"xls":case"xlsx":return i.jsx(Tr,{className:"h-6 w-6 text-green-500"});case"ppt":case"pptx":return i.jsx(Tr,{className:"h-6 w-6 text-orange-500"});case"jpg":case"jpeg":case"png":case"gif":case"webp":return i.jsx(S3,{className:"h-6 w-6 text-purple-500"});case"zip":case"rar":case"7z":return i.jsx(IM,{className:"h-6 w-6 text-gray-500"});default:return i.jsx(Uf,{className:"h-6 w-6 text-gray-500"})}},$=L=>{if(L===0)return"0 Bytes";const le=1024,re=["Bytes","KB","MB","GB"],V=Math.floor(Math.log(L)/Math.log(le));return parseFloat((L/Math.pow(le,V)).toFixed(2))+" "+re[V]},G=L=>ve(null,null,function*(){var xe;if(!L||L.length===0)return;const le=25*1024*1024,re=Array.from(L).filter(me=>me.size>le);if(re.length>0){const me=re.map(Ee=>Ee.name).join(", ");setTimeout(()=>{wr.error(`File(s) too large: ${me}. Maximum size is 25MB per file.`)},100);return}d(!0);let V=0,ne=0;try{for(let me=0;me<L.length;me++){const Ee=L[me],De=new FormData;De.append("file",Ee),De.append("doctype",e),De.append("docname",t),De.append("is_private","0");try{const He=yield fetch("/api/method/upload_file",{method:"POST",body:De,credentials:"include"});if(!He.ok){const rt=yield He.text();throw rt.includes("too large")||rt.includes("size")||He.status===413?new Error(`File "${Ee.name}" is too large. Maximum size is 25MB.`):new Error(`Upload failed for "${Ee.name}": ${He.statusText}`)}let Pe;try{Pe=yield He.json()}catch(rt){console.log("Response is not JSON, assuming success")}if((xe=Pe==null?void 0:Pe.message)!=null&&xe.error)throw new Error(`Upload failed for "${Ee.name}": ${Pe.message.error}`);V++}catch(He){console.error(`Error uploading file ${Ee.name}:`,He);const Pe=He instanceof Error?He.message:String(He);(Pe.includes("too large")||Pe.includes("25MB"))&&Ee.size>le&&setTimeout(()=>{wr.error(Pe)},100),ne++}}setTimeout(()=>ve(null,null,function*(){yield A()}),500)}catch(me){}finally{d(!1)}}),W=L=>ve(null,null,function*(){if(confirm(`Are you sure you want to delete "${L.file_name}"?`))try{yield U({doctype:"File",name:L.name}),yield A()}catch(le){console.error("Error deleting file:",le),wr.error("Failed to delete file")}}),ee=()=>ve(null,null,function*(){if(!j.trim()){wr.error("Please enter a URL");return}try{new URL(j)}catch(L){wr.error("Please enter a valid URL");return}E(!0);try{if(!(yield fetch("/api/method/frappe.client.insert",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({doc:{doctype:"File",file_name:S.trim()||j,file_url:j,attached_to_doctype:e,attached_to_name:t,is_private:0}}),credentials:"include"})).ok)throw new Error("Failed to attach link");v(""),N(""),b(!1),yield A(),wr.success("Link attached successfully")}catch(L){console.error("Error attaching link:",L),wr.error("Failed to attach link")}finally{E(!1)}}),Y=L=>ve(null,null,function*(){const le=L.target.files;le&&le.length>0&&(yield G(le)),L.target.value=""}),H=L=>{g(L),h(!0)},J=L=>{var re;const le=(re=L.split(".").pop())==null?void 0:re.toLowerCase();return["jpg","jpeg","png","gif","webp","svg"].includes(le||"")},te=L=>{const le=L.file_url.startsWith("http://")||L.file_url.startsWith("https://"),re=L.file_size===0,V=L.file_name.startsWith("http://")||L.file_name.startsWith("https://"),ne=!L.file_name.includes(".")||L.file_name.split(".").length<2;return le&&(re||V||ne)},ce=L=>a&&(L.owner===D||D==="Administrator");return i.jsxs("div",{className:`bg-white border border-gray-200 rounded-xl p-6 ${o}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("h3",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[i.jsx(Uf,{className:"h-5 w-5"}),n,C&&i.jsx("span",{className:"inline-flex px-2 py-1 text-sm font-medium bg-blue-100 text-blue-800 rounded-full",children:C.length})]}),s&&i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(Ie,{size:"sm",onClick:()=>{var L;return(L=k.current)==null?void 0:L.click()},disabled:c,className:"bg-blue-600 hover:bg-blue-700",children:[i.jsx(Z0,{className:"h-4 w-4 mr-1"}),c?"Uploading...":"Upload Files"]}),i.jsxs(Ie,{size:"sm",variant:"outline",onClick:()=>b(!0),disabled:c||R,className:"border-blue-600 text-blue-600 hover:bg-blue-50",children:[i.jsx(Ff,{className:"h-4 w-4 mr-1"}),"Attach Link"]}),i.jsx("input",{ref:k,type:"file",multiple:!0,accept:"*/*",onChange:Y,className:"hidden",style:{display:"none"}})]})]}),P&&i.jsxs("div",{className:"flex items-center justify-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),i.jsx("span",{className:"ml-3 text-gray-600",children:"Loading attachments..."})]}),!P&&i.jsx(i.Fragment,{children:C&&C.length>0?i.jsx("div",{className:"space-y-3",children:C.map(L=>i.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors",children:[i.jsx("div",{className:"flex-shrink-0",children:K(L)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:L.file_name}),i.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[i.jsx("p",{className:"text-xs text-gray-500",children:$(L.file_size)}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Uploaded by ",L.owner]}),i.jsx("p",{className:"text-xs text-gray-500",children:new Date(L.creation).toLocaleDateString()}),L.is_private===1&&i.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded",children:"Private"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[J(L.file_name)&&!te(L)&&i.jsxs(Ie,{size:"sm",variant:"outline",onClick:()=>H(L),className:"text-xs",children:[i.jsx(ny,{className:"h-3 w-3 mr-1"}),"Preview"]}),i.jsx(Ie,{size:"sm",variant:"outline",onClick:()=>window.open(L.file_url,"_blank"),className:"text-xs",children:te(L)?i.jsxs(i.Fragment,{children:[i.jsx(p3,{className:"h-3 w-3 mr-1"}),"Open Link"]}):i.jsxs(i.Fragment,{children:[i.jsx(tc,{className:"h-3 w-3 mr-1"}),"Download"]})}),ce(L)&&i.jsxs(Ie,{size:"sm",variant:"outline",onClick:()=>W(L),className:"text-xs text-red-600 hover:text-red-700",children:[i.jsx(Fi,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]},L.name))}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Uf,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"No files attached"}),i.jsx("p",{className:"text-gray-500 text-sm mt-2",children:s?"Upload files to attach them to this project":"No files have been attached to this project"})]})}),i.jsx(gs,{open:y,onOpenChange:b,children:i.jsxs(xs,{className:"max-w-md",children:[i.jsx(ys,{children:i.jsxs(bs,{className:"flex items-center gap-2",children:[i.jsx(Ff,{className:"h-5 w-5"}),"Attach Link"]})}),i.jsxs("div",{className:"space-y-4 pt-4",children:[i.jsxs("div",{children:[i.jsx(Le,{htmlFor:"link-url",className:"text-sm font-medium",children:"URL *"}),i.jsx(zt,{id:"link-url",type:"url",placeholder:"https://example.com",value:j,onChange:L=>v(L.target.value),className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx(Le,{htmlFor:"link-title",className:"text-sm font-medium",children:"Title (optional)"}),i.jsx(zt,{id:"link-title",type:"text",placeholder:"Enter a descriptive title",value:S,onChange:L=>N(L.target.value),className:"mt-1"})]}),i.jsxs("div",{className:"flex gap-2 pt-4",children:[i.jsx(Ie,{onClick:ee,disabled:!j.trim()||R,className:"flex-1",children:R?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Attaching..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ff,{className:"h-4 w-4 mr-2"}),"Attach Link"]})}),i.jsx(Ie,{variant:"outline",onClick:()=>{b(!1),v(""),N("")},disabled:R,children:"Cancel"})]})]})]})}),f&&p&&i.jsx(gs,{open:f,onOpenChange:h,children:i.jsxs(xs,{className:"max-w-4xl max-h-[80vh] overflow-hidden",children:[i.jsx(ys,{children:i.jsx(bs,{className:"flex items-center justify-between",children:i.jsx("span",{children:p.file_name})})}),i.jsx("div",{className:"flex items-center justify-center p-4",children:J(p.file_name)?i.jsx("img",{src:p.file_url,alt:p.file_name,className:"max-w-full max-h-[60vh] object-contain"}):i.jsxs("div",{className:"text-center",children:[i.jsx(Uf,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Preview not available for this file type"}),i.jsxs(Ie,{className:"mt-4",onClick:()=>window.open(p.file_url,"_blank"),children:[i.jsx(tc,{className:"h-4 w-4 mr-2"}),"Download File"]})]})})]})})]})}const e9=({isOpen:e,onClose:t,projectName:n,onSuccess:s})=>{const[a,o]=_.useState({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),{createDoc:c,loading:d,error:f}=Ii(),{assignPhase:h}=gT(),{data:p,isLoading:g}=mc(n),y=(v,S)=>{o(N=>oe(z({},N),{[v]:S}))},b=v=>ve(null,null,function*(){if(v.preventDefault(),!!a.subject.trim())try{const S=a,{assign_to:N}=S,R=Ce(S,["assign_to"]),E=yield c("project_phase",{project:n,subject:R.subject,start_date:R.start_date||null,end_date:R.end_date||null,priority:R.priority,details:R.details||null,costing:R.costing||0,status:"Open",progress:0});N&&E&&(yield h(E.name,N)),o({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),s&&s(),t()}catch(N){console.error("Failed to create project phase:",N)}}),j=()=>{o({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),t()};return i.jsx(gs,{open:e,onOpenChange:j,children:i.jsxs(xs,{className:"sm:max-w-[500px]",children:[i.jsxs(ys,{children:[i.jsx(bs,{children:"Create New Project Phase"}),i.jsxs(bd,{children:['Add a new phase to organize tasks and milestones for "',n,'".']})]}),i.jsxs("form",{onSubmit:b,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"subject",children:"Phase Name *"}),i.jsx(zt,{id:"subject",value:a.subject,onChange:v=>y("subject",v.target.value),placeholder:"e.g., Planning, Development, Testing",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"priority",children:"Priority"}),i.jsxs("select",{id:"priority",value:a.priority,onChange:v=>y("priority",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"Low",children:"Low"}),i.jsx("option",{value:"Medium",children:"Medium"}),i.jsx("option",{value:"High",children:"High"}),i.jsx("option",{value:"Critical",children:"Critical"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"start_date",children:"Start Date"}),i.jsxs("div",{className:"relative",children:[i.jsx(zt,{id:"start_date",type:"date",value:a.start_date,onChange:v=>y("start_date",v.target.value)}),i.jsx(Ws,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"end_date",children:"End Date"}),i.jsxs("div",{className:"relative",children:[i.jsx(zt,{id:"end_date",type:"date",value:a.end_date,onChange:v=>y("end_date",v.target.value),min:a.start_date||void 0}),i.jsx(Ws,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"costing",children:"Estimated Cost"}),i.jsx(zt,{id:"costing",type:"number",value:a.costing,onChange:v=>y("costing",parseFloat(v.target.value)||0),placeholder:"0",min:"0",step:"0.01"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"assign_to",children:"Assign To"}),i.jsxs("select",{id:"assign_to",value:a.assign_to,onChange:v=>y("assign_to",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:g,children:[i.jsx("option",{value:"",children:"Select user..."}),p==null?void 0:p.map(v=>i.jsx("option",{value:v.user||v.name,children:v.user||v.name},v.name))]}),g&&i.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"details",children:"Description"}),i.jsx("textarea",{id:"details",value:a.details,onChange:v=>y("details",v.target.value),placeholder:"Phase description, objectives, and key deliverables...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3})]}),f&&i.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:i.jsx("p",{className:"text-sm text-red-600",children:f.message||"Failed to create project phase. Please try again."})}),i.jsxs(As,{children:[i.jsx(Ie,{type:"button",variant:"outline",onClick:j,disabled:d,children:"Cancel"}),i.jsxs(Ie,{type:"submit",disabled:d||!a.subject.trim(),className:"flex items-center gap-2",children:[d&&i.jsx(Q0,{className:"h-4 w-4 animate-spin"}),"Create Phase"]})]})]})]})})},t9=({isOpen:e,onClose:t,projectName:n,onSuccess:s})=>{const[a,o]=_.useState({subject:"",description:"",priority:"Medium",exp_start_date:"",exp_end_date:"",status:"Open"}),{createDoc:c,loading:d,error:f}=Ii(),h=g=>ve(null,null,function*(){if(g.preventDefault(),!!a.subject.trim())try{yield c("Task",{subject:a.subject,description:a.description,priority:a.priority,exp_start_date:a.exp_start_date||null,exp_end_date:a.exp_end_date||null,status:a.status,project:n,is_template:0,progress:0}),o({subject:"",description:"",priority:"Medium",exp_start_date:"",exp_end_date:"",status:"Open"}),s==null||s(),t()}catch(y){console.error("Error creating standalone task:",y)}}),p=(g,y)=>{o(b=>oe(z({},b),{[g]:y}))};return i.jsx(gs,{open:e,onOpenChange:t,children:i.jsxs(xs,{className:"sm:max-w-[500px]",children:[i.jsx(ys,{children:i.jsx(bs,{className:"flex items-center justify-between",children:"Create Standalone Task"})}),i.jsxs("form",{onSubmit:h,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"subject",children:"Task Subject *"}),i.jsx(zt,{id:"subject",value:a.subject,onChange:g=>p("subject",g.target.value),placeholder:"Enter task subject",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"description",children:"Description"}),i.jsx("textarea",{id:"description",value:a.description,onChange:g=>p("description",g.target.value),placeholder:"Enter task description (optional)",rows:3,className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"priority",children:"Priority"}),i.jsxs("select",{id:"priority",value:a.priority,onChange:g=>p("priority",g.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[i.jsx("option",{value:"Low",children:"Low"}),i.jsx("option",{value:"Medium",children:"Medium"}),i.jsx("option",{value:"High",children:"High"}),i.jsx("option",{value:"Urgent",children:"Urgent"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"status",children:"Status"}),i.jsxs("select",{id:"status",value:a.status,onChange:g=>p("status",g.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[i.jsx("option",{value:"Open",children:"Open"}),i.jsx("option",{value:"Working",children:"Working"}),i.jsx("option",{value:"Pending Review",children:"Pending Review"}),i.jsx("option",{value:"Overdue",children:"Overdue"}),i.jsx("option",{value:"Template",children:"Template"}),i.jsx("option",{value:"Completed",children:"Completed"}),i.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"exp_start_date",children:"Expected Start Date"}),i.jsx(zt,{id:"exp_start_date",type:"date",value:a.exp_start_date,onChange:g=>p("exp_start_date",g.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"exp_end_date",children:"Expected End Date"}),i.jsx(zt,{id:"exp_end_date",type:"date",value:a.exp_end_date,onChange:g=>p("exp_end_date",g.target.value)})]})]}),f&&i.jsxs("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded-md",children:["Error creating task: ",f.message]}),i.jsxs(As,{children:[i.jsx(Ie,{type:"button",variant:"outline",onClick:t,disabled:d,children:"Cancel"}),i.jsx(Ie,{type:"submit",disabled:d||!a.subject.trim(),children:d?"Creating...":"Create Task"})]})]})]})})},n9=(e,t)=>{const n=s=>ve(null,null,function*(){try{console.log(`Task ${s} changed, updating affected phase progress...`);const a=yield fetch(`/api/resource/Task/${s}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(a.ok&&(yield a.json()).data.project===e){console.log(`Task ${s} belongs to current project ${e}, finding affected phases...`);const d=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name"],filters:[["project","=",e]]})});if(d.ok){const h=(yield d.json()).message||[];for(const p of h)try{const g=yield fetch(`/api/resource/project_phase/${p.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(g.ok){const b=(yield g.json()).data;b.tasks&&b.tasks.some(j=>j.task===s)&&(console.log(`Updating progress for phase ${p.name} containing task ${s}`),yield BL(p.name),t&&t())}}catch(g){console.error(`Error updating progress for phase ${p.name}:`,g)}}}}catch(a){console.error("Error in triggerPhaseProgressUpdate:",a)}});return _.useEffect(()=>{const s=a=>{if(a.key==="task_progress_updated"&&a.newValue){const o=a.newValue;console.log(`Received task progress update signal for: ${o}`),n(o),localStorage.removeItem("task_progress_updated")}};return window.addEventListener("storage",s),()=>{window.removeEventListener("storage",s)}},[e,t]),{triggerPhaseProgressUpdate:n}},s9=({projectName:e,onViewPhaseDetails:t,onViewTaskDetails:n,onViewSubTaskDetails:s})=>{const[a,o]=_.useState(new Set),[c,d]=_.useState(new Set),[f,h]=_.useState(!1),[p,g]=_.useState(!1),[y,b]=_.useState([]),[j,v]=_.useState({visible:!1,text:"",x:0,y:0}),{data:S,isLoading:N,mutate:R}=Ot("project_phase",{fields:["name","subject","status","priority","start_date","end_date","progress","details","costing"],filters:[["project","=",e]],orderBy:{field:"start_date",order:"asc"},limit:0});n9(e,()=>{console.log("Phase progress updated, refreshing UI..."),R()}),_.useEffect(()=>{S&&S.length>0?ve(null,null,function*(){const V=[];for(const ne of S)try{const xe=yield fetch(`/api/resource/project_phase/${ne.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(xe.ok){const me=yield xe.json();V.push(me.data)}else console.warn("Failed to fetch phase:",ne.name),V.push(ne)}catch(xe){console.error("Error fetching phase:",ne.name,xe),V.push(ne)}b(V)}):b([])},[S==null?void 0:S.length,S==null?void 0:S.map(re=>re.name).join(",")]);const{data:E,isLoading:k,mutate:D}=Ot("Task",{fields:["name","subject","status","priority","project","exp_start_date","exp_end_date","progress"],filters:[["project","=",e]],orderBy:{field:"exp_start_date",order:"asc"},limit:0}),C=(E==null?void 0:E.map(re=>re.name))||[],{data:A,isLoading:P,mutate:U}=Ot("SubTask",{fields:["name","subject","task","status","progress","start_date","end_date","description"],filters:C.length>0?[["task","in",C]]:[["task","=","dummy-non-existent-task"]],orderBy:{field:"start_date",order:"asc"},limit:0}),K=re=>{const V=new Set(a);V.has(re)?V.delete(re):V.add(re),o(V)},$=re=>{const V=new Set(c);V.has(re)?V.delete(re):V.add(re),d(V)};_.useEffect(()=>{const re=()=>{document.hidden||(console.log("Tab became visible, refreshing all data (phases, tasks, subtasks)..."),R(),D(),U())};return document.addEventListener("visibilitychange",re),()=>{document.removeEventListener("visibilitychange",re)}},[R,D,U]);const G=re=>null,W=re=>{switch(re){case"Completed":return"bg-green-100 text-green-800";case"Working":return"bg-yellow-100 text-yellow-800";default:return"bg-blue-100 text-blue-800"}},ee=re=>{switch(re){case"Urgent":return"bg-red-100 text-red-800";case"High":return"bg-orange-100 text-orange-800";case"Medium":return"bg-yellow-100 text-yellow-800";default:return"bg-green-100 text-green-800"}},Y=(re,V)=>{if(re.length>30){const ne=V.currentTarget.getBoundingClientRect(),xe=document.querySelector(".bg-white.border.border-gray-200.rounded-lg"),me=xe==null?void 0:xe.getBoundingClientRect();v({visible:!0,text:re,x:me?me.left+24:50,y:ne.top-8})}},H=()=>{v({visible:!1,text:"",x:0,y:0})},J=(re,V,ne,xe=!1,me=!1,Ee)=>{let De="0.75rem";ne==="phase-task"||ne==="task"&&V===1?De="2rem":ne==="subtask"&&(De="3.5rem");const He=ne==="phase"||ne==="task"&&xe||ne==="phase-task"&&xe,Pe=re.subject||re.name,rt=re.status||"Open",Ge=re.progress||0,pt=st=>{st.preventDefault(),st.stopPropagation(),Ee&&Ee()},ze=st=>{st.preventDefault(),st.stopPropagation(),ne==="phase"&&t?t(re):(ne==="task"||ne==="phase-task")&&n?n(re):ne==="subtask"&&s&&s(re)},Nt=st=>{st.preventDefault(),st.stopPropagation(),xe&&Ee&&Ee()};let at="hover:bg-gray-50",Me="";return ne==="phase"||ne==="task"?(at="bg-white hover:bg-gray-50",Me=""):ne==="phase-task"?(at="bg-green-50/20 hover:bg-green-50",Me="border-l-2 border-l-green-200"):ne==="subtask"&&(at="bg-yellow-50/20 hover:bg-yellow-50",Me="border-l-2 border-l-yellow-200"),i.jsx("div",{className:`${at} ${Me} transition-colors`,children:i.jsxs("div",{className:"grid grid-cols-12 gap-4 py-3 px-6 border-b border-gray-100 items-center cursor-pointer",onClick:Nt,onDoubleClick:ze,children:[i.jsxs("div",{className:"col-span-5 flex items-center",style:{paddingLeft:De},children:[He&&i.jsx("button",{className:"mr-2 p-1 hover:bg-gray-100 rounded transition-colors flex-shrink-0",onClick:pt,type:"button","aria-label":me?"Collapse":"Expand",children:me?i.jsx(sS,{className:"h-4 w-4 text-gray-600"}):i.jsx(t3,{className:"h-4 w-4 text-gray-600"})}),!He&&i.jsx("div",{className:"mr-2 p-1 flex-shrink-0 w-6 h-6"}),G(),i.jsxs("div",{className:"ml-1 flex-1 min-w-0",children:[i.jsx("div",{className:`font-medium truncate ${ne==="phase"?"text-blue-900 text-lg":ne==="task"?"text-orange-900":ne==="phase-task"?"text-green-900":"text-gray-700"}`,onMouseEnter:st=>Y(Pe,st),onMouseLeave:H,title:Pe.length>30?Pe:void 0,children:Pe}),re.description&&ne==="subtask"&&i.jsx("p",{className:"text-sm text-gray-500 mt-1 truncate",onMouseEnter:st=>Y(re.description,st),onMouseLeave:H,title:re.description.length>50?re.description:void 0,children:re.description}),re.details&&ne==="phase"&&i.jsx("p",{className:"text-sm text-gray-600 mt-1 truncate",onMouseEnter:st=>Y(re.details,st),onMouseLeave:H,title:re.details.length>50?re.details:void 0,children:re.details})]})]}),i.jsx("div",{className:"col-span-2 text-center",children:i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${W(rt)}`,children:rt})}),i.jsx("div",{className:"col-span-2 text-center",children:re.priority&&i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${ee(re.priority)}`,children:re.priority})}),i.jsxs("div",{className:"col-span-3 flex items-center justify-start space-x-2",children:[ne!=="subtask"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:`${ne==="phase"?"w-20":"w-16"} bg-gray-200 rounded-full h-2`,children:i.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${Ge}%`}})}),i.jsxs("span",{className:"text-sm text-gray-600 w-12 text-left flex-shrink-0",children:[Ge,"%"]})]}),i.jsxs("div",{className:"ml-auto",children:[ne==="phase"&&t&&i.jsx(Ie,{variant:"outline",size:"sm",onClick:st=>{st.preventDefault(),st.stopPropagation(),t(re)},className:"h-7 px-2 text-xs",children:"View Details"}),(ne==="task"||ne==="phase-task")&&n&&i.jsx(Ie,{variant:"outline",size:"sm",onClick:st=>{st.preventDefault(),st.stopPropagation(),n(re)},className:"h-7 px-2 text-xs",children:"View Details"}),ne==="subtask"&&s&&i.jsx(Ie,{variant:"outline",size:"sm",onClick:st=>{st.preventDefault(),st.stopPropagation(),s(re)},className:"h-7 px-2 text-xs",children:"View Details"})]})]})]})},`${ne}-${re.name}`)};if(N||k||P)return i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"}),i.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"}),i.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"})]});const te=y.length>0?y:S||[],ce=E||[],L=A||[],le=re=>L.filter(V=>V.task===re);return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Project Tasks & Phases"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Ie,{size:"sm",variant:"outline",className:"flex items-center gap-2",onClick:()=>g(!0),children:[i.jsx(qr,{className:"h-4 w-4"}),"Add Task"]}),i.jsxs(Ie,{size:"sm",className:"flex items-center gap-2",onClick:()=>h(!0),children:[i.jsx(qr,{className:"h-4 w-4"}),"Add Phase"]})]})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[i.jsxs("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-200 grid grid-cols-12 gap-4 text-sm font-medium text-gray-700",children:[i.jsx("div",{className:"col-span-5",children:"Task / Phase"}),i.jsx("div",{className:"col-span-2 text-center",children:"Status"}),i.jsx("div",{className:"col-span-2 text-center",children:"Priority"}),i.jsx("div",{className:"col-span-3 text-left",children:"Progress"})]}),i.jsxs("div",{className:"divide-y divide-gray-100",children:[te.map(re=>{const V=a.has(re.name),ne=re.tasks||[];return i.jsxs("div",{children:[J(re,0,"phase",ne.length>0,V,()=>{K(re.name)}),V&&ne.map((xe,me)=>{const Ee=ce.find(rt=>rt.name===xe.task),De=le(xe.task),He=De.length>0,Pe=c.has(xe.task);if(!Ee){const rt={name:xe.task,subject:xe.task,status:"Open"};return i.jsxs("div",{children:[J(rt,1,"phase-task",He,Pe,He?()=>{$(xe.task)}:void 0),Pe&&He&&De.map((Ge,pt)=>i.jsx("div",{children:J(Ge,2,"subtask",!1,!1)},`subtask-${pt}`))]},`phase-task-${me}`)}return i.jsxs("div",{children:[J(Ee,1,"phase-task",He,Pe,He?()=>{$(Ee.name)}:void 0),Pe&&He&&De.map((rt,Ge)=>i.jsx("div",{children:J(rt,2,"subtask",!1,!1)},`subtask-${Ge}`))]},`phase-task-${me}`)})]},re.name)}),te.length>0&&ce.filter(re=>!te.some(ne=>{var xe;return(xe=ne.tasks)==null?void 0:xe.some(me=>me.task===re.name)})).length>0&&i.jsx("div",{className:"bg-gray-100 px-6 py-2 border-b border-gray-200",children:i.jsxs("div",{className:"text-sm font-medium text-gray-600 flex items-center",children:[i.jsx("span",{className:"mr-2",children:"📝"}),"Standalone Tasks"]})}),ce.filter(re=>!te.some(ne=>{var xe;return(xe=ne.tasks)==null?void 0:xe.some(me=>me.task===re.name)})).map(re=>{const V=c.has(re.name),ne=le(re.name),xe=ne.length>0;return i.jsxs("div",{children:[J(re,1,"task",xe,V,xe?()=>{$(re.name)}:void 0),V&&xe&&ne.map((me,Ee)=>i.jsx("div",{children:J(me,2,"subtask",!1,!1)},`standalone-subtask-${Ee}`))]},re.name)})]})]}),te.length===0&&ce.length===0&&i.jsx("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"📋"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No phases or tasks yet"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Start organizing your project by creating phases and tasks."}),i.jsxs("div",{className:"flex gap-3 justify-center",children:[i.jsx(Ie,{onClick:()=>h(!0),children:"Create First Phase"}),i.jsx(Ie,{variant:"outline",onClick:()=>g(!0),children:"Create Task"})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-6 border-t border-gray-200",children:[i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:te.length}),i.jsx("div",{className:"text-sm text-blue-600",children:"Total Phases"})]}),i.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:ce.length}),i.jsx("div",{className:"text-sm text-green-600",children:"Total Tasks"})]}),i.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:L.length}),i.jsx("div",{className:"text-sm text-purple-600",children:"Total Subtasks"})]})]}),i.jsx(e9,{isOpen:f,onClose:()=>h(!1),projectName:e,onSuccess:()=>{R()}}),i.jsx(t9,{isOpen:p,onClose:()=>g(!1),projectName:e,onSuccess:()=>{D()}}),j.visible&&i.jsxs("div",{className:"fixed z-50 bg-gray-900 text-white text-sm px-4 py-2 rounded-lg shadow-xl pointer-events-none border border-gray-700",style:{left:j.x,top:j.y,transform:"translateY(-100%)",maxWidth:"400px",minWidth:"200px",wordWrap:"break-word"},children:[i.jsx("div",{className:"font-medium leading-relaxed",children:j.text}),i.jsx("div",{className:"absolute top-full w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900",style:{left:"20px"}})]})]})},r9=({isOpen:e,onClose:t,projectName:n,phaseId:s,onSuccess:a})=>{const[o,c]=_.useState({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),[d,f]=_.useState({}),[h,p]=_.useState(!1),{createTaskWithPhase:g,isLoading:y}=LL(),{data:b,isLoading:j}=mc(n),{data:v}=bn("Project",n),S=(k,D)=>{c(C=>oe(z({},C),{[k]:D})),d[k]&&f(C=>oe(z({},C),{[k]:""}))},N=()=>{const k={};return o.subject.trim()||(k.subject="Task subject is required"),f(k),Object.keys(k).length===0},R=k=>ve(null,null,function*(){if(k.preventDefault(),!h&&N()){if(o.exp_start_date&&o.exp_end_date){const D=new Date(o.exp_start_date);if(new Date(o.exp_end_date)<D){un.error("End date cannot be earlier than start date");return}}if(o.exp_end_date&&(v!=null&&v.expected_end_date)){const D=new Date(o.exp_end_date),C=new Date(v.expected_end_date);if(D>C){un.error(`Task end date cannot be after project end date (${v.expected_end_date})`);return}}p(!0);try{const D=oe(z({},o),{project:n,expected_time:Number(o.expected_time),task_weight:Number(o.task_weight),exp_start_date:o.exp_start_date||void 0,exp_end_date:o.exp_end_date||void 0,phaseId:s,assign_to:o.assign_to||void 0});console.log("Creating task with data:",D),console.log("Date fields:",{exp_start_date:o.exp_start_date,exp_end_date:o.exp_end_date});const C=yield g(D);console.log("Task with phase created:",C);let A=`Task "${o.subject}" has been created successfully.`;C.todo&&o.assign_to&&(console.log("Task assigned and ToDo created for:",o.assign_to),A+=` Task has been assigned to ${o.assign_to}.`),un.success("Task created successfully",{description:A}),c({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),f({}),a&&a(),t()}catch(D){console.error("Error creating task:",D);let C="Failed to create task. Please try again.";D!=null&&D.message&&(D.message.includes("Expected End Date cannot be after Project")?C="Task end date cannot be after the project end date. Please choose an earlier date.":D.message.includes("InvalidDates")?C="Invalid date configuration. Please check your task dates.":C=D.message),D!=null&&D.exception&&typeof D.exception=="string"&&D.exception.includes("Expected End Date cannot be after Project")&&(C="Task end date cannot be after the project end date. Please choose an earlier date."),un.error("Failed to create task",{description:C}),f({submit:C})}finally{p(!1)}}}),E=()=>{c({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),f({}),t()};return i.jsx(gs,{open:e,onOpenChange:E,children:i.jsxs(xs,{className:"sm:max-w-[600px]",children:[i.jsxs(ys,{children:[i.jsxs(bs,{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-2xl",children:"📝"}),"Create New Task"]}),i.jsxs(bd,{children:["Create a new task for project: ",i.jsx("strong",{children:n}),s&&i.jsxs(i.Fragment,{children:[i.jsx("br",{}),i.jsx("span",{className:"text-blue-600",children:"🔗 This task will be linked to the current phase"})]}),i.jsx("br",{}),i.jsx("span",{className:"text-gray-600",children:"💡 Assigning to a user will automatically create a ToDo item for them"})]})]}),i.jsxs("form",{onSubmit:R,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx(Le,{htmlFor:"subject",children:"Task Subject *"}),i.jsx(zt,{id:"subject",value:o.subject,onChange:k=>S("subject",k.target.value),placeholder:"Enter task subject...",className:d.subject?"border-red-500":""}),d.subject&&i.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.subject})]}),i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx(Le,{htmlFor:"description",children:"Description"}),i.jsx("textarea",{id:"description",value:o.description,onChange:k=>S("description",k.target.value),placeholder:"Enter task description...",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx(Le,{htmlFor:"priority",children:"Priority"}),i.jsxs("select",{id:"priority",value:o.priority,onChange:k=>S("priority",k.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[i.jsx("option",{value:"Low",children:"Low"}),i.jsx("option",{value:"Medium",children:"Medium"}),i.jsx("option",{value:"High",children:"High"}),i.jsx("option",{value:"Urgent",children:"Urgent"})]})]}),i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx(Le,{htmlFor:"status",children:"Status"}),i.jsxs("select",{id:"status",value:o.status,onChange:k=>S("status",k.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[i.jsx("option",{value:"Open",children:"Open"}),i.jsx("option",{value:"Working",children:"Working"}),i.jsx("option",{value:"Overdue",children:"Overdue"}),i.jsx("option",{value:"Pending Review",children:"Pending Review"}),i.jsx("option",{value:"Completed",children:"Completed"}),i.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx(Le,{htmlFor:"assign_to",children:"Assign To"}),i.jsxs("select",{id:"assign_to",value:o.assign_to,onChange:k=>S("assign_to",k.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",disabled:j,children:[i.jsx("option",{value:"",children:"Select user to assign (Optional)"}),b==null?void 0:b.map(k=>i.jsxs("option",{value:k.user||k.name,children:[k.full_name||k.name,k.email&&` (${k.email})`]},k.user||k.name))]}),j&&i.jsx("p",{className:"text-sm text-gray-500",children:"Loading users..."}),!j&&b&&b.length>10&&i.jsx("p",{className:"text-sm text-amber-600",children:"⚠️ Showing all system users (project users not available)"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx(Le,{htmlFor:"expected_time",children:"Expected Time (hours)"}),i.jsx(zt,{id:"expected_time",type:"number",min:"0",step:"0.5",value:o.expected_time,onChange:k=>S("expected_time",Number(k.target.value)),placeholder:"0"})]}),i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx(Le,{htmlFor:"task_weight",children:"Task Weight"}),i.jsx(zt,{id:"task_weight",type:"number",min:"1",value:o.task_weight,onChange:k=>S("task_weight",Number(k.target.value)),placeholder:"1"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"exp_start_date",children:"Expected Start Date"}),i.jsx(zt,{id:"exp_start_date",type:"date",value:o.exp_start_date,onChange:k=>S("exp_start_date",k.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"exp_end_date",children:"Expected End Date"}),i.jsx(zt,{id:"exp_end_date",type:"date",value:o.exp_end_date,onChange:k=>S("exp_end_date",k.target.value),max:(v==null?void 0:v.expected_end_date)||void 0}),(v==null?void 0:v.expected_end_date)&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Must be before project end date: ",v.expected_end_date]})]})]})]}),d.submit&&i.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-md p-3",children:d.submit}),i.jsxs(As,{children:[i.jsx(Ie,{type:"button",variant:"outline",onClick:E,children:"Cancel"}),i.jsx(Ie,{type:"submit",disabled:y||h,children:y||h?"Creating...":"Create Task"})]})]})]})})},a9=({phase:e,projectName:t,isOpen:n,onClose:s,onSuccess:a})=>{var A;const{updatePhase:o,isLoading:c,error:d}=zL(),{assignPhase:f,unassignPhase:h}=gT(),{currentUser:p}=or(),{data:g,isLoading:y}=mc(t),{data:b}=bn("Project",t||"",t?"Project":void 0),j=(b==null?void 0:b.users)||[],{data:v}=Ot("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","project_phase"],["reference_name","=",(e==null?void 0:e.name)||""]]}),S=()=>{if(p==="Administrator"||(b==null?void 0:b.owner)===p)return!0;const P=j.find(U=>U.user===p);return(P==null?void 0:P.project_status)==="Project Manager (Owner Substitute)"},[N,R]=_.useState({subject:"",status:"Open",priority:"Medium",start_date:"",end_date:"",progress:0,details:"",costing:0,assign_to:""}),E=((A=v==null?void 0:v[0])==null?void 0:A.allocated_to)||"";_.useEffect(()=>{e&&R({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",progress:e.progress||0,details:e.details||"",costing:e.costing||0,assign_to:E})},[e,E]);const k=(P,U)=>{R(K=>oe(z({},K),{[P]:U}))},D=P=>ve(null,null,function*(){if(P.preventDefault(),!!e){if(N.status==="Completed"&&!S()){un.error("Permission denied",{description:"You don't have permission to mark this phase as Completed. Only Project Owner, Project Manager, or Administrator can do this."});return}try{const U=N,{assign_to:K}=U,$=Ce(U,["assign_to"]);yield o(e.name,$);const G=E,W=K;if(G&&G!==W){const ee=v==null?void 0:v.find(Y=>Y.allocated_to===G);ee&&(yield h(ee.name))}W&&W!==G&&(yield f(e.name,W)),un.success("Phase updated successfully",{description:`Phase "${N.subject}" has been updated.`}),a&&a(),s()}catch(K){console.error("Error updating phase:",K),un.error("Failed to update phase",{description:K instanceof Error?K.message:"An unexpected error occurred."})}}}),C=()=>{e&&R({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",progress:e.progress||0,details:e.details||"",costing:e.costing||0,assign_to:E}),s()};return i.jsx(gs,{open:n,onOpenChange:s,children:i.jsxs(xs,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[i.jsx(ys,{children:i.jsx(bs,{children:"Edit Phase"})}),i.jsxs("form",{onSubmit:D,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"subject",children:"Subject *"}),i.jsx(zt,{id:"subject",value:N.subject,onChange:P=>k("subject",P.target.value),required:!0,placeholder:"Enter phase subject"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"status",children:"Status"}),i.jsxs("select",{id:"status",value:N.status,onChange:P=>k("status",P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"Open",children:"Open"}),i.jsx("option",{value:"Working",children:"Working"}),i.jsx("option",{value:"Pending Review",children:"Pending Review"}),S()&&i.jsx("option",{value:"Completed",children:"Completed"}),i.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),!S()&&i.jsx("span",{className:"text-xs text-amber-600",children:"You don't have permission to mark Completed"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"priority",children:"Priority"}),i.jsxs("select",{id:"priority",value:N.priority,onChange:P=>k("priority",P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"Low",children:"Low"}),i.jsx("option",{value:"Medium",children:"Medium"}),i.jsx("option",{value:"High",children:"High"}),i.jsx("option",{value:"Critical",children:"Critical"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"start_date",children:"Start Date"}),i.jsx(zt,{id:"start_date",type:"date",value:N.start_date,onChange:P=>k("start_date",P.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"end_date",children:"End Date"}),i.jsx(zt,{id:"end_date",type:"date",value:N.end_date,onChange:P=>k("end_date",P.target.value)})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"progress",children:"Progress (%)"}),i.jsx(zt,{id:"progress",type:"number",min:"0",max:"100",value:N.progress,onChange:P=>k("progress",parseInt(P.target.value)||0),placeholder:"0"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"costing",children:"Costing"}),i.jsx(zt,{id:"costing",type:"number",min:"0",step:"0.01",value:N.costing,onChange:P=>k("costing",parseFloat(P.target.value)||0),placeholder:"0.00"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"details",children:"Details"}),i.jsx("textarea",{id:"details",value:N.details,onChange:P=>k("details",P.target.value),placeholder:"Enter phase details",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"assign_to",children:"Assign To"}),i.jsxs("select",{id:"assign_to",value:N.assign_to,onChange:P=>k("assign_to",P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:y,children:[i.jsx("option",{value:"",children:"Select user..."}),g==null?void 0:g.map(P=>i.jsx("option",{value:P.user||P.name,children:P.user||P.name},P.name))]}),y&&i.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),d&&i.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:i.jsxs("p",{children:[i.jsx("strong",{children:"Error:"})," ",d.message||"Failed to update phase"]})}),i.jsxs(As,{className:"flex gap-2",children:[i.jsx(Ie,{type:"button",variant:"outline",onClick:C,children:"Cancel"}),i.jsx(Ie,{type:"submit",disabled:c,children:c?"Updating...":"Update Phase"})]})]})]})})},i9=({phase:e,isOpen:t,onClose:n,onSuccess:s})=>{const{call:a,loading:o,error:c}=ms("frappe.client.delete"),d=()=>ve(null,null,function*(){if(e)try{yield a({doctype:"project_phase",name:e.name}),s&&s(),n()}catch(h){console.error("Error deleting phase:",h)}}),f=()=>{n()};return i.jsx(gs,{open:t,onOpenChange:n,children:i.jsxs(xs,{className:"sm:max-w-[400px]",children:[i.jsx(ys,{children:i.jsxs(bs,{className:"flex items-center gap-2 text-red-600",children:[i.jsx(oc,{className:"h-5 w-5"}),"Delete Phase"]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this phase? This action cannot be undone."}),e&&i.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[i.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),i.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),i.jsxs("div",{className:"text-sm text-gray-600",children:["Priority: ",e.priority||"Medium"]})]}),i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[i.jsxs("div",{className:"text-sm text-red-800",children:[i.jsx("strong",{children:"Warning:"})," Deleting this phase will also remove:"]}),i.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[i.jsx("li",{children:"All tasks associated with this phase"}),i.jsx("li",{children:"All phase progress data"}),i.jsx("li",{children:"Phase timeline and milestones"}),i.jsx("li",{children:"Related documents and attachments"})]})]}),c&&i.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:i.jsxs("p",{children:[i.jsx("strong",{children:"Error:"})," ",c.message||"Failed to delete phase"]})})]}),i.jsxs(As,{className:"flex gap-2",children:[i.jsx(Ie,{type:"button",variant:"outline",onClick:f,children:"Cancel"}),i.jsx(Ie,{type:"button",variant:"destructive",onClick:d,disabled:o,children:o?"Deleting...":"Delete Phase"})]})]})})},o9=({phase:e,projectName:t,onBack:n,onViewTaskDetails:s,onPhaseUpdated:a,onPhaseDeleted:o,onTaskCreated:c})=>{var te;const[d,f]=_.useState(!1),[h,p]=_.useState(!1),[g,y]=_.useState(!1),[b,j]=_.useState(!1),[v,S]=_.useState(!1),{calculateAndUpdatePhaseProgress:N}=wT(),{data:R,mutate:E}=bn("project_phase",e.name,"project_phase"),k=R||e,{data:D,isLoading:C,mutate:A}=Ot("Task",{fields:["name","subject","status","priority","project","exp_start_date","exp_end_date","progress"],filters:[["project","=",t]],orderBy:{field:"exp_start_date",order:"asc"},limit:0}),P=se.useMemo(()=>{if(!D)return[];if(k.tasks&&k.tasks.length>0){const ce=k.tasks.map(L=>L.task);return D.filter(L=>ce.includes(L.name))}return[]},[D,k.tasks]),U=se.useMemo(()=>{if(!P||P.length===0)return 0;const ce=P.reduce((L,le)=>L+(le.progress||0),0);return Math.round(ce/P.length)},[P]);_.useEffect(()=>{P.length>0&&U!==(k.progress||0)&&K()},[U,P.length]);const K=()=>ve(null,null,function*(){j(!0);try{yield N(e.name),yield E(),a&&a()}catch(ce){console.error("Error recalculating phase progress:",ce)}finally{j(!1)}}),$=ce=>ce?new Date(ce).toLocaleDateString():"N/A",G=ce=>ce?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(ce):"$0",W=ce=>{switch(ce){case"Completed":return i.jsx(ty,{className:"h-5 w-5 text-green-600"});case"Working":return i.jsx(zo,{className:"h-5 w-5 text-yellow-600"});case"Open":return i.jsx(Ui,{className:"h-5 w-5 text-blue-600"});default:return i.jsx(Ui,{className:"h-5 w-5 text-gray-400"})}},ee=ce=>{switch(ce){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},Y=ce=>{switch(ce){case"Urgent":return"bg-red-100 text-red-800 border-red-200";case"High":return"bg-orange-100 text-orange-800 border-orange-200";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},H=()=>ve(null,null,function*(){S(!0);try{yield E(),yield A(),a&&(yield a()),setTimeout(()=>ve(null,null,function*(){j(!0);try{yield N(k.name),setTimeout(()=>ve(null,null,function*(){yield E()}),500)}catch(ce){console.error("Error recalculating phase progress:",ce)}finally{j(!1)}}),500)}finally{S(!1)}}),J=()=>{o&&o(),n()};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Ie,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-2",children:[i.jsx(ey,{className:"h-4 w-4"}),"Back to Tasks"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>p(!0),disabled:v||b,className:"flex items-center gap-2",children:[i.jsx(Fo,{className:`h-4 w-4 ${v?"animate-pulse":""}`}),v?"Updating...":"Edit Phase"]}),i.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>y(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[i.jsx(Fi,{className:"h-4 w-4"}),"Delete Phase"]})]})]}),i.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-6",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"h-12 w-12 rounded-lg bg-blue-500 flex items-center justify-center",children:i.jsx("span",{className:"text-xl",children:"📋"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:k.subject}),i.jsx("p",{className:"text-sm text-gray-600",children:"Phase Details"})]})]}),k.details&&i.jsx("p",{className:"text-gray-700 leading-relaxed",children:k.details})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${ee(k.status||"Open")}`,children:[W(k.status||"Open"),i.jsx("span",{className:"font-medium",children:k.status||"Open"})]}),k.priority&&i.jsx("div",{className:`px-3 py-1 rounded-full border ${Y(k.priority)}`,children:i.jsx("span",{className:"text-sm font-medium",children:k.priority})})]})]}),i.jsxs("div",{className:"mt-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Phase Progress"}),P.length>0&&i.jsxs("span",{className:"text-xs text-gray-500",children:["(Auto-calculated from ",P.length," tasks)"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[U,"%"]}),i.jsx(Ie,{variant:"ghost",size:"sm",onClick:K,disabled:b,className:"h-8 w-8 p-0",title:"Recalculate progress from tasks",children:i.jsx(X3,{className:`h-4 w-4 ${b?"animate-spin":""}`})})]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:i.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full transition-all duration-500",style:{width:`${U}%`}})}),P.length>0&&i.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Task progress: ",P.map(ce=>`${ce.subject}: ${ce.progress||0}%`).join(", ")]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:i.jsx(Ws,{className:"h-6 w-6 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),i.jsx("p",{className:"text-lg font-bold text-gray-900",children:$(k.start_date)})]})]})}),i.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:i.jsx(ry,{className:"h-6 w-6 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),i.jsx("p",{className:"text-lg font-bold text-gray-900",children:$(k.end_date)})]})]})}),i.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:i.jsx(Uo,{className:"h-6 w-6 text-green-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Estimated Cost"}),i.jsx("p",{className:"text-lg font-bold text-gray-900",children:G(k.costing)})]})]})})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Phase Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Phase ID"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:k.name})]}),i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),i.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${ee(k.status||"Open")}`,children:[W(k.status||"Open"),i.jsx("span",{className:"font-medium",children:k.status||"Open"})]})]}),i.jsxs("div",{className:"flex items-center justify-between py-3",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),i.jsx("div",{className:`px-3 py-1 rounded-full ${Y(k.priority||"Medium")}`,children:i.jsx("span",{className:"font-medium",children:k.priority||"Medium"})})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Tasks Count"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:((te=k.tasks)==null?void 0:te.length)||0})]}),i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:k.start_date&&k.end_date?`${Math.ceil((new Date(k.end_date).getTime()-new Date(k.start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),i.jsxs("div",{className:"flex items-center justify-between py-3",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Progress"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-xl font-bold text-blue-600",children:[U,"%"]}),P.length>0&&i.jsxs("span",{className:"text-xs text-gray-500",children:["(from ",P.length," tasks)"]})]})]}),i.jsxs("div",{className:"flex items-center justify-between py-3",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Estimated Cost"}),i.jsx("span",{className:"text-xl font-bold text-green-600",children:G(e.costing)})]})]})]})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Tasks in this Phase"})}),C?i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),i.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),i.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"})]}):i.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[i.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:i.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3",children:[i.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700",children:"#"}),i.jsx("div",{className:"col-span-4 text-sm font-medium text-gray-700",children:"Task"}),i.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Progress"}),i.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Status"}),i.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700 text-center",children:"Priority"}),i.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Actions"})]})}),i.jsxs("div",{className:"divide-y divide-gray-100",children:[P&&P.length>0?P.map((ce,L)=>i.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[i.jsx("div",{className:"col-span-1 flex items-center",children:i.jsx("span",{className:"text-sm text-gray-600",children:L+1})}),i.jsxs("div",{className:"col-span-4 flex items-center gap-3",children:[i.jsx("div",{className:"p-1 bg-orange-100 rounded",children:i.jsx("span",{className:"text-sm",children:"📝"})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-900",children:ce.subject||ce.name}),i.jsx("div",{className:"text-sm text-gray-500",children:ce.name})]})]}),i.jsx("div",{className:"col-span-2 flex items-center justify-center",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${ce.progress||0}%`}})}),i.jsxs("span",{className:"text-sm font-medium text-gray-700 min-w-[30px]",children:[ce.progress||0,"%"]})]})}),i.jsx("div",{className:"col-span-2 flex items-center justify-center",children:i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${ee(ce.status||"Open")}`,children:ce.status||"Open"})}),i.jsx("div",{className:"col-span-1 flex items-center justify-center",children:ce.priority&&i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Y(ce.priority)}`,children:ce.priority})}),i.jsx("div",{className:"col-span-2 flex items-center justify-center",children:s&&i.jsx(Ie,{variant:"outline",size:"sm",onClick:()=>s(ce),className:"h-7 px-2 text-xs",children:"View Details"})})]},ce.name)):i.jsxs("div",{className:"px-6 py-8 text-center text-gray-500",children:[i.jsx("div",{className:"text-4xl mb-2",children:"📝"}),i.jsx("div",{className:"text-lg font-medium mb-1",children:"No tasks yet"}),i.jsx("div",{className:"text-sm",children:'Click "Add Task" to create the first task for this phase'})]}),i.jsx("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 bg-gray-50 border-t border-gray-200",children:i.jsx("div",{className:"col-span-12 flex items-center justify-center",children:i.jsxs(Ie,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",onClick:()=>f(!0),children:[i.jsx(qr,{className:"h-4 w-4"}),"Add new task to this phase"]})})})]})]})]}),i.jsx(Dm,{doctype:"project_phase",docname:e.name,title:"Phase Files",allowUpload:!0,allowDelete:!0,className:"mt-8"}),i.jsx(r9,{isOpen:d,onClose:()=>f(!1),projectName:t,phaseId:e.name,onSuccess:()=>ve(null,null,function*(){yield E(),c&&(yield c()),setTimeout(()=>ve(null,null,function*(){yield A(),setTimeout(()=>ve(null,null,function*(){yield K()}),500)}),500)})}),i.jsx(a9,{phase:e,projectName:t,isOpen:h,onClose:()=>p(!1),onSuccess:H}),i.jsx(i9,{phase:e,isOpen:g,onClose:()=>y(!1),onSuccess:J})]})},l9=({isOpen:e,onClose:t,projectName:n,parentTask:s,onSuccess:a})=>{const[o,c]=_.useState({subject:"",description:"",priority:"Medium",status:"Open",task:s||"",assign_to:""}),[d,f]=_.useState({}),{createDoc:h,loading:p}=Ii(),{assignSubTask:g}=_y(),{calculateAndUpdateTaskProgress:y}=pd(),{data:b,isLoading:j}=mc(n),v=(E,k)=>{c(D=>oe(z({},D),{[E]:k})),d[E]&&f(D=>oe(z({},D),{[E]:""}))},S=()=>{const E={};return o.subject.trim()||(E.subject="SubTask subject is required"),o.task.trim()||(E.task="Parent task is required"),f(E),Object.keys(E).length===0},N=E=>ve(null,null,function*(){if(E.preventDefault(),!!S())try{const k=o,{assign_to:D}=k,C=Ce(k,["assign_to"]),A=yield h("SubTask",oe(z({},C),{project:n}));if(D&&A&&(yield g(A.name,D)),s)try{yield y(s)}catch(P){console.error("Error updating task progress after subtask creation:",P)}c({subject:"",description:"",priority:"Medium",status:"Open",task:s||"",assign_to:""}),f({}),a&&a(),t()}catch(D){console.error("Error creating subtask:",D),f({submit:"Failed to create subtask. Please try again."})}}),R=()=>{c({subject:"",description:"",priority:"Medium",status:"Open",task:s||"",assign_to:""}),f({}),t()};return i.jsx(gs,{open:e,onOpenChange:R,children:i.jsxs(xs,{className:"sm:max-w-[600px]",children:[i.jsxs(ys,{children:[i.jsxs(bs,{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-2xl",children:"📌"}),"Create New SubTask"]}),i.jsxs(bd,{children:["Create a new subtask for project: ",i.jsx("strong",{children:n}),s&&i.jsxs("span",{className:"block mt-1",children:["Parent Task: ",i.jsx("strong",{children:s})]})]})]}),i.jsxs("form",{onSubmit:N,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx(Le,{htmlFor:"subject",children:"SubTask Subject *"}),i.jsx(zt,{id:"subject",value:o.subject,onChange:E=>v("subject",E.target.value),placeholder:"Enter subtask subject...",className:d.subject?"border-red-500":""}),d.subject&&i.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.subject})]}),i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx(Le,{htmlFor:"task",children:"Parent Task *"}),i.jsx(zt,{id:"task",value:o.task,onChange:E=>v("task",E.target.value),placeholder:"Enter parent task ID...",className:d.task?"border-red-500":""}),d.task&&i.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.task}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Enter the Task ID that this subtask belongs to"})]}),i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx(Le,{htmlFor:"description",children:"Description"}),i.jsx("textarea",{id:"description",value:o.description,onChange:E=>v("description",E.target.value),placeholder:"Enter subtask description...",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"assign_to",children:"Assign To"}),i.jsxs("select",{id:"assign_to",value:o.assign_to,onChange:E=>v("assign_to",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:j,children:[i.jsx("option",{value:"",children:"Select user..."}),b==null?void 0:b.map(E=>i.jsx("option",{value:E.user||E.name,children:E.user||E.name},E.name))]}),j&&i.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx(Le,{htmlFor:"priority",children:"Priority"}),i.jsxs("select",{id:"priority",value:o.priority,onChange:E=>v("priority",E.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[i.jsx("option",{value:"Low",children:"Low"}),i.jsx("option",{value:"Medium",children:"Medium"}),i.jsx("option",{value:"High",children:"High"})]})]}),i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx(Le,{htmlFor:"status",children:"Status"}),i.jsxs("select",{id:"status",value:o.status,onChange:E=>v("status",E.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[i.jsx("option",{value:"Open",children:"Open"}),i.jsx("option",{value:"Working",children:"Working"}),i.jsx("option",{value:"Completed",children:"Completed"})]})]})]})]}),d.submit&&i.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-md p-3",children:d.submit}),i.jsxs(As,{children:[i.jsx(Ie,{type:"button",variant:"outline",onClick:R,children:"Cancel"}),i.jsx(Ie,{type:"submit",disabled:p,children:p?"Creating...":"Create SubTask"})]})]})]})})},c9=({task:e,projectName:t,isOpen:n,onClose:s,onSuccess:a})=>{const{updateTask:o,isLoading:c,error:d}=hT(),{assignTask:f,unassignTask:h}=mT(),{updateTaskProgress:p}=bT(),{updateTaskProgressByStatus:g}=yT(),{currentUser:y}=or(),{data:b,isLoading:j}=mc(t),{data:v}=bn("Project",t),S=(v==null?void 0:v.users)||[],{data:N}=Ot("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","Task"],["reference_name","=",(e==null?void 0:e.name)||""]]}),{data:R}=Ot("SubTask",{fields:["name"],filters:[["task","=",(e==null?void 0:e.name)||""]],limit:1}),E=()=>{if(y==="Administrator"||(v==null?void 0:v.owner)===y)return!0;const $=S.find(G=>G.user===y);return($==null?void 0:$.project_status)==="Project Manager (Owner Substitute)"},[k,D]=_.useState({subject:"",status:"Open",priority:"Medium",exp_start_date:"",exp_end_date:"",progress:0,description:"",assign_to:""}),[C,A]=_.useState(!1);_.useEffect(()=>{var $;if(e){const G=(($=N==null?void 0:N[0])==null?void 0:$.allocated_to)||"";D({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",exp_start_date:e.exp_start_date?e.exp_start_date.split(" ")[0]:"",exp_end_date:e.exp_end_date?e.exp_end_date.split(" ")[0]:"",progress:e.progress||0,description:e.description||"",assign_to:G})}},[e,N]),_.useEffect(()=>{A(!!(R&&R.length>0))},[R]);const P=($,G)=>{D(W=>oe(z({},W),{[$]:G}))},U=$=>ve(null,null,function*(){var G,W,ee;if($.preventDefault(),!!e){if(k.status==="Completed"&&!E()){un.error("Permission denied",{description:"You don't have permission to mark this task as Completed. Only Project Owner, Project Manager, or Administrator can do this."});return}if(k.exp_start_date&&k.exp_end_date){const Y=new Date(k.exp_start_date);if(new Date(k.exp_end_date)<Y){un.error("End date cannot be earlier than start date");return}}if(k.exp_end_date&&(v!=null&&v.expected_end_date)){const Y=new Date(k.exp_end_date),H=new Date(v.expected_end_date);if(Y>H){un.error(`Task end date cannot be after project end date (${v.expected_end_date})`);return}}try{const Y=k.progress!==(e.progress||0),H=k.status!==e.status;C&&Y?yield p(e.name,k.progress):H&&(k.status==="Completed"||k.status==="Cancelled")?yield g(e.name,k.status):yield o(e.name,k);const J=((G=N==null?void 0:N[0])==null?void 0:G.allocated_to)||"",te=k.assign_to;if(J!==te){if(J&&(N!=null&&N[0]))try{yield h(N[0].name)}catch(ce){console.error("Error deleting old ToDo:",ce)}if(te)try{yield f(e.name,k.subject,te,k.priority)}catch(ce){console.error("Error creating new ToDo:",ce)}}un.success("Task updated successfully",{description:`Task "${k.subject}" has been updated.`}),a&&a(),s()}catch(Y){console.error("Error updating task:",Y);let H="Failed to update task";(W=Y==null?void 0:Y.message)!=null&&W.includes("modified")?H="The task has been modified by someone else. Please close and reopen the task to get the latest version.":(ee=Y==null?void 0:Y.message)!=null&&ee.includes("permission")?H="You do not have permission to update this task.":Y!=null&&Y.message&&(H=Y.message),un.error("Failed to update task",{description:H})}}}),K=()=>{var $;if(e){const G=(($=N==null?void 0:N[0])==null?void 0:$.allocated_to)||"";D({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",exp_start_date:e.exp_start_date?e.exp_start_date.split(" ")[0]:"",exp_end_date:e.exp_end_date?e.exp_end_date.split(" ")[0]:"",progress:e.progress||0,description:e.description||"",assign_to:G})}s()};return i.jsx(gs,{open:n,onOpenChange:s,children:i.jsxs(xs,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[i.jsx(ys,{children:i.jsx(bs,{children:"Edit Task"})}),i.jsxs("form",{onSubmit:U,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"subject",children:"Subject *"}),i.jsx(zt,{id:"subject",value:k.subject,onChange:$=>P("subject",$.target.value),required:!0,placeholder:"Enter task subject"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"status",children:"Status"}),i.jsxs("select",{id:"status",value:k.status,onChange:$=>P("status",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"Open",children:"Open"}),i.jsx("option",{value:"Working",children:"Working"}),i.jsx("option",{value:"Pending Review",children:"Pending Review"}),i.jsx("option",{value:"Overdue",children:"Overdue"}),i.jsx("option",{value:"Template",children:"Template"}),E()&&i.jsx("option",{value:"Completed",children:"Completed"}),i.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),!E()&&i.jsx("span",{className:"text-xs text-amber-600",children:"You don't have permission to mark Completed"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"priority",children:"Priority"}),i.jsxs("select",{id:"priority",value:k.priority,onChange:$=>P("priority",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"Low",children:"Low"}),i.jsx("option",{value:"Medium",children:"Medium"}),i.jsx("option",{value:"High",children:"High"}),i.jsx("option",{value:"Urgent",children:"Urgent"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"assign_to",children:"Assign To"}),i.jsxs("select",{id:"assign_to",value:k.assign_to,onChange:$=>P("assign_to",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:j,children:[i.jsx("option",{value:"",children:"Select user to assign (Optional)"}),b==null?void 0:b.map($=>i.jsxs("option",{value:$.user||$.name,children:[$.full_name||$.name,$.email&&` (${$.email})`]},$.user||$.name))]}),j&&i.jsx("p",{className:"text-sm text-gray-500",children:"Loading users..."}),!j&&b&&b.length>10&&i.jsx("p",{className:"text-sm text-amber-600",children:"⚠️ Showing all system users (project users not available)"}),N&&N.length>0&&i.jsx("p",{className:"text-sm text-blue-600",children:"💡 Changing assignment will update the ToDo automatically"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"exp_start_date",children:"Expected Start Date"}),i.jsx(zt,{id:"exp_start_date",type:"date",value:k.exp_start_date,onChange:$=>P("exp_start_date",$.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"exp_end_date",children:"Expected End Date"}),i.jsx(zt,{id:"exp_end_date",type:"date",value:k.exp_end_date,onChange:$=>P("exp_end_date",$.target.value),max:(v==null?void 0:v.expected_end_date)||void 0}),(v==null?void 0:v.expected_end_date)&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Must be before project end date: ",v.expected_end_date]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"progress",children:"Progress (%)"}),i.jsx(zt,{id:"progress",type:"number",min:"0",max:"100",value:k.progress,onChange:$=>P("progress",parseInt($.target.value)||0),placeholder:"0",disabled:C}),C?i.jsxs("div",{className:"text-sm text-blue-600 bg-blue-50 p-2 rounded",children:[i.jsx("strong",{children:"🔄 Smart Progress Mode:"}),i.jsxs("ul",{className:"mt-1 ml-4 list-disc text-xs",children:[i.jsx("li",{children:"Progress is automatically calculated from subtasks"}),i.jsx("li",{children:"Only assignee can manually override progress"}),i.jsx("li",{children:"Project leaders can set progress via status changes"})]})]}):i.jsxs("div",{className:"text-sm text-green-600 bg-green-50 p-2 rounded",children:[i.jsx("strong",{children:"✏️ Manual Progress Mode:"}),i.jsx("span",{className:"text-xs",children:" Progress can be updated manually by anyone with edit permission"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"description",children:"Description"}),i.jsx("textarea",{id:"description",value:k.description,onChange:$=>P("description",$.target.value),placeholder:"Enter task description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),d&&i.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:i.jsxs("p",{children:[i.jsx("strong",{children:"Error:"})," ",d.message||"Failed to update task"]})}),i.jsxs(As,{className:"flex gap-2",children:[i.jsx(Ie,{type:"button",variant:"outline",onClick:K,children:"Cancel"}),i.jsx(Ie,{type:"submit",disabled:c,children:c?"Updating...":"Update Task"})]})]})]})})},u9=({task:e,isOpen:t,onClose:n,onSuccess:s})=>{const{deleteDoc:a,loading:o,error:c}=dm(),[d,f]=_.useState(!1),h=()=>ve(null,null,function*(){var g,y;if(e){f(!0);try{const b=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"SubTask",fields:["name"],filters:[["task","=",e.name]]})});if(b.ok){const v=(yield b.json()).message||[];if(v.length>0)for(const S of v)yield a("SubTask",S.name)}try{const j=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","subject","status","priority","start_date","end_date","progress","details","costing"],filters:[["project","=",e.project]],orderBy:{field:"start_date",order:"asc"}})});if(j.ok){const S=(yield j.json()).message||[],N=[];for(const R of S)try{const E=yield fetch(`/api/resource/project_phase/${R.name}`,{headers:{Accept:"application/json"}});if(E.ok){const k=yield E.json(),D=((g=k.data)==null?void 0:g.tasks)||[],C=D.findIndex(A=>A.task===e.name);C>=0&&(console.log(`Found task ${e.name} in phase ${R.name}, will remove from child table...`),D.splice(C,1),N.push({name:R.name,data:oe(z({},k.data),{tasks:D})}))}else console.warn("Failed to fetch phase:",R.name)}catch(E){console.error("Error fetching phase:",R.name,E)}for(const R of N)try{(yield fetch(`/api/resource/project_phase/${R.name}`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(R.data)})).ok?console.log(`Successfully removed task ${e.name} from phase ${R.name}`):console.warn(`Failed to update phase ${R.name} after removing task`)}catch(E){console.error(`Error updating phase ${R.name}:`,E)}}else console.warn("Failed to fetch phases list, proceeding with task deletion...")}catch(j){console.warn("Error checking phases for task references:",j)}yield a("Task",e.name),console.log(`Successfully deleted task ${e.name}`),s&&s(),n()}catch(b){console.error("Error deleting task:",b),(y=b==null?void 0:b.exception)!=null&&y.includes("LinkExistsError")?b.exception.includes("project_phase")||b.exception.includes("phase")?alert("Cannot delete task because it is still linked with project phases. The system tried to remove phase task links automatically but failed. Please contact administrator."):b.exception.includes("SubTask")?alert("Cannot delete task because it has linked subtasks. Please delete all subtasks first."):alert("Cannot delete task because it has linked dependencies. Please check related records."):alert("Error deleting task. Please try again.")}finally{f(!1)}}}),p=()=>{n()};return i.jsx(gs,{open:t,onOpenChange:n,children:i.jsxs(xs,{className:"sm:max-w-[400px]",children:[i.jsx(ys,{children:i.jsxs(bs,{className:"flex items-center gap-2 text-red-600",children:[i.jsx(oc,{className:"h-5 w-5"}),"Delete Task"]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this task? This action cannot be undone."}),e&&i.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[i.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),i.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),i.jsxs("div",{className:"text-sm text-gray-600",children:["Priority: ",e.priority||"Medium"]}),i.jsxs("div",{className:"text-sm text-gray-600",children:["Progress: ",e.progress||0,"%"]}),e.project&&i.jsxs("div",{className:"text-sm text-blue-600",children:["Project: ",e.project]})]}),i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[i.jsxs("div",{className:"text-sm text-red-800",children:[i.jsx("strong",{children:"⚠️ Warning:"})," Deleting this task will automatically:"]}),i.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Delete ALL subtasks first"})," (to resolve SubTask dependencies)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Remove task from ALL phase child tables"})," (for any phases this task is assigned to)"]}),i.jsx("li",{children:"Remove all task progress data"}),i.jsx("li",{children:"Delete task timeline and activities"}),i.jsx("li",{children:"Remove related comments and attachments"})]}),i.jsx("div",{className:"text-xs text-red-600 mt-2 font-medium",children:"💡 The system will automatically search and handle ALL dependencies to prevent LinkExistsError."})]}),c&&i.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:i.jsxs("p",{children:[i.jsx("strong",{children:"Error:"})," ",c.message||"Failed to delete task"]})})]}),i.jsxs(As,{className:"flex gap-2",children:[i.jsx(Ie,{type:"button",variant:"outline",onClick:p,disabled:d,children:"Cancel"}),i.jsx(Ie,{type:"button",variant:"destructive",onClick:h,disabled:d||o,children:d?"Deleting Task & SubTasks...":o?"Deleting...":"Delete Task"})]})]})})},hk=()=>{const{calculateAndUpdatePhaseProgress:e}=wT(),{calculateAndUpdateProjectProgress:t}=$L();return{updatePhaseProgressForTask:(a,o)=>ve(null,null,function*(){try{const c=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","tasks"],filters:[["project","=",o]]})});if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);const f=(yield c.json()).message||[],h=[];for(const p of f)try{const g=yield fetch(`/api/resource/project_phase/${p.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(g.ok){const y=yield g.json();y.data.tasks&&y.data.tasks.some(b=>b.task===a)&&h.push(p)}}catch(g){console.warn("Error fetching phase document:",p.name,g)}console.log(`Found ${h.length} phases affected by task ${a}`);for(const p of h)console.log(`Updating progress for phase ${p.name} after task ${a} change`),yield e(p.name);return console.log(`Updating overall project progress for ${o} after task ${a} change`),yield t(o),console.log(`Updated progress for ${h.length} phases and project ${o} affected by task ${a}`),h}catch(c){return console.error("Error updating phase progress for task:",c),[]}}),updateProjectProgress:a=>ve(null,null,function*(){try{console.log(`Updating overall project progress for ${a}`);const o=yield t(a);return o&&console.log(`Project ${a} progress updated to ${o.progress}% from ${o.source} (${o.count} items)`),o}catch(o){return console.error("Error updating project progress:",o),null}})}},d9=({task:e,projectName:t,onBack:n,onViewSubTaskDetails:s,onTaskUpdated:a,onTaskDeleted:o})=>{const[c,d]=_.useState(!1),[f,h]=_.useState(!1),[p,g]=_.useState(!1),{updatePhaseProgressForTask:y}=hk(),{calculateAndUpdateTaskProgress:b}=pd(),{data:j,isLoading:v,mutate:S}=Ot("SubTask",{fields:["name","subject","task","status","progress","start_date","end_date","description"],filters:[["task","=",e.name]],orderBy:{field:"start_date",order:"asc"},limit:0}),{data:N}=Ot("ToDo",{fields:["name","allocated_to","status"],filters:[["reference_type","=","Task"],["reference_name","=",e.name]],limit:1}),R=N&&N.length>0?N[0].allocated_to:null,{data:E}=bn("User",R||void 0,{fields:["name","full_name","email","user_image"]}),k=$=>$?new Date($).toLocaleDateString():"N/A",D=$=>{switch($){case"Completed":return i.jsx(ty,{className:"h-5 w-5 text-green-600"});case"Working":return i.jsx(zo,{className:"h-5 w-5 text-yellow-600"});case"Open":return i.jsx(Ui,{className:"h-5 w-5 text-blue-600"});default:return i.jsx(Ui,{className:"h-5 w-5 text-gray-400"})}},C=$=>{switch($){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},A=$=>{switch($){case"Urgent":return"bg-red-100 text-red-800 border-red-200";case"High":return"bg-orange-100 text-orange-800 border-orange-200";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},P=()=>{a&&a(),y(e.name,t).catch(console.error)},U=()=>{o&&o(),y(e.name,t).catch(console.error),n()},K=({subtask:$})=>{var ee;const{data:G}=Ot("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",($==null?void 0:$.name)||""]]}),W=(ee=G==null?void 0:G[0])==null?void 0:ee.allocated_to;return i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{children:W})})};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Ie,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-2",children:[i.jsx(ey,{className:"h-4 w-4"}),"Back to Tasks"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>h(!0),className:"flex items-center gap-2",children:[i.jsx(Fo,{className:"h-4 w-4"}),"Edit Task"]}),i.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>g(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[i.jsx(Fi,{className:"h-4 w-4"}),"Delete Task"]})]})]}),i.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 border border-orange-200 rounded-xl p-6",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"h-12 w-12 rounded-lg bg-orange-500 flex items-center justify-center",children:i.jsx("span",{className:"text-xl",children:"📝"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.subject}),i.jsx("p",{className:"text-sm text-gray-600",children:"Task Details"})]})]}),e.description&&i.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.description})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${C(e.status||"Open")}`,children:[D(e.status||"Open"),i.jsx("span",{className:"font-medium",children:e.status||"Open"})]}),e.priority&&i.jsx("div",{className:`px-3 py-1 rounded-full border ${A(e.priority)}`,children:i.jsx("span",{className:"text-sm font-medium",children:e.priority})})]})]}),i.jsxs("div",{className:"mt-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Task Progress"}),i.jsxs("span",{className:"text-lg font-bold text-orange-600",children:[e.progress||0,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:i.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-yellow-600 h-3 rounded-full transition-all duration-500",style:{width:`${e.progress||0}%`}})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:i.jsx(Ws,{className:"h-6 w-6 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),i.jsx("p",{className:"text-lg font-bold text-gray-900",children:k(e.exp_start_date)})]})]})}),i.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:i.jsx(ry,{className:"h-6 w-6 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),i.jsx("p",{className:"text-lg font-bold text-gray-900",children:k(e.exp_end_date)})]})]})}),i.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:i.jsx(Gu,{className:"h-6 w-6 text-green-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Assigned To"}),N&&N.length>0?i.jsxs("div",{children:[i.jsx("p",{className:"text-lg font-bold text-gray-900",children:(E==null?void 0:E.full_name)||R}),(E==null?void 0:E.email)&&i.jsx("p",{className:"text-sm text-gray-600",children:E.email})]}):i.jsx("p",{className:"text-lg font-bold text-gray-900",children:"Unassigned"})]})]})})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Task Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Task ID"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:e.name})]}),i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),i.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${C(e.status||"Open")}`,children:[D(e.status||"Open"),i.jsx("span",{className:"font-medium",children:e.status||"Open"})]})]}),i.jsxs("div",{className:"flex items-center justify-between py-3",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),i.jsx("div",{className:`px-3 py-1 rounded-full ${A(e.priority||"Medium")}`,children:i.jsx("span",{className:"font-medium",children:e.priority||"Medium"})})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Subtasks Count"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:(j==null?void 0:j.length)||0})]}),i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:e.exp_start_date&&e.exp_end_date?`${Math.ceil((new Date(e.exp_end_date).getTime()-new Date(e.exp_start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Progress"}),i.jsxs("span",{className:"text-xl font-bold text-orange-600",children:[e.progress||0,"%"]})]}),i.jsxs("div",{className:"flex items-center justify-between py-3",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Assigned To"}),N&&N.length>0?i.jsx("div",{children:i.jsx("p",{className:"text-lg font-bold text-gray-900",children:(E==null?void 0:E.full_name)||R})}):i.jsx("p",{className:"text-lg font-bold text-gray-900",children:"Unassigned"})]})]})]})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"SubTasks"})}),v?i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),i.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),i.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"})]}):i.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[i.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:i.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3",children:[i.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700",children:"#"}),i.jsx("div",{className:"col-span-5 text-sm font-medium text-gray-700",children:"SubTask"}),i.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Status"}),i.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Assign To"}),i.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Actions"})]})}),i.jsxs("div",{className:"divide-y divide-gray-100",children:[j&&j.length>0?j.map(($,G)=>i.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[i.jsx("div",{className:"col-span-1 flex items-center",children:i.jsx("span",{className:"text-sm text-gray-600",children:G+1})}),i.jsxs("div",{className:"col-span-5 flex items-center gap-3",children:[i.jsx("div",{className:"p-1 bg-green-100 rounded",children:i.jsx("span",{className:"text-sm",children:"✅"})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-900",children:$.subject||$.name}),i.jsx("div",{className:"text-sm text-gray-500",children:$.name})]})]}),i.jsx("div",{className:"col-span-2 flex items-center justify-center",children:i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${C($.status||"Open")}`,children:$.status||"Open"})}),i.jsx("div",{className:"col-span-2 flex items-center justify-center",children:i.jsx(K,{subtask:$})}),i.jsx("div",{className:"col-span-2 flex items-center justify-center",children:s&&i.jsx(Ie,{variant:"outline",size:"sm",onClick:()=>s($),className:"h-7 px-2 text-xs",children:"View Details"})})]},$.name)):i.jsxs("div",{className:"px-6 py-8 text-center text-gray-500",children:[i.jsx("div",{className:"text-4xl mb-2",children:"✅"}),i.jsx("div",{className:"text-lg font-medium mb-1",children:"No subtasks yet"}),i.jsx("div",{className:"text-sm",children:'Click "Add SubTask" to create the first subtask for this task'})]}),i.jsx("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 bg-gray-50 border-t border-gray-200",children:i.jsx("div",{className:"col-span-12 flex items-center justify-center",children:i.jsxs(Ie,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",onClick:()=>d(!0),children:[i.jsx(qr,{className:"h-4 w-4"}),"Add new subtask to this task"]})})})]})]})]}),i.jsx(Dm,{doctype:"Task",docname:e.name,title:"Task Files",allowUpload:!0,allowDelete:!0,className:"mt-8"}),i.jsx(l9,{isOpen:c,onClose:()=>d(!1),projectName:t,parentTask:e.name,onSuccess:()=>ve(null,null,function*(){S(),setTimeout(()=>ve(null,null,function*(){yield b(e.name),setTimeout(()=>ve(null,null,function*(){yield y(e.name,t)}),500)}),500)})}),i.jsx(c9,{task:e,projectName:t,isOpen:f,onClose:()=>h(!1),onSuccess:P}),i.jsx(u9,{task:e,isOpen:p,onClose:()=>g(!1),onSuccess:U})]})},f9=({subtask:e,projectName:t,isOpen:n,onClose:s,onSuccess:a})=>{var k;const{updateSubTask:o,isLoading:c,error:d}=xT(),{assignSubTask:f,unassignSubTask:h}=_y(),{calculateAndUpdateTaskProgress:p}=pd(),{data:g,isLoading:y}=mc(t),{data:b}=Ot("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(e==null?void 0:e.name)||""]]}),[j,v]=_.useState({subject:"",status:"Open",start_date:"",end_date:"",description:"",assign_to:""}),S=((k=b==null?void 0:b[0])==null?void 0:k.allocated_to)||"";_.useEffect(()=>{e&&v({subject:e.subject||"",status:e.status||"Open",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",description:e.description||"",assign_to:S})},[e,S]);const N=(D,C)=>{v(A=>oe(z({},A),{[D]:C}))},R=D=>ve(null,null,function*(){if(D.preventDefault(),!!e)try{const C=j,{assign_to:A}=C,P=Ce(C,["assign_to"]);yield o(e.name,P);const U=S,K=A;if(U&&U!==K){const $=b==null?void 0:b.find(G=>G.allocated_to===U);$&&(yield h($.name))}K&&K!==U&&(yield f(e.name,K)),e.task&&P.status!==e.status&&(yield p(e.task)),a&&a(),s()}catch(A){console.error("Error updating subtask:",A)}}),E=()=>{e&&v({subject:e.subject||"",status:e.status||"Open",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",description:e.description||"",assign_to:S}),s()};return i.jsx(gs,{open:n,onOpenChange:s,children:i.jsxs(xs,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[i.jsx(ys,{children:i.jsx(bs,{children:"Edit SubTask"})}),i.jsxs("form",{onSubmit:R,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"subject",children:"Subject *"}),i.jsx(zt,{id:"subject",value:j.subject,onChange:D=>N("subject",D.target.value),required:!0,placeholder:"Enter subtask subject"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"status",children:"Status"}),i.jsxs("select",{id:"status",value:j.status,onChange:D=>N("status",D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"Open",children:"Open"}),i.jsx("option",{value:"Working",children:"Working"}),i.jsx("option",{value:"Completed",children:"Completed"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"start_date",children:"Start Date"}),i.jsx(zt,{id:"start_date",type:"date",value:j.start_date,onChange:D=>N("start_date",D.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"end_date",children:"End Date"}),i.jsx(zt,{id:"end_date",type:"date",value:j.end_date,onChange:D=>N("end_date",D.target.value)})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"description",children:"Description"}),i.jsx("textarea",{id:"description",value:j.description,onChange:D=>N("description",D.target.value),placeholder:"Enter subtask description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"assign_to",children:"Assign To"}),i.jsxs("select",{id:"assign_to",value:j.assign_to,onChange:D=>N("assign_to",D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:y,children:[i.jsx("option",{value:"",children:"Select user..."}),g==null?void 0:g.map(D=>i.jsx("option",{value:D.user||D.name,children:D.user||D.name},D.name))]}),y&&i.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),d&&i.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:i.jsxs("p",{children:[i.jsx("strong",{children:"Error:"})," ",d.message||"Failed to update subtask"]})}),i.jsxs(As,{className:"flex gap-2",children:[i.jsx(Ie,{type:"button",variant:"outline",onClick:E,children:"Cancel"}),i.jsx(Ie,{type:"submit",disabled:c,children:c?"Updating...":"Update SubTask"})]})]})]})})},h9=({subtask:e,isOpen:t,onClose:n,onSuccess:s})=>{const{call:a,loading:o,error:c}=ms("frappe.client.delete"),{calculateAndUpdateTaskProgress:d}=pd(),f=()=>ve(null,null,function*(){if(e)try{if(yield a({doctype:"SubTask",name:e.name}),e.task)try{yield d(e.task)}catch(p){console.error("Error updating task progress after subtask deletion:",p)}s&&s(),n()}catch(p){console.error("Error deleting subtask:",p)}}),h=()=>{n()};return i.jsx(gs,{open:t,onOpenChange:n,children:i.jsxs(xs,{className:"sm:max-w-[400px]",children:[i.jsx(ys,{children:i.jsxs(bs,{className:"flex items-center gap-2 text-red-600",children:[i.jsx(oc,{className:"h-5 w-5"}),"Delete SubTask"]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this subtask? This action cannot be undone."}),e&&i.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[i.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),i.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),i.jsxs("div",{className:"text-sm text-gray-600",children:["Progress: ",e.progress||0,"%"]}),i.jsxs("div",{className:"text-sm text-gray-600",children:["Task: ",e.task]})]}),i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[i.jsxs("div",{className:"text-sm text-red-800",children:[i.jsx("strong",{children:"Warning:"})," Deleting this subtask will also remove:"]}),i.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[i.jsx("li",{children:"All subtask progress data"}),i.jsx("li",{children:"Subtask timeline and activities"}),i.jsx("li",{children:"Related comments and attachments"}),i.jsx("li",{children:"Any associated time logs"})]})]}),c&&i.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:i.jsxs("p",{children:[i.jsx("strong",{children:"Error:"})," ",c.message||"Failed to delete subtask"]})})]}),i.jsxs(As,{className:"flex gap-2",children:[i.jsx(Ie,{type:"button",variant:"outline",onClick:h,children:"Cancel"}),i.jsx(Ie,{type:"button",variant:"destructive",onClick:f,disabled:o,children:o?"Deleting...":"Delete SubTask"})]})]})})},m9=({subtask:e,projectName:t,onBack:n,onSubTaskUpdated:s,onSubTaskDeleted:a})=>{var E;const[o,c]=_.useState(!1),[d,f]=_.useState(!1),{calculateAndUpdateTaskProgress:h}=pd(),{updatePhaseProgressForTask:p}=hk(),{data:g}=Ot("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(e==null?void 0:e.name)||""]]}),y=(E=g==null?void 0:g[0])==null?void 0:E.allocated_to,{data:b}=bn("User",y||"",{shouldFetch:!!y}),j=k=>k?new Date(k).toLocaleDateString():"N/A",v=k=>{switch(k){case"Completed":return i.jsx(ty,{className:"h-5 w-5 text-green-600"});case"Working":return i.jsx(zo,{className:"h-5 w-5 text-yellow-600"});case"Open":return i.jsx(Ui,{className:"h-5 w-5 text-blue-600"});default:return i.jsx(Ui,{className:"h-5 w-5 text-gray-400"})}},S=k=>{switch(k){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},N=()=>ve(null,null,function*(){if(e!=null&&e.task)try{yield h(e.task);try{console.log(`Updating phase progress for task ${e.task} in project ${t}`),yield p(e.task,t),console.log("Phase and project progress updated after subtask edit")}catch(k){console.error("Error updating phase progress after subtask edit:",k)}}catch(k){console.error("Error updating task progress after subtask edit:",k)}s&&s()}),R=()=>ve(null,null,function*(){if(e!=null&&e.task)try{yield h(e.task);try{console.log(`Updating phase progress for task ${e.task} in project ${t}`),yield p(e.task,t),console.log("Phase and project progress updated after subtask delete")}catch(k){console.error("Error updating phase progress after subtask delete:",k)}}catch(k){console.error("Error updating task progress after subtask delete:",k)}a&&a(),n()});return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Ie,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-2",children:[i.jsx(ey,{className:"h-4 w-4"}),"Back to Tasks"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>c(!0),className:"flex items-center gap-2",children:[i.jsx(Fo,{className:"h-4 w-4"}),"Edit SubTask"]}),i.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>f(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[i.jsx(Fi,{className:"h-4 w-4"}),"Delete SubTask"]})]})]}),i.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-6",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"h-12 w-12 rounded-lg bg-green-500 flex items-center justify-center",children:i.jsx("span",{className:"text-xl",children:"✅"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.subject}),i.jsx("p",{className:"text-sm text-gray-600",children:"SubTask Details"})]})]}),e.description&&i.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.description})]}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${S(e.status||"Open")}`,children:[v(e.status||"Open"),i.jsx("span",{className:"font-medium",children:e.status||"Open"})]})})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:i.jsx(Ws,{className:"h-6 w-6 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),i.jsx("p",{className:"text-lg font-bold text-gray-900",children:j(e.start_date)})]})]})}),i.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:i.jsx(ry,{className:"h-6 w-6 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),i.jsx("p",{className:"text-lg font-bold text-gray-900",children:j(e.end_date)})]})]})}),i.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-6",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:i.jsx(Tr,{className:"h-6 w-6 text-orange-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-orange-600 uppercase tracking-wide",children:"Parent Task"}),i.jsx("p",{className:"text-lg font-bold text-gray-900",children:e.task||"N/A"})]})]})})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"SubTask Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"SubTask ID"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:e.name})]}),i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Parent Task"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:e.task||"N/A"})]}),i.jsxs("div",{className:"flex items-center justify-between py-3",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),i.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${S(e.status||"Open")}`,children:[v(e.status||"Open"),i.jsx("span",{className:"font-medium",children:e.status||"Open"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Start Date"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:j(e.start_date)})]}),i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"End Date"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:j(e.end_date)})]}),i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:e.start_date&&e.end_date?`${Math.ceil((new Date(e.end_date).getTime()-new Date(e.start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),i.jsxs("div",{className:"flex items-center justify-between py-3 border-t border-gray-100",children:[i.jsxs("span",{className:"text-gray-600 font-medium flex items-center gap-2",children:[i.jsx(Gu,{className:"h-4 w-4"}),"Assigned To"]}),i.jsx("span",{className:"text-gray-900 font-semibold",children:y?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:(b==null?void 0:b.full_name)||y}),(b==null?void 0:b.user_image)&&i.jsx("img",{src:b.user_image,alt:b.full_name||y,className:"h-6 w-6 rounded-full"})]}):i.jsx("span",{className:"text-gray-400",children:"Not assigned"})})]})]})]})]}),e.description&&i.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Description"}),i.jsx("div",{className:"prose max-w-none",children:i.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:e.description})})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Activity Timeline"}),i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx("div",{className:"text-4xl mb-2",children:"📋"}),i.jsx("div",{className:"text-lg font-medium mb-1",children:"No activity yet"}),i.jsx("div",{className:"text-sm",children:"Activity and updates will appear here when available"})]})]}),i.jsx(Dm,{doctype:"SubTask",docname:e.name,title:"SubTask Files",allowUpload:!0,allowDelete:!0,className:"mt-8"}),i.jsx(f9,{subtask:e,projectName:t,isOpen:o,onClose:()=>c(!1),onSuccess:N}),i.jsx(h9,{subtask:e,isOpen:d,onClose:()=>f(!1),onSuccess:R})]})};var $N=1,p9=.9,g9=.8,x9=.17,k0=.1,C0=.999,y9=.9999,b9=.99,v9=/[\\\/_+.#"@\[\(\{&]/,w9=/[\\\/_+.#"@\[\(\{&]/g,j9=/[\s-]/,mk=/[\s-]/g;function Cx(e,t,n,s,a,o,c){if(o===t.length)return a===e.length?$N:b9;var d=`${a},${o}`;if(c[d]!==void 0)return c[d];for(var f=s.charAt(o),h=n.indexOf(f,a),p=0,g,y,b,j;h>=0;)g=Cx(e,t,n,s,h+1,o+1,c),g>p&&(h===a?g*=$N:v9.test(e.charAt(h-1))?(g*=g9,b=e.slice(a,h-1).match(w9),b&&a>0&&(g*=Math.pow(C0,b.length))):j9.test(e.charAt(h-1))?(g*=p9,j=e.slice(a,h-1).match(mk),j&&a>0&&(g*=Math.pow(C0,j.length))):(g*=x9,a>0&&(g*=Math.pow(C0,h-a))),e.charAt(h)!==t.charAt(o)&&(g*=y9)),(g<k0&&n.charAt(h-1)===s.charAt(o+1)||s.charAt(o+1)===s.charAt(o)&&n.charAt(h-1)!==s.charAt(o))&&(y=Cx(e,t,n,s,h+1,o+2,c),y*k0>g&&(g=y*k0)),g>p&&(p=g),h=n.indexOf(f,h+1);return c[d]=p,p}function HN(e){return e.toLowerCase().replace(mk," ")}function _9(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,Cx(e,t,HN(e),HN(t),0,0,{})}function Li(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}var N9="DismissableLayer",Dx="dismissableLayer.update",S9="dismissableLayer.pointerDownOutside",T9="dismissableLayer.focusOutside",VN,pk=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gk=_.forwardRef((e,t)=>{var P;const A=e,{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:c,onDismiss:d}=A,f=Ce(A,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),h=_.useContext(pk),[p,g]=_.useState(null),y=(P=p==null?void 0:p.ownerDocument)!=null?P:globalThis==null?void 0:globalThis.document,[,b]=_.useState({}),j=Cn(t,U=>g(U)),v=Array.from(h.layers),[S]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),N=v.indexOf(S),R=p?v.indexOf(p):-1,E=h.layersWithOutsidePointerEventsDisabled.size>0,k=R>=N,D=C9(U=>{const K=U.target,$=[...h.branches].some(G=>G.contains(K));!k||$||(a==null||a(U),c==null||c(U),U.defaultPrevented||d==null||d())},y),C=D9(U=>{const K=U.target;[...h.branches].some(G=>G.contains(K))||(o==null||o(U),c==null||c(U),U.defaultPrevented||d==null||d())},y);return oy(U=>{R===h.layers.size-1&&(s==null||s(U),!U.defaultPrevented&&d&&(U.preventDefault(),d()))},y),_.useEffect(()=>{if(p)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(VN=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),IN(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=VN)}},[p,y,n,h]),_.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),IN())},[p,h]),_.useEffect(()=>{const U=()=>b({});return document.addEventListener(Dx,U),()=>document.removeEventListener(Dx,U)},[]),i.jsx(Ht.div,oe(z({},f),{ref:j,style:z({pointerEvents:E?k?"auto":"none":void 0},e.style),onFocusCapture:Li(e.onFocusCapture,C.onFocusCapture),onBlurCapture:Li(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Li(e.onPointerDownCapture,D.onPointerDownCapture)}))});gk.displayName=N9;var E9="DismissableLayerBranch",k9=_.forwardRef((e,t)=>{const n=_.useContext(pk),s=_.useRef(null),a=Cn(t,s);return _.useEffect(()=>{const o=s.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),i.jsx(Ht.div,oe(z({},e),{ref:a}))});k9.displayName=E9;function C9(e,t=globalThis==null?void 0:globalThis.document){const n=ga(e),s=_.useRef(!1),a=_.useRef(()=>{});return _.useEffect(()=>{const o=d=>{if(d.target&&!s.current){let f=function(){xk(S9,n,h,{discrete:!0})};const h={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=f,t.addEventListener("click",a.current,{once:!0})):f()}else t.removeEventListener("click",a.current);s.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function D9(e,t=globalThis==null?void 0:globalThis.document){const n=ga(e),s=_.useRef(!1);return _.useEffect(()=>{const a=o=>{o.target&&!s.current&&xk(T9,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function IN(){const e=new CustomEvent(Dx);document.dispatchEvent(e)}function xk(e,t,n,{discrete:s}){const a=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?iy(a,o):a.dispatchEvent(o)}function O9(e,t){return _.useReducer((n,s)=>{const a=t[n][s];return a!=null?a:n},e)}var Om=e=>{const{present:t,children:n}=e,s=A9(t),a=typeof n=="function"?n({present:s.isPresent}):_.Children.only(n),o=Cn(s.ref,R9(a));return typeof n=="function"||s.isPresent?_.cloneElement(a,{ref:o}):null};Om.displayName="Presence";function A9(e){const[t,n]=_.useState(),s=_.useRef(null),a=_.useRef(e),o=_.useRef("none"),c=e?"mounted":"unmounted",[d,f]=O9(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const h=mh(s.current);o.current=d==="mounted"?h:"none"},[d]),Cr(()=>{const h=s.current,p=a.current;if(p!==e){const y=o.current,b=mh(h);e?f("MOUNT"):b==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(p&&y!==b?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,f]),Cr(()=>{var h;if(t){let p;const g=(h=t.ownerDocument.defaultView)!=null?h:window,y=j=>{const S=mh(s.current).includes(j.animationName);if(j.target===t&&S&&(f("ANIMATION_END"),!a.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},b=j=>{j.target===t&&(o.current=mh(s.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",y),t.addEventListener("animationend",y),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",y),t.removeEventListener("animationend",y)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:_.useCallback(h=>{s.current=h?getComputedStyle(h):null,n(h)},[])}}function mh(e){return(e==null?void 0:e.animationName)||"none"}function R9(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var D0=0;function M9(){_.useEffect(()=>{var t,n;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:qN()),document.body.insertAdjacentElement("beforeend",(n=e[1])!=null?n:qN()),D0++,()=>{D0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),D0--}},[])}function qN(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Am="Dialog",[yk,hH]=cd(Am),[P9,Kr]=yk(Am),bk=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:o,modal:c=!0}=e,d=_.useRef(null),f=_.useRef(null),[h,p]=ym({prop:s,defaultProp:a!=null?a:!1,onChange:o,caller:Am});return i.jsx(P9,{scope:t,triggerRef:d,contentRef:f,contentId:Es(),titleId:Es(),descriptionId:Es(),open:h,onOpenChange:p,onOpenToggle:_.useCallback(()=>p(g=>!g),[p]),modal:c,children:n})};bk.displayName=Am;var vk="DialogTrigger",L9=_.forwardRef((e,t)=>{const c=e,{__scopeDialog:n}=c,s=Ce(c,["__scopeDialog"]),a=Kr(vk,n),o=Cn(t,a.triggerRef);return i.jsx(Ht.button,oe(z({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":rb(a.open)},s),{ref:o,onClick:Li(e.onClick,a.onOpenToggle)}))});L9.displayName=vk;var nb="DialogPortal",[z9,wk]=yk(nb,{forceMount:void 0}),jk=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:a}=e,o=Kr(nb,t);return i.jsx(z9,{scope:t,forceMount:n,children:_.Children.map(s,c=>i.jsx(Om,{present:n||o.open,children:i.jsx(fd,{asChild:!0,container:a,children:c})}))})};jk.displayName=nb;var lm="DialogOverlay",_k=_.forwardRef((e,t)=>{const n=wk(lm,e.__scopeDialog),c=e,{forceMount:s=n.forceMount}=c,a=Ce(c,["forceMount"]),o=Kr(lm,e.__scopeDialog);return o.modal?i.jsx(Om,{present:s||o.open,children:i.jsx(F9,oe(z({},a),{ref:t}))}):null});_k.displayName=lm;var U9=lc("DialogOverlay.RemoveScroll"),F9=_.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Ce(o,["__scopeDialog"]),a=Kr(lm,n);return i.jsx(hd,{as:U9,allowPinchZoom:!0,shards:[a.contentRef],children:i.jsx(Ht.div,oe(z({"data-state":rb(a.open)},s),{ref:t,style:z({pointerEvents:"auto"},s.style)}))})}),qo="DialogContent",Nk=_.forwardRef((e,t)=>{const n=wk(qo,e.__scopeDialog),c=e,{forceMount:s=n.forceMount}=c,a=Ce(c,["forceMount"]),o=Kr(qo,e.__scopeDialog);return i.jsx(Om,{present:s||o.open,children:o.modal?i.jsx(B9,oe(z({},a),{ref:t})):i.jsx($9,oe(z({},a),{ref:t}))})});Nk.displayName=qo;var B9=_.forwardRef((e,t)=>{const n=Kr(qo,e.__scopeDialog),s=_.useRef(null),a=Cn(t,n.contentRef,s);return _.useEffect(()=>{const o=s.current;if(o)return bm(o)},[]),i.jsx(Sk,oe(z({},e),{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Li(e.onCloseAutoFocus,o=>{var c;o.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Li(e.onPointerDownOutside,o=>{const c=o.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&o.preventDefault()}),onFocusOutside:Li(e.onFocusOutside,o=>o.preventDefault())}))}),$9=_.forwardRef((e,t)=>{const n=Kr(qo,e.__scopeDialog),s=_.useRef(!1),a=_.useRef(!1);return i.jsx(Sk,oe(z({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,d;(c=e.onCloseAutoFocus)==null||c.call(e,o),o.defaultPrevented||(s.current||(d=n.triggerRef.current)==null||d.focus(),o.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:o=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=o.target;((h=n.triggerRef.current)==null?void 0:h.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}}))}),Sk=_.forwardRef((e,t)=>{const p=e,{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o}=p,c=Ce(p,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),d=Kr(qo,n),f=_.useRef(null),h=Cn(t,f);return M9(),i.jsxs(i.Fragment,{children:[i.jsx(ud,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:o,children:i.jsx(gk,oe(z({role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":rb(d.open)},c),{ref:h,onDismiss:()=>d.onOpenChange(!1)}))}),i.jsxs(i.Fragment,{children:[i.jsx(q9,{titleId:d.titleId}),i.jsx(Y9,{contentRef:f,descriptionId:d.descriptionId})]})]})}),sb="DialogTitle",H9=_.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Ce(o,["__scopeDialog"]),a=Kr(sb,n);return i.jsx(Ht.h2,oe(z({id:a.titleId},s),{ref:t}))});H9.displayName=sb;var Tk="DialogDescription",V9=_.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Ce(o,["__scopeDialog"]),a=Kr(Tk,n);return i.jsx(Ht.p,oe(z({id:a.descriptionId},s),{ref:t}))});V9.displayName=Tk;var Ek="DialogClose",I9=_.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Ce(o,["__scopeDialog"]),a=Kr(Ek,n);return i.jsx(Ht.button,oe(z({type:"button"},s),{ref:t,onClick:Li(e.onClick,()=>a.onOpenChange(!1))}))});I9.displayName=Ek;function rb(e){return e?"open":"closed"}var kk="DialogTitleWarning",[mH,Ck]=ay(kk,{contentName:qo,titleName:sb,docsSlug:"dialog"}),q9=({titleId:e})=>{const t=Ck(kk),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return _.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},W9="DialogDescriptionWarning",Y9=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ck(W9).contentName}}.`;return _.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},X9=bk,G9=jk,K9=_k,Q9=Nk,Ou='[cmdk-group=""]',O0='[cmdk-group-items=""]',Z9='[cmdk-group-heading=""]',Dk='[cmdk-item=""]',WN=`${Dk}:not([aria-disabled="true"])`,Ox="cmdk-item-select",Il="data-value",J9=(e,t,n)=>_9(e,t,n),Ok=_.createContext(void 0),vd=()=>_.useContext(Ok),Ak=_.createContext(void 0),ab=()=>_.useContext(Ak),Rk=_.createContext(void 0),Mk=_.forwardRef((e,t)=>{let n=ql(()=>{var V,ne;return{search:"",value:(ne=(V=e.value)!=null?V:e.defaultValue)!=null?ne:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=ql(()=>new Set),a=ql(()=>new Map),o=ql(()=>new Map),c=ql(()=>new Set),d=Pk(e),re=e,{label:f,children:h,value:p,onValueChange:g,filter:y,shouldFilter:b,loop:j,disablePointerSelection:v=!1,vimBindings:S=!0}=re,N=Ce(re,["label","children","value","onValueChange","filter","shouldFilter","loop","disablePointerSelection","vimBindings"]),R=Es(),E=Es(),k=Es(),D=_.useRef(null),C=u7();Wo(()=>{if(p!==void 0){let V=p.trim();n.current.value=V,A.emit()}},[p]),Wo(()=>{C(6,W)},[]);let A=_.useMemo(()=>({subscribe:V=>(c.current.add(V),()=>c.current.delete(V)),snapshot:()=>n.current,setState:(V,ne,xe)=>{var me,Ee,De,He;if(!Object.is(n.current[V],ne)){if(n.current[V]=ne,V==="search")G(),K(),C(1,$);else if(V==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Pe=document.getElementById(k);Pe?Pe.focus():(me=document.getElementById(R))==null||me.focus()}if(C(7,()=>{var Pe;n.current.selectedItemId=(Pe=ee())==null?void 0:Pe.id,A.emit()}),xe||C(5,W),((Ee=d.current)==null?void 0:Ee.value)!==void 0){let Pe=ne!=null?ne:"";(He=(De=d.current).onValueChange)==null||He.call(De,Pe);return}}A.emit()}},emit:()=>{c.current.forEach(V=>V())}}),[]),P=_.useMemo(()=>({value:(V,ne,xe)=>{var me;ne!==((me=o.current.get(V))==null?void 0:me.value)&&(o.current.set(V,{value:ne,keywords:xe}),n.current.filtered.items.set(V,U(ne,xe)),C(2,()=>{K(),A.emit()}))},item:(V,ne)=>(s.current.add(V),ne&&(a.current.has(ne)?a.current.get(ne).add(V):a.current.set(ne,new Set([V]))),C(3,()=>{G(),K(),n.current.value||$(),A.emit()}),()=>{o.current.delete(V),s.current.delete(V),n.current.filtered.items.delete(V);let xe=ee();C(4,()=>{G(),(xe==null?void 0:xe.getAttribute("id"))===V&&$(),A.emit()})}),group:V=>(a.current.has(V)||a.current.set(V,new Set),()=>{o.current.delete(V),a.current.delete(V)}),filter:()=>d.current.shouldFilter,label:f||e["aria-label"],getDisablePointerSelection:()=>d.current.disablePointerSelection,listId:R,inputId:k,labelId:E,listInnerRef:D}),[]);function U(V,ne){var xe,me;let Ee=(me=(xe=d.current)==null?void 0:xe.filter)!=null?me:J9;return V?Ee(V,n.current.search,ne):0}function K(){if(!n.current.search||d.current.shouldFilter===!1)return;let V=n.current.filtered.items,ne=[];n.current.filtered.groups.forEach(me=>{let Ee=a.current.get(me),De=0;Ee.forEach(He=>{let Pe=V.get(He);De=Math.max(Pe,De)}),ne.push([me,De])});let xe=D.current;Y().sort((me,Ee)=>{var De,He;let Pe=me.getAttribute("id"),rt=Ee.getAttribute("id");return((De=V.get(rt))!=null?De:0)-((He=V.get(Pe))!=null?He:0)}).forEach(me=>{let Ee=me.closest(O0);Ee?Ee.appendChild(me.parentElement===Ee?me:me.closest(`${O0} > *`)):xe.appendChild(me.parentElement===xe?me:me.closest(`${O0} > *`))}),ne.sort((me,Ee)=>Ee[1]-me[1]).forEach(me=>{var Ee;let De=(Ee=D.current)==null?void 0:Ee.querySelector(`${Ou}[${Il}="${encodeURIComponent(me[0])}"]`);De==null||De.parentElement.appendChild(De)})}function $(){let V=Y().find(xe=>xe.getAttribute("aria-disabled")!=="true"),ne=V==null?void 0:V.getAttribute(Il);A.setState("value",ne||void 0)}function G(){var V,ne,xe,me;if(!n.current.search||d.current.shouldFilter===!1){n.current.filtered.count=s.current.size;return}n.current.filtered.groups=new Set;let Ee=0;for(let De of s.current){let He=(ne=(V=o.current.get(De))==null?void 0:V.value)!=null?ne:"",Pe=(me=(xe=o.current.get(De))==null?void 0:xe.keywords)!=null?me:[],rt=U(He,Pe);n.current.filtered.items.set(De,rt),rt>0&&Ee++}for(let[De,He]of a.current)for(let Pe of He)if(n.current.filtered.items.get(Pe)>0){n.current.filtered.groups.add(De);break}n.current.filtered.count=Ee}function W(){var V,ne,xe;let me=ee();me&&(((V=me.parentElement)==null?void 0:V.firstChild)===me&&((xe=(ne=me.closest(Ou))==null?void 0:ne.querySelector(Z9))==null||xe.scrollIntoView({block:"nearest"})),me.scrollIntoView({block:"nearest"}))}function ee(){var V;return(V=D.current)==null?void 0:V.querySelector(`${Dk}[aria-selected="true"]`)}function Y(){var V;return Array.from(((V=D.current)==null?void 0:V.querySelectorAll(WN))||[])}function H(V){let ne=Y()[V];ne&&A.setState("value",ne.getAttribute(Il))}function J(V){var ne;let xe=ee(),me=Y(),Ee=me.findIndex(He=>He===xe),De=me[Ee+V];(ne=d.current)!=null&&ne.loop&&(De=Ee+V<0?me[me.length-1]:Ee+V===me.length?me[0]:me[Ee+V]),De&&A.setState("value",De.getAttribute(Il))}function te(V){let ne=ee(),xe=ne==null?void 0:ne.closest(Ou),me;for(;xe&&!me;)xe=V>0?l7(xe,Ou):c7(xe,Ou),me=xe==null?void 0:xe.querySelector(WN);me?A.setState("value",me.getAttribute(Il)):J(V)}let ce=()=>H(Y().length-1),L=V=>{V.preventDefault(),V.metaKey?ce():V.altKey?te(1):J(1)},le=V=>{V.preventDefault(),V.metaKey?H(0):V.altKey?te(-1):J(-1)};return _.createElement(Ht.div,oe(z({ref:t,tabIndex:-1},N),{"cmdk-root":"",onKeyDown:V=>{var ne;(ne=N.onKeyDown)==null||ne.call(N,V);let xe=V.nativeEvent.isComposing||V.keyCode===229;if(!(V.defaultPrevented||xe))switch(V.key){case"n":case"j":{S&&V.ctrlKey&&L(V);break}case"ArrowDown":{L(V);break}case"p":case"k":{S&&V.ctrlKey&&le(V);break}case"ArrowUp":{le(V);break}case"Home":{V.preventDefault(),H(0);break}case"End":{V.preventDefault(),ce();break}case"Enter":{V.preventDefault();let me=ee();if(me){let Ee=new Event(Ox);me.dispatchEvent(Ee)}}}}}),_.createElement("label",{"cmdk-label":"",htmlFor:P.inputId,id:P.labelId,style:f7},f),Rm(e,V=>_.createElement(Ak.Provider,{value:A},_.createElement(Ok.Provider,{value:P},V))))}),e7=_.forwardRef((e,t)=>{var n,s;let a=Es(),o=_.useRef(null),c=_.useContext(Rk),d=vd(),f=Pk(e),h=(s=(n=f.current)==null?void 0:n.forceMount)!=null?s:c==null?void 0:c.forceMount;Wo(()=>{if(!h)return d.item(a,c==null?void 0:c.id)},[h]);let p=Lk(a,o,[e.value,e.children,o],e.keywords),g=ab(),y=Vi(A=>A.value&&A.value===p.current),b=Vi(A=>h||d.filter()===!1?!0:A.search?A.filtered.items.get(a)>0:!0);_.useEffect(()=>{let A=o.current;if(!(!A||e.disabled))return A.addEventListener(Ox,j),()=>A.removeEventListener(Ox,j)},[b,e.onSelect,e.disabled]);function j(){var A,P;v(),(P=(A=f.current).onSelect)==null||P.call(A,p.current)}function v(){g.setState("value",p.current,!0)}if(!b)return null;let C=e,{disabled:S,value:N,onSelect:R,forceMount:E,keywords:k}=C,D=Ce(C,["disabled","value","onSelect","forceMount","keywords"]);return _.createElement(Ht.div,oe(z({ref:Bo(o,t)},D),{id:a,"cmdk-item":"",role:"option","aria-disabled":!!S,"aria-selected":!!y,"data-disabled":!!S,"data-selected":!!y,onPointerMove:S||d.getDisablePointerSelection()?void 0:v,onClick:S?void 0:j}),e.children)}),t7=_.forwardRef((e,t)=>{let b=e,{heading:n,children:s,forceMount:a}=b,o=Ce(b,["heading","children","forceMount"]),c=Es(),d=_.useRef(null),f=_.useRef(null),h=Es(),p=vd(),g=Vi(j=>a||p.filter()===!1?!0:j.search?j.filtered.groups.has(c):!0);Wo(()=>p.group(c),[]),Lk(c,d,[e.value,e.heading,f]);let y=_.useMemo(()=>({id:c,forceMount:a}),[a]);return _.createElement(Ht.div,oe(z({ref:Bo(d,t)},o),{"cmdk-group":"",role:"presentation",hidden:g?void 0:!0}),n&&_.createElement("div",{ref:f,"cmdk-group-heading":"","aria-hidden":!0,id:h},n),Rm(e,j=>_.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?h:void 0},_.createElement(Rk.Provider,{value:y},j))))}),n7=_.forwardRef((e,t)=>{let c=e,{alwaysRender:n}=c,s=Ce(c,["alwaysRender"]),a=_.useRef(null),o=Vi(d=>!d.search);return!n&&!o?null:_.createElement(Ht.div,oe(z({ref:Bo(a,t)},s),{"cmdk-separator":"",role:"separator"}))}),s7=_.forwardRef((e,t)=>{let h=e,{onValueChange:n}=h,s=Ce(h,["onValueChange"]),a=e.value!=null,o=ab(),c=Vi(p=>p.search),d=Vi(p=>p.selectedItemId),f=vd();return _.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),_.createElement(Ht.input,oe(z({ref:t},s),{"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":f.listId,"aria-labelledby":f.labelId,"aria-activedescendant":d,id:f.inputId,type:"text",value:a?e.value:c,onChange:p=>{a||o.setState("search",p.target.value),n==null||n(p.target.value)}}))}),r7=_.forwardRef((e,t)=>{let h=e,{children:n,label:s="Suggestions"}=h,a=Ce(h,["children","label"]),o=_.useRef(null),c=_.useRef(null),d=Vi(p=>p.selectedItemId),f=vd();return _.useEffect(()=>{if(c.current&&o.current){let p=c.current,g=o.current,y,b=new ResizeObserver(()=>{y=requestAnimationFrame(()=>{let j=p.offsetHeight;g.style.setProperty("--cmdk-list-height",j.toFixed(1)+"px")})});return b.observe(p),()=>{cancelAnimationFrame(y),b.unobserve(p)}}},[]),_.createElement(Ht.div,oe(z({ref:Bo(o,t)},a),{"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":d,"aria-label":s,id:f.listId}),Rm(e,p=>_.createElement("div",{ref:Bo(c,f.listInnerRef),"cmdk-list-sizer":""},p)))}),a7=_.forwardRef((e,t)=>{let f=e,{open:n,onOpenChange:s,overlayClassName:a,contentClassName:o,container:c}=f,d=Ce(f,["open","onOpenChange","overlayClassName","contentClassName","container"]);return _.createElement(X9,{open:n,onOpenChange:s},_.createElement(G9,{container:c},_.createElement(K9,{"cmdk-overlay":"",className:a}),_.createElement(Q9,{"aria-label":e.label,"cmdk-dialog":"",className:o},_.createElement(Mk,z({ref:t},d)))))}),i7=_.forwardRef((e,t)=>Vi(n=>n.filtered.count===0)?_.createElement(Ht.div,oe(z({ref:t},e),{"cmdk-empty":"",role:"presentation"})):null),o7=_.forwardRef((e,t)=>{let c=e,{progress:n,children:s,label:a="Loading..."}=c,o=Ce(c,["progress","children","label"]);return _.createElement(Ht.div,oe(z({ref:t},o),{"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a}),Rm(e,d=>_.createElement("div",{"aria-hidden":!0},d)))}),yc=Object.assign(Mk,{List:r7,Item:e7,Input:s7,Group:t7,Separator:n7,Dialog:a7,Empty:i7,Loading:o7});function l7(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function c7(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function Pk(e){let t=_.useRef(e);return Wo(()=>{t.current=e}),t}var Wo=typeof window=="undefined"?_.useEffect:_.useLayoutEffect;function ql(e){let t=_.useRef();return t.current===void 0&&(t.current=e()),t}function Vi(e){let t=ab(),n=()=>e(t.snapshot());return _.useSyncExternalStore(t.subscribe,n,n)}function Lk(e,t,n,s=[]){let a=_.useRef(),o=vd();return Wo(()=>{var c;let d=(()=>{var h;for(let p of n){if(typeof p=="string")return p.trim();if(typeof p=="object"&&"current"in p)return p.current?(h=p.current.textContent)==null?void 0:h.trim():a.current}})(),f=s.map(h=>h.trim());o.value(e,d,f),(c=t.current)==null||c.setAttribute(Il,d),a.current=d}),a}var u7=()=>{let[e,t]=_.useState(),n=ql(()=>new Map);return Wo(()=>{n.current.forEach(s=>s()),n.current=new Map},[e]),(s,a)=>{n.current.set(s,a),t({})}};function d7(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Rm({asChild:e,children:t},n){return e&&_.isValidElement(t)?_.cloneElement(d7(t),{ref:t.ref},n(t.props.children)):n(t)}var f7={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function h7(n){var s=n,{className:e}=s,t=Ce(s,["className"]);return i.jsx(yc,z({"data-slot":"command",className:_n("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e)},t))}function m7(n){var s=n,{className:e}=s,t=Ce(s,["className"]);return i.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[i.jsx(ic,{className:"size-4 shrink-0 opacity-50"}),i.jsx(yc.Input,z({"data-slot":"command-input",className:_n("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e)},t))]})}function p7(n){var s=n,{className:e}=s,t=Ce(s,["className"]);return i.jsx(yc.List,z({"data-slot":"command-list",className:_n("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e)},t))}function A0(t){var e=Ce(t,[]);return i.jsx(yc.Empty,z({"data-slot":"command-empty",className:"py-6 text-center text-sm"},e))}function g7(n){var s=n,{className:e}=s,t=Ce(s,["className"]);return i.jsx(yc.Group,z({"data-slot":"command-group",className:_n("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e)},t))}function x7(n){var s=n,{className:e}=s,t=Ce(s,["className"]);return i.jsx(yc.Item,z({"data-slot":"command-item",className:_n("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e)},t))}function Sr({doctype:e,value:t="",onChange:n,placeholder:s="Select option...",className:a="w-[200px]",fields:o=["name"],filters:c=[],displayField:d="name",valueField:f="name",disabled:h=!1,limit:p=20}){const[g,y]=_.useState(!1),[b,j]=_.useState(""),v=_.useMemo(()=>{let A={};if(c.length>0&&c.forEach(U=>{if(Array.isArray(U)&&U.length>=3){const[K,$,G]=U;$==="="&&(A[K]=G)}}),b.trim()&&(A[d]=["like",`%${b}%`]),Object.keys(A).length===0&&b.trim())return[[d,"like",`%${b}%`]];const P=[];return Object.entries(A).forEach(([U,K])=>{Array.isArray(K)?P.push([U,K[0],K[1]]):P.push([U,"=",K])}),P.length>0?P:void 0},[b,c,d]),{data:S,isLoading:N,error:R}=Ot(e,{fields:[...new Set([...o,d,f])],filters:v,limit:p,orderBy:{field:d,order:"asc"}}),E=_.useMemo(()=>!S||!Array.isArray(S)?[]:S.map(A=>({value:A[f],label:A[d]})),[S,d,f]),k=E.find(A=>A.value===t),D=A=>{n(A===t?"":A),y(!1)},C=A=>{j(A)};return i.jsxs(vy,{open:g,onOpenChange:y,children:[i.jsx(wy,{asChild:!0,children:i.jsxs(Ie,{variant:"outline",role:"combobox","aria-expanded":g,className:_n("justify-between",a),disabled:h,children:[(k==null?void 0:k.label)||s,i.jsx(s3,{className:"opacity-50"})]})}),i.jsx(jy,{className:_n("p-0",a),children:i.jsxs(h7,{shouldFilter:!1,children:[i.jsx(m7,{placeholder:`Search ${e.toLowerCase()}...`,className:"h-9",value:b,onValueChange:C}),i.jsxs(p7,{children:[N&&i.jsx(A0,{children:"Loading..."}),R&&i.jsx(A0,{children:"Error loading data."}),!N&&!R&&E.length===0&&i.jsxs(A0,{children:["No ",e.toLowerCase()," found."]}),!N&&!R&&E.length>0&&i.jsx(g7,{children:E.map(A=>i.jsxs(x7,{value:A.value,onSelect:D,children:[A.label,i.jsx(ZM,{className:_n("ml-auto",t===A.value?"opacity-100":"opacity-0")})]},A.value))})]})]})})]})}const zk=({project:e,isOpen:t,onClose:n,onSuccess:s})=>{const{updateProject:a,isLoading:o}=ML(),{currentUser:c}=or(),{data:d}=bn("Project",(e==null?void 0:e.name)||"",e!=null&&e.name?"Project":void 0),f=(d==null?void 0:d.users)||(e==null?void 0:e.users)||[],h=()=>{if(c==="Administrator"||(e==null?void 0:e.owner)===c)return!0;const N=f.find(R=>R.user===c);return(N==null?void 0:N.project_status)==="Project Manager (Owner Substitute)"},{register:p,control:g,handleSubmit:y,reset:b,formState:{errors:j}}=sd({defaultValues:{project_name:"",customer:"",project_type:"",status:"Open",priority:"Medium",department:"",company:"",cost_center:"",expected_start_date:"",expected_end_date:"",notes:""}});_.useEffect(()=>{e&&b({project_name:e.project_name||"",customer:e.customer||"",project_type:e.project_type||"",status:e.status||"Open",priority:e.priority||"Medium",department:e.department||"",company:e.company||"",cost_center:e.cost_center||"",expected_start_date:e.expected_start_date?e.expected_start_date.split(" ")[0]:"",expected_end_date:e.expected_end_date?e.expected_end_date.split(" ")[0]:"",notes:e.notes||""})},[e,b]);const v=N=>ve(null,null,function*(){if(e){if(N.status==="Completed"&&!h()){un.error("Permission denied",{description:"You don't have permission to mark this project as Completed. Only Project Owner, Project Manager, or Administrator can do this."});return}try{yield a(e.name,N),un.success("Project updated successfully"),s&&setTimeout(()=>{s()},100),n()}catch(R){let E="Edit project failed";if(R!=null&&R._server_messages)try{const k=JSON.parse(R._server_messages);Array.isArray(k)&&k.length>0&&(E=JSON.parse(k[0]).message||E)}catch(k){console.error("Parse error messages failed:",k)}else R!=null&&R.message&&(E=R.message);un.error("Update project failed",{description:E}),console.error("Error updating project:",R)}}}),S=()=>{e&&b({project_name:e.project_name||"",customer:e.customer||"",project_type:e.project_type||"",status:e.status||"Open",priority:e.priority||"Medium",department:e.department||"",company:e.company||"",cost_center:e.cost_center||"",expected_start_date:e.expected_start_date?e.expected_start_date.split(" ")[0]:"",expected_end_date:e.expected_end_date?e.expected_end_date.split(" ")[0]:"",notes:e.notes||""}),n()};return i.jsx(gs,{open:t,onOpenChange:n,children:i.jsxs(xs,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[i.jsx(ys,{children:i.jsx(bs,{children:"Edit Project"})}),i.jsxs("form",{onSubmit:y(v),className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"project_name",children:"Project Name *"}),i.jsx(zt,oe(z({id:"project_name"},p("project_name",{required:"Project name is required",maxLength:{value:100,message:"Project name cannot exceed 100 characters"}})),{placeholder:"Enter project name"})),j.project_name&&i.jsx("span",{className:"text-red-500 text-sm",children:j.project_name.message})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Le,{children:"Customer"}),i.jsx(_r,{name:"customer",control:g,render:({field:N})=>i.jsx(Sr,{doctype:"Customer",value:N.value||"",onChange:N.onChange,placeholder:"Select customer...",displayField:"customer_name",valueField:"name",className:"w-full"})})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Le,{children:"Project Type"}),i.jsx(_r,{name:"project_type",control:g,render:({field:N})=>i.jsx(Sr,{doctype:"Project Type",value:N.value||"",onChange:N.onChange,placeholder:"Select type...",className:"w-full"})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{children:"Status"}),i.jsxs("select",oe(z({},p("status")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[i.jsx("option",{value:"",children:"Select status..."}),i.jsx("option",{value:"Open",children:"Open"}),h()&&i.jsx("option",{value:"Completed",children:"Completed"}),i.jsx("option",{value:"Cancelled",children:"Cancelled"})]})),!h()&&i.jsx("span",{className:"text-xs text-amber-600",children:"You dont have permission to mark Completed"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{children:"Priority"}),i.jsxs("select",oe(z({},p("priority")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[i.jsx("option",{value:"",children:"Select priority..."}),i.jsx("option",{value:"Low",children:"Low"}),i.jsx("option",{value:"Medium",children:"Medium"}),i.jsx("option",{value:"High",children:"High"}),i.jsx("option",{value:"Urgent",children:"Urgent"})]}))]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Le,{children:"Department"}),i.jsx(_r,{name:"department",control:g,render:({field:N})=>i.jsx(Sr,{doctype:"Department",value:N.value||"",onChange:N.onChange,placeholder:"Select department...",className:"w-full"})})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Le,{children:"Company"}),i.jsx(_r,{name:"company",control:g,render:({field:N})=>i.jsx(Sr,{doctype:"Company",value:N.value||"",onChange:N.onChange,placeholder:"Select company...",className:"w-full"})})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Le,{children:"Cost Center"}),i.jsx(_r,{name:"cost_center",control:g,render:({field:N})=>i.jsx(Sr,{doctype:"Cost Center",value:N.value||"",onChange:N.onChange,placeholder:"Select cost center...",className:"w-full"})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"expected_start_date",children:"Expected Start Date"}),i.jsx(zt,z({id:"expected_start_date",type:"date"},p("expected_start_date")))]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"expected_end_date",children:"Expected End Date"}),i.jsx(zt,z({id:"expected_end_date",type:"date"},p("expected_end_date")))]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"notes",children:"Notes"}),i.jsx("textarea",oe(z({id:"notes"},p("notes")),{placeholder:"Enter project notes",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}))]}),i.jsxs(As,{className:"flex gap-2",children:[i.jsx(Ie,{type:"button",variant:"outline",onClick:S,children:"Cancel"}),i.jsx(Ie,{type:"submit",disabled:o,children:o?"Updating...":"Update Project"})]})]})]})})},Uk=({project:e,isOpen:t,onClose:n,onSuccess:s})=>{const{deleteProjectCascade:a}=VL(),[o,c]=_.useState(!1),[d,f]=_.useState(null),[h,p]=_.useState(""),g=()=>ve(null,null,function*(){if(!e){console.error("No project selected for deletion"),un.error("Delete project failed",{description:"No project selected"});return}if(o){console.log("Delete already in progress, ignoring duplicate request");return}c(!0),f(null),p("Starting deletion...");try{console.log(`Starting deletion for project: ${e.name}`),p("Deleting subtasks..."),yield new Promise(j=>setTimeout(j,300)),p("Deleting tasks..."),yield new Promise(j=>setTimeout(j,300)),p("Deleting project phases..."),yield new Promise(j=>setTimeout(j,300)),p("Cleaning up dependencies..."),yield new Promise(j=>setTimeout(j,300)),p("Deleting project...");const b=yield a(e.name);p("Deletion completed successfully!"),console.log("Cascade deletion result:",b),un.success("Project deleted successfully",{description:`Project "${e.name}" and all related items have been deleted.`}),s&&s(),n()}catch(b){let j="Delete project failed",v=!1;if(b!=null&&b._server_messages)try{const S=JSON.parse(b._server_messages);Array.isArray(S)&&S.length>0&&(j=JSON.parse(S[0]).message||j)}catch(S){console.error("Parse error messages failed:",S)}else b!=null&&b.message&&(j=b.message,(j.includes("dependencies")||j.includes("linked")||j.includes("referenced")||j.includes("Unknown project deletion error"))&&(v=!0,j+=`

Tip: This error usually resolves on the second attempt. Please try again.`));console.error("Error deleting project:",b),un.error("Delete project failed",{description:j,duration:v?8e3:5e3}),f(b instanceof Error?b:new Error(j)),p("")}finally{c(!1)}}),y=()=>{o||(f(null),p(""),n())};return i.jsx(gs,{open:t,onOpenChange:n,children:i.jsxs(xs,{className:"sm:max-w-[400px]",children:[i.jsx(ys,{children:i.jsxs(bs,{className:"flex items-center gap-2 text-red-600",children:[i.jsx(oc,{className:"h-5 w-5"}),"Delete Project"]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this project? This action cannot be undone."}),e&&i.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[i.jsx("div",{className:"font-medium text-gray-900",children:e.project_name}),i.jsx("div",{className:"text-sm text-gray-600",children:e.customer||"No customer"}),i.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]})]}),i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[i.jsxs("div",{className:"text-sm text-red-800",children:[i.jsx("strong",{children:"Warning:"})," This will permanently delete in the following order:"]}),i.jsxs("ol",{className:"text-sm text-red-700 mt-1 ml-4 list-decimal",children:[i.jsx("li",{children:"All subtasks in all tasks"}),i.jsx("li",{children:"All tasks in the project"}),i.jsx("li",{children:"All project phases"}),i.jsx("li",{children:"All ToDo assignments"}),i.jsx("li",{children:"All project team members"}),i.jsx("li",{children:"The project itself"})]}),i.jsx("div",{className:"text-sm text-red-800 mt-2",children:i.jsx("strong",{children:"This action cannot be undone!"})})]}),o&&h&&i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Q0,{className:"h-4 w-4 animate-spin text-blue-600"}),i.jsxs("span",{className:"text-sm text-blue-800",children:[i.jsx("strong",{children:"Progress:"})," ",h]})]}),i.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"Please wait while we delete all related items..."})]}),d&&i.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:i.jsxs("p",{children:[i.jsx("strong",{children:"Error:"})," ",d.message||"Failed to delete project"]})})]}),i.jsxs(As,{className:"flex gap-2",children:[i.jsx(Ie,{type:"button",variant:"outline",onClick:y,disabled:o,children:o?"Deleting...":"Cancel"}),i.jsx(Ie,{type:"button",variant:"destructive",onClick:g,disabled:o,className:"min-w-[120px]",children:o?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Q0,{className:"h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete Project"})]})]})})};function y7({isOpen:e,onClose:t,projectName:n,onSuccess:s}){const[a,o]=_.useState(!1),{call:c}=ms("todo.api.add_project_member"),d=sd();_.useEffect(()=>{e&&(d.reset(),d.clearErrors())},[e,d]);const f=()=>{a||(t(),d.reset(),d.clearErrors())},h=p=>ve(null,null,function*(){if(n&&!a){o(!0);try{const g=yield c({project_name:n,user:p.user,view_attachments:p.view_attachments?1:0,hide_timesheets:p.hide_timesheets?1:0,project_status:p.project_status||"Team Member"});console.log("Member added successfully:",g),t(),setTimeout(()=>{d.reset(),d.clearErrors()},0),setTimeout(()=>{s()},1e3),alert("Member added successfully!")}catch(g){console.error("Error adding member:",g);const y=g instanceof Error?g.message:String(g),b=JSON.stringify(g);y.includes("Email Account")||y.includes("OutgoingEmailError")||y.includes("email")||y.includes("SMTP")||b.includes("OutgoingEmailError")||b.includes("Email Account")?(console.log("Email error detected, member likely added successfully"),t(),setTimeout(()=>{d.reset(),d.clearErrors()},0),setTimeout(()=>{s(),alert("Member added successfully! (Welcome email could not be sent due to email configuration, but the member was added to the project)")},1e3)):y.includes("DuplicateEntryError")||y.includes("already exists")?alert("This user is already a member of the project."):y.includes("PermissionError")||y.includes("Not permitted")?alert("You do not have permission to add members to this project."):y.includes("ValidationError")?alert("Invalid data provided. Please check your inputs."):alert("Failed to add member: "+y)}finally{o(!1)}}});return i.jsx(gs,{open:e,onOpenChange:f,children:i.jsx(xs,{className:"sm:max-w-md",children:i.jsxs("form",{onSubmit:d.handleSubmit(h),onKeyDown:p=>{p.key==="Enter"&&p.target instanceof HTMLInputElement&&p.preventDefault()},children:[i.jsxs(ys,{children:[i.jsx(bs,{children:"Add Team Member"}),i.jsx(bd,{children:"Add a new member to the project team."})]}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsxs(Le,{children:["User ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(_r,{name:"user",control:d.control,rules:{required:"Please select a user"},render:({field:p})=>i.jsx(Sr,{doctype:"User",value:p.value||"",onChange:g=>{console.log("Combobox onChange:",g),p.onChange(g),g&&d.formState.errors.user&&d.clearErrors("user")},placeholder:a?"Please wait...":"Select user...",displayField:"full_name",valueField:"name",filters:[["enabled","=",1],["user_type","!=","Website User"]],fields:["name","full_name","email","user_image"],className:"w-full",disabled:a},`add-member-${e?"open":"closed"}-${Date.now()}`)}),d.formState.errors.user&&i.jsx("span",{className:"text-red-500 text-sm",children:d.formState.errors.user.message})]}),i.jsxs("div",{className:"space-y-3 pt-2 border-t",children:[i.jsx(Le,{className:"text-sm font-medium",children:"Permissions"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",oe(z({type:"checkbox",id:"add_view_attachments"},d.register("view_attachments")),{defaultChecked:!0,disabled:a,className:"rounded border-gray-300"})),i.jsx(Le,{htmlFor:"add_view_attachments",className:"text-sm",children:"Can view attachments"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",oe(z({type:"checkbox",id:"add_hide_timesheets"},d.register("hide_timesheets")),{disabled:a,className:"rounded border-gray-300"})),i.jsx(Le,{htmlFor:"add_hide_timesheets",className:"text-sm",children:"Hide timesheets from this user"})]})]})]}),i.jsxs(As,{className:"gap-2",children:[i.jsx(Ie,{type:"button",variant:"outline",onClick:f,disabled:a,children:"Cancel"}),i.jsx(Ie,{type:"submit",disabled:a||!d.watch("user"),className:"bg-blue-600 hover:bg-blue-700 disabled:opacity-50",children:a?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Adding..."]}):"Add Member"})]})]})})})}function Fk({project:e,isOpen:t,onClose:n}){const[s,a]=_.useState("overview"),[o,c]=_.useState(null),[d,f]=_.useState(null),[h,p]=_.useState(null),[g,y]=_.useState(!1),[b,j]=_.useState(!1),[v,S]=_.useState(!1),[N,R]=_.useState(!1),[E,k]=_.useState(!1),[D,C]=_.useState(!1);_.useEffect(()=>{t||(a("overview"),c(null),f(null),p(null),y(!1),j(!1),S(!1),R(!1),k(!1),C(!1))},[t]),_.useEffect(()=>{b||(me.reset(),me.clearErrors())},[b]),_.useEffect(()=>{v||(Ee.reset(),Ee.clearErrors())},[v]);const{data:A,isLoading:P,mutate:U}=bn("Project",(e==null?void 0:e.name)||"",e!=null&&e.name?"Project":void 0),{call:K}=ms("frappe.client.delete"),{call:$}=ms("todo.api.remove_project_member"),{data:G,error:W,isLoading:ee}=bn("User",(e==null?void 0:e.owner)||"",e!=null&&e.owner?void 0:null),{data:Y,mutate:H}=bn("SubTask",(h==null?void 0:h.name)||"",h!=null&&h.name?void 0:null),{data:J,mutate:te}=bn("Task",(d==null?void 0:d.name)||"",d!=null&&d.name?void 0:null),{currentUser:ce}=or(),L=(A==null?void 0:A.users)||(e==null?void 0:e.users)||[],le=P,re=_.useMemo(()=>({progress:(A==null?void 0:A.percent_complete)||(e==null?void 0:e.percent_complete)||0,source:"project",count:1}),[A==null?void 0:A.percent_complete,e==null?void 0:e.percent_complete]),V=()=>ve(null,null,function*(){if(h!=null&&h.name)try{yield H()}catch(Me){console.error("Error refreshing subtask data:",Me)}}),ne=()=>ve(null,null,function*(){if(d!=null&&d.name)try{yield te()}catch(Me){console.error("Error refreshing task data:",Me)}}),xe=Me=>ve(null,null,function*(){(d==null?void 0:d.name)===Me&&(yield ne())});_.useEffect(()=>{Y&&(h==null?void 0:h.name)===Y.name&&p(Y)},[Y,h==null?void 0:h.name]),_.useEffect(()=>{J&&(d==null?void 0:d.name)===J.name&&f(J)},[J,d==null?void 0:d.name]);const me=sd(),Ee=sd(),De=Me=>ve(null,null,function*(){if(e!=null&&e.name&&confirm("Are you sure you want to remove this member from the project?"))try{const st=yield $({project_name:e.name,user:Me});console.log("Member removed successfully:",st),setTimeout(()=>U(),1e3),alert("Member removed successfully!")}catch(st){console.error("Error removing member:",st);const ht=st instanceof Error?st.message:String(st);if(ht.includes("Email Account")||ht.includes("OutgoingEmailError")||ht.includes("email")||ht.includes("SMTP"))console.log("Email error detected when removing member, checking if removal was successful"),setTimeout(()=>{U(),alert("Member removed successfully! (Email notification failed to send, but member was removed from project)")},1e3);else if(ht.includes("PermissionError")||ht.includes("Not permitted"))alert("You do not have permission to remove members from this project.");else if(ht.includes("ValidationError"))alert("Cannot remove member: Validation error occurred.");else if(ht.includes("LinkExistsError")||ht.includes("Cannot delete"))alert("Cannot remove member: This user may have linked records (tasks, timesheets, etc.). Please remove or reassign those records first.");else if(ht.includes("is not a member of this project"))alert("This user is not a member of the project."),setTimeout(()=>U(),500);else{console.log("Custom API failed, trying fallback method");try{const X=L.find(fe=>fe.user===Me);X!=null&&X.name?(yield K({doctype:"Project User",name:X.name}),setTimeout(()=>U(),1e3),alert("Member removed successfully! (Using fallback method)")):alert("User record not found.")}catch(X){console.error("Fallback method also failed:",X),alert(`Failed to remove member: ${ht}`)}}}}),He=()=>(e==null?void 0:e.owner)===ce||ce==="Administrator",Pe=Me=>{switch(Me){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},rt=Me=>Me?new Date(Me).toLocaleDateString():"N/A",Ge=()=>{R(!0)},pt=()=>{k(!0)},ze=()=>{U(),ec(Me=>typeof Me=="string"&&Me.includes("Project"),void 0,{revalidate:!0})},Nt=()=>{n()};if(!e)return null;const at=A||e;return i.jsx(N$,{open:t,onOpenChange:n,direction:"right",children:i.jsxs(E$,{children:[i.jsxs("div",{className:"w-full h-full overflow-y-auto p-6",children:[i.jsxs(k$,{className:"px-0 pb-6",children:[i.jsxs(D$,{className:"flex gap-4 justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"h-16 w-16 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg",children:i.jsx("span",{className:"text-2xl font-bold text-white",children:at.project_name.charAt(0).toUpperCase()})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:at.project_name}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:`inline-flex px-4 py-2 text-sm font-semibold rounded-full ${Pe(at.status)}`,children:at.status||"Open"}),at.project_type&&i.jsx("span",{className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-full",children:at.project_type})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Ie,{variant:"outline",size:"sm",onClick:Ge,className:"flex items-center gap-2",children:[i.jsx(Fo,{className:"h-4 w-4"}),"Edit"]}),i.jsxs(Ie,{variant:"outline",size:"sm",onClick:pt,className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[i.jsx(Fi,{className:"h-4 w-4"}),"Delete"]}),i.jsx(Ie,{variant:"ghost",size:"sm",onClick:n,children:"X"})]})]}),i.jsx(O$,{className:"text-lg text-gray-600 mt-4",children:"Project Details and Progress Overview"}),i.jsxs("div",{className:"flex border-b border-gray-200 mt-6",children:[i.jsx("button",{onClick:()=>a("overview"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${s==="overview"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Overview"}),i.jsx("button",{onClick:()=>a("tasks"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${s==="tasks"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Tasks & Phases"}),i.jsxs("button",{onClick:()=>a("team"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="team"?"border-green-600 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[i.jsx(Gl,{className:"h-4 w-4"}),"Team (",((L==null?void 0:L.length)||0)+1,")"]}),o&&i.jsxs("button",{onClick:()=>a("phase-details"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="phase-details"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["📋 ",o.subject,i.jsx("span",{onClick:Me=>{Me.stopPropagation(),c(null),a("tasks")},className:"ml-2 hover:bg-gray-200 rounded-full p-1 transition-colors cursor-pointer",title:"Close phase details",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d&&i.jsxs("button",{onClick:()=>a("task-details"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="task-details"?"border-orange-600 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["📝 ",d.subject||d.name,i.jsx("span",{onClick:Me=>{Me.stopPropagation(),f(null),a("tasks")},className:"ml-2 hover:bg-gray-200 rounded-full p-1 transition-colors cursor-pointer",title:"Close task details",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),h&&i.jsxs("button",{onClick:()=>a("subtask-details"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="subtask-details"?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["📌 ",h.subject||h.name,i.jsx("span",{onClick:Me=>{Me.stopPropagation(),p(null),a("tasks")},className:"ml-2 hover:bg-gray-200 rounded-full p-1 transition-colors cursor-pointer",title:"Close subtask details",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})]}),i.jsxs("div",{className:"space-y-8",children:[s==="overview"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Project Progress"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-lg font-medium text-gray-700",children:"Overall Progress"}),i.jsx("span",{className:"text-xs text-gray-500"})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[re.progress,"%"]})})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:i.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-4 rounded-full transition-all duration-500 ease-out",style:{width:`${re.progress}%`}})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:i.jsx(Gu,{className:"h-8 w-8 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Customer"}),i.jsx("p",{className:"text-xl font-bold text-gray-900",children:at.customer||"N/A"})]})]})}),i.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:i.jsx(Uo,{className:"h-8 w-8 text-green-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Budget"}),i.jsx("p",{className:"text-xl font-bold text-gray-900",children:ko(at.estimated_costing)})]})]})}),i.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:i.jsx(Ws,{className:"h-8 w-8 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"Deadline"}),i.jsx("p",{className:"text-xl font-bold text-gray-900",children:rt(at.expected_end_date)})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Project Information"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Start Date"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:rt(at.expected_start_date)})]}),i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:at.priority||"Medium"})]}),i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Department"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:at.department||"N/A"})]}),i.jsxs("div",{className:"flex items-center justify-between py-3",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Company"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:at.company||"N/A"})]})]})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Financial Metrics"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Total Cost"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:ko(at.total_costing_amount)})]}),i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Total Sales"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:ko(at.total_sales_amount)})]}),i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Billable Amount"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:ko(at.total_billable_amount)})]}),i.jsxs("div",{className:"flex items-center justify-between py-3",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Gross Margin"}),i.jsx("span",{className:"text-lg font-bold text-green-600",children:ko(at.gross_margin)})]})]})]})]}),i.jsx(Dm,{doctype:"Project",docname:e.name,title:"Project Files",allowUpload:!0,allowDelete:!0,className:"mt-8"})]}),s==="team"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(c3,{className:"h-6 w-6 text-yellow-600"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Project Owner"})]}),He()&&i.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>{Ee.reset({owner:(e==null?void 0:e.owner)||""}),S(!0)},className:"flex items-center gap-2",children:[i.jsx(Fo,{className:"h-4 w-4"}),"Change Owner"]})]}),i.jsxs("div",{className:"flex items-center gap-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[i.jsx("div",{className:"h-12 w-12 rounded-full bg-yellow-100 flex items-center justify-center",children:i.jsx(Gu,{className:"h-6 w-6 text-yellow-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-lg font-semibold text-gray-900",children:ee?"Loading...":G!=null&&G.full_name?G.full_name:at!=null&&at.owner?at.owner:"No Owner"}),i.jsx("p",{className:"text-sm text-gray-600",children:ee?"Loading email...":G!=null&&G.email?G.email:at!=null&&at.owner?at.owner:"No email"}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded",children:"Project Owner"}),(G==null?void 0:G.designation)&&i.jsx("span",{className:"text-xs text-gray-500",children:G.designation}),W&&i.jsx("span",{className:"text-xs text-red-500",children:"(Error loading user details)"})]})]})]})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Gl,{className:"h-6 w-6 text-blue-600"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Team Members"}),i.jsxs("span",{className:"inline-flex px-3 py-1 text-sm font-medium bg-blue-100 text-blue-800 rounded-full",children:[(L==null?void 0:L.length)||0," members"]})]}),i.jsxs(Ie,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",onClick:()=>y(!0),children:[i.jsx(qr,{className:"h-4 w-4 mr-1"}),"Add Member"]})]}),le?i.jsxs("div",{className:"flex items-center justify-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),i.jsx("span",{className:"ml-3 text-gray-600",children:"Loading team members..."})]}):L&&L.length>0?i.jsx("div",{className:"grid gap-4",children:L.map((Me,st)=>i.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center overflow-hidden",children:Me.image?i.jsx("img",{src:Me.image,alt:Me.full_name||Me.user,className:"h-full w-full object-cover"}):i.jsx("span",{className:"text-sm font-semibold text-blue-600",children:(Me.full_name||Me.user||"U").charAt(0).toUpperCase()})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-semibold text-gray-900",children:Me.full_name||Me.user||"Unknown User"}),i.jsx("p",{className:"text-sm text-gray-600",children:Me.email||Me.user||"No email"}),Me.project_status&&i.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Status: ",Me.project_status]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:"Team Member"}),Me.view_attachments&&i.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded",children:"Can View Files"}),i.jsxs(Ie,{size:"sm",variant:"outline",className:"text-xs text-red-600 hover:text-red-700",onClick:()=>De(Me.user),children:[i.jsx(Fi,{className:"h-3 w-3 mr-1"}),"Remove"]})]})]},Me.user||st))}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Gl,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"No team members added yet"}),i.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Add team members to collaborate on this project"}),i.jsxs(Ie,{className:"mt-4 bg-blue-600 hover:bg-blue-700",onClick:()=>y(!0),children:[i.jsx(qr,{className:"h-4 w-4 mr-2"}),"Add First Member"]})]})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Statistics"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:((L==null?void 0:L.length)||0)+1}),i.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"})]}),i.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[i.jsx("p",{className:"text-2xl font-bold text-green-600",children:"1"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Project Owner"})]}),i.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[i.jsx("p",{className:"text-2xl font-bold text-purple-600",children:(L==null?void 0:L.length)||0}),i.jsx("p",{className:"text-sm text-gray-600",children:"Team Members"})]}),i.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[i.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[(e==null?void 0:e.percent_complete)||0,"%"]}),i.jsx("p",{className:"text-sm text-gray-600",children:"Progress"})]})]})]})]}),s==="tasks"&&i.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:i.jsx(s9,{projectName:e.name,onViewPhaseDetails:Me=>{c(Me),a("phase-details")},onViewTaskDetails:Me=>{f(Me),a("task-details")},onViewSubTaskDetails:Me=>{p(Me),a("subtask-details")}})}),s==="phase-details"&&o&&i.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:i.jsx(o9,{phase:o,projectName:e.name,onBack:()=>a("tasks"),onViewTaskDetails:Me=>{f(Me),a("task-details")},onPhaseUpdated:()=>ve(null,null,function*(){U()}),onPhaseDeleted:()=>ve(null,null,function*(){U(),a("tasks"),c(null)}),onTaskCreated:()=>ve(null,null,function*(){U()})})}),s==="task-details"&&d&&i.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:i.jsx(d9,{task:d,projectName:e.name,onBack:()=>a("tasks"),onViewSubTaskDetails:Me=>{p(Me),a("subtask-details")},onTaskUpdated:()=>ve(null,null,function*(){U(),yield ne()}),onTaskDeleted:()=>ve(null,null,function*(){U(),a("tasks"),f(null)})})}),s==="subtask-details"&&h&&i.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:i.jsx(m9,{subtask:h,projectName:e.name,onBack:()=>a("tasks"),onSubTaskUpdated:()=>ve(null,null,function*(){U(),yield V(),h!=null&&h.task&&(yield xe(h.task))}),onSubTaskDeleted:()=>ve(null,null,function*(){U(),a("tasks"),p(null)})})})]}),i.jsx(C$,{className:"px-0 mt-8 pt-6 border-t border-gray-200",children:i.jsxs("div",{className:"flex gap-4",children:[i.jsx(Ie,{variant:"outline",className:"flex-1 h-12 text-lg font-semibold",onClick:()=>a("tasks"),children:"View Tasks"}),i.jsx(Ie,{variant:"outline",className:"flex-1 h-12 text-lg font-semibold",children:"View Timeline"})]})})]}),i.jsx(y7,{isOpen:g,onClose:()=>y(!1),projectName:e.name,onSuccess:()=>{setTimeout(()=>U(),1e3)}}),i.jsx(zk,{project:e,isOpen:N,onClose:()=>R(!1),onSuccess:ze}),i.jsx(Uk,{project:e,isOpen:E,onClose:()=>k(!1),onSuccess:Nt})]})})}const Bk=({project:e,onProjectUpdated:t,onProjectDeleted:n,onCloseDrawer:s})=>{const[a,o]=_.useState(!1),[c,d]=_.useState(!1),[f,h]=_.useState(!1),p=j=>{j&&j.stopPropagation(),o(!0),h(!1)},g=j=>{j&&j.stopPropagation(),d(!0),h(!1)},y=()=>{t&&t()},b=()=>{n&&n(),s&&s()};return i.jsxs(i.Fragment,{children:[i.jsxs(vy,{open:f,onOpenChange:h,children:[i.jsx(wy,{asChild:!0,children:i.jsx(Ie,{variant:"ghost",size:"sm",onClick:j=>{j.stopPropagation(),h(!f)},className:"h-8 w-8 p-0",children:i.jsx(h3,{className:"h-4 w-4"})})}),i.jsx(jy,{className:"w-48 p-2",align:"end",onClick:j=>j.stopPropagation(),children:i.jsxs("div",{className:"space-y-1",children:[i.jsxs(Ie,{variant:"ghost",size:"sm",onClick:j=>p(j),className:"w-full justify-start text-left",children:[i.jsx($3,{className:"mr-2 h-4 w-4"}),"Edit Project"]}),i.jsxs(Ie,{variant:"ghost",size:"sm",onClick:j=>g(j),className:"w-full justify-start text-left text-red-600 hover:text-red-700 hover:bg-red-50",children:[i.jsx(Fi,{className:"mr-2 h-4 w-4"}),"Delete Project"]})]})})]}),i.jsx(zk,{project:e,isOpen:a,onClose:()=>o(!1),onSuccess:y}),i.jsx(Uk,{project:e,isOpen:c,onClose:()=>d(!1),onSuccess:b})]})},b7=({projects:e,onProjectsChange:t})=>{const[n,s]=_.useState(null),[a,o]=_.useState(!1),c=h=>{s(h),o(!0)},d=()=>{o(!1),s(null)},f=h=>{switch(h){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}};return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:e.map(h=>i.jsxs("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 hover:shadow-md transition-shadow duration-200 cursor-pointer",onClick:()=>c(h),children:[i.jsx("div",{className:"h-48 bg-gray-200 flex items-center justify-center",children:i.jsx("div",{className:"text-4xl font-bold text-gray-400",children:h.project_name.charAt(0).toUpperCase()})}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate flex-1",children:h.project_name}),i.jsxs("div",{className:"flex items-center gap-2",onClick:p=>p.stopPropagation(),children:[i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${f(h.status)}`,children:h.status||"Open"}),i.jsx(Bk,{project:h,onProjectUpdated:t,onProjectDeleted:t,onCloseDrawer:d})]})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:h.project_type||"N/A"}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Progress"}),i.jsxs("span",{className:"text-sm text-gray-600",children:[h.percent_complete||0,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${h.percent_complete||0}%`}})})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[i.jsx("span",{children:h.customer||"N/A"}),i.jsx("span",{children:ko(h.estimated_costing)})]})]})]},h.name))}),i.jsx(Fk,{project:n,isOpen:a,onClose:d})]})},v7=({projects:e,onProjectsChange:t})=>{const[n,s]=_.useState(null),[a,o]=_.useState(!1),[c,d]=_.useState(null),f=v=>{s(v),o(!0)},h=()=>{o(!1),s(null)},p=()=>{n&&(d(n.name),setTimeout(()=>{d(null)},5e3)),console.log("handleProjectUpdated called, about to refresh data..."),o(!1),s(null),ec(v=>typeof v=="string"&&v.includes("Project"),void 0,{revalidate:!0}),ec("/api/resource/Project"),ec("Project"),t?(console.log("Calling onProjectsChange to refresh data immediately"),t()):console.log("onProjectsChange is not available"),setTimeout(()=>{t&&(console.log("Calling onProjectsChange again as backup"),t())},100)},g=()=>{d(null),t&&t()},y=_.useMemo(()=>[...e].sort((v,S)=>{const N=new Date(v.modified||v.creation||0);return new Date(S.modified||S.creation||0).getTime()-N.getTime()}),[e]),b=v=>{switch(v){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},j=v=>v?new Date(v).toLocaleDateString():"N/A";return i.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[i.jsx("div",{className:"overflow-hidden",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progress"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Budget"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Deadline"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(v=>i.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer transition-colors ${c===v.name?"bg-green-50 border-l-4 border-green-400":""}`,onClick:()=>f(v),children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:i.jsx("div",{className:"h-10 w-10 rounded-lg bg-gray-200 flex items-center justify-center",children:i.jsx("span",{className:"text-sm font-bold text-gray-600",children:v.project_name.charAt(0).toUpperCase()})})}),i.jsxs("div",{className:"ml-4",style:{maxWidth:"300px"},children:[i.jsx("div",{className:"text-sm font-medium text-gray-900 cursor-help",title:v.project_name,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:v.project_name}),i.jsx("div",{className:"text-sm text-gray-500",children:v.project_type||"N/A"})]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${b(v.status)}`,children:v.status||"Open"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${v.percent_complete||0}%`}})}),i.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[v.percent_complete||0,"%"]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ko(v.estimated_costing)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:j(v.expected_end_date)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",onClick:S=>S.stopPropagation(),children:i.jsx(Bk,{project:v,onProjectUpdated:p,onProjectDeleted:g,onCloseDrawer:h})})]},v.name))})]})}),i.jsx(Fk,{project:n,isOpen:a,onClose:h})]})},w7=({projects:e,onFilteredProjectsChange:t,viewMode:n,onViewModeChange:s})=>{var j;const[a,o]=se.useState({searchText:"",selectedTeam:"",selectedStatus:""}),[c,d]=se.useState(!1),{data:f=[]}=dT(),h=[{value:"",label:"All Status"},{value:"Open",label:"Open"},{value:"Completed",label:"Completed"},{value:"Cancelled",label:"Cancelled"}],p=se.useMemo(()=>{const v=[{value:"",label:"All Teams"},...f.map(S=>({value:S.name,label:S.team||S.name}))];return[v[0],...v.slice(1).sort((S,N)=>S.label.localeCompare(N.label))]},[f]);se.useEffect(()=>{let v=[...e];if(a.searchText.trim()){const S=a.searchText.toLowerCase();v=v.filter(N=>N.project_name.toLowerCase().includes(S)||N.name.toLowerCase().includes(S))}a.selectedTeam&&(v=v.filter(S=>(S.team||"")===a.selectedTeam)),a.selectedStatus&&(v=v.filter(S=>S.status===a.selectedStatus)),t(v)},[a.searchText,a.selectedTeam,a.selectedStatus,e]);const g=(v,S)=>{o(N=>oe(z({},N),{[v]:S}))},y=()=>{o({searchText:"",selectedTeam:"",selectedStatus:""})},b=a.searchText||a.selectedTeam||a.selectedStatus;return i.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[i.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[i.jsxs("div",{className:"relative flex-1 max-w-md",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(ic,{className:"h-4 w-4 text-gray-400"})}),i.jsx("input",{type:"text",value:a.searchText,onChange:v=>g("searchText",v.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Search projects by name..."})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>d(!c),className:`inline-flex items-center px-3 py-2 border rounded-md text-sm font-medium bg-white hover:bg-gray-50 ${b?"border-blue-500 text-blue-700 bg-blue-50":"border-gray-300 text-gray-700"}`,children:[i.jsx(ld,{className:"mr-2 h-4 w-4"}),"Filter",b&&i.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[a.selectedTeam,a.selectedStatus].filter(Boolean).length})]}),c&&i.jsx("div",{className:"absolute top-full left-0 mt-2 w-80 bg-white border border-gray-200 rounded-md shadow-lg z-10",children:i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Filters"}),b&&i.jsx("button",{onClick:y,className:"text-sm text-blue-600 hover:text-blue-800",children:"Clear all"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team"}),i.jsx("select",{value:a.selectedTeam,onChange:v=>g("selectedTeam",v.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:f.length===0,children:p.map(v=>i.jsx("option",{value:v.value,children:v.label},v.value))}),f.length===0&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No teams available"}),f.length>0&&e.filter(v=>v.team).length===0&&i.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"Projects haven't been assigned to teams yet"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),i.jsx("select",{value:a.selectedStatus,onChange:v=>g("selectedStatus",v.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:h.map(v=>i.jsx("option",{value:v.value,children:v.label},v.value))})]})]})})]}),i.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 border border-gray-200 rounded-lg p-1",children:[i.jsx("button",{onClick:()=>s("grid"),className:`p-2 rounded-md transition-colors ${n==="grid"?"bg-white text-blue-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,title:"Grid view",children:i.jsx(_3,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>s("list"),className:`p-2 rounded-md transition-colors ${n==="list"?"bg-white text-blue-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,title:"List view",children:i.jsx(D3,{className:"h-4 w-4"})})]})]}),b&&i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[i.jsx("span",{children:"Active filters:"}),i.jsxs("div",{className:"flex space-x-1",children:[a.selectedTeam&&i.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Team: ",(j=p.find(v=>v.value===a.selectedTeam))==null?void 0:j.label,i.jsx("button",{onClick:()=>g("selectedTeam",""),className:"ml-1 text-blue-600 hover:text-blue-800",children:"×"})]}),a.selectedStatus&&i.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Status: ",a.selectedStatus,i.jsx("button",{onClick:()=>g("selectedStatus",""),className:"ml-1 text-green-600 hover:text-green-800",children:"×"})]})]})]})]}),c&&i.jsx("div",{className:"fixed inset-0 z-5",onClick:()=>d(!1)})]})},j7=({onProjectCreated:e})=>{const[t,n]=_.useState(!1),{createProject:s,isLoading:a}=RL(),{register:o,control:c,handleSubmit:d,reset:f,formState:{errors:h,isSubmitting:p}}=sd({defaultValues:{status:"Open",priority:"Medium"}}),g=y=>ve(null,null,function*(){try{yield s(y),f(),n(!1),ec(b=>typeof b=="string"&&b.includes("Project"),void 0,{revalidate:!0}),un.success("Project created successfully"),e&&e()}catch(b){let j="Create project failed";if(b!=null&&b._server_messages)try{const v=JSON.parse(b._server_messages);Array.isArray(v)&&v.length>0&&(j=JSON.parse(v[0]).message||j)}catch(v){console.error("Parse error messages failed:",v)}else b!=null&&b.message&&(j=b.message);un.error("Create project failed",{description:j}),console.error("Error creating project:",b)}});return i.jsxs(gs,{open:t,onOpenChange:n,children:[i.jsx(X$,{asChild:!0,children:i.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[i.jsx(qr,{className:"mr-2 h-4 w-4"}),"New Project"]})}),i.jsx(xs,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:i.jsxs("form",{onSubmit:d(g),children:[i.jsxs(ys,{children:[i.jsx(bs,{children:"Create New Project"}),i.jsx(bd,{children:"Fill in the project details. Fields marked with * are required."})]}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsxs(Le,{htmlFor:"project_name",children:["Project Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(zt,oe(z({id:"project_name"},o("project_name",{required:"Project name is required",maxLength:{value:100,message:"Project name cannot exceed 100 characters"}})),{placeholder:"Enter project name"})),h.project_name&&i.jsx("span",{className:"text-red-500 text-sm",children:h.project_name.message})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Le,{children:"Customer"}),i.jsx(_r,{name:"customer",control:c,render:({field:y})=>i.jsx(Sr,{doctype:"Customer",value:y.value||"",onChange:y.onChange,placeholder:"Select customer...",displayField:"customer_name",valueField:"name",className:"w-full"})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Le,{children:"Project Type"}),i.jsx(_r,{name:"project_type",control:c,render:({field:y})=>i.jsx(Sr,{doctype:"Project Type",value:y.value||"",onChange:y.onChange,placeholder:"Select type...",className:"w-full"})})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsxs(Le,{children:["Status ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",oe(z({},o("status",{required:"Status is required"})),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[i.jsx("option",{value:"Open",children:"Open"}),i.jsx("option",{value:"Completed",children:"Completed"}),i.jsx("option",{value:"Cancelled",children:"Cancelled"})]}))]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Le,{children:"Priority"}),i.jsxs("select",oe(z({},o("priority")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[i.jsx("option",{value:"",children:"Select priority..."}),i.jsx("option",{value:"Low",children:"Low"}),i.jsx("option",{value:"Medium",children:"Medium"}),i.jsx("option",{value:"High",children:"High"}),i.jsx("option",{value:"Critical",children:"Critical"})]}))]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Le,{children:"Department"}),i.jsx(_r,{name:"department",control:c,render:({field:y})=>i.jsx(Sr,{doctype:"Department",value:y.value||"",onChange:y.onChange,placeholder:"Select department...",className:"w-full"})})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Le,{children:"Company"}),i.jsx(_r,{name:"company",control:c,render:({field:y})=>i.jsx(Sr,{doctype:"Company",value:y.value||"",onChange:y.onChange,placeholder:"Select company...",className:"w-full"})})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Le,{children:"Cost Center"}),i.jsx(_r,{name:"cost_center",control:c,render:({field:y})=>i.jsx(Sr,{doctype:"Cost Center",value:y.value||"",onChange:y.onChange,placeholder:"Select cost center...",displayField:"cost_center_name",valueField:"name",className:"w-full"})})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Le,{children:"Project Template"}),i.jsx(_r,{name:"project_template",control:c,render:({field:y})=>i.jsx(Sr,{doctype:"Project Template",value:y.value||"",onChange:y.onChange,placeholder:"Select project template...",className:"w-full"})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Le,{children:"Expected Start Date"}),i.jsx(zt,z({type:"date"},o("expected_start_date")))]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Le,{children:"Expected End Date"}),i.jsx(zt,z({type:"date"},o("expected_end_date")))]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Le,{children:"Notes"}),i.jsx("textarea",oe(z({},o("notes")),{placeholder:"Enter project notes...",rows:3,className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"}))]})]}),i.jsxs(As,{children:[i.jsx(K$,{asChild:!0,children:i.jsx(Ie,{type:"button",variant:"outline",children:"Cancel"})}),i.jsx(Ie,{type:"submit",disabled:p||a,className:"bg-blue-600 hover:bg-blue-700",children:p||a?"Creating...":"Create Project"})]})]})})]})},_7=()=>{const[e,t]=se.useState("list"),[n,s]=se.useState([]),{data:a=[],isLoading:o,error:c,mutate:d}=AL();se.useEffect(()=>{s(a)},[a]);const f=()=>ve(null,null,function*(){d&&(yield d())}),h=se.useCallback(p=>{s(p)},[]);return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Projects"}),i.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Showing ",n.length," of ",a.length," projects"]})]}),i.jsx("div",{className:"mt-4 flex md:mt-0 md:ml-4",children:i.jsx(j7,{onProjectCreated:f})})]}),!o&&!c&&a.length>0&&i.jsx(w7,{projects:a,onFilteredProjectsChange:h,viewMode:e,onViewModeChange:t}),o?i.jsx("div",{className:"flex justify-center items-center p-8",children:i.jsx("div",{className:"text-gray-500",children:"Loading projects..."})}):c?i.jsx("div",{className:"flex flex-col justify-center items-center p-8 bg-red-50 rounded-lg border border-red-200",children:i.jsxs("div",{className:"text-red-700 text-center",children:[i.jsx("p",{className:"text-lg font-medium mb-2",children:"Error loading projects"}),i.jsx("p",{className:"text-sm mb-2",children:c.message}),c.message.includes("PermissionError")&&i.jsxs("div",{className:"text-sm text-red-600 bg-red-100 p-3 rounded mt-2",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Permission Issue:"})," You don't have access to view projects."]}),i.jsx("p",{children:"Please contact your system administrator to:"}),i.jsxs("ul",{className:"list-disc list-inside mt-1",children:[i.jsx("li",{children:'Grant you "Read" permission for Project doctype'}),i.jsx("li",{children:"Add you to projects as a team member"}),i.jsx("li",{children:"Make you the owner of projects"})]})]})]})}):a.length===0?i.jsx("div",{className:"flex flex-col justify-center items-center p-8 bg-white rounded-lg border border-gray-200",children:i.jsxs("div",{className:"text-gray-500 text-center",children:[i.jsx("p",{className:"text-lg font-medium mb-2",children:"No projects found"}),i.jsx("p",{className:"text-sm",children:"You are not currently participating in any projects."}),i.jsx("p",{className:"text-sm",children:"Create a new project or ask to be added to an existing one."})]})}):n.length===0?i.jsx("div",{className:"flex flex-col justify-center items-center p-8 bg-white rounded-lg border border-gray-200",children:i.jsxs("div",{className:"text-gray-500 text-center",children:[i.jsx("p",{className:"text-lg font-medium mb-2",children:"No projects match your filters"}),i.jsx("p",{className:"text-sm",children:"Try adjusting your search criteria or clear the filters."})]})}):i.jsx(i.Fragment,{children:e==="grid"?i.jsx(b7,{projects:n,onProjectsChange:f}):i.jsx(v7,{projects:n,onProjectsChange:f})})]})},N7=({team:e})=>{var k,D;const{data:t,isLoading:n,error:s}=bn("Team",e),a=t==null?void 0:t.team_member,{data:o,isLoading:c,error:d}=Ot("User",{fields:["name","full_name","user_image","first_name","last_name","email"],filters:[["enabled","=",1],["user_type","=","System User"]],limit:0}),{simpleTeamData:f,isLoading:h}=GL(),p=!s||!((k=s.message)!=null&&k.includes("PermissionError")),{allTasks:g,allSubTasks:y,isLoading:b,error:j}=YL(),{todos:v,isLoading:S,error:N}=IL(),R=_.useMemo(()=>{const C=[];return g.forEach(A=>{const P=v==null?void 0:v.find(U=>U.reference_type==="Task"&&U.reference_name===A.name);C.push({id:A.name,title:A.subject||"Untitled Task",description:A.description||"No description available",project:A.project||"Unknown Project",assignee:(P==null?void 0:P.allocated_to)||A.completed_by||A.owner||"Unknown",status:A.status||"Open",priority:A.priority||"Medium",dueDate:A.exp_end_date||new Date().toISOString().split("T")[0],labels:[A.type||"Task"],todoId:(P==null?void 0:P.name)||"",referenceName:A.name,referenceType:"Task",type:"Task",taskProgress:A.progress,expectedTime:A.expected_time,actualTime:0,startDate:A.exp_start_date,endDate:A.exp_end_date})}),y.forEach(A=>{const P=v==null?void 0:v.find(U=>U.reference_type==="SubTask"&&U.reference_name===A.name);C.push({id:A.name,title:A.subject||"Untitled SubTask",description:A.description||"No description available",project:"Unknown Project",assignee:(P==null?void 0:P.allocated_to)||A.assigned_to||A.owner||"Unknown",status:A.status||"Open",priority:"Medium",dueDate:A.end_date||new Date().toISOString().split("T")[0],labels:["SubTask"],todoId:(P==null?void 0:P.name)||"",referenceName:A.name,referenceType:"SubTask",type:"SubTask",parentTask:A.task,startDate:A.start_date,endDate:A.end_date})}),C.sort((A,P)=>new Date(P.dueDate).getTime()-new Date(A.dueDate).getTime())},[g,y,v]);return{teamMembersData:_.useMemo(()=>{var C;if(!a||(C=s==null?void 0:s.message)!=null&&C.includes("PermissionError")){if(f&&f.length>0)return f.map(A=>{const P=R.filter(U=>U.assignee===A.id);return{id:A.id,name:A.name,role:A.role,taskCount:P.length,avatar:A.avatar,tasks:P,user:o==null?void 0:o.find(U=>U.name===A.id)}});if(o&&o.length>0){const A=o[0],P=R.filter(U=>U.assignee===(A==null?void 0:A.name));return[{id:(A==null?void 0:A.name)||"unknown",name:(A==null?void 0:A.full_name)||(A==null?void 0:A.first_name)||"Current User",role:"Member",taskCount:P.length,avatar:(A==null?void 0:A.user_image)||`https://placehold.co/40x40/e2e8f0/475569?text=${((A==null?void 0:A.first_name)||"U").charAt(0).toUpperCase()}`,tasks:P,user:A}]}return[]}return o?a.map(A=>{const P=o.find($=>$.name===A.user),U=R.filter($=>$.assignee===A.user),K=(P==null?void 0:P.user_image)||`https://placehold.co/40x40/e2e8f0/475569?text=${((P==null?void 0:P.first_name)||(P==null?void 0:P.full_name)||"U").charAt(0).toUpperCase()}`;return{id:A.user||"",name:(P==null?void 0:P.full_name)||(P==null?void 0:P.first_name)||A.user||"Unknown User",role:A.role||"Member",taskCount:U.length,avatar:K,tasks:U,user:P}}):[]},[a,o,R,s,f]),allTransformedTasks:R,isLoading:n||c||b||h||S,error:s&&!((D=s.message)!=null&&D.includes("PermissionError"))?s:d||j||N,teamMembers:a,users:o,hasTeamMemberPermission:p}},S7=({task:e,isOpen:t,onClose:n,onSuccess:s,isLeader:a})=>{const o=(e==null?void 0:e.type)==="SubTask",{updateTask:c,isLoading:d,error:f}=hT(),{assignTask:h,unassignTask:p}=mT(),{updateTaskProgress:g}=bT(),{updateTaskProgressByStatus:y}=yT(),{updateSubTask:b,isLoading:j,error:v}=xT(),{assignSubTask:S,unassignSubTask:N}=_y(),R=d||j,E=f||v,{data:k}=bn("Project",(e==null?void 0:e.project)||"",{enabled:!!(e!=null&&e.project)&&!o}),{data:D}=Ot("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=",o?"SubTask":"Task"],["reference_name","=",(e==null?void 0:e.referenceName)||""]]}),{data:C}=Ot("SubTask",{fields:["name"],filters:[["task","=",(e==null?void 0:e.referenceName)||""]],limit:1}),[A,P]=_.useState({subject:"",status:"Open",priority:"Medium",start_date:"",end_date:"",progress:0,description:"",assign_to:""}),[U,K]=_.useState(!1);_.useEffect(()=>{var ee;if(e){const Y=((ee=D==null?void 0:D[0])==null?void 0:ee.allocated_to)||"";P({subject:e.title||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.startDate?e.startDate.split(" ")[0]:"",end_date:e.endDate?e.endDate.split(" ")[0]:"",progress:e.taskProgress||0,description:e.description||"",assign_to:Y})}},[e,D]),_.useEffect(()=>{o||K(!!(C&&C.length>0))},[C,o]);const $=(ee,Y)=>{P(H=>oe(z({},H),{[ee]:Y}))},G=ee=>ve(null,null,function*(){var Y,J,te;if(ee.preventDefault(),!!e){if(A.start_date&&A.end_date){const ce=new Date(A.start_date);if(new Date(A.end_date)<ce){un.error("End date cannot be earlier than start date");return}}if(!o&&A.end_date&&(k!=null&&k.expected_end_date)){const ce=new Date(A.end_date),L=new Date(k.expected_end_date);if(ce>L){un.error(`Task end date cannot be after project end date (${k.expected_end_date})`);return}}try{const ce=((Y=D==null?void 0:D[0])==null?void 0:Y.allocated_to)||"",L=A.assign_to;if(o){const H=A,{assign_to:le}=H,re=Ce(H,["assign_to"]),V={subject:re.subject,status:re.status,start_date:re.start_date,end_date:re.end_date,description:re.description};if(yield b(e.referenceName,V),ce&&ce!==L){const ne=D==null?void 0:D.find(xe=>xe.allocated_to===ce);ne&&(yield N(ne.name))}L&&L!==ce&&(yield S(e.referenceName,L)),V.status,e.status,un.success("SubTask updated successfully",{description:`SubTask "${A.subject}" has been updated.`})}else{const le=A.progress!==(e.taskProgress||0),re=A.status!==e.status,V={subject:A.subject,status:A.status,priority:A.priority,exp_start_date:A.start_date,exp_end_date:A.end_date,progress:A.progress,description:A.description};if(U&&le?yield g(e.referenceName,A.progress):re&&(A.status==="Completed"||A.status==="Cancelled")?yield y(e.referenceName,A.status):yield c(e.referenceName,V),ce!==L){if(ce&&(D!=null&&D[0]))try{yield p(D[0].name)}catch(ne){console.error("Error deleting old ToDo:",ne)}if(L)try{yield h(e.referenceName,A.subject,L,A.priority)}catch(ne){console.error("Error creating new ToDo:",ne)}}un.success("Task updated successfully",{description:`Task "${A.subject}" has been updated.`})}s&&s(),n()}catch(ce){console.error("Error updating task/subtask:",ce);let L=`Failed to update ${o?"subtask":"task"}`;(J=ce==null?void 0:ce.message)!=null&&J.includes("modified")?L=`The ${o?"subtask":"task"} has been modified by someone else. Please close and reopen to get the latest version.`:(te=ce==null?void 0:ce.message)!=null&&te.includes("permission")?L=`You do not have permission to update this ${o?"subtask":"task"}.`:ce!=null&&ce.message&&(L=ce.message),un.error(`Failed to update ${o?"subtask":"task"}`,{description:L})}}}),W=()=>{var ee;if(e){const Y=((ee=D==null?void 0:D[0])==null?void 0:ee.allocated_to)||"";P({subject:e.title||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.startDate?e.startDate.split(" ")[0]:"",end_date:e.endDate?e.endDate.split(" ")[0]:"",progress:e.taskProgress||0,description:e.description||"",assign_to:Y})}n()};return e?i.jsx(gs,{open:t,onOpenChange:n,children:i.jsxs(xs,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[i.jsx(ys,{children:i.jsxs(bs,{children:["Edit ",o?"SubTask":"Task"]})}),i.jsxs("form",{onSubmit:G,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"subject",children:"Subject *"}),i.jsx(zt,{id:"subject",value:A.subject,onChange:ee=>$("subject",ee.target.value),required:!0,placeholder:`Enter ${o?"subtask":"task"} subject`})]}),i.jsxs("div",{className:`grid ${o?"grid-cols-1":"grid-cols-2"} gap-4`,children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"status",children:"Status"}),i.jsxs("select",{id:"status",value:A.status,onChange:ee=>$("status",ee.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"Open",children:"Open"}),i.jsx("option",{value:"Working",children:"Working"}),i.jsx("option",{value:"Pending Review",children:"Pending Review"}),!o&&i.jsx("option",{value:"Overdue",children:"Overdue"}),a&&i.jsx("option",{value:"Completed",children:"Completed"}),a&&i.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),!o&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"priority",children:"Priority"}),i.jsxs("select",{id:"priority",value:A.priority,onChange:ee=>$("priority",ee.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"Low",children:"Low"}),i.jsx("option",{value:"Medium",children:"Medium"}),i.jsx("option",{value:"High",children:"High"}),i.jsx("option",{value:"Urgent",children:"Urgent"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"start_date",children:o?"Start Date":"Expected Start Date"}),i.jsx(zt,{id:"start_date",type:"date",value:A.start_date,onChange:ee=>$("start_date",ee.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"end_date",children:o?"End Date":"Expected End Date"}),i.jsx(zt,{id:"end_date",type:"date",value:A.end_date,onChange:ee=>$("end_date",ee.target.value),max:!o&&(k!=null&&k.expected_end_date)?k.expected_end_date:void 0}),!o&&(k==null?void 0:k.expected_end_date)&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Must be before project end date: ",k.expected_end_date]})]})]}),!o&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"progress",children:"Progress (%)"}),i.jsx(zt,{id:"progress",type:"number",min:"0",max:"100",value:A.progress,onChange:ee=>$("progress",parseInt(ee.target.value)||0),placeholder:"0",disabled:U}),U?i.jsxs("div",{className:"text-sm text-blue-600 bg-blue-50 p-2 rounded",children:[i.jsx("strong",{children:"🔄 Smart Progress Mode:"}),i.jsxs("ul",{className:"mt-1 ml-4 list-disc text-xs",children:[i.jsx("li",{children:"Progress is automatically calculated from subtasks"}),i.jsx("li",{children:"Only assignee can manually override progress"}),i.jsx("li",{children:"Project leaders can set progress via status changes"})]})]}):i.jsxs("div",{className:"text-sm text-green-600 bg-green-50 p-2 rounded",children:[i.jsx("strong",{children:"✏️ Manual Progress Mode:"}),i.jsx("span",{className:"text-xs",children:" Progress can be updated manually by anyone with edit permission"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{htmlFor:"description",children:"Description"}),i.jsx("textarea",{id:"description",value:A.description,onChange:ee=>$("description",ee.target.value),placeholder:`Enter ${o?"subtask":"task"} description`,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),i.jsx("div",{className:"bg-gray-50 p-3 rounded-md",children:i.jsxs("p",{className:"text-sm text-gray-600",children:[i.jsx("strong",{children:"Project:"})," ",e.project]})}),E&&i.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:i.jsxs("p",{children:[i.jsx("strong",{children:"Error:"})," ",E.message||`Failed to update ${o?"subtask":"task"}`]})}),i.jsxs(As,{className:"flex gap-2",children:[i.jsx(Ie,{type:"button",variant:"outline",onClick:W,children:"Cancel"}),i.jsx(Ie,{type:"submit",disabled:R,children:R?"Updating...":`Update ${o?"SubTask":"Task"}`})]})]})]})}):null},T7=({role:e,currentView:t,setCurrentView:n})=>i.jsx("header",{className:"mb-8",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Trình Quản Lý Công Việc"}),i.jsxs("p",{className:"text-slate-500 mt-1",children:["Quản lý công việc và dự án một cách hiệu quả • Role: ",e||"Member"]})]}),e==="Leader"&&i.jsxs("div",{className:"inline-flex bg-slate-200 rounded-lg p-1",children:[i.jsx("button",{onClick:()=>n("user"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-all ${t==="user"?"bg-white text-slate-900 shadow-sm":"text-slate-600"}`,children:"Giao diện User"}),i.jsx("button",{onClick:()=>n("leader"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-all ${t==="leader"?"bg-white text-slate-900 shadow-sm":"text-slate-600"}`,children:"Giao diện Leader"})]})]})}),$k=e=>{switch(e){case"Working":return"text-orange-800 bg-orange-100";case"Open":return"text-sky-800 bg-sky-100";case"Completed":return"text-emerald-800 bg-emerald-100";case"Cancelled":return"text-red-800 bg-red-100";default:return"text-slate-800 bg-slate-100"}},Hk=e=>{switch(e){case"High":return"text-red-800 bg-red-100";case"Medium":return"text-amber-800 bg-amber-100";case"Low":return"text-green-800 bg-green-100";default:return"text-slate-800 bg-slate-100"}},Au=({task:e,onClick:t,formatDate:n,barClass:s="bg-indigo-600",completed:a=!1})=>{var o,c;return i.jsxs("div",{className:`kanban-card bg-white p-4 rounded-lg shadow-sm border border-slate-200 cursor-pointer ${a?"opacity-70":""}`,onClick:t,children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsx("p",{className:`font-semibold text-slate-900 flex-1 ${a?"line-through":""}`,children:e.title}),i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ml-2 ${e.type==="Task"?"text-blue-800 bg-blue-100":"text-purple-800 bg-purple-100"}`,children:e.type})]}),i.jsx("p",{className:"text-xs text-slate-500 mb-3",children:e.project}),i.jsxs("div",{className:"mb-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-xs text-slate-600",children:"Tiến độ"}),i.jsx("span",{className:"text-xs text-slate-600 font-medium",children:a?"100%":`${(o=e.taskProgress)!=null?o:0}%`})]}),i.jsx("div",{className:"bg-slate-200 rounded-full h-1.5",children:i.jsx("div",{className:`${a?"bg-emerald-500":s} h-1.5 rounded-full`,style:{width:a?"100%":`${(c=e.taskProgress)!=null?c:0}%`}})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:`priority-badge ${Hk(e.priority)}`,children:e.priority}),i.jsx("span",{className:"text-xs text-slate-500",children:n(e.dueDate).formatted})]})]})},E7=["Open","Working","Overdue","Pending Review","Completed"],k7=["Low","Medium","High","Urgent"],C7=["Task","SubTask"],YN=e=>e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),D7=({isLoading:e,handleRefresh:t,activeTab:n,setActiveTab:s,transformedTasks:a,formatDate:o,handleTaskClick:c})=>{const[d,f]=_.useState(""),[h,p]=_.useState(""),[g,y]=_.useState(""),[b,j]=_.useState(""),[v,S]=_.useState(""),[N,R]=_.useState(!1),[E,k]=_.useState(""),[D,C]=_.useState(""),A=_.useMemo(()=>{const W=new Set;return a.forEach(ee=>ee.project&&W.add(ee.project)),Array.from(W).sort((ee,Y)=>ee.localeCompare(Y))},[a]),P=_.useMemo(()=>{const W=YN(d.trim()),ee=Y=>{if(!Y)return!0;const H=new Date(Y);if(Number.isNaN(H.getTime()))return!0;if(E){const J=new Date(E);if(H<new Date(J.getFullYear(),J.getMonth(),J.getDate()))return!1}if(D){const J=new Date(D),te=new Date(J.getFullYear(),J.getMonth(),J.getDate(),23,59,59,999);if(H>te)return!1}return!0};return(a||[]).filter(Y=>!(W&&!YN(`${Y.title||""} ${Y.project||""} ${Y.status||""} ${Y.priority||""}`).includes(W)||h&&Y.status!==h||g&&Y.priority!==g||b&&Y.type!==b||v&&Y.project!==v||N&&Y.status!=="Overdue"&&!o(Y.dueDate).isOverdue||!ee(Y.dueDate)))},[d,h,g,b,v,N,E,D,a,o]),U=()=>{f(""),p(""),y(""),j(""),S(""),R(!1),k(""),C("")},K=W=>P.filter(ee=>ee.status===W).length,[$,G]=_.useState(!1);return i.jsx("div",{className:"space-y-8",children:i.jsxs("section",{children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Việc của tôi"}),i.jsxs("button",{onClick:t,disabled:e,className:"mt-4 sm:mt-0 flex items-center justify-center gap-2 bg-indigo-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-indigo-700 transition-all shadow-sm disabled:opacity-50",children:[e?i.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:i.jsx("path",{fill:"currentColor",d:"M12 20q-3.35 0-5.675-2.325T4 12t2.325-5.675T12 4q1.725 0 3.3.712T18 6.75V4h2v7h-7V9h4.2q-.8-1.4-2.187-2.2T12 6Q9.5 6 7.75 7.75T6 12t1.75 4.25T12 18q1.925 0 3.475-1.1T17.65 14h2.1q-.7 2.65-2.85 4.325T12 20"})}),e?"Đang tải...":"Làm mới"]})]}),i.jsx("div",{className:"mt-4 border-b border-slate-200",children:i.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[i.jsx("button",{onClick:()=>s("list"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${n==="list"?"border-indigo-500 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Danh sách"}),i.jsx("button",{onClick:()=>s("kanban"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${n==="kanban"?"border-indigo-500 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Bảng Kanban"}),i.jsx("button",{onClick:()=>s("calendar"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${n==="calendar"?"border-indigo-500 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Lịch"})]})}),i.jsxs("div",{className:"mt-4 bg-white border border-slate-200 p-4 rounded-xl shadow-sm",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3",children:[i.jsxs("div",{className:"relative w-full md:max-w-sm",children:[i.jsx("label",{className:"sr-only",children:"Tìm kiếm"}),i.jsx(ic,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),i.jsx("input",{value:d,onChange:W=>f(W.target.value),placeholder:"Tìm theo tên, dự án, trạng thái...",className:"w-full rounded-lg border border-slate-300 pl-9 pr-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),i.jsxs("div",{className:"flex items-center gap-2 md:ml-auto",children:[i.jsxs("button",{onClick:()=>G(W=>!W),className:"px-3 py-2 rounded-lg border border-slate-300 text-slate-700 hover:bg-slate-50 inline-flex items-center gap-2",children:[i.jsx(ld,{className:"h-4 w-4"}),"Bộ lọc"]}),i.jsx("button",{onClick:U,className:"px-3 py-2 rounded-lg border border-slate-300 text-slate-700 hover:bg-slate-50",children:"Xóa"})]})]}),$&&i.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-6 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Trạng thái"}),i.jsxs("select",{value:h,onChange:W=>p(W.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Tất cả"}),E7.map(W=>i.jsx("option",{value:W,children:W},W))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Ưu tiên"}),i.jsxs("select",{value:g,onChange:W=>y(W.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Tất cả"}),k7.map(W=>i.jsx("option",{value:W,children:W},W))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Loại"}),i.jsxs("select",{value:b,onChange:W=>j(W.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Tất cả"}),C7.map(W=>i.jsx("option",{value:W,children:W},W))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Dự án"}),i.jsxs("select",{value:v,onChange:W=>S(W.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Tất cả"}),A.map(W=>i.jsx("option",{value:W,children:W},W))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Hạn từ"}),i.jsx("input",{type:"date",value:E,onChange:W=>k(W.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Hạn đến"}),i.jsx("input",{type:"date",value:D,onChange:W=>C(W.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2"})]})]})]}),n==="list"&&i.jsx("div",{className:"mt-6 bg-white p-4 rounded-xl shadow-sm border border-slate-200",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"text-xs text-slate-500 uppercase bg-slate-100 rounded-t-lg",children:i.jsxs("tr",{children:[i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Tên công việc"}),i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Loại"}),i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Dự án"}),i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Tiến độ"}),i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Ngày hết hạn"}),i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Ưu tiên"}),i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Trạng thái"})]})}),i.jsx("tbody",{children:P.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-slate-500",children:e?"Đang tải...":"Không có công việc nào"})}):P.map(W=>i.jsxs("tr",{className:"bg-white border-b border-slate-200 hover:bg-slate-50 table-row transition-all cursor-pointer",onClick:()=>c(W),children:[i.jsxs("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-900 whitespace-nowrap",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[W.type==="SubTask"&&i.jsx("svg",{className:"w-4 h-4 text-slate-400",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M7.707 3.293a1 1 0 010 1.414L5.414 7H11a7 7 0 017 7v2a1 1 0 11-2 0v-2a5 5 0 00-5-5H5.414l2.293 2.293a1 1 0 11-1.414 1.414L2.586 7l3.707-3.707a1 1 0 011.414 0z",clipRule:"evenodd"})}),W.title]}),W.parentTask&&i.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["↳ Subtask của: ",W.parentTask]})]}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${W.type==="Task"?"text-blue-800 bg-blue-100":"text-purple-800 bg-purple-100"}`,children:W.type})}),i.jsx("td",{className:"px-6 py-4",children:W.project}),i.jsx("td",{className:"px-6 py-4",children:W.taskProgress!==void 0?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex-1 bg-slate-200 rounded-full h-2",children:i.jsx("div",{className:"bg-indigo-600 h-2 rounded-full transition-all duration-300",style:{width:`${W.taskProgress}%`}})}),i.jsxs("span",{className:"text-xs text-slate-600 font-medium min-w-[3rem]",children:[W.taskProgress,"%"]})]}):i.jsx("span",{className:"text-xs text-slate-400",children:"N/A"})}),i.jsx("td",{className:`px-6 py-4 ${o(W.dueDate).isOverdue?"text-red-600 font-medium":""}`,children:o(W.dueDate).display}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:`priority-badge ${Hk(W.priority)}`,children:W.priority})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:`status-badge ${$k(W.status)}`,children:W.status})})]},W.id))})]})})}),n==="kanban"&&i.jsx("div",{className:"mt-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[i.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[i.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-sky-500"}),"Cần làm (",K("Open"),")"]}),i.jsx("div",{className:"space-y-4",children:P.filter(W=>W.status==="Open").map(W=>i.jsx(Au,{task:W,onClick:()=>c(W),formatDate:o},W.id))})]}),i.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[i.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-orange-500"}),"Đang làm (",K("Working"),")"]}),i.jsx("div",{className:"space-y-4",children:P.filter(W=>W.status==="Working").map(W=>i.jsx(Au,{task:W,onClick:()=>c(W),formatDate:o,barClass:"bg-orange-500"},W.id))})]}),i.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[i.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"}),"Trễ (",K("Overdue"),")"]}),i.jsx("div",{className:"space-y-4",children:P.filter(W=>W.status==="Overdue").map(W=>i.jsx(Au,{task:W,onClick:()=>c(W),formatDate:o,barClass:"bg-orange-500"},W.id))})]}),i.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[i.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"}),"Review (",K("Pending Review"),")"]}),i.jsx("div",{className:"space-y-4",children:P.filter(W=>W.status==="Pending Review").map(W=>i.jsx(Au,{task:W,onClick:()=>c(W),formatDate:o,barClass:"bg-orange-500"},W.id))})]}),i.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[i.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500"}),"Hoàn thành (",K("Completed"),")"]}),i.jsx("div",{className:"space-y-4",children:P.filter(W=>W.status==="Completed").map(W=>i.jsx(Au,{task:W,onClick:()=>c(W),formatDate:o,completed:!0},W.id))})]})]})}),n==="calendar"&&i.jsx("div",{className:"mt-6 bg-white p-8 rounded-xl shadow-sm border border-slate-200",children:i.jsx("div",{className:"text-center text-slate-500",children:i.jsx("p",{children:"Giao diện lịch sẽ được phát triển trong tương lai"})})})]})})},O7=({teamDataError:e,teamMembersData:t,selectedMember:n,setSelectedMember:s,formatDate:a,handleTaskClick:o})=>{var d;const c=XL();return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Dashboard Tổng Quan"}),i.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[i.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Tổng công việc"}),i.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-1",children:c.total})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[i.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Đang thực hiện"}),i.jsx("p",{className:"text-3xl font-bold text-orange-500 mt-1",children:c.working})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[i.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Hoàn thành"}),i.jsx("p",{className:"text-3xl font-bold text-emerald-500 mt-1",children:c.completed})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[i.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Trễ hạn"}),i.jsx("p",{className:"text-3xl font-bold text-red-500 mt-1",children:c.overdue})]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Quản lý Nhóm"}),((d=e==null?void 0:e.message)==null?void 0:d.includes("PermissionError"))&&i.jsx("div",{className:"mt-4 bg-amber-50 border border-amber-200 rounded-md p-4",children:i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{className:"h-5 w-5 text-amber-400",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("h3",{className:"text-sm font-medium text-amber-800",children:"Quyền truy cập hạn chế"}),i.jsx("div",{className:"mt-2 text-sm text-amber-700",children:i.jsx("p",{children:"Không thể truy cập đầy đủ dữ liệu team members. Hiển thị dữ liệu cơ bản từ danh sách users."})})]})]})}),i.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[i.jsxs("div",{className:"lg:col-span-1 bg-white p-4 rounded-xl shadow-sm border border-slate-200",children:[i.jsxs("h3",{className:"font-bold text-slate-800 mb-4 px-2",children:["Thành viên nhóm (",t.length,")"]}),i.jsx("ul",{className:"space-y-2",children:t.map(f=>i.jsx("li",{onClick:()=>s(f.id),className:`member-item p-3 border rounded-lg hover:bg-slate-100 cursor-pointer transition-all ${n===f.id?"active":"border-transparent"}`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("img",{className:"h-10 w-10 rounded-full",src:f.avatar,alt:f.name}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-slate-900",children:f.name}),i.jsxs("p",{className:"text-sm text-slate-500",children:[f.taskCount," công việc"]})]})]})},f.id))})]}),i.jsx("div",{className:"lg:col-span-2 bg-white p-4 rounded-xl shadow-sm border border-slate-200 min-h-[300px]",children:n?(()=>{const f=t.find(h=>h.id===n);return f?i.jsxs("div",{children:[i.jsxs("h3",{className:"font-bold text-slate-800 mb-4",children:["Công việc của ",f.name]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"text-xs text-slate-500 uppercase bg-slate-100",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-2",children:"Tên công việc"}),i.jsx("th",{className:"px-4 py-2",children:"Loại"}),i.jsx("th",{className:"px-4 py-2",children:"Dự án"}),i.jsx("th",{className:"px-4 py-2",children:"Tiến độ"}),i.jsx("th",{className:"px-4 py-2",children:"Hạn chót"}),i.jsx("th",{className:"px-4 py-2",children:"Trạng thái"})]})}),i.jsx("tbody",{children:f.tasks.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:6,className:"text-center py-4 text-slate-500",children:"Thành viên này chưa có công việc nào."})}):f.tasks.map(h=>i.jsxs("tr",{className:"border-b border-slate-200 cursor-pointer hover:bg-slate-50",onClick:()=>o(h),children:[i.jsxs("td",{className:"px-4 py-3 font-medium text-slate-900",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[h.type==="SubTask"&&i.jsx("svg",{className:"w-3 h-3 text-slate-400",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M7.707 3.293a1 1 0 010 1.414L5.414 7H11a7 7 0 017 7v2a1 1 0 11-2 0v-2a5 5 0 00-5-5H5.414l2.293 2.293a1 1 0 11-1.414 1.414L2.586 7l3.707-3.707a1 1 0 011.414 0z",clipRule:"evenodd"})}),h.title]}),h.parentTask&&i.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["↳ Subtask của: ",h.parentTask]})]}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${h.type==="Task"?"text-blue-800 bg-blue-100":"text-purple-800 bg-purple-100"}`,children:h.type})}),i.jsx("td",{className:"px-4 py-3",children:h.project}),i.jsx("td",{className:"px-4 py-3",children:h.taskProgress!==void 0?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex-1 bg-slate-200 rounded-full h-1.5 min-w-[60px]",children:i.jsx("div",{className:"bg-indigo-600 h-1.5 rounded-full transition-all duration-300",style:{width:`${h.taskProgress}%`}})}),i.jsxs("span",{className:"text-xs text-slate-600 font-medium min-w-[2.5rem]",children:[h.taskProgress,"%"]})]}):i.jsx("span",{className:"text-xs text-slate-400",children:"N/A"})}),i.jsx("td",{className:"px-4 py-3",children:a(h.dueDate).display}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("span",{className:`status-badge ${$k(h.status)}`,children:h.status})})]},h.id))})]})})]}):i.jsx("div",{className:"flex items-center justify-center h-full text-slate-500",children:i.jsx("p",{children:"Không tìm thấy thành viên."})})})():i.jsx("div",{className:"flex items-center justify-center h-full text-slate-500",children:i.jsx("p",{children:"Chọn một thành viên để xem công việc của họ."})})})]})]})]})},A7=({error:e})=>i.jsx(i.Fragment,{children:e&&i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:i.jsx("div",{className:"flex",children:i.jsxs("div",{className:"ml-3",children:[i.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading tasks"}),i.jsx("div",{className:"mt-2 text-sm text-red-700",children:i.jsx("p",{children:e.message||"Failed to load your tasks. Please try again."})})]})})})}),R7=()=>{const[e,t]=se.useState("user"),[n,s]=se.useState("list"),[a,o]=se.useState(null),[c,d]=se.useState(!1),[f,h]=se.useState(null),{tasks:p,subTasks:g,isLoading:y,error:b,mutate:j,currentUser:v}=WL(),{data:S}=Ot("Team",{filters:[["teamlead","=",v||""]]}),N=S&&S.length>0?"Leader":"Member";se.useEffect(()=>{N==="Leader"&&t("leader")},[N]);const R=se.useMemo(()=>{const K=[];return p.forEach($=>{var G;K.push({id:$.name,title:$.subject||"Untitled Task",description:$.description||"No description available",project:$.project_name||$.project||"Unknown Project",assignee:v||"Unknown",status:$.status||"Open",priority:$.priority||"Medium",dueDate:$.exp_end_date||new Date().toISOString().split("T")[0],labels:[$.type||"Task"],todoId:((G=$.assignedTodo)==null?void 0:G.name)||"",referenceName:$.name,referenceType:"Task",type:"Task",taskProgress:$.progress,expectedTime:$.expected_time,actualTime:$.actual_time,startDate:$.exp_start_date,endDate:$.exp_end_date})}),g.forEach($=>{var G;K.push({id:$.name,title:$.subject||"Untitled SubTask",description:$.description||"No description available",project:$.project_name||"Unknown Project",assignee:v||"Unknown",status:$.status||"Open",priority:"Medium",dueDate:$.end_date||new Date().toISOString().split("T")[0],labels:["SubTask"],todoId:((G=$.assignedTodo)==null?void 0:G.name)||"",referenceName:$.name,referenceType:"SubTask",type:"SubTask",parentTask:$.task_subject,startDate:$.start_date,endDate:$.end_date})}),K.sort(($,G)=>new Date(G.dueDate).getTime()-new Date($.dueDate).getTime())},[p,g,v]),{teamMembersData:E,error:k}=N7({team:S&&S.length>0?S[0].name:""}),D=K=>{const $=new Date(K),W=$<new Date,ee=$.toLocaleDateString("vi-VN");return{formatted:ee,isOverdue:W,display:W?`${ee} (Trễ)`:ee}},C=()=>{j()},A=K=>{h(K),d(!0)},P=()=>{d(!1),h(null)},U=()=>{j()};return i.jsxs("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-slate-50 text-slate-800",children:[i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsx(T7,{role:N,currentView:e,setCurrentView:t}),i.jsx(A7,{error:b}),i.jsxs("main",{children:[e==="user"&&i.jsx(D7,{isLoading:y,handleRefresh:C,activeTab:n,setActiveTab:s,transformedTasks:R,formatDate:D,handleTaskClick:A}),e==="leader"&&N==="Leader"&&i.jsx(O7,{teamDataError:k,teamMembersData:E,selectedMember:a,setSelectedMember:o,formatDate:D,handleTaskClick:A})]})]}),i.jsx(S7,{task:f,isOpen:c,onClose:P,onSuccess:U,isLeader:N==="Leader"})]})},M7=[{id:"1",name:"Tài liệu kỹ thuật dự án UAV",type:"PDF",size:"2.5 MB",lastModified:"2024-01-15",author:"Nguyễn Văn A",category:"Kỹ thuật",status:"active"},{id:"2",name:"Báo cáo tiến độ tháng 1",type:"DOCX",size:"1.2 MB",lastModified:"2024-01-14",author:"Trần Thị B",category:"Báo cáo",status:"active"},{id:"3",name:"Quy trình nghiên cứu IoT",type:"PDF",size:"3.1 MB",lastModified:"2024-01-13",author:"Lê Văn C",category:"Quy trình",status:"draft"}],P7=["Tất cả","Kỹ thuật","Báo cáo","Quy trình","Hướng dẫn"],L7=["Tất cả","PDF","DOCX","XLSX","PPTX"],z7=()=>{const[e]=_.useState(M7),[t,n]=_.useState(""),[s,a]=_.useState("Tất cả"),[o,c]=_.useState("Tất cả"),d=e.filter(p=>{const g=p.name.toLowerCase().includes(t.toLowerCase())||p.author.toLowerCase().includes(t.toLowerCase()),y=s==="Tất cả"||p.category===s,b=o==="Tất cả"||p.type===o;return g&&y&&b}),f=p=>{switch(p){case"active":return"bg-green-100 text-green-800";case"draft":return"bg-yellow-100 text-yellow-800";case"archived":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},h=p=>{switch(p){case"active":return"Hoạt động";case"draft":return"Bản nháp";case"archived":return"Lưu trữ";default:return p}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Tài liệu"}),i.jsx("p",{className:"text-gray-600",children:"Quản lý biểu mẫu và tài liệu"})]}),i.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[i.jsx(qr,{className:"h-4 w-4"}),"Tải lên tài liệu"]})]}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(ic,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx("input",{type:"text",placeholder:"Tìm kiếm tài liệu...",value:t,onChange:p=>n(p.target.value),className:"pl-10 w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsx("div",{children:i.jsx("select",{value:s,onChange:p=>a(p.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:P7.map(p=>i.jsx("option",{value:p,children:p},p))})}),i.jsx("div",{children:i.jsx("select",{value:o,onChange:p=>c(p.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:L7.map(p=>i.jsx("option",{value:p,children:p},p))})}),i.jsxs("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[i.jsx(Z0,{className:"h-4 w-4"}),"Tải lên"]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tên tài liệu"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Loại"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kích thước"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tác giả"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cập nhật"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trạng thái"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tác"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(p=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Tr,{className:"h-5 w-5 text-blue-500 mr-3"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.name}),i.jsx("div",{className:"text-sm text-gray-500",children:p.category})]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.type}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.size}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.author}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.lastModified}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${f(p.status)}`,children:h(p.status)})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx("button",{className:"text-blue-600 hover:text-blue-900 p-1",children:i.jsx(ny,{className:"h-4 w-4"})}),i.jsx("button",{className:"text-green-600 hover:text-green-900 p-1",children:i.jsx(tc,{className:"h-4 w-4"})}),i.jsx("button",{className:"text-gray-600 hover:text-gray-900 p-1",children:i.jsx(Fo,{className:"h-4 w-4"})}),i.jsx("button",{className:"text-red-600 hover:text-red-900 p-1",children:i.jsx(Fi,{className:"h-4 w-4"})})]})})]},p.id))})]})})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Tr,{className:"h-8 w-8 text-blue-500"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng tài liệu"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Z0,{className:"h-8 w-8 text-green-500"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Hoạt động"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(p=>p.status==="active").length})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Fo,{className:"h-8 w-8 text-yellow-500"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Bản nháp"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(p=>p.status==="draft").length})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(tc,{className:"h-8 w-8 text-purple-500"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Lượt tải"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"1,234"})]})]})})]})]})},U7=[{id:"1",project:"Hệ thống Điều khiển UAV Tự động",category:"Thiết kế Chi tiết",planned:5e8,actual:36e7,remaining:14e7,status:"on-track",lastUpdated:"2024-01-15"},{id:"2",project:"Cảm biến Nhiệt độ IoT",category:"Nghiên cứu Tính khả thi",planned:2e8,actual:24e7,remaining:-4e7,status:"over-budget",lastUpdated:"2024-01-16"},{id:"3",project:"Platform AI cho Robot",category:"Phát triển Sản phẩm",planned:8e8,remaining:576e6,actual:224e6,status:"under-budget",lastUpdated:"2024-01-14"}],F7=["Tất cả","Thiết kế Chi tiết","Nghiên cứu Tính khả thi","Phát triển Sản phẩm"],B7=()=>{const[e]=_.useState(U7),[t,n]=_.useState("Tất cả"),s=e.filter(y=>t==="Tất cả"||y.category===t),a=e.reduce((y,b)=>y+b.planned,0),o=e.reduce((y,b)=>y+b.actual,0),c=e.reduce((y,b)=>y+b.remaining,0),d=Math.round(o/a*100),f=y=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0,maximumFractionDigits:0}).format(y).replace("₫","đ"),h=y=>{switch(y){case"on-track":return"bg-green-100 text-green-800";case"over-budget":return"bg-red-100 text-red-800";case"under-budget":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},p=y=>{switch(y){case"on-track":return"Đúng kế hoạch";case"over-budget":return"Vượt ngân sách";case"under-budget":return"Dưới ngân sách";default:return y}},g=y=>{switch(y){case"on-track":return i.jsx(Xl,{className:"h-4 w-4 text-green-600"});case"over-budget":return i.jsx(A1,{className:"h-4 w-4 text-red-600"});case"under-budget":return i.jsx(Xl,{className:"h-4 w-4 text-blue-600"});default:return i.jsx(Ui,{className:"h-4 w-4 text-gray-600"})}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Ngân sách"}),i.jsx("p",{className:"text-gray-600",children:"Quản lý chi phí và ngân sách"})]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsxs("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[i.jsx(tc,{className:"h-4 w-4"}),"Xuất báo cáo"]}),i.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[i.jsx(qr,{className:"h-4 w-4"}),"Thêm ngân sách"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng ngân sách"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f(a)}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Kế hoạch năm 2024"})]}),i.jsx(Uo,{className:"h-8 w-8 text-blue-500"})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đã sử dụng"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f(o)}),i.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[d,"% đã sử dụng"]})]}),i.jsx(Xl,{className:"h-8 w-8 text-green-500"})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Còn lại"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f(c)}),i.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:[100-d,"% còn lại"]})]}),i.jsx(A1,{className:"h-8 w-8 text-purple-500"})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Dự án vượt ngân sách"}),i.jsx("p",{className:"text-2xl font-bold text-red-600",children:e.filter(y=>y.status==="over-budget").length}),i.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Cần chú ý"})]}),i.jsx(Ui,{className:"h-8 w-8 text-red-500"})]})})]}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(ld,{className:"h-5 w-5 text-gray-400"}),i.jsx("select",{value:t,onChange:y=>n(y.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:F7.map(y=>i.jsx("option",{value:y,children:y},y))})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dự án"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Giai đoạn"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kế hoạch"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thực tế"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Còn lại"}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tiến độ"}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trạng thái"}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cập nhật"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(y=>{const b=Math.round(y.actual/y.planned*100);return i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:y.project})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm text-gray-500",children:y.category})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-gray-900",children:f(y.planned)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-gray-900",children:f(y.actual)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:i.jsx("span",{className:y.remaining<0?"text-red-600":"text-gray-900",children:f(y.remaining)})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full ${b>100?"bg-red-500":b>80?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(b,100)}%`}})}),i.jsxs("span",{className:"ml-2 text-xs text-gray-600",children:[b,"%"]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"flex items-center justify-center",children:i.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${h(y.status)}`,children:[g(y.status),i.jsx("span",{className:"ml-1",children:p(y.status)})]})})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-gray-500",children:y.lastUpdated})]},y.id)})})]})})}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Biểu đồ ngân sách theo thời gian"}),i.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:i.jsx("p",{className:"text-gray-500",children:"Biểu đồ sẽ được hiển thị tại đây"})})]})]})},$7=[{id:"1",title:"Thiếu linh kiện cảm biến chính",project:"Hệ thống Điều khiển UAV Tự động",category:"Kỹ thuật",probability:"high",impact:"high",status:"mitigating",owner:"Nguyễn Văn A",description:"Nhà cung cấp chính gặp vấn đề sản xuất, có thể ảnh hưởng đến tiến độ dự án",mitigation:"Tìm nhà cung cấp thay thế và đàm phán gia hạn giao hàng",createdDate:"2024-01-10",dueDate:"2024-02-15"},{id:"2",title:"Thay đổi yêu cầu từ khách hàng",project:"Cảm biến Nhiệt độ IoT",category:"Yêu cầu",probability:"medium",impact:"medium",status:"analyzing",owner:"Trần Thị B",description:"Khách hàng có thể thay đổi thông số kỹ thuật trong quá trình phát triển",mitigation:"Thiết lập quy trình quản lý thay đổi chặt chẽ",createdDate:"2024-01-12",dueDate:"2024-01-30"},{id:"3",title:"Nhân sự chủ chốt nghỉ việc",project:"Platform AI cho Robot",category:"Nhân sự",probability:"low",impact:"high",status:"identified",owner:"Lê Văn C",description:"Rủi ro mất đi nhân sự có kinh nghiệm trong quá trình phát triển",mitigation:"Xây dựng kế hoạch đào tạo và chuyển giao kiến thức",createdDate:"2024-01-08",dueDate:"2024-03-01"}],H7=["Tất cả","Kỹ thuật","Yêu cầu","Nhân sự","Tài chính","Lịch trình"],V7=["Tất cả","identified","analyzing","mitigating","closed"],I7=()=>{const[e]=_.useState($7),[t,n]=_.useState(""),[s,a]=_.useState("Tất cả"),[o,c]=_.useState("Tất cả"),d=e.filter(E=>{const k=E.title.toLowerCase().includes(t.toLowerCase())||E.project.toLowerCase().includes(t.toLowerCase()),D=s==="Tất cả"||E.category===s,C=o==="Tất cả"||E.status===o;return k&&D&&C}),f=(E,k)=>{const A=(E==="high"?3:E==="medium"?2:1)*(k==="high"?3:k==="medium"?2:1);return A>=6?{level:"Cao",color:"bg-red-100 text-red-800"}:A>=3?{level:"Trung bình",color:"bg-yellow-100 text-yellow-800"}:{level:"Thấp",color:"bg-green-100 text-green-800"}},h=E=>{switch(E){case"high":return"text-red-600";case"medium":return"text-yellow-600";case"low":return"text-green-600";default:return"text-gray-600"}},p=E=>{switch(E){case"high":return"text-red-600";case"medium":return"text-yellow-600";case"low":return"text-green-600";default:return"text-gray-600"}},g=E=>{switch(E){case"identified":return"bg-blue-100 text-blue-800";case"analyzing":return"bg-yellow-100 text-yellow-800";case"mitigating":return"bg-orange-100 text-orange-800";case"closed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},y=E=>{switch(E){case"identified":return"Đã xác định";case"analyzing":return"Đang phân tích";case"mitigating":return"Đang giảm thiểu";case"closed":return"Đã đóng";default:return E}},b=E=>{switch(E){case"high":return"Cao";case"medium":return"Trung bình";case"low":return"Thấp";default:return E}},j=E=>{switch(E){case"high":return"Cao";case"medium":return"Trung bình";case"low":return"Thấp";default:return E}},v=e.filter(E=>f(E.probability,E.impact).level==="Cao").length,S=e.filter(E=>f(E.probability,E.impact).level==="Trung bình").length,N=e.filter(E=>f(E.probability,E.impact).level==="Thấp").length,R=e.filter(E=>E.status!=="closed").length;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Rủi ro"}),i.jsx("p",{className:"text-gray-600",children:"Quản lý rủi ro dự án"})]}),i.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[i.jsx(qr,{className:"h-4 w-4"}),"Thêm rủi ro"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(oc,{className:"h-8 w-8 text-red-500"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rủi ro cao"}),i.jsx("p",{className:"text-2xl font-bold text-red-600",children:v})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(ny,{className:"h-8 w-8 text-yellow-500"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rủi ro trung bình"}),i.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:S})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(aS,{className:"h-8 w-8 text-green-500"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rủi ro thấp"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:N})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Xl,{className:"h-8 w-8 text-blue-500"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đang xử lý"}),i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:R})]})]})})]}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(ic,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx("input",{type:"text",placeholder:"Tìm kiếm rủi ro...",value:t,onChange:E=>n(E.target.value),className:"pl-10 w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsx("div",{children:i.jsx("select",{value:s,onChange:E=>a(E.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:H7.map(E=>i.jsx("option",{value:E,children:E},E))})}),i.jsx("div",{children:i.jsx("select",{value:o,onChange:E=>c(E.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:V7.map(E=>i.jsx("option",{value:E,children:E==="Tất cả"?"Tất cả trạng thái":y(E)},E))})})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rủi ro"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dự án"}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Xác suất"}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tác động"}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mức độ"}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trạng thái"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Người phụ trách"}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hạn xử lý"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(E=>{const k=f(E.probability,E.impact);return i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.title}),i.jsx("div",{className:"text-sm text-gray-500 mt-1",children:E.category})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("div",{className:"text-sm text-gray-900",children:E.project})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:i.jsx("span",{className:`text-sm font-medium ${h(E.probability)}`,children:b(E.probability)})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:i.jsx("span",{className:`text-sm font-medium ${p(E.impact)}`,children:j(E.impact)})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${k.color}`,children:k.level})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${g(E.status)}`,children:y(E.status)})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:E.owner}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-gray-500",children:E.dueDate})]},E.id)})})]})})}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Ma trận rủi ro"}),i.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:i.jsx("p",{className:"text-gray-500",children:"Ma trận rủi ro sẽ được hiển thị tại đây"})})]})]})},q7=[{id:"1",title:"Gate Review 4 - UAV Control System",type:"gate-review",project:"Hệ thống Điều khiển UAV Tự động",date:"2024-01-15",time:"09:00",duration:120,location:"Phòng họp A",attendees:["Nguyễn Văn A","Trần Thị B","Lê Văn C"],status:"scheduled",description:"Đánh giá tiến độ và chất lượng giai đoạn Thiết kế Chi tiết",isOnline:!1},{id:"2",title:"Weekly Progress Meeting",type:"progress",project:"Cảm biến Nhiệt độ IoT",date:"2024-01-16",time:"14:00",duration:60,location:"Microsoft Teams",attendees:["Trần Thị B","Phạm Văn D"],status:"scheduled",description:"Họp tiến độ hàng tuần cho dự án IoT",isOnline:!0,meetingLink:"https://teams.microsoft.com/..."},{id:"3",title:"Technical Review - AI Platform",type:"technical",project:"Platform AI cho Robot",date:"2024-01-18",time:"10:30",duration:90,location:"Phòng họp B",attendees:["Lê Văn C","Hoàng Thị E","Vũ Văn F"],status:"completed",description:"Đánh giá kỹ thuật kiến trúc hệ thống AI",isOnline:!1}],W7=[{value:"all",label:"Tất cả cuộc họp"},{value:"gate-review",label:"Gate Review"},{value:"progress",label:"Họp tiến độ"},{value:"planning",label:"Họp lập kế hoạch"},{value:"technical",label:"Họp kỹ thuật"}],Y7=()=>{const[e]=_.useState(q7),[t,n]=_.useState("all"),[s,a]=_.useState("list"),o=e.filter(v=>t==="all"||v.type===t),c=v=>{switch(v){case"gate-review":return"bg-red-100 text-red-800";case"progress":return"bg-blue-100 text-blue-800";case"planning":return"bg-green-100 text-green-800";case"technical":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},d=v=>{switch(v){case"gate-review":return"Gate Review";case"progress":return"Họp tiến độ";case"planning":return"Lập kế hoạch";case"technical":return"Kỹ thuật";default:return v}},f=v=>{switch(v){case"scheduled":return"bg-blue-100 text-blue-800";case"in-progress":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},h=v=>{switch(v){case"scheduled":return"Đã lên lịch";case"in-progress":return"Đang diễn ra";case"completed":return"Hoàn thành";case"cancelled":return"Đã hủy";default:return v}},p=v=>new Date(v).toLocaleDateString("vi-VN",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),g=e.filter(v=>v.date==="2024-01-15").length,y=e.filter(v=>v.status==="scheduled").length,b=e.filter(v=>v.status==="completed").length,j=e.filter(v=>v.type==="gate-review").length;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Lịch họp"}),i.jsx("p",{className:"text-gray-600",children:"Quản lý cuộc họp và gate review"})]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[i.jsx("button",{onClick:()=>a("list"),className:`px-3 py-1 rounded text-sm transition-colors ${s==="list"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:"Danh sách"}),i.jsx("button",{onClick:()=>a("calendar"),className:`px-3 py-1 rounded text-sm transition-colors ${s==="calendar"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:"Lịch"})]}),i.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[i.jsx(qr,{className:"h-4 w-4"}),"Tạo cuộc họp"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ws,{className:"h-8 w-8 text-blue-500"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Hôm nay"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(zo,{className:"h-8 w-8 text-green-500"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Sắp tới"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(rS,{className:"h-8 w-8 text-purple-500"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đã hoàn thành"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Tr,{className:"h-8 w-8 text-red-500"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Gate Review"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j})]})]})})]}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Loại cuộc họp:"}),i.jsx("select",{value:t,onChange:v=>n(v.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:W7.map(v=>i.jsx("option",{value:v.value,children:v.label},v.value))})]})}),s==="list"?i.jsx("div",{className:"space-y-4",children:o.map(v=>i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:v.title}),i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c(v.type)}`,children:d(v.type)}),i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${f(v.status)}`,children:h(v.status)})]}),i.jsx("p",{className:"text-gray-600 mb-3",children:v.description}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm text-gray-500",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ws,{className:"h-4 w-4 mr-2"}),p(v.date)]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(zo,{className:"h-4 w-4 mr-2"}),v.time," (",v.duration," phút)"]}),i.jsxs("div",{className:"flex items-center",children:[v.isOnline?i.jsx(R1,{className:"h-4 w-4 mr-2"}):i.jsx(P3,{className:"h-4 w-4 mr-2"}),v.location]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(Gl,{className:"h-4 w-4 mr-2"}),v.attendees.length," người tham gia"]})]}),i.jsxs("div",{className:"mt-4",children:[i.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Dự án: ",i.jsx("span",{className:"font-medium",children:v.project})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:v.attendees.map((S,N)=>i.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded",children:S},N))})]})]}),i.jsxs("div",{className:"flex flex-col space-y-2 ml-4",children:[v.isOnline&&v.meetingLink&&i.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm flex items-center gap-1",children:[i.jsx(R1,{className:"h-3 w-3"}),"Tham gia"]}),i.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1 rounded text-sm",children:"Chi tiết"})]})]})},v.id))}):i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Lịch cuộc họp"}),i.jsx("div",{className:"h-96 bg-gray-50 rounded-lg flex items-center justify-center",children:i.jsx("p",{className:"text-gray-500",children:"Lịch cuộc họp sẽ được hiển thị tại đây"})})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cuộc họp sắp tới"}),i.jsx("div",{className:"space-y-3",children:e.filter(v=>v.status==="scheduled").slice(0,3).map(v=>i.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:v.title}),i.jsxs("p",{className:"text-xs text-gray-500",children:[v.date," - ",v.time]})]})]},v.id))})]})]})},X7=[{id:"1",name:"Báo cáo tiến độ dự án tháng 1",type:"project",description:"Tổng hợp tiến độ thực hiện các dự án R&D trong tháng 1/2024",lastGenerated:"2024-01-15",status:"ready",format:"PDF"},{id:"2",name:"Phân tích chi phí quý 1",type:"financial",description:"Báo cáo chi tiết về tình hình tài chính và ngân sách dự án",lastGenerated:"2024-01-14",status:"ready",format:"Excel"},{id:"3",name:"Báo cáo hiệu suất nhân sự",type:"resource",description:"Đánh giá hiệu suất làm việc và phân bổ nguồn lực",lastGenerated:"2024-01-13",status:"generating",format:"PowerPoint"},{id:"4",name:"Dashboard KPI tổng quan",type:"performance",description:"Các chỉ số hiệu suất chính của tổ chức",lastGenerated:"2024-01-12",status:"ready",format:"PDF"}],G7=[{value:"all",label:"Tất cả báo cáo",icon:Tr},{value:"project",label:"Báo cáo dự án",icon:Uh},{value:"financial",label:"Báo cáo tài chính",icon:Uo},{value:"resource",label:"Báo cáo nguồn lực",icon:Gl},{value:"performance",label:"Báo cáo hiệu suất",icon:Xl}],K7=()=>{const[e]=_.useState(X7),[t,n]=_.useState("all"),[s,a]=_.useState("this-month"),o=e.filter(v=>t==="all"||v.type===t),c=v=>{switch(v){case"project":return"bg-blue-100 text-blue-800";case"financial":return"bg-green-100 text-green-800";case"resource":return"bg-purple-100 text-purple-800";case"performance":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},d=v=>{switch(v){case"project":return"Dự án";case"financial":return"Tài chính";case"resource":return"Nguồn lực";case"performance":return"Hiệu suất";default:return v}},f=v=>{switch(v){case"ready":return"bg-green-100 text-green-800";case"generating":return"bg-yellow-100 text-yellow-800";case"error":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},h=v=>{switch(v){case"ready":return"Sẵn sàng";case"generating":return"Đang tạo";case"error":return"Lỗi";default:return v}},p=v=>{switch(v){case"PDF":return"📄";case"Excel":return"📊";case"PowerPoint":return"📽️";default:return"📄"}},g=e.filter(v=>v.status==="ready").length,y=e.filter(v=>v.status==="generating").length,b=e.filter(v=>v.type==="project").length,j=e.filter(v=>v.type==="financial").length;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Báo cáo"}),i.jsx("p",{className:"text-gray-600",children:"Báo cáo và thống kê"})]}),i.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[i.jsx(Tr,{className:"h-4 w-4"}),"Tạo báo cáo mới"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Tr,{className:"h-8 w-8 text-green-500"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Báo cáo sẵn sàng"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Uh,{className:"h-8 w-8 text-yellow-500"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đang tạo"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(KM,{className:"h-8 w-8 text-blue-500"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Báo cáo dự án"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Uo,{className:"h-8 w-8 text-purple-500"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Báo cáo tài chính"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j})]})]})})]}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loại báo cáo"}),i.jsx("select",{value:t,onChange:v=>n(v.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:G7.map(v=>i.jsx("option",{value:v.value,children:v.label},v.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Thời gian"}),i.jsxs("select",{value:s,onChange:v=>a(v.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"this-week",children:"Tuần này"}),i.jsx("option",{value:"this-month",children:"Tháng này"}),i.jsx("option",{value:"this-quarter",children:"Quý này"}),i.jsx("option",{value:"this-year",children:"Năm này"}),i.jsx("option",{value:"custom",children:"Tùy chọn"})]})]}),i.jsx("div",{className:"flex items-end",children:i.jsxs("button",{className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[i.jsx(ld,{className:"h-4 w-4"}),"Lọc"]})})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsxs("button",{className:"bg-white hover:bg-gray-50 rounded-lg shadow-sm border border-gray-200 p-6 text-left transition-colors",children:[i.jsx(Uh,{className:"h-8 w-8 text-blue-500 mb-3"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Báo cáo tiến độ"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Tổng quan tiến độ các dự án"})]}),i.jsxs("button",{className:"bg-white hover:bg-gray-50 rounded-lg shadow-sm border border-gray-200 p-6 text-left transition-colors",children:[i.jsx(Uo,{className:"h-8 w-8 text-green-500 mb-3"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Báo cáo tài chính"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Chi phí và ngân sách"})]}),i.jsxs("button",{className:"bg-white hover:bg-gray-50 rounded-lg shadow-sm border border-gray-200 p-6 text-left transition-colors",children:[i.jsx(Gl,{className:"h-8 w-8 text-purple-500 mb-3"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Báo cáo nhân sự"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Hiệu suất và phân bổ"})]}),i.jsxs("button",{className:"bg-white hover:bg-gray-50 rounded-lg shadow-sm border border-gray-200 p-6 text-left transition-colors",children:[i.jsx(Xl,{className:"h-8 w-8 text-orange-500 mb-3"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Dashboard KPI"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Chỉ số hiệu suất"})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Báo cáo gần đây"})}),i.jsx("div",{className:"divide-y divide-gray-200",children:o.map(v=>i.jsx("div",{className:"p-6 hover:bg-gray-50",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[i.jsx("h4",{className:"text-lg font-medium text-gray-900",children:v.name}),i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c(v.type)}`,children:d(v.type)}),i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${f(v.status)}`,children:h(v.status)})]}),i.jsx("p",{className:"text-gray-600 mb-2",children:v.description}),i.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ws,{className:"h-4 w-4 mr-1"}),"Tạo: ",v.lastGenerated]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"mr-1",children:p(v.format)}),v.format]})]})]}),i.jsxs("div",{className:"flex space-x-2 ml-4",children:[v.status==="ready"&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm flex items-center gap-1",children:[i.jsx(tc,{className:"h-3 w-3"}),"Tải xuống"]}),i.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1 rounded text-sm",children:"Xem"})]}),v.status==="generating"&&i.jsxs("div",{className:"flex items-center text-yellow-600",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-yellow-600 border-t-transparent mr-2"}),"Đang tạo..."]}),i.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1 rounded text-sm",children:"Tạo lại"})]})]})},v.id))})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Tiến độ dự án theo thời gian"}),i.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:i.jsx("p",{className:"text-gray-500",children:"Biểu đồ tiến độ sẽ được hiển thị tại đây"})})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Phân bổ ngân sách theo dự án"}),i.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:i.jsx("p",{className:"text-gray-500",children:"Biểu đồ ngân sách sẽ được hiển thị tại đây"})})]})]})]})},Vk=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thông tin tổ chức"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tên tổ chức"}),i.jsx("input",{type:"text",defaultValue:"R&D Management",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email liên hệ"}),i.jsx("input",{type:"email",defaultValue:"admin@company.com",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số điện thoại"}),i.jsx("input",{type:"tel",defaultValue:"+84 123 456 789",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Múi giờ"}),i.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"Asia/Ho_Chi_Minh",children:"UTC+7 (Việt Nam)"}),i.jsx("option",{value:"UTC",children:"UTC"}),i.jsx("option",{value:"Asia/Tokyo",children:"UTC+9 (Nhật Bản)"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cài đặt hệ thống"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Cho phép đăng ký mới"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Cho phép người dùng mới tự đăng ký tài khoản"})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Yêu cầu xác thực 2 lớp"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Bắt buộc người dùng sử dụng 2FA"})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"sr-only peer"}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})]}),Q7=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thông tin cá nhân"}),i.jsxs("div",{className:"flex items-center space-x-6 mb-6",children:[i.jsx("div",{className:"w-24 h-24 bg-blue-600 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-white font-bold text-2xl",children:"AU"})}),i.jsxs("div",{children:[i.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg mr-3",children:"Thay đổi ảnh"}),i.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg",children:"Xóa ảnh"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Họ và tên"}),i.jsx("input",{type:"text",defaultValue:"Admin User",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),i.jsx("input",{type:"email",defaultValue:"admin@company.com",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vị trí"}),i.jsx("input",{type:"text",defaultValue:"System Administrator",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phòng ban"}),i.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{children:"IT Department"}),i.jsx("option",{children:"R&D Department"}),i.jsx("option",{children:"Management"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thay đổi mật khẩu"}),i.jsxs("div",{className:"space-y-4 max-w-md",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mật khẩu hiện tại"}),i.jsx("input",{type:"password",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mật khẩu mới"}),i.jsx("input",{type:"password",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Xác nhận mật khẩu mới"}),i.jsx("input",{type:"password",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Cập nhật mật khẩu"})]})]})]}),Z7=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thông báo Email"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Cập nhật dự án"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Nhận thông báo khi có cập nhật về dự án"})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Thông báo task"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Nhận thông báo khi có task mới được giao"})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Báo cáo tuần"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Nhận báo cáo tổng hợp hàng tuần"})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"sr-only peer"}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thông báo trình duyệt"}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Thông báo realtime"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Hiển thị thông báo ngay lập tức trên trình duyệt"})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})})]})]}),J7=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Bảo mật tài khoản"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Xác thực 2 lớp (2FA)"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Tăng cường bảo mật với xác thực 2 lớp"})]}),i.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Kích hoạt"})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Phiên đăng nhập"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Quản lý các phiên đăng nhập hiện tại"})]}),i.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg",children:"Xem chi tiết"})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Nhật ký hoạt động"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Xem lịch sử hoạt động của tài khoản"})]}),i.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg",children:"Xem nhật ký"})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quyền riêng tư"}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Hiển thị trạng thái online"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Cho phép người khác thấy khi bạn đang online"})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})})]})]}),XN=[{id:"general",name:"Cài đặt chung",icon:sy,component:Vk},{id:"user",name:"Tài khoản",icon:Gu,component:Q7},{id:"notifications",name:"Thông báo",icon:nS,component:Z7},{id:"security",name:"Bảo mật",icon:aS,component:J7}],eH=()=>{var s;const[e,t]=_.useState("general"),n=((s=XN.find(a=>a.id===e))==null?void 0:s.component)||Vk;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Cài đặt"}),i.jsx("p",{className:"text-gray-600",children:"Cài đặt hệ thống"})]}),i.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[i.jsx(K3,{className:"h-4 w-4"}),"Lưu thay đổi"]})]}),i.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[i.jsx("div",{className:"lg:w-64 flex-shrink-0",children:i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:i.jsx("nav",{className:"space-y-1 p-2",children:XN.map(a=>{const o=a.icon;return i.jsxs("button",{onClick:()=>t(a.id),className:`w-full flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${e===a.id?"bg-blue-50 text-blue-700 border-l-4 border-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:[i.jsx(o,{className:`mr-3 h-5 w-5 ${e===a.id?"text-blue-600":"text-gray-400"}`}),a.name]},a.id)})})})}),i.jsx("div",{className:"flex-1",children:i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsx(n,{})})})]})]})},tH=[{id:1,project:"E-commerce Platform",task:"Design user interface mockups",user:"Jane Smith",startTime:"09:00 AM",endTime:"11:30 AM",duration:"2h 30m",date:"2024-03-08"},{id:2,project:"Mobile App Redesign",task:"API documentation",user:"Mike Johnson",startTime:"02:00 PM",endTime:"04:15 PM",duration:"2h 15m",date:"2024-03-08"},{id:3,project:"Data Analytics Dashboard",task:"Testing setup",user:"Sarah Wilson",startTime:"10:30 AM",endTime:"12:00 PM",duration:"1h 30m",date:"2024-03-07"}],nH=()=>{const[e,t]=se.useState(!1),[n,s]=se.useState("00:00:00");return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"md:flex md:items-center md:justify-between",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Time Tracking"}),i.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Track time spent on projects and tasks"})]})}),i.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-6",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"text-4xl font-mono font-bold text-gray-900",children:n}),i.jsx("div",{className:"flex items-center justify-center space-x-4",children:e?i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>t(!1),className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-yellow-600 hover:bg-yellow-700",children:[i.jsx(F3,{className:"mr-2 h-5 w-5"}),"Pause"]}),i.jsxs("button",{onClick:()=>{t(!1),s("00:00:00")},className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-red-600 hover:bg-red-700",children:[i.jsx(r4,{className:"mr-2 h-5 w-5"}),"Stop"]})]}):i.jsxs("button",{onClick:()=>t(!0),className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-green-600 hover:bg-green-700",children:[i.jsx(q3,{className:"mr-2 h-5 w-5"}),"Start Timer"]})}),e&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project"}),i.jsxs("select",{className:"w-full border border-gray-300 rounded-md px-3 py-2",children:[i.jsx("option",{children:"E-commerce Platform"}),i.jsx("option",{children:"Mobile App Redesign"}),i.jsx("option",{children:"Data Analytics Dashboard"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Task Description"}),i.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"What are you working on?"})]})]})]})}),i.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Time Entries"})}),i.jsx("div",{className:"overflow-hidden",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Task"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time Period"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:tH.map(a=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:a.project}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.task}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.user}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[a.startTime," - ",a.endTime]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[i.jsx(zo,{className:"mr-1 h-3 w-3"}),a.duration]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.date})]},a.id))})]})})]})]})},sH=NM([{path:"/",element:i.jsx(DL,{}),children:[{index:!0,element:i.jsx(RF,{})},{path:"projects",element:i.jsx(_7,{})},{path:"tasks",element:i.jsx(R7,{})},{path:"documents",element:i.jsx(z7,{})},{path:"budget",element:i.jsx(B7,{})},{path:"risk",element:i.jsx(I7,{})},{path:"meetings",element:i.jsx(Y7,{})},{path:"reports",element:i.jsx(K7,{})},{path:"settings",element:i.jsx(eH,{})},{path:"time-tracking",element:i.jsx(nH,{})}]}],{basename:"/todo"});$D.createRoot(document.getElementById("root")).render(i.jsx(se.StrictMode,{children:i.jsx(PM,{router:sH})}))});export default rH();
