var eC=Object.defineProperty,tC=Object.defineProperties;var nC=Object.getOwnPropertyDescriptors;var ff=Object.getOwnPropertySymbols;var Fw=Object.prototype.hasOwnProperty,Hw=Object.prototype.propertyIsEnumerable;var bl=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),sC=e=>{throw TypeError(e)};var Kp=(e,t,n)=>t in e?eC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,z=(e,t)=>{for(var n in t||(t={}))Fw.call(t,n)&&Kp(e,n,t[n]);if(ff)for(var n of ff(t))Hw.call(t,n)&&Kp(e,n,t[n]);return e},xe=(e,t)=>tC(e,nC(t));var De=(e,t)=>{var n={};for(var s in e)Fw.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&ff)for(var s of ff(e))t.indexOf(s)<0&&Hw.call(e,s)&&(n[s]=e[s]);return n};var rC=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var ot=(e,t,n)=>Kp(e,typeof t!="symbol"?t+"":t,n);var ge=(e,t,n)=>new Promise((s,a)=>{var o=f=>{try{u(n.next(f))}catch(h){a(h)}},l=f=>{try{u(n.throw(f))}catch(h){a(h)}},u=f=>f.done?s(f.value):Promise.resolve(f.value).then(o,l);u((n=n.apply(e,t)).next())}),ro=function(e,t){this[0]=e,this[1]=t},Qp=(e,t,n)=>{var s=(l,u,f,h)=>{try{var p=n[l](u),x=(u=p.value)instanceof ro,y=p.done;Promise.resolve(x?u[0]:u).then(b=>x?s(l==="return"?l:"next",u[1]?{done:b.done,value:b.value}:b,f,h):f({value:b,done:y})).catch(b=>s("throw",b,f,h))}catch(b){h(b)}},a=l=>o[l]=u=>new Promise((f,h)=>s(l,u,f,h)),o={};return n=n.apply(e,t),o[bl("asyncIterator")]=()=>o,a("next"),a("throw"),a("return"),o},Zp=e=>{var t=e[bl("asyncIterator")],n=!1,s,a={};return t==null?(t=e[bl("iterator")](),s=o=>a[o]=l=>t[o](l)):(t=t.call(e),s=o=>a[o]=l=>{if(n){if(n=!1,o==="throw")throw l;return l}return n=!0,{done:!1,value:new ro(new Promise(u=>{var f=t[o](l);f instanceof Object||sC("Object expected"),u(f)}),1)}}),a[bl("iterator")]=()=>a,s("next"),"throw"in t?s("throw"):a.throw=o=>{throw o},"return"in t&&s("return"),a},Vw=(e,t,n)=>(t=e[bl("asyncIterator")])?t.call(e):(e=e[bl("iterator")](),t={},n=(s,a)=>(a=e[s])&&(t[s]=o=>new Promise((l,u,f)=>(o=a.call(e,o),f=o.done,Promise.resolve(o.value).then(h=>l({value:h,done:f}),u)))),n("next"),n("return"),t);var oF=rC(At=>{function aC(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(s,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function K0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jp={exports:{}},nu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $w;function iC(){if($w)return nu;$w=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var u in a)u!=="key"&&(o[u]=a[u])}else o=a;return a=o.ref,{$$typeof:e,type:s,key:l,ref:a!==void 0?a:null,props:o}}return nu.Fragment=t,nu.jsx=n,nu.jsxs=n,nu}var qw;function oC(){return qw||(qw=1,Jp.exports=iC()),Jp.exports}var d=oC(),eg={exports:{}},Nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yw;function lC(){if(Yw)return Nt;Yw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),x=Symbol.iterator;function y(H){return H===null||typeof H!="object"?null:(H=x&&H[x]||H["@@iterator"],typeof H=="function"?H:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,_={};function j(H,ae,we){this.props=H,this.context=ae,this.refs=_,this.updater=we||b}j.prototype.isReactComponent={},j.prototype.setState=function(H,ae){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ae,"setState")},j.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function S(){}S.prototype=j.prototype;function C(H,ae,we){this.props=H,this.context=ae,this.refs=_,this.updater=we||b}var O=C.prototype=new S;O.constructor=C,w(O,j.prototype),O.isPureReactComponent=!0;var D=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},R=Object.prototype.hasOwnProperty;function M(H,ae,we,W,me,ke){return we=ke.ref,{$$typeof:e,type:H,key:ae,ref:we!==void 0?we:null,props:ke}}function F(H,ae){return M(H.type,ae,void 0,void 0,void 0,H.props)}function q(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function re(H){var ae={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(we){return ae[we]})}var G=/\/+/g;function ee(H,ae){return typeof H=="object"&&H!==null&&H.key!=null?re(""+H.key):ae.toString(36)}function de(){}function J(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(de,de):(H.status="pending",H.then(function(ae){H.status==="pending"&&(H.status="fulfilled",H.value=ae)},function(ae){H.status==="pending"&&(H.status="rejected",H.reason=ae)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function K(H,ae,we,W,me){var ke=typeof H;(ke==="undefined"||ke==="boolean")&&(H=null);var ye=!1;if(H===null)ye=!0;else switch(ke){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(H.$$typeof){case e:case t:ye=!0;break;case p:return ye=H._init,K(ye(H._payload),ae,we,W,me)}}if(ye)return me=me(H),ye=W===""?"."+ee(H,0):W,D(me)?(we="",ye!=null&&(we=ye.replace(G,"$&/")+"/"),K(me,ae,we,"",function(tt){return tt})):me!=null&&(q(me)&&(me=F(me,we+(me.key==null||H&&H.key===me.key?"":(""+me.key).replace(G,"$&/")+"/")+ye)),ae.push(me)),1;ye=0;var Ce=W===""?".":W+":";if(D(H))for(var ze=0;ze<H.length;ze++)W=H[ze],ke=Ce+ee(W,ze),ye+=K(W,ae,we,ke,me);else if(ze=y(H),typeof ze=="function")for(H=ze.call(H),ze=0;!(W=H.next()).done;)W=W.value,ke=Ce+ee(W,ze++),ye+=K(W,ae,we,ke,me);else if(ke==="object"){if(typeof H.then=="function")return K(J(H),ae,we,W,me);throw ae=String(H),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return ye}function B(H,ae,we){if(H==null)return H;var W=[],me=0;return K(H,W,"","",function(ke){return ae.call(we,ke,me++)}),W}function Y(H){if(H._status===-1){var ae=H._result;ae=ae(),ae.then(function(we){(H._status===0||H._status===-1)&&(H._status=1,H._result=we)},function(we){(H._status===0||H._status===-1)&&(H._status=2,H._result=we)}),H._status===-1&&(H._status=0,H._result=ae)}if(H._status===1)return H._result.default;throw H._result}var Q=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function ve(){}return Nt.Children={map:B,forEach:function(H,ae,we){B(H,function(){ae.apply(this,arguments)},we)},count:function(H){var ae=0;return B(H,function(){ae++}),ae},toArray:function(H){return B(H,function(ae){return ae})||[]},only:function(H){if(!q(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Nt.Component=j,Nt.Fragment=n,Nt.Profiler=a,Nt.PureComponent=C,Nt.StrictMode=s,Nt.Suspense=f,Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Nt.__COMPILER_RUNTIME={__proto__:null,c:function(H){return k.H.useMemoCache(H)}},Nt.cache=function(H){return function(){return H.apply(null,arguments)}},Nt.cloneElement=function(H,ae,we){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var W=w({},H.props),me=H.key,ke=void 0;if(ae!=null)for(ye in ae.ref!==void 0&&(ke=void 0),ae.key!==void 0&&(me=""+ae.key),ae)!R.call(ae,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&ae.ref===void 0||(W[ye]=ae[ye]);var ye=arguments.length-2;if(ye===1)W.children=we;else if(1<ye){for(var Ce=Array(ye),ze=0;ze<ye;ze++)Ce[ze]=arguments[ze+2];W.children=Ce}return M(H.type,me,void 0,void 0,ke,W)},Nt.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:o,_context:H},H},Nt.createElement=function(H,ae,we){var W,me={},ke=null;if(ae!=null)for(W in ae.key!==void 0&&(ke=""+ae.key),ae)R.call(ae,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(me[W]=ae[W]);var ye=arguments.length-2;if(ye===1)me.children=we;else if(1<ye){for(var Ce=Array(ye),ze=0;ze<ye;ze++)Ce[ze]=arguments[ze+2];me.children=Ce}if(H&&H.defaultProps)for(W in ye=H.defaultProps,ye)me[W]===void 0&&(me[W]=ye[W]);return M(H,ke,void 0,void 0,null,me)},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(H){return{$$typeof:u,render:H}},Nt.isValidElement=q,Nt.lazy=function(H){return{$$typeof:p,_payload:{_status:-1,_result:H},_init:Y}},Nt.memo=function(H,ae){return{$$typeof:h,type:H,compare:ae===void 0?null:ae}},Nt.startTransition=function(H){var ae=k.T,we={};k.T=we;try{var W=H(),me=k.S;me!==null&&me(we,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(ve,Q)}catch(ke){Q(ke)}finally{k.T=ae}},Nt.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Nt.use=function(H){return k.H.use(H)},Nt.useActionState=function(H,ae,we){return k.H.useActionState(H,ae,we)},Nt.useCallback=function(H,ae){return k.H.useCallback(H,ae)},Nt.useContext=function(H){return k.H.useContext(H)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(H,ae){return k.H.useDeferredValue(H,ae)},Nt.useEffect=function(H,ae,we){var W=k.H;if(typeof we=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(H,ae)},Nt.useId=function(){return k.H.useId()},Nt.useImperativeHandle=function(H,ae,we){return k.H.useImperativeHandle(H,ae,we)},Nt.useInsertionEffect=function(H,ae){return k.H.useInsertionEffect(H,ae)},Nt.useLayoutEffect=function(H,ae){return k.H.useLayoutEffect(H,ae)},Nt.useMemo=function(H,ae){return k.H.useMemo(H,ae)},Nt.useOptimistic=function(H,ae){return k.H.useOptimistic(H,ae)},Nt.useReducer=function(H,ae,we){return k.H.useReducer(H,ae,we)},Nt.useRef=function(H){return k.H.useRef(H)},Nt.useState=function(H){return k.H.useState(H)},Nt.useSyncExternalStore=function(H,ae,we){return k.H.useSyncExternalStore(H,ae,we)},Nt.useTransition=function(){return k.H.useTransition()},Nt.version="19.1.1",Nt}var Iw;function Q0(){return Iw||(Iw=1,eg.exports=lC()),eg.exports}var N=Q0();const Se=K0(N),rS=aC({__proto__:null,default:Se},[N]);var tg={exports:{}},su={},ng={exports:{}},sg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ww;function cC(){return Ww||(Ww=1,function(e){function t(B,Y){var Q=B.length;B.push(Y);e:for(;0<Q;){var ve=Q-1>>>1,H=B[ve];if(0<a(H,Y))B[ve]=Y,B[Q]=H,Q=ve;else break e}}function n(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var Y=B[0],Q=B.pop();if(Q!==Y){B[0]=Q;e:for(var ve=0,H=B.length,ae=H>>>1;ve<ae;){var we=2*(ve+1)-1,W=B[we],me=we+1,ke=B[me];if(0>a(W,Q))me<H&&0>a(ke,W)?(B[ve]=ke,B[me]=Q,ve=me):(B[ve]=W,B[we]=Q,ve=we);else if(me<H&&0>a(ke,Q))B[ve]=ke,B[me]=Q,ve=me;else break e}}return Y}function a(B,Y){var Q=B.sortIndex-Y.sortIndex;return Q!==0?Q:B.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var f=[],h=[],p=1,x=null,y=3,b=!1,w=!1,_=!1,j=!1,S=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate!="undefined"?setImmediate:null;function D(B){for(var Y=n(h);Y!==null;){if(Y.callback===null)s(h);else if(Y.startTime<=B)s(h),Y.sortIndex=Y.expirationTime,t(f,Y);else break;Y=n(h)}}function k(B){if(_=!1,D(B),!w)if(n(f)!==null)w=!0,R||(R=!0,ee());else{var Y=n(h);Y!==null&&K(k,Y.startTime-B)}}var R=!1,M=-1,F=5,q=-1;function re(){return j?!0:!(e.unstable_now()-q<F)}function G(){if(j=!1,R){var B=e.unstable_now();q=B;var Y=!0;try{e:{w=!1,_&&(_=!1,C(M),M=-1),b=!0;var Q=y;try{t:{for(D(B),x=n(f);x!==null&&!(x.expirationTime>B&&re());){var ve=x.callback;if(typeof ve=="function"){x.callback=null,y=x.priorityLevel;var H=ve(x.expirationTime<=B);if(B=e.unstable_now(),typeof H=="function"){x.callback=H,D(B),Y=!0;break t}x===n(f)&&s(f),D(B)}else s(f);x=n(f)}if(x!==null)Y=!0;else{var ae=n(h);ae!==null&&K(k,ae.startTime-B),Y=!1}}break e}finally{x=null,y=Q,b=!1}Y=void 0}}finally{Y?ee():R=!1}}}var ee;if(typeof O=="function")ee=function(){O(G)};else if(typeof MessageChannel!="undefined"){var de=new MessageChannel,J=de.port2;de.port1.onmessage=G,ee=function(){J.postMessage(null)}}else ee=function(){S(G,0)};function K(B,Y){M=S(function(){B(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(B){switch(y){case 1:case 2:case 3:var Y=3;break;default:Y=y}var Q=y;y=Y;try{return B()}finally{y=Q}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(B,Y){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Q=y;y=B;try{return Y()}finally{y=Q}},e.unstable_scheduleCallback=function(B,Y,Q){var ve=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ve+Q:ve):Q=ve,B){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=Q+H,B={id:p++,callback:Y,priorityLevel:B,startTime:Q,expirationTime:H,sortIndex:-1},Q>ve?(B.sortIndex=Q,t(h,B),n(f)===null&&B===n(h)&&(_?(C(M),M=-1):_=!0,K(k,Q-ve))):(B.sortIndex=H,t(f,B),w||b||(w=!0,R||(R=!0,ee()))),B},e.unstable_shouldYield=re,e.unstable_wrapCallback=function(B){var Y=y;return function(){var Q=y;y=Y;try{return B.apply(this,arguments)}finally{y=Q}}}}(sg)),sg}var Xw;function uC(){return Xw||(Xw=1,ng.exports=cC()),ng.exports}var rg={exports:{}},xs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gw;function dC(){if(Gw)return xs;Gw=1;var e=Q0();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,h,p){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:f,containerInfo:h,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return xs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,xs.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return o(f,h,null,p)},xs.flushSync=function(f){var h=l.T,p=s.p;try{if(l.T=null,s.p=2,f)return f()}finally{l.T=h,s.p=p,s.d.f()}},xs.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(f,h))},xs.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},xs.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,x=u(p,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?s.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:x,integrity:y,fetchPriority:b}):p==="script"&&s.d.X(f,{crossOrigin:x,integrity:y,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},xs.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);s.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(f)},xs.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,x=u(p,h.crossOrigin);s.d.L(f,p,{crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},xs.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=u(h.as,h.crossOrigin);s.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(f)},xs.requestFormReset=function(f){s.d.r(f)},xs.unstable_batchedUpdates=function(f,h){return f(h)},xs.useFormState=function(f,h,p){return l.H.useFormState(f,h,p)},xs.useFormStatus=function(){return l.H.useHostTransitionStatus()},xs.version="19.1.1",xs}var Kw;function aS(){if(Kw)return rg.exports;Kw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),rg.exports=dC(),rg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qw;function fC(){if(Qw)return su;Qw=1;var e=uC(),t=Q0(),n=aS();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var i=r,c=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(c=i.return),r=i.return;while(r)}return i.tag===3?c:null}function l(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function u(r){if(o(r)!==r)throw Error(s(188))}function f(r){var i=r.alternate;if(!i){if(i=o(r),i===null)throw Error(s(188));return i!==r?null:r}for(var c=r,m=i;;){var g=c.return;if(g===null)break;var v=g.alternate;if(v===null){if(m=g.return,m!==null){c=m;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===c)return u(g),r;if(v===m)return u(g),i;v=v.sibling}throw Error(s(188))}if(c.return!==m.return)c=g,m=v;else{for(var T=!1,P=g.child;P;){if(P===c){T=!0,c=g,m=v;break}if(P===m){T=!0,m=g,c=v;break}P=P.sibling}if(!T){for(P=v.child;P;){if(P===c){T=!0,c=v,m=g;break}if(P===m){T=!0,m=v,c=g;break}P=P.sibling}if(!T)throw Error(s(189))}}if(c.alternate!==m)throw Error(s(190))}if(c.tag!==3)throw Error(s(188));return c.stateNode.current===c?r:i}function h(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=h(r),i!==null)return i;r=r.sibling}return null}var p=Object.assign,x=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),O=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function ee(r){return r===null||typeof r!="object"?null:(r=G&&r[G]||r["@@iterator"],typeof r=="function"?r:null)}var de=Symbol.for("react.client.reference");function J(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===de?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case w:return"Fragment";case j:return"Profiler";case _:return"StrictMode";case k:return"Suspense";case R:return"SuspenseList";case q:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case b:return"Portal";case O:return(r.displayName||"Context")+".Provider";case C:return(r._context.displayName||"Context")+".Consumer";case D:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case M:return i=r.displayName||null,i!==null?i:J(r.type)||"Memo";case F:i=r._payload,r=r._init;try{return J(r(i))}catch(c){}}return null}var K=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},ve=[],H=-1;function ae(r){return{current:r}}function we(r){0>H||(r.current=ve[H],ve[H]=null,H--)}function W(r,i){H++,ve[H]=r.current,r.current=i}var me=ae(null),ke=ae(null),ye=ae(null),Ce=ae(null);function ze(r,i){switch(W(ye,i),W(ke,r),W(me,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?mw(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=mw(i),r=pw(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}we(me),W(me,r)}function tt(){we(me),we(ke),we(ye)}function Ve(r){r.memoizedState!==null&&W(Ce,r);var i=me.current,c=pw(i,r.type);i!==c&&(W(ke,r),W(me,c))}function Et(r){ke.current===r&&(we(me),we(ke)),Ce.current===r&&(we(Ce),Qc._currentValue=Q)}var ct=Object.prototype.hasOwnProperty,yt=e.unstable_scheduleCallback,Me=e.unstable_cancelCallback,mt=e.unstable_shouldYield,Yt=e.unstable_requestPaint,kt=e.unstable_now,It=e.unstable_getCurrentPriorityLevel,Xt=e.unstable_ImmediatePriority,$=e.unstable_UserBlockingPriority,oe=e.unstable_NormalPriority,V=e.unstable_LowPriority,je=e.unstable_IdlePriority,Re=e.log,Oe=e.unstable_setDisableYieldValue,Ue=null,$e=null;function Ke(r){if(typeof Re=="function"&&Oe(r),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(Ue,r)}catch(i){}}var bt=Math.clz32?Math.clz32:Be,es=Math.log,Te=Math.LN2;function Be(r){return r>>>=0,r===0?32:31-(es(r)/Te|0)|0}var _t=256,On=4194304;function os(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function ws(r,i,c){var m=r.pendingLanes;if(m===0)return 0;var g=0,v=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var P=m&134217727;return P!==0?(m=P&~v,m!==0?g=os(m):(T&=P,T!==0?g=os(T):c||(c=P&~r,c!==0&&(g=os(c))))):(P=m&~v,P!==0?g=os(P):T!==0?g=os(T):c||(c=m&~r,c!==0&&(g=os(c)))),g===0?0:i!==0&&i!==g&&(i&v)===0&&(v=g&-g,c=i&-i,v>=c||v===32&&(c&4194048)!==0)?i:g}function qn(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function vr(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nt(){var r=_t;return _t<<=1,(_t&4194048)===0&&(_t=256),r}function Dt(){var r=On;return On<<=1,(On&62914560)===0&&(On=4194304),r}function zt(r){for(var i=[],c=0;31>c;c++)i.push(r);return i}function jt(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Jt(r,i,c,m,g,v){var T=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var P=r.entanglements,I=r.expirationTimes,ce=r.hiddenUpdates;for(c=T&~c;0<c;){var _e=31-bt(c),Ee=1<<_e;P[_e]=0,I[_e]=-1;var he=ce[_e];if(he!==null)for(ce[_e]=null,_e=0;_e<he.length;_e++){var pe=he[_e];pe!==null&&(pe.lane&=-536870913)}c&=~Ee}m!==0&&pn(r,m,0),v!==0&&g===0&&r.tag!==0&&(r.suspendedLanes|=v&~(T&~i))}function pn(r,i,c){r.pendingLanes|=i,r.suspendedLanes&=~i;var m=31-bt(i);r.entangledLanes|=i,r.entanglements[m]=r.entanglements[m]|1073741824|c&4194090}function an(r,i){var c=r.entangledLanes|=i;for(r=r.entanglements;c;){var m=31-bt(c),g=1<<m;g&i|r[m]&i&&(r[m]|=i),c&=~g}}function ts(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Yn(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function X(){var r=Y.p;return r!==0?r:(r=window.event,r===void 0?32:Mw(r.type))}function ne(r,i){var c=Y.p;try{return Y.p=r,i()}finally{Y.p=c}}var ue=Math.random().toString(36).slice(2),be="__reactFiber$"+ue,Ae="__reactProps$"+ue,Ye="__reactContainer$"+ue,Ze="__reactEvents$"+ue,at="__reactListeners$"+ue,lt="__reactHandles$"+ue,St="__reactResources$"+ue,Je="__reactMarker$"+ue;function pt(r){delete r[be],delete r[Ae],delete r[Ze],delete r[at],delete r[lt]}function wt(r){var i=r[be];if(i)return i;for(var c=r.parentNode;c;){if(i=c[Ye]||c[be]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(r=bw(r);r!==null;){if(c=r[be])return c;r=bw(r)}return i}r=c,c=r.parentNode}return null}function on(r){if(r=r[be]||r[Ye]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function Sn(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function en(r){var i=r[St];return i||(i=r[St]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function et(r){r[Je]=!0}var gt=new Set,Ft={};function gn(r,i){Nn(r,i),Nn(r+"Capture",i)}function Nn(r,i){for(Ft[r]=i,r=0;r<i.length;r++)gt.add(i[r])}var In=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ns={},tr={};function nr(r){return ct.call(tr,r)?!0:ct.call(ns,r)?!1:In.test(r)?tr[r]=!0:(ns[r]=!0,!1)}function ms(r,i,c){if(nr(i))if(c===null)r.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var m=i.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+c)}}function sr(r,i,c){if(c===null)r.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+c)}}function Tt(r,i,c,m){if(m===null)r.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(i,c,""+m)}}var En,la;function ls(r){if(En===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);En=i&&i[1]||"",la=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+En+r+la}var dn=!1;function wr(r,i){if(!r||dn)return"";dn=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(i){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(pe){var he=pe}Reflect.construct(r,[],Ee)}else{try{Ee.call()}catch(pe){he=pe}r.call(Ee.prototype)}}else{try{throw Error()}catch(pe){he=pe}(Ee=r())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(pe){if(pe&&he&&typeof pe.stack=="string")return[pe.stack,he.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=m.DetermineComponentFrameRoot(),T=v[0],P=v[1];if(T&&P){var I=T.split(`
`),ce=P.split(`
`);for(g=m=0;m<I.length&&!I[m].includes("DetermineComponentFrameRoot");)m++;for(;g<ce.length&&!ce[g].includes("DetermineComponentFrameRoot");)g++;if(m===I.length||g===ce.length)for(m=I.length-1,g=ce.length-1;1<=m&&0<=g&&I[m]!==ce[g];)g--;for(;1<=m&&0<=g;m--,g--)if(I[m]!==ce[g]){if(m!==1||g!==1)do if(m--,g--,0>g||I[m]!==ce[g]){var _e=`
`+I[m].replace(" at new "," at ");return r.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",r.displayName)),_e}while(1<=m&&0<=g);break}}}finally{dn=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?ls(c):""}function Po(r){switch(r.tag){case 26:case 27:case 5:return ls(r.type);case 16:return ls("Lazy");case 13:return ls("Suspense");case 19:return ls("SuspenseList");case 0:case 15:return wr(r.type,!1);case 11:return wr(r.type.render,!1);case 1:return wr(r.type,!0);case 31:return ls("Activity");default:return""}}function Lo(r){try{var i="";do i+=Po(r),r=r.return;while(r);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Cs(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function rd(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ad(r){var i=rd(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),m=""+r[i];if(!r.hasOwnProperty(i)&&typeof c!="undefined"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,v=c.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return g.call(this)},set:function(T){m=""+T,v.call(this,T)}}),Object.defineProperty(r,i,{enumerable:c.enumerable}),{getValue:function(){return m},setValue:function(T){m=""+T},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Mi(r){r._valueTracker||(r._valueTracker=ad(r))}function Br(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var c=i.getValue(),m="";return r&&(m=rd(r)?r.checked?"true":"false":r.value),r=m,r!==c?(i.setValue(r),!0):!1}function Pi(r){if(r=r||(typeof document!="undefined"?document:void 0),typeof r=="undefined")return null;try{return r.activeElement||r.body}catch(i){return r.body}}var sm=/[\n"\\]/g;function Os(r){return r.replace(sm,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function oc(r,i,c,m,g,v,T,P){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),i!=null?T==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+Cs(i)):r.value!==""+Cs(i)&&(r.value=""+Cs(i)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),i!=null?lc(r,T,Cs(i)):c!=null?lc(r,T,Cs(c)):m!=null&&r.removeAttribute("value"),g==null&&v!=null&&(r.defaultChecked=!!v),g!=null&&(r.checked=g&&typeof g!="function"&&typeof g!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?r.name=""+Cs(P):r.removeAttribute("name")}function id(r,i,c,m,g,v,T,P){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),i!=null||c!=null){if(!(v!=="submit"&&v!=="reset"||i!=null))return;c=c!=null?""+Cs(c):"",i=i!=null?""+Cs(i):c,P||i===r.value||(r.value=i),r.defaultValue=i}m=m!=null?m:g,m=typeof m!="function"&&typeof m!="symbol"&&!!m,r.checked=P?r.checked:!!m,r.defaultChecked=!!m,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function lc(r,i,c){i==="number"&&Pi(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function ca(r,i,c,m){if(r=r.options,i){i={};for(var g=0;g<c.length;g++)i["$"+c[g]]=!0;for(c=0;c<r.length;c++)g=i.hasOwnProperty("$"+r[c].value),r[c].selected!==g&&(r[c].selected=g),g&&m&&(r[c].defaultSelected=!0)}else{for(c=""+Cs(c),i=null,g=0;g<r.length;g++){if(r[g].value===c){r[g].selected=!0,m&&(r[g].defaultSelected=!0);return}i!==null||r[g].disabled||(i=r[g])}i!==null&&(i.selected=!0)}}function Li(r,i,c){if(i!=null&&(i=""+Cs(i),i!==r.value&&(r.value=i),c==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=c!=null?""+Cs(c):""}function cc(r,i,c,m){if(i==null){if(m!=null){if(c!=null)throw Error(s(92));if(K(m)){if(1<m.length)throw Error(s(93));m=m[0]}c=m}c==null&&(c=""),i=c}c=Cs(i),r.defaultValue=c,m=r.textContent,m===c&&m!==""&&m!==null&&(r.value=m)}function Ua(r,i){if(i){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=i;return}}r.textContent=i}var od=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ld(r,i,c){var m=i.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":m?r.setProperty(i,c):typeof c!="number"||c===0||od.has(i)?i==="float"?r.cssFloat=c:r[i]=(""+c).trim():r[i]=c+"px"}function uc(r,i,c){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||i!=null&&i.hasOwnProperty(m)||(m.indexOf("--")===0?r.setProperty(m,""):m==="float"?r.cssFloat="":r[m]="");for(var g in i)m=i[g],i.hasOwnProperty(g)&&c[g]!==m&&ld(r,g,m)}else for(var v in i)i.hasOwnProperty(v)&&ld(r,v,i[v])}function zi(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Uo(r){return rm.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var dc=null;function Ui(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ua=null,Ba=null;function fc(r){var i=on(r);if(i&&(r=i.stateNode)){var c=r[Ae]||null;e:switch(r=i.stateNode,i.type){case"input":if(oc(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),i=c.name,c.type==="radio"&&i!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Os(""+i)+'"][type="radio"]'),i=0;i<c.length;i++){var m=c[i];if(m!==r&&m.form===r.form){var g=m[Ae]||null;if(!g)throw Error(s(90));oc(m,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<c.length;i++)m=c[i],m.form===r.form&&Br(m)}break e;case"textarea":Li(r,c.value,c.defaultValue);break e;case"select":i=c.value,i!=null&&ca(r,!!c.multiple,i,!1)}}}var Bi=!1;function hc(r,i,c){if(Bi)return r(i,c);Bi=!0;try{var m=r(i);return m}finally{if(Bi=!1,(ua!==null||Ba!==null)&&(qd(),ua&&(i=ua,r=Ba,Ba=ua=null,fc(i),r)))for(i=0;i<r.length;i++)fc(r[i])}}function Fa(r,i){var c=r.stateNode;if(c===null)return null;var m=c[Ae]||null;if(m===null)return null;c=m[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(r=r.type,m=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!m;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(s(231,i,typeof c));return c}var As=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Bo=!1;if(As)try{var Fi={};Object.defineProperty(Fi,"passive",{get:function(){Bo=!0}}),window.addEventListener("test",Fi,Fi),window.removeEventListener("test",Fi,Fi)}catch(r){Bo=!1}var Vs=null,Rs=null,da=null;function Hi(){if(da)return da;var r,i=Rs,c=i.length,m,g="value"in Vs?Vs.value:Vs.textContent,v=g.length;for(r=0;r<c&&i[r]===g[r];r++);var T=c-r;for(m=1;m<=T&&i[c-m]===g[v-m];m++);return da=g.slice(r,1<m?1-m:void 0)}function Ha(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Fo(){return!0}function cd(){return!1}function ps(r){function i(c,m,g,v,T){this._reactName=c,this._targetInst=g,this.type=m,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var P in r)r.hasOwnProperty(P)&&(c=r[P],this[P]=c?c(v):v[P]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Fo:cd,this.isPropagationStopped=cd,this}return p(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Fo)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Fo)},persist:function(){},isPersistent:Fo}),i}var _r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ho=ps(_r),Va=p({},_r,{view:0,detail:0}),Tn=ps(Va),E,A,L,U=p({},Va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==L&&(L&&r.type==="mousemove"?(E=r.screenX-L.screenX,A=r.screenY-L.screenY):A=E=0,L=r),E)},movementY:function(r){return"movementY"in r?r.movementY:A}}),te=ps(U),ie=p({},U,{dataTransfer:0}),fe=ps(ie),Pe=p({},Va,{relatedTarget:0}),rt=ps(Pe),Le=p({},_r,{animationName:0,elapsedTime:0,pseudoElement:0}),qe=ps(Le),dt=p({},_r,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),tn=ps(dt),xt=p({},_r,{data:0}),it=ps(xt),Qe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ss={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ln={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bn(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Ln[r])?!!i[r]:!1}function rr(){return bn}var Vi=p({},Va,{key:function(r){if(r.key){var i=Qe[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Ha(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ss[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rr,charCode:function(r){return r.type==="keypress"?Ha(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ha(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Fr=ps(Vi),$a=p({},U,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vo=ps($a),$o=p({},Va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rr}),ud=ps($o),yT=p({},_r,{propertyName:0,elapsedTime:0,pseudoElement:0}),bT=ps(yT),vT=p({},U,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),wT=ps(vT),_T=p({},_r,{newState:0,oldState:0}),jT=ps(_T),ST=[9,13,27,32],am=As&&"CompositionEvent"in window,mc=null;As&&"documentMode"in document&&(mc=document.documentMode);var NT=As&&"TextEvent"in window&&!mc,jy=As&&(!am||mc&&8<mc&&11>=mc),Sy=" ",Ny=!1;function Ey(r,i){switch(r){case"keyup":return ST.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ty(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var qo=!1;function ET(r,i){switch(r){case"compositionend":return Ty(i);case"keypress":return i.which!==32?null:(Ny=!0,Sy);case"textInput":return r=i.data,r===Sy&&Ny?null:r;default:return null}}function TT(r,i){if(qo)return r==="compositionend"||!am&&Ey(r,i)?(r=Hi(),da=Rs=Vs=null,qo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return jy&&i.locale!=="ko"?null:i.data;default:return null}}var kT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ky(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!kT[r.type]:i==="textarea"}function Cy(r,i,c,m){ua?Ba?Ba.push(m):Ba=[m]:ua=m,i=Kd(i,"onChange"),0<i.length&&(c=new Ho("onChange","change",null,c,m),r.push({event:c,listeners:i}))}var pc=null,gc=null;function CT(r){cw(r,0)}function dd(r){var i=Sn(r);if(Br(i))return r}function Oy(r,i){if(r==="change")return i}var Ay=!1;if(As){var im;if(As){var om="oninput"in document;if(!om){var Ry=document.createElement("div");Ry.setAttribute("oninput","return;"),om=typeof Ry.oninput=="function"}im=om}else im=!1;Ay=im&&(!document.documentMode||9<document.documentMode)}function Dy(){pc&&(pc.detachEvent("onpropertychange",My),gc=pc=null)}function My(r){if(r.propertyName==="value"&&dd(gc)){var i=[];Cy(i,gc,r,Ui(r)),hc(CT,i)}}function OT(r,i,c){r==="focusin"?(Dy(),pc=i,gc=c,pc.attachEvent("onpropertychange",My)):r==="focusout"&&Dy()}function AT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return dd(gc)}function RT(r,i){if(r==="click")return dd(i)}function DT(r,i){if(r==="input"||r==="change")return dd(i)}function MT(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var $s=typeof Object.is=="function"?Object.is:MT;function xc(r,i){if($s(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var c=Object.keys(r),m=Object.keys(i);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var g=c[m];if(!ct.call(i,g)||!$s(r[g],i[g]))return!1}return!0}function Py(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ly(r,i){var c=Py(r);r=0;for(var m;c;){if(c.nodeType===3){if(m=r+c.textContent.length,r<=i&&m>=i)return{node:c,offset:i-r};r=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Py(c)}}function zy(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?zy(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Uy(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=Pi(r.document);i instanceof r.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch(m){c=!1}if(c)r=i.contentWindow;else break;i=Pi(r.document)}return i}function lm(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var PT=As&&"documentMode"in document&&11>=document.documentMode,Yo=null,cm=null,yc=null,um=!1;function By(r,i,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;um||Yo==null||Yo!==Pi(m)||(m=Yo,"selectionStart"in m&&lm(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),yc&&xc(yc,m)||(yc=m,m=Kd(cm,"onSelect"),0<m.length&&(i=new Ho("onSelect","select",null,i,c),r.push({event:i,listeners:m}),i.target=Yo)))}function $i(r,i){var c={};return c[r.toLowerCase()]=i.toLowerCase(),c["Webkit"+r]="webkit"+i,c["Moz"+r]="moz"+i,c}var Io={animationend:$i("Animation","AnimationEnd"),animationiteration:$i("Animation","AnimationIteration"),animationstart:$i("Animation","AnimationStart"),transitionrun:$i("Transition","TransitionRun"),transitionstart:$i("Transition","TransitionStart"),transitioncancel:$i("Transition","TransitionCancel"),transitionend:$i("Transition","TransitionEnd")},dm={},Fy={};As&&(Fy=document.createElement("div").style,"AnimationEvent"in window||(delete Io.animationend.animation,delete Io.animationiteration.animation,delete Io.animationstart.animation),"TransitionEvent"in window||delete Io.transitionend.transition);function qi(r){if(dm[r])return dm[r];if(!Io[r])return r;var i=Io[r],c;for(c in i)if(i.hasOwnProperty(c)&&c in Fy)return dm[r]=i[c];return r}var Hy=qi("animationend"),Vy=qi("animationiteration"),$y=qi("animationstart"),LT=qi("transitionrun"),zT=qi("transitionstart"),UT=qi("transitioncancel"),qy=qi("transitionend"),Yy=new Map,fm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fm.push("scrollEnd");function jr(r,i){Yy.set(r,i),gn(i,[r])}var Iy=new WeakMap;function ar(r,i){if(typeof r=="object"&&r!==null){var c=Iy.get(r);return c!==void 0?c:(i={value:r,source:i,stack:Lo(i)},Iy.set(r,i),i)}return{value:r,source:i,stack:Lo(i)}}var ir=[],Wo=0,hm=0;function fd(){for(var r=Wo,i=hm=Wo=0;i<r;){var c=ir[i];ir[i++]=null;var m=ir[i];ir[i++]=null;var g=ir[i];ir[i++]=null;var v=ir[i];if(ir[i++]=null,m!==null&&g!==null){var T=m.pending;T===null?g.next=g:(g.next=T.next,T.next=g),m.pending=g}v!==0&&Wy(c,g,v)}}function hd(r,i,c,m){ir[Wo++]=r,ir[Wo++]=i,ir[Wo++]=c,ir[Wo++]=m,hm|=m,r.lanes|=m,r=r.alternate,r!==null&&(r.lanes|=m)}function mm(r,i,c,m){return hd(r,i,c,m),md(r)}function Xo(r,i){return hd(r,null,null,i),md(r)}function Wy(r,i,c){r.lanes|=c;var m=r.alternate;m!==null&&(m.lanes|=c);for(var g=!1,v=r.return;v!==null;)v.childLanes|=c,m=v.alternate,m!==null&&(m.childLanes|=c),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(g=!0)),r=v,v=v.return;return r.tag===3?(v=r.stateNode,g&&i!==null&&(g=31-bt(c),r=v.hiddenUpdates,m=r[g],m===null?r[g]=[i]:m.push(i),i.lane=c|536870912),v):null}function md(r){if(50<$c)throw $c=0,vp=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var Go={};function BT(r,i,c,m){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qs(r,i,c,m){return new BT(r,i,c,m)}function pm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function fa(r,i){var c=r.alternate;return c===null?(c=qs(r.tag,i,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=i,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,i=r.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function Xy(r,i){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,i=c.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function pd(r,i,c,m,g,v){var T=0;if(m=r,typeof r=="function")pm(r)&&(T=1);else if(typeof r=="string")T=Hk(r,c,me.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case q:return r=qs(31,c,i,g),r.elementType=q,r.lanes=v,r;case w:return Yi(c.children,g,v,i);case _:T=8,g|=24;break;case j:return r=qs(12,c,i,g|2),r.elementType=j,r.lanes=v,r;case k:return r=qs(13,c,i,g),r.elementType=k,r.lanes=v,r;case R:return r=qs(19,c,i,g),r.elementType=R,r.lanes=v,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case S:case O:T=10;break e;case C:T=9;break e;case D:T=11;break e;case M:T=14;break e;case F:T=16,m=null;break e}T=29,c=Error(s(130,r===null?"null":typeof r,"")),m=null}return i=qs(T,c,i,g),i.elementType=r,i.type=m,i.lanes=v,i}function Yi(r,i,c,m){return r=qs(7,r,m,i),r.lanes=c,r}function gm(r,i,c){return r=qs(6,r,null,i),r.lanes=c,r}function xm(r,i,c){return i=qs(4,r.children!==null?r.children:[],r.key,i),i.lanes=c,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var Ko=[],Qo=0,gd=null,xd=0,or=[],lr=0,Ii=null,ha=1,ma="";function Wi(r,i){Ko[Qo++]=xd,Ko[Qo++]=gd,gd=r,xd=i}function Gy(r,i,c){or[lr++]=ha,or[lr++]=ma,or[lr++]=Ii,Ii=r;var m=ha;r=ma;var g=32-bt(m)-1;m&=~(1<<g),c+=1;var v=32-bt(i)+g;if(30<v){var T=g-g%5;v=(m&(1<<T)-1).toString(32),m>>=T,g-=T,ha=1<<32-bt(i)+g|c<<g|m,ma=v+r}else ha=1<<v|c<<g|m,ma=r}function ym(r){r.return!==null&&(Wi(r,1),Gy(r,1,0))}function bm(r){for(;r===gd;)gd=Ko[--Qo],Ko[Qo]=null,xd=Ko[--Qo],Ko[Qo]=null;for(;r===Ii;)Ii=or[--lr],or[lr]=null,ma=or[--lr],or[lr]=null,ha=or[--lr],or[lr]=null}var _s=null,kn=null,Gt=!1,Xi=null,Hr=!1,vm=Error(s(519));function Gi(r){var i=Error(s(418,""));throw wc(ar(i,r)),vm}function Ky(r){var i=r.stateNode,c=r.type,m=r.memoizedProps;switch(i[be]=r,i[Ae]=m,c){case"dialog":Pt("cancel",i),Pt("close",i);break;case"iframe":case"object":case"embed":Pt("load",i);break;case"video":case"audio":for(c=0;c<Yc.length;c++)Pt(Yc[c],i);break;case"source":Pt("error",i);break;case"img":case"image":case"link":Pt("error",i),Pt("load",i);break;case"details":Pt("toggle",i);break;case"input":Pt("invalid",i),id(i,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),Mi(i);break;case"select":Pt("invalid",i);break;case"textarea":Pt("invalid",i),cc(i,m.value,m.defaultValue,m.children),Mi(i)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||i.textContent===""+c||m.suppressHydrationWarning===!0||hw(i.textContent,c)?(m.popover!=null&&(Pt("beforetoggle",i),Pt("toggle",i)),m.onScroll!=null&&Pt("scroll",i),m.onScrollEnd!=null&&Pt("scrollend",i),m.onClick!=null&&(i.onclick=Qd),i=!0):i=!1,i||Gi(r)}function Qy(r){for(_s=r.return;_s;)switch(_s.tag){case 5:case 13:Hr=!1;return;case 27:case 3:Hr=!0;return;default:_s=_s.return}}function bc(r){if(r!==_s)return!1;if(!Gt)return Qy(r),Gt=!0,!1;var i=r.tag,c;if((c=i!==3&&i!==27)&&((c=i===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||Lp(r.type,r.memoizedProps)),c=!c),c&&kn&&Gi(r),Qy(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(c=r.data,c==="/$"){if(i===0){kn=Nr(r.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++;r=r.nextSibling}kn=null}}else i===27?(i=kn,ai(r.type)?(r=Fp,Fp=null,kn=r):kn=i):kn=_s?Nr(r.stateNode.nextSibling):null;return!0}function vc(){kn=_s=null,Gt=!1}function Zy(){var r=Xi;return r!==null&&(Ps===null?Ps=r:Ps.push.apply(Ps,r),Xi=null),r}function wc(r){Xi===null?Xi=[r]:Xi.push(r)}var wm=ae(null),Ki=null,pa=null;function qa(r,i,c){W(wm,i._currentValue),i._currentValue=c}function ga(r){r._currentValue=wm.current,we(wm)}function _m(r,i,c){for(;r!==null;){var m=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,m!==null&&(m.childLanes|=i)):m!==null&&(m.childLanes&i)!==i&&(m.childLanes|=i),r===c)break;r=r.return}}function jm(r,i,c,m){var g=r.child;for(g!==null&&(g.return=r);g!==null;){var v=g.dependencies;if(v!==null){var T=g.child;v=v.firstContext;e:for(;v!==null;){var P=v;v=g;for(var I=0;I<i.length;I++)if(P.context===i[I]){v.lanes|=c,P=v.alternate,P!==null&&(P.lanes|=c),_m(v.return,c,r),m||(T=null);break e}v=P.next}}else if(g.tag===18){if(T=g.return,T===null)throw Error(s(341));T.lanes|=c,v=T.alternate,v!==null&&(v.lanes|=c),_m(T,c,r),T=null}else T=g.child;if(T!==null)T.return=g;else for(T=g;T!==null;){if(T===r){T=null;break}if(g=T.sibling,g!==null){g.return=T.return,T=g;break}T=T.return}g=T}}function _c(r,i,c,m){r=null;for(var g=i,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var T=g.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var P=g.type;$s(g.pendingProps.value,T.value)||(r!==null?r.push(P):r=[P])}}else if(g===Ce.current){if(T=g.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(r!==null?r.push(Qc):r=[Qc])}g=g.return}r!==null&&jm(i,r,c,m),i.flags|=262144}function yd(r){for(r=r.firstContext;r!==null;){if(!$s(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Qi(r){Ki=r,pa=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function gs(r){return Jy(Ki,r)}function bd(r,i){return Ki===null&&Qi(r),Jy(r,i)}function Jy(r,i){var c=i._currentValue;if(i={context:i,memoizedValue:c,next:null},pa===null){if(r===null)throw Error(s(308));pa=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else pa=pa.next=i;return c}var FT=typeof AbortController!="undefined"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(c,m){r.push(m)}};this.abort=function(){i.aborted=!0,r.forEach(function(c){return c()})}},HT=e.unstable_scheduleCallback,VT=e.unstable_NormalPriority,Wn={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sm(){return{controller:new FT,data:new Map,refCount:0}}function jc(r){r.refCount--,r.refCount===0&&HT(VT,function(){r.controller.abort()})}var Sc=null,Nm=0,Zo=0,Jo=null;function $T(r,i){if(Sc===null){var c=Sc=[];Nm=0,Zo=Tp(),Jo={status:"pending",value:void 0,then:function(m){c.push(m)}}}return Nm++,i.then(eb,eb),i}function eb(){if(--Nm===0&&Sc!==null){Jo!==null&&(Jo.status="fulfilled");var r=Sc;Sc=null,Zo=0,Jo=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function qT(r,i){var c=[],m={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return r.then(function(){m.status="fulfilled",m.value=i;for(var g=0;g<c.length;g++)(0,c[g])(i)},function(g){for(m.status="rejected",m.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),m}var tb=B.S;B.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&$T(r,i),tb!==null&&tb(r,i)};var Zi=ae(null);function Em(){var r=Zi.current;return r!==null?r:fn.pooledCache}function vd(r,i){i===null?W(Zi,Zi.current):W(Zi,i.pool)}function nb(){var r=Em();return r===null?null:{parent:Wn._currentValue,pool:r}}var Nc=Error(s(460)),sb=Error(s(474)),wd=Error(s(542)),Tm={then:function(){}};function rb(r){return r=r.status,r==="fulfilled"||r==="rejected"}function _d(){}function ab(r,i,c){switch(c=r[c],c===void 0?r.push(i):c!==i&&(i.then(_d,_d),i=c),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,ob(r),r;default:if(typeof i.status=="string")i.then(_d,_d);else{if(r=fn,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(m){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=m}},function(m){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=m}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,ob(r),r}throw Ec=i,Nc}}var Ec=null;function ib(){if(Ec===null)throw Error(s(459));var r=Ec;return Ec=null,r}function ob(r){if(r===Nc||r===wd)throw Error(s(483))}var Ya=!1;function km(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cm(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ia(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Wa(r,i,c){var m=r.updateQueue;if(m===null)return null;if(m=m.shared,(Kt&2)!==0){var g=m.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),m.pending=i,i=md(r),Wy(r,null,c),i}return hd(r,m,i,c),md(r)}function Tc(r,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194048)!==0)){var m=i.lanes;m&=r.pendingLanes,c|=m,i.lanes=c,an(r,c)}}function Om(r,i){var c=r.updateQueue,m=r.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var g=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var T={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};v===null?g=v=T:v=v.next=T,c=c.next}while(c!==null);v===null?g=v=i:v=v.next=i}else g=v=i;c={baseState:m.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:m.shared,callbacks:m.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=i:r.next=i,c.lastBaseUpdate=i}var Am=!1;function kc(){if(Am){var r=Jo;if(r!==null)throw r}}function Cc(r,i,c,m){Am=!1;var g=r.updateQueue;Ya=!1;var v=g.firstBaseUpdate,T=g.lastBaseUpdate,P=g.shared.pending;if(P!==null){g.shared.pending=null;var I=P,ce=I.next;I.next=null,T===null?v=ce:T.next=ce,T=I;var _e=r.alternate;_e!==null&&(_e=_e.updateQueue,P=_e.lastBaseUpdate,P!==T&&(P===null?_e.firstBaseUpdate=ce:P.next=ce,_e.lastBaseUpdate=I))}if(v!==null){var Ee=g.baseState;T=0,_e=ce=I=null,P=v;do{var he=P.lane&-536870913,pe=he!==P.lane;if(pe?(Bt&he)===he:(m&he)===he){he!==0&&he===Zo&&(Am=!0),_e!==null&&(_e=_e.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var ht=r,ut=P;he=i;var rn=c;switch(ut.tag){case 1:if(ht=ut.payload,typeof ht=="function"){Ee=ht.call(rn,Ee,he);break e}Ee=ht;break e;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=ut.payload,he=typeof ht=="function"?ht.call(rn,Ee,he):ht,he==null)break e;Ee=p({},Ee,he);break e;case 2:Ya=!0}}he=P.callback,he!==null&&(r.flags|=64,pe&&(r.flags|=8192),pe=g.callbacks,pe===null?g.callbacks=[he]:pe.push(he))}else pe={lane:he,tag:P.tag,payload:P.payload,callback:P.callback,next:null},_e===null?(ce=_e=pe,I=Ee):_e=_e.next=pe,T|=he;if(P=P.next,P===null){if(P=g.shared.pending,P===null)break;pe=P,P=pe.next,pe.next=null,g.lastBaseUpdate=pe,g.shared.pending=null}}while(!0);_e===null&&(I=Ee),g.baseState=I,g.firstBaseUpdate=ce,g.lastBaseUpdate=_e,v===null&&(g.shared.lanes=0),ti|=T,r.lanes=T,r.memoizedState=Ee}}function lb(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function cb(r,i){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)lb(c[r],i)}var el=ae(null),jd=ae(0);function ub(r,i){r=ja,W(jd,r),W(el,i),ja=r|i.baseLanes}function Rm(){W(jd,ja),W(el,el.current)}function Dm(){ja=jd.current,we(el),we(jd)}var Xa=0,Ct=null,nn=null,zn=null,Sd=!1,tl=!1,Ji=!1,Nd=0,Oc=0,nl=null,YT=0;function An(){throw Error(s(321))}function Mm(r,i){if(i===null)return!1;for(var c=0;c<i.length&&c<r.length;c++)if(!$s(r[c],i[c]))return!1;return!0}function Pm(r,i,c,m,g,v){return Xa=v,Ct=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,B.H=r===null||r.memoizedState===null?Wb:Xb,Ji=!1,v=c(m,g),Ji=!1,tl&&(v=fb(i,c,m,g)),db(r),v}function db(r){B.H=Ad;var i=nn!==null&&nn.next!==null;if(Xa=0,zn=nn=Ct=null,Sd=!1,Oc=0,nl=null,i)throw Error(s(300));r===null||rs||(r=r.dependencies,r!==null&&yd(r)&&(rs=!0))}function fb(r,i,c,m){Ct=r;var g=0;do{if(tl&&(nl=null),Oc=0,tl=!1,25<=g)throw Error(s(301));if(g+=1,zn=nn=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}B.H=ZT,v=i(c,m)}while(tl);return v}function IT(){var r=B.H,i=r.useState()[0];return i=typeof i.then=="function"?Ac(i):i,r=r.useState()[0],(nn!==null?nn.memoizedState:null)!==r&&(Ct.flags|=1024),i}function Lm(){var r=Nd!==0;return Nd=0,r}function zm(r,i,c){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~c}function Um(r){if(Sd){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Sd=!1}Xa=0,zn=nn=Ct=null,tl=!1,Oc=Nd=0,nl=null}function Ds(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zn===null?Ct.memoizedState=zn=r:zn=zn.next=r,zn}function Un(){if(nn===null){var r=Ct.alternate;r=r!==null?r.memoizedState:null}else r=nn.next;var i=zn===null?Ct.memoizedState:zn.next;if(i!==null)zn=i,nn=r;else{if(r===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));nn=r,r={memoizedState:nn.memoizedState,baseState:nn.baseState,baseQueue:nn.baseQueue,queue:nn.queue,next:null},zn===null?Ct.memoizedState=zn=r:zn=zn.next=r}return zn}function Bm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ac(r){var i=Oc;return Oc+=1,nl===null&&(nl=[]),r=ab(nl,r,i),i=Ct,(zn===null?i.memoizedState:zn.next)===null&&(i=i.alternate,B.H=i===null||i.memoizedState===null?Wb:Xb),r}function Ed(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Ac(r);if(r.$$typeof===O)return gs(r)}throw Error(s(438,String(r)))}function Fm(r){var i=null,c=Ct.updateQueue;if(c!==null&&(i=c.memoCache),i==null){var m=Ct.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(i={data:m.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),c===null&&(c=Bm(),Ct.updateQueue=c),c.memoCache=i,c=i.data[i.index],c===void 0)for(c=i.data[i.index]=Array(r),m=0;m<r;m++)c[m]=re;return i.index++,c}function xa(r,i){return typeof i=="function"?i(r):i}function Td(r){var i=Un();return Hm(i,nn,r)}function Hm(r,i,c){var m=r.queue;if(m===null)throw Error(s(311));m.lastRenderedReducer=c;var g=r.baseQueue,v=m.pending;if(v!==null){if(g!==null){var T=g.next;g.next=v.next,v.next=T}i.baseQueue=g=v,m.pending=null}if(v=r.baseState,g===null)r.memoizedState=v;else{i=g.next;var P=T=null,I=null,ce=i,_e=!1;do{var Ee=ce.lane&-536870913;if(Ee!==ce.lane?(Bt&Ee)===Ee:(Xa&Ee)===Ee){var he=ce.revertLane;if(he===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),Ee===Zo&&(_e=!0);else if((Xa&he)===he){ce=ce.next,he===Zo&&(_e=!0);continue}else Ee={lane:0,revertLane:ce.revertLane,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},I===null?(P=I=Ee,T=v):I=I.next=Ee,Ct.lanes|=he,ti|=he;Ee=ce.action,Ji&&c(v,Ee),v=ce.hasEagerState?ce.eagerState:c(v,Ee)}else he={lane:Ee,revertLane:ce.revertLane,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},I===null?(P=I=he,T=v):I=I.next=he,Ct.lanes|=Ee,ti|=Ee;ce=ce.next}while(ce!==null&&ce!==i);if(I===null?T=v:I.next=P,!$s(v,r.memoizedState)&&(rs=!0,_e&&(c=Jo,c!==null)))throw c;r.memoizedState=v,r.baseState=T,r.baseQueue=I,m.lastRenderedState=v}return g===null&&(m.lanes=0),[r.memoizedState,m.dispatch]}function Vm(r){var i=Un(),c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=r;var m=c.dispatch,g=c.pending,v=i.memoizedState;if(g!==null){c.pending=null;var T=g=g.next;do v=r(v,T.action),T=T.next;while(T!==g);$s(v,i.memoizedState)||(rs=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),c.lastRenderedState=v}return[v,m]}function hb(r,i,c){var m=Ct,g=Un(),v=Gt;if(v){if(c===void 0)throw Error(s(407));c=c()}else c=i();var T=!$s((nn||g).memoizedState,c);T&&(g.memoizedState=c,rs=!0),g=g.queue;var P=gb.bind(null,m,g,r);if(Rc(2048,8,P,[r]),g.getSnapshot!==i||T||zn!==null&&zn.memoizedState.tag&1){if(m.flags|=2048,sl(9,kd(),pb.bind(null,m,g,c,i),null),fn===null)throw Error(s(349));v||(Xa&124)!==0||mb(m,i,c)}return c}function mb(r,i,c){r.flags|=16384,r={getSnapshot:i,value:c},i=Ct.updateQueue,i===null?(i=Bm(),Ct.updateQueue=i,i.stores=[r]):(c=i.stores,c===null?i.stores=[r]:c.push(r))}function pb(r,i,c,m){i.value=c,i.getSnapshot=m,xb(i)&&yb(r)}function gb(r,i,c){return c(function(){xb(i)&&yb(r)})}function xb(r){var i=r.getSnapshot;r=r.value;try{var c=i();return!$s(r,c)}catch(m){return!0}}function yb(r){var i=Xo(r,2);i!==null&&Gs(i,r,2)}function $m(r){var i=Ds();if(typeof r=="function"){var c=r;if(r=c(),Ji){Ke(!0);try{c()}finally{Ke(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:r},i}function bb(r,i,c,m){return r.baseState=c,Hm(r,nn,typeof m=="function"?m:xa)}function WT(r,i,c,m,g){if(Od(r))throw Error(s(485));if(r=i.action,r!==null){var v={payload:g,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){v.listeners.push(T)}};B.T!==null?c(!0):v.isTransition=!1,m(v),c=i.pending,c===null?(v.next=i.pending=v,vb(i,v)):(v.next=c.next,i.pending=c.next=v)}}function vb(r,i){var c=i.action,m=i.payload,g=r.state;if(i.isTransition){var v=B.T,T={};B.T=T;try{var P=c(g,m),I=B.S;I!==null&&I(T,P),wb(r,i,P)}catch(ce){qm(r,i,ce)}finally{B.T=v}}else try{v=c(g,m),wb(r,i,v)}catch(ce){qm(r,i,ce)}}function wb(r,i,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){_b(r,i,m)},function(m){return qm(r,i,m)}):_b(r,i,c)}function _b(r,i,c){i.status="fulfilled",i.value=c,jb(i),r.state=c,i=r.pending,i!==null&&(c=i.next,c===i?r.pending=null:(c=c.next,i.next=c,vb(r,c)))}function qm(r,i,c){var m=r.pending;if(r.pending=null,m!==null){m=m.next;do i.status="rejected",i.reason=c,jb(i),i=i.next;while(i!==m)}r.action=null}function jb(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function Sb(r,i){return i}function Nb(r,i){if(Gt){var c=fn.formState;if(c!==null){e:{var m=Ct;if(Gt){if(kn){t:{for(var g=kn,v=Hr;g.nodeType!==8;){if(!v){g=null;break t}if(g=Nr(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){kn=Nr(g.nextSibling),m=g.data==="F!";break e}}Gi(m)}m=!1}m&&(i=c[0])}}return c=Ds(),c.memoizedState=c.baseState=i,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sb,lastRenderedState:i},c.queue=m,c=qb.bind(null,Ct,m),m.dispatch=c,m=$m(!1),v=Gm.bind(null,Ct,!1,m.queue),m=Ds(),g={state:i,dispatch:null,action:r,pending:null},m.queue=g,c=WT.bind(null,Ct,g,v,c),g.dispatch=c,m.memoizedState=r,[i,c,!1]}function Eb(r){var i=Un();return Tb(i,nn,r)}function Tb(r,i,c){if(i=Hm(r,i,Sb)[0],r=Td(xa)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var m=Ac(i)}catch(T){throw T===Nc?wd:T}else m=i;i=Un();var g=i.queue,v=g.dispatch;return c!==i.memoizedState&&(Ct.flags|=2048,sl(9,kd(),XT.bind(null,g,c),null)),[m,v,r]}function XT(r,i){r.action=i}function kb(r){var i=Un(),c=nn;if(c!==null)return Tb(i,c,r);Un(),i=i.memoizedState,c=Un();var m=c.queue.dispatch;return c.memoizedState=r,[i,m,!1]}function sl(r,i,c,m){return r={tag:r,create:c,deps:m,inst:i,next:null},i=Ct.updateQueue,i===null&&(i=Bm(),Ct.updateQueue=i),c=i.lastEffect,c===null?i.lastEffect=r.next=r:(m=c.next,c.next=r,r.next=m,i.lastEffect=r),r}function kd(){return{destroy:void 0,resource:void 0}}function Cb(){return Un().memoizedState}function Cd(r,i,c,m){var g=Ds();m=m===void 0?null:m,Ct.flags|=r,g.memoizedState=sl(1|i,kd(),c,m)}function Rc(r,i,c,m){var g=Un();m=m===void 0?null:m;var v=g.memoizedState.inst;nn!==null&&m!==null&&Mm(m,nn.memoizedState.deps)?g.memoizedState=sl(i,v,c,m):(Ct.flags|=r,g.memoizedState=sl(1|i,v,c,m))}function Ob(r,i){Cd(8390656,8,r,i)}function Ab(r,i){Rc(2048,8,r,i)}function Rb(r,i){return Rc(4,2,r,i)}function Db(r,i){return Rc(4,4,r,i)}function Mb(r,i){if(typeof i=="function"){r=r();var c=i(r);return function(){typeof c=="function"?c():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Pb(r,i,c){c=c!=null?c.concat([r]):null,Rc(4,4,Mb.bind(null,i,r),c)}function Ym(){}function Lb(r,i){var c=Un();i=i===void 0?null:i;var m=c.memoizedState;return i!==null&&Mm(i,m[1])?m[0]:(c.memoizedState=[r,i],r)}function zb(r,i){var c=Un();i=i===void 0?null:i;var m=c.memoizedState;if(i!==null&&Mm(i,m[1]))return m[0];if(m=r(),Ji){Ke(!0);try{r()}finally{Ke(!1)}}return c.memoizedState=[m,i],m}function Im(r,i,c){return c===void 0||(Xa&1073741824)!==0?r.memoizedState=i:(r.memoizedState=c,r=Fv(),Ct.lanes|=r,ti|=r,c)}function Ub(r,i,c,m){return $s(c,i)?c:el.current!==null?(r=Im(r,c,m),$s(r,i)||(rs=!0),r):(Xa&42)===0?(rs=!0,r.memoizedState=c):(r=Fv(),Ct.lanes|=r,ti|=r,i)}function Bb(r,i,c,m,g){var v=Y.p;Y.p=v!==0&&8>v?v:8;var T=B.T,P={};B.T=P,Gm(r,!1,i,c);try{var I=g(),ce=B.S;if(ce!==null&&ce(P,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var _e=qT(I,m);Dc(r,i,_e,Xs(r))}else Dc(r,i,m,Xs(r))}catch(Ee){Dc(r,i,{then:function(){},status:"rejected",reason:Ee},Xs())}finally{Y.p=v,B.T=T}}function GT(){}function Wm(r,i,c,m){if(r.tag!==5)throw Error(s(476));var g=Fb(r).queue;Bb(r,g,i,Q,c===null?GT:function(){return Hb(r),c(m)})}function Fb(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:Q},next:null};var c={};return i.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:c},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function Hb(r){var i=Fb(r).next.queue;Dc(r,i,{},Xs())}function Xm(){return gs(Qc)}function Vb(){return Un().memoizedState}function $b(){return Un().memoizedState}function KT(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var c=Xs();r=Ia(c);var m=Wa(i,r,c);m!==null&&(Gs(m,i,c),Tc(m,i,c)),i={cache:Sm()},r.payload=i;return}i=i.return}}function QT(r,i,c){var m=Xs();c={lane:m,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Od(r)?Yb(i,c):(c=mm(r,i,c,m),c!==null&&(Gs(c,r,m),Ib(c,i,m)))}function qb(r,i,c){var m=Xs();Dc(r,i,c,m)}function Dc(r,i,c,m){var g={lane:m,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Od(r))Yb(i,g);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var T=i.lastRenderedState,P=v(T,c);if(g.hasEagerState=!0,g.eagerState=P,$s(P,T))return hd(r,i,g,0),fn===null&&fd(),!1}catch(I){}finally{}if(c=mm(r,i,g,m),c!==null)return Gs(c,r,m),Ib(c,i,m),!0}return!1}function Gm(r,i,c,m){if(m={lane:2,revertLane:Tp(),action:m,hasEagerState:!1,eagerState:null,next:null},Od(r)){if(i)throw Error(s(479))}else i=mm(r,c,m,2),i!==null&&Gs(i,r,2)}function Od(r){var i=r.alternate;return r===Ct||i!==null&&i===Ct}function Yb(r,i){tl=Sd=!0;var c=r.pending;c===null?i.next=i:(i.next=c.next,c.next=i),r.pending=i}function Ib(r,i,c){if((c&4194048)!==0){var m=i.lanes;m&=r.pendingLanes,c|=m,i.lanes=c,an(r,c)}}var Ad={readContext:gs,use:Ed,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useLayoutEffect:An,useInsertionEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useSyncExternalStore:An,useId:An,useHostTransitionStatus:An,useFormState:An,useActionState:An,useOptimistic:An,useMemoCache:An,useCacheRefresh:An},Wb={readContext:gs,use:Ed,useCallback:function(r,i){return Ds().memoizedState=[r,i===void 0?null:i],r},useContext:gs,useEffect:Ob,useImperativeHandle:function(r,i,c){c=c!=null?c.concat([r]):null,Cd(4194308,4,Mb.bind(null,i,r),c)},useLayoutEffect:function(r,i){return Cd(4194308,4,r,i)},useInsertionEffect:function(r,i){Cd(4,2,r,i)},useMemo:function(r,i){var c=Ds();i=i===void 0?null:i;var m=r();if(Ji){Ke(!0);try{r()}finally{Ke(!1)}}return c.memoizedState=[m,i],m},useReducer:function(r,i,c){var m=Ds();if(c!==void 0){var g=c(i);if(Ji){Ke(!0);try{c(i)}finally{Ke(!1)}}}else g=i;return m.memoizedState=m.baseState=g,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:g},m.queue=r,r=r.dispatch=QT.bind(null,Ct,r),[m.memoizedState,r]},useRef:function(r){var i=Ds();return r={current:r},i.memoizedState=r},useState:function(r){r=$m(r);var i=r.queue,c=qb.bind(null,Ct,i);return i.dispatch=c,[r.memoizedState,c]},useDebugValue:Ym,useDeferredValue:function(r,i){var c=Ds();return Im(c,r,i)},useTransition:function(){var r=$m(!1);return r=Bb.bind(null,Ct,r.queue,!0,!1),Ds().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,c){var m=Ct,g=Ds();if(Gt){if(c===void 0)throw Error(s(407));c=c()}else{if(c=i(),fn===null)throw Error(s(349));(Bt&124)!==0||mb(m,i,c)}g.memoizedState=c;var v={value:c,getSnapshot:i};return g.queue=v,Ob(gb.bind(null,m,v,r),[r]),m.flags|=2048,sl(9,kd(),pb.bind(null,m,v,c,i),null),c},useId:function(){var r=Ds(),i=fn.identifierPrefix;if(Gt){var c=ma,m=ha;c=(m&~(1<<32-bt(m)-1)).toString(32)+c,i=""+i+"R"+c,c=Nd++,0<c&&(i+="H"+c.toString(32)),i+=""}else c=YT++,i=""+i+"r"+c.toString(32)+"";return r.memoizedState=i},useHostTransitionStatus:Xm,useFormState:Nb,useActionState:Nb,useOptimistic:function(r){var i=Ds();i.memoizedState=i.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=c,i=Gm.bind(null,Ct,!0,c),c.dispatch=i,[r,i]},useMemoCache:Fm,useCacheRefresh:function(){return Ds().memoizedState=KT.bind(null,Ct)}},Xb={readContext:gs,use:Ed,useCallback:Lb,useContext:gs,useEffect:Ab,useImperativeHandle:Pb,useInsertionEffect:Rb,useLayoutEffect:Db,useMemo:zb,useReducer:Td,useRef:Cb,useState:function(){return Td(xa)},useDebugValue:Ym,useDeferredValue:function(r,i){var c=Un();return Ub(c,nn.memoizedState,r,i)},useTransition:function(){var r=Td(xa)[0],i=Un().memoizedState;return[typeof r=="boolean"?r:Ac(r),i]},useSyncExternalStore:hb,useId:Vb,useHostTransitionStatus:Xm,useFormState:Eb,useActionState:Eb,useOptimistic:function(r,i){var c=Un();return bb(c,nn,r,i)},useMemoCache:Fm,useCacheRefresh:$b},ZT={readContext:gs,use:Ed,useCallback:Lb,useContext:gs,useEffect:Ab,useImperativeHandle:Pb,useInsertionEffect:Rb,useLayoutEffect:Db,useMemo:zb,useReducer:Vm,useRef:Cb,useState:function(){return Vm(xa)},useDebugValue:Ym,useDeferredValue:function(r,i){var c=Un();return nn===null?Im(c,r,i):Ub(c,nn.memoizedState,r,i)},useTransition:function(){var r=Vm(xa)[0],i=Un().memoizedState;return[typeof r=="boolean"?r:Ac(r),i]},useSyncExternalStore:hb,useId:Vb,useHostTransitionStatus:Xm,useFormState:kb,useActionState:kb,useOptimistic:function(r,i){var c=Un();return nn!==null?bb(c,nn,r,i):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:Fm,useCacheRefresh:$b},rl=null,Mc=0;function Rd(r){var i=Mc;return Mc+=1,rl===null&&(rl=[]),ab(rl,r,i)}function Pc(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function Dd(r,i){throw i.$$typeof===x?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function Gb(r){var i=r._init;return i(r._payload)}function Kb(r){function i(se,Z){if(r){var le=se.deletions;le===null?(se.deletions=[Z],se.flags|=16):le.push(Z)}}function c(se,Z){if(!r)return null;for(;Z!==null;)i(se,Z),Z=Z.sibling;return null}function m(se){for(var Z=new Map;se!==null;)se.key!==null?Z.set(se.key,se):Z.set(se.index,se),se=se.sibling;return Z}function g(se,Z){return se=fa(se,Z),se.index=0,se.sibling=null,se}function v(se,Z,le){return se.index=le,r?(le=se.alternate,le!==null?(le=le.index,le<Z?(se.flags|=67108866,Z):le):(se.flags|=67108866,Z)):(se.flags|=1048576,Z)}function T(se){return r&&se.alternate===null&&(se.flags|=67108866),se}function P(se,Z,le,Ne){return Z===null||Z.tag!==6?(Z=gm(le,se.mode,Ne),Z.return=se,Z):(Z=g(Z,le),Z.return=se,Z)}function I(se,Z,le,Ne){var We=le.type;return We===w?_e(se,Z,le.props.children,Ne,le.key):Z!==null&&(Z.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===F&&Gb(We)===Z.type)?(Z=g(Z,le.props),Pc(Z,le),Z.return=se,Z):(Z=pd(le.type,le.key,le.props,null,se.mode,Ne),Pc(Z,le),Z.return=se,Z)}function ce(se,Z,le,Ne){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==le.containerInfo||Z.stateNode.implementation!==le.implementation?(Z=xm(le,se.mode,Ne),Z.return=se,Z):(Z=g(Z,le.children||[]),Z.return=se,Z)}function _e(se,Z,le,Ne,We){return Z===null||Z.tag!==7?(Z=Yi(le,se.mode,Ne,We),Z.return=se,Z):(Z=g(Z,le),Z.return=se,Z)}function Ee(se,Z,le){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=gm(""+Z,se.mode,le),Z.return=se,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case y:return le=pd(Z.type,Z.key,Z.props,null,se.mode,le),Pc(le,Z),le.return=se,le;case b:return Z=xm(Z,se.mode,le),Z.return=se,Z;case F:var Ne=Z._init;return Z=Ne(Z._payload),Ee(se,Z,le)}if(K(Z)||ee(Z))return Z=Yi(Z,se.mode,le,null),Z.return=se,Z;if(typeof Z.then=="function")return Ee(se,Rd(Z),le);if(Z.$$typeof===O)return Ee(se,bd(se,Z),le);Dd(se,Z)}return null}function he(se,Z,le,Ne){var We=Z!==null?Z.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return We!==null?null:P(se,Z,""+le,Ne);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case y:return le.key===We?I(se,Z,le,Ne):null;case b:return le.key===We?ce(se,Z,le,Ne):null;case F:return We=le._init,le=We(le._payload),he(se,Z,le,Ne)}if(K(le)||ee(le))return We!==null?null:_e(se,Z,le,Ne,null);if(typeof le.then=="function")return he(se,Z,Rd(le),Ne);if(le.$$typeof===O)return he(se,Z,bd(se,le),Ne);Dd(se,le)}return null}function pe(se,Z,le,Ne,We){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return se=se.get(le)||null,P(Z,se,""+Ne,We);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case y:return se=se.get(Ne.key===null?le:Ne.key)||null,I(Z,se,Ne,We);case b:return se=se.get(Ne.key===null?le:Ne.key)||null,ce(Z,se,Ne,We);case F:var Rt=Ne._init;return Ne=Rt(Ne._payload),pe(se,Z,le,Ne,We)}if(K(Ne)||ee(Ne))return se=se.get(le)||null,_e(Z,se,Ne,We,null);if(typeof Ne.then=="function")return pe(se,Z,le,Rd(Ne),We);if(Ne.$$typeof===O)return pe(se,Z,le,bd(Z,Ne),We);Dd(Z,Ne)}return null}function ht(se,Z,le,Ne){for(var We=null,Rt=null,st=Z,ft=Z=0,is=null;st!==null&&ft<le.length;ft++){st.index>ft?(is=st,st=null):is=st.sibling;var Wt=he(se,st,le[ft],Ne);if(Wt===null){st===null&&(st=is);break}r&&st&&Wt.alternate===null&&i(se,st),Z=v(Wt,Z,ft),Rt===null?We=Wt:Rt.sibling=Wt,Rt=Wt,st=is}if(ft===le.length)return c(se,st),Gt&&Wi(se,ft),We;if(st===null){for(;ft<le.length;ft++)st=Ee(se,le[ft],Ne),st!==null&&(Z=v(st,Z,ft),Rt===null?We=st:Rt.sibling=st,Rt=st);return Gt&&Wi(se,ft),We}for(st=m(st);ft<le.length;ft++)is=pe(st,se,ft,le[ft],Ne),is!==null&&(r&&is.alternate!==null&&st.delete(is.key===null?ft:is.key),Z=v(is,Z,ft),Rt===null?We=is:Rt.sibling=is,Rt=is);return r&&st.forEach(function(ui){return i(se,ui)}),Gt&&Wi(se,ft),We}function ut(se,Z,le,Ne){if(le==null)throw Error(s(151));for(var We=null,Rt=null,st=Z,ft=Z=0,is=null,Wt=le.next();st!==null&&!Wt.done;ft++,Wt=le.next()){st.index>ft?(is=st,st=null):is=st.sibling;var ui=he(se,st,Wt.value,Ne);if(ui===null){st===null&&(st=is);break}r&&st&&ui.alternate===null&&i(se,st),Z=v(ui,Z,ft),Rt===null?We=ui:Rt.sibling=ui,Rt=ui,st=is}if(Wt.done)return c(se,st),Gt&&Wi(se,ft),We;if(st===null){for(;!Wt.done;ft++,Wt=le.next())Wt=Ee(se,Wt.value,Ne),Wt!==null&&(Z=v(Wt,Z,ft),Rt===null?We=Wt:Rt.sibling=Wt,Rt=Wt);return Gt&&Wi(se,ft),We}for(st=m(st);!Wt.done;ft++,Wt=le.next())Wt=pe(st,se,ft,Wt.value,Ne),Wt!==null&&(r&&Wt.alternate!==null&&st.delete(Wt.key===null?ft:Wt.key),Z=v(Wt,Z,ft),Rt===null?We=Wt:Rt.sibling=Wt,Rt=Wt);return r&&st.forEach(function(Jk){return i(se,Jk)}),Gt&&Wi(se,ft),We}function rn(se,Z,le,Ne){if(typeof le=="object"&&le!==null&&le.type===w&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case y:e:{for(var We=le.key;Z!==null;){if(Z.key===We){if(We=le.type,We===w){if(Z.tag===7){c(se,Z.sibling),Ne=g(Z,le.props.children),Ne.return=se,se=Ne;break e}}else if(Z.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===F&&Gb(We)===Z.type){c(se,Z.sibling),Ne=g(Z,le.props),Pc(Ne,le),Ne.return=se,se=Ne;break e}c(se,Z);break}else i(se,Z);Z=Z.sibling}le.type===w?(Ne=Yi(le.props.children,se.mode,Ne,le.key),Ne.return=se,se=Ne):(Ne=pd(le.type,le.key,le.props,null,se.mode,Ne),Pc(Ne,le),Ne.return=se,se=Ne)}return T(se);case b:e:{for(We=le.key;Z!==null;){if(Z.key===We)if(Z.tag===4&&Z.stateNode.containerInfo===le.containerInfo&&Z.stateNode.implementation===le.implementation){c(se,Z.sibling),Ne=g(Z,le.children||[]),Ne.return=se,se=Ne;break e}else{c(se,Z);break}else i(se,Z);Z=Z.sibling}Ne=xm(le,se.mode,Ne),Ne.return=se,se=Ne}return T(se);case F:return We=le._init,le=We(le._payload),rn(se,Z,le,Ne)}if(K(le))return ht(se,Z,le,Ne);if(ee(le)){if(We=ee(le),typeof We!="function")throw Error(s(150));return le=We.call(le),ut(se,Z,le,Ne)}if(typeof le.then=="function")return rn(se,Z,Rd(le),Ne);if(le.$$typeof===O)return rn(se,Z,bd(se,le),Ne);Dd(se,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,Z!==null&&Z.tag===6?(c(se,Z.sibling),Ne=g(Z,le),Ne.return=se,se=Ne):(c(se,Z),Ne=gm(le,se.mode,Ne),Ne.return=se,se=Ne),T(se)):c(se,Z)}return function(se,Z,le,Ne){try{Mc=0;var We=rn(se,Z,le,Ne);return rl=null,We}catch(st){if(st===Nc||st===wd)throw st;var Rt=qs(29,st,null,se.mode);return Rt.lanes=Ne,Rt.return=se,Rt}finally{}}}var al=Kb(!0),Qb=Kb(!1),cr=ae(null),Vr=null;function Ga(r){var i=r.alternate;W(Xn,Xn.current&1),W(cr,r),Vr===null&&(i===null||el.current!==null||i.memoizedState!==null)&&(Vr=r)}function Zb(r){if(r.tag===22){if(W(Xn,Xn.current),W(cr,r),Vr===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(Vr=r)}}else Ka()}function Ka(){W(Xn,Xn.current),W(cr,cr.current)}function ya(r){we(cr),Vr===r&&(Vr=null),we(Xn)}var Xn=ae(0);function Md(r){for(var i=r;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||Bp(c)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Km(r,i,c,m){i=r.memoizedState,c=c(m,i),c=c==null?i:p({},i,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var Qm={enqueueSetState:function(r,i,c){r=r._reactInternals;var m=Xs(),g=Ia(m);g.payload=i,c!=null&&(g.callback=c),i=Wa(r,g,m),i!==null&&(Gs(i,r,m),Tc(i,r,m))},enqueueReplaceState:function(r,i,c){r=r._reactInternals;var m=Xs(),g=Ia(m);g.tag=1,g.payload=i,c!=null&&(g.callback=c),i=Wa(r,g,m),i!==null&&(Gs(i,r,m),Tc(i,r,m))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var c=Xs(),m=Ia(c);m.tag=2,i!=null&&(m.callback=i),i=Wa(r,m,c),i!==null&&(Gs(i,r,c),Tc(i,r,c))}};function Jb(r,i,c,m,g,v,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(m,v,T):i.prototype&&i.prototype.isPureReactComponent?!xc(c,m)||!xc(g,v):!0}function ev(r,i,c,m){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,m),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,m),i.state!==r&&Qm.enqueueReplaceState(i,i.state,null)}function eo(r,i){var c=i;if("ref"in i){c={};for(var m in i)m!=="ref"&&(c[m]=i[m])}if(r=r.defaultProps){c===i&&(c=p({},c));for(var g in r)c[g]===void 0&&(c[g]=r[g])}return c}var Pd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function tv(r){Pd(r)}function nv(r){console.error(r)}function sv(r){Pd(r)}function Ld(r,i){try{var c=r.onUncaughtError;c(i.value,{componentStack:i.stack})}catch(m){setTimeout(function(){throw m})}}function rv(r,i,c){try{var m=r.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Zm(r,i,c){return c=Ia(c),c.tag=3,c.payload={element:null},c.callback=function(){Ld(r,i)},c}function av(r){return r=Ia(r),r.tag=3,r}function iv(r,i,c,m){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var v=m.value;r.payload=function(){return g(v)},r.callback=function(){rv(i,c,m)}}var T=c.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){rv(i,c,m),typeof g!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var P=m.stack;this.componentDidCatch(m.value,{componentStack:P!==null?P:""})})}function JT(r,i,c,m,g){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(i=c.alternate,i!==null&&_c(i,c,g,!0),c=cr.current,c!==null){switch(c.tag){case 13:return Vr===null?_p():c.alternate===null&&Cn===0&&(Cn=3),c.flags&=-257,c.flags|=65536,c.lanes=g,m===Tm?c.flags|=16384:(i=c.updateQueue,i===null?c.updateQueue=new Set([m]):i.add(m),Sp(r,m,g)),!1;case 22:return c.flags|=65536,m===Tm?c.flags|=16384:(i=c.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=i):(c=i.retryQueue,c===null?i.retryQueue=new Set([m]):c.add(m)),Sp(r,m,g)),!1}throw Error(s(435,c.tag))}return Sp(r,m,g),_p(),!1}if(Gt)return i=cr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,m!==vm&&(r=Error(s(422),{cause:m}),wc(ar(r,c)))):(m!==vm&&(i=Error(s(423),{cause:m}),wc(ar(i,c))),r=r.current.alternate,r.flags|=65536,g&=-g,r.lanes|=g,m=ar(m,c),g=Zm(r.stateNode,m,g),Om(r,g),Cn!==4&&(Cn=2)),!1;var v=Error(s(520),{cause:m});if(v=ar(v,c),Vc===null?Vc=[v]:Vc.push(v),Cn!==4&&(Cn=2),i===null)return!0;m=ar(m,c),c=i;do{switch(c.tag){case 3:return c.flags|=65536,r=g&-g,c.lanes|=r,r=Zm(c.stateNode,m,r),Om(c,r),!1;case 1:if(i=c.type,v=c.stateNode,(c.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ni===null||!ni.has(v))))return c.flags|=65536,g&=-g,c.lanes|=g,g=av(g),iv(g,r,c,m),Om(c,g),!1}c=c.return}while(c!==null);return!1}var ov=Error(s(461)),rs=!1;function cs(r,i,c,m){i.child=r===null?Qb(i,null,c,m):al(i,r.child,c,m)}function lv(r,i,c,m,g){c=c.render;var v=i.ref;if("ref"in m){var T={};for(var P in m)P!=="ref"&&(T[P]=m[P])}else T=m;return Qi(i),m=Pm(r,i,c,T,v,g),P=Lm(),r!==null&&!rs?(zm(r,i,g),ba(r,i,g)):(Gt&&P&&ym(i),i.flags|=1,cs(r,i,m,g),i.child)}function cv(r,i,c,m,g){if(r===null){var v=c.type;return typeof v=="function"&&!pm(v)&&v.defaultProps===void 0&&c.compare===null?(i.tag=15,i.type=v,uv(r,i,v,m,g)):(r=pd(c.type,null,m,i,i.mode,g),r.ref=i.ref,r.return=i,i.child=r)}if(v=r.child,!ip(r,g)){var T=v.memoizedProps;if(c=c.compare,c=c!==null?c:xc,c(T,m)&&r.ref===i.ref)return ba(r,i,g)}return i.flags|=1,r=fa(v,m),r.ref=i.ref,r.return=i,i.child=r}function uv(r,i,c,m,g){if(r!==null){var v=r.memoizedProps;if(xc(v,m)&&r.ref===i.ref)if(rs=!1,i.pendingProps=m=v,ip(r,g))(r.flags&131072)!==0&&(rs=!0);else return i.lanes=r.lanes,ba(r,i,g)}return Jm(r,i,c,m,g)}function dv(r,i,c){var m=i.pendingProps,g=m.children,v=r!==null?r.memoizedState:null;if(m.mode==="hidden"){if((i.flags&128)!==0){if(m=v!==null?v.baseLanes|c:c,r!==null){for(g=i.child=r.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;i.childLanes=v&~m}else i.childLanes=0,i.child=null;return fv(r,i,m,c)}if((c&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&vd(i,v!==null?v.cachePool:null),v!==null?ub(i,v):Rm(),Zb(i);else return i.lanes=i.childLanes=536870912,fv(r,i,v!==null?v.baseLanes|c:c,c)}else v!==null?(vd(i,v.cachePool),ub(i,v),Ka(),i.memoizedState=null):(r!==null&&vd(i,null),Rm(),Ka());return cs(r,i,g,c),i.child}function fv(r,i,c,m){var g=Em();return g=g===null?null:{parent:Wn._currentValue,pool:g},i.memoizedState={baseLanes:c,cachePool:g},r!==null&&vd(i,null),Rm(),Zb(i),r!==null&&_c(r,i,m,!0),null}function zd(r,i){var c=i.ref;if(c===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(s(284));(r===null||r.ref!==c)&&(i.flags|=4194816)}}function Jm(r,i,c,m,g){return Qi(i),c=Pm(r,i,c,m,void 0,g),m=Lm(),r!==null&&!rs?(zm(r,i,g),ba(r,i,g)):(Gt&&m&&ym(i),i.flags|=1,cs(r,i,c,g),i.child)}function hv(r,i,c,m,g,v){return Qi(i),i.updateQueue=null,c=fb(i,m,c,g),db(r),m=Lm(),r!==null&&!rs?(zm(r,i,v),ba(r,i,v)):(Gt&&m&&ym(i),i.flags|=1,cs(r,i,c,v),i.child)}function mv(r,i,c,m,g){if(Qi(i),i.stateNode===null){var v=Go,T=c.contextType;typeof T=="object"&&T!==null&&(v=gs(T)),v=new c(m,v),i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Qm,i.stateNode=v,v._reactInternals=i,v=i.stateNode,v.props=m,v.state=i.memoizedState,v.refs={},km(i),T=c.contextType,v.context=typeof T=="object"&&T!==null?gs(T):Go,v.state=i.memoizedState,T=c.getDerivedStateFromProps,typeof T=="function"&&(Km(i,c,T,m),v.state=i.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(T=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),T!==v.state&&Qm.enqueueReplaceState(v,v.state,null),Cc(i,m,v,g),kc(),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308),m=!0}else if(r===null){v=i.stateNode;var P=i.memoizedProps,I=eo(c,P);v.props=I;var ce=v.context,_e=c.contextType;T=Go,typeof _e=="object"&&_e!==null&&(T=gs(_e));var Ee=c.getDerivedStateFromProps;_e=typeof Ee=="function"||typeof v.getSnapshotBeforeUpdate=="function",P=i.pendingProps!==P,_e||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(P||ce!==T)&&ev(i,v,m,T),Ya=!1;var he=i.memoizedState;v.state=he,Cc(i,m,v,g),kc(),ce=i.memoizedState,P||he!==ce||Ya?(typeof Ee=="function"&&(Km(i,c,Ee,m),ce=i.memoizedState),(I=Ya||Jb(i,c,I,m,he,ce,T))?(_e||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=m,i.memoizedState=ce),v.props=m,v.state=ce,v.context=T,m=I):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),m=!1)}else{v=i.stateNode,Cm(r,i),T=i.memoizedProps,_e=eo(c,T),v.props=_e,Ee=i.pendingProps,he=v.context,ce=c.contextType,I=Go,typeof ce=="object"&&ce!==null&&(I=gs(ce)),P=c.getDerivedStateFromProps,(ce=typeof P=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T!==Ee||he!==I)&&ev(i,v,m,I),Ya=!1,he=i.memoizedState,v.state=he,Cc(i,m,v,g),kc();var pe=i.memoizedState;T!==Ee||he!==pe||Ya||r!==null&&r.dependencies!==null&&yd(r.dependencies)?(typeof P=="function"&&(Km(i,c,P,m),pe=i.memoizedState),(_e=Ya||Jb(i,c,_e,m,he,pe,I)||r!==null&&r.dependencies!==null&&yd(r.dependencies))?(ce||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(m,pe,I),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(m,pe,I)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||T===r.memoizedProps&&he===r.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&he===r.memoizedState||(i.flags|=1024),i.memoizedProps=m,i.memoizedState=pe),v.props=m,v.state=pe,v.context=I,m=_e):(typeof v.componentDidUpdate!="function"||T===r.memoizedProps&&he===r.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&he===r.memoizedState||(i.flags|=1024),m=!1)}return v=m,zd(r,i),m=(i.flags&128)!==0,v||m?(v=i.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:v.render(),i.flags|=1,r!==null&&m?(i.child=al(i,r.child,null,g),i.child=al(i,null,c,g)):cs(r,i,c,g),i.memoizedState=v.state,r=i.child):r=ba(r,i,g),r}function pv(r,i,c,m){return vc(),i.flags|=256,cs(r,i,c,m),i.child}var ep={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tp(r){return{baseLanes:r,cachePool:nb()}}function np(r,i,c){return r=r!==null?r.childLanes&~c:0,i&&(r|=ur),r}function gv(r,i,c){var m=i.pendingProps,g=!1,v=(i.flags&128)!==0,T;if((T=v)||(T=r!==null&&r.memoizedState===null?!1:(Xn.current&2)!==0),T&&(g=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,r===null){if(Gt){if(g?Ga(i):Ka(),Gt){var P=kn,I;if(I=P){e:{for(I=P,P=Hr;I.nodeType!==8;){if(!P){P=null;break e}if(I=Nr(I.nextSibling),I===null){P=null;break e}}P=I}P!==null?(i.memoizedState={dehydrated:P,treeContext:Ii!==null?{id:ha,overflow:ma}:null,retryLane:536870912,hydrationErrors:null},I=qs(18,null,null,0),I.stateNode=P,I.return=i,i.child=I,_s=i,kn=null,I=!0):I=!1}I||Gi(i)}if(P=i.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return Bp(P)?i.lanes=32:i.lanes=536870912,null;ya(i)}return P=m.children,m=m.fallback,g?(Ka(),g=i.mode,P=Ud({mode:"hidden",children:P},g),m=Yi(m,g,c,null),P.return=i,m.return=i,P.sibling=m,i.child=P,g=i.child,g.memoizedState=tp(c),g.childLanes=np(r,T,c),i.memoizedState=ep,m):(Ga(i),sp(i,P))}if(I=r.memoizedState,I!==null&&(P=I.dehydrated,P!==null)){if(v)i.flags&256?(Ga(i),i.flags&=-257,i=rp(r,i,c)):i.memoizedState!==null?(Ka(),i.child=r.child,i.flags|=128,i=null):(Ka(),g=m.fallback,P=i.mode,m=Ud({mode:"visible",children:m.children},P),g=Yi(g,P,c,null),g.flags|=2,m.return=i,g.return=i,m.sibling=g,i.child=m,al(i,r.child,null,c),m=i.child,m.memoizedState=tp(c),m.childLanes=np(r,T,c),i.memoizedState=ep,i=g);else if(Ga(i),Bp(P)){if(T=P.nextSibling&&P.nextSibling.dataset,T)var ce=T.dgst;T=ce,m=Error(s(419)),m.stack="",m.digest=T,wc({value:m,source:null,stack:null}),i=rp(r,i,c)}else if(rs||_c(r,i,c,!1),T=(c&r.childLanes)!==0,rs||T){if(T=fn,T!==null&&(m=c&-c,m=(m&42)!==0?1:ts(m),m=(m&(T.suspendedLanes|c))!==0?0:m,m!==0&&m!==I.retryLane))throw I.retryLane=m,Xo(r,m),Gs(T,r,m),ov;P.data==="$?"||_p(),i=rp(r,i,c)}else P.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=I.treeContext,kn=Nr(P.nextSibling),_s=i,Gt=!0,Xi=null,Hr=!1,r!==null&&(or[lr++]=ha,or[lr++]=ma,or[lr++]=Ii,ha=r.id,ma=r.overflow,Ii=i),i=sp(i,m.children),i.flags|=4096);return i}return g?(Ka(),g=m.fallback,P=i.mode,I=r.child,ce=I.sibling,m=fa(I,{mode:"hidden",children:m.children}),m.subtreeFlags=I.subtreeFlags&65011712,ce!==null?g=fa(ce,g):(g=Yi(g,P,c,null),g.flags|=2),g.return=i,m.return=i,m.sibling=g,i.child=m,m=g,g=i.child,P=r.child.memoizedState,P===null?P=tp(c):(I=P.cachePool,I!==null?(ce=Wn._currentValue,I=I.parent!==ce?{parent:ce,pool:ce}:I):I=nb(),P={baseLanes:P.baseLanes|c,cachePool:I}),g.memoizedState=P,g.childLanes=np(r,T,c),i.memoizedState=ep,m):(Ga(i),c=r.child,r=c.sibling,c=fa(c,{mode:"visible",children:m.children}),c.return=i,c.sibling=null,r!==null&&(T=i.deletions,T===null?(i.deletions=[r],i.flags|=16):T.push(r)),i.child=c,i.memoizedState=null,c)}function sp(r,i){return i=Ud({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Ud(r,i){return r=qs(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function rp(r,i,c){return al(i,r.child,null,c),r=sp(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function xv(r,i,c){r.lanes|=i;var m=r.alternate;m!==null&&(m.lanes|=i),_m(r.return,i,c)}function ap(r,i,c,m,g){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:g}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=m,v.tail=c,v.tailMode=g)}function yv(r,i,c){var m=i.pendingProps,g=m.revealOrder,v=m.tail;if(cs(r,i,m.children,c),m=Xn.current,(m&2)!==0)m=m&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&xv(r,c,i);else if(r.tag===19)xv(r,c,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}m&=1}switch(W(Xn,m),g){case"forwards":for(c=i.child,g=null;c!==null;)r=c.alternate,r!==null&&Md(r)===null&&(g=c),c=c.sibling;c=g,c===null?(g=i.child,i.child=null):(g=c.sibling,c.sibling=null),ap(i,!1,g,c,v);break;case"backwards":for(c=null,g=i.child,i.child=null;g!==null;){if(r=g.alternate,r!==null&&Md(r)===null){i.child=g;break}r=g.sibling,g.sibling=c,c=g,g=r}ap(i,!0,c,null,v);break;case"together":ap(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ba(r,i,c){if(r!==null&&(i.dependencies=r.dependencies),ti|=i.lanes,(c&i.childLanes)===0)if(r!==null){if(_c(r,i,c,!1),(c&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,c=fa(r,r.pendingProps),i.child=c,c.return=i;r.sibling!==null;)r=r.sibling,c=c.sibling=fa(r,r.pendingProps),c.return=i;c.sibling=null}return i.child}function ip(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&yd(r)))}function ek(r,i,c){switch(i.tag){case 3:ze(i,i.stateNode.containerInfo),qa(i,Wn,r.memoizedState.cache),vc();break;case 27:case 5:Ve(i);break;case 4:ze(i,i.stateNode.containerInfo);break;case 10:qa(i,i.type,i.memoizedProps.value);break;case 13:var m=i.memoizedState;if(m!==null)return m.dehydrated!==null?(Ga(i),i.flags|=128,null):(c&i.child.childLanes)!==0?gv(r,i,c):(Ga(i),r=ba(r,i,c),r!==null?r.sibling:null);Ga(i);break;case 19:var g=(r.flags&128)!==0;if(m=(c&i.childLanes)!==0,m||(_c(r,i,c,!1),m=(c&i.childLanes)!==0),g){if(m)return yv(r,i,c);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),W(Xn,Xn.current),m)break;return null;case 22:case 23:return i.lanes=0,dv(r,i,c);case 24:qa(i,Wn,r.memoizedState.cache)}return ba(r,i,c)}function bv(r,i,c){if(r!==null)if(r.memoizedProps!==i.pendingProps)rs=!0;else{if(!ip(r,c)&&(i.flags&128)===0)return rs=!1,ek(r,i,c);rs=(r.flags&131072)!==0}else rs=!1,Gt&&(i.flags&1048576)!==0&&Gy(i,xd,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var m=i.elementType,g=m._init;if(m=g(m._payload),i.type=m,typeof m=="function")pm(m)?(r=eo(m,r),i.tag=1,i=mv(null,i,m,r,c)):(i.tag=0,i=Jm(null,i,m,r,c));else{if(m!=null){if(g=m.$$typeof,g===D){i.tag=11,i=lv(null,i,m,r,c);break e}else if(g===M){i.tag=14,i=cv(null,i,m,r,c);break e}}throw i=J(m)||m,Error(s(306,i,""))}}return i;case 0:return Jm(r,i,i.type,i.pendingProps,c);case 1:return m=i.type,g=eo(m,i.pendingProps),mv(r,i,m,g,c);case 3:e:{if(ze(i,i.stateNode.containerInfo),r===null)throw Error(s(387));m=i.pendingProps;var v=i.memoizedState;g=v.element,Cm(r,i),Cc(i,m,null,c);var T=i.memoizedState;if(m=T.cache,qa(i,Wn,m),m!==v.cache&&jm(i,[Wn],c,!0),kc(),m=T.element,v.isDehydrated)if(v={element:m,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){i=pv(r,i,m,c);break e}else if(m!==g){g=ar(Error(s(424)),i),wc(g),i=pv(r,i,m,c);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(kn=Nr(r.firstChild),_s=i,Gt=!0,Xi=null,Hr=!0,c=Qb(i,null,m,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(vc(),m===g){i=ba(r,i,c);break e}cs(r,i,m,c)}i=i.child}return i;case 26:return zd(r,i),r===null?(c=jw(i.type,null,i.pendingProps,null))?i.memoizedState=c:Gt||(c=i.type,r=i.pendingProps,m=Zd(ye.current).createElement(c),m[be]=i,m[Ae]=r,ds(m,c,r),et(m),i.stateNode=m):i.memoizedState=jw(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return Ve(i),r===null&&Gt&&(m=i.stateNode=vw(i.type,i.pendingProps,ye.current),_s=i,Hr=!0,g=kn,ai(i.type)?(Fp=g,kn=Nr(m.firstChild)):kn=g),cs(r,i,i.pendingProps.children,c),zd(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&Gt&&((g=m=kn)&&(m=kk(m,i.type,i.pendingProps,Hr),m!==null?(i.stateNode=m,_s=i,kn=Nr(m.firstChild),Hr=!1,g=!0):g=!1),g||Gi(i)),Ve(i),g=i.type,v=i.pendingProps,T=r!==null?r.memoizedProps:null,m=v.children,Lp(g,v)?m=null:T!==null&&Lp(g,T)&&(i.flags|=32),i.memoizedState!==null&&(g=Pm(r,i,IT,null,null,c),Qc._currentValue=g),zd(r,i),cs(r,i,m,c),i.child;case 6:return r===null&&Gt&&((r=c=kn)&&(c=Ck(c,i.pendingProps,Hr),c!==null?(i.stateNode=c,_s=i,kn=null,r=!0):r=!1),r||Gi(i)),null;case 13:return gv(r,i,c);case 4:return ze(i,i.stateNode.containerInfo),m=i.pendingProps,r===null?i.child=al(i,null,m,c):cs(r,i,m,c),i.child;case 11:return lv(r,i,i.type,i.pendingProps,c);case 7:return cs(r,i,i.pendingProps,c),i.child;case 8:return cs(r,i,i.pendingProps.children,c),i.child;case 12:return cs(r,i,i.pendingProps.children,c),i.child;case 10:return m=i.pendingProps,qa(i,i.type,m.value),cs(r,i,m.children,c),i.child;case 9:return g=i.type._context,m=i.pendingProps.children,Qi(i),g=gs(g),m=m(g),i.flags|=1,cs(r,i,m,c),i.child;case 14:return cv(r,i,i.type,i.pendingProps,c);case 15:return uv(r,i,i.type,i.pendingProps,c);case 19:return yv(r,i,c);case 31:return m=i.pendingProps,c=i.mode,m={mode:m.mode,children:m.children},r===null?(c=Ud(m,c),c.ref=i.ref,i.child=c,c.return=i,i=c):(c=fa(r.child,m),c.ref=i.ref,i.child=c,c.return=i,i=c),i;case 22:return dv(r,i,c);case 24:return Qi(i),m=gs(Wn),r===null?(g=Em(),g===null&&(g=fn,v=Sm(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=c),g=v),i.memoizedState={parent:m,cache:g},km(i),qa(i,Wn,g)):((r.lanes&c)!==0&&(Cm(r,i),Cc(i,null,null,c),kc()),g=r.memoizedState,v=i.memoizedState,g.parent!==m?(g={parent:m,cache:m},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),qa(i,Wn,m)):(m=v.cache,qa(i,Wn,m),m!==g.cache&&jm(i,[Wn],c,!0))),cs(r,i,i.pendingProps.children,c),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function va(r){r.flags|=4}function vv(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!kw(i)){if(i=cr.current,i!==null&&((Bt&4194048)===Bt?Vr!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||i!==Vr))throw Ec=Tm,sb;r.flags|=8192}}function Bd(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Dt():536870912,r.lanes|=i,cl|=i)}function Lc(r,i){if(!Gt)switch(r.tailMode){case"hidden":i=r.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:m.sibling=null}}function vn(r){var i=r.alternate!==null&&r.alternate.child===r.child,c=0,m=0;if(i)for(var g=r.child;g!==null;)c|=g.lanes|g.childLanes,m|=g.subtreeFlags&65011712,m|=g.flags&65011712,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)c|=g.lanes|g.childLanes,m|=g.subtreeFlags,m|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=m,r.childLanes=c,i}function tk(r,i,c){var m=i.pendingProps;switch(bm(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vn(i),null;case 1:return vn(i),null;case 3:return c=i.stateNode,m=null,r!==null&&(m=r.memoizedState.cache),i.memoizedState.cache!==m&&(i.flags|=2048),ga(Wn),tt(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(bc(i)?va(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Zy())),vn(i),null;case 26:return c=i.memoizedState,r===null?(va(i),c!==null?(vn(i),vv(i,c)):(vn(i),i.flags&=-16777217)):c?c!==r.memoizedState?(va(i),vn(i),vv(i,c)):(vn(i),i.flags&=-16777217):(r.memoizedProps!==m&&va(i),vn(i),i.flags&=-16777217),null;case 27:Et(i),c=ye.current;var g=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==m&&va(i);else{if(!m){if(i.stateNode===null)throw Error(s(166));return vn(i),null}r=me.current,bc(i)?Ky(i):(r=vw(g,m,c),i.stateNode=r,va(i))}return vn(i),null;case 5:if(Et(i),c=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==m&&va(i);else{if(!m){if(i.stateNode===null)throw Error(s(166));return vn(i),null}if(r=me.current,bc(i))Ky(i);else{switch(g=Zd(ye.current),r){case 1:r=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:r=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":r=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":r=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":r=g.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof m.is=="string"?g.createElement("select",{is:m.is}):g.createElement("select"),m.multiple?r.multiple=!0:m.size&&(r.size=m.size);break;default:r=typeof m.is=="string"?g.createElement(c,{is:m.is}):g.createElement(c)}}r[be]=i,r[Ae]=m;e:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)r.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break e;for(;g.sibling===null;){if(g.return===null||g.return===i)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=r;e:switch(ds(r,c,m),c){case"button":case"input":case"select":case"textarea":r=!!m.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&va(i)}}return vn(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==m&&va(i);else{if(typeof m!="string"&&i.stateNode===null)throw Error(s(166));if(r=ye.current,bc(i)){if(r=i.stateNode,c=i.memoizedProps,m=null,g=_s,g!==null)switch(g.tag){case 27:case 5:m=g.memoizedProps}r[be]=i,r=!!(r.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||hw(r.nodeValue,c)),r||Gi(i)}else r=Zd(r).createTextNode(m),r[be]=i,i.stateNode=r}return vn(i),null;case 13:if(m=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(g=bc(i),m!==null&&m.dehydrated!==null){if(r===null){if(!g)throw Error(s(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[be]=i}else vc(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;vn(i),g=!1}else g=Zy(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(ya(i),i):(ya(i),null)}if(ya(i),(i.flags&128)!==0)return i.lanes=c,i;if(c=m!==null,r=r!==null&&r.memoizedState!==null,c){m=i.child,g=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(g=m.alternate.memoizedState.cachePool.pool);var v=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(v=m.memoizedState.cachePool.pool),v!==g&&(m.flags|=2048)}return c!==r&&c&&(i.child.flags|=8192),Bd(i,i.updateQueue),vn(i),null;case 4:return tt(),r===null&&Ap(i.stateNode.containerInfo),vn(i),null;case 10:return ga(i.type),vn(i),null;case 19:if(we(Xn),g=i.memoizedState,g===null)return vn(i),null;if(m=(i.flags&128)!==0,v=g.rendering,v===null)if(m)Lc(g,!1);else{if(Cn!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(v=Md(r),v!==null){for(i.flags|=128,Lc(g,!1),r=v.updateQueue,i.updateQueue=r,Bd(i,r),i.subtreeFlags=0,r=c,c=i.child;c!==null;)Xy(c,r),c=c.sibling;return W(Xn,Xn.current&1|2),i.child}r=r.sibling}g.tail!==null&&kt()>Vd&&(i.flags|=128,m=!0,Lc(g,!1),i.lanes=4194304)}else{if(!m)if(r=Md(v),r!==null){if(i.flags|=128,m=!0,r=r.updateQueue,i.updateQueue=r,Bd(i,r),Lc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!Gt)return vn(i),null}else 2*kt()-g.renderingStartTime>Vd&&c!==536870912&&(i.flags|=128,m=!0,Lc(g,!1),i.lanes=4194304);g.isBackwards?(v.sibling=i.child,i.child=v):(r=g.last,r!==null?r.sibling=v:i.child=v,g.last=v)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=kt(),i.sibling=null,r=Xn.current,W(Xn,m?r&1|2:r&1),i):(vn(i),null);case 22:case 23:return ya(i),Dm(),m=i.memoizedState!==null,r!==null?r.memoizedState!==null!==m&&(i.flags|=8192):m&&(i.flags|=8192),m?(c&536870912)!==0&&(i.flags&128)===0&&(vn(i),i.subtreeFlags&6&&(i.flags|=8192)):vn(i),c=i.updateQueue,c!==null&&Bd(i,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),m=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(m=i.memoizedState.cachePool.pool),m!==c&&(i.flags|=2048),r!==null&&we(Zi),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),ga(Wn),vn(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function nk(r,i){switch(bm(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return ga(Wn),tt(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return Et(i),null;case 13:if(ya(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));vc()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return we(Xn),null;case 4:return tt(),null;case 10:return ga(i.type),null;case 22:case 23:return ya(i),Dm(),r!==null&&we(Zi),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return ga(Wn),null;case 25:return null;default:return null}}function wv(r,i){switch(bm(i),i.tag){case 3:ga(Wn),tt();break;case 26:case 27:case 5:Et(i);break;case 4:tt();break;case 13:ya(i);break;case 19:we(Xn);break;case 10:ga(i.type);break;case 22:case 23:ya(i),Dm(),r!==null&&we(Zi);break;case 24:ga(Wn)}}function zc(r,i){try{var c=i.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&r)===r){m=void 0;var v=c.create,T=c.inst;m=v(),T.destroy=m}c=c.next}while(c!==g)}}catch(P){ln(i,i.return,P)}}function Qa(r,i,c){try{var m=i.updateQueue,g=m!==null?m.lastEffect:null;if(g!==null){var v=g.next;m=v;do{if((m.tag&r)===r){var T=m.inst,P=T.destroy;if(P!==void 0){T.destroy=void 0,g=i;var I=c,ce=P;try{ce()}catch(_e){ln(g,I,_e)}}}m=m.next}while(m!==v)}}catch(_e){ln(i,i.return,_e)}}function _v(r){var i=r.updateQueue;if(i!==null){var c=r.stateNode;try{cb(i,c)}catch(m){ln(r,r.return,m)}}}function jv(r,i,c){c.props=eo(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(m){ln(r,i,m)}}function Uc(r,i){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var m=r.stateNode;break;case 30:m=r.stateNode;break;default:m=r.stateNode}typeof c=="function"?r.refCleanup=c(m):c.current=m}}catch(g){ln(r,i,g)}}function $r(r,i){var c=r.ref,m=r.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(g){ln(r,i,g)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){ln(r,i,g)}else c.current=null}function Sv(r){var i=r.type,c=r.memoizedProps,m=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break e;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(g){ln(r,r.return,g)}}function op(r,i,c){try{var m=r.stateNode;jk(m,r.type,c,i),m[Ae]=i}catch(g){ln(r,r.return,g)}}function Nv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ai(r.type)||r.tag===4}function lp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Nv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ai(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function cp(r,i,c){var m=r.tag;if(m===5||m===6)r=r.stateNode,i?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,i):(i=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,i.appendChild(r),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=Qd));else if(m!==4&&(m===27&&ai(r.type)&&(c=r.stateNode,i=null),r=r.child,r!==null))for(cp(r,i,c),r=r.sibling;r!==null;)cp(r,i,c),r=r.sibling}function Fd(r,i,c){var m=r.tag;if(m===5||m===6)r=r.stateNode,i?c.insertBefore(r,i):c.appendChild(r);else if(m!==4&&(m===27&&ai(r.type)&&(c=r.stateNode),r=r.child,r!==null))for(Fd(r,i,c),r=r.sibling;r!==null;)Fd(r,i,c),r=r.sibling}function Ev(r){var i=r.stateNode,c=r.memoizedProps;try{for(var m=r.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);ds(i,m,c),i[be]=r,i[Ae]=c}catch(v){ln(r,r.return,v)}}var wa=!1,Rn=!1,up=!1,Tv=typeof WeakSet=="function"?WeakSet:Set,as=null;function sk(r,i){if(r=r.containerInfo,Mp=rf,r=Uy(r),lm(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var g=m.anchorOffset,v=m.focusNode;m=m.focusOffset;try{c.nodeType,v.nodeType}catch(ut){c=null;break e}var T=0,P=-1,I=-1,ce=0,_e=0,Ee=r,he=null;t:for(;;){for(var pe;Ee!==c||g!==0&&Ee.nodeType!==3||(P=T+g),Ee!==v||m!==0&&Ee.nodeType!==3||(I=T+m),Ee.nodeType===3&&(T+=Ee.nodeValue.length),(pe=Ee.firstChild)!==null;)he=Ee,Ee=pe;for(;;){if(Ee===r)break t;if(he===c&&++ce===g&&(P=T),he===v&&++_e===m&&(I=T),(pe=Ee.nextSibling)!==null)break;Ee=he,he=Ee.parentNode}Ee=pe}c=P===-1||I===-1?null:{start:P,end:I}}else c=null}c=c||{start:0,end:0}}else c=null;for(Pp={focusedElem:r,selectionRange:c},rf=!1,as=i;as!==null;)if(i=as,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,as=r;else for(;as!==null;){switch(i=as,v=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&v!==null){r=void 0,c=i,g=v.memoizedProps,v=v.memoizedState,m=c.stateNode;try{var ht=eo(c.type,g,c.elementType===c.type);r=m.getSnapshotBeforeUpdate(ht,v),m.__reactInternalSnapshotBeforeUpdate=r}catch(ut){ln(c,c.return,ut)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,c=r.nodeType,c===9)Up(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Up(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,as=r;break}as=i.return}}function kv(r,i,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:Za(r,c),m&4&&zc(5,c);break;case 1:if(Za(r,c),m&4)if(r=c.stateNode,i===null)try{r.componentDidMount()}catch(T){ln(c,c.return,T)}else{var g=eo(c.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(g,i,r.__reactInternalSnapshotBeforeUpdate)}catch(T){ln(c,c.return,T)}}m&64&&_v(c),m&512&&Uc(c,c.return);break;case 3:if(Za(r,c),m&64&&(r=c.updateQueue,r!==null)){if(i=null,c.child!==null)switch(c.child.tag){case 27:case 5:i=c.child.stateNode;break;case 1:i=c.child.stateNode}try{cb(r,i)}catch(T){ln(c,c.return,T)}}break;case 27:i===null&&m&4&&Ev(c);case 26:case 5:Za(r,c),i===null&&m&4&&Sv(c),m&512&&Uc(c,c.return);break;case 12:Za(r,c);break;case 13:Za(r,c),m&4&&Av(r,c),m&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=fk.bind(null,c),Ok(r,c))));break;case 22:if(m=c.memoizedState!==null||wa,!m){i=i!==null&&i.memoizedState!==null||Rn,g=wa;var v=Rn;wa=m,(Rn=i)&&!v?Ja(r,c,(c.subtreeFlags&8772)!==0):Za(r,c),wa=g,Rn=v}break;case 30:break;default:Za(r,c)}}function Cv(r){var i=r.alternate;i!==null&&(r.alternate=null,Cv(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&pt(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var xn=null,Ms=!1;function _a(r,i,c){for(c=c.child;c!==null;)Ov(r,i,c),c=c.sibling}function Ov(r,i,c){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(Ue,c)}catch(v){}switch(c.tag){case 26:Rn||$r(c,i),_a(r,i,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Rn||$r(c,i);var m=xn,g=Ms;ai(c.type)&&(xn=c.stateNode,Ms=!1),_a(r,i,c),Wc(c.stateNode),xn=m,Ms=g;break;case 5:Rn||$r(c,i);case 6:if(m=xn,g=Ms,xn=null,_a(r,i,c),xn=m,Ms=g,xn!==null)if(Ms)try{(xn.nodeType===9?xn.body:xn.nodeName==="HTML"?xn.ownerDocument.body:xn).removeChild(c.stateNode)}catch(v){ln(c,i,v)}else try{xn.removeChild(c.stateNode)}catch(v){ln(c,i,v)}break;case 18:xn!==null&&(Ms?(r=xn,yw(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),tu(r)):yw(xn,c.stateNode));break;case 4:m=xn,g=Ms,xn=c.stateNode.containerInfo,Ms=!0,_a(r,i,c),xn=m,Ms=g;break;case 0:case 11:case 14:case 15:Rn||Qa(2,c,i),Rn||Qa(4,c,i),_a(r,i,c);break;case 1:Rn||($r(c,i),m=c.stateNode,typeof m.componentWillUnmount=="function"&&jv(c,i,m)),_a(r,i,c);break;case 21:_a(r,i,c);break;case 22:Rn=(m=Rn)||c.memoizedState!==null,_a(r,i,c),Rn=m;break;default:_a(r,i,c)}}function Av(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{tu(r)}catch(c){ln(i,i.return,c)}}function rk(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new Tv),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new Tv),i;default:throw Error(s(435,r.tag))}}function dp(r,i){var c=rk(r);i.forEach(function(m){var g=hk.bind(null,r,m);c.has(m)||(c.add(m),m.then(g,g))})}function Ys(r,i){var c=i.deletions;if(c!==null)for(var m=0;m<c.length;m++){var g=c[m],v=r,T=i,P=T;e:for(;P!==null;){switch(P.tag){case 27:if(ai(P.type)){xn=P.stateNode,Ms=!1;break e}break;case 5:xn=P.stateNode,Ms=!1;break e;case 3:case 4:xn=P.stateNode.containerInfo,Ms=!0;break e}P=P.return}if(xn===null)throw Error(s(160));Ov(v,T,g),xn=null,Ms=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Rv(i,r),i=i.sibling}var Sr=null;function Rv(r,i){var c=r.alternate,m=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Ys(i,r),Is(r),m&4&&(Qa(3,r,r.return),zc(3,r),Qa(5,r,r.return));break;case 1:Ys(i,r),Is(r),m&512&&(Rn||c===null||$r(c,c.return)),m&64&&wa&&(r=r.updateQueue,r!==null&&(m=r.callbacks,m!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var g=Sr;if(Ys(i,r),Is(r),m&512&&(Rn||c===null||$r(c,c.return)),m&4){var v=c!==null?c.memoizedState:null;if(m=r.memoizedState,c===null)if(m===null)if(r.stateNode===null){e:{m=r.type,c=r.memoizedProps,g=g.ownerDocument||g;t:switch(m){case"title":v=g.getElementsByTagName("title")[0],(!v||v[Je]||v[be]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(m),g.head.insertBefore(v,g.querySelector("head > title"))),ds(v,m,c),v[be]=r,et(v),m=v;break e;case"link":var T=Ew("link","href",g).get(m+(c.href||""));if(T){for(var P=0;P<T.length;P++)if(v=T[P],v.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&v.getAttribute("rel")===(c.rel==null?null:c.rel)&&v.getAttribute("title")===(c.title==null?null:c.title)&&v.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){T.splice(P,1);break t}}v=g.createElement(m),ds(v,m,c),g.head.appendChild(v);break;case"meta":if(T=Ew("meta","content",g).get(m+(c.content||""))){for(P=0;P<T.length;P++)if(v=T[P],v.getAttribute("content")===(c.content==null?null:""+c.content)&&v.getAttribute("name")===(c.name==null?null:c.name)&&v.getAttribute("property")===(c.property==null?null:c.property)&&v.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&v.getAttribute("charset")===(c.charSet==null?null:c.charSet)){T.splice(P,1);break t}}v=g.createElement(m),ds(v,m,c),g.head.appendChild(v);break;default:throw Error(s(468,m))}v[be]=r,et(v),m=v}r.stateNode=m}else Tw(g,r.type,r.stateNode);else r.stateNode=Nw(g,m,r.memoizedProps);else v!==m?(v===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):v.count--,m===null?Tw(g,r.type,r.stateNode):Nw(g,m,r.memoizedProps)):m===null&&r.stateNode!==null&&op(r,r.memoizedProps,c.memoizedProps)}break;case 27:Ys(i,r),Is(r),m&512&&(Rn||c===null||$r(c,c.return)),c!==null&&m&4&&op(r,r.memoizedProps,c.memoizedProps);break;case 5:if(Ys(i,r),Is(r),m&512&&(Rn||c===null||$r(c,c.return)),r.flags&32){g=r.stateNode;try{Ua(g,"")}catch(pe){ln(r,r.return,pe)}}m&4&&r.stateNode!=null&&(g=r.memoizedProps,op(r,g,c!==null?c.memoizedProps:g)),m&1024&&(up=!0);break;case 6:if(Ys(i,r),Is(r),m&4){if(r.stateNode===null)throw Error(s(162));m=r.memoizedProps,c=r.stateNode;try{c.nodeValue=m}catch(pe){ln(r,r.return,pe)}}break;case 3:if(tf=null,g=Sr,Sr=Jd(i.containerInfo),Ys(i,r),Sr=g,Is(r),m&4&&c!==null&&c.memoizedState.isDehydrated)try{tu(i.containerInfo)}catch(pe){ln(r,r.return,pe)}up&&(up=!1,Dv(r));break;case 4:m=Sr,Sr=Jd(r.stateNode.containerInfo),Ys(i,r),Is(r),Sr=m;break;case 12:Ys(i,r),Is(r);break;case 13:Ys(i,r),Is(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(xp=kt()),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,dp(r,m)));break;case 22:g=r.memoizedState!==null;var I=c!==null&&c.memoizedState!==null,ce=wa,_e=Rn;if(wa=ce||g,Rn=_e||I,Ys(i,r),Rn=_e,wa=ce,Is(r),m&8192)e:for(i=r.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(c===null||I||wa||Rn||to(r)),c=null,i=r;;){if(i.tag===5||i.tag===26){if(c===null){I=c=i;try{if(v=I.stateNode,g)T=v.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{P=I.stateNode;var Ee=I.memoizedProps.style,he=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null;P.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(pe){ln(I,I.return,pe)}}}else if(i.tag===6){if(c===null){I=i;try{I.stateNode.nodeValue=g?"":I.memoizedProps}catch(pe){ln(I,I.return,pe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;c===i&&(c=null),i=i.return}c===i&&(c=null),i.sibling.return=i.return,i=i.sibling}m&4&&(m=r.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,dp(r,c))));break;case 19:Ys(i,r),Is(r),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,dp(r,m)));break;case 30:break;case 21:break;default:Ys(i,r),Is(r)}}function Is(r){var i=r.flags;if(i&2){try{for(var c,m=r.return;m!==null;){if(Nv(m)){c=m;break}m=m.return}if(c==null)throw Error(s(160));switch(c.tag){case 27:var g=c.stateNode,v=lp(r);Fd(r,v,g);break;case 5:var T=c.stateNode;c.flags&32&&(Ua(T,""),c.flags&=-33);var P=lp(r);Fd(r,P,T);break;case 3:case 4:var I=c.stateNode.containerInfo,ce=lp(r);cp(r,ce,I);break;default:throw Error(s(161))}}catch(_e){ln(r,r.return,_e)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Dv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;Dv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function Za(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)kv(r,i.alternate,i),i=i.sibling}function to(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:Qa(4,i,i.return),to(i);break;case 1:$r(i,i.return);var c=i.stateNode;typeof c.componentWillUnmount=="function"&&jv(i,i.return,c),to(i);break;case 27:Wc(i.stateNode);case 26:case 5:$r(i,i.return),to(i);break;case 22:i.memoizedState===null&&to(i);break;case 30:to(i);break;default:to(i)}r=r.sibling}}function Ja(r,i,c){for(c=c&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var m=i.alternate,g=r,v=i,T=v.flags;switch(v.tag){case 0:case 11:case 15:Ja(g,v,c),zc(4,v);break;case 1:if(Ja(g,v,c),m=v,g=m.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(ce){ln(m,m.return,ce)}if(m=v,g=m.updateQueue,g!==null){var P=m.stateNode;try{var I=g.shared.hiddenCallbacks;if(I!==null)for(g.shared.hiddenCallbacks=null,g=0;g<I.length;g++)lb(I[g],P)}catch(ce){ln(m,m.return,ce)}}c&&T&64&&_v(v),Uc(v,v.return);break;case 27:Ev(v);case 26:case 5:Ja(g,v,c),c&&m===null&&T&4&&Sv(v),Uc(v,v.return);break;case 12:Ja(g,v,c);break;case 13:Ja(g,v,c),c&&T&4&&Av(g,v);break;case 22:v.memoizedState===null&&Ja(g,v,c),Uc(v,v.return);break;case 30:break;default:Ja(g,v,c)}i=i.sibling}}function fp(r,i){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&jc(c))}function hp(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&jc(r))}function qr(r,i,c,m){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Mv(r,i,c,m),i=i.sibling}function Mv(r,i,c,m){var g=i.flags;switch(i.tag){case 0:case 11:case 15:qr(r,i,c,m),g&2048&&zc(9,i);break;case 1:qr(r,i,c,m);break;case 3:qr(r,i,c,m),g&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&jc(r)));break;case 12:if(g&2048){qr(r,i,c,m),r=i.stateNode;try{var v=i.memoizedProps,T=v.id,P=v.onPostCommit;typeof P=="function"&&P(T,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(I){ln(i,i.return,I)}}else qr(r,i,c,m);break;case 13:qr(r,i,c,m);break;case 23:break;case 22:v=i.stateNode,T=i.alternate,i.memoizedState!==null?v._visibility&2?qr(r,i,c,m):Bc(r,i):v._visibility&2?qr(r,i,c,m):(v._visibility|=2,il(r,i,c,m,(i.subtreeFlags&10256)!==0)),g&2048&&fp(T,i);break;case 24:qr(r,i,c,m),g&2048&&hp(i.alternate,i);break;default:qr(r,i,c,m)}}function il(r,i,c,m,g){for(g=g&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var v=r,T=i,P=c,I=m,ce=T.flags;switch(T.tag){case 0:case 11:case 15:il(v,T,P,I,g),zc(8,T);break;case 23:break;case 22:var _e=T.stateNode;T.memoizedState!==null?_e._visibility&2?il(v,T,P,I,g):Bc(v,T):(_e._visibility|=2,il(v,T,P,I,g)),g&&ce&2048&&fp(T.alternate,T);break;case 24:il(v,T,P,I,g),g&&ce&2048&&hp(T.alternate,T);break;default:il(v,T,P,I,g)}i=i.sibling}}function Bc(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var c=r,m=i,g=m.flags;switch(m.tag){case 22:Bc(c,m),g&2048&&fp(m.alternate,m);break;case 24:Bc(c,m),g&2048&&hp(m.alternate,m);break;default:Bc(c,m)}i=i.sibling}}var Fc=8192;function ol(r){if(r.subtreeFlags&Fc)for(r=r.child;r!==null;)Pv(r),r=r.sibling}function Pv(r){switch(r.tag){case 26:ol(r),r.flags&Fc&&r.memoizedState!==null&&$k(Sr,r.memoizedState,r.memoizedProps);break;case 5:ol(r);break;case 3:case 4:var i=Sr;Sr=Jd(r.stateNode.containerInfo),ol(r),Sr=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=Fc,Fc=16777216,ol(r),Fc=i):ol(r));break;default:ol(r)}}function Lv(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Hc(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var c=0;c<i.length;c++){var m=i[c];as=m,Uv(m,r)}Lv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)zv(r),r=r.sibling}function zv(r){switch(r.tag){case 0:case 11:case 15:Hc(r),r.flags&2048&&Qa(9,r,r.return);break;case 3:Hc(r);break;case 12:Hc(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Hd(r)):Hc(r);break;default:Hc(r)}}function Hd(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var c=0;c<i.length;c++){var m=i[c];as=m,Uv(m,r)}Lv(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:Qa(8,i,i.return),Hd(i);break;case 22:c=i.stateNode,c._visibility&2&&(c._visibility&=-3,Hd(i));break;default:Hd(i)}r=r.sibling}}function Uv(r,i){for(;as!==null;){var c=as;switch(c.tag){case 0:case 11:case 15:Qa(8,c,i);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:jc(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,as=m;else e:for(c=r;as!==null;){m=as;var g=m.sibling,v=m.return;if(Cv(m),m===c){as=null;break e}if(g!==null){g.return=v,as=g;break e}as=v}}}var ak={getCacheForType:function(r){var i=gs(Wn),c=i.data.get(r);return c===void 0&&(c=r(),i.data.set(r,c)),c}},ik=typeof WeakMap=="function"?WeakMap:Map,Kt=0,fn=null,Mt=null,Bt=0,Qt=0,Ws=null,ei=!1,ll=!1,mp=!1,ja=0,Cn=0,ti=0,no=0,pp=0,ur=0,cl=0,Vc=null,Ps=null,gp=!1,xp=0,Vd=1/0,$d=null,ni=null,us=0,si=null,ul=null,dl=0,yp=0,bp=null,Bv=null,$c=0,vp=null;function Xs(){if((Kt&2)!==0&&Bt!==0)return Bt&-Bt;if(B.T!==null){var r=Zo;return r!==0?r:Tp()}return X()}function Fv(){ur===0&&(ur=(Bt&536870912)===0||Gt?nt():536870912);var r=cr.current;return r!==null&&(r.flags|=32),ur}function Gs(r,i,c){(r===fn&&(Qt===2||Qt===9)||r.cancelPendingCommit!==null)&&(fl(r,0),ri(r,Bt,ur,!1)),jt(r,c),((Kt&2)===0||r!==fn)&&(r===fn&&((Kt&2)===0&&(no|=c),Cn===4&&ri(r,Bt,ur,!1)),Yr(r))}function Hv(r,i,c){if((Kt&6)!==0)throw Error(s(327));var m=!c&&(i&124)===0&&(i&r.expiredLanes)===0||qn(r,i),g=m?ck(r,i):jp(r,i,!0),v=m;do{if(g===0){ll&&!m&&ri(r,i,0,!1);break}else{if(c=r.current.alternate,v&&!ok(c)){g=jp(r,i,!1),v=!1;continue}if(g===2){if(v=i,r.errorRecoveryDisabledLanes&v)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var P=r;g=Vc;var I=P.current.memoizedState.isDehydrated;if(I&&(fl(P,T).flags|=256),T=jp(P,T,!1),T!==2){if(mp&&!I){P.errorRecoveryDisabledLanes|=v,no|=v,g=4;break e}v=Ps,Ps=g,v!==null&&(Ps===null?Ps=v:Ps.push.apply(Ps,v))}g=T}if(v=!1,g!==2)continue}}if(g===1){fl(r,0),ri(r,i,0,!0);break}e:{switch(m=r,v=g,v){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ri(m,i,ur,!ei);break e;case 2:Ps=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(g=xp+300-kt(),10<g)){if(ri(m,i,ur,!ei),ws(m,0,!0)!==0)break e;m.timeoutHandle=gw(Vv.bind(null,m,c,Ps,$d,gp,i,ur,no,cl,ei,v,2,-0,0),g);break e}Vv(m,c,Ps,$d,gp,i,ur,no,cl,ei,v,0,-0,0)}}break}while(!0);Yr(r)}function Vv(r,i,c,m,g,v,T,P,I,ce,_e,Ee,he,pe){if(r.timeoutHandle=-1,Ee=i.subtreeFlags,(Ee&8192||(Ee&16785408)===16785408)&&(Kc={stylesheets:null,count:0,unsuspend:Vk},Pv(i),Ee=qk(),Ee!==null)){r.cancelPendingCommit=Ee(Gv.bind(null,r,i,v,c,m,g,T,P,I,_e,1,he,pe)),ri(r,v,T,!ce);return}Gv(r,i,v,c,m,g,T,P,I)}function ok(r){for(var i=r;;){var c=i.tag;if((c===0||c===11||c===15)&&i.flags&16384&&(c=i.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var g=c[m],v=g.getSnapshot;g=g.value;try{if(!$s(v(),g))return!1}catch(T){return!1}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ri(r,i,c,m){i&=~pp,i&=~no,r.suspendedLanes|=i,r.pingedLanes&=~i,m&&(r.warmLanes|=i),m=r.expirationTimes;for(var g=i;0<g;){var v=31-bt(g),T=1<<v;m[v]=-1,g&=~T}c!==0&&pn(r,c,i)}function qd(){return(Kt&6)===0?(qc(0),!1):!0}function wp(){if(Mt!==null){if(Qt===0)var r=Mt.return;else r=Mt,pa=Ki=null,Um(r),rl=null,Mc=0,r=Mt;for(;r!==null;)wv(r.alternate,r),r=r.return;Mt=null}}function fl(r,i){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,Nk(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),wp(),fn=r,Mt=c=fa(r.current,null),Bt=i,Qt=0,Ws=null,ei=!1,ll=qn(r,i),mp=!1,cl=ur=pp=no=ti=Cn=0,Ps=Vc=null,gp=!1,(i&8)!==0&&(i|=i&32);var m=r.entangledLanes;if(m!==0)for(r=r.entanglements,m&=i;0<m;){var g=31-bt(m),v=1<<g;i|=r[g],m&=~v}return ja=i,fd(),c}function $v(r,i){Ct=null,B.H=Ad,i===Nc||i===wd?(i=ib(),Qt=3):i===sb?(i=ib(),Qt=4):Qt=i===ov?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ws=i,Mt===null&&(Cn=1,Ld(r,ar(i,r.current)))}function qv(){var r=B.H;return B.H=Ad,r===null?Ad:r}function Yv(){var r=B.A;return B.A=ak,r}function _p(){Cn=4,ei||(Bt&4194048)!==Bt&&cr.current!==null||(ll=!0),(ti&134217727)===0&&(no&134217727)===0||fn===null||ri(fn,Bt,ur,!1)}function jp(r,i,c){var m=Kt;Kt|=2;var g=qv(),v=Yv();(fn!==r||Bt!==i)&&($d=null,fl(r,i)),i=!1;var T=Cn;e:do try{if(Qt!==0&&Mt!==null){var P=Mt,I=Ws;switch(Qt){case 8:wp(),T=6;break e;case 3:case 2:case 9:case 6:cr.current===null&&(i=!0);var ce=Qt;if(Qt=0,Ws=null,hl(r,P,I,ce),c&&ll){T=0;break e}break;default:ce=Qt,Qt=0,Ws=null,hl(r,P,I,ce)}}lk(),T=Cn;break}catch(_e){$v(r,_e)}while(!0);return i&&r.shellSuspendCounter++,pa=Ki=null,Kt=m,B.H=g,B.A=v,Mt===null&&(fn=null,Bt=0,fd()),T}function lk(){for(;Mt!==null;)Iv(Mt)}function ck(r,i){var c=Kt;Kt|=2;var m=qv(),g=Yv();fn!==r||Bt!==i?($d=null,Vd=kt()+500,fl(r,i)):ll=qn(r,i);e:do try{if(Qt!==0&&Mt!==null){i=Mt;var v=Ws;t:switch(Qt){case 1:Qt=0,Ws=null,hl(r,i,v,1);break;case 2:case 9:if(rb(v)){Qt=0,Ws=null,Wv(i);break}i=function(){Qt!==2&&Qt!==9||fn!==r||(Qt=7),Yr(r)},v.then(i,i);break e;case 3:Qt=7;break e;case 4:Qt=5;break e;case 7:rb(v)?(Qt=0,Ws=null,Wv(i)):(Qt=0,Ws=null,hl(r,i,v,7));break;case 5:var T=null;switch(Mt.tag){case 26:T=Mt.memoizedState;case 5:case 27:var P=Mt;if(!T||kw(T)){Qt=0,Ws=null;var I=P.sibling;if(I!==null)Mt=I;else{var ce=P.return;ce!==null?(Mt=ce,Yd(ce)):Mt=null}break t}}Qt=0,Ws=null,hl(r,i,v,5);break;case 6:Qt=0,Ws=null,hl(r,i,v,6);break;case 8:wp(),Cn=6;break e;default:throw Error(s(462))}}uk();break}catch(_e){$v(r,_e)}while(!0);return pa=Ki=null,B.H=m,B.A=g,Kt=c,Mt!==null?0:(fn=null,Bt=0,fd(),Cn)}function uk(){for(;Mt!==null&&!mt();)Iv(Mt)}function Iv(r){var i=bv(r.alternate,r,ja);r.memoizedProps=r.pendingProps,i===null?Yd(r):Mt=i}function Wv(r){var i=r,c=i.alternate;switch(i.tag){case 15:case 0:i=hv(c,i,i.pendingProps,i.type,void 0,Bt);break;case 11:i=hv(c,i,i.pendingProps,i.type.render,i.ref,Bt);break;case 5:Um(i);default:wv(c,i),i=Mt=Xy(i,ja),i=bv(c,i,ja)}r.memoizedProps=r.pendingProps,i===null?Yd(r):Mt=i}function hl(r,i,c,m){pa=Ki=null,Um(i),rl=null,Mc=0;var g=i.return;try{if(JT(r,g,i,c,Bt)){Cn=1,Ld(r,ar(c,r.current)),Mt=null;return}}catch(v){if(g!==null)throw Mt=g,v;Cn=1,Ld(r,ar(c,r.current)),Mt=null;return}i.flags&32768?(Gt||m===1?r=!0:ll||(Bt&536870912)!==0?r=!1:(ei=r=!0,(m===2||m===9||m===3||m===6)&&(m=cr.current,m!==null&&m.tag===13&&(m.flags|=16384))),Xv(i,r)):Yd(i)}function Yd(r){var i=r;do{if((i.flags&32768)!==0){Xv(i,ei);return}r=i.return;var c=tk(i.alternate,i,ja);if(c!==null){Mt=c;return}if(i=i.sibling,i!==null){Mt=i;return}Mt=i=r}while(i!==null);Cn===0&&(Cn=5)}function Xv(r,i){do{var c=nk(r.alternate,r);if(c!==null){c.flags&=32767,Mt=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!i&&(r=r.sibling,r!==null)){Mt=r;return}Mt=r=c}while(r!==null);Cn=6,Mt=null}function Gv(r,i,c,m,g,v,T,P,I){r.cancelPendingCommit=null;do Id();while(us!==0);if((Kt&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(v=i.lanes|i.childLanes,v|=hm,Jt(r,c,v,T,P,I),r===fn&&(Mt=fn=null,Bt=0),ul=i,si=r,dl=c,yp=v,bp=g,Bv=m,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,mk(oe,function(){return ew(),null})):(r.callbackNode=null,r.callbackPriority=0),m=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||m){m=B.T,B.T=null,g=Y.p,Y.p=2,T=Kt,Kt|=4;try{sk(r,i,c)}finally{Kt=T,Y.p=g,B.T=m}}us=1,Kv(),Qv(),Zv()}}function Kv(){if(us===1){us=0;var r=si,i=ul,c=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||c){c=B.T,B.T=null;var m=Y.p;Y.p=2;var g=Kt;Kt|=4;try{Rv(i,r);var v=Pp,T=Uy(r.containerInfo),P=v.focusedElem,I=v.selectionRange;if(T!==P&&P&&P.ownerDocument&&zy(P.ownerDocument.documentElement,P)){if(I!==null&&lm(P)){var ce=I.start,_e=I.end;if(_e===void 0&&(_e=ce),"selectionStart"in P)P.selectionStart=ce,P.selectionEnd=Math.min(_e,P.value.length);else{var Ee=P.ownerDocument||document,he=Ee&&Ee.defaultView||window;if(he.getSelection){var pe=he.getSelection(),ht=P.textContent.length,ut=Math.min(I.start,ht),rn=I.end===void 0?ut:Math.min(I.end,ht);!pe.extend&&ut>rn&&(T=rn,rn=ut,ut=T);var se=Ly(P,ut),Z=Ly(P,rn);if(se&&Z&&(pe.rangeCount!==1||pe.anchorNode!==se.node||pe.anchorOffset!==se.offset||pe.focusNode!==Z.node||pe.focusOffset!==Z.offset)){var le=Ee.createRange();le.setStart(se.node,se.offset),pe.removeAllRanges(),ut>rn?(pe.addRange(le),pe.extend(Z.node,Z.offset)):(le.setEnd(Z.node,Z.offset),pe.addRange(le))}}}}for(Ee=[],pe=P;pe=pe.parentNode;)pe.nodeType===1&&Ee.push({element:pe,left:pe.scrollLeft,top:pe.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<Ee.length;P++){var Ne=Ee[P];Ne.element.scrollLeft=Ne.left,Ne.element.scrollTop=Ne.top}}rf=!!Mp,Pp=Mp=null}finally{Kt=g,Y.p=m,B.T=c}}r.current=i,us=2}}function Qv(){if(us===2){us=0;var r=si,i=ul,c=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||c){c=B.T,B.T=null;var m=Y.p;Y.p=2;var g=Kt;Kt|=4;try{kv(r,i.alternate,i)}finally{Kt=g,Y.p=m,B.T=c}}us=3}}function Zv(){if(us===4||us===3){us=0,Yt();var r=si,i=ul,c=dl,m=Bv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?us=5:(us=0,ul=si=null,Jv(r,r.pendingLanes));var g=r.pendingLanes;if(g===0&&(ni=null),Yn(c),i=i.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(Ue,i,void 0,(i.current.flags&128)===128)}catch(I){}if(m!==null){i=B.T,g=Y.p,Y.p=2,B.T=null;try{for(var v=r.onRecoverableError,T=0;T<m.length;T++){var P=m[T];v(P.value,{componentStack:P.stack})}}finally{B.T=i,Y.p=g}}(dl&3)!==0&&Id(),Yr(r),g=r.pendingLanes,(c&4194090)!==0&&(g&42)!==0?r===vp?$c++:($c=0,vp=r):$c=0,qc(0)}}function Jv(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,jc(i)))}function Id(r){return Kv(),Qv(),Zv(),ew()}function ew(){if(us!==5)return!1;var r=si,i=yp;yp=0;var c=Yn(dl),m=B.T,g=Y.p;try{Y.p=32>c?32:c,B.T=null,c=bp,bp=null;var v=si,T=dl;if(us=0,ul=si=null,dl=0,(Kt&6)!==0)throw Error(s(331));var P=Kt;if(Kt|=4,zv(v.current),Mv(v,v.current,T,c),Kt=P,qc(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(Ue,v)}catch(I){}return!0}finally{Y.p=g,B.T=m,Jv(r,i)}}function tw(r,i,c){i=ar(c,i),i=Zm(r.stateNode,i,2),r=Wa(r,i,2),r!==null&&(jt(r,2),Yr(r))}function ln(r,i,c){if(r.tag===3)tw(r,r,c);else for(;i!==null;){if(i.tag===3){tw(i,r,c);break}else if(i.tag===1){var m=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ni===null||!ni.has(m))){r=ar(c,r),c=av(2),m=Wa(i,c,2),m!==null&&(iv(c,m,i,r),jt(m,2),Yr(m));break}}i=i.return}}function Sp(r,i,c){var m=r.pingCache;if(m===null){m=r.pingCache=new ik;var g=new Set;m.set(i,g)}else g=m.get(i),g===void 0&&(g=new Set,m.set(i,g));g.has(c)||(mp=!0,g.add(c),r=dk.bind(null,r,i,c),i.then(r,r))}function dk(r,i,c){var m=r.pingCache;m!==null&&m.delete(i),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,fn===r&&(Bt&c)===c&&(Cn===4||Cn===3&&(Bt&62914560)===Bt&&300>kt()-xp?(Kt&2)===0&&fl(r,0):pp|=c,cl===Bt&&(cl=0)),Yr(r)}function nw(r,i){i===0&&(i=Dt()),r=Xo(r,i),r!==null&&(jt(r,i),Yr(r))}function fk(r){var i=r.memoizedState,c=0;i!==null&&(c=i.retryLane),nw(r,c)}function hk(r,i){var c=0;switch(r.tag){case 13:var m=r.stateNode,g=r.memoizedState;g!==null&&(c=g.retryLane);break;case 19:m=r.stateNode;break;case 22:m=r.stateNode._retryCache;break;default:throw Error(s(314))}m!==null&&m.delete(i),nw(r,c)}function mk(r,i){return yt(r,i)}var Wd=null,ml=null,Np=!1,Xd=!1,Ep=!1,so=0;function Yr(r){r!==ml&&r.next===null&&(ml===null?Wd=ml=r:ml=ml.next=r),Xd=!0,Np||(Np=!0,gk())}function qc(r,i){if(!Ep&&Xd){Ep=!0;do for(var c=!1,m=Wd;m!==null;){if(r!==0){var g=m.pendingLanes;if(g===0)var v=0;else{var T=m.suspendedLanes,P=m.pingedLanes;v=(1<<31-bt(42|r)+1)-1,v&=g&~(T&~P),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(c=!0,iw(m,v))}else v=Bt,v=ws(m,m===fn?v:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(v&3)===0||qn(m,v)||(c=!0,iw(m,v));m=m.next}while(c);Ep=!1}}function pk(){sw()}function sw(){Xd=Np=!1;var r=0;so!==0&&(Sk()&&(r=so),so=0);for(var i=kt(),c=null,m=Wd;m!==null;){var g=m.next,v=rw(m,i);v===0?(m.next=null,c===null?Wd=g:c.next=g,g===null&&(ml=c)):(c=m,(r!==0||(v&3)!==0)&&(Xd=!0)),m=g}qc(r)}function rw(r,i){for(var c=r.suspendedLanes,m=r.pingedLanes,g=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var T=31-bt(v),P=1<<T,I=g[T];I===-1?((P&c)===0||(P&m)!==0)&&(g[T]=vr(P,i)):I<=i&&(r.expiredLanes|=P),v&=~P}if(i=fn,c=Bt,c=ws(r,r===i?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m=r.callbackNode,c===0||r===i&&(Qt===2||Qt===9)||r.cancelPendingCommit!==null)return m!==null&&m!==null&&Me(m),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||qn(r,c)){if(i=c&-c,i===r.callbackPriority)return i;switch(m!==null&&Me(m),Yn(c)){case 2:case 8:c=$;break;case 32:c=oe;break;case 268435456:c=je;break;default:c=oe}return m=aw.bind(null,r),c=yt(c,m),r.callbackPriority=i,r.callbackNode=c,i}return m!==null&&m!==null&&Me(m),r.callbackPriority=2,r.callbackNode=null,2}function aw(r,i){if(us!==0&&us!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if(Id()&&r.callbackNode!==c)return null;var m=Bt;return m=ws(r,r===fn?m:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m===0?null:(Hv(r,m,i),rw(r,kt()),r.callbackNode!=null&&r.callbackNode===c?aw.bind(null,r):null)}function iw(r,i){if(Id())return null;Hv(r,i,!0)}function gk(){Ek(function(){(Kt&6)!==0?yt(Xt,pk):sw()})}function Tp(){return so===0&&(so=nt()),so}function ow(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Uo(""+r)}function lw(r,i){var c=i.ownerDocument.createElement("input");return c.name=i.name,c.value=i.value,r.id&&c.setAttribute("form",r.id),i.parentNode.insertBefore(c,i),r=new FormData(r),c.parentNode.removeChild(c),r}function xk(r,i,c,m,g){if(i==="submit"&&c&&c.stateNode===g){var v=ow((g[Ae]||null).action),T=m.submitter;T&&(i=(i=T[Ae]||null)?ow(i.formAction):T.getAttribute("formAction"),i!==null&&(v=i,T=null));var P=new Ho("action","action",null,m,g);r.push({event:P,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(so!==0){var I=T?lw(g,T):new FormData(g);Wm(c,{pending:!0,data:I,method:g.method,action:v},null,I)}}else typeof v=="function"&&(P.preventDefault(),I=T?lw(g,T):new FormData(g),Wm(c,{pending:!0,data:I,method:g.method,action:v},v,I))},currentTarget:g}]})}}for(var kp=0;kp<fm.length;kp++){var Cp=fm[kp],yk=Cp.toLowerCase(),bk=Cp[0].toUpperCase()+Cp.slice(1);jr(yk,"on"+bk)}jr(Hy,"onAnimationEnd"),jr(Vy,"onAnimationIteration"),jr($y,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(LT,"onTransitionRun"),jr(zT,"onTransitionStart"),jr(UT,"onTransitionCancel"),jr(qy,"onTransitionEnd"),Nn("onMouseEnter",["mouseout","mouseover"]),Nn("onMouseLeave",["mouseout","mouseover"]),Nn("onPointerEnter",["pointerout","pointerover"]),Nn("onPointerLeave",["pointerout","pointerover"]),gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yc));function cw(r,i){i=(i&4)!==0;for(var c=0;c<r.length;c++){var m=r[c],g=m.event;m=m.listeners;e:{var v=void 0;if(i)for(var T=m.length-1;0<=T;T--){var P=m[T],I=P.instance,ce=P.currentTarget;if(P=P.listener,I!==v&&g.isPropagationStopped())break e;v=P,g.currentTarget=ce;try{v(g)}catch(_e){Pd(_e)}g.currentTarget=null,v=I}else for(T=0;T<m.length;T++){if(P=m[T],I=P.instance,ce=P.currentTarget,P=P.listener,I!==v&&g.isPropagationStopped())break e;v=P,g.currentTarget=ce;try{v(g)}catch(_e){Pd(_e)}g.currentTarget=null,v=I}}}}function Pt(r,i){var c=i[Ze];c===void 0&&(c=i[Ze]=new Set);var m=r+"__bubble";c.has(m)||(uw(i,r,2,!1),c.add(m))}function Op(r,i,c){var m=0;i&&(m|=4),uw(c,r,m,i)}var Gd="_reactListening"+Math.random().toString(36).slice(2);function Ap(r){if(!r[Gd]){r[Gd]=!0,gt.forEach(function(c){c!=="selectionchange"&&(vk.has(c)||Op(c,!1,r),Op(c,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Gd]||(i[Gd]=!0,Op("selectionchange",!1,i))}}function uw(r,i,c,m){switch(Mw(i)){case 2:var g=Wk;break;case 8:g=Xk;break;default:g=Yp}c=g.bind(null,i,c,r),g=void 0,!Bo||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),m?g!==void 0?r.addEventListener(i,c,{capture:!0,passive:g}):r.addEventListener(i,c,!0):g!==void 0?r.addEventListener(i,c,{passive:g}):r.addEventListener(i,c,!1)}function Rp(r,i,c,m,g){var v=m;if((i&1)===0&&(i&2)===0&&m!==null)e:for(;;){if(m===null)return;var T=m.tag;if(T===3||T===4){var P=m.stateNode.containerInfo;if(P===g)break;if(T===4)for(T=m.return;T!==null;){var I=T.tag;if((I===3||I===4)&&T.stateNode.containerInfo===g)return;T=T.return}for(;P!==null;){if(T=wt(P),T===null)return;if(I=T.tag,I===5||I===6||I===26||I===27){m=v=T;continue e}P=P.parentNode}}m=m.return}hc(function(){var ce=v,_e=Ui(c),Ee=[];e:{var he=Yy.get(r);if(he!==void 0){var pe=Ho,ht=r;switch(r){case"keypress":if(Ha(c)===0)break e;case"keydown":case"keyup":pe=Fr;break;case"focusin":ht="focus",pe=rt;break;case"focusout":ht="blur",pe=rt;break;case"beforeblur":case"afterblur":pe=rt;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=te;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=fe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=ud;break;case Hy:case Vy:case $y:pe=qe;break;case qy:pe=bT;break;case"scroll":case"scrollend":pe=Tn;break;case"wheel":pe=wT;break;case"copy":case"cut":case"paste":pe=tn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=Vo;break;case"toggle":case"beforetoggle":pe=jT}var ut=(i&4)!==0,rn=!ut&&(r==="scroll"||r==="scrollend"),se=ut?he!==null?he+"Capture":null:he;ut=[];for(var Z=ce,le;Z!==null;){var Ne=Z;if(le=Ne.stateNode,Ne=Ne.tag,Ne!==5&&Ne!==26&&Ne!==27||le===null||se===null||(Ne=Fa(Z,se),Ne!=null&&ut.push(Ic(Z,Ne,le))),rn)break;Z=Z.return}0<ut.length&&(he=new pe(he,ht,null,c,_e),Ee.push({event:he,listeners:ut}))}}if((i&7)===0){e:{if(he=r==="mouseover"||r==="pointerover",pe=r==="mouseout"||r==="pointerout",he&&c!==dc&&(ht=c.relatedTarget||c.fromElement)&&(wt(ht)||ht[Ye]))break e;if((pe||he)&&(he=_e.window===_e?_e:(he=_e.ownerDocument)?he.defaultView||he.parentWindow:window,pe?(ht=c.relatedTarget||c.toElement,pe=ce,ht=ht?wt(ht):null,ht!==null&&(rn=o(ht),ut=ht.tag,ht!==rn||ut!==5&&ut!==27&&ut!==6)&&(ht=null)):(pe=null,ht=ce),pe!==ht)){if(ut=te,Ne="onMouseLeave",se="onMouseEnter",Z="mouse",(r==="pointerout"||r==="pointerover")&&(ut=Vo,Ne="onPointerLeave",se="onPointerEnter",Z="pointer"),rn=pe==null?he:Sn(pe),le=ht==null?he:Sn(ht),he=new ut(Ne,Z+"leave",pe,c,_e),he.target=rn,he.relatedTarget=le,Ne=null,wt(_e)===ce&&(ut=new ut(se,Z+"enter",ht,c,_e),ut.target=le,ut.relatedTarget=rn,Ne=ut),rn=Ne,pe&&ht)t:{for(ut=pe,se=ht,Z=0,le=ut;le;le=pl(le))Z++;for(le=0,Ne=se;Ne;Ne=pl(Ne))le++;for(;0<Z-le;)ut=pl(ut),Z--;for(;0<le-Z;)se=pl(se),le--;for(;Z--;){if(ut===se||se!==null&&ut===se.alternate)break t;ut=pl(ut),se=pl(se)}ut=null}else ut=null;pe!==null&&dw(Ee,he,pe,ut,!1),ht!==null&&rn!==null&&dw(Ee,rn,ht,ut,!0)}}e:{if(he=ce?Sn(ce):window,pe=he.nodeName&&he.nodeName.toLowerCase(),pe==="select"||pe==="input"&&he.type==="file")var We=Oy;else if(ky(he))if(Ay)We=DT;else{We=AT;var Rt=OT}else pe=he.nodeName,!pe||pe.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?ce&&zi(ce.elementType)&&(We=Oy):We=RT;if(We&&(We=We(r,ce))){Cy(Ee,We,c,_e);break e}Rt&&Rt(r,he,ce),r==="focusout"&&ce&&he.type==="number"&&ce.memoizedProps.value!=null&&lc(he,"number",he.value)}switch(Rt=ce?Sn(ce):window,r){case"focusin":(ky(Rt)||Rt.contentEditable==="true")&&(Yo=Rt,cm=ce,yc=null);break;case"focusout":yc=cm=Yo=null;break;case"mousedown":um=!0;break;case"contextmenu":case"mouseup":case"dragend":um=!1,By(Ee,c,_e);break;case"selectionchange":if(PT)break;case"keydown":case"keyup":By(Ee,c,_e)}var st;if(am)e:{switch(r){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else qo?Ey(r,c)&&(ft="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(ft="onCompositionStart");ft&&(jy&&c.locale!=="ko"&&(qo||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&qo&&(st=Hi()):(Vs=_e,Rs="value"in Vs?Vs.value:Vs.textContent,qo=!0)),Rt=Kd(ce,ft),0<Rt.length&&(ft=new it(ft,r,null,c,_e),Ee.push({event:ft,listeners:Rt}),st?ft.data=st:(st=Ty(c),st!==null&&(ft.data=st)))),(st=NT?ET(r,c):TT(r,c))&&(ft=Kd(ce,"onBeforeInput"),0<ft.length&&(Rt=new it("onBeforeInput","beforeinput",null,c,_e),Ee.push({event:Rt,listeners:ft}),Rt.data=st)),xk(Ee,r,ce,c,_e)}cw(Ee,i)})}function Ic(r,i,c){return{instance:r,listener:i,currentTarget:c}}function Kd(r,i){for(var c=i+"Capture",m=[];r!==null;){var g=r,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=Fa(r,c),g!=null&&m.unshift(Ic(r,g,v)),g=Fa(r,i),g!=null&&m.push(Ic(r,g,v))),r.tag===3)return m;r=r.return}return[]}function pl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function dw(r,i,c,m,g){for(var v=i._reactName,T=[];c!==null&&c!==m;){var P=c,I=P.alternate,ce=P.stateNode;if(P=P.tag,I!==null&&I===m)break;P!==5&&P!==26&&P!==27||ce===null||(I=ce,g?(ce=Fa(c,v),ce!=null&&T.unshift(Ic(c,ce,I))):g||(ce=Fa(c,v),ce!=null&&T.push(Ic(c,ce,I)))),c=c.return}T.length!==0&&r.push({event:i,listeners:T})}var wk=/\r\n?/g,_k=/\u0000|\uFFFD/g;function fw(r){return(typeof r=="string"?r:""+r).replace(wk,`
`).replace(_k,"")}function hw(r,i){return i=fw(i),fw(r)===i}function Qd(){}function sn(r,i,c,m,g,v){switch(c){case"children":typeof m=="string"?i==="body"||i==="textarea"&&m===""||Ua(r,m):(typeof m=="number"||typeof m=="bigint")&&i!=="body"&&Ua(r,""+m);break;case"className":sr(r,"class",m);break;case"tabIndex":sr(r,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":sr(r,c,m);break;case"style":uc(r,m,v);break;case"data":if(i!=="object"){sr(r,"data",m);break}case"src":case"href":if(m===""&&(i!=="a"||c!=="href")){r.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(c);break}m=Uo(""+m),r.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(c==="formAction"?(i!=="input"&&sn(r,i,"name",g.name,g,null),sn(r,i,"formEncType",g.formEncType,g,null),sn(r,i,"formMethod",g.formMethod,g,null),sn(r,i,"formTarget",g.formTarget,g,null)):(sn(r,i,"encType",g.encType,g,null),sn(r,i,"method",g.method,g,null),sn(r,i,"target",g.target,g,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(c);break}m=Uo(""+m),r.setAttribute(c,m);break;case"onClick":m!=null&&(r.onclick=Qd);break;case"onScroll":m!=null&&Pt("scroll",r);break;case"onScrollEnd":m!=null&&Pt("scrollend",r);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(s(61));if(c=m.__html,c!=null){if(g.children!=null)throw Error(s(60));r.innerHTML=c}}break;case"multiple":r.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":r.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){r.removeAttribute("xlink:href");break}c=Uo(""+m),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(c,""+m):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":m===!0?r.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(c,m):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?r.setAttribute(c,m):r.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?r.removeAttribute(c):r.setAttribute(c,m);break;case"popover":Pt("beforetoggle",r),Pt("toggle",r),ms(r,"popover",m);break;case"xlinkActuate":Tt(r,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Tt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Tt(r,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Tt(r,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Tt(r,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Tt(r,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Tt(r,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Tt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Tt(r,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":ms(r,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=zo.get(c)||c,ms(r,c,m))}}function Dp(r,i,c,m,g,v){switch(c){case"style":uc(r,m,v);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(s(61));if(c=m.__html,c!=null){if(g.children!=null)throw Error(s(60));r.innerHTML=c}}break;case"children":typeof m=="string"?Ua(r,m):(typeof m=="number"||typeof m=="bigint")&&Ua(r,""+m);break;case"onScroll":m!=null&&Pt("scroll",r);break;case"onScrollEnd":m!=null&&Pt("scrollend",r);break;case"onClick":m!=null&&(r.onclick=Qd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ft.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),i=c.slice(2,g?c.length-7:void 0),v=r[Ae]||null,v=v!=null?v[c]:null,typeof v=="function"&&r.removeEventListener(i,v,g),typeof m=="function")){typeof v!="function"&&v!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(i,m,g);break e}c in r?r[c]=m:m===!0?r.setAttribute(c,""):ms(r,c,m)}}}function ds(r,i,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",r),Pt("load",r);var m=!1,g=!1,v;for(v in c)if(c.hasOwnProperty(v)){var T=c[v];if(T!=null)switch(v){case"src":m=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:sn(r,i,v,T,c,null)}}g&&sn(r,i,"srcSet",c.srcSet,c,null),m&&sn(r,i,"src",c.src,c,null);return;case"input":Pt("invalid",r);var P=v=T=g=null,I=null,ce=null;for(m in c)if(c.hasOwnProperty(m)){var _e=c[m];if(_e!=null)switch(m){case"name":g=_e;break;case"type":T=_e;break;case"checked":I=_e;break;case"defaultChecked":ce=_e;break;case"value":v=_e;break;case"defaultValue":P=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(s(137,i));break;default:sn(r,i,m,_e,c,null)}}id(r,v,P,I,ce,T,g,!1),Mi(r);return;case"select":Pt("invalid",r),m=T=v=null;for(g in c)if(c.hasOwnProperty(g)&&(P=c[g],P!=null))switch(g){case"value":v=P;break;case"defaultValue":T=P;break;case"multiple":m=P;default:sn(r,i,g,P,c,null)}i=v,c=T,r.multiple=!!m,i!=null?ca(r,!!m,i,!1):c!=null&&ca(r,!!m,c,!0);return;case"textarea":Pt("invalid",r),v=g=m=null;for(T in c)if(c.hasOwnProperty(T)&&(P=c[T],P!=null))switch(T){case"value":m=P;break;case"defaultValue":g=P;break;case"children":v=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(91));break;default:sn(r,i,T,P,c,null)}cc(r,m,g,v),Mi(r);return;case"option":for(I in c)if(c.hasOwnProperty(I)&&(m=c[I],m!=null))switch(I){case"selected":r.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:sn(r,i,I,m,c,null)}return;case"dialog":Pt("beforetoggle",r),Pt("toggle",r),Pt("cancel",r),Pt("close",r);break;case"iframe":case"object":Pt("load",r);break;case"video":case"audio":for(m=0;m<Yc.length;m++)Pt(Yc[m],r);break;case"image":Pt("error",r),Pt("load",r);break;case"details":Pt("toggle",r);break;case"embed":case"source":case"link":Pt("error",r),Pt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in c)if(c.hasOwnProperty(ce)&&(m=c[ce],m!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:sn(r,i,ce,m,c,null)}return;default:if(zi(i)){for(_e in c)c.hasOwnProperty(_e)&&(m=c[_e],m!==void 0&&Dp(r,i,_e,m,c,void 0));return}}for(P in c)c.hasOwnProperty(P)&&(m=c[P],m!=null&&sn(r,i,P,m,c,null))}function jk(r,i,c,m){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,T=null,P=null,I=null,ce=null,_e=null;for(pe in c){var Ee=c[pe];if(c.hasOwnProperty(pe)&&Ee!=null)switch(pe){case"checked":break;case"value":break;case"defaultValue":I=Ee;default:m.hasOwnProperty(pe)||sn(r,i,pe,null,m,Ee)}}for(var he in m){var pe=m[he];if(Ee=c[he],m.hasOwnProperty(he)&&(pe!=null||Ee!=null))switch(he){case"type":v=pe;break;case"name":g=pe;break;case"checked":ce=pe;break;case"defaultChecked":_e=pe;break;case"value":T=pe;break;case"defaultValue":P=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(s(137,i));break;default:pe!==Ee&&sn(r,i,he,pe,m,Ee)}}oc(r,T,P,I,ce,_e,v,g);return;case"select":pe=T=P=he=null;for(v in c)if(I=c[v],c.hasOwnProperty(v)&&I!=null)switch(v){case"value":break;case"multiple":pe=I;default:m.hasOwnProperty(v)||sn(r,i,v,null,m,I)}for(g in m)if(v=m[g],I=c[g],m.hasOwnProperty(g)&&(v!=null||I!=null))switch(g){case"value":he=v;break;case"defaultValue":P=v;break;case"multiple":T=v;default:v!==I&&sn(r,i,g,v,m,I)}i=P,c=T,m=pe,he!=null?ca(r,!!c,he,!1):!!m!=!!c&&(i!=null?ca(r,!!c,i,!0):ca(r,!!c,c?[]:"",!1));return;case"textarea":pe=he=null;for(P in c)if(g=c[P],c.hasOwnProperty(P)&&g!=null&&!m.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:sn(r,i,P,null,m,g)}for(T in m)if(g=m[T],v=c[T],m.hasOwnProperty(T)&&(g!=null||v!=null))switch(T){case"value":he=g;break;case"defaultValue":pe=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==v&&sn(r,i,T,g,m,v)}Li(r,he,pe);return;case"option":for(var ht in c)if(he=c[ht],c.hasOwnProperty(ht)&&he!=null&&!m.hasOwnProperty(ht))switch(ht){case"selected":r.selected=!1;break;default:sn(r,i,ht,null,m,he)}for(I in m)if(he=m[I],pe=c[I],m.hasOwnProperty(I)&&he!==pe&&(he!=null||pe!=null))switch(I){case"selected":r.selected=he&&typeof he!="function"&&typeof he!="symbol";break;default:sn(r,i,I,he,m,pe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ut in c)he=c[ut],c.hasOwnProperty(ut)&&he!=null&&!m.hasOwnProperty(ut)&&sn(r,i,ut,null,m,he);for(ce in m)if(he=m[ce],pe=c[ce],m.hasOwnProperty(ce)&&he!==pe&&(he!=null||pe!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(s(137,i));break;default:sn(r,i,ce,he,m,pe)}return;default:if(zi(i)){for(var rn in c)he=c[rn],c.hasOwnProperty(rn)&&he!==void 0&&!m.hasOwnProperty(rn)&&Dp(r,i,rn,void 0,m,he);for(_e in m)he=m[_e],pe=c[_e],!m.hasOwnProperty(_e)||he===pe||he===void 0&&pe===void 0||Dp(r,i,_e,he,m,pe);return}}for(var se in c)he=c[se],c.hasOwnProperty(se)&&he!=null&&!m.hasOwnProperty(se)&&sn(r,i,se,null,m,he);for(Ee in m)he=m[Ee],pe=c[Ee],!m.hasOwnProperty(Ee)||he===pe||he==null&&pe==null||sn(r,i,Ee,he,m,pe)}var Mp=null,Pp=null;function Zd(r){return r.nodeType===9?r:r.ownerDocument}function mw(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pw(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Lp(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var zp=null;function Sk(){var r=window.event;return r&&r.type==="popstate"?r===zp?!1:(zp=r,!0):(zp=null,!1)}var gw=typeof setTimeout=="function"?setTimeout:void 0,Nk=typeof clearTimeout=="function"?clearTimeout:void 0,xw=typeof Promise=="function"?Promise:void 0,Ek=typeof queueMicrotask=="function"?queueMicrotask:typeof xw!="undefined"?function(r){return xw.resolve(null).then(r).catch(Tk)}:gw;function Tk(r){setTimeout(function(){throw r})}function ai(r){return r==="head"}function yw(r,i){var c=i,m=0,g=0;do{var v=c.nextSibling;if(r.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"){if(0<m&&8>m){c=m;var T=r.ownerDocument;if(c&1&&Wc(T.documentElement),c&2&&Wc(T.body),c&4)for(c=T.head,Wc(c),T=c.firstChild;T;){var P=T.nextSibling,I=T.nodeName;T[Je]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&T.rel.toLowerCase()==="stylesheet"||c.removeChild(T),T=P}}if(g===0){r.removeChild(v),tu(i);return}g--}else c==="$"||c==="$?"||c==="$!"?g++:m=c.charCodeAt(0)-48;else m=0;c=v}while(c);tu(i)}function Up(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var c=i;switch(i=i.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Up(c),pt(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function kk(r,i,c,m){for(;r.nodeType===1;){var g=c;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!m&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(m){if(!r[Je])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==g.rel||r.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||r.getAttribute("title")!==(g.title==null?null:g.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(g.src==null?null:g.src)||r.getAttribute("type")!==(g.type==null?null:g.type)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=Nr(r.nextSibling),r===null)break}return null}function Ck(r,i,c){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=Nr(r.nextSibling),r===null))return null;return r}function Bp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function Ok(r,i){var c=r.ownerDocument;if(r.data!=="$?"||c.readyState==="complete")i();else{var m=function(){i(),c.removeEventListener("DOMContentLoaded",m)};c.addEventListener("DOMContentLoaded",m),r._reactRetry=m}}function Nr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var Fp=null;function bw(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return r;i--}else c==="/$"&&i++}r=r.previousSibling}return null}function vw(r,i,c){switch(i=Zd(c),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function Wc(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);pt(r)}var dr=new Map,ww=new Set;function Jd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Sa=Y.d;Y.d={f:Ak,r:Rk,D:Dk,C:Mk,L:Pk,m:Lk,X:Uk,S:zk,M:Bk};function Ak(){var r=Sa.f(),i=qd();return r||i}function Rk(r){var i=on(r);i!==null&&i.tag===5&&i.type==="form"?Hb(i):Sa.r(r)}var gl=typeof document=="undefined"?null:document;function _w(r,i,c){var m=gl;if(m&&typeof i=="string"&&i){var g=Os(i);g='link[rel="'+r+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),ww.has(g)||(ww.add(g),r={rel:r,crossOrigin:c,href:i},m.querySelector(g)===null&&(i=m.createElement("link"),ds(i,"link",r),et(i),m.head.appendChild(i)))}}function Dk(r){Sa.D(r),_w("dns-prefetch",r,null)}function Mk(r,i){Sa.C(r,i),_w("preconnect",r,i)}function Pk(r,i,c){Sa.L(r,i,c);var m=gl;if(m&&r&&i){var g='link[rel="preload"][as="'+Os(i)+'"]';i==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+Os(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+Os(c.imageSizes)+'"]')):g+='[href="'+Os(r)+'"]';var v=g;switch(i){case"style":v=xl(r);break;case"script":v=yl(r)}dr.has(v)||(r=p({rel:"preload",href:i==="image"&&c&&c.imageSrcSet?void 0:r,as:i},c),dr.set(v,r),m.querySelector(g)!==null||i==="style"&&m.querySelector(Xc(v))||i==="script"&&m.querySelector(Gc(v))||(i=m.createElement("link"),ds(i,"link",r),et(i),m.head.appendChild(i)))}}function Lk(r,i){Sa.m(r,i);var c=gl;if(c&&r){var m=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+Os(m)+'"][href="'+Os(r)+'"]',v=g;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=yl(r)}if(!dr.has(v)&&(r=p({rel:"modulepreload",href:r},i),dr.set(v,r),c.querySelector(g)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Gc(v)))return}m=c.createElement("link"),ds(m,"link",r),et(m),c.head.appendChild(m)}}}function zk(r,i,c){Sa.S(r,i,c);var m=gl;if(m&&r){var g=en(m).hoistableStyles,v=xl(r);i=i||"default";var T=g.get(v);if(!T){var P={loading:0,preload:null};if(T=m.querySelector(Xc(v)))P.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":i},c),(c=dr.get(v))&&Hp(r,c);var I=T=m.createElement("link");et(I),ds(I,"link",r),I._p=new Promise(function(ce,_e){I.onload=ce,I.onerror=_e}),I.addEventListener("load",function(){P.loading|=1}),I.addEventListener("error",function(){P.loading|=2}),P.loading|=4,ef(T,i,m)}T={type:"stylesheet",instance:T,count:1,state:P},g.set(v,T)}}}function Uk(r,i){Sa.X(r,i);var c=gl;if(c&&r){var m=en(c).hoistableScripts,g=yl(r),v=m.get(g);v||(v=c.querySelector(Gc(g)),v||(r=p({src:r,async:!0},i),(i=dr.get(g))&&Vp(r,i),v=c.createElement("script"),et(v),ds(v,"link",r),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},m.set(g,v))}}function Bk(r,i){Sa.M(r,i);var c=gl;if(c&&r){var m=en(c).hoistableScripts,g=yl(r),v=m.get(g);v||(v=c.querySelector(Gc(g)),v||(r=p({src:r,async:!0,type:"module"},i),(i=dr.get(g))&&Vp(r,i),v=c.createElement("script"),et(v),ds(v,"link",r),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},m.set(g,v))}}function jw(r,i,c,m){var g=(g=ye.current)?Jd(g):null;if(!g)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(i=xl(c.href),c=en(g).hoistableStyles,m=c.get(i),m||(m={type:"style",instance:null,count:0,state:null},c.set(i,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=xl(c.href);var v=en(g).hoistableStyles,T=v.get(r);if(T||(g=g.ownerDocument||g,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,T),(v=g.querySelector(Xc(r)))&&!v._p&&(T.instance=v,T.state.loading=5),dr.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},dr.set(r,c),v||Fk(g,r,c,T.state))),i&&m===null)throw Error(s(528,""));return T}if(i&&m!==null)throw Error(s(529,""));return null;case"script":return i=c.async,c=c.src,typeof c=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=yl(c),c=en(g).hoistableScripts,m=c.get(i),m||(m={type:"script",instance:null,count:0,state:null},c.set(i,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function xl(r){return'href="'+Os(r)+'"'}function Xc(r){return'link[rel="stylesheet"]['+r+"]"}function Sw(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function Fk(r,i,c,m){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?m.loading=1:(i=r.createElement("link"),m.preload=i,i.addEventListener("load",function(){return m.loading|=1}),i.addEventListener("error",function(){return m.loading|=2}),ds(i,"link",c),et(i),r.head.appendChild(i))}function yl(r){return'[src="'+Os(r)+'"]'}function Gc(r){return"script[async]"+r}function Nw(r,i,c){if(i.count++,i.instance===null)switch(i.type){case"style":var m=r.querySelector('style[data-href~="'+Os(c.href)+'"]');if(m)return i.instance=m,et(m),m;var g=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(r.ownerDocument||r).createElement("style"),et(m),ds(m,"style",g),ef(m,c.precedence,r),i.instance=m;case"stylesheet":g=xl(c.href);var v=r.querySelector(Xc(g));if(v)return i.state.loading|=4,i.instance=v,et(v),v;m=Sw(c),(g=dr.get(g))&&Hp(m,g),v=(r.ownerDocument||r).createElement("link"),et(v);var T=v;return T._p=new Promise(function(P,I){T.onload=P,T.onerror=I}),ds(v,"link",m),i.state.loading|=4,ef(v,c.precedence,r),i.instance=v;case"script":return v=yl(c.src),(g=r.querySelector(Gc(v)))?(i.instance=g,et(g),g):(m=c,(g=dr.get(v))&&(m=p({},c),Vp(m,g)),r=r.ownerDocument||r,g=r.createElement("script"),et(g),ds(g,"link",m),r.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(m=i.instance,i.state.loading|=4,ef(m,c.precedence,r));return i.instance}function ef(r,i,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=m.length?m[m.length-1]:null,v=g,T=0;T<m.length;T++){var P=m[T];if(P.dataset.precedence===i)v=P;else if(v!==g)break}v?v.parentNode.insertBefore(r,v.nextSibling):(i=c.nodeType===9?c.head:c,i.insertBefore(r,i.firstChild))}function Hp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Vp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var tf=null;function Ew(r,i,c){if(tf===null){var m=new Map,g=tf=new Map;g.set(c,m)}else g=tf,m=g.get(c),m||(m=new Map,g.set(c,m));if(m.has(r))return m;for(m.set(r,null),c=c.getElementsByTagName(r),g=0;g<c.length;g++){var v=c[g];if(!(v[Je]||v[be]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var T=v.getAttribute(i)||"";T=r+T;var P=m.get(T);P?P.push(v):m.set(T,[v])}}return m}function Tw(r,i,c){r=r.ownerDocument||r,r.head.insertBefore(c,i==="title"?r.querySelector("head > title"):null)}function Hk(r,i,c){if(c===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function kw(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Kc=null;function Vk(){}function $k(r,i,c){if(Kc===null)throw Error(s(475));var m=Kc;if(i.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var g=xl(c.href),v=r.querySelector(Xc(g));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(m.count++,m=nf.bind(m),r.then(m,m)),i.state.loading|=4,i.instance=v,et(v);return}v=r.ownerDocument||r,c=Sw(c),(g=dr.get(g))&&Hp(c,g),v=v.createElement("link"),et(v);var T=v;T._p=new Promise(function(P,I){T.onload=P,T.onerror=I}),ds(v,"link",c),i.instance=v}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(m.count++,i=nf.bind(m),r.addEventListener("load",i),r.addEventListener("error",i))}}function qk(){if(Kc===null)throw Error(s(475));var r=Kc;return r.stylesheets&&r.count===0&&$p(r,r.stylesheets),0<r.count?function(i){var c=setTimeout(function(){if(r.stylesheets&&$p(r,r.stylesheets),r.unsuspend){var m=r.unsuspend;r.unsuspend=null,m()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(c)}}:null}function nf(){if(this.count--,this.count===0){if(this.stylesheets)$p(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var sf=null;function $p(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,sf=new Map,i.forEach(Yk,r),sf=null,nf.call(r))}function Yk(r,i){if(!(i.state.loading&4)){var c=sf.get(r);if(c)var m=c.get(null);else{c=new Map,sf.set(r,c);for(var g=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var T=g[v];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(c.set(T.dataset.precedence,T),m=T)}m&&c.set(null,m)}g=i.instance,T=g.getAttribute("data-precedence"),v=c.get(T)||m,v===m&&c.set(null,g),c.set(T,g),this.count++,m=nf.bind(this),g.addEventListener("load",m),g.addEventListener("error",m),v?v.parentNode.insertBefore(g,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(g,r.firstChild)),i.state.loading|=4}}var Qc={$$typeof:O,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function Ik(r,i,c,m,g,v,T,P){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.hiddenUpdates=zt(null),this.identifierPrefix=m,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Cw(r,i,c,m,g,v,T,P,I,ce,_e,Ee){return r=new Ik(r,i,c,T,P,I,ce,Ee),i=1,v===!0&&(i|=24),v=qs(3,null,null,i),r.current=v,v.stateNode=r,i=Sm(),i.refCount++,r.pooledCache=i,i.refCount++,v.memoizedState={element:m,isDehydrated:c,cache:i},km(v),r}function Ow(r){return r?(r=Go,r):Go}function Aw(r,i,c,m,g,v){g=Ow(g),m.context===null?m.context=g:m.pendingContext=g,m=Ia(i),m.payload={element:c},v=v===void 0?null:v,v!==null&&(m.callback=v),c=Wa(r,m,i),c!==null&&(Gs(c,r,i),Tc(c,r,i))}function Rw(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<i?c:i}}function qp(r,i){Rw(r,i),(r=r.alternate)&&Rw(r,i)}function Dw(r){if(r.tag===13){var i=Xo(r,67108864);i!==null&&Gs(i,r,67108864),qp(r,67108864)}}var rf=!0;function Wk(r,i,c,m){var g=B.T;B.T=null;var v=Y.p;try{Y.p=2,Yp(r,i,c,m)}finally{Y.p=v,B.T=g}}function Xk(r,i,c,m){var g=B.T;B.T=null;var v=Y.p;try{Y.p=8,Yp(r,i,c,m)}finally{Y.p=v,B.T=g}}function Yp(r,i,c,m){if(rf){var g=Ip(m);if(g===null)Rp(r,i,m,af,c),Pw(r,m);else if(Kk(g,r,i,c,m))m.stopPropagation();else if(Pw(r,m),i&4&&-1<Gk.indexOf(r)){for(;g!==null;){var v=on(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var T=os(v.pendingLanes);if(T!==0){var P=v;for(P.pendingLanes|=2,P.entangledLanes|=2;T;){var I=1<<31-bt(T);P.entanglements[1]|=I,T&=~I}Yr(v),(Kt&6)===0&&(Vd=kt()+500,qc(0))}}break;case 13:P=Xo(v,2),P!==null&&Gs(P,v,2),qd(),qp(v,2)}if(v=Ip(m),v===null&&Rp(r,i,m,af,c),v===g)break;g=v}g!==null&&m.stopPropagation()}else Rp(r,i,m,null,c)}}function Ip(r){return r=Ui(r),Wp(r)}var af=null;function Wp(r){if(af=null,r=wt(r),r!==null){var i=o(r);if(i===null)r=null;else{var c=i.tag;if(c===13){if(r=l(i),r!==null)return r;r=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return af=r,null}function Mw(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(It()){case Xt:return 2;case $:return 8;case oe:case V:return 32;case je:return 268435456;default:return 32}default:return 32}}var Xp=!1,ii=null,oi=null,li=null,Zc=new Map,Jc=new Map,ci=[],Gk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pw(r,i){switch(r){case"focusin":case"focusout":ii=null;break;case"dragenter":case"dragleave":oi=null;break;case"mouseover":case"mouseout":li=null;break;case"pointerover":case"pointerout":Zc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jc.delete(i.pointerId)}}function eu(r,i,c,m,g,v){return r===null||r.nativeEvent!==v?(r={blockedOn:i,domEventName:c,eventSystemFlags:m,nativeEvent:v,targetContainers:[g]},i!==null&&(i=on(i),i!==null&&Dw(i)),r):(r.eventSystemFlags|=m,i=r.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),r)}function Kk(r,i,c,m,g){switch(i){case"focusin":return ii=eu(ii,r,i,c,m,g),!0;case"dragenter":return oi=eu(oi,r,i,c,m,g),!0;case"mouseover":return li=eu(li,r,i,c,m,g),!0;case"pointerover":var v=g.pointerId;return Zc.set(v,eu(Zc.get(v)||null,r,i,c,m,g)),!0;case"gotpointercapture":return v=g.pointerId,Jc.set(v,eu(Jc.get(v)||null,r,i,c,m,g)),!0}return!1}function Lw(r){var i=wt(r.target);if(i!==null){var c=o(i);if(c!==null){if(i=c.tag,i===13){if(i=l(c),i!==null){r.blockedOn=i,ne(r.priority,function(){if(c.tag===13){var m=Xs();m=ts(m);var g=Xo(c,m);g!==null&&Gs(g,c,m),qp(c,m)}});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function of(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var c=Ip(r.nativeEvent);if(c===null){c=r.nativeEvent;var m=new c.constructor(c.type,c);dc=m,c.target.dispatchEvent(m),dc=null}else return i=on(c),i!==null&&Dw(i),r.blockedOn=c,!1;i.shift()}return!0}function zw(r,i,c){of(r)&&c.delete(i)}function Qk(){Xp=!1,ii!==null&&of(ii)&&(ii=null),oi!==null&&of(oi)&&(oi=null),li!==null&&of(li)&&(li=null),Zc.forEach(zw),Jc.forEach(zw)}function lf(r,i){r.blockedOn===i&&(r.blockedOn=null,Xp||(Xp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Qk)))}var cf=null;function Uw(r){cf!==r&&(cf=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){cf===r&&(cf=null);for(var i=0;i<r.length;i+=3){var c=r[i],m=r[i+1],g=r[i+2];if(typeof m!="function"){if(Wp(m||c)===null)continue;break}var v=on(c);v!==null&&(r.splice(i,3),i-=3,Wm(v,{pending:!0,data:g,method:c.method,action:m},m,g))}}))}function tu(r){function i(I){return lf(I,r)}ii!==null&&lf(ii,r),oi!==null&&lf(oi,r),li!==null&&lf(li,r),Zc.forEach(i),Jc.forEach(i);for(var c=0;c<ci.length;c++){var m=ci[c];m.blockedOn===r&&(m.blockedOn=null)}for(;0<ci.length&&(c=ci[0],c.blockedOn===null);)Lw(c),c.blockedOn===null&&ci.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var g=c[m],v=c[m+1],T=g[Ae]||null;if(typeof v=="function")T||Uw(c);else if(T){var P=null;if(v&&v.hasAttribute("formAction")){if(g=v,T=v[Ae]||null)P=T.formAction;else if(Wp(g)!==null)continue}else P=T.action;typeof P=="function"?c[m+1]=P:(c.splice(m,3),m-=3),Uw(c)}}}function Gp(r){this._internalRoot=r}uf.prototype.render=Gp.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var c=i.current,m=Xs();Aw(c,m,r,i,null,null)},uf.prototype.unmount=Gp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Aw(r.current,2,null,r,null,null),qd(),i[Ye]=null}};function uf(r){this._internalRoot=r}uf.prototype.unstable_scheduleHydration=function(r){if(r){var i=X();r={blockedOn:null,target:r,priority:i};for(var c=0;c<ci.length&&i!==0&&i<ci[c].priority;c++);ci.splice(c,0,r),c===0&&Lw(r)}};var Bw=t.version;if(Bw!=="19.1.1")throw Error(s(527,Bw,"19.1.1"));Y.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=f(i),r=r!==null?h(r):null,r=r===null?null:r.stateNode,r};var Zk={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!df.isDisabled&&df.supportsFiber)try{Ue=df.inject(Zk),$e=df}catch(r){}}return su.createRoot=function(r,i){if(!a(r))throw Error(s(299));var c=!1,m="",g=tv,v=nv,T=sv,P=null;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(m=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(P=i.unstable_transitionCallbacks)),i=Cw(r,1,!1,null,null,c,m,g,v,T,P,null),r[Ye]=i.current,Ap(r),new Gp(i)},su.hydrateRoot=function(r,i,c){if(!a(r))throw Error(s(299));var m=!1,g="",v=tv,T=nv,P=sv,I=null,ce=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(T=c.onCaughtError),c.onRecoverableError!==void 0&&(P=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(I=c.unstable_transitionCallbacks),c.formState!==void 0&&(ce=c.formState)),i=Cw(r,1,!0,i,c!=null?c:null,m,g,v,T,P,I,ce),i.context=Ow(null),c=i.current,m=Xs(),m=ts(m),g=Ia(m),g.callback=null,Wa(c,g,m),c=m,i.current.lanes=c,jt(i,c),Yr(i),r[Ye]=i.current,Ap(r),new uf(i)},su.version="19.1.1",su}var Zw;function hC(){if(Zw)return tg.exports;Zw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),tg.exports=fC(),tg.exports}var mC=hC();const pC=K0(mC);var gC=Object.defineProperty,xC=(e,t,n)=>t in e?gC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ao=(e,t,n)=>xC(e,typeof t!="symbol"?t+"":t,n),yC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vl={},ru={},Er={},Jw;function iS(){if(Jw)return Er;Jw=1;var e=Er&&Er.__assign||function(){return e=Object.assign||function(a){for(var o,l=1,u=arguments.length;l<u;l++){o=arguments[l];for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(a[f]=o[f])}return a},e.apply(this,arguments)},t=Er&&Er.__awaiter||function(a,o,l,u){function f(h){return h instanceof l?h:new l(function(p){p(h)})}return new(l||(l=Promise))(function(h,p){function x(w){try{b(u.next(w))}catch(_){p(_)}}function y(w){try{b(u.throw(w))}catch(_){p(_)}}function b(w){w.done?h(w.value):f(w.value).then(x,y)}b((u=u.apply(a,o||[])).next())})},n=Er&&Er.__generator||function(a,o){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},u,f,h,p;return p={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function x(b){return function(w){return y([b,w])}}function y(b){if(u)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(l=0)),l;)try{if(u=1,f&&(h=b[0]&2?f.return:b[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,b[1])).done)return h;switch(f=0,h&&(b=[b[0]&2,h.value]),b[0]){case 0:case 1:h=b;break;case 4:return l.label++,{value:b[1],done:!1};case 5:l.label++,f=b[1],b=[0];continue;case 7:b=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(b[0]===6||b[0]===2)){l=0;continue}if(b[0]===3&&(!h||b[1]>h[0]&&b[1]<h[3])){l.label=b[1];break}if(b[0]===6&&l.label<h[1]){l.label=h[1],h=b;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(b);break}h[2]&&l.ops.pop(),l.trys.pop();continue}b=o.call(a,l)}catch(w){b=[6,w],f=0}finally{u=h=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}};Object.defineProperty(Er,"__esModule",{value:!0}),Er.FrappeCall=void 0;var s=function(){function a(o,l,u,f,h){this.appURL=o,this.axios=l,this.useToken=u!=null?u:!1,this.token=f,this.tokenType=h}return a.prototype.get=function(o,l){return t(this,void 0,void 0,function(){var u;return n(this,function(f){return u=new URLSearchParams,l&&Object.entries(l).forEach(function(h){var p=h[0],x=h[1];if(x!=null){var y=typeof x=="object"?JSON.stringify(x):x;u.set(p,y)}}),[2,this.axios.get("/api/method/".concat(o),{params:u}).then(function(h){return h.data}).catch(function(h){var p,x;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(p=h.response.data.message)!==null&&p!==void 0?p:"There was an error.",exception:(x=h.response.data.exception)!==null&&x!==void 0?x:""})})]})})},a.prototype.post=function(o,l){return t(this,void 0,void 0,function(){return n(this,function(u){return[2,this.axios.post("/api/method/".concat(o),e({},l)).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error.",exception:(p=f.response.data.exception)!==null&&p!==void 0?p:""})})]})})},a.prototype.put=function(o,l){return t(this,void 0,void 0,function(){return n(this,function(u){return[2,this.axios.put("/api/method/".concat(o),e({},l)).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error.",exception:(p=f.response.data.exception)!==null&&p!==void 0?p:""})})]})})},a.prototype.delete=function(o,l){return t(this,void 0,void 0,function(){return n(this,function(u){return[2,this.axios.delete("/api/method/".concat(o),{params:l}).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error.",exception:(p=f.response.data.exception)!==null&&p!==void 0?p:""})})]})})},a}();return Er.FrappeCall=s,Er}var Tr={},e_;function oS(){if(e_)return Tr;e_=1;var e=Tr&&Tr.__assign||function(){return e=Object.assign||function(a){for(var o,l=1,u=arguments.length;l<u;l++){o=arguments[l];for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(a[f]=o[f])}return a},e.apply(this,arguments)},t=Tr&&Tr.__awaiter||function(a,o,l,u){function f(h){return h instanceof l?h:new l(function(p){p(h)})}return new(l||(l=Promise))(function(h,p){function x(w){try{b(u.next(w))}catch(_){p(_)}}function y(w){try{b(u.throw(w))}catch(_){p(_)}}function b(w){w.done?h(w.value):f(w.value).then(x,y)}b((u=u.apply(a,o||[])).next())})},n=Tr&&Tr.__generator||function(a,o){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},u,f,h,p;return p={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function x(b){return function(w){return y([b,w])}}function y(b){if(u)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(l=0)),l;)try{if(u=1,f&&(h=b[0]&2?f.return:b[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,b[1])).done)return h;switch(f=0,h&&(b=[b[0]&2,h.value]),b[0]){case 0:case 1:h=b;break;case 4:return l.label++,{value:b[1],done:!1};case 5:l.label++,f=b[1],b=[0];continue;case 7:b=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(b[0]===6||b[0]===2)){l=0;continue}if(b[0]===3&&(!h||b[1]>h[0]&&b[1]<h[3])){l.label=b[1];break}if(b[0]===6&&l.label<h[1]){l.label=h[1],h=b;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(b);break}h[2]&&l.ops.pop(),l.trys.pop();continue}b=o.call(a,l)}catch(w){b=[6,w],f=0}finally{u=h=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}};Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.FrappeDB=void 0;var s=function(){function a(o,l,u,f,h){this.appURL=o,this.axios=l,this.useToken=u!=null?u:!1,this.token=f,this.tokenType=h}return a.prototype.getDoc=function(o,l){return l===void 0&&(l=""),t(this,void 0,void 0,function(){return n(this,function(u){return[2,this.axios.get("/api/resource/".concat(o,"/").concat(encodeURIComponent(l))).then(function(f){return f.data.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while fetching the document.",exception:(p=(h=f.response.data.exception)!==null&&h!==void 0?h:f.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},a.prototype.getDocList=function(o,l){var u;return t(this,void 0,void 0,function(){var f,h,p,x,y,b,w,_,j,S,C;return n(this,function(O){return f={},l&&(h=l.fields,p=l.filters,x=l.orFilters,y=l.orderBy,b=l.limit,w=l.limit_start,_=l.groupBy,j=l.asDict,S=j===void 0?!0:j,C=y?"".concat(String(y==null?void 0:y.field)," ").concat((u=y==null?void 0:y.order)!==null&&u!==void 0?u:"asc"):"",f={fields:h?JSON.stringify(h):void 0,filters:p?JSON.stringify(p):void 0,or_filters:x?JSON.stringify(x):void 0,order_by:C,group_by:_,limit:b,limit_start:w,as_dict:S}),[2,this.axios.get("/api/resource/".concat(o),{params:f}).then(function(D){return D.data.data}).catch(function(D){var k,R;throw e(e({},D.response.data),{httpStatus:D.response.status,httpStatusText:D.response.statusText,message:"There was an error while fetching the documents.",exception:(R=(k=D.response.data.exception)!==null&&k!==void 0?k:D.response.data.exc_type)!==null&&R!==void 0?R:""})})]})})},a.prototype.createDoc=function(o,l){return t(this,void 0,void 0,function(){return n(this,function(u){return[2,this.axios.post("/api/resource/".concat(o),e({},l)).then(function(f){return f.data.data}).catch(function(f){var h,p,x;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error while creating the document.",exception:(x=(p=f.response.data.exception)!==null&&p!==void 0?p:f.response.data.exc_type)!==null&&x!==void 0?x:""})})]})})},a.prototype.updateDoc=function(o,l,u){return t(this,void 0,void 0,function(){return n(this,function(f){return[2,this.axios.put("/api/resource/".concat(o,"/").concat(l&&encodeURIComponent(l)),e({},u)).then(function(h){return h.data.data}).catch(function(h){var p,x,y;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(p=h.response.data.message)!==null&&p!==void 0?p:"There was an error while updating the document.",exception:(y=(x=h.response.data.exception)!==null&&x!==void 0?x:h.response.data.exc_type)!==null&&y!==void 0?y:""})})]})})},a.prototype.deleteDoc=function(o,l){return t(this,void 0,void 0,function(){return n(this,function(u){return[2,this.axios.delete("/api/resource/".concat(o,"/").concat(l&&encodeURIComponent(l))).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while deleting the document.",exception:(p=(h=f.response.data.exception)!==null&&h!==void 0?h:f.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},a.prototype.getCount=function(o,l,u,f){return u===void 0&&(u=!1),f===void 0&&(f=!1),t(this,void 0,void 0,function(){var h;return n(this,function(p){return h={doctype:o,filters:[]},u&&(h.cache=u),f&&(h.debug=f),l&&(h.filters=l?JSON.stringify(l):void 0),[2,this.axios.get("/api/method/frappe.client.get_count",{params:h}).then(function(x){return x.data.message}).catch(function(x){var y,b;throw e(e({},x.response.data),{httpStatus:x.response.status,httpStatusText:x.response.statusText,message:"There was an error while getting the count.",exception:(b=(y=x.response.data.exception)!==null&&y!==void 0?y:x.response.data.exc_type)!==null&&b!==void 0?b:""})})]})})},a.prototype.getLastDoc=function(o,l){return t(this,void 0,void 0,function(){var u,f;return n(this,function(h){switch(h.label){case 0:return u={orderBy:{field:"creation",order:"desc"}},l&&(u=e(e({},u),l)),[4,this.getDocList(o,e(e({},u),{limit:1,fields:["name"]}))];case 1:return f=h.sent(),f.length>0?[2,this.getDoc(o,f[0].name)]:[2,{}]}})})},a.prototype.renameDoc=function(o,l,u,f){return f===void 0&&(f=!1),t(this,void 0,void 0,function(){return n(this,function(h){return[2,this.axios.post("/api/method/frappe.client.rename_doc",{doctype:o,old_name:l,new_name:u,merge:f}).then(function(p){return p.data}).catch(function(p){var x,y,b;throw e(e({},p.response.data),{httpStatus:p.response.status,httpStatusText:p.response.statusText,message:(x=p.response.data.message)!==null&&x!==void 0?x:"There was an error while renaming the document.",exception:(b=(y=p.response.data.exception)!==null&&y!==void 0?y:p.response.data.exc_type)!==null&&b!==void 0?b:""})})]})})},a.prototype.getValue=function(o,l,u,f,h,p){return f===void 0&&(f=!0),h===void 0&&(h=!1),p===void 0&&(p=null),t(this,void 0,void 0,function(){var x;return n(this,function(y){return x={doctype:o,fieldname:"[]",filters:[],as_dict:f,debug:h,parent:null},l&&(x.fieldname=typeof l=="object"?JSON.stringify(l):l),u&&(x.filters=u?JSON.stringify(u):void 0),p&&(x.parent=p),[2,this.axios.get("/api/method/frappe.client.get_value",{params:x}).then(function(b){return b.data}).catch(function(b){var w,_;throw e(e({},b.response.data),{httpStatus:b.response.status,httpStatusText:b.response.statusText,message:"There was an error while getting the value.",exception:(_=(w=b.response.data.exception)!==null&&w!==void 0?w:b.response.data.exc_type)!==null&&_!==void 0?_:""})})]})})},a.prototype.setValue=function(o,l,u,f){return t(this,void 0,void 0,function(){return n(this,function(h){return u!==null&&typeof u=="object"&&!Array.isArray(u)&&(f=void 0),[2,this.axios.post("/api/method/frappe.client.set_value",{doctype:o,name:l,fieldname:u,value:f}).then(function(p){return p.data}).catch(function(p){var x,y;throw e(e({},p.response.data),{httpStatus:p.response.status,httpStatusText:p.response.statusText,message:"There was an error while setting the value.",exception:(y=(x=p.response.data.exception)!==null&&x!==void 0?x:p.response.data.exc_type)!==null&&y!==void 0?y:""})})]})})},a.prototype.getSingleValue=function(o,l){return t(this,void 0,void 0,function(){var u;return n(this,function(f){return u={doctype:o,field:l},[2,this.axios.get("/api/method/frappe.client.get_single_value",{params:u}).then(function(h){return h.data}).catch(function(h){var p,x;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:"There was an error while getting the value of single doctype.",exception:(x=(p=h.response.data.exception)!==null&&p!==void 0?p:h.response.data.exc_type)!==null&&x!==void 0?x:""})})]})})},a.prototype.submit=function(o){return t(this,void 0,void 0,function(){return n(this,function(l){return[2,this.axios.post("/api/method/frappe.client.submit",{doc:o}).then(function(u){return u.data.message}).catch(function(u){var f,h;throw e(e({},u.response.data),{httpStatus:u.response.status,httpStatusText:u.response.statusText,message:"There was an error while submitting the document.",exception:(h=(f=u.response.data.exception)!==null&&f!==void 0?f:u.response.data.exc_type)!==null&&h!==void 0?h:""})})]})})},a.prototype.cancel=function(o,l){return t(this,void 0,void 0,function(){return n(this,function(u){return[2,this.axios.post("/api/method/frappe.client.cancel",{doctype:o,name:l}).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while cancelling the document.",exception:(p=(h=f.response.data.exception)!==null&&h!==void 0?h:f.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},a}();return Tr.FrappeDB=s,Tr}var kr={},Na={};/*! Axios v1.8.2 Copyright (c) 2025 Matt Zabriskie and contributors */var ag,t_;function bC(){if(t_)return ag;t_=1;function e(E,A){return function(){return E.apply(A,arguments)}}const{toString:t}=Object.prototype,{getPrototypeOf:n}=Object,s=(E=>A=>{const L=t.call(A);return E[L]||(E[L]=L.slice(8,-1).toLowerCase())})(Object.create(null)),a=E=>(E=E.toLowerCase(),A=>s(A)===E),o=E=>A=>typeof A===E,{isArray:l}=Array,u=o("undefined");function f(E){return E!==null&&!u(E)&&E.constructor!==null&&!u(E.constructor)&&y(E.constructor.isBuffer)&&E.constructor.isBuffer(E)}const h=a("ArrayBuffer");function p(E){let A;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?A=ArrayBuffer.isView(E):A=E&&E.buffer&&h(E.buffer),A}const x=o("string"),y=o("function"),b=o("number"),w=E=>E!==null&&typeof E=="object",_=E=>E===!0||E===!1,j=E=>{if(s(E)!=="object")return!1;const A=n(E);return(A===null||A===Object.prototype||Object.getPrototypeOf(A)===null)&&!(Symbol.toStringTag in E)&&!(Symbol.iterator in E)},S=a("Date"),C=a("File"),O=a("Blob"),D=a("FileList"),k=E=>w(E)&&y(E.pipe),R=E=>{let A;return E&&(typeof FormData=="function"&&E instanceof FormData||y(E.append)&&((A=s(E))==="formdata"||A==="object"&&y(E.toString)&&E.toString()==="[object FormData]"))},M=a("URLSearchParams"),[F,q,re,G]=["ReadableStream","Request","Response","Headers"].map(a),ee=E=>E.trim?E.trim():E.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function de(E,A,{allOwnKeys:L=!1}={}){if(E===null||typeof E>"u")return;let U,te;if(typeof E!="object"&&(E=[E]),l(E))for(U=0,te=E.length;U<te;U++)A.call(null,E[U],U,E);else{const ie=L?Object.getOwnPropertyNames(E):Object.keys(E),fe=ie.length;let Pe;for(U=0;U<fe;U++)Pe=ie[U],A.call(null,E[Pe],Pe,E)}}function J(E,A){A=A.toLowerCase();const L=Object.keys(E);let U=L.length,te;for(;U-- >0;)if(te=L[U],A===te.toLowerCase())return te;return null}const K=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:yC,B=E=>!u(E)&&E!==K;function Y(){const{caseless:E}=B(this)&&this||{},A={},L=(U,te)=>{const ie=E&&J(A,te)||te;j(A[ie])&&j(U)?A[ie]=Y(A[ie],U):j(U)?A[ie]=Y({},U):l(U)?A[ie]=U.slice():A[ie]=U};for(let U=0,te=arguments.length;U<te;U++)arguments[U]&&de(arguments[U],L);return A}const Q=(E,A,L,{allOwnKeys:U}={})=>(de(A,(te,ie)=>{L&&y(te)?E[ie]=e(te,L):E[ie]=te},{allOwnKeys:U}),E),ve=E=>(E.charCodeAt(0)===65279&&(E=E.slice(1)),E),H=(E,A,L,U)=>{E.prototype=Object.create(A.prototype,U),E.prototype.constructor=E,Object.defineProperty(E,"super",{value:A.prototype}),L&&Object.assign(E.prototype,L)},ae=(E,A,L,U)=>{let te,ie,fe;const Pe={};if(A=A||{},E==null)return A;do{for(te=Object.getOwnPropertyNames(E),ie=te.length;ie-- >0;)fe=te[ie],(!U||U(fe,E,A))&&!Pe[fe]&&(A[fe]=E[fe],Pe[fe]=!0);E=L!==!1&&n(E)}while(E&&(!L||L(E,A))&&E!==Object.prototype);return A},we=(E,A,L)=>{E=String(E),(L===void 0||L>E.length)&&(L=E.length),L-=A.length;const U=E.indexOf(A,L);return U!==-1&&U===L},W=E=>{if(!E)return null;if(l(E))return E;let A=E.length;if(!b(A))return null;const L=new Array(A);for(;A-- >0;)L[A]=E[A];return L},me=(E=>A=>E&&A instanceof E)(typeof Uint8Array<"u"&&n(Uint8Array)),ke=(E,A)=>{const L=(E&&E[Symbol.iterator]).call(E);let U;for(;(U=L.next())&&!U.done;){const te=U.value;A.call(E,te[0],te[1])}},ye=(E,A)=>{let L;const U=[];for(;(L=E.exec(A))!==null;)U.push(L);return U},Ce=a("HTMLFormElement"),ze=E=>E.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(A,L,U){return L.toUpperCase()+U}),tt=(({hasOwnProperty:E})=>(A,L)=>E.call(A,L))(Object.prototype),Ve=a("RegExp"),Et=(E,A)=>{const L=Object.getOwnPropertyDescriptors(E),U={};de(L,(te,ie)=>{let fe;(fe=A(te,ie,E))!==!1&&(U[ie]=fe||te)}),Object.defineProperties(E,U)},ct=E=>{Et(E,(A,L)=>{if(y(E)&&["arguments","caller","callee"].indexOf(L)!==-1)return!1;const U=E[L];if(y(U)){if(A.enumerable=!1,"writable"in A){A.writable=!1;return}A.set||(A.set=()=>{throw Error("Can not rewrite read-only method '"+L+"'")})}})},yt=(E,A)=>{const L={},U=te=>{te.forEach(ie=>{L[ie]=!0})};return l(E)?U(E):U(String(E).split(A)),L},Me=()=>{},mt=(E,A)=>E!=null&&Number.isFinite(E=+E)?E:A;function Yt(E){return!!(E&&y(E.append)&&E[Symbol.toStringTag]==="FormData"&&E[Symbol.iterator])}const kt=E=>{const A=new Array(10),L=(U,te)=>{if(w(U)){if(A.indexOf(U)>=0)return;if(!("toJSON"in U)){A[te]=U;const ie=l(U)?[]:{};return de(U,(fe,Pe)=>{const rt=L(fe,te+1);!u(rt)&&(ie[Pe]=rt)}),A[te]=void 0,ie}}return U};return L(E,0)},It=a("AsyncFunction"),Xt=E=>E&&(w(E)||y(E))&&y(E.then)&&y(E.catch),$=((E,A)=>E?setImmediate:A?((L,U)=>(K.addEventListener("message",({source:te,data:ie})=>{te===K&&ie===L&&U.length&&U.shift()()},!1),te=>{U.push(te),K.postMessage(L,"*")}))(`axios@${Math.random()}`,[]):L=>setTimeout(L))(typeof setImmediate=="function",y(K.postMessage)),oe=typeof queueMicrotask<"u"?queueMicrotask.bind(K):typeof process<"u"&&process.nextTick||$;var V={isArray:l,isArrayBuffer:h,isBuffer:f,isFormData:R,isArrayBufferView:p,isString:x,isNumber:b,isBoolean:_,isObject:w,isPlainObject:j,isReadableStream:F,isRequest:q,isResponse:re,isHeaders:G,isUndefined:u,isDate:S,isFile:C,isBlob:O,isRegExp:Ve,isFunction:y,isStream:k,isURLSearchParams:M,isTypedArray:me,isFileList:D,forEach:de,merge:Y,extend:Q,trim:ee,stripBOM:ve,inherits:H,toFlatObject:ae,kindOf:s,kindOfTest:a,endsWith:we,toArray:W,forEachEntry:ke,matchAll:ye,isHTMLForm:Ce,hasOwnProperty:tt,hasOwnProp:tt,reduceDescriptors:Et,freezeMethods:ct,toObjectSet:yt,toCamelCase:ze,noop:Me,toFiniteNumber:mt,findKey:J,global:K,isContextDefined:B,isSpecCompliantForm:Yt,toJSONObject:kt,isAsyncFn:It,isThenable:Xt,setImmediate:$,asap:oe};function je(E,A,L,U,te){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=E,this.name="AxiosError",A&&(this.code=A),L&&(this.config=L),U&&(this.request=U),te&&(this.response=te,this.status=te.status?te.status:null)}V.inherits(je,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.status}}});const Re=je.prototype,Oe={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(E=>{Oe[E]={value:E}}),Object.defineProperties(je,Oe),Object.defineProperty(Re,"isAxiosError",{value:!0}),je.from=(E,A,L,U,te,ie)=>{const fe=Object.create(Re);return V.toFlatObject(E,fe,function(Pe){return Pe!==Error.prototype},Pe=>Pe!=="isAxiosError"),je.call(fe,E.message,A,L,U,te),fe.cause=E,fe.name=E.name,ie&&Object.assign(fe,ie),fe};var Ue=null;function $e(E){return V.isPlainObject(E)||V.isArray(E)}function Ke(E){return V.endsWith(E,"[]")?E.slice(0,-2):E}function bt(E,A,L){return E?E.concat(A).map(function(U,te){return U=Ke(U),!L&&te?"["+U+"]":U}).join(L?".":""):A}function es(E){return V.isArray(E)&&!E.some($e)}const Te=V.toFlatObject(V,{},null,function(E){return/^is[A-Z]/.test(E)});function Be(E,A,L){if(!V.isObject(E))throw new TypeError("target must be an object");A=A||new FormData,L=V.toFlatObject(L,{metaTokens:!0,dots:!1,indexes:!1},!1,function(xt,it){return!V.isUndefined(it[xt])});const U=L.metaTokens,te=L.visitor||Le,ie=L.dots,fe=L.indexes,Pe=(L.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(A);if(!V.isFunction(te))throw new TypeError("visitor must be a function");function rt(xt){if(xt===null)return"";if(V.isDate(xt))return xt.toISOString();if(!Pe&&V.isBlob(xt))throw new je("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(xt)||V.isTypedArray(xt)?Pe&&typeof Blob=="function"?new Blob([xt]):Buffer.from(xt):xt}function Le(xt,it,Qe){let ss=xt;if(xt&&!Qe&&typeof xt=="object"){if(V.endsWith(it,"{}"))it=U?it:it.slice(0,-2),xt=JSON.stringify(xt);else if(V.isArray(xt)&&es(xt)||(V.isFileList(xt)||V.endsWith(it,"[]"))&&(ss=V.toArray(xt)))return it=Ke(it),ss.forEach(function(Ln,bn){!(V.isUndefined(Ln)||Ln===null)&&A.append(fe===!0?bt([it],bn,ie):fe===null?it:it+"[]",rt(Ln))}),!1}return $e(xt)?!0:(A.append(bt(Qe,it,ie),rt(xt)),!1)}const qe=[],dt=Object.assign(Te,{defaultVisitor:Le,convertValue:rt,isVisitable:$e});function tn(xt,it){if(!V.isUndefined(xt)){if(qe.indexOf(xt)!==-1)throw Error("Circular reference detected in "+it.join("."));qe.push(xt),V.forEach(xt,function(Qe,ss){(!(V.isUndefined(Qe)||Qe===null)&&te.call(A,Qe,V.isString(ss)?ss.trim():ss,it,dt))===!0&&tn(Qe,it?it.concat(ss):[ss])}),qe.pop()}}if(!V.isObject(E))throw new TypeError("data must be an object");return tn(E),A}function _t(E){const A={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(E).replace(/[!'()~]|%20|%00/g,function(L){return A[L]})}function On(E,A){this._pairs=[],E&&Be(E,this,A)}const os=On.prototype;os.append=function(E,A){this._pairs.push([E,A])},os.toString=function(E){const A=E?function(L){return E.call(this,L,_t)}:_t;return this._pairs.map(function(L){return A(L[0])+"="+A(L[1])},"").join("&")};function ws(E){return encodeURIComponent(E).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function qn(E,A,L){if(!A)return E;const U=L&&L.encode||ws;V.isFunction(L)&&(L={serialize:L});const te=L&&L.serialize;let ie;if(te?ie=te(A,L):ie=V.isURLSearchParams(A)?A.toString():new On(A,L).toString(U),ie){const fe=E.indexOf("#");fe!==-1&&(E=E.slice(0,fe)),E+=(E.indexOf("?")===-1?"?":"&")+ie}return E}class vr{constructor(){this.handlers=[]}use(A,L,U){return this.handlers.push({fulfilled:A,rejected:L,synchronous:U?U.synchronous:!1,runWhen:U?U.runWhen:null}),this.handlers.length-1}eject(A){this.handlers[A]&&(this.handlers[A]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(A){V.forEach(this.handlers,function(L){L!==null&&A(L)})}}var nt=vr,Dt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zt=typeof URLSearchParams<"u"?URLSearchParams:On,jt=typeof FormData<"u"?FormData:null,Jt=typeof Blob<"u"?Blob:null,pn={isBrowser:!0,classes:{URLSearchParams:zt,FormData:jt,Blob:Jt},protocols:["http","https","file","blob","url","data"]};const an=typeof window<"u"&&typeof document<"u",ts=typeof navigator=="object"&&navigator||void 0,Yn=an&&(!ts||["ReactNative","NativeScript","NS"].indexOf(ts.product)<0),X=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ne=an&&window.location.href||"http://localhost";var ue=Object.freeze({__proto__:null,hasBrowserEnv:an,hasStandardBrowserWebWorkerEnv:X,hasStandardBrowserEnv:Yn,navigator:ts,origin:ne}),be=z(z({},ue),pn);function Ae(E,A){return Be(E,new be.classes.URLSearchParams,Object.assign({visitor:function(L,U,te,ie){return be.isNode&&V.isBuffer(L)?(this.append(U,L.toString("base64")),!1):ie.defaultVisitor.apply(this,arguments)}},A))}function Ye(E){return V.matchAll(/\w+|\[(\w*)]/g,E).map(A=>A[0]==="[]"?"":A[1]||A[0])}function Ze(E){const A={},L=Object.keys(E);let U;const te=L.length;let ie;for(U=0;U<te;U++)ie=L[U],A[ie]=E[ie];return A}function at(E){function A(L,U,te,ie){let fe=L[ie++];if(fe==="__proto__")return!0;const Pe=Number.isFinite(+fe),rt=ie>=L.length;return fe=!fe&&V.isArray(te)?te.length:fe,rt?(V.hasOwnProp(te,fe)?te[fe]=[te[fe],U]:te[fe]=U,!Pe):((!te[fe]||!V.isObject(te[fe]))&&(te[fe]=[]),A(L,U,te[fe],ie)&&V.isArray(te[fe])&&(te[fe]=Ze(te[fe])),!Pe)}if(V.isFormData(E)&&V.isFunction(E.entries)){const L={};return V.forEachEntry(E,(U,te)=>{A(Ye(U),te,L,0)}),L}return null}function lt(E,A,L){if(V.isString(E))try{return(A||JSON.parse)(E),V.trim(E)}catch(U){if(U.name!=="SyntaxError")throw U}return(L||JSON.stringify)(E)}const St={transitional:Dt,adapter:["xhr","http","fetch"],transformRequest:[function(E,A){const L=A.getContentType()||"",U=L.indexOf("application/json")>-1,te=V.isObject(E);if(te&&V.isHTMLForm(E)&&(E=new FormData(E)),V.isFormData(E))return U?JSON.stringify(at(E)):E;if(V.isArrayBuffer(E)||V.isBuffer(E)||V.isStream(E)||V.isFile(E)||V.isBlob(E)||V.isReadableStream(E))return E;if(V.isArrayBufferView(E))return E.buffer;if(V.isURLSearchParams(E))return A.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),E.toString();let ie;if(te){if(L.indexOf("application/x-www-form-urlencoded")>-1)return Ae(E,this.formSerializer).toString();if((ie=V.isFileList(E))||L.indexOf("multipart/form-data")>-1){const fe=this.env&&this.env.FormData;return Be(ie?{"files[]":E}:E,fe&&new fe,this.formSerializer)}}return te||U?(A.setContentType("application/json",!1),lt(E)):E}],transformResponse:[function(E){const A=this.transitional||St.transitional,L=A&&A.forcedJSONParsing,U=this.responseType==="json";if(V.isResponse(E)||V.isReadableStream(E))return E;if(E&&V.isString(E)&&(L&&!this.responseType||U)){const te=!(A&&A.silentJSONParsing)&&U;try{return JSON.parse(E)}catch(ie){if(te)throw ie.name==="SyntaxError"?je.from(ie,je.ERR_BAD_RESPONSE,this,null,this.response):ie}}return E}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:be.classes.FormData,Blob:be.classes.Blob},validateStatus:function(E){return E>=200&&E<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],E=>{St.headers[E]={}});var Je=St;const pt=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var wt=E=>{const A={};let L,U,te;return E&&E.split(`
`).forEach(function(ie){te=ie.indexOf(":"),L=ie.substring(0,te).trim().toLowerCase(),U=ie.substring(te+1).trim(),!(!L||A[L]&&pt[L])&&(L==="set-cookie"?A[L]?A[L].push(U):A[L]=[U]:A[L]=A[L]?A[L]+", "+U:U)}),A};const on=Symbol("internals");function Sn(E){return E&&String(E).trim().toLowerCase()}function en(E){return E===!1||E==null?E:V.isArray(E)?E.map(en):String(E)}function et(E){const A=Object.create(null),L=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let U;for(;U=L.exec(E);)A[U[1]]=U[2];return A}const gt=E=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(E.trim());function Ft(E,A,L,U,te){if(V.isFunction(U))return U.call(this,A,L);if(te&&(A=L),!!V.isString(A)){if(V.isString(U))return A.indexOf(U)!==-1;if(V.isRegExp(U))return U.test(A)}}function gn(E){return E.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(A,L,U)=>L.toUpperCase()+U)}function Nn(E,A){const L=V.toCamelCase(" "+A);["get","set","has"].forEach(U=>{Object.defineProperty(E,U+L,{value:function(te,ie,fe){return this[U].call(this,A,te,ie,fe)},configurable:!0})})}class In{constructor(A){A&&this.set(A)}set(A,L,U){const te=this;function ie(Pe,rt,Le){const qe=Sn(rt);if(!qe)throw new Error("header name must be a non-empty string");const dt=V.findKey(te,qe);(!dt||te[dt]===void 0||Le===!0||Le===void 0&&te[dt]!==!1)&&(te[dt||rt]=en(Pe))}const fe=(Pe,rt)=>V.forEach(Pe,(Le,qe)=>ie(Le,qe,rt));if(V.isPlainObject(A)||A instanceof this.constructor)fe(A,L);else if(V.isString(A)&&(A=A.trim())&&!gt(A))fe(wt(A),L);else if(V.isHeaders(A))for(const[Pe,rt]of A.entries())ie(rt,Pe,U);else A!=null&&ie(L,A,U);return this}get(A,L){if(A=Sn(A),A){const U=V.findKey(this,A);if(U){const te=this[U];if(!L)return te;if(L===!0)return et(te);if(V.isFunction(L))return L.call(this,te,U);if(V.isRegExp(L))return L.exec(te);throw new TypeError("parser must be boolean|regexp|function")}}}has(A,L){if(A=Sn(A),A){const U=V.findKey(this,A);return!!(U&&this[U]!==void 0&&(!L||Ft(this,this[U],U,L)))}return!1}delete(A,L){const U=this;let te=!1;function ie(fe){if(fe=Sn(fe),fe){const Pe=V.findKey(U,fe);Pe&&(!L||Ft(U,U[Pe],Pe,L))&&(delete U[Pe],te=!0)}}return V.isArray(A)?A.forEach(ie):ie(A),te}clear(A){const L=Object.keys(this);let U=L.length,te=!1;for(;U--;){const ie=L[U];(!A||Ft(this,this[ie],ie,A,!0))&&(delete this[ie],te=!0)}return te}normalize(A){const L=this,U={};return V.forEach(this,(te,ie)=>{const fe=V.findKey(U,ie);if(fe){L[fe]=en(te),delete L[ie];return}const Pe=A?gn(ie):String(ie).trim();Pe!==ie&&delete L[ie],L[Pe]=en(te),U[Pe]=!0}),this}concat(...A){return this.constructor.concat(this,...A)}toJSON(A){const L=Object.create(null);return V.forEach(this,(U,te)=>{U!=null&&U!==!1&&(L[te]=A&&V.isArray(U)?U.join(", "):U)}),L}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([A,L])=>A+": "+L).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(A){return A instanceof this?A:new this(A)}static concat(A,...L){const U=new this(A);return L.forEach(te=>U.set(te)),U}static accessor(A){const L=(this[on]=this[on]={accessors:{}}).accessors,U=this.prototype;function te(ie){const fe=Sn(ie);L[fe]||(Nn(U,ie),L[fe]=!0)}return V.isArray(A)?A.forEach(te):te(A),this}}In.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),V.reduceDescriptors(In.prototype,({value:E},A)=>{let L=A[0].toUpperCase()+A.slice(1);return{get:()=>E,set(U){this[L]=U}}}),V.freezeMethods(In);var ns=In;function tr(E,A){const L=this||Je,U=A||L,te=ns.from(U.headers);let ie=U.data;return V.forEach(E,function(fe){ie=fe.call(L,ie,te.normalize(),A?A.status:void 0)}),te.normalize(),ie}function nr(E){return!!(E&&E.__CANCEL__)}function ms(E,A,L){je.call(this,E!=null?E:"canceled",je.ERR_CANCELED,A,L),this.name="CanceledError"}V.inherits(ms,je,{__CANCEL__:!0});function sr(E,A,L){const U=L.config.validateStatus;!L.status||!U||U(L.status)?E(L):A(new je("Request failed with status code "+L.status,[je.ERR_BAD_REQUEST,je.ERR_BAD_RESPONSE][Math.floor(L.status/100)-4],L.config,L.request,L))}function Tt(E){const A=/^([-+\w]{1,25})(:?\/\/|:)/.exec(E);return A&&A[1]||""}function En(E,A){E=E||10;const L=new Array(E),U=new Array(E);let te=0,ie=0,fe;return A=A!==void 0?A:1e3,function(Pe){const rt=Date.now(),Le=U[ie];fe||(fe=rt),L[te]=Pe,U[te]=rt;let qe=ie,dt=0;for(;qe!==te;)dt+=L[qe++],qe=qe%E;if(te=(te+1)%E,te===ie&&(ie=(ie+1)%E),rt-fe<A)return;const tn=Le&&rt-Le;return tn?Math.round(dt*1e3/tn):void 0}}function la(E,A){let L=0,U=1e3/A,te,ie;const fe=(Pe,rt=Date.now())=>{L=rt,te=null,ie&&(clearTimeout(ie),ie=null),E.apply(null,Pe)};return[(...Pe)=>{const rt=Date.now(),Le=rt-L;Le>=U?fe(Pe,rt):(te=Pe,ie||(ie=setTimeout(()=>{ie=null,fe(te)},U-Le)))},()=>te&&fe(te)]}const ls=(E,A,L=3)=>{let U=0;const te=En(50,250);return la(ie=>{const fe=ie.loaded,Pe=ie.lengthComputable?ie.total:void 0,rt=fe-U,Le=te(rt),qe=fe<=Pe;U=fe;const dt={loaded:fe,total:Pe,progress:Pe?fe/Pe:void 0,bytes:rt,rate:Le||void 0,estimated:Le&&Pe&&qe?(Pe-fe)/Le:void 0,event:ie,lengthComputable:Pe!=null,[A?"download":"upload"]:!0};E(dt)},L)},dn=(E,A)=>{const L=E!=null;return[U=>A[0]({lengthComputable:L,total:E,loaded:U}),A[1]]},wr=E=>(...A)=>V.asap(()=>E(...A));var Po=be.hasStandardBrowserEnv?((E,A)=>L=>(L=new URL(L,be.origin),E.protocol===L.protocol&&E.host===L.host&&(A||E.port===L.port)))(new URL(be.origin),be.navigator&&/(msie|trident)/i.test(be.navigator.userAgent)):()=>!0,Lo=be.hasStandardBrowserEnv?{write(E,A,L,U,te,ie){const fe=[E+"="+encodeURIComponent(A)];V.isNumber(L)&&fe.push("expires="+new Date(L).toGMTString()),V.isString(U)&&fe.push("path="+U),V.isString(te)&&fe.push("domain="+te),ie===!0&&fe.push("secure"),document.cookie=fe.join("; ")},read(E){const A=document.cookie.match(new RegExp("(^|;\\s*)("+E+")=([^;]*)"));return A?decodeURIComponent(A[3]):null},remove(E){this.write(E,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Cs(E){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(E)}function rd(E,A){return A?E.replace(/\/?\/$/,"")+"/"+A.replace(/^\/+/,""):E}function ad(E,A,L){let U=!Cs(A);return E&&U||L==!1?rd(E,A):A}const Mi=E=>E instanceof ns?z({},E):E;function Br(E,A){A=A||{};const L={};function U(Le,qe,dt,tn){return V.isPlainObject(Le)&&V.isPlainObject(qe)?V.merge.call({caseless:tn},Le,qe):V.isPlainObject(qe)?V.merge({},qe):V.isArray(qe)?qe.slice():qe}function te(Le,qe,dt,tn){if(V.isUndefined(qe)){if(!V.isUndefined(Le))return U(void 0,Le,dt,tn)}else return U(Le,qe,dt,tn)}function ie(Le,qe){if(!V.isUndefined(qe))return U(void 0,qe)}function fe(Le,qe){if(V.isUndefined(qe)){if(!V.isUndefined(Le))return U(void 0,Le)}else return U(void 0,qe)}function Pe(Le,qe,dt){if(dt in A)return U(Le,qe);if(dt in E)return U(void 0,Le)}const rt={url:ie,method:ie,data:ie,baseURL:fe,transformRequest:fe,transformResponse:fe,paramsSerializer:fe,timeout:fe,timeoutMessage:fe,withCredentials:fe,withXSRFToken:fe,adapter:fe,responseType:fe,xsrfCookieName:fe,xsrfHeaderName:fe,onUploadProgress:fe,onDownloadProgress:fe,decompress:fe,maxContentLength:fe,maxBodyLength:fe,beforeRedirect:fe,transport:fe,httpAgent:fe,httpsAgent:fe,cancelToken:fe,socketPath:fe,responseEncoding:fe,validateStatus:Pe,headers:(Le,qe,dt)=>te(Mi(Le),Mi(qe),dt,!0)};return V.forEach(Object.keys(Object.assign({},E,A)),function(Le){const qe=rt[Le]||te,dt=qe(E[Le],A[Le],Le);V.isUndefined(dt)&&qe!==Pe||(L[Le]=dt)}),L}var Pi=E=>{const A=Br({},E);let{data:L,withXSRFToken:U,xsrfHeaderName:te,xsrfCookieName:ie,headers:fe,auth:Pe}=A;A.headers=fe=ns.from(fe),A.url=qn(ad(A.baseURL,A.url),E.params,E.paramsSerializer),Pe&&fe.set("Authorization","Basic "+btoa((Pe.username||"")+":"+(Pe.password?unescape(encodeURIComponent(Pe.password)):"")));let rt;if(V.isFormData(L)){if(be.hasStandardBrowserEnv||be.hasStandardBrowserWebWorkerEnv)fe.setContentType(void 0);else if((rt=fe.getContentType())!==!1){const[Le,...qe]=rt?rt.split(";").map(dt=>dt.trim()).filter(Boolean):[];fe.setContentType([Le||"multipart/form-data",...qe].join("; "))}}if(be.hasStandardBrowserEnv&&(U&&V.isFunction(U)&&(U=U(A)),U||U!==!1&&Po(A.url))){const Le=te&&ie&&Lo.read(ie);Le&&fe.set(te,Le)}return A},sm=typeof XMLHttpRequest<"u"&&function(E){return new Promise(function(A,L){const U=Pi(E);let te=U.data;const ie=ns.from(U.headers).normalize();let{responseType:fe,onUploadProgress:Pe,onDownloadProgress:rt}=U,Le,qe,dt,tn,xt;function it(){tn&&tn(),xt&&xt(),U.cancelToken&&U.cancelToken.unsubscribe(Le),U.signal&&U.signal.removeEventListener("abort",Le)}let Qe=new XMLHttpRequest;Qe.open(U.method.toUpperCase(),U.url,!0),Qe.timeout=U.timeout;function ss(){if(!Qe)return;const bn=ns.from("getAllResponseHeaders"in Qe&&Qe.getAllResponseHeaders()),rr={data:!fe||fe==="text"||fe==="json"?Qe.responseText:Qe.response,status:Qe.status,statusText:Qe.statusText,headers:bn,config:E,request:Qe};sr(function(Vi){A(Vi),it()},function(Vi){L(Vi),it()},rr),Qe=null}"onloadend"in Qe?Qe.onloadend=ss:Qe.onreadystatechange=function(){!Qe||Qe.readyState!==4||Qe.status===0&&!(Qe.responseURL&&Qe.responseURL.indexOf("file:")===0)||setTimeout(ss)},Qe.onabort=function(){Qe&&(L(new je("Request aborted",je.ECONNABORTED,E,Qe)),Qe=null)},Qe.onerror=function(){L(new je("Network Error",je.ERR_NETWORK,E,Qe)),Qe=null},Qe.ontimeout=function(){let bn=U.timeout?"timeout of "+U.timeout+"ms exceeded":"timeout exceeded";const rr=U.transitional||Dt;U.timeoutErrorMessage&&(bn=U.timeoutErrorMessage),L(new je(bn,rr.clarifyTimeoutError?je.ETIMEDOUT:je.ECONNABORTED,E,Qe)),Qe=null},te===void 0&&ie.setContentType(null),"setRequestHeader"in Qe&&V.forEach(ie.toJSON(),function(bn,rr){Qe.setRequestHeader(rr,bn)}),V.isUndefined(U.withCredentials)||(Qe.withCredentials=!!U.withCredentials),fe&&fe!=="json"&&(Qe.responseType=U.responseType),rt&&([dt,xt]=ls(rt,!0),Qe.addEventListener("progress",dt)),Pe&&Qe.upload&&([qe,tn]=ls(Pe),Qe.upload.addEventListener("progress",qe),Qe.upload.addEventListener("loadend",tn)),(U.cancelToken||U.signal)&&(Le=bn=>{Qe&&(L(!bn||bn.type?new ms(null,E,Qe):bn),Qe.abort(),Qe=null)},U.cancelToken&&U.cancelToken.subscribe(Le),U.signal&&(U.signal.aborted?Le():U.signal.addEventListener("abort",Le)));const Ln=Tt(U.url);if(Ln&&be.protocols.indexOf(Ln)===-1){L(new je("Unsupported protocol "+Ln+":",je.ERR_BAD_REQUEST,E));return}Qe.send(te||null)})},Os=(E,A)=>{const{length:L}=E=E?E.filter(Boolean):[];if(A||L){let U=new AbortController,te;const ie=function(Le){if(!te){te=!0,Pe();const qe=Le instanceof Error?Le:this.reason;U.abort(qe instanceof je?qe:new ms(qe instanceof Error?qe.message:qe))}};let fe=A&&setTimeout(()=>{fe=null,ie(new je(`timeout ${A} of ms exceeded`,je.ETIMEDOUT))},A);const Pe=()=>{E&&(fe&&clearTimeout(fe),fe=null,E.forEach(Le=>{Le.unsubscribe?Le.unsubscribe(ie):Le.removeEventListener("abort",ie)}),E=null)};E.forEach(Le=>Le.addEventListener("abort",ie));const{signal:rt}=U;return rt.unsubscribe=()=>V.asap(Pe),rt}};const oc=function*(E,A){let L=E.byteLength;if(L<A){yield E;return}let U=0,te;for(;U<L;)te=U+A,yield E.slice(U,te),U=te},id=function(E,A){return Qp(this,null,function*(){try{for(var L=Vw(lc(E)),U,te,ie;U=!(te=yield new ro(L.next())).done;U=!1){const fe=te.value;yield*Zp(oc(fe,A))}}catch(te){ie=[te]}finally{try{U&&(te=L.return)&&(yield new ro(te.call(L)))}finally{if(ie)throw ie[0]}}})},lc=function(E){return Qp(this,null,function*(){if(E[Symbol.asyncIterator]){yield*Zp(E);return}const A=E.getReader();try{for(;;){const{done:L,value:U}=yield new ro(A.read());if(L)break;yield U}}finally{yield new ro(A.cancel())}})},ca=(E,A,L,U)=>{const te=id(E,A);let ie=0,fe,Pe=Le=>{fe||(fe=!0,U&&U(Le))};return new ReadableStream({pull(Le){return ge(this,null,function*(){try{const{done:qe,value:dt}=yield te.next();if(qe){Pe(),Le.close();return}let tn=dt.byteLength;if(L){let xt=ie+=tn;L(xt)}Le.enqueue(new Uint8Array(dt))}catch(qe){throw Pe(qe),qe}})},cancel(Le){return Pe(Le),te.return()}},{highWaterMark:2})},Li=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",cc=Li&&typeof ReadableStream=="function",Ua=Li&&(typeof TextEncoder=="function"?(E=>A=>E.encode(A))(new TextEncoder):E=>ge(null,null,function*(){return new Uint8Array(yield new Response(E).arrayBuffer())})),od=(E,...A)=>{try{return!!E(...A)}catch(L){return!1}},ld=cc&&od(()=>{let E=!1;const A=new Request(be.origin,{body:new ReadableStream,method:"POST",get duplex(){return E=!0,"half"}}).headers.has("Content-Type");return E&&!A}),uc=64*1024,zi=cc&&od(()=>V.isReadableStream(new Response("").body)),zo={stream:zi&&(E=>E.body)};Li&&(E=>{["text","arrayBuffer","blob","formData","stream"].forEach(A=>{!zo[A]&&(zo[A]=V.isFunction(E[A])?L=>L[A]():(L,U)=>{throw new je(`Response type '${A}' is not supported`,je.ERR_NOT_SUPPORT,U)})})})(new Response);const rm=E=>ge(null,null,function*(){if(E==null)return 0;if(V.isBlob(E))return E.size;if(V.isSpecCompliantForm(E))return(yield new Request(be.origin,{method:"POST",body:E}).arrayBuffer()).byteLength;if(V.isArrayBufferView(E)||V.isArrayBuffer(E))return E.byteLength;if(V.isURLSearchParams(E)&&(E=E+""),V.isString(E))return(yield Ua(E)).byteLength}),Uo=(E,A)=>ge(null,null,function*(){const L=V.toFiniteNumber(E.getContentLength());return L!=null?L:rm(A)});var dc=Li&&(E=>ge(null,null,function*(){let{url:A,method:L,data:U,signal:te,cancelToken:ie,timeout:fe,onDownloadProgress:Pe,onUploadProgress:rt,responseType:Le,headers:qe,withCredentials:dt="same-origin",fetchOptions:tn}=Pi(E);Le=Le?(Le+"").toLowerCase():"text";let xt=Os([te,ie&&ie.toAbortSignal()],fe),it;const Qe=xt&&xt.unsubscribe&&(()=>{xt.unsubscribe()});let ss;try{if(rt&&ld&&L!=="get"&&L!=="head"&&(ss=yield Uo(qe,U))!==0){let Fr=new Request(A,{method:"POST",body:U,duplex:"half"}),$a;if(V.isFormData(U)&&($a=Fr.headers.get("content-type"))&&qe.setContentType($a),Fr.body){const[Vo,$o]=dn(ss,ls(wr(rt)));U=ca(Fr.body,uc,Vo,$o)}}V.isString(dt)||(dt=dt?"include":"omit");const Ln="credentials"in Request.prototype;it=new Request(A,xe(z({},tn),{signal:xt,method:L.toUpperCase(),headers:qe.normalize().toJSON(),body:U,duplex:"half",credentials:Ln?dt:void 0}));let bn=yield fetch(it);const rr=zi&&(Le==="stream"||Le==="response");if(zi&&(Pe||rr&&Qe)){const Fr={};["status","statusText","headers"].forEach(ud=>{Fr[ud]=bn[ud]});const $a=V.toFiniteNumber(bn.headers.get("content-length")),[Vo,$o]=Pe&&dn($a,ls(wr(Pe),!0))||[];bn=new Response(ca(bn.body,uc,Vo,()=>{$o&&$o(),Qe&&Qe()}),Fr)}Le=Le||"text";let Vi=yield zo[V.findKey(zo,Le)||"text"](bn,E);return!rr&&Qe&&Qe(),yield new Promise((Fr,$a)=>{sr(Fr,$a,{data:Vi,headers:ns.from(bn.headers),status:bn.status,statusText:bn.statusText,config:E,request:it})})}catch(Ln){throw Qe&&Qe(),Ln&&Ln.name==="TypeError"&&/fetch/i.test(Ln.message)?Object.assign(new je("Network Error",je.ERR_NETWORK,E,it),{cause:Ln.cause||Ln}):je.from(Ln,Ln&&Ln.code,E,it)}}));const Ui={http:Ue,xhr:sm,fetch:dc};V.forEach(Ui,(E,A)=>{if(E){try{Object.defineProperty(E,"name",{value:A})}catch(L){}Object.defineProperty(E,"adapterName",{value:A})}});const ua=E=>`- ${E}`,Ba=E=>V.isFunction(E)||E===null||E===!1;var fc={getAdapter:E=>{E=V.isArray(E)?E:[E];const{length:A}=E;let L,U;const te={};for(let ie=0;ie<A;ie++){L=E[ie];let fe;if(U=L,!Ba(L)&&(U=Ui[(fe=String(L)).toLowerCase()],U===void 0))throw new je(`Unknown adapter '${fe}'`);if(U)break;te[fe||"#"+ie]=U}if(!U){const ie=Object.entries(te).map(([Pe,rt])=>`adapter ${Pe} `+(rt===!1?"is not supported by the environment":"is not available in the build"));let fe=A?ie.length>1?`since :
`+ie.map(ua).join(`
`):" "+ua(ie[0]):"as no adapter specified";throw new je("There is no suitable adapter to dispatch the request "+fe,"ERR_NOT_SUPPORT")}return U},adapters:Ui};function Bi(E){if(E.cancelToken&&E.cancelToken.throwIfRequested(),E.signal&&E.signal.aborted)throw new ms(null,E)}function hc(E){return Bi(E),E.headers=ns.from(E.headers),E.data=tr.call(E,E.transformRequest),["post","put","patch"].indexOf(E.method)!==-1&&E.headers.setContentType("application/x-www-form-urlencoded",!1),fc.getAdapter(E.adapter||Je.adapter)(E).then(function(A){return Bi(E),A.data=tr.call(E,E.transformResponse,A),A.headers=ns.from(A.headers),A},function(A){return nr(A)||(Bi(E),A&&A.response&&(A.response.data=tr.call(E,E.transformResponse,A.response),A.response.headers=ns.from(A.response.headers))),Promise.reject(A)})}const Fa="1.8.2",As={};["object","boolean","number","function","string","symbol"].forEach((E,A)=>{As[E]=function(L){return typeof L===E||"a"+(A<1?"n ":" ")+E}});const Bo={};As.transitional=function(E,A,L){function U(te,ie){return"[Axios v"+Fa+"] Transitional option '"+te+"'"+ie+(L?". "+L:"")}return(te,ie,fe)=>{if(E===!1)throw new je(U(ie," has been removed"+(A?" in "+A:"")),je.ERR_DEPRECATED);return A&&!Bo[ie]&&(Bo[ie]=!0,console.warn(U(ie," has been deprecated since v"+A+" and will be removed in the near future"))),E?E(te,ie,fe):!0}},As.spelling=function(E){return(A,L)=>(console.warn(`${L} is likely a misspelling of ${E}`),!0)};function Fi(E,A,L){if(typeof E!="object")throw new je("options must be an object",je.ERR_BAD_OPTION_VALUE);const U=Object.keys(E);let te=U.length;for(;te-- >0;){const ie=U[te],fe=A[ie];if(fe){const Pe=E[ie],rt=Pe===void 0||fe(Pe,ie,E);if(rt!==!0)throw new je("option "+ie+" must be "+rt,je.ERR_BAD_OPTION_VALUE);continue}if(L!==!0)throw new je("Unknown option "+ie,je.ERR_BAD_OPTION)}}var Vs={assertOptions:Fi,validators:As};const Rs=Vs.validators;class da{constructor(A){this.defaults=A,this.interceptors={request:new nt,response:new nt}}request(A,L){return ge(this,null,function*(){try{return yield this._request(A,L)}catch(U){if(U instanceof Error){let te={};Error.captureStackTrace?Error.captureStackTrace(te):te=new Error;const ie=te.stack?te.stack.replace(/^.+\n/,""):"";try{U.stack?ie&&!String(U.stack).endsWith(ie.replace(/^.+\n.+\n/,""))&&(U.stack+=`
`+ie):U.stack=ie}catch(fe){}}throw U}})}_request(A,L){typeof A=="string"?(L=L||{},L.url=A):L=A||{},L=Br(this.defaults,L);const{transitional:U,paramsSerializer:te,headers:ie}=L;U!==void 0&&Vs.assertOptions(U,{silentJSONParsing:Rs.transitional(Rs.boolean),forcedJSONParsing:Rs.transitional(Rs.boolean),clarifyTimeoutError:Rs.transitional(Rs.boolean)},!1),te!=null&&(V.isFunction(te)?L.paramsSerializer={serialize:te}:Vs.assertOptions(te,{encode:Rs.function,serialize:Rs.function},!0)),L.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?L.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:L.allowAbsoluteUrls=!0),Vs.assertOptions(L,{baseUrl:Rs.spelling("baseURL"),withXsrfToken:Rs.spelling("withXSRFToken")},!0),L.method=(L.method||this.defaults.method||"get").toLowerCase();let fe=ie&&V.merge(ie.common,ie[L.method]);ie&&V.forEach(["delete","get","head","post","put","patch","common"],it=>{delete ie[it]}),L.headers=ns.concat(fe,ie);const Pe=[];let rt=!0;this.interceptors.request.forEach(function(it){typeof it.runWhen=="function"&&it.runWhen(L)===!1||(rt=rt&&it.synchronous,Pe.unshift(it.fulfilled,it.rejected))});const Le=[];this.interceptors.response.forEach(function(it){Le.push(it.fulfilled,it.rejected)});let qe,dt=0,tn;if(!rt){const it=[hc.bind(this),void 0];for(it.unshift.apply(it,Pe),it.push.apply(it,Le),tn=it.length,qe=Promise.resolve(L);dt<tn;)qe=qe.then(it[dt++],it[dt++]);return qe}tn=Pe.length;let xt=L;for(dt=0;dt<tn;){const it=Pe[dt++],Qe=Pe[dt++];try{xt=it(xt)}catch(ss){Qe.call(this,ss);break}}try{qe=hc.call(this,xt)}catch(it){return Promise.reject(it)}for(dt=0,tn=Le.length;dt<tn;)qe=qe.then(Le[dt++],Le[dt++]);return qe}getUri(A){A=Br(this.defaults,A);const L=ad(A.baseURL,A.url,A.allowAbsoluteUrls);return qn(L,A.params,A.paramsSerializer)}}V.forEach(["delete","get","head","options"],function(E){da.prototype[E]=function(A,L){return this.request(Br(L||{},{method:E,url:A,data:(L||{}).data}))}}),V.forEach(["post","put","patch"],function(E){function A(L){return function(U,te,ie){return this.request(Br(ie||{},{method:E,headers:L?{"Content-Type":"multipart/form-data"}:{},url:U,data:te}))}}da.prototype[E]=A(),da.prototype[E+"Form"]=A(!0)});var Hi=da;class Ha{constructor(A){if(typeof A!="function")throw new TypeError("executor must be a function.");let L;this.promise=new Promise(function(te){L=te});const U=this;this.promise.then(te=>{if(!U._listeners)return;let ie=U._listeners.length;for(;ie-- >0;)U._listeners[ie](te);U._listeners=null}),this.promise.then=te=>{let ie;const fe=new Promise(Pe=>{U.subscribe(Pe),ie=Pe}).then(te);return fe.cancel=function(){U.unsubscribe(ie)},fe},A(function(te,ie,fe){U.reason||(U.reason=new ms(te,ie,fe),L(U.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(A){if(this.reason){A(this.reason);return}this._listeners?this._listeners.push(A):this._listeners=[A]}unsubscribe(A){if(!this._listeners)return;const L=this._listeners.indexOf(A);L!==-1&&this._listeners.splice(L,1)}toAbortSignal(){const A=new AbortController,L=U=>{A.abort(U)};return this.subscribe(L),A.signal.unsubscribe=()=>this.unsubscribe(L),A.signal}static source(){let A;return{token:new Ha(function(L){A=L}),cancel:A}}}var Fo=Ha;function cd(E){return function(A){return E.apply(null,A)}}function ps(E){return V.isObject(E)&&E.isAxiosError===!0}const _r={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(_r).forEach(([E,A])=>{_r[A]=E});var Ho=_r;function Va(E){const A=new Hi(E),L=e(Hi.prototype.request,A);return V.extend(L,Hi.prototype,A,{allOwnKeys:!0}),V.extend(L,A,null,{allOwnKeys:!0}),L.create=function(U){return Va(Br(E,U))},L}const Tn=Va(Je);return Tn.Axios=Hi,Tn.CanceledError=ms,Tn.CancelToken=Fo,Tn.isCancel=nr,Tn.VERSION=Fa,Tn.toFormData=Be,Tn.AxiosError=je,Tn.Cancel=Tn.CanceledError,Tn.all=function(E){return Promise.all(E)},Tn.spread=cd,Tn.isAxiosError=ps,Tn.mergeConfig=Br,Tn.AxiosHeaders=ns,Tn.formToJSON=E=>at(V.isHTMLForm(E)?new FormData(E):E),Tn.getAdapter=fc.getAdapter,Tn.HttpStatusCode=Ho,Tn.default=Tn,ag=Tn,ag}var n_;function lS(){if(n_)return Na;n_=1;var e=Na&&Na.__assign||function(){return e=Object.assign||function(a){for(var o,l=1,u=arguments.length;l<u;l++){o=arguments[l];for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(a[f]=o[f])}return a},e.apply(this,arguments)};Object.defineProperty(Na,"__esModule",{value:!0}),Na.getRequestHeaders=Na.getAxiosClient=void 0;var t=bC();function n(a,o,l,u,f){var h=t.default.create({baseURL:a,headers:s(o,u,l,a,f),withCredentials:!0});return h.interceptors.request.use(function(p){return typeof window<"u"&&window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(p.headers["X-Frappe-CSRF-Token"]=window.csrf_token),o&&u&&l&&(p.headers.Authorization="".concat(u," ").concat(l())),p}),h}Na.getAxiosClient=n;function s(a,o,l,u,f){a===void 0&&(a=!1);var h={Accept:"application/json","Content-Type":"application/json; charset=utf-8"};return a&&o&&l&&(h.Authorization="".concat(o," ").concat(l())),typeof window<"u"&&typeof document<"u"&&(window.location&&(u&&u!==window.location.origin||(h["X-Frappe-Site-Name"]=window.location.hostname)),window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(h["X-Frappe-CSRF-Token"]=window.csrf_token)),e(e({},h),f!=null?f:{})}return Na.getRequestHeaders=s,Na}var s_;function cS(){if(s_)return kr;s_=1;var e=kr&&kr.__assign||function(){return e=Object.assign||function(o){for(var l,u=1,f=arguments.length;u<f;u++){l=arguments[u];for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(o[h]=l[h])}return o},e.apply(this,arguments)},t=kr&&kr.__awaiter||function(o,l,u,f){function h(p){return p instanceof u?p:new u(function(x){x(p)})}return new(u||(u=Promise))(function(p,x){function y(_){try{w(f.next(_))}catch(j){x(j)}}function b(_){try{w(f.throw(_))}catch(j){x(j)}}function w(_){_.done?p(_.value):h(_.value).then(y,b)}w((f=f.apply(o,l||[])).next())})},n=kr&&kr.__generator||function(o,l){var u={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},f,h,p,x;return x={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function y(w){return function(_){return b([w,_])}}function b(w){if(f)throw new TypeError("Generator is already executing.");for(;x&&(x=0,w[0]&&(u=0)),u;)try{if(f=1,h&&(p=w[0]&2?h.return:w[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,w[1])).done)return p;switch(h=0,p&&(w=[w[0]&2,p.value]),w[0]){case 0:case 1:p=w;break;case 4:return u.label++,{value:w[1],done:!1};case 5:u.label++,h=w[1],w=[0];continue;case 7:w=u.ops.pop(),u.trys.pop();continue;default:if(p=u.trys,!(p=p.length>0&&p[p.length-1])&&(w[0]===6||w[0]===2)){u=0;continue}if(w[0]===3&&(!p||w[1]>p[0]&&w[1]<p[3])){u.label=w[1];break}if(w[0]===6&&u.label<p[1]){u.label=p[1],p=w;break}if(p&&u.label<p[2]){u.label=p[2],u.ops.push(w);break}p[2]&&u.ops.pop(),u.trys.pop();continue}w=l.call(o,u)}catch(_){w=[6,_],h=0}finally{f=p=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}};Object.defineProperty(kr,"__esModule",{value:!0}),kr.FrappeFileUpload=void 0;var s=lS(),a=function(){function o(l,u,f,h,p,x){this.appURL=l,this.axios=u,this.useToken=f!=null?f:!1,this.token=h,this.tokenType=p,this.customHeaders=x}return o.prototype.uploadFile=function(l,u,f,h){return h===void 0&&(h="upload_file"),t(this,void 0,void 0,function(){var p,x,y,b,w,_,j,S;return n(this,function(C){return p=new FormData,l&&p.append("file",l,l.name),x=u.isPrivate,y=u.folder,b=u.file_url,w=u.doctype,_=u.docname,j=u.fieldname,S=u.otherData,x&&p.append("is_private","1"),y&&p.append("folder",y),b&&p.append("file_url",b),w&&_&&(p.append("doctype",w),p.append("docname",_),j&&p.append("fieldname",j)),S&&Object.keys(S).forEach(function(O){var D=S[O];p.append(O,D)}),[2,this.axios.post("/api/method/".concat(h),p,{onUploadProgress:function(O){f&&f(O.loaded,O.total,O)},headers:e(e({},(0,s.getRequestHeaders)(this.useToken,this.tokenType,this.token,this.appURL,this.customHeaders)),{"Content-Type":"multipart/form-data"})}).catch(function(O){var D,k;throw e(e({},O.response.data),{httpStatus:O.response.status,httpStatusText:O.response.statusText,message:(D=O.response.data.message)!==null&&D!==void 0?D:"There was an error while uploading the file.",exception:(k=O.response.data.exception)!==null&&k!==void 0?k:""})})]})})},o}();return kr.FrappeFileUpload=a,kr}var r_;function vC(){if(r_)return ru;r_=1,Object.defineProperty(ru,"__esModule",{value:!0}),ru.FrappeApp=void 0;var e=uS(),t=iS(),n=oS(),s=cS(),a=lS(),o=function(){function l(u,f,h,p){var x,y;this.url=u,this.name=h!=null?h:"FrappeApp",this.useToken=(x=f==null?void 0:f.useToken)!==null&&x!==void 0?x:!1,this.token=f==null?void 0:f.token,this.tokenType=(y=f==null?void 0:f.type)!==null&&y!==void 0?y:"Bearer",this.customHeaders=p,this.axios=(0,a.getAxiosClient)(this.url,this.useToken,this.token,this.tokenType,this.customHeaders)}return l.prototype.auth=function(){return new e.FrappeAuth(this.url,this.axios,this.useToken,this.token,this.tokenType)},l.prototype.db=function(){return new n.FrappeDB(this.url,this.axios,this.useToken,this.token,this.tokenType)},l.prototype.file=function(){return new s.FrappeFileUpload(this.url,this.axios,this.useToken,this.token,this.tokenType,this.customHeaders)},l.prototype.call=function(){return new t.FrappeCall(this.url,this.axios,this.useToken,this.token,this.tokenType)},l}();return ru.FrappeApp=o,ru}var Cr={},a_;function wC(){if(a_)return Cr;a_=1;var e=Cr&&Cr.__assign||function(){return e=Object.assign||function(a){for(var o,l=1,u=arguments.length;l<u;l++){o=arguments[l];for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(a[f]=o[f])}return a},e.apply(this,arguments)},t=Cr&&Cr.__awaiter||function(a,o,l,u){function f(h){return h instanceof l?h:new l(function(p){p(h)})}return new(l||(l=Promise))(function(h,p){function x(w){try{b(u.next(w))}catch(_){p(_)}}function y(w){try{b(u.throw(w))}catch(_){p(_)}}function b(w){w.done?h(w.value):f(w.value).then(x,y)}b((u=u.apply(a,o||[])).next())})},n=Cr&&Cr.__generator||function(a,o){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},u,f,h,p;return p={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function x(b){return function(w){return y([b,w])}}function y(b){if(u)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(l=0)),l;)try{if(u=1,f&&(h=b[0]&2?f.return:b[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,b[1])).done)return h;switch(f=0,h&&(b=[b[0]&2,h.value]),b[0]){case 0:case 1:h=b;break;case 4:return l.label++,{value:b[1],done:!1};case 5:l.label++,f=b[1],b=[0];continue;case 7:b=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(b[0]===6||b[0]===2)){l=0;continue}if(b[0]===3&&(!h||b[1]>h[0]&&b[1]<h[3])){l.label=b[1];break}if(b[0]===6&&l.label<h[1]){l.label=h[1],h=b;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(b);break}h[2]&&l.ops.pop(),l.trys.pop();continue}b=o.call(a,l)}catch(w){b=[6,w],f=0}finally{u=h=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}};Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.FrappeAuth=void 0;var s=function(){function a(o,l,u,f,h){this.appURL=o,this.axios=l,this.useToken=u!=null?u:!1,this.token=f,this.tokenType=h}return a.prototype.loginWithUsernamePassword=function(o){return t(this,void 0,void 0,function(){return n(this,function(l){return[2,this.axios.post("/api/method/login",{usr:o.username,pwd:o.password,otp:o.otp,tmp_id:o.tmp_id,device:o.device}).then(function(u){return u.data}).catch(function(u){var f,h;throw e(e({},u.response.data),{httpStatus:u.response.status,httpStatusText:u.response.statusText,message:(f=u.response.data.message)!==null&&f!==void 0?f:"There was an error while logging in",exception:(h=u.response.data.exception)!==null&&h!==void 0?h:""})})]})})},a.prototype.getLoggedInUser=function(){return t(this,void 0,void 0,function(){return n(this,function(o){return[2,this.axios.get("/api/method/frappe.auth.get_logged_user").then(function(l){return l.data.message}).catch(function(l){var u;throw e(e({},l.response.data),{httpStatus:l.response.status,httpStatusText:l.response.statusText,message:"There was an error while fetching the logged in user",exception:(u=l.response.data.exception)!==null&&u!==void 0?u:""})})]})})},a.prototype.logout=function(){return t(this,void 0,void 0,function(){return n(this,function(o){return[2,this.axios.post("/api/method/logout",{}).then(function(){}).catch(function(l){var u,f;throw e(e({},l.response.data),{httpStatus:l.response.status,httpStatusText:l.response.statusText,message:(u=l.response.data.message)!==null&&u!==void 0?u:"There was an error while logging out",exception:(f=l.response.data.exception)!==null&&f!==void 0?f:""})})]})})},a.prototype.forgetPassword=function(o){return t(this,void 0,void 0,function(){return n(this,function(l){return[2,this.axios.post("/",{cmd:"frappe.core.doctype.user.user.reset_password",user:o}).then(function(){}).catch(function(u){var f,h;throw e(e({},u.response.data),{httpStatus:u.response.status,httpStatusText:u.response.statusText,message:(f=u.response.data.message)!==null&&f!==void 0?f:"There was an error sending password reset email.",exception:(h=u.response.data.exception)!==null&&h!==void 0?h:""})})]})})},a}();return Cr.FrappeAuth=s,Cr}var i_;function uS(){return i_||(i_=1,function(e){var t=vl&&vl.__createBinding||(Object.create?function(s,a,o,l){l===void 0&&(l=o);var u=Object.getOwnPropertyDescriptor(a,o);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(s,l,u)}:function(s,a,o,l){l===void 0&&(l=o),s[l]=a[o]}),n=vl&&vl.__exportStar||function(s,a){for(var o in s)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&t(a,s,o)};Object.defineProperty(e,"__esModule",{value:!0}),n(vC(),e),n(wC(),e),n(oS(),e),n(cS(),e),n(iS(),e)}(vl)),vl}var _C=uS(),o_={exports:{}},ig={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function jC(){if(l_)return ig;l_=1;var e=Se;function t(x,y){return x===y&&(x!==0||1/x===1/y)||x!==x&&y!==y}var n=typeof Object.is=="function"?Object.is:t,s=e.useState,a=e.useEffect,o=e.useLayoutEffect,l=e.useDebugValue;function u(x,y){var b=y(),w=s({inst:{value:b,getSnapshot:y}}),_=w[0].inst,j=w[1];return o(function(){_.value=b,_.getSnapshot=y,f(_)&&j({inst:_})},[x,b,y]),a(function(){return f(_)&&j({inst:_}),x(function(){f(_)&&j({inst:_})})},[x]),l(b),b}function f(x){var y=x.getSnapshot;x=x.value;try{var b=y();return!n(x,b)}catch(w){return!0}}function h(x,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return ig.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,ig}var c_;function SC(){return c_||(c_=1,o_.exports=jC()),o_.exports}var NC=SC();const dS=0,fS=1,hS=2,u_=3;var d_=Object.prototype.hasOwnProperty;function e0(e,t){var n,s;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((s=e.length)===t.length)for(;s--&&e0(e[s],t[s]););return s===-1}if(!n||typeof e=="object"){s=0;for(n in e)if(d_.call(e,n)&&++s&&!d_.call(t,n)||!(n in t)||!e0(e[n],t[n]))return!1;return Object.keys(t).length===s}}return e!==e&&t!==t}const Ra=new WeakMap,yi=()=>{},bs=yi(),hh=Object,Ht=e=>e===bs,Ar=e=>typeof e=="function",Pa=(e,t)=>z(z({},e),t),mS=e=>Ar(e.then),og={},hf={},Z0="undefined",Iu=typeof window!=Z0,t0=typeof document!=Z0,EC=Iu&&"Deno"in window,TC=()=>Iu&&typeof window.requestAnimationFrame!=Z0,pS=(e,t)=>{const n=Ra.get(e);return[()=>!Ht(t)&&e.get(t)||og,s=>{if(!Ht(t)){const a=e.get(t);t in hf||(hf[t]=a),n[5](t,Pa(a,s),a||og)}},n[6],()=>!Ht(t)&&t in hf?hf[t]:!Ht(t)&&e.get(t)||og]};let n0=!0;const kC=()=>n0,[s0,r0]=Iu&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[yi,yi],CC=()=>{const e=t0&&document.visibilityState;return Ht(e)||e!=="hidden"},OC=e=>(t0&&document.addEventListener("visibilitychange",e),s0("focus",e),()=>{t0&&document.removeEventListener("visibilitychange",e),r0("focus",e)}),AC=e=>{const t=()=>{n0=!0,e()},n=()=>{n0=!1};return s0("online",t),s0("offline",n),()=>{r0("online",t),r0("offline",n)}},RC={isOnline:kC,isVisible:CC},DC={initFocus:OC,initReconnect:AC},f_=!Se.useId,Ru=!Iu||EC,MC=e=>TC()?window.requestAnimationFrame(e):setTimeout(e,1),Wf=Ru?N.useEffect:N.useLayoutEffect,lg=typeof navigator<"u"&&navigator.connection,h_=!Ru&&lg&&(["slow-2g","2g"].includes(lg.effectiveType)||lg.saveData),mf=new WeakMap,cg=(e,t)=>hh.prototype.toString.call(e)===`[object ${t}]`;let PC=0;const a0=e=>{const t=typeof e,n=cg(e,"Date"),s=cg(e,"RegExp"),a=cg(e,"Object");let o,l;if(hh(e)===e&&!n&&!s){if(o=mf.get(e),o)return o;if(o=++PC+"~",mf.set(e,o),Array.isArray(e)){for(o="@",l=0;l<e.length;l++)o+=a0(e[l])+",";mf.set(e,o)}if(a){o="#";const u=hh.keys(e).sort();for(;!Ht(l=u.pop());)Ht(e[l])||(o+=l+":"+a0(e[l])+",");mf.set(e,o)}}else o=n?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return o},J0=e=>{if(Ar(e))try{e=e()}catch(n){e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?a0(e):"",[e,t]};let LC=0;const i0=()=>++LC;function gS(...e){return ge(this,null,function*(){const[t,n,s,a]=e,o=Pa({populateCache:!0,throwOnError:!0},typeof a=="boolean"?{revalidate:a}:a||{});let l=o.populateCache;const u=o.rollbackOnError;let f=o.optimisticData;const h=y=>typeof u=="function"?u(y):u!==!1,p=o.throwOnError;if(Ar(n)){const y=n,b=[],w=t.keys();for(const _ of w)!/^\$(inf|sub)\$/.test(_)&&y(t.get(_)._k)&&b.push(_);return Promise.all(b.map(x))}return x(n);function x(y){return ge(this,null,function*(){const[b]=J0(y);if(!b)return;const[w,_]=pS(t,b),[j,S,C,O]=Ra.get(t),D=()=>{const de=j[b];return(Ar(o.revalidate)?o.revalidate(w().data,y):o.revalidate!==!1)&&(delete C[b],delete O[b],de&&de[0])?de[0](hS).then(()=>w().data):w().data};if(e.length<3)return D();let k=s,R;const M=i0();S[b]=[M,0];const F=!Ht(f),q=w(),re=q.data,G=q._c,ee=Ht(G)?re:G;if(F&&(f=Ar(f)?f(ee,re):f,_({data:f,_c:ee})),Ar(k))try{k=k(ee)}catch(de){R=de}if(k&&mS(k))if(k=yield k.catch(de=>{R=de}),M!==S[b][0]){if(R)throw R;return k}else R&&F&&h(R)&&(l=!0,_({data:ee,_c:bs}));if(l&&!R)if(Ar(l)){const de=l(k,ee);_({data:de,error:bs,_c:bs})}else _({data:k,error:bs,_c:bs});if(S[b][1]=i0(),Promise.resolve(D()).then(()=>{_({_c:bs})}),R){if(p)throw R;return}return k})}})}const m_=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},xS=(e,t)=>{if(!Ra.has(e)){const n=Pa(DC,t),s=Object.create(null),a=gS.bind(bs,e);let o=yi;const l=Object.create(null),u=(p,x)=>{const y=l[p]||[];return l[p]=y,y.push(x),()=>y.splice(y.indexOf(x),1)},f=(p,x,y)=>{e.set(p,x);const b=l[p];if(b)for(const w of b)w(x,y)},h=()=>{if(!Ra.has(e)&&(Ra.set(e,[s,Object.create(null),Object.create(null),Object.create(null),a,f,u]),!Ru)){const p=n.initFocus(setTimeout.bind(bs,m_.bind(bs,s,dS))),x=n.initReconnect(setTimeout.bind(bs,m_.bind(bs,s,fS)));o=()=>{p&&p(),x&&x(),Ra.delete(e)}}};return h(),[e,a,h,o]}return[e,Ra.get(e)[4]]},zC=(e,t,n,s,a)=>{const o=n.errorRetryCount,l=a.retryCount,u=~~((Math.random()+.5)*(1<<(l<8?l:8)))*n.errorRetryInterval;!Ht(o)&&l>o||setTimeout(s,u,a)},UC=e0,[ex,BC]=xS(new Map),yS=Pa({onLoadingSlow:yi,onSuccess:yi,onError:yi,onErrorRetry:zC,onDiscarded:yi,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:h_?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:h_?5e3:3e3,compare:UC,isPaused:()=>!1,cache:ex,mutate:BC,fallback:{}},RC),bS=(e,t)=>{const n=Pa(e,t);if(t){const{use:s,fallback:a}=e,{use:o,fallback:l}=t;s&&o&&(n.use=s.concat(o)),a&&l&&(n.fallback=Pa(a,l))}return n},o0=N.createContext({}),FC=e=>{const{value:t}=e,n=N.useContext(o0),s=Ar(t),a=N.useMemo(()=>s?t(n):t,[s,n,t]),o=N.useMemo(()=>s?a:bS(n,a),[s,n,a]),l=a&&a.provider,u=N.useRef(bs);l&&!u.current&&(u.current=xS(l(o.cache||ex),a));const f=u.current;return f&&(o.cache=f[0],o.mutate=f[1]),Wf(()=>{if(f)return f[2]&&f[2](),f[3]},[]),N.createElement(o0.Provider,Pa(e,{value:o}))},HC="$inf$",vS=Iu&&window.__SWR_DEVTOOLS_USE__,VC=vS?window.__SWR_DEVTOOLS_USE__:[],$C=()=>{vS&&(window.__SWR_DEVTOOLS_REACT__=Se)},qC=e=>Ar(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],YC=()=>Pa(yS,N.useContext(o0)),IC=e=>(t,n,s)=>e(t,n&&((...a)=>{const[o]=J0(t),[,,,l]=Ra.get(ex);if(o.startsWith(HC))return n(...a);const u=l[o];return Ht(u)?n(...a):(delete l[o],u)}),s),WC=VC.concat(IC),XC=e=>function(...t){const n=YC(),[s,a,o]=qC(t),l=bS(n,o);let u=e;const{use:f}=l,h=(f||[]).concat(WC);for(let p=h.length;p--;)u=h[p](u);return u(s,a||l.fetcher||null,l)},GC=(e,t,n)=>{const s=t[e]||(t[e]=[]);return s.push(n),()=>{const a=s.indexOf(n);a>=0&&(s[a]=s[s.length-1],s.pop())}};$C();const ug=Se.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),dg={dedupe:!0},KC=(e,t,n)=>{const{cache:s,compare:a,suspense:o,fallbackData:l,revalidateOnMount:u,revalidateIfStale:f,refreshInterval:h,refreshWhenHidden:p,refreshWhenOffline:x,keepPreviousData:y}=n,[b,w,_,j]=Ra.get(s),[S,C]=J0(e),O=N.useRef(!1),D=N.useRef(!1),k=N.useRef(S),R=N.useRef(t),M=N.useRef(n),F=()=>M.current,q=()=>F().isVisible()&&F().isOnline(),[re,G,ee,de]=pS(s,S),J=N.useRef({}).current,K=Ht(l)?Ht(n.fallback)?bs:n.fallback[S]:l,B=(ct,yt)=>{for(const Me in J){const mt=Me;if(mt==="data"){if(!a(ct[mt],yt[mt])&&(!Ht(ct[mt])||!a(ke,yt[mt])))return!1}else if(yt[mt]!==ct[mt])return!1}return!0},Y=N.useMemo(()=>{const ct=!S||!t?!1:Ht(u)?F().isPaused()||o?!1:f!==!1:u,yt=Xt=>{const $=Pa(Xt);return delete $._k,ct?z({isValidating:!0,isLoading:!0},$):$},Me=re(),mt=de(),Yt=yt(Me),kt=Me===mt?Yt:yt(mt);let It=Yt;return[()=>{const Xt=yt(re());return B(Xt,It)?(It.data=Xt.data,It.isLoading=Xt.isLoading,It.isValidating=Xt.isValidating,It.error=Xt.error,It):(It=Xt,Xt)},()=>kt]},[s,S]),Q=NC.useSyncExternalStore(N.useCallback(ct=>ee(S,(yt,Me)=>{B(Me,yt)||ct()}),[s,S]),Y[0],Y[1]),ve=!O.current,H=b[S]&&b[S].length>0,ae=Q.data,we=Ht(ae)?K&&mS(K)?ug(K):K:ae,W=Q.error,me=N.useRef(we),ke=y?Ht(ae)?Ht(me.current)?we:me.current:ae:we,ye=H&&!Ht(W)?!1:ve&&!Ht(u)?u:F().isPaused()?!1:o?Ht(we)?!1:f:Ht(we)||f,Ce=!!(S&&t&&ve&&ye),ze=Ht(Q.isValidating)?Ce:Q.isValidating,tt=Ht(Q.isLoading)?Ce:Q.isLoading,Ve=N.useCallback(ct=>ge(null,null,function*(){const yt=R.current;if(!S||!yt||D.current||F().isPaused())return!1;let Me,mt,Yt=!0;const kt=ct||{},It=!_[S]||!kt.dedupe,Xt=()=>f_?!D.current&&S===k.current&&O.current:S===k.current,$={isValidating:!1,isLoading:!1},oe=()=>{G($)},V=()=>{const Re=_[S];Re&&Re[1]===mt&&delete _[S]},je={isValidating:!0};Ht(re().data)&&(je.isLoading=!0);try{if(It&&(G(je),n.loadingTimeout&&Ht(re().data)&&setTimeout(()=>{Yt&&Xt()&&F().onLoadingSlow(S,n)},n.loadingTimeout),_[S]=[yt(C),i0()]),[Me,mt]=_[S],Me=yield Me,It&&setTimeout(V,n.dedupingInterval),!_[S]||_[S][1]!==mt)return It&&Xt()&&F().onDiscarded(S),!1;$.error=bs;const Re=w[S];if(!Ht(Re)&&(mt<=Re[0]||mt<=Re[1]||Re[1]===0))return oe(),It&&Xt()&&F().onDiscarded(S),!1;const Oe=re().data;$.data=a(Oe,Me)?Oe:Me,It&&Xt()&&F().onSuccess(Me,S,n)}catch(Re){V();const Oe=F(),{shouldRetryOnError:Ue}=Oe;Oe.isPaused()||($.error=Re,It&&Xt()&&(Oe.onError(Re,S,Oe),(Ue===!0||Ar(Ue)&&Ue(Re))&&(!F().revalidateOnFocus||!F().revalidateOnReconnect||q())&&Oe.onErrorRetry(Re,S,Oe,$e=>{const Ke=b[S];Ke&&Ke[0]&&Ke[0](u_,$e)},{retryCount:(kt.retryCount||0)+1,dedupe:!0})))}return Yt=!1,oe(),!0}),[S,s]),Et=N.useCallback((...ct)=>gS(s,k.current,...ct),[]);if(Wf(()=>{R.current=t,M.current=n,Ht(ae)||(me.current=ae)}),Wf(()=>{if(!S)return;const ct=Ve.bind(bs,dg);let yt=0;F().revalidateOnFocus&&(yt=Date.now()+F().focusThrottleInterval);const Me=GC(S,b,(mt,Yt={})=>{if(mt==dS){const kt=Date.now();F().revalidateOnFocus&&kt>yt&&q()&&(yt=kt+F().focusThrottleInterval,ct())}else if(mt==fS)F().revalidateOnReconnect&&q()&&ct();else{if(mt==hS)return Ve();if(mt==u_)return Ve(Yt)}});return D.current=!1,k.current=S,O.current=!0,G({_k:C}),ye&&(Ht(we)||Ru?ct():MC(ct)),()=>{D.current=!0,Me()}},[S]),Wf(()=>{let ct;function yt(){const mt=Ar(h)?h(re().data):h;mt&&ct!==-1&&(ct=setTimeout(Me,mt))}function Me(){!re().error&&(p||F().isVisible())&&(x||F().isOnline())?Ve(dg).then(yt):yt()}return yt(),()=>{ct&&(clearTimeout(ct),ct=-1)}},[h,p,x,S]),N.useDebugValue(ke),o&&Ht(we)&&S){if(!f_&&Ru)throw new Error("Fallback data is required when using Suspense in SSR.");R.current=t,M.current=n,D.current=!1;const ct=j[S];if(!Ht(ct)){const yt=Et(ct);ug(yt)}if(Ht(W)){const yt=Ve(dg);Ht(ke)||(yt.status="fulfilled",yt.value=!0),ug(yt)}else throw W}return{mutate:Et,get data(){return J.data=!0,ke},get error(){return J.error=!0,W},get isValidating(){return J.isValidating=!0,ze},get isLoading(){return J.isLoading=!0,tt}}},QC=hh.defineProperty(FC,"defaultValue",{value:yS}),tx=XC(KC);Promise.resolve();const sa=Object.create(null);sa.open="0";sa.close="1";sa.ping="2";sa.pong="3";sa.message="4";sa.upgrade="5";sa.noop="6";const Xf=Object.create(null);Object.keys(sa).forEach(e=>{Xf[sa[e]]=e});const l0={type:"error",data:"parser error"},wS=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",_S=typeof ArrayBuffer=="function",jS=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,nx=({type:e,data:t},n,s)=>wS&&t instanceof Blob?n?s(t):p_(t,s):_S&&(t instanceof ArrayBuffer||jS(t))?n?s(t):p_(new Blob([t]),s):s(sa[e]+(t||"")),p_=(e,t)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];t("b"+(s||""))},n.readAsDataURL(e)};function g_(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let fg;function ZC(e,t){if(wS&&e.data instanceof Blob)return e.data.arrayBuffer().then(g_).then(t);if(_S&&(e.data instanceof ArrayBuffer||jS(e.data)))return t(g_(e.data));nx(e,!1,n=>{fg||(fg=new TextEncoder),t(fg.encode(n))})}const x_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<x_.length;e++)wu[x_.charCodeAt(e)]=e;const JC=e=>{let t=e.length*.75,n=e.length,s,a=0,o,l,u,f;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const h=new ArrayBuffer(t),p=new Uint8Array(h);for(s=0;s<n;s+=4)o=wu[e.charCodeAt(s)],l=wu[e.charCodeAt(s+1)],u=wu[e.charCodeAt(s+2)],f=wu[e.charCodeAt(s+3)],p[a++]=o<<2|l>>4,p[a++]=(l&15)<<4|u>>2,p[a++]=(u&3)<<6|f&63;return h},eO=typeof ArrayBuffer=="function",sx=(e,t)=>{if(typeof e!="string")return{type:"message",data:SS(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:tO(e.substring(1),t)}:Xf[n]?e.length>1?{type:Xf[n],data:e.substring(1)}:{type:Xf[n]}:l0},tO=(e,t)=>{if(eO){const n=JC(e);return SS(n,t)}else return{base64:!0,data:e}},SS=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},NS="",nO=(e,t)=>{const n=e.length,s=new Array(n);let a=0;e.forEach((o,l)=>{nx(o,!1,u=>{s[l]=u,++a===n&&t(s.join(NS))})})},sO=(e,t)=>{const n=e.split(NS),s=[];for(let a=0;a<n.length;a++){const o=sx(n[a],t);if(s.push(o),o.type==="error")break}return s};function rO(){return new TransformStream({transform(e,t){ZC(e,n=>{const s=n.length;let a;if(s<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,s);else if(s<65536){a=new Uint8Array(3);const o=new DataView(a.buffer);o.setUint8(0,126),o.setUint16(1,s)}else{a=new Uint8Array(9);const o=new DataView(a.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(s))}e.data&&typeof e.data!="string"&&(a[0]|=128),t.enqueue(a),t.enqueue(n)})}})}let hg;function pf(e){return e.reduce((t,n)=>t+n.length,0)}function gf(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let s=0;for(let a=0;a<t;a++)n[a]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),n}function aO(e,t){hg||(hg=new TextDecoder);const n=[];let s=0,a=-1,o=!1;return new TransformStream({transform(l,u){for(n.push(l);;){if(s===0){if(pf(n)<1)break;const f=gf(n,1);o=(f[0]&128)===128,a=f[0]&127,a<126?s=3:a===126?s=1:s=2}else if(s===1){if(pf(n)<2)break;const f=gf(n,2);a=new DataView(f.buffer,f.byteOffset,f.length).getUint16(0),s=3}else if(s===2){if(pf(n)<8)break;const f=gf(n,8),h=new DataView(f.buffer,f.byteOffset,f.length),p=h.getUint32(0);if(p>Math.pow(2,21)-1){u.enqueue(l0);break}a=p*Math.pow(2,32)+h.getUint32(4),s=3}else{if(pf(n)<a)break;const f=gf(n,a);u.enqueue(sx(o?f:hg.decode(f),t)),s=0}if(a===0||a>e){u.enqueue(l0);break}}}})}const ES=4;function Hn(e){if(e)return iO(e)}function iO(e){for(var t in Hn.prototype)e[t]=Hn.prototype[t];return e}Hn.prototype.on=Hn.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Hn.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};Hn.prototype.off=Hn.prototype.removeListener=Hn.prototype.removeAllListeners=Hn.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var s,a=0;a<n.length;a++)if(s=n[a],s===t||s.fn===t){n.splice(a,1);break}return n.length===0&&delete this._callbacks["$"+e],this};Hn.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,a=n.length;s<a;++s)n[s].apply(this,t)}return this};Hn.prototype.emitReserved=Hn.prototype.emit;Hn.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Hn.prototype.hasListeners=function(e){return!!this.listeners(e).length};const mr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function TS(e,...t){return t.reduce((n,s)=>(e.hasOwnProperty(s)&&(n[s]=e[s]),n),{})}const oO=mr.setTimeout,lO=mr.clearTimeout;function zh(e,t){t.useNativeTimers?(e.setTimeoutFn=oO.bind(mr),e.clearTimeoutFn=lO.bind(mr)):(e.setTimeoutFn=mr.setTimeout.bind(mr),e.clearTimeoutFn=mr.clearTimeout.bind(mr))}const cO=1.33;function uO(e){return typeof e=="string"?dO(e):Math.ceil((e.byteLength||e.size)*cO)}function dO(e){let t=0,n=0;for(let s=0,a=e.length;s<a;s++)t=e.charCodeAt(s),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(s++,n+=4);return n}function fO(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function hO(e){let t={},n=e.split("&");for(let s=0,a=n.length;s<a;s++){let o=n[s].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}class mO extends Error{constructor(t,n,s){super(t),this.description=n,this.context=s,this.type="TransportError"}}class rx extends Hn{constructor(t){super(),this.writable=!1,zh(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,s){return super.emitReserved("error",new mO(t,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=sx(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=fO(t);return n.length?"?"+n:""}}const kS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),c0=64,pO={};let y_=0,xf=0,b_;function v_(e){let t="";do t=kS[e%c0]+t,e=Math.floor(e/c0);while(e>0);return t}function CS(){const e=v_(+new Date);return e!==b_?(y_=0,b_=e):e+"."+v_(y_++)}for(;xf<c0;xf++)pO[kS[xf]]=xf;let OS=!1;try{OS=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(e){}const gO=OS;function AS(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||gO))return new XMLHttpRequest}catch(n){}if(!t)try{return new mr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(n){}}function xO(){}const yO=function(){return new AS({xdomain:!1}).responseType!=null}();class bO extends rx{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const s=location.protocol==="https:";let a=location.port;a||(a=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||a!==t.port}const n=t&&t.forceBase64;this.supportsBinary=yO&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let s=0;this.polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};sO(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,nO(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=CS()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Pl(this.uri(),t)}doWrite(t,n){const s=this.request({method:"POST",data:t});s.on("success",n),s.on("error",(a,o)=>{this.onError("xhr post error",a,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=t}}let Pl=class Gf extends Hn{constructor(t,n){super(),zh(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=TS(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const s=this.xhr=new AS(n);try{s.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let a in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(a)&&s.setRequestHeader(a,this.opts.extraHeaders[a])}}catch(a){}if(this.method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(a){}try{s.setRequestHeader("Accept","*/*")}catch(a){}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(s.timeout=this.opts.requestTimeout),s.onreadystatechange=()=>{var a;s.readyState===3&&((a=this.opts.cookieJar)===null||a===void 0||a.parseCookies(s)),s.readyState===4&&(s.status===200||s.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof s.status=="number"?s.status:0)},0))},s.send(this.data)}catch(a){this.setTimeoutFn(()=>{this.onError(a)},0);return}typeof document<"u"&&(this.index=Gf.requestsCount++,Gf.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=xO,t)try{this.xhr.abort()}catch(n){}typeof document<"u"&&delete Gf.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};Pl.requestsCount=0;Pl.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",w_);else if(typeof addEventListener=="function"){const e="onpagehide"in mr?"pagehide":"unload";addEventListener(e,w_,!1)}}function w_(){for(let e in Pl.requests)Pl.requests.hasOwnProperty(e)&&Pl.requests[e].abort()}const ax=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),yf=mr.WebSocket||mr.MozWebSocket,__=!0,vO="arraybuffer",j_=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class wO extends rx{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,s=j_?{}:TS(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=__&&!j_?n?new yf(t,n):new yf(t):new yf(t,n,s)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],a=n===t.length-1;nx(s,this.supportsBinary,o=>{try{__&&this.ws.send(o)}catch(l){}a&&ax(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=CS()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!yf}}class _O extends rx{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=aO(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(n).getReader(),a=rO();a.readable.pipeTo(t.writable),this.writer=a.writable.getWriter();const o=()=>{s.read().then(({done:u,value:f})=>{u||(this.onPacket(f),o())}).catch(u=>{})};o();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this.writer.write(l).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],a=n===t.length-1;this.writer.write(s).then(()=>{a&&ax(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const jO={websocket:wO,webtransport:_O,polling:bO},SO=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,NO=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function u0(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),s=e.indexOf("]");n!=-1&&s!=-1&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));let a=SO.exec(e||""),o={},l=14;for(;l--;)o[NO[l]]=a[l]||"";return n!=-1&&s!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=EO(o,o.path),o.queryKey=TO(o,o.query),o}function EO(e,t){const n=/\/{2,9}/g,s=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&s.splice(0,1),t.slice(-1)=="/"&&s.splice(s.length-1,1),s}function TO(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,a,o){a&&(n[a]=o)}),n}let RS=class Cl extends Hn{constructor(t,n={}){super(),this.binaryType=vO,this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=u0(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=u0(n.host).host),zh(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=hO(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=ES,n.transport=t,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new jO[t](s)}open(){let t;if(this.opts.rememberUpgrade&&Cl.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch(n){this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),s=!1;Cl.priorWebsocketSuccess=!1;const a=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",x=>{if(!s)if(x.type==="pong"&&x.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Cl.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(p(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const y=new Error("probe error");y.transport=n.name,this.emitReserved("upgradeError",y)}}))};function o(){s||(s=!0,p(),n.close(),n=null)}const l=x=>{const y=new Error("probe error: "+x);y.transport=n.name,o(),this.emitReserved("upgradeError",y)};function u(){l("transport closed")}function f(){l("socket closed")}function h(x){n&&x.name!==n.name&&o()}const p=()=>{n.removeListener("open",a),n.removeListener("error",l),n.removeListener("close",u),this.off("close",f),this.off("upgrading",h)};n.once("open",a),n.once("error",l),n.once("close",u),this.once("close",f),this.once("upgrading",h),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onOpen(){if(this.readyState="open",Cl.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(t+=uO(s)),n>0&&t>this.maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}write(t,n,s){return this.sendPacket("message",t,n,s),this}send(t,n,s){return this.sendPacket("message",t,n,s),this}sendPacket(t,n,s,a){if(typeof n=="function"&&(a=n,n=void 0),typeof s=="function"&&(a=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const o={type:t,data:n,options:s};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),a&&this.once("flush",a),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}onError(t){Cl.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let s=0;const a=t.length;for(;s<a;s++)~this.transports.indexOf(t[s])&&n.push(t[s]);return n}};RS.protocol=ES;function kO(e,t="",n){let s=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),s=u0(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const a=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+a+":"+s.port+t,s.href=s.protocol+"://"+a+(n&&n.port===s.port?"":":"+s.port),s}const CO=typeof ArrayBuffer=="function",OO=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,DS=Object.prototype.toString,AO=typeof Blob=="function"||typeof Blob<"u"&&DS.call(Blob)==="[object BlobConstructor]",RO=typeof File=="function"||typeof File<"u"&&DS.call(File)==="[object FileConstructor]";function ix(e){return CO&&(e instanceof ArrayBuffer||OO(e))||AO&&e instanceof Blob||RO&&e instanceof File}function Kf(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,s=e.length;n<s;n++)if(Kf(e[n]))return!0;return!1}if(ix(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Kf(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Kf(e[n]))return!0;return!1}function DO(e){const t=[],n=e.data,s=e;return s.data=d0(n,t),s.attachments=t.length,{packet:s,buffers:t}}function d0(e,t){if(!e)return e;if(ix(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let s=0;s<e.length;s++)n[s]=d0(e[s],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=d0(e[s],t));return n}return e}function MO(e,t){return e.data=f0(e.data,t),delete e.attachments,e}function f0(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=f0(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=f0(e[n],t));return e}const PO=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],LO=5;var Ut;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Ut||(Ut={}));class zO{constructor(t){this.replacer=t}encode(t){return(t.type===Ut.EVENT||t.type===Ut.ACK)&&Kf(t)?this.encodeAsBinary({type:t.type===Ut.EVENT?Ut.BINARY_EVENT:Ut.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===Ut.BINARY_EVENT||t.type===Ut.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=DO(t),s=this.encodeAsString(n.packet),a=n.buffers;return a.unshift(s),a}}function S_(e){return Object.prototype.toString.call(e)==="[object Object]"}class ox extends Hn{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const s=n.type===Ut.BINARY_EVENT;s||n.type===Ut.BINARY_ACK?(n.type=s?Ut.EVENT:Ut.ACK,this.reconstructor=new UO(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(ix(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const s={type:Number(t.charAt(0))};if(Ut[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===Ut.BINARY_EVENT||s.type===Ut.BINARY_ACK){const o=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const l=t.substring(o,n);if(l!=Number(l)||t.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(l)}if(t.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););s.nsp=t.substring(o,n)}else s.nsp="/";const a=t.charAt(n+1);if(a!==""&&Number(a)==a){const o=n+1;for(;++n;){const l=t.charAt(n);if(l==null||Number(l)!=l){--n;break}if(n===t.length)break}s.id=Number(t.substring(o,n+1))}if(t.charAt(++n)){const o=this.tryParse(t.substr(n));if(ox.isPayloadValid(s.type,o))s.data=o;else throw new Error("invalid payload")}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(n){return!1}}static isPayloadValid(t,n){switch(t){case Ut.CONNECT:return S_(n);case Ut.DISCONNECT:return n===void 0;case Ut.CONNECT_ERROR:return typeof n=="string"||S_(n);case Ut.EVENT:case Ut.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&PO.indexOf(n[0])===-1);case Ut.ACK:case Ut.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class UO{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=MO(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const BO=Object.freeze(Object.defineProperty({__proto__:null,Decoder:ox,Encoder:zO,get PacketType(){return Ut},protocol:LO},Symbol.toStringTag,{value:"Module"}));function Or(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const FO=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class MS extends Hn{constructor(t,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Or(t,"open",this.onopen.bind(this)),Or(t,"packet",this.onpacket.bind(this)),Or(t,"error",this.onerror.bind(this)),Or(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(FO.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const s={type:Ut.EVENT,data:n};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const o=this.ids++,l=n.pop();this._registerAckCallback(o,l),s.id=o}const a=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!a||!this.connected)||(this.connected?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,n){var s;const a=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(a===void 0){this.acks[t]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},a);this.acks[t]=(...l)=>{this.io.clearTimeoutFn(o),n.apply(this,[null,...l])}}emitWithAck(t,...n){const s=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((a,o)=>{n.push((l,u)=>s?l?o(l):a(u):a(l)),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((a,...o)=>s!==this._queue[0]?void 0:(a!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(a)):(this._queue.shift(),n&&n(null,...o)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Ut.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Ut.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ut.EVENT:case Ut.BINARY_EVENT:this.onevent(t);break;case Ut.ACK:case Ut.BINARY_ACK:this.onack(t);break;case Ut.DISCONNECT:this.ondisconnect();break;case Ut.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let s=!1;return function(...a){s||(s=!0,n.packet({type:Ut.ACK,id:t,data:a}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(n.apply(this,t.data),delete this.acks[t.id])}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ut.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,t.data)}}}function Kl(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Kl.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-n:e+n}return Math.min(e,this.max)|0};Kl.prototype.reset=function(){this.attempts=0};Kl.prototype.setMin=function(e){this.ms=e};Kl.prototype.setMax=function(e){this.max=e};Kl.prototype.setJitter=function(e){this.jitter=e};class h0 extends Hn{constructor(t,n){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,zh(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new Kl({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const a=n.parser||BO;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new RS(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const a=Or(n,"open",function(){s.onopen(),t&&t()}),o=u=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",u),t?t(u):this.maybeReconnectOnOpen()},l=Or(n,"error",o);if(this._timeout!==!1){const u=this._timeout,f=this.setTimeoutFn(()=>{a(),o(new Error("timeout")),n.close()},u);this.opts.autoUnref&&f.unref(),this.subs.push(()=>{this.clearTimeoutFn(f)})}return this.subs.push(a),this.subs.push(l),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Or(t,"ping",this.onping.bind(this)),Or(t,"data",this.ondata.bind(this)),Or(t,"error",this.onerror.bind(this)),Or(t,"close",this.onclose.bind(this)),Or(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){ax(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new MS(this,t,n),this.nsps[t]=s),s}_destroy(t){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let s=0;s<n.length;s++)this.engine.write(n[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(a=>{a?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",a)):t.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const au={};function Qf(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=kO(e,t.path||"/socket.io"),s=n.source,a=n.id,o=n.path,l=au[a]&&o in au[a].nsps,u=t.forceNew||t["force new connection"]||t.multiplex===!1||l;let f;return u?f=new h0(s,t):(au[a]||(au[a]=new h0(s,t)),f=au[a]),n.query&&!t.query&&(t.query=n.queryKey),f.socket(n.path,t)}Object.assign(Qf,{Manager:h0,Socket:MS,io:Qf,connect:Qf});class HO{constructor(t,n,s,a){ao(this,"socket_port"),ao(this,"host"),ao(this,"port"),ao(this,"protocol"),ao(this,"url"),ao(this,"site_name"),ao(this,"socket");var o,l,u,f;if(this.socket_port=s!=null?s:"9000",this.host=(o=window.location)==null?void 0:o.hostname,this.port=(l=window.location)!=null&&l.port?`:${this.socket_port}`:"",this.protocol=((u=window.location)==null?void 0:u.protocol)==="https:"?"https":"http",t){let h=new URL(t);h.port="",s?(h.port=s,this.url=h.toString()):this.url=h.toString()}else this.url=`${this.protocol}://${this.host}${this.port}/`;n&&(this.url=`${this.url}${n}`),this.site_name=n,this.socket=Qf(`${this.url}`,{withCredentials:!0,secure:this.protocol==="https",extraHeaders:a&&a.useToken===!0?{Authorization:`${a.type} ${(f=a.token)==null?void 0:f.call(a)}`}:{}})}}const Oi=N.createContext(null),VO=({url:e="",tokenParams:t,socketPort:n,swrConfig:s,siteName:a,enableSocket:o=!0,children:l,customHeaders:u})=>{const f=N.useMemo(()=>{const h=new _C.FrappeApp(e,t,void 0,u);return{url:e,tokenParams:t,app:h,auth:h.auth(),db:h.db(),call:h.call(),file:h.file(),socket:o?new HO(e,a,n,t).socket:void 0,enableSocket:o,socketPort:n}},[e,t,n,o,u]);return d.jsx(Oi.Provider,{value:f,children:d.jsx(QC,{value:s,children:l})})},Du=e=>{const{url:t,auth:n,tokenParams:s}=N.useContext(Oi),[a,o]=N.useState(),l=N.useCallback(()=>{const w=document.cookie.split(";").find(_=>_.trim().startsWith("user_id="));if(w){const _=w.split("=")[1];o(_&&_!=="Guest"?_:null)}else o(null)},[]);N.useEffect(()=>{s&&s.useToken?o(null):l()},[]);const{data:u,error:f,isLoading:h,isValidating:p,mutate:x}=tx(()=>s&&s.useToken||a?`${t}/api/method/frappe.auth.get_logged_user`:null,()=>n.getLoggedInUser(),z({onError:()=>{o(null)},shouldRetryOnError:!1,revalidateOnFocus:!1},e)),y=N.useCallback(w=>ge(null,null,function*(){return n.loginWithUsernamePassword(w).then(_=>(l(),_))}),[]),b=N.useCallback(()=>ge(null,null,function*(){return n.logout().then(()=>x(null)).then(()=>o(null))}),[]);return{isLoading:a===void 0||h,currentUser:u,isValidating:p,error:f,login:y,logout:b,updateCurrentUser:x,getUserCookie:l}},PS=(e,t,n)=>{let s=`${t}/api/resource/`;return n?s+=`${e}/${n}`:s+=`${e}`,s},hs=(e,t,n,s)=>{const{url:a,db:o}=N.useContext(Oi);return tx(n===void 0?PS(e,a,t):n,()=>o.getDoc(e,t),s)},$O=e=>{var a;var t,n;let s="";if(e!=null&&e.fields&&(s+="fields="+JSON.stringify(e==null?void 0:e.fields)+"&"),e!=null&&e.filters&&(s+="filters="+JSON.stringify(e==null?void 0:e.filters)+"&"),e!=null&&e.orFilters&&(s+="or_filters="+JSON.stringify(e==null?void 0:e.orFilters)+"&"),e!=null&&e.limit_start&&(s+="limit_start="+JSON.stringify(e==null?void 0:e.limit_start)+"&"),e!=null&&e.limit&&(s+="limit="+JSON.stringify(e==null?void 0:e.limit)+"&"),e!=null&&e.groupBy&&(s+="group_by="+String(e.groupBy)+"&"),e!=null&&e.orderBy){const o=`${String((t=e.orderBy)==null?void 0:t.field)} ${(a=(n=e.orderBy)==null?void 0:n.order)!=null?a:"asc"}`;s+="order_by="+o+"&"}return e!=null&&e.asDict&&(s+="as_dict="+e.asDict),s},_n=(e,t,n,s)=>{const{url:a,db:o}=N.useContext(Oi);return tx(`${PS(e,a)}?${$O(t)}`,()=>o.getDocList(e,t),s)},Ao=()=>{const{db:e}=N.useContext(Oi),[t,n]=N.useState(!1),[s,a]=N.useState(null),[o,l]=N.useState(!1),u=N.useCallback(()=>{n(!1),a(null),l(!1)},[]);return{createDoc:N.useCallback((f,h)=>ge(null,null,function*(){return a(null),l(!1),n(!0),e.createDoc(f,h).then(p=>(n(!1),l(!0),p)).catch(p=>{throw n(!1),l(!1),a(p),p})}),[]),loading:t,error:s,isCompleted:o,reset:u}},Fs=()=>{const{db:e}=N.useContext(Oi),[t,n]=N.useState(!1),[s,a]=N.useState(null),[o,l]=N.useState(!1),u=N.useCallback(()=>{n(!1),a(null),l(!1)},[]);return{updateDoc:N.useCallback((f,h,p)=>ge(null,null,function*(){return a(null),l(!1),n(!0),e.updateDoc(f,h,p).then(x=>(n(!1),l(!0),x)).catch(x=>{throw n(!1),l(!1),a(x),x})}),[]),loading:t,error:s,reset:u,isCompleted:o}},Uh=()=>{const{db:e}=N.useContext(Oi),[t,n]=N.useState(!1),[s,a]=N.useState(null),[o,l]=N.useState(!1),u=N.useCallback(()=>{n(!1),a(null),l(!1)},[]);return{deleteDoc:N.useCallback((f,h)=>ge(null,null,function*(){return a(null),l(!1),n(!0),e.deleteDoc(f,h).then(p=>(n(!1),l(!0),p)).catch(p=>{throw n(!1),l(!1),a(p),p})}),[]),loading:t,error:s,reset:u,isCompleted:o}},fs=e=>{const{call:t}=N.useContext(Oi),[n,s]=N.useState(null),[a,o]=N.useState(!1),[l,u]=N.useState(null),[f,h]=N.useState(!1),p=N.useCallback(()=>{s(null),o(!1),u(null),h(!1)},[]);return{call:N.useCallback(x=>ge(null,null,function*(){return u(null),h(!1),o(!0),s(null),t.post(e,x).then(y=>(s(y),o(!1),h(!0),y)).catch(y=>{throw o(!1),h(!1),u(y),y})}),[]),result:n,loading:a,error:l,reset:p,isCompleted:f}};/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var LS=e=>{throw TypeError(e)},qO=(e,t,n)=>t.has(e)||LS("Cannot "+n),mg=(e,t,n)=>(qO(e,t,"read from private field"),n?n.call(e):t.get(e)),YO=(e,t,n)=>t.has(e)?LS("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),N_="popstate";function IO(e={}){function t(s,a){let{pathname:o,search:l,hash:u}=s.location;return Mu("",{pathname:o,search:l,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Si(a)}return XO(t,n,null,e)}function Lt(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function $n(e,t){if(!e){typeof console!="undefined"&&console.warn(t);try{throw new Error(t)}catch(n){}}}function WO(){return Math.random().toString(36).substring(2,10)}function E_(e,t){return{usr:e.state,key:e.key,idx:t}}function Mu(e,t,n=null,s){return xe(z({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ai(t):t),{state:n,key:t&&t.key||s||WO()})}function Si({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ai(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function XO(e,t,n,s={}){let{window:a=document.defaultView,v5Compat:o=!1}=s,l=a.history,u="POP",f=null,h=p();h==null&&(h=0,l.replaceState(xe(z({},l.state),{idx:h}),""));function p(){return(l.state||{idx:null}).idx}function x(){u="POP";let j=p(),S=j==null?null:j-h;h=j,f&&f({action:u,location:_.location,delta:S})}function y(j,S){u="PUSH";let C=Mu(_.location,j,S);h=p()+1;let O=E_(C,h),D=_.createHref(C);try{l.pushState(O,"",D)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(D)}o&&f&&f({action:u,location:_.location,delta:1})}function b(j,S){u="REPLACE";let C=Mu(_.location,j,S);h=p();let O=E_(C,h),D=_.createHref(C);l.replaceState(O,"",D),o&&f&&f({action:u,location:_.location,delta:0})}function w(j){return zS(j)}let _={get action(){return u},get location(){return e(a,l)},listen(j){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(N_,x),f=j,()=>{a.removeEventListener(N_,x),f=null}},createHref(j){return t(a,j)},createURL:w,encodeLocation(j){let S=w(j);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:y,replace:b,go(j){return l.go(j)}};return _}function zS(e,t=!1){let n="http://localhost";typeof window!="undefined"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Lt(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Si(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}var _u,T_=class{constructor(e){if(YO(this,_u,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(mg(this,_u).has(e))return mg(this,_u).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){mg(this,_u).set(e,t)}};_u=new WeakMap;var GO=new Set(["lazy","caseSensitive","path","id","index","children"]);function KO(e){return GO.has(e)}var QO=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function ZO(e){return QO.has(e)}function JO(e){return e.index===!0}function Pu(e,t,n=[],s={},a=!1){return e.map((o,l)=>{let u=[...n,String(l)],f=typeof o.id=="string"?o.id:u.join("-");if(Lt(o.index!==!0||!o.children,"Cannot specify children on an index route"),Lt(a||!s[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),JO(o)){let h=xe(z(z({},o),t(o)),{id:f});return s[f]=h,h}else{let h=xe(z(z({},o),t(o)),{id:f,children:void 0});return s[f]=h,o.children&&(h.children=Pu(o.children,t,u,s,a)),h}})}function xi(e,t,n="/"){return Zf(e,t,n,!1)}function Zf(e,t,n,s){let a=typeof t=="string"?Ai(t):t,o=xr(a.pathname||"/",n);if(o==null)return null;let l=US(e);tA(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let h=fA(o);u=uA(l[f],h,s)}return u}function eA(e,t){let{route:n,pathname:s,params:a}=e;return{id:n.id,pathname:s,params:a,data:t[n.id],handle:n.handle}}function US(e,t=[],n=[],s=""){let a=(o,l,u)=>{let f={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};f.relativePath.startsWith("/")&&(Lt(f.relativePath.startsWith(s),`Absolute route path "${f.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(s.length));let h=ea([s,f.relativePath]),p=n.concat(f);o.children&&o.children.length>0&&(Lt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),US(o.children,t,p,h)),!(o.path==null&&!o.index)&&t.push({path:h,score:lA(h,o.index),routesMeta:p})};return e.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))a(o,l);else for(let f of BS(o.path))a(o,l,f)}),t}function BS(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(s.length===0)return a?[o,""]:[o];let l=BS(s.join("/")),u=[];return u.push(...l.map(f=>f===""?o:[o,f].join("/"))),a&&u.push(...l),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function tA(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:cA(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var nA=/^:[\w-]+$/,sA=3,rA=2,aA=1,iA=10,oA=-2,k_=e=>e==="*";function lA(e,t){let n=e.split("/"),s=n.length;return n.some(k_)&&(s+=oA),t&&(s+=rA),n.filter(a=>!k_(a)).reduce((a,o)=>a+(nA.test(o)?sA:o===""?aA:iA),s)}function cA(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function uA(e,t,n=!1){let{routesMeta:s}=e,a={},o="/",l=[];for(let u=0;u<s.length;++u){let f=s[u],h=u===s.length-1,p=o==="/"?t:t.slice(o.length)||"/",x=mh({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),y=f.route;if(!x&&h&&n&&!s[s.length-1].route.index&&(x=mh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!x)return null;Object.assign(a,x.params),l.push({params:a,pathname:ea([o,x.pathname]),pathnameBase:gA(ea([o,x.pathnameBase])),route:y}),x.pathnameBase!=="/"&&(o=ea([o,x.pathnameBase]))}return l}function mh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=dA(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],l=o.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:s.reduce((h,{paramName:p,isOptional:x},y)=>{if(p==="*"){let w=u[y]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const b=u[y];return x&&!b?h[p]=void 0:h[p]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:e}}function dA(e,t=!1,n=!0){$n(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(s.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function fA(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $n(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function xr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function hA({basename:e,pathname:t}){return t==="/"?e:ea([e,t])}function mA(e,t="/"){let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?Ai(e):e;return{pathname:n?n.startsWith("/")?n:pA(n,t):t,search:xA(s),hash:yA(a)}}function pA(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function pg(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function FS(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function lx(e){let t=FS(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function cx(e,t,n,s=!1){let a;typeof e=="string"?a=Ai(e):(a=z({},e),Lt(!a.pathname||!a.pathname.includes("?"),pg("?","pathname","search",a)),Lt(!a.pathname||!a.pathname.includes("#"),pg("#","pathname","hash",a)),Lt(!a.search||!a.search.includes("#"),pg("#","search","hash",a)));let o=e===""||a.pathname==="",l=o?"/":a.pathname,u;if(l==null)u=n;else{let x=t.length-1;if(!s&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),x-=1;a.pathname=y.join("/")}u=x>=0?t[x]:"/"}let f=mA(a,u),h=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var ea=e=>e.join("/").replace(/\/\/+/g,"/"),gA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),xA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,yA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,ph=class{constructor(e,t,n,s=!1){this.status=e,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Lu(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var HS=["POST","PUT","PATCH","DELETE"],bA=new Set(HS),vA=["GET",...HS],wA=new Set(vA),_A=new Set([301,302,303,307,308]),jA=new Set([307,308]),gg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},SA={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},iu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},NA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ux=e=>NA.test(e),EA=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),VS="remix-router-transitions",$S=Symbol("ResetLoaderData");function TA(e){const t=e.window?e.window:typeof window!="undefined"?window:void 0,n=typeof t!="undefined"&&typeof t.document!="undefined"&&typeof t.document.createElement!="undefined";Lt(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=e.hydrationRouteProperties||[],a=e.mapRouteProperties||EA,o={},l=Pu(e.routes,a,void 0,o),u,f=e.basename||"/",h=e.dataStrategy||RA,p=z({unstable_middleware:!1},e.future),x=null,y=new Set,b=null,w=null,_=null,j=e.hydrationData!=null,S=xi(l,e.history.location,f),C=!1,O=null,D;if(S==null&&!e.patchRoutesOnNavigation){let X=hr(404,{pathname:e.history.location.pathname}),{matches:ne,route:ue}=F_(l);D=!0,S=ne,O={[ue.id]:X}}else if(S&&!e.hydrationData&&pn(S,l,e.history.location.pathname).active&&(S=null),S)if(S.some(X=>X.route.lazy))D=!1;else if(!S.some(X=>X.route.loader))D=!0;else{let X=e.hydrationData?e.hydrationData.loaderData:null,ne=e.hydrationData?e.hydrationData.errors:null;if(ne){let ue=S.findIndex(be=>ne[be.route.id]!==void 0);D=S.slice(0,ue+1).every(be=>!p0(be.route,X,ne))}else D=S.every(ue=>!p0(ue.route,X,ne))}else{D=!1,S=[];let X=pn(null,l,e.history.location.pathname);X.active&&X.matches&&(C=!0,S=X.matches)}let k,R={historyAction:e.history.action,location:e.history.location,matches:S,initialized:D,navigation:gg,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||O,fetchers:new Map,blockers:new Map},M="POP",F=!1,q,re=!1,G=new Map,ee=null,de=!1,J=!1,K=new Set,B=new Map,Y=0,Q=-1,ve=new Map,H=new Set,ae=new Map,we=new Map,W=new Set,me=new Map,ke,ye=null;function Ce(){if(x=e.history.listen(({action:X,location:ne,delta:ue})=>{if(ke){ke(),ke=void 0;return}$n(me.size===0||ue!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let be=vr({currentLocation:R.location,nextLocation:ne,historyAction:X});if(be&&ue!=null){let Ae=new Promise(Ye=>{ke=Ye});e.history.go(ue*-1),qn(be,{state:"blocked",location:ne,proceed(){qn(be,{state:"proceeding",proceed:void 0,reset:void 0,location:ne}),Ae.then(()=>e.history.go(ue))},reset(){let Ye=new Map(R.blockers);Ye.set(be,iu),Ve({blockers:Ye})}});return}return Me(X,ne)}),n){$A(t,G);let X=()=>qA(t,G);t.addEventListener("pagehide",X),ee=()=>t.removeEventListener("pagehide",X)}return R.initialized||Me("POP",R.location,{initialHydration:!0}),k}function ze(){x&&x(),ee&&ee(),y.clear(),q&&q.abort(),R.fetchers.forEach((X,ne)=>bt(ne)),R.blockers.forEach((X,ne)=>ws(ne))}function tt(X){return y.add(X),()=>y.delete(X)}function Ve(X,ne={}){X.matches&&(X.matches=X.matches.map(Ae=>{let Ye=o[Ae.route.id],Ze=Ae.route;return Ze.element!==Ye.element||Ze.errorElement!==Ye.errorElement||Ze.hydrateFallbackElement!==Ye.hydrateFallbackElement?xe(z({},Ae),{route:Ye}):Ae})),R=z(z({},R),X);let ue=[],be=[];R.fetchers.forEach((Ae,Ye)=>{Ae.state==="idle"&&(W.has(Ye)?ue.push(Ye):be.push(Ye))}),W.forEach(Ae=>{!R.fetchers.has(Ae)&&!B.has(Ae)&&ue.push(Ae)}),[...y].forEach(Ae=>Ae(R,{deletedFetchers:ue,viewTransitionOpts:ne.viewTransitionOpts,flushSync:ne.flushSync===!0})),ue.forEach(Ae=>bt(Ae)),be.forEach(Ae=>R.fetchers.delete(Ae))}function Et(X,ne,{flushSync:ue}={}){var Je,pt;let be=R.actionData!=null&&R.navigation.formMethod!=null&&Us(R.navigation.formMethod)&&R.navigation.state==="loading"&&((Je=X.state)==null?void 0:Je._isRedirect)!==!0,Ae;ne.actionData?Object.keys(ne.actionData).length>0?Ae=ne.actionData:Ae=null:be?Ae=R.actionData:Ae=null;let Ye=ne.loaderData?U_(R.loaderData,ne.loaderData,ne.matches||[],ne.errors):R.loaderData,Ze=R.blockers;Ze.size>0&&(Ze=new Map(Ze),Ze.forEach((wt,on)=>Ze.set(on,iu)));let at=de?!1:Jt(X,ne.matches||R.matches),lt=F===!0||R.navigation.formMethod!=null&&Us(R.navigation.formMethod)&&((pt=X.state)==null?void 0:pt._isRedirect)!==!0;u&&(l=u,u=void 0),de||M==="POP"||(M==="PUSH"?e.history.push(X,X.state):M==="REPLACE"&&e.history.replace(X,X.state));let St;if(M==="POP"){let wt=G.get(R.location.pathname);wt&&wt.has(X.pathname)?St={currentLocation:R.location,nextLocation:X}:G.has(X.pathname)&&(St={currentLocation:X,nextLocation:R.location})}else if(re){let wt=G.get(R.location.pathname);wt?wt.add(X.pathname):(wt=new Set([X.pathname]),G.set(R.location.pathname,wt)),St={currentLocation:R.location,nextLocation:X}}Ve(xe(z({},ne),{actionData:Ae,loaderData:Ye,historyAction:M,location:X,initialized:!0,navigation:gg,revalidation:"idle",restoreScrollPosition:at,preventScrollReset:lt,blockers:Ze}),{viewTransitionOpts:St,flushSync:ue===!0}),M="POP",F=!1,re=!1,de=!1,J=!1,ye==null||ye.resolve(),ye=null}function ct(X,ne){return ge(this,null,function*(){if(typeof X=="number"){e.history.go(X);return}let ue=m0(R.location,R.matches,f,X,ne==null?void 0:ne.fromRouteId,ne==null?void 0:ne.relative),{path:be,submission:Ae,error:Ye}=C_(!1,ue,ne),Ze=R.location,at=Mu(R.location,be,ne&&ne.state);at=z(z({},at),e.history.encodeLocation(at));let lt=ne&&ne.replace!=null?ne.replace:void 0,St="PUSH";lt===!0?St="REPLACE":lt===!1||Ae!=null&&Us(Ae.formMethod)&&Ae.formAction===R.location.pathname+R.location.search&&(St="REPLACE");let Je=ne&&"preventScrollReset"in ne?ne.preventScrollReset===!0:void 0,pt=(ne&&ne.flushSync)===!0,wt=vr({currentLocation:Ze,nextLocation:at,historyAction:St});if(wt){qn(wt,{state:"blocked",location:at,proceed(){qn(wt,{state:"proceeding",proceed:void 0,reset:void 0,location:at}),ct(X,ne)},reset(){let on=new Map(R.blockers);on.set(wt,iu),Ve({blockers:on})}});return}yield Me(St,at,{submission:Ae,pendingError:Ye,preventScrollReset:Je,replace:ne&&ne.replace,enableViewTransition:ne&&ne.viewTransition,flushSync:pt})})}function yt(){ye||(ye=YA()),Oe(),Ve({revalidation:"loading"});let X=ye.promise;return R.navigation.state==="submitting"?X:R.navigation.state==="idle"?(Me(R.historyAction,R.location,{startUninterruptedRevalidation:!0}),X):(Me(M||R.historyAction,R.navigation.location,{overrideNavigation:R.navigation,enableViewTransition:re===!0}),X)}function Me(X,ne,ue){return ge(this,null,function*(){q&&q.abort(),q=null,M=X,de=(ue&&ue.startUninterruptedRevalidation)===!0,jt(R.location,R.matches),F=(ue&&ue.preventScrollReset)===!0,re=(ue&&ue.enableViewTransition)===!0;let be=u||l,Ae=ue&&ue.overrideNavigation,Ye=ue!=null&&ue.initialHydration&&R.matches&&R.matches.length>0&&!C?R.matches:xi(be,ne,f),Ze=(ue&&ue.flushSync)===!0;if(Ye&&R.initialized&&!J&&UA(R.location,ne)&&!(ue&&ue.submission&&Us(ue.submission.formMethod))){Et(ne,{matches:Ye},{flushSync:Ze});return}let at=pn(Ye,be,ne.pathname);if(at.active&&at.matches&&(Ye=at.matches),!Ye){let{error:en,notFoundMatches:et,route:gt}=nt(ne.pathname);Et(ne,{matches:et,loaderData:{},errors:{[gt.id]:en}},{flushSync:Ze});return}q=new AbortController;let lt=Ol(e.history,ne,q.signal,ue&&ue.submission),St=new T_(e.unstable_getContext?yield e.unstable_getContext():void 0),Je;if(ue&&ue.pendingError)Je=[ho(Ye).route.id,{type:"error",error:ue.pendingError}];else if(ue&&ue.submission&&Us(ue.submission.formMethod)){let en=yield mt(lt,ne,ue.submission,Ye,St,at.active,ue&&ue.initialHydration===!0,{replace:ue.replace,flushSync:Ze});if(en.shortCircuited)return;if(en.pendingActionResult){let[et,gt]=en.pendingActionResult;if(Ks(gt)&&Lu(gt.error)&&gt.error.status===404){q=null,Et(ne,{matches:en.matches,loaderData:{},errors:{[et]:gt.error}});return}}Ye=en.matches||Ye,Je=en.pendingActionResult,Ae=xg(ne,ue.submission),Ze=!1,at.active=!1,lt=Ol(e.history,lt.url,lt.signal)}let{shortCircuited:pt,matches:wt,loaderData:on,errors:Sn}=yield Yt(lt,ne,Ye,St,at.active,Ae,ue&&ue.submission,ue&&ue.fetcherSubmission,ue&&ue.replace,ue&&ue.initialHydration===!0,Ze,Je);pt||(q=null,Et(ne,xe(z({matches:wt||Ye},B_(Je)),{loaderData:on,errors:Sn})))})}function mt(lt,St,Je,pt,wt,on,Sn){return ge(this,arguments,function*(X,ne,ue,be,Ae,Ye,Ze,at={}){Oe();let en=HA(ne,ue);if(Ve({navigation:en},{flushSync:at.flushSync===!0}),Ye){let Ft=yield an(be,ne.pathname,X.signal);if(Ft.type==="aborted")return{shortCircuited:!0};if(Ft.type==="error"){let gn=ho(Ft.partialMatches).route.id;return{matches:Ft.partialMatches,pendingActionResult:[gn,{type:"error",error:Ft.error}]}}else if(Ft.matches)be=Ft.matches;else{let{notFoundMatches:gn,error:Nn,route:In}=nt(ne.pathname);return{matches:gn,pendingActionResult:[In.id,{type:"error",error:Nn}]}}}let et,gt=Jf(be,ne);if(!gt.route.action&&!gt.route.lazy)et={type:"error",error:hr(405,{method:X.method,pathname:ne.pathname,routeId:gt.route.id})};else{let Ft=Ll(a,o,X,be,gt,Ze?[]:s,Ae),gn=yield je(X,Ft,Ae,null);if(et=gn[gt.route.id],!et){for(let Nn of be)if(gn[Nn.route.id]){et=gn[Nn.route.id];break}}if(X.signal.aborted)return{shortCircuited:!0}}if(yo(et)){let Ft;return at&&at.replace!=null?Ft=at.replace:Ft=P_(et.response.headers.get("Location"),new URL(X.url),f)===R.location.pathname+R.location.search,yield V(X,et,!0,{submission:ue,replace:Ft}),{shortCircuited:!0}}if(Ks(et)){let Ft=ho(be,gt.route.id);return(at&&at.replace)!==!0&&(M="PUSH"),{matches:be,pendingActionResult:[Ft.route.id,et,gt.route.id]}}return{matches:be,pendingActionResult:[gt.route.id,et]}})}function Yt(X,ne,ue,be,Ae,Ye,Ze,at,lt,St,Je,pt){return ge(this,null,function*(){let wt=Ye||xg(ne,Ze),on=Ze||at||V_(wt),Sn=!de&&!St;if(Ae){if(Sn){let En=kt(pt);Ve(z({navigation:wt},En!==void 0?{actionData:En}:{}),{flushSync:Je})}let Tt=yield an(ue,ne.pathname,X.signal);if(Tt.type==="aborted")return{shortCircuited:!0};if(Tt.type==="error"){let En=ho(Tt.partialMatches).route.id;return{matches:Tt.partialMatches,loaderData:{},errors:{[En]:Tt.error}}}else if(Tt.matches)ue=Tt.matches;else{let{error:En,notFoundMatches:la,route:ls}=nt(ne.pathname);return{matches:la,loaderData:{},errors:{[ls.id]:En}}}}let en=u||l,{dsMatches:et,revalidatingFetchers:gt}=O_(X,be,a,o,e.history,R,ue,on,ne,St?[]:s,St===!0,J,K,W,ae,H,en,f,e.patchRoutesOnNavigation!=null,pt);if(Q=++Y,!e.dataStrategy&&!et.some(Tt=>Tt.shouldLoad)&&gt.length===0){let Tt=_t();return Et(ne,z(z({matches:ue,loaderData:{},errors:pt&&Ks(pt[1])?{[pt[0]]:pt[1].error}:null},B_(pt)),Tt?{fetchers:new Map(R.fetchers)}:{}),{flushSync:Je}),{shortCircuited:!0}}if(Sn){let Tt={};if(!Ae){Tt.navigation=wt;let En=kt(pt);En!==void 0&&(Tt.actionData=En)}gt.length>0&&(Tt.fetchers=It(gt)),Ve(Tt,{flushSync:Je})}gt.forEach(Tt=>{Te(Tt.key),Tt.controller&&B.set(Tt.key,Tt.controller)});let Ft=()=>gt.forEach(Tt=>Te(Tt.key));q&&q.signal.addEventListener("abort",Ft);let{loaderResults:gn,fetcherResults:Nn}=yield Re(et,gt,X,be);if(X.signal.aborted)return{shortCircuited:!0};q&&q.signal.removeEventListener("abort",Ft),gt.forEach(Tt=>B.delete(Tt.key));let In=bf(gn);if(In)return yield V(X,In.result,!0,{replace:lt}),{shortCircuited:!0};if(In=bf(Nn),In)return H.add(In.key),yield V(X,In.result,!0,{replace:lt}),{shortCircuited:!0};let{loaderData:ns,errors:tr}=z_(R,ue,gn,pt,gt,Nn);St&&R.errors&&(tr=z(z({},R.errors),tr));let nr=_t(),ms=On(Q),sr=nr||ms||gt.length>0;return z({matches:ue,loaderData:ns,errors:tr},sr?{fetchers:new Map(R.fetchers)}:{})})}function kt(X){if(X&&!Ks(X[1]))return{[X[0]]:X[1].data};if(R.actionData)return Object.keys(R.actionData).length===0?null:R.actionData}function It(X){return X.forEach(ne=>{let ue=R.fetchers.get(ne.key),be=ou(void 0,ue?ue.data:void 0);R.fetchers.set(ne.key,be)}),new Map(R.fetchers)}function Xt(X,ne,ue,be){return ge(this,null,function*(){Te(X);let Ae=(be&&be.flushSync)===!0,Ye=u||l,Ze=m0(R.location,R.matches,f,ue,ne,be==null?void 0:be.relative),at=xi(Ye,Ze,f),lt=pn(at,Ye,Ze);if(lt.active&&lt.matches&&(at=lt.matches),!at){$e(X,ne,hr(404,{pathname:Ze}),{flushSync:Ae});return}let{path:St,submission:Je,error:pt}=C_(!0,Ze,be);if(pt){$e(X,ne,pt,{flushSync:Ae});return}let wt=new T_(e.unstable_getContext?yield e.unstable_getContext():void 0),on=(be&&be.preventScrollReset)===!0;if(Je&&Us(Je.formMethod)){yield $(X,ne,St,at,wt,lt.active,Ae,on,Je);return}ae.set(X,{routeId:ne,path:St}),yield oe(X,ne,St,at,wt,lt.active,Ae,on,Je)})}function $(X,ne,ue,be,Ae,Ye,Ze,at,lt){return ge(this,null,function*(){Oe(),ae.delete(X);let St=R.fetchers.get(X);Ue(X,VA(lt,St),{flushSync:Ze});let Je=new AbortController,pt=Ol(e.history,ue,Je.signal,lt);if(Ye){let dn=yield an(be,new URL(pt.url).pathname,pt.signal,X);if(dn.type==="aborted")return;if(dn.type==="error"){$e(X,ne,dn.error,{flushSync:Ze});return}else if(dn.matches)be=dn.matches;else{$e(X,ne,hr(404,{pathname:ue}),{flushSync:Ze});return}}let wt=Jf(be,ue);if(!wt.route.action&&!wt.route.lazy){let dn=hr(405,{method:lt.formMethod,pathname:ue,routeId:ne});$e(X,ne,dn,{flushSync:Ze});return}B.set(X,Je);let on=Y,Sn=Ll(a,o,pt,be,wt,s,Ae),et=(yield je(pt,Sn,Ae,X))[wt.route.id];if(pt.signal.aborted){B.get(X)===Je&&B.delete(X);return}if(W.has(X)){if(yo(et)||Ks(et)){Ue(X,hi(void 0));return}}else{if(yo(et))if(B.delete(X),Q>on){Ue(X,hi(void 0));return}else return H.add(X),Ue(X,ou(lt)),V(pt,et,!1,{fetcherSubmission:lt,preventScrollReset:at});if(Ks(et)){$e(X,ne,et.error);return}}let gt=R.navigation.location||R.location,Ft=Ol(e.history,gt,Je.signal),gn=u||l,Nn=R.navigation.state!=="idle"?xi(gn,R.navigation.location,f):R.matches;Lt(Nn,"Didn't find any matches after fetcher action");let In=++Y;ve.set(X,In);let ns=ou(lt,et.data);R.fetchers.set(X,ns);let{dsMatches:tr,revalidatingFetchers:nr}=O_(Ft,Ae,a,o,e.history,R,Nn,lt,gt,s,!1,J,K,W,ae,H,gn,f,e.patchRoutesOnNavigation!=null,[wt.route.id,et]);nr.filter(dn=>dn.key!==X).forEach(dn=>{let wr=dn.key,Po=R.fetchers.get(wr),Lo=ou(void 0,Po?Po.data:void 0);R.fetchers.set(wr,Lo),Te(wr),dn.controller&&B.set(wr,dn.controller)}),Ve({fetchers:new Map(R.fetchers)});let ms=()=>nr.forEach(dn=>Te(dn.key));Je.signal.addEventListener("abort",ms);let{loaderResults:sr,fetcherResults:Tt}=yield Re(tr,nr,Ft,Ae);if(Je.signal.aborted)return;if(Je.signal.removeEventListener("abort",ms),ve.delete(X),B.delete(X),nr.forEach(dn=>B.delete(dn.key)),R.fetchers.has(X)){let dn=hi(et.data);R.fetchers.set(X,dn)}let En=bf(sr);if(En)return V(Ft,En.result,!1,{preventScrollReset:at});if(En=bf(Tt),En)return H.add(En.key),V(Ft,En.result,!1,{preventScrollReset:at});let{loaderData:la,errors:ls}=z_(R,Nn,sr,void 0,nr,Tt);On(In),R.navigation.state==="loading"&&In>Q?(Lt(M,"Expected pending action"),q&&q.abort(),Et(R.navigation.location,{matches:Nn,loaderData:la,errors:ls,fetchers:new Map(R.fetchers)})):(Ve({errors:ls,loaderData:U_(R.loaderData,la,Nn,ls),fetchers:new Map(R.fetchers)}),J=!1)})}function oe(X,ne,ue,be,Ae,Ye,Ze,at,lt){return ge(this,null,function*(){let St=R.fetchers.get(X);Ue(X,ou(lt,St?St.data:void 0),{flushSync:Ze});let Je=new AbortController,pt=Ol(e.history,ue,Je.signal);if(Ye){let gt=yield an(be,new URL(pt.url).pathname,pt.signal,X);if(gt.type==="aborted")return;if(gt.type==="error"){$e(X,ne,gt.error,{flushSync:Ze});return}else if(gt.matches)be=gt.matches;else{$e(X,ne,hr(404,{pathname:ue}),{flushSync:Ze});return}}let wt=Jf(be,ue);B.set(X,Je);let on=Y,Sn=Ll(a,o,pt,be,wt,s,Ae),et=(yield je(pt,Sn,Ae,X))[wt.route.id];if(B.get(X)===Je&&B.delete(X),!pt.signal.aborted){if(W.has(X)){Ue(X,hi(void 0));return}if(yo(et))if(Q>on){Ue(X,hi(void 0));return}else{H.add(X),yield V(pt,et,!1,{preventScrollReset:at});return}if(Ks(et)){$e(X,ne,et.error);return}Ue(X,hi(et.data))}})}function V(at,lt,St){return ge(this,arguments,function*(X,ne,ue,{submission:be,fetcherSubmission:Ae,preventScrollReset:Ye,replace:Ze}={}){ne.response.headers.has("X-Remix-Revalidate")&&(J=!0);let Je=ne.response.headers.get("Location");Lt(Je,"Expected a Location header on the redirect Response"),Je=P_(Je,new URL(X.url),f);let pt=Mu(R.location,Je,{_isRedirect:!0});if(n){let gt=!1;if(ne.response.headers.has("X-Remix-Reload-Document"))gt=!0;else if(ux(Je)){const Ft=zS(Je,!0);gt=Ft.origin!==t.location.origin||xr(Ft.pathname,f)==null}if(gt){Ze?t.location.replace(Je):t.location.assign(Je);return}}q=null;let wt=Ze===!0||ne.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:on,formAction:Sn,formEncType:en}=R.navigation;!be&&!Ae&&on&&Sn&&en&&(be=V_(R.navigation));let et=be||Ae;if(jA.has(ne.response.status)&&et&&Us(et.formMethod))yield Me(wt,pt,{submission:xe(z({},et),{formAction:Je}),preventScrollReset:Ye||F,enableViewTransition:ue?re:void 0});else{let gt=xg(pt,be);yield Me(wt,pt,{overrideNavigation:gt,fetcherSubmission:Ae,preventScrollReset:Ye||F,enableViewTransition:ue?re:void 0})}})}function je(X,ne,ue,be){return ge(this,null,function*(){let Ae,Ye={};try{Ae=yield DA(h,X,ne,be,ue,!1)}catch(Ze){return ne.filter(at=>at.shouldLoad).forEach(at=>{Ye[at.route.id]={type:"error",error:Ze}}),Ye}if(X.signal.aborted)return Ye;for(let[Ze,at]of Object.entries(Ae))if(BA(at)){let lt=at.result;Ye[Ze]={type:"redirect",response:LA(lt,X,Ze,ne,f)}}else Ye[Ze]=yield PA(at);return Ye})}function Re(X,ne,ue,be){return ge(this,null,function*(){let Ae=je(ue,X,be,null),Ye=Promise.all(ne.map(lt=>ge(null,null,function*(){if(lt.matches&&lt.match&&lt.request&&lt.controller){let Je=(yield je(lt.request,lt.matches,be,lt.key))[lt.match.route.id];return{[lt.key]:Je}}else return Promise.resolve({[lt.key]:{type:"error",error:hr(404,{pathname:lt.path})}})}))),Ze=yield Ae,at=(yield Ye).reduce((lt,St)=>Object.assign(lt,St),{});return{loaderResults:Ze,fetcherResults:at}})}function Oe(){J=!0,ae.forEach((X,ne)=>{B.has(ne)&&K.add(ne),Te(ne)})}function Ue(X,ne,ue={}){R.fetchers.set(X,ne),Ve({fetchers:new Map(R.fetchers)},{flushSync:(ue&&ue.flushSync)===!0})}function $e(X,ne,ue,be={}){let Ae=ho(R.matches,ne);bt(X),Ve({errors:{[Ae.route.id]:ue},fetchers:new Map(R.fetchers)},{flushSync:(be&&be.flushSync)===!0})}function Ke(X){return we.set(X,(we.get(X)||0)+1),W.has(X)&&W.delete(X),R.fetchers.get(X)||SA}function bt(X){let ne=R.fetchers.get(X);B.has(X)&&!(ne&&ne.state==="loading"&&ve.has(X))&&Te(X),ae.delete(X),ve.delete(X),H.delete(X),W.delete(X),K.delete(X),R.fetchers.delete(X)}function es(X){let ne=(we.get(X)||0)-1;ne<=0?(we.delete(X),W.add(X)):we.set(X,ne),Ve({fetchers:new Map(R.fetchers)})}function Te(X){let ne=B.get(X);ne&&(ne.abort(),B.delete(X))}function Be(X){for(let ne of X){let ue=Ke(ne),be=hi(ue.data);R.fetchers.set(ne,be)}}function _t(){let X=[],ne=!1;for(let ue of H){let be=R.fetchers.get(ue);Lt(be,`Expected fetcher: ${ue}`),be.state==="loading"&&(H.delete(ue),X.push(ue),ne=!0)}return Be(X),ne}function On(X){let ne=[];for(let[ue,be]of ve)if(be<X){let Ae=R.fetchers.get(ue);Lt(Ae,`Expected fetcher: ${ue}`),Ae.state==="loading"&&(Te(ue),ve.delete(ue),ne.push(ue))}return Be(ne),ne.length>0}function os(X,ne){let ue=R.blockers.get(X)||iu;return me.get(X)!==ne&&me.set(X,ne),ue}function ws(X){R.blockers.delete(X),me.delete(X)}function qn(X,ne){let ue=R.blockers.get(X)||iu;Lt(ue.state==="unblocked"&&ne.state==="blocked"||ue.state==="blocked"&&ne.state==="blocked"||ue.state==="blocked"&&ne.state==="proceeding"||ue.state==="blocked"&&ne.state==="unblocked"||ue.state==="proceeding"&&ne.state==="unblocked",`Invalid blocker state transition: ${ue.state} -> ${ne.state}`);let be=new Map(R.blockers);be.set(X,ne),Ve({blockers:be})}function vr({currentLocation:X,nextLocation:ne,historyAction:ue}){if(me.size===0)return;me.size>1&&$n(!1,"A router only supports one blocker at a time");let be=Array.from(me.entries()),[Ae,Ye]=be[be.length-1],Ze=R.blockers.get(Ae);if(!(Ze&&Ze.state==="proceeding")&&Ye({currentLocation:X,nextLocation:ne,historyAction:ue}))return Ae}function nt(X){let ne=hr(404,{pathname:X}),ue=u||l,{matches:be,route:Ae}=F_(ue);return{notFoundMatches:be,route:Ae,error:ne}}function Dt(X,ne,ue){if(b=X,_=ne,w=ue||null,!j&&R.navigation===gg){j=!0;let be=Jt(R.location,R.matches);be!=null&&Ve({restoreScrollPosition:be})}return()=>{b=null,_=null,w=null}}function zt(X,ne){return w&&w(X,ne.map(be=>eA(be,R.loaderData)))||X.key}function jt(X,ne){if(b&&_){let ue=zt(X,ne);b[ue]=_()}}function Jt(X,ne){if(b){let ue=zt(X,ne),be=b[ue];if(typeof be=="number")return be}return null}function pn(X,ne,ue){if(e.patchRoutesOnNavigation)if(X){if(Object.keys(X[0].params).length>0)return{active:!0,matches:Zf(ne,ue,f,!0)}}else return{active:!0,matches:Zf(ne,ue,f,!0)||[]};return{active:!1,matches:null}}function an(X,ne,ue,be){return ge(this,null,function*(){if(!e.patchRoutesOnNavigation)return{type:"success",matches:X};let Ae=X;for(;;){let Ye=u==null,Ze=u||l,at=o;try{yield e.patchRoutesOnNavigation({signal:ue,path:ne,matches:Ae,fetcherKey:be,patch:(Je,pt)=>{ue.aborted||A_(Je,pt,Ze,at,a,!1)}})}catch(Je){return{type:"error",error:Je,partialMatches:Ae}}finally{Ye&&!ue.aborted&&(l=[...l])}if(ue.aborted)return{type:"aborted"};let lt=xi(Ze,ne,f);if(lt)return{type:"success",matches:lt};let St=Zf(Ze,ne,f,!0);if(!St||Ae.length===St.length&&Ae.every((Je,pt)=>Je.route.id===St[pt].route.id))return{type:"success",matches:null};Ae=St}})}function ts(X){o={},u=Pu(X,a,void 0,o)}function Yn(X,ne,ue=!1){let be=u==null;A_(X,ne,u||l,o,a,ue),be&&(l=[...l],Ve({}))}return k={get basename(){return f},get future(){return p},get state(){return R},get routes(){return l},get window(){return t},initialize:Ce,subscribe:tt,enableScrollRestoration:Dt,navigate:ct,fetch:Xt,revalidate:yt,createHref:X=>e.history.createHref(X),encodeLocation:X=>e.history.encodeLocation(X),getFetcher:Ke,deleteFetcher:es,dispose:ze,getBlocker:os,deleteBlocker:ws,patchRoutes:Yn,_internalFetchControllers:B,_internalSetRoutes:ts,_internalSetStateDoNotUseOrYouWillBreakYourApp(X){Ve(X)}},k}function kA(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function m0(e,t,n,s,a,o){let l,u;if(a){l=[];for(let h of t)if(l.push(h),h.route.id===a){u=h;break}}else l=t,u=t[t.length-1];let f=cx(s||".",lx(l),xr(e.pathname,n)||e.pathname,o==="path");if(s==null&&(f.search=e.search,f.hash=e.hash),(s==null||s===""||s===".")&&u){let h=dx(f.search);if(u.route.index&&!h)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&h){let p=new URLSearchParams(f.search),x=p.getAll("index");p.delete("index"),x.filter(b=>b).forEach(b=>p.append("index",b));let y=p.toString();f.search=y?`?${y}`:""}}return n!=="/"&&(f.pathname=hA({basename:n,pathname:f.pathname})),Si(f)}function C_(e,t,n){if(!n||!kA(n))return{path:t};if(n.formMethod&&!FA(n.formMethod))return{path:t,error:hr(405,{method:n.formMethod})};let s=()=>({path:t,error:hr(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),l=GS(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Us(o))return s();let x=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((y,[b,w])=>`${y}${b}=${w}
`,""):String(n.body);return{path:t,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:x}}}else if(n.formEncType==="application/json"){if(!Us(o))return s();try{let x=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:x,text:void 0}}}catch(x){return s()}}}Lt(typeof FormData=="function","FormData is not available in this environment");let u,f;if(n.formData)u=x0(n.formData),f=n.formData;else if(n.body instanceof FormData)u=x0(n.body),f=n.body;else if(n.body instanceof URLSearchParams)u=n.body,f=L_(u);else if(n.body==null)u=new URLSearchParams,f=new FormData;else try{u=new URLSearchParams(n.body),f=L_(u)}catch(x){return s()}let h={formMethod:o,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Us(h.formMethod))return{path:t,submission:h};let p=Ai(t);return e&&p.search&&dx(p.search)&&u.append("index",""),p.search=`?${u}`,{path:Si(p),submission:h}}function O_(e,t,n,s,a,o,l,u,f,h,p,x,y,b,w,_,j,S,C,O){var de;let D=O?Ks(O[1])?O[1].error:O[1].data:void 0,k=a.createURL(o.location),R=a.createURL(f),M;if(p&&o.errors){let J=Object.keys(o.errors)[0];M=l.findIndex(K=>K.route.id===J)}else if(O&&Ks(O[1])){let J=O[0];M=l.findIndex(K=>K.route.id===J)-1}let F=O?O[1].statusCode:void 0,q=F&&F>=400,re=xe(z({currentUrl:k,currentParams:((de=o.matches[0])==null?void 0:de.params)||{},nextUrl:R,nextParams:l[0].params},u),{actionResult:D,actionStatus:F}),G=l.map((J,K)=>{let{route:B}=J,Y=null;if(M!=null&&K>M?Y=!1:B.lazy?Y=!0:B.loader==null?Y=!1:p?Y=p0(B,o.loaderData,o.errors):CA(o.loaderData,o.matches[K],J)&&(Y=!0),Y!==null)return g0(n,s,e,J,h,t,Y);let Q=q?!1:x||k.pathname+k.search===R.pathname+R.search||k.search!==R.search||OA(o.matches[K],J),ve=xe(z({},re),{defaultShouldRevalidate:Q}),H=gh(J,ve);return g0(n,s,e,J,h,t,H,ve)}),ee=[];return w.forEach((J,K)=>{if(p||!l.some(W=>W.route.id===J.routeId)||b.has(K))return;let B=o.fetchers.get(K),Y=B&&B.state!=="idle"&&B.data===void 0,Q=xi(j,J.path,S);if(!Q){if(C&&Y)return;ee.push({key:K,routeId:J.routeId,path:J.path,matches:null,match:null,request:null,controller:null});return}if(_.has(K))return;let ve=Jf(Q,J.path),H=new AbortController,ae=Ol(a,J.path,H.signal),we=null;if(y.has(K))y.delete(K),we=Ll(n,s,ae,Q,ve,h,t);else if(Y)x&&(we=Ll(n,s,ae,Q,ve,h,t));else{let W=xe(z({},re),{defaultShouldRevalidate:q?!1:x});gh(ve,W)&&(we=Ll(n,s,ae,Q,ve,h,t,W))}we&&ee.push({key:K,routeId:J.routeId,path:J.path,matches:we,match:ve,request:ae,controller:H})}),{dsMatches:G,revalidatingFetchers:ee}}function p0(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let s=t!=null&&e.id in t,a=n!=null&&n[e.id]!==void 0;return!s&&a?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!s&&!a}function CA(e,t,n){let s=!t||n.route.id!==t.route.id,a=!e.hasOwnProperty(n.route.id);return s||a}function OA(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function gh(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function A_(e,t,n,s,a,o){let l;if(e){let h=s[e];Lt(h,`No route found to patch children into: routeId = ${e}`),h.children||(h.children=[]),l=h.children}else l=n;let u=[],f=[];if(t.forEach(h=>{let p=l.find(x=>qS(h,x));p?f.push({existingRoute:p,newRoute:h}):u.push(h)}),u.length>0){let h=Pu(u,a,[e||"_","patch",String((l==null?void 0:l.length)||"0")],s);l.push(...h)}if(o&&f.length>0)for(let h=0;h<f.length;h++){let{existingRoute:p,newRoute:x}=f[h],y=p,[b]=Pu([x],a,[],{},!0);Object.assign(y,{element:b.element?b.element:y.element,errorElement:b.errorElement?b.errorElement:y.errorElement,hydrateFallbackElement:b.hydrateFallbackElement?b.hydrateFallbackElement:y.hydrateFallbackElement})}}function qS(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,s)=>{var a;return(a=t.children)==null?void 0:a.some(o=>qS(n,o))}):!1}var R_=new WeakMap,YS=({key:e,route:t,manifest:n,mapRouteProperties:s})=>{let a=n[t.id];if(Lt(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let o=a.lazy[e];if(!o)return;let l=R_.get(a);l||(l={},R_.set(a,l));let u=l[e];if(u)return u;let f=ge(null,null,function*(){let h=KO(e),x=a[e]!==void 0&&e!=="hasErrorBoundary";if(h)$n(!h,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),l[e]=Promise.resolve();else if(x)$n(!1,`Route "${a.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let y=yield o();y!=null&&(Object.assign(a,{[e]:y}),Object.assign(a,s(a)))}typeof a.lazy=="object"&&(a.lazy[e]=void 0,Object.values(a.lazy).every(y=>y===void 0)&&(a.lazy=void 0))});return l[e]=f,f},D_=new WeakMap;function AA(e,t,n,s,a){let o=n[e.id];if(Lt(o,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let p=D_.get(o);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let x=ge(null,null,function*(){Lt(typeof e.lazy=="function","No lazy route function found");let y=yield e.lazy(),b={};for(let w in y){let _=y[w];if(_===void 0)continue;let j=ZO(w),C=o[w]!==void 0&&w!=="hasErrorBoundary";j?$n(!j,"Route property "+w+" is not a supported property to be returned from a lazy route function. This property will be ignored."):C?$n(!C,`Route "${o.id}" has a static property "${w}" defined but its lazy function is also returning a value for this property. The lazy route property "${w}" will be ignored.`):b[w]=_}Object.assign(o,b),Object.assign(o,xe(z({},s(o)),{lazy:void 0}))});return D_.set(o,x),x.catch(()=>{}),{lazyRoutePromise:x,lazyHandlerPromise:x}}let l=Object.keys(e.lazy),u=[],f;for(let p of l){if(a&&a.includes(p))continue;let x=YS({key:p,route:e,manifest:n,mapRouteProperties:s});x&&(u.push(x),p===t&&(f=x))}let h=u.length>0?Promise.all(u).then(()=>{}):void 0;return h==null||h.catch(()=>{}),f==null||f.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:f}}function M_(e){return ge(this,null,function*(){let t=e.matches.filter(a=>a.shouldLoad),n={};return(yield Promise.all(t.map(a=>a.resolve()))).forEach((a,o)=>{n[t[o].route.id]=a}),n})}function RA(e){return ge(this,null,function*(){return e.matches.some(t=>t.route.unstable_middleware)?IS(e,!1,()=>M_(e),(t,n)=>({[n]:{type:"error",result:t}})):M_(e)})}function IS(e,t,n,s){return ge(this,null,function*(){let{matches:a,request:o,params:l,context:u}=e,f={handlerResult:void 0};try{let h=a.flatMap(x=>x.route.unstable_middleware?x.route.unstable_middleware.map(y=>[x.route.id,y]):[]),p=yield WS({request:o,params:l,context:u},h,t,f,n);return t?p:f.handlerResult}catch(h){if(!f.middlewareError)throw h;let p=yield s(f.middlewareError.error,f.middlewareError.routeId);return f.handlerResult?Object.assign(f.handlerResult,p):p}})}function WS(e,t,n,s,a,o=0){return ge(this,null,function*(){let{request:l}=e;if(l.signal.aborted)throw l.signal.reason?l.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${l.method} ${l.url}`);let u=t[o];if(!u)return s.handlerResult=yield a(),s.handlerResult;let[f,h]=u,p=!1,x,y=()=>ge(null,null,function*(){if(p)throw new Error("You may only call `next()` once per middleware");p=!0,yield WS(e,t,n,s,a,o+1)});try{let b=yield h({request:e.request,params:e.params,context:e.context},y);return p?b===void 0?x:b:y()}catch(b){throw s.middlewareError?s.middlewareError.error!==b&&(s.middlewareError={routeId:f,error:b}):s.middlewareError={routeId:f,error:b},b}})}function XS(e,t,n,s,a){let o=YS({key:"unstable_middleware",route:s.route,manifest:t,mapRouteProperties:e}),l=AA(s.route,Us(n.method)?"action":"loader",t,e,a);return{middleware:o,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function g0(e,t,n,s,a,o,l,u=null){let f=!1,h=XS(e,t,n,s,a);return xe(z({},s),{_lazyPromises:h,shouldLoad:l,unstable_shouldRevalidateArgs:u,unstable_shouldCallHandler(p){return f=!0,u?typeof p=="boolean"?gh(s,xe(z({},u),{defaultShouldRevalidate:p})):gh(s,u):l},resolve(p){return f||l||p&&!Us(n.method)&&(s.route.lazy||s.route.loader)?MA({request:n,match:s,lazyHandlerPromise:h==null?void 0:h.handler,lazyRoutePromise:h==null?void 0:h.route,handlerOverride:p,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}})}function Ll(e,t,n,s,a,o,l,u=null){return s.map(f=>f.route.id!==a.route.id?xe(z({},f),{shouldLoad:!1,unstable_shouldRevalidateArgs:u,unstable_shouldCallHandler:()=>!1,_lazyPromises:XS(e,t,n,f,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}):g0(e,t,n,f,o,l,!0,u))}function DA(e,t,n,s,a,o){return ge(this,null,function*(){n.some(h=>{var p;return(p=h._lazyPromises)==null?void 0:p.middleware})&&(yield Promise.all(n.map(h=>{var p;return(p=h._lazyPromises)==null?void 0:p.middleware})));let l={request:t,params:n[0].params,context:a,matches:n},u=h=>{let p=l;return IS(p,!1,()=>h(xe(z({},p),{fetcherKey:s,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})),(x,y)=>({[y]:{type:"error",result:x}}))},f=yield e(xe(z({},l),{fetcherKey:s,unstable_runClientMiddleware:u}));try{yield Promise.all(n.flatMap(h=>{var p,x;return[(p=h._lazyPromises)==null?void 0:p.handler,(x=h._lazyPromises)==null?void 0:x.route]}))}catch(h){}return f})}function MA(l){return ge(this,arguments,function*({request:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:s,handlerOverride:a,scopedContext:o}){let u,f,h=Us(e.method),p=h?"action":"loader",x=y=>{let b,w=new Promise((S,C)=>b=C);f=()=>b(),e.signal.addEventListener("abort",f);let _=S=>typeof y!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${t.route.id}]`)):y({request:e,params:t.params,context:o},...S!==void 0?[S]:[]),j=ge(null,null,function*(){try{return{type:"data",result:yield a?a(C=>_(C)):_()}}catch(S){return{type:"error",result:S}}});return Promise.race([j,w])};try{let y=h?t.route.action:t.route.loader;if(n||s)if(y){let b,[w]=yield Promise.all([x(y).catch(_=>{b=_}),n,s]);if(b!==void 0)throw b;u=w}else{yield n;let b=h?t.route.action:t.route.loader;if(b)[u]=yield Promise.all([x(b),s]);else if(p==="action"){let w=new URL(e.url),_=w.pathname+w.search;throw hr(405,{method:e.method,pathname:_,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(y)u=yield x(y);else{let b=new URL(e.url),w=b.pathname+b.search;throw hr(404,{pathname:w})}}catch(y){return{type:"error",result:y}}finally{f&&e.signal.removeEventListener("abort",f)}return u})}function PA(e){return ge(this,null,function*(){var s,a,o,l,u,f;let{result:t,type:n}=e;if(KS(t)){let h;try{let p=t.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?t.body==null?h=null:h=yield t.json():h=yield t.text()}catch(p){return{type:"error",error:p}}return n==="error"?{type:"error",error:new ph(t.status,t.statusText,h),statusCode:t.status,headers:t.headers}:{type:"data",data:h,statusCode:t.status,headers:t.headers}}return n==="error"?H_(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(s=t.init)==null?void 0:s.status,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new ph(((o=t.init)==null?void 0:o.status)||500,void 0,t.data),statusCode:Lu(t)?t.status:void 0,headers:(l=t.init)!=null&&l.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Lu(t)?t.status:void 0}:H_(t)?{type:"data",data:t.data,statusCode:(u=t.init)==null?void 0:u.status,headers:(f=t.init)!=null&&f.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}})}function LA(e,t,n,s,a){let o=e.headers.get("Location");if(Lt(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!ux(o)){let l=s.slice(0,s.findIndex(u=>u.route.id===n)+1);o=m0(new URL(t.url),l,a,o),e.headers.set("Location",o)}return e}function P_(e,t,n){if(ux(e)){let s=e,a=s.startsWith("//")?new URL(t.protocol+s):new URL(s),o=xr(a.pathname,n)!=null;if(a.origin===t.origin&&o)return a.pathname+a.search+a.hash}return e}function Ol(e,t,n,s){let a=e.createURL(GS(t)).toString(),o={signal:n};if(s&&Us(s.formMethod)){let{formMethod:l,formEncType:u}=s;o.method=l.toUpperCase(),u==="application/json"?(o.headers=new Headers({"Content-Type":u}),o.body=JSON.stringify(s.json)):u==="text/plain"?o.body=s.text:u==="application/x-www-form-urlencoded"&&s.formData?o.body=x0(s.formData):o.body=s.formData}return new Request(a,o)}function x0(e){let t=new URLSearchParams;for(let[n,s]of e.entries())t.append(n,typeof s=="string"?s:s.name);return t}function L_(e){let t=new FormData;for(let[n,s]of e.entries())t.append(n,s);return t}function zA(e,t,n,s=!1,a=!1){let o={},l=null,u,f=!1,h={},p=n&&Ks(n[1])?n[1].error:void 0;return e.forEach(x=>{if(!(x.route.id in t))return;let y=x.route.id,b=t[y];if(Lt(!yo(b),"Cannot handle redirect results in processLoaderData"),Ks(b)){let w=b.error;if(p!==void 0&&(w=p,p=void 0),l=l||{},a)l[y]=w;else{let _=ho(e,y);l[_.route.id]==null&&(l[_.route.id]=w)}s||(o[y]=$S),f||(f=!0,u=Lu(b.error)?b.error.status:500),b.headers&&(h[y]=b.headers)}else o[y]=b.data,b.statusCode&&b.statusCode!==200&&!f&&(u=b.statusCode),b.headers&&(h[y]=b.headers)}),p!==void 0&&n&&(l={[n[0]]:p},n[2]&&(o[n[2]]=void 0)),{loaderData:o,errors:l,statusCode:u||200,loaderHeaders:h}}function z_(e,t,n,s,a,o){let{loaderData:l,errors:u}=zA(t,n,s);return a.filter(f=>!f.matches||f.matches.some(h=>h.shouldLoad)).forEach(f=>{let{key:h,match:p,controller:x}=f,y=o[h];if(Lt(y,"Did not find corresponding fetcher result"),!(x&&x.signal.aborted))if(Ks(y)){let b=ho(e.matches,p==null?void 0:p.route.id);u&&u[b.route.id]||(u=xe(z({},u),{[b.route.id]:y.error})),e.fetchers.delete(h)}else if(yo(y))Lt(!1,"Unhandled fetcher revalidation redirect");else{let b=hi(y.data);e.fetchers.set(h,b)}}),{loaderData:l,errors:u}}function U_(e,t,n,s){let a=Object.entries(t).filter(([,o])=>o!==$S).reduce((o,[l,u])=>(o[l]=u,o),{});for(let o of n){let l=o.route.id;if(!t.hasOwnProperty(l)&&e.hasOwnProperty(l)&&o.route.loader&&(a[l]=e[l]),s&&s.hasOwnProperty(l))break}return a}function B_(e){return e?Ks(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function ho(e,t){return(t?e.slice(0,e.findIndex(s=>s.route.id===t)+1):[...e]).reverse().find(s=>s.route.hasErrorBoundary===!0)||e[0]}function F_(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function hr(e,{pathname:t,routeId:n,method:s,type:a,message:o}={}){let l="Unknown Server Error",u="Unknown @remix-run/router error";return e===400?(l="Bad Request",s&&t&&n?u=`You made a ${s} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:a==="invalid-body"&&(u="Unable to encode submission body")):e===403?(l="Forbidden",u=`Route "${n}" does not match URL "${t}"`):e===404?(l="Not Found",u=`No route matches URL "${t}"`):e===405&&(l="Method Not Allowed",s&&t&&n?u=`You made a ${s.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:s&&(u=`Invalid request method "${s.toUpperCase()}"`)),new ph(e||500,l,new Error(u),!0)}function bf(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[s,a]=t[n];if(yo(a))return{key:s,result:a}}}function GS(e){let t=typeof e=="string"?Ai(e):e;return Si(xe(z({},t),{hash:""}))}function UA(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function BA(e){return KS(e.result)&&_A.has(e.result.status)}function Ks(e){return e.type==="error"}function yo(e){return(e&&e.type)==="redirect"}function H_(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function KS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body!="undefined"}function FA(e){return wA.has(e.toUpperCase())}function Us(e){return bA.has(e.toUpperCase())}function dx(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Jf(e,t){let n=typeof t=="string"?Ai(t).search:t.search;if(e[e.length-1].route.index&&dx(n||""))return e[e.length-1];let s=FS(e);return s[s.length-1]}function V_(e){let{formMethod:t,formAction:n,formEncType:s,text:a,formData:o,json:l}=e;if(!(!t||!n||!s)){if(a!=null)return{formMethod:t,formAction:n,formEncType:s,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:t,formAction:n,formEncType:s,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:t,formAction:n,formEncType:s,formData:void 0,json:l,text:void 0}}}function xg(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function HA(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function ou(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function VA(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function hi(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function $A(e,t){try{let n=e.sessionStorage.getItem(VS);if(n){let s=JSON.parse(n);for(let[a,o]of Object.entries(s||{}))o&&Array.isArray(o)&&t.set(a,new Set(o||[]))}}catch(n){}}function qA(e,t){if(t.size>0){let n={};for(let[s,a]of t)n[s]=[...a];try{e.sessionStorage.setItem(VS,JSON.stringify(n))}catch(s){$n(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function YA(){let e,t,n=new Promise((s,a)=>{e=o=>ge(null,null,function*(){s(o);try{yield n}catch(l){}}),t=o=>ge(null,null,function*(){a(o);try{yield n}catch(l){}})});return{promise:n,resolve:e,reject:t}}var Ro=N.createContext(null);Ro.displayName="DataRouter";var Wu=N.createContext(null);Wu.displayName="DataRouterState";N.createContext(!1);var fx=N.createContext({isTransitioning:!1});fx.displayName="ViewTransition";var QS=N.createContext(new Map);QS.displayName="Fetchers";var IA=N.createContext(null);IA.displayName="Await";var aa=N.createContext(null);aa.displayName="Navigation";var Bh=N.createContext(null);Bh.displayName="Location";var ia=N.createContext({outlet:null,matches:[],isDataRoute:!1});ia.displayName="Route";var hx=N.createContext(null);hx.displayName="RouteError";function WA(e,{relative:t}={}){Lt(Xu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=N.useContext(aa),{hash:a,pathname:o,search:l}=Gu(e,{relative:t}),u=o;return n!=="/"&&(u=o==="/"?n:ea([n,o])),s.createHref({pathname:u,search:l,hash:a})}function Xu(){return N.useContext(Bh)!=null}function Ri(){return Lt(Xu(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Bh).location}var ZS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function JS(e){N.useContext(aa).static||N.useLayoutEffect(e)}function XA(){let{isDataRoute:e}=N.useContext(ia);return e?cR():GA()}function GA(){Lt(Xu(),"useNavigate() may be used only in the context of a <Router> component.");let e=N.useContext(Ro),{basename:t,navigator:n}=N.useContext(aa),{matches:s}=N.useContext(ia),{pathname:a}=Ri(),o=JSON.stringify(lx(s)),l=N.useRef(!1);return JS(()=>{l.current=!0}),N.useCallback((f,h={})=>{if($n(l.current,ZS),!l.current)return;if(typeof f=="number"){n.go(f);return}let p=cx(f,JSON.parse(o),a,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:ea([t,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[t,n,o,a,e])}var KA=N.createContext(null);function QA(e){let t=N.useContext(ia).outlet;return t&&N.createElement(KA.Provider,{value:e},t)}function Gu(e,{relative:t}={}){let{matches:n}=N.useContext(ia),{pathname:s}=Ri(),a=JSON.stringify(lx(n));return N.useMemo(()=>cx(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function ZA(e,t,n,s){Lt(Xu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=N.useContext(aa),{matches:o}=N.useContext(ia),l=o[o.length-1],u=l?l.params:{},f=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let S=p&&p.path||"";eN(f,!p||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let x=Ri(),y;y=x;let b=y.pathname||"/",w=b;if(h!=="/"){let S=h.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(S.length).join("/")}let _=xi(e,{pathname:w});return $n(p||_!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),$n(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),sR(_&&_.map(S=>Object.assign({},S,{params:Object.assign({},u,S.params),pathname:ea([h,a.encodeLocation?a.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?h:ea([h,a.encodeLocation?a.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),o,n,s)}function JA(){let e=lR(),t=Lu(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:o},"ErrorBoundary")," or"," ",N.createElement("code",{style:o},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),n?N.createElement("pre",{style:a},n):null,l)}var eR=N.createElement(JA,null),tR=class extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?N.createElement(ia.Provider,{value:this.props.routeContext},N.createElement(hx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nR({routeContext:e,match:t,children:n}){let s=N.useContext(Ro);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(ia.Provider,{value:e},n)}function sR(e,t=[],n=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n==null?void 0:n.errors;if(o!=null){let f=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);Lt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,u=-1;if(n)for(let f=0;f<a.length;f++){let h=a[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:p,errors:x}=n,y=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!x||x[h.route.id]===void 0);if(h.route.lazy||y){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((f,h,p)=>{let x,y=!1,b=null,w=null;n&&(x=o&&h.route.id?o[h.route.id]:void 0,b=h.route.errorElement||eR,l&&(u<0&&p===0?(eN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,w=null):u===p&&(y=!0,w=h.route.hydrateFallbackElement||null)));let _=t.concat(a.slice(0,p+1)),j=()=>{let S;return x?S=b:y?S=w:h.route.Component?S=N.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=f,N.createElement(nR,{match:h,routeContext:{outlet:f,matches:_,isDataRoute:n!=null},children:S})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?N.createElement(tR,{location:n.location,revalidation:n.revalidation,component:b,error:x,children:j(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):j()},null)}function mx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rR(e){let t=N.useContext(Ro);return Lt(t,mx(e)),t}function aR(e){let t=N.useContext(Wu);return Lt(t,mx(e)),t}function iR(e){let t=N.useContext(ia);return Lt(t,mx(e)),t}function px(e){let t=iR(e),n=t.matches[t.matches.length-1];return Lt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function oR(){return px("useRouteId")}function lR(){var s;let e=N.useContext(hx),t=aR("useRouteError"),n=px("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function cR(){let{router:e}=rR("useNavigate"),t=px("useNavigate"),n=N.useRef(!1);return JS(()=>{n.current=!0}),N.useCallback((l,...u)=>ge(null,[l,...u],function*(a,o={}){$n(n.current,ZS),n.current&&(typeof a=="number"?e.navigate(a):yield e.navigate(a,z({fromRouteId:t},o)))}),[e,t])}var $_={};function eN(e,t,n){!t&&!$_[e]&&($_[e]=!0,$n(!1,n))}var q_={};function Y_(e,t){!e&&!q_[t]&&(q_[t]=!0,console.warn(t))}function uR(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&$n(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:N.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&$n(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:N.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&$n(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:N.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var dR=["HydrateFallback","hydrateFallbackElement"],fR=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",t(n))}})}};function hR({router:e,flushSync:t}){let[n,s]=N.useState(e.state),[a,o]=N.useState(),[l,u]=N.useState({isTransitioning:!1}),[f,h]=N.useState(),[p,x]=N.useState(),[y,b]=N.useState(),w=N.useRef(new Map),_=N.useCallback((O,{deletedFetchers:D,flushSync:k,viewTransitionOpts:R})=>{O.fetchers.forEach((F,q)=>{F.data!==void 0&&w.current.set(q,F.data)}),D.forEach(F=>w.current.delete(F)),Y_(k===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let M=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(Y_(R==null||M,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!R||!M){t&&k?t(()=>s(O)):N.startTransition(()=>s(O));return}if(t&&k){t(()=>{p&&(f&&f.resolve(),p.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:R.currentLocation,nextLocation:R.nextLocation})});let F=e.window.document.startViewTransition(()=>{t(()=>s(O))});F.finished.finally(()=>{t(()=>{h(void 0),x(void 0),o(void 0),u({isTransitioning:!1})})}),t(()=>x(F));return}p?(f&&f.resolve(),p.skipTransition(),b({state:O,currentLocation:R.currentLocation,nextLocation:R.nextLocation})):(o(O),u({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}))},[e.window,t,p,f]);N.useLayoutEffect(()=>e.subscribe(_),[e,_]),N.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new fR)},[l]),N.useEffect(()=>{if(f&&a&&e.window){let O=a,D=f.promise,k=e.window.document.startViewTransition(()=>ge(null,null,function*(){N.startTransition(()=>s(O)),yield D}));k.finished.finally(()=>{h(void 0),x(void 0),o(void 0),u({isTransitioning:!1})}),x(k)}},[a,f,e.window]),N.useEffect(()=>{f&&a&&n.location.key===a.location.key&&f.resolve()},[f,p,n.location,a]),N.useEffect(()=>{!l.isTransitioning&&y&&(o(y.state),u({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),b(void 0))},[l.isTransitioning,y]);let j=N.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:O=>e.navigate(O),push:(O,D,k)=>e.navigate(O,{state:D,preventScrollReset:k==null?void 0:k.preventScrollReset}),replace:(O,D,k)=>e.navigate(O,{replace:!0,state:D,preventScrollReset:k==null?void 0:k.preventScrollReset})}),[e]),S=e.basename||"/",C=N.useMemo(()=>({router:e,navigator:j,static:!1,basename:S}),[e,j,S]);return N.createElement(N.Fragment,null,N.createElement(Ro.Provider,{value:C},N.createElement(Wu.Provider,{value:n},N.createElement(QS.Provider,{value:w.current},N.createElement(fx.Provider,{value:l},N.createElement(xR,{basename:S,location:n.location,navigationType:n.historyAction,navigator:j},N.createElement(mR,{routes:e.routes,future:e.future,state:n})))))),null)}var mR=N.memo(pR);function pR({routes:e,future:t,state:n}){return ZA(e,void 0,n,t)}function gR(e){return QA(e.context)}function xR({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:a,static:o=!1}){Lt(!Xu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:l,navigator:a,static:o,future:{}}),[l,a,o]);typeof n=="string"&&(n=Ai(n));let{pathname:f="/",search:h="",hash:p="",state:x=null,key:y="default"}=n,b=N.useMemo(()=>{let w=xr(f,l);return w==null?null:{location:{pathname:w,search:h,hash:p,state:x,key:y},navigationType:s}},[l,f,h,p,x,y,s]);return $n(b!=null,`<Router basename="${l}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:N.createElement(aa.Provider,{value:u},N.createElement(Bh.Provider,{children:t,value:b}))}var eh="get",th="application/x-www-form-urlencoded";function Fh(e){return e!=null&&typeof e.tagName=="string"}function yR(e){return Fh(e)&&e.tagName.toLowerCase()==="button"}function bR(e){return Fh(e)&&e.tagName.toLowerCase()==="form"}function vR(e){return Fh(e)&&e.tagName.toLowerCase()==="input"}function wR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function _R(e,t){return e.button===0&&(!t||t==="_self")&&!wR(e)}var vf=null;function jR(){if(vf===null)try{new FormData(document.createElement("form"),0),vf=!1}catch(e){vf=!0}return vf}var SR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yg(e){return e!=null&&!SR.has(e)?($n(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${th}"`),null):e}function NR(e,t){let n,s,a,o,l;if(bR(e)){let u=e.getAttribute("action");s=u?xr(u,t):null,n=e.getAttribute("method")||eh,a=yg(e.getAttribute("enctype"))||th,o=new FormData(e)}else if(yR(e)||vR(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||u.getAttribute("action");if(s=f?xr(f,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||eh,a=yg(e.getAttribute("formenctype"))||yg(u.getAttribute("enctype"))||th,o=new FormData(u,e),!jR()){let{name:h,type:p,value:x}=e;if(p==="image"){let y=h?`${h}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else h&&o.append(h,x)}}else{if(Fh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=eh,s=null,a=th,l=e}return o&&a==="text/plain"&&(l=o,o=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gx(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function ER(e,t,n){let s=typeof e=="string"?new URL(e,typeof window=="undefined"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&xr(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}function TR(e,t){return ge(this,null,function*(){if(e.id in t)return t[e.id];try{let n=yield import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}})}function kR(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}function CR(e,t,n){return ge(this,null,function*(){let s=yield Promise.all(e.map(a=>ge(null,null,function*(){let o=t.routes[a.route.id];if(o){let l=yield TR(o,n);return l.links?l.links():[]}return[]})));return DR(s.flat(1).filter(kR).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?xe(z({},a),{rel:"prefetch",as:"style"}):xe(z({},a),{rel:"prefetch"})))})}function I_(e,t,n,s,a,o){let l=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,u=(f,h)=>{var p;return n[h].pathname!==f.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==f.params["*"]};return o==="assets"?t.filter((f,h)=>l(f,h)||u(f,h)):o==="data"?t.filter((f,h)=>{var x;let p=s.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(l(f,h)||u(f,h))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((x=n[0])==null?void 0:x.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function OR(e,t,{includeHydrateFallback:n}={}){return AR(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function AR(e){return[...new Set(e)]}function RR(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function DR(e,t){let n=new Set;return new Set(t),e.reduce((s,a)=>{let o=JSON.stringify(RR(a));return n.has(o)||(n.add(o),s.push({key:o,link:a})),s},[])}function tN(){let e=N.useContext(Ro);return gx(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function MR(){let e=N.useContext(Wu);return gx(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var xx=N.createContext(void 0);xx.displayName="FrameworkContext";function nN(){let e=N.useContext(xx);return gx(e,"You must render this element inside a <HydratedRouter> element"),e}function PR(e,t){let n=N.useContext(xx),[s,a]=N.useState(!1),[o,l]=N.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:x}=t,y=N.useRef(null);N.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let _=S=>{S.forEach(C=>{l(C.isIntersecting)})},j=new IntersectionObserver(_,{threshold:.5});return y.current&&j.observe(y.current),()=>{j.disconnect()}}},[e]),N.useEffect(()=>{if(s){let _=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(_)}}},[s]);let b=()=>{a(!0)},w=()=>{a(!1),l(!1)};return n?e!=="intent"?[o,y,{}]:[o,y,{onFocus:lu(u,b),onBlur:lu(f,w),onMouseEnter:lu(h,b),onMouseLeave:lu(p,w),onTouchStart:lu(x,b)}]:[!1,y,{}]}function lu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function LR(n){var s=n,{page:e}=s,t=De(s,["page"]);let{router:a}=tN(),o=N.useMemo(()=>xi(a.routes,e,a.basename),[a.routes,e,a.basename]);return o?N.createElement(UR,z({page:e,matches:o},t)):null}function zR(e){let{manifest:t,routeModules:n}=nN(),[s,a]=N.useState([]);return N.useEffect(()=>{let o=!1;return CR(e,t,n).then(l=>{o||a(l)}),()=>{o=!0}},[e,t,n]),s}function UR(s){var a=s,{page:e,matches:t}=a,n=De(a,["page","matches"]);let o=Ri(),{manifest:l,routeModules:u}=nN(),{basename:f}=tN(),{loaderData:h,matches:p}=MR(),x=N.useMemo(()=>I_(e,t,p,l,o,"data"),[e,t,p,l,o]),y=N.useMemo(()=>I_(e,t,p,l,o,"assets"),[e,t,p,l,o]),b=N.useMemo(()=>{if(e===o.pathname+o.search+o.hash)return[];let j=new Set,S=!1;if(t.forEach(O=>{var k;let D=l.routes[O.route.id];!D||!D.hasLoader||(!x.some(R=>R.route.id===O.route.id)&&O.route.id in h&&((k=u[O.route.id])!=null&&k.shouldRevalidate)||D.hasClientLoader?S=!0:j.add(O.route.id))}),j.size===0)return[];let C=ER(e,f,"data");return S&&j.size>0&&C.searchParams.set("_routes",t.filter(O=>j.has(O.route.id)).map(O=>O.route.id).join(",")),[C.pathname+C.search]},[f,h,o,l,x,t,e,u]),w=N.useMemo(()=>OR(y,l),[y,l]),_=zR(y);return N.createElement(N.Fragment,null,b.map(j=>N.createElement("link",z({key:j,rel:"prefetch",as:"fetch",href:j},n))),w.map(j=>N.createElement("link",z({key:j,rel:"modulepreload",href:j},n))),_.map(({key:j,link:S})=>N.createElement("link",z({key:j},S))))}function BR(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var sN=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{sN&&(window.__reactRouterVersion="7.7.1")}catch(e){}function FR(e,t){return TA({basename:t==null?void 0:t.basename,unstable_getContext:t==null?void 0:t.unstable_getContext,future:t==null?void 0:t.future,history:IO({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||HR(),routes:e,mapRouteProperties:uR,hydrationRouteProperties:dR,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function HR(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e=xe(z({},e),{errors:VR(e.errors)})),e}function VR(e){if(!e)return null;let t=Object.entries(e),n={};for(let[s,a]of t)if(a&&a.__type==="RouteErrorResponse")n[s]=new ph(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let l=new o(a.message);l.stack="",n[s]=l}catch(l){}}if(n[s]==null){let o=new Error(a.message);o.stack="",n[s]=o}}else n[s]=a;return n}var rN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aN=N.forwardRef(function(w,b){var _=w,{onClick:t,discover:n="render",prefetch:s="none",relative:a,reloadDocument:o,replace:l,state:u,target:f,to:h,preventScrollReset:p,viewTransition:x}=_,y=De(_,["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"]);let{basename:j}=N.useContext(aa),S=typeof h=="string"&&rN.test(h),C,O=!1;if(typeof h=="string"&&S&&(C=h,sN))try{let G=new URL(window.location.href),ee=h.startsWith("//")?new URL(G.protocol+h):new URL(h),de=xr(ee.pathname,j);ee.origin===G.origin&&de!=null?h=de+ee.search+ee.hash:O=!0}catch(G){$n(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=WA(h,{relative:a}),[k,R,M]=PR(s,y),F=YR(h,{replace:l,state:u,target:f,preventScrollReset:p,relative:a,viewTransition:x});function q(G){t&&t(G),G.defaultPrevented||F(G)}let re=N.createElement("a",xe(z(z({},y),M),{href:C||D,onClick:O||o?t:q,ref:BR(b,R),target:f,"data-discover":!S&&n==="render"?"true":void 0}));return k&&!S?N.createElement(N.Fragment,null,re,N.createElement(LR,{page:D})):re});aN.displayName="Link";var iN=N.forwardRef(function(x,p){var y=x,{"aria-current":t="page",caseSensitive:n=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:u,children:f}=y,h=De(y,["aria-current","caseSensitive","className","end","style","to","viewTransition","children"]);let b=Gu(l,{relative:h.relative}),w=Ri(),_=N.useContext(Wu),{navigator:j,basename:S}=N.useContext(aa),C=_!=null&&KR(b)&&u===!0,O=j.encodeLocation?j.encodeLocation(b).pathname:b.pathname,D=w.pathname,k=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(D=D.toLowerCase(),k=k?k.toLowerCase():null,O=O.toLowerCase()),k&&S&&(k=xr(k,S)||k);const R=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let M=D===O||!a&&D.startsWith(O)&&D.charAt(R)==="/",F=k!=null&&(k===O||!a&&k.startsWith(O)&&k.charAt(O.length)==="/"),q={isActive:M,isPending:F,isTransitioning:C},re=M?t:void 0,G;typeof s=="function"?G=s(q):G=[s,M?"active":null,F?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let ee=typeof o=="function"?o(q):o;return N.createElement(aN,xe(z({},h),{"aria-current":re,className:G,ref:p,style:ee,to:l,viewTransition:u}),typeof f=="function"?f(q):f)});iN.displayName="NavLink";var $R=N.forwardRef((w,b)=>{var _=w,{discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:a,state:o,method:l=eh,action:u,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:x}=_,y=De(_,["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"]);let j=XR(),S=GR(u,{relative:h}),C=l.toLowerCase()==="get"?"get":"post",O=typeof u=="string"&&rN.test(u),D=k=>{if(f&&f(k),k.defaultPrevented)return;k.preventDefault();let R=k.nativeEvent.submitter,M=(R==null?void 0:R.getAttribute("formmethod"))||l;j(R||k.currentTarget,{fetcherKey:t,method:M,navigate:n,replace:a,state:o,relative:h,preventScrollReset:p,viewTransition:x})};return N.createElement("form",xe(z({ref:b,method:C,action:S,onSubmit:s?f:D},y),{"data-discover":!O&&e==="render"?"true":void 0}))});$R.displayName="Form";function qR(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oN(e){let t=N.useContext(Ro);return Lt(t,qR(e)),t}function YR(e,{target:t,replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l}={}){let u=XA(),f=Ri(),h=Gu(e,{relative:o});return N.useCallback(p=>{if(_R(p,t)){p.preventDefault();let x=n!==void 0?n:Si(f)===Si(h);u(e,{replace:x,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[f,u,h,n,s,t,e,a,o,l])}var IR=0,WR=()=>`__${String(++IR)}__`;function XR(){let{router:e}=oN("useSubmit"),{basename:t}=N.useContext(aa),n=oR();return N.useCallback((o,...l)=>ge(null,[o,...l],function*(s,a={}){let{action:u,method:f,encType:h,formData:p,body:x}=NR(s,t);if(a.navigate===!1){let y=a.fetcherKey||WR();yield e.fetch(y,n,a.action||u,{preventScrollReset:a.preventScrollReset,formData:p,body:x,formMethod:a.method||f,formEncType:a.encType||h,flushSync:a.flushSync})}else yield e.navigate(a.action||u,{preventScrollReset:a.preventScrollReset,formData:p,body:x,formMethod:a.method||f,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})}),[e,t,n])}function GR(e,{relative:t}={}){let{basename:n}=N.useContext(aa),s=N.useContext(ia);Lt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),o=z({},Gu(e||".",{relative:t})),l=Ri();if(e==null){o.search=l.search;let u=new URLSearchParams(o.search),f=u.getAll("index");if(f.some(p=>p==="")){u.delete("index"),f.filter(x=>x).forEach(x=>u.append("index",x));let p=u.toString();o.search=p?`?${p}`:""}}return(!e||e===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:ea([n,o.pathname])),Si(o)}function KR(e,{relative:t}={}){let n=N.useContext(fx);Lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=oN("useViewTransitionState"),a=Gu(e,{relative:t});if(!n.isTransitioning)return!1;let o=xr(n.currentLocation.pathname,s)||n.currentLocation.pathname,l=xr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return mh(a.pathname,l)!=null||mh(a.pathname,o)!=null}var Hh=aS();const QR=K0(Hh);function ZR(e){return N.createElement(hR,z({flushSync:Hh.flushSync},e))}/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eD=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),W_=e=>{const t=eD(e);return t.charAt(0).toUpperCase()+t.slice(1)},lN=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),tD=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=N.forwardRef((h,f)=>{var p=h,{color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:o,iconNode:l}=p,u=De(p,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return N.createElement("svg",z(z(xe(z({ref:f},nD),{width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:lN("lucide",a)}),!o&&!tD(u)&&{"aria-hidden":"true"}),u),[...l.map(([x,y])=>N.createElement(x,y)),...Array.isArray(o)?o:[o]])});/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=(e,t)=>{const n=N.forwardRef((l,o)=>{var u=l,{className:s}=u,a=De(u,["className"]);return N.createElement(sD,z({ref:o,iconNode:t,className:lN(`lucide-${JR(W_(e))}`,`lucide-${e}`,s)},a))});return n.displayName=W_(e),n};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],aD=vt("activity",rD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],yx=vt("arrow-left",iD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],lD=vt("bell",oD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Mr=vt("calendar",cD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],dD=vt("chart-column",uD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],hD=vt("check",fD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],cN=vt("chevron-down",mD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],gD=vt("chevron-up",pD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],yD=vt("chevrons-up-down",xD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],jo=vt("circle-alert",bD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],y0=vt("circle-check-big",vD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Vh=vt("circle-check",wD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],jD=vt("circle",_D);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Do=vt("clock",SD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],ED=vt("crown",ND);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],bx=vt("dollar-sign",TD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],CD=vt("ellipsis-vertical",kD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],uN=vt("file-text",OD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],RD=vt("flag",AD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],MD=vt("folder-open",DD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],vx=vt("funnel",PD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],zD=vt("grid-3x3",LD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],BD=vt("layout-dashboard",UD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],HD=vt("list",FD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],b0=vt("loader-circle",VD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],qD=vt("log-out",$D);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],ID=vt("menu",YD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],XD=vt("pause",WD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],KD=vt("pen",GD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],ZD=vt("piggy-bank",QD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],eM=vt("play",JD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],So=vt("plus",tM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],dN=vt("refresh-cw",nM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],$h=vt("search",sM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fN=vt("settings",rM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],iM=vt("square-check-big",aM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],zl=vt("square-pen",oM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],cM=vt("square",lM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],wx=vt("target",uM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$l=vt("trash-2",dM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ql=vt("triangle-alert",fM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],zu=vt("user",hM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],nh=vt("users",mM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],gM=vt("x",pM),xM=[{name:"Dashboard",href:"/",icon:BD},{name:"Projects",href:"/projects",icon:MD},{name:"Tasks",href:"/tasks",icon:iM},{name:"Time Tracking",href:"/time-tracking",icon:Do},{name:"Cost Analysis",href:"/cost-analysis",icon:bx},{name:"Reports",href:"/reports",icon:dD},{name:"Calendar",href:"/calendar",icon:Mr},{name:"Team",href:"/team",icon:nh},{name:"Documents",href:"/documents",icon:uN},{name:"Settings",href:"/settings",icon:fN}],X_=()=>{const e=Ri();return d.jsxs("div",{className:"flex flex-col w-64 bg-white shadow-lg border-r border-gray-200",children:[d.jsx("div",{className:"flex items-center justify-center h-16 px-4 border-b border-gray-200",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",children:d.jsx("img",{src:"https://ctuav.vn/wp-content/uploads/2024/08/Logo-moi-ctuav.png",alt:"CT UAV Logo",className:"w-8 h-8 object-contain"})}),d.jsx("span",{className:"text-xl font-bold text-gray-800",children:"CT UAV"})]})}),d.jsx("nav",{className:"flex-1 px-4 py-6 space-y-1",children:xM.map(t=>{const n=e.pathname===t.href;return d.jsxs(iN,{to:t.href,className:`
                group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-all duration-200
                ${n?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-md":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}
              `,children:[d.jsx(t.icon,{className:`
                  mr-3 h-5 w-5 transition-colors duration-200
                  ${n?"text-white":"text-gray-500 group-hover:text-gray-700"}
                `}),t.name]},t.name)})}),d.jsx("div",{className:"p-4 border-t border-gray-200",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-white font-medium text-sm",children:"U"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:"Admin"}),d.jsx("p",{className:"text-xs text-gray-500 truncate",children:"admin@ctgroupvietnam.com"})]})]})})]})};function Js(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function G_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function No(...e){return t=>{let n=!1;const s=e.map(a=>{const o=G_(a,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let a=0;a<s.length;a++){const o=s[a];typeof o=="function"?o():G_(e[a],null)}}}}function zr(...e){return N.useCallback(No(...e),e)}function yM(e,t){const n=N.createContext(t),s=o=>{const h=o,{children:l}=h,u=De(h,["children"]),f=N.useMemo(()=>u,Object.values(u));return d.jsx(n.Provider,{value:f,children:l})};s.displayName=e+"Provider";function a(o){const l=N.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[s,a]}function _x(e,t=[]){let n=[];function s(o,l){const u=N.createContext(l),f=n.length;n=[...n,l];const h=x=>{var C;const S=x,{scope:y,children:b}=S,w=De(S,["scope","children"]),_=((C=y==null?void 0:y[e])==null?void 0:C[f])||u,j=N.useMemo(()=>w,Object.values(w));return d.jsx(_.Provider,{value:j,children:b})};h.displayName=o+"Provider";function p(x,y){var _;const b=((_=y==null?void 0:y[e])==null?void 0:_[f])||u,w=N.useContext(b);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${x}\` must be used within \`${o}\``)}return[h,p]}const a=()=>{const o=n.map(l=>N.createContext(l));return function(u){const f=(u==null?void 0:u[e])||o;return N.useMemo(()=>({[`__scope${e}`]:xe(z({},u),{[e]:f})}),[u,f])}};return a.scopeName=e,[s,bM(a,...t)]}function bM(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const l=s.reduce((u,{useScope:f,scopeName:h})=>{const x=f(o)[`__scope${h}`];return z(z({},u),x)},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function qh(e){const t=wM(e),n=N.forwardRef((s,a)=>{const h=s,{children:o}=h,l=De(h,["children"]),u=N.Children.toArray(o),f=u.find(jM);if(f){const p=f.props.children,x=u.map(y=>y===f?N.Children.count(p)>1?N.Children.only(null):N.isValidElement(p)?p.props.children:null:y);return d.jsx(t,xe(z({},l),{ref:a,children:N.isValidElement(p)?N.cloneElement(p,void 0,x):null}))}return d.jsx(t,xe(z({},l),{ref:a,children:o}))});return n.displayName=`${e}.Slot`,n}var vM=qh("Slot");function wM(e){const t=N.forwardRef((n,s)=>{const l=n,{children:a}=l,o=De(l,["children"]);if(N.isValidElement(a)){const u=NM(a),f=SM(o,a.props);return a.type!==N.Fragment&&(f.ref=s?No(s,u):u),N.cloneElement(a,f)}return N.Children.count(a)>1?N.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _M=Symbol("radix.slottable");function jM(e){return N.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_M}function SM(e,t){const n=z({},t);for(const s in t){const a=e[s],o=t[s];/^on[A-Z]/.test(s)?a&&o?n[s]=(...u)=>{const f=o(...u);return a(...u),f}:a&&(n[s]=a):s==="style"?n[s]=z(z({},a),o):s==="className"&&(n[s]=[a,o].filter(Boolean).join(" "))}return z(z({},e),n)}function NM(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var EM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],jn=EM.reduce((e,t)=>{const n=qh(`Primitive.${t}`),s=N.forwardRef((a,o)=>{const h=a,{asChild:l}=h,u=De(h,["asChild"]),f=l?n:t;return typeof window!="undefined"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(f,xe(z({},u),{ref:o}))});return s.displayName=`Primitive.${t}`,xe(z({},e),{[t]:s})},{});function TM(e,t){e&&Hh.flushSync(()=>e.dispatchEvent(t))}function Yl(e){const t=N.useRef(e);return N.useEffect(()=>{t.current=e}),N.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function kM(e,t=globalThis==null?void 0:globalThis.document){const n=Yl(e);N.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var CM="DismissableLayer",v0="dismissableLayer.update",OM="dismissableLayer.pointerDownOutside",AM="dismissableLayer.focusOutside",K_,hN=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jx=N.forwardRef((e,t)=>{var F;const M=e,{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:l,onDismiss:u}=M,f=De(M,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),h=N.useContext(hN),[p,x]=N.useState(null),y=(F=p==null?void 0:p.ownerDocument)!=null?F:globalThis==null?void 0:globalThis.document,[,b]=N.useState({}),w=zr(t,q=>x(q)),_=Array.from(h.layers),[j]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),S=_.indexOf(j),C=p?_.indexOf(p):-1,O=h.layersWithOutsidePointerEventsDisabled.size>0,D=C>=S,k=MM(q=>{const re=q.target,G=[...h.branches].some(ee=>ee.contains(re));!D||G||(a==null||a(q),l==null||l(q),q.defaultPrevented||u==null||u())},y),R=PM(q=>{const re=q.target;[...h.branches].some(ee=>ee.contains(re))||(o==null||o(q),l==null||l(q),q.defaultPrevented||u==null||u())},y);return kM(q=>{C===h.layers.size-1&&(s==null||s(q),!q.defaultPrevented&&u&&(q.preventDefault(),u()))},y),N.useEffect(()=>{if(p)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(K_=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),Q_(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=K_)}},[p,y,n,h]),N.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),Q_())},[p,h]),N.useEffect(()=>{const q=()=>b({});return document.addEventListener(v0,q),()=>document.removeEventListener(v0,q)},[]),d.jsx(jn.div,xe(z({},f),{ref:w,style:z({pointerEvents:O?D?"auto":"none":void 0},e.style),onFocusCapture:Js(e.onFocusCapture,R.onFocusCapture),onBlurCapture:Js(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:Js(e.onPointerDownCapture,k.onPointerDownCapture)}))});jx.displayName=CM;var RM="DismissableLayerBranch",DM=N.forwardRef((e,t)=>{const n=N.useContext(hN),s=N.useRef(null),a=zr(t,s);return N.useEffect(()=>{const o=s.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),d.jsx(jn.div,xe(z({},e),{ref:a}))});DM.displayName=RM;function MM(e,t=globalThis==null?void 0:globalThis.document){const n=Yl(e),s=N.useRef(!1),a=N.useRef(()=>{});return N.useEffect(()=>{const o=u=>{if(u.target&&!s.current){let f=function(){mN(OM,n,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=f,t.addEventListener("click",a.current,{once:!0})):f()}else t.removeEventListener("click",a.current);s.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function PM(e,t=globalThis==null?void 0:globalThis.document){const n=Yl(e),s=N.useRef(!1);return N.useEffect(()=>{const a=o=>{o.target&&!s.current&&mN(AM,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Q_(){const e=new CustomEvent(v0);document.dispatchEvent(e)}function mN(e,t,n,{discrete:s}){const a=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?TM(a,o):a.dispatchEvent(o)}var bg=0;function pN(){N.useEffect(()=>{var t,n;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:Z_()),document.body.insertAdjacentElement("beforeend",(n=e[1])!=null?n:Z_()),bg++,()=>{bg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),bg--}},[])}function Z_(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var vg="focusScope.autoFocusOnMount",wg="focusScope.autoFocusOnUnmount",J_={bubbles:!1,cancelable:!0},LM="FocusScope",Sx=N.forwardRef((e,t)=>{const _=e,{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:o}=_,l=De(_,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),[u,f]=N.useState(null),h=Yl(a),p=Yl(o),x=N.useRef(null),y=zr(t,j=>f(j)),b=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(s){let j=function(D){if(b.paused||!u)return;const k=D.target;u.contains(k)?x.current=k:mi(x.current,{select:!0})},S=function(D){if(b.paused||!u)return;const k=D.relatedTarget;k!==null&&(u.contains(k)||mi(x.current,{select:!0}))},C=function(D){if(document.activeElement===document.body)for(const R of D)R.removedNodes.length>0&&mi(u)};document.addEventListener("focusin",j),document.addEventListener("focusout",S);const O=new MutationObserver(C);return u&&O.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",S),O.disconnect()}}},[s,u,b.paused]),N.useEffect(()=>{if(u){tj.add(b);const j=document.activeElement;if(!u.contains(j)){const C=new CustomEvent(vg,J_);u.addEventListener(vg,h),u.dispatchEvent(C),C.defaultPrevented||(zM(VM(gN(u)),{select:!0}),document.activeElement===j&&mi(u))}return()=>{u.removeEventListener(vg,h),setTimeout(()=>{const C=new CustomEvent(wg,J_);u.addEventListener(wg,p),u.dispatchEvent(C),C.defaultPrevented||mi(j!=null?j:document.body,{select:!0}),u.removeEventListener(wg,p),tj.remove(b)},0)}}},[u,h,p,b]);const w=N.useCallback(j=>{if(!n&&!s||b.paused)return;const S=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,C=document.activeElement;if(S&&C){const O=j.currentTarget,[D,k]=UM(O);D&&k?!j.shiftKey&&C===k?(j.preventDefault(),n&&mi(D,{select:!0})):j.shiftKey&&C===D&&(j.preventDefault(),n&&mi(k,{select:!0})):C===O&&j.preventDefault()}},[n,s,b.paused]);return d.jsx(jn.div,xe(z({tabIndex:-1},l),{ref:y,onKeyDown:w}))});Sx.displayName=LM;function zM(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(mi(s,{select:t}),document.activeElement!==n)return}function UM(e){const t=gN(e),n=ej(t,e),s=ej(t.reverse(),e);return[n,s]}function gN(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ej(e,t){for(const n of e)if(!BM(n,{upTo:t}))return n}function BM(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function FM(e){return e instanceof HTMLInputElement&&"select"in e}function mi(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&FM(e)&&t&&e.select()}}var tj=HM();function HM(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=nj(e,t),e.unshift(t)},remove(t){var n;e=nj(e,t),(n=e[0])==null||n.resume()}}}function nj(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function VM(e){return e.filter(t=>t.tagName!=="A")}var Ni=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},$M=rS[" useId ".trim().toString()]||(()=>{}),qM=0;function ta(e){const[t,n]=N.useState($M());return Ni(()=>{n(s=>s!=null?s:String(qM++))},[e]),e||(t?`radix-${t}`:"")}const YM=["top","right","bottom","left"],Ei=Math.min,Zs=Math.max,xh=Math.round,wf=Math.floor,na=e=>({x:e,y:e}),IM={left:"right",right:"left",bottom:"top",top:"bottom"},WM={start:"end",end:"start"};function w0(e,t,n){return Zs(e,Ei(t,n))}function La(e,t){return typeof e=="function"?e(t):e}function za(e){return e.split("-")[0]}function Ql(e){return e.split("-")[1]}function Nx(e){return e==="x"?"y":"x"}function Ex(e){return e==="y"?"height":"width"}const XM=new Set(["top","bottom"]);function Qr(e){return XM.has(za(e))?"y":"x"}function Tx(e){return Nx(Qr(e))}function GM(e,t,n){n===void 0&&(n=!1);const s=Ql(e),a=Tx(e),o=Ex(a);let l=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=yh(l)),[l,yh(l)]}function KM(e){const t=yh(e);return[_0(e),t,_0(t)]}function _0(e){return e.replace(/start|end/g,t=>WM[t])}const sj=["left","right"],rj=["right","left"],QM=["top","bottom"],ZM=["bottom","top"];function JM(e,t,n){switch(e){case"top":case"bottom":return n?t?rj:sj:t?sj:rj;case"left":case"right":return t?QM:ZM;default:return[]}}function eP(e,t,n,s){const a=Ql(e);let o=JM(za(e),n==="start",s);return a&&(o=o.map(l=>l+"-"+a),t&&(o=o.concat(o.map(_0)))),o}function yh(e){return e.replace(/left|right|bottom|top/g,t=>IM[t])}function tP(e){return z({top:0,right:0,bottom:0,left:0},e)}function xN(e){return typeof e!="number"?tP(e):{top:e,right:e,bottom:e,left:e}}function bh(e){const{x:t,y:n,width:s,height:a}=e;return{width:s,height:a,top:n,left:t,right:t+s,bottom:n+a,x:t,y:n}}function aj(e,t,n){let{reference:s,floating:a}=e;const o=Qr(t),l=Tx(t),u=Ex(l),f=za(t),h=o==="y",p=s.x+s.width/2-a.width/2,x=s.y+s.height/2-a.height/2,y=s[u]/2-a[u]/2;let b;switch(f){case"top":b={x:p,y:s.y-a.height};break;case"bottom":b={x:p,y:s.y+s.height};break;case"right":b={x:s.x+s.width,y:x};break;case"left":b={x:s.x-a.width,y:x};break;default:b={x:s.x,y:s.y}}switch(Ql(t)){case"start":b[l]-=y*(n&&h?-1:1);break;case"end":b[l]+=y*(n&&h?-1:1);break}return b}const nP=(e,t,n)=>ge(null,null,function*(){const{placement:s="bottom",strategy:a="absolute",middleware:o=[],platform:l}=n,u=o.filter(Boolean),f=yield l.isRTL==null?void 0:l.isRTL(t);let h=yield l.getElementRects({reference:e,floating:t,strategy:a}),{x:p,y:x}=aj(h,s,f),y=s,b={},w=0;for(let _=0;_<u.length;_++){const{name:j,fn:S}=u[_],{x:C,y:O,data:D,reset:k}=yield S({x:p,y:x,initialPlacement:s,placement:y,strategy:a,middlewareData:b,rects:h,platform:l,elements:{reference:e,floating:t}});p=C!=null?C:p,x=O!=null?O:x,b=xe(z({},b),{[j]:z(z({},b[j]),D)}),k&&w<=50&&(w++,typeof k=="object"&&(k.placement&&(y=k.placement),k.rects&&(h=k.rects===!0?yield l.getElementRects({reference:e,floating:t,strategy:a}):k.rects),{x:p,y:x}=aj(h,y,f)),_=-1)}return{x:p,y:x,placement:y,strategy:a,middlewareData:b}});function Uu(e,t){return ge(this,null,function*(){var n;t===void 0&&(t={});const{x:s,y:a,platform:o,rects:l,elements:u,strategy:f}=e,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:x="floating",altBoundary:y=!1,padding:b=0}=La(t,e),w=xN(b),j=u[y?x==="floating"?"reference":"floating":x],S=bh(yield o.getClippingRect({element:(n=yield o.isElement==null?void 0:o.isElement(j))==null||n?j:j.contextElement||(yield o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:h,rootBoundary:p,strategy:f})),C=x==="floating"?{x:s,y:a,width:l.floating.width,height:l.floating.height}:l.reference,O=yield o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating),D=(yield o.isElement==null?void 0:o.isElement(O))?(yield o.getScale==null?void 0:o.getScale(O))||{x:1,y:1}:{x:1,y:1},k=bh(o.convertOffsetParentRelativeRectToViewportRelativeRect?yield o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:C,offsetParent:O,strategy:f}):C);return{top:(S.top-k.top+w.top)/D.y,bottom:(k.bottom-S.bottom+w.bottom)/D.y,left:(S.left-k.left+w.left)/D.x,right:(k.right-S.right+w.right)/D.x}})}const sP=e=>({name:"arrow",options:e,fn(n){return ge(this,null,function*(){const{x:s,y:a,placement:o,rects:l,platform:u,elements:f,middlewareData:h}=n,{element:p,padding:x=0}=La(e,n)||{};if(p==null)return{};const y=xN(x),b={x:s,y:a},w=Tx(o),_=Ex(w),j=yield u.getDimensions(p),S=w==="y",C=S?"top":"left",O=S?"bottom":"right",D=S?"clientHeight":"clientWidth",k=l.reference[_]+l.reference[w]-b[w]-l.floating[_],R=b[w]-l.reference[w],M=yield u.getOffsetParent==null?void 0:u.getOffsetParent(p);let F=M?M[D]:0;(!F||!(yield u.isElement==null?void 0:u.isElement(M)))&&(F=f.floating[D]||l.floating[_]);const q=k/2-R/2,re=F/2-j[_]/2-1,G=Ei(y[C],re),ee=Ei(y[O],re),de=G,J=F-j[_]-ee,K=F/2-j[_]/2+q,B=w0(de,K,J),Y=!h.arrow&&Ql(o)!=null&&K!==B&&l.reference[_]/2-(K<de?G:ee)-j[_]/2<0,Q=Y?K<de?K-de:K-J:0;return{[w]:b[w]+Q,data:z({[w]:B,centerOffset:K-B-Q},Y&&{alignmentOffset:Q}),reset:Y}})}}),rP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,fn(n){return ge(this,null,function*(){var s,a;const{placement:o,middlewareData:l,rects:u,initialPlacement:f,platform:h,elements:p}=n,K=La(e,n),{mainAxis:x=!0,crossAxis:y=!0,fallbackPlacements:b,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:j=!0}=K,S=De(K,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if((s=l.arrow)!=null&&s.alignmentOffset)return{};const C=za(o),O=Qr(f),D=za(f)===f,k=yield h.isRTL==null?void 0:h.isRTL(p.floating),R=b||(D||!j?[yh(f)]:KM(f)),M=_!=="none";!b&&M&&R.push(...eP(f,j,_,k));const F=[f,...R],q=yield Uu(n,S),re=[];let G=((a=l.flip)==null?void 0:a.overflows)||[];if(x&&re.push(q[C]),y){const B=GM(o,u,k);re.push(q[B[0]],q[B[1]])}if(G=[...G,{placement:o,overflows:re}],!re.every(B=>B<=0)){var ee,de;const B=(((ee=l.flip)==null?void 0:ee.index)||0)+1,Y=F[B];if(Y&&(!(y==="alignment"?O!==Qr(Y):!1)||G.every(H=>Qr(H.placement)===O?H.overflows[0]>0:!0)))return{data:{index:B,overflows:G},reset:{placement:Y}};let Q=(de=G.filter(ve=>ve.overflows[0]<=0).sort((ve,H)=>ve.overflows[1]-H.overflows[1])[0])==null?void 0:de.placement;if(!Q)switch(w){case"bestFit":{var J;const ve=(J=G.filter(H=>{if(M){const ae=Qr(H.placement);return ae===O||ae==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(ae=>ae>0).reduce((ae,we)=>ae+we,0)]).sort((H,ae)=>H[1]-ae[1])[0])==null?void 0:J[0];ve&&(Q=ve);break}case"initialPlacement":Q=f;break}if(o!==Q)return{reset:{placement:Q}}}return{}})}}};function ij(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function oj(e){return YM.some(t=>e[t]>=0)}const aP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,fn(n){return ge(this,null,function*(){const{rects:s}=n,l=La(e,n),{strategy:a="referenceHidden"}=l,o=De(l,["strategy"]);switch(a){case"referenceHidden":{const u=yield Uu(n,xe(z({},o),{elementContext:"reference"})),f=ij(u,s.reference);return{data:{referenceHiddenOffsets:f,referenceHidden:oj(f)}}}case"escaped":{const u=yield Uu(n,xe(z({},o),{altBoundary:!0})),f=ij(u,s.floating);return{data:{escapedOffsets:f,escaped:oj(f)}}}default:return{}}})}}},yN=new Set(["left","top"]);function iP(e,t){return ge(this,null,function*(){const{placement:n,platform:s,elements:a}=e,o=yield s.isRTL==null?void 0:s.isRTL(a.floating),l=za(n),u=Ql(n),f=Qr(n)==="y",h=yN.has(l)?-1:1,p=o&&f?-1:1,x=La(t,e);let{mainAxis:y,crossAxis:b,alignmentAxis:w}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return u&&typeof w=="number"&&(b=u==="end"?w*-1:w),f?{x:b*p,y:y*h}:{x:y*h,y:b*p}})}const oP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,fn(n){return ge(this,null,function*(){var s,a;const{x:o,y:l,placement:u,middlewareData:f}=n,h=yield iP(n,e);return u===((s=f.offset)==null?void 0:s.placement)&&(a=f.arrow)!=null&&a.alignmentOffset?{}:{x:o+h.x,y:l+h.y,data:xe(z({},h),{placement:u})}})}}},lP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,fn(n){return ge(this,null,function*(){const{x:s,y:a,placement:o}=n,S=La(e,n),{mainAxis:l=!0,crossAxis:u=!1,limiter:f={fn:C=>{let{x:O,y:D}=C;return{x:O,y:D}}}}=S,h=De(S,["mainAxis","crossAxis","limiter"]),p={x:s,y:a},x=yield Uu(n,h),y=Qr(za(o)),b=Nx(y);let w=p[b],_=p[y];if(l){const C=b==="y"?"top":"left",O=b==="y"?"bottom":"right",D=w+x[C],k=w-x[O];w=w0(D,w,k)}if(u){const C=y==="y"?"top":"left",O=y==="y"?"bottom":"right",D=_+x[C],k=_-x[O];_=w0(D,_,k)}const j=f.fn(xe(z({},n),{[b]:w,[y]:_}));return xe(z({},j),{data:{x:j.x-s,y:j.y-a,enabled:{[b]:l,[y]:u}}})})}}},cP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:a,rects:o,middlewareData:l}=t,{offset:u=0,mainAxis:f=!0,crossAxis:h=!0}=La(e,t),p={x:n,y:s},x=Qr(a),y=Nx(x);let b=p[y],w=p[x];const _=La(u,t),j=typeof _=="number"?{mainAxis:_,crossAxis:0}:z({mainAxis:0,crossAxis:0},_);if(f){const O=y==="y"?"height":"width",D=o.reference[y]-o.floating[O]+j.mainAxis,k=o.reference[y]+o.reference[O]-j.mainAxis;b<D?b=D:b>k&&(b=k)}if(h){var S,C;const O=y==="y"?"width":"height",D=yN.has(za(a)),k=o.reference[x]-o.floating[O]+(D&&((S=l.offset)==null?void 0:S[x])||0)+(D?0:j.crossAxis),R=o.reference[x]+o.reference[O]+(D?0:((C=l.offset)==null?void 0:C[x])||0)-(D?j.crossAxis:0);w<k?w=k:w>R&&(w=R)}return{[y]:b,[x]:w}}}},uP=function(e){return e===void 0&&(e={}),{name:"size",options:e,fn(n){return ge(this,null,function*(){var s,a;const{placement:o,rects:l,platform:u,elements:f}=n,G=La(e,n),{apply:h=()=>{}}=G,p=De(G,["apply"]),x=yield Uu(n,p),y=za(o),b=Ql(o),w=Qr(o)==="y",{width:_,height:j}=l.floating;let S,C;y==="top"||y==="bottom"?(S=y,C=b===((yield u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(C=y,S=b==="end"?"top":"bottom");const O=j-x.top-x.bottom,D=_-x.left-x.right,k=Ei(j-x[S],O),R=Ei(_-x[C],D),M=!n.middlewareData.shift;let F=k,q=R;if((s=n.middlewareData.shift)!=null&&s.enabled.x&&(q=D),(a=n.middlewareData.shift)!=null&&a.enabled.y&&(F=O),M&&!b){const ee=Zs(x.left,0),de=Zs(x.right,0),J=Zs(x.top,0),K=Zs(x.bottom,0);w?q=_-2*(ee!==0||de!==0?ee+de:Zs(x.left,x.right)):F=j-2*(J!==0||K!==0?J+K:Zs(x.top,x.bottom))}yield h(xe(z({},n),{availableWidth:q,availableHeight:F}));const re=yield u.getDimensions(f.floating);return _!==re.width||j!==re.height?{reset:{rects:!0}}:{}})}}};function Yh(){return typeof window!="undefined"}function Zl(e){return bN(e)?(e.nodeName||"").toLowerCase():"#document"}function er(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function oa(e){var t;return(t=(bN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function bN(e){return Yh()?e instanceof Node||e instanceof er(e).Node:!1}function Pr(e){return Yh()?e instanceof Element||e instanceof er(e).Element:!1}function ra(e){return Yh()?e instanceof HTMLElement||e instanceof er(e).HTMLElement:!1}function lj(e){return!Yh()||typeof ShadowRoot=="undefined"?!1:e instanceof ShadowRoot||e instanceof er(e).ShadowRoot}const dP=new Set(["inline","contents"]);function Ku(e){const{overflow:t,overflowX:n,overflowY:s,display:a}=Lr(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!dP.has(a)}const fP=new Set(["table","td","th"]);function hP(e){return fP.has(Zl(e))}const mP=[":popover-open",":modal"];function Ih(e){return mP.some(t=>{try{return e.matches(t)}catch(n){return!1}})}const pP=["transform","translate","scale","rotate","perspective"],gP=["transform","translate","scale","rotate","perspective","filter"],xP=["paint","layout","strict","content"];function kx(e){const t=Cx(),n=Pr(e)?Lr(e):e;return pP.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||gP.some(s=>(n.willChange||"").includes(s))||xP.some(s=>(n.contain||"").includes(s))}function yP(e){let t=Ti(e);for(;ra(t)&&!Il(t);){if(kx(t))return t;if(Ih(t))return null;t=Ti(t)}return null}function Cx(){return typeof CSS=="undefined"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const bP=new Set(["html","body","#document"]);function Il(e){return bP.has(Zl(e))}function Lr(e){return er(e).getComputedStyle(e)}function Wh(e){return Pr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ti(e){if(Zl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||lj(e)&&e.host||oa(e);return lj(t)?t.host:t}function vN(e){const t=Ti(e);return Il(t)?e.ownerDocument?e.ownerDocument.body:e.body:ra(t)&&Ku(t)?t:vN(t)}function Bu(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=vN(e),o=a===((s=e.ownerDocument)==null?void 0:s.body),l=er(a);if(o){const u=j0(l);return t.concat(l,l.visualViewport||[],Ku(a)?a:[],u&&n?Bu(u):[])}return t.concat(a,Bu(a,[],n))}function j0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function wN(e){const t=Lr(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=ra(e),o=a?e.offsetWidth:n,l=a?e.offsetHeight:s,u=xh(n)!==o||xh(s)!==l;return u&&(n=o,s=l),{width:n,height:s,$:u}}function Ox(e){return Pr(e)?e:e.contextElement}function Ul(e){const t=Ox(e);if(!ra(t))return na(1);const n=t.getBoundingClientRect(),{width:s,height:a,$:o}=wN(t);let l=(o?xh(n.width):n.width)/s,u=(o?xh(n.height):n.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const vP=na(0);function _N(e){const t=er(e);return!Cx()||!t.visualViewport?vP:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function wP(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==er(e)?!1:t}function Eo(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),o=Ox(e);let l=na(1);t&&(s?Pr(s)&&(l=Ul(s)):l=Ul(e));const u=wP(o,n,s)?_N(o):na(0);let f=(a.left+u.x)/l.x,h=(a.top+u.y)/l.y,p=a.width/l.x,x=a.height/l.y;if(o){const y=er(o),b=s&&Pr(s)?er(s):s;let w=y,_=j0(w);for(;_&&s&&b!==w;){const j=Ul(_),S=_.getBoundingClientRect(),C=Lr(_),O=S.left+(_.clientLeft+parseFloat(C.paddingLeft))*j.x,D=S.top+(_.clientTop+parseFloat(C.paddingTop))*j.y;f*=j.x,h*=j.y,p*=j.x,x*=j.y,f+=O,h+=D,w=er(_),_=j0(w)}}return bh({width:p,height:x,x:f,y:h})}function Ax(e,t){const n=Wh(e).scrollLeft;return t?t.left+n:Eo(oa(e)).left+n}function jN(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=s.left+t.scrollLeft-(n?0:Ax(e,s)),o=s.top+t.scrollTop;return{x:a,y:o}}function _P(e){let{elements:t,rect:n,offsetParent:s,strategy:a}=e;const o=a==="fixed",l=oa(s),u=t?Ih(t.floating):!1;if(s===l||u&&o)return n;let f={scrollLeft:0,scrollTop:0},h=na(1);const p=na(0),x=ra(s);if((x||!x&&!o)&&((Zl(s)!=="body"||Ku(l))&&(f=Wh(s)),ra(s))){const b=Eo(s);h=Ul(s),p.x=b.x+s.clientLeft,p.y=b.y+s.clientTop}const y=l&&!x&&!o?jN(l,f,!0):na(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-f.scrollLeft*h.x+p.x+y.x,y:n.y*h.y-f.scrollTop*h.y+p.y+y.y}}function jP(e){return Array.from(e.getClientRects())}function SP(e){const t=oa(e),n=Wh(e),s=e.ownerDocument.body,a=Zs(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),o=Zs(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let l=-n.scrollLeft+Ax(e);const u=-n.scrollTop;return Lr(s).direction==="rtl"&&(l+=Zs(t.clientWidth,s.clientWidth)-a),{width:a,height:o,x:l,y:u}}function NP(e,t){const n=er(e),s=oa(e),a=n.visualViewport;let o=s.clientWidth,l=s.clientHeight,u=0,f=0;if(a){o=a.width,l=a.height;const h=Cx();(!h||h&&t==="fixed")&&(u=a.offsetLeft,f=a.offsetTop)}return{width:o,height:l,x:u,y:f}}const EP=new Set(["absolute","fixed"]);function TP(e,t){const n=Eo(e,!0,t==="fixed"),s=n.top+e.clientTop,a=n.left+e.clientLeft,o=ra(e)?Ul(e):na(1),l=e.clientWidth*o.x,u=e.clientHeight*o.y,f=a*o.x,h=s*o.y;return{width:l,height:u,x:f,y:h}}function cj(e,t,n){let s;if(t==="viewport")s=NP(e,n);else if(t==="document")s=SP(oa(e));else if(Pr(t))s=TP(t,n);else{const a=_N(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return bh(s)}function SN(e,t){const n=Ti(e);return n===t||!Pr(n)||Il(n)?!1:Lr(n).position==="fixed"||SN(n,t)}function kP(e,t){const n=t.get(e);if(n)return n;let s=Bu(e,[],!1).filter(u=>Pr(u)&&Zl(u)!=="body"),a=null;const o=Lr(e).position==="fixed";let l=o?Ti(e):e;for(;Pr(l)&&!Il(l);){const u=Lr(l),f=kx(l);!f&&u.position==="fixed"&&(a=null),(o?!f&&!a:!f&&u.position==="static"&&!!a&&EP.has(a.position)||Ku(l)&&!f&&SN(e,l))?s=s.filter(p=>p!==l):a=u,l=Ti(l)}return t.set(e,s),s}function CP(e){let{element:t,boundary:n,rootBoundary:s,strategy:a}=e;const l=[...n==="clippingAncestors"?Ih(t)?[]:kP(t,this._c):[].concat(n),s],u=l[0],f=l.reduce((h,p)=>{const x=cj(t,p,a);return h.top=Zs(x.top,h.top),h.right=Ei(x.right,h.right),h.bottom=Ei(x.bottom,h.bottom),h.left=Zs(x.left,h.left),h},cj(t,u,a));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function OP(e){const{width:t,height:n}=wN(e);return{width:t,height:n}}function AP(e,t,n){const s=ra(t),a=oa(t),o=n==="fixed",l=Eo(e,!0,o,t);let u={scrollLeft:0,scrollTop:0};const f=na(0);function h(){f.x=Ax(a)}if(s||!s&&!o)if((Zl(t)!=="body"||Ku(a))&&(u=Wh(t)),s){const b=Eo(t,!0,o,t);f.x=b.x+t.clientLeft,f.y=b.y+t.clientTop}else a&&h();o&&!s&&a&&h();const p=a&&!s&&!o?jN(a,u):na(0),x=l.left+u.scrollLeft-f.x-p.x,y=l.top+u.scrollTop-f.y-p.y;return{x,y,width:l.width,height:l.height}}function _g(e){return Lr(e).position==="static"}function uj(e,t){if(!ra(e)||Lr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return oa(e)===n&&(n=n.ownerDocument.body),n}function NN(e,t){const n=er(e);if(Ih(e))return n;if(!ra(e)){let a=Ti(e);for(;a&&!Il(a);){if(Pr(a)&&!_g(a))return a;a=Ti(a)}return n}let s=uj(e,t);for(;s&&hP(s)&&_g(s);)s=uj(s,t);return s&&Il(s)&&_g(s)&&!kx(s)?n:s||yP(e)||n}const RP=function(e){return ge(this,null,function*(){const t=this.getOffsetParent||NN,n=this.getDimensions,s=yield n(e.floating);return{reference:AP(e.reference,yield t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}})};function DP(e){return Lr(e).direction==="rtl"}const MP={convertOffsetParentRelativeRectToViewportRelativeRect:_P,getDocumentElement:oa,getClippingRect:CP,getOffsetParent:NN,getElementRects:RP,getClientRects:jP,getDimensions:OP,getScale:Ul,isElement:Pr,isRTL:DP};function EN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function PP(e,t){let n=null,s;const a=oa(e);function o(){var u;clearTimeout(s),(u=n)==null||u.disconnect(),n=null}function l(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),o();const h=e.getBoundingClientRect(),{left:p,top:x,width:y,height:b}=h;if(u||t(),!y||!b)return;const w=wf(x),_=wf(a.clientWidth-(p+y)),j=wf(a.clientHeight-(x+b)),S=wf(p),O={rootMargin:-w+"px "+-_+"px "+-j+"px "+-S+"px",threshold:Zs(0,Ei(1,f))||1};let D=!0;function k(R){const M=R[0].intersectionRatio;if(M!==f){if(!D)return l();M?l(!1,M):s=setTimeout(()=>{l(!1,1e-7)},1e3)}M===1&&!EN(h,e.getBoundingClientRect())&&l(),D=!1}try{n=new IntersectionObserver(k,xe(z({},O),{root:a.ownerDocument}))}catch(R){n=new IntersectionObserver(k,O)}n.observe(e)}return l(!0),o}function LP(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=s,h=Ox(e),p=a||o?[...h?Bu(h):[],...Bu(t)]:[];p.forEach(S=>{a&&S.addEventListener("scroll",n,{passive:!0}),o&&S.addEventListener("resize",n)});const x=h&&u?PP(h,n):null;let y=-1,b=null;l&&(b=new ResizeObserver(S=>{let[C]=S;C&&C.target===h&&b&&(b.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var O;(O=b)==null||O.observe(t)})),n()}),h&&!f&&b.observe(h),b.observe(t));let w,_=f?Eo(e):null;f&&j();function j(){const S=Eo(e);_&&!EN(_,S)&&n(),_=S,w=requestAnimationFrame(j)}return n(),()=>{var S;p.forEach(C=>{a&&C.removeEventListener("scroll",n),o&&C.removeEventListener("resize",n)}),x==null||x(),(S=b)==null||S.disconnect(),b=null,f&&cancelAnimationFrame(w)}}const zP=oP,UP=lP,BP=rP,FP=uP,HP=aP,dj=sP,VP=cP,$P=(e,t,n)=>{const s=new Map,a=z({platform:MP},n),o=xe(z({},a.platform),{_c:s});return nP(e,t,xe(z({},a),{platform:o}))};var qP=typeof document!="undefined",YP=function(){},sh=qP?N.useLayoutEffect:YP;function vh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!vh(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=n;s--!==0;){const o=a[s];if(!(o==="_owner"&&e.$$typeof)&&!vh(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function TN(e){return typeof window=="undefined"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function fj(e,t){const n=TN(e);return Math.round(t*n)/n}function jg(e){const t=N.useRef(e);return sh(()=>{t.current=e}),t}function IP(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:o,floating:l}={},transform:u=!0,whileElementsMounted:f,open:h}=e,[p,x]=N.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[y,b]=N.useState(s);vh(y,s)||b(s);const[w,_]=N.useState(null),[j,S]=N.useState(null),C=N.useCallback(Q=>{Q!==R.current&&(R.current=Q,_(Q))},[]),O=N.useCallback(Q=>{Q!==M.current&&(M.current=Q,S(Q))},[]),D=o||w,k=l||j,R=N.useRef(null),M=N.useRef(null),F=N.useRef(p),q=f!=null,re=jg(f),G=jg(a),ee=jg(h),de=N.useCallback(()=>{if(!R.current||!M.current)return;const Q={placement:t,strategy:n,middleware:y};G.current&&(Q.platform=G.current),$P(R.current,M.current,Q).then(ve=>{const H=xe(z({},ve),{isPositioned:ee.current!==!1});J.current&&!vh(F.current,H)&&(F.current=H,Hh.flushSync(()=>{x(H)}))})},[y,t,n,G,ee]);sh(()=>{h===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,x(Q=>xe(z({},Q),{isPositioned:!1})))},[h]);const J=N.useRef(!1);sh(()=>(J.current=!0,()=>{J.current=!1}),[]),sh(()=>{if(D&&(R.current=D),k&&(M.current=k),D&&k){if(re.current)return re.current(D,k,de);de()}},[D,k,de,re,q]);const K=N.useMemo(()=>({reference:R,floating:M,setReference:C,setFloating:O}),[C,O]),B=N.useMemo(()=>({reference:D,floating:k}),[D,k]),Y=N.useMemo(()=>{const Q={position:n,left:0,top:0};if(!B.floating)return Q;const ve=fj(B.floating,p.x),H=fj(B.floating,p.y);return u?z(xe(z({},Q),{transform:"translate("+ve+"px, "+H+"px)"}),TN(B.floating)>=1.5&&{willChange:"transform"}):{position:n,left:ve,top:H}},[n,u,B.floating,p.x,p.y]);return N.useMemo(()=>xe(z({},p),{update:de,refs:K,elements:B,floatingStyles:Y}),[p,de,K,B,Y])}const WP=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:a}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?dj({element:s.current,padding:a}).fn(n):{}:s?dj({element:s,padding:a}).fn(n):{}}}},XP=(e,t)=>xe(z({},zP(e)),{options:[e,t]}),GP=(e,t)=>xe(z({},UP(e)),{options:[e,t]}),KP=(e,t)=>xe(z({},VP(e)),{options:[e,t]}),QP=(e,t)=>xe(z({},BP(e)),{options:[e,t]}),ZP=(e,t)=>xe(z({},FP(e)),{options:[e,t]}),JP=(e,t)=>xe(z({},HP(e)),{options:[e,t]}),e3=(e,t)=>xe(z({},WP(e)),{options:[e,t]});var t3="Arrow",kN=N.forwardRef((e,t)=>{const l=e,{children:n,width:s=10,height:a=5}=l,o=De(l,["children","width","height"]);return d.jsx(jn.svg,xe(z({},o),{ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})}))});kN.displayName=t3;var n3=kN;function s3(e){const[t,n]=N.useState(void 0);return Ni(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let l,u;if("borderBoxSize"in o){const f=o.borderBoxSize,h=Array.isArray(f)?f[0]:f;l=h.inlineSize,u=h.blockSize}else l=e.offsetWidth,u=e.offsetHeight;n({width:l,height:u})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var Rx="Popper",[CN,ON]=_x(Rx),[r3,AN]=CN(Rx),RN=e=>{const{__scopePopper:t,children:n}=e,[s,a]=N.useState(null);return d.jsx(r3,{scope:t,anchor:s,onAnchorChange:a,children:n})};RN.displayName=Rx;var DN="PopperAnchor",MN=N.forwardRef((e,t)=>{const f=e,{__scopePopper:n,virtualRef:s}=f,a=De(f,["__scopePopper","virtualRef"]),o=AN(DN,n),l=N.useRef(null),u=zr(t,l);return N.useEffect(()=>{o.onAnchorChange((s==null?void 0:s.current)||l.current)}),s?null:d.jsx(jn.div,xe(z({},a),{ref:u}))});MN.displayName=DN;var Dx="PopperContent",[a3,i3]=CN(Dx),PN=N.forwardRef((e,t)=>{var ze,tt,Ve,Et,ct,yt,Me,mt;const Ce=e,{__scopePopper:n,side:s="bottom",sideOffset:a=0,align:o="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:x="partial",hideWhenDetached:y=!1,updatePositionStrategy:b="optimized",onPlaced:w}=Ce,_=De(Ce,["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"]),j=AN(Dx,n),[S,C]=N.useState(null),O=zr(t,Yt=>C(Yt)),[D,k]=N.useState(null),R=s3(D),M=(ze=R==null?void 0:R.width)!=null?ze:0,F=(tt=R==null?void 0:R.height)!=null?tt:0,q=s+(o!=="center"?"-"+o:""),re=typeof p=="number"?p:z({top:0,right:0,bottom:0,left:0},p),G=Array.isArray(h)?h:[h],ee=G.length>0,de={padding:re,boundary:G.filter(l3),altBoundary:ee},{refs:J,floatingStyles:K,placement:B,isPositioned:Y,middlewareData:Q}=IP({strategy:"fixed",placement:q,whileElementsMounted:(...Yt)=>LP(...Yt,{animationFrame:b==="always"}),elements:{reference:j.anchor},middleware:[XP({mainAxis:a+F,alignmentAxis:l}),f&&GP(z({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?KP():void 0},de)),f&&QP(z({},de)),ZP(xe(z({},de),{apply:({elements:Yt,rects:kt,availableWidth:It,availableHeight:Xt})=>{const{width:$,height:oe}=kt.reference,V=Yt.floating.style;V.setProperty("--radix-popper-available-width",`${It}px`),V.setProperty("--radix-popper-available-height",`${Xt}px`),V.setProperty("--radix-popper-anchor-width",`${$}px`),V.setProperty("--radix-popper-anchor-height",`${oe}px`)}})),D&&e3({element:D,padding:u}),c3({arrowWidth:M,arrowHeight:F}),y&&JP(z({strategy:"referenceHidden"},de))]}),[ve,H]=UN(B),ae=Yl(w);Ni(()=>{Y&&(ae==null||ae())},[Y,ae]);const we=(Ve=Q.arrow)==null?void 0:Ve.x,W=(Et=Q.arrow)==null?void 0:Et.y,me=((ct=Q.arrow)==null?void 0:ct.centerOffset)!==0,[ke,ye]=N.useState();return Ni(()=>{S&&ye(window.getComputedStyle(S).zIndex)},[S]),d.jsx("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:z(xe(z({},K),{transform:Y?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ke,"--radix-popper-transform-origin":[(yt=Q.transformOrigin)==null?void 0:yt.x,(Me=Q.transformOrigin)==null?void 0:Me.y].join(" ")}),((mt=Q.hide)==null?void 0:mt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:d.jsx(a3,{scope:n,placedSide:ve,onArrowChange:k,arrowX:we,arrowY:W,shouldHideArrow:me,children:d.jsx(jn.div,xe(z({"data-side":ve,"data-align":H},_),{ref:O,style:xe(z({},_.style),{animation:Y?void 0:"none"})}))})})});PN.displayName=Dx;var LN="PopperArrow",o3={top:"bottom",right:"left",bottom:"top",left:"right"},zN=N.forwardRef(function(t,n){const u=t,{__scopePopper:s}=u,a=De(u,["__scopePopper"]),o=i3(LN,s),l=o3[o.placedSide];return d.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:d.jsx(n3,xe(z({},a),{ref:n,style:xe(z({},a.style),{display:"block"})}))})});zN.displayName=LN;function l3(e){return e!==null}var c3=e=>({name:"transformOrigin",options:e,fn(t){var j,S,C,O,D;const{placement:n,rects:s,middlewareData:a}=t,l=((j=a.arrow)==null?void 0:j.centerOffset)!==0,u=l?0:e.arrowWidth,f=l?0:e.arrowHeight,[h,p]=UN(n),x={start:"0%",center:"50%",end:"100%"}[p],y=((C=(S=a.arrow)==null?void 0:S.x)!=null?C:0)+u/2,b=((D=(O=a.arrow)==null?void 0:O.y)!=null?D:0)+f/2;let w="",_="";return h==="bottom"?(w=l?x:`${y}px`,_=`${-f}px`):h==="top"?(w=l?x:`${y}px`,_=`${s.floating.height+f}px`):h==="right"?(w=`${-f}px`,_=l?x:`${b}px`):h==="left"&&(w=`${s.floating.width+f}px`,_=l?x:`${b}px`),{data:{x:w,y:_}}}});function UN(e){const[t,n="center"]=e.split("-");return[t,n]}var u3=RN,BN=MN,d3=PN,f3=zN,h3="Portal",Mx=N.forwardRef((e,t)=>{var f;const u=e,{container:n}=u,s=De(u,["container"]),[a,o]=N.useState(!1);Ni(()=>o(!0),[]);const l=n||a&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return l?QR.createPortal(d.jsx(jn.div,xe(z({},s),{ref:t})),l):null});Mx.displayName=h3;function m3(e,t){return N.useReducer((n,s)=>{const a=t[n][s];return a!=null?a:n},e)}var Jl=e=>{const{present:t,children:n}=e,s=p3(t),a=typeof n=="function"?n({present:s.isPresent}):N.Children.only(n),o=zr(s.ref,g3(a));return typeof n=="function"||s.isPresent?N.cloneElement(a,{ref:o}):null};Jl.displayName="Presence";function p3(e){const[t,n]=N.useState(),s=N.useRef(null),a=N.useRef(e),o=N.useRef("none"),l=e?"mounted":"unmounted",[u,f]=m3(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const h=_f(s.current);o.current=u==="mounted"?h:"none"},[u]),Ni(()=>{const h=s.current,p=a.current;if(p!==e){const y=o.current,b=_f(h);e?f("MOUNT"):b==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(p&&y!==b?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,f]),Ni(()=>{var h;if(t){let p;const x=(h=t.ownerDocument.defaultView)!=null?h:window,y=w=>{const j=_f(s.current).includes(w.animationName);if(w.target===t&&j&&(f("ANIMATION_END"),!a.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",p=x.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},b=w=>{w.target===t&&(o.current=_f(s.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",y),t.addEventListener("animationend",y),()=>{x.clearTimeout(p),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",y),t.removeEventListener("animationend",y)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:N.useCallback(h=>{s.current=h?getComputedStyle(h):null,n(h)},[])}}function _f(e){return(e==null?void 0:e.animationName)||"none"}function g3(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var x3=rS[" useInsertionEffect ".trim().toString()]||Ni;function FN({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[a,o,l]=y3({defaultProp:t,onChange:n}),u=e!==void 0,f=u?e:a;{const p=N.useRef(e!==void 0);N.useEffect(()=>{const x=p.current;x!==u&&console.warn(`${s} is changing from ${x?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,s])}const h=N.useCallback(p=>{var x;if(u){const y=b3(p)?p(e):p;y!==e&&((x=l.current)==null||x.call(l,y))}else o(p)},[u,e,o,l]);return[f,h]}function y3({defaultProp:e,onChange:t}){const[n,s]=N.useState(e),a=N.useRef(n),o=N.useRef(t);return x3(()=>{o.current=t},[t]),N.useEffect(()=>{var l;a.current!==n&&((l=o.current)==null||l.call(o,n),a.current=n)},[n,a]),[n,s,o]}function b3(e){return typeof e=="function"}var v3=function(e){if(typeof document=="undefined")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},wl=new WeakMap,jf=new WeakMap,Sf={},Sg=0,HN=function(e){return e&&(e.host||HN(e.parentNode))},w3=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=HN(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},_3=function(e,t,n,s){var a=w3(t,Array.isArray(e)?e:[e]);Sf[n]||(Sf[n]=new WeakMap);var o=Sf[n],l=[],u=new Set,f=new Set(a),h=function(x){!x||u.has(x)||(u.add(x),h(x.parentNode))};a.forEach(h);var p=function(x){!x||f.has(x)||Array.prototype.forEach.call(x.children,function(y){if(u.has(y))p(y);else try{var b=y.getAttribute(s),w=b!==null&&b!=="false",_=(wl.get(y)||0)+1,j=(o.get(y)||0)+1;wl.set(y,_),o.set(y,j),l.push(y),_===1&&w&&jf.set(y,!0),j===1&&y.setAttribute(n,"true"),w||y.setAttribute(s,"true")}catch(S){console.error("aria-hidden: cannot operate on ",y,S)}})};return p(t),u.clear(),Sg++,function(){l.forEach(function(x){var y=wl.get(x)-1,b=o.get(x)-1;wl.set(x,y),o.set(x,b),y||(jf.has(x)||x.removeAttribute(s),jf.delete(x)),b||x.removeAttribute(n)}),Sg--,Sg||(wl=new WeakMap,wl=new WeakMap,jf=new WeakMap,Sf={})}},VN=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=v3(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),_3(s,a,n,"aria-hidden")):function(){return null}},Kr=function(){return Kr=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Kr.apply(this,arguments)};function $N(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function j3(e,t,n){if(n||arguments.length===2)for(var s=0,a=t.length,o;s<a;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return e.concat(o||Array.prototype.slice.call(t))}var rh="right-scroll-bar-position",ah="width-before-scroll-bar",S3="with-scroll-bars-hidden",N3="--removed-body-scroll-bar-size";function Ng(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function E3(e,t){var n=N.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=t,n.facade}var T3=typeof window!="undefined"?N.useLayoutEffect:N.useEffect,hj=new WeakMap;function k3(e,t){var n=E3(null,function(s){return e.forEach(function(a){return Ng(a,s)})});return T3(function(){var s=hj.get(n);if(s){var a=new Set(s),o=new Set(e),l=n.current;a.forEach(function(u){o.has(u)||Ng(u,null)}),o.forEach(function(u){a.has(u)||Ng(u,l)})}hj.set(n,e)},[e]),n}function C3(e){return e}function O3(e,t){t===void 0&&(t=C3);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var l=t(o,s);return n.push(l),function(){n=n.filter(function(u){return u!==l})}},assignSyncMedium:function(o){for(s=!0;n.length;){var l=n;n=[],l.forEach(o)}n={push:function(u){return o(u)},filter:function(){return n}}},assignMedium:function(o){s=!0;var l=[];if(n.length){var u=n;n=[],u.forEach(o),l=n}var f=function(){var p=l;l=[],p.forEach(o)},h=function(){return Promise.resolve().then(f)};h(),n={push:function(p){l.push(p),h()},filter:function(p){return l=l.filter(p),n}}}};return a}function A3(e){e===void 0&&(e={});var t=O3(null);return t.options=Kr({async:!0,ssr:!1},e),t}var qN=function(e){var t=e.sideCar,n=$N(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return N.createElement(s,Kr({},n))};qN.isSideCarExport=!0;function R3(e,t){return e.useMedium(t),qN}var YN=A3(),Eg=function(){},Xh=N.forwardRef(function(e,t){var n=N.useRef(null),s=N.useState({onScrollCapture:Eg,onWheelCapture:Eg,onTouchMoveCapture:Eg}),a=s[0],o=s[1],l=e.forwardProps,u=e.children,f=e.className,h=e.removeScrollBar,p=e.enabled,x=e.shards,y=e.sideCar,b=e.noRelative,w=e.noIsolation,_=e.inert,j=e.allowPinchZoom,S=e.as,C=S===void 0?"div":S,O=e.gapMode,D=$N(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=y,R=k3([n,t]),M=Kr(Kr({},D),a);return N.createElement(N.Fragment,null,p&&N.createElement(k,{sideCar:YN,removeScrollBar:h,shards:x,noRelative:b,noIsolation:w,inert:_,setCallbacks:o,allowPinchZoom:!!j,lockRef:n,gapMode:O}),l?N.cloneElement(N.Children.only(u),Kr(Kr({},M),{ref:R})):N.createElement(C,Kr({},M,{className:f,ref:R}),u))});Xh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Xh.classNames={fullWidth:ah,zeroRight:rh};var D3=function(){if(typeof __webpack_nonce__!="undefined")return __webpack_nonce__};function M3(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=D3();return t&&e.setAttribute("nonce",t),e}function P3(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function L3(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var z3=function(){var e=0,t=null;return{add:function(n){e==0&&(t=M3())&&(P3(t,n),L3(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},U3=function(){var e=z3();return function(t,n){N.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},IN=function(){var e=U3(),t=function(n){var s=n.styles,a=n.dynamic;return e(s,a),null};return t},B3={left:0,top:0,right:0,gap:0},Tg=function(e){return parseInt(e||"",10)||0},F3=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Tg(n),Tg(s),Tg(a)]},H3=function(e){if(e===void 0&&(e="margin"),typeof window=="undefined")return B3;var t=F3(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},V3=IN(),Bl="data-scroll-locked",$3=function(e,t,n,s){var a=e.left,o=e.top,l=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(S3,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(u,"px ").concat(s,`;
  }
  body[`).concat(Bl,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(rh,` {
    right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(ah,` {
    margin-right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(rh," .").concat(rh,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(ah," .").concat(ah,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Bl,`] {
    `).concat(N3,": ").concat(u,`px;
  }
`)},mj=function(){var e=parseInt(document.body.getAttribute(Bl)||"0",10);return isFinite(e)?e:0},q3=function(){N.useEffect(function(){return document.body.setAttribute(Bl,(mj()+1).toString()),function(){var e=mj()-1;e<=0?document.body.removeAttribute(Bl):document.body.setAttribute(Bl,e.toString())}},[])},Y3=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;q3();var o=N.useMemo(function(){return H3(a)},[a]);return N.createElement(V3,{styles:$3(o,!t,a,n?"":"!important")})},S0=!1;if(typeof window!="undefined")try{var Nf=Object.defineProperty({},"passive",{get:function(){return S0=!0,!0}});window.addEventListener("test",Nf,Nf),window.removeEventListener("test",Nf,Nf)}catch(e){S0=!1}var _l=S0?{passive:!1}:!1,I3=function(e){return e.tagName==="TEXTAREA"},WN=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!I3(e)&&n[t]==="visible")},W3=function(e){return WN(e,"overflowY")},X3=function(e){return WN(e,"overflowX")},pj=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot!="undefined"&&s instanceof ShadowRoot&&(s=s.host);var a=XN(e,s);if(a){var o=GN(e,s),l=o[1],u=o[2];if(l>u)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},G3=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},K3=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},XN=function(e,t){return e==="v"?W3(t):X3(t)},GN=function(e,t){return e==="v"?G3(t):K3(t)},Q3=function(e,t){return e==="h"&&t==="rtl"?-1:1},Z3=function(e,t,n,s,a){var o=Q3(e,window.getComputedStyle(t).direction),l=o*s,u=n.target,f=t.contains(u),h=!1,p=l>0,x=0,y=0;do{if(!u)break;var b=GN(e,u),w=b[0],_=b[1],j=b[2],S=_-j-o*w;(w||S)&&XN(e,u)&&(x+=S,y+=w);var C=u.parentNode;u=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!f&&u!==document.body||f&&(t.contains(u)||t===u));return(p&&Math.abs(x)<1||!p&&Math.abs(y)<1)&&(h=!0),h},Ef=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},gj=function(e){return[e.deltaX,e.deltaY]},xj=function(e){return e&&"current"in e?e.current:e},J3=function(e,t){return e[0]===t[0]&&e[1]===t[1]},e4=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},t4=0,jl=[];function n4(e){var t=N.useRef([]),n=N.useRef([0,0]),s=N.useRef(),a=N.useState(t4++)[0],o=N.useState(IN)[0],l=N.useRef(e);N.useEffect(function(){l.current=e},[e]),N.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var _=j3([e.lockRef.current],(e.shards||[]).map(xj),!0).filter(Boolean);return _.forEach(function(j){return j.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),_.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var u=N.useCallback(function(_,j){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!l.current.allowPinchZoom;var S=Ef(_),C=n.current,O="deltaX"in _?_.deltaX:C[0]-S[0],D="deltaY"in _?_.deltaY:C[1]-S[1],k,R=_.target,M=Math.abs(O)>Math.abs(D)?"h":"v";if("touches"in _&&M==="h"&&R.type==="range")return!1;var F=pj(M,R);if(!F)return!0;if(F?k=M:(k=M==="v"?"h":"v",F=pj(M,R)),!F)return!1;if(!s.current&&"changedTouches"in _&&(O||D)&&(s.current=k),!k)return!0;var q=s.current||k;return Z3(q,j,_,q==="h"?O:D)},[]),f=N.useCallback(function(_){var j=_;if(!(!jl.length||jl[jl.length-1]!==o)){var S="deltaY"in j?gj(j):Ef(j),C=t.current.filter(function(k){return k.name===j.type&&(k.target===j.target||j.target===k.shadowParent)&&J3(k.delta,S)})[0];if(C&&C.should){j.cancelable&&j.preventDefault();return}if(!C){var O=(l.current.shards||[]).map(xj).filter(Boolean).filter(function(k){return k.contains(j.target)}),D=O.length>0?u(j,O[0]):!l.current.noIsolation;D&&j.cancelable&&j.preventDefault()}}},[]),h=N.useCallback(function(_,j,S,C){var O={name:_,delta:j,target:S,should:C,shadowParent:s4(S)};t.current.push(O),setTimeout(function(){t.current=t.current.filter(function(D){return D!==O})},1)},[]),p=N.useCallback(function(_){n.current=Ef(_),s.current=void 0},[]),x=N.useCallback(function(_){h(_.type,gj(_),_.target,u(_,e.lockRef.current))},[]),y=N.useCallback(function(_){h(_.type,Ef(_),_.target,u(_,e.lockRef.current))},[]);N.useEffect(function(){return jl.push(o),e.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:y}),document.addEventListener("wheel",f,_l),document.addEventListener("touchmove",f,_l),document.addEventListener("touchstart",p,_l),function(){jl=jl.filter(function(_){return _!==o}),document.removeEventListener("wheel",f,_l),document.removeEventListener("touchmove",f,_l),document.removeEventListener("touchstart",p,_l)}},[]);var b=e.removeScrollBar,w=e.inert;return N.createElement(N.Fragment,null,w?N.createElement(o,{styles:e4(a)}):null,b?N.createElement(Y3,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function s4(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const r4=R3(YN,n4);var Px=N.forwardRef(function(e,t){return N.createElement(Xh,Kr({},e,{ref:t,sideCar:r4}))});Px.classNames=Xh.classNames;var Gh="Popover",[KN,cF]=_x(Gh,[ON]),Qu=ON(),[a4,Di]=KN(Gh),QN=e=>{const{__scopePopover:t,children:n,open:s,defaultOpen:a,onOpenChange:o,modal:l=!1}=e,u=Qu(t),f=N.useRef(null),[h,p]=N.useState(!1),[x,y]=FN({prop:s,defaultProp:a!=null?a:!1,onChange:o,caller:Gh});return d.jsx(u3,xe(z({},u),{children:d.jsx(a4,{scope:t,contentId:ta(),triggerRef:f,open:x,onOpenChange:y,onOpenToggle:N.useCallback(()=>y(b=>!b),[y]),hasCustomAnchor:h,onCustomAnchorAdd:N.useCallback(()=>p(!0),[]),onCustomAnchorRemove:N.useCallback(()=>p(!1),[]),modal:l,children:n})}))};QN.displayName=Gh;var ZN="PopoverAnchor",i4=N.forwardRef((e,t)=>{const f=e,{__scopePopover:n}=f,s=De(f,["__scopePopover"]),a=Di(ZN,n),o=Qu(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:u}=a;return N.useEffect(()=>(l(),()=>u()),[l,u]),d.jsx(BN,xe(z(z({},o),s),{ref:t}))});i4.displayName=ZN;var JN="PopoverTrigger",e2=N.forwardRef((e,t)=>{const f=e,{__scopePopover:n}=f,s=De(f,["__scopePopover"]),a=Di(JN,n),o=Qu(n),l=zr(t,a.triggerRef),u=d.jsx(jn.button,xe(z({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":a2(a.open)},s),{ref:l,onClick:Js(e.onClick,a.onOpenToggle)}));return a.hasCustomAnchor?u:d.jsx(BN,xe(z({asChild:!0},o),{children:u}))});e2.displayName=JN;var Lx="PopoverPortal",[o4,l4]=KN(Lx,{forceMount:void 0}),t2=e=>{const{__scopePopover:t,forceMount:n,children:s,container:a}=e,o=Di(Lx,t);return d.jsx(o4,{scope:t,forceMount:n,children:d.jsx(Jl,{present:n||o.open,children:d.jsx(Mx,{asChild:!0,container:a,children:s})})})};t2.displayName=Lx;var Wl="PopoverContent",n2=N.forwardRef((e,t)=>{const n=l4(Wl,e.__scopePopover),l=e,{forceMount:s=n.forceMount}=l,a=De(l,["forceMount"]),o=Di(Wl,e.__scopePopover);return d.jsx(Jl,{present:s||o.open,children:o.modal?d.jsx(u4,xe(z({},a),{ref:t})):d.jsx(d4,xe(z({},a),{ref:t}))})});n2.displayName=Wl;var c4=qh("PopoverContent.RemoveScroll"),u4=N.forwardRef((e,t)=>{const n=Di(Wl,e.__scopePopover),s=N.useRef(null),a=zr(t,s),o=N.useRef(!1);return N.useEffect(()=>{const l=s.current;if(l)return VN(l)},[]),d.jsx(Px,{as:c4,allowPinchZoom:!0,children:d.jsx(s2,xe(z({},e),{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Js(e.onCloseAutoFocus,l=>{var u;l.preventDefault(),o.current||(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:Js(e.onPointerDownOutside,l=>{const u=l.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0,h=u.button===2||f;o.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:Js(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})}))})}),d4=N.forwardRef((e,t)=>{const n=Di(Wl,e.__scopePopover),s=N.useRef(!1),a=N.useRef(!1);return d.jsx(s2,xe(z({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,u;(l=e.onCloseAutoFocus)==null||l.call(e,o),o.defaultPrevented||(s.current||(u=n.triggerRef.current)==null||u.focus(),o.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:o=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=o.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}}))}),s2=N.forwardRef((e,t)=>{const w=e,{__scopePopover:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:p}=w,x=De(w,["__scopePopover","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside"]),y=Di(Wl,n),b=Qu(n);return pN(),d.jsx(Sx,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:o,children:d.jsx(jx,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:p,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onDismiss:()=>y.onOpenChange(!1),children:d.jsx(d3,xe(z(z({"data-state":a2(y.open),role:"dialog",id:y.contentId},b),x),{ref:t,style:xe(z({},x.style),{"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"})}))})})}),r2="PopoverClose",f4=N.forwardRef((e,t)=>{const o=e,{__scopePopover:n}=o,s=De(o,["__scopePopover"]),a=Di(r2,n);return d.jsx(jn.button,xe(z({type:"button"},s),{ref:t,onClick:Js(e.onClick,()=>a.onOpenChange(!1))}))});f4.displayName=r2;var h4="PopoverArrow",m4=N.forwardRef((e,t)=>{const o=e,{__scopePopover:n}=o,s=De(o,["__scopePopover"]),a=Qu(n);return d.jsx(f3,xe(z(z({},a),s),{ref:t}))});m4.displayName=h4;function a2(e){return e?"open":"closed"}var p4=QN,g4=e2,x4=t2,y4=n2;function i2(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=i2(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function o2(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=i2(e))&&(s&&(s+=" "),s+=t);return s}const zx="-",b4=e=>{const t=w4(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:l=>{const u=l.split(zx);return u[0]===""&&u.length!==1&&u.shift(),l2(u,t)||v4(l)},getConflictingClassGroupIds:(l,u)=>{const f=n[l]||[];return u&&s[l]?[...f,...s[l]]:f}}},l2=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),a=s?l2(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(zx);return(l=t.validators.find(({validator:u})=>u(o)))==null?void 0:l.classGroupId},yj=/^\[(.+)\]$/,v4=e=>{if(yj.test(e)){const t=yj.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},w4=e=>{const{theme:t,classGroups:n}=e,s={nextPart:new Map,validators:[]};for(const a in n)N0(n[a],s,a,t);return s},N0=(e,t,n,s)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:bj(t,a);o.classGroupId=n;return}if(typeof a=="function"){if(_4(a)){N0(a(s),t,n,s);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([o,l])=>{N0(l,bj(t,o),n,s)})})},bj=(e,t)=>{let n=e;return t.split(zx).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},_4=e=>e.isThemeGetter,j4=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const a=(o,l)=>{n.set(o,l),t++,t>e&&(t=0,s=n,n=new Map)};return{get(o){let l=n.get(o);if(l!==void 0)return l;if((l=s.get(o))!==void 0)return a(o,l),l},set(o,l){n.has(o)?n.set(o,l):a(o,l)}}},E0="!",T0=":",S4=T0.length,N4=e=>{const{prefix:t,experimentalParseClassName:n}=e;let s=a=>{const o=[];let l=0,u=0,f=0,h;for(let w=0;w<a.length;w++){let _=a[w];if(l===0&&u===0){if(_===T0){o.push(a.slice(f,w)),f=w+S4;continue}if(_==="/"){h=w;continue}}_==="["?l++:_==="]"?l--:_==="("?u++:_===")"&&u--}const p=o.length===0?a:a.substring(f),x=E4(p),y=x!==p,b=h&&h>f?h-f:void 0;return{modifiers:o,hasImportantModifier:y,baseClassName:x,maybePostfixModifierPosition:b}};if(t){const a=t+T0,o=s;s=l=>l.startsWith(a)?o(l.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const a=s;s=o=>n({className:o,parseClassName:a})}return s},E4=e=>e.endsWith(E0)?e.substring(0,e.length-1):e.startsWith(E0)?e.substring(1):e,T4=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const a=[];let o=[];return s.forEach(l=>{l[0]==="["||t[l]?(a.push(...o.sort(),l),o=[]):o.push(l)}),a.push(...o.sort()),a}},k4=e=>z({cache:j4(e.cacheSize),parseClassName:N4(e),sortModifiers:T4(e)},b4(e)),C4=/\s+/,O4=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:o}=t,l=[],u=e.trim().split(C4);let f="";for(let h=u.length-1;h>=0;h-=1){const p=u[h],{isExternal:x,modifiers:y,hasImportantModifier:b,baseClassName:w,maybePostfixModifierPosition:_}=n(p);if(x){f=p+(f.length>0?" "+f:f);continue}let j=!!_,S=s(j?w.substring(0,_):w);if(!S){if(!j){f=p+(f.length>0?" "+f:f);continue}if(S=s(w),!S){f=p+(f.length>0?" "+f:f);continue}j=!1}const C=o(y).join(":"),O=b?C+E0:C,D=O+S;if(l.includes(D))continue;l.push(D);const k=a(S,j);for(let R=0;R<k.length;++R){const M=k[R];l.push(O+M)}f=p+(f.length>0?" "+f:f)}return f};function A4(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=c2(t))&&(s&&(s+=" "),s+=n);return s}const c2=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=c2(e[s]))&&(n&&(n+=" "),n+=t);return n};function R4(e,...t){let n,s,a,o=l;function l(f){const h=t.reduce((p,x)=>x(p),e());return n=k4(h),s=n.cache.get,a=n.cache.set,o=u,u(f)}function u(f){const h=s(f);if(h)return h;const p=O4(f,n);return a(f,p),p}return function(){return o(A4.apply(null,arguments))}}const Gn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},u2=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,d2=/^\((?:(\w[\w-]*):)?(.+)\)$/i,D4=/^\d+\/\d+$/,M4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,P4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,L4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,z4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,U4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Sl=e=>D4.test(e),Ot=e=>!!e&&!Number.isNaN(Number(e)),di=e=>!!e&&Number.isInteger(Number(e)),kg=e=>e.endsWith("%")&&Ot(e.slice(0,-1)),Ea=e=>M4.test(e),B4=()=>!0,F4=e=>P4.test(e)&&!L4.test(e),f2=()=>!1,H4=e=>z4.test(e),V4=e=>U4.test(e),$4=e=>!Xe(e)&&!Ge(e),q4=e=>ec(e,p2,f2),Xe=e=>u2.test(e),io=e=>ec(e,g2,F4),Cg=e=>ec(e,G4,Ot),vj=e=>ec(e,h2,f2),Y4=e=>ec(e,m2,V4),Tf=e=>ec(e,x2,H4),Ge=e=>d2.test(e),cu=e=>tc(e,g2),I4=e=>tc(e,K4),wj=e=>tc(e,h2),W4=e=>tc(e,p2),X4=e=>tc(e,m2),kf=e=>tc(e,x2,!0),ec=(e,t,n)=>{const s=u2.exec(e);return s?s[1]?t(s[1]):n(s[2]):!1},tc=(e,t,n=!1)=>{const s=d2.exec(e);return s?s[1]?t(s[1]):n:!1},h2=e=>e==="position"||e==="percentage",m2=e=>e==="image"||e==="url",p2=e=>e==="length"||e==="size"||e==="bg-size",g2=e=>e==="length",G4=e=>e==="number",K4=e=>e==="family-name",x2=e=>e==="shadow",Q4=()=>{const e=Gn("color"),t=Gn("font"),n=Gn("text"),s=Gn("font-weight"),a=Gn("tracking"),o=Gn("leading"),l=Gn("breakpoint"),u=Gn("container"),f=Gn("spacing"),h=Gn("radius"),p=Gn("shadow"),x=Gn("inset-shadow"),y=Gn("text-shadow"),b=Gn("drop-shadow"),w=Gn("blur"),_=Gn("perspective"),j=Gn("aspect"),S=Gn("ease"),C=Gn("animate"),O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...D(),Ge,Xe],R=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],F=()=>[Ge,Xe,f],q=()=>[Sl,"full","auto",...F()],re=()=>[di,"none","subgrid",Ge,Xe],G=()=>["auto",{span:["full",di,Ge,Xe]},di,Ge,Xe],ee=()=>[di,"auto",Ge,Xe],de=()=>["auto","min","max","fr",Ge,Xe],J=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],K=()=>["start","end","center","stretch","center-safe","end-safe"],B=()=>["auto",...F()],Y=()=>[Sl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...F()],Q=()=>[e,Ge,Xe],ve=()=>[...D(),wj,vj,{position:[Ge,Xe]}],H=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ae=()=>["auto","cover","contain",W4,q4,{size:[Ge,Xe]}],we=()=>[kg,cu,io],W=()=>["","none","full",h,Ge,Xe],me=()=>["",Ot,cu,io],ke=()=>["solid","dashed","dotted","double"],ye=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ce=()=>[Ot,kg,wj,vj],ze=()=>["","none",w,Ge,Xe],tt=()=>["none",Ot,Ge,Xe],Ve=()=>["none",Ot,Ge,Xe],Et=()=>[Ot,Ge,Xe],ct=()=>[Sl,"full",...F()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ea],breakpoint:[Ea],color:[B4],container:[Ea],"drop-shadow":[Ea],ease:["in","out","in-out"],font:[$4],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ea],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ea],shadow:[Ea],spacing:["px",Ot],text:[Ea],"text-shadow":[Ea],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Sl,Xe,Ge,j]}],container:["container"],columns:[{columns:[Ot,Xe,Ge,u]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:q()}],"inset-x":[{"inset-x":q()}],"inset-y":[{"inset-y":q()}],start:[{start:q()}],end:[{end:q()}],top:[{top:q()}],right:[{right:q()}],bottom:[{bottom:q()}],left:[{left:q()}],visibility:["visible","invisible","collapse"],z:[{z:[di,"auto",Ge,Xe]}],basis:[{basis:[Sl,"full","auto",u,...F()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ot,Sl,"auto","initial","none",Xe]}],grow:[{grow:["",Ot,Ge,Xe]}],shrink:[{shrink:["",Ot,Ge,Xe]}],order:[{order:[di,"first","last","none",Ge,Xe]}],"grid-cols":[{"grid-cols":re()}],"col-start-end":[{col:G()}],"col-start":[{"col-start":ee()}],"col-end":[{"col-end":ee()}],"grid-rows":[{"grid-rows":re()}],"row-start-end":[{row:G()}],"row-start":[{"row-start":ee()}],"row-end":[{"row-end":ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":de()}],"auto-rows":[{"auto-rows":de()}],gap:[{gap:F()}],"gap-x":[{"gap-x":F()}],"gap-y":[{"gap-y":F()}],"justify-content":[{justify:[...J(),"normal"]}],"justify-items":[{"justify-items":[...K(),"normal"]}],"justify-self":[{"justify-self":["auto",...K()]}],"align-content":[{content:["normal",...J()]}],"align-items":[{items:[...K(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...K(),{baseline:["","last"]}]}],"place-content":[{"place-content":J()}],"place-items":[{"place-items":[...K(),"baseline"]}],"place-self":[{"place-self":["auto",...K()]}],p:[{p:F()}],px:[{px:F()}],py:[{py:F()}],ps:[{ps:F()}],pe:[{pe:F()}],pt:[{pt:F()}],pr:[{pr:F()}],pb:[{pb:F()}],pl:[{pl:F()}],m:[{m:B()}],mx:[{mx:B()}],my:[{my:B()}],ms:[{ms:B()}],me:[{me:B()}],mt:[{mt:B()}],mr:[{mr:B()}],mb:[{mb:B()}],ml:[{ml:B()}],"space-x":[{"space-x":F()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":F()}],"space-y-reverse":["space-y-reverse"],size:[{size:Y()}],w:[{w:[u,"screen",...Y()]}],"min-w":[{"min-w":[u,"screen","none",...Y()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...Y()]}],h:[{h:["screen","lh",...Y()]}],"min-h":[{"min-h":["screen","lh","none",...Y()]}],"max-h":[{"max-h":["screen","lh",...Y()]}],"font-size":[{text:["base",n,cu,io]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Ge,Cg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",kg,Xe]}],"font-family":[{font:[I4,Xe,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ge,Xe]}],"line-clamp":[{"line-clamp":[Ot,"none",Ge,Cg]}],leading:[{leading:[o,...F()]}],"list-image":[{"list-image":["none",Ge,Xe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ge,Xe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Q()}],"text-color":[{text:Q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ke(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ot,"from-font","auto",Ge,io]}],"text-decoration-color":[{decoration:Q()}],"underline-offset":[{"underline-offset":[Ot,"auto",Ge,Xe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ge,Xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ge,Xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ve()}],"bg-repeat":[{bg:H()}],"bg-size":[{bg:ae()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},di,Ge,Xe],radial:["",Ge,Xe],conic:[di,Ge,Xe]},X4,Y4]}],"bg-color":[{bg:Q()}],"gradient-from-pos":[{from:we()}],"gradient-via-pos":[{via:we()}],"gradient-to-pos":[{to:we()}],"gradient-from":[{from:Q()}],"gradient-via":[{via:Q()}],"gradient-to":[{to:Q()}],rounded:[{rounded:W()}],"rounded-s":[{"rounded-s":W()}],"rounded-e":[{"rounded-e":W()}],"rounded-t":[{"rounded-t":W()}],"rounded-r":[{"rounded-r":W()}],"rounded-b":[{"rounded-b":W()}],"rounded-l":[{"rounded-l":W()}],"rounded-ss":[{"rounded-ss":W()}],"rounded-se":[{"rounded-se":W()}],"rounded-ee":[{"rounded-ee":W()}],"rounded-es":[{"rounded-es":W()}],"rounded-tl":[{"rounded-tl":W()}],"rounded-tr":[{"rounded-tr":W()}],"rounded-br":[{"rounded-br":W()}],"rounded-bl":[{"rounded-bl":W()}],"border-w":[{border:me()}],"border-w-x":[{"border-x":me()}],"border-w-y":[{"border-y":me()}],"border-w-s":[{"border-s":me()}],"border-w-e":[{"border-e":me()}],"border-w-t":[{"border-t":me()}],"border-w-r":[{"border-r":me()}],"border-w-b":[{"border-b":me()}],"border-w-l":[{"border-l":me()}],"divide-x":[{"divide-x":me()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":me()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ke(),"hidden","none"]}],"divide-style":[{divide:[...ke(),"hidden","none"]}],"border-color":[{border:Q()}],"border-color-x":[{"border-x":Q()}],"border-color-y":[{"border-y":Q()}],"border-color-s":[{"border-s":Q()}],"border-color-e":[{"border-e":Q()}],"border-color-t":[{"border-t":Q()}],"border-color-r":[{"border-r":Q()}],"border-color-b":[{"border-b":Q()}],"border-color-l":[{"border-l":Q()}],"divide-color":[{divide:Q()}],"outline-style":[{outline:[...ke(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ot,Ge,Xe]}],"outline-w":[{outline:["",Ot,cu,io]}],"outline-color":[{outline:Q()}],shadow:[{shadow:["","none",p,kf,Tf]}],"shadow-color":[{shadow:Q()}],"inset-shadow":[{"inset-shadow":["none",x,kf,Tf]}],"inset-shadow-color":[{"inset-shadow":Q()}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Q()}],"ring-offset-w":[{"ring-offset":[Ot,io]}],"ring-offset-color":[{"ring-offset":Q()}],"inset-ring-w":[{"inset-ring":me()}],"inset-ring-color":[{"inset-ring":Q()}],"text-shadow":[{"text-shadow":["none",y,kf,Tf]}],"text-shadow-color":[{"text-shadow":Q()}],opacity:[{opacity:[Ot,Ge,Xe]}],"mix-blend":[{"mix-blend":[...ye(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ye()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ot]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ce()}],"mask-image-linear-from-color":[{"mask-linear-from":Q()}],"mask-image-linear-to-color":[{"mask-linear-to":Q()}],"mask-image-t-from-pos":[{"mask-t-from":Ce()}],"mask-image-t-to-pos":[{"mask-t-to":Ce()}],"mask-image-t-from-color":[{"mask-t-from":Q()}],"mask-image-t-to-color":[{"mask-t-to":Q()}],"mask-image-r-from-pos":[{"mask-r-from":Ce()}],"mask-image-r-to-pos":[{"mask-r-to":Ce()}],"mask-image-r-from-color":[{"mask-r-from":Q()}],"mask-image-r-to-color":[{"mask-r-to":Q()}],"mask-image-b-from-pos":[{"mask-b-from":Ce()}],"mask-image-b-to-pos":[{"mask-b-to":Ce()}],"mask-image-b-from-color":[{"mask-b-from":Q()}],"mask-image-b-to-color":[{"mask-b-to":Q()}],"mask-image-l-from-pos":[{"mask-l-from":Ce()}],"mask-image-l-to-pos":[{"mask-l-to":Ce()}],"mask-image-l-from-color":[{"mask-l-from":Q()}],"mask-image-l-to-color":[{"mask-l-to":Q()}],"mask-image-x-from-pos":[{"mask-x-from":Ce()}],"mask-image-x-to-pos":[{"mask-x-to":Ce()}],"mask-image-x-from-color":[{"mask-x-from":Q()}],"mask-image-x-to-color":[{"mask-x-to":Q()}],"mask-image-y-from-pos":[{"mask-y-from":Ce()}],"mask-image-y-to-pos":[{"mask-y-to":Ce()}],"mask-image-y-from-color":[{"mask-y-from":Q()}],"mask-image-y-to-color":[{"mask-y-to":Q()}],"mask-image-radial":[{"mask-radial":[Ge,Xe]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ce()}],"mask-image-radial-from-color":[{"mask-radial-from":Q()}],"mask-image-radial-to-color":[{"mask-radial-to":Q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[Ot]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ce()}],"mask-image-conic-from-color":[{"mask-conic-from":Q()}],"mask-image-conic-to-color":[{"mask-conic-to":Q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ve()}],"mask-repeat":[{mask:H()}],"mask-size":[{mask:ae()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ge,Xe]}],filter:[{filter:["","none",Ge,Xe]}],blur:[{blur:ze()}],brightness:[{brightness:[Ot,Ge,Xe]}],contrast:[{contrast:[Ot,Ge,Xe]}],"drop-shadow":[{"drop-shadow":["","none",b,kf,Tf]}],"drop-shadow-color":[{"drop-shadow":Q()}],grayscale:[{grayscale:["",Ot,Ge,Xe]}],"hue-rotate":[{"hue-rotate":[Ot,Ge,Xe]}],invert:[{invert:["",Ot,Ge,Xe]}],saturate:[{saturate:[Ot,Ge,Xe]}],sepia:[{sepia:["",Ot,Ge,Xe]}],"backdrop-filter":[{"backdrop-filter":["","none",Ge,Xe]}],"backdrop-blur":[{"backdrop-blur":ze()}],"backdrop-brightness":[{"backdrop-brightness":[Ot,Ge,Xe]}],"backdrop-contrast":[{"backdrop-contrast":[Ot,Ge,Xe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ot,Ge,Xe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ot,Ge,Xe]}],"backdrop-invert":[{"backdrop-invert":["",Ot,Ge,Xe]}],"backdrop-opacity":[{"backdrop-opacity":[Ot,Ge,Xe]}],"backdrop-saturate":[{"backdrop-saturate":[Ot,Ge,Xe]}],"backdrop-sepia":[{"backdrop-sepia":["",Ot,Ge,Xe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":F()}],"border-spacing-x":[{"border-spacing-x":F()}],"border-spacing-y":[{"border-spacing-y":F()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ge,Xe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ot,"initial",Ge,Xe]}],ease:[{ease:["linear","initial",S,Ge,Xe]}],delay:[{delay:[Ot,Ge,Xe]}],animate:[{animate:["none",C,Ge,Xe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,Ge,Xe]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:tt()}],"rotate-x":[{"rotate-x":tt()}],"rotate-y":[{"rotate-y":tt()}],"rotate-z":[{"rotate-z":tt()}],scale:[{scale:Ve()}],"scale-x":[{"scale-x":Ve()}],"scale-y":[{"scale-y":Ve()}],"scale-z":[{"scale-z":Ve()}],"scale-3d":["scale-3d"],skew:[{skew:Et()}],"skew-x":[{"skew-x":Et()}],"skew-y":[{"skew-y":Et()}],transform:[{transform:[Ge,Xe,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ct()}],"translate-x":[{"translate-x":ct()}],"translate-y":[{"translate-y":ct()}],"translate-z":[{"translate-z":ct()}],"translate-none":["translate-none"],accent:[{accent:Q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ge,Xe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ge,Xe]}],fill:[{fill:["none",...Q()]}],"stroke-w":[{stroke:[Ot,cu,io,Cg]}],stroke:[{stroke:["none",...Q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Z4=R4(Q4);function yn(...e){return Z4(o2(e))}function Ux(t){var e=De(t,[]);return d.jsx(p4,z({"data-slot":"popover"},e))}function Bx(t){var e=De(t,[]);return d.jsx(g4,z({"data-slot":"popover-trigger"},e))}function Fx(a){var o=a,{className:e,align:t="center",sideOffset:n=4}=o,s=De(o,["className","align","sideOffset"]);return d.jsx(x4,{children:d.jsx(y4,z({"data-slot":"popover-content",align:t,sideOffset:n,className:yn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e)},s))})}const Au=class Au{static useUsers(){const{data:t,isLoading:n,error:s}=_n("User",{fields:Au.USER_FIELDS,filters:[["enabled","=",1],["user_type","=","System User"]],limit:0});return{data:t||[],isLoading:n,error:s}}static useCurrentUser(){const{currentUser:t,isLoading:n}=Du();return{currentUser:t,isLoading:n}}static useCurrentUserProfile(){const{currentUser:t}=Du(),{data:n,isLoading:s,error:a}=hs("User",t||void 0,{fields:Au.USER_FIELDS});return{currentUserProfile:n,isLoading:s,error:a}}};ot(Au,"USER_FIELDS",["name","email","full_name","first_name","last_name","user_image","enabled","user_type","role_profile_name"]);let wh=Au;const J4=wh.useCurrentUser,eL=wh.useCurrentUserProfile,tL=({onMenuClick:e})=>{const{currentUser:t,isLoading:n}=J4(),{currentUserProfile:s}=eL(),{logout:a}=Du(),o=()=>ge(null,null,function*(){try{yield a(),window.location.href="http://localhost:8007/login"}catch(p){console.error("Logout failed:",p)}}),l=()=>s?s.full_name||s.first_name||s.email||"User":!t||typeof t=="string"?t||"Guest":t.full_name||t.first_name||t.email||"User",u=()=>t?l().split(" ").map(x=>x[0]).join("").toUpperCase().slice(0,2):"G",f=()=>s!=null&&s.user_image?s.user_image:null,h=()=>s?s.email:t&&typeof t!="string"?t.email:t||"No email";return d.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:d.jsxs("div",{className:"flex items-center justify-between h-16 px-6",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200 lg:hidden",children:d.jsx(ID,{className:"h-5 w-5 text-gray-600"})}),d.jsxs("div",{className:"relative hidden md:block",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx($h,{className:"h-4 w-4 text-gray-400"})}),d.jsx("input",{type:"text",className:"block w-80 pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-gray-50 placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Search projects, tasks, or team members..."})]})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("button",{className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[d.jsx(lD,{className:"h-5 w-5 text-gray-600"}),d.jsx("span",{className:"absolute top-1 right-1 h-2 w-2 bg-red-500 rounded-full"})]}),d.jsx("div",{className:"relative",children:d.jsxs(Ux,{children:[d.jsx(Bx,{asChild:!0,children:d.jsxs("button",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[d.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:f()?d.jsx("img",{src:f(),alt:"User avatar",className:"w-8 h-8 rounded-full object-cover"}):d.jsx("span",{className:"text-xs font-medium text-white",children:u()})}),d.jsx("span",{className:"hidden md:block text-sm font-medium text-gray-700",children:n?"Loading...":l()}),d.jsx(cN,{className:"h-4 w-4 text-gray-500"})]})}),d.jsxs(Fx,{className:"w-64 p-0",align:"end",children:[d.jsx("div",{className:"p-4 border-b border-gray-100",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:f()?d.jsx("img",{src:f(),alt:"User avatar",className:"w-10 h-10 rounded-full object-cover"}):d.jsx("span",{className:"text-sm font-medium text-white",children:u()})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-900",children:l()}),d.jsx("p",{className:"text-sm text-gray-500",children:h()})]})]})}),d.jsxs("div",{className:"p-2",children:[d.jsxs("button",{className:"w-full flex items-center space-x-3 px-3 py-2 text-left rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[d.jsx(fN,{className:"h-4 w-4 text-gray-500"}),d.jsx("span",{className:"text-sm text-gray-700",children:"Settings"})]}),d.jsxs("button",{onClick:o,className:"w-full flex items-center space-x-3 px-3 py-2 text-left rounded-lg hover:bg-red-50 transition-colors duration-200 text-red-600",children:[d.jsx(qD,{className:"h-4 w-4"}),d.jsx("span",{className:"text-sm",children:"Sign out"})]})]})]})]})})]})]})})},nL=()=>{const[e,t]=N.useState(!1);return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx("div",{className:"hidden lg:flex lg:flex-shrink-0",children:d.jsx(X_,{})}),e&&d.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[d.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>t(!1)}),d.jsx("div",{className:"relative flex flex-col w-64 h-full bg-white shadow-xl",children:d.jsx(X_,{})})]}),d.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[d.jsx(tL,{onMenuClick:()=>t(!e)}),d.jsx("main",{className:"flex-1 overflow-y-auto",children:d.jsx("div",{className:"py-6",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsx(gR,{})})})})]})]})};function sL(){return d.jsx(VO,{siteName:"react.test",socketPort:"9007",children:d.jsx(nL,{})})}const rL=()=>{const[e,t]=N.useState("all"),[n,s]=N.useState("all"),[a,o]=N.useState("all"),{data:l,isLoading:u,error:f}=_n("Project",{fields:["name","project_name","status","department","team","estimated_costing","expected_end_date","percent_complete"]}),{data:h,isLoading:p,error:x}=_n("project_phase",{fields:["name","phase_name","project","status","expected_start_date","expected_end_date","progress","tasks"]});console.log("Phases data:",h),console.log("Phases error:",x);const{data:y,isLoading:b,error:w}=_n("Task",{fields:["name","subject","status","exp_end_date","exp_start_date","project","progress","priority","is_group"]});console.log("Tasks data:",y);const{data:_,isLoading:j}=_n("Timesheet",{fields:["name","total_hours"]}),S=(l||[]).map(M=>{var F;return xe(z({},M),{project_type:M.project_type||"",customer:M.customer||"",company:M.company||"",department:M.department||"",team:M.team||"",expected_start_date:M.expected_start_date||"",expected_end_date:M.expected_end_date||"",actual_start_date:M.actual_start_date||"",actual_end_date:M.actual_end_date||null,percent_complete:M.percent_complete||0,priority:M.priority||"Medium",estimated_costing:M.estimated_costing||0,total_billable_amount:M.total_billable_amount||0,total_billed_amount:M.total_billed_amount||0,gross_margin:M.gross_margin||0,estimated_hours:M.estimated_hours||0,total_hours:M.total_hours||0,is_active:(F=M.is_active)!=null?F:!0})}),C=(h||[]).map(M=>xe(z({},M),{phase_name:M.phase_name||"",status:M.status||"Open",expected_start_date:M.expected_start_date||"",expected_end_date:M.expected_end_date||"",actual_start_date:M.actual_start_date||"",actual_end_date:M.actual_end_date||null,progress:M.progress||0,description:M.description||"",tasks:M.tasks||[]})),O=(y||[]).map(M=>xe(z({},M),{project:M.project||"",priority:M.priority||"Medium",type:M.type||"",expected_time:M.expected_time||0,actual_time:M.actual_time||0,start_date:M.exp_start_date||"",end_date:M.exp_end_date||"",progress:M.progress||0,assigned_to:M.assigned_to||null,is_group:M.is_group||!1,parent_task_name:M.parent_task_name||null}));console.log("All tasks after processing:",O);const D=(_||[]).map(M=>({name:M.name,employee:M.employee||"",project:"",task:"",start_date:M.start_date||"",end_date:M.end_date||"",total_hours:M.total_hours||0,billable:!0,billing_hours:0,billing_rate:0,billing_amount:0})),k=u||p||b||j,R=N.useMemo(()=>{let M=S;n!=="all"&&n!==""&&(M=M.filter(G=>G.department===n)),a!=="all"&&a!==""&&(M=M.filter(G=>G.team===a)),e!=="all"&&e!==""&&(M=M.filter(G=>G.project_name===e));const F=M.map(G=>G.project_name),q=M.map(G=>G.name);console.log("Project names for filtering:",F),console.log("Project codes for filtering:",q),console.log("All tasks before filtering:",O),console.log("Tasks projects:",O.map(G=>G.project));const re=C.filter(G=>q.includes(G.project));return{filteredProjects:M,filteredPhases:re,filteredTasks:O.filter(G=>{const ee=G.project||"",de=q.includes(ee);return console.log(`Task ${G.name} project "${ee}" included:`,de),de}),filteredTimesheets:D.filter(G=>G.project?F.includes(G.project):!0)}},[S,C,O,D,e,n,a]);return{allProjects:S,allPhases:C,filteredData:R,selectedProject:e,selectedDepartment:n,selectedTeam:a,setSelectedProject:t,setSelectedDepartment:s,setSelectedTeam:o,isLoading:k}},Xl=({title:e,children:t,className:n=""})=>d.jsxs("div",{className:`bg-white rounded-xl shadow-sm p-6 mb-6 ${n}`,children:[e&&d.jsx("div",{className:"text-xl font-semibold text-gray-800 mb-4",children:e}),t]}),aL=({projects:e,selectedProject:t,selectedDepartment:n,selectedTeam:s,onProjectChange:a,onDepartmentChange:o,onTeamChange:l})=>{const[u,f]=N.useState(!0),h=Array.from(new Set(e.map(b=>b.department).filter(Boolean))),p=n==="all"||n===""?[]:Array.from(new Set(e.filter(b=>b.department===n).map(b=>b.team).filter(Boolean))),x=e.filter(b=>n==="all"||n===""?!0:b.department!==n?!1:s==="all"||s===""?!0:b.team===s),y=()=>{const b=[];return n!=="all"&&b.push(`Phng ban: ${n}`),s!=="all"&&b.push(`Team: ${s}`),t!=="all"&&b.push(`D n: ${t}`),b.length>0?b.join(" | "):"Tt c d n"};return d.jsx(Xl,{title:d.jsxs("div",{className:"flex items-center justify-between w-full cursor-pointer hover:bg-gray-50 -m-2 p-2 rounded-md transition-colors",onClick:()=>f(!u),children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(vx,{className:"w-5 h-5 mr-2 text-blue-600"}),d.jsx("span",{children:"B lc d n"}),!u&&d.jsxs("span",{className:"ml-3 text-sm text-gray-600 font-normal",children:["- ",y()]})]}),d.jsx("button",{className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors p-1 rounded-md hover:bg-blue-50",title:u?"Thu gn":"M rng",onClick:b=>{b.stopPropagation(),f(!u)},children:u?d.jsx(gD,{className:"w-5 h-5"}):d.jsx(cN,{className:"w-5 h-5"})})]}),children:u&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phng ban"}),d.jsxs("select",{value:n,onChange:b=>{o(b.target.value),l("all")},className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"all",children:"Tt c phng ban"}),h.map(b=>d.jsx("option",{value:b,children:b},b))]})]}),n!=="all"&&n!==""&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Team"}),d.jsxs("select",{value:s,onChange:b=>l(b.target.value),className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"all",children:"Tt c team"}),p.map(b=>d.jsx("option",{value:b,children:b},b))]})]}),d.jsxs("div",{className:n!=="all"&&n!==""?"md:col-span-2":"md:col-span-3",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"D n"}),d.jsxs("select",{value:t,onChange:b=>a(b.target.value),className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"all",children:"Tt c d n"}),x.map(b=>d.jsxs("option",{value:b.project_name,children:[b.project_name," (",b.department," - ",b.team,")"]},b.name))]})]})]})})},iL=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),oL=e=>({"ang thc hin":"status-dang-thuc-hien","Hon thnh":"status-hoan-thanh",Hy:"status-huy","ang xem xt":"status-dang-xem-xet","Sp n hn":"status-sap-den-han"})[e]||"",lL=e=>({Thp:"priority-thap","Trung bnh":"priority-trung-binh",Cao:"priority-cao","Khn cp":"priority-khan-cap"})[e]||"",cL=({projects:e})=>{const t=e.filter(u=>u.status==="ang thc hin"||u.status!=="Hon thnh"&&u.status!=="Hy"&&u.percent_complete<100).length,n=e.filter(u=>u.status==="Hon thnh"||u.percent_complete===100).length,s=new Date,a=e.filter(u=>new Date(u.expected_end_date)<s&&u.status!=="Hon thnh"&&u.percent_complete<100).length,o=e.reduce((u,f)=>u+(f.estimated_costing||0),0),l=[{title:"Tng d n ang hot ng",value:t,icon:aD,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200"},{title:"D n hon thnh",value:n,icon:y0,color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200"},{title:"D n qu hn",value:a,icon:Do,color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200"},{title:"Chi ph D n",value:iL(o),icon:ZD,color:"text-purple-600",bgColor:"bg-purple-50",borderColor:"border-purple-200"}];return d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:l.map((u,f)=>{const h=u.icon;return d.jsx("div",{className:`${u.bgColor} ${u.borderColor} border rounded-lg p-6 shadow-sm hover:shadow-md transition-shadow duration-200`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:u.title}),d.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u.value})]}),d.jsx("div",{className:`${u.color} ${u.bgColor} p-3 rounded-full`,children:d.jsx(h,{className:"h-6 w-6"})})]})},f)})})},uL=({projects:e})=>{const t=Se.useMemo(()=>{const f=new Date;return f.setHours(0,0,0,0),e.map((p,x)=>({id:`milestone-${x}`,name:p.project_name,project:p.project_name,endDate:new Date(p.expected_end_date),priority:p.priority,status:p.percent_complete===100?"completed":p.percent_complete>0?"in progress":"upcoming",progress:p.percent_complete})).filter(p=>{const x=new Date(p.endDate);x.setHours(0,0,0,0);const y=Math.ceil((x.getTime()-f.getTime())/(1e3*60*60*24));return p.status!=="completed"&&y>=-7&&y<=60}).sort((p,x)=>{const y=new Date;y.setHours(0,0,0,0);const b=new Date(p.endDate);b.setHours(0,0,0,0);const w=new Date(x.endDate);w.setHours(0,0,0,0);const _=Math.abs(b.getTime()-y.getTime()),j=Math.abs(w.getTime()-y.getTime()),S=_-j;if(S!==0)return S;const C={"Khn cp":0,Cao:1,"Trung bnh":2,Thp:3,High:0,Medium:2,Low:3};return(C[p.priority]||3)-(C[x.priority]||3)})},[e]),n=[{id:"1",name:"Sarah Chen",initials:"SC",role:"Frontend Dev",workload:85,taskCount:8},{id:"2",name:"Mike Johnson",initials:"MJ",role:"Backend Dev",workload:70,taskCount:6},{id:"3",name:"Emma Davis",initials:"ED",role:"Designer",workload:60,taskCount:4},{id:"4",name:"Alex Kim",initials:"AK",role:"QA Engineer",workload:45,taskCount:3}],s=f=>{switch(f){case"completed":return"bg-green-500";case"in progress":return"bg-blue-500";case"upcoming":return"bg-gray-300";default:return"bg-gray-300"}},a=f=>{switch(f){case"High":return"text-red-700 bg-red-100 border border-red-200";case"Medium":return"text-orange-700 bg-orange-100 border border-orange-200";default:return"text-gray-700 bg-gray-100 border border-gray-200"}},o=f=>f>=80?"text-red-500":f>=60?"text-orange-500":f>=40?"text-yellow-500":"text-green-500",l=f=>f.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),u=f=>{const h=new Date;h.setHours(0,0,0,0);const p=new Date(f);p.setHours(0,0,0,0);const x=Math.ceil((p.getTime()-h.getTime())/(1e3*60*60*24));return x<0?{text:`Qu hn ${Math.abs(x)} ngy`,color:"text-red-600",urgent:!0}:x===0?{text:"Hm nay",color:"text-red-600",urgent:!0}:x<=3?{text:`${x} ngy na`,color:"text-red-600",urgent:!0}:x<=7?{text:`${x} ngy na`,color:"text-orange-600",urgent:!0}:x<=14?{text:`${x} ngy na`,color:"text-yellow-600",urgent:!1}:{text:`${x} ngy na`,color:"text-gray-600",urgent:!1}};return d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[d.jsx(Xl,{title:"D n sp n hn",children:d.jsxs("div",{className:"space-y-6 h-80 overflow-y-auto",children:[t.map(f=>{const h=u(f.endDate);return d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"flex items-center space-x-3",children:d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("h4",{className:"font-medium text-gray-900",children:f.name}),d.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${a(f.priority)}`,children:f.priority})]}),d.jsx("div",{className:"mt-1",children:d.jsx("span",{className:`text-xs font-medium ${h.color}`,children:h.text})})]})}),d.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[d.jsx(Mr,{className:"h-4 w-4 mr-1"}),l(f.endDate)]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-600",children:"Progress"}),d.jsxs("span",{className:"font-medium",children:[f.progress,"%"]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full ${s(f.status)}`,style:{width:`${f.progress}%`}})})]})]},f.id)}),t.length===0&&d.jsxs("div",{className:"text-center py-8 text-gray-500",children:[d.jsx(Mr,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),d.jsx("p",{children:"Khng c d n no sp n hn"})]})]})}),d.jsx(Xl,{title:"Team Workload Distribution",children:d.jsx("div",{className:"space-y-6 h-80 overflow-y-auto",children:n.map(f=>d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center text-sm font-medium text-gray-700",children:f.initials}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-900",children:f.name}),d.jsx("p",{className:"text-sm text-gray-500",children:f.role})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:`text-lg font-bold ${o(f.workload)}`,children:[f.workload,"%"]}),d.jsxs("div",{className:"text-sm text-gray-500",children:[f.taskCount," tasks"]})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:"h-2 rounded-full bg-gray-800",style:{width:`${f.workload}%`}})})]},f.id))})})]})},dL=({projects:e,tasks:t})=>{const[n,s]=N.useState("all"),[a,o]=N.useState("month");console.log("Gantt tasks:",t),console.log("Gantt projects:",e);const l=N.useMemo(()=>(n==="all"?t:t.filter(S=>S.project===n)).map(S=>{console.log("Processing task:",S);const C=new Date(S.exp_start_date||Date.now()),O=new Date(S.exp_end_date||Date.now()),D=new Date;return{id:S.name,name:S.subject,project:S.project||"",startDate:C,endDate:O,progress:S.progress||0,status:S.status,priority:S.priority||"Medium",isOverdue:O<D&&S.status!=="Completed",isMilestone:S.is_group||S.subject.toLowerCase().includes("milestone"),dependencies:[]}}),[t,n]),u=N.useMemo(()=>{if(l.length===0)return{start:new Date,end:new Date};const j=l.flatMap(O=>[O.startDate,O.endDate]),S=new Date(Math.min(...j.map(O=>O.getTime()))),C=new Date(Math.max(...j.map(O=>O.getTime())));return S.setDate(S.getDate()-7),C.setDate(C.getDate()+7),{start:S,end:C}},[l]),f=N.useMemo(()=>{const j=[],S=new Date(u.start);for(;S<=u.end;)j.push(new Date(S)),a==="week"?S.setDate(S.getDate()+7):a==="month"?S.setMonth(S.getMonth()+1):S.setMonth(S.getMonth()+3);return j},[u,a]),h=j=>{const S=(u.end.getTime()-u.start.getTime())/864e5,C=(j.startDate.getTime()-u.start.getTime())/(1e3*60*60*24),O=(j.endDate.getTime()-j.startDate.getTime())/(1e3*60*60*24),D=C/S*100,k=O/S*100;return{left:`${Math.max(0,D)}%`,width:`${Math.max(1,k)}%`}},x=(()=>{const j=[];for(let S=0;S<l.length;S++)for(let C=S+1;C<l.length;C++){const O=l[S],D=l[C];O.project===D.project&&O.startDate<=D.endDate&&O.endDate>=D.startDate&&(j.includes(O.id)||j.push(O.id),j.includes(D.id)||j.push(D.id))}return j})(),y=l.filter(j=>j.isOverdue),b=j=>j.isOverdue?"bg-red-500":j.status==="Hon thnh"?"bg-green-500":j.status==="ang thc hin"?"bg-blue-500":"bg-gray-400",w=j=>j.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:a==="quarter"?"numeric":"2-digit"}),_=j=>{const S=e.find(C=>C.name===j);return S?S.project_name:j};return d.jsxs(Xl,{title:"Timeline / Gantt Chart",children:[d.jsxs("div",{className:"flex flex-wrap items-center justify-between mb-6 gap-4",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("select",{value:n,onChange:j=>s(j.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"all",children:"Tt c d n"}),e.map(j=>d.jsx("option",{value:j.name,children:j.project_name},j.name))]}),d.jsx("div",{className:"flex bg-gray-100 rounded-lg p-1",children:["week","month","quarter"].map(j=>d.jsx("button",{onClick:()=>o(j),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${a===j?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:j==="week"?"Tun":j==="month"?"Thng":"Qu"},j))})]}),d.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[y.length>0&&d.jsxs("div",{className:"flex items-center text-red-600",children:[d.jsx(ql,{className:"h-4 w-4 mr-1"}),y.length," tasks qu hn"]}),x.length>0&&d.jsxs("div",{className:"flex items-center text-yellow-600",children:[d.jsx(Do,{className:"h-4 w-4 mr-1"}),x.length," tasks chng cho"]})]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("div",{className:"min-w-full",children:[d.jsxs("div",{className:"flex border-b border-gray-200 bg-gray-50",children:[d.jsx("div",{className:"w-80 px-4 py-3 font-semibold text-gray-700 border-r border-gray-200",children:"Task / Milestone"}),d.jsx("div",{className:"flex-1 relative",children:d.jsx("div",{className:"flex",children:f.map((j,S)=>d.jsx("div",{className:"flex-1 px-2 py-3 text-center text-xs font-medium text-gray-600 border-r border-gray-200 min-w-20",children:w(j)},S))})})]}),d.jsx("div",{className:"divide-y divide-gray-200",children:l.map(j=>d.jsxs("div",{className:"flex hover:bg-gray-50",children:[d.jsx("div",{className:"w-80 px-4 py-3 border-r border-gray-200",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[j.isMilestone?d.jsx(y0,{className:"h-4 w-4 text-purple-500"}):j.isOverdue?d.jsx(ql,{className:"h-4 w-4 text-red-500"}):d.jsx(Mr,{className:"h-4 w-4 text-blue-500"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:j.name}),d.jsx("div",{className:"text-xs text-gray-500",children:_(j.project)})]}),d.jsxs("div",{className:"text-xs text-gray-400",children:[j.progress,"%"]})]})}),d.jsx("div",{className:"flex-1 relative py-2",children:d.jsx("div",{className:"relative h-8 mx-1",children:d.jsxs("div",{className:`absolute top-1 h-6 rounded-md ${b(j)} ${x.includes(j.id)?"ring-2 ring-yellow-400":""} shadow-sm`,style:h(j),children:[d.jsx("div",{className:"h-full bg-white bg-opacity-30 rounded-md",style:{width:`${j.progress}%`}}),d.jsx("div",{className:"absolute inset-0 flex items-center px-2",children:d.jsxs("span",{className:"text-xs text-white font-medium truncate",children:[j.progress,"%"]})})]})})})]},j.id))})]})}),d.jsxs("div",{className:"mt-6 flex flex-wrap items-center gap-6 text-sm",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),d.jsx("span",{children:"Hon thnh"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded"}),d.jsx("span",{children:"ang thc hin"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-4 h-4 bg-red-500 rounded"}),d.jsx("span",{children:"Qu hn"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-4 h-4 bg-gray-400 rounded"}),d.jsx("span",{children:"Cha bt u"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-4 h-4 border-2 border-yellow-400 rounded"}),d.jsx("span",{children:"Chng cho"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(y0,{className:"h-4 w-4 text-purple-500"}),d.jsx("span",{children:"Milestone"})]})]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Zu(e){return e+.5|0}const bi=(e,t,n)=>Math.max(Math.min(e,n),t);function ju(e){return bi(Zu(e*2.55),0,255)}function _i(e){return bi(Zu(e*255),0,255)}function Aa(e){return bi(Zu(e/2.55)/100,0,1)}function _j(e){return bi(Zu(e*100),0,100)}const fr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},k0=[..."0123456789ABCDEF"],fL=e=>k0[e&15],hL=e=>k0[(e&240)>>4]+k0[e&15],Cf=e=>(e&240)>>4===(e&15),mL=e=>Cf(e.r)&&Cf(e.g)&&Cf(e.b)&&Cf(e.a);function pL(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&fr[e[1]]*17,g:255&fr[e[2]]*17,b:255&fr[e[3]]*17,a:t===5?fr[e[4]]*17:255}:(t===7||t===9)&&(n={r:fr[e[1]]<<4|fr[e[2]],g:fr[e[3]]<<4|fr[e[4]],b:fr[e[5]]<<4|fr[e[6]],a:t===9?fr[e[7]]<<4|fr[e[8]]:255})),n}const gL=(e,t)=>e<255?t(e):"";function xL(e){var t=mL(e)?fL:hL;return e?"#"+t(e.r)+t(e.g)+t(e.b)+gL(e.a,t):void 0}const yL=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function y2(e,t,n){const s=t*Math.min(n,1-n),a=(o,l=(o+e/30)%12)=>n-s*Math.max(Math.min(l-3,9-l,1),-1);return[a(0),a(8),a(4)]}function bL(e,t,n){const s=(a,o=(a+e/60)%6)=>n-n*t*Math.max(Math.min(o,4-o,1),0);return[s(5),s(3),s(1)]}function vL(e,t,n){const s=y2(e,1,.5);let a;for(t+n>1&&(a=1/(t+n),t*=a,n*=a),a=0;a<3;a++)s[a]*=1-t-n,s[a]+=t;return s}function wL(e,t,n,s,a){return e===a?(t-n)/s+(t<n?6:0):t===a?(n-e)/s+2:(e-t)/s+4}function Hx(e){const n=e.r/255,s=e.g/255,a=e.b/255,o=Math.max(n,s,a),l=Math.min(n,s,a),u=(o+l)/2;let f,h,p;return o!==l&&(p=o-l,h=u>.5?p/(2-o-l):p/(o+l),f=wL(n,s,a,p,o),f=f*60+.5),[f|0,h||0,u]}function Vx(e,t,n,s){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,s)).map(_i)}function $x(e,t,n){return Vx(y2,e,t,n)}function _L(e,t,n){return Vx(vL,e,t,n)}function jL(e,t,n){return Vx(bL,e,t,n)}function b2(e){return(e%360+360)%360}function SL(e){const t=yL.exec(e);let n=255,s;if(!t)return;t[5]!==s&&(n=t[6]?ju(+t[5]):_i(+t[5]));const a=b2(+t[2]),o=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?s=_L(a,o,l):t[1]==="hsv"?s=jL(a,o,l):s=$x(a,o,l),{r:s[0],g:s[1],b:s[2],a:n}}function NL(e,t){var n=Hx(e);n[0]=b2(n[0]+t),n=$x(n),e.r=n[0],e.g=n[1],e.b=n[2]}function EL(e){if(!e)return;const t=Hx(e),n=t[0],s=_j(t[1]),a=_j(t[2]);return e.a<255?`hsla(${n}, ${s}%, ${a}%, ${Aa(e.a)})`:`hsl(${n}, ${s}%, ${a}%)`}const jj={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Sj={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function TL(){const e={},t=Object.keys(Sj),n=Object.keys(jj);let s,a,o,l,u;for(s=0;s<t.length;s++){for(l=u=t[s],a=0;a<n.length;a++)o=n[a],u=u.replace(o,jj[o]);o=parseInt(Sj[l],16),e[u]=[o>>16&255,o>>8&255,o&255]}return e}let Of;function kL(e){Of||(Of=TL(),Of.transparent=[0,0,0,0]);const t=Of[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const CL=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function OL(e){const t=CL.exec(e);let n=255,s,a,o;if(t){if(t[7]!==s){const l=+t[7];n=t[8]?ju(l):bi(l*255,0,255)}return s=+t[1],a=+t[3],o=+t[5],s=255&(t[2]?ju(s):bi(s,0,255)),a=255&(t[4]?ju(a):bi(a,0,255)),o=255&(t[6]?ju(o):bi(o,0,255)),{r:s,g:a,b:o,a:n}}}function AL(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Aa(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Og=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Nl=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function RL(e,t,n){const s=Nl(Aa(e.r)),a=Nl(Aa(e.g)),o=Nl(Aa(e.b));return{r:_i(Og(s+n*(Nl(Aa(t.r))-s))),g:_i(Og(a+n*(Nl(Aa(t.g))-a))),b:_i(Og(o+n*(Nl(Aa(t.b))-o))),a:e.a+n*(t.a-e.a)}}function Af(e,t,n){if(e){let s=Hx(e);s[t]=Math.max(0,Math.min(s[t]+s[t]*n,t===0?360:1)),s=$x(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function v2(e,t){return e&&Object.assign(t||{},e)}function Nj(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=_i(e[3]))):(t=v2(e,{r:0,g:0,b:0,a:1}),t.a=_i(t.a)),t}function DL(e){return e.charAt(0)==="r"?OL(e):SL(e)}class Fu{constructor(t){if(t instanceof Fu)return t;const n=typeof t;let s;n==="object"?s=Nj(t):n==="string"&&(s=pL(t)||kL(t)||DL(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=v2(this._rgb);return t&&(t.a=Aa(t.a)),t}set rgb(t){this._rgb=Nj(t)}rgbString(){return this._valid?AL(this._rgb):void 0}hexString(){return this._valid?xL(this._rgb):void 0}hslString(){return this._valid?EL(this._rgb):void 0}mix(t,n){if(t){const s=this.rgb,a=t.rgb;let o;const l=n===o?.5:n,u=2*l-1,f=s.a-a.a,h=((u*f===-1?u:(u+f)/(1+u*f))+1)/2;o=1-h,s.r=255&h*s.r+o*a.r+.5,s.g=255&h*s.g+o*a.g+.5,s.b=255&h*s.b+o*a.b+.5,s.a=l*s.a+(1-l)*a.a,this.rgb=s}return this}interpolate(t,n){return t&&(this._rgb=RL(this._rgb,t._rgb,n)),this}clone(){return new Fu(this.rgb)}alpha(t){return this._rgb.a=_i(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Zu(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Af(this._rgb,2,t),this}darken(t){return Af(this._rgb,2,-t),this}saturate(t){return Af(this._rgb,1,t),this}desaturate(t){return Af(this._rgb,1,-t),this}rotate(t){return NL(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ta(){}const ML=(()=>{let e=0;return()=>e++})();function un(e){return e==null}function Zn(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function qt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function yr(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Ir(e,t){return yr(e)?e:t}function Vt(e,t){return typeof e=="undefined"?t:e}const PL=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,w2=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function mn(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function Zt(e,t,n,s){let a,o,l;if(Zn(e))for(o=e.length,a=0;a<o;a++)t.call(n,e[a],a);else if(qt(e))for(l=Object.keys(e),o=l.length,a=0;a<o;a++)t.call(n,e[l[a]],l[a])}function _h(e,t){let n,s,a,o;if(!e||!t||e.length!==t.length)return!1;for(n=0,s=e.length;n<s;++n)if(a=e[n],o=t[n],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function jh(e){if(Zn(e))return e.map(jh);if(qt(e)){const t=Object.create(null),n=Object.keys(e),s=n.length;let a=0;for(;a<s;++a)t[n[a]]=jh(e[n[a]]);return t}return e}function _2(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function LL(e,t,n,s){if(!_2(e))return;const a=t[e],o=n[e];qt(a)&&qt(o)?Hu(a,o,s):t[e]=jh(o)}function Hu(e,t,n){const s=Zn(t)?t:[t],a=s.length;if(!qt(e))return e;n=n||{};const o=n.merger||LL;let l;for(let u=0;u<a;++u){if(l=s[u],!qt(l))continue;const f=Object.keys(l);for(let h=0,p=f.length;h<p;++h)o(f[h],e,l,n)}return e}function Eu(e,t){return Hu(e,t,{merger:zL})}function zL(e,t,n){if(!_2(e))return;const s=t[e],a=n[e];qt(s)&&qt(a)?Eu(s,a):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=jh(a))}const Ej={"":e=>e,x:e=>e.x,y:e=>e.y};function UL(e){const t=e.split("."),n=[];let s="";for(const a of t)s+=a,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function BL(e){const t=UL(e);return n=>{for(const s of t){if(s==="")break;n=n&&n[s]}return n}}function To(e,t){return(Ej[t]||(Ej[t]=BL(t)))(e)}function qx(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Vu=e=>typeof e!="undefined",ki=e=>typeof e=="function",Tj=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function FL(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const cn=Math.PI,Vn=2*cn,Sh=Number.POSITIVE_INFINITY,HL=cn/180,Jn=cn/2,oo=cn/4,kj=cn*2/3,j2=Math.log10,ji=Math.sign;function ih(e,t,n){return Math.abs(e-t)<n}function Cj(e){const t=Math.round(e);e=ih(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(j2(e))),s=e/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function VL(e){const t=[],n=Math.sqrt(e);let s;for(s=1;s<n;s++)e%s===0&&(t.push(s),t.push(e/s));return n===(n|0)&&t.push(n),t.sort((a,o)=>a-o).pop(),t}function $L(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Nh(e){return!$L(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function qL(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function YL(e,t,n){let s,a,o;for(s=0,a=e.length;s<a;s++)o=e[s][n],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Ma(e){return e*(cn/180)}function IL(e){return e*(180/cn)}function Oj(e){if(!yr(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function S2(e,t){const n=t.x-e.x,s=t.y-e.y,a=Math.sqrt(n*n+s*s);let o=Math.atan2(s,n);return o<-.5*cn&&(o+=Vn),{angle:o,distance:a}}function WL(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Gr(e){return(e%Vn+Vn)%Vn}function Eh(e,t,n,s){const a=Gr(e),o=Gr(t),l=Gr(n),u=Gr(o-a),f=Gr(l-a),h=Gr(a-o),p=Gr(a-l);return a===o||a===l||s&&o===l||u>f&&h<p}function Hs(e,t,n){return Math.max(t,Math.min(n,e))}function XL(e){return Hs(e,-32768,32767)}function bo(e,t,n,s=1e-6){return e>=Math.min(t,n)-s&&e<=Math.max(t,n)+s}function Yx(e,t,n){n=n||(l=>e[l]<t);let s=e.length-1,a=0,o;for(;s-a>1;)o=a+s>>1,n(o)?a=o:s=o;return{lo:a,hi:s}}const C0=(e,t,n,s)=>Yx(e,n,s?a=>{const o=e[a][t];return o<n||o===n&&e[a+1][t]===n}:a=>e[a][t]<n),GL=(e,t,n)=>Yx(e,n,s=>e[s][t]>=n);function KL(e,t,n){let s=0,a=e.length;for(;s<a&&e[s]<t;)s++;for(;a>s&&e[a-1]>n;)a--;return s>0||a<e.length?e.slice(s,a):e}const N2=["push","pop","shift","splice","unshift"];function QL(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),N2.forEach(n=>{const s="_onData"+qx(n),a=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...o){const l=a.apply(this,o);return e._chartjs.listeners.forEach(u=>{typeof u[s]=="function"&&u[s](...o)}),l}})})}function Aj(e,t){const n=e._chartjs;if(!n)return;const s=n.listeners,a=s.indexOf(t);a!==-1&&s.splice(a,1),!(s.length>0)&&(N2.forEach(o=>{delete e[o]}),delete e._chartjs)}function E2(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const T2=function(){return typeof window=="undefined"?function(e){return e()}:window.requestAnimationFrame}();function k2(e,t){let n=[],s=!1;return function(...a){n=a,s||(s=!0,T2.call(window,()=>{s=!1,e.apply(t,n)}))}}function ZL(e,t){let n;return function(...s){return t?(clearTimeout(n),n=setTimeout(e,t,s)):e.apply(this,s),t}}const Ix=e=>e==="start"?"left":e==="end"?"right":"center",ys=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,JL=(e,t,n,s)=>e===(s?"left":"right")?n:e==="center"?(t+n)/2:t,Rf=e=>e===0||e===1,Rj=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Vn/n)),Dj=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Vn/n)+1,Tu={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Jn)+1,easeOutSine:e=>Math.sin(e*Jn),easeInOutSine:e=>-.5*(Math.cos(cn*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Rf(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Rf(e)?e:Rj(e,.075,.3),easeOutElastic:e=>Rf(e)?e:Dj(e,.075,.3),easeInOutElastic(e){return Rf(e)?e:e<.5?.5*Rj(e*2,.1125,.45):.5+.5*Dj(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Tu.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Tu.easeInBounce(e*2)*.5:Tu.easeOutBounce(e*2-1)*.5+.5};function C2(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Mj(e){return C2(e)?e:new Fu(e)}function Ag(e){return C2(e)?e:new Fu(e).saturate(.5).darken(.1).hexString()}const e6=["x","y","borderWidth","radius","tension"],t6=["color","borderColor","backgroundColor"];function n6(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:t6},numbers:{type:"number",properties:e6}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function s6(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Pj=new Map;function r6(e,t){t=t||{};const n=e+JSON.stringify(t);let s=Pj.get(n);return s||(s=new Intl.NumberFormat(e,t),Pj.set(n,s)),s}function Wx(e,t,n){return r6(t,n).format(e)}const a6={values(e){return Zn(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const s=this.chart.options.locale;let a,o=e;if(n.length>1){const h=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(h<1e-4||h>1e15)&&(a="scientific"),o=i6(e,n)}const l=j2(Math.abs(o)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),f={notation:a,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(f,this.options.ticks.format),Wx(e,s,f)}};function i6(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var O2={formatters:a6};function o6(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:O2.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const ko=Object.create(null),O0=Object.create(null);function ku(e,t){if(!t)return e;const n=t.split(".");for(let s=0,a=n.length;s<a;++s){const o=n[s];e=e[o]||(e[o]=Object.create(null))}return e}function Rg(e,t,n){return typeof t=="string"?Hu(ku(e,t),n):Hu(ku(e,""),t)}class l6{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,a)=>Ag(a.backgroundColor),this.hoverBorderColor=(s,a)=>Ag(a.borderColor),this.hoverColor=(s,a)=>Ag(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Rg(this,t,n)}get(t){return ku(this,t)}describe(t,n){return Rg(O0,t,n)}override(t,n){return Rg(ko,t,n)}route(t,n,s,a){const o=ku(this,t),l=ku(this,s),u="_"+n;Object.defineProperties(o,{[u]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const f=this[u],h=l[a];return qt(f)?Object.assign({},h,f):Vt(f,h)},set(f){this[u]=f}}})}apply(t){t.forEach(n=>n(this))}}var Mn=new l6({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[n6,s6,o6]);function c6(e){return!e||un(e.size)||un(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Lj(e,t,n,s,a){let o=t[a];return o||(o=t[a]=e.measureText(a).width,n.push(a)),o>s&&(s=o),s}function lo(e,t,n){const s=e.currentDevicePixelRatio,a=n!==0?Math.max(n/2,.5):0;return Math.round((t-a)*s)/s+a}function zj(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Uj(e,t,n,s){A2(e,t,n,s,null)}function A2(e,t,n,s,a){let o,l,u,f,h,p,x,y;const b=t.pointStyle,w=t.rotation,_=t.radius;let j=(w||0)*HL;if(b&&typeof b=="object"&&(o=b.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(n,s),e.rotate(j),e.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),e.restore();return}if(!(isNaN(_)||_<=0)){switch(e.beginPath(),b){default:a?e.ellipse(n,s,a/2,_,0,0,Vn):e.arc(n,s,_,0,Vn),e.closePath();break;case"triangle":p=a?a/2:_,e.moveTo(n+Math.sin(j)*p,s-Math.cos(j)*_),j+=kj,e.lineTo(n+Math.sin(j)*p,s-Math.cos(j)*_),j+=kj,e.lineTo(n+Math.sin(j)*p,s-Math.cos(j)*_),e.closePath();break;case"rectRounded":h=_*.516,f=_-h,l=Math.cos(j+oo)*f,x=Math.cos(j+oo)*(a?a/2-h:f),u=Math.sin(j+oo)*f,y=Math.sin(j+oo)*(a?a/2-h:f),e.arc(n-x,s-u,h,j-cn,j-Jn),e.arc(n+y,s-l,h,j-Jn,j),e.arc(n+x,s+u,h,j,j+Jn),e.arc(n-y,s+l,h,j+Jn,j+cn),e.closePath();break;case"rect":if(!w){f=Math.SQRT1_2*_,p=a?a/2:f,e.rect(n-p,s-f,2*p,2*f);break}j+=oo;case"rectRot":x=Math.cos(j)*(a?a/2:_),l=Math.cos(j)*_,u=Math.sin(j)*_,y=Math.sin(j)*(a?a/2:_),e.moveTo(n-x,s-u),e.lineTo(n+y,s-l),e.lineTo(n+x,s+u),e.lineTo(n-y,s+l),e.closePath();break;case"crossRot":j+=oo;case"cross":x=Math.cos(j)*(a?a/2:_),l=Math.cos(j)*_,u=Math.sin(j)*_,y=Math.sin(j)*(a?a/2:_),e.moveTo(n-x,s-u),e.lineTo(n+x,s+u),e.moveTo(n+y,s-l),e.lineTo(n-y,s+l);break;case"star":x=Math.cos(j)*(a?a/2:_),l=Math.cos(j)*_,u=Math.sin(j)*_,y=Math.sin(j)*(a?a/2:_),e.moveTo(n-x,s-u),e.lineTo(n+x,s+u),e.moveTo(n+y,s-l),e.lineTo(n-y,s+l),j+=oo,x=Math.cos(j)*(a?a/2:_),l=Math.cos(j)*_,u=Math.sin(j)*_,y=Math.sin(j)*(a?a/2:_),e.moveTo(n-x,s-u),e.lineTo(n+x,s+u),e.moveTo(n+y,s-l),e.lineTo(n-y,s+l);break;case"line":l=a?a/2:Math.cos(j)*_,u=Math.sin(j)*_,e.moveTo(n-l,s-u),e.lineTo(n+l,s+u);break;case"dash":e.moveTo(n,s),e.lineTo(n+Math.cos(j)*(a?a/2:_),s+Math.sin(j)*_);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function R2(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Xx(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Gx(e){e.restore()}function u6(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),un(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function d6(e,t,n,s,a){if(a.strikethrough||a.underline){const o=e.measureText(s),l=t-o.actualBoundingBoxLeft,u=t+o.actualBoundingBoxRight,f=n-o.actualBoundingBoxAscent,h=n+o.actualBoundingBoxDescent,p=a.strikethrough?(f+h)/2:h;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=a.decorationWidth||2,e.moveTo(l,p),e.lineTo(u,p),e.stroke()}}function f6(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function $u(e,t,n,s,a,o={}){const l=Zn(t)?t:[t],u=o.strokeWidth>0&&o.strokeColor!=="";let f,h;for(e.save(),e.font=a.string,u6(e,o),f=0;f<l.length;++f)h=l[f],o.backdrop&&f6(e,o.backdrop),u&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),un(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(h,n,s,o.maxWidth)),e.fillText(h,n,s,o.maxWidth),d6(e,n,s,h,o),s+=Number(a.lineHeight);e.restore()}function Th(e,t){const{x:n,y:s,w:a,h:o,radius:l}=t;e.arc(n+l.topLeft,s+l.topLeft,l.topLeft,1.5*cn,cn,!0),e.lineTo(n,s+o-l.bottomLeft),e.arc(n+l.bottomLeft,s+o-l.bottomLeft,l.bottomLeft,cn,Jn,!0),e.lineTo(n+a-l.bottomRight,s+o),e.arc(n+a-l.bottomRight,s+o-l.bottomRight,l.bottomRight,Jn,0,!0),e.lineTo(n+a,s+l.topRight),e.arc(n+a-l.topRight,s+l.topRight,l.topRight,0,-Jn,!0),e.lineTo(n+l.topLeft,s)}const h6=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,m6=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function p6(e,t){const n=(""+e).match(h6);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const g6=e=>+e||0;function Kx(e,t){const n={},s=qt(t),a=s?Object.keys(t):t,o=qt(e)?s?l=>Vt(e[l],e[t[l]]):l=>e[l]:()=>e;for(const l of a)n[l]=g6(o(l));return n}function D2(e){return Kx(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Fl(e){return Kx(e,["topLeft","topRight","bottomLeft","bottomRight"])}function br(e){const t=D2(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function vs(e,t){e=e||{},t=t||Mn.font;let n=Vt(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let s=Vt(e.style,t.style);s&&!(""+s).match(m6)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const a={family:Vt(e.family,t.family),lineHeight:p6(Vt(e.lineHeight,t.lineHeight),n),size:n,style:s,weight:Vt(e.weight,t.weight),string:""};return a.string=c6(a),a}function Df(e,t,n,s){let a,o,l;for(a=0,o=e.length;a<o;++a)if(l=e[a],l!==void 0&&l!==void 0)return l}function x6(e,t,n){const{min:s,max:a}=e,o=w2(t,(a-s)/2),l=(u,f)=>n&&u===0?0:u+f;return{min:l(s,-Math.abs(o)),max:l(a,o)}}function nc(e,t){return Object.assign(Object.create(e),t)}function Qx(e,t=[""],n,s,a=()=>e[0]){const o=n||e;typeof s=="undefined"&&(s=z2("_fallback",e));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:s,_getTarget:a,override:u=>Qx([u,...e],t,o,s)};return new Proxy(l,{deleteProperty(u,f){return delete u[f],delete u._keys,delete e[0][f],!0},get(u,f){return P2(u,f,()=>N6(f,t,e,u))},getOwnPropertyDescriptor(u,f){return Reflect.getOwnPropertyDescriptor(u._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(u,f){return Fj(u).includes(f)},ownKeys(u){return Fj(u)},set(u,f,h){const p=u._storage||(u._storage=a());return u[f]=p[f]=h,delete u._keys,!0}})}function Gl(e,t,n,s){const a={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:M2(e,s),setContext:o=>Gl(e,o,n,s),override:o=>Gl(e.override(o),t,n,s)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete e[l],!0},get(o,l,u){return P2(o,l,()=>b6(o,l,u))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(e,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,l)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,l){return Reflect.has(e,l)},ownKeys(){return Reflect.ownKeys(e)},set(o,l,u){return e[l]=u,delete o[l],!0}})}function M2(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:s=t.indexable,_allKeys:a=t.allKeys}=e;return{allKeys:a,scriptable:n,indexable:s,isScriptable:ki(n)?n:()=>n,isIndexable:ki(s)?s:()=>s}}const y6=(e,t)=>e?e+qx(t):t,Zx=(e,t)=>qt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function P2(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const s=n();return e[t]=s,s}function b6(e,t,n){const{_proxy:s,_context:a,_subProxy:o,_descriptors:l}=e;let u=s[t];return ki(u)&&l.isScriptable(t)&&(u=v6(t,u,e,n)),Zn(u)&&u.length&&(u=w6(t,u,e,l.isIndexable)),Zx(t,u)&&(u=Gl(u,a,o&&o[t],l)),u}function v6(e,t,n,s){const{_proxy:a,_context:o,_subProxy:l,_stack:u}=n;if(u.has(e))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+e);u.add(e);let f=t(o,l||s);return u.delete(e),Zx(e,f)&&(f=Jx(a._scopes,a,e,f)),f}function w6(e,t,n,s){const{_proxy:a,_context:o,_subProxy:l,_descriptors:u}=n;if(typeof o.index!="undefined"&&s(e))return t[o.index%t.length];if(qt(t[0])){const f=t,h=a._scopes.filter(p=>p!==f);t=[];for(const p of f){const x=Jx(h,a,e,p);t.push(Gl(x,o,l&&l[e],u))}}return t}function L2(e,t,n){return ki(e)?e(t,n):e}const _6=(e,t)=>e===!0?t:typeof e=="string"?To(t,e):void 0;function j6(e,t,n,s,a){for(const o of t){const l=_6(n,o);if(l){e.add(l);const u=L2(l._fallback,n,a);if(typeof u!="undefined"&&u!==n&&u!==s)return u}else if(l===!1&&typeof s!="undefined"&&n!==s)return null}return!1}function Jx(e,t,n,s){const a=t._rootScopes,o=L2(t._fallback,n,s),l=[...e,...a],u=new Set;u.add(s);let f=Bj(u,l,n,o||n,s);return f===null||typeof o!="undefined"&&o!==n&&(f=Bj(u,l,o,f,s),f===null)?!1:Qx(Array.from(u),[""],a,o,()=>S6(t,n,s))}function Bj(e,t,n,s,a){for(;n;)n=j6(e,t,n,s,a);return n}function S6(e,t,n){const s=e._getTarget();t in s||(s[t]={});const a=s[t];return Zn(a)&&qt(n)?n:a||{}}function N6(e,t,n,s){let a;for(const o of t)if(a=z2(y6(o,e),n),typeof a!="undefined")return Zx(e,a)?Jx(n,s,e,a):a}function z2(e,t){for(const n of t){if(!n)continue;const s=n[e];if(typeof s!="undefined")return s}}function Fj(e){let t=e._keys;return t||(t=e._keys=E6(e._scopes)),t}function E6(e){const t=new Set;for(const n of e)for(const s of Object.keys(n).filter(a=>!a.startsWith("_")))t.add(s);return Array.from(t)}function ey(){return typeof window!="undefined"&&typeof document!="undefined"}function ty(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function kh(e,t,n){let s;return typeof e=="string"?(s=parseInt(e,10),e.indexOf("%")!==-1&&(s=s/100*t.parentNode[n])):s=e,s}const Kh=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function T6(e,t){return Kh(e).getPropertyValue(t)}const k6=["top","right","bottom","left"];function wo(e,t,n){const s={};n=n?"-"+n:"";for(let a=0;a<4;a++){const o=k6[a];s[o]=parseFloat(e[t+"-"+o+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const C6=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function O6(e,t){const n=e.touches,s=n&&n.length?n[0]:e,{offsetX:a,offsetY:o}=s;let l=!1,u,f;if(C6(a,o,e.target))u=a,f=o;else{const h=t.getBoundingClientRect();u=s.clientX-h.left,f=s.clientY-h.top,l=!0}return{x:u,y:f,box:l}}function fo(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:s}=t,a=Kh(n),o=a.boxSizing==="border-box",l=wo(a,"padding"),u=wo(a,"border","width"),{x:f,y:h,box:p}=O6(e,n),x=l.left+(p&&u.left),y=l.top+(p&&u.top);let{width:b,height:w}=t;return o&&(b-=l.width+u.width,w-=l.height+u.height),{x:Math.round((f-x)/b*n.width/s),y:Math.round((h-y)/w*n.height/s)}}function A6(e,t,n){let s,a;if(t===void 0||n===void 0){const o=e&&ty(e);if(!o)t=e.clientWidth,n=e.clientHeight;else{const l=o.getBoundingClientRect(),u=Kh(o),f=wo(u,"border","width"),h=wo(u,"padding");t=l.width-h.width-f.width,n=l.height-h.height-f.height,s=kh(u.maxWidth,o,"clientWidth"),a=kh(u.maxHeight,o,"clientHeight")}}return{width:t,height:n,maxWidth:s||Sh,maxHeight:a||Sh}}const Mf=e=>Math.round(e*10)/10;function R6(e,t,n,s){const a=Kh(e),o=wo(a,"margin"),l=kh(a.maxWidth,e,"clientWidth")||Sh,u=kh(a.maxHeight,e,"clientHeight")||Sh,f=A6(e,t,n);let{width:h,height:p}=f;if(a.boxSizing==="content-box"){const y=wo(a,"border","width"),b=wo(a,"padding");h-=b.width+y.width,p-=b.height+y.height}return h=Math.max(0,h-o.width),p=Math.max(0,s?h/s:p-o.height),h=Mf(Math.min(h,l,f.maxWidth)),p=Mf(Math.min(p,u,f.maxHeight)),h&&!p&&(p=Mf(h/2)),(t!==void 0||n!==void 0)&&s&&f.height&&p>f.height&&(p=f.height,h=Mf(Math.floor(p*s))),{width:h,height:p}}function Hj(e,t,n){const s=t||1,a=Math.floor(e.height*s),o=Math.floor(e.width*s);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const l=e.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${e.height}px`,l.style.width=`${e.width}px`),e.currentDevicePixelRatio!==s||l.height!==a||l.width!==o?(e.currentDevicePixelRatio=s,l.height=a,l.width=o,e.ctx.setTransform(s,0,0,s,0,0),!0):!1}const D6=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};ey()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(t){}return e}();function Vj(e,t){const n=T6(e,t),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}const M6=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},P6=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Hl(e,t,n){return e?M6(t,n):P6()}function U2(e,t){let n,s;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=s)}function B2(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Pf(e,t,n){return e.options.clip?e[n]:t[n]}function L6(e,t){const{xScale:n,yScale:s}=e;return n&&s?{left:Pf(n,t,"left"),right:Pf(n,t,"right"),top:Pf(s,t,"top"),bottom:Pf(s,t,"bottom")}:t}function z6(e,t){const n=t._clip;if(n.disabled)return!1;const s=L6(t,e.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class U6{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,s,a){const o=n.listeners[a],l=n.duration;o.forEach(u=>u({chart:t,initial:n.initial,numSteps:l,currentStep:Math.min(s-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=T2.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((s,a)=>{if(!s.running||!s.items.length)return;const o=s.items;let l=o.length-1,u=!1,f;for(;l>=0;--l)f=o[l],f._active?(f._total>s.duration&&(s.duration=f._total),f.tick(t),u=!0):(o[l]=o[o.length-1],o.pop());u&&(a.draw(),this._notify(a,s,t,"progress")),o.length||(s.running=!1,this._notify(a,s,t,"complete"),s.initial=!1),n+=o.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let s=n.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,s)),s}listen(t,n,s){this._getAnims(t).listeners[n].push(s)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,a)=>Math.max(s,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const s=n.items;let a=s.length-1;for(;a>=0;--a)s[a].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ca=new U6;const $j="transparent",B6={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const s=Mj(e||$j),a=s.valid&&Mj(t||$j);return a&&a.valid?a.mix(s,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class F6{constructor(t,n,s,a){const o=n[s];a=Df([t.to,a,o,t.from]);const l=Df([t.from,o,a]);this._active=!0,this._fn=t.fn||B6[t.type||typeof l],this._easing=Tu[t.easing]||Tu.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=s,this._from=l,this._to=a,this._promises=void 0}active(){return this._active}update(t,n,s){if(this._active){this._notify(!1);const a=this._target[this._prop],o=s-this._start,l=this._duration-o;this._start=s,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Df([t.to,n,a,t.from]),this._from=Df([t.from,a,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,s=this._duration,a=this._prop,o=this._from,l=this._loop,u=this._to;let f;if(this._active=o!==u&&(l||n<s),!this._active){this._target[a]=u,this._notify(!0);return}if(n<0){this._target[a]=o;return}f=n/s%2,f=l&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[a]=this._fn(o,u,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,s)=>{t.push({res:n,rej:s})})}_notify(t){const n=t?"res":"rej",s=this._promises||[];for(let a=0;a<s.length;a++)s[a][n]()}}class F2{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!qt(t))return;const n=Object.keys(Mn.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{const o=t[a];if(!qt(o))return;const l={};for(const u of n)l[u]=o[u];(Zn(o.properties)&&o.properties||[a]).forEach(u=>{(u===a||!s.has(u))&&s.set(u,l)})})}_animateOptions(t,n){const s=n.options,a=V6(t,s);if(!a)return[];const o=this._createAnimations(a,s);return s.$shared&&H6(t.options.$animations,s).then(()=>{t.options=s},()=>{}),o}_createAnimations(t,n){const s=this._properties,a=[],o=t.$animations||(t.$animations={}),l=Object.keys(n),u=Date.now();let f;for(f=l.length-1;f>=0;--f){const h=l[f];if(h.charAt(0)==="$")continue;if(h==="options"){a.push(...this._animateOptions(t,n));continue}const p=n[h];let x=o[h];const y=s.get(h);if(x)if(y&&x.active()){x.update(y,p,u);continue}else x.cancel();if(!y||!y.duration){t[h]=p;continue}o[h]=x=new F6(y,t,h,p),a.push(x)}return a}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const s=this._createAnimations(t,n);if(s.length)return Ca.add(this._chart,s),!0}}function H6(e,t){const n=[],s=Object.keys(t);for(let a=0;a<s.length;a++){const o=e[s[a]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function V6(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function qj(e,t){const n=e&&e.options||{},s=n.reverse,a=n.min===void 0?t:0,o=n.max===void 0?t:0;return{start:s?o:a,end:s?a:o}}function $6(e,t,n){if(n===!1)return!1;const s=qj(e,n),a=qj(t,n);return{top:a.end,right:s.end,bottom:a.start,left:s.start}}function q6(e){let t,n,s,a;return qt(e)?(t=e.top,n=e.right,s=e.bottom,a=e.left):t=n=s=a=e,{top:t,right:n,bottom:s,left:a,disabled:e===!1}}function H2(e,t){const n=[],s=e._getSortedDatasetMetas(t);let a,o;for(a=0,o=s.length;a<o;++a)n.push(s[a].index);return n}function Yj(e,t,n,s={}){const a=e.keys,o=s.mode==="single";let l,u,f,h;if(t===null)return;let p=!1;for(l=0,u=a.length;l<u;++l){if(f=+a[l],f===n){if(p=!0,s.all)continue;break}h=e.values[f],yr(h)&&(o||t===0||ji(t)===ji(h))&&(t+=h)}return!p&&!s.all?0:t}function Y6(e,t){const{iScale:n,vScale:s}=t,a=n.axis==="x"?"x":"y",o=s.axis==="x"?"x":"y",l=Object.keys(e),u=new Array(l.length);let f,h,p;for(f=0,h=l.length;f<h;++f)p=l[f],u[f]={[a]:p,[o]:e[p]};return u}function Dg(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function I6(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function W6(e){const{min:t,max:n,minDefined:s,maxDefined:a}=e.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:a?n:Number.POSITIVE_INFINITY}}function X6(e,t,n){const s=e[t]||(e[t]={});return s[n]||(s[n]={})}function Ij(e,t,n,s){for(const a of t.getMatchingVisibleMetas(s).reverse()){const o=e[a.index];if(n&&o>0||!n&&o<0)return a.index}return null}function Wj(e,t){const{chart:n,_cachedMeta:s}=e,a=n._stacks||(n._stacks={}),{iScale:o,vScale:l,index:u}=s,f=o.axis,h=l.axis,p=I6(o,l,s),x=t.length;let y;for(let b=0;b<x;++b){const w=t[b],{[f]:_,[h]:j}=w,S=w._stacks||(w._stacks={});y=S[h]=X6(a,p,_),y[u]=j,y._top=Ij(y,l,!0,s.type),y._bottom=Ij(y,l,!1,s.type);const C=y._visualValues||(y._visualValues={});C[u]=j}}function Mg(e,t){const n=e.scales;return Object.keys(n).filter(s=>n[s].axis===t).shift()}function G6(e,t){return nc(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function K6(e,t,n){return nc(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function uu(e,t){const n=e.controller.index,s=e.vScale&&e.vScale.axis;if(s){t=t||e._parsed;for(const a of t){const o=a._stacks;if(!o||o[s]===void 0||o[s][n]===void 0)return;delete o[s][n],o[s]._visualValues!==void 0&&o[s]._visualValues[n]!==void 0&&delete o[s]._visualValues[n]}}}const Pg=e=>e==="reset"||e==="none",Xj=(e,t)=>t?e:Object.assign({},e),Q6=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:H2(n,!0),values:null};class Vl{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Dg(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&uu(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,s=this.getDataset(),a=(x,y,b,w)=>x==="x"?y:x==="r"?w:b,o=n.xAxisID=Vt(s.xAxisID,Mg(t,"x")),l=n.yAxisID=Vt(s.yAxisID,Mg(t,"y")),u=n.rAxisID=Vt(s.rAxisID,Mg(t,"r")),f=n.indexAxis,h=n.iAxisID=a(f,o,l,u),p=n.vAxisID=a(f,l,o,u);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(u),n.iScale=this.getScaleForId(h),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Aj(this._data,this),t._stacked&&uu(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),s=this._data;if(qt(n)){const a=this._cachedMeta;this._data=Y6(n,a)}else if(s!==n){if(s){Aj(s,this);const a=this._cachedMeta;uu(a),a._parsed=[]}n&&Object.isExtensible(n)&&QL(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,s=this.getDataset();let a=!1;this._dataCheck();const o=n._stacked;n._stacked=Dg(n.vScale,n),n.stack!==s.stack&&(a=!0,uu(n),n.stack=s.stack),this._resyncElements(t),(a||o!==n._stacked)&&(Wj(this,n._parsed),n._stacked=Dg(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:s,_data:a}=this,{iScale:o,_stacked:l}=s,u=o.axis;let f=t===0&&n===a.length?!0:s._sorted,h=t>0&&s._parsed[t-1],p,x,y;if(this._parsing===!1)s._parsed=a,s._sorted=!0,y=a;else{Zn(a[t])?y=this.parseArrayData(s,a,t,n):qt(a[t])?y=this.parseObjectData(s,a,t,n):y=this.parsePrimitiveData(s,a,t,n);const b=()=>x[u]===null||h&&x[u]<h[u];for(p=0;p<n;++p)s._parsed[p+t]=x=y[p],f&&(b()&&(f=!1),h=x);s._sorted=f}l&&Wj(this,y)}parsePrimitiveData(t,n,s,a){const{iScale:o,vScale:l}=t,u=o.axis,f=l.axis,h=o.getLabels(),p=o===l,x=new Array(a);let y,b,w;for(y=0,b=a;y<b;++y)w=y+s,x[y]={[u]:p||o.parse(h[w],w),[f]:l.parse(n[w],w)};return x}parseArrayData(t,n,s,a){const{xScale:o,yScale:l}=t,u=new Array(a);let f,h,p,x;for(f=0,h=a;f<h;++f)p=f+s,x=n[p],u[f]={x:o.parse(x[0],p),y:l.parse(x[1],p)};return u}parseObjectData(t,n,s,a){const{xScale:o,yScale:l}=t,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,h=new Array(a);let p,x,y,b;for(p=0,x=a;p<x;++p)y=p+s,b=n[y],h[p]={x:o.parse(To(b,u),y),y:l.parse(To(b,f),y)};return h}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,s){const a=this.chart,o=this._cachedMeta,l=n[t.axis],u={keys:H2(a,!0),values:n._stacks[t.axis]._visualValues};return Yj(u,l,o.index,{mode:s})}updateRangeFromParsed(t,n,s,a){const o=s[n.axis];let l=o===null?NaN:o;const u=a&&s._stacks[n.axis];a&&u&&(a.values=u,l=Yj(a,o,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,n){const s=this._cachedMeta,a=s._parsed,o=s._sorted&&t===s.iScale,l=a.length,u=this._getOtherScale(t),f=Q6(n,s,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:x}=W6(u);let y,b;function w(){b=a[y];const _=b[u.axis];return!yr(b[t.axis])||p>_||x<_}for(y=0;y<l&&!(!w()&&(this.updateRangeFromParsed(h,t,b,f),o));++y);if(o){for(y=l-1;y>=0;--y)if(!w()){this.updateRangeFromParsed(h,t,b,f);break}}return h}getAllParsedValues(t){const n=this._cachedMeta._parsed,s=[];let a,o,l;for(a=0,o=n.length;a<o;++a)l=n[a][t.axis],yr(l)&&s.push(l);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,s=n.iScale,a=n.vScale,o=this.getParsed(t);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=q6(Vt(this.options.clip,$6(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,s=this._cachedMeta,a=s.data||[],o=n.chartArea,l=[],u=this._drawStart||0,f=this._drawCount||a.length-u,h=this.options.drawActiveElementsOnTop;let p;for(s.dataset&&s.dataset.draw(t,o,u,f),p=u;p<u+f;++p){const x=a[p];x.hidden||(x.active&&h?l.push(x):x.draw(t,o))}for(p=0;p<l.length;++p)l[p].draw(t,o)}getStyle(t,n){const s=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,n,s){const a=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];o=l.$context||(l.$context=K6(this.getContext(),t,l)),o.parsed=this.getParsed(t),o.raw=a.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=G6(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=s,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",s){const a=n==="active",o=this._cachedDataOpts,l=t+"-"+n,u=o[l],f=this.enableOptionSharing&&Vu(s);if(u)return Xj(u,f);const h=this.chart.config,p=h.datasetElementScopeKeys(this._type,t),x=a?[`${t}Hover`,"hover",t,""]:[t,""],y=h.getOptionScopes(this.getDataset(),p),b=Object.keys(Mn.elements[t]),w=()=>this.getContext(s,a,n),_=h.resolveNamedOptions(y,b,w,x);return _.$shared&&(_.$shared=f,o[l]=Object.freeze(Xj(_,f))),_}_resolveAnimations(t,n,s){const a=this.chart,o=this._cachedDataOpts,l=`animation-${n}`,u=o[l];if(u)return u;let f;if(a.options.animation!==!1){const p=this.chart.config,x=p.datasetAnimationScopeKeys(this._type,n),y=p.getOptionScopes(this.getDataset(),x);f=p.createResolver(y,this.getContext(t,s,n))}const h=new F2(a,f&&f.animations);return f&&f._cacheable&&(o[l]=Object.freeze(h)),h}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Pg(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const s=this.resolveDataElementOptions(t,n),a=this._sharedOptions,o=this.getSharedOptions(s),l=this.includeOptions(n,o)||o!==a;return this.updateSharedOptions(o,n,s),{sharedOptions:o,includeOptions:l}}updateElement(t,n,s,a){Pg(a)?Object.assign(t,s):this._resolveAnimations(n,a).update(t,s)}updateSharedOptions(t,n,s){t&&!Pg(n)&&this._resolveAnimations(void 0,n).update(t,s)}_setStyle(t,n,s,a){t.active=a;const o=this.getStyle(n,a);this._resolveAnimations(n,s,a).update(t,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(t,n,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,n,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,s=this._cachedMeta.data;for(const[u,f,h]of this._syncList)this[u](f,h);this._syncList=[];const a=s.length,o=n.length,l=Math.min(o,a);l&&this.parse(0,l),o>a?this._insertElements(a,o-a,t):o<a&&this._removeElements(o,a-o)}_insertElements(t,n,s=!0){const a=this._cachedMeta,o=a.data,l=t+n;let u;const f=h=>{for(h.length+=n,u=h.length-1;u>=l;u--)h[u]=h[u-n]};for(f(o),u=t;u<l;++u)o[u]=new this.dataElementType;this._parsing&&f(a._parsed),this.parse(t,n),s&&this.updateElements(o,t,n,"reset")}updateElements(t,n,s,a){}_removeElements(t,n){const s=this._cachedMeta;if(this._parsing){const a=s._parsed.splice(t,n);s._stacked&&uu(s,a)}s.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,s,a]=t;this[n](s,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ot(Vl,"defaults",{}),ot(Vl,"datasetElementType",null),ot(Vl,"dataElementType",null);function Z6(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let s=[];for(let a=0,o=n.length;a<o;a++)s=s.concat(n[a].controller.getAllParsedValues(e));e._cache.$bar=E2(s.sort((a,o)=>a-o))}return e._cache.$bar}function J6(e){const t=e.iScale,n=Z6(t,e.type);let s=t._length,a,o,l,u;const f=()=>{l===32767||l===-32768||(Vu(u)&&(s=Math.min(s,Math.abs(l-u)||s)),u=l)};for(a=0,o=n.length;a<o;++a)l=t.getPixelForValue(n[a]),f();for(u=void 0,a=0,o=t.ticks.length;a<o;++a)l=t.getPixelForTick(a),f();return s}function e5(e,t,n,s){const a=n.barThickness;let o,l;return un(a)?(o=t.min*n.categoryPercentage,l=n.barPercentage):(o=a*s,l=1),{chunk:o/s,ratio:l,start:t.pixels[e]-o/2}}function t5(e,t,n,s){const a=t.pixels,o=a[e];let l=e>0?a[e-1]:null,u=e<a.length-1?a[e+1]:null;const f=n.categoryPercentage;l===null&&(l=o-(u===null?t.end-t.start:u-o)),u===null&&(u=o+o-l);const h=o-(o-Math.min(l,u))/2*f;return{chunk:Math.abs(u-l)/2*f/s,ratio:n.barPercentage,start:h}}function n5(e,t,n,s){const a=n.parse(e[0],s),o=n.parse(e[1],s),l=Math.min(a,o),u=Math.max(a,o);let f=l,h=u;Math.abs(l)>Math.abs(u)&&(f=u,h=l),t[n.axis]=h,t._custom={barStart:f,barEnd:h,start:a,end:o,min:l,max:u}}function V2(e,t,n,s){return Zn(e)?n5(e,t,n,s):t[n.axis]=n.parse(e,s),t}function Gj(e,t,n,s){const a=e.iScale,o=e.vScale,l=a.getLabels(),u=a===o,f=[];let h,p,x,y;for(h=n,p=n+s;h<p;++h)y=t[h],x={},x[a.axis]=u||a.parse(l[h],h),f.push(V2(y,x,o,h));return f}function Lg(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function s5(e,t,n){return e!==0?ji(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function r5(e){let t,n,s,a,o;return e.horizontal?(t=e.base>e.x,n="left",s="right"):(t=e.base<e.y,n="bottom",s="top"),t?(a="end",o="start"):(a="start",o="end"),{start:n,end:s,reverse:t,top:a,bottom:o}}function a5(e,t,n,s){let a=t.borderSkipped;const o={};if(!a){e.borderSkipped=o;return}if(a===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:u,reverse:f,top:h,bottom:p}=r5(e);a==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===s?a=h:(n._bottom||0)===s?a=p:(o[Kj(p,l,u,f)]=!0,a=h)),o[Kj(a,l,u,f)]=!0,e.borderSkipped=o}function Kj(e,t,n,s){return s?(e=i5(e,t,n),e=Qj(e,n,t)):e=Qj(e,t,n),e}function i5(e,t,n){return e===t?n:e===n?t:e}function Qj(e,t,n){return e==="start"?t:e==="end"?n:e}function o5(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class oh extends Vl{parsePrimitiveData(t,n,s,a){return Gj(t,n,s,a)}parseArrayData(t,n,s,a){return Gj(t,n,s,a)}parseObjectData(t,n,s,a){const{iScale:o,vScale:l}=t,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,h=o.axis==="x"?u:f,p=l.axis==="x"?u:f,x=[];let y,b,w,_;for(y=s,b=s+a;y<b;++y)_=n[y],w={},w[o.axis]=o.parse(To(_,h),y),x.push(V2(To(_,p),w,l,y));return x}updateRangeFromParsed(t,n,s,a){super.updateRangeFromParsed(t,n,s,a);const o=s._custom;o&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:s,vScale:a}=n,o=this.getParsed(t),l=o._custom,u=Lg(l)?"["+l.start+", "+l.end+"]":""+a.getLabelForValue(o[a.axis]);return{label:""+s.getLabelForValue(o[s.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,s,a){const o=a==="reset",{index:l,_cachedMeta:{vScale:u}}=this,f=u.getBasePixel(),h=u.isHorizontal(),p=this._getRuler(),{sharedOptions:x,includeOptions:y}=this._getSharedOptions(n,a);for(let b=n;b<n+s;b++){const w=this.getParsed(b),_=o||un(w[u.axis])?{base:f,head:f}:this._calculateBarValuePixels(b),j=this._calculateBarIndexPixels(b,p),S=(w._stacks||{})[u.axis],C={horizontal:h,base:_.base,enableBorderRadius:!S||Lg(w._custom)||l===S._top||l===S._bottom,x:h?_.head:j.center,y:h?j.center:_.head,height:h?j.size:Math.abs(_.size),width:h?Math.abs(_.size):j.size};y&&(C.options=x||this.resolveDataElementOptions(b,t[b].active?"active":a));const O=C.options||t[b].options;a5(C,O,S,l),o5(C,O,p.ratio),this.updateElement(t[b],b,C,a)}}_getStacks(t,n){const{iScale:s}=this._cachedMeta,a=s.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),o=s.options.stacked,l=[],u=this._cachedMeta.controller.getParsed(n),f=u&&u[s.axis],h=p=>{const x=p._parsed.find(b=>b[s.axis]===f),y=x&&x[p.vScale.axis];if(un(y)||isNaN(y))return!0};for(const p of a)if(!(n!==void 0&&h(p))&&((o===!1||l.indexOf(p.stack)===-1||o===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(s=>t[s].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)t[Vt(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,s){const a=this._getStacks(t,s),o=n!==void 0?a.indexOf(n):-1;return o===-1?a.length-1:o}_getRuler(){const t=this.options,n=this._cachedMeta,s=n.iScale,a=[];let o,l;for(o=0,l=n.data.length;o<l;++o)a.push(s.getPixelForValue(this.getParsed(o)[s.axis],o));const u=t.barThickness;return{min:u||J6(n),pixels:a,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:s,index:a},options:{base:o,minBarLength:l}}=this,u=o||0,f=this.getParsed(t),h=f._custom,p=Lg(h);let x=f[n.axis],y=0,b=s?this.applyStack(n,f,s):x,w,_;b!==x&&(y=b-x,b=x),p&&(x=h.barStart,b=h.barEnd-h.barStart,x!==0&&ji(x)!==ji(h.barEnd)&&(y=0),y+=x);const j=!un(o)&&!p?o:y;let S=n.getPixelForValue(j);if(this.chart.getDataVisibility(t)?w=n.getPixelForValue(y+b):w=S,_=w-S,Math.abs(_)<l){_=s5(_,n,u)*l,x===u&&(S-=_/2);const C=n.getPixelForDecimal(0),O=n.getPixelForDecimal(1),D=Math.min(C,O),k=Math.max(C,O);S=Math.max(Math.min(S,k),D),w=S+_,s&&!p&&(f._stacks[n.axis]._visualValues[a]=n.getValueForPixel(w)-n.getValueForPixel(S))}if(S===n.getPixelForValue(u)){const C=ji(_)*n.getLineWidthForValue(u)/2;S+=C,_-=C}return{size:_,base:S,head:w,center:w+_/2}}_calculateBarIndexPixels(t,n){const s=n.scale,a=this.options,o=a.skipNull,l=Vt(a.maxBarThickness,1/0);let u,f;const h=this._getAxisCount();if(n.grouped){const p=o?this._getStackCount(t):n.stackCount,x=a.barThickness==="flex"?t5(t,n,a,p*h):e5(t,n,a,p*h),y=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,b=this._getAxis().indexOf(Vt(y,this.getFirstScaleIdForIndexAxis())),w=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+b;u=x.start+x.chunk*w+x.chunk/2,f=Math.min(l,x.chunk*x.ratio)}else u=s.getPixelForValue(this.getParsed(t)[s.axis],t),f=Math.min(l,n.min*n.ratio);return{base:u-f/2,head:u+f/2,center:u,size:f}}draw(){const t=this._cachedMeta,n=t.vScale,s=t.data,a=s.length;let o=0;for(;o<a;++o)this.getParsed(o)[n.axis]!==null&&!s[o].hidden&&s[o].draw(this._ctx)}}ot(oh,"id","bar"),ot(oh,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ot(oh,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function l5(e,t,n){let s=1,a=1,o=0,l=0;if(t<Vn){const u=e,f=u+t,h=Math.cos(u),p=Math.sin(u),x=Math.cos(f),y=Math.sin(f),b=(O,D,k)=>Eh(O,u,f,!0)?1:Math.max(D,D*n,k,k*n),w=(O,D,k)=>Eh(O,u,f,!0)?-1:Math.min(D,D*n,k,k*n),_=b(0,h,x),j=b(Jn,p,y),S=w(cn,h,x),C=w(cn+Jn,p,y);s=(_-S)/2,a=(j-C)/2,o=-(_+S)/2,l=-(j+C)/2}return{ratioX:s,ratioY:a,offsetX:o,offsetY:l}}class Dl extends Vl{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const s=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=s;else{let o=f=>+s[f];if(qt(s[t])){const{key:f="value"}=this._parsing;o=h=>+To(s[h],f)}let l,u;for(l=t,u=t+n;l<u;++l)a._parsed[l]=o(l)}}_getRotation(){return Ma(this.options.rotation-90)}_getCircumference(){return Ma(this.options.circumference)}_getRotationExtents(){let t=Vn,n=-Vn;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const a=this.chart.getDatasetMeta(s).controller,o=a._getRotation(),l=a._getCircumference();t=Math.min(t,o),n=Math.max(n,o+l)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:s}=n,a=this._cachedMeta,o=a.data,l=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,u=Math.max((Math.min(s.width,s.height)-l)/2,0),f=Math.min(PL(this.options.cutout,u),1),h=this._getRingWeight(this.index),{circumference:p,rotation:x}=this._getRotationExtents(),{ratioX:y,ratioY:b,offsetX:w,offsetY:_}=l5(x,p,f),j=(s.width-l)/y,S=(s.height-l)/b,C=Math.max(Math.min(j,S)/2,0),O=w2(this.options.radius,C),D=Math.max(O*f,0),k=(O-D)/this._getVisibleDatasetWeightTotal();this.offsetX=w*O,this.offsetY=_*O,a.total=this.calculateTotal(),this.outerRadius=O-k*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-k*h,0),this.updateElements(o,0,o.length,t)}_circumference(t,n){const s=this.options,a=this._cachedMeta,o=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||a._parsed[t]===null||a.data[t].hidden?0:this.calculateCircumference(a._parsed[t]*o/Vn)}updateElements(t,n,s,a){const o=a==="reset",l=this.chart,u=l.chartArea,h=l.options.animation,p=(u.left+u.right)/2,x=(u.top+u.bottom)/2,y=o&&h.animateScale,b=y?0:this.innerRadius,w=y?0:this.outerRadius,{sharedOptions:_,includeOptions:j}=this._getSharedOptions(n,a);let S=this._getRotation(),C;for(C=0;C<n;++C)S+=this._circumference(C,o);for(C=n;C<n+s;++C){const O=this._circumference(C,o),D=t[C],k={x:p+this.offsetX,y:x+this.offsetY,startAngle:S,endAngle:S+O,circumference:O,outerRadius:w,innerRadius:b};j&&(k.options=_||this.resolveDataElementOptions(C,D.active?"active":a)),S+=O,this.updateElement(D,C,k,a)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let s=0,a;for(a=0;a<n.length;a++){const o=t._parsed[a];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(a)&&!n[a].hidden&&(s+=Math.abs(o))}return s}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?Vn*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,s=this.chart,a=s.data.labels||[],o=Wx(n._parsed[t],s.options.locale);return{label:a[t]||"",value:o}}getMaxBorderWidth(t){let n=0;const s=this.chart;let a,o,l,u,f;if(!t){for(a=0,o=s.data.datasets.length;a<o;++a)if(s.isDatasetVisible(a)){l=s.getDatasetMeta(a),t=l.data,u=l.controller;break}}if(!t)return 0;for(a=0,o=t.length;a<o;++a)f=u.resolveDataElementOptions(a),f.borderAlign!=="inner"&&(n=Math.max(n,f.borderWidth||0,f.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let s=0,a=t.length;s<a;++s){const o=this.resolveDataElementOptions(s);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let s=0;s<t;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(t){return Math.max(Vt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ot(Dl,"id","doughnut"),ot(Dl,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ot(Dl,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),ot(Dl,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:a}}=t.legend.options;return n.labels.map((o,l)=>{const f=t.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:a,lineWidth:f.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});class A0 extends Dl{}ot(A0,"id","pie"),ot(A0,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function co(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ny{constructor(t){ot(this,"options");this.options=t||{}}static override(t){Object.assign(ny.prototype,t)}init(){}formats(){return co()}parse(){return co()}format(){return co()}add(){return co()}diff(){return co()}startOf(){return co()}endOf(){return co()}}var c5={_date:ny};function u5(e,t,n,s){const{controller:a,data:o,_sorted:l}=e,u=a._cachedMeta.iScale,f=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&l&&o.length){const h=u._reversePixels?GL:C0;if(s){if(a._sharedOptions){const p=o[0],x=typeof p.getRange=="function"&&p.getRange(t);if(x){const y=h(o,t,n-x),b=h(o,t,n+x);return{lo:y.lo,hi:b.hi}}}}else{const p=h(o,t,n);if(f){const{vScale:x}=a._cachedMeta,{_parsed:y}=e,b=y.slice(0,p.lo+1).reverse().findIndex(_=>!un(_[x.axis]));p.lo-=Math.max(0,b);const w=y.slice(p.hi).findIndex(_=>!un(_[x.axis]));p.hi+=Math.max(0,w)}return p}}return{lo:0,hi:o.length-1}}function Qh(e,t,n,s,a){const o=e.getSortedVisibleDatasetMetas(),l=n[t];for(let u=0,f=o.length;u<f;++u){const{index:h,data:p}=o[u],{lo:x,hi:y}=u5(o[u],t,l,a);for(let b=x;b<=y;++b){const w=p[b];w.skip||s(w,h,b)}}}function d5(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(s,a){const o=t?Math.abs(s.x-a.x):0,l=n?Math.abs(s.y-a.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function zg(e,t,n,s,a){const o=[];return!a&&!e.isPointInArea(t)||Qh(e,n,t,function(u,f,h){!a&&!R2(u,e.chartArea,0)||u.inRange(t.x,t.y,s)&&o.push({element:u,datasetIndex:f,index:h})},!0),o}function f5(e,t,n,s){let a=[];function o(l,u,f){const{startAngle:h,endAngle:p}=l.getProps(["startAngle","endAngle"],s),{angle:x}=S2(l,{x:t.x,y:t.y});Eh(x,h,p)&&a.push({element:l,datasetIndex:u,index:f})}return Qh(e,n,t,o),a}function h5(e,t,n,s,a,o){let l=[];const u=d5(n);let f=Number.POSITIVE_INFINITY;function h(p,x,y){const b=p.inRange(t.x,t.y,a);if(s&&!b)return;const w=p.getCenterPoint(a);if(!(!!o||e.isPointInArea(w))&&!b)return;const j=u(t,w);j<f?(l=[{element:p,datasetIndex:x,index:y}],f=j):j===f&&l.push({element:p,datasetIndex:x,index:y})}return Qh(e,n,t,h),l}function Ug(e,t,n,s,a,o){return!o&&!e.isPointInArea(t)?[]:n==="r"&&!s?f5(e,t,n,a):h5(e,t,n,s,a,o)}function Zj(e,t,n,s,a){const o=[],l=n==="x"?"inXRange":"inYRange";let u=!1;return Qh(e,n,t,(f,h,p)=>{f[l]&&f[l](t[n],a)&&(o.push({element:f,datasetIndex:h,index:p}),u=u||f.inRange(t.x,t.y,a))}),s&&!u?[]:o}var m5={modes:{index(e,t,n,s){const a=fo(t,e),o=n.axis||"x",l=n.includeInvisible||!1,u=n.intersect?zg(e,a,o,s,l):Ug(e,a,o,!1,s,l),f=[];return u.length?(e.getSortedVisibleDatasetMetas().forEach(h=>{const p=u[0].index,x=h.data[p];x&&!x.skip&&f.push({element:x,datasetIndex:h.index,index:p})}),f):[]},dataset(e,t,n,s){const a=fo(t,e),o=n.axis||"xy",l=n.includeInvisible||!1;let u=n.intersect?zg(e,a,o,s,l):Ug(e,a,o,!1,s,l);if(u.length>0){const f=u[0].datasetIndex,h=e.getDatasetMeta(f).data;u=[];for(let p=0;p<h.length;++p)u.push({element:h[p],datasetIndex:f,index:p})}return u},point(e,t,n,s){const a=fo(t,e),o=n.axis||"xy",l=n.includeInvisible||!1;return zg(e,a,o,s,l)},nearest(e,t,n,s){const a=fo(t,e),o=n.axis||"xy",l=n.includeInvisible||!1;return Ug(e,a,o,n.intersect,s,l)},x(e,t,n,s){const a=fo(t,e);return Zj(e,a,"x",n.intersect,s)},y(e,t,n,s){const a=fo(t,e);return Zj(e,a,"y",n.intersect,s)}}};const $2=["left","top","right","bottom"];function du(e,t){return e.filter(n=>n.pos===t)}function Jj(e,t){return e.filter(n=>$2.indexOf(n.pos)===-1&&n.box.axis===t)}function fu(e,t){return e.sort((n,s)=>{const a=t?s:n,o=t?n:s;return a.weight===o.weight?a.index-o.index:a.weight-o.weight})}function p5(e){const t=[];let n,s,a,o,l,u;for(n=0,s=(e||[]).length;n<s;++n)a=e[n],{position:o,options:{stack:l,stackWeight:u=1}}=a,t.push({index:n,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:l&&o+l,stackWeight:u});return t}function g5(e){const t={};for(const n of e){const{stack:s,pos:a,stackWeight:o}=n;if(!s||!$2.includes(a))continue;const l=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return t}function x5(e,t){const n=g5(e),{vBoxMaxWidth:s,hBoxMaxHeight:a}=t;let o,l,u;for(o=0,l=e.length;o<l;++o){u=e[o];const{fullSize:f}=u.box,h=n[u.stack],p=h&&u.stackWeight/h.weight;u.horizontal?(u.width=p?p*s:f&&t.availableWidth,u.height=a):(u.width=s,u.height=p?p*a:f&&t.availableHeight)}return n}function y5(e){const t=p5(e),n=fu(t.filter(h=>h.box.fullSize),!0),s=fu(du(t,"left"),!0),a=fu(du(t,"right")),o=fu(du(t,"top"),!0),l=fu(du(t,"bottom")),u=Jj(t,"x"),f=Jj(t,"y");return{fullSize:n,leftAndTop:s.concat(o),rightAndBottom:a.concat(f).concat(l).concat(u),chartArea:du(t,"chartArea"),vertical:s.concat(a).concat(f),horizontal:o.concat(l).concat(u)}}function e1(e,t,n,s){return Math.max(e[n],t[n])+Math.max(e[s],t[s])}function q2(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function b5(e,t,n,s){const{pos:a,box:o}=n,l=e.maxPadding;if(!qt(a)){n.size&&(e[a]-=n.size);const x=s[n.stack]||{size:0,count:1};x.size=Math.max(x.size,n.horizontal?o.height:o.width),n.size=x.size/x.count,e[a]+=n.size}o.getPadding&&q2(l,o.getPadding());const u=Math.max(0,t.outerWidth-e1(l,e,"left","right")),f=Math.max(0,t.outerHeight-e1(l,e,"top","bottom")),h=u!==e.w,p=f!==e.h;return e.w=u,e.h=f,n.horizontal?{same:h,other:p}:{same:p,other:h}}function v5(e){const t=e.maxPadding;function n(s){const a=Math.max(t[s]-e[s],0);return e[s]+=a,a}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function w5(e,t){const n=t.maxPadding;function s(a){const o={left:0,top:0,right:0,bottom:0};return a.forEach(l=>{o[l]=Math.max(t[l],n[l])}),o}return s(e?["left","right"]:["top","bottom"])}function Su(e,t,n,s){const a=[];let o,l,u,f,h,p;for(o=0,l=e.length,h=0;o<l;++o){u=e[o],f=u.box,f.update(u.width||t.w,u.height||t.h,w5(u.horizontal,t));const{same:x,other:y}=b5(t,n,u,s);h|=x&&a.length,p=p||y,f.fullSize||a.push(u)}return h&&Su(a,t,n,s)||p}function Lf(e,t,n,s,a){e.top=n,e.left=t,e.right=t+s,e.bottom=n+a,e.width=s,e.height=a}function t1(e,t,n,s){const a=n.padding;let{x:o,y:l}=t;for(const u of e){const f=u.box,h=s[u.stack]||{placed:0,weight:1},p=u.stackWeight/h.weight||1;if(u.horizontal){const x=t.w*p,y=h.size||f.height;Vu(h.start)&&(l=h.start),f.fullSize?Lf(f,a.left,l,n.outerWidth-a.right-a.left,y):Lf(f,t.left+h.placed,l,x,y),h.start=l,h.placed+=x,l=f.bottom}else{const x=t.h*p,y=h.size||f.width;Vu(h.start)&&(o=h.start),f.fullSize?Lf(f,o,a.top,y,n.outerHeight-a.bottom-a.top):Lf(f,o,t.top+h.placed,y,x),h.start=o,h.placed+=x,o=f.right}}t.x=o,t.y=l}var gr={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,s){if(!e)return;const a=br(e.options.layout.padding),o=Math.max(t-a.width,0),l=Math.max(n-a.height,0),u=y5(e.boxes),f=u.vertical,h=u.horizontal;Zt(e.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const p=f.reduce((_,j)=>j.box.options&&j.box.options.display===!1?_:_+1,0)||1,x=Object.freeze({outerWidth:t,outerHeight:n,padding:a,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/p,hBoxMaxHeight:l/2}),y=Object.assign({},a);q2(y,br(s));const b=Object.assign({maxPadding:y,w:o,h:l,x:a.left,y:a.top},a),w=x5(f.concat(h),x);Su(u.fullSize,b,x,w),Su(f,b,x,w),Su(h,b,x,w)&&Su(f,b,x,w),v5(b),t1(u.leftAndTop,b,x,w),b.x+=b.w,b.y+=b.h,t1(u.rightAndBottom,b,x,w),e.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},Zt(u.chartArea,_=>{const j=_.box;Object.assign(j,e.chartArea),j.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class Y2{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,s){}removeEventListener(t,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,s,a){return n=Math.max(0,n||t.width),s=s||t.height,{width:n,height:Math.max(0,a?Math.floor(n/a):s)}}isAttached(t){return!0}updateConfig(t){}}class _5 extends Y2{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const lh="$chartjs",j5={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},n1=e=>e===null||e==="";function S5(e,t){const n=e.style,s=e.getAttribute("height"),a=e.getAttribute("width");if(e[lh]={initial:{height:s,width:a,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",n1(a)){const o=Vj(e,"width");o!==void 0&&(e.width=o)}if(n1(s))if(e.style.height==="")e.height=e.width/(t||2);else{const o=Vj(e,"height");o!==void 0&&(e.height=o)}return e}const I2=D6?{passive:!0}:!1;function N5(e,t,n){e&&e.addEventListener(t,n,I2)}function E5(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,I2)}function T5(e,t){const n=j5[e.type]||e.type,{x:s,y:a}=fo(e,t);return{type:n,chart:t,native:e,x:s!==void 0?s:null,y:a!==void 0?a:null}}function Ch(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function k5(e,t,n){const s=e.canvas,a=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||Ch(u.addedNodes,s),l=l&&!Ch(u.removedNodes,s);l&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}function C5(e,t,n){const s=e.canvas,a=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||Ch(u.removedNodes,s),l=l&&!Ch(u.addedNodes,s);l&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}const qu=new Map;let s1=0;function W2(){const e=window.devicePixelRatio;e!==s1&&(s1=e,qu.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function O5(e,t){qu.size||window.addEventListener("resize",W2),qu.set(e,t)}function A5(e){qu.delete(e),qu.size||window.removeEventListener("resize",W2)}function R5(e,t,n){const s=e.canvas,a=s&&ty(s);if(!a)return;const o=k2((u,f)=>{const h=a.clientWidth;n(u,f),h<a.clientWidth&&n()},window),l=new ResizeObserver(u=>{const f=u[0],h=f.contentRect.width,p=f.contentRect.height;h===0&&p===0||o(h,p)});return l.observe(a),O5(e,o),l}function Bg(e,t,n){n&&n.disconnect(),t==="resize"&&A5(e)}function D5(e,t,n){const s=e.canvas,a=k2(o=>{e.ctx!==null&&n(T5(o,e))},e);return N5(s,t,a),a}class M5 extends Y2{acquireContext(t,n){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(S5(t,n),s):null}releaseContext(t){const n=t.canvas;if(!n[lh])return!1;const s=n[lh].initial;["height","width"].forEach(o=>{const l=s[o];un(l)?n.removeAttribute(o):n.setAttribute(o,l)});const a=s.style||{};return Object.keys(a).forEach(o=>{n.style[o]=a[o]}),n.width=n.width,delete n[lh],!0}addEventListener(t,n,s){this.removeEventListener(t,n);const a=t.$proxies||(t.$proxies={}),l={attach:k5,detach:C5,resize:R5}[n]||D5;a[n]=l(t,n,s)}removeEventListener(t,n){const s=t.$proxies||(t.$proxies={}),a=s[n];if(!a)return;({attach:Bg,detach:Bg,resize:Bg}[n]||E5)(t,n,a),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,s,a){return R6(t,n,s,a)}isAttached(t){const n=t&&ty(t);return!!(n&&n.isConnected)}}function P5(e){return!ey()||typeof OffscreenCanvas!="undefined"&&e instanceof OffscreenCanvas?_5:M5}var If;let Mo=(If=class{constructor(){ot(this,"x");ot(this,"y");ot(this,"active",!1);ot(this,"options");ot(this,"$animations")}tooltipPosition(t){const{x:n,y:s}=this.getProps(["x","y"],t);return{x:n,y:s}}hasValue(){return Nh(this.x)&&Nh(this.y)}getProps(t,n){const s=this.$animations;if(!n||!s)return this;const a={};return t.forEach(o=>{a[o]=s[o]&&s[o].active()?s[o]._to:this[o]}),a}},ot(If,"defaults",{}),ot(If,"defaultRoutes"),If);function L5(e,t){const n=e.options.ticks,s=z5(e),a=Math.min(n.maxTicksLimit||s,s),o=n.major.enabled?B5(t):[],l=o.length,u=o[0],f=o[l-1],h=[];if(l>a)return F5(t,h,o,l/a),h;const p=U5(o,t,a);if(l>0){let x,y;const b=l>1?Math.round((f-u)/(l-1)):null;for(zf(t,h,p,un(b)?0:u-b,u),x=0,y=l-1;x<y;x++)zf(t,h,p,o[x],o[x+1]);return zf(t,h,p,f,un(b)?t.length:f+b),h}return zf(t,h,p),h}function z5(e){const t=e.options.offset,n=e._tickSize(),s=e._length/n+(t?0:1),a=e._maxLength/n;return Math.floor(Math.min(s,a))}function U5(e,t,n){const s=H5(e),a=t.length/n;if(!s)return Math.max(a,1);const o=VL(s);for(let l=0,u=o.length-1;l<u;l++){const f=o[l];if(f>a)return f}return Math.max(a,1)}function B5(e){const t=[];let n,s;for(n=0,s=e.length;n<s;n++)e[n].major&&t.push(n);return t}function F5(e,t,n,s){let a=0,o=n[0],l;for(s=Math.ceil(s),l=0;l<e.length;l++)l===o&&(t.push(e[l]),a++,o=n[a*s])}function zf(e,t,n,s,a){const o=Vt(s,0),l=Math.min(Vt(a,e.length),e.length);let u=0,f,h,p;for(n=Math.ceil(n),a&&(f=a-s,n=f/Math.floor(f/n)),p=o;p<0;)u++,p=Math.round(o+u*n);for(h=Math.max(o,0);h<l;h++)h===p&&(t.push(e[h]),u++,p=Math.round(o+u*n))}function H5(e){const t=e.length;let n,s;if(t<2)return!1;for(s=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==s)return!1;return s}const V5=e=>e==="left"?"right":e==="right"?"left":e,r1=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,a1=(e,t)=>Math.min(t||e,e);function i1(e,t){const n=[],s=e.length/t,a=e.length;let o=0;for(;o<a;o+=s)n.push(e[Math.floor(o)]);return n}function $5(e,t,n){const s=e.ticks.length,a=Math.min(t,s-1),o=e._startPixel,l=e._endPixel,u=1e-6;let f=e.getPixelForTick(a),h;if(!(n&&(s===1?h=Math.max(f-o,l-f):t===0?h=(e.getPixelForTick(1)-f)/2:h=(f-e.getPixelForTick(a-1))/2,f+=a<t?h:-h,f<o-u||f>l+u)))return f}function q5(e,t){Zt(e,n=>{const s=n.gc,a=s.length/2;let o;if(a>t){for(o=0;o<a;++o)delete n.data[s[o]];s.splice(0,a)}})}function hu(e){return e.drawTicks?e.tickLength:0}function o1(e,t){if(!e.display)return 0;const n=vs(e.font,t),s=br(e.padding);return(Zn(e.text)?e.text.length:1)*n.lineHeight+s.height}function Y5(e,t){return nc(e,{scale:t,type:"scale"})}function I5(e,t,n){return nc(e,{tick:n,index:t,type:"tick"})}function W5(e,t,n){let s=Ix(e);return(n&&t!=="right"||!n&&t==="right")&&(s=V5(s)),s}function X5(e,t,n,s){const{top:a,left:o,bottom:l,right:u,chart:f}=e,{chartArea:h,scales:p}=f;let x=0,y,b,w;const _=l-a,j=u-o;if(e.isHorizontal()){if(b=ys(s,o,u),qt(n)){const S=Object.keys(n)[0],C=n[S];w=p[S].getPixelForValue(C)+_-t}else n==="center"?w=(h.bottom+h.top)/2+_-t:w=r1(e,n,t);y=u-o}else{if(qt(n)){const S=Object.keys(n)[0],C=n[S];b=p[S].getPixelForValue(C)-j+t}else n==="center"?b=(h.left+h.right)/2-j+t:b=r1(e,n,t);w=ys(s,l,a),x=n==="left"?-Jn:Jn}return{titleX:b,titleY:w,maxWidth:y,rotation:x}}class sc extends Mo{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:s,_suggestedMax:a}=this;return t=Ir(t,Number.POSITIVE_INFINITY),n=Ir(n,Number.NEGATIVE_INFINITY),s=Ir(s,Number.POSITIVE_INFINITY),a=Ir(a,Number.NEGATIVE_INFINITY),{min:Ir(t,s),max:Ir(n,a),minDefined:yr(t),maxDefined:yr(n)}}getMinMax(t){let{min:n,max:s,minDefined:a,maxDefined:o}=this.getUserBounds(),l;if(a&&o)return{min:n,max:s};const u=this.getMatchingVisibleMetas();for(let f=0,h=u.length;f<h;++f)l=u[f].controller.getMinMax(this,t),a||(n=Math.min(n,l.min)),o||(s=Math.max(s,l.max));return n=o&&n>s?s:n,s=a&&n>s?n:s,{min:Ir(n,Ir(s,n)),max:Ir(s,Ir(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){mn(this.options.beforeUpdate,[this])}update(t,n,s){const{beginAtZero:a,grace:o,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=x6(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=u<this.ticks.length;this._convertTicksToLabels(f?i1(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=L5(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,t=!t),this._startPixel=n,this._endPixel=s,this._reversePixels=t,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){mn(this.options.afterUpdate,[this])}beforeSetDimensions(){mn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){mn(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),mn(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){mn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let s,a,o;for(s=0,a=t.length;s<a;s++)o=t[s],o.label=mn(n.callback,[o.value,s,t],this)}afterTickToLabelConversion(){mn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){mn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,s=a1(this.ticks.length,t.ticks.maxTicksLimit),a=n.minRotation||0,o=n.maxRotation;let l=a,u,f,h;if(!this._isVisible()||!n.display||a>=o||s<=1||!this.isHorizontal()){this.labelRotation=a;return}const p=this._getLabelSizes(),x=p.widest.width,y=p.highest.height,b=Hs(this.chart.width-x,0,this.maxWidth);u=t.offset?this.maxWidth/s:b/(s-1),x+6>u&&(u=b/(s-(t.offset?.5:1)),f=this.maxHeight-hu(t.grid)-n.padding-o1(t.title,this.chart.options.font),h=Math.sqrt(x*x+y*y),l=IL(Math.min(Math.asin(Hs((p.highest.height+6)/u,-1,1)),Math.asin(Hs(f/h,-1,1))-Math.asin(Hs(y/h,-1,1)))),l=Math.max(a,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){mn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){mn(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:s,title:a,grid:o}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const f=o1(a,n.options.font);if(u?(t.width=this.maxWidth,t.height=hu(o)+f):(t.height=this.maxHeight,t.width=hu(o)+f),s.display&&this.ticks.length){const{first:h,last:p,widest:x,highest:y}=this._getLabelSizes(),b=s.padding*2,w=Ma(this.labelRotation),_=Math.cos(w),j=Math.sin(w);if(u){const S=s.mirror?0:j*x.width+_*y.height;t.height=Math.min(this.maxHeight,t.height+S+b)}else{const S=s.mirror?0:_*x.width+j*y.height;t.width=Math.min(this.maxWidth,t.width+S+b)}this._calculatePadding(h,p,j,_)}}this._handleMargins(),u?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,s,a){const{ticks:{align:o,padding:l},position:u}=this.options,f=this.labelRotation!==0,h=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,x=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,b=0;f?h?(y=a*t.width,b=s*n.height):(y=s*t.height,b=a*n.width):o==="start"?b=n.width:o==="end"?y=t.width:o!=="inner"&&(y=t.width/2,b=n.width/2),this.paddingLeft=Math.max((y-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((b-x+l)*this.width/(this.width-x),0)}else{let p=n.height/2,x=t.height/2;o==="start"?(p=0,x=t.height):o==="end"&&(p=n.height,x=0),this.paddingTop=p+l,this.paddingBottom=x+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){mn(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,s;for(n=0,s=t.length;n<s;n++)un(t[n].label)&&(t.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=i1(s,n)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,s){const{ctx:a,_longestTextCache:o}=this,l=[],u=[],f=Math.floor(n/a1(n,s));let h=0,p=0,x,y,b,w,_,j,S,C,O,D,k;for(x=0;x<n;x+=f){if(w=t[x].label,_=this._resolveTickFontOptions(x),a.font=j=_.string,S=o[j]=o[j]||{data:{},gc:[]},C=_.lineHeight,O=D=0,!un(w)&&!Zn(w))O=Lj(a,S.data,S.gc,O,w),D=C;else if(Zn(w))for(y=0,b=w.length;y<b;++y)k=w[y],!un(k)&&!Zn(k)&&(O=Lj(a,S.data,S.gc,O,k),D+=C);l.push(O),u.push(D),h=Math.max(O,h),p=Math.max(D,p)}q5(o,n);const R=l.indexOf(h),M=u.indexOf(p),F=q=>({width:l[q]||0,height:u[q]||0});return{first:F(0),last:F(n-1),widest:F(R),highest:F(M),widths:l,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return XL(this._alignToPixels?lo(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const s=n[t];return s.$context||(s.$context=I5(this.getContext(),t,s))}return this.$context||(this.$context=Y5(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Ma(this.labelRotation),s=Math.abs(Math.cos(n)),a=Math.abs(Math.sin(n)),o=this._getLabelSizes(),l=t.autoSkipPadding||0,u=o?o.widest.width+l:0,f=o?o.highest.height+l:0;return this.isHorizontal()?f*s>u*a?u/s:f/a:f*a<u*s?f/s:u/a}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,s=this.chart,a=this.options,{grid:o,position:l,border:u}=a,f=o.offset,h=this.isHorizontal(),x=this.ticks.length+(f?1:0),y=hu(o),b=[],w=u.setContext(this.getContext()),_=w.display?w.width:0,j=_/2,S=function(B){return lo(s,B,_)};let C,O,D,k,R,M,F,q,re,G,ee,de;if(l==="top")C=S(this.bottom),M=this.bottom-y,q=C-j,G=S(t.top)+j,de=t.bottom;else if(l==="bottom")C=S(this.top),G=t.top,de=S(t.bottom)-j,M=C+j,q=this.top+y;else if(l==="left")C=S(this.right),R=this.right-y,F=C-j,re=S(t.left)+j,ee=t.right;else if(l==="right")C=S(this.left),re=t.left,ee=S(t.right)-j,R=C+j,F=this.left+y;else if(n==="x"){if(l==="center")C=S((t.top+t.bottom)/2+.5);else if(qt(l)){const B=Object.keys(l)[0],Y=l[B];C=S(this.chart.scales[B].getPixelForValue(Y))}G=t.top,de=t.bottom,M=C+j,q=M+y}else if(n==="y"){if(l==="center")C=S((t.left+t.right)/2);else if(qt(l)){const B=Object.keys(l)[0],Y=l[B];C=S(this.chart.scales[B].getPixelForValue(Y))}R=C-j,F=R-y,re=t.left,ee=t.right}const J=Vt(a.ticks.maxTicksLimit,x),K=Math.max(1,Math.ceil(x/J));for(O=0;O<x;O+=K){const B=this.getContext(O),Y=o.setContext(B),Q=u.setContext(B),ve=Y.lineWidth,H=Y.color,ae=Q.dash||[],we=Q.dashOffset,W=Y.tickWidth,me=Y.tickColor,ke=Y.tickBorderDash||[],ye=Y.tickBorderDashOffset;D=$5(this,O,f),D!==void 0&&(k=lo(s,D,ve),h?R=F=re=ee=k:M=q=G=de=k,b.push({tx1:R,ty1:M,tx2:F,ty2:q,x1:re,y1:G,x2:ee,y2:de,width:ve,color:H,borderDash:ae,borderDashOffset:we,tickWidth:W,tickColor:me,tickBorderDash:ke,tickBorderDashOffset:ye}))}return this._ticksLength=x,this._borderValue=C,b}_computeLabelItems(t){const n=this.axis,s=this.options,{position:a,ticks:o}=s,l=this.isHorizontal(),u=this.ticks,{align:f,crossAlign:h,padding:p,mirror:x}=o,y=hu(s.grid),b=y+p,w=x?-p:b,_=-Ma(this.labelRotation),j=[];let S,C,O,D,k,R,M,F,q,re,G,ee,de="middle";if(a==="top")R=this.bottom-w,M=this._getXAxisLabelAlignment();else if(a==="bottom")R=this.top+w,M=this._getXAxisLabelAlignment();else if(a==="left"){const K=this._getYAxisLabelAlignment(y);M=K.textAlign,k=K.x}else if(a==="right"){const K=this._getYAxisLabelAlignment(y);M=K.textAlign,k=K.x}else if(n==="x"){if(a==="center")R=(t.top+t.bottom)/2+b;else if(qt(a)){const K=Object.keys(a)[0],B=a[K];R=this.chart.scales[K].getPixelForValue(B)+b}M=this._getXAxisLabelAlignment()}else if(n==="y"){if(a==="center")k=(t.left+t.right)/2-b;else if(qt(a)){const K=Object.keys(a)[0],B=a[K];k=this.chart.scales[K].getPixelForValue(B)}M=this._getYAxisLabelAlignment(y).textAlign}n==="y"&&(f==="start"?de="top":f==="end"&&(de="bottom"));const J=this._getLabelSizes();for(S=0,C=u.length;S<C;++S){O=u[S],D=O.label;const K=o.setContext(this.getContext(S));F=this.getPixelForTick(S)+o.labelOffset,q=this._resolveTickFontOptions(S),re=q.lineHeight,G=Zn(D)?D.length:1;const B=G/2,Y=K.color,Q=K.textStrokeColor,ve=K.textStrokeWidth;let H=M;l?(k=F,M==="inner"&&(S===C-1?H=this.options.reverse?"left":"right":S===0?H=this.options.reverse?"right":"left":H="center"),a==="top"?h==="near"||_!==0?ee=-G*re+re/2:h==="center"?ee=-J.highest.height/2-B*re+re:ee=-J.highest.height+re/2:h==="near"||_!==0?ee=re/2:h==="center"?ee=J.highest.height/2-B*re:ee=J.highest.height-G*re,x&&(ee*=-1),_!==0&&!K.showLabelBackdrop&&(k+=re/2*Math.sin(_))):(R=F,ee=(1-G)*re/2);let ae;if(K.showLabelBackdrop){const we=br(K.backdropPadding),W=J.heights[S],me=J.widths[S];let ke=ee-we.top,ye=0-we.left;switch(de){case"middle":ke-=W/2;break;case"bottom":ke-=W;break}switch(M){case"center":ye-=me/2;break;case"right":ye-=me;break;case"inner":S===C-1?ye-=me:S>0&&(ye-=me/2);break}ae={left:ye,top:ke,width:me+we.width,height:W+we.height,color:K.backdropColor}}j.push({label:D,font:q,textOffset:ee,options:{rotation:_,color:Y,strokeColor:Q,strokeWidth:ve,textAlign:H,textBaseline:de,translation:[k,R],backdrop:ae}})}return j}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Ma(this.labelRotation))return t==="top"?"left":"right";let a="center";return n.align==="start"?a="left":n.align==="end"?a="right":n.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:s,mirror:a,padding:o}}=this.options,l=this._getLabelSizes(),u=t+o,f=l.widest.width;let h,p;return n==="left"?a?(p=this.right+o,s==="near"?h="left":s==="center"?(h="center",p+=f/2):(h="right",p+=f)):(p=this.right-u,s==="near"?h="right":s==="center"?(h="center",p-=f/2):(h="left",p=this.left)):n==="right"?a?(p=this.left+o,s==="near"?h="right":s==="center"?(h="center",p-=f/2):(h="left",p-=f)):(p=this.left+u,s==="near"?h="left":s==="center"?(h="center",p+=f/2):(h="right",p=this.right)):h="right",{textAlign:h,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:s,top:a,width:o,height:l}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(s,a,o,l),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const a=this.ticks.findIndex(o=>o.value===t);return a>=0?n.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){const n=this.options.grid,s=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,l;const u=(f,h,p)=>{!p.width||!p.color||(s.save(),s.lineWidth=p.width,s.strokeStyle=p.color,s.setLineDash(p.borderDash||[]),s.lineDashOffset=p.borderDashOffset,s.beginPath(),s.moveTo(f.x,f.y),s.lineTo(h.x,h.y),s.stroke(),s.restore())};if(n.display)for(o=0,l=a.length;o<l;++o){const f=a[o];n.drawOnChartArea&&u({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),n.drawTicks&&u({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:s,grid:a}}=this,o=s.setContext(this.getContext()),l=s.display?o.width:0;if(!l)return;const u=a.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let h,p,x,y;this.isHorizontal()?(h=lo(t,this.left,l)-l/2,p=lo(t,this.right,u)+u/2,x=y=f):(x=lo(t,this.top,l)-l/2,y=lo(t,this.bottom,u)+u/2,h=p=f),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(h,x),n.lineTo(p,y),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,a=this._computeLabelArea();a&&Xx(s,a);const o=this.getLabelItems(t);for(const l of o){const u=l.options,f=l.font,h=l.label,p=l.textOffset;$u(s,h,0,p,f,u)}a&&Gx(s)}drawTitle(){const{ctx:t,options:{position:n,title:s,reverse:a}}=this;if(!s.display)return;const o=vs(s.font),l=br(s.padding),u=s.align;let f=o.lineHeight/2;n==="bottom"||n==="center"||qt(n)?(f+=l.bottom,Zn(s.text)&&(f+=o.lineHeight*(s.text.length-1))):f+=l.top;const{titleX:h,titleY:p,maxWidth:x,rotation:y}=X5(this,f,n,u);$u(t,s.text,0,0,o,{color:s.color,maxWidth:x,rotation:y,textAlign:W5(u,n,a),textBaseline:"middle",translation:[h,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,s=Vt(t.grid&&t.grid.z,-1),a=Vt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==sc.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:s,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",a=[];let o,l;for(o=0,l=n.length;o<l;++o){const u=n[o];u[s]===this.id&&(!t||u.type===t)&&a.push(u)}return a}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return vs(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Uf{constructor(t,n,s){this.type=t,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let s;Q5(n)&&(s=this.register(n));const a=this.items,o=t.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in a||(a[o]=t,G5(t,l,s),this.override&&Mn.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const n=this.items,s=t.id,a=this.scope;s in n&&delete n[s],a&&s in Mn[a]&&(delete Mn[a][s],this.override&&delete ko[s])}}function G5(e,t,n){const s=Hu(Object.create(null),[n?Mn.get(n):{},Mn.get(t),e.defaults]);Mn.set(t,s),e.defaultRoutes&&K5(t,e.defaultRoutes),e.descriptors&&Mn.describe(t,e.descriptors)}function K5(e,t){Object.keys(t).forEach(n=>{const s=n.split("."),a=s.pop(),o=[e].concat(s).join("."),l=t[n].split("."),u=l.pop(),f=l.join(".");Mn.route(o,a,f,u)})}function Q5(e){return"id"in e&&"defaults"in e}class Z5{constructor(){this.controllers=new Uf(Vl,"datasets",!0),this.elements=new Uf(Mo,"elements"),this.plugins=new Uf(Object,"plugins"),this.scales=new Uf(sc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,s){[...n].forEach(a=>{const o=s||this._getRegistryForType(a);s||o.isForType(a)||o===this.plugins&&a.id?this._exec(t,o,a):Zt(a,l=>{const u=s||this._getRegistryForType(l);this._exec(t,u,l)})})}_exec(t,n,s){const a=qx(t);mn(s["before"+a],[],s),n[t](s),mn(s["after"+a],[],s)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(t))return s}return this.plugins}_get(t,n,s){const a=n.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return a}}var Xr=new Z5;class J5{constructor(){this._init=[]}notify(t,n,s,a){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=a?this._descriptors(t).filter(a):this._descriptors(t),l=this._notify(o,t,n,s);return n==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,n,s,a){a=a||{};for(const o of t){const l=o.plugin,u=l[s],f=[n,a,o.options];if(mn(u,f,l)===!1&&a.cancelable)return!1}return!0}invalidate(){un(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const s=t&&t.config,a=Vt(s.options&&s.options.plugins,{}),o=ez(s);return a===!1&&!n?[]:nz(t,o,a,n)}_notifyStateChanges(t){const n=this._oldCache||[],s=this._cache,a=(o,l)=>o.filter(u=>!l.some(f=>u.plugin.id===f.plugin.id));this._notify(a(n,s),t,"stop"),this._notify(a(s,n),t,"start")}}function ez(e){const t={},n=[],s=Object.keys(Xr.plugins.items);for(let o=0;o<s.length;o++)n.push(Xr.getPlugin(s[o]));const a=e.plugins||[];for(let o=0;o<a.length;o++){const l=a[o];n.indexOf(l)===-1&&(n.push(l),t[l.id]=!0)}return{plugins:n,localIds:t}}function tz(e,t){return!t&&e===!1?null:e===!0?{}:e}function nz(e,{plugins:t,localIds:n},s,a){const o=[],l=e.getContext();for(const u of t){const f=u.id,h=tz(s[f],a);h!==null&&o.push({plugin:u,options:sz(e.config,{plugin:u,local:n[f]},h,l)})}return o}function sz(e,{plugin:t,local:n},s,a){const o=e.pluginScopeKeys(t),l=e.getOptionScopes(s,o);return n&&t.defaults&&l.push(t.defaults),e.createResolver(l,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function R0(e,t){const n=Mn.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function rz(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function az(e,t){return e===t?"_index_":"_value_"}function l1(e){if(e==="x"||e==="y"||e==="r")return e}function iz(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function D0(e,...t){if(l1(e))return e;for(const n of t){const s=n.axis||iz(n.position)||e.length>1&&l1(e[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function c1(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function oz(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(s=>s.xAxisID===e||s.yAxisID===e);if(n.length)return c1(e,"x",n[0])||c1(e,"y",n[0])}return{}}function lz(e,t){const n=ko[e.type]||{scales:{}},s=t.scales||{},a=R0(e.type,t),o=Object.create(null);return Object.keys(s).forEach(l=>{const u=s[l];if(!qt(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const f=D0(l,u,oz(l,e),Mn.scales[u.type]),h=az(f,a),p=n.scales||{};o[l]=Eu(Object.create(null),[{axis:f},u,p[f],p[h]])}),e.data.datasets.forEach(l=>{const u=l.type||e.type,f=l.indexAxis||R0(u,t),p=(ko[u]||{}).scales||{};Object.keys(p).forEach(x=>{const y=rz(x,f),b=l[y+"AxisID"]||y;o[b]=o[b]||Object.create(null),Eu(o[b],[{axis:y},s[b],p[x]])})}),Object.keys(o).forEach(l=>{const u=o[l];Eu(u,[Mn.scales[u.type],Mn.scale])}),o}function X2(e){const t=e.options||(e.options={});t.plugins=Vt(t.plugins,{}),t.scales=lz(e,t)}function G2(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function cz(e){return e=e||{},e.data=G2(e.data),X2(e),e}const u1=new Map,K2=new Set;function Bf(e,t){let n=u1.get(e);return n||(n=t(),u1.set(e,n),K2.add(n)),n}const mu=(e,t,n)=>{const s=To(t,n);s!==void 0&&e.add(s)};class uz{constructor(t){this._config=cz(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=G2(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),X2(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Bf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Bf(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Bf(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,s=this.type;return Bf(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const s=this._scopeCache;let a=s.get(t);return(!a||n)&&(a=new Map,s.set(t,a)),a}getOptionScopes(t,n,s){const{options:a,type:o}=this,l=this._cachedScopes(t,s),u=l.get(n);if(u)return u;const f=new Set;n.forEach(p=>{t&&(f.add(t),p.forEach(x=>mu(f,t,x))),p.forEach(x=>mu(f,a,x)),p.forEach(x=>mu(f,ko[o]||{},x)),p.forEach(x=>mu(f,Mn,x)),p.forEach(x=>mu(f,O0,x))});const h=Array.from(f);return h.length===0&&h.push(Object.create(null)),K2.has(n)&&l.set(n,h),h}chartOptionScopes(){const{options:t,type:n}=this;return[t,ko[n]||{},Mn.datasets[n]||{},{type:n},Mn,O0]}resolveNamedOptions(t,n,s,a=[""]){const o={$shared:!0},{resolver:l,subPrefixes:u}=d1(this._resolverCache,t,a);let f=l;if(fz(l,n)){o.$shared=!1,s=ki(s)?s():s;const h=this.createResolver(t,s,u);f=Gl(l,s,h)}for(const h of n)o[h]=f[h];return o}createResolver(t,n,s=[""],a){const{resolver:o}=d1(this._resolverCache,t,s);return qt(n)?Gl(o,n,void 0,a):o}}function d1(e,t,n){let s=e.get(t);s||(s=new Map,e.set(t,s));const a=n.join();let o=s.get(a);return o||(o={resolver:Qx(t,n),subPrefixes:n.filter(u=>!u.toLowerCase().includes("hover"))},s.set(a,o)),o}const dz=e=>qt(e)&&Object.getOwnPropertyNames(e).some(t=>ki(e[t]));function fz(e,t){const{isScriptable:n,isIndexable:s}=M2(e);for(const a of t){const o=n(a),l=s(a),u=(l||o)&&e[a];if(o&&(ki(u)||dz(u))||l&&Zn(u))return!0}return!1}var hz="4.5.0";const mz=["top","bottom","left","right","chartArea"];function f1(e,t){return e==="top"||e==="bottom"||mz.indexOf(e)===-1&&t==="x"}function h1(e,t){return function(n,s){return n[e]===s[e]?n[t]-s[t]:n[e]-s[e]}}function m1(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),mn(n&&n.onComplete,[e],t)}function pz(e){const t=e.chart,n=t.options.animation;mn(n&&n.onProgress,[e],t)}function Q2(e){return ey()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const ch={},p1=e=>{const t=Q2(e);return Object.values(ch).filter(n=>n.canvas===t).pop()};function gz(e,t,n){const s=Object.keys(e);for(const a of s){const o=+a;if(o>=t){const l=e[a];delete e[a],(n>0||o>t)&&(e[o+n]=l)}}}function xz(e,t,n,s){return!n||e.type==="mouseout"?null:s?t:e}var fi;let Ju=(fi=class{static register(...t){Xr.add(...t),g1()}static unregister(...t){Xr.remove(...t),g1()}constructor(t,n){const s=this.config=new uz(n),a=Q2(t),o=p1(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||P5(a)),this.platform.updateConfig(s);const u=this.platform.acquireContext(a,l.aspectRatio),f=u&&u.canvas,h=f&&f.height,p=f&&f.width;if(this.id=ML(),this.ctx=u,this.canvas=f,this.width=p,this.height=h,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new J5,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=ZL(x=>this.update(x),l.resizeDelay||0),this._dataChanges=[],ch[this.id]=this,!u||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Ca.listen(this,"complete",m1),Ca.listen(this,"progress",pz),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:s,height:a,_aspectRatio:o}=this;return un(t)?n&&o?o:a?s/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Xr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Hj(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return zj(this.canvas,this.ctx),this}stop(){return Ca.stop(this),this}resize(t,n){Ca.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const s=this.options,a=this.canvas,o=s.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(a,t,n,o),u=s.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,Hj(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),mn(s.onResize,[this,l],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Zt(n,(s,a)=>{s.id=a})}buildOrUpdateScales(){const t=this.options,n=t.scales,s=this.scales,a=Object.keys(s).reduce((l,u)=>(l[u]=!1,l),{});let o=[];n&&(o=o.concat(Object.keys(n).map(l=>{const u=n[l],f=D0(l,u),h=f==="r",p=f==="x";return{options:u,dposition:h?"chartArea":p?"bottom":"left",dtype:h?"radialLinear":p?"category":"linear"}}))),Zt(o,l=>{const u=l.options,f=u.id,h=D0(f,u),p=Vt(u.type,l.dtype);(u.position===void 0||f1(u.position,h)!==f1(l.dposition))&&(u.position=l.dposition),a[f]=!0;let x=null;if(f in s&&s[f].type===p)x=s[f];else{const y=Xr.getScale(p);x=new y({id:f,type:p,ctx:this.ctx,chart:this}),s[x.id]=x}x.init(u,t)}),Zt(a,(l,u)=>{l||delete s[u]}),Zt(s,l=>{gr.configure(this,l,l.options),gr.addBox(this,l)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,s=t.length;if(t.sort((a,o)=>a.index-o.index),s>n){for(let a=n;a<s;++a)this._destroyDatasetMeta(a);t.splice(n,s-n)}this._sortedMetasets=t.slice(0).sort(h1("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((s,a)=>{n.filter(o=>o===s._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let s,a;for(this._removeUnreferencedMetasets(),s=0,a=n.length;s<a;s++){const o=n[s];let l=this.getDatasetMeta(s);const u=o.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(s),l=this.getDatasetMeta(s)),l.type=u,l.indexAxis=o.indexAxis||R0(u,this.options),l.order=o.order||0,l.index=s,l.label=""+o.label,l.visible=this.isDatasetVisible(s),l.controller)l.controller.updateIndex(s),l.controller.linkScales();else{const f=Xr.getController(u),{datasetElementType:h,dataElementType:p}=Mn.datasets[u];Object.assign(f,{dataElementType:Xr.getElement(p),datasetElementType:h&&Xr.getElement(h)}),l.controller=new f(this,s),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){Zt(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let h=0,p=this.data.datasets.length;h<p;h++){const{controller:x}=this.getDatasetMeta(h),y=!a&&o.indexOf(x)===-1;x.buildOrUpdateElements(y),l=Math.max(+x.getMaxOverflow(),l)}l=this._minPadding=s.layout.autoPadding?l:0,this._updateLayout(l),a||Zt(o,h=>{h.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(h1("z","_idx"));const{_active:u,_lastEvent:f}=this;f?this._eventHandler(f,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Zt(this.scales,t=>{gr.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!Tj(n,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:a,count:o}of n){const l=s==="_removeElements"?-o:o;gz(t,a,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=o=>new Set(t.filter(l=>l[0]===o).map((l,u)=>u+","+l.splice(1).join(","))),a=s(0);for(let o=1;o<n;o++)if(!Tj(a,s(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;gr.update(this,this.width,this.height,t);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],Zt(this.boxes,a=>{s&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,ki(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const s=this.getDatasetMeta(t),a={meta:s,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(s.controller._update(n),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ca.has(this)?this.attached&&!Ca.running(this)&&Ca.start(this):(this.draw(),m1({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,s=[];let a,o;for(a=0,o=n.length;a<o;++a){const l=n[a];(!t||l.visible)&&s.push(l)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,s={meta:t,index:t.index,cancelable:!0},a=z6(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(a&&Xx(n,a),t.controller.draw(),a&&Gx(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return R2(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,s,a){const o=m5.modes[n];return typeof o=="function"?o(this,t,s,a):[]}getDatasetMeta(t){const n=this.data.datasets[t],s=this._metasets;let a=s.filter(o=>o&&o._dataset===n).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},s.push(a)),a}getContext(){return this.$context||(this.$context=nc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(t,n){const s=this.getDatasetMeta(t);s.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,s){const a=s?"show":"hide",o=this.getDatasetMeta(t),l=o.controller._resolveAnimations(void 0,a);Vu(n)?(o.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),l.update(o,{visible:s}),this.update(u=>u.datasetIndex===t?a:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Ca.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),zj(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete ch[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,s=(o,l)=>{n.addEventListener(this,o,l),t[o]=l},a=(o,l,u)=>{o.offsetX=l,o.offsetY=u,this._eventHandler(o)};Zt(this.options.events,o=>s(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,s=(f,h)=>{n.addEventListener(this,f,h),t[f]=h},a=(f,h)=>{t[f]&&(n.removeEventListener(this,f,h),delete t[f])},o=(f,h)=>{this.canvas&&this.resize(f,h)};let l;const u=()=>{a("attach",u),this.attached=!0,this.resize(),s("resize",o),s("detach",l)};l=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),s("attach",u)},n.isAttached(this.canvas)?u():l()}unbindEvents(){Zt(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Zt(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,s){const a=s?"set":"remove";let o,l,u,f;for(n==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),u=0,f=t.length;u<f;++u){l=t[u];const h=l&&this.getDatasetMeta(l.datasetIndex).controller;h&&h[a+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],s=t.map(({datasetIndex:o,index:l})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[l],index:l}});!_h(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(t,n,s){return this._plugins.notify(this,t,n,s)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,s){const a=this.options.hover,o=(f,h)=>f.filter(p=>!h.some(x=>p.datasetIndex===x.datasetIndex&&p.index===x.index)),l=o(n,t),u=s?t:o(t,n);l.length&&this.updateHoverStyle(l,a.mode,!1),u.length&&a.mode&&this.updateHoverStyle(u,a.mode,!0)}_eventHandler(t,n){const s={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},a=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,a)===!1)return;const o=this._handleEvent(t,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,a),(o||s.changed)&&this.render(),this}_handleEvent(t,n,s){const{_active:a=[],options:o}=this,l=n,u=this._getActiveElements(t,a,s,l),f=FL(t),h=xz(t,this._lastEvent,s,f);s&&(this._lastEvent=null,mn(o.onHover,[t,u,this],this),f&&mn(o.onClick,[t,u,this],this));const p=!_h(u,a);return(p||n)&&(this._active=u,this._updateHoverStyles(u,a,n)),this._lastEvent=h,p}_getActiveElements(t,n,s,a){if(t.type==="mouseout")return[];if(!s)return n;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,a)}},ot(fi,"defaults",Mn),ot(fi,"instances",ch),ot(fi,"overrides",ko),ot(fi,"registry",Xr),ot(fi,"version",hz),ot(fi,"getChart",p1),fi);function g1(){return Zt(Ju.instances,e=>e._plugins.invalidate())}function yz(e,t,n){const{startAngle:s,x:a,y:o,outerRadius:l,innerRadius:u,options:f}=t,{borderWidth:h,borderJoinStyle:p}=f,x=Math.min(h/l,Gr(s-n));if(e.beginPath(),e.arc(a,o,l-h/2,s+x/2,n-x/2),u>0){const y=Math.min(h/u,Gr(s-n));e.arc(a,o,u+h/2,n-y/2,s+y/2,!0)}else{const y=Math.min(h/2,l*Gr(s-n));if(p==="round")e.arc(a,o,y,n-cn/2,s+cn/2,!0);else if(p==="bevel"){const b=2*y*y,w=-b*Math.cos(n+cn/2)+a,_=-b*Math.sin(n+cn/2)+o,j=b*Math.cos(s+cn/2)+a,S=b*Math.sin(s+cn/2)+o;e.lineTo(w,_),e.lineTo(j,S)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function bz(e,t,n){const{startAngle:s,pixelMargin:a,x:o,y:l,outerRadius:u,innerRadius:f}=t;let h=a/u;e.beginPath(),e.arc(o,l,u,s-h,n+h),f>a?(h=a/f,e.arc(o,l,f,n+h,s-h,!0)):e.arc(o,l,a,n+Jn,s-Jn),e.closePath(),e.clip()}function vz(e){return Kx(e,["outerStart","outerEnd","innerStart","innerEnd"])}function wz(e,t,n,s){const a=vz(e.options.borderRadius),o=(n-t)/2,l=Math.min(o,s*t/2),u=f=>{const h=(n-Math.min(o,f))*s/2;return Hs(f,0,Math.min(o,h))};return{outerStart:u(a.outerStart),outerEnd:u(a.outerEnd),innerStart:Hs(a.innerStart,0,l),innerEnd:Hs(a.innerEnd,0,l)}}function El(e,t,n,s){return{x:n+e*Math.cos(t),y:s+e*Math.sin(t)}}function Oh(e,t,n,s,a,o){const{x:l,y:u,startAngle:f,pixelMargin:h,innerRadius:p}=t,x=Math.max(t.outerRadius+s+n-h,0),y=p>0?p+s+n+h:0;let b=0;const w=a-f;if(s){const K=p>0?p-s:0,B=x>0?x-s:0,Y=(K+B)/2,Q=Y!==0?w*Y/(Y+s):w;b=(w-Q)/2}const _=Math.max(.001,w*x-n/cn)/x,j=(w-_)/2,S=f+j+b,C=a-j-b,{outerStart:O,outerEnd:D,innerStart:k,innerEnd:R}=wz(t,y,x,C-S),M=x-O,F=x-D,q=S+O/M,re=C-D/F,G=y+k,ee=y+R,de=S+k/G,J=C-R/ee;if(e.beginPath(),o){const K=(q+re)/2;if(e.arc(l,u,x,q,K),e.arc(l,u,x,K,re),D>0){const ve=El(F,re,l,u);e.arc(ve.x,ve.y,D,re,C+Jn)}const B=El(ee,C,l,u);if(e.lineTo(B.x,B.y),R>0){const ve=El(ee,J,l,u);e.arc(ve.x,ve.y,R,C+Jn,J+Math.PI)}const Y=(C-R/y+(S+k/y))/2;if(e.arc(l,u,y,C-R/y,Y,!0),e.arc(l,u,y,Y,S+k/y,!0),k>0){const ve=El(G,de,l,u);e.arc(ve.x,ve.y,k,de+Math.PI,S-Jn)}const Q=El(M,S,l,u);if(e.lineTo(Q.x,Q.y),O>0){const ve=El(M,q,l,u);e.arc(ve.x,ve.y,O,S-Jn,q)}}else{e.moveTo(l,u);const K=Math.cos(q)*x+l,B=Math.sin(q)*x+u;e.lineTo(K,B);const Y=Math.cos(re)*x+l,Q=Math.sin(re)*x+u;e.lineTo(Y,Q)}e.closePath()}function _z(e,t,n,s,a){const{fullCircles:o,startAngle:l,circumference:u}=t;let f=t.endAngle;if(o){Oh(e,t,n,s,f,a);for(let h=0;h<o;++h)e.fill();isNaN(u)||(f=l+(u%Vn||Vn))}return Oh(e,t,n,s,f,a),e.fill(),f}function jz(e,t,n,s,a){const{fullCircles:o,startAngle:l,circumference:u,options:f}=t,{borderWidth:h,borderJoinStyle:p,borderDash:x,borderDashOffset:y,borderRadius:b}=f,w=f.borderAlign==="inner";if(!h)return;e.setLineDash(x||[]),e.lineDashOffset=y,w?(e.lineWidth=h*2,e.lineJoin=p||"round"):(e.lineWidth=h,e.lineJoin=p||"bevel");let _=t.endAngle;if(o){Oh(e,t,n,s,_,a);for(let j=0;j<o;++j)e.stroke();isNaN(u)||(_=l+(u%Vn||Vn))}w&&bz(e,t,_),f.selfJoin&&_-l>=cn&&b===0&&p!=="miter"&&yz(e,t,_),o||(Oh(e,t,n,s,_,a),e.stroke())}class Ml extends Mo{constructor(n){super();ot(this,"circumference");ot(this,"endAngle");ot(this,"fullCircles");ot(this,"innerRadius");ot(this,"outerRadius");ot(this,"pixelMargin");ot(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,a){const o=this.getProps(["x","y"],a),{angle:l,distance:u}=S2(o,{x:n,y:s}),{startAngle:f,endAngle:h,innerRadius:p,outerRadius:x,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),b=(this.options.spacing+this.options.borderWidth)/2,w=Vt(y,h-f),_=Eh(l,f,h)&&f!==h,j=w>=Vn||_,S=bo(u,p+b,x+b);return j&&S}getCenterPoint(n){const{x:s,y:a,startAngle:o,endAngle:l,innerRadius:u,outerRadius:f}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:h,spacing:p}=this.options,x=(o+l)/2,y=(u+f+p+h)/2;return{x:s+Math.cos(x)*y,y:a+Math.sin(x)*y}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:a}=this,o=(s.offset||0)/4,l=(s.spacing||0)/2,u=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=a>Vn?Math.floor(a/Vn):0,a===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const f=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(f)*o,Math.sin(f)*o);const h=1-Math.sin(Math.min(cn,a||0)),p=o*h;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,_z(n,this,p,l,u),jz(n,this,p,l,u),n.restore()}}ot(Ml,"id","arc"),ot(Ml,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),ot(Ml,"defaultRoutes",{backgroundColor:"backgroundColor"}),ot(Ml,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function Z2(e,t){const{x:n,y:s,base:a,width:o,height:l}=e.getProps(["x","y","base","width","height"],t);let u,f,h,p,x;return e.horizontal?(x=l/2,u=Math.min(n,a),f=Math.max(n,a),h=s-x,p=s+x):(x=o/2,u=n-x,f=n+x,h=Math.min(s,a),p=Math.max(s,a)),{left:u,top:h,right:f,bottom:p}}function vi(e,t,n,s){return e?0:Hs(t,n,s)}function Sz(e,t,n){const s=e.options.borderWidth,a=e.borderSkipped,o=D2(s);return{t:vi(a.top,o.top,0,n),r:vi(a.right,o.right,0,t),b:vi(a.bottom,o.bottom,0,n),l:vi(a.left,o.left,0,t)}}function Nz(e,t,n){const{enableBorderRadius:s}=e.getProps(["enableBorderRadius"]),a=e.options.borderRadius,o=Fl(a),l=Math.min(t,n),u=e.borderSkipped,f=s||qt(a);return{topLeft:vi(!f||u.top||u.left,o.topLeft,0,l),topRight:vi(!f||u.top||u.right,o.topRight,0,l),bottomLeft:vi(!f||u.bottom||u.left,o.bottomLeft,0,l),bottomRight:vi(!f||u.bottom||u.right,o.bottomRight,0,l)}}function Ez(e){const t=Z2(e),n=t.right-t.left,s=t.bottom-t.top,a=Sz(e,n/2,s/2),o=Nz(e,n/2,s/2);return{outer:{x:t.left,y:t.top,w:n,h:s,radius:o},inner:{x:t.left+a.l,y:t.top+a.t,w:n-a.l-a.r,h:s-a.t-a.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,o.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(a.b,a.r))}}}}function Fg(e,t,n,s){const a=t===null,o=n===null,u=e&&!(a&&o)&&Z2(e,s);return u&&(a||bo(t,u.left,u.right))&&(o||bo(n,u.top,u.bottom))}function Tz(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function kz(e,t){e.rect(t.x,t.y,t.w,t.h)}function Hg(e,t,n={}){const s=e.x!==n.x?-t:0,a=e.y!==n.y?-t:0,o=(e.x+e.w!==n.x+n.w?t:0)-s,l=(e.y+e.h!==n.y+n.h?t:0)-a;return{x:e.x+s,y:e.y+a,w:e.w+o,h:e.h+l,radius:e.radius}}class uh extends Mo{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:s,backgroundColor:a}}=this,{inner:o,outer:l}=Ez(this),u=Tz(l.radius)?Th:kz;t.save(),(l.w!==o.w||l.h!==o.h)&&(t.beginPath(),u(t,Hg(l,n,o)),t.clip(),u(t,Hg(o,-n,l)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),u(t,Hg(o,n)),t.fillStyle=a,t.fill(),t.restore()}inRange(t,n,s){return Fg(this,t,n,s)}inXRange(t,n){return Fg(this,t,null,n)}inYRange(t,n){return Fg(this,null,t,n)}getCenterPoint(t){const{x:n,y:s,base:a,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(n+a)/2:n,y:o?s:(s+a)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}ot(uh,"id","bar"),ot(uh,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ot(uh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const x1=(e,t)=>{let{boxHeight:n=t,boxWidth:s=t}=e;return e.usePointStyle&&(n=Math.min(n,t),s=e.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(t,n)}},Cz=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class y1 extends Mo{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,s){this.maxWidth=t,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=mn(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(s=>t.filter(s,this.chart.data))),t.sort&&(n=n.sort((s,a)=>t.sort(s,a,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,a=vs(s.font),o=a.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:f}=x1(s,o);let h,p;n.font=a.string,this.isHorizontal()?(h=this.maxWidth,p=this._fitRows(l,o,u,f)+10):(p=this.maxHeight,h=this._fitCols(l,a,u,f)+10),this.width=Math.min(h,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,n,s,a){const{ctx:o,maxWidth:l,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],h=this.lineWidths=[0],p=a+u;let x=t;o.textAlign="left",o.textBaseline="middle";let y=-1,b=-p;return this.legendItems.forEach((w,_)=>{const j=s+n/2+o.measureText(w.text).width;(_===0||h[h.length-1]+j+2*u>l)&&(x+=p,h[h.length-(_>0?0:1)]=0,b+=p,y++),f[_]={left:0,top:b,row:y,width:j,height:a},h[h.length-1]+=j+u}),x}_fitCols(t,n,s,a){const{ctx:o,maxHeight:l,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],h=this.columnSizes=[],p=l-t;let x=u,y=0,b=0,w=0,_=0;return this.legendItems.forEach((j,S)=>{const{itemWidth:C,itemHeight:O}=Oz(s,n,o,j,a);S>0&&b+O+2*u>p&&(x+=y+u,h.push({width:y,height:b}),w+=y+u,_++,y=b=0),f[S]={left:w,top:b,col:_,width:C,height:O},y=Math.max(y,C),b+=O+u}),x+=y,h.push({width:y,height:b}),x}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:a},rtl:o}}=this,l=Hl(o,this.left,this.width);if(this.isHorizontal()){let u=0,f=ys(s,this.left+a,this.right-this.lineWidths[u]);for(const h of n)u!==h.row&&(u=h.row,f=ys(s,this.left+a,this.right-this.lineWidths[u])),h.top+=this.top+t+a,h.left=l.leftForLtr(l.x(f),h.width),f+=h.width+a}else{let u=0,f=ys(s,this.top+t+a,this.bottom-this.columnSizes[u].height);for(const h of n)h.col!==u&&(u=h.col,f=ys(s,this.top+t+a,this.bottom-this.columnSizes[u].height)),h.top=f,h.left+=this.left+a,h.left=l.leftForLtr(l.x(h.left),h.width),f+=h.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Xx(t,this),this._draw(),Gx(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:s,ctx:a}=this,{align:o,labels:l}=t,u=Mn.color,f=Hl(t.rtl,this.left,this.width),h=vs(l.font),{padding:p}=l,x=h.size,y=x/2;let b;this.drawTitle(),a.textAlign=f.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=h.string;const{boxWidth:w,boxHeight:_,itemHeight:j}=x1(l,x),S=function(R,M,F){if(isNaN(w)||w<=0||isNaN(_)||_<0)return;a.save();const q=Vt(F.lineWidth,1);if(a.fillStyle=Vt(F.fillStyle,u),a.lineCap=Vt(F.lineCap,"butt"),a.lineDashOffset=Vt(F.lineDashOffset,0),a.lineJoin=Vt(F.lineJoin,"miter"),a.lineWidth=q,a.strokeStyle=Vt(F.strokeStyle,u),a.setLineDash(Vt(F.lineDash,[])),l.usePointStyle){const re={radius:_*Math.SQRT2/2,pointStyle:F.pointStyle,rotation:F.rotation,borderWidth:q},G=f.xPlus(R,w/2),ee=M+y;A2(a,re,G,ee,l.pointStyleWidth&&w)}else{const re=M+Math.max((x-_)/2,0),G=f.leftForLtr(R,w),ee=Fl(F.borderRadius);a.beginPath(),Object.values(ee).some(de=>de!==0)?Th(a,{x:G,y:re,w,h:_,radius:ee}):a.rect(G,re,w,_),a.fill(),q!==0&&a.stroke()}a.restore()},C=function(R,M,F){$u(a,F.text,R,M+j/2,h,{strikethrough:F.hidden,textAlign:f.textAlign(F.textAlign)})},O=this.isHorizontal(),D=this._computeTitleHeight();O?b={x:ys(o,this.left+p,this.right-s[0]),y:this.top+p+D,line:0}:b={x:this.left+p,y:ys(o,this.top+D+p,this.bottom-n[0].height),line:0},U2(this.ctx,t.textDirection);const k=j+p;this.legendItems.forEach((R,M)=>{a.strokeStyle=R.fontColor,a.fillStyle=R.fontColor;const F=a.measureText(R.text).width,q=f.textAlign(R.textAlign||(R.textAlign=l.textAlign)),re=w+y+F;let G=b.x,ee=b.y;f.setWidth(this.width),O?M>0&&G+re+p>this.right&&(ee=b.y+=k,b.line++,G=b.x=ys(o,this.left+p,this.right-s[b.line])):M>0&&ee+k>this.bottom&&(G=b.x=G+n[b.line].width+p,b.line++,ee=b.y=ys(o,this.top+D+p,this.bottom-n[b.line].height));const de=f.x(G);if(S(de,ee,R),G=JL(q,G+w+y,O?G+re:this.right,t.rtl),C(f.x(G),ee,R),O)b.x+=re+p;else if(typeof R.text!="string"){const J=h.lineHeight;b.y+=J2(R,J)+p}else b.y+=k}),B2(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,s=vs(n.font),a=br(n.padding);if(!n.display)return;const o=Hl(t.rtl,this.left,this.width),l=this.ctx,u=n.position,f=s.size/2,h=a.top+f;let p,x=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),p=this.top+h,x=ys(t.align,x,this.right-y);else{const w=this.columnSizes.reduce((_,j)=>Math.max(_,j.height),0);p=h+ys(t.align,this.top,this.bottom-w-t.labels.padding-this._computeTitleHeight())}const b=ys(u,x,x+y);l.textAlign=o.textAlign(Ix(u)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=s.string,$u(l,n.text,b,p,s)}_computeTitleHeight(){const t=this.options.title,n=vs(t.font),s=br(t.padding);return t.display?n.lineHeight+s.height:0}_getLegendItemAt(t,n){let s,a,o;if(bo(t,this.left,this.right)&&bo(n,this.top,this.bottom)){for(o=this.legendHitBoxes,s=0;s<o.length;++s)if(a=o[s],bo(t,a.left,a.left+a.width)&&bo(n,a.top,a.top+a.height))return this.legendItems[s]}return null}handleEvent(t){const n=this.options;if(!Dz(t.type,n))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const a=this._hoveredItem,o=Cz(a,s);a&&!o&&mn(n.onLeave,[t,a,this],this),this._hoveredItem=s,s&&!o&&mn(n.onHover,[t,s,this],this)}else s&&mn(n.onClick,[t,s,this],this)}}function Oz(e,t,n,s,a){const o=Az(s,e,t,n),l=Rz(a,s,t.lineHeight);return{itemWidth:o,itemHeight:l}}function Az(e,t,n,s){let a=e.text;return a&&typeof a!="string"&&(a=a.reduce((o,l)=>o.length>l.length?o:l)),t+n.size/2+s.measureText(a).width}function Rz(e,t,n){let s=e;return typeof t.text!="string"&&(s=J2(t,n)),s}function J2(e,t){const n=e.text?e.text.length:0;return t*n}function Dz(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var eE={id:"legend",_element:y1,start(e,t,n){const s=e.legend=new y1({ctx:e.ctx,options:n,chart:e});gr.configure(e,s,n),gr.addBox(e,s)},stop(e){gr.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const s=e.legend;gr.configure(e,s,n),s.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const s=t.datasetIndex,a=n.chart;a.isDatasetVisible(s)?(a.hide(s),t.hidden=!0):(a.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:a,color:o,useBorderRadius:l,borderRadius:u}}=e.legend.options;return e._getSortedDatasetMetas().map(f=>{const h=f.controller.getStyle(n?0:void 0),p=br(h.borderWidth);return{text:t[f.index].label,fillStyle:h.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:h.borderColor,pointStyle:s||h.pointStyle,rotation:h.rotation,textAlign:a||h.textAlign,borderRadius:l&&(u||h.borderRadius),datasetIndex:f.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};let tE=class extends Mo{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const a=Zn(s.text)?s.text.length:1;this._padding=br(s.padding);const o=a*vs(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:s,bottom:a,right:o,options:l}=this,u=l.align;let f=0,h,p,x;return this.isHorizontal()?(p=ys(u,s,o),x=n+t,h=o-s):(l.position==="left"?(p=s+t,x=ys(u,a,n),f=cn*-.5):(p=o-t,x=ys(u,n,a),f=cn*.5),h=a-n),{titleX:p,titleY:x,maxWidth:h,rotation:f}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const s=vs(n.font),o=s.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:f,rotation:h}=this._drawArgs(o);$u(t,n.text,0,0,s,{color:n.color,maxWidth:f,rotation:h,textAlign:Ix(n.align),textBaseline:"middle",translation:[l,u]})}};function Mz(e,t){const n=new tE({ctx:e.ctx,options:t,chart:e});gr.configure(e,n,t),gr.addBox(e,n),e.titleBlock=n}var nE={id:"title",_element:tE,start(e,t,n){Mz(e,n)},stop(e){const t=e.titleBlock;gr.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const s=e.titleBlock;gr.configure(e,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Nu={average(e){if(!e.length)return!1;let t,n,s=new Set,a=0,o=0;for(t=0,n=e.length;t<n;++t){const u=e[t].element;if(u&&u.hasValue()){const f=u.tooltipPosition();s.add(f.x),a+=f.y,++o}}return o===0||s.size===0?!1:{x:[...s].reduce((u,f)=>u+f)/s.size,y:a/o}},nearest(e,t){if(!e.length)return!1;let n=t.x,s=t.y,a=Number.POSITIVE_INFINITY,o,l,u;for(o=0,l=e.length;o<l;++o){const f=e[o].element;if(f&&f.hasValue()){const h=f.getCenterPoint(),p=WL(t,h);p<a&&(a=p,u=f)}}if(u){const f=u.tooltipPosition();n=f.x,s=f.y}return{x:n,y:s}}};function Wr(e,t){return t&&(Zn(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Oa(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function Pz(e,t){const{element:n,datasetIndex:s,index:a}=t,o=e.getDatasetMeta(s).controller,{label:l,value:u}=o.getLabelAndValue(a);return{chart:e,label:l,parsed:o.getParsed(a),raw:e.data.datasets[s].data[a],formattedValue:u,dataset:o.getDataset(),dataIndex:a,datasetIndex:s,element:n}}function b1(e,t){const n=e.chart.ctx,{body:s,footer:a,title:o}=e,{boxWidth:l,boxHeight:u}=t,f=vs(t.bodyFont),h=vs(t.titleFont),p=vs(t.footerFont),x=o.length,y=a.length,b=s.length,w=br(t.padding);let _=w.height,j=0,S=s.reduce((D,k)=>D+k.before.length+k.lines.length+k.after.length,0);if(S+=e.beforeBody.length+e.afterBody.length,x&&(_+=x*h.lineHeight+(x-1)*t.titleSpacing+t.titleMarginBottom),S){const D=t.displayColors?Math.max(u,f.lineHeight):f.lineHeight;_+=b*D+(S-b)*f.lineHeight+(S-1)*t.bodySpacing}y&&(_+=t.footerMarginTop+y*p.lineHeight+(y-1)*t.footerSpacing);let C=0;const O=function(D){j=Math.max(j,n.measureText(D).width+C)};return n.save(),n.font=h.string,Zt(e.title,O),n.font=f.string,Zt(e.beforeBody.concat(e.afterBody),O),C=t.displayColors?l+2+t.boxPadding:0,Zt(s,D=>{Zt(D.before,O),Zt(D.lines,O),Zt(D.after,O)}),C=0,n.font=p.string,Zt(e.footer,O),n.restore(),j+=w.width,{width:j,height:_}}function Lz(e,t){const{y:n,height:s}=t;return n<s/2?"top":n>e.height-s/2?"bottom":"center"}function zz(e,t,n,s){const{x:a,width:o}=s,l=n.caretSize+n.caretPadding;if(e==="left"&&a+o+l>t.width||e==="right"&&a-o-l<0)return!0}function Uz(e,t,n,s){const{x:a,width:o}=n,{width:l,chartArea:{left:u,right:f}}=e;let h="center";return s==="center"?h=a<=(u+f)/2?"left":"right":a<=o/2?h="left":a>=l-o/2&&(h="right"),zz(h,e,t,n)&&(h="center"),h}function v1(e,t,n){const s=n.yAlign||t.yAlign||Lz(e,n);return{xAlign:n.xAlign||t.xAlign||Uz(e,t,n,s),yAlign:s}}function Bz(e,t){let{x:n,width:s}=e;return t==="right"?n-=s:t==="center"&&(n-=s/2),n}function Fz(e,t,n){let{y:s,height:a}=e;return t==="top"?s+=n:t==="bottom"?s-=a+n:s-=a/2,s}function w1(e,t,n,s){const{caretSize:a,caretPadding:o,cornerRadius:l}=e,{xAlign:u,yAlign:f}=n,h=a+o,{topLeft:p,topRight:x,bottomLeft:y,bottomRight:b}=Fl(l);let w=Bz(t,u);const _=Fz(t,f,h);return f==="center"?u==="left"?w+=h:u==="right"&&(w-=h):u==="left"?w-=Math.max(p,y)+a:u==="right"&&(w+=Math.max(x,b)+a),{x:Hs(w,0,s.width-t.width),y:Hs(_,0,s.height-t.height)}}function Ff(e,t,n){const s=br(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-s.right:e.x+s.left}function _1(e){return Wr([],Oa(e))}function Hz(e,t,n){return nc(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function j1(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const sE={beforeTitle:Ta,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return n[t.dataIndex]}return""},afterTitle:Ta,beforeBody:Ta,beforeLabel:Ta,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return un(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ta,afterBody:Ta,beforeFooter:Ta,footer:Ta,afterFooter:Ta};function Ls(e,t,n,s){const a=e[t].call(n,s);return typeof a=="undefined"?sE[t].call(n,s):a}class M0 extends Mo{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,s=this.options.setContext(this.getContext()),a=s.enabled&&n.options.animation&&s.animations,o=new F2(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=Hz(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:s}=n,a=Ls(s,"beforeTitle",this,t),o=Ls(s,"title",this,t),l=Ls(s,"afterTitle",this,t);let u=[];return u=Wr(u,Oa(a)),u=Wr(u,Oa(o)),u=Wr(u,Oa(l)),u}getBeforeBody(t,n){return _1(Ls(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:s}=n,a=[];return Zt(t,o=>{const l={before:[],lines:[],after:[]},u=j1(s,o);Wr(l.before,Oa(Ls(u,"beforeLabel",this,o))),Wr(l.lines,Ls(u,"label",this,o)),Wr(l.after,Oa(Ls(u,"afterLabel",this,o))),a.push(l)}),a}getAfterBody(t,n){return _1(Ls(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:s}=n,a=Ls(s,"beforeFooter",this,t),o=Ls(s,"footer",this,t),l=Ls(s,"afterFooter",this,t);let u=[];return u=Wr(u,Oa(a)),u=Wr(u,Oa(o)),u=Wr(u,Oa(l)),u}_createItems(t){const n=this._active,s=this.chart.data,a=[],o=[],l=[];let u=[],f,h;for(f=0,h=n.length;f<h;++f)u.push(Pz(this.chart,n[f]));return t.filter&&(u=u.filter((p,x,y)=>t.filter(p,x,y,s))),t.itemSort&&(u=u.sort((p,x)=>t.itemSort(p,x,s))),Zt(u,p=>{const x=j1(t.callbacks,p);a.push(Ls(x,"labelColor",this,p)),o.push(Ls(x,"labelPointStyle",this,p)),l.push(Ls(x,"labelTextColor",this,p))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=u,u}update(t,n){const s=this.options.setContext(this.getContext()),a=this._active;let o,l=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{const u=Nu[s.position].call(this,a,this._eventPosition);l=this._createItems(s),this.title=this.getTitle(l,s),this.beforeBody=this.getBeforeBody(l,s),this.body=this.getBody(l,s),this.afterBody=this.getAfterBody(l,s),this.footer=this.getFooter(l,s);const f=this._size=b1(this,s),h=Object.assign({},u,f),p=v1(this.chart,s,h),x=w1(s,h,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:x.x,y:x.y,width:f.width,height:f.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,s,a){const o=this.getCaretPosition(t,s,a);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(t,n,s){const{xAlign:a,yAlign:o}=this,{caretSize:l,cornerRadius:u}=s,{topLeft:f,topRight:h,bottomLeft:p,bottomRight:x}=Fl(u),{x:y,y:b}=t,{width:w,height:_}=n;let j,S,C,O,D,k;return o==="center"?(D=b+_/2,a==="left"?(j=y,S=j-l,O=D+l,k=D-l):(j=y+w,S=j+l,O=D-l,k=D+l),C=j):(a==="left"?S=y+Math.max(f,p)+l:a==="right"?S=y+w-Math.max(h,x)-l:S=this.caretX,o==="top"?(O=b,D=O-l,j=S-l,C=S+l):(O=b+_,D=O+l,j=S+l,C=S-l),k=O),{x1:j,x2:S,x3:C,y1:O,y2:D,y3:k}}drawTitle(t,n,s){const a=this.title,o=a.length;let l,u,f;if(o){const h=Hl(s.rtl,this.x,this.width);for(t.x=Ff(this,s.titleAlign,s),n.textAlign=h.textAlign(s.titleAlign),n.textBaseline="middle",l=vs(s.titleFont),u=s.titleSpacing,n.fillStyle=s.titleColor,n.font=l.string,f=0;f<o;++f)n.fillText(a[f],h.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+u,f+1===o&&(t.y+=s.titleMarginBottom-u)}}_drawColorBox(t,n,s,a,o){const l=this.labelColors[s],u=this.labelPointStyles[s],{boxHeight:f,boxWidth:h}=o,p=vs(o.bodyFont),x=Ff(this,"left",o),y=a.x(x),b=f<p.lineHeight?(p.lineHeight-f)/2:0,w=n.y+b;if(o.usePointStyle){const _={radius:Math.min(h,f)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},j=a.leftForLtr(y,h)+h/2,S=w+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Uj(t,_,j,S),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,Uj(t,_,j,S)}else{t.lineWidth=qt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const _=a.leftForLtr(y,h),j=a.leftForLtr(a.xPlus(y,1),h-2),S=Fl(l.borderRadius);Object.values(S).some(C=>C!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Th(t,{x:_,y:w,w:h,h:f,radius:S}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),Th(t,{x:j,y:w+1,w:h-2,h:f-2,radius:S}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(_,w,h,f),t.strokeRect(_,w,h,f),t.fillStyle=l.backgroundColor,t.fillRect(j,w+1,h-2,f-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,n,s){const{body:a}=this,{bodySpacing:o,bodyAlign:l,displayColors:u,boxHeight:f,boxWidth:h,boxPadding:p}=s,x=vs(s.bodyFont);let y=x.lineHeight,b=0;const w=Hl(s.rtl,this.x,this.width),_=function(F){n.fillText(F,w.x(t.x+b),t.y+y/2),t.y+=y+o},j=w.textAlign(l);let S,C,O,D,k,R,M;for(n.textAlign=l,n.textBaseline="middle",n.font=x.string,t.x=Ff(this,j,s),n.fillStyle=s.bodyColor,Zt(this.beforeBody,_),b=u&&j!=="right"?l==="center"?h/2+p:h+2+p:0,D=0,R=a.length;D<R;++D){for(S=a[D],C=this.labelTextColors[D],n.fillStyle=C,Zt(S.before,_),O=S.lines,u&&O.length&&(this._drawColorBox(n,t,D,w,s),y=Math.max(x.lineHeight,f)),k=0,M=O.length;k<M;++k)_(O[k]),y=x.lineHeight;Zt(S.after,_)}b=0,y=x.lineHeight,Zt(this.afterBody,_),t.y-=o}drawFooter(t,n,s){const a=this.footer,o=a.length;let l,u;if(o){const f=Hl(s.rtl,this.x,this.width);for(t.x=Ff(this,s.footerAlign,s),t.y+=s.footerMarginTop,n.textAlign=f.textAlign(s.footerAlign),n.textBaseline="middle",l=vs(s.footerFont),n.fillStyle=s.footerColor,n.font=l.string,u=0;u<o;++u)n.fillText(a[u],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+s.footerSpacing}}drawBackground(t,n,s,a){const{xAlign:o,yAlign:l}=this,{x:u,y:f}=t,{width:h,height:p}=s,{topLeft:x,topRight:y,bottomLeft:b,bottomRight:w}=Fl(a.cornerRadius);n.fillStyle=a.backgroundColor,n.strokeStyle=a.borderColor,n.lineWidth=a.borderWidth,n.beginPath(),n.moveTo(u+x,f),l==="top"&&this.drawCaret(t,n,s,a),n.lineTo(u+h-y,f),n.quadraticCurveTo(u+h,f,u+h,f+y),l==="center"&&o==="right"&&this.drawCaret(t,n,s,a),n.lineTo(u+h,f+p-w),n.quadraticCurveTo(u+h,f+p,u+h-w,f+p),l==="bottom"&&this.drawCaret(t,n,s,a),n.lineTo(u+b,f+p),n.quadraticCurveTo(u,f+p,u,f+p-b),l==="center"&&o==="left"&&this.drawCaret(t,n,s,a),n.lineTo(u,f+x),n.quadraticCurveTo(u,f,u+x,f),n.closePath(),n.fill(),a.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,s=this.$animations,a=s&&s.x,o=s&&s.y;if(a||o){const l=Nu[t.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=b1(this,t),f=Object.assign({},l,this._size),h=v1(n,t,f),p=w1(t,f,h,n);(a._to!==p.x||o._to!==p.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const a={width:this.width,height:this.height},o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const l=br(n.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&u&&(t.save(),t.globalAlpha=s,this.drawBackground(o,t,a,n),U2(t,n.textDirection),o.y+=l.top,this.drawTitle(o,t,n),this.drawBody(o,t,n),this.drawFooter(o,t,n),B2(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const s=this._active,a=t.map(({datasetIndex:u,index:f})=>{const h=this.chart.getDatasetMeta(u);if(!h)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:h.data[f],index:f}}),o=!_h(s,a),l=this._positionChanged(a,n);(o||l)&&(this._active=a,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,o=this._active||[],l=this._getActiveElements(t,o,n,s),u=this._positionChanged(l,t),f=n||!_h(l,o)||u;return f&&(this._active=l,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),f}_getActiveElements(t,n,s,a){const o=this.options;if(t.type==="mouseout")return[];if(!a)return n.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,o.mode,o,s);return o.reverse&&l.reverse(),l}_positionChanged(t,n){const{caretX:s,caretY:a,options:o}=this,l=Nu[o.position].call(this,t,n);return l!==!1&&(s!==l.x||a!==l.y)}}ot(M0,"positioners",Nu);var rE={id:"tooltip",_element:M0,positioners:Nu,afterInit(e,t,n){n&&(e.tooltip=new M0({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",xe(z({},n),{cancelable:!0}))===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:sE},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Vz=(e,t,n,s)=>(typeof t=="string"?(n=e.push(t)-1,s.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function $z(e,t,n,s){const a=e.indexOf(t);if(a===-1)return Vz(e,t,n,s);const o=e.lastIndexOf(t);return a!==o?n:a}const qz=(e,t)=>e===null?null:Hs(Math.round(e),0,t);function S1(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class P0 extends sc{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:a,label:o}of n)s[a]===o&&s.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(un(t))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===t?n:$z(s,t,Vt(n,t),this._addedLabels),qz(n,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:s,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),n||(a=this.getLabels().length-1)),this.min=s,this.max=a}buildTicks(){const t=this.min,n=this.max,s=this.options.offset,a=[];let o=this.getLabels();o=t===0&&n===o.length-1?o:o.slice(t,n+1),this._valueRange=Math.max(o.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let l=t;l<=n;l++)a.push({value:l});return a}getLabelForValue(t){return S1.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}ot(P0,"id","category"),ot(P0,"defaults",{ticks:{callback:S1}});function Yz(e,t){const n=[],{bounds:a,step:o,min:l,max:u,precision:f,count:h,maxTicks:p,maxDigits:x,includeBounds:y}=e,b=o||1,w=p-1,{min:_,max:j}=t,S=!un(l),C=!un(u),O=!un(h),D=(j-_)/(x+1);let k=Cj((j-_)/w/b)*b,R,M,F,q;if(k<1e-14&&!S&&!C)return[{value:_},{value:j}];q=Math.ceil(j/k)-Math.floor(_/k),q>w&&(k=Cj(q*k/w/b)*b),un(f)||(R=Math.pow(10,f),k=Math.ceil(k*R)/R),a==="ticks"?(M=Math.floor(_/k)*k,F=Math.ceil(j/k)*k):(M=_,F=j),S&&C&&o&&qL((u-l)/o,k/1e3)?(q=Math.round(Math.min((u-l)/k,p)),k=(u-l)/q,M=l,F=u):O?(M=S?l:M,F=C?u:F,q=h-1,k=(F-M)/q):(q=(F-M)/k,ih(q,Math.round(q),k/1e3)?q=Math.round(q):q=Math.ceil(q));const re=Math.max(Oj(k),Oj(M));R=Math.pow(10,un(f)?re:f),M=Math.round(M*R)/R,F=Math.round(F*R)/R;let G=0;for(S&&(y&&M!==l?(n.push({value:l}),M<l&&G++,ih(Math.round((M+G*k)*R)/R,l,N1(l,D,e))&&G++):M<l&&G++);G<q;++G){const ee=Math.round((M+G*k)*R)/R;if(C&&ee>u)break;n.push({value:ee})}return C&&y&&F!==u?n.length&&ih(n[n.length-1].value,u,N1(u,D,e))?n[n.length-1].value=u:n.push({value:u}):(!C||F===u)&&n.push({value:F}),n}function N1(e,t,{horizontal:n,minRotation:s}){const a=Ma(s),o=(n?Math.sin(a):Math.cos(a))||.001,l=.75*t*(""+e).length;return Math.min(t/o,l)}class Iz extends sc{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return un(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:a,max:o}=this;const l=f=>a=n?a:f,u=f=>o=s?o:f;if(t){const f=ji(a),h=ji(o);f<0&&h<0?u(0):f>0&&h>0&&l(0)}if(a===o){let f=o===0?1:Math.abs(o*.05);u(o+f),t||l(a-f)}this.min=a,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=t,a;return s?(a=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),n=n||11),n&&(a=Math.min(n,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const a={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,l=Yz(a,o);return t.bounds==="ticks"&&YL(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const a=(s-n)/Math.max(t.length-1,1)/2;n-=a,s+=a}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(t){return Wx(t,this.chart.options.locale,this.options.ticks.format)}}class L0 extends Iz{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=yr(t)?t:0,this.max=yr(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,s=Ma(this.options.ticks.minRotation),a=(t?Math.sin(s):Math.cos(s))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/a))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}ot(L0,"id","linear"),ot(L0,"defaults",{ticks:{callback:O2.formatters.numeric}});const Zh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Bs=Object.keys(Zh);function E1(e,t){return e-t}function T1(e,t){if(un(t))return null;const n=e._adapter,{parser:s,round:a,isoWeekday:o}=e._parseOpts;let l=t;return typeof s=="function"&&(l=s(l)),yr(l)||(l=typeof s=="string"?n.parse(l,s):n.parse(l)),l===null?null:(a&&(l=a==="week"&&(Nh(o)||o===!0)?n.startOf(l,"isoWeek",o):n.startOf(l,a)),+l)}function k1(e,t,n,s){const a=Bs.length;for(let o=Bs.indexOf(e);o<a-1;++o){const l=Zh[Bs[o]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-t)/(u*l.size))<=s)return Bs[o]}return Bs[a-1]}function Wz(e,t,n,s,a){for(let o=Bs.length-1;o>=Bs.indexOf(n);o--){const l=Bs[o];if(Zh[l].common&&e._adapter.diff(a,s,l)>=t-1)return l}return Bs[n?Bs.indexOf(n):0]}function Xz(e){for(let t=Bs.indexOf(e)+1,n=Bs.length;t<n;++t)if(Zh[Bs[t]].common)return Bs[t]}function C1(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:s,hi:a}=Yx(n,t),o=n[s]>=t?n[s]:n[a];e[o]=!0}}function Gz(e,t,n,s){const a=e._adapter,o=+a.startOf(t[0].value,s),l=t[t.length-1].value;let u,f;for(u=o;u<=l;u=+a.add(u,1,s))f=n[u],f>=0&&(t[f].major=!0);return t}function O1(e,t,n){const s=[],a={},o=t.length;let l,u;for(l=0;l<o;++l)u=t[l],a[u]=l,s.push({value:u,major:!1});return o===0||!n?s:Gz(e,s,a,n)}class Ah extends sc{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const s=t.time||(t.time={}),a=this._adapter=new c5._date(t.adapters.date);a.init(n),Eu(s.displayFormats,a.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:T1(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,s=t.time.unit||"day";let{min:a,max:o,minDefined:l,maxDefined:u}=this.getUserBounds();function f(h){!l&&!isNaN(h.min)&&(a=Math.min(a,h.min)),!u&&!isNaN(h.max)&&(o=Math.max(o,h.max))}(!l||!u)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),a=yr(a)&&!isNaN(a)?a:+n.startOf(Date.now(),s),o=yr(o)&&!isNaN(o)?o:+n.endOf(Date.now(),s)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],s=t[t.length-1]),{min:n,max:s}}buildTicks(){const t=this.options,n=t.time,s=t.ticks,a=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const o=this.min,l=this.max,u=KL(a,o,l);return this._unit=n.unit||(s.autoSkip?k1(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):Wz(this,u.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:Xz(this._unit),this.initOffsets(a),t.reverse&&u.reverse(),O1(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,s=0,a,o;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?n=1-a:n=(this.getDecimalForValue(t[1])-a)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?s=o:s=(o-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;n=Hs(n,0,l),s=Hs(s,0,l),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const t=this._adapter,n=this.min,s=this.max,a=this.options,o=a.time,l=o.unit||k1(o.minUnit,n,s,this._getLabelCapacity(n)),u=Vt(a.ticks.stepSize,1),f=l==="week"?o.isoWeekday:!1,h=Nh(f)||f===!0,p={};let x=n,y,b;if(h&&(x=+t.startOf(x,"isoWeek",f)),x=+t.startOf(x,h?"day":l),t.diff(s,n,l)>1e5*u)throw new Error(n+" and "+s+" are too far apart with stepSize of "+u+" "+l);const w=a.ticks.source==="data"&&this.getDataTimestamps();for(y=x,b=0;y<s;y=+t.add(y,u,l),b++)C1(p,y,w);return(y===s||a.bounds==="ticks"||b===1)&&C1(p,y,w),Object.keys(p).sort(E1).map(_=>+_)}getLabelForValue(t){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(t,s.tooltipFormat):n.format(t,s.displayFormats.datetime)}format(t,n){const a=this.options.time.displayFormats,o=this._unit,l=n||a[o];return this._adapter.format(t,l)}_tickFormatFunction(t,n,s,a){const o=this.options,l=o.ticks.callback;if(l)return mn(l,[t,n,s],this);const u=o.time.displayFormats,f=this._unit,h=this._majorUnit,p=f&&u[f],x=h&&u[h],y=s[n],b=h&&x&&y&&y.major;return this._adapter.format(t,a||(b?x:p))}generateTickLabels(t){let n,s,a;for(n=0,s=t.length;n<s;++n)a=t[n],a.label=this._tickFormatFunction(a.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,s=this.ctx.measureText(t).width,a=Ma(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(a),l=Math.sin(a),u=this._resolveTickFontOptions(0).size;return{w:s*o+u*l,h:s*l+u*o}}_getLabelCapacity(t){const n=this.options.time,s=n.displayFormats,a=s[n.unit]||s.millisecond,o=this._tickFormatFunction(t,0,O1(this,[t],this._majorUnit),a),l=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],n,s;if(t.length)return t;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(n=0,s=a.length;n<s;++n)t=t.concat(a[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,s;if(t.length)return t;const a=this.getLabels();for(n=0,s=a.length;n<s;++n)t.push(T1(this,a[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return E2(t.sort(E1))}}ot(Ah,"id","time"),ot(Ah,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Hf(e,t,n){let s=0,a=e.length-1,o,l,u,f;n?(t>=e[s].pos&&t<=e[a].pos&&({lo:s,hi:a}=C0(e,"pos",t)),{pos:o,time:u}=e[s],{pos:l,time:f}=e[a]):(t>=e[s].time&&t<=e[a].time&&({lo:s,hi:a}=C0(e,"time",t)),{time:o,pos:u}=e[s],{time:l,pos:f}=e[a]);const h=l-o;return h?u+(f-u)*(t-o)/h:u}class A1 extends Ah{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Hf(n,this.min),this._tableRange=Hf(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:s}=this,a=[],o=[];let l,u,f,h,p;for(l=0,u=t.length;l<u;++l)h=t[l],h>=n&&h<=s&&a.push(h);if(a.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(l=0,u=a.length;l<u;++l)p=a[l+1],f=a[l-1],h=a[l],Math.round((p+f)/2)!==h&&o.push({time:h,pos:l/(u-1)});return o}_generate(){const t=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((a,o)=>a-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?t=this.normalize(n.concat(s)):t=n.length?n:s,t=this._cache.all=t,t}getDecimalForValue(t){return(Hf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return Hf(this._table,s*this._tableRange+this._minPos,!0)}}ot(A1,"id","timeseries"),ot(A1,"defaults",Ah.defaults);const aE="label";function R1(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Kz(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function iE(e,t){e.labels=t}function oE(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:aE;const s=[];e.datasets=t.map(a=>{const o=e.datasets.find(l=>l[n]===a[n]);return!o||!a.data||s.includes(o)?z({},a):(s.push(o),Object.assign(o,a),o)})}function Qz(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:aE;const n={labels:[],datasets:[]};return iE(n,e.labels),oE(n,e.datasets,t),n}function Zz(e,t){const S=e,{height:n=150,width:s=300,redraw:a=!1,datasetIdKey:o,type:l,data:u,options:f,plugins:h=[],fallbackContent:p,updateMode:x}=S,y=De(S,["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"]),b=N.useRef(null),w=N.useRef(null),_=()=>{b.current&&(w.current=new Ju(b.current,{type:l,data:Qz(u,o),options:f&&z({},f),plugins:h}),R1(t,w.current))},j=()=>{R1(t,null),w.current&&(w.current.destroy(),w.current=null)};return N.useEffect(()=>{!a&&w.current&&f&&Kz(w.current,f)},[a,f]),N.useEffect(()=>{!a&&w.current&&iE(w.current.config.data,u.labels)},[a,u.labels]),N.useEffect(()=>{!a&&w.current&&u.datasets&&oE(w.current.config.data,u.datasets,o)},[a,u.datasets]),N.useEffect(()=>{w.current&&(a?(j(),setTimeout(_)):w.current.update(x))},[a,f,u.labels,u.datasets,x]),N.useEffect(()=>{w.current&&(j(),setTimeout(_))},[l]),N.useEffect(()=>(_(),()=>j()),[]),Se.createElement("canvas",z({ref:b,role:"img",height:n,width:s},y),p)}const Jz=N.forwardRef(Zz);function sy(e,t){return Ju.register(t),N.forwardRef((n,s)=>Se.createElement(Jz,xe(z({},n),{ref:s,type:e})))}const eU=sy("bar",oh),tU=sy("doughnut",Dl),nU=sy("pie",A0),z0=({status:e,type:t="status"})=>{const n="px-2 py-1 rounded-full text-xs font-medium inline-block",s=t==="status"?oL(e):lL(e);return d.jsx("span",{className:`${n} ${s}`,children:e})},lE=({className:e=""})=>d.jsx("div",{className:`inline-block animate-spin rounded-full border-4 border-gray-200 border-t-blue-600 h-6 w-6 ${e}`});Ju.register(Ml,rE,eE,nE);const sU=({projects:e})=>{const[t,n]=N.useState(""),[s,a]=N.useState(!1),l=(()=>{const p={completed:{projects:[],color:"#22c55e",label:"Hon thnh"},active:{projects:[],color:"#3b82f6",label:"ang hot ng"},overdue:{projects:[],color:"#ef4444",label:"Qu hn"},paused:{projects:[],color:"#f59e0b",label:"Tm dng"},cancelled:{projects:[],color:"#6b7280",label:" hy"}},x=new Date;return e.forEach(y=>{y.status==="Hon thnh"||y.percent_complete===100?p.completed.projects.push(y):y.status==="Hy"?p.cancelled.projects.push(y):y.status==="Tm dng"?p.paused.projects.push(y):new Date(y.expected_end_date)<x&&y.percent_complete<100?p.overdue.projects.push(y):p.active.projects.push(y)}),p})(),u={labels:Object.values(l).map(p=>`${p.label} (${p.projects.length})`),datasets:[{data:Object.values(l).map(p=>p.projects.length),backgroundColor:Object.values(l).map(p=>p.color),borderColor:Object.values(l).map(p=>p.color),borderWidth:2,hoverOffset:4}]},f={responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Phn b d n theo trng thi",font:{size:16,weight:"bold"},padding:20},legend:{display:!1},tooltip:{callbacks:{label:function(p){const x=p.dataset.data.reduce((b,w)=>b+w,0),y=(p.raw/x*100).toFixed(1);return`${p.label}: ${y}%`}}}}},h=()=>ge(null,null,function*(){a(!0),n("");try{const p=e.map(C=>({project_name:C.project_name,status:C.status,percent_complete:C.percent_complete,expected_end_date:C.expected_end_date,is_active:C.is_active,project_cost:C.estimated_costing,total_hours:C.total_hours})),b={contents:[{role:"user",parts:[{text:`Tm tt tng quan v tnh trng ca cc d n sau y, tp trung vo t l hon thnh, trng thi, v cc d n sp n hn. Hy vit mt on vn ngn gn, sc tch, v chuyn nghip bng ting Vit. D liu d n: ${JSON.stringify(p)}`}]}]},j=yield fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!j.ok){const C=yield j.json();throw new Error(`API error: ${j.status} - ${C.error.message}`)}const S=yield j.json();if(S.candidates&&S.candidates.length>0&&S.candidates[0].content&&S.candidates[0].content.parts&&S.candidates[0].content.parts.length>0){const C=S.candidates[0].content.parts[0].text;n(C)}else n("Khng th to tm tt. Cu trc phn hi API khng mong mun.")}catch(p){console.error("Li khi gi Gemini API:",p),n(` xy ra li khi to tm tt: ${p instanceof Error?p.message:"Unknown error"}. Vui lng th li.`)}finally{a(!1)}});return d.jsxs(Xl,{title:"Tng quan d n",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("button",{onClick:h,disabled:s,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300 ease-in-out flex items-center justify-center",children:s?d.jsxs(d.Fragment,{children:[d.jsx(lE,{className:"mr-2"}),"ang to tm tt..."]}):" To Tm Tt D n"}),t&&d.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-md border border-gray-200 text-gray-700",children:t})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("div",{className:"h-80 mb-4",children:d.jsx(nU,{data:u,options:f})}),d.jsx("div",{className:"space-y-2",children:Object.entries(l).map(([p,x])=>d.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-gray-50",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-4 h-4 rounded-full mr-3",style:{backgroundColor:x.color}}),d.jsx("span",{className:"text-sm font-medium text-gray-700",children:x.label})]}),d.jsx("span",{className:"text-sm font-bold text-gray-900",children:x.projects.length})]},p))})]}),d.jsx("div",{className:"space-y-6",children:Object.entries(l).map(([p,x])=>x.projects.length>0&&d.jsxs("div",{className:"border-l-4 pl-4",style:{borderLeftColor:x.color},children:[d.jsxs("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center",children:[d.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:x.color}}),x.label," (",x.projects.length,")"]}),d.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:x.projects.map(y=>d.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-md hover:bg-gray-100 transition-colors",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:y.project_name}),d.jsxs("p",{className:"text-xs text-gray-500",children:[y.percent_complete,"% hon thnh"]})]}),d.jsx(z0,{status:y.status,type:"status"})]},y.name))})]},p))})]})]})},D1=({value:e,label:t,className:n=""})=>d.jsxs("div",{className:`text-center ${n}`,children:[d.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-1",children:e}),d.jsx("div",{className:"text-sm text-gray-500",children:t})]});Ju.register(P0,L0,uh,Ml,nE,rE,eE);const rU=({projects:e,phases:t,tasks:n})=>{const[s,a]=N.useState(new Set(e.map(k=>k.name))),[o,l]=N.useState(new Set),u=n.filter(k=>k.status==="Working").length,f=n.filter(k=>k.status==="Completed").length,h=k=>{const R=new Set(s);R.has(k)?R.delete(k):R.add(k),a(R)},p=k=>{const R=new Set(o);R.has(k)?R.delete(k):R.add(k),l(R)},x=n.reduce((k,R)=>(k[R.status]=(k[R.status]||0)+1,k),{}),y={labels:Object.keys(x),datasets:[{label:"S lng nhim v",data:Object.values(x),backgroundColor:["#3498db","#2ecc71","#e74c3c","#f1c40f"],borderColor:["#2980b9","#27ae60","#c0392b","#f39c12"],borderWidth:1}]},b=n.reduce((k,R)=>(k[R.priority]=(k[R.priority]||0)+1,k),{}),w={labels:Object.keys(b),datasets:[{data:Object.values(b),backgroundColor:["#1976d2","#ef6c00","#d84315","#b71c1c"],hoverOffset:4}]},_={responsive:!0,plugins:{legend:{position:"bottom"}},scales:{y:{beginAtZero:!0,ticks:{precision:0}}}},j={responsive:!0,plugins:{title:{display:!0,text:" u tin nhim v",font:{size:16}},legend:{position:"bottom"}}},S=k=>{const R=t.find(F=>F.name===k);if(!R||!R.tasks)return[];const M=R.tasks.map(F=>F.task);return n.filter(F=>M.includes(F.name))},C=k=>t.filter(R=>R.project===k),O=(k,R=1)=>{const M=R>0?`pl-${R*6}`:"";return d.jsxs("div",{className:`flex items-center py-2 ${M} border-b border-gray-100 last:border-b-0`,children:[d.jsxs("div",{className:"flex-grow flex items-center",children:[d.jsx("span",{className:"mr-2 text-blue-600",children:""}),d.jsx("span",{className:"font-medium text-gray-800",children:k.subject})]}),d.jsx("div",{className:"w-32 text-sm text-gray-600",children:k.assigned_to||"Cha giao"}),d.jsx("div",{className:"w-32 text-center",children:d.jsx(z0,{status:k.status,type:"status"})}),d.jsx("div",{className:"w-24 text-center",children:d.jsx(z0,{status:k.priority,type:"priority"})}),d.jsxs("div",{className:"w-20 text-right text-sm text-gray-600",children:[k.progress,"%"]})]},k.name)},D=(k,R)=>{const M=`${R}-${k.name}`,F=o.has(M),q=S(k.name);return d.jsxs("div",{className:"ml-4",children:[d.jsxs("div",{className:"bg-green-500 text-white p-2 rounded-t-lg font-medium text-md cursor-pointer hover:bg-green-600 flex items-center justify-between",onClick:()=>p(M),children:[d.jsxs("span",{children:["Giai on: ",k.phase_name," (",k.status,")"]}),d.jsx("span",{className:"text-lg",children:F?"":""})]}),F&&d.jsx("div",{className:"bg-white border-l-2 border-r-2 border-b-2 border-gray-200 p-3",children:q.length>0?q.map(re=>O(re)):d.jsx("div",{className:"text-gray-500 text-center py-2 text-sm",children:"Cha c nhim v no cho giai on ny."})})]},k.name)};return d.jsxs(Xl,{title:"Qun l nhim v",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[d.jsx(D1,{value:u,label:"Tng nhim v ang thc hin"}),d.jsx(D1,{value:f,label:"Tng nhim v  hon thnh"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Trng thi nhim v"}),d.jsx(eU,{data:y,options:_})]}),d.jsx("div",{children:d.jsx(tU,{data:w,options:j})})]}),d.jsx("h3",{className:"text-xl font-semibold mt-8 mb-4 text-gray-700",children:"Danh sch nhim v"}),d.jsx("div",{className:"space-y-4",children:e.map(k=>{const R=C(k.name),M=s.has(k.name);return d.jsxs("div",{children:[d.jsxs("div",{className:"bg-blue-500 text-white p-3 rounded-t-lg font-semibold text-lg cursor-pointer hover:bg-blue-600 flex items-center justify-between",onClick:()=>h(k.name),children:[d.jsxs("span",{children:["D n: ",k.project_name," (",k.status,")"]}),d.jsx("span",{className:"text-xl",children:M?"":""})]}),M&&d.jsx("div",{className:"bg-white rounded-b-lg border border-gray-200 p-4",children:R.length>0?R.map(F=>D(F,k.name)):d.jsx("div",{className:"text-gray-500 text-center py-4",children:"Cha c giai on no cho d n ny."})})]},k.name)})})]})},aU=()=>{const{allProjects:e,filteredData:t,selectedProject:n,selectedDepartment:s,selectedTeam:a,setSelectedProject:o,setSelectedDepartment:l,setSelectedTeam:u,isLoading:f}=rL();return f?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsxs("div",{className:"text-center",children:[d.jsx(lE,{className:"h-12 w-12 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"ang ti d liu..."})]})}):(console.log("Testing"),d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-8 text-center",children:"Bng iu khin qun l d n"}),d.jsx(aL,{projects:e,selectedProject:n,selectedDepartment:s,selectedTeam:a,onProjectChange:o,onDepartmentChange:l,onTeamChange:u}),d.jsx(cL,{projects:t.filteredProjects}),d.jsx(sU,{projects:t.filteredProjects}),d.jsx(uL,{projects:t.filteredProjects}),d.jsx(dL,{projects:t.filteredProjects,tasks:t.filteredTasks}),d.jsx(rU,{projects:t.filteredProjects,phases:t.filteredPhases,tasks:t.filteredTasks})]})}))},mo=e=>e==null?"N/A":new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0}).format(e);var ed=e=>e.type==="checkbox",vo=e=>e instanceof Date,js=e=>e==null;const cE=e=>typeof e=="object";var Pn=e=>!js(e)&&!Array.isArray(e)&&cE(e)&&!vo(e),uE=e=>Pn(e)&&e.target?ed(e.target)?e.target.checked:e.target.value:e,iU=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,dE=(e,t)=>e.has(iU(t)),oU=e=>{const t=e.constructor&&e.constructor.prototype;return Pn(t)&&t.hasOwnProperty("isPrototypeOf")},ry=typeof window!="undefined"&&typeof window.HTMLElement!="undefined"&&typeof document!="undefined";function Kn(e){let t;const n=Array.isArray(e),s=typeof FileList!="undefined"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(ry&&(e instanceof Blob||s))&&(n||Pn(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!oU(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Kn(e[a]));else return e;return t}var Jh=e=>/^\w*$/.test(e),Dn=e=>e===void 0,ay=e=>Array.isArray(e)?e.filter(Boolean):[],iy=e=>ay(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Fe=(e,t,n)=>{if(!t||!Pn(e))return n;const s=(Jh(t)?[t]:iy(t)).reduce((a,o)=>js(a)?a:a[o],e);return Dn(s)||s===e?Dn(e[t])?n:e[t]:s},Qs=e=>typeof e=="boolean",hn=(e,t,n)=>{let s=-1;const a=Jh(t)?[t]:iy(t),o=a.length,l=o-1;for(;++s<o;){const u=a[s];let f=n;if(s!==l){const h=e[u];f=Pn(h)||Array.isArray(h)?h:isNaN(+a[s+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;e[u]=f,e=e[u]}};const Rh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Rr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ka={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},fE=Se.createContext(null);fE.displayName="HookFormContext";const oy=()=>Se.useContext(fE);var hE=(e,t,n,s=!0)=>{const a={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(a,o,{get:()=>{const l=o;return t._proxyFormState[l]!==Rr.all&&(t._proxyFormState[l]=!s||Rr.all),n&&(n[l]=!0),e[l]}});return a};const ly=typeof window!="undefined"?Se.useLayoutEffect:Se.useEffect;function lU(e){const t=oy(),{control:n=t.control,disabled:s,name:a,exact:o}=e||{},[l,u]=Se.useState(n._formState),f=Se.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return ly(()=>n._subscribe({name:a,formState:f.current,exact:o,callback:h=>{!s&&u(z(z({},n._formState),h))}}),[a,s,o]),Se.useEffect(()=>{f.current.isValid&&n._setValid(!0)},[n]),Se.useMemo(()=>hE(l,n,f.current,!1),[l,n])}var Zr=e=>typeof e=="string",mE=(e,t,n,s,a)=>Zr(e)?(s&&t.watch.add(e),Fe(n,e,a)):Array.isArray(e)?e.map(o=>(s&&t.watch.add(o),Fe(n,o))):(s&&(t.watchAll=!0),n),U0=e=>js(e)||!cE(e);function Da(e,t,n=new WeakSet){if(U0(e)||U0(t))return e===t;if(vo(e)&&vo(t))return e.getTime()===t.getTime();const s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const o of s){const l=e[o];if(!a.includes(o))return!1;if(o!=="ref"){const u=t[o];if(vo(l)&&vo(u)||Pn(l)&&Pn(u)||Array.isArray(l)&&Array.isArray(u)?!Da(l,u,n):l!==u)return!1}}return!0}function cU(e){const t=oy(),{control:n=t.control,name:s,defaultValue:a,disabled:o,exact:l,compute:u}=e||{},f=Se.useRef(a),h=Se.useRef(u),p=Se.useRef(void 0);h.current=u;const x=Se.useMemo(()=>n._getWatch(s,f.current),[n,s]),[y,b]=Se.useState(h.current?h.current(x):x);return ly(()=>n._subscribe({name:s,formState:{values:!0},exact:l,callback:w=>{if(!o){const _=mE(s,n._names,w.values||n._formValues,!1,f.current);if(h.current){const j=h.current(_);Da(j,p.current)||(b(j),p.current=j)}else b(_)}}}),[n,o,s,l]),Se.useEffect(()=>n._removeUnmounted()),y}function uU(e){const t=oy(),{name:n,disabled:s,control:a=t.control,shouldUnregister:o,defaultValue:l}=e,u=dE(a._names.array,n),f=Se.useMemo(()=>Fe(a._formValues,n,Fe(a._defaultValues,n,l)),[a,n,l]),h=cU({control:a,name:n,defaultValue:f,exact:!0}),p=lU({control:a,name:n,exact:!0}),x=Se.useRef(e),y=Se.useRef(a.register(n,z(xe(z({},e.rules),{value:h}),Qs(e.disabled)?{disabled:e.disabled}:{})));x.current=e;const b=Se.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Fe(p.errors,n)},isDirty:{enumerable:!0,get:()=>!!Fe(p.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Fe(p.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Fe(p.validatingFields,n)},error:{enumerable:!0,get:()=>Fe(p.errors,n)}}),[p,n]),w=Se.useCallback(C=>y.current.onChange({target:{value:uE(C),name:n},type:Rh.CHANGE}),[n]),_=Se.useCallback(()=>y.current.onBlur({target:{value:Fe(a._formValues,n),name:n},type:Rh.BLUR}),[n,a._formValues]),j=Se.useCallback(C=>{const O=Fe(a._fields,n);O&&C&&(O._f.ref={focus:()=>C.focus&&C.focus(),select:()=>C.select&&C.select(),setCustomValidity:D=>C.setCustomValidity(D),reportValidity:()=>C.reportValidity()})},[a._fields,n]),S=Se.useMemo(()=>xe(z({name:n,value:h},Qs(s)||p.disabled?{disabled:p.disabled||s}:{}),{onChange:w,onBlur:_,ref:j}),[n,s,p.disabled,w,_,j,h]);return Se.useEffect(()=>{const C=a._options.shouldUnregister||o;a.register(n,z(z({},x.current.rules),Qs(x.current.disabled)?{disabled:x.current.disabled}:{}));const O=(D,k)=>{const R=Fe(a._fields,D);R&&R._f&&(R._f.mount=k)};if(O(n,!0),C){const D=Kn(Fe(a._options.defaultValues,n));hn(a._defaultValues,n,D),Dn(Fe(a._formValues,n))&&hn(a._formValues,n,D)}return!u&&a.register(n),()=>{(u?C&&!a._state.action:C)?a.unregister(n):O(n,!1)}},[n,a,u,o]),Se.useEffect(()=>{a._setDisabledField({disabled:s,name:n})},[s,n,a]),Se.useMemo(()=>({field:S,formState:p,fieldState:b}),[S,p,b])}const pi=e=>e.render(uU(e));var dU=(e,t,n,s,a)=>t?xe(z({},n[e]),{types:xe(z({},n[e]&&n[e].types?n[e].types:{}),{[s]:a||!0})}):{},Cu=e=>Array.isArray(e)?e:[e],M1=()=>{let e=[];return{get observers(){return e},next:a=>{for(const o of e)o.next&&o.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(o=>o!==a)}}),unsubscribe:()=>{e=[]}}},zs=e=>Pn(e)&&!Object.keys(e).length,cy=e=>e.type==="file",Dr=e=>typeof e=="function",Dh=e=>{if(!ry)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},pE=e=>e.type==="select-multiple",uy=e=>e.type==="radio",fU=e=>uy(e)||ed(e),Vg=e=>Dh(e)&&e.isConnected;function hU(e,t){const n=t.slice(0,-1).length;let s=0;for(;s<n;)e=Dn(e)?s++:e[t[s++]];return e}function mU(e){for(const t in e)if(e.hasOwnProperty(t)&&!Dn(e[t]))return!1;return!0}function Bn(e,t){const n=Array.isArray(t)?t:Jh(t)?[t]:iy(t),s=n.length===1?e:hU(e,n),a=n.length-1,o=n[a];return s&&delete s[o],a!==0&&(Pn(s)&&zs(s)||Array.isArray(s)&&mU(s))&&Bn(e,n.slice(0,-1)),e}var gE=e=>{for(const t in e)if(Dr(e[t]))return!0;return!1};function Mh(e,t={}){const n=Array.isArray(e);if(Pn(e)||n)for(const s in e)Array.isArray(e[s])||Pn(e[s])&&!gE(e[s])?(t[s]=Array.isArray(e[s])?[]:{},Mh(e[s],t[s])):js(e[s])||(t[s]=!0);return t}function xE(e,t,n){const s=Array.isArray(e);if(Pn(e)||s)for(const a in e)Array.isArray(e[a])||Pn(e[a])&&!gE(e[a])?Dn(t)||U0(n[a])?n[a]=Array.isArray(e[a])?Mh(e[a],[]):z({},Mh(e[a])):xE(e[a],js(t)?{}:t[a],n[a]):n[a]=!Da(e[a],t[a]);return n}var pu=(e,t)=>xE(e,t,Mh(t));const P1={value:!1,isValid:!1},L1={value:!0,isValid:!0};var yE=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Dn(e[0].attributes.value)?Dn(e[0].value)||e[0].value===""?L1:{value:e[0].value,isValid:!0}:L1:P1}return P1},bE=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:s})=>Dn(e)?e:t?e===""?NaN:e&&+e:n&&Zr(e)?new Date(e):s?s(e):e;const z1={isValid:!1,value:null};var vE=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,z1):z1;function U1(e){const t=e.ref;return cy(t)?t.files:uy(t)?vE(e.refs).value:pE(t)?[...t.selectedOptions].map(({value:n})=>n):ed(t)?yE(e.refs).value:bE(Dn(t.value)?e.ref.value:t.value,e)}var pU=(e,t,n,s)=>{const a={};for(const o of e){const l=Fe(t,o);l&&hn(a,o,l._f)}return{criteriaMode:n,names:[...e],fields:a,shouldUseNativeValidation:s}},Ph=e=>e instanceof RegExp,gu=e=>Dn(e)?e:Ph(e)?e.source:Pn(e)?Ph(e.value)?e.value.source:e.value:e,B1=e=>({isOnSubmit:!e||e===Rr.onSubmit,isOnBlur:e===Rr.onBlur,isOnChange:e===Rr.onChange,isOnAll:e===Rr.all,isOnTouch:e===Rr.onTouched});const F1="AsyncFunction";var gU=e=>!!e&&!!e.validate&&!!(Dr(e.validate)&&e.validate.constructor.name===F1||Pn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===F1)),xU=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),H1=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const Ou=(e,t,n,s)=>{for(const o of n||Object.keys(e)){const l=Fe(e,o);if(l){const a=l,{_f:u}=a,f=De(a,["_f"]);if(u){if(u.refs&&u.refs[0]&&t(u.refs[0],o)&&!s)return!0;if(u.ref&&t(u.ref,u.name)&&!s)return!0;if(Ou(f,t))break}else if(Pn(f)&&Ou(f,t))break}}};function V1(e,t,n){const s=Fe(e,n);if(s||Jh(n))return{error:s,name:n};const a=n.split(".");for(;a.length;){const o=a.join("."),l=Fe(t,o),u=Fe(e,o);if(l&&!Array.isArray(l)&&n!==o)return{name:n};if(u&&u.type)return{name:o,error:u};if(u&&u.root&&u.root.type)return{name:`${o}.root`,error:u.root};a.pop()}return{name:n}}var yU=(e,t,n,s)=>{n(e);const l=e,{name:a}=l,o=De(l,["name"]);return zs(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(u=>t[u]===(!s||Rr.all))},bU=(e,t,n)=>!e||!t||e===t||Cu(e).some(s=>s&&(n?s===t:s.startsWith(t)||t.startsWith(s))),vU=(e,t,n,s,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(t||e):(n?s.isOnBlur:a.isOnBlur)?!e:(n?s.isOnChange:a.isOnChange)?e:!0,wU=(e,t)=>!ay(Fe(e,t)).length&&Bn(e,t),_U=(e,t,n)=>{const s=Cu(Fe(e,n));return hn(s,"root",t[n]),hn(e,n,s),e},dh=e=>Zr(e);function $1(e,t,n="validate"){if(dh(e)||Array.isArray(e)&&e.every(dh)||Qs(e)&&!e)return{type:n,message:dh(e)?e:"",ref:t}}var Tl=e=>Pn(e)&&!Ph(e)?e:{value:e,message:""},q1=(e,t,n,s,a,o)=>ge(null,null,function*(){const{ref:l,refs:u,required:f,maxLength:h,minLength:p,min:x,max:y,pattern:b,validate:w,name:_,valueAsNumber:j,mount:S}=e._f,C=Fe(n,_);if(!S||t.has(_))return{};const O=u?u[0]:l,D=ee=>{a&&O.reportValidity&&(O.setCustomValidity(Qs(ee)?"":ee||""),O.reportValidity())},k={},R=uy(l),M=ed(l),F=R||M,q=(j||cy(l))&&Dn(l.value)&&Dn(C)||Dh(l)&&l.value===""||C===""||Array.isArray(C)&&!C.length,re=dU.bind(null,_,s,k),G=(ee,de,J,K=ka.maxLength,B=ka.minLength)=>{const Y=ee?de:J;k[_]=z({type:ee?K:B,message:Y,ref:l},re(ee?K:B,Y))};if(o?!Array.isArray(C)||!C.length:f&&(!F&&(q||js(C))||Qs(C)&&!C||M&&!yE(u).isValid||R&&!vE(u).isValid)){const{value:ee,message:de}=dh(f)?{value:!!f,message:f}:Tl(f);if(ee&&(k[_]=z({type:ka.required,message:de,ref:O},re(ka.required,de)),!s))return D(de),k}if(!q&&(!js(x)||!js(y))){let ee,de;const J=Tl(y),K=Tl(x);if(!js(C)&&!isNaN(C)){const B=l.valueAsNumber||C&&+C;js(J.value)||(ee=B>J.value),js(K.value)||(de=B<K.value)}else{const B=l.valueAsDate||new Date(C),Y=H=>new Date(new Date().toDateString()+" "+H),Q=l.type=="time",ve=l.type=="week";Zr(J.value)&&C&&(ee=Q?Y(C)>Y(J.value):ve?C>J.value:B>new Date(J.value)),Zr(K.value)&&C&&(de=Q?Y(C)<Y(K.value):ve?C<K.value:B<new Date(K.value))}if((ee||de)&&(G(!!ee,J.message,K.message,ka.max,ka.min),!s))return D(k[_].message),k}if((h||p)&&!q&&(Zr(C)||o&&Array.isArray(C))){const ee=Tl(h),de=Tl(p),J=!js(ee.value)&&C.length>+ee.value,K=!js(de.value)&&C.length<+de.value;if((J||K)&&(G(J,ee.message,de.message),!s))return D(k[_].message),k}if(b&&!q&&Zr(C)){const{value:ee,message:de}=Tl(b);if(Ph(ee)&&!C.match(ee)&&(k[_]=z({type:ka.pattern,message:de,ref:l},re(ka.pattern,de)),!s))return D(de),k}if(w){if(Dr(w)){const ee=yield w(C,n),de=$1(ee,O);if(de&&(k[_]=z(z({},de),re(ka.validate,de.message)),!s))return D(de.message),k}else if(Pn(w)){let ee={};for(const de in w){if(!zs(ee)&&!s)break;const J=$1(yield w[de](C,n),O,de);J&&(ee=z(z({},J),re(de,J.message)),D(J.message),s&&(k[_]=ee))}if(!zs(ee)&&(k[_]=z({ref:O},ee),!s))return k}}return D(!0),k});const jU={mode:Rr.onSubmit,reValidateMode:Rr.onChange,shouldFocusError:!0};function SU(e={}){let t=z(z({},jU),e),n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Dr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},a=Pn(t.defaultValues)||Pn(t.values)?Kn(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:Kn(a),l={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,h=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x=z({},p);const y={array:M1(),state:M1()},b=t.criteriaMode===Rr.all,w=$=>oe=>{clearTimeout(h),h=setTimeout($,oe)},_=$=>ge(null,null,function*(){if(!t.disabled&&(p.isValid||x.isValid||$)){const oe=t.resolver?zs((yield M()).errors):yield q(s,!0);oe!==n.isValid&&y.state.next({isValid:oe})}}),j=($,oe)=>{!t.disabled&&(p.isValidating||p.validatingFields||x.isValidating||x.validatingFields)&&(($||Array.from(u.mount)).forEach(V=>{V&&(oe?hn(n.validatingFields,V,oe):Bn(n.validatingFields,V))}),y.state.next({validatingFields:n.validatingFields,isValidating:!zs(n.validatingFields)}))},S=($,oe=[],V,je,Re=!0,Oe=!0)=>{if(je&&V&&!t.disabled){if(l.action=!0,Oe&&Array.isArray(Fe(s,$))){const Ue=V(Fe(s,$),je.argA,je.argB);Re&&hn(s,$,Ue)}if(Oe&&Array.isArray(Fe(n.errors,$))){const Ue=V(Fe(n.errors,$),je.argA,je.argB);Re&&hn(n.errors,$,Ue),wU(n.errors,$)}if((p.touchedFields||x.touchedFields)&&Oe&&Array.isArray(Fe(n.touchedFields,$))){const Ue=V(Fe(n.touchedFields,$),je.argA,je.argB);Re&&hn(n.touchedFields,$,Ue)}(p.dirtyFields||x.dirtyFields)&&(n.dirtyFields=pu(a,o)),y.state.next({name:$,isDirty:G($,oe),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else hn(o,$,oe)},C=($,oe)=>{hn(n.errors,$,oe),y.state.next({errors:n.errors})},O=$=>{n.errors=$,y.state.next({errors:n.errors,isValid:!1})},D=($,oe,V,je)=>{const Re=Fe(s,$);if(Re){const Oe=Fe(o,$,Dn(V)?Fe(a,$):V);Dn(Oe)||je&&je.defaultChecked||oe?hn(o,$,oe?Oe:U1(Re._f)):J($,Oe),l.mount&&_()}},k=($,oe,V,je,Re)=>{let Oe=!1,Ue=!1;const $e={name:$};if(!t.disabled){if(!V||je){(p.isDirty||x.isDirty)&&(Ue=n.isDirty,n.isDirty=$e.isDirty=G(),Oe=Ue!==$e.isDirty);const Ke=Da(Fe(a,$),oe);Ue=!!Fe(n.dirtyFields,$),Ke?Bn(n.dirtyFields,$):hn(n.dirtyFields,$,!0),$e.dirtyFields=n.dirtyFields,Oe=Oe||(p.dirtyFields||x.dirtyFields)&&Ue!==!Ke}if(V){const Ke=Fe(n.touchedFields,$);Ke||(hn(n.touchedFields,$,V),$e.touchedFields=n.touchedFields,Oe=Oe||(p.touchedFields||x.touchedFields)&&Ke!==V)}Oe&&Re&&y.state.next($e)}return Oe?$e:{}},R=($,oe,V,je)=>{const Re=Fe(n.errors,$),Oe=(p.isValid||x.isValid)&&Qs(oe)&&n.isValid!==oe;if(t.delayError&&V?(f=w(()=>C($,V)),f(t.delayError)):(clearTimeout(h),f=null,V?hn(n.errors,$,V):Bn(n.errors,$)),(V?!Da(Re,V):Re)||!zs(je)||Oe){const Ue=xe(z(z({},je),Oe&&Qs(oe)?{isValid:oe}:{}),{errors:n.errors,name:$});n=z(z({},n),Ue),y.state.next(Ue)}},M=$=>ge(null,null,function*(){j($,!0);const oe=yield t.resolver(o,t.context,pU($||u.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return j($),oe}),F=$=>ge(null,null,function*(){const{errors:oe}=yield M($);if($)for(const V of $){const je=Fe(oe,V);je?hn(n.errors,V,je):Bn(n.errors,V)}else n.errors=oe;return oe}),q=(je,Re,...Oe)=>ge(null,[je,Re,...Oe],function*($,oe,V={valid:!0}){for(const $e in $){const Ke=$[$e];if(Ke){const Ue=Ke,{_f:bt}=Ue,es=De(Ue,["_f"]);if(bt){const Te=u.array.has(bt.name),Be=Ke._f&&gU(Ke._f);Be&&p.validatingFields&&j([$e],!0);const _t=yield q1(Ke,u.disabled,o,b,t.shouldUseNativeValidation&&!oe,Te);if(Be&&p.validatingFields&&j([$e]),_t[bt.name]&&(V.valid=!1,oe))break;!oe&&(Fe(_t,bt.name)?Te?_U(n.errors,_t,bt.name):hn(n.errors,bt.name,_t[bt.name]):Bn(n.errors,bt.name))}!zs(es)&&(yield q(es,oe,V))}}return V.valid}),re=()=>{for(const $ of u.unMount){const oe=Fe(s,$);oe&&(oe._f.refs?oe._f.refs.every(V=>!Vg(V)):!Vg(oe._f.ref))&&Ce($)}u.unMount=new Set},G=($,oe)=>!t.disabled&&($&&oe&&hn(o,$,oe),!Da(H(),a)),ee=($,oe,V)=>mE($,u,z({},l.mount?o:Dn(oe)?a:Zr($)?{[$]:oe}:oe),V,oe),de=$=>ay(Fe(l.mount?o:a,$,t.shouldUnregister?Fe(a,$,[]):[])),J=($,oe,V={})=>{const je=Fe(s,$);let Re=oe;if(je){const Oe=je._f;Oe&&(!Oe.disabled&&hn(o,$,bE(oe,Oe)),Re=Dh(Oe.ref)&&js(oe)?"":oe,pE(Oe.ref)?[...Oe.ref.options].forEach(Ue=>Ue.selected=Re.includes(Ue.value)):Oe.refs?ed(Oe.ref)?Oe.refs.forEach(Ue=>{(!Ue.defaultChecked||!Ue.disabled)&&(Array.isArray(Re)?Ue.checked=!!Re.find($e=>$e===Ue.value):Ue.checked=Re===Ue.value||!!Re)}):Oe.refs.forEach(Ue=>Ue.checked=Ue.value===Re):cy(Oe.ref)?Oe.ref.value="":(Oe.ref.value=Re,Oe.ref.type||y.state.next({name:$,values:Kn(o)})))}(V.shouldDirty||V.shouldTouch)&&k($,Re,V.shouldTouch,V.shouldDirty,!0),V.shouldValidate&&ve($)},K=($,oe,V)=>{for(const je in oe){if(!oe.hasOwnProperty(je))return;const Re=oe[je],Oe=$+"."+je,Ue=Fe(s,Oe);(u.array.has($)||Pn(Re)||Ue&&!Ue._f)&&!vo(Re)?K(Oe,Re,V):J(Oe,Re,V)}},B=($,oe,V={})=>{const je=Fe(s,$),Re=u.array.has($),Oe=Kn(oe);hn(o,$,Oe),Re?(y.array.next({name:$,values:Kn(o)}),(p.isDirty||p.dirtyFields||x.isDirty||x.dirtyFields)&&V.shouldDirty&&y.state.next({name:$,dirtyFields:pu(a,o),isDirty:G($,Oe)})):je&&!je._f&&!js(Oe)?K($,Oe,V):J($,Oe,V),H1($,u)&&y.state.next(xe(z({},n),{name:$})),y.state.next({name:l.mount?$:void 0,values:Kn(o)})},Y=$=>ge(null,null,function*(){l.mount=!0;const oe=$.target;let V=oe.name,je=!0;const Re=Fe(s,V),Oe=Ke=>{je=Number.isNaN(Ke)||vo(Ke)&&isNaN(Ke.getTime())||Da(Ke,Fe(o,V,Ke))},Ue=B1(t.mode),$e=B1(t.reValidateMode);if(Re){let Ke,bt;const es=oe.type?U1(Re._f):uE($),Te=$.type===Rh.BLUR||$.type===Rh.FOCUS_OUT,Be=!xU(Re._f)&&!t.resolver&&!Fe(n.errors,V)&&!Re._f.deps||vU(Te,Fe(n.touchedFields,V),n.isSubmitted,$e,Ue),_t=H1(V,u,Te);hn(o,V,es),Te?(!oe||!oe.readOnly)&&(Re._f.onBlur&&Re._f.onBlur($),f&&f(0)):Re._f.onChange&&Re._f.onChange($);const On=k(V,es,Te),os=!zs(On)||_t;if(!Te&&y.state.next({name:V,type:$.type,values:Kn(o)}),Be)return(p.isValid||x.isValid)&&(t.mode==="onBlur"?Te&&_():Te||_()),os&&y.state.next(z({name:V},_t?{}:On));if(!Te&&_t&&y.state.next(z({},n)),t.resolver){const{errors:ws}=yield M([V]);if(Oe(es),je){const qn=V1(n.errors,s,V),vr=V1(ws,s,qn.name||V);Ke=vr.error,V=vr.name,bt=zs(ws)}}else j([V],!0),Ke=(yield q1(Re,u.disabled,o,b,t.shouldUseNativeValidation))[V],j([V]),Oe(es),je&&(Ke?bt=!1:(p.isValid||x.isValid)&&(bt=yield q(s,!0)));je&&(Re._f.deps&&ve(Re._f.deps),R(V,bt,Ke,On))}}),Q=($,oe)=>{if(Fe(n.errors,oe)&&$.focus)return $.focus(),1},ve=(V,...je)=>ge(null,[V,...je],function*($,oe={}){let Re,Oe;const Ue=Cu($);if(t.resolver){const $e=yield F(Dn($)?$:Ue);Re=zs($e),Oe=$?!Ue.some(Ke=>Fe($e,Ke)):Re}else $?(Oe=(yield Promise.all(Ue.map($e=>ge(null,null,function*(){const Ke=Fe(s,$e);return yield q(Ke&&Ke._f?{[$e]:Ke}:Ke)})))).every(Boolean),!(!Oe&&!n.isValid)&&_()):Oe=Re=yield q(s);return y.state.next(xe(z(z({},!Zr($)||(p.isValid||x.isValid)&&Re!==n.isValid?{}:{name:$}),t.resolver||!$?{isValid:Re}:{}),{errors:n.errors})),oe.shouldFocus&&!Oe&&Ou(s,Q,$?Ue:u.mount),Oe}),H=$=>{const oe=z({},l.mount?o:a);return Dn($)?oe:Zr($)?Fe(oe,$):$.map(V=>Fe(oe,V))},ae=($,oe)=>({invalid:!!Fe((oe||n).errors,$),isDirty:!!Fe((oe||n).dirtyFields,$),error:Fe((oe||n).errors,$),isValidating:!!Fe(n.validatingFields,$),isTouched:!!Fe((oe||n).touchedFields,$)}),we=$=>{$&&Cu($).forEach(oe=>Bn(n.errors,oe)),y.state.next({errors:$?n.errors:{}})},W=($,oe,V)=>{const je=(Fe(s,$,{_f:{}})._f||{}).ref,bt=Fe(n.errors,$)||{},{ref:Oe,message:Ue,type:$e}=bt,Ke=De(bt,["ref","message","type"]);hn(n.errors,$,xe(z(z({},Ke),oe),{ref:je})),y.state.next({name:$,errors:n.errors,isValid:!1}),V&&V.shouldFocus&&je&&je.focus&&je.focus()},me=($,oe)=>Dr($)?y.state.subscribe({next:V=>"values"in V&&$(ee(void 0,oe),V)}):ee($,oe,!0),ke=$=>y.state.subscribe({next:oe=>{bU($.name,oe.name,$.exact)&&yU(oe,$.formState||p,kt,$.reRenderRoot)&&$.callback(xe(z(z({values:z({},o)},n),oe),{defaultValues:a}))}}).unsubscribe,ye=$=>(l.mount=!0,x=z(z({},x),$.formState),ke(xe(z({},$),{formState:x}))),Ce=($,oe={})=>{for(const V of $?Cu($):u.mount)u.mount.delete(V),u.array.delete(V),oe.keepValue||(Bn(s,V),Bn(o,V)),!oe.keepError&&Bn(n.errors,V),!oe.keepDirty&&Bn(n.dirtyFields,V),!oe.keepTouched&&Bn(n.touchedFields,V),!oe.keepIsValidating&&Bn(n.validatingFields,V),!t.shouldUnregister&&!oe.keepDefaultValue&&Bn(a,V);y.state.next({values:Kn(o)}),y.state.next(z(z({},n),oe.keepDirty?{isDirty:G()}:{})),!oe.keepIsValid&&_()},ze=({disabled:$,name:oe})=>{(Qs($)&&l.mount||$||u.disabled.has(oe))&&($?u.disabled.add(oe):u.disabled.delete(oe))},tt=($,oe={})=>{let V=Fe(s,$);const je=Qs(oe.disabled)||Qs(t.disabled);return hn(s,$,xe(z({},V||{}),{_f:z(xe(z({},V&&V._f?V._f:{ref:{name:$}}),{name:$,mount:!0}),oe)})),u.mount.add($),V?ze({disabled:Qs(oe.disabled)?oe.disabled:t.disabled,name:$}):D($,!0,oe.value),xe(z(z({},je?{disabled:oe.disabled||t.disabled}:{}),t.progressive?{required:!!oe.required,min:gu(oe.min),max:gu(oe.max),minLength:gu(oe.minLength),maxLength:gu(oe.maxLength),pattern:gu(oe.pattern)}:{}),{name:$,onChange:Y,onBlur:Y,ref:Re=>{if(Re){tt($,oe),V=Fe(s,$);const Oe=Dn(Re.value)&&Re.querySelectorAll&&Re.querySelectorAll("input,select,textarea")[0]||Re,Ue=fU(Oe),$e=V._f.refs||[];if(Ue?$e.find(Ke=>Ke===Oe):Oe===V._f.ref)return;hn(s,$,{_f:z(z({},V._f),Ue?{refs:[...$e.filter(Vg),Oe,...Array.isArray(Fe(a,$))?[{}]:[]],ref:{type:Oe.type,name:$}}:{ref:Oe})}),D($,!1,void 0,Oe)}else V=Fe(s,$,{}),V._f&&(V._f.mount=!1),(t.shouldUnregister||oe.shouldUnregister)&&!(dE(u.array,$)&&l.action)&&u.unMount.add($)}})},Ve=()=>t.shouldFocusError&&Ou(s,Q,u.mount),Et=$=>{Qs($)&&(y.state.next({disabled:$}),Ou(s,(oe,V)=>{const je=Fe(s,V);je&&(oe.disabled=je._f.disabled||$,Array.isArray(je._f.refs)&&je._f.refs.forEach(Re=>{Re.disabled=je._f.disabled||$}))},0,!1))},ct=($,oe)=>V=>ge(null,null,function*(){let je;V&&(V.preventDefault&&V.preventDefault(),V.persist&&V.persist());let Re=Kn(o);if(y.state.next({isSubmitting:!0}),t.resolver){const{errors:Oe,values:Ue}=yield M();n.errors=Oe,Re=Kn(Ue)}else yield q(s);if(u.disabled.size)for(const Oe of u.disabled)Bn(Re,Oe);if(Bn(n.errors,"root"),zs(n.errors)){y.state.next({errors:{}});try{yield $(Re,V)}catch(Oe){je=Oe}}else oe&&(yield oe(z({},n.errors),V)),Ve(),setTimeout(Ve);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:zs(n.errors)&&!je,submitCount:n.submitCount+1,errors:n.errors}),je)throw je}),yt=($,oe={})=>{Fe(s,$)&&(Dn(oe.defaultValue)?B($,Kn(Fe(a,$))):(B($,oe.defaultValue),hn(a,$,Kn(oe.defaultValue))),oe.keepTouched||Bn(n.touchedFields,$),oe.keepDirty||(Bn(n.dirtyFields,$),n.isDirty=oe.defaultValue?G($,Kn(Fe(a,$))):G()),oe.keepError||(Bn(n.errors,$),p.isValid&&_()),y.state.next(z({},n)))},Me=($,oe={})=>{const V=$?Kn($):a,je=Kn(V),Re=zs($),Oe=Re?a:je;if(oe.keepDefaultValues||(a=V),!oe.keepValues){if(oe.keepDirtyValues){const Ue=new Set([...u.mount,...Object.keys(pu(a,o))]);for(const $e of Array.from(Ue))Fe(n.dirtyFields,$e)?hn(Oe,$e,Fe(o,$e)):B($e,Fe(Oe,$e))}else{if(ry&&Dn($))for(const Ue of u.mount){const $e=Fe(s,Ue);if($e&&$e._f){const Ke=Array.isArray($e._f.refs)?$e._f.refs[0]:$e._f.ref;if(Dh(Ke)){const bt=Ke.closest("form");if(bt){bt.reset();break}}}}if(oe.keepFieldsRef)for(const Ue of u.mount)B(Ue,Fe(Oe,Ue));else s={}}o=t.shouldUnregister?oe.keepDefaultValues?Kn(a):{}:Kn(Oe),y.array.next({values:z({},Oe)}),y.state.next({values:z({},Oe)})}u={mount:oe.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!p.isValid||!!oe.keepIsValid||!!oe.keepDirtyValues,l.watch=!!t.shouldUnregister,y.state.next({submitCount:oe.keepSubmitCount?n.submitCount:0,isDirty:Re?!1:oe.keepDirty?n.isDirty:!!(oe.keepDefaultValues&&!Da($,a)),isSubmitted:oe.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Re?{}:oe.keepDirtyValues?oe.keepDefaultValues&&o?pu(a,o):n.dirtyFields:oe.keepDefaultValues&&$?pu(a,$):oe.keepDirty?n.dirtyFields:{},touchedFields:oe.keepTouched?n.touchedFields:{},errors:oe.keepErrors?n.errors:{},isSubmitSuccessful:oe.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},mt=($,oe)=>Me(Dr($)?$(o):$,oe),Yt=($,oe={})=>{const V=Fe(s,$),je=V&&V._f;if(je){const Re=je.refs?je.refs[0]:je.ref;Re.focus&&(Re.focus(),oe.shouldSelect&&Dr(Re.select)&&Re.select())}},kt=$=>{n=z(z({},n),$)},Xt={control:{register:tt,unregister:Ce,getFieldState:ae,handleSubmit:ct,setError:W,_subscribe:ke,_runSchema:M,_focusError:Ve,_getWatch:ee,_getDirty:G,_setValid:_,_setFieldArray:S,_setDisabledField:ze,_setErrors:O,_getFieldArray:de,_reset:Me,_resetDefaultValues:()=>Dr(t.defaultValues)&&t.defaultValues().then($=>{mt($,t.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:re,_disableForm:Et,_subjects:y,_proxyFormState:p,get _fields(){return s},get _formValues(){return o},get _state(){return l},set _state($){l=$},get _defaultValues(){return a},get _names(){return u},set _names($){u=$},get _formState(){return n},get _options(){return t},set _options($){t=z(z({},t),$)}},subscribe:ye,trigger:ve,register:tt,handleSubmit:ct,watch:me,setValue:B,getValues:H,reset:mt,resetField:yt,clearErrors:we,unregister:Ce,setError:W,setFocus:Yt,getFieldState:ae};return xe(z({},Xt),{formControl:Xt})}function fh(e={}){const t=Se.useRef(void 0),n=Se.useRef(void 0),[s,a]=Se.useState({isDirty:!1,isValidating:!1,isLoading:Dr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Dr(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current=xe(z({},e.formControl),{formState:s}),e.defaultValues&&!Dr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const l=SU(e),{formControl:u}=l,f=De(l,["formControl"]);t.current=xe(z({},f),{formState:s})}const o=t.current.control;return o._options=e,ly(()=>{const u=o._subscribe({formState:o._proxyFormState,callback:()=>a(z({},o._formState)),reRenderRoot:!0});return a(f=>xe(z({},f),{isReady:!0})),o._formState.isReady=!0,u},[o]),Se.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),Se.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),Se.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),Se.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),Se.useEffect(()=>{if(o._proxyFormState.isDirty){const u=o._getDirty();u!==s.isDirty&&o._subjects.state.next({isDirty:u})}},[o,s.isDirty]),Se.useEffect(()=>{e.values&&!Da(e.values,n.current)?(o._reset(e.values,z({keepFieldsRef:!0},o._options.resetOptions)),n.current=e.values,a(u=>z({},u))):o._resetDefaultValues()},[o,e.values]),Se.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next(z({},o._formState))),o._removeUnmounted()}),t.current.formState=hE(s,o),t.current}const Y1=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,I1=o2,NU=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return I1(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:o}=t,l=Object.keys(a).map(h=>{const p=n==null?void 0:n[h],x=o==null?void 0:o[h];if(p===null)return null;const y=Y1(p)||Y1(x);return a[h][y]}),u=n&&Object.entries(n).reduce((h,p)=>{let[x,y]=p;return y===void 0||(h[x]=y),h},{}),f=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((h,p)=>{let w=p,{class:x,className:y}=w,b=De(w,["class","className"]);return Object.entries(b).every(_=>{let[j,S]=_;return Array.isArray(S)?S.includes(z(z({},o),u)[j]):z(z({},o),u)[j]===S})?[...h,x,y]:h},[]);return I1(e,l,f,n==null?void 0:n.class,n==null?void 0:n.className)},EU=NU("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Ie(o){var l=o,{className:e,variant:t,size:n,asChild:s=!1}=l,a=De(l,["className","variant","size","asChild"]);const u=s?vM:"button";return d.jsx(u,z({"data-slot":"button",className:yn(EU({variant:t,size:n,className:e}))},a))}var W1=1,TU=.9,kU=.8,CU=.17,$g=.1,qg=.999,OU=.9999,AU=.99,RU=/[\\\/_+.#"@\[\(\{&]/,DU=/[\\\/_+.#"@\[\(\{&]/g,MU=/[\s-]/,wE=/[\s-]/g;function B0(e,t,n,s,a,o,l){if(o===t.length)return a===e.length?W1:AU;var u=`${a},${o}`;if(l[u]!==void 0)return l[u];for(var f=s.charAt(o),h=n.indexOf(f,a),p=0,x,y,b,w;h>=0;)x=B0(e,t,n,s,h+1,o+1,l),x>p&&(h===a?x*=W1:RU.test(e.charAt(h-1))?(x*=kU,b=e.slice(a,h-1).match(DU),b&&a>0&&(x*=Math.pow(qg,b.length))):MU.test(e.charAt(h-1))?(x*=TU,w=e.slice(a,h-1).match(wE),w&&a>0&&(x*=Math.pow(qg,w.length))):(x*=CU,a>0&&(x*=Math.pow(qg,h-a))),e.charAt(h)!==t.charAt(o)&&(x*=OU)),(x<$g&&n.charAt(h-1)===s.charAt(o+1)||s.charAt(o+1)===s.charAt(o)&&n.charAt(h-1)!==s.charAt(o))&&(y=B0(e,t,n,s,h+1,o+2,l),y*$g>x&&(x=y*$g)),x>p&&(p=x),h=n.indexOf(f,h+1);return l[u]=p,p}function X1(e){return e.toLowerCase().replace(wE," ")}function PU(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,B0(e,t,X1(e),X1(t),0,0,{})}var em="Dialog",[_E,hF]=_x(em),[LU,Ur]=_E(em),jE=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,u=N.useRef(null),f=N.useRef(null),[h,p]=FN({prop:s,defaultProp:a!=null?a:!1,onChange:o,caller:em});return d.jsx(LU,{scope:t,triggerRef:u,contentRef:f,contentId:ta(),titleId:ta(),descriptionId:ta(),open:h,onOpenChange:p,onOpenToggle:N.useCallback(()=>p(x=>!x),[p]),modal:l,children:n})};jE.displayName=em;var SE="DialogTrigger",NE=N.forwardRef((e,t)=>{const l=e,{__scopeDialog:n}=l,s=De(l,["__scopeDialog"]),a=Ur(SE,n),o=zr(t,a.triggerRef);return d.jsx(jn.button,xe(z({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":hy(a.open)},s),{ref:o,onClick:Js(e.onClick,a.onOpenToggle)}))});NE.displayName=SE;var dy="DialogPortal",[zU,EE]=_E(dy,{forceMount:void 0}),TE=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:a}=e,o=Ur(dy,t);return d.jsx(zU,{scope:t,forceMount:n,children:N.Children.map(s,l=>d.jsx(Jl,{present:n||o.open,children:d.jsx(Mx,{asChild:!0,container:a,children:l})}))})};TE.displayName=dy;var Lh="DialogOverlay",kE=N.forwardRef((e,t)=>{const n=EE(Lh,e.__scopeDialog),l=e,{forceMount:s=n.forceMount}=l,a=De(l,["forceMount"]),o=Ur(Lh,e.__scopeDialog);return o.modal?d.jsx(Jl,{present:s||o.open,children:d.jsx(BU,xe(z({},a),{ref:t}))}):null});kE.displayName=Lh;var UU=qh("DialogOverlay.RemoveScroll"),BU=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=De(o,["__scopeDialog"]),a=Ur(Lh,n);return d.jsx(Px,{as:UU,allowPinchZoom:!0,shards:[a.contentRef],children:d.jsx(jn.div,xe(z({"data-state":hy(a.open)},s),{ref:t,style:z({pointerEvents:"auto"},s.style)}))})}),Co="DialogContent",CE=N.forwardRef((e,t)=>{const n=EE(Co,e.__scopeDialog),l=e,{forceMount:s=n.forceMount}=l,a=De(l,["forceMount"]),o=Ur(Co,e.__scopeDialog);return d.jsx(Jl,{present:s||o.open,children:o.modal?d.jsx(FU,xe(z({},a),{ref:t})):d.jsx(HU,xe(z({},a),{ref:t}))})});CE.displayName=Co;var FU=N.forwardRef((e,t)=>{const n=Ur(Co,e.__scopeDialog),s=N.useRef(null),a=zr(t,n.contentRef,s);return N.useEffect(()=>{const o=s.current;if(o)return VN(o)},[]),d.jsx(OE,xe(z({},e),{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Js(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Js(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&o.preventDefault()}),onFocusOutside:Js(e.onFocusOutside,o=>o.preventDefault())}))}),HU=N.forwardRef((e,t)=>{const n=Ur(Co,e.__scopeDialog),s=N.useRef(!1),a=N.useRef(!1);return d.jsx(OE,xe(z({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,u;(l=e.onCloseAutoFocus)==null||l.call(e,o),o.defaultPrevented||(s.current||(u=n.triggerRef.current)==null||u.focus(),o.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:o=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=o.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}}))}),OE=N.forwardRef((e,t)=>{const p=e,{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o}=p,l=De(p,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),u=Ur(Co,n),f=N.useRef(null),h=zr(t,f);return pN(),d.jsxs(d.Fragment,{children:[d.jsx(Sx,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:o,children:d.jsx(jx,xe(z({role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":hy(u.open)},l),{ref:h,onDismiss:()=>u.onOpenChange(!1)}))}),d.jsxs(d.Fragment,{children:[d.jsx(VU,{titleId:u.titleId}),d.jsx(qU,{contentRef:f,descriptionId:u.descriptionId})]})]})}),fy="DialogTitle",AE=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=De(o,["__scopeDialog"]),a=Ur(fy,n);return d.jsx(jn.h2,xe(z({id:a.titleId},s),{ref:t}))});AE.displayName=fy;var RE="DialogDescription",DE=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=De(o,["__scopeDialog"]),a=Ur(RE,n);return d.jsx(jn.p,xe(z({id:a.descriptionId},s),{ref:t}))});DE.displayName=RE;var ME="DialogClose",PE=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=De(o,["__scopeDialog"]),a=Ur(ME,n);return d.jsx(jn.button,xe(z({type:"button"},s),{ref:t,onClick:Js(e.onClick,()=>a.onOpenChange(!1))}))});PE.displayName=ME;function hy(e){return e?"open":"closed"}var LE="DialogTitleWarning",[mF,zE]=yM(LE,{contentName:Co,titleName:fy,docsSlug:"dialog"}),VU=({titleId:e})=>{const t=zE(LE),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return N.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},$U="DialogDescriptionWarning",qU=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${zE($U).contentName}}.`;return N.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},my=jE,YU=NE,py=TE,gy=kE,xy=CE,UE=AE,BE=DE,FE=PE,xu='[cmdk-group=""]',Yg='[cmdk-group-items=""]',IU='[cmdk-group-heading=""]',HE='[cmdk-item=""]',G1=`${HE}:not([aria-disabled="true"])`,F0="cmdk-item-select",Al="data-value",WU=(e,t,n)=>PU(e,t,n),VE=N.createContext(void 0),td=()=>N.useContext(VE),$E=N.createContext(void 0),yy=()=>N.useContext($E),qE=N.createContext(void 0),YE=N.forwardRef((e,t)=>{let n=Rl(()=>{var W,me;return{search:"",value:(me=(W=e.value)!=null?W:e.defaultValue)!=null?me:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=Rl(()=>new Set),a=Rl(()=>new Map),o=Rl(()=>new Map),l=Rl(()=>new Set),u=IE(e),we=e,{label:f,children:h,value:p,onValueChange:x,filter:y,shouldFilter:b,loop:w,disablePointerSelection:_=!1,vimBindings:j=!0}=we,S=De(we,["label","children","value","onValueChange","filter","shouldFilter","loop","disablePointerSelection","vimBindings"]),C=ta(),O=ta(),D=ta(),k=N.useRef(null),R=rB();Oo(()=>{if(p!==void 0){let W=p.trim();n.current.value=W,M.emit()}},[p]),Oo(()=>{R(6,de)},[]);let M=N.useMemo(()=>({subscribe:W=>(l.current.add(W),()=>l.current.delete(W)),snapshot:()=>n.current,setState:(W,me,ke)=>{var ye,Ce,ze,tt;if(!Object.is(n.current[W],me)){if(n.current[W]=me,W==="search")ee(),re(),R(1,G);else if(W==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Ve=document.getElementById(D);Ve?Ve.focus():(ye=document.getElementById(C))==null||ye.focus()}if(R(7,()=>{var Ve;n.current.selectedItemId=(Ve=J())==null?void 0:Ve.id,M.emit()}),ke||R(5,de),((Ce=u.current)==null?void 0:Ce.value)!==void 0){let Ve=me!=null?me:"";(tt=(ze=u.current).onValueChange)==null||tt.call(ze,Ve);return}}M.emit()}},emit:()=>{l.current.forEach(W=>W())}}),[]),F=N.useMemo(()=>({value:(W,me,ke)=>{var ye;me!==((ye=o.current.get(W))==null?void 0:ye.value)&&(o.current.set(W,{value:me,keywords:ke}),n.current.filtered.items.set(W,q(me,ke)),R(2,()=>{re(),M.emit()}))},item:(W,me)=>(s.current.add(W),me&&(a.current.has(me)?a.current.get(me).add(W):a.current.set(me,new Set([W]))),R(3,()=>{ee(),re(),n.current.value||G(),M.emit()}),()=>{o.current.delete(W),s.current.delete(W),n.current.filtered.items.delete(W);let ke=J();R(4,()=>{ee(),(ke==null?void 0:ke.getAttribute("id"))===W&&G(),M.emit()})}),group:W=>(a.current.has(W)||a.current.set(W,new Set),()=>{o.current.delete(W),a.current.delete(W)}),filter:()=>u.current.shouldFilter,label:f||e["aria-label"],getDisablePointerSelection:()=>u.current.disablePointerSelection,listId:C,inputId:D,labelId:O,listInnerRef:k}),[]);function q(W,me){var ke,ye;let Ce=(ye=(ke=u.current)==null?void 0:ke.filter)!=null?ye:WU;return W?Ce(W,n.current.search,me):0}function re(){if(!n.current.search||u.current.shouldFilter===!1)return;let W=n.current.filtered.items,me=[];n.current.filtered.groups.forEach(ye=>{let Ce=a.current.get(ye),ze=0;Ce.forEach(tt=>{let Ve=W.get(tt);ze=Math.max(Ve,ze)}),me.push([ye,ze])});let ke=k.current;K().sort((ye,Ce)=>{var ze,tt;let Ve=ye.getAttribute("id"),Et=Ce.getAttribute("id");return((ze=W.get(Et))!=null?ze:0)-((tt=W.get(Ve))!=null?tt:0)}).forEach(ye=>{let Ce=ye.closest(Yg);Ce?Ce.appendChild(ye.parentElement===Ce?ye:ye.closest(`${Yg} > *`)):ke.appendChild(ye.parentElement===ke?ye:ye.closest(`${Yg} > *`))}),me.sort((ye,Ce)=>Ce[1]-ye[1]).forEach(ye=>{var Ce;let ze=(Ce=k.current)==null?void 0:Ce.querySelector(`${xu}[${Al}="${encodeURIComponent(ye[0])}"]`);ze==null||ze.parentElement.appendChild(ze)})}function G(){let W=K().find(ke=>ke.getAttribute("aria-disabled")!=="true"),me=W==null?void 0:W.getAttribute(Al);M.setState("value",me||void 0)}function ee(){var W,me,ke,ye;if(!n.current.search||u.current.shouldFilter===!1){n.current.filtered.count=s.current.size;return}n.current.filtered.groups=new Set;let Ce=0;for(let ze of s.current){let tt=(me=(W=o.current.get(ze))==null?void 0:W.value)!=null?me:"",Ve=(ye=(ke=o.current.get(ze))==null?void 0:ke.keywords)!=null?ye:[],Et=q(tt,Ve);n.current.filtered.items.set(ze,Et),Et>0&&Ce++}for(let[ze,tt]of a.current)for(let Ve of tt)if(n.current.filtered.items.get(Ve)>0){n.current.filtered.groups.add(ze);break}n.current.filtered.count=Ce}function de(){var W,me,ke;let ye=J();ye&&(((W=ye.parentElement)==null?void 0:W.firstChild)===ye&&((ke=(me=ye.closest(xu))==null?void 0:me.querySelector(IU))==null||ke.scrollIntoView({block:"nearest"})),ye.scrollIntoView({block:"nearest"}))}function J(){var W;return(W=k.current)==null?void 0:W.querySelector(`${HE}[aria-selected="true"]`)}function K(){var W;return Array.from(((W=k.current)==null?void 0:W.querySelectorAll(G1))||[])}function B(W){let me=K()[W];me&&M.setState("value",me.getAttribute(Al))}function Y(W){var me;let ke=J(),ye=K(),Ce=ye.findIndex(tt=>tt===ke),ze=ye[Ce+W];(me=u.current)!=null&&me.loop&&(ze=Ce+W<0?ye[ye.length-1]:Ce+W===ye.length?ye[0]:ye[Ce+W]),ze&&M.setState("value",ze.getAttribute(Al))}function Q(W){let me=J(),ke=me==null?void 0:me.closest(xu),ye;for(;ke&&!ye;)ke=W>0?nB(ke,xu):sB(ke,xu),ye=ke==null?void 0:ke.querySelector(G1);ye?M.setState("value",ye.getAttribute(Al)):Y(W)}let ve=()=>B(K().length-1),H=W=>{W.preventDefault(),W.metaKey?ve():W.altKey?Q(1):Y(1)},ae=W=>{W.preventDefault(),W.metaKey?B(0):W.altKey?Q(-1):Y(-1)};return N.createElement(jn.div,xe(z({ref:t,tabIndex:-1},S),{"cmdk-root":"",onKeyDown:W=>{var me;(me=S.onKeyDown)==null||me.call(S,W);let ke=W.nativeEvent.isComposing||W.keyCode===229;if(!(W.defaultPrevented||ke))switch(W.key){case"n":case"j":{j&&W.ctrlKey&&H(W);break}case"ArrowDown":{H(W);break}case"p":case"k":{j&&W.ctrlKey&&ae(W);break}case"ArrowUp":{ae(W);break}case"Home":{W.preventDefault(),B(0);break}case"End":{W.preventDefault(),ve();break}case"Enter":{W.preventDefault();let ye=J();if(ye){let Ce=new Event(F0);ye.dispatchEvent(Ce)}}}}}),N.createElement("label",{"cmdk-label":"",htmlFor:F.inputId,id:F.labelId,style:iB},f),tm(e,W=>N.createElement($E.Provider,{value:M},N.createElement(VE.Provider,{value:F},W))))}),XU=N.forwardRef((e,t)=>{var n,s;let a=ta(),o=N.useRef(null),l=N.useContext(qE),u=td(),f=IE(e),h=(s=(n=f.current)==null?void 0:n.forceMount)!=null?s:l==null?void 0:l.forceMount;Oo(()=>{if(!h)return u.item(a,l==null?void 0:l.id)},[h]);let p=WE(a,o,[e.value,e.children,o],e.keywords),x=yy(),y=Ci(M=>M.value&&M.value===p.current),b=Ci(M=>h||u.filter()===!1?!0:M.search?M.filtered.items.get(a)>0:!0);N.useEffect(()=>{let M=o.current;if(!(!M||e.disabled))return M.addEventListener(F0,w),()=>M.removeEventListener(F0,w)},[b,e.onSelect,e.disabled]);function w(){var M,F;_(),(F=(M=f.current).onSelect)==null||F.call(M,p.current)}function _(){x.setState("value",p.current,!0)}if(!b)return null;let R=e,{disabled:j,value:S,onSelect:C,forceMount:O,keywords:D}=R,k=De(R,["disabled","value","onSelect","forceMount","keywords"]);return N.createElement(jn.div,xe(z({ref:No(o,t)},k),{id:a,"cmdk-item":"",role:"option","aria-disabled":!!j,"aria-selected":!!y,"data-disabled":!!j,"data-selected":!!y,onPointerMove:j||u.getDisablePointerSelection()?void 0:_,onClick:j?void 0:w}),e.children)}),GU=N.forwardRef((e,t)=>{let b=e,{heading:n,children:s,forceMount:a}=b,o=De(b,["heading","children","forceMount"]),l=ta(),u=N.useRef(null),f=N.useRef(null),h=ta(),p=td(),x=Ci(w=>a||p.filter()===!1?!0:w.search?w.filtered.groups.has(l):!0);Oo(()=>p.group(l),[]),WE(l,u,[e.value,e.heading,f]);let y=N.useMemo(()=>({id:l,forceMount:a}),[a]);return N.createElement(jn.div,xe(z({ref:No(u,t)},o),{"cmdk-group":"",role:"presentation",hidden:x?void 0:!0}),n&&N.createElement("div",{ref:f,"cmdk-group-heading":"","aria-hidden":!0,id:h},n),tm(e,w=>N.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?h:void 0},N.createElement(qE.Provider,{value:y},w))))}),KU=N.forwardRef((e,t)=>{let l=e,{alwaysRender:n}=l,s=De(l,["alwaysRender"]),a=N.useRef(null),o=Ci(u=>!u.search);return!n&&!o?null:N.createElement(jn.div,xe(z({ref:No(a,t)},s),{"cmdk-separator":"",role:"separator"}))}),QU=N.forwardRef((e,t)=>{let h=e,{onValueChange:n}=h,s=De(h,["onValueChange"]),a=e.value!=null,o=yy(),l=Ci(p=>p.search),u=Ci(p=>p.selectedItemId),f=td();return N.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),N.createElement(jn.input,xe(z({ref:t},s),{"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":f.listId,"aria-labelledby":f.labelId,"aria-activedescendant":u,id:f.inputId,type:"text",value:a?e.value:l,onChange:p=>{a||o.setState("search",p.target.value),n==null||n(p.target.value)}}))}),ZU=N.forwardRef((e,t)=>{let h=e,{children:n,label:s="Suggestions"}=h,a=De(h,["children","label"]),o=N.useRef(null),l=N.useRef(null),u=Ci(p=>p.selectedItemId),f=td();return N.useEffect(()=>{if(l.current&&o.current){let p=l.current,x=o.current,y,b=new ResizeObserver(()=>{y=requestAnimationFrame(()=>{let w=p.offsetHeight;x.style.setProperty("--cmdk-list-height",w.toFixed(1)+"px")})});return b.observe(p),()=>{cancelAnimationFrame(y),b.unobserve(p)}}},[]),N.createElement(jn.div,xe(z({ref:No(o,t)},a),{"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":u,"aria-label":s,id:f.listId}),tm(e,p=>N.createElement("div",{ref:No(l,f.listInnerRef),"cmdk-list-sizer":""},p)))}),JU=N.forwardRef((e,t)=>{let f=e,{open:n,onOpenChange:s,overlayClassName:a,contentClassName:o,container:l}=f,u=De(f,["open","onOpenChange","overlayClassName","contentClassName","container"]);return N.createElement(my,{open:n,onOpenChange:s},N.createElement(py,{container:l},N.createElement(gy,{"cmdk-overlay":"",className:a}),N.createElement(xy,{"aria-label":e.label,"cmdk-dialog":"",className:o},N.createElement(YE,z({ref:t},u)))))}),eB=N.forwardRef((e,t)=>Ci(n=>n.filtered.count===0)?N.createElement(jn.div,xe(z({ref:t},e),{"cmdk-empty":"",role:"presentation"})):null),tB=N.forwardRef((e,t)=>{let l=e,{progress:n,children:s,label:a="Loading..."}=l,o=De(l,["progress","children","label"]);return N.createElement(jn.div,xe(z({ref:t},o),{"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a}),tm(e,u=>N.createElement("div",{"aria-hidden":!0},u)))}),rc=Object.assign(YE,{List:ZU,Item:XU,Input:QU,Group:GU,Separator:KU,Dialog:JU,Empty:eB,Loading:tB});function nB(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function sB(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function IE(e){let t=N.useRef(e);return Oo(()=>{t.current=e}),t}var Oo=typeof window=="undefined"?N.useEffect:N.useLayoutEffect;function Rl(e){let t=N.useRef();return t.current===void 0&&(t.current=e()),t}function Ci(e){let t=yy(),n=()=>e(t.snapshot());return N.useSyncExternalStore(t.subscribe,n,n)}function WE(e,t,n,s=[]){let a=N.useRef(),o=td();return Oo(()=>{var l;let u=(()=>{var h;for(let p of n){if(typeof p=="string")return p.trim();if(typeof p=="object"&&"current"in p)return p.current?(h=p.current.textContent)==null?void 0:h.trim():a.current}})(),f=s.map(h=>h.trim());o.value(e,u,f),(l=t.current)==null||l.setAttribute(Al,u),a.current=u}),a}var rB=()=>{let[e,t]=N.useState(),n=Rl(()=>new Map);return Oo(()=>{n.current.forEach(s=>s()),n.current=new Map},[e]),(s,a)=>{n.current.set(s,a),t({})}};function aB(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function tm({asChild:e,children:t},n){return e&&N.isValidElement(t)?N.cloneElement(aB(t),{ref:t.ref},n(t.props.children)):n(t)}var iB={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function Ss(t){var e=De(t,[]);return d.jsx(my,z({"data-slot":"dialog"},e))}function oB(t){var e=De(t,[]);return d.jsx(YU,z({"data-slot":"dialog-trigger"},e))}function lB(t){var e=De(t,[]);return d.jsx(py,z({"data-slot":"dialog-portal"},e))}function cB(t){var e=De(t,[]);return d.jsx(FE,z({"data-slot":"dialog-close"},e))}function uB(n){var s=n,{className:e}=s,t=De(s,["className"]);return d.jsx(gy,z({"data-slot":"dialog-overlay",className:yn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e)},t))}function Ns(a){var o=a,{className:e,children:t,showCloseButton:n=!0}=o,s=De(o,["className","children","showCloseButton"]);return d.jsxs(lB,{"data-slot":"dialog-portal",children:[d.jsx(uB,{}),d.jsxs(xy,xe(z({"data-slot":"dialog-content",className:yn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e)},s),{children:[t,n&&d.jsxs(FE,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[d.jsx(gM,{}),d.jsx("span",{className:"sr-only",children:"Close"})]})]}))]})}function Es(n){var s=n,{className:e}=s,t=De(s,["className"]);return d.jsx("div",z({"data-slot":"dialog-header",className:yn("flex flex-col gap-2 text-center sm:text-left",e)},t))}function Ts(n){var s=n,{className:e}=s,t=De(s,["className"]);return d.jsx("div",z({"data-slot":"dialog-footer",className:yn("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e)},t))}function ks(n){var s=n,{className:e}=s,t=De(s,["className"]);return d.jsx(UE,z({"data-slot":"dialog-title",className:yn("text-lg leading-none font-semibold",e)},t))}function _o(n){var s=n,{className:e}=s,t=De(s,["className"]);return d.jsx(BE,z({"data-slot":"dialog-description",className:yn("text-muted-foreground text-sm",e)},t))}function dB(n){var s=n,{className:e}=s,t=De(s,["className"]);return d.jsx(rc,z({"data-slot":"command",className:yn("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e)},t))}function fB(n){var s=n,{className:e}=s,t=De(s,["className"]);return d.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[d.jsx($h,{className:"size-4 shrink-0 opacity-50"}),d.jsx(rc.Input,z({"data-slot":"command-input",className:yn("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e)},t))]})}function hB(n){var s=n,{className:e}=s,t=De(s,["className"]);return d.jsx(rc.List,z({"data-slot":"command-list",className:yn("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e)},t))}function Ig(t){var e=De(t,[]);return d.jsx(rc.Empty,z({"data-slot":"command-empty",className:"py-6 text-center text-sm"},e))}function mB(n){var s=n,{className:e}=s,t=De(s,["className"]);return d.jsx(rc.Group,z({"data-slot":"command-group",className:yn("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e)},t))}function pB(n){var s=n,{className:e}=s,t=De(s,["className"]);return d.jsx(rc.Item,z({"data-slot":"command-item",className:yn("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e)},t))}function gi({doctype:e,value:t="",onChange:n,placeholder:s="Select option...",className:a="w-[200px]",fields:o=["name"],filters:l=[],displayField:u="name",valueField:f="name",disabled:h=!1,limit:p=20}){const[x,y]=N.useState(!1),[b,w]=N.useState(""),_=N.useMemo(()=>{let M={};if(l.length>0&&l.forEach(q=>{if(Array.isArray(q)&&q.length>=3){const[re,G,ee]=q;G==="="&&(M[re]=ee)}}),b.trim()&&(M[u]=["like",`%${b}%`]),Object.keys(M).length===0&&b.trim())return[[u,"like",`%${b}%`]];const F=[];return Object.entries(M).forEach(([q,re])=>{Array.isArray(re)?F.push([q,re[0],re[1]]):F.push([q,"=",re])}),F.length>0?F:void 0},[b,l,u]),{data:j,isLoading:S,error:C}=_n(e,{fields:[...new Set([...o,u,f])],filters:_,limit:p,orderBy:{field:u,order:"asc"}}),O=N.useMemo(()=>!j||!Array.isArray(j)?[]:j.map(M=>({value:M[f],label:M[u]})),[j,u,f]),D=O.find(M=>M.value===t),k=M=>{n(M===t?"":M),y(!1)},R=M=>{w(M)};return d.jsxs(Ux,{open:x,onOpenChange:y,children:[d.jsx(Bx,{asChild:!0,children:d.jsxs(Ie,{variant:"outline",role:"combobox","aria-expanded":x,className:yn("justify-between",a),disabled:h,children:[(D==null?void 0:D.label)||s,d.jsx(yD,{className:"opacity-50"})]})}),d.jsx(Fx,{className:yn("p-0",a),children:d.jsxs(dB,{shouldFilter:!1,children:[d.jsx(fB,{placeholder:`Search ${e.toLowerCase()}...`,className:"h-9",value:b,onValueChange:R}),d.jsxs(hB,{children:[S&&d.jsx(Ig,{children:"Loading..."}),C&&d.jsx(Ig,{children:"Error loading data."}),!S&&!C&&O.length===0&&d.jsxs(Ig,{children:["No ",e.toLowerCase()," found."]}),!S&&!C&&O.length>0&&d.jsx(mB,{children:O.map(M=>d.jsxs(pB,{value:M.value,onSelect:k,children:[M.label,d.jsx(hD,{className:yn("ml-auto",t===M.value?"opacity-100":"opacity-0")})]},M.value))})]})]})})]})}function $t(s){var a=s,{className:e,type:t}=a,n=De(a,["className","type"]);return d.jsx("input",z({type:t,"data-slot":"input",className:yn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e)},n))}var gB="Label",XE=N.forwardRef((e,t)=>d.jsx(jn.label,xe(z({},e),{ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}})));XE.displayName=gB;var xB=XE;function He(n){var s=n,{className:e}=s,t=De(s,["className"]);return d.jsx(xB,z({"data-slot":"label",className:yn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e)},t))}function yB(e){if(typeof document=="undefined")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const GE=Se.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),nd=()=>{const e=Se.useContext(GE);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};yB(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function bB(){const e=navigator.userAgent;return typeof window!="undefined"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function vB(){return by(/^Mac/)}function wB(){return by(/^iPhone/)}function K1(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function _B(){return by(/^iPad/)||vB()&&navigator.maxTouchPoints>1}function KE(){return wB()||_B()}function by(e){return typeof window!="undefined"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const jB=24,SB=typeof window!="undefined"?N.useLayoutEffect:N.useEffect;function Q1(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const Wg=typeof document!="undefined"&&window.visualViewport;function Z1(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function QE(e){for(Z1(e)&&(e=e.parentElement);e&&!Z1(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const NB=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Vf=0,Xg;function EB(e={}){let{isDisabled:t}=e;SB(()=>{if(!t)return Vf++,Vf===1&&KE()&&(Xg=TB()),()=>{Vf--,Vf===0&&(Xg==null||Xg())}},[t])}function TB(){let e,t=0,n=x=>{e=QE(x.target),!(e===document.documentElement&&e===document.body)&&(t=x.changedTouches[0].pageY)},s=x=>{if(!e||e===document.documentElement||e===document.body){x.preventDefault();return}let y=x.changedTouches[0].pageY,b=e.scrollTop,w=e.scrollHeight-e.clientHeight;w!==0&&((b<=0&&y>t||b>=w&&y<t)&&x.preventDefault(),t=y)},a=x=>{let y=x.target;H0(y)&&y!==document.activeElement&&(x.preventDefault(),y.style.transform="translateY(-2000px)",y.focus(),requestAnimationFrame(()=>{y.style.transform=""}))},o=x=>{let y=x.target;H0(y)&&(y.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{y.style.transform="",Wg&&(Wg.height<window.innerHeight?requestAnimationFrame(()=>{J1(y)}):Wg.addEventListener("resize",()=>J1(y),{once:!0}))}))},l=()=>{window.scrollTo(0,0)},u=window.pageXOffset,f=window.pageYOffset,h=Q1(kB(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let p=Q1(yu(document,"touchstart",n,{passive:!1,capture:!0}),yu(document,"touchmove",s,{passive:!1,capture:!0}),yu(document,"touchend",a,{passive:!1,capture:!0}),yu(document,"focus",o,!0),yu(window,"scroll",l));return()=>{h(),p(),window.scrollTo(u,f)}}function kB(e,t,n){let s=e.style[t];return e.style[t]=n,()=>{e.style[t]=s}}function yu(e,t,n,s){return e.addEventListener(t,n,s),()=>{e.removeEventListener(t,n,s)}}function J1(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=QE(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let s=n.getBoundingClientRect().top,a=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom;const l=n.getBoundingClientRect().bottom+jB;o>l&&(n.scrollTop+=a-s)}e=n.parentElement}}function H0(e){return e instanceof HTMLInputElement&&!NB.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function CB(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function OB(...e){return t=>e.forEach(n=>CB(n,t))}function ZE(...e){return N.useCallback(OB(...e),e)}const JE=new WeakMap;function Qn(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let s={};Object.entries(t).forEach(([a,o])=>{if(a.startsWith("--")){e.style.setProperty(a,o);return}s[a]=e.style[a],e.style[a]=o}),!n&&JE.set(e,s)}function AB(e,t){if(!e||!(e instanceof HTMLElement))return;let n=JE.get(e);n&&(e.style[t]=n[t])}const Fn=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function $f(e,t){if(!e)return null;const n=window.getComputedStyle(e),s=n.transform||n.webkitTransform||n.mozTransform;let a=s.match(/^matrix3d\((.+)\)$/);return a?parseFloat(a[1].split(", ")[Fn(t)?13:12]):(a=s.match(/^matrix\((.+)\)$/),a?parseFloat(a[1].split(", ")[Fn(t)?5:4]):null)}function RB(e){return 8*(Math.log(e+1)-2)}function Gg(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function DB(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const wn={DURATION:.5,EASE:[.32,.72,0,1]},eT=.4,MB=.25,PB=100,tT=8,uo=16,V0=26,Kg="vaul-dragging";function nT(e){const t=Se.useRef(e);return Se.useEffect(()=>{t.current=e}),Se.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function LB({defaultProp:e,onChange:t}){const n=Se.useState(e),[s]=n,a=Se.useRef(s),o=nT(t);return Se.useEffect(()=>{a.current!==s&&(o(s),a.current=s)},[s,a,o]),n}function sT({prop:e,defaultProp:t,onChange:n=()=>{}}){const[s,a]=LB({defaultProp:t,onChange:n}),o=e!==void 0,l=o?e:s,u=nT(n),f=Se.useCallback(h=>{if(o){const x=typeof h=="function"?h(e):h;x!==e&&u(x)}else a(h)},[o,e,a,u]);return[l,f]}function zB({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:s,overlayRef:a,fadeFromIndex:o,onSnapPointChange:l,direction:u="bottom",container:f,snapToSequentialPoint:h}){const[p,x]=sT({prop:e,defaultProp:n==null?void 0:n[0],onChange:t}),[y,b]=Se.useState(typeof window!="undefined"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);Se.useEffect(()=>{function M(){b({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[]);const w=Se.useMemo(()=>p===(n==null?void 0:n[n.length-1])||null,[n,p]),_=Se.useMemo(()=>{var M;return(M=n==null?void 0:n.findIndex(F=>F===p))!=null?M:null},[n,p]),j=n&&n.length>0&&(o||o===0)&&!Number.isNaN(o)&&n[o]===p||!n,S=Se.useMemo(()=>{const M=f?{width:f.getBoundingClientRect().width,height:f.getBoundingClientRect().height}:typeof window!="undefined"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var F;return(F=n==null?void 0:n.map(q=>{const re=typeof q=="string";let G=0;if(re&&(G=parseInt(q,10)),Fn(u)){const de=re?G:y?q*M.height:0;return y?u==="bottom"?M.height-de:-M.height+de:de}const ee=re?G:y?q*M.width:0;return y?u==="right"?M.width-ee:-M.width+ee:ee}))!=null?F:[]},[n,y,f]),C=Se.useMemo(()=>_!==null?S==null?void 0:S[_]:null,[S,_]),O=Se.useCallback(M=>{var F;const q=(F=S==null?void 0:S.findIndex(re=>re===M))!=null?F:null;l(q),Qn(s.current,{transition:`transform ${wn.DURATION}s cubic-bezier(${wn.EASE.join(",")})`,transform:Fn(u)?`translate3d(0, ${M}px, 0)`:`translate3d(${M}px, 0, 0)`}),S&&q!==S.length-1&&o!==void 0&&q!==o&&q<o?Qn(a.current,{transition:`opacity ${wn.DURATION}s cubic-bezier(${wn.EASE.join(",")})`,opacity:"0"}):Qn(a.current,{transition:`opacity ${wn.DURATION}s cubic-bezier(${wn.EASE.join(",")})`,opacity:"1"}),x(n==null?void 0:n[Math.max(q,0)])},[s.current,n,S,o,a,x]);Se.useEffect(()=>{if(p||e){var M;const F=(M=n==null?void 0:n.findIndex(q=>q===e||q===p))!=null?M:-1;S&&F!==-1&&typeof S[F]=="number"&&O(S[F])}},[p,e,n,S,O]);function D({draggedDistance:M,closeDrawer:F,velocity:q,dismissible:re}){if(o===void 0)return;const G=u==="bottom"||u==="right"?(C!=null?C:0)-M:(C!=null?C:0)+M,ee=_===o-1,de=_===0,J=M>0;if(ee&&Qn(a.current,{transition:`opacity ${wn.DURATION}s cubic-bezier(${wn.EASE.join(",")})`}),!h&&q>2&&!J){re?F():O(S[0]);return}if(!h&&q>2&&J&&S&&n){O(S[n.length-1]);return}const K=S==null?void 0:S.reduce((Y,Q)=>typeof Y!="number"||typeof Q!="number"?Y:Math.abs(Q-G)<Math.abs(Y-G)?Q:Y),B=Fn(u)?window.innerHeight:window.innerWidth;if(q>eT&&Math.abs(M)<B*.4){const Y=J?1:-1;if(Y>0&&w&&n){O(S[n.length-1]);return}if(de&&Y<0&&re&&F(),_===null)return;O(S[_+Y]);return}O(K)}function k({draggedDistance:M}){if(C===null)return;const F=u==="bottom"||u==="right"?C-M:C+M;(u==="bottom"||u==="right")&&F<S[S.length-1]||(u==="top"||u==="left")&&F>S[S.length-1]||Qn(s.current,{transform:Fn(u)?`translate3d(0, ${F}px, 0)`:`translate3d(${F}px, 0, 0)`})}function R(M,F){if(!n||typeof _!="number"||!S||o===void 0)return null;const q=_===o-1;if(_>=o&&F)return 0;if(q&&!F)return 1;if(!j&&!q)return null;const G=q?_+1:_-1,ee=q?S[G]-S[G-1]:S[G+1]-S[G],de=M/Math.abs(ee);return q?1-de:de}return{isLastSnapPoint:w,activeSnapPoint:p,shouldFade:j,getPercentageDragged:R,setActiveSnapPoint:x,activeSnapPointIndex:_,onRelease:D,onDrag:k,snapPointsOffset:S}}const UB=()=>()=>{};function BB(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:s,noBodyStyles:a}=nd(),o=Se.useRef(null),l=N.useMemo(()=>document.body.style.backgroundColor,[]);function u(){return(window.innerWidth-V0)/window.innerWidth}Se.useEffect(()=>{if(t&&n){o.current&&clearTimeout(o.current);const f=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!f)return;DB(s&&!a?Gg(document.body,{background:"black"}):UB,Gg(f,{transformOrigin:Fn(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${wn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${wn.EASE.join(",")})`}));const h=Gg(f,z({borderRadius:`${tT}px`,overflow:"hidden"},Fn(e)?{transform:`scale(${u()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${u()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}));return()=>{h(),o.current=window.setTimeout(()=>{l?document.body.style.background=l:document.body.style.removeProperty("background")},wn.DURATION*1e3)}}},[t,n,l])}let bu=null;function FB({isOpen:e,modal:t,nested:n,hasBeenOpened:s,preventScrollRestoration:a,noBodyStyles:o}){const[l,u]=Se.useState(()=>typeof window!="undefined"?window.location.href:""),f=Se.useRef(0),h=Se.useCallback(()=>{if(K1()&&bu===null&&e&&!o){bu={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:x,innerHeight:y}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-f.current}px`,left:`${-x}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const b=y-window.innerHeight;b&&f.current>=y&&(document.body.style.top=`${-(f.current+b)}px`)}),300)}},[e]),p=Se.useCallback(()=>{if(K1()&&bu!==null&&!o){const x=-parseInt(document.body.style.top,10),y=-parseInt(document.body.style.left,10);Object.assign(document.body.style,bu),window.requestAnimationFrame(()=>{if(a&&l!==window.location.href){u(window.location.href);return}window.scrollTo(y,x)}),bu=null}},[l]);return Se.useEffect(()=>{function x(){f.current=window.scrollY}return x(),window.addEventListener("scroll",x),()=>{window.removeEventListener("scroll",x)}},[]),Se.useEffect(()=>{if(t)return()=>{typeof document=="undefined"||document.querySelector("[data-vaul-drawer]")||p()}},[t,p]),Se.useEffect(()=>{n||!s||(e?(!window.matchMedia("(display-mode: standalone)").matches&&h(),t||window.setTimeout(()=>{p()},500)):p())},[e,s,l,t,n,h,p]),{restorePositionSetting:p}}function HB({open:e,onOpenChange:t,children:n,onDrag:s,onRelease:a,snapPoints:o,shouldScaleBackground:l=!1,setBackgroundColorOnScale:u=!0,closeThreshold:f=MB,scrollLockTimeout:h=PB,dismissible:p=!0,handleOnly:x=!1,fadeFromIndex:y=o&&o.length-1,activeSnapPoint:b,setActiveSnapPoint:w,fixed:_,modal:j=!0,onClose:S,nested:C,noBodyStyles:O=!1,direction:D="bottom",defaultOpen:k=!1,disablePreventScroll:R=!0,snapToSequentialPoint:M=!1,preventScrollRestoration:F=!1,repositionInputs:q=!0,onAnimationEnd:re,container:G,autoFocus:ee=!1}){var de,J;const[K=!1,B]=sT({defaultProp:k,prop:e,onChange:nt=>{t==null||t(nt),!nt&&!C&&$e(),setTimeout(()=>{re==null||re(nt)},wn.DURATION*1e3),nt&&!j&&typeof window!="undefined"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),nt||(document.body.style.pointerEvents="auto")}}),[Y,Q]=Se.useState(!1),[ve,H]=Se.useState(!1),[ae,we]=Se.useState(!1),W=Se.useRef(null),me=Se.useRef(null),ke=Se.useRef(null),ye=Se.useRef(null),Ce=Se.useRef(null),ze=Se.useRef(!1),tt=Se.useRef(null),Ve=Se.useRef(0),Et=Se.useRef(!1),ct=Se.useRef(!k),yt=Se.useRef(0),Me=Se.useRef(null),mt=Se.useRef(((de=Me.current)==null?void 0:de.getBoundingClientRect().height)||0),Yt=Se.useRef(((J=Me.current)==null?void 0:J.getBoundingClientRect().width)||0),kt=Se.useRef(0),It=Se.useCallback(nt=>{o&&nt===je.length-1&&(me.current=new Date)},[]),{activeSnapPoint:Xt,activeSnapPointIndex:$,setActiveSnapPoint:oe,onRelease:V,snapPointsOffset:je,onDrag:Re,shouldFade:Oe,getPercentageDragged:Ue}=zB({snapPoints:o,activeSnapPointProp:b,setActiveSnapPointProp:w,drawerRef:Me,fadeFromIndex:y,overlayRef:W,onSnapPointChange:It,direction:D,container:G,snapToSequentialPoint:M});EB({isDisabled:!K||ve||!j||ae||!Y||!q||!R});const{restorePositionSetting:$e}=FB({isOpen:K,modal:j,nested:C!=null?C:!1,hasBeenOpened:Y,preventScrollRestoration:F,noBodyStyles:O});function Ke(){return(window.innerWidth-V0)/window.innerWidth}function bt(nt){var Dt,zt;!p&&!o||Me.current&&!Me.current.contains(nt.target)||(mt.current=((Dt=Me.current)==null?void 0:Dt.getBoundingClientRect().height)||0,Yt.current=((zt=Me.current)==null?void 0:zt.getBoundingClientRect().width)||0,H(!0),ke.current=new Date,KE()&&window.addEventListener("touchend",()=>ze.current=!1,{once:!0}),nt.target.setPointerCapture(nt.pointerId),Ve.current=Fn(D)?nt.pageY:nt.pageX)}function es(nt,Dt){var zt;let jt=nt;const Jt=(zt=window.getSelection())==null?void 0:zt.toString(),pn=Me.current?$f(Me.current,D):null,an=new Date;if(jt.tagName==="SELECT"||jt.hasAttribute("data-vaul-no-drag")||jt.closest("[data-vaul-no-drag]"))return!1;if(D==="right"||D==="left")return!0;if(me.current&&an.getTime()-me.current.getTime()<500)return!1;if(pn!==null&&(D==="bottom"?pn>0:pn<0))return!0;if(Jt&&Jt.length>0)return!1;if(Ce.current&&an.getTime()-Ce.current.getTime()<h&&pn===0||Dt)return Ce.current=an,!1;for(;jt;){if(jt.scrollHeight>jt.clientHeight){if(jt.scrollTop!==0)return Ce.current=new Date,!1;if(jt.getAttribute("role")==="dialog")return!0}jt=jt.parentNode}return!0}function Te(nt){if(Me.current&&ve){const Dt=D==="bottom"||D==="right"?1:-1,zt=(Ve.current-(Fn(D)?nt.pageY:nt.pageX))*Dt,jt=zt>0,Jt=o&&!p&&!jt;if(Jt&&$===0)return;const pn=Math.abs(zt),an=document.querySelector("[data-vaul-drawer-wrapper]"),ts=D==="bottom"||D==="top"?mt.current:Yt.current;let Yn=pn/ts;const X=Ue(pn,jt);if(X!==null&&(Yn=X),Jt&&Yn>=1||!ze.current&&!es(nt.target,jt))return;if(Me.current.classList.add(Kg),ze.current=!0,Qn(Me.current,{transition:"none"}),Qn(W.current,{transition:"none"}),o&&Re({draggedDistance:zt}),jt&&!o){const ue=RB(zt),be=Math.min(ue*-1,0)*Dt;Qn(Me.current,{transform:Fn(D)?`translate3d(0, ${be}px, 0)`:`translate3d(${be}px, 0, 0)`});return}const ne=1-Yn;if((Oe||y&&$===y-1)&&(s==null||s(nt,Yn),Qn(W.current,{opacity:`${ne}`,transition:"none"},!0)),an&&W.current&&l){const ue=Math.min(Ke()+Yn*(1-Ke()),1),be=8-Yn*8,Ae=Math.max(0,14-Yn*14);Qn(an,{borderRadius:`${be}px`,transform:Fn(D)?`scale(${ue}) translate3d(0, ${Ae}px, 0)`:`scale(${ue}) translate3d(${Ae}px, 0, 0)`,transition:"none"},!0)}if(!o){const ue=pn*Dt;Qn(Me.current,{transform:Fn(D)?`translate3d(0, ${ue}px, 0)`:`translate3d(${ue}px, 0, 0)`})}}}Se.useEffect(()=>{window.requestAnimationFrame(()=>{ct.current=!0})},[]),Se.useEffect(()=>{var nt;function Dt(){if(!Me.current||!q)return;const zt=document.activeElement;if(H0(zt)||Et.current){var jt;const Jt=((jt=window.visualViewport)==null?void 0:jt.height)||0,pn=window.innerHeight;let an=pn-Jt;const ts=Me.current.getBoundingClientRect().height||0,Yn=ts>pn*.8;kt.current||(kt.current=ts);const X=Me.current.getBoundingClientRect().top;if(Math.abs(yt.current-an)>60&&(Et.current=!Et.current),o&&o.length>0&&je&&$){const ne=je[$]||0;an+=ne}if(yt.current=an,ts>Jt||Et.current){const ne=Me.current.getBoundingClientRect().height;let ue=ne;ne>Jt&&(ue=Jt-(Yn?X:V0)),_?Me.current.style.height=`${ne-Math.max(an,0)}px`:Me.current.style.height=`${Math.max(ue,Jt-X)}px`}else bB()||(Me.current.style.height=`${kt.current}px`);o&&o.length>0&&!Et.current?Me.current.style.bottom="0px":Me.current.style.bottom=`${Math.max(an,0)}px`}}return(nt=window.visualViewport)==null||nt.addEventListener("resize",Dt),()=>{var zt;return(zt=window.visualViewport)==null?void 0:zt.removeEventListener("resize",Dt)}},[$,o,je]);function Be(nt){On(),S==null||S(),nt||B(!1),setTimeout(()=>{o&&oe(o[0])},wn.DURATION*1e3)}function _t(){if(!Me.current)return;const nt=document.querySelector("[data-vaul-drawer-wrapper]"),Dt=$f(Me.current,D);Qn(Me.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${wn.DURATION}s cubic-bezier(${wn.EASE.join(",")})`}),Qn(W.current,{transition:`opacity ${wn.DURATION}s cubic-bezier(${wn.EASE.join(",")})`,opacity:"1"}),l&&Dt&&Dt>0&&K&&Qn(nt,xe(z({borderRadius:`${tT}px`,overflow:"hidden"},Fn(D)?{transform:`scale(${Ke()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Ke()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"}),{transitionProperty:"transform, border-radius",transitionDuration:`${wn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${wn.EASE.join(",")})`}),!0)}function On(){!ve||!Me.current||(Me.current.classList.remove(Kg),ze.current=!1,H(!1),ye.current=new Date)}function os(nt){if(!ve||!Me.current)return;Me.current.classList.remove(Kg),ze.current=!1,H(!1),ye.current=new Date;const Dt=$f(Me.current,D);if(!nt||!es(nt.target,!1)||!Dt||Number.isNaN(Dt)||ke.current===null)return;const zt=ye.current.getTime()-ke.current.getTime(),jt=Ve.current-(Fn(D)?nt.pageY:nt.pageX),Jt=Math.abs(jt)/zt;if(Jt>.05&&(we(!0),setTimeout(()=>{we(!1)},200)),o){V({draggedDistance:jt*(D==="bottom"||D==="right"?1:-1),closeDrawer:Be,velocity:Jt,dismissible:p}),a==null||a(nt,!0);return}if(D==="bottom"||D==="right"?jt>0:jt<0){_t(),a==null||a(nt,!0);return}if(Jt>eT){Be(),a==null||a(nt,!1);return}var pn;const an=Math.min((pn=Me.current.getBoundingClientRect().height)!=null?pn:0,window.innerHeight);var ts;const Yn=Math.min((ts=Me.current.getBoundingClientRect().width)!=null?ts:0,window.innerWidth),X=D==="left"||D==="right";if(Math.abs(Dt)>=(X?Yn:an)*f){Be(),a==null||a(nt,!1);return}a==null||a(nt,!0),_t()}Se.useEffect(()=>(K&&(Qn(document.documentElement,{scrollBehavior:"auto"}),me.current=new Date),()=>{AB(document.documentElement,"scrollBehavior")}),[K]);function ws(nt){const Dt=nt?(window.innerWidth-uo)/window.innerWidth:1,zt=nt?-uo:0;tt.current&&window.clearTimeout(tt.current),Qn(Me.current,{transition:`transform ${wn.DURATION}s cubic-bezier(${wn.EASE.join(",")})`,transform:Fn(D)?`scale(${Dt}) translate3d(0, ${zt}px, 0)`:`scale(${Dt}) translate3d(${zt}px, 0, 0)`}),!nt&&Me.current&&(tt.current=setTimeout(()=>{const jt=$f(Me.current,D);Qn(Me.current,{transition:"none",transform:Fn(D)?`translate3d(0, ${jt}px, 0)`:`translate3d(${jt}px, 0, 0)`})},500))}function qn(nt,Dt){if(Dt<0)return;const zt=(window.innerWidth-uo)/window.innerWidth,jt=zt+Dt*(1-zt),Jt=-uo+Dt*uo;Qn(Me.current,{transform:Fn(D)?`scale(${jt}) translate3d(0, ${Jt}px, 0)`:`scale(${jt}) translate3d(${Jt}px, 0, 0)`,transition:"none"})}function vr(nt,Dt){const zt=Fn(D)?window.innerHeight:window.innerWidth,jt=Dt?(zt-uo)/zt:1,Jt=Dt?-uo:0;Dt&&Qn(Me.current,{transition:`transform ${wn.DURATION}s cubic-bezier(${wn.EASE.join(",")})`,transform:Fn(D)?`scale(${jt}) translate3d(0, ${Jt}px, 0)`:`scale(${jt}) translate3d(${Jt}px, 0, 0)`})}return Se.useEffect(()=>{j||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[j]),Se.createElement(my,{defaultOpen:k,onOpenChange:nt=>{!p&&!nt||(nt?Q(!0):Be(!0),B(nt))},open:K},Se.createElement(GE.Provider,{value:{activeSnapPoint:Xt,snapPoints:o,setActiveSnapPoint:oe,drawerRef:Me,overlayRef:W,onOpenChange:t,onPress:bt,onRelease:os,onDrag:Te,dismissible:p,shouldAnimate:ct,handleOnly:x,isOpen:K,isDragging:ve,shouldFade:Oe,closeDrawer:Be,onNestedDrag:qn,onNestedOpenChange:ws,onNestedRelease:vr,keyboardIsOpen:Et,modal:j,snapPointsOffset:je,activeSnapPointIndex:$,direction:D,shouldScaleBackground:l,setBackgroundColorOnScale:u,noBodyStyles:O,container:G,autoFocus:ee}},n))}const rT=Se.forwardRef(function(n,t){var e=De(n,[]);const{overlayRef:s,snapPoints:a,onRelease:o,shouldFade:l,isOpen:u,modal:f,shouldAnimate:h}=nd(),p=ZE(t,s),x=a&&a.length>0;if(!f)return null;const y=Se.useCallback(b=>o(b),[o]);return Se.createElement(gy,z({onMouseUp:y,ref:p,"data-vaul-overlay":"","data-vaul-snap-points":u&&x?"true":"false","data-vaul-snap-points-overlay":u&&l?"true":"false","data-vaul-animate":h!=null&&h.current?"true":"false"},e))});rT.displayName="Drawer.Overlay";const aT=Se.forwardRef(function(o,a){var l=o,{onPointerDownOutside:e,style:t,onOpenAutoFocus:n}=l,s=De(l,["onPointerDownOutside","style","onOpenAutoFocus"]);const{drawerRef:u,onPress:f,onRelease:h,onDrag:p,keyboardIsOpen:x,snapPointsOffset:y,activeSnapPointIndex:b,modal:w,isOpen:_,direction:j,snapPoints:S,container:C,handleOnly:O,shouldAnimate:D,autoFocus:k}=nd(),[R,M]=Se.useState(!1),F=ZE(a,u),q=Se.useRef(null),re=Se.useRef(null),G=Se.useRef(!1),ee=S&&S.length>0;BB();const de=(K,B,Y=0)=>{if(G.current)return!0;const Q=Math.abs(K.y),ve=Math.abs(K.x),H=ve>Q,ae=["bottom","right"].includes(B)?1:-1;if(B==="left"||B==="right"){if(!(K.x*ae<0)&&ve>=0&&ve<=Y)return H}else if(!(K.y*ae<0)&&Q>=0&&Q<=Y)return!H;return G.current=!0,!0};Se.useEffect(()=>{ee&&window.requestAnimationFrame(()=>{M(!0)})},[]);function J(K){q.current=null,G.current=!1,h(K)}return Se.createElement(xy,xe(z({"data-vaul-drawer-direction":j,"data-vaul-drawer":"","data-vaul-delayed-snap-points":R?"true":"false","data-vaul-snap-points":_&&ee?"true":"false","data-vaul-custom-container":C?"true":"false","data-vaul-animate":D!=null&&D.current?"true":"false"},s),{ref:F,style:y&&y.length>0?z({"--snap-point-height":`${y[b!=null?b:0]}px`},t):t,onPointerDown:K=>{O||(s.onPointerDown==null||s.onPointerDown.call(s,K),q.current={x:K.pageX,y:K.pageY},f(K))},onOpenAutoFocus:K=>{n==null||n(K),k||K.preventDefault()},onPointerDownOutside:K=>{if(e==null||e(K),!w||K.defaultPrevented){K.preventDefault();return}x.current&&(x.current=!1)},onFocusOutside:K=>{if(!w){K.preventDefault();return}},onPointerMove:K=>{if(re.current=K,O||(s.onPointerMove==null||s.onPointerMove.call(s,K),!q.current))return;const B=K.pageY-q.current.y,Y=K.pageX-q.current.x,Q=K.pointerType==="touch"?10:2;de({x:Y,y:B},j,Q)?p(K):(Math.abs(Y)>Q||Math.abs(B)>Q)&&(q.current=null)},onPointerUp:K=>{s.onPointerUp==null||s.onPointerUp.call(s,K),q.current=null,G.current=!1,h(K)},onPointerOut:K=>{s.onPointerOut==null||s.onPointerOut.call(s,K),J(re.current)},onContextMenu:K=>{s.onContextMenu==null||s.onContextMenu.call(s,K),re.current&&J(re.current)}}))});aT.displayName="Drawer.Content";const VB=250,$B=120,qB=Se.forwardRef(function(a,s){var o=a,{preventCycle:e=!1,children:t}=o,n=De(o,["preventCycle","children"]);const{closeDrawer:l,isDragging:u,snapPoints:f,activeSnapPoint:h,setActiveSnapPoint:p,dismissible:x,handleOnly:y,isOpen:b,onPress:w,onDrag:_}=nd(),j=Se.useRef(null),S=Se.useRef(!1);function C(){if(S.current){k();return}window.setTimeout(()=>{O()},$B)}function O(){if(u||e||S.current){k();return}if(k(),!f||f.length===0){x||l();return}if(h===f[f.length-1]&&x){l();return}const M=f.findIndex(q=>q===h);if(M===-1)return;const F=f[M+1];p(F)}function D(){j.current=window.setTimeout(()=>{S.current=!0},VB)}function k(){j.current&&window.clearTimeout(j.current),S.current=!1}return Se.createElement("div",z({onClick:C,onPointerCancel:k,onPointerDown:R=>{y&&w(R),D()},onPointerMove:R=>{y&&_(R)},ref:s,"data-vaul-drawer-visible":b?"true":"false","data-vaul-handle":"","aria-hidden":"true"},n),Se.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});qB.displayName="Drawer.Handle";function YB(e){const t=nd(),a=e,{container:n=t.container}=a,s=De(a,["container"]);return Se.createElement(py,z({container:n},s))}const ac={Root:HB,Content:aT,Overlay:rT,Portal:YB,Title:UE,Description:BE};function IB(t){var e=De(t,[]);return d.jsx(ac.Root,z({"data-slot":"drawer"},e))}function WB(t){var e=De(t,[]);return d.jsx(ac.Portal,z({"data-slot":"drawer-portal"},e))}function XB(n){var s=n,{className:e}=s,t=De(s,["className"]);return d.jsx(ac.Overlay,z({"data-slot":"drawer-overlay",className:yn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e)},t))}function GB(s){var a=s,{className:e,children:t}=a,n=De(a,["className","children"]);return d.jsxs(WB,{"data-slot":"drawer-portal",children:[d.jsx(XB,{}),d.jsxs(ac.Content,xe(z({"data-slot":"drawer-content",className:yn("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-2/3 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",e)},n),{children:[d.jsx("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),t]}))]})}function KB(n){var s=n,{className:e}=s,t=De(s,["className"]);return d.jsx("div",z({"data-slot":"drawer-header",className:yn("flex flex-col gap-0.5 p-4 group-data-[vaul-drawer-direction=bottom]/drawer-content:text-center group-data-[vaul-drawer-direction=top]/drawer-content:text-center md:gap-1.5 md:text-left",e)},t))}function QB(n){var s=n,{className:e}=s,t=De(s,["className"]);return d.jsx("div",z({"data-slot":"drawer-footer",className:yn("mt-auto flex flex-col gap-2 p-4",e)},t))}function ZB(n){var s=n,{className:e}=s,t=De(s,["className"]);return d.jsx(ac.Title,z({"data-slot":"drawer-title",className:yn("text-foreground font-semibold",e)},t))}function JB(n){var s=n,{className:e}=s,t=De(s,["className"]);return d.jsx(ac.Description,z({"data-slot":"drawer-description",className:yn("text-muted-foreground text-sm",e)},t))}const ic=e=>{const{data:t,isLoading:n,error:s}=hs("Project",e,{fields:["name","users"]}),{data:a,isLoading:o}=hs("Project",(t==null?void 0:t.name)||"",t!=null&&t.name?"Project":void 0);return{data:(a==null?void 0:a.users)||(t==null?void 0:t.users)||[],isLoading:n||o,error:s}};class iT{static useUpdatePhase(){const{updateDoc:t,loading:n,error:s}=Fs();return{updatePhase:(o,l)=>ge(null,null,function*(){return t("project_phase",o,l)}),isLoading:n,error:s}}static usePhaseAssignment(){const{createDoc:t}=Ao(),{deleteDoc:n}=Uh(),{data:s}=hs("User","",{shouldFetch:!0});return{assignPhase:(l,u)=>ge(null,null,function*(){return t("ToDo",{allocated_to:u,assigned_by:(s==null?void 0:s.name)||"",reference_type:"project_phase",reference_name:l,description:`Assigned to phase: ${l}`,status:"Open"})}),unassignPhase:l=>ge(null,null,function*(){return n("ToDo",l)})}}}const e8=iT.useUpdatePhase,oT=iT.usePhaseAssignment,t8=({isOpen:e,onClose:t,projectName:n,onSuccess:s})=>{const[a,o]=N.useState({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),{createDoc:l,loading:u,error:f}=Ao(),{assignPhase:h}=oT(),{data:p,isLoading:x}=ic(n),y=(_,j)=>{o(S=>xe(z({},S),{[_]:j}))},b=_=>ge(null,null,function*(){if(_.preventDefault(),!!a.subject.trim())try{const j=a,{assign_to:S}=j,C=De(j,["assign_to"]),O=yield l("project_phase",{project:n,subject:C.subject,start_date:C.start_date||null,end_date:C.end_date||null,priority:C.priority,details:C.details||null,costing:C.costing||0,status:"Open",progress:0});S&&O&&(yield h(O.name,S)),o({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),s&&s(),t()}catch(S){console.error("Failed to create project phase:",S)}}),w=()=>{o({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),t()};return d.jsx(Ss,{open:e,onOpenChange:w,children:d.jsxs(Ns,{className:"sm:max-w-[500px]",children:[d.jsxs(Es,{children:[d.jsx(ks,{children:"Create New Project Phase"}),d.jsxs(_o,{children:['Add a new phase to organize tasks and milestones for "',n,'".']})]}),d.jsxs("form",{onSubmit:b,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"subject",children:"Phase Name *"}),d.jsx($t,{id:"subject",value:a.subject,onChange:_=>y("subject",_.target.value),placeholder:"e.g., Planning, Development, Testing",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"priority",children:"Priority"}),d.jsxs("select",{id:"priority",value:a.priority,onChange:_=>y("priority",_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[d.jsx("option",{value:"Low",children:"Low"}),d.jsx("option",{value:"Medium",children:"Medium"}),d.jsx("option",{value:"High",children:"High"}),d.jsx("option",{value:"Critical",children:"Critical"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"start_date",children:"Start Date"}),d.jsxs("div",{className:"relative",children:[d.jsx($t,{id:"start_date",type:"date",value:a.start_date,onChange:_=>y("start_date",_.target.value)}),d.jsx(Mr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"end_date",children:"End Date"}),d.jsxs("div",{className:"relative",children:[d.jsx($t,{id:"end_date",type:"date",value:a.end_date,onChange:_=>y("end_date",_.target.value),min:a.start_date||void 0}),d.jsx(Mr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"costing",children:"Estimated Cost"}),d.jsx($t,{id:"costing",type:"number",value:a.costing,onChange:_=>y("costing",parseFloat(_.target.value)||0),placeholder:"0",min:"0",step:"0.01"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"assign_to",children:"Assign To"}),d.jsxs("select",{id:"assign_to",value:a.assign_to,onChange:_=>y("assign_to",_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:x,children:[d.jsx("option",{value:"",children:"Select user..."}),p==null?void 0:p.map(_=>d.jsx("option",{value:_.user||_.name,children:_.user||_.name},_.name))]}),x&&d.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"details",children:"Description"}),d.jsx("textarea",{id:"details",value:a.details,onChange:_=>y("details",_.target.value),placeholder:"Phase description, objectives, and key deliverables...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3})]}),f&&d.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:d.jsx("p",{className:"text-sm text-red-600",children:f.message||"Failed to create project phase. Please try again."})}),d.jsxs(Ts,{children:[d.jsx(Ie,{type:"button",variant:"outline",onClick:w,disabled:u,children:"Cancel"}),d.jsxs(Ie,{type:"submit",disabled:u||!a.subject.trim(),className:"flex items-center gap-2",children:[u&&d.jsx(b0,{className:"h-4 w-4 animate-spin"}),"Create Phase"]})]})]})]})})},n8=({projectName:e,onViewPhaseDetails:t,onViewTaskDetails:n,onViewSubTaskDetails:s})=>{const[a,o]=N.useState(new Set),[l,u]=N.useState(new Set),[f,h]=N.useState(!1),[p,x]=N.useState([]),{data:y,isLoading:b,mutate:w}=_n("project_phase",{fields:["name","subject","status","priority","start_date","end_date","progress","details","costing"],filters:[["project","=",e]],orderBy:{field:"start_date",order:"asc"}});N.useEffect(()=>{y&&y.length>0?ge(null,null,function*(){const K=[];for(const B of y)try{const Y=yield fetch(`/api/resource/project_phase/${B.name}`,{headers:{Accept:"application/json"}});if(Y.ok){const Q=yield Y.json();K.push(Q.data)}else console.warn("Failed to fetch phase:",B.name),K.push(B)}catch(Y){console.error("Error fetching phase:",B.name,Y),K.push(B)}x(K)}):x([])},[y==null?void 0:y.length,y==null?void 0:y.map(J=>J.name).join(",")]);const{data:_,isLoading:j}=_n("Task",{fields:["name","subject","status","priority","project","exp_start_date","exp_end_date","progress"],filters:[["project","=",e]],orderBy:{field:"exp_start_date",order:"asc"}}),S=(_==null?void 0:_.map(J=>J.name))||[],{data:C,isLoading:O}=_n("SubTask",{fields:["name","subject","task","status","progress","start_date","end_date","description"],filters:S.length>0?[["task","in",S]]:[["task","=","dummy-non-existent-task"]],orderBy:{field:"start_date",order:"asc"}}),D=J=>{const K=new Set(a);K.has(J)?K.delete(J):K.add(J),o(K)},k=J=>{const K=new Set(l);K.has(J)?K.delete(J):K.add(J),u(K)},R=J=>{switch(J){case"Completed":return d.jsx(Vh,{className:"h-4 w-4 text-green-600"});case"Working":return d.jsx(jo,{className:"h-4 w-4 text-yellow-600"});default:return d.jsx(jD,{className:"h-4 w-4 text-gray-400"})}},M=J=>{switch(J){case"Completed":return"bg-green-100 text-green-800";case"Working":return"bg-yellow-100 text-yellow-800";default:return"bg-blue-100 text-blue-800"}},F=J=>{switch(J){case"Urgent":return"bg-red-100 text-red-800";case"High":return"bg-orange-100 text-orange-800";case"Medium":return"bg-yellow-100 text-yellow-800";default:return"bg-green-100 text-green-800"}},q=(J,K,B,Y=!1,Q=!1,ve)=>{const H=K>0?`pl-${K*6}`:"pl-6";let ae="",we="mr-3 text-lg",W="";B==="phase"?W="":B==="task"?W="":B==="phase-task"?W="":B==="subtask"&&(W=""),B==="phase"||B==="task"&&Y||B==="phase-task"&&Y?(ae=Q?"":"",we+=" text-blue-600 cursor-pointer hover:text-blue-800 transition-colors"):B==="phase-task"?(ae="",we+=" text-green-500"):B==="subtask"?(ae="",we+=" text-gray-400"):B==="task"?(ae="",we+=" text-orange-500"):(ae="",we+=" text-gray-400");const me=J.subject||J.name,ke=J.status||"Open",ye=J.progress||0,Ce=ze=>{ze.preventDefault(),ze.stopPropagation(),ve&&ve()};return d.jsx("div",{className:"hover:bg-gray-50 transition-colors",children:d.jsxs("div",{className:`grid grid-cols-12 gap-4 py-3 px-6 border-b border-gray-100 items-center ${H}`,children:[d.jsxs("div",{className:"col-span-6 flex items-center",children:[d.jsx("span",{className:we,onClick:Ce,role:ve?"button":void 0,tabIndex:ve?0:void 0,children:ae}),d.jsx("span",{className:"mr-2 text-lg",children:W}),R(ke),d.jsxs("div",{className:"ml-3 flex-1",children:[d.jsx("div",{className:`font-medium ${B==="phase"?"text-blue-900 text-lg":B==="task"?"text-orange-900":B==="phase-task"?"text-green-900":"text-gray-700"}`,children:me}),J.description&&B==="subtask"&&d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:J.description}),J.details&&B==="phase"&&d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:J.details})]})]}),d.jsx("div",{className:"col-span-2 text-center",children:d.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${M(ke)}`,children:ke})}),d.jsx("div",{className:"col-span-2 text-center",children:J.priority&&d.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${F(J.priority)}`,children:J.priority})}),d.jsxs("div",{className:"col-span-2 flex items-center justify-center space-x-2",children:[d.jsx("div",{className:`${B==="phase"?"w-20":"w-16"} bg-gray-200 rounded-full h-2`,children:d.jsx("div",{className:`${B==="phase"?"bg-blue-600":B==="task"?"bg-orange-600":B==="phase-task"?"bg-green-600":"bg-purple-600"} h-2 rounded-full transition-all duration-300`,style:{width:`${ye}%`}})}),d.jsxs("span",{className:"text-sm text-gray-600 w-8 text-right",children:[ye,"%"]}),B==="phase"&&t&&d.jsx(Ie,{variant:"outline",size:"sm",onClick:ze=>{ze.preventDefault(),ze.stopPropagation(),t(J)},className:"ml-2 h-7 px-2 text-xs",children:"View Details"}),(B==="task"||B==="phase-task")&&n&&d.jsx(Ie,{variant:"outline",size:"sm",onClick:ze=>{ze.preventDefault(),ze.stopPropagation(),n(J)},className:"ml-2 h-7 px-2 text-xs",children:"View Details"}),B==="subtask"&&s&&d.jsx(Ie,{variant:"outline",size:"sm",onClick:ze=>{ze.preventDefault(),ze.stopPropagation(),s(J)},className:"ml-2 h-7 px-2 text-xs",children:"View Details"})]})]})},`${B}-${J.name}`)};if(b||j||O)return d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"}),d.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"}),d.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"})]});const re=p.length>0?p:y||[],G=_||[],ee=C||[],de=J=>ee.filter(K=>K.task===J);return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Project Tasks & Phases"}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsxs(Ie,{size:"sm",className:"flex items-center gap-2",onClick:()=>h(!0),children:[d.jsx(So,{className:"h-4 w-4"}),"Add Phase"]})})]}),d.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[d.jsxs("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-200 grid grid-cols-12 gap-4 text-sm font-medium text-gray-700",children:[d.jsx("div",{className:"col-span-6",children:"Task / Phase"}),d.jsx("div",{className:"col-span-2 text-center",children:"Status"}),d.jsx("div",{className:"col-span-2 text-center",children:"Priority"}),d.jsx("div",{className:"col-span-2 text-center",children:"Progress"})]}),d.jsxs("div",{className:"divide-y divide-gray-100",children:[re.map(J=>{const K=a.has(J.name),B=J.tasks||[];return d.jsxs("div",{children:[q(J,0,"phase",B.length>0,K,()=>{D(J.name)}),K&&B.map((Y,Q)=>{const ve=G.find(W=>W.name===Y.task),H=de(Y.task),ae=H.length>0,we=l.has(Y.task);if(!ve){const W={name:Y.task,subject:Y.task,status:"Open"};return d.jsxs("div",{children:[q(W,1,"phase-task",ae,we,ae?()=>{k(Y.task)}:void 0),we&&ae&&H.map((me,ke)=>d.jsx("div",{children:q(me,2,"subtask",!1,!1)},`subtask-${ke}`))]},`phase-task-${Q}`)}return d.jsxs("div",{children:[q(ve,1,"phase-task",ae,we,ae?()=>{k(ve.name)}:void 0),we&&ae&&H.map((W,me)=>d.jsx("div",{children:q(W,2,"subtask",!1,!1)},`subtask-${me}`))]},`phase-task-${Q}`)})]},J.name)}),re.length>0&&G.filter(J=>!re.some(B=>{var Y;return(Y=B.tasks)==null?void 0:Y.some(Q=>Q.task===J.name)})).length>0&&d.jsx("div",{className:"bg-gray-100 px-6 py-2 border-b border-gray-200",children:d.jsxs("div",{className:"text-sm font-medium text-gray-600 flex items-center",children:[d.jsx("span",{className:"mr-2",children:""}),"Standalone Tasks"]})}),G.filter(J=>!re.some(B=>{var Y;return(Y=B.tasks)==null?void 0:Y.some(Q=>Q.task===J.name)})).map(J=>{const K=l.has(J.name),B=de(J.name),Y=B.length>0;return d.jsxs("div",{children:[q(J,0,"task",Y,K,Y?()=>{k(J.name)}:void 0),K&&Y&&B.map((Q,ve)=>d.jsx("div",{children:q(Q,1,"subtask",!1,!1)},`standalone-subtask-${ve}`))]},J.name)})]})]}),re.length===0&&G.length===0&&d.jsx("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:d.jsxs("div",{className:"max-w-md mx-auto",children:[d.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:""}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No phases or tasks yet"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"Start organizing your project by creating phases and tasks."}),d.jsxs("div",{className:"flex gap-3 justify-center",children:[d.jsx(Ie,{children:"Create First Phase"}),d.jsx(Ie,{variant:"outline",children:"Create Task"})]})]})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-6 border-t border-gray-200",children:[d.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-600",children:re.length}),d.jsx("div",{className:"text-sm text-blue-600",children:"Total Phases"})]}),d.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[d.jsx("div",{className:"text-2xl font-bold text-green-600",children:G.length}),d.jsx("div",{className:"text-sm text-green-600",children:"Total Tasks"})]}),d.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[d.jsx("div",{className:"text-2xl font-bold text-purple-600",children:ee.length}),d.jsx("div",{className:"text-sm text-purple-600",children:"Total Subtasks"})]})]}),d.jsx(t8,{isOpen:f,onClose:()=>h(!1),projectName:e,onSuccess:()=>{w()}})]})};class s8{static useCreatePhaseTask(){const{createDoc:t,loading:n}=Ao(),{call:s}=fs("frappe.client.insert"),{call:a}=fs("frappe.client.save"),{data:o}=hs("User","",{shouldFetch:!0});return{createTaskWithPhase:u=>ge(null,null,function*(){try{const f=yield t("Task",{subject:u.subject,description:u.description,priority:u.priority,status:u.status,type:u.type,expected_time:u.expected_time,task_weight:u.task_weight,project:u.project});console.log("Task created successfully:",f);let h=null;if(u.assign_to&&f)try{h=yield s({doc:{doctype:"ToDo",allocated_to:u.assign_to,assigned_by:(o==null?void 0:o.name)||"",description:`Task: ${u.subject}`,reference_type:"Task",reference_name:f.name,status:"Open",priority:u.priority,date:new Date().toISOString().split("T")[0]}}),console.log("ToDo created successfully:",h)}catch(p){console.error("Error creating ToDo:",p)}if(u.phaseId&&f){const p={parent:u.phaseId,parenttype:"project_phase",parentfield:"tasks",task:f.name,task_name:f.subject,status:f.status,start_date:f.exp_start_date,end_date:f.exp_end_date,description:f.description},x=yield s({doc:z({doctype:"Project Phase Task"},p)});console.log("Project Phase Task created successfully:",x);try{console.log("Saving parent phase document to commit child table changes...");const y=yield a({doc:{doctype:"project_phase",name:u.phaseId}});console.log("Parent phase saved successfully:",y)}catch(y){console.warn("Failed to save parent phase, but child was created:",y)}return{success:!0,task:f,phaseTask:x,todo:h,message:"Task created and linked to phase successfully"}}return{success:!0,task:f,todo:h,message:"Task created successfully"}}catch(f){return console.error("Error in createTaskWithPhase:",f),f instanceof Error?{success:!1,error:f.message,message:"Failed to create task"}:{success:!1,error:"Unknown error occurred",message:"Failed to create task"}}}),isLoading:n}}static useLinkTaskToPhase(){const{call:t}=fs("frappe.client.insert");return{linkTaskToPhase:(s,a,o)=>ge(null,null,function*(){try{const l={parent:a,parenttype:"Project Phase",parentfield:"tasks",task:s,task_name:(o==null?void 0:o.task_name)||s,status:(o==null?void 0:o.status)||"Open",start_date:o==null?void 0:o.start_date,end_date:o==null?void 0:o.end_date,description:o==null?void 0:o.description};return{success:!0,phaseTask:yield t({doc:z({doctype:"Project Phase Task"},l)}),message:"Task linked to phase successfully"}}catch(l){return console.error("Error linking task to phase:",l),{success:!1,error:l instanceof Error?l.message:"Unknown error",message:"Failed to link task to phase"}}})}}}const r8=s8.useCreatePhaseTask,a8=({isOpen:e,onClose:t,projectName:n,phaseId:s,onSuccess:a})=>{const[o,l]=N.useState({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,assign_to:""}),[u,f]=N.useState({}),{createTaskWithPhase:h,isLoading:p}=r8(),{data:x,isLoading:y}=ic(n),b=(S,C)=>{l(O=>xe(z({},O),{[S]:C})),u[S]&&f(O=>xe(z({},O),{[S]:""}))},w=()=>{const S={};return o.subject.trim()||(S.subject="Task subject is required"),f(S),Object.keys(S).length===0},_=S=>ge(null,null,function*(){if(S.preventDefault(),!!w())try{const C=xe(z({},o),{project:n,expected_time:Number(o.expected_time),task_weight:Number(o.task_weight),phaseId:s,assign_to:o.assign_to||void 0}),O=yield h(C);console.log("Task with phase created:",O),O.todo&&o.assign_to&&console.log("Task assigned and ToDo created for:",o.assign_to),l({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,assign_to:""}),f({}),a&&a(),t()}catch(C){console.error("Error creating task:",C),f({submit:"Failed to create task. Please try again."})}}),j=()=>{l({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,assign_to:""}),f({}),t()};return d.jsx(Ss,{open:e,onOpenChange:j,children:d.jsxs(Ns,{className:"sm:max-w-[600px]",children:[d.jsxs(Es,{children:[d.jsxs(ks,{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-2xl",children:""}),"Create New Task"]}),d.jsxs(_o,{children:["Create a new task for project: ",d.jsx("strong",{children:n}),s&&d.jsxs(d.Fragment,{children:[d.jsx("br",{}),d.jsx("span",{className:"text-blue-600",children:" This task will be linked to the current phase"})]}),d.jsx("br",{}),d.jsx("span",{className:"text-gray-600",children:" Assigning to a user will automatically create a ToDo item for them"})]})]}),d.jsxs("form",{onSubmit:_,className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx(He,{htmlFor:"subject",children:"Task Subject *"}),d.jsx($t,{id:"subject",value:o.subject,onChange:S=>b("subject",S.target.value),placeholder:"Enter task subject...",className:u.subject?"border-red-500":""}),u.subject&&d.jsx("p",{className:"text-sm text-red-600 mt-1",children:u.subject})]}),d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx(He,{htmlFor:"description",children:"Description"}),d.jsx("textarea",{id:"description",value:o.description,onChange:S=>b("description",S.target.value),placeholder:"Enter task description...",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx(He,{htmlFor:"priority",children:"Priority"}),d.jsxs("select",{id:"priority",value:o.priority,onChange:S=>b("priority",S.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[d.jsx("option",{value:"Low",children:"Low"}),d.jsx("option",{value:"Medium",children:"Medium"}),d.jsx("option",{value:"High",children:"High"}),d.jsx("option",{value:"Urgent",children:"Urgent"})]})]}),d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx(He,{htmlFor:"status",children:"Status"}),d.jsxs("select",{id:"status",value:o.status,onChange:S=>b("status",S.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[d.jsx("option",{value:"Open",children:"Open"}),d.jsx("option",{value:"Working",children:"Working"}),d.jsx("option",{value:"Completed",children:"Completed"})]})]})]}),d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx(He,{htmlFor:"assign_to",children:"Assign To"}),d.jsxs("select",{id:"assign_to",value:o.assign_to,onChange:S=>b("assign_to",S.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",disabled:y,children:[d.jsx("option",{value:"",children:"Select user to assign (Optional)"}),x==null?void 0:x.map(S=>d.jsxs("option",{value:S.user||S.name,children:[S.full_name||S.name,S.email&&` (${S.email})`]},S.user||S.name))]}),y&&d.jsx("p",{className:"text-sm text-gray-500",children:"Loading users..."}),!y&&x&&x.length>10&&d.jsx("p",{className:"text-sm text-amber-600",children:" Showing all system users (project users not available)"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx(He,{htmlFor:"expected_time",children:"Expected Time (hours)"}),d.jsx($t,{id:"expected_time",type:"number",min:"0",step:"0.5",value:o.expected_time,onChange:S=>b("expected_time",Number(S.target.value)),placeholder:"0"})]}),d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx(He,{htmlFor:"task_weight",children:"Task Weight"}),d.jsx($t,{id:"task_weight",type:"number",min:"1",value:o.task_weight,onChange:S=>b("task_weight",Number(S.target.value)),placeholder:"1"})]})]})]}),u.submit&&d.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-md p-3",children:u.submit}),d.jsxs(Ts,{children:[d.jsx(Ie,{type:"button",variant:"outline",onClick:j,children:"Cancel"}),d.jsx(Ie,{type:"submit",disabled:p,children:p?"Creating...":"Create Task"})]})]})]})})},i8=({phase:e,projectName:t,isOpen:n,onClose:s,onSuccess:a})=>{var O;const{updatePhase:o,isLoading:l,error:u}=e8(),{assignPhase:f,unassignPhase:h}=oT(),{data:p,isLoading:x}=ic(t),{data:y}=_n("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","project_phase"],["reference_name","=",(e==null?void 0:e.name)||""]]}),[b,w]=N.useState({subject:"",status:"Open",priority:"Medium",start_date:"",end_date:"",progress:0,details:"",costing:0,assign_to:""}),_=((O=y==null?void 0:y[0])==null?void 0:O.allocated_to)||"";N.useEffect(()=>{e&&w({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",progress:e.progress||0,details:e.details||"",costing:e.costing||0,assign_to:_})},[e,_]);const j=(D,k)=>{w(R=>xe(z({},R),{[D]:k}))},S=D=>ge(null,null,function*(){if(D.preventDefault(),!!e)try{const k=b,{assign_to:R}=k,M=De(k,["assign_to"]);yield o(e.name,M);const F=_,q=R;if(F&&F!==q){const re=y==null?void 0:y.find(G=>G.allocated_to===F);re&&(yield h(re.name))}q&&q!==F&&(yield f(e.name,q)),a&&a(),s()}catch(R){console.error("Error updating phase:",R)}}),C=()=>{e&&w({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",progress:e.progress||0,details:e.details||"",costing:e.costing||0,assign_to:_}),s()};return d.jsx(Ss,{open:n,onOpenChange:s,children:d.jsxs(Ns,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[d.jsx(Es,{children:d.jsx(ks,{children:"Edit Phase"})}),d.jsxs("form",{onSubmit:S,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"subject",children:"Subject *"}),d.jsx($t,{id:"subject",value:b.subject,onChange:D=>j("subject",D.target.value),required:!0,placeholder:"Enter phase subject"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"status",children:"Status"}),d.jsxs("select",{id:"status",value:b.status,onChange:D=>j("status",D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[d.jsx("option",{value:"Open",children:"Open"}),d.jsx("option",{value:"Working",children:"Working"}),d.jsx("option",{value:"Pending Review",children:"Pending Review"}),d.jsx("option",{value:"Completed",children:"Completed"}),d.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"priority",children:"Priority"}),d.jsxs("select",{id:"priority",value:b.priority,onChange:D=>j("priority",D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[d.jsx("option",{value:"Low",children:"Low"}),d.jsx("option",{value:"Medium",children:"Medium"}),d.jsx("option",{value:"High",children:"High"}),d.jsx("option",{value:"Critical",children:"Critical"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"start_date",children:"Start Date"}),d.jsx($t,{id:"start_date",type:"date",value:b.start_date,onChange:D=>j("start_date",D.target.value)})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"end_date",children:"End Date"}),d.jsx($t,{id:"end_date",type:"date",value:b.end_date,onChange:D=>j("end_date",D.target.value)})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"progress",children:"Progress (%)"}),d.jsx($t,{id:"progress",type:"number",min:"0",max:"100",value:b.progress,onChange:D=>j("progress",parseInt(D.target.value)||0),placeholder:"0"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"costing",children:"Costing"}),d.jsx($t,{id:"costing",type:"number",min:"0",step:"0.01",value:b.costing,onChange:D=>j("costing",parseFloat(D.target.value)||0),placeholder:"0.00"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"details",children:"Details"}),d.jsx("textarea",{id:"details",value:b.details,onChange:D=>j("details",D.target.value),placeholder:"Enter phase details",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"assign_to",children:"Assign To"}),d.jsxs("select",{id:"assign_to",value:b.assign_to,onChange:D=>j("assign_to",D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:x,children:[d.jsx("option",{value:"",children:"Select user..."}),p==null?void 0:p.map(D=>d.jsx("option",{value:D.user||D.name,children:D.user||D.name},D.name))]}),x&&d.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),u&&d.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:d.jsxs("p",{children:[d.jsx("strong",{children:"Error:"})," ",u.message||"Failed to update phase"]})}),d.jsxs(Ts,{className:"flex gap-2",children:[d.jsx(Ie,{type:"button",variant:"outline",onClick:C,children:"Cancel"}),d.jsx(Ie,{type:"submit",disabled:l,children:l?"Updating...":"Update Phase"})]})]})]})})},o8=({phase:e,isOpen:t,onClose:n,onSuccess:s})=>{const{call:a,loading:o,error:l}=fs("frappe.client.delete"),u=()=>ge(null,null,function*(){if(e)try{yield a({doctype:"project_phase",name:e.name}),s&&s(),n()}catch(h){console.error("Error deleting phase:",h)}}),f=()=>{n()};return d.jsx(Ss,{open:t,onOpenChange:n,children:d.jsxs(Ns,{className:"sm:max-w-[400px]",children:[d.jsx(Es,{children:d.jsxs(ks,{className:"flex items-center gap-2 text-red-600",children:[d.jsx(ql,{className:"h-5 w-5"}),"Delete Phase"]})}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this phase? This action cannot be undone."}),e&&d.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[d.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),d.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),d.jsxs("div",{className:"text-sm text-gray-600",children:["Priority: ",e.priority||"Medium"]})]}),d.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[d.jsxs("div",{className:"text-sm text-red-800",children:[d.jsx("strong",{children:"Warning:"})," Deleting this phase will also remove:"]}),d.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[d.jsx("li",{children:"All tasks associated with this phase"}),d.jsx("li",{children:"All phase progress data"}),d.jsx("li",{children:"Phase timeline and milestones"}),d.jsx("li",{children:"Related documents and attachments"})]})]}),l&&d.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:d.jsxs("p",{children:[d.jsx("strong",{children:"Error:"})," ",l.message||"Failed to delete phase"]})})]}),d.jsxs(Ts,{className:"flex gap-2",children:[d.jsx(Ie,{type:"button",variant:"outline",onClick:f,children:"Cancel"}),d.jsx(Ie,{type:"button",variant:"destructive",onClick:u,disabled:o,children:o?"Deleting...":"Delete Phase"})]})]})})};class l8{static usePhaseProgressCalculation(){const{updateDoc:t}=Fs();return{calculateAndUpdatePhaseProgress:s=>ge(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({doctype:"project_phase",name:s})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=(yield a.json()).message;if(!l||!l.tasks||l.tasks.length===0)return yield t("project_phase",s,{progress:0}),console.log(`Phase ${s} progress updated to 0% (no tasks)`),0;const u=l.tasks.map(b=>b.task),f=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["name","in",u]]})});if(!f.ok)throw new Error(`HTTP error! status: ${f.status}`);const p=(yield f.json()).message||[];if(p.length===0)return yield t("project_phase",s,{progress:0}),console.log(`Phase ${s} progress updated to 0% (no valid tasks)`),0;let x=0;p.forEach(b=>{x+=b.progress||0});const y=Math.round(x/p.length);return yield t("project_phase",s,{progress:y}),console.log(`Phase ${s} progress updated to ${y}% (based on ${p.length} tasks)`),y}catch(a){return console.error("Error calculating phase progress:",a),null}})}}static usePhaseStatusProgressUpdate(){const{updateDoc:t}=Fs();return{updatePhaseProgressByStatus:(s,a,o)=>ge(null,null,function*(){try{let l=o||0;switch(a){case"Completed":l=100;break;case"Cancelled":case"Rejected":l=0;break;default:break}return yield t("project_phase",s,{status:a,progress:l}),l}catch(l){return console.error("Error updating phase progress by status:",l),null}})}}static useManualPhaseProgressUpdate(){const{updateDoc:t}=Fs();return{updatePhaseProgress:(s,a)=>ge(null,null,function*(){try{let o="";return a===0||a===1?o="Open":a>1&&a<=90?o="Working":a>90&&a<100?o="Pending Review":a===100&&(o="Completed"),yield t("project_phase",s,{progress:a,status:o}),{progress:a,status:o}}catch(o){return console.error("Error updating manual phase progress:",o),null}})}}}const{usePhaseProgressCalculation:lT}=l8,c8=({phase:e,projectName:t,onBack:n,onViewTaskDetails:s,onPhaseUpdated:a,onPhaseDeleted:o,onTaskCreated:l})=>{var B;const[u,f]=N.useState(!1),[h,p]=N.useState(!1),[x,y]=N.useState(!1),[b,w]=N.useState(!1),{calculateAndUpdatePhaseProgress:_}=lT(),{data:j,mutate:S}=hs("project_phase",e.name,"project_phase"),C=j||e,{data:O,isLoading:D,mutate:k}=_n("Task",{fields:["name","subject","status","priority","project","exp_start_date","exp_end_date","progress"],filters:[["project","=",t]],orderBy:{field:"exp_start_date",order:"asc"}}),R=Se.useMemo(()=>{if(!O)return[];if(C.tasks&&C.tasks.length>0){const Y=C.tasks.map(Q=>Q.task);return O.filter(Q=>Y.includes(Q.name))}return[]},[O,C.tasks]),M=Se.useMemo(()=>{if(!R||R.length===0)return 0;const Y=R.reduce((Q,ve)=>Q+(ve.progress||0),0);return Math.round(Y/R.length)},[R]);N.useEffect(()=>{R.length>0&&M!==(C.progress||0)&&F()},[M,R.length]);const F=()=>ge(null,null,function*(){w(!0);try{yield _(e.name),yield S(),a&&a()}catch(Y){console.error("Error recalculating phase progress:",Y)}finally{w(!1)}}),q=Y=>Y?new Date(Y).toLocaleDateString():"N/A",re=Y=>Y?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Y):"$0",G=Y=>{switch(Y){case"Completed":return d.jsx(Vh,{className:"h-5 w-5 text-green-600"});case"Working":return d.jsx(Do,{className:"h-5 w-5 text-yellow-600"});case"Open":return d.jsx(jo,{className:"h-5 w-5 text-blue-600"});default:return d.jsx(jo,{className:"h-5 w-5 text-gray-400"})}},ee=Y=>{switch(Y){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},de=Y=>{switch(Y){case"Urgent":return"bg-red-100 text-red-800 border-red-200";case"High":return"bg-orange-100 text-orange-800 border-orange-200";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},J=()=>{a&&a()},K=()=>{o&&o(),n()};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs(Ie,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-2",children:[d.jsx(yx,{className:"h-4 w-4"}),"Back to Tasks"]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>p(!0),className:"flex items-center gap-2",children:[d.jsx(zl,{className:"h-4 w-4"}),"Edit Phase"]}),d.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>y(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[d.jsx($l,{className:"h-4 w-4"}),"Delete Phase"]})]})]}),d.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-6",children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("div",{className:"h-12 w-12 rounded-lg bg-blue-500 flex items-center justify-center",children:d.jsx("span",{className:"text-xl",children:""})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:C.subject}),d.jsx("p",{className:"text-sm text-gray-600",children:"Phase Details"})]})]}),C.details&&d.jsx("p",{className:"text-gray-700 leading-relaxed",children:C.details})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${ee(C.status||"Open")}`,children:[G(C.status||"Open"),d.jsx("span",{className:"font-medium",children:C.status||"Open"})]}),C.priority&&d.jsx("div",{className:`px-3 py-1 rounded-full border ${de(C.priority)}`,children:d.jsx("span",{className:"text-sm font-medium",children:C.priority})})]})]}),d.jsxs("div",{className:"mt-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Phase Progress"}),R.length>0&&d.jsxs("span",{className:"text-xs text-gray-500",children:["(Auto-calculated from ",R.length," tasks)"]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[M,"%"]}),d.jsx(Ie,{variant:"ghost",size:"sm",onClick:F,disabled:b,className:"h-8 w-8 p-0",title:"Recalculate progress from tasks",children:d.jsx(dN,{className:`h-4 w-4 ${b?"animate-spin":""}`})})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full transition-all duration-500",style:{width:`${M}%`}})}),R.length>0&&d.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Task progress: ",R.map(Y=>`${Y.subject}: ${Y.progress||0}%`).join(", ")]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:d.jsx(Mr,{className:"h-6 w-6 text-blue-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),d.jsx("p",{className:"text-lg font-bold text-gray-900",children:q(C.start_date)})]})]})}),d.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:d.jsx(wx,{className:"h-6 w-6 text-purple-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),d.jsx("p",{className:"text-lg font-bold text-gray-900",children:q(C.end_date)})]})]})}),d.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:d.jsx(bx,{className:"h-6 w-6 text-green-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Estimated Cost"}),d.jsx("p",{className:"text-lg font-bold text-gray-900",children:re(C.costing)})]})]})})]}),d.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Phase Information"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"Phase ID"}),d.jsx("span",{className:"text-gray-900 font-semibold",children:C.name})]}),d.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),d.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),d.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),d.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${ee(C.status||"Open")}`,children:[G(C.status||"Open"),d.jsx("span",{className:"font-medium",children:C.status||"Open"})]})]}),d.jsxs("div",{className:"flex items-center justify-between py-3",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),d.jsx("div",{className:`px-3 py-1 rounded-full ${de(C.priority||"Medium")}`,children:d.jsx("span",{className:"font-medium",children:C.priority||"Medium"})})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"Tasks Count"}),d.jsx("span",{className:"text-gray-900 font-semibold",children:((B=C.tasks)==null?void 0:B.length)||0})]}),d.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),d.jsx("span",{className:"text-gray-900 font-semibold",children:C.start_date&&C.end_date?`${Math.ceil((new Date(C.end_date).getTime()-new Date(C.start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),d.jsxs("div",{className:"flex items-center justify-between py-3",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"Progress"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"text-xl font-bold text-blue-600",children:[M,"%"]}),R.length>0&&d.jsxs("span",{className:"text-xs text-gray-500",children:["(from ",R.length," tasks)"]})]})]}),d.jsxs("div",{className:"flex items-center justify-between py-3",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"Estimated Cost"}),d.jsx("span",{className:"text-xl font-bold text-green-600",children:re(e.costing)})]})]})]})]}),d.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[d.jsx("div",{className:"flex items-center justify-between mb-6",children:d.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Tasks in this Phase"})}),D?d.jsxs("div",{className:"space-y-3",children:[d.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),d.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),d.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"})]}):d.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[d.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:d.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3",children:[d.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700",children:"#"}),d.jsx("div",{className:"col-span-4 text-sm font-medium text-gray-700",children:"Task"}),d.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Progress"}),d.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Status"}),d.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700 text-center",children:"Priority"}),d.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Actions"})]})}),d.jsxs("div",{className:"divide-y divide-gray-100",children:[R&&R.length>0?R.map((Y,Q)=>d.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[d.jsx("div",{className:"col-span-1 flex items-center",children:d.jsx("span",{className:"text-sm text-gray-600",children:Q+1})}),d.jsxs("div",{className:"col-span-4 flex items-center gap-3",children:[d.jsx("div",{className:"p-1 bg-orange-100 rounded",children:d.jsx("span",{className:"text-sm",children:""})}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:Y.subject||Y.name}),d.jsx("div",{className:"text-sm text-gray-500",children:Y.name})]})]}),d.jsx("div",{className:"col-span-2 flex items-center justify-center",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${Y.progress||0}%`}})}),d.jsxs("span",{className:"text-sm font-medium text-gray-700 min-w-[30px]",children:[Y.progress||0,"%"]})]})}),d.jsx("div",{className:"col-span-2 flex items-center justify-center",children:d.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${ee(Y.status||"Open")}`,children:Y.status||"Open"})}),d.jsx("div",{className:"col-span-1 flex items-center justify-center",children:Y.priority&&d.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${de(Y.priority)}`,children:Y.priority})}),d.jsx("div",{className:"col-span-2 flex items-center justify-center",children:s&&d.jsx(Ie,{variant:"outline",size:"sm",onClick:()=>s(Y),className:"h-7 px-2 text-xs",children:"View Details"})})]},Y.name)):d.jsxs("div",{className:"px-6 py-8 text-center text-gray-500",children:[d.jsx("div",{className:"text-4xl mb-2",children:""}),d.jsx("div",{className:"text-lg font-medium mb-1",children:"No tasks yet"}),d.jsx("div",{className:"text-sm",children:'Click "Add Task" to create the first task for this phase'})]}),d.jsx("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 bg-gray-50 border-t border-gray-200",children:d.jsx("div",{className:"col-span-12 flex items-center justify-center",children:d.jsxs(Ie,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",onClick:()=>f(!0),children:[d.jsx(So,{className:"h-4 w-4"}),"Add new task to this phase"]})})})]})]})]}),d.jsx(a8,{isOpen:u,onClose:()=>f(!1),projectName:t,phaseId:e.name,onSuccess:()=>ge(null,null,function*(){console.log("Task creation success callback triggered"),console.log("Refreshing phase data..."),yield S(),l&&(console.log("Calling onTaskCreated to refresh parent data"),yield l()),console.log("Refreshing tasks data after phase refresh..."),setTimeout(()=>ge(null,null,function*(){yield k(),console.log("Tasks data refreshed"),setTimeout(()=>ge(null,null,function*(){console.log("Recalculating phase progress after task creation..."),yield F()}),500)}),500)})}),d.jsx(i8,{phase:e,projectName:t,isOpen:h,onClose:()=>p(!1),onSuccess:J}),d.jsx(o8,{phase:e,isOpen:x,onClose:()=>y(!1),onSuccess:K})]})};class u8{static useUpdateSubTask(){const{updateDoc:t,loading:n,error:s}=Fs();return{updateSubTask:(o,l)=>ge(null,null,function*(){return yield t("SubTask",o,l)}),isLoading:n,error:s}}static useSubTaskAssignment(){const{createDoc:t}=Ao(),{deleteDoc:n}=Uh(),{data:s}=hs("User","",{shouldFetch:!0});return{assignSubTask:(l,u)=>ge(null,null,function*(){return yield t("ToDo",{allocated_to:u,assigned_by:(s==null?void 0:s.name)||"",reference_type:"SubTask",reference_name:l,description:`Assignment for SubTask: ${l}`,status:"Open"})}),unassignSubTask:l=>ge(null,null,function*(){return yield n("ToDo",l)})}}}const{useUpdateSubTask:d8,useSubTaskAssignment:cT}=u8;class f8{static useTaskProgressCalculation(){const{updateDoc:t}=Fs();return{calculateAndUpdateTaskProgress:s=>ge(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({doctype:"SubTask",fields:["name","status"],filters:[["task","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=(yield a.json()).message||[];if(!l||l.length===0)return null;let u=0;l.forEach(h=>{switch(h.status){case"Open":u+=1;break;case"Working":u+=50;break;case"Completed":u+=100;break;default:u+=0}});const f=Math.round(u/l.length);return yield t("Task",s,{progress:f}),console.log(`Task ${s} progress updated to ${f}%`),f}catch(a){return console.error("Error calculating task progress:",a),null}})}}static useTaskStatusProgressUpdate(){const{updateDoc:t}=Fs();return{updateTaskProgressByStatus:(s,a,o)=>ge(null,null,function*(){try{let l=o||0;switch(a){case"Completed":l=100;break;case"Cancelled":case"Rejected":l=0;break;default:break}return yield t("Task",s,{status:a,progress:l}),l}catch(l){return console.error("Error updating task progress by status:",l),null}})}}static useManualProgressUpdate(){const{updateDoc:t}=Fs();return{updateTaskProgress:(s,a)=>ge(null,null,function*(){try{let o="";return a===0||a===1?o="Open":a>1&&a<=90?o="Working":a>90&&a<100?o="Pending Review":a===100&&(o="Completed"),yield t("Task",s,{progress:a,status:o}),{progress:a,status:o}}catch(o){return console.error("Error updating manual task progress:",o),null}})}}}const{useTaskProgressCalculation:sd,useTaskStatusProgressUpdate:h8,useManualProgressUpdate:m8}=f8,p8=({isOpen:e,onClose:t,projectName:n,parentTask:s,onSuccess:a})=>{const[o,l]=N.useState({subject:"",description:"",priority:"Medium",status:"Open",task:s||"",assign_to:""}),[u,f]=N.useState({}),{createDoc:h,loading:p}=Ao(),{assignSubTask:x}=cT(),{calculateAndUpdateTaskProgress:y}=sd(),{data:b,isLoading:w}=ic(n),_=(O,D)=>{l(k=>xe(z({},k),{[O]:D})),u[O]&&f(k=>xe(z({},k),{[O]:""}))},j=()=>{const O={};return o.subject.trim()||(O.subject="SubTask subject is required"),o.task.trim()||(O.task="Parent task is required"),f(O),Object.keys(O).length===0},S=O=>ge(null,null,function*(){if(O.preventDefault(),!!j())try{const D=o,{assign_to:k}=D,R=De(D,["assign_to"]),M=yield h("SubTask",xe(z({},R),{project:n}));if(k&&M&&(yield x(M.name,k)),s)try{yield y(s)}catch(F){console.error("Error updating task progress after subtask creation:",F)}l({subject:"",description:"",priority:"Medium",status:"Open",task:s||"",assign_to:""}),f({}),a&&a(),t()}catch(k){console.error("Error creating subtask:",k),f({submit:"Failed to create subtask. Please try again."})}}),C=()=>{l({subject:"",description:"",priority:"Medium",status:"Open",task:s||"",assign_to:""}),f({}),t()};return d.jsx(Ss,{open:e,onOpenChange:C,children:d.jsxs(Ns,{className:"sm:max-w-[600px]",children:[d.jsxs(Es,{children:[d.jsxs(ks,{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-2xl",children:""}),"Create New SubTask"]}),d.jsxs(_o,{children:["Create a new subtask for project: ",d.jsx("strong",{children:n}),s&&d.jsxs("span",{className:"block mt-1",children:["Parent Task: ",d.jsx("strong",{children:s})]})]})]}),d.jsxs("form",{onSubmit:S,className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx(He,{htmlFor:"subject",children:"SubTask Subject *"}),d.jsx($t,{id:"subject",value:o.subject,onChange:O=>_("subject",O.target.value),placeholder:"Enter subtask subject...",className:u.subject?"border-red-500":""}),u.subject&&d.jsx("p",{className:"text-sm text-red-600 mt-1",children:u.subject})]}),d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx(He,{htmlFor:"task",children:"Parent Task *"}),d.jsx($t,{id:"task",value:o.task,onChange:O=>_("task",O.target.value),placeholder:"Enter parent task ID...",className:u.task?"border-red-500":""}),u.task&&d.jsx("p",{className:"text-sm text-red-600 mt-1",children:u.task}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Enter the Task ID that this subtask belongs to"})]}),d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx(He,{htmlFor:"description",children:"Description"}),d.jsx("textarea",{id:"description",value:o.description,onChange:O=>_("description",O.target.value),placeholder:"Enter subtask description...",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"assign_to",children:"Assign To"}),d.jsxs("select",{id:"assign_to",value:o.assign_to,onChange:O=>_("assign_to",O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:w,children:[d.jsx("option",{value:"",children:"Select user..."}),b==null?void 0:b.map(O=>d.jsx("option",{value:O.user||O.name,children:O.user||O.name},O.name))]}),w&&d.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx(He,{htmlFor:"priority",children:"Priority"}),d.jsxs("select",{id:"priority",value:o.priority,onChange:O=>_("priority",O.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[d.jsx("option",{value:"Low",children:"Low"}),d.jsx("option",{value:"Medium",children:"Medium"}),d.jsx("option",{value:"High",children:"High"})]})]}),d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx(He,{htmlFor:"status",children:"Status"}),d.jsxs("select",{id:"status",value:o.status,onChange:O=>_("status",O.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[d.jsx("option",{value:"Open",children:"Open"}),d.jsx("option",{value:"Working",children:"Working"}),d.jsx("option",{value:"Completed",children:"Completed"})]})]})]})]}),u.submit&&d.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-md p-3",children:u.submit}),d.jsxs(Ts,{children:[d.jsx(Ie,{type:"button",variant:"outline",onClick:C,children:"Cancel"}),d.jsx(Ie,{type:"submit",disabled:p,children:p?"Creating...":"Create SubTask"})]})]})]})})};class uT{static useUpdateTask(){const{updateDoc:t,loading:n,error:s}=Fs();return{updateTask:(o,l)=>ge(null,null,function*(){const h=l,{assign_to:u}=h,f=De(h,["assign_to"]);return yield t("Task",o,xe(z({},f),{exp_start_date:f.exp_start_date||void 0,exp_end_date:f.exp_end_date||void 0}))}),isLoading:n,error:s}}static useTaskAssignment(){const{createDoc:t}=Ao(),{deleteDoc:n}=Uh(),{data:s}=hs("User","",{shouldFetch:!0});return{assignTask:(l,u,f,h="Medium")=>ge(null,null,function*(){return yield t("ToDo",{allocated_to:f,assigned_by:(s==null?void 0:s.name)||"",description:`Task: ${u}`,reference_type:"Task",reference_name:l,status:"Open",priority:h,date:new Date().toISOString().split("T")[0]})}),unassignTask:l=>ge(null,null,function*(){return yield n("ToDo",l)})}}}const g8=uT.useUpdateTask,x8=uT.useTaskAssignment,y8=({task:e,projectName:t,isOpen:n,onClose:s,onSuccess:a})=>{const{updateTask:o,isLoading:l,error:u}=g8(),{assignTask:f,unassignTask:h}=x8(),{updateTaskProgress:p}=m8(),{updateTaskProgressByStatus:x}=h8(),{data:y,isLoading:b}=ic(t),{data:w}=_n("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","Task"],["reference_name","=",(e==null?void 0:e.name)||""]]}),{data:_}=_n("SubTask",{fields:["name"],filters:[["task","=",(e==null?void 0:e.name)||""]],limit:1}),[j,S]=N.useState({subject:"",status:"Open",priority:"Medium",exp_start_date:"",exp_end_date:"",progress:0,description:"",assign_to:""}),[C,O]=N.useState(!1);N.useEffect(()=>{var M;if(e){const F=((M=w==null?void 0:w[0])==null?void 0:M.allocated_to)||"";S({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",exp_start_date:e.exp_start_date?e.exp_start_date.split(" ")[0]:"",exp_end_date:e.exp_end_date?e.exp_end_date.split(" ")[0]:"",progress:e.progress||0,description:e.description||"",assign_to:F})}},[e,w]),N.useEffect(()=>{O(!!(_&&_.length>0))},[_]);const D=(M,F)=>{S(q=>xe(z({},q),{[M]:F}))},k=M=>ge(null,null,function*(){var F,q,re;if(M.preventDefault(),!!e)try{const G=j.progress!==(e.progress||0),ee=j.status!==e.status;C&&G?yield p(e.name,j.progress):ee&&(j.status==="Completed"||j.status==="Cancelled")?yield x(e.name,j.status):yield o(e.name,j);const de=((F=w==null?void 0:w[0])==null?void 0:F.allocated_to)||"",J=j.assign_to;if(de!==J){if(de&&(w!=null&&w[0]))try{yield h(w[0].name)}catch(K){console.error("Error deleting old ToDo:",K)}if(J)try{yield f(e.name,j.subject,J,j.priority)}catch(K){console.error("Error creating new ToDo:",K)}}a&&a(),s()}catch(G){console.error("Error updating task:",G),(q=G==null?void 0:G.message)!=null&&q.includes("modified")?alert("The task has been modified by someone else. Please close and reopen the task to get the latest version."):(re=G==null?void 0:G.message)!=null&&re.includes("permission")?alert("You do not have permission to update this task."):alert("Failed to update task. Please try again.")}}),R=()=>{var M;if(e){const F=((M=w==null?void 0:w[0])==null?void 0:M.allocated_to)||"";S({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",exp_start_date:e.exp_start_date?e.exp_start_date.split(" ")[0]:"",exp_end_date:e.exp_end_date?e.exp_end_date.split(" ")[0]:"",progress:e.progress||0,description:e.description||"",assign_to:F})}s()};return d.jsx(Ss,{open:n,onOpenChange:s,children:d.jsxs(Ns,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[d.jsx(Es,{children:d.jsx(ks,{children:"Edit Task"})}),d.jsxs("form",{onSubmit:k,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"subject",children:"Subject *"}),d.jsx($t,{id:"subject",value:j.subject,onChange:M=>D("subject",M.target.value),required:!0,placeholder:"Enter task subject"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"status",children:"Status"}),d.jsxs("select",{id:"status",value:j.status,onChange:M=>D("status",M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[d.jsx("option",{value:"Open",children:"Open"}),d.jsx("option",{value:"Working",children:"Working"}),d.jsx("option",{value:"Pending Review",children:"Pending Review"}),d.jsx("option",{value:"Overdue",children:"Overdue"}),d.jsx("option",{value:"Template",children:"Template"}),d.jsx("option",{value:"Completed",children:"Completed"}),d.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"priority",children:"Priority"}),d.jsxs("select",{id:"priority",value:j.priority,onChange:M=>D("priority",M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[d.jsx("option",{value:"Low",children:"Low"}),d.jsx("option",{value:"Medium",children:"Medium"}),d.jsx("option",{value:"High",children:"High"}),d.jsx("option",{value:"Urgent",children:"Urgent"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"assign_to",children:"Assign To"}),d.jsxs("select",{id:"assign_to",value:j.assign_to,onChange:M=>D("assign_to",M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:b,children:[d.jsx("option",{value:"",children:"Select user to assign (Optional)"}),y==null?void 0:y.map(M=>d.jsxs("option",{value:M.user||M.name,children:[M.full_name||M.name,M.email&&` (${M.email})`]},M.user||M.name))]}),b&&d.jsx("p",{className:"text-sm text-gray-500",children:"Loading users..."}),!b&&y&&y.length>10&&d.jsx("p",{className:"text-sm text-amber-600",children:" Showing all system users (project users not available)"}),w&&w.length>0&&d.jsx("p",{className:"text-sm text-blue-600",children:" Changing assignment will update the ToDo automatically"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"exp_start_date",children:"Expected Start Date"}),d.jsx($t,{id:"exp_start_date",type:"date",value:j.exp_start_date,onChange:M=>D("exp_start_date",M.target.value)})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"exp_end_date",children:"Expected End Date"}),d.jsx($t,{id:"exp_end_date",type:"date",value:j.exp_end_date,onChange:M=>D("exp_end_date",M.target.value)})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"progress",children:"Progress (%)"}),d.jsx($t,{id:"progress",type:"number",min:"0",max:"100",value:j.progress,onChange:M=>D("progress",parseInt(M.target.value)||0),placeholder:"0",disabled:C}),C?d.jsxs("div",{className:"text-sm text-blue-600 bg-blue-50 p-2 rounded",children:[d.jsx("strong",{children:" Smart Progress Mode:"}),d.jsxs("ul",{className:"mt-1 ml-4 list-disc text-xs",children:[d.jsx("li",{children:"Progress is automatically calculated from subtasks"}),d.jsx("li",{children:"Only assignee can manually override progress"}),d.jsx("li",{children:"Project leaders can set progress via status changes"})]})]}):d.jsxs("div",{className:"text-sm text-green-600 bg-green-50 p-2 rounded",children:[d.jsx("strong",{children:" Manual Progress Mode:"}),d.jsx("span",{className:"text-xs",children:" Progress can be updated manually by anyone with edit permission"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"description",children:"Description"}),d.jsx("textarea",{id:"description",value:j.description,onChange:M=>D("description",M.target.value),placeholder:"Enter task description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),u&&d.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:d.jsxs("p",{children:[d.jsx("strong",{children:"Error:"})," ",u.message||"Failed to update task"]})}),d.jsxs(Ts,{className:"flex gap-2",children:[d.jsx(Ie,{type:"button",variant:"outline",onClick:R,children:"Cancel"}),d.jsx(Ie,{type:"submit",disabled:l,children:l?"Updating...":"Update Task"})]})]})]})})},b8=({task:e,isOpen:t,onClose:n,onSuccess:s})=>{const{deleteDoc:a,loading:o,error:l}=Uh(),[u,f]=N.useState(!1),h=()=>ge(null,null,function*(){var x,y;if(e){f(!0);try{const b=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({doctype:"SubTask",fields:["name"],filters:[["task","=",e.name]]})});if(b.ok){const _=(yield b.json()).message||[];if(_.length>0)for(const j of _)yield a("SubTask",j.name)}try{const w=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({doctype:"project_phase",fields:["name","subject","status","priority","start_date","end_date","progress","details","costing"],filters:[["project","=",e.project]],orderBy:{field:"start_date",order:"asc"}})});if(w.ok){const j=(yield w.json()).message||[],S=[];for(const C of j)try{const O=yield fetch(`/api/resource/project_phase/${C.name}`,{headers:{Accept:"application/json"}});if(O.ok){const D=yield O.json(),k=((x=D.data)==null?void 0:x.tasks)||[],R=k.findIndex(M=>M.task===e.name);R>=0&&(console.log(`Found task ${e.name} in phase ${C.name}, will remove from child table...`),k.splice(R,1),S.push({name:C.name,data:xe(z({},D.data),{tasks:k})}))}else console.warn("Failed to fetch phase:",C.name)}catch(O){console.error("Error fetching phase:",C.name,O)}for(const C of S)try{(yield fetch(`/api/resource/project_phase/${C.name}`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(C.data)})).ok?console.log(`Successfully removed task ${e.name} from phase ${C.name}`):console.warn(`Failed to update phase ${C.name} after removing task`)}catch(O){console.error(`Error updating phase ${C.name}:`,O)}}else console.warn("Failed to fetch phases list, proceeding with task deletion...")}catch(w){console.warn("Error checking phases for task references:",w)}yield a("Task",e.name),console.log(`Successfully deleted task ${e.name}`),s&&s(),n()}catch(b){console.error("Error deleting task:",b),(y=b==null?void 0:b.exception)!=null&&y.includes("LinkExistsError")?b.exception.includes("project_phase")||b.exception.includes("phase")?alert("Cannot delete task because it is still linked with project phases. The system tried to remove phase task links automatically but failed. Please contact administrator."):b.exception.includes("SubTask")?alert("Cannot delete task because it has linked subtasks. Please delete all subtasks first."):alert("Cannot delete task because it has linked dependencies. Please check related records."):alert("Error deleting task. Please try again.")}finally{f(!1)}}}),p=()=>{n()};return d.jsx(Ss,{open:t,onOpenChange:n,children:d.jsxs(Ns,{className:"sm:max-w-[400px]",children:[d.jsx(Es,{children:d.jsxs(ks,{className:"flex items-center gap-2 text-red-600",children:[d.jsx(ql,{className:"h-5 w-5"}),"Delete Task"]})}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this task? This action cannot be undone."}),e&&d.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[d.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),d.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),d.jsxs("div",{className:"text-sm text-gray-600",children:["Priority: ",e.priority||"Medium"]}),d.jsxs("div",{className:"text-sm text-gray-600",children:["Progress: ",e.progress||0,"%"]}),e.project&&d.jsxs("div",{className:"text-sm text-blue-600",children:["Project: ",e.project]})]}),d.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[d.jsxs("div",{className:"text-sm text-red-800",children:[d.jsx("strong",{children:" Warning:"})," Deleting this task will automatically:"]}),d.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Delete ALL subtasks first"})," (to resolve SubTask dependencies)"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Remove task from ALL phase child tables"})," (for any phases this task is assigned to)"]}),d.jsx("li",{children:"Remove all task progress data"}),d.jsx("li",{children:"Delete task timeline and activities"}),d.jsx("li",{children:"Remove related comments and attachments"})]}),d.jsx("div",{className:"text-xs text-red-600 mt-2 font-medium",children:" The system will automatically search and handle ALL dependencies to prevent LinkExistsError."})]}),l&&d.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:d.jsxs("p",{children:[d.jsx("strong",{children:"Error:"})," ",l.message||"Failed to delete task"]})})]}),d.jsxs(Ts,{className:"flex gap-2",children:[d.jsx(Ie,{type:"button",variant:"outline",onClick:p,disabled:u,children:"Cancel"}),d.jsx(Ie,{type:"button",variant:"destructive",onClick:h,disabled:u||o,children:u?"Deleting Task & SubTasks...":o?"Deleting...":"Delete Task"})]})]})})};class vy{static useProjectProgressFromPhases(){const{updateDoc:t}=Fs();return{calculateAndUpdateProjectProgressFromPhases:s=>ge(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({doctype:"project_phase",fields:["name","progress"],filters:[["project","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=(yield a.json()).message||[];if(!l||l.length===0){const{calculateAndUpdateProjectProgressFromTasks:h}=vy.useProjectProgressFromTasks();return yield h(s)}let u=0;l.forEach(h=>{u+=h.progress||0});const f=Math.round(u/l.length);return yield t("Project",s,{percent_complete:f}),console.log(`Project ${s} progress updated to ${f}% (from ${l.length} phases)`),f}catch(a){return console.error("Error calculating project progress from phases:",a),null}})}}static useProjectProgressFromTasks(){const{updateDoc:t}=Fs();return{calculateAndUpdateProjectProgressFromTasks:s=>ge(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["project","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=(yield a.json()).message||[];if(!l||l.length===0)return yield t("Project",s,{percent_complete:0}),console.log(`Project ${s} progress updated to 0% (no tasks)`),0;let u=0;l.forEach(h=>{u+=h.progress||0});const f=Math.round(u/l.length);return yield t("Project",s,{percent_complete:f}),console.log(`Project ${s} progress updated to ${f}% (from ${l.length} tasks)`),f}catch(a){return console.error("Error calculating project progress from tasks:",a),null}})}}static useProjectProgressCalculation(){const{updateDoc:t}=Fs();return{calculateAndUpdateProjectProgress:s=>ge(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({doctype:"project_phase",fields:["name","progress"],filters:[["project","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=(yield a.json()).message||[];if(l&&l.length>0){let u=0;l.forEach(h=>{u+=h.progress||0});const f=Math.round(u/l.length);return yield t("Project",s,{percent_complete:f}),console.log(`Project ${s} progress updated to ${f}% (from ${l.length} phases)`),{progress:f,source:"phases",count:l.length}}else{const u=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["project","=",s]]})});if(!u.ok)throw new Error(`HTTP error! status: ${u.status}`);const h=(yield u.json()).message||[];if(!h||h.length===0)return yield t("Project",s,{percent_complete:0}),console.log(`Project ${s} progress updated to 0% (no tasks)`),{progress:0,source:"none",count:0};let p=0;h.forEach(y=>{p+=y.progress||0});const x=Math.round(p/h.length);return yield t("Project",s,{percent_complete:x}),console.log(`Project ${s} progress updated to ${x}% (from ${h.length} tasks)`),{progress:x,source:"tasks",count:h.length}}}catch(a){return console.error("Error calculating project progress:",a),null}})}}static useProjectStatusProgressUpdate(){const{updateDoc:t}=Fs();return{updateProjectProgressByStatus:(s,a,o)=>ge(null,null,function*(){try{let l=o||0;switch(a){case"Completed":l=100;break;case"Cancelled":case"Rejected":l=0;break;default:break}return yield t("Project",s,{status:a,percent_complete:l}),l}catch(l){return console.error("Error updating project progress by status:",l),null}})}}}const{useProjectProgressCalculation:v8}=vy,wy=()=>{const{calculateAndUpdatePhaseProgress:e}=lT(),{calculateAndUpdateProjectProgress:t}=v8();return{updatePhaseProgressForTask:(a,o)=>ge(null,null,function*(){try{const l=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({doctype:"project_phase",fields:["name","tasks"],filters:[["project","=",o]]})});if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);const h=((yield l.json()).message||[]).filter(p=>p.tasks&&p.tasks.some(x=>x.task===a));for(const p of h)console.log(`Updating progress for phase ${p.name} after task ${a} change`),yield e(p.name);return console.log(`Updating overall project progress for ${o} after task ${a} change`),yield t(o),console.log(`Updated progress for ${h.length} phases and project ${o} affected by task ${a}`),h}catch(l){return console.error("Error updating phase progress for task:",l),[]}}),updateProjectProgress:a=>ge(null,null,function*(){try{console.log(`Updating overall project progress for ${a}`);const o=yield t(a);return o&&console.log(`Project ${a} progress updated to ${o.progress}% from ${o.source} (${o.count} items)`),o}catch(o){return console.error("Error updating project progress:",o),null}})}},w8=({task:e,projectName:t,onBack:n,onViewSubTaskDetails:s,onTaskUpdated:a,onTaskDeleted:o})=>{const[l,u]=N.useState(!1),[f,h]=N.useState(!1),[p,x]=N.useState(!1),{updatePhaseProgressForTask:y}=wy(),{calculateAndUpdateTaskProgress:b}=sd(),{data:w,isLoading:_,mutate:j}=_n("SubTask",{fields:["name","subject","task","status","progress","start_date","end_date","description"],filters:[["task","=",e.name]],orderBy:{field:"start_date",order:"asc"}}),{data:S}=_n("ToDo",{fields:["name","allocated_to","status"],filters:[["reference_type","=","Task"],["reference_name","=",e.name]],limit:1}),C=S&&S.length>0?S[0].allocated_to:null,{data:O}=hs("User",C||void 0,{fields:["name","full_name","email","user_image"]}),D=G=>G?new Date(G).toLocaleDateString():"N/A",k=G=>{switch(G){case"Completed":return d.jsx(Vh,{className:"h-5 w-5 text-green-600"});case"Working":return d.jsx(Do,{className:"h-5 w-5 text-yellow-600"});case"Open":return d.jsx(jo,{className:"h-5 w-5 text-blue-600"});default:return d.jsx(jo,{className:"h-5 w-5 text-gray-400"})}},R=G=>{switch(G){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},M=G=>{switch(G){case"Urgent":return"bg-red-100 text-red-800 border-red-200";case"High":return"bg-orange-100 text-orange-800 border-orange-200";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},F=()=>{a&&a(),y(e.name,t).catch(console.error)},q=()=>{o&&o(),y(e.name,t).catch(console.error),n()},re=({subtask:G})=>{var J;const{data:ee}=_n("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(G==null?void 0:G.name)||""]]}),de=(J=ee==null?void 0:ee[0])==null?void 0:J.allocated_to;return d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("span",{children:de})})};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs(Ie,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-2",children:[d.jsx(yx,{className:"h-4 w-4"}),"Back to Tasks"]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>h(!0),className:"flex items-center gap-2",children:[d.jsx(zl,{className:"h-4 w-4"}),"Edit Task"]}),d.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>x(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[d.jsx($l,{className:"h-4 w-4"}),"Delete Task"]})]})]}),d.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 border border-orange-200 rounded-xl p-6",children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("div",{className:"h-12 w-12 rounded-lg bg-orange-500 flex items-center justify-center",children:d.jsx("span",{className:"text-xl",children:""})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.subject}),d.jsx("p",{className:"text-sm text-gray-600",children:"Task Details"})]})]}),e.description&&d.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.description})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${R(e.status||"Open")}`,children:[k(e.status||"Open"),d.jsx("span",{className:"font-medium",children:e.status||"Open"})]}),e.priority&&d.jsx("div",{className:`px-3 py-1 rounded-full border ${M(e.priority)}`,children:d.jsx("span",{className:"text-sm font-medium",children:e.priority})})]})]}),d.jsxs("div",{className:"mt-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Task Progress"}),d.jsxs("span",{className:"text-lg font-bold text-orange-600",children:[e.progress||0,"%"]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-yellow-600 h-3 rounded-full transition-all duration-500",style:{width:`${e.progress||0}%`}})})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:d.jsx(Mr,{className:"h-6 w-6 text-blue-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),d.jsx("p",{className:"text-lg font-bold text-gray-900",children:D(e.exp_start_date)})]})]})}),d.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:d.jsx(wx,{className:"h-6 w-6 text-purple-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),d.jsx("p",{className:"text-lg font-bold text-gray-900",children:D(e.exp_end_date)})]})]})}),d.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:d.jsx(zu,{className:"h-6 w-6 text-green-600"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Assigned To"}),S&&S.length>0?d.jsxs("div",{children:[d.jsx("p",{className:"text-lg font-bold text-gray-900",children:(O==null?void 0:O.full_name)||C}),(O==null?void 0:O.email)&&d.jsx("p",{className:"text-sm text-gray-600",children:O.email})]}):d.jsx("p",{className:"text-lg font-bold text-gray-900",children:"Unassigned"})]})]})})]}),d.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Task Information"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"Task ID"}),d.jsx("span",{className:"text-gray-900 font-semibold",children:e.name})]}),d.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),d.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),d.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),d.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${R(e.status||"Open")}`,children:[k(e.status||"Open"),d.jsx("span",{className:"font-medium",children:e.status||"Open"})]})]}),d.jsxs("div",{className:"flex items-center justify-between py-3",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),d.jsx("div",{className:`px-3 py-1 rounded-full ${M(e.priority||"Medium")}`,children:d.jsx("span",{className:"font-medium",children:e.priority||"Medium"})})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"Subtasks Count"}),d.jsx("span",{className:"text-gray-900 font-semibold",children:(w==null?void 0:w.length)||0})]}),d.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),d.jsx("span",{className:"text-gray-900 font-semibold",children:e.exp_start_date&&e.exp_end_date?`${Math.ceil((new Date(e.exp_end_date).getTime()-new Date(e.exp_start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),d.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"Progress"}),d.jsxs("span",{className:"text-xl font-bold text-orange-600",children:[e.progress||0,"%"]})]}),d.jsxs("div",{className:"flex items-center justify-between py-3",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"Assigned To"}),S&&S.length>0?d.jsx("div",{children:d.jsx("p",{className:"text-lg font-bold text-gray-900",children:(O==null?void 0:O.full_name)||C})}):d.jsx("p",{className:"text-lg font-bold text-gray-900",children:"Unassigned"})]})]})]})]}),d.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[d.jsx("div",{className:"flex items-center justify-between mb-6",children:d.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"SubTasks"})}),_?d.jsxs("div",{className:"space-y-3",children:[d.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),d.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),d.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"})]}):d.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[d.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:d.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3",children:[d.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700",children:"#"}),d.jsx("div",{className:"col-span-5 text-sm font-medium text-gray-700",children:"SubTask"}),d.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Status"}),d.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Assign To"}),d.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Actions"})]})}),d.jsxs("div",{className:"divide-y divide-gray-100",children:[w&&w.length>0?w.map((G,ee)=>d.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[d.jsx("div",{className:"col-span-1 flex items-center",children:d.jsx("span",{className:"text-sm text-gray-600",children:ee+1})}),d.jsxs("div",{className:"col-span-5 flex items-center gap-3",children:[d.jsx("div",{className:"p-1 bg-green-100 rounded",children:d.jsx("span",{className:"text-sm",children:""})}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:G.subject||G.name}),d.jsx("div",{className:"text-sm text-gray-500",children:G.name})]})]}),d.jsx("div",{className:"col-span-2 flex items-center justify-center",children:d.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${R(G.status||"Open")}`,children:G.status||"Open"})}),d.jsx("div",{className:"col-span-2 flex items-center justify-center",children:d.jsx(re,{subtask:G})}),d.jsx("div",{className:"col-span-2 flex items-center justify-center",children:s&&d.jsx(Ie,{variant:"outline",size:"sm",onClick:()=>s(G),className:"h-7 px-2 text-xs",children:"View Details"})})]},G.name)):d.jsxs("div",{className:"px-6 py-8 text-center text-gray-500",children:[d.jsx("div",{className:"text-4xl mb-2",children:""}),d.jsx("div",{className:"text-lg font-medium mb-1",children:"No subtasks yet"}),d.jsx("div",{className:"text-sm",children:'Click "Add SubTask" to create the first subtask for this task'})]}),d.jsx("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 bg-gray-50 border-t border-gray-200",children:d.jsx("div",{className:"col-span-12 flex items-center justify-center",children:d.jsxs(Ie,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",onClick:()=>u(!0),children:[d.jsx(So,{className:"h-4 w-4"}),"Add new subtask to this task"]})})})]})]})]}),d.jsx(p8,{isOpen:l,onClose:()=>u(!1),projectName:t,parentTask:e.name,onSuccess:()=>ge(null,null,function*(){console.log("SubTask created successfully for task:",e.name),j(),setTimeout(()=>ge(null,null,function*(){console.log("Recalculating task progress after subtask creation..."),yield b(e.name),setTimeout(()=>ge(null,null,function*(){console.log("Updating phase progress after task progress update..."),yield y(e.name,t)}),500)}),500)})}),d.jsx(y8,{task:e,projectName:t,isOpen:f,onClose:()=>h(!1),onSuccess:F}),d.jsx(b8,{task:e,isOpen:p,onClose:()=>x(!1),onSuccess:q})]})},_8=({subtask:e,projectName:t,isOpen:n,onClose:s,onSuccess:a})=>{var D;const{updateSubTask:o,isLoading:l,error:u}=d8(),{assignSubTask:f,unassignSubTask:h}=cT(),{calculateAndUpdateTaskProgress:p}=sd(),{data:x,isLoading:y}=ic(t),{data:b}=_n("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(e==null?void 0:e.name)||""]]}),[w,_]=N.useState({subject:"",status:"Open",start_date:"",end_date:"",description:"",assign_to:""}),j=((D=b==null?void 0:b[0])==null?void 0:D.allocated_to)||"";N.useEffect(()=>{e&&_({subject:e.subject||"",status:e.status||"Open",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",description:e.description||"",assign_to:j})},[e,j]);const S=(k,R)=>{_(M=>xe(z({},M),{[k]:R}))},C=k=>ge(null,null,function*(){if(k.preventDefault(),!!e)try{const R=w,{assign_to:M}=R,F=De(R,["assign_to"]);yield o(e.name,F);const q=j,re=M;if(q&&q!==re){const G=b==null?void 0:b.find(ee=>ee.allocated_to===q);G&&(yield h(G.name))}re&&re!==q&&(yield f(e.name,re)),e.task&&F.status!==e.status&&(yield p(e.task)),a&&a(),s()}catch(M){console.error("Error updating subtask:",M)}}),O=()=>{e&&_({subject:e.subject||"",status:e.status||"Open",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",description:e.description||"",assign_to:j}),s()};return d.jsx(Ss,{open:n,onOpenChange:s,children:d.jsxs(Ns,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[d.jsx(Es,{children:d.jsx(ks,{children:"Edit SubTask"})}),d.jsxs("form",{onSubmit:C,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"subject",children:"Subject *"}),d.jsx($t,{id:"subject",value:w.subject,onChange:k=>S("subject",k.target.value),required:!0,placeholder:"Enter subtask subject"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"status",children:"Status"}),d.jsxs("select",{id:"status",value:w.status,onChange:k=>S("status",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[d.jsx("option",{value:"Open",children:"Open"}),d.jsx("option",{value:"Working",children:"Working"}),d.jsx("option",{value:"Pending Review",children:"Pending Review"}),d.jsx("option",{value:"Completed",children:"Completed"}),d.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"start_date",children:"Start Date"}),d.jsx($t,{id:"start_date",type:"date",value:w.start_date,onChange:k=>S("start_date",k.target.value)})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"end_date",children:"End Date"}),d.jsx($t,{id:"end_date",type:"date",value:w.end_date,onChange:k=>S("end_date",k.target.value)})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"description",children:"Description"}),d.jsx("textarea",{id:"description",value:w.description,onChange:k=>S("description",k.target.value),placeholder:"Enter subtask description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"assign_to",children:"Assign To"}),d.jsxs("select",{id:"assign_to",value:w.assign_to,onChange:k=>S("assign_to",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:y,children:[d.jsx("option",{value:"",children:"Select user..."}),x==null?void 0:x.map(k=>d.jsx("option",{value:k.user||k.name,children:k.user||k.name},k.name))]}),y&&d.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),u&&d.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:d.jsxs("p",{children:[d.jsx("strong",{children:"Error:"})," ",u.message||"Failed to update subtask"]})}),d.jsxs(Ts,{className:"flex gap-2",children:[d.jsx(Ie,{type:"button",variant:"outline",onClick:O,children:"Cancel"}),d.jsx(Ie,{type:"submit",disabled:l,children:l?"Updating...":"Update SubTask"})]})]})]})})},j8=({subtask:e,isOpen:t,onClose:n,onSuccess:s})=>{const{call:a,loading:o,error:l}=fs("frappe.client.delete"),{calculateAndUpdateTaskProgress:u}=sd(),f=()=>ge(null,null,function*(){if(e)try{if(yield a({doctype:"SubTask",name:e.name}),e.task)try{yield u(e.task)}catch(p){console.error("Error updating task progress after subtask deletion:",p)}s&&s(),n()}catch(p){console.error("Error deleting subtask:",p)}}),h=()=>{n()};return d.jsx(Ss,{open:t,onOpenChange:n,children:d.jsxs(Ns,{className:"sm:max-w-[400px]",children:[d.jsx(Es,{children:d.jsxs(ks,{className:"flex items-center gap-2 text-red-600",children:[d.jsx(ql,{className:"h-5 w-5"}),"Delete SubTask"]})}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this subtask? This action cannot be undone."}),e&&d.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[d.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),d.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),d.jsxs("div",{className:"text-sm text-gray-600",children:["Progress: ",e.progress||0,"%"]}),d.jsxs("div",{className:"text-sm text-gray-600",children:["Task: ",e.task]})]}),d.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[d.jsxs("div",{className:"text-sm text-red-800",children:[d.jsx("strong",{children:"Warning:"})," Deleting this subtask will also remove:"]}),d.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[d.jsx("li",{children:"All subtask progress data"}),d.jsx("li",{children:"Subtask timeline and activities"}),d.jsx("li",{children:"Related comments and attachments"}),d.jsx("li",{children:"Any associated time logs"})]})]}),l&&d.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:d.jsxs("p",{children:[d.jsx("strong",{children:"Error:"})," ",l.message||"Failed to delete subtask"]})})]}),d.jsxs(Ts,{className:"flex gap-2",children:[d.jsx(Ie,{type:"button",variant:"outline",onClick:h,children:"Cancel"}),d.jsx(Ie,{type:"button",variant:"destructive",onClick:f,disabled:o,children:o?"Deleting...":"Delete SubTask"})]})]})})},S8=({subtask:e,projectName:t,onBack:n,onSubTaskUpdated:s,onSubTaskDeleted:a})=>{var O;const[o,l]=N.useState(!1),[u,f]=N.useState(!1),{calculateAndUpdateTaskProgress:h}=sd(),{updatePhaseProgressForTask:p}=wy(),{data:x}=_n("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(e==null?void 0:e.name)||""]]}),y=(O=x==null?void 0:x[0])==null?void 0:O.allocated_to,{data:b}=hs("User",y||"",{shouldFetch:!!y}),w=D=>D?new Date(D).toLocaleDateString():"N/A",_=D=>{switch(D){case"Completed":return d.jsx(Vh,{className:"h-5 w-5 text-green-600"});case"Working":return d.jsx(Do,{className:"h-5 w-5 text-yellow-600"});case"Open":return d.jsx(jo,{className:"h-5 w-5 text-blue-600"});default:return d.jsx(jo,{className:"h-5 w-5 text-gray-400"})}},j=D=>{switch(D){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},S=()=>ge(null,null,function*(){if(e!=null&&e.task)try{yield h(e.task),setTimeout(()=>ge(null,null,function*(){try{yield p(e.task,t),console.log("Phase progress updated after subtask edit")}catch(D){console.error("Error updating phase progress after subtask edit:",D)}}),500)}catch(D){console.error("Error updating task progress after subtask edit:",D)}s&&s()}),C=()=>ge(null,null,function*(){if(e!=null&&e.task)try{yield h(e.task),setTimeout(()=>ge(null,null,function*(){try{yield p(e.task,t),console.log("Phase progress updated after subtask delete")}catch(D){console.error("Error updating phase progress after subtask delete:",D)}}),500)}catch(D){console.error("Error updating task progress after subtask delete:",D)}a&&a(),n()});return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs(Ie,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-2",children:[d.jsx(yx,{className:"h-4 w-4"}),"Back to Tasks"]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>l(!0),className:"flex items-center gap-2",children:[d.jsx(zl,{className:"h-4 w-4"}),"Edit SubTask"]}),d.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>f(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[d.jsx($l,{className:"h-4 w-4"}),"Delete SubTask"]})]})]}),d.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-6",children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("div",{className:"h-12 w-12 rounded-lg bg-green-500 flex items-center justify-center",children:d.jsx("span",{className:"text-xl",children:""})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.subject}),d.jsx("p",{className:"text-sm text-gray-600",children:"SubTask Details"})]})]}),e.description&&d.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.description})]}),d.jsx("div",{className:"flex items-center gap-3",children:d.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${j(e.status||"Open")}`,children:[_(e.status||"Open"),d.jsx("span",{className:"font-medium",children:e.status||"Open"})]})})]})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:d.jsx(Mr,{className:"h-6 w-6 text-blue-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),d.jsx("p",{className:"text-lg font-bold text-gray-900",children:w(e.start_date)})]})]})}),d.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:d.jsx(wx,{className:"h-6 w-6 text-purple-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),d.jsx("p",{className:"text-lg font-bold text-gray-900",children:w(e.end_date)})]})]})}),d.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-6",children:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:d.jsx(uN,{className:"h-6 w-6 text-orange-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-orange-600 uppercase tracking-wide",children:"Parent Task"}),d.jsx("p",{className:"text-lg font-bold text-gray-900",children:e.task||"N/A"})]})]})})]}),d.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"SubTask Information"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"SubTask ID"}),d.jsx("span",{className:"text-gray-900 font-semibold",children:e.name})]}),d.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),d.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),d.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"Parent Task"}),d.jsx("span",{className:"text-gray-900 font-semibold",children:e.task||"N/A"})]}),d.jsxs("div",{className:"flex items-center justify-between py-3",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),d.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${j(e.status||"Open")}`,children:[_(e.status||"Open"),d.jsx("span",{className:"font-medium",children:e.status||"Open"})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"Start Date"}),d.jsx("span",{className:"text-gray-900 font-semibold",children:w(e.start_date)})]}),d.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"End Date"}),d.jsx("span",{className:"text-gray-900 font-semibold",children:w(e.end_date)})]}),d.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),d.jsx("span",{className:"text-gray-900 font-semibold",children:e.start_date&&e.end_date?`${Math.ceil((new Date(e.end_date).getTime()-new Date(e.start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),d.jsxs("div",{className:"flex items-center justify-between py-3 border-t border-gray-100",children:[d.jsxs("span",{className:"text-gray-600 font-medium flex items-center gap-2",children:[d.jsx(zu,{className:"h-4 w-4"}),"Assigned To"]}),d.jsx("span",{className:"text-gray-900 font-semibold",children:y?d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{children:(b==null?void 0:b.full_name)||y}),(b==null?void 0:b.user_image)&&d.jsx("img",{src:b.user_image,alt:b.full_name||y,className:"h-6 w-6 rounded-full"})]}):d.jsx("span",{className:"text-gray-400",children:"Not assigned"})})]})]})]})]}),e.description&&d.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Description"}),d.jsx("div",{className:"prose max-w-none",children:d.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:e.description})})]}),d.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Activity Timeline"}),d.jsxs("div",{className:"text-center py-8 text-gray-500",children:[d.jsx("div",{className:"text-4xl mb-2",children:""}),d.jsx("div",{className:"text-lg font-medium mb-1",children:"No activity yet"}),d.jsx("div",{className:"text-sm",children:"Activity and updates will appear here when available"})]})]}),d.jsx(_8,{subtask:e,projectName:t,isOpen:o,onClose:()=>l(!1),onSuccess:S}),d.jsx(j8,{subtask:e,isOpen:u,onClose:()=>f(!1),onSuccess:C})]})},xo=class xo{static useUserProjects(){const{currentUser:t}=Du(),{data:n,isLoading:s,error:a,mutate:o}=_n("Project",{fields:xo.PROJECT_FIELDS,filters:t?[["owner","=",t]]:[]}),{data:l,isLoading:u,error:f,mutate:h}=_n("Project",{fields:xo.PROJECT_FIELDS,limit:0}),p=Se.useMemo(()=>{if(!t)return[];const y=w=>{const _=new Map;return w.forEach(j=>{var C;const S=j.name;if(!_.has(S)){const O={name:j.name,owner:j.owner,project_name:j.project_name,project_type:j.project_type,status:j.status,customer:j.customer,expected_start_date:j.expected_start_date,expected_end_date:j.expected_end_date,percent_complete:j.percent_complete,priority:j.priority,estimated_costing:j.estimated_costing,total_billable_amount:j.total_billable_amount,company:j.company,users:[]};_.set(S,O)}if(j.user){const O=_.get(S);((C=O.users)==null?void 0:C.some(k=>k.user===j.user))||(O.users=O.users||[],O.users.push({user:j.user,email:j.email,full_name:j.full_name,project_status:j.project_status}))}}),Array.from(_.values())};let b=[];if(n&&n.length>0&&(b=b.concat(n)),l&&l.length>0){const w=l.filter(_=>_.owner===t||_.user&&_.user===t);b=b.concat(w)}return y(b)},[n,l,t]),x=Se.useCallback(()=>{o(),h()},[o,h]);return{data:p,isLoading:s||u,error:a&&f?a||f:null,mutate:x}}static useProject(t){const{data:n,isLoading:s,error:a,mutate:o}=hs("Project",t||"",t?"Project":void 0);return{data:n,isLoading:s,error:a,mutate:o}}static useProjectOwner(t){const{data:n,isLoading:s,error:a}=hs("User",t||"",t?void 0:null);return{data:n,isLoading:s,error:a}}static useCreateProject(){const{createDoc:t,loading:n,error:s}=Ao();return{createProject:o=>ge(null,null,function*(){return yield t("Project",xe(z({},o),{expected_start_date:o.expected_start_date||void 0,expected_end_date:o.expected_end_date||void 0}))}),isLoading:n,error:s}}static useUpdateProject(){const{updateDoc:t,loading:n,error:s}=Fs();return{updateProject:(o,l)=>ge(null,null,function*(){return yield t("Project",o,xe(z({},l),{expected_start_date:l.expected_start_date||void 0,expected_end_date:l.expected_end_date||void 0}))}),isLoading:n,error:s}}static useDeleteProject(){const{call:t,loading:n,error:s}=fs("frappe.client.delete");return{deleteProject:o=>ge(null,null,function*(){return yield t({doctype:"Project",name:o})}),isLoading:n,error:s}}static useProjectMembers(){const{call:t}=fs("frappe.client.insert"),{call:n}=fs("frappe.client.save"),{call:s}=fs("frappe.client.delete");return{addMember:u=>ge(null,null,function*(){return yield t({doc:xe(z({doctype:"Project User"},u),{welcome_email_sent:1})})}),updateMember:(u,f)=>ge(null,null,function*(){return yield n({doc:z({doctype:"Project User",name:u},f)})}),removeMember:u=>ge(null,null,function*(){return yield s({doctype:"Project User",name:u})})}}static useProjectOwnerManagement(){const{call:t}=fs("frappe.client.save"),{call:n}=fs("frappe.client.set_value");return{transferOwner:(o,l)=>ge(null,null,function*(){try{return yield t({doc:{doctype:"Project",name:o,owner:l}}),{success:!0,method:"save"}}catch(u){try{return yield n({doctype:"Project",name:o,fieldname:"owner",value:l}),{success:!0,method:"set_value"}}catch(f){throw new Error("Owner field is protected by ERPNext")}}}),transferOwnerWithAPI:(o,l)=>ge(null,null,function*(){try{const u=yield fetch("/api/method/my_app.api.project_transfer.transfer_project_owner",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({project_name:o,new_owner:l})}),f=yield u.json();return u.ok&&f.message?{success:!0,data:f.message}:{success:!1,error:f.message||"Transfer failed"}}catch(u){return{success:!1,error:u instanceof Error?u.message:"Unknown error"}}})}}static useProjectUsers(t){const{data:n,isLoading:s,error:a,mutate:o}=hs("Project",t,{fields:["name","users"]});return{data:(n==null?void 0:n.users)||[],isLoading:s,error:a,mutate:o}}static useProjectUsersAlt(t){const{data:n,isLoading:s,error:a,mutate:o}=_n("Project User",{fields:["name","user","email","full_name","image"],filters:[["parent","=",t]],limit:0});return{data:n||[],isLoading:s,error:a,mutate:o}}};ot(xo,"PROJECT_FIELDS",["name","owner","project_name","project_type","status","customer","expected_start_date","expected_end_date","percent_complete","priority","estimated_costing","total_billable_amount","company","users.user","users.email","users.full_name","users.project_status"]),ot(xo,"DETAILED_PROJECT_FIELDS",[...xo.PROJECT_FIELDS,"creation","modified","modified_by","description","notes","expected_start_date","actual_start_date","actual_end_date","total_costing_amount","total_purchase_cost","total_sales_amount","total_billed_amount","users"]);let Yu=xo;const N8=Yu.useUserProjects,E8=Yu.useCreateProject,T8=Yu.useUpdateProject;class k8{static useProjectCascadeDelete(){const{call:t}=fs("frappe.client.delete"),{call:n}=fs("frappe.client.get_list");return{deleteProjectCascade:a=>ge(null,null,function*(){try{console.log(`Starting cascade delete for project: ${a}`);let o=0,l=0,u=0;console.log("Step 1: Fetching all tasks...");const f=yield n({doctype:"Task",fields:["name"],filters:[["project","=",a]],limit_page_length:1e3}),h=(f==null?void 0:f.message)||[];console.log(`Found ${h.length} tasks to delete`);for(const y of h){console.log(`Step 2: Deleting subtasks for task ${y.name}...`);const b=yield n({doctype:"SubTask",fields:["name"],filters:[["task","=",y.name]],limit_page_length:1e3}),w=(b==null?void 0:b.message)||[];console.log(`Found ${w.length} subtasks for task ${y.name}`);for(const _ of w)try{console.log(`Deleting subtask: ${_.name}`),yield t({doctype:"SubTask",name:_.name}),o++}catch(j){console.error(`Error deleting subtask ${_.name}:`,j)}}console.log("Step 3: Deleting all tasks...");for(const y of h)try{console.log(`Deleting task: ${y.name}`),yield t({doctype:"Task",name:y.name}),l++}catch(b){console.error(`Error deleting task ${y.name}:`,b)}console.log("Step 4: Deleting all phases...");const p=yield n({doctype:"project_phase",fields:["name"],filters:[["project","=",a]],limit_page_length:1e3}),x=(p==null?void 0:p.message)||[];console.log(`Found ${x.length} phases to delete`);for(const y of x)try{console.log(`Deleting phase: ${y.name}`),yield t({doctype:"project_phase",name:y.name}),u++}catch(b){console.error(`Error deleting phase ${y.name}:`,b)}console.log("Step 5: Deleting ToDo assignments...");try{const y=yield n({doctype:"ToDo",fields:["name"],filters:[["reference_type","in",["Project","Task","SubTask"]],["reference_name","like",`%${a}%`]],limit_page_length:1e3}),b=(y==null?void 0:y.message)||[];console.log(`Found ${b.length} ToDo assignments to delete`);for(const w of b)try{yield t({doctype:"ToDo",name:w.name})}catch(_){console.error(`Error deleting ToDo ${w.name}:`,_)}}catch(y){console.error("Error fetching/deleting ToDo assignments:",y)}console.log("Step 6: Deleting project users...");try{const y=yield n({doctype:"Project User",fields:["name"],filters:[["parent","=",a]],limit_page_length:1e3}),b=(y==null?void 0:y.message)||[];console.log(`Found ${b.length} project users to delete`);for(const w of b)try{yield t({doctype:"Project User",name:w.name})}catch(_){console.error(`Error deleting Project User ${w.name}:`,_)}}catch(y){console.error("Error fetching/deleting project users:",y)}return console.log("Step 7: Deleting the project..."),yield t({doctype:"Project",name:a}),console.log(`Successfully completed cascade delete for project: ${a}`),{success:!0,deletedItems:{subtasks:o,tasks:l,phases:u,project:1}}}catch(o){throw console.error("Error in cascade delete:",o),new Error(`Failed to delete project and related items: ${o instanceof Error?o.message:"Unknown error"}`)}})}}}const{useProjectCascadeDelete:C8}=k8,dT=({project:e,isOpen:t,onClose:n,onSuccess:s})=>{const{updateProject:a,isLoading:o,error:l}=T8(),[u,f]=N.useState({project_name:"",customer:"",project_type:"",status:"Open",priority:"Medium",department:"",company:"",cost_center:"",expected_start_date:"",expected_end_date:"",notes:""});N.useEffect(()=>{e&&f({project_name:e.project_name||"",customer:e.customer||"",project_type:e.project_type||"",status:e.status||"Open",priority:e.priority||"Medium",department:e.department||"",company:e.company||"",cost_center:e.cost_center||"",expected_start_date:e.expected_start_date?e.expected_start_date.split(" ")[0]:"",expected_end_date:e.expected_end_date?e.expected_end_date.split(" ")[0]:"",notes:e.notes||""})},[e]);const h=(y,b)=>{f(w=>xe(z({},w),{[y]:b}))},p=y=>ge(null,null,function*(){if(y.preventDefault(),!!e)try{yield a(e.name,u),s&&s(),n()}catch(b){console.error("Error updating project:",b)}}),x=()=>{e&&f({project_name:e.project_name||"",customer:e.customer||"",project_type:e.project_type||"",status:e.status||"Open",priority:e.priority||"Medium",department:e.department||"",company:e.company||"",cost_center:e.cost_center||"",expected_start_date:e.expected_start_date?e.expected_start_date.split(" ")[0]:"",expected_end_date:e.expected_end_date?e.expected_end_date.split(" ")[0]:"",notes:e.notes||""}),n()};return d.jsx(Ss,{open:t,onOpenChange:n,children:d.jsxs(Ns,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[d.jsx(Es,{children:d.jsx(ks,{children:"Edit Project"})}),d.jsxs("form",{onSubmit:p,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"project_name",children:"Project Name *"}),d.jsx($t,{id:"project_name",value:u.project_name,onChange:y=>h("project_name",y.target.value),required:!0,placeholder:"Enter project name"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"customer",children:"Customer"}),d.jsx($t,{id:"customer",value:u.customer,onChange:y=>h("customer",y.target.value),placeholder:"Enter customer name"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"project_type",children:"Project Type"}),d.jsxs("select",{id:"project_type",value:u.project_type,onChange:y=>h("project_type",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[d.jsx("option",{value:"",children:"Select project type"}),d.jsx("option",{value:"Internal",children:"Internal"}),d.jsx("option",{value:"External",children:"External"}),d.jsx("option",{value:"Other",children:"Other"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"status",children:"Status"}),d.jsxs("select",{id:"status",value:u.status,onChange:y=>h("status",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[d.jsx("option",{value:"Open",children:"Open"}),d.jsx("option",{value:"Completed",children:"Completed"}),d.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"priority",children:"Priority"}),d.jsxs("select",{id:"priority",value:u.priority,onChange:y=>h("priority",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[d.jsx("option",{value:"Low",children:"Low"}),d.jsx("option",{value:"Medium",children:"Medium"}),d.jsx("option",{value:"High",children:"High"}),d.jsx("option",{value:"Critical",children:"Critical"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"department",children:"Department"}),d.jsx($t,{id:"department",value:u.department,onChange:y=>h("department",y.target.value),placeholder:"Enter department"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"company",children:"Company"}),d.jsx($t,{id:"company",value:u.company,onChange:y=>h("company",y.target.value),placeholder:"Enter company"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"cost_center",children:"Cost Center"}),d.jsx($t,{id:"cost_center",value:u.cost_center,onChange:y=>h("cost_center",y.target.value),placeholder:"Enter cost center"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"expected_start_date",children:"Expected Start Date"}),d.jsx($t,{id:"expected_start_date",type:"date",value:u.expected_start_date,onChange:y=>h("expected_start_date",y.target.value)})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"expected_end_date",children:"Expected End Date"}),d.jsx($t,{id:"expected_end_date",type:"date",value:u.expected_end_date,onChange:y=>h("expected_end_date",y.target.value)})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(He,{htmlFor:"notes",children:"Notes"}),d.jsx("textarea",{id:"notes",value:u.notes,onChange:y=>h("notes",y.target.value),placeholder:"Enter project notes",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),l&&d.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:d.jsxs("p",{children:[d.jsx("strong",{children:"Error:"})," ",l.message||"Failed to update project"]})}),d.jsxs(Ts,{className:"flex gap-2",children:[d.jsx(Ie,{type:"button",variant:"outline",onClick:x,children:"Cancel"}),d.jsx(Ie,{type:"submit",disabled:o,children:o?"Updating...":"Update Project"})]})]})]})})},fT=({project:e,isOpen:t,onClose:n,onSuccess:s})=>{const{deleteProjectCascade:a}=C8(),[o,l]=N.useState(!1),[u,f]=N.useState(null),[h,p]=N.useState(""),x=()=>ge(null,null,function*(){if(e){l(!0),f(null),p("Starting deletion...");try{p("Deleting subtasks..."),yield new Promise(w=>setTimeout(w,500)),p("Deleting tasks and phases..."),yield new Promise(w=>setTimeout(w,500)),p("Deleting project...");const b=yield a(e.name);p("Deletion completed successfully!"),console.log("Cascade deletion result:",b),s&&s(),n()}catch(b){console.error("Error deleting project:",b),f(b instanceof Error?b:new Error("Failed to delete project")),p("")}finally{l(!1)}}}),y=()=>{o||(f(null),p(""),n())};return d.jsx(Ss,{open:t,onOpenChange:n,children:d.jsxs(Ns,{className:"sm:max-w-[400px]",children:[d.jsx(Es,{children:d.jsxs(ks,{className:"flex items-center gap-2 text-red-600",children:[d.jsx(ql,{className:"h-5 w-5"}),"Delete Project"]})}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this project? This action cannot be undone."}),e&&d.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[d.jsx("div",{className:"font-medium text-gray-900",children:e.project_name}),d.jsx("div",{className:"text-sm text-gray-600",children:e.customer||"No customer"}),d.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]})]}),d.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[d.jsxs("div",{className:"text-sm text-red-800",children:[d.jsx("strong",{children:"Warning:"})," This will permanently delete in the following order:"]}),d.jsxs("ol",{className:"text-sm text-red-700 mt-1 ml-4 list-decimal",children:[d.jsx("li",{children:"All subtasks in all tasks"}),d.jsx("li",{children:"All tasks in the project"}),d.jsx("li",{children:"All project phases"}),d.jsx("li",{children:"All ToDo assignments"}),d.jsx("li",{children:"All project team members"}),d.jsx("li",{children:"The project itself"})]}),d.jsx("div",{className:"text-sm text-red-800 mt-2",children:d.jsx("strong",{children:"This action cannot be undone!"})})]}),o&&h&&d.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(b0,{className:"h-4 w-4 animate-spin text-blue-600"}),d.jsxs("span",{className:"text-sm text-blue-800",children:[d.jsx("strong",{children:"Progress:"})," ",h]})]}),d.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"Please wait while we delete all related items..."})]}),u&&d.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:d.jsxs("p",{children:[d.jsx("strong",{children:"Error:"})," ",u.message||"Failed to delete project"]})})]}),d.jsxs(Ts,{className:"flex gap-2",children:[d.jsx(Ie,{type:"button",variant:"outline",onClick:y,disabled:o,children:o?"Deleting...":"Cancel"}),d.jsx(Ie,{type:"button",variant:"destructive",onClick:x,disabled:o,className:"min-w-[120px]",children:o?d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(b0,{className:"h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete Project"})]})]})})};function hT({project:e,isOpen:t,onClose:n}){const[s,a]=N.useState("overview"),[o,l]=N.useState(null),[u,f]=N.useState(null),[h,p]=N.useState(null),[x,y]=N.useState(!1),[b,w]=N.useState(null),[_,j]=N.useState(!1),[S,C]=N.useState(!1),[O,D]=N.useState(!1),[k,R]=N.useState(!1),[M,F]=N.useState(!1),{updateProjectProgress:q}=wy(),{data:re,isLoading:G,mutate:ee}=hs("Project",(e==null?void 0:e.name)||"",e!=null&&e.name?"Project":void 0),{data:de}=_n("project_phase",{fields:["name","progress"],filters:[["project","=",(e==null?void 0:e.name)||""]],orderBy:{field:"creation",order:"asc"}}),{data:J}=_n("Task",{fields:["name","progress"],filters:[["project","=",(e==null?void 0:e.name)||""]],orderBy:{field:"creation",order:"asc"}}),{call:K}=fs("frappe.client.insert"),{call:B}=fs("frappe.client.save"),{call:Y}=fs("frappe.client.delete"),{call:Q}=fs("frappe.client.set_value"),{data:ve,error:H,isLoading:ae}=hs("User",(e==null?void 0:e.owner)||"",e!=null&&e.owner?void 0:null),{data:we,mutate:W}=hs("SubTask",(h==null?void 0:h.name)||"",h!=null&&h.name?void 0:null),{data:me,mutate:ke}=hs("Task",(u==null?void 0:u.name)||"",u!=null&&u.name?void 0:null),{currentUser:ye}=Du(),Ce=(re==null?void 0:re.users)||(e==null?void 0:e.users)||[],ze=G,tt=N.useMemo(()=>{if(de&&de.length>0){const Te=de.reduce((Be,_t)=>Be+(_t.progress||0),0);return{progress:Math.round(Te/de.length),source:"phases",count:de.length}}else if(J&&J.length>0){const Te=J.reduce((Be,_t)=>Be+(_t.progress||0),0);return{progress:Math.round(Te/J.length),source:"tasks",count:J.length}}return{progress:(re==null?void 0:re.percent_complete)||(e==null?void 0:e.percent_complete)||0,source:"manual",count:0}},[de,J,re==null?void 0:re.percent_complete,e==null?void 0:e.percent_complete]),Ve=()=>ge(null,null,function*(){if(e!=null&&e.name){F(!0);try{yield q(e.name),yield ee()}catch(Te){console.error("Error recalculating project progress:",Te)}finally{F(!1)}}}),Et=()=>ge(null,null,function*(){if(h!=null&&h.name)try{yield W()}catch(Te){console.error("Error refreshing subtask data:",Te)}}),ct=()=>ge(null,null,function*(){if(u!=null&&u.name)try{yield ke()}catch(Te){console.error("Error refreshing task data:",Te)}}),yt=Te=>ge(null,null,function*(){(u==null?void 0:u.name)===Te&&(yield ct())});N.useEffect(()=>{we&&(h==null?void 0:h.name)===we.name&&p(we)},[we,h==null?void 0:h.name]),N.useEffect(()=>{me&&(u==null?void 0:u.name)===me.name&&f(me)},[me,u==null?void 0:u.name]),N.useEffect(()=>{if(tt.source!=="manual"&&(e!=null&&e.name)){const Te=(re==null?void 0:re.percent_complete)||(e==null?void 0:e.percent_complete)||0;Math.abs(tt.progress-Te)>1&&Ve()}},[tt.progress,de,J]);const Me=fh(),mt=fh(),Yt=fh(),[kt,It]=N.useState(!1),Xt=Te=>ge(null,null,function*(){if(e!=null&&e.name){It(!0);try{if((Ce||[]).find(On=>On.user===Te.user)){alert("User is already a member of this project");return}yield K({doc:{doctype:"Project User",parent:e.name,parenttype:"Project",parentfield:"users",user:Te.user,view_attachments:1,hide_timesheets:0,project_status:"Open",welcome_email_sent:1}}),setTimeout(()=>ee(),1e3),y(!1),Me.reset()}catch(Be){console.error("Error adding member:",Be);const _t=Be instanceof Error?Be.message:String(Be);_t.includes("Email Account")||_t.includes("OutgoingEmailError")||_t.includes("email")?(alert("Member may have been added, but welcome email failed. Please check the project members list and refresh if needed."),setTimeout(()=>ee(),1e3),y(!1),Me.reset()):alert("Failed to add member: "+_t)}finally{It(!1)}}}),$=Te=>ge(null,null,function*(){if(!(!b||!(e!=null&&e.name))){It(!0);try{const Be=Ce.find(_t=>_t.user===b.user);if(!(Be!=null&&Be.name)){alert("User record not found");return}yield B({doc:{doctype:"Project User",name:Be.name,view_attachments:Te.view_attachments?1:0,hide_timesheets:Te.hide_timesheets?1:0,project_status:Te.project_status||""}}),setTimeout(()=>ee(),1e3),j(!1),w(null),mt.reset()}catch(Be){console.error("Error updating member:",Be),alert("Failed to update member")}finally{It(!1)}}}),oe=Te=>ge(null,null,function*(){if(e!=null&&e.name&&confirm("Are you sure you want to remove this member from the project?"))try{const Be=Ce.find(_t=>_t.user===Te);if(!(Be!=null&&Be.name)){alert("User record not found");return}yield Y({doctype:"Project User",name:Be.name}),setTimeout(()=>ee(),1e3)}catch(Be){console.error("Error removing member:",Be),alert("Failed to remove member")}}),V=Te=>{w(Te),mt.reset({user:Te.user,view_attachments:!!Te.view_attachments,hide_timesheets:!!Te.hide_timesheets,project_status:Te.project_status||""}),j(!0)},je=()=>(e==null?void 0:e.owner)===ye||ye==="Administrator",Re=Te=>ge(null,null,function*(){if(e!=null&&e.name){It(!0);try{yield ee();const Be=re||e;try{yield B({doc:{doctype:"Project",name:e.name,owner:Te.owner,project_name:Be==null?void 0:Be.project_name,status:Be==null?void 0:Be.status,priority:Be==null?void 0:Be.priority,company:Be==null?void 0:Be.company,customer:Be==null?void 0:Be.customer,expected_start_date:Be==null?void 0:Be.expected_start_date,expected_end_date:Be==null?void 0:Be.expected_end_date,description:Be==null?void 0:Be.description,modified:new Date().toISOString(),modified_by:Te.owner}})}catch(_t){console.log("Save method failed:",_t);try{yield Q({doctype:"Project",name:e.name,fieldname:"owner",value:Te.owner})}catch(On){if(console.log("Set value failed, falling back to Project Manager approach:",On),(Ce||[]).find(qn=>qn.user===Te.owner)){alert("Cannot change owner field (protected by ERPNext), but user is already a project member. Please edit their role manually.");return}yield K({doc:{doctype:"Project User",parent:e.name,parenttype:"Project",parentfield:"users",user:Te.owner,view_attachments:1,hide_timesheets:0,project_status:"Project Manager (Owner Substitute)",welcome_email_sent:1}}),alert('Owner field is protected by ERPNext. Added user as "Project Manager (Owner Substitute)" instead with full permissions.')}}setTimeout(()=>ee(),1e3),C(!1),Yt.reset()}catch(Be){console.error("Error changing owner:",Be);const _t=Be instanceof Error?Be.message:String(Be);_t.includes("Cannot edit standard fields")||_t.includes("protects this field")?alert(`Cannot change project owner: ERPNext protects the owner field from modification.

Alternative solutions:
1. Add the user as Project Manager in the team members
2. Contact system administrator to manually update via backend
3. Use project permissions to grant the user full access

Admin command (run in ERPNext console):
frappe.db.sql("UPDATE tabProject SET owner = '${Te.owner}' WHERE name = '${e.name}'")`):alert("Failed to change owner: "+_t)}finally{It(!1)}}}),Oe=Te=>{switch(Te){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},Ue=Te=>Te?new Date(Te).toLocaleDateString():"N/A",$e=()=>{D(!0)},Ke=()=>{R(!0)},bt=()=>{ee()},es=()=>{n()};return e?d.jsxs(IB,{open:t,onOpenChange:n,direction:"right",children:[d.jsx(GB,{children:d.jsxs("div",{className:"w-full h-full overflow-y-auto p-6",children:[d.jsxs(KB,{className:"px-0 pb-6",children:[d.jsxs(ZB,{className:"flex gap-4 justify-between",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"h-16 w-16 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg",children:d.jsx("span",{className:"text-2xl font-bold text-white",children:e.project_name.charAt(0).toUpperCase()})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:e.project_name}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:`inline-flex px-4 py-2 text-sm font-semibold rounded-full ${Oe(e.status)}`,children:e.status||"Open"}),e.project_type&&d.jsx("span",{className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-full",children:e.project_type})]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(Ie,{variant:"outline",size:"sm",onClick:$e,className:"flex items-center gap-2",children:[d.jsx(zl,{className:"h-4 w-4"}),"Edit"]}),d.jsxs(Ie,{variant:"outline",size:"sm",onClick:Ke,className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[d.jsx($l,{className:"h-4 w-4"}),"Delete"]}),d.jsx(Ie,{variant:"ghost",size:"sm",onClick:n,children:"X"})]})]}),d.jsx(JB,{className:"text-lg text-gray-600 mt-4",children:"Project Details and Progress Overview"}),d.jsxs("div",{className:"flex border-b border-gray-200 mt-6",children:[d.jsx("button",{onClick:()=>a("overview"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${s==="overview"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Overview"}),d.jsx("button",{onClick:()=>a("tasks"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${s==="tasks"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Tasks & Phases"}),d.jsxs("button",{onClick:()=>a("team"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="team"?"border-green-600 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[d.jsx(nh,{className:"h-4 w-4"}),"Team (",((Ce==null?void 0:Ce.length)||0)+1,")"]}),o&&d.jsxs("button",{onClick:()=>a("phase-details"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="phase-details"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[" ",o.subject,d.jsx("span",{onClick:Te=>{Te.stopPropagation(),l(null),a("tasks")},className:"ml-2 hover:bg-gray-200 rounded-full p-1 transition-colors cursor-pointer",title:"Close phase details",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u&&d.jsxs("button",{onClick:()=>a("task-details"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="task-details"?"border-orange-600 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[" ",u.subject||u.name,d.jsx("span",{onClick:Te=>{Te.stopPropagation(),f(null),a("tasks")},className:"ml-2 hover:bg-gray-200 rounded-full p-1 transition-colors cursor-pointer",title:"Close task details",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),h&&d.jsxs("button",{onClick:()=>a("subtask-details"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="subtask-details"?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[" ",h.subject||h.name,d.jsx("span",{onClick:Te=>{Te.stopPropagation(),p(null),a("tasks")},className:"ml-2 hover:bg-gray-200 rounded-full p-1 transition-colors cursor-pointer",title:"Close subtask details",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})]}),d.jsxs("div",{className:"space-y-8",children:[s==="overview"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Project Progress"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-lg font-medium text-gray-700",children:"Overall Progress"}),tt.source!=="manual"&&d.jsxs("span",{className:"text-xs text-gray-500",children:["(from ",tt.count," ",tt.source,")"]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[tt.progress,"%"]}),d.jsx(Ie,{variant:"ghost",size:"sm",onClick:Ve,disabled:M,className:"h-8 w-8 p-0",title:"Recalculate progress",children:d.jsx(dN,{className:`h-4 w-4 ${M?"animate-spin":""}`})})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:d.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-4 rounded-full transition-all duration-500 ease-out",style:{width:`${tt.progress}%`}})}),tt.source==="phases"&&de&&d.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:[d.jsx("div",{className:"font-medium mb-1",children:"Phase progress breakdown:"}),d.jsx("div",{className:"grid grid-cols-2 gap-1",children:de.map((Te,Be)=>d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("span",{children:["Phase ",Be+1,":"]}),d.jsxs("span",{children:[Te.progress||0,"%"]})]},Te.name))})]}),tt.source==="tasks"&&d.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:["Progress calculated from ",tt.count," direct tasks (no phases)"]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:d.jsx(zu,{className:"h-8 w-8 text-blue-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Customer"}),d.jsx("p",{className:"text-xl font-bold text-gray-900",children:e.customer||"N/A"})]})]})}),d.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:d.jsx(bx,{className:"h-8 w-8 text-green-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Budget"}),d.jsx("p",{className:"text-xl font-bold text-gray-900",children:mo(e.estimated_costing)})]})]})}),d.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:d.jsx(Mr,{className:"h-8 w-8 text-purple-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"Deadline"}),d.jsx("p",{className:"text-xl font-bold text-gray-900",children:Ue(e.expected_end_date)})]})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[d.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Project Information"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"Start Date"}),d.jsx("span",{className:"text-gray-900 font-semibold",children:Ue(e.expected_start_date)})]}),d.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),d.jsx("span",{className:"text-gray-900 font-semibold",children:e.priority||"Medium"})]}),d.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"Department"}),d.jsx("span",{className:"text-gray-900 font-semibold",children:e.department||"N/A"})]}),d.jsxs("div",{className:"flex items-center justify-between py-3",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"Company"}),d.jsx("span",{className:"text-gray-900 font-semibold",children:e.company||"N/A"})]})]})]}),d.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Financial Metrics"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"Total Cost"}),d.jsx("span",{className:"text-gray-900 font-semibold",children:mo(e.total_costing_amount)})]}),d.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"Total Sales"}),d.jsx("span",{className:"text-gray-900 font-semibold",children:mo(e.total_sales_amount)})]}),d.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"Billable Amount"}),d.jsx("span",{className:"text-gray-900 font-semibold",children:mo(e.total_billable_amount)})]}),d.jsxs("div",{className:"flex items-center justify-between py-3",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"Gross Margin"}),d.jsx("span",{className:"text-lg font-bold text-green-600",children:mo(e.gross_margin)})]})]})]})]})]}),s==="team"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(ED,{className:"h-6 w-6 text-yellow-600"}),d.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Project Owner"})]}),je()&&d.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>{Yt.reset({owner:(e==null?void 0:e.owner)||""}),C(!0)},className:"flex items-center gap-2",children:[d.jsx(zl,{className:"h-4 w-4"}),"Change Owner"]})]}),d.jsxs("div",{className:"flex items-center gap-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[d.jsx("div",{className:"h-12 w-12 rounded-full bg-yellow-100 flex items-center justify-center",children:d.jsx(zu,{className:"h-6 w-6 text-yellow-600"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-lg font-semibold text-gray-900",children:ae?"Loading...":ve!=null&&ve.full_name?ve.full_name:e!=null&&e.owner?e.owner:"No Owner"}),d.jsx("p",{className:"text-sm text-gray-600",children:ae?"Loading email...":ve!=null&&ve.email?ve.email:e!=null&&e.owner?e.owner:"No email"}),d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded",children:"Project Owner"}),(ve==null?void 0:ve.designation)&&d.jsx("span",{className:"text-xs text-gray-500",children:ve.designation}),H&&d.jsx("span",{className:"text-xs text-red-500",children:"(Error loading user details)"})]})]})]})]}),d.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(nh,{className:"h-6 w-6 text-blue-600"}),d.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Team Members"}),d.jsxs("span",{className:"inline-flex px-3 py-1 text-sm font-medium bg-blue-100 text-blue-800 rounded-full",children:[(Ce==null?void 0:Ce.length)||0," members"]})]}),d.jsxs(Ie,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",onClick:()=>y(!0),children:[d.jsx(So,{className:"h-4 w-4 mr-1"}),"Add Member"]})]}),ze?d.jsxs("div",{className:"flex items-center justify-center py-8",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),d.jsx("span",{className:"ml-3 text-gray-600",children:"Loading team members..."})]}):Ce&&Ce.length>0?d.jsx("div",{className:"grid gap-4",children:Ce.map((Te,Be)=>d.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors",children:[d.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center overflow-hidden",children:Te.image?d.jsx("img",{src:Te.image,alt:Te.full_name||Te.user,className:"h-full w-full object-cover"}):d.jsx("span",{className:"text-sm font-semibold text-blue-600",children:(Te.full_name||Te.user||"U").charAt(0).toUpperCase()})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"font-semibold text-gray-900",children:Te.full_name||Te.user||"Unknown User"}),d.jsx("p",{className:"text-sm text-gray-600",children:Te.email||Te.user||"No email"}),Te.project_status&&d.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Status: ",Te.project_status]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:"Team Member"}),Te.view_attachments&&d.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded",children:"Can View Files"}),d.jsxs(Ie,{size:"sm",variant:"outline",className:"text-xs",onClick:()=>V(Te),children:[d.jsx(zl,{className:"h-3 w-3 mr-1"}),"Edit"]}),d.jsxs(Ie,{size:"sm",variant:"outline",className:"text-xs text-red-600 hover:text-red-700",onClick:()=>oe(Te.user),children:[d.jsx($l,{className:"h-3 w-3 mr-1"}),"Remove"]})]})]},Te.user||Be))}):d.jsxs("div",{className:"text-center py-8",children:[d.jsx(nh,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"No team members added yet"}),d.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Add team members to collaborate on this project"}),d.jsxs(Ie,{className:"mt-4 bg-blue-600 hover:bg-blue-700",onClick:()=>y(!0),children:[d.jsx(So,{className:"h-4 w-4 mr-2"}),"Add First Member"]})]})]}),d.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Statistics"}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[d.jsx("p",{className:"text-2xl font-bold text-blue-600",children:((Ce==null?void 0:Ce.length)||0)+1}),d.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"})]}),d.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[d.jsx("p",{className:"text-2xl font-bold text-green-600",children:"1"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Project Owner"})]}),d.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[d.jsx("p",{className:"text-2xl font-bold text-purple-600",children:(Ce==null?void 0:Ce.length)||0}),d.jsx("p",{className:"text-sm text-gray-600",children:"Team Members"})]}),d.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[d.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[(e==null?void 0:e.percent_complete)||0,"%"]}),d.jsx("p",{className:"text-sm text-gray-600",children:"Progress"})]})]})]})]}),s==="tasks"&&d.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:d.jsx(n8,{projectName:e.name,onViewPhaseDetails:Te=>{l(Te),a("phase-details")},onViewTaskDetails:Te=>{f(Te),a("task-details")},onViewSubTaskDetails:Te=>{p(Te),a("subtask-details")}})}),s==="phase-details"&&o&&d.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:d.jsx(c8,{phase:o,projectName:e.name,onBack:()=>a("tasks"),onViewTaskDetails:Te=>{f(Te),a("task-details")},onPhaseUpdated:()=>ge(null,null,function*(){ee(),setTimeout(()=>ge(null,null,function*(){yield Ve()}),500)}),onPhaseDeleted:()=>ge(null,null,function*(){ee(),a("tasks"),l(null),setTimeout(()=>ge(null,null,function*(){yield Ve()}),500)}),onTaskCreated:()=>ge(null,null,function*(){ee(),setTimeout(()=>ge(null,null,function*(){yield Ve()}),500)})})}),s==="task-details"&&u&&d.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:d.jsx(w8,{task:u,projectName:e.name,onBack:()=>a("tasks"),onViewSubTaskDetails:Te=>{p(Te),a("subtask-details")},onTaskUpdated:()=>ge(null,null,function*(){ee(),yield ct(),setTimeout(()=>ge(null,null,function*(){yield Ve()}),500)}),onTaskDeleted:()=>ge(null,null,function*(){ee(),a("tasks"),f(null),setTimeout(()=>ge(null,null,function*(){yield Ve()}),500)})})}),s==="subtask-details"&&h&&d.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:d.jsx(S8,{subtask:h,projectName:e.name,onBack:()=>a("tasks"),onSubTaskUpdated:()=>ge(null,null,function*(){ee(),yield Et(),h!=null&&h.task&&(yield yt(h.task)),setTimeout(()=>ge(null,null,function*(){yield Ve()}),500)}),onSubTaskDeleted:()=>ge(null,null,function*(){ee(),a("tasks"),p(null),setTimeout(()=>ge(null,null,function*(){yield Ve()}),500)})})})]}),d.jsx(QB,{className:"px-0 mt-8 pt-6 border-t border-gray-200",children:d.jsxs("div",{className:"flex gap-4",children:[d.jsx(Ie,{variant:"outline",className:"flex-1 h-12 text-lg font-semibold",onClick:()=>a("tasks"),children:"View Tasks"}),d.jsx(Ie,{variant:"outline",className:"flex-1 h-12 text-lg font-semibold",children:"View Timeline"})]})})]})}),d.jsx(Ss,{open:x,onOpenChange:y,children:d.jsx(Ns,{className:"sm:max-w-md",children:d.jsxs("form",{onSubmit:Me.handleSubmit(Xt),children:[d.jsxs(Es,{children:[d.jsx(ks,{children:"Add Team Member"}),d.jsx(_o,{children:"Add a new member to the project team."})]}),d.jsx("div",{className:"grid gap-4 py-4",children:d.jsxs("div",{className:"grid gap-2",children:[d.jsxs(He,{children:["User ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx(pi,{name:"user",control:Me.control,rules:{required:"Please select a user"},render:({field:Te})=>d.jsx(gi,{doctype:"User",value:Te.value||"",onChange:Te.onChange,placeholder:"Select user...",displayField:"full_name",valueField:"name",filters:[["enabled","=",1],["user_type","!=","Website User"]],fields:["name","full_name","email"],className:"w-full"})}),Me.formState.errors.user&&d.jsx("span",{className:"text-red-500 text-sm",children:Me.formState.errors.user.message})]})}),d.jsxs(Ts,{children:[d.jsx(Ie,{type:"button",variant:"outline",onClick:()=>{y(!1),Me.reset()},children:"Cancel"}),d.jsx(Ie,{type:"submit",disabled:kt,className:"bg-blue-600 hover:bg-blue-700",children:kt?"Adding...":"Add Member"})]})]})})}),d.jsx(Ss,{open:_,onOpenChange:j,children:d.jsx(Ns,{className:"sm:max-w-md",children:d.jsxs("form",{onSubmit:mt.handleSubmit($),children:[d.jsxs(Es,{children:[d.jsx(ks,{children:"Edit Team Member"}),d.jsxs(_o,{children:["Update member settings for ",(b==null?void 0:b.full_name)||(b==null?void 0:b.user),"."]})]}),d.jsxs("div",{className:"grid gap-4 py-4",children:[d.jsxs("div",{className:"grid gap-2",children:[d.jsx(He,{children:"User"}),d.jsx($t,{value:(b==null?void 0:b.full_name)||(b==null?void 0:b.user)||"",disabled:!0,className:"bg-gray-100"})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsx(He,{children:"Project Status"}),d.jsx($t,xe(z({},mt.register("project_status")),{placeholder:"Enter project status for this member..."}))]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("input",xe(z({type:"checkbox",id:"edit_view_attachments"},mt.register("view_attachments")),{className:"rounded border-gray-300"})),d.jsx(He,{htmlFor:"edit_view_attachments",className:"text-sm",children:"Can view attachments"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("input",xe(z({type:"checkbox",id:"edit_hide_timesheets"},mt.register("hide_timesheets")),{className:"rounded border-gray-300"})),d.jsx(He,{htmlFor:"edit_hide_timesheets",className:"text-sm",children:"Hide timesheets from this user"})]})]}),d.jsxs(Ts,{children:[d.jsx(Ie,{type:"button",variant:"outline",onClick:()=>{j(!1),w(null),mt.reset()},children:"Cancel"}),d.jsx(Ie,{type:"submit",disabled:kt,className:"bg-blue-600 hover:bg-blue-700",children:kt?"Updating...":"Update Member"})]})]})})}),d.jsx(Ss,{open:S,onOpenChange:C,children:d.jsx(Ns,{className:"sm:max-w-md",children:d.jsxs("form",{onSubmit:Yt.handleSubmit(Re),children:[d.jsxs(Es,{children:[d.jsx(ks,{children:"Change Project Owner"}),d.jsx(_o,{children:"Attempt to change the project owner. Note: ERPNext may protect this field, in which case we'll add the user as Project Manager instead."})]}),d.jsxs("div",{className:"grid gap-4 py-4",children:[d.jsxs("div",{className:"grid gap-2",children:[d.jsxs(He,{children:["New Owner ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx(pi,{name:"owner",control:Yt.control,rules:{required:"Please select a new owner"},render:({field:Te})=>d.jsx(gi,{doctype:"User",value:Te.value||"",onChange:Te.onChange,placeholder:"Select new owner...",displayField:"full_name",valueField:"name",filters:[["enabled","=",1],["user_type","!=","Website User"]],fields:["name","full_name","email"],className:"w-full"})}),Yt.formState.errors.owner&&d.jsx("span",{className:"text-red-500 text-sm",children:Yt.formState.errors.owner.message})]}),d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:d.jsxs("p",{className:"text-sm text-blue-800",children:[d.jsx("strong",{children:"Note:"}),' This will attempt to change the actual project owner. If that fails (due to ERPNext protection), the user will be added as "Project Manager (Owner Substitute)" with full permissions.']})})]}),d.jsxs(Ts,{children:[d.jsx(Ie,{type:"button",variant:"outline",onClick:()=>{C(!1),Yt.reset()},children:"Cancel"}),d.jsx(Ie,{type:"submit",disabled:kt,className:"bg-yellow-600 hover:bg-yellow-700",children:kt?"Changing Owner...":"Change Owner"})]})]})})}),d.jsx(dT,{project:e,isOpen:O,onClose:()=>D(!1),onSuccess:bt}),d.jsx(fT,{project:e,isOpen:k,onClose:()=>R(!1),onSuccess:es})]}):null}const mT=({project:e,onProjectUpdated:t,onProjectDeleted:n,onCloseDrawer:s})=>{const[a,o]=N.useState(!1),[l,u]=N.useState(!1),[f,h]=N.useState(!1),p=w=>{w&&w.stopPropagation(),o(!0),h(!1)},x=w=>{w&&w.stopPropagation(),u(!0),h(!1)},y=()=>{t&&t()},b=()=>{n&&n(),s&&s()};return d.jsxs(d.Fragment,{children:[d.jsxs(Ux,{open:f,onOpenChange:h,children:[d.jsx(Bx,{asChild:!0,children:d.jsx(Ie,{variant:"ghost",size:"sm",onClick:w=>{w.stopPropagation(),h(!f)},className:"h-8 w-8 p-0",children:d.jsx(CD,{className:"h-4 w-4"})})}),d.jsx(Fx,{className:"w-48 p-2",align:"end",onClick:w=>w.stopPropagation(),children:d.jsxs("div",{className:"space-y-1",children:[d.jsxs(Ie,{variant:"ghost",size:"sm",onClick:w=>p(w),className:"w-full justify-start text-left",children:[d.jsx(KD,{className:"mr-2 h-4 w-4"}),"Edit Project"]}),d.jsxs(Ie,{variant:"ghost",size:"sm",onClick:w=>x(w),className:"w-full justify-start text-left text-red-600 hover:text-red-700 hover:bg-red-50",children:[d.jsx($l,{className:"mr-2 h-4 w-4"}),"Delete Project"]})]})})]}),d.jsx(dT,{project:e,isOpen:a,onClose:()=>o(!1),onSuccess:y}),d.jsx(fT,{project:e,isOpen:l,onClose:()=>u(!1),onSuccess:b})]})},O8=({projects:e,onProjectsChange:t})=>{const[n,s]=N.useState(null),[a,o]=N.useState(!1),l=h=>{s(h),o(!0)},u=()=>{o(!1),s(null)},f=h=>{switch(h){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}};return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:e.map(h=>d.jsxs("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 hover:shadow-md transition-shadow duration-200 cursor-pointer",onClick:()=>l(h),children:[d.jsx("div",{className:"h-48 bg-gray-200 flex items-center justify-center",children:d.jsx("div",{className:"text-4xl font-bold text-gray-400",children:h.project_name.charAt(0).toUpperCase()})}),d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate flex-1",children:h.project_name}),d.jsxs("div",{className:"flex items-center gap-2",onClick:p=>p.stopPropagation(),children:[d.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${f(h.status)}`,children:h.status||"Open"}),d.jsx(mT,{project:h,onProjectUpdated:t,onProjectDeleted:t,onCloseDrawer:u})]})]}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:h.project_type||"N/A"}),d.jsxs("div",{className:"mb-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Progress"}),d.jsxs("span",{className:"text-sm text-gray-600",children:[h.percent_complete||0,"%"]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${h.percent_complete||0}%`}})})]}),d.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[d.jsx("span",{children:h.customer||"N/A"}),d.jsx("span",{children:mo(h.estimated_costing)})]})]})]},h.name))}),d.jsx(hT,{project:n,isOpen:a,onClose:u})]})},A8=({projects:e,onProjectsChange:t})=>{const[n,s]=N.useState(null),[a,o]=N.useState(!1),l=p=>{s(p),o(!0)},u=()=>{o(!1),s(null)},f=p=>{switch(p){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},h=p=>p?new Date(p).toLocaleDateString():"N/A";return d.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[d.jsx("div",{className:"overflow-hidden",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progress"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Budget"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Deadline"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(p=>d.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>l(p),children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:d.jsx("div",{className:"h-10 w-10 rounded-lg bg-gray-200 flex items-center justify-center",children:d.jsx("span",{className:"text-sm font-bold text-gray-600",children:p.project_name.charAt(0).toUpperCase()})})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.project_name}),d.jsx("div",{className:"text-sm text-gray-500",children:p.project_type||"N/A"})]})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${f(p.status)}`,children:p.status||"Open"})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${p.percent_complete||0}%`}})}),d.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[p.percent_complete||0,"%"]})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.customer||"N/A"}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:mo(p.estimated_costing)}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h(p.expected_end_date)}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",onClick:x=>x.stopPropagation(),children:d.jsx(mT,{project:p,onProjectUpdated:t,onProjectDeleted:t,onCloseDrawer:u})})]},p.name))})]})}),d.jsx(hT,{project:n,isOpen:a,onClose:u})]})},R8=0,D8=1,M8=2;var eS=Object.prototype.hasOwnProperty;function $0(e,t){var n,s;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((s=e.length)===t.length)for(;s--&&$0(e[s],t[s]););return s===-1}if(!n||typeof e=="object"){s=0;for(n in e)if(eS.call(e,n)&&++s&&!eS.call(t,n)||!(n in t)||!$0(e[n],t[n]))return!1;return Object.keys(t).length===s}}return e!==e&&t!==t}const po=new WeakMap,wi=()=>{},pr=wi(),q0=Object,Jr=e=>e===pr,go=e=>typeof e=="function",nm=(e,t)=>z(z({},e),t),P8=e=>go(e.then),Qg={},qf={},pT="undefined",_y=typeof window!=pT,Y0=typeof document!=pT,L8=_y&&"Deno"in window,z8=(e,t)=>{const n=po.get(e);return[()=>!Jr(t)&&e.get(t)||Qg,s=>{if(!Jr(t)){const a=e.get(t);t in qf||(qf[t]=a),n[5](t,nm(a,s),a||Qg)}},n[6],()=>!Jr(t)&&t in qf?qf[t]:!Jr(t)&&e.get(t)||Qg]};let I0=!0;const U8=()=>I0,[W0,X0]=_y&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[wi,wi],B8=()=>{const e=Y0&&document.visibilityState;return Jr(e)||e!=="hidden"},F8=e=>(Y0&&document.addEventListener("visibilitychange",e),W0("focus",e),()=>{Y0&&document.removeEventListener("visibilitychange",e),X0("focus",e)}),H8=e=>{const t=()=>{I0=!0,e()},n=()=>{I0=!1};return W0("online",t),W0("offline",n),()=>{X0("online",t),X0("offline",n)}},V8={isOnline:U8,isVisible:B8},$8={initFocus:F8,initReconnect:H8};Se.useId;const gT=!_y||L8,Zg=typeof navigator!="undefined"&&navigator.connection,tS=!gT&&Zg&&(["slow-2g","2g"].includes(Zg.effectiveType)||Zg.saveData),Yf=new WeakMap,q8=e=>q0.prototype.toString.call(e),Jg=(e,t)=>e===`[object ${t}]`;let Y8=0;const G0=e=>{const t=typeof e,n=q8(e),s=Jg(n,"Date"),a=Jg(n,"RegExp"),o=Jg(n,"Object");let l,u;if(q0(e)===e&&!s&&!a){if(l=Yf.get(e),l)return l;if(l=++Y8+"~",Yf.set(e,l),Array.isArray(e)){for(l="@",u=0;u<e.length;u++)l+=G0(e[u])+",";Yf.set(e,l)}if(o){l="#";const f=q0.keys(e).sort();for(;!Jr(u=f.pop());)Jr(e[u])||(l+=u+":"+G0(e[u])+",");Yf.set(e,l)}}else l=s?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return l},I8=e=>{if(go(e))try{e=e()}catch(n){e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?G0(e):"",[e,t]};let W8=0;const nS=()=>++W8;function X8(...e){return ge(this,null,function*(){const[t,n,s,a]=e,o=nm({populateCache:!0,throwOnError:!0},typeof a=="boolean"?{revalidate:a}:a||{});let l=o.populateCache;const u=o.rollbackOnError;let f=o.optimisticData;const h=y=>typeof u=="function"?u(y):u!==!1,p=o.throwOnError;if(go(n)){const y=n,b=[],w=t.keys();for(const _ of w)!/^\$(inf|sub)\$/.test(_)&&y(t.get(_)._k)&&b.push(_);return Promise.all(b.map(x))}return x(n);function x(y){return ge(this,null,function*(){const[b]=I8(y);if(!b)return;const[w,_]=z8(t,b),[j,S,C,O]=po.get(t),D=()=>{const J=j[b];return(go(o.revalidate)?o.revalidate(w().data,y):o.revalidate!==!1)&&(delete C[b],delete O[b],J&&J[0])?J[0](M8).then(()=>w().data):w().data};if(e.length<3)return D();let k=s,R,M=!1;const F=nS();S[b]=[F,0];const q=!Jr(f),re=w(),G=re.data,ee=re._c,de=Jr(ee)?G:ee;if(q&&(f=go(f)?f(de,G):f,_({data:f,_c:de})),go(k))try{k=k(de)}catch(J){R=J,M=!0}if(k&&P8(k))if(k=yield k.catch(J=>{R=J,M=!0}),F!==S[b][0]){if(M)throw R;return k}else M&&q&&h(R)&&(l=!0,_({data:de,_c:pr}));if(l&&!M)if(go(l)){const J=l(k,de);_({data:J,error:pr,_c:pr})}else _({data:k,error:pr,_c:pr});if(S[b][1]=nS(),Promise.resolve(D()).then(()=>{_({_c:pr})}),M){if(p)throw R;return}return k})}})}const sS=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},G8=(e,t)=>{if(!po.has(e)){const n=nm($8,t),s=Object.create(null),a=X8.bind(pr,e);let o=wi;const l=Object.create(null),u=(p,x)=>{const y=l[p]||[];return l[p]=y,y.push(x),()=>y.splice(y.indexOf(x),1)},f=(p,x,y)=>{e.set(p,x);const b=l[p];if(b)for(const w of b)w(x,y)},h=()=>{if(!po.has(e)&&(po.set(e,[s,Object.create(null),Object.create(null),Object.create(null),a,f,u]),!gT)){const p=n.initFocus(setTimeout.bind(pr,sS.bind(pr,s,R8))),x=n.initReconnect(setTimeout.bind(pr,sS.bind(pr,s,D8)));o=()=>{p&&p(),x&&x(),po.delete(e)}}};return h(),[e,a,h,o]}return[e,po.get(e)[4]]},K8=(e,t,n,s,a)=>{const o=n.errorRetryCount,l=a.retryCount,u=~~((Math.random()+.5)*(1<<(l<8?l:8)))*n.errorRetryInterval;!Jr(o)&&l>o||setTimeout(s,u,a)},Q8=$0,[Z8,xT]=G8(new Map);nm({onLoadingSlow:wi,onSuccess:wi,onError:wi,onErrorRetry:K8,onDiscarded:wi,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:tS?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:tS?5e3:3e3,compare:Q8,isPaused:()=>!1,cache:Z8,mutate:xT,fallback:{}},V8);N.createContext({});const J8=({onProjectCreated:e})=>{const[t,n]=N.useState(!1),{createProject:s,isLoading:a,error:o}=E8(),{register:l,control:u,handleSubmit:f,reset:h,formState:{errors:p,isSubmitting:x}}=fh({defaultValues:{status:"Open",priority:"Medium"}}),y=b=>ge(null,null,function*(){try{yield s(b),h(),n(!1),xT(w=>typeof w=="string"&&w.includes("Project"),void 0,{revalidate:!0}),e&&e(),console.log("Project created successfully")}catch(w){console.error("Error creating project:",w)}});return d.jsxs(Ss,{open:t,onOpenChange:n,children:[d.jsx(oB,{asChild:!0,children:d.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[d.jsx(So,{className:"mr-2 h-4 w-4"}),"New Project"]})}),d.jsx(Ns,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:d.jsxs("form",{onSubmit:f(y),children:[d.jsxs(Es,{children:[d.jsx(ks,{children:"Create New Project"}),d.jsx(_o,{children:"Fill in the project details. Fields marked with * are required."})]}),d.jsxs("div",{className:"grid gap-4 py-4",children:[d.jsxs("div",{className:"grid gap-2",children:[d.jsxs(He,{htmlFor:"project_name",children:["Project Name ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx($t,xe(z({id:"project_name"},l("project_name",{required:"Project name is required"})),{placeholder:"Enter project name"})),p.project_name&&d.jsx("span",{className:"text-red-500 text-sm",children:p.project_name.message})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsx(He,{children:"Customer"}),d.jsx(pi,{name:"customer",control:u,render:({field:b})=>d.jsx(gi,{doctype:"Customer",value:b.value||"",onChange:b.onChange,placeholder:"Select customer...",displayField:"customer_name",valueField:"name",className:"w-full"})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"grid gap-2",children:[d.jsx(He,{children:"Project Type"}),d.jsx(pi,{name:"project_type",control:u,render:({field:b})=>d.jsx(gi,{doctype:"Project Type",value:b.value||"",onChange:b.onChange,placeholder:"Select type...",className:"w-full"})})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsxs(He,{children:["Status ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("select",xe(z({},l("status",{required:"Status is required"})),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[d.jsx("option",{value:"Open",children:"Open"}),d.jsx("option",{value:"Completed",children:"Completed"}),d.jsx("option",{value:"Cancelled",children:"Cancelled"})]}))]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"grid gap-2",children:[d.jsx(He,{children:"Priority"}),d.jsxs("select",xe(z({},l("priority")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[d.jsx("option",{value:"",children:"Select priority..."}),d.jsx("option",{value:"Low",children:"Low"}),d.jsx("option",{value:"Medium",children:"Medium"}),d.jsx("option",{value:"High",children:"High"}),d.jsx("option",{value:"Critical",children:"Critical"})]}))]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsx(He,{children:"Department"}),d.jsx(pi,{name:"department",control:u,render:({field:b})=>d.jsx(gi,{doctype:"Department",value:b.value||"",onChange:b.onChange,placeholder:"Select department...",className:"w-full"})})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"grid gap-2",children:[d.jsx(He,{children:"Company"}),d.jsx(pi,{name:"company",control:u,render:({field:b})=>d.jsx(gi,{doctype:"Company",value:b.value||"",onChange:b.onChange,placeholder:"Select company...",className:"w-full"})})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsx(He,{children:"Cost Center"}),d.jsx(pi,{name:"cost_center",control:u,render:({field:b})=>d.jsx(gi,{doctype:"Cost Center",value:b.value||"",onChange:b.onChange,placeholder:"Select cost center...",displayField:"cost_center_name",valueField:"name",className:"w-full"})})]})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsx(He,{children:"Project Template"}),d.jsx(pi,{name:"project_template",control:u,render:({field:b})=>d.jsx(gi,{doctype:"Project Template",value:b.value||"",onChange:b.onChange,placeholder:"Select project template...",className:"w-full"})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"grid gap-2",children:[d.jsx(He,{children:"Expected Start Date"}),d.jsx($t,z({type:"date"},l("expected_start_date")))]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsx(He,{children:"Expected End Date"}),d.jsx($t,z({type:"date"},l("expected_end_date")))]})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsx(He,{children:"Notes"}),d.jsx("textarea",xe(z({},l("notes")),{placeholder:"Enter project notes...",rows:3,className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"}))]}),o&&d.jsxs("div",{className:"text-red-500 text-sm",children:["Error: ",o.message||"Something went wrong"]})]}),d.jsxs(Ts,{children:[d.jsx(cB,{asChild:!0,children:d.jsx(Ie,{type:"button",variant:"outline",children:"Cancel"})}),d.jsx(Ie,{type:"submit",disabled:x||a,className:"bg-blue-600 hover:bg-blue-700",children:x||a?"Creating...":"Create Project"})]})]})})]})},eF=()=>{const[e,t]=Se.useState("grid"),{data:n=[],isLoading:s,error:a,mutate:o}=N8(),l=()=>{o&&o()};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Projects"}),d.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Showing projects you have access to (",n.length," projects)"]})]}),d.jsx("div",{className:"mt-4 flex md:mt-0 md:ml-4",children:d.jsx(J8,{onProjectCreated:l})})]}),d.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-4",children:d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx($h,{className:"h-4 w-4 text-gray-400"})}),d.jsx("input",{type:"text",className:"block w-64 pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Search projects..."})]}),d.jsxs("button",{className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[d.jsx(vx,{className:"mr-2 h-4 w-4"}),"Filter"]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{onClick:()=>t("grid"),className:`p-2 rounded-md ${e==="grid"?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:d.jsx(zD,{className:"h-4 w-4"})}),d.jsx("button",{onClick:()=>t("list"),className:`p-2 rounded-md ${e==="list"?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:d.jsx(HD,{className:"h-4 w-4"})})]})]})}),s?d.jsx("div",{className:"flex justify-center items-center p-8",children:d.jsx("div",{className:"text-gray-500",children:"Loading projects..."})}):a?d.jsx("div",{className:"flex flex-col justify-center items-center p-8 bg-red-50 rounded-lg border border-red-200",children:d.jsxs("div",{className:"text-red-700 text-center",children:[d.jsx("p",{className:"text-lg font-medium mb-2",children:"Error loading projects"}),d.jsx("p",{className:"text-sm mb-2",children:a.message}),a.message.includes("PermissionError")&&d.jsxs("div",{className:"text-sm text-red-600 bg-red-100 p-3 rounded mt-2",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Permission Issue:"})," You don't have access to view projects."]}),d.jsx("p",{children:"Please contact your system administrator to:"}),d.jsxs("ul",{className:"list-disc list-inside mt-1",children:[d.jsx("li",{children:'Grant you "Read" permission for Project doctype'}),d.jsx("li",{children:"Add you to projects as a team member"}),d.jsx("li",{children:"Make you the owner of projects"})]})]})]})}):n.length===0?d.jsx("div",{className:"flex flex-col justify-center items-center p-8 bg-white rounded-lg border border-gray-200",children:d.jsxs("div",{className:"text-gray-500 text-center",children:[d.jsx("p",{className:"text-lg font-medium mb-2",children:"No projects found"}),d.jsx("p",{className:"text-sm",children:"You are not currently participating in any projects."}),d.jsx("p",{className:"text-sm",children:"Create a new project or ask to be added to an existing one."})]})}):d.jsx(d.Fragment,{children:e==="grid"?d.jsx(O8,{projects:n,onProjectsChange:l}):d.jsx(A8,{projects:n,onProjectsChange:l})})]})},vu=[{id:1,title:"Design user interface mockups",description:"Create wireframes and high-fidelity mockups for the new dashboard",project:"E-commerce Platform",assignee:"Jane Smith",status:"In Progress",priority:"High",dueDate:"2024-03-10",labels:["Design","UI/UX"]},{id:2,title:"Implement authentication system",description:"Set up JWT-based authentication with login and registration",project:"E-commerce Platform",assignee:"John Doe",status:"Todo",priority:"High",dueDate:"2024-03-12",labels:["Backend","Security"]},{id:3,title:"Write API documentation",description:"Document all REST API endpoints with examples",project:"Mobile App Redesign",assignee:"Mike Johnson",status:"In Progress",priority:"Medium",dueDate:"2024-03-15",labels:["Documentation","API"]},{id:4,title:"Set up testing environment",description:"Configure Jest and React Testing Library for unit tests",project:"Data Analytics Dashboard",assignee:"Sarah Wilson",status:"Done",priority:"Low",dueDate:"2024-03-08",labels:["Testing","Setup"]},{id:5,title:"Optimize database queries",description:"Improve performance of slow database queries",project:"E-commerce Platform",assignee:"Tom Brown",status:"Todo",priority:"Medium",dueDate:"2024-03-18",labels:["Backend","Performance"]}],tF={Todo:"bg-gray-100 text-gray-800","In Progress":"bg-blue-100 text-blue-800",Done:"bg-green-100 text-green-800",Blocked:"bg-red-100 text-red-800"},nF={Low:"bg-green-100 text-green-800",Medium:"bg-yellow-100 text-yellow-800",High:"bg-red-100 text-red-800"},sF=()=>{const[e,t]=Se.useState("All"),[n,s]=Se.useState("All"),a=vu.filter(o=>{const l=e==="All"||o.status===e,u=n==="All"||o.priority===n;return l&&u});return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Tasks"}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Track and manage all your tasks across projects"})]}),d.jsx("div",{className:"mt-4 flex md:mt-0 md:ml-4",children:d.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[d.jsx(So,{className:"mr-2 h-4 w-4"}),"New Task"]})})]}),d.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-4",children:d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx($h,{className:"h-4 w-4 text-gray-400"})}),d.jsx("input",{type:"text",className:"block w-64 pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Search tasks..."})]}),d.jsxs("select",{value:e,onChange:o=>t(o.target.value),className:"border border-gray-300 rounded-md text-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[d.jsx("option",{value:"All",children:"All Status"}),d.jsx("option",{value:"Todo",children:"Todo"}),d.jsx("option",{value:"In Progress",children:"In Progress"}),d.jsx("option",{value:"Done",children:"Done"}),d.jsx("option",{value:"Blocked",children:"Blocked"})]}),d.jsxs("select",{value:n,onChange:o=>s(o.target.value),className:"border border-gray-300 rounded-md text-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[d.jsx("option",{value:"All",children:"All Priority"}),d.jsx("option",{value:"Low",children:"Low"}),d.jsx("option",{value:"Medium",children:"Medium"}),d.jsx("option",{value:"High",children:"High"})]})]}),d.jsxs("button",{className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[d.jsx(vx,{className:"mr-2 h-4 w-4"}),"More Filters"]})]})}),d.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[d.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:d.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Tasks (",a.length,")"]})}),d.jsx("div",{className:"divide-y divide-gray-200",children:a.map(o=>d.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors duration-200",children:d.jsxs("div",{className:"flex items-start space-x-4",children:[d.jsx("div",{className:"flex-shrink-0 pt-1",children:d.jsx("input",{type:"checkbox",checked:o.status==="Done",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",readOnly:!0})}),d.jsx("div",{className:"flex-1 min-w-0",children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:o.title}),d.jsx("p",{className:"text-sm text-gray-600 mb-3",children:o.description}),d.jsx("div",{className:"flex items-center space-x-2 mb-3",children:o.labels.map(l=>d.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:l},l))}),d.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(Mr,{className:"mr-1 h-3 w-3"}),o.dueDate]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(zu,{className:"mr-1 h-3 w-3"}),o.assignee]}),d.jsx("div",{className:"flex items-center",children:d.jsx("span",{children:o.project})})]})]}),d.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[d.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${tF[o.status]}`,children:o.status}),d.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${nF[o.priority]}`,children:[d.jsx(RD,{className:"mr-1 h-3 w-3"}),o.priority]})]})]})})]})},o.id))})]}),d.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-4",children:[d.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 p-5",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:vu.filter(o=>o.status==="Todo").length}),d.jsx("div",{className:"text-sm text-gray-500",children:"Todo"})]})}),d.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 p-5",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-600",children:vu.filter(o=>o.status==="In Progress").length}),d.jsx("div",{className:"text-sm text-gray-500",children:"In Progress"})]})}),d.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 p-5",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-green-600",children:vu.filter(o=>o.status==="Done").length}),d.jsx("div",{className:"text-sm text-gray-500",children:"Completed"})]})}),d.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 p-5",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:vu.length}),d.jsx("div",{className:"text-sm text-gray-500",children:"Total Tasks"})]})})]})]})},rF=[{id:1,project:"E-commerce Platform",task:"Design user interface mockups",user:"Jane Smith",startTime:"09:00 AM",endTime:"11:30 AM",duration:"2h 30m",date:"2024-03-08"},{id:2,project:"Mobile App Redesign",task:"API documentation",user:"Mike Johnson",startTime:"02:00 PM",endTime:"04:15 PM",duration:"2h 15m",date:"2024-03-08"},{id:3,project:"Data Analytics Dashboard",task:"Testing setup",user:"Sarah Wilson",startTime:"10:30 AM",endTime:"12:00 PM",duration:"1h 30m",date:"2024-03-07"}],aF=()=>{const[e,t]=Se.useState(!1),[n,s]=Se.useState("00:00:00");return d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"md:flex md:items-center md:justify-between",children:d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Time Tracking"}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Track time spent on projects and tasks"})]})}),d.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-6",children:d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("div",{className:"text-4xl font-mono font-bold text-gray-900",children:n}),d.jsx("div",{className:"flex items-center justify-center space-x-4",children:e?d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>t(!1),className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-yellow-600 hover:bg-yellow-700",children:[d.jsx(XD,{className:"mr-2 h-5 w-5"}),"Pause"]}),d.jsxs("button",{onClick:()=>{t(!1),s("00:00:00")},className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-red-600 hover:bg-red-700",children:[d.jsx(cM,{className:"mr-2 h-5 w-5"}),"Stop"]})]}):d.jsxs("button",{onClick:()=>t(!0),className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-green-600 hover:bg-green-700",children:[d.jsx(eM,{className:"mr-2 h-5 w-5"}),"Start Timer"]})}),e&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project"}),d.jsxs("select",{className:"w-full border border-gray-300 rounded-md px-3 py-2",children:[d.jsx("option",{children:"E-commerce Platform"}),d.jsx("option",{children:"Mobile App Redesign"}),d.jsx("option",{children:"Data Analytics Dashboard"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Task Description"}),d.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"What are you working on?"})]})]})]})}),d.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[d.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:d.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Time Entries"})}),d.jsx("div",{className:"overflow-hidden",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Task"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time Period"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:rF.map(a=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:a.project}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.task}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.user}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[a.startTime," - ",a.endTime]}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[d.jsx(Do,{className:"mr-1 h-3 w-3"}),a.duration]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.date})]},a.id))})]})})]})]})},kl=({title:e,description:t})=>d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"text-center py-12",children:[d.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:e}),d.jsx("p",{className:"text-lg text-gray-600 mb-8",children:t}),d.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-12",children:d.jsxs("div",{className:"text-gray-400 text-center",children:[d.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-4xl",children:""})}),d.jsx("p",{className:"text-lg",children:"This page is under construction"}),d.jsx("p",{className:"text-sm mt-2",children:"More features coming soon!"})]})})]})}),iF=FR([{path:"/",element:d.jsx(sL,{}),children:[{index:!0,element:d.jsx(aU,{})},{path:"projects",element:d.jsx(eF,{})},{path:"tasks",element:d.jsx(sF,{})},{path:"time-tracking",element:d.jsx(aF,{})},{path:"cost-analysis",element:d.jsx(kl,{title:"Cost Analysis",description:"Track project costs and budget allocations"})},{path:"reports",element:d.jsx(kl,{title:"Reports",description:"Generate detailed reports and analytics"})},{path:"calendar",element:d.jsx(kl,{title:"Calendar",description:"Manage deadlines and project timelines"})},{path:"team",element:d.jsx(kl,{title:"Team Management",description:"Manage team members and permissions"})},{path:"documents",element:d.jsx(kl,{title:"Documents",description:"Store and organize project documents"})},{path:"settings",element:d.jsx(kl,{title:"Settings",description:"Configure your workspace preferences"})}]}],{basename:"/todo"});pC.createRoot(document.getElementById("root")).render(d.jsx(Se.StrictMode,{children:d.jsx(ZR,{router:iF})}))});export default oF();
