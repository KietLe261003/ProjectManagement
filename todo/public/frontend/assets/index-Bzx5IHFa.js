var EO=Object.defineProperty,TO=Object.defineProperties;var CO=Object.getOwnPropertyDescriptors;var Sf=Object.getOwnPropertySymbols;var w_=Object.prototype.hasOwnProperty,__=Object.prototype.propertyIsEnumerable;var kl=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),kO=e=>{throw TypeError(e)};var Sg=(e,t,n)=>t in e?EO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,z=(e,t)=>{for(var n in t||(t={}))w_.call(t,n)&&Sg(e,n,t[n]);if(Sf)for(var n of Sf(t))__.call(t,n)&&Sg(e,n,t[n]);return e},oe=(e,t)=>TO(e,CO(t));var ke=(e,t)=>{var n={};for(var s in e)w_.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&Sf)for(var s of Sf(e))t.indexOf(s)<0&&__.call(e,s)&&(n[s]=e[s]);return n};var OO=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var ft=(e,t,n)=>Sg(e,typeof t!="symbol"?t+"":t,n);var ye=(e,t,n)=>new Promise((s,a)=>{var i=f=>{try{u(n.next(f))}catch(h){a(h)}},l=f=>{try{u(n.throw(f))}catch(h){a(h)}},u=f=>f.done?s(f.value):Promise.resolve(f.value).then(i,l);u((n=n.apply(e,t)).next())}),po=function(e,t){this[0]=e,this[1]=t},Ng=(e,t,n)=>{var s=(l,u,f,h)=>{try{var p=n[l](u),g=(u=p.value)instanceof po,b=p.done;Promise.resolve(g?u[0]:u).then(x=>g?s(l==="return"?l:"next",u[1]?{done:x.done,value:x.value}:x,f,h):f({value:x,done:b})).catch(x=>s("throw",x,f,h))}catch(x){h(x)}},a=l=>i[l]=u=>new Promise((f,h)=>s(l,u,f,h)),i={};return n=n.apply(e,t),i[kl("asyncIterator")]=()=>i,a("next"),a("throw"),a("return"),i},Eg=e=>{var t=e[kl("asyncIterator")],n=!1,s,a={};return t==null?(t=e[kl("iterator")](),s=i=>a[i]=l=>t[i](l)):(t=t.call(e),s=i=>a[i]=l=>{if(n){if(n=!1,i==="throw")throw l;return l}return n=!0,{done:!1,value:new po(new Promise(u=>{var f=t[i](l);f instanceof Object||kO("Object expected"),u(f)}),1)}}),a[kl("iterator")]=()=>a,s("next"),"throw"in t?s("throw"):a.throw=i=>{throw i},"return"in t&&s("return"),a},j_=(e,t,n)=>(t=e[kl("asyncIterator")])?t.call(e):(e=e[kl("iterator")](),t={},n=(s,a)=>(a=e[s])&&(t[s]=i=>new Promise((l,u,f)=>(i=a.call(e,i),f=i.done,Promise.resolve(i.value).then(h=>l({value:h,done:f}),u)))),n("next"),n("return"),t);var z7=OO(_t=>{function AO(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();function Cx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Tg={exports:{}},cu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function DO(){if(S_)return cu;S_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,a,i){var l=null;if(i!==void 0&&(l=""+i),a.key!==void 0&&(l=""+a.key),"key"in a){i={};for(var u in a)u!=="key"&&(i[u]=a[u])}else i=a;return a=i.ref,{$$typeof:e,type:s,key:l,ref:a!==void 0?a:null,props:i}}return cu.Fragment=t,cu.jsx=n,cu.jsxs=n,cu}var N_;function RO(){return N_||(N_=1,Tg.exports=DO()),Tg.exports}var c=RO(),Cg={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function MO(){if(E_)return At;E_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function b(B){return B===null||typeof B!="object"?null:(B=g&&B[g]||B["@@iterator"],typeof B=="function"?B:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,_={};function S(B,Q,he){this.props=B,this.context=Q,this.refs=_,this.updater=he||x}S.prototype.isReactComponent={},S.prototype.setState=function(B,Q){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Q,"setState")},S.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function N(){}N.prototype=S.prototype;function R(B,Q,he){this.props=B,this.context=Q,this.refs=_,this.updater=he||x}var A=R.prototype=new N;A.constructor=R,w(A,S.prototype),A.isPureReactComponent=!0;var C=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function M(B,Q,he,$,re,_e){return he=_e.ref,{$$typeof:e,type:B,key:Q,ref:he!==void 0?he:null,props:_e}}function E(B,Q){return M(B.type,Q,void 0,void 0,void 0,B.props)}function P(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function K(B){var Q={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(he){return Q[he]})}var W=/\/+/g;function Y(B,Q){return typeof B=="object"&&B!==null&&B.key!=null?K(""+B.key):Q.toString(36)}function q(){}function J(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(q,q):(B.status="pending",B.then(function(Q){B.status==="pending"&&(B.status="fulfilled",B.value=Q)},function(Q){B.status==="pending"&&(B.status="rejected",B.reason=Q)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function G(B,Q,he,$,re){var _e=typeof B;(_e==="undefined"||_e==="boolean")&&(B=null);var xe=!1;if(B===null)xe=!0;else switch(_e){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(B.$$typeof){case e:case t:xe=!0;break;case p:return xe=B._init,G(xe(B._payload),Q,he,$,re)}}if(xe)return re=re(B),xe=$===""?"."+Y(B,0):$,C(re)?(he="",xe!=null&&(he=xe.replace(W,"$&/")+"/"),G(re,Q,he,"",function(Ve){return Ve})):re!=null&&(P(re)&&(re=E(re,he+(re.key==null||B&&B.key===re.key?"":(""+re.key).replace(W,"$&/")+"/")+xe)),Q.push(re)),1;xe=0;var Ee=$===""?".":$+":";if(C(B))for(var De=0;De<B.length;De++)$=B[De],_e=Ee+Y($,De),xe+=G($,Q,he,_e,re);else if(De=b(B),typeof De=="function")for(B=De.call(B),De=0;!($=B.next()).done;)$=$.value,_e=Ee+Y($,De++),xe+=G($,Q,he,_e,re);else if(_e==="object"){if(typeof B.then=="function")return G(J(B),Q,he,$,re);throw Q=String(B),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return xe}function H(B,Q,he){if(B==null)return B;var $=[],re=0;return G(B,$,"","",function(_e){return Q.call(he,_e,re++)}),$}function te(B){if(B._status===-1){var Q=B._result;Q=Q(),Q.then(function(he){(B._status===0||B._status===-1)&&(B._status=1,B._result=he)},function(he){(B._status===0||B._status===-1)&&(B._status=2,B._result=he)}),B._status===-1&&(B._status=0,B._result=Q)}if(B._status===1)return B._result.default;throw B._result}var ne=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function le(){}return At.Children={map:H,forEach:function(B,Q,he){H(B,function(){Q.apply(this,arguments)},he)},count:function(B){var Q=0;return H(B,function(){Q++}),Q},toArray:function(B){return H(B,function(Q){return Q})||[]},only:function(B){if(!P(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},At.Component=S,At.Fragment=n,At.Profiler=a,At.PureComponent=R,At.StrictMode=s,At.Suspense=f,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,At.__COMPILER_RUNTIME={__proto__:null,c:function(B){return k.H.useMemoCache(B)}},At.cache=function(B){return function(){return B.apply(null,arguments)}},At.cloneElement=function(B,Q,he){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var $=w({},B.props),re=B.key,_e=void 0;if(Q!=null)for(xe in Q.ref!==void 0&&(_e=void 0),Q.key!==void 0&&(re=""+Q.key),Q)!D.call(Q,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&Q.ref===void 0||($[xe]=Q[xe]);var xe=arguments.length-2;if(xe===1)$.children=he;else if(1<xe){for(var Ee=Array(xe),De=0;De<xe;De++)Ee[De]=arguments[De+2];$.children=Ee}return M(B.type,re,void 0,void 0,_e,$)},At.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:i,_context:B},B},At.createElement=function(B,Q,he){var $,re={},_e=null;if(Q!=null)for($ in Q.key!==void 0&&(_e=""+Q.key),Q)D.call(Q,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(re[$]=Q[$]);var xe=arguments.length-2;if(xe===1)re.children=he;else if(1<xe){for(var Ee=Array(xe),De=0;De<xe;De++)Ee[De]=arguments[De+2];re.children=Ee}if(B&&B.defaultProps)for($ in xe=B.defaultProps,xe)re[$]===void 0&&(re[$]=xe[$]);return M(B,_e,void 0,void 0,null,re)},At.createRef=function(){return{current:null}},At.forwardRef=function(B){return{$$typeof:u,render:B}},At.isValidElement=P,At.lazy=function(B){return{$$typeof:p,_payload:{_status:-1,_result:B},_init:te}},At.memo=function(B,Q){return{$$typeof:h,type:B,compare:Q===void 0?null:Q}},At.startTransition=function(B){var Q=k.T,he={};k.T=he;try{var $=B(),re=k.S;re!==null&&re(he,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(le,ne)}catch(_e){ne(_e)}finally{k.T=Q}},At.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},At.use=function(B){return k.H.use(B)},At.useActionState=function(B,Q,he){return k.H.useActionState(B,Q,he)},At.useCallback=function(B,Q){return k.H.useCallback(B,Q)},At.useContext=function(B){return k.H.useContext(B)},At.useDebugValue=function(){},At.useDeferredValue=function(B,Q){return k.H.useDeferredValue(B,Q)},At.useEffect=function(B,Q,he){var $=k.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(B,Q)},At.useId=function(){return k.H.useId()},At.useImperativeHandle=function(B,Q,he){return k.H.useImperativeHandle(B,Q,he)},At.useInsertionEffect=function(B,Q){return k.H.useInsertionEffect(B,Q)},At.useLayoutEffect=function(B,Q){return k.H.useLayoutEffect(B,Q)},At.useMemo=function(B,Q){return k.H.useMemo(B,Q)},At.useOptimistic=function(B,Q){return k.H.useOptimistic(B,Q)},At.useReducer=function(B,Q,he){return k.H.useReducer(B,Q,he)},At.useRef=function(B){return k.H.useRef(B)},At.useState=function(B){return k.H.useState(B)},At.useSyncExternalStore=function(B,Q,he){return k.H.useSyncExternalStore(B,Q,he)},At.useTransition=function(){return k.H.useTransition()},At.version="19.1.1",At}var T_;function kx(){return T_||(T_=1,Cg.exports=MO()),Cg.exports}var j=kx();const se=Cx(j),KS=AO({__proto__:null,default:se},[j]);var kg={exports:{}},uu={},Og={exports:{}},Ag={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function PO(){return C_||(C_=1,function(e){function t(H,te){var ne=H.length;H.push(te);e:for(;0<ne;){var le=ne-1>>>1,B=H[le];if(0<a(B,te))H[le]=te,H[ne]=B,ne=le;else break e}}function n(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var te=H[0],ne=H.pop();if(ne!==te){H[0]=ne;e:for(var le=0,B=H.length,Q=B>>>1;le<Q;){var he=2*(le+1)-1,$=H[he],re=he+1,_e=H[re];if(0>a($,ne))re<B&&0>a(_e,$)?(H[le]=_e,H[re]=ne,le=re):(H[le]=$,H[he]=ne,le=he);else if(re<B&&0>a(_e,ne))H[le]=_e,H[re]=ne,le=re;else break e}}return te}function a(H,te){var ne=H.sortIndex-te.sortIndex;return ne!==0?ne:H.id-te.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var f=[],h=[],p=1,g=null,b=3,x=!1,w=!1,_=!1,S=!1,N=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate!="undefined"?setImmediate:null;function C(H){for(var te=n(h);te!==null;){if(te.callback===null)s(h);else if(te.startTime<=H)s(h),te.sortIndex=te.expirationTime,t(f,te);else break;te=n(h)}}function k(H){if(_=!1,C(H),!w)if(n(f)!==null)w=!0,D||(D=!0,Y());else{var te=n(h);te!==null&&G(k,te.startTime-H)}}var D=!1,M=-1,E=5,P=-1;function K(){return S?!0:!(e.unstable_now()-P<E)}function W(){if(S=!1,D){var H=e.unstable_now();P=H;var te=!0;try{e:{w=!1,_&&(_=!1,R(M),M=-1),x=!0;var ne=b;try{t:{for(C(H),g=n(f);g!==null&&!(g.expirationTime>H&&K());){var le=g.callback;if(typeof le=="function"){g.callback=null,b=g.priorityLevel;var B=le(g.expirationTime<=H);if(H=e.unstable_now(),typeof B=="function"){g.callback=B,C(H),te=!0;break t}g===n(f)&&s(f),C(H)}else s(f);g=n(f)}if(g!==null)te=!0;else{var Q=n(h);Q!==null&&G(k,Q.startTime-H),te=!1}}break e}finally{g=null,b=ne,x=!1}te=void 0}}finally{te?Y():D=!1}}}var Y;if(typeof A=="function")Y=function(){A(W)};else if(typeof MessageChannel!="undefined"){var q=new MessageChannel,J=q.port2;q.port1.onmessage=W,Y=function(){J.postMessage(null)}}else Y=function(){N(W,0)};function G(H,te){M=N(function(){H(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(H){switch(b){case 1:case 2:case 3:var te=3;break;default:te=b}var ne=b;b=te;try{return H()}finally{b=ne}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(H,te){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ne=b;b=H;try{return te()}finally{b=ne}},e.unstable_scheduleCallback=function(H,te,ne){var le=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?le+ne:le):ne=le,H){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ne+B,H={id:p++,callback:te,priorityLevel:H,startTime:ne,expirationTime:B,sortIndex:-1},ne>le?(H.sortIndex=ne,t(h,H),n(f)===null&&H===n(h)&&(_?(R(M),M=-1):_=!0,G(k,ne-le))):(H.sortIndex=B,t(f,H),w||x||(w=!0,D||(D=!0,Y()))),H},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(H){var te=b;return function(){var ne=b;b=te;try{return H.apply(this,arguments)}finally{b=ne}}}}(Ag)),Ag}var k_;function LO(){return k_||(k_=1,Og.exports=PO()),Og.exports}var Dg={exports:{}},Es={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function zO(){if(O_)return Es;O_=1;var e=kx();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Es.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Es.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return i(f,h,null,p)},Es.flushSync=function(f){var h=l.T,p=s.p;try{if(l.T=null,s.p=2,f)return f()}finally{l.T=h,s.p=p,s.d.f()}},Es.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(f,h))},Es.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},Es.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?s.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:x}):p==="script"&&s.d.X(f,{crossOrigin:g,integrity:b,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Es.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);s.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(f)},Es.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin);s.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Es.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=u(h.as,h.crossOrigin);s.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(f)},Es.requestFormReset=function(f){s.d.r(f)},Es.unstable_batchedUpdates=function(f,h){return f(h)},Es.useFormState=function(f,h,p){return l.H.useFormState(f,h,p)},Es.useFormStatus=function(){return l.H.useHostTransitionStatus()},Es.version="19.1.1",Es}var A_;function QS(){if(A_)return Dg.exports;A_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Dg.exports=zO(),Dg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function UO(){if(D_)return uu;D_=1;var e=LO(),t=kx(),n=QS();function s(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function i(r){var o=r,d=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(d=o.return),r=o.return;while(r)}return o.tag===3?d:null}function l(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function u(r){if(i(r)!==r)throw Error(s(188))}function f(r){var o=r.alternate;if(!o){if(o=i(r),o===null)throw Error(s(188));return o!==r?null:r}for(var d=r,m=o;;){var y=d.return;if(y===null)break;var v=y.alternate;if(v===null){if(m=y.return,m!==null){d=m;continue}break}if(y.child===v.child){for(v=y.child;v;){if(v===d)return u(y),r;if(v===m)return u(y),o;v=v.sibling}throw Error(s(188))}if(d.return!==m.return)d=y,m=v;else{for(var O=!1,U=y.child;U;){if(U===d){O=!0,d=y,m=v;break}if(U===m){O=!0,m=y,d=v;break}U=U.sibling}if(!O){for(U=v.child;U;){if(U===d){O=!0,d=v,m=y;break}if(U===m){O=!0,m=v,d=y;break}U=U.sibling}if(!O)throw Error(s(189))}}if(d.alternate!==m)throw Error(s(190))}if(d.tag!==3)throw Error(s(188));return d.stateNode.current===d?r:o}function h(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=h(r),o!==null)return o;r=r.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),A=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function Y(r){return r===null||typeof r!="object"?null:(r=W&&r[W]||r["@@iterator"],typeof r=="function"?r:null)}var q=Symbol.for("react.client.reference");function J(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===q?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case w:return"Fragment";case S:return"Profiler";case _:return"StrictMode";case k:return"Suspense";case D:return"SuspenseList";case P:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case x:return"Portal";case A:return(r.displayName||"Context")+".Provider";case R:return(r._context.displayName||"Context")+".Consumer";case C:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case M:return o=r.displayName||null,o!==null?o:J(r.type)||"Memo";case E:o=r._payload,r=r._init;try{return J(r(o))}catch(d){}}return null}var G=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},le=[],B=-1;function Q(r){return{current:r}}function he(r){0>B||(r.current=le[B],le[B]=null,B--)}function $(r,o){B++,le[B]=r.current,r.current=o}var re=Q(null),_e=Q(null),xe=Q(null),Ee=Q(null);function De(r,o){switch($(xe,o),$(_e,r),$(re,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?Gw(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=Gw(o),r=Kw(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}he(re),$(re,r)}function Ve(){he(re),he(_e),he(xe)}function Le(r){r.memoizedState!==null&&$(Ee,r);var o=re.current,d=Kw(o,r.type);o!==d&&($(_e,r),$(re,d))}function lt(r){_e.current===r&&(he(re),he(_e)),Ee.current===r&&(he(Ee),ru._currentValue=ne)}var Ke=Object.prototype.hasOwnProperty,pt=e.unstable_scheduleCallback,Pe=e.unstable_cancelCallback,ht=e.unstable_shouldYield,$t=e.unstable_requestPaint,vt=e.unstable_now,Mt=e.unstable_getCurrentPriorityLevel,St=e.unstable_ImmediatePriority,X=e.unstable_UserBlockingPriority,de=e.unstable_NormalPriority,I=e.unstable_LowPriority,Se=e.unstable_IdlePriority,Me=e.log,Re=e.unstable_setDisableYieldValue,Fe=null,qe=null;function Qe(r){if(typeof Me=="function"&&Re(r),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Fe,r)}catch(o){}}var yt=Math.clz32?Math.clz32:Ce,vn=Math.log,ct=Math.LN2;function Ce(r){return r>>>=0,r===0?32:31-(vn(r)/ct|0)|0}var $e=256,Pt=4194304;function En(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function is(r,o,d){var m=r.pendingLanes;if(m===0)return 0;var y=0,v=r.suspendedLanes,O=r.pingedLanes;r=r.warmLanes;var U=m&134217727;return U!==0?(m=U&~v,m!==0?y=En(m):(O&=U,O!==0?y=En(O):d||(d=U&~r,d!==0&&(y=En(d))))):(U=m&~v,U!==0?y=En(U):O!==0?y=En(O):d||(d=m&~r,d!==0&&(y=En(d)))),y===0?0:o!==0&&o!==y&&(o&v)===0&&(v=y&-y,d=o&-o,v>=d||v===32&&(d&4194048)!==0)?o:y}function Vn(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function fs(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xe(){var r=$e;return $e<<=1,($e&4194048)===0&&($e=256),r}function Lt(){var r=Pt;return Pt<<=1,(Pt&62914560)===0&&(Pt=4194304),r}function Ht(r){for(var o=[],d=0;31>d;d++)o.push(r);return o}function Nt(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function nn(r,o,d,m,y,v){var O=r.pendingLanes;r.pendingLanes=d,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=d,r.entangledLanes&=d,r.errorRecoveryDisabledLanes&=d,r.shellSuspendCounter=0;var U=r.entanglements,Z=r.expirationTimes,ge=r.hiddenUpdates;for(d=O&~d;0<d;){var Ne=31-yt(d),Oe=1<<Ne;U[Ne]=0,Z[Ne]=-1;var ve=ge[Ne];if(ve!==null)for(ge[Ne]=null,Ne=0;Ne<ve.length;Ne++){var we=ve[Ne];we!==null&&(we.lane&=-536870913)}d&=~Oe}m!==0&&Ge(r,m,0),v!==0&&y===0&&r.tag!==0&&(r.suspendedLanes|=v&~(O&~o))}function Ge(r,o,d){r.pendingLanes|=o,r.suspendedLanes&=~o;var m=31-yt(o);r.entangledLanes|=o,r.entanglements[m]=r.entanglements[m]|1073741824|d&4194090}function jt(r,o){var d=r.entangledLanes|=o;for(r=r.entanglements;d;){var m=31-yt(d),y=1<<m;y&o|r[m]&o&&(r[m]|=o),d&=~y}}function Yt(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Kt(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function ee(){var r=te.p;return r!==0?r:(r=window.event,r===void 0?32:p_(r.type))}function ie(r,o){var d=te.p;try{return te.p=r,o()}finally{te.p=d}}var me=Math.random().toString(36).slice(2),je="__reactFiber$"+me,Ae="__reactProps$"+me,He="__reactContainer$"+me,Ze="__reactEvents$"+me,nt="__reactListeners$"+me,ut="__reactHandles$"+me,Ot="__reactResources$"+me,rt="__reactMarker$"+me;function wt(r){delete r[je],delete r[Ae],delete r[Ze],delete r[nt],delete r[ut]}function Ct(r){var o=r[je];if(o)return o;for(var d=r.parentNode;d;){if(o=d[He]||d[je]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(r=e_(r);r!==null;){if(d=r[je])return d;r=e_(r)}return o}r=d,d=r.parentNode}return null}function hn(r){if(r=r[je]||r[He]){var o=r.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return r}return null}function Dn(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(s(33))}function ln(r){var o=r[Ot];return o||(o=r[Ot]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function at(r){r[rt]=!0}var Et=new Set,Qt={};function jn(r,o){Rn(r,o),Rn(r+"Capture",o)}function Rn(r,o){for(Qt[r]=o,r=0;r<o.length;r++)Et.add(o[r])}var Zn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),os={},lr={};function cr(r){return Ke.call(lr,r)?!0:Ke.call(os,r)?!1:Zn.test(r)?lr[r]=!0:(os[r]=!0,!1)}function js(r,o,d){if(cr(o))if(d===null)r.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+d)}}function ur(r,o,d){if(d===null)r.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+d)}}function Rt(r,o,d,m){if(m===null)r.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(d);return}r.setAttributeNS(o,d,""+m)}}var Mn,xa;function hs(r){if(Mn===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);Mn=o&&o[1]||"",xa=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mn+r+xa}var xn=!1;function Cr(r,o){if(!r||xn)return"";xn=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var Oe=function(){throw Error()};if(Object.defineProperty(Oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Oe,[])}catch(we){var ve=we}Reflect.construct(r,[],Oe)}else{try{Oe.call()}catch(we){ve=we}r.call(Oe.prototype)}}else{try{throw Error()}catch(we){ve=we}(Oe=r())&&typeof Oe.catch=="function"&&Oe.catch(function(){})}}catch(we){if(we&&ve&&typeof we.stack=="string")return[we.stack,ve.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=m.DetermineComponentFrameRoot(),O=v[0],U=v[1];if(O&&U){var Z=O.split(`
`),ge=U.split(`
`);for(y=m=0;m<Z.length&&!Z[m].includes("DetermineComponentFrameRoot");)m++;for(;y<ge.length&&!ge[y].includes("DetermineComponentFrameRoot");)y++;if(m===Z.length||y===ge.length)for(m=Z.length-1,y=ge.length-1;1<=m&&0<=y&&Z[m]!==ge[y];)y--;for(;1<=m&&0<=y;m--,y--)if(Z[m]!==ge[y]){if(m!==1||y!==1)do if(m--,y--,0>y||Z[m]!==ge[y]){var Ne=`
`+Z[m].replace(" at new "," at ");return r.displayName&&Ne.includes("<anonymous>")&&(Ne=Ne.replace("<anonymous>",r.displayName)),Ne}while(1<=m&&0<=y);break}}}finally{xn=!1,Error.prepareStackTrace=d}return(d=r?r.displayName||r.name:"")?hs(d):""}function qo(r){switch(r.tag){case 26:case 27:case 5:return hs(r.type);case 16:return hs("Lazy");case 13:return hs("Suspense");case 19:return hs("SuspenseList");case 0:case 15:return Cr(r.type,!1);case 11:return Cr(r.type.render,!1);case 1:return Cr(r.type,!0);case 31:return hs("Activity");default:return""}}function Wo(r){try{var o="";do o+=qo(r),r=r.return;while(r);return o}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function Rs(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function gd(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function xd(r){var o=gd(r)?"checked":"value",d=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),m=""+r[o];if(!r.hasOwnProperty(o)&&typeof d!="undefined"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,v=d.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return y.call(this)},set:function(O){m=""+O,v.call(this,O)}}),Object.defineProperty(r,o,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(O){m=""+O},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Ii(r){r._valueTracker||(r._valueTracker=xd(r))}function Yr(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var d=o.getValue(),m="";return r&&(m=gd(r)?r.checked?"true":"false":r.value),r=m,r!==d?(o.setValue(r),!0):!1}function qi(r){if(r=r||(typeof document!="undefined"?document:void 0),typeof r=="undefined")return null;try{return r.activeElement||r.body}catch(o){return r.body}}var Am=/[\n"\\]/g;function Ms(r){return r.replace(Am,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function mc(r,o,d,m,y,v,O,U){r.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?r.type=O:r.removeAttribute("type"),o!=null?O==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+Rs(o)):r.value!==""+Rs(o)&&(r.value=""+Rs(o)):O!=="submit"&&O!=="reset"||r.removeAttribute("value"),o!=null?pc(r,O,Rs(o)):d!=null?pc(r,O,Rs(d)):m!=null&&r.removeAttribute("value"),y==null&&v!=null&&(r.defaultChecked=!!v),y!=null&&(r.checked=y&&typeof y!="function"&&typeof y!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?r.name=""+Rs(U):r.removeAttribute("name")}function yd(r,o,d,m,y,v,O,U){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),o!=null||d!=null){if(!(v!=="submit"&&v!=="reset"||o!=null))return;d=d!=null?""+Rs(d):"",o=o!=null?""+Rs(o):d,U||o===r.value||(r.value=o),r.defaultValue=o}m=m!=null?m:y,m=typeof m!="function"&&typeof m!="symbol"&&!!m,r.checked=U?r.checked:!!m,r.defaultChecked=!!m,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(r.name=O)}function pc(r,o,d){o==="number"&&qi(r.ownerDocument)===r||r.defaultValue===""+d||(r.defaultValue=""+d)}function ya(r,o,d,m){if(r=r.options,o){o={};for(var y=0;y<d.length;y++)o["$"+d[y]]=!0;for(d=0;d<r.length;d++)y=o.hasOwnProperty("$"+r[d].value),r[d].selected!==y&&(r[d].selected=y),y&&m&&(r[d].defaultSelected=!0)}else{for(d=""+Rs(d),o=null,y=0;y<r.length;y++){if(r[y].value===d){r[y].selected=!0,m&&(r[y].defaultSelected=!0);return}o!==null||r[y].disabled||(o=r[y])}o!==null&&(o.selected=!0)}}function Wi(r,o,d){if(o!=null&&(o=""+Rs(o),o!==r.value&&(r.value=o),d==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=d!=null?""+Rs(d):""}function gc(r,o,d,m){if(o==null){if(m!=null){if(d!=null)throw Error(s(92));if(G(m)){if(1<m.length)throw Error(s(93));m=m[0]}d=m}d==null&&(d=""),o=d}d=Rs(o),r.defaultValue=d,m=r.textContent,m===d&&m!==""&&m!==null&&(r.value=m)}function Ga(r,o){if(o){var d=r.firstChild;if(d&&d===r.lastChild&&d.nodeType===3){d.nodeValue=o;return}}r.textContent=o}var bd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vd(r,o,d){var m=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":m?r.setProperty(o,d):typeof d!="number"||d===0||bd.has(o)?o==="float"?r.cssFloat=d:r[o]=(""+d).trim():r[o]=d+"px"}function xc(r,o,d){if(o!=null&&typeof o!="object")throw Error(s(62));if(r=r.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?r.setProperty(m,""):m==="float"?r.cssFloat="":r[m]="");for(var y in o)m=o[y],o.hasOwnProperty(y)&&d[y]!==m&&vd(r,y,m)}else for(var v in o)o.hasOwnProperty(v)&&vd(r,v,o[v])}function Yi(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xo(r){return Dm.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var yc=null;function Xi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ba=null,Ka=null;function bc(r){var o=hn(r);if(o&&(r=o.stateNode)){var d=r[Ae]||null;e:switch(r=o.stateNode,o.type){case"input":if(mc(r,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=r;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Ms(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var m=d[o];if(m!==r&&m.form===r.form){var y=m[Ae]||null;if(!y)throw Error(s(90));mc(m,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<d.length;o++)m=d[o],m.form===r.form&&Yr(m)}break e;case"textarea":Wi(r,d.value,d.defaultValue);break e;case"select":o=d.value,o!=null&&ya(r,!!d.multiple,o,!1)}}}var Gi=!1;function vc(r,o,d){if(Gi)return r(o,d);Gi=!0;try{var m=r(o);return m}finally{if(Gi=!1,(ba!==null||Ka!==null)&&(nf(),ba&&(o=ba,r=Ka,Ka=ba=null,bc(o),r)))for(o=0;o<r.length;o++)bc(r[o])}}function Qa(r,o){var d=r.stateNode;if(d===null)return null;var m=d[Ae]||null;if(m===null)return null;d=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(r=r.type,m=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!m;break e;default:r=!1}if(r)return null;if(d&&typeof d!="function")throw Error(s(231,o,typeof d));return d}var Ps=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Go=!1;if(Ps)try{var Ki={};Object.defineProperty(Ki,"passive",{get:function(){Go=!0}}),window.addEventListener("test",Ki,Ki),window.removeEventListener("test",Ki,Ki)}catch(r){Go=!1}var Ys=null,Ls=null,va=null;function Qi(){if(va)return va;var r,o=Ls,d=o.length,m,y="value"in Ys?Ys.value:Ys.textContent,v=y.length;for(r=0;r<d&&o[r]===y[r];r++);var O=d-r;for(m=1;m<=O&&o[d-m]===y[v-m];m++);return va=y.slice(r,1<m?1-m:void 0)}function Za(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function Ko(){return!0}function wd(){return!1}function Ss(r){function o(d,m,y,v,O){this._reactName=d,this._targetInst=y,this.type=m,this.nativeEvent=v,this.target=O,this.currentTarget=null;for(var U in r)r.hasOwnProperty(U)&&(d=r[U],this[U]=d?d(v):v[U]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ko:wd,this.isPropagationStopped=wd,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Ko)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Ko)},persist:function(){},isPersistent:Ko}),o}var kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qo=Ss(kr),Ja=p({},kr,{view:0,detail:0}),Pn=Ss(Ja),T,L,F,V=p({},Ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==F&&(F&&r.type==="mousemove"?(T=r.screenX-F.screenX,L=r.screenY-F.screenY):L=T=0,F=r),T)},movementY:function(r){return"movementY"in r?r.movementY:L}}),ce=Ss(V),fe=p({},V,{dataTransfer:0}),be=Ss(fe),Ue=p({},Ja,{relatedTarget:0}),ot=Ss(Ue),Be=p({},kr,{animationName:0,elapsedTime:0,pseudoElement:0}),We=Ss(Be),gt=p({},kr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),cn=Ss(gt),Tt=p({},kr,{data:0}),dt=Ss(Tt),st={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ls={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=In[r])?!!o[r]:!1}function dr(){return Tn}var Zi=p({},Ja,{key:function(r){if(r.key){var o=st[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Za(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ls[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dr,charCode:function(r){return r.type==="keypress"?Za(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Za(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Xr=Ss(Zi),ei=p({},V,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zo=Ss(ei),Jo=p({},Ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dr}),_d=Ss(Jo),IC=p({},kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),qC=Ss(IC),WC=p({},V,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),YC=Ss(WC),XC=p({},kr,{newState:0,oldState:0}),GC=Ss(XC),KC=[9,13,27,32],Rm=Ps&&"CompositionEvent"in window,wc=null;Ps&&"documentMode"in document&&(wc=document.documentMode);var QC=Ps&&"TextEvent"in window&&!wc,rb=Ps&&(!Rm||wc&&8<wc&&11>=wc),ab=" ",ib=!1;function ob(r,o){switch(r){case"keyup":return KC.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lb(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var el=!1;function ZC(r,o){switch(r){case"compositionend":return lb(o);case"keypress":return o.which!==32?null:(ib=!0,ab);case"textInput":return r=o.data,r===ab&&ib?null:r;default:return null}}function JC(r,o){if(el)return r==="compositionend"||!Rm&&ob(r,o)?(r=Qi(),va=Ls=Ys=null,el=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return rb&&o.locale!=="ko"?null:o.data;default:return null}}var ek={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cb(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!ek[r.type]:o==="textarea"}function ub(r,o,d,m){ba?Ka?Ka.push(m):Ka=[m]:ba=m,o=cf(o,"onChange"),0<o.length&&(d=new Qo("onChange","change",null,d,m),r.push({event:d,listeners:o}))}var _c=null,jc=null;function tk(r){Iw(r,0)}function jd(r){var o=Dn(r);if(Yr(o))return r}function db(r,o){if(r==="change")return o}var fb=!1;if(Ps){var Mm;if(Ps){var Pm="oninput"in document;if(!Pm){var hb=document.createElement("div");hb.setAttribute("oninput","return;"),Pm=typeof hb.oninput=="function"}Mm=Pm}else Mm=!1;fb=Mm&&(!document.documentMode||9<document.documentMode)}function mb(){_c&&(_c.detachEvent("onpropertychange",pb),jc=_c=null)}function pb(r){if(r.propertyName==="value"&&jd(jc)){var o=[];ub(o,jc,r,Xi(r)),vc(tk,o)}}function nk(r,o,d){r==="focusin"?(mb(),_c=o,jc=d,_c.attachEvent("onpropertychange",pb)):r==="focusout"&&mb()}function sk(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return jd(jc)}function rk(r,o){if(r==="click")return jd(o)}function ak(r,o){if(r==="input"||r==="change")return jd(o)}function ik(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Xs=typeof Object.is=="function"?Object.is:ik;function Sc(r,o){if(Xs(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var d=Object.keys(r),m=Object.keys(o);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var y=d[m];if(!Ke.call(o,y)||!Xs(r[y],o[y]))return!1}return!0}function gb(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function xb(r,o){var d=gb(r);r=0;for(var m;d;){if(d.nodeType===3){if(m=r+d.textContent.length,r<=o&&m>=o)return{node:d,offset:o-r};r=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=gb(d)}}function yb(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?yb(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function bb(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=qi(r.document);o instanceof r.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch(m){d=!1}if(d)r=o.contentWindow;else break;o=qi(r.document)}return o}function Lm(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var ok=Ps&&"documentMode"in document&&11>=document.documentMode,tl=null,zm=null,Nc=null,Um=!1;function vb(r,o,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Um||tl==null||tl!==qi(m)||(m=tl,"selectionStart"in m&&Lm(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Nc&&Sc(Nc,m)||(Nc=m,m=cf(zm,"onSelect"),0<m.length&&(o=new Qo("onSelect","select",null,o,d),r.push({event:o,listeners:m}),o.target=tl)))}function Ji(r,o){var d={};return d[r.toLowerCase()]=o.toLowerCase(),d["Webkit"+r]="webkit"+o,d["Moz"+r]="moz"+o,d}var nl={animationend:Ji("Animation","AnimationEnd"),animationiteration:Ji("Animation","AnimationIteration"),animationstart:Ji("Animation","AnimationStart"),transitionrun:Ji("Transition","TransitionRun"),transitionstart:Ji("Transition","TransitionStart"),transitioncancel:Ji("Transition","TransitionCancel"),transitionend:Ji("Transition","TransitionEnd")},Bm={},wb={};Ps&&(wb=document.createElement("div").style,"AnimationEvent"in window||(delete nl.animationend.animation,delete nl.animationiteration.animation,delete nl.animationstart.animation),"TransitionEvent"in window||delete nl.transitionend.transition);function eo(r){if(Bm[r])return Bm[r];if(!nl[r])return r;var o=nl[r],d;for(d in o)if(o.hasOwnProperty(d)&&d in wb)return Bm[r]=o[d];return r}var _b=eo("animationend"),jb=eo("animationiteration"),Sb=eo("animationstart"),lk=eo("transitionrun"),ck=eo("transitionstart"),uk=eo("transitioncancel"),Nb=eo("transitionend"),Eb=new Map,Fm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fm.push("scrollEnd");function Or(r,o){Eb.set(r,o),jn(o,[r])}var Tb=new WeakMap;function fr(r,o){if(typeof r=="object"&&r!==null){var d=Tb.get(r);return d!==void 0?d:(o={value:r,source:o,stack:Wo(o)},Tb.set(r,o),o)}return{value:r,source:o,stack:Wo(o)}}var hr=[],sl=0,$m=0;function Sd(){for(var r=sl,o=$m=sl=0;o<r;){var d=hr[o];hr[o++]=null;var m=hr[o];hr[o++]=null;var y=hr[o];hr[o++]=null;var v=hr[o];if(hr[o++]=null,m!==null&&y!==null){var O=m.pending;O===null?y.next=y:(y.next=O.next,O.next=y),m.pending=y}v!==0&&Cb(d,y,v)}}function Nd(r,o,d,m){hr[sl++]=r,hr[sl++]=o,hr[sl++]=d,hr[sl++]=m,$m|=m,r.lanes|=m,r=r.alternate,r!==null&&(r.lanes|=m)}function Hm(r,o,d,m){return Nd(r,o,d,m),Ed(r)}function rl(r,o){return Nd(r,null,null,o),Ed(r)}function Cb(r,o,d){r.lanes|=d;var m=r.alternate;m!==null&&(m.lanes|=d);for(var y=!1,v=r.return;v!==null;)v.childLanes|=d,m=v.alternate,m!==null&&(m.childLanes|=d),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(y=!0)),r=v,v=v.return;return r.tag===3?(v=r.stateNode,y&&o!==null&&(y=31-yt(d),r=v.hiddenUpdates,m=r[y],m===null?r[y]=[o]:m.push(o),o.lane=d|536870912),v):null}function Ed(r){if(50<Kc)throw Kc=0,Xp=null,Error(s(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var al={};function dk(r,o,d,m){this.tag=r,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gs(r,o,d,m){return new dk(r,o,d,m)}function Vm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function wa(r,o){var d=r.alternate;return d===null?(d=Gs(r.tag,o,r.key,r.mode),d.elementType=r.elementType,d.type=r.type,d.stateNode=r.stateNode,d.alternate=r,r.alternate=d):(d.pendingProps=o,d.type=r.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=r.flags&65011712,d.childLanes=r.childLanes,d.lanes=r.lanes,d.child=r.child,d.memoizedProps=r.memoizedProps,d.memoizedState=r.memoizedState,d.updateQueue=r.updateQueue,o=r.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=r.sibling,d.index=r.index,d.ref=r.ref,d.refCleanup=r.refCleanup,d}function kb(r,o){r.flags&=65011714;var d=r.alternate;return d===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=d.childLanes,r.lanes=d.lanes,r.child=d.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=d.memoizedProps,r.memoizedState=d.memoizedState,r.updateQueue=d.updateQueue,r.type=d.type,o=d.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function Td(r,o,d,m,y,v){var O=0;if(m=r,typeof r=="function")Vm(r)&&(O=1);else if(typeof r=="string")O=hO(r,d,re.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case P:return r=Gs(31,d,o,y),r.elementType=P,r.lanes=v,r;case w:return to(d.children,y,v,o);case _:O=8,y|=24;break;case S:return r=Gs(12,d,o,y|2),r.elementType=S,r.lanes=v,r;case k:return r=Gs(13,d,o,y),r.elementType=k,r.lanes=v,r;case D:return r=Gs(19,d,o,y),r.elementType=D,r.lanes=v,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case N:case A:O=10;break e;case R:O=9;break e;case C:O=11;break e;case M:O=14;break e;case E:O=16,m=null;break e}O=29,d=Error(s(130,r===null?"null":typeof r,"")),m=null}return o=Gs(O,d,o,y),o.elementType=r,o.type=m,o.lanes=v,o}function to(r,o,d,m){return r=Gs(7,r,m,o),r.lanes=d,r}function Im(r,o,d){return r=Gs(6,r,null,o),r.lanes=d,r}function qm(r,o,d){return o=Gs(4,r.children!==null?r.children:[],r.key,o),o.lanes=d,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var il=[],ol=0,Cd=null,kd=0,mr=[],pr=0,no=null,_a=1,ja="";function so(r,o){il[ol++]=kd,il[ol++]=Cd,Cd=r,kd=o}function Ob(r,o,d){mr[pr++]=_a,mr[pr++]=ja,mr[pr++]=no,no=r;var m=_a;r=ja;var y=32-yt(m)-1;m&=~(1<<y),d+=1;var v=32-yt(o)+y;if(30<v){var O=y-y%5;v=(m&(1<<O)-1).toString(32),m>>=O,y-=O,_a=1<<32-yt(o)+y|d<<y|m,ja=v+r}else _a=1<<v|d<<y|m,ja=r}function Wm(r){r.return!==null&&(so(r,1),Ob(r,1,0))}function Ym(r){for(;r===Cd;)Cd=il[--ol],il[ol]=null,kd=il[--ol],il[ol]=null;for(;r===no;)no=mr[--pr],mr[pr]=null,ja=mr[--pr],mr[pr]=null,_a=mr[--pr],mr[pr]=null}var As=null,Ln=null,sn=!1,ro=null,Gr=!1,Xm=Error(s(519));function ao(r){var o=Error(s(418,""));throw Cc(fr(o,r)),Xm}function Ab(r){var o=r.stateNode,d=r.type,m=r.memoizedProps;switch(o[je]=r,o[Ae]=m,d){case"dialog":It("cancel",o),It("close",o);break;case"iframe":case"object":case"embed":It("load",o);break;case"video":case"audio":for(d=0;d<Zc.length;d++)It(Zc[d],o);break;case"source":It("error",o);break;case"img":case"image":case"link":It("error",o),It("load",o);break;case"details":It("toggle",o);break;case"input":It("invalid",o),yd(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),Ii(o);break;case"select":It("invalid",o);break;case"textarea":It("invalid",o),gc(o,m.value,m.defaultValue,m.children),Ii(o)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||m.suppressHydrationWarning===!0||Xw(o.textContent,d)?(m.popover!=null&&(It("beforetoggle",o),It("toggle",o)),m.onScroll!=null&&It("scroll",o),m.onScrollEnd!=null&&It("scrollend",o),m.onClick!=null&&(o.onclick=uf),o=!0):o=!1,o||ao(r)}function Db(r){for(As=r.return;As;)switch(As.tag){case 5:case 13:Gr=!1;return;case 27:case 3:Gr=!0;return;default:As=As.return}}function Ec(r){if(r!==As)return!1;if(!sn)return Db(r),sn=!0,!1;var o=r.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=r.type,d=!(d!=="form"&&d!=="button")||ug(r.type,r.memoizedProps)),d=!d),d&&Ln&&ao(r),Db(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8)if(d=r.data,d==="/$"){if(o===0){Ln=Dr(r.nextSibling);break e}o--}else d!=="$"&&d!=="$!"&&d!=="$?"||o++;r=r.nextSibling}Ln=null}}else o===27?(o=Ln,gi(r.type)?(r=mg,mg=null,Ln=r):Ln=o):Ln=As?Dr(r.stateNode.nextSibling):null;return!0}function Tc(){Ln=As=null,sn=!1}function Rb(){var r=ro;return r!==null&&(Bs===null?Bs=r:Bs.push.apply(Bs,r),ro=null),r}function Cc(r){ro===null?ro=[r]:ro.push(r)}var Gm=Q(null),io=null,Sa=null;function ti(r,o,d){$(Gm,o._currentValue),o._currentValue=d}function Na(r){r._currentValue=Gm.current,he(Gm)}function Km(r,o,d){for(;r!==null;){var m=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),r===d)break;r=r.return}}function Qm(r,o,d,m){var y=r.child;for(y!==null&&(y.return=r);y!==null;){var v=y.dependencies;if(v!==null){var O=y.child;v=v.firstContext;e:for(;v!==null;){var U=v;v=y;for(var Z=0;Z<o.length;Z++)if(U.context===o[Z]){v.lanes|=d,U=v.alternate,U!==null&&(U.lanes|=d),Km(v.return,d,r),m||(O=null);break e}v=U.next}}else if(y.tag===18){if(O=y.return,O===null)throw Error(s(341));O.lanes|=d,v=O.alternate,v!==null&&(v.lanes|=d),Km(O,d,r),O=null}else O=y.child;if(O!==null)O.return=y;else for(O=y;O!==null;){if(O===r){O=null;break}if(y=O.sibling,y!==null){y.return=O.return,O=y;break}O=O.return}y=O}}function kc(r,o,d,m){r=null;for(var y=o,v=!1;y!==null;){if(!v){if((y.flags&524288)!==0)v=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var O=y.alternate;if(O===null)throw Error(s(387));if(O=O.memoizedProps,O!==null){var U=y.type;Xs(y.pendingProps.value,O.value)||(r!==null?r.push(U):r=[U])}}else if(y===Ee.current){if(O=y.alternate,O===null)throw Error(s(387));O.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(r!==null?r.push(ru):r=[ru])}y=y.return}r!==null&&Qm(o,r,d,m),o.flags|=262144}function Od(r){for(r=r.firstContext;r!==null;){if(!Xs(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function oo(r){io=r,Sa=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Ns(r){return Mb(io,r)}function Ad(r,o){return io===null&&oo(r),Mb(r,o)}function Mb(r,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},Sa===null){if(r===null)throw Error(s(308));Sa=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else Sa=Sa.next=o;return d}var fk=typeof AbortController!="undefined"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(d,m){r.push(m)}};this.abort=function(){o.aborted=!0,r.forEach(function(d){return d()})}},hk=e.unstable_scheduleCallback,mk=e.unstable_NormalPriority,Jn={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zm(){return{controller:new fk,data:new Map,refCount:0}}function Oc(r){r.refCount--,r.refCount===0&&hk(mk,function(){r.controller.abort()})}var Ac=null,Jm=0,ll=0,cl=null;function pk(r,o){if(Ac===null){var d=Ac=[];Jm=0,ll=tg(),cl={status:"pending",value:void 0,then:function(m){d.push(m)}}}return Jm++,o.then(Pb,Pb),o}function Pb(){if(--Jm===0&&Ac!==null){cl!==null&&(cl.status="fulfilled");var r=Ac;Ac=null,ll=0,cl=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function gk(r,o){var d=[],m={status:"pending",value:null,reason:null,then:function(y){d.push(y)}};return r.then(function(){m.status="fulfilled",m.value=o;for(var y=0;y<d.length;y++)(0,d[y])(o)},function(y){for(m.status="rejected",m.reason=y,y=0;y<d.length;y++)(0,d[y])(void 0)}),m}var Lb=H.S;H.S=function(r,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&pk(r,o),Lb!==null&&Lb(r,o)};var lo=Q(null);function ep(){var r=lo.current;return r!==null?r:yn.pooledCache}function Dd(r,o){o===null?$(lo,lo.current):$(lo,o.pool)}function zb(){var r=ep();return r===null?null:{parent:Jn._currentValue,pool:r}}var Dc=Error(s(460)),Ub=Error(s(474)),Rd=Error(s(542)),tp={then:function(){}};function Bb(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Md(){}function Fb(r,o,d){switch(d=r[d],d===void 0?r.push(o):d!==o&&(o.then(Md,Md),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,Hb(r),r;default:if(typeof o.status=="string")o.then(Md,Md);else{if(r=yn,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=o,r.status="pending",r.then(function(m){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=m}},function(m){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,Hb(r),r}throw Rc=o,Dc}}var Rc=null;function $b(){if(Rc===null)throw Error(s(459));var r=Rc;return Rc=null,r}function Hb(r){if(r===Dc||r===Rd)throw Error(s(483))}var ni=!1;function np(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sp(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function si(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ri(r,o,d){var m=r.updateQueue;if(m===null)return null;if(m=m.shared,(rn&2)!==0){var y=m.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),m.pending=o,o=Ed(r),Cb(r,null,d),o}return Nd(r,m,o,d),Ed(r)}function Mc(r,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var m=o.lanes;m&=r.pendingLanes,d|=m,o.lanes=d,jt(r,d)}}function rp(r,o){var d=r.updateQueue,m=r.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var y=null,v=null;if(d=d.firstBaseUpdate,d!==null){do{var O={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};v===null?y=v=O:v=v.next=O,d=d.next}while(d!==null);v===null?y=v=o:v=v.next=o}else y=v=o;d={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:v,shared:m.shared,callbacks:m.callbacks},r.updateQueue=d;return}r=d.lastBaseUpdate,r===null?d.firstBaseUpdate=o:r.next=o,d.lastBaseUpdate=o}var ap=!1;function Pc(){if(ap){var r=cl;if(r!==null)throw r}}function Lc(r,o,d,m){ap=!1;var y=r.updateQueue;ni=!1;var v=y.firstBaseUpdate,O=y.lastBaseUpdate,U=y.shared.pending;if(U!==null){y.shared.pending=null;var Z=U,ge=Z.next;Z.next=null,O===null?v=ge:O.next=ge,O=Z;var Ne=r.alternate;Ne!==null&&(Ne=Ne.updateQueue,U=Ne.lastBaseUpdate,U!==O&&(U===null?Ne.firstBaseUpdate=ge:U.next=ge,Ne.lastBaseUpdate=Z))}if(v!==null){var Oe=y.baseState;O=0,Ne=ge=Z=null,U=v;do{var ve=U.lane&-536870913,we=ve!==U.lane;if(we?(Gt&ve)===ve:(m&ve)===ve){ve!==0&&ve===ll&&(ap=!0),Ne!==null&&(Ne=Ne.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var bt=r,mt=U;ve=o;var fn=d;switch(mt.tag){case 1:if(bt=mt.payload,typeof bt=="function"){Oe=bt.call(fn,Oe,ve);break e}Oe=bt;break e;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=mt.payload,ve=typeof bt=="function"?bt.call(fn,Oe,ve):bt,ve==null)break e;Oe=p({},Oe,ve);break e;case 2:ni=!0}}ve=U.callback,ve!==null&&(r.flags|=64,we&&(r.flags|=8192),we=y.callbacks,we===null?y.callbacks=[ve]:we.push(ve))}else we={lane:ve,tag:U.tag,payload:U.payload,callback:U.callback,next:null},Ne===null?(ge=Ne=we,Z=Oe):Ne=Ne.next=we,O|=ve;if(U=U.next,U===null){if(U=y.shared.pending,U===null)break;we=U,U=we.next,we.next=null,y.lastBaseUpdate=we,y.shared.pending=null}}while(!0);Ne===null&&(Z=Oe),y.baseState=Z,y.firstBaseUpdate=ge,y.lastBaseUpdate=Ne,v===null&&(y.shared.lanes=0),fi|=O,r.lanes=O,r.memoizedState=Oe}}function Vb(r,o){if(typeof r!="function")throw Error(s(191,r));r.call(o)}function Ib(r,o){var d=r.callbacks;if(d!==null)for(r.callbacks=null,r=0;r<d.length;r++)Vb(d[r],o)}var ul=Q(null),Pd=Q(0);function qb(r,o){r=Da,$(Pd,r),$(ul,o),Da=r|o.baseLanes}function ip(){$(Pd,Da),$(ul,ul.current)}function op(){Da=Pd.current,he(ul),he(Pd)}var ai=0,zt=null,un=null,qn=null,Ld=!1,dl=!1,co=!1,zd=0,zc=0,fl=null,xk=0;function Un(){throw Error(s(321))}function lp(r,o){if(o===null)return!1;for(var d=0;d<o.length&&d<r.length;d++)if(!Xs(r[d],o[d]))return!1;return!0}function cp(r,o,d,m,y,v){return ai=v,zt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,H.H=r===null||r.memoizedState===null?Cv:kv,co=!1,v=d(m,y),co=!1,dl&&(v=Yb(o,d,m,y)),Wb(r),v}function Wb(r){H.H=Vd;var o=un!==null&&un.next!==null;if(ai=0,qn=un=zt=null,Ld=!1,zc=0,fl=null,o)throw Error(s(300));r===null||cs||(r=r.dependencies,r!==null&&Od(r)&&(cs=!0))}function Yb(r,o,d,m){zt=r;var y=0;do{if(dl&&(fl=null),zc=0,dl=!1,25<=y)throw Error(s(301));if(y+=1,qn=un=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}H.H=Sk,v=o(d,m)}while(dl);return v}function yk(){var r=H.H,o=r.useState()[0];return o=typeof o.then=="function"?Uc(o):o,r=r.useState()[0],(un!==null?un.memoizedState:null)!==r&&(zt.flags|=1024),o}function up(){var r=zd!==0;return zd=0,r}function dp(r,o,d){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~d}function fp(r){if(Ld){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Ld=!1}ai=0,qn=un=zt=null,dl=!1,zc=zd=0,fl=null}function zs(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qn===null?zt.memoizedState=qn=r:qn=qn.next=r,qn}function Wn(){if(un===null){var r=zt.alternate;r=r!==null?r.memoizedState:null}else r=un.next;var o=qn===null?zt.memoizedState:qn.next;if(o!==null)qn=o,un=r;else{if(r===null)throw zt.alternate===null?Error(s(467)):Error(s(310));un=r,r={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},qn===null?zt.memoizedState=qn=r:qn=qn.next=r}return qn}function hp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Uc(r){var o=zc;return zc+=1,fl===null&&(fl=[]),r=Fb(fl,r,o),o=zt,(qn===null?o.memoizedState:qn.next)===null&&(o=o.alternate,H.H=o===null||o.memoizedState===null?Cv:kv),r}function Ud(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Uc(r);if(r.$$typeof===A)return Ns(r)}throw Error(s(438,String(r)))}function mp(r){var o=null,d=zt.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var m=zt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=hp(),zt.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(r),m=0;m<r;m++)d[m]=K;return o.index++,d}function Ea(r,o){return typeof o=="function"?o(r):o}function Bd(r){var o=Wn();return pp(o,un,r)}function pp(r,o,d){var m=r.queue;if(m===null)throw Error(s(311));m.lastRenderedReducer=d;var y=r.baseQueue,v=m.pending;if(v!==null){if(y!==null){var O=y.next;y.next=v.next,v.next=O}o.baseQueue=y=v,m.pending=null}if(v=r.baseState,y===null)r.memoizedState=v;else{o=y.next;var U=O=null,Z=null,ge=o,Ne=!1;do{var Oe=ge.lane&-536870913;if(Oe!==ge.lane?(Gt&Oe)===Oe:(ai&Oe)===Oe){var ve=ge.revertLane;if(ve===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null}),Oe===ll&&(Ne=!0);else if((ai&ve)===ve){ge=ge.next,ve===ll&&(Ne=!0);continue}else Oe={lane:0,revertLane:ge.revertLane,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null},Z===null?(U=Z=Oe,O=v):Z=Z.next=Oe,zt.lanes|=ve,fi|=ve;Oe=ge.action,co&&d(v,Oe),v=ge.hasEagerState?ge.eagerState:d(v,Oe)}else ve={lane:Oe,revertLane:ge.revertLane,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null},Z===null?(U=Z=ve,O=v):Z=Z.next=ve,zt.lanes|=Oe,fi|=Oe;ge=ge.next}while(ge!==null&&ge!==o);if(Z===null?O=v:Z.next=U,!Xs(v,r.memoizedState)&&(cs=!0,Ne&&(d=cl,d!==null)))throw d;r.memoizedState=v,r.baseState=O,r.baseQueue=Z,m.lastRenderedState=v}return y===null&&(m.lanes=0),[r.memoizedState,m.dispatch]}function gp(r){var o=Wn(),d=o.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=r;var m=d.dispatch,y=d.pending,v=o.memoizedState;if(y!==null){d.pending=null;var O=y=y.next;do v=r(v,O.action),O=O.next;while(O!==y);Xs(v,o.memoizedState)||(cs=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),d.lastRenderedState=v}return[v,m]}function Xb(r,o,d){var m=zt,y=Wn(),v=sn;if(v){if(d===void 0)throw Error(s(407));d=d()}else d=o();var O=!Xs((un||y).memoizedState,d);O&&(y.memoizedState=d,cs=!0),y=y.queue;var U=Qb.bind(null,m,y,r);if(Bc(2048,8,U,[r]),y.getSnapshot!==o||O||qn!==null&&qn.memoizedState.tag&1){if(m.flags|=2048,hl(9,Fd(),Kb.bind(null,m,y,d,o),null),yn===null)throw Error(s(349));v||(ai&124)!==0||Gb(m,o,d)}return d}function Gb(r,o,d){r.flags|=16384,r={getSnapshot:o,value:d},o=zt.updateQueue,o===null?(o=hp(),zt.updateQueue=o,o.stores=[r]):(d=o.stores,d===null?o.stores=[r]:d.push(r))}function Kb(r,o,d,m){o.value=d,o.getSnapshot=m,Zb(o)&&Jb(r)}function Qb(r,o,d){return d(function(){Zb(o)&&Jb(r)})}function Zb(r){var o=r.getSnapshot;r=r.value;try{var d=o();return!Xs(r,d)}catch(m){return!0}}function Jb(r){var o=rl(r,2);o!==null&&er(o,r,2)}function xp(r){var o=zs();if(typeof r=="function"){var d=r;if(r=d(),co){Qe(!0);try{d()}finally{Qe(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:r},o}function ev(r,o,d,m){return r.baseState=d,pp(r,un,typeof m=="function"?m:Ea)}function bk(r,o,d,m,y){if(Hd(r))throw Error(s(485));if(r=o.action,r!==null){var v={payload:y,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){v.listeners.push(O)}};H.T!==null?d(!0):v.isTransition=!1,m(v),d=o.pending,d===null?(v.next=o.pending=v,tv(o,v)):(v.next=d.next,o.pending=d.next=v)}}function tv(r,o){var d=o.action,m=o.payload,y=r.state;if(o.isTransition){var v=H.T,O={};H.T=O;try{var U=d(y,m),Z=H.S;Z!==null&&Z(O,U),nv(r,o,U)}catch(ge){yp(r,o,ge)}finally{H.T=v}}else try{v=d(y,m),nv(r,o,v)}catch(ge){yp(r,o,ge)}}function nv(r,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){sv(r,o,m)},function(m){return yp(r,o,m)}):sv(r,o,d)}function sv(r,o,d){o.status="fulfilled",o.value=d,rv(o),r.state=d,o=r.pending,o!==null&&(d=o.next,d===o?r.pending=null:(d=d.next,o.next=d,tv(r,d)))}function yp(r,o,d){var m=r.pending;if(r.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=d,rv(o),o=o.next;while(o!==m)}r.action=null}function rv(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function av(r,o){return o}function iv(r,o){if(sn){var d=yn.formState;if(d!==null){e:{var m=zt;if(sn){if(Ln){t:{for(var y=Ln,v=Gr;y.nodeType!==8;){if(!v){y=null;break t}if(y=Dr(y.nextSibling),y===null){y=null;break t}}v=y.data,y=v==="F!"||v==="F"?y:null}if(y){Ln=Dr(y.nextSibling),m=y.data==="F!";break e}}ao(m)}m=!1}m&&(o=d[0])}}return d=zs(),d.memoizedState=d.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:av,lastRenderedState:o},d.queue=m,d=Nv.bind(null,zt,m),m.dispatch=d,m=xp(!1),v=jp.bind(null,zt,!1,m.queue),m=zs(),y={state:o,dispatch:null,action:r,pending:null},m.queue=y,d=bk.bind(null,zt,y,v,d),y.dispatch=d,m.memoizedState=r,[o,d,!1]}function ov(r){var o=Wn();return lv(o,un,r)}function lv(r,o,d){if(o=pp(r,o,av)[0],r=Bd(Ea)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=Uc(o)}catch(O){throw O===Dc?Rd:O}else m=o;o=Wn();var y=o.queue,v=y.dispatch;return d!==o.memoizedState&&(zt.flags|=2048,hl(9,Fd(),vk.bind(null,y,d),null)),[m,v,r]}function vk(r,o){r.action=o}function cv(r){var o=Wn(),d=un;if(d!==null)return lv(o,d,r);Wn(),o=o.memoizedState,d=Wn();var m=d.queue.dispatch;return d.memoizedState=r,[o,m,!1]}function hl(r,o,d,m){return r={tag:r,create:d,deps:m,inst:o,next:null},o=zt.updateQueue,o===null&&(o=hp(),zt.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=r.next=r:(m=d.next,d.next=r,r.next=m,o.lastEffect=r),r}function Fd(){return{destroy:void 0,resource:void 0}}function uv(){return Wn().memoizedState}function $d(r,o,d,m){var y=zs();m=m===void 0?null:m,zt.flags|=r,y.memoizedState=hl(1|o,Fd(),d,m)}function Bc(r,o,d,m){var y=Wn();m=m===void 0?null:m;var v=y.memoizedState.inst;un!==null&&m!==null&&lp(m,un.memoizedState.deps)?y.memoizedState=hl(o,v,d,m):(zt.flags|=r,y.memoizedState=hl(1|o,v,d,m))}function dv(r,o){$d(8390656,8,r,o)}function fv(r,o){Bc(2048,8,r,o)}function hv(r,o){return Bc(4,2,r,o)}function mv(r,o){return Bc(4,4,r,o)}function pv(r,o){if(typeof o=="function"){r=r();var d=o(r);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function gv(r,o,d){d=d!=null?d.concat([r]):null,Bc(4,4,pv.bind(null,o,r),d)}function bp(){}function xv(r,o){var d=Wn();o=o===void 0?null:o;var m=d.memoizedState;return o!==null&&lp(o,m[1])?m[0]:(d.memoizedState=[r,o],r)}function yv(r,o){var d=Wn();o=o===void 0?null:o;var m=d.memoizedState;if(o!==null&&lp(o,m[1]))return m[0];if(m=r(),co){Qe(!0);try{r()}finally{Qe(!1)}}return d.memoizedState=[m,o],m}function vp(r,o,d){return d===void 0||(ai&1073741824)!==0?r.memoizedState=o:(r.memoizedState=d,r=ww(),zt.lanes|=r,fi|=r,d)}function bv(r,o,d,m){return Xs(d,o)?d:ul.current!==null?(r=vp(r,d,m),Xs(r,o)||(cs=!0),r):(ai&42)===0?(cs=!0,r.memoizedState=d):(r=ww(),zt.lanes|=r,fi|=r,o)}function vv(r,o,d,m,y){var v=te.p;te.p=v!==0&&8>v?v:8;var O=H.T,U={};H.T=U,jp(r,!1,o,d);try{var Z=y(),ge=H.S;if(ge!==null&&ge(U,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var Ne=gk(Z,m);Fc(r,o,Ne,Js(r))}else Fc(r,o,m,Js(r))}catch(Oe){Fc(r,o,{then:function(){},status:"rejected",reason:Oe},Js())}finally{te.p=v,H.T=O}}function wk(){}function wp(r,o,d,m){if(r.tag!==5)throw Error(s(476));var y=wv(r).queue;vv(r,y,o,ne,d===null?wk:function(){return _v(r),d(m)})}function wv(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:ne},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:d},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function _v(r){var o=wv(r).next.queue;Fc(r,o,{},Js())}function _p(){return Ns(ru)}function jv(){return Wn().memoizedState}function Sv(){return Wn().memoizedState}function _k(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var d=Js();r=si(d);var m=ri(o,r,d);m!==null&&(er(m,o,d),Mc(m,o,d)),o={cache:Zm()},r.payload=o;return}o=o.return}}function jk(r,o,d){var m=Js();d={lane:m,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},Hd(r)?Ev(o,d):(d=Hm(r,o,d,m),d!==null&&(er(d,r,m),Tv(d,o,m)))}function Nv(r,o,d){var m=Js();Fc(r,o,d,m)}function Fc(r,o,d,m){var y={lane:m,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(Hd(r))Ev(o,y);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var O=o.lastRenderedState,U=v(O,d);if(y.hasEagerState=!0,y.eagerState=U,Xs(U,O))return Nd(r,o,y,0),yn===null&&Sd(),!1}catch(Z){}finally{}if(d=Hm(r,o,y,m),d!==null)return er(d,r,m),Tv(d,o,m),!0}return!1}function jp(r,o,d,m){if(m={lane:2,revertLane:tg(),action:m,hasEagerState:!1,eagerState:null,next:null},Hd(r)){if(o)throw Error(s(479))}else o=Hm(r,d,m,2),o!==null&&er(o,r,2)}function Hd(r){var o=r.alternate;return r===zt||o!==null&&o===zt}function Ev(r,o){dl=Ld=!0;var d=r.pending;d===null?o.next=o:(o.next=d.next,d.next=o),r.pending=o}function Tv(r,o,d){if((d&4194048)!==0){var m=o.lanes;m&=r.pendingLanes,d|=m,o.lanes=d,jt(r,d)}}var Vd={readContext:Ns,use:Ud,useCallback:Un,useContext:Un,useEffect:Un,useImperativeHandle:Un,useLayoutEffect:Un,useInsertionEffect:Un,useMemo:Un,useReducer:Un,useRef:Un,useState:Un,useDebugValue:Un,useDeferredValue:Un,useTransition:Un,useSyncExternalStore:Un,useId:Un,useHostTransitionStatus:Un,useFormState:Un,useActionState:Un,useOptimistic:Un,useMemoCache:Un,useCacheRefresh:Un},Cv={readContext:Ns,use:Ud,useCallback:function(r,o){return zs().memoizedState=[r,o===void 0?null:o],r},useContext:Ns,useEffect:dv,useImperativeHandle:function(r,o,d){d=d!=null?d.concat([r]):null,$d(4194308,4,pv.bind(null,o,r),d)},useLayoutEffect:function(r,o){return $d(4194308,4,r,o)},useInsertionEffect:function(r,o){$d(4,2,r,o)},useMemo:function(r,o){var d=zs();o=o===void 0?null:o;var m=r();if(co){Qe(!0);try{r()}finally{Qe(!1)}}return d.memoizedState=[m,o],m},useReducer:function(r,o,d){var m=zs();if(d!==void 0){var y=d(o);if(co){Qe(!0);try{d(o)}finally{Qe(!1)}}}else y=o;return m.memoizedState=m.baseState=y,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:y},m.queue=r,r=r.dispatch=jk.bind(null,zt,r),[m.memoizedState,r]},useRef:function(r){var o=zs();return r={current:r},o.memoizedState=r},useState:function(r){r=xp(r);var o=r.queue,d=Nv.bind(null,zt,o);return o.dispatch=d,[r.memoizedState,d]},useDebugValue:bp,useDeferredValue:function(r,o){var d=zs();return vp(d,r,o)},useTransition:function(){var r=xp(!1);return r=vv.bind(null,zt,r.queue,!0,!1),zs().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,d){var m=zt,y=zs();if(sn){if(d===void 0)throw Error(s(407));d=d()}else{if(d=o(),yn===null)throw Error(s(349));(Gt&124)!==0||Gb(m,o,d)}y.memoizedState=d;var v={value:d,getSnapshot:o};return y.queue=v,dv(Qb.bind(null,m,v,r),[r]),m.flags|=2048,hl(9,Fd(),Kb.bind(null,m,v,d,o),null),d},useId:function(){var r=zs(),o=yn.identifierPrefix;if(sn){var d=ja,m=_a;d=(m&~(1<<32-yt(m)-1)).toString(32)+d,o="«"+o+"R"+d,d=zd++,0<d&&(o+="H"+d.toString(32)),o+="»"}else d=xk++,o="«"+o+"r"+d.toString(32)+"»";return r.memoizedState=o},useHostTransitionStatus:_p,useFormState:iv,useActionState:iv,useOptimistic:function(r){var o=zs();o.memoizedState=o.baseState=r;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=jp.bind(null,zt,!0,d),d.dispatch=o,[r,o]},useMemoCache:mp,useCacheRefresh:function(){return zs().memoizedState=_k.bind(null,zt)}},kv={readContext:Ns,use:Ud,useCallback:xv,useContext:Ns,useEffect:fv,useImperativeHandle:gv,useInsertionEffect:hv,useLayoutEffect:mv,useMemo:yv,useReducer:Bd,useRef:uv,useState:function(){return Bd(Ea)},useDebugValue:bp,useDeferredValue:function(r,o){var d=Wn();return bv(d,un.memoizedState,r,o)},useTransition:function(){var r=Bd(Ea)[0],o=Wn().memoizedState;return[typeof r=="boolean"?r:Uc(r),o]},useSyncExternalStore:Xb,useId:jv,useHostTransitionStatus:_p,useFormState:ov,useActionState:ov,useOptimistic:function(r,o){var d=Wn();return ev(d,un,r,o)},useMemoCache:mp,useCacheRefresh:Sv},Sk={readContext:Ns,use:Ud,useCallback:xv,useContext:Ns,useEffect:fv,useImperativeHandle:gv,useInsertionEffect:hv,useLayoutEffect:mv,useMemo:yv,useReducer:gp,useRef:uv,useState:function(){return gp(Ea)},useDebugValue:bp,useDeferredValue:function(r,o){var d=Wn();return un===null?vp(d,r,o):bv(d,un.memoizedState,r,o)},useTransition:function(){var r=gp(Ea)[0],o=Wn().memoizedState;return[typeof r=="boolean"?r:Uc(r),o]},useSyncExternalStore:Xb,useId:jv,useHostTransitionStatus:_p,useFormState:cv,useActionState:cv,useOptimistic:function(r,o){var d=Wn();return un!==null?ev(d,un,r,o):(d.baseState=r,[r,d.queue.dispatch])},useMemoCache:mp,useCacheRefresh:Sv},ml=null,$c=0;function Id(r){var o=$c;return $c+=1,ml===null&&(ml=[]),Fb(ml,r,o)}function Hc(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function qd(r,o){throw o.$$typeof===g?Error(s(525)):(r=Object.prototype.toString.call(o),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function Ov(r){var o=r._init;return o(r._payload)}function Av(r){function o(ue,ae){if(r){var pe=ue.deletions;pe===null?(ue.deletions=[ae],ue.flags|=16):pe.push(ae)}}function d(ue,ae){if(!r)return null;for(;ae!==null;)o(ue,ae),ae=ae.sibling;return null}function m(ue){for(var ae=new Map;ue!==null;)ue.key!==null?ae.set(ue.key,ue):ae.set(ue.index,ue),ue=ue.sibling;return ae}function y(ue,ae){return ue=wa(ue,ae),ue.index=0,ue.sibling=null,ue}function v(ue,ae,pe){return ue.index=pe,r?(pe=ue.alternate,pe!==null?(pe=pe.index,pe<ae?(ue.flags|=67108866,ae):pe):(ue.flags|=67108866,ae)):(ue.flags|=1048576,ae)}function O(ue){return r&&ue.alternate===null&&(ue.flags|=67108866),ue}function U(ue,ae,pe,Te){return ae===null||ae.tag!==6?(ae=Im(pe,ue.mode,Te),ae.return=ue,ae):(ae=y(ae,pe),ae.return=ue,ae)}function Z(ue,ae,pe,Te){var Je=pe.type;return Je===w?Ne(ue,ae,pe.props.children,Te,pe.key):ae!==null&&(ae.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===E&&Ov(Je)===ae.type)?(ae=y(ae,pe.props),Hc(ae,pe),ae.return=ue,ae):(ae=Td(pe.type,pe.key,pe.props,null,ue.mode,Te),Hc(ae,pe),ae.return=ue,ae)}function ge(ue,ae,pe,Te){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==pe.containerInfo||ae.stateNode.implementation!==pe.implementation?(ae=qm(pe,ue.mode,Te),ae.return=ue,ae):(ae=y(ae,pe.children||[]),ae.return=ue,ae)}function Ne(ue,ae,pe,Te,Je){return ae===null||ae.tag!==7?(ae=to(pe,ue.mode,Te,Je),ae.return=ue,ae):(ae=y(ae,pe),ae.return=ue,ae)}function Oe(ue,ae,pe){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=Im(""+ae,ue.mode,pe),ae.return=ue,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case b:return pe=Td(ae.type,ae.key,ae.props,null,ue.mode,pe),Hc(pe,ae),pe.return=ue,pe;case x:return ae=qm(ae,ue.mode,pe),ae.return=ue,ae;case E:var Te=ae._init;return ae=Te(ae._payload),Oe(ue,ae,pe)}if(G(ae)||Y(ae))return ae=to(ae,ue.mode,pe,null),ae.return=ue,ae;if(typeof ae.then=="function")return Oe(ue,Id(ae),pe);if(ae.$$typeof===A)return Oe(ue,Ad(ue,ae),pe);qd(ue,ae)}return null}function ve(ue,ae,pe,Te){var Je=ae!==null?ae.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return Je!==null?null:U(ue,ae,""+pe,Te);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case b:return pe.key===Je?Z(ue,ae,pe,Te):null;case x:return pe.key===Je?ge(ue,ae,pe,Te):null;case E:return Je=pe._init,pe=Je(pe._payload),ve(ue,ae,pe,Te)}if(G(pe)||Y(pe))return Je!==null?null:Ne(ue,ae,pe,Te,null);if(typeof pe.then=="function")return ve(ue,ae,Id(pe),Te);if(pe.$$typeof===A)return ve(ue,ae,Ad(ue,pe),Te);qd(ue,pe)}return null}function we(ue,ae,pe,Te,Je){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return ue=ue.get(pe)||null,U(ae,ue,""+Te,Je);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case b:return ue=ue.get(Te.key===null?pe:Te.key)||null,Z(ae,ue,Te,Je);case x:return ue=ue.get(Te.key===null?pe:Te.key)||null,ge(ae,ue,Te,Je);case E:var Bt=Te._init;return Te=Bt(Te._payload),we(ue,ae,pe,Te,Je)}if(G(Te)||Y(Te))return ue=ue.get(pe)||null,Ne(ae,ue,Te,Je,null);if(typeof Te.then=="function")return we(ue,ae,pe,Id(Te),Je);if(Te.$$typeof===A)return we(ue,ae,pe,Ad(ae,Te),Je);qd(ae,Te)}return null}function bt(ue,ae,pe,Te){for(var Je=null,Bt=null,it=ae,xt=ae=0,ds=null;it!==null&&xt<pe.length;xt++){it.index>xt?(ds=it,it=null):ds=it.sibling;var tn=ve(ue,it,pe[xt],Te);if(tn===null){it===null&&(it=ds);break}r&&it&&tn.alternate===null&&o(ue,it),ae=v(tn,ae,xt),Bt===null?Je=tn:Bt.sibling=tn,Bt=tn,it=ds}if(xt===pe.length)return d(ue,it),sn&&so(ue,xt),Je;if(it===null){for(;xt<pe.length;xt++)it=Oe(ue,pe[xt],Te),it!==null&&(ae=v(it,ae,xt),Bt===null?Je=it:Bt.sibling=it,Bt=it);return sn&&so(ue,xt),Je}for(it=m(it);xt<pe.length;xt++)ds=we(it,ue,xt,pe[xt],Te),ds!==null&&(r&&ds.alternate!==null&&it.delete(ds.key===null?xt:ds.key),ae=v(ds,ae,xt),Bt===null?Je=ds:Bt.sibling=ds,Bt=ds);return r&&it.forEach(function(wi){return o(ue,wi)}),sn&&so(ue,xt),Je}function mt(ue,ae,pe,Te){if(pe==null)throw Error(s(151));for(var Je=null,Bt=null,it=ae,xt=ae=0,ds=null,tn=pe.next();it!==null&&!tn.done;xt++,tn=pe.next()){it.index>xt?(ds=it,it=null):ds=it.sibling;var wi=ve(ue,it,tn.value,Te);if(wi===null){it===null&&(it=ds);break}r&&it&&wi.alternate===null&&o(ue,it),ae=v(wi,ae,xt),Bt===null?Je=wi:Bt.sibling=wi,Bt=wi,it=ds}if(tn.done)return d(ue,it),sn&&so(ue,xt),Je;if(it===null){for(;!tn.done;xt++,tn=pe.next())tn=Oe(ue,tn.value,Te),tn!==null&&(ae=v(tn,ae,xt),Bt===null?Je=tn:Bt.sibling=tn,Bt=tn);return sn&&so(ue,xt),Je}for(it=m(it);!tn.done;xt++,tn=pe.next())tn=we(it,ue,xt,tn.value,Te),tn!==null&&(r&&tn.alternate!==null&&it.delete(tn.key===null?xt:tn.key),ae=v(tn,ae,xt),Bt===null?Je=tn:Bt.sibling=tn,Bt=tn);return r&&it.forEach(function(NO){return o(ue,NO)}),sn&&so(ue,xt),Je}function fn(ue,ae,pe,Te){if(typeof pe=="object"&&pe!==null&&pe.type===w&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case b:e:{for(var Je=pe.key;ae!==null;){if(ae.key===Je){if(Je=pe.type,Je===w){if(ae.tag===7){d(ue,ae.sibling),Te=y(ae,pe.props.children),Te.return=ue,ue=Te;break e}}else if(ae.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===E&&Ov(Je)===ae.type){d(ue,ae.sibling),Te=y(ae,pe.props),Hc(Te,pe),Te.return=ue,ue=Te;break e}d(ue,ae);break}else o(ue,ae);ae=ae.sibling}pe.type===w?(Te=to(pe.props.children,ue.mode,Te,pe.key),Te.return=ue,ue=Te):(Te=Td(pe.type,pe.key,pe.props,null,ue.mode,Te),Hc(Te,pe),Te.return=ue,ue=Te)}return O(ue);case x:e:{for(Je=pe.key;ae!==null;){if(ae.key===Je)if(ae.tag===4&&ae.stateNode.containerInfo===pe.containerInfo&&ae.stateNode.implementation===pe.implementation){d(ue,ae.sibling),Te=y(ae,pe.children||[]),Te.return=ue,ue=Te;break e}else{d(ue,ae);break}else o(ue,ae);ae=ae.sibling}Te=qm(pe,ue.mode,Te),Te.return=ue,ue=Te}return O(ue);case E:return Je=pe._init,pe=Je(pe._payload),fn(ue,ae,pe,Te)}if(G(pe))return bt(ue,ae,pe,Te);if(Y(pe)){if(Je=Y(pe),typeof Je!="function")throw Error(s(150));return pe=Je.call(pe),mt(ue,ae,pe,Te)}if(typeof pe.then=="function")return fn(ue,ae,Id(pe),Te);if(pe.$$typeof===A)return fn(ue,ae,Ad(ue,pe),Te);qd(ue,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint"?(pe=""+pe,ae!==null&&ae.tag===6?(d(ue,ae.sibling),Te=y(ae,pe),Te.return=ue,ue=Te):(d(ue,ae),Te=Im(pe,ue.mode,Te),Te.return=ue,ue=Te),O(ue)):d(ue,ae)}return function(ue,ae,pe,Te){try{$c=0;var Je=fn(ue,ae,pe,Te);return ml=null,Je}catch(it){if(it===Dc||it===Rd)throw it;var Bt=Gs(29,it,null,ue.mode);return Bt.lanes=Te,Bt.return=ue,Bt}finally{}}}var pl=Av(!0),Dv=Av(!1),gr=Q(null),Kr=null;function ii(r){var o=r.alternate;$(es,es.current&1),$(gr,r),Kr===null&&(o===null||ul.current!==null||o.memoizedState!==null)&&(Kr=r)}function Rv(r){if(r.tag===22){if($(es,es.current),$(gr,r),Kr===null){var o=r.alternate;o!==null&&o.memoizedState!==null&&(Kr=r)}}else oi()}function oi(){$(es,es.current),$(gr,gr.current)}function Ta(r){he(gr),Kr===r&&(Kr=null),he(es)}var es=Q(0);function Wd(r){for(var o=r;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||hg(d)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Sp(r,o,d,m){o=r.memoizedState,d=d(m,o),d=d==null?o:p({},o,d),r.memoizedState=d,r.lanes===0&&(r.updateQueue.baseState=d)}var Np={enqueueSetState:function(r,o,d){r=r._reactInternals;var m=Js(),y=si(m);y.payload=o,d!=null&&(y.callback=d),o=ri(r,y,m),o!==null&&(er(o,r,m),Mc(o,r,m))},enqueueReplaceState:function(r,o,d){r=r._reactInternals;var m=Js(),y=si(m);y.tag=1,y.payload=o,d!=null&&(y.callback=d),o=ri(r,y,m),o!==null&&(er(o,r,m),Mc(o,r,m))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var d=Js(),m=si(d);m.tag=2,o!=null&&(m.callback=o),o=ri(r,m,d),o!==null&&(er(o,r,d),Mc(o,r,d))}};function Mv(r,o,d,m,y,v,O){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(m,v,O):o.prototype&&o.prototype.isPureReactComponent?!Sc(d,m)||!Sc(y,v):!0}function Pv(r,o,d,m){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,m),o.state!==r&&Np.enqueueReplaceState(o,o.state,null)}function uo(r,o){var d=o;if("ref"in o){d={};for(var m in o)m!=="ref"&&(d[m]=o[m])}if(r=r.defaultProps){d===o&&(d=p({},d));for(var y in r)d[y]===void 0&&(d[y]=r[y])}return d}var Yd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Lv(r){Yd(r)}function zv(r){console.error(r)}function Uv(r){Yd(r)}function Xd(r,o){try{var d=r.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function Bv(r,o,d){try{var m=r.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Ep(r,o,d){return d=si(d),d.tag=3,d.payload={element:null},d.callback=function(){Xd(r,o)},d}function Fv(r){return r=si(r),r.tag=3,r}function $v(r,o,d,m){var y=d.type.getDerivedStateFromError;if(typeof y=="function"){var v=m.value;r.payload=function(){return y(v)},r.callback=function(){Bv(o,d,m)}}var O=d.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(r.callback=function(){Bv(o,d,m),typeof y!="function"&&(hi===null?hi=new Set([this]):hi.add(this));var U=m.stack;this.componentDidCatch(m.value,{componentStack:U!==null?U:""})})}function Nk(r,o,d,m,y){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=d.alternate,o!==null&&kc(o,d,y,!0),d=gr.current,d!==null){switch(d.tag){case 13:return Kr===null?Kp():d.alternate===null&&zn===0&&(zn=3),d.flags&=-257,d.flags|=65536,d.lanes=y,m===tp?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([m]):o.add(m),Zp(r,m,y)),!1;case 22:return d.flags|=65536,m===tp?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([m]):d.add(m)),Zp(r,m,y)),!1}throw Error(s(435,d.tag))}return Zp(r,m,y),Kp(),!1}if(sn)return o=gr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,m!==Xm&&(r=Error(s(422),{cause:m}),Cc(fr(r,d)))):(m!==Xm&&(o=Error(s(423),{cause:m}),Cc(fr(o,d))),r=r.current.alternate,r.flags|=65536,y&=-y,r.lanes|=y,m=fr(m,d),y=Ep(r.stateNode,m,y),rp(r,y),zn!==4&&(zn=2)),!1;var v=Error(s(520),{cause:m});if(v=fr(v,d),Gc===null?Gc=[v]:Gc.push(v),zn!==4&&(zn=2),o===null)return!0;m=fr(m,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,r=y&-y,d.lanes|=r,r=Ep(d.stateNode,m,r),rp(d,r),!1;case 1:if(o=d.type,v=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(hi===null||!hi.has(v))))return d.flags|=65536,y&=-y,d.lanes|=y,y=Fv(y),$v(y,r,d,m),rp(d,y),!1}d=d.return}while(d!==null);return!1}var Hv=Error(s(461)),cs=!1;function ms(r,o,d,m){o.child=r===null?Dv(o,null,d,m):pl(o,r.child,d,m)}function Vv(r,o,d,m,y){d=d.render;var v=o.ref;if("ref"in m){var O={};for(var U in m)U!=="ref"&&(O[U]=m[U])}else O=m;return oo(o),m=cp(r,o,d,O,v,y),U=up(),r!==null&&!cs?(dp(r,o,y),Ca(r,o,y)):(sn&&U&&Wm(o),o.flags|=1,ms(r,o,m,y),o.child)}function Iv(r,o,d,m,y){if(r===null){var v=d.type;return typeof v=="function"&&!Vm(v)&&v.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=v,qv(r,o,v,m,y)):(r=Td(d.type,null,m,o,o.mode,y),r.ref=o.ref,r.return=o,o.child=r)}if(v=r.child,!Mp(r,y)){var O=v.memoizedProps;if(d=d.compare,d=d!==null?d:Sc,d(O,m)&&r.ref===o.ref)return Ca(r,o,y)}return o.flags|=1,r=wa(v,m),r.ref=o.ref,r.return=o,o.child=r}function qv(r,o,d,m,y){if(r!==null){var v=r.memoizedProps;if(Sc(v,m)&&r.ref===o.ref)if(cs=!1,o.pendingProps=m=v,Mp(r,y))(r.flags&131072)!==0&&(cs=!0);else return o.lanes=r.lanes,Ca(r,o,y)}return Tp(r,o,d,m,y)}function Wv(r,o,d){var m=o.pendingProps,y=m.children,v=r!==null?r.memoizedState:null;if(m.mode==="hidden"){if((o.flags&128)!==0){if(m=v!==null?v.baseLanes|d:d,r!==null){for(y=o.child=r.child,v=0;y!==null;)v=v|y.lanes|y.childLanes,y=y.sibling;o.childLanes=v&~m}else o.childLanes=0,o.child=null;return Yv(r,o,m,d)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&Dd(o,v!==null?v.cachePool:null),v!==null?qb(o,v):ip(),Rv(o);else return o.lanes=o.childLanes=536870912,Yv(r,o,v!==null?v.baseLanes|d:d,d)}else v!==null?(Dd(o,v.cachePool),qb(o,v),oi(),o.memoizedState=null):(r!==null&&Dd(o,null),ip(),oi());return ms(r,o,y,d),o.child}function Yv(r,o,d,m){var y=ep();return y=y===null?null:{parent:Jn._currentValue,pool:y},o.memoizedState={baseLanes:d,cachePool:y},r!==null&&Dd(o,null),ip(),Rv(o),r!==null&&kc(r,o,m,!0),null}function Gd(r,o){var d=o.ref;if(d===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(s(284));(r===null||r.ref!==d)&&(o.flags|=4194816)}}function Tp(r,o,d,m,y){return oo(o),d=cp(r,o,d,m,void 0,y),m=up(),r!==null&&!cs?(dp(r,o,y),Ca(r,o,y)):(sn&&m&&Wm(o),o.flags|=1,ms(r,o,d,y),o.child)}function Xv(r,o,d,m,y,v){return oo(o),o.updateQueue=null,d=Yb(o,m,d,y),Wb(r),m=up(),r!==null&&!cs?(dp(r,o,v),Ca(r,o,v)):(sn&&m&&Wm(o),o.flags|=1,ms(r,o,d,v),o.child)}function Gv(r,o,d,m,y){if(oo(o),o.stateNode===null){var v=al,O=d.contextType;typeof O=="object"&&O!==null&&(v=Ns(O)),v=new d(m,v),o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Np,o.stateNode=v,v._reactInternals=o,v=o.stateNode,v.props=m,v.state=o.memoizedState,v.refs={},np(o),O=d.contextType,v.context=typeof O=="object"&&O!==null?Ns(O):al,v.state=o.memoizedState,O=d.getDerivedStateFromProps,typeof O=="function"&&(Sp(o,d,O,m),v.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(O=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),O!==v.state&&Np.enqueueReplaceState(v,v.state,null),Lc(o,m,v,y),Pc(),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(r===null){v=o.stateNode;var U=o.memoizedProps,Z=uo(d,U);v.props=Z;var ge=v.context,Ne=d.contextType;O=al,typeof Ne=="object"&&Ne!==null&&(O=Ns(Ne));var Oe=d.getDerivedStateFromProps;Ne=typeof Oe=="function"||typeof v.getSnapshotBeforeUpdate=="function",U=o.pendingProps!==U,Ne||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(U||ge!==O)&&Pv(o,v,m,O),ni=!1;var ve=o.memoizedState;v.state=ve,Lc(o,m,v,y),Pc(),ge=o.memoizedState,U||ve!==ge||ni?(typeof Oe=="function"&&(Sp(o,d,Oe,m),ge=o.memoizedState),(Z=ni||Mv(o,d,Z,m,ve,ge,O))?(Ne||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=ge),v.props=m,v.state=ge,v.context=O,m=Z):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{v=o.stateNode,sp(r,o),O=o.memoizedProps,Ne=uo(d,O),v.props=Ne,Oe=o.pendingProps,ve=v.context,ge=d.contextType,Z=al,typeof ge=="object"&&ge!==null&&(Z=Ns(ge)),U=d.getDerivedStateFromProps,(ge=typeof U=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(O!==Oe||ve!==Z)&&Pv(o,v,m,Z),ni=!1,ve=o.memoizedState,v.state=ve,Lc(o,m,v,y),Pc();var we=o.memoizedState;O!==Oe||ve!==we||ni||r!==null&&r.dependencies!==null&&Od(r.dependencies)?(typeof U=="function"&&(Sp(o,d,U,m),we=o.memoizedState),(Ne=ni||Mv(o,d,Ne,m,ve,we,Z)||r!==null&&r.dependencies!==null&&Od(r.dependencies))?(ge||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(m,we,Z),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(m,we,Z)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||O===r.memoizedProps&&ve===r.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&ve===r.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=we),v.props=m,v.state=we,v.context=Z,m=Ne):(typeof v.componentDidUpdate!="function"||O===r.memoizedProps&&ve===r.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&ve===r.memoizedState||(o.flags|=1024),m=!1)}return v=m,Gd(r,o),m=(o.flags&128)!==0,v||m?(v=o.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:v.render(),o.flags|=1,r!==null&&m?(o.child=pl(o,r.child,null,y),o.child=pl(o,null,d,y)):ms(r,o,d,y),o.memoizedState=v.state,r=o.child):r=Ca(r,o,y),r}function Kv(r,o,d,m){return Tc(),o.flags|=256,ms(r,o,d,m),o.child}var Cp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kp(r){return{baseLanes:r,cachePool:zb()}}function Op(r,o,d){return r=r!==null?r.childLanes&~d:0,o&&(r|=xr),r}function Qv(r,o,d){var m=o.pendingProps,y=!1,v=(o.flags&128)!==0,O;if((O=v)||(O=r!==null&&r.memoizedState===null?!1:(es.current&2)!==0),O&&(y=!0,o.flags&=-129),O=(o.flags&32)!==0,o.flags&=-33,r===null){if(sn){if(y?ii(o):oi(),sn){var U=Ln,Z;if(Z=U){e:{for(Z=U,U=Gr;Z.nodeType!==8;){if(!U){U=null;break e}if(Z=Dr(Z.nextSibling),Z===null){U=null;break e}}U=Z}U!==null?(o.memoizedState={dehydrated:U,treeContext:no!==null?{id:_a,overflow:ja}:null,retryLane:536870912,hydrationErrors:null},Z=Gs(18,null,null,0),Z.stateNode=U,Z.return=o,o.child=Z,As=o,Ln=null,Z=!0):Z=!1}Z||ao(o)}if(U=o.memoizedState,U!==null&&(U=U.dehydrated,U!==null))return hg(U)?o.lanes=32:o.lanes=536870912,null;Ta(o)}return U=m.children,m=m.fallback,y?(oi(),y=o.mode,U=Kd({mode:"hidden",children:U},y),m=to(m,y,d,null),U.return=o,m.return=o,U.sibling=m,o.child=U,y=o.child,y.memoizedState=kp(d),y.childLanes=Op(r,O,d),o.memoizedState=Cp,m):(ii(o),Ap(o,U))}if(Z=r.memoizedState,Z!==null&&(U=Z.dehydrated,U!==null)){if(v)o.flags&256?(ii(o),o.flags&=-257,o=Dp(r,o,d)):o.memoizedState!==null?(oi(),o.child=r.child,o.flags|=128,o=null):(oi(),y=m.fallback,U=o.mode,m=Kd({mode:"visible",children:m.children},U),y=to(y,U,d,null),y.flags|=2,m.return=o,y.return=o,m.sibling=y,o.child=m,pl(o,r.child,null,d),m=o.child,m.memoizedState=kp(d),m.childLanes=Op(r,O,d),o.memoizedState=Cp,o=y);else if(ii(o),hg(U)){if(O=U.nextSibling&&U.nextSibling.dataset,O)var ge=O.dgst;O=ge,m=Error(s(419)),m.stack="",m.digest=O,Cc({value:m,source:null,stack:null}),o=Dp(r,o,d)}else if(cs||kc(r,o,d,!1),O=(d&r.childLanes)!==0,cs||O){if(O=yn,O!==null&&(m=d&-d,m=(m&42)!==0?1:Yt(m),m=(m&(O.suspendedLanes|d))!==0?0:m,m!==0&&m!==Z.retryLane))throw Z.retryLane=m,rl(r,m),er(O,r,m),Hv;U.data==="$?"||Kp(),o=Dp(r,o,d)}else U.data==="$?"?(o.flags|=192,o.child=r.child,o=null):(r=Z.treeContext,Ln=Dr(U.nextSibling),As=o,sn=!0,ro=null,Gr=!1,r!==null&&(mr[pr++]=_a,mr[pr++]=ja,mr[pr++]=no,_a=r.id,ja=r.overflow,no=o),o=Ap(o,m.children),o.flags|=4096);return o}return y?(oi(),y=m.fallback,U=o.mode,Z=r.child,ge=Z.sibling,m=wa(Z,{mode:"hidden",children:m.children}),m.subtreeFlags=Z.subtreeFlags&65011712,ge!==null?y=wa(ge,y):(y=to(y,U,d,null),y.flags|=2),y.return=o,m.return=o,m.sibling=y,o.child=m,m=y,y=o.child,U=r.child.memoizedState,U===null?U=kp(d):(Z=U.cachePool,Z!==null?(ge=Jn._currentValue,Z=Z.parent!==ge?{parent:ge,pool:ge}:Z):Z=zb(),U={baseLanes:U.baseLanes|d,cachePool:Z}),y.memoizedState=U,y.childLanes=Op(r,O,d),o.memoizedState=Cp,m):(ii(o),d=r.child,r=d.sibling,d=wa(d,{mode:"visible",children:m.children}),d.return=o,d.sibling=null,r!==null&&(O=o.deletions,O===null?(o.deletions=[r],o.flags|=16):O.push(r)),o.child=d,o.memoizedState=null,d)}function Ap(r,o){return o=Kd({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function Kd(r,o){return r=Gs(22,r,null,o),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Dp(r,o,d){return pl(o,r.child,null,d),r=Ap(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function Zv(r,o,d){r.lanes|=o;var m=r.alternate;m!==null&&(m.lanes|=o),Km(r.return,o,d)}function Rp(r,o,d,m,y){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:y}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=m,v.tail=d,v.tailMode=y)}function Jv(r,o,d){var m=o.pendingProps,y=m.revealOrder,v=m.tail;if(ms(r,o,m.children,d),m=es.current,(m&2)!==0)m=m&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Zv(r,d,o);else if(r.tag===19)Zv(r,d,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}m&=1}switch($(es,m),y){case"forwards":for(d=o.child,y=null;d!==null;)r=d.alternate,r!==null&&Wd(r)===null&&(y=d),d=d.sibling;d=y,d===null?(y=o.child,o.child=null):(y=d.sibling,d.sibling=null),Rp(o,!1,y,d,v);break;case"backwards":for(d=null,y=o.child,o.child=null;y!==null;){if(r=y.alternate,r!==null&&Wd(r)===null){o.child=y;break}r=y.sibling,y.sibling=d,d=y,y=r}Rp(o,!0,d,null,v);break;case"together":Rp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ca(r,o,d){if(r!==null&&(o.dependencies=r.dependencies),fi|=o.lanes,(d&o.childLanes)===0)if(r!==null){if(kc(r,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(s(153));if(o.child!==null){for(r=o.child,d=wa(r,r.pendingProps),o.child=d,d.return=o;r.sibling!==null;)r=r.sibling,d=d.sibling=wa(r,r.pendingProps),d.return=o;d.sibling=null}return o.child}function Mp(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&Od(r)))}function Ek(r,o,d){switch(o.tag){case 3:De(o,o.stateNode.containerInfo),ti(o,Jn,r.memoizedState.cache),Tc();break;case 27:case 5:Le(o);break;case 4:De(o,o.stateNode.containerInfo);break;case 10:ti(o,o.type,o.memoizedProps.value);break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(ii(o),o.flags|=128,null):(d&o.child.childLanes)!==0?Qv(r,o,d):(ii(o),r=Ca(r,o,d),r!==null?r.sibling:null);ii(o);break;case 19:var y=(r.flags&128)!==0;if(m=(d&o.childLanes)!==0,m||(kc(r,o,d,!1),m=(d&o.childLanes)!==0),y){if(m)return Jv(r,o,d);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),$(es,es.current),m)break;return null;case 22:case 23:return o.lanes=0,Wv(r,o,d);case 24:ti(o,Jn,r.memoizedState.cache)}return Ca(r,o,d)}function ew(r,o,d){if(r!==null)if(r.memoizedProps!==o.pendingProps)cs=!0;else{if(!Mp(r,d)&&(o.flags&128)===0)return cs=!1,Ek(r,o,d);cs=(r.flags&131072)!==0}else cs=!1,sn&&(o.flags&1048576)!==0&&Ob(o,kd,o.index);switch(o.lanes=0,o.tag){case 16:e:{r=o.pendingProps;var m=o.elementType,y=m._init;if(m=y(m._payload),o.type=m,typeof m=="function")Vm(m)?(r=uo(m,r),o.tag=1,o=Gv(null,o,m,r,d)):(o.tag=0,o=Tp(null,o,m,r,d));else{if(m!=null){if(y=m.$$typeof,y===C){o.tag=11,o=Vv(null,o,m,r,d);break e}else if(y===M){o.tag=14,o=Iv(null,o,m,r,d);break e}}throw o=J(m)||m,Error(s(306,o,""))}}return o;case 0:return Tp(r,o,o.type,o.pendingProps,d);case 1:return m=o.type,y=uo(m,o.pendingProps),Gv(r,o,m,y,d);case 3:e:{if(De(o,o.stateNode.containerInfo),r===null)throw Error(s(387));m=o.pendingProps;var v=o.memoizedState;y=v.element,sp(r,o),Lc(o,m,null,d);var O=o.memoizedState;if(m=O.cache,ti(o,Jn,m),m!==v.cache&&Qm(o,[Jn],d,!0),Pc(),m=O.element,v.isDehydrated)if(v={element:m,isDehydrated:!1,cache:O.cache},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){o=Kv(r,o,m,d);break e}else if(m!==y){y=fr(Error(s(424)),o),Cc(y),o=Kv(r,o,m,d);break e}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Ln=Dr(r.firstChild),As=o,sn=!0,ro=null,Gr=!0,d=Dv(o,null,m,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Tc(),m===y){o=Ca(r,o,d);break e}ms(r,o,m,d)}o=o.child}return o;case 26:return Gd(r,o),r===null?(d=r_(o.type,null,o.pendingProps,null))?o.memoizedState=d:sn||(d=o.type,r=o.pendingProps,m=df(xe.current).createElement(d),m[je]=o,m[Ae]=r,gs(m,d,r),at(m),o.stateNode=m):o.memoizedState=r_(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return Le(o),r===null&&sn&&(m=o.stateNode=t_(o.type,o.pendingProps,xe.current),As=o,Gr=!0,y=Ln,gi(o.type)?(mg=y,Ln=Dr(m.firstChild)):Ln=y),ms(r,o,o.pendingProps.children,d),Gd(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&sn&&((y=m=Ln)&&(m=eO(m,o.type,o.pendingProps,Gr),m!==null?(o.stateNode=m,As=o,Ln=Dr(m.firstChild),Gr=!1,y=!0):y=!1),y||ao(o)),Le(o),y=o.type,v=o.pendingProps,O=r!==null?r.memoizedProps:null,m=v.children,ug(y,v)?m=null:O!==null&&ug(y,O)&&(o.flags|=32),o.memoizedState!==null&&(y=cp(r,o,yk,null,null,d),ru._currentValue=y),Gd(r,o),ms(r,o,m,d),o.child;case 6:return r===null&&sn&&((r=d=Ln)&&(d=tO(d,o.pendingProps,Gr),d!==null?(o.stateNode=d,As=o,Ln=null,r=!0):r=!1),r||ao(o)),null;case 13:return Qv(r,o,d);case 4:return De(o,o.stateNode.containerInfo),m=o.pendingProps,r===null?o.child=pl(o,null,m,d):ms(r,o,m,d),o.child;case 11:return Vv(r,o,o.type,o.pendingProps,d);case 7:return ms(r,o,o.pendingProps,d),o.child;case 8:return ms(r,o,o.pendingProps.children,d),o.child;case 12:return ms(r,o,o.pendingProps.children,d),o.child;case 10:return m=o.pendingProps,ti(o,o.type,m.value),ms(r,o,m.children,d),o.child;case 9:return y=o.type._context,m=o.pendingProps.children,oo(o),y=Ns(y),m=m(y),o.flags|=1,ms(r,o,m,d),o.child;case 14:return Iv(r,o,o.type,o.pendingProps,d);case 15:return qv(r,o,o.type,o.pendingProps,d);case 19:return Jv(r,o,d);case 31:return m=o.pendingProps,d=o.mode,m={mode:m.mode,children:m.children},r===null?(d=Kd(m,d),d.ref=o.ref,o.child=d,d.return=o,o=d):(d=wa(r.child,m),d.ref=o.ref,o.child=d,d.return=o,o=d),o;case 22:return Wv(r,o,d);case 24:return oo(o),m=Ns(Jn),r===null?(y=ep(),y===null&&(y=yn,v=Zm(),y.pooledCache=v,v.refCount++,v!==null&&(y.pooledCacheLanes|=d),y=v),o.memoizedState={parent:m,cache:y},np(o),ti(o,Jn,y)):((r.lanes&d)!==0&&(sp(r,o),Lc(o,null,null,d),Pc()),y=r.memoizedState,v=o.memoizedState,y.parent!==m?(y={parent:m,cache:m},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),ti(o,Jn,m)):(m=v.cache,ti(o,Jn,m),m!==y.cache&&Qm(o,[Jn],d,!0))),ms(r,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(s(156,o.tag))}function ka(r){r.flags|=4}function tw(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!c_(o)){if(o=gr.current,o!==null&&((Gt&4194048)===Gt?Kr!==null:(Gt&62914560)!==Gt&&(Gt&536870912)===0||o!==Kr))throw Rc=tp,Ub;r.flags|=8192}}function Qd(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?Lt():536870912,r.lanes|=o,bl|=o)}function Vc(r,o){if(!sn)switch(r.tailMode){case"hidden":o=r.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?r.tail=null:d.sibling=null;break;case"collapsed":d=r.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:m.sibling=null}}function Cn(r){var o=r.alternate!==null&&r.alternate.child===r.child,d=0,m=0;if(o)for(var y=r.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags&65011712,m|=y.flags&65011712,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=m,r.childLanes=d,o}function Tk(r,o,d){var m=o.pendingProps;switch(Ym(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cn(o),null;case 1:return Cn(o),null;case 3:return d=o.stateNode,m=null,r!==null&&(m=r.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),Na(Jn),Ve(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(Ec(o)?ka(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Rb())),Cn(o),null;case 26:return d=o.memoizedState,r===null?(ka(o),d!==null?(Cn(o),tw(o,d)):(Cn(o),o.flags&=-16777217)):d?d!==r.memoizedState?(ka(o),Cn(o),tw(o,d)):(Cn(o),o.flags&=-16777217):(r.memoizedProps!==m&&ka(o),Cn(o),o.flags&=-16777217),null;case 27:lt(o),d=xe.current;var y=o.type;if(r!==null&&o.stateNode!=null)r.memoizedProps!==m&&ka(o);else{if(!m){if(o.stateNode===null)throw Error(s(166));return Cn(o),null}r=re.current,Ec(o)?Ab(o):(r=t_(y,m,d),o.stateNode=r,ka(o))}return Cn(o),null;case 5:if(lt(o),d=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==m&&ka(o);else{if(!m){if(o.stateNode===null)throw Error(s(166));return Cn(o),null}if(r=re.current,Ec(o))Ab(o);else{switch(y=df(xe.current),r){case 1:r=y.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:r=y.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":r=y.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":r=y.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":r=y.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof m.is=="string"?y.createElement("select",{is:m.is}):y.createElement("select"),m.multiple?r.multiple=!0:m.size&&(r.size=m.size);break;default:r=typeof m.is=="string"?y.createElement(d,{is:m.is}):y.createElement(d)}}r[je]=o,r[Ae]=m;e:for(y=o.child;y!==null;){if(y.tag===5||y.tag===6)r.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===o)break e;for(;y.sibling===null;){if(y.return===null||y.return===o)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}o.stateNode=r;e:switch(gs(r,d,m),d){case"button":case"input":case"select":case"textarea":r=!!m.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ka(o)}}return Cn(o),o.flags&=-16777217,null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==m&&ka(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(s(166));if(r=xe.current,Ec(o)){if(r=o.stateNode,d=o.memoizedProps,m=null,y=As,y!==null)switch(y.tag){case 27:case 5:m=y.memoizedProps}r[je]=o,r=!!(r.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||Xw(r.nodeValue,d)),r||ao(o)}else r=df(r).createTextNode(m),r[je]=o,o.stateNode=r}return Cn(o),null;case 13:if(m=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(y=Ec(o),m!==null&&m.dehydrated!==null){if(r===null){if(!y)throw Error(s(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(s(317));y[je]=o}else Tc(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Cn(o),y=!1}else y=Rb(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(Ta(o),o):(Ta(o),null)}if(Ta(o),(o.flags&128)!==0)return o.lanes=d,o;if(d=m!==null,r=r!==null&&r.memoizedState!==null,d){m=o.child,y=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(y=m.alternate.memoizedState.cachePool.pool);var v=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(v=m.memoizedState.cachePool.pool),v!==y&&(m.flags|=2048)}return d!==r&&d&&(o.child.flags|=8192),Qd(o,o.updateQueue),Cn(o),null;case 4:return Ve(),r===null&&ag(o.stateNode.containerInfo),Cn(o),null;case 10:return Na(o.type),Cn(o),null;case 19:if(he(es),y=o.memoizedState,y===null)return Cn(o),null;if(m=(o.flags&128)!==0,v=y.rendering,v===null)if(m)Vc(y,!1);else{if(zn!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(v=Wd(r),v!==null){for(o.flags|=128,Vc(y,!1),r=v.updateQueue,o.updateQueue=r,Qd(o,r),o.subtreeFlags=0,r=d,d=o.child;d!==null;)kb(d,r),d=d.sibling;return $(es,es.current&1|2),o.child}r=r.sibling}y.tail!==null&&vt()>ef&&(o.flags|=128,m=!0,Vc(y,!1),o.lanes=4194304)}else{if(!m)if(r=Wd(v),r!==null){if(o.flags|=128,m=!0,r=r.updateQueue,o.updateQueue=r,Qd(o,r),Vc(y,!0),y.tail===null&&y.tailMode==="hidden"&&!v.alternate&&!sn)return Cn(o),null}else 2*vt()-y.renderingStartTime>ef&&d!==536870912&&(o.flags|=128,m=!0,Vc(y,!1),o.lanes=4194304);y.isBackwards?(v.sibling=o.child,o.child=v):(r=y.last,r!==null?r.sibling=v:o.child=v,y.last=v)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=vt(),o.sibling=null,r=es.current,$(es,m?r&1|2:r&1),o):(Cn(o),null);case 22:case 23:return Ta(o),op(),m=o.memoizedState!==null,r!==null?r.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(d&536870912)!==0&&(o.flags&128)===0&&(Cn(o),o.subtreeFlags&6&&(o.flags|=8192)):Cn(o),d=o.updateQueue,d!==null&&Qd(o,d.retryQueue),d=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==d&&(o.flags|=2048),r!==null&&he(lo),null;case 24:return d=null,r!==null&&(d=r.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Na(Jn),Cn(o),null;case 25:return null;case 30:return null}throw Error(s(156,o.tag))}function Ck(r,o){switch(Ym(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Na(Jn),Ve(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return lt(o),null;case 13:if(Ta(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(s(340));Tc()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return he(es),null;case 4:return Ve(),null;case 10:return Na(o.type),null;case 22:case 23:return Ta(o),op(),r!==null&&he(lo),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return Na(Jn),null;case 25:return null;default:return null}}function nw(r,o){switch(Ym(o),o.tag){case 3:Na(Jn),Ve();break;case 26:case 27:case 5:lt(o);break;case 4:Ve();break;case 13:Ta(o);break;case 19:he(es);break;case 10:Na(o.type);break;case 22:case 23:Ta(o),op(),r!==null&&he(lo);break;case 24:Na(Jn)}}function Ic(r,o){try{var d=o.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var y=m.next;d=y;do{if((d.tag&r)===r){m=void 0;var v=d.create,O=d.inst;m=v(),O.destroy=m}d=d.next}while(d!==y)}}catch(U){mn(o,o.return,U)}}function li(r,o,d){try{var m=o.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var v=y.next;m=v;do{if((m.tag&r)===r){var O=m.inst,U=O.destroy;if(U!==void 0){O.destroy=void 0,y=o;var Z=d,ge=U;try{ge()}catch(Ne){mn(y,Z,Ne)}}}m=m.next}while(m!==v)}}catch(Ne){mn(o,o.return,Ne)}}function sw(r){var o=r.updateQueue;if(o!==null){var d=r.stateNode;try{Ib(o,d)}catch(m){mn(r,r.return,m)}}}function rw(r,o,d){d.props=uo(r.type,r.memoizedProps),d.state=r.memoizedState;try{d.componentWillUnmount()}catch(m){mn(r,o,m)}}function qc(r,o){try{var d=r.ref;if(d!==null){switch(r.tag){case 26:case 27:case 5:var m=r.stateNode;break;case 30:m=r.stateNode;break;default:m=r.stateNode}typeof d=="function"?r.refCleanup=d(m):d.current=m}}catch(y){mn(r,o,y)}}function Qr(r,o){var d=r.ref,m=r.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(y){mn(r,o,y)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(y){mn(r,o,y)}else d.current=null}function aw(r){var o=r.type,d=r.memoizedProps,m=r.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(y){mn(r,r.return,y)}}function Pp(r,o,d){try{var m=r.stateNode;Gk(m,r.type,d,o),m[Ae]=o}catch(y){mn(r,r.return,y)}}function iw(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&gi(r.type)||r.tag===4}function Lp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||iw(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&gi(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function zp(r,o,d){var m=r.tag;if(m===5||m===6)r=r.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(r,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(r),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=uf));else if(m!==4&&(m===27&&gi(r.type)&&(d=r.stateNode,o=null),r=r.child,r!==null))for(zp(r,o,d),r=r.sibling;r!==null;)zp(r,o,d),r=r.sibling}function Zd(r,o,d){var m=r.tag;if(m===5||m===6)r=r.stateNode,o?d.insertBefore(r,o):d.appendChild(r);else if(m!==4&&(m===27&&gi(r.type)&&(d=r.stateNode),r=r.child,r!==null))for(Zd(r,o,d),r=r.sibling;r!==null;)Zd(r,o,d),r=r.sibling}function ow(r){var o=r.stateNode,d=r.memoizedProps;try{for(var m=r.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);gs(o,m,d),o[je]=r,o[Ae]=d}catch(v){mn(r,r.return,v)}}var Oa=!1,Bn=!1,Up=!1,lw=typeof WeakSet=="function"?WeakSet:Set,us=null;function kk(r,o){if(r=r.containerInfo,lg=xf,r=bb(r),Lm(r)){if("selectionStart"in r)var d={start:r.selectionStart,end:r.selectionEnd};else e:{d=(d=r.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var y=m.anchorOffset,v=m.focusNode;m=m.focusOffset;try{d.nodeType,v.nodeType}catch(mt){d=null;break e}var O=0,U=-1,Z=-1,ge=0,Ne=0,Oe=r,ve=null;t:for(;;){for(var we;Oe!==d||y!==0&&Oe.nodeType!==3||(U=O+y),Oe!==v||m!==0&&Oe.nodeType!==3||(Z=O+m),Oe.nodeType===3&&(O+=Oe.nodeValue.length),(we=Oe.firstChild)!==null;)ve=Oe,Oe=we;for(;;){if(Oe===r)break t;if(ve===d&&++ge===y&&(U=O),ve===v&&++Ne===m&&(Z=O),(we=Oe.nextSibling)!==null)break;Oe=ve,ve=Oe.parentNode}Oe=we}d=U===-1||Z===-1?null:{start:U,end:Z}}else d=null}d=d||{start:0,end:0}}else d=null;for(cg={focusedElem:r,selectionRange:d},xf=!1,us=o;us!==null;)if(o=us,r=o.child,(o.subtreeFlags&1024)!==0&&r!==null)r.return=o,us=r;else for(;us!==null;){switch(o=us,v=o.alternate,r=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&v!==null){r=void 0,d=o,y=v.memoizedProps,v=v.memoizedState,m=d.stateNode;try{var bt=uo(d.type,y,d.elementType===d.type);r=m.getSnapshotBeforeUpdate(bt,v),m.__reactInternalSnapshotBeforeUpdate=r}catch(mt){mn(d,d.return,mt)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,d=r.nodeType,d===9)fg(r);else if(d===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":fg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=o.sibling,r!==null){r.return=o.return,us=r;break}us=o.return}}function cw(r,o,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:ci(r,d),m&4&&Ic(5,d);break;case 1:if(ci(r,d),m&4)if(r=d.stateNode,o===null)try{r.componentDidMount()}catch(O){mn(d,d.return,O)}else{var y=uo(d.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(y,o,r.__reactInternalSnapshotBeforeUpdate)}catch(O){mn(d,d.return,O)}}m&64&&sw(d),m&512&&qc(d,d.return);break;case 3:if(ci(r,d),m&64&&(r=d.updateQueue,r!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{Ib(r,o)}catch(O){mn(d,d.return,O)}}break;case 27:o===null&&m&4&&ow(d);case 26:case 5:ci(r,d),o===null&&m&4&&aw(d),m&512&&qc(d,d.return);break;case 12:ci(r,d);break;case 13:ci(r,d),m&4&&fw(r,d),m&64&&(r=d.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(d=Uk.bind(null,d),nO(r,d))));break;case 22:if(m=d.memoizedState!==null||Oa,!m){o=o!==null&&o.memoizedState!==null||Bn,y=Oa;var v=Bn;Oa=m,(Bn=o)&&!v?ui(r,d,(d.subtreeFlags&8772)!==0):ci(r,d),Oa=y,Bn=v}break;case 30:break;default:ci(r,d)}}function uw(r){var o=r.alternate;o!==null&&(r.alternate=null,uw(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&wt(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Sn=null,Us=!1;function Aa(r,o,d){for(d=d.child;d!==null;)dw(r,o,d),d=d.sibling}function dw(r,o,d){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Fe,d)}catch(v){}switch(d.tag){case 26:Bn||Qr(d,o),Aa(r,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Bn||Qr(d,o);var m=Sn,y=Us;gi(d.type)&&(Sn=d.stateNode,Us=!1),Aa(r,o,d),eu(d.stateNode),Sn=m,Us=y;break;case 5:Bn||Qr(d,o);case 6:if(m=Sn,y=Us,Sn=null,Aa(r,o,d),Sn=m,Us=y,Sn!==null)if(Us)try{(Sn.nodeType===9?Sn.body:Sn.nodeName==="HTML"?Sn.ownerDocument.body:Sn).removeChild(d.stateNode)}catch(v){mn(d,o,v)}else try{Sn.removeChild(d.stateNode)}catch(v){mn(d,o,v)}break;case 18:Sn!==null&&(Us?(r=Sn,Jw(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,d.stateNode),lu(r)):Jw(Sn,d.stateNode));break;case 4:m=Sn,y=Us,Sn=d.stateNode.containerInfo,Us=!0,Aa(r,o,d),Sn=m,Us=y;break;case 0:case 11:case 14:case 15:Bn||li(2,d,o),Bn||li(4,d,o),Aa(r,o,d);break;case 1:Bn||(Qr(d,o),m=d.stateNode,typeof m.componentWillUnmount=="function"&&rw(d,o,m)),Aa(r,o,d);break;case 21:Aa(r,o,d);break;case 22:Bn=(m=Bn)||d.memoizedState!==null,Aa(r,o,d),Bn=m;break;default:Aa(r,o,d)}}function fw(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{lu(r)}catch(d){mn(o,o.return,d)}}function Ok(r){switch(r.tag){case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new lw),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new lw),o;default:throw Error(s(435,r.tag))}}function Bp(r,o){var d=Ok(r);o.forEach(function(m){var y=Bk.bind(null,r,m);d.has(m)||(d.add(m),m.then(y,y))})}function Ks(r,o){var d=o.deletions;if(d!==null)for(var m=0;m<d.length;m++){var y=d[m],v=r,O=o,U=O;e:for(;U!==null;){switch(U.tag){case 27:if(gi(U.type)){Sn=U.stateNode,Us=!1;break e}break;case 5:Sn=U.stateNode,Us=!1;break e;case 3:case 4:Sn=U.stateNode.containerInfo,Us=!0;break e}U=U.return}if(Sn===null)throw Error(s(160));dw(v,O,y),Sn=null,Us=!1,v=y.alternate,v!==null&&(v.return=null),y.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)hw(o,r),o=o.sibling}var Ar=null;function hw(r,o){var d=r.alternate,m=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Ks(o,r),Qs(r),m&4&&(li(3,r,r.return),Ic(3,r),li(5,r,r.return));break;case 1:Ks(o,r),Qs(r),m&512&&(Bn||d===null||Qr(d,d.return)),m&64&&Oa&&(r=r.updateQueue,r!==null&&(m=r.callbacks,m!==null&&(d=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var y=Ar;if(Ks(o,r),Qs(r),m&512&&(Bn||d===null||Qr(d,d.return)),m&4){var v=d!==null?d.memoizedState:null;if(m=r.memoizedState,d===null)if(m===null)if(r.stateNode===null){e:{m=r.type,d=r.memoizedProps,y=y.ownerDocument||y;t:switch(m){case"title":v=y.getElementsByTagName("title")[0],(!v||v[rt]||v[je]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=y.createElement(m),y.head.insertBefore(v,y.querySelector("head > title"))),gs(v,m,d),v[je]=r,at(v),m=v;break e;case"link":var O=o_("link","href",y).get(m+(d.href||""));if(O){for(var U=0;U<O.length;U++)if(v=O[U],v.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&v.getAttribute("rel")===(d.rel==null?null:d.rel)&&v.getAttribute("title")===(d.title==null?null:d.title)&&v.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){O.splice(U,1);break t}}v=y.createElement(m),gs(v,m,d),y.head.appendChild(v);break;case"meta":if(O=o_("meta","content",y).get(m+(d.content||""))){for(U=0;U<O.length;U++)if(v=O[U],v.getAttribute("content")===(d.content==null?null:""+d.content)&&v.getAttribute("name")===(d.name==null?null:d.name)&&v.getAttribute("property")===(d.property==null?null:d.property)&&v.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&v.getAttribute("charset")===(d.charSet==null?null:d.charSet)){O.splice(U,1);break t}}v=y.createElement(m),gs(v,m,d),y.head.appendChild(v);break;default:throw Error(s(468,m))}v[je]=r,at(v),m=v}r.stateNode=m}else l_(y,r.type,r.stateNode);else r.stateNode=i_(y,m,r.memoizedProps);else v!==m?(v===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):v.count--,m===null?l_(y,r.type,r.stateNode):i_(y,m,r.memoizedProps)):m===null&&r.stateNode!==null&&Pp(r,r.memoizedProps,d.memoizedProps)}break;case 27:Ks(o,r),Qs(r),m&512&&(Bn||d===null||Qr(d,d.return)),d!==null&&m&4&&Pp(r,r.memoizedProps,d.memoizedProps);break;case 5:if(Ks(o,r),Qs(r),m&512&&(Bn||d===null||Qr(d,d.return)),r.flags&32){y=r.stateNode;try{Ga(y,"")}catch(we){mn(r,r.return,we)}}m&4&&r.stateNode!=null&&(y=r.memoizedProps,Pp(r,y,d!==null?d.memoizedProps:y)),m&1024&&(Up=!0);break;case 6:if(Ks(o,r),Qs(r),m&4){if(r.stateNode===null)throw Error(s(162));m=r.memoizedProps,d=r.stateNode;try{d.nodeValue=m}catch(we){mn(r,r.return,we)}}break;case 3:if(mf=null,y=Ar,Ar=ff(o.containerInfo),Ks(o,r),Ar=y,Qs(r),m&4&&d!==null&&d.memoizedState.isDehydrated)try{lu(o.containerInfo)}catch(we){mn(r,r.return,we)}Up&&(Up=!1,mw(r));break;case 4:m=Ar,Ar=ff(r.stateNode.containerInfo),Ks(o,r),Qs(r),Ar=m;break;case 12:Ks(o,r),Qs(r);break;case 13:Ks(o,r),Qs(r),r.child.flags&8192&&r.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(qp=vt()),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,Bp(r,m)));break;case 22:y=r.memoizedState!==null;var Z=d!==null&&d.memoizedState!==null,ge=Oa,Ne=Bn;if(Oa=ge||y,Bn=Ne||Z,Ks(o,r),Bn=Ne,Oa=ge,Qs(r),m&8192)e:for(o=r.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(d===null||Z||Oa||Bn||fo(r)),d=null,o=r;;){if(o.tag===5||o.tag===26){if(d===null){Z=d=o;try{if(v=Z.stateNode,y)O=v.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{U=Z.stateNode;var Oe=Z.memoizedProps.style,ve=Oe!=null&&Oe.hasOwnProperty("display")?Oe.display:null;U.style.display=ve==null||typeof ve=="boolean"?"":(""+ve).trim()}}catch(we){mn(Z,Z.return,we)}}}else if(o.tag===6){if(d===null){Z=o;try{Z.stateNode.nodeValue=y?"":Z.memoizedProps}catch(we){mn(Z,Z.return,we)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break e;for(;o.sibling===null;){if(o.return===null||o.return===r)break e;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=r.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,Bp(r,d))));break;case 19:Ks(o,r),Qs(r),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,Bp(r,m)));break;case 30:break;case 21:break;default:Ks(o,r),Qs(r)}}function Qs(r){var o=r.flags;if(o&2){try{for(var d,m=r.return;m!==null;){if(iw(m)){d=m;break}m=m.return}if(d==null)throw Error(s(160));switch(d.tag){case 27:var y=d.stateNode,v=Lp(r);Zd(r,v,y);break;case 5:var O=d.stateNode;d.flags&32&&(Ga(O,""),d.flags&=-33);var U=Lp(r);Zd(r,U,O);break;case 3:case 4:var Z=d.stateNode.containerInfo,ge=Lp(r);zp(r,ge,Z);break;default:throw Error(s(161))}}catch(Ne){mn(r,r.return,Ne)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function mw(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;mw(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function ci(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)cw(r,o.alternate,o),o=o.sibling}function fo(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:li(4,o,o.return),fo(o);break;case 1:Qr(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&rw(o,o.return,d),fo(o);break;case 27:eu(o.stateNode);case 26:case 5:Qr(o,o.return),fo(o);break;case 22:o.memoizedState===null&&fo(o);break;case 30:fo(o);break;default:fo(o)}r=r.sibling}}function ui(r,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,y=r,v=o,O=v.flags;switch(v.tag){case 0:case 11:case 15:ui(y,v,d),Ic(4,v);break;case 1:if(ui(y,v,d),m=v,y=m.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ge){mn(m,m.return,ge)}if(m=v,y=m.updateQueue,y!==null){var U=m.stateNode;try{var Z=y.shared.hiddenCallbacks;if(Z!==null)for(y.shared.hiddenCallbacks=null,y=0;y<Z.length;y++)Vb(Z[y],U)}catch(ge){mn(m,m.return,ge)}}d&&O&64&&sw(v),qc(v,v.return);break;case 27:ow(v);case 26:case 5:ui(y,v,d),d&&m===null&&O&4&&aw(v),qc(v,v.return);break;case 12:ui(y,v,d);break;case 13:ui(y,v,d),d&&O&4&&fw(y,v);break;case 22:v.memoizedState===null&&ui(y,v,d),qc(v,v.return);break;case 30:break;default:ui(y,v,d)}o=o.sibling}}function Fp(r,o){var d=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==d&&(r!=null&&r.refCount++,d!=null&&Oc(d))}function $p(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Oc(r))}function Zr(r,o,d,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)pw(r,o,d,m),o=o.sibling}function pw(r,o,d,m){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Zr(r,o,d,m),y&2048&&Ic(9,o);break;case 1:Zr(r,o,d,m);break;case 3:Zr(r,o,d,m),y&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Oc(r)));break;case 12:if(y&2048){Zr(r,o,d,m),r=o.stateNode;try{var v=o.memoizedProps,O=v.id,U=v.onPostCommit;typeof U=="function"&&U(O,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(Z){mn(o,o.return,Z)}}else Zr(r,o,d,m);break;case 13:Zr(r,o,d,m);break;case 23:break;case 22:v=o.stateNode,O=o.alternate,o.memoizedState!==null?v._visibility&2?Zr(r,o,d,m):Wc(r,o):v._visibility&2?Zr(r,o,d,m):(v._visibility|=2,gl(r,o,d,m,(o.subtreeFlags&10256)!==0)),y&2048&&Fp(O,o);break;case 24:Zr(r,o,d,m),y&2048&&$p(o.alternate,o);break;default:Zr(r,o,d,m)}}function gl(r,o,d,m,y){for(y=y&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var v=r,O=o,U=d,Z=m,ge=O.flags;switch(O.tag){case 0:case 11:case 15:gl(v,O,U,Z,y),Ic(8,O);break;case 23:break;case 22:var Ne=O.stateNode;O.memoizedState!==null?Ne._visibility&2?gl(v,O,U,Z,y):Wc(v,O):(Ne._visibility|=2,gl(v,O,U,Z,y)),y&&ge&2048&&Fp(O.alternate,O);break;case 24:gl(v,O,U,Z,y),y&&ge&2048&&$p(O.alternate,O);break;default:gl(v,O,U,Z,y)}o=o.sibling}}function Wc(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=r,m=o,y=m.flags;switch(m.tag){case 22:Wc(d,m),y&2048&&Fp(m.alternate,m);break;case 24:Wc(d,m),y&2048&&$p(m.alternate,m);break;default:Wc(d,m)}o=o.sibling}}var Yc=8192;function xl(r){if(r.subtreeFlags&Yc)for(r=r.child;r!==null;)gw(r),r=r.sibling}function gw(r){switch(r.tag){case 26:xl(r),r.flags&Yc&&r.memoizedState!==null&&pO(Ar,r.memoizedState,r.memoizedProps);break;case 5:xl(r);break;case 3:case 4:var o=Ar;Ar=ff(r.stateNode.containerInfo),xl(r),Ar=o;break;case 22:r.memoizedState===null&&(o=r.alternate,o!==null&&o.memoizedState!==null?(o=Yc,Yc=16777216,xl(r),Yc=o):xl(r));break;default:xl(r)}}function xw(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function Xc(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var m=o[d];us=m,bw(m,r)}xw(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)yw(r),r=r.sibling}function yw(r){switch(r.tag){case 0:case 11:case 15:Xc(r),r.flags&2048&&li(9,r,r.return);break;case 3:Xc(r);break;case 12:Xc(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,Jd(r)):Xc(r);break;default:Xc(r)}}function Jd(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var m=o[d];us=m,bw(m,r)}xw(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:li(8,o,o.return),Jd(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,Jd(o));break;default:Jd(o)}r=r.sibling}}function bw(r,o){for(;us!==null;){var d=us;switch(d.tag){case 0:case 11:case 15:li(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Oc(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,us=m;else e:for(d=r;us!==null;){m=us;var y=m.sibling,v=m.return;if(uw(m),m===d){us=null;break e}if(y!==null){y.return=v,us=y;break e}us=v}}}var Ak={getCacheForType:function(r){var o=Ns(Jn),d=o.data.get(r);return d===void 0&&(d=r(),o.data.set(r,d)),d}},Dk=typeof WeakMap=="function"?WeakMap:Map,rn=0,yn=null,Vt=null,Gt=0,an=0,Zs=null,di=!1,yl=!1,Hp=!1,Da=0,zn=0,fi=0,ho=0,Vp=0,xr=0,bl=0,Gc=null,Bs=null,Ip=!1,qp=0,ef=1/0,tf=null,hi=null,ps=0,mi=null,vl=null,wl=0,Wp=0,Yp=null,vw=null,Kc=0,Xp=null;function Js(){if((rn&2)!==0&&Gt!==0)return Gt&-Gt;if(H.T!==null){var r=ll;return r!==0?r:tg()}return ee()}function ww(){xr===0&&(xr=(Gt&536870912)===0||sn?Xe():536870912);var r=gr.current;return r!==null&&(r.flags|=32),xr}function er(r,o,d){(r===yn&&(an===2||an===9)||r.cancelPendingCommit!==null)&&(_l(r,0),pi(r,Gt,xr,!1)),Nt(r,d),((rn&2)===0||r!==yn)&&(r===yn&&((rn&2)===0&&(ho|=d),zn===4&&pi(r,Gt,xr,!1)),Jr(r))}function _w(r,o,d){if((rn&6)!==0)throw Error(s(327));var m=!d&&(o&124)===0&&(o&r.expiredLanes)===0||Vn(r,o),y=m?Pk(r,o):Qp(r,o,!0),v=m;do{if(y===0){yl&&!m&&pi(r,o,0,!1);break}else{if(d=r.current.alternate,v&&!Rk(d)){y=Qp(r,o,!1),v=!1;continue}if(y===2){if(v=o,r.errorRecoveryDisabledLanes&v)var O=0;else O=r.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){o=O;e:{var U=r;y=Gc;var Z=U.current.memoizedState.isDehydrated;if(Z&&(_l(U,O).flags|=256),O=Qp(U,O,!1),O!==2){if(Hp&&!Z){U.errorRecoveryDisabledLanes|=v,ho|=v,y=4;break e}v=Bs,Bs=y,v!==null&&(Bs===null?Bs=v:Bs.push.apply(Bs,v))}y=O}if(v=!1,y!==2)continue}}if(y===1){_l(r,0),pi(r,o,0,!0);break}e:{switch(m=r,v=y,v){case 0:case 1:throw Error(s(345));case 4:if((o&4194048)!==o)break;case 6:pi(m,o,xr,!di);break e;case 2:Bs=null;break;case 3:case 5:break;default:throw Error(s(329))}if((o&62914560)===o&&(y=qp+300-vt(),10<y)){if(pi(m,o,xr,!di),is(m,0,!0)!==0)break e;m.timeoutHandle=Qw(jw.bind(null,m,d,Bs,tf,Ip,o,xr,ho,bl,di,v,2,-0,0),y);break e}jw(m,d,Bs,tf,Ip,o,xr,ho,bl,di,v,0,-0,0)}}break}while(!0);Jr(r)}function jw(r,o,d,m,y,v,O,U,Z,ge,Ne,Oe,ve,we){if(r.timeoutHandle=-1,Oe=o.subtreeFlags,(Oe&8192||(Oe&16785408)===16785408)&&(su={stylesheets:null,count:0,unsuspend:mO},gw(o),Oe=gO(),Oe!==null)){r.cancelPendingCommit=Oe(Ow.bind(null,r,o,v,d,m,y,O,U,Z,Ne,1,ve,we)),pi(r,v,O,!ge);return}Ow(r,o,v,d,m,y,O,U,Z)}function Rk(r){for(var o=r;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var y=d[m],v=y.getSnapshot;y=y.value;try{if(!Xs(v(),y))return!1}catch(O){return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function pi(r,o,d,m){o&=~Vp,o&=~ho,r.suspendedLanes|=o,r.pingedLanes&=~o,m&&(r.warmLanes|=o),m=r.expirationTimes;for(var y=o;0<y;){var v=31-yt(y),O=1<<v;m[v]=-1,y&=~O}d!==0&&Ge(r,d,o)}function nf(){return(rn&6)===0?(Qc(0),!1):!0}function Gp(){if(Vt!==null){if(an===0)var r=Vt.return;else r=Vt,Sa=io=null,fp(r),ml=null,$c=0,r=Vt;for(;r!==null;)nw(r.alternate,r),r=r.return;Vt=null}}function _l(r,o){var d=r.timeoutHandle;d!==-1&&(r.timeoutHandle=-1,Qk(d)),d=r.cancelPendingCommit,d!==null&&(r.cancelPendingCommit=null,d()),Gp(),yn=r,Vt=d=wa(r.current,null),Gt=o,an=0,Zs=null,di=!1,yl=Vn(r,o),Hp=!1,bl=xr=Vp=ho=fi=zn=0,Bs=Gc=null,Ip=!1,(o&8)!==0&&(o|=o&32);var m=r.entangledLanes;if(m!==0)for(r=r.entanglements,m&=o;0<m;){var y=31-yt(m),v=1<<y;o|=r[y],m&=~v}return Da=o,Sd(),d}function Sw(r,o){zt=null,H.H=Vd,o===Dc||o===Rd?(o=$b(),an=3):o===Ub?(o=$b(),an=4):an=o===Hv?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Zs=o,Vt===null&&(zn=1,Xd(r,fr(o,r.current)))}function Nw(){var r=H.H;return H.H=Vd,r===null?Vd:r}function Ew(){var r=H.A;return H.A=Ak,r}function Kp(){zn=4,di||(Gt&4194048)!==Gt&&gr.current!==null||(yl=!0),(fi&134217727)===0&&(ho&134217727)===0||yn===null||pi(yn,Gt,xr,!1)}function Qp(r,o,d){var m=rn;rn|=2;var y=Nw(),v=Ew();(yn!==r||Gt!==o)&&(tf=null,_l(r,o)),o=!1;var O=zn;e:do try{if(an!==0&&Vt!==null){var U=Vt,Z=Zs;switch(an){case 8:Gp(),O=6;break e;case 3:case 2:case 9:case 6:gr.current===null&&(o=!0);var ge=an;if(an=0,Zs=null,jl(r,U,Z,ge),d&&yl){O=0;break e}break;default:ge=an,an=0,Zs=null,jl(r,U,Z,ge)}}Mk(),O=zn;break}catch(Ne){Sw(r,Ne)}while(!0);return o&&r.shellSuspendCounter++,Sa=io=null,rn=m,H.H=y,H.A=v,Vt===null&&(yn=null,Gt=0,Sd()),O}function Mk(){for(;Vt!==null;)Tw(Vt)}function Pk(r,o){var d=rn;rn|=2;var m=Nw(),y=Ew();yn!==r||Gt!==o?(tf=null,ef=vt()+500,_l(r,o)):yl=Vn(r,o);e:do try{if(an!==0&&Vt!==null){o=Vt;var v=Zs;t:switch(an){case 1:an=0,Zs=null,jl(r,o,v,1);break;case 2:case 9:if(Bb(v)){an=0,Zs=null,Cw(o);break}o=function(){an!==2&&an!==9||yn!==r||(an=7),Jr(r)},v.then(o,o);break e;case 3:an=7;break e;case 4:an=5;break e;case 7:Bb(v)?(an=0,Zs=null,Cw(o)):(an=0,Zs=null,jl(r,o,v,7));break;case 5:var O=null;switch(Vt.tag){case 26:O=Vt.memoizedState;case 5:case 27:var U=Vt;if(!O||c_(O)){an=0,Zs=null;var Z=U.sibling;if(Z!==null)Vt=Z;else{var ge=U.return;ge!==null?(Vt=ge,sf(ge)):Vt=null}break t}}an=0,Zs=null,jl(r,o,v,5);break;case 6:an=0,Zs=null,jl(r,o,v,6);break;case 8:Gp(),zn=6;break e;default:throw Error(s(462))}}Lk();break}catch(Ne){Sw(r,Ne)}while(!0);return Sa=io=null,H.H=m,H.A=y,rn=d,Vt!==null?0:(yn=null,Gt=0,Sd(),zn)}function Lk(){for(;Vt!==null&&!ht();)Tw(Vt)}function Tw(r){var o=ew(r.alternate,r,Da);r.memoizedProps=r.pendingProps,o===null?sf(r):Vt=o}function Cw(r){var o=r,d=o.alternate;switch(o.tag){case 15:case 0:o=Xv(d,o,o.pendingProps,o.type,void 0,Gt);break;case 11:o=Xv(d,o,o.pendingProps,o.type.render,o.ref,Gt);break;case 5:fp(o);default:nw(d,o),o=Vt=kb(o,Da),o=ew(d,o,Da)}r.memoizedProps=r.pendingProps,o===null?sf(r):Vt=o}function jl(r,o,d,m){Sa=io=null,fp(o),ml=null,$c=0;var y=o.return;try{if(Nk(r,y,o,d,Gt)){zn=1,Xd(r,fr(d,r.current)),Vt=null;return}}catch(v){if(y!==null)throw Vt=y,v;zn=1,Xd(r,fr(d,r.current)),Vt=null;return}o.flags&32768?(sn||m===1?r=!0:yl||(Gt&536870912)!==0?r=!1:(di=r=!0,(m===2||m===9||m===3||m===6)&&(m=gr.current,m!==null&&m.tag===13&&(m.flags|=16384))),kw(o,r)):sf(o)}function sf(r){var o=r;do{if((o.flags&32768)!==0){kw(o,di);return}r=o.return;var d=Tk(o.alternate,o,Da);if(d!==null){Vt=d;return}if(o=o.sibling,o!==null){Vt=o;return}Vt=o=r}while(o!==null);zn===0&&(zn=5)}function kw(r,o){do{var d=Ck(r.alternate,r);if(d!==null){d.flags&=32767,Vt=d;return}if(d=r.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(r=r.sibling,r!==null)){Vt=r;return}Vt=r=d}while(r!==null);zn=6,Vt=null}function Ow(r,o,d,m,y,v,O,U,Z){r.cancelPendingCommit=null;do rf();while(ps!==0);if((rn&6)!==0)throw Error(s(327));if(o!==null){if(o===r.current)throw Error(s(177));if(v=o.lanes|o.childLanes,v|=$m,nn(r,d,v,O,U,Z),r===yn&&(Vt=yn=null,Gt=0),vl=o,mi=r,wl=d,Wp=v,Yp=y,vw=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Fk(de,function(){return Pw(),null})):(r.callbackNode=null,r.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=H.T,H.T=null,y=te.p,te.p=2,O=rn,rn|=4;try{kk(r,o,d)}finally{rn=O,te.p=y,H.T=m}}ps=1,Aw(),Dw(),Rw()}}function Aw(){if(ps===1){ps=0;var r=mi,o=vl,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=H.T,H.T=null;var m=te.p;te.p=2;var y=rn;rn|=4;try{hw(o,r);var v=cg,O=bb(r.containerInfo),U=v.focusedElem,Z=v.selectionRange;if(O!==U&&U&&U.ownerDocument&&yb(U.ownerDocument.documentElement,U)){if(Z!==null&&Lm(U)){var ge=Z.start,Ne=Z.end;if(Ne===void 0&&(Ne=ge),"selectionStart"in U)U.selectionStart=ge,U.selectionEnd=Math.min(Ne,U.value.length);else{var Oe=U.ownerDocument||document,ve=Oe&&Oe.defaultView||window;if(ve.getSelection){var we=ve.getSelection(),bt=U.textContent.length,mt=Math.min(Z.start,bt),fn=Z.end===void 0?mt:Math.min(Z.end,bt);!we.extend&&mt>fn&&(O=fn,fn=mt,mt=O);var ue=xb(U,mt),ae=xb(U,fn);if(ue&&ae&&(we.rangeCount!==1||we.anchorNode!==ue.node||we.anchorOffset!==ue.offset||we.focusNode!==ae.node||we.focusOffset!==ae.offset)){var pe=Oe.createRange();pe.setStart(ue.node,ue.offset),we.removeAllRanges(),mt>fn?(we.addRange(pe),we.extend(ae.node,ae.offset)):(pe.setEnd(ae.node,ae.offset),we.addRange(pe))}}}}for(Oe=[],we=U;we=we.parentNode;)we.nodeType===1&&Oe.push({element:we,left:we.scrollLeft,top:we.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<Oe.length;U++){var Te=Oe[U];Te.element.scrollLeft=Te.left,Te.element.scrollTop=Te.top}}xf=!!lg,cg=lg=null}finally{rn=y,te.p=m,H.T=d}}r.current=o,ps=2}}function Dw(){if(ps===2){ps=0;var r=mi,o=vl,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=H.T,H.T=null;var m=te.p;te.p=2;var y=rn;rn|=4;try{cw(r,o.alternate,o)}finally{rn=y,te.p=m,H.T=d}}ps=3}}function Rw(){if(ps===4||ps===3){ps=0,$t();var r=mi,o=vl,d=wl,m=vw;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?ps=5:(ps=0,vl=mi=null,Mw(r,r.pendingLanes));var y=r.pendingLanes;if(y===0&&(hi=null),Kt(d),o=o.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Fe,o,void 0,(o.current.flags&128)===128)}catch(Z){}if(m!==null){o=H.T,y=te.p,te.p=2,H.T=null;try{for(var v=r.onRecoverableError,O=0;O<m.length;O++){var U=m[O];v(U.value,{componentStack:U.stack})}}finally{H.T=o,te.p=y}}(wl&3)!==0&&rf(),Jr(r),y=r.pendingLanes,(d&4194090)!==0&&(y&42)!==0?r===Xp?Kc++:(Kc=0,Xp=r):Kc=0,Qc(0)}}function Mw(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,Oc(o)))}function rf(r){return Aw(),Dw(),Rw(),Pw()}function Pw(){if(ps!==5)return!1;var r=mi,o=Wp;Wp=0;var d=Kt(wl),m=H.T,y=te.p;try{te.p=32>d?32:d,H.T=null,d=Yp,Yp=null;var v=mi,O=wl;if(ps=0,vl=mi=null,wl=0,(rn&6)!==0)throw Error(s(331));var U=rn;if(rn|=4,yw(v.current),pw(v,v.current,O,d),rn=U,Qc(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Fe,v)}catch(Z){}return!0}finally{te.p=y,H.T=m,Mw(r,o)}}function Lw(r,o,d){o=fr(d,o),o=Ep(r.stateNode,o,2),r=ri(r,o,2),r!==null&&(Nt(r,2),Jr(r))}function mn(r,o,d){if(r.tag===3)Lw(r,r,d);else for(;o!==null;){if(o.tag===3){Lw(o,r,d);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(hi===null||!hi.has(m))){r=fr(d,r),d=Fv(2),m=ri(o,d,2),m!==null&&($v(d,m,o,r),Nt(m,2),Jr(m));break}}o=o.return}}function Zp(r,o,d){var m=r.pingCache;if(m===null){m=r.pingCache=new Dk;var y=new Set;m.set(o,y)}else y=m.get(o),y===void 0&&(y=new Set,m.set(o,y));y.has(d)||(Hp=!0,y.add(d),r=zk.bind(null,r,o,d),o.then(r,r))}function zk(r,o,d){var m=r.pingCache;m!==null&&m.delete(o),r.pingedLanes|=r.suspendedLanes&d,r.warmLanes&=~d,yn===r&&(Gt&d)===d&&(zn===4||zn===3&&(Gt&62914560)===Gt&&300>vt()-qp?(rn&2)===0&&_l(r,0):Vp|=d,bl===Gt&&(bl=0)),Jr(r)}function zw(r,o){o===0&&(o=Lt()),r=rl(r,o),r!==null&&(Nt(r,o),Jr(r))}function Uk(r){var o=r.memoizedState,d=0;o!==null&&(d=o.retryLane),zw(r,d)}function Bk(r,o){var d=0;switch(r.tag){case 13:var m=r.stateNode,y=r.memoizedState;y!==null&&(d=y.retryLane);break;case 19:m=r.stateNode;break;case 22:m=r.stateNode._retryCache;break;default:throw Error(s(314))}m!==null&&m.delete(o),zw(r,d)}function Fk(r,o){return pt(r,o)}var af=null,Sl=null,Jp=!1,of=!1,eg=!1,mo=0;function Jr(r){r!==Sl&&r.next===null&&(Sl===null?af=Sl=r:Sl=Sl.next=r),of=!0,Jp||(Jp=!0,Hk())}function Qc(r,o){if(!eg&&of){eg=!0;do for(var d=!1,m=af;m!==null;){if(r!==0){var y=m.pendingLanes;if(y===0)var v=0;else{var O=m.suspendedLanes,U=m.pingedLanes;v=(1<<31-yt(42|r)+1)-1,v&=y&~(O&~U),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(d=!0,$w(m,v))}else v=Gt,v=is(m,m===yn?v:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(v&3)===0||Vn(m,v)||(d=!0,$w(m,v));m=m.next}while(d);eg=!1}}function $k(){Uw()}function Uw(){of=Jp=!1;var r=0;mo!==0&&(Kk()&&(r=mo),mo=0);for(var o=vt(),d=null,m=af;m!==null;){var y=m.next,v=Bw(m,o);v===0?(m.next=null,d===null?af=y:d.next=y,y===null&&(Sl=d)):(d=m,(r!==0||(v&3)!==0)&&(of=!0)),m=y}Qc(r)}function Bw(r,o){for(var d=r.suspendedLanes,m=r.pingedLanes,y=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var O=31-yt(v),U=1<<O,Z=y[O];Z===-1?((U&d)===0||(U&m)!==0)&&(y[O]=fs(U,o)):Z<=o&&(r.expiredLanes|=U),v&=~U}if(o=yn,d=Gt,d=is(r,r===o?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m=r.callbackNode,d===0||r===o&&(an===2||an===9)||r.cancelPendingCommit!==null)return m!==null&&m!==null&&Pe(m),r.callbackNode=null,r.callbackPriority=0;if((d&3)===0||Vn(r,d)){if(o=d&-d,o===r.callbackPriority)return o;switch(m!==null&&Pe(m),Kt(d)){case 2:case 8:d=X;break;case 32:d=de;break;case 268435456:d=Se;break;default:d=de}return m=Fw.bind(null,r),d=pt(d,m),r.callbackPriority=o,r.callbackNode=d,o}return m!==null&&m!==null&&Pe(m),r.callbackPriority=2,r.callbackNode=null,2}function Fw(r,o){if(ps!==0&&ps!==5)return r.callbackNode=null,r.callbackPriority=0,null;var d=r.callbackNode;if(rf()&&r.callbackNode!==d)return null;var m=Gt;return m=is(r,r===yn?m:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m===0?null:(_w(r,m,o),Bw(r,vt()),r.callbackNode!=null&&r.callbackNode===d?Fw.bind(null,r):null)}function $w(r,o){if(rf())return null;_w(r,o,!0)}function Hk(){Zk(function(){(rn&6)!==0?pt(St,$k):Uw()})}function tg(){return mo===0&&(mo=Xe()),mo}function Hw(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Xo(""+r)}function Vw(r,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,r.id&&d.setAttribute("form",r.id),o.parentNode.insertBefore(d,o),r=new FormData(r),d.parentNode.removeChild(d),r}function Vk(r,o,d,m,y){if(o==="submit"&&d&&d.stateNode===y){var v=Hw((y[Ae]||null).action),O=m.submitter;O&&(o=(o=O[Ae]||null)?Hw(o.formAction):O.getAttribute("formAction"),o!==null&&(v=o,O=null));var U=new Qo("action","action",null,m,y);r.push({event:U,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(mo!==0){var Z=O?Vw(y,O):new FormData(y);wp(d,{pending:!0,data:Z,method:y.method,action:v},null,Z)}}else typeof v=="function"&&(U.preventDefault(),Z=O?Vw(y,O):new FormData(y),wp(d,{pending:!0,data:Z,method:y.method,action:v},v,Z))},currentTarget:y}]})}}for(var ng=0;ng<Fm.length;ng++){var sg=Fm[ng],Ik=sg.toLowerCase(),qk=sg[0].toUpperCase()+sg.slice(1);Or(Ik,"on"+qk)}Or(_b,"onAnimationEnd"),Or(jb,"onAnimationIteration"),Or(Sb,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(lk,"onTransitionRun"),Or(ck,"onTransitionStart"),Or(uk,"onTransitionCancel"),Or(Nb,"onTransitionEnd"),Rn("onMouseEnter",["mouseout","mouseover"]),Rn("onMouseLeave",["mouseout","mouseover"]),Rn("onPointerEnter",["pointerout","pointerover"]),Rn("onPointerLeave",["pointerout","pointerover"]),jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zc));function Iw(r,o){o=(o&4)!==0;for(var d=0;d<r.length;d++){var m=r[d],y=m.event;m=m.listeners;e:{var v=void 0;if(o)for(var O=m.length-1;0<=O;O--){var U=m[O],Z=U.instance,ge=U.currentTarget;if(U=U.listener,Z!==v&&y.isPropagationStopped())break e;v=U,y.currentTarget=ge;try{v(y)}catch(Ne){Yd(Ne)}y.currentTarget=null,v=Z}else for(O=0;O<m.length;O++){if(U=m[O],Z=U.instance,ge=U.currentTarget,U=U.listener,Z!==v&&y.isPropagationStopped())break e;v=U,y.currentTarget=ge;try{v(y)}catch(Ne){Yd(Ne)}y.currentTarget=null,v=Z}}}}function It(r,o){var d=o[Ze];d===void 0&&(d=o[Ze]=new Set);var m=r+"__bubble";d.has(m)||(qw(o,r,2,!1),d.add(m))}function rg(r,o,d){var m=0;o&&(m|=4),qw(d,r,m,o)}var lf="_reactListening"+Math.random().toString(36).slice(2);function ag(r){if(!r[lf]){r[lf]=!0,Et.forEach(function(d){d!=="selectionchange"&&(Wk.has(d)||rg(d,!1,r),rg(d,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[lf]||(o[lf]=!0,rg("selectionchange",!1,o))}}function qw(r,o,d,m){switch(p_(o)){case 2:var y=bO;break;case 8:y=vO;break;default:y=bg}d=y.bind(null,o,d,r),y=void 0,!Go||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),m?y!==void 0?r.addEventListener(o,d,{capture:!0,passive:y}):r.addEventListener(o,d,!0):y!==void 0?r.addEventListener(o,d,{passive:y}):r.addEventListener(o,d,!1)}function ig(r,o,d,m,y){var v=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var O=m.tag;if(O===3||O===4){var U=m.stateNode.containerInfo;if(U===y)break;if(O===4)for(O=m.return;O!==null;){var Z=O.tag;if((Z===3||Z===4)&&O.stateNode.containerInfo===y)return;O=O.return}for(;U!==null;){if(O=Ct(U),O===null)return;if(Z=O.tag,Z===5||Z===6||Z===26||Z===27){m=v=O;continue e}U=U.parentNode}}m=m.return}vc(function(){var ge=v,Ne=Xi(d),Oe=[];e:{var ve=Eb.get(r);if(ve!==void 0){var we=Qo,bt=r;switch(r){case"keypress":if(Za(d)===0)break e;case"keydown":case"keyup":we=Xr;break;case"focusin":bt="focus",we=ot;break;case"focusout":bt="blur",we=ot;break;case"beforeblur":case"afterblur":we=ot;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=ce;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=be;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=_d;break;case _b:case jb:case Sb:we=We;break;case Nb:we=qC;break;case"scroll":case"scrollend":we=Pn;break;case"wheel":we=YC;break;case"copy":case"cut":case"paste":we=cn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=Zo;break;case"toggle":case"beforetoggle":we=GC}var mt=(o&4)!==0,fn=!mt&&(r==="scroll"||r==="scrollend"),ue=mt?ve!==null?ve+"Capture":null:ve;mt=[];for(var ae=ge,pe;ae!==null;){var Te=ae;if(pe=Te.stateNode,Te=Te.tag,Te!==5&&Te!==26&&Te!==27||pe===null||ue===null||(Te=Qa(ae,ue),Te!=null&&mt.push(Jc(ae,Te,pe))),fn)break;ae=ae.return}0<mt.length&&(ve=new we(ve,bt,null,d,Ne),Oe.push({event:ve,listeners:mt}))}}if((o&7)===0){e:{if(ve=r==="mouseover"||r==="pointerover",we=r==="mouseout"||r==="pointerout",ve&&d!==yc&&(bt=d.relatedTarget||d.fromElement)&&(Ct(bt)||bt[He]))break e;if((we||ve)&&(ve=Ne.window===Ne?Ne:(ve=Ne.ownerDocument)?ve.defaultView||ve.parentWindow:window,we?(bt=d.relatedTarget||d.toElement,we=ge,bt=bt?Ct(bt):null,bt!==null&&(fn=i(bt),mt=bt.tag,bt!==fn||mt!==5&&mt!==27&&mt!==6)&&(bt=null)):(we=null,bt=ge),we!==bt)){if(mt=ce,Te="onMouseLeave",ue="onMouseEnter",ae="mouse",(r==="pointerout"||r==="pointerover")&&(mt=Zo,Te="onPointerLeave",ue="onPointerEnter",ae="pointer"),fn=we==null?ve:Dn(we),pe=bt==null?ve:Dn(bt),ve=new mt(Te,ae+"leave",we,d,Ne),ve.target=fn,ve.relatedTarget=pe,Te=null,Ct(Ne)===ge&&(mt=new mt(ue,ae+"enter",bt,d,Ne),mt.target=pe,mt.relatedTarget=fn,Te=mt),fn=Te,we&&bt)t:{for(mt=we,ue=bt,ae=0,pe=mt;pe;pe=Nl(pe))ae++;for(pe=0,Te=ue;Te;Te=Nl(Te))pe++;for(;0<ae-pe;)mt=Nl(mt),ae--;for(;0<pe-ae;)ue=Nl(ue),pe--;for(;ae--;){if(mt===ue||ue!==null&&mt===ue.alternate)break t;mt=Nl(mt),ue=Nl(ue)}mt=null}else mt=null;we!==null&&Ww(Oe,ve,we,mt,!1),bt!==null&&fn!==null&&Ww(Oe,fn,bt,mt,!0)}}e:{if(ve=ge?Dn(ge):window,we=ve.nodeName&&ve.nodeName.toLowerCase(),we==="select"||we==="input"&&ve.type==="file")var Je=db;else if(cb(ve))if(fb)Je=ak;else{Je=sk;var Bt=nk}else we=ve.nodeName,!we||we.toLowerCase()!=="input"||ve.type!=="checkbox"&&ve.type!=="radio"?ge&&Yi(ge.elementType)&&(Je=db):Je=rk;if(Je&&(Je=Je(r,ge))){ub(Oe,Je,d,Ne);break e}Bt&&Bt(r,ve,ge),r==="focusout"&&ge&&ve.type==="number"&&ge.memoizedProps.value!=null&&pc(ve,"number",ve.value)}switch(Bt=ge?Dn(ge):window,r){case"focusin":(cb(Bt)||Bt.contentEditable==="true")&&(tl=Bt,zm=ge,Nc=null);break;case"focusout":Nc=zm=tl=null;break;case"mousedown":Um=!0;break;case"contextmenu":case"mouseup":case"dragend":Um=!1,vb(Oe,d,Ne);break;case"selectionchange":if(ok)break;case"keydown":case"keyup":vb(Oe,d,Ne)}var it;if(Rm)e:{switch(r){case"compositionstart":var xt="onCompositionStart";break e;case"compositionend":xt="onCompositionEnd";break e;case"compositionupdate":xt="onCompositionUpdate";break e}xt=void 0}else el?ob(r,d)&&(xt="onCompositionEnd"):r==="keydown"&&d.keyCode===229&&(xt="onCompositionStart");xt&&(rb&&d.locale!=="ko"&&(el||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&el&&(it=Qi()):(Ys=Ne,Ls="value"in Ys?Ys.value:Ys.textContent,el=!0)),Bt=cf(ge,xt),0<Bt.length&&(xt=new dt(xt,r,null,d,Ne),Oe.push({event:xt,listeners:Bt}),it?xt.data=it:(it=lb(d),it!==null&&(xt.data=it)))),(it=QC?ZC(r,d):JC(r,d))&&(xt=cf(ge,"onBeforeInput"),0<xt.length&&(Bt=new dt("onBeforeInput","beforeinput",null,d,Ne),Oe.push({event:Bt,listeners:xt}),Bt.data=it)),Vk(Oe,r,ge,d,Ne)}Iw(Oe,o)})}function Jc(r,o,d){return{instance:r,listener:o,currentTarget:d}}function cf(r,o){for(var d=o+"Capture",m=[];r!==null;){var y=r,v=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||v===null||(y=Qa(r,d),y!=null&&m.unshift(Jc(r,y,v)),y=Qa(r,o),y!=null&&m.push(Jc(r,y,v))),r.tag===3)return m;r=r.return}return[]}function Nl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Ww(r,o,d,m,y){for(var v=o._reactName,O=[];d!==null&&d!==m;){var U=d,Z=U.alternate,ge=U.stateNode;if(U=U.tag,Z!==null&&Z===m)break;U!==5&&U!==26&&U!==27||ge===null||(Z=ge,y?(ge=Qa(d,v),ge!=null&&O.unshift(Jc(d,ge,Z))):y||(ge=Qa(d,v),ge!=null&&O.push(Jc(d,ge,Z)))),d=d.return}O.length!==0&&r.push({event:o,listeners:O})}var Yk=/\r\n?/g,Xk=/\u0000|\uFFFD/g;function Yw(r){return(typeof r=="string"?r:""+r).replace(Yk,`
`).replace(Xk,"")}function Xw(r,o){return o=Yw(o),Yw(r)===o}function uf(){}function dn(r,o,d,m,y,v){switch(d){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||Ga(r,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&Ga(r,""+m);break;case"className":ur(r,"class",m);break;case"tabIndex":ur(r,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":ur(r,d,m);break;case"style":xc(r,m,v);break;case"data":if(o!=="object"){ur(r,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||d!=="href")){r.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(d);break}m=Xo(""+m),r.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){r.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(d==="formAction"?(o!=="input"&&dn(r,o,"name",y.name,y,null),dn(r,o,"formEncType",y.formEncType,y,null),dn(r,o,"formMethod",y.formMethod,y,null),dn(r,o,"formTarget",y.formTarget,y,null)):(dn(r,o,"encType",y.encType,y,null),dn(r,o,"method",y.method,y,null),dn(r,o,"target",y.target,y,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(d);break}m=Xo(""+m),r.setAttribute(d,m);break;case"onClick":m!=null&&(r.onclick=uf);break;case"onScroll":m!=null&&It("scroll",r);break;case"onScrollEnd":m!=null&&It("scrollend",r);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(s(61));if(d=m.__html,d!=null){if(y.children!=null)throw Error(s(60));r.innerHTML=d}}break;case"multiple":r.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":r.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){r.removeAttribute("xlink:href");break}d=Xo(""+m),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(d,""+m):r.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(d,""):r.removeAttribute(d);break;case"capture":case"download":m===!0?r.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(d,m):r.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?r.setAttribute(d,m):r.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?r.removeAttribute(d):r.setAttribute(d,m);break;case"popover":It("beforetoggle",r),It("toggle",r),js(r,"popover",m);break;case"xlinkActuate":Rt(r,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Rt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Rt(r,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Rt(r,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Rt(r,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Rt(r,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Rt(r,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Rt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Rt(r,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":js(r,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Yo.get(d)||d,js(r,d,m))}}function og(r,o,d,m,y,v){switch(d){case"style":xc(r,m,v);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(s(61));if(d=m.__html,d!=null){if(y.children!=null)throw Error(s(60));r.innerHTML=d}}break;case"children":typeof m=="string"?Ga(r,m):(typeof m=="number"||typeof m=="bigint")&&Ga(r,""+m);break;case"onScroll":m!=null&&It("scroll",r);break;case"onScrollEnd":m!=null&&It("scrollend",r);break;case"onClick":m!=null&&(r.onclick=uf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qt.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(y=d.endsWith("Capture"),o=d.slice(2,y?d.length-7:void 0),v=r[Ae]||null,v=v!=null?v[d]:null,typeof v=="function"&&r.removeEventListener(o,v,y),typeof m=="function")){typeof v!="function"&&v!==null&&(d in r?r[d]=null:r.hasAttribute(d)&&r.removeAttribute(d)),r.addEventListener(o,m,y);break e}d in r?r[d]=m:m===!0?r.setAttribute(d,""):js(r,d,m)}}}function gs(r,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",r),It("load",r);var m=!1,y=!1,v;for(v in d)if(d.hasOwnProperty(v)){var O=d[v];if(O!=null)switch(v){case"src":m=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:dn(r,o,v,O,d,null)}}y&&dn(r,o,"srcSet",d.srcSet,d,null),m&&dn(r,o,"src",d.src,d,null);return;case"input":It("invalid",r);var U=v=O=y=null,Z=null,ge=null;for(m in d)if(d.hasOwnProperty(m)){var Ne=d[m];if(Ne!=null)switch(m){case"name":y=Ne;break;case"type":O=Ne;break;case"checked":Z=Ne;break;case"defaultChecked":ge=Ne;break;case"value":v=Ne;break;case"defaultValue":U=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(s(137,o));break;default:dn(r,o,m,Ne,d,null)}}yd(r,v,U,Z,ge,O,y,!1),Ii(r);return;case"select":It("invalid",r),m=O=v=null;for(y in d)if(d.hasOwnProperty(y)&&(U=d[y],U!=null))switch(y){case"value":v=U;break;case"defaultValue":O=U;break;case"multiple":m=U;default:dn(r,o,y,U,d,null)}o=v,d=O,r.multiple=!!m,o!=null?ya(r,!!m,o,!1):d!=null&&ya(r,!!m,d,!0);return;case"textarea":It("invalid",r),v=y=m=null;for(O in d)if(d.hasOwnProperty(O)&&(U=d[O],U!=null))switch(O){case"value":m=U;break;case"defaultValue":y=U;break;case"children":v=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(91));break;default:dn(r,o,O,U,d,null)}gc(r,m,y,v),Ii(r);return;case"option":for(Z in d)if(d.hasOwnProperty(Z)&&(m=d[Z],m!=null))switch(Z){case"selected":r.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:dn(r,o,Z,m,d,null)}return;case"dialog":It("beforetoggle",r),It("toggle",r),It("cancel",r),It("close",r);break;case"iframe":case"object":It("load",r);break;case"video":case"audio":for(m=0;m<Zc.length;m++)It(Zc[m],r);break;case"image":It("error",r),It("load",r);break;case"details":It("toggle",r);break;case"embed":case"source":case"link":It("error",r),It("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ge in d)if(d.hasOwnProperty(ge)&&(m=d[ge],m!=null))switch(ge){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:dn(r,o,ge,m,d,null)}return;default:if(Yi(o)){for(Ne in d)d.hasOwnProperty(Ne)&&(m=d[Ne],m!==void 0&&og(r,o,Ne,m,d,void 0));return}}for(U in d)d.hasOwnProperty(U)&&(m=d[U],m!=null&&dn(r,o,U,m,d,null))}function Gk(r,o,d,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,v=null,O=null,U=null,Z=null,ge=null,Ne=null;for(we in d){var Oe=d[we];if(d.hasOwnProperty(we)&&Oe!=null)switch(we){case"checked":break;case"value":break;case"defaultValue":Z=Oe;default:m.hasOwnProperty(we)||dn(r,o,we,null,m,Oe)}}for(var ve in m){var we=m[ve];if(Oe=d[ve],m.hasOwnProperty(ve)&&(we!=null||Oe!=null))switch(ve){case"type":v=we;break;case"name":y=we;break;case"checked":ge=we;break;case"defaultChecked":Ne=we;break;case"value":O=we;break;case"defaultValue":U=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(s(137,o));break;default:we!==Oe&&dn(r,o,ve,we,m,Oe)}}mc(r,O,U,Z,ge,Ne,v,y);return;case"select":we=O=U=ve=null;for(v in d)if(Z=d[v],d.hasOwnProperty(v)&&Z!=null)switch(v){case"value":break;case"multiple":we=Z;default:m.hasOwnProperty(v)||dn(r,o,v,null,m,Z)}for(y in m)if(v=m[y],Z=d[y],m.hasOwnProperty(y)&&(v!=null||Z!=null))switch(y){case"value":ve=v;break;case"defaultValue":U=v;break;case"multiple":O=v;default:v!==Z&&dn(r,o,y,v,m,Z)}o=U,d=O,m=we,ve!=null?ya(r,!!d,ve,!1):!!m!=!!d&&(o!=null?ya(r,!!d,o,!0):ya(r,!!d,d?[]:"",!1));return;case"textarea":we=ve=null;for(U in d)if(y=d[U],d.hasOwnProperty(U)&&y!=null&&!m.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:dn(r,o,U,null,m,y)}for(O in m)if(y=m[O],v=d[O],m.hasOwnProperty(O)&&(y!=null||v!=null))switch(O){case"value":ve=y;break;case"defaultValue":we=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(s(91));break;default:y!==v&&dn(r,o,O,y,m,v)}Wi(r,ve,we);return;case"option":for(var bt in d)if(ve=d[bt],d.hasOwnProperty(bt)&&ve!=null&&!m.hasOwnProperty(bt))switch(bt){case"selected":r.selected=!1;break;default:dn(r,o,bt,null,m,ve)}for(Z in m)if(ve=m[Z],we=d[Z],m.hasOwnProperty(Z)&&ve!==we&&(ve!=null||we!=null))switch(Z){case"selected":r.selected=ve&&typeof ve!="function"&&typeof ve!="symbol";break;default:dn(r,o,Z,ve,m,we)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in d)ve=d[mt],d.hasOwnProperty(mt)&&ve!=null&&!m.hasOwnProperty(mt)&&dn(r,o,mt,null,m,ve);for(ge in m)if(ve=m[ge],we=d[ge],m.hasOwnProperty(ge)&&ve!==we&&(ve!=null||we!=null))switch(ge){case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(s(137,o));break;default:dn(r,o,ge,ve,m,we)}return;default:if(Yi(o)){for(var fn in d)ve=d[fn],d.hasOwnProperty(fn)&&ve!==void 0&&!m.hasOwnProperty(fn)&&og(r,o,fn,void 0,m,ve);for(Ne in m)ve=m[Ne],we=d[Ne],!m.hasOwnProperty(Ne)||ve===we||ve===void 0&&we===void 0||og(r,o,Ne,ve,m,we);return}}for(var ue in d)ve=d[ue],d.hasOwnProperty(ue)&&ve!=null&&!m.hasOwnProperty(ue)&&dn(r,o,ue,null,m,ve);for(Oe in m)ve=m[Oe],we=d[Oe],!m.hasOwnProperty(Oe)||ve===we||ve==null&&we==null||dn(r,o,Oe,ve,m,we)}var lg=null,cg=null;function df(r){return r.nodeType===9?r:r.ownerDocument}function Gw(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kw(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function ug(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var dg=null;function Kk(){var r=window.event;return r&&r.type==="popstate"?r===dg?!1:(dg=r,!0):(dg=null,!1)}var Qw=typeof setTimeout=="function"?setTimeout:void 0,Qk=typeof clearTimeout=="function"?clearTimeout:void 0,Zw=typeof Promise=="function"?Promise:void 0,Zk=typeof queueMicrotask=="function"?queueMicrotask:typeof Zw!="undefined"?function(r){return Zw.resolve(null).then(r).catch(Jk)}:Qw;function Jk(r){setTimeout(function(){throw r})}function gi(r){return r==="head"}function Jw(r,o){var d=o,m=0,y=0;do{var v=d.nextSibling;if(r.removeChild(d),v&&v.nodeType===8)if(d=v.data,d==="/$"){if(0<m&&8>m){d=m;var O=r.ownerDocument;if(d&1&&eu(O.documentElement),d&2&&eu(O.body),d&4)for(d=O.head,eu(d),O=d.firstChild;O;){var U=O.nextSibling,Z=O.nodeName;O[rt]||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&O.rel.toLowerCase()==="stylesheet"||d.removeChild(O),O=U}}if(y===0){r.removeChild(v),lu(o);return}y--}else d==="$"||d==="$?"||d==="$!"?y++:m=d.charCodeAt(0)-48;else m=0;d=v}while(d);lu(o)}function fg(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":fg(d),wt(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}r.removeChild(d)}}function eO(r,o,d,m){for(;r.nodeType===1;){var y=d;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(m){if(!r[rt])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==y.rel||r.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||r.getAttribute("title")!==(y.title==null?null:y.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(y.src==null?null:y.src)||r.getAttribute("type")!==(y.type==null?null:y.type)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var v=y.name==null?null:""+y.name;if(y.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=Dr(r.nextSibling),r===null)break}return null}function tO(r,o,d){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!d||(r=Dr(r.nextSibling),r===null))return null;return r}function hg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function nO(r,o){var d=r.ownerDocument;if(r.data!=="$?"||d.readyState==="complete")o();else{var m=function(){o(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),r._reactRetry=m}}function Dr(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return r}var mg=null;function e_(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var d=r.data;if(d==="$"||d==="$!"||d==="$?"){if(o===0)return r;o--}else d==="/$"&&o++}r=r.previousSibling}return null}function t_(r,o,d){switch(o=df(d),r){case"html":if(r=o.documentElement,!r)throw Error(s(452));return r;case"head":if(r=o.head,!r)throw Error(s(453));return r;case"body":if(r=o.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function eu(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);wt(r)}var yr=new Map,n_=new Set;function ff(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ra=te.d;te.d={f:sO,r:rO,D:aO,C:iO,L:oO,m:lO,X:uO,S:cO,M:dO};function sO(){var r=Ra.f(),o=nf();return r||o}function rO(r){var o=hn(r);o!==null&&o.tag===5&&o.type==="form"?_v(o):Ra.r(r)}var El=typeof document=="undefined"?null:document;function s_(r,o,d){var m=El;if(m&&typeof o=="string"&&o){var y=Ms(o);y='link[rel="'+r+'"][href="'+y+'"]',typeof d=="string"&&(y+='[crossorigin="'+d+'"]'),n_.has(y)||(n_.add(y),r={rel:r,crossOrigin:d,href:o},m.querySelector(y)===null&&(o=m.createElement("link"),gs(o,"link",r),at(o),m.head.appendChild(o)))}}function aO(r){Ra.D(r),s_("dns-prefetch",r,null)}function iO(r,o){Ra.C(r,o),s_("preconnect",r,o)}function oO(r,o,d){Ra.L(r,o,d);var m=El;if(m&&r&&o){var y='link[rel="preload"][as="'+Ms(o)+'"]';o==="image"&&d&&d.imageSrcSet?(y+='[imagesrcset="'+Ms(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(y+='[imagesizes="'+Ms(d.imageSizes)+'"]')):y+='[href="'+Ms(r)+'"]';var v=y;switch(o){case"style":v=Tl(r);break;case"script":v=Cl(r)}yr.has(v)||(r=p({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:r,as:o},d),yr.set(v,r),m.querySelector(y)!==null||o==="style"&&m.querySelector(tu(v))||o==="script"&&m.querySelector(nu(v))||(o=m.createElement("link"),gs(o,"link",r),at(o),m.head.appendChild(o)))}}function lO(r,o){Ra.m(r,o);var d=El;if(d&&r){var m=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+Ms(m)+'"][href="'+Ms(r)+'"]',v=y;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Cl(r)}if(!yr.has(v)&&(r=p({rel:"modulepreload",href:r},o),yr.set(v,r),d.querySelector(y)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(nu(v)))return}m=d.createElement("link"),gs(m,"link",r),at(m),d.head.appendChild(m)}}}function cO(r,o,d){Ra.S(r,o,d);var m=El;if(m&&r){var y=ln(m).hoistableStyles,v=Tl(r);o=o||"default";var O=y.get(v);if(!O){var U={loading:0,preload:null};if(O=m.querySelector(tu(v)))U.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":o},d),(d=yr.get(v))&&pg(r,d);var Z=O=m.createElement("link");at(Z),gs(Z,"link",r),Z._p=new Promise(function(ge,Ne){Z.onload=ge,Z.onerror=Ne}),Z.addEventListener("load",function(){U.loading|=1}),Z.addEventListener("error",function(){U.loading|=2}),U.loading|=4,hf(O,o,m)}O={type:"stylesheet",instance:O,count:1,state:U},y.set(v,O)}}}function uO(r,o){Ra.X(r,o);var d=El;if(d&&r){var m=ln(d).hoistableScripts,y=Cl(r),v=m.get(y);v||(v=d.querySelector(nu(y)),v||(r=p({src:r,async:!0},o),(o=yr.get(y))&&gg(r,o),v=d.createElement("script"),at(v),gs(v,"link",r),d.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},m.set(y,v))}}function dO(r,o){Ra.M(r,o);var d=El;if(d&&r){var m=ln(d).hoistableScripts,y=Cl(r),v=m.get(y);v||(v=d.querySelector(nu(y)),v||(r=p({src:r,async:!0,type:"module"},o),(o=yr.get(y))&&gg(r,o),v=d.createElement("script"),at(v),gs(v,"link",r),d.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},m.set(y,v))}}function r_(r,o,d,m){var y=(y=xe.current)?ff(y):null;if(!y)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=Tl(d.href),d=ln(y).hoistableStyles,m=d.get(o),m||(m={type:"style",instance:null,count:0,state:null},d.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){r=Tl(d.href);var v=ln(y).hoistableStyles,O=v.get(r);if(O||(y=y.ownerDocument||y,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,O),(v=y.querySelector(tu(r)))&&!v._p&&(O.instance=v,O.state.loading=5),yr.has(r)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},yr.set(r,d),v||fO(y,r,d,O.state))),o&&m===null)throw Error(s(528,""));return O}if(o&&m!==null)throw Error(s(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Cl(d),d=ln(y).hoistableScripts,m=d.get(o),m||(m={type:"script",instance:null,count:0,state:null},d.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function Tl(r){return'href="'+Ms(r)+'"'}function tu(r){return'link[rel="stylesheet"]['+r+"]"}function a_(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function fO(r,o,d,m){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=r.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),gs(o,"link",d),at(o),r.head.appendChild(o))}function Cl(r){return'[src="'+Ms(r)+'"]'}function nu(r){return"script[async]"+r}function i_(r,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var m=r.querySelector('style[data-href~="'+Ms(d.href)+'"]');if(m)return o.instance=m,at(m),m;var y=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(r.ownerDocument||r).createElement("style"),at(m),gs(m,"style",y),hf(m,d.precedence,r),o.instance=m;case"stylesheet":y=Tl(d.href);var v=r.querySelector(tu(y));if(v)return o.state.loading|=4,o.instance=v,at(v),v;m=a_(d),(y=yr.get(y))&&pg(m,y),v=(r.ownerDocument||r).createElement("link"),at(v);var O=v;return O._p=new Promise(function(U,Z){O.onload=U,O.onerror=Z}),gs(v,"link",m),o.state.loading|=4,hf(v,d.precedence,r),o.instance=v;case"script":return v=Cl(d.src),(y=r.querySelector(nu(v)))?(o.instance=y,at(y),y):(m=d,(y=yr.get(v))&&(m=p({},d),gg(m,y)),r=r.ownerDocument||r,y=r.createElement("script"),at(y),gs(y,"link",m),r.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(s(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,hf(m,d.precedence,r));return o.instance}function hf(r,o,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=m.length?m[m.length-1]:null,v=y,O=0;O<m.length;O++){var U=m[O];if(U.dataset.precedence===o)v=U;else if(v!==y)break}v?v.parentNode.insertBefore(r,v.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(r,o.firstChild))}function pg(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function gg(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var mf=null;function o_(r,o,d){if(mf===null){var m=new Map,y=mf=new Map;y.set(d,m)}else y=mf,m=y.get(d),m||(m=new Map,y.set(d,m));if(m.has(r))return m;for(m.set(r,null),d=d.getElementsByTagName(r),y=0;y<d.length;y++){var v=d[y];if(!(v[rt]||v[je]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var O=v.getAttribute(o)||"";O=r+O;var U=m.get(O);U?U.push(v):m.set(O,[v])}}return m}function l_(r,o,d){r=r.ownerDocument||r,r.head.insertBefore(d,o==="title"?r.querySelector("head > title"):null)}function hO(r,o,d){if(d===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function c_(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var su=null;function mO(){}function pO(r,o,d){if(su===null)throw Error(s(475));var m=su;if(o.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=Tl(d.href),v=r.querySelector(tu(y));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(m.count++,m=pf.bind(m),r.then(m,m)),o.state.loading|=4,o.instance=v,at(v);return}v=r.ownerDocument||r,d=a_(d),(y=yr.get(y))&&pg(d,y),v=v.createElement("link"),at(v);var O=v;O._p=new Promise(function(U,Z){O.onload=U,O.onerror=Z}),gs(v,"link",d),o.instance=v}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(m.count++,o=pf.bind(m),r.addEventListener("load",o),r.addEventListener("error",o))}}function gO(){if(su===null)throw Error(s(475));var r=su;return r.stylesheets&&r.count===0&&xg(r,r.stylesheets),0<r.count?function(o){var d=setTimeout(function(){if(r.stylesheets&&xg(r,r.stylesheets),r.unsuspend){var m=r.unsuspend;r.unsuspend=null,m()}},6e4);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(d)}}:null}function pf(){if(this.count--,this.count===0){if(this.stylesheets)xg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var gf=null;function xg(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,gf=new Map,o.forEach(xO,r),gf=null,pf.call(r))}function xO(r,o){if(!(o.state.loading&4)){var d=gf.get(r);if(d)var m=d.get(null);else{d=new Map,gf.set(r,d);for(var y=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<y.length;v++){var O=y[v];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(d.set(O.dataset.precedence,O),m=O)}m&&d.set(null,m)}y=o.instance,O=y.getAttribute("data-precedence"),v=d.get(O)||m,v===m&&d.set(null,y),d.set(O,y),this.count++,m=pf.bind(this),y.addEventListener("load",m),y.addEventListener("error",m),v?v.parentNode.insertBefore(y,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(y,r.firstChild)),o.state.loading|=4}}var ru={$$typeof:A,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function yO(r,o,d,m,y,v,O,U){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ht(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ht(0),this.hiddenUpdates=Ht(null),this.identifierPrefix=m,this.onUncaughtError=y,this.onCaughtError=v,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function u_(r,o,d,m,y,v,O,U,Z,ge,Ne,Oe){return r=new yO(r,o,d,O,U,Z,ge,Oe),o=1,v===!0&&(o|=24),v=Gs(3,null,null,o),r.current=v,v.stateNode=r,o=Zm(),o.refCount++,r.pooledCache=o,o.refCount++,v.memoizedState={element:m,isDehydrated:d,cache:o},np(v),r}function d_(r){return r?(r=al,r):al}function f_(r,o,d,m,y,v){y=d_(y),m.context===null?m.context=y:m.pendingContext=y,m=si(o),m.payload={element:d},v=v===void 0?null:v,v!==null&&(m.callback=v),d=ri(r,m,o),d!==null&&(er(d,r,o),Mc(d,r,o))}function h_(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var d=r.retryLane;r.retryLane=d!==0&&d<o?d:o}}function yg(r,o){h_(r,o),(r=r.alternate)&&h_(r,o)}function m_(r){if(r.tag===13){var o=rl(r,67108864);o!==null&&er(o,r,67108864),yg(r,67108864)}}var xf=!0;function bO(r,o,d,m){var y=H.T;H.T=null;var v=te.p;try{te.p=2,bg(r,o,d,m)}finally{te.p=v,H.T=y}}function vO(r,o,d,m){var y=H.T;H.T=null;var v=te.p;try{te.p=8,bg(r,o,d,m)}finally{te.p=v,H.T=y}}function bg(r,o,d,m){if(xf){var y=vg(m);if(y===null)ig(r,o,m,yf,d),g_(r,m);else if(_O(y,r,o,d,m))m.stopPropagation();else if(g_(r,m),o&4&&-1<wO.indexOf(r)){for(;y!==null;){var v=hn(y);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var O=En(v.pendingLanes);if(O!==0){var U=v;for(U.pendingLanes|=2,U.entangledLanes|=2;O;){var Z=1<<31-yt(O);U.entanglements[1]|=Z,O&=~Z}Jr(v),(rn&6)===0&&(ef=vt()+500,Qc(0))}}break;case 13:U=rl(v,2),U!==null&&er(U,v,2),nf(),yg(v,2)}if(v=vg(m),v===null&&ig(r,o,m,yf,d),v===y)break;y=v}y!==null&&m.stopPropagation()}else ig(r,o,m,null,d)}}function vg(r){return r=Xi(r),wg(r)}var yf=null;function wg(r){if(yf=null,r=Ct(r),r!==null){var o=i(r);if(o===null)r=null;else{var d=o.tag;if(d===13){if(r=l(o),r!==null)return r;r=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return yf=r,null}function p_(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mt()){case St:return 2;case X:return 8;case de:case I:return 32;case Se:return 268435456;default:return 32}default:return 32}}var _g=!1,xi=null,yi=null,bi=null,au=new Map,iu=new Map,vi=[],wO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function g_(r,o){switch(r){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":yi=null;break;case"mouseover":case"mouseout":bi=null;break;case"pointerover":case"pointerout":au.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":iu.delete(o.pointerId)}}function ou(r,o,d,m,y,v){return r===null||r.nativeEvent!==v?(r={blockedOn:o,domEventName:d,eventSystemFlags:m,nativeEvent:v,targetContainers:[y]},o!==null&&(o=hn(o),o!==null&&m_(o)),r):(r.eventSystemFlags|=m,o=r.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),r)}function _O(r,o,d,m,y){switch(o){case"focusin":return xi=ou(xi,r,o,d,m,y),!0;case"dragenter":return yi=ou(yi,r,o,d,m,y),!0;case"mouseover":return bi=ou(bi,r,o,d,m,y),!0;case"pointerover":var v=y.pointerId;return au.set(v,ou(au.get(v)||null,r,o,d,m,y)),!0;case"gotpointercapture":return v=y.pointerId,iu.set(v,ou(iu.get(v)||null,r,o,d,m,y)),!0}return!1}function x_(r){var o=Ct(r.target);if(o!==null){var d=i(o);if(d!==null){if(o=d.tag,o===13){if(o=l(d),o!==null){r.blockedOn=o,ie(r.priority,function(){if(d.tag===13){var m=Js();m=Yt(m);var y=rl(d,m);y!==null&&er(y,d,m),yg(d,m)}});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){r.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}r.blockedOn=null}function bf(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var d=vg(r.nativeEvent);if(d===null){d=r.nativeEvent;var m=new d.constructor(d.type,d);yc=m,d.target.dispatchEvent(m),yc=null}else return o=hn(d),o!==null&&m_(o),r.blockedOn=d,!1;o.shift()}return!0}function y_(r,o,d){bf(r)&&d.delete(o)}function jO(){_g=!1,xi!==null&&bf(xi)&&(xi=null),yi!==null&&bf(yi)&&(yi=null),bi!==null&&bf(bi)&&(bi=null),au.forEach(y_),iu.forEach(y_)}function vf(r,o){r.blockedOn===o&&(r.blockedOn=null,_g||(_g=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jO)))}var wf=null;function b_(r){wf!==r&&(wf=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){wf===r&&(wf=null);for(var o=0;o<r.length;o+=3){var d=r[o],m=r[o+1],y=r[o+2];if(typeof m!="function"){if(wg(m||d)===null)continue;break}var v=hn(d);v!==null&&(r.splice(o,3),o-=3,wp(v,{pending:!0,data:y,method:d.method,action:m},m,y))}}))}function lu(r){function o(Z){return vf(Z,r)}xi!==null&&vf(xi,r),yi!==null&&vf(yi,r),bi!==null&&vf(bi,r),au.forEach(o),iu.forEach(o);for(var d=0;d<vi.length;d++){var m=vi[d];m.blockedOn===r&&(m.blockedOn=null)}for(;0<vi.length&&(d=vi[0],d.blockedOn===null);)x_(d),d.blockedOn===null&&vi.shift();if(d=(r.ownerDocument||r).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var y=d[m],v=d[m+1],O=y[Ae]||null;if(typeof v=="function")O||b_(d);else if(O){var U=null;if(v&&v.hasAttribute("formAction")){if(y=v,O=v[Ae]||null)U=O.formAction;else if(wg(y)!==null)continue}else U=O.action;typeof U=="function"?d[m+1]=U:(d.splice(m,3),m-=3),b_(d)}}}function jg(r){this._internalRoot=r}_f.prototype.render=jg.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(s(409));var d=o.current,m=Js();f_(d,m,r,o,null,null)},_f.prototype.unmount=jg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;f_(r.current,2,null,r,null,null),nf(),o[He]=null}};function _f(r){this._internalRoot=r}_f.prototype.unstable_scheduleHydration=function(r){if(r){var o=ee();r={blockedOn:null,target:r,priority:o};for(var d=0;d<vi.length&&o!==0&&o<vi[d].priority;d++);vi.splice(d,0,r),d===0&&x_(r)}};var v_=t.version;if(v_!=="19.1.1")throw Error(s(527,v_,"19.1.1"));te.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=f(o),r=r!==null?h(r):null,r=r===null?null:r.stateNode,r};var SO={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var jf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jf.isDisabled&&jf.supportsFiber)try{Fe=jf.inject(SO),qe=jf}catch(r){}}return uu.createRoot=function(r,o){if(!a(r))throw Error(s(299));var d=!1,m="",y=Lv,v=zv,O=Uv,U=null;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(U=o.unstable_transitionCallbacks)),o=u_(r,1,!1,null,null,d,m,y,v,O,U,null),r[He]=o.current,ag(r),new jg(o)},uu.hydrateRoot=function(r,o,d){if(!a(r))throw Error(s(299));var m=!1,y="",v=Lv,O=zv,U=Uv,Z=null,ge=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(y=d.identifierPrefix),d.onUncaughtError!==void 0&&(v=d.onUncaughtError),d.onCaughtError!==void 0&&(O=d.onCaughtError),d.onRecoverableError!==void 0&&(U=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(Z=d.unstable_transitionCallbacks),d.formState!==void 0&&(ge=d.formState)),o=u_(r,1,!0,o,d!=null?d:null,m,y,v,O,U,Z,ge),o.context=d_(null),d=o.current,m=Js(),m=Yt(m),y=si(m),y.callback=null,ri(d,y,m),d=m,o.current.lanes=d,Nt(o,d),Jr(o),r[He]=o.current,ag(r),new _f(o)},uu.version="19.1.1",uu}var R_;function BO(){if(R_)return kg.exports;R_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),kg.exports=UO(),kg.exports}var FO=BO();const $O=Cx(FO);var HO=Object.defineProperty,VO=(e,t,n)=>t in e?HO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,go=(e,t,n)=>VO(e,typeof t!="symbol"?t+"":t,n),IO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ol={},du={},Rr={},M_;function ZS(){if(M_)return Rr;M_=1;var e=Rr&&Rr.__assign||function(){return e=Object.assign||function(a){for(var i,l=1,u=arguments.length;l<u;l++){i=arguments[l];for(var f in i)Object.prototype.hasOwnProperty.call(i,f)&&(a[f]=i[f])}return a},e.apply(this,arguments)},t=Rr&&Rr.__awaiter||function(a,i,l,u){function f(h){return h instanceof l?h:new l(function(p){p(h)})}return new(l||(l=Promise))(function(h,p){function g(w){try{x(u.next(w))}catch(_){p(_)}}function b(w){try{x(u.throw(w))}catch(_){p(_)}}function x(w){w.done?h(w.value):f(w.value).then(g,b)}x((u=u.apply(a,i||[])).next())})},n=Rr&&Rr.__generator||function(a,i){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},u,f,h,p;return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(x){return function(w){return b([x,w])}}function b(x){if(u)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(l=0)),l;)try{if(u=1,f&&(h=x[0]&2?f.return:x[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,x[1])).done)return h;switch(f=0,h&&(x=[x[0]&2,h.value]),x[0]){case 0:case 1:h=x;break;case 4:return l.label++,{value:x[1],done:!1};case 5:l.label++,f=x[1],x=[0];continue;case 7:x=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(x[0]===6||x[0]===2)){l=0;continue}if(x[0]===3&&(!h||x[1]>h[0]&&x[1]<h[3])){l.label=x[1];break}if(x[0]===6&&l.label<h[1]){l.label=h[1],h=x;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(x);break}h[2]&&l.ops.pop(),l.trys.pop();continue}x=i.call(a,l)}catch(w){x=[6,w],f=0}finally{u=h=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}};Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.FrappeCall=void 0;var s=function(){function a(i,l,u,f,h){this.appURL=i,this.axios=l,this.useToken=u!=null?u:!1,this.token=f,this.tokenType=h}return a.prototype.get=function(i,l){return t(this,void 0,void 0,function(){var u;return n(this,function(f){return u=new URLSearchParams,l&&Object.entries(l).forEach(function(h){var p=h[0],g=h[1];if(g!=null){var b=typeof g=="object"?JSON.stringify(g):g;u.set(p,b)}}),[2,this.axios.get("/api/method/".concat(i),{params:u}).then(function(h){return h.data}).catch(function(h){var p,g;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(p=h.response.data.message)!==null&&p!==void 0?p:"There was an error.",exception:(g=h.response.data.exception)!==null&&g!==void 0?g:""})})]})})},a.prototype.post=function(i,l){return t(this,void 0,void 0,function(){return n(this,function(u){return[2,this.axios.post("/api/method/".concat(i),e({},l)).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error.",exception:(p=f.response.data.exception)!==null&&p!==void 0?p:""})})]})})},a.prototype.put=function(i,l){return t(this,void 0,void 0,function(){return n(this,function(u){return[2,this.axios.put("/api/method/".concat(i),e({},l)).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error.",exception:(p=f.response.data.exception)!==null&&p!==void 0?p:""})})]})})},a.prototype.delete=function(i,l){return t(this,void 0,void 0,function(){return n(this,function(u){return[2,this.axios.delete("/api/method/".concat(i),{params:l}).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error.",exception:(p=f.response.data.exception)!==null&&p!==void 0?p:""})})]})})},a}();return Rr.FrappeCall=s,Rr}var Mr={},P_;function JS(){if(P_)return Mr;P_=1;var e=Mr&&Mr.__assign||function(){return e=Object.assign||function(a){for(var i,l=1,u=arguments.length;l<u;l++){i=arguments[l];for(var f in i)Object.prototype.hasOwnProperty.call(i,f)&&(a[f]=i[f])}return a},e.apply(this,arguments)},t=Mr&&Mr.__awaiter||function(a,i,l,u){function f(h){return h instanceof l?h:new l(function(p){p(h)})}return new(l||(l=Promise))(function(h,p){function g(w){try{x(u.next(w))}catch(_){p(_)}}function b(w){try{x(u.throw(w))}catch(_){p(_)}}function x(w){w.done?h(w.value):f(w.value).then(g,b)}x((u=u.apply(a,i||[])).next())})},n=Mr&&Mr.__generator||function(a,i){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},u,f,h,p;return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(x){return function(w){return b([x,w])}}function b(x){if(u)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(l=0)),l;)try{if(u=1,f&&(h=x[0]&2?f.return:x[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,x[1])).done)return h;switch(f=0,h&&(x=[x[0]&2,h.value]),x[0]){case 0:case 1:h=x;break;case 4:return l.label++,{value:x[1],done:!1};case 5:l.label++,f=x[1],x=[0];continue;case 7:x=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(x[0]===6||x[0]===2)){l=0;continue}if(x[0]===3&&(!h||x[1]>h[0]&&x[1]<h[3])){l.label=x[1];break}if(x[0]===6&&l.label<h[1]){l.label=h[1],h=x;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(x);break}h[2]&&l.ops.pop(),l.trys.pop();continue}x=i.call(a,l)}catch(w){x=[6,w],f=0}finally{u=h=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}};Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.FrappeDB=void 0;var s=function(){function a(i,l,u,f,h){this.appURL=i,this.axios=l,this.useToken=u!=null?u:!1,this.token=f,this.tokenType=h}return a.prototype.getDoc=function(i,l){return l===void 0&&(l=""),t(this,void 0,void 0,function(){return n(this,function(u){return[2,this.axios.get("/api/resource/".concat(i,"/").concat(encodeURIComponent(l))).then(function(f){return f.data.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while fetching the document.",exception:(p=(h=f.response.data.exception)!==null&&h!==void 0?h:f.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},a.prototype.getDocList=function(i,l){var u;return t(this,void 0,void 0,function(){var f,h,p,g,b,x,w,_,S,N,R;return n(this,function(A){return f={},l&&(h=l.fields,p=l.filters,g=l.orFilters,b=l.orderBy,x=l.limit,w=l.limit_start,_=l.groupBy,S=l.asDict,N=S===void 0?!0:S,R=b?"".concat(String(b==null?void 0:b.field)," ").concat((u=b==null?void 0:b.order)!==null&&u!==void 0?u:"asc"):"",f={fields:h?JSON.stringify(h):void 0,filters:p?JSON.stringify(p):void 0,or_filters:g?JSON.stringify(g):void 0,order_by:R,group_by:_,limit:x,limit_start:w,as_dict:N}),[2,this.axios.get("/api/resource/".concat(i),{params:f}).then(function(C){return C.data.data}).catch(function(C){var k,D;throw e(e({},C.response.data),{httpStatus:C.response.status,httpStatusText:C.response.statusText,message:"There was an error while fetching the documents.",exception:(D=(k=C.response.data.exception)!==null&&k!==void 0?k:C.response.data.exc_type)!==null&&D!==void 0?D:""})})]})})},a.prototype.createDoc=function(i,l){return t(this,void 0,void 0,function(){return n(this,function(u){return[2,this.axios.post("/api/resource/".concat(i),e({},l)).then(function(f){return f.data.data}).catch(function(f){var h,p,g;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error while creating the document.",exception:(g=(p=f.response.data.exception)!==null&&p!==void 0?p:f.response.data.exc_type)!==null&&g!==void 0?g:""})})]})})},a.prototype.updateDoc=function(i,l,u){return t(this,void 0,void 0,function(){return n(this,function(f){return[2,this.axios.put("/api/resource/".concat(i,"/").concat(l&&encodeURIComponent(l)),e({},u)).then(function(h){return h.data.data}).catch(function(h){var p,g,b;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(p=h.response.data.message)!==null&&p!==void 0?p:"There was an error while updating the document.",exception:(b=(g=h.response.data.exception)!==null&&g!==void 0?g:h.response.data.exc_type)!==null&&b!==void 0?b:""})})]})})},a.prototype.deleteDoc=function(i,l){return t(this,void 0,void 0,function(){return n(this,function(u){return[2,this.axios.delete("/api/resource/".concat(i,"/").concat(l&&encodeURIComponent(l))).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while deleting the document.",exception:(p=(h=f.response.data.exception)!==null&&h!==void 0?h:f.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},a.prototype.getCount=function(i,l,u,f){return u===void 0&&(u=!1),f===void 0&&(f=!1),t(this,void 0,void 0,function(){var h;return n(this,function(p){return h={doctype:i,filters:[]},u&&(h.cache=u),f&&(h.debug=f),l&&(h.filters=l?JSON.stringify(l):void 0),[2,this.axios.get("/api/method/frappe.client.get_count",{params:h}).then(function(g){return g.data.message}).catch(function(g){var b,x;throw e(e({},g.response.data),{httpStatus:g.response.status,httpStatusText:g.response.statusText,message:"There was an error while getting the count.",exception:(x=(b=g.response.data.exception)!==null&&b!==void 0?b:g.response.data.exc_type)!==null&&x!==void 0?x:""})})]})})},a.prototype.getLastDoc=function(i,l){return t(this,void 0,void 0,function(){var u,f;return n(this,function(h){switch(h.label){case 0:return u={orderBy:{field:"creation",order:"desc"}},l&&(u=e(e({},u),l)),[4,this.getDocList(i,e(e({},u),{limit:1,fields:["name"]}))];case 1:return f=h.sent(),f.length>0?[2,this.getDoc(i,f[0].name)]:[2,{}]}})})},a.prototype.renameDoc=function(i,l,u,f){return f===void 0&&(f=!1),t(this,void 0,void 0,function(){return n(this,function(h){return[2,this.axios.post("/api/method/frappe.client.rename_doc",{doctype:i,old_name:l,new_name:u,merge:f}).then(function(p){return p.data}).catch(function(p){var g,b,x;throw e(e({},p.response.data),{httpStatus:p.response.status,httpStatusText:p.response.statusText,message:(g=p.response.data.message)!==null&&g!==void 0?g:"There was an error while renaming the document.",exception:(x=(b=p.response.data.exception)!==null&&b!==void 0?b:p.response.data.exc_type)!==null&&x!==void 0?x:""})})]})})},a.prototype.getValue=function(i,l,u,f,h,p){return f===void 0&&(f=!0),h===void 0&&(h=!1),p===void 0&&(p=null),t(this,void 0,void 0,function(){var g;return n(this,function(b){return g={doctype:i,fieldname:"[]",filters:[],as_dict:f,debug:h,parent:null},l&&(g.fieldname=typeof l=="object"?JSON.stringify(l):l),u&&(g.filters=u?JSON.stringify(u):void 0),p&&(g.parent=p),[2,this.axios.get("/api/method/frappe.client.get_value",{params:g}).then(function(x){return x.data}).catch(function(x){var w,_;throw e(e({},x.response.data),{httpStatus:x.response.status,httpStatusText:x.response.statusText,message:"There was an error while getting the value.",exception:(_=(w=x.response.data.exception)!==null&&w!==void 0?w:x.response.data.exc_type)!==null&&_!==void 0?_:""})})]})})},a.prototype.setValue=function(i,l,u,f){return t(this,void 0,void 0,function(){return n(this,function(h){return u!==null&&typeof u=="object"&&!Array.isArray(u)&&(f=void 0),[2,this.axios.post("/api/method/frappe.client.set_value",{doctype:i,name:l,fieldname:u,value:f}).then(function(p){return p.data}).catch(function(p){var g,b;throw e(e({},p.response.data),{httpStatus:p.response.status,httpStatusText:p.response.statusText,message:"There was an error while setting the value.",exception:(b=(g=p.response.data.exception)!==null&&g!==void 0?g:p.response.data.exc_type)!==null&&b!==void 0?b:""})})]})})},a.prototype.getSingleValue=function(i,l){return t(this,void 0,void 0,function(){var u;return n(this,function(f){return u={doctype:i,field:l},[2,this.axios.get("/api/method/frappe.client.get_single_value",{params:u}).then(function(h){return h.data}).catch(function(h){var p,g;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:"There was an error while getting the value of single doctype.",exception:(g=(p=h.response.data.exception)!==null&&p!==void 0?p:h.response.data.exc_type)!==null&&g!==void 0?g:""})})]})})},a.prototype.submit=function(i){return t(this,void 0,void 0,function(){return n(this,function(l){return[2,this.axios.post("/api/method/frappe.client.submit",{doc:i}).then(function(u){return u.data.message}).catch(function(u){var f,h;throw e(e({},u.response.data),{httpStatus:u.response.status,httpStatusText:u.response.statusText,message:"There was an error while submitting the document.",exception:(h=(f=u.response.data.exception)!==null&&f!==void 0?f:u.response.data.exc_type)!==null&&h!==void 0?h:""})})]})})},a.prototype.cancel=function(i,l){return t(this,void 0,void 0,function(){return n(this,function(u){return[2,this.axios.post("/api/method/frappe.client.cancel",{doctype:i,name:l}).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while cancelling the document.",exception:(p=(h=f.response.data.exception)!==null&&h!==void 0?h:f.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},a}();return Mr.FrappeDB=s,Mr}var Pr={},Ma={};/*! Axios v1.8.2 Copyright (c) 2025 Matt Zabriskie and contributors */var Rg,L_;function qO(){if(L_)return Rg;L_=1;function e(T,L){return function(){return T.apply(L,arguments)}}const{toString:t}=Object.prototype,{getPrototypeOf:n}=Object,s=(T=>L=>{const F=t.call(L);return T[F]||(T[F]=F.slice(8,-1).toLowerCase())})(Object.create(null)),a=T=>(T=T.toLowerCase(),L=>s(L)===T),i=T=>L=>typeof L===T,{isArray:l}=Array,u=i("undefined");function f(T){return T!==null&&!u(T)&&T.constructor!==null&&!u(T.constructor)&&b(T.constructor.isBuffer)&&T.constructor.isBuffer(T)}const h=a("ArrayBuffer");function p(T){let L;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?L=ArrayBuffer.isView(T):L=T&&T.buffer&&h(T.buffer),L}const g=i("string"),b=i("function"),x=i("number"),w=T=>T!==null&&typeof T=="object",_=T=>T===!0||T===!1,S=T=>{if(s(T)!=="object")return!1;const L=n(T);return(L===null||L===Object.prototype||Object.getPrototypeOf(L)===null)&&!(Symbol.toStringTag in T)&&!(Symbol.iterator in T)},N=a("Date"),R=a("File"),A=a("Blob"),C=a("FileList"),k=T=>w(T)&&b(T.pipe),D=T=>{let L;return T&&(typeof FormData=="function"&&T instanceof FormData||b(T.append)&&((L=s(T))==="formdata"||L==="object"&&b(T.toString)&&T.toString()==="[object FormData]"))},M=a("URLSearchParams"),[E,P,K,W]=["ReadableStream","Request","Response","Headers"].map(a),Y=T=>T.trim?T.trim():T.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function q(T,L,{allOwnKeys:F=!1}={}){if(T===null||typeof T>"u")return;let V,ce;if(typeof T!="object"&&(T=[T]),l(T))for(V=0,ce=T.length;V<ce;V++)L.call(null,T[V],V,T);else{const fe=F?Object.getOwnPropertyNames(T):Object.keys(T),be=fe.length;let Ue;for(V=0;V<be;V++)Ue=fe[V],L.call(null,T[Ue],Ue,T)}}function J(T,L){L=L.toLowerCase();const F=Object.keys(T);let V=F.length,ce;for(;V-- >0;)if(ce=F[V],L===ce.toLowerCase())return ce;return null}const G=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:IO,H=T=>!u(T)&&T!==G;function te(){const{caseless:T}=H(this)&&this||{},L={},F=(V,ce)=>{const fe=T&&J(L,ce)||ce;S(L[fe])&&S(V)?L[fe]=te(L[fe],V):S(V)?L[fe]=te({},V):l(V)?L[fe]=V.slice():L[fe]=V};for(let V=0,ce=arguments.length;V<ce;V++)arguments[V]&&q(arguments[V],F);return L}const ne=(T,L,F,{allOwnKeys:V}={})=>(q(L,(ce,fe)=>{F&&b(ce)?T[fe]=e(ce,F):T[fe]=ce},{allOwnKeys:V}),T),le=T=>(T.charCodeAt(0)===65279&&(T=T.slice(1)),T),B=(T,L,F,V)=>{T.prototype=Object.create(L.prototype,V),T.prototype.constructor=T,Object.defineProperty(T,"super",{value:L.prototype}),F&&Object.assign(T.prototype,F)},Q=(T,L,F,V)=>{let ce,fe,be;const Ue={};if(L=L||{},T==null)return L;do{for(ce=Object.getOwnPropertyNames(T),fe=ce.length;fe-- >0;)be=ce[fe],(!V||V(be,T,L))&&!Ue[be]&&(L[be]=T[be],Ue[be]=!0);T=F!==!1&&n(T)}while(T&&(!F||F(T,L))&&T!==Object.prototype);return L},he=(T,L,F)=>{T=String(T),(F===void 0||F>T.length)&&(F=T.length),F-=L.length;const V=T.indexOf(L,F);return V!==-1&&V===F},$=T=>{if(!T)return null;if(l(T))return T;let L=T.length;if(!x(L))return null;const F=new Array(L);for(;L-- >0;)F[L]=T[L];return F},re=(T=>L=>T&&L instanceof T)(typeof Uint8Array<"u"&&n(Uint8Array)),_e=(T,L)=>{const F=(T&&T[Symbol.iterator]).call(T);let V;for(;(V=F.next())&&!V.done;){const ce=V.value;L.call(T,ce[0],ce[1])}},xe=(T,L)=>{let F;const V=[];for(;(F=T.exec(L))!==null;)V.push(F);return V},Ee=a("HTMLFormElement"),De=T=>T.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(L,F,V){return F.toUpperCase()+V}),Ve=(({hasOwnProperty:T})=>(L,F)=>T.call(L,F))(Object.prototype),Le=a("RegExp"),lt=(T,L)=>{const F=Object.getOwnPropertyDescriptors(T),V={};q(F,(ce,fe)=>{let be;(be=L(ce,fe,T))!==!1&&(V[fe]=be||ce)}),Object.defineProperties(T,V)},Ke=T=>{lt(T,(L,F)=>{if(b(T)&&["arguments","caller","callee"].indexOf(F)!==-1)return!1;const V=T[F];if(b(V)){if(L.enumerable=!1,"writable"in L){L.writable=!1;return}L.set||(L.set=()=>{throw Error("Can not rewrite read-only method '"+F+"'")})}})},pt=(T,L)=>{const F={},V=ce=>{ce.forEach(fe=>{F[fe]=!0})};return l(T)?V(T):V(String(T).split(L)),F},Pe=()=>{},ht=(T,L)=>T!=null&&Number.isFinite(T=+T)?T:L;function $t(T){return!!(T&&b(T.append)&&T[Symbol.toStringTag]==="FormData"&&T[Symbol.iterator])}const vt=T=>{const L=new Array(10),F=(V,ce)=>{if(w(V)){if(L.indexOf(V)>=0)return;if(!("toJSON"in V)){L[ce]=V;const fe=l(V)?[]:{};return q(V,(be,Ue)=>{const ot=F(be,ce+1);!u(ot)&&(fe[Ue]=ot)}),L[ce]=void 0,fe}}return V};return F(T,0)},Mt=a("AsyncFunction"),St=T=>T&&(w(T)||b(T))&&b(T.then)&&b(T.catch),X=((T,L)=>T?setImmediate:L?((F,V)=>(G.addEventListener("message",({source:ce,data:fe})=>{ce===G&&fe===F&&V.length&&V.shift()()},!1),ce=>{V.push(ce),G.postMessage(F,"*")}))(`axios@${Math.random()}`,[]):F=>setTimeout(F))(typeof setImmediate=="function",b(G.postMessage)),de=typeof queueMicrotask<"u"?queueMicrotask.bind(G):typeof process<"u"&&process.nextTick||X;var I={isArray:l,isArrayBuffer:h,isBuffer:f,isFormData:D,isArrayBufferView:p,isString:g,isNumber:x,isBoolean:_,isObject:w,isPlainObject:S,isReadableStream:E,isRequest:P,isResponse:K,isHeaders:W,isUndefined:u,isDate:N,isFile:R,isBlob:A,isRegExp:Le,isFunction:b,isStream:k,isURLSearchParams:M,isTypedArray:re,isFileList:C,forEach:q,merge:te,extend:ne,trim:Y,stripBOM:le,inherits:B,toFlatObject:Q,kindOf:s,kindOfTest:a,endsWith:he,toArray:$,forEachEntry:_e,matchAll:xe,isHTMLForm:Ee,hasOwnProperty:Ve,hasOwnProp:Ve,reduceDescriptors:lt,freezeMethods:Ke,toObjectSet:pt,toCamelCase:De,noop:Pe,toFiniteNumber:ht,findKey:J,global:G,isContextDefined:H,isSpecCompliantForm:$t,toJSONObject:vt,isAsyncFn:Mt,isThenable:St,setImmediate:X,asap:de};function Se(T,L,F,V,ce){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=T,this.name="AxiosError",L&&(this.code=L),F&&(this.config=F),V&&(this.request=V),ce&&(this.response=ce,this.status=ce.status?ce.status:null)}I.inherits(Se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:I.toJSONObject(this.config),code:this.code,status:this.status}}});const Me=Se.prototype,Re={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(T=>{Re[T]={value:T}}),Object.defineProperties(Se,Re),Object.defineProperty(Me,"isAxiosError",{value:!0}),Se.from=(T,L,F,V,ce,fe)=>{const be=Object.create(Me);return I.toFlatObject(T,be,function(Ue){return Ue!==Error.prototype},Ue=>Ue!=="isAxiosError"),Se.call(be,T.message,L,F,V,ce),be.cause=T,be.name=T.name,fe&&Object.assign(be,fe),be};var Fe=null;function qe(T){return I.isPlainObject(T)||I.isArray(T)}function Qe(T){return I.endsWith(T,"[]")?T.slice(0,-2):T}function yt(T,L,F){return T?T.concat(L).map(function(V,ce){return V=Qe(V),!F&&ce?"["+V+"]":V}).join(F?".":""):L}function vn(T){return I.isArray(T)&&!T.some(qe)}const ct=I.toFlatObject(I,{},null,function(T){return/^is[A-Z]/.test(T)});function Ce(T,L,F){if(!I.isObject(T))throw new TypeError("target must be an object");L=L||new FormData,F=I.toFlatObject(F,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Tt,dt){return!I.isUndefined(dt[Tt])});const V=F.metaTokens,ce=F.visitor||Be,fe=F.dots,be=F.indexes,Ue=(F.Blob||typeof Blob<"u"&&Blob)&&I.isSpecCompliantForm(L);if(!I.isFunction(ce))throw new TypeError("visitor must be a function");function ot(Tt){if(Tt===null)return"";if(I.isDate(Tt))return Tt.toISOString();if(!Ue&&I.isBlob(Tt))throw new Se("Blob is not supported. Use a Buffer instead.");return I.isArrayBuffer(Tt)||I.isTypedArray(Tt)?Ue&&typeof Blob=="function"?new Blob([Tt]):Buffer.from(Tt):Tt}function Be(Tt,dt,st){let ls=Tt;if(Tt&&!st&&typeof Tt=="object"){if(I.endsWith(dt,"{}"))dt=V?dt:dt.slice(0,-2),Tt=JSON.stringify(Tt);else if(I.isArray(Tt)&&vn(Tt)||(I.isFileList(Tt)||I.endsWith(dt,"[]"))&&(ls=I.toArray(Tt)))return dt=Qe(dt),ls.forEach(function(In,Tn){!(I.isUndefined(In)||In===null)&&L.append(be===!0?yt([dt],Tn,fe):be===null?dt:dt+"[]",ot(In))}),!1}return qe(Tt)?!0:(L.append(yt(st,dt,fe),ot(Tt)),!1)}const We=[],gt=Object.assign(ct,{defaultVisitor:Be,convertValue:ot,isVisitable:qe});function cn(Tt,dt){if(!I.isUndefined(Tt)){if(We.indexOf(Tt)!==-1)throw Error("Circular reference detected in "+dt.join("."));We.push(Tt),I.forEach(Tt,function(st,ls){(!(I.isUndefined(st)||st===null)&&ce.call(L,st,I.isString(ls)?ls.trim():ls,dt,gt))===!0&&cn(st,dt?dt.concat(ls):[ls])}),We.pop()}}if(!I.isObject(T))throw new TypeError("data must be an object");return cn(T),L}function $e(T){const L={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(T).replace(/[!'()~]|%20|%00/g,function(F){return L[F]})}function Pt(T,L){this._pairs=[],T&&Ce(T,this,L)}const En=Pt.prototype;En.append=function(T,L){this._pairs.push([T,L])},En.toString=function(T){const L=T?function(F){return T.call(this,F,$e)}:$e;return this._pairs.map(function(F){return L(F[0])+"="+L(F[1])},"").join("&")};function is(T){return encodeURIComponent(T).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Vn(T,L,F){if(!L)return T;const V=F&&F.encode||is;I.isFunction(F)&&(F={serialize:F});const ce=F&&F.serialize;let fe;if(ce?fe=ce(L,F):fe=I.isURLSearchParams(L)?L.toString():new Pt(L,F).toString(V),fe){const be=T.indexOf("#");be!==-1&&(T=T.slice(0,be)),T+=(T.indexOf("?")===-1?"?":"&")+fe}return T}class fs{constructor(){this.handlers=[]}use(L,F,V){return this.handlers.push({fulfilled:L,rejected:F,synchronous:V?V.synchronous:!1,runWhen:V?V.runWhen:null}),this.handlers.length-1}eject(L){this.handlers[L]&&(this.handlers[L]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(L){I.forEach(this.handlers,function(F){F!==null&&L(F)})}}var Xe=fs,Lt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ht=typeof URLSearchParams<"u"?URLSearchParams:Pt,Nt=typeof FormData<"u"?FormData:null,nn=typeof Blob<"u"?Blob:null,Ge={isBrowser:!0,classes:{URLSearchParams:Ht,FormData:Nt,Blob:nn},protocols:["http","https","file","blob","url","data"]};const jt=typeof window<"u"&&typeof document<"u",Yt=typeof navigator=="object"&&navigator||void 0,Kt=jt&&(!Yt||["ReactNative","NativeScript","NS"].indexOf(Yt.product)<0),ee=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ie=jt&&window.location.href||"http://localhost";var me=Object.freeze({__proto__:null,hasBrowserEnv:jt,hasStandardBrowserWebWorkerEnv:ee,hasStandardBrowserEnv:Kt,navigator:Yt,origin:ie}),je=z(z({},me),Ge);function Ae(T,L){return Ce(T,new je.classes.URLSearchParams,Object.assign({visitor:function(F,V,ce,fe){return je.isNode&&I.isBuffer(F)?(this.append(V,F.toString("base64")),!1):fe.defaultVisitor.apply(this,arguments)}},L))}function He(T){return I.matchAll(/\w+|\[(\w*)]/g,T).map(L=>L[0]==="[]"?"":L[1]||L[0])}function Ze(T){const L={},F=Object.keys(T);let V;const ce=F.length;let fe;for(V=0;V<ce;V++)fe=F[V],L[fe]=T[fe];return L}function nt(T){function L(F,V,ce,fe){let be=F[fe++];if(be==="__proto__")return!0;const Ue=Number.isFinite(+be),ot=fe>=F.length;return be=!be&&I.isArray(ce)?ce.length:be,ot?(I.hasOwnProp(ce,be)?ce[be]=[ce[be],V]:ce[be]=V,!Ue):((!ce[be]||!I.isObject(ce[be]))&&(ce[be]=[]),L(F,V,ce[be],fe)&&I.isArray(ce[be])&&(ce[be]=Ze(ce[be])),!Ue)}if(I.isFormData(T)&&I.isFunction(T.entries)){const F={};return I.forEachEntry(T,(V,ce)=>{L(He(V),ce,F,0)}),F}return null}function ut(T,L,F){if(I.isString(T))try{return(L||JSON.parse)(T),I.trim(T)}catch(V){if(V.name!=="SyntaxError")throw V}return(F||JSON.stringify)(T)}const Ot={transitional:Lt,adapter:["xhr","http","fetch"],transformRequest:[function(T,L){const F=L.getContentType()||"",V=F.indexOf("application/json")>-1,ce=I.isObject(T);if(ce&&I.isHTMLForm(T)&&(T=new FormData(T)),I.isFormData(T))return V?JSON.stringify(nt(T)):T;if(I.isArrayBuffer(T)||I.isBuffer(T)||I.isStream(T)||I.isFile(T)||I.isBlob(T)||I.isReadableStream(T))return T;if(I.isArrayBufferView(T))return T.buffer;if(I.isURLSearchParams(T))return L.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),T.toString();let fe;if(ce){if(F.indexOf("application/x-www-form-urlencoded")>-1)return Ae(T,this.formSerializer).toString();if((fe=I.isFileList(T))||F.indexOf("multipart/form-data")>-1){const be=this.env&&this.env.FormData;return Ce(fe?{"files[]":T}:T,be&&new be,this.formSerializer)}}return ce||V?(L.setContentType("application/json",!1),ut(T)):T}],transformResponse:[function(T){const L=this.transitional||Ot.transitional,F=L&&L.forcedJSONParsing,V=this.responseType==="json";if(I.isResponse(T)||I.isReadableStream(T))return T;if(T&&I.isString(T)&&(F&&!this.responseType||V)){const ce=!(L&&L.silentJSONParsing)&&V;try{return JSON.parse(T)}catch(fe){if(ce)throw fe.name==="SyntaxError"?Se.from(fe,Se.ERR_BAD_RESPONSE,this,null,this.response):fe}}return T}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:je.classes.FormData,Blob:je.classes.Blob},validateStatus:function(T){return T>=200&&T<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};I.forEach(["delete","get","head","post","put","patch"],T=>{Ot.headers[T]={}});var rt=Ot;const wt=I.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Ct=T=>{const L={};let F,V,ce;return T&&T.split(`
`).forEach(function(fe){ce=fe.indexOf(":"),F=fe.substring(0,ce).trim().toLowerCase(),V=fe.substring(ce+1).trim(),!(!F||L[F]&&wt[F])&&(F==="set-cookie"?L[F]?L[F].push(V):L[F]=[V]:L[F]=L[F]?L[F]+", "+V:V)}),L};const hn=Symbol("internals");function Dn(T){return T&&String(T).trim().toLowerCase()}function ln(T){return T===!1||T==null?T:I.isArray(T)?T.map(ln):String(T)}function at(T){const L=Object.create(null),F=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let V;for(;V=F.exec(T);)L[V[1]]=V[2];return L}const Et=T=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(T.trim());function Qt(T,L,F,V,ce){if(I.isFunction(V))return V.call(this,L,F);if(ce&&(L=F),!!I.isString(L)){if(I.isString(V))return L.indexOf(V)!==-1;if(I.isRegExp(V))return V.test(L)}}function jn(T){return T.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(L,F,V)=>F.toUpperCase()+V)}function Rn(T,L){const F=I.toCamelCase(" "+L);["get","set","has"].forEach(V=>{Object.defineProperty(T,V+F,{value:function(ce,fe,be){return this[V].call(this,L,ce,fe,be)},configurable:!0})})}class Zn{constructor(L){L&&this.set(L)}set(L,F,V){const ce=this;function fe(Ue,ot,Be){const We=Dn(ot);if(!We)throw new Error("header name must be a non-empty string");const gt=I.findKey(ce,We);(!gt||ce[gt]===void 0||Be===!0||Be===void 0&&ce[gt]!==!1)&&(ce[gt||ot]=ln(Ue))}const be=(Ue,ot)=>I.forEach(Ue,(Be,We)=>fe(Be,We,ot));if(I.isPlainObject(L)||L instanceof this.constructor)be(L,F);else if(I.isString(L)&&(L=L.trim())&&!Et(L))be(Ct(L),F);else if(I.isHeaders(L))for(const[Ue,ot]of L.entries())fe(ot,Ue,V);else L!=null&&fe(F,L,V);return this}get(L,F){if(L=Dn(L),L){const V=I.findKey(this,L);if(V){const ce=this[V];if(!F)return ce;if(F===!0)return at(ce);if(I.isFunction(F))return F.call(this,ce,V);if(I.isRegExp(F))return F.exec(ce);throw new TypeError("parser must be boolean|regexp|function")}}}has(L,F){if(L=Dn(L),L){const V=I.findKey(this,L);return!!(V&&this[V]!==void 0&&(!F||Qt(this,this[V],V,F)))}return!1}delete(L,F){const V=this;let ce=!1;function fe(be){if(be=Dn(be),be){const Ue=I.findKey(V,be);Ue&&(!F||Qt(V,V[Ue],Ue,F))&&(delete V[Ue],ce=!0)}}return I.isArray(L)?L.forEach(fe):fe(L),ce}clear(L){const F=Object.keys(this);let V=F.length,ce=!1;for(;V--;){const fe=F[V];(!L||Qt(this,this[fe],fe,L,!0))&&(delete this[fe],ce=!0)}return ce}normalize(L){const F=this,V={};return I.forEach(this,(ce,fe)=>{const be=I.findKey(V,fe);if(be){F[be]=ln(ce),delete F[fe];return}const Ue=L?jn(fe):String(fe).trim();Ue!==fe&&delete F[fe],F[Ue]=ln(ce),V[Ue]=!0}),this}concat(...L){return this.constructor.concat(this,...L)}toJSON(L){const F=Object.create(null);return I.forEach(this,(V,ce)=>{V!=null&&V!==!1&&(F[ce]=L&&I.isArray(V)?V.join(", "):V)}),F}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([L,F])=>L+": "+F).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(L){return L instanceof this?L:new this(L)}static concat(L,...F){const V=new this(L);return F.forEach(ce=>V.set(ce)),V}static accessor(L){const F=(this[hn]=this[hn]={accessors:{}}).accessors,V=this.prototype;function ce(fe){const be=Dn(fe);F[be]||(Rn(V,fe),F[be]=!0)}return I.isArray(L)?L.forEach(ce):ce(L),this}}Zn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),I.reduceDescriptors(Zn.prototype,({value:T},L)=>{let F=L[0].toUpperCase()+L.slice(1);return{get:()=>T,set(V){this[F]=V}}}),I.freezeMethods(Zn);var os=Zn;function lr(T,L){const F=this||rt,V=L||F,ce=os.from(V.headers);let fe=V.data;return I.forEach(T,function(be){fe=be.call(F,fe,ce.normalize(),L?L.status:void 0)}),ce.normalize(),fe}function cr(T){return!!(T&&T.__CANCEL__)}function js(T,L,F){Se.call(this,T!=null?T:"canceled",Se.ERR_CANCELED,L,F),this.name="CanceledError"}I.inherits(js,Se,{__CANCEL__:!0});function ur(T,L,F){const V=F.config.validateStatus;!F.status||!V||V(F.status)?T(F):L(new Se("Request failed with status code "+F.status,[Se.ERR_BAD_REQUEST,Se.ERR_BAD_RESPONSE][Math.floor(F.status/100)-4],F.config,F.request,F))}function Rt(T){const L=/^([-+\w]{1,25})(:?\/\/|:)/.exec(T);return L&&L[1]||""}function Mn(T,L){T=T||10;const F=new Array(T),V=new Array(T);let ce=0,fe=0,be;return L=L!==void 0?L:1e3,function(Ue){const ot=Date.now(),Be=V[fe];be||(be=ot),F[ce]=Ue,V[ce]=ot;let We=fe,gt=0;for(;We!==ce;)gt+=F[We++],We=We%T;if(ce=(ce+1)%T,ce===fe&&(fe=(fe+1)%T),ot-be<L)return;const cn=Be&&ot-Be;return cn?Math.round(gt*1e3/cn):void 0}}function xa(T,L){let F=0,V=1e3/L,ce,fe;const be=(Ue,ot=Date.now())=>{F=ot,ce=null,fe&&(clearTimeout(fe),fe=null),T.apply(null,Ue)};return[(...Ue)=>{const ot=Date.now(),Be=ot-F;Be>=V?be(Ue,ot):(ce=Ue,fe||(fe=setTimeout(()=>{fe=null,be(ce)},V-Be)))},()=>ce&&be(ce)]}const hs=(T,L,F=3)=>{let V=0;const ce=Mn(50,250);return xa(fe=>{const be=fe.loaded,Ue=fe.lengthComputable?fe.total:void 0,ot=be-V,Be=ce(ot),We=be<=Ue;V=be;const gt={loaded:be,total:Ue,progress:Ue?be/Ue:void 0,bytes:ot,rate:Be||void 0,estimated:Be&&Ue&&We?(Ue-be)/Be:void 0,event:fe,lengthComputable:Ue!=null,[L?"download":"upload"]:!0};T(gt)},F)},xn=(T,L)=>{const F=T!=null;return[V=>L[0]({lengthComputable:F,total:T,loaded:V}),L[1]]},Cr=T=>(...L)=>I.asap(()=>T(...L));var qo=je.hasStandardBrowserEnv?((T,L)=>F=>(F=new URL(F,je.origin),T.protocol===F.protocol&&T.host===F.host&&(L||T.port===F.port)))(new URL(je.origin),je.navigator&&/(msie|trident)/i.test(je.navigator.userAgent)):()=>!0,Wo=je.hasStandardBrowserEnv?{write(T,L,F,V,ce,fe){const be=[T+"="+encodeURIComponent(L)];I.isNumber(F)&&be.push("expires="+new Date(F).toGMTString()),I.isString(V)&&be.push("path="+V),I.isString(ce)&&be.push("domain="+ce),fe===!0&&be.push("secure"),document.cookie=be.join("; ")},read(T){const L=document.cookie.match(new RegExp("(^|;\\s*)("+T+")=([^;]*)"));return L?decodeURIComponent(L[3]):null},remove(T){this.write(T,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Rs(T){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(T)}function gd(T,L){return L?T.replace(/\/?\/$/,"")+"/"+L.replace(/^\/+/,""):T}function xd(T,L,F){let V=!Rs(L);return T&&V||F==!1?gd(T,L):L}const Ii=T=>T instanceof os?z({},T):T;function Yr(T,L){L=L||{};const F={};function V(Be,We,gt,cn){return I.isPlainObject(Be)&&I.isPlainObject(We)?I.merge.call({caseless:cn},Be,We):I.isPlainObject(We)?I.merge({},We):I.isArray(We)?We.slice():We}function ce(Be,We,gt,cn){if(I.isUndefined(We)){if(!I.isUndefined(Be))return V(void 0,Be,gt,cn)}else return V(Be,We,gt,cn)}function fe(Be,We){if(!I.isUndefined(We))return V(void 0,We)}function be(Be,We){if(I.isUndefined(We)){if(!I.isUndefined(Be))return V(void 0,Be)}else return V(void 0,We)}function Ue(Be,We,gt){if(gt in L)return V(Be,We);if(gt in T)return V(void 0,Be)}const ot={url:fe,method:fe,data:fe,baseURL:be,transformRequest:be,transformResponse:be,paramsSerializer:be,timeout:be,timeoutMessage:be,withCredentials:be,withXSRFToken:be,adapter:be,responseType:be,xsrfCookieName:be,xsrfHeaderName:be,onUploadProgress:be,onDownloadProgress:be,decompress:be,maxContentLength:be,maxBodyLength:be,beforeRedirect:be,transport:be,httpAgent:be,httpsAgent:be,cancelToken:be,socketPath:be,responseEncoding:be,validateStatus:Ue,headers:(Be,We,gt)=>ce(Ii(Be),Ii(We),gt,!0)};return I.forEach(Object.keys(Object.assign({},T,L)),function(Be){const We=ot[Be]||ce,gt=We(T[Be],L[Be],Be);I.isUndefined(gt)&&We!==Ue||(F[Be]=gt)}),F}var qi=T=>{const L=Yr({},T);let{data:F,withXSRFToken:V,xsrfHeaderName:ce,xsrfCookieName:fe,headers:be,auth:Ue}=L;L.headers=be=os.from(be),L.url=Vn(xd(L.baseURL,L.url),T.params,T.paramsSerializer),Ue&&be.set("Authorization","Basic "+btoa((Ue.username||"")+":"+(Ue.password?unescape(encodeURIComponent(Ue.password)):"")));let ot;if(I.isFormData(F)){if(je.hasStandardBrowserEnv||je.hasStandardBrowserWebWorkerEnv)be.setContentType(void 0);else if((ot=be.getContentType())!==!1){const[Be,...We]=ot?ot.split(";").map(gt=>gt.trim()).filter(Boolean):[];be.setContentType([Be||"multipart/form-data",...We].join("; "))}}if(je.hasStandardBrowserEnv&&(V&&I.isFunction(V)&&(V=V(L)),V||V!==!1&&qo(L.url))){const Be=ce&&fe&&Wo.read(fe);Be&&be.set(ce,Be)}return L},Am=typeof XMLHttpRequest<"u"&&function(T){return new Promise(function(L,F){const V=qi(T);let ce=V.data;const fe=os.from(V.headers).normalize();let{responseType:be,onUploadProgress:Ue,onDownloadProgress:ot}=V,Be,We,gt,cn,Tt;function dt(){cn&&cn(),Tt&&Tt(),V.cancelToken&&V.cancelToken.unsubscribe(Be),V.signal&&V.signal.removeEventListener("abort",Be)}let st=new XMLHttpRequest;st.open(V.method.toUpperCase(),V.url,!0),st.timeout=V.timeout;function ls(){if(!st)return;const Tn=os.from("getAllResponseHeaders"in st&&st.getAllResponseHeaders()),dr={data:!be||be==="text"||be==="json"?st.responseText:st.response,status:st.status,statusText:st.statusText,headers:Tn,config:T,request:st};ur(function(Zi){L(Zi),dt()},function(Zi){F(Zi),dt()},dr),st=null}"onloadend"in st?st.onloadend=ls:st.onreadystatechange=function(){!st||st.readyState!==4||st.status===0&&!(st.responseURL&&st.responseURL.indexOf("file:")===0)||setTimeout(ls)},st.onabort=function(){st&&(F(new Se("Request aborted",Se.ECONNABORTED,T,st)),st=null)},st.onerror=function(){F(new Se("Network Error",Se.ERR_NETWORK,T,st)),st=null},st.ontimeout=function(){let Tn=V.timeout?"timeout of "+V.timeout+"ms exceeded":"timeout exceeded";const dr=V.transitional||Lt;V.timeoutErrorMessage&&(Tn=V.timeoutErrorMessage),F(new Se(Tn,dr.clarifyTimeoutError?Se.ETIMEDOUT:Se.ECONNABORTED,T,st)),st=null},ce===void 0&&fe.setContentType(null),"setRequestHeader"in st&&I.forEach(fe.toJSON(),function(Tn,dr){st.setRequestHeader(dr,Tn)}),I.isUndefined(V.withCredentials)||(st.withCredentials=!!V.withCredentials),be&&be!=="json"&&(st.responseType=V.responseType),ot&&([gt,Tt]=hs(ot,!0),st.addEventListener("progress",gt)),Ue&&st.upload&&([We,cn]=hs(Ue),st.upload.addEventListener("progress",We),st.upload.addEventListener("loadend",cn)),(V.cancelToken||V.signal)&&(Be=Tn=>{st&&(F(!Tn||Tn.type?new js(null,T,st):Tn),st.abort(),st=null)},V.cancelToken&&V.cancelToken.subscribe(Be),V.signal&&(V.signal.aborted?Be():V.signal.addEventListener("abort",Be)));const In=Rt(V.url);if(In&&je.protocols.indexOf(In)===-1){F(new Se("Unsupported protocol "+In+":",Se.ERR_BAD_REQUEST,T));return}st.send(ce||null)})},Ms=(T,L)=>{const{length:F}=T=T?T.filter(Boolean):[];if(L||F){let V=new AbortController,ce;const fe=function(Be){if(!ce){ce=!0,Ue();const We=Be instanceof Error?Be:this.reason;V.abort(We instanceof Se?We:new js(We instanceof Error?We.message:We))}};let be=L&&setTimeout(()=>{be=null,fe(new Se(`timeout ${L} of ms exceeded`,Se.ETIMEDOUT))},L);const Ue=()=>{T&&(be&&clearTimeout(be),be=null,T.forEach(Be=>{Be.unsubscribe?Be.unsubscribe(fe):Be.removeEventListener("abort",fe)}),T=null)};T.forEach(Be=>Be.addEventListener("abort",fe));const{signal:ot}=V;return ot.unsubscribe=()=>I.asap(Ue),ot}};const mc=function*(T,L){let F=T.byteLength;if(F<L){yield T;return}let V=0,ce;for(;V<F;)ce=V+L,yield T.slice(V,ce),V=ce},yd=function(T,L){return Ng(this,null,function*(){try{for(var F=j_(pc(T)),V,ce,fe;V=!(ce=yield new po(F.next())).done;V=!1){const be=ce.value;yield*Eg(mc(be,L))}}catch(ce){fe=[ce]}finally{try{V&&(ce=F.return)&&(yield new po(ce.call(F)))}finally{if(fe)throw fe[0]}}})},pc=function(T){return Ng(this,null,function*(){if(T[Symbol.asyncIterator]){yield*Eg(T);return}const L=T.getReader();try{for(;;){const{done:F,value:V}=yield new po(L.read());if(F)break;yield V}}finally{yield new po(L.cancel())}})},ya=(T,L,F,V)=>{const ce=yd(T,L);let fe=0,be,Ue=Be=>{be||(be=!0,V&&V(Be))};return new ReadableStream({pull(Be){return ye(this,null,function*(){try{const{done:We,value:gt}=yield ce.next();if(We){Ue(),Be.close();return}let cn=gt.byteLength;if(F){let Tt=fe+=cn;F(Tt)}Be.enqueue(new Uint8Array(gt))}catch(We){throw Ue(We),We}})},cancel(Be){return Ue(Be),ce.return()}},{highWaterMark:2})},Wi=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",gc=Wi&&typeof ReadableStream=="function",Ga=Wi&&(typeof TextEncoder=="function"?(T=>L=>T.encode(L))(new TextEncoder):T=>ye(null,null,function*(){return new Uint8Array(yield new Response(T).arrayBuffer())})),bd=(T,...L)=>{try{return!!T(...L)}catch(F){return!1}},vd=gc&&bd(()=>{let T=!1;const L=new Request(je.origin,{body:new ReadableStream,method:"POST",get duplex(){return T=!0,"half"}}).headers.has("Content-Type");return T&&!L}),xc=64*1024,Yi=gc&&bd(()=>I.isReadableStream(new Response("").body)),Yo={stream:Yi&&(T=>T.body)};Wi&&(T=>{["text","arrayBuffer","blob","formData","stream"].forEach(L=>{!Yo[L]&&(Yo[L]=I.isFunction(T[L])?F=>F[L]():(F,V)=>{throw new Se(`Response type '${L}' is not supported`,Se.ERR_NOT_SUPPORT,V)})})})(new Response);const Dm=T=>ye(null,null,function*(){if(T==null)return 0;if(I.isBlob(T))return T.size;if(I.isSpecCompliantForm(T))return(yield new Request(je.origin,{method:"POST",body:T}).arrayBuffer()).byteLength;if(I.isArrayBufferView(T)||I.isArrayBuffer(T))return T.byteLength;if(I.isURLSearchParams(T)&&(T=T+""),I.isString(T))return(yield Ga(T)).byteLength}),Xo=(T,L)=>ye(null,null,function*(){const F=I.toFiniteNumber(T.getContentLength());return F!=null?F:Dm(L)});var yc=Wi&&(T=>ye(null,null,function*(){let{url:L,method:F,data:V,signal:ce,cancelToken:fe,timeout:be,onDownloadProgress:Ue,onUploadProgress:ot,responseType:Be,headers:We,withCredentials:gt="same-origin",fetchOptions:cn}=qi(T);Be=Be?(Be+"").toLowerCase():"text";let Tt=Ms([ce,fe&&fe.toAbortSignal()],be),dt;const st=Tt&&Tt.unsubscribe&&(()=>{Tt.unsubscribe()});let ls;try{if(ot&&vd&&F!=="get"&&F!=="head"&&(ls=yield Xo(We,V))!==0){let Xr=new Request(L,{method:"POST",body:V,duplex:"half"}),ei;if(I.isFormData(V)&&(ei=Xr.headers.get("content-type"))&&We.setContentType(ei),Xr.body){const[Zo,Jo]=xn(ls,hs(Cr(ot)));V=ya(Xr.body,xc,Zo,Jo)}}I.isString(gt)||(gt=gt?"include":"omit");const In="credentials"in Request.prototype;dt=new Request(L,oe(z({},cn),{signal:Tt,method:F.toUpperCase(),headers:We.normalize().toJSON(),body:V,duplex:"half",credentials:In?gt:void 0}));let Tn=yield fetch(dt);const dr=Yi&&(Be==="stream"||Be==="response");if(Yi&&(Ue||dr&&st)){const Xr={};["status","statusText","headers"].forEach(_d=>{Xr[_d]=Tn[_d]});const ei=I.toFiniteNumber(Tn.headers.get("content-length")),[Zo,Jo]=Ue&&xn(ei,hs(Cr(Ue),!0))||[];Tn=new Response(ya(Tn.body,xc,Zo,()=>{Jo&&Jo(),st&&st()}),Xr)}Be=Be||"text";let Zi=yield Yo[I.findKey(Yo,Be)||"text"](Tn,T);return!dr&&st&&st(),yield new Promise((Xr,ei)=>{ur(Xr,ei,{data:Zi,headers:os.from(Tn.headers),status:Tn.status,statusText:Tn.statusText,config:T,request:dt})})}catch(In){throw st&&st(),In&&In.name==="TypeError"&&/fetch/i.test(In.message)?Object.assign(new Se("Network Error",Se.ERR_NETWORK,T,dt),{cause:In.cause||In}):Se.from(In,In&&In.code,T,dt)}}));const Xi={http:Fe,xhr:Am,fetch:yc};I.forEach(Xi,(T,L)=>{if(T){try{Object.defineProperty(T,"name",{value:L})}catch(F){}Object.defineProperty(T,"adapterName",{value:L})}});const ba=T=>`- ${T}`,Ka=T=>I.isFunction(T)||T===null||T===!1;var bc={getAdapter:T=>{T=I.isArray(T)?T:[T];const{length:L}=T;let F,V;const ce={};for(let fe=0;fe<L;fe++){F=T[fe];let be;if(V=F,!Ka(F)&&(V=Xi[(be=String(F)).toLowerCase()],V===void 0))throw new Se(`Unknown adapter '${be}'`);if(V)break;ce[be||"#"+fe]=V}if(!V){const fe=Object.entries(ce).map(([Ue,ot])=>`adapter ${Ue} `+(ot===!1?"is not supported by the environment":"is not available in the build"));let be=L?fe.length>1?`since :
`+fe.map(ba).join(`
`):" "+ba(fe[0]):"as no adapter specified";throw new Se("There is no suitable adapter to dispatch the request "+be,"ERR_NOT_SUPPORT")}return V},adapters:Xi};function Gi(T){if(T.cancelToken&&T.cancelToken.throwIfRequested(),T.signal&&T.signal.aborted)throw new js(null,T)}function vc(T){return Gi(T),T.headers=os.from(T.headers),T.data=lr.call(T,T.transformRequest),["post","put","patch"].indexOf(T.method)!==-1&&T.headers.setContentType("application/x-www-form-urlencoded",!1),bc.getAdapter(T.adapter||rt.adapter)(T).then(function(L){return Gi(T),L.data=lr.call(T,T.transformResponse,L),L.headers=os.from(L.headers),L},function(L){return cr(L)||(Gi(T),L&&L.response&&(L.response.data=lr.call(T,T.transformResponse,L.response),L.response.headers=os.from(L.response.headers))),Promise.reject(L)})}const Qa="1.8.2",Ps={};["object","boolean","number","function","string","symbol"].forEach((T,L)=>{Ps[T]=function(F){return typeof F===T||"a"+(L<1?"n ":" ")+T}});const Go={};Ps.transitional=function(T,L,F){function V(ce,fe){return"[Axios v"+Qa+"] Transitional option '"+ce+"'"+fe+(F?". "+F:"")}return(ce,fe,be)=>{if(T===!1)throw new Se(V(fe," has been removed"+(L?" in "+L:"")),Se.ERR_DEPRECATED);return L&&!Go[fe]&&(Go[fe]=!0,console.warn(V(fe," has been deprecated since v"+L+" and will be removed in the near future"))),T?T(ce,fe,be):!0}},Ps.spelling=function(T){return(L,F)=>(console.warn(`${F} is likely a misspelling of ${T}`),!0)};function Ki(T,L,F){if(typeof T!="object")throw new Se("options must be an object",Se.ERR_BAD_OPTION_VALUE);const V=Object.keys(T);let ce=V.length;for(;ce-- >0;){const fe=V[ce],be=L[fe];if(be){const Ue=T[fe],ot=Ue===void 0||be(Ue,fe,T);if(ot!==!0)throw new Se("option "+fe+" must be "+ot,Se.ERR_BAD_OPTION_VALUE);continue}if(F!==!0)throw new Se("Unknown option "+fe,Se.ERR_BAD_OPTION)}}var Ys={assertOptions:Ki,validators:Ps};const Ls=Ys.validators;class va{constructor(L){this.defaults=L,this.interceptors={request:new Xe,response:new Xe}}request(L,F){return ye(this,null,function*(){try{return yield this._request(L,F)}catch(V){if(V instanceof Error){let ce={};Error.captureStackTrace?Error.captureStackTrace(ce):ce=new Error;const fe=ce.stack?ce.stack.replace(/^.+\n/,""):"";try{V.stack?fe&&!String(V.stack).endsWith(fe.replace(/^.+\n.+\n/,""))&&(V.stack+=`
`+fe):V.stack=fe}catch(be){}}throw V}})}_request(L,F){typeof L=="string"?(F=F||{},F.url=L):F=L||{},F=Yr(this.defaults,F);const{transitional:V,paramsSerializer:ce,headers:fe}=F;V!==void 0&&Ys.assertOptions(V,{silentJSONParsing:Ls.transitional(Ls.boolean),forcedJSONParsing:Ls.transitional(Ls.boolean),clarifyTimeoutError:Ls.transitional(Ls.boolean)},!1),ce!=null&&(I.isFunction(ce)?F.paramsSerializer={serialize:ce}:Ys.assertOptions(ce,{encode:Ls.function,serialize:Ls.function},!0)),F.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?F.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:F.allowAbsoluteUrls=!0),Ys.assertOptions(F,{baseUrl:Ls.spelling("baseURL"),withXsrfToken:Ls.spelling("withXSRFToken")},!0),F.method=(F.method||this.defaults.method||"get").toLowerCase();let be=fe&&I.merge(fe.common,fe[F.method]);fe&&I.forEach(["delete","get","head","post","put","patch","common"],dt=>{delete fe[dt]}),F.headers=os.concat(be,fe);const Ue=[];let ot=!0;this.interceptors.request.forEach(function(dt){typeof dt.runWhen=="function"&&dt.runWhen(F)===!1||(ot=ot&&dt.synchronous,Ue.unshift(dt.fulfilled,dt.rejected))});const Be=[];this.interceptors.response.forEach(function(dt){Be.push(dt.fulfilled,dt.rejected)});let We,gt=0,cn;if(!ot){const dt=[vc.bind(this),void 0];for(dt.unshift.apply(dt,Ue),dt.push.apply(dt,Be),cn=dt.length,We=Promise.resolve(F);gt<cn;)We=We.then(dt[gt++],dt[gt++]);return We}cn=Ue.length;let Tt=F;for(gt=0;gt<cn;){const dt=Ue[gt++],st=Ue[gt++];try{Tt=dt(Tt)}catch(ls){st.call(this,ls);break}}try{We=vc.call(this,Tt)}catch(dt){return Promise.reject(dt)}for(gt=0,cn=Be.length;gt<cn;)We=We.then(Be[gt++],Be[gt++]);return We}getUri(L){L=Yr(this.defaults,L);const F=xd(L.baseURL,L.url,L.allowAbsoluteUrls);return Vn(F,L.params,L.paramsSerializer)}}I.forEach(["delete","get","head","options"],function(T){va.prototype[T]=function(L,F){return this.request(Yr(F||{},{method:T,url:L,data:(F||{}).data}))}}),I.forEach(["post","put","patch"],function(T){function L(F){return function(V,ce,fe){return this.request(Yr(fe||{},{method:T,headers:F?{"Content-Type":"multipart/form-data"}:{},url:V,data:ce}))}}va.prototype[T]=L(),va.prototype[T+"Form"]=L(!0)});var Qi=va;class Za{constructor(L){if(typeof L!="function")throw new TypeError("executor must be a function.");let F;this.promise=new Promise(function(ce){F=ce});const V=this;this.promise.then(ce=>{if(!V._listeners)return;let fe=V._listeners.length;for(;fe-- >0;)V._listeners[fe](ce);V._listeners=null}),this.promise.then=ce=>{let fe;const be=new Promise(Ue=>{V.subscribe(Ue),fe=Ue}).then(ce);return be.cancel=function(){V.unsubscribe(fe)},be},L(function(ce,fe,be){V.reason||(V.reason=new js(ce,fe,be),F(V.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(L){if(this.reason){L(this.reason);return}this._listeners?this._listeners.push(L):this._listeners=[L]}unsubscribe(L){if(!this._listeners)return;const F=this._listeners.indexOf(L);F!==-1&&this._listeners.splice(F,1)}toAbortSignal(){const L=new AbortController,F=V=>{L.abort(V)};return this.subscribe(F),L.signal.unsubscribe=()=>this.unsubscribe(F),L.signal}static source(){let L;return{token:new Za(function(F){L=F}),cancel:L}}}var Ko=Za;function wd(T){return function(L){return T.apply(null,L)}}function Ss(T){return I.isObject(T)&&T.isAxiosError===!0}const kr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(kr).forEach(([T,L])=>{kr[L]=T});var Qo=kr;function Ja(T){const L=new Qi(T),F=e(Qi.prototype.request,L);return I.extend(F,Qi.prototype,L,{allOwnKeys:!0}),I.extend(F,L,null,{allOwnKeys:!0}),F.create=function(V){return Ja(Yr(T,V))},F}const Pn=Ja(rt);return Pn.Axios=Qi,Pn.CanceledError=js,Pn.CancelToken=Ko,Pn.isCancel=cr,Pn.VERSION=Qa,Pn.toFormData=Ce,Pn.AxiosError=Se,Pn.Cancel=Pn.CanceledError,Pn.all=function(T){return Promise.all(T)},Pn.spread=wd,Pn.isAxiosError=Ss,Pn.mergeConfig=Yr,Pn.AxiosHeaders=os,Pn.formToJSON=T=>nt(I.isHTMLForm(T)?new FormData(T):T),Pn.getAdapter=bc.getAdapter,Pn.HttpStatusCode=Qo,Pn.default=Pn,Rg=Pn,Rg}var z_;function eN(){if(z_)return Ma;z_=1;var e=Ma&&Ma.__assign||function(){return e=Object.assign||function(a){for(var i,l=1,u=arguments.length;l<u;l++){i=arguments[l];for(var f in i)Object.prototype.hasOwnProperty.call(i,f)&&(a[f]=i[f])}return a},e.apply(this,arguments)};Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.getRequestHeaders=Ma.getAxiosClient=void 0;var t=qO();function n(a,i,l,u,f){var h=t.default.create({baseURL:a,headers:s(i,u,l,a,f),withCredentials:!0});return h.interceptors.request.use(function(p){return typeof window<"u"&&window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(p.headers["X-Frappe-CSRF-Token"]=window.csrf_token),i&&u&&l&&(p.headers.Authorization="".concat(u," ").concat(l())),p}),h}Ma.getAxiosClient=n;function s(a,i,l,u,f){a===void 0&&(a=!1);var h={Accept:"application/json","Content-Type":"application/json; charset=utf-8"};return a&&i&&l&&(h.Authorization="".concat(i," ").concat(l())),typeof window<"u"&&typeof document<"u"&&(window.location&&(u&&u!==window.location.origin||(h["X-Frappe-Site-Name"]=window.location.hostname)),window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(h["X-Frappe-CSRF-Token"]=window.csrf_token)),e(e({},h),f!=null?f:{})}return Ma.getRequestHeaders=s,Ma}var U_;function tN(){if(U_)return Pr;U_=1;var e=Pr&&Pr.__assign||function(){return e=Object.assign||function(i){for(var l,u=1,f=arguments.length;u<f;u++){l=arguments[u];for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(i[h]=l[h])}return i},e.apply(this,arguments)},t=Pr&&Pr.__awaiter||function(i,l,u,f){function h(p){return p instanceof u?p:new u(function(g){g(p)})}return new(u||(u=Promise))(function(p,g){function b(_){try{w(f.next(_))}catch(S){g(S)}}function x(_){try{w(f.throw(_))}catch(S){g(S)}}function w(_){_.done?p(_.value):h(_.value).then(b,x)}w((f=f.apply(i,l||[])).next())})},n=Pr&&Pr.__generator||function(i,l){var u={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},f,h,p,g;return g={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function b(w){return function(_){return x([w,_])}}function x(w){if(f)throw new TypeError("Generator is already executing.");for(;g&&(g=0,w[0]&&(u=0)),u;)try{if(f=1,h&&(p=w[0]&2?h.return:w[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,w[1])).done)return p;switch(h=0,p&&(w=[w[0]&2,p.value]),w[0]){case 0:case 1:p=w;break;case 4:return u.label++,{value:w[1],done:!1};case 5:u.label++,h=w[1],w=[0];continue;case 7:w=u.ops.pop(),u.trys.pop();continue;default:if(p=u.trys,!(p=p.length>0&&p[p.length-1])&&(w[0]===6||w[0]===2)){u=0;continue}if(w[0]===3&&(!p||w[1]>p[0]&&w[1]<p[3])){u.label=w[1];break}if(w[0]===6&&u.label<p[1]){u.label=p[1],p=w;break}if(p&&u.label<p[2]){u.label=p[2],u.ops.push(w);break}p[2]&&u.ops.pop(),u.trys.pop();continue}w=l.call(i,u)}catch(_){w=[6,_],h=0}finally{f=p=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}};Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.FrappeFileUpload=void 0;var s=eN(),a=function(){function i(l,u,f,h,p,g){this.appURL=l,this.axios=u,this.useToken=f!=null?f:!1,this.token=h,this.tokenType=p,this.customHeaders=g}return i.prototype.uploadFile=function(l,u,f,h){return h===void 0&&(h="upload_file"),t(this,void 0,void 0,function(){var p,g,b,x,w,_,S,N;return n(this,function(R){return p=new FormData,l&&p.append("file",l,l.name),g=u.isPrivate,b=u.folder,x=u.file_url,w=u.doctype,_=u.docname,S=u.fieldname,N=u.otherData,g&&p.append("is_private","1"),b&&p.append("folder",b),x&&p.append("file_url",x),w&&_&&(p.append("doctype",w),p.append("docname",_),S&&p.append("fieldname",S)),N&&Object.keys(N).forEach(function(A){var C=N[A];p.append(A,C)}),[2,this.axios.post("/api/method/".concat(h),p,{onUploadProgress:function(A){f&&f(A.loaded,A.total,A)},headers:e(e({},(0,s.getRequestHeaders)(this.useToken,this.tokenType,this.token,this.appURL,this.customHeaders)),{"Content-Type":"multipart/form-data"})}).catch(function(A){var C,k;throw e(e({},A.response.data),{httpStatus:A.response.status,httpStatusText:A.response.statusText,message:(C=A.response.data.message)!==null&&C!==void 0?C:"There was an error while uploading the file.",exception:(k=A.response.data.exception)!==null&&k!==void 0?k:""})})]})})},i}();return Pr.FrappeFileUpload=a,Pr}var B_;function WO(){if(B_)return du;B_=1,Object.defineProperty(du,"__esModule",{value:!0}),du.FrappeApp=void 0;var e=nN(),t=ZS(),n=JS(),s=tN(),a=eN(),i=function(){function l(u,f,h,p){var g,b;this.url=u,this.name=h!=null?h:"FrappeApp",this.useToken=(g=f==null?void 0:f.useToken)!==null&&g!==void 0?g:!1,this.token=f==null?void 0:f.token,this.tokenType=(b=f==null?void 0:f.type)!==null&&b!==void 0?b:"Bearer",this.customHeaders=p,this.axios=(0,a.getAxiosClient)(this.url,this.useToken,this.token,this.tokenType,this.customHeaders)}return l.prototype.auth=function(){return new e.FrappeAuth(this.url,this.axios,this.useToken,this.token,this.tokenType)},l.prototype.db=function(){return new n.FrappeDB(this.url,this.axios,this.useToken,this.token,this.tokenType)},l.prototype.file=function(){return new s.FrappeFileUpload(this.url,this.axios,this.useToken,this.token,this.tokenType,this.customHeaders)},l.prototype.call=function(){return new t.FrappeCall(this.url,this.axios,this.useToken,this.token,this.tokenType)},l}();return du.FrappeApp=i,du}var Lr={},F_;function YO(){if(F_)return Lr;F_=1;var e=Lr&&Lr.__assign||function(){return e=Object.assign||function(a){for(var i,l=1,u=arguments.length;l<u;l++){i=arguments[l];for(var f in i)Object.prototype.hasOwnProperty.call(i,f)&&(a[f]=i[f])}return a},e.apply(this,arguments)},t=Lr&&Lr.__awaiter||function(a,i,l,u){function f(h){return h instanceof l?h:new l(function(p){p(h)})}return new(l||(l=Promise))(function(h,p){function g(w){try{x(u.next(w))}catch(_){p(_)}}function b(w){try{x(u.throw(w))}catch(_){p(_)}}function x(w){w.done?h(w.value):f(w.value).then(g,b)}x((u=u.apply(a,i||[])).next())})},n=Lr&&Lr.__generator||function(a,i){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},u,f,h,p;return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(x){return function(w){return b([x,w])}}function b(x){if(u)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(l=0)),l;)try{if(u=1,f&&(h=x[0]&2?f.return:x[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,x[1])).done)return h;switch(f=0,h&&(x=[x[0]&2,h.value]),x[0]){case 0:case 1:h=x;break;case 4:return l.label++,{value:x[1],done:!1};case 5:l.label++,f=x[1],x=[0];continue;case 7:x=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(x[0]===6||x[0]===2)){l=0;continue}if(x[0]===3&&(!h||x[1]>h[0]&&x[1]<h[3])){l.label=x[1];break}if(x[0]===6&&l.label<h[1]){l.label=h[1],h=x;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(x);break}h[2]&&l.ops.pop(),l.trys.pop();continue}x=i.call(a,l)}catch(w){x=[6,w],f=0}finally{u=h=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}};Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.FrappeAuth=void 0;var s=function(){function a(i,l,u,f,h){this.appURL=i,this.axios=l,this.useToken=u!=null?u:!1,this.token=f,this.tokenType=h}return a.prototype.loginWithUsernamePassword=function(i){return t(this,void 0,void 0,function(){return n(this,function(l){return[2,this.axios.post("/api/method/login",{usr:i.username,pwd:i.password,otp:i.otp,tmp_id:i.tmp_id,device:i.device}).then(function(u){return u.data}).catch(function(u){var f,h;throw e(e({},u.response.data),{httpStatus:u.response.status,httpStatusText:u.response.statusText,message:(f=u.response.data.message)!==null&&f!==void 0?f:"There was an error while logging in",exception:(h=u.response.data.exception)!==null&&h!==void 0?h:""})})]})})},a.prototype.getLoggedInUser=function(){return t(this,void 0,void 0,function(){return n(this,function(i){return[2,this.axios.get("/api/method/frappe.auth.get_logged_user").then(function(l){return l.data.message}).catch(function(l){var u;throw e(e({},l.response.data),{httpStatus:l.response.status,httpStatusText:l.response.statusText,message:"There was an error while fetching the logged in user",exception:(u=l.response.data.exception)!==null&&u!==void 0?u:""})})]})})},a.prototype.logout=function(){return t(this,void 0,void 0,function(){return n(this,function(i){return[2,this.axios.post("/api/method/logout",{}).then(function(){}).catch(function(l){var u,f;throw e(e({},l.response.data),{httpStatus:l.response.status,httpStatusText:l.response.statusText,message:(u=l.response.data.message)!==null&&u!==void 0?u:"There was an error while logging out",exception:(f=l.response.data.exception)!==null&&f!==void 0?f:""})})]})})},a.prototype.forgetPassword=function(i){return t(this,void 0,void 0,function(){return n(this,function(l){return[2,this.axios.post("/",{cmd:"frappe.core.doctype.user.user.reset_password",user:i}).then(function(){}).catch(function(u){var f,h;throw e(e({},u.response.data),{httpStatus:u.response.status,httpStatusText:u.response.statusText,message:(f=u.response.data.message)!==null&&f!==void 0?f:"There was an error sending password reset email.",exception:(h=u.response.data.exception)!==null&&h!==void 0?h:""})})]})})},a}();return Lr.FrappeAuth=s,Lr}var $_;function nN(){return $_||($_=1,function(e){var t=Ol&&Ol.__createBinding||(Object.create?function(s,a,i,l){l===void 0&&(l=i);var u=Object.getOwnPropertyDescriptor(a,i);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(s,l,u)}:function(s,a,i,l){l===void 0&&(l=i),s[l]=a[i]}),n=Ol&&Ol.__exportStar||function(s,a){for(var i in s)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,s,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(WO(),e),n(YO(),e),n(JS(),e),n(tN(),e),n(ZS(),e)}(Ol)),Ol}var XO=nN(),H_={exports:{}},Mg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function GO(){if(V_)return Mg;V_=1;var e=se;function t(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var n=typeof Object.is=="function"?Object.is:t,s=e.useState,a=e.useEffect,i=e.useLayoutEffect,l=e.useDebugValue;function u(g,b){var x=b(),w=s({inst:{value:x,getSnapshot:b}}),_=w[0].inst,S=w[1];return i(function(){_.value=x,_.getSnapshot=b,f(_)&&S({inst:_})},[g,x,b]),a(function(){return f(_)&&S({inst:_}),g(function(){f(_)&&S({inst:_})})},[g]),l(x),x}function f(g){var b=g.getSnapshot;g=g.value;try{var x=b();return!n(g,x)}catch(w){return!0}}function h(g,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return Mg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Mg}var I_;function KO(){return I_||(I_=1,H_.exports=GO()),H_.exports}var QO=KO();const sN=0,rN=1,aN=2,q_=3;var W_=Object.prototype.hasOwnProperty;function A0(e,t){var n,s;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((s=e.length)===t.length)for(;s--&&A0(e[s],t[s]););return s===-1}if(!n||typeof e=="object"){s=0;for(n in e)if(W_.call(e,n)&&++s&&!W_.call(t,n)||!(n in t)||!A0(e[n],t[n]))return!1;return Object.keys(t).length===s}}return e!==e&&t!==t}const $a=new WeakMap,Ti=()=>{},Cs=Ti(),kh=Object,Zt=e=>e===Cs,Ur=e=>typeof e=="function",Ia=(e,t)=>z(z({},e),t),iN=e=>Ur(e.then),Pg={},Nf={},Ox="undefined",td=typeof window!=Ox,D0=typeof document!=Ox,ZO=td&&"Deno"in window,JO=()=>td&&typeof window.requestAnimationFrame!=Ox,oN=(e,t)=>{const n=$a.get(e);return[()=>!Zt(t)&&e.get(t)||Pg,s=>{if(!Zt(t)){const a=e.get(t);t in Nf||(Nf[t]=a),n[5](t,Ia(a,s),a||Pg)}},n[6],()=>!Zt(t)&&t in Nf?Nf[t]:!Zt(t)&&e.get(t)||Pg]};let R0=!0;const eA=()=>R0,[M0,P0]=td&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Ti,Ti],tA=()=>{const e=D0&&document.visibilityState;return Zt(e)||e!=="hidden"},nA=e=>(D0&&document.addEventListener("visibilitychange",e),M0("focus",e),()=>{D0&&document.removeEventListener("visibilitychange",e),P0("focus",e)}),sA=e=>{const t=()=>{R0=!0,e()},n=()=>{R0=!1};return M0("online",t),M0("offline",n),()=>{P0("online",t),P0("offline",n)}},rA={isOnline:eA,isVisible:tA},aA={initFocus:nA,initReconnect:sA},Y_=!se.useId,Vu=!td||ZO,iA=e=>JO()?window.requestAnimationFrame(e):setTimeout(e,1),ch=Vu?j.useEffect:j.useLayoutEffect,Lg=typeof navigator<"u"&&navigator.connection,X_=!Vu&&Lg&&(["slow-2g","2g"].includes(Lg.effectiveType)||Lg.saveData),Ef=new WeakMap,zg=(e,t)=>kh.prototype.toString.call(e)===`[object ${t}]`;let oA=0;const L0=e=>{const t=typeof e,n=zg(e,"Date"),s=zg(e,"RegExp"),a=zg(e,"Object");let i,l;if(kh(e)===e&&!n&&!s){if(i=Ef.get(e),i)return i;if(i=++oA+"~",Ef.set(e,i),Array.isArray(e)){for(i="@",l=0;l<e.length;l++)i+=L0(e[l])+",";Ef.set(e,i)}if(a){i="#";const u=kh.keys(e).sort();for(;!Zt(l=u.pop());)Zt(e[l])||(i+=l+":"+L0(e[l])+",");Ef.set(e,i)}}else i=n?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return i},Ax=e=>{if(Ur(e))try{e=e()}catch(n){e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?L0(e):"",[e,t]};let lA=0;const z0=()=>++lA;function lN(...e){return ye(this,null,function*(){const[t,n,s,a]=e,i=Ia({populateCache:!0,throwOnError:!0},typeof a=="boolean"?{revalidate:a}:a||{});let l=i.populateCache;const u=i.rollbackOnError;let f=i.optimisticData;const h=b=>typeof u=="function"?u(b):u!==!1,p=i.throwOnError;if(Ur(n)){const b=n,x=[],w=t.keys();for(const _ of w)!/^\$(inf|sub)\$/.test(_)&&b(t.get(_)._k)&&x.push(_);return Promise.all(x.map(g))}return g(n);function g(b){return ye(this,null,function*(){const[x]=Ax(b);if(!x)return;const[w,_]=oN(t,x),[S,N,R,A]=$a.get(t),C=()=>{const q=S[x];return(Ur(i.revalidate)?i.revalidate(w().data,b):i.revalidate!==!1)&&(delete R[x],delete A[x],q&&q[0])?q[0](aN).then(()=>w().data):w().data};if(e.length<3)return C();let k=s,D;const M=z0();N[x]=[M,0];const E=!Zt(f),P=w(),K=P.data,W=P._c,Y=Zt(W)?K:W;if(E&&(f=Ur(f)?f(Y,K):f,_({data:f,_c:Y})),Ur(k))try{k=k(Y)}catch(q){D=q}if(k&&iN(k))if(k=yield k.catch(q=>{D=q}),M!==N[x][0]){if(D)throw D;return k}else D&&E&&h(D)&&(l=!0,_({data:Y,_c:Cs}));if(l&&!D)if(Ur(l)){const q=l(k,Y);_({data:q,error:Cs,_c:Cs})}else _({data:k,error:Cs,_c:Cs});if(N[x][1]=z0(),Promise.resolve(C()).then(()=>{_({_c:Cs})}),D){if(p)throw D;return}return k})}})}const G_=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},cN=(e,t)=>{if(!$a.has(e)){const n=Ia(aA,t),s=Object.create(null),a=lN.bind(Cs,e);let i=Ti;const l=Object.create(null),u=(p,g)=>{const b=l[p]||[];return l[p]=b,b.push(g),()=>b.splice(b.indexOf(g),1)},f=(p,g,b)=>{e.set(p,g);const x=l[p];if(x)for(const w of x)w(g,b)},h=()=>{if(!$a.has(e)&&($a.set(e,[s,Object.create(null),Object.create(null),Object.create(null),a,f,u]),!Vu)){const p=n.initFocus(setTimeout.bind(Cs,G_.bind(Cs,s,sN))),g=n.initReconnect(setTimeout.bind(Cs,G_.bind(Cs,s,rN)));i=()=>{p&&p(),g&&g(),$a.delete(e)}}};return h(),[e,a,h,i]}return[e,$a.get(e)[4]]},cA=(e,t,n,s,a)=>{const i=n.errorRetryCount,l=a.retryCount,u=~~((Math.random()+.5)*(1<<(l<8?l:8)))*n.errorRetryInterval;!Zt(i)&&l>i||setTimeout(s,u,a)},uA=A0,[Dx,dA]=cN(new Map),uN=Ia({onLoadingSlow:Ti,onSuccess:Ti,onError:Ti,onErrorRetry:cA,onDiscarded:Ti,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:X_?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:X_?5e3:3e3,compare:uA,isPaused:()=>!1,cache:Dx,mutate:dA,fallback:{}},rA),dN=(e,t)=>{const n=Ia(e,t);if(t){const{use:s,fallback:a}=e,{use:i,fallback:l}=t;s&&i&&(n.use=s.concat(i)),a&&l&&(n.fallback=Ia(a,l))}return n},U0=j.createContext({}),fA=e=>{const{value:t}=e,n=j.useContext(U0),s=Ur(t),a=j.useMemo(()=>s?t(n):t,[s,n,t]),i=j.useMemo(()=>s?a:dN(n,a),[s,n,a]),l=a&&a.provider,u=j.useRef(Cs);l&&!u.current&&(u.current=cN(l(i.cache||Dx),a));const f=u.current;return f&&(i.cache=f[0],i.mutate=f[1]),ch(()=>{if(f)return f[2]&&f[2](),f[3]},[]),j.createElement(U0.Provider,Ia(e,{value:i}))},hA="$inf$",fN=td&&window.__SWR_DEVTOOLS_USE__,mA=fN?window.__SWR_DEVTOOLS_USE__:[],pA=()=>{fN&&(window.__SWR_DEVTOOLS_REACT__=se)},gA=e=>Ur(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],xA=()=>Ia(uN,j.useContext(U0)),yA=e=>(t,n,s)=>e(t,n&&((...a)=>{const[i]=Ax(t),[,,,l]=$a.get(Dx);if(i.startsWith(hA))return n(...a);const u=l[i];return Zt(u)?n(...a):(delete l[i],u)}),s),bA=mA.concat(yA),vA=e=>function(...t){const n=xA(),[s,a,i]=gA(t),l=dN(n,i);let u=e;const{use:f}=l,h=(f||[]).concat(bA);for(let p=h.length;p--;)u=h[p](u);return u(s,a||l.fetcher||null,l)},wA=(e,t,n)=>{const s=t[e]||(t[e]=[]);return s.push(n),()=>{const a=s.indexOf(n);a>=0&&(s[a]=s[s.length-1],s.pop())}};pA();const Ug=se.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),Bg={dedupe:!0},_A=(e,t,n)=>{const{cache:s,compare:a,suspense:i,fallbackData:l,revalidateOnMount:u,revalidateIfStale:f,refreshInterval:h,refreshWhenHidden:p,refreshWhenOffline:g,keepPreviousData:b}=n,[x,w,_,S]=$a.get(s),[N,R]=Ax(e),A=j.useRef(!1),C=j.useRef(!1),k=j.useRef(N),D=j.useRef(t),M=j.useRef(n),E=()=>M.current,P=()=>E().isVisible()&&E().isOnline(),[K,W,Y,q]=oN(s,N),J=j.useRef({}).current,G=Zt(l)?Zt(n.fallback)?Cs:n.fallback[N]:l,H=(Ke,pt)=>{for(const Pe in J){const ht=Pe;if(ht==="data"){if(!a(Ke[ht],pt[ht])&&(!Zt(Ke[ht])||!a(_e,pt[ht])))return!1}else if(pt[ht]!==Ke[ht])return!1}return!0},te=j.useMemo(()=>{const Ke=!N||!t?!1:Zt(u)?E().isPaused()||i?!1:f!==!1:u,pt=St=>{const X=Ia(St);return delete X._k,Ke?z({isValidating:!0,isLoading:!0},X):X},Pe=K(),ht=q(),$t=pt(Pe),vt=Pe===ht?$t:pt(ht);let Mt=$t;return[()=>{const St=pt(K());return H(St,Mt)?(Mt.data=St.data,Mt.isLoading=St.isLoading,Mt.isValidating=St.isValidating,Mt.error=St.error,Mt):(Mt=St,St)},()=>vt]},[s,N]),ne=QO.useSyncExternalStore(j.useCallback(Ke=>Y(N,(pt,Pe)=>{H(Pe,pt)||Ke()}),[s,N]),te[0],te[1]),le=!A.current,B=x[N]&&x[N].length>0,Q=ne.data,he=Zt(Q)?G&&iN(G)?Ug(G):G:Q,$=ne.error,re=j.useRef(he),_e=b?Zt(Q)?Zt(re.current)?he:re.current:Q:he,xe=B&&!Zt($)?!1:le&&!Zt(u)?u:E().isPaused()?!1:i?Zt(he)?!1:f:Zt(he)||f,Ee=!!(N&&t&&le&&xe),De=Zt(ne.isValidating)?Ee:ne.isValidating,Ve=Zt(ne.isLoading)?Ee:ne.isLoading,Le=j.useCallback(Ke=>ye(null,null,function*(){const pt=D.current;if(!N||!pt||C.current||E().isPaused())return!1;let Pe,ht,$t=!0;const vt=Ke||{},Mt=!_[N]||!vt.dedupe,St=()=>Y_?!C.current&&N===k.current&&A.current:N===k.current,X={isValidating:!1,isLoading:!1},de=()=>{W(X)},I=()=>{const Me=_[N];Me&&Me[1]===ht&&delete _[N]},Se={isValidating:!0};Zt(K().data)&&(Se.isLoading=!0);try{if(Mt&&(W(Se),n.loadingTimeout&&Zt(K().data)&&setTimeout(()=>{$t&&St()&&E().onLoadingSlow(N,n)},n.loadingTimeout),_[N]=[pt(R),z0()]),[Pe,ht]=_[N],Pe=yield Pe,Mt&&setTimeout(I,n.dedupingInterval),!_[N]||_[N][1]!==ht)return Mt&&St()&&E().onDiscarded(N),!1;X.error=Cs;const Me=w[N];if(!Zt(Me)&&(ht<=Me[0]||ht<=Me[1]||Me[1]===0))return de(),Mt&&St()&&E().onDiscarded(N),!1;const Re=K().data;X.data=a(Re,Pe)?Re:Pe,Mt&&St()&&E().onSuccess(Pe,N,n)}catch(Me){I();const Re=E(),{shouldRetryOnError:Fe}=Re;Re.isPaused()||(X.error=Me,Mt&&St()&&(Re.onError(Me,N,Re),(Fe===!0||Ur(Fe)&&Fe(Me))&&(!E().revalidateOnFocus||!E().revalidateOnReconnect||P())&&Re.onErrorRetry(Me,N,Re,qe=>{const Qe=x[N];Qe&&Qe[0]&&Qe[0](q_,qe)},{retryCount:(vt.retryCount||0)+1,dedupe:!0})))}return $t=!1,de(),!0}),[N,s]),lt=j.useCallback((...Ke)=>lN(s,k.current,...Ke),[]);if(ch(()=>{D.current=t,M.current=n,Zt(Q)||(re.current=Q)}),ch(()=>{if(!N)return;const Ke=Le.bind(Cs,Bg);let pt=0;E().revalidateOnFocus&&(pt=Date.now()+E().focusThrottleInterval);const Pe=wA(N,x,(ht,$t={})=>{if(ht==sN){const vt=Date.now();E().revalidateOnFocus&&vt>pt&&P()&&(pt=vt+E().focusThrottleInterval,Ke())}else if(ht==rN)E().revalidateOnReconnect&&P()&&Ke();else{if(ht==aN)return Le();if(ht==q_)return Le($t)}});return C.current=!1,k.current=N,A.current=!0,W({_k:R}),xe&&(Zt(he)||Vu?Ke():iA(Ke)),()=>{C.current=!0,Pe()}},[N]),ch(()=>{let Ke;function pt(){const ht=Ur(h)?h(K().data):h;ht&&Ke!==-1&&(Ke=setTimeout(Pe,ht))}function Pe(){!K().error&&(p||E().isVisible())&&(g||E().isOnline())?Le(Bg).then(pt):pt()}return pt(),()=>{Ke&&(clearTimeout(Ke),Ke=-1)}},[h,p,g,N]),j.useDebugValue(_e),i&&Zt(he)&&N){if(!Y_&&Vu)throw new Error("Fallback data is required when using Suspense in SSR.");D.current=t,M.current=n,C.current=!1;const Ke=S[N];if(!Zt(Ke)){const pt=lt(Ke);Ug(pt)}if(Zt($)){const pt=Le(Bg);Zt(_e)||(pt.status="fulfilled",pt.value=!0),Ug(pt)}else throw $}return{mutate:lt,get data(){return J.data=!0,_e},get error(){return J.error=!0,$},get isValidating(){return J.isValidating=!0,De},get isLoading(){return J.isLoading=!0,Ve}}},jA=kh.defineProperty(fA,"defaultValue",{value:uN}),nm=vA(_A);Promise.resolve();const da=Object.create(null);da.open="0";da.close="1";da.ping="2";da.pong="3";da.message="4";da.upgrade="5";da.noop="6";const uh=Object.create(null);Object.keys(da).forEach(e=>{uh[da[e]]=e});const B0={type:"error",data:"parser error"},hN=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",mN=typeof ArrayBuffer=="function",pN=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Rx=({type:e,data:t},n,s)=>hN&&t instanceof Blob?n?s(t):K_(t,s):mN&&(t instanceof ArrayBuffer||pN(t))?n?s(t):K_(new Blob([t]),s):s(da[e]+(t||"")),K_=(e,t)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];t("b"+(s||""))},n.readAsDataURL(e)};function Q_(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Fg;function SA(e,t){if(hN&&e.data instanceof Blob)return e.data.arrayBuffer().then(Q_).then(t);if(mN&&(e.data instanceof ArrayBuffer||pN(e.data)))return t(Q_(e.data));Rx(e,!1,n=>{Fg||(Fg=new TextEncoder),t(Fg.encode(n))})}const Z_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ku=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Z_.length;e++)ku[Z_.charCodeAt(e)]=e;const NA=e=>{let t=e.length*.75,n=e.length,s,a=0,i,l,u,f;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const h=new ArrayBuffer(t),p=new Uint8Array(h);for(s=0;s<n;s+=4)i=ku[e.charCodeAt(s)],l=ku[e.charCodeAt(s+1)],u=ku[e.charCodeAt(s+2)],f=ku[e.charCodeAt(s+3)],p[a++]=i<<2|l>>4,p[a++]=(l&15)<<4|u>>2,p[a++]=(u&3)<<6|f&63;return h},EA=typeof ArrayBuffer=="function",Mx=(e,t)=>{if(typeof e!="string")return{type:"message",data:gN(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:TA(e.substring(1),t)}:uh[n]?e.length>1?{type:uh[n],data:e.substring(1)}:{type:uh[n]}:B0},TA=(e,t)=>{if(EA){const n=NA(e);return gN(n,t)}else return{base64:!0,data:e}},gN=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},xN="",CA=(e,t)=>{const n=e.length,s=new Array(n);let a=0;e.forEach((i,l)=>{Rx(i,!1,u=>{s[l]=u,++a===n&&t(s.join(xN))})})},kA=(e,t)=>{const n=e.split(xN),s=[];for(let a=0;a<n.length;a++){const i=Mx(n[a],t);if(s.push(i),i.type==="error")break}return s};function OA(){return new TransformStream({transform(e,t){SA(e,n=>{const s=n.length;let a;if(s<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,s);else if(s<65536){a=new Uint8Array(3);const i=new DataView(a.buffer);i.setUint8(0,126),i.setUint16(1,s)}else{a=new Uint8Array(9);const i=new DataView(a.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(s))}e.data&&typeof e.data!="string"&&(a[0]|=128),t.enqueue(a),t.enqueue(n)})}})}let $g;function Tf(e){return e.reduce((t,n)=>t+n.length,0)}function Cf(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let s=0;for(let a=0;a<t;a++)n[a]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),n}function AA(e,t){$g||($g=new TextDecoder);const n=[];let s=0,a=-1,i=!1;return new TransformStream({transform(l,u){for(n.push(l);;){if(s===0){if(Tf(n)<1)break;const f=Cf(n,1);i=(f[0]&128)===128,a=f[0]&127,a<126?s=3:a===126?s=1:s=2}else if(s===1){if(Tf(n)<2)break;const f=Cf(n,2);a=new DataView(f.buffer,f.byteOffset,f.length).getUint16(0),s=3}else if(s===2){if(Tf(n)<8)break;const f=Cf(n,8),h=new DataView(f.buffer,f.byteOffset,f.length),p=h.getUint32(0);if(p>Math.pow(2,21)-1){u.enqueue(B0);break}a=p*Math.pow(2,32)+h.getUint32(4),s=3}else{if(Tf(n)<a)break;const f=Cf(n,a);u.enqueue(Mx(i?f:$g.decode(f),t)),s=0}if(a===0||a>e){u.enqueue(B0);break}}}})}const yN=4;function Gn(e){if(e)return DA(e)}function DA(e){for(var t in Gn.prototype)e[t]=Gn.prototype[t];return e}Gn.prototype.on=Gn.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Gn.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};Gn.prototype.off=Gn.prototype.removeListener=Gn.prototype.removeAllListeners=Gn.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var s,a=0;a<n.length;a++)if(s=n[a],s===t||s.fn===t){n.splice(a,1);break}return n.length===0&&delete this._callbacks["$"+e],this};Gn.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,a=n.length;s<a;++s)n[s].apply(this,t)}return this};Gn.prototype.emitReserved=Gn.prototype.emit;Gn.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Gn.prototype.hasListeners=function(e){return!!this.listeners(e).length};const wr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function bN(e,...t){return t.reduce((n,s)=>(e.hasOwnProperty(s)&&(n[s]=e[s]),n),{})}const RA=wr.setTimeout,MA=wr.clearTimeout;function sm(e,t){t.useNativeTimers?(e.setTimeoutFn=RA.bind(wr),e.clearTimeoutFn=MA.bind(wr)):(e.setTimeoutFn=wr.setTimeout.bind(wr),e.clearTimeoutFn=wr.clearTimeout.bind(wr))}const PA=1.33;function LA(e){return typeof e=="string"?zA(e):Math.ceil((e.byteLength||e.size)*PA)}function zA(e){let t=0,n=0;for(let s=0,a=e.length;s<a;s++)t=e.charCodeAt(s),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(s++,n+=4);return n}function UA(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function BA(e){let t={},n=e.split("&");for(let s=0,a=n.length;s<a;s++){let i=n[s].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class FA extends Error{constructor(t,n,s){super(t),this.description=n,this.context=s,this.type="TransportError"}}class Px extends Gn{constructor(t){super(),this.writable=!1,sm(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,s){return super.emitReserved("error",new FA(t,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Mx(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=UA(t);return n.length?"?"+n:""}}const vN="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),F0=64,$A={};let J_=0,kf=0,ej;function tj(e){let t="";do t=vN[e%F0]+t,e=Math.floor(e/F0);while(e>0);return t}function wN(){const e=tj(+new Date);return e!==ej?(J_=0,ej=e):e+"."+tj(J_++)}for(;kf<F0;kf++)$A[vN[kf]]=kf;let _N=!1;try{_N=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(e){}const HA=_N;function jN(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||HA))return new XMLHttpRequest}catch(n){}if(!t)try{return new wr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(n){}}function VA(){}const IA=function(){return new jN({xdomain:!1}).responseType!=null}();class qA extends Px{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const s=location.protocol==="https:";let a=location.port;a||(a=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||a!==t.port}const n=t&&t.forceBase64;this.supportsBinary=IA&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let s=0;this.polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};kA(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,CA(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=wN()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Vl(this.uri(),t)}doWrite(t,n){const s=this.request({method:"POST",data:t});s.on("success",n),s.on("error",(a,i)=>{this.onError("xhr post error",a,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=t}}let Vl=class dh extends Gn{constructor(t,n){super(),sm(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=bN(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const s=this.xhr=new jN(n);try{s.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let a in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(a)&&s.setRequestHeader(a,this.opts.extraHeaders[a])}}catch(a){}if(this.method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(a){}try{s.setRequestHeader("Accept","*/*")}catch(a){}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(s.timeout=this.opts.requestTimeout),s.onreadystatechange=()=>{var a;s.readyState===3&&((a=this.opts.cookieJar)===null||a===void 0||a.parseCookies(s)),s.readyState===4&&(s.status===200||s.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof s.status=="number"?s.status:0)},0))},s.send(this.data)}catch(a){this.setTimeoutFn(()=>{this.onError(a)},0);return}typeof document<"u"&&(this.index=dh.requestsCount++,dh.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=VA,t)try{this.xhr.abort()}catch(n){}typeof document<"u"&&delete dh.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};Vl.requestsCount=0;Vl.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",nj);else if(typeof addEventListener=="function"){const e="onpagehide"in wr?"pagehide":"unload";addEventListener(e,nj,!1)}}function nj(){for(let e in Vl.requests)Vl.requests.hasOwnProperty(e)&&Vl.requests[e].abort()}const Lx=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Of=wr.WebSocket||wr.MozWebSocket,sj=!0,WA="arraybuffer",rj=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class YA extends Px{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,s=rj?{}:bN(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=sj&&!rj?n?new Of(t,n):new Of(t):new Of(t,n,s)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],a=n===t.length-1;Rx(s,this.supportsBinary,i=>{try{sj&&this.ws.send(i)}catch(l){}a&&Lx(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=wN()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!Of}}class XA extends Px{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=AA(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(n).getReader(),a=OA();a.readable.pipeTo(t.writable),this.writer=a.writable.getWriter();const i=()=>{s.read().then(({done:u,value:f})=>{u||(this.onPacket(f),i())}).catch(u=>{})};i();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this.writer.write(l).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],a=n===t.length-1;this.writer.write(s).then(()=>{a&&Lx(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const GA={websocket:YA,webtransport:XA,polling:qA},KA=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,QA=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function $0(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),s=e.indexOf("]");n!=-1&&s!=-1&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));let a=KA.exec(e||""),i={},l=14;for(;l--;)i[QA[l]]=a[l]||"";return n!=-1&&s!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=ZA(i,i.path),i.queryKey=JA(i,i.query),i}function ZA(e,t){const n=/\/{2,9}/g,s=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&s.splice(0,1),t.slice(-1)=="/"&&s.splice(s.length-1,1),s}function JA(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,a,i){a&&(n[a]=i)}),n}let SN=class Bl extends Gn{constructor(t,n={}){super(),this.binaryType=WA,this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=$0(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=$0(n.host).host),sm(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=BA(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=yN,n.transport=t,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new GA[t](s)}open(){let t;if(this.opts.rememberUpgrade&&Bl.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch(n){this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),s=!1;Bl.priorWebsocketSuccess=!1;const a=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",g=>{if(!s)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Bl.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(p(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=n.name,this.emitReserved("upgradeError",b)}}))};function i(){s||(s=!0,p(),n.close(),n=null)}const l=g=>{const b=new Error("probe error: "+g);b.transport=n.name,i(),this.emitReserved("upgradeError",b)};function u(){l("transport closed")}function f(){l("socket closed")}function h(g){n&&g.name!==n.name&&i()}const p=()=>{n.removeListener("open",a),n.removeListener("error",l),n.removeListener("close",u),this.off("close",f),this.off("upgrading",h)};n.once("open",a),n.once("error",l),n.once("close",u),this.once("close",f),this.once("upgrading",h),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onOpen(){if(this.readyState="open",Bl.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(t+=LA(s)),n>0&&t>this.maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}write(t,n,s){return this.sendPacket("message",t,n,s),this}send(t,n,s){return this.sendPacket("message",t,n,s),this}sendPacket(t,n,s,a){if(typeof n=="function"&&(a=n,n=void 0),typeof s=="function"&&(a=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const i={type:t,data:n,options:s};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),a&&this.once("flush",a),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}onError(t){Bl.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let s=0;const a=t.length;for(;s<a;s++)~this.transports.indexOf(t[s])&&n.push(t[s]);return n}};SN.protocol=yN;function eD(e,t="",n){let s=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),s=$0(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const a=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+a+":"+s.port+t,s.href=s.protocol+"://"+a+(n&&n.port===s.port?"":":"+s.port),s}const tD=typeof ArrayBuffer=="function",nD=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,NN=Object.prototype.toString,sD=typeof Blob=="function"||typeof Blob<"u"&&NN.call(Blob)==="[object BlobConstructor]",rD=typeof File=="function"||typeof File<"u"&&NN.call(File)==="[object FileConstructor]";function zx(e){return tD&&(e instanceof ArrayBuffer||nD(e))||sD&&e instanceof Blob||rD&&e instanceof File}function fh(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,s=e.length;n<s;n++)if(fh(e[n]))return!0;return!1}if(zx(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return fh(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&fh(e[n]))return!0;return!1}function aD(e){const t=[],n=e.data,s=e;return s.data=H0(n,t),s.attachments=t.length,{packet:s,buffers:t}}function H0(e,t){if(!e)return e;if(zx(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let s=0;s<e.length;s++)n[s]=H0(e[s],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=H0(e[s],t));return n}return e}function iD(e,t){return e.data=V0(e.data,t),delete e.attachments,e}function V0(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=V0(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=V0(e[n],t));return e}const oD=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],lD=5;var Xt;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Xt||(Xt={}));class cD{constructor(t){this.replacer=t}encode(t){return(t.type===Xt.EVENT||t.type===Xt.ACK)&&fh(t)?this.encodeAsBinary({type:t.type===Xt.EVENT?Xt.BINARY_EVENT:Xt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===Xt.BINARY_EVENT||t.type===Xt.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=aD(t),s=this.encodeAsString(n.packet),a=n.buffers;return a.unshift(s),a}}function aj(e){return Object.prototype.toString.call(e)==="[object Object]"}class Ux extends Gn{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const s=n.type===Xt.BINARY_EVENT;s||n.type===Xt.BINARY_ACK?(n.type=s?Xt.EVENT:Xt.ACK,this.reconstructor=new uD(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(zx(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const s={type:Number(t.charAt(0))};if(Xt[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===Xt.BINARY_EVENT||s.type===Xt.BINARY_ACK){const i=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const l=t.substring(i,n);if(l!=Number(l)||t.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(l)}if(t.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););s.nsp=t.substring(i,n)}else s.nsp="/";const a=t.charAt(n+1);if(a!==""&&Number(a)==a){const i=n+1;for(;++n;){const l=t.charAt(n);if(l==null||Number(l)!=l){--n;break}if(n===t.length)break}s.id=Number(t.substring(i,n+1))}if(t.charAt(++n)){const i=this.tryParse(t.substr(n));if(Ux.isPayloadValid(s.type,i))s.data=i;else throw new Error("invalid payload")}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(n){return!1}}static isPayloadValid(t,n){switch(t){case Xt.CONNECT:return aj(n);case Xt.DISCONNECT:return n===void 0;case Xt.CONNECT_ERROR:return typeof n=="string"||aj(n);case Xt.EVENT:case Xt.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&oD.indexOf(n[0])===-1);case Xt.ACK:case Xt.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class uD{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=iD(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const dD=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Ux,Encoder:cD,get PacketType(){return Xt},protocol:lD},Symbol.toStringTag,{value:"Module"}));function zr(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const fD=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class EN extends Gn{constructor(t,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[zr(t,"open",this.onopen.bind(this)),zr(t,"packet",this.onpacket.bind(this)),zr(t,"error",this.onerror.bind(this)),zr(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(fD.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const s={type:Xt.EVENT,data:n};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const i=this.ids++,l=n.pop();this._registerAckCallback(i,l),s.id=i}const a=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!a||!this.connected)||(this.connected?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,n){var s;const a=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(a===void 0){this.acks[t]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},a);this.acks[t]=(...l)=>{this.io.clearTimeoutFn(i),n.apply(this,[null,...l])}}emitWithAck(t,...n){const s=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((a,i)=>{n.push((l,u)=>s?l?i(l):a(u):a(l)),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((a,...i)=>s!==this._queue[0]?void 0:(a!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(a)):(this._queue.shift(),n&&n(null,...i)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Xt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Xt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Xt.EVENT:case Xt.BINARY_EVENT:this.onevent(t);break;case Xt.ACK:case Xt.BINARY_ACK:this.onack(t);break;case Xt.DISCONNECT:this.ondisconnect();break;case Xt.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let s=!1;return function(...a){s||(s=!0,n.packet({type:Xt.ACK,id:t,data:a}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(n.apply(this,t.data),delete this.acks[t.id])}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Xt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,t.data)}}}function tc(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}tc.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-n:e+n}return Math.min(e,this.max)|0};tc.prototype.reset=function(){this.attempts=0};tc.prototype.setMin=function(e){this.ms=e};tc.prototype.setMax=function(e){this.max=e};tc.prototype.setJitter=function(e){this.jitter=e};class I0 extends Gn{constructor(t,n){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,sm(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new tc({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const a=n.parser||dD;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new SN(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const a=zr(n,"open",function(){s.onopen(),t&&t()}),i=u=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",u),t?t(u):this.maybeReconnectOnOpen()},l=zr(n,"error",i);if(this._timeout!==!1){const u=this._timeout,f=this.setTimeoutFn(()=>{a(),i(new Error("timeout")),n.close()},u);this.opts.autoUnref&&f.unref(),this.subs.push(()=>{this.clearTimeoutFn(f)})}return this.subs.push(a),this.subs.push(l),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(zr(t,"ping",this.onping.bind(this)),zr(t,"data",this.ondata.bind(this)),zr(t,"error",this.onerror.bind(this)),zr(t,"close",this.onclose.bind(this)),zr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Lx(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new EN(this,t,n),this.nsps[t]=s),s}_destroy(t){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let s=0;s<n.length;s++)this.engine.write(n[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(a=>{a?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",a)):t.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const fu={};function hh(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=eD(e,t.path||"/socket.io"),s=n.source,a=n.id,i=n.path,l=fu[a]&&i in fu[a].nsps,u=t.forceNew||t["force new connection"]||t.multiplex===!1||l;let f;return u?f=new I0(s,t):(fu[a]||(fu[a]=new I0(s,t)),f=fu[a]),n.query&&!t.query&&(t.query=n.queryKey),f.socket(n.path,t)}Object.assign(hh,{Manager:I0,Socket:EN,io:hh,connect:hh});class hD{constructor(t,n,s,a){go(this,"socket_port"),go(this,"host"),go(this,"port"),go(this,"protocol"),go(this,"url"),go(this,"site_name"),go(this,"socket");var i,l,u,f;if(this.socket_port=s!=null?s:"9000",this.host=(i=window.location)==null?void 0:i.hostname,this.port=(l=window.location)!=null&&l.port?`:${this.socket_port}`:"",this.protocol=((u=window.location)==null?void 0:u.protocol)==="https:"?"https":"http",t){let h=new URL(t);h.port="",s?(h.port=s,this.url=h.toString()):this.url=h.toString()}else this.url=`${this.protocol}://${this.host}${this.port}/`;n&&(this.url=`${this.url}${n}`),this.site_name=n,this.socket=hh(`${this.url}`,{withCredentials:!0,secure:this.protocol==="https",extraHeaders:a&&a.useToken===!0?{Authorization:`${a.type} ${(f=a.token)==null?void 0:f.call(a)}`}:{}})}}const Xa=j.createContext(null),mD=({url:e="",tokenParams:t,socketPort:n,swrConfig:s,siteName:a,enableSocket:i=!0,children:l,customHeaders:u})=>{const f=j.useMemo(()=>{const h=new XO.FrappeApp(e,t,void 0,u);return{url:e,tokenParams:t,app:h,auth:h.auth(),db:h.db(),call:h.call(),file:h.file(),socket:i?new hD(e,a,n,t).socket:void 0,enableSocket:i,socketPort:n}},[e,t,n,i,u]);return c.jsx(Xa.Provider,{value:f,children:c.jsx(jA,{value:s,children:l})})},qa=e=>{const{url:t,auth:n,tokenParams:s}=j.useContext(Xa),[a,i]=j.useState(),l=j.useCallback(()=>{const w=document.cookie.split(";").find(_=>_.trim().startsWith("user_id="));if(w){const _=w.split("=")[1];i(_&&_!=="Guest"?_:null)}else i(null)},[]);j.useEffect(()=>{s&&s.useToken?i(null):l()},[]);const{data:u,error:f,isLoading:h,isValidating:p,mutate:g}=nm(()=>s&&s.useToken||a?`${t}/api/method/frappe.auth.get_logged_user`:null,()=>n.getLoggedInUser(),z({onError:()=>{i(null)},shouldRetryOnError:!1,revalidateOnFocus:!1},e)),b=j.useCallback(w=>ye(null,null,function*(){return n.loginWithUsernamePassword(w).then(_=>(l(),_))}),[]),x=j.useCallback(()=>ye(null,null,function*(){return n.logout().then(()=>g(null)).then(()=>i(null))}),[]);return{isLoading:a===void 0||h,currentUser:u,isValidating:p,error:f,login:b,logout:x,updateCurrentUser:g,getUserCookie:l}},TN=(e,t,n)=>{let s=`${t}/api/resource/`;return n?s+=`${e}/${n}`:s+=`${e}`,s},On=(e,t,n,s)=>{const{url:a,db:i}=j.useContext(Xa);return nm(n===void 0?TN(e,a,t):n,()=>i.getDoc(e,t),s)},pD=e=>{var a;var t,n;let s="";if(e!=null&&e.fields&&(s+="fields="+JSON.stringify(e==null?void 0:e.fields)+"&"),e!=null&&e.filters&&(s+="filters="+JSON.stringify(e==null?void 0:e.filters)+"&"),e!=null&&e.orFilters&&(s+="or_filters="+JSON.stringify(e==null?void 0:e.orFilters)+"&"),e!=null&&e.limit_start&&(s+="limit_start="+JSON.stringify(e==null?void 0:e.limit_start)+"&"),e!=null&&e.limit&&(s+="limit="+JSON.stringify(e==null?void 0:e.limit)+"&"),e!=null&&e.groupBy&&(s+="group_by="+String(e.groupBy)+"&"),e!=null&&e.orderBy){const i=`${String((t=e.orderBy)==null?void 0:t.field)} ${(a=(n=e.orderBy)==null?void 0:n.order)!=null?a:"asc"}`;s+="order_by="+i+"&"}return e!=null&&e.asDict&&(s+="as_dict="+e.asDict),s},Dt=(e,t,n,s)=>{const{url:a,db:i}=j.useContext(Xa);return nm(n===void 0?`${TN(e,a)}?${pD(t)}`:n,()=>i.getDocList(e,t),s)},Fi=()=>{const{db:e}=j.useContext(Xa),[t,n]=j.useState(!1),[s,a]=j.useState(null),[i,l]=j.useState(!1),u=j.useCallback(()=>{n(!1),a(null),l(!1)},[]);return{createDoc:j.useCallback((f,h)=>ye(null,null,function*(){return a(null),l(!1),n(!0),e.createDoc(f,h).then(p=>(n(!1),l(!0),p)).catch(p=>{throw n(!1),l(!1),a(p),p})}),[]),loading:t,error:s,isCompleted:i,reset:u}},qs=()=>{const{db:e}=j.useContext(Xa),[t,n]=j.useState(!1),[s,a]=j.useState(null),[i,l]=j.useState(!1),u=j.useCallback(()=>{n(!1),a(null),l(!1)},[]);return{updateDoc:j.useCallback((f,h,p)=>ye(null,null,function*(){return a(null),l(!1),n(!0),e.updateDoc(f,h,p).then(g=>(n(!1),l(!0),g)).catch(g=>{throw n(!1),l(!1),a(g),g})}),[]),loading:t,error:s,reset:u,isCompleted:i}},rm=()=>{const{db:e}=j.useContext(Xa),[t,n]=j.useState(!1),[s,a]=j.useState(null),[i,l]=j.useState(!1),u=j.useCallback(()=>{n(!1),a(null),l(!1)},[]);return{deleteDoc:j.useCallback((f,h)=>ye(null,null,function*(){return a(null),l(!1),n(!0),e.deleteDoc(f,h).then(p=>(n(!1),l(!0),p)).catch(p=>{throw n(!1),l(!1),a(p),p})}),[]),loading:t,error:s,reset:u,isCompleted:i}};function gD(e){const t=[];for(let n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}const xD=(e,t,n,s,a="GET")=>{const{call:i}=j.useContext(Xa),l=gD(t!=null?t:{}),u=`${e}?${l}`;return z({},nm(n===void 0?u:n,a==="GET"?()=>i.get(e,t):()=>i.post(e,t),s))},xs=e=>{const{call:t}=j.useContext(Xa),[n,s]=j.useState(null),[a,i]=j.useState(!1),[l,u]=j.useState(null),[f,h]=j.useState(!1),p=j.useCallback(()=>{s(null),i(!1),u(null),h(!1)},[]);return{call:j.useCallback(g=>ye(null,null,function*(){return u(null),h(!1),i(!0),s(null),t.post(e,g).then(b=>(s(b),i(!1),h(!0),b)).catch(b=>{throw i(!1),h(!1),u(b),b})}),[]),result:n,loading:a,error:l,reset:p,isCompleted:f}};var yD=(e,t,n,s,a,i,l,u)=>{let f=document.documentElement,h=["light","dark"];function p(x){(Array.isArray(e)?e:[e]).forEach(w=>{let _=w==="class",S=_&&i?a.map(N=>i[N]||N):a;_?(f.classList.remove(...S),f.classList.add(i&&i[x]?i[x]:x)):f.setAttribute(w,x)}),g(x)}function g(x){u&&h.includes(x)&&(f.style.colorScheme=x)}function b(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)p(s);else try{let x=localStorage.getItem(t)||n,w=l&&x==="system"?b():x;p(w)}catch(x){}},ij=["light","dark"],CN="(prefers-color-scheme: dark)",bD=typeof window=="undefined",Bx=j.createContext(void 0),vD={setTheme:e=>{},themes:[]},wD=()=>{var e;return(e=j.useContext(Bx))!=null?e:vD},_D=e=>j.useContext(Bx)?j.createElement(j.Fragment,null,e.children):j.createElement(SD,z({},e)),jD=["light","dark"],SD=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:s=!0,storageKey:a="theme",themes:i=jD,defaultTheme:l=n?"system":"light",attribute:u="data-theme",value:f,children:h,nonce:p,scriptProps:g})=>{let[b,x]=j.useState(()=>ED(a,l)),[w,_]=j.useState(()=>b==="system"?Hg():b),S=f?Object.values(f):i,N=j.useCallback(k=>{let D=k;if(!D)return;k==="system"&&n&&(D=Hg());let M=f?f[D]:D,E=t?TD(p):null,P=document.documentElement,K=W=>{W==="class"?(P.classList.remove(...S),M&&P.classList.add(M)):W.startsWith("data-")&&(M?P.setAttribute(W,M):P.removeAttribute(W))};if(Array.isArray(u)?u.forEach(K):K(u),s){let W=ij.includes(l)?l:null,Y=ij.includes(D)?D:W;P.style.colorScheme=Y}E==null||E()},[p]),R=j.useCallback(k=>{let D=typeof k=="function"?k(b):k;x(D);try{localStorage.setItem(a,D)}catch(M){}},[b]),A=j.useCallback(k=>{let D=Hg(k);_(D),b==="system"&&n&&!e&&N("system")},[b,e]);j.useEffect(()=>{let k=window.matchMedia(CN);return k.addListener(A),A(k),()=>k.removeListener(A)},[A]),j.useEffect(()=>{let k=D=>{D.key===a&&(D.newValue?x(D.newValue):R(l))};return window.addEventListener("storage",k),()=>window.removeEventListener("storage",k)},[R]),j.useEffect(()=>{N(e!=null?e:b)},[e,b]);let C=j.useMemo(()=>({theme:b,setTheme:R,forcedTheme:e,resolvedTheme:b==="system"?w:b,themes:n?[...i,"system"]:i,systemTheme:n?w:void 0}),[b,R,e,w,n,i]);return j.createElement(Bx.Provider,{value:C},j.createElement(ND,{forcedTheme:e,storageKey:a,attribute:u,enableSystem:n,enableColorScheme:s,defaultTheme:l,value:f,themes:i,nonce:p,scriptProps:g}),h)},ND=j.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:s,enableColorScheme:a,defaultTheme:i,value:l,themes:u,nonce:f,scriptProps:h})=>{let p=JSON.stringify([n,t,i,e,u,l,s,a]).slice(1,-1);return j.createElement("script",oe(z({},h),{suppressHydrationWarning:!0,nonce:typeof window=="undefined"?f:"",dangerouslySetInnerHTML:{__html:`(${yD.toString()})(${p})`}}))}),ED=(e,t)=>{if(bD)return;let n;try{n=localStorage.getItem(e)||void 0}catch(s){}return n||t},TD=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},Hg=e=>(e||(e=window.matchMedia(CN)),e.matches?"dark":"light");/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var kN=e=>{throw TypeError(e)},CD=(e,t,n)=>t.has(e)||kN("Cannot "+n),Vg=(e,t,n)=>(CD(e,t,"read from private field"),n?n.call(e):t.get(e)),kD=(e,t,n)=>t.has(e)?kN("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),oj="popstate";function OD(e={}){function t(s,a){let{pathname:i,search:l,hash:u}=s.location;return Iu("",{pathname:i,search:l,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Pi(a)}return DD(t,n,null,e)}function qt(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function Qn(e,t){if(!e){typeof console!="undefined"&&console.warn(t);try{throw new Error(t)}catch(n){}}}function AD(){return Math.random().toString(36).substring(2,10)}function lj(e,t){return{usr:e.state,key:e.key,idx:t}}function Iu(e,t,n=null,s){return oe(z({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?$i(t):t),{state:n,key:t&&t.key||s||AD()})}function Pi({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function $i(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function DD(e,t,n,s={}){let{window:a=document.defaultView,v5Compat:i=!1}=s,l=a.history,u="POP",f=null,h=p();h==null&&(h=0,l.replaceState(oe(z({},l.state),{idx:h}),""));function p(){return(l.state||{idx:null}).idx}function g(){u="POP";let S=p(),N=S==null?null:S-h;h=S,f&&f({action:u,location:_.location,delta:N})}function b(S,N){u="PUSH";let R=Iu(_.location,S,N);h=p()+1;let A=lj(R,h),C=_.createHref(R);try{l.pushState(A,"",C)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(C)}i&&f&&f({action:u,location:_.location,delta:1})}function x(S,N){u="REPLACE";let R=Iu(_.location,S,N);h=p();let A=lj(R,h),C=_.createHref(R);l.replaceState(A,"",C),i&&f&&f({action:u,location:_.location,delta:0})}function w(S){return ON(S)}let _={get action(){return u},get location(){return e(a,l)},listen(S){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(oj,g),f=S,()=>{a.removeEventListener(oj,g),f=null}},createHref(S){return t(a,S)},createURL:w,encodeLocation(S){let N=w(S);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:b,replace:x,go(S){return l.go(S)}};return _}function ON(e,t=!1){let n="http://localhost";typeof window!="undefined"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),qt(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Pi(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}var Ou,cj=class{constructor(e){if(kD(this,Ou,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(Vg(this,Ou).has(e))return Vg(this,Ou).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){Vg(this,Ou).set(e,t)}};Ou=new WeakMap;var RD=new Set(["lazy","caseSensitive","path","id","index","children"]);function MD(e){return RD.has(e)}var PD=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function LD(e){return PD.has(e)}function zD(e){return e.index===!0}function qu(e,t,n=[],s={},a=!1){return e.map((i,l)=>{let u=[...n,String(l)],f=typeof i.id=="string"?i.id:u.join("-");if(qt(i.index!==!0||!i.children,"Cannot specify children on an index route"),qt(a||!s[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),zD(i)){let h=oe(z(z({},i),t(i)),{id:f});return s[f]=h,h}else{let h=oe(z(z({},i),t(i)),{id:f,children:void 0});return s[f]=h,i.children&&(h.children=qu(i.children,t,u,s,a)),h}})}function Ei(e,t,n="/"){return mh(e,t,n,!1)}function mh(e,t,n,s){let a=typeof t=="string"?$i(t):t,i=Sr(a.pathname||"/",n);if(i==null)return null;let l=AN(e);BD(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let h=KD(i);u=XD(l[f],h,s)}return u}function UD(e,t){let{route:n,pathname:s,params:a}=e;return{id:n.id,pathname:s,params:a,data:t[n.id],handle:n.handle}}function AN(e,t=[],n=[],s=""){let a=(i,l,u)=>{let f={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};f.relativePath.startsWith("/")&&(qt(f.relativePath.startsWith(s),`Absolute route path "${f.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(s.length));let h=ca([s,f.relativePath]),p=n.concat(f);i.children&&i.children.length>0&&(qt(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),AN(i.children,t,p,h)),!(i.path==null&&!i.index)&&t.push({path:h,score:WD(h,i.index),routesMeta:p})};return e.forEach((i,l)=>{var u;if(i.path===""||!((u=i.path)!=null&&u.includes("?")))a(i,l);else for(let f of DN(i.path))a(i,l,f)}),t}function DN(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let l=DN(s.join("/")),u=[];return u.push(...l.map(f=>f===""?i:[i,f].join("/"))),a&&u.push(...l),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function BD(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:YD(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var FD=/^:[\w-]+$/,$D=3,HD=2,VD=1,ID=10,qD=-2,uj=e=>e==="*";function WD(e,t){let n=e.split("/"),s=n.length;return n.some(uj)&&(s+=qD),t&&(s+=HD),n.filter(a=>!uj(a)).reduce((a,i)=>a+(FD.test(i)?$D:i===""?VD:ID),s)}function YD(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function XD(e,t,n=!1){let{routesMeta:s}=e,a={},i="/",l=[];for(let u=0;u<s.length;++u){let f=s[u],h=u===s.length-1,p=i==="/"?t:t.slice(i.length)||"/",g=Oh({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),b=f.route;if(!g&&h&&n&&!s[s.length-1].route.index&&(g=Oh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(a,g.params),l.push({params:a,pathname:ca([i,g.pathname]),pathnameBase:eR(ca([i,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(i=ca([i,g.pathnameBase]))}return l}function Oh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=GD(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:s.reduce((h,{paramName:p,isOptional:g},b)=>{if(p==="*"){let w=u[b]||"";l=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const x=u[b];return g&&!x?h[p]=void 0:h[p]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:l,pattern:e}}function GD(e,t=!1,n=!0){Qn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(s.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function KD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Qn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Sr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function QD({basename:e,pathname:t}){return t==="/"?e:ca([e,t])}function ZD(e,t="/"){let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?$i(e):e;return{pathname:n?n.startsWith("/")?n:JD(n,t):t,search:tR(s),hash:nR(a)}}function JD(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Ig(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function RN(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Fx(e){let t=RN(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function $x(e,t,n,s=!1){let a;typeof e=="string"?a=$i(e):(a=z({},e),qt(!a.pathname||!a.pathname.includes("?"),Ig("?","pathname","search",a)),qt(!a.pathname||!a.pathname.includes("#"),Ig("#","pathname","hash",a)),qt(!a.search||!a.search.includes("#"),Ig("#","search","hash",a)));let i=e===""||a.pathname==="",l=i?"/":a.pathname,u;if(l==null)u=n;else{let g=t.length-1;if(!s&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),g-=1;a.pathname=b.join("/")}u=g>=0?t[g]:"/"}let f=ZD(a,u),h=l&&l!=="/"&&l.endsWith("/"),p=(i||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var ca=e=>e.join("/").replace(/\/\/+/g,"/"),eR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),tR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,nR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Ah=class{constructor(e,t,n,s=!1){this.status=e,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Wu(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var MN=["POST","PUT","PATCH","DELETE"],sR=new Set(MN),rR=["GET",...MN],aR=new Set(rR),iR=new Set([301,302,303,307,308]),oR=new Set([307,308]),qg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},lR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},hu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},cR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hx=e=>cR.test(e),uR=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),PN="remix-router-transitions",LN=Symbol("ResetLoaderData");function dR(e){const t=e.window?e.window:typeof window!="undefined"?window:void 0,n=typeof t!="undefined"&&typeof t.document!="undefined"&&typeof t.document.createElement!="undefined";qt(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=e.hydrationRouteProperties||[],a=e.mapRouteProperties||uR,i={},l=qu(e.routes,a,void 0,i),u,f=e.basename||"/",h=e.dataStrategy||gR,p=z({unstable_middleware:!1},e.future),g=null,b=new Set,x=null,w=null,_=null,S=e.hydrationData!=null,N=Ei(l,e.history.location,f),R=!1,A=null,C;if(N==null&&!e.patchRoutesOnNavigation){let ee=vr(404,{pathname:e.history.location.pathname}),{matches:ie,route:me}=_j(l);C=!0,N=ie,A={[me.id]:ee}}else if(N&&!e.hydrationData&&Ge(N,l,e.history.location.pathname).active&&(N=null),N)if(N.some(ee=>ee.route.lazy))C=!1;else if(!N.some(ee=>ee.route.loader))C=!0;else{let ee=e.hydrationData?e.hydrationData.loaderData:null,ie=e.hydrationData?e.hydrationData.errors:null;if(ie){let me=N.findIndex(je=>ie[je.route.id]!==void 0);C=N.slice(0,me+1).every(je=>!W0(je.route,ee,ie))}else C=N.every(me=>!W0(me.route,ee,ie))}else{C=!1,N=[];let ee=Ge(null,l,e.history.location.pathname);ee.active&&ee.matches&&(R=!0,N=ee.matches)}let k,D={historyAction:e.history.action,location:e.history.location,matches:N,initialized:C,navigation:qg,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||A,fetchers:new Map,blockers:new Map},M="POP",E=!1,P,K=!1,W=new Map,Y=null,q=!1,J=!1,G=new Set,H=new Map,te=0,ne=-1,le=new Map,B=new Set,Q=new Map,he=new Map,$=new Set,re=new Map,_e,xe=null;function Ee(){if(g=e.history.listen(({action:ee,location:ie,delta:me})=>{if(_e){_e(),_e=void 0;return}Qn(re.size===0||me!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let je=fs({currentLocation:D.location,nextLocation:ie,historyAction:ee});if(je&&me!=null){let Ae=new Promise(He=>{_e=He});e.history.go(me*-1),Vn(je,{state:"blocked",location:ie,proceed(){Vn(je,{state:"proceeding",proceed:void 0,reset:void 0,location:ie}),Ae.then(()=>e.history.go(me))},reset(){let He=new Map(D.blockers);He.set(je,hu),Le({blockers:He})}});return}return Pe(ee,ie)}),n){TR(t,W);let ee=()=>CR(t,W);t.addEventListener("pagehide",ee),Y=()=>t.removeEventListener("pagehide",ee)}return D.initialized||Pe("POP",D.location,{initialHydration:!0}),k}function De(){g&&g(),Y&&Y(),b.clear(),P&&P.abort(),D.fetchers.forEach((ee,ie)=>yt(ie)),D.blockers.forEach((ee,ie)=>is(ie))}function Ve(ee){return b.add(ee),()=>b.delete(ee)}function Le(ee,ie={}){ee.matches&&(ee.matches=ee.matches.map(Ae=>{let He=i[Ae.route.id],Ze=Ae.route;return Ze.element!==He.element||Ze.errorElement!==He.errorElement||Ze.hydrateFallbackElement!==He.hydrateFallbackElement?oe(z({},Ae),{route:He}):Ae})),D=z(z({},D),ee);let me=[],je=[];D.fetchers.forEach((Ae,He)=>{Ae.state==="idle"&&($.has(He)?me.push(He):je.push(He))}),$.forEach(Ae=>{!D.fetchers.has(Ae)&&!H.has(Ae)&&me.push(Ae)}),[...b].forEach(Ae=>Ae(D,{deletedFetchers:me,viewTransitionOpts:ie.viewTransitionOpts,flushSync:ie.flushSync===!0})),me.forEach(Ae=>yt(Ae)),je.forEach(Ae=>D.fetchers.delete(Ae))}function lt(ee,ie,{flushSync:me}={}){var rt,wt;let je=D.actionData!=null&&D.navigation.formMethod!=null&&Vs(D.navigation.formMethod)&&D.navigation.state==="loading"&&((rt=ee.state)==null?void 0:rt._isRedirect)!==!0,Ae;ie.actionData?Object.keys(ie.actionData).length>0?Ae=ie.actionData:Ae=null:je?Ae=D.actionData:Ae=null;let He=ie.loaderData?vj(D.loaderData,ie.loaderData,ie.matches||[],ie.errors):D.loaderData,Ze=D.blockers;Ze.size>0&&(Ze=new Map(Ze),Ze.forEach((Ct,hn)=>Ze.set(hn,hu)));let nt=q?!1:nn(ee,ie.matches||D.matches),ut=E===!0||D.navigation.formMethod!=null&&Vs(D.navigation.formMethod)&&((wt=ee.state)==null?void 0:wt._isRedirect)!==!0;u&&(l=u,u=void 0),q||M==="POP"||(M==="PUSH"?e.history.push(ee,ee.state):M==="REPLACE"&&e.history.replace(ee,ee.state));let Ot;if(M==="POP"){let Ct=W.get(D.location.pathname);Ct&&Ct.has(ee.pathname)?Ot={currentLocation:D.location,nextLocation:ee}:W.has(ee.pathname)&&(Ot={currentLocation:ee,nextLocation:D.location})}else if(K){let Ct=W.get(D.location.pathname);Ct?Ct.add(ee.pathname):(Ct=new Set([ee.pathname]),W.set(D.location.pathname,Ct)),Ot={currentLocation:D.location,nextLocation:ee}}Le(oe(z({},ie),{actionData:Ae,loaderData:He,historyAction:M,location:ee,initialized:!0,navigation:qg,revalidation:"idle",restoreScrollPosition:nt,preventScrollReset:ut,blockers:Ze}),{viewTransitionOpts:Ot,flushSync:me===!0}),M="POP",E=!1,K=!1,q=!1,J=!1,xe==null||xe.resolve(),xe=null}function Ke(ee,ie){return ye(this,null,function*(){if(typeof ee=="number"){e.history.go(ee);return}let me=q0(D.location,D.matches,f,ee,ie==null?void 0:ie.fromRouteId,ie==null?void 0:ie.relative),{path:je,submission:Ae,error:He}=dj(!1,me,ie),Ze=D.location,nt=Iu(D.location,je,ie&&ie.state);nt=z(z({},nt),e.history.encodeLocation(nt));let ut=ie&&ie.replace!=null?ie.replace:void 0,Ot="PUSH";ut===!0?Ot="REPLACE":ut===!1||Ae!=null&&Vs(Ae.formMethod)&&Ae.formAction===D.location.pathname+D.location.search&&(Ot="REPLACE");let rt=ie&&"preventScrollReset"in ie?ie.preventScrollReset===!0:void 0,wt=(ie&&ie.flushSync)===!0,Ct=fs({currentLocation:Ze,nextLocation:nt,historyAction:Ot});if(Ct){Vn(Ct,{state:"blocked",location:nt,proceed(){Vn(Ct,{state:"proceeding",proceed:void 0,reset:void 0,location:nt}),Ke(ee,ie)},reset(){let hn=new Map(D.blockers);hn.set(Ct,hu),Le({blockers:hn})}});return}yield Pe(Ot,nt,{submission:Ae,pendingError:He,preventScrollReset:rt,replace:ie&&ie.replace,enableViewTransition:ie&&ie.viewTransition,flushSync:wt})})}function pt(){xe||(xe=kR()),Re(),Le({revalidation:"loading"});let ee=xe.promise;return D.navigation.state==="submitting"?ee:D.navigation.state==="idle"?(Pe(D.historyAction,D.location,{startUninterruptedRevalidation:!0}),ee):(Pe(M||D.historyAction,D.navigation.location,{overrideNavigation:D.navigation,enableViewTransition:K===!0}),ee)}function Pe(ee,ie,me){return ye(this,null,function*(){P&&P.abort(),P=null,M=ee,q=(me&&me.startUninterruptedRevalidation)===!0,Nt(D.location,D.matches),E=(me&&me.preventScrollReset)===!0,K=(me&&me.enableViewTransition)===!0;let je=u||l,Ae=me&&me.overrideNavigation,He=me!=null&&me.initialHydration&&D.matches&&D.matches.length>0&&!R?D.matches:Ei(je,ie,f),Ze=(me&&me.flushSync)===!0;if(He&&D.initialized&&!J&&_R(D.location,ie)&&!(me&&me.submission&&Vs(me.submission.formMethod))){lt(ie,{matches:He},{flushSync:Ze});return}let nt=Ge(He,je,ie.pathname);if(nt.active&&nt.matches&&(He=nt.matches),!He){let{error:ln,notFoundMatches:at,route:Et}=Xe(ie.pathname);lt(ie,{matches:at,loaderData:{},errors:{[Et.id]:ln}},{flushSync:Ze});return}P=new AbortController;let ut=Fl(e.history,ie,P.signal,me&&me.submission),Ot=new cj(e.unstable_getContext?yield e.unstable_getContext():void 0),rt;if(me&&me.pendingError)rt=[jo(He).route.id,{type:"error",error:me.pendingError}];else if(me&&me.submission&&Vs(me.submission.formMethod)){let ln=yield ht(ut,ie,me.submission,He,Ot,nt.active,me&&me.initialHydration===!0,{replace:me.replace,flushSync:Ze});if(ln.shortCircuited)return;if(ln.pendingActionResult){let[at,Et]=ln.pendingActionResult;if(tr(Et)&&Wu(Et.error)&&Et.error.status===404){P=null,lt(ie,{matches:ln.matches,loaderData:{},errors:{[at]:Et.error}});return}}He=ln.matches||He,rt=ln.pendingActionResult,Ae=Wg(ie,me.submission),Ze=!1,nt.active=!1,ut=Fl(e.history,ut.url,ut.signal)}let{shortCircuited:wt,matches:Ct,loaderData:hn,errors:Dn}=yield $t(ut,ie,He,Ot,nt.active,Ae,me&&me.submission,me&&me.fetcherSubmission,me&&me.replace,me&&me.initialHydration===!0,Ze,rt);wt||(P=null,lt(ie,oe(z({matches:Ct||He},wj(rt)),{loaderData:hn,errors:Dn})))})}function ht(ut,Ot,rt,wt,Ct,hn,Dn){return ye(this,arguments,function*(ee,ie,me,je,Ae,He,Ze,nt={}){Re();let ln=NR(ie,me);if(Le({navigation:ln},{flushSync:nt.flushSync===!0}),He){let Qt=yield jt(je,ie.pathname,ee.signal);if(Qt.type==="aborted")return{shortCircuited:!0};if(Qt.type==="error"){let jn=jo(Qt.partialMatches).route.id;return{matches:Qt.partialMatches,pendingActionResult:[jn,{type:"error",error:Qt.error}]}}else if(Qt.matches)je=Qt.matches;else{let{notFoundMatches:jn,error:Rn,route:Zn}=Xe(ie.pathname);return{matches:jn,pendingActionResult:[Zn.id,{type:"error",error:Rn}]}}}let at,Et=ph(je,ie);if(!Et.route.action&&!Et.route.lazy)at={type:"error",error:vr(405,{method:ee.method,pathname:ie.pathname,routeId:Et.route.id})};else{let Qt=Il(a,i,ee,je,Et,Ze?[]:s,Ae),jn=yield Se(ee,Qt,Ae,null);if(at=jn[Et.route.id],!at){for(let Rn of je)if(jn[Rn.route.id]){at=jn[Rn.route.id];break}}if(ee.signal.aborted)return{shortCircuited:!0}}if(Co(at)){let Qt;return nt&&nt.replace!=null?Qt=nt.replace:Qt=xj(at.response.headers.get("Location"),new URL(ee.url),f)===D.location.pathname+D.location.search,yield I(ee,at,!0,{submission:me,replace:Qt}),{shortCircuited:!0}}if(tr(at)){let Qt=jo(je,Et.route.id);return(nt&&nt.replace)!==!0&&(M="PUSH"),{matches:je,pendingActionResult:[Qt.route.id,at,Et.route.id]}}return{matches:je,pendingActionResult:[Et.route.id,at]}})}function $t(ee,ie,me,je,Ae,He,Ze,nt,ut,Ot,rt,wt){return ye(this,null,function*(){let Ct=He||Wg(ie,Ze),hn=Ze||nt||Sj(Ct),Dn=!q&&!Ot;if(Ae){if(Dn){let Mn=vt(wt);Le(z({navigation:Ct},Mn!==void 0?{actionData:Mn}:{}),{flushSync:rt})}let Rt=yield jt(me,ie.pathname,ee.signal);if(Rt.type==="aborted")return{shortCircuited:!0};if(Rt.type==="error"){let Mn=jo(Rt.partialMatches).route.id;return{matches:Rt.partialMatches,loaderData:{},errors:{[Mn]:Rt.error}}}else if(Rt.matches)me=Rt.matches;else{let{error:Mn,notFoundMatches:xa,route:hs}=Xe(ie.pathname);return{matches:xa,loaderData:{},errors:{[hs.id]:Mn}}}}let ln=u||l,{dsMatches:at,revalidatingFetchers:Et}=fj(ee,je,a,i,e.history,D,me,hn,ie,Ot?[]:s,Ot===!0,J,G,$,Q,B,ln,f,e.patchRoutesOnNavigation!=null,wt);if(ne=++te,!e.dataStrategy&&!at.some(Rt=>Rt.shouldLoad)&&Et.length===0){let Rt=$e();return lt(ie,z(z({matches:me,loaderData:{},errors:wt&&tr(wt[1])?{[wt[0]]:wt[1].error}:null},wj(wt)),Rt?{fetchers:new Map(D.fetchers)}:{}),{flushSync:rt}),{shortCircuited:!0}}if(Dn){let Rt={};if(!Ae){Rt.navigation=Ct;let Mn=vt(wt);Mn!==void 0&&(Rt.actionData=Mn)}Et.length>0&&(Rt.fetchers=Mt(Et)),Le(Rt,{flushSync:rt})}Et.forEach(Rt=>{ct(Rt.key),Rt.controller&&H.set(Rt.key,Rt.controller)});let Qt=()=>Et.forEach(Rt=>ct(Rt.key));P&&P.signal.addEventListener("abort",Qt);let{loaderResults:jn,fetcherResults:Rn}=yield Me(at,Et,ee,je);if(ee.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",Qt),Et.forEach(Rt=>H.delete(Rt.key));let Zn=Af(jn);if(Zn)return yield I(ee,Zn.result,!0,{replace:ut}),{shortCircuited:!0};if(Zn=Af(Rn),Zn)return B.add(Zn.key),yield I(ee,Zn.result,!0,{replace:ut}),{shortCircuited:!0};let{loaderData:os,errors:lr}=bj(D,me,jn,wt,Et,Rn);Ot&&D.errors&&(lr=z(z({},D.errors),lr));let cr=$e(),js=Pt(ne),ur=cr||js||Et.length>0;return z({matches:me,loaderData:os,errors:lr},ur?{fetchers:new Map(D.fetchers)}:{})})}function vt(ee){if(ee&&!tr(ee[1]))return{[ee[0]]:ee[1].data};if(D.actionData)return Object.keys(D.actionData).length===0?null:D.actionData}function Mt(ee){return ee.forEach(ie=>{let me=D.fetchers.get(ie.key),je=mu(void 0,me?me.data:void 0);D.fetchers.set(ie.key,je)}),new Map(D.fetchers)}function St(ee,ie,me,je){return ye(this,null,function*(){ct(ee);let Ae=(je&&je.flushSync)===!0,He=u||l,Ze=q0(D.location,D.matches,f,me,ie,je==null?void 0:je.relative),nt=Ei(He,Ze,f),ut=Ge(nt,He,Ze);if(ut.active&&ut.matches&&(nt=ut.matches),!nt){qe(ee,ie,vr(404,{pathname:Ze}),{flushSync:Ae});return}let{path:Ot,submission:rt,error:wt}=dj(!0,Ze,je);if(wt){qe(ee,ie,wt,{flushSync:Ae});return}let Ct=new cj(e.unstable_getContext?yield e.unstable_getContext():void 0),hn=(je&&je.preventScrollReset)===!0;if(rt&&Vs(rt.formMethod)){yield X(ee,ie,Ot,nt,Ct,ut.active,Ae,hn,rt);return}Q.set(ee,{routeId:ie,path:Ot}),yield de(ee,ie,Ot,nt,Ct,ut.active,Ae,hn,rt)})}function X(ee,ie,me,je,Ae,He,Ze,nt,ut){return ye(this,null,function*(){Re(),Q.delete(ee);let Ot=D.fetchers.get(ee);Fe(ee,ER(ut,Ot),{flushSync:Ze});let rt=new AbortController,wt=Fl(e.history,me,rt.signal,ut);if(He){let xn=yield jt(je,new URL(wt.url).pathname,wt.signal,ee);if(xn.type==="aborted")return;if(xn.type==="error"){qe(ee,ie,xn.error,{flushSync:Ze});return}else if(xn.matches)je=xn.matches;else{qe(ee,ie,vr(404,{pathname:me}),{flushSync:Ze});return}}let Ct=ph(je,me);if(!Ct.route.action&&!Ct.route.lazy){let xn=vr(405,{method:ut.formMethod,pathname:me,routeId:ie});qe(ee,ie,xn,{flushSync:Ze});return}H.set(ee,rt);let hn=te,Dn=Il(a,i,wt,je,Ct,s,Ae),at=(yield Se(wt,Dn,Ae,ee))[Ct.route.id];if(wt.signal.aborted){H.get(ee)===rt&&H.delete(ee);return}if($.has(ee)){if(Co(at)||tr(at)){Fe(ee,Si(void 0));return}}else{if(Co(at))if(H.delete(ee),ne>hn){Fe(ee,Si(void 0));return}else return B.add(ee),Fe(ee,mu(ut)),I(wt,at,!1,{fetcherSubmission:ut,preventScrollReset:nt});if(tr(at)){qe(ee,ie,at.error);return}}let Et=D.navigation.location||D.location,Qt=Fl(e.history,Et,rt.signal),jn=u||l,Rn=D.navigation.state!=="idle"?Ei(jn,D.navigation.location,f):D.matches;qt(Rn,"Didn't find any matches after fetcher action");let Zn=++te;le.set(ee,Zn);let os=mu(ut,at.data);D.fetchers.set(ee,os);let{dsMatches:lr,revalidatingFetchers:cr}=fj(Qt,Ae,a,i,e.history,D,Rn,ut,Et,s,!1,J,G,$,Q,B,jn,f,e.patchRoutesOnNavigation!=null,[Ct.route.id,at]);cr.filter(xn=>xn.key!==ee).forEach(xn=>{let Cr=xn.key,qo=D.fetchers.get(Cr),Wo=mu(void 0,qo?qo.data:void 0);D.fetchers.set(Cr,Wo),ct(Cr),xn.controller&&H.set(Cr,xn.controller)}),Le({fetchers:new Map(D.fetchers)});let js=()=>cr.forEach(xn=>ct(xn.key));rt.signal.addEventListener("abort",js);let{loaderResults:ur,fetcherResults:Rt}=yield Me(lr,cr,Qt,Ae);if(rt.signal.aborted)return;if(rt.signal.removeEventListener("abort",js),le.delete(ee),H.delete(ee),cr.forEach(xn=>H.delete(xn.key)),D.fetchers.has(ee)){let xn=Si(at.data);D.fetchers.set(ee,xn)}let Mn=Af(ur);if(Mn)return I(Qt,Mn.result,!1,{preventScrollReset:nt});if(Mn=Af(Rt),Mn)return B.add(Mn.key),I(Qt,Mn.result,!1,{preventScrollReset:nt});let{loaderData:xa,errors:hs}=bj(D,Rn,ur,void 0,cr,Rt);Pt(Zn),D.navigation.state==="loading"&&Zn>ne?(qt(M,"Expected pending action"),P&&P.abort(),lt(D.navigation.location,{matches:Rn,loaderData:xa,errors:hs,fetchers:new Map(D.fetchers)})):(Le({errors:hs,loaderData:vj(D.loaderData,xa,Rn,hs),fetchers:new Map(D.fetchers)}),J=!1)})}function de(ee,ie,me,je,Ae,He,Ze,nt,ut){return ye(this,null,function*(){let Ot=D.fetchers.get(ee);Fe(ee,mu(ut,Ot?Ot.data:void 0),{flushSync:Ze});let rt=new AbortController,wt=Fl(e.history,me,rt.signal);if(He){let Et=yield jt(je,new URL(wt.url).pathname,wt.signal,ee);if(Et.type==="aborted")return;if(Et.type==="error"){qe(ee,ie,Et.error,{flushSync:Ze});return}else if(Et.matches)je=Et.matches;else{qe(ee,ie,vr(404,{pathname:me}),{flushSync:Ze});return}}let Ct=ph(je,me);H.set(ee,rt);let hn=te,Dn=Il(a,i,wt,je,Ct,s,Ae),at=(yield Se(wt,Dn,Ae,ee))[Ct.route.id];if(H.get(ee)===rt&&H.delete(ee),!wt.signal.aborted){if($.has(ee)){Fe(ee,Si(void 0));return}if(Co(at))if(ne>hn){Fe(ee,Si(void 0));return}else{B.add(ee),yield I(wt,at,!1,{preventScrollReset:nt});return}if(tr(at)){qe(ee,ie,at.error);return}Fe(ee,Si(at.data))}})}function I(nt,ut,Ot){return ye(this,arguments,function*(ee,ie,me,{submission:je,fetcherSubmission:Ae,preventScrollReset:He,replace:Ze}={}){ie.response.headers.has("X-Remix-Revalidate")&&(J=!0);let rt=ie.response.headers.get("Location");qt(rt,"Expected a Location header on the redirect Response"),rt=xj(rt,new URL(ee.url),f);let wt=Iu(D.location,rt,{_isRedirect:!0});if(n){let Et=!1;if(ie.response.headers.has("X-Remix-Reload-Document"))Et=!0;else if(Hx(rt)){const Qt=ON(rt,!0);Et=Qt.origin!==t.location.origin||Sr(Qt.pathname,f)==null}if(Et){Ze?t.location.replace(rt):t.location.assign(rt);return}}P=null;let Ct=Ze===!0||ie.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:hn,formAction:Dn,formEncType:ln}=D.navigation;!je&&!Ae&&hn&&Dn&&ln&&(je=Sj(D.navigation));let at=je||Ae;if(oR.has(ie.response.status)&&at&&Vs(at.formMethod))yield Pe(Ct,wt,{submission:oe(z({},at),{formAction:rt}),preventScrollReset:He||E,enableViewTransition:me?K:void 0});else{let Et=Wg(wt,je);yield Pe(Ct,wt,{overrideNavigation:Et,fetcherSubmission:Ae,preventScrollReset:He||E,enableViewTransition:me?K:void 0})}})}function Se(ee,ie,me,je){return ye(this,null,function*(){let Ae,He={};try{Ae=yield xR(h,ee,ie,je,me,!1)}catch(Ze){return ie.filter(nt=>nt.shouldLoad).forEach(nt=>{He[nt.route.id]={type:"error",error:Ze}}),He}if(ee.signal.aborted)return He;for(let[Ze,nt]of Object.entries(Ae))if(jR(nt)){let ut=nt.result;He[Ze]={type:"redirect",response:vR(ut,ee,Ze,ie,f)}}else He[Ze]=yield bR(nt);return He})}function Me(ee,ie,me,je){return ye(this,null,function*(){let Ae=Se(me,ee,je,null),He=Promise.all(ie.map(ut=>ye(null,null,function*(){if(ut.matches&&ut.match&&ut.request&&ut.controller){let rt=(yield Se(ut.request,ut.matches,je,ut.key))[ut.match.route.id];return{[ut.key]:rt}}else return Promise.resolve({[ut.key]:{type:"error",error:vr(404,{pathname:ut.path})}})}))),Ze=yield Ae,nt=(yield He).reduce((ut,Ot)=>Object.assign(ut,Ot),{});return{loaderResults:Ze,fetcherResults:nt}})}function Re(){J=!0,Q.forEach((ee,ie)=>{H.has(ie)&&G.add(ie),ct(ie)})}function Fe(ee,ie,me={}){D.fetchers.set(ee,ie),Le({fetchers:new Map(D.fetchers)},{flushSync:(me&&me.flushSync)===!0})}function qe(ee,ie,me,je={}){let Ae=jo(D.matches,ie);yt(ee),Le({errors:{[Ae.route.id]:me},fetchers:new Map(D.fetchers)},{flushSync:(je&&je.flushSync)===!0})}function Qe(ee){return he.set(ee,(he.get(ee)||0)+1),$.has(ee)&&$.delete(ee),D.fetchers.get(ee)||lR}function yt(ee){let ie=D.fetchers.get(ee);H.has(ee)&&!(ie&&ie.state==="loading"&&le.has(ee))&&ct(ee),Q.delete(ee),le.delete(ee),B.delete(ee),$.delete(ee),G.delete(ee),D.fetchers.delete(ee)}function vn(ee){let ie=(he.get(ee)||0)-1;ie<=0?(he.delete(ee),$.add(ee)):he.set(ee,ie),Le({fetchers:new Map(D.fetchers)})}function ct(ee){let ie=H.get(ee);ie&&(ie.abort(),H.delete(ee))}function Ce(ee){for(let ie of ee){let me=Qe(ie),je=Si(me.data);D.fetchers.set(ie,je)}}function $e(){let ee=[],ie=!1;for(let me of B){let je=D.fetchers.get(me);qt(je,`Expected fetcher: ${me}`),je.state==="loading"&&(B.delete(me),ee.push(me),ie=!0)}return Ce(ee),ie}function Pt(ee){let ie=[];for(let[me,je]of le)if(je<ee){let Ae=D.fetchers.get(me);qt(Ae,`Expected fetcher: ${me}`),Ae.state==="loading"&&(ct(me),le.delete(me),ie.push(me))}return Ce(ie),ie.length>0}function En(ee,ie){let me=D.blockers.get(ee)||hu;return re.get(ee)!==ie&&re.set(ee,ie),me}function is(ee){D.blockers.delete(ee),re.delete(ee)}function Vn(ee,ie){let me=D.blockers.get(ee)||hu;qt(me.state==="unblocked"&&ie.state==="blocked"||me.state==="blocked"&&ie.state==="blocked"||me.state==="blocked"&&ie.state==="proceeding"||me.state==="blocked"&&ie.state==="unblocked"||me.state==="proceeding"&&ie.state==="unblocked",`Invalid blocker state transition: ${me.state} -> ${ie.state}`);let je=new Map(D.blockers);je.set(ee,ie),Le({blockers:je})}function fs({currentLocation:ee,nextLocation:ie,historyAction:me}){if(re.size===0)return;re.size>1&&Qn(!1,"A router only supports one blocker at a time");let je=Array.from(re.entries()),[Ae,He]=je[je.length-1],Ze=D.blockers.get(Ae);if(!(Ze&&Ze.state==="proceeding")&&He({currentLocation:ee,nextLocation:ie,historyAction:me}))return Ae}function Xe(ee){let ie=vr(404,{pathname:ee}),me=u||l,{matches:je,route:Ae}=_j(me);return{notFoundMatches:je,route:Ae,error:ie}}function Lt(ee,ie,me){if(x=ee,_=ie,w=me||null,!S&&D.navigation===qg){S=!0;let je=nn(D.location,D.matches);je!=null&&Le({restoreScrollPosition:je})}return()=>{x=null,_=null,w=null}}function Ht(ee,ie){return w&&w(ee,ie.map(je=>UD(je,D.loaderData)))||ee.key}function Nt(ee,ie){if(x&&_){let me=Ht(ee,ie);x[me]=_()}}function nn(ee,ie){if(x){let me=Ht(ee,ie),je=x[me];if(typeof je=="number")return je}return null}function Ge(ee,ie,me){if(e.patchRoutesOnNavigation)if(ee){if(Object.keys(ee[0].params).length>0)return{active:!0,matches:mh(ie,me,f,!0)}}else return{active:!0,matches:mh(ie,me,f,!0)||[]};return{active:!1,matches:null}}function jt(ee,ie,me,je){return ye(this,null,function*(){if(!e.patchRoutesOnNavigation)return{type:"success",matches:ee};let Ae=ee;for(;;){let He=u==null,Ze=u||l,nt=i;try{yield e.patchRoutesOnNavigation({signal:me,path:ie,matches:Ae,fetcherKey:je,patch:(rt,wt)=>{me.aborted||hj(rt,wt,Ze,nt,a,!1)}})}catch(rt){return{type:"error",error:rt,partialMatches:Ae}}finally{He&&!me.aborted&&(l=[...l])}if(me.aborted)return{type:"aborted"};let ut=Ei(Ze,ie,f);if(ut)return{type:"success",matches:ut};let Ot=mh(Ze,ie,f,!0);if(!Ot||Ae.length===Ot.length&&Ae.every((rt,wt)=>rt.route.id===Ot[wt].route.id))return{type:"success",matches:null};Ae=Ot}})}function Yt(ee){i={},u=qu(ee,a,void 0,i)}function Kt(ee,ie,me=!1){let je=u==null;hj(ee,ie,u||l,i,a,me),je&&(l=[...l],Le({}))}return k={get basename(){return f},get future(){return p},get state(){return D},get routes(){return l},get window(){return t},initialize:Ee,subscribe:Ve,enableScrollRestoration:Lt,navigate:Ke,fetch:St,revalidate:pt,createHref:ee=>e.history.createHref(ee),encodeLocation:ee=>e.history.encodeLocation(ee),getFetcher:Qe,deleteFetcher:vn,dispose:De,getBlocker:En,deleteBlocker:is,patchRoutes:Kt,_internalFetchControllers:H,_internalSetRoutes:Yt,_internalSetStateDoNotUseOrYouWillBreakYourApp(ee){Le(ee)}},k}function fR(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function q0(e,t,n,s,a,i){let l,u;if(a){l=[];for(let h of t)if(l.push(h),h.route.id===a){u=h;break}}else l=t,u=t[t.length-1];let f=$x(s||".",Fx(l),Sr(e.pathname,n)||e.pathname,i==="path");if(s==null&&(f.search=e.search,f.hash=e.hash),(s==null||s===""||s===".")&&u){let h=Vx(f.search);if(u.route.index&&!h)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&h){let p=new URLSearchParams(f.search),g=p.getAll("index");p.delete("index"),g.filter(x=>x).forEach(x=>p.append("index",x));let b=p.toString();f.search=b?`?${b}`:""}}return n!=="/"&&(f.pathname=QD({basename:n,pathname:f.pathname})),Pi(f)}function dj(e,t,n){if(!n||!fR(n))return{path:t};if(n.formMethod&&!SR(n.formMethod))return{path:t,error:vr(405,{method:n.formMethod})};let s=()=>({path:t,error:vr(400,{type:"invalid-body"})}),i=(n.formMethod||"get").toUpperCase(),l=HN(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Vs(i))return s();let g=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((b,[x,w])=>`${b}${x}=${w}
`,""):String(n.body);return{path:t,submission:{formMethod:i,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:g}}}else if(n.formEncType==="application/json"){if(!Vs(i))return s();try{let g=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:i,formAction:l,formEncType:n.formEncType,formData:void 0,json:g,text:void 0}}}catch(g){return s()}}}qt(typeof FormData=="function","FormData is not available in this environment");let u,f;if(n.formData)u=X0(n.formData),f=n.formData;else if(n.body instanceof FormData)u=X0(n.body),f=n.body;else if(n.body instanceof URLSearchParams)u=n.body,f=yj(u);else if(n.body==null)u=new URLSearchParams,f=new FormData;else try{u=new URLSearchParams(n.body),f=yj(u)}catch(g){return s()}let h={formMethod:i,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Vs(h.formMethod))return{path:t,submission:h};let p=$i(t);return e&&p.search&&Vx(p.search)&&u.append("index",""),p.search=`?${u}`,{path:Pi(p),submission:h}}function fj(e,t,n,s,a,i,l,u,f,h,p,g,b,x,w,_,S,N,R,A){var q;let C=A?tr(A[1])?A[1].error:A[1].data:void 0,k=a.createURL(i.location),D=a.createURL(f),M;if(p&&i.errors){let J=Object.keys(i.errors)[0];M=l.findIndex(G=>G.route.id===J)}else if(A&&tr(A[1])){let J=A[0];M=l.findIndex(G=>G.route.id===J)-1}let E=A?A[1].statusCode:void 0,P=E&&E>=400,K=oe(z({currentUrl:k,currentParams:((q=i.matches[0])==null?void 0:q.params)||{},nextUrl:D,nextParams:l[0].params},u),{actionResult:C,actionStatus:E}),W=l.map((J,G)=>{let{route:H}=J,te=null;if(M!=null&&G>M?te=!1:H.lazy?te=!0:H.loader==null?te=!1:p?te=W0(H,i.loaderData,i.errors):hR(i.loaderData,i.matches[G],J)&&(te=!0),te!==null)return Y0(n,s,e,J,h,t,te);let ne=P?!1:g||k.pathname+k.search===D.pathname+D.search||k.search!==D.search||mR(i.matches[G],J),le=oe(z({},K),{defaultShouldRevalidate:ne}),B=Dh(J,le);return Y0(n,s,e,J,h,t,B,le)}),Y=[];return w.forEach((J,G)=>{if(p||!l.some($=>$.route.id===J.routeId)||x.has(G))return;let H=i.fetchers.get(G),te=H&&H.state!=="idle"&&H.data===void 0,ne=Ei(S,J.path,N);if(!ne){if(R&&te)return;Y.push({key:G,routeId:J.routeId,path:J.path,matches:null,match:null,request:null,controller:null});return}if(_.has(G))return;let le=ph(ne,J.path),B=new AbortController,Q=Fl(a,J.path,B.signal),he=null;if(b.has(G))b.delete(G),he=Il(n,s,Q,ne,le,h,t);else if(te)g&&(he=Il(n,s,Q,ne,le,h,t));else{let $=oe(z({},K),{defaultShouldRevalidate:P?!1:g});Dh(le,$)&&(he=Il(n,s,Q,ne,le,h,t,$))}he&&Y.push({key:G,routeId:J.routeId,path:J.path,matches:he,match:le,request:Q,controller:B})}),{dsMatches:W,revalidatingFetchers:Y}}function W0(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let s=t!=null&&e.id in t,a=n!=null&&n[e.id]!==void 0;return!s&&a?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!s&&!a}function hR(e,t,n){let s=!t||n.route.id!==t.route.id,a=!e.hasOwnProperty(n.route.id);return s||a}function mR(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Dh(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function hj(e,t,n,s,a,i){let l;if(e){let h=s[e];qt(h,`No route found to patch children into: routeId = ${e}`),h.children||(h.children=[]),l=h.children}else l=n;let u=[],f=[];if(t.forEach(h=>{let p=l.find(g=>zN(h,g));p?f.push({existingRoute:p,newRoute:h}):u.push(h)}),u.length>0){let h=qu(u,a,[e||"_","patch",String((l==null?void 0:l.length)||"0")],s);l.push(...h)}if(i&&f.length>0)for(let h=0;h<f.length;h++){let{existingRoute:p,newRoute:g}=f[h],b=p,[x]=qu([g],a,[],{},!0);Object.assign(b,{element:x.element?x.element:b.element,errorElement:x.errorElement?x.errorElement:b.errorElement,hydrateFallbackElement:x.hydrateFallbackElement?x.hydrateFallbackElement:b.hydrateFallbackElement})}}function zN(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,s)=>{var a;return(a=t.children)==null?void 0:a.some(i=>zN(n,i))}):!1}var mj=new WeakMap,UN=({key:e,route:t,manifest:n,mapRouteProperties:s})=>{let a=n[t.id];if(qt(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let i=a.lazy[e];if(!i)return;let l=mj.get(a);l||(l={},mj.set(a,l));let u=l[e];if(u)return u;let f=ye(null,null,function*(){let h=MD(e),g=a[e]!==void 0&&e!=="hasErrorBoundary";if(h)Qn(!h,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),l[e]=Promise.resolve();else if(g)Qn(!1,`Route "${a.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let b=yield i();b!=null&&(Object.assign(a,{[e]:b}),Object.assign(a,s(a)))}typeof a.lazy=="object"&&(a.lazy[e]=void 0,Object.values(a.lazy).every(b=>b===void 0)&&(a.lazy=void 0))});return l[e]=f,f},pj=new WeakMap;function pR(e,t,n,s,a){let i=n[e.id];if(qt(i,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let p=pj.get(i);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let g=ye(null,null,function*(){qt(typeof e.lazy=="function","No lazy route function found");let b=yield e.lazy(),x={};for(let w in b){let _=b[w];if(_===void 0)continue;let S=LD(w),R=i[w]!==void 0&&w!=="hasErrorBoundary";S?Qn(!S,"Route property "+w+" is not a supported property to be returned from a lazy route function. This property will be ignored."):R?Qn(!R,`Route "${i.id}" has a static property "${w}" defined but its lazy function is also returning a value for this property. The lazy route property "${w}" will be ignored.`):x[w]=_}Object.assign(i,x),Object.assign(i,oe(z({},s(i)),{lazy:void 0}))});return pj.set(i,g),g.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:g}}let l=Object.keys(e.lazy),u=[],f;for(let p of l){if(a&&a.includes(p))continue;let g=UN({key:p,route:e,manifest:n,mapRouteProperties:s});g&&(u.push(g),p===t&&(f=g))}let h=u.length>0?Promise.all(u).then(()=>{}):void 0;return h==null||h.catch(()=>{}),f==null||f.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:f}}function gj(e){return ye(this,null,function*(){let t=e.matches.filter(a=>a.shouldLoad),n={};return(yield Promise.all(t.map(a=>a.resolve()))).forEach((a,i)=>{n[t[i].route.id]=a}),n})}function gR(e){return ye(this,null,function*(){return e.matches.some(t=>t.route.unstable_middleware)?BN(e,!1,()=>gj(e),(t,n)=>({[n]:{type:"error",result:t}})):gj(e)})}function BN(e,t,n,s){return ye(this,null,function*(){let{matches:a,request:i,params:l,context:u}=e,f={handlerResult:void 0};try{let h=a.flatMap(g=>g.route.unstable_middleware?g.route.unstable_middleware.map(b=>[g.route.id,b]):[]),p=yield FN({request:i,params:l,context:u},h,t,f,n);return t?p:f.handlerResult}catch(h){if(!f.middlewareError)throw h;let p=yield s(f.middlewareError.error,f.middlewareError.routeId);return f.handlerResult?Object.assign(f.handlerResult,p):p}})}function FN(e,t,n,s,a,i=0){return ye(this,null,function*(){let{request:l}=e;if(l.signal.aborted)throw l.signal.reason?l.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${l.method} ${l.url}`);let u=t[i];if(!u)return s.handlerResult=yield a(),s.handlerResult;let[f,h]=u,p=!1,g,b=()=>ye(null,null,function*(){if(p)throw new Error("You may only call `next()` once per middleware");p=!0,yield FN(e,t,n,s,a,i+1)});try{let x=yield h({request:e.request,params:e.params,context:e.context},b);return p?x===void 0?g:x:b()}catch(x){throw s.middlewareError?s.middlewareError.error!==x&&(s.middlewareError={routeId:f,error:x}):s.middlewareError={routeId:f,error:x},x}})}function $N(e,t,n,s,a){let i=UN({key:"unstable_middleware",route:s.route,manifest:t,mapRouteProperties:e}),l=pR(s.route,Vs(n.method)?"action":"loader",t,e,a);return{middleware:i,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function Y0(e,t,n,s,a,i,l,u=null){let f=!1,h=$N(e,t,n,s,a);return oe(z({},s),{_lazyPromises:h,shouldLoad:l,unstable_shouldRevalidateArgs:u,unstable_shouldCallHandler(p){return f=!0,u?typeof p=="boolean"?Dh(s,oe(z({},u),{defaultShouldRevalidate:p})):Dh(s,u):l},resolve(p){return f||l||p&&!Vs(n.method)&&(s.route.lazy||s.route.loader)?yR({request:n,match:s,lazyHandlerPromise:h==null?void 0:h.handler,lazyRoutePromise:h==null?void 0:h.route,handlerOverride:p,scopedContext:i}):Promise.resolve({type:"data",result:void 0})}})}function Il(e,t,n,s,a,i,l,u=null){return s.map(f=>f.route.id!==a.route.id?oe(z({},f),{shouldLoad:!1,unstable_shouldRevalidateArgs:u,unstable_shouldCallHandler:()=>!1,_lazyPromises:$N(e,t,n,f,i),resolve:()=>Promise.resolve({type:"data",result:void 0})}):Y0(e,t,n,f,i,l,!0,u))}function xR(e,t,n,s,a,i){return ye(this,null,function*(){n.some(h=>{var p;return(p=h._lazyPromises)==null?void 0:p.middleware})&&(yield Promise.all(n.map(h=>{var p;return(p=h._lazyPromises)==null?void 0:p.middleware})));let l={request:t,params:n[0].params,context:a,matches:n},u=h=>{let p=l;return BN(p,!1,()=>h(oe(z({},p),{fetcherKey:s,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})),(g,b)=>({[b]:{type:"error",result:g}}))},f=yield e(oe(z({},l),{fetcherKey:s,unstable_runClientMiddleware:u}));try{yield Promise.all(n.flatMap(h=>{var p,g;return[(p=h._lazyPromises)==null?void 0:p.handler,(g=h._lazyPromises)==null?void 0:g.route]}))}catch(h){}return f})}function yR(l){return ye(this,arguments,function*({request:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:s,handlerOverride:a,scopedContext:i}){let u,f,h=Vs(e.method),p=h?"action":"loader",g=b=>{let x,w=new Promise((N,R)=>x=R);f=()=>x(),e.signal.addEventListener("abort",f);let _=N=>typeof b!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${t.route.id}]`)):b({request:e,params:t.params,context:i},...N!==void 0?[N]:[]),S=ye(null,null,function*(){try{return{type:"data",result:yield a?a(R=>_(R)):_()}}catch(N){return{type:"error",result:N}}});return Promise.race([S,w])};try{let b=h?t.route.action:t.route.loader;if(n||s)if(b){let x,[w]=yield Promise.all([g(b).catch(_=>{x=_}),n,s]);if(x!==void 0)throw x;u=w}else{yield n;let x=h?t.route.action:t.route.loader;if(x)[u]=yield Promise.all([g(x),s]);else if(p==="action"){let w=new URL(e.url),_=w.pathname+w.search;throw vr(405,{method:e.method,pathname:_,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(b)u=yield g(b);else{let x=new URL(e.url),w=x.pathname+x.search;throw vr(404,{pathname:w})}}catch(b){return{type:"error",result:b}}finally{f&&e.signal.removeEventListener("abort",f)}return u})}function bR(e){return ye(this,null,function*(){var s,a,i,l,u,f;let{result:t,type:n}=e;if(VN(t)){let h;try{let p=t.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?t.body==null?h=null:h=yield t.json():h=yield t.text()}catch(p){return{type:"error",error:p}}return n==="error"?{type:"error",error:new Ah(t.status,t.statusText,h),statusCode:t.status,headers:t.headers}:{type:"data",data:h,statusCode:t.status,headers:t.headers}}return n==="error"?jj(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(s=t.init)==null?void 0:s.status,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Ah(((i=t.init)==null?void 0:i.status)||500,void 0,t.data),statusCode:Wu(t)?t.status:void 0,headers:(l=t.init)!=null&&l.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Wu(t)?t.status:void 0}:jj(t)?{type:"data",data:t.data,statusCode:(u=t.init)==null?void 0:u.status,headers:(f=t.init)!=null&&f.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}})}function vR(e,t,n,s,a){let i=e.headers.get("Location");if(qt(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!Hx(i)){let l=s.slice(0,s.findIndex(u=>u.route.id===n)+1);i=q0(new URL(t.url),l,a,i),e.headers.set("Location",i)}return e}function xj(e,t,n){if(Hx(e)){let s=e,a=s.startsWith("//")?new URL(t.protocol+s):new URL(s),i=Sr(a.pathname,n)!=null;if(a.origin===t.origin&&i)return a.pathname+a.search+a.hash}return e}function Fl(e,t,n,s){let a=e.createURL(HN(t)).toString(),i={signal:n};if(s&&Vs(s.formMethod)){let{formMethod:l,formEncType:u}=s;i.method=l.toUpperCase(),u==="application/json"?(i.headers=new Headers({"Content-Type":u}),i.body=JSON.stringify(s.json)):u==="text/plain"?i.body=s.text:u==="application/x-www-form-urlencoded"&&s.formData?i.body=X0(s.formData):i.body=s.formData}return new Request(a,i)}function X0(e){let t=new URLSearchParams;for(let[n,s]of e.entries())t.append(n,typeof s=="string"?s:s.name);return t}function yj(e){let t=new FormData;for(let[n,s]of e.entries())t.append(n,s);return t}function wR(e,t,n,s=!1,a=!1){let i={},l=null,u,f=!1,h={},p=n&&tr(n[1])?n[1].error:void 0;return e.forEach(g=>{if(!(g.route.id in t))return;let b=g.route.id,x=t[b];if(qt(!Co(x),"Cannot handle redirect results in processLoaderData"),tr(x)){let w=x.error;if(p!==void 0&&(w=p,p=void 0),l=l||{},a)l[b]=w;else{let _=jo(e,b);l[_.route.id]==null&&(l[_.route.id]=w)}s||(i[b]=LN),f||(f=!0,u=Wu(x.error)?x.error.status:500),x.headers&&(h[b]=x.headers)}else i[b]=x.data,x.statusCode&&x.statusCode!==200&&!f&&(u=x.statusCode),x.headers&&(h[b]=x.headers)}),p!==void 0&&n&&(l={[n[0]]:p},n[2]&&(i[n[2]]=void 0)),{loaderData:i,errors:l,statusCode:u||200,loaderHeaders:h}}function bj(e,t,n,s,a,i){let{loaderData:l,errors:u}=wR(t,n,s);return a.filter(f=>!f.matches||f.matches.some(h=>h.shouldLoad)).forEach(f=>{let{key:h,match:p,controller:g}=f,b=i[h];if(qt(b,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(tr(b)){let x=jo(e.matches,p==null?void 0:p.route.id);u&&u[x.route.id]||(u=oe(z({},u),{[x.route.id]:b.error})),e.fetchers.delete(h)}else if(Co(b))qt(!1,"Unhandled fetcher revalidation redirect");else{let x=Si(b.data);e.fetchers.set(h,x)}}),{loaderData:l,errors:u}}function vj(e,t,n,s){let a=Object.entries(t).filter(([,i])=>i!==LN).reduce((i,[l,u])=>(i[l]=u,i),{});for(let i of n){let l=i.route.id;if(!t.hasOwnProperty(l)&&e.hasOwnProperty(l)&&i.route.loader&&(a[l]=e[l]),s&&s.hasOwnProperty(l))break}return a}function wj(e){return e?tr(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function jo(e,t){return(t?e.slice(0,e.findIndex(s=>s.route.id===t)+1):[...e]).reverse().find(s=>s.route.hasErrorBoundary===!0)||e[0]}function _j(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function vr(e,{pathname:t,routeId:n,method:s,type:a,message:i}={}){let l="Unknown Server Error",u="Unknown @remix-run/router error";return e===400?(l="Bad Request",s&&t&&n?u=`You made a ${s} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:a==="invalid-body"&&(u="Unable to encode submission body")):e===403?(l="Forbidden",u=`Route "${n}" does not match URL "${t}"`):e===404?(l="Not Found",u=`No route matches URL "${t}"`):e===405&&(l="Method Not Allowed",s&&t&&n?u=`You made a ${s.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:s&&(u=`Invalid request method "${s.toUpperCase()}"`)),new Ah(e||500,l,new Error(u),!0)}function Af(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[s,a]=t[n];if(Co(a))return{key:s,result:a}}}function HN(e){let t=typeof e=="string"?$i(e):e;return Pi(oe(z({},t),{hash:""}))}function _R(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function jR(e){return VN(e.result)&&iR.has(e.result.status)}function tr(e){return e.type==="error"}function Co(e){return(e&&e.type)==="redirect"}function jj(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function VN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body!="undefined"}function SR(e){return aR.has(e.toUpperCase())}function Vs(e){return sR.has(e.toUpperCase())}function Vx(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function ph(e,t){let n=typeof t=="string"?$i(t).search:t.search;if(e[e.length-1].route.index&&Vx(n||""))return e[e.length-1];let s=RN(e);return s[s.length-1]}function Sj(e){let{formMethod:t,formAction:n,formEncType:s,text:a,formData:i,json:l}=e;if(!(!t||!n||!s)){if(a!=null)return{formMethod:t,formAction:n,formEncType:s,formData:void 0,json:void 0,text:a};if(i!=null)return{formMethod:t,formAction:n,formEncType:s,formData:i,json:void 0,text:void 0};if(l!==void 0)return{formMethod:t,formAction:n,formEncType:s,formData:void 0,json:l,text:void 0}}}function Wg(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function NR(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function mu(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function ER(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Si(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function TR(e,t){try{let n=e.sessionStorage.getItem(PN);if(n){let s=JSON.parse(n);for(let[a,i]of Object.entries(s||{}))i&&Array.isArray(i)&&t.set(a,new Set(i||[]))}}catch(n){}}function CR(e,t){if(t.size>0){let n={};for(let[s,a]of t)n[s]=[...a];try{e.sessionStorage.setItem(PN,JSON.stringify(n))}catch(s){Qn(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function kR(){let e,t,n=new Promise((s,a)=>{e=i=>ye(null,null,function*(){s(i);try{yield n}catch(l){}}),t=i=>ye(null,null,function*(){a(i);try{yield n}catch(l){}})});return{promise:n,resolve:e,reject:t}}var Vo=j.createContext(null);Vo.displayName="DataRouter";var nd=j.createContext(null);nd.displayName="DataRouterState";j.createContext(!1);var Ix=j.createContext({isTransitioning:!1});Ix.displayName="ViewTransition";var IN=j.createContext(new Map);IN.displayName="Fetchers";var OR=j.createContext(null);OR.displayName="Await";var ma=j.createContext(null);ma.displayName="Navigation";var am=j.createContext(null);am.displayName="Location";var pa=j.createContext({outlet:null,matches:[],isDataRoute:!1});pa.displayName="Route";var qx=j.createContext(null);qx.displayName="RouteError";function AR(e,{relative:t}={}){qt(sd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext(ma),{hash:a,pathname:i,search:l}=rd(e,{relative:t}),u=i;return n!=="/"&&(u=i==="/"?n:ca([n,i])),s.createHref({pathname:u,search:l,hash:a})}function sd(){return j.useContext(am)!=null}function Hi(){return qt(sd(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(am).location}var qN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function WN(e){j.useContext(ma).static||j.useLayoutEffect(e)}function DR(){let{isDataRoute:e}=j.useContext(pa);return e?YR():RR()}function RR(){qt(sd(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(Vo),{basename:t,navigator:n}=j.useContext(ma),{matches:s}=j.useContext(pa),{pathname:a}=Hi(),i=JSON.stringify(Fx(s)),l=j.useRef(!1);return WN(()=>{l.current=!0}),j.useCallback((f,h={})=>{if(Qn(l.current,qN),!l.current)return;if(typeof f=="number"){n.go(f);return}let p=$x(f,JSON.parse(i),a,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:ca([t,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[t,n,i,a,e])}var MR=j.createContext(null);function PR(e){let t=j.useContext(pa).outlet;return t&&j.createElement(MR.Provider,{value:e},t)}function rd(e,{relative:t}={}){let{matches:n}=j.useContext(pa),{pathname:s}=Hi(),a=JSON.stringify(Fx(n));return j.useMemo(()=>$x(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function LR(e,t,n,s){qt(sd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=j.useContext(ma),{matches:i}=j.useContext(pa),l=i[i.length-1],u=l?l.params:{},f=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let N=p&&p.path||"";YN(f,!p||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let g=Hi(),b;b=g;let x=b.pathname||"/",w=x;if(h!=="/"){let N=h.replace(/^\//,"").split("/");w="/"+x.replace(/^\//,"").split("/").slice(N.length).join("/")}let _=Ei(e,{pathname:w});return Qn(p||_!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Qn(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),$R(_&&_.map(N=>Object.assign({},N,{params:Object.assign({},u,N.params),pathname:ca([h,a.encodeLocation?a.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?h:ca([h,a.encodeLocation?a.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),i,n,s)}function zR(){let e=WR(),t=Wu(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:i},"ErrorBoundary")," or"," ",j.createElement("code",{style:i},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:a},n):null,l)}var UR=j.createElement(zR,null),BR=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?j.createElement(pa.Provider,{value:this.props.routeContext},j.createElement(qx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function FR({routeContext:e,match:t,children:n}){let s=j.useContext(Vo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(pa.Provider,{value:e},n)}function $R(e,t=[],n=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,i=n==null?void 0:n.errors;if(i!=null){let f=a.findIndex(h=>h.route.id&&(i==null?void 0:i[h.route.id])!==void 0);qt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,u=-1;if(n)for(let f=0;f<a.length;f++){let h=a[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:p,errors:g}=n,b=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||b){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((f,h,p)=>{let g,b=!1,x=null,w=null;n&&(g=i&&h.route.id?i[h.route.id]:void 0,x=h.route.errorElement||UR,l&&(u<0&&p===0?(YN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,w=null):u===p&&(b=!0,w=h.route.hydrateFallbackElement||null)));let _=t.concat(a.slice(0,p+1)),S=()=>{let N;return g?N=x:b?N=w:h.route.Component?N=j.createElement(h.route.Component,null):h.route.element?N=h.route.element:N=f,j.createElement(FR,{match:h,routeContext:{outlet:f,matches:_,isDataRoute:n!=null},children:N})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?j.createElement(BR,{location:n.location,revalidation:n.revalidation,component:x,error:g,children:S(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):S()},null)}function Wx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HR(e){let t=j.useContext(Vo);return qt(t,Wx(e)),t}function VR(e){let t=j.useContext(nd);return qt(t,Wx(e)),t}function IR(e){let t=j.useContext(pa);return qt(t,Wx(e)),t}function Yx(e){let t=IR(e),n=t.matches[t.matches.length-1];return qt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function qR(){return Yx("useRouteId")}function WR(){var s;let e=j.useContext(qx),t=VR("useRouteError"),n=Yx("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function YR(){let{router:e}=HR("useNavigate"),t=Yx("useNavigate"),n=j.useRef(!1);return WN(()=>{n.current=!0}),j.useCallback((l,...u)=>ye(null,[l,...u],function*(a,i={}){Qn(n.current,qN),n.current&&(typeof a=="number"?e.navigate(a):yield e.navigate(a,z({fromRouteId:t},i)))}),[e,t])}var Nj={};function YN(e,t,n){!t&&!Nj[e]&&(Nj[e]=!0,Qn(!1,n))}var Ej={};function Tj(e,t){!e&&!Ej[t]&&(Ej[t]=!0,console.warn(t))}function XR(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Qn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:j.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Qn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:j.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Qn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:j.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var GR=["HydrateFallback","hydrateFallbackElement"],KR=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",t(n))}})}};function QR({router:e,flushSync:t}){let[n,s]=j.useState(e.state),[a,i]=j.useState(),[l,u]=j.useState({isTransitioning:!1}),[f,h]=j.useState(),[p,g]=j.useState(),[b,x]=j.useState(),w=j.useRef(new Map),_=j.useCallback((A,{deletedFetchers:C,flushSync:k,viewTransitionOpts:D})=>{A.fetchers.forEach((E,P)=>{E.data!==void 0&&w.current.set(P,E.data)}),C.forEach(E=>w.current.delete(E)),Tj(k===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let M=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(Tj(D==null||M,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!D||!M){t&&k?t(()=>s(A)):j.startTransition(()=>s(A));return}if(t&&k){t(()=>{p&&(f&&f.resolve(),p.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation})});let E=e.window.document.startViewTransition(()=>{t(()=>s(A))});E.finished.finally(()=>{t(()=>{h(void 0),g(void 0),i(void 0),u({isTransitioning:!1})})}),t(()=>g(E));return}p?(f&&f.resolve(),p.skipTransition(),x({state:A,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(i(A),u({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[e.window,t,p,f]);j.useLayoutEffect(()=>e.subscribe(_),[e,_]),j.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new KR)},[l]),j.useEffect(()=>{if(f&&a&&e.window){let A=a,C=f.promise,k=e.window.document.startViewTransition(()=>ye(null,null,function*(){j.startTransition(()=>s(A)),yield C}));k.finished.finally(()=>{h(void 0),g(void 0),i(void 0),u({isTransitioning:!1})}),g(k)}},[a,f,e.window]),j.useEffect(()=>{f&&a&&n.location.key===a.location.key&&f.resolve()},[f,p,n.location,a]),j.useEffect(()=>{!l.isTransitioning&&b&&(i(b.state),u({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),x(void 0))},[l.isTransitioning,b]);let S=j.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:A=>e.navigate(A),push:(A,C,k)=>e.navigate(A,{state:C,preventScrollReset:k==null?void 0:k.preventScrollReset}),replace:(A,C,k)=>e.navigate(A,{replace:!0,state:C,preventScrollReset:k==null?void 0:k.preventScrollReset})}),[e]),N=e.basename||"/",R=j.useMemo(()=>({router:e,navigator:S,static:!1,basename:N}),[e,S,N]);return j.createElement(j.Fragment,null,j.createElement(Vo.Provider,{value:R},j.createElement(nd.Provider,{value:n},j.createElement(IN.Provider,{value:w.current},j.createElement(Ix.Provider,{value:l},j.createElement(tM,{basename:N,location:n.location,navigationType:n.historyAction,navigator:S},j.createElement(ZR,{routes:e.routes,future:e.future,state:n})))))),null)}var ZR=j.memo(JR);function JR({routes:e,future:t,state:n}){return LR(e,void 0,n,t)}function eM(e){return PR(e.context)}function tM({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:a,static:i=!1}){qt(!sd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:l,navigator:a,static:i,future:{}}),[l,a,i]);typeof n=="string"&&(n=$i(n));let{pathname:f="/",search:h="",hash:p="",state:g=null,key:b="default"}=n,x=j.useMemo(()=>{let w=Sr(f,l);return w==null?null:{location:{pathname:w,search:h,hash:p,state:g,key:b},navigationType:s}},[l,f,h,p,g,b,s]);return Qn(x!=null,`<Router basename="${l}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:j.createElement(ma.Provider,{value:u},j.createElement(am.Provider,{children:t,value:x}))}var gh="get",xh="application/x-www-form-urlencoded";function im(e){return e!=null&&typeof e.tagName=="string"}function nM(e){return im(e)&&e.tagName.toLowerCase()==="button"}function sM(e){return im(e)&&e.tagName.toLowerCase()==="form"}function rM(e){return im(e)&&e.tagName.toLowerCase()==="input"}function aM(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function iM(e,t){return e.button===0&&(!t||t==="_self")&&!aM(e)}var Df=null;function oM(){if(Df===null)try{new FormData(document.createElement("form"),0),Df=!1}catch(e){Df=!0}return Df}var lM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yg(e){return e!=null&&!lM.has(e)?(Qn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xh}"`),null):e}function cM(e,t){let n,s,a,i,l;if(sM(e)){let u=e.getAttribute("action");s=u?Sr(u,t):null,n=e.getAttribute("method")||gh,a=Yg(e.getAttribute("enctype"))||xh,i=new FormData(e)}else if(nM(e)||rM(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||u.getAttribute("action");if(s=f?Sr(f,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||gh,a=Yg(e.getAttribute("formenctype"))||Yg(u.getAttribute("enctype"))||xh,i=new FormData(u,e),!oM()){let{name:h,type:p,value:g}=e;if(p==="image"){let b=h?`${h}.`:"";i.append(`${b}x`,"0"),i.append(`${b}y`,"0")}else h&&i.append(h,g)}}else{if(im(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gh,s=null,a=xh,l=e}return i&&a==="text/plain"&&(l=i,i=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Xx(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function uM(e,t,n){let s=typeof e=="string"?new URL(e,typeof window=="undefined"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&Sr(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}function dM(e,t){return ye(this,null,function*(){if(e.id in t)return t[e.id];try{let n=yield import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}})}function fM(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}function hM(e,t,n){return ye(this,null,function*(){let s=yield Promise.all(e.map(a=>ye(null,null,function*(){let i=t.routes[a.route.id];if(i){let l=yield dM(i,n);return l.links?l.links():[]}return[]})));return xM(s.flat(1).filter(fM).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?oe(z({},a),{rel:"prefetch",as:"style"}):oe(z({},a),{rel:"prefetch"})))})}function Cj(e,t,n,s,a,i){let l=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,u=(f,h)=>{var p;return n[h].pathname!==f.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==f.params["*"]};return i==="assets"?t.filter((f,h)=>l(f,h)||u(f,h)):i==="data"?t.filter((f,h)=>{var g;let p=s.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(l(f,h)||u(f,h))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function mM(e,t,{includeHydrateFallback:n}={}){return pM(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function pM(e){return[...new Set(e)]}function gM(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function xM(e,t){let n=new Set;return new Set(t),e.reduce((s,a)=>{let i=JSON.stringify(gM(a));return n.has(i)||(n.add(i),s.push({key:i,link:a})),s},[])}function XN(){let e=j.useContext(Vo);return Xx(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function yM(){let e=j.useContext(nd);return Xx(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Gx=j.createContext(void 0);Gx.displayName="FrameworkContext";function GN(){let e=j.useContext(Gx);return Xx(e,"You must render this element inside a <HydratedRouter> element"),e}function bM(e,t){let n=j.useContext(Gx),[s,a]=j.useState(!1),[i,l]=j.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=t,b=j.useRef(null);j.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let _=N=>{N.forEach(R=>{l(R.isIntersecting)})},S=new IntersectionObserver(_,{threshold:.5});return b.current&&S.observe(b.current),()=>{S.disconnect()}}},[e]),j.useEffect(()=>{if(s){let _=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(_)}}},[s]);let x=()=>{a(!0)},w=()=>{a(!1),l(!1)};return n?e!=="intent"?[i,b,{}]:[i,b,{onFocus:pu(u,x),onBlur:pu(f,w),onMouseEnter:pu(h,x),onMouseLeave:pu(p,w),onTouchStart:pu(g,x)}]:[!1,b,{}]}function pu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function vM(n){var s=n,{page:e}=s,t=ke(s,["page"]);let{router:a}=XN(),i=j.useMemo(()=>Ei(a.routes,e,a.basename),[a.routes,e,a.basename]);return i?j.createElement(_M,z({page:e,matches:i},t)):null}function wM(e){let{manifest:t,routeModules:n}=GN(),[s,a]=j.useState([]);return j.useEffect(()=>{let i=!1;return hM(e,t,n).then(l=>{i||a(l)}),()=>{i=!0}},[e,t,n]),s}function _M(s){var a=s,{page:e,matches:t}=a,n=ke(a,["page","matches"]);let i=Hi(),{manifest:l,routeModules:u}=GN(),{basename:f}=XN(),{loaderData:h,matches:p}=yM(),g=j.useMemo(()=>Cj(e,t,p,l,i,"data"),[e,t,p,l,i]),b=j.useMemo(()=>Cj(e,t,p,l,i,"assets"),[e,t,p,l,i]),x=j.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let S=new Set,N=!1;if(t.forEach(A=>{var k;let C=l.routes[A.route.id];!C||!C.hasLoader||(!g.some(D=>D.route.id===A.route.id)&&A.route.id in h&&((k=u[A.route.id])!=null&&k.shouldRevalidate)||C.hasClientLoader?N=!0:S.add(A.route.id))}),S.size===0)return[];let R=uM(e,f,"data");return N&&S.size>0&&R.searchParams.set("_routes",t.filter(A=>S.has(A.route.id)).map(A=>A.route.id).join(",")),[R.pathname+R.search]},[f,h,i,l,g,t,e,u]),w=j.useMemo(()=>mM(b,l),[b,l]),_=wM(b);return j.createElement(j.Fragment,null,x.map(S=>j.createElement("link",z({key:S,rel:"prefetch",as:"fetch",href:S},n))),w.map(S=>j.createElement("link",z({key:S,rel:"modulepreload",href:S},n))),_.map(({key:S,link:N})=>j.createElement("link",z({key:S},N))))}function jM(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var KN=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{KN&&(window.__reactRouterVersion="7.7.1")}catch(e){}function SM(e,t){return dR({basename:t==null?void 0:t.basename,unstable_getContext:t==null?void 0:t.unstable_getContext,future:t==null?void 0:t.future,history:OD({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||NM(),routes:e,mapRouteProperties:XR,hydrationRouteProperties:GR,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function NM(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e=oe(z({},e),{errors:EM(e.errors)})),e}function EM(e){if(!e)return null;let t=Object.entries(e),n={};for(let[s,a]of t)if(a&&a.__type==="RouteErrorResponse")n[s]=new Ah(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let i=window[a.__subType];if(typeof i=="function")try{let l=new i(a.message);l.stack="",n[s]=l}catch(l){}}if(n[s]==null){let i=new Error(a.message);i.stack="",n[s]=i}}else n[s]=a;return n}var QN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ZN=j.forwardRef(function(w,x){var _=w,{onClick:t,discover:n="render",prefetch:s="none",relative:a,reloadDocument:i,replace:l,state:u,target:f,to:h,preventScrollReset:p,viewTransition:g}=_,b=ke(_,["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"]);let{basename:S}=j.useContext(ma),N=typeof h=="string"&&QN.test(h),R,A=!1;if(typeof h=="string"&&N&&(R=h,KN))try{let W=new URL(window.location.href),Y=h.startsWith("//")?new URL(W.protocol+h):new URL(h),q=Sr(Y.pathname,S);Y.origin===W.origin&&q!=null?h=q+Y.search+Y.hash:A=!0}catch(W){Qn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=AR(h,{relative:a}),[k,D,M]=bM(s,b),E=kM(h,{replace:l,state:u,target:f,preventScrollReset:p,relative:a,viewTransition:g});function P(W){t&&t(W),W.defaultPrevented||E(W)}let K=j.createElement("a",oe(z(z({},b),M),{href:R||C,onClick:A||i?t:P,ref:jM(x,D),target:f,"data-discover":!N&&n==="render"?"true":void 0}));return k&&!N?j.createElement(j.Fragment,null,K,j.createElement(vM,{page:C})):K});ZN.displayName="Link";var JN=j.forwardRef(function(g,p){var b=g,{"aria-current":t="page",caseSensitive:n=!1,className:s="",end:a=!1,style:i,to:l,viewTransition:u,children:f}=b,h=ke(b,["aria-current","caseSensitive","className","end","style","to","viewTransition","children"]);let x=rd(l,{relative:h.relative}),w=Hi(),_=j.useContext(nd),{navigator:S,basename:N}=j.useContext(ma),R=_!=null&&MM(x)&&u===!0,A=S.encodeLocation?S.encodeLocation(x).pathname:x.pathname,C=w.pathname,k=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(C=C.toLowerCase(),k=k?k.toLowerCase():null,A=A.toLowerCase()),k&&N&&(k=Sr(k,N)||k);const D=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let M=C===A||!a&&C.startsWith(A)&&C.charAt(D)==="/",E=k!=null&&(k===A||!a&&k.startsWith(A)&&k.charAt(A.length)==="/"),P={isActive:M,isPending:E,isTransitioning:R},K=M?t:void 0,W;typeof s=="function"?W=s(P):W=[s,M?"active":null,E?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let Y=typeof i=="function"?i(P):i;return j.createElement(ZN,oe(z({},h),{"aria-current":K,className:W,ref:p,style:Y,to:l,viewTransition:u}),typeof f=="function"?f(P):f)});JN.displayName="NavLink";var TM=j.forwardRef((w,x)=>{var _=w,{discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:a,state:i,method:l=gh,action:u,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g}=_,b=ke(_,["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"]);let S=DM(),N=RM(u,{relative:h}),R=l.toLowerCase()==="get"?"get":"post",A=typeof u=="string"&&QN.test(u),C=k=>{if(f&&f(k),k.defaultPrevented)return;k.preventDefault();let D=k.nativeEvent.submitter,M=(D==null?void 0:D.getAttribute("formmethod"))||l;S(D||k.currentTarget,{fetcherKey:t,method:M,navigate:n,replace:a,state:i,relative:h,preventScrollReset:p,viewTransition:g})};return j.createElement("form",oe(z({ref:x,method:R,action:N,onSubmit:s?f:C},b),{"data-discover":!A&&e==="render"?"true":void 0}))});TM.displayName="Form";function CM(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function e2(e){let t=j.useContext(Vo);return qt(t,CM(e)),t}function kM(e,{target:t,replace:n,state:s,preventScrollReset:a,relative:i,viewTransition:l}={}){let u=DR(),f=Hi(),h=rd(e,{relative:i});return j.useCallback(p=>{if(iM(p,t)){p.preventDefault();let g=n!==void 0?n:Pi(f)===Pi(h);u(e,{replace:g,state:s,preventScrollReset:a,relative:i,viewTransition:l})}},[f,u,h,n,s,t,e,a,i,l])}var OM=0,AM=()=>`__${String(++OM)}__`;function DM(){let{router:e}=e2("useSubmit"),{basename:t}=j.useContext(ma),n=qR();return j.useCallback((i,...l)=>ye(null,[i,...l],function*(s,a={}){let{action:u,method:f,encType:h,formData:p,body:g}=cM(s,t);if(a.navigate===!1){let b=a.fetcherKey||AM();yield e.fetch(b,n,a.action||u,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||f,formEncType:a.encType||h,flushSync:a.flushSync})}else yield e.navigate(a.action||u,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||f,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})}),[e,t,n])}function RM(e,{relative:t}={}){let{basename:n}=j.useContext(ma),s=j.useContext(pa);qt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),i=z({},rd(e||".",{relative:t})),l=Hi();if(e==null){i.search=l.search;let u=new URLSearchParams(i.search),f=u.getAll("index");if(f.some(p=>p==="")){u.delete("index"),f.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();i.search=p?`?${p}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:ca([n,i.pathname])),Pi(i)}function MM(e,{relative:t}={}){let n=j.useContext(Ix);qt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=e2("useViewTransitionState"),a=rd(e,{relative:t});if(!n.isTransitioning)return!1;let i=Sr(n.currentLocation.pathname,s)||n.currentLocation.pathname,l=Sr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Oh(a.pathname,l)!=null||Oh(a.pathname,i)!=null}var om=QS();const t2=Cx(om);function PM(e){return j.createElement(QR,z({flushSync:om.flushSync},e))}/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zM=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),kj=e=>{const t=zM(e);return t.charAt(0).toUpperCase()+t.slice(1)},n2=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),UM=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var BM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=j.forwardRef((h,f)=>{var p=h,{color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:l}=p,u=ke(p,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return j.createElement("svg",z(z(oe(z({ref:f},BM),{width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:n2("lucide",a)}),!i&&!UM(u)&&{"aria-hidden":"true"}),u),[...l.map(([g,b])=>j.createElement(g,b)),...Array.isArray(i)?i:[i]])});/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=(e,t)=>{const n=j.forwardRef((l,i)=>{var u=l,{className:s}=u,a=ke(u,["className"]);return j.createElement(FM,z({ref:i,iconNode:t,className:n2(`lucide-${LM(kj(e))}`,`lucide-${e}`,s)},a))});return n.displayName=kj(e),n};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],HM=kt("activity",$M);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Kx=kt("arrow-left",VM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],qM=kt("bell",IM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],$r=kt("calendar",WM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],XM=kt("chart-column",YM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],KM=kt("check",GM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],s2=kt("chevron-down",QM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],JM=kt("chevron-up",ZM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],tP=kt("chevrons-up-down",eP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ro=kt("circle-alert",nP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],rP=kt("circle-check-big",sP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],lm=kt("circle-check",aP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],oP=kt("circle",iP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],nc=kt("clock",lP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],uP=kt("crown",cP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Qx=kt("dollar-sign",dP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],hP=kt("ellipsis-vertical",fP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],r2=kt("file-text",mP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],gP=kt("folder-open",pP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Zx=kt("funnel",xP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],bP=kt("grid-3x3",yP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],wP=kt("layout-dashboard",vP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],jP=kt("list",_P);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],G0=kt("loader-circle",SP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],EP=kt("log-out",NP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],CP=kt("menu",TP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],OP=kt("pause",kP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],DP=kt("pen",AP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],MP=kt("piggy-bank",RP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],LP=kt("play",PP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Mo=kt("plus",zP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],a2=kt("refresh-cw",UP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],cm=kt("search",BP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],i2=kt("settings",FP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],HP=kt("square-check-big",$P);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ql=kt("square-pen",VP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],qP=kt("square",IP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Jx=kt("target",WP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ql=kt("trash-2",YP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],um=kt("triangle-alert",XP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Rh=kt("user",GP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],yh=kt("users",KP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ZP=kt("x",QP),JP=[{name:"Dashboard",href:"/",icon:wP},{name:"Projects",href:"/projects",icon:gP},{name:"Tasks",href:"/tasks",icon:HP},{name:"Time Tracking",href:"/time-tracking",icon:nc},{name:"Cost Analysis",href:"/cost-analysis",icon:Qx},{name:"Reports",href:"/reports",icon:XM},{name:"Calendar",href:"/calendar",icon:$r},{name:"Team",href:"/team",icon:yh},{name:"Documents",href:"/documents",icon:r2},{name:"Settings",href:"/settings",icon:i2}],Oj=()=>{const e=Hi();return c.jsxs("div",{className:"flex flex-col w-64 bg-white shadow-lg border-r border-gray-200",children:[c.jsx("div",{className:"flex items-center justify-center h-16 px-4 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",children:c.jsx("img",{src:"https://ctuav.vn/wp-content/uploads/2024/08/Logo-moi-ctuav.png",alt:"CT UAV Logo",className:"w-8 h-8 object-contain"})}),c.jsx("span",{className:"text-xl font-bold text-gray-800",children:"CT UAV"})]})}),c.jsx("nav",{className:"flex-1 px-4 py-6 space-y-1",children:JP.map(t=>{const n=e.pathname===t.href;return c.jsxs(JN,{to:t.href,className:`
                group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-all duration-200
                ${n?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-md":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}
              `,children:[c.jsx(t.icon,{className:`
                  mr-3 h-5 w-5 transition-colors duration-200
                  ${n?"text-white":"text-gray-500 group-hover:text-gray-700"}
                `}),t.name]},t.name)})}),c.jsx("div",{className:"p-4 border-t border-gray-200",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-white font-medium text-sm",children:"U"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:"Admin"}),c.jsx("p",{className:"text-xs text-gray-500 truncate",children:"admin@ctgroupvietnam.com"})]})]})})]})};function ir(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Aj(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Po(...e){return t=>{let n=!1;const s=e.map(a=>{const i=Aj(a,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():Aj(e[a],null)}}}}function An(...e){return j.useCallback(Po(...e),e)}function ey(e,t){const n=j.createContext(t),s=i=>{const h=i,{children:l}=h,u=ke(h,["children"]),f=j.useMemo(()=>u,Object.values(u));return c.jsx(n.Provider,{value:f,children:l})};s.displayName=e+"Provider";function a(i){const l=j.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function ad(e,t=[]){let n=[];function s(i,l){const u=j.createContext(l),f=n.length;n=[...n,l];const h=g=>{var R;const N=g,{scope:b,children:x}=N,w=ke(N,["scope","children"]),_=((R=b==null?void 0:b[e])==null?void 0:R[f])||u,S=j.useMemo(()=>w,Object.values(w));return c.jsx(_.Provider,{value:S,children:x})};h.displayName=i+"Provider";function p(g,b){var _;const x=((_=b==null?void 0:b[e])==null?void 0:_[f])||u,w=j.useContext(x);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${i}\``)}return[h,p]}const a=()=>{const i=n.map(l=>j.createContext(l));return function(u){const f=(u==null?void 0:u[e])||i;return j.useMemo(()=>({[`__scope${e}`]:oe(z({},u),{[e]:f})}),[u,f])}};return a.scopeName=e,[s,e3(a,...t)]}function e3(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const l=s.reduce((u,{useScope:f,scopeName:h})=>{const g=f(i)[`__scope${h}`];return z(z({},u),g)},{});return j.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function sc(e){const t=n3(e),n=j.forwardRef((s,a)=>{const h=s,{children:i}=h,l=ke(h,["children"]),u=j.Children.toArray(i),f=u.find(r3);if(f){const p=f.props.children,g=u.map(b=>b===f?j.Children.count(p)>1?j.Children.only(null):j.isValidElement(p)?p.props.children:null:b);return c.jsx(t,oe(z({},l),{ref:a,children:j.isValidElement(p)?j.cloneElement(p,void 0,g):null}))}return c.jsx(t,oe(z({},l),{ref:a,children:i}))});return n.displayName=`${e}.Slot`,n}var t3=sc("Slot");function n3(e){const t=j.forwardRef((n,s)=>{const l=n,{children:a}=l,i=ke(l,["children"]);if(j.isValidElement(a)){const u=i3(a),f=a3(i,a.props);return a.type!==j.Fragment&&(f.ref=s?Po(s,u):u),j.cloneElement(a,f)}return j.Children.count(a)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var s3=Symbol("radix.slottable");function r3(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===s3}function a3(e,t){const n=z({},t);for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...u)=>{const f=i(...u);return a(...u),f}:a&&(n[s]=a):s==="style"?n[s]=z(z({},a),i):s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return z(z({},e),n)}function i3(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var o3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Wt=o3.reduce((e,t)=>{const n=sc(`Primitive.${t}`),s=j.forwardRef((a,i)=>{const h=a,{asChild:l}=h,u=ke(h,["asChild"]),f=l?n:t;return typeof window!="undefined"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(f,oe(z({},u),{ref:i}))});return s.displayName=`Primitive.${t}`,oe(z({},e),{[t]:s})},{});function ty(e,t){e&&om.flushSync(()=>e.dispatchEvent(t))}function fa(e){const t=j.useRef(e);return j.useEffect(()=>{t.current=e}),j.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function ny(e,t=globalThis==null?void 0:globalThis.document){const n=fa(e);j.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var l3="DismissableLayer",K0="dismissableLayer.update",c3="dismissableLayer.pointerDownOutside",u3="dismissableLayer.focusOutside",Dj,o2=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),sy=j.forwardRef((e,t)=>{var E;const M=e,{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:l,onDismiss:u}=M,f=ke(M,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),h=j.useContext(o2),[p,g]=j.useState(null),b=(E=p==null?void 0:p.ownerDocument)!=null?E:globalThis==null?void 0:globalThis.document,[,x]=j.useState({}),w=An(t,P=>g(P)),_=Array.from(h.layers),[S]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),N=_.indexOf(S),R=p?_.indexOf(p):-1,A=h.layersWithOutsidePointerEventsDisabled.size>0,C=R>=N,k=h3(P=>{const K=P.target,W=[...h.branches].some(Y=>Y.contains(K));!C||W||(a==null||a(P),l==null||l(P),P.defaultPrevented||u==null||u())},b),D=m3(P=>{const K=P.target;[...h.branches].some(Y=>Y.contains(K))||(i==null||i(P),l==null||l(P),P.defaultPrevented||u==null||u())},b);return ny(P=>{R===h.layers.size-1&&(s==null||s(P),!P.defaultPrevented&&u&&(P.preventDefault(),u()))},b),j.useEffect(()=>{if(p)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Dj=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),Rj(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=Dj)}},[p,b,n,h]),j.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),Rj())},[p,h]),j.useEffect(()=>{const P=()=>x({});return document.addEventListener(K0,P),()=>document.removeEventListener(K0,P)},[]),c.jsx(Wt.div,oe(z({},f),{ref:w,style:z({pointerEvents:A?C?"auto":"none":void 0},e.style),onFocusCapture:ir(e.onFocusCapture,D.onFocusCapture),onBlurCapture:ir(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:ir(e.onPointerDownCapture,k.onPointerDownCapture)}))});sy.displayName=l3;var d3="DismissableLayerBranch",f3=j.forwardRef((e,t)=>{const n=j.useContext(o2),s=j.useRef(null),a=An(t,s);return j.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),c.jsx(Wt.div,oe(z({},e),{ref:a}))});f3.displayName=d3;function h3(e,t=globalThis==null?void 0:globalThis.document){const n=fa(e),s=j.useRef(!1),a=j.useRef(()=>{});return j.useEffect(()=>{const i=u=>{if(u.target&&!s.current){let f=function(){l2(c3,n,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=f,t.addEventListener("click",a.current,{once:!0})):f()}else t.removeEventListener("click",a.current);s.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function m3(e,t=globalThis==null?void 0:globalThis.document){const n=fa(e),s=j.useRef(!1);return j.useEffect(()=>{const a=i=>{i.target&&!s.current&&l2(u3,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Rj(){const e=new CustomEvent(K0);document.dispatchEvent(e)}function l2(e,t,n,{discrete:s}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?ty(a,i):a.dispatchEvent(i)}var Xg=0;function c2(){j.useEffect(()=>{var t,n;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:Mj()),document.body.insertAdjacentElement("beforeend",(n=e[1])!=null?n:Mj()),Xg++,()=>{Xg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),Xg--}},[])}function Mj(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Gg="focusScope.autoFocusOnMount",Kg="focusScope.autoFocusOnUnmount",Pj={bubbles:!1,cancelable:!0},p3="FocusScope",id=j.forwardRef((e,t)=>{const _=e,{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i}=_,l=ke(_,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),[u,f]=j.useState(null),h=fa(a),p=fa(i),g=j.useRef(null),b=An(t,S=>f(S)),x=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(s){let S=function(C){if(x.paused||!u)return;const k=C.target;u.contains(k)?g.current=k:Ni(g.current,{select:!0})},N=function(C){if(x.paused||!u)return;const k=C.relatedTarget;k!==null&&(u.contains(k)||Ni(g.current,{select:!0}))},R=function(C){if(document.activeElement===document.body)for(const D of C)D.removedNodes.length>0&&Ni(u)};document.addEventListener("focusin",S),document.addEventListener("focusout",N);const A=new MutationObserver(R);return u&&A.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",N),A.disconnect()}}},[s,u,x.paused]),j.useEffect(()=>{if(u){zj.add(x);const S=document.activeElement;if(!u.contains(S)){const R=new CustomEvent(Gg,Pj);u.addEventListener(Gg,h),u.dispatchEvent(R),R.defaultPrevented||(g3(w3(u2(u)),{select:!0}),document.activeElement===S&&Ni(u))}return()=>{u.removeEventListener(Gg,h),setTimeout(()=>{const R=new CustomEvent(Kg,Pj);u.addEventListener(Kg,p),u.dispatchEvent(R),R.defaultPrevented||Ni(S!=null?S:document.body,{select:!0}),u.removeEventListener(Kg,p),zj.remove(x)},0)}}},[u,h,p,x]);const w=j.useCallback(S=>{if(!n&&!s||x.paused)return;const N=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,R=document.activeElement;if(N&&R){const A=S.currentTarget,[C,k]=x3(A);C&&k?!S.shiftKey&&R===k?(S.preventDefault(),n&&Ni(C,{select:!0})):S.shiftKey&&R===C&&(S.preventDefault(),n&&Ni(k,{select:!0})):R===A&&S.preventDefault()}},[n,s,x.paused]);return c.jsx(Wt.div,oe(z({tabIndex:-1},l),{ref:b,onKeyDown:w}))});id.displayName=p3;function g3(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(Ni(s,{select:t}),document.activeElement!==n)return}function x3(e){const t=u2(e),n=Lj(t,e),s=Lj(t.reverse(),e);return[n,s]}function u2(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Lj(e,t){for(const n of e)if(!y3(n,{upTo:t}))return n}function y3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function b3(e){return e instanceof HTMLInputElement&&"select"in e}function Ni(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&b3(e)&&t&&e.select()}}var zj=v3();function v3(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Uj(e,t),e.unshift(t)},remove(t){var n;e=Uj(e,t),(n=e[0])==null||n.resume()}}}function Uj(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function w3(e){return e.filter(t=>t.tagName!=="A")}var Nr=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},_3=KS[" useId ".trim().toString()]||(()=>{}),j3=0;function Os(e){const[t,n]=j.useState(_3());return Nr(()=>{n(s=>s!=null?s:String(j3++))},[e]),e||(t?`radix-${t}`:"")}const S3=["top","right","bottom","left"],Li=Math.min,sr=Math.max,Mh=Math.round,Rf=Math.floor,ua=e=>({x:e,y:e}),N3={left:"right",right:"left",bottom:"top",top:"bottom"},E3={start:"end",end:"start"};function Q0(e,t,n){return sr(e,Li(t,n))}function Wa(e,t){return typeof e=="function"?e(t):e}function Ya(e){return e.split("-")[0]}function rc(e){return e.split("-")[1]}function ry(e){return e==="x"?"y":"x"}function ay(e){return e==="y"?"height":"width"}const T3=new Set(["top","bottom"]);function ia(e){return T3.has(Ya(e))?"y":"x"}function iy(e){return ry(ia(e))}function C3(e,t,n){n===void 0&&(n=!1);const s=rc(e),a=iy(e),i=ay(a);let l=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(l=Ph(l)),[l,Ph(l)]}function k3(e){const t=Ph(e);return[Z0(e),t,Z0(t)]}function Z0(e){return e.replace(/start|end/g,t=>E3[t])}const Bj=["left","right"],Fj=["right","left"],O3=["top","bottom"],A3=["bottom","top"];function D3(e,t,n){switch(e){case"top":case"bottom":return n?t?Fj:Bj:t?Bj:Fj;case"left":case"right":return t?O3:A3;default:return[]}}function R3(e,t,n,s){const a=rc(e);let i=D3(Ya(e),n==="start",s);return a&&(i=i.map(l=>l+"-"+a),t&&(i=i.concat(i.map(Z0)))),i}function Ph(e){return e.replace(/left|right|bottom|top/g,t=>N3[t])}function M3(e){return z({top:0,right:0,bottom:0,left:0},e)}function d2(e){return typeof e!="number"?M3(e):{top:e,right:e,bottom:e,left:e}}function Lh(e){const{x:t,y:n,width:s,height:a}=e;return{width:s,height:a,top:n,left:t,right:t+s,bottom:n+a,x:t,y:n}}function $j(e,t,n){let{reference:s,floating:a}=e;const i=ia(t),l=iy(t),u=ay(l),f=Ya(t),h=i==="y",p=s.x+s.width/2-a.width/2,g=s.y+s.height/2-a.height/2,b=s[u]/2-a[u]/2;let x;switch(f){case"top":x={x:p,y:s.y-a.height};break;case"bottom":x={x:p,y:s.y+s.height};break;case"right":x={x:s.x+s.width,y:g};break;case"left":x={x:s.x-a.width,y:g};break;default:x={x:s.x,y:s.y}}switch(rc(t)){case"start":x[l]-=b*(n&&h?-1:1);break;case"end":x[l]+=b*(n&&h?-1:1);break}return x}const P3=(e,t,n)=>ye(null,null,function*(){const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:l}=n,u=i.filter(Boolean),f=yield l.isRTL==null?void 0:l.isRTL(t);let h=yield l.getElementRects({reference:e,floating:t,strategy:a}),{x:p,y:g}=$j(h,s,f),b=s,x={},w=0;for(let _=0;_<u.length;_++){const{name:S,fn:N}=u[_],{x:R,y:A,data:C,reset:k}=yield N({x:p,y:g,initialPlacement:s,placement:b,strategy:a,middlewareData:x,rects:h,platform:l,elements:{reference:e,floating:t}});p=R!=null?R:p,g=A!=null?A:g,x=oe(z({},x),{[S]:z(z({},x[S]),C)}),k&&w<=50&&(w++,typeof k=="object"&&(k.placement&&(b=k.placement),k.rects&&(h=k.rects===!0?yield l.getElementRects({reference:e,floating:t,strategy:a}):k.rects),{x:p,y:g}=$j(h,b,f)),_=-1)}return{x:p,y:g,placement:b,strategy:a,middlewareData:x}});function Yu(e,t){return ye(this,null,function*(){var n;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:l,elements:u,strategy:f}=e,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:b=!1,padding:x=0}=Wa(t,e),w=d2(x),S=u[b?g==="floating"?"reference":"floating":g],N=Lh(yield i.getClippingRect({element:(n=yield i.isElement==null?void 0:i.isElement(S))==null||n?S:S.contextElement||(yield i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:h,rootBoundary:p,strategy:f})),R=g==="floating"?{x:s,y:a,width:l.floating.width,height:l.floating.height}:l.reference,A=yield i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating),C=(yield i.isElement==null?void 0:i.isElement(A))?(yield i.getScale==null?void 0:i.getScale(A))||{x:1,y:1}:{x:1,y:1},k=Lh(i.convertOffsetParentRelativeRectToViewportRelativeRect?yield i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:R,offsetParent:A,strategy:f}):R);return{top:(N.top-k.top+w.top)/C.y,bottom:(k.bottom-N.bottom+w.bottom)/C.y,left:(N.left-k.left+w.left)/C.x,right:(k.right-N.right+w.right)/C.x}})}const L3=e=>({name:"arrow",options:e,fn(n){return ye(this,null,function*(){const{x:s,y:a,placement:i,rects:l,platform:u,elements:f,middlewareData:h}=n,{element:p,padding:g=0}=Wa(e,n)||{};if(p==null)return{};const b=d2(g),x={x:s,y:a},w=iy(i),_=ay(w),S=yield u.getDimensions(p),N=w==="y",R=N?"top":"left",A=N?"bottom":"right",C=N?"clientHeight":"clientWidth",k=l.reference[_]+l.reference[w]-x[w]-l.floating[_],D=x[w]-l.reference[w],M=yield u.getOffsetParent==null?void 0:u.getOffsetParent(p);let E=M?M[C]:0;(!E||!(yield u.isElement==null?void 0:u.isElement(M)))&&(E=f.floating[C]||l.floating[_]);const P=k/2-D/2,K=E/2-S[_]/2-1,W=Li(b[R],K),Y=Li(b[A],K),q=W,J=E-S[_]-Y,G=E/2-S[_]/2+P,H=Q0(q,G,J),te=!h.arrow&&rc(i)!=null&&G!==H&&l.reference[_]/2-(G<q?W:Y)-S[_]/2<0,ne=te?G<q?G-q:G-J:0;return{[w]:x[w]+ne,data:z({[w]:H,centerOffset:G-H-ne},te&&{alignmentOffset:ne}),reset:te}})}}),z3=function(e){return e===void 0&&(e={}),{name:"flip",options:e,fn(n){return ye(this,null,function*(){var s,a;const{placement:i,middlewareData:l,rects:u,initialPlacement:f,platform:h,elements:p}=n,G=Wa(e,n),{mainAxis:g=!0,crossAxis:b=!0,fallbackPlacements:x,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:S=!0}=G,N=ke(G,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if((s=l.arrow)!=null&&s.alignmentOffset)return{};const R=Ya(i),A=ia(f),C=Ya(f)===f,k=yield h.isRTL==null?void 0:h.isRTL(p.floating),D=x||(C||!S?[Ph(f)]:k3(f)),M=_!=="none";!x&&M&&D.push(...R3(f,S,_,k));const E=[f,...D],P=yield Yu(n,N),K=[];let W=((a=l.flip)==null?void 0:a.overflows)||[];if(g&&K.push(P[R]),b){const H=C3(i,u,k);K.push(P[H[0]],P[H[1]])}if(W=[...W,{placement:i,overflows:K}],!K.every(H=>H<=0)){var Y,q;const H=(((Y=l.flip)==null?void 0:Y.index)||0)+1,te=E[H];if(te&&(!(b==="alignment"?A!==ia(te):!1)||W.every(B=>ia(B.placement)===A?B.overflows[0]>0:!0)))return{data:{index:H,overflows:W},reset:{placement:te}};let ne=(q=W.filter(le=>le.overflows[0]<=0).sort((le,B)=>le.overflows[1]-B.overflows[1])[0])==null?void 0:q.placement;if(!ne)switch(w){case"bestFit":{var J;const le=(J=W.filter(B=>{if(M){const Q=ia(B.placement);return Q===A||Q==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(Q=>Q>0).reduce((Q,he)=>Q+he,0)]).sort((B,Q)=>B[1]-Q[1])[0])==null?void 0:J[0];le&&(ne=le);break}case"initialPlacement":ne=f;break}if(i!==ne)return{reset:{placement:ne}}}return{}})}}};function Hj(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Vj(e){return S3.some(t=>e[t]>=0)}const U3=function(e){return e===void 0&&(e={}),{name:"hide",options:e,fn(n){return ye(this,null,function*(){const{rects:s}=n,l=Wa(e,n),{strategy:a="referenceHidden"}=l,i=ke(l,["strategy"]);switch(a){case"referenceHidden":{const u=yield Yu(n,oe(z({},i),{elementContext:"reference"})),f=Hj(u,s.reference);return{data:{referenceHiddenOffsets:f,referenceHidden:Vj(f)}}}case"escaped":{const u=yield Yu(n,oe(z({},i),{altBoundary:!0})),f=Hj(u,s.floating);return{data:{escapedOffsets:f,escaped:Vj(f)}}}default:return{}}})}}},f2=new Set(["left","top"]);function B3(e,t){return ye(this,null,function*(){const{placement:n,platform:s,elements:a}=e,i=yield s.isRTL==null?void 0:s.isRTL(a.floating),l=Ya(n),u=rc(n),f=ia(n)==="y",h=f2.has(l)?-1:1,p=i&&f?-1:1,g=Wa(t,e);let{mainAxis:b,crossAxis:x,alignmentAxis:w}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof w=="number"&&(x=u==="end"?w*-1:w),f?{x:x*p,y:b*h}:{x:b*h,y:x*p}})}const F3=function(e){return e===void 0&&(e=0),{name:"offset",options:e,fn(n){return ye(this,null,function*(){var s,a;const{x:i,y:l,placement:u,middlewareData:f}=n,h=yield B3(n,e);return u===((s=f.offset)==null?void 0:s.placement)&&(a=f.arrow)!=null&&a.alignmentOffset?{}:{x:i+h.x,y:l+h.y,data:oe(z({},h),{placement:u})}})}}},$3=function(e){return e===void 0&&(e={}),{name:"shift",options:e,fn(n){return ye(this,null,function*(){const{x:s,y:a,placement:i}=n,N=Wa(e,n),{mainAxis:l=!0,crossAxis:u=!1,limiter:f={fn:R=>{let{x:A,y:C}=R;return{x:A,y:C}}}}=N,h=ke(N,["mainAxis","crossAxis","limiter"]),p={x:s,y:a},g=yield Yu(n,h),b=ia(Ya(i)),x=ry(b);let w=p[x],_=p[b];if(l){const R=x==="y"?"top":"left",A=x==="y"?"bottom":"right",C=w+g[R],k=w-g[A];w=Q0(C,w,k)}if(u){const R=b==="y"?"top":"left",A=b==="y"?"bottom":"right",C=_+g[R],k=_-g[A];_=Q0(C,_,k)}const S=f.fn(oe(z({},n),{[x]:w,[b]:_}));return oe(z({},S),{data:{x:S.x-s,y:S.y-a,enabled:{[x]:l,[b]:u}}})})}}},H3=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:a,rects:i,middlewareData:l}=t,{offset:u=0,mainAxis:f=!0,crossAxis:h=!0}=Wa(e,t),p={x:n,y:s},g=ia(a),b=ry(g);let x=p[b],w=p[g];const _=Wa(u,t),S=typeof _=="number"?{mainAxis:_,crossAxis:0}:z({mainAxis:0,crossAxis:0},_);if(f){const A=b==="y"?"height":"width",C=i.reference[b]-i.floating[A]+S.mainAxis,k=i.reference[b]+i.reference[A]-S.mainAxis;x<C?x=C:x>k&&(x=k)}if(h){var N,R;const A=b==="y"?"width":"height",C=f2.has(Ya(a)),k=i.reference[g]-i.floating[A]+(C&&((N=l.offset)==null?void 0:N[g])||0)+(C?0:S.crossAxis),D=i.reference[g]+i.reference[A]+(C?0:((R=l.offset)==null?void 0:R[g])||0)-(C?S.crossAxis:0);w<k?w=k:w>D&&(w=D)}return{[b]:x,[g]:w}}}},V3=function(e){return e===void 0&&(e={}),{name:"size",options:e,fn(n){return ye(this,null,function*(){var s,a;const{placement:i,rects:l,platform:u,elements:f}=n,W=Wa(e,n),{apply:h=()=>{}}=W,p=ke(W,["apply"]),g=yield Yu(n,p),b=Ya(i),x=rc(i),w=ia(i)==="y",{width:_,height:S}=l.floating;let N,R;b==="top"||b==="bottom"?(N=b,R=x===((yield u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(R=b,N=x==="end"?"top":"bottom");const A=S-g.top-g.bottom,C=_-g.left-g.right,k=Li(S-g[N],A),D=Li(_-g[R],C),M=!n.middlewareData.shift;let E=k,P=D;if((s=n.middlewareData.shift)!=null&&s.enabled.x&&(P=C),(a=n.middlewareData.shift)!=null&&a.enabled.y&&(E=A),M&&!x){const Y=sr(g.left,0),q=sr(g.right,0),J=sr(g.top,0),G=sr(g.bottom,0);w?P=_-2*(Y!==0||q!==0?Y+q:sr(g.left,g.right)):E=S-2*(J!==0||G!==0?J+G:sr(g.top,g.bottom))}yield h(oe(z({},n),{availableWidth:P,availableHeight:E}));const K=yield u.getDimensions(f.floating);return _!==K.width||S!==K.height?{reset:{rects:!0}}:{}})}}};function dm(){return typeof window!="undefined"}function ac(e){return h2(e)?(e.nodeName||"").toLowerCase():"#document"}function or(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ga(e){var t;return(t=(h2(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function h2(e){return dm()?e instanceof Node||e instanceof or(e).Node:!1}function Hr(e){return dm()?e instanceof Element||e instanceof or(e).Element:!1}function ha(e){return dm()?e instanceof HTMLElement||e instanceof or(e).HTMLElement:!1}function Ij(e){return!dm()||typeof ShadowRoot=="undefined"?!1:e instanceof ShadowRoot||e instanceof or(e).ShadowRoot}const I3=new Set(["inline","contents"]);function od(e){const{overflow:t,overflowX:n,overflowY:s,display:a}=Vr(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!I3.has(a)}const q3=new Set(["table","td","th"]);function W3(e){return q3.has(ac(e))}const Y3=[":popover-open",":modal"];function fm(e){return Y3.some(t=>{try{return e.matches(t)}catch(n){return!1}})}const X3=["transform","translate","scale","rotate","perspective"],G3=["transform","translate","scale","rotate","perspective","filter"],K3=["paint","layout","strict","content"];function oy(e){const t=ly(),n=Hr(e)?Vr(e):e;return X3.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||G3.some(s=>(n.willChange||"").includes(s))||K3.some(s=>(n.contain||"").includes(s))}function Q3(e){let t=zi(e);for(;ha(t)&&!Zl(t);){if(oy(t))return t;if(fm(t))return null;t=zi(t)}return null}function ly(){return typeof CSS=="undefined"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Z3=new Set(["html","body","#document"]);function Zl(e){return Z3.has(ac(e))}function Vr(e){return or(e).getComputedStyle(e)}function hm(e){return Hr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function zi(e){if(ac(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ij(e)&&e.host||ga(e);return Ij(t)?t.host:t}function m2(e){const t=zi(e);return Zl(t)?e.ownerDocument?e.ownerDocument.body:e.body:ha(t)&&od(t)?t:m2(t)}function Xu(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=m2(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),l=or(a);if(i){const u=J0(l);return t.concat(l,l.visualViewport||[],od(a)?a:[],u&&n?Xu(u):[])}return t.concat(a,Xu(a,[],n))}function J0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function p2(e){const t=Vr(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=ha(e),i=a?e.offsetWidth:n,l=a?e.offsetHeight:s,u=Mh(n)!==i||Mh(s)!==l;return u&&(n=i,s=l),{width:n,height:s,$:u}}function cy(e){return Hr(e)?e:e.contextElement}function Wl(e){const t=cy(e);if(!ha(t))return ua(1);const n=t.getBoundingClientRect(),{width:s,height:a,$:i}=p2(t);let l=(i?Mh(n.width):n.width)/s,u=(i?Mh(n.height):n.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const J3=ua(0);function g2(e){const t=or(e);return!ly()||!t.visualViewport?J3:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function e4(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==or(e)?!1:t}function Lo(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=cy(e);let l=ua(1);t&&(s?Hr(s)&&(l=Wl(s)):l=Wl(e));const u=e4(i,n,s)?g2(i):ua(0);let f=(a.left+u.x)/l.x,h=(a.top+u.y)/l.y,p=a.width/l.x,g=a.height/l.y;if(i){const b=or(i),x=s&&Hr(s)?or(s):s;let w=b,_=J0(w);for(;_&&s&&x!==w;){const S=Wl(_),N=_.getBoundingClientRect(),R=Vr(_),A=N.left+(_.clientLeft+parseFloat(R.paddingLeft))*S.x,C=N.top+(_.clientTop+parseFloat(R.paddingTop))*S.y;f*=S.x,h*=S.y,p*=S.x,g*=S.y,f+=A,h+=C,w=or(_),_=J0(w)}}return Lh({width:p,height:g,x:f,y:h})}function uy(e,t){const n=hm(e).scrollLeft;return t?t.left+n:Lo(ga(e)).left+n}function x2(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=s.left+t.scrollLeft-(n?0:uy(e,s)),i=s.top+t.scrollTop;return{x:a,y:i}}function t4(e){let{elements:t,rect:n,offsetParent:s,strategy:a}=e;const i=a==="fixed",l=ga(s),u=t?fm(t.floating):!1;if(s===l||u&&i)return n;let f={scrollLeft:0,scrollTop:0},h=ua(1);const p=ua(0),g=ha(s);if((g||!g&&!i)&&((ac(s)!=="body"||od(l))&&(f=hm(s)),ha(s))){const x=Lo(s);h=Wl(s),p.x=x.x+s.clientLeft,p.y=x.y+s.clientTop}const b=l&&!g&&!i?x2(l,f,!0):ua(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-f.scrollLeft*h.x+p.x+b.x,y:n.y*h.y-f.scrollTop*h.y+p.y+b.y}}function n4(e){return Array.from(e.getClientRects())}function s4(e){const t=ga(e),n=hm(e),s=e.ownerDocument.body,a=sr(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=sr(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let l=-n.scrollLeft+uy(e);const u=-n.scrollTop;return Vr(s).direction==="rtl"&&(l+=sr(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:l,y:u}}function r4(e,t){const n=or(e),s=ga(e),a=n.visualViewport;let i=s.clientWidth,l=s.clientHeight,u=0,f=0;if(a){i=a.width,l=a.height;const h=ly();(!h||h&&t==="fixed")&&(u=a.offsetLeft,f=a.offsetTop)}return{width:i,height:l,x:u,y:f}}const a4=new Set(["absolute","fixed"]);function i4(e,t){const n=Lo(e,!0,t==="fixed"),s=n.top+e.clientTop,a=n.left+e.clientLeft,i=ha(e)?Wl(e):ua(1),l=e.clientWidth*i.x,u=e.clientHeight*i.y,f=a*i.x,h=s*i.y;return{width:l,height:u,x:f,y:h}}function qj(e,t,n){let s;if(t==="viewport")s=r4(e,n);else if(t==="document")s=s4(ga(e));else if(Hr(t))s=i4(t,n);else{const a=g2(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Lh(s)}function y2(e,t){const n=zi(e);return n===t||!Hr(n)||Zl(n)?!1:Vr(n).position==="fixed"||y2(n,t)}function o4(e,t){const n=t.get(e);if(n)return n;let s=Xu(e,[],!1).filter(u=>Hr(u)&&ac(u)!=="body"),a=null;const i=Vr(e).position==="fixed";let l=i?zi(e):e;for(;Hr(l)&&!Zl(l);){const u=Vr(l),f=oy(l);!f&&u.position==="fixed"&&(a=null),(i?!f&&!a:!f&&u.position==="static"&&!!a&&a4.has(a.position)||od(l)&&!f&&y2(e,l))?s=s.filter(p=>p!==l):a=u,l=zi(l)}return t.set(e,s),s}function l4(e){let{element:t,boundary:n,rootBoundary:s,strategy:a}=e;const l=[...n==="clippingAncestors"?fm(t)?[]:o4(t,this._c):[].concat(n),s],u=l[0],f=l.reduce((h,p)=>{const g=qj(t,p,a);return h.top=sr(g.top,h.top),h.right=Li(g.right,h.right),h.bottom=Li(g.bottom,h.bottom),h.left=sr(g.left,h.left),h},qj(t,u,a));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function c4(e){const{width:t,height:n}=p2(e);return{width:t,height:n}}function u4(e,t,n){const s=ha(t),a=ga(t),i=n==="fixed",l=Lo(e,!0,i,t);let u={scrollLeft:0,scrollTop:0};const f=ua(0);function h(){f.x=uy(a)}if(s||!s&&!i)if((ac(t)!=="body"||od(a))&&(u=hm(t)),s){const x=Lo(t,!0,i,t);f.x=x.x+t.clientLeft,f.y=x.y+t.clientTop}else a&&h();i&&!s&&a&&h();const p=a&&!s&&!i?x2(a,u):ua(0),g=l.left+u.scrollLeft-f.x-p.x,b=l.top+u.scrollTop-f.y-p.y;return{x:g,y:b,width:l.width,height:l.height}}function Qg(e){return Vr(e).position==="static"}function Wj(e,t){if(!ha(e)||Vr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ga(e)===n&&(n=n.ownerDocument.body),n}function b2(e,t){const n=or(e);if(fm(e))return n;if(!ha(e)){let a=zi(e);for(;a&&!Zl(a);){if(Hr(a)&&!Qg(a))return a;a=zi(a)}return n}let s=Wj(e,t);for(;s&&W3(s)&&Qg(s);)s=Wj(s,t);return s&&Zl(s)&&Qg(s)&&!oy(s)?n:s||Q3(e)||n}const d4=function(e){return ye(this,null,function*(){const t=this.getOffsetParent||b2,n=this.getDimensions,s=yield n(e.floating);return{reference:u4(e.reference,yield t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}})};function f4(e){return Vr(e).direction==="rtl"}const h4={convertOffsetParentRelativeRectToViewportRelativeRect:t4,getDocumentElement:ga,getClippingRect:l4,getOffsetParent:b2,getElementRects:d4,getClientRects:n4,getDimensions:c4,getScale:Wl,isElement:Hr,isRTL:f4};function v2(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function m4(e,t){let n=null,s;const a=ga(e);function i(){var u;clearTimeout(s),(u=n)==null||u.disconnect(),n=null}function l(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),i();const h=e.getBoundingClientRect(),{left:p,top:g,width:b,height:x}=h;if(u||t(),!b||!x)return;const w=Rf(g),_=Rf(a.clientWidth-(p+b)),S=Rf(a.clientHeight-(g+x)),N=Rf(p),A={rootMargin:-w+"px "+-_+"px "+-S+"px "+-N+"px",threshold:sr(0,Li(1,f))||1};let C=!0;function k(D){const M=D[0].intersectionRatio;if(M!==f){if(!C)return l();M?l(!1,M):s=setTimeout(()=>{l(!1,1e-7)},1e3)}M===1&&!v2(h,e.getBoundingClientRect())&&l(),C=!1}try{n=new IntersectionObserver(k,oe(z({},A),{root:a.ownerDocument}))}catch(D){n=new IntersectionObserver(k,A)}n.observe(e)}return l(!0),i}function p4(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=s,h=cy(e),p=a||i?[...h?Xu(h):[],...Xu(t)]:[];p.forEach(N=>{a&&N.addEventListener("scroll",n,{passive:!0}),i&&N.addEventListener("resize",n)});const g=h&&u?m4(h,n):null;let b=-1,x=null;l&&(x=new ResizeObserver(N=>{let[R]=N;R&&R.target===h&&x&&(x.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var A;(A=x)==null||A.observe(t)})),n()}),h&&!f&&x.observe(h),x.observe(t));let w,_=f?Lo(e):null;f&&S();function S(){const N=Lo(e);_&&!v2(_,N)&&n(),_=N,w=requestAnimationFrame(S)}return n(),()=>{var N;p.forEach(R=>{a&&R.removeEventListener("scroll",n),i&&R.removeEventListener("resize",n)}),g==null||g(),(N=x)==null||N.disconnect(),x=null,f&&cancelAnimationFrame(w)}}const g4=F3,x4=$3,y4=z3,b4=V3,v4=U3,Yj=L3,w4=H3,_4=(e,t,n)=>{const s=new Map,a=z({platform:h4},n),i=oe(z({},a.platform),{_c:s});return P3(e,t,oe(z({},a),{platform:i}))};var j4=typeof document!="undefined",S4=function(){},bh=j4?j.useLayoutEffect:S4;function zh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!zh(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=n;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!zh(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function w2(e){return typeof window=="undefined"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Xj(e,t){const n=w2(e);return Math.round(t*n)/n}function Zg(e){const t=j.useRef(e);return bh(()=>{t.current=e}),t}function N4(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:l}={},transform:u=!0,whileElementsMounted:f,open:h}=e,[p,g]=j.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,x]=j.useState(s);zh(b,s)||x(s);const[w,_]=j.useState(null),[S,N]=j.useState(null),R=j.useCallback(ne=>{ne!==D.current&&(D.current=ne,_(ne))},[]),A=j.useCallback(ne=>{ne!==M.current&&(M.current=ne,N(ne))},[]),C=i||w,k=l||S,D=j.useRef(null),M=j.useRef(null),E=j.useRef(p),P=f!=null,K=Zg(f),W=Zg(a),Y=Zg(h),q=j.useCallback(()=>{if(!D.current||!M.current)return;const ne={placement:t,strategy:n,middleware:b};W.current&&(ne.platform=W.current),_4(D.current,M.current,ne).then(le=>{const B=oe(z({},le),{isPositioned:Y.current!==!1});J.current&&!zh(E.current,B)&&(E.current=B,om.flushSync(()=>{g(B)}))})},[b,t,n,W,Y]);bh(()=>{h===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,g(ne=>oe(z({},ne),{isPositioned:!1})))},[h]);const J=j.useRef(!1);bh(()=>(J.current=!0,()=>{J.current=!1}),[]),bh(()=>{if(C&&(D.current=C),k&&(M.current=k),C&&k){if(K.current)return K.current(C,k,q);q()}},[C,k,q,K,P]);const G=j.useMemo(()=>({reference:D,floating:M,setReference:R,setFloating:A}),[R,A]),H=j.useMemo(()=>({reference:C,floating:k}),[C,k]),te=j.useMemo(()=>{const ne={position:n,left:0,top:0};if(!H.floating)return ne;const le=Xj(H.floating,p.x),B=Xj(H.floating,p.y);return u?z(oe(z({},ne),{transform:"translate("+le+"px, "+B+"px)"}),w2(H.floating)>=1.5&&{willChange:"transform"}):{position:n,left:le,top:B}},[n,u,H.floating,p.x,p.y]);return j.useMemo(()=>oe(z({},p),{update:q,refs:G,elements:H,floatingStyles:te}),[p,q,G,H,te])}const E4=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:a}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?Yj({element:s.current,padding:a}).fn(n):{}:s?Yj({element:s,padding:a}).fn(n):{}}}},T4=(e,t)=>oe(z({},g4(e)),{options:[e,t]}),C4=(e,t)=>oe(z({},x4(e)),{options:[e,t]}),k4=(e,t)=>oe(z({},w4(e)),{options:[e,t]}),O4=(e,t)=>oe(z({},y4(e)),{options:[e,t]}),A4=(e,t)=>oe(z({},b4(e)),{options:[e,t]}),D4=(e,t)=>oe(z({},v4(e)),{options:[e,t]}),R4=(e,t)=>oe(z({},E4(e)),{options:[e,t]});var M4="Arrow",_2=j.forwardRef((e,t)=>{const l=e,{children:n,width:s=10,height:a=5}=l,i=ke(l,["children","width","height"]);return c.jsx(Wt.svg,oe(z({},i),{ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})}))});_2.displayName=M4;var P4=_2;function L4(e){const[t,n]=j.useState(void 0);return Nr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let l,u;if("borderBoxSize"in i){const f=i.borderBoxSize,h=Array.isArray(f)?f[0]:f;l=h.inlineSize,u=h.blockSize}else l=e.offsetWidth,u=e.offsetHeight;n({width:l,height:u})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var dy="Popper",[j2,S2]=ad(dy),[z4,N2]=j2(dy),E2=e=>{const{__scopePopper:t,children:n}=e,[s,a]=j.useState(null);return c.jsx(z4,{scope:t,anchor:s,onAnchorChange:a,children:n})};E2.displayName=dy;var T2="PopperAnchor",C2=j.forwardRef((e,t)=>{const h=e,{__scopePopper:n,virtualRef:s}=h,a=ke(h,["__scopePopper","virtualRef"]),i=N2(T2,n),l=j.useRef(null),u=An(t,l),f=j.useRef(null);return j.useEffect(()=>{const p=f.current;f.current=(s==null?void 0:s.current)||l.current,p!==f.current&&i.onAnchorChange(f.current)}),s?null:c.jsx(Wt.div,oe(z({},a),{ref:u}))});C2.displayName=T2;var fy="PopperContent",[U4,B4]=j2(fy),k2=j.forwardRef((e,t)=>{var De,Ve,Le,lt,Ke,pt,Pe,ht;const Ee=e,{__scopePopper:n,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:b=!1,updatePositionStrategy:x="optimized",onPlaced:w}=Ee,_=ke(Ee,["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"]),S=N2(fy,n),[N,R]=j.useState(null),A=An(t,$t=>R($t)),[C,k]=j.useState(null),D=L4(C),M=(De=D==null?void 0:D.width)!=null?De:0,E=(Ve=D==null?void 0:D.height)!=null?Ve:0,P=s+(i!=="center"?"-"+i:""),K=typeof p=="number"?p:z({top:0,right:0,bottom:0,left:0},p),W=Array.isArray(h)?h:[h],Y=W.length>0,q={padding:K,boundary:W.filter($4),altBoundary:Y},{refs:J,floatingStyles:G,placement:H,isPositioned:te,middlewareData:ne}=N4({strategy:"fixed",placement:P,whileElementsMounted:(...$t)=>p4(...$t,{animationFrame:x==="always"}),elements:{reference:S.anchor},middleware:[T4({mainAxis:a+E,alignmentAxis:l}),f&&C4(z({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?k4():void 0},q)),f&&O4(z({},q)),A4(oe(z({},q),{apply:({elements:$t,rects:vt,availableWidth:Mt,availableHeight:St})=>{const{width:X,height:de}=vt.reference,I=$t.floating.style;I.setProperty("--radix-popper-available-width",`${Mt}px`),I.setProperty("--radix-popper-available-height",`${St}px`),I.setProperty("--radix-popper-anchor-width",`${X}px`),I.setProperty("--radix-popper-anchor-height",`${de}px`)}})),C&&R4({element:C,padding:u}),H4({arrowWidth:M,arrowHeight:E}),b&&D4(z({strategy:"referenceHidden"},q))]}),[le,B]=D2(H),Q=fa(w);Nr(()=>{te&&(Q==null||Q())},[te,Q]);const he=(Le=ne.arrow)==null?void 0:Le.x,$=(lt=ne.arrow)==null?void 0:lt.y,re=((Ke=ne.arrow)==null?void 0:Ke.centerOffset)!==0,[_e,xe]=j.useState();return Nr(()=>{N&&xe(window.getComputedStyle(N).zIndex)},[N]),c.jsx("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:z(oe(z({},G),{transform:te?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:_e,"--radix-popper-transform-origin":[(pt=ne.transformOrigin)==null?void 0:pt.x,(Pe=ne.transformOrigin)==null?void 0:Pe.y].join(" ")}),((ht=ne.hide)==null?void 0:ht.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:c.jsx(U4,{scope:n,placedSide:le,onArrowChange:k,arrowX:he,arrowY:$,shouldHideArrow:re,children:c.jsx(Wt.div,oe(z({"data-side":le,"data-align":B},_),{ref:A,style:oe(z({},_.style),{animation:te?void 0:"none"})}))})})});k2.displayName=fy;var O2="PopperArrow",F4={top:"bottom",right:"left",bottom:"top",left:"right"},A2=j.forwardRef(function(t,n){const u=t,{__scopePopper:s}=u,a=ke(u,["__scopePopper"]),i=B4(O2,s),l=F4[i.placedSide];return c.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c.jsx(P4,oe(z({},a),{ref:n,style:oe(z({},a.style),{display:"block"})}))})});A2.displayName=O2;function $4(e){return e!==null}var H4=e=>({name:"transformOrigin",options:e,fn(t){var S,N,R,A,C;const{placement:n,rects:s,middlewareData:a}=t,l=((S=a.arrow)==null?void 0:S.centerOffset)!==0,u=l?0:e.arrowWidth,f=l?0:e.arrowHeight,[h,p]=D2(n),g={start:"0%",center:"50%",end:"100%"}[p],b=((R=(N=a.arrow)==null?void 0:N.x)!=null?R:0)+u/2,x=((C=(A=a.arrow)==null?void 0:A.y)!=null?C:0)+f/2;let w="",_="";return h==="bottom"?(w=l?g:`${b}px`,_=`${-f}px`):h==="top"?(w=l?g:`${b}px`,_=`${s.floating.height+f}px`):h==="right"?(w=`${-f}px`,_=l?g:`${x}px`):h==="left"&&(w=`${s.floating.width+f}px`,_=l?g:`${x}px`),{data:{x:w,y:_}}}});function D2(e){const[t,n="center"]=e.split("-");return[t,n]}var V4=E2,R2=C2,I4=k2,q4=A2,W4="Portal",ld=j.forwardRef((e,t)=>{var f;const u=e,{container:n}=u,s=ke(u,["container"]),[a,i]=j.useState(!1);Nr(()=>i(!0),[]);const l=n||a&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return l?t2.createPortal(c.jsx(Wt.div,oe(z({},s),{ref:t})),l):null});ld.displayName=W4;function Y4(e,t){return j.useReducer((n,s)=>{const a=t[n][s];return a!=null?a:n},e)}var ic=e=>{const{present:t,children:n}=e,s=X4(t),a=typeof n=="function"?n({present:s.isPresent}):j.Children.only(n),i=An(s.ref,G4(a));return typeof n=="function"||s.isPresent?j.cloneElement(a,{ref:i}):null};ic.displayName="Presence";function X4(e){const[t,n]=j.useState(),s=j.useRef(null),a=j.useRef(e),i=j.useRef("none"),l=e?"mounted":"unmounted",[u,f]=Y4(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const h=Mf(s.current);i.current=u==="mounted"?h:"none"},[u]),Nr(()=>{const h=s.current,p=a.current;if(p!==e){const b=i.current,x=Mf(h);e?f("MOUNT"):x==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(p&&b!==x?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,f]),Nr(()=>{var h;if(t){let p;const g=(h=t.ownerDocument.defaultView)!=null?h:window,b=w=>{const S=Mf(s.current).includes(CSS.escape(w.animationName));if(w.target===t&&S&&(f("ANIMATION_END"),!a.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},x=w=>{w.target===t&&(i.current=Mf(s.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:j.useCallback(h=>{s.current=h?getComputedStyle(h):null,n(h)},[])}}function Mf(e){return(e==null?void 0:e.animationName)||"none"}function G4(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var K4=KS[" useInsertionEffect ".trim().toString()]||Nr;function mm({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[a,i,l]=Q4({defaultProp:t,onChange:n}),u=e!==void 0,f=u?e:a;{const p=j.useRef(e!==void 0);j.useEffect(()=>{const g=p.current;g!==u&&console.warn(`${s} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,s])}const h=j.useCallback(p=>{var g;if(u){const b=Z4(p)?p(e):p;b!==e&&((g=l.current)==null||g.call(l,b))}else i(p)},[u,e,i,l]);return[f,h]}function Q4({defaultProp:e,onChange:t}){const[n,s]=j.useState(e),a=j.useRef(n),i=j.useRef(t);return K4(()=>{i.current=t},[t]),j.useEffect(()=>{var l;a.current!==n&&((l=i.current)==null||l.call(i,n),a.current=n)},[n,a]),[n,s,i]}function Z4(e){return typeof e=="function"}var J4=function(e){if(typeof document=="undefined")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Al=new WeakMap,Pf=new WeakMap,Lf={},Jg=0,M2=function(e){return e&&(e.host||M2(e.parentNode))},eL=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=M2(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},tL=function(e,t,n,s){var a=eL(t,Array.isArray(e)?e:[e]);Lf[n]||(Lf[n]=new WeakMap);var i=Lf[n],l=[],u=new Set,f=new Set(a),h=function(g){!g||u.has(g)||(u.add(g),h(g.parentNode))};a.forEach(h);var p=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(b){if(u.has(b))p(b);else try{var x=b.getAttribute(s),w=x!==null&&x!=="false",_=(Al.get(b)||0)+1,S=(i.get(b)||0)+1;Al.set(b,_),i.set(b,S),l.push(b),_===1&&w&&Pf.set(b,!0),S===1&&b.setAttribute(n,"true"),w||b.setAttribute(s,"true")}catch(N){console.error("aria-hidden: cannot operate on ",b,N)}})};return p(t),u.clear(),Jg++,function(){l.forEach(function(g){var b=Al.get(g)-1,x=i.get(g)-1;Al.set(g,b),i.set(g,x),b||(Pf.has(g)||g.removeAttribute(s),Pf.delete(g)),x||g.removeAttribute(n)}),Jg--,Jg||(Al=new WeakMap,Al=new WeakMap,Pf=new WeakMap,Lf={})}},pm=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=J4(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),tL(s,a,n,"aria-hidden")):function(){return null}},aa=function(){return aa=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},aa.apply(this,arguments)};function P2(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function nL(e,t,n){if(n||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var vh="right-scroll-bar-position",wh="width-before-scroll-bar",sL="with-scroll-bars-hidden",rL="--removed-body-scroll-bar-size";function e0(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function aL(e,t){var n=j.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=t,n.facade}var iL=typeof window!="undefined"?j.useLayoutEffect:j.useEffect,Gj=new WeakMap;function oL(e,t){var n=aL(null,function(s){return e.forEach(function(a){return e0(a,s)})});return iL(function(){var s=Gj.get(n);if(s){var a=new Set(s),i=new Set(e),l=n.current;a.forEach(function(u){i.has(u)||e0(u,null)}),i.forEach(function(u){a.has(u)||e0(u,l)})}Gj.set(n,e)},[e]),n}function lL(e){return e}function cL(e,t){t===void 0&&(t=lL);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var l=t(i,s);return n.push(l),function(){n=n.filter(function(u){return u!==l})}},assignSyncMedium:function(i){for(s=!0;n.length;){var l=n;n=[],l.forEach(i)}n={push:function(u){return i(u)},filter:function(){return n}}},assignMedium:function(i){s=!0;var l=[];if(n.length){var u=n;n=[],u.forEach(i),l=n}var f=function(){var p=l;l=[],p.forEach(i)},h=function(){return Promise.resolve().then(f)};h(),n={push:function(p){l.push(p),h()},filter:function(p){return l=l.filter(p),n}}}};return a}function uL(e){e===void 0&&(e={});var t=cL(null);return t.options=aa({async:!0,ssr:!1},e),t}var L2=function(e){var t=e.sideCar,n=P2(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return j.createElement(s,aa({},n))};L2.isSideCarExport=!0;function dL(e,t){return e.useMedium(t),L2}var z2=uL(),t0=function(){},gm=j.forwardRef(function(e,t){var n=j.useRef(null),s=j.useState({onScrollCapture:t0,onWheelCapture:t0,onTouchMoveCapture:t0}),a=s[0],i=s[1],l=e.forwardProps,u=e.children,f=e.className,h=e.removeScrollBar,p=e.enabled,g=e.shards,b=e.sideCar,x=e.noRelative,w=e.noIsolation,_=e.inert,S=e.allowPinchZoom,N=e.as,R=N===void 0?"div":N,A=e.gapMode,C=P2(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=b,D=oL([n,t]),M=aa(aa({},C),a);return j.createElement(j.Fragment,null,p&&j.createElement(k,{sideCar:z2,removeScrollBar:h,shards:g,noRelative:x,noIsolation:w,inert:_,setCallbacks:i,allowPinchZoom:!!S,lockRef:n,gapMode:A}),l?j.cloneElement(j.Children.only(u),aa(aa({},M),{ref:D})):j.createElement(R,aa({},M,{className:f,ref:D}),u))});gm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gm.classNames={fullWidth:wh,zeroRight:vh};var fL=function(){if(typeof __webpack_nonce__!="undefined")return __webpack_nonce__};function hL(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=fL();return t&&e.setAttribute("nonce",t),e}function mL(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function pL(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var gL=function(){var e=0,t=null;return{add:function(n){e==0&&(t=hL())&&(mL(t,n),pL(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},xL=function(){var e=gL();return function(t,n){j.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},U2=function(){var e=xL(),t=function(n){var s=n.styles,a=n.dynamic;return e(s,a),null};return t},yL={left:0,top:0,right:0,gap:0},n0=function(e){return parseInt(e||"",10)||0},bL=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[n0(n),n0(s),n0(a)]},vL=function(e){if(e===void 0&&(e="margin"),typeof window=="undefined")return yL;var t=bL(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},wL=U2(),Yl="data-scroll-locked",_L=function(e,t,n,s){var a=e.left,i=e.top,l=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(sL,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(u,"px ").concat(s,`;
  }
  body[`).concat(Yl,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(vh,` {
    right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(wh,` {
    margin-right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(vh," .").concat(vh,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(wh," .").concat(wh,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Yl,`] {
    `).concat(rL,": ").concat(u,`px;
  }
`)},Kj=function(){var e=parseInt(document.body.getAttribute(Yl)||"0",10);return isFinite(e)?e:0},jL=function(){j.useEffect(function(){return document.body.setAttribute(Yl,(Kj()+1).toString()),function(){var e=Kj()-1;e<=0?document.body.removeAttribute(Yl):document.body.setAttribute(Yl,e.toString())}},[])},SL=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;jL();var i=j.useMemo(function(){return vL(a)},[a]);return j.createElement(wL,{styles:_L(i,!t,a,n?"":"!important")})},ex=!1;if(typeof window!="undefined")try{var zf=Object.defineProperty({},"passive",{get:function(){return ex=!0,!0}});window.addEventListener("test",zf,zf),window.removeEventListener("test",zf,zf)}catch(e){ex=!1}var Dl=ex?{passive:!1}:!1,NL=function(e){return e.tagName==="TEXTAREA"},B2=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!NL(e)&&n[t]==="visible")},EL=function(e){return B2(e,"overflowY")},TL=function(e){return B2(e,"overflowX")},Qj=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot!="undefined"&&s instanceof ShadowRoot&&(s=s.host);var a=F2(e,s);if(a){var i=$2(e,s),l=i[1],u=i[2];if(l>u)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},CL=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},kL=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},F2=function(e,t){return e==="v"?EL(t):TL(t)},$2=function(e,t){return e==="v"?CL(t):kL(t)},OL=function(e,t){return e==="h"&&t==="rtl"?-1:1},AL=function(e,t,n,s,a){var i=OL(e,window.getComputedStyle(t).direction),l=i*s,u=n.target,f=t.contains(u),h=!1,p=l>0,g=0,b=0;do{if(!u)break;var x=$2(e,u),w=x[0],_=x[1],S=x[2],N=_-S-i*w;(w||N)&&F2(e,u)&&(g+=N,b+=w);var R=u.parentNode;u=R&&R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?R.host:R}while(!f&&u!==document.body||f&&(t.contains(u)||t===u));return(p&&Math.abs(g)<1||!p&&Math.abs(b)<1)&&(h=!0),h},Uf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Zj=function(e){return[e.deltaX,e.deltaY]},Jj=function(e){return e&&"current"in e?e.current:e},DL=function(e,t){return e[0]===t[0]&&e[1]===t[1]},RL=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ML=0,Rl=[];function PL(e){var t=j.useRef([]),n=j.useRef([0,0]),s=j.useRef(),a=j.useState(ML++)[0],i=j.useState(U2)[0],l=j.useRef(e);j.useEffect(function(){l.current=e},[e]),j.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var _=nL([e.lockRef.current],(e.shards||[]).map(Jj),!0).filter(Boolean);return _.forEach(function(S){return S.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),_.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var u=j.useCallback(function(_,S){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!l.current.allowPinchZoom;var N=Uf(_),R=n.current,A="deltaX"in _?_.deltaX:R[0]-N[0],C="deltaY"in _?_.deltaY:R[1]-N[1],k,D=_.target,M=Math.abs(A)>Math.abs(C)?"h":"v";if("touches"in _&&M==="h"&&D.type==="range")return!1;var E=Qj(M,D);if(!E)return!0;if(E?k=M:(k=M==="v"?"h":"v",E=Qj(M,D)),!E)return!1;if(!s.current&&"changedTouches"in _&&(A||C)&&(s.current=k),!k)return!0;var P=s.current||k;return AL(P,S,_,P==="h"?A:C)},[]),f=j.useCallback(function(_){var S=_;if(!(!Rl.length||Rl[Rl.length-1]!==i)){var N="deltaY"in S?Zj(S):Uf(S),R=t.current.filter(function(k){return k.name===S.type&&(k.target===S.target||S.target===k.shadowParent)&&DL(k.delta,N)})[0];if(R&&R.should){S.cancelable&&S.preventDefault();return}if(!R){var A=(l.current.shards||[]).map(Jj).filter(Boolean).filter(function(k){return k.contains(S.target)}),C=A.length>0?u(S,A[0]):!l.current.noIsolation;C&&S.cancelable&&S.preventDefault()}}},[]),h=j.useCallback(function(_,S,N,R){var A={name:_,delta:S,target:N,should:R,shadowParent:LL(N)};t.current.push(A),setTimeout(function(){t.current=t.current.filter(function(C){return C!==A})},1)},[]),p=j.useCallback(function(_){n.current=Uf(_),s.current=void 0},[]),g=j.useCallback(function(_){h(_.type,Zj(_),_.target,u(_,e.lockRef.current))},[]),b=j.useCallback(function(_){h(_.type,Uf(_),_.target,u(_,e.lockRef.current))},[]);j.useEffect(function(){return Rl.push(i),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:b}),document.addEventListener("wheel",f,Dl),document.addEventListener("touchmove",f,Dl),document.addEventListener("touchstart",p,Dl),function(){Rl=Rl.filter(function(_){return _!==i}),document.removeEventListener("wheel",f,Dl),document.removeEventListener("touchmove",f,Dl),document.removeEventListener("touchstart",p,Dl)}},[]);var x=e.removeScrollBar,w=e.inert;return j.createElement(j.Fragment,null,w?j.createElement(i,{styles:RL(a)}):null,x?j.createElement(SL,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function LL(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const zL=dL(z2,PL);var cd=j.forwardRef(function(e,t){return j.createElement(gm,aa({},e,{ref:t,sideCar:zL}))});cd.classNames=gm.classNames;var xm="Popover",[H2,B7]=ad(xm,[S2]),ud=S2(),[UL,Vi]=H2(xm),V2=e=>{const{__scopePopover:t,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:l=!1}=e,u=ud(t),f=j.useRef(null),[h,p]=j.useState(!1),[g,b]=mm({prop:s,defaultProp:a!=null?a:!1,onChange:i,caller:xm});return c.jsx(V4,oe(z({},u),{children:c.jsx(UL,{scope:t,contentId:Os(),triggerRef:f,open:g,onOpenChange:b,onOpenToggle:j.useCallback(()=>b(x=>!x),[b]),hasCustomAnchor:h,onCustomAnchorAdd:j.useCallback(()=>p(!0),[]),onCustomAnchorRemove:j.useCallback(()=>p(!1),[]),modal:l,children:n})}))};V2.displayName=xm;var I2="PopoverAnchor",BL=j.forwardRef((e,t)=>{const f=e,{__scopePopover:n}=f,s=ke(f,["__scopePopover"]),a=Vi(I2,n),i=ud(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:u}=a;return j.useEffect(()=>(l(),()=>u()),[l,u]),c.jsx(R2,oe(z(z({},i),s),{ref:t}))});BL.displayName=I2;var q2="PopoverTrigger",W2=j.forwardRef((e,t)=>{const f=e,{__scopePopover:n}=f,s=ke(f,["__scopePopover"]),a=Vi(q2,n),i=ud(n),l=An(t,a.triggerRef),u=c.jsx(Wt.button,oe(z({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Q2(a.open)},s),{ref:l,onClick:ir(e.onClick,a.onOpenToggle)}));return a.hasCustomAnchor?u:c.jsx(R2,oe(z({asChild:!0},i),{children:u}))});W2.displayName=q2;var hy="PopoverPortal",[FL,$L]=H2(hy,{forceMount:void 0}),Y2=e=>{const{__scopePopover:t,forceMount:n,children:s,container:a}=e,i=Vi(hy,t);return c.jsx(FL,{scope:t,forceMount:n,children:c.jsx(ic,{present:n||i.open,children:c.jsx(ld,{asChild:!0,container:a,children:s})})})};Y2.displayName=hy;var Jl="PopoverContent",X2=j.forwardRef((e,t)=>{const n=$L(Jl,e.__scopePopover),l=e,{forceMount:s=n.forceMount}=l,a=ke(l,["forceMount"]),i=Vi(Jl,e.__scopePopover);return c.jsx(ic,{present:s||i.open,children:i.modal?c.jsx(VL,oe(z({},a),{ref:t})):c.jsx(IL,oe(z({},a),{ref:t}))})});X2.displayName=Jl;var HL=sc("PopoverContent.RemoveScroll"),VL=j.forwardRef((e,t)=>{const n=Vi(Jl,e.__scopePopover),s=j.useRef(null),a=An(t,s),i=j.useRef(!1);return j.useEffect(()=>{const l=s.current;if(l)return pm(l)},[]),c.jsx(cd,{as:HL,allowPinchZoom:!0,children:c.jsx(G2,oe(z({},e),{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ir(e.onCloseAutoFocus,l=>{var u;l.preventDefault(),i.current||(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:ir(e.onPointerDownOutside,l=>{const u=l.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0,h=u.button===2||f;i.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:ir(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})}))})}),IL=j.forwardRef((e,t)=>{const n=Vi(Jl,e.__scopePopover),s=j.useRef(!1),a=j.useRef(!1);return c.jsx(G2,oe(z({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,u;(l=e.onCloseAutoFocus)==null||l.call(e,i),i.defaultPrevented||(s.current||(u=n.triggerRef.current)==null||u.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=i.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}}))}),G2=j.forwardRef((e,t)=>{const w=e,{__scopePopover:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:p}=w,g=ke(w,["__scopePopover","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside"]),b=Vi(Jl,n),x=ud(n);return c2(),c.jsx(id,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:c.jsx(sy,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:p,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onDismiss:()=>b.onOpenChange(!1),children:c.jsx(I4,oe(z(z({"data-state":Q2(b.open),role:"dialog",id:b.contentId},x),g),{ref:t,style:oe(z({},g.style),{"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"})}))})})}),K2="PopoverClose",qL=j.forwardRef((e,t)=>{const i=e,{__scopePopover:n}=i,s=ke(i,["__scopePopover"]),a=Vi(K2,n);return c.jsx(Wt.button,oe(z({type:"button"},s),{ref:t,onClick:ir(e.onClick,()=>a.onOpenChange(!1))}))});qL.displayName=K2;var WL="PopoverArrow",YL=j.forwardRef((e,t)=>{const i=e,{__scopePopover:n}=i,s=ke(i,["__scopePopover"]),a=ud(n);return c.jsx(q4,oe(z(z({},a),s),{ref:t}))});YL.displayName=WL;function Q2(e){return e?"open":"closed"}var XL=V2,GL=W2,KL=Y2,QL=X2;function Z2(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=Z2(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function J2(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=Z2(e))&&(s&&(s+=" "),s+=t);return s}const my="-",ZL=e=>{const t=e5(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:l=>{const u=l.split(my);return u[0]===""&&u.length!==1&&u.shift(),eE(u,t)||JL(l)},getConflictingClassGroupIds:(l,u)=>{const f=n[l]||[];return u&&s[l]?[...f,...s[l]]:f}}},eE=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),a=s?eE(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(my);return(l=t.validators.find(({validator:u})=>u(i)))==null?void 0:l.classGroupId},e1=/^\[(.+)\]$/,JL=e=>{if(e1.test(e)){const t=e1.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},e5=e=>{const{theme:t,classGroups:n}=e,s={nextPart:new Map,validators:[]};for(const a in n)tx(n[a],s,a,t);return s},tx=(e,t,n,s)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:t1(t,a);i.classGroupId=n;return}if(typeof a=="function"){if(t5(a)){tx(a(s),t,n,s);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,l])=>{tx(l,t1(t,i),n,s)})})},t1=(e,t)=>{let n=e;return t.split(my).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},t5=e=>e.isThemeGetter,n5=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const a=(i,l)=>{n.set(i,l),t++,t>e&&(t=0,s=n,n=new Map)};return{get(i){let l=n.get(i);if(l!==void 0)return l;if((l=s.get(i))!==void 0)return a(i,l),l},set(i,l){n.has(i)?n.set(i,l):a(i,l)}}},nx="!",sx=":",s5=sx.length,r5=e=>{const{prefix:t,experimentalParseClassName:n}=e;let s=a=>{const i=[];let l=0,u=0,f=0,h;for(let w=0;w<a.length;w++){let _=a[w];if(l===0&&u===0){if(_===sx){i.push(a.slice(f,w)),f=w+s5;continue}if(_==="/"){h=w;continue}}_==="["?l++:_==="]"?l--:_==="("?u++:_===")"&&u--}const p=i.length===0?a:a.substring(f),g=a5(p),b=g!==p,x=h&&h>f?h-f:void 0;return{modifiers:i,hasImportantModifier:b,baseClassName:g,maybePostfixModifierPosition:x}};if(t){const a=t+sx,i=s;s=l=>l.startsWith(a)?i(l.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const a=s;s=i=>n({className:i,parseClassName:a})}return s},a5=e=>e.endsWith(nx)?e.substring(0,e.length-1):e.startsWith(nx)?e.substring(1):e,i5=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const a=[];let i=[];return s.forEach(l=>{l[0]==="["||t[l]?(a.push(...i.sort(),l),i=[]):i.push(l)}),a.push(...i.sort()),a}},o5=e=>z({cache:n5(e.cacheSize),parseClassName:r5(e),sortModifiers:i5(e)},ZL(e)),l5=/\s+/,c5=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:i}=t,l=[],u=e.trim().split(l5);let f="";for(let h=u.length-1;h>=0;h-=1){const p=u[h],{isExternal:g,modifiers:b,hasImportantModifier:x,baseClassName:w,maybePostfixModifierPosition:_}=n(p);if(g){f=p+(f.length>0?" "+f:f);continue}let S=!!_,N=s(S?w.substring(0,_):w);if(!N){if(!S){f=p+(f.length>0?" "+f:f);continue}if(N=s(w),!N){f=p+(f.length>0?" "+f:f);continue}S=!1}const R=i(b).join(":"),A=x?R+nx:R,C=A+N;if(l.includes(C))continue;l.push(C);const k=a(N,S);for(let D=0;D<k.length;++D){const M=k[D];l.push(A+M)}f=p+(f.length>0?" "+f:f)}return f};function u5(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=tE(t))&&(s&&(s+=" "),s+=n);return s}const tE=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=tE(e[s]))&&(n&&(n+=" "),n+=t);return n};function d5(e,...t){let n,s,a,i=l;function l(f){const h=t.reduce((p,g)=>g(p),e());return n=o5(h),s=n.cache.get,a=n.cache.set,i=u,u(f)}function u(f){const h=s(f);if(h)return h;const p=c5(f,n);return a(f,p),p}return function(){return i(u5.apply(null,arguments))}}const ts=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},nE=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,sE=/^\((?:(\w[\w-]*):)?(.+)\)$/i,f5=/^\d+\/\d+$/,h5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,m5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,p5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,g5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,x5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ml=e=>f5.test(e),Ut=e=>!!e&&!Number.isNaN(Number(e)),_i=e=>!!e&&Number.isInteger(Number(e)),s0=e=>e.endsWith("%")&&Ut(e.slice(0,-1)),Pa=e=>h5.test(e),y5=()=>!0,b5=e=>m5.test(e)&&!p5.test(e),rE=()=>!1,v5=e=>g5.test(e),w5=e=>x5.test(e),_5=e=>!et(e)&&!tt(e),j5=e=>oc(e,oE,rE),et=e=>nE.test(e),xo=e=>oc(e,lE,b5),r0=e=>oc(e,C5,Ut),n1=e=>oc(e,aE,rE),S5=e=>oc(e,iE,w5),Bf=e=>oc(e,cE,v5),tt=e=>sE.test(e),gu=e=>lc(e,lE),N5=e=>lc(e,k5),s1=e=>lc(e,aE),E5=e=>lc(e,oE),T5=e=>lc(e,iE),Ff=e=>lc(e,cE,!0),oc=(e,t,n)=>{const s=nE.exec(e);return s?s[1]?t(s[1]):n(s[2]):!1},lc=(e,t,n=!1)=>{const s=sE.exec(e);return s?s[1]?t(s[1]):n:!1},aE=e=>e==="position"||e==="percentage",iE=e=>e==="image"||e==="url",oE=e=>e==="length"||e==="size"||e==="bg-size",lE=e=>e==="length",C5=e=>e==="number",k5=e=>e==="family-name",cE=e=>e==="shadow",O5=()=>{const e=ts("color"),t=ts("font"),n=ts("text"),s=ts("font-weight"),a=ts("tracking"),i=ts("leading"),l=ts("breakpoint"),u=ts("container"),f=ts("spacing"),h=ts("radius"),p=ts("shadow"),g=ts("inset-shadow"),b=ts("text-shadow"),x=ts("drop-shadow"),w=ts("blur"),_=ts("perspective"),S=ts("aspect"),N=ts("ease"),R=ts("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...C(),tt,et],D=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],E=()=>[tt,et,f],P=()=>[Ml,"full","auto",...E()],K=()=>[_i,"none","subgrid",tt,et],W=()=>["auto",{span:["full",_i,tt,et]},_i,tt,et],Y=()=>[_i,"auto",tt,et],q=()=>["auto","min","max","fr",tt,et],J=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],G=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...E()],te=()=>[Ml,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],ne=()=>[e,tt,et],le=()=>[...C(),s1,n1,{position:[tt,et]}],B=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Q=()=>["auto","cover","contain",E5,j5,{size:[tt,et]}],he=()=>[s0,gu,xo],$=()=>["","none","full",h,tt,et],re=()=>["",Ut,gu,xo],_e=()=>["solid","dashed","dotted","double"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ee=()=>[Ut,s0,s1,n1],De=()=>["","none",w,tt,et],Ve=()=>["none",Ut,tt,et],Le=()=>["none",Ut,tt,et],lt=()=>[Ut,tt,et],Ke=()=>[Ml,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Pa],breakpoint:[Pa],color:[y5],container:[Pa],"drop-shadow":[Pa],ease:["in","out","in-out"],font:[_5],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Pa],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Pa],shadow:[Pa],spacing:["px",Ut],text:[Pa],"text-shadow":[Pa],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ml,et,tt,S]}],container:["container"],columns:[{columns:[Ut,et,tt,u]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[_i,"auto",tt,et]}],basis:[{basis:[Ml,"full","auto",u,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ut,Ml,"auto","initial","none",et]}],grow:[{grow:["",Ut,tt,et]}],shrink:[{shrink:["",Ut,tt,et]}],order:[{order:[_i,"first","last","none",tt,et]}],"grid-cols":[{"grid-cols":K()}],"col-start-end":[{col:W()}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":K()}],"row-start-end":[{row:W()}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":q()}],"auto-rows":[{"auto-rows":q()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...J(),"normal"]}],"justify-items":[{"justify-items":[...G(),"normal"]}],"justify-self":[{"justify-self":["auto",...G()]}],"align-content":[{content:["normal",...J()]}],"align-items":[{items:[...G(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...G(),{baseline:["","last"]}]}],"place-content":[{"place-content":J()}],"place-items":[{"place-items":[...G(),"baseline"]}],"place-self":[{"place-self":["auto",...G()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:te()}],w:[{w:[u,"screen",...te()]}],"min-w":[{"min-w":[u,"screen","none",...te()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...te()]}],h:[{h:["screen","lh",...te()]}],"min-h":[{"min-h":["screen","lh","none",...te()]}],"max-h":[{"max-h":["screen","lh",...te()]}],"font-size":[{text:["base",n,gu,xo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,tt,r0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",s0,et]}],"font-family":[{font:[N5,et,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,tt,et]}],"line-clamp":[{"line-clamp":[Ut,"none",tt,r0]}],leading:[{leading:[i,...E()]}],"list-image":[{"list-image":["none",tt,et]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",tt,et]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ne()}],"text-color":[{text:ne()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._e(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ut,"from-font","auto",tt,xo]}],"text-decoration-color":[{decoration:ne()}],"underline-offset":[{"underline-offset":[Ut,"auto",tt,et]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",tt,et]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",tt,et]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:le()}],"bg-repeat":[{bg:B()}],"bg-size":[{bg:Q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},_i,tt,et],radial:["",tt,et],conic:[_i,tt,et]},T5,S5]}],"bg-color":[{bg:ne()}],"gradient-from-pos":[{from:he()}],"gradient-via-pos":[{via:he()}],"gradient-to-pos":[{to:he()}],"gradient-from":[{from:ne()}],"gradient-via":[{via:ne()}],"gradient-to":[{to:ne()}],rounded:[{rounded:$()}],"rounded-s":[{"rounded-s":$()}],"rounded-e":[{"rounded-e":$()}],"rounded-t":[{"rounded-t":$()}],"rounded-r":[{"rounded-r":$()}],"rounded-b":[{"rounded-b":$()}],"rounded-l":[{"rounded-l":$()}],"rounded-ss":[{"rounded-ss":$()}],"rounded-se":[{"rounded-se":$()}],"rounded-ee":[{"rounded-ee":$()}],"rounded-es":[{"rounded-es":$()}],"rounded-tl":[{"rounded-tl":$()}],"rounded-tr":[{"rounded-tr":$()}],"rounded-br":[{"rounded-br":$()}],"rounded-bl":[{"rounded-bl":$()}],"border-w":[{border:re()}],"border-w-x":[{"border-x":re()}],"border-w-y":[{"border-y":re()}],"border-w-s":[{"border-s":re()}],"border-w-e":[{"border-e":re()}],"border-w-t":[{"border-t":re()}],"border-w-r":[{"border-r":re()}],"border-w-b":[{"border-b":re()}],"border-w-l":[{"border-l":re()}],"divide-x":[{"divide-x":re()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":re()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[..._e(),"hidden","none"]}],"divide-style":[{divide:[..._e(),"hidden","none"]}],"border-color":[{border:ne()}],"border-color-x":[{"border-x":ne()}],"border-color-y":[{"border-y":ne()}],"border-color-s":[{"border-s":ne()}],"border-color-e":[{"border-e":ne()}],"border-color-t":[{"border-t":ne()}],"border-color-r":[{"border-r":ne()}],"border-color-b":[{"border-b":ne()}],"border-color-l":[{"border-l":ne()}],"divide-color":[{divide:ne()}],"outline-style":[{outline:[..._e(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ut,tt,et]}],"outline-w":[{outline:["",Ut,gu,xo]}],"outline-color":[{outline:ne()}],shadow:[{shadow:["","none",p,Ff,Bf]}],"shadow-color":[{shadow:ne()}],"inset-shadow":[{"inset-shadow":["none",g,Ff,Bf]}],"inset-shadow-color":[{"inset-shadow":ne()}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ne()}],"ring-offset-w":[{"ring-offset":[Ut,xo]}],"ring-offset-color":[{"ring-offset":ne()}],"inset-ring-w":[{"inset-ring":re()}],"inset-ring-color":[{"inset-ring":ne()}],"text-shadow":[{"text-shadow":["none",b,Ff,Bf]}],"text-shadow-color":[{"text-shadow":ne()}],opacity:[{opacity:[Ut,tt,et]}],"mix-blend":[{"mix-blend":[...xe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":xe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ut]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ee()}],"mask-image-linear-from-color":[{"mask-linear-from":ne()}],"mask-image-linear-to-color":[{"mask-linear-to":ne()}],"mask-image-t-from-pos":[{"mask-t-from":Ee()}],"mask-image-t-to-pos":[{"mask-t-to":Ee()}],"mask-image-t-from-color":[{"mask-t-from":ne()}],"mask-image-t-to-color":[{"mask-t-to":ne()}],"mask-image-r-from-pos":[{"mask-r-from":Ee()}],"mask-image-r-to-pos":[{"mask-r-to":Ee()}],"mask-image-r-from-color":[{"mask-r-from":ne()}],"mask-image-r-to-color":[{"mask-r-to":ne()}],"mask-image-b-from-pos":[{"mask-b-from":Ee()}],"mask-image-b-to-pos":[{"mask-b-to":Ee()}],"mask-image-b-from-color":[{"mask-b-from":ne()}],"mask-image-b-to-color":[{"mask-b-to":ne()}],"mask-image-l-from-pos":[{"mask-l-from":Ee()}],"mask-image-l-to-pos":[{"mask-l-to":Ee()}],"mask-image-l-from-color":[{"mask-l-from":ne()}],"mask-image-l-to-color":[{"mask-l-to":ne()}],"mask-image-x-from-pos":[{"mask-x-from":Ee()}],"mask-image-x-to-pos":[{"mask-x-to":Ee()}],"mask-image-x-from-color":[{"mask-x-from":ne()}],"mask-image-x-to-color":[{"mask-x-to":ne()}],"mask-image-y-from-pos":[{"mask-y-from":Ee()}],"mask-image-y-to-pos":[{"mask-y-to":Ee()}],"mask-image-y-from-color":[{"mask-y-from":ne()}],"mask-image-y-to-color":[{"mask-y-to":ne()}],"mask-image-radial":[{"mask-radial":[tt,et]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ee()}],"mask-image-radial-from-color":[{"mask-radial-from":ne()}],"mask-image-radial-to-color":[{"mask-radial-to":ne()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":C()}],"mask-image-conic-pos":[{"mask-conic":[Ut]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ee()}],"mask-image-conic-from-color":[{"mask-conic-from":ne()}],"mask-image-conic-to-color":[{"mask-conic-to":ne()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:le()}],"mask-repeat":[{mask:B()}],"mask-size":[{mask:Q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",tt,et]}],filter:[{filter:["","none",tt,et]}],blur:[{blur:De()}],brightness:[{brightness:[Ut,tt,et]}],contrast:[{contrast:[Ut,tt,et]}],"drop-shadow":[{"drop-shadow":["","none",x,Ff,Bf]}],"drop-shadow-color":[{"drop-shadow":ne()}],grayscale:[{grayscale:["",Ut,tt,et]}],"hue-rotate":[{"hue-rotate":[Ut,tt,et]}],invert:[{invert:["",Ut,tt,et]}],saturate:[{saturate:[Ut,tt,et]}],sepia:[{sepia:["",Ut,tt,et]}],"backdrop-filter":[{"backdrop-filter":["","none",tt,et]}],"backdrop-blur":[{"backdrop-blur":De()}],"backdrop-brightness":[{"backdrop-brightness":[Ut,tt,et]}],"backdrop-contrast":[{"backdrop-contrast":[Ut,tt,et]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ut,tt,et]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ut,tt,et]}],"backdrop-invert":[{"backdrop-invert":["",Ut,tt,et]}],"backdrop-opacity":[{"backdrop-opacity":[Ut,tt,et]}],"backdrop-saturate":[{"backdrop-saturate":[Ut,tt,et]}],"backdrop-sepia":[{"backdrop-sepia":["",Ut,tt,et]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",tt,et]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ut,"initial",tt,et]}],ease:[{ease:["linear","initial",N,tt,et]}],delay:[{delay:[Ut,tt,et]}],animate:[{animate:["none",R,tt,et]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,tt,et]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:Ve()}],"rotate-x":[{"rotate-x":Ve()}],"rotate-y":[{"rotate-y":Ve()}],"rotate-z":[{"rotate-z":Ve()}],scale:[{scale:Le()}],"scale-x":[{"scale-x":Le()}],"scale-y":[{"scale-y":Le()}],"scale-z":[{"scale-z":Le()}],"scale-3d":["scale-3d"],skew:[{skew:lt()}],"skew-x":[{"skew-x":lt()}],"skew-y":[{"skew-y":lt()}],transform:[{transform:[tt,et,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ke()}],"translate-x":[{"translate-x":Ke()}],"translate-y":[{"translate-y":Ke()}],"translate-z":[{"translate-z":Ke()}],"translate-none":["translate-none"],accent:[{accent:ne()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ne()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",tt,et]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",tt,et]}],fill:[{fill:["none",...ne()]}],"stroke-w":[{stroke:[Ut,gu,xo,r0]}],stroke:[{stroke:["none",...ne()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},A5=d5(O5);function Nn(...e){return A5(J2(e))}function py(t){var e=ke(t,[]);return c.jsx(XL,z({"data-slot":"popover"},e))}function gy(t){var e=ke(t,[]);return c.jsx(GL,z({"data-slot":"popover-trigger"},e))}function xy(a){var i=a,{className:e,align:t="center",sideOffset:n=4}=i,s=ke(i,["className","align","sideOffset"]);return c.jsx(KL,{children:c.jsx(QL,z({"data-slot":"popover-content",align:t,sideOffset:n,className:Nn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e)},s))})}const Hu=class Hu{static useUsers(){const{data:t,isLoading:n,error:s}=Dt("User",{fields:Hu.USER_FIELDS,filters:[["enabled","=",1],["user_type","=","System User"]],limit:0});return{data:t||[],isLoading:n,error:s}}static useCurrentUser(){const{currentUser:t,isLoading:n}=qa();return{currentUser:t,isLoading:n}}static useCurrentUserProfile(){const{currentUser:t}=qa(),{data:n,isLoading:s,error:a}=On("User",t||void 0,{fields:Hu.USER_FIELDS});return{currentUserProfile:n,isLoading:s,error:a}}};ft(Hu,"USER_FIELDS",["name","email","full_name","first_name","last_name","user_image","enabled","user_type","role_profile_name"]);let Uh=Hu;const D5=Uh.useCurrentUser,R5=Uh.useCurrentUserProfile,M5=()=>ye(null,null,function*(){try{const e=yield fetch("/api/method/frappe.auth.get_logged_user",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token||""}});if(e.status===401||e.status===403)return{isValid:!1};if(e.ok){const t=yield e.json();if(t&&!t.exc)return{isValid:!0}}return{isValid:!1}}catch(e){return console.error("Token validation error:",e),{isValid:!1}}}),uE=()=>{try{localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(t=>{const n=t.indexOf("="),s=n>-1?t.substr(0,n).trim():t.trim();document.cookie=`${s}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;domain=${window.location.hostname}`,document.cookie=`${s}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/`}),console.warn("Session expired. Redirecting to login...");const e="/login";window.location.href=e}catch(e){console.error("Error handling token expiry:",e),window.location.href="/login"}},P5=()=>"/login",_h=()=>window.location.pathname.includes("/login")||window.location.pathname.includes("/signin");function L5(e){if(typeof document=="undefined")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const z5=e=>{switch(e){case"success":return F5;case"info":return H5;case"warning":return $5;case"error":return V5;default:return null}},U5=Array(12).fill(0),B5=({visible:e,className:t})=>se.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},se.createElement("div",{className:"sonner-spinner"},U5.map((n,s)=>se.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),F5=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),$5=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),H5=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),V5=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),I5=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},se.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),se.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),q5=()=>{const[e,t]=se.useState(document.hidden);return se.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let rx=1;class W5{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const f=t,{message:s}=f,a=ke(f,["message"]),i=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:rx++,l=this.toasts.find(h=>h.id===i),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),l?this.toasts=this.toasts.map(h=>h.id===i?(this.publish(oe(z(z({},h),t),{id:i,title:s})),oe(z(z({},h),t),{id:i,dismissible:u,title:s})):h):this.addToast(oe(z({title:s},a),{dismissible:u,id:i})),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create(oe(z({},n),{message:t})),this.error=(t,n)=>this.create(oe(z({},n),{message:t,type:"error"})),this.success=(t,n)=>this.create(oe(z({},n),{type:"success",message:t})),this.info=(t,n)=>this.create(oe(z({},n),{type:"info",message:t})),this.warning=(t,n)=>this.create(oe(z({},n),{type:"warning",message:t})),this.loading=(t,n)=>this.create(oe(z({},n),{type:"loading",message:t})),this.promise=(t,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create(oe(z({},n),{promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0})));const a=Promise.resolve(t instanceof Function?t():t);let i=s!==void 0,l;const u=a.then(h=>ye(this,null,function*(){if(l=["resolve",h],se.isValidElement(h))i=!1,this.create({id:s,type:"default",message:h});else if(X5(h)&&!h.ok){i=!1;const g=typeof n.error=="function"?yield n.error(`HTTP error! status: ${h.status}`):n.error,b=typeof n.description=="function"?yield n.description(`HTTP error! status: ${h.status}`):n.description,w=typeof g=="object"&&!se.isValidElement(g)?g:{message:g};this.create(z({id:s,type:"error",description:b},w))}else if(h instanceof Error){i=!1;const g=typeof n.error=="function"?yield n.error(h):n.error,b=typeof n.description=="function"?yield n.description(h):n.description,w=typeof g=="object"&&!se.isValidElement(g)?g:{message:g};this.create(z({id:s,type:"error",description:b},w))}else if(n.success!==void 0){i=!1;const g=typeof n.success=="function"?yield n.success(h):n.success,b=typeof n.description=="function"?yield n.description(h):n.description,w=typeof g=="object"&&!se.isValidElement(g)?g:{message:g};this.create(z({id:s,type:"success",description:b},w))}})).catch(h=>ye(this,null,function*(){if(l=["reject",h],n.error!==void 0){i=!1;const p=typeof n.error=="function"?yield n.error(h):n.error,g=typeof n.description=="function"?yield n.description(h):n.description,x=typeof p=="object"&&!se.isValidElement(p)?p:{message:p};this.create(z({id:s,type:"error",description:g},x))}})).finally(()=>{i&&(this.dismiss(s),s=void 0),n.finally==null||n.finally.call(n)}),f=()=>new Promise((h,p)=>u.then(()=>l[0]==="reject"?p(l[1]):h(l[1])).catch(p));return typeof s!="string"&&typeof s!="number"?{unwrap:f}:Object.assign(s,{unwrap:f})},this.custom=(t,n)=>{const s=(n==null?void 0:n.id)||rx++;return this.create(z({jsx:t(s),id:s},n)),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Hs=new W5,Y5=(e,t)=>{const n=(t==null?void 0:t.id)||rx++;return Hs.addToast(oe(z({title:e},t),{id:n})),n},X5=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",G5=Y5,K5=()=>Hs.toasts,Q5=()=>Hs.getActiveToasts(),xu=Object.assign(G5,{success:Hs.success,info:Hs.info,warning:Hs.warning,error:Hs.error,custom:Hs.custom,message:Hs.message,promise:Hs.promise,dismiss:Hs.dismiss,loading:Hs.loading},{getHistory:K5,getToasts:Q5});L5("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function $f(e){return e.label!==void 0}const Z5=3,J5="24px",e6="16px",r1=4e3,t6=356,n6=14,s6=45,r6=200;function ea(...e){return e.filter(Boolean).join(" ")}function a6(e){const[t,n]=e.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}const i6=e=>{var t,n,s,a,i,l,u,f,h;const{invert:p,toast:g,unstyled:b,interacting:x,setHeights:w,visibleToasts:_,heights:S,index:N,toasts:R,expanded:A,removeToast:C,defaultRichColors:k,closeButton:D,style:M,cancelButtonStyle:E,actionButtonStyle:P,className:K="",descriptionClassName:W="",duration:Y,position:q,gap:J,expandByDefault:G,classNames:H,icons:te,closeButtonAriaLabel:ne="Close toast"}=e,[le,B]=se.useState(null),[Q,he]=se.useState(null),[$,re]=se.useState(!1),[_e,xe]=se.useState(!1),[Ee,De]=se.useState(!1),[Ve,Le]=se.useState(!1),[lt,Ke]=se.useState(!1),[pt,Pe]=se.useState(0),[ht,$t]=se.useState(0),vt=se.useRef(g.duration||Y||r1),Mt=se.useRef(null),St=se.useRef(null),X=N===0,de=N+1<=_,I=g.type,Se=g.dismissible!==!1,Me=g.className||"",Re=g.descriptionClassName||"",Fe=se.useMemo(()=>S.findIndex(Ge=>Ge.toastId===g.id)||0,[S,g.id]),qe=se.useMemo(()=>{var Ge;return(Ge=g.closeButton)!=null?Ge:D},[g.closeButton,D]),Qe=se.useMemo(()=>g.duration||Y||r1,[g.duration,Y]),yt=se.useRef(0),vn=se.useRef(0),ct=se.useRef(0),Ce=se.useRef(null),[$e,Pt]=q.split("-"),En=se.useMemo(()=>S.reduce((Ge,jt,Yt)=>Yt>=Fe?Ge:Ge+jt.height,0),[S,Fe]),is=q5(),Vn=g.invert||p,fs=I==="loading";vn.current=se.useMemo(()=>Fe*J+En,[Fe,En]),se.useEffect(()=>{vt.current=Qe},[Qe]),se.useEffect(()=>{re(!0)},[]),se.useEffect(()=>{const Ge=St.current;if(Ge){const jt=Ge.getBoundingClientRect().height;return $t(jt),w(Yt=>[{toastId:g.id,height:jt,position:g.position},...Yt]),()=>w(Yt=>Yt.filter(Kt=>Kt.toastId!==g.id))}},[w,g.id]),se.useLayoutEffect(()=>{if(!$)return;const Ge=St.current,jt=Ge.style.height;Ge.style.height="auto";const Yt=Ge.getBoundingClientRect().height;Ge.style.height=jt,$t(Yt),w(Kt=>Kt.find(ie=>ie.toastId===g.id)?Kt.map(ie=>ie.toastId===g.id?oe(z({},ie),{height:Yt}):ie):[{toastId:g.id,height:Yt,position:g.position},...Kt])},[$,g.title,g.description,w,g.id,g.jsx,g.action,g.cancel]);const Xe=se.useCallback(()=>{xe(!0),Pe(vn.current),w(Ge=>Ge.filter(jt=>jt.toastId!==g.id)),setTimeout(()=>{C(g)},r6)},[g,C,w,vn]);se.useEffect(()=>{if(g.promise&&I==="loading"||g.duration===1/0||g.type==="loading")return;let Ge;return A||x||is?(()=>{if(ct.current<yt.current){const Kt=new Date().getTime()-yt.current;vt.current=vt.current-Kt}ct.current=new Date().getTime()})():(()=>{vt.current!==1/0&&(yt.current=new Date().getTime(),Ge=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),Xe()},vt.current))})(),()=>clearTimeout(Ge)},[A,x,g,I,is,Xe]),se.useEffect(()=>{g.delete&&(Xe(),g.onDismiss==null||g.onDismiss.call(g,g))},[Xe,g.delete]);function Lt(){var Ge;if(te!=null&&te.loading){var jt;return se.createElement("div",{className:ea(H==null?void 0:H.loader,g==null||(jt=g.classNames)==null?void 0:jt.loader,"sonner-loader"),"data-visible":I==="loading"},te.loading)}return se.createElement(B5,{className:ea(H==null?void 0:H.loader,g==null||(Ge=g.classNames)==null?void 0:Ge.loader),visible:I==="loading"})}const Ht=g.icon||(te==null?void 0:te[I])||z5(I);var Nt,nn;return se.createElement("li",{tabIndex:0,ref:St,className:ea(K,Me,H==null?void 0:H.toast,g==null||(t=g.classNames)==null?void 0:t.toast,H==null?void 0:H.default,H==null?void 0:H[I],g==null||(n=g.classNames)==null?void 0:n[I]),"data-sonner-toast":"","data-rich-colors":(Nt=g.richColors)!=null?Nt:k,"data-styled":!(g.jsx||g.unstyled||b),"data-mounted":$,"data-promise":!!g.promise,"data-swiped":lt,"data-removed":_e,"data-visible":de,"data-y-position":$e,"data-x-position":Pt,"data-index":N,"data-front":X,"data-swiping":Ee,"data-dismissible":Se,"data-type":I,"data-invert":Vn,"data-swipe-out":Ve,"data-swipe-direction":Q,"data-expanded":!!(A||G&&$),"data-testid":g.testId,style:z(z({"--index":N,"--toasts-before":N,"--z-index":R.length-N,"--offset":`${_e?pt:vn.current}px`,"--initial-height":G?"auto":`${ht}px`},M),g.style),onDragEnd:()=>{De(!1),B(null),Ce.current=null},onPointerDown:Ge=>{Ge.button!==2&&(fs||!Se||(Mt.current=new Date,Pe(vn.current),Ge.target.setPointerCapture(Ge.pointerId),Ge.target.tagName!=="BUTTON"&&(De(!0),Ce.current={x:Ge.clientX,y:Ge.clientY})))},onPointerUp:()=>{var Ge,jt,Yt;if(Ve||!Se)return;Ce.current=null;const Kt=Number(((Ge=St.current)==null?void 0:Ge.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ee=Number(((jt=St.current)==null?void 0:jt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ie=new Date().getTime()-((Yt=Mt.current)==null?void 0:Yt.getTime()),me=le==="x"?Kt:ee,je=Math.abs(me)/ie;if(Math.abs(me)>=s6||je>.11){Pe(vn.current),g.onDismiss==null||g.onDismiss.call(g,g),he(le==="x"?Kt>0?"right":"left":ee>0?"down":"up"),Xe(),Le(!0);return}else{var Ae,He;(Ae=St.current)==null||Ae.style.setProperty("--swipe-amount-x","0px"),(He=St.current)==null||He.style.setProperty("--swipe-amount-y","0px")}Ke(!1),De(!1),B(null)},onPointerMove:Ge=>{var jt,Yt,Kt;if(!Ce.current||!Se||((jt=window.getSelection())==null?void 0:jt.toString().length)>0)return;const ie=Ge.clientY-Ce.current.y,me=Ge.clientX-Ce.current.x;var je;const Ae=(je=e.swipeDirections)!=null?je:a6(q);!le&&(Math.abs(me)>1||Math.abs(ie)>1)&&B(Math.abs(me)>Math.abs(ie)?"x":"y");let He={x:0,y:0};const Ze=nt=>1/(1.5+Math.abs(nt)/20);if(le==="y"){if(Ae.includes("top")||Ae.includes("bottom"))if(Ae.includes("top")&&ie<0||Ae.includes("bottom")&&ie>0)He.y=ie;else{const nt=ie*Ze(ie);He.y=Math.abs(nt)<Math.abs(ie)?nt:ie}}else if(le==="x"&&(Ae.includes("left")||Ae.includes("right")))if(Ae.includes("left")&&me<0||Ae.includes("right")&&me>0)He.x=me;else{const nt=me*Ze(me);He.x=Math.abs(nt)<Math.abs(me)?nt:me}(Math.abs(He.x)>0||Math.abs(He.y)>0)&&Ke(!0),(Yt=St.current)==null||Yt.style.setProperty("--swipe-amount-x",`${He.x}px`),(Kt=St.current)==null||Kt.style.setProperty("--swipe-amount-y",`${He.y}px`)}},qe&&!g.jsx&&I!=="loading"?se.createElement("button",{"aria-label":ne,"data-disabled":fs,"data-close-button":!0,onClick:fs||!Se?()=>{}:()=>{Xe(),g.onDismiss==null||g.onDismiss.call(g,g)},className:ea(H==null?void 0:H.closeButton,g==null||(s=g.classNames)==null?void 0:s.closeButton)},(nn=te==null?void 0:te.close)!=null?nn:I5):null,(I||g.icon||g.promise)&&g.icon!==null&&((te==null?void 0:te[I])!==null||g.icon)?se.createElement("div",{"data-icon":"",className:ea(H==null?void 0:H.icon,g==null||(a=g.classNames)==null?void 0:a.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Lt():null,g.type!=="loading"?Ht:null):null,se.createElement("div",{"data-content":"",className:ea(H==null?void 0:H.content,g==null||(i=g.classNames)==null?void 0:i.content)},se.createElement("div",{"data-title":"",className:ea(H==null?void 0:H.title,g==null||(l=g.classNames)==null?void 0:l.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?se.createElement("div",{"data-description":"",className:ea(W,Re,H==null?void 0:H.description,g==null||(u=g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),se.isValidElement(g.cancel)?g.cancel:g.cancel&&$f(g.cancel)?se.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||E,onClick:Ge=>{$f(g.cancel)&&Se&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,Ge),Xe())},className:ea(H==null?void 0:H.cancelButton,g==null||(f=g.classNames)==null?void 0:f.cancelButton)},g.cancel.label):null,se.isValidElement(g.action)?g.action:g.action&&$f(g.action)?se.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||P,onClick:Ge=>{$f(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,Ge),!Ge.defaultPrevented&&Xe())},className:ea(H==null?void 0:H.actionButton,g==null||(h=g.classNames)==null?void 0:h.actionButton)},g.action.label):null)};function a1(){if(typeof window=="undefined"||typeof document=="undefined")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function o6(e,t){const n={};return[e,t].forEach((s,a)=>{const i=a===1,l=i?"--mobile-offset":"--offset",u=i?e6:J5;function f(h){["top","right","bottom","left"].forEach(p=>{n[`${l}-${p}`]=typeof h=="number"?`${h}px`:h})}typeof s=="number"||typeof s=="string"?f(s):typeof s=="object"?["top","right","bottom","left"].forEach(h=>{s[h]===void 0?n[`${l}-${h}`]=u:n[`${l}-${h}`]=typeof s[h]=="number"?`${s[h]}px`:s[h]}):f(u)}),n}const l6=se.forwardRef(function(t,n){const{id:s,invert:a,position:i="bottom-right",hotkey:l=["altKey","KeyT"],expand:u,closeButton:f,className:h,offset:p,mobileOffset:g,theme:b="light",richColors:x,duration:w,style:_,visibleToasts:S=Z5,toastOptions:N,dir:R=a1(),gap:A=n6,icons:C,containerAriaLabel:k="Notifications"}=t,[D,M]=se.useState([]),E=se.useMemo(()=>s?D.filter($=>$.toasterId===s):D.filter($=>!$.toasterId),[D,s]),P=se.useMemo(()=>Array.from(new Set([i].concat(E.filter($=>$.position).map($=>$.position)))),[E,i]),[K,W]=se.useState([]),[Y,q]=se.useState(!1),[J,G]=se.useState(!1),[H,te]=se.useState(b!=="system"?b:typeof window!="undefined"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ne=se.useRef(null),le=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),B=se.useRef(null),Q=se.useRef(!1),he=se.useCallback($=>{M(re=>{var _e;return(_e=re.find(xe=>xe.id===$.id))!=null&&_e.delete||Hs.dismiss($.id),re.filter(({id:xe})=>xe!==$.id)})},[]);return se.useEffect(()=>Hs.subscribe($=>{if($.dismiss){requestAnimationFrame(()=>{M(re=>re.map(_e=>_e.id===$.id?oe(z({},_e),{delete:!0}):_e))});return}setTimeout(()=>{t2.flushSync(()=>{M(re=>{const _e=re.findIndex(xe=>xe.id===$.id);return _e!==-1?[...re.slice(0,_e),z(z({},re[_e]),$),...re.slice(_e+1)]:[$,...re]})})})}),[D]),se.useEffect(()=>{if(b!=="system"){te(b);return}if(b==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?te("dark"):te("light")),typeof window=="undefined")return;const $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:re})=>{te(re?"dark":"light")})}catch(re){$.addListener(({matches:_e})=>{try{te(_e?"dark":"light")}catch(xe){console.error(xe)}})}},[b]),se.useEffect(()=>{D.length<=1&&q(!1)},[D]),se.useEffect(()=>{const $=re=>{var _e;if(l.every(De=>re[De]||re.code===De)){var Ee;q(!0),(Ee=ne.current)==null||Ee.focus()}re.code==="Escape"&&(document.activeElement===ne.current||(_e=ne.current)!=null&&_e.contains(document.activeElement))&&q(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[l]),se.useEffect(()=>{if(ne.current)return()=>{B.current&&(B.current.focus({preventScroll:!0}),B.current=null,Q.current=!1)}},[ne.current]),se.createElement("section",{ref:n,"aria-label":`${k} ${le}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map(($,re)=>{var _e;const[xe,Ee]=$.split("-");return E.length?se.createElement("ol",{key:$,dir:R==="auto"?a1():R,tabIndex:-1,ref:ne,className:h,"data-sonner-toaster":!0,"data-sonner-theme":H,"data-y-position":xe,"data-x-position":Ee,style:z(z({"--front-toast-height":`${((_e=K[0])==null?void 0:_e.height)||0}px`,"--width":`${t6}px`,"--gap":`${A}px`},_),o6(p,g)),onBlur:De=>{Q.current&&!De.currentTarget.contains(De.relatedTarget)&&(Q.current=!1,B.current&&(B.current.focus({preventScroll:!0}),B.current=null))},onFocus:De=>{De.target instanceof HTMLElement&&De.target.dataset.dismissible==="false"||Q.current||(Q.current=!0,B.current=De.relatedTarget)},onMouseEnter:()=>q(!0),onMouseMove:()=>q(!0),onMouseLeave:()=>{J||q(!1)},onDragEnd:()=>q(!1),onPointerDown:De=>{De.target instanceof HTMLElement&&De.target.dataset.dismissible==="false"||G(!0)},onPointerUp:()=>G(!1)},E.filter(De=>!De.position&&re===0||De.position===$).map((De,Ve)=>{var Le,lt;return se.createElement(i6,{key:De.id,icons:C,index:Ve,toast:De,defaultRichColors:x,duration:(Le=N==null?void 0:N.duration)!=null?Le:w,className:N==null?void 0:N.className,descriptionClassName:N==null?void 0:N.descriptionClassName,invert:a,visibleToasts:S,closeButton:(lt=N==null?void 0:N.closeButton)!=null?lt:f,interacting:J,position:$,style:N==null?void 0:N.style,unstyled:N==null?void 0:N.unstyled,classNames:N==null?void 0:N.classNames,cancelButtonStyle:N==null?void 0:N.cancelButtonStyle,actionButtonStyle:N==null?void 0:N.actionButtonStyle,closeButtonAriaLabel:N==null?void 0:N.closeButtonAriaLabel,removeToast:he,toasts:E.filter(Ke=>Ke.position==De.position),heights:K.filter(Ke=>Ke.position==De.position),setHeights:W,expandByDefault:u,gap:A,expanded:Y,swipeDirections:t.swipeDirections})})):null}))}),Hf={duration:4e3};class ax{static success(t,n){const s=`success-${t}`;return this.activeToasts.has(s)?void 0:(this.activeToasts.add(s),xu.success(t,{description:n==null?void 0:n.description,duration:(n==null?void 0:n.duration)||Hf.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)}}))}static error(t,n){const s=`error-${t}`;return this.activeToasts.has(s)?void 0:(this.activeToasts.add(s),xu.error(t,{description:n==null?void 0:n.description,duration:(n==null?void 0:n.duration)||Hf.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)}}))}static info(t,n){const s=`info-${t}`;return this.activeToasts.has(s)?void 0:(this.activeToasts.add(s),xu.info(t,{description:n==null?void 0:n.description,duration:(n==null?void 0:n.duration)||Hf.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)}}))}static warning(t,n){const s=`warning-${t}`;return this.activeToasts.has(s)?void 0:(this.activeToasts.add(s),xu.warning(t,{description:n==null?void 0:n.description,duration:(n==null?void 0:n.duration)||Hf.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)}}))}static dismissAll(){xu.dismiss(),this.activeToasts.clear()}static clearCache(){this.activeToasts.clear()}}ft(ax,"activeToasts",new Set),ft(ax,"DUPLICATE_TIMEOUT",1e3);const _n=ax,c6=({onMenuClick:e})=>{const{currentUser:t,isLoading:n}=D5(),{currentUserProfile:s}=R5(),{logout:a}=qa(),i=()=>ye(null,null,function*(){try{_n.success("Logging out...",{description:"You will be redirected to the login page.",duration:2e3}),yield a(),setTimeout(()=>{uE()},1e3)}catch(p){console.error("Logout failed:",p),_n.error("Logout failed",{description:"Please try again or contact support."}),setTimeout(()=>{window.location.href=P5()},2e3)}}),l=()=>s?s.full_name||s.first_name||s.email||"User":!t||typeof t=="string"?t||"Guest":t.full_name||t.first_name||t.email||"User",u=()=>t?l().split(" ").map(g=>g[0]).join("").toUpperCase().slice(0,2):"G",f=()=>s!=null&&s.user_image?s.user_image:null,h=()=>s?s.email:t&&typeof t!="string"?t.email:t||"No email";return c.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between h-16 px-6",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200 lg:hidden",children:c.jsx(CP,{className:"h-5 w-5 text-gray-600"})}),c.jsxs("div",{className:"relative hidden md:block",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(cm,{className:"h-4 w-4 text-gray-400"})}),c.jsx("input",{type:"text",className:"block w-80 pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-gray-50 placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Search projects, tasks, or team members..."})]})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("button",{className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[c.jsx(qM,{className:"h-5 w-5 text-gray-600"}),c.jsx("span",{className:"absolute top-1 right-1 h-2 w-2 bg-red-500 rounded-full"})]}),c.jsx("div",{className:"relative",children:c.jsxs(py,{children:[c.jsx(gy,{asChild:!0,children:c.jsxs("button",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[c.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:f()?c.jsx("img",{src:f(),alt:"User avatar",className:"w-8 h-8 rounded-full object-cover"}):c.jsx("span",{className:"text-xs font-medium text-white",children:u()})}),c.jsx("span",{className:"hidden md:block text-sm font-medium text-gray-700",children:n?"Loading...":l()}),c.jsx(s2,{className:"h-4 w-4 text-gray-500"})]})}),c.jsxs(xy,{className:"w-64 p-0",align:"end",children:[c.jsx("div",{className:"p-4 border-b border-gray-100",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:f()?c.jsx("img",{src:f(),alt:"User avatar",className:"w-10 h-10 rounded-full object-cover"}):c.jsx("span",{className:"text-sm font-medium text-white",children:u()})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900",children:l()}),c.jsx("p",{className:"text-sm text-gray-500",children:h()})]})]})}),c.jsxs("div",{className:"p-2",children:[c.jsxs("button",{className:"w-full flex items-center space-x-3 px-3 py-2 text-left rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[c.jsx(i2,{className:"h-4 w-4 text-gray-500"}),c.jsx("span",{className:"text-sm text-gray-700",children:"Settings"})]}),c.jsxs("button",{onClick:i,className:"w-full flex items-center space-x-3 px-3 py-2 text-left rounded-lg hover:bg-red-50 transition-colors duration-200 text-red-600",children:[c.jsx(EP,{className:"h-4 w-4"}),c.jsx("span",{className:"text-sm",children:"Sign out"})]})]})]})]})})]})]})})},u6=t=>{var e=ke(t,[]);const{theme:n="system"}=wD();return c.jsx(l6,z({theme:n,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"}},e))},d6=()=>{const[e,t]=j.useState(!1);return c.jsxs("div",{className:"flex h-screen bg-gray-50",children:[c.jsx("div",{className:"hidden lg:flex lg:flex-shrink-0",children:c.jsx(Oj,{})}),e&&c.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>t(!1)}),c.jsx("div",{className:"relative flex flex-col w-64 h-full bg-white shadow-xl",children:c.jsx(Oj,{})})]}),c.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[c.jsx(c6,{onMenuClick:()=>t(!e)}),c.jsx("main",{className:"flex-1 overflow-y-auto",children:c.jsx("div",{className:"py-6",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsx(eM,{})})})})]}),c.jsx(u6,{position:"top-right",richColors:!0,expand:!0,closeButton:!0,toastOptions:{duration:4e3}})]})},f6=(e={})=>{const{checkIntervalMinutes:t=5,showNotifications:n=!0,enabled:s=!0,onTokenExpired:a}=e,{currentUser:i,isLoading:l}=qa(),u=j.useRef(null),f=j.useRef(!1),h=j.useCallback(()=>{u.current&&(clearInterval(u.current),u.current=null)},[]),p=j.useCallback(()=>{h(),n&&_n.error("Session Expired",{description:"Your session has expired. Please log in again.",duration:3e3}),a==null||a(),setTimeout(()=>{uE()},1e3)},[h,a,n]),g=j.useCallback(()=>ye(null,null,function*(){try{return(yield M5()).isValid?(f.current=!1,!0):(console.warn("Authentication check failed - token invalid"),p(),!1)}catch(_){return console.error("Error checking authentication:",_),!0}}),[p]),b=j.useCallback(()=>{if(!s||l||!i||_h())return;h(),g();const _=t*60*1e3;u.current=setInterval(g,_),console.log(`Auth watcher started - checking every ${t} minutes`)},[s,l,i,t,g,h]);j.useEffect(()=>(i&&!l?b():h(),h),[i,l,b,h]),j.useEffect(()=>h,[h]);const x=j.useCallback(()=>g(),[g]),w=j.useCallback(()=>{p()},[p]);return{checkAuth:x,forceLogout:w,isWatching:!!u.current,currentUser:i,isLoading:l}},h6=({children:e,checkInterval:t=5,showNotifications:n=!0})=>{const{isWatching:s,currentUser:a,isLoading:i}=f6({checkIntervalMinutes:t,showNotifications:n,enabled:!_h(),onTokenExpired:()=>{console.log("Token expired callback triggered")}});return j.useEffect(()=>{_h()||console.log("Auth watcher initialized:",{isWatching:s,currentUser:!!a,isLoading:i,checkInterval:t})},[s,a,i,t]),_h()?c.jsx(c.Fragment,{children:e}):i?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):c.jsx(c.Fragment,{children:e})};function m6(){return c.jsx(mD,{siteName:"react.test",socketPort:"9007",children:c.jsx(_D,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:c.jsx(h6,{checkInterval:5,showNotifications:!0,children:c.jsx(d6,{})})})})}const p6=()=>{const[e,t]=j.useState("all"),[n,s]=j.useState("all"),[a,i]=j.useState("all"),[l,u]=j.useState([]),[f,h]=j.useState(!1),{data:p,isLoading:g}=Dt("Project",{fields:["name","project_name","status","department","team","estimated_costing","expected_end_date","percent_complete"]}),{data:b,isLoading:x}=Dt("project_phase",{fields:["name"],limit:0});j.useEffect(()=>{ye(null,null,function*(){if(!b||b.length===0){u([]);return}h(!0),console.log("🔄 Fetching individual phase documents for tasks...");try{const P=b.map(Y=>ye(null,null,function*(){try{const q=yield fetch(`/api/resource/project_phase/${Y.name}`,{method:"GET",headers:{Accept:"application/json"}});if(!q.ok)return console.warn(`❌ Failed to fetch phase ${Y.name}:`,q.status),null;const J=yield q.json(),G=J.data||J;return console.log(`✅ Phase ${Y.name} full data:`,G),console.log(`📋 Phase ${Y.name} tasks:`,G.tasks),G}catch(q){return console.error(`💥 Error fetching phase ${Y.name}:`,q),null}})),W=(yield Promise.all(P)).filter(Y=>Y!==null);console.log("🎉 All phases with tasks loaded:",W),u(W)}catch(P){console.error("💥 Error in fetchPhasesWithTasks:",P)}finally{h(!1)}})},[b]);const{data:w,isLoading:_}=Dt("Task",{fields:["name","subject","status","exp_end_date","exp_start_date","project","progress","priority","is_group"],limit:0}),{data:S,isLoading:N}=Dt("Timesheet",{fields:["name","total_hours"],limit:0}),R=(p||[]).map(E=>{var P;return oe(z({},E),{project_type:E.project_type||"",customer:E.customer||"",company:E.company||"",department:E.department||"",team:E.team||"",expected_start_date:E.expected_start_date||"",expected_end_date:E.expected_end_date||"",actual_start_date:E.actual_start_date||"",actual_end_date:E.actual_end_date||null,percent_complete:E.percent_complete||0,priority:E.priority||"Medium",estimated_costing:E.estimated_costing||0,total_billable_amount:E.total_billable_amount||0,total_billed_amount:E.total_billed_amount||0,gross_margin:E.gross_margin||0,estimated_hours:E.estimated_hours||0,total_hours:E.total_hours||0,is_active:(P=E.is_active)!=null?P:!0})}),A=j.useMemo(()=>!l||l.length===0?[]:l.map(E=>{const P=E.tasks||[];return console.log(`📊 Processing Phase ${E.name} with ${P.length} tasks:`,P),oe(z({},E),{phase_name:E.subject||E.name||"",status:E.status||"Open",expected_start_date:E.start_date||"",expected_end_date:E.end_date||"",actual_start_date:E.start_date||"",actual_end_date:null,progress:E.progress||0,description:E.details||"",tasks:P})}),[l]),C=(w||[]).map(E=>oe(z({},E),{project:E.project||"",priority:E.priority||"Medium",type:E.type||"",expected_time:E.expected_time||0,actual_time:E.actual_time||0,start_date:E.exp_start_date||"",end_date:E.exp_end_date||"",progress:E.progress||0,assigned_to:E.assigned_to||null,is_group:E.is_group||!1,parent_task_name:E.parent_task_name||null})),k=(S||[]).map(E=>({name:E.name,employee:E.employee||"",project:"",task:"",start_date:E.start_date||"",end_date:E.end_date||"",total_hours:E.total_hours||0,billable:!0,billing_hours:0,billing_rate:0,billing_amount:0})),D=g||x||f||_||N,M=j.useMemo(()=>{let E=R;n!=="all"&&n!==""&&(E=E.filter(Y=>Y.department===n)),a!=="all"&&a!==""&&(E=E.filter(Y=>Y.team===a)),e!=="all"&&e!==""&&(E=E.filter(Y=>Y.project_name===e));const P=E.map(Y=>Y.project_name),K=E.map(Y=>Y.name),W=A.filter(Y=>K.includes(Y.project));return{filteredProjects:E,filteredPhases:W,filteredTasks:C.filter(Y=>{const q=Y.project||"";return K.includes(q)}),filteredTimesheets:k.filter(Y=>Y.project?P.includes(Y.project):!0)}},[R,A,C,k,e,n,a]);return{allProjects:R,allPhases:A,filteredData:M,selectedProject:e,selectedDepartment:n,selectedTeam:a,setSelectedProject:t,setSelectedDepartment:s,setSelectedTeam:i,isLoading:D}},ym=({title:e,children:t,className:n=""})=>c.jsxs("div",{className:`bg-white rounded-xl shadow-sm p-6 mb-6 ${n}`,children:[e&&c.jsx("div",{className:"text-xl font-semibold text-gray-800 mb-4",children:e}),t]}),g6=({projects:e,selectedProject:t,selectedDepartment:n,selectedTeam:s,onProjectChange:a,onDepartmentChange:i,onTeamChange:l})=>{const[u,f]=j.useState(!0),h=Array.from(new Set(e.map(x=>x.department).filter(Boolean))),p=n==="all"||n===""?[]:Array.from(new Set(e.filter(x=>x.department===n).map(x=>x.team).filter(Boolean))),g=e.filter(x=>n==="all"||n===""?!0:x.department!==n?!1:s==="all"||s===""?!0:x.team===s),b=()=>{const x=[];return n!=="all"&&x.push(`Phòng ban: ${n}`),s!=="all"&&x.push(`Team: ${s}`),t!=="all"&&x.push(`Dự án: ${t}`),x.length>0?x.join(" | "):"Tất cả dự án"};return c.jsx(ym,{title:c.jsxs("div",{className:"flex items-center justify-between w-full cursor-pointer hover:bg-gray-50 -m-2 p-2 rounded-md transition-colors",onClick:()=>f(!u),children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Zx,{className:"w-5 h-5 mr-2 text-blue-600"}),c.jsx("span",{children:"Bộ lọc dự án"}),!u&&c.jsxs("span",{className:"ml-3 text-sm text-gray-600 font-normal",children:["- ",b()]})]}),c.jsx("button",{className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors p-1 rounded-md hover:bg-blue-50",title:u?"Thu gọn":"Mở rộng",onClick:x=>{x.stopPropagation(),f(!u)},children:u?c.jsx(JM,{className:"w-5 h-5"}):c.jsx(s2,{className:"w-5 h-5"})})]}),children:u&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phòng ban"}),c.jsxs("select",{value:n,onChange:x=>{i(x.target.value),l("all")},className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"all",children:"Tất cả phòng ban"}),h.map(x=>c.jsx("option",{value:x,children:x},x))]})]}),n!=="all"&&n!==""&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Team"}),c.jsxs("select",{value:s,onChange:x=>l(x.target.value),className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"all",children:"Tất cả team"}),p.map(x=>c.jsx("option",{value:x,children:x},x))]})]}),c.jsxs("div",{className:n!=="all"&&n!==""?"md:col-span-2":"md:col-span-3",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dự án"}),c.jsxs("select",{value:t,onChange:x=>a(x.target.value),className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"all",children:"Tất cả dự án"}),g.map(x=>c.jsxs("option",{value:x.project_name,children:[x.project_name," (",x.department," - ",x.team,")"]},x.name))]})]})]})})},x6=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),y6=e=>{switch(e){case"Open":case"Đang mở":return"bg-blue-100 text-blue-800";case"Working":case"Đang thực hiện":return"bg-orange-100 text-orange-800";case"Completed":case"Hoàn thành":return"bg-green-100 text-green-800";case"Overdue":case"Quá hạn":case"Sắp đến hạn":return"bg-red-100 text-red-800";case"Cancelled":case"Hủy":case"Đã hủy":return"bg-gray-100 text-gray-800";case"Đang xem xét":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},b6=e=>{switch(e){case"Urgent":case"Khẩn cấp":return"bg-red-100 text-red-800";case"High":case"Cao":return"bg-orange-100 text-red-800";case"Medium":case"Trung bình":return"bg-yellow-100 text-yellow-800";case"Low":case"Thấp":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},v6=({projects:e,tasks:t,selectedProject:n})=>{const s=n&&n!=="all",a=s?"Task":"Dự án";let i,l,u;if(s){i=t.filter(g=>g.status==="Open"||g.status==="Working"||g.status!=="Completed"&&g.status!=="Cancelled").length,l=t.filter(g=>g.status==="Completed").length;const p=new Date;u=t.filter(g=>g.exp_end_date?new Date(g.exp_end_date)<p&&g.status!=="Completed":!1).length,t.reduce((g,b)=>g+(b.expected_time||0),0)}else{i=e.filter(g=>g.status==="Đang thực hiện"||g.status!=="Hoàn thành"&&g.status!=="Hủy"&&g.percent_complete<100).length,l=e.filter(g=>g.status==="Hoàn thành"||g.percent_complete===100).length;const p=new Date;u=e.filter(g=>new Date(g.expected_end_date)<p&&g.status!=="Hoàn thành"&&g.percent_complete<100).length}const f=e.reduce((p,g)=>p+(g.estimated_costing||0),0),h=[{title:`${a} đang hoạt động`,value:i,icon:HM,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-blue-500 to-blue-600",cardBg:"bg-white",shadow:"shadow-lg shadow-blue-500/20",change:"+55%",changeText:"than last week",changeColor:"text-green-500"},{title:`${a} hoàn thành`,value:l,icon:rP,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-green-500 to-green-600",cardBg:"bg-white",shadow:"shadow-lg shadow-green-500/20",change:"+3%",changeText:"than last month",changeColor:"text-green-500"},{title:`${a} quá hạn`,value:u,icon:nc,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-pink-500 to-pink-600",cardBg:"bg-white",shadow:"shadow-lg shadow-pink-500/20",change:"+1%",changeText:"than yesterday",changeColor:"text-green-500"},{title:"Chi phí Dự án",value:x6(f),icon:MP,iconColor:"text-white",iconBg:"bg-gradient-to-br from-yellow-200 to-yellow-600",cardBg:"bg-white",shadow:"shadow-lg shadow-yellow-500/20",change:"+91",changeText:"Just updated",changeColor:"text-gray-500"}];return c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:h.map((p,g)=>{const b=p.icon;return c.jsx("div",{className:`${p.cardBg} ${p.shadow} rounded-xl p-6 border border-gray-100 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1`,children:c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("div",{className:`${p.iconBg} ${p.iconColor} p-3 rounded-2xl shadow-lg`,children:c.jsx(b,{className:"h-6 w-6"})}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:p.title}),c.jsx("p",{className:`${p.title.includes("Chi phí")?"text-2xl":"text-3xl"} font-bold text-gray-900`,children:p.value})]})]})},g)})})},w6=({projects:e,tasks:t,selectedProject:n})=>{const s=n&&n!=="all",a=se.useMemo(()=>{const p=new Date;return p.setHours(0,0,0,0),e.map((b,x)=>({id:`milestone-${x}`,name:b.project_name,project:b.project_name,endDate:new Date(b.expected_end_date),priority:b.priority,status:b.percent_complete===100?"completed":b.percent_complete>0?"in progress":"upcoming",progress:b.percent_complete})).filter(b=>{const x=new Date(b.endDate);x.setHours(0,0,0,0);const w=Math.ceil((x.getTime()-p.getTime())/(1e3*60*60*24));return b.status!=="completed"&&w>=0&&w<=60}).sort((b,x)=>{const w=new Date;w.setHours(0,0,0,0);const _=new Date(b.endDate);_.setHours(0,0,0,0);const S=new Date(x.endDate);S.setHours(0,0,0,0);const N=Math.abs(_.getTime()-w.getTime()),R=Math.abs(S.getTime()-w.getTime()),A=N-R;if(A!==0)return A;const C={"Khẩn cấp":0,Cao:1,"Trung bình":2,Thấp:3,Urgent:0,High:1,Medium:2,Low:3};return(C[b.priority]||3)-(C[x.priority]||3)})},[e]),i=se.useMemo(()=>{if(!s)return[];const p=new Date;return p.setHours(0,0,0,0),t.filter(g=>{if(!g.exp_end_date||g.status==="Completed")return!1;const b=new Date(g.exp_end_date);b.setHours(0,0,0,0);const x=Math.ceil((b.getTime()-p.getTime())/(1e3*60*60*24));return x>=0&&x<=30}).sort((g,b)=>{const x=new Date;x.setHours(0,0,0,0);const w=new Date(g.exp_end_date);w.setHours(0,0,0,0);const _=new Date(b.exp_end_date);_.setHours(0,0,0,0);const S=Math.abs(w.getTime()-x.getTime()),N=Math.abs(_.getTime()-x.getTime()),R=S-N;if(R!==0)return R;const A={Urgent:0,High:1,Medium:2,Low:3};return(A[g.priority]||3)-(A[b.priority]||3)})},[t,s]),l=p=>{switch(p){case"completed":return"bg-green-500";case"in progress":return"bg-blue-500";case"upcoming":return"bg-gray-300";default:return"bg-gray-300"}},u=p=>{switch(p){case"Urgent":return"bg-red-100 text-red-800";case"High":return"bg-orange-100 text-orange-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"Low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},f=p=>p.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),h=p=>{const g=new Date;g.setHours(0,0,0,0);const b=new Date(p);b.setHours(0,0,0,0);const x=Math.ceil((b.getTime()-g.getTime())/(1e3*60*60*24));return x<0?{text:`Quá hạn ${Math.abs(x)} ngày`,color:"text-red-600",urgent:!0}:x===0?{text:"Hôm nay",color:"text-red-600",urgent:!0}:x<=3?{text:`${x} ngày nữa`,color:"text-red-600",urgent:!0}:x<=7?{text:`${x} ngày nữa`,color:"text-orange-600",urgent:!0}:x<=14?{text:`${x} ngày nữa`,color:"text-yellow-600",urgent:!1}:{text:`${x} ngày nữa`,color:"text-gray-600",urgent:!1}};return c.jsx("div",{className:"grid grid-cols-1 gap-8",children:c.jsx(ym,{title:s?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Tasks"})," ","gần ",c.jsx("span",{className:"text-red-600 font-semibold",children:"đến hạn "})," (<30 ngày)"]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Dự án"})," ","sắp ",c.jsx("span",{className:"text-red-600 font-semibold",children:"đến hạn"})," (<30 ngày)"]}),children:c.jsx("div",{className:`space-y-6 ${s?i.length>=3?"h-80 overflow-y-auto":"overflow-visible":a.length>=3?"h-80 overflow-y-auto":"overflow-visible"}`,children:s?c.jsxs(c.Fragment,{children:[i.map((p,g)=>{const b=h(new Date(p.exp_end_date));return c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"flex items-center space-x-3",children:c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("h4",{className:"font-medium text-gray-900",children:p.subject}),c.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${u(p.priority)}`,children:p.priority})]}),c.jsx("div",{className:"mt-1",children:c.jsx("span",{className:`text-xs font-medium ${b.color}`,children:b.text})})]})}),c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[c.jsx($r,{className:"h-4 w-4 mr-1"}),f(new Date(p.exp_end_date))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Progress"}),c.jsxs("span",{className:"font-medium",children:[p.progress||0,"%"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:`h-2 rounded-full ${p.status==="Completed"?"bg-green-500":p.status==="Working"?"bg-blue-500":"bg-gray-300"}`,style:{width:`${p.progress||0}%`}})})]})]},`task-${g}`)}),i.length===0&&c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx($r,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),c.jsx("p",{children:"Không có task nào sắp đến hạn"})]})]}):c.jsxs(c.Fragment,{children:[a.map(p=>{const g=h(p.endDate);return c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"flex items-center space-x-3",children:c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("h4",{className:"font-medium text-gray-900",children:p.name}),c.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${u(p.priority)}`,children:p.priority})]}),c.jsx("div",{className:"mt-1",children:c.jsx("span",{className:`text-xs font-medium ${g.color}`,children:g.text})})]})}),c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[c.jsx($r,{className:"h-4 w-4 mr-1"}),f(p.endDate)]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Progress"}),c.jsxs("span",{className:"font-medium",children:[p.progress,"%"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:`h-2 rounded-full ${l(p.status)}`,style:{width:`${p.progress}%`}})})]})]},p.id)}),a.length===0&&c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx($r,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),c.jsx("p",{children:"Không có dự án nào sắp đến hạn"})]})]})})})})},_6=({projects:e,tasks:t,selectedProject:n})=>{const[s,a]=j.useState(null),[i,l]=j.useState(!0),u=w=>{a(_=>_===w?null:w)},f=n&&n!=="all",p=(()=>{if(f){const w={open:{projects:[],color:"#3b82f6",lightColor:"#60a5fa",darkColor:"#1d4ed8",label:"Open",height:30},working:{projects:[],color:"#f59e0b",lightColor:"#fbbf24",darkColor:"#d97706",label:"Working",height:25},completed:{projects:[],color:"#22c55e",lightColor:"#4ade80",darkColor:"#15803d",label:"Completed",height:20},overdue:{projects:[],color:"#ef4444",lightColor:"#f87171",darkColor:"#dc2626",label:"Overdue",height:40},cancelled:{projects:[],color:"#6b7280",lightColor:"#9ca3af",darkColor:"#4b5563",label:"Cancelled",height:35}};return t.forEach(_=>{const S=new Date;_.exp_end_date&&new Date(_.exp_end_date)<S&&_.status!=="Completed"&&_.status!=="Cancelled"?w.overdue.projects.push(_):_.status==="Completed"?w.completed.projects.push(_):_.status==="Working"?w.working.projects.push(_):_.status==="Cancelled"?w.cancelled.projects.push(_):w.open.projects.push(_)}),w}else{const w={open:{projects:[],color:"#3b82f6",lightColor:"#60a5fa",darkColor:"#1d4ed8",label:"Đang mở",height:30},completed:{projects:[],color:"#22c55e",lightColor:"#4ade80",darkColor:"#15803d",label:"Hoàn thành",height:20},cancelled:{projects:[],color:"#ef4444",lightColor:"#f87171",darkColor:"#dc2626",label:"Đã hủy",height:40}};return e.forEach(_=>{_.status==="Completed"||_.status==="Hoàn thành"?w.completed.projects.push(_):_.status==="Cancelled"||_.status==="Canceled"||_.status==="Hủy"?w.cancelled.projects.push(_):w.open.projects.push(_)}),w}})(),g=f?t.length:e.length,b=w=>{const _={Urgent:4,High:3,Medium:2,Low:1};return w.sort((S,N)=>{const R=_[S.priority]||0;return(_[N.priority]||0)-R})};Object.values(p).forEach(w=>{w.projects=b(w.projects)});const x=()=>{const[w,_]=se.useState({visible:!1,x:0,y:0,categoryKey:""}),S=360,N=S/2,R=S/2,A=170;let C=0;const k=Object.entries(p).filter(([,P])=>P.projects.length>0),D=(P,K)=>{const W=K.clientX,Y=K.clientY;_({visible:!0,x:W+15,y:Y-10,categoryKey:P})},M=(P,K)=>{if(w.visible&&w.categoryKey===P){const W=K.clientX,Y=K.clientY;_(q=>oe(z({},q),{x:W+15,y:Y-10}))}},E=()=>{_({visible:!1,x:0,y:0,categoryKey:""})};return c.jsxs("div",{className:"relative flex flex-col items-center",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-6 text-center max-w-xs",children:f?"Biểu đồ phân bố Tasks theo trạng thái":"Biểu đồ phân bố dự án theo trạng thái"}),c.jsx("div",{className:"relative",style:{width:S,height:S},children:c.jsxs("svg",{width:S,height:S,className:"absolute top-0 left-0",children:[c.jsx("defs",{children:c.jsx("filter",{id:"dropshadow2d",x:"-20%",y:"-20%",width:"140%",height:"140%",children:c.jsx("feDropShadow",{dx:"2",dy:"4",stdDeviation:"4",floodOpacity:"0.2"})})}),(C=0,k.map(([P,K])=>{const W=K.projects.length/g*100,Y=C,q=C+W/100*360;C=q;const J=Y*Math.PI/180,G=q*Math.PI/180,H=(Y+q)/2*Math.PI/180,te=N+A*Math.cos(J),ne=R+A*Math.sin(J),le=N+A*Math.cos(G),B=R+A*Math.sin(G),Q=q-Y>180?1:0,he=k.length===1;let $;he?$=`M ${N} ${R+A} A ${A} ${A} 0 1 1 ${N} ${R-A} A ${A} ${A} 0 1 1 ${N} ${R+A} Z`:$=[`M ${N} ${R}`,`L ${te} ${ne}`,`A ${A} ${A} 0 ${Q} 1 ${le} ${B}`,"Z"].join(" ");const re=A*.7,_e=he?N:N+re*Math.cos(H),xe=he?R:R+re*Math.sin(H);return c.jsxs("g",{children:[c.jsx("path",{d:$,fill:K.color,stroke:"white",strokeWidth:"2",filter:"url(#dropshadow2d)",className:"hover:opacity-80 transition-opacity cursor-pointer",onMouseEnter:Ee=>D(P,Ee),onMouseMove:Ee=>M(P,Ee),onMouseLeave:E}),W>5&&c.jsxs("text",{x:_e,y:xe,textAnchor:"middle",dominantBaseline:"middle",className:"text-xs font-bold fill-white pointer-events-none",style:{textShadow:"1px 1px 2px rgba(0,0,0,0.5)"},children:[Math.round(W),"%"]})]},`segment-${P}`)}))]})}),w.visible&&w.categoryKey&&p[w.categoryKey]&&c.jsxs("div",{className:"fixed z-50 bg-white border border-gray-200 rounded-lg shadow-lg p-4 max-w-xs pointer-events-none",style:{left:w.x,top:w.y,transform:"translate(-50%, -100%)"},children:[c.jsxs("div",{className:"font-semibold text-gray-800 mb-2 flex items-center",children:[c.jsx("div",{className:"w-3 h-3 rounded mr-2",style:{backgroundColor:p[w.categoryKey].color}}),p[w.categoryKey].label," (",p[w.categoryKey].projects.length,")"]}),c.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:p[w.categoryKey].projects.map((P,K)=>c.jsxs("div",{className:"text-xs border-b border-gray-100 pb-1 last:border-b-0",children:[c.jsx("div",{className:"font-medium text-gray-700",children:f?P.subject:P.project_name}),c.jsxs("div",{className:"text-gray-500 flex justify-between",children:[c.jsx("span",{children:f?`${P.progress||0}% hoàn thành`:`${P.percent_complete}% hoàn thành`}),c.jsxs("span",{className:"font-medium",children:["Priority: ",P.priority]})]})]},K))})]})]})};return c.jsx(ym,{title:c.jsx("div",{className:"flex items-center justify-between w-full cursor-pointer hover:bg-gray-50 -m-2 p-2 rounded-md transition-colors",onClick:()=>l(!i),children:c.jsx("div",{className:"flex items-center",children:c.jsx("span",{children:f?c.jsxs(c.Fragment,{children:["Tổng quan ",c.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Tasks"})]}):c.jsxs(c.Fragment,{children:["Tổng quan ",c.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"dự án"})]})})})}),children:i&&c.jsx("div",{children:g===0?c.jsx("div",{className:"flex flex-col items-center justify-center py-16",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-8xl text-gray-300 mb-6",children:"📊"}),c.jsx("p",{className:"text-xl font-medium text-gray-600 mb-3",children:f?"Không có task nào":"Không có dự án nào"}),c.jsx("p",{className:"text-base text-gray-500 max-w-md",children:f?"Không có task nào đang thực hiện trong dự án này":"Không có dự án nào đang thực hiện"})]})}):c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsx("div",{className:"flex flex-col items-center",children:c.jsx(x,{})}),c.jsx("div",{className:"space-y-4",children:Object.entries(p).map(([w,_])=>_.projects.length>0&&c.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[c.jsxs("button",{onClick:()=>u(w),className:"w-full px-4 py-3 bg-gray-50 hover:bg-gray-100 transition-colors flex items-center justify-between border-l-4",style:{borderLeftColor:_.color},children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-3 h-3 rounded-full mr-3",style:{backgroundColor:_.color}}),c.jsxs("h4",{className:"font-semibold text-gray-800",children:[_.label," (",_.projects.length,")"]})]}),c.jsx("div",{className:"flex items-center",children:c.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform duration-200 ${s===w?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),c.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${s===w?"max-h-96":"max-h-0"}`,children:c.jsx("div",{className:"p-4 space-y-2 max-h-80 overflow-y-auto",children:_.projects.map(S=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md hover:bg-gray-100 transition-colors",children:[c.jsx("div",{className:"flex-1 min-w-0",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:f?S.subject:S.project_name}),c.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ml-2 flex-shrink-0 ${S.priority==="Urgent"?"bg-red-100 text-red-800":S.priority==="High"?"bg-orange-100 text-orange-800":S.priority==="Medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:S.priority})]})}),c.jsx("div",{className:"flex flex-col items-end ml-3",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-12 bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(f?S.progress||0:S.percent_complete||0,100)}%`,backgroundColor:(()=>{const N=f?S.progress||0:S.percent_complete||0;return N>=100?"#22c55e":N>=70?"#3b82f6":N>=30?"#f59e0b":"#ef4444"})()}})}),c.jsxs("span",{className:"text-xs font-semibold text-gray-600 min-w-[35px] text-right",children:[f?S.progress||0:S.percent_complete||0,"%"]})]})})]},S.name))})})]},w))})]})})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function dd(e){return e+.5|0}const Ci=(e,t,n)=>Math.max(Math.min(e,n),t);function Au(e){return Ci(dd(e*2.55),0,255)}function Ai(e){return Ci(dd(e*255),0,255)}function Fa(e){return Ci(dd(e/2.55)/100,0,1)}function i1(e){return Ci(dd(e*100),0,100)}const br={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ix=[..."0123456789ABCDEF"],j6=e=>ix[e&15],S6=e=>ix[(e&240)>>4]+ix[e&15],Vf=e=>(e&240)>>4===(e&15),N6=e=>Vf(e.r)&&Vf(e.g)&&Vf(e.b)&&Vf(e.a);function E6(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&br[e[1]]*17,g:255&br[e[2]]*17,b:255&br[e[3]]*17,a:t===5?br[e[4]]*17:255}:(t===7||t===9)&&(n={r:br[e[1]]<<4|br[e[2]],g:br[e[3]]<<4|br[e[4]],b:br[e[5]]<<4|br[e[6]],a:t===9?br[e[7]]<<4|br[e[8]]:255})),n}const T6=(e,t)=>e<255?t(e):"";function C6(e){var t=N6(e)?j6:S6;return e?"#"+t(e.r)+t(e.g)+t(e.b)+T6(e.a,t):void 0}const k6=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function dE(e,t,n){const s=t*Math.min(n,1-n),a=(i,l=(i+e/30)%12)=>n-s*Math.max(Math.min(l-3,9-l,1),-1);return[a(0),a(8),a(4)]}function O6(e,t,n){const s=(a,i=(a+e/60)%6)=>n-n*t*Math.max(Math.min(i,4-i,1),0);return[s(5),s(3),s(1)]}function A6(e,t,n){const s=dE(e,1,.5);let a;for(t+n>1&&(a=1/(t+n),t*=a,n*=a),a=0;a<3;a++)s[a]*=1-t-n,s[a]+=t;return s}function D6(e,t,n,s,a){return e===a?(t-n)/s+(t<n?6:0):t===a?(n-e)/s+2:(e-t)/s+4}function yy(e){const n=e.r/255,s=e.g/255,a=e.b/255,i=Math.max(n,s,a),l=Math.min(n,s,a),u=(i+l)/2;let f,h,p;return i!==l&&(p=i-l,h=u>.5?p/(2-i-l):p/(i+l),f=D6(n,s,a,p,i),f=f*60+.5),[f|0,h||0,u]}function by(e,t,n,s){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,s)).map(Ai)}function vy(e,t,n){return by(dE,e,t,n)}function R6(e,t,n){return by(A6,e,t,n)}function M6(e,t,n){return by(O6,e,t,n)}function fE(e){return(e%360+360)%360}function P6(e){const t=k6.exec(e);let n=255,s;if(!t)return;t[5]!==s&&(n=t[6]?Au(+t[5]):Ai(+t[5]));const a=fE(+t[2]),i=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?s=R6(a,i,l):t[1]==="hsv"?s=M6(a,i,l):s=vy(a,i,l),{r:s[0],g:s[1],b:s[2],a:n}}function L6(e,t){var n=yy(e);n[0]=fE(n[0]+t),n=vy(n),e.r=n[0],e.g=n[1],e.b=n[2]}function z6(e){if(!e)return;const t=yy(e),n=t[0],s=i1(t[1]),a=i1(t[2]);return e.a<255?`hsla(${n}, ${s}%, ${a}%, ${Fa(e.a)})`:`hsl(${n}, ${s}%, ${a}%)`}const o1={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},l1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function U6(){const e={},t=Object.keys(l1),n=Object.keys(o1);let s,a,i,l,u;for(s=0;s<t.length;s++){for(l=u=t[s],a=0;a<n.length;a++)i=n[a],u=u.replace(i,o1[i]);i=parseInt(l1[l],16),e[u]=[i>>16&255,i>>8&255,i&255]}return e}let If;function B6(e){If||(If=U6(),If.transparent=[0,0,0,0]);const t=If[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const F6=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function $6(e){const t=F6.exec(e);let n=255,s,a,i;if(t){if(t[7]!==s){const l=+t[7];n=t[8]?Au(l):Ci(l*255,0,255)}return s=+t[1],a=+t[3],i=+t[5],s=255&(t[2]?Au(s):Ci(s,0,255)),a=255&(t[4]?Au(a):Ci(a,0,255)),i=255&(t[6]?Au(i):Ci(i,0,255)),{r:s,g:a,b:i,a:n}}}function H6(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Fa(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const a0=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Pl=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function V6(e,t,n){const s=Pl(Fa(e.r)),a=Pl(Fa(e.g)),i=Pl(Fa(e.b));return{r:Ai(a0(s+n*(Pl(Fa(t.r))-s))),g:Ai(a0(a+n*(Pl(Fa(t.g))-a))),b:Ai(a0(i+n*(Pl(Fa(t.b))-i))),a:e.a+n*(t.a-e.a)}}function qf(e,t,n){if(e){let s=yy(e);s[t]=Math.max(0,Math.min(s[t]+s[t]*n,t===0?360:1)),s=vy(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function hE(e,t){return e&&Object.assign(t||{},e)}function c1(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Ai(e[3]))):(t=hE(e,{r:0,g:0,b:0,a:1}),t.a=Ai(t.a)),t}function I6(e){return e.charAt(0)==="r"?$6(e):P6(e)}class Gu{constructor(t){if(t instanceof Gu)return t;const n=typeof t;let s;n==="object"?s=c1(t):n==="string"&&(s=E6(t)||B6(t)||I6(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=hE(this._rgb);return t&&(t.a=Fa(t.a)),t}set rgb(t){this._rgb=c1(t)}rgbString(){return this._valid?H6(this._rgb):void 0}hexString(){return this._valid?C6(this._rgb):void 0}hslString(){return this._valid?z6(this._rgb):void 0}mix(t,n){if(t){const s=this.rgb,a=t.rgb;let i;const l=n===i?.5:n,u=2*l-1,f=s.a-a.a,h=((u*f===-1?u:(u+f)/(1+u*f))+1)/2;i=1-h,s.r=255&h*s.r+i*a.r+.5,s.g=255&h*s.g+i*a.g+.5,s.b=255&h*s.b+i*a.b+.5,s.a=l*s.a+(1-l)*a.a,this.rgb=s}return this}interpolate(t,n){return t&&(this._rgb=V6(this._rgb,t._rgb,n)),this}clone(){return new Gu(this.rgb)}alpha(t){return this._rgb.a=Ai(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=dd(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return qf(this._rgb,2,t),this}darken(t){return qf(this._rgb,2,-t),this}saturate(t){return qf(this._rgb,1,t),this}desaturate(t){return qf(this._rgb,1,-t),this}rotate(t){return L6(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function La(){}const q6=(()=>{let e=0;return()=>e++})();function gn(e){return e==null}function rs(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function en(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Er(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function ta(e,t){return Er(e)?e:t}function Jt(e,t){return typeof e=="undefined"?t:e}const W6=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,mE=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function wn(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function on(e,t,n,s){let a,i,l;if(rs(e))for(i=e.length,a=0;a<i;a++)t.call(n,e[a],a);else if(en(e))for(l=Object.keys(e),i=l.length,a=0;a<i;a++)t.call(n,e[l[a]],l[a])}function Bh(e,t){let n,s,a,i;if(!e||!t||e.length!==t.length)return!1;for(n=0,s=e.length;n<s;++n)if(a=e[n],i=t[n],a.datasetIndex!==i.datasetIndex||a.index!==i.index)return!1;return!0}function Fh(e){if(rs(e))return e.map(Fh);if(en(e)){const t=Object.create(null),n=Object.keys(e),s=n.length;let a=0;for(;a<s;++a)t[n[a]]=Fh(e[n[a]]);return t}return e}function pE(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function Y6(e,t,n,s){if(!pE(e))return;const a=t[e],i=n[e];en(a)&&en(i)?Ku(a,i,s):t[e]=Fh(i)}function Ku(e,t,n){const s=rs(t)?t:[t],a=s.length;if(!en(e))return e;n=n||{};const i=n.merger||Y6;let l;for(let u=0;u<a;++u){if(l=s[u],!en(l))continue;const f=Object.keys(l);for(let h=0,p=f.length;h<p;++h)i(f[h],e,l,n)}return e}function Lu(e,t){return Ku(e,t,{merger:X6})}function X6(e,t,n){if(!pE(e))return;const s=t[e],a=n[e];en(s)&&en(a)?Lu(s,a):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Fh(a))}const u1={"":e=>e,x:e=>e.x,y:e=>e.y};function G6(e){const t=e.split("."),n=[];let s="";for(const a of t)s+=a,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function K6(e){const t=G6(e);return n=>{for(const s of t){if(s==="")break;n=n&&n[s]}return n}}function zo(e,t){return(u1[t]||(u1[t]=K6(t)))(e)}function wy(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Qu=e=>typeof e!="undefined",Ui=e=>typeof e=="function",d1=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function Q6(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const pn=Math.PI,Kn=2*pn,$h=Number.POSITIVE_INFINITY,Z6=pn/180,as=pn/2,yo=pn/4,f1=pn*2/3,gE=Math.log10,Di=Math.sign;function jh(e,t,n){return Math.abs(e-t)<n}function h1(e){const t=Math.round(e);e=jh(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(gE(e))),s=e/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function J6(e){const t=[],n=Math.sqrt(e);let s;for(s=1;s<n;s++)e%s===0&&(t.push(s),t.push(e/s));return n===(n|0)&&t.push(n),t.sort((a,i)=>a-i).pop(),t}function ez(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Hh(e){return!ez(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function tz(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function nz(e,t,n){let s,a,i;for(s=0,a=e.length;s<a;s++)i=e[s][n],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function Va(e){return e*(pn/180)}function sz(e){return e*(180/pn)}function m1(e){if(!Er(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function xE(e,t){const n=t.x-e.x,s=t.y-e.y,a=Math.sqrt(n*n+s*s);let i=Math.atan2(s,n);return i<-.5*pn&&(i+=Kn),{angle:i,distance:a}}function rz(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function ra(e){return(e%Kn+Kn)%Kn}function Vh(e,t,n,s){const a=ra(e),i=ra(t),l=ra(n),u=ra(i-a),f=ra(l-a),h=ra(a-i),p=ra(a-l);return a===i||a===l||s&&i===l||u>f&&h<p}function Ws(e,t,n){return Math.max(t,Math.min(n,e))}function az(e){return Ws(e,-32768,32767)}function ko(e,t,n,s=1e-6){return e>=Math.min(t,n)-s&&e<=Math.max(t,n)+s}function _y(e,t,n){n=n||(l=>e[l]<t);let s=e.length-1,a=0,i;for(;s-a>1;)i=a+s>>1,n(i)?a=i:s=i;return{lo:a,hi:s}}const ox=(e,t,n,s)=>_y(e,n,s?a=>{const i=e[a][t];return i<n||i===n&&e[a+1][t]===n}:a=>e[a][t]<n),iz=(e,t,n)=>_y(e,n,s=>e[s][t]>=n);function oz(e,t,n){let s=0,a=e.length;for(;s<a&&e[s]<t;)s++;for(;a>s&&e[a-1]>n;)a--;return s>0||a<e.length?e.slice(s,a):e}const yE=["push","pop","shift","splice","unshift"];function lz(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),yE.forEach(n=>{const s="_onData"+wy(n),a=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...i){const l=a.apply(this,i);return e._chartjs.listeners.forEach(u=>{typeof u[s]=="function"&&u[s](...i)}),l}})})}function p1(e,t){const n=e._chartjs;if(!n)return;const s=n.listeners,a=s.indexOf(t);a!==-1&&s.splice(a,1),!(s.length>0)&&(yE.forEach(i=>{delete e[i]}),delete e._chartjs)}function bE(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const vE=function(){return typeof window=="undefined"?function(e){return e()}:window.requestAnimationFrame}();function wE(e,t){let n=[],s=!1;return function(...a){n=a,s||(s=!0,vE.call(window,()=>{s=!1,e.apply(t,n)}))}}function cz(e,t){let n;return function(...s){return t?(clearTimeout(n),n=setTimeout(e,t,s)):e.apply(this,s),t}}const jy=e=>e==="start"?"left":e==="end"?"right":"center",Ts=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,uz=(e,t,n,s)=>e===(s?"left":"right")?n:e==="center"?(t+n)/2:t,Wf=e=>e===0||e===1,g1=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Kn/n)),x1=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Kn/n)+1,zu={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*as)+1,easeOutSine:e=>Math.sin(e*as),easeInOutSine:e=>-.5*(Math.cos(pn*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Wf(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Wf(e)?e:g1(e,.075,.3),easeOutElastic:e=>Wf(e)?e:x1(e,.075,.3),easeInOutElastic(e){return Wf(e)?e:e<.5?.5*g1(e*2,.1125,.45):.5+.5*x1(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-zu.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?zu.easeInBounce(e*2)*.5:zu.easeOutBounce(e*2-1)*.5+.5};function _E(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function y1(e){return _E(e)?e:new Gu(e)}function i0(e){return _E(e)?e:new Gu(e).saturate(.5).darken(.1).hexString()}const dz=["x","y","borderWidth","radius","tension"],fz=["color","borderColor","backgroundColor"];function hz(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:fz},numbers:{type:"number",properties:dz}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function mz(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const b1=new Map;function pz(e,t){t=t||{};const n=e+JSON.stringify(t);let s=b1.get(n);return s||(s=new Intl.NumberFormat(e,t),b1.set(n,s)),s}function Sy(e,t,n){return pz(t,n).format(e)}const gz={values(e){return rs(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const s=this.chart.options.locale;let a,i=e;if(n.length>1){const h=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(h<1e-4||h>1e15)&&(a="scientific"),i=xz(e,n)}const l=gE(Math.abs(i)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),f={notation:a,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(f,this.options.ticks.format),Sy(e,s,f)}};function xz(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var jE={formatters:gz};function yz(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:jE.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Uo=Object.create(null),lx=Object.create(null);function Uu(e,t){if(!t)return e;const n=t.split(".");for(let s=0,a=n.length;s<a;++s){const i=n[s];e=e[i]||(e[i]=Object.create(null))}return e}function o0(e,t,n){return typeof t=="string"?Ku(Uu(e,t),n):Ku(Uu(e,""),t)}class bz{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,a)=>i0(a.backgroundColor),this.hoverBorderColor=(s,a)=>i0(a.borderColor),this.hoverColor=(s,a)=>i0(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return o0(this,t,n)}get(t){return Uu(this,t)}describe(t,n){return o0(lx,t,n)}override(t,n){return o0(Uo,t,n)}route(t,n,s,a){const i=Uu(this,t),l=Uu(this,s),u="_"+n;Object.defineProperties(i,{[u]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const f=this[u],h=l[a];return en(f)?Object.assign({},h,f):Jt(f,h)},set(f){this[u]=f}}})}apply(t){t.forEach(n=>n(this))}}var $n=new bz({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[hz,mz,yz]);function vz(e){return!e||gn(e.size)||gn(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function v1(e,t,n,s,a){let i=t[a];return i||(i=t[a]=e.measureText(a).width,n.push(a)),i>s&&(s=i),s}function bo(e,t,n){const s=e.currentDevicePixelRatio,a=n!==0?Math.max(n/2,.5):0;return Math.round((t-a)*s)/s+a}function w1(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function _1(e,t,n,s){SE(e,t,n,s,null)}function SE(e,t,n,s,a){let i,l,u,f,h,p,g,b;const x=t.pointStyle,w=t.rotation,_=t.radius;let S=(w||0)*Z6;if(x&&typeof x=="object"&&(i=x.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){e.save(),e.translate(n,s),e.rotate(S),e.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),e.restore();return}if(!(isNaN(_)||_<=0)){switch(e.beginPath(),x){default:a?e.ellipse(n,s,a/2,_,0,0,Kn):e.arc(n,s,_,0,Kn),e.closePath();break;case"triangle":p=a?a/2:_,e.moveTo(n+Math.sin(S)*p,s-Math.cos(S)*_),S+=f1,e.lineTo(n+Math.sin(S)*p,s-Math.cos(S)*_),S+=f1,e.lineTo(n+Math.sin(S)*p,s-Math.cos(S)*_),e.closePath();break;case"rectRounded":h=_*.516,f=_-h,l=Math.cos(S+yo)*f,g=Math.cos(S+yo)*(a?a/2-h:f),u=Math.sin(S+yo)*f,b=Math.sin(S+yo)*(a?a/2-h:f),e.arc(n-g,s-u,h,S-pn,S-as),e.arc(n+b,s-l,h,S-as,S),e.arc(n+g,s+u,h,S,S+as),e.arc(n-b,s+l,h,S+as,S+pn),e.closePath();break;case"rect":if(!w){f=Math.SQRT1_2*_,p=a?a/2:f,e.rect(n-p,s-f,2*p,2*f);break}S+=yo;case"rectRot":g=Math.cos(S)*(a?a/2:_),l=Math.cos(S)*_,u=Math.sin(S)*_,b=Math.sin(S)*(a?a/2:_),e.moveTo(n-g,s-u),e.lineTo(n+b,s-l),e.lineTo(n+g,s+u),e.lineTo(n-b,s+l),e.closePath();break;case"crossRot":S+=yo;case"cross":g=Math.cos(S)*(a?a/2:_),l=Math.cos(S)*_,u=Math.sin(S)*_,b=Math.sin(S)*(a?a/2:_),e.moveTo(n-g,s-u),e.lineTo(n+g,s+u),e.moveTo(n+b,s-l),e.lineTo(n-b,s+l);break;case"star":g=Math.cos(S)*(a?a/2:_),l=Math.cos(S)*_,u=Math.sin(S)*_,b=Math.sin(S)*(a?a/2:_),e.moveTo(n-g,s-u),e.lineTo(n+g,s+u),e.moveTo(n+b,s-l),e.lineTo(n-b,s+l),S+=yo,g=Math.cos(S)*(a?a/2:_),l=Math.cos(S)*_,u=Math.sin(S)*_,b=Math.sin(S)*(a?a/2:_),e.moveTo(n-g,s-u),e.lineTo(n+g,s+u),e.moveTo(n+b,s-l),e.lineTo(n-b,s+l);break;case"line":l=a?a/2:Math.cos(S)*_,u=Math.sin(S)*_,e.moveTo(n-l,s-u),e.lineTo(n+l,s+u);break;case"dash":e.moveTo(n,s),e.lineTo(n+Math.cos(S)*(a?a/2:_),s+Math.sin(S)*_);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function NE(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Ny(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Ey(e){e.restore()}function wz(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),gn(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function _z(e,t,n,s,a){if(a.strikethrough||a.underline){const i=e.measureText(s),l=t-i.actualBoundingBoxLeft,u=t+i.actualBoundingBoxRight,f=n-i.actualBoundingBoxAscent,h=n+i.actualBoundingBoxDescent,p=a.strikethrough?(f+h)/2:h;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=a.decorationWidth||2,e.moveTo(l,p),e.lineTo(u,p),e.stroke()}}function jz(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Zu(e,t,n,s,a,i={}){const l=rs(t)?t:[t],u=i.strokeWidth>0&&i.strokeColor!=="";let f,h;for(e.save(),e.font=a.string,wz(e,i),f=0;f<l.length;++f)h=l[f],i.backdrop&&jz(e,i.backdrop),u&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),gn(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(h,n,s,i.maxWidth)),e.fillText(h,n,s,i.maxWidth),_z(e,n,s,h,i),s+=Number(a.lineHeight);e.restore()}function Ih(e,t){const{x:n,y:s,w:a,h:i,radius:l}=t;e.arc(n+l.topLeft,s+l.topLeft,l.topLeft,1.5*pn,pn,!0),e.lineTo(n,s+i-l.bottomLeft),e.arc(n+l.bottomLeft,s+i-l.bottomLeft,l.bottomLeft,pn,as,!0),e.lineTo(n+a-l.bottomRight,s+i),e.arc(n+a-l.bottomRight,s+i-l.bottomRight,l.bottomRight,as,0,!0),e.lineTo(n+a,s+l.topRight),e.arc(n+a-l.topRight,s+l.topRight,l.topRight,0,-as,!0),e.lineTo(n+l.topLeft,s)}const Sz=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Nz=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Ez(e,t){const n=(""+e).match(Sz);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const Tz=e=>+e||0;function Ty(e,t){const n={},s=en(t),a=s?Object.keys(t):t,i=en(e)?s?l=>Jt(e[l],e[t[l]]):l=>e[l]:()=>e;for(const l of a)n[l]=Tz(i(l));return n}function EE(e){return Ty(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Xl(e){return Ty(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Tr(e){const t=EE(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ks(e,t){e=e||{},t=t||$n.font;let n=Jt(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let s=Jt(e.style,t.style);s&&!(""+s).match(Nz)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const a={family:Jt(e.family,t.family),lineHeight:Ez(Jt(e.lineHeight,t.lineHeight),n),size:n,style:s,weight:Jt(e.weight,t.weight),string:""};return a.string=vz(a),a}function Yf(e,t,n,s){let a,i,l;for(a=0,i=e.length;a<i;++a)if(l=e[a],l!==void 0&&l!==void 0)return l}function Cz(e,t,n){const{min:s,max:a}=e,i=mE(t,(a-s)/2),l=(u,f)=>n&&u===0?0:u+f;return{min:l(s,-Math.abs(i)),max:l(a,i)}}function cc(e,t){return Object.assign(Object.create(e),t)}function Cy(e,t=[""],n,s,a=()=>e[0]){const i=n||e;typeof s=="undefined"&&(s=OE("_fallback",e));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:s,_getTarget:a,override:u=>Cy([u,...e],t,i,s)};return new Proxy(l,{deleteProperty(u,f){return delete u[f],delete u._keys,delete e[0][f],!0},get(u,f){return CE(u,f,()=>Lz(f,t,e,u))},getOwnPropertyDescriptor(u,f){return Reflect.getOwnPropertyDescriptor(u._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(u,f){return S1(u).includes(f)},ownKeys(u){return S1(u)},set(u,f,h){const p=u._storage||(u._storage=a());return u[f]=p[f]=h,delete u._keys,!0}})}function ec(e,t,n,s){const a={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:TE(e,s),setContext:i=>ec(e,i,n,s),override:i=>ec(e.override(i),t,n,s)};return new Proxy(a,{deleteProperty(i,l){return delete i[l],delete e[l],!0},get(i,l,u){return CE(i,l,()=>Oz(i,l,u))},getOwnPropertyDescriptor(i,l){return i._descriptors.allKeys?Reflect.has(e,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,l)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(i,l){return Reflect.has(e,l)},ownKeys(){return Reflect.ownKeys(e)},set(i,l,u){return e[l]=u,delete i[l],!0}})}function TE(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:s=t.indexable,_allKeys:a=t.allKeys}=e;return{allKeys:a,scriptable:n,indexable:s,isScriptable:Ui(n)?n:()=>n,isIndexable:Ui(s)?s:()=>s}}const kz=(e,t)=>e?e+wy(t):t,ky=(e,t)=>en(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function CE(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const s=n();return e[t]=s,s}function Oz(e,t,n){const{_proxy:s,_context:a,_subProxy:i,_descriptors:l}=e;let u=s[t];return Ui(u)&&l.isScriptable(t)&&(u=Az(t,u,e,n)),rs(u)&&u.length&&(u=Dz(t,u,e,l.isIndexable)),ky(t,u)&&(u=ec(u,a,i&&i[t],l)),u}function Az(e,t,n,s){const{_proxy:a,_context:i,_subProxy:l,_stack:u}=n;if(u.has(e))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+e);u.add(e);let f=t(i,l||s);return u.delete(e),ky(e,f)&&(f=Oy(a._scopes,a,e,f)),f}function Dz(e,t,n,s){const{_proxy:a,_context:i,_subProxy:l,_descriptors:u}=n;if(typeof i.index!="undefined"&&s(e))return t[i.index%t.length];if(en(t[0])){const f=t,h=a._scopes.filter(p=>p!==f);t=[];for(const p of f){const g=Oy(h,a,e,p);t.push(ec(g,i,l&&l[e],u))}}return t}function kE(e,t,n){return Ui(e)?e(t,n):e}const Rz=(e,t)=>e===!0?t:typeof e=="string"?zo(t,e):void 0;function Mz(e,t,n,s,a){for(const i of t){const l=Rz(n,i);if(l){e.add(l);const u=kE(l._fallback,n,a);if(typeof u!="undefined"&&u!==n&&u!==s)return u}else if(l===!1&&typeof s!="undefined"&&n!==s)return null}return!1}function Oy(e,t,n,s){const a=t._rootScopes,i=kE(t._fallback,n,s),l=[...e,...a],u=new Set;u.add(s);let f=j1(u,l,n,i||n,s);return f===null||typeof i!="undefined"&&i!==n&&(f=j1(u,l,i,f,s),f===null)?!1:Cy(Array.from(u),[""],a,i,()=>Pz(t,n,s))}function j1(e,t,n,s,a){for(;n;)n=Mz(e,t,n,s,a);return n}function Pz(e,t,n){const s=e._getTarget();t in s||(s[t]={});const a=s[t];return rs(a)&&en(n)?n:a||{}}function Lz(e,t,n,s){let a;for(const i of t)if(a=OE(kz(i,e),n),typeof a!="undefined")return ky(e,a)?Oy(n,s,e,a):a}function OE(e,t){for(const n of t){if(!n)continue;const s=n[e];if(typeof s!="undefined")return s}}function S1(e){let t=e._keys;return t||(t=e._keys=zz(e._scopes)),t}function zz(e){const t=new Set;for(const n of e)for(const s of Object.keys(n).filter(a=>!a.startsWith("_")))t.add(s);return Array.from(t)}function Ay(){return typeof window!="undefined"&&typeof document!="undefined"}function Dy(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function qh(e,t,n){let s;return typeof e=="string"?(s=parseInt(e,10),e.indexOf("%")!==-1&&(s=s/100*t.parentNode[n])):s=e,s}const bm=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function Uz(e,t){return bm(e).getPropertyValue(t)}const Bz=["top","right","bottom","left"];function Ao(e,t,n){const s={};n=n?"-"+n:"";for(let a=0;a<4;a++){const i=Bz[a];s[i]=parseFloat(e[t+"-"+i+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const Fz=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function $z(e,t){const n=e.touches,s=n&&n.length?n[0]:e,{offsetX:a,offsetY:i}=s;let l=!1,u,f;if(Fz(a,i,e.target))u=a,f=i;else{const h=t.getBoundingClientRect();u=s.clientX-h.left,f=s.clientY-h.top,l=!0}return{x:u,y:f,box:l}}function _o(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:s}=t,a=bm(n),i=a.boxSizing==="border-box",l=Ao(a,"padding"),u=Ao(a,"border","width"),{x:f,y:h,box:p}=$z(e,n),g=l.left+(p&&u.left),b=l.top+(p&&u.top);let{width:x,height:w}=t;return i&&(x-=l.width+u.width,w-=l.height+u.height),{x:Math.round((f-g)/x*n.width/s),y:Math.round((h-b)/w*n.height/s)}}function Hz(e,t,n){let s,a;if(t===void 0||n===void 0){const i=e&&Dy(e);if(!i)t=e.clientWidth,n=e.clientHeight;else{const l=i.getBoundingClientRect(),u=bm(i),f=Ao(u,"border","width"),h=Ao(u,"padding");t=l.width-h.width-f.width,n=l.height-h.height-f.height,s=qh(u.maxWidth,i,"clientWidth"),a=qh(u.maxHeight,i,"clientHeight")}}return{width:t,height:n,maxWidth:s||$h,maxHeight:a||$h}}const Xf=e=>Math.round(e*10)/10;function Vz(e,t,n,s){const a=bm(e),i=Ao(a,"margin"),l=qh(a.maxWidth,e,"clientWidth")||$h,u=qh(a.maxHeight,e,"clientHeight")||$h,f=Hz(e,t,n);let{width:h,height:p}=f;if(a.boxSizing==="content-box"){const b=Ao(a,"border","width"),x=Ao(a,"padding");h-=x.width+b.width,p-=x.height+b.height}return h=Math.max(0,h-i.width),p=Math.max(0,s?h/s:p-i.height),h=Xf(Math.min(h,l,f.maxWidth)),p=Xf(Math.min(p,u,f.maxHeight)),h&&!p&&(p=Xf(h/2)),(t!==void 0||n!==void 0)&&s&&f.height&&p>f.height&&(p=f.height,h=Xf(Math.floor(p*s))),{width:h,height:p}}function N1(e,t,n){const s=t||1,a=Math.floor(e.height*s),i=Math.floor(e.width*s);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const l=e.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${e.height}px`,l.style.width=`${e.width}px`),e.currentDevicePixelRatio!==s||l.height!==a||l.width!==i?(e.currentDevicePixelRatio=s,l.height=a,l.width=i,e.ctx.setTransform(s,0,0,s,0,0),!0):!1}const Iz=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Ay()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(t){}return e}();function E1(e,t){const n=Uz(e,t),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}const qz=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},Wz=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Gl(e,t,n){return e?qz(t,n):Wz()}function AE(e,t){let n,s;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=s)}function DE(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Gf(e,t,n){return e.options.clip?e[n]:t[n]}function Yz(e,t){const{xScale:n,yScale:s}=e;return n&&s?{left:Gf(n,t,"left"),right:Gf(n,t,"right"),top:Gf(s,t,"top"),bottom:Gf(s,t,"bottom")}:t}function Xz(e,t){const n=t._clip;if(n.disabled)return!1;const s=Yz(t,e.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Gz{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,s,a){const i=n.listeners[a],l=n.duration;i.forEach(u=>u({chart:t,initial:n.initial,numSteps:l,currentStep:Math.min(s-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=vE.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((s,a)=>{if(!s.running||!s.items.length)return;const i=s.items;let l=i.length-1,u=!1,f;for(;l>=0;--l)f=i[l],f._active?(f._total>s.duration&&(s.duration=f._total),f.tick(t),u=!0):(i[l]=i[i.length-1],i.pop());u&&(a.draw(),this._notify(a,s,t,"progress")),i.length||(s.running=!1,this._notify(a,s,t,"complete"),s.initial=!1),n+=i.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let s=n.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,s)),s}listen(t,n,s){this._getAnims(t).listeners[n].push(s)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,a)=>Math.max(s,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const s=n.items;let a=s.length-1;for(;a>=0;--a)s[a].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ua=new Gz;const T1="transparent",Kz={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const s=y1(e||T1),a=s.valid&&y1(t||T1);return a&&a.valid?a.mix(s,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class Qz{constructor(t,n,s,a){const i=n[s];a=Yf([t.to,a,i,t.from]);const l=Yf([t.from,i,a]);this._active=!0,this._fn=t.fn||Kz[t.type||typeof l],this._easing=zu[t.easing]||zu.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=s,this._from=l,this._to=a,this._promises=void 0}active(){return this._active}update(t,n,s){if(this._active){this._notify(!1);const a=this._target[this._prop],i=s-this._start,l=this._duration-i;this._start=s,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=Yf([t.to,n,a,t.from]),this._from=Yf([t.from,a,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,s=this._duration,a=this._prop,i=this._from,l=this._loop,u=this._to;let f;if(this._active=i!==u&&(l||n<s),!this._active){this._target[a]=u,this._notify(!0);return}if(n<0){this._target[a]=i;return}f=n/s%2,f=l&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[a]=this._fn(i,u,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,s)=>{t.push({res:n,rej:s})})}_notify(t){const n=t?"res":"rej",s=this._promises||[];for(let a=0;a<s.length;a++)s[a][n]()}}class RE{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!en(t))return;const n=Object.keys($n.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{const i=t[a];if(!en(i))return;const l={};for(const u of n)l[u]=i[u];(rs(i.properties)&&i.properties||[a]).forEach(u=>{(u===a||!s.has(u))&&s.set(u,l)})})}_animateOptions(t,n){const s=n.options,a=Jz(t,s);if(!a)return[];const i=this._createAnimations(a,s);return s.$shared&&Zz(t.options.$animations,s).then(()=>{t.options=s},()=>{}),i}_createAnimations(t,n){const s=this._properties,a=[],i=t.$animations||(t.$animations={}),l=Object.keys(n),u=Date.now();let f;for(f=l.length-1;f>=0;--f){const h=l[f];if(h.charAt(0)==="$")continue;if(h==="options"){a.push(...this._animateOptions(t,n));continue}const p=n[h];let g=i[h];const b=s.get(h);if(g)if(b&&g.active()){g.update(b,p,u);continue}else g.cancel();if(!b||!b.duration){t[h]=p;continue}i[h]=g=new Qz(b,t,h,p),a.push(g)}return a}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const s=this._createAnimations(t,n);if(s.length)return Ua.add(this._chart,s),!0}}function Zz(e,t){const n=[],s=Object.keys(t);for(let a=0;a<s.length;a++){const i=e[s[a]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function Jz(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function C1(e,t){const n=e&&e.options||{},s=n.reverse,a=n.min===void 0?t:0,i=n.max===void 0?t:0;return{start:s?i:a,end:s?a:i}}function eU(e,t,n){if(n===!1)return!1;const s=C1(e,n),a=C1(t,n);return{top:a.end,right:s.end,bottom:a.start,left:s.start}}function tU(e){let t,n,s,a;return en(e)?(t=e.top,n=e.right,s=e.bottom,a=e.left):t=n=s=a=e,{top:t,right:n,bottom:s,left:a,disabled:e===!1}}function ME(e,t){const n=[],s=e._getSortedDatasetMetas(t);let a,i;for(a=0,i=s.length;a<i;++a)n.push(s[a].index);return n}function k1(e,t,n,s={}){const a=e.keys,i=s.mode==="single";let l,u,f,h;if(t===null)return;let p=!1;for(l=0,u=a.length;l<u;++l){if(f=+a[l],f===n){if(p=!0,s.all)continue;break}h=e.values[f],Er(h)&&(i||t===0||Di(t)===Di(h))&&(t+=h)}return!p&&!s.all?0:t}function nU(e,t){const{iScale:n,vScale:s}=t,a=n.axis==="x"?"x":"y",i=s.axis==="x"?"x":"y",l=Object.keys(e),u=new Array(l.length);let f,h,p;for(f=0,h=l.length;f<h;++f)p=l[f],u[f]={[a]:p,[i]:e[p]};return u}function l0(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function sU(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function rU(e){const{min:t,max:n,minDefined:s,maxDefined:a}=e.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:a?n:Number.POSITIVE_INFINITY}}function aU(e,t,n){const s=e[t]||(e[t]={});return s[n]||(s[n]={})}function O1(e,t,n,s){for(const a of t.getMatchingVisibleMetas(s).reverse()){const i=e[a.index];if(n&&i>0||!n&&i<0)return a.index}return null}function A1(e,t){const{chart:n,_cachedMeta:s}=e,a=n._stacks||(n._stacks={}),{iScale:i,vScale:l,index:u}=s,f=i.axis,h=l.axis,p=sU(i,l,s),g=t.length;let b;for(let x=0;x<g;++x){const w=t[x],{[f]:_,[h]:S}=w,N=w._stacks||(w._stacks={});b=N[h]=aU(a,p,_),b[u]=S,b._top=O1(b,l,!0,s.type),b._bottom=O1(b,l,!1,s.type);const R=b._visualValues||(b._visualValues={});R[u]=S}}function c0(e,t){const n=e.scales;return Object.keys(n).filter(s=>n[s].axis===t).shift()}function iU(e,t){return cc(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function oU(e,t,n){return cc(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function yu(e,t){const n=e.controller.index,s=e.vScale&&e.vScale.axis;if(s){t=t||e._parsed;for(const a of t){const i=a._stacks;if(!i||i[s]===void 0||i[s][n]===void 0)return;delete i[s][n],i[s]._visualValues!==void 0&&i[s]._visualValues[n]!==void 0&&delete i[s]._visualValues[n]}}}const u0=e=>e==="reset"||e==="none",D1=(e,t)=>t?e:Object.assign({},e),lU=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:ME(n,!0),values:null};class Kl{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=l0(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&yu(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,s=this.getDataset(),a=(g,b,x,w)=>g==="x"?b:g==="r"?w:x,i=n.xAxisID=Jt(s.xAxisID,c0(t,"x")),l=n.yAxisID=Jt(s.yAxisID,c0(t,"y")),u=n.rAxisID=Jt(s.rAxisID,c0(t,"r")),f=n.indexAxis,h=n.iAxisID=a(f,i,l,u),p=n.vAxisID=a(f,l,i,u);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(u),n.iScale=this.getScaleForId(h),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&p1(this._data,this),t._stacked&&yu(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),s=this._data;if(en(n)){const a=this._cachedMeta;this._data=nU(n,a)}else if(s!==n){if(s){p1(s,this);const a=this._cachedMeta;yu(a),a._parsed=[]}n&&Object.isExtensible(n)&&lz(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,s=this.getDataset();let a=!1;this._dataCheck();const i=n._stacked;n._stacked=l0(n.vScale,n),n.stack!==s.stack&&(a=!0,yu(n),n.stack=s.stack),this._resyncElements(t),(a||i!==n._stacked)&&(A1(this,n._parsed),n._stacked=l0(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:s,_data:a}=this,{iScale:i,_stacked:l}=s,u=i.axis;let f=t===0&&n===a.length?!0:s._sorted,h=t>0&&s._parsed[t-1],p,g,b;if(this._parsing===!1)s._parsed=a,s._sorted=!0,b=a;else{rs(a[t])?b=this.parseArrayData(s,a,t,n):en(a[t])?b=this.parseObjectData(s,a,t,n):b=this.parsePrimitiveData(s,a,t,n);const x=()=>g[u]===null||h&&g[u]<h[u];for(p=0;p<n;++p)s._parsed[p+t]=g=b[p],f&&(x()&&(f=!1),h=g);s._sorted=f}l&&A1(this,b)}parsePrimitiveData(t,n,s,a){const{iScale:i,vScale:l}=t,u=i.axis,f=l.axis,h=i.getLabels(),p=i===l,g=new Array(a);let b,x,w;for(b=0,x=a;b<x;++b)w=b+s,g[b]={[u]:p||i.parse(h[w],w),[f]:l.parse(n[w],w)};return g}parseArrayData(t,n,s,a){const{xScale:i,yScale:l}=t,u=new Array(a);let f,h,p,g;for(f=0,h=a;f<h;++f)p=f+s,g=n[p],u[f]={x:i.parse(g[0],p),y:l.parse(g[1],p)};return u}parseObjectData(t,n,s,a){const{xScale:i,yScale:l}=t,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,h=new Array(a);let p,g,b,x;for(p=0,g=a;p<g;++p)b=p+s,x=n[b],h[p]={x:i.parse(zo(x,u),b),y:l.parse(zo(x,f),b)};return h}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,s){const a=this.chart,i=this._cachedMeta,l=n[t.axis],u={keys:ME(a,!0),values:n._stacks[t.axis]._visualValues};return k1(u,l,i.index,{mode:s})}updateRangeFromParsed(t,n,s,a){const i=s[n.axis];let l=i===null?NaN:i;const u=a&&s._stacks[n.axis];a&&u&&(a.values=u,l=k1(a,i,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,n){const s=this._cachedMeta,a=s._parsed,i=s._sorted&&t===s.iScale,l=a.length,u=this._getOtherScale(t),f=lU(n,s,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:g}=rU(u);let b,x;function w(){x=a[b];const _=x[u.axis];return!Er(x[t.axis])||p>_||g<_}for(b=0;b<l&&!(!w()&&(this.updateRangeFromParsed(h,t,x,f),i));++b);if(i){for(b=l-1;b>=0;--b)if(!w()){this.updateRangeFromParsed(h,t,x,f);break}}return h}getAllParsedValues(t){const n=this._cachedMeta._parsed,s=[];let a,i,l;for(a=0,i=n.length;a<i;++a)l=n[a][t.axis],Er(l)&&s.push(l);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,s=n.iScale,a=n.vScale,i=this.getParsed(t);return{label:s?""+s.getLabelForValue(i[s.axis]):"",value:a?""+a.getLabelForValue(i[a.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=tU(Jt(this.options.clip,eU(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,s=this._cachedMeta,a=s.data||[],i=n.chartArea,l=[],u=this._drawStart||0,f=this._drawCount||a.length-u,h=this.options.drawActiveElementsOnTop;let p;for(s.dataset&&s.dataset.draw(t,i,u,f),p=u;p<u+f;++p){const g=a[p];g.hidden||(g.active&&h?l.push(g):g.draw(t,i))}for(p=0;p<l.length;++p)l[p].draw(t,i)}getStyle(t,n){const s=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,n,s){const a=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];i=l.$context||(l.$context=oU(this.getContext(),t,l)),i.parsed=this.getParsed(t),i.raw=a.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=iU(this.chart.getContext(),this.index)),i.dataset=a,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=s,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",s){const a=n==="active",i=this._cachedDataOpts,l=t+"-"+n,u=i[l],f=this.enableOptionSharing&&Qu(s);if(u)return D1(u,f);const h=this.chart.config,p=h.datasetElementScopeKeys(this._type,t),g=a?[`${t}Hover`,"hover",t,""]:[t,""],b=h.getOptionScopes(this.getDataset(),p),x=Object.keys($n.elements[t]),w=()=>this.getContext(s,a,n),_=h.resolveNamedOptions(b,x,w,g);return _.$shared&&(_.$shared=f,i[l]=Object.freeze(D1(_,f))),_}_resolveAnimations(t,n,s){const a=this.chart,i=this._cachedDataOpts,l=`animation-${n}`,u=i[l];if(u)return u;let f;if(a.options.animation!==!1){const p=this.chart.config,g=p.datasetAnimationScopeKeys(this._type,n),b=p.getOptionScopes(this.getDataset(),g);f=p.createResolver(b,this.getContext(t,s,n))}const h=new RE(a,f&&f.animations);return f&&f._cacheable&&(i[l]=Object.freeze(h)),h}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||u0(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const s=this.resolveDataElementOptions(t,n),a=this._sharedOptions,i=this.getSharedOptions(s),l=this.includeOptions(n,i)||i!==a;return this.updateSharedOptions(i,n,s),{sharedOptions:i,includeOptions:l}}updateElement(t,n,s,a){u0(a)?Object.assign(t,s):this._resolveAnimations(n,a).update(t,s)}updateSharedOptions(t,n,s){t&&!u0(n)&&this._resolveAnimations(void 0,n).update(t,s)}_setStyle(t,n,s,a){t.active=a;const i=this.getStyle(n,a);this._resolveAnimations(n,s,a).update(t,{options:!a&&this.getSharedOptions(i)||i})}removeHoverStyle(t,n,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,n,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,s=this._cachedMeta.data;for(const[u,f,h]of this._syncList)this[u](f,h);this._syncList=[];const a=s.length,i=n.length,l=Math.min(i,a);l&&this.parse(0,l),i>a?this._insertElements(a,i-a,t):i<a&&this._removeElements(i,a-i)}_insertElements(t,n,s=!0){const a=this._cachedMeta,i=a.data,l=t+n;let u;const f=h=>{for(h.length+=n,u=h.length-1;u>=l;u--)h[u]=h[u-n]};for(f(i),u=t;u<l;++u)i[u]=new this.dataElementType;this._parsing&&f(a._parsed),this.parse(t,n),s&&this.updateElements(i,t,n,"reset")}updateElements(t,n,s,a){}_removeElements(t,n){const s=this._cachedMeta;if(this._parsing){const a=s._parsed.splice(t,n);s._stacked&&yu(s,a)}s.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,s,a]=t;this[n](s,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ft(Kl,"defaults",{}),ft(Kl,"datasetElementType",null),ft(Kl,"dataElementType",null);function cU(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let s=[];for(let a=0,i=n.length;a<i;a++)s=s.concat(n[a].controller.getAllParsedValues(e));e._cache.$bar=bE(s.sort((a,i)=>a-i))}return e._cache.$bar}function uU(e){const t=e.iScale,n=cU(t,e.type);let s=t._length,a,i,l,u;const f=()=>{l===32767||l===-32768||(Qu(u)&&(s=Math.min(s,Math.abs(l-u)||s)),u=l)};for(a=0,i=n.length;a<i;++a)l=t.getPixelForValue(n[a]),f();for(u=void 0,a=0,i=t.ticks.length;a<i;++a)l=t.getPixelForTick(a),f();return s}function dU(e,t,n,s){const a=n.barThickness;let i,l;return gn(a)?(i=t.min*n.categoryPercentage,l=n.barPercentage):(i=a*s,l=1),{chunk:i/s,ratio:l,start:t.pixels[e]-i/2}}function fU(e,t,n,s){const a=t.pixels,i=a[e];let l=e>0?a[e-1]:null,u=e<a.length-1?a[e+1]:null;const f=n.categoryPercentage;l===null&&(l=i-(u===null?t.end-t.start:u-i)),u===null&&(u=i+i-l);const h=i-(i-Math.min(l,u))/2*f;return{chunk:Math.abs(u-l)/2*f/s,ratio:n.barPercentage,start:h}}function hU(e,t,n,s){const a=n.parse(e[0],s),i=n.parse(e[1],s),l=Math.min(a,i),u=Math.max(a,i);let f=l,h=u;Math.abs(l)>Math.abs(u)&&(f=u,h=l),t[n.axis]=h,t._custom={barStart:f,barEnd:h,start:a,end:i,min:l,max:u}}function PE(e,t,n,s){return rs(e)?hU(e,t,n,s):t[n.axis]=n.parse(e,s),t}function R1(e,t,n,s){const a=e.iScale,i=e.vScale,l=a.getLabels(),u=a===i,f=[];let h,p,g,b;for(h=n,p=n+s;h<p;++h)b=t[h],g={},g[a.axis]=u||a.parse(l[h],h),f.push(PE(b,g,i,h));return f}function d0(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function mU(e,t,n){return e!==0?Di(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function pU(e){let t,n,s,a,i;return e.horizontal?(t=e.base>e.x,n="left",s="right"):(t=e.base<e.y,n="bottom",s="top"),t?(a="end",i="start"):(a="start",i="end"),{start:n,end:s,reverse:t,top:a,bottom:i}}function gU(e,t,n,s){let a=t.borderSkipped;const i={};if(!a){e.borderSkipped=i;return}if(a===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:u,reverse:f,top:h,bottom:p}=pU(e);a==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===s?a=h:(n._bottom||0)===s?a=p:(i[M1(p,l,u,f)]=!0,a=h)),i[M1(a,l,u,f)]=!0,e.borderSkipped=i}function M1(e,t,n,s){return s?(e=xU(e,t,n),e=P1(e,n,t)):e=P1(e,t,n),e}function xU(e,t,n){return e===t?n:e===n?t:e}function P1(e,t,n){return e==="start"?t:e==="end"?n:e}function yU(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class Sh extends Kl{parsePrimitiveData(t,n,s,a){return R1(t,n,s,a)}parseArrayData(t,n,s,a){return R1(t,n,s,a)}parseObjectData(t,n,s,a){const{iScale:i,vScale:l}=t,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,h=i.axis==="x"?u:f,p=l.axis==="x"?u:f,g=[];let b,x,w,_;for(b=s,x=s+a;b<x;++b)_=n[b],w={},w[i.axis]=i.parse(zo(_,h),b),g.push(PE(zo(_,p),w,l,b));return g}updateRangeFromParsed(t,n,s,a){super.updateRangeFromParsed(t,n,s,a);const i=s._custom;i&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:s,vScale:a}=n,i=this.getParsed(t),l=i._custom,u=d0(l)?"["+l.start+", "+l.end+"]":""+a.getLabelForValue(i[a.axis]);return{label:""+s.getLabelForValue(i[s.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,s,a){const i=a==="reset",{index:l,_cachedMeta:{vScale:u}}=this,f=u.getBasePixel(),h=u.isHorizontal(),p=this._getRuler(),{sharedOptions:g,includeOptions:b}=this._getSharedOptions(n,a);for(let x=n;x<n+s;x++){const w=this.getParsed(x),_=i||gn(w[u.axis])?{base:f,head:f}:this._calculateBarValuePixels(x),S=this._calculateBarIndexPixels(x,p),N=(w._stacks||{})[u.axis],R={horizontal:h,base:_.base,enableBorderRadius:!N||d0(w._custom)||l===N._top||l===N._bottom,x:h?_.head:S.center,y:h?S.center:_.head,height:h?S.size:Math.abs(_.size),width:h?Math.abs(_.size):S.size};b&&(R.options=g||this.resolveDataElementOptions(x,t[x].active?"active":a));const A=R.options||t[x].options;gU(R,A,N,l),yU(R,A,p.ratio),this.updateElement(t[x],x,R,a)}}_getStacks(t,n){const{iScale:s}=this._cachedMeta,a=s.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),i=s.options.stacked,l=[],u=this._cachedMeta.controller.getParsed(n),f=u&&u[s.axis],h=p=>{const g=p._parsed.find(x=>x[s.axis]===f),b=g&&g[p.vScale.axis];if(gn(b)||isNaN(b))return!0};for(const p of a)if(!(n!==void 0&&h(p))&&((i===!1||l.indexOf(p.stack)===-1||i===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(s=>t[s].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)t[Jt(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,s){const a=this._getStacks(t,s),i=n!==void 0?a.indexOf(n):-1;return i===-1?a.length-1:i}_getRuler(){const t=this.options,n=this._cachedMeta,s=n.iScale,a=[];let i,l;for(i=0,l=n.data.length;i<l;++i)a.push(s.getPixelForValue(this.getParsed(i)[s.axis],i));const u=t.barThickness;return{min:u||uU(n),pixels:a,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:s,index:a},options:{base:i,minBarLength:l}}=this,u=i||0,f=this.getParsed(t),h=f._custom,p=d0(h);let g=f[n.axis],b=0,x=s?this.applyStack(n,f,s):g,w,_;x!==g&&(b=x-g,x=g),p&&(g=h.barStart,x=h.barEnd-h.barStart,g!==0&&Di(g)!==Di(h.barEnd)&&(b=0),b+=g);const S=!gn(i)&&!p?i:b;let N=n.getPixelForValue(S);if(this.chart.getDataVisibility(t)?w=n.getPixelForValue(b+x):w=N,_=w-N,Math.abs(_)<l){_=mU(_,n,u)*l,g===u&&(N-=_/2);const R=n.getPixelForDecimal(0),A=n.getPixelForDecimal(1),C=Math.min(R,A),k=Math.max(R,A);N=Math.max(Math.min(N,k),C),w=N+_,s&&!p&&(f._stacks[n.axis]._visualValues[a]=n.getValueForPixel(w)-n.getValueForPixel(N))}if(N===n.getPixelForValue(u)){const R=Di(_)*n.getLineWidthForValue(u)/2;N+=R,_-=R}return{size:_,base:N,head:w,center:w+_/2}}_calculateBarIndexPixels(t,n){const s=n.scale,a=this.options,i=a.skipNull,l=Jt(a.maxBarThickness,1/0);let u,f;const h=this._getAxisCount();if(n.grouped){const p=i?this._getStackCount(t):n.stackCount,g=a.barThickness==="flex"?fU(t,n,a,p*h):dU(t,n,a,p*h),b=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,x=this._getAxis().indexOf(Jt(b,this.getFirstScaleIdForIndexAxis())),w=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0)+x;u=g.start+g.chunk*w+g.chunk/2,f=Math.min(l,g.chunk*g.ratio)}else u=s.getPixelForValue(this.getParsed(t)[s.axis],t),f=Math.min(l,n.min*n.ratio);return{base:u-f/2,head:u+f/2,center:u,size:f}}draw(){const t=this._cachedMeta,n=t.vScale,s=t.data,a=s.length;let i=0;for(;i<a;++i)this.getParsed(i)[n.axis]!==null&&!s[i].hidden&&s[i].draw(this._ctx)}}ft(Sh,"id","bar"),ft(Sh,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ft(Sh,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function bU(e,t,n){let s=1,a=1,i=0,l=0;if(t<Kn){const u=e,f=u+t,h=Math.cos(u),p=Math.sin(u),g=Math.cos(f),b=Math.sin(f),x=(A,C,k)=>Vh(A,u,f,!0)?1:Math.max(C,C*n,k,k*n),w=(A,C,k)=>Vh(A,u,f,!0)?-1:Math.min(C,C*n,k,k*n),_=x(0,h,g),S=x(as,p,b),N=w(pn,h,g),R=w(pn+as,p,b);s=(_-N)/2,a=(S-R)/2,i=-(_+N)/2,l=-(S+R)/2}return{ratioX:s,ratioY:a,offsetX:i,offsetY:l}}class Du extends Kl{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const s=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=s;else{let i=f=>+s[f];if(en(s[t])){const{key:f="value"}=this._parsing;i=h=>+zo(s[h],f)}let l,u;for(l=t,u=t+n;l<u;++l)a._parsed[l]=i(l)}}_getRotation(){return Va(this.options.rotation-90)}_getCircumference(){return Va(this.options.circumference)}_getRotationExtents(){let t=Kn,n=-Kn;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const a=this.chart.getDatasetMeta(s).controller,i=a._getRotation(),l=a._getCircumference();t=Math.min(t,i),n=Math.max(n,i+l)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:s}=n,a=this._cachedMeta,i=a.data,l=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,u=Math.max((Math.min(s.width,s.height)-l)/2,0),f=Math.min(W6(this.options.cutout,u),1),h=this._getRingWeight(this.index),{circumference:p,rotation:g}=this._getRotationExtents(),{ratioX:b,ratioY:x,offsetX:w,offsetY:_}=bU(g,p,f),S=(s.width-l)/b,N=(s.height-l)/x,R=Math.max(Math.min(S,N)/2,0),A=mE(this.options.radius,R),C=Math.max(A*f,0),k=(A-C)/this._getVisibleDatasetWeightTotal();this.offsetX=w*A,this.offsetY=_*A,a.total=this.calculateTotal(),this.outerRadius=A-k*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-k*h,0),this.updateElements(i,0,i.length,t)}_circumference(t,n){const s=this.options,a=this._cachedMeta,i=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||a._parsed[t]===null||a.data[t].hidden?0:this.calculateCircumference(a._parsed[t]*i/Kn)}updateElements(t,n,s,a){const i=a==="reset",l=this.chart,u=l.chartArea,h=l.options.animation,p=(u.left+u.right)/2,g=(u.top+u.bottom)/2,b=i&&h.animateScale,x=b?0:this.innerRadius,w=b?0:this.outerRadius,{sharedOptions:_,includeOptions:S}=this._getSharedOptions(n,a);let N=this._getRotation(),R;for(R=0;R<n;++R)N+=this._circumference(R,i);for(R=n;R<n+s;++R){const A=this._circumference(R,i),C=t[R],k={x:p+this.offsetX,y:g+this.offsetY,startAngle:N,endAngle:N+A,circumference:A,outerRadius:w,innerRadius:x};S&&(k.options=_||this.resolveDataElementOptions(R,C.active?"active":a)),N+=A,this.updateElement(C,R,k,a)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let s=0,a;for(a=0;a<n.length;a++){const i=t._parsed[a];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(a)&&!n[a].hidden&&(s+=Math.abs(i))}return s}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?Kn*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,s=this.chart,a=s.data.labels||[],i=Sy(n._parsed[t],s.options.locale);return{label:a[t]||"",value:i}}getMaxBorderWidth(t){let n=0;const s=this.chart;let a,i,l,u,f;if(!t){for(a=0,i=s.data.datasets.length;a<i;++a)if(s.isDatasetVisible(a)){l=s.getDatasetMeta(a),t=l.data,u=l.controller;break}}if(!t)return 0;for(a=0,i=t.length;a<i;++a)f=u.resolveDataElementOptions(a),f.borderAlign!=="inner"&&(n=Math.max(n,f.borderWidth||0,f.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let s=0,a=t.length;s<a;++s){const i=this.resolveDataElementOptions(s);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let s=0;s<t;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(t){return Math.max(Jt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ft(Du,"id","doughnut"),ft(Du,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ft(Du,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),ft(Du,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:a}}=t.legend.options;return n.labels.map((i,l)=>{const f=t.getDatasetMeta(0).controller.getStyle(l);return{text:i,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:a,lineWidth:f.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});function vo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ry{constructor(t){ft(this,"options");this.options=t||{}}static override(t){Object.assign(Ry.prototype,t)}init(){}formats(){return vo()}parse(){return vo()}format(){return vo()}add(){return vo()}diff(){return vo()}startOf(){return vo()}endOf(){return vo()}}var vU={_date:Ry};function wU(e,t,n,s){const{controller:a,data:i,_sorted:l}=e,u=a._cachedMeta.iScale,f=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&l&&i.length){const h=u._reversePixels?iz:ox;if(s){if(a._sharedOptions){const p=i[0],g=typeof p.getRange=="function"&&p.getRange(t);if(g){const b=h(i,t,n-g),x=h(i,t,n+g);return{lo:b.lo,hi:x.hi}}}}else{const p=h(i,t,n);if(f){const{vScale:g}=a._cachedMeta,{_parsed:b}=e,x=b.slice(0,p.lo+1).reverse().findIndex(_=>!gn(_[g.axis]));p.lo-=Math.max(0,x);const w=b.slice(p.hi).findIndex(_=>!gn(_[g.axis]));p.hi+=Math.max(0,w)}return p}}return{lo:0,hi:i.length-1}}function vm(e,t,n,s,a){const i=e.getSortedVisibleDatasetMetas(),l=n[t];for(let u=0,f=i.length;u<f;++u){const{index:h,data:p}=i[u],{lo:g,hi:b}=wU(i[u],t,l,a);for(let x=g;x<=b;++x){const w=p[x];w.skip||s(w,h,x)}}}function _U(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(s,a){const i=t?Math.abs(s.x-a.x):0,l=n?Math.abs(s.y-a.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(l,2))}}function f0(e,t,n,s,a){const i=[];return!a&&!e.isPointInArea(t)||vm(e,n,t,function(u,f,h){!a&&!NE(u,e.chartArea,0)||u.inRange(t.x,t.y,s)&&i.push({element:u,datasetIndex:f,index:h})},!0),i}function jU(e,t,n,s){let a=[];function i(l,u,f){const{startAngle:h,endAngle:p}=l.getProps(["startAngle","endAngle"],s),{angle:g}=xE(l,{x:t.x,y:t.y});Vh(g,h,p)&&a.push({element:l,datasetIndex:u,index:f})}return vm(e,n,t,i),a}function SU(e,t,n,s,a,i){let l=[];const u=_U(n);let f=Number.POSITIVE_INFINITY;function h(p,g,b){const x=p.inRange(t.x,t.y,a);if(s&&!x)return;const w=p.getCenterPoint(a);if(!(!!i||e.isPointInArea(w))&&!x)return;const S=u(t,w);S<f?(l=[{element:p,datasetIndex:g,index:b}],f=S):S===f&&l.push({element:p,datasetIndex:g,index:b})}return vm(e,n,t,h),l}function h0(e,t,n,s,a,i){return!i&&!e.isPointInArea(t)?[]:n==="r"&&!s?jU(e,t,n,a):SU(e,t,n,s,a,i)}function L1(e,t,n,s,a){const i=[],l=n==="x"?"inXRange":"inYRange";let u=!1;return vm(e,n,t,(f,h,p)=>{f[l]&&f[l](t[n],a)&&(i.push({element:f,datasetIndex:h,index:p}),u=u||f.inRange(t.x,t.y,a))}),s&&!u?[]:i}var NU={modes:{index(e,t,n,s){const a=_o(t,e),i=n.axis||"x",l=n.includeInvisible||!1,u=n.intersect?f0(e,a,i,s,l):h0(e,a,i,!1,s,l),f=[];return u.length?(e.getSortedVisibleDatasetMetas().forEach(h=>{const p=u[0].index,g=h.data[p];g&&!g.skip&&f.push({element:g,datasetIndex:h.index,index:p})}),f):[]},dataset(e,t,n,s){const a=_o(t,e),i=n.axis||"xy",l=n.includeInvisible||!1;let u=n.intersect?f0(e,a,i,s,l):h0(e,a,i,!1,s,l);if(u.length>0){const f=u[0].datasetIndex,h=e.getDatasetMeta(f).data;u=[];for(let p=0;p<h.length;++p)u.push({element:h[p],datasetIndex:f,index:p})}return u},point(e,t,n,s){const a=_o(t,e),i=n.axis||"xy",l=n.includeInvisible||!1;return f0(e,a,i,s,l)},nearest(e,t,n,s){const a=_o(t,e),i=n.axis||"xy",l=n.includeInvisible||!1;return h0(e,a,i,n.intersect,s,l)},x(e,t,n,s){const a=_o(t,e);return L1(e,a,"x",n.intersect,s)},y(e,t,n,s){const a=_o(t,e);return L1(e,a,"y",n.intersect,s)}}};const LE=["left","top","right","bottom"];function bu(e,t){return e.filter(n=>n.pos===t)}function z1(e,t){return e.filter(n=>LE.indexOf(n.pos)===-1&&n.box.axis===t)}function vu(e,t){return e.sort((n,s)=>{const a=t?s:n,i=t?n:s;return a.weight===i.weight?a.index-i.index:a.weight-i.weight})}function EU(e){const t=[];let n,s,a,i,l,u;for(n=0,s=(e||[]).length;n<s;++n)a=e[n],{position:i,options:{stack:l,stackWeight:u=1}}=a,t.push({index:n,box:a,pos:i,horizontal:a.isHorizontal(),weight:a.weight,stack:l&&i+l,stackWeight:u});return t}function TU(e){const t={};for(const n of e){const{stack:s,pos:a,stackWeight:i}=n;if(!s||!LE.includes(a))continue;const l=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=i}return t}function CU(e,t){const n=TU(e),{vBoxMaxWidth:s,hBoxMaxHeight:a}=t;let i,l,u;for(i=0,l=e.length;i<l;++i){u=e[i];const{fullSize:f}=u.box,h=n[u.stack],p=h&&u.stackWeight/h.weight;u.horizontal?(u.width=p?p*s:f&&t.availableWidth,u.height=a):(u.width=s,u.height=p?p*a:f&&t.availableHeight)}return n}function kU(e){const t=EU(e),n=vu(t.filter(h=>h.box.fullSize),!0),s=vu(bu(t,"left"),!0),a=vu(bu(t,"right")),i=vu(bu(t,"top"),!0),l=vu(bu(t,"bottom")),u=z1(t,"x"),f=z1(t,"y");return{fullSize:n,leftAndTop:s.concat(i),rightAndBottom:a.concat(f).concat(l).concat(u),chartArea:bu(t,"chartArea"),vertical:s.concat(a).concat(f),horizontal:i.concat(l).concat(u)}}function U1(e,t,n,s){return Math.max(e[n],t[n])+Math.max(e[s],t[s])}function zE(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function OU(e,t,n,s){const{pos:a,box:i}=n,l=e.maxPadding;if(!en(a)){n.size&&(e[a]-=n.size);const g=s[n.stack]||{size:0,count:1};g.size=Math.max(g.size,n.horizontal?i.height:i.width),n.size=g.size/g.count,e[a]+=n.size}i.getPadding&&zE(l,i.getPadding());const u=Math.max(0,t.outerWidth-U1(l,e,"left","right")),f=Math.max(0,t.outerHeight-U1(l,e,"top","bottom")),h=u!==e.w,p=f!==e.h;return e.w=u,e.h=f,n.horizontal?{same:h,other:p}:{same:p,other:h}}function AU(e){const t=e.maxPadding;function n(s){const a=Math.max(t[s]-e[s],0);return e[s]+=a,a}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function DU(e,t){const n=t.maxPadding;function s(a){const i={left:0,top:0,right:0,bottom:0};return a.forEach(l=>{i[l]=Math.max(t[l],n[l])}),i}return s(e?["left","right"]:["top","bottom"])}function Ru(e,t,n,s){const a=[];let i,l,u,f,h,p;for(i=0,l=e.length,h=0;i<l;++i){u=e[i],f=u.box,f.update(u.width||t.w,u.height||t.h,DU(u.horizontal,t));const{same:g,other:b}=OU(t,n,u,s);h|=g&&a.length,p=p||b,f.fullSize||a.push(u)}return h&&Ru(a,t,n,s)||p}function Kf(e,t,n,s,a){e.top=n,e.left=t,e.right=t+s,e.bottom=n+a,e.width=s,e.height=a}function B1(e,t,n,s){const a=n.padding;let{x:i,y:l}=t;for(const u of e){const f=u.box,h=s[u.stack]||{placed:0,weight:1},p=u.stackWeight/h.weight||1;if(u.horizontal){const g=t.w*p,b=h.size||f.height;Qu(h.start)&&(l=h.start),f.fullSize?Kf(f,a.left,l,n.outerWidth-a.right-a.left,b):Kf(f,t.left+h.placed,l,g,b),h.start=l,h.placed+=g,l=f.bottom}else{const g=t.h*p,b=h.size||f.width;Qu(h.start)&&(i=h.start),f.fullSize?Kf(f,i,a.top,b,n.outerHeight-a.bottom-a.top):Kf(f,i,t.top+h.placed,b,g),h.start=i,h.placed+=g,i=f.right}}t.x=i,t.y=l}var jr={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,s){if(!e)return;const a=Tr(e.options.layout.padding),i=Math.max(t-a.width,0),l=Math.max(n-a.height,0),u=kU(e.boxes),f=u.vertical,h=u.horizontal;on(e.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const p=f.reduce((_,S)=>S.box.options&&S.box.options.display===!1?_:_+1,0)||1,g=Object.freeze({outerWidth:t,outerHeight:n,padding:a,availableWidth:i,availableHeight:l,vBoxMaxWidth:i/2/p,hBoxMaxHeight:l/2}),b=Object.assign({},a);zE(b,Tr(s));const x=Object.assign({maxPadding:b,w:i,h:l,x:a.left,y:a.top},a),w=CU(f.concat(h),g);Ru(u.fullSize,x,g,w),Ru(f,x,g,w),Ru(h,x,g,w)&&Ru(f,x,g,w),AU(x),B1(u.leftAndTop,x,g,w),x.x+=x.w,x.y+=x.h,B1(u.rightAndBottom,x,g,w),e.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},on(u.chartArea,_=>{const S=_.box;Object.assign(S,e.chartArea),S.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class UE{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,s){}removeEventListener(t,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,s,a){return n=Math.max(0,n||t.width),s=s||t.height,{width:n,height:Math.max(0,a?Math.floor(n/a):s)}}isAttached(t){return!0}updateConfig(t){}}class RU extends UE{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Nh="$chartjs",MU={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},F1=e=>e===null||e==="";function PU(e,t){const n=e.style,s=e.getAttribute("height"),a=e.getAttribute("width");if(e[Nh]={initial:{height:s,width:a,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",F1(a)){const i=E1(e,"width");i!==void 0&&(e.width=i)}if(F1(s))if(e.style.height==="")e.height=e.width/(t||2);else{const i=E1(e,"height");i!==void 0&&(e.height=i)}return e}const BE=Iz?{passive:!0}:!1;function LU(e,t,n){e&&e.addEventListener(t,n,BE)}function zU(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,BE)}function UU(e,t){const n=MU[e.type]||e.type,{x:s,y:a}=_o(e,t);return{type:n,chart:t,native:e,x:s!==void 0?s:null,y:a!==void 0?a:null}}function Wh(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function BU(e,t,n){const s=e.canvas,a=new MutationObserver(i=>{let l=!1;for(const u of i)l=l||Wh(u.addedNodes,s),l=l&&!Wh(u.removedNodes,s);l&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}function FU(e,t,n){const s=e.canvas,a=new MutationObserver(i=>{let l=!1;for(const u of i)l=l||Wh(u.removedNodes,s),l=l&&!Wh(u.addedNodes,s);l&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}const Ju=new Map;let $1=0;function FE(){const e=window.devicePixelRatio;e!==$1&&($1=e,Ju.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function $U(e,t){Ju.size||window.addEventListener("resize",FE),Ju.set(e,t)}function HU(e){Ju.delete(e),Ju.size||window.removeEventListener("resize",FE)}function VU(e,t,n){const s=e.canvas,a=s&&Dy(s);if(!a)return;const i=wE((u,f)=>{const h=a.clientWidth;n(u,f),h<a.clientWidth&&n()},window),l=new ResizeObserver(u=>{const f=u[0],h=f.contentRect.width,p=f.contentRect.height;h===0&&p===0||i(h,p)});return l.observe(a),$U(e,i),l}function m0(e,t,n){n&&n.disconnect(),t==="resize"&&HU(e)}function IU(e,t,n){const s=e.canvas,a=wE(i=>{e.ctx!==null&&n(UU(i,e))},e);return LU(s,t,a),a}class qU extends UE{acquireContext(t,n){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(PU(t,n),s):null}releaseContext(t){const n=t.canvas;if(!n[Nh])return!1;const s=n[Nh].initial;["height","width"].forEach(i=>{const l=s[i];gn(l)?n.removeAttribute(i):n.setAttribute(i,l)});const a=s.style||{};return Object.keys(a).forEach(i=>{n.style[i]=a[i]}),n.width=n.width,delete n[Nh],!0}addEventListener(t,n,s){this.removeEventListener(t,n);const a=t.$proxies||(t.$proxies={}),l={attach:BU,detach:FU,resize:VU}[n]||IU;a[n]=l(t,n,s)}removeEventListener(t,n){const s=t.$proxies||(t.$proxies={}),a=s[n];if(!a)return;({attach:m0,detach:m0,resize:m0}[n]||zU)(t,n,a),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,s,a){return Vz(t,n,s,a)}isAttached(t){const n=t&&Dy(t);return!!(n&&n.isConnected)}}function WU(e){return!Ay()||typeof OffscreenCanvas!="undefined"&&e instanceof OffscreenCanvas?RU:qU}var lh;let Io=(lh=class{constructor(){ft(this,"x");ft(this,"y");ft(this,"active",!1);ft(this,"options");ft(this,"$animations")}tooltipPosition(t){const{x:n,y:s}=this.getProps(["x","y"],t);return{x:n,y:s}}hasValue(){return Hh(this.x)&&Hh(this.y)}getProps(t,n){const s=this.$animations;if(!n||!s)return this;const a={};return t.forEach(i=>{a[i]=s[i]&&s[i].active()?s[i]._to:this[i]}),a}},ft(lh,"defaults",{}),ft(lh,"defaultRoutes"),lh);function YU(e,t){const n=e.options.ticks,s=XU(e),a=Math.min(n.maxTicksLimit||s,s),i=n.major.enabled?KU(t):[],l=i.length,u=i[0],f=i[l-1],h=[];if(l>a)return QU(t,h,i,l/a),h;const p=GU(i,t,a);if(l>0){let g,b;const x=l>1?Math.round((f-u)/(l-1)):null;for(Qf(t,h,p,gn(x)?0:u-x,u),g=0,b=l-1;g<b;g++)Qf(t,h,p,i[g],i[g+1]);return Qf(t,h,p,f,gn(x)?t.length:f+x),h}return Qf(t,h,p),h}function XU(e){const t=e.options.offset,n=e._tickSize(),s=e._length/n+(t?0:1),a=e._maxLength/n;return Math.floor(Math.min(s,a))}function GU(e,t,n){const s=ZU(e),a=t.length/n;if(!s)return Math.max(a,1);const i=J6(s);for(let l=0,u=i.length-1;l<u;l++){const f=i[l];if(f>a)return f}return Math.max(a,1)}function KU(e){const t=[];let n,s;for(n=0,s=e.length;n<s;n++)e[n].major&&t.push(n);return t}function QU(e,t,n,s){let a=0,i=n[0],l;for(s=Math.ceil(s),l=0;l<e.length;l++)l===i&&(t.push(e[l]),a++,i=n[a*s])}function Qf(e,t,n,s,a){const i=Jt(s,0),l=Math.min(Jt(a,e.length),e.length);let u=0,f,h,p;for(n=Math.ceil(n),a&&(f=a-s,n=f/Math.floor(f/n)),p=i;p<0;)u++,p=Math.round(i+u*n);for(h=Math.max(i,0);h<l;h++)h===p&&(t.push(e[h]),u++,p=Math.round(i+u*n))}function ZU(e){const t=e.length;let n,s;if(t<2)return!1;for(s=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==s)return!1;return s}const JU=e=>e==="left"?"right":e==="right"?"left":e,H1=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,V1=(e,t)=>Math.min(t||e,e);function I1(e,t){const n=[],s=e.length/t,a=e.length;let i=0;for(;i<a;i+=s)n.push(e[Math.floor(i)]);return n}function eB(e,t,n){const s=e.ticks.length,a=Math.min(t,s-1),i=e._startPixel,l=e._endPixel,u=1e-6;let f=e.getPixelForTick(a),h;if(!(n&&(s===1?h=Math.max(f-i,l-f):t===0?h=(e.getPixelForTick(1)-f)/2:h=(f-e.getPixelForTick(a-1))/2,f+=a<t?h:-h,f<i-u||f>l+u)))return f}function tB(e,t){on(e,n=>{const s=n.gc,a=s.length/2;let i;if(a>t){for(i=0;i<a;++i)delete n.data[s[i]];s.splice(0,a)}})}function wu(e){return e.drawTicks?e.tickLength:0}function q1(e,t){if(!e.display)return 0;const n=ks(e.font,t),s=Tr(e.padding);return(rs(e.text)?e.text.length:1)*n.lineHeight+s.height}function nB(e,t){return cc(e,{scale:t,type:"scale"})}function sB(e,t,n){return cc(e,{tick:n,index:t,type:"tick"})}function rB(e,t,n){let s=jy(e);return(n&&t!=="right"||!n&&t==="right")&&(s=JU(s)),s}function aB(e,t,n,s){const{top:a,left:i,bottom:l,right:u,chart:f}=e,{chartArea:h,scales:p}=f;let g=0,b,x,w;const _=l-a,S=u-i;if(e.isHorizontal()){if(x=Ts(s,i,u),en(n)){const N=Object.keys(n)[0],R=n[N];w=p[N].getPixelForValue(R)+_-t}else n==="center"?w=(h.bottom+h.top)/2+_-t:w=H1(e,n,t);b=u-i}else{if(en(n)){const N=Object.keys(n)[0],R=n[N];x=p[N].getPixelForValue(R)-S+t}else n==="center"?x=(h.left+h.right)/2-S+t:x=H1(e,n,t);w=Ts(s,l,a),g=n==="left"?-as:as}return{titleX:x,titleY:w,maxWidth:b,rotation:g}}class uc extends Io{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:s,_suggestedMax:a}=this;return t=ta(t,Number.POSITIVE_INFINITY),n=ta(n,Number.NEGATIVE_INFINITY),s=ta(s,Number.POSITIVE_INFINITY),a=ta(a,Number.NEGATIVE_INFINITY),{min:ta(t,s),max:ta(n,a),minDefined:Er(t),maxDefined:Er(n)}}getMinMax(t){let{min:n,max:s,minDefined:a,maxDefined:i}=this.getUserBounds(),l;if(a&&i)return{min:n,max:s};const u=this.getMatchingVisibleMetas();for(let f=0,h=u.length;f<h;++f)l=u[f].controller.getMinMax(this,t),a||(n=Math.min(n,l.min)),i||(s=Math.max(s,l.max));return n=i&&n>s?s:n,s=a&&n>s?n:s,{min:ta(n,ta(s,n)),max:ta(s,ta(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){wn(this.options.beforeUpdate,[this])}update(t,n,s){const{beginAtZero:a,grace:i,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Cz(this,i,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=u<this.ticks.length;this._convertTicksToLabels(f?I1(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=YU(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,t=!t),this._startPixel=n,this._endPixel=s,this._reversePixels=t,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){wn(this.options.afterUpdate,[this])}beforeSetDimensions(){wn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){wn(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),wn(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){wn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let s,a,i;for(s=0,a=t.length;s<a;s++)i=t[s],i.label=wn(n.callback,[i.value,s,t],this)}afterTickToLabelConversion(){wn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){wn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,s=V1(this.ticks.length,t.ticks.maxTicksLimit),a=n.minRotation||0,i=n.maxRotation;let l=a,u,f,h;if(!this._isVisible()||!n.display||a>=i||s<=1||!this.isHorizontal()){this.labelRotation=a;return}const p=this._getLabelSizes(),g=p.widest.width,b=p.highest.height,x=Ws(this.chart.width-g,0,this.maxWidth);u=t.offset?this.maxWidth/s:x/(s-1),g+6>u&&(u=x/(s-(t.offset?.5:1)),f=this.maxHeight-wu(t.grid)-n.padding-q1(t.title,this.chart.options.font),h=Math.sqrt(g*g+b*b),l=sz(Math.min(Math.asin(Ws((p.highest.height+6)/u,-1,1)),Math.asin(Ws(f/h,-1,1))-Math.asin(Ws(b/h,-1,1)))),l=Math.max(a,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){wn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){wn(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:s,title:a,grid:i}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const f=q1(a,n.options.font);if(u?(t.width=this.maxWidth,t.height=wu(i)+f):(t.height=this.maxHeight,t.width=wu(i)+f),s.display&&this.ticks.length){const{first:h,last:p,widest:g,highest:b}=this._getLabelSizes(),x=s.padding*2,w=Va(this.labelRotation),_=Math.cos(w),S=Math.sin(w);if(u){const N=s.mirror?0:S*g.width+_*b.height;t.height=Math.min(this.maxHeight,t.height+N+x)}else{const N=s.mirror?0:_*g.width+S*b.height;t.width=Math.min(this.maxWidth,t.width+N+x)}this._calculatePadding(h,p,S,_)}}this._handleMargins(),u?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,s,a){const{ticks:{align:i,padding:l},position:u}=this.options,f=this.labelRotation!==0,h=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,x=0;f?h?(b=a*t.width,x=s*n.height):(b=s*t.height,x=a*n.width):i==="start"?x=n.width:i==="end"?b=t.width:i!=="inner"&&(b=t.width/2,x=n.width/2),this.paddingLeft=Math.max((b-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((x-g+l)*this.width/(this.width-g),0)}else{let p=n.height/2,g=t.height/2;i==="start"?(p=0,g=t.height):i==="end"&&(p=n.height,g=0),this.paddingTop=p+l,this.paddingBottom=g+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){wn(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,s;for(n=0,s=t.length;n<s;n++)gn(t[n].label)&&(t.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=I1(s,n)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,s){const{ctx:a,_longestTextCache:i}=this,l=[],u=[],f=Math.floor(n/V1(n,s));let h=0,p=0,g,b,x,w,_,S,N,R,A,C,k;for(g=0;g<n;g+=f){if(w=t[g].label,_=this._resolveTickFontOptions(g),a.font=S=_.string,N=i[S]=i[S]||{data:{},gc:[]},R=_.lineHeight,A=C=0,!gn(w)&&!rs(w))A=v1(a,N.data,N.gc,A,w),C=R;else if(rs(w))for(b=0,x=w.length;b<x;++b)k=w[b],!gn(k)&&!rs(k)&&(A=v1(a,N.data,N.gc,A,k),C+=R);l.push(A),u.push(C),h=Math.max(A,h),p=Math.max(C,p)}tB(i,n);const D=l.indexOf(h),M=u.indexOf(p),E=P=>({width:l[P]||0,height:u[P]||0});return{first:E(0),last:E(n-1),widest:E(D),highest:E(M),widths:l,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return az(this._alignToPixels?bo(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const s=n[t];return s.$context||(s.$context=sB(this.getContext(),t,s))}return this.$context||(this.$context=nB(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Va(this.labelRotation),s=Math.abs(Math.cos(n)),a=Math.abs(Math.sin(n)),i=this._getLabelSizes(),l=t.autoSkipPadding||0,u=i?i.widest.width+l:0,f=i?i.highest.height+l:0;return this.isHorizontal()?f*s>u*a?u/s:f/a:f*a<u*s?f/s:u/a}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,s=this.chart,a=this.options,{grid:i,position:l,border:u}=a,f=i.offset,h=this.isHorizontal(),g=this.ticks.length+(f?1:0),b=wu(i),x=[],w=u.setContext(this.getContext()),_=w.display?w.width:0,S=_/2,N=function(H){return bo(s,H,_)};let R,A,C,k,D,M,E,P,K,W,Y,q;if(l==="top")R=N(this.bottom),M=this.bottom-b,P=R-S,W=N(t.top)+S,q=t.bottom;else if(l==="bottom")R=N(this.top),W=t.top,q=N(t.bottom)-S,M=R+S,P=this.top+b;else if(l==="left")R=N(this.right),D=this.right-b,E=R-S,K=N(t.left)+S,Y=t.right;else if(l==="right")R=N(this.left),K=t.left,Y=N(t.right)-S,D=R+S,E=this.left+b;else if(n==="x"){if(l==="center")R=N((t.top+t.bottom)/2+.5);else if(en(l)){const H=Object.keys(l)[0],te=l[H];R=N(this.chart.scales[H].getPixelForValue(te))}W=t.top,q=t.bottom,M=R+S,P=M+b}else if(n==="y"){if(l==="center")R=N((t.left+t.right)/2);else if(en(l)){const H=Object.keys(l)[0],te=l[H];R=N(this.chart.scales[H].getPixelForValue(te))}D=R-S,E=D-b,K=t.left,Y=t.right}const J=Jt(a.ticks.maxTicksLimit,g),G=Math.max(1,Math.ceil(g/J));for(A=0;A<g;A+=G){const H=this.getContext(A),te=i.setContext(H),ne=u.setContext(H),le=te.lineWidth,B=te.color,Q=ne.dash||[],he=ne.dashOffset,$=te.tickWidth,re=te.tickColor,_e=te.tickBorderDash||[],xe=te.tickBorderDashOffset;C=eB(this,A,f),C!==void 0&&(k=bo(s,C,le),h?D=E=K=Y=k:M=P=W=q=k,x.push({tx1:D,ty1:M,tx2:E,ty2:P,x1:K,y1:W,x2:Y,y2:q,width:le,color:B,borderDash:Q,borderDashOffset:he,tickWidth:$,tickColor:re,tickBorderDash:_e,tickBorderDashOffset:xe}))}return this._ticksLength=g,this._borderValue=R,x}_computeLabelItems(t){const n=this.axis,s=this.options,{position:a,ticks:i}=s,l=this.isHorizontal(),u=this.ticks,{align:f,crossAlign:h,padding:p,mirror:g}=i,b=wu(s.grid),x=b+p,w=g?-p:x,_=-Va(this.labelRotation),S=[];let N,R,A,C,k,D,M,E,P,K,W,Y,q="middle";if(a==="top")D=this.bottom-w,M=this._getXAxisLabelAlignment();else if(a==="bottom")D=this.top+w,M=this._getXAxisLabelAlignment();else if(a==="left"){const G=this._getYAxisLabelAlignment(b);M=G.textAlign,k=G.x}else if(a==="right"){const G=this._getYAxisLabelAlignment(b);M=G.textAlign,k=G.x}else if(n==="x"){if(a==="center")D=(t.top+t.bottom)/2+x;else if(en(a)){const G=Object.keys(a)[0],H=a[G];D=this.chart.scales[G].getPixelForValue(H)+x}M=this._getXAxisLabelAlignment()}else if(n==="y"){if(a==="center")k=(t.left+t.right)/2-x;else if(en(a)){const G=Object.keys(a)[0],H=a[G];k=this.chart.scales[G].getPixelForValue(H)}M=this._getYAxisLabelAlignment(b).textAlign}n==="y"&&(f==="start"?q="top":f==="end"&&(q="bottom"));const J=this._getLabelSizes();for(N=0,R=u.length;N<R;++N){A=u[N],C=A.label;const G=i.setContext(this.getContext(N));E=this.getPixelForTick(N)+i.labelOffset,P=this._resolveTickFontOptions(N),K=P.lineHeight,W=rs(C)?C.length:1;const H=W/2,te=G.color,ne=G.textStrokeColor,le=G.textStrokeWidth;let B=M;l?(k=E,M==="inner"&&(N===R-1?B=this.options.reverse?"left":"right":N===0?B=this.options.reverse?"right":"left":B="center"),a==="top"?h==="near"||_!==0?Y=-W*K+K/2:h==="center"?Y=-J.highest.height/2-H*K+K:Y=-J.highest.height+K/2:h==="near"||_!==0?Y=K/2:h==="center"?Y=J.highest.height/2-H*K:Y=J.highest.height-W*K,g&&(Y*=-1),_!==0&&!G.showLabelBackdrop&&(k+=K/2*Math.sin(_))):(D=E,Y=(1-W)*K/2);let Q;if(G.showLabelBackdrop){const he=Tr(G.backdropPadding),$=J.heights[N],re=J.widths[N];let _e=Y-he.top,xe=0-he.left;switch(q){case"middle":_e-=$/2;break;case"bottom":_e-=$;break}switch(M){case"center":xe-=re/2;break;case"right":xe-=re;break;case"inner":N===R-1?xe-=re:N>0&&(xe-=re/2);break}Q={left:xe,top:_e,width:re+he.width,height:$+he.height,color:G.backdropColor}}S.push({label:C,font:P,textOffset:Y,options:{rotation:_,color:te,strokeColor:ne,strokeWidth:le,textAlign:B,textBaseline:q,translation:[k,D],backdrop:Q}})}return S}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Va(this.labelRotation))return t==="top"?"left":"right";let a="center";return n.align==="start"?a="left":n.align==="end"?a="right":n.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:s,mirror:a,padding:i}}=this.options,l=this._getLabelSizes(),u=t+i,f=l.widest.width;let h,p;return n==="left"?a?(p=this.right+i,s==="near"?h="left":s==="center"?(h="center",p+=f/2):(h="right",p+=f)):(p=this.right-u,s==="near"?h="right":s==="center"?(h="center",p-=f/2):(h="left",p=this.left)):n==="right"?a?(p=this.left+i,s==="near"?h="right":s==="center"?(h="center",p-=f/2):(h="left",p-=f)):(p=this.left+u,s==="near"?h="left":s==="center"?(h="center",p+=f/2):(h="right",p=this.right)):h="right",{textAlign:h,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:s,top:a,width:i,height:l}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(s,a,i,l),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const a=this.ticks.findIndex(i=>i.value===t);return a>=0?n.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){const n=this.options.grid,s=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,l;const u=(f,h,p)=>{!p.width||!p.color||(s.save(),s.lineWidth=p.width,s.strokeStyle=p.color,s.setLineDash(p.borderDash||[]),s.lineDashOffset=p.borderDashOffset,s.beginPath(),s.moveTo(f.x,f.y),s.lineTo(h.x,h.y),s.stroke(),s.restore())};if(n.display)for(i=0,l=a.length;i<l;++i){const f=a[i];n.drawOnChartArea&&u({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),n.drawTicks&&u({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:s,grid:a}}=this,i=s.setContext(this.getContext()),l=s.display?i.width:0;if(!l)return;const u=a.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let h,p,g,b;this.isHorizontal()?(h=bo(t,this.left,l)-l/2,p=bo(t,this.right,u)+u/2,g=b=f):(g=bo(t,this.top,l)-l/2,b=bo(t,this.bottom,u)+u/2,h=p=f),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(h,g),n.lineTo(p,b),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,a=this._computeLabelArea();a&&Ny(s,a);const i=this.getLabelItems(t);for(const l of i){const u=l.options,f=l.font,h=l.label,p=l.textOffset;Zu(s,h,0,p,f,u)}a&&Ey(s)}drawTitle(){const{ctx:t,options:{position:n,title:s,reverse:a}}=this;if(!s.display)return;const i=ks(s.font),l=Tr(s.padding),u=s.align;let f=i.lineHeight/2;n==="bottom"||n==="center"||en(n)?(f+=l.bottom,rs(s.text)&&(f+=i.lineHeight*(s.text.length-1))):f+=l.top;const{titleX:h,titleY:p,maxWidth:g,rotation:b}=aB(this,f,n,u);Zu(t,s.text,0,0,i,{color:s.color,maxWidth:g,rotation:b,textAlign:rB(u,n,a),textBaseline:"middle",translation:[h,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,s=Jt(t.grid&&t.grid.z,-1),a=Jt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==uc.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:s,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",a=[];let i,l;for(i=0,l=n.length;i<l;++i){const u=n[i];u[s]===this.id&&(!t||u.type===t)&&a.push(u)}return a}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return ks(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Zf{constructor(t,n,s){this.type=t,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let s;lB(n)&&(s=this.register(n));const a=this.items,i=t.id,l=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in a||(a[i]=t,iB(t,l,s),this.override&&$n.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const n=this.items,s=t.id,a=this.scope;s in n&&delete n[s],a&&s in $n[a]&&(delete $n[a][s],this.override&&delete Uo[s])}}function iB(e,t,n){const s=Ku(Object.create(null),[n?$n.get(n):{},$n.get(t),e.defaults]);$n.set(t,s),e.defaultRoutes&&oB(t,e.defaultRoutes),e.descriptors&&$n.describe(t,e.descriptors)}function oB(e,t){Object.keys(t).forEach(n=>{const s=n.split("."),a=s.pop(),i=[e].concat(s).join("."),l=t[n].split("."),u=l.pop(),f=l.join(".");$n.route(i,a,f,u)})}function lB(e){return"id"in e&&"defaults"in e}class cB{constructor(){this.controllers=new Zf(Kl,"datasets",!0),this.elements=new Zf(Io,"elements"),this.plugins=new Zf(Object,"plugins"),this.scales=new Zf(uc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,s){[...n].forEach(a=>{const i=s||this._getRegistryForType(a);s||i.isForType(a)||i===this.plugins&&a.id?this._exec(t,i,a):on(a,l=>{const u=s||this._getRegistryForType(l);this._exec(t,u,l)})})}_exec(t,n,s){const a=wy(t);wn(s["before"+a],[],s),n[t](s),wn(s["after"+a],[],s)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(t))return s}return this.plugins}_get(t,n,s){const a=n.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return a}}var sa=new cB;class uB{constructor(){this._init=[]}notify(t,n,s,a){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=a?this._descriptors(t).filter(a):this._descriptors(t),l=this._notify(i,t,n,s);return n==="afterDestroy"&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,n,s,a){a=a||{};for(const i of t){const l=i.plugin,u=l[s],f=[n,a,i.options];if(wn(u,f,l)===!1&&a.cancelable)return!1}return!0}invalidate(){gn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const s=t&&t.config,a=Jt(s.options&&s.options.plugins,{}),i=dB(s);return a===!1&&!n?[]:hB(t,i,a,n)}_notifyStateChanges(t){const n=this._oldCache||[],s=this._cache,a=(i,l)=>i.filter(u=>!l.some(f=>u.plugin.id===f.plugin.id));this._notify(a(n,s),t,"stop"),this._notify(a(s,n),t,"start")}}function dB(e){const t={},n=[],s=Object.keys(sa.plugins.items);for(let i=0;i<s.length;i++)n.push(sa.getPlugin(s[i]));const a=e.plugins||[];for(let i=0;i<a.length;i++){const l=a[i];n.indexOf(l)===-1&&(n.push(l),t[l.id]=!0)}return{plugins:n,localIds:t}}function fB(e,t){return!t&&e===!1?null:e===!0?{}:e}function hB(e,{plugins:t,localIds:n},s,a){const i=[],l=e.getContext();for(const u of t){const f=u.id,h=fB(s[f],a);h!==null&&i.push({plugin:u,options:mB(e.config,{plugin:u,local:n[f]},h,l)})}return i}function mB(e,{plugin:t,local:n},s,a){const i=e.pluginScopeKeys(t),l=e.getOptionScopes(s,i);return n&&t.defaults&&l.push(t.defaults),e.createResolver(l,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function cx(e,t){const n=$n.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function pB(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function gB(e,t){return e===t?"_index_":"_value_"}function W1(e){if(e==="x"||e==="y"||e==="r")return e}function xB(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function ux(e,...t){if(W1(e))return e;for(const n of t){const s=n.axis||xB(n.position)||e.length>1&&W1(e[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Y1(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function yB(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(s=>s.xAxisID===e||s.yAxisID===e);if(n.length)return Y1(e,"x",n[0])||Y1(e,"y",n[0])}return{}}function bB(e,t){const n=Uo[e.type]||{scales:{}},s=t.scales||{},a=cx(e.type,t),i=Object.create(null);return Object.keys(s).forEach(l=>{const u=s[l];if(!en(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const f=ux(l,u,yB(l,e),$n.scales[u.type]),h=gB(f,a),p=n.scales||{};i[l]=Lu(Object.create(null),[{axis:f},u,p[f],p[h]])}),e.data.datasets.forEach(l=>{const u=l.type||e.type,f=l.indexAxis||cx(u,t),p=(Uo[u]||{}).scales||{};Object.keys(p).forEach(g=>{const b=pB(g,f),x=l[b+"AxisID"]||b;i[x]=i[x]||Object.create(null),Lu(i[x],[{axis:b},s[x],p[g]])})}),Object.keys(i).forEach(l=>{const u=i[l];Lu(u,[$n.scales[u.type],$n.scale])}),i}function $E(e){const t=e.options||(e.options={});t.plugins=Jt(t.plugins,{}),t.scales=bB(e,t)}function HE(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function vB(e){return e=e||{},e.data=HE(e.data),$E(e),e}const X1=new Map,VE=new Set;function Jf(e,t){let n=X1.get(e);return n||(n=t(),X1.set(e,n),VE.add(n)),n}const _u=(e,t,n)=>{const s=zo(t,n);s!==void 0&&e.add(s)};class wB{constructor(t){this._config=vB(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=HE(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),$E(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Jf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Jf(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Jf(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,s=this.type;return Jf(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const s=this._scopeCache;let a=s.get(t);return(!a||n)&&(a=new Map,s.set(t,a)),a}getOptionScopes(t,n,s){const{options:a,type:i}=this,l=this._cachedScopes(t,s),u=l.get(n);if(u)return u;const f=new Set;n.forEach(p=>{t&&(f.add(t),p.forEach(g=>_u(f,t,g))),p.forEach(g=>_u(f,a,g)),p.forEach(g=>_u(f,Uo[i]||{},g)),p.forEach(g=>_u(f,$n,g)),p.forEach(g=>_u(f,lx,g))});const h=Array.from(f);return h.length===0&&h.push(Object.create(null)),VE.has(n)&&l.set(n,h),h}chartOptionScopes(){const{options:t,type:n}=this;return[t,Uo[n]||{},$n.datasets[n]||{},{type:n},$n,lx]}resolveNamedOptions(t,n,s,a=[""]){const i={$shared:!0},{resolver:l,subPrefixes:u}=G1(this._resolverCache,t,a);let f=l;if(jB(l,n)){i.$shared=!1,s=Ui(s)?s():s;const h=this.createResolver(t,s,u);f=ec(l,s,h)}for(const h of n)i[h]=f[h];return i}createResolver(t,n,s=[""],a){const{resolver:i}=G1(this._resolverCache,t,s);return en(n)?ec(i,n,void 0,a):i}}function G1(e,t,n){let s=e.get(t);s||(s=new Map,e.set(t,s));const a=n.join();let i=s.get(a);return i||(i={resolver:Cy(t,n),subPrefixes:n.filter(u=>!u.toLowerCase().includes("hover"))},s.set(a,i)),i}const _B=e=>en(e)&&Object.getOwnPropertyNames(e).some(t=>Ui(e[t]));function jB(e,t){const{isScriptable:n,isIndexable:s}=TE(e);for(const a of t){const i=n(a),l=s(a),u=(l||i)&&e[a];if(i&&(Ui(u)||_B(u))||l&&rs(u))return!0}return!1}var SB="4.5.0";const NB=["top","bottom","left","right","chartArea"];function K1(e,t){return e==="top"||e==="bottom"||NB.indexOf(e)===-1&&t==="x"}function Q1(e,t){return function(n,s){return n[e]===s[e]?n[t]-s[t]:n[e]-s[e]}}function Z1(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),wn(n&&n.onComplete,[e],t)}function EB(e){const t=e.chart,n=t.options.animation;wn(n&&n.onProgress,[e],t)}function IE(e){return Ay()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Eh={},J1=e=>{const t=IE(e);return Object.values(Eh).filter(n=>n.canvas===t).pop()};function TB(e,t,n){const s=Object.keys(e);for(const a of s){const i=+a;if(i>=t){const l=e[a];delete e[a],(n>0||i>t)&&(e[i+n]=l)}}}function CB(e,t,n,s){return!n||e.type==="mouseout"?null:s?t:e}var ji;let wm=(ji=class{static register(...t){sa.add(...t),eS()}static unregister(...t){sa.remove(...t),eS()}constructor(t,n){const s=this.config=new wB(n),a=IE(t),i=J1(a);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const l=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||WU(a)),this.platform.updateConfig(s);const u=this.platform.acquireContext(a,l.aspectRatio),f=u&&u.canvas,h=f&&f.height,p=f&&f.width;if(this.id=q6(),this.ctx=u,this.canvas=f,this.width=p,this.height=h,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new uB,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=cz(g=>this.update(g),l.resizeDelay||0),this._dataChanges=[],Eh[this.id]=this,!u||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Ua.listen(this,"complete",Z1),Ua.listen(this,"progress",EB),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:s,height:a,_aspectRatio:i}=this;return gn(t)?n&&i?i:a?s/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return sa}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():N1(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return w1(this.canvas,this.ctx),this}stop(){return Ua.stop(this),this}resize(t,n){Ua.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const s=this.options,a=this.canvas,i=s.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(a,t,n,i),u=s.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,N1(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),wn(s.onResize,[this,l],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};on(n,(s,a)=>{s.id=a})}buildOrUpdateScales(){const t=this.options,n=t.scales,s=this.scales,a=Object.keys(s).reduce((l,u)=>(l[u]=!1,l),{});let i=[];n&&(i=i.concat(Object.keys(n).map(l=>{const u=n[l],f=ux(l,u),h=f==="r",p=f==="x";return{options:u,dposition:h?"chartArea":p?"bottom":"left",dtype:h?"radialLinear":p?"category":"linear"}}))),on(i,l=>{const u=l.options,f=u.id,h=ux(f,u),p=Jt(u.type,l.dtype);(u.position===void 0||K1(u.position,h)!==K1(l.dposition))&&(u.position=l.dposition),a[f]=!0;let g=null;if(f in s&&s[f].type===p)g=s[f];else{const b=sa.getScale(p);g=new b({id:f,type:p,ctx:this.ctx,chart:this}),s[g.id]=g}g.init(u,t)}),on(a,(l,u)=>{l||delete s[u]}),on(s,l=>{jr.configure(this,l,l.options),jr.addBox(this,l)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,s=t.length;if(t.sort((a,i)=>a.index-i.index),s>n){for(let a=n;a<s;++a)this._destroyDatasetMeta(a);t.splice(n,s-n)}this._sortedMetasets=t.slice(0).sort(Q1("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((s,a)=>{n.filter(i=>i===s._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let s,a;for(this._removeUnreferencedMetasets(),s=0,a=n.length;s<a;s++){const i=n[s];let l=this.getDatasetMeta(s);const u=i.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(s),l=this.getDatasetMeta(s)),l.type=u,l.indexAxis=i.indexAxis||cx(u,this.options),l.order=i.order||0,l.index=s,l.label=""+i.label,l.visible=this.isDatasetVisible(s),l.controller)l.controller.updateIndex(s),l.controller.linkScales();else{const f=sa.getController(u),{datasetElementType:h,dataElementType:p}=$n.datasets[u];Object.assign(f,{dataElementType:sa.getElement(p),datasetElementType:h&&sa.getElement(h)}),l.controller=new f(this,s),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){on(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let h=0,p=this.data.datasets.length;h<p;h++){const{controller:g}=this.getDatasetMeta(h),b=!a&&i.indexOf(g)===-1;g.buildOrUpdateElements(b),l=Math.max(+g.getMaxOverflow(),l)}l=this._minPadding=s.layout.autoPadding?l:0,this._updateLayout(l),a||on(i,h=>{h.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Q1("z","_idx"));const{_active:u,_lastEvent:f}=this;f?this._eventHandler(f,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){on(this.scales,t=>{jr.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!d1(n,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:a,count:i}of n){const l=s==="_removeElements"?-i:i;TB(t,a,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=i=>new Set(t.filter(l=>l[0]===i).map((l,u)=>u+","+l.splice(1).join(","))),a=s(0);for(let i=1;i<n;i++)if(!d1(a,s(i)))return;return Array.from(a).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;jr.update(this,this.width,this.height,t);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],on(this.boxes,a=>{s&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,i)=>{a._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Ui(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const s=this.getDatasetMeta(t),a={meta:s,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(s.controller._update(n),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ua.has(this)?this.attached&&!Ua.running(this)&&Ua.start(this):(this.draw(),Z1({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,s=[];let a,i;for(a=0,i=n.length;a<i;++a){const l=n[a];(!t||l.visible)&&s.push(l)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,s={meta:t,index:t.index,cancelable:!0},a=Xz(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(a&&Ny(n,a),t.controller.draw(),a&&Ey(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return NE(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,s,a){const i=NU.modes[n];return typeof i=="function"?i(this,t,s,a):[]}getDatasetMeta(t){const n=this.data.datasets[t],s=this._metasets;let a=s.filter(i=>i&&i._dataset===n).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},s.push(a)),a}getContext(){return this.$context||(this.$context=cc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(t,n){const s=this.getDatasetMeta(t);s.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,s){const a=s?"show":"hide",i=this.getDatasetMeta(t),l=i.controller._resolveAnimations(void 0,a);Qu(n)?(i.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),l.update(i,{visible:s}),this.update(u=>u.datasetIndex===t?a:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Ua.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),w1(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Eh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,s=(i,l)=>{n.addEventListener(this,i,l),t[i]=l},a=(i,l,u)=>{i.offsetX=l,i.offsetY=u,this._eventHandler(i)};on(this.options.events,i=>s(i,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,s=(f,h)=>{n.addEventListener(this,f,h),t[f]=h},a=(f,h)=>{t[f]&&(n.removeEventListener(this,f,h),delete t[f])},i=(f,h)=>{this.canvas&&this.resize(f,h)};let l;const u=()=>{a("attach",u),this.attached=!0,this.resize(),s("resize",i),s("detach",l)};l=()=>{this.attached=!1,a("resize",i),this._stop(),this._resize(0,0),s("attach",u)},n.isAttached(this.canvas)?u():l()}unbindEvents(){on(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},on(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,s){const a=s?"set":"remove";let i,l,u,f;for(n==="dataset"&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+a+"DatasetHoverStyle"]()),u=0,f=t.length;u<f;++u){l=t[u];const h=l&&this.getDatasetMeta(l.datasetIndex).controller;h&&h[a+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],s=t.map(({datasetIndex:i,index:l})=>{const u=this.getDatasetMeta(i);if(!u)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:u.data[l],index:l}});!Bh(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(t,n,s){return this._plugins.notify(this,t,n,s)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,s){const a=this.options.hover,i=(f,h)=>f.filter(p=>!h.some(g=>p.datasetIndex===g.datasetIndex&&p.index===g.index)),l=i(n,t),u=s?t:i(t,n);l.length&&this.updateHoverStyle(l,a.mode,!1),u.length&&a.mode&&this.updateHoverStyle(u,a.mode,!0)}_eventHandler(t,n){const s={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},a=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,a)===!1)return;const i=this._handleEvent(t,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,a),(i||s.changed)&&this.render(),this}_handleEvent(t,n,s){const{_active:a=[],options:i}=this,l=n,u=this._getActiveElements(t,a,s,l),f=Q6(t),h=CB(t,this._lastEvent,s,f);s&&(this._lastEvent=null,wn(i.onHover,[t,u,this],this),f&&wn(i.onClick,[t,u,this],this));const p=!Bh(u,a);return(p||n)&&(this._active=u,this._updateHoverStyles(u,a,n)),this._lastEvent=h,p}_getActiveElements(t,n,s,a){if(t.type==="mouseout")return[];if(!s)return n;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,a)}},ft(ji,"defaults",$n),ft(ji,"instances",Eh),ft(ji,"overrides",Uo),ft(ji,"registry",sa),ft(ji,"version",SB),ft(ji,"getChart",J1),ji);function eS(){return on(wm.instances,e=>e._plugins.invalidate())}function kB(e,t,n){const{startAngle:s,x:a,y:i,outerRadius:l,innerRadius:u,options:f}=t,{borderWidth:h,borderJoinStyle:p}=f,g=Math.min(h/l,ra(s-n));if(e.beginPath(),e.arc(a,i,l-h/2,s+g/2,n-g/2),u>0){const b=Math.min(h/u,ra(s-n));e.arc(a,i,u+h/2,n-b/2,s+b/2,!0)}else{const b=Math.min(h/2,l*ra(s-n));if(p==="round")e.arc(a,i,b,n-pn/2,s+pn/2,!0);else if(p==="bevel"){const x=2*b*b,w=-x*Math.cos(n+pn/2)+a,_=-x*Math.sin(n+pn/2)+i,S=x*Math.cos(s+pn/2)+a,N=x*Math.sin(s+pn/2)+i;e.lineTo(w,_),e.lineTo(S,N)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function OB(e,t,n){const{startAngle:s,pixelMargin:a,x:i,y:l,outerRadius:u,innerRadius:f}=t;let h=a/u;e.beginPath(),e.arc(i,l,u,s-h,n+h),f>a?(h=a/f,e.arc(i,l,f,n+h,s-h,!0)):e.arc(i,l,a,n+as,s-as),e.closePath(),e.clip()}function AB(e){return Ty(e,["outerStart","outerEnd","innerStart","innerEnd"])}function DB(e,t,n,s){const a=AB(e.options.borderRadius),i=(n-t)/2,l=Math.min(i,s*t/2),u=f=>{const h=(n-Math.min(i,f))*s/2;return Ws(f,0,Math.min(i,h))};return{outerStart:u(a.outerStart),outerEnd:u(a.outerEnd),innerStart:Ws(a.innerStart,0,l),innerEnd:Ws(a.innerEnd,0,l)}}function Ll(e,t,n,s){return{x:n+e*Math.cos(t),y:s+e*Math.sin(t)}}function Yh(e,t,n,s,a,i){const{x:l,y:u,startAngle:f,pixelMargin:h,innerRadius:p}=t,g=Math.max(t.outerRadius+s+n-h,0),b=p>0?p+s+n+h:0;let x=0;const w=a-f;if(s){const G=p>0?p-s:0,H=g>0?g-s:0,te=(G+H)/2,ne=te!==0?w*te/(te+s):w;x=(w-ne)/2}const _=Math.max(.001,w*g-n/pn)/g,S=(w-_)/2,N=f+S+x,R=a-S-x,{outerStart:A,outerEnd:C,innerStart:k,innerEnd:D}=DB(t,b,g,R-N),M=g-A,E=g-C,P=N+A/M,K=R-C/E,W=b+k,Y=b+D,q=N+k/W,J=R-D/Y;if(e.beginPath(),i){const G=(P+K)/2;if(e.arc(l,u,g,P,G),e.arc(l,u,g,G,K),C>0){const le=Ll(E,K,l,u);e.arc(le.x,le.y,C,K,R+as)}const H=Ll(Y,R,l,u);if(e.lineTo(H.x,H.y),D>0){const le=Ll(Y,J,l,u);e.arc(le.x,le.y,D,R+as,J+Math.PI)}const te=(R-D/b+(N+k/b))/2;if(e.arc(l,u,b,R-D/b,te,!0),e.arc(l,u,b,te,N+k/b,!0),k>0){const le=Ll(W,q,l,u);e.arc(le.x,le.y,k,q+Math.PI,N-as)}const ne=Ll(M,N,l,u);if(e.lineTo(ne.x,ne.y),A>0){const le=Ll(M,P,l,u);e.arc(le.x,le.y,A,N-as,P)}}else{e.moveTo(l,u);const G=Math.cos(P)*g+l,H=Math.sin(P)*g+u;e.lineTo(G,H);const te=Math.cos(K)*g+l,ne=Math.sin(K)*g+u;e.lineTo(te,ne)}e.closePath()}function RB(e,t,n,s,a){const{fullCircles:i,startAngle:l,circumference:u}=t;let f=t.endAngle;if(i){Yh(e,t,n,s,f,a);for(let h=0;h<i;++h)e.fill();isNaN(u)||(f=l+(u%Kn||Kn))}return Yh(e,t,n,s,f,a),e.fill(),f}function MB(e,t,n,s,a){const{fullCircles:i,startAngle:l,circumference:u,options:f}=t,{borderWidth:h,borderJoinStyle:p,borderDash:g,borderDashOffset:b,borderRadius:x}=f,w=f.borderAlign==="inner";if(!h)return;e.setLineDash(g||[]),e.lineDashOffset=b,w?(e.lineWidth=h*2,e.lineJoin=p||"round"):(e.lineWidth=h,e.lineJoin=p||"bevel");let _=t.endAngle;if(i){Yh(e,t,n,s,_,a);for(let S=0;S<i;++S)e.stroke();isNaN(u)||(_=l+(u%Kn||Kn))}w&&OB(e,t,_),f.selfJoin&&_-l>=pn&&x===0&&p!=="miter"&&kB(e,t,_),i||(Yh(e,t,n,s,_,a),e.stroke())}class Mu extends Io{constructor(n){super();ft(this,"circumference");ft(this,"endAngle");ft(this,"fullCircles");ft(this,"innerRadius");ft(this,"outerRadius");ft(this,"pixelMargin");ft(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,a){const i=this.getProps(["x","y"],a),{angle:l,distance:u}=xE(i,{x:n,y:s}),{startAngle:f,endAngle:h,innerRadius:p,outerRadius:g,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),x=(this.options.spacing+this.options.borderWidth)/2,w=Jt(b,h-f),_=Vh(l,f,h)&&f!==h,S=w>=Kn||_,N=ko(u,p+x,g+x);return S&&N}getCenterPoint(n){const{x:s,y:a,startAngle:i,endAngle:l,innerRadius:u,outerRadius:f}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:h,spacing:p}=this.options,g=(i+l)/2,b=(u+f+p+h)/2;return{x:s+Math.cos(g)*b,y:a+Math.sin(g)*b}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:a}=this,i=(s.offset||0)/4,l=(s.spacing||0)/2,u=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=a>Kn?Math.floor(a/Kn):0,a===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const f=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(f)*i,Math.sin(f)*i);const h=1-Math.sin(Math.min(pn,a||0)),p=i*h;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,RB(n,this,p,l,u),MB(n,this,p,l,u),n.restore()}}ft(Mu,"id","arc"),ft(Mu,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),ft(Mu,"defaultRoutes",{backgroundColor:"backgroundColor"}),ft(Mu,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function qE(e,t){const{x:n,y:s,base:a,width:i,height:l}=e.getProps(["x","y","base","width","height"],t);let u,f,h,p,g;return e.horizontal?(g=l/2,u=Math.min(n,a),f=Math.max(n,a),h=s-g,p=s+g):(g=i/2,u=n-g,f=n+g,h=Math.min(s,a),p=Math.max(s,a)),{left:u,top:h,right:f,bottom:p}}function ki(e,t,n,s){return e?0:Ws(t,n,s)}function PB(e,t,n){const s=e.options.borderWidth,a=e.borderSkipped,i=EE(s);return{t:ki(a.top,i.top,0,n),r:ki(a.right,i.right,0,t),b:ki(a.bottom,i.bottom,0,n),l:ki(a.left,i.left,0,t)}}function LB(e,t,n){const{enableBorderRadius:s}=e.getProps(["enableBorderRadius"]),a=e.options.borderRadius,i=Xl(a),l=Math.min(t,n),u=e.borderSkipped,f=s||en(a);return{topLeft:ki(!f||u.top||u.left,i.topLeft,0,l),topRight:ki(!f||u.top||u.right,i.topRight,0,l),bottomLeft:ki(!f||u.bottom||u.left,i.bottomLeft,0,l),bottomRight:ki(!f||u.bottom||u.right,i.bottomRight,0,l)}}function zB(e){const t=qE(e),n=t.right-t.left,s=t.bottom-t.top,a=PB(e,n/2,s/2),i=LB(e,n/2,s/2);return{outer:{x:t.left,y:t.top,w:n,h:s,radius:i},inner:{x:t.left+a.l,y:t.top+a.t,w:n-a.l-a.r,h:s-a.t-a.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,i.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(a.b,a.r))}}}}function p0(e,t,n,s){const a=t===null,i=n===null,u=e&&!(a&&i)&&qE(e,s);return u&&(a||ko(t,u.left,u.right))&&(i||ko(n,u.top,u.bottom))}function UB(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function BB(e,t){e.rect(t.x,t.y,t.w,t.h)}function g0(e,t,n={}){const s=e.x!==n.x?-t:0,a=e.y!==n.y?-t:0,i=(e.x+e.w!==n.x+n.w?t:0)-s,l=(e.y+e.h!==n.y+n.h?t:0)-a;return{x:e.x+s,y:e.y+a,w:e.w+i,h:e.h+l,radius:e.radius}}class Th extends Io{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:s,backgroundColor:a}}=this,{inner:i,outer:l}=zB(this),u=UB(l.radius)?Ih:BB;t.save(),(l.w!==i.w||l.h!==i.h)&&(t.beginPath(),u(t,g0(l,n,i)),t.clip(),u(t,g0(i,-n,l)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),u(t,g0(i,n)),t.fillStyle=a,t.fill(),t.restore()}inRange(t,n,s){return p0(this,t,n,s)}inXRange(t,n){return p0(this,t,null,n)}inYRange(t,n){return p0(this,null,t,n)}getCenterPoint(t){const{x:n,y:s,base:a,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(n+a)/2:n,y:i?s:(s+a)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}ft(Th,"id","bar"),ft(Th,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ft(Th,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const tS=(e,t)=>{let{boxHeight:n=t,boxWidth:s=t}=e;return e.usePointStyle&&(n=Math.min(n,t),s=e.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(t,n)}},FB=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class nS extends Io{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,s){this.maxWidth=t,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=wn(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(s=>t.filter(s,this.chart.data))),t.sort&&(n=n.sort((s,a)=>t.sort(s,a,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,a=ks(s.font),i=a.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:f}=tS(s,i);let h,p;n.font=a.string,this.isHorizontal()?(h=this.maxWidth,p=this._fitRows(l,i,u,f)+10):(p=this.maxHeight,h=this._fitCols(l,a,u,f)+10),this.width=Math.min(h,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,n,s,a){const{ctx:i,maxWidth:l,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],h=this.lineWidths=[0],p=a+u;let g=t;i.textAlign="left",i.textBaseline="middle";let b=-1,x=-p;return this.legendItems.forEach((w,_)=>{const S=s+n/2+i.measureText(w.text).width;(_===0||h[h.length-1]+S+2*u>l)&&(g+=p,h[h.length-(_>0?0:1)]=0,x+=p,b++),f[_]={left:0,top:x,row:b,width:S,height:a},h[h.length-1]+=S+u}),g}_fitCols(t,n,s,a){const{ctx:i,maxHeight:l,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],h=this.columnSizes=[],p=l-t;let g=u,b=0,x=0,w=0,_=0;return this.legendItems.forEach((S,N)=>{const{itemWidth:R,itemHeight:A}=$B(s,n,i,S,a);N>0&&x+A+2*u>p&&(g+=b+u,h.push({width:b,height:x}),w+=b+u,_++,b=x=0),f[N]={left:w,top:x,col:_,width:R,height:A},b=Math.max(b,R),x+=A+u}),g+=b,h.push({width:b,height:x}),g}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:a},rtl:i}}=this,l=Gl(i,this.left,this.width);if(this.isHorizontal()){let u=0,f=Ts(s,this.left+a,this.right-this.lineWidths[u]);for(const h of n)u!==h.row&&(u=h.row,f=Ts(s,this.left+a,this.right-this.lineWidths[u])),h.top+=this.top+t+a,h.left=l.leftForLtr(l.x(f),h.width),f+=h.width+a}else{let u=0,f=Ts(s,this.top+t+a,this.bottom-this.columnSizes[u].height);for(const h of n)h.col!==u&&(u=h.col,f=Ts(s,this.top+t+a,this.bottom-this.columnSizes[u].height)),h.top=f,h.left+=this.left+a,h.left=l.leftForLtr(l.x(h.left),h.width),f+=h.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Ny(t,this),this._draw(),Ey(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:s,ctx:a}=this,{align:i,labels:l}=t,u=$n.color,f=Gl(t.rtl,this.left,this.width),h=ks(l.font),{padding:p}=l,g=h.size,b=g/2;let x;this.drawTitle(),a.textAlign=f.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=h.string;const{boxWidth:w,boxHeight:_,itemHeight:S}=tS(l,g),N=function(D,M,E){if(isNaN(w)||w<=0||isNaN(_)||_<0)return;a.save();const P=Jt(E.lineWidth,1);if(a.fillStyle=Jt(E.fillStyle,u),a.lineCap=Jt(E.lineCap,"butt"),a.lineDashOffset=Jt(E.lineDashOffset,0),a.lineJoin=Jt(E.lineJoin,"miter"),a.lineWidth=P,a.strokeStyle=Jt(E.strokeStyle,u),a.setLineDash(Jt(E.lineDash,[])),l.usePointStyle){const K={radius:_*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:P},W=f.xPlus(D,w/2),Y=M+b;SE(a,K,W,Y,l.pointStyleWidth&&w)}else{const K=M+Math.max((g-_)/2,0),W=f.leftForLtr(D,w),Y=Xl(E.borderRadius);a.beginPath(),Object.values(Y).some(q=>q!==0)?Ih(a,{x:W,y:K,w,h:_,radius:Y}):a.rect(W,K,w,_),a.fill(),P!==0&&a.stroke()}a.restore()},R=function(D,M,E){Zu(a,E.text,D,M+S/2,h,{strikethrough:E.hidden,textAlign:f.textAlign(E.textAlign)})},A=this.isHorizontal(),C=this._computeTitleHeight();A?x={x:Ts(i,this.left+p,this.right-s[0]),y:this.top+p+C,line:0}:x={x:this.left+p,y:Ts(i,this.top+C+p,this.bottom-n[0].height),line:0},AE(this.ctx,t.textDirection);const k=S+p;this.legendItems.forEach((D,M)=>{a.strokeStyle=D.fontColor,a.fillStyle=D.fontColor;const E=a.measureText(D.text).width,P=f.textAlign(D.textAlign||(D.textAlign=l.textAlign)),K=w+b+E;let W=x.x,Y=x.y;f.setWidth(this.width),A?M>0&&W+K+p>this.right&&(Y=x.y+=k,x.line++,W=x.x=Ts(i,this.left+p,this.right-s[x.line])):M>0&&Y+k>this.bottom&&(W=x.x=W+n[x.line].width+p,x.line++,Y=x.y=Ts(i,this.top+C+p,this.bottom-n[x.line].height));const q=f.x(W);if(N(q,Y,D),W=uz(P,W+w+b,A?W+K:this.right,t.rtl),R(f.x(W),Y,D),A)x.x+=K+p;else if(typeof D.text!="string"){const J=h.lineHeight;x.y+=WE(D,J)+p}else x.y+=k}),DE(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,s=ks(n.font),a=Tr(n.padding);if(!n.display)return;const i=Gl(t.rtl,this.left,this.width),l=this.ctx,u=n.position,f=s.size/2,h=a.top+f;let p,g=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),p=this.top+h,g=Ts(t.align,g,this.right-b);else{const w=this.columnSizes.reduce((_,S)=>Math.max(_,S.height),0);p=h+Ts(t.align,this.top,this.bottom-w-t.labels.padding-this._computeTitleHeight())}const x=Ts(u,g,g+b);l.textAlign=i.textAlign(jy(u)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=s.string,Zu(l,n.text,x,p,s)}_computeTitleHeight(){const t=this.options.title,n=ks(t.font),s=Tr(t.padding);return t.display?n.lineHeight+s.height:0}_getLegendItemAt(t,n){let s,a,i;if(ko(t,this.left,this.right)&&ko(n,this.top,this.bottom)){for(i=this.legendHitBoxes,s=0;s<i.length;++s)if(a=i[s],ko(t,a.left,a.left+a.width)&&ko(n,a.top,a.top+a.height))return this.legendItems[s]}return null}handleEvent(t){const n=this.options;if(!IB(t.type,n))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const a=this._hoveredItem,i=FB(a,s);a&&!i&&wn(n.onLeave,[t,a,this],this),this._hoveredItem=s,s&&!i&&wn(n.onHover,[t,s,this],this)}else s&&wn(n.onClick,[t,s,this],this)}}function $B(e,t,n,s,a){const i=HB(s,e,t,n),l=VB(a,s,t.lineHeight);return{itemWidth:i,itemHeight:l}}function HB(e,t,n,s){let a=e.text;return a&&typeof a!="string"&&(a=a.reduce((i,l)=>i.length>l.length?i:l)),t+n.size/2+s.measureText(a).width}function VB(e,t,n){let s=e;return typeof t.text!="string"&&(s=WE(t,n)),s}function WE(e,t){const n=e.text?e.text.length:0;return t*n}function IB(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var qB={id:"legend",_element:nS,start(e,t,n){const s=e.legend=new nS({ctx:e.ctx,options:n,chart:e});jr.configure(e,s,n),jr.addBox(e,s)},stop(e){jr.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const s=e.legend;jr.configure(e,s,n),s.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const s=t.datasetIndex,a=n.chart;a.isDatasetVisible(s)?(a.hide(s),t.hidden=!0):(a.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:a,color:i,useBorderRadius:l,borderRadius:u}}=e.legend.options;return e._getSortedDatasetMetas().map(f=>{const h=f.controller.getStyle(n?0:void 0),p=Tr(h.borderWidth);return{text:t[f.index].label,fillStyle:h.backgroundColor,fontColor:i,hidden:!f.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:h.borderColor,pointStyle:s||h.pointStyle,rotation:h.rotation,textAlign:a||h.textAlign,borderRadius:l&&(u||h.borderRadius),datasetIndex:f.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};let YE=class extends Io{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const a=rs(s.text)?s.text.length:1;this._padding=Tr(s.padding);const i=a*ks(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:s,bottom:a,right:i,options:l}=this,u=l.align;let f=0,h,p,g;return this.isHorizontal()?(p=Ts(u,s,i),g=n+t,h=i-s):(l.position==="left"?(p=s+t,g=Ts(u,a,n),f=pn*-.5):(p=i-t,g=Ts(u,n,a),f=pn*.5),h=a-n),{titleX:p,titleY:g,maxWidth:h,rotation:f}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const s=ks(n.font),i=s.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:f,rotation:h}=this._drawArgs(i);Zu(t,n.text,0,0,s,{color:n.color,maxWidth:f,rotation:h,textAlign:jy(n.align),textBaseline:"middle",translation:[l,u]})}};function WB(e,t){const n=new YE({ctx:e.ctx,options:t,chart:e});jr.configure(e,n,t),jr.addBox(e,n),e.titleBlock=n}var YB={id:"title",_element:YE,start(e,t,n){WB(e,n)},stop(e){const t=e.titleBlock;jr.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const s=e.titleBlock;jr.configure(e,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Pu={average(e){if(!e.length)return!1;let t,n,s=new Set,a=0,i=0;for(t=0,n=e.length;t<n;++t){const u=e[t].element;if(u&&u.hasValue()){const f=u.tooltipPosition();s.add(f.x),a+=f.y,++i}}return i===0||s.size===0?!1:{x:[...s].reduce((u,f)=>u+f)/s.size,y:a/i}},nearest(e,t){if(!e.length)return!1;let n=t.x,s=t.y,a=Number.POSITIVE_INFINITY,i,l,u;for(i=0,l=e.length;i<l;++i){const f=e[i].element;if(f&&f.hasValue()){const h=f.getCenterPoint(),p=rz(t,h);p<a&&(a=p,u=f)}}if(u){const f=u.tooltipPosition();n=f.x,s=f.y}return{x:n,y:s}}};function na(e,t){return t&&(rs(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Ba(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function XB(e,t){const{element:n,datasetIndex:s,index:a}=t,i=e.getDatasetMeta(s).controller,{label:l,value:u}=i.getLabelAndValue(a);return{chart:e,label:l,parsed:i.getParsed(a),raw:e.data.datasets[s].data[a],formattedValue:u,dataset:i.getDataset(),dataIndex:a,datasetIndex:s,element:n}}function sS(e,t){const n=e.chart.ctx,{body:s,footer:a,title:i}=e,{boxWidth:l,boxHeight:u}=t,f=ks(t.bodyFont),h=ks(t.titleFont),p=ks(t.footerFont),g=i.length,b=a.length,x=s.length,w=Tr(t.padding);let _=w.height,S=0,N=s.reduce((C,k)=>C+k.before.length+k.lines.length+k.after.length,0);if(N+=e.beforeBody.length+e.afterBody.length,g&&(_+=g*h.lineHeight+(g-1)*t.titleSpacing+t.titleMarginBottom),N){const C=t.displayColors?Math.max(u,f.lineHeight):f.lineHeight;_+=x*C+(N-x)*f.lineHeight+(N-1)*t.bodySpacing}b&&(_+=t.footerMarginTop+b*p.lineHeight+(b-1)*t.footerSpacing);let R=0;const A=function(C){S=Math.max(S,n.measureText(C).width+R)};return n.save(),n.font=h.string,on(e.title,A),n.font=f.string,on(e.beforeBody.concat(e.afterBody),A),R=t.displayColors?l+2+t.boxPadding:0,on(s,C=>{on(C.before,A),on(C.lines,A),on(C.after,A)}),R=0,n.font=p.string,on(e.footer,A),n.restore(),S+=w.width,{width:S,height:_}}function GB(e,t){const{y:n,height:s}=t;return n<s/2?"top":n>e.height-s/2?"bottom":"center"}function KB(e,t,n,s){const{x:a,width:i}=s,l=n.caretSize+n.caretPadding;if(e==="left"&&a+i+l>t.width||e==="right"&&a-i-l<0)return!0}function QB(e,t,n,s){const{x:a,width:i}=n,{width:l,chartArea:{left:u,right:f}}=e;let h="center";return s==="center"?h=a<=(u+f)/2?"left":"right":a<=i/2?h="left":a>=l-i/2&&(h="right"),KB(h,e,t,n)&&(h="center"),h}function rS(e,t,n){const s=n.yAlign||t.yAlign||GB(e,n);return{xAlign:n.xAlign||t.xAlign||QB(e,t,n,s),yAlign:s}}function ZB(e,t){let{x:n,width:s}=e;return t==="right"?n-=s:t==="center"&&(n-=s/2),n}function JB(e,t,n){let{y:s,height:a}=e;return t==="top"?s+=n:t==="bottom"?s-=a+n:s-=a/2,s}function aS(e,t,n,s){const{caretSize:a,caretPadding:i,cornerRadius:l}=e,{xAlign:u,yAlign:f}=n,h=a+i,{topLeft:p,topRight:g,bottomLeft:b,bottomRight:x}=Xl(l);let w=ZB(t,u);const _=JB(t,f,h);return f==="center"?u==="left"?w+=h:u==="right"&&(w-=h):u==="left"?w-=Math.max(p,b)+a:u==="right"&&(w+=Math.max(g,x)+a),{x:Ws(w,0,s.width-t.width),y:Ws(_,0,s.height-t.height)}}function eh(e,t,n){const s=Tr(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-s.right:e.x+s.left}function iS(e){return na([],Ba(e))}function eF(e,t,n){return cc(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function oS(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const XE={beforeTitle:La,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return n[t.dataIndex]}return""},afterTitle:La,beforeBody:La,beforeLabel:La,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return gn(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:La,afterBody:La,beforeFooter:La,footer:La,afterFooter:La};function Fs(e,t,n,s){const a=e[t].call(n,s);return typeof a=="undefined"?XE[t].call(n,s):a}class dx extends Io{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,s=this.options.setContext(this.getContext()),a=s.enabled&&n.options.animation&&s.animations,i=new RE(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=eF(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:s}=n,a=Fs(s,"beforeTitle",this,t),i=Fs(s,"title",this,t),l=Fs(s,"afterTitle",this,t);let u=[];return u=na(u,Ba(a)),u=na(u,Ba(i)),u=na(u,Ba(l)),u}getBeforeBody(t,n){return iS(Fs(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:s}=n,a=[];return on(t,i=>{const l={before:[],lines:[],after:[]},u=oS(s,i);na(l.before,Ba(Fs(u,"beforeLabel",this,i))),na(l.lines,Fs(u,"label",this,i)),na(l.after,Ba(Fs(u,"afterLabel",this,i))),a.push(l)}),a}getAfterBody(t,n){return iS(Fs(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:s}=n,a=Fs(s,"beforeFooter",this,t),i=Fs(s,"footer",this,t),l=Fs(s,"afterFooter",this,t);let u=[];return u=na(u,Ba(a)),u=na(u,Ba(i)),u=na(u,Ba(l)),u}_createItems(t){const n=this._active,s=this.chart.data,a=[],i=[],l=[];let u=[],f,h;for(f=0,h=n.length;f<h;++f)u.push(XB(this.chart,n[f]));return t.filter&&(u=u.filter((p,g,b)=>t.filter(p,g,b,s))),t.itemSort&&(u=u.sort((p,g)=>t.itemSort(p,g,s))),on(u,p=>{const g=oS(t.callbacks,p);a.push(Fs(g,"labelColor",this,p)),i.push(Fs(g,"labelPointStyle",this,p)),l.push(Fs(g,"labelTextColor",this,p))}),this.labelColors=a,this.labelPointStyles=i,this.labelTextColors=l,this.dataPoints=u,u}update(t,n){const s=this.options.setContext(this.getContext()),a=this._active;let i,l=[];if(!a.length)this.opacity!==0&&(i={opacity:0});else{const u=Pu[s.position].call(this,a,this._eventPosition);l=this._createItems(s),this.title=this.getTitle(l,s),this.beforeBody=this.getBeforeBody(l,s),this.body=this.getBody(l,s),this.afterBody=this.getAfterBody(l,s),this.footer=this.getFooter(l,s);const f=this._size=sS(this,s),h=Object.assign({},u,f),p=rS(this.chart,s,h),g=aS(s,h,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,i={opacity:1,x:g.x,y:g.y,width:f.width,height:f.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,s,a){const i=this.getCaretPosition(t,s,a);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(t,n,s){const{xAlign:a,yAlign:i}=this,{caretSize:l,cornerRadius:u}=s,{topLeft:f,topRight:h,bottomLeft:p,bottomRight:g}=Xl(u),{x:b,y:x}=t,{width:w,height:_}=n;let S,N,R,A,C,k;return i==="center"?(C=x+_/2,a==="left"?(S=b,N=S-l,A=C+l,k=C-l):(S=b+w,N=S+l,A=C-l,k=C+l),R=S):(a==="left"?N=b+Math.max(f,p)+l:a==="right"?N=b+w-Math.max(h,g)-l:N=this.caretX,i==="top"?(A=x,C=A-l,S=N-l,R=N+l):(A=x+_,C=A+l,S=N+l,R=N-l),k=A),{x1:S,x2:N,x3:R,y1:A,y2:C,y3:k}}drawTitle(t,n,s){const a=this.title,i=a.length;let l,u,f;if(i){const h=Gl(s.rtl,this.x,this.width);for(t.x=eh(this,s.titleAlign,s),n.textAlign=h.textAlign(s.titleAlign),n.textBaseline="middle",l=ks(s.titleFont),u=s.titleSpacing,n.fillStyle=s.titleColor,n.font=l.string,f=0;f<i;++f)n.fillText(a[f],h.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+u,f+1===i&&(t.y+=s.titleMarginBottom-u)}}_drawColorBox(t,n,s,a,i){const l=this.labelColors[s],u=this.labelPointStyles[s],{boxHeight:f,boxWidth:h}=i,p=ks(i.bodyFont),g=eh(this,"left",i),b=a.x(g),x=f<p.lineHeight?(p.lineHeight-f)/2:0,w=n.y+x;if(i.usePointStyle){const _={radius:Math.min(h,f)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},S=a.leftForLtr(b,h)+h/2,N=w+f/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,_1(t,_,S,N),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,_1(t,_,S,N)}else{t.lineWidth=en(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const _=a.leftForLtr(b,h),S=a.leftForLtr(a.xPlus(b,1),h-2),N=Xl(l.borderRadius);Object.values(N).some(R=>R!==0)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,Ih(t,{x:_,y:w,w:h,h:f,radius:N}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),Ih(t,{x:S,y:w+1,w:h-2,h:f-2,radius:N}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(_,w,h,f),t.strokeRect(_,w,h,f),t.fillStyle=l.backgroundColor,t.fillRect(S,w+1,h-2,f-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,n,s){const{body:a}=this,{bodySpacing:i,bodyAlign:l,displayColors:u,boxHeight:f,boxWidth:h,boxPadding:p}=s,g=ks(s.bodyFont);let b=g.lineHeight,x=0;const w=Gl(s.rtl,this.x,this.width),_=function(E){n.fillText(E,w.x(t.x+x),t.y+b/2),t.y+=b+i},S=w.textAlign(l);let N,R,A,C,k,D,M;for(n.textAlign=l,n.textBaseline="middle",n.font=g.string,t.x=eh(this,S,s),n.fillStyle=s.bodyColor,on(this.beforeBody,_),x=u&&S!=="right"?l==="center"?h/2+p:h+2+p:0,C=0,D=a.length;C<D;++C){for(N=a[C],R=this.labelTextColors[C],n.fillStyle=R,on(N.before,_),A=N.lines,u&&A.length&&(this._drawColorBox(n,t,C,w,s),b=Math.max(g.lineHeight,f)),k=0,M=A.length;k<M;++k)_(A[k]),b=g.lineHeight;on(N.after,_)}x=0,b=g.lineHeight,on(this.afterBody,_),t.y-=i}drawFooter(t,n,s){const a=this.footer,i=a.length;let l,u;if(i){const f=Gl(s.rtl,this.x,this.width);for(t.x=eh(this,s.footerAlign,s),t.y+=s.footerMarginTop,n.textAlign=f.textAlign(s.footerAlign),n.textBaseline="middle",l=ks(s.footerFont),n.fillStyle=s.footerColor,n.font=l.string,u=0;u<i;++u)n.fillText(a[u],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+s.footerSpacing}}drawBackground(t,n,s,a){const{xAlign:i,yAlign:l}=this,{x:u,y:f}=t,{width:h,height:p}=s,{topLeft:g,topRight:b,bottomLeft:x,bottomRight:w}=Xl(a.cornerRadius);n.fillStyle=a.backgroundColor,n.strokeStyle=a.borderColor,n.lineWidth=a.borderWidth,n.beginPath(),n.moveTo(u+g,f),l==="top"&&this.drawCaret(t,n,s,a),n.lineTo(u+h-b,f),n.quadraticCurveTo(u+h,f,u+h,f+b),l==="center"&&i==="right"&&this.drawCaret(t,n,s,a),n.lineTo(u+h,f+p-w),n.quadraticCurveTo(u+h,f+p,u+h-w,f+p),l==="bottom"&&this.drawCaret(t,n,s,a),n.lineTo(u+x,f+p),n.quadraticCurveTo(u,f+p,u,f+p-x),l==="center"&&i==="left"&&this.drawCaret(t,n,s,a),n.lineTo(u,f+g),n.quadraticCurveTo(u,f,u+g,f),n.closePath(),n.fill(),a.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,s=this.$animations,a=s&&s.x,i=s&&s.y;if(a||i){const l=Pu[t.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=sS(this,t),f=Object.assign({},l,this._size),h=rS(n,t,f),p=aS(t,f,h,n);(a._to!==p.x||i._to!==p.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const a={width:this.width,height:this.height},i={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const l=Tr(n.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&u&&(t.save(),t.globalAlpha=s,this.drawBackground(i,t,a,n),AE(t,n.textDirection),i.y+=l.top,this.drawTitle(i,t,n),this.drawBody(i,t,n),this.drawFooter(i,t,n),DE(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const s=this._active,a=t.map(({datasetIndex:u,index:f})=>{const h=this.chart.getDatasetMeta(u);if(!h)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:h.data[f],index:f}}),i=!Bh(s,a),l=this._positionChanged(a,n);(i||l)&&(this._active=a,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,i=this._active||[],l=this._getActiveElements(t,i,n,s),u=this._positionChanged(l,t),f=n||!Bh(l,i)||u;return f&&(this._active=l,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),f}_getActiveElements(t,n,s,a){const i=this.options;if(t.type==="mouseout")return[];if(!a)return n.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,i.mode,i,s);return i.reverse&&l.reverse(),l}_positionChanged(t,n){const{caretX:s,caretY:a,options:i}=this,l=Pu[i.position].call(this,t,n);return l!==!1&&(s!==l.x||a!==l.y)}}ft(dx,"positioners",Pu);var tF={id:"tooltip",_element:dx,positioners:Pu,afterInit(e,t,n){n&&(e.tooltip=new dx({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",oe(z({},n),{cancelable:!0}))===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:XE},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const nF=(e,t,n,s)=>(typeof t=="string"?(n=e.push(t)-1,s.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function sF(e,t,n,s){const a=e.indexOf(t);if(a===-1)return nF(e,t,n,s);const i=e.lastIndexOf(t);return a!==i?n:a}const rF=(e,t)=>e===null?null:Ws(Math.round(e),0,t);function lS(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class fx extends uc{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:a,label:i}of n)s[a]===i&&s.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(gn(t))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===t?n:sF(s,t,Jt(n,t),this._addedLabels),rF(n,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:s,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),n||(a=this.getLabels().length-1)),this.min=s,this.max=a}buildTicks(){const t=this.min,n=this.max,s=this.options.offset,a=[];let i=this.getLabels();i=t===0&&n===i.length-1?i:i.slice(t,n+1),this._valueRange=Math.max(i.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let l=t;l<=n;l++)a.push({value:l});return a}getLabelForValue(t){return lS.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}ft(fx,"id","category"),ft(fx,"defaults",{ticks:{callback:lS}});function aF(e,t){const n=[],{bounds:a,step:i,min:l,max:u,precision:f,count:h,maxTicks:p,maxDigits:g,includeBounds:b}=e,x=i||1,w=p-1,{min:_,max:S}=t,N=!gn(l),R=!gn(u),A=!gn(h),C=(S-_)/(g+1);let k=h1((S-_)/w/x)*x,D,M,E,P;if(k<1e-14&&!N&&!R)return[{value:_},{value:S}];P=Math.ceil(S/k)-Math.floor(_/k),P>w&&(k=h1(P*k/w/x)*x),gn(f)||(D=Math.pow(10,f),k=Math.ceil(k*D)/D),a==="ticks"?(M=Math.floor(_/k)*k,E=Math.ceil(S/k)*k):(M=_,E=S),N&&R&&i&&tz((u-l)/i,k/1e3)?(P=Math.round(Math.min((u-l)/k,p)),k=(u-l)/P,M=l,E=u):A?(M=N?l:M,E=R?u:E,P=h-1,k=(E-M)/P):(P=(E-M)/k,jh(P,Math.round(P),k/1e3)?P=Math.round(P):P=Math.ceil(P));const K=Math.max(m1(k),m1(M));D=Math.pow(10,gn(f)?K:f),M=Math.round(M*D)/D,E=Math.round(E*D)/D;let W=0;for(N&&(b&&M!==l?(n.push({value:l}),M<l&&W++,jh(Math.round((M+W*k)*D)/D,l,cS(l,C,e))&&W++):M<l&&W++);W<P;++W){const Y=Math.round((M+W*k)*D)/D;if(R&&Y>u)break;n.push({value:Y})}return R&&b&&E!==u?n.length&&jh(n[n.length-1].value,u,cS(u,C,e))?n[n.length-1].value=u:n.push({value:u}):(!R||E===u)&&n.push({value:E}),n}function cS(e,t,{horizontal:n,minRotation:s}){const a=Va(s),i=(n?Math.sin(a):Math.cos(a))||.001,l=.75*t*(""+e).length;return Math.min(t/i,l)}class iF extends uc{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return gn(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:a,max:i}=this;const l=f=>a=n?a:f,u=f=>i=s?i:f;if(t){const f=Di(a),h=Di(i);f<0&&h<0?u(0):f>0&&h>0&&l(0)}if(a===i){let f=i===0?1:Math.abs(i*.05);u(i+f),t||l(a-f)}this.min=a,this.max=i}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=t,a;return s?(a=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),n=n||11),n&&(a=Math.min(n,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const a={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,l=aF(a,i);return t.bounds==="ticks"&&nz(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const a=(s-n)/Math.max(t.length-1,1)/2;n-=a,s+=a}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(t){return Sy(t,this.chart.options.locale,this.options.ticks.format)}}class hx extends iF{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Er(t)?t:0,this.max=Er(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,s=Va(this.options.ticks.minRotation),a=(t?Math.sin(s):Math.cos(s))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/a))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}ft(hx,"id","linear"),ft(hx,"defaults",{ticks:{callback:jE.formatters.numeric}});const _m={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Is=Object.keys(_m);function uS(e,t){return e-t}function dS(e,t){if(gn(t))return null;const n=e._adapter,{parser:s,round:a,isoWeekday:i}=e._parseOpts;let l=t;return typeof s=="function"&&(l=s(l)),Er(l)||(l=typeof s=="string"?n.parse(l,s):n.parse(l)),l===null?null:(a&&(l=a==="week"&&(Hh(i)||i===!0)?n.startOf(l,"isoWeek",i):n.startOf(l,a)),+l)}function fS(e,t,n,s){const a=Is.length;for(let i=Is.indexOf(e);i<a-1;++i){const l=_m[Is[i]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-t)/(u*l.size))<=s)return Is[i]}return Is[a-1]}function oF(e,t,n,s,a){for(let i=Is.length-1;i>=Is.indexOf(n);i--){const l=Is[i];if(_m[l].common&&e._adapter.diff(a,s,l)>=t-1)return l}return Is[n?Is.indexOf(n):0]}function lF(e){for(let t=Is.indexOf(e)+1,n=Is.length;t<n;++t)if(_m[Is[t]].common)return Is[t]}function hS(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:s,hi:a}=_y(n,t),i=n[s]>=t?n[s]:n[a];e[i]=!0}}function cF(e,t,n,s){const a=e._adapter,i=+a.startOf(t[0].value,s),l=t[t.length-1].value;let u,f;for(u=i;u<=l;u=+a.add(u,1,s))f=n[u],f>=0&&(t[f].major=!0);return t}function mS(e,t,n){const s=[],a={},i=t.length;let l,u;for(l=0;l<i;++l)u=t[l],a[u]=l,s.push({value:u,major:!1});return i===0||!n?s:cF(e,s,a,n)}class Xh extends uc{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const s=t.time||(t.time={}),a=this._adapter=new vU._date(t.adapters.date);a.init(n),Lu(s.displayFormats,a.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:dS(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,s=t.time.unit||"day";let{min:a,max:i,minDefined:l,maxDefined:u}=this.getUserBounds();function f(h){!l&&!isNaN(h.min)&&(a=Math.min(a,h.min)),!u&&!isNaN(h.max)&&(i=Math.max(i,h.max))}(!l||!u)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),a=Er(a)&&!isNaN(a)?a:+n.startOf(Date.now(),s),i=Er(i)&&!isNaN(i)?i:+n.endOf(Date.now(),s)+1,this.min=Math.min(a,i-1),this.max=Math.max(a+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],s=t[t.length-1]),{min:n,max:s}}buildTicks(){const t=this.options,n=t.time,s=t.ticks,a=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const i=this.min,l=this.max,u=oz(a,i,l);return this._unit=n.unit||(s.autoSkip?fS(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):oF(this,u.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:lF(this._unit),this.initOffsets(a),t.reverse&&u.reverse(),mS(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,s=0,a,i;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?n=1-a:n=(this.getDecimalForValue(t[1])-a)/2,i=this.getDecimalForValue(t[t.length-1]),t.length===1?s=i:s=(i-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;n=Ws(n,0,l),s=Ws(s,0,l),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const t=this._adapter,n=this.min,s=this.max,a=this.options,i=a.time,l=i.unit||fS(i.minUnit,n,s,this._getLabelCapacity(n)),u=Jt(a.ticks.stepSize,1),f=l==="week"?i.isoWeekday:!1,h=Hh(f)||f===!0,p={};let g=n,b,x;if(h&&(g=+t.startOf(g,"isoWeek",f)),g=+t.startOf(g,h?"day":l),t.diff(s,n,l)>1e5*u)throw new Error(n+" and "+s+" are too far apart with stepSize of "+u+" "+l);const w=a.ticks.source==="data"&&this.getDataTimestamps();for(b=g,x=0;b<s;b=+t.add(b,u,l),x++)hS(p,b,w);return(b===s||a.bounds==="ticks"||x===1)&&hS(p,b,w),Object.keys(p).sort(uS).map(_=>+_)}getLabelForValue(t){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(t,s.tooltipFormat):n.format(t,s.displayFormats.datetime)}format(t,n){const a=this.options.time.displayFormats,i=this._unit,l=n||a[i];return this._adapter.format(t,l)}_tickFormatFunction(t,n,s,a){const i=this.options,l=i.ticks.callback;if(l)return wn(l,[t,n,s],this);const u=i.time.displayFormats,f=this._unit,h=this._majorUnit,p=f&&u[f],g=h&&u[h],b=s[n],x=h&&g&&b&&b.major;return this._adapter.format(t,a||(x?g:p))}generateTickLabels(t){let n,s,a;for(n=0,s=t.length;n<s;++n)a=t[n],a.label=this._tickFormatFunction(a.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,s=this.ctx.measureText(t).width,a=Va(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(a),l=Math.sin(a),u=this._resolveTickFontOptions(0).size;return{w:s*i+u*l,h:s*l+u*i}}_getLabelCapacity(t){const n=this.options.time,s=n.displayFormats,a=s[n.unit]||s.millisecond,i=this._tickFormatFunction(t,0,mS(this,[t],this._majorUnit),a),l=this._getLabelSize(i),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],n,s;if(t.length)return t;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(n=0,s=a.length;n<s;++n)t=t.concat(a[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,s;if(t.length)return t;const a=this.getLabels();for(n=0,s=a.length;n<s;++n)t.push(dS(this,a[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return bE(t.sort(uS))}}ft(Xh,"id","time"),ft(Xh,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function th(e,t,n){let s=0,a=e.length-1,i,l,u,f;n?(t>=e[s].pos&&t<=e[a].pos&&({lo:s,hi:a}=ox(e,"pos",t)),{pos:i,time:u}=e[s],{pos:l,time:f}=e[a]):(t>=e[s].time&&t<=e[a].time&&({lo:s,hi:a}=ox(e,"time",t)),{time:i,pos:u}=e[s],{time:l,pos:f}=e[a]);const h=l-i;return h?u+(f-u)*(t-i)/h:u}class pS extends Xh{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=th(n,this.min),this._tableRange=th(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:s}=this,a=[],i=[];let l,u,f,h,p;for(l=0,u=t.length;l<u;++l)h=t[l],h>=n&&h<=s&&a.push(h);if(a.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(l=0,u=a.length;l<u;++l)p=a[l+1],f=a[l-1],h=a[l],Math.round((p+f)/2)!==h&&i.push({time:h,pos:l/(u-1)});return i}_generate(){const t=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((a,i)=>a-i)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?t=this.normalize(n.concat(s)):t=n.length?n:s,t=this._cache.all=t,t}getDecimalForValue(t){return(th(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return th(this._table,s*this._tableRange+this._minPos,!0)}}ft(pS,"id","timeseries"),ft(pS,"defaults",Xh.defaults);const GE="label";function gS(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function uF(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function KE(e,t){e.labels=t}function QE(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:GE;const s=[];e.datasets=t.map(a=>{const i=e.datasets.find(l=>l[n]===a[n]);return!i||!a.data||s.includes(i)?z({},a):(s.push(i),Object.assign(i,a),i)})}function dF(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:GE;const n={labels:[],datasets:[]};return KE(n,e.labels),QE(n,e.datasets,t),n}function fF(e,t){const N=e,{height:n=150,width:s=300,redraw:a=!1,datasetIdKey:i,type:l,data:u,options:f,plugins:h=[],fallbackContent:p,updateMode:g}=N,b=ke(N,["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"]),x=j.useRef(null),w=j.useRef(null),_=()=>{x.current&&(w.current=new wm(x.current,{type:l,data:dF(u,i),options:f&&z({},f),plugins:h}),gS(t,w.current))},S=()=>{gS(t,null),w.current&&(w.current.destroy(),w.current=null)};return j.useEffect(()=>{!a&&w.current&&f&&uF(w.current,f)},[a,f]),j.useEffect(()=>{!a&&w.current&&KE(w.current.config.data,u.labels)},[a,u.labels]),j.useEffect(()=>{!a&&w.current&&u.datasets&&QE(w.current.config.data,u.datasets,i)},[a,u.datasets]),j.useEffect(()=>{w.current&&(a?(S(),setTimeout(_)):w.current.update(g))},[a,f,u.labels,u.datasets,g]),j.useEffect(()=>{w.current&&(S(),setTimeout(_))},[l]),j.useEffect(()=>(_(),()=>S()),[]),se.createElement("canvas",z({ref:x,role:"img",height:n,width:s},b),p)}const hF=j.forwardRef(fF);function ZE(e,t){return wm.register(t),j.forwardRef((n,s)=>se.createElement(hF,oe(z({},n),{ref:s,type:e})))}const mF=ZE("bar",Sh),pF=ZE("doughnut",Du),xS=({value:e,label:t,className:n=""})=>c.jsxs("div",{className:`text-center ${n}`,children:[c.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-1",children:e}),c.jsx("div",{className:"text-sm text-gray-500",children:t})]}),yS=({status:e,type:t="status"})=>{const n="px-2 py-1 rounded-full text-xs font-medium inline-block",s=t==="status"?y6(e):b6(e);return c.jsx("span",{className:`${n} ${s}`,children:e})};wm.register(fx,hx,Th,Mu,YB,tF,qB);const gF=({projects:e,phases:t,tasks:n})=>{const[s,a]=j.useState(new Set(e.map(E=>E.name))),[i,l]=j.useState(new Set),u=n.filter(E=>E.status==="Working").length,f=n.filter(E=>E.status==="Completed").length,h=E=>{const P=new Set(s);P.has(E)?P.delete(E):P.add(E),a(P)},p=E=>{const P=new Set(i);P.has(E)?P.delete(E):P.add(E),l(P)},g=n.reduce((E,P)=>(E[P.status]=(E[P.status]||0)+1,E),{}),b=E=>{switch(E){case"Open":return"#3b82f6";case"Working":return"#f59e0b";case"Completed":return"#22c55e";case"Overdue":return"#ef4444";case"Cancelled":return"#6b7280";default:return"#3b82f6"}},x={labels:Object.keys(g),datasets:[{data:Object.values(g),backgroundColor:Object.keys(g).map(E=>b(E)),borderColor:Object.keys(g).map(E=>b(E)),borderWidth:1}]},w=n.reduce((E,P)=>(E[P.priority]=(E[P.priority]||0)+1,E),{}),_=E=>{switch(E){case"Urgent":return"#dc2626";case"High":return"#f97316";case"Medium":return"#eab308";case"Low":return"#16a34a";default:return"#6b7280"}},S=E=>{switch(E){case"Completed":case"Hoàn thành":return"#22c55e";case"Cancelled":case"Canceled":case"Hủy":case"Đã hủy":return"#ef4444";default:return"#3b82f6"}},N={labels:Object.keys(w),datasets:[{data:Object.values(w),backgroundColor:Object.keys(w).map(E=>_(E)),hoverOffset:4}]},R={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{precision:0}}}},A={responsive:!0,plugins:{title:{display:!0,text:"Độ ưu tiên nhiệm vụ",font:{size:16}},legend:{position:"bottom"}}},C=E=>{const P=t.find(W=>W.name===E);if(!P||!P.tasks)return[];const K=P.tasks.map(W=>W.task);return n.filter(W=>K.includes(W.name))},k=E=>t.filter(P=>P.project===E),D=(E,P=1)=>{const K=P>0?`pl-${P*6}`:"";return c.jsxs("div",{className:`flex items-center py-2 ${K} border-b border-gray-100 last:border-b-0`,children:[c.jsxs("div",{className:"flex-grow flex items-center",children:[c.jsx("span",{className:"mr-2 text-blue-600",children:"●"}),c.jsx("span",{className:"font-medium text-gray-800",children:E.subject})]}),c.jsx("div",{className:"w-32 text-sm text-gray-600",children:E.assigned_to||"Chưa giao"}),c.jsx("div",{className:"w-32 text-center",children:c.jsx(yS,{status:E.status,type:"status"})}),c.jsx("div",{className:"w-24 text-center",children:c.jsx(yS,{status:E.priority,type:"priority"})}),c.jsxs("div",{className:"w-20 text-right text-sm text-gray-600",children:[E.progress,"%"]})]},E.name)},M=(E,P)=>{const K=`${P}-${E.name}`,W=i.has(K),Y=C(E.name);return c.jsxs("div",{className:"ml-4",children:[c.jsxs("div",{className:"bg-green-500 text-white p-2 rounded-t-lg font-medium text-md cursor-pointer hover:bg-green-600 flex items-center justify-between",onClick:()=>p(K),children:[c.jsxs("span",{children:["Giai đoạn: ",E.phase_name," (",E.status,")"]}),c.jsx("span",{className:"text-lg",children:W?"▼":"▶️"})]}),W&&c.jsx("div",{className:"bg-white border-l-2 border-r-2 border-b-2 border-gray-200 p-3",children:Y.length>0?Y.map(q=>D(q)):c.jsx("div",{className:"text-gray-500 text-center py-2 text-sm",children:"Chưa có nhiệm vụ nào cho giai đoạn này."})})]},E.name)};return c.jsxs(ym,{title:"Quản lý nhiệm vụ (Task)",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[c.jsx(xS,{value:u,label:"Tổng nhiệm vụ đang thực hiện"}),c.jsx(xS,{value:f,label:"Tổng nhiệm vụ đã hoàn thành"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[c.jsxs("div",{className:"flex flex-col",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Trạng thái nhiệm vụ"}),c.jsx("div",{className:"flex-1",style:{height:"400px"},children:c.jsx(mF,{data:x,options:R})})]}),c.jsx("div",{className:"flex flex-col",children:c.jsx("div",{className:"flex-1",style:{height:"400px"},children:c.jsx(pF,{data:N,options:A})})})]}),c.jsx("h3",{className:"text-xl font-semibold mt-8 mb-4 text-gray-700",children:"Danh sách nhiệm vụ"}),c.jsx("div",{className:"space-y-4",children:e.map(E=>{const P=k(E.name),K=s.has(E.name);return c.jsxs("div",{children:[c.jsx("div",{className:"text-white p-3 rounded-t-lg font-semibold text-lg cursor-pointer hover:opacity-90 flex items-center justify-between transition-opacity",style:{backgroundColor:S(E.status)},onClick:()=>h(E.name),children:c.jsxs("div",{className:"flex flex-col flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("span",{className:"text-lg font-semibold",children:["Dự án: ",E.project_name," (",E.status,")"]}),c.jsx("span",{className:"text-xl",children:K?"▼":"▶️"})]}),c.jsxs("div",{className:"flex items-center mt-2 text-sm text-white space-x-6",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"font-medium mr-2",children:"Priority:"}),c.jsx("span",{className:"bg-white text-gray-800 px-2 py-1 rounded text-xs font-medium",children:E.priority})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"font-medium mr-2",children:"Progress:"}),c.jsxs("span",{className:"bg-white text-gray-800 px-2 py-1 rounded text-xs font-medium",children:[E.percent_complete,"%"]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"font-medium mr-2",children:"Expected End:"}),c.jsx("span",{className:"bg-white text-gray-800 px-2 py-1 rounded text-xs font-medium",children:E.expected_end_date?new Date(E.expected_end_date).toLocaleDateString("vi-VN"):"Chưa xác định"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"font-medium mr-2",children:"Department:"}),c.jsx("span",{className:"bg-white text-gray-800 px-2 py-1 rounded text-xs font-medium",children:E.department})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"font-medium mr-2",children:"Team:"}),c.jsx("span",{className:"bg-white text-gray-800 px-2 py-1 rounded text-xs font-medium",children:E.team})]})]})]})}),K&&c.jsx("div",{className:"bg-white rounded-b-lg border border-gray-200 p-4",children:P.length>0?P.map(W=>M(W,E.name)):c.jsx("div",{className:"text-gray-500 text-center py-4",children:"Chưa có giai đoạn nào cho dự án này."})})]},E.name)})})]})},xF=({className:e=""})=>c.jsx("div",{className:`inline-block animate-spin rounded-full border-4 border-gray-200 border-t-blue-600 h-6 w-6 ${e}`}),yF=()=>{const{allProjects:e,filteredData:t,selectedProject:n,selectedDepartment:s,selectedTeam:a,setSelectedProject:i,setSelectedDepartment:l,setSelectedTeam:u,isLoading:f}=p6();return f?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsxs("div",{className:"text-center",children:[c.jsx(xF,{className:"h-12 w-12 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Đang tải dữ liệu..."})]})}):c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-8 text-center",children:"Bảng điều khiển quản lý dự án"}),c.jsx(g6,{projects:e,selectedProject:n,selectedDepartment:s,selectedTeam:a,onProjectChange:i,onDepartmentChange:l,onTeamChange:u}),c.jsx(v6,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:n}),c.jsx(_6,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:n}),c.jsx(w6,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:n}),c.jsx(gF,{projects:t.filteredProjects,phases:t.filteredPhases,tasks:t.filteredTasks})]})})},So=e=>e==null?"N/A":new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0}).format(e);var fd=e=>e.type==="checkbox",Oo=e=>e instanceof Date,Ds=e=>e==null;const JE=e=>typeof e=="object";var Hn=e=>!Ds(e)&&!Array.isArray(e)&&JE(e)&&!Oo(e),eT=e=>Hn(e)&&e.target?fd(e.target)?e.target.checked:e.target.value:e,bF=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,tT=(e,t)=>e.has(bF(t)),vF=e=>{const t=e.constructor&&e.constructor.prototype;return Hn(t)&&t.hasOwnProperty("isPrototypeOf")},My=typeof window!="undefined"&&typeof window.HTMLElement!="undefined"&&typeof document!="undefined";function ns(e){let t;const n=Array.isArray(e),s=typeof FileList!="undefined"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(My&&(e instanceof Blob||s))&&(n||Hn(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!vF(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=ns(e[a]));else return e;return t}var jm=e=>/^\w*$/.test(e),Fn=e=>e===void 0,Py=e=>Array.isArray(e)?e.filter(Boolean):[],Ly=e=>Py(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ie=(e,t,n)=>{if(!t||!Hn(e))return n;const s=(jm(t)?[t]:Ly(t)).reduce((a,i)=>Ds(a)?a:a[i],e);return Fn(s)||s===e?Fn(e[t])?n:e[t]:s},nr=e=>typeof e=="boolean",bn=(e,t,n)=>{let s=-1;const a=jm(t)?[t]:Ly(t),i=a.length,l=i-1;for(;++s<i;){const u=a[s];let f=n;if(s!==l){const h=e[u];f=Hn(h)||Array.isArray(h)?h:isNaN(+a[s+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;e[u]=f,e=e[u]}};const Gh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Br={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},za={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},nT=se.createContext(null);nT.displayName="HookFormContext";const zy=()=>se.useContext(nT);var sT=(e,t,n,s=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const l=i;return t._proxyFormState[l]!==Br.all&&(t._proxyFormState[l]=!s||Br.all),n&&(n[l]=!0),e[l]}});return a};const Uy=typeof window!="undefined"?se.useLayoutEffect:se.useEffect;function wF(e){const t=zy(),{control:n=t.control,disabled:s,name:a,exact:i}=e||{},[l,u]=se.useState(n._formState),f=se.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Uy(()=>n._subscribe({name:a,formState:f.current,exact:i,callback:h=>{!s&&u(z(z({},n._formState),h))}}),[a,s,i]),se.useEffect(()=>{f.current.isValid&&n._setValid(!0)},[n]),se.useMemo(()=>sT(l,n,f.current,!1),[l,n])}var oa=e=>typeof e=="string",rT=(e,t,n,s,a)=>oa(e)?(s&&t.watch.add(e),Ie(n,e,a)):Array.isArray(e)?e.map(i=>(s&&t.watch.add(i),Ie(n,i))):(s&&(t.watchAll=!0),n),mx=e=>Ds(e)||!JE(e);function Ha(e,t,n=new WeakSet){if(mx(e)||mx(t))return e===t;if(Oo(e)&&Oo(t))return e.getTime()===t.getTime();const s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const i of s){const l=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const u=t[i];if(Oo(l)&&Oo(u)||Hn(l)&&Hn(u)||Array.isArray(l)&&Array.isArray(u)?!Ha(l,u,n):l!==u)return!1}}return!0}function _F(e){const t=zy(),{control:n=t.control,name:s,defaultValue:a,disabled:i,exact:l,compute:u}=e||{},f=se.useRef(a),h=se.useRef(u),p=se.useRef(void 0);h.current=u;const g=se.useMemo(()=>n._getWatch(s,f.current),[n,s]),[b,x]=se.useState(h.current?h.current(g):g);return Uy(()=>n._subscribe({name:s,formState:{values:!0},exact:l,callback:w=>{if(!i){const _=rT(s,n._names,w.values||n._formValues,!1,f.current);if(h.current){const S=h.current(_);Ha(S,p.current)||(x(S),p.current=S)}else x(_)}}}),[n,i,s,l]),se.useEffect(()=>n._removeUnmounted()),b}function jF(e){const t=zy(),{name:n,disabled:s,control:a=t.control,shouldUnregister:i,defaultValue:l}=e,u=tT(a._names.array,n),f=se.useMemo(()=>Ie(a._formValues,n,Ie(a._defaultValues,n,l)),[a,n,l]),h=_F({control:a,name:n,defaultValue:f,exact:!0}),p=wF({control:a,name:n,exact:!0}),g=se.useRef(e),b=se.useRef(a.register(n,z(oe(z({},e.rules),{value:h}),nr(e.disabled)?{disabled:e.disabled}:{})));g.current=e;const x=se.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ie(p.errors,n)},isDirty:{enumerable:!0,get:()=>!!Ie(p.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Ie(p.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Ie(p.validatingFields,n)},error:{enumerable:!0,get:()=>Ie(p.errors,n)}}),[p,n]),w=se.useCallback(R=>b.current.onChange({target:{value:eT(R),name:n},type:Gh.CHANGE}),[n]),_=se.useCallback(()=>b.current.onBlur({target:{value:Ie(a._formValues,n),name:n},type:Gh.BLUR}),[n,a._formValues]),S=se.useCallback(R=>{const A=Ie(a._fields,n);A&&R&&(A._f.ref={focus:()=>R.focus&&R.focus(),select:()=>R.select&&R.select(),setCustomValidity:C=>R.setCustomValidity(C),reportValidity:()=>R.reportValidity()})},[a._fields,n]),N=se.useMemo(()=>oe(z({name:n,value:h},nr(s)||p.disabled?{disabled:p.disabled||s}:{}),{onChange:w,onBlur:_,ref:S}),[n,s,p.disabled,w,_,S,h]);return se.useEffect(()=>{const R=a._options.shouldUnregister||i;a.register(n,z(z({},g.current.rules),nr(g.current.disabled)?{disabled:g.current.disabled}:{}));const A=(C,k)=>{const D=Ie(a._fields,C);D&&D._f&&(D._f.mount=k)};if(A(n,!0),R){const C=ns(Ie(a._options.defaultValues,n));bn(a._defaultValues,n,C),Fn(Ie(a._formValues,n))&&bn(a._formValues,n,C)}return!u&&a.register(n),()=>{(u?R&&!a._state.action:R)?a.unregister(n):A(n,!1)}},[n,a,u,i]),se.useEffect(()=>{a._setDisabledField({disabled:s,name:n})},[s,n,a]),se.useMemo(()=>({field:N,formState:p,fieldState:x}),[N,p,x])}const rr=e=>e.render(jF(e));var SF=(e,t,n,s,a)=>t?oe(z({},n[e]),{types:oe(z({},n[e]&&n[e].types?n[e].types:{}),{[s]:a||!0})}):{},Bu=e=>Array.isArray(e)?e:[e],bS=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},$s=e=>Hn(e)&&!Object.keys(e).length,By=e=>e.type==="file",Fr=e=>typeof e=="function",Kh=e=>{if(!My)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},aT=e=>e.type==="select-multiple",Fy=e=>e.type==="radio",NF=e=>Fy(e)||fd(e),x0=e=>Kh(e)&&e.isConnected;function EF(e,t){const n=t.slice(0,-1).length;let s=0;for(;s<n;)e=Fn(e)?s++:e[t[s++]];return e}function TF(e){for(const t in e)if(e.hasOwnProperty(t)&&!Fn(e[t]))return!1;return!0}function Yn(e,t){const n=Array.isArray(t)?t:jm(t)?[t]:Ly(t),s=n.length===1?e:EF(e,n),a=n.length-1,i=n[a];return s&&delete s[i],a!==0&&(Hn(s)&&$s(s)||Array.isArray(s)&&TF(s))&&Yn(e,n.slice(0,-1)),e}var iT=e=>{for(const t in e)if(Fr(e[t]))return!0;return!1};function Qh(e,t={}){const n=Array.isArray(e);if(Hn(e)||n)for(const s in e)Array.isArray(e[s])||Hn(e[s])&&!iT(e[s])?(t[s]=Array.isArray(e[s])?[]:{},Qh(e[s],t[s])):Ds(e[s])||(t[s]=!0);return t}function oT(e,t,n){const s=Array.isArray(e);if(Hn(e)||s)for(const a in e)Array.isArray(e[a])||Hn(e[a])&&!iT(e[a])?Fn(t)||mx(n[a])?n[a]=Array.isArray(e[a])?Qh(e[a],[]):z({},Qh(e[a])):oT(e[a],Ds(t)?{}:t[a],n[a]):n[a]=!Ha(e[a],t[a]);return n}var ju=(e,t)=>oT(e,t,Qh(t));const vS={value:!1,isValid:!1},wS={value:!0,isValid:!0};var lT=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Fn(e[0].attributes.value)?Fn(e[0].value)||e[0].value===""?wS:{value:e[0].value,isValid:!0}:wS:vS}return vS},cT=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:s})=>Fn(e)?e:t?e===""?NaN:e&&+e:n&&oa(e)?new Date(e):s?s(e):e;const _S={isValid:!1,value:null};var uT=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,_S):_S;function jS(e){const t=e.ref;return By(t)?t.files:Fy(t)?uT(e.refs).value:aT(t)?[...t.selectedOptions].map(({value:n})=>n):fd(t)?lT(e.refs).value:cT(Fn(t.value)?e.ref.value:t.value,e)}var CF=(e,t,n,s)=>{const a={};for(const i of e){const l=Ie(t,i);l&&bn(a,i,l._f)}return{criteriaMode:n,names:[...e],fields:a,shouldUseNativeValidation:s}},Zh=e=>e instanceof RegExp,Su=e=>Fn(e)?e:Zh(e)?e.source:Hn(e)?Zh(e.value)?e.value.source:e.value:e,SS=e=>({isOnSubmit:!e||e===Br.onSubmit,isOnBlur:e===Br.onBlur,isOnChange:e===Br.onChange,isOnAll:e===Br.all,isOnTouch:e===Br.onTouched});const NS="AsyncFunction";var kF=e=>!!e&&!!e.validate&&!!(Fr(e.validate)&&e.validate.constructor.name===NS||Hn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===NS)),OF=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),ES=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const Fu=(e,t,n,s)=>{for(const i of n||Object.keys(e)){const l=Ie(e,i);if(l){const a=l,{_f:u}=a,f=ke(a,["_f"]);if(u){if(u.refs&&u.refs[0]&&t(u.refs[0],i)&&!s)return!0;if(u.ref&&t(u.ref,u.name)&&!s)return!0;if(Fu(f,t))break}else if(Hn(f)&&Fu(f,t))break}}};function TS(e,t,n){const s=Ie(e,n);if(s||jm(n))return{error:s,name:n};const a=n.split(".");for(;a.length;){const i=a.join("."),l=Ie(t,i),u=Ie(e,i);if(l&&!Array.isArray(l)&&n!==i)return{name:n};if(u&&u.type)return{name:i,error:u};if(u&&u.root&&u.root.type)return{name:`${i}.root`,error:u.root};a.pop()}return{name:n}}var AF=(e,t,n,s)=>{n(e);const l=e,{name:a}=l,i=ke(l,["name"]);return $s(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(u=>t[u]===(!s||Br.all))},DF=(e,t,n)=>!e||!t||e===t||Bu(e).some(s=>s&&(n?s===t:s.startsWith(t)||t.startsWith(s))),RF=(e,t,n,s,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(t||e):(n?s.isOnBlur:a.isOnBlur)?!e:(n?s.isOnChange:a.isOnChange)?e:!0,MF=(e,t)=>!Py(Ie(e,t)).length&&Yn(e,t),PF=(e,t,n)=>{const s=Bu(Ie(e,n));return bn(s,"root",t[n]),bn(e,n,s),e},Ch=e=>oa(e);function CS(e,t,n="validate"){if(Ch(e)||Array.isArray(e)&&e.every(Ch)||nr(e)&&!e)return{type:n,message:Ch(e)?e:"",ref:t}}var zl=e=>Hn(e)&&!Zh(e)?e:{value:e,message:""},kS=(e,t,n,s,a,i)=>ye(null,null,function*(){const{ref:l,refs:u,required:f,maxLength:h,minLength:p,min:g,max:b,pattern:x,validate:w,name:_,valueAsNumber:S,mount:N}=e._f,R=Ie(n,_);if(!N||t.has(_))return{};const A=u?u[0]:l,C=Y=>{a&&A.reportValidity&&(A.setCustomValidity(nr(Y)?"":Y||""),A.reportValidity())},k={},D=Fy(l),M=fd(l),E=D||M,P=(S||By(l))&&Fn(l.value)&&Fn(R)||Kh(l)&&l.value===""||R===""||Array.isArray(R)&&!R.length,K=SF.bind(null,_,s,k),W=(Y,q,J,G=za.maxLength,H=za.minLength)=>{const te=Y?q:J;k[_]=z({type:Y?G:H,message:te,ref:l},K(Y?G:H,te))};if(i?!Array.isArray(R)||!R.length:f&&(!E&&(P||Ds(R))||nr(R)&&!R||M&&!lT(u).isValid||D&&!uT(u).isValid)){const{value:Y,message:q}=Ch(f)?{value:!!f,message:f}:zl(f);if(Y&&(k[_]=z({type:za.required,message:q,ref:A},K(za.required,q)),!s))return C(q),k}if(!P&&(!Ds(g)||!Ds(b))){let Y,q;const J=zl(b),G=zl(g);if(!Ds(R)&&!isNaN(R)){const H=l.valueAsNumber||R&&+R;Ds(J.value)||(Y=H>J.value),Ds(G.value)||(q=H<G.value)}else{const H=l.valueAsDate||new Date(R),te=B=>new Date(new Date().toDateString()+" "+B),ne=l.type=="time",le=l.type=="week";oa(J.value)&&R&&(Y=ne?te(R)>te(J.value):le?R>J.value:H>new Date(J.value)),oa(G.value)&&R&&(q=ne?te(R)<te(G.value):le?R<G.value:H<new Date(G.value))}if((Y||q)&&(W(!!Y,J.message,G.message,za.max,za.min),!s))return C(k[_].message),k}if((h||p)&&!P&&(oa(R)||i&&Array.isArray(R))){const Y=zl(h),q=zl(p),J=!Ds(Y.value)&&R.length>+Y.value,G=!Ds(q.value)&&R.length<+q.value;if((J||G)&&(W(J,Y.message,q.message),!s))return C(k[_].message),k}if(x&&!P&&oa(R)){const{value:Y,message:q}=zl(x);if(Zh(Y)&&!R.match(Y)&&(k[_]=z({type:za.pattern,message:q,ref:l},K(za.pattern,q)),!s))return C(q),k}if(w){if(Fr(w)){const Y=yield w(R,n),q=CS(Y,A);if(q&&(k[_]=z(z({},q),K(za.validate,q.message)),!s))return C(q.message),k}else if(Hn(w)){let Y={};for(const q in w){if(!$s(Y)&&!s)break;const J=CS(yield w[q](R,n),A,q);J&&(Y=z(z({},J),K(q,J.message)),C(J.message),s&&(k[_]=Y))}if(!$s(Y)&&(k[_]=z({ref:A},Y),!s))return k}}return C(!0),k});const LF={mode:Br.onSubmit,reValidateMode:Br.onChange,shouldFocusError:!0};function zF(e={}){let t=z(z({},LF),e),n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Fr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},a=Hn(t.defaultValues)||Hn(t.values)?ns(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:ns(a),l={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,h=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let g=z({},p);const b={array:bS(),state:bS()},x=t.criteriaMode===Br.all,w=X=>de=>{clearTimeout(h),h=setTimeout(X,de)},_=X=>ye(null,null,function*(){if(!t.disabled&&(p.isValid||g.isValid||X)){const de=t.resolver?$s((yield M()).errors):yield P(s,!0);de!==n.isValid&&b.state.next({isValid:de})}}),S=(X,de)=>{!t.disabled&&(p.isValidating||p.validatingFields||g.isValidating||g.validatingFields)&&((X||Array.from(u.mount)).forEach(I=>{I&&(de?bn(n.validatingFields,I,de):Yn(n.validatingFields,I))}),b.state.next({validatingFields:n.validatingFields,isValidating:!$s(n.validatingFields)}))},N=(X,de=[],I,Se,Me=!0,Re=!0)=>{if(Se&&I&&!t.disabled){if(l.action=!0,Re&&Array.isArray(Ie(s,X))){const Fe=I(Ie(s,X),Se.argA,Se.argB);Me&&bn(s,X,Fe)}if(Re&&Array.isArray(Ie(n.errors,X))){const Fe=I(Ie(n.errors,X),Se.argA,Se.argB);Me&&bn(n.errors,X,Fe),MF(n.errors,X)}if((p.touchedFields||g.touchedFields)&&Re&&Array.isArray(Ie(n.touchedFields,X))){const Fe=I(Ie(n.touchedFields,X),Se.argA,Se.argB);Me&&bn(n.touchedFields,X,Fe)}(p.dirtyFields||g.dirtyFields)&&(n.dirtyFields=ju(a,i)),b.state.next({name:X,isDirty:W(X,de),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else bn(i,X,de)},R=(X,de)=>{bn(n.errors,X,de),b.state.next({errors:n.errors})},A=X=>{n.errors=X,b.state.next({errors:n.errors,isValid:!1})},C=(X,de,I,Se)=>{const Me=Ie(s,X);if(Me){const Re=Ie(i,X,Fn(I)?Ie(a,X):I);Fn(Re)||Se&&Se.defaultChecked||de?bn(i,X,de?Re:jS(Me._f)):J(X,Re),l.mount&&_()}},k=(X,de,I,Se,Me)=>{let Re=!1,Fe=!1;const qe={name:X};if(!t.disabled){if(!I||Se){(p.isDirty||g.isDirty)&&(Fe=n.isDirty,n.isDirty=qe.isDirty=W(),Re=Fe!==qe.isDirty);const Qe=Ha(Ie(a,X),de);Fe=!!Ie(n.dirtyFields,X),Qe?Yn(n.dirtyFields,X):bn(n.dirtyFields,X,!0),qe.dirtyFields=n.dirtyFields,Re=Re||(p.dirtyFields||g.dirtyFields)&&Fe!==!Qe}if(I){const Qe=Ie(n.touchedFields,X);Qe||(bn(n.touchedFields,X,I),qe.touchedFields=n.touchedFields,Re=Re||(p.touchedFields||g.touchedFields)&&Qe!==I)}Re&&Me&&b.state.next(qe)}return Re?qe:{}},D=(X,de,I,Se)=>{const Me=Ie(n.errors,X),Re=(p.isValid||g.isValid)&&nr(de)&&n.isValid!==de;if(t.delayError&&I?(f=w(()=>R(X,I)),f(t.delayError)):(clearTimeout(h),f=null,I?bn(n.errors,X,I):Yn(n.errors,X)),(I?!Ha(Me,I):Me)||!$s(Se)||Re){const Fe=oe(z(z({},Se),Re&&nr(de)?{isValid:de}:{}),{errors:n.errors,name:X});n=z(z({},n),Fe),b.state.next(Fe)}},M=X=>ye(null,null,function*(){S(X,!0);const de=yield t.resolver(i,t.context,CF(X||u.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return S(X),de}),E=X=>ye(null,null,function*(){const{errors:de}=yield M(X);if(X)for(const I of X){const Se=Ie(de,I);Se?bn(n.errors,I,Se):Yn(n.errors,I)}else n.errors=de;return de}),P=(Se,Me,...Re)=>ye(null,[Se,Me,...Re],function*(X,de,I={valid:!0}){for(const qe in X){const Qe=X[qe];if(Qe){const Fe=Qe,{_f:yt}=Fe,vn=ke(Fe,["_f"]);if(yt){const ct=u.array.has(yt.name),Ce=Qe._f&&kF(Qe._f);Ce&&p.validatingFields&&S([qe],!0);const $e=yield kS(Qe,u.disabled,i,x,t.shouldUseNativeValidation&&!de,ct);if(Ce&&p.validatingFields&&S([qe]),$e[yt.name]&&(I.valid=!1,de))break;!de&&(Ie($e,yt.name)?ct?PF(n.errors,$e,yt.name):bn(n.errors,yt.name,$e[yt.name]):Yn(n.errors,yt.name))}!$s(vn)&&(yield P(vn,de,I))}}return I.valid}),K=()=>{for(const X of u.unMount){const de=Ie(s,X);de&&(de._f.refs?de._f.refs.every(I=>!x0(I)):!x0(de._f.ref))&&Ee(X)}u.unMount=new Set},W=(X,de)=>!t.disabled&&(X&&de&&bn(i,X,de),!Ha(B(),a)),Y=(X,de,I)=>rT(X,u,z({},l.mount?i:Fn(de)?a:oa(X)?{[X]:de}:de),I,de),q=X=>Py(Ie(l.mount?i:a,X,t.shouldUnregister?Ie(a,X,[]):[])),J=(X,de,I={})=>{const Se=Ie(s,X);let Me=de;if(Se){const Re=Se._f;Re&&(!Re.disabled&&bn(i,X,cT(de,Re)),Me=Kh(Re.ref)&&Ds(de)?"":de,aT(Re.ref)?[...Re.ref.options].forEach(Fe=>Fe.selected=Me.includes(Fe.value)):Re.refs?fd(Re.ref)?Re.refs.forEach(Fe=>{(!Fe.defaultChecked||!Fe.disabled)&&(Array.isArray(Me)?Fe.checked=!!Me.find(qe=>qe===Fe.value):Fe.checked=Me===Fe.value||!!Me)}):Re.refs.forEach(Fe=>Fe.checked=Fe.value===Me):By(Re.ref)?Re.ref.value="":(Re.ref.value=Me,Re.ref.type||b.state.next({name:X,values:ns(i)})))}(I.shouldDirty||I.shouldTouch)&&k(X,Me,I.shouldTouch,I.shouldDirty,!0),I.shouldValidate&&le(X)},G=(X,de,I)=>{for(const Se in de){if(!de.hasOwnProperty(Se))return;const Me=de[Se],Re=X+"."+Se,Fe=Ie(s,Re);(u.array.has(X)||Hn(Me)||Fe&&!Fe._f)&&!Oo(Me)?G(Re,Me,I):J(Re,Me,I)}},H=(X,de,I={})=>{const Se=Ie(s,X),Me=u.array.has(X),Re=ns(de);bn(i,X,Re),Me?(b.array.next({name:X,values:ns(i)}),(p.isDirty||p.dirtyFields||g.isDirty||g.dirtyFields)&&I.shouldDirty&&b.state.next({name:X,dirtyFields:ju(a,i),isDirty:W(X,Re)})):Se&&!Se._f&&!Ds(Re)?G(X,Re,I):J(X,Re,I),ES(X,u)&&b.state.next(oe(z({},n),{name:X})),b.state.next({name:l.mount?X:void 0,values:ns(i)})},te=X=>ye(null,null,function*(){l.mount=!0;const de=X.target;let I=de.name,Se=!0;const Me=Ie(s,I),Re=Qe=>{Se=Number.isNaN(Qe)||Oo(Qe)&&isNaN(Qe.getTime())||Ha(Qe,Ie(i,I,Qe))},Fe=SS(t.mode),qe=SS(t.reValidateMode);if(Me){let Qe,yt;const vn=de.type?jS(Me._f):eT(X),ct=X.type===Gh.BLUR||X.type===Gh.FOCUS_OUT,Ce=!OF(Me._f)&&!t.resolver&&!Ie(n.errors,I)&&!Me._f.deps||RF(ct,Ie(n.touchedFields,I),n.isSubmitted,qe,Fe),$e=ES(I,u,ct);bn(i,I,vn),ct?(!de||!de.readOnly)&&(Me._f.onBlur&&Me._f.onBlur(X),f&&f(0)):Me._f.onChange&&Me._f.onChange(X);const Pt=k(I,vn,ct),En=!$s(Pt)||$e;if(!ct&&b.state.next({name:I,type:X.type,values:ns(i)}),Ce)return(p.isValid||g.isValid)&&(t.mode==="onBlur"?ct&&_():ct||_()),En&&b.state.next(z({name:I},$e?{}:Pt));if(!ct&&$e&&b.state.next(z({},n)),t.resolver){const{errors:is}=yield M([I]);if(Re(vn),Se){const Vn=TS(n.errors,s,I),fs=TS(is,s,Vn.name||I);Qe=fs.error,I=fs.name,yt=$s(is)}}else S([I],!0),Qe=(yield kS(Me,u.disabled,i,x,t.shouldUseNativeValidation))[I],S([I]),Re(vn),Se&&(Qe?yt=!1:(p.isValid||g.isValid)&&(yt=yield P(s,!0)));Se&&(Me._f.deps&&le(Me._f.deps),D(I,yt,Qe,Pt))}}),ne=(X,de)=>{if(Ie(n.errors,de)&&X.focus)return X.focus(),1},le=(I,...Se)=>ye(null,[I,...Se],function*(X,de={}){let Me,Re;const Fe=Bu(X);if(t.resolver){const qe=yield E(Fn(X)?X:Fe);Me=$s(qe),Re=X?!Fe.some(Qe=>Ie(qe,Qe)):Me}else X?(Re=(yield Promise.all(Fe.map(qe=>ye(null,null,function*(){const Qe=Ie(s,qe);return yield P(Qe&&Qe._f?{[qe]:Qe}:Qe)})))).every(Boolean),!(!Re&&!n.isValid)&&_()):Re=Me=yield P(s);return b.state.next(oe(z(z({},!oa(X)||(p.isValid||g.isValid)&&Me!==n.isValid?{}:{name:X}),t.resolver||!X?{isValid:Me}:{}),{errors:n.errors})),de.shouldFocus&&!Re&&Fu(s,ne,X?Fe:u.mount),Re}),B=X=>{const de=z({},l.mount?i:a);return Fn(X)?de:oa(X)?Ie(de,X):X.map(I=>Ie(de,I))},Q=(X,de)=>({invalid:!!Ie((de||n).errors,X),isDirty:!!Ie((de||n).dirtyFields,X),error:Ie((de||n).errors,X),isValidating:!!Ie(n.validatingFields,X),isTouched:!!Ie((de||n).touchedFields,X)}),he=X=>{X&&Bu(X).forEach(de=>Yn(n.errors,de)),b.state.next({errors:X?n.errors:{}})},$=(X,de,I)=>{const Se=(Ie(s,X,{_f:{}})._f||{}).ref,yt=Ie(n.errors,X)||{},{ref:Re,message:Fe,type:qe}=yt,Qe=ke(yt,["ref","message","type"]);bn(n.errors,X,oe(z(z({},Qe),de),{ref:Se})),b.state.next({name:X,errors:n.errors,isValid:!1}),I&&I.shouldFocus&&Se&&Se.focus&&Se.focus()},re=(X,de)=>Fr(X)?b.state.subscribe({next:I=>"values"in I&&X(Y(void 0,de),I)}):Y(X,de,!0),_e=X=>b.state.subscribe({next:de=>{DF(X.name,de.name,X.exact)&&AF(de,X.formState||p,vt,X.reRenderRoot)&&X.callback(oe(z(z({values:z({},i)},n),de),{defaultValues:a}))}}).unsubscribe,xe=X=>(l.mount=!0,g=z(z({},g),X.formState),_e(oe(z({},X),{formState:g}))),Ee=(X,de={})=>{for(const I of X?Bu(X):u.mount)u.mount.delete(I),u.array.delete(I),de.keepValue||(Yn(s,I),Yn(i,I)),!de.keepError&&Yn(n.errors,I),!de.keepDirty&&Yn(n.dirtyFields,I),!de.keepTouched&&Yn(n.touchedFields,I),!de.keepIsValidating&&Yn(n.validatingFields,I),!t.shouldUnregister&&!de.keepDefaultValue&&Yn(a,I);b.state.next({values:ns(i)}),b.state.next(z(z({},n),de.keepDirty?{isDirty:W()}:{})),!de.keepIsValid&&_()},De=({disabled:X,name:de})=>{(nr(X)&&l.mount||X||u.disabled.has(de))&&(X?u.disabled.add(de):u.disabled.delete(de))},Ve=(X,de={})=>{let I=Ie(s,X);const Se=nr(de.disabled)||nr(t.disabled);return bn(s,X,oe(z({},I||{}),{_f:z(oe(z({},I&&I._f?I._f:{ref:{name:X}}),{name:X,mount:!0}),de)})),u.mount.add(X),I?De({disabled:nr(de.disabled)?de.disabled:t.disabled,name:X}):C(X,!0,de.value),oe(z(z({},Se?{disabled:de.disabled||t.disabled}:{}),t.progressive?{required:!!de.required,min:Su(de.min),max:Su(de.max),minLength:Su(de.minLength),maxLength:Su(de.maxLength),pattern:Su(de.pattern)}:{}),{name:X,onChange:te,onBlur:te,ref:Me=>{if(Me){Ve(X,de),I=Ie(s,X);const Re=Fn(Me.value)&&Me.querySelectorAll&&Me.querySelectorAll("input,select,textarea")[0]||Me,Fe=NF(Re),qe=I._f.refs||[];if(Fe?qe.find(Qe=>Qe===Re):Re===I._f.ref)return;bn(s,X,{_f:z(z({},I._f),Fe?{refs:[...qe.filter(x0),Re,...Array.isArray(Ie(a,X))?[{}]:[]],ref:{type:Re.type,name:X}}:{ref:Re})}),C(X,!1,void 0,Re)}else I=Ie(s,X,{}),I._f&&(I._f.mount=!1),(t.shouldUnregister||de.shouldUnregister)&&!(tT(u.array,X)&&l.action)&&u.unMount.add(X)}})},Le=()=>t.shouldFocusError&&Fu(s,ne,u.mount),lt=X=>{nr(X)&&(b.state.next({disabled:X}),Fu(s,(de,I)=>{const Se=Ie(s,I);Se&&(de.disabled=Se._f.disabled||X,Array.isArray(Se._f.refs)&&Se._f.refs.forEach(Me=>{Me.disabled=Se._f.disabled||X}))},0,!1))},Ke=(X,de)=>I=>ye(null,null,function*(){let Se;I&&(I.preventDefault&&I.preventDefault(),I.persist&&I.persist());let Me=ns(i);if(b.state.next({isSubmitting:!0}),t.resolver){const{errors:Re,values:Fe}=yield M();n.errors=Re,Me=ns(Fe)}else yield P(s);if(u.disabled.size)for(const Re of u.disabled)Yn(Me,Re);if(Yn(n.errors,"root"),$s(n.errors)){b.state.next({errors:{}});try{yield X(Me,I)}catch(Re){Se=Re}}else de&&(yield de(z({},n.errors),I)),Le(),setTimeout(Le);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:$s(n.errors)&&!Se,submitCount:n.submitCount+1,errors:n.errors}),Se)throw Se}),pt=(X,de={})=>{Ie(s,X)&&(Fn(de.defaultValue)?H(X,ns(Ie(a,X))):(H(X,de.defaultValue),bn(a,X,ns(de.defaultValue))),de.keepTouched||Yn(n.touchedFields,X),de.keepDirty||(Yn(n.dirtyFields,X),n.isDirty=de.defaultValue?W(X,ns(Ie(a,X))):W()),de.keepError||(Yn(n.errors,X),p.isValid&&_()),b.state.next(z({},n)))},Pe=(X,de={})=>{const I=X?ns(X):a,Se=ns(I),Me=$s(X),Re=Me?a:Se;if(de.keepDefaultValues||(a=I),!de.keepValues){if(de.keepDirtyValues){const Fe=new Set([...u.mount,...Object.keys(ju(a,i))]);for(const qe of Array.from(Fe))Ie(n.dirtyFields,qe)?bn(Re,qe,Ie(i,qe)):H(qe,Ie(Re,qe))}else{if(My&&Fn(X))for(const Fe of u.mount){const qe=Ie(s,Fe);if(qe&&qe._f){const Qe=Array.isArray(qe._f.refs)?qe._f.refs[0]:qe._f.ref;if(Kh(Qe)){const yt=Qe.closest("form");if(yt){yt.reset();break}}}}if(de.keepFieldsRef)for(const Fe of u.mount)H(Fe,Ie(Re,Fe));else s={}}i=t.shouldUnregister?de.keepDefaultValues?ns(a):{}:ns(Re),b.array.next({values:z({},Re)}),b.state.next({values:z({},Re)})}u={mount:de.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!p.isValid||!!de.keepIsValid||!!de.keepDirtyValues,l.watch=!!t.shouldUnregister,b.state.next({submitCount:de.keepSubmitCount?n.submitCount:0,isDirty:Me?!1:de.keepDirty?n.isDirty:!!(de.keepDefaultValues&&!Ha(X,a)),isSubmitted:de.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Me?{}:de.keepDirtyValues?de.keepDefaultValues&&i?ju(a,i):n.dirtyFields:de.keepDefaultValues&&X?ju(a,X):de.keepDirty?n.dirtyFields:{},touchedFields:de.keepTouched?n.touchedFields:{},errors:de.keepErrors?n.errors:{},isSubmitSuccessful:de.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},ht=(X,de)=>Pe(Fr(X)?X(i):X,de),$t=(X,de={})=>{const I=Ie(s,X),Se=I&&I._f;if(Se){const Me=Se.refs?Se.refs[0]:Se.ref;Me.focus&&(Me.focus(),de.shouldSelect&&Fr(Me.select)&&Me.select())}},vt=X=>{n=z(z({},n),X)},St={control:{register:Ve,unregister:Ee,getFieldState:Q,handleSubmit:Ke,setError:$,_subscribe:_e,_runSchema:M,_focusError:Le,_getWatch:Y,_getDirty:W,_setValid:_,_setFieldArray:N,_setDisabledField:De,_setErrors:A,_getFieldArray:q,_reset:Pe,_resetDefaultValues:()=>Fr(t.defaultValues)&&t.defaultValues().then(X=>{ht(X,t.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:K,_disableForm:lt,_subjects:b,_proxyFormState:p,get _fields(){return s},get _formValues(){return i},get _state(){return l},set _state(X){l=X},get _defaultValues(){return a},get _names(){return u},set _names(X){u=X},get _formState(){return n},get _options(){return t},set _options(X){t=z(z({},t),X)}},subscribe:xe,trigger:le,register:Ve,handleSubmit:Ke,watch:re,setValue:H,getValues:B,reset:ht,resetField:pt,clearErrors:he,unregister:Ee,setError:$,setFocus:$t,getFieldState:Q};return oe(z({},St),{formControl:St})}function $u(e={}){const t=se.useRef(void 0),n=se.useRef(void 0),[s,a]=se.useState({isDirty:!1,isValidating:!1,isLoading:Fr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Fr(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current=oe(z({},e.formControl),{formState:s}),e.defaultValues&&!Fr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const l=zF(e),{formControl:u}=l,f=ke(l,["formControl"]);t.current=oe(z({},f),{formState:s})}const i=t.current.control;return i._options=e,Uy(()=>{const u=i._subscribe({formState:i._proxyFormState,callback:()=>a(z({},i._formState)),reRenderRoot:!0});return a(f=>oe(z({},f),{isReady:!0})),i._formState.isReady=!0,u},[i]),se.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),se.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),se.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),se.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),se.useEffect(()=>{if(i._proxyFormState.isDirty){const u=i._getDirty();u!==s.isDirty&&i._subjects.state.next({isDirty:u})}},[i,s.isDirty]),se.useEffect(()=>{e.values&&!Ha(e.values,n.current)?(i._reset(e.values,z({keepFieldsRef:!0},i._options.resetOptions)),n.current=e.values,a(u=>z({},u))):i._resetDefaultValues()},[i,e.values]),se.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next(z({},i._formState))),i._removeUnmounted()}),t.current.formState=sT(s,i),t.current}const UF=0,BF=1,FF=2;var OS=Object.prototype.hasOwnProperty;function px(e,t){var n,s;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((s=e.length)===t.length)for(;s--&&px(e[s],t[s]););return s===-1}if(!n||typeof e=="object"){s=0;for(n in e)if(OS.call(e,n)&&++s&&!OS.call(t,n)||!(n in t)||!px(e[n],t[n]))return!1;return Object.keys(t).length===s}}return e!==e&&t!==t}const No=new WeakMap,Oi=()=>{},_r=Oi(),gx=Object,la=e=>e===_r,Eo=e=>typeof e=="function",Sm=(e,t)=>z(z({},e),t),$F=e=>Eo(e.then),y0={},nh={},dT="undefined",$y=typeof window!=dT,xx=typeof document!=dT,HF=$y&&"Deno"in window,VF=(e,t)=>{const n=No.get(e);return[()=>!la(t)&&e.get(t)||y0,s=>{if(!la(t)){const a=e.get(t);t in nh||(nh[t]=a),n[5](t,Sm(a,s),a||y0)}},n[6],()=>!la(t)&&t in nh?nh[t]:!la(t)&&e.get(t)||y0]};let yx=!0;const IF=()=>yx,[bx,vx]=$y&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Oi,Oi],qF=()=>{const e=xx&&document.visibilityState;return la(e)||e!=="hidden"},WF=e=>(xx&&document.addEventListener("visibilitychange",e),bx("focus",e),()=>{xx&&document.removeEventListener("visibilitychange",e),vx("focus",e)}),YF=e=>{const t=()=>{yx=!0,e()},n=()=>{yx=!1};return bx("online",t),bx("offline",n),()=>{vx("online",t),vx("offline",n)}},XF={isOnline:IF,isVisible:qF},GF={initFocus:WF,initReconnect:YF};se.useId;const fT=!$y||HF,b0=typeof navigator!="undefined"&&navigator.connection,AS=!fT&&b0&&(["slow-2g","2g"].includes(b0.effectiveType)||b0.saveData),sh=new WeakMap,KF=e=>gx.prototype.toString.call(e),v0=(e,t)=>e===`[object ${t}]`;let QF=0;const wx=e=>{const t=typeof e,n=KF(e),s=v0(n,"Date"),a=v0(n,"RegExp"),i=v0(n,"Object");let l,u;if(gx(e)===e&&!s&&!a){if(l=sh.get(e),l)return l;if(l=++QF+"~",sh.set(e,l),Array.isArray(e)){for(l="@",u=0;u<e.length;u++)l+=wx(e[u])+",";sh.set(e,l)}if(i){l="#";const f=gx.keys(e).sort();for(;!la(u=f.pop());)la(e[u])||(l+=u+":"+wx(e[u])+",");sh.set(e,l)}}else l=s?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return l},ZF=e=>{if(Eo(e))try{e=e()}catch(n){e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?wx(e):"",[e,t]};let JF=0;const DS=()=>++JF;function e8(...e){return ye(this,null,function*(){const[t,n,s,a]=e,i=Sm({populateCache:!0,throwOnError:!0},typeof a=="boolean"?{revalidate:a}:a||{});let l=i.populateCache;const u=i.rollbackOnError;let f=i.optimisticData;const h=b=>typeof u=="function"?u(b):u!==!1,p=i.throwOnError;if(Eo(n)){const b=n,x=[],w=t.keys();for(const _ of w)!/^\$(inf|sub)\$/.test(_)&&b(t.get(_)._k)&&x.push(_);return Promise.all(x.map(g))}return g(n);function g(b){return ye(this,null,function*(){const[x]=ZF(b);if(!x)return;const[w,_]=VF(t,x),[S,N,R,A]=No.get(t),C=()=>{const J=S[x];return(Eo(i.revalidate)?i.revalidate(w().data,b):i.revalidate!==!1)&&(delete R[x],delete A[x],J&&J[0])?J[0](FF).then(()=>w().data):w().data};if(e.length<3)return C();let k=s,D,M=!1;const E=DS();N[x]=[E,0];const P=!la(f),K=w(),W=K.data,Y=K._c,q=la(Y)?W:Y;if(P&&(f=Eo(f)?f(q,W):f,_({data:f,_c:q})),Eo(k))try{k=k(q)}catch(J){D=J,M=!0}if(k&&$F(k))if(k=yield k.catch(J=>{D=J,M=!0}),E!==N[x][0]){if(M)throw D;return k}else M&&P&&h(D)&&(l=!0,_({data:q,_c:_r}));if(l&&!M)if(Eo(l)){const J=l(k,q);_({data:J,error:_r,_c:_r})}else _({data:k,error:_r,_c:_r});if(N[x][1]=DS(),Promise.resolve(C()).then(()=>{_({_c:_r})}),M){if(p)throw D;return}return k})}})}const RS=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},t8=(e,t)=>{if(!No.has(e)){const n=Sm(GF,t),s=Object.create(null),a=e8.bind(_r,e);let i=Oi;const l=Object.create(null),u=(p,g)=>{const b=l[p]||[];return l[p]=b,b.push(g),()=>b.splice(b.indexOf(g),1)},f=(p,g,b)=>{e.set(p,g);const x=l[p];if(x)for(const w of x)w(g,b)},h=()=>{if(!No.has(e)&&(No.set(e,[s,Object.create(null),Object.create(null),Object.create(null),a,f,u]),!fT)){const p=n.initFocus(setTimeout.bind(_r,RS.bind(_r,s,UF))),g=n.initReconnect(setTimeout.bind(_r,RS.bind(_r,s,BF)));i=()=>{p&&p(),g&&g(),No.delete(e)}}};return h(),[e,a,h,i]}return[e,No.get(e)[4]]},n8=(e,t,n,s,a)=>{const i=n.errorRetryCount,l=a.retryCount,u=~~((Math.random()+.5)*(1<<(l<8?l:8)))*n.errorRetryInterval;!la(i)&&l>i||setTimeout(s,u,a)},s8=px,[r8,Hy]=t8(new Map);Sm({onLoadingSlow:Oi,onSuccess:Oi,onError:Oi,onErrorRetry:n8,onDiscarded:Oi,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:AS?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:AS?5e3:3e3,compare:s8,isPaused:()=>!1,cache:r8,mutate:Hy,fallback:{}},XF);j.createContext({});const MS=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,PS=J2,a8=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return PS(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=t,l=Object.keys(a).map(h=>{const p=n==null?void 0:n[h],g=i==null?void 0:i[h];if(p===null)return null;const b=MS(p)||MS(g);return a[h][b]}),u=n&&Object.entries(n).reduce((h,p)=>{let[g,b]=p;return b===void 0||(h[g]=b),h},{}),f=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((h,p)=>{let w=p,{class:g,className:b}=w,x=ke(w,["class","className"]);return Object.entries(x).every(_=>{let[S,N]=_;return Array.isArray(N)?N.includes(z(z({},i),u)[S]):z(z({},i),u)[S]===N})?[...h,g,b]:h},[]);return PS(e,l,f,n==null?void 0:n.class,n==null?void 0:n.className)},i8=a8("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Ye(i){var l=i,{className:e,variant:t,size:n,asChild:s=!1}=l,a=ke(l,["className","variant","size","asChild"]);const u=s?t3:"button";return c.jsx(u,z({"data-slot":"button",className:Nn(i8({variant:t,size:n,className:e}))},a))}var LS=1,o8=.9,l8=.8,c8=.17,w0=.1,_0=.999,u8=.9999,d8=.99,f8=/[\\\/_+.#"@\[\(\{&]/,h8=/[\\\/_+.#"@\[\(\{&]/g,m8=/[\s-]/,hT=/[\s-]/g;function _x(e,t,n,s,a,i,l){if(i===t.length)return a===e.length?LS:d8;var u=`${a},${i}`;if(l[u]!==void 0)return l[u];for(var f=s.charAt(i),h=n.indexOf(f,a),p=0,g,b,x,w;h>=0;)g=_x(e,t,n,s,h+1,i+1,l),g>p&&(h===a?g*=LS:f8.test(e.charAt(h-1))?(g*=l8,x=e.slice(a,h-1).match(h8),x&&a>0&&(g*=Math.pow(_0,x.length))):m8.test(e.charAt(h-1))?(g*=o8,w=e.slice(a,h-1).match(hT),w&&a>0&&(g*=Math.pow(_0,w.length))):(g*=c8,a>0&&(g*=Math.pow(_0,h-a))),e.charAt(h)!==t.charAt(i)&&(g*=u8)),(g<w0&&n.charAt(h-1)===s.charAt(i+1)||s.charAt(i+1)===s.charAt(i)&&n.charAt(h-1)!==s.charAt(i))&&(b=_x(e,t,n,s,h+1,i+2,l),b*w0>g&&(g=b*w0)),g>p&&(p=g),h=n.indexOf(f,h+1);return l[u]=p,p}function zS(e){return e.toLowerCase().replace(hT," ")}function p8(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,_x(e,t,zS(e),zS(t),0,0,{})}function Ri(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}var g8="DismissableLayer",jx="dismissableLayer.update",x8="dismissableLayer.pointerDownOutside",y8="dismissableLayer.focusOutside",US,mT=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),pT=j.forwardRef((e,t)=>{var E;const M=e,{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:l,onDismiss:u}=M,f=ke(M,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),h=j.useContext(mT),[p,g]=j.useState(null),b=(E=p==null?void 0:p.ownerDocument)!=null?E:globalThis==null?void 0:globalThis.document,[,x]=j.useState({}),w=An(t,P=>g(P)),_=Array.from(h.layers),[S]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),N=_.indexOf(S),R=p?_.indexOf(p):-1,A=h.layersWithOutsidePointerEventsDisabled.size>0,C=R>=N,k=w8(P=>{const K=P.target,W=[...h.branches].some(Y=>Y.contains(K));!C||W||(a==null||a(P),l==null||l(P),P.defaultPrevented||u==null||u())},b),D=_8(P=>{const K=P.target;[...h.branches].some(Y=>Y.contains(K))||(i==null||i(P),l==null||l(P),P.defaultPrevented||u==null||u())},b);return ny(P=>{R===h.layers.size-1&&(s==null||s(P),!P.defaultPrevented&&u&&(P.preventDefault(),u()))},b),j.useEffect(()=>{if(p)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(US=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),BS(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=US)}},[p,b,n,h]),j.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),BS())},[p,h]),j.useEffect(()=>{const P=()=>x({});return document.addEventListener(jx,P),()=>document.removeEventListener(jx,P)},[]),c.jsx(Wt.div,oe(z({},f),{ref:w,style:z({pointerEvents:A?C?"auto":"none":void 0},e.style),onFocusCapture:Ri(e.onFocusCapture,D.onFocusCapture),onBlurCapture:Ri(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:Ri(e.onPointerDownCapture,k.onPointerDownCapture)}))});pT.displayName=g8;var b8="DismissableLayerBranch",v8=j.forwardRef((e,t)=>{const n=j.useContext(mT),s=j.useRef(null),a=An(t,s);return j.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),c.jsx(Wt.div,oe(z({},e),{ref:a}))});v8.displayName=b8;function w8(e,t=globalThis==null?void 0:globalThis.document){const n=fa(e),s=j.useRef(!1),a=j.useRef(()=>{});return j.useEffect(()=>{const i=u=>{if(u.target&&!s.current){let f=function(){gT(x8,n,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=f,t.addEventListener("click",a.current,{once:!0})):f()}else t.removeEventListener("click",a.current);s.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function _8(e,t=globalThis==null?void 0:globalThis.document){const n=fa(e),s=j.useRef(!1);return j.useEffect(()=>{const a=i=>{i.target&&!s.current&&gT(y8,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function BS(){const e=new CustomEvent(jx);document.dispatchEvent(e)}function gT(e,t,n,{discrete:s}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?ty(a,i):a.dispatchEvent(i)}function j8(e,t){return j.useReducer((n,s)=>{const a=t[n][s];return a!=null?a:n},e)}var Nm=e=>{const{present:t,children:n}=e,s=S8(t),a=typeof n=="function"?n({present:s.isPresent}):j.Children.only(n),i=An(s.ref,N8(a));return typeof n=="function"||s.isPresent?j.cloneElement(a,{ref:i}):null};Nm.displayName="Presence";function S8(e){const[t,n]=j.useState(),s=j.useRef(null),a=j.useRef(e),i=j.useRef("none"),l=e?"mounted":"unmounted",[u,f]=j8(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const h=rh(s.current);i.current=u==="mounted"?h:"none"},[u]),Nr(()=>{const h=s.current,p=a.current;if(p!==e){const b=i.current,x=rh(h);e?f("MOUNT"):x==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(p&&b!==x?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,f]),Nr(()=>{var h;if(t){let p;const g=(h=t.ownerDocument.defaultView)!=null?h:window,b=w=>{const S=rh(s.current).includes(w.animationName);if(w.target===t&&S&&(f("ANIMATION_END"),!a.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},x=w=>{w.target===t&&(i.current=rh(s.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:j.useCallback(h=>{s.current=h?getComputedStyle(h):null,n(h)},[])}}function rh(e){return(e==null?void 0:e.animationName)||"none"}function N8(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var j0=0;function E8(){j.useEffect(()=>{var t,n;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:FS()),document.body.insertAdjacentElement("beforeend",(n=e[1])!=null?n:FS()),j0++,()=>{j0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),j0--}},[])}function FS(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Em="Dialog",[xT,V7]=ad(Em),[T8,Ir]=xT(Em),yT=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:l=!0}=e,u=j.useRef(null),f=j.useRef(null),[h,p]=mm({prop:s,defaultProp:a!=null?a:!1,onChange:i,caller:Em});return c.jsx(T8,{scope:t,triggerRef:u,contentRef:f,contentId:Os(),titleId:Os(),descriptionId:Os(),open:h,onOpenChange:p,onOpenToggle:j.useCallback(()=>p(g=>!g),[p]),modal:l,children:n})};yT.displayName=Em;var bT="DialogTrigger",C8=j.forwardRef((e,t)=>{const l=e,{__scopeDialog:n}=l,s=ke(l,["__scopeDialog"]),a=Ir(bT,n),i=An(t,a.triggerRef);return c.jsx(Wt.button,oe(z({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":qy(a.open)},s),{ref:i,onClick:Ri(e.onClick,a.onOpenToggle)}))});C8.displayName=bT;var Vy="DialogPortal",[k8,vT]=xT(Vy,{forceMount:void 0}),wT=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:a}=e,i=Ir(Vy,t);return c.jsx(k8,{scope:t,forceMount:n,children:j.Children.map(s,l=>c.jsx(Nm,{present:n||i.open,children:c.jsx(ld,{asChild:!0,container:a,children:l})}))})};wT.displayName=Vy;var Jh="DialogOverlay",_T=j.forwardRef((e,t)=>{const n=vT(Jh,e.__scopeDialog),l=e,{forceMount:s=n.forceMount}=l,a=ke(l,["forceMount"]),i=Ir(Jh,e.__scopeDialog);return i.modal?c.jsx(Nm,{present:s||i.open,children:c.jsx(A8,oe(z({},a),{ref:t}))}):null});_T.displayName=Jh;var O8=sc("DialogOverlay.RemoveScroll"),A8=j.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,s=ke(i,["__scopeDialog"]),a=Ir(Jh,n);return c.jsx(cd,{as:O8,allowPinchZoom:!0,shards:[a.contentRef],children:c.jsx(Wt.div,oe(z({"data-state":qy(a.open)},s),{ref:t,style:z({pointerEvents:"auto"},s.style)}))})}),Bo="DialogContent",jT=j.forwardRef((e,t)=>{const n=vT(Bo,e.__scopeDialog),l=e,{forceMount:s=n.forceMount}=l,a=ke(l,["forceMount"]),i=Ir(Bo,e.__scopeDialog);return c.jsx(Nm,{present:s||i.open,children:i.modal?c.jsx(D8,oe(z({},a),{ref:t})):c.jsx(R8,oe(z({},a),{ref:t}))})});jT.displayName=Bo;var D8=j.forwardRef((e,t)=>{const n=Ir(Bo,e.__scopeDialog),s=j.useRef(null),a=An(t,n.contentRef,s);return j.useEffect(()=>{const i=s.current;if(i)return pm(i)},[]),c.jsx(ST,oe(z({},e),{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ri(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ri(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&i.preventDefault()}),onFocusOutside:Ri(e.onFocusOutside,i=>i.preventDefault())}))}),R8=j.forwardRef((e,t)=>{const n=Ir(Bo,e.__scopeDialog),s=j.useRef(!1),a=j.useRef(!1);return c.jsx(ST,oe(z({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,u;(l=e.onCloseAutoFocus)==null||l.call(e,i),i.defaultPrevented||(s.current||(u=n.triggerRef.current)==null||u.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=i.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}}))}),ST=j.forwardRef((e,t)=>{const p=e,{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i}=p,l=ke(p,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),u=Ir(Bo,n),f=j.useRef(null),h=An(t,f);return E8(),c.jsxs(c.Fragment,{children:[c.jsx(id,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:c.jsx(pT,oe(z({role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":qy(u.open)},l),{ref:h,onDismiss:()=>u.onOpenChange(!1)}))}),c.jsxs(c.Fragment,{children:[c.jsx(z8,{titleId:u.titleId}),c.jsx(B8,{contentRef:f,descriptionId:u.descriptionId})]})]})}),Iy="DialogTitle",M8=j.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,s=ke(i,["__scopeDialog"]),a=Ir(Iy,n);return c.jsx(Wt.h2,oe(z({id:a.titleId},s),{ref:t}))});M8.displayName=Iy;var NT="DialogDescription",P8=j.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,s=ke(i,["__scopeDialog"]),a=Ir(NT,n);return c.jsx(Wt.p,oe(z({id:a.descriptionId},s),{ref:t}))});P8.displayName=NT;var ET="DialogClose",L8=j.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,s=ke(i,["__scopeDialog"]),a=Ir(ET,n);return c.jsx(Wt.button,oe(z({type:"button"},s),{ref:t,onClick:Ri(e.onClick,()=>a.onOpenChange(!1))}))});L8.displayName=ET;function qy(e){return e?"open":"closed"}var TT="DialogTitleWarning",[I7,CT]=ey(TT,{contentName:Bo,titleName:Iy,docsSlug:"dialog"}),z8=({titleId:e})=>{const t=CT(TT),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return j.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},U8="DialogDescriptionWarning",B8=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${CT(U8).contentName}}.`;return j.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},F8=yT,$8=wT,H8=_T,V8=jT,Nu='[cmdk-group=""]',S0='[cmdk-group-items=""]',I8='[cmdk-group-heading=""]',kT='[cmdk-item=""]',$S=`${kT}:not([aria-disabled="true"])`,Sx="cmdk-item-select",$l="data-value",q8=(e,t,n)=>p8(e,t,n),OT=j.createContext(void 0),hd=()=>j.useContext(OT),AT=j.createContext(void 0),Wy=()=>j.useContext(AT),DT=j.createContext(void 0),RT=j.forwardRef((e,t)=>{let n=Hl(()=>{var $,re;return{search:"",value:(re=($=e.value)!=null?$:e.defaultValue)!=null?re:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=Hl(()=>new Set),a=Hl(()=>new Map),i=Hl(()=>new Map),l=Hl(()=>new Set),u=MT(e),he=e,{label:f,children:h,value:p,onValueChange:g,filter:b,shouldFilter:x,loop:w,disablePointerSelection:_=!1,vimBindings:S=!0}=he,N=ke(he,["label","children","value","onValueChange","filter","shouldFilter","loop","disablePointerSelection","vimBindings"]),R=Os(),A=Os(),C=Os(),k=j.useRef(null),D=n$();Fo(()=>{if(p!==void 0){let $=p.trim();n.current.value=$,M.emit()}},[p]),Fo(()=>{D(6,q)},[]);let M=j.useMemo(()=>({subscribe:$=>(l.current.add($),()=>l.current.delete($)),snapshot:()=>n.current,setState:($,re,_e)=>{var xe,Ee,De,Ve;if(!Object.is(n.current[$],re)){if(n.current[$]=re,$==="search")Y(),K(),D(1,W);else if($==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Le=document.getElementById(C);Le?Le.focus():(xe=document.getElementById(R))==null||xe.focus()}if(D(7,()=>{var Le;n.current.selectedItemId=(Le=J())==null?void 0:Le.id,M.emit()}),_e||D(5,q),((Ee=u.current)==null?void 0:Ee.value)!==void 0){let Le=re!=null?re:"";(Ve=(De=u.current).onValueChange)==null||Ve.call(De,Le);return}}M.emit()}},emit:()=>{l.current.forEach($=>$())}}),[]),E=j.useMemo(()=>({value:($,re,_e)=>{var xe;re!==((xe=i.current.get($))==null?void 0:xe.value)&&(i.current.set($,{value:re,keywords:_e}),n.current.filtered.items.set($,P(re,_e)),D(2,()=>{K(),M.emit()}))},item:($,re)=>(s.current.add($),re&&(a.current.has(re)?a.current.get(re).add($):a.current.set(re,new Set([$]))),D(3,()=>{Y(),K(),n.current.value||W(),M.emit()}),()=>{i.current.delete($),s.current.delete($),n.current.filtered.items.delete($);let _e=J();D(4,()=>{Y(),(_e==null?void 0:_e.getAttribute("id"))===$&&W(),M.emit()})}),group:$=>(a.current.has($)||a.current.set($,new Set),()=>{i.current.delete($),a.current.delete($)}),filter:()=>u.current.shouldFilter,label:f||e["aria-label"],getDisablePointerSelection:()=>u.current.disablePointerSelection,listId:R,inputId:C,labelId:A,listInnerRef:k}),[]);function P($,re){var _e,xe;let Ee=(xe=(_e=u.current)==null?void 0:_e.filter)!=null?xe:q8;return $?Ee($,n.current.search,re):0}function K(){if(!n.current.search||u.current.shouldFilter===!1)return;let $=n.current.filtered.items,re=[];n.current.filtered.groups.forEach(xe=>{let Ee=a.current.get(xe),De=0;Ee.forEach(Ve=>{let Le=$.get(Ve);De=Math.max(Le,De)}),re.push([xe,De])});let _e=k.current;G().sort((xe,Ee)=>{var De,Ve;let Le=xe.getAttribute("id"),lt=Ee.getAttribute("id");return((De=$.get(lt))!=null?De:0)-((Ve=$.get(Le))!=null?Ve:0)}).forEach(xe=>{let Ee=xe.closest(S0);Ee?Ee.appendChild(xe.parentElement===Ee?xe:xe.closest(`${S0} > *`)):_e.appendChild(xe.parentElement===_e?xe:xe.closest(`${S0} > *`))}),re.sort((xe,Ee)=>Ee[1]-xe[1]).forEach(xe=>{var Ee;let De=(Ee=k.current)==null?void 0:Ee.querySelector(`${Nu}[${$l}="${encodeURIComponent(xe[0])}"]`);De==null||De.parentElement.appendChild(De)})}function W(){let $=G().find(_e=>_e.getAttribute("aria-disabled")!=="true"),re=$==null?void 0:$.getAttribute($l);M.setState("value",re||void 0)}function Y(){var $,re,_e,xe;if(!n.current.search||u.current.shouldFilter===!1){n.current.filtered.count=s.current.size;return}n.current.filtered.groups=new Set;let Ee=0;for(let De of s.current){let Ve=(re=($=i.current.get(De))==null?void 0:$.value)!=null?re:"",Le=(xe=(_e=i.current.get(De))==null?void 0:_e.keywords)!=null?xe:[],lt=P(Ve,Le);n.current.filtered.items.set(De,lt),lt>0&&Ee++}for(let[De,Ve]of a.current)for(let Le of Ve)if(n.current.filtered.items.get(Le)>0){n.current.filtered.groups.add(De);break}n.current.filtered.count=Ee}function q(){var $,re,_e;let xe=J();xe&&((($=xe.parentElement)==null?void 0:$.firstChild)===xe&&((_e=(re=xe.closest(Nu))==null?void 0:re.querySelector(I8))==null||_e.scrollIntoView({block:"nearest"})),xe.scrollIntoView({block:"nearest"}))}function J(){var $;return($=k.current)==null?void 0:$.querySelector(`${kT}[aria-selected="true"]`)}function G(){var $;return Array.from((($=k.current)==null?void 0:$.querySelectorAll($S))||[])}function H($){let re=G()[$];re&&M.setState("value",re.getAttribute($l))}function te($){var re;let _e=J(),xe=G(),Ee=xe.findIndex(Ve=>Ve===_e),De=xe[Ee+$];(re=u.current)!=null&&re.loop&&(De=Ee+$<0?xe[xe.length-1]:Ee+$===xe.length?xe[0]:xe[Ee+$]),De&&M.setState("value",De.getAttribute($l))}function ne($){let re=J(),_e=re==null?void 0:re.closest(Nu),xe;for(;_e&&!xe;)_e=$>0?e$(_e,Nu):t$(_e,Nu),xe=_e==null?void 0:_e.querySelector($S);xe?M.setState("value",xe.getAttribute($l)):te($)}let le=()=>H(G().length-1),B=$=>{$.preventDefault(),$.metaKey?le():$.altKey?ne(1):te(1)},Q=$=>{$.preventDefault(),$.metaKey?H(0):$.altKey?ne(-1):te(-1)};return j.createElement(Wt.div,oe(z({ref:t,tabIndex:-1},N),{"cmdk-root":"",onKeyDown:$=>{var re;(re=N.onKeyDown)==null||re.call(N,$);let _e=$.nativeEvent.isComposing||$.keyCode===229;if(!($.defaultPrevented||_e))switch($.key){case"n":case"j":{S&&$.ctrlKey&&B($);break}case"ArrowDown":{B($);break}case"p":case"k":{S&&$.ctrlKey&&Q($);break}case"ArrowUp":{Q($);break}case"Home":{$.preventDefault(),H(0);break}case"End":{$.preventDefault(),le();break}case"Enter":{$.preventDefault();let xe=J();if(xe){let Ee=new Event(Sx);xe.dispatchEvent(Ee)}}}}}),j.createElement("label",{"cmdk-label":"",htmlFor:E.inputId,id:E.labelId,style:r$},f),Tm(e,$=>j.createElement(AT.Provider,{value:M},j.createElement(OT.Provider,{value:E},$))))}),W8=j.forwardRef((e,t)=>{var n,s;let a=Os(),i=j.useRef(null),l=j.useContext(DT),u=hd(),f=MT(e),h=(s=(n=f.current)==null?void 0:n.forceMount)!=null?s:l==null?void 0:l.forceMount;Fo(()=>{if(!h)return u.item(a,l==null?void 0:l.id)},[h]);let p=PT(a,i,[e.value,e.children,i],e.keywords),g=Wy(),b=Bi(M=>M.value&&M.value===p.current),x=Bi(M=>h||u.filter()===!1?!0:M.search?M.filtered.items.get(a)>0:!0);j.useEffect(()=>{let M=i.current;if(!(!M||e.disabled))return M.addEventListener(Sx,w),()=>M.removeEventListener(Sx,w)},[x,e.onSelect,e.disabled]);function w(){var M,E;_(),(E=(M=f.current).onSelect)==null||E.call(M,p.current)}function _(){g.setState("value",p.current,!0)}if(!x)return null;let D=e,{disabled:S,value:N,onSelect:R,forceMount:A,keywords:C}=D,k=ke(D,["disabled","value","onSelect","forceMount","keywords"]);return j.createElement(Wt.div,oe(z({ref:Po(i,t)},k),{id:a,"cmdk-item":"",role:"option","aria-disabled":!!S,"aria-selected":!!b,"data-disabled":!!S,"data-selected":!!b,onPointerMove:S||u.getDisablePointerSelection()?void 0:_,onClick:S?void 0:w}),e.children)}),Y8=j.forwardRef((e,t)=>{let x=e,{heading:n,children:s,forceMount:a}=x,i=ke(x,["heading","children","forceMount"]),l=Os(),u=j.useRef(null),f=j.useRef(null),h=Os(),p=hd(),g=Bi(w=>a||p.filter()===!1?!0:w.search?w.filtered.groups.has(l):!0);Fo(()=>p.group(l),[]),PT(l,u,[e.value,e.heading,f]);let b=j.useMemo(()=>({id:l,forceMount:a}),[a]);return j.createElement(Wt.div,oe(z({ref:Po(u,t)},i),{"cmdk-group":"",role:"presentation",hidden:g?void 0:!0}),n&&j.createElement("div",{ref:f,"cmdk-group-heading":"","aria-hidden":!0,id:h},n),Tm(e,w=>j.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?h:void 0},j.createElement(DT.Provider,{value:b},w))))}),X8=j.forwardRef((e,t)=>{let l=e,{alwaysRender:n}=l,s=ke(l,["alwaysRender"]),a=j.useRef(null),i=Bi(u=>!u.search);return!n&&!i?null:j.createElement(Wt.div,oe(z({ref:Po(a,t)},s),{"cmdk-separator":"",role:"separator"}))}),G8=j.forwardRef((e,t)=>{let h=e,{onValueChange:n}=h,s=ke(h,["onValueChange"]),a=e.value!=null,i=Wy(),l=Bi(p=>p.search),u=Bi(p=>p.selectedItemId),f=hd();return j.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),j.createElement(Wt.input,oe(z({ref:t},s),{"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":f.listId,"aria-labelledby":f.labelId,"aria-activedescendant":u,id:f.inputId,type:"text",value:a?e.value:l,onChange:p=>{a||i.setState("search",p.target.value),n==null||n(p.target.value)}}))}),K8=j.forwardRef((e,t)=>{let h=e,{children:n,label:s="Suggestions"}=h,a=ke(h,["children","label"]),i=j.useRef(null),l=j.useRef(null),u=Bi(p=>p.selectedItemId),f=hd();return j.useEffect(()=>{if(l.current&&i.current){let p=l.current,g=i.current,b,x=new ResizeObserver(()=>{b=requestAnimationFrame(()=>{let w=p.offsetHeight;g.style.setProperty("--cmdk-list-height",w.toFixed(1)+"px")})});return x.observe(p),()=>{cancelAnimationFrame(b),x.unobserve(p)}}},[]),j.createElement(Wt.div,oe(z({ref:Po(i,t)},a),{"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":u,"aria-label":s,id:f.listId}),Tm(e,p=>j.createElement("div",{ref:Po(l,f.listInnerRef),"cmdk-list-sizer":""},p)))}),Q8=j.forwardRef((e,t)=>{let f=e,{open:n,onOpenChange:s,overlayClassName:a,contentClassName:i,container:l}=f,u=ke(f,["open","onOpenChange","overlayClassName","contentClassName","container"]);return j.createElement(F8,{open:n,onOpenChange:s},j.createElement($8,{container:l},j.createElement(H8,{"cmdk-overlay":"",className:a}),j.createElement(V8,{"aria-label":e.label,"cmdk-dialog":"",className:i},j.createElement(RT,z({ref:t},u)))))}),Z8=j.forwardRef((e,t)=>Bi(n=>n.filtered.count===0)?j.createElement(Wt.div,oe(z({ref:t},e),{"cmdk-empty":"",role:"presentation"})):null),J8=j.forwardRef((e,t)=>{let l=e,{progress:n,children:s,label:a="Loading..."}=l,i=ke(l,["progress","children","label"]);return j.createElement(Wt.div,oe(z({ref:t},i),{"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a}),Tm(e,u=>j.createElement("div",{"aria-hidden":!0},u)))}),dc=Object.assign(RT,{List:K8,Item:W8,Input:G8,Group:Y8,Separator:X8,Dialog:Q8,Empty:Z8,Loading:J8});function e$(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function t$(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function MT(e){let t=j.useRef(e);return Fo(()=>{t.current=e}),t}var Fo=typeof window=="undefined"?j.useEffect:j.useLayoutEffect;function Hl(e){let t=j.useRef();return t.current===void 0&&(t.current=e()),t}function Bi(e){let t=Wy(),n=()=>e(t.snapshot());return j.useSyncExternalStore(t.subscribe,n,n)}function PT(e,t,n,s=[]){let a=j.useRef(),i=hd();return Fo(()=>{var l;let u=(()=>{var h;for(let p of n){if(typeof p=="string")return p.trim();if(typeof p=="object"&&"current"in p)return p.current?(h=p.current.textContent)==null?void 0:h.trim():a.current}})(),f=s.map(h=>h.trim());i.value(e,u,f),(l=t.current)==null||l.setAttribute($l,u),a.current=u}),a}var n$=()=>{let[e,t]=j.useState(),n=Hl(()=>new Map);return Fo(()=>{n.current.forEach(s=>s()),n.current=new Map},[e]),(s,a)=>{n.current.set(s,a),t({})}};function s$(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Tm({asChild:e,children:t},n){return e&&j.isValidElement(t)?j.cloneElement(s$(t),{ref:t.ref},n(t.props.children)):n(t)}var r$={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},Cm="Dialog",[LT,q7]=ad(Cm),[a$,qr]=LT(Cm),zT=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:l=!0}=e,u=j.useRef(null),f=j.useRef(null),[h,p]=mm({prop:s,defaultProp:a!=null?a:!1,onChange:i,caller:Cm});return c.jsx(a$,{scope:t,triggerRef:u,contentRef:f,contentId:Os(),titleId:Os(),descriptionId:Os(),open:h,onOpenChange:p,onOpenToggle:j.useCallback(()=>p(g=>!g),[p]),modal:l,children:n})};zT.displayName=Cm;var UT="DialogTrigger",BT=j.forwardRef((e,t)=>{const l=e,{__scopeDialog:n}=l,s=ke(l,["__scopeDialog"]),a=qr(UT,n),i=An(t,a.triggerRef);return c.jsx(Wt.button,oe(z({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Gy(a.open)},s),{ref:i,onClick:ir(e.onClick,a.onOpenToggle)}))});BT.displayName=UT;var Yy="DialogPortal",[i$,FT]=LT(Yy,{forceMount:void 0}),$T=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:a}=e,i=qr(Yy,t);return c.jsx(i$,{scope:t,forceMount:n,children:j.Children.map(s,l=>c.jsx(ic,{present:n||i.open,children:c.jsx(ld,{asChild:!0,container:a,children:l})}))})};$T.displayName=Yy;var em="DialogOverlay",HT=j.forwardRef((e,t)=>{const n=FT(em,e.__scopeDialog),l=e,{forceMount:s=n.forceMount}=l,a=ke(l,["forceMount"]),i=qr(em,e.__scopeDialog);return i.modal?c.jsx(ic,{present:s||i.open,children:c.jsx(l$,oe(z({},a),{ref:t}))}):null});HT.displayName=em;var o$=sc("DialogOverlay.RemoveScroll"),l$=j.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,s=ke(i,["__scopeDialog"]),a=qr(em,n);return c.jsx(cd,{as:o$,allowPinchZoom:!0,shards:[a.contentRef],children:c.jsx(Wt.div,oe(z({"data-state":Gy(a.open)},s),{ref:t,style:z({pointerEvents:"auto"},s.style)}))})}),$o="DialogContent",VT=j.forwardRef((e,t)=>{const n=FT($o,e.__scopeDialog),l=e,{forceMount:s=n.forceMount}=l,a=ke(l,["forceMount"]),i=qr($o,e.__scopeDialog);return c.jsx(ic,{present:s||i.open,children:i.modal?c.jsx(c$,oe(z({},a),{ref:t})):c.jsx(u$,oe(z({},a),{ref:t}))})});VT.displayName=$o;var c$=j.forwardRef((e,t)=>{const n=qr($o,e.__scopeDialog),s=j.useRef(null),a=An(t,n.contentRef,s);return j.useEffect(()=>{const i=s.current;if(i)return pm(i)},[]),c.jsx(IT,oe(z({},e),{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ir(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ir(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&i.preventDefault()}),onFocusOutside:ir(e.onFocusOutside,i=>i.preventDefault())}))}),u$=j.forwardRef((e,t)=>{const n=qr($o,e.__scopeDialog),s=j.useRef(!1),a=j.useRef(!1);return c.jsx(IT,oe(z({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,u;(l=e.onCloseAutoFocus)==null||l.call(e,i),i.defaultPrevented||(s.current||(u=n.triggerRef.current)==null||u.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=i.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}}))}),IT=j.forwardRef((e,t)=>{const p=e,{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i}=p,l=ke(p,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),u=qr($o,n),f=j.useRef(null),h=An(t,f);return c2(),c.jsxs(c.Fragment,{children:[c.jsx(id,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:c.jsx(sy,oe(z({role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Gy(u.open)},l),{ref:h,onDismiss:()=>u.onOpenChange(!1)}))}),c.jsxs(c.Fragment,{children:[c.jsx(d$,{titleId:u.titleId}),c.jsx(h$,{contentRef:f,descriptionId:u.descriptionId})]})]})}),Xy="DialogTitle",qT=j.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,s=ke(i,["__scopeDialog"]),a=qr(Xy,n);return c.jsx(Wt.h2,oe(z({id:a.titleId},s),{ref:t}))});qT.displayName=Xy;var WT="DialogDescription",YT=j.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,s=ke(i,["__scopeDialog"]),a=qr(WT,n);return c.jsx(Wt.p,oe(z({id:a.descriptionId},s),{ref:t}))});YT.displayName=WT;var XT="DialogClose",GT=j.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,s=ke(i,["__scopeDialog"]),a=qr(XT,n);return c.jsx(Wt.button,oe(z({type:"button"},s),{ref:t,onClick:ir(e.onClick,()=>a.onOpenChange(!1))}))});GT.displayName=XT;function Gy(e){return e?"open":"closed"}var KT="DialogTitleWarning",[W7,QT]=ey(KT,{contentName:$o,titleName:Xy,docsSlug:"dialog"}),d$=({titleId:e})=>{const t=QT(KT),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return j.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},f$="DialogDescriptionWarning",h$=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${QT(f$).contentName}}.`;return j.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},m$=zT,p$=BT,g$=$T,x$=HT,y$=VT,b$=qT,v$=YT,ZT=GT;function ys(t){var e=ke(t,[]);return c.jsx(m$,z({"data-slot":"dialog"},e))}function w$(t){var e=ke(t,[]);return c.jsx(p$,z({"data-slot":"dialog-trigger"},e))}function _$(t){var e=ke(t,[]);return c.jsx(g$,z({"data-slot":"dialog-portal"},e))}function j$(t){var e=ke(t,[]);return c.jsx(ZT,z({"data-slot":"dialog-close"},e))}function S$(n){var s=n,{className:e}=s,t=ke(s,["className"]);return c.jsx(x$,z({"data-slot":"dialog-overlay",className:Nn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e)},t))}function bs(a){var i=a,{className:e,children:t,showCloseButton:n=!0}=i,s=ke(i,["className","children","showCloseButton"]);return c.jsxs(_$,{"data-slot":"dialog-portal",children:[c.jsx(S$,{}),c.jsxs(y$,oe(z({"data-slot":"dialog-content",className:Nn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e)},s),{children:[t,n&&c.jsxs(ZT,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[c.jsx(ZP,{}),c.jsx("span",{className:"sr-only",children:"Close"})]})]}))]})}function vs(n){var s=n,{className:e}=s,t=ke(s,["className"]);return c.jsx("div",z({"data-slot":"dialog-header",className:Nn("flex flex-col gap-2 text-center sm:text-left",e)},t))}function ws(n){var s=n,{className:e}=s,t=ke(s,["className"]);return c.jsx("div",z({"data-slot":"dialog-footer",className:Nn("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e)},t))}function _s(n){var s=n,{className:e}=s,t=ke(s,["className"]);return c.jsx(b$,z({"data-slot":"dialog-title",className:Nn("text-lg leading-none font-semibold",e)},t))}function Do(n){var s=n,{className:e}=s,t=ke(s,["className"]);return c.jsx(v$,z({"data-slot":"dialog-description",className:Nn("text-muted-foreground text-sm",e)},t))}function N$(n){var s=n,{className:e}=s,t=ke(s,["className"]);return c.jsx(dc,z({"data-slot":"command",className:Nn("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e)},t))}function E$(n){var s=n,{className:e}=s,t=ke(s,["className"]);return c.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[c.jsx(cm,{className:"size-4 shrink-0 opacity-50"}),c.jsx(dc.Input,z({"data-slot":"command-input",className:Nn("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e)},t))]})}function T$(n){var s=n,{className:e}=s,t=ke(s,["className"]);return c.jsx(dc.List,z({"data-slot":"command-list",className:Nn("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e)},t))}function N0(t){var e=ke(t,[]);return c.jsx(dc.Empty,z({"data-slot":"command-empty",className:"py-6 text-center text-sm"},e))}function C$(n){var s=n,{className:e}=s,t=ke(s,["className"]);return c.jsx(dc.Group,z({"data-slot":"command-group",className:Nn("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e)},t))}function k$(n){var s=n,{className:e}=s,t=ke(s,["className"]);return c.jsx(dc.Item,z({"data-slot":"command-item",className:Nn("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e)},t))}function ar({doctype:e,value:t="",onChange:n,placeholder:s="Select option...",className:a="w-[200px]",fields:i=["name"],filters:l=[],displayField:u="name",valueField:f="name",disabled:h=!1,limit:p=20}){const[g,b]=j.useState(!1),[x,w]=j.useState(""),_=j.useMemo(()=>{let M={};if(l.length>0&&l.forEach(P=>{if(Array.isArray(P)&&P.length>=3){const[K,W,Y]=P;W==="="&&(M[K]=Y)}}),x.trim()&&(M[u]=["like",`%${x}%`]),Object.keys(M).length===0&&x.trim())return[[u,"like",`%${x}%`]];const E=[];return Object.entries(M).forEach(([P,K])=>{Array.isArray(K)?E.push([P,K[0],K[1]]):E.push([P,"=",K])}),E.length>0?E:void 0},[x,l,u]),{data:S,isLoading:N,error:R}=Dt(e,{fields:[...new Set([...i,u,f])],filters:_,limit:p,orderBy:{field:u,order:"asc"}}),A=j.useMemo(()=>!S||!Array.isArray(S)?[]:S.map(M=>({value:M[f],label:M[u]})),[S,u,f]),C=A.find(M=>M.value===t),k=M=>{n(M===t?"":M),b(!1)},D=M=>{w(M)};return c.jsxs(py,{open:g,onOpenChange:b,children:[c.jsx(gy,{asChild:!0,children:c.jsxs(Ye,{variant:"outline",role:"combobox","aria-expanded":g,className:Nn("justify-between",a),disabled:h,children:[(C==null?void 0:C.label)||s,c.jsx(tP,{className:"opacity-50"})]})}),c.jsx(xy,{className:Nn("p-0",a),children:c.jsxs(N$,{shouldFilter:!1,children:[c.jsx(E$,{placeholder:`Search ${e.toLowerCase()}...`,className:"h-9",value:x,onValueChange:D}),c.jsxs(T$,{children:[N&&c.jsx(N0,{children:"Loading..."}),R&&c.jsx(N0,{children:"Error loading data."}),!N&&!R&&A.length===0&&c.jsxs(N0,{children:["No ",e.toLowerCase()," found."]}),!N&&!R&&A.length>0&&c.jsx(C$,{children:A.map(M=>c.jsxs(k$,{value:M.value,onSelect:k,children:[M.label,c.jsx(KM,{className:Nn("ml-auto",t===M.value?"opacity-100":"opacity-0")})]},M.value))})]})]})})]})}function Ft(s){var a=s,{className:e,type:t}=a,n=ke(a,["className","type"]);return c.jsx("input",z({type:t,"data-slot":"input",className:Nn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e)},n))}var O$="Label",JT=j.forwardRef((e,t)=>c.jsx(Wt.label,oe(z({},e),{ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}})));JT.displayName=O$;var A$=JT;function ze(n){var s=n,{className:e}=s,t=ke(s,["className"]);return c.jsx(A$,z({"data-slot":"label",className:Nn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e)},t))}function Mi(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}var D$="DismissableLayer",Nx="dismissableLayer.update",R$="dismissableLayer.pointerDownOutside",M$="dismissableLayer.focusOutside",HS,eC=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),tC=j.forwardRef((e,t)=>{var E;const M=e,{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:l,onDismiss:u}=M,f=ke(M,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),h=j.useContext(eC),[p,g]=j.useState(null),b=(E=p==null?void 0:p.ownerDocument)!=null?E:globalThis==null?void 0:globalThis.document,[,x]=j.useState({}),w=An(t,P=>g(P)),_=Array.from(h.layers),[S]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),N=_.indexOf(S),R=p?_.indexOf(p):-1,A=h.layersWithOutsidePointerEventsDisabled.size>0,C=R>=N,k=z$(P=>{const K=P.target,W=[...h.branches].some(Y=>Y.contains(K));!C||W||(a==null||a(P),l==null||l(P),P.defaultPrevented||u==null||u())},b),D=U$(P=>{const K=P.target;[...h.branches].some(Y=>Y.contains(K))||(i==null||i(P),l==null||l(P),P.defaultPrevented||u==null||u())},b);return ny(P=>{R===h.layers.size-1&&(s==null||s(P),!P.defaultPrevented&&u&&(P.preventDefault(),u()))},b),j.useEffect(()=>{if(p)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(HS=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),VS(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=HS)}},[p,b,n,h]),j.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),VS())},[p,h]),j.useEffect(()=>{const P=()=>x({});return document.addEventListener(Nx,P),()=>document.removeEventListener(Nx,P)},[]),c.jsx(Wt.div,oe(z({},f),{ref:w,style:z({pointerEvents:A?C?"auto":"none":void 0},e.style),onFocusCapture:Mi(e.onFocusCapture,D.onFocusCapture),onBlurCapture:Mi(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:Mi(e.onPointerDownCapture,k.onPointerDownCapture)}))});tC.displayName=D$;var P$="DismissableLayerBranch",L$=j.forwardRef((e,t)=>{const n=j.useContext(eC),s=j.useRef(null),a=An(t,s);return j.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),c.jsx(Wt.div,oe(z({},e),{ref:a}))});L$.displayName=P$;function z$(e,t=globalThis==null?void 0:globalThis.document){const n=fa(e),s=j.useRef(!1),a=j.useRef(()=>{});return j.useEffect(()=>{const i=u=>{if(u.target&&!s.current){let f=function(){nC(R$,n,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=f,t.addEventListener("click",a.current,{once:!0})):f()}else t.removeEventListener("click",a.current);s.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function U$(e,t=globalThis==null?void 0:globalThis.document){const n=fa(e),s=j.useRef(!1);return j.useEffect(()=>{const a=i=>{i.target&&!s.current&&nC(M$,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function VS(){const e=new CustomEvent(Nx);document.dispatchEvent(e)}function nC(e,t,n,{discrete:s}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?ty(a,i):a.dispatchEvent(i)}function B$(e,t){return j.useReducer((n,s)=>{const a=t[n][s];return a!=null?a:n},e)}var km=e=>{const{present:t,children:n}=e,s=F$(t),a=typeof n=="function"?n({present:s.isPresent}):j.Children.only(n),i=An(s.ref,$$(a));return typeof n=="function"||s.isPresent?j.cloneElement(a,{ref:i}):null};km.displayName="Presence";function F$(e){const[t,n]=j.useState(),s=j.useRef(null),a=j.useRef(e),i=j.useRef("none"),l=e?"mounted":"unmounted",[u,f]=B$(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const h=ah(s.current);i.current=u==="mounted"?h:"none"},[u]),Nr(()=>{const h=s.current,p=a.current;if(p!==e){const b=i.current,x=ah(h);e?f("MOUNT"):x==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(p&&b!==x?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,f]),Nr(()=>{var h;if(t){let p;const g=(h=t.ownerDocument.defaultView)!=null?h:window,b=w=>{const S=ah(s.current).includes(w.animationName);if(w.target===t&&S&&(f("ANIMATION_END"),!a.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},x=w=>{w.target===t&&(i.current=ah(s.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:j.useCallback(h=>{s.current=h?getComputedStyle(h):null,n(h)},[])}}function ah(e){return(e==null?void 0:e.animationName)||"none"}function $$(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var E0=0;function H$(){j.useEffect(()=>{var t,n;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:IS()),document.body.insertAdjacentElement("beforeend",(n=e[1])!=null?n:IS()),E0++,()=>{E0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),E0--}},[])}function IS(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Om="Dialog",[sC,Y7]=ad(Om),[V$,Wr]=sC(Om),rC=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:l=!0}=e,u=j.useRef(null),f=j.useRef(null),[h,p]=mm({prop:s,defaultProp:a!=null?a:!1,onChange:i,caller:Om});return c.jsx(V$,{scope:t,triggerRef:u,contentRef:f,contentId:Os(),titleId:Os(),descriptionId:Os(),open:h,onOpenChange:p,onOpenToggle:j.useCallback(()=>p(g=>!g),[p]),modal:l,children:n})};rC.displayName=Om;var aC="DialogTrigger",I$=j.forwardRef((e,t)=>{const l=e,{__scopeDialog:n}=l,s=ke(l,["__scopeDialog"]),a=Wr(aC,n),i=An(t,a.triggerRef);return c.jsx(Wt.button,oe(z({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Zy(a.open)},s),{ref:i,onClick:Mi(e.onClick,a.onOpenToggle)}))});I$.displayName=aC;var Ky="DialogPortal",[q$,iC]=sC(Ky,{forceMount:void 0}),oC=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:a}=e,i=Wr(Ky,t);return c.jsx(q$,{scope:t,forceMount:n,children:j.Children.map(s,l=>c.jsx(km,{present:n||i.open,children:c.jsx(ld,{asChild:!0,container:a,children:l})}))})};oC.displayName=Ky;var tm="DialogOverlay",lC=j.forwardRef((e,t)=>{const n=iC(tm,e.__scopeDialog),l=e,{forceMount:s=n.forceMount}=l,a=ke(l,["forceMount"]),i=Wr(tm,e.__scopeDialog);return i.modal?c.jsx(km,{present:s||i.open,children:c.jsx(Y$,oe(z({},a),{ref:t}))}):null});lC.displayName=tm;var W$=sc("DialogOverlay.RemoveScroll"),Y$=j.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,s=ke(i,["__scopeDialog"]),a=Wr(tm,n);return c.jsx(cd,{as:W$,allowPinchZoom:!0,shards:[a.contentRef],children:c.jsx(Wt.div,oe(z({"data-state":Zy(a.open)},s),{ref:t,style:z({pointerEvents:"auto"},s.style)}))})}),Ho="DialogContent",cC=j.forwardRef((e,t)=>{const n=iC(Ho,e.__scopeDialog),l=e,{forceMount:s=n.forceMount}=l,a=ke(l,["forceMount"]),i=Wr(Ho,e.__scopeDialog);return c.jsx(km,{present:s||i.open,children:i.modal?c.jsx(X$,oe(z({},a),{ref:t})):c.jsx(G$,oe(z({},a),{ref:t}))})});cC.displayName=Ho;var X$=j.forwardRef((e,t)=>{const n=Wr(Ho,e.__scopeDialog),s=j.useRef(null),a=An(t,n.contentRef,s);return j.useEffect(()=>{const i=s.current;if(i)return pm(i)},[]),c.jsx(uC,oe(z({},e),{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Mi(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Mi(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&i.preventDefault()}),onFocusOutside:Mi(e.onFocusOutside,i=>i.preventDefault())}))}),G$=j.forwardRef((e,t)=>{const n=Wr(Ho,e.__scopeDialog),s=j.useRef(!1),a=j.useRef(!1);return c.jsx(uC,oe(z({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,u;(l=e.onCloseAutoFocus)==null||l.call(e,i),i.defaultPrevented||(s.current||(u=n.triggerRef.current)==null||u.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=i.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}}))}),uC=j.forwardRef((e,t)=>{const p=e,{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i}=p,l=ke(p,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),u=Wr(Ho,n),f=j.useRef(null),h=An(t,f);return H$(),c.jsxs(c.Fragment,{children:[c.jsx(id,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:c.jsx(tC,oe(z({role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Zy(u.open)},l),{ref:h,onDismiss:()=>u.onOpenChange(!1)}))}),c.jsxs(c.Fragment,{children:[c.jsx(Q$,{titleId:u.titleId}),c.jsx(J$,{contentRef:f,descriptionId:u.descriptionId})]})]})}),Qy="DialogTitle",dC=j.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,s=ke(i,["__scopeDialog"]),a=Wr(Qy,n);return c.jsx(Wt.h2,oe(z({id:a.titleId},s),{ref:t}))});dC.displayName=Qy;var fC="DialogDescription",hC=j.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,s=ke(i,["__scopeDialog"]),a=Wr(fC,n);return c.jsx(Wt.p,oe(z({id:a.descriptionId},s),{ref:t}))});hC.displayName=fC;var mC="DialogClose",K$=j.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,s=ke(i,["__scopeDialog"]),a=Wr(mC,n);return c.jsx(Wt.button,oe(z({type:"button"},s),{ref:t,onClick:Mi(e.onClick,()=>a.onOpenChange(!1))}))});K$.displayName=mC;function Zy(e){return e?"open":"closed"}var pC="DialogTitleWarning",[X7,gC]=ey(pC,{contentName:Ho,titleName:Qy,docsSlug:"dialog"}),Q$=({titleId:e})=>{const t=gC(pC),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return j.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Z$="DialogDescriptionWarning",J$=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${gC(Z$).contentName}}.`;return j.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},eH=rC,tH=oC,nH=lC,sH=cC,rH=dC,aH=hC;function iH(e){if(typeof document=="undefined")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const xC=se.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),md=()=>{const e=se.useContext(xC);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};iH(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function oH(){const e=navigator.userAgent;return typeof window!="undefined"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function lH(){return Jy(/^Mac/)}function cH(){return Jy(/^iPhone/)}function qS(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function uH(){return Jy(/^iPad/)||lH()&&navigator.maxTouchPoints>1}function yC(){return cH()||uH()}function Jy(e){return typeof window!="undefined"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const dH=24,fH=typeof window!="undefined"?j.useLayoutEffect:j.useEffect;function WS(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const T0=typeof document!="undefined"&&window.visualViewport;function YS(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function bC(e){for(YS(e)&&(e=e.parentElement);e&&!YS(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const hH=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let ih=0,C0;function mH(e={}){let{isDisabled:t}=e;fH(()=>{if(!t)return ih++,ih===1&&yC()&&(C0=pH()),()=>{ih--,ih===0&&(C0==null||C0())}},[t])}function pH(){let e,t=0,n=g=>{e=bC(g.target),!(e===document.documentElement&&e===document.body)&&(t=g.changedTouches[0].pageY)},s=g=>{if(!e||e===document.documentElement||e===document.body){g.preventDefault();return}let b=g.changedTouches[0].pageY,x=e.scrollTop,w=e.scrollHeight-e.clientHeight;w!==0&&((x<=0&&b>t||x>=w&&b<t)&&g.preventDefault(),t=b)},a=g=>{let b=g.target;Ex(b)&&b!==document.activeElement&&(g.preventDefault(),b.style.transform="translateY(-2000px)",b.focus(),requestAnimationFrame(()=>{b.style.transform=""}))},i=g=>{let b=g.target;Ex(b)&&(b.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{b.style.transform="",T0&&(T0.height<window.innerHeight?requestAnimationFrame(()=>{XS(b)}):T0.addEventListener("resize",()=>XS(b),{once:!0}))}))},l=()=>{window.scrollTo(0,0)},u=window.pageXOffset,f=window.pageYOffset,h=WS(gH(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let p=WS(Eu(document,"touchstart",n,{passive:!1,capture:!0}),Eu(document,"touchmove",s,{passive:!1,capture:!0}),Eu(document,"touchend",a,{passive:!1,capture:!0}),Eu(document,"focus",i,!0),Eu(window,"scroll",l));return()=>{h(),p(),window.scrollTo(u,f)}}function gH(e,t,n){let s=e.style[t];return e.style[t]=n,()=>{e.style[t]=s}}function Eu(e,t,n,s){return e.addEventListener(t,n,s),()=>{e.removeEventListener(t,n,s)}}function XS(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=bC(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let s=n.getBoundingClientRect().top,a=e.getBoundingClientRect().top,i=e.getBoundingClientRect().bottom;const l=n.getBoundingClientRect().bottom+dH;i>l&&(n.scrollTop+=a-s)}e=n.parentElement}}function Ex(e){return e instanceof HTMLInputElement&&!hH.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function xH(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function yH(...e){return t=>e.forEach(n=>xH(n,t))}function vC(...e){return j.useCallback(yH(...e),e)}const wC=new WeakMap;function ss(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let s={};Object.entries(t).forEach(([a,i])=>{if(a.startsWith("--")){e.style.setProperty(a,i);return}s[a]=e.style[a],e.style[a]=i}),!n&&wC.set(e,s)}function bH(e,t){if(!e||!(e instanceof HTMLElement))return;let n=wC.get(e);n&&(e.style[t]=n[t])}const Xn=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function oh(e,t){if(!e)return null;const n=window.getComputedStyle(e),s=n.transform||n.webkitTransform||n.mozTransform;let a=s.match(/^matrix3d\((.+)\)$/);return a?parseFloat(a[1].split(", ")[Xn(t)?13:12]):(a=s.match(/^matrix\((.+)\)$/),a?parseFloat(a[1].split(", ")[Xn(t)?5:4]):null)}function vH(e){return 8*(Math.log(e+1)-2)}function k0(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function wH(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const kn={DURATION:.5,EASE:[.32,.72,0,1]},_C=.4,_H=.25,jH=100,jC=8,wo=16,Tx=26,O0="vaul-dragging";function SC(e){const t=se.useRef(e);return se.useEffect(()=>{t.current=e}),se.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function SH({defaultProp:e,onChange:t}){const n=se.useState(e),[s]=n,a=se.useRef(s),i=SC(t);return se.useEffect(()=>{a.current!==s&&(i(s),a.current=s)},[s,a,i]),n}function NC({prop:e,defaultProp:t,onChange:n=()=>{}}){const[s,a]=SH({defaultProp:t,onChange:n}),i=e!==void 0,l=i?e:s,u=SC(n),f=se.useCallback(h=>{if(i){const g=typeof h=="function"?h(e):h;g!==e&&u(g)}else a(h)},[i,e,a,u]);return[l,f]}function NH({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:s,overlayRef:a,fadeFromIndex:i,onSnapPointChange:l,direction:u="bottom",container:f,snapToSequentialPoint:h}){const[p,g]=NC({prop:e,defaultProp:n==null?void 0:n[0],onChange:t}),[b,x]=se.useState(typeof window!="undefined"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);se.useEffect(()=>{function M(){x({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[]);const w=se.useMemo(()=>p===(n==null?void 0:n[n.length-1])||null,[n,p]),_=se.useMemo(()=>{var M;return(M=n==null?void 0:n.findIndex(E=>E===p))!=null?M:null},[n,p]),S=n&&n.length>0&&(i||i===0)&&!Number.isNaN(i)&&n[i]===p||!n,N=se.useMemo(()=>{const M=f?{width:f.getBoundingClientRect().width,height:f.getBoundingClientRect().height}:typeof window!="undefined"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var E;return(E=n==null?void 0:n.map(P=>{const K=typeof P=="string";let W=0;if(K&&(W=parseInt(P,10)),Xn(u)){const q=K?W:b?P*M.height:0;return b?u==="bottom"?M.height-q:-M.height+q:q}const Y=K?W:b?P*M.width:0;return b?u==="right"?M.width-Y:-M.width+Y:Y}))!=null?E:[]},[n,b,f]),R=se.useMemo(()=>_!==null?N==null?void 0:N[_]:null,[N,_]),A=se.useCallback(M=>{var E;const P=(E=N==null?void 0:N.findIndex(K=>K===M))!=null?E:null;l(P),ss(s.current,{transition:`transform ${kn.DURATION}s cubic-bezier(${kn.EASE.join(",")})`,transform:Xn(u)?`translate3d(0, ${M}px, 0)`:`translate3d(${M}px, 0, 0)`}),N&&P!==N.length-1&&i!==void 0&&P!==i&&P<i?ss(a.current,{transition:`opacity ${kn.DURATION}s cubic-bezier(${kn.EASE.join(",")})`,opacity:"0"}):ss(a.current,{transition:`opacity ${kn.DURATION}s cubic-bezier(${kn.EASE.join(",")})`,opacity:"1"}),g(n==null?void 0:n[Math.max(P,0)])},[s.current,n,N,i,a,g]);se.useEffect(()=>{if(p||e){var M;const E=(M=n==null?void 0:n.findIndex(P=>P===e||P===p))!=null?M:-1;N&&E!==-1&&typeof N[E]=="number"&&A(N[E])}},[p,e,n,N,A]);function C({draggedDistance:M,closeDrawer:E,velocity:P,dismissible:K}){if(i===void 0)return;const W=u==="bottom"||u==="right"?(R!=null?R:0)-M:(R!=null?R:0)+M,Y=_===i-1,q=_===0,J=M>0;if(Y&&ss(a.current,{transition:`opacity ${kn.DURATION}s cubic-bezier(${kn.EASE.join(",")})`}),!h&&P>2&&!J){K?E():A(N[0]);return}if(!h&&P>2&&J&&N&&n){A(N[n.length-1]);return}const G=N==null?void 0:N.reduce((te,ne)=>typeof te!="number"||typeof ne!="number"?te:Math.abs(ne-W)<Math.abs(te-W)?ne:te),H=Xn(u)?window.innerHeight:window.innerWidth;if(P>_C&&Math.abs(M)<H*.4){const te=J?1:-1;if(te>0&&w&&n){A(N[n.length-1]);return}if(q&&te<0&&K&&E(),_===null)return;A(N[_+te]);return}A(G)}function k({draggedDistance:M}){if(R===null)return;const E=u==="bottom"||u==="right"?R-M:R+M;(u==="bottom"||u==="right")&&E<N[N.length-1]||(u==="top"||u==="left")&&E>N[N.length-1]||ss(s.current,{transform:Xn(u)?`translate3d(0, ${E}px, 0)`:`translate3d(${E}px, 0, 0)`})}function D(M,E){if(!n||typeof _!="number"||!N||i===void 0)return null;const P=_===i-1;if(_>=i&&E)return 0;if(P&&!E)return 1;if(!S&&!P)return null;const W=P?_+1:_-1,Y=P?N[W]-N[W-1]:N[W+1]-N[W],q=M/Math.abs(Y);return P?1-q:q}return{isLastSnapPoint:w,activeSnapPoint:p,shouldFade:S,getPercentageDragged:D,setActiveSnapPoint:g,activeSnapPointIndex:_,onRelease:C,onDrag:k,snapPointsOffset:N}}const EH=()=>()=>{};function TH(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:s,noBodyStyles:a}=md(),i=se.useRef(null),l=j.useMemo(()=>document.body.style.backgroundColor,[]);function u(){return(window.innerWidth-Tx)/window.innerWidth}se.useEffect(()=>{if(t&&n){i.current&&clearTimeout(i.current);const f=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!f)return;wH(s&&!a?k0(document.body,{background:"black"}):EH,k0(f,{transformOrigin:Xn(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${kn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${kn.EASE.join(",")})`}));const h=k0(f,z({borderRadius:`${jC}px`,overflow:"hidden"},Xn(e)?{transform:`scale(${u()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${u()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}));return()=>{h(),i.current=window.setTimeout(()=>{l?document.body.style.background=l:document.body.style.removeProperty("background")},kn.DURATION*1e3)}}},[t,n,l])}let Tu=null;function CH({isOpen:e,modal:t,nested:n,hasBeenOpened:s,preventScrollRestoration:a,noBodyStyles:i}){const[l,u]=se.useState(()=>typeof window!="undefined"?window.location.href:""),f=se.useRef(0),h=se.useCallback(()=>{if(qS()&&Tu===null&&e&&!i){Tu={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:g,innerHeight:b}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-f.current}px`,left:`${-g}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const x=b-window.innerHeight;x&&f.current>=b&&(document.body.style.top=`${-(f.current+x)}px`)}),300)}},[e]),p=se.useCallback(()=>{if(qS()&&Tu!==null&&!i){const g=-parseInt(document.body.style.top,10),b=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Tu),window.requestAnimationFrame(()=>{if(a&&l!==window.location.href){u(window.location.href);return}window.scrollTo(b,g)}),Tu=null}},[l]);return se.useEffect(()=>{function g(){f.current=window.scrollY}return g(),window.addEventListener("scroll",g),()=>{window.removeEventListener("scroll",g)}},[]),se.useEffect(()=>{if(t)return()=>{typeof document=="undefined"||document.querySelector("[data-vaul-drawer]")||p()}},[t,p]),se.useEffect(()=>{n||!s||(e?(!window.matchMedia("(display-mode: standalone)").matches&&h(),t||window.setTimeout(()=>{p()},500)):p())},[e,s,l,t,n,h,p]),{restorePositionSetting:p}}function kH({open:e,onOpenChange:t,children:n,onDrag:s,onRelease:a,snapPoints:i,shouldScaleBackground:l=!1,setBackgroundColorOnScale:u=!0,closeThreshold:f=_H,scrollLockTimeout:h=jH,dismissible:p=!0,handleOnly:g=!1,fadeFromIndex:b=i&&i.length-1,activeSnapPoint:x,setActiveSnapPoint:w,fixed:_,modal:S=!0,onClose:N,nested:R,noBodyStyles:A=!1,direction:C="bottom",defaultOpen:k=!1,disablePreventScroll:D=!0,snapToSequentialPoint:M=!1,preventScrollRestoration:E=!1,repositionInputs:P=!0,onAnimationEnd:K,container:W,autoFocus:Y=!1}){var q,J;const[G=!1,H]=NC({defaultProp:k,prop:e,onChange:Xe=>{t==null||t(Xe),!Xe&&!R&&qe(),setTimeout(()=>{K==null||K(Xe)},kn.DURATION*1e3),Xe&&!S&&typeof window!="undefined"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),Xe||(document.body.style.pointerEvents="auto")}}),[te,ne]=se.useState(!1),[le,B]=se.useState(!1),[Q,he]=se.useState(!1),$=se.useRef(null),re=se.useRef(null),_e=se.useRef(null),xe=se.useRef(null),Ee=se.useRef(null),De=se.useRef(!1),Ve=se.useRef(null),Le=se.useRef(0),lt=se.useRef(!1),Ke=se.useRef(!k),pt=se.useRef(0),Pe=se.useRef(null),ht=se.useRef(((q=Pe.current)==null?void 0:q.getBoundingClientRect().height)||0),$t=se.useRef(((J=Pe.current)==null?void 0:J.getBoundingClientRect().width)||0),vt=se.useRef(0),Mt=se.useCallback(Xe=>{i&&Xe===Se.length-1&&(re.current=new Date)},[]),{activeSnapPoint:St,activeSnapPointIndex:X,setActiveSnapPoint:de,onRelease:I,snapPointsOffset:Se,onDrag:Me,shouldFade:Re,getPercentageDragged:Fe}=NH({snapPoints:i,activeSnapPointProp:x,setActiveSnapPointProp:w,drawerRef:Pe,fadeFromIndex:b,overlayRef:$,onSnapPointChange:Mt,direction:C,container:W,snapToSequentialPoint:M});mH({isDisabled:!G||le||!S||Q||!te||!P||!D});const{restorePositionSetting:qe}=CH({isOpen:G,modal:S,nested:R!=null?R:!1,hasBeenOpened:te,preventScrollRestoration:E,noBodyStyles:A});function Qe(){return(window.innerWidth-Tx)/window.innerWidth}function yt(Xe){var Lt,Ht;!p&&!i||Pe.current&&!Pe.current.contains(Xe.target)||(ht.current=((Lt=Pe.current)==null?void 0:Lt.getBoundingClientRect().height)||0,$t.current=((Ht=Pe.current)==null?void 0:Ht.getBoundingClientRect().width)||0,B(!0),_e.current=new Date,yC()&&window.addEventListener("touchend",()=>De.current=!1,{once:!0}),Xe.target.setPointerCapture(Xe.pointerId),Le.current=Xn(C)?Xe.pageY:Xe.pageX)}function vn(Xe,Lt){var Ht;let Nt=Xe;const nn=(Ht=window.getSelection())==null?void 0:Ht.toString(),Ge=Pe.current?oh(Pe.current,C):null,jt=new Date;if(Nt.tagName==="SELECT"||Nt.hasAttribute("data-vaul-no-drag")||Nt.closest("[data-vaul-no-drag]"))return!1;if(C==="right"||C==="left")return!0;if(re.current&&jt.getTime()-re.current.getTime()<500)return!1;if(Ge!==null&&(C==="bottom"?Ge>0:Ge<0))return!0;if(nn&&nn.length>0)return!1;if(Ee.current&&jt.getTime()-Ee.current.getTime()<h&&Ge===0||Lt)return Ee.current=jt,!1;for(;Nt;){if(Nt.scrollHeight>Nt.clientHeight){if(Nt.scrollTop!==0)return Ee.current=new Date,!1;if(Nt.getAttribute("role")==="dialog")return!0}Nt=Nt.parentNode}return!0}function ct(Xe){if(Pe.current&&le){const Lt=C==="bottom"||C==="right"?1:-1,Ht=(Le.current-(Xn(C)?Xe.pageY:Xe.pageX))*Lt,Nt=Ht>0,nn=i&&!p&&!Nt;if(nn&&X===0)return;const Ge=Math.abs(Ht),jt=document.querySelector("[data-vaul-drawer-wrapper]"),Yt=C==="bottom"||C==="top"?ht.current:$t.current;let Kt=Ge/Yt;const ee=Fe(Ge,Nt);if(ee!==null&&(Kt=ee),nn&&Kt>=1||!De.current&&!vn(Xe.target,Nt))return;if(Pe.current.classList.add(O0),De.current=!0,ss(Pe.current,{transition:"none"}),ss($.current,{transition:"none"}),i&&Me({draggedDistance:Ht}),Nt&&!i){const me=vH(Ht),je=Math.min(me*-1,0)*Lt;ss(Pe.current,{transform:Xn(C)?`translate3d(0, ${je}px, 0)`:`translate3d(${je}px, 0, 0)`});return}const ie=1-Kt;if((Re||b&&X===b-1)&&(s==null||s(Xe,Kt),ss($.current,{opacity:`${ie}`,transition:"none"},!0)),jt&&$.current&&l){const me=Math.min(Qe()+Kt*(1-Qe()),1),je=8-Kt*8,Ae=Math.max(0,14-Kt*14);ss(jt,{borderRadius:`${je}px`,transform:Xn(C)?`scale(${me}) translate3d(0, ${Ae}px, 0)`:`scale(${me}) translate3d(${Ae}px, 0, 0)`,transition:"none"},!0)}if(!i){const me=Ge*Lt;ss(Pe.current,{transform:Xn(C)?`translate3d(0, ${me}px, 0)`:`translate3d(${me}px, 0, 0)`})}}}se.useEffect(()=>{window.requestAnimationFrame(()=>{Ke.current=!0})},[]),se.useEffect(()=>{var Xe;function Lt(){if(!Pe.current||!P)return;const Ht=document.activeElement;if(Ex(Ht)||lt.current){var Nt;const nn=((Nt=window.visualViewport)==null?void 0:Nt.height)||0,Ge=window.innerHeight;let jt=Ge-nn;const Yt=Pe.current.getBoundingClientRect().height||0,Kt=Yt>Ge*.8;vt.current||(vt.current=Yt);const ee=Pe.current.getBoundingClientRect().top;if(Math.abs(pt.current-jt)>60&&(lt.current=!lt.current),i&&i.length>0&&Se&&X){const ie=Se[X]||0;jt+=ie}if(pt.current=jt,Yt>nn||lt.current){const ie=Pe.current.getBoundingClientRect().height;let me=ie;ie>nn&&(me=nn-(Kt?ee:Tx)),_?Pe.current.style.height=`${ie-Math.max(jt,0)}px`:Pe.current.style.height=`${Math.max(me,nn-ee)}px`}else oH()||(Pe.current.style.height=`${vt.current}px`);i&&i.length>0&&!lt.current?Pe.current.style.bottom="0px":Pe.current.style.bottom=`${Math.max(jt,0)}px`}}return(Xe=window.visualViewport)==null||Xe.addEventListener("resize",Lt),()=>{var Ht;return(Ht=window.visualViewport)==null?void 0:Ht.removeEventListener("resize",Lt)}},[X,i,Se]);function Ce(Xe){Pt(),N==null||N(),Xe||H(!1),setTimeout(()=>{i&&de(i[0])},kn.DURATION*1e3)}function $e(){if(!Pe.current)return;const Xe=document.querySelector("[data-vaul-drawer-wrapper]"),Lt=oh(Pe.current,C);ss(Pe.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${kn.DURATION}s cubic-bezier(${kn.EASE.join(",")})`}),ss($.current,{transition:`opacity ${kn.DURATION}s cubic-bezier(${kn.EASE.join(",")})`,opacity:"1"}),l&&Lt&&Lt>0&&G&&ss(Xe,oe(z({borderRadius:`${jC}px`,overflow:"hidden"},Xn(C)?{transform:`scale(${Qe()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Qe()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"}),{transitionProperty:"transform, border-radius",transitionDuration:`${kn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${kn.EASE.join(",")})`}),!0)}function Pt(){!le||!Pe.current||(Pe.current.classList.remove(O0),De.current=!1,B(!1),xe.current=new Date)}function En(Xe){if(!le||!Pe.current)return;Pe.current.classList.remove(O0),De.current=!1,B(!1),xe.current=new Date;const Lt=oh(Pe.current,C);if(!Xe||!vn(Xe.target,!1)||!Lt||Number.isNaN(Lt)||_e.current===null)return;const Ht=xe.current.getTime()-_e.current.getTime(),Nt=Le.current-(Xn(C)?Xe.pageY:Xe.pageX),nn=Math.abs(Nt)/Ht;if(nn>.05&&(he(!0),setTimeout(()=>{he(!1)},200)),i){I({draggedDistance:Nt*(C==="bottom"||C==="right"?1:-1),closeDrawer:Ce,velocity:nn,dismissible:p}),a==null||a(Xe,!0);return}if(C==="bottom"||C==="right"?Nt>0:Nt<0){$e(),a==null||a(Xe,!0);return}if(nn>_C){Ce(),a==null||a(Xe,!1);return}var Ge;const jt=Math.min((Ge=Pe.current.getBoundingClientRect().height)!=null?Ge:0,window.innerHeight);var Yt;const Kt=Math.min((Yt=Pe.current.getBoundingClientRect().width)!=null?Yt:0,window.innerWidth),ee=C==="left"||C==="right";if(Math.abs(Lt)>=(ee?Kt:jt)*f){Ce(),a==null||a(Xe,!1);return}a==null||a(Xe,!0),$e()}se.useEffect(()=>(G&&(ss(document.documentElement,{scrollBehavior:"auto"}),re.current=new Date),()=>{bH(document.documentElement,"scrollBehavior")}),[G]);function is(Xe){const Lt=Xe?(window.innerWidth-wo)/window.innerWidth:1,Ht=Xe?-wo:0;Ve.current&&window.clearTimeout(Ve.current),ss(Pe.current,{transition:`transform ${kn.DURATION}s cubic-bezier(${kn.EASE.join(",")})`,transform:Xn(C)?`scale(${Lt}) translate3d(0, ${Ht}px, 0)`:`scale(${Lt}) translate3d(${Ht}px, 0, 0)`}),!Xe&&Pe.current&&(Ve.current=setTimeout(()=>{const Nt=oh(Pe.current,C);ss(Pe.current,{transition:"none",transform:Xn(C)?`translate3d(0, ${Nt}px, 0)`:`translate3d(${Nt}px, 0, 0)`})},500))}function Vn(Xe,Lt){if(Lt<0)return;const Ht=(window.innerWidth-wo)/window.innerWidth,Nt=Ht+Lt*(1-Ht),nn=-wo+Lt*wo;ss(Pe.current,{transform:Xn(C)?`scale(${Nt}) translate3d(0, ${nn}px, 0)`:`scale(${Nt}) translate3d(${nn}px, 0, 0)`,transition:"none"})}function fs(Xe,Lt){const Ht=Xn(C)?window.innerHeight:window.innerWidth,Nt=Lt?(Ht-wo)/Ht:1,nn=Lt?-wo:0;Lt&&ss(Pe.current,{transition:`transform ${kn.DURATION}s cubic-bezier(${kn.EASE.join(",")})`,transform:Xn(C)?`scale(${Nt}) translate3d(0, ${nn}px, 0)`:`scale(${Nt}) translate3d(${nn}px, 0, 0)`})}return se.useEffect(()=>{S||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[S]),se.createElement(eH,{defaultOpen:k,onOpenChange:Xe=>{!p&&!Xe||(Xe?ne(!0):Ce(!0),H(Xe))},open:G},se.createElement(xC.Provider,{value:{activeSnapPoint:St,snapPoints:i,setActiveSnapPoint:de,drawerRef:Pe,overlayRef:$,onOpenChange:t,onPress:yt,onRelease:En,onDrag:ct,dismissible:p,shouldAnimate:Ke,handleOnly:g,isOpen:G,isDragging:le,shouldFade:Re,closeDrawer:Ce,onNestedDrag:Vn,onNestedOpenChange:is,onNestedRelease:fs,keyboardIsOpen:lt,modal:S,snapPointsOffset:Se,activeSnapPointIndex:X,direction:C,shouldScaleBackground:l,setBackgroundColorOnScale:u,noBodyStyles:A,container:W,autoFocus:Y}},n))}const EC=se.forwardRef(function(n,t){var e=ke(n,[]);const{overlayRef:s,snapPoints:a,onRelease:i,shouldFade:l,isOpen:u,modal:f,shouldAnimate:h}=md(),p=vC(t,s),g=a&&a.length>0;if(!f)return null;const b=se.useCallback(x=>i(x),[i]);return se.createElement(nH,z({onMouseUp:b,ref:p,"data-vaul-overlay":"","data-vaul-snap-points":u&&g?"true":"false","data-vaul-snap-points-overlay":u&&l?"true":"false","data-vaul-animate":h!=null&&h.current?"true":"false"},e))});EC.displayName="Drawer.Overlay";const TC=se.forwardRef(function(i,a){var l=i,{onPointerDownOutside:e,style:t,onOpenAutoFocus:n}=l,s=ke(l,["onPointerDownOutside","style","onOpenAutoFocus"]);const{drawerRef:u,onPress:f,onRelease:h,onDrag:p,keyboardIsOpen:g,snapPointsOffset:b,activeSnapPointIndex:x,modal:w,isOpen:_,direction:S,snapPoints:N,container:R,handleOnly:A,shouldAnimate:C,autoFocus:k}=md(),[D,M]=se.useState(!1),E=vC(a,u),P=se.useRef(null),K=se.useRef(null),W=se.useRef(!1),Y=N&&N.length>0;TH();const q=(G,H,te=0)=>{if(W.current)return!0;const ne=Math.abs(G.y),le=Math.abs(G.x),B=le>ne,Q=["bottom","right"].includes(H)?1:-1;if(H==="left"||H==="right"){if(!(G.x*Q<0)&&le>=0&&le<=te)return B}else if(!(G.y*Q<0)&&ne>=0&&ne<=te)return!B;return W.current=!0,!0};se.useEffect(()=>{Y&&window.requestAnimationFrame(()=>{M(!0)})},[]);function J(G){P.current=null,W.current=!1,h(G)}return se.createElement(sH,oe(z({"data-vaul-drawer-direction":S,"data-vaul-drawer":"","data-vaul-delayed-snap-points":D?"true":"false","data-vaul-snap-points":_&&Y?"true":"false","data-vaul-custom-container":R?"true":"false","data-vaul-animate":C!=null&&C.current?"true":"false"},s),{ref:E,style:b&&b.length>0?z({"--snap-point-height":`${b[x!=null?x:0]}px`},t):t,onPointerDown:G=>{A||(s.onPointerDown==null||s.onPointerDown.call(s,G),P.current={x:G.pageX,y:G.pageY},f(G))},onOpenAutoFocus:G=>{n==null||n(G),k||G.preventDefault()},onPointerDownOutside:G=>{if(e==null||e(G),!w||G.defaultPrevented){G.preventDefault();return}g.current&&(g.current=!1)},onFocusOutside:G=>{if(!w){G.preventDefault();return}},onPointerMove:G=>{if(K.current=G,A||(s.onPointerMove==null||s.onPointerMove.call(s,G),!P.current))return;const H=G.pageY-P.current.y,te=G.pageX-P.current.x,ne=G.pointerType==="touch"?10:2;q({x:te,y:H},S,ne)?p(G):(Math.abs(te)>ne||Math.abs(H)>ne)&&(P.current=null)},onPointerUp:G=>{s.onPointerUp==null||s.onPointerUp.call(s,G),P.current=null,W.current=!1,h(G)},onPointerOut:G=>{s.onPointerOut==null||s.onPointerOut.call(s,G),J(K.current)},onContextMenu:G=>{s.onContextMenu==null||s.onContextMenu.call(s,G),K.current&&J(K.current)}}))});TC.displayName="Drawer.Content";const OH=250,AH=120,DH=se.forwardRef(function(a,s){var i=a,{preventCycle:e=!1,children:t}=i,n=ke(i,["preventCycle","children"]);const{closeDrawer:l,isDragging:u,snapPoints:f,activeSnapPoint:h,setActiveSnapPoint:p,dismissible:g,handleOnly:b,isOpen:x,onPress:w,onDrag:_}=md(),S=se.useRef(null),N=se.useRef(!1);function R(){if(N.current){k();return}window.setTimeout(()=>{A()},AH)}function A(){if(u||e||N.current){k();return}if(k(),!f||f.length===0){g||l();return}if(h===f[f.length-1]&&g){l();return}const M=f.findIndex(P=>P===h);if(M===-1)return;const E=f[M+1];p(E)}function C(){S.current=window.setTimeout(()=>{N.current=!0},OH)}function k(){S.current&&window.clearTimeout(S.current),N.current=!1}return se.createElement("div",z({onClick:R,onPointerCancel:k,onPointerDown:D=>{b&&w(D),C()},onPointerMove:D=>{b&&_(D)},ref:s,"data-vaul-drawer-visible":x?"true":"false","data-vaul-handle":"","aria-hidden":"true"},n),se.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});DH.displayName="Drawer.Handle";function RH(e){const t=md(),a=e,{container:n=t.container}=a,s=ke(a,["container"]);return se.createElement(tH,z({container:n},s))}const fc={Root:kH,Content:TC,Overlay:EC,Portal:RH,Title:rH,Description:aH};function MH(t){var e=ke(t,[]);return c.jsx(fc.Root,z({"data-slot":"drawer"},e))}function PH(t){var e=ke(t,[]);return c.jsx(fc.Portal,z({"data-slot":"drawer-portal"},e))}function LH(n){var s=n,{className:e}=s,t=ke(s,["className"]);return c.jsx(fc.Overlay,z({"data-slot":"drawer-overlay",className:Nn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e)},t))}function zH(s){var a=s,{className:e,children:t}=a,n=ke(a,["className","children"]);return c.jsxs(PH,{"data-slot":"drawer-portal",children:[c.jsx(LH,{}),c.jsxs(fc.Content,oe(z({"data-slot":"drawer-content",className:Nn("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-2/3 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",e)},n),{children:[c.jsx("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),t]}))]})}function UH(n){var s=n,{className:e}=s,t=ke(s,["className"]);return c.jsx("div",z({"data-slot":"drawer-header",className:Nn("flex flex-col gap-0.5 p-4 group-data-[vaul-drawer-direction=bottom]/drawer-content:text-center group-data-[vaul-drawer-direction=top]/drawer-content:text-center md:gap-1.5 md:text-left",e)},t))}function BH(n){var s=n,{className:e}=s,t=ke(s,["className"]);return c.jsx("div",z({"data-slot":"drawer-footer",className:Nn("mt-auto flex flex-col gap-2 p-4",e)},t))}function FH(n){var s=n,{className:e}=s,t=ke(s,["className"]);return c.jsx(fc.Title,z({"data-slot":"drawer-title",className:Nn("text-foreground font-semibold",e)},t))}function $H(n){var s=n,{className:e}=s,t=ke(s,["className"]);return c.jsx(fc.Description,z({"data-slot":"drawer-description",className:Nn("text-muted-foreground text-sm",e)},t))}const hc=e=>{const{data:t,isLoading:n,error:s}=On("Project",e,{fields:["name","users"]}),{data:a,isLoading:i}=On("Project",(t==null?void 0:t.name)||"",t!=null&&t.name?"Project":void 0);return{data:(a==null?void 0:a.users)||(t==null?void 0:t.users)||[],isLoading:n||i,error:s}};class CC{static useUpdatePhase(){const{updateDoc:t,loading:n,error:s}=qs();return{updatePhase:(i,l)=>ye(null,null,function*(){return t("project_phase",i,l)}),isLoading:n,error:s}}static usePhaseAssignment(){const{createDoc:t}=Fi(),{deleteDoc:n}=rm(),{data:s}=On("User","",{shouldFetch:!0});return{assignPhase:(l,u)=>ye(null,null,function*(){return t("ToDo",{allocated_to:u,assigned_by:(s==null?void 0:s.name)||"",reference_type:"project_phase",reference_name:l,description:`Assigned to phase: ${l}`,status:"Open"})}),unassignPhase:l=>ye(null,null,function*(){return n("ToDo",l)})}}}const HH=CC.useUpdatePhase,kC=CC.usePhaseAssignment,VH=({isOpen:e,onClose:t,projectName:n,onSuccess:s})=>{const[a,i]=j.useState({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),{createDoc:l,loading:u,error:f}=Fi(),{assignPhase:h}=kC(),{data:p,isLoading:g}=hc(n),b=(_,S)=>{i(N=>oe(z({},N),{[_]:S}))},x=_=>ye(null,null,function*(){if(_.preventDefault(),!!a.subject.trim())try{const S=a,{assign_to:N}=S,R=ke(S,["assign_to"]),A=yield l("project_phase",{project:n,subject:R.subject,start_date:R.start_date||null,end_date:R.end_date||null,priority:R.priority,details:R.details||null,costing:R.costing||0,status:"Open",progress:0});N&&A&&(yield h(A.name,N)),i({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),s&&s(),t()}catch(N){console.error("Failed to create project phase:",N)}}),w=()=>{i({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),t()};return c.jsx(ys,{open:e,onOpenChange:w,children:c.jsxs(bs,{className:"sm:max-w-[500px]",children:[c.jsxs(vs,{children:[c.jsx(_s,{children:"Create New Project Phase"}),c.jsxs(Do,{children:['Add a new phase to organize tasks and milestones for "',n,'".']})]}),c.jsxs("form",{onSubmit:x,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"subject",children:"Phase Name *"}),c.jsx(Ft,{id:"subject",value:a.subject,onChange:_=>b("subject",_.target.value),placeholder:"e.g., Planning, Development, Testing",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"priority",children:"Priority"}),c.jsxs("select",{id:"priority",value:a.priority,onChange:_=>b("priority",_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"Low",children:"Low"}),c.jsx("option",{value:"Medium",children:"Medium"}),c.jsx("option",{value:"High",children:"High"}),c.jsx("option",{value:"Critical",children:"Critical"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"start_date",children:"Start Date"}),c.jsxs("div",{className:"relative",children:[c.jsx(Ft,{id:"start_date",type:"date",value:a.start_date,onChange:_=>b("start_date",_.target.value)}),c.jsx($r,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"end_date",children:"End Date"}),c.jsxs("div",{className:"relative",children:[c.jsx(Ft,{id:"end_date",type:"date",value:a.end_date,onChange:_=>b("end_date",_.target.value),min:a.start_date||void 0}),c.jsx($r,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"costing",children:"Estimated Cost"}),c.jsx(Ft,{id:"costing",type:"number",value:a.costing,onChange:_=>b("costing",parseFloat(_.target.value)||0),placeholder:"0",min:"0",step:"0.01"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"assign_to",children:"Assign To"}),c.jsxs("select",{id:"assign_to",value:a.assign_to,onChange:_=>b("assign_to",_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:g,children:[c.jsx("option",{value:"",children:"Select user..."}),p==null?void 0:p.map(_=>c.jsx("option",{value:_.user||_.name,children:_.user||_.name},_.name))]}),g&&c.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"details",children:"Description"}),c.jsx("textarea",{id:"details",value:a.details,onChange:_=>b("details",_.target.value),placeholder:"Phase description, objectives, and key deliverables...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3})]}),f&&c.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:c.jsx("p",{className:"text-sm text-red-600",children:f.message||"Failed to create project phase. Please try again."})}),c.jsxs(ws,{children:[c.jsx(Ye,{type:"button",variant:"outline",onClick:w,disabled:u,children:"Cancel"}),c.jsxs(Ye,{type:"submit",disabled:u||!a.subject.trim(),className:"flex items-center gap-2",children:[u&&c.jsx(G0,{className:"h-4 w-4 animate-spin"}),"Create Phase"]})]})]})]})})},IH=({isOpen:e,onClose:t,projectName:n,onSuccess:s})=>{const[a,i]=j.useState({subject:"",description:"",priority:"Medium",exp_start_date:"",exp_end_date:"",status:"Open"}),{createDoc:l,loading:u,error:f}=Fi(),h=g=>ye(null,null,function*(){if(g.preventDefault(),!!a.subject.trim())try{yield l("Task",{subject:a.subject,description:a.description,priority:a.priority,exp_start_date:a.exp_start_date||null,exp_end_date:a.exp_end_date||null,status:a.status,project:n,is_template:0,progress:0}),i({subject:"",description:"",priority:"Medium",exp_start_date:"",exp_end_date:"",status:"Open"}),s==null||s(),t()}catch(b){console.error("Error creating standalone task:",b)}}),p=(g,b)=>{i(x=>oe(z({},x),{[g]:b}))};return c.jsx(ys,{open:e,onOpenChange:t,children:c.jsxs(bs,{className:"sm:max-w-[500px]",children:[c.jsx(vs,{children:c.jsx(_s,{className:"flex items-center justify-between",children:"Create Standalone Task"})}),c.jsxs("form",{onSubmit:h,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"subject",children:"Task Subject *"}),c.jsx(Ft,{id:"subject",value:a.subject,onChange:g=>p("subject",g.target.value),placeholder:"Enter task subject",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"description",children:"Description"}),c.jsx("textarea",{id:"description",value:a.description,onChange:g=>p("description",g.target.value),placeholder:"Enter task description (optional)",rows:3,className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"priority",children:"Priority"}),c.jsxs("select",{id:"priority",value:a.priority,onChange:g=>p("priority",g.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[c.jsx("option",{value:"Low",children:"Low"}),c.jsx("option",{value:"Medium",children:"Medium"}),c.jsx("option",{value:"High",children:"High"}),c.jsx("option",{value:"Urgent",children:"Urgent"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"status",children:"Status"}),c.jsxs("select",{id:"status",value:a.status,onChange:g=>p("status",g.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[c.jsx("option",{value:"Open",children:"Open"}),c.jsx("option",{value:"Working",children:"Working"}),c.jsx("option",{value:"Pending Review",children:"Pending Review"}),c.jsx("option",{value:"Overdue",children:"Overdue"}),c.jsx("option",{value:"Template",children:"Template"}),c.jsx("option",{value:"Completed",children:"Completed"}),c.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"exp_start_date",children:"Expected Start Date"}),c.jsx(Ft,{id:"exp_start_date",type:"date",value:a.exp_start_date,onChange:g=>p("exp_start_date",g.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"exp_end_date",children:"Expected End Date"}),c.jsx(Ft,{id:"exp_end_date",type:"date",value:a.exp_end_date,onChange:g=>p("exp_end_date",g.target.value)})]})]}),f&&c.jsxs("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded-md",children:["Error creating task: ",f.message]}),c.jsxs(ws,{children:[c.jsx(Ye,{type:"button",variant:"outline",onClick:t,disabled:u,children:"Cancel"}),c.jsx(Ye,{type:"submit",disabled:u||!a.subject.trim(),children:u?"Creating...":"Create Task"})]})]})]})})},qH=({projectName:e,onViewPhaseDetails:t,onViewTaskDetails:n,onViewSubTaskDetails:s})=>{const[a,i]=j.useState(new Set),[l,u]=j.useState(new Set),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[b,x]=j.useState([]),[w,_]=j.useState({visible:!1,text:"",x:0,y:0}),{data:S,isLoading:N,mutate:R}=Dt("project_phase",{fields:["name","subject","status","priority","start_date","end_date","progress","details","costing"],filters:[["project","=",e]],orderBy:{field:"start_date",order:"asc"},limit:0});j.useEffect(()=>{S&&S.length>0?ye(null,null,function*(){const he=[];for(const $ of S)try{const re=yield fetch(`/api/resource/project_phase/${$.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(re.ok){const _e=yield re.json();he.push(_e.data)}else console.warn("Failed to fetch phase:",$.name),he.push($)}catch(re){console.error("Error fetching phase:",$.name,re),he.push($)}x(he)}):x([])},[S==null?void 0:S.length,S==null?void 0:S.map(Q=>Q.name).join(",")]);const{data:A,isLoading:C,mutate:k}=Dt("Task",{fields:["name","subject","status","priority","project","exp_start_date","exp_end_date","progress"],filters:[["project","=",e]],orderBy:{field:"exp_start_date",order:"asc"},limit:0}),D=(A==null?void 0:A.map(Q=>Q.name))||[],{data:M,isLoading:E}=Dt("SubTask",{fields:["name","subject","task","status","progress","start_date","end_date","description"],filters:D.length>0?[["task","in",D]]:[["task","=","dummy-non-existent-task"]],orderBy:{field:"start_date",order:"asc"},limit:0}),P=Q=>{const he=new Set(a);he.has(Q)?he.delete(Q):he.add(Q),i(he)},K=Q=>{const he=new Set(l);he.has(Q)?he.delete(Q):he.add(Q),u(he)},W=Q=>{switch(Q){case"Completed":return c.jsx(lm,{className:"h-4 w-4 text-green-600"});case"Working":return c.jsx(Ro,{className:"h-4 w-4 text-yellow-600"});default:return c.jsx(oP,{className:"h-4 w-4 text-gray-400"})}},Y=Q=>{switch(Q){case"Completed":return"bg-green-100 text-green-800";case"Working":return"bg-yellow-100 text-yellow-800";default:return"bg-blue-100 text-blue-800"}},q=Q=>{switch(Q){case"Urgent":return"bg-red-100 text-red-800";case"High":return"bg-orange-100 text-orange-800";case"Medium":return"bg-yellow-100 text-yellow-800";default:return"bg-green-100 text-green-800"}},J=(Q,he)=>{if(Q.length>30){const $=he.currentTarget.getBoundingClientRect(),re=document.querySelector(".bg-white.border.border-gray-200.rounded-lg"),_e=re==null?void 0:re.getBoundingClientRect();_({visible:!0,text:Q,x:_e?_e.left+24:50,y:$.top-8})}},G=()=>{_({visible:!1,text:"",x:0,y:0})},H=(Q,he,$,re=!1,_e=!1,xe)=>{let Ee={},De="";he===1?(De="pl-8",Ee={paddingLeft:"2rem"}):he===2?(De="pl-16",Ee={paddingLeft:"4rem"}):he>2&&(Ee={paddingLeft:`${1+he*1}rem`});let Ve="",Le="mr-3 text-lg",lt="";$==="phase"?lt="📋":$==="task"?lt="📝":$==="phase-task"?lt="📄":$==="subtask"&&(lt="📌"),$==="phase"||$==="task"&&re||$==="phase-task"&&re?(Ve=_e?"▼":"▶️",Le+=" text-blue-600 cursor-pointer hover:text-blue-800 transition-colors"):$==="phase-task"?(Ve="•",Le+=" text-green-500"):$==="subtask"?(Ve="◦",Le+=" text-gray-400"):$==="task"?(Ve="●",Le+=" text-orange-500"):(Ve="●",Le+=" text-gray-400");const Ke=Q.subject||Q.name,pt=Q.status||"Open",Pe=Q.progress||0,ht=X=>{X.preventDefault(),X.stopPropagation(),xe&&xe()},$t=X=>{X.preventDefault(),X.stopPropagation(),$==="phase"&&t?t(Q):($==="task"||$==="phase-task")&&n?n(Q):$==="subtask"&&s&&s(Q)},vt=X=>{X.preventDefault(),X.stopPropagation(),re&&xe&&xe()};let Mt="hover:bg-gray-50",St="";return he===1?(Mt="bg-blue-50/30 hover:bg-blue-50",St="border-l-4 border-l-blue-300"):he===2&&(Mt="bg-green-50/30 hover:bg-green-50",St="border-l-4 border-l-green-300"),c.jsx("div",{className:`${Mt} ${St} transition-colors`,children:c.jsxs("div",{className:"grid grid-cols-12 gap-4 py-3 px-6 border-b border-gray-100 items-center cursor-pointer",onClick:vt,onDoubleClick:$t,children:[c.jsxs("div",{className:`col-span-5 flex items-center ${De}`,style:he>0?Ee:{},children:[c.jsx("span",{className:Le,onClick:ht,role:xe?"button":void 0,tabIndex:xe?0:void 0,children:Ve}),c.jsx("span",{className:"mr-2 text-lg",children:lt}),W(pt),c.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[c.jsx("div",{className:`font-medium truncate ${$==="phase"?"text-blue-900 text-lg":$==="task"?"text-orange-900":$==="phase-task"?"text-green-900":"text-gray-700"}`,onMouseEnter:X=>J(Ke,X),onMouseLeave:G,title:Ke.length>30?Ke:void 0,children:Ke}),Q.description&&$==="subtask"&&c.jsx("p",{className:"text-sm text-gray-500 mt-1 truncate",onMouseEnter:X=>J(Q.description,X),onMouseLeave:G,title:Q.description.length>50?Q.description:void 0,children:Q.description}),Q.details&&$==="phase"&&c.jsx("p",{className:"text-sm text-gray-600 mt-1 truncate",onMouseEnter:X=>J(Q.details,X),onMouseLeave:G,title:Q.details.length>50?Q.details:void 0,children:Q.details})]})]}),c.jsx("div",{className:"col-span-2 text-center",children:c.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Y(pt)}`,children:pt})}),c.jsx("div",{className:"col-span-2 text-center",children:Q.priority&&c.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${q(Q.priority)}`,children:Q.priority})}),c.jsxs("div",{className:"col-span-3 flex items-center justify-start space-x-2",children:[$!=="subtask"&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:`${$==="phase"?"w-20":"w-16"} bg-gray-200 rounded-full h-2`,children:c.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${Pe}%`}})}),c.jsxs("span",{className:"text-sm text-gray-600 w-12 text-left flex-shrink-0",children:[Pe,"%"]})]}),c.jsxs("div",{className:"ml-auto",children:[$==="phase"&&t&&c.jsx(Ye,{variant:"outline",size:"sm",onClick:X=>{X.preventDefault(),X.stopPropagation(),t(Q)},className:"h-7 px-2 text-xs",children:"View Details"}),($==="task"||$==="phase-task")&&n&&c.jsx(Ye,{variant:"outline",size:"sm",onClick:X=>{X.preventDefault(),X.stopPropagation(),n(Q)},className:"h-7 px-2 text-xs",children:"View Details"}),$==="subtask"&&s&&c.jsx(Ye,{variant:"outline",size:"sm",onClick:X=>{X.preventDefault(),X.stopPropagation(),s(Q)},className:"h-7 px-2 text-xs",children:"View Details"})]})]})]})},`${$}-${Q.name}`)};if(N||C||E)return c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"})]});const te=b.length>0?b:S||[],ne=A||[],le=M||[],B=Q=>le.filter(he=>he.task===Q);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Project Tasks & Phases"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(Ye,{size:"sm",variant:"outline",className:"flex items-center gap-2",onClick:()=>g(!0),children:[c.jsx(Mo,{className:"h-4 w-4"}),"Add Task"]}),c.jsxs(Ye,{size:"sm",className:"flex items-center gap-2",onClick:()=>h(!0),children:[c.jsx(Mo,{className:"h-4 w-4"}),"Add Phase"]})]})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[c.jsxs("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-200 grid grid-cols-12 gap-4 text-sm font-medium text-gray-700",children:[c.jsx("div",{className:"col-span-5",children:"Task / Phase"}),c.jsx("div",{className:"col-span-2 text-center",children:"Status"}),c.jsx("div",{className:"col-span-2 text-center",children:"Priority"}),c.jsx("div",{className:"col-span-3 text-left",children:"Progress"})]}),c.jsxs("div",{className:"divide-y divide-gray-100",children:[te.map(Q=>{const he=a.has(Q.name),$=Q.tasks||[];return c.jsxs("div",{children:[H(Q,0,"phase",$.length>0,he,()=>{P(Q.name)}),he&&$.map((re,_e)=>{const xe=ne.find(Le=>Le.name===re.task),Ee=B(re.task),De=Ee.length>0,Ve=l.has(re.task);if(!xe){const Le={name:re.task,subject:re.task,status:"Open"};return c.jsxs("div",{children:[H(Le,1,"phase-task",De,Ve,De?()=>{K(re.task)}:void 0),Ve&&De&&Ee.map((lt,Ke)=>c.jsx("div",{children:H(lt,2,"subtask",!1,!1)},`subtask-${Ke}`))]},`phase-task-${_e}`)}return c.jsxs("div",{children:[H(xe,1,"phase-task",De,Ve,De?()=>{K(xe.name)}:void 0),Ve&&De&&Ee.map((Le,lt)=>c.jsx("div",{children:H(Le,2,"subtask",!1,!1)},`subtask-${lt}`))]},`phase-task-${_e}`)})]},Q.name)}),te.length>0&&ne.filter(Q=>!te.some($=>{var re;return(re=$.tasks)==null?void 0:re.some(_e=>_e.task===Q.name)})).length>0&&c.jsx("div",{className:"bg-gray-100 px-6 py-2 border-b border-gray-200",children:c.jsxs("div",{className:"text-sm font-medium text-gray-600 flex items-center",children:[c.jsx("span",{className:"mr-2",children:"📝"}),"Standalone Tasks"]})}),ne.filter(Q=>!te.some($=>{var re;return(re=$.tasks)==null?void 0:re.some(_e=>_e.task===Q.name)})).map(Q=>{const he=l.has(Q.name),$=B(Q.name),re=$.length>0;return c.jsxs("div",{children:[H(Q,0,"task",re,he,re?()=>{K(Q.name)}:void 0),he&&re&&$.map((_e,xe)=>c.jsx("div",{children:H(_e,1,"subtask",!1,!1)},`standalone-subtask-${xe}`))]},Q.name)})]})]}),te.length===0&&ne.length===0&&c.jsx("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:c.jsxs("div",{className:"max-w-md mx-auto",children:[c.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"📋"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No phases or tasks yet"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Start organizing your project by creating phases and tasks."}),c.jsxs("div",{className:"flex gap-3 justify-center",children:[c.jsx(Ye,{onClick:()=>h(!0),children:"Create First Phase"}),c.jsx(Ye,{variant:"outline",onClick:()=>g(!0),children:"Create Task"})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-6 border-t border-gray-200",children:[c.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-600",children:te.length}),c.jsx("div",{className:"text-sm text-blue-600",children:"Total Phases"})]}),c.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-green-600",children:ne.length}),c.jsx("div",{className:"text-sm text-green-600",children:"Total Tasks"})]}),c.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-purple-600",children:le.length}),c.jsx("div",{className:"text-sm text-purple-600",children:"Total Subtasks"})]})]}),c.jsx(VH,{isOpen:f,onClose:()=>h(!1),projectName:e,onSuccess:()=>{R()}}),c.jsx(IH,{isOpen:p,onClose:()=>g(!1),projectName:e,onSuccess:()=>{k()}}),w.visible&&c.jsxs("div",{className:"fixed z-50 bg-gray-900 text-white text-sm px-4 py-2 rounded-lg shadow-xl pointer-events-none border border-gray-700",style:{left:w.x,top:w.y,transform:"translateY(-100%)",maxWidth:"400px",minWidth:"200px",wordWrap:"break-word"},children:[c.jsx("div",{className:"font-medium leading-relaxed",children:w.text}),c.jsx("div",{className:"absolute top-full w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900",style:{left:"20px"}})]})]})};class WH{static useCreatePhaseTask(){const{createDoc:t,loading:n}=Fi(),{call:s}=xs("frappe.client.insert"),{call:a}=xs("frappe.client.save"),{data:i}=On("User","",{shouldFetch:!0});return{createTaskWithPhase:u=>ye(null,null,function*(){try{const f=yield t("Task",{subject:u.subject,description:u.description,priority:u.priority,status:u.status,type:u.type,expected_time:u.expected_time,task_weight:u.task_weight,exp_start_date:u.exp_start_date||null,exp_end_date:u.exp_end_date||null,project:u.project});let h=null;if(u.assign_to&&f)try{h=yield s({doc:{doctype:"ToDo",allocated_to:u.assign_to,assigned_by:(i==null?void 0:i.name)||"",description:`Task: ${u.subject}`,reference_type:"Task",reference_name:f.name,status:"Open",priority:u.priority,date:new Date().toISOString().split("T")[0]}})}catch(p){console.error("Error creating ToDo:",p)}if(u.phaseId&&f){const p={parent:u.phaseId,parenttype:"project_phase",parentfield:"tasks",task:f.name,task_name:f.subject,status:f.status,start_date:f.exp_start_date,end_date:f.exp_end_date,description:f.description},g=yield s({doc:z({doctype:"Project Phase Task"},p)});console.log("Project Phase Task created successfully:",g);try{console.log("Saving parent phase document to commit child table changes...");const b=yield a({doc:{doctype:"project_phase",name:u.phaseId}});console.log("Parent phase saved successfully:",b)}catch(b){console.warn("Failed to save parent phase, but child was created:",b)}return{success:!0,task:f,phaseTask:g,todo:h,message:"Task created and linked to phase successfully"}}return{success:!0,task:f,todo:h,message:"Task created successfully"}}catch(f){throw console.error("Error in createTaskWithPhase:",f),f}}),isLoading:n}}static useLinkTaskToPhase(){const{call:t}=xs("frappe.client.insert");return{linkTaskToPhase:(s,a,i)=>ye(null,null,function*(){try{const l={parent:a,parenttype:"Project Phase",parentfield:"tasks",task:s,task_name:(i==null?void 0:i.task_name)||s,status:(i==null?void 0:i.status)||"Open",start_date:i==null?void 0:i.start_date,end_date:i==null?void 0:i.end_date,description:i==null?void 0:i.description};return{success:!0,phaseTask:yield t({doc:z({doctype:"Project Phase Task"},l)}),message:"Task linked to phase successfully"}}catch(l){return console.error("Error linking task to phase:",l),{success:!1,error:l instanceof Error?l.message:"Unknown error",message:"Failed to link task to phase"}}})}}}const YH=WH.useCreatePhaseTask,XH=({isOpen:e,onClose:t,projectName:n,phaseId:s,onSuccess:a})=>{const[i,l]=j.useState({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),[u,f]=j.useState({}),[h,p]=j.useState(!1),{createTaskWithPhase:g,isLoading:b}=YH(),{data:x,isLoading:w}=hc(n),{data:_}=On("Project",n),S=(C,k)=>{l(D=>oe(z({},D),{[C]:k})),u[C]&&f(D=>oe(z({},D),{[C]:""}))},N=()=>{const C={};return i.subject.trim()||(C.subject="Task subject is required"),f(C),Object.keys(C).length===0},R=C=>ye(null,null,function*(){if(C.preventDefault(),!h&&N()){if(i.exp_start_date&&i.exp_end_date){const k=new Date(i.exp_start_date);if(new Date(i.exp_end_date)<k){_n.error("End date cannot be earlier than start date");return}}if(i.exp_end_date&&(_!=null&&_.expected_end_date)){const k=new Date(i.exp_end_date),D=new Date(_.expected_end_date);if(k>D){_n.error(`Task end date cannot be after project end date (${_.expected_end_date})`);return}}p(!0);try{const k=oe(z({},i),{project:n,expected_time:Number(i.expected_time),task_weight:Number(i.task_weight),exp_start_date:i.exp_start_date||void 0,exp_end_date:i.exp_end_date||void 0,phaseId:s,assign_to:i.assign_to||void 0});console.log("Creating task with data:",k),console.log("Date fields:",{exp_start_date:i.exp_start_date,exp_end_date:i.exp_end_date});const D=yield g(k);console.log("Task with phase created:",D);let M=`Task "${i.subject}" has been created successfully.`;D.todo&&i.assign_to&&(console.log("Task assigned and ToDo created for:",i.assign_to),M+=` Task has been assigned to ${i.assign_to}.`),_n.success("Task created successfully",{description:M}),l({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),f({}),a&&a(),t()}catch(k){console.error("Error creating task:",k);let D="Failed to create task. Please try again.";k!=null&&k.message&&(k.message.includes("Expected End Date cannot be after Project")?D="Task end date cannot be after the project end date. Please choose an earlier date.":k.message.includes("InvalidDates")?D="Invalid date configuration. Please check your task dates.":D=k.message),k!=null&&k.exception&&typeof k.exception=="string"&&k.exception.includes("Expected End Date cannot be after Project")&&(D="Task end date cannot be after the project end date. Please choose an earlier date."),_n.error("Failed to create task",{description:D}),f({submit:D})}finally{p(!1)}}}),A=()=>{l({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),f({}),t()};return c.jsx(ys,{open:e,onOpenChange:A,children:c.jsxs(bs,{className:"sm:max-w-[600px]",children:[c.jsxs(vs,{children:[c.jsxs(_s,{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-2xl",children:"📝"}),"Create New Task"]}),c.jsxs(Do,{children:["Create a new task for project: ",c.jsx("strong",{children:n}),s&&c.jsxs(c.Fragment,{children:[c.jsx("br",{}),c.jsx("span",{className:"text-blue-600",children:"🔗 This task will be linked to the current phase"})]}),c.jsx("br",{}),c.jsx("span",{className:"text-gray-600",children:"💡 Assigning to a user will automatically create a ToDo item for them"})]})]}),c.jsxs("form",{onSubmit:R,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx(ze,{htmlFor:"subject",children:"Task Subject *"}),c.jsx(Ft,{id:"subject",value:i.subject,onChange:C=>S("subject",C.target.value),placeholder:"Enter task subject...",className:u.subject?"border-red-500":""}),u.subject&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:u.subject})]}),c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx(ze,{htmlFor:"description",children:"Description"}),c.jsx("textarea",{id:"description",value:i.description,onChange:C=>S("description",C.target.value),placeholder:"Enter task description...",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx(ze,{htmlFor:"priority",children:"Priority"}),c.jsxs("select",{id:"priority",value:i.priority,onChange:C=>S("priority",C.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[c.jsx("option",{value:"Low",children:"Low"}),c.jsx("option",{value:"Medium",children:"Medium"}),c.jsx("option",{value:"High",children:"High"}),c.jsx("option",{value:"Urgent",children:"Urgent"})]})]}),c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx(ze,{htmlFor:"status",children:"Status"}),c.jsxs("select",{id:"status",value:i.status,onChange:C=>S("status",C.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[c.jsx("option",{value:"Open",children:"Open"}),c.jsx("option",{value:"Working",children:"Working"}),c.jsx("option",{value:"Overdue",children:"Overdue"}),c.jsx("option",{value:"Pending Review",children:"Pending Review"}),c.jsx("option",{value:"Completed",children:"Completed"}),c.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx(ze,{htmlFor:"assign_to",children:"Assign To"}),c.jsxs("select",{id:"assign_to",value:i.assign_to,onChange:C=>S("assign_to",C.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",disabled:w,children:[c.jsx("option",{value:"",children:"Select user to assign (Optional)"}),x==null?void 0:x.map(C=>c.jsxs("option",{value:C.user||C.name,children:[C.full_name||C.name,C.email&&` (${C.email})`]},C.user||C.name))]}),w&&c.jsx("p",{className:"text-sm text-gray-500",children:"Loading users..."}),!w&&x&&x.length>10&&c.jsx("p",{className:"text-sm text-amber-600",children:"⚠️ Showing all system users (project users not available)"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx(ze,{htmlFor:"expected_time",children:"Expected Time (hours)"}),c.jsx(Ft,{id:"expected_time",type:"number",min:"0",step:"0.5",value:i.expected_time,onChange:C=>S("expected_time",Number(C.target.value)),placeholder:"0"})]}),c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx(ze,{htmlFor:"task_weight",children:"Task Weight"}),c.jsx(Ft,{id:"task_weight",type:"number",min:"1",value:i.task_weight,onChange:C=>S("task_weight",Number(C.target.value)),placeholder:"1"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"exp_start_date",children:"Expected Start Date"}),c.jsx(Ft,{id:"exp_start_date",type:"date",value:i.exp_start_date,onChange:C=>S("exp_start_date",C.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"exp_end_date",children:"Expected End Date"}),c.jsx(Ft,{id:"exp_end_date",type:"date",value:i.exp_end_date,onChange:C=>S("exp_end_date",C.target.value),max:(_==null?void 0:_.expected_end_date)||void 0}),(_==null?void 0:_.expected_end_date)&&c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Must be before project end date: ",_.expected_end_date]})]})]})]}),u.submit&&c.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-md p-3",children:u.submit}),c.jsxs(ws,{children:[c.jsx(Ye,{type:"button",variant:"outline",onClick:A,children:"Cancel"}),c.jsx(Ye,{type:"submit",disabled:b||h,children:b||h?"Creating...":"Create Task"})]})]})]})})},GH=({phase:e,projectName:t,isOpen:n,onClose:s,onSuccess:a})=>{var A;const{updatePhase:i,isLoading:l,error:u}=HH(),{assignPhase:f,unassignPhase:h}=kC(),{data:p,isLoading:g}=hc(t),{data:b}=Dt("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","project_phase"],["reference_name","=",(e==null?void 0:e.name)||""]]}),[x,w]=j.useState({subject:"",status:"Open",priority:"Medium",start_date:"",end_date:"",progress:0,details:"",costing:0,assign_to:""}),_=((A=b==null?void 0:b[0])==null?void 0:A.allocated_to)||"";j.useEffect(()=>{e&&w({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",progress:e.progress||0,details:e.details||"",costing:e.costing||0,assign_to:_})},[e,_]);const S=(C,k)=>{w(D=>oe(z({},D),{[C]:k}))},N=C=>ye(null,null,function*(){if(C.preventDefault(),!!e)try{const k=x,{assign_to:D}=k,M=ke(k,["assign_to"]);yield i(e.name,M);const E=_,P=D;if(E&&E!==P){const K=b==null?void 0:b.find(W=>W.allocated_to===E);K&&(yield h(K.name))}P&&P!==E&&(yield f(e.name,P)),_n.success("Phase updated successfully",{description:`Phase "${x.subject}" has been updated.`}),a&&a(),s()}catch(D){console.error("Error updating phase:",D),_n.error("Failed to update phase",{description:D instanceof Error?D.message:"An unexpected error occurred."})}}),R=()=>{e&&w({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",progress:e.progress||0,details:e.details||"",costing:e.costing||0,assign_to:_}),s()};return c.jsx(ys,{open:n,onOpenChange:s,children:c.jsxs(bs,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[c.jsx(vs,{children:c.jsx(_s,{children:"Edit Phase"})}),c.jsxs("form",{onSubmit:N,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"subject",children:"Subject *"}),c.jsx(Ft,{id:"subject",value:x.subject,onChange:C=>S("subject",C.target.value),required:!0,placeholder:"Enter phase subject"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"status",children:"Status"}),c.jsxs("select",{id:"status",value:x.status,onChange:C=>S("status",C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"Open",children:"Open"}),c.jsx("option",{value:"Working",children:"Working"}),c.jsx("option",{value:"Pending Review",children:"Pending Review"}),c.jsx("option",{value:"Completed",children:"Completed"}),c.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"priority",children:"Priority"}),c.jsxs("select",{id:"priority",value:x.priority,onChange:C=>S("priority",C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"Low",children:"Low"}),c.jsx("option",{value:"Medium",children:"Medium"}),c.jsx("option",{value:"High",children:"High"}),c.jsx("option",{value:"Critical",children:"Critical"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"start_date",children:"Start Date"}),c.jsx(Ft,{id:"start_date",type:"date",value:x.start_date,onChange:C=>S("start_date",C.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"end_date",children:"End Date"}),c.jsx(Ft,{id:"end_date",type:"date",value:x.end_date,onChange:C=>S("end_date",C.target.value)})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"progress",children:"Progress (%)"}),c.jsx(Ft,{id:"progress",type:"number",min:"0",max:"100",value:x.progress,onChange:C=>S("progress",parseInt(C.target.value)||0),placeholder:"0"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"costing",children:"Costing"}),c.jsx(Ft,{id:"costing",type:"number",min:"0",step:"0.01",value:x.costing,onChange:C=>S("costing",parseFloat(C.target.value)||0),placeholder:"0.00"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"details",children:"Details"}),c.jsx("textarea",{id:"details",value:x.details,onChange:C=>S("details",C.target.value),placeholder:"Enter phase details",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"assign_to",children:"Assign To"}),c.jsxs("select",{id:"assign_to",value:x.assign_to,onChange:C=>S("assign_to",C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:g,children:[c.jsx("option",{value:"",children:"Select user..."}),p==null?void 0:p.map(C=>c.jsx("option",{value:C.user||C.name,children:C.user||C.name},C.name))]}),g&&c.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),u&&c.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:c.jsxs("p",{children:[c.jsx("strong",{children:"Error:"})," ",u.message||"Failed to update phase"]})}),c.jsxs(ws,{className:"flex gap-2",children:[c.jsx(Ye,{type:"button",variant:"outline",onClick:R,children:"Cancel"}),c.jsx(Ye,{type:"submit",disabled:l,children:l?"Updating...":"Update Phase"})]})]})]})})},KH=({phase:e,isOpen:t,onClose:n,onSuccess:s})=>{const{call:a,loading:i,error:l}=xs("frappe.client.delete"),u=()=>ye(null,null,function*(){if(e)try{yield a({doctype:"project_phase",name:e.name}),s&&s(),n()}catch(h){console.error("Error deleting phase:",h)}}),f=()=>{n()};return c.jsx(ys,{open:t,onOpenChange:n,children:c.jsxs(bs,{className:"sm:max-w-[400px]",children:[c.jsx(vs,{children:c.jsxs(_s,{className:"flex items-center gap-2 text-red-600",children:[c.jsx(um,{className:"h-5 w-5"}),"Delete Phase"]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this phase? This action cannot be undone."}),e&&c.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[c.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),c.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),c.jsxs("div",{className:"text-sm text-gray-600",children:["Priority: ",e.priority||"Medium"]})]}),c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[c.jsxs("div",{className:"text-sm text-red-800",children:[c.jsx("strong",{children:"Warning:"})," Deleting this phase will also remove:"]}),c.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[c.jsx("li",{children:"All tasks associated with this phase"}),c.jsx("li",{children:"All phase progress data"}),c.jsx("li",{children:"Phase timeline and milestones"}),c.jsx("li",{children:"Related documents and attachments"})]})]}),l&&c.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:c.jsxs("p",{children:[c.jsx("strong",{children:"Error:"})," ",l.message||"Failed to delete phase"]})})]}),c.jsxs(ws,{className:"flex gap-2",children:[c.jsx(Ye,{type:"button",variant:"outline",onClick:f,children:"Cancel"}),c.jsx(Ye,{type:"button",variant:"destructive",onClick:u,disabled:i,children:i?"Deleting...":"Delete Phase"})]})]})})};class QH{static usePhaseProgressCalculation(){const{updateDoc:t}=qs();return{calculateAndUpdatePhaseProgress:s=>ye(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",name:s})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=(yield a.json()).message;if(!l||!l.tasks||l.tasks.length===0)return yield t("project_phase",s,{progress:0}),console.log(`Phase ${s} progress updated to 0% (no tasks)`),0;const u=l.tasks.map(x=>x.task),f=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["name","in",u]]})});if(!f.ok)throw new Error(`HTTP error! status: ${f.status}`);const p=(yield f.json()).message||[];if(p.length===0)return yield t("project_phase",s,{progress:0}),console.log(`Phase ${s} progress updated to 0% (no valid tasks)`),0;let g=0;p.forEach(x=>{g+=x.progress||0});const b=Math.round(g/p.length);return yield t("project_phase",s,{progress:b}),console.log(`Phase ${s} progress updated to ${b}% (based on ${p.length} tasks)`),b}catch(a){return console.error("Error calculating phase progress:",a),null}})}}static usePhaseStatusProgressUpdate(){const{updateDoc:t}=qs();return{updatePhaseProgressByStatus:(s,a,i)=>ye(null,null,function*(){try{let l=i||0;switch(a){case"Completed":l=100;break;case"Cancelled":case"Rejected":l=0;break;default:break}return yield t("project_phase",s,{status:a,progress:l}),l}catch(l){return console.error("Error updating phase progress by status:",l),null}})}}static useManualPhaseProgressUpdate(){const{updateDoc:t}=qs();return{updatePhaseProgress:(s,a)=>ye(null,null,function*(){try{let i="";return a===0||a===1?i="Open":a>1&&a<=90?i="Working":a>90&&a<100?i="Pending Review":a===100&&(i="Completed"),yield t("project_phase",s,{progress:a,status:i}),{progress:a,status:i}}catch(i){return console.error("Error updating manual phase progress:",i),null}})}}}const{usePhaseProgressCalculation:OC}=QH,ZH=({phase:e,projectName:t,onBack:n,onViewTaskDetails:s,onPhaseUpdated:a,onPhaseDeleted:i,onTaskCreated:l})=>{var ne;const[u,f]=j.useState(!1),[h,p]=j.useState(!1),[g,b]=j.useState(!1),[x,w]=j.useState(!1),[_,S]=j.useState(!1),{calculateAndUpdatePhaseProgress:N}=OC(),{data:R,mutate:A}=On("project_phase",e.name,"project_phase"),C=R||e,{data:k,isLoading:D,mutate:M}=Dt("Task",{fields:["name","subject","status","priority","project","exp_start_date","exp_end_date","progress"],filters:[["project","=",t]],orderBy:{field:"exp_start_date",order:"asc"},limit:0}),E=se.useMemo(()=>{if(!k)return[];if(C.tasks&&C.tasks.length>0){const le=C.tasks.map(B=>B.task);return k.filter(B=>le.includes(B.name))}return[]},[k,C.tasks]),P=se.useMemo(()=>{if(!E||E.length===0)return 0;const le=E.reduce((B,Q)=>B+(Q.progress||0),0);return Math.round(le/E.length)},[E]);j.useEffect(()=>{E.length>0&&P!==(C.progress||0)&&K()},[P,E.length]);const K=()=>ye(null,null,function*(){w(!0);try{yield N(e.name),yield A(),a&&a()}catch(le){console.error("Error recalculating phase progress:",le)}finally{w(!1)}}),W=le=>le?new Date(le).toLocaleDateString():"N/A",Y=le=>le?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(le):"$0",q=le=>{switch(le){case"Completed":return c.jsx(lm,{className:"h-5 w-5 text-green-600"});case"Working":return c.jsx(nc,{className:"h-5 w-5 text-yellow-600"});case"Open":return c.jsx(Ro,{className:"h-5 w-5 text-blue-600"});default:return c.jsx(Ro,{className:"h-5 w-5 text-gray-400"})}},J=le=>{switch(le){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},G=le=>{switch(le){case"Urgent":return"bg-red-100 text-red-800 border-red-200";case"High":return"bg-orange-100 text-orange-800 border-orange-200";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},H=()=>ye(null,null,function*(){S(!0);try{yield A(),yield M(),a&&(yield a()),setTimeout(()=>ye(null,null,function*(){w(!0);try{yield N(C.name),setTimeout(()=>ye(null,null,function*(){yield A()}),500)}catch(le){console.error("Error recalculating phase progress:",le)}finally{w(!1)}}),500)}finally{S(!1)}}),te=()=>{i&&i(),n()};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(Ye,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-2",children:[c.jsx(Kx,{className:"h-4 w-4"}),"Back to Tasks"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(Ye,{variant:"outline",size:"sm",onClick:()=>p(!0),disabled:_||x,className:"flex items-center gap-2",children:[c.jsx(ql,{className:`h-4 w-4 ${_?"animate-pulse":""}`}),_?"Updating...":"Edit Phase"]}),c.jsxs(Ye,{variant:"outline",size:"sm",onClick:()=>b(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[c.jsx(Ql,{className:"h-4 w-4"}),"Delete Phase"]})]})]}),c.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-6",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("div",{className:"h-12 w-12 rounded-lg bg-blue-500 flex items-center justify-center",children:c.jsx("span",{className:"text-xl",children:"📋"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:C.subject}),c.jsx("p",{className:"text-sm text-gray-600",children:"Phase Details"})]})]}),C.details&&c.jsx("p",{className:"text-gray-700 leading-relaxed",children:C.details})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${J(C.status||"Open")}`,children:[q(C.status||"Open"),c.jsx("span",{className:"font-medium",children:C.status||"Open"})]}),C.priority&&c.jsx("div",{className:`px-3 py-1 rounded-full border ${G(C.priority)}`,children:c.jsx("span",{className:"text-sm font-medium",children:C.priority})})]})]}),c.jsxs("div",{className:"mt-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Phase Progress"}),E.length>0&&c.jsxs("span",{className:"text-xs text-gray-500",children:["(Auto-calculated from ",E.length," tasks)"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[P,"%"]}),c.jsx(Ye,{variant:"ghost",size:"sm",onClick:K,disabled:x,className:"h-8 w-8 p-0",title:"Recalculate progress from tasks",children:c.jsx(a2,{className:`h-4 w-4 ${x?"animate-spin":""}`})})]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:c.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full transition-all duration-500",style:{width:`${P}%`}})}),E.length>0&&c.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Task progress: ",E.map(le=>`${le.subject}: ${le.progress||0}%`).join(", ")]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:c.jsx($r,{className:"h-6 w-6 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),c.jsx("p",{className:"text-lg font-bold text-gray-900",children:W(C.start_date)})]})]})}),c.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:c.jsx(Jx,{className:"h-6 w-6 text-purple-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),c.jsx("p",{className:"text-lg font-bold text-gray-900",children:W(C.end_date)})]})]})}),c.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:c.jsx(Qx,{className:"h-6 w-6 text-green-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Estimated Cost"}),c.jsx("p",{className:"text-lg font-bold text-gray-900",children:Y(C.costing)})]})]})})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Phase Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Phase ID"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:C.name})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),c.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${J(C.status||"Open")}`,children:[q(C.status||"Open"),c.jsx("span",{className:"font-medium",children:C.status||"Open"})]})]}),c.jsxs("div",{className:"flex items-center justify-between py-3",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),c.jsx("div",{className:`px-3 py-1 rounded-full ${G(C.priority||"Medium")}`,children:c.jsx("span",{className:"font-medium",children:C.priority||"Medium"})})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Tasks Count"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:((ne=C.tasks)==null?void 0:ne.length)||0})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:C.start_date&&C.end_date?`${Math.ceil((new Date(C.end_date).getTime()-new Date(C.start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),c.jsxs("div",{className:"flex items-center justify-between py-3",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Progress"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-xl font-bold text-blue-600",children:[P,"%"]}),E.length>0&&c.jsxs("span",{className:"text-xs text-gray-500",children:["(from ",E.length," tasks)"]})]})]}),c.jsxs("div",{className:"flex items-center justify-between py-3",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Estimated Cost"}),c.jsx("span",{className:"text-xl font-bold text-green-600",children:Y(e.costing)})]})]})]})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsx("div",{className:"flex items-center justify-between mb-6",children:c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Tasks in this Phase"})}),D?c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"})]}):c.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[c.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:c.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3",children:[c.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700",children:"#"}),c.jsx("div",{className:"col-span-4 text-sm font-medium text-gray-700",children:"Task"}),c.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Progress"}),c.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Status"}),c.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700 text-center",children:"Priority"}),c.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Actions"})]})}),c.jsxs("div",{className:"divide-y divide-gray-100",children:[E&&E.length>0?E.map((le,B)=>c.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[c.jsx("div",{className:"col-span-1 flex items-center",children:c.jsx("span",{className:"text-sm text-gray-600",children:B+1})}),c.jsxs("div",{className:"col-span-4 flex items-center gap-3",children:[c.jsx("div",{className:"p-1 bg-orange-100 rounded",children:c.jsx("span",{className:"text-sm",children:"📝"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:le.subject||le.name}),c.jsx("div",{className:"text-sm text-gray-500",children:le.name})]})]}),c.jsx("div",{className:"col-span-2 flex items-center justify-center",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${le.progress||0}%`}})}),c.jsxs("span",{className:"text-sm font-medium text-gray-700 min-w-[30px]",children:[le.progress||0,"%"]})]})}),c.jsx("div",{className:"col-span-2 flex items-center justify-center",children:c.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${J(le.status||"Open")}`,children:le.status||"Open"})}),c.jsx("div",{className:"col-span-1 flex items-center justify-center",children:le.priority&&c.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${G(le.priority)}`,children:le.priority})}),c.jsx("div",{className:"col-span-2 flex items-center justify-center",children:s&&c.jsx(Ye,{variant:"outline",size:"sm",onClick:()=>s(le),className:"h-7 px-2 text-xs",children:"View Details"})})]},le.name)):c.jsxs("div",{className:"px-6 py-8 text-center text-gray-500",children:[c.jsx("div",{className:"text-4xl mb-2",children:"📝"}),c.jsx("div",{className:"text-lg font-medium mb-1",children:"No tasks yet"}),c.jsx("div",{className:"text-sm",children:'Click "Add Task" to create the first task for this phase'})]}),c.jsx("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 bg-gray-50 border-t border-gray-200",children:c.jsx("div",{className:"col-span-12 flex items-center justify-center",children:c.jsxs(Ye,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",onClick:()=>f(!0),children:[c.jsx(Mo,{className:"h-4 w-4"}),"Add new task to this phase"]})})})]})]})]}),c.jsx(XH,{isOpen:u,onClose:()=>f(!1),projectName:t,phaseId:e.name,onSuccess:()=>ye(null,null,function*(){yield A(),l&&(yield l()),setTimeout(()=>ye(null,null,function*(){yield M(),setTimeout(()=>ye(null,null,function*(){yield K()}),500)}),500)})}),c.jsx(GH,{phase:e,projectName:t,isOpen:h,onClose:()=>p(!1),onSuccess:H}),c.jsx(KH,{phase:e,isOpen:g,onClose:()=>b(!1),onSuccess:te})]})};class JH{static useUpdateSubTask(){const{updateDoc:t,loading:n,error:s}=qs();return{updateSubTask:(i,l)=>ye(null,null,function*(){return yield t("SubTask",i,l)}),isLoading:n,error:s}}static useSubTaskAssignment(){const{createDoc:t}=Fi(),{deleteDoc:n}=rm(),{data:s}=On("User","",{shouldFetch:!0});return{assignSubTask:(l,u)=>ye(null,null,function*(){return yield t("ToDo",{allocated_to:u,assigned_by:(s==null?void 0:s.name)||"",reference_type:"SubTask",reference_name:l,description:`Assignment for SubTask: ${l}`,status:"Open"})}),unassignSubTask:l=>ye(null,null,function*(){return yield n("ToDo",l)})}}}const{useUpdateSubTask:AC,useSubTaskAssignment:eb}=JH;class e7{static useTaskProgressCalculation(){const{updateDoc:t}=qs();return{calculateAndUpdateTaskProgress:s=>ye(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"SubTask",fields:["name","status"],filters:[["task","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=(yield a.json()).message||[];if(!l||l.length===0)return null;let u=0;l.forEach(h=>{switch(h.status){case"Open":u+=1;break;case"Working":u+=50;break;case"Completed":u+=100;break;default:u+=0}});const f=Math.round(u/l.length);return yield t("Task",s,{progress:f}),console.log(`Task ${s} progress updated to ${f}%`),f}catch(a){return console.error("Error calculating task progress:",a),null}})}}static useTaskStatusProgressUpdate(){const{updateDoc:t}=qs();return{updateTaskProgressByStatus:(s,a,i)=>ye(null,null,function*(){try{let l=i||0;switch(a){case"Completed":l=100;break;case"Cancelled":case"Rejected":l=0;break;default:break}return yield t("Task",s,{status:a,progress:l}),l}catch(l){return console.error("Error updating task progress by status:",l),null}})}}static useManualProgressUpdate(){const{updateDoc:t}=qs();return{updateTaskProgress:(s,a)=>ye(null,null,function*(){try{let i="";return a===0||a===1?i="Open":a>1&&a<=90?i="Working":a>90&&a<100?i="Pending Review":a===100&&(i="Completed"),yield t("Task",s,{progress:a,status:i}),{progress:a,status:i}}catch(i){return console.error("Error updating manual task progress:",i),null}})}}}const{useTaskProgressCalculation:pd,useTaskStatusProgressUpdate:DC,useManualProgressUpdate:RC}=e7,t7=({isOpen:e,onClose:t,projectName:n,parentTask:s,onSuccess:a})=>{const[i,l]=j.useState({subject:"",description:"",priority:"Medium",status:"Open",task:s||"",assign_to:""}),[u,f]=j.useState({}),{createDoc:h,loading:p}=Fi(),{assignSubTask:g}=eb(),{calculateAndUpdateTaskProgress:b}=pd(),{data:x,isLoading:w}=hc(n),_=(A,C)=>{l(k=>oe(z({},k),{[A]:C})),u[A]&&f(k=>oe(z({},k),{[A]:""}))},S=()=>{const A={};return i.subject.trim()||(A.subject="SubTask subject is required"),i.task.trim()||(A.task="Parent task is required"),f(A),Object.keys(A).length===0},N=A=>ye(null,null,function*(){if(A.preventDefault(),!!S())try{const C=i,{assign_to:k}=C,D=ke(C,["assign_to"]),M=yield h("SubTask",oe(z({},D),{project:n}));if(k&&M&&(yield g(M.name,k)),s)try{yield b(s)}catch(E){console.error("Error updating task progress after subtask creation:",E)}l({subject:"",description:"",priority:"Medium",status:"Open",task:s||"",assign_to:""}),f({}),a&&a(),t()}catch(k){console.error("Error creating subtask:",k),f({submit:"Failed to create subtask. Please try again."})}}),R=()=>{l({subject:"",description:"",priority:"Medium",status:"Open",task:s||"",assign_to:""}),f({}),t()};return c.jsx(ys,{open:e,onOpenChange:R,children:c.jsxs(bs,{className:"sm:max-w-[600px]",children:[c.jsxs(vs,{children:[c.jsxs(_s,{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-2xl",children:"📌"}),"Create New SubTask"]}),c.jsxs(Do,{children:["Create a new subtask for project: ",c.jsx("strong",{children:n}),s&&c.jsxs("span",{className:"block mt-1",children:["Parent Task: ",c.jsx("strong",{children:s})]})]})]}),c.jsxs("form",{onSubmit:N,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx(ze,{htmlFor:"subject",children:"SubTask Subject *"}),c.jsx(Ft,{id:"subject",value:i.subject,onChange:A=>_("subject",A.target.value),placeholder:"Enter subtask subject...",className:u.subject?"border-red-500":""}),u.subject&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:u.subject})]}),c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx(ze,{htmlFor:"task",children:"Parent Task *"}),c.jsx(Ft,{id:"task",value:i.task,onChange:A=>_("task",A.target.value),placeholder:"Enter parent task ID...",className:u.task?"border-red-500":""}),u.task&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:u.task}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Enter the Task ID that this subtask belongs to"})]}),c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx(ze,{htmlFor:"description",children:"Description"}),c.jsx("textarea",{id:"description",value:i.description,onChange:A=>_("description",A.target.value),placeholder:"Enter subtask description...",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"assign_to",children:"Assign To"}),c.jsxs("select",{id:"assign_to",value:i.assign_to,onChange:A=>_("assign_to",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:w,children:[c.jsx("option",{value:"",children:"Select user..."}),x==null?void 0:x.map(A=>c.jsx("option",{value:A.user||A.name,children:A.user||A.name},A.name))]}),w&&c.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx(ze,{htmlFor:"priority",children:"Priority"}),c.jsxs("select",{id:"priority",value:i.priority,onChange:A=>_("priority",A.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[c.jsx("option",{value:"Low",children:"Low"}),c.jsx("option",{value:"Medium",children:"Medium"}),c.jsx("option",{value:"High",children:"High"})]})]}),c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx(ze,{htmlFor:"status",children:"Status"}),c.jsxs("select",{id:"status",value:i.status,onChange:A=>_("status",A.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[c.jsx("option",{value:"Open",children:"Open"}),c.jsx("option",{value:"Working",children:"Working"}),c.jsx("option",{value:"Completed",children:"Completed"})]})]})]})]}),u.submit&&c.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-md p-3",children:u.submit}),c.jsxs(ws,{children:[c.jsx(Ye,{type:"button",variant:"outline",onClick:R,children:"Cancel"}),c.jsx(Ye,{type:"submit",disabled:p,children:p?"Creating...":"Create SubTask"})]})]})]})})};class MC{static useUpdateTask(){const{updateDoc:t,loading:n,error:s}=qs();return{updateTask:(i,l)=>ye(null,null,function*(){const h=l,{assign_to:u}=h,f=ke(h,["assign_to"]);return yield t("Task",i,oe(z({},f),{exp_start_date:f.exp_start_date||void 0,exp_end_date:f.exp_end_date||void 0}))}),isLoading:n,error:s}}static useTaskAssignment(){const{createDoc:t}=Fi(),{deleteDoc:n}=rm(),{data:s}=On("User","",{shouldFetch:!0});return{assignTask:(l,u,f,h="Medium")=>ye(null,null,function*(){return yield t("ToDo",{allocated_to:f,assigned_by:(s==null?void 0:s.name)||"",description:`Task: ${u}`,reference_type:"Task",reference_name:l,status:"Open",priority:h,date:new Date().toISOString().split("T")[0]})}),unassignTask:l=>ye(null,null,function*(){return yield n("ToDo",l)})}}}const PC=MC.useUpdateTask,LC=MC.useTaskAssignment,n7=({task:e,projectName:t,isOpen:n,onClose:s,onSuccess:a})=>{const{updateTask:i,isLoading:l,error:u}=PC(),{assignTask:f,unassignTask:h}=LC(),{updateTaskProgress:p}=RC(),{updateTaskProgressByStatus:g}=DC(),{data:b,isLoading:x}=hc(t),{data:w}=On("Project",t),{data:_}=Dt("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","Task"],["reference_name","=",(e==null?void 0:e.name)||""]]}),{data:S}=Dt("SubTask",{fields:["name"],filters:[["task","=",(e==null?void 0:e.name)||""]],limit:1}),[N,R]=j.useState({subject:"",status:"Open",priority:"Medium",exp_start_date:"",exp_end_date:"",progress:0,description:"",assign_to:""}),[A,C]=j.useState(!1);j.useEffect(()=>{var E;if(e){const P=((E=_==null?void 0:_[0])==null?void 0:E.allocated_to)||"";R({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",exp_start_date:e.exp_start_date?e.exp_start_date.split(" ")[0]:"",exp_end_date:e.exp_end_date?e.exp_end_date.split(" ")[0]:"",progress:e.progress||0,description:e.description||"",assign_to:P})}},[e,_]),j.useEffect(()=>{C(!!(S&&S.length>0))},[S]);const k=(E,P)=>{R(K=>oe(z({},K),{[E]:P}))},D=E=>ye(null,null,function*(){var P,K,W;if(E.preventDefault(),!!e){if(N.exp_start_date&&N.exp_end_date){const Y=new Date(N.exp_start_date);if(new Date(N.exp_end_date)<Y){_n.error("End date cannot be earlier than start date");return}}if(N.exp_end_date&&(w!=null&&w.expected_end_date)){const Y=new Date(N.exp_end_date),q=new Date(w.expected_end_date);if(Y>q){_n.error(`Task end date cannot be after project end date (${w.expected_end_date})`);return}}try{const Y=N.progress!==(e.progress||0),q=N.status!==e.status;A&&Y?yield p(e.name,N.progress):q&&(N.status==="Completed"||N.status==="Cancelled")?yield g(e.name,N.status):yield i(e.name,N);const J=((P=_==null?void 0:_[0])==null?void 0:P.allocated_to)||"",G=N.assign_to;if(J!==G){if(J&&(_!=null&&_[0]))try{yield h(_[0].name)}catch(H){console.error("Error deleting old ToDo:",H)}if(G)try{yield f(e.name,N.subject,G,N.priority)}catch(H){console.error("Error creating new ToDo:",H)}}_n.success("Task updated successfully",{description:`Task "${N.subject}" has been updated.`}),a&&a(),s()}catch(Y){console.error("Error updating task:",Y);let q="Failed to update task";(K=Y==null?void 0:Y.message)!=null&&K.includes("modified")?q="The task has been modified by someone else. Please close and reopen the task to get the latest version.":(W=Y==null?void 0:Y.message)!=null&&W.includes("permission")?q="You do not have permission to update this task.":Y!=null&&Y.message&&(q=Y.message),_n.error("Failed to update task",{description:q})}}}),M=()=>{var E;if(e){const P=((E=_==null?void 0:_[0])==null?void 0:E.allocated_to)||"";R({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",exp_start_date:e.exp_start_date?e.exp_start_date.split(" ")[0]:"",exp_end_date:e.exp_end_date?e.exp_end_date.split(" ")[0]:"",progress:e.progress||0,description:e.description||"",assign_to:P})}s()};return c.jsx(ys,{open:n,onOpenChange:s,children:c.jsxs(bs,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[c.jsx(vs,{children:c.jsx(_s,{children:"Edit Task"})}),c.jsxs("form",{onSubmit:D,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"subject",children:"Subject *"}),c.jsx(Ft,{id:"subject",value:N.subject,onChange:E=>k("subject",E.target.value),required:!0,placeholder:"Enter task subject"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"status",children:"Status"}),c.jsxs("select",{id:"status",value:N.status,onChange:E=>k("status",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"Open",children:"Open"}),c.jsx("option",{value:"Working",children:"Working"}),c.jsx("option",{value:"Pending Review",children:"Pending Review"}),c.jsx("option",{value:"Overdue",children:"Overdue"}),c.jsx("option",{value:"Template",children:"Template"}),c.jsx("option",{value:"Completed",children:"Completed"}),c.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"priority",children:"Priority"}),c.jsxs("select",{id:"priority",value:N.priority,onChange:E=>k("priority",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"Low",children:"Low"}),c.jsx("option",{value:"Medium",children:"Medium"}),c.jsx("option",{value:"High",children:"High"}),c.jsx("option",{value:"Urgent",children:"Urgent"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"assign_to",children:"Assign To"}),c.jsxs("select",{id:"assign_to",value:N.assign_to,onChange:E=>k("assign_to",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:x,children:[c.jsx("option",{value:"",children:"Select user to assign (Optional)"}),b==null?void 0:b.map(E=>c.jsxs("option",{value:E.user||E.name,children:[E.full_name||E.name,E.email&&` (${E.email})`]},E.user||E.name))]}),x&&c.jsx("p",{className:"text-sm text-gray-500",children:"Loading users..."}),!x&&b&&b.length>10&&c.jsx("p",{className:"text-sm text-amber-600",children:"⚠️ Showing all system users (project users not available)"}),_&&_.length>0&&c.jsx("p",{className:"text-sm text-blue-600",children:"💡 Changing assignment will update the ToDo automatically"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"exp_start_date",children:"Expected Start Date"}),c.jsx(Ft,{id:"exp_start_date",type:"date",value:N.exp_start_date,onChange:E=>k("exp_start_date",E.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"exp_end_date",children:"Expected End Date"}),c.jsx(Ft,{id:"exp_end_date",type:"date",value:N.exp_end_date,onChange:E=>k("exp_end_date",E.target.value),max:(w==null?void 0:w.expected_end_date)||void 0}),(w==null?void 0:w.expected_end_date)&&c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Must be before project end date: ",w.expected_end_date]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"progress",children:"Progress (%)"}),c.jsx(Ft,{id:"progress",type:"number",min:"0",max:"100",value:N.progress,onChange:E=>k("progress",parseInt(E.target.value)||0),placeholder:"0",disabled:A}),A?c.jsxs("div",{className:"text-sm text-blue-600 bg-blue-50 p-2 rounded",children:[c.jsx("strong",{children:"🔄 Smart Progress Mode:"}),c.jsxs("ul",{className:"mt-1 ml-4 list-disc text-xs",children:[c.jsx("li",{children:"Progress is automatically calculated from subtasks"}),c.jsx("li",{children:"Only assignee can manually override progress"}),c.jsx("li",{children:"Project leaders can set progress via status changes"})]})]}):c.jsxs("div",{className:"text-sm text-green-600 bg-green-50 p-2 rounded",children:[c.jsx("strong",{children:"✏️ Manual Progress Mode:"}),c.jsx("span",{className:"text-xs",children:" Progress can be updated manually by anyone with edit permission"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"description",children:"Description"}),c.jsx("textarea",{id:"description",value:N.description,onChange:E=>k("description",E.target.value),placeholder:"Enter task description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),u&&c.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:c.jsxs("p",{children:[c.jsx("strong",{children:"Error:"})," ",u.message||"Failed to update task"]})}),c.jsxs(ws,{className:"flex gap-2",children:[c.jsx(Ye,{type:"button",variant:"outline",onClick:M,children:"Cancel"}),c.jsx(Ye,{type:"submit",disabled:l,children:l?"Updating...":"Update Task"})]})]})]})})},s7=({task:e,isOpen:t,onClose:n,onSuccess:s})=>{const{deleteDoc:a,loading:i,error:l}=rm(),[u,f]=j.useState(!1),h=()=>ye(null,null,function*(){var g,b;if(e){f(!0);try{const x=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"SubTask",fields:["name"],filters:[["task","=",e.name]]})});if(x.ok){const _=(yield x.json()).message||[];if(_.length>0)for(const S of _)yield a("SubTask",S.name)}try{const w=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","subject","status","priority","start_date","end_date","progress","details","costing"],filters:[["project","=",e.project]],orderBy:{field:"start_date",order:"asc"}})});if(w.ok){const S=(yield w.json()).message||[],N=[];for(const R of S)try{const A=yield fetch(`/api/resource/project_phase/${R.name}`,{headers:{Accept:"application/json"}});if(A.ok){const C=yield A.json(),k=((g=C.data)==null?void 0:g.tasks)||[],D=k.findIndex(M=>M.task===e.name);D>=0&&(console.log(`Found task ${e.name} in phase ${R.name}, will remove from child table...`),k.splice(D,1),N.push({name:R.name,data:oe(z({},C.data),{tasks:k})}))}else console.warn("Failed to fetch phase:",R.name)}catch(A){console.error("Error fetching phase:",R.name,A)}for(const R of N)try{(yield fetch(`/api/resource/project_phase/${R.name}`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(R.data)})).ok?console.log(`Successfully removed task ${e.name} from phase ${R.name}`):console.warn(`Failed to update phase ${R.name} after removing task`)}catch(A){console.error(`Error updating phase ${R.name}:`,A)}}else console.warn("Failed to fetch phases list, proceeding with task deletion...")}catch(w){console.warn("Error checking phases for task references:",w)}yield a("Task",e.name),console.log(`Successfully deleted task ${e.name}`),s&&s(),n()}catch(x){console.error("Error deleting task:",x),(b=x==null?void 0:x.exception)!=null&&b.includes("LinkExistsError")?x.exception.includes("project_phase")||x.exception.includes("phase")?alert("Cannot delete task because it is still linked with project phases. The system tried to remove phase task links automatically but failed. Please contact administrator."):x.exception.includes("SubTask")?alert("Cannot delete task because it has linked subtasks. Please delete all subtasks first."):alert("Cannot delete task because it has linked dependencies. Please check related records."):alert("Error deleting task. Please try again.")}finally{f(!1)}}}),p=()=>{n()};return c.jsx(ys,{open:t,onOpenChange:n,children:c.jsxs(bs,{className:"sm:max-w-[400px]",children:[c.jsx(vs,{children:c.jsxs(_s,{className:"flex items-center gap-2 text-red-600",children:[c.jsx(um,{className:"h-5 w-5"}),"Delete Task"]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this task? This action cannot be undone."}),e&&c.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[c.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),c.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),c.jsxs("div",{className:"text-sm text-gray-600",children:["Priority: ",e.priority||"Medium"]}),c.jsxs("div",{className:"text-sm text-gray-600",children:["Progress: ",e.progress||0,"%"]}),e.project&&c.jsxs("div",{className:"text-sm text-blue-600",children:["Project: ",e.project]})]}),c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[c.jsxs("div",{className:"text-sm text-red-800",children:[c.jsx("strong",{children:"⚠️ Warning:"})," Deleting this task will automatically:"]}),c.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Delete ALL subtasks first"})," (to resolve SubTask dependencies)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Remove task from ALL phase child tables"})," (for any phases this task is assigned to)"]}),c.jsx("li",{children:"Remove all task progress data"}),c.jsx("li",{children:"Delete task timeline and activities"}),c.jsx("li",{children:"Remove related comments and attachments"})]}),c.jsx("div",{className:"text-xs text-red-600 mt-2 font-medium",children:"💡 The system will automatically search and handle ALL dependencies to prevent LinkExistsError."})]}),l&&c.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:c.jsxs("p",{children:[c.jsx("strong",{children:"Error:"})," ",l.message||"Failed to delete task"]})})]}),c.jsxs(ws,{className:"flex gap-2",children:[c.jsx(Ye,{type:"button",variant:"outline",onClick:p,disabled:u,children:"Cancel"}),c.jsx(Ye,{type:"button",variant:"destructive",onClick:h,disabled:u||i,children:u?"Deleting Task & SubTasks...":i?"Deleting...":"Delete Task"})]})]})})};class tb{static useProjectProgressFromPhases(){const{updateDoc:t}=qs();return{calculateAndUpdateProjectProgressFromPhases:s=>ye(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","progress"],filters:[["project","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=(yield a.json()).message||[];if(!l||l.length===0){const{calculateAndUpdateProjectProgressFromTasks:h}=tb.useProjectProgressFromTasks();return yield h(s)}let u=0;l.forEach(h=>{u+=h.progress||0});const f=Math.round(u/l.length);return yield t("Project",s,{percent_complete:f}),f}catch(a){return console.error("Error calculating project progress from phases:",a),null}})}}static useProjectProgressFromTasks(){const{updateDoc:t}=qs();return{calculateAndUpdateProjectProgressFromTasks:s=>ye(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["project","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=(yield a.json()).message||[];if(!l||l.length===0)return yield t("Project",s,{percent_complete:0}),0;let u=0;l.forEach(h=>{u+=h.progress||0});const f=Math.round(u/l.length);return yield t("Project",s,{percent_complete:f}),f}catch(a){return console.error("Error calculating project progress from tasks:",a),null}})}}static useProjectProgressCalculation(){const{updateDoc:t}=qs();return{calculateAndUpdateProjectProgress:s=>ye(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","progress"],filters:[["project","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=(yield a.json()).message||[];if(l&&l.length>0){let u=0;l.forEach(h=>{u+=h.progress||0});const f=Math.round(u/l.length);return yield t("Project",s,{percent_complete:f}),{progress:f,source:"phases",count:l.length}}else{const u=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["project","=",s]]})});if(!u.ok)throw new Error(`HTTP error! status: ${u.status}`);const h=(yield u.json()).message||[];if(!h||h.length===0)return yield t("Project",s,{percent_complete:0}),{progress:0,source:"none",count:0};let p=0;h.forEach(b=>{p+=b.progress||0});const g=Math.round(p/h.length);return yield t("Project",s,{percent_complete:g}),{progress:g,source:"tasks",count:h.length}}}catch(a){return console.error("Error calculating project progress:",a),null}})}}static useProjectStatusProgressUpdate(){const{updateDoc:t}=qs();return{updateProjectProgressByStatus:(s,a,i)=>ye(null,null,function*(){try{let l=i||0;switch(a){case"Completed":l=100;break;case"Cancelled":case"Rejected":l=0;break;default:break}return yield t("Project",s,{status:a,percent_complete:l}),l}catch(l){return console.error("Error updating project progress by status:",l),null}})}}}const{useProjectProgressCalculation:r7}=tb,nb=()=>{const{calculateAndUpdatePhaseProgress:e}=OC(),{calculateAndUpdateProjectProgress:t}=r7();return{updatePhaseProgressForTask:(a,i)=>ye(null,null,function*(){try{const l=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","tasks"],filters:[["project","=",i]]})});if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);const h=((yield l.json()).message||[]).filter(p=>p.tasks&&p.tasks.some(g=>g.task===a));for(const p of h)console.log(`Updating progress for phase ${p.name} after task ${a} change`),yield e(p.name);return console.log(`Updating overall project progress for ${i} after task ${a} change`),yield t(i),console.log(`Updated progress for ${h.length} phases and project ${i} affected by task ${a}`),h}catch(l){return console.error("Error updating phase progress for task:",l),[]}}),updateProjectProgress:a=>ye(null,null,function*(){try{console.log(`Updating overall project progress for ${a}`);const i=yield t(a);return i&&console.log(`Project ${a} progress updated to ${i.progress}% from ${i.source} (${i.count} items)`),i}catch(i){return console.error("Error updating project progress:",i),null}})}},a7=({task:e,projectName:t,onBack:n,onViewSubTaskDetails:s,onTaskUpdated:a,onTaskDeleted:i})=>{const[l,u]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!1),{updatePhaseProgressForTask:b}=nb(),{calculateAndUpdateTaskProgress:x}=pd(),{data:w,isLoading:_,mutate:S}=Dt("SubTask",{fields:["name","subject","task","status","progress","start_date","end_date","description"],filters:[["task","=",e.name]],orderBy:{field:"start_date",order:"asc"},limit:0}),{data:N}=Dt("ToDo",{fields:["name","allocated_to","status"],filters:[["reference_type","=","Task"],["reference_name","=",e.name]],limit:1}),R=N&&N.length>0?N[0].allocated_to:null,{data:A}=On("User",R||void 0,{fields:["name","full_name","email","user_image"]}),C=W=>W?new Date(W).toLocaleDateString():"N/A",k=W=>{switch(W){case"Completed":return c.jsx(lm,{className:"h-5 w-5 text-green-600"});case"Working":return c.jsx(nc,{className:"h-5 w-5 text-yellow-600"});case"Open":return c.jsx(Ro,{className:"h-5 w-5 text-blue-600"});default:return c.jsx(Ro,{className:"h-5 w-5 text-gray-400"})}},D=W=>{switch(W){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},M=W=>{switch(W){case"Urgent":return"bg-red-100 text-red-800 border-red-200";case"High":return"bg-orange-100 text-orange-800 border-orange-200";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},E=()=>{a&&a(),b(e.name,t).catch(console.error)},P=()=>{i&&i(),b(e.name,t).catch(console.error),n()},K=({subtask:W})=>{var J;const{data:Y}=Dt("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(W==null?void 0:W.name)||""]]}),q=(J=Y==null?void 0:Y[0])==null?void 0:J.allocated_to;return c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("span",{children:q})})};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(Ye,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-2",children:[c.jsx(Kx,{className:"h-4 w-4"}),"Back to Tasks"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(Ye,{variant:"outline",size:"sm",onClick:()=>h(!0),className:"flex items-center gap-2",children:[c.jsx(ql,{className:"h-4 w-4"}),"Edit Task"]}),c.jsxs(Ye,{variant:"outline",size:"sm",onClick:()=>g(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[c.jsx(Ql,{className:"h-4 w-4"}),"Delete Task"]})]})]}),c.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 border border-orange-200 rounded-xl p-6",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("div",{className:"h-12 w-12 rounded-lg bg-orange-500 flex items-center justify-center",children:c.jsx("span",{className:"text-xl",children:"📝"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.subject}),c.jsx("p",{className:"text-sm text-gray-600",children:"Task Details"})]})]}),e.description&&c.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.description})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${D(e.status||"Open")}`,children:[k(e.status||"Open"),c.jsx("span",{className:"font-medium",children:e.status||"Open"})]}),e.priority&&c.jsx("div",{className:`px-3 py-1 rounded-full border ${M(e.priority)}`,children:c.jsx("span",{className:"text-sm font-medium",children:e.priority})})]})]}),c.jsxs("div",{className:"mt-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Task Progress"}),c.jsxs("span",{className:"text-lg font-bold text-orange-600",children:[e.progress||0,"%"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:c.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-yellow-600 h-3 rounded-full transition-all duration-500",style:{width:`${e.progress||0}%`}})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:c.jsx($r,{className:"h-6 w-6 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),c.jsx("p",{className:"text-lg font-bold text-gray-900",children:C(e.exp_start_date)})]})]})}),c.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:c.jsx(Jx,{className:"h-6 w-6 text-purple-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),c.jsx("p",{className:"text-lg font-bold text-gray-900",children:C(e.exp_end_date)})]})]})}),c.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:c.jsx(Rh,{className:"h-6 w-6 text-green-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Assigned To"}),N&&N.length>0?c.jsxs("div",{children:[c.jsx("p",{className:"text-lg font-bold text-gray-900",children:(A==null?void 0:A.full_name)||R}),(A==null?void 0:A.email)&&c.jsx("p",{className:"text-sm text-gray-600",children:A.email})]}):c.jsx("p",{className:"text-lg font-bold text-gray-900",children:"Unassigned"})]})]})})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Task Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Task ID"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:e.name})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),c.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${D(e.status||"Open")}`,children:[k(e.status||"Open"),c.jsx("span",{className:"font-medium",children:e.status||"Open"})]})]}),c.jsxs("div",{className:"flex items-center justify-between py-3",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),c.jsx("div",{className:`px-3 py-1 rounded-full ${M(e.priority||"Medium")}`,children:c.jsx("span",{className:"font-medium",children:e.priority||"Medium"})})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Subtasks Count"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:(w==null?void 0:w.length)||0})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:e.exp_start_date&&e.exp_end_date?`${Math.ceil((new Date(e.exp_end_date).getTime()-new Date(e.exp_start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Progress"}),c.jsxs("span",{className:"text-xl font-bold text-orange-600",children:[e.progress||0,"%"]})]}),c.jsxs("div",{className:"flex items-center justify-between py-3",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Assigned To"}),N&&N.length>0?c.jsx("div",{children:c.jsx("p",{className:"text-lg font-bold text-gray-900",children:(A==null?void 0:A.full_name)||R})}):c.jsx("p",{className:"text-lg font-bold text-gray-900",children:"Unassigned"})]})]})]})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsx("div",{className:"flex items-center justify-between mb-6",children:c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"SubTasks"})}),_?c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"})]}):c.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[c.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:c.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3",children:[c.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700",children:"#"}),c.jsx("div",{className:"col-span-5 text-sm font-medium text-gray-700",children:"SubTask"}),c.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Status"}),c.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Assign To"}),c.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Actions"})]})}),c.jsxs("div",{className:"divide-y divide-gray-100",children:[w&&w.length>0?w.map((W,Y)=>c.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[c.jsx("div",{className:"col-span-1 flex items-center",children:c.jsx("span",{className:"text-sm text-gray-600",children:Y+1})}),c.jsxs("div",{className:"col-span-5 flex items-center gap-3",children:[c.jsx("div",{className:"p-1 bg-green-100 rounded",children:c.jsx("span",{className:"text-sm",children:"✅"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:W.subject||W.name}),c.jsx("div",{className:"text-sm text-gray-500",children:W.name})]})]}),c.jsx("div",{className:"col-span-2 flex items-center justify-center",children:c.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${D(W.status||"Open")}`,children:W.status||"Open"})}),c.jsx("div",{className:"col-span-2 flex items-center justify-center",children:c.jsx(K,{subtask:W})}),c.jsx("div",{className:"col-span-2 flex items-center justify-center",children:s&&c.jsx(Ye,{variant:"outline",size:"sm",onClick:()=>s(W),className:"h-7 px-2 text-xs",children:"View Details"})})]},W.name)):c.jsxs("div",{className:"px-6 py-8 text-center text-gray-500",children:[c.jsx("div",{className:"text-4xl mb-2",children:"✅"}),c.jsx("div",{className:"text-lg font-medium mb-1",children:"No subtasks yet"}),c.jsx("div",{className:"text-sm",children:'Click "Add SubTask" to create the first subtask for this task'})]}),c.jsx("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 bg-gray-50 border-t border-gray-200",children:c.jsx("div",{className:"col-span-12 flex items-center justify-center",children:c.jsxs(Ye,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",onClick:()=>u(!0),children:[c.jsx(Mo,{className:"h-4 w-4"}),"Add new subtask to this task"]})})})]})]})]}),c.jsx(t7,{isOpen:l,onClose:()=>u(!1),projectName:t,parentTask:e.name,onSuccess:()=>ye(null,null,function*(){console.log("SubTask created successfully for task:",e.name),S(),setTimeout(()=>ye(null,null,function*(){console.log("Recalculating task progress after subtask creation..."),yield x(e.name),setTimeout(()=>ye(null,null,function*(){console.log("Updating phase progress after task progress update..."),yield b(e.name,t)}),500)}),500)})}),c.jsx(n7,{task:e,projectName:t,isOpen:f,onClose:()=>h(!1),onSuccess:E}),c.jsx(s7,{task:e,isOpen:p,onClose:()=>g(!1),onSuccess:P})]})},i7=({subtask:e,projectName:t,isOpen:n,onClose:s,onSuccess:a})=>{var C;const{updateSubTask:i,isLoading:l,error:u}=AC(),{assignSubTask:f,unassignSubTask:h}=eb(),{calculateAndUpdateTaskProgress:p}=pd(),{data:g,isLoading:b}=hc(t),{data:x}=Dt("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(e==null?void 0:e.name)||""]]}),[w,_]=j.useState({subject:"",status:"Open",start_date:"",end_date:"",description:"",assign_to:""}),S=((C=x==null?void 0:x[0])==null?void 0:C.allocated_to)||"";j.useEffect(()=>{e&&_({subject:e.subject||"",status:e.status||"Open",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",description:e.description||"",assign_to:S})},[e,S]);const N=(k,D)=>{_(M=>oe(z({},M),{[k]:D}))},R=k=>ye(null,null,function*(){if(k.preventDefault(),!!e)try{const D=w,{assign_to:M}=D,E=ke(D,["assign_to"]);yield i(e.name,E);const P=S,K=M;if(P&&P!==K){const W=x==null?void 0:x.find(Y=>Y.allocated_to===P);W&&(yield h(W.name))}K&&K!==P&&(yield f(e.name,K)),e.task&&E.status!==e.status&&(yield p(e.task)),a&&a(),s()}catch(M){console.error("Error updating subtask:",M)}}),A=()=>{e&&_({subject:e.subject||"",status:e.status||"Open",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",description:e.description||"",assign_to:S}),s()};return c.jsx(ys,{open:n,onOpenChange:s,children:c.jsxs(bs,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[c.jsx(vs,{children:c.jsx(_s,{children:"Edit SubTask"})}),c.jsxs("form",{onSubmit:R,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"subject",children:"Subject *"}),c.jsx(Ft,{id:"subject",value:w.subject,onChange:k=>N("subject",k.target.value),required:!0,placeholder:"Enter subtask subject"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"status",children:"Status"}),c.jsxs("select",{id:"status",value:w.status,onChange:k=>N("status",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"Open",children:"Open"}),c.jsx("option",{value:"Working",children:"Working"}),c.jsx("option",{value:"Pending Review",children:"Pending Review"}),c.jsx("option",{value:"Completed",children:"Completed"}),c.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"start_date",children:"Start Date"}),c.jsx(Ft,{id:"start_date",type:"date",value:w.start_date,onChange:k=>N("start_date",k.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"end_date",children:"End Date"}),c.jsx(Ft,{id:"end_date",type:"date",value:w.end_date,onChange:k=>N("end_date",k.target.value)})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"description",children:"Description"}),c.jsx("textarea",{id:"description",value:w.description,onChange:k=>N("description",k.target.value),placeholder:"Enter subtask description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"assign_to",children:"Assign To"}),c.jsxs("select",{id:"assign_to",value:w.assign_to,onChange:k=>N("assign_to",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:b,children:[c.jsx("option",{value:"",children:"Select user..."}),g==null?void 0:g.map(k=>c.jsx("option",{value:k.user||k.name,children:k.user||k.name},k.name))]}),b&&c.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),u&&c.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:c.jsxs("p",{children:[c.jsx("strong",{children:"Error:"})," ",u.message||"Failed to update subtask"]})}),c.jsxs(ws,{className:"flex gap-2",children:[c.jsx(Ye,{type:"button",variant:"outline",onClick:A,children:"Cancel"}),c.jsx(Ye,{type:"submit",disabled:l,children:l?"Updating...":"Update SubTask"})]})]})]})})},o7=({subtask:e,isOpen:t,onClose:n,onSuccess:s})=>{const{call:a,loading:i,error:l}=xs("frappe.client.delete"),{calculateAndUpdateTaskProgress:u}=pd(),f=()=>ye(null,null,function*(){if(e)try{if(yield a({doctype:"SubTask",name:e.name}),e.task)try{yield u(e.task)}catch(p){console.error("Error updating task progress after subtask deletion:",p)}s&&s(),n()}catch(p){console.error("Error deleting subtask:",p)}}),h=()=>{n()};return c.jsx(ys,{open:t,onOpenChange:n,children:c.jsxs(bs,{className:"sm:max-w-[400px]",children:[c.jsx(vs,{children:c.jsxs(_s,{className:"flex items-center gap-2 text-red-600",children:[c.jsx(um,{className:"h-5 w-5"}),"Delete SubTask"]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this subtask? This action cannot be undone."}),e&&c.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[c.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),c.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),c.jsxs("div",{className:"text-sm text-gray-600",children:["Progress: ",e.progress||0,"%"]}),c.jsxs("div",{className:"text-sm text-gray-600",children:["Task: ",e.task]})]}),c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[c.jsxs("div",{className:"text-sm text-red-800",children:[c.jsx("strong",{children:"Warning:"})," Deleting this subtask will also remove:"]}),c.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[c.jsx("li",{children:"All subtask progress data"}),c.jsx("li",{children:"Subtask timeline and activities"}),c.jsx("li",{children:"Related comments and attachments"}),c.jsx("li",{children:"Any associated time logs"})]})]}),l&&c.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:c.jsxs("p",{children:[c.jsx("strong",{children:"Error:"})," ",l.message||"Failed to delete subtask"]})})]}),c.jsxs(ws,{className:"flex gap-2",children:[c.jsx(Ye,{type:"button",variant:"outline",onClick:h,children:"Cancel"}),c.jsx(Ye,{type:"button",variant:"destructive",onClick:f,disabled:i,children:i?"Deleting...":"Delete SubTask"})]})]})})},l7=({subtask:e,projectName:t,onBack:n,onSubTaskUpdated:s,onSubTaskDeleted:a})=>{var A;const[i,l]=j.useState(!1),[u,f]=j.useState(!1),{calculateAndUpdateTaskProgress:h}=pd(),{updatePhaseProgressForTask:p}=nb(),{data:g}=Dt("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(e==null?void 0:e.name)||""]]}),b=(A=g==null?void 0:g[0])==null?void 0:A.allocated_to,{data:x}=On("User",b||"",{shouldFetch:!!b}),w=C=>C?new Date(C).toLocaleDateString():"N/A",_=C=>{switch(C){case"Completed":return c.jsx(lm,{className:"h-5 w-5 text-green-600"});case"Working":return c.jsx(nc,{className:"h-5 w-5 text-yellow-600"});case"Open":return c.jsx(Ro,{className:"h-5 w-5 text-blue-600"});default:return c.jsx(Ro,{className:"h-5 w-5 text-gray-400"})}},S=C=>{switch(C){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},N=()=>ye(null,null,function*(){if(e!=null&&e.task)try{yield h(e.task),setTimeout(()=>ye(null,null,function*(){try{yield p(e.task,t),console.log("Phase progress updated after subtask edit")}catch(C){console.error("Error updating phase progress after subtask edit:",C)}}),500)}catch(C){console.error("Error updating task progress after subtask edit:",C)}s&&s()}),R=()=>ye(null,null,function*(){if(e!=null&&e.task)try{yield h(e.task),setTimeout(()=>ye(null,null,function*(){try{yield p(e.task,t),console.log("Phase progress updated after subtask delete")}catch(C){console.error("Error updating phase progress after subtask delete:",C)}}),500)}catch(C){console.error("Error updating task progress after subtask delete:",C)}a&&a(),n()});return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(Ye,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-2",children:[c.jsx(Kx,{className:"h-4 w-4"}),"Back to Tasks"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(Ye,{variant:"outline",size:"sm",onClick:()=>l(!0),className:"flex items-center gap-2",children:[c.jsx(ql,{className:"h-4 w-4"}),"Edit SubTask"]}),c.jsxs(Ye,{variant:"outline",size:"sm",onClick:()=>f(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[c.jsx(Ql,{className:"h-4 w-4"}),"Delete SubTask"]})]})]}),c.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-6",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("div",{className:"h-12 w-12 rounded-lg bg-green-500 flex items-center justify-center",children:c.jsx("span",{className:"text-xl",children:"✅"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.subject}),c.jsx("p",{className:"text-sm text-gray-600",children:"SubTask Details"})]})]}),e.description&&c.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.description})]}),c.jsx("div",{className:"flex items-center gap-3",children:c.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${S(e.status||"Open")}`,children:[_(e.status||"Open"),c.jsx("span",{className:"font-medium",children:e.status||"Open"})]})})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:c.jsx($r,{className:"h-6 w-6 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),c.jsx("p",{className:"text-lg font-bold text-gray-900",children:w(e.start_date)})]})]})}),c.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:c.jsx(Jx,{className:"h-6 w-6 text-purple-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),c.jsx("p",{className:"text-lg font-bold text-gray-900",children:w(e.end_date)})]})]})}),c.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-6",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:c.jsx(r2,{className:"h-6 w-6 text-orange-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-orange-600 uppercase tracking-wide",children:"Parent Task"}),c.jsx("p",{className:"text-lg font-bold text-gray-900",children:e.task||"N/A"})]})]})})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"SubTask Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"SubTask ID"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:e.name})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Parent Task"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:e.task||"N/A"})]}),c.jsxs("div",{className:"flex items-center justify-between py-3",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),c.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${S(e.status||"Open")}`,children:[_(e.status||"Open"),c.jsx("span",{className:"font-medium",children:e.status||"Open"})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Start Date"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:w(e.start_date)})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"End Date"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:w(e.end_date)})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:e.start_date&&e.end_date?`${Math.ceil((new Date(e.end_date).getTime()-new Date(e.start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-t border-gray-100",children:[c.jsxs("span",{className:"text-gray-600 font-medium flex items-center gap-2",children:[c.jsx(Rh,{className:"h-4 w-4"}),"Assigned To"]}),c.jsx("span",{className:"text-gray-900 font-semibold",children:b?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{children:(x==null?void 0:x.full_name)||b}),(x==null?void 0:x.user_image)&&c.jsx("img",{src:x.user_image,alt:x.full_name||b,className:"h-6 w-6 rounded-full"})]}):c.jsx("span",{className:"text-gray-400",children:"Not assigned"})})]})]})]})]}),e.description&&c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Description"}),c.jsx("div",{className:"prose max-w-none",children:c.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:e.description})})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Activity Timeline"}),c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx("div",{className:"text-4xl mb-2",children:"📋"}),c.jsx("div",{className:"text-lg font-medium mb-1",children:"No activity yet"}),c.jsx("div",{className:"text-sm",children:"Activity and updates will appear here when available"})]})]}),c.jsx(i7,{subtask:e,projectName:t,isOpen:i,onClose:()=>l(!1),onSuccess:N}),c.jsx(o7,{subtask:e,isOpen:u,onClose:()=>f(!1),onSuccess:R})]})},To=class To{static useUserProjects(){const{currentUser:t}=qa(),{data:n,isLoading:s,error:a,mutate:i}=Dt("Project",{fields:To.PROJECT_FIELDS,filters:t?[["owner","=",t]]:[]}),{data:l,isLoading:u,error:f,mutate:h}=Dt("Project",{fields:To.PROJECT_FIELDS,limit:0}),p=se.useMemo(()=>{if(!t)return[];const b=w=>{const _=new Map;return w.forEach(S=>{var R;const N=S.name;if(!_.has(N)){const A={name:S.name,owner:S.owner,project_name:S.project_name,project_type:S.project_type,status:S.status,customer:S.customer,expected_start_date:S.expected_start_date,expected_end_date:S.expected_end_date,percent_complete:S.percent_complete,priority:S.priority,department:S.department,estimated_costing:S.estimated_costing,total_billable_amount:S.total_billable_amount,company:S.company,users:[]};_.set(N,A)}if(S.user){const A=_.get(N);((R=A.users)==null?void 0:R.some(k=>k.user===S.user))||(A.users=A.users||[],A.users.push({user:S.user,email:S.email,full_name:S.full_name,project_status:S.project_status}))}}),Array.from(_.values())};let x=[];if(n&&n.length>0&&(x=x.concat(n)),l&&l.length>0){const w=l.filter(_=>_.owner===t||_.user&&_.user===t);x=x.concat(w)}return b(x)},[n,l,t]),g=se.useCallback(()=>{i(),h()},[i,h]);return{data:p,isLoading:s||u,error:a&&f?a||f:null,mutate:g}}static useProject(t){const{data:n,isLoading:s,error:a,mutate:i}=On("Project",t||"",t?"Project":void 0);return{data:n,isLoading:s,error:a,mutate:i}}static useProjectOwner(t){const{data:n,isLoading:s,error:a}=On("User",t||"",t?void 0:null);return{data:n,isLoading:s,error:a}}static useCreateProject(){const{createDoc:t,loading:n,error:s}=Fi();return{createProject:i=>ye(null,null,function*(){return yield t("Project",oe(z({},i),{expected_start_date:i.expected_start_date||void 0,expected_end_date:i.expected_end_date||void 0}))}),isLoading:n,error:s}}static useUpdateProject(){const{updateDoc:t,loading:n,error:s}=qs();return{updateProject:(i,l)=>ye(null,null,function*(){return yield t("Project",i,oe(z({},l),{expected_start_date:l.expected_start_date||void 0,expected_end_date:l.expected_end_date||void 0}))}),isLoading:n,error:s}}static useDeleteProject(){const{call:t,loading:n,error:s}=xs("frappe.client.delete");return{deleteProject:i=>ye(null,null,function*(){return yield t({doctype:"Project",name:i})}),isLoading:n,error:s}}static useProjectMembers(){const{call:t}=xs("frappe.client.insert"),{call:n}=xs("frappe.client.save"),{call:s}=xs("frappe.client.delete");return{addMember:u=>ye(null,null,function*(){return yield t({doc:oe(z({doctype:"Project User"},u),{welcome_email_sent:1})})}),updateMember:(u,f)=>ye(null,null,function*(){return yield n({doc:z({doctype:"Project User",name:u},f)})}),removeMember:u=>ye(null,null,function*(){return yield s({doctype:"Project User",name:u})})}}static useProjectOwnerManagement(){const{call:t}=xs("frappe.client.save"),{call:n}=xs("frappe.client.set_value");return{transferOwner:(i,l)=>ye(null,null,function*(){try{return yield t({doc:{doctype:"Project",name:i,owner:l}}),{success:!0,method:"save"}}catch(u){try{return yield n({doctype:"Project",name:i,fieldname:"owner",value:l}),{success:!0,method:"set_value"}}catch(f){throw new Error("Owner field is protected by ERPNext")}}}),transferOwnerWithAPI:(i,l)=>ye(null,null,function*(){try{const u=yield fetch("/api/method/my_app.api.project_transfer.transfer_project_owner",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({project_name:i,new_owner:l})}),f=yield u.json();return u.ok&&f.message?{success:!0,data:f.message}:{success:!1,error:f.message||"Transfer failed"}}catch(u){return{success:!1,error:u instanceof Error?u.message:"Unknown error"}}})}}static useProjectUsers(t){const{data:n,isLoading:s,error:a,mutate:i}=On("Project",t,{fields:["name","users"]});return{data:(n==null?void 0:n.users)||[],isLoading:s,error:a,mutate:i}}static useProjectUsersAlt(t){const{data:n,isLoading:s,error:a,mutate:i}=Dt("Project User",{fields:["name","user","email","full_name","image"],filters:[["parent","=",t]],limit:0});return{data:n||[],isLoading:s,error:a,mutate:i}}};ft(To,"PROJECT_FIELDS",["name","owner","project_name","project_type","status","customer","department","expected_start_date","expected_end_date","percent_complete","priority","estimated_costing","total_billable_amount","company","users.user","users.email","users.full_name","users.project_status"]),ft(To,"DETAILED_PROJECT_FIELDS",[...To.PROJECT_FIELDS,"creation","modified","modified_by","description","notes","expected_start_date","actual_start_date","actual_end_date","total_costing_amount","total_purchase_cost","total_sales_amount","total_billed_amount","users"]);let ed=To;const c7=ed.useUserProjects,u7=ed.useCreateProject,d7=ed.useUpdateProject;class f7{static useProjectCascadeDelete(){const{call:t}=xs("frappe.client.delete"),{call:n}=xs("frappe.client.get_list");return{deleteProjectCascade:a=>ye(null,null,function*(){try{console.log(`Starting cascade delete for project: ${a}`);try{const x=yield n({doctype:"Project",fields:["name"],filters:[["name","=",a]],limit_page_length:1});if(!(x!=null&&x.message)||x.message.length===0)throw new Error(`Project ${a} not found`)}catch(x){throw console.error("Project validation failed:",x),new Error(`Project validation failed: ${x instanceof Error?x.message:"Unknown validation error"}`)}let i=0,l=0,u=0;console.log("Step 1: Fetching all tasks...");let f=[];try{const x=yield n({doctype:"Task",fields:["name"],filters:[["project","=",a]],limit_page_length:1e3});f=(x==null?void 0:x.message)||[],console.log(`Found ${f.length} tasks to delete`)}catch(x){console.error("Error fetching tasks:",x),console.log("Continuing with deletion despite task fetch error...")}if(f.length>0){console.log(`Step 2: Processing ${f.length} tasks for subtask deletion...`);for(const x of f){console.log(`Step 2: Deleting subtasks for task ${x.name}...`);try{const w=yield n({doctype:"SubTask",fields:["name"],filters:[["task","=",x.name]],limit_page_length:1e3}),_=(w==null?void 0:w.message)||[];console.log(`Found ${_.length} subtasks for task ${x.name}`);for(const S of _)try{console.log(`Deleting subtask: ${S.name}`),yield t({doctype:"SubTask",name:S.name}),i++,console.log(`Successfully deleted subtask: ${S.name}`),yield new Promise(N=>setTimeout(N,100))}catch(N){console.error(`Error deleting subtask ${S.name}:`,N)}}catch(w){console.error(`Error fetching subtasks for task ${x.name}:`,w)}}yield new Promise(x=>setTimeout(x,500))}if(f.length>0){console.log(`Step 3: Deleting ${f.length} tasks...`);for(const x of f)try{console.log(`Deleting task: ${x.name}`),yield t({doctype:"Task",name:x.name}),l++,console.log(`Successfully deleted task: ${x.name}`),yield new Promise(w=>setTimeout(w,100))}catch(w){console.error(`Error deleting task ${x.name}:`,w)}yield new Promise(x=>setTimeout(x,500))}console.log("Step 4: Deleting all phases...");let h=[];try{const x=yield n({doctype:"project_phase",fields:["name"],filters:[["project","=",a]],limit_page_length:1e3});h=(x==null?void 0:x.message)||[],console.log(`Found ${h.length} phases to delete`)}catch(x){console.error("Error fetching phases:",x),console.log("Continuing with deletion despite phase fetch error...")}for(const x of h)try{console.log(`Deleting phase: ${x.name}`),yield t({doctype:"project_phase",name:x.name}),u++,console.log(`Successfully deleted phase: ${x.name}`),yield new Promise(w=>setTimeout(w,100))}catch(w){console.error(`Error deleting phase ${x.name}:`,w)}h.length>0&&(yield new Promise(x=>setTimeout(x,500))),console.log("Step 5: Deleting ToDo assignments...");try{const x=yield n({doctype:"ToDo",fields:["name"],filters:[["reference_type","in",["Project","Task","SubTask"]],["reference_name","like",`%${a}%`]],limit_page_length:1e3}),w=(x==null?void 0:x.message)||[];console.log(`Found ${w.length} ToDo assignments to delete`);for(const _ of w)try{yield t({doctype:"ToDo",name:_.name})}catch(S){console.error(`Error deleting ToDo ${_.name}:`,S)}}catch(x){console.error("Error fetching/deleting ToDo assignments:",x)}console.log("Step 6: Deleting project users...");try{const x=yield n({doctype:"Project User",fields:["name"],filters:[["parent","=",a]],limit_page_length:1e3}),w=(x==null?void 0:x.message)||[];console.log(`Found ${w.length} project users to delete`);for(const _ of w)try{yield t({doctype:"Project User",name:_.name})}catch(S){console.error(`Error deleting Project User ${_.name}:`,S)}}catch(x){console.error("Error fetching/deleting project users:",x)}console.log("Step 6.5: Performing comprehensive dependency cleanup...");const p=[{doctype:"Task",filter:[["project","=",a]]},{doctype:"SubTask",filter:[["project","=",a]]},{doctype:"project_phase",filter:[["project","=",a]]},{doctype:"Project User",filter:[["parent","=",a]]},{doctype:"ToDo",filter:[["reference_type","=","Project"],["reference_name","=",a]]},{doctype:"ToDo",filter:[["reference_type","=","Task"],["reference_name","like",`%${a}%`]]},{doctype:"Communication",filter:[["reference_doctype","=","Project"],["reference_name","=",a]]},{doctype:"File",filter:[["attached_to_doctype","=","Project"],["attached_to_name","=",a]]},{doctype:"Comment",filter:[["reference_doctype","=","Project"],["reference_name","=",a]]}];for(const x of p)try{console.log(`Checking for remaining ${x.doctype} dependencies...`);const w=yield n({doctype:x.doctype,fields:["name"],filters:x.filter,limit_page_length:1e3}),_=(w==null?void 0:w.message)||[];if(_.length>0){console.log(`Found ${_.length} remaining ${x.doctype} items, deleting them...`);for(const S of _)try{yield t({doctype:x.doctype,name:S.name}),console.log(`Deleted remaining ${x.doctype}: ${S.name}`),yield new Promise(N=>setTimeout(N,100))}catch(N){console.error(`Error deleting remaining ${x.doctype} ${S.name}:`,N)}}else console.log(`No remaining ${x.doctype} dependencies found.`)}catch(w){console.error(`Error checking ${x.doctype} dependencies:`,w)}yield new Promise(x=>setTimeout(x,1e3)),console.log("Step 7: Deleting the project..."),yield new Promise(x=>setTimeout(x,1e3));let g=0;const b=3;for(;g<b;)try{g++,console.log(`Attempting to delete project ${a} (attempt ${g}/${b})`),yield t({doctype:"Project",name:a}),console.log(`Verifying project ${a} deletion...`);try{const x=yield n({doctype:"Project",fields:["name"],filters:[["name","=",a]],limit_page_length:1});if(x!=null&&x.message&&x.message.length>0)throw new Error("Project still exists after deletion attempt");console.log(`Successfully verified project ${a} deletion`)}catch(x){if(x.message==="Project still exists after deletion attempt")throw x;console.log(`Project ${a} not found during verification - deletion successful`)}console.log(`Successfully deleted project: ${a}`);break}catch(x){if(console.error(`Error deleting project ${a} (attempt ${g}):`,x),g<b){console.log(`Waiting before retry attempt ${g+1}...`),yield new Promise(w=>setTimeout(w,2e3)),console.log("Attempting to clean up remaining dependencies...");try{const w=yield n({doctype:"Project User",fields:["name"],filters:[["parent","=",a]],limit_page_length:1e3}),_=(w==null?void 0:w.message)||[];if(_.length>0){console.log(`Found ${_.length} remaining project users, deleting them...`);for(const S of _)try{yield t({doctype:"Project User",name:S.name}),console.log(`Deleted remaining project user: ${S.name}`)}catch(N){console.error(`Error deleting remaining project user ${S.name}:`,N)}}}catch(w){console.error("Error during dependency cleanup:",w)}try{const w=yield n({doctype:"ToDo",fields:["name"],filters:[["reference_type","=","Project"],["reference_name","=",a]],limit_page_length:1e3}),_=(w==null?void 0:w.message)||[];if(_.length>0){console.log(`Found ${_.length} remaining todos, deleting them...`);for(const S of _)try{yield t({doctype:"ToDo",name:S.name}),console.log(`Deleted remaining todo: ${S.name}`)}catch(N){console.error(`Error deleting remaining todo ${S.name}:`,N)}}}catch(w){console.error("Error during todo cleanup:",w)}}else{let w="Unknown project deletion error";if(x&&typeof x=="object")if(console.error("Full project deletion error object:",JSON.stringify(x,null,2)),x.message)w=x.message;else if(x.exc)w=x.exc;else if(x._server_messages)try{const _=JSON.parse(x._server_messages);Array.isArray(_)&&_.length>0&&(w=JSON.parse(_[0]).message||w)}catch(_){console.error("Error parsing server messages:",_)}else w=JSON.stringify(x);else typeof x=="string"&&(w=x);throw new Error(`Failed to delete project ${a} after ${b} attempts: ${w}`)}}return console.log(`Successfully completed cascade delete for project: ${a}`),{success:!0,deletedItems:{subtasks:i,tasks:l,phases:u,project:1}}}catch(i){console.error("Error in cascade delete:",i);let l="Unknown error";throw i instanceof Error?l=i.message:typeof i=="string"?l=i:i&&typeof i=="object"&&(l=i.message||i.error||i.exc||JSON.stringify(i)),new Error(`Failed to delete project and related items: ${l}`)}})}}}const{useProjectCascadeDelete:h7}=f7;class sb{static useUserTodos(){const{data:t}=On("User","",{shouldFetch:!0}),{data:n,isLoading:s,error:a,mutate:i}=Dt("ToDo",{fields:["name","status","priority","date","allocated_to","description","reference_type","reference_name","assigned_by","assigned_by_full_name","creation","modified"],filters:[["allocated_to","=",(t==null?void 0:t.name)||""],["reference_type","=","Task"]],orderBy:{field:"creation",order:"desc"},limit:0},t!=null&&t.name?"user-todos":null);return{todos:n||[],isLoading:s,error:a,mutate:i,currentUser:t}}static useUserTodosEnriched(){const{data:t}=On("User","",{shouldFetch:!0}),{data:n,isLoading:s,error:a,mutate:i}=xD("todo.api.get_user_todos_with_task_info",{user:(t==null?void 0:t.name)||""},t!=null&&t.name?"user-todos-enriched":null,{revalidateOnFocus:!1,revalidateOnReconnect:!1});return{todos:(n==null?void 0:n.message)||[],isLoading:s,error:a,mutate:i,currentUser:t}}static useUserTodosWithTaskData(){const{todos:t,isLoading:n,error:s,mutate:a,currentUser:i}=sb.useUserTodos();return{todos:t.map(u=>(u.reference_type==="Task"&&u.reference_name,u)),isLoading:n,error:s,mutate:a,currentUser:i}}static useAllTodos(){const{data:t,isLoading:n,error:s}=Dt("ToDo",{fields:["name","status","priority","date","allocated_to","description","reference_type","reference_name","assigned_by"],filters:[["reference_type","in",["Task","SubTask"]]],limit:0});return{todos:t||[],isLoading:n,error:s}}}const m7=sb.useAllTodos;class p7{static useUserAssignedTasks(){const{currentUser:t}=qa(),{data:n,isLoading:s,error:a,mutate:i}=Dt("ToDo",{fields:["name","status","priority","date","allocated_to","description","reference_type","reference_name","assigned_by","assigned_by_full_name","creation","modified"],filters:[["allocated_to","=",t||""]],orderBy:{field:"creation",order:"desc"},limit:0},t?"user-assigned-todos":null),u=(n||[]).filter(J=>J.reference_type==="Task").map(J=>J.reference_name).filter(Boolean),h=(n||[]).filter(J=>J.reference_type==="SubTask").map(J=>J.reference_name).filter(Boolean),{data:p,isLoading:g,error:b,mutate:x}=Dt("Task",{fields:["name","subject","project","status","priority","type","expected_time","actual_time","exp_start_date","exp_end_date","progress","is_group","parent_task","description","company","department"],filters:u.length>0?[["name","in",u]]:[["name","=","nonexistent"]],limit:0},u.length>0?"user-assigned-tasks":null),{data:w,isLoading:_,error:S,mutate:N}=Dt("SubTask",{fields:["name","subject","task","status","start_date","end_date","description","assigned_to"],filters:h.length>0?[["name","in",h]]:[["name","=","nonexistent"]],limit:0},h.length>0?"user-assigned-subtasks":null),R=[...new Set((w||[]).map(J=>J.task).filter(Boolean))],{data:A}=Dt("Task",{fields:["name","subject","project"],filters:R.length>0?[["name","in",R]]:[["name","=","nonexistent"]],limit:0},R.length>0?"parent-tasks-for-subtasks":null),C=[...new Set([...(p||[]).map(J=>J.project).filter(Boolean),...(A||[]).map(J=>J.project).filter(Boolean)])],{data:k}=Dt("Project",{fields:["name","project_name"],filters:C.length>0?[["name","in",C]]:[["name","=","nonexistent"]],limit:0},C.length>0?"projects-for-assigned-tasks":null),D=(k||[]).reduce((J,G)=>(J[G.name]=G.project_name||G.name,J),{}),M=(A||[]).reduce((J,G)=>(J[G.name]=G,J),{}),E=(n||[]).reduce((J,G)=>(G.reference_name&&(J[G.reference_name]=G),J),{}),P=(p||[]).map(J=>oe(z({},J),{project_name:J.project?D[J.project]:void 0,assignedTodo:E[J.name]})),K=(w||[]).map(J=>{const G=J.task?M[J.task]:void 0;return oe(z({},J),{task_subject:G==null?void 0:G.subject,project_name:G!=null&&G.project?D[G.project]:void 0,assignedTodo:E[J.name]})});return{tasks:P,subTasks:K,todos:n||[],isLoading:s||g||_,error:a||b||S,mutate:()=>{i(),x(),N()},currentUser:t}}}const g7=p7.useUserAssignedTasks;class zC{static useAllTeamTasks(){const{data:t,isLoading:n,error:s}=Dt("Task",{fields:["name","subject","description","status","priority","exp_start_date","exp_end_date","project","type","progress","completed_by"],limit:0}),{data:a,isLoading:i,error:l}=Dt("SubTask",{fields:["name","subject","description","status","start_date","end_date","assigned_to","task"],limit:0});return{allTasks:t||[],allSubTasks:a||[],isLoading:n||i,error:s||l}}static getAllTaskOfTeam(){const t=qa().currentUser,{data:n}=Dt("Team",{filters:[["teamlead","=",t||""]]}),s=(n==null?void 0:n.map(P=>P.name))||[],{data:a}=Dt("Project",{fields:["name","team"],filters:[["team","in",s]],limit:0}),i=(a==null?void 0:a.map(P=>P.name))||[],{data:l,isLoading:u,error:f}=Dt("Task",{fields:["name","status","exp_end_date","project"],limit:0}),h=(l||[]).filter(P=>i.includes(P.project||"")),{data:p,isLoading:g,error:b}=Dt("SubTask",{fields:["name","status","task"],limit:0}),x=h.map(P=>P.name),w=(p||[]).filter(P=>x.includes(P.task||"")),_=P=>(P||"").toLowerCase()==="completed",S=P=>(P||"").toLowerCase()==="working",N=P=>(P||"").toLowerCase()==="cancelled",R=P=>(P||"").toLowerCase()==="overdue",A=new Date;A.setHours(0,0,0,0);const C=P=>{if(R(P.status))return!0;if(!_(P.status)&&!N(P.status)&&P.exp_end_date){const K=new Date(P.exp_end_date);return K.setHours(0,0,0,0),K<A}return!1},k=h.length+w.length,D=h.filter(P=>S(P.status)).length+w.filter(P=>S(P.status)).length,M=h.filter(P=>_(P.status)).length+w.filter(P=>_(P.status)).length,E=h.filter(P=>C(P)).length;return{total:k,working:D,completed:M,overdue:E,isLoading:u||g,error:f||b}}}const x7=zC.useAllTeamTasks,y7=zC.getAllTaskOfTeam,b7=()=>{const{currentUser:e}=qa(),{data:t,isLoading:n,error:s}=Dt("User",{fields:["name","full_name","user_image","first_name","last_name","email"],filters:[["enabled","=",1],["user_type","=","System User"]],limit:20});return{simpleTeamData:j.useMemo(()=>t?t.map(i=>({id:i.name,name:i.full_name||i.first_name||i.name||"Unknown User",role:i.name===e?"Leader":"Member",avatar:i.user_image||`https://placehold.co/40x40/e2e8f0/475569?text=${(i.first_name||i.full_name||"U").charAt(0).toUpperCase()}`})):[],[t,e]),users:t,isLoading:n,error:s}},UC=({project:e,isOpen:t,onClose:n,onSuccess:s})=>{const{updateProject:a,isLoading:i}=d7(),{register:l,control:u,handleSubmit:f,reset:h,formState:{errors:p}}=$u({defaultValues:{project_name:"",customer:"",project_type:"",status:"Open",priority:"Medium",department:"",company:"",cost_center:"",expected_start_date:"",expected_end_date:"",notes:""}});j.useEffect(()=>{e&&h({project_name:e.project_name||"",customer:e.customer||"",project_type:e.project_type||"",status:e.status||"Open",priority:e.priority||"Medium",department:e.department||"",company:e.company||"",cost_center:e.cost_center||"",expected_start_date:e.expected_start_date?e.expected_start_date.split(" ")[0]:"",expected_end_date:e.expected_end_date?e.expected_end_date.split(" ")[0]:"",notes:e.notes||""})},[e,h]);const g=x=>ye(null,null,function*(){if(e)try{yield a(e.name,x),_n.success("Project updated successfully"),s&&s(),n()}catch(w){let _="Edit project failed";if(w!=null&&w._server_messages)try{const S=JSON.parse(w._server_messages);Array.isArray(S)&&S.length>0&&(_=JSON.parse(S[0]).message||_)}catch(S){console.error("Parse error messages failed:",S)}else w!=null&&w.message&&(_=w.message);_n.error("Update project failed",{description:_}),console.error("Error updating project:",w)}}),b=()=>{e&&h({project_name:e.project_name||"",customer:e.customer||"",project_type:e.project_type||"",status:e.status||"Open",priority:e.priority||"Medium",department:e.department||"",company:e.company||"",cost_center:e.cost_center||"",expected_start_date:e.expected_start_date?e.expected_start_date.split(" ")[0]:"",expected_end_date:e.expected_end_date?e.expected_end_date.split(" ")[0]:"",notes:e.notes||""}),n()};return c.jsx(ys,{open:t,onOpenChange:n,children:c.jsxs(bs,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[c.jsx(vs,{children:c.jsx(_s,{children:"Edit Project"})}),c.jsxs("form",{onSubmit:f(g),className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"project_name",children:"Project Name *"}),c.jsx(Ft,oe(z({id:"project_name"},l("project_name",{required:"Project name is required",maxLength:{value:100,message:"Project name cannot exceed 100 characters"}})),{placeholder:"Enter project name"})),p.project_name&&c.jsx("span",{className:"text-red-500 text-sm",children:p.project_name.message})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ze,{children:"Customer"}),c.jsx(rr,{name:"customer",control:u,render:({field:x})=>c.jsx(ar,{doctype:"Customer",value:x.value||"",onChange:x.onChange,placeholder:"Select customer...",displayField:"customer_name",valueField:"name",className:"w-full"})})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ze,{children:"Project Type"}),c.jsx(rr,{name:"project_type",control:u,render:({field:x})=>c.jsx(ar,{doctype:"Project Type",value:x.value||"",onChange:x.onChange,placeholder:"Select type...",className:"w-full"})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ze,{children:"Status"}),c.jsxs("select",oe(z({},l("status")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[c.jsx("option",{value:"",children:"Select status..."}),c.jsx("option",{value:"Open",children:"Open"}),c.jsx("option",{value:"Completed",children:"Completed"}),c.jsx("option",{value:"Cancelled",children:"Cancelled"})]}))]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ze,{children:"Priority"}),c.jsxs("select",oe(z({},l("priority")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[c.jsx("option",{value:"",children:"Select priority..."}),c.jsx("option",{value:"Low",children:"Low"}),c.jsx("option",{value:"Medium",children:"Medium"}),c.jsx("option",{value:"High",children:"High"}),c.jsx("option",{value:"Critical",children:"Critical"})]}))]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ze,{children:"Department"}),c.jsx(rr,{name:"department",control:u,render:({field:x})=>c.jsx(ar,{doctype:"Department",value:x.value||"",onChange:x.onChange,placeholder:"Select department...",className:"w-full"})})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ze,{children:"Company"}),c.jsx(rr,{name:"company",control:u,render:({field:x})=>c.jsx(ar,{doctype:"Company",value:x.value||"",onChange:x.onChange,placeholder:"Select company...",className:"w-full"})})]})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ze,{children:"Cost Center"}),c.jsx(rr,{name:"cost_center",control:u,render:({field:x})=>c.jsx(ar,{doctype:"Cost Center",value:x.value||"",onChange:x.onChange,placeholder:"Select cost center...",className:"w-full"})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"expected_start_date",children:"Expected Start Date"}),c.jsx(Ft,z({id:"expected_start_date",type:"date"},l("expected_start_date")))]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"expected_end_date",children:"Expected End Date"}),c.jsx(Ft,z({id:"expected_end_date",type:"date"},l("expected_end_date")))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"notes",children:"Notes"}),c.jsx("textarea",oe(z({id:"notes"},l("notes")),{placeholder:"Enter project notes",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}))]}),c.jsxs(ws,{className:"flex gap-2",children:[c.jsx(Ye,{type:"button",variant:"outline",onClick:b,children:"Cancel"}),c.jsx(Ye,{type:"submit",disabled:i,children:i?"Updating...":"Update Project"})]})]})]})})},BC=({project:e,isOpen:t,onClose:n,onSuccess:s})=>{const{deleteProjectCascade:a}=h7(),[i,l]=j.useState(!1),[u,f]=j.useState(null),[h,p]=j.useState(""),g=()=>ye(null,null,function*(){if(!e){console.error("No project selected for deletion"),_n.error("Delete project failed",{description:"No project selected"});return}if(i){console.log("Delete already in progress, ignoring duplicate request");return}l(!0),f(null),p("Starting deletion...");try{console.log(`Starting deletion for project: ${e.name}`),p("Deleting subtasks..."),yield new Promise(w=>setTimeout(w,300)),p("Deleting tasks..."),yield new Promise(w=>setTimeout(w,300)),p("Deleting project phases..."),yield new Promise(w=>setTimeout(w,300)),p("Cleaning up dependencies..."),yield new Promise(w=>setTimeout(w,300)),p("Deleting project...");const x=yield a(e.name);p("Deletion completed successfully!"),console.log("Cascade deletion result:",x),_n.success("Project deleted successfully",{description:`Project "${e.name}" and all related items have been deleted.`}),s&&s(),n()}catch(x){let w="Delete project failed",_=!1;if(x!=null&&x._server_messages)try{const S=JSON.parse(x._server_messages);Array.isArray(S)&&S.length>0&&(w=JSON.parse(S[0]).message||w)}catch(S){console.error("Parse error messages failed:",S)}else x!=null&&x.message&&(w=x.message,(w.includes("dependencies")||w.includes("linked")||w.includes("referenced")||w.includes("Unknown project deletion error"))&&(_=!0,w+=`

Tip: This error usually resolves on the second attempt. Please try again.`));console.error("Error deleting project:",x),_n.error("Delete project failed",{description:w,duration:_?8e3:5e3}),f(x instanceof Error?x:new Error(w)),p("")}finally{l(!1)}}),b=()=>{i||(f(null),p(""),n())};return c.jsx(ys,{open:t,onOpenChange:n,children:c.jsxs(bs,{className:"sm:max-w-[400px]",children:[c.jsx(vs,{children:c.jsxs(_s,{className:"flex items-center gap-2 text-red-600",children:[c.jsx(um,{className:"h-5 w-5"}),"Delete Project"]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this project? This action cannot be undone."}),e&&c.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[c.jsx("div",{className:"font-medium text-gray-900",children:e.project_name}),c.jsx("div",{className:"text-sm text-gray-600",children:e.customer||"No customer"}),c.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]})]}),c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[c.jsxs("div",{className:"text-sm text-red-800",children:[c.jsx("strong",{children:"Warning:"})," This will permanently delete in the following order:"]}),c.jsxs("ol",{className:"text-sm text-red-700 mt-1 ml-4 list-decimal",children:[c.jsx("li",{children:"All subtasks in all tasks"}),c.jsx("li",{children:"All tasks in the project"}),c.jsx("li",{children:"All project phases"}),c.jsx("li",{children:"All ToDo assignments"}),c.jsx("li",{children:"All project team members"}),c.jsx("li",{children:"The project itself"})]}),c.jsx("div",{className:"text-sm text-red-800 mt-2",children:c.jsx("strong",{children:"This action cannot be undone!"})})]}),i&&h&&c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(G0,{className:"h-4 w-4 animate-spin text-blue-600"}),c.jsxs("span",{className:"text-sm text-blue-800",children:[c.jsx("strong",{children:"Progress:"})," ",h]})]}),c.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"Please wait while we delete all related items..."})]}),u&&c.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:c.jsxs("p",{children:[c.jsx("strong",{children:"Error:"})," ",u.message||"Failed to delete project"]})})]}),c.jsxs(ws,{className:"flex gap-2",children:[c.jsx(Ye,{type:"button",variant:"outline",onClick:b,disabled:i,children:i?"Deleting...":"Cancel"}),c.jsx(Ye,{type:"button",variant:"destructive",onClick:g,disabled:i,className:"min-w-[120px]",children:i?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(G0,{className:"h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete Project"})]})]})})};function FC({project:e,isOpen:t,onClose:n}){const[s,a]=j.useState("overview"),[i,l]=j.useState(null),[u,f]=j.useState(null),[h,p]=j.useState(null),[g,b]=j.useState(!1),[x,w]=j.useState(null),[_,S]=j.useState(!1),[N,R]=j.useState(!1),[A,C]=j.useState(!1),[k,D]=j.useState(!1),[M,E]=j.useState(!1),{updateProjectProgress:P}=nb(),{data:K,isLoading:W,mutate:Y}=On("Project",(e==null?void 0:e.name)||"",e!=null&&e.name?"Project":void 0),{data:q}=Dt("project_phase",{fields:["name","progress"],filters:[["project","=",(e==null?void 0:e.name)||""]],orderBy:{field:"creation",order:"asc"},limit:0}),{data:J}=Dt("Task",{fields:["name","progress"],filters:[["project","=",(e==null?void 0:e.name)||""]],orderBy:{field:"creation",order:"asc"},limit:0}),{call:G}=xs("frappe.client.insert"),{call:H}=xs("frappe.client.save"),{call:te}=xs("frappe.client.delete"),{call:ne}=xs("frappe.client.set_value"),{data:le,error:B,isLoading:Q}=On("User",(e==null?void 0:e.owner)||"",e!=null&&e.owner?void 0:null),{data:he,mutate:$}=On("SubTask",(h==null?void 0:h.name)||"",h!=null&&h.name?void 0:null),{data:re,mutate:_e}=On("Task",(u==null?void 0:u.name)||"",u!=null&&u.name?void 0:null),{currentUser:xe}=qa(),Ee=(K==null?void 0:K.users)||(e==null?void 0:e.users)||[],De=W,Ve=j.useMemo(()=>{if(q&&q.length>0){const Ce=q.reduce(($e,Pt)=>$e+(Pt.progress||0),0);return{progress:Math.round(Ce/q.length),source:"phases",count:q.length}}else if(J&&J.length>0){const Ce=J.reduce(($e,Pt)=>$e+(Pt.progress||0),0);return{progress:Math.round(Ce/J.length),source:"tasks",count:J.length}}return{progress:(K==null?void 0:K.percent_complete)||(e==null?void 0:e.percent_complete)||0,source:"manual",count:0}},[q,J,K==null?void 0:K.percent_complete,e==null?void 0:e.percent_complete]),Le=()=>ye(null,null,function*(){if(e!=null&&e.name){E(!0);try{yield P(e.name),yield Y()}catch(Ce){console.error("Error recalculating project progress:",Ce)}finally{E(!1)}}}),lt=()=>ye(null,null,function*(){if(h!=null&&h.name)try{yield $()}catch(Ce){console.error("Error refreshing subtask data:",Ce)}}),Ke=()=>ye(null,null,function*(){if(u!=null&&u.name)try{yield _e()}catch(Ce){console.error("Error refreshing task data:",Ce)}}),pt=Ce=>ye(null,null,function*(){(u==null?void 0:u.name)===Ce&&(yield Ke())});j.useEffect(()=>{he&&(h==null?void 0:h.name)===he.name&&p(he)},[he,h==null?void 0:h.name]),j.useEffect(()=>{re&&(u==null?void 0:u.name)===re.name&&f(re)},[re,u==null?void 0:u.name]),j.useEffect(()=>{if(Ve.source!=="manual"&&(e!=null&&e.name)){const Ce=(K==null?void 0:K.percent_complete)||(e==null?void 0:e.percent_complete)||0;Math.abs(Ve.progress-Ce)>1&&Le()}},[Ve.progress,q,J]);const Pe=$u(),ht=$u(),$t=$u(),[vt,Mt]=j.useState(!1),St=Ce=>ye(null,null,function*(){if(e!=null&&e.name){Mt(!0);try{if((Ee||[]).find(En=>En.user===Ce.user)){alert("User is already a member of this project");return}yield G({doc:{doctype:"Project User",parent:e.name,parenttype:"Project",parentfield:"users",user:Ce.user,view_attachments:1,hide_timesheets:0,project_status:"Open",welcome_email_sent:1}}),setTimeout(()=>Y(),1e3),b(!1),Pe.reset()}catch($e){console.error("Error adding member:",$e);const Pt=$e instanceof Error?$e.message:String($e);Pt.includes("Email Account")||Pt.includes("OutgoingEmailError")||Pt.includes("email")?(alert("Member may have been added, but welcome email failed. Please check the project members list and refresh if needed."),setTimeout(()=>Y(),1e3),b(!1),Pe.reset()):alert("Failed to add member: "+Pt)}finally{Mt(!1)}}}),X=Ce=>ye(null,null,function*(){if(!(!x||!(e!=null&&e.name))){Mt(!0);try{const $e=Ee.find(Pt=>Pt.user===x.user);if(!($e!=null&&$e.name)){alert("User record not found");return}yield H({doc:{doctype:"Project User",name:$e.name,view_attachments:Ce.view_attachments?1:0,hide_timesheets:Ce.hide_timesheets?1:0,project_status:Ce.project_status||""}}),setTimeout(()=>Y(),1e3),S(!1),w(null),ht.reset()}catch($e){console.error("Error updating member:",$e),alert("Failed to update member")}finally{Mt(!1)}}}),de=Ce=>ye(null,null,function*(){if(e!=null&&e.name&&confirm("Are you sure you want to remove this member from the project?"))try{const $e=Ee.find(Pt=>Pt.user===Ce);if(!($e!=null&&$e.name)){alert("User record not found");return}yield te({doctype:"Project User",name:$e.name}),setTimeout(()=>Y(),1e3)}catch($e){console.error("Error removing member:",$e),alert("Failed to remove member")}}),I=Ce=>{w(Ce),ht.reset({user:Ce.user,view_attachments:!!Ce.view_attachments,hide_timesheets:!!Ce.hide_timesheets,project_status:Ce.project_status||""}),S(!0)},Se=()=>(e==null?void 0:e.owner)===xe||xe==="Administrator",Me=Ce=>ye(null,null,function*(){if(e!=null&&e.name){Mt(!0);try{yield Y();const $e=K||e;try{yield H({doc:{doctype:"Project",name:e.name,owner:Ce.owner,project_name:$e==null?void 0:$e.project_name,status:$e==null?void 0:$e.status,priority:$e==null?void 0:$e.priority,company:$e==null?void 0:$e.company,customer:$e==null?void 0:$e.customer,expected_start_date:$e==null?void 0:$e.expected_start_date,expected_end_date:$e==null?void 0:$e.expected_end_date,description:$e==null?void 0:$e.description,modified:new Date().toISOString(),modified_by:Ce.owner}})}catch(Pt){console.log("Save method failed:",Pt);try{yield ne({doctype:"Project",name:e.name,fieldname:"owner",value:Ce.owner})}catch(En){if(console.log("Set value failed, falling back to Project Manager approach:",En),(Ee||[]).find(fs=>fs.user===Ce.owner)){alert("Cannot change owner field (protected by ERPNext), but user is already a project member. Please edit their role manually.");return}yield G({doc:{doctype:"Project User",parent:e.name,parenttype:"Project",parentfield:"users",user:Ce.owner,view_attachments:1,hide_timesheets:0,project_status:"Project Manager (Owner Substitute)",welcome_email_sent:1}}),alert('Owner field is protected by ERPNext. Added user as "Project Manager (Owner Substitute)" instead with full permissions.')}}setTimeout(()=>Y(),1e3),R(!1),$t.reset()}catch($e){console.error("Error changing owner:",$e);const Pt=$e instanceof Error?$e.message:String($e);Pt.includes("Cannot edit standard fields")||Pt.includes("protects this field")?alert(`Cannot change project owner: ERPNext protects the owner field from modification.

Alternative solutions:
1. Add the user as Project Manager in the team members
2. Contact system administrator to manually update via backend
3. Use project permissions to grant the user full access

Admin command (run in ERPNext console):
frappe.db.sql("UPDATE tabProject SET owner = '${Ce.owner}' WHERE name = '${e.name}'")`):alert("Failed to change owner: "+Pt)}finally{Mt(!1)}}}),Re=Ce=>{switch(Ce){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},Fe=Ce=>Ce?new Date(Ce).toLocaleDateString():"N/A",qe=()=>{C(!0)},Qe=()=>{D(!0)},yt=()=>{Y(),Hy(Ce=>typeof Ce=="string"&&Ce.includes("Project"),void 0,{revalidate:!0})},vn=()=>{n()};if(!e)return null;const ct=K||e;return c.jsxs(MH,{open:t,onOpenChange:n,direction:"right",children:[c.jsx(zH,{children:c.jsxs("div",{className:"w-full h-full overflow-y-auto p-6",children:[c.jsxs(UH,{className:"px-0 pb-6",children:[c.jsxs(FH,{className:"flex gap-4 justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"h-16 w-16 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg",children:c.jsx("span",{className:"text-2xl font-bold text-white",children:ct.project_name.charAt(0).toUpperCase()})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:ct.project_name}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:`inline-flex px-4 py-2 text-sm font-semibold rounded-full ${Re(ct.status)}`,children:ct.status||"Open"}),ct.project_type&&c.jsx("span",{className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-full",children:ct.project_type})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(Ye,{variant:"outline",size:"sm",onClick:qe,className:"flex items-center gap-2",children:[c.jsx(ql,{className:"h-4 w-4"}),"Edit"]}),c.jsxs(Ye,{variant:"outline",size:"sm",onClick:Qe,className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[c.jsx(Ql,{className:"h-4 w-4"}),"Delete"]}),c.jsx(Ye,{variant:"ghost",size:"sm",onClick:n,children:"X"})]})]}),c.jsx($H,{className:"text-lg text-gray-600 mt-4",children:"Project Details and Progress Overview"}),c.jsxs("div",{className:"flex border-b border-gray-200 mt-6",children:[c.jsx("button",{onClick:()=>a("overview"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${s==="overview"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Overview"}),c.jsx("button",{onClick:()=>a("tasks"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${s==="tasks"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Tasks & Phases"}),c.jsxs("button",{onClick:()=>a("team"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="team"?"border-green-600 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[c.jsx(yh,{className:"h-4 w-4"}),"Team (",((Ee==null?void 0:Ee.length)||0)+1,")"]}),i&&c.jsxs("button",{onClick:()=>a("phase-details"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="phase-details"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["📋 ",i.subject,c.jsx("span",{onClick:Ce=>{Ce.stopPropagation(),l(null),a("tasks")},className:"ml-2 hover:bg-gray-200 rounded-full p-1 transition-colors cursor-pointer",title:"Close phase details",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u&&c.jsxs("button",{onClick:()=>a("task-details"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="task-details"?"border-orange-600 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["📝 ",u.subject||u.name,c.jsx("span",{onClick:Ce=>{Ce.stopPropagation(),f(null),a("tasks")},className:"ml-2 hover:bg-gray-200 rounded-full p-1 transition-colors cursor-pointer",title:"Close task details",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),h&&c.jsxs("button",{onClick:()=>a("subtask-details"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="subtask-details"?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["📌 ",h.subject||h.name,c.jsx("span",{onClick:Ce=>{Ce.stopPropagation(),p(null),a("tasks")},className:"ml-2 hover:bg-gray-200 rounded-full p-1 transition-colors cursor-pointer",title:"Close subtask details",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})]}),c.jsxs("div",{className:"space-y-8",children:[s==="overview"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Project Progress"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-lg font-medium text-gray-700",children:"Overall Progress"}),Ve.source!=="manual"&&c.jsxs("span",{className:"text-xs text-gray-500",children:["(from ",Ve.count," ",Ve.source,")"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[Ve.progress,"%"]}),c.jsx(Ye,{variant:"ghost",size:"sm",onClick:Le,disabled:M,className:"h-8 w-8 p-0",title:"Recalculate progress",children:c.jsx(a2,{className:`h-4 w-4 ${M?"animate-spin":""}`})})]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:c.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-4 rounded-full transition-all duration-500 ease-out",style:{width:`${Ve.progress}%`}})}),Ve.source==="phases"&&q&&c.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:[c.jsx("div",{className:"font-medium mb-1",children:"Phase progress breakdown:"}),c.jsx("div",{className:"grid grid-cols-2 gap-1",children:q.map((Ce,$e)=>c.jsxs("div",{className:"flex justify-between",children:[c.jsxs("span",{children:["Phase ",$e+1,":"]}),c.jsxs("span",{children:[Ce.progress||0,"%"]})]},Ce.name))})]}),Ve.source==="tasks"&&c.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:["Progress calculated from ",Ve.count," direct tasks (no phases)"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:c.jsx(Rh,{className:"h-8 w-8 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Customer"}),c.jsx("p",{className:"text-xl font-bold text-gray-900",children:ct.customer||"N/A"})]})]})}),c.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:c.jsx(Qx,{className:"h-8 w-8 text-green-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Budget"}),c.jsx("p",{className:"text-xl font-bold text-gray-900",children:So(ct.estimated_costing)})]})]})}),c.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:c.jsx($r,{className:"h-8 w-8 text-purple-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"Deadline"}),c.jsx("p",{className:"text-xl font-bold text-gray-900",children:Fe(ct.expected_end_date)})]})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Project Information"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Start Date"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:Fe(ct.expected_start_date)})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:ct.priority||"Medium"})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Department"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:ct.department||"N/A"})]}),c.jsxs("div",{className:"flex items-center justify-between py-3",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Company"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:ct.company||"N/A"})]})]})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Financial Metrics"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Total Cost"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:So(ct.total_costing_amount)})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Total Sales"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:So(ct.total_sales_amount)})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Billable Amount"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:So(ct.total_billable_amount)})]}),c.jsxs("div",{className:"flex items-center justify-between py-3",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Gross Margin"}),c.jsx("span",{className:"text-lg font-bold text-green-600",children:So(ct.gross_margin)})]})]})]})]})]}),s==="team"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(uP,{className:"h-6 w-6 text-yellow-600"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Project Owner"})]}),Se()&&c.jsxs(Ye,{variant:"outline",size:"sm",onClick:()=>{$t.reset({owner:(e==null?void 0:e.owner)||""}),R(!0)},className:"flex items-center gap-2",children:[c.jsx(ql,{className:"h-4 w-4"}),"Change Owner"]})]}),c.jsxs("div",{className:"flex items-center gap-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[c.jsx("div",{className:"h-12 w-12 rounded-full bg-yellow-100 flex items-center justify-center",children:c.jsx(Rh,{className:"h-6 w-6 text-yellow-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-lg font-semibold text-gray-900",children:Q?"Loading...":le!=null&&le.full_name?le.full_name:ct!=null&&ct.owner?ct.owner:"No Owner"}),c.jsx("p",{className:"text-sm text-gray-600",children:Q?"Loading email...":le!=null&&le.email?le.email:ct!=null&&ct.owner?ct.owner:"No email"}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded",children:"Project Owner"}),(le==null?void 0:le.designation)&&c.jsx("span",{className:"text-xs text-gray-500",children:le.designation}),B&&c.jsx("span",{className:"text-xs text-red-500",children:"(Error loading user details)"})]})]})]})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(yh,{className:"h-6 w-6 text-blue-600"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Team Members"}),c.jsxs("span",{className:"inline-flex px-3 py-1 text-sm font-medium bg-blue-100 text-blue-800 rounded-full",children:[(Ee==null?void 0:Ee.length)||0," members"]})]}),c.jsxs(Ye,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",onClick:()=>b(!0),children:[c.jsx(Mo,{className:"h-4 w-4 mr-1"}),"Add Member"]})]}),De?c.jsxs("div",{className:"flex items-center justify-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),c.jsx("span",{className:"ml-3 text-gray-600",children:"Loading team members..."})]}):Ee&&Ee.length>0?c.jsx("div",{className:"grid gap-4",children:Ee.map((Ce,$e)=>c.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors",children:[c.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center overflow-hidden",children:Ce.image?c.jsx("img",{src:Ce.image,alt:Ce.full_name||Ce.user,className:"h-full w-full object-cover"}):c.jsx("span",{className:"text-sm font-semibold text-blue-600",children:(Ce.full_name||Ce.user||"U").charAt(0).toUpperCase()})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-semibold text-gray-900",children:Ce.full_name||Ce.user||"Unknown User"}),c.jsx("p",{className:"text-sm text-gray-600",children:Ce.email||Ce.user||"No email"}),Ce.project_status&&c.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Status: ",Ce.project_status]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:"Team Member"}),Ce.view_attachments&&c.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded",children:"Can View Files"}),c.jsxs(Ye,{size:"sm",variant:"outline",className:"text-xs",onClick:()=>I(Ce),children:[c.jsx(ql,{className:"h-3 w-3 mr-1"}),"Edit"]}),c.jsxs(Ye,{size:"sm",variant:"outline",className:"text-xs text-red-600 hover:text-red-700",onClick:()=>de(Ce.user),children:[c.jsx(Ql,{className:"h-3 w-3 mr-1"}),"Remove"]})]})]},Ce.user||$e))}):c.jsxs("div",{className:"text-center py-8",children:[c.jsx(yh,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"No team members added yet"}),c.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Add team members to collaborate on this project"}),c.jsxs(Ye,{className:"mt-4 bg-blue-600 hover:bg-blue-700",onClick:()=>b(!0),children:[c.jsx(Mo,{className:"h-4 w-4 mr-2"}),"Add First Member"]})]})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Statistics"}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[c.jsx("p",{className:"text-2xl font-bold text-blue-600",children:((Ee==null?void 0:Ee.length)||0)+1}),c.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"})]}),c.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[c.jsx("p",{className:"text-2xl font-bold text-green-600",children:"1"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Project Owner"})]}),c.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[c.jsx("p",{className:"text-2xl font-bold text-purple-600",children:(Ee==null?void 0:Ee.length)||0}),c.jsx("p",{className:"text-sm text-gray-600",children:"Team Members"})]}),c.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[c.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[(e==null?void 0:e.percent_complete)||0,"%"]}),c.jsx("p",{className:"text-sm text-gray-600",children:"Progress"})]})]})]})]}),s==="tasks"&&c.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:c.jsx(qH,{projectName:e.name,onViewPhaseDetails:Ce=>{l(Ce),a("phase-details")},onViewTaskDetails:Ce=>{f(Ce),a("task-details")},onViewSubTaskDetails:Ce=>{p(Ce),a("subtask-details")}})}),s==="phase-details"&&i&&c.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:c.jsx(ZH,{phase:i,projectName:e.name,onBack:()=>a("tasks"),onViewTaskDetails:Ce=>{f(Ce),a("task-details")},onPhaseUpdated:()=>ye(null,null,function*(){Y(),setTimeout(()=>ye(null,null,function*(){yield Le()}),500)}),onPhaseDeleted:()=>ye(null,null,function*(){Y(),a("tasks"),l(null),setTimeout(()=>ye(null,null,function*(){yield Le()}),500)}),onTaskCreated:()=>ye(null,null,function*(){Y(),setTimeout(()=>ye(null,null,function*(){yield Le()}),500)})})}),s==="task-details"&&u&&c.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:c.jsx(a7,{task:u,projectName:e.name,onBack:()=>a("tasks"),onViewSubTaskDetails:Ce=>{p(Ce),a("subtask-details")},onTaskUpdated:()=>ye(null,null,function*(){Y(),yield Ke(),setTimeout(()=>ye(null,null,function*(){yield Le()}),500)}),onTaskDeleted:()=>ye(null,null,function*(){Y(),a("tasks"),f(null),setTimeout(()=>ye(null,null,function*(){yield Le()}),500)})})}),s==="subtask-details"&&h&&c.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:c.jsx(l7,{subtask:h,projectName:e.name,onBack:()=>a("tasks"),onSubTaskUpdated:()=>ye(null,null,function*(){Y(),yield lt(),h!=null&&h.task&&(yield pt(h.task)),setTimeout(()=>ye(null,null,function*(){yield Le()}),500)}),onSubTaskDeleted:()=>ye(null,null,function*(){Y(),a("tasks"),p(null),setTimeout(()=>ye(null,null,function*(){yield Le()}),500)})})})]}),c.jsx(BH,{className:"px-0 mt-8 pt-6 border-t border-gray-200",children:c.jsxs("div",{className:"flex gap-4",children:[c.jsx(Ye,{variant:"outline",className:"flex-1 h-12 text-lg font-semibold",onClick:()=>a("tasks"),children:"View Tasks"}),c.jsx(Ye,{variant:"outline",className:"flex-1 h-12 text-lg font-semibold",children:"View Timeline"})]})})]})}),c.jsx(ys,{open:g,onOpenChange:b,children:c.jsx(bs,{className:"sm:max-w-md",children:c.jsxs("form",{onSubmit:Pe.handleSubmit(St),children:[c.jsxs(vs,{children:[c.jsx(_s,{children:"Add Team Member"}),c.jsx(Do,{children:"Add a new member to the project team."})]}),c.jsx("div",{className:"grid gap-4 py-4",children:c.jsxs("div",{className:"grid gap-2",children:[c.jsxs(ze,{children:["User ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx(rr,{name:"user",control:Pe.control,rules:{required:"Please select a user"},render:({field:Ce})=>c.jsx(ar,{doctype:"User",value:Ce.value||"",onChange:Ce.onChange,placeholder:"Select user...",displayField:"full_name",valueField:"name",filters:[["enabled","=",1],["user_type","!=","Website User"]],fields:["name","full_name","email"],className:"w-full"})}),Pe.formState.errors.user&&c.jsx("span",{className:"text-red-500 text-sm",children:Pe.formState.errors.user.message})]})}),c.jsxs(ws,{children:[c.jsx(Ye,{type:"button",variant:"outline",onClick:()=>{b(!1),Pe.reset()},children:"Cancel"}),c.jsx(Ye,{type:"submit",disabled:vt,className:"bg-blue-600 hover:bg-blue-700",children:vt?"Adding...":"Add Member"})]})]})})}),c.jsx(ys,{open:_,onOpenChange:S,children:c.jsx(bs,{className:"sm:max-w-md",children:c.jsxs("form",{onSubmit:ht.handleSubmit(X),children:[c.jsxs(vs,{children:[c.jsx(_s,{children:"Edit Team Member"}),c.jsxs(Do,{children:["Update member settings for ",(x==null?void 0:x.full_name)||(x==null?void 0:x.user),"."]})]}),c.jsxs("div",{className:"grid gap-4 py-4",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ze,{children:"User"}),c.jsx(Ft,{value:(x==null?void 0:x.full_name)||(x==null?void 0:x.user)||"",disabled:!0,className:"bg-gray-100"})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ze,{children:"Project Status"}),c.jsx(Ft,oe(z({},ht.register("project_status")),{placeholder:"Enter project status for this member..."}))]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("input",oe(z({type:"checkbox",id:"edit_view_attachments"},ht.register("view_attachments")),{className:"rounded border-gray-300"})),c.jsx(ze,{htmlFor:"edit_view_attachments",className:"text-sm",children:"Can view attachments"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("input",oe(z({type:"checkbox",id:"edit_hide_timesheets"},ht.register("hide_timesheets")),{className:"rounded border-gray-300"})),c.jsx(ze,{htmlFor:"edit_hide_timesheets",className:"text-sm",children:"Hide timesheets from this user"})]})]}),c.jsxs(ws,{children:[c.jsx(Ye,{type:"button",variant:"outline",onClick:()=>{S(!1),w(null),ht.reset()},children:"Cancel"}),c.jsx(Ye,{type:"submit",disabled:vt,className:"bg-blue-600 hover:bg-blue-700",children:vt?"Updating...":"Update Member"})]})]})})}),c.jsx(ys,{open:N,onOpenChange:R,children:c.jsx(bs,{className:"sm:max-w-md",children:c.jsxs("form",{onSubmit:$t.handleSubmit(Me),children:[c.jsxs(vs,{children:[c.jsx(_s,{children:"Change Project Owner"}),c.jsx(Do,{children:"Attempt to change the project owner. Note: ERPNext may protect this field, in which case we'll add the user as Project Manager instead."})]}),c.jsxs("div",{className:"grid gap-4 py-4",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsxs(ze,{children:["New Owner ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx(rr,{name:"owner",control:$t.control,rules:{required:"Please select a new owner"},render:({field:Ce})=>c.jsx(ar,{doctype:"User",value:Ce.value||"",onChange:Ce.onChange,placeholder:"Select new owner...",displayField:"full_name",valueField:"name",filters:[["enabled","=",1],["user_type","!=","Website User"]],fields:["name","full_name","email"],className:"w-full"})}),$t.formState.errors.owner&&c.jsx("span",{className:"text-red-500 text-sm",children:$t.formState.errors.owner.message})]}),c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:c.jsxs("p",{className:"text-sm text-blue-800",children:[c.jsx("strong",{children:"Note:"}),' This will attempt to change the actual project owner. If that fails (due to ERPNext protection), the user will be added as "Project Manager (Owner Substitute)" with full permissions.']})})]}),c.jsxs(ws,{children:[c.jsx(Ye,{type:"button",variant:"outline",onClick:()=>{R(!1),$t.reset()},children:"Cancel"}),c.jsx(Ye,{type:"submit",disabled:vt,className:"bg-yellow-600 hover:bg-yellow-700",children:vt?"Changing Owner...":"Change Owner"})]})]})})}),c.jsx(UC,{project:e,isOpen:A,onClose:()=>C(!1),onSuccess:yt}),c.jsx(BC,{project:e,isOpen:k,onClose:()=>D(!1),onSuccess:vn})]})}const $C=({project:e,onProjectUpdated:t,onProjectDeleted:n,onCloseDrawer:s})=>{const[a,i]=j.useState(!1),[l,u]=j.useState(!1),[f,h]=j.useState(!1),p=w=>{w&&w.stopPropagation(),i(!0),h(!1)},g=w=>{w&&w.stopPropagation(),u(!0),h(!1)},b=()=>{t&&t()},x=()=>{n&&n(),s&&s()};return c.jsxs(c.Fragment,{children:[c.jsxs(py,{open:f,onOpenChange:h,children:[c.jsx(gy,{asChild:!0,children:c.jsx(Ye,{variant:"ghost",size:"sm",onClick:w=>{w.stopPropagation(),h(!f)},className:"h-8 w-8 p-0",children:c.jsx(hP,{className:"h-4 w-4"})})}),c.jsx(xy,{className:"w-48 p-2",align:"end",onClick:w=>w.stopPropagation(),children:c.jsxs("div",{className:"space-y-1",children:[c.jsxs(Ye,{variant:"ghost",size:"sm",onClick:w=>p(w),className:"w-full justify-start text-left",children:[c.jsx(DP,{className:"mr-2 h-4 w-4"}),"Edit Project"]}),c.jsxs(Ye,{variant:"ghost",size:"sm",onClick:w=>g(w),className:"w-full justify-start text-left text-red-600 hover:text-red-700 hover:bg-red-50",children:[c.jsx(Ql,{className:"mr-2 h-4 w-4"}),"Delete Project"]})]})})]}),c.jsx(UC,{project:e,isOpen:a,onClose:()=>i(!1),onSuccess:b}),c.jsx(BC,{project:e,isOpen:l,onClose:()=>u(!1),onSuccess:x})]})},v7=({projects:e,onProjectsChange:t})=>{const[n,s]=j.useState(null),[a,i]=j.useState(!1),l=h=>{s(h),i(!0)},u=()=>{i(!1),s(null)},f=h=>{switch(h){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:e.map(h=>c.jsxs("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 hover:shadow-md transition-shadow duration-200 cursor-pointer",onClick:()=>l(h),children:[c.jsx("div",{className:"h-48 bg-gray-200 flex items-center justify-center",children:c.jsx("div",{className:"text-4xl font-bold text-gray-400",children:h.project_name.charAt(0).toUpperCase()})}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate flex-1",children:h.project_name}),c.jsxs("div",{className:"flex items-center gap-2",onClick:p=>p.stopPropagation(),children:[c.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${f(h.status)}`,children:h.status||"Open"}),c.jsx($C,{project:h,onProjectUpdated:t,onProjectDeleted:t,onCloseDrawer:u})]})]}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:h.project_type||"N/A"}),c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Progress"}),c.jsxs("span",{className:"text-sm text-gray-600",children:[h.percent_complete||0,"%"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${h.percent_complete||0}%`}})})]}),c.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[c.jsx("span",{children:h.customer||"N/A"}),c.jsx("span",{children:So(h.estimated_costing)})]})]})]},h.name))}),c.jsx(FC,{project:n,isOpen:a,onClose:u})]})},w7=({projects:e,onProjectsChange:t})=>{const[n,s]=j.useState(null),[a,i]=j.useState(!1),l=p=>{s(p),i(!0)},u=()=>{i(!1),s(null)},f=p=>{switch(p){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},h=p=>p?new Date(p).toLocaleDateString():"N/A";return c.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[c.jsx("div",{className:"overflow-hidden",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progress"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Budget"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Deadline"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(p=>c.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>l(p),children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:c.jsx("div",{className:"h-10 w-10 rounded-lg bg-gray-200 flex items-center justify-center",children:c.jsx("span",{className:"text-sm font-bold text-gray-600",children:p.project_name.charAt(0).toUpperCase()})})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.project_name}),c.jsx("div",{className:"text-sm text-gray-500",children:p.project_type||"N/A"})]})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${f(p.status)}`,children:p.status||"Open"})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${p.percent_complete||0}%`}})}),c.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[p.percent_complete||0,"%"]})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.customer||"N/A"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:So(p.estimated_costing)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h(p.expected_end_date)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",onClick:g=>g.stopPropagation(),children:c.jsx($C,{project:p,onProjectUpdated:t,onProjectDeleted:t,onCloseDrawer:u})})]},p.name))})]})}),c.jsx(FC,{project:n,isOpen:a,onClose:u})]})},_7=({onProjectCreated:e})=>{const[t,n]=j.useState(!1),{createProject:s,isLoading:a}=u7(),{register:i,control:l,handleSubmit:u,reset:f,formState:{errors:h,isSubmitting:p}}=$u({defaultValues:{status:"Open",priority:"Medium"}}),g=b=>ye(null,null,function*(){try{yield s(b),f(),n(!1),Hy(x=>typeof x=="string"&&x.includes("Project"),void 0,{revalidate:!0}),_n.success("Project created successfully"),e&&e()}catch(x){let w="Create project failed";if(x!=null&&x._server_messages)try{const _=JSON.parse(x._server_messages);Array.isArray(_)&&_.length>0&&(w=JSON.parse(_[0]).message||w)}catch(_){console.error("Parse error messages failed:",_)}else x!=null&&x.message&&(w=x.message);_n.error("Create project failed",{description:w}),console.error("Error creating project:",x)}});return c.jsxs(ys,{open:t,onOpenChange:n,children:[c.jsx(w$,{asChild:!0,children:c.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[c.jsx(Mo,{className:"mr-2 h-4 w-4"}),"New Project"]})}),c.jsx(bs,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:c.jsxs("form",{onSubmit:u(g),children:[c.jsxs(vs,{children:[c.jsx(_s,{children:"Create New Project"}),c.jsx(Do,{children:"Fill in the project details. Fields marked with * are required."})]}),c.jsxs("div",{className:"grid gap-4 py-4",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsxs(ze,{htmlFor:"project_name",children:["Project Name ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx(Ft,oe(z({id:"project_name"},i("project_name",{required:"Project name is required",maxLength:{value:100,message:"Project name cannot exceed 100 characters"}})),{placeholder:"Enter project name"})),h.project_name&&c.jsx("span",{className:"text-red-500 text-sm",children:h.project_name.message})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ze,{children:"Customer"}),c.jsx(rr,{name:"customer",control:l,render:({field:b})=>c.jsx(ar,{doctype:"Customer",value:b.value||"",onChange:b.onChange,placeholder:"Select customer...",displayField:"customer_name",valueField:"name",className:"w-full"})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ze,{children:"Project Type"}),c.jsx(rr,{name:"project_type",control:l,render:({field:b})=>c.jsx(ar,{doctype:"Project Type",value:b.value||"",onChange:b.onChange,placeholder:"Select type...",className:"w-full"})})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsxs(ze,{children:["Status ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",oe(z({},i("status",{required:"Status is required"})),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[c.jsx("option",{value:"Open",children:"Open"}),c.jsx("option",{value:"Completed",children:"Completed"}),c.jsx("option",{value:"Cancelled",children:"Cancelled"})]}))]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ze,{children:"Priority"}),c.jsxs("select",oe(z({},i("priority")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[c.jsx("option",{value:"",children:"Select priority..."}),c.jsx("option",{value:"Low",children:"Low"}),c.jsx("option",{value:"Medium",children:"Medium"}),c.jsx("option",{value:"High",children:"High"}),c.jsx("option",{value:"Critical",children:"Critical"})]}))]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ze,{children:"Department"}),c.jsx(rr,{name:"department",control:l,render:({field:b})=>c.jsx(ar,{doctype:"Department",value:b.value||"",onChange:b.onChange,placeholder:"Select department...",className:"w-full"})})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ze,{children:"Company"}),c.jsx(rr,{name:"company",control:l,render:({field:b})=>c.jsx(ar,{doctype:"Company",value:b.value||"",onChange:b.onChange,placeholder:"Select company...",className:"w-full"})})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ze,{children:"Cost Center"}),c.jsx(rr,{name:"cost_center",control:l,render:({field:b})=>c.jsx(ar,{doctype:"Cost Center",value:b.value||"",onChange:b.onChange,placeholder:"Select cost center...",displayField:"cost_center_name",valueField:"name",className:"w-full"})})]})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ze,{children:"Project Template"}),c.jsx(rr,{name:"project_template",control:l,render:({field:b})=>c.jsx(ar,{doctype:"Project Template",value:b.value||"",onChange:b.onChange,placeholder:"Select project template...",className:"w-full"})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ze,{children:"Expected Start Date"}),c.jsx(Ft,z({type:"date"},i("expected_start_date")))]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ze,{children:"Expected End Date"}),c.jsx(Ft,z({type:"date"},i("expected_end_date")))]})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ze,{children:"Notes"}),c.jsx("textarea",oe(z({},i("notes")),{placeholder:"Enter project notes...",rows:3,className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"}))]})]}),c.jsxs(ws,{children:[c.jsx(j$,{asChild:!0,children:c.jsx(Ye,{type:"button",variant:"outline",children:"Cancel"})}),c.jsx(Ye,{type:"submit",disabled:p||a,className:"bg-blue-600 hover:bg-blue-700",children:p||a?"Creating...":"Create Project"})]})]})})]})},j7=()=>{const[e,t]=se.useState("grid"),{data:n=[],isLoading:s,error:a,mutate:i}=c7(),l=()=>{i&&i()};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Projects"}),c.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Showing projects you have access to (",n.length," projects)"]})]}),c.jsx("div",{className:"mt-4 flex md:mt-0 md:ml-4",children:c.jsx(_7,{onProjectCreated:l})})]}),c.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-4",children:c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(cm,{className:"h-4 w-4 text-gray-400"})}),c.jsx("input",{type:"text",className:"block w-64 pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Search projects..."})]}),c.jsxs("button",{className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[c.jsx(Zx,{className:"mr-2 h-4 w-4"}),"Filter"]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>t("grid"),className:`p-2 rounded-md ${e==="grid"?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:c.jsx(bP,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>t("list"),className:`p-2 rounded-md ${e==="list"?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:c.jsx(jP,{className:"h-4 w-4"})})]})]})}),s?c.jsx("div",{className:"flex justify-center items-center p-8",children:c.jsx("div",{className:"text-gray-500",children:"Loading projects..."})}):a?c.jsx("div",{className:"flex flex-col justify-center items-center p-8 bg-red-50 rounded-lg border border-red-200",children:c.jsxs("div",{className:"text-red-700 text-center",children:[c.jsx("p",{className:"text-lg font-medium mb-2",children:"Error loading projects"}),c.jsx("p",{className:"text-sm mb-2",children:a.message}),a.message.includes("PermissionError")&&c.jsxs("div",{className:"text-sm text-red-600 bg-red-100 p-3 rounded mt-2",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Permission Issue:"})," You don't have access to view projects."]}),c.jsx("p",{children:"Please contact your system administrator to:"}),c.jsxs("ul",{className:"list-disc list-inside mt-1",children:[c.jsx("li",{children:'Grant you "Read" permission for Project doctype'}),c.jsx("li",{children:"Add you to projects as a team member"}),c.jsx("li",{children:"Make you the owner of projects"})]})]})]})}):n.length===0?c.jsx("div",{className:"flex flex-col justify-center items-center p-8 bg-white rounded-lg border border-gray-200",children:c.jsxs("div",{className:"text-gray-500 text-center",children:[c.jsx("p",{className:"text-lg font-medium mb-2",children:"No projects found"}),c.jsx("p",{className:"text-sm",children:"You are not currently participating in any projects."}),c.jsx("p",{className:"text-sm",children:"Create a new project or ask to be added to an existing one."})]})}):c.jsx(c.Fragment,{children:e==="grid"?c.jsx(v7,{projects:n,onProjectsChange:l}):c.jsx(w7,{projects:n,onProjectsChange:l})})]})},S7=({team:e})=>{var C,k;const{data:t,isLoading:n,error:s}=On("Team",e),a=t==null?void 0:t.team_member,{data:i,isLoading:l,error:u}=Dt("User",{fields:["name","full_name","user_image","first_name","last_name","email"],filters:[["enabled","=",1],["user_type","=","System User"]],limit:0}),{simpleTeamData:f,isLoading:h}=b7(),p=!s||!((C=s.message)!=null&&C.includes("PermissionError")),{allTasks:g,allSubTasks:b,isLoading:x,error:w}=x7(),{todos:_,isLoading:S,error:N}=m7(),R=j.useMemo(()=>{const D=[];return g.forEach(M=>{const E=_==null?void 0:_.find(P=>P.reference_type==="Task"&&P.reference_name===M.name);D.push({id:M.name,title:M.subject||"Untitled Task",description:M.description||"No description available",project:M.project||"Unknown Project",assignee:(E==null?void 0:E.allocated_to)||M.completed_by||M.owner||"Unknown",status:M.status||"Open",priority:M.priority||"Medium",dueDate:M.exp_end_date||new Date().toISOString().split("T")[0],labels:[M.type||"Task"],todoId:(E==null?void 0:E.name)||"",referenceName:M.name,referenceType:"Task",type:"Task",taskProgress:M.progress,expectedTime:M.expected_time,actualTime:0,startDate:M.exp_start_date,endDate:M.exp_end_date})}),b.forEach(M=>{const E=_==null?void 0:_.find(P=>P.reference_type==="SubTask"&&P.reference_name===M.name);D.push({id:M.name,title:M.subject||"Untitled SubTask",description:M.description||"No description available",project:"Unknown Project",assignee:(E==null?void 0:E.allocated_to)||M.assigned_to||M.owner||"Unknown",status:M.status||"Open",priority:"Medium",dueDate:M.end_date||new Date().toISOString().split("T")[0],labels:["SubTask"],todoId:(E==null?void 0:E.name)||"",referenceName:M.name,referenceType:"SubTask",type:"SubTask",parentTask:M.task,startDate:M.start_date,endDate:M.end_date})}),D.sort((M,E)=>new Date(E.dueDate).getTime()-new Date(M.dueDate).getTime())},[g,b,_]);return{teamMembersData:j.useMemo(()=>{var D;if(!a||(D=s==null?void 0:s.message)!=null&&D.includes("PermissionError")){if(f&&f.length>0)return f.map(M=>{const E=R.filter(P=>P.assignee===M.id);return{id:M.id,name:M.name,role:M.role,taskCount:E.length,avatar:M.avatar,tasks:E,user:i==null?void 0:i.find(P=>P.name===M.id)}});if(i&&i.length>0){const M=i[0],E=R.filter(P=>P.assignee===(M==null?void 0:M.name));return[{id:(M==null?void 0:M.name)||"unknown",name:(M==null?void 0:M.full_name)||(M==null?void 0:M.first_name)||"Current User",role:"Member",taskCount:E.length,avatar:(M==null?void 0:M.user_image)||`https://placehold.co/40x40/e2e8f0/475569?text=${((M==null?void 0:M.first_name)||"U").charAt(0).toUpperCase()}`,tasks:E,user:M}]}return[]}return i?a.map(M=>{const E=i.find(W=>W.name===M.user),P=R.filter(W=>W.assignee===M.user),K=(E==null?void 0:E.user_image)||`https://placehold.co/40x40/e2e8f0/475569?text=${((E==null?void 0:E.first_name)||(E==null?void 0:E.full_name)||"U").charAt(0).toUpperCase()}`;return{id:M.user||"",name:(E==null?void 0:E.full_name)||(E==null?void 0:E.first_name)||M.user||"Unknown User",role:M.role||"Member",taskCount:P.length,avatar:K,tasks:P,user:E}}):[]},[a,i,R,s,f]),allTransformedTasks:R,isLoading:n||l||x||h||S,error:s&&!((k=s.message)!=null&&k.includes("PermissionError"))?s:u||w||N,teamMembers:a,users:i,hasTeamMemberPermission:p}},N7=({task:e,isOpen:t,onClose:n,onSuccess:s,isLeader:a})=>{const i=(e==null?void 0:e.type)==="SubTask",{updateTask:l,isLoading:u,error:f}=PC(),{assignTask:h,unassignTask:p}=LC(),{updateTaskProgress:g}=RC(),{updateTaskProgressByStatus:b}=DC(),{updateSubTask:x,isLoading:w,error:_}=AC(),{assignSubTask:S,unassignSubTask:N}=eb(),R=u||w,A=f||_,{data:C}=On("Project",(e==null?void 0:e.project)||"",{enabled:!!(e!=null&&e.project)&&!i}),{data:k}=Dt("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=",i?"SubTask":"Task"],["reference_name","=",(e==null?void 0:e.referenceName)||""]]}),{data:D}=Dt("SubTask",{fields:["name"],filters:[["task","=",(e==null?void 0:e.referenceName)||""]],limit:1}),[M,E]=j.useState({subject:"",status:"Open",priority:"Medium",start_date:"",end_date:"",progress:0,description:"",assign_to:""}),[P,K]=j.useState(!1);j.useEffect(()=>{var J;if(e){const G=((J=k==null?void 0:k[0])==null?void 0:J.allocated_to)||"";E({subject:e.title||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.startDate?e.startDate.split(" ")[0]:"",end_date:e.endDate?e.endDate.split(" ")[0]:"",progress:e.taskProgress||0,description:e.description||"",assign_to:G})}},[e,k]),j.useEffect(()=>{i||K(!!(D&&D.length>0))},[D,i]);const W=(J,G)=>{E(H=>oe(z({},H),{[J]:G}))},Y=J=>ye(null,null,function*(){var G,te,ne;if(J.preventDefault(),!!e){if(M.start_date&&M.end_date){const le=new Date(M.start_date);if(new Date(M.end_date)<le){_n.error("End date cannot be earlier than start date");return}}if(!i&&M.end_date&&(C!=null&&C.expected_end_date)){const le=new Date(M.end_date),B=new Date(C.expected_end_date);if(le>B){_n.error(`Task end date cannot be after project end date (${C.expected_end_date})`);return}}try{const le=((G=k==null?void 0:k[0])==null?void 0:G.allocated_to)||"",B=M.assign_to;if(i){const H=M,{assign_to:Q}=H,he=ke(H,["assign_to"]),$={subject:he.subject,status:he.status,start_date:he.start_date,end_date:he.end_date,description:he.description};if(yield x(e.referenceName,$),le&&le!==B){const re=k==null?void 0:k.find(_e=>_e.allocated_to===le);re&&(yield N(re.name))}B&&B!==le&&(yield S(e.referenceName,B)),$.status,e.status,_n.success("SubTask updated successfully",{description:`SubTask "${M.subject}" has been updated.`})}else{const Q=M.progress!==(e.taskProgress||0),he=M.status!==e.status,$={subject:M.subject,status:M.status,priority:M.priority,exp_start_date:M.start_date,exp_end_date:M.end_date,progress:M.progress,description:M.description};if(P&&Q?yield g(e.referenceName,M.progress):he&&(M.status==="Completed"||M.status==="Cancelled")?yield b(e.referenceName,M.status):yield l(e.referenceName,$),le!==B){if(le&&(k!=null&&k[0]))try{yield p(k[0].name)}catch(re){console.error("Error deleting old ToDo:",re)}if(B)try{yield h(e.referenceName,M.subject,B,M.priority)}catch(re){console.error("Error creating new ToDo:",re)}}_n.success("Task updated successfully",{description:`Task "${M.subject}" has been updated.`})}s&&s(),n()}catch(le){console.error("Error updating task/subtask:",le);let B=`Failed to update ${i?"subtask":"task"}`;(te=le==null?void 0:le.message)!=null&&te.includes("modified")?B=`The ${i?"subtask":"task"} has been modified by someone else. Please close and reopen to get the latest version.`:(ne=le==null?void 0:le.message)!=null&&ne.includes("permission")?B=`You do not have permission to update this ${i?"subtask":"task"}.`:le!=null&&le.message&&(B=le.message),_n.error(`Failed to update ${i?"subtask":"task"}`,{description:B})}}}),q=()=>{var J;if(e){const G=((J=k==null?void 0:k[0])==null?void 0:J.allocated_to)||"";E({subject:e.title||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.startDate?e.startDate.split(" ")[0]:"",end_date:e.endDate?e.endDate.split(" ")[0]:"",progress:e.taskProgress||0,description:e.description||"",assign_to:G})}n()};return e?c.jsx(ys,{open:t,onOpenChange:n,children:c.jsxs(bs,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[c.jsx(vs,{children:c.jsxs(_s,{children:["Edit ",i?"SubTask":"Task"]})}),c.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"subject",children:"Subject *"}),c.jsx(Ft,{id:"subject",value:M.subject,onChange:J=>W("subject",J.target.value),required:!0,placeholder:`Enter ${i?"subtask":"task"} subject`})]}),c.jsxs("div",{className:`grid ${i?"grid-cols-1":"grid-cols-2"} gap-4`,children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"status",children:"Status"}),c.jsxs("select",{id:"status",value:M.status,onChange:J=>W("status",J.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"Open",children:"Open"}),c.jsx("option",{value:"Working",children:"Working"}),c.jsx("option",{value:"Pending Review",children:"Pending Review"}),!i&&c.jsx("option",{value:"Overdue",children:"Overdue"}),a&&c.jsx("option",{value:"Completed",children:"Completed"}),a&&c.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),!i&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"priority",children:"Priority"}),c.jsxs("select",{id:"priority",value:M.priority,onChange:J=>W("priority",J.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"Low",children:"Low"}),c.jsx("option",{value:"Medium",children:"Medium"}),c.jsx("option",{value:"High",children:"High"}),c.jsx("option",{value:"Urgent",children:"Urgent"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"start_date",children:i?"Start Date":"Expected Start Date"}),c.jsx(Ft,{id:"start_date",type:"date",value:M.start_date,onChange:J=>W("start_date",J.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"end_date",children:i?"End Date":"Expected End Date"}),c.jsx(Ft,{id:"end_date",type:"date",value:M.end_date,onChange:J=>W("end_date",J.target.value),max:!i&&(C!=null&&C.expected_end_date)?C.expected_end_date:void 0}),!i&&(C==null?void 0:C.expected_end_date)&&c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Must be before project end date: ",C.expected_end_date]})]})]}),!i&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"progress",children:"Progress (%)"}),c.jsx(Ft,{id:"progress",type:"number",min:"0",max:"100",value:M.progress,onChange:J=>W("progress",parseInt(J.target.value)||0),placeholder:"0",disabled:P}),P?c.jsxs("div",{className:"text-sm text-blue-600 bg-blue-50 p-2 rounded",children:[c.jsx("strong",{children:"🔄 Smart Progress Mode:"}),c.jsxs("ul",{className:"mt-1 ml-4 list-disc text-xs",children:[c.jsx("li",{children:"Progress is automatically calculated from subtasks"}),c.jsx("li",{children:"Only assignee can manually override progress"}),c.jsx("li",{children:"Project leaders can set progress via status changes"})]})]}):c.jsxs("div",{className:"text-sm text-green-600 bg-green-50 p-2 rounded",children:[c.jsx("strong",{children:"✏️ Manual Progress Mode:"}),c.jsx("span",{className:"text-xs",children:" Progress can be updated manually by anyone with edit permission"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"description",children:"Description"}),c.jsx("textarea",{id:"description",value:M.description,onChange:J=>W("description",J.target.value),placeholder:`Enter ${i?"subtask":"task"} description`,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),c.jsx("div",{className:"bg-gray-50 p-3 rounded-md",children:c.jsxs("p",{className:"text-sm text-gray-600",children:[c.jsx("strong",{children:"Project:"})," ",e.project]})}),A&&c.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:c.jsxs("p",{children:[c.jsx("strong",{children:"Error:"})," ",A.message||`Failed to update ${i?"subtask":"task"}`]})}),c.jsxs(ws,{className:"flex gap-2",children:[c.jsx(Ye,{type:"button",variant:"outline",onClick:q,children:"Cancel"}),c.jsx(Ye,{type:"submit",disabled:R,children:R?"Updating...":`Update ${i?"SubTask":"Task"}`})]})]})]})}):null},E7=({role:e,currentView:t,setCurrentView:n})=>c.jsx("header",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Trình Quản Lý Công Việc"}),c.jsxs("p",{className:"text-slate-500 mt-1",children:["Quản lý công việc và dự án một cách hiệu quả • Role: ",e||"Member"]})]}),e==="Leader"&&c.jsxs("div",{className:"inline-flex bg-slate-200 rounded-lg p-1",children:[c.jsx("button",{onClick:()=>n("user"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-all ${t==="user"?"bg-white text-slate-900 shadow-sm":"text-slate-600"}`,children:"Giao diện User"}),c.jsx("button",{onClick:()=>n("leader"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-all ${t==="leader"?"bg-white text-slate-900 shadow-sm":"text-slate-600"}`,children:"Giao diện Leader"})]})]})}),HC=e=>{switch(e){case"Working":return"text-orange-800 bg-orange-100";case"Open":return"text-sky-800 bg-sky-100";case"Completed":return"text-emerald-800 bg-emerald-100";case"Cancelled":return"text-red-800 bg-red-100";default:return"text-slate-800 bg-slate-100"}},VC=e=>{switch(e){case"High":return"text-red-800 bg-red-100";case"Medium":return"text-amber-800 bg-amber-100";case"Low":return"text-green-800 bg-green-100";default:return"text-slate-800 bg-slate-100"}},Cu=({task:e,onClick:t,formatDate:n,barClass:s="bg-indigo-600",completed:a=!1})=>{var i,l;return c.jsxs("div",{className:`kanban-card bg-white p-4 rounded-lg shadow-sm border border-slate-200 cursor-pointer ${a?"opacity-70":""}`,onClick:t,children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsx("p",{className:`font-semibold text-slate-900 flex-1 ${a?"line-through":""}`,children:e.title}),c.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ml-2 ${e.type==="Task"?"text-blue-800 bg-blue-100":"text-purple-800 bg-purple-100"}`,children:e.type})]}),c.jsx("p",{className:"text-xs text-slate-500 mb-3",children:e.project}),c.jsxs("div",{className:"mb-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx("span",{className:"text-xs text-slate-600",children:"Tiến độ"}),c.jsx("span",{className:"text-xs text-slate-600 font-medium",children:a?"100%":`${(i=e.taskProgress)!=null?i:0}%`})]}),c.jsx("div",{className:"bg-slate-200 rounded-full h-1.5",children:c.jsx("div",{className:`${a?"bg-emerald-500":s} h-1.5 rounded-full`,style:{width:a?"100%":`${(l=e.taskProgress)!=null?l:0}%`}})})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:`priority-badge ${VC(e.priority)}`,children:e.priority}),c.jsx("span",{className:"text-xs text-slate-500",children:n(e.dueDate).formatted})]})]})},T7=["Open","Working","Overdue","Pending Review","Completed"],C7=["Low","Medium","High","Urgent"],k7=["Task","SubTask"],GS=e=>e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),O7=({isLoading:e,handleRefresh:t,activeTab:n,setActiveTab:s,transformedTasks:a,formatDate:i,handleTaskClick:l})=>{const[u,f]=j.useState(""),[h,p]=j.useState(""),[g,b]=j.useState(""),[x,w]=j.useState(""),[_,S]=j.useState(""),[N,R]=j.useState(!1),[A,C]=j.useState(""),[k,D]=j.useState(""),M=j.useMemo(()=>{const q=new Set;return a.forEach(J=>J.project&&q.add(J.project)),Array.from(q).sort((J,G)=>J.localeCompare(G))},[a]),E=j.useMemo(()=>{const q=GS(u.trim()),J=G=>{if(!G)return!0;const H=new Date(G);if(Number.isNaN(H.getTime()))return!0;if(A){const te=new Date(A);if(H<new Date(te.getFullYear(),te.getMonth(),te.getDate()))return!1}if(k){const te=new Date(k),ne=new Date(te.getFullYear(),te.getMonth(),te.getDate(),23,59,59,999);if(H>ne)return!1}return!0};return(a||[]).filter(G=>!(q&&!GS(`${G.title||""} ${G.project||""} ${G.status||""} ${G.priority||""}`).includes(q)||h&&G.status!==h||g&&G.priority!==g||x&&G.type!==x||_&&G.project!==_||N&&G.status!=="Overdue"&&!i(G.dueDate).isOverdue||!J(G.dueDate)))},[u,h,g,x,_,N,A,k,a,i]),P=()=>{f(""),p(""),b(""),w(""),S(""),R(!1),C(""),D("")},K=q=>E.filter(J=>J.status===q).length,[W,Y]=j.useState(!1);return c.jsx("div",{className:"space-y-8",children:c.jsxs("section",{children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Việc của tôi"}),c.jsxs("button",{onClick:t,disabled:e,className:"mt-4 sm:mt-0 flex items-center justify-center gap-2 bg-indigo-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-indigo-700 transition-all shadow-sm disabled:opacity-50",children:[e?c.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:c.jsx("path",{fill:"currentColor",d:"M12 20q-3.35 0-5.675-2.325T4 12t2.325-5.675T12 4q1.725 0 3.3.712T18 6.75V4h2v7h-7V9h4.2q-.8-1.4-2.187-2.2T12 6Q9.5 6 7.75 7.75T6 12t1.75 4.25T12 18q1.925 0 3.475-1.1T17.65 14h2.1q-.7 2.65-2.85 4.325T12 20"})}),e?"Đang tải...":"Làm mới"]})]}),c.jsx("div",{className:"mt-4 border-b border-slate-200",children:c.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[c.jsx("button",{onClick:()=>s("list"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${n==="list"?"border-indigo-500 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Danh sách"}),c.jsx("button",{onClick:()=>s("kanban"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${n==="kanban"?"border-indigo-500 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Bảng Kanban"}),c.jsx("button",{onClick:()=>s("calendar"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${n==="calendar"?"border-indigo-500 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Lịch"})]})}),c.jsxs("div",{className:"mt-4 bg-white border border-slate-200 p-4 rounded-xl shadow-sm",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3",children:[c.jsxs("div",{className:"relative w-full md:max-w-sm",children:[c.jsx("label",{className:"sr-only",children:"Tìm kiếm"}),c.jsx(cm,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),c.jsx("input",{value:u,onChange:q=>f(q.target.value),placeholder:"Tìm theo tên, dự án, trạng thái...",className:"w-full rounded-lg border border-slate-300 pl-9 pr-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),c.jsxs("div",{className:"flex items-center gap-2 md:ml-auto",children:[c.jsxs("button",{onClick:()=>Y(q=>!q),className:"px-3 py-2 rounded-lg border border-slate-300 text-slate-700 hover:bg-slate-50 inline-flex items-center gap-2",children:[c.jsx(Zx,{className:"h-4 w-4"}),"Bộ lọc"]}),c.jsx("button",{onClick:P,className:"px-3 py-2 rounded-lg border border-slate-300 text-slate-700 hover:bg-slate-50",children:"Xóa"})]})]}),W&&c.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-6 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Trạng thái"}),c.jsxs("select",{value:h,onChange:q=>p(q.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2",children:[c.jsx("option",{value:"",children:"Tất cả"}),T7.map(q=>c.jsx("option",{value:q,children:q},q))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Ưu tiên"}),c.jsxs("select",{value:g,onChange:q=>b(q.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2",children:[c.jsx("option",{value:"",children:"Tất cả"}),C7.map(q=>c.jsx("option",{value:q,children:q},q))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Loại"}),c.jsxs("select",{value:x,onChange:q=>w(q.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2",children:[c.jsx("option",{value:"",children:"Tất cả"}),k7.map(q=>c.jsx("option",{value:q,children:q},q))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Dự án"}),c.jsxs("select",{value:_,onChange:q=>S(q.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2",children:[c.jsx("option",{value:"",children:"Tất cả"}),M.map(q=>c.jsx("option",{value:q,children:q},q))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Hạn từ"}),c.jsx("input",{type:"date",value:A,onChange:q=>C(q.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Hạn đến"}),c.jsx("input",{type:"date",value:k,onChange:q=>D(q.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2"})]})]})]}),n==="list"&&c.jsx("div",{className:"mt-6 bg-white p-4 rounded-xl shadow-sm border border-slate-200",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 uppercase bg-slate-100 rounded-t-lg",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"px-6 py-3",children:"Tên công việc"}),c.jsx("th",{scope:"col",className:"px-6 py-3",children:"Loại"}),c.jsx("th",{scope:"col",className:"px-6 py-3",children:"Dự án"}),c.jsx("th",{scope:"col",className:"px-6 py-3",children:"Tiến độ"}),c.jsx("th",{scope:"col",className:"px-6 py-3",children:"Ngày hết hạn"}),c.jsx("th",{scope:"col",className:"px-6 py-3",children:"Ưu tiên"}),c.jsx("th",{scope:"col",className:"px-6 py-3",children:"Trạng thái"})]})}),c.jsx("tbody",{children:E.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-slate-500",children:e?"Đang tải...":"Không có công việc nào"})}):E.map(q=>c.jsxs("tr",{className:"bg-white border-b border-slate-200 hover:bg-slate-50 table-row transition-all cursor-pointer",onClick:()=>l(q),children:[c.jsxs("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-900 whitespace-nowrap",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[q.type==="SubTask"&&c.jsx("svg",{className:"w-4 h-4 text-slate-400",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M7.707 3.293a1 1 0 010 1.414L5.414 7H11a7 7 0 017 7v2a1 1 0 11-2 0v-2a5 5 0 00-5-5H5.414l2.293 2.293a1 1 0 11-1.414 1.414L2.586 7l3.707-3.707a1 1 0 011.414 0z",clipRule:"evenodd"})}),q.title]}),q.parentTask&&c.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["↳ Subtask của: ",q.parentTask]})]}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${q.type==="Task"?"text-blue-800 bg-blue-100":"text-purple-800 bg-purple-100"}`,children:q.type})}),c.jsx("td",{className:"px-6 py-4",children:q.project}),c.jsx("td",{className:"px-6 py-4",children:q.taskProgress!==void 0?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"flex-1 bg-slate-200 rounded-full h-2",children:c.jsx("div",{className:"bg-indigo-600 h-2 rounded-full transition-all duration-300",style:{width:`${q.taskProgress}%`}})}),c.jsxs("span",{className:"text-xs text-slate-600 font-medium min-w-[3rem]",children:[q.taskProgress,"%"]})]}):c.jsx("span",{className:"text-xs text-slate-400",children:"N/A"})}),c.jsx("td",{className:`px-6 py-4 ${i(q.dueDate).isOverdue?"text-red-600 font-medium":""}`,children:i(q.dueDate).display}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:`priority-badge ${VC(q.priority)}`,children:q.priority})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:`status-badge ${HC(q.status)}`,children:q.status})})]},q.id))})]})})}),n==="kanban"&&c.jsx("div",{className:"mt-6",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[c.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[c.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-sky-500"}),"Cần làm (",K("Open"),")"]}),c.jsx("div",{className:"space-y-4",children:E.filter(q=>q.status==="Open").map(q=>c.jsx(Cu,{task:q,onClick:()=>l(q),formatDate:i},q.id))})]}),c.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[c.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-orange-500"}),"Đang làm (",K("Working"),")"]}),c.jsx("div",{className:"space-y-4",children:E.filter(q=>q.status==="Working").map(q=>c.jsx(Cu,{task:q,onClick:()=>l(q),formatDate:i,barClass:"bg-orange-500"},q.id))})]}),c.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[c.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"}),"Trễ (",K("Overdue"),")"]}),c.jsx("div",{className:"space-y-4",children:E.filter(q=>q.status==="Overdue").map(q=>c.jsx(Cu,{task:q,onClick:()=>l(q),formatDate:i,barClass:"bg-orange-500"},q.id))})]}),c.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[c.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"}),"Review (",K("Pending Review"),")"]}),c.jsx("div",{className:"space-y-4",children:E.filter(q=>q.status==="Pending Review").map(q=>c.jsx(Cu,{task:q,onClick:()=>l(q),formatDate:i,barClass:"bg-orange-500"},q.id))})]}),c.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[c.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500"}),"Hoàn thành (",K("Completed"),")"]}),c.jsx("div",{className:"space-y-4",children:E.filter(q=>q.status==="Completed").map(q=>c.jsx(Cu,{task:q,onClick:()=>l(q),formatDate:i,completed:!0},q.id))})]})]})}),n==="calendar"&&c.jsx("div",{className:"mt-6 bg-white p-8 rounded-xl shadow-sm border border-slate-200",children:c.jsx("div",{className:"text-center text-slate-500",children:c.jsx("p",{children:"Giao diện lịch sẽ được phát triển trong tương lai"})})})]})})},A7=({teamDataError:e,teamMembersData:t,selectedMember:n,setSelectedMember:s,formatDate:a,handleTaskClick:i})=>{var u;const l=y7();return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("section",{children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Dashboard Tổng Quan"}),c.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[c.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Tổng công việc"}),c.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-1",children:l.total})]}),c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[c.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Đang thực hiện"}),c.jsx("p",{className:"text-3xl font-bold text-orange-500 mt-1",children:l.working})]}),c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[c.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Hoàn thành"}),c.jsx("p",{className:"text-3xl font-bold text-emerald-500 mt-1",children:l.completed})]}),c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[c.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Trễ hạn"}),c.jsx("p",{className:"text-3xl font-bold text-red-500 mt-1",children:l.overdue})]})]})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Quản lý Nhóm"}),((u=e==null?void 0:e.message)==null?void 0:u.includes("PermissionError"))&&c.jsx("div",{className:"mt-4 bg-amber-50 border border-amber-200 rounded-md p-4",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"h-5 w-5 text-amber-400",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-sm font-medium text-amber-800",children:"Quyền truy cập hạn chế"}),c.jsx("div",{className:"mt-2 text-sm text-amber-700",children:c.jsx("p",{children:"Không thể truy cập đầy đủ dữ liệu team members. Hiển thị dữ liệu cơ bản từ danh sách users."})})]})]})}),c.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[c.jsxs("div",{className:"lg:col-span-1 bg-white p-4 rounded-xl shadow-sm border border-slate-200",children:[c.jsxs("h3",{className:"font-bold text-slate-800 mb-4 px-2",children:["Thành viên nhóm (",t.length,")"]}),c.jsx("ul",{className:"space-y-2",children:t.map(f=>c.jsx("li",{onClick:()=>s(f.id),className:`member-item p-3 border rounded-lg hover:bg-slate-100 cursor-pointer transition-all ${n===f.id?"active":"border-transparent"}`,children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("img",{className:"h-10 w-10 rounded-full",src:f.avatar,alt:f.name}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-slate-900",children:f.name}),c.jsxs("p",{className:"text-sm text-slate-500",children:[f.taskCount," công việc"]})]})]})},f.id))})]}),c.jsx("div",{className:"lg:col-span-2 bg-white p-4 rounded-xl shadow-sm border border-slate-200 min-h-[300px]",children:n?(()=>{const f=t.find(h=>h.id===n);return f?c.jsxs("div",{children:[c.jsxs("h3",{className:"font-bold text-slate-800 mb-4",children:["Công việc của ",f.name]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 uppercase bg-slate-100",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-2",children:"Tên công việc"}),c.jsx("th",{className:"px-4 py-2",children:"Loại"}),c.jsx("th",{className:"px-4 py-2",children:"Dự án"}),c.jsx("th",{className:"px-4 py-2",children:"Tiến độ"}),c.jsx("th",{className:"px-4 py-2",children:"Hạn chót"}),c.jsx("th",{className:"px-4 py-2",children:"Trạng thái"})]})}),c.jsx("tbody",{children:f.tasks.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"text-center py-4 text-slate-500",children:"Thành viên này chưa có công việc nào."})}):f.tasks.map(h=>c.jsxs("tr",{className:"border-b border-slate-200 cursor-pointer hover:bg-slate-50",onClick:()=>i(h),children:[c.jsxs("td",{className:"px-4 py-3 font-medium text-slate-900",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[h.type==="SubTask"&&c.jsx("svg",{className:"w-3 h-3 text-slate-400",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M7.707 3.293a1 1 0 010 1.414L5.414 7H11a7 7 0 017 7v2a1 1 0 11-2 0v-2a5 5 0 00-5-5H5.414l2.293 2.293a1 1 0 11-1.414 1.414L2.586 7l3.707-3.707a1 1 0 011.414 0z",clipRule:"evenodd"})}),h.title]}),h.parentTask&&c.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["↳ Subtask của: ",h.parentTask]})]}),c.jsx("td",{className:"px-4 py-3",children:c.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${h.type==="Task"?"text-blue-800 bg-blue-100":"text-purple-800 bg-purple-100"}`,children:h.type})}),c.jsx("td",{className:"px-4 py-3",children:h.project}),c.jsx("td",{className:"px-4 py-3",children:h.taskProgress!==void 0?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"flex-1 bg-slate-200 rounded-full h-1.5 min-w-[60px]",children:c.jsx("div",{className:"bg-indigo-600 h-1.5 rounded-full transition-all duration-300",style:{width:`${h.taskProgress}%`}})}),c.jsxs("span",{className:"text-xs text-slate-600 font-medium min-w-[2.5rem]",children:[h.taskProgress,"%"]})]}):c.jsx("span",{className:"text-xs text-slate-400",children:"N/A"})}),c.jsx("td",{className:"px-4 py-3",children:a(h.dueDate).display}),c.jsx("td",{className:"px-4 py-3",children:c.jsx("span",{className:`status-badge ${HC(h.status)}`,children:h.status})})]},h.id))})]})})]}):c.jsx("div",{className:"flex items-center justify-center h-full text-slate-500",children:c.jsx("p",{children:"Không tìm thấy thành viên."})})})():c.jsx("div",{className:"flex items-center justify-center h-full text-slate-500",children:c.jsx("p",{children:"Chọn một thành viên để xem công việc của họ."})})})]})]})]})},D7=({error:e})=>c.jsx(c.Fragment,{children:e&&c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:c.jsx("div",{className:"flex",children:c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading tasks"}),c.jsx("div",{className:"mt-2 text-sm text-red-700",children:c.jsx("p",{children:e.message||"Failed to load your tasks. Please try again."})})]})})})}),R7=()=>{const[e,t]=se.useState("user"),[n,s]=se.useState("list"),[a,i]=se.useState(null),[l,u]=se.useState(!1),[f,h]=se.useState(null),{tasks:p,subTasks:g,isLoading:b,error:x,mutate:w,currentUser:_}=g7(),{data:S}=Dt("Team",{filters:[["teamlead","=",_||""]]}),N=S&&S.length>0?"Leader":"Member";se.useEffect(()=>{N==="Leader"&&t("leader")},[N]);const R=se.useMemo(()=>{const K=[];return p.forEach(W=>{var Y;K.push({id:W.name,title:W.subject||"Untitled Task",description:W.description||"No description available",project:W.project_name||W.project||"Unknown Project",assignee:_||"Unknown",status:W.status||"Open",priority:W.priority||"Medium",dueDate:W.exp_end_date||new Date().toISOString().split("T")[0],labels:[W.type||"Task"],todoId:((Y=W.assignedTodo)==null?void 0:Y.name)||"",referenceName:W.name,referenceType:"Task",type:"Task",taskProgress:W.progress,expectedTime:W.expected_time,actualTime:W.actual_time,startDate:W.exp_start_date,endDate:W.exp_end_date})}),g.forEach(W=>{var Y;K.push({id:W.name,title:W.subject||"Untitled SubTask",description:W.description||"No description available",project:W.project_name||"Unknown Project",assignee:_||"Unknown",status:W.status||"Open",priority:"Medium",dueDate:W.end_date||new Date().toISOString().split("T")[0],labels:["SubTask"],todoId:((Y=W.assignedTodo)==null?void 0:Y.name)||"",referenceName:W.name,referenceType:"SubTask",type:"SubTask",parentTask:W.task_subject,startDate:W.start_date,endDate:W.end_date})}),K.sort((W,Y)=>new Date(Y.dueDate).getTime()-new Date(W.dueDate).getTime())},[p,g,_]),{teamMembersData:A,error:C}=S7({team:S&&S.length>0?S[0].name:""}),k=K=>{const W=new Date(K),q=W<new Date,J=W.toLocaleDateString("vi-VN");return{formatted:J,isOverdue:q,display:q?`${J} (Trễ)`:J}},D=()=>{w()},M=K=>{h(K),u(!0)},E=()=>{u(!1),h(null)},P=()=>{w()};return c.jsxs("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-slate-50 text-slate-800",children:[c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsx(E7,{role:N,currentView:e,setCurrentView:t}),c.jsx(D7,{error:x}),c.jsxs("main",{children:[e==="user"&&c.jsx(O7,{isLoading:b,handleRefresh:D,activeTab:n,setActiveTab:s,transformedTasks:R,formatDate:k,handleTaskClick:M}),e==="leader"&&N==="Leader"&&c.jsx(A7,{teamDataError:C,teamMembersData:A,selectedMember:a,setSelectedMember:i,formatDate:k,handleTaskClick:M})]})]}),c.jsx(N7,{task:f,isOpen:l,onClose:E,onSuccess:P,isLeader:N==="Leader"})]})},M7=[{id:1,project:"E-commerce Platform",task:"Design user interface mockups",user:"Jane Smith",startTime:"09:00 AM",endTime:"11:30 AM",duration:"2h 30m",date:"2024-03-08"},{id:2,project:"Mobile App Redesign",task:"API documentation",user:"Mike Johnson",startTime:"02:00 PM",endTime:"04:15 PM",duration:"2h 15m",date:"2024-03-08"},{id:3,project:"Data Analytics Dashboard",task:"Testing setup",user:"Sarah Wilson",startTime:"10:30 AM",endTime:"12:00 PM",duration:"1h 30m",date:"2024-03-07"}],P7=()=>{const[e,t]=se.useState(!1),[n,s]=se.useState("00:00:00");return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"md:flex md:items-center md:justify-between",children:c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Time Tracking"}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Track time spent on projects and tasks"})]})}),c.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-6",children:c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("div",{className:"text-4xl font-mono font-bold text-gray-900",children:n}),c.jsx("div",{className:"flex items-center justify-center space-x-4",children:e?c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>t(!1),className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-yellow-600 hover:bg-yellow-700",children:[c.jsx(OP,{className:"mr-2 h-5 w-5"}),"Pause"]}),c.jsxs("button",{onClick:()=>{t(!1),s("00:00:00")},className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-red-600 hover:bg-red-700",children:[c.jsx(qP,{className:"mr-2 h-5 w-5"}),"Stop"]})]}):c.jsxs("button",{onClick:()=>t(!0),className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-green-600 hover:bg-green-700",children:[c.jsx(LP,{className:"mr-2 h-5 w-5"}),"Start Timer"]})}),e&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project"}),c.jsxs("select",{className:"w-full border border-gray-300 rounded-md px-3 py-2",children:[c.jsx("option",{children:"E-commerce Platform"}),c.jsx("option",{children:"Mobile App Redesign"}),c.jsx("option",{children:"Data Analytics Dashboard"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Task Description"}),c.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"What are you working on?"})]})]})]})}),c.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Time Entries"})}),c.jsx("div",{className:"overflow-hidden",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Task"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time Period"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:M7.map(a=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:a.project}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.task}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.user}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[a.startTime," - ",a.endTime]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[c.jsx(nc,{className:"mr-1 h-3 w-3"}),a.duration]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.date})]},a.id))})]})})]})]})},Ul=({title:e,description:t})=>c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"text-center py-12",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:e}),c.jsx("p",{className:"text-lg text-gray-600 mb-8",children:t}),c.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-12",children:c.jsxs("div",{className:"text-gray-400 text-center",children:[c.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-4xl",children:"🚧"})}),c.jsx("p",{className:"text-lg",children:"This page is under construction"}),c.jsx("p",{className:"text-sm mt-2",children:"More features coming soon!"})]})})]})}),L7=SM([{path:"/",element:c.jsx(m6,{}),children:[{index:!0,element:c.jsx(yF,{})},{path:"projects",element:c.jsx(j7,{})},{path:"tasks",element:c.jsx(R7,{})},{path:"time-tracking",element:c.jsx(P7,{})},{path:"cost-analysis",element:c.jsx(Ul,{title:"Cost Analysis",description:"Track project costs and budget allocations"})},{path:"reports",element:c.jsx(Ul,{title:"Reports",description:"Generate detailed reports and analytics"})},{path:"calendar",element:c.jsx(Ul,{title:"Calendar",description:"Manage deadlines and project timelines"})},{path:"team",element:c.jsx(Ul,{title:"Team Management",description:"Manage team members and permissions"})},{path:"documents",element:c.jsx(Ul,{title:"Documents",description:"Store and organize project documents"})},{path:"settings",element:c.jsx(Ul,{title:"Settings",description:"Configure your workspace preferences"})}]}],{basename:"/todo"});$O.createRoot(document.getElementById("root")).render(c.jsx(se.StrictMode,{children:c.jsx(PM,{router:L7})}))});export default z7();
