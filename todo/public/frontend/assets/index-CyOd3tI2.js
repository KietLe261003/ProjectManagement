var Xk=Object.defineProperty,Gk=Object.defineProperties;var Kk=Object.getOwnPropertyDescriptors;var lf=Object.getOwnPropertySymbols;var zw=Object.prototype.hasOwnProperty,Uw=Object.prototype.propertyIsEnumerable;var yl=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),Qk=e=>{throw TypeError(e)};var Kp=(e,t,n)=>t in e?Xk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,U=(e,t)=>{for(var n in t||(t={}))zw.call(t,n)&&Kp(e,n,t[n]);if(lf)for(var n of lf(t))Uw.call(t,n)&&Kp(e,n,t[n]);return e},xe=(e,t)=>Gk(e,Kk(t));var Me=(e,t)=>{var n={};for(var s in e)zw.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&lf)for(var s of lf(e))t.indexOf(s)<0&&Uw.call(e,s)&&(n[s]=e[s]);return n};var Zk=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var ut=(e,t,n)=>Kp(e,typeof t!="symbol"?t+"":t,n);var pe=(e,t,n)=>new Promise((s,a)=>{var o=f=>{try{d(n.next(f))}catch(h){a(h)}},l=f=>{try{d(n.throw(f))}catch(h){a(h)}},d=f=>f.done?s(f.value):Promise.resolve(f.value).then(o,l);d((n=n.apply(e,t)).next())}),ro=function(e,t){this[0]=e,this[1]=t},Qp=(e,t,n)=>{var s=(l,d,f,h)=>{try{var p=n[l](d),x=(d=p.value)instanceof ro,y=p.done;Promise.resolve(x?d[0]:d).then(b=>x?s(l==="return"?l:"next",d[1]?{done:b.done,value:b.value}:b,f,h):f({value:b,done:y})).catch(b=>s("throw",b,f,h))}catch(b){h(b)}},a=l=>o[l]=d=>new Promise((f,h)=>s(l,d,f,h)),o={};return n=n.apply(e,t),o[yl("asyncIterator")]=()=>o,a("next"),a("throw"),a("return"),o},Zp=e=>{var t=e[yl("asyncIterator")],n=!1,s,a={};return t==null?(t=e[yl("iterator")](),s=o=>a[o]=l=>t[o](l)):(t=t.call(e),s=o=>a[o]=l=>{if(n){if(n=!1,o==="throw")throw l;return l}return n=!0,{done:!1,value:new ro(new Promise(d=>{var f=t[o](l);f instanceof Object||Qk("Object expected"),d(f)}),1)}}),a[yl("iterator")]=()=>a,s("next"),"throw"in t?s("throw"):a.throw=o=>{throw o},"return"in t&&s("return"),a},Bw=(e,t,n)=>(t=e[yl("asyncIterator")])?t.call(e):(e=e[yl("iterator")](),t={},n=(s,a)=>(a=e[s])&&(t[s]=o=>new Promise((l,d,f)=>(o=a.call(e,o),f=o.done,Promise.resolve(o.value).then(h=>l({value:h,done:f}),d)))),n("next"),n("return"),t);var oF=Zk(kt=>{function Jk(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(s,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function W0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jp={exports:{}},Zc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fw;function eC(){if(Fw)return Zc;Fw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var d in a)d!=="key"&&(o[d]=a[d])}else o=a;return a=o.ref,{$$typeof:e,type:s,key:l,ref:a!==void 0?a:null,props:o}}return Zc.Fragment=t,Zc.jsx=n,Zc.jsxs=n,Zc}var Hw;function tC(){return Hw||(Hw=1,Jp.exports=eC()),Jp.exports}var u=tC(),eg={exports:{}},Nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vw;function nC(){if(Vw)return Nt;Vw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),x=Symbol.iterator;function y(H){return H===null||typeof H!="object"?null:(H=x&&H[x]||H["@@iterator"],typeof H=="function"?H:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,_={};function j(H,ae,ye){this.props=H,this.context=ae,this.refs=_,this.updater=ye||b}j.prototype.isReactComponent={},j.prototype.setState=function(H,ae){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ae,"setState")},j.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function N(){}N.prototype=j.prototype;function k(H,ae,ye){this.props=H,this.context=ae,this.refs=_,this.updater=ye||b}var C=k.prototype=new N;C.constructor=k,w(C,j.prototype),C.isPureReactComponent=!0;var R=Array.isArray,A={H:null,A:null,T:null,S:null,V:null},M=Object.prototype.hasOwnProperty;function z(H,ae,ye,X,he,ke){return ye=ke.ref,{$$typeof:e,type:H,key:ae,ref:ye!==void 0?ye:null,props:ke}}function P(H,ae){return z(H.type,ae,void 0,void 0,void 0,H.props)}function V(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function te(H){var ae={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ye){return ae[ye]})}var $=/\/+/g;function Z(H,ae){return typeof H=="object"&&H!==null&&H.key!=null?te(""+H.key):ae.toString(36)}function le(){}function J(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(le,le):(H.status="pending",H.then(function(ae){H.status==="pending"&&(H.status="fulfilled",H.value=ae)},function(ae){H.status==="pending"&&(H.status="rejected",H.reason=ae)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function I(H,ae,ye,X,he){var ke=typeof H;(ke==="undefined"||ke==="boolean")&&(H=null);var be=!1;if(H===null)be=!0;else switch(ke){case"bigint":case"string":case"number":be=!0;break;case"object":switch(H.$$typeof){case e:case t:be=!0;break;case p:return be=H._init,I(be(H._payload),ae,ye,X,he)}}if(be)return he=he(H),be=X===""?"."+Z(H,0):X,R(he)?(ye="",be!=null&&(ye=be.replace($,"$&/")+"/"),I(he,ae,ye,"",function(tt){return tt})):he!=null&&(V(he)&&(he=P(he,ye+(he.key==null||H&&H.key===he.key?"":(""+he.key).replace($,"$&/")+"/")+be)),ae.push(he)),1;be=0;var Ce=X===""?".":X+":";if(R(H))for(var ze=0;ze<H.length;ze++)X=H[ze],ke=Ce+Z(X,ze),be+=I(X,ae,ye,ke,he);else if(ze=y(H),typeof ze=="function")for(H=ze.call(H),ze=0;!(X=H.next()).done;)X=X.value,ke=Ce+Z(X,ze++),be+=I(X,ae,ye,ke,he);else if(ke==="object"){if(typeof H.then=="function")return I(J(H),ae,ye,X,he);throw ae=String(H),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return be}function B(H,ae,ye){if(H==null)return H;var X=[],he=0;return I(H,X,"","",function(ke){return ae.call(ye,ke,he++)}),X}function Y(H){if(H._status===-1){var ae=H._result;ae=ae(),ae.then(function(ye){(H._status===0||H._status===-1)&&(H._status=1,H._result=ye)},function(ye){(H._status===0||H._status===-1)&&(H._status=2,H._result=ye)}),H._status===-1&&(H._status=0,H._result=ae)}if(H._status===1)return H._result.default;throw H._result}var Q=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function ve(){}return Nt.Children={map:B,forEach:function(H,ae,ye){B(H,function(){ae.apply(this,arguments)},ye)},count:function(H){var ae=0;return B(H,function(){ae++}),ae},toArray:function(H){return B(H,function(ae){return ae})||[]},only:function(H){if(!V(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Nt.Component=j,Nt.Fragment=n,Nt.Profiler=a,Nt.PureComponent=k,Nt.StrictMode=s,Nt.Suspense=f,Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Nt.__COMPILER_RUNTIME={__proto__:null,c:function(H){return A.H.useMemoCache(H)}},Nt.cache=function(H){return function(){return H.apply(null,arguments)}},Nt.cloneElement=function(H,ae,ye){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var X=w({},H.props),he=H.key,ke=void 0;if(ae!=null)for(be in ae.ref!==void 0&&(ke=void 0),ae.key!==void 0&&(he=""+ae.key),ae)!M.call(ae,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&ae.ref===void 0||(X[be]=ae[be]);var be=arguments.length-2;if(be===1)X.children=ye;else if(1<be){for(var Ce=Array(be),ze=0;ze<be;ze++)Ce[ze]=arguments[ze+2];X.children=Ce}return z(H.type,he,void 0,void 0,ke,X)},Nt.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:o,_context:H},H},Nt.createElement=function(H,ae,ye){var X,he={},ke=null;if(ae!=null)for(X in ae.key!==void 0&&(ke=""+ae.key),ae)M.call(ae,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(he[X]=ae[X]);var be=arguments.length-2;if(be===1)he.children=ye;else if(1<be){for(var Ce=Array(be),ze=0;ze<be;ze++)Ce[ze]=arguments[ze+2];he.children=Ce}if(H&&H.defaultProps)for(X in be=H.defaultProps,be)he[X]===void 0&&(he[X]=be[X]);return z(H,ke,void 0,void 0,null,he)},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(H){return{$$typeof:d,render:H}},Nt.isValidElement=V,Nt.lazy=function(H){return{$$typeof:p,_payload:{_status:-1,_result:H},_init:Y}},Nt.memo=function(H,ae){return{$$typeof:h,type:H,compare:ae===void 0?null:ae}},Nt.startTransition=function(H){var ae=A.T,ye={};A.T=ye;try{var X=H(),he=A.S;he!==null&&he(ye,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(ve,Q)}catch(ke){Q(ke)}finally{A.T=ae}},Nt.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Nt.use=function(H){return A.H.use(H)},Nt.useActionState=function(H,ae,ye){return A.H.useActionState(H,ae,ye)},Nt.useCallback=function(H,ae){return A.H.useCallback(H,ae)},Nt.useContext=function(H){return A.H.useContext(H)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(H,ae){return A.H.useDeferredValue(H,ae)},Nt.useEffect=function(H,ae,ye){var X=A.H;if(typeof ye=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(H,ae)},Nt.useId=function(){return A.H.useId()},Nt.useImperativeHandle=function(H,ae,ye){return A.H.useImperativeHandle(H,ae,ye)},Nt.useInsertionEffect=function(H,ae){return A.H.useInsertionEffect(H,ae)},Nt.useLayoutEffect=function(H,ae){return A.H.useLayoutEffect(H,ae)},Nt.useMemo=function(H,ae){return A.H.useMemo(H,ae)},Nt.useOptimistic=function(H,ae){return A.H.useOptimistic(H,ae)},Nt.useReducer=function(H,ae,ye){return A.H.useReducer(H,ae,ye)},Nt.useRef=function(H){return A.H.useRef(H)},Nt.useState=function(H){return A.H.useState(H)},Nt.useSyncExternalStore=function(H,ae,ye){return A.H.useSyncExternalStore(H,ae,ye)},Nt.useTransition=function(){return A.H.useTransition()},Nt.version="19.1.1",Nt}var $w;function X0(){return $w||($w=1,eg.exports=nC()),eg.exports}var S=X0();const _e=W0(S),nS=Jk({__proto__:null,default:_e},[S]);var tg={exports:{}},Jc={},ng={exports:{}},sg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qw;function sC(){return qw||(qw=1,function(e){function t(B,Y){var Q=B.length;B.push(Y);e:for(;0<Q;){var ve=Q-1>>>1,H=B[ve];if(0<a(H,Y))B[ve]=Y,B[Q]=H,Q=ve;else break e}}function n(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var Y=B[0],Q=B.pop();if(Q!==Y){B[0]=Q;e:for(var ve=0,H=B.length,ae=H>>>1;ve<ae;){var ye=2*(ve+1)-1,X=B[ye],he=ye+1,ke=B[he];if(0>a(X,Q))he<H&&0>a(ke,X)?(B[ve]=ke,B[he]=Q,ve=he):(B[ve]=X,B[ye]=Q,ve=ye);else if(he<H&&0>a(ke,Q))B[ve]=ke,B[he]=Q,ve=he;else break e}}return Y}function a(B,Y){var Q=B.sortIndex-Y.sortIndex;return Q!==0?Q:B.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var f=[],h=[],p=1,x=null,y=3,b=!1,w=!1,_=!1,j=!1,N=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate!="undefined"?setImmediate:null;function R(B){for(var Y=n(h);Y!==null;){if(Y.callback===null)s(h);else if(Y.startTime<=B)s(h),Y.sortIndex=Y.expirationTime,t(f,Y);else break;Y=n(h)}}function A(B){if(_=!1,R(B),!w)if(n(f)!==null)w=!0,M||(M=!0,Z());else{var Y=n(h);Y!==null&&I(A,Y.startTime-B)}}var M=!1,z=-1,P=5,V=-1;function te(){return j?!0:!(e.unstable_now()-V<P)}function $(){if(j=!1,M){var B=e.unstable_now();V=B;var Y=!0;try{e:{w=!1,_&&(_=!1,k(z),z=-1),b=!0;var Q=y;try{t:{for(R(B),x=n(f);x!==null&&!(x.expirationTime>B&&te());){var ve=x.callback;if(typeof ve=="function"){x.callback=null,y=x.priorityLevel;var H=ve(x.expirationTime<=B);if(B=e.unstable_now(),typeof H=="function"){x.callback=H,R(B),Y=!0;break t}x===n(f)&&s(f),R(B)}else s(f);x=n(f)}if(x!==null)Y=!0;else{var ae=n(h);ae!==null&&I(A,ae.startTime-B),Y=!1}}break e}finally{x=null,y=Q,b=!1}Y=void 0}}finally{Y?Z():M=!1}}}var Z;if(typeof C=="function")Z=function(){C($)};else if(typeof MessageChannel!="undefined"){var le=new MessageChannel,J=le.port2;le.port1.onmessage=$,Z=function(){J.postMessage(null)}}else Z=function(){N($,0)};function I(B,Y){z=N(function(){B(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(B){switch(y){case 1:case 2:case 3:var Y=3;break;default:Y=y}var Q=y;y=Y;try{return B()}finally{y=Q}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(B,Y){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Q=y;y=B;try{return Y()}finally{y=Q}},e.unstable_scheduleCallback=function(B,Y,Q){var ve=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ve+Q:ve):Q=ve,B){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=Q+H,B={id:p++,callback:Y,priorityLevel:B,startTime:Q,expirationTime:H,sortIndex:-1},Q>ve?(B.sortIndex=Q,t(h,B),n(f)===null&&B===n(h)&&(_?(k(z),z=-1):_=!0,I(A,Q-ve))):(B.sortIndex=H,t(f,B),w||b||(w=!0,M||(M=!0,Z()))),B},e.unstable_shouldYield=te,e.unstable_wrapCallback=function(B){var Y=y;return function(){var Q=y;y=Y;try{return B.apply(this,arguments)}finally{y=Q}}}}(sg)),sg}var Yw;function rC(){return Yw||(Yw=1,ng.exports=sC()),ng.exports}var rg={exports:{}},xs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iw;function aC(){if(Iw)return xs;Iw=1;var e=X0();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,h,p){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:f,containerInfo:h,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return xs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,xs.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return o(f,h,null,p)},xs.flushSync=function(f){var h=l.T,p=s.p;try{if(l.T=null,s.p=2,f)return f()}finally{l.T=h,s.p=p,s.d.f()}},xs.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(f,h))},xs.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},xs.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,x=d(p,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?s.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:x,integrity:y,fetchPriority:b}):p==="script"&&s.d.X(f,{crossOrigin:x,integrity:y,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},xs.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);s.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(f)},xs.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,x=d(p,h.crossOrigin);s.d.L(f,p,{crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},xs.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=d(h.as,h.crossOrigin);s.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(f)},xs.requestFormReset=function(f){s.d.r(f)},xs.unstable_batchedUpdates=function(f,h){return f(h)},xs.useFormState=function(f,h,p){return l.H.useFormState(f,h,p)},xs.useFormStatus=function(){return l.H.useHostTransitionStatus()},xs.version="19.1.1",xs}var Ww;function sS(){if(Ww)return rg.exports;Ww=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),rg.exports=aC(),rg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xw;function iC(){if(Xw)return Jc;Xw=1;var e=rC(),t=X0(),n=sS();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var i=r,c=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(c=i.return),r=i.return;while(r)}return i.tag===3?c:null}function l(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function d(r){if(o(r)!==r)throw Error(s(188))}function f(r){var i=r.alternate;if(!i){if(i=o(r),i===null)throw Error(s(188));return i!==r?null:r}for(var c=r,m=i;;){var g=c.return;if(g===null)break;var v=g.alternate;if(v===null){if(m=g.return,m!==null){c=m;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===c)return d(g),r;if(v===m)return d(g),i;v=v.sibling}throw Error(s(188))}if(c.return!==m.return)c=g,m=v;else{for(var T=!1,D=g.child;D;){if(D===c){T=!0,c=g,m=v;break}if(D===m){T=!0,m=g,c=v;break}D=D.sibling}if(!T){for(D=v.child;D;){if(D===c){T=!0,c=v,m=g;break}if(D===m){T=!0,m=v,c=g;break}D=D.sibling}if(!T)throw Error(s(189))}}if(c.alternate!==m)throw Error(s(190))}if(c.tag!==3)throw Error(s(188));return c.stateNode.current===c?r:i}function h(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=h(r),i!==null)return i;r=r.sibling}return null}var p=Object.assign,x=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),C=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function Z(r){return r===null||typeof r!="object"?null:(r=$&&r[$]||r["@@iterator"],typeof r=="function"?r:null)}var le=Symbol.for("react.client.reference");function J(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===le?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case w:return"Fragment";case j:return"Profiler";case _:return"StrictMode";case A:return"Suspense";case M:return"SuspenseList";case V:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case b:return"Portal";case C:return(r.displayName||"Context")+".Provider";case k:return(r._context.displayName||"Context")+".Consumer";case R:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case z:return i=r.displayName||null,i!==null?i:J(r.type)||"Memo";case P:i=r._payload,r=r._init;try{return J(r(i))}catch(c){}}return null}var I=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},ve=[],H=-1;function ae(r){return{current:r}}function ye(r){0>H||(r.current=ve[H],ve[H]=null,H--)}function X(r,i){H++,ve[H]=r.current,r.current=i}var he=ae(null),ke=ae(null),be=ae(null),Ce=ae(null);function ze(r,i){switch(X(be,i),X(ke,r),X(he,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?dw(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=dw(i),r=fw(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ye(he),X(he,r)}function tt(){ye(he),ye(ke),ye(be)}function Ve(r){r.memoizedState!==null&&X(Ce,r);var i=he.current,c=fw(i,r.type);i!==c&&(X(ke,r),X(he,c))}function Et(r){ke.current===r&&(ye(he),ye(ke)),Ce.current===r&&(ye(Ce),Wc._currentValue=Q)}var lt=Object.prototype.hasOwnProperty,yt=e.unstable_scheduleCallback,De=e.unstable_cancelCallback,mt=e.unstable_shouldYield,Yt=e.unstable_requestPaint,Ct=e.unstable_now,It=e.unstable_getCurrentPriorityLevel,Xt=e.unstable_ImmediatePriority,W=e.unstable_UserBlockingPriority,oe=e.unstable_NormalPriority,q=e.unstable_LowPriority,Se=e.unstable_IdlePriority,Re=e.log,Oe=e.unstable_setDisableYieldValue,Ue=null,$e=null;function Ke(r){if(typeof Re=="function"&&Oe(r),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(Ue,r)}catch(i){}}var bt=Math.clz32?Math.clz32:Be,ts=Math.log,Te=Math.LN2;function Be(r){return r>>>=0,r===0?32:31-(ts(r)/Te|0)|0}var _t=256,On=4194304;function ls(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function ws(r,i,c){var m=r.pendingLanes;if(m===0)return 0;var g=0,v=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var D=m&134217727;return D!==0?(m=D&~v,m!==0?g=ls(m):(T&=D,T!==0?g=ls(T):c||(c=D&~r,c!==0&&(g=ls(c))))):(D=m&~v,D!==0?g=ls(D):T!==0?g=ls(T):c||(c=m&~r,c!==0&&(g=ls(c)))),g===0?0:i!==0&&i!==g&&(i&v)===0&&(v=g&-g,c=i&-i,v>=c||v===32&&(c&4194048)!==0)?i:g}function qn(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function wr(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nt(){var r=_t;return _t<<=1,(_t&4194048)===0&&(_t=256),r}function Mt(){var r=On;return On<<=1,(On&62914560)===0&&(On=4194304),r}function zt(r){for(var i=[],c=0;31>c;c++)i.push(r);return i}function jt(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Jt(r,i,c,m,g,v){var T=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var D=r.entanglements,G=r.expirationTimes,ue=r.hiddenUpdates;for(c=T&~c;0<c;){var je=31-bt(c),Ee=1<<je;D[je]=0,G[je]=-1;var me=ue[je];if(me!==null)for(ue[je]=null,je=0;je<me.length;je++){var ge=me[je];ge!==null&&(ge.lane&=-536870913)}c&=~Ee}m!==0&&pn(r,m,0),v!==0&&g===0&&r.tag!==0&&(r.suspendedLanes|=v&~(T&~i))}function pn(r,i,c){r.pendingLanes|=i,r.suspendedLanes&=~i;var m=31-bt(i);r.entangledLanes|=i,r.entanglements[m]=r.entanglements[m]|1073741824|c&4194090}function an(r,i){var c=r.entangledLanes|=i;for(r=r.entanglements;c;){var m=31-bt(c),g=1<<m;g&i|r[m]&i&&(r[m]|=i),c&=~g}}function ns(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Yn(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function K(){var r=Y.p;return r!==0?r:(r=window.event,r===void 0?32:Aw(r.type))}function se(r,i){var c=Y.p;try{return Y.p=r,i()}finally{Y.p=c}}var de=Math.random().toString(36).slice(2),we="__reactFiber$"+de,Ae="__reactProps$"+de,Ye="__reactContainer$"+de,Ze="__reactEvents$"+de,at="__reactListeners$"+de,ot="__reactHandles$"+de,St="__reactResources$"+de,Je="__reactMarker$"+de;function pt(r){delete r[we],delete r[Ae],delete r[Ze],delete r[at],delete r[ot]}function wt(r){var i=r[we];if(i)return i;for(var c=r.parentNode;c;){if(i=c[Ye]||c[we]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(r=gw(r);r!==null;){if(c=r[we])return c;r=gw(r)}return i}r=c,c=r.parentNode}return null}function on(r){if(r=r[we]||r[Ye]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function Sn(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function en(r){var i=r[St];return i||(i=r[St]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function et(r){r[Je]=!0}var gt=new Set,Ft={};function gn(r,i){Nn(r,i),Nn(r+"Capture",i)}function Nn(r,i){for(Ft[r]=i,r=0;r<i.length;r++)gt.add(i[r])}var In=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ss={},tr={};function nr(r){return lt.call(tr,r)?!0:lt.call(ss,r)?!1:In.test(r)?tr[r]=!0:(ss[r]=!0,!1)}function ms(r,i,c){if(nr(i))if(c===null)r.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var m=i.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+c)}}function sr(r,i,c){if(c===null)r.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+c)}}function Tt(r,i,c,m){if(m===null)r.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(i,c,""+m)}}var En,la;function cs(r){if(En===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);En=i&&i[1]||"",la=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+En+r+la}var dn=!1;function _r(r,i){if(!r||dn)return"";dn=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(i){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(ge){var me=ge}Reflect.construct(r,[],Ee)}else{try{Ee.call()}catch(ge){me=ge}r.call(Ee.prototype)}}else{try{throw Error()}catch(ge){me=ge}(Ee=r())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(ge){if(ge&&me&&typeof ge.stack=="string")return[ge.stack,me.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=m.DetermineComponentFrameRoot(),T=v[0],D=v[1];if(T&&D){var G=T.split(`
`),ue=D.split(`
`);for(g=m=0;m<G.length&&!G[m].includes("DetermineComponentFrameRoot");)m++;for(;g<ue.length&&!ue[g].includes("DetermineComponentFrameRoot");)g++;if(m===G.length||g===ue.length)for(m=G.length-1,g=ue.length-1;1<=m&&0<=g&&G[m]!==ue[g];)g--;for(;1<=m&&0<=g;m--,g--)if(G[m]!==ue[g]){if(m!==1||g!==1)do if(m--,g--,0>g||G[m]!==ue[g]){var je=`
`+G[m].replace(" at new "," at ");return r.displayName&&je.includes("<anonymous>")&&(je=je.replace("<anonymous>",r.displayName)),je}while(1<=m&&0<=g);break}}}finally{dn=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?cs(c):""}function Do(r){switch(r.tag){case 26:case 27:case 5:return cs(r.type);case 16:return cs("Lazy");case 13:return cs("Suspense");case 19:return cs("SuspenseList");case 0:case 15:return _r(r.type,!1);case 11:return _r(r.type.render,!1);case 1:return _r(r.type,!0);case 31:return cs("Activity");default:return""}}function Po(r){try{var i="";do i+=Do(r),r=r.return;while(r);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Cs(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ed(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function td(r){var i=ed(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),m=""+r[i];if(!r.hasOwnProperty(i)&&typeof c!="undefined"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,v=c.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return g.call(this)},set:function(T){m=""+T,v.call(this,T)}}),Object.defineProperty(r,i,{enumerable:c.enumerable}),{getValue:function(){return m},setValue:function(T){m=""+T},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Di(r){r._valueTracker||(r._valueTracker=td(r))}function Br(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var c=i.getValue(),m="";return r&&(m=ed(r)?r.checked?"true":"false":r.value),r=m,r!==c?(i.setValue(r),!0):!1}function Pi(r){if(r=r||(typeof document!="undefined"?document:void 0),typeof r=="undefined")return null;try{return r.activeElement||r.body}catch(i){return r.body}}var sm=/[\n"\\]/g;function Os(r){return r.replace(sm,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function sc(r,i,c,m,g,v,T,D){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),i!=null?T==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+Cs(i)):r.value!==""+Cs(i)&&(r.value=""+Cs(i)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),i!=null?rc(r,T,Cs(i)):c!=null?rc(r,T,Cs(c)):m!=null&&r.removeAttribute("value"),g==null&&v!=null&&(r.defaultChecked=!!v),g!=null&&(r.checked=g&&typeof g!="function"&&typeof g!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?r.name=""+Cs(D):r.removeAttribute("name")}function nd(r,i,c,m,g,v,T,D){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),i!=null||c!=null){if(!(v!=="submit"&&v!=="reset"||i!=null))return;c=c!=null?""+Cs(c):"",i=i!=null?""+Cs(i):c,D||i===r.value||(r.value=i),r.defaultValue=i}m=m!=null?m:g,m=typeof m!="function"&&typeof m!="symbol"&&!!m,r.checked=D?r.checked:!!m,r.defaultChecked=!!m,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function rc(r,i,c){i==="number"&&Pi(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function ca(r,i,c,m){if(r=r.options,i){i={};for(var g=0;g<c.length;g++)i["$"+c[g]]=!0;for(c=0;c<r.length;c++)g=i.hasOwnProperty("$"+r[c].value),r[c].selected!==g&&(r[c].selected=g),g&&m&&(r[c].defaultSelected=!0)}else{for(c=""+Cs(c),i=null,g=0;g<r.length;g++){if(r[g].value===c){r[g].selected=!0,m&&(r[g].defaultSelected=!0);return}i!==null||r[g].disabled||(i=r[g])}i!==null&&(i.selected=!0)}}function Li(r,i,c){if(i!=null&&(i=""+Cs(i),i!==r.value&&(r.value=i),c==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=c!=null?""+Cs(c):""}function ac(r,i,c,m){if(i==null){if(m!=null){if(c!=null)throw Error(s(92));if(I(m)){if(1<m.length)throw Error(s(93));m=m[0]}c=m}c==null&&(c=""),i=c}c=Cs(i),r.defaultValue=c,m=r.textContent,m===c&&m!==""&&m!==null&&(r.value=m)}function Ba(r,i){if(i){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=i;return}}r.textContent=i}var sd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rd(r,i,c){var m=i.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":m?r.setProperty(i,c):typeof c!="number"||c===0||sd.has(i)?i==="float"?r.cssFloat=c:r[i]=(""+c).trim():r[i]=c+"px"}function ic(r,i,c){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||i!=null&&i.hasOwnProperty(m)||(m.indexOf("--")===0?r.setProperty(m,""):m==="float"?r.cssFloat="":r[m]="");for(var g in i)m=i[g],i.hasOwnProperty(g)&&c[g]!==m&&rd(r,g,m)}else for(var v in i)i.hasOwnProperty(v)&&rd(r,v,i[v])}function zi(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zo(r){return rm.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var oc=null;function Ui(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ua=null,Fa=null;function lc(r){var i=on(r);if(i&&(r=i.stateNode)){var c=r[Ae]||null;e:switch(r=i.stateNode,i.type){case"input":if(sc(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),i=c.name,c.type==="radio"&&i!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Os(""+i)+'"][type="radio"]'),i=0;i<c.length;i++){var m=c[i];if(m!==r&&m.form===r.form){var g=m[Ae]||null;if(!g)throw Error(s(90));sc(m,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<c.length;i++)m=c[i],m.form===r.form&&Br(m)}break e;case"textarea":Li(r,c.value,c.defaultValue);break e;case"select":i=c.value,i!=null&&ca(r,!!c.multiple,i,!1)}}}var Bi=!1;function cc(r,i,c){if(Bi)return r(i,c);Bi=!0;try{var m=r(i);return m}finally{if(Bi=!1,(ua!==null||Fa!==null)&&(Fd(),ua&&(i=ua,r=Fa,Fa=ua=null,lc(i),r)))for(i=0;i<r.length;i++)lc(r[i])}}function Ha(r,i){var c=r.stateNode;if(c===null)return null;var m=c[Ae]||null;if(m===null)return null;c=m[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(r=r.type,m=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!m;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(s(231,i,typeof c));return c}var As=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Uo=!1;if(As)try{var Fi={};Object.defineProperty(Fi,"passive",{get:function(){Uo=!0}}),window.addEventListener("test",Fi,Fi),window.removeEventListener("test",Fi,Fi)}catch(r){Uo=!1}var Vs=null,Rs=null,da=null;function Hi(){if(da)return da;var r,i=Rs,c=i.length,m,g="value"in Vs?Vs.value:Vs.textContent,v=g.length;for(r=0;r<c&&i[r]===g[r];r++);var T=c-r;for(m=1;m<=T&&i[c-m]===g[v-m];m++);return da=g.slice(r,1<m?1-m:void 0)}function Va(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Bo(){return!0}function ad(){return!1}function ps(r){function i(c,m,g,v,T){this._reactName=c,this._targetInst=g,this.type=m,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var D in r)r.hasOwnProperty(D)&&(c=r[D],this[D]=c?c(v):v[D]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Bo:ad,this.isPropagationStopped=ad,this}return p(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Bo)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Bo)},persist:function(){},isPersistent:Bo}),i}var jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fo=ps(jr),$a=p({},jr,{view:0,detail:0}),Tn=ps($a),E,O,L,F=p({},$a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==L&&(L&&r.type==="mousemove"?(E=r.screenX-L.screenX,O=r.screenY-L.screenY):O=E=0,L=r),E)},movementY:function(r){return"movementY"in r?r.movementY:O}}),ne=ps(F),ie=p({},F,{dataTransfer:0}),fe=ps(ie),Pe=p({},$a,{relatedTarget:0}),rt=ps(Pe),Le=p({},jr,{animationName:0,elapsedTime:0,pseudoElement:0}),qe=ps(Le),dt=p({},jr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),tn=ps(dt),xt=p({},jr,{data:0}),it=ps(xt),Qe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ln={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vn(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Ln[r])?!!i[r]:!1}function rr(){return vn}var Vi=p({},$a,{key:function(r){if(r.key){var i=Qe[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Va(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?rs[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rr,charCode:function(r){return r.type==="keypress"?Va(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Va(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Fr=ps(Vi),qa=p({},F,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ho=ps(qa),Vo=p({},$a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rr}),id=ps(Vo),fT=p({},jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),hT=ps(fT),mT=p({},F,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),pT=ps(mT),gT=p({},jr,{newState:0,oldState:0}),xT=ps(gT),yT=[9,13,27,32],am=As&&"CompositionEvent"in window,uc=null;As&&"documentMode"in document&&(uc=document.documentMode);var bT=As&&"TextEvent"in window&&!uc,vy=As&&(!am||uc&&8<uc&&11>=uc),wy=" ",_y=!1;function jy(r,i){switch(r){case"keyup":return yT.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sy(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var $o=!1;function vT(r,i){switch(r){case"compositionend":return Sy(i);case"keypress":return i.which!==32?null:(_y=!0,wy);case"textInput":return r=i.data,r===wy&&_y?null:r;default:return null}}function wT(r,i){if($o)return r==="compositionend"||!am&&jy(r,i)?(r=Hi(),da=Rs=Vs=null,$o=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return vy&&i.locale!=="ko"?null:i.data;default:return null}}var _T={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ny(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!_T[r.type]:i==="textarea"}function Ey(r,i,c,m){ua?Fa?Fa.push(m):Fa=[m]:ua=m,i=Id(i,"onChange"),0<i.length&&(c=new Fo("onChange","change",null,c,m),r.push({event:c,listeners:i}))}var dc=null,fc=null;function jT(r){iw(r,0)}function od(r){var i=Sn(r);if(Br(i))return r}function Ty(r,i){if(r==="change")return i}var ky=!1;if(As){var im;if(As){var om="oninput"in document;if(!om){var Cy=document.createElement("div");Cy.setAttribute("oninput","return;"),om=typeof Cy.oninput=="function"}im=om}else im=!1;ky=im&&(!document.documentMode||9<document.documentMode)}function Oy(){dc&&(dc.detachEvent("onpropertychange",Ay),fc=dc=null)}function Ay(r){if(r.propertyName==="value"&&od(fc)){var i=[];Ey(i,fc,r,Ui(r)),cc(jT,i)}}function ST(r,i,c){r==="focusin"?(Oy(),dc=i,fc=c,dc.attachEvent("onpropertychange",Ay)):r==="focusout"&&Oy()}function NT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return od(fc)}function ET(r,i){if(r==="click")return od(i)}function TT(r,i){if(r==="input"||r==="change")return od(i)}function kT(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var $s=typeof Object.is=="function"?Object.is:kT;function hc(r,i){if($s(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var c=Object.keys(r),m=Object.keys(i);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var g=c[m];if(!lt.call(i,g)||!$s(r[g],i[g]))return!1}return!0}function Ry(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function My(r,i){var c=Ry(r);r=0;for(var m;c;){if(c.nodeType===3){if(m=r+c.textContent.length,r<=i&&m>=i)return{node:c,offset:i-r};r=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Ry(c)}}function Dy(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Dy(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Py(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=Pi(r.document);i instanceof r.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch(m){c=!1}if(c)r=i.contentWindow;else break;i=Pi(r.document)}return i}function lm(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var CT=As&&"documentMode"in document&&11>=document.documentMode,qo=null,cm=null,mc=null,um=!1;function Ly(r,i,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;um||qo==null||qo!==Pi(m)||(m=qo,"selectionStart"in m&&lm(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),mc&&hc(mc,m)||(mc=m,m=Id(cm,"onSelect"),0<m.length&&(i=new Fo("onSelect","select",null,i,c),r.push({event:i,listeners:m}),i.target=qo)))}function $i(r,i){var c={};return c[r.toLowerCase()]=i.toLowerCase(),c["Webkit"+r]="webkit"+i,c["Moz"+r]="moz"+i,c}var Yo={animationend:$i("Animation","AnimationEnd"),animationiteration:$i("Animation","AnimationIteration"),animationstart:$i("Animation","AnimationStart"),transitionrun:$i("Transition","TransitionRun"),transitionstart:$i("Transition","TransitionStart"),transitioncancel:$i("Transition","TransitionCancel"),transitionend:$i("Transition","TransitionEnd")},dm={},zy={};As&&(zy=document.createElement("div").style,"AnimationEvent"in window||(delete Yo.animationend.animation,delete Yo.animationiteration.animation,delete Yo.animationstart.animation),"TransitionEvent"in window||delete Yo.transitionend.transition);function qi(r){if(dm[r])return dm[r];if(!Yo[r])return r;var i=Yo[r],c;for(c in i)if(i.hasOwnProperty(c)&&c in zy)return dm[r]=i[c];return r}var Uy=qi("animationend"),By=qi("animationiteration"),Fy=qi("animationstart"),OT=qi("transitionrun"),AT=qi("transitionstart"),RT=qi("transitioncancel"),Hy=qi("transitionend"),Vy=new Map,fm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fm.push("scrollEnd");function Sr(r,i){Vy.set(r,i),gn(i,[r])}var $y=new WeakMap;function ar(r,i){if(typeof r=="object"&&r!==null){var c=$y.get(r);return c!==void 0?c:(i={value:r,source:i,stack:Po(i)},$y.set(r,i),i)}return{value:r,source:i,stack:Po(i)}}var ir=[],Io=0,hm=0;function ld(){for(var r=Io,i=hm=Io=0;i<r;){var c=ir[i];ir[i++]=null;var m=ir[i];ir[i++]=null;var g=ir[i];ir[i++]=null;var v=ir[i];if(ir[i++]=null,m!==null&&g!==null){var T=m.pending;T===null?g.next=g:(g.next=T.next,T.next=g),m.pending=g}v!==0&&qy(c,g,v)}}function cd(r,i,c,m){ir[Io++]=r,ir[Io++]=i,ir[Io++]=c,ir[Io++]=m,hm|=m,r.lanes|=m,r=r.alternate,r!==null&&(r.lanes|=m)}function mm(r,i,c,m){return cd(r,i,c,m),ud(r)}function Wo(r,i){return cd(r,null,null,i),ud(r)}function qy(r,i,c){r.lanes|=c;var m=r.alternate;m!==null&&(m.lanes|=c);for(var g=!1,v=r.return;v!==null;)v.childLanes|=c,m=v.alternate,m!==null&&(m.childLanes|=c),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(g=!0)),r=v,v=v.return;return r.tag===3?(v=r.stateNode,g&&i!==null&&(g=31-bt(c),r=v.hiddenUpdates,m=r[g],m===null?r[g]=[i]:m.push(i),i.lane=c|536870912),v):null}function ud(r){if(50<Bc)throw Bc=0,vp=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var Xo={};function MT(r,i,c,m){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qs(r,i,c,m){return new MT(r,i,c,m)}function pm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function fa(r,i){var c=r.alternate;return c===null?(c=qs(r.tag,i,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=i,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,i=r.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function Yy(r,i){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,i=c.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function dd(r,i,c,m,g,v){var T=0;if(m=r,typeof r=="function")pm(r)&&(T=1);else if(typeof r=="string")T=Pk(r,c,he.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case V:return r=qs(31,c,i,g),r.elementType=V,r.lanes=v,r;case w:return Yi(c.children,g,v,i);case _:T=8,g|=24;break;case j:return r=qs(12,c,i,g|2),r.elementType=j,r.lanes=v,r;case A:return r=qs(13,c,i,g),r.elementType=A,r.lanes=v,r;case M:return r=qs(19,c,i,g),r.elementType=M,r.lanes=v,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case N:case C:T=10;break e;case k:T=9;break e;case R:T=11;break e;case z:T=14;break e;case P:T=16,m=null;break e}T=29,c=Error(s(130,r===null?"null":typeof r,"")),m=null}return i=qs(T,c,i,g),i.elementType=r,i.type=m,i.lanes=v,i}function Yi(r,i,c,m){return r=qs(7,r,m,i),r.lanes=c,r}function gm(r,i,c){return r=qs(6,r,null,i),r.lanes=c,r}function xm(r,i,c){return i=qs(4,r.children!==null?r.children:[],r.key,i),i.lanes=c,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var Go=[],Ko=0,fd=null,hd=0,or=[],lr=0,Ii=null,ha=1,ma="";function Wi(r,i){Go[Ko++]=hd,Go[Ko++]=fd,fd=r,hd=i}function Iy(r,i,c){or[lr++]=ha,or[lr++]=ma,or[lr++]=Ii,Ii=r;var m=ha;r=ma;var g=32-bt(m)-1;m&=~(1<<g),c+=1;var v=32-bt(i)+g;if(30<v){var T=g-g%5;v=(m&(1<<T)-1).toString(32),m>>=T,g-=T,ha=1<<32-bt(i)+g|c<<g|m,ma=v+r}else ha=1<<v|c<<g|m,ma=r}function ym(r){r.return!==null&&(Wi(r,1),Iy(r,1,0))}function bm(r){for(;r===fd;)fd=Go[--Ko],Go[Ko]=null,hd=Go[--Ko],Go[Ko]=null;for(;r===Ii;)Ii=or[--lr],or[lr]=null,ma=or[--lr],or[lr]=null,ha=or[--lr],or[lr]=null}var _s=null,kn=null,Gt=!1,Xi=null,Hr=!1,vm=Error(s(519));function Gi(r){var i=Error(s(418,""));throw xc(ar(i,r)),vm}function Wy(r){var i=r.stateNode,c=r.type,m=r.memoizedProps;switch(i[we]=r,i[Ae]=m,c){case"dialog":Pt("cancel",i),Pt("close",i);break;case"iframe":case"object":case"embed":Pt("load",i);break;case"video":case"audio":for(c=0;c<Hc.length;c++)Pt(Hc[c],i);break;case"source":Pt("error",i);break;case"img":case"image":case"link":Pt("error",i),Pt("load",i);break;case"details":Pt("toggle",i);break;case"input":Pt("invalid",i),nd(i,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),Di(i);break;case"select":Pt("invalid",i);break;case"textarea":Pt("invalid",i),ac(i,m.value,m.defaultValue,m.children),Di(i)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||i.textContent===""+c||m.suppressHydrationWarning===!0||uw(i.textContent,c)?(m.popover!=null&&(Pt("beforetoggle",i),Pt("toggle",i)),m.onScroll!=null&&Pt("scroll",i),m.onScrollEnd!=null&&Pt("scrollend",i),m.onClick!=null&&(i.onclick=Wd),i=!0):i=!1,i||Gi(r)}function Xy(r){for(_s=r.return;_s;)switch(_s.tag){case 5:case 13:Hr=!1;return;case 27:case 3:Hr=!0;return;default:_s=_s.return}}function pc(r){if(r!==_s)return!1;if(!Gt)return Xy(r),Gt=!0,!1;var i=r.tag,c;if((c=i!==3&&i!==27)&&((c=i===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||Lp(r.type,r.memoizedProps)),c=!c),c&&kn&&Gi(r),Xy(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(c=r.data,c==="/$"){if(i===0){kn=Er(r.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++;r=r.nextSibling}kn=null}}else i===27?(i=kn,ii(r.type)?(r=Fp,Fp=null,kn=r):kn=i):kn=_s?Er(r.stateNode.nextSibling):null;return!0}function gc(){kn=_s=null,Gt=!1}function Gy(){var r=Xi;return r!==null&&(Ps===null?Ps=r:Ps.push.apply(Ps,r),Xi=null),r}function xc(r){Xi===null?Xi=[r]:Xi.push(r)}var wm=ae(null),Ki=null,pa=null;function Ya(r,i,c){X(wm,i._currentValue),i._currentValue=c}function ga(r){r._currentValue=wm.current,ye(wm)}function _m(r,i,c){for(;r!==null;){var m=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,m!==null&&(m.childLanes|=i)):m!==null&&(m.childLanes&i)!==i&&(m.childLanes|=i),r===c)break;r=r.return}}function jm(r,i,c,m){var g=r.child;for(g!==null&&(g.return=r);g!==null;){var v=g.dependencies;if(v!==null){var T=g.child;v=v.firstContext;e:for(;v!==null;){var D=v;v=g;for(var G=0;G<i.length;G++)if(D.context===i[G]){v.lanes|=c,D=v.alternate,D!==null&&(D.lanes|=c),_m(v.return,c,r),m||(T=null);break e}v=D.next}}else if(g.tag===18){if(T=g.return,T===null)throw Error(s(341));T.lanes|=c,v=T.alternate,v!==null&&(v.lanes|=c),_m(T,c,r),T=null}else T=g.child;if(T!==null)T.return=g;else for(T=g;T!==null;){if(T===r){T=null;break}if(g=T.sibling,g!==null){g.return=T.return,T=g;break}T=T.return}g=T}}function yc(r,i,c,m){r=null;for(var g=i,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var T=g.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var D=g.type;$s(g.pendingProps.value,T.value)||(r!==null?r.push(D):r=[D])}}else if(g===Ce.current){if(T=g.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(r!==null?r.push(Wc):r=[Wc])}g=g.return}r!==null&&jm(i,r,c,m),i.flags|=262144}function md(r){for(r=r.firstContext;r!==null;){if(!$s(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Qi(r){Ki=r,pa=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function gs(r){return Ky(Ki,r)}function pd(r,i){return Ki===null&&Qi(r),Ky(r,i)}function Ky(r,i){var c=i._currentValue;if(i={context:i,memoizedValue:c,next:null},pa===null){if(r===null)throw Error(s(308));pa=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else pa=pa.next=i;return c}var DT=typeof AbortController!="undefined"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(c,m){r.push(m)}};this.abort=function(){i.aborted=!0,r.forEach(function(c){return c()})}},PT=e.unstable_scheduleCallback,LT=e.unstable_NormalPriority,Wn={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sm(){return{controller:new DT,data:new Map,refCount:0}}function bc(r){r.refCount--,r.refCount===0&&PT(LT,function(){r.controller.abort()})}var vc=null,Nm=0,Qo=0,Zo=null;function zT(r,i){if(vc===null){var c=vc=[];Nm=0,Qo=Tp(),Zo={status:"pending",value:void 0,then:function(m){c.push(m)}}}return Nm++,i.then(Qy,Qy),i}function Qy(){if(--Nm===0&&vc!==null){Zo!==null&&(Zo.status="fulfilled");var r=vc;vc=null,Qo=0,Zo=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function UT(r,i){var c=[],m={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return r.then(function(){m.status="fulfilled",m.value=i;for(var g=0;g<c.length;g++)(0,c[g])(i)},function(g){for(m.status="rejected",m.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),m}var Zy=B.S;B.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&zT(r,i),Zy!==null&&Zy(r,i)};var Zi=ae(null);function Em(){var r=Zi.current;return r!==null?r:fn.pooledCache}function gd(r,i){i===null?X(Zi,Zi.current):X(Zi,i.pool)}function Jy(){var r=Em();return r===null?null:{parent:Wn._currentValue,pool:r}}var wc=Error(s(460)),eb=Error(s(474)),xd=Error(s(542)),Tm={then:function(){}};function tb(r){return r=r.status,r==="fulfilled"||r==="rejected"}function yd(){}function nb(r,i,c){switch(c=r[c],c===void 0?r.push(i):c!==i&&(i.then(yd,yd),i=c),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,rb(r),r;default:if(typeof i.status=="string")i.then(yd,yd);else{if(r=fn,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(m){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=m}},function(m){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=m}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,rb(r),r}throw _c=i,wc}}var _c=null;function sb(){if(_c===null)throw Error(s(459));var r=_c;return _c=null,r}function rb(r){if(r===wc||r===xd)throw Error(s(483))}var Ia=!1;function km(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cm(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Wa(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Xa(r,i,c){var m=r.updateQueue;if(m===null)return null;if(m=m.shared,(Kt&2)!==0){var g=m.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),m.pending=i,i=ud(r),qy(r,null,c),i}return cd(r,m,i,c),ud(r)}function jc(r,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194048)!==0)){var m=i.lanes;m&=r.pendingLanes,c|=m,i.lanes=c,an(r,c)}}function Om(r,i){var c=r.updateQueue,m=r.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var g=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var T={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};v===null?g=v=T:v=v.next=T,c=c.next}while(c!==null);v===null?g=v=i:v=v.next=i}else g=v=i;c={baseState:m.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:m.shared,callbacks:m.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=i:r.next=i,c.lastBaseUpdate=i}var Am=!1;function Sc(){if(Am){var r=Zo;if(r!==null)throw r}}function Nc(r,i,c,m){Am=!1;var g=r.updateQueue;Ia=!1;var v=g.firstBaseUpdate,T=g.lastBaseUpdate,D=g.shared.pending;if(D!==null){g.shared.pending=null;var G=D,ue=G.next;G.next=null,T===null?v=ue:T.next=ue,T=G;var je=r.alternate;je!==null&&(je=je.updateQueue,D=je.lastBaseUpdate,D!==T&&(D===null?je.firstBaseUpdate=ue:D.next=ue,je.lastBaseUpdate=G))}if(v!==null){var Ee=g.baseState;T=0,je=ue=G=null,D=v;do{var me=D.lane&-536870913,ge=me!==D.lane;if(ge?(Bt&me)===me:(m&me)===me){me!==0&&me===Qo&&(Am=!0),je!==null&&(je=je.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var ht=r,ct=D;me=i;var rn=c;switch(ct.tag){case 1:if(ht=ct.payload,typeof ht=="function"){Ee=ht.call(rn,Ee,me);break e}Ee=ht;break e;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=ct.payload,me=typeof ht=="function"?ht.call(rn,Ee,me):ht,me==null)break e;Ee=p({},Ee,me);break e;case 2:Ia=!0}}me=D.callback,me!==null&&(r.flags|=64,ge&&(r.flags|=8192),ge=g.callbacks,ge===null?g.callbacks=[me]:ge.push(me))}else ge={lane:me,tag:D.tag,payload:D.payload,callback:D.callback,next:null},je===null?(ue=je=ge,G=Ee):je=je.next=ge,T|=me;if(D=D.next,D===null){if(D=g.shared.pending,D===null)break;ge=D,D=ge.next,ge.next=null,g.lastBaseUpdate=ge,g.shared.pending=null}}while(!0);je===null&&(G=Ee),g.baseState=G,g.firstBaseUpdate=ue,g.lastBaseUpdate=je,v===null&&(g.shared.lanes=0),ni|=T,r.lanes=T,r.memoizedState=Ee}}function ab(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function ib(r,i){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)ab(c[r],i)}var Jo=ae(null),bd=ae(0);function ob(r,i){r=ja,X(bd,r),X(Jo,i),ja=r|i.baseLanes}function Rm(){X(bd,ja),X(Jo,Jo.current)}function Mm(){ja=bd.current,ye(Jo),ye(bd)}var Ga=0,Ot=null,nn=null,zn=null,vd=!1,el=!1,Ji=!1,wd=0,Ec=0,tl=null,BT=0;function An(){throw Error(s(321))}function Dm(r,i){if(i===null)return!1;for(var c=0;c<i.length&&c<r.length;c++)if(!$s(r[c],i[c]))return!1;return!0}function Pm(r,i,c,m,g,v){return Ga=v,Ot=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,B.H=r===null||r.memoizedState===null?qb:Yb,Ji=!1,v=c(m,g),Ji=!1,el&&(v=cb(i,c,m,g)),lb(r),v}function lb(r){B.H=Td;var i=nn!==null&&nn.next!==null;if(Ga=0,zn=nn=Ot=null,vd=!1,Ec=0,tl=null,i)throw Error(s(300));r===null||as||(r=r.dependencies,r!==null&&md(r)&&(as=!0))}function cb(r,i,c,m){Ot=r;var g=0;do{if(el&&(tl=null),Ec=0,el=!1,25<=g)throw Error(s(301));if(g+=1,zn=nn=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}B.H=IT,v=i(c,m)}while(el);return v}function FT(){var r=B.H,i=r.useState()[0];return i=typeof i.then=="function"?Tc(i):i,r=r.useState()[0],(nn!==null?nn.memoizedState:null)!==r&&(Ot.flags|=1024),i}function Lm(){var r=wd!==0;return wd=0,r}function zm(r,i,c){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~c}function Um(r){if(vd){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}vd=!1}Ga=0,zn=nn=Ot=null,el=!1,Ec=wd=0,tl=null}function Ms(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zn===null?Ot.memoizedState=zn=r:zn=zn.next=r,zn}function Un(){if(nn===null){var r=Ot.alternate;r=r!==null?r.memoizedState:null}else r=nn.next;var i=zn===null?Ot.memoizedState:zn.next;if(i!==null)zn=i,nn=r;else{if(r===null)throw Ot.alternate===null?Error(s(467)):Error(s(310));nn=r,r={memoizedState:nn.memoizedState,baseState:nn.baseState,baseQueue:nn.baseQueue,queue:nn.queue,next:null},zn===null?Ot.memoizedState=zn=r:zn=zn.next=r}return zn}function Bm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tc(r){var i=Ec;return Ec+=1,tl===null&&(tl=[]),r=nb(tl,r,i),i=Ot,(zn===null?i.memoizedState:zn.next)===null&&(i=i.alternate,B.H=i===null||i.memoizedState===null?qb:Yb),r}function _d(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Tc(r);if(r.$$typeof===C)return gs(r)}throw Error(s(438,String(r)))}function Fm(r){var i=null,c=Ot.updateQueue;if(c!==null&&(i=c.memoCache),i==null){var m=Ot.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(i={data:m.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),c===null&&(c=Bm(),Ot.updateQueue=c),c.memoCache=i,c=i.data[i.index],c===void 0)for(c=i.data[i.index]=Array(r),m=0;m<r;m++)c[m]=te;return i.index++,c}function xa(r,i){return typeof i=="function"?i(r):i}function jd(r){var i=Un();return Hm(i,nn,r)}function Hm(r,i,c){var m=r.queue;if(m===null)throw Error(s(311));m.lastRenderedReducer=c;var g=r.baseQueue,v=m.pending;if(v!==null){if(g!==null){var T=g.next;g.next=v.next,v.next=T}i.baseQueue=g=v,m.pending=null}if(v=r.baseState,g===null)r.memoizedState=v;else{i=g.next;var D=T=null,G=null,ue=i,je=!1;do{var Ee=ue.lane&-536870913;if(Ee!==ue.lane?(Bt&Ee)===Ee:(Ga&Ee)===Ee){var me=ue.revertLane;if(me===0)G!==null&&(G=G.next={lane:0,revertLane:0,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),Ee===Qo&&(je=!0);else if((Ga&me)===me){ue=ue.next,me===Qo&&(je=!0);continue}else Ee={lane:0,revertLane:ue.revertLane,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},G===null?(D=G=Ee,T=v):G=G.next=Ee,Ot.lanes|=me,ni|=me;Ee=ue.action,Ji&&c(v,Ee),v=ue.hasEagerState?ue.eagerState:c(v,Ee)}else me={lane:Ee,revertLane:ue.revertLane,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},G===null?(D=G=me,T=v):G=G.next=me,Ot.lanes|=Ee,ni|=Ee;ue=ue.next}while(ue!==null&&ue!==i);if(G===null?T=v:G.next=D,!$s(v,r.memoizedState)&&(as=!0,je&&(c=Zo,c!==null)))throw c;r.memoizedState=v,r.baseState=T,r.baseQueue=G,m.lastRenderedState=v}return g===null&&(m.lanes=0),[r.memoizedState,m.dispatch]}function Vm(r){var i=Un(),c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=r;var m=c.dispatch,g=c.pending,v=i.memoizedState;if(g!==null){c.pending=null;var T=g=g.next;do v=r(v,T.action),T=T.next;while(T!==g);$s(v,i.memoizedState)||(as=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),c.lastRenderedState=v}return[v,m]}function ub(r,i,c){var m=Ot,g=Un(),v=Gt;if(v){if(c===void 0)throw Error(s(407));c=c()}else c=i();var T=!$s((nn||g).memoizedState,c);T&&(g.memoizedState=c,as=!0),g=g.queue;var D=hb.bind(null,m,g,r);if(kc(2048,8,D,[r]),g.getSnapshot!==i||T||zn!==null&&zn.memoizedState.tag&1){if(m.flags|=2048,nl(9,Sd(),fb.bind(null,m,g,c,i),null),fn===null)throw Error(s(349));v||(Ga&124)!==0||db(m,i,c)}return c}function db(r,i,c){r.flags|=16384,r={getSnapshot:i,value:c},i=Ot.updateQueue,i===null?(i=Bm(),Ot.updateQueue=i,i.stores=[r]):(c=i.stores,c===null?i.stores=[r]:c.push(r))}function fb(r,i,c,m){i.value=c,i.getSnapshot=m,mb(i)&&pb(r)}function hb(r,i,c){return c(function(){mb(i)&&pb(r)})}function mb(r){var i=r.getSnapshot;r=r.value;try{var c=i();return!$s(r,c)}catch(m){return!0}}function pb(r){var i=Wo(r,2);i!==null&&Gs(i,r,2)}function $m(r){var i=Ms();if(typeof r=="function"){var c=r;if(r=c(),Ji){Ke(!0);try{c()}finally{Ke(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:r},i}function gb(r,i,c,m){return r.baseState=c,Hm(r,nn,typeof m=="function"?m:xa)}function HT(r,i,c,m,g){if(Ed(r))throw Error(s(485));if(r=i.action,r!==null){var v={payload:g,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){v.listeners.push(T)}};B.T!==null?c(!0):v.isTransition=!1,m(v),c=i.pending,c===null?(v.next=i.pending=v,xb(i,v)):(v.next=c.next,i.pending=c.next=v)}}function xb(r,i){var c=i.action,m=i.payload,g=r.state;if(i.isTransition){var v=B.T,T={};B.T=T;try{var D=c(g,m),G=B.S;G!==null&&G(T,D),yb(r,i,D)}catch(ue){qm(r,i,ue)}finally{B.T=v}}else try{v=c(g,m),yb(r,i,v)}catch(ue){qm(r,i,ue)}}function yb(r,i,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){bb(r,i,m)},function(m){return qm(r,i,m)}):bb(r,i,c)}function bb(r,i,c){i.status="fulfilled",i.value=c,vb(i),r.state=c,i=r.pending,i!==null&&(c=i.next,c===i?r.pending=null:(c=c.next,i.next=c,xb(r,c)))}function qm(r,i,c){var m=r.pending;if(r.pending=null,m!==null){m=m.next;do i.status="rejected",i.reason=c,vb(i),i=i.next;while(i!==m)}r.action=null}function vb(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function wb(r,i){return i}function _b(r,i){if(Gt){var c=fn.formState;if(c!==null){e:{var m=Ot;if(Gt){if(kn){t:{for(var g=kn,v=Hr;g.nodeType!==8;){if(!v){g=null;break t}if(g=Er(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){kn=Er(g.nextSibling),m=g.data==="F!";break e}}Gi(m)}m=!1}m&&(i=c[0])}}return c=Ms(),c.memoizedState=c.baseState=i,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wb,lastRenderedState:i},c.queue=m,c=Hb.bind(null,Ot,m),m.dispatch=c,m=$m(!1),v=Gm.bind(null,Ot,!1,m.queue),m=Ms(),g={state:i,dispatch:null,action:r,pending:null},m.queue=g,c=HT.bind(null,Ot,g,v,c),g.dispatch=c,m.memoizedState=r,[i,c,!1]}function jb(r){var i=Un();return Sb(i,nn,r)}function Sb(r,i,c){if(i=Hm(r,i,wb)[0],r=jd(xa)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var m=Tc(i)}catch(T){throw T===wc?xd:T}else m=i;i=Un();var g=i.queue,v=g.dispatch;return c!==i.memoizedState&&(Ot.flags|=2048,nl(9,Sd(),VT.bind(null,g,c),null)),[m,v,r]}function VT(r,i){r.action=i}function Nb(r){var i=Un(),c=nn;if(c!==null)return Sb(i,c,r);Un(),i=i.memoizedState,c=Un();var m=c.queue.dispatch;return c.memoizedState=r,[i,m,!1]}function nl(r,i,c,m){return r={tag:r,create:c,deps:m,inst:i,next:null},i=Ot.updateQueue,i===null&&(i=Bm(),Ot.updateQueue=i),c=i.lastEffect,c===null?i.lastEffect=r.next=r:(m=c.next,c.next=r,r.next=m,i.lastEffect=r),r}function Sd(){return{destroy:void 0,resource:void 0}}function Eb(){return Un().memoizedState}function Nd(r,i,c,m){var g=Ms();m=m===void 0?null:m,Ot.flags|=r,g.memoizedState=nl(1|i,Sd(),c,m)}function kc(r,i,c,m){var g=Un();m=m===void 0?null:m;var v=g.memoizedState.inst;nn!==null&&m!==null&&Dm(m,nn.memoizedState.deps)?g.memoizedState=nl(i,v,c,m):(Ot.flags|=r,g.memoizedState=nl(1|i,v,c,m))}function Tb(r,i){Nd(8390656,8,r,i)}function kb(r,i){kc(2048,8,r,i)}function Cb(r,i){return kc(4,2,r,i)}function Ob(r,i){return kc(4,4,r,i)}function Ab(r,i){if(typeof i=="function"){r=r();var c=i(r);return function(){typeof c=="function"?c():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Rb(r,i,c){c=c!=null?c.concat([r]):null,kc(4,4,Ab.bind(null,i,r),c)}function Ym(){}function Mb(r,i){var c=Un();i=i===void 0?null:i;var m=c.memoizedState;return i!==null&&Dm(i,m[1])?m[0]:(c.memoizedState=[r,i],r)}function Db(r,i){var c=Un();i=i===void 0?null:i;var m=c.memoizedState;if(i!==null&&Dm(i,m[1]))return m[0];if(m=r(),Ji){Ke(!0);try{r()}finally{Ke(!1)}}return c.memoizedState=[m,i],m}function Im(r,i,c){return c===void 0||(Ga&1073741824)!==0?r.memoizedState=i:(r.memoizedState=c,r=zv(),Ot.lanes|=r,ni|=r,c)}function Pb(r,i,c,m){return $s(c,i)?c:Jo.current!==null?(r=Im(r,c,m),$s(r,i)||(as=!0),r):(Ga&42)===0?(as=!0,r.memoizedState=c):(r=zv(),Ot.lanes|=r,ni|=r,i)}function Lb(r,i,c,m,g){var v=Y.p;Y.p=v!==0&&8>v?v:8;var T=B.T,D={};B.T=D,Gm(r,!1,i,c);try{var G=g(),ue=B.S;if(ue!==null&&ue(D,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var je=UT(G,m);Cc(r,i,je,Xs(r))}else Cc(r,i,m,Xs(r))}catch(Ee){Cc(r,i,{then:function(){},status:"rejected",reason:Ee},Xs())}finally{Y.p=v,B.T=T}}function $T(){}function Wm(r,i,c,m){if(r.tag!==5)throw Error(s(476));var g=zb(r).queue;Lb(r,g,i,Q,c===null?$T:function(){return Ub(r),c(m)})}function zb(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:Q},next:null};var c={};return i.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:c},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function Ub(r){var i=zb(r).next.queue;Cc(r,i,{},Xs())}function Xm(){return gs(Wc)}function Bb(){return Un().memoizedState}function Fb(){return Un().memoizedState}function qT(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var c=Xs();r=Wa(c);var m=Xa(i,r,c);m!==null&&(Gs(m,i,c),jc(m,i,c)),i={cache:Sm()},r.payload=i;return}i=i.return}}function YT(r,i,c){var m=Xs();c={lane:m,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Ed(r)?Vb(i,c):(c=mm(r,i,c,m),c!==null&&(Gs(c,r,m),$b(c,i,m)))}function Hb(r,i,c){var m=Xs();Cc(r,i,c,m)}function Cc(r,i,c,m){var g={lane:m,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Ed(r))Vb(i,g);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var T=i.lastRenderedState,D=v(T,c);if(g.hasEagerState=!0,g.eagerState=D,$s(D,T))return cd(r,i,g,0),fn===null&&ld(),!1}catch(G){}finally{}if(c=mm(r,i,g,m),c!==null)return Gs(c,r,m),$b(c,i,m),!0}return!1}function Gm(r,i,c,m){if(m={lane:2,revertLane:Tp(),action:m,hasEagerState:!1,eagerState:null,next:null},Ed(r)){if(i)throw Error(s(479))}else i=mm(r,c,m,2),i!==null&&Gs(i,r,2)}function Ed(r){var i=r.alternate;return r===Ot||i!==null&&i===Ot}function Vb(r,i){el=vd=!0;var c=r.pending;c===null?i.next=i:(i.next=c.next,c.next=i),r.pending=i}function $b(r,i,c){if((c&4194048)!==0){var m=i.lanes;m&=r.pendingLanes,c|=m,i.lanes=c,an(r,c)}}var Td={readContext:gs,use:_d,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useLayoutEffect:An,useInsertionEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useSyncExternalStore:An,useId:An,useHostTransitionStatus:An,useFormState:An,useActionState:An,useOptimistic:An,useMemoCache:An,useCacheRefresh:An},qb={readContext:gs,use:_d,useCallback:function(r,i){return Ms().memoizedState=[r,i===void 0?null:i],r},useContext:gs,useEffect:Tb,useImperativeHandle:function(r,i,c){c=c!=null?c.concat([r]):null,Nd(4194308,4,Ab.bind(null,i,r),c)},useLayoutEffect:function(r,i){return Nd(4194308,4,r,i)},useInsertionEffect:function(r,i){Nd(4,2,r,i)},useMemo:function(r,i){var c=Ms();i=i===void 0?null:i;var m=r();if(Ji){Ke(!0);try{r()}finally{Ke(!1)}}return c.memoizedState=[m,i],m},useReducer:function(r,i,c){var m=Ms();if(c!==void 0){var g=c(i);if(Ji){Ke(!0);try{c(i)}finally{Ke(!1)}}}else g=i;return m.memoizedState=m.baseState=g,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:g},m.queue=r,r=r.dispatch=YT.bind(null,Ot,r),[m.memoizedState,r]},useRef:function(r){var i=Ms();return r={current:r},i.memoizedState=r},useState:function(r){r=$m(r);var i=r.queue,c=Hb.bind(null,Ot,i);return i.dispatch=c,[r.memoizedState,c]},useDebugValue:Ym,useDeferredValue:function(r,i){var c=Ms();return Im(c,r,i)},useTransition:function(){var r=$m(!1);return r=Lb.bind(null,Ot,r.queue,!0,!1),Ms().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,c){var m=Ot,g=Ms();if(Gt){if(c===void 0)throw Error(s(407));c=c()}else{if(c=i(),fn===null)throw Error(s(349));(Bt&124)!==0||db(m,i,c)}g.memoizedState=c;var v={value:c,getSnapshot:i};return g.queue=v,Tb(hb.bind(null,m,v,r),[r]),m.flags|=2048,nl(9,Sd(),fb.bind(null,m,v,c,i),null),c},useId:function(){var r=Ms(),i=fn.identifierPrefix;if(Gt){var c=ma,m=ha;c=(m&~(1<<32-bt(m)-1)).toString(32)+c,i="«"+i+"R"+c,c=wd++,0<c&&(i+="H"+c.toString(32)),i+="»"}else c=BT++,i="«"+i+"r"+c.toString(32)+"»";return r.memoizedState=i},useHostTransitionStatus:Xm,useFormState:_b,useActionState:_b,useOptimistic:function(r){var i=Ms();i.memoizedState=i.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=c,i=Gm.bind(null,Ot,!0,c),c.dispatch=i,[r,i]},useMemoCache:Fm,useCacheRefresh:function(){return Ms().memoizedState=qT.bind(null,Ot)}},Yb={readContext:gs,use:_d,useCallback:Mb,useContext:gs,useEffect:kb,useImperativeHandle:Rb,useInsertionEffect:Cb,useLayoutEffect:Ob,useMemo:Db,useReducer:jd,useRef:Eb,useState:function(){return jd(xa)},useDebugValue:Ym,useDeferredValue:function(r,i){var c=Un();return Pb(c,nn.memoizedState,r,i)},useTransition:function(){var r=jd(xa)[0],i=Un().memoizedState;return[typeof r=="boolean"?r:Tc(r),i]},useSyncExternalStore:ub,useId:Bb,useHostTransitionStatus:Xm,useFormState:jb,useActionState:jb,useOptimistic:function(r,i){var c=Un();return gb(c,nn,r,i)},useMemoCache:Fm,useCacheRefresh:Fb},IT={readContext:gs,use:_d,useCallback:Mb,useContext:gs,useEffect:kb,useImperativeHandle:Rb,useInsertionEffect:Cb,useLayoutEffect:Ob,useMemo:Db,useReducer:Vm,useRef:Eb,useState:function(){return Vm(xa)},useDebugValue:Ym,useDeferredValue:function(r,i){var c=Un();return nn===null?Im(c,r,i):Pb(c,nn.memoizedState,r,i)},useTransition:function(){var r=Vm(xa)[0],i=Un().memoizedState;return[typeof r=="boolean"?r:Tc(r),i]},useSyncExternalStore:ub,useId:Bb,useHostTransitionStatus:Xm,useFormState:Nb,useActionState:Nb,useOptimistic:function(r,i){var c=Un();return nn!==null?gb(c,nn,r,i):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:Fm,useCacheRefresh:Fb},sl=null,Oc=0;function kd(r){var i=Oc;return Oc+=1,sl===null&&(sl=[]),nb(sl,r,i)}function Ac(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function Cd(r,i){throw i.$$typeof===x?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function Ib(r){var i=r._init;return i(r._payload)}function Wb(r){function i(re,ee){if(r){var ce=re.deletions;ce===null?(re.deletions=[ee],re.flags|=16):ce.push(ee)}}function c(re,ee){if(!r)return null;for(;ee!==null;)i(re,ee),ee=ee.sibling;return null}function m(re){for(var ee=new Map;re!==null;)re.key!==null?ee.set(re.key,re):ee.set(re.index,re),re=re.sibling;return ee}function g(re,ee){return re=fa(re,ee),re.index=0,re.sibling=null,re}function v(re,ee,ce){return re.index=ce,r?(ce=re.alternate,ce!==null?(ce=ce.index,ce<ee?(re.flags|=67108866,ee):ce):(re.flags|=67108866,ee)):(re.flags|=1048576,ee)}function T(re){return r&&re.alternate===null&&(re.flags|=67108866),re}function D(re,ee,ce,Ne){return ee===null||ee.tag!==6?(ee=gm(ce,re.mode,Ne),ee.return=re,ee):(ee=g(ee,ce),ee.return=re,ee)}function G(re,ee,ce,Ne){var We=ce.type;return We===w?je(re,ee,ce.props.children,Ne,ce.key):ee!==null&&(ee.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===P&&Ib(We)===ee.type)?(ee=g(ee,ce.props),Ac(ee,ce),ee.return=re,ee):(ee=dd(ce.type,ce.key,ce.props,null,re.mode,Ne),Ac(ee,ce),ee.return=re,ee)}function ue(re,ee,ce,Ne){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==ce.containerInfo||ee.stateNode.implementation!==ce.implementation?(ee=xm(ce,re.mode,Ne),ee.return=re,ee):(ee=g(ee,ce.children||[]),ee.return=re,ee)}function je(re,ee,ce,Ne,We){return ee===null||ee.tag!==7?(ee=Yi(ce,re.mode,Ne,We),ee.return=re,ee):(ee=g(ee,ce),ee.return=re,ee)}function Ee(re,ee,ce){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=gm(""+ee,re.mode,ce),ee.return=re,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case y:return ce=dd(ee.type,ee.key,ee.props,null,re.mode,ce),Ac(ce,ee),ce.return=re,ce;case b:return ee=xm(ee,re.mode,ce),ee.return=re,ee;case P:var Ne=ee._init;return ee=Ne(ee._payload),Ee(re,ee,ce)}if(I(ee)||Z(ee))return ee=Yi(ee,re.mode,ce,null),ee.return=re,ee;if(typeof ee.then=="function")return Ee(re,kd(ee),ce);if(ee.$$typeof===C)return Ee(re,pd(re,ee),ce);Cd(re,ee)}return null}function me(re,ee,ce,Ne){var We=ee!==null?ee.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return We!==null?null:D(re,ee,""+ce,Ne);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case y:return ce.key===We?G(re,ee,ce,Ne):null;case b:return ce.key===We?ue(re,ee,ce,Ne):null;case P:return We=ce._init,ce=We(ce._payload),me(re,ee,ce,Ne)}if(I(ce)||Z(ce))return We!==null?null:je(re,ee,ce,Ne,null);if(typeof ce.then=="function")return me(re,ee,kd(ce),Ne);if(ce.$$typeof===C)return me(re,ee,pd(re,ce),Ne);Cd(re,ce)}return null}function ge(re,ee,ce,Ne,We){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return re=re.get(ce)||null,D(ee,re,""+Ne,We);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case y:return re=re.get(Ne.key===null?ce:Ne.key)||null,G(ee,re,Ne,We);case b:return re=re.get(Ne.key===null?ce:Ne.key)||null,ue(ee,re,Ne,We);case P:var Rt=Ne._init;return Ne=Rt(Ne._payload),ge(re,ee,ce,Ne,We)}if(I(Ne)||Z(Ne))return re=re.get(ce)||null,je(ee,re,Ne,We,null);if(typeof Ne.then=="function")return ge(re,ee,ce,kd(Ne),We);if(Ne.$$typeof===C)return ge(re,ee,ce,pd(ee,Ne),We);Cd(ee,Ne)}return null}function ht(re,ee,ce,Ne){for(var We=null,Rt=null,st=ee,ft=ee=0,os=null;st!==null&&ft<ce.length;ft++){st.index>ft?(os=st,st=null):os=st.sibling;var Wt=me(re,st,ce[ft],Ne);if(Wt===null){st===null&&(st=os);break}r&&st&&Wt.alternate===null&&i(re,st),ee=v(Wt,ee,ft),Rt===null?We=Wt:Rt.sibling=Wt,Rt=Wt,st=os}if(ft===ce.length)return c(re,st),Gt&&Wi(re,ft),We;if(st===null){for(;ft<ce.length;ft++)st=Ee(re,ce[ft],Ne),st!==null&&(ee=v(st,ee,ft),Rt===null?We=st:Rt.sibling=st,Rt=st);return Gt&&Wi(re,ft),We}for(st=m(st);ft<ce.length;ft++)os=ge(st,re,ft,ce[ft],Ne),os!==null&&(r&&os.alternate!==null&&st.delete(os.key===null?ft:os.key),ee=v(os,ee,ft),Rt===null?We=os:Rt.sibling=os,Rt=os);return r&&st.forEach(function(di){return i(re,di)}),Gt&&Wi(re,ft),We}function ct(re,ee,ce,Ne){if(ce==null)throw Error(s(151));for(var We=null,Rt=null,st=ee,ft=ee=0,os=null,Wt=ce.next();st!==null&&!Wt.done;ft++,Wt=ce.next()){st.index>ft?(os=st,st=null):os=st.sibling;var di=me(re,st,Wt.value,Ne);if(di===null){st===null&&(st=os);break}r&&st&&di.alternate===null&&i(re,st),ee=v(di,ee,ft),Rt===null?We=di:Rt.sibling=di,Rt=di,st=os}if(Wt.done)return c(re,st),Gt&&Wi(re,ft),We;if(st===null){for(;!Wt.done;ft++,Wt=ce.next())Wt=Ee(re,Wt.value,Ne),Wt!==null&&(ee=v(Wt,ee,ft),Rt===null?We=Wt:Rt.sibling=Wt,Rt=Wt);return Gt&&Wi(re,ft),We}for(st=m(st);!Wt.done;ft++,Wt=ce.next())Wt=ge(st,re,ft,Wt.value,Ne),Wt!==null&&(r&&Wt.alternate!==null&&st.delete(Wt.key===null?ft:Wt.key),ee=v(Wt,ee,ft),Rt===null?We=Wt:Rt.sibling=Wt,Rt=Wt);return r&&st.forEach(function(Wk){return i(re,Wk)}),Gt&&Wi(re,ft),We}function rn(re,ee,ce,Ne){if(typeof ce=="object"&&ce!==null&&ce.type===w&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case y:e:{for(var We=ce.key;ee!==null;){if(ee.key===We){if(We=ce.type,We===w){if(ee.tag===7){c(re,ee.sibling),Ne=g(ee,ce.props.children),Ne.return=re,re=Ne;break e}}else if(ee.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===P&&Ib(We)===ee.type){c(re,ee.sibling),Ne=g(ee,ce.props),Ac(Ne,ce),Ne.return=re,re=Ne;break e}c(re,ee);break}else i(re,ee);ee=ee.sibling}ce.type===w?(Ne=Yi(ce.props.children,re.mode,Ne,ce.key),Ne.return=re,re=Ne):(Ne=dd(ce.type,ce.key,ce.props,null,re.mode,Ne),Ac(Ne,ce),Ne.return=re,re=Ne)}return T(re);case b:e:{for(We=ce.key;ee!==null;){if(ee.key===We)if(ee.tag===4&&ee.stateNode.containerInfo===ce.containerInfo&&ee.stateNode.implementation===ce.implementation){c(re,ee.sibling),Ne=g(ee,ce.children||[]),Ne.return=re,re=Ne;break e}else{c(re,ee);break}else i(re,ee);ee=ee.sibling}Ne=xm(ce,re.mode,Ne),Ne.return=re,re=Ne}return T(re);case P:return We=ce._init,ce=We(ce._payload),rn(re,ee,ce,Ne)}if(I(ce))return ht(re,ee,ce,Ne);if(Z(ce)){if(We=Z(ce),typeof We!="function")throw Error(s(150));return ce=We.call(ce),ct(re,ee,ce,Ne)}if(typeof ce.then=="function")return rn(re,ee,kd(ce),Ne);if(ce.$$typeof===C)return rn(re,ee,pd(re,ce),Ne);Cd(re,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint"?(ce=""+ce,ee!==null&&ee.tag===6?(c(re,ee.sibling),Ne=g(ee,ce),Ne.return=re,re=Ne):(c(re,ee),Ne=gm(ce,re.mode,Ne),Ne.return=re,re=Ne),T(re)):c(re,ee)}return function(re,ee,ce,Ne){try{Oc=0;var We=rn(re,ee,ce,Ne);return sl=null,We}catch(st){if(st===wc||st===xd)throw st;var Rt=qs(29,st,null,re.mode);return Rt.lanes=Ne,Rt.return=re,Rt}finally{}}}var rl=Wb(!0),Xb=Wb(!1),cr=ae(null),Vr=null;function Ka(r){var i=r.alternate;X(Xn,Xn.current&1),X(cr,r),Vr===null&&(i===null||Jo.current!==null||i.memoizedState!==null)&&(Vr=r)}function Gb(r){if(r.tag===22){if(X(Xn,Xn.current),X(cr,r),Vr===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(Vr=r)}}else Qa()}function Qa(){X(Xn,Xn.current),X(cr,cr.current)}function ya(r){ye(cr),Vr===r&&(Vr=null),ye(Xn)}var Xn=ae(0);function Od(r){for(var i=r;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||Bp(c)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Km(r,i,c,m){i=r.memoizedState,c=c(m,i),c=c==null?i:p({},i,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var Qm={enqueueSetState:function(r,i,c){r=r._reactInternals;var m=Xs(),g=Wa(m);g.payload=i,c!=null&&(g.callback=c),i=Xa(r,g,m),i!==null&&(Gs(i,r,m),jc(i,r,m))},enqueueReplaceState:function(r,i,c){r=r._reactInternals;var m=Xs(),g=Wa(m);g.tag=1,g.payload=i,c!=null&&(g.callback=c),i=Xa(r,g,m),i!==null&&(Gs(i,r,m),jc(i,r,m))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var c=Xs(),m=Wa(c);m.tag=2,i!=null&&(m.callback=i),i=Xa(r,m,c),i!==null&&(Gs(i,r,c),jc(i,r,c))}};function Kb(r,i,c,m,g,v,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(m,v,T):i.prototype&&i.prototype.isPureReactComponent?!hc(c,m)||!hc(g,v):!0}function Qb(r,i,c,m){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,m),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,m),i.state!==r&&Qm.enqueueReplaceState(i,i.state,null)}function eo(r,i){var c=i;if("ref"in i){c={};for(var m in i)m!=="ref"&&(c[m]=i[m])}if(r=r.defaultProps){c===i&&(c=p({},c));for(var g in r)c[g]===void 0&&(c[g]=r[g])}return c}var Ad=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Zb(r){Ad(r)}function Jb(r){console.error(r)}function ev(r){Ad(r)}function Rd(r,i){try{var c=r.onUncaughtError;c(i.value,{componentStack:i.stack})}catch(m){setTimeout(function(){throw m})}}function tv(r,i,c){try{var m=r.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Zm(r,i,c){return c=Wa(c),c.tag=3,c.payload={element:null},c.callback=function(){Rd(r,i)},c}function nv(r){return r=Wa(r),r.tag=3,r}function sv(r,i,c,m){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var v=m.value;r.payload=function(){return g(v)},r.callback=function(){tv(i,c,m)}}var T=c.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){tv(i,c,m),typeof g!="function"&&(si===null?si=new Set([this]):si.add(this));var D=m.stack;this.componentDidCatch(m.value,{componentStack:D!==null?D:""})})}function WT(r,i,c,m,g){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(i=c.alternate,i!==null&&yc(i,c,g,!0),c=cr.current,c!==null){switch(c.tag){case 13:return Vr===null?_p():c.alternate===null&&Cn===0&&(Cn=3),c.flags&=-257,c.flags|=65536,c.lanes=g,m===Tm?c.flags|=16384:(i=c.updateQueue,i===null?c.updateQueue=new Set([m]):i.add(m),Sp(r,m,g)),!1;case 22:return c.flags|=65536,m===Tm?c.flags|=16384:(i=c.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=i):(c=i.retryQueue,c===null?i.retryQueue=new Set([m]):c.add(m)),Sp(r,m,g)),!1}throw Error(s(435,c.tag))}return Sp(r,m,g),_p(),!1}if(Gt)return i=cr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,m!==vm&&(r=Error(s(422),{cause:m}),xc(ar(r,c)))):(m!==vm&&(i=Error(s(423),{cause:m}),xc(ar(i,c))),r=r.current.alternate,r.flags|=65536,g&=-g,r.lanes|=g,m=ar(m,c),g=Zm(r.stateNode,m,g),Om(r,g),Cn!==4&&(Cn=2)),!1;var v=Error(s(520),{cause:m});if(v=ar(v,c),Uc===null?Uc=[v]:Uc.push(v),Cn!==4&&(Cn=2),i===null)return!0;m=ar(m,c),c=i;do{switch(c.tag){case 3:return c.flags|=65536,r=g&-g,c.lanes|=r,r=Zm(c.stateNode,m,r),Om(c,r),!1;case 1:if(i=c.type,v=c.stateNode,(c.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(si===null||!si.has(v))))return c.flags|=65536,g&=-g,c.lanes|=g,g=nv(g),sv(g,r,c,m),Om(c,g),!1}c=c.return}while(c!==null);return!1}var rv=Error(s(461)),as=!1;function us(r,i,c,m){i.child=r===null?Xb(i,null,c,m):rl(i,r.child,c,m)}function av(r,i,c,m,g){c=c.render;var v=i.ref;if("ref"in m){var T={};for(var D in m)D!=="ref"&&(T[D]=m[D])}else T=m;return Qi(i),m=Pm(r,i,c,T,v,g),D=Lm(),r!==null&&!as?(zm(r,i,g),ba(r,i,g)):(Gt&&D&&ym(i),i.flags|=1,us(r,i,m,g),i.child)}function iv(r,i,c,m,g){if(r===null){var v=c.type;return typeof v=="function"&&!pm(v)&&v.defaultProps===void 0&&c.compare===null?(i.tag=15,i.type=v,ov(r,i,v,m,g)):(r=dd(c.type,null,m,i,i.mode,g),r.ref=i.ref,r.return=i,i.child=r)}if(v=r.child,!ip(r,g)){var T=v.memoizedProps;if(c=c.compare,c=c!==null?c:hc,c(T,m)&&r.ref===i.ref)return ba(r,i,g)}return i.flags|=1,r=fa(v,m),r.ref=i.ref,r.return=i,i.child=r}function ov(r,i,c,m,g){if(r!==null){var v=r.memoizedProps;if(hc(v,m)&&r.ref===i.ref)if(as=!1,i.pendingProps=m=v,ip(r,g))(r.flags&131072)!==0&&(as=!0);else return i.lanes=r.lanes,ba(r,i,g)}return Jm(r,i,c,m,g)}function lv(r,i,c){var m=i.pendingProps,g=m.children,v=r!==null?r.memoizedState:null;if(m.mode==="hidden"){if((i.flags&128)!==0){if(m=v!==null?v.baseLanes|c:c,r!==null){for(g=i.child=r.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;i.childLanes=v&~m}else i.childLanes=0,i.child=null;return cv(r,i,m,c)}if((c&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&gd(i,v!==null?v.cachePool:null),v!==null?ob(i,v):Rm(),Gb(i);else return i.lanes=i.childLanes=536870912,cv(r,i,v!==null?v.baseLanes|c:c,c)}else v!==null?(gd(i,v.cachePool),ob(i,v),Qa(),i.memoizedState=null):(r!==null&&gd(i,null),Rm(),Qa());return us(r,i,g,c),i.child}function cv(r,i,c,m){var g=Em();return g=g===null?null:{parent:Wn._currentValue,pool:g},i.memoizedState={baseLanes:c,cachePool:g},r!==null&&gd(i,null),Rm(),Gb(i),r!==null&&yc(r,i,m,!0),null}function Md(r,i){var c=i.ref;if(c===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(s(284));(r===null||r.ref!==c)&&(i.flags|=4194816)}}function Jm(r,i,c,m,g){return Qi(i),c=Pm(r,i,c,m,void 0,g),m=Lm(),r!==null&&!as?(zm(r,i,g),ba(r,i,g)):(Gt&&m&&ym(i),i.flags|=1,us(r,i,c,g),i.child)}function uv(r,i,c,m,g,v){return Qi(i),i.updateQueue=null,c=cb(i,m,c,g),lb(r),m=Lm(),r!==null&&!as?(zm(r,i,v),ba(r,i,v)):(Gt&&m&&ym(i),i.flags|=1,us(r,i,c,v),i.child)}function dv(r,i,c,m,g){if(Qi(i),i.stateNode===null){var v=Xo,T=c.contextType;typeof T=="object"&&T!==null&&(v=gs(T)),v=new c(m,v),i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Qm,i.stateNode=v,v._reactInternals=i,v=i.stateNode,v.props=m,v.state=i.memoizedState,v.refs={},km(i),T=c.contextType,v.context=typeof T=="object"&&T!==null?gs(T):Xo,v.state=i.memoizedState,T=c.getDerivedStateFromProps,typeof T=="function"&&(Km(i,c,T,m),v.state=i.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(T=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),T!==v.state&&Qm.enqueueReplaceState(v,v.state,null),Nc(i,m,v,g),Sc(),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308),m=!0}else if(r===null){v=i.stateNode;var D=i.memoizedProps,G=eo(c,D);v.props=G;var ue=v.context,je=c.contextType;T=Xo,typeof je=="object"&&je!==null&&(T=gs(je));var Ee=c.getDerivedStateFromProps;je=typeof Ee=="function"||typeof v.getSnapshotBeforeUpdate=="function",D=i.pendingProps!==D,je||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(D||ue!==T)&&Qb(i,v,m,T),Ia=!1;var me=i.memoizedState;v.state=me,Nc(i,m,v,g),Sc(),ue=i.memoizedState,D||me!==ue||Ia?(typeof Ee=="function"&&(Km(i,c,Ee,m),ue=i.memoizedState),(G=Ia||Kb(i,c,G,m,me,ue,T))?(je||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=m,i.memoizedState=ue),v.props=m,v.state=ue,v.context=T,m=G):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),m=!1)}else{v=i.stateNode,Cm(r,i),T=i.memoizedProps,je=eo(c,T),v.props=je,Ee=i.pendingProps,me=v.context,ue=c.contextType,G=Xo,typeof ue=="object"&&ue!==null&&(G=gs(ue)),D=c.getDerivedStateFromProps,(ue=typeof D=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T!==Ee||me!==G)&&Qb(i,v,m,G),Ia=!1,me=i.memoizedState,v.state=me,Nc(i,m,v,g),Sc();var ge=i.memoizedState;T!==Ee||me!==ge||Ia||r!==null&&r.dependencies!==null&&md(r.dependencies)?(typeof D=="function"&&(Km(i,c,D,m),ge=i.memoizedState),(je=Ia||Kb(i,c,je,m,me,ge,G)||r!==null&&r.dependencies!==null&&md(r.dependencies))?(ue||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(m,ge,G),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(m,ge,G)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||T===r.memoizedProps&&me===r.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&me===r.memoizedState||(i.flags|=1024),i.memoizedProps=m,i.memoizedState=ge),v.props=m,v.state=ge,v.context=G,m=je):(typeof v.componentDidUpdate!="function"||T===r.memoizedProps&&me===r.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&me===r.memoizedState||(i.flags|=1024),m=!1)}return v=m,Md(r,i),m=(i.flags&128)!==0,v||m?(v=i.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:v.render(),i.flags|=1,r!==null&&m?(i.child=rl(i,r.child,null,g),i.child=rl(i,null,c,g)):us(r,i,c,g),i.memoizedState=v.state,r=i.child):r=ba(r,i,g),r}function fv(r,i,c,m){return gc(),i.flags|=256,us(r,i,c,m),i.child}var ep={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tp(r){return{baseLanes:r,cachePool:Jy()}}function np(r,i,c){return r=r!==null?r.childLanes&~c:0,i&&(r|=ur),r}function hv(r,i,c){var m=i.pendingProps,g=!1,v=(i.flags&128)!==0,T;if((T=v)||(T=r!==null&&r.memoizedState===null?!1:(Xn.current&2)!==0),T&&(g=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,r===null){if(Gt){if(g?Ka(i):Qa(),Gt){var D=kn,G;if(G=D){e:{for(G=D,D=Hr;G.nodeType!==8;){if(!D){D=null;break e}if(G=Er(G.nextSibling),G===null){D=null;break e}}D=G}D!==null?(i.memoizedState={dehydrated:D,treeContext:Ii!==null?{id:ha,overflow:ma}:null,retryLane:536870912,hydrationErrors:null},G=qs(18,null,null,0),G.stateNode=D,G.return=i,i.child=G,_s=i,kn=null,G=!0):G=!1}G||Gi(i)}if(D=i.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return Bp(D)?i.lanes=32:i.lanes=536870912,null;ya(i)}return D=m.children,m=m.fallback,g?(Qa(),g=i.mode,D=Dd({mode:"hidden",children:D},g),m=Yi(m,g,c,null),D.return=i,m.return=i,D.sibling=m,i.child=D,g=i.child,g.memoizedState=tp(c),g.childLanes=np(r,T,c),i.memoizedState=ep,m):(Ka(i),sp(i,D))}if(G=r.memoizedState,G!==null&&(D=G.dehydrated,D!==null)){if(v)i.flags&256?(Ka(i),i.flags&=-257,i=rp(r,i,c)):i.memoizedState!==null?(Qa(),i.child=r.child,i.flags|=128,i=null):(Qa(),g=m.fallback,D=i.mode,m=Dd({mode:"visible",children:m.children},D),g=Yi(g,D,c,null),g.flags|=2,m.return=i,g.return=i,m.sibling=g,i.child=m,rl(i,r.child,null,c),m=i.child,m.memoizedState=tp(c),m.childLanes=np(r,T,c),i.memoizedState=ep,i=g);else if(Ka(i),Bp(D)){if(T=D.nextSibling&&D.nextSibling.dataset,T)var ue=T.dgst;T=ue,m=Error(s(419)),m.stack="",m.digest=T,xc({value:m,source:null,stack:null}),i=rp(r,i,c)}else if(as||yc(r,i,c,!1),T=(c&r.childLanes)!==0,as||T){if(T=fn,T!==null&&(m=c&-c,m=(m&42)!==0?1:ns(m),m=(m&(T.suspendedLanes|c))!==0?0:m,m!==0&&m!==G.retryLane))throw G.retryLane=m,Wo(r,m),Gs(T,r,m),rv;D.data==="$?"||_p(),i=rp(r,i,c)}else D.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=G.treeContext,kn=Er(D.nextSibling),_s=i,Gt=!0,Xi=null,Hr=!1,r!==null&&(or[lr++]=ha,or[lr++]=ma,or[lr++]=Ii,ha=r.id,ma=r.overflow,Ii=i),i=sp(i,m.children),i.flags|=4096);return i}return g?(Qa(),g=m.fallback,D=i.mode,G=r.child,ue=G.sibling,m=fa(G,{mode:"hidden",children:m.children}),m.subtreeFlags=G.subtreeFlags&65011712,ue!==null?g=fa(ue,g):(g=Yi(g,D,c,null),g.flags|=2),g.return=i,m.return=i,m.sibling=g,i.child=m,m=g,g=i.child,D=r.child.memoizedState,D===null?D=tp(c):(G=D.cachePool,G!==null?(ue=Wn._currentValue,G=G.parent!==ue?{parent:ue,pool:ue}:G):G=Jy(),D={baseLanes:D.baseLanes|c,cachePool:G}),g.memoizedState=D,g.childLanes=np(r,T,c),i.memoizedState=ep,m):(Ka(i),c=r.child,r=c.sibling,c=fa(c,{mode:"visible",children:m.children}),c.return=i,c.sibling=null,r!==null&&(T=i.deletions,T===null?(i.deletions=[r],i.flags|=16):T.push(r)),i.child=c,i.memoizedState=null,c)}function sp(r,i){return i=Dd({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Dd(r,i){return r=qs(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function rp(r,i,c){return rl(i,r.child,null,c),r=sp(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function mv(r,i,c){r.lanes|=i;var m=r.alternate;m!==null&&(m.lanes|=i),_m(r.return,i,c)}function ap(r,i,c,m,g){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:g}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=m,v.tail=c,v.tailMode=g)}function pv(r,i,c){var m=i.pendingProps,g=m.revealOrder,v=m.tail;if(us(r,i,m.children,c),m=Xn.current,(m&2)!==0)m=m&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&mv(r,c,i);else if(r.tag===19)mv(r,c,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}m&=1}switch(X(Xn,m),g){case"forwards":for(c=i.child,g=null;c!==null;)r=c.alternate,r!==null&&Od(r)===null&&(g=c),c=c.sibling;c=g,c===null?(g=i.child,i.child=null):(g=c.sibling,c.sibling=null),ap(i,!1,g,c,v);break;case"backwards":for(c=null,g=i.child,i.child=null;g!==null;){if(r=g.alternate,r!==null&&Od(r)===null){i.child=g;break}r=g.sibling,g.sibling=c,c=g,g=r}ap(i,!0,c,null,v);break;case"together":ap(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ba(r,i,c){if(r!==null&&(i.dependencies=r.dependencies),ni|=i.lanes,(c&i.childLanes)===0)if(r!==null){if(yc(r,i,c,!1),(c&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,c=fa(r,r.pendingProps),i.child=c,c.return=i;r.sibling!==null;)r=r.sibling,c=c.sibling=fa(r,r.pendingProps),c.return=i;c.sibling=null}return i.child}function ip(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&md(r)))}function XT(r,i,c){switch(i.tag){case 3:ze(i,i.stateNode.containerInfo),Ya(i,Wn,r.memoizedState.cache),gc();break;case 27:case 5:Ve(i);break;case 4:ze(i,i.stateNode.containerInfo);break;case 10:Ya(i,i.type,i.memoizedProps.value);break;case 13:var m=i.memoizedState;if(m!==null)return m.dehydrated!==null?(Ka(i),i.flags|=128,null):(c&i.child.childLanes)!==0?hv(r,i,c):(Ka(i),r=ba(r,i,c),r!==null?r.sibling:null);Ka(i);break;case 19:var g=(r.flags&128)!==0;if(m=(c&i.childLanes)!==0,m||(yc(r,i,c,!1),m=(c&i.childLanes)!==0),g){if(m)return pv(r,i,c);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),X(Xn,Xn.current),m)break;return null;case 22:case 23:return i.lanes=0,lv(r,i,c);case 24:Ya(i,Wn,r.memoizedState.cache)}return ba(r,i,c)}function gv(r,i,c){if(r!==null)if(r.memoizedProps!==i.pendingProps)as=!0;else{if(!ip(r,c)&&(i.flags&128)===0)return as=!1,XT(r,i,c);as=(r.flags&131072)!==0}else as=!1,Gt&&(i.flags&1048576)!==0&&Iy(i,hd,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var m=i.elementType,g=m._init;if(m=g(m._payload),i.type=m,typeof m=="function")pm(m)?(r=eo(m,r),i.tag=1,i=dv(null,i,m,r,c)):(i.tag=0,i=Jm(null,i,m,r,c));else{if(m!=null){if(g=m.$$typeof,g===R){i.tag=11,i=av(null,i,m,r,c);break e}else if(g===z){i.tag=14,i=iv(null,i,m,r,c);break e}}throw i=J(m)||m,Error(s(306,i,""))}}return i;case 0:return Jm(r,i,i.type,i.pendingProps,c);case 1:return m=i.type,g=eo(m,i.pendingProps),dv(r,i,m,g,c);case 3:e:{if(ze(i,i.stateNode.containerInfo),r===null)throw Error(s(387));m=i.pendingProps;var v=i.memoizedState;g=v.element,Cm(r,i),Nc(i,m,null,c);var T=i.memoizedState;if(m=T.cache,Ya(i,Wn,m),m!==v.cache&&jm(i,[Wn],c,!0),Sc(),m=T.element,v.isDehydrated)if(v={element:m,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){i=fv(r,i,m,c);break e}else if(m!==g){g=ar(Error(s(424)),i),xc(g),i=fv(r,i,m,c);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(kn=Er(r.firstChild),_s=i,Gt=!0,Xi=null,Hr=!0,c=Xb(i,null,m,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(gc(),m===g){i=ba(r,i,c);break e}us(r,i,m,c)}i=i.child}return i;case 26:return Md(r,i),r===null?(c=vw(i.type,null,i.pendingProps,null))?i.memoizedState=c:Gt||(c=i.type,r=i.pendingProps,m=Xd(be.current).createElement(c),m[we]=i,m[Ae]=r,fs(m,c,r),et(m),i.stateNode=m):i.memoizedState=vw(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return Ve(i),r===null&&Gt&&(m=i.stateNode=xw(i.type,i.pendingProps,be.current),_s=i,Hr=!0,g=kn,ii(i.type)?(Fp=g,kn=Er(m.firstChild)):kn=g),us(r,i,i.pendingProps.children,c),Md(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&Gt&&((g=m=kn)&&(m=_k(m,i.type,i.pendingProps,Hr),m!==null?(i.stateNode=m,_s=i,kn=Er(m.firstChild),Hr=!1,g=!0):g=!1),g||Gi(i)),Ve(i),g=i.type,v=i.pendingProps,T=r!==null?r.memoizedProps:null,m=v.children,Lp(g,v)?m=null:T!==null&&Lp(g,T)&&(i.flags|=32),i.memoizedState!==null&&(g=Pm(r,i,FT,null,null,c),Wc._currentValue=g),Md(r,i),us(r,i,m,c),i.child;case 6:return r===null&&Gt&&((r=c=kn)&&(c=jk(c,i.pendingProps,Hr),c!==null?(i.stateNode=c,_s=i,kn=null,r=!0):r=!1),r||Gi(i)),null;case 13:return hv(r,i,c);case 4:return ze(i,i.stateNode.containerInfo),m=i.pendingProps,r===null?i.child=rl(i,null,m,c):us(r,i,m,c),i.child;case 11:return av(r,i,i.type,i.pendingProps,c);case 7:return us(r,i,i.pendingProps,c),i.child;case 8:return us(r,i,i.pendingProps.children,c),i.child;case 12:return us(r,i,i.pendingProps.children,c),i.child;case 10:return m=i.pendingProps,Ya(i,i.type,m.value),us(r,i,m.children,c),i.child;case 9:return g=i.type._context,m=i.pendingProps.children,Qi(i),g=gs(g),m=m(g),i.flags|=1,us(r,i,m,c),i.child;case 14:return iv(r,i,i.type,i.pendingProps,c);case 15:return ov(r,i,i.type,i.pendingProps,c);case 19:return pv(r,i,c);case 31:return m=i.pendingProps,c=i.mode,m={mode:m.mode,children:m.children},r===null?(c=Dd(m,c),c.ref=i.ref,i.child=c,c.return=i,i=c):(c=fa(r.child,m),c.ref=i.ref,i.child=c,c.return=i,i=c),i;case 22:return lv(r,i,c);case 24:return Qi(i),m=gs(Wn),r===null?(g=Em(),g===null&&(g=fn,v=Sm(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=c),g=v),i.memoizedState={parent:m,cache:g},km(i),Ya(i,Wn,g)):((r.lanes&c)!==0&&(Cm(r,i),Nc(i,null,null,c),Sc()),g=r.memoizedState,v=i.memoizedState,g.parent!==m?(g={parent:m,cache:m},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),Ya(i,Wn,m)):(m=v.cache,Ya(i,Wn,m),m!==g.cache&&jm(i,[Wn],c,!0))),us(r,i,i.pendingProps.children,c),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function va(r){r.flags|=4}function xv(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Nw(i)){if(i=cr.current,i!==null&&((Bt&4194048)===Bt?Vr!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||i!==Vr))throw _c=Tm,eb;r.flags|=8192}}function Pd(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Mt():536870912,r.lanes|=i,ll|=i)}function Rc(r,i){if(!Gt)switch(r.tailMode){case"hidden":i=r.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:m.sibling=null}}function wn(r){var i=r.alternate!==null&&r.alternate.child===r.child,c=0,m=0;if(i)for(var g=r.child;g!==null;)c|=g.lanes|g.childLanes,m|=g.subtreeFlags&65011712,m|=g.flags&65011712,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)c|=g.lanes|g.childLanes,m|=g.subtreeFlags,m|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=m,r.childLanes=c,i}function GT(r,i,c){var m=i.pendingProps;switch(bm(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wn(i),null;case 1:return wn(i),null;case 3:return c=i.stateNode,m=null,r!==null&&(m=r.memoizedState.cache),i.memoizedState.cache!==m&&(i.flags|=2048),ga(Wn),tt(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(pc(i)?va(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Gy())),wn(i),null;case 26:return c=i.memoizedState,r===null?(va(i),c!==null?(wn(i),xv(i,c)):(wn(i),i.flags&=-16777217)):c?c!==r.memoizedState?(va(i),wn(i),xv(i,c)):(wn(i),i.flags&=-16777217):(r.memoizedProps!==m&&va(i),wn(i),i.flags&=-16777217),null;case 27:Et(i),c=be.current;var g=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==m&&va(i);else{if(!m){if(i.stateNode===null)throw Error(s(166));return wn(i),null}r=he.current,pc(i)?Wy(i):(r=xw(g,m,c),i.stateNode=r,va(i))}return wn(i),null;case 5:if(Et(i),c=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==m&&va(i);else{if(!m){if(i.stateNode===null)throw Error(s(166));return wn(i),null}if(r=he.current,pc(i))Wy(i);else{switch(g=Xd(be.current),r){case 1:r=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:r=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":r=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":r=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":r=g.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof m.is=="string"?g.createElement("select",{is:m.is}):g.createElement("select"),m.multiple?r.multiple=!0:m.size&&(r.size=m.size);break;default:r=typeof m.is=="string"?g.createElement(c,{is:m.is}):g.createElement(c)}}r[we]=i,r[Ae]=m;e:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)r.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break e;for(;g.sibling===null;){if(g.return===null||g.return===i)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=r;e:switch(fs(r,c,m),c){case"button":case"input":case"select":case"textarea":r=!!m.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&va(i)}}return wn(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==m&&va(i);else{if(typeof m!="string"&&i.stateNode===null)throw Error(s(166));if(r=be.current,pc(i)){if(r=i.stateNode,c=i.memoizedProps,m=null,g=_s,g!==null)switch(g.tag){case 27:case 5:m=g.memoizedProps}r[we]=i,r=!!(r.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||uw(r.nodeValue,c)),r||Gi(i)}else r=Xd(r).createTextNode(m),r[we]=i,i.stateNode=r}return wn(i),null;case 13:if(m=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(g=pc(i),m!==null&&m.dehydrated!==null){if(r===null){if(!g)throw Error(s(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[we]=i}else gc(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;wn(i),g=!1}else g=Gy(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(ya(i),i):(ya(i),null)}if(ya(i),(i.flags&128)!==0)return i.lanes=c,i;if(c=m!==null,r=r!==null&&r.memoizedState!==null,c){m=i.child,g=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(g=m.alternate.memoizedState.cachePool.pool);var v=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(v=m.memoizedState.cachePool.pool),v!==g&&(m.flags|=2048)}return c!==r&&c&&(i.child.flags|=8192),Pd(i,i.updateQueue),wn(i),null;case 4:return tt(),r===null&&Ap(i.stateNode.containerInfo),wn(i),null;case 10:return ga(i.type),wn(i),null;case 19:if(ye(Xn),g=i.memoizedState,g===null)return wn(i),null;if(m=(i.flags&128)!==0,v=g.rendering,v===null)if(m)Rc(g,!1);else{if(Cn!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(v=Od(r),v!==null){for(i.flags|=128,Rc(g,!1),r=v.updateQueue,i.updateQueue=r,Pd(i,r),i.subtreeFlags=0,r=c,c=i.child;c!==null;)Yy(c,r),c=c.sibling;return X(Xn,Xn.current&1|2),i.child}r=r.sibling}g.tail!==null&&Ct()>Ud&&(i.flags|=128,m=!0,Rc(g,!1),i.lanes=4194304)}else{if(!m)if(r=Od(v),r!==null){if(i.flags|=128,m=!0,r=r.updateQueue,i.updateQueue=r,Pd(i,r),Rc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!Gt)return wn(i),null}else 2*Ct()-g.renderingStartTime>Ud&&c!==536870912&&(i.flags|=128,m=!0,Rc(g,!1),i.lanes=4194304);g.isBackwards?(v.sibling=i.child,i.child=v):(r=g.last,r!==null?r.sibling=v:i.child=v,g.last=v)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=Ct(),i.sibling=null,r=Xn.current,X(Xn,m?r&1|2:r&1),i):(wn(i),null);case 22:case 23:return ya(i),Mm(),m=i.memoizedState!==null,r!==null?r.memoizedState!==null!==m&&(i.flags|=8192):m&&(i.flags|=8192),m?(c&536870912)!==0&&(i.flags&128)===0&&(wn(i),i.subtreeFlags&6&&(i.flags|=8192)):wn(i),c=i.updateQueue,c!==null&&Pd(i,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),m=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(m=i.memoizedState.cachePool.pool),m!==c&&(i.flags|=2048),r!==null&&ye(Zi),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),ga(Wn),wn(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function KT(r,i){switch(bm(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return ga(Wn),tt(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return Et(i),null;case 13:if(ya(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));gc()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return ye(Xn),null;case 4:return tt(),null;case 10:return ga(i.type),null;case 22:case 23:return ya(i),Mm(),r!==null&&ye(Zi),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return ga(Wn),null;case 25:return null;default:return null}}function yv(r,i){switch(bm(i),i.tag){case 3:ga(Wn),tt();break;case 26:case 27:case 5:Et(i);break;case 4:tt();break;case 13:ya(i);break;case 19:ye(Xn);break;case 10:ga(i.type);break;case 22:case 23:ya(i),Mm(),r!==null&&ye(Zi);break;case 24:ga(Wn)}}function Mc(r,i){try{var c=i.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&r)===r){m=void 0;var v=c.create,T=c.inst;m=v(),T.destroy=m}c=c.next}while(c!==g)}}catch(D){ln(i,i.return,D)}}function Za(r,i,c){try{var m=i.updateQueue,g=m!==null?m.lastEffect:null;if(g!==null){var v=g.next;m=v;do{if((m.tag&r)===r){var T=m.inst,D=T.destroy;if(D!==void 0){T.destroy=void 0,g=i;var G=c,ue=D;try{ue()}catch(je){ln(g,G,je)}}}m=m.next}while(m!==v)}}catch(je){ln(i,i.return,je)}}function bv(r){var i=r.updateQueue;if(i!==null){var c=r.stateNode;try{ib(i,c)}catch(m){ln(r,r.return,m)}}}function vv(r,i,c){c.props=eo(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(m){ln(r,i,m)}}function Dc(r,i){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var m=r.stateNode;break;case 30:m=r.stateNode;break;default:m=r.stateNode}typeof c=="function"?r.refCleanup=c(m):c.current=m}}catch(g){ln(r,i,g)}}function $r(r,i){var c=r.ref,m=r.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(g){ln(r,i,g)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){ln(r,i,g)}else c.current=null}function wv(r){var i=r.type,c=r.memoizedProps,m=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break e;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(g){ln(r,r.return,g)}}function op(r,i,c){try{var m=r.stateNode;xk(m,r.type,c,i),m[Ae]=i}catch(g){ln(r,r.return,g)}}function _v(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ii(r.type)||r.tag===4}function lp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||_v(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ii(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function cp(r,i,c){var m=r.tag;if(m===5||m===6)r=r.stateNode,i?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,i):(i=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,i.appendChild(r),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=Wd));else if(m!==4&&(m===27&&ii(r.type)&&(c=r.stateNode,i=null),r=r.child,r!==null))for(cp(r,i,c),r=r.sibling;r!==null;)cp(r,i,c),r=r.sibling}function Ld(r,i,c){var m=r.tag;if(m===5||m===6)r=r.stateNode,i?c.insertBefore(r,i):c.appendChild(r);else if(m!==4&&(m===27&&ii(r.type)&&(c=r.stateNode),r=r.child,r!==null))for(Ld(r,i,c),r=r.sibling;r!==null;)Ld(r,i,c),r=r.sibling}function jv(r){var i=r.stateNode,c=r.memoizedProps;try{for(var m=r.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);fs(i,m,c),i[we]=r,i[Ae]=c}catch(v){ln(r,r.return,v)}}var wa=!1,Rn=!1,up=!1,Sv=typeof WeakSet=="function"?WeakSet:Set,is=null;function QT(r,i){if(r=r.containerInfo,Dp=ef,r=Py(r),lm(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var g=m.anchorOffset,v=m.focusNode;m=m.focusOffset;try{c.nodeType,v.nodeType}catch(ct){c=null;break e}var T=0,D=-1,G=-1,ue=0,je=0,Ee=r,me=null;t:for(;;){for(var ge;Ee!==c||g!==0&&Ee.nodeType!==3||(D=T+g),Ee!==v||m!==0&&Ee.nodeType!==3||(G=T+m),Ee.nodeType===3&&(T+=Ee.nodeValue.length),(ge=Ee.firstChild)!==null;)me=Ee,Ee=ge;for(;;){if(Ee===r)break t;if(me===c&&++ue===g&&(D=T),me===v&&++je===m&&(G=T),(ge=Ee.nextSibling)!==null)break;Ee=me,me=Ee.parentNode}Ee=ge}c=D===-1||G===-1?null:{start:D,end:G}}else c=null}c=c||{start:0,end:0}}else c=null;for(Pp={focusedElem:r,selectionRange:c},ef=!1,is=i;is!==null;)if(i=is,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,is=r;else for(;is!==null;){switch(i=is,v=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&v!==null){r=void 0,c=i,g=v.memoizedProps,v=v.memoizedState,m=c.stateNode;try{var ht=eo(c.type,g,c.elementType===c.type);r=m.getSnapshotBeforeUpdate(ht,v),m.__reactInternalSnapshotBeforeUpdate=r}catch(ct){ln(c,c.return,ct)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,c=r.nodeType,c===9)Up(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Up(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,is=r;break}is=i.return}}function Nv(r,i,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:Ja(r,c),m&4&&Mc(5,c);break;case 1:if(Ja(r,c),m&4)if(r=c.stateNode,i===null)try{r.componentDidMount()}catch(T){ln(c,c.return,T)}else{var g=eo(c.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(g,i,r.__reactInternalSnapshotBeforeUpdate)}catch(T){ln(c,c.return,T)}}m&64&&bv(c),m&512&&Dc(c,c.return);break;case 3:if(Ja(r,c),m&64&&(r=c.updateQueue,r!==null)){if(i=null,c.child!==null)switch(c.child.tag){case 27:case 5:i=c.child.stateNode;break;case 1:i=c.child.stateNode}try{ib(r,i)}catch(T){ln(c,c.return,T)}}break;case 27:i===null&&m&4&&jv(c);case 26:case 5:Ja(r,c),i===null&&m&4&&wv(c),m&512&&Dc(c,c.return);break;case 12:Ja(r,c);break;case 13:Ja(r,c),m&4&&kv(r,c),m&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=ik.bind(null,c),Sk(r,c))));break;case 22:if(m=c.memoizedState!==null||wa,!m){i=i!==null&&i.memoizedState!==null||Rn,g=wa;var v=Rn;wa=m,(Rn=i)&&!v?ei(r,c,(c.subtreeFlags&8772)!==0):Ja(r,c),wa=g,Rn=v}break;case 30:break;default:Ja(r,c)}}function Ev(r){var i=r.alternate;i!==null&&(r.alternate=null,Ev(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&pt(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var xn=null,Ds=!1;function _a(r,i,c){for(c=c.child;c!==null;)Tv(r,i,c),c=c.sibling}function Tv(r,i,c){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(Ue,c)}catch(v){}switch(c.tag){case 26:Rn||$r(c,i),_a(r,i,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Rn||$r(c,i);var m=xn,g=Ds;ii(c.type)&&(xn=c.stateNode,Ds=!1),_a(r,i,c),$c(c.stateNode),xn=m,Ds=g;break;case 5:Rn||$r(c,i);case 6:if(m=xn,g=Ds,xn=null,_a(r,i,c),xn=m,Ds=g,xn!==null)if(Ds)try{(xn.nodeType===9?xn.body:xn.nodeName==="HTML"?xn.ownerDocument.body:xn).removeChild(c.stateNode)}catch(v){ln(c,i,v)}else try{xn.removeChild(c.stateNode)}catch(v){ln(c,i,v)}break;case 18:xn!==null&&(Ds?(r=xn,pw(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),Qc(r)):pw(xn,c.stateNode));break;case 4:m=xn,g=Ds,xn=c.stateNode.containerInfo,Ds=!0,_a(r,i,c),xn=m,Ds=g;break;case 0:case 11:case 14:case 15:Rn||Za(2,c,i),Rn||Za(4,c,i),_a(r,i,c);break;case 1:Rn||($r(c,i),m=c.stateNode,typeof m.componentWillUnmount=="function"&&vv(c,i,m)),_a(r,i,c);break;case 21:_a(r,i,c);break;case 22:Rn=(m=Rn)||c.memoizedState!==null,_a(r,i,c),Rn=m;break;default:_a(r,i,c)}}function kv(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Qc(r)}catch(c){ln(i,i.return,c)}}function ZT(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new Sv),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new Sv),i;default:throw Error(s(435,r.tag))}}function dp(r,i){var c=ZT(r);i.forEach(function(m){var g=ok.bind(null,r,m);c.has(m)||(c.add(m),m.then(g,g))})}function Ys(r,i){var c=i.deletions;if(c!==null)for(var m=0;m<c.length;m++){var g=c[m],v=r,T=i,D=T;e:for(;D!==null;){switch(D.tag){case 27:if(ii(D.type)){xn=D.stateNode,Ds=!1;break e}break;case 5:xn=D.stateNode,Ds=!1;break e;case 3:case 4:xn=D.stateNode.containerInfo,Ds=!0;break e}D=D.return}if(xn===null)throw Error(s(160));Tv(v,T,g),xn=null,Ds=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Cv(i,r),i=i.sibling}var Nr=null;function Cv(r,i){var c=r.alternate,m=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Ys(i,r),Is(r),m&4&&(Za(3,r,r.return),Mc(3,r),Za(5,r,r.return));break;case 1:Ys(i,r),Is(r),m&512&&(Rn||c===null||$r(c,c.return)),m&64&&wa&&(r=r.updateQueue,r!==null&&(m=r.callbacks,m!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var g=Nr;if(Ys(i,r),Is(r),m&512&&(Rn||c===null||$r(c,c.return)),m&4){var v=c!==null?c.memoizedState:null;if(m=r.memoizedState,c===null)if(m===null)if(r.stateNode===null){e:{m=r.type,c=r.memoizedProps,g=g.ownerDocument||g;t:switch(m){case"title":v=g.getElementsByTagName("title")[0],(!v||v[Je]||v[we]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(m),g.head.insertBefore(v,g.querySelector("head > title"))),fs(v,m,c),v[we]=r,et(v),m=v;break e;case"link":var T=jw("link","href",g).get(m+(c.href||""));if(T){for(var D=0;D<T.length;D++)if(v=T[D],v.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&v.getAttribute("rel")===(c.rel==null?null:c.rel)&&v.getAttribute("title")===(c.title==null?null:c.title)&&v.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){T.splice(D,1);break t}}v=g.createElement(m),fs(v,m,c),g.head.appendChild(v);break;case"meta":if(T=jw("meta","content",g).get(m+(c.content||""))){for(D=0;D<T.length;D++)if(v=T[D],v.getAttribute("content")===(c.content==null?null:""+c.content)&&v.getAttribute("name")===(c.name==null?null:c.name)&&v.getAttribute("property")===(c.property==null?null:c.property)&&v.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&v.getAttribute("charset")===(c.charSet==null?null:c.charSet)){T.splice(D,1);break t}}v=g.createElement(m),fs(v,m,c),g.head.appendChild(v);break;default:throw Error(s(468,m))}v[we]=r,et(v),m=v}r.stateNode=m}else Sw(g,r.type,r.stateNode);else r.stateNode=_w(g,m,r.memoizedProps);else v!==m?(v===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):v.count--,m===null?Sw(g,r.type,r.stateNode):_w(g,m,r.memoizedProps)):m===null&&r.stateNode!==null&&op(r,r.memoizedProps,c.memoizedProps)}break;case 27:Ys(i,r),Is(r),m&512&&(Rn||c===null||$r(c,c.return)),c!==null&&m&4&&op(r,r.memoizedProps,c.memoizedProps);break;case 5:if(Ys(i,r),Is(r),m&512&&(Rn||c===null||$r(c,c.return)),r.flags&32){g=r.stateNode;try{Ba(g,"")}catch(ge){ln(r,r.return,ge)}}m&4&&r.stateNode!=null&&(g=r.memoizedProps,op(r,g,c!==null?c.memoizedProps:g)),m&1024&&(up=!0);break;case 6:if(Ys(i,r),Is(r),m&4){if(r.stateNode===null)throw Error(s(162));m=r.memoizedProps,c=r.stateNode;try{c.nodeValue=m}catch(ge){ln(r,r.return,ge)}}break;case 3:if(Qd=null,g=Nr,Nr=Gd(i.containerInfo),Ys(i,r),Nr=g,Is(r),m&4&&c!==null&&c.memoizedState.isDehydrated)try{Qc(i.containerInfo)}catch(ge){ln(r,r.return,ge)}up&&(up=!1,Ov(r));break;case 4:m=Nr,Nr=Gd(r.stateNode.containerInfo),Ys(i,r),Is(r),Nr=m;break;case 12:Ys(i,r),Is(r);break;case 13:Ys(i,r),Is(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(xp=Ct()),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,dp(r,m)));break;case 22:g=r.memoizedState!==null;var G=c!==null&&c.memoizedState!==null,ue=wa,je=Rn;if(wa=ue||g,Rn=je||G,Ys(i,r),Rn=je,wa=ue,Is(r),m&8192)e:for(i=r.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(c===null||G||wa||Rn||to(r)),c=null,i=r;;){if(i.tag===5||i.tag===26){if(c===null){G=c=i;try{if(v=G.stateNode,g)T=v.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{D=G.stateNode;var Ee=G.memoizedProps.style,me=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null;D.style.display=me==null||typeof me=="boolean"?"":(""+me).trim()}}catch(ge){ln(G,G.return,ge)}}}else if(i.tag===6){if(c===null){G=i;try{G.stateNode.nodeValue=g?"":G.memoizedProps}catch(ge){ln(G,G.return,ge)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;c===i&&(c=null),i=i.return}c===i&&(c=null),i.sibling.return=i.return,i=i.sibling}m&4&&(m=r.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,dp(r,c))));break;case 19:Ys(i,r),Is(r),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,dp(r,m)));break;case 30:break;case 21:break;default:Ys(i,r),Is(r)}}function Is(r){var i=r.flags;if(i&2){try{for(var c,m=r.return;m!==null;){if(_v(m)){c=m;break}m=m.return}if(c==null)throw Error(s(160));switch(c.tag){case 27:var g=c.stateNode,v=lp(r);Ld(r,v,g);break;case 5:var T=c.stateNode;c.flags&32&&(Ba(T,""),c.flags&=-33);var D=lp(r);Ld(r,D,T);break;case 3:case 4:var G=c.stateNode.containerInfo,ue=lp(r);cp(r,ue,G);break;default:throw Error(s(161))}}catch(je){ln(r,r.return,je)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Ov(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;Ov(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function Ja(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Nv(r,i.alternate,i),i=i.sibling}function to(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:Za(4,i,i.return),to(i);break;case 1:$r(i,i.return);var c=i.stateNode;typeof c.componentWillUnmount=="function"&&vv(i,i.return,c),to(i);break;case 27:$c(i.stateNode);case 26:case 5:$r(i,i.return),to(i);break;case 22:i.memoizedState===null&&to(i);break;case 30:to(i);break;default:to(i)}r=r.sibling}}function ei(r,i,c){for(c=c&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var m=i.alternate,g=r,v=i,T=v.flags;switch(v.tag){case 0:case 11:case 15:ei(g,v,c),Mc(4,v);break;case 1:if(ei(g,v,c),m=v,g=m.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(ue){ln(m,m.return,ue)}if(m=v,g=m.updateQueue,g!==null){var D=m.stateNode;try{var G=g.shared.hiddenCallbacks;if(G!==null)for(g.shared.hiddenCallbacks=null,g=0;g<G.length;g++)ab(G[g],D)}catch(ue){ln(m,m.return,ue)}}c&&T&64&&bv(v),Dc(v,v.return);break;case 27:jv(v);case 26:case 5:ei(g,v,c),c&&m===null&&T&4&&wv(v),Dc(v,v.return);break;case 12:ei(g,v,c);break;case 13:ei(g,v,c),c&&T&4&&kv(g,v);break;case 22:v.memoizedState===null&&ei(g,v,c),Dc(v,v.return);break;case 30:break;default:ei(g,v,c)}i=i.sibling}}function fp(r,i){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&bc(c))}function hp(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&bc(r))}function qr(r,i,c,m){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Av(r,i,c,m),i=i.sibling}function Av(r,i,c,m){var g=i.flags;switch(i.tag){case 0:case 11:case 15:qr(r,i,c,m),g&2048&&Mc(9,i);break;case 1:qr(r,i,c,m);break;case 3:qr(r,i,c,m),g&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&bc(r)));break;case 12:if(g&2048){qr(r,i,c,m),r=i.stateNode;try{var v=i.memoizedProps,T=v.id,D=v.onPostCommit;typeof D=="function"&&D(T,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(G){ln(i,i.return,G)}}else qr(r,i,c,m);break;case 13:qr(r,i,c,m);break;case 23:break;case 22:v=i.stateNode,T=i.alternate,i.memoizedState!==null?v._visibility&2?qr(r,i,c,m):Pc(r,i):v._visibility&2?qr(r,i,c,m):(v._visibility|=2,al(r,i,c,m,(i.subtreeFlags&10256)!==0)),g&2048&&fp(T,i);break;case 24:qr(r,i,c,m),g&2048&&hp(i.alternate,i);break;default:qr(r,i,c,m)}}function al(r,i,c,m,g){for(g=g&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var v=r,T=i,D=c,G=m,ue=T.flags;switch(T.tag){case 0:case 11:case 15:al(v,T,D,G,g),Mc(8,T);break;case 23:break;case 22:var je=T.stateNode;T.memoizedState!==null?je._visibility&2?al(v,T,D,G,g):Pc(v,T):(je._visibility|=2,al(v,T,D,G,g)),g&&ue&2048&&fp(T.alternate,T);break;case 24:al(v,T,D,G,g),g&&ue&2048&&hp(T.alternate,T);break;default:al(v,T,D,G,g)}i=i.sibling}}function Pc(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var c=r,m=i,g=m.flags;switch(m.tag){case 22:Pc(c,m),g&2048&&fp(m.alternate,m);break;case 24:Pc(c,m),g&2048&&hp(m.alternate,m);break;default:Pc(c,m)}i=i.sibling}}var Lc=8192;function il(r){if(r.subtreeFlags&Lc)for(r=r.child;r!==null;)Rv(r),r=r.sibling}function Rv(r){switch(r.tag){case 26:il(r),r.flags&Lc&&r.memoizedState!==null&&zk(Nr,r.memoizedState,r.memoizedProps);break;case 5:il(r);break;case 3:case 4:var i=Nr;Nr=Gd(r.stateNode.containerInfo),il(r),Nr=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=Lc,Lc=16777216,il(r),Lc=i):il(r));break;default:il(r)}}function Mv(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function zc(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var c=0;c<i.length;c++){var m=i[c];is=m,Pv(m,r)}Mv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Dv(r),r=r.sibling}function Dv(r){switch(r.tag){case 0:case 11:case 15:zc(r),r.flags&2048&&Za(9,r,r.return);break;case 3:zc(r);break;case 12:zc(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,zd(r)):zc(r);break;default:zc(r)}}function zd(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var c=0;c<i.length;c++){var m=i[c];is=m,Pv(m,r)}Mv(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:Za(8,i,i.return),zd(i);break;case 22:c=i.stateNode,c._visibility&2&&(c._visibility&=-3,zd(i));break;default:zd(i)}r=r.sibling}}function Pv(r,i){for(;is!==null;){var c=is;switch(c.tag){case 0:case 11:case 15:Za(8,c,i);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:bc(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,is=m;else e:for(c=r;is!==null;){m=is;var g=m.sibling,v=m.return;if(Ev(m),m===c){is=null;break e}if(g!==null){g.return=v,is=g;break e}is=v}}}var JT={getCacheForType:function(r){var i=gs(Wn),c=i.data.get(r);return c===void 0&&(c=r(),i.data.set(r,c)),c}},ek=typeof WeakMap=="function"?WeakMap:Map,Kt=0,fn=null,Dt=null,Bt=0,Qt=0,Ws=null,ti=!1,ol=!1,mp=!1,ja=0,Cn=0,ni=0,no=0,pp=0,ur=0,ll=0,Uc=null,Ps=null,gp=!1,xp=0,Ud=1/0,Bd=null,si=null,ds=0,ri=null,cl=null,ul=0,yp=0,bp=null,Lv=null,Bc=0,vp=null;function Xs(){if((Kt&2)!==0&&Bt!==0)return Bt&-Bt;if(B.T!==null){var r=Qo;return r!==0?r:Tp()}return K()}function zv(){ur===0&&(ur=(Bt&536870912)===0||Gt?nt():536870912);var r=cr.current;return r!==null&&(r.flags|=32),ur}function Gs(r,i,c){(r===fn&&(Qt===2||Qt===9)||r.cancelPendingCommit!==null)&&(dl(r,0),ai(r,Bt,ur,!1)),jt(r,c),((Kt&2)===0||r!==fn)&&(r===fn&&((Kt&2)===0&&(no|=c),Cn===4&&ai(r,Bt,ur,!1)),Yr(r))}function Uv(r,i,c){if((Kt&6)!==0)throw Error(s(327));var m=!c&&(i&124)===0&&(i&r.expiredLanes)===0||qn(r,i),g=m?sk(r,i):jp(r,i,!0),v=m;do{if(g===0){ol&&!m&&ai(r,i,0,!1);break}else{if(c=r.current.alternate,v&&!tk(c)){g=jp(r,i,!1),v=!1;continue}if(g===2){if(v=i,r.errorRecoveryDisabledLanes&v)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var D=r;g=Uc;var G=D.current.memoizedState.isDehydrated;if(G&&(dl(D,T).flags|=256),T=jp(D,T,!1),T!==2){if(mp&&!G){D.errorRecoveryDisabledLanes|=v,no|=v,g=4;break e}v=Ps,Ps=g,v!==null&&(Ps===null?Ps=v:Ps.push.apply(Ps,v))}g=T}if(v=!1,g!==2)continue}}if(g===1){dl(r,0),ai(r,i,0,!0);break}e:{switch(m=r,v=g,v){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ai(m,i,ur,!ti);break e;case 2:Ps=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(g=xp+300-Ct(),10<g)){if(ai(m,i,ur,!ti),ws(m,0,!0)!==0)break e;m.timeoutHandle=hw(Bv.bind(null,m,c,Ps,Bd,gp,i,ur,no,ll,ti,v,2,-0,0),g);break e}Bv(m,c,Ps,Bd,gp,i,ur,no,ll,ti,v,0,-0,0)}}break}while(!0);Yr(r)}function Bv(r,i,c,m,g,v,T,D,G,ue,je,Ee,me,ge){if(r.timeoutHandle=-1,Ee=i.subtreeFlags,(Ee&8192||(Ee&16785408)===16785408)&&(Ic={stylesheets:null,count:0,unsuspend:Lk},Rv(i),Ee=Uk(),Ee!==null)){r.cancelPendingCommit=Ee(Iv.bind(null,r,i,v,c,m,g,T,D,G,je,1,me,ge)),ai(r,v,T,!ue);return}Iv(r,i,v,c,m,g,T,D,G)}function tk(r){for(var i=r;;){var c=i.tag;if((c===0||c===11||c===15)&&i.flags&16384&&(c=i.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var g=c[m],v=g.getSnapshot;g=g.value;try{if(!$s(v(),g))return!1}catch(T){return!1}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ai(r,i,c,m){i&=~pp,i&=~no,r.suspendedLanes|=i,r.pingedLanes&=~i,m&&(r.warmLanes|=i),m=r.expirationTimes;for(var g=i;0<g;){var v=31-bt(g),T=1<<v;m[v]=-1,g&=~T}c!==0&&pn(r,c,i)}function Fd(){return(Kt&6)===0?(Fc(0),!1):!0}function wp(){if(Dt!==null){if(Qt===0)var r=Dt.return;else r=Dt,pa=Ki=null,Um(r),sl=null,Oc=0,r=Dt;for(;r!==null;)yv(r.alternate,r),r=r.return;Dt=null}}function dl(r,i){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,bk(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),wp(),fn=r,Dt=c=fa(r.current,null),Bt=i,Qt=0,Ws=null,ti=!1,ol=qn(r,i),mp=!1,ll=ur=pp=no=ni=Cn=0,Ps=Uc=null,gp=!1,(i&8)!==0&&(i|=i&32);var m=r.entangledLanes;if(m!==0)for(r=r.entanglements,m&=i;0<m;){var g=31-bt(m),v=1<<g;i|=r[g],m&=~v}return ja=i,ld(),c}function Fv(r,i){Ot=null,B.H=Td,i===wc||i===xd?(i=sb(),Qt=3):i===eb?(i=sb(),Qt=4):Qt=i===rv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ws=i,Dt===null&&(Cn=1,Rd(r,ar(i,r.current)))}function Hv(){var r=B.H;return B.H=Td,r===null?Td:r}function Vv(){var r=B.A;return B.A=JT,r}function _p(){Cn=4,ti||(Bt&4194048)!==Bt&&cr.current!==null||(ol=!0),(ni&134217727)===0&&(no&134217727)===0||fn===null||ai(fn,Bt,ur,!1)}function jp(r,i,c){var m=Kt;Kt|=2;var g=Hv(),v=Vv();(fn!==r||Bt!==i)&&(Bd=null,dl(r,i)),i=!1;var T=Cn;e:do try{if(Qt!==0&&Dt!==null){var D=Dt,G=Ws;switch(Qt){case 8:wp(),T=6;break e;case 3:case 2:case 9:case 6:cr.current===null&&(i=!0);var ue=Qt;if(Qt=0,Ws=null,fl(r,D,G,ue),c&&ol){T=0;break e}break;default:ue=Qt,Qt=0,Ws=null,fl(r,D,G,ue)}}nk(),T=Cn;break}catch(je){Fv(r,je)}while(!0);return i&&r.shellSuspendCounter++,pa=Ki=null,Kt=m,B.H=g,B.A=v,Dt===null&&(fn=null,Bt=0,ld()),T}function nk(){for(;Dt!==null;)$v(Dt)}function sk(r,i){var c=Kt;Kt|=2;var m=Hv(),g=Vv();fn!==r||Bt!==i?(Bd=null,Ud=Ct()+500,dl(r,i)):ol=qn(r,i);e:do try{if(Qt!==0&&Dt!==null){i=Dt;var v=Ws;t:switch(Qt){case 1:Qt=0,Ws=null,fl(r,i,v,1);break;case 2:case 9:if(tb(v)){Qt=0,Ws=null,qv(i);break}i=function(){Qt!==2&&Qt!==9||fn!==r||(Qt=7),Yr(r)},v.then(i,i);break e;case 3:Qt=7;break e;case 4:Qt=5;break e;case 7:tb(v)?(Qt=0,Ws=null,qv(i)):(Qt=0,Ws=null,fl(r,i,v,7));break;case 5:var T=null;switch(Dt.tag){case 26:T=Dt.memoizedState;case 5:case 27:var D=Dt;if(!T||Nw(T)){Qt=0,Ws=null;var G=D.sibling;if(G!==null)Dt=G;else{var ue=D.return;ue!==null?(Dt=ue,Hd(ue)):Dt=null}break t}}Qt=0,Ws=null,fl(r,i,v,5);break;case 6:Qt=0,Ws=null,fl(r,i,v,6);break;case 8:wp(),Cn=6;break e;default:throw Error(s(462))}}rk();break}catch(je){Fv(r,je)}while(!0);return pa=Ki=null,B.H=m,B.A=g,Kt=c,Dt!==null?0:(fn=null,Bt=0,ld(),Cn)}function rk(){for(;Dt!==null&&!mt();)$v(Dt)}function $v(r){var i=gv(r.alternate,r,ja);r.memoizedProps=r.pendingProps,i===null?Hd(r):Dt=i}function qv(r){var i=r,c=i.alternate;switch(i.tag){case 15:case 0:i=uv(c,i,i.pendingProps,i.type,void 0,Bt);break;case 11:i=uv(c,i,i.pendingProps,i.type.render,i.ref,Bt);break;case 5:Um(i);default:yv(c,i),i=Dt=Yy(i,ja),i=gv(c,i,ja)}r.memoizedProps=r.pendingProps,i===null?Hd(r):Dt=i}function fl(r,i,c,m){pa=Ki=null,Um(i),sl=null,Oc=0;var g=i.return;try{if(WT(r,g,i,c,Bt)){Cn=1,Rd(r,ar(c,r.current)),Dt=null;return}}catch(v){if(g!==null)throw Dt=g,v;Cn=1,Rd(r,ar(c,r.current)),Dt=null;return}i.flags&32768?(Gt||m===1?r=!0:ol||(Bt&536870912)!==0?r=!1:(ti=r=!0,(m===2||m===9||m===3||m===6)&&(m=cr.current,m!==null&&m.tag===13&&(m.flags|=16384))),Yv(i,r)):Hd(i)}function Hd(r){var i=r;do{if((i.flags&32768)!==0){Yv(i,ti);return}r=i.return;var c=GT(i.alternate,i,ja);if(c!==null){Dt=c;return}if(i=i.sibling,i!==null){Dt=i;return}Dt=i=r}while(i!==null);Cn===0&&(Cn=5)}function Yv(r,i){do{var c=KT(r.alternate,r);if(c!==null){c.flags&=32767,Dt=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!i&&(r=r.sibling,r!==null)){Dt=r;return}Dt=r=c}while(r!==null);Cn=6,Dt=null}function Iv(r,i,c,m,g,v,T,D,G){r.cancelPendingCommit=null;do Vd();while(ds!==0);if((Kt&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(v=i.lanes|i.childLanes,v|=hm,Jt(r,c,v,T,D,G),r===fn&&(Dt=fn=null,Bt=0),cl=i,ri=r,ul=c,yp=v,bp=g,Lv=m,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,lk(oe,function(){return Qv(),null})):(r.callbackNode=null,r.callbackPriority=0),m=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||m){m=B.T,B.T=null,g=Y.p,Y.p=2,T=Kt,Kt|=4;try{QT(r,i,c)}finally{Kt=T,Y.p=g,B.T=m}}ds=1,Wv(),Xv(),Gv()}}function Wv(){if(ds===1){ds=0;var r=ri,i=cl,c=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||c){c=B.T,B.T=null;var m=Y.p;Y.p=2;var g=Kt;Kt|=4;try{Cv(i,r);var v=Pp,T=Py(r.containerInfo),D=v.focusedElem,G=v.selectionRange;if(T!==D&&D&&D.ownerDocument&&Dy(D.ownerDocument.documentElement,D)){if(G!==null&&lm(D)){var ue=G.start,je=G.end;if(je===void 0&&(je=ue),"selectionStart"in D)D.selectionStart=ue,D.selectionEnd=Math.min(je,D.value.length);else{var Ee=D.ownerDocument||document,me=Ee&&Ee.defaultView||window;if(me.getSelection){var ge=me.getSelection(),ht=D.textContent.length,ct=Math.min(G.start,ht),rn=G.end===void 0?ct:Math.min(G.end,ht);!ge.extend&&ct>rn&&(T=rn,rn=ct,ct=T);var re=My(D,ct),ee=My(D,rn);if(re&&ee&&(ge.rangeCount!==1||ge.anchorNode!==re.node||ge.anchorOffset!==re.offset||ge.focusNode!==ee.node||ge.focusOffset!==ee.offset)){var ce=Ee.createRange();ce.setStart(re.node,re.offset),ge.removeAllRanges(),ct>rn?(ge.addRange(ce),ge.extend(ee.node,ee.offset)):(ce.setEnd(ee.node,ee.offset),ge.addRange(ce))}}}}for(Ee=[],ge=D;ge=ge.parentNode;)ge.nodeType===1&&Ee.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<Ee.length;D++){var Ne=Ee[D];Ne.element.scrollLeft=Ne.left,Ne.element.scrollTop=Ne.top}}ef=!!Dp,Pp=Dp=null}finally{Kt=g,Y.p=m,B.T=c}}r.current=i,ds=2}}function Xv(){if(ds===2){ds=0;var r=ri,i=cl,c=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||c){c=B.T,B.T=null;var m=Y.p;Y.p=2;var g=Kt;Kt|=4;try{Nv(r,i.alternate,i)}finally{Kt=g,Y.p=m,B.T=c}}ds=3}}function Gv(){if(ds===4||ds===3){ds=0,Yt();var r=ri,i=cl,c=ul,m=Lv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ds=5:(ds=0,cl=ri=null,Kv(r,r.pendingLanes));var g=r.pendingLanes;if(g===0&&(si=null),Yn(c),i=i.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(Ue,i,void 0,(i.current.flags&128)===128)}catch(G){}if(m!==null){i=B.T,g=Y.p,Y.p=2,B.T=null;try{for(var v=r.onRecoverableError,T=0;T<m.length;T++){var D=m[T];v(D.value,{componentStack:D.stack})}}finally{B.T=i,Y.p=g}}(ul&3)!==0&&Vd(),Yr(r),g=r.pendingLanes,(c&4194090)!==0&&(g&42)!==0?r===vp?Bc++:(Bc=0,vp=r):Bc=0,Fc(0)}}function Kv(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,bc(i)))}function Vd(r){return Wv(),Xv(),Gv(),Qv()}function Qv(){if(ds!==5)return!1;var r=ri,i=yp;yp=0;var c=Yn(ul),m=B.T,g=Y.p;try{Y.p=32>c?32:c,B.T=null,c=bp,bp=null;var v=ri,T=ul;if(ds=0,cl=ri=null,ul=0,(Kt&6)!==0)throw Error(s(331));var D=Kt;if(Kt|=4,Dv(v.current),Av(v,v.current,T,c),Kt=D,Fc(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(Ue,v)}catch(G){}return!0}finally{Y.p=g,B.T=m,Kv(r,i)}}function Zv(r,i,c){i=ar(c,i),i=Zm(r.stateNode,i,2),r=Xa(r,i,2),r!==null&&(jt(r,2),Yr(r))}function ln(r,i,c){if(r.tag===3)Zv(r,r,c);else for(;i!==null;){if(i.tag===3){Zv(i,r,c);break}else if(i.tag===1){var m=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(si===null||!si.has(m))){r=ar(c,r),c=nv(2),m=Xa(i,c,2),m!==null&&(sv(c,m,i,r),jt(m,2),Yr(m));break}}i=i.return}}function Sp(r,i,c){var m=r.pingCache;if(m===null){m=r.pingCache=new ek;var g=new Set;m.set(i,g)}else g=m.get(i),g===void 0&&(g=new Set,m.set(i,g));g.has(c)||(mp=!0,g.add(c),r=ak.bind(null,r,i,c),i.then(r,r))}function ak(r,i,c){var m=r.pingCache;m!==null&&m.delete(i),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,fn===r&&(Bt&c)===c&&(Cn===4||Cn===3&&(Bt&62914560)===Bt&&300>Ct()-xp?(Kt&2)===0&&dl(r,0):pp|=c,ll===Bt&&(ll=0)),Yr(r)}function Jv(r,i){i===0&&(i=Mt()),r=Wo(r,i),r!==null&&(jt(r,i),Yr(r))}function ik(r){var i=r.memoizedState,c=0;i!==null&&(c=i.retryLane),Jv(r,c)}function ok(r,i){var c=0;switch(r.tag){case 13:var m=r.stateNode,g=r.memoizedState;g!==null&&(c=g.retryLane);break;case 19:m=r.stateNode;break;case 22:m=r.stateNode._retryCache;break;default:throw Error(s(314))}m!==null&&m.delete(i),Jv(r,c)}function lk(r,i){return yt(r,i)}var $d=null,hl=null,Np=!1,qd=!1,Ep=!1,so=0;function Yr(r){r!==hl&&r.next===null&&(hl===null?$d=hl=r:hl=hl.next=r),qd=!0,Np||(Np=!0,uk())}function Fc(r,i){if(!Ep&&qd){Ep=!0;do for(var c=!1,m=$d;m!==null;){if(r!==0){var g=m.pendingLanes;if(g===0)var v=0;else{var T=m.suspendedLanes,D=m.pingedLanes;v=(1<<31-bt(42|r)+1)-1,v&=g&~(T&~D),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(c=!0,sw(m,v))}else v=Bt,v=ws(m,m===fn?v:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(v&3)===0||qn(m,v)||(c=!0,sw(m,v));m=m.next}while(c);Ep=!1}}function ck(){ew()}function ew(){qd=Np=!1;var r=0;so!==0&&(yk()&&(r=so),so=0);for(var i=Ct(),c=null,m=$d;m!==null;){var g=m.next,v=tw(m,i);v===0?(m.next=null,c===null?$d=g:c.next=g,g===null&&(hl=c)):(c=m,(r!==0||(v&3)!==0)&&(qd=!0)),m=g}Fc(r)}function tw(r,i){for(var c=r.suspendedLanes,m=r.pingedLanes,g=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var T=31-bt(v),D=1<<T,G=g[T];G===-1?((D&c)===0||(D&m)!==0)&&(g[T]=wr(D,i)):G<=i&&(r.expiredLanes|=D),v&=~D}if(i=fn,c=Bt,c=ws(r,r===i?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m=r.callbackNode,c===0||r===i&&(Qt===2||Qt===9)||r.cancelPendingCommit!==null)return m!==null&&m!==null&&De(m),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||qn(r,c)){if(i=c&-c,i===r.callbackPriority)return i;switch(m!==null&&De(m),Yn(c)){case 2:case 8:c=W;break;case 32:c=oe;break;case 268435456:c=Se;break;default:c=oe}return m=nw.bind(null,r),c=yt(c,m),r.callbackPriority=i,r.callbackNode=c,i}return m!==null&&m!==null&&De(m),r.callbackPriority=2,r.callbackNode=null,2}function nw(r,i){if(ds!==0&&ds!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if(Vd()&&r.callbackNode!==c)return null;var m=Bt;return m=ws(r,r===fn?m:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m===0?null:(Uv(r,m,i),tw(r,Ct()),r.callbackNode!=null&&r.callbackNode===c?nw.bind(null,r):null)}function sw(r,i){if(Vd())return null;Uv(r,i,!0)}function uk(){vk(function(){(Kt&6)!==0?yt(Xt,ck):ew()})}function Tp(){return so===0&&(so=nt()),so}function rw(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:zo(""+r)}function aw(r,i){var c=i.ownerDocument.createElement("input");return c.name=i.name,c.value=i.value,r.id&&c.setAttribute("form",r.id),i.parentNode.insertBefore(c,i),r=new FormData(r),c.parentNode.removeChild(c),r}function dk(r,i,c,m,g){if(i==="submit"&&c&&c.stateNode===g){var v=rw((g[Ae]||null).action),T=m.submitter;T&&(i=(i=T[Ae]||null)?rw(i.formAction):T.getAttribute("formAction"),i!==null&&(v=i,T=null));var D=new Fo("action","action",null,m,g);r.push({event:D,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(so!==0){var G=T?aw(g,T):new FormData(g);Wm(c,{pending:!0,data:G,method:g.method,action:v},null,G)}}else typeof v=="function"&&(D.preventDefault(),G=T?aw(g,T):new FormData(g),Wm(c,{pending:!0,data:G,method:g.method,action:v},v,G))},currentTarget:g}]})}}for(var kp=0;kp<fm.length;kp++){var Cp=fm[kp],fk=Cp.toLowerCase(),hk=Cp[0].toUpperCase()+Cp.slice(1);Sr(fk,"on"+hk)}Sr(Uy,"onAnimationEnd"),Sr(By,"onAnimationIteration"),Sr(Fy,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(OT,"onTransitionRun"),Sr(AT,"onTransitionStart"),Sr(RT,"onTransitionCancel"),Sr(Hy,"onTransitionEnd"),Nn("onMouseEnter",["mouseout","mouseover"]),Nn("onMouseLeave",["mouseout","mouseover"]),Nn("onPointerEnter",["pointerout","pointerover"]),Nn("onPointerLeave",["pointerout","pointerover"]),gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hc));function iw(r,i){i=(i&4)!==0;for(var c=0;c<r.length;c++){var m=r[c],g=m.event;m=m.listeners;e:{var v=void 0;if(i)for(var T=m.length-1;0<=T;T--){var D=m[T],G=D.instance,ue=D.currentTarget;if(D=D.listener,G!==v&&g.isPropagationStopped())break e;v=D,g.currentTarget=ue;try{v(g)}catch(je){Ad(je)}g.currentTarget=null,v=G}else for(T=0;T<m.length;T++){if(D=m[T],G=D.instance,ue=D.currentTarget,D=D.listener,G!==v&&g.isPropagationStopped())break e;v=D,g.currentTarget=ue;try{v(g)}catch(je){Ad(je)}g.currentTarget=null,v=G}}}}function Pt(r,i){var c=i[Ze];c===void 0&&(c=i[Ze]=new Set);var m=r+"__bubble";c.has(m)||(ow(i,r,2,!1),c.add(m))}function Op(r,i,c){var m=0;i&&(m|=4),ow(c,r,m,i)}var Yd="_reactListening"+Math.random().toString(36).slice(2);function Ap(r){if(!r[Yd]){r[Yd]=!0,gt.forEach(function(c){c!=="selectionchange"&&(mk.has(c)||Op(c,!1,r),Op(c,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Yd]||(i[Yd]=!0,Op("selectionchange",!1,i))}}function ow(r,i,c,m){switch(Aw(i)){case 2:var g=Hk;break;case 8:g=Vk;break;default:g=Yp}c=g.bind(null,i,c,r),g=void 0,!Uo||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),m?g!==void 0?r.addEventListener(i,c,{capture:!0,passive:g}):r.addEventListener(i,c,!0):g!==void 0?r.addEventListener(i,c,{passive:g}):r.addEventListener(i,c,!1)}function Rp(r,i,c,m,g){var v=m;if((i&1)===0&&(i&2)===0&&m!==null)e:for(;;){if(m===null)return;var T=m.tag;if(T===3||T===4){var D=m.stateNode.containerInfo;if(D===g)break;if(T===4)for(T=m.return;T!==null;){var G=T.tag;if((G===3||G===4)&&T.stateNode.containerInfo===g)return;T=T.return}for(;D!==null;){if(T=wt(D),T===null)return;if(G=T.tag,G===5||G===6||G===26||G===27){m=v=T;continue e}D=D.parentNode}}m=m.return}cc(function(){var ue=v,je=Ui(c),Ee=[];e:{var me=Vy.get(r);if(me!==void 0){var ge=Fo,ht=r;switch(r){case"keypress":if(Va(c)===0)break e;case"keydown":case"keyup":ge=Fr;break;case"focusin":ht="focus",ge=rt;break;case"focusout":ht="blur",ge=rt;break;case"beforeblur":case"afterblur":ge=rt;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=ne;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=fe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=id;break;case Uy:case By:case Fy:ge=qe;break;case Hy:ge=hT;break;case"scroll":case"scrollend":ge=Tn;break;case"wheel":ge=pT;break;case"copy":case"cut":case"paste":ge=tn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=Ho;break;case"toggle":case"beforetoggle":ge=xT}var ct=(i&4)!==0,rn=!ct&&(r==="scroll"||r==="scrollend"),re=ct?me!==null?me+"Capture":null:me;ct=[];for(var ee=ue,ce;ee!==null;){var Ne=ee;if(ce=Ne.stateNode,Ne=Ne.tag,Ne!==5&&Ne!==26&&Ne!==27||ce===null||re===null||(Ne=Ha(ee,re),Ne!=null&&ct.push(Vc(ee,Ne,ce))),rn)break;ee=ee.return}0<ct.length&&(me=new ge(me,ht,null,c,je),Ee.push({event:me,listeners:ct}))}}if((i&7)===0){e:{if(me=r==="mouseover"||r==="pointerover",ge=r==="mouseout"||r==="pointerout",me&&c!==oc&&(ht=c.relatedTarget||c.fromElement)&&(wt(ht)||ht[Ye]))break e;if((ge||me)&&(me=je.window===je?je:(me=je.ownerDocument)?me.defaultView||me.parentWindow:window,ge?(ht=c.relatedTarget||c.toElement,ge=ue,ht=ht?wt(ht):null,ht!==null&&(rn=o(ht),ct=ht.tag,ht!==rn||ct!==5&&ct!==27&&ct!==6)&&(ht=null)):(ge=null,ht=ue),ge!==ht)){if(ct=ne,Ne="onMouseLeave",re="onMouseEnter",ee="mouse",(r==="pointerout"||r==="pointerover")&&(ct=Ho,Ne="onPointerLeave",re="onPointerEnter",ee="pointer"),rn=ge==null?me:Sn(ge),ce=ht==null?me:Sn(ht),me=new ct(Ne,ee+"leave",ge,c,je),me.target=rn,me.relatedTarget=ce,Ne=null,wt(je)===ue&&(ct=new ct(re,ee+"enter",ht,c,je),ct.target=ce,ct.relatedTarget=rn,Ne=ct),rn=Ne,ge&&ht)t:{for(ct=ge,re=ht,ee=0,ce=ct;ce;ce=ml(ce))ee++;for(ce=0,Ne=re;Ne;Ne=ml(Ne))ce++;for(;0<ee-ce;)ct=ml(ct),ee--;for(;0<ce-ee;)re=ml(re),ce--;for(;ee--;){if(ct===re||re!==null&&ct===re.alternate)break t;ct=ml(ct),re=ml(re)}ct=null}else ct=null;ge!==null&&lw(Ee,me,ge,ct,!1),ht!==null&&rn!==null&&lw(Ee,rn,ht,ct,!0)}}e:{if(me=ue?Sn(ue):window,ge=me.nodeName&&me.nodeName.toLowerCase(),ge==="select"||ge==="input"&&me.type==="file")var We=Ty;else if(Ny(me))if(ky)We=TT;else{We=NT;var Rt=ST}else ge=me.nodeName,!ge||ge.toLowerCase()!=="input"||me.type!=="checkbox"&&me.type!=="radio"?ue&&zi(ue.elementType)&&(We=Ty):We=ET;if(We&&(We=We(r,ue))){Ey(Ee,We,c,je);break e}Rt&&Rt(r,me,ue),r==="focusout"&&ue&&me.type==="number"&&ue.memoizedProps.value!=null&&rc(me,"number",me.value)}switch(Rt=ue?Sn(ue):window,r){case"focusin":(Ny(Rt)||Rt.contentEditable==="true")&&(qo=Rt,cm=ue,mc=null);break;case"focusout":mc=cm=qo=null;break;case"mousedown":um=!0;break;case"contextmenu":case"mouseup":case"dragend":um=!1,Ly(Ee,c,je);break;case"selectionchange":if(CT)break;case"keydown":case"keyup":Ly(Ee,c,je)}var st;if(am)e:{switch(r){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else $o?jy(r,c)&&(ft="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(ft="onCompositionStart");ft&&(vy&&c.locale!=="ko"&&($o||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&$o&&(st=Hi()):(Vs=je,Rs="value"in Vs?Vs.value:Vs.textContent,$o=!0)),Rt=Id(ue,ft),0<Rt.length&&(ft=new it(ft,r,null,c,je),Ee.push({event:ft,listeners:Rt}),st?ft.data=st:(st=Sy(c),st!==null&&(ft.data=st)))),(st=bT?vT(r,c):wT(r,c))&&(ft=Id(ue,"onBeforeInput"),0<ft.length&&(Rt=new it("onBeforeInput","beforeinput",null,c,je),Ee.push({event:Rt,listeners:ft}),Rt.data=st)),dk(Ee,r,ue,c,je)}iw(Ee,i)})}function Vc(r,i,c){return{instance:r,listener:i,currentTarget:c}}function Id(r,i){for(var c=i+"Capture",m=[];r!==null;){var g=r,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=Ha(r,c),g!=null&&m.unshift(Vc(r,g,v)),g=Ha(r,i),g!=null&&m.push(Vc(r,g,v))),r.tag===3)return m;r=r.return}return[]}function ml(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function lw(r,i,c,m,g){for(var v=i._reactName,T=[];c!==null&&c!==m;){var D=c,G=D.alternate,ue=D.stateNode;if(D=D.tag,G!==null&&G===m)break;D!==5&&D!==26&&D!==27||ue===null||(G=ue,g?(ue=Ha(c,v),ue!=null&&T.unshift(Vc(c,ue,G))):g||(ue=Ha(c,v),ue!=null&&T.push(Vc(c,ue,G)))),c=c.return}T.length!==0&&r.push({event:i,listeners:T})}var pk=/\r\n?/g,gk=/\u0000|\uFFFD/g;function cw(r){return(typeof r=="string"?r:""+r).replace(pk,`
`).replace(gk,"")}function uw(r,i){return i=cw(i),cw(r)===i}function Wd(){}function sn(r,i,c,m,g,v){switch(c){case"children":typeof m=="string"?i==="body"||i==="textarea"&&m===""||Ba(r,m):(typeof m=="number"||typeof m=="bigint")&&i!=="body"&&Ba(r,""+m);break;case"className":sr(r,"class",m);break;case"tabIndex":sr(r,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":sr(r,c,m);break;case"style":ic(r,m,v);break;case"data":if(i!=="object"){sr(r,"data",m);break}case"src":case"href":if(m===""&&(i!=="a"||c!=="href")){r.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(c);break}m=zo(""+m),r.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(c==="formAction"?(i!=="input"&&sn(r,i,"name",g.name,g,null),sn(r,i,"formEncType",g.formEncType,g,null),sn(r,i,"formMethod",g.formMethod,g,null),sn(r,i,"formTarget",g.formTarget,g,null)):(sn(r,i,"encType",g.encType,g,null),sn(r,i,"method",g.method,g,null),sn(r,i,"target",g.target,g,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(c);break}m=zo(""+m),r.setAttribute(c,m);break;case"onClick":m!=null&&(r.onclick=Wd);break;case"onScroll":m!=null&&Pt("scroll",r);break;case"onScrollEnd":m!=null&&Pt("scrollend",r);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(s(61));if(c=m.__html,c!=null){if(g.children!=null)throw Error(s(60));r.innerHTML=c}}break;case"multiple":r.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":r.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){r.removeAttribute("xlink:href");break}c=zo(""+m),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(c,""+m):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":m===!0?r.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(c,m):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?r.setAttribute(c,m):r.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?r.removeAttribute(c):r.setAttribute(c,m);break;case"popover":Pt("beforetoggle",r),Pt("toggle",r),ms(r,"popover",m);break;case"xlinkActuate":Tt(r,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Tt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Tt(r,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Tt(r,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Tt(r,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Tt(r,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Tt(r,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Tt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Tt(r,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":ms(r,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Lo.get(c)||c,ms(r,c,m))}}function Mp(r,i,c,m,g,v){switch(c){case"style":ic(r,m,v);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(s(61));if(c=m.__html,c!=null){if(g.children!=null)throw Error(s(60));r.innerHTML=c}}break;case"children":typeof m=="string"?Ba(r,m):(typeof m=="number"||typeof m=="bigint")&&Ba(r,""+m);break;case"onScroll":m!=null&&Pt("scroll",r);break;case"onScrollEnd":m!=null&&Pt("scrollend",r);break;case"onClick":m!=null&&(r.onclick=Wd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ft.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),i=c.slice(2,g?c.length-7:void 0),v=r[Ae]||null,v=v!=null?v[c]:null,typeof v=="function"&&r.removeEventListener(i,v,g),typeof m=="function")){typeof v!="function"&&v!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(i,m,g);break e}c in r?r[c]=m:m===!0?r.setAttribute(c,""):ms(r,c,m)}}}function fs(r,i,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",r),Pt("load",r);var m=!1,g=!1,v;for(v in c)if(c.hasOwnProperty(v)){var T=c[v];if(T!=null)switch(v){case"src":m=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:sn(r,i,v,T,c,null)}}g&&sn(r,i,"srcSet",c.srcSet,c,null),m&&sn(r,i,"src",c.src,c,null);return;case"input":Pt("invalid",r);var D=v=T=g=null,G=null,ue=null;for(m in c)if(c.hasOwnProperty(m)){var je=c[m];if(je!=null)switch(m){case"name":g=je;break;case"type":T=je;break;case"checked":G=je;break;case"defaultChecked":ue=je;break;case"value":v=je;break;case"defaultValue":D=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(s(137,i));break;default:sn(r,i,m,je,c,null)}}nd(r,v,D,G,ue,T,g,!1),Di(r);return;case"select":Pt("invalid",r),m=T=v=null;for(g in c)if(c.hasOwnProperty(g)&&(D=c[g],D!=null))switch(g){case"value":v=D;break;case"defaultValue":T=D;break;case"multiple":m=D;default:sn(r,i,g,D,c,null)}i=v,c=T,r.multiple=!!m,i!=null?ca(r,!!m,i,!1):c!=null&&ca(r,!!m,c,!0);return;case"textarea":Pt("invalid",r),v=g=m=null;for(T in c)if(c.hasOwnProperty(T)&&(D=c[T],D!=null))switch(T){case"value":m=D;break;case"defaultValue":g=D;break;case"children":v=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(91));break;default:sn(r,i,T,D,c,null)}ac(r,m,g,v),Di(r);return;case"option":for(G in c)if(c.hasOwnProperty(G)&&(m=c[G],m!=null))switch(G){case"selected":r.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:sn(r,i,G,m,c,null)}return;case"dialog":Pt("beforetoggle",r),Pt("toggle",r),Pt("cancel",r),Pt("close",r);break;case"iframe":case"object":Pt("load",r);break;case"video":case"audio":for(m=0;m<Hc.length;m++)Pt(Hc[m],r);break;case"image":Pt("error",r),Pt("load",r);break;case"details":Pt("toggle",r);break;case"embed":case"source":case"link":Pt("error",r),Pt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in c)if(c.hasOwnProperty(ue)&&(m=c[ue],m!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:sn(r,i,ue,m,c,null)}return;default:if(zi(i)){for(je in c)c.hasOwnProperty(je)&&(m=c[je],m!==void 0&&Mp(r,i,je,m,c,void 0));return}}for(D in c)c.hasOwnProperty(D)&&(m=c[D],m!=null&&sn(r,i,D,m,c,null))}function xk(r,i,c,m){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,T=null,D=null,G=null,ue=null,je=null;for(ge in c){var Ee=c[ge];if(c.hasOwnProperty(ge)&&Ee!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":G=Ee;default:m.hasOwnProperty(ge)||sn(r,i,ge,null,m,Ee)}}for(var me in m){var ge=m[me];if(Ee=c[me],m.hasOwnProperty(me)&&(ge!=null||Ee!=null))switch(me){case"type":v=ge;break;case"name":g=ge;break;case"checked":ue=ge;break;case"defaultChecked":je=ge;break;case"value":T=ge;break;case"defaultValue":D=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(s(137,i));break;default:ge!==Ee&&sn(r,i,me,ge,m,Ee)}}sc(r,T,D,G,ue,je,v,g);return;case"select":ge=T=D=me=null;for(v in c)if(G=c[v],c.hasOwnProperty(v)&&G!=null)switch(v){case"value":break;case"multiple":ge=G;default:m.hasOwnProperty(v)||sn(r,i,v,null,m,G)}for(g in m)if(v=m[g],G=c[g],m.hasOwnProperty(g)&&(v!=null||G!=null))switch(g){case"value":me=v;break;case"defaultValue":D=v;break;case"multiple":T=v;default:v!==G&&sn(r,i,g,v,m,G)}i=D,c=T,m=ge,me!=null?ca(r,!!c,me,!1):!!m!=!!c&&(i!=null?ca(r,!!c,i,!0):ca(r,!!c,c?[]:"",!1));return;case"textarea":ge=me=null;for(D in c)if(g=c[D],c.hasOwnProperty(D)&&g!=null&&!m.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:sn(r,i,D,null,m,g)}for(T in m)if(g=m[T],v=c[T],m.hasOwnProperty(T)&&(g!=null||v!=null))switch(T){case"value":me=g;break;case"defaultValue":ge=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==v&&sn(r,i,T,g,m,v)}Li(r,me,ge);return;case"option":for(var ht in c)if(me=c[ht],c.hasOwnProperty(ht)&&me!=null&&!m.hasOwnProperty(ht))switch(ht){case"selected":r.selected=!1;break;default:sn(r,i,ht,null,m,me)}for(G in m)if(me=m[G],ge=c[G],m.hasOwnProperty(G)&&me!==ge&&(me!=null||ge!=null))switch(G){case"selected":r.selected=me&&typeof me!="function"&&typeof me!="symbol";break;default:sn(r,i,G,me,m,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in c)me=c[ct],c.hasOwnProperty(ct)&&me!=null&&!m.hasOwnProperty(ct)&&sn(r,i,ct,null,m,me);for(ue in m)if(me=m[ue],ge=c[ue],m.hasOwnProperty(ue)&&me!==ge&&(me!=null||ge!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(s(137,i));break;default:sn(r,i,ue,me,m,ge)}return;default:if(zi(i)){for(var rn in c)me=c[rn],c.hasOwnProperty(rn)&&me!==void 0&&!m.hasOwnProperty(rn)&&Mp(r,i,rn,void 0,m,me);for(je in m)me=m[je],ge=c[je],!m.hasOwnProperty(je)||me===ge||me===void 0&&ge===void 0||Mp(r,i,je,me,m,ge);return}}for(var re in c)me=c[re],c.hasOwnProperty(re)&&me!=null&&!m.hasOwnProperty(re)&&sn(r,i,re,null,m,me);for(Ee in m)me=m[Ee],ge=c[Ee],!m.hasOwnProperty(Ee)||me===ge||me==null&&ge==null||sn(r,i,Ee,me,m,ge)}var Dp=null,Pp=null;function Xd(r){return r.nodeType===9?r:r.ownerDocument}function dw(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fw(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Lp(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var zp=null;function yk(){var r=window.event;return r&&r.type==="popstate"?r===zp?!1:(zp=r,!0):(zp=null,!1)}var hw=typeof setTimeout=="function"?setTimeout:void 0,bk=typeof clearTimeout=="function"?clearTimeout:void 0,mw=typeof Promise=="function"?Promise:void 0,vk=typeof queueMicrotask=="function"?queueMicrotask:typeof mw!="undefined"?function(r){return mw.resolve(null).then(r).catch(wk)}:hw;function wk(r){setTimeout(function(){throw r})}function ii(r){return r==="head"}function pw(r,i){var c=i,m=0,g=0;do{var v=c.nextSibling;if(r.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"){if(0<m&&8>m){c=m;var T=r.ownerDocument;if(c&1&&$c(T.documentElement),c&2&&$c(T.body),c&4)for(c=T.head,$c(c),T=c.firstChild;T;){var D=T.nextSibling,G=T.nodeName;T[Je]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&T.rel.toLowerCase()==="stylesheet"||c.removeChild(T),T=D}}if(g===0){r.removeChild(v),Qc(i);return}g--}else c==="$"||c==="$?"||c==="$!"?g++:m=c.charCodeAt(0)-48;else m=0;c=v}while(c);Qc(i)}function Up(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var c=i;switch(i=i.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Up(c),pt(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function _k(r,i,c,m){for(;r.nodeType===1;){var g=c;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!m&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(m){if(!r[Je])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==g.rel||r.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||r.getAttribute("title")!==(g.title==null?null:g.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(g.src==null?null:g.src)||r.getAttribute("type")!==(g.type==null?null:g.type)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=Er(r.nextSibling),r===null)break}return null}function jk(r,i,c){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=Er(r.nextSibling),r===null))return null;return r}function Bp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function Sk(r,i){var c=r.ownerDocument;if(r.data!=="$?"||c.readyState==="complete")i();else{var m=function(){i(),c.removeEventListener("DOMContentLoaded",m)};c.addEventListener("DOMContentLoaded",m),r._reactRetry=m}}function Er(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var Fp=null;function gw(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return r;i--}else c==="/$"&&i++}r=r.previousSibling}return null}function xw(r,i,c){switch(i=Xd(c),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function $c(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);pt(r)}var dr=new Map,yw=new Set;function Gd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Sa=Y.d;Y.d={f:Nk,r:Ek,D:Tk,C:kk,L:Ck,m:Ok,X:Rk,S:Ak,M:Mk};function Nk(){var r=Sa.f(),i=Fd();return r||i}function Ek(r){var i=on(r);i!==null&&i.tag===5&&i.type==="form"?Ub(i):Sa.r(r)}var pl=typeof document=="undefined"?null:document;function bw(r,i,c){var m=pl;if(m&&typeof i=="string"&&i){var g=Os(i);g='link[rel="'+r+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),yw.has(g)||(yw.add(g),r={rel:r,crossOrigin:c,href:i},m.querySelector(g)===null&&(i=m.createElement("link"),fs(i,"link",r),et(i),m.head.appendChild(i)))}}function Tk(r){Sa.D(r),bw("dns-prefetch",r,null)}function kk(r,i){Sa.C(r,i),bw("preconnect",r,i)}function Ck(r,i,c){Sa.L(r,i,c);var m=pl;if(m&&r&&i){var g='link[rel="preload"][as="'+Os(i)+'"]';i==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+Os(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+Os(c.imageSizes)+'"]')):g+='[href="'+Os(r)+'"]';var v=g;switch(i){case"style":v=gl(r);break;case"script":v=xl(r)}dr.has(v)||(r=p({rel:"preload",href:i==="image"&&c&&c.imageSrcSet?void 0:r,as:i},c),dr.set(v,r),m.querySelector(g)!==null||i==="style"&&m.querySelector(qc(v))||i==="script"&&m.querySelector(Yc(v))||(i=m.createElement("link"),fs(i,"link",r),et(i),m.head.appendChild(i)))}}function Ok(r,i){Sa.m(r,i);var c=pl;if(c&&r){var m=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+Os(m)+'"][href="'+Os(r)+'"]',v=g;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=xl(r)}if(!dr.has(v)&&(r=p({rel:"modulepreload",href:r},i),dr.set(v,r),c.querySelector(g)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Yc(v)))return}m=c.createElement("link"),fs(m,"link",r),et(m),c.head.appendChild(m)}}}function Ak(r,i,c){Sa.S(r,i,c);var m=pl;if(m&&r){var g=en(m).hoistableStyles,v=gl(r);i=i||"default";var T=g.get(v);if(!T){var D={loading:0,preload:null};if(T=m.querySelector(qc(v)))D.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":i},c),(c=dr.get(v))&&Hp(r,c);var G=T=m.createElement("link");et(G),fs(G,"link",r),G._p=new Promise(function(ue,je){G.onload=ue,G.onerror=je}),G.addEventListener("load",function(){D.loading|=1}),G.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Kd(T,i,m)}T={type:"stylesheet",instance:T,count:1,state:D},g.set(v,T)}}}function Rk(r,i){Sa.X(r,i);var c=pl;if(c&&r){var m=en(c).hoistableScripts,g=xl(r),v=m.get(g);v||(v=c.querySelector(Yc(g)),v||(r=p({src:r,async:!0},i),(i=dr.get(g))&&Vp(r,i),v=c.createElement("script"),et(v),fs(v,"link",r),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},m.set(g,v))}}function Mk(r,i){Sa.M(r,i);var c=pl;if(c&&r){var m=en(c).hoistableScripts,g=xl(r),v=m.get(g);v||(v=c.querySelector(Yc(g)),v||(r=p({src:r,async:!0,type:"module"},i),(i=dr.get(g))&&Vp(r,i),v=c.createElement("script"),et(v),fs(v,"link",r),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},m.set(g,v))}}function vw(r,i,c,m){var g=(g=be.current)?Gd(g):null;if(!g)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(i=gl(c.href),c=en(g).hoistableStyles,m=c.get(i),m||(m={type:"style",instance:null,count:0,state:null},c.set(i,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=gl(c.href);var v=en(g).hoistableStyles,T=v.get(r);if(T||(g=g.ownerDocument||g,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,T),(v=g.querySelector(qc(r)))&&!v._p&&(T.instance=v,T.state.loading=5),dr.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},dr.set(r,c),v||Dk(g,r,c,T.state))),i&&m===null)throw Error(s(528,""));return T}if(i&&m!==null)throw Error(s(529,""));return null;case"script":return i=c.async,c=c.src,typeof c=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=xl(c),c=en(g).hoistableScripts,m=c.get(i),m||(m={type:"script",instance:null,count:0,state:null},c.set(i,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function gl(r){return'href="'+Os(r)+'"'}function qc(r){return'link[rel="stylesheet"]['+r+"]"}function ww(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function Dk(r,i,c,m){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?m.loading=1:(i=r.createElement("link"),m.preload=i,i.addEventListener("load",function(){return m.loading|=1}),i.addEventListener("error",function(){return m.loading|=2}),fs(i,"link",c),et(i),r.head.appendChild(i))}function xl(r){return'[src="'+Os(r)+'"]'}function Yc(r){return"script[async]"+r}function _w(r,i,c){if(i.count++,i.instance===null)switch(i.type){case"style":var m=r.querySelector('style[data-href~="'+Os(c.href)+'"]');if(m)return i.instance=m,et(m),m;var g=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(r.ownerDocument||r).createElement("style"),et(m),fs(m,"style",g),Kd(m,c.precedence,r),i.instance=m;case"stylesheet":g=gl(c.href);var v=r.querySelector(qc(g));if(v)return i.state.loading|=4,i.instance=v,et(v),v;m=ww(c),(g=dr.get(g))&&Hp(m,g),v=(r.ownerDocument||r).createElement("link"),et(v);var T=v;return T._p=new Promise(function(D,G){T.onload=D,T.onerror=G}),fs(v,"link",m),i.state.loading|=4,Kd(v,c.precedence,r),i.instance=v;case"script":return v=xl(c.src),(g=r.querySelector(Yc(v)))?(i.instance=g,et(g),g):(m=c,(g=dr.get(v))&&(m=p({},c),Vp(m,g)),r=r.ownerDocument||r,g=r.createElement("script"),et(g),fs(g,"link",m),r.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(m=i.instance,i.state.loading|=4,Kd(m,c.precedence,r));return i.instance}function Kd(r,i,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=m.length?m[m.length-1]:null,v=g,T=0;T<m.length;T++){var D=m[T];if(D.dataset.precedence===i)v=D;else if(v!==g)break}v?v.parentNode.insertBefore(r,v.nextSibling):(i=c.nodeType===9?c.head:c,i.insertBefore(r,i.firstChild))}function Hp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Vp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var Qd=null;function jw(r,i,c){if(Qd===null){var m=new Map,g=Qd=new Map;g.set(c,m)}else g=Qd,m=g.get(c),m||(m=new Map,g.set(c,m));if(m.has(r))return m;for(m.set(r,null),c=c.getElementsByTagName(r),g=0;g<c.length;g++){var v=c[g];if(!(v[Je]||v[we]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var T=v.getAttribute(i)||"";T=r+T;var D=m.get(T);D?D.push(v):m.set(T,[v])}}return m}function Sw(r,i,c){r=r.ownerDocument||r,r.head.insertBefore(c,i==="title"?r.querySelector("head > title"):null)}function Pk(r,i,c){if(c===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Nw(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Ic=null;function Lk(){}function zk(r,i,c){if(Ic===null)throw Error(s(475));var m=Ic;if(i.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var g=gl(c.href),v=r.querySelector(qc(g));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(m.count++,m=Zd.bind(m),r.then(m,m)),i.state.loading|=4,i.instance=v,et(v);return}v=r.ownerDocument||r,c=ww(c),(g=dr.get(g))&&Hp(c,g),v=v.createElement("link"),et(v);var T=v;T._p=new Promise(function(D,G){T.onload=D,T.onerror=G}),fs(v,"link",c),i.instance=v}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(m.count++,i=Zd.bind(m),r.addEventListener("load",i),r.addEventListener("error",i))}}function Uk(){if(Ic===null)throw Error(s(475));var r=Ic;return r.stylesheets&&r.count===0&&$p(r,r.stylesheets),0<r.count?function(i){var c=setTimeout(function(){if(r.stylesheets&&$p(r,r.stylesheets),r.unsuspend){var m=r.unsuspend;r.unsuspend=null,m()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(c)}}:null}function Zd(){if(this.count--,this.count===0){if(this.stylesheets)$p(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Jd=null;function $p(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Jd=new Map,i.forEach(Bk,r),Jd=null,Zd.call(r))}function Bk(r,i){if(!(i.state.loading&4)){var c=Jd.get(r);if(c)var m=c.get(null);else{c=new Map,Jd.set(r,c);for(var g=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var T=g[v];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(c.set(T.dataset.precedence,T),m=T)}m&&c.set(null,m)}g=i.instance,T=g.getAttribute("data-precedence"),v=c.get(T)||m,v===m&&c.set(null,g),c.set(T,g),this.count++,m=Zd.bind(this),g.addEventListener("load",m),g.addEventListener("error",m),v?v.parentNode.insertBefore(g,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(g,r.firstChild)),i.state.loading|=4}}var Wc={$$typeof:C,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function Fk(r,i,c,m,g,v,T,D){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.hiddenUpdates=zt(null),this.identifierPrefix=m,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Ew(r,i,c,m,g,v,T,D,G,ue,je,Ee){return r=new Fk(r,i,c,T,D,G,ue,Ee),i=1,v===!0&&(i|=24),v=qs(3,null,null,i),r.current=v,v.stateNode=r,i=Sm(),i.refCount++,r.pooledCache=i,i.refCount++,v.memoizedState={element:m,isDehydrated:c,cache:i},km(v),r}function Tw(r){return r?(r=Xo,r):Xo}function kw(r,i,c,m,g,v){g=Tw(g),m.context===null?m.context=g:m.pendingContext=g,m=Wa(i),m.payload={element:c},v=v===void 0?null:v,v!==null&&(m.callback=v),c=Xa(r,m,i),c!==null&&(Gs(c,r,i),jc(c,r,i))}function Cw(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<i?c:i}}function qp(r,i){Cw(r,i),(r=r.alternate)&&Cw(r,i)}function Ow(r){if(r.tag===13){var i=Wo(r,67108864);i!==null&&Gs(i,r,67108864),qp(r,67108864)}}var ef=!0;function Hk(r,i,c,m){var g=B.T;B.T=null;var v=Y.p;try{Y.p=2,Yp(r,i,c,m)}finally{Y.p=v,B.T=g}}function Vk(r,i,c,m){var g=B.T;B.T=null;var v=Y.p;try{Y.p=8,Yp(r,i,c,m)}finally{Y.p=v,B.T=g}}function Yp(r,i,c,m){if(ef){var g=Ip(m);if(g===null)Rp(r,i,m,tf,c),Rw(r,m);else if(qk(g,r,i,c,m))m.stopPropagation();else if(Rw(r,m),i&4&&-1<$k.indexOf(r)){for(;g!==null;){var v=on(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var T=ls(v.pendingLanes);if(T!==0){var D=v;for(D.pendingLanes|=2,D.entangledLanes|=2;T;){var G=1<<31-bt(T);D.entanglements[1]|=G,T&=~G}Yr(v),(Kt&6)===0&&(Ud=Ct()+500,Fc(0))}}break;case 13:D=Wo(v,2),D!==null&&Gs(D,v,2),Fd(),qp(v,2)}if(v=Ip(m),v===null&&Rp(r,i,m,tf,c),v===g)break;g=v}g!==null&&m.stopPropagation()}else Rp(r,i,m,null,c)}}function Ip(r){return r=Ui(r),Wp(r)}var tf=null;function Wp(r){if(tf=null,r=wt(r),r!==null){var i=o(r);if(i===null)r=null;else{var c=i.tag;if(c===13){if(r=l(i),r!==null)return r;r=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return tf=r,null}function Aw(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(It()){case Xt:return 2;case W:return 8;case oe:case q:return 32;case Se:return 268435456;default:return 32}default:return 32}}var Xp=!1,oi=null,li=null,ci=null,Xc=new Map,Gc=new Map,ui=[],$k="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rw(r,i){switch(r){case"focusin":case"focusout":oi=null;break;case"dragenter":case"dragleave":li=null;break;case"mouseover":case"mouseout":ci=null;break;case"pointerover":case"pointerout":Xc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gc.delete(i.pointerId)}}function Kc(r,i,c,m,g,v){return r===null||r.nativeEvent!==v?(r={blockedOn:i,domEventName:c,eventSystemFlags:m,nativeEvent:v,targetContainers:[g]},i!==null&&(i=on(i),i!==null&&Ow(i)),r):(r.eventSystemFlags|=m,i=r.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),r)}function qk(r,i,c,m,g){switch(i){case"focusin":return oi=Kc(oi,r,i,c,m,g),!0;case"dragenter":return li=Kc(li,r,i,c,m,g),!0;case"mouseover":return ci=Kc(ci,r,i,c,m,g),!0;case"pointerover":var v=g.pointerId;return Xc.set(v,Kc(Xc.get(v)||null,r,i,c,m,g)),!0;case"gotpointercapture":return v=g.pointerId,Gc.set(v,Kc(Gc.get(v)||null,r,i,c,m,g)),!0}return!1}function Mw(r){var i=wt(r.target);if(i!==null){var c=o(i);if(c!==null){if(i=c.tag,i===13){if(i=l(c),i!==null){r.blockedOn=i,se(r.priority,function(){if(c.tag===13){var m=Xs();m=ns(m);var g=Wo(c,m);g!==null&&Gs(g,c,m),qp(c,m)}});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function nf(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var c=Ip(r.nativeEvent);if(c===null){c=r.nativeEvent;var m=new c.constructor(c.type,c);oc=m,c.target.dispatchEvent(m),oc=null}else return i=on(c),i!==null&&Ow(i),r.blockedOn=c,!1;i.shift()}return!0}function Dw(r,i,c){nf(r)&&c.delete(i)}function Yk(){Xp=!1,oi!==null&&nf(oi)&&(oi=null),li!==null&&nf(li)&&(li=null),ci!==null&&nf(ci)&&(ci=null),Xc.forEach(Dw),Gc.forEach(Dw)}function sf(r,i){r.blockedOn===i&&(r.blockedOn=null,Xp||(Xp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Yk)))}var rf=null;function Pw(r){rf!==r&&(rf=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){rf===r&&(rf=null);for(var i=0;i<r.length;i+=3){var c=r[i],m=r[i+1],g=r[i+2];if(typeof m!="function"){if(Wp(m||c)===null)continue;break}var v=on(c);v!==null&&(r.splice(i,3),i-=3,Wm(v,{pending:!0,data:g,method:c.method,action:m},m,g))}}))}function Qc(r){function i(G){return sf(G,r)}oi!==null&&sf(oi,r),li!==null&&sf(li,r),ci!==null&&sf(ci,r),Xc.forEach(i),Gc.forEach(i);for(var c=0;c<ui.length;c++){var m=ui[c];m.blockedOn===r&&(m.blockedOn=null)}for(;0<ui.length&&(c=ui[0],c.blockedOn===null);)Mw(c),c.blockedOn===null&&ui.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var g=c[m],v=c[m+1],T=g[Ae]||null;if(typeof v=="function")T||Pw(c);else if(T){var D=null;if(v&&v.hasAttribute("formAction")){if(g=v,T=v[Ae]||null)D=T.formAction;else if(Wp(g)!==null)continue}else D=T.action;typeof D=="function"?c[m+1]=D:(c.splice(m,3),m-=3),Pw(c)}}}function Gp(r){this._internalRoot=r}af.prototype.render=Gp.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var c=i.current,m=Xs();kw(c,m,r,i,null,null)},af.prototype.unmount=Gp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;kw(r.current,2,null,r,null,null),Fd(),i[Ye]=null}};function af(r){this._internalRoot=r}af.prototype.unstable_scheduleHydration=function(r){if(r){var i=K();r={blockedOn:null,target:r,priority:i};for(var c=0;c<ui.length&&i!==0&&i<ui[c].priority;c++);ui.splice(c,0,r),c===0&&Mw(r)}};var Lw=t.version;if(Lw!=="19.1.1")throw Error(s(527,Lw,"19.1.1"));Y.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=f(i),r=r!==null?h(r):null,r=r===null?null:r.stateNode,r};var Ik={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var of=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!of.isDisabled&&of.supportsFiber)try{Ue=of.inject(Ik),$e=of}catch(r){}}return Jc.createRoot=function(r,i){if(!a(r))throw Error(s(299));var c=!1,m="",g=Zb,v=Jb,T=ev,D=null;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(m=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(D=i.unstable_transitionCallbacks)),i=Ew(r,1,!1,null,null,c,m,g,v,T,D,null),r[Ye]=i.current,Ap(r),new Gp(i)},Jc.hydrateRoot=function(r,i,c){if(!a(r))throw Error(s(299));var m=!1,g="",v=Zb,T=Jb,D=ev,G=null,ue=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(T=c.onCaughtError),c.onRecoverableError!==void 0&&(D=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(G=c.unstable_transitionCallbacks),c.formState!==void 0&&(ue=c.formState)),i=Ew(r,1,!0,i,c!=null?c:null,m,g,v,T,D,G,ue),i.context=Tw(null),c=i.current,m=Xs(),m=ns(m),g=Wa(m),g.callback=null,Xa(c,g,m),c=m,i.current.lanes=c,jt(i,c),Yr(i),r[Ye]=i.current,Ap(r),new af(i)},Jc.version="19.1.1",Jc}var Gw;function oC(){if(Gw)return tg.exports;Gw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),tg.exports=iC(),tg.exports}var lC=oC();const cC=W0(lC);var uC=Object.defineProperty,dC=(e,t,n)=>t in e?uC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ao=(e,t,n)=>dC(e,typeof t!="symbol"?t+"":t,n),fC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bl={},eu={},Tr={},Kw;function rS(){if(Kw)return Tr;Kw=1;var e=Tr&&Tr.__assign||function(){return e=Object.assign||function(a){for(var o,l=1,d=arguments.length;l<d;l++){o=arguments[l];for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(a[f]=o[f])}return a},e.apply(this,arguments)},t=Tr&&Tr.__awaiter||function(a,o,l,d){function f(h){return h instanceof l?h:new l(function(p){p(h)})}return new(l||(l=Promise))(function(h,p){function x(w){try{b(d.next(w))}catch(_){p(_)}}function y(w){try{b(d.throw(w))}catch(_){p(_)}}function b(w){w.done?h(w.value):f(w.value).then(x,y)}b((d=d.apply(a,o||[])).next())})},n=Tr&&Tr.__generator||function(a,o){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},d,f,h,p;return p={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function x(b){return function(w){return y([b,w])}}function y(b){if(d)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(l=0)),l;)try{if(d=1,f&&(h=b[0]&2?f.return:b[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,b[1])).done)return h;switch(f=0,h&&(b=[b[0]&2,h.value]),b[0]){case 0:case 1:h=b;break;case 4:return l.label++,{value:b[1],done:!1};case 5:l.label++,f=b[1],b=[0];continue;case 7:b=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(b[0]===6||b[0]===2)){l=0;continue}if(b[0]===3&&(!h||b[1]>h[0]&&b[1]<h[3])){l.label=b[1];break}if(b[0]===6&&l.label<h[1]){l.label=h[1],h=b;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(b);break}h[2]&&l.ops.pop(),l.trys.pop();continue}b=o.call(a,l)}catch(w){b=[6,w],f=0}finally{d=h=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}};Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.FrappeCall=void 0;var s=function(){function a(o,l,d,f,h){this.appURL=o,this.axios=l,this.useToken=d!=null?d:!1,this.token=f,this.tokenType=h}return a.prototype.get=function(o,l){return t(this,void 0,void 0,function(){var d;return n(this,function(f){return d=new URLSearchParams,l&&Object.entries(l).forEach(function(h){var p=h[0],x=h[1];if(x!=null){var y=typeof x=="object"?JSON.stringify(x):x;d.set(p,y)}}),[2,this.axios.get("/api/method/".concat(o),{params:d}).then(function(h){return h.data}).catch(function(h){var p,x;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(p=h.response.data.message)!==null&&p!==void 0?p:"There was an error.",exception:(x=h.response.data.exception)!==null&&x!==void 0?x:""})})]})})},a.prototype.post=function(o,l){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.post("/api/method/".concat(o),e({},l)).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error.",exception:(p=f.response.data.exception)!==null&&p!==void 0?p:""})})]})})},a.prototype.put=function(o,l){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.put("/api/method/".concat(o),e({},l)).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error.",exception:(p=f.response.data.exception)!==null&&p!==void 0?p:""})})]})})},a.prototype.delete=function(o,l){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.delete("/api/method/".concat(o),{params:l}).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error.",exception:(p=f.response.data.exception)!==null&&p!==void 0?p:""})})]})})},a}();return Tr.FrappeCall=s,Tr}var kr={},Qw;function aS(){if(Qw)return kr;Qw=1;var e=kr&&kr.__assign||function(){return e=Object.assign||function(a){for(var o,l=1,d=arguments.length;l<d;l++){o=arguments[l];for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(a[f]=o[f])}return a},e.apply(this,arguments)},t=kr&&kr.__awaiter||function(a,o,l,d){function f(h){return h instanceof l?h:new l(function(p){p(h)})}return new(l||(l=Promise))(function(h,p){function x(w){try{b(d.next(w))}catch(_){p(_)}}function y(w){try{b(d.throw(w))}catch(_){p(_)}}function b(w){w.done?h(w.value):f(w.value).then(x,y)}b((d=d.apply(a,o||[])).next())})},n=kr&&kr.__generator||function(a,o){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},d,f,h,p;return p={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function x(b){return function(w){return y([b,w])}}function y(b){if(d)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(l=0)),l;)try{if(d=1,f&&(h=b[0]&2?f.return:b[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,b[1])).done)return h;switch(f=0,h&&(b=[b[0]&2,h.value]),b[0]){case 0:case 1:h=b;break;case 4:return l.label++,{value:b[1],done:!1};case 5:l.label++,f=b[1],b=[0];continue;case 7:b=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(b[0]===6||b[0]===2)){l=0;continue}if(b[0]===3&&(!h||b[1]>h[0]&&b[1]<h[3])){l.label=b[1];break}if(b[0]===6&&l.label<h[1]){l.label=h[1],h=b;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(b);break}h[2]&&l.ops.pop(),l.trys.pop();continue}b=o.call(a,l)}catch(w){b=[6,w],f=0}finally{d=h=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}};Object.defineProperty(kr,"__esModule",{value:!0}),kr.FrappeDB=void 0;var s=function(){function a(o,l,d,f,h){this.appURL=o,this.axios=l,this.useToken=d!=null?d:!1,this.token=f,this.tokenType=h}return a.prototype.getDoc=function(o,l){return l===void 0&&(l=""),t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.get("/api/resource/".concat(o,"/").concat(encodeURIComponent(l))).then(function(f){return f.data.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while fetching the document.",exception:(p=(h=f.response.data.exception)!==null&&h!==void 0?h:f.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},a.prototype.getDocList=function(o,l){var d;return t(this,void 0,void 0,function(){var f,h,p,x,y,b,w,_,j,N,k;return n(this,function(C){return f={},l&&(h=l.fields,p=l.filters,x=l.orFilters,y=l.orderBy,b=l.limit,w=l.limit_start,_=l.groupBy,j=l.asDict,N=j===void 0?!0:j,k=y?"".concat(String(y==null?void 0:y.field)," ").concat((d=y==null?void 0:y.order)!==null&&d!==void 0?d:"asc"):"",f={fields:h?JSON.stringify(h):void 0,filters:p?JSON.stringify(p):void 0,or_filters:x?JSON.stringify(x):void 0,order_by:k,group_by:_,limit:b,limit_start:w,as_dict:N}),[2,this.axios.get("/api/resource/".concat(o),{params:f}).then(function(R){return R.data.data}).catch(function(R){var A,M;throw e(e({},R.response.data),{httpStatus:R.response.status,httpStatusText:R.response.statusText,message:"There was an error while fetching the documents.",exception:(M=(A=R.response.data.exception)!==null&&A!==void 0?A:R.response.data.exc_type)!==null&&M!==void 0?M:""})})]})})},a.prototype.createDoc=function(o,l){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.post("/api/resource/".concat(o),e({},l)).then(function(f){return f.data.data}).catch(function(f){var h,p,x;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error while creating the document.",exception:(x=(p=f.response.data.exception)!==null&&p!==void 0?p:f.response.data.exc_type)!==null&&x!==void 0?x:""})})]})})},a.prototype.updateDoc=function(o,l,d){return t(this,void 0,void 0,function(){return n(this,function(f){return[2,this.axios.put("/api/resource/".concat(o,"/").concat(l&&encodeURIComponent(l)),e({},d)).then(function(h){return h.data.data}).catch(function(h){var p,x,y;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(p=h.response.data.message)!==null&&p!==void 0?p:"There was an error while updating the document.",exception:(y=(x=h.response.data.exception)!==null&&x!==void 0?x:h.response.data.exc_type)!==null&&y!==void 0?y:""})})]})})},a.prototype.deleteDoc=function(o,l){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.delete("/api/resource/".concat(o,"/").concat(l&&encodeURIComponent(l))).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while deleting the document.",exception:(p=(h=f.response.data.exception)!==null&&h!==void 0?h:f.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},a.prototype.getCount=function(o,l,d,f){return d===void 0&&(d=!1),f===void 0&&(f=!1),t(this,void 0,void 0,function(){var h;return n(this,function(p){return h={doctype:o,filters:[]},d&&(h.cache=d),f&&(h.debug=f),l&&(h.filters=l?JSON.stringify(l):void 0),[2,this.axios.get("/api/method/frappe.client.get_count",{params:h}).then(function(x){return x.data.message}).catch(function(x){var y,b;throw e(e({},x.response.data),{httpStatus:x.response.status,httpStatusText:x.response.statusText,message:"There was an error while getting the count.",exception:(b=(y=x.response.data.exception)!==null&&y!==void 0?y:x.response.data.exc_type)!==null&&b!==void 0?b:""})})]})})},a.prototype.getLastDoc=function(o,l){return t(this,void 0,void 0,function(){var d,f;return n(this,function(h){switch(h.label){case 0:return d={orderBy:{field:"creation",order:"desc"}},l&&(d=e(e({},d),l)),[4,this.getDocList(o,e(e({},d),{limit:1,fields:["name"]}))];case 1:return f=h.sent(),f.length>0?[2,this.getDoc(o,f[0].name)]:[2,{}]}})})},a.prototype.renameDoc=function(o,l,d,f){return f===void 0&&(f=!1),t(this,void 0,void 0,function(){return n(this,function(h){return[2,this.axios.post("/api/method/frappe.client.rename_doc",{doctype:o,old_name:l,new_name:d,merge:f}).then(function(p){return p.data}).catch(function(p){var x,y,b;throw e(e({},p.response.data),{httpStatus:p.response.status,httpStatusText:p.response.statusText,message:(x=p.response.data.message)!==null&&x!==void 0?x:"There was an error while renaming the document.",exception:(b=(y=p.response.data.exception)!==null&&y!==void 0?y:p.response.data.exc_type)!==null&&b!==void 0?b:""})})]})})},a.prototype.getValue=function(o,l,d,f,h,p){return f===void 0&&(f=!0),h===void 0&&(h=!1),p===void 0&&(p=null),t(this,void 0,void 0,function(){var x;return n(this,function(y){return x={doctype:o,fieldname:"[]",filters:[],as_dict:f,debug:h,parent:null},l&&(x.fieldname=typeof l=="object"?JSON.stringify(l):l),d&&(x.filters=d?JSON.stringify(d):void 0),p&&(x.parent=p),[2,this.axios.get("/api/method/frappe.client.get_value",{params:x}).then(function(b){return b.data}).catch(function(b){var w,_;throw e(e({},b.response.data),{httpStatus:b.response.status,httpStatusText:b.response.statusText,message:"There was an error while getting the value.",exception:(_=(w=b.response.data.exception)!==null&&w!==void 0?w:b.response.data.exc_type)!==null&&_!==void 0?_:""})})]})})},a.prototype.setValue=function(o,l,d,f){return t(this,void 0,void 0,function(){return n(this,function(h){return d!==null&&typeof d=="object"&&!Array.isArray(d)&&(f=void 0),[2,this.axios.post("/api/method/frappe.client.set_value",{doctype:o,name:l,fieldname:d,value:f}).then(function(p){return p.data}).catch(function(p){var x,y;throw e(e({},p.response.data),{httpStatus:p.response.status,httpStatusText:p.response.statusText,message:"There was an error while setting the value.",exception:(y=(x=p.response.data.exception)!==null&&x!==void 0?x:p.response.data.exc_type)!==null&&y!==void 0?y:""})})]})})},a.prototype.getSingleValue=function(o,l){return t(this,void 0,void 0,function(){var d;return n(this,function(f){return d={doctype:o,field:l},[2,this.axios.get("/api/method/frappe.client.get_single_value",{params:d}).then(function(h){return h.data}).catch(function(h){var p,x;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:"There was an error while getting the value of single doctype.",exception:(x=(p=h.response.data.exception)!==null&&p!==void 0?p:h.response.data.exc_type)!==null&&x!==void 0?x:""})})]})})},a.prototype.submit=function(o){return t(this,void 0,void 0,function(){return n(this,function(l){return[2,this.axios.post("/api/method/frappe.client.submit",{doc:o}).then(function(d){return d.data.message}).catch(function(d){var f,h;throw e(e({},d.response.data),{httpStatus:d.response.status,httpStatusText:d.response.statusText,message:"There was an error while submitting the document.",exception:(h=(f=d.response.data.exception)!==null&&f!==void 0?f:d.response.data.exc_type)!==null&&h!==void 0?h:""})})]})})},a.prototype.cancel=function(o,l){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.post("/api/method/frappe.client.cancel",{doctype:o,name:l}).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while cancelling the document.",exception:(p=(h=f.response.data.exception)!==null&&h!==void 0?h:f.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},a}();return kr.FrappeDB=s,kr}var Cr={},Na={};/*! Axios v1.8.2 Copyright (c) 2025 Matt Zabriskie and contributors */var ag,Zw;function hC(){if(Zw)return ag;Zw=1;function e(E,O){return function(){return E.apply(O,arguments)}}const{toString:t}=Object.prototype,{getPrototypeOf:n}=Object,s=(E=>O=>{const L=t.call(O);return E[L]||(E[L]=L.slice(8,-1).toLowerCase())})(Object.create(null)),a=E=>(E=E.toLowerCase(),O=>s(O)===E),o=E=>O=>typeof O===E,{isArray:l}=Array,d=o("undefined");function f(E){return E!==null&&!d(E)&&E.constructor!==null&&!d(E.constructor)&&y(E.constructor.isBuffer)&&E.constructor.isBuffer(E)}const h=a("ArrayBuffer");function p(E){let O;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?O=ArrayBuffer.isView(E):O=E&&E.buffer&&h(E.buffer),O}const x=o("string"),y=o("function"),b=o("number"),w=E=>E!==null&&typeof E=="object",_=E=>E===!0||E===!1,j=E=>{if(s(E)!=="object")return!1;const O=n(E);return(O===null||O===Object.prototype||Object.getPrototypeOf(O)===null)&&!(Symbol.toStringTag in E)&&!(Symbol.iterator in E)},N=a("Date"),k=a("File"),C=a("Blob"),R=a("FileList"),A=E=>w(E)&&y(E.pipe),M=E=>{let O;return E&&(typeof FormData=="function"&&E instanceof FormData||y(E.append)&&((O=s(E))==="formdata"||O==="object"&&y(E.toString)&&E.toString()==="[object FormData]"))},z=a("URLSearchParams"),[P,V,te,$]=["ReadableStream","Request","Response","Headers"].map(a),Z=E=>E.trim?E.trim():E.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function le(E,O,{allOwnKeys:L=!1}={}){if(E===null||typeof E>"u")return;let F,ne;if(typeof E!="object"&&(E=[E]),l(E))for(F=0,ne=E.length;F<ne;F++)O.call(null,E[F],F,E);else{const ie=L?Object.getOwnPropertyNames(E):Object.keys(E),fe=ie.length;let Pe;for(F=0;F<fe;F++)Pe=ie[F],O.call(null,E[Pe],Pe,E)}}function J(E,O){O=O.toLowerCase();const L=Object.keys(E);let F=L.length,ne;for(;F-- >0;)if(ne=L[F],O===ne.toLowerCase())return ne;return null}const I=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:fC,B=E=>!d(E)&&E!==I;function Y(){const{caseless:E}=B(this)&&this||{},O={},L=(F,ne)=>{const ie=E&&J(O,ne)||ne;j(O[ie])&&j(F)?O[ie]=Y(O[ie],F):j(F)?O[ie]=Y({},F):l(F)?O[ie]=F.slice():O[ie]=F};for(let F=0,ne=arguments.length;F<ne;F++)arguments[F]&&le(arguments[F],L);return O}const Q=(E,O,L,{allOwnKeys:F}={})=>(le(O,(ne,ie)=>{L&&y(ne)?E[ie]=e(ne,L):E[ie]=ne},{allOwnKeys:F}),E),ve=E=>(E.charCodeAt(0)===65279&&(E=E.slice(1)),E),H=(E,O,L,F)=>{E.prototype=Object.create(O.prototype,F),E.prototype.constructor=E,Object.defineProperty(E,"super",{value:O.prototype}),L&&Object.assign(E.prototype,L)},ae=(E,O,L,F)=>{let ne,ie,fe;const Pe={};if(O=O||{},E==null)return O;do{for(ne=Object.getOwnPropertyNames(E),ie=ne.length;ie-- >0;)fe=ne[ie],(!F||F(fe,E,O))&&!Pe[fe]&&(O[fe]=E[fe],Pe[fe]=!0);E=L!==!1&&n(E)}while(E&&(!L||L(E,O))&&E!==Object.prototype);return O},ye=(E,O,L)=>{E=String(E),(L===void 0||L>E.length)&&(L=E.length),L-=O.length;const F=E.indexOf(O,L);return F!==-1&&F===L},X=E=>{if(!E)return null;if(l(E))return E;let O=E.length;if(!b(O))return null;const L=new Array(O);for(;O-- >0;)L[O]=E[O];return L},he=(E=>O=>E&&O instanceof E)(typeof Uint8Array<"u"&&n(Uint8Array)),ke=(E,O)=>{const L=(E&&E[Symbol.iterator]).call(E);let F;for(;(F=L.next())&&!F.done;){const ne=F.value;O.call(E,ne[0],ne[1])}},be=(E,O)=>{let L;const F=[];for(;(L=E.exec(O))!==null;)F.push(L);return F},Ce=a("HTMLFormElement"),ze=E=>E.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(O,L,F){return L.toUpperCase()+F}),tt=(({hasOwnProperty:E})=>(O,L)=>E.call(O,L))(Object.prototype),Ve=a("RegExp"),Et=(E,O)=>{const L=Object.getOwnPropertyDescriptors(E),F={};le(L,(ne,ie)=>{let fe;(fe=O(ne,ie,E))!==!1&&(F[ie]=fe||ne)}),Object.defineProperties(E,F)},lt=E=>{Et(E,(O,L)=>{if(y(E)&&["arguments","caller","callee"].indexOf(L)!==-1)return!1;const F=E[L];if(y(F)){if(O.enumerable=!1,"writable"in O){O.writable=!1;return}O.set||(O.set=()=>{throw Error("Can not rewrite read-only method '"+L+"'")})}})},yt=(E,O)=>{const L={},F=ne=>{ne.forEach(ie=>{L[ie]=!0})};return l(E)?F(E):F(String(E).split(O)),L},De=()=>{},mt=(E,O)=>E!=null&&Number.isFinite(E=+E)?E:O;function Yt(E){return!!(E&&y(E.append)&&E[Symbol.toStringTag]==="FormData"&&E[Symbol.iterator])}const Ct=E=>{const O=new Array(10),L=(F,ne)=>{if(w(F)){if(O.indexOf(F)>=0)return;if(!("toJSON"in F)){O[ne]=F;const ie=l(F)?[]:{};return le(F,(fe,Pe)=>{const rt=L(fe,ne+1);!d(rt)&&(ie[Pe]=rt)}),O[ne]=void 0,ie}}return F};return L(E,0)},It=a("AsyncFunction"),Xt=E=>E&&(w(E)||y(E))&&y(E.then)&&y(E.catch),W=((E,O)=>E?setImmediate:O?((L,F)=>(I.addEventListener("message",({source:ne,data:ie})=>{ne===I&&ie===L&&F.length&&F.shift()()},!1),ne=>{F.push(ne),I.postMessage(L,"*")}))(`axios@${Math.random()}`,[]):L=>setTimeout(L))(typeof setImmediate=="function",y(I.postMessage)),oe=typeof queueMicrotask<"u"?queueMicrotask.bind(I):typeof process<"u"&&process.nextTick||W;var q={isArray:l,isArrayBuffer:h,isBuffer:f,isFormData:M,isArrayBufferView:p,isString:x,isNumber:b,isBoolean:_,isObject:w,isPlainObject:j,isReadableStream:P,isRequest:V,isResponse:te,isHeaders:$,isUndefined:d,isDate:N,isFile:k,isBlob:C,isRegExp:Ve,isFunction:y,isStream:A,isURLSearchParams:z,isTypedArray:he,isFileList:R,forEach:le,merge:Y,extend:Q,trim:Z,stripBOM:ve,inherits:H,toFlatObject:ae,kindOf:s,kindOfTest:a,endsWith:ye,toArray:X,forEachEntry:ke,matchAll:be,isHTMLForm:Ce,hasOwnProperty:tt,hasOwnProp:tt,reduceDescriptors:Et,freezeMethods:lt,toObjectSet:yt,toCamelCase:ze,noop:De,toFiniteNumber:mt,findKey:J,global:I,isContextDefined:B,isSpecCompliantForm:Yt,toJSONObject:Ct,isAsyncFn:It,isThenable:Xt,setImmediate:W,asap:oe};function Se(E,O,L,F,ne){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=E,this.name="AxiosError",O&&(this.code=O),L&&(this.config=L),F&&(this.request=F),ne&&(this.response=ne,this.status=ne.status?ne.status:null)}q.inherits(Se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}});const Re=Se.prototype,Oe={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(E=>{Oe[E]={value:E}}),Object.defineProperties(Se,Oe),Object.defineProperty(Re,"isAxiosError",{value:!0}),Se.from=(E,O,L,F,ne,ie)=>{const fe=Object.create(Re);return q.toFlatObject(E,fe,function(Pe){return Pe!==Error.prototype},Pe=>Pe!=="isAxiosError"),Se.call(fe,E.message,O,L,F,ne),fe.cause=E,fe.name=E.name,ie&&Object.assign(fe,ie),fe};var Ue=null;function $e(E){return q.isPlainObject(E)||q.isArray(E)}function Ke(E){return q.endsWith(E,"[]")?E.slice(0,-2):E}function bt(E,O,L){return E?E.concat(O).map(function(F,ne){return F=Ke(F),!L&&ne?"["+F+"]":F}).join(L?".":""):O}function ts(E){return q.isArray(E)&&!E.some($e)}const Te=q.toFlatObject(q,{},null,function(E){return/^is[A-Z]/.test(E)});function Be(E,O,L){if(!q.isObject(E))throw new TypeError("target must be an object");O=O||new FormData,L=q.toFlatObject(L,{metaTokens:!0,dots:!1,indexes:!1},!1,function(xt,it){return!q.isUndefined(it[xt])});const F=L.metaTokens,ne=L.visitor||Le,ie=L.dots,fe=L.indexes,Pe=(L.Blob||typeof Blob<"u"&&Blob)&&q.isSpecCompliantForm(O);if(!q.isFunction(ne))throw new TypeError("visitor must be a function");function rt(xt){if(xt===null)return"";if(q.isDate(xt))return xt.toISOString();if(!Pe&&q.isBlob(xt))throw new Se("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(xt)||q.isTypedArray(xt)?Pe&&typeof Blob=="function"?new Blob([xt]):Buffer.from(xt):xt}function Le(xt,it,Qe){let rs=xt;if(xt&&!Qe&&typeof xt=="object"){if(q.endsWith(it,"{}"))it=F?it:it.slice(0,-2),xt=JSON.stringify(xt);else if(q.isArray(xt)&&ts(xt)||(q.isFileList(xt)||q.endsWith(it,"[]"))&&(rs=q.toArray(xt)))return it=Ke(it),rs.forEach(function(Ln,vn){!(q.isUndefined(Ln)||Ln===null)&&O.append(fe===!0?bt([it],vn,ie):fe===null?it:it+"[]",rt(Ln))}),!1}return $e(xt)?!0:(O.append(bt(Qe,it,ie),rt(xt)),!1)}const qe=[],dt=Object.assign(Te,{defaultVisitor:Le,convertValue:rt,isVisitable:$e});function tn(xt,it){if(!q.isUndefined(xt)){if(qe.indexOf(xt)!==-1)throw Error("Circular reference detected in "+it.join("."));qe.push(xt),q.forEach(xt,function(Qe,rs){(!(q.isUndefined(Qe)||Qe===null)&&ne.call(O,Qe,q.isString(rs)?rs.trim():rs,it,dt))===!0&&tn(Qe,it?it.concat(rs):[rs])}),qe.pop()}}if(!q.isObject(E))throw new TypeError("data must be an object");return tn(E),O}function _t(E){const O={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(E).replace(/[!'()~]|%20|%00/g,function(L){return O[L]})}function On(E,O){this._pairs=[],E&&Be(E,this,O)}const ls=On.prototype;ls.append=function(E,O){this._pairs.push([E,O])},ls.toString=function(E){const O=E?function(L){return E.call(this,L,_t)}:_t;return this._pairs.map(function(L){return O(L[0])+"="+O(L[1])},"").join("&")};function ws(E){return encodeURIComponent(E).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function qn(E,O,L){if(!O)return E;const F=L&&L.encode||ws;q.isFunction(L)&&(L={serialize:L});const ne=L&&L.serialize;let ie;if(ne?ie=ne(O,L):ie=q.isURLSearchParams(O)?O.toString():new On(O,L).toString(F),ie){const fe=E.indexOf("#");fe!==-1&&(E=E.slice(0,fe)),E+=(E.indexOf("?")===-1?"?":"&")+ie}return E}class wr{constructor(){this.handlers=[]}use(O,L,F){return this.handlers.push({fulfilled:O,rejected:L,synchronous:F?F.synchronous:!1,runWhen:F?F.runWhen:null}),this.handlers.length-1}eject(O){this.handlers[O]&&(this.handlers[O]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(O){q.forEach(this.handlers,function(L){L!==null&&O(L)})}}var nt=wr,Mt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zt=typeof URLSearchParams<"u"?URLSearchParams:On,jt=typeof FormData<"u"?FormData:null,Jt=typeof Blob<"u"?Blob:null,pn={isBrowser:!0,classes:{URLSearchParams:zt,FormData:jt,Blob:Jt},protocols:["http","https","file","blob","url","data"]};const an=typeof window<"u"&&typeof document<"u",ns=typeof navigator=="object"&&navigator||void 0,Yn=an&&(!ns||["ReactNative","NativeScript","NS"].indexOf(ns.product)<0),K=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",se=an&&window.location.href||"http://localhost";var de=Object.freeze({__proto__:null,hasBrowserEnv:an,hasStandardBrowserWebWorkerEnv:K,hasStandardBrowserEnv:Yn,navigator:ns,origin:se}),we=U(U({},de),pn);function Ae(E,O){return Be(E,new we.classes.URLSearchParams,Object.assign({visitor:function(L,F,ne,ie){return we.isNode&&q.isBuffer(L)?(this.append(F,L.toString("base64")),!1):ie.defaultVisitor.apply(this,arguments)}},O))}function Ye(E){return q.matchAll(/\w+|\[(\w*)]/g,E).map(O=>O[0]==="[]"?"":O[1]||O[0])}function Ze(E){const O={},L=Object.keys(E);let F;const ne=L.length;let ie;for(F=0;F<ne;F++)ie=L[F],O[ie]=E[ie];return O}function at(E){function O(L,F,ne,ie){let fe=L[ie++];if(fe==="__proto__")return!0;const Pe=Number.isFinite(+fe),rt=ie>=L.length;return fe=!fe&&q.isArray(ne)?ne.length:fe,rt?(q.hasOwnProp(ne,fe)?ne[fe]=[ne[fe],F]:ne[fe]=F,!Pe):((!ne[fe]||!q.isObject(ne[fe]))&&(ne[fe]=[]),O(L,F,ne[fe],ie)&&q.isArray(ne[fe])&&(ne[fe]=Ze(ne[fe])),!Pe)}if(q.isFormData(E)&&q.isFunction(E.entries)){const L={};return q.forEachEntry(E,(F,ne)=>{O(Ye(F),ne,L,0)}),L}return null}function ot(E,O,L){if(q.isString(E))try{return(O||JSON.parse)(E),q.trim(E)}catch(F){if(F.name!=="SyntaxError")throw F}return(L||JSON.stringify)(E)}const St={transitional:Mt,adapter:["xhr","http","fetch"],transformRequest:[function(E,O){const L=O.getContentType()||"",F=L.indexOf("application/json")>-1,ne=q.isObject(E);if(ne&&q.isHTMLForm(E)&&(E=new FormData(E)),q.isFormData(E))return F?JSON.stringify(at(E)):E;if(q.isArrayBuffer(E)||q.isBuffer(E)||q.isStream(E)||q.isFile(E)||q.isBlob(E)||q.isReadableStream(E))return E;if(q.isArrayBufferView(E))return E.buffer;if(q.isURLSearchParams(E))return O.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),E.toString();let ie;if(ne){if(L.indexOf("application/x-www-form-urlencoded")>-1)return Ae(E,this.formSerializer).toString();if((ie=q.isFileList(E))||L.indexOf("multipart/form-data")>-1){const fe=this.env&&this.env.FormData;return Be(ie?{"files[]":E}:E,fe&&new fe,this.formSerializer)}}return ne||F?(O.setContentType("application/json",!1),ot(E)):E}],transformResponse:[function(E){const O=this.transitional||St.transitional,L=O&&O.forcedJSONParsing,F=this.responseType==="json";if(q.isResponse(E)||q.isReadableStream(E))return E;if(E&&q.isString(E)&&(L&&!this.responseType||F)){const ne=!(O&&O.silentJSONParsing)&&F;try{return JSON.parse(E)}catch(ie){if(ne)throw ie.name==="SyntaxError"?Se.from(ie,Se.ERR_BAD_RESPONSE,this,null,this.response):ie}}return E}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:we.classes.FormData,Blob:we.classes.Blob},validateStatus:function(E){return E>=200&&E<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],E=>{St.headers[E]={}});var Je=St;const pt=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var wt=E=>{const O={};let L,F,ne;return E&&E.split(`
`).forEach(function(ie){ne=ie.indexOf(":"),L=ie.substring(0,ne).trim().toLowerCase(),F=ie.substring(ne+1).trim(),!(!L||O[L]&&pt[L])&&(L==="set-cookie"?O[L]?O[L].push(F):O[L]=[F]:O[L]=O[L]?O[L]+", "+F:F)}),O};const on=Symbol("internals");function Sn(E){return E&&String(E).trim().toLowerCase()}function en(E){return E===!1||E==null?E:q.isArray(E)?E.map(en):String(E)}function et(E){const O=Object.create(null),L=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let F;for(;F=L.exec(E);)O[F[1]]=F[2];return O}const gt=E=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(E.trim());function Ft(E,O,L,F,ne){if(q.isFunction(F))return F.call(this,O,L);if(ne&&(O=L),!!q.isString(O)){if(q.isString(F))return O.indexOf(F)!==-1;if(q.isRegExp(F))return F.test(O)}}function gn(E){return E.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(O,L,F)=>L.toUpperCase()+F)}function Nn(E,O){const L=q.toCamelCase(" "+O);["get","set","has"].forEach(F=>{Object.defineProperty(E,F+L,{value:function(ne,ie,fe){return this[F].call(this,O,ne,ie,fe)},configurable:!0})})}class In{constructor(O){O&&this.set(O)}set(O,L,F){const ne=this;function ie(Pe,rt,Le){const qe=Sn(rt);if(!qe)throw new Error("header name must be a non-empty string");const dt=q.findKey(ne,qe);(!dt||ne[dt]===void 0||Le===!0||Le===void 0&&ne[dt]!==!1)&&(ne[dt||rt]=en(Pe))}const fe=(Pe,rt)=>q.forEach(Pe,(Le,qe)=>ie(Le,qe,rt));if(q.isPlainObject(O)||O instanceof this.constructor)fe(O,L);else if(q.isString(O)&&(O=O.trim())&&!gt(O))fe(wt(O),L);else if(q.isHeaders(O))for(const[Pe,rt]of O.entries())ie(rt,Pe,F);else O!=null&&ie(L,O,F);return this}get(O,L){if(O=Sn(O),O){const F=q.findKey(this,O);if(F){const ne=this[F];if(!L)return ne;if(L===!0)return et(ne);if(q.isFunction(L))return L.call(this,ne,F);if(q.isRegExp(L))return L.exec(ne);throw new TypeError("parser must be boolean|regexp|function")}}}has(O,L){if(O=Sn(O),O){const F=q.findKey(this,O);return!!(F&&this[F]!==void 0&&(!L||Ft(this,this[F],F,L)))}return!1}delete(O,L){const F=this;let ne=!1;function ie(fe){if(fe=Sn(fe),fe){const Pe=q.findKey(F,fe);Pe&&(!L||Ft(F,F[Pe],Pe,L))&&(delete F[Pe],ne=!0)}}return q.isArray(O)?O.forEach(ie):ie(O),ne}clear(O){const L=Object.keys(this);let F=L.length,ne=!1;for(;F--;){const ie=L[F];(!O||Ft(this,this[ie],ie,O,!0))&&(delete this[ie],ne=!0)}return ne}normalize(O){const L=this,F={};return q.forEach(this,(ne,ie)=>{const fe=q.findKey(F,ie);if(fe){L[fe]=en(ne),delete L[ie];return}const Pe=O?gn(ie):String(ie).trim();Pe!==ie&&delete L[ie],L[Pe]=en(ne),F[Pe]=!0}),this}concat(...O){return this.constructor.concat(this,...O)}toJSON(O){const L=Object.create(null);return q.forEach(this,(F,ne)=>{F!=null&&F!==!1&&(L[ne]=O&&q.isArray(F)?F.join(", "):F)}),L}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([O,L])=>O+": "+L).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(O){return O instanceof this?O:new this(O)}static concat(O,...L){const F=new this(O);return L.forEach(ne=>F.set(ne)),F}static accessor(O){const L=(this[on]=this[on]={accessors:{}}).accessors,F=this.prototype;function ne(ie){const fe=Sn(ie);L[fe]||(Nn(F,ie),L[fe]=!0)}return q.isArray(O)?O.forEach(ne):ne(O),this}}In.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),q.reduceDescriptors(In.prototype,({value:E},O)=>{let L=O[0].toUpperCase()+O.slice(1);return{get:()=>E,set(F){this[L]=F}}}),q.freezeMethods(In);var ss=In;function tr(E,O){const L=this||Je,F=O||L,ne=ss.from(F.headers);let ie=F.data;return q.forEach(E,function(fe){ie=fe.call(L,ie,ne.normalize(),O?O.status:void 0)}),ne.normalize(),ie}function nr(E){return!!(E&&E.__CANCEL__)}function ms(E,O,L){Se.call(this,E!=null?E:"canceled",Se.ERR_CANCELED,O,L),this.name="CanceledError"}q.inherits(ms,Se,{__CANCEL__:!0});function sr(E,O,L){const F=L.config.validateStatus;!L.status||!F||F(L.status)?E(L):O(new Se("Request failed with status code "+L.status,[Se.ERR_BAD_REQUEST,Se.ERR_BAD_RESPONSE][Math.floor(L.status/100)-4],L.config,L.request,L))}function Tt(E){const O=/^([-+\w]{1,25})(:?\/\/|:)/.exec(E);return O&&O[1]||""}function En(E,O){E=E||10;const L=new Array(E),F=new Array(E);let ne=0,ie=0,fe;return O=O!==void 0?O:1e3,function(Pe){const rt=Date.now(),Le=F[ie];fe||(fe=rt),L[ne]=Pe,F[ne]=rt;let qe=ie,dt=0;for(;qe!==ne;)dt+=L[qe++],qe=qe%E;if(ne=(ne+1)%E,ne===ie&&(ie=(ie+1)%E),rt-fe<O)return;const tn=Le&&rt-Le;return tn?Math.round(dt*1e3/tn):void 0}}function la(E,O){let L=0,F=1e3/O,ne,ie;const fe=(Pe,rt=Date.now())=>{L=rt,ne=null,ie&&(clearTimeout(ie),ie=null),E.apply(null,Pe)};return[(...Pe)=>{const rt=Date.now(),Le=rt-L;Le>=F?fe(Pe,rt):(ne=Pe,ie||(ie=setTimeout(()=>{ie=null,fe(ne)},F-Le)))},()=>ne&&fe(ne)]}const cs=(E,O,L=3)=>{let F=0;const ne=En(50,250);return la(ie=>{const fe=ie.loaded,Pe=ie.lengthComputable?ie.total:void 0,rt=fe-F,Le=ne(rt),qe=fe<=Pe;F=fe;const dt={loaded:fe,total:Pe,progress:Pe?fe/Pe:void 0,bytes:rt,rate:Le||void 0,estimated:Le&&Pe&&qe?(Pe-fe)/Le:void 0,event:ie,lengthComputable:Pe!=null,[O?"download":"upload"]:!0};E(dt)},L)},dn=(E,O)=>{const L=E!=null;return[F=>O[0]({lengthComputable:L,total:E,loaded:F}),O[1]]},_r=E=>(...O)=>q.asap(()=>E(...O));var Do=we.hasStandardBrowserEnv?((E,O)=>L=>(L=new URL(L,we.origin),E.protocol===L.protocol&&E.host===L.host&&(O||E.port===L.port)))(new URL(we.origin),we.navigator&&/(msie|trident)/i.test(we.navigator.userAgent)):()=>!0,Po=we.hasStandardBrowserEnv?{write(E,O,L,F,ne,ie){const fe=[E+"="+encodeURIComponent(O)];q.isNumber(L)&&fe.push("expires="+new Date(L).toGMTString()),q.isString(F)&&fe.push("path="+F),q.isString(ne)&&fe.push("domain="+ne),ie===!0&&fe.push("secure"),document.cookie=fe.join("; ")},read(E){const O=document.cookie.match(new RegExp("(^|;\\s*)("+E+")=([^;]*)"));return O?decodeURIComponent(O[3]):null},remove(E){this.write(E,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Cs(E){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(E)}function ed(E,O){return O?E.replace(/\/?\/$/,"")+"/"+O.replace(/^\/+/,""):E}function td(E,O,L){let F=!Cs(O);return E&&F||L==!1?ed(E,O):O}const Di=E=>E instanceof ss?U({},E):E;function Br(E,O){O=O||{};const L={};function F(Le,qe,dt,tn){return q.isPlainObject(Le)&&q.isPlainObject(qe)?q.merge.call({caseless:tn},Le,qe):q.isPlainObject(qe)?q.merge({},qe):q.isArray(qe)?qe.slice():qe}function ne(Le,qe,dt,tn){if(q.isUndefined(qe)){if(!q.isUndefined(Le))return F(void 0,Le,dt,tn)}else return F(Le,qe,dt,tn)}function ie(Le,qe){if(!q.isUndefined(qe))return F(void 0,qe)}function fe(Le,qe){if(q.isUndefined(qe)){if(!q.isUndefined(Le))return F(void 0,Le)}else return F(void 0,qe)}function Pe(Le,qe,dt){if(dt in O)return F(Le,qe);if(dt in E)return F(void 0,Le)}const rt={url:ie,method:ie,data:ie,baseURL:fe,transformRequest:fe,transformResponse:fe,paramsSerializer:fe,timeout:fe,timeoutMessage:fe,withCredentials:fe,withXSRFToken:fe,adapter:fe,responseType:fe,xsrfCookieName:fe,xsrfHeaderName:fe,onUploadProgress:fe,onDownloadProgress:fe,decompress:fe,maxContentLength:fe,maxBodyLength:fe,beforeRedirect:fe,transport:fe,httpAgent:fe,httpsAgent:fe,cancelToken:fe,socketPath:fe,responseEncoding:fe,validateStatus:Pe,headers:(Le,qe,dt)=>ne(Di(Le),Di(qe),dt,!0)};return q.forEach(Object.keys(Object.assign({},E,O)),function(Le){const qe=rt[Le]||ne,dt=qe(E[Le],O[Le],Le);q.isUndefined(dt)&&qe!==Pe||(L[Le]=dt)}),L}var Pi=E=>{const O=Br({},E);let{data:L,withXSRFToken:F,xsrfHeaderName:ne,xsrfCookieName:ie,headers:fe,auth:Pe}=O;O.headers=fe=ss.from(fe),O.url=qn(td(O.baseURL,O.url),E.params,E.paramsSerializer),Pe&&fe.set("Authorization","Basic "+btoa((Pe.username||"")+":"+(Pe.password?unescape(encodeURIComponent(Pe.password)):"")));let rt;if(q.isFormData(L)){if(we.hasStandardBrowserEnv||we.hasStandardBrowserWebWorkerEnv)fe.setContentType(void 0);else if((rt=fe.getContentType())!==!1){const[Le,...qe]=rt?rt.split(";").map(dt=>dt.trim()).filter(Boolean):[];fe.setContentType([Le||"multipart/form-data",...qe].join("; "))}}if(we.hasStandardBrowserEnv&&(F&&q.isFunction(F)&&(F=F(O)),F||F!==!1&&Do(O.url))){const Le=ne&&ie&&Po.read(ie);Le&&fe.set(ne,Le)}return O},sm=typeof XMLHttpRequest<"u"&&function(E){return new Promise(function(O,L){const F=Pi(E);let ne=F.data;const ie=ss.from(F.headers).normalize();let{responseType:fe,onUploadProgress:Pe,onDownloadProgress:rt}=F,Le,qe,dt,tn,xt;function it(){tn&&tn(),xt&&xt(),F.cancelToken&&F.cancelToken.unsubscribe(Le),F.signal&&F.signal.removeEventListener("abort",Le)}let Qe=new XMLHttpRequest;Qe.open(F.method.toUpperCase(),F.url,!0),Qe.timeout=F.timeout;function rs(){if(!Qe)return;const vn=ss.from("getAllResponseHeaders"in Qe&&Qe.getAllResponseHeaders()),rr={data:!fe||fe==="text"||fe==="json"?Qe.responseText:Qe.response,status:Qe.status,statusText:Qe.statusText,headers:vn,config:E,request:Qe};sr(function(Vi){O(Vi),it()},function(Vi){L(Vi),it()},rr),Qe=null}"onloadend"in Qe?Qe.onloadend=rs:Qe.onreadystatechange=function(){!Qe||Qe.readyState!==4||Qe.status===0&&!(Qe.responseURL&&Qe.responseURL.indexOf("file:")===0)||setTimeout(rs)},Qe.onabort=function(){Qe&&(L(new Se("Request aborted",Se.ECONNABORTED,E,Qe)),Qe=null)},Qe.onerror=function(){L(new Se("Network Error",Se.ERR_NETWORK,E,Qe)),Qe=null},Qe.ontimeout=function(){let vn=F.timeout?"timeout of "+F.timeout+"ms exceeded":"timeout exceeded";const rr=F.transitional||Mt;F.timeoutErrorMessage&&(vn=F.timeoutErrorMessage),L(new Se(vn,rr.clarifyTimeoutError?Se.ETIMEDOUT:Se.ECONNABORTED,E,Qe)),Qe=null},ne===void 0&&ie.setContentType(null),"setRequestHeader"in Qe&&q.forEach(ie.toJSON(),function(vn,rr){Qe.setRequestHeader(rr,vn)}),q.isUndefined(F.withCredentials)||(Qe.withCredentials=!!F.withCredentials),fe&&fe!=="json"&&(Qe.responseType=F.responseType),rt&&([dt,xt]=cs(rt,!0),Qe.addEventListener("progress",dt)),Pe&&Qe.upload&&([qe,tn]=cs(Pe),Qe.upload.addEventListener("progress",qe),Qe.upload.addEventListener("loadend",tn)),(F.cancelToken||F.signal)&&(Le=vn=>{Qe&&(L(!vn||vn.type?new ms(null,E,Qe):vn),Qe.abort(),Qe=null)},F.cancelToken&&F.cancelToken.subscribe(Le),F.signal&&(F.signal.aborted?Le():F.signal.addEventListener("abort",Le)));const Ln=Tt(F.url);if(Ln&&we.protocols.indexOf(Ln)===-1){L(new Se("Unsupported protocol "+Ln+":",Se.ERR_BAD_REQUEST,E));return}Qe.send(ne||null)})},Os=(E,O)=>{const{length:L}=E=E?E.filter(Boolean):[];if(O||L){let F=new AbortController,ne;const ie=function(Le){if(!ne){ne=!0,Pe();const qe=Le instanceof Error?Le:this.reason;F.abort(qe instanceof Se?qe:new ms(qe instanceof Error?qe.message:qe))}};let fe=O&&setTimeout(()=>{fe=null,ie(new Se(`timeout ${O} of ms exceeded`,Se.ETIMEDOUT))},O);const Pe=()=>{E&&(fe&&clearTimeout(fe),fe=null,E.forEach(Le=>{Le.unsubscribe?Le.unsubscribe(ie):Le.removeEventListener("abort",ie)}),E=null)};E.forEach(Le=>Le.addEventListener("abort",ie));const{signal:rt}=F;return rt.unsubscribe=()=>q.asap(Pe),rt}};const sc=function*(E,O){let L=E.byteLength;if(L<O){yield E;return}let F=0,ne;for(;F<L;)ne=F+O,yield E.slice(F,ne),F=ne},nd=function(E,O){return Qp(this,null,function*(){try{for(var L=Bw(rc(E)),F,ne,ie;F=!(ne=yield new ro(L.next())).done;F=!1){const fe=ne.value;yield*Zp(sc(fe,O))}}catch(ne){ie=[ne]}finally{try{F&&(ne=L.return)&&(yield new ro(ne.call(L)))}finally{if(ie)throw ie[0]}}})},rc=function(E){return Qp(this,null,function*(){if(E[Symbol.asyncIterator]){yield*Zp(E);return}const O=E.getReader();try{for(;;){const{done:L,value:F}=yield new ro(O.read());if(L)break;yield F}}finally{yield new ro(O.cancel())}})},ca=(E,O,L,F)=>{const ne=nd(E,O);let ie=0,fe,Pe=Le=>{fe||(fe=!0,F&&F(Le))};return new ReadableStream({pull(Le){return pe(this,null,function*(){try{const{done:qe,value:dt}=yield ne.next();if(qe){Pe(),Le.close();return}let tn=dt.byteLength;if(L){let xt=ie+=tn;L(xt)}Le.enqueue(new Uint8Array(dt))}catch(qe){throw Pe(qe),qe}})},cancel(Le){return Pe(Le),ne.return()}},{highWaterMark:2})},Li=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ac=Li&&typeof ReadableStream=="function",Ba=Li&&(typeof TextEncoder=="function"?(E=>O=>E.encode(O))(new TextEncoder):E=>pe(null,null,function*(){return new Uint8Array(yield new Response(E).arrayBuffer())})),sd=(E,...O)=>{try{return!!E(...O)}catch(L){return!1}},rd=ac&&sd(()=>{let E=!1;const O=new Request(we.origin,{body:new ReadableStream,method:"POST",get duplex(){return E=!0,"half"}}).headers.has("Content-Type");return E&&!O}),ic=64*1024,zi=ac&&sd(()=>q.isReadableStream(new Response("").body)),Lo={stream:zi&&(E=>E.body)};Li&&(E=>{["text","arrayBuffer","blob","formData","stream"].forEach(O=>{!Lo[O]&&(Lo[O]=q.isFunction(E[O])?L=>L[O]():(L,F)=>{throw new Se(`Response type '${O}' is not supported`,Se.ERR_NOT_SUPPORT,F)})})})(new Response);const rm=E=>pe(null,null,function*(){if(E==null)return 0;if(q.isBlob(E))return E.size;if(q.isSpecCompliantForm(E))return(yield new Request(we.origin,{method:"POST",body:E}).arrayBuffer()).byteLength;if(q.isArrayBufferView(E)||q.isArrayBuffer(E))return E.byteLength;if(q.isURLSearchParams(E)&&(E=E+""),q.isString(E))return(yield Ba(E)).byteLength}),zo=(E,O)=>pe(null,null,function*(){const L=q.toFiniteNumber(E.getContentLength());return L!=null?L:rm(O)});var oc=Li&&(E=>pe(null,null,function*(){let{url:O,method:L,data:F,signal:ne,cancelToken:ie,timeout:fe,onDownloadProgress:Pe,onUploadProgress:rt,responseType:Le,headers:qe,withCredentials:dt="same-origin",fetchOptions:tn}=Pi(E);Le=Le?(Le+"").toLowerCase():"text";let xt=Os([ne,ie&&ie.toAbortSignal()],fe),it;const Qe=xt&&xt.unsubscribe&&(()=>{xt.unsubscribe()});let rs;try{if(rt&&rd&&L!=="get"&&L!=="head"&&(rs=yield zo(qe,F))!==0){let Fr=new Request(O,{method:"POST",body:F,duplex:"half"}),qa;if(q.isFormData(F)&&(qa=Fr.headers.get("content-type"))&&qe.setContentType(qa),Fr.body){const[Ho,Vo]=dn(rs,cs(_r(rt)));F=ca(Fr.body,ic,Ho,Vo)}}q.isString(dt)||(dt=dt?"include":"omit");const Ln="credentials"in Request.prototype;it=new Request(O,xe(U({},tn),{signal:xt,method:L.toUpperCase(),headers:qe.normalize().toJSON(),body:F,duplex:"half",credentials:Ln?dt:void 0}));let vn=yield fetch(it);const rr=zi&&(Le==="stream"||Le==="response");if(zi&&(Pe||rr&&Qe)){const Fr={};["status","statusText","headers"].forEach(id=>{Fr[id]=vn[id]});const qa=q.toFiniteNumber(vn.headers.get("content-length")),[Ho,Vo]=Pe&&dn(qa,cs(_r(Pe),!0))||[];vn=new Response(ca(vn.body,ic,Ho,()=>{Vo&&Vo(),Qe&&Qe()}),Fr)}Le=Le||"text";let Vi=yield Lo[q.findKey(Lo,Le)||"text"](vn,E);return!rr&&Qe&&Qe(),yield new Promise((Fr,qa)=>{sr(Fr,qa,{data:Vi,headers:ss.from(vn.headers),status:vn.status,statusText:vn.statusText,config:E,request:it})})}catch(Ln){throw Qe&&Qe(),Ln&&Ln.name==="TypeError"&&/fetch/i.test(Ln.message)?Object.assign(new Se("Network Error",Se.ERR_NETWORK,E,it),{cause:Ln.cause||Ln}):Se.from(Ln,Ln&&Ln.code,E,it)}}));const Ui={http:Ue,xhr:sm,fetch:oc};q.forEach(Ui,(E,O)=>{if(E){try{Object.defineProperty(E,"name",{value:O})}catch(L){}Object.defineProperty(E,"adapterName",{value:O})}});const ua=E=>`- ${E}`,Fa=E=>q.isFunction(E)||E===null||E===!1;var lc={getAdapter:E=>{E=q.isArray(E)?E:[E];const{length:O}=E;let L,F;const ne={};for(let ie=0;ie<O;ie++){L=E[ie];let fe;if(F=L,!Fa(L)&&(F=Ui[(fe=String(L)).toLowerCase()],F===void 0))throw new Se(`Unknown adapter '${fe}'`);if(F)break;ne[fe||"#"+ie]=F}if(!F){const ie=Object.entries(ne).map(([Pe,rt])=>`adapter ${Pe} `+(rt===!1?"is not supported by the environment":"is not available in the build"));let fe=O?ie.length>1?`since :
`+ie.map(ua).join(`
`):" "+ua(ie[0]):"as no adapter specified";throw new Se("There is no suitable adapter to dispatch the request "+fe,"ERR_NOT_SUPPORT")}return F},adapters:Ui};function Bi(E){if(E.cancelToken&&E.cancelToken.throwIfRequested(),E.signal&&E.signal.aborted)throw new ms(null,E)}function cc(E){return Bi(E),E.headers=ss.from(E.headers),E.data=tr.call(E,E.transformRequest),["post","put","patch"].indexOf(E.method)!==-1&&E.headers.setContentType("application/x-www-form-urlencoded",!1),lc.getAdapter(E.adapter||Je.adapter)(E).then(function(O){return Bi(E),O.data=tr.call(E,E.transformResponse,O),O.headers=ss.from(O.headers),O},function(O){return nr(O)||(Bi(E),O&&O.response&&(O.response.data=tr.call(E,E.transformResponse,O.response),O.response.headers=ss.from(O.response.headers))),Promise.reject(O)})}const Ha="1.8.2",As={};["object","boolean","number","function","string","symbol"].forEach((E,O)=>{As[E]=function(L){return typeof L===E||"a"+(O<1?"n ":" ")+E}});const Uo={};As.transitional=function(E,O,L){function F(ne,ie){return"[Axios v"+Ha+"] Transitional option '"+ne+"'"+ie+(L?". "+L:"")}return(ne,ie,fe)=>{if(E===!1)throw new Se(F(ie," has been removed"+(O?" in "+O:"")),Se.ERR_DEPRECATED);return O&&!Uo[ie]&&(Uo[ie]=!0,console.warn(F(ie," has been deprecated since v"+O+" and will be removed in the near future"))),E?E(ne,ie,fe):!0}},As.spelling=function(E){return(O,L)=>(console.warn(`${L} is likely a misspelling of ${E}`),!0)};function Fi(E,O,L){if(typeof E!="object")throw new Se("options must be an object",Se.ERR_BAD_OPTION_VALUE);const F=Object.keys(E);let ne=F.length;for(;ne-- >0;){const ie=F[ne],fe=O[ie];if(fe){const Pe=E[ie],rt=Pe===void 0||fe(Pe,ie,E);if(rt!==!0)throw new Se("option "+ie+" must be "+rt,Se.ERR_BAD_OPTION_VALUE);continue}if(L!==!0)throw new Se("Unknown option "+ie,Se.ERR_BAD_OPTION)}}var Vs={assertOptions:Fi,validators:As};const Rs=Vs.validators;class da{constructor(O){this.defaults=O,this.interceptors={request:new nt,response:new nt}}request(O,L){return pe(this,null,function*(){try{return yield this._request(O,L)}catch(F){if(F instanceof Error){let ne={};Error.captureStackTrace?Error.captureStackTrace(ne):ne=new Error;const ie=ne.stack?ne.stack.replace(/^.+\n/,""):"";try{F.stack?ie&&!String(F.stack).endsWith(ie.replace(/^.+\n.+\n/,""))&&(F.stack+=`
`+ie):F.stack=ie}catch(fe){}}throw F}})}_request(O,L){typeof O=="string"?(L=L||{},L.url=O):L=O||{},L=Br(this.defaults,L);const{transitional:F,paramsSerializer:ne,headers:ie}=L;F!==void 0&&Vs.assertOptions(F,{silentJSONParsing:Rs.transitional(Rs.boolean),forcedJSONParsing:Rs.transitional(Rs.boolean),clarifyTimeoutError:Rs.transitional(Rs.boolean)},!1),ne!=null&&(q.isFunction(ne)?L.paramsSerializer={serialize:ne}:Vs.assertOptions(ne,{encode:Rs.function,serialize:Rs.function},!0)),L.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?L.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:L.allowAbsoluteUrls=!0),Vs.assertOptions(L,{baseUrl:Rs.spelling("baseURL"),withXsrfToken:Rs.spelling("withXSRFToken")},!0),L.method=(L.method||this.defaults.method||"get").toLowerCase();let fe=ie&&q.merge(ie.common,ie[L.method]);ie&&q.forEach(["delete","get","head","post","put","patch","common"],it=>{delete ie[it]}),L.headers=ss.concat(fe,ie);const Pe=[];let rt=!0;this.interceptors.request.forEach(function(it){typeof it.runWhen=="function"&&it.runWhen(L)===!1||(rt=rt&&it.synchronous,Pe.unshift(it.fulfilled,it.rejected))});const Le=[];this.interceptors.response.forEach(function(it){Le.push(it.fulfilled,it.rejected)});let qe,dt=0,tn;if(!rt){const it=[cc.bind(this),void 0];for(it.unshift.apply(it,Pe),it.push.apply(it,Le),tn=it.length,qe=Promise.resolve(L);dt<tn;)qe=qe.then(it[dt++],it[dt++]);return qe}tn=Pe.length;let xt=L;for(dt=0;dt<tn;){const it=Pe[dt++],Qe=Pe[dt++];try{xt=it(xt)}catch(rs){Qe.call(this,rs);break}}try{qe=cc.call(this,xt)}catch(it){return Promise.reject(it)}for(dt=0,tn=Le.length;dt<tn;)qe=qe.then(Le[dt++],Le[dt++]);return qe}getUri(O){O=Br(this.defaults,O);const L=td(O.baseURL,O.url,O.allowAbsoluteUrls);return qn(L,O.params,O.paramsSerializer)}}q.forEach(["delete","get","head","options"],function(E){da.prototype[E]=function(O,L){return this.request(Br(L||{},{method:E,url:O,data:(L||{}).data}))}}),q.forEach(["post","put","patch"],function(E){function O(L){return function(F,ne,ie){return this.request(Br(ie||{},{method:E,headers:L?{"Content-Type":"multipart/form-data"}:{},url:F,data:ne}))}}da.prototype[E]=O(),da.prototype[E+"Form"]=O(!0)});var Hi=da;class Va{constructor(O){if(typeof O!="function")throw new TypeError("executor must be a function.");let L;this.promise=new Promise(function(ne){L=ne});const F=this;this.promise.then(ne=>{if(!F._listeners)return;let ie=F._listeners.length;for(;ie-- >0;)F._listeners[ie](ne);F._listeners=null}),this.promise.then=ne=>{let ie;const fe=new Promise(Pe=>{F.subscribe(Pe),ie=Pe}).then(ne);return fe.cancel=function(){F.unsubscribe(ie)},fe},O(function(ne,ie,fe){F.reason||(F.reason=new ms(ne,ie,fe),L(F.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(O){if(this.reason){O(this.reason);return}this._listeners?this._listeners.push(O):this._listeners=[O]}unsubscribe(O){if(!this._listeners)return;const L=this._listeners.indexOf(O);L!==-1&&this._listeners.splice(L,1)}toAbortSignal(){const O=new AbortController,L=F=>{O.abort(F)};return this.subscribe(L),O.signal.unsubscribe=()=>this.unsubscribe(L),O.signal}static source(){let O;return{token:new Va(function(L){O=L}),cancel:O}}}var Bo=Va;function ad(E){return function(O){return E.apply(null,O)}}function ps(E){return q.isObject(E)&&E.isAxiosError===!0}const jr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(jr).forEach(([E,O])=>{jr[O]=E});var Fo=jr;function $a(E){const O=new Hi(E),L=e(Hi.prototype.request,O);return q.extend(L,Hi.prototype,O,{allOwnKeys:!0}),q.extend(L,O,null,{allOwnKeys:!0}),L.create=function(F){return $a(Br(E,F))},L}const Tn=$a(Je);return Tn.Axios=Hi,Tn.CanceledError=ms,Tn.CancelToken=Bo,Tn.isCancel=nr,Tn.VERSION=Ha,Tn.toFormData=Be,Tn.AxiosError=Se,Tn.Cancel=Tn.CanceledError,Tn.all=function(E){return Promise.all(E)},Tn.spread=ad,Tn.isAxiosError=ps,Tn.mergeConfig=Br,Tn.AxiosHeaders=ss,Tn.formToJSON=E=>at(q.isHTMLForm(E)?new FormData(E):E),Tn.getAdapter=lc.getAdapter,Tn.HttpStatusCode=Fo,Tn.default=Tn,ag=Tn,ag}var Jw;function iS(){if(Jw)return Na;Jw=1;var e=Na&&Na.__assign||function(){return e=Object.assign||function(a){for(var o,l=1,d=arguments.length;l<d;l++){o=arguments[l];for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(a[f]=o[f])}return a},e.apply(this,arguments)};Object.defineProperty(Na,"__esModule",{value:!0}),Na.getRequestHeaders=Na.getAxiosClient=void 0;var t=hC();function n(a,o,l,d,f){var h=t.default.create({baseURL:a,headers:s(o,d,l,a,f),withCredentials:!0});return h.interceptors.request.use(function(p){return typeof window<"u"&&window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(p.headers["X-Frappe-CSRF-Token"]=window.csrf_token),o&&d&&l&&(p.headers.Authorization="".concat(d," ").concat(l())),p}),h}Na.getAxiosClient=n;function s(a,o,l,d,f){a===void 0&&(a=!1);var h={Accept:"application/json","Content-Type":"application/json; charset=utf-8"};return a&&o&&l&&(h.Authorization="".concat(o," ").concat(l())),typeof window<"u"&&typeof document<"u"&&(window.location&&(d&&d!==window.location.origin||(h["X-Frappe-Site-Name"]=window.location.hostname)),window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(h["X-Frappe-CSRF-Token"]=window.csrf_token)),e(e({},h),f!=null?f:{})}return Na.getRequestHeaders=s,Na}var e_;function oS(){if(e_)return Cr;e_=1;var e=Cr&&Cr.__assign||function(){return e=Object.assign||function(o){for(var l,d=1,f=arguments.length;d<f;d++){l=arguments[d];for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(o[h]=l[h])}return o},e.apply(this,arguments)},t=Cr&&Cr.__awaiter||function(o,l,d,f){function h(p){return p instanceof d?p:new d(function(x){x(p)})}return new(d||(d=Promise))(function(p,x){function y(_){try{w(f.next(_))}catch(j){x(j)}}function b(_){try{w(f.throw(_))}catch(j){x(j)}}function w(_){_.done?p(_.value):h(_.value).then(y,b)}w((f=f.apply(o,l||[])).next())})},n=Cr&&Cr.__generator||function(o,l){var d={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},f,h,p,x;return x={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function y(w){return function(_){return b([w,_])}}function b(w){if(f)throw new TypeError("Generator is already executing.");for(;x&&(x=0,w[0]&&(d=0)),d;)try{if(f=1,h&&(p=w[0]&2?h.return:w[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,w[1])).done)return p;switch(h=0,p&&(w=[w[0]&2,p.value]),w[0]){case 0:case 1:p=w;break;case 4:return d.label++,{value:w[1],done:!1};case 5:d.label++,h=w[1],w=[0];continue;case 7:w=d.ops.pop(),d.trys.pop();continue;default:if(p=d.trys,!(p=p.length>0&&p[p.length-1])&&(w[0]===6||w[0]===2)){d=0;continue}if(w[0]===3&&(!p||w[1]>p[0]&&w[1]<p[3])){d.label=w[1];break}if(w[0]===6&&d.label<p[1]){d.label=p[1],p=w;break}if(p&&d.label<p[2]){d.label=p[2],d.ops.push(w);break}p[2]&&d.ops.pop(),d.trys.pop();continue}w=l.call(o,d)}catch(_){w=[6,_],h=0}finally{f=p=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}};Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.FrappeFileUpload=void 0;var s=iS(),a=function(){function o(l,d,f,h,p,x){this.appURL=l,this.axios=d,this.useToken=f!=null?f:!1,this.token=h,this.tokenType=p,this.customHeaders=x}return o.prototype.uploadFile=function(l,d,f,h){return h===void 0&&(h="upload_file"),t(this,void 0,void 0,function(){var p,x,y,b,w,_,j,N;return n(this,function(k){return p=new FormData,l&&p.append("file",l,l.name),x=d.isPrivate,y=d.folder,b=d.file_url,w=d.doctype,_=d.docname,j=d.fieldname,N=d.otherData,x&&p.append("is_private","1"),y&&p.append("folder",y),b&&p.append("file_url",b),w&&_&&(p.append("doctype",w),p.append("docname",_),j&&p.append("fieldname",j)),N&&Object.keys(N).forEach(function(C){var R=N[C];p.append(C,R)}),[2,this.axios.post("/api/method/".concat(h),p,{onUploadProgress:function(C){f&&f(C.loaded,C.total,C)},headers:e(e({},(0,s.getRequestHeaders)(this.useToken,this.tokenType,this.token,this.appURL,this.customHeaders)),{"Content-Type":"multipart/form-data"})}).catch(function(C){var R,A;throw e(e({},C.response.data),{httpStatus:C.response.status,httpStatusText:C.response.statusText,message:(R=C.response.data.message)!==null&&R!==void 0?R:"There was an error while uploading the file.",exception:(A=C.response.data.exception)!==null&&A!==void 0?A:""})})]})})},o}();return Cr.FrappeFileUpload=a,Cr}var t_;function mC(){if(t_)return eu;t_=1,Object.defineProperty(eu,"__esModule",{value:!0}),eu.FrappeApp=void 0;var e=lS(),t=rS(),n=aS(),s=oS(),a=iS(),o=function(){function l(d,f,h,p){var x,y;this.url=d,this.name=h!=null?h:"FrappeApp",this.useToken=(x=f==null?void 0:f.useToken)!==null&&x!==void 0?x:!1,this.token=f==null?void 0:f.token,this.tokenType=(y=f==null?void 0:f.type)!==null&&y!==void 0?y:"Bearer",this.customHeaders=p,this.axios=(0,a.getAxiosClient)(this.url,this.useToken,this.token,this.tokenType,this.customHeaders)}return l.prototype.auth=function(){return new e.FrappeAuth(this.url,this.axios,this.useToken,this.token,this.tokenType)},l.prototype.db=function(){return new n.FrappeDB(this.url,this.axios,this.useToken,this.token,this.tokenType)},l.prototype.file=function(){return new s.FrappeFileUpload(this.url,this.axios,this.useToken,this.token,this.tokenType,this.customHeaders)},l.prototype.call=function(){return new t.FrappeCall(this.url,this.axios,this.useToken,this.token,this.tokenType)},l}();return eu.FrappeApp=o,eu}var Or={},n_;function pC(){if(n_)return Or;n_=1;var e=Or&&Or.__assign||function(){return e=Object.assign||function(a){for(var o,l=1,d=arguments.length;l<d;l++){o=arguments[l];for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(a[f]=o[f])}return a},e.apply(this,arguments)},t=Or&&Or.__awaiter||function(a,o,l,d){function f(h){return h instanceof l?h:new l(function(p){p(h)})}return new(l||(l=Promise))(function(h,p){function x(w){try{b(d.next(w))}catch(_){p(_)}}function y(w){try{b(d.throw(w))}catch(_){p(_)}}function b(w){w.done?h(w.value):f(w.value).then(x,y)}b((d=d.apply(a,o||[])).next())})},n=Or&&Or.__generator||function(a,o){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},d,f,h,p;return p={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function x(b){return function(w){return y([b,w])}}function y(b){if(d)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(l=0)),l;)try{if(d=1,f&&(h=b[0]&2?f.return:b[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,b[1])).done)return h;switch(f=0,h&&(b=[b[0]&2,h.value]),b[0]){case 0:case 1:h=b;break;case 4:return l.label++,{value:b[1],done:!1};case 5:l.label++,f=b[1],b=[0];continue;case 7:b=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(b[0]===6||b[0]===2)){l=0;continue}if(b[0]===3&&(!h||b[1]>h[0]&&b[1]<h[3])){l.label=b[1];break}if(b[0]===6&&l.label<h[1]){l.label=h[1],h=b;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(b);break}h[2]&&l.ops.pop(),l.trys.pop();continue}b=o.call(a,l)}catch(w){b=[6,w],f=0}finally{d=h=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}};Object.defineProperty(Or,"__esModule",{value:!0}),Or.FrappeAuth=void 0;var s=function(){function a(o,l,d,f,h){this.appURL=o,this.axios=l,this.useToken=d!=null?d:!1,this.token=f,this.tokenType=h}return a.prototype.loginWithUsernamePassword=function(o){return t(this,void 0,void 0,function(){return n(this,function(l){return[2,this.axios.post("/api/method/login",{usr:o.username,pwd:o.password,otp:o.otp,tmp_id:o.tmp_id,device:o.device}).then(function(d){return d.data}).catch(function(d){var f,h;throw e(e({},d.response.data),{httpStatus:d.response.status,httpStatusText:d.response.statusText,message:(f=d.response.data.message)!==null&&f!==void 0?f:"There was an error while logging in",exception:(h=d.response.data.exception)!==null&&h!==void 0?h:""})})]})})},a.prototype.getLoggedInUser=function(){return t(this,void 0,void 0,function(){return n(this,function(o){return[2,this.axios.get("/api/method/frappe.auth.get_logged_user").then(function(l){return l.data.message}).catch(function(l){var d;throw e(e({},l.response.data),{httpStatus:l.response.status,httpStatusText:l.response.statusText,message:"There was an error while fetching the logged in user",exception:(d=l.response.data.exception)!==null&&d!==void 0?d:""})})]})})},a.prototype.logout=function(){return t(this,void 0,void 0,function(){return n(this,function(o){return[2,this.axios.post("/api/method/logout",{}).then(function(){}).catch(function(l){var d,f;throw e(e({},l.response.data),{httpStatus:l.response.status,httpStatusText:l.response.statusText,message:(d=l.response.data.message)!==null&&d!==void 0?d:"There was an error while logging out",exception:(f=l.response.data.exception)!==null&&f!==void 0?f:""})})]})})},a.prototype.forgetPassword=function(o){return t(this,void 0,void 0,function(){return n(this,function(l){return[2,this.axios.post("/",{cmd:"frappe.core.doctype.user.user.reset_password",user:o}).then(function(){}).catch(function(d){var f,h;throw e(e({},d.response.data),{httpStatus:d.response.status,httpStatusText:d.response.statusText,message:(f=d.response.data.message)!==null&&f!==void 0?f:"There was an error sending password reset email.",exception:(h=d.response.data.exception)!==null&&h!==void 0?h:""})})]})})},a}();return Or.FrappeAuth=s,Or}var s_;function lS(){return s_||(s_=1,function(e){var t=bl&&bl.__createBinding||(Object.create?function(s,a,o,l){l===void 0&&(l=o);var d=Object.getOwnPropertyDescriptor(a,o);(!d||("get"in d?!a.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(s,l,d)}:function(s,a,o,l){l===void 0&&(l=o),s[l]=a[o]}),n=bl&&bl.__exportStar||function(s,a){for(var o in s)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&t(a,s,o)};Object.defineProperty(e,"__esModule",{value:!0}),n(mC(),e),n(pC(),e),n(aS(),e),n(oS(),e),n(rS(),e)}(bl)),bl}var gC=lS(),r_={exports:{}},ig={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function xC(){if(a_)return ig;a_=1;var e=_e;function t(x,y){return x===y&&(x!==0||1/x===1/y)||x!==x&&y!==y}var n=typeof Object.is=="function"?Object.is:t,s=e.useState,a=e.useEffect,o=e.useLayoutEffect,l=e.useDebugValue;function d(x,y){var b=y(),w=s({inst:{value:b,getSnapshot:y}}),_=w[0].inst,j=w[1];return o(function(){_.value=b,_.getSnapshot=y,f(_)&&j({inst:_})},[x,b,y]),a(function(){return f(_)&&j({inst:_}),x(function(){f(_)&&j({inst:_})})},[x]),l(b),b}function f(x){var y=x.getSnapshot;x=x.value;try{var b=y();return!n(x,b)}catch(w){return!0}}function h(x,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return ig.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,ig}var i_;function yC(){return i_||(i_=1,r_.exports=xC()),r_.exports}var bC=yC();const cS=0,uS=1,dS=2,o_=3;var l_=Object.prototype.hasOwnProperty;function e0(e,t){var n,s;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((s=e.length)===t.length)for(;s--&&e0(e[s],t[s]););return s===-1}if(!n||typeof e=="object"){s=0;for(n in e)if(l_.call(e,n)&&++s&&!l_.call(t,n)||!(n in t)||!e0(e[n],t[n]))return!1;return Object.keys(t).length===s}}return e!==e&&t!==t}const Ra=new WeakMap,bi=()=>{},bs=bi(),ch=Object,Ht=e=>e===bs,Rr=e=>typeof e=="function",Pa=(e,t)=>U(U({},e),t),fS=e=>Rr(e.then),og={},cf={},G0="undefined",$u=typeof window!=G0,t0=typeof document!=G0,vC=$u&&"Deno"in window,wC=()=>$u&&typeof window.requestAnimationFrame!=G0,hS=(e,t)=>{const n=Ra.get(e);return[()=>!Ht(t)&&e.get(t)||og,s=>{if(!Ht(t)){const a=e.get(t);t in cf||(cf[t]=a),n[5](t,Pa(a,s),a||og)}},n[6],()=>!Ht(t)&&t in cf?cf[t]:!Ht(t)&&e.get(t)||og]};let n0=!0;const _C=()=>n0,[s0,r0]=$u&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[bi,bi],jC=()=>{const e=t0&&document.visibilityState;return Ht(e)||e!=="hidden"},SC=e=>(t0&&document.addEventListener("visibilitychange",e),s0("focus",e),()=>{t0&&document.removeEventListener("visibilitychange",e),r0("focus",e)}),NC=e=>{const t=()=>{n0=!0,e()},n=()=>{n0=!1};return s0("online",t),s0("offline",n),()=>{r0("online",t),r0("offline",n)}},EC={isOnline:_C,isVisible:jC},TC={initFocus:SC,initReconnect:NC},c_=!_e.useId,Cu=!$u||vC,kC=e=>wC()?window.requestAnimationFrame(e):setTimeout(e,1),$f=Cu?S.useEffect:S.useLayoutEffect,lg=typeof navigator<"u"&&navigator.connection,u_=!Cu&&lg&&(["slow-2g","2g"].includes(lg.effectiveType)||lg.saveData),uf=new WeakMap,cg=(e,t)=>ch.prototype.toString.call(e)===`[object ${t}]`;let CC=0;const a0=e=>{const t=typeof e,n=cg(e,"Date"),s=cg(e,"RegExp"),a=cg(e,"Object");let o,l;if(ch(e)===e&&!n&&!s){if(o=uf.get(e),o)return o;if(o=++CC+"~",uf.set(e,o),Array.isArray(e)){for(o="@",l=0;l<e.length;l++)o+=a0(e[l])+",";uf.set(e,o)}if(a){o="#";const d=ch.keys(e).sort();for(;!Ht(l=d.pop());)Ht(e[l])||(o+=l+":"+a0(e[l])+",");uf.set(e,o)}}else o=n?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return o},K0=e=>{if(Rr(e))try{e=e()}catch(n){e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?a0(e):"",[e,t]};let OC=0;const i0=()=>++OC;function mS(...e){return pe(this,null,function*(){const[t,n,s,a]=e,o=Pa({populateCache:!0,throwOnError:!0},typeof a=="boolean"?{revalidate:a}:a||{});let l=o.populateCache;const d=o.rollbackOnError;let f=o.optimisticData;const h=y=>typeof d=="function"?d(y):d!==!1,p=o.throwOnError;if(Rr(n)){const y=n,b=[],w=t.keys();for(const _ of w)!/^\$(inf|sub)\$/.test(_)&&y(t.get(_)._k)&&b.push(_);return Promise.all(b.map(x))}return x(n);function x(y){return pe(this,null,function*(){const[b]=K0(y);if(!b)return;const[w,_]=hS(t,b),[j,N,k,C]=Ra.get(t),R=()=>{const le=j[b];return(Rr(o.revalidate)?o.revalidate(w().data,y):o.revalidate!==!1)&&(delete k[b],delete C[b],le&&le[0])?le[0](dS).then(()=>w().data):w().data};if(e.length<3)return R();let A=s,M;const z=i0();N[b]=[z,0];const P=!Ht(f),V=w(),te=V.data,$=V._c,Z=Ht($)?te:$;if(P&&(f=Rr(f)?f(Z,te):f,_({data:f,_c:Z})),Rr(A))try{A=A(Z)}catch(le){M=le}if(A&&fS(A))if(A=yield A.catch(le=>{M=le}),z!==N[b][0]){if(M)throw M;return A}else M&&P&&h(M)&&(l=!0,_({data:Z,_c:bs}));if(l&&!M)if(Rr(l)){const le=l(A,Z);_({data:le,error:bs,_c:bs})}else _({data:A,error:bs,_c:bs});if(N[b][1]=i0(),Promise.resolve(R()).then(()=>{_({_c:bs})}),M){if(p)throw M;return}return A})}})}const d_=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},pS=(e,t)=>{if(!Ra.has(e)){const n=Pa(TC,t),s=Object.create(null),a=mS.bind(bs,e);let o=bi;const l=Object.create(null),d=(p,x)=>{const y=l[p]||[];return l[p]=y,y.push(x),()=>y.splice(y.indexOf(x),1)},f=(p,x,y)=>{e.set(p,x);const b=l[p];if(b)for(const w of b)w(x,y)},h=()=>{if(!Ra.has(e)&&(Ra.set(e,[s,Object.create(null),Object.create(null),Object.create(null),a,f,d]),!Cu)){const p=n.initFocus(setTimeout.bind(bs,d_.bind(bs,s,cS))),x=n.initReconnect(setTimeout.bind(bs,d_.bind(bs,s,uS)));o=()=>{p&&p(),x&&x(),Ra.delete(e)}}};return h(),[e,a,h,o]}return[e,Ra.get(e)[4]]},AC=(e,t,n,s,a)=>{const o=n.errorRetryCount,l=a.retryCount,d=~~((Math.random()+.5)*(1<<(l<8?l:8)))*n.errorRetryInterval;!Ht(o)&&l>o||setTimeout(s,d,a)},RC=e0,[Q0,MC]=pS(new Map),gS=Pa({onLoadingSlow:bi,onSuccess:bi,onError:bi,onErrorRetry:AC,onDiscarded:bi,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:u_?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:u_?5e3:3e3,compare:RC,isPaused:()=>!1,cache:Q0,mutate:MC,fallback:{}},EC),xS=(e,t)=>{const n=Pa(e,t);if(t){const{use:s,fallback:a}=e,{use:o,fallback:l}=t;s&&o&&(n.use=s.concat(o)),a&&l&&(n.fallback=Pa(a,l))}return n},o0=S.createContext({}),DC=e=>{const{value:t}=e,n=S.useContext(o0),s=Rr(t),a=S.useMemo(()=>s?t(n):t,[s,n,t]),o=S.useMemo(()=>s?a:xS(n,a),[s,n,a]),l=a&&a.provider,d=S.useRef(bs);l&&!d.current&&(d.current=pS(l(o.cache||Q0),a));const f=d.current;return f&&(o.cache=f[0],o.mutate=f[1]),$f(()=>{if(f)return f[2]&&f[2](),f[3]},[]),S.createElement(o0.Provider,Pa(e,{value:o}))},PC="$inf$",yS=$u&&window.__SWR_DEVTOOLS_USE__,LC=yS?window.__SWR_DEVTOOLS_USE__:[],zC=()=>{yS&&(window.__SWR_DEVTOOLS_REACT__=_e)},UC=e=>Rr(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],BC=()=>Pa(gS,S.useContext(o0)),FC=e=>(t,n,s)=>e(t,n&&((...a)=>{const[o]=K0(t),[,,,l]=Ra.get(Q0);if(o.startsWith(PC))return n(...a);const d=l[o];return Ht(d)?n(...a):(delete l[o],d)}),s),HC=LC.concat(FC),VC=e=>function(...t){const n=BC(),[s,a,o]=UC(t),l=xS(n,o);let d=e;const{use:f}=l,h=(f||[]).concat(HC);for(let p=h.length;p--;)d=h[p](d);return d(s,a||l.fetcher||null,l)},$C=(e,t,n)=>{const s=t[e]||(t[e]=[]);return s.push(n),()=>{const a=s.indexOf(n);a>=0&&(s[a]=s[s.length-1],s.pop())}};zC();const ug=_e.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),dg={dedupe:!0},qC=(e,t,n)=>{const{cache:s,compare:a,suspense:o,fallbackData:l,revalidateOnMount:d,revalidateIfStale:f,refreshInterval:h,refreshWhenHidden:p,refreshWhenOffline:x,keepPreviousData:y}=n,[b,w,_,j]=Ra.get(s),[N,k]=K0(e),C=S.useRef(!1),R=S.useRef(!1),A=S.useRef(N),M=S.useRef(t),z=S.useRef(n),P=()=>z.current,V=()=>P().isVisible()&&P().isOnline(),[te,$,Z,le]=hS(s,N),J=S.useRef({}).current,I=Ht(l)?Ht(n.fallback)?bs:n.fallback[N]:l,B=(lt,yt)=>{for(const De in J){const mt=De;if(mt==="data"){if(!a(lt[mt],yt[mt])&&(!Ht(lt[mt])||!a(ke,yt[mt])))return!1}else if(yt[mt]!==lt[mt])return!1}return!0},Y=S.useMemo(()=>{const lt=!N||!t?!1:Ht(d)?P().isPaused()||o?!1:f!==!1:d,yt=Xt=>{const W=Pa(Xt);return delete W._k,lt?U({isValidating:!0,isLoading:!0},W):W},De=te(),mt=le(),Yt=yt(De),Ct=De===mt?Yt:yt(mt);let It=Yt;return[()=>{const Xt=yt(te());return B(Xt,It)?(It.data=Xt.data,It.isLoading=Xt.isLoading,It.isValidating=Xt.isValidating,It.error=Xt.error,It):(It=Xt,Xt)},()=>Ct]},[s,N]),Q=bC.useSyncExternalStore(S.useCallback(lt=>Z(N,(yt,De)=>{B(De,yt)||lt()}),[s,N]),Y[0],Y[1]),ve=!C.current,H=b[N]&&b[N].length>0,ae=Q.data,ye=Ht(ae)?I&&fS(I)?ug(I):I:ae,X=Q.error,he=S.useRef(ye),ke=y?Ht(ae)?Ht(he.current)?ye:he.current:ae:ye,be=H&&!Ht(X)?!1:ve&&!Ht(d)?d:P().isPaused()?!1:o?Ht(ye)?!1:f:Ht(ye)||f,Ce=!!(N&&t&&ve&&be),ze=Ht(Q.isValidating)?Ce:Q.isValidating,tt=Ht(Q.isLoading)?Ce:Q.isLoading,Ve=S.useCallback(lt=>pe(null,null,function*(){const yt=M.current;if(!N||!yt||R.current||P().isPaused())return!1;let De,mt,Yt=!0;const Ct=lt||{},It=!_[N]||!Ct.dedupe,Xt=()=>c_?!R.current&&N===A.current&&C.current:N===A.current,W={isValidating:!1,isLoading:!1},oe=()=>{$(W)},q=()=>{const Re=_[N];Re&&Re[1]===mt&&delete _[N]},Se={isValidating:!0};Ht(te().data)&&(Se.isLoading=!0);try{if(It&&($(Se),n.loadingTimeout&&Ht(te().data)&&setTimeout(()=>{Yt&&Xt()&&P().onLoadingSlow(N,n)},n.loadingTimeout),_[N]=[yt(k),i0()]),[De,mt]=_[N],De=yield De,It&&setTimeout(q,n.dedupingInterval),!_[N]||_[N][1]!==mt)return It&&Xt()&&P().onDiscarded(N),!1;W.error=bs;const Re=w[N];if(!Ht(Re)&&(mt<=Re[0]||mt<=Re[1]||Re[1]===0))return oe(),It&&Xt()&&P().onDiscarded(N),!1;const Oe=te().data;W.data=a(Oe,De)?Oe:De,It&&Xt()&&P().onSuccess(De,N,n)}catch(Re){q();const Oe=P(),{shouldRetryOnError:Ue}=Oe;Oe.isPaused()||(W.error=Re,It&&Xt()&&(Oe.onError(Re,N,Oe),(Ue===!0||Rr(Ue)&&Ue(Re))&&(!P().revalidateOnFocus||!P().revalidateOnReconnect||V())&&Oe.onErrorRetry(Re,N,Oe,$e=>{const Ke=b[N];Ke&&Ke[0]&&Ke[0](o_,$e)},{retryCount:(Ct.retryCount||0)+1,dedupe:!0})))}return Yt=!1,oe(),!0}),[N,s]),Et=S.useCallback((...lt)=>mS(s,A.current,...lt),[]);if($f(()=>{M.current=t,z.current=n,Ht(ae)||(he.current=ae)}),$f(()=>{if(!N)return;const lt=Ve.bind(bs,dg);let yt=0;P().revalidateOnFocus&&(yt=Date.now()+P().focusThrottleInterval);const De=$C(N,b,(mt,Yt={})=>{if(mt==cS){const Ct=Date.now();P().revalidateOnFocus&&Ct>yt&&V()&&(yt=Ct+P().focusThrottleInterval,lt())}else if(mt==uS)P().revalidateOnReconnect&&V()&&lt();else{if(mt==dS)return Ve();if(mt==o_)return Ve(Yt)}});return R.current=!1,A.current=N,C.current=!0,$({_k:k}),be&&(Ht(ye)||Cu?lt():kC(lt)),()=>{R.current=!0,De()}},[N]),$f(()=>{let lt;function yt(){const mt=Rr(h)?h(te().data):h;mt&&lt!==-1&&(lt=setTimeout(De,mt))}function De(){!te().error&&(p||P().isVisible())&&(x||P().isOnline())?Ve(dg).then(yt):yt()}return yt(),()=>{lt&&(clearTimeout(lt),lt=-1)}},[h,p,x,N]),S.useDebugValue(ke),o&&Ht(ye)&&N){if(!c_&&Cu)throw new Error("Fallback data is required when using Suspense in SSR.");M.current=t,z.current=n,R.current=!1;const lt=j[N];if(!Ht(lt)){const yt=Et(lt);ug(yt)}if(Ht(X)){const yt=Ve(dg);Ht(ke)||(yt.status="fulfilled",yt.value=!0),ug(yt)}else throw X}return{mutate:Et,get data(){return J.data=!0,ke},get error(){return J.error=!0,X},get isValidating(){return J.isValidating=!0,ze},get isLoading(){return J.isLoading=!0,tt}}},YC=ch.defineProperty(DC,"defaultValue",{value:gS}),Mh=VC(qC);Promise.resolve();const sa=Object.create(null);sa.open="0";sa.close="1";sa.ping="2";sa.pong="3";sa.message="4";sa.upgrade="5";sa.noop="6";const qf=Object.create(null);Object.keys(sa).forEach(e=>{qf[sa[e]]=e});const l0={type:"error",data:"parser error"},bS=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",vS=typeof ArrayBuffer=="function",wS=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Z0=({type:e,data:t},n,s)=>bS&&t instanceof Blob?n?s(t):f_(t,s):vS&&(t instanceof ArrayBuffer||wS(t))?n?s(t):f_(new Blob([t]),s):s(sa[e]+(t||"")),f_=(e,t)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];t("b"+(s||""))},n.readAsDataURL(e)};function h_(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let fg;function IC(e,t){if(bS&&e.data instanceof Blob)return e.data.arrayBuffer().then(h_).then(t);if(vS&&(e.data instanceof ArrayBuffer||wS(e.data)))return t(h_(e.data));Z0(e,!1,n=>{fg||(fg=new TextEncoder),t(fg.encode(n))})}const m_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<m_.length;e++)gu[m_.charCodeAt(e)]=e;const WC=e=>{let t=e.length*.75,n=e.length,s,a=0,o,l,d,f;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const h=new ArrayBuffer(t),p=new Uint8Array(h);for(s=0;s<n;s+=4)o=gu[e.charCodeAt(s)],l=gu[e.charCodeAt(s+1)],d=gu[e.charCodeAt(s+2)],f=gu[e.charCodeAt(s+3)],p[a++]=o<<2|l>>4,p[a++]=(l&15)<<4|d>>2,p[a++]=(d&3)<<6|f&63;return h},XC=typeof ArrayBuffer=="function",J0=(e,t)=>{if(typeof e!="string")return{type:"message",data:_S(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:GC(e.substring(1),t)}:qf[n]?e.length>1?{type:qf[n],data:e.substring(1)}:{type:qf[n]}:l0},GC=(e,t)=>{if(XC){const n=WC(e);return _S(n,t)}else return{base64:!0,data:e}},_S=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},jS="",KC=(e,t)=>{const n=e.length,s=new Array(n);let a=0;e.forEach((o,l)=>{Z0(o,!1,d=>{s[l]=d,++a===n&&t(s.join(jS))})})},QC=(e,t)=>{const n=e.split(jS),s=[];for(let a=0;a<n.length;a++){const o=J0(n[a],t);if(s.push(o),o.type==="error")break}return s};function ZC(){return new TransformStream({transform(e,t){IC(e,n=>{const s=n.length;let a;if(s<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,s);else if(s<65536){a=new Uint8Array(3);const o=new DataView(a.buffer);o.setUint8(0,126),o.setUint16(1,s)}else{a=new Uint8Array(9);const o=new DataView(a.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(s))}e.data&&typeof e.data!="string"&&(a[0]|=128),t.enqueue(a),t.enqueue(n)})}})}let hg;function df(e){return e.reduce((t,n)=>t+n.length,0)}function ff(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let s=0;for(let a=0;a<t;a++)n[a]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),n}function JC(e,t){hg||(hg=new TextDecoder);const n=[];let s=0,a=-1,o=!1;return new TransformStream({transform(l,d){for(n.push(l);;){if(s===0){if(df(n)<1)break;const f=ff(n,1);o=(f[0]&128)===128,a=f[0]&127,a<126?s=3:a===126?s=1:s=2}else if(s===1){if(df(n)<2)break;const f=ff(n,2);a=new DataView(f.buffer,f.byteOffset,f.length).getUint16(0),s=3}else if(s===2){if(df(n)<8)break;const f=ff(n,8),h=new DataView(f.buffer,f.byteOffset,f.length),p=h.getUint32(0);if(p>Math.pow(2,21)-1){d.enqueue(l0);break}a=p*Math.pow(2,32)+h.getUint32(4),s=3}else{if(df(n)<a)break;const f=ff(n,a);d.enqueue(J0(o?f:hg.decode(f),t)),s=0}if(a===0||a>e){d.enqueue(l0);break}}}})}const SS=4;function Hn(e){if(e)return eO(e)}function eO(e){for(var t in Hn.prototype)e[t]=Hn.prototype[t];return e}Hn.prototype.on=Hn.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Hn.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};Hn.prototype.off=Hn.prototype.removeListener=Hn.prototype.removeAllListeners=Hn.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var s,a=0;a<n.length;a++)if(s=n[a],s===t||s.fn===t){n.splice(a,1);break}return n.length===0&&delete this._callbacks["$"+e],this};Hn.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,a=n.length;s<a;++s)n[s].apply(this,t)}return this};Hn.prototype.emitReserved=Hn.prototype.emit;Hn.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Hn.prototype.hasListeners=function(e){return!!this.listeners(e).length};const mr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function NS(e,...t){return t.reduce((n,s)=>(e.hasOwnProperty(s)&&(n[s]=e[s]),n),{})}const tO=mr.setTimeout,nO=mr.clearTimeout;function Dh(e,t){t.useNativeTimers?(e.setTimeoutFn=tO.bind(mr),e.clearTimeoutFn=nO.bind(mr)):(e.setTimeoutFn=mr.setTimeout.bind(mr),e.clearTimeoutFn=mr.clearTimeout.bind(mr))}const sO=1.33;function rO(e){return typeof e=="string"?aO(e):Math.ceil((e.byteLength||e.size)*sO)}function aO(e){let t=0,n=0;for(let s=0,a=e.length;s<a;s++)t=e.charCodeAt(s),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(s++,n+=4);return n}function iO(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function oO(e){let t={},n=e.split("&");for(let s=0,a=n.length;s<a;s++){let o=n[s].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}class lO extends Error{constructor(t,n,s){super(t),this.description=n,this.context=s,this.type="TransportError"}}class ex extends Hn{constructor(t){super(),this.writable=!1,Dh(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,s){return super.emitReserved("error",new lO(t,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=J0(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=iO(t);return n.length?"?"+n:""}}const ES="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),c0=64,cO={};let p_=0,hf=0,g_;function x_(e){let t="";do t=ES[e%c0]+t,e=Math.floor(e/c0);while(e>0);return t}function TS(){const e=x_(+new Date);return e!==g_?(p_=0,g_=e):e+"."+x_(p_++)}for(;hf<c0;hf++)cO[ES[hf]]=hf;let kS=!1;try{kS=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(e){}const uO=kS;function CS(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||uO))return new XMLHttpRequest}catch(n){}if(!t)try{return new mr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(n){}}function dO(){}const fO=function(){return new CS({xdomain:!1}).responseType!=null}();class hO extends ex{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const s=location.protocol==="https:";let a=location.port;a||(a=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||a!==t.port}const n=t&&t.forceBase64;this.supportsBinary=fO&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let s=0;this.polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};QC(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,KC(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=TS()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Rl(this.uri(),t)}doWrite(t,n){const s=this.request({method:"POST",data:t});s.on("success",n),s.on("error",(a,o)=>{this.onError("xhr post error",a,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=t}}let Rl=class Yf extends Hn{constructor(t,n){super(),Dh(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=NS(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const s=this.xhr=new CS(n);try{s.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let a in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(a)&&s.setRequestHeader(a,this.opts.extraHeaders[a])}}catch(a){}if(this.method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(a){}try{s.setRequestHeader("Accept","*/*")}catch(a){}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(s.timeout=this.opts.requestTimeout),s.onreadystatechange=()=>{var a;s.readyState===3&&((a=this.opts.cookieJar)===null||a===void 0||a.parseCookies(s)),s.readyState===4&&(s.status===200||s.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof s.status=="number"?s.status:0)},0))},s.send(this.data)}catch(a){this.setTimeoutFn(()=>{this.onError(a)},0);return}typeof document<"u"&&(this.index=Yf.requestsCount++,Yf.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=dO,t)try{this.xhr.abort()}catch(n){}typeof document<"u"&&delete Yf.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};Rl.requestsCount=0;Rl.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",y_);else if(typeof addEventListener=="function"){const e="onpagehide"in mr?"pagehide":"unload";addEventListener(e,y_,!1)}}function y_(){for(let e in Rl.requests)Rl.requests.hasOwnProperty(e)&&Rl.requests[e].abort()}const tx=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),mf=mr.WebSocket||mr.MozWebSocket,b_=!0,mO="arraybuffer",v_=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class pO extends ex{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,s=v_?{}:NS(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=b_&&!v_?n?new mf(t,n):new mf(t):new mf(t,n,s)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],a=n===t.length-1;Z0(s,this.supportsBinary,o=>{try{b_&&this.ws.send(o)}catch(l){}a&&tx(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=TS()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!mf}}class gO extends ex{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=JC(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(n).getReader(),a=ZC();a.readable.pipeTo(t.writable),this.writer=a.writable.getWriter();const o=()=>{s.read().then(({done:d,value:f})=>{d||(this.onPacket(f),o())}).catch(d=>{})};o();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this.writer.write(l).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],a=n===t.length-1;this.writer.write(s).then(()=>{a&&tx(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const xO={websocket:pO,webtransport:gO,polling:hO},yO=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,bO=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function u0(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),s=e.indexOf("]");n!=-1&&s!=-1&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));let a=yO.exec(e||""),o={},l=14;for(;l--;)o[bO[l]]=a[l]||"";return n!=-1&&s!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=vO(o,o.path),o.queryKey=wO(o,o.query),o}function vO(e,t){const n=/\/{2,9}/g,s=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&s.splice(0,1),t.slice(-1)=="/"&&s.splice(s.length-1,1),s}function wO(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,a,o){a&&(n[a]=o)}),n}let OS=class kl extends Hn{constructor(t,n={}){super(),this.binaryType=mO,this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=u0(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=u0(n.host).host),Dh(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=oO(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=SS,n.transport=t,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new xO[t](s)}open(){let t;if(this.opts.rememberUpgrade&&kl.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch(n){this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),s=!1;kl.priorWebsocketSuccess=!1;const a=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",x=>{if(!s)if(x.type==="pong"&&x.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;kl.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(p(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const y=new Error("probe error");y.transport=n.name,this.emitReserved("upgradeError",y)}}))};function o(){s||(s=!0,p(),n.close(),n=null)}const l=x=>{const y=new Error("probe error: "+x);y.transport=n.name,o(),this.emitReserved("upgradeError",y)};function d(){l("transport closed")}function f(){l("socket closed")}function h(x){n&&x.name!==n.name&&o()}const p=()=>{n.removeListener("open",a),n.removeListener("error",l),n.removeListener("close",d),this.off("close",f),this.off("upgrading",h)};n.once("open",a),n.once("error",l),n.once("close",d),this.once("close",f),this.once("upgrading",h),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onOpen(){if(this.readyState="open",kl.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(t+=rO(s)),n>0&&t>this.maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}write(t,n,s){return this.sendPacket("message",t,n,s),this}send(t,n,s){return this.sendPacket("message",t,n,s),this}sendPacket(t,n,s,a){if(typeof n=="function"&&(a=n,n=void 0),typeof s=="function"&&(a=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const o={type:t,data:n,options:s};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),a&&this.once("flush",a),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}onError(t){kl.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let s=0;const a=t.length;for(;s<a;s++)~this.transports.indexOf(t[s])&&n.push(t[s]);return n}};OS.protocol=SS;function _O(e,t="",n){let s=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),s=u0(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const a=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+a+":"+s.port+t,s.href=s.protocol+"://"+a+(n&&n.port===s.port?"":":"+s.port),s}const jO=typeof ArrayBuffer=="function",SO=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,AS=Object.prototype.toString,NO=typeof Blob=="function"||typeof Blob<"u"&&AS.call(Blob)==="[object BlobConstructor]",EO=typeof File=="function"||typeof File<"u"&&AS.call(File)==="[object FileConstructor]";function nx(e){return jO&&(e instanceof ArrayBuffer||SO(e))||NO&&e instanceof Blob||EO&&e instanceof File}function If(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,s=e.length;n<s;n++)if(If(e[n]))return!0;return!1}if(nx(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return If(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&If(e[n]))return!0;return!1}function TO(e){const t=[],n=e.data,s=e;return s.data=d0(n,t),s.attachments=t.length,{packet:s,buffers:t}}function d0(e,t){if(!e)return e;if(nx(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let s=0;s<e.length;s++)n[s]=d0(e[s],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=d0(e[s],t));return n}return e}function kO(e,t){return e.data=f0(e.data,t),delete e.attachments,e}function f0(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=f0(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=f0(e[n],t));return e}const CO=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],OO=5;var Ut;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Ut||(Ut={}));class AO{constructor(t){this.replacer=t}encode(t){return(t.type===Ut.EVENT||t.type===Ut.ACK)&&If(t)?this.encodeAsBinary({type:t.type===Ut.EVENT?Ut.BINARY_EVENT:Ut.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===Ut.BINARY_EVENT||t.type===Ut.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=TO(t),s=this.encodeAsString(n.packet),a=n.buffers;return a.unshift(s),a}}function w_(e){return Object.prototype.toString.call(e)==="[object Object]"}class sx extends Hn{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const s=n.type===Ut.BINARY_EVENT;s||n.type===Ut.BINARY_ACK?(n.type=s?Ut.EVENT:Ut.ACK,this.reconstructor=new RO(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(nx(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const s={type:Number(t.charAt(0))};if(Ut[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===Ut.BINARY_EVENT||s.type===Ut.BINARY_ACK){const o=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const l=t.substring(o,n);if(l!=Number(l)||t.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(l)}if(t.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););s.nsp=t.substring(o,n)}else s.nsp="/";const a=t.charAt(n+1);if(a!==""&&Number(a)==a){const o=n+1;for(;++n;){const l=t.charAt(n);if(l==null||Number(l)!=l){--n;break}if(n===t.length)break}s.id=Number(t.substring(o,n+1))}if(t.charAt(++n)){const o=this.tryParse(t.substr(n));if(sx.isPayloadValid(s.type,o))s.data=o;else throw new Error("invalid payload")}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(n){return!1}}static isPayloadValid(t,n){switch(t){case Ut.CONNECT:return w_(n);case Ut.DISCONNECT:return n===void 0;case Ut.CONNECT_ERROR:return typeof n=="string"||w_(n);case Ut.EVENT:case Ut.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&CO.indexOf(n[0])===-1);case Ut.ACK:case Ut.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class RO{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=kO(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const MO=Object.freeze(Object.defineProperty({__proto__:null,Decoder:sx,Encoder:AO,get PacketType(){return Ut},protocol:OO},Symbol.toStringTag,{value:"Module"}));function Ar(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const DO=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class RS extends Hn{constructor(t,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Ar(t,"open",this.onopen.bind(this)),Ar(t,"packet",this.onpacket.bind(this)),Ar(t,"error",this.onerror.bind(this)),Ar(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(DO.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const s={type:Ut.EVENT,data:n};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const o=this.ids++,l=n.pop();this._registerAckCallback(o,l),s.id=o}const a=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!a||!this.connected)||(this.connected?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,n){var s;const a=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(a===void 0){this.acks[t]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},a);this.acks[t]=(...l)=>{this.io.clearTimeoutFn(o),n.apply(this,[null,...l])}}emitWithAck(t,...n){const s=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((a,o)=>{n.push((l,d)=>s?l?o(l):a(d):a(l)),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((a,...o)=>s!==this._queue[0]?void 0:(a!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(a)):(this._queue.shift(),n&&n(null,...o)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Ut.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Ut.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ut.EVENT:case Ut.BINARY_EVENT:this.onevent(t);break;case Ut.ACK:case Ut.BINARY_ACK:this.onack(t);break;case Ut.DISCONNECT:this.ondisconnect();break;case Ut.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let s=!1;return function(...a){s||(s=!0,n.packet({type:Ut.ACK,id:t,data:a}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(n.apply(this,t.data),delete this.acks[t.id])}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ut.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,t.data)}}}function Yl(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Yl.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-n:e+n}return Math.min(e,this.max)|0};Yl.prototype.reset=function(){this.attempts=0};Yl.prototype.setMin=function(e){this.ms=e};Yl.prototype.setMax=function(e){this.max=e};Yl.prototype.setJitter=function(e){this.jitter=e};class h0 extends Hn{constructor(t,n){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Dh(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new Yl({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const a=n.parser||MO;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new OS(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const a=Ar(n,"open",function(){s.onopen(),t&&t()}),o=d=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",d),t?t(d):this.maybeReconnectOnOpen()},l=Ar(n,"error",o);if(this._timeout!==!1){const d=this._timeout,f=this.setTimeoutFn(()=>{a(),o(new Error("timeout")),n.close()},d);this.opts.autoUnref&&f.unref(),this.subs.push(()=>{this.clearTimeoutFn(f)})}return this.subs.push(a),this.subs.push(l),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Ar(t,"ping",this.onping.bind(this)),Ar(t,"data",this.ondata.bind(this)),Ar(t,"error",this.onerror.bind(this)),Ar(t,"close",this.onclose.bind(this)),Ar(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){tx(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new RS(this,t,n),this.nsps[t]=s),s}_destroy(t){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let s=0;s<n.length;s++)this.engine.write(n[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(a=>{a?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",a)):t.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const tu={};function Wf(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=_O(e,t.path||"/socket.io"),s=n.source,a=n.id,o=n.path,l=tu[a]&&o in tu[a].nsps,d=t.forceNew||t["force new connection"]||t.multiplex===!1||l;let f;return d?f=new h0(s,t):(tu[a]||(tu[a]=new h0(s,t)),f=tu[a]),n.query&&!t.query&&(t.query=n.queryKey),f.socket(n.path,t)}Object.assign(Wf,{Manager:h0,Socket:RS,io:Wf,connect:Wf});class PO{constructor(t,n,s,a){ao(this,"socket_port"),ao(this,"host"),ao(this,"port"),ao(this,"protocol"),ao(this,"url"),ao(this,"site_name"),ao(this,"socket");var o,l,d,f;if(this.socket_port=s!=null?s:"9000",this.host=(o=window.location)==null?void 0:o.hostname,this.port=(l=window.location)!=null&&l.port?`:${this.socket_port}`:"",this.protocol=((d=window.location)==null?void 0:d.protocol)==="https:"?"https":"http",t){let h=new URL(t);h.port="",s?(h.port=s,this.url=h.toString()):this.url=h.toString()}else this.url=`${this.protocol}://${this.host}${this.port}/`;n&&(this.url=`${this.url}${n}`),this.site_name=n,this.socket=Wf(`${this.url}`,{withCredentials:!0,secure:this.protocol==="https",extraHeaders:a&&a.useToken===!0?{Authorization:`${a.type} ${(f=a.token)==null?void 0:f.call(a)}`}:{}})}}const Ua=S.createContext(null),LO=({url:e="",tokenParams:t,socketPort:n,swrConfig:s,siteName:a,enableSocket:o=!0,children:l,customHeaders:d})=>{const f=S.useMemo(()=>{const h=new gC.FrappeApp(e,t,void 0,d);return{url:e,tokenParams:t,app:h,auth:h.auth(),db:h.db(),call:h.call(),file:h.file(),socket:o?new PO(e,a,n,t).socket:void 0,enableSocket:o,socketPort:n}},[e,t,n,o,d]);return u.jsx(Ua.Provider,{value:f,children:u.jsx(YC,{value:s,children:l})})},Ou=e=>{const{url:t,auth:n,tokenParams:s}=S.useContext(Ua),[a,o]=S.useState(),l=S.useCallback(()=>{const w=document.cookie.split(";").find(_=>_.trim().startsWith("user_id="));if(w){const _=w.split("=")[1];o(_&&_!=="Guest"?_:null)}else o(null)},[]);S.useEffect(()=>{s&&s.useToken?o(null):l()},[]);const{data:d,error:f,isLoading:h,isValidating:p,mutate:x}=Mh(()=>s&&s.useToken||a?`${t}/api/method/frappe.auth.get_logged_user`:null,()=>n.getLoggedInUser(),U({onError:()=>{o(null)},shouldRetryOnError:!1,revalidateOnFocus:!1},e)),y=S.useCallback(w=>pe(null,null,function*(){return n.loginWithUsernamePassword(w).then(_=>(l(),_))}),[]),b=S.useCallback(()=>pe(null,null,function*(){return n.logout().then(()=>x(null)).then(()=>o(null))}),[]);return{isLoading:a===void 0||h,currentUser:d,isValidating:p,error:f,login:y,logout:b,updateCurrentUser:x,getUserCookie:l}},MS=(e,t,n)=>{let s=`${t}/api/resource/`;return n?s+=`${e}/${n}`:s+=`${e}`,s},Jn=(e,t,n,s)=>{const{url:a,db:o}=S.useContext(Ua);return Mh(n===void 0?MS(e,a,t):n,()=>o.getDoc(e,t),s)},zO=e=>{var a;var t,n;let s="";if(e!=null&&e.fields&&(s+="fields="+JSON.stringify(e==null?void 0:e.fields)+"&"),e!=null&&e.filters&&(s+="filters="+JSON.stringify(e==null?void 0:e.filters)+"&"),e!=null&&e.orFilters&&(s+="or_filters="+JSON.stringify(e==null?void 0:e.orFilters)+"&"),e!=null&&e.limit_start&&(s+="limit_start="+JSON.stringify(e==null?void 0:e.limit_start)+"&"),e!=null&&e.limit&&(s+="limit="+JSON.stringify(e==null?void 0:e.limit)+"&"),e!=null&&e.groupBy&&(s+="group_by="+String(e.groupBy)+"&"),e!=null&&e.orderBy){const o=`${String((t=e.orderBy)==null?void 0:t.field)} ${(a=(n=e.orderBy)==null?void 0:n.order)!=null?a:"asc"}`;s+="order_by="+o+"&"}return e!=null&&e.asDict&&(s+="as_dict="+e.asDict),s},yn=(e,t,n,s)=>{const{url:a,db:o}=S.useContext(Ua);return Mh(n===void 0?`${MS(e,a)}?${zO(t)}`:n,()=>o.getDocList(e,t),s)},Ao=()=>{const{db:e}=S.useContext(Ua),[t,n]=S.useState(!1),[s,a]=S.useState(null),[o,l]=S.useState(!1),d=S.useCallback(()=>{n(!1),a(null),l(!1)},[]);return{createDoc:S.useCallback((f,h)=>pe(null,null,function*(){return a(null),l(!1),n(!0),e.createDoc(f,h).then(p=>(n(!1),l(!0),p)).catch(p=>{throw n(!1),l(!1),a(p),p})}),[]),loading:t,error:s,isCompleted:o,reset:d}},Fs=()=>{const{db:e}=S.useContext(Ua),[t,n]=S.useState(!1),[s,a]=S.useState(null),[o,l]=S.useState(!1),d=S.useCallback(()=>{n(!1),a(null),l(!1)},[]);return{updateDoc:S.useCallback((f,h,p)=>pe(null,null,function*(){return a(null),l(!1),n(!0),e.updateDoc(f,h,p).then(x=>(n(!1),l(!0),x)).catch(x=>{throw n(!1),l(!1),a(x),x})}),[]),loading:t,error:s,reset:d,isCompleted:o}},Ph=()=>{const{db:e}=S.useContext(Ua),[t,n]=S.useState(!1),[s,a]=S.useState(null),[o,l]=S.useState(!1),d=S.useCallback(()=>{n(!1),a(null),l(!1)},[]);return{deleteDoc:S.useCallback((f,h)=>pe(null,null,function*(){return a(null),l(!1),n(!0),e.deleteDoc(f,h).then(p=>(n(!1),l(!0),p)).catch(p=>{throw n(!1),l(!1),a(p),p})}),[]),loading:t,error:s,reset:d,isCompleted:o}};function UO(e){const t=[];for(let n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}const BO=(e,t,n,s,a="GET")=>{const{call:o}=S.useContext(Ua),l=UO(t!=null?t:{}),d=`${e}?${l}`;return U({},Mh(n===void 0?d:n,a==="GET"?()=>o.get(e,t):()=>o.post(e,t),s))},hs=e=>{const{call:t}=S.useContext(Ua),[n,s]=S.useState(null),[a,o]=S.useState(!1),[l,d]=S.useState(null),[f,h]=S.useState(!1),p=S.useCallback(()=>{s(null),o(!1),d(null),h(!1)},[]);return{call:S.useCallback(x=>pe(null,null,function*(){return d(null),h(!1),o(!0),s(null),t.post(e,x).then(y=>(s(y),o(!1),h(!0),y)).catch(y=>{throw o(!1),h(!1),d(y),y})}),[]),result:n,loading:a,error:l,reset:p,isCompleted:f}};/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var DS=e=>{throw TypeError(e)},FO=(e,t,n)=>t.has(e)||DS("Cannot "+n),mg=(e,t,n)=>(FO(e,t,"read from private field"),n?n.call(e):t.get(e)),HO=(e,t,n)=>t.has(e)?DS("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),__="popstate";function VO(e={}){function t(s,a){let{pathname:o,search:l,hash:d}=s.location;return Au("",{pathname:o,search:l,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Ni(a)}return qO(t,n,null,e)}function Lt(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function $n(e,t){if(!e){typeof console!="undefined"&&console.warn(t);try{throw new Error(t)}catch(n){}}}function $O(){return Math.random().toString(36).substring(2,10)}function j_(e,t){return{usr:e.state,key:e.key,idx:t}}function Au(e,t,n=null,s){return xe(U({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ai(t):t),{state:n,key:t&&t.key||s||$O()})}function Ni({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ai(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function qO(e,t,n,s={}){let{window:a=document.defaultView,v5Compat:o=!1}=s,l=a.history,d="POP",f=null,h=p();h==null&&(h=0,l.replaceState(xe(U({},l.state),{idx:h}),""));function p(){return(l.state||{idx:null}).idx}function x(){d="POP";let j=p(),N=j==null?null:j-h;h=j,f&&f({action:d,location:_.location,delta:N})}function y(j,N){d="PUSH";let k=Au(_.location,j,N);h=p()+1;let C=j_(k,h),R=_.createHref(k);try{l.pushState(C,"",R)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;a.location.assign(R)}o&&f&&f({action:d,location:_.location,delta:1})}function b(j,N){d="REPLACE";let k=Au(_.location,j,N);h=p();let C=j_(k,h),R=_.createHref(k);l.replaceState(C,"",R),o&&f&&f({action:d,location:_.location,delta:0})}function w(j){return PS(j)}let _={get action(){return d},get location(){return e(a,l)},listen(j){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(__,x),f=j,()=>{a.removeEventListener(__,x),f=null}},createHref(j){return t(a,j)},createURL:w,encodeLocation(j){let N=w(j);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:y,replace:b,go(j){return l.go(j)}};return _}function PS(e,t=!1){let n="http://localhost";typeof window!="undefined"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Lt(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Ni(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}var xu,S_=class{constructor(e){if(HO(this,xu,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(mg(this,xu).has(e))return mg(this,xu).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){mg(this,xu).set(e,t)}};xu=new WeakMap;var YO=new Set(["lazy","caseSensitive","path","id","index","children"]);function IO(e){return YO.has(e)}var WO=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function XO(e){return WO.has(e)}function GO(e){return e.index===!0}function Ru(e,t,n=[],s={},a=!1){return e.map((o,l)=>{let d=[...n,String(l)],f=typeof o.id=="string"?o.id:d.join("-");if(Lt(o.index!==!0||!o.children,"Cannot specify children on an index route"),Lt(a||!s[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),GO(o)){let h=xe(U(U({},o),t(o)),{id:f});return s[f]=h,h}else{let h=xe(U(U({},o),t(o)),{id:f,children:void 0});return s[f]=h,o.children&&(h.children=Ru(o.children,t,d,s,a)),h}})}function yi(e,t,n="/"){return Xf(e,t,n,!1)}function Xf(e,t,n,s){let a=typeof t=="string"?Ai(t):t,o=yr(a.pathname||"/",n);if(o==null)return null;let l=LS(e);QO(l);let d=null;for(let f=0;d==null&&f<l.length;++f){let h=lA(o);d=iA(l[f],h,s)}return d}function KO(e,t){let{route:n,pathname:s,params:a}=e;return{id:n.id,pathname:s,params:a,data:t[n.id],handle:n.handle}}function LS(e,t=[],n=[],s=""){let a=(o,l,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};f.relativePath.startsWith("/")&&(Lt(f.relativePath.startsWith(s),`Absolute route path "${f.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(s.length));let h=ea([s,f.relativePath]),p=n.concat(f);o.children&&o.children.length>0&&(Lt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),LS(o.children,t,p,h)),!(o.path==null&&!o.index)&&t.push({path:h,score:rA(h,o.index),routesMeta:p})};return e.forEach((o,l)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))a(o,l);else for(let f of zS(o.path))a(o,l,f)}),t}function zS(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(s.length===0)return a?[o,""]:[o];let l=zS(s.join("/")),d=[];return d.push(...l.map(f=>f===""?o:[o,f].join("/"))),a&&d.push(...l),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function QO(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:aA(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var ZO=/^:[\w-]+$/,JO=3,eA=2,tA=1,nA=10,sA=-2,N_=e=>e==="*";function rA(e,t){let n=e.split("/"),s=n.length;return n.some(N_)&&(s+=sA),t&&(s+=eA),n.filter(a=>!N_(a)).reduce((a,o)=>a+(ZO.test(o)?JO:o===""?tA:nA),s)}function aA(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function iA(e,t,n=!1){let{routesMeta:s}=e,a={},o="/",l=[];for(let d=0;d<s.length;++d){let f=s[d],h=d===s.length-1,p=o==="/"?t:t.slice(o.length)||"/",x=uh({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),y=f.route;if(!x&&h&&n&&!s[s.length-1].route.index&&(x=uh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!x)return null;Object.assign(a,x.params),l.push({params:a,pathname:ea([o,x.pathname]),pathnameBase:fA(ea([o,x.pathnameBase])),route:y}),x.pathnameBase!=="/"&&(o=ea([o,x.pathnameBase]))}return l}function uh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=oA(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],l=o.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((h,{paramName:p,isOptional:x},y)=>{if(p==="*"){let w=d[y]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const b=d[y];return x&&!b?h[p]=void 0:h[p]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:e}}function oA(e,t=!1,n=!0){$n(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,f)=>(s.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function lA(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $n(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function yr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function cA({basename:e,pathname:t}){return t==="/"?e:ea([e,t])}function uA(e,t="/"){let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?Ai(e):e;return{pathname:n?n.startsWith("/")?n:dA(n,t):t,search:hA(s),hash:mA(a)}}function dA(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function pg(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function US(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function rx(e){let t=US(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function ax(e,t,n,s=!1){let a;typeof e=="string"?a=Ai(e):(a=U({},e),Lt(!a.pathname||!a.pathname.includes("?"),pg("?","pathname","search",a)),Lt(!a.pathname||!a.pathname.includes("#"),pg("#","pathname","hash",a)),Lt(!a.search||!a.search.includes("#"),pg("#","search","hash",a)));let o=e===""||a.pathname==="",l=o?"/":a.pathname,d;if(l==null)d=n;else{let x=t.length-1;if(!s&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),x-=1;a.pathname=y.join("/")}d=x>=0?t[x]:"/"}let f=uA(a,d),h=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var ea=e=>e.join("/").replace(/\/\/+/g,"/"),fA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),hA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,mA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,dh=class{constructor(e,t,n,s=!1){this.status=e,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Mu(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var BS=["POST","PUT","PATCH","DELETE"],pA=new Set(BS),gA=["GET",...BS],xA=new Set(gA),yA=new Set([301,302,303,307,308]),bA=new Set([307,308]),gg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},vA={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},nu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},wA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ix=e=>wA.test(e),_A=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),FS="remix-router-transitions",HS=Symbol("ResetLoaderData");function jA(e){const t=e.window?e.window:typeof window!="undefined"?window:void 0,n=typeof t!="undefined"&&typeof t.document!="undefined"&&typeof t.document.createElement!="undefined";Lt(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=e.hydrationRouteProperties||[],a=e.mapRouteProperties||_A,o={},l=Ru(e.routes,a,void 0,o),d,f=e.basename||"/",h=e.dataStrategy||kA,p=U({unstable_middleware:!1},e.future),x=null,y=new Set,b=null,w=null,_=null,j=e.hydrationData!=null,N=yi(l,e.history.location,f),k=!1,C=null,R;if(N==null&&!e.patchRoutesOnNavigation){let K=hr(404,{pathname:e.history.location.pathname}),{matches:se,route:de}=z_(l);R=!0,N=se,C={[de.id]:K}}else if(N&&!e.hydrationData&&pn(N,l,e.history.location.pathname).active&&(N=null),N)if(N.some(K=>K.route.lazy))R=!1;else if(!N.some(K=>K.route.loader))R=!0;else{let K=e.hydrationData?e.hydrationData.loaderData:null,se=e.hydrationData?e.hydrationData.errors:null;if(se){let de=N.findIndex(we=>se[we.route.id]!==void 0);R=N.slice(0,de+1).every(we=>!p0(we.route,K,se))}else R=N.every(de=>!p0(de.route,K,se))}else{R=!1,N=[];let K=pn(null,l,e.history.location.pathname);K.active&&K.matches&&(k=!0,N=K.matches)}let A,M={historyAction:e.history.action,location:e.history.location,matches:N,initialized:R,navigation:gg,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||C,fetchers:new Map,blockers:new Map},z="POP",P=!1,V,te=!1,$=new Map,Z=null,le=!1,J=!1,I=new Set,B=new Map,Y=0,Q=-1,ve=new Map,H=new Set,ae=new Map,ye=new Map,X=new Set,he=new Map,ke,be=null;function Ce(){if(x=e.history.listen(({action:K,location:se,delta:de})=>{if(ke){ke(),ke=void 0;return}$n(he.size===0||de!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let we=wr({currentLocation:M.location,nextLocation:se,historyAction:K});if(we&&de!=null){let Ae=new Promise(Ye=>{ke=Ye});e.history.go(de*-1),qn(we,{state:"blocked",location:se,proceed(){qn(we,{state:"proceeding",proceed:void 0,reset:void 0,location:se}),Ae.then(()=>e.history.go(de))},reset(){let Ye=new Map(M.blockers);Ye.set(we,nu),Ve({blockers:Ye})}});return}return De(K,se)}),n){BA(t,$);let K=()=>FA(t,$);t.addEventListener("pagehide",K),Z=()=>t.removeEventListener("pagehide",K)}return M.initialized||De("POP",M.location,{initialHydration:!0}),A}function ze(){x&&x(),Z&&Z(),y.clear(),V&&V.abort(),M.fetchers.forEach((K,se)=>bt(se)),M.blockers.forEach((K,se)=>ws(se))}function tt(K){return y.add(K),()=>y.delete(K)}function Ve(K,se={}){K.matches&&(K.matches=K.matches.map(Ae=>{let Ye=o[Ae.route.id],Ze=Ae.route;return Ze.element!==Ye.element||Ze.errorElement!==Ye.errorElement||Ze.hydrateFallbackElement!==Ye.hydrateFallbackElement?xe(U({},Ae),{route:Ye}):Ae})),M=U(U({},M),K);let de=[],we=[];M.fetchers.forEach((Ae,Ye)=>{Ae.state==="idle"&&(X.has(Ye)?de.push(Ye):we.push(Ye))}),X.forEach(Ae=>{!M.fetchers.has(Ae)&&!B.has(Ae)&&de.push(Ae)}),[...y].forEach(Ae=>Ae(M,{deletedFetchers:de,viewTransitionOpts:se.viewTransitionOpts,flushSync:se.flushSync===!0})),de.forEach(Ae=>bt(Ae)),we.forEach(Ae=>M.fetchers.delete(Ae))}function Et(K,se,{flushSync:de}={}){var Je,pt;let we=M.actionData!=null&&M.navigation.formMethod!=null&&Us(M.navigation.formMethod)&&M.navigation.state==="loading"&&((Je=K.state)==null?void 0:Je._isRedirect)!==!0,Ae;se.actionData?Object.keys(se.actionData).length>0?Ae=se.actionData:Ae=null:we?Ae=M.actionData:Ae=null;let Ye=se.loaderData?P_(M.loaderData,se.loaderData,se.matches||[],se.errors):M.loaderData,Ze=M.blockers;Ze.size>0&&(Ze=new Map(Ze),Ze.forEach((wt,on)=>Ze.set(on,nu)));let at=le?!1:Jt(K,se.matches||M.matches),ot=P===!0||M.navigation.formMethod!=null&&Us(M.navigation.formMethod)&&((pt=K.state)==null?void 0:pt._isRedirect)!==!0;d&&(l=d,d=void 0),le||z==="POP"||(z==="PUSH"?e.history.push(K,K.state):z==="REPLACE"&&e.history.replace(K,K.state));let St;if(z==="POP"){let wt=$.get(M.location.pathname);wt&&wt.has(K.pathname)?St={currentLocation:M.location,nextLocation:K}:$.has(K.pathname)&&(St={currentLocation:K,nextLocation:M.location})}else if(te){let wt=$.get(M.location.pathname);wt?wt.add(K.pathname):(wt=new Set([K.pathname]),$.set(M.location.pathname,wt)),St={currentLocation:M.location,nextLocation:K}}Ve(xe(U({},se),{actionData:Ae,loaderData:Ye,historyAction:z,location:K,initialized:!0,navigation:gg,revalidation:"idle",restoreScrollPosition:at,preventScrollReset:ot,blockers:Ze}),{viewTransitionOpts:St,flushSync:de===!0}),z="POP",P=!1,te=!1,le=!1,J=!1,be==null||be.resolve(),be=null}function lt(K,se){return pe(this,null,function*(){if(typeof K=="number"){e.history.go(K);return}let de=m0(M.location,M.matches,f,K,se==null?void 0:se.fromRouteId,se==null?void 0:se.relative),{path:we,submission:Ae,error:Ye}=E_(!1,de,se),Ze=M.location,at=Au(M.location,we,se&&se.state);at=U(U({},at),e.history.encodeLocation(at));let ot=se&&se.replace!=null?se.replace:void 0,St="PUSH";ot===!0?St="REPLACE":ot===!1||Ae!=null&&Us(Ae.formMethod)&&Ae.formAction===M.location.pathname+M.location.search&&(St="REPLACE");let Je=se&&"preventScrollReset"in se?se.preventScrollReset===!0:void 0,pt=(se&&se.flushSync)===!0,wt=wr({currentLocation:Ze,nextLocation:at,historyAction:St});if(wt){qn(wt,{state:"blocked",location:at,proceed(){qn(wt,{state:"proceeding",proceed:void 0,reset:void 0,location:at}),lt(K,se)},reset(){let on=new Map(M.blockers);on.set(wt,nu),Ve({blockers:on})}});return}yield De(St,at,{submission:Ae,pendingError:Ye,preventScrollReset:Je,replace:se&&se.replace,enableViewTransition:se&&se.viewTransition,flushSync:pt})})}function yt(){be||(be=HA()),Oe(),Ve({revalidation:"loading"});let K=be.promise;return M.navigation.state==="submitting"?K:M.navigation.state==="idle"?(De(M.historyAction,M.location,{startUninterruptedRevalidation:!0}),K):(De(z||M.historyAction,M.navigation.location,{overrideNavigation:M.navigation,enableViewTransition:te===!0}),K)}function De(K,se,de){return pe(this,null,function*(){V&&V.abort(),V=null,z=K,le=(de&&de.startUninterruptedRevalidation)===!0,jt(M.location,M.matches),P=(de&&de.preventScrollReset)===!0,te=(de&&de.enableViewTransition)===!0;let we=d||l,Ae=de&&de.overrideNavigation,Ye=de!=null&&de.initialHydration&&M.matches&&M.matches.length>0&&!k?M.matches:yi(we,se,f),Ze=(de&&de.flushSync)===!0;if(Ye&&M.initialized&&!J&&DA(M.location,se)&&!(de&&de.submission&&Us(de.submission.formMethod))){Et(se,{matches:Ye},{flushSync:Ze});return}let at=pn(Ye,we,se.pathname);if(at.active&&at.matches&&(Ye=at.matches),!Ye){let{error:en,notFoundMatches:et,route:gt}=nt(se.pathname);Et(se,{matches:et,loaderData:{},errors:{[gt.id]:en}},{flushSync:Ze});return}V=new AbortController;let ot=Cl(e.history,se,V.signal,de&&de.submission),St=new S_(e.unstable_getContext?yield e.unstable_getContext():void 0),Je;if(de&&de.pendingError)Je=[ho(Ye).route.id,{type:"error",error:de.pendingError}];else if(de&&de.submission&&Us(de.submission.formMethod)){let en=yield mt(ot,se,de.submission,Ye,St,at.active,de&&de.initialHydration===!0,{replace:de.replace,flushSync:Ze});if(en.shortCircuited)return;if(en.pendingActionResult){let[et,gt]=en.pendingActionResult;if(Ks(gt)&&Mu(gt.error)&&gt.error.status===404){V=null,Et(se,{matches:en.matches,loaderData:{},errors:{[et]:gt.error}});return}}Ye=en.matches||Ye,Je=en.pendingActionResult,Ae=xg(se,de.submission),Ze=!1,at.active=!1,ot=Cl(e.history,ot.url,ot.signal)}let{shortCircuited:pt,matches:wt,loaderData:on,errors:Sn}=yield Yt(ot,se,Ye,St,at.active,Ae,de&&de.submission,de&&de.fetcherSubmission,de&&de.replace,de&&de.initialHydration===!0,Ze,Je);pt||(V=null,Et(se,xe(U({matches:wt||Ye},L_(Je)),{loaderData:on,errors:Sn})))})}function mt(ot,St,Je,pt,wt,on,Sn){return pe(this,arguments,function*(K,se,de,we,Ae,Ye,Ze,at={}){Oe();let en=zA(se,de);if(Ve({navigation:en},{flushSync:at.flushSync===!0}),Ye){let Ft=yield an(we,se.pathname,K.signal);if(Ft.type==="aborted")return{shortCircuited:!0};if(Ft.type==="error"){let gn=ho(Ft.partialMatches).route.id;return{matches:Ft.partialMatches,pendingActionResult:[gn,{type:"error",error:Ft.error}]}}else if(Ft.matches)we=Ft.matches;else{let{notFoundMatches:gn,error:Nn,route:In}=nt(se.pathname);return{matches:gn,pendingActionResult:[In.id,{type:"error",error:Nn}]}}}let et,gt=Gf(we,se);if(!gt.route.action&&!gt.route.lazy)et={type:"error",error:hr(405,{method:K.method,pathname:se.pathname,routeId:gt.route.id})};else{let Ft=Ml(a,o,K,we,gt,Ze?[]:s,Ae),gn=yield Se(K,Ft,Ae,null);if(et=gn[gt.route.id],!et){for(let Nn of we)if(gn[Nn.route.id]){et=gn[Nn.route.id];break}}if(K.signal.aborted)return{shortCircuited:!0}}if(yo(et)){let Ft;return at&&at.replace!=null?Ft=at.replace:Ft=R_(et.response.headers.get("Location"),new URL(K.url),f)===M.location.pathname+M.location.search,yield q(K,et,!0,{submission:de,replace:Ft}),{shortCircuited:!0}}if(Ks(et)){let Ft=ho(we,gt.route.id);return(at&&at.replace)!==!0&&(z="PUSH"),{matches:we,pendingActionResult:[Ft.route.id,et,gt.route.id]}}return{matches:we,pendingActionResult:[gt.route.id,et]}})}function Yt(K,se,de,we,Ae,Ye,Ze,at,ot,St,Je,pt){return pe(this,null,function*(){let wt=Ye||xg(se,Ze),on=Ze||at||B_(wt),Sn=!le&&!St;if(Ae){if(Sn){let En=Ct(pt);Ve(U({navigation:wt},En!==void 0?{actionData:En}:{}),{flushSync:Je})}let Tt=yield an(de,se.pathname,K.signal);if(Tt.type==="aborted")return{shortCircuited:!0};if(Tt.type==="error"){let En=ho(Tt.partialMatches).route.id;return{matches:Tt.partialMatches,loaderData:{},errors:{[En]:Tt.error}}}else if(Tt.matches)de=Tt.matches;else{let{error:En,notFoundMatches:la,route:cs}=nt(se.pathname);return{matches:la,loaderData:{},errors:{[cs.id]:En}}}}let en=d||l,{dsMatches:et,revalidatingFetchers:gt}=T_(K,we,a,o,e.history,M,de,on,se,St?[]:s,St===!0,J,I,X,ae,H,en,f,e.patchRoutesOnNavigation!=null,pt);if(Q=++Y,!e.dataStrategy&&!et.some(Tt=>Tt.shouldLoad)&&gt.length===0){let Tt=_t();return Et(se,U(U({matches:de,loaderData:{},errors:pt&&Ks(pt[1])?{[pt[0]]:pt[1].error}:null},L_(pt)),Tt?{fetchers:new Map(M.fetchers)}:{}),{flushSync:Je}),{shortCircuited:!0}}if(Sn){let Tt={};if(!Ae){Tt.navigation=wt;let En=Ct(pt);En!==void 0&&(Tt.actionData=En)}gt.length>0&&(Tt.fetchers=It(gt)),Ve(Tt,{flushSync:Je})}gt.forEach(Tt=>{Te(Tt.key),Tt.controller&&B.set(Tt.key,Tt.controller)});let Ft=()=>gt.forEach(Tt=>Te(Tt.key));V&&V.signal.addEventListener("abort",Ft);let{loaderResults:gn,fetcherResults:Nn}=yield Re(et,gt,K,we);if(K.signal.aborted)return{shortCircuited:!0};V&&V.signal.removeEventListener("abort",Ft),gt.forEach(Tt=>B.delete(Tt.key));let In=pf(gn);if(In)return yield q(K,In.result,!0,{replace:ot}),{shortCircuited:!0};if(In=pf(Nn),In)return H.add(In.key),yield q(K,In.result,!0,{replace:ot}),{shortCircuited:!0};let{loaderData:ss,errors:tr}=D_(M,de,gn,pt,gt,Nn);St&&M.errors&&(tr=U(U({},M.errors),tr));let nr=_t(),ms=On(Q),sr=nr||ms||gt.length>0;return U({matches:de,loaderData:ss,errors:tr},sr?{fetchers:new Map(M.fetchers)}:{})})}function Ct(K){if(K&&!Ks(K[1]))return{[K[0]]:K[1].data};if(M.actionData)return Object.keys(M.actionData).length===0?null:M.actionData}function It(K){return K.forEach(se=>{let de=M.fetchers.get(se.key),we=su(void 0,de?de.data:void 0);M.fetchers.set(se.key,we)}),new Map(M.fetchers)}function Xt(K,se,de,we){return pe(this,null,function*(){Te(K);let Ae=(we&&we.flushSync)===!0,Ye=d||l,Ze=m0(M.location,M.matches,f,de,se,we==null?void 0:we.relative),at=yi(Ye,Ze,f),ot=pn(at,Ye,Ze);if(ot.active&&ot.matches&&(at=ot.matches),!at){$e(K,se,hr(404,{pathname:Ze}),{flushSync:Ae});return}let{path:St,submission:Je,error:pt}=E_(!0,Ze,we);if(pt){$e(K,se,pt,{flushSync:Ae});return}let wt=new S_(e.unstable_getContext?yield e.unstable_getContext():void 0),on=(we&&we.preventScrollReset)===!0;if(Je&&Us(Je.formMethod)){yield W(K,se,St,at,wt,ot.active,Ae,on,Je);return}ae.set(K,{routeId:se,path:St}),yield oe(K,se,St,at,wt,ot.active,Ae,on,Je)})}function W(K,se,de,we,Ae,Ye,Ze,at,ot){return pe(this,null,function*(){Oe(),ae.delete(K);let St=M.fetchers.get(K);Ue(K,UA(ot,St),{flushSync:Ze});let Je=new AbortController,pt=Cl(e.history,de,Je.signal,ot);if(Ye){let dn=yield an(we,new URL(pt.url).pathname,pt.signal,K);if(dn.type==="aborted")return;if(dn.type==="error"){$e(K,se,dn.error,{flushSync:Ze});return}else if(dn.matches)we=dn.matches;else{$e(K,se,hr(404,{pathname:de}),{flushSync:Ze});return}}let wt=Gf(we,de);if(!wt.route.action&&!wt.route.lazy){let dn=hr(405,{method:ot.formMethod,pathname:de,routeId:se});$e(K,se,dn,{flushSync:Ze});return}B.set(K,Je);let on=Y,Sn=Ml(a,o,pt,we,wt,s,Ae),et=(yield Se(pt,Sn,Ae,K))[wt.route.id];if(pt.signal.aborted){B.get(K)===Je&&B.delete(K);return}if(X.has(K)){if(yo(et)||Ks(et)){Ue(K,mi(void 0));return}}else{if(yo(et))if(B.delete(K),Q>on){Ue(K,mi(void 0));return}else return H.add(K),Ue(K,su(ot)),q(pt,et,!1,{fetcherSubmission:ot,preventScrollReset:at});if(Ks(et)){$e(K,se,et.error);return}}let gt=M.navigation.location||M.location,Ft=Cl(e.history,gt,Je.signal),gn=d||l,Nn=M.navigation.state!=="idle"?yi(gn,M.navigation.location,f):M.matches;Lt(Nn,"Didn't find any matches after fetcher action");let In=++Y;ve.set(K,In);let ss=su(ot,et.data);M.fetchers.set(K,ss);let{dsMatches:tr,revalidatingFetchers:nr}=T_(Ft,Ae,a,o,e.history,M,Nn,ot,gt,s,!1,J,I,X,ae,H,gn,f,e.patchRoutesOnNavigation!=null,[wt.route.id,et]);nr.filter(dn=>dn.key!==K).forEach(dn=>{let _r=dn.key,Do=M.fetchers.get(_r),Po=su(void 0,Do?Do.data:void 0);M.fetchers.set(_r,Po),Te(_r),dn.controller&&B.set(_r,dn.controller)}),Ve({fetchers:new Map(M.fetchers)});let ms=()=>nr.forEach(dn=>Te(dn.key));Je.signal.addEventListener("abort",ms);let{loaderResults:sr,fetcherResults:Tt}=yield Re(tr,nr,Ft,Ae);if(Je.signal.aborted)return;if(Je.signal.removeEventListener("abort",ms),ve.delete(K),B.delete(K),nr.forEach(dn=>B.delete(dn.key)),M.fetchers.has(K)){let dn=mi(et.data);M.fetchers.set(K,dn)}let En=pf(sr);if(En)return q(Ft,En.result,!1,{preventScrollReset:at});if(En=pf(Tt),En)return H.add(En.key),q(Ft,En.result,!1,{preventScrollReset:at});let{loaderData:la,errors:cs}=D_(M,Nn,sr,void 0,nr,Tt);On(In),M.navigation.state==="loading"&&In>Q?(Lt(z,"Expected pending action"),V&&V.abort(),Et(M.navigation.location,{matches:Nn,loaderData:la,errors:cs,fetchers:new Map(M.fetchers)})):(Ve({errors:cs,loaderData:P_(M.loaderData,la,Nn,cs),fetchers:new Map(M.fetchers)}),J=!1)})}function oe(K,se,de,we,Ae,Ye,Ze,at,ot){return pe(this,null,function*(){let St=M.fetchers.get(K);Ue(K,su(ot,St?St.data:void 0),{flushSync:Ze});let Je=new AbortController,pt=Cl(e.history,de,Je.signal);if(Ye){let gt=yield an(we,new URL(pt.url).pathname,pt.signal,K);if(gt.type==="aborted")return;if(gt.type==="error"){$e(K,se,gt.error,{flushSync:Ze});return}else if(gt.matches)we=gt.matches;else{$e(K,se,hr(404,{pathname:de}),{flushSync:Ze});return}}let wt=Gf(we,de);B.set(K,Je);let on=Y,Sn=Ml(a,o,pt,we,wt,s,Ae),et=(yield Se(pt,Sn,Ae,K))[wt.route.id];if(B.get(K)===Je&&B.delete(K),!pt.signal.aborted){if(X.has(K)){Ue(K,mi(void 0));return}if(yo(et))if(Q>on){Ue(K,mi(void 0));return}else{H.add(K),yield q(pt,et,!1,{preventScrollReset:at});return}if(Ks(et)){$e(K,se,et.error);return}Ue(K,mi(et.data))}})}function q(at,ot,St){return pe(this,arguments,function*(K,se,de,{submission:we,fetcherSubmission:Ae,preventScrollReset:Ye,replace:Ze}={}){se.response.headers.has("X-Remix-Revalidate")&&(J=!0);let Je=se.response.headers.get("Location");Lt(Je,"Expected a Location header on the redirect Response"),Je=R_(Je,new URL(K.url),f);let pt=Au(M.location,Je,{_isRedirect:!0});if(n){let gt=!1;if(se.response.headers.has("X-Remix-Reload-Document"))gt=!0;else if(ix(Je)){const Ft=PS(Je,!0);gt=Ft.origin!==t.location.origin||yr(Ft.pathname,f)==null}if(gt){Ze?t.location.replace(Je):t.location.assign(Je);return}}V=null;let wt=Ze===!0||se.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:on,formAction:Sn,formEncType:en}=M.navigation;!we&&!Ae&&on&&Sn&&en&&(we=B_(M.navigation));let et=we||Ae;if(bA.has(se.response.status)&&et&&Us(et.formMethod))yield De(wt,pt,{submission:xe(U({},et),{formAction:Je}),preventScrollReset:Ye||P,enableViewTransition:de?te:void 0});else{let gt=xg(pt,we);yield De(wt,pt,{overrideNavigation:gt,fetcherSubmission:Ae,preventScrollReset:Ye||P,enableViewTransition:de?te:void 0})}})}function Se(K,se,de,we){return pe(this,null,function*(){let Ae,Ye={};try{Ae=yield CA(h,K,se,we,de,!1)}catch(Ze){return se.filter(at=>at.shouldLoad).forEach(at=>{Ye[at.route.id]={type:"error",error:Ze}}),Ye}if(K.signal.aborted)return Ye;for(let[Ze,at]of Object.entries(Ae))if(PA(at)){let ot=at.result;Ye[Ze]={type:"redirect",response:RA(ot,K,Ze,se,f)}}else Ye[Ze]=yield AA(at);return Ye})}function Re(K,se,de,we){return pe(this,null,function*(){let Ae=Se(de,K,we,null),Ye=Promise.all(se.map(ot=>pe(null,null,function*(){if(ot.matches&&ot.match&&ot.request&&ot.controller){let Je=(yield Se(ot.request,ot.matches,we,ot.key))[ot.match.route.id];return{[ot.key]:Je}}else return Promise.resolve({[ot.key]:{type:"error",error:hr(404,{pathname:ot.path})}})}))),Ze=yield Ae,at=(yield Ye).reduce((ot,St)=>Object.assign(ot,St),{});return{loaderResults:Ze,fetcherResults:at}})}function Oe(){J=!0,ae.forEach((K,se)=>{B.has(se)&&I.add(se),Te(se)})}function Ue(K,se,de={}){M.fetchers.set(K,se),Ve({fetchers:new Map(M.fetchers)},{flushSync:(de&&de.flushSync)===!0})}function $e(K,se,de,we={}){let Ae=ho(M.matches,se);bt(K),Ve({errors:{[Ae.route.id]:de},fetchers:new Map(M.fetchers)},{flushSync:(we&&we.flushSync)===!0})}function Ke(K){return ye.set(K,(ye.get(K)||0)+1),X.has(K)&&X.delete(K),M.fetchers.get(K)||vA}function bt(K){let se=M.fetchers.get(K);B.has(K)&&!(se&&se.state==="loading"&&ve.has(K))&&Te(K),ae.delete(K),ve.delete(K),H.delete(K),X.delete(K),I.delete(K),M.fetchers.delete(K)}function ts(K){let se=(ye.get(K)||0)-1;se<=0?(ye.delete(K),X.add(K)):ye.set(K,se),Ve({fetchers:new Map(M.fetchers)})}function Te(K){let se=B.get(K);se&&(se.abort(),B.delete(K))}function Be(K){for(let se of K){let de=Ke(se),we=mi(de.data);M.fetchers.set(se,we)}}function _t(){let K=[],se=!1;for(let de of H){let we=M.fetchers.get(de);Lt(we,`Expected fetcher: ${de}`),we.state==="loading"&&(H.delete(de),K.push(de),se=!0)}return Be(K),se}function On(K){let se=[];for(let[de,we]of ve)if(we<K){let Ae=M.fetchers.get(de);Lt(Ae,`Expected fetcher: ${de}`),Ae.state==="loading"&&(Te(de),ve.delete(de),se.push(de))}return Be(se),se.length>0}function ls(K,se){let de=M.blockers.get(K)||nu;return he.get(K)!==se&&he.set(K,se),de}function ws(K){M.blockers.delete(K),he.delete(K)}function qn(K,se){let de=M.blockers.get(K)||nu;Lt(de.state==="unblocked"&&se.state==="blocked"||de.state==="blocked"&&se.state==="blocked"||de.state==="blocked"&&se.state==="proceeding"||de.state==="blocked"&&se.state==="unblocked"||de.state==="proceeding"&&se.state==="unblocked",`Invalid blocker state transition: ${de.state} -> ${se.state}`);let we=new Map(M.blockers);we.set(K,se),Ve({blockers:we})}function wr({currentLocation:K,nextLocation:se,historyAction:de}){if(he.size===0)return;he.size>1&&$n(!1,"A router only supports one blocker at a time");let we=Array.from(he.entries()),[Ae,Ye]=we[we.length-1],Ze=M.blockers.get(Ae);if(!(Ze&&Ze.state==="proceeding")&&Ye({currentLocation:K,nextLocation:se,historyAction:de}))return Ae}function nt(K){let se=hr(404,{pathname:K}),de=d||l,{matches:we,route:Ae}=z_(de);return{notFoundMatches:we,route:Ae,error:se}}function Mt(K,se,de){if(b=K,_=se,w=de||null,!j&&M.navigation===gg){j=!0;let we=Jt(M.location,M.matches);we!=null&&Ve({restoreScrollPosition:we})}return()=>{b=null,_=null,w=null}}function zt(K,se){return w&&w(K,se.map(we=>KO(we,M.loaderData)))||K.key}function jt(K,se){if(b&&_){let de=zt(K,se);b[de]=_()}}function Jt(K,se){if(b){let de=zt(K,se),we=b[de];if(typeof we=="number")return we}return null}function pn(K,se,de){if(e.patchRoutesOnNavigation)if(K){if(Object.keys(K[0].params).length>0)return{active:!0,matches:Xf(se,de,f,!0)}}else return{active:!0,matches:Xf(se,de,f,!0)||[]};return{active:!1,matches:null}}function an(K,se,de,we){return pe(this,null,function*(){if(!e.patchRoutesOnNavigation)return{type:"success",matches:K};let Ae=K;for(;;){let Ye=d==null,Ze=d||l,at=o;try{yield e.patchRoutesOnNavigation({signal:de,path:se,matches:Ae,fetcherKey:we,patch:(Je,pt)=>{de.aborted||k_(Je,pt,Ze,at,a,!1)}})}catch(Je){return{type:"error",error:Je,partialMatches:Ae}}finally{Ye&&!de.aborted&&(l=[...l])}if(de.aborted)return{type:"aborted"};let ot=yi(Ze,se,f);if(ot)return{type:"success",matches:ot};let St=Xf(Ze,se,f,!0);if(!St||Ae.length===St.length&&Ae.every((Je,pt)=>Je.route.id===St[pt].route.id))return{type:"success",matches:null};Ae=St}})}function ns(K){o={},d=Ru(K,a,void 0,o)}function Yn(K,se,de=!1){let we=d==null;k_(K,se,d||l,o,a,de),we&&(l=[...l],Ve({}))}return A={get basename(){return f},get future(){return p},get state(){return M},get routes(){return l},get window(){return t},initialize:Ce,subscribe:tt,enableScrollRestoration:Mt,navigate:lt,fetch:Xt,revalidate:yt,createHref:K=>e.history.createHref(K),encodeLocation:K=>e.history.encodeLocation(K),getFetcher:Ke,deleteFetcher:ts,dispose:ze,getBlocker:ls,deleteBlocker:ws,patchRoutes:Yn,_internalFetchControllers:B,_internalSetRoutes:ns,_internalSetStateDoNotUseOrYouWillBreakYourApp(K){Ve(K)}},A}function SA(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function m0(e,t,n,s,a,o){let l,d;if(a){l=[];for(let h of t)if(l.push(h),h.route.id===a){d=h;break}}else l=t,d=t[t.length-1];let f=ax(s||".",rx(l),yr(e.pathname,n)||e.pathname,o==="path");if(s==null&&(f.search=e.search,f.hash=e.hash),(s==null||s===""||s===".")&&d){let h=ox(f.search);if(d.route.index&&!h)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&h){let p=new URLSearchParams(f.search),x=p.getAll("index");p.delete("index"),x.filter(b=>b).forEach(b=>p.append("index",b));let y=p.toString();f.search=y?`?${y}`:""}}return n!=="/"&&(f.pathname=cA({basename:n,pathname:f.pathname})),Ni(f)}function E_(e,t,n){if(!n||!SA(n))return{path:t};if(n.formMethod&&!LA(n.formMethod))return{path:t,error:hr(405,{method:n.formMethod})};let s=()=>({path:t,error:hr(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),l=WS(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Us(o))return s();let x=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((y,[b,w])=>`${y}${b}=${w}
`,""):String(n.body);return{path:t,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:x}}}else if(n.formEncType==="application/json"){if(!Us(o))return s();try{let x=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:x,text:void 0}}}catch(x){return s()}}}Lt(typeof FormData=="function","FormData is not available in this environment");let d,f;if(n.formData)d=x0(n.formData),f=n.formData;else if(n.body instanceof FormData)d=x0(n.body),f=n.body;else if(n.body instanceof URLSearchParams)d=n.body,f=M_(d);else if(n.body==null)d=new URLSearchParams,f=new FormData;else try{d=new URLSearchParams(n.body),f=M_(d)}catch(x){return s()}let h={formMethod:o,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Us(h.formMethod))return{path:t,submission:h};let p=Ai(t);return e&&p.search&&ox(p.search)&&d.append("index",""),p.search=`?${d}`,{path:Ni(p),submission:h}}function T_(e,t,n,s,a,o,l,d,f,h,p,x,y,b,w,_,j,N,k,C){var le;let R=C?Ks(C[1])?C[1].error:C[1].data:void 0,A=a.createURL(o.location),M=a.createURL(f),z;if(p&&o.errors){let J=Object.keys(o.errors)[0];z=l.findIndex(I=>I.route.id===J)}else if(C&&Ks(C[1])){let J=C[0];z=l.findIndex(I=>I.route.id===J)-1}let P=C?C[1].statusCode:void 0,V=P&&P>=400,te=xe(U({currentUrl:A,currentParams:((le=o.matches[0])==null?void 0:le.params)||{},nextUrl:M,nextParams:l[0].params},d),{actionResult:R,actionStatus:P}),$=l.map((J,I)=>{let{route:B}=J,Y=null;if(z!=null&&I>z?Y=!1:B.lazy?Y=!0:B.loader==null?Y=!1:p?Y=p0(B,o.loaderData,o.errors):NA(o.loaderData,o.matches[I],J)&&(Y=!0),Y!==null)return g0(n,s,e,J,h,t,Y);let Q=V?!1:x||A.pathname+A.search===M.pathname+M.search||A.search!==M.search||EA(o.matches[I],J),ve=xe(U({},te),{defaultShouldRevalidate:Q}),H=fh(J,ve);return g0(n,s,e,J,h,t,H,ve)}),Z=[];return w.forEach((J,I)=>{if(p||!l.some(X=>X.route.id===J.routeId)||b.has(I))return;let B=o.fetchers.get(I),Y=B&&B.state!=="idle"&&B.data===void 0,Q=yi(j,J.path,N);if(!Q){if(k&&Y)return;Z.push({key:I,routeId:J.routeId,path:J.path,matches:null,match:null,request:null,controller:null});return}if(_.has(I))return;let ve=Gf(Q,J.path),H=new AbortController,ae=Cl(a,J.path,H.signal),ye=null;if(y.has(I))y.delete(I),ye=Ml(n,s,ae,Q,ve,h,t);else if(Y)x&&(ye=Ml(n,s,ae,Q,ve,h,t));else{let X=xe(U({},te),{defaultShouldRevalidate:V?!1:x});fh(ve,X)&&(ye=Ml(n,s,ae,Q,ve,h,t,X))}ye&&Z.push({key:I,routeId:J.routeId,path:J.path,matches:ye,match:ve,request:ae,controller:H})}),{dsMatches:$,revalidatingFetchers:Z}}function p0(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let s=t!=null&&e.id in t,a=n!=null&&n[e.id]!==void 0;return!s&&a?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!s&&!a}function NA(e,t,n){let s=!t||n.route.id!==t.route.id,a=!e.hasOwnProperty(n.route.id);return s||a}function EA(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function fh(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function k_(e,t,n,s,a,o){let l;if(e){let h=s[e];Lt(h,`No route found to patch children into: routeId = ${e}`),h.children||(h.children=[]),l=h.children}else l=n;let d=[],f=[];if(t.forEach(h=>{let p=l.find(x=>VS(h,x));p?f.push({existingRoute:p,newRoute:h}):d.push(h)}),d.length>0){let h=Ru(d,a,[e||"_","patch",String((l==null?void 0:l.length)||"0")],s);l.push(...h)}if(o&&f.length>0)for(let h=0;h<f.length;h++){let{existingRoute:p,newRoute:x}=f[h],y=p,[b]=Ru([x],a,[],{},!0);Object.assign(y,{element:b.element?b.element:y.element,errorElement:b.errorElement?b.errorElement:y.errorElement,hydrateFallbackElement:b.hydrateFallbackElement?b.hydrateFallbackElement:y.hydrateFallbackElement})}}function VS(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,s)=>{var a;return(a=t.children)==null?void 0:a.some(o=>VS(n,o))}):!1}var C_=new WeakMap,$S=({key:e,route:t,manifest:n,mapRouteProperties:s})=>{let a=n[t.id];if(Lt(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let o=a.lazy[e];if(!o)return;let l=C_.get(a);l||(l={},C_.set(a,l));let d=l[e];if(d)return d;let f=pe(null,null,function*(){let h=IO(e),x=a[e]!==void 0&&e!=="hasErrorBoundary";if(h)$n(!h,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),l[e]=Promise.resolve();else if(x)$n(!1,`Route "${a.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let y=yield o();y!=null&&(Object.assign(a,{[e]:y}),Object.assign(a,s(a)))}typeof a.lazy=="object"&&(a.lazy[e]=void 0,Object.values(a.lazy).every(y=>y===void 0)&&(a.lazy=void 0))});return l[e]=f,f},O_=new WeakMap;function TA(e,t,n,s,a){let o=n[e.id];if(Lt(o,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let p=O_.get(o);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let x=pe(null,null,function*(){Lt(typeof e.lazy=="function","No lazy route function found");let y=yield e.lazy(),b={};for(let w in y){let _=y[w];if(_===void 0)continue;let j=XO(w),k=o[w]!==void 0&&w!=="hasErrorBoundary";j?$n(!j,"Route property "+w+" is not a supported property to be returned from a lazy route function. This property will be ignored."):k?$n(!k,`Route "${o.id}" has a static property "${w}" defined but its lazy function is also returning a value for this property. The lazy route property "${w}" will be ignored.`):b[w]=_}Object.assign(o,b),Object.assign(o,xe(U({},s(o)),{lazy:void 0}))});return O_.set(o,x),x.catch(()=>{}),{lazyRoutePromise:x,lazyHandlerPromise:x}}let l=Object.keys(e.lazy),d=[],f;for(let p of l){if(a&&a.includes(p))continue;let x=$S({key:p,route:e,manifest:n,mapRouteProperties:s});x&&(d.push(x),p===t&&(f=x))}let h=d.length>0?Promise.all(d).then(()=>{}):void 0;return h==null||h.catch(()=>{}),f==null||f.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:f}}function A_(e){return pe(this,null,function*(){let t=e.matches.filter(a=>a.shouldLoad),n={};return(yield Promise.all(t.map(a=>a.resolve()))).forEach((a,o)=>{n[t[o].route.id]=a}),n})}function kA(e){return pe(this,null,function*(){return e.matches.some(t=>t.route.unstable_middleware)?qS(e,!1,()=>A_(e),(t,n)=>({[n]:{type:"error",result:t}})):A_(e)})}function qS(e,t,n,s){return pe(this,null,function*(){let{matches:a,request:o,params:l,context:d}=e,f={handlerResult:void 0};try{let h=a.flatMap(x=>x.route.unstable_middleware?x.route.unstable_middleware.map(y=>[x.route.id,y]):[]),p=yield YS({request:o,params:l,context:d},h,t,f,n);return t?p:f.handlerResult}catch(h){if(!f.middlewareError)throw h;let p=yield s(f.middlewareError.error,f.middlewareError.routeId);return f.handlerResult?Object.assign(f.handlerResult,p):p}})}function YS(e,t,n,s,a,o=0){return pe(this,null,function*(){let{request:l}=e;if(l.signal.aborted)throw l.signal.reason?l.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${l.method} ${l.url}`);let d=t[o];if(!d)return s.handlerResult=yield a(),s.handlerResult;let[f,h]=d,p=!1,x,y=()=>pe(null,null,function*(){if(p)throw new Error("You may only call `next()` once per middleware");p=!0,yield YS(e,t,n,s,a,o+1)});try{let b=yield h({request:e.request,params:e.params,context:e.context},y);return p?b===void 0?x:b:y()}catch(b){throw s.middlewareError?s.middlewareError.error!==b&&(s.middlewareError={routeId:f,error:b}):s.middlewareError={routeId:f,error:b},b}})}function IS(e,t,n,s,a){let o=$S({key:"unstable_middleware",route:s.route,manifest:t,mapRouteProperties:e}),l=TA(s.route,Us(n.method)?"action":"loader",t,e,a);return{middleware:o,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function g0(e,t,n,s,a,o,l,d=null){let f=!1,h=IS(e,t,n,s,a);return xe(U({},s),{_lazyPromises:h,shouldLoad:l,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(p){return f=!0,d?typeof p=="boolean"?fh(s,xe(U({},d),{defaultShouldRevalidate:p})):fh(s,d):l},resolve(p){return f||l||p&&!Us(n.method)&&(s.route.lazy||s.route.loader)?OA({request:n,match:s,lazyHandlerPromise:h==null?void 0:h.handler,lazyRoutePromise:h==null?void 0:h.route,handlerOverride:p,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}})}function Ml(e,t,n,s,a,o,l,d=null){return s.map(f=>f.route.id!==a.route.id?xe(U({},f),{shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:IS(e,t,n,f,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}):g0(e,t,n,f,o,l,!0,d))}function CA(e,t,n,s,a,o){return pe(this,null,function*(){n.some(h=>{var p;return(p=h._lazyPromises)==null?void 0:p.middleware})&&(yield Promise.all(n.map(h=>{var p;return(p=h._lazyPromises)==null?void 0:p.middleware})));let l={request:t,params:n[0].params,context:a,matches:n},d=h=>{let p=l;return qS(p,!1,()=>h(xe(U({},p),{fetcherKey:s,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})),(x,y)=>({[y]:{type:"error",result:x}}))},f=yield e(xe(U({},l),{fetcherKey:s,unstable_runClientMiddleware:d}));try{yield Promise.all(n.flatMap(h=>{var p,x;return[(p=h._lazyPromises)==null?void 0:p.handler,(x=h._lazyPromises)==null?void 0:x.route]}))}catch(h){}return f})}function OA(l){return pe(this,arguments,function*({request:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:s,handlerOverride:a,scopedContext:o}){let d,f,h=Us(e.method),p=h?"action":"loader",x=y=>{let b,w=new Promise((N,k)=>b=k);f=()=>b(),e.signal.addEventListener("abort",f);let _=N=>typeof y!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${t.route.id}]`)):y({request:e,params:t.params,context:o},...N!==void 0?[N]:[]),j=pe(null,null,function*(){try{return{type:"data",result:yield a?a(k=>_(k)):_()}}catch(N){return{type:"error",result:N}}});return Promise.race([j,w])};try{let y=h?t.route.action:t.route.loader;if(n||s)if(y){let b,[w]=yield Promise.all([x(y).catch(_=>{b=_}),n,s]);if(b!==void 0)throw b;d=w}else{yield n;let b=h?t.route.action:t.route.loader;if(b)[d]=yield Promise.all([x(b),s]);else if(p==="action"){let w=new URL(e.url),_=w.pathname+w.search;throw hr(405,{method:e.method,pathname:_,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(y)d=yield x(y);else{let b=new URL(e.url),w=b.pathname+b.search;throw hr(404,{pathname:w})}}catch(y){return{type:"error",result:y}}finally{f&&e.signal.removeEventListener("abort",f)}return d})}function AA(e){return pe(this,null,function*(){var s,a,o,l,d,f;let{result:t,type:n}=e;if(XS(t)){let h;try{let p=t.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?t.body==null?h=null:h=yield t.json():h=yield t.text()}catch(p){return{type:"error",error:p}}return n==="error"?{type:"error",error:new dh(t.status,t.statusText,h),statusCode:t.status,headers:t.headers}:{type:"data",data:h,statusCode:t.status,headers:t.headers}}return n==="error"?U_(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(s=t.init)==null?void 0:s.status,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new dh(((o=t.init)==null?void 0:o.status)||500,void 0,t.data),statusCode:Mu(t)?t.status:void 0,headers:(l=t.init)!=null&&l.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Mu(t)?t.status:void 0}:U_(t)?{type:"data",data:t.data,statusCode:(d=t.init)==null?void 0:d.status,headers:(f=t.init)!=null&&f.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}})}function RA(e,t,n,s,a){let o=e.headers.get("Location");if(Lt(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!ix(o)){let l=s.slice(0,s.findIndex(d=>d.route.id===n)+1);o=m0(new URL(t.url),l,a,o),e.headers.set("Location",o)}return e}function R_(e,t,n){if(ix(e)){let s=e,a=s.startsWith("//")?new URL(t.protocol+s):new URL(s),o=yr(a.pathname,n)!=null;if(a.origin===t.origin&&o)return a.pathname+a.search+a.hash}return e}function Cl(e,t,n,s){let a=e.createURL(WS(t)).toString(),o={signal:n};if(s&&Us(s.formMethod)){let{formMethod:l,formEncType:d}=s;o.method=l.toUpperCase(),d==="application/json"?(o.headers=new Headers({"Content-Type":d}),o.body=JSON.stringify(s.json)):d==="text/plain"?o.body=s.text:d==="application/x-www-form-urlencoded"&&s.formData?o.body=x0(s.formData):o.body=s.formData}return new Request(a,o)}function x0(e){let t=new URLSearchParams;for(let[n,s]of e.entries())t.append(n,typeof s=="string"?s:s.name);return t}function M_(e){let t=new FormData;for(let[n,s]of e.entries())t.append(n,s);return t}function MA(e,t,n,s=!1,a=!1){let o={},l=null,d,f=!1,h={},p=n&&Ks(n[1])?n[1].error:void 0;return e.forEach(x=>{if(!(x.route.id in t))return;let y=x.route.id,b=t[y];if(Lt(!yo(b),"Cannot handle redirect results in processLoaderData"),Ks(b)){let w=b.error;if(p!==void 0&&(w=p,p=void 0),l=l||{},a)l[y]=w;else{let _=ho(e,y);l[_.route.id]==null&&(l[_.route.id]=w)}s||(o[y]=HS),f||(f=!0,d=Mu(b.error)?b.error.status:500),b.headers&&(h[y]=b.headers)}else o[y]=b.data,b.statusCode&&b.statusCode!==200&&!f&&(d=b.statusCode),b.headers&&(h[y]=b.headers)}),p!==void 0&&n&&(l={[n[0]]:p},n[2]&&(o[n[2]]=void 0)),{loaderData:o,errors:l,statusCode:d||200,loaderHeaders:h}}function D_(e,t,n,s,a,o){let{loaderData:l,errors:d}=MA(t,n,s);return a.filter(f=>!f.matches||f.matches.some(h=>h.shouldLoad)).forEach(f=>{let{key:h,match:p,controller:x}=f,y=o[h];if(Lt(y,"Did not find corresponding fetcher result"),!(x&&x.signal.aborted))if(Ks(y)){let b=ho(e.matches,p==null?void 0:p.route.id);d&&d[b.route.id]||(d=xe(U({},d),{[b.route.id]:y.error})),e.fetchers.delete(h)}else if(yo(y))Lt(!1,"Unhandled fetcher revalidation redirect");else{let b=mi(y.data);e.fetchers.set(h,b)}}),{loaderData:l,errors:d}}function P_(e,t,n,s){let a=Object.entries(t).filter(([,o])=>o!==HS).reduce((o,[l,d])=>(o[l]=d,o),{});for(let o of n){let l=o.route.id;if(!t.hasOwnProperty(l)&&e.hasOwnProperty(l)&&o.route.loader&&(a[l]=e[l]),s&&s.hasOwnProperty(l))break}return a}function L_(e){return e?Ks(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function ho(e,t){return(t?e.slice(0,e.findIndex(s=>s.route.id===t)+1):[...e]).reverse().find(s=>s.route.hasErrorBoundary===!0)||e[0]}function z_(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function hr(e,{pathname:t,routeId:n,method:s,type:a,message:o}={}){let l="Unknown Server Error",d="Unknown @remix-run/router error";return e===400?(l="Bad Request",s&&t&&n?d=`You made a ${s} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:a==="invalid-body"&&(d="Unable to encode submission body")):e===403?(l="Forbidden",d=`Route "${n}" does not match URL "${t}"`):e===404?(l="Not Found",d=`No route matches URL "${t}"`):e===405&&(l="Method Not Allowed",s&&t&&n?d=`You made a ${s.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:s&&(d=`Invalid request method "${s.toUpperCase()}"`)),new dh(e||500,l,new Error(d),!0)}function pf(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[s,a]=t[n];if(yo(a))return{key:s,result:a}}}function WS(e){let t=typeof e=="string"?Ai(e):e;return Ni(xe(U({},t),{hash:""}))}function DA(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function PA(e){return XS(e.result)&&yA.has(e.result.status)}function Ks(e){return e.type==="error"}function yo(e){return(e&&e.type)==="redirect"}function U_(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function XS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body!="undefined"}function LA(e){return xA.has(e.toUpperCase())}function Us(e){return pA.has(e.toUpperCase())}function ox(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Gf(e,t){let n=typeof t=="string"?Ai(t).search:t.search;if(e[e.length-1].route.index&&ox(n||""))return e[e.length-1];let s=US(e);return s[s.length-1]}function B_(e){let{formMethod:t,formAction:n,formEncType:s,text:a,formData:o,json:l}=e;if(!(!t||!n||!s)){if(a!=null)return{formMethod:t,formAction:n,formEncType:s,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:t,formAction:n,formEncType:s,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:t,formAction:n,formEncType:s,formData:void 0,json:l,text:void 0}}}function xg(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function zA(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function su(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function UA(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function mi(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function BA(e,t){try{let n=e.sessionStorage.getItem(FS);if(n){let s=JSON.parse(n);for(let[a,o]of Object.entries(s||{}))o&&Array.isArray(o)&&t.set(a,new Set(o||[]))}}catch(n){}}function FA(e,t){if(t.size>0){let n={};for(let[s,a]of t)n[s]=[...a];try{e.sessionStorage.setItem(FS,JSON.stringify(n))}catch(s){$n(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function HA(){let e,t,n=new Promise((s,a)=>{e=o=>pe(null,null,function*(){s(o);try{yield n}catch(l){}}),t=o=>pe(null,null,function*(){a(o);try{yield n}catch(l){}})});return{promise:n,resolve:e,reject:t}}var Ro=S.createContext(null);Ro.displayName="DataRouter";var qu=S.createContext(null);qu.displayName="DataRouterState";S.createContext(!1);var lx=S.createContext({isTransitioning:!1});lx.displayName="ViewTransition";var GS=S.createContext(new Map);GS.displayName="Fetchers";var VA=S.createContext(null);VA.displayName="Await";var aa=S.createContext(null);aa.displayName="Navigation";var Lh=S.createContext(null);Lh.displayName="Location";var ia=S.createContext({outlet:null,matches:[],isDataRoute:!1});ia.displayName="Route";var cx=S.createContext(null);cx.displayName="RouteError";function $A(e,{relative:t}={}){Lt(Yu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=S.useContext(aa),{hash:a,pathname:o,search:l}=Iu(e,{relative:t}),d=o;return n!=="/"&&(d=o==="/"?n:ea([n,o])),s.createHref({pathname:d,search:l,hash:a})}function Yu(){return S.useContext(Lh)!=null}function Ri(){return Lt(Yu(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Lh).location}var KS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function QS(e){S.useContext(aa).static||S.useLayoutEffect(e)}function qA(){let{isDataRoute:e}=S.useContext(ia);return e?aR():YA()}function YA(){Lt(Yu(),"useNavigate() may be used only in the context of a <Router> component.");let e=S.useContext(Ro),{basename:t,navigator:n}=S.useContext(aa),{matches:s}=S.useContext(ia),{pathname:a}=Ri(),o=JSON.stringify(rx(s)),l=S.useRef(!1);return QS(()=>{l.current=!0}),S.useCallback((f,h={})=>{if($n(l.current,KS),!l.current)return;if(typeof f=="number"){n.go(f);return}let p=ax(f,JSON.parse(o),a,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:ea([t,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[t,n,o,a,e])}var IA=S.createContext(null);function WA(e){let t=S.useContext(ia).outlet;return t&&S.createElement(IA.Provider,{value:e},t)}function Iu(e,{relative:t}={}){let{matches:n}=S.useContext(ia),{pathname:s}=Ri(),a=JSON.stringify(rx(n));return S.useMemo(()=>ax(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function XA(e,t,n,s){Lt(Yu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=S.useContext(aa),{matches:o}=S.useContext(ia),l=o[o.length-1],d=l?l.params:{},f=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let N=p&&p.path||"";ZS(f,!p||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let x=Ri(),y;y=x;let b=y.pathname||"/",w=b;if(h!=="/"){let N=h.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(N.length).join("/")}let _=yi(e,{pathname:w});return $n(p||_!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),$n(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),JA(_&&_.map(N=>Object.assign({},N,{params:Object.assign({},d,N.params),pathname:ea([h,a.encodeLocation?a.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?h:ea([h,a.encodeLocation?a.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),o,n,s)}function GA(){let e=rR(),t=Mu(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=S.createElement(S.Fragment,null,S.createElement("p",null,"💿 Hey developer 👋"),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:o},"ErrorBoundary")," or"," ",S.createElement("code",{style:o},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:a},n):null,l)}var KA=S.createElement(GA,null),QA=class extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?S.createElement(ia.Provider,{value:this.props.routeContext},S.createElement(cx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ZA({routeContext:e,match:t,children:n}){let s=S.useContext(Ro);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(ia.Provider,{value:e},n)}function JA(e,t=[],n=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n==null?void 0:n.errors;if(o!=null){let f=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);Lt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,d=-1;if(n)for(let f=0;f<a.length;f++){let h=a[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=f),h.route.id){let{loaderData:p,errors:x}=n,y=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!x||x[h.route.id]===void 0);if(h.route.lazy||y){l=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,h,p)=>{let x,y=!1,b=null,w=null;n&&(x=o&&h.route.id?o[h.route.id]:void 0,b=h.route.errorElement||KA,l&&(d<0&&p===0?(ZS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,w=null):d===p&&(y=!0,w=h.route.hydrateFallbackElement||null)));let _=t.concat(a.slice(0,p+1)),j=()=>{let N;return x?N=b:y?N=w:h.route.Component?N=S.createElement(h.route.Component,null):h.route.element?N=h.route.element:N=f,S.createElement(ZA,{match:h,routeContext:{outlet:f,matches:_,isDataRoute:n!=null},children:N})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?S.createElement(QA,{location:n.location,revalidation:n.revalidation,component:b,error:x,children:j(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):j()},null)}function ux(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eR(e){let t=S.useContext(Ro);return Lt(t,ux(e)),t}function tR(e){let t=S.useContext(qu);return Lt(t,ux(e)),t}function nR(e){let t=S.useContext(ia);return Lt(t,ux(e)),t}function dx(e){let t=nR(e),n=t.matches[t.matches.length-1];return Lt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function sR(){return dx("useRouteId")}function rR(){var s;let e=S.useContext(cx),t=tR("useRouteError"),n=dx("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function aR(){let{router:e}=eR("useNavigate"),t=dx("useNavigate"),n=S.useRef(!1);return QS(()=>{n.current=!0}),S.useCallback((l,...d)=>pe(null,[l,...d],function*(a,o={}){$n(n.current,KS),n.current&&(typeof a=="number"?e.navigate(a):yield e.navigate(a,U({fromRouteId:t},o)))}),[e,t])}var F_={};function ZS(e,t,n){!t&&!F_[e]&&(F_[e]=!0,$n(!1,n))}var H_={};function V_(e,t){!e&&!H_[t]&&(H_[t]=!0,console.warn(t))}function iR(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&$n(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:S.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&$n(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:S.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&$n(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:S.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var oR=["HydrateFallback","hydrateFallbackElement"],lR=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",t(n))}})}};function cR({router:e,flushSync:t}){let[n,s]=S.useState(e.state),[a,o]=S.useState(),[l,d]=S.useState({isTransitioning:!1}),[f,h]=S.useState(),[p,x]=S.useState(),[y,b]=S.useState(),w=S.useRef(new Map),_=S.useCallback((C,{deletedFetchers:R,flushSync:A,viewTransitionOpts:M})=>{C.fetchers.forEach((P,V)=>{P.data!==void 0&&w.current.set(V,P.data)}),R.forEach(P=>w.current.delete(P)),V_(A===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let z=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(V_(M==null||z,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!M||!z){t&&A?t(()=>s(C)):S.startTransition(()=>s(C));return}if(t&&A){t(()=>{p&&(f&&f.resolve(),p.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:M.currentLocation,nextLocation:M.nextLocation})});let P=e.window.document.startViewTransition(()=>{t(()=>s(C))});P.finished.finally(()=>{t(()=>{h(void 0),x(void 0),o(void 0),d({isTransitioning:!1})})}),t(()=>x(P));return}p?(f&&f.resolve(),p.skipTransition(),b({state:C,currentLocation:M.currentLocation,nextLocation:M.nextLocation})):(o(C),d({isTransitioning:!0,flushSync:!1,currentLocation:M.currentLocation,nextLocation:M.nextLocation}))},[e.window,t,p,f]);S.useLayoutEffect(()=>e.subscribe(_),[e,_]),S.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new lR)},[l]),S.useEffect(()=>{if(f&&a&&e.window){let C=a,R=f.promise,A=e.window.document.startViewTransition(()=>pe(null,null,function*(){S.startTransition(()=>s(C)),yield R}));A.finished.finally(()=>{h(void 0),x(void 0),o(void 0),d({isTransitioning:!1})}),x(A)}},[a,f,e.window]),S.useEffect(()=>{f&&a&&n.location.key===a.location.key&&f.resolve()},[f,p,n.location,a]),S.useEffect(()=>{!l.isTransitioning&&y&&(o(y.state),d({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),b(void 0))},[l.isTransitioning,y]);let j=S.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:C=>e.navigate(C),push:(C,R,A)=>e.navigate(C,{state:R,preventScrollReset:A==null?void 0:A.preventScrollReset}),replace:(C,R,A)=>e.navigate(C,{replace:!0,state:R,preventScrollReset:A==null?void 0:A.preventScrollReset})}),[e]),N=e.basename||"/",k=S.useMemo(()=>({router:e,navigator:j,static:!1,basename:N}),[e,j,N]);return S.createElement(S.Fragment,null,S.createElement(Ro.Provider,{value:k},S.createElement(qu.Provider,{value:n},S.createElement(GS.Provider,{value:w.current},S.createElement(lx.Provider,{value:l},S.createElement(hR,{basename:N,location:n.location,navigationType:n.historyAction,navigator:j},S.createElement(uR,{routes:e.routes,future:e.future,state:n})))))),null)}var uR=S.memo(dR);function dR({routes:e,future:t,state:n}){return XA(e,void 0,n,t)}function fR(e){return WA(e.context)}function hR({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:a,static:o=!1}){Lt(!Yu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),d=S.useMemo(()=>({basename:l,navigator:a,static:o,future:{}}),[l,a,o]);typeof n=="string"&&(n=Ai(n));let{pathname:f="/",search:h="",hash:p="",state:x=null,key:y="default"}=n,b=S.useMemo(()=>{let w=yr(f,l);return w==null?null:{location:{pathname:w,search:h,hash:p,state:x,key:y},navigationType:s}},[l,f,h,p,x,y,s]);return $n(b!=null,`<Router basename="${l}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:S.createElement(aa.Provider,{value:d},S.createElement(Lh.Provider,{children:t,value:b}))}var Kf="get",Qf="application/x-www-form-urlencoded";function zh(e){return e!=null&&typeof e.tagName=="string"}function mR(e){return zh(e)&&e.tagName.toLowerCase()==="button"}function pR(e){return zh(e)&&e.tagName.toLowerCase()==="form"}function gR(e){return zh(e)&&e.tagName.toLowerCase()==="input"}function xR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function yR(e,t){return e.button===0&&(!t||t==="_self")&&!xR(e)}var gf=null;function bR(){if(gf===null)try{new FormData(document.createElement("form"),0),gf=!1}catch(e){gf=!0}return gf}var vR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yg(e){return e!=null&&!vR.has(e)?($n(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qf}"`),null):e}function wR(e,t){let n,s,a,o,l;if(pR(e)){let d=e.getAttribute("action");s=d?yr(d,t):null,n=e.getAttribute("method")||Kf,a=yg(e.getAttribute("enctype"))||Qf,o=new FormData(e)}else if(mR(e)||gR(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(s=f?yr(f,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||Kf,a=yg(e.getAttribute("formenctype"))||yg(d.getAttribute("enctype"))||Qf,o=new FormData(d,e),!bR()){let{name:h,type:p,value:x}=e;if(p==="image"){let y=h?`${h}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else h&&o.append(h,x)}}else{if(zh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kf,s=null,a=Qf,l=e}return o&&a==="text/plain"&&(l=o,o=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function fx(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function _R(e,t,n){let s=typeof e=="string"?new URL(e,typeof window=="undefined"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&yr(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}function jR(e,t){return pe(this,null,function*(){if(e.id in t)return t[e.id];try{let n=yield import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}})}function SR(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}function NR(e,t,n){return pe(this,null,function*(){let s=yield Promise.all(e.map(a=>pe(null,null,function*(){let o=t.routes[a.route.id];if(o){let l=yield jR(o,n);return l.links?l.links():[]}return[]})));return CR(s.flat(1).filter(SR).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?xe(U({},a),{rel:"prefetch",as:"style"}):xe(U({},a),{rel:"prefetch"})))})}function $_(e,t,n,s,a,o){let l=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,d=(f,h)=>{var p;return n[h].pathname!==f.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==f.params["*"]};return o==="assets"?t.filter((f,h)=>l(f,h)||d(f,h)):o==="data"?t.filter((f,h)=>{var x;let p=s.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(l(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((x=n[0])==null?void 0:x.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function ER(e,t,{includeHydrateFallback:n}={}){return TR(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function TR(e){return[...new Set(e)]}function kR(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function CR(e,t){let n=new Set;return new Set(t),e.reduce((s,a)=>{let o=JSON.stringify(kR(a));return n.has(o)||(n.add(o),s.push({key:o,link:a})),s},[])}function JS(){let e=S.useContext(Ro);return fx(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function OR(){let e=S.useContext(qu);return fx(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var hx=S.createContext(void 0);hx.displayName="FrameworkContext";function eN(){let e=S.useContext(hx);return fx(e,"You must render this element inside a <HydratedRouter> element"),e}function AR(e,t){let n=S.useContext(hx),[s,a]=S.useState(!1),[o,l]=S.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:x}=t,y=S.useRef(null);S.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let _=N=>{N.forEach(k=>{l(k.isIntersecting)})},j=new IntersectionObserver(_,{threshold:.5});return y.current&&j.observe(y.current),()=>{j.disconnect()}}},[e]),S.useEffect(()=>{if(s){let _=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(_)}}},[s]);let b=()=>{a(!0)},w=()=>{a(!1),l(!1)};return n?e!=="intent"?[o,y,{}]:[o,y,{onFocus:ru(d,b),onBlur:ru(f,w),onMouseEnter:ru(h,b),onMouseLeave:ru(p,w),onTouchStart:ru(x,b)}]:[!1,y,{}]}function ru(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function RR(n){var s=n,{page:e}=s,t=Me(s,["page"]);let{router:a}=JS(),o=S.useMemo(()=>yi(a.routes,e,a.basename),[a.routes,e,a.basename]);return o?S.createElement(DR,U({page:e,matches:o},t)):null}function MR(e){let{manifest:t,routeModules:n}=eN(),[s,a]=S.useState([]);return S.useEffect(()=>{let o=!1;return NR(e,t,n).then(l=>{o||a(l)}),()=>{o=!0}},[e,t,n]),s}function DR(s){var a=s,{page:e,matches:t}=a,n=Me(a,["page","matches"]);let o=Ri(),{manifest:l,routeModules:d}=eN(),{basename:f}=JS(),{loaderData:h,matches:p}=OR(),x=S.useMemo(()=>$_(e,t,p,l,o,"data"),[e,t,p,l,o]),y=S.useMemo(()=>$_(e,t,p,l,o,"assets"),[e,t,p,l,o]),b=S.useMemo(()=>{if(e===o.pathname+o.search+o.hash)return[];let j=new Set,N=!1;if(t.forEach(C=>{var A;let R=l.routes[C.route.id];!R||!R.hasLoader||(!x.some(M=>M.route.id===C.route.id)&&C.route.id in h&&((A=d[C.route.id])!=null&&A.shouldRevalidate)||R.hasClientLoader?N=!0:j.add(C.route.id))}),j.size===0)return[];let k=_R(e,f,"data");return N&&j.size>0&&k.searchParams.set("_routes",t.filter(C=>j.has(C.route.id)).map(C=>C.route.id).join(",")),[k.pathname+k.search]},[f,h,o,l,x,t,e,d]),w=S.useMemo(()=>ER(y,l),[y,l]),_=MR(y);return S.createElement(S.Fragment,null,b.map(j=>S.createElement("link",U({key:j,rel:"prefetch",as:"fetch",href:j},n))),w.map(j=>S.createElement("link",U({key:j,rel:"modulepreload",href:j},n))),_.map(({key:j,link:N})=>S.createElement("link",U({key:j},N))))}function PR(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var tN=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{tN&&(window.__reactRouterVersion="7.7.1")}catch(e){}function LR(e,t){return jA({basename:t==null?void 0:t.basename,unstable_getContext:t==null?void 0:t.unstable_getContext,future:t==null?void 0:t.future,history:VO({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||zR(),routes:e,mapRouteProperties:iR,hydrationRouteProperties:oR,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function zR(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e=xe(U({},e),{errors:UR(e.errors)})),e}function UR(e){if(!e)return null;let t=Object.entries(e),n={};for(let[s,a]of t)if(a&&a.__type==="RouteErrorResponse")n[s]=new dh(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let l=new o(a.message);l.stack="",n[s]=l}catch(l){}}if(n[s]==null){let o=new Error(a.message);o.stack="",n[s]=o}}else n[s]=a;return n}var nN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sN=S.forwardRef(function(w,b){var _=w,{onClick:t,discover:n="render",prefetch:s="none",relative:a,reloadDocument:o,replace:l,state:d,target:f,to:h,preventScrollReset:p,viewTransition:x}=_,y=Me(_,["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"]);let{basename:j}=S.useContext(aa),N=typeof h=="string"&&nN.test(h),k,C=!1;if(typeof h=="string"&&N&&(k=h,tN))try{let $=new URL(window.location.href),Z=h.startsWith("//")?new URL($.protocol+h):new URL(h),le=yr(Z.pathname,j);Z.origin===$.origin&&le!=null?h=le+Z.search+Z.hash:C=!0}catch($){$n(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=$A(h,{relative:a}),[A,M,z]=AR(s,y),P=HR(h,{replace:l,state:d,target:f,preventScrollReset:p,relative:a,viewTransition:x});function V($){t&&t($),$.defaultPrevented||P($)}let te=S.createElement("a",xe(U(U({},y),z),{href:k||R,onClick:C||o?t:V,ref:PR(b,M),target:f,"data-discover":!N&&n==="render"?"true":void 0}));return A&&!N?S.createElement(S.Fragment,null,te,S.createElement(RR,{page:R})):te});sN.displayName="Link";var rN=S.forwardRef(function(x,p){var y=x,{"aria-current":t="page",caseSensitive:n=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:d,children:f}=y,h=Me(y,["aria-current","caseSensitive","className","end","style","to","viewTransition","children"]);let b=Iu(l,{relative:h.relative}),w=Ri(),_=S.useContext(qu),{navigator:j,basename:N}=S.useContext(aa),k=_!=null&&IR(b)&&d===!0,C=j.encodeLocation?j.encodeLocation(b).pathname:b.pathname,R=w.pathname,A=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(R=R.toLowerCase(),A=A?A.toLowerCase():null,C=C.toLowerCase()),A&&N&&(A=yr(A,N)||A);const M=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let z=R===C||!a&&R.startsWith(C)&&R.charAt(M)==="/",P=A!=null&&(A===C||!a&&A.startsWith(C)&&A.charAt(C.length)==="/"),V={isActive:z,isPending:P,isTransitioning:k},te=z?t:void 0,$;typeof s=="function"?$=s(V):$=[s,z?"active":null,P?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let Z=typeof o=="function"?o(V):o;return S.createElement(sN,xe(U({},h),{"aria-current":te,className:$,ref:p,style:Z,to:l,viewTransition:d}),typeof f=="function"?f(V):f)});rN.displayName="NavLink";var BR=S.forwardRef((w,b)=>{var _=w,{discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:a,state:o,method:l=Kf,action:d,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:x}=_,y=Me(_,["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"]);let j=qR(),N=YR(d,{relative:h}),k=l.toLowerCase()==="get"?"get":"post",C=typeof d=="string"&&nN.test(d),R=A=>{if(f&&f(A),A.defaultPrevented)return;A.preventDefault();let M=A.nativeEvent.submitter,z=(M==null?void 0:M.getAttribute("formmethod"))||l;j(M||A.currentTarget,{fetcherKey:t,method:z,navigate:n,replace:a,state:o,relative:h,preventScrollReset:p,viewTransition:x})};return S.createElement("form",xe(U({ref:b,method:k,action:N,onSubmit:s?f:R},y),{"data-discover":!C&&e==="render"?"true":void 0}))});BR.displayName="Form";function FR(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aN(e){let t=S.useContext(Ro);return Lt(t,FR(e)),t}function HR(e,{target:t,replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l}={}){let d=qA(),f=Ri(),h=Iu(e,{relative:o});return S.useCallback(p=>{if(yR(p,t)){p.preventDefault();let x=n!==void 0?n:Ni(f)===Ni(h);d(e,{replace:x,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[f,d,h,n,s,t,e,a,o,l])}var VR=0,$R=()=>`__${String(++VR)}__`;function qR(){let{router:e}=aN("useSubmit"),{basename:t}=S.useContext(aa),n=sR();return S.useCallback((o,...l)=>pe(null,[o,...l],function*(s,a={}){let{action:d,method:f,encType:h,formData:p,body:x}=wR(s,t);if(a.navigate===!1){let y=a.fetcherKey||$R();yield e.fetch(y,n,a.action||d,{preventScrollReset:a.preventScrollReset,formData:p,body:x,formMethod:a.method||f,formEncType:a.encType||h,flushSync:a.flushSync})}else yield e.navigate(a.action||d,{preventScrollReset:a.preventScrollReset,formData:p,body:x,formMethod:a.method||f,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})}),[e,t,n])}function YR(e,{relative:t}={}){let{basename:n}=S.useContext(aa),s=S.useContext(ia);Lt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),o=U({},Iu(e||".",{relative:t})),l=Ri();if(e==null){o.search=l.search;let d=new URLSearchParams(o.search),f=d.getAll("index");if(f.some(p=>p==="")){d.delete("index"),f.filter(x=>x).forEach(x=>d.append("index",x));let p=d.toString();o.search=p?`?${p}`:""}}return(!e||e===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:ea([n,o.pathname])),Ni(o)}function IR(e,{relative:t}={}){let n=S.useContext(lx);Lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=aN("useViewTransitionState"),a=Iu(e,{relative:t});if(!n.isTransitioning)return!1;let o=yr(n.currentLocation.pathname,s)||n.currentLocation.pathname,l=yr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return uh(a.pathname,l)!=null||uh(a.pathname,o)!=null}var Uh=sS();const WR=W0(Uh);function XR(e){return S.createElement(cR,U({flushSync:Uh.flushSync},e))}/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KR=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),q_=e=>{const t=KR(e);return t.charAt(0).toUpperCase()+t.slice(1)},iN=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),QR=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=S.forwardRef((h,f)=>{var p=h,{color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:o,iconNode:l}=p,d=Me(p,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return S.createElement("svg",U(U(xe(U({ref:f},ZR),{width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:iN("lucide",a)}),!o&&!QR(d)&&{"aria-hidden":"true"}),d),[...l.map(([x,y])=>S.createElement(x,y)),...Array.isArray(o)?o:[o]])});/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=(e,t)=>{const n=S.forwardRef((l,o)=>{var d=l,{className:s}=d,a=Me(d,["className"]);return S.createElement(JR,U({ref:o,iconNode:t,className:iN(`lucide-${GR(q_(e))}`,`lucide-${e}`,s)},a))});return n.displayName=q_(e),n};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],tM=vt("activity",eM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],mx=vt("arrow-left",nM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],rM=vt("bell",sM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],gr=vt("calendar",aM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],oM=vt("chart-column",iM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],cM=vt("check",lM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],oN=vt("chevron-down",uM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],fM=vt("chevron-up",dM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],mM=vt("chevrons-up-down",hM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],jo=vt("circle-alert",pM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],xM=vt("circle-check-big",gM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Bh=vt("circle-check",yM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],vM=vt("circle",bM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Il=vt("clock",wM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],jM=vt("crown",_M);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],px=vt("dollar-sign",SM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],EM=vt("ellipsis-vertical",NM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],lN=vt("file-text",TM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],CM=vt("flag",kM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],AM=vt("folder-open",OM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],gx=vt("funnel",RM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],DM=vt("grid-3x3",MM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],LM=vt("layout-dashboard",PM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],UM=vt("list",zM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],y0=vt("loader-circle",BM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],HM=vt("log-out",FM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],$M=vt("menu",VM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],YM=vt("pause",qM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],WM=vt("pen",IM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],GM=vt("piggy-bank",XM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],QM=vt("play",KM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],So=vt("plus",ZM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],xx=vt("refresh-cw",JM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Fh=vt("search",eD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],cN=vt("settings",tD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],sD=vt("square-check-big",nD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Dl=vt("square-pen",rD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],iD=vt("square",aD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],yx=vt("target",oD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Fl=vt("trash-2",lD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Hh=vt("triangle-alert",cD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Du=vt("user",uD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Zf=vt("users",dD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],hD=vt("x",fD),mD=[{name:"Dashboard",href:"/",icon:LM},{name:"Projects",href:"/projects",icon:AM},{name:"Tasks",href:"/tasks",icon:sD},{name:"Time Tracking",href:"/time-tracking",icon:Il},{name:"Cost Analysis",href:"/cost-analysis",icon:px},{name:"Reports",href:"/reports",icon:oM},{name:"Calendar",href:"/calendar",icon:gr},{name:"Team",href:"/team",icon:Zf},{name:"Documents",href:"/documents",icon:lN},{name:"Settings",href:"/settings",icon:cN}],Y_=()=>{const e=Ri();return u.jsxs("div",{className:"flex flex-col w-64 bg-white shadow-lg border-r border-gray-200",children:[u.jsx("div",{className:"flex items-center justify-center h-16 px-4 border-b border-gray-200",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",children:u.jsx("img",{src:"https://ctuav.vn/wp-content/uploads/2024/08/Logo-moi-ctuav.png",alt:"CT UAV Logo",className:"w-8 h-8 object-contain"})}),u.jsx("span",{className:"text-xl font-bold text-gray-800",children:"CT UAV"})]})}),u.jsx("nav",{className:"flex-1 px-4 py-6 space-y-1",children:mD.map(t=>{const n=e.pathname===t.href;return u.jsxs(rN,{to:t.href,className:`
                group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-all duration-200
                ${n?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-md":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}
              `,children:[u.jsx(t.icon,{className:`
                  mr-3 h-5 w-5 transition-colors duration-200
                  ${n?"text-white":"text-gray-500 group-hover:text-gray-700"}
                `}),t.name]},t.name)})}),u.jsx("div",{className:"p-4 border-t border-gray-200",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-white font-medium text-sm",children:"U"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:"Admin"}),u.jsx("p",{className:"text-xs text-gray-500 truncate",children:"admin@ctgroupvietnam.com"})]})]})})]})};function Js(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function I_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function No(...e){return t=>{let n=!1;const s=e.map(a=>{const o=I_(a,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let a=0;a<s.length;a++){const o=s[a];typeof o=="function"?o():I_(e[a],null)}}}}function zr(...e){return S.useCallback(No(...e),e)}function pD(e,t){const n=S.createContext(t),s=o=>{const h=o,{children:l}=h,d=Me(h,["children"]),f=S.useMemo(()=>d,Object.values(d));return u.jsx(n.Provider,{value:f,children:l})};s.displayName=e+"Provider";function a(o){const l=S.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[s,a]}function bx(e,t=[]){let n=[];function s(o,l){const d=S.createContext(l),f=n.length;n=[...n,l];const h=x=>{var k;const N=x,{scope:y,children:b}=N,w=Me(N,["scope","children"]),_=((k=y==null?void 0:y[e])==null?void 0:k[f])||d,j=S.useMemo(()=>w,Object.values(w));return u.jsx(_.Provider,{value:j,children:b})};h.displayName=o+"Provider";function p(x,y){var _;const b=((_=y==null?void 0:y[e])==null?void 0:_[f])||d,w=S.useContext(b);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${x}\` must be used within \`${o}\``)}return[h,p]}const a=()=>{const o=n.map(l=>S.createContext(l));return function(d){const f=(d==null?void 0:d[e])||o;return S.useMemo(()=>({[`__scope${e}`]:xe(U({},d),{[e]:f})}),[d,f])}};return a.scopeName=e,[s,gD(a,...t)]}function gD(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const l=s.reduce((d,{useScope:f,scopeName:h})=>{const x=f(o)[`__scope${h}`];return U(U({},d),x)},{});return S.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function Vh(e){const t=yD(e),n=S.forwardRef((s,a)=>{const h=s,{children:o}=h,l=Me(h,["children"]),d=S.Children.toArray(o),f=d.find(vD);if(f){const p=f.props.children,x=d.map(y=>y===f?S.Children.count(p)>1?S.Children.only(null):S.isValidElement(p)?p.props.children:null:y);return u.jsx(t,xe(U({},l),{ref:a,children:S.isValidElement(p)?S.cloneElement(p,void 0,x):null}))}return u.jsx(t,xe(U({},l),{ref:a,children:o}))});return n.displayName=`${e}.Slot`,n}var xD=Vh("Slot");function yD(e){const t=S.forwardRef((n,s)=>{const l=n,{children:a}=l,o=Me(l,["children"]);if(S.isValidElement(a)){const d=_D(a),f=wD(o,a.props);return a.type!==S.Fragment&&(f.ref=s?No(s,d):d),S.cloneElement(a,f)}return S.Children.count(a)>1?S.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var bD=Symbol("radix.slottable");function vD(e){return S.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===bD}function wD(e,t){const n=U({},t);for(const s in t){const a=e[s],o=t[s];/^on[A-Z]/.test(s)?a&&o?n[s]=(...d)=>{const f=o(...d);return a(...d),f}:a&&(n[s]=a):s==="style"?n[s]=U(U({},a),o):s==="className"&&(n[s]=[a,o].filter(Boolean).join(" "))}return U(U({},e),n)}function _D(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var jD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],jn=jD.reduce((e,t)=>{const n=Vh(`Primitive.${t}`),s=S.forwardRef((a,o)=>{const h=a,{asChild:l}=h,d=Me(h,["asChild"]),f=l?n:t;return typeof window!="undefined"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(f,xe(U({},d),{ref:o}))});return s.displayName=`Primitive.${t}`,xe(U({},e),{[t]:s})},{});function SD(e,t){e&&Uh.flushSync(()=>e.dispatchEvent(t))}function Hl(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),S.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function ND(e,t=globalThis==null?void 0:globalThis.document){const n=Hl(e);S.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var ED="DismissableLayer",b0="dismissableLayer.update",TD="dismissableLayer.pointerDownOutside",kD="dismissableLayer.focusOutside",W_,uN=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vx=S.forwardRef((e,t)=>{var P;const z=e,{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:l,onDismiss:d}=z,f=Me(z,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),h=S.useContext(uN),[p,x]=S.useState(null),y=(P=p==null?void 0:p.ownerDocument)!=null?P:globalThis==null?void 0:globalThis.document,[,b]=S.useState({}),w=zr(t,V=>x(V)),_=Array.from(h.layers),[j]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),N=_.indexOf(j),k=p?_.indexOf(p):-1,C=h.layersWithOutsidePointerEventsDisabled.size>0,R=k>=N,A=AD(V=>{const te=V.target,$=[...h.branches].some(Z=>Z.contains(te));!R||$||(a==null||a(V),l==null||l(V),V.defaultPrevented||d==null||d())},y),M=RD(V=>{const te=V.target;[...h.branches].some(Z=>Z.contains(te))||(o==null||o(V),l==null||l(V),V.defaultPrevented||d==null||d())},y);return ND(V=>{k===h.layers.size-1&&(s==null||s(V),!V.defaultPrevented&&d&&(V.preventDefault(),d()))},y),S.useEffect(()=>{if(p)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(W_=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),X_(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=W_)}},[p,y,n,h]),S.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),X_())},[p,h]),S.useEffect(()=>{const V=()=>b({});return document.addEventListener(b0,V),()=>document.removeEventListener(b0,V)},[]),u.jsx(jn.div,xe(U({},f),{ref:w,style:U({pointerEvents:C?R?"auto":"none":void 0},e.style),onFocusCapture:Js(e.onFocusCapture,M.onFocusCapture),onBlurCapture:Js(e.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Js(e.onPointerDownCapture,A.onPointerDownCapture)}))});vx.displayName=ED;var CD="DismissableLayerBranch",OD=S.forwardRef((e,t)=>{const n=S.useContext(uN),s=S.useRef(null),a=zr(t,s);return S.useEffect(()=>{const o=s.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),u.jsx(jn.div,xe(U({},e),{ref:a}))});OD.displayName=CD;function AD(e,t=globalThis==null?void 0:globalThis.document){const n=Hl(e),s=S.useRef(!1),a=S.useRef(()=>{});return S.useEffect(()=>{const o=d=>{if(d.target&&!s.current){let f=function(){dN(TD,n,h,{discrete:!0})};const h={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=f,t.addEventListener("click",a.current,{once:!0})):f()}else t.removeEventListener("click",a.current);s.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function RD(e,t=globalThis==null?void 0:globalThis.document){const n=Hl(e),s=S.useRef(!1);return S.useEffect(()=>{const a=o=>{o.target&&!s.current&&dN(kD,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function X_(){const e=new CustomEvent(b0);document.dispatchEvent(e)}function dN(e,t,n,{discrete:s}){const a=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?SD(a,o):a.dispatchEvent(o)}var bg=0;function fN(){S.useEffect(()=>{var t,n;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:G_()),document.body.insertAdjacentElement("beforeend",(n=e[1])!=null?n:G_()),bg++,()=>{bg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),bg--}},[])}function G_(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var vg="focusScope.autoFocusOnMount",wg="focusScope.autoFocusOnUnmount",K_={bubbles:!1,cancelable:!0},MD="FocusScope",wx=S.forwardRef((e,t)=>{const _=e,{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:o}=_,l=Me(_,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),[d,f]=S.useState(null),h=Hl(a),p=Hl(o),x=S.useRef(null),y=zr(t,j=>f(j)),b=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(s){let j=function(R){if(b.paused||!d)return;const A=R.target;d.contains(A)?x.current=A:pi(x.current,{select:!0})},N=function(R){if(b.paused||!d)return;const A=R.relatedTarget;A!==null&&(d.contains(A)||pi(x.current,{select:!0}))},k=function(R){if(document.activeElement===document.body)for(const M of R)M.removedNodes.length>0&&pi(d)};document.addEventListener("focusin",j),document.addEventListener("focusout",N);const C=new MutationObserver(k);return d&&C.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",N),C.disconnect()}}},[s,d,b.paused]),S.useEffect(()=>{if(d){Z_.add(b);const j=document.activeElement;if(!d.contains(j)){const k=new CustomEvent(vg,K_);d.addEventListener(vg,h),d.dispatchEvent(k),k.defaultPrevented||(DD(BD(hN(d)),{select:!0}),document.activeElement===j&&pi(d))}return()=>{d.removeEventListener(vg,h),setTimeout(()=>{const k=new CustomEvent(wg,K_);d.addEventListener(wg,p),d.dispatchEvent(k),k.defaultPrevented||pi(j!=null?j:document.body,{select:!0}),d.removeEventListener(wg,p),Z_.remove(b)},0)}}},[d,h,p,b]);const w=S.useCallback(j=>{if(!n&&!s||b.paused)return;const N=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,k=document.activeElement;if(N&&k){const C=j.currentTarget,[R,A]=PD(C);R&&A?!j.shiftKey&&k===A?(j.preventDefault(),n&&pi(R,{select:!0})):j.shiftKey&&k===R&&(j.preventDefault(),n&&pi(A,{select:!0})):k===C&&j.preventDefault()}},[n,s,b.paused]);return u.jsx(jn.div,xe(U({tabIndex:-1},l),{ref:y,onKeyDown:w}))});wx.displayName=MD;function DD(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(pi(s,{select:t}),document.activeElement!==n)return}function PD(e){const t=hN(e),n=Q_(t,e),s=Q_(t.reverse(),e);return[n,s]}function hN(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Q_(e,t){for(const n of e)if(!LD(n,{upTo:t}))return n}function LD(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function zD(e){return e instanceof HTMLInputElement&&"select"in e}function pi(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&zD(e)&&t&&e.select()}}var Z_=UD();function UD(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=J_(e,t),e.unshift(t)},remove(t){var n;e=J_(e,t),(n=e[0])==null||n.resume()}}}function J_(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function BD(e){return e.filter(t=>t.tagName!=="A")}var Ei=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},FD=nS[" useId ".trim().toString()]||(()=>{}),HD=0;function ta(e){const[t,n]=S.useState(FD());return Ei(()=>{n(s=>s!=null?s:String(HD++))},[e]),e||(t?`radix-${t}`:"")}const VD=["top","right","bottom","left"],Ti=Math.min,Zs=Math.max,hh=Math.round,xf=Math.floor,na=e=>({x:e,y:e}),$D={left:"right",right:"left",bottom:"top",top:"bottom"},qD={start:"end",end:"start"};function v0(e,t,n){return Zs(e,Ti(t,n))}function La(e,t){return typeof e=="function"?e(t):e}function za(e){return e.split("-")[0]}function Wl(e){return e.split("-")[1]}function _x(e){return e==="x"?"y":"x"}function jx(e){return e==="y"?"height":"width"}const YD=new Set(["top","bottom"]);function Qr(e){return YD.has(za(e))?"y":"x"}function Sx(e){return _x(Qr(e))}function ID(e,t,n){n===void 0&&(n=!1);const s=Wl(e),a=Sx(e),o=jx(a);let l=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=mh(l)),[l,mh(l)]}function WD(e){const t=mh(e);return[w0(e),t,w0(t)]}function w0(e){return e.replace(/start|end/g,t=>qD[t])}const ej=["left","right"],tj=["right","left"],XD=["top","bottom"],GD=["bottom","top"];function KD(e,t,n){switch(e){case"top":case"bottom":return n?t?tj:ej:t?ej:tj;case"left":case"right":return t?XD:GD;default:return[]}}function QD(e,t,n,s){const a=Wl(e);let o=KD(za(e),n==="start",s);return a&&(o=o.map(l=>l+"-"+a),t&&(o=o.concat(o.map(w0)))),o}function mh(e){return e.replace(/left|right|bottom|top/g,t=>$D[t])}function ZD(e){return U({top:0,right:0,bottom:0,left:0},e)}function mN(e){return typeof e!="number"?ZD(e):{top:e,right:e,bottom:e,left:e}}function ph(e){const{x:t,y:n,width:s,height:a}=e;return{width:s,height:a,top:n,left:t,right:t+s,bottom:n+a,x:t,y:n}}function nj(e,t,n){let{reference:s,floating:a}=e;const o=Qr(t),l=Sx(t),d=jx(l),f=za(t),h=o==="y",p=s.x+s.width/2-a.width/2,x=s.y+s.height/2-a.height/2,y=s[d]/2-a[d]/2;let b;switch(f){case"top":b={x:p,y:s.y-a.height};break;case"bottom":b={x:p,y:s.y+s.height};break;case"right":b={x:s.x+s.width,y:x};break;case"left":b={x:s.x-a.width,y:x};break;default:b={x:s.x,y:s.y}}switch(Wl(t)){case"start":b[l]-=y*(n&&h?-1:1);break;case"end":b[l]+=y*(n&&h?-1:1);break}return b}const JD=(e,t,n)=>pe(null,null,function*(){const{placement:s="bottom",strategy:a="absolute",middleware:o=[],platform:l}=n,d=o.filter(Boolean),f=yield l.isRTL==null?void 0:l.isRTL(t);let h=yield l.getElementRects({reference:e,floating:t,strategy:a}),{x:p,y:x}=nj(h,s,f),y=s,b={},w=0;for(let _=0;_<d.length;_++){const{name:j,fn:N}=d[_],{x:k,y:C,data:R,reset:A}=yield N({x:p,y:x,initialPlacement:s,placement:y,strategy:a,middlewareData:b,rects:h,platform:l,elements:{reference:e,floating:t}});p=k!=null?k:p,x=C!=null?C:x,b=xe(U({},b),{[j]:U(U({},b[j]),R)}),A&&w<=50&&(w++,typeof A=="object"&&(A.placement&&(y=A.placement),A.rects&&(h=A.rects===!0?yield l.getElementRects({reference:e,floating:t,strategy:a}):A.rects),{x:p,y:x}=nj(h,y,f)),_=-1)}return{x:p,y:x,placement:y,strategy:a,middlewareData:b}});function Pu(e,t){return pe(this,null,function*(){var n;t===void 0&&(t={});const{x:s,y:a,platform:o,rects:l,elements:d,strategy:f}=e,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:x="floating",altBoundary:y=!1,padding:b=0}=La(t,e),w=mN(b),j=d[y?x==="floating"?"reference":"floating":x],N=ph(yield o.getClippingRect({element:(n=yield o.isElement==null?void 0:o.isElement(j))==null||n?j:j.contextElement||(yield o.getDocumentElement==null?void 0:o.getDocumentElement(d.floating)),boundary:h,rootBoundary:p,strategy:f})),k=x==="floating"?{x:s,y:a,width:l.floating.width,height:l.floating.height}:l.reference,C=yield o.getOffsetParent==null?void 0:o.getOffsetParent(d.floating),R=(yield o.isElement==null?void 0:o.isElement(C))?(yield o.getScale==null?void 0:o.getScale(C))||{x:1,y:1}:{x:1,y:1},A=ph(o.convertOffsetParentRelativeRectToViewportRelativeRect?yield o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:k,offsetParent:C,strategy:f}):k);return{top:(N.top-A.top+w.top)/R.y,bottom:(A.bottom-N.bottom+w.bottom)/R.y,left:(N.left-A.left+w.left)/R.x,right:(A.right-N.right+w.right)/R.x}})}const eP=e=>({name:"arrow",options:e,fn(n){return pe(this,null,function*(){const{x:s,y:a,placement:o,rects:l,platform:d,elements:f,middlewareData:h}=n,{element:p,padding:x=0}=La(e,n)||{};if(p==null)return{};const y=mN(x),b={x:s,y:a},w=Sx(o),_=jx(w),j=yield d.getDimensions(p),N=w==="y",k=N?"top":"left",C=N?"bottom":"right",R=N?"clientHeight":"clientWidth",A=l.reference[_]+l.reference[w]-b[w]-l.floating[_],M=b[w]-l.reference[w],z=yield d.getOffsetParent==null?void 0:d.getOffsetParent(p);let P=z?z[R]:0;(!P||!(yield d.isElement==null?void 0:d.isElement(z)))&&(P=f.floating[R]||l.floating[_]);const V=A/2-M/2,te=P/2-j[_]/2-1,$=Ti(y[k],te),Z=Ti(y[C],te),le=$,J=P-j[_]-Z,I=P/2-j[_]/2+V,B=v0(le,I,J),Y=!h.arrow&&Wl(o)!=null&&I!==B&&l.reference[_]/2-(I<le?$:Z)-j[_]/2<0,Q=Y?I<le?I-le:I-J:0;return{[w]:b[w]+Q,data:U({[w]:B,centerOffset:I-B-Q},Y&&{alignmentOffset:Q}),reset:Y}})}}),tP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,fn(n){return pe(this,null,function*(){var s,a;const{placement:o,middlewareData:l,rects:d,initialPlacement:f,platform:h,elements:p}=n,I=La(e,n),{mainAxis:x=!0,crossAxis:y=!0,fallbackPlacements:b,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:j=!0}=I,N=Me(I,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if((s=l.arrow)!=null&&s.alignmentOffset)return{};const k=za(o),C=Qr(f),R=za(f)===f,A=yield h.isRTL==null?void 0:h.isRTL(p.floating),M=b||(R||!j?[mh(f)]:WD(f)),z=_!=="none";!b&&z&&M.push(...QD(f,j,_,A));const P=[f,...M],V=yield Pu(n,N),te=[];let $=((a=l.flip)==null?void 0:a.overflows)||[];if(x&&te.push(V[k]),y){const B=ID(o,d,A);te.push(V[B[0]],V[B[1]])}if($=[...$,{placement:o,overflows:te}],!te.every(B=>B<=0)){var Z,le;const B=(((Z=l.flip)==null?void 0:Z.index)||0)+1,Y=P[B];if(Y&&(!(y==="alignment"?C!==Qr(Y):!1)||$.every(H=>Qr(H.placement)===C?H.overflows[0]>0:!0)))return{data:{index:B,overflows:$},reset:{placement:Y}};let Q=(le=$.filter(ve=>ve.overflows[0]<=0).sort((ve,H)=>ve.overflows[1]-H.overflows[1])[0])==null?void 0:le.placement;if(!Q)switch(w){case"bestFit":{var J;const ve=(J=$.filter(H=>{if(z){const ae=Qr(H.placement);return ae===C||ae==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(ae=>ae>0).reduce((ae,ye)=>ae+ye,0)]).sort((H,ae)=>H[1]-ae[1])[0])==null?void 0:J[0];ve&&(Q=ve);break}case"initialPlacement":Q=f;break}if(o!==Q)return{reset:{placement:Q}}}return{}})}}};function sj(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function rj(e){return VD.some(t=>e[t]>=0)}const nP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,fn(n){return pe(this,null,function*(){const{rects:s}=n,l=La(e,n),{strategy:a="referenceHidden"}=l,o=Me(l,["strategy"]);switch(a){case"referenceHidden":{const d=yield Pu(n,xe(U({},o),{elementContext:"reference"})),f=sj(d,s.reference);return{data:{referenceHiddenOffsets:f,referenceHidden:rj(f)}}}case"escaped":{const d=yield Pu(n,xe(U({},o),{altBoundary:!0})),f=sj(d,s.floating);return{data:{escapedOffsets:f,escaped:rj(f)}}}default:return{}}})}}},pN=new Set(["left","top"]);function sP(e,t){return pe(this,null,function*(){const{placement:n,platform:s,elements:a}=e,o=yield s.isRTL==null?void 0:s.isRTL(a.floating),l=za(n),d=Wl(n),f=Qr(n)==="y",h=pN.has(l)?-1:1,p=o&&f?-1:1,x=La(t,e);let{mainAxis:y,crossAxis:b,alignmentAxis:w}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return d&&typeof w=="number"&&(b=d==="end"?w*-1:w),f?{x:b*p,y:y*h}:{x:y*h,y:b*p}})}const rP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,fn(n){return pe(this,null,function*(){var s,a;const{x:o,y:l,placement:d,middlewareData:f}=n,h=yield sP(n,e);return d===((s=f.offset)==null?void 0:s.placement)&&(a=f.arrow)!=null&&a.alignmentOffset?{}:{x:o+h.x,y:l+h.y,data:xe(U({},h),{placement:d})}})}}},aP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,fn(n){return pe(this,null,function*(){const{x:s,y:a,placement:o}=n,N=La(e,n),{mainAxis:l=!0,crossAxis:d=!1,limiter:f={fn:k=>{let{x:C,y:R}=k;return{x:C,y:R}}}}=N,h=Me(N,["mainAxis","crossAxis","limiter"]),p={x:s,y:a},x=yield Pu(n,h),y=Qr(za(o)),b=_x(y);let w=p[b],_=p[y];if(l){const k=b==="y"?"top":"left",C=b==="y"?"bottom":"right",R=w+x[k],A=w-x[C];w=v0(R,w,A)}if(d){const k=y==="y"?"top":"left",C=y==="y"?"bottom":"right",R=_+x[k],A=_-x[C];_=v0(R,_,A)}const j=f.fn(xe(U({},n),{[b]:w,[y]:_}));return xe(U({},j),{data:{x:j.x-s,y:j.y-a,enabled:{[b]:l,[y]:d}}})})}}},iP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:a,rects:o,middlewareData:l}=t,{offset:d=0,mainAxis:f=!0,crossAxis:h=!0}=La(e,t),p={x:n,y:s},x=Qr(a),y=_x(x);let b=p[y],w=p[x];const _=La(d,t),j=typeof _=="number"?{mainAxis:_,crossAxis:0}:U({mainAxis:0,crossAxis:0},_);if(f){const C=y==="y"?"height":"width",R=o.reference[y]-o.floating[C]+j.mainAxis,A=o.reference[y]+o.reference[C]-j.mainAxis;b<R?b=R:b>A&&(b=A)}if(h){var N,k;const C=y==="y"?"width":"height",R=pN.has(za(a)),A=o.reference[x]-o.floating[C]+(R&&((N=l.offset)==null?void 0:N[x])||0)+(R?0:j.crossAxis),M=o.reference[x]+o.reference[C]+(R?0:((k=l.offset)==null?void 0:k[x])||0)-(R?j.crossAxis:0);w<A?w=A:w>M&&(w=M)}return{[y]:b,[x]:w}}}},oP=function(e){return e===void 0&&(e={}),{name:"size",options:e,fn(n){return pe(this,null,function*(){var s,a;const{placement:o,rects:l,platform:d,elements:f}=n,$=La(e,n),{apply:h=()=>{}}=$,p=Me($,["apply"]),x=yield Pu(n,p),y=za(o),b=Wl(o),w=Qr(o)==="y",{width:_,height:j}=l.floating;let N,k;y==="top"||y==="bottom"?(N=y,k=b===((yield d.isRTL==null?void 0:d.isRTL(f.floating))?"start":"end")?"left":"right"):(k=y,N=b==="end"?"top":"bottom");const C=j-x.top-x.bottom,R=_-x.left-x.right,A=Ti(j-x[N],C),M=Ti(_-x[k],R),z=!n.middlewareData.shift;let P=A,V=M;if((s=n.middlewareData.shift)!=null&&s.enabled.x&&(V=R),(a=n.middlewareData.shift)!=null&&a.enabled.y&&(P=C),z&&!b){const Z=Zs(x.left,0),le=Zs(x.right,0),J=Zs(x.top,0),I=Zs(x.bottom,0);w?V=_-2*(Z!==0||le!==0?Z+le:Zs(x.left,x.right)):P=j-2*(J!==0||I!==0?J+I:Zs(x.top,x.bottom))}yield h(xe(U({},n),{availableWidth:V,availableHeight:P}));const te=yield d.getDimensions(f.floating);return _!==te.width||j!==te.height?{reset:{rects:!0}}:{}})}}};function $h(){return typeof window!="undefined"}function Xl(e){return gN(e)?(e.nodeName||"").toLowerCase():"#document"}function er(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function oa(e){var t;return(t=(gN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function gN(e){return $h()?e instanceof Node||e instanceof er(e).Node:!1}function Pr(e){return $h()?e instanceof Element||e instanceof er(e).Element:!1}function ra(e){return $h()?e instanceof HTMLElement||e instanceof er(e).HTMLElement:!1}function aj(e){return!$h()||typeof ShadowRoot=="undefined"?!1:e instanceof ShadowRoot||e instanceof er(e).ShadowRoot}const lP=new Set(["inline","contents"]);function Wu(e){const{overflow:t,overflowX:n,overflowY:s,display:a}=Lr(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!lP.has(a)}const cP=new Set(["table","td","th"]);function uP(e){return cP.has(Xl(e))}const dP=[":popover-open",":modal"];function qh(e){return dP.some(t=>{try{return e.matches(t)}catch(n){return!1}})}const fP=["transform","translate","scale","rotate","perspective"],hP=["transform","translate","scale","rotate","perspective","filter"],mP=["paint","layout","strict","content"];function Nx(e){const t=Ex(),n=Pr(e)?Lr(e):e;return fP.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||hP.some(s=>(n.willChange||"").includes(s))||mP.some(s=>(n.contain||"").includes(s))}function pP(e){let t=ki(e);for(;ra(t)&&!Vl(t);){if(Nx(t))return t;if(qh(t))return null;t=ki(t)}return null}function Ex(){return typeof CSS=="undefined"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const gP=new Set(["html","body","#document"]);function Vl(e){return gP.has(Xl(e))}function Lr(e){return er(e).getComputedStyle(e)}function Yh(e){return Pr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ki(e){if(Xl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||aj(e)&&e.host||oa(e);return aj(t)?t.host:t}function xN(e){const t=ki(e);return Vl(t)?e.ownerDocument?e.ownerDocument.body:e.body:ra(t)&&Wu(t)?t:xN(t)}function Lu(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=xN(e),o=a===((s=e.ownerDocument)==null?void 0:s.body),l=er(a);if(o){const d=_0(l);return t.concat(l,l.visualViewport||[],Wu(a)?a:[],d&&n?Lu(d):[])}return t.concat(a,Lu(a,[],n))}function _0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function yN(e){const t=Lr(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=ra(e),o=a?e.offsetWidth:n,l=a?e.offsetHeight:s,d=hh(n)!==o||hh(s)!==l;return d&&(n=o,s=l),{width:n,height:s,$:d}}function Tx(e){return Pr(e)?e:e.contextElement}function Pl(e){const t=Tx(e);if(!ra(t))return na(1);const n=t.getBoundingClientRect(),{width:s,height:a,$:o}=yN(t);let l=(o?hh(n.width):n.width)/s,d=(o?hh(n.height):n.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!d||!Number.isFinite(d))&&(d=1),{x:l,y:d}}const xP=na(0);function bN(e){const t=er(e);return!Ex()||!t.visualViewport?xP:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function yP(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==er(e)?!1:t}function Eo(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),o=Tx(e);let l=na(1);t&&(s?Pr(s)&&(l=Pl(s)):l=Pl(e));const d=yP(o,n,s)?bN(o):na(0);let f=(a.left+d.x)/l.x,h=(a.top+d.y)/l.y,p=a.width/l.x,x=a.height/l.y;if(o){const y=er(o),b=s&&Pr(s)?er(s):s;let w=y,_=_0(w);for(;_&&s&&b!==w;){const j=Pl(_),N=_.getBoundingClientRect(),k=Lr(_),C=N.left+(_.clientLeft+parseFloat(k.paddingLeft))*j.x,R=N.top+(_.clientTop+parseFloat(k.paddingTop))*j.y;f*=j.x,h*=j.y,p*=j.x,x*=j.y,f+=C,h+=R,w=er(_),_=_0(w)}}return ph({width:p,height:x,x:f,y:h})}function kx(e,t){const n=Yh(e).scrollLeft;return t?t.left+n:Eo(oa(e)).left+n}function vN(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=s.left+t.scrollLeft-(n?0:kx(e,s)),o=s.top+t.scrollTop;return{x:a,y:o}}function bP(e){let{elements:t,rect:n,offsetParent:s,strategy:a}=e;const o=a==="fixed",l=oa(s),d=t?qh(t.floating):!1;if(s===l||d&&o)return n;let f={scrollLeft:0,scrollTop:0},h=na(1);const p=na(0),x=ra(s);if((x||!x&&!o)&&((Xl(s)!=="body"||Wu(l))&&(f=Yh(s)),ra(s))){const b=Eo(s);h=Pl(s),p.x=b.x+s.clientLeft,p.y=b.y+s.clientTop}const y=l&&!x&&!o?vN(l,f,!0):na(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-f.scrollLeft*h.x+p.x+y.x,y:n.y*h.y-f.scrollTop*h.y+p.y+y.y}}function vP(e){return Array.from(e.getClientRects())}function wP(e){const t=oa(e),n=Yh(e),s=e.ownerDocument.body,a=Zs(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),o=Zs(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let l=-n.scrollLeft+kx(e);const d=-n.scrollTop;return Lr(s).direction==="rtl"&&(l+=Zs(t.clientWidth,s.clientWidth)-a),{width:a,height:o,x:l,y:d}}function _P(e,t){const n=er(e),s=oa(e),a=n.visualViewport;let o=s.clientWidth,l=s.clientHeight,d=0,f=0;if(a){o=a.width,l=a.height;const h=Ex();(!h||h&&t==="fixed")&&(d=a.offsetLeft,f=a.offsetTop)}return{width:o,height:l,x:d,y:f}}const jP=new Set(["absolute","fixed"]);function SP(e,t){const n=Eo(e,!0,t==="fixed"),s=n.top+e.clientTop,a=n.left+e.clientLeft,o=ra(e)?Pl(e):na(1),l=e.clientWidth*o.x,d=e.clientHeight*o.y,f=a*o.x,h=s*o.y;return{width:l,height:d,x:f,y:h}}function ij(e,t,n){let s;if(t==="viewport")s=_P(e,n);else if(t==="document")s=wP(oa(e));else if(Pr(t))s=SP(t,n);else{const a=bN(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return ph(s)}function wN(e,t){const n=ki(e);return n===t||!Pr(n)||Vl(n)?!1:Lr(n).position==="fixed"||wN(n,t)}function NP(e,t){const n=t.get(e);if(n)return n;let s=Lu(e,[],!1).filter(d=>Pr(d)&&Xl(d)!=="body"),a=null;const o=Lr(e).position==="fixed";let l=o?ki(e):e;for(;Pr(l)&&!Vl(l);){const d=Lr(l),f=Nx(l);!f&&d.position==="fixed"&&(a=null),(o?!f&&!a:!f&&d.position==="static"&&!!a&&jP.has(a.position)||Wu(l)&&!f&&wN(e,l))?s=s.filter(p=>p!==l):a=d,l=ki(l)}return t.set(e,s),s}function EP(e){let{element:t,boundary:n,rootBoundary:s,strategy:a}=e;const l=[...n==="clippingAncestors"?qh(t)?[]:NP(t,this._c):[].concat(n),s],d=l[0],f=l.reduce((h,p)=>{const x=ij(t,p,a);return h.top=Zs(x.top,h.top),h.right=Ti(x.right,h.right),h.bottom=Ti(x.bottom,h.bottom),h.left=Zs(x.left,h.left),h},ij(t,d,a));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function TP(e){const{width:t,height:n}=yN(e);return{width:t,height:n}}function kP(e,t,n){const s=ra(t),a=oa(t),o=n==="fixed",l=Eo(e,!0,o,t);let d={scrollLeft:0,scrollTop:0};const f=na(0);function h(){f.x=kx(a)}if(s||!s&&!o)if((Xl(t)!=="body"||Wu(a))&&(d=Yh(t)),s){const b=Eo(t,!0,o,t);f.x=b.x+t.clientLeft,f.y=b.y+t.clientTop}else a&&h();o&&!s&&a&&h();const p=a&&!s&&!o?vN(a,d):na(0),x=l.left+d.scrollLeft-f.x-p.x,y=l.top+d.scrollTop-f.y-p.y;return{x,y,width:l.width,height:l.height}}function _g(e){return Lr(e).position==="static"}function oj(e,t){if(!ra(e)||Lr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return oa(e)===n&&(n=n.ownerDocument.body),n}function _N(e,t){const n=er(e);if(qh(e))return n;if(!ra(e)){let a=ki(e);for(;a&&!Vl(a);){if(Pr(a)&&!_g(a))return a;a=ki(a)}return n}let s=oj(e,t);for(;s&&uP(s)&&_g(s);)s=oj(s,t);return s&&Vl(s)&&_g(s)&&!Nx(s)?n:s||pP(e)||n}const CP=function(e){return pe(this,null,function*(){const t=this.getOffsetParent||_N,n=this.getDimensions,s=yield n(e.floating);return{reference:kP(e.reference,yield t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}})};function OP(e){return Lr(e).direction==="rtl"}const AP={convertOffsetParentRelativeRectToViewportRelativeRect:bP,getDocumentElement:oa,getClippingRect:EP,getOffsetParent:_N,getElementRects:CP,getClientRects:vP,getDimensions:TP,getScale:Pl,isElement:Pr,isRTL:OP};function jN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function RP(e,t){let n=null,s;const a=oa(e);function o(){var d;clearTimeout(s),(d=n)==null||d.disconnect(),n=null}function l(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),o();const h=e.getBoundingClientRect(),{left:p,top:x,width:y,height:b}=h;if(d||t(),!y||!b)return;const w=xf(x),_=xf(a.clientWidth-(p+y)),j=xf(a.clientHeight-(x+b)),N=xf(p),C={rootMargin:-w+"px "+-_+"px "+-j+"px "+-N+"px",threshold:Zs(0,Ti(1,f))||1};let R=!0;function A(M){const z=M[0].intersectionRatio;if(z!==f){if(!R)return l();z?l(!1,z):s=setTimeout(()=>{l(!1,1e-7)},1e3)}z===1&&!jN(h,e.getBoundingClientRect())&&l(),R=!1}try{n=new IntersectionObserver(A,xe(U({},C),{root:a.ownerDocument}))}catch(M){n=new IntersectionObserver(A,C)}n.observe(e)}return l(!0),o}function MP(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=s,h=Tx(e),p=a||o?[...h?Lu(h):[],...Lu(t)]:[];p.forEach(N=>{a&&N.addEventListener("scroll",n,{passive:!0}),o&&N.addEventListener("resize",n)});const x=h&&d?RP(h,n):null;let y=-1,b=null;l&&(b=new ResizeObserver(N=>{let[k]=N;k&&k.target===h&&b&&(b.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var C;(C=b)==null||C.observe(t)})),n()}),h&&!f&&b.observe(h),b.observe(t));let w,_=f?Eo(e):null;f&&j();function j(){const N=Eo(e);_&&!jN(_,N)&&n(),_=N,w=requestAnimationFrame(j)}return n(),()=>{var N;p.forEach(k=>{a&&k.removeEventListener("scroll",n),o&&k.removeEventListener("resize",n)}),x==null||x(),(N=b)==null||N.disconnect(),b=null,f&&cancelAnimationFrame(w)}}const DP=rP,PP=aP,LP=tP,zP=oP,UP=nP,lj=eP,BP=iP,FP=(e,t,n)=>{const s=new Map,a=U({platform:AP},n),o=xe(U({},a.platform),{_c:s});return JD(e,t,xe(U({},a),{platform:o}))};var HP=typeof document!="undefined",VP=function(){},Jf=HP?S.useLayoutEffect:VP;function gh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!gh(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=n;s--!==0;){const o=a[s];if(!(o==="_owner"&&e.$$typeof)&&!gh(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function SN(e){return typeof window=="undefined"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function cj(e,t){const n=SN(e);return Math.round(t*n)/n}function jg(e){const t=S.useRef(e);return Jf(()=>{t.current=e}),t}function $P(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:o,floating:l}={},transform:d=!0,whileElementsMounted:f,open:h}=e,[p,x]=S.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[y,b]=S.useState(s);gh(y,s)||b(s);const[w,_]=S.useState(null),[j,N]=S.useState(null),k=S.useCallback(Q=>{Q!==M.current&&(M.current=Q,_(Q))},[]),C=S.useCallback(Q=>{Q!==z.current&&(z.current=Q,N(Q))},[]),R=o||w,A=l||j,M=S.useRef(null),z=S.useRef(null),P=S.useRef(p),V=f!=null,te=jg(f),$=jg(a),Z=jg(h),le=S.useCallback(()=>{if(!M.current||!z.current)return;const Q={placement:t,strategy:n,middleware:y};$.current&&(Q.platform=$.current),FP(M.current,z.current,Q).then(ve=>{const H=xe(U({},ve),{isPositioned:Z.current!==!1});J.current&&!gh(P.current,H)&&(P.current=H,Uh.flushSync(()=>{x(H)}))})},[y,t,n,$,Z]);Jf(()=>{h===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,x(Q=>xe(U({},Q),{isPositioned:!1})))},[h]);const J=S.useRef(!1);Jf(()=>(J.current=!0,()=>{J.current=!1}),[]),Jf(()=>{if(R&&(M.current=R),A&&(z.current=A),R&&A){if(te.current)return te.current(R,A,le);le()}},[R,A,le,te,V]);const I=S.useMemo(()=>({reference:M,floating:z,setReference:k,setFloating:C}),[k,C]),B=S.useMemo(()=>({reference:R,floating:A}),[R,A]),Y=S.useMemo(()=>{const Q={position:n,left:0,top:0};if(!B.floating)return Q;const ve=cj(B.floating,p.x),H=cj(B.floating,p.y);return d?U(xe(U({},Q),{transform:"translate("+ve+"px, "+H+"px)"}),SN(B.floating)>=1.5&&{willChange:"transform"}):{position:n,left:ve,top:H}},[n,d,B.floating,p.x,p.y]);return S.useMemo(()=>xe(U({},p),{update:le,refs:I,elements:B,floatingStyles:Y}),[p,le,I,B,Y])}const qP=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:a}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?lj({element:s.current,padding:a}).fn(n):{}:s?lj({element:s,padding:a}).fn(n):{}}}},YP=(e,t)=>xe(U({},DP(e)),{options:[e,t]}),IP=(e,t)=>xe(U({},PP(e)),{options:[e,t]}),WP=(e,t)=>xe(U({},BP(e)),{options:[e,t]}),XP=(e,t)=>xe(U({},LP(e)),{options:[e,t]}),GP=(e,t)=>xe(U({},zP(e)),{options:[e,t]}),KP=(e,t)=>xe(U({},UP(e)),{options:[e,t]}),QP=(e,t)=>xe(U({},qP(e)),{options:[e,t]});var ZP="Arrow",NN=S.forwardRef((e,t)=>{const l=e,{children:n,width:s=10,height:a=5}=l,o=Me(l,["children","width","height"]);return u.jsx(jn.svg,xe(U({},o),{ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})}))});NN.displayName=ZP;var JP=NN;function e3(e){const[t,n]=S.useState(void 0);return Ei(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let l,d;if("borderBoxSize"in o){const f=o.borderBoxSize,h=Array.isArray(f)?f[0]:f;l=h.inlineSize,d=h.blockSize}else l=e.offsetWidth,d=e.offsetHeight;n({width:l,height:d})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var Cx="Popper",[EN,TN]=bx(Cx),[t3,kN]=EN(Cx),CN=e=>{const{__scopePopper:t,children:n}=e,[s,a]=S.useState(null);return u.jsx(t3,{scope:t,anchor:s,onAnchorChange:a,children:n})};CN.displayName=Cx;var ON="PopperAnchor",AN=S.forwardRef((e,t)=>{const f=e,{__scopePopper:n,virtualRef:s}=f,a=Me(f,["__scopePopper","virtualRef"]),o=kN(ON,n),l=S.useRef(null),d=zr(t,l);return S.useEffect(()=>{o.onAnchorChange((s==null?void 0:s.current)||l.current)}),s?null:u.jsx(jn.div,xe(U({},a),{ref:d}))});AN.displayName=ON;var Ox="PopperContent",[n3,s3]=EN(Ox),RN=S.forwardRef((e,t)=>{var ze,tt,Ve,Et,lt,yt,De,mt;const Ce=e,{__scopePopper:n,side:s="bottom",sideOffset:a=0,align:o="center",alignOffset:l=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:x="partial",hideWhenDetached:y=!1,updatePositionStrategy:b="optimized",onPlaced:w}=Ce,_=Me(Ce,["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"]),j=kN(Ox,n),[N,k]=S.useState(null),C=zr(t,Yt=>k(Yt)),[R,A]=S.useState(null),M=e3(R),z=(ze=M==null?void 0:M.width)!=null?ze:0,P=(tt=M==null?void 0:M.height)!=null?tt:0,V=s+(o!=="center"?"-"+o:""),te=typeof p=="number"?p:U({top:0,right:0,bottom:0,left:0},p),$=Array.isArray(h)?h:[h],Z=$.length>0,le={padding:te,boundary:$.filter(a3),altBoundary:Z},{refs:J,floatingStyles:I,placement:B,isPositioned:Y,middlewareData:Q}=$P({strategy:"fixed",placement:V,whileElementsMounted:(...Yt)=>MP(...Yt,{animationFrame:b==="always"}),elements:{reference:j.anchor},middleware:[YP({mainAxis:a+P,alignmentAxis:l}),f&&IP(U({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?WP():void 0},le)),f&&XP(U({},le)),GP(xe(U({},le),{apply:({elements:Yt,rects:Ct,availableWidth:It,availableHeight:Xt})=>{const{width:W,height:oe}=Ct.reference,q=Yt.floating.style;q.setProperty("--radix-popper-available-width",`${It}px`),q.setProperty("--radix-popper-available-height",`${Xt}px`),q.setProperty("--radix-popper-anchor-width",`${W}px`),q.setProperty("--radix-popper-anchor-height",`${oe}px`)}})),R&&QP({element:R,padding:d}),i3({arrowWidth:z,arrowHeight:P}),y&&KP(U({strategy:"referenceHidden"},le))]}),[ve,H]=PN(B),ae=Hl(w);Ei(()=>{Y&&(ae==null||ae())},[Y,ae]);const ye=(Ve=Q.arrow)==null?void 0:Ve.x,X=(Et=Q.arrow)==null?void 0:Et.y,he=((lt=Q.arrow)==null?void 0:lt.centerOffset)!==0,[ke,be]=S.useState();return Ei(()=>{N&&be(window.getComputedStyle(N).zIndex)},[N]),u.jsx("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:U(xe(U({},I),{transform:Y?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ke,"--radix-popper-transform-origin":[(yt=Q.transformOrigin)==null?void 0:yt.x,(De=Q.transformOrigin)==null?void 0:De.y].join(" ")}),((mt=Q.hide)==null?void 0:mt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:u.jsx(n3,{scope:n,placedSide:ve,onArrowChange:A,arrowX:ye,arrowY:X,shouldHideArrow:he,children:u.jsx(jn.div,xe(U({"data-side":ve,"data-align":H},_),{ref:C,style:xe(U({},_.style),{animation:Y?void 0:"none"})}))})})});RN.displayName=Ox;var MN="PopperArrow",r3={top:"bottom",right:"left",bottom:"top",left:"right"},DN=S.forwardRef(function(t,n){const d=t,{__scopePopper:s}=d,a=Me(d,["__scopePopper"]),o=s3(MN,s),l=r3[o.placedSide];return u.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:u.jsx(JP,xe(U({},a),{ref:n,style:xe(U({},a.style),{display:"block"})}))})});DN.displayName=MN;function a3(e){return e!==null}var i3=e=>({name:"transformOrigin",options:e,fn(t){var j,N,k,C,R;const{placement:n,rects:s,middlewareData:a}=t,l=((j=a.arrow)==null?void 0:j.centerOffset)!==0,d=l?0:e.arrowWidth,f=l?0:e.arrowHeight,[h,p]=PN(n),x={start:"0%",center:"50%",end:"100%"}[p],y=((k=(N=a.arrow)==null?void 0:N.x)!=null?k:0)+d/2,b=((R=(C=a.arrow)==null?void 0:C.y)!=null?R:0)+f/2;let w="",_="";return h==="bottom"?(w=l?x:`${y}px`,_=`${-f}px`):h==="top"?(w=l?x:`${y}px`,_=`${s.floating.height+f}px`):h==="right"?(w=`${-f}px`,_=l?x:`${b}px`):h==="left"&&(w=`${s.floating.width+f}px`,_=l?x:`${b}px`),{data:{x:w,y:_}}}});function PN(e){const[t,n="center"]=e.split("-");return[t,n]}var o3=CN,LN=AN,l3=RN,c3=DN,u3="Portal",Ax=S.forwardRef((e,t)=>{var f;const d=e,{container:n}=d,s=Me(d,["container"]),[a,o]=S.useState(!1);Ei(()=>o(!0),[]);const l=n||a&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return l?WR.createPortal(u.jsx(jn.div,xe(U({},s),{ref:t})),l):null});Ax.displayName=u3;function d3(e,t){return S.useReducer((n,s)=>{const a=t[n][s];return a!=null?a:n},e)}var Gl=e=>{const{present:t,children:n}=e,s=f3(t),a=typeof n=="function"?n({present:s.isPresent}):S.Children.only(n),o=zr(s.ref,h3(a));return typeof n=="function"||s.isPresent?S.cloneElement(a,{ref:o}):null};Gl.displayName="Presence";function f3(e){const[t,n]=S.useState(),s=S.useRef(null),a=S.useRef(e),o=S.useRef("none"),l=e?"mounted":"unmounted",[d,f]=d3(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const h=yf(s.current);o.current=d==="mounted"?h:"none"},[d]),Ei(()=>{const h=s.current,p=a.current;if(p!==e){const y=o.current,b=yf(h);e?f("MOUNT"):b==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(p&&y!==b?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,f]),Ei(()=>{var h;if(t){let p;const x=(h=t.ownerDocument.defaultView)!=null?h:window,y=w=>{const j=yf(s.current).includes(w.animationName);if(w.target===t&&j&&(f("ANIMATION_END"),!a.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",p=x.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},b=w=>{w.target===t&&(o.current=yf(s.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",y),t.addEventListener("animationend",y),()=>{x.clearTimeout(p),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",y),t.removeEventListener("animationend",y)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:S.useCallback(h=>{s.current=h?getComputedStyle(h):null,n(h)},[])}}function yf(e){return(e==null?void 0:e.animationName)||"none"}function h3(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var m3=nS[" useInsertionEffect ".trim().toString()]||Ei;function zN({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[a,o,l]=p3({defaultProp:t,onChange:n}),d=e!==void 0,f=d?e:a;{const p=S.useRef(e!==void 0);S.useEffect(()=>{const x=p.current;x!==d&&console.warn(`${s} is changing from ${x?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=d},[d,s])}const h=S.useCallback(p=>{var x;if(d){const y=g3(p)?p(e):p;y!==e&&((x=l.current)==null||x.call(l,y))}else o(p)},[d,e,o,l]);return[f,h]}function p3({defaultProp:e,onChange:t}){const[n,s]=S.useState(e),a=S.useRef(n),o=S.useRef(t);return m3(()=>{o.current=t},[t]),S.useEffect(()=>{var l;a.current!==n&&((l=o.current)==null||l.call(o,n),a.current=n)},[n,a]),[n,s,o]}function g3(e){return typeof e=="function"}var x3=function(e){if(typeof document=="undefined")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},vl=new WeakMap,bf=new WeakMap,vf={},Sg=0,UN=function(e){return e&&(e.host||UN(e.parentNode))},y3=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=UN(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},b3=function(e,t,n,s){var a=y3(t,Array.isArray(e)?e:[e]);vf[n]||(vf[n]=new WeakMap);var o=vf[n],l=[],d=new Set,f=new Set(a),h=function(x){!x||d.has(x)||(d.add(x),h(x.parentNode))};a.forEach(h);var p=function(x){!x||f.has(x)||Array.prototype.forEach.call(x.children,function(y){if(d.has(y))p(y);else try{var b=y.getAttribute(s),w=b!==null&&b!=="false",_=(vl.get(y)||0)+1,j=(o.get(y)||0)+1;vl.set(y,_),o.set(y,j),l.push(y),_===1&&w&&bf.set(y,!0),j===1&&y.setAttribute(n,"true"),w||y.setAttribute(s,"true")}catch(N){console.error("aria-hidden: cannot operate on ",y,N)}})};return p(t),d.clear(),Sg++,function(){l.forEach(function(x){var y=vl.get(x)-1,b=o.get(x)-1;vl.set(x,y),o.set(x,b),y||(bf.has(x)||x.removeAttribute(s),bf.delete(x)),b||x.removeAttribute(n)}),Sg--,Sg||(vl=new WeakMap,vl=new WeakMap,bf=new WeakMap,vf={})}},BN=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=x3(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),b3(s,a,n,"aria-hidden")):function(){return null}},Kr=function(){return Kr=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Kr.apply(this,arguments)};function FN(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function v3(e,t,n){if(n||arguments.length===2)for(var s=0,a=t.length,o;s<a;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return e.concat(o||Array.prototype.slice.call(t))}var eh="right-scroll-bar-position",th="width-before-scroll-bar",w3="with-scroll-bars-hidden",_3="--removed-body-scroll-bar-size";function Ng(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function j3(e,t){var n=S.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=t,n.facade}var S3=typeof window!="undefined"?S.useLayoutEffect:S.useEffect,uj=new WeakMap;function N3(e,t){var n=j3(null,function(s){return e.forEach(function(a){return Ng(a,s)})});return S3(function(){var s=uj.get(n);if(s){var a=new Set(s),o=new Set(e),l=n.current;a.forEach(function(d){o.has(d)||Ng(d,null)}),o.forEach(function(d){a.has(d)||Ng(d,l)})}uj.set(n,e)},[e]),n}function E3(e){return e}function T3(e,t){t===void 0&&(t=E3);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var l=t(o,s);return n.push(l),function(){n=n.filter(function(d){return d!==l})}},assignSyncMedium:function(o){for(s=!0;n.length;){var l=n;n=[],l.forEach(o)}n={push:function(d){return o(d)},filter:function(){return n}}},assignMedium:function(o){s=!0;var l=[];if(n.length){var d=n;n=[],d.forEach(o),l=n}var f=function(){var p=l;l=[],p.forEach(o)},h=function(){return Promise.resolve().then(f)};h(),n={push:function(p){l.push(p),h()},filter:function(p){return l=l.filter(p),n}}}};return a}function k3(e){e===void 0&&(e={});var t=T3(null);return t.options=Kr({async:!0,ssr:!1},e),t}var HN=function(e){var t=e.sideCar,n=FN(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return S.createElement(s,Kr({},n))};HN.isSideCarExport=!0;function C3(e,t){return e.useMedium(t),HN}var VN=k3(),Eg=function(){},Ih=S.forwardRef(function(e,t){var n=S.useRef(null),s=S.useState({onScrollCapture:Eg,onWheelCapture:Eg,onTouchMoveCapture:Eg}),a=s[0],o=s[1],l=e.forwardProps,d=e.children,f=e.className,h=e.removeScrollBar,p=e.enabled,x=e.shards,y=e.sideCar,b=e.noRelative,w=e.noIsolation,_=e.inert,j=e.allowPinchZoom,N=e.as,k=N===void 0?"div":N,C=e.gapMode,R=FN(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=y,M=N3([n,t]),z=Kr(Kr({},R),a);return S.createElement(S.Fragment,null,p&&S.createElement(A,{sideCar:VN,removeScrollBar:h,shards:x,noRelative:b,noIsolation:w,inert:_,setCallbacks:o,allowPinchZoom:!!j,lockRef:n,gapMode:C}),l?S.cloneElement(S.Children.only(d),Kr(Kr({},z),{ref:M})):S.createElement(k,Kr({},z,{className:f,ref:M}),d))});Ih.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ih.classNames={fullWidth:th,zeroRight:eh};var O3=function(){if(typeof __webpack_nonce__!="undefined")return __webpack_nonce__};function A3(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=O3();return t&&e.setAttribute("nonce",t),e}function R3(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function M3(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var D3=function(){var e=0,t=null;return{add:function(n){e==0&&(t=A3())&&(R3(t,n),M3(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},P3=function(){var e=D3();return function(t,n){S.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},$N=function(){var e=P3(),t=function(n){var s=n.styles,a=n.dynamic;return e(s,a),null};return t},L3={left:0,top:0,right:0,gap:0},Tg=function(e){return parseInt(e||"",10)||0},z3=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Tg(n),Tg(s),Tg(a)]},U3=function(e){if(e===void 0&&(e="margin"),typeof window=="undefined")return L3;var t=z3(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},B3=$N(),Ll="data-scroll-locked",F3=function(e,t,n,s){var a=e.left,o=e.top,l=e.right,d=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(w3,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(d,"px ").concat(s,`;
  }
  body[`).concat(Ll,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(eh,` {
    right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(th,` {
    margin-right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(eh," .").concat(eh,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(th," .").concat(th,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Ll,`] {
    `).concat(_3,": ").concat(d,`px;
  }
`)},dj=function(){var e=parseInt(document.body.getAttribute(Ll)||"0",10);return isFinite(e)?e:0},H3=function(){S.useEffect(function(){return document.body.setAttribute(Ll,(dj()+1).toString()),function(){var e=dj()-1;e<=0?document.body.removeAttribute(Ll):document.body.setAttribute(Ll,e.toString())}},[])},V3=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;H3();var o=S.useMemo(function(){return U3(a)},[a]);return S.createElement(B3,{styles:F3(o,!t,a,n?"":"!important")})},j0=!1;if(typeof window!="undefined")try{var wf=Object.defineProperty({},"passive",{get:function(){return j0=!0,!0}});window.addEventListener("test",wf,wf),window.removeEventListener("test",wf,wf)}catch(e){j0=!1}var wl=j0?{passive:!1}:!1,$3=function(e){return e.tagName==="TEXTAREA"},qN=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!$3(e)&&n[t]==="visible")},q3=function(e){return qN(e,"overflowY")},Y3=function(e){return qN(e,"overflowX")},fj=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot!="undefined"&&s instanceof ShadowRoot&&(s=s.host);var a=YN(e,s);if(a){var o=IN(e,s),l=o[1],d=o[2];if(l>d)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},I3=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},W3=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},YN=function(e,t){return e==="v"?q3(t):Y3(t)},IN=function(e,t){return e==="v"?I3(t):W3(t)},X3=function(e,t){return e==="h"&&t==="rtl"?-1:1},G3=function(e,t,n,s,a){var o=X3(e,window.getComputedStyle(t).direction),l=o*s,d=n.target,f=t.contains(d),h=!1,p=l>0,x=0,y=0;do{if(!d)break;var b=IN(e,d),w=b[0],_=b[1],j=b[2],N=_-j-o*w;(w||N)&&YN(e,d)&&(x+=N,y+=w);var k=d.parentNode;d=k&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE?k.host:k}while(!f&&d!==document.body||f&&(t.contains(d)||t===d));return(p&&Math.abs(x)<1||!p&&Math.abs(y)<1)&&(h=!0),h},_f=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},hj=function(e){return[e.deltaX,e.deltaY]},mj=function(e){return e&&"current"in e?e.current:e},K3=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Q3=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Z3=0,_l=[];function J3(e){var t=S.useRef([]),n=S.useRef([0,0]),s=S.useRef(),a=S.useState(Z3++)[0],o=S.useState($N)[0],l=S.useRef(e);S.useEffect(function(){l.current=e},[e]),S.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var _=v3([e.lockRef.current],(e.shards||[]).map(mj),!0).filter(Boolean);return _.forEach(function(j){return j.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),_.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var d=S.useCallback(function(_,j){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!l.current.allowPinchZoom;var N=_f(_),k=n.current,C="deltaX"in _?_.deltaX:k[0]-N[0],R="deltaY"in _?_.deltaY:k[1]-N[1],A,M=_.target,z=Math.abs(C)>Math.abs(R)?"h":"v";if("touches"in _&&z==="h"&&M.type==="range")return!1;var P=fj(z,M);if(!P)return!0;if(P?A=z:(A=z==="v"?"h":"v",P=fj(z,M)),!P)return!1;if(!s.current&&"changedTouches"in _&&(C||R)&&(s.current=A),!A)return!0;var V=s.current||A;return G3(V,j,_,V==="h"?C:R)},[]),f=S.useCallback(function(_){var j=_;if(!(!_l.length||_l[_l.length-1]!==o)){var N="deltaY"in j?hj(j):_f(j),k=t.current.filter(function(A){return A.name===j.type&&(A.target===j.target||j.target===A.shadowParent)&&K3(A.delta,N)})[0];if(k&&k.should){j.cancelable&&j.preventDefault();return}if(!k){var C=(l.current.shards||[]).map(mj).filter(Boolean).filter(function(A){return A.contains(j.target)}),R=C.length>0?d(j,C[0]):!l.current.noIsolation;R&&j.cancelable&&j.preventDefault()}}},[]),h=S.useCallback(function(_,j,N,k){var C={name:_,delta:j,target:N,should:k,shadowParent:e4(N)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(R){return R!==C})},1)},[]),p=S.useCallback(function(_){n.current=_f(_),s.current=void 0},[]),x=S.useCallback(function(_){h(_.type,hj(_),_.target,d(_,e.lockRef.current))},[]),y=S.useCallback(function(_){h(_.type,_f(_),_.target,d(_,e.lockRef.current))},[]);S.useEffect(function(){return _l.push(o),e.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:y}),document.addEventListener("wheel",f,wl),document.addEventListener("touchmove",f,wl),document.addEventListener("touchstart",p,wl),function(){_l=_l.filter(function(_){return _!==o}),document.removeEventListener("wheel",f,wl),document.removeEventListener("touchmove",f,wl),document.removeEventListener("touchstart",p,wl)}},[]);var b=e.removeScrollBar,w=e.inert;return S.createElement(S.Fragment,null,w?S.createElement(o,{styles:Q3(a)}):null,b?S.createElement(V3,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function e4(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const t4=C3(VN,J3);var Rx=S.forwardRef(function(e,t){return S.createElement(Ih,Kr({},e,{ref:t,sideCar:t4}))});Rx.classNames=Ih.classNames;var Wh="Popover",[WN,cF]=bx(Wh,[TN]),Xu=TN(),[n4,Mi]=WN(Wh),XN=e=>{const{__scopePopover:t,children:n,open:s,defaultOpen:a,onOpenChange:o,modal:l=!1}=e,d=Xu(t),f=S.useRef(null),[h,p]=S.useState(!1),[x,y]=zN({prop:s,defaultProp:a!=null?a:!1,onChange:o,caller:Wh});return u.jsx(o3,xe(U({},d),{children:u.jsx(n4,{scope:t,contentId:ta(),triggerRef:f,open:x,onOpenChange:y,onOpenToggle:S.useCallback(()=>y(b=>!b),[y]),hasCustomAnchor:h,onCustomAnchorAdd:S.useCallback(()=>p(!0),[]),onCustomAnchorRemove:S.useCallback(()=>p(!1),[]),modal:l,children:n})}))};XN.displayName=Wh;var GN="PopoverAnchor",s4=S.forwardRef((e,t)=>{const f=e,{__scopePopover:n}=f,s=Me(f,["__scopePopover"]),a=Mi(GN,n),o=Xu(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:d}=a;return S.useEffect(()=>(l(),()=>d()),[l,d]),u.jsx(LN,xe(U(U({},o),s),{ref:t}))});s4.displayName=GN;var KN="PopoverTrigger",QN=S.forwardRef((e,t)=>{const f=e,{__scopePopover:n}=f,s=Me(f,["__scopePopover"]),a=Mi(KN,n),o=Xu(n),l=zr(t,a.triggerRef),d=u.jsx(jn.button,xe(U({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":n2(a.open)},s),{ref:l,onClick:Js(e.onClick,a.onOpenToggle)}));return a.hasCustomAnchor?d:u.jsx(LN,xe(U({asChild:!0},o),{children:d}))});QN.displayName=KN;var Mx="PopoverPortal",[r4,a4]=WN(Mx,{forceMount:void 0}),ZN=e=>{const{__scopePopover:t,forceMount:n,children:s,container:a}=e,o=Mi(Mx,t);return u.jsx(r4,{scope:t,forceMount:n,children:u.jsx(Gl,{present:n||o.open,children:u.jsx(Ax,{asChild:!0,container:a,children:s})})})};ZN.displayName=Mx;var $l="PopoverContent",JN=S.forwardRef((e,t)=>{const n=a4($l,e.__scopePopover),l=e,{forceMount:s=n.forceMount}=l,a=Me(l,["forceMount"]),o=Mi($l,e.__scopePopover);return u.jsx(Gl,{present:s||o.open,children:o.modal?u.jsx(o4,xe(U({},a),{ref:t})):u.jsx(l4,xe(U({},a),{ref:t}))})});JN.displayName=$l;var i4=Vh("PopoverContent.RemoveScroll"),o4=S.forwardRef((e,t)=>{const n=Mi($l,e.__scopePopover),s=S.useRef(null),a=zr(t,s),o=S.useRef(!1);return S.useEffect(()=>{const l=s.current;if(l)return BN(l)},[]),u.jsx(Rx,{as:i4,allowPinchZoom:!0,children:u.jsx(e2,xe(U({},e),{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Js(e.onCloseAutoFocus,l=>{var d;l.preventDefault(),o.current||(d=n.triggerRef.current)==null||d.focus()}),onPointerDownOutside:Js(e.onPointerDownOutside,l=>{const d=l.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,h=d.button===2||f;o.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:Js(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})}))})}),l4=S.forwardRef((e,t)=>{const n=Mi($l,e.__scopePopover),s=S.useRef(!1),a=S.useRef(!1);return u.jsx(e2,xe(U({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,d;(l=e.onCloseAutoFocus)==null||l.call(e,o),o.defaultPrevented||(s.current||(d=n.triggerRef.current)==null||d.focus(),o.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:o=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=o.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}}))}),e2=S.forwardRef((e,t)=>{const w=e,{__scopePopover:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:p}=w,x=Me(w,["__scopePopover","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside"]),y=Mi($l,n),b=Xu(n);return fN(),u.jsx(wx,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:o,children:u.jsx(vx,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:p,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onDismiss:()=>y.onOpenChange(!1),children:u.jsx(l3,xe(U(U({"data-state":n2(y.open),role:"dialog",id:y.contentId},b),x),{ref:t,style:xe(U({},x.style),{"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"})}))})})}),t2="PopoverClose",c4=S.forwardRef((e,t)=>{const o=e,{__scopePopover:n}=o,s=Me(o,["__scopePopover"]),a=Mi(t2,n);return u.jsx(jn.button,xe(U({type:"button"},s),{ref:t,onClick:Js(e.onClick,()=>a.onOpenChange(!1))}))});c4.displayName=t2;var u4="PopoverArrow",d4=S.forwardRef((e,t)=>{const o=e,{__scopePopover:n}=o,s=Me(o,["__scopePopover"]),a=Xu(n);return u.jsx(c3,xe(U(U({},a),s),{ref:t}))});d4.displayName=u4;function n2(e){return e?"open":"closed"}var f4=XN,h4=QN,m4=ZN,p4=JN;function s2(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=s2(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function r2(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=s2(e))&&(s&&(s+=" "),s+=t);return s}const Dx="-",g4=e=>{const t=y4(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:l=>{const d=l.split(Dx);return d[0]===""&&d.length!==1&&d.shift(),a2(d,t)||x4(l)},getConflictingClassGroupIds:(l,d)=>{const f=n[l]||[];return d&&s[l]?[...f,...s[l]]:f}}},a2=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),a=s?a2(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(Dx);return(l=t.validators.find(({validator:d})=>d(o)))==null?void 0:l.classGroupId},pj=/^\[(.+)\]$/,x4=e=>{if(pj.test(e)){const t=pj.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},y4=e=>{const{theme:t,classGroups:n}=e,s={nextPart:new Map,validators:[]};for(const a in n)S0(n[a],s,a,t);return s},S0=(e,t,n,s)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:gj(t,a);o.classGroupId=n;return}if(typeof a=="function"){if(b4(a)){S0(a(s),t,n,s);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([o,l])=>{S0(l,gj(t,o),n,s)})})},gj=(e,t)=>{let n=e;return t.split(Dx).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},b4=e=>e.isThemeGetter,v4=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const a=(o,l)=>{n.set(o,l),t++,t>e&&(t=0,s=n,n=new Map)};return{get(o){let l=n.get(o);if(l!==void 0)return l;if((l=s.get(o))!==void 0)return a(o,l),l},set(o,l){n.has(o)?n.set(o,l):a(o,l)}}},N0="!",E0=":",w4=E0.length,_4=e=>{const{prefix:t,experimentalParseClassName:n}=e;let s=a=>{const o=[];let l=0,d=0,f=0,h;for(let w=0;w<a.length;w++){let _=a[w];if(l===0&&d===0){if(_===E0){o.push(a.slice(f,w)),f=w+w4;continue}if(_==="/"){h=w;continue}}_==="["?l++:_==="]"?l--:_==="("?d++:_===")"&&d--}const p=o.length===0?a:a.substring(f),x=j4(p),y=x!==p,b=h&&h>f?h-f:void 0;return{modifiers:o,hasImportantModifier:y,baseClassName:x,maybePostfixModifierPosition:b}};if(t){const a=t+E0,o=s;s=l=>l.startsWith(a)?o(l.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const a=s;s=o=>n({className:o,parseClassName:a})}return s},j4=e=>e.endsWith(N0)?e.substring(0,e.length-1):e.startsWith(N0)?e.substring(1):e,S4=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const a=[];let o=[];return s.forEach(l=>{l[0]==="["||t[l]?(a.push(...o.sort(),l),o=[]):o.push(l)}),a.push(...o.sort()),a}},N4=e=>U({cache:v4(e.cacheSize),parseClassName:_4(e),sortModifiers:S4(e)},g4(e)),E4=/\s+/,T4=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:o}=t,l=[],d=e.trim().split(E4);let f="";for(let h=d.length-1;h>=0;h-=1){const p=d[h],{isExternal:x,modifiers:y,hasImportantModifier:b,baseClassName:w,maybePostfixModifierPosition:_}=n(p);if(x){f=p+(f.length>0?" "+f:f);continue}let j=!!_,N=s(j?w.substring(0,_):w);if(!N){if(!j){f=p+(f.length>0?" "+f:f);continue}if(N=s(w),!N){f=p+(f.length>0?" "+f:f);continue}j=!1}const k=o(y).join(":"),C=b?k+N0:k,R=C+N;if(l.includes(R))continue;l.push(R);const A=a(N,j);for(let M=0;M<A.length;++M){const z=A[M];l.push(C+z)}f=p+(f.length>0?" "+f:f)}return f};function k4(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=i2(t))&&(s&&(s+=" "),s+=n);return s}const i2=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=i2(e[s]))&&(n&&(n+=" "),n+=t);return n};function C4(e,...t){let n,s,a,o=l;function l(f){const h=t.reduce((p,x)=>x(p),e());return n=N4(h),s=n.cache.get,a=n.cache.set,o=d,d(f)}function d(f){const h=s(f);if(h)return h;const p=T4(f,n);return a(f,p),p}return function(){return o(k4.apply(null,arguments))}}const Gn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},o2=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,l2=/^\((?:(\w[\w-]*):)?(.+)\)$/i,O4=/^\d+\/\d+$/,A4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,R4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,M4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,D4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,P4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,jl=e=>O4.test(e),At=e=>!!e&&!Number.isNaN(Number(e)),fi=e=>!!e&&Number.isInteger(Number(e)),kg=e=>e.endsWith("%")&&At(e.slice(0,-1)),Ea=e=>A4.test(e),L4=()=>!0,z4=e=>R4.test(e)&&!M4.test(e),c2=()=>!1,U4=e=>D4.test(e),B4=e=>P4.test(e),F4=e=>!Xe(e)&&!Ge(e),H4=e=>Kl(e,f2,c2),Xe=e=>o2.test(e),io=e=>Kl(e,h2,z4),Cg=e=>Kl(e,I4,At),xj=e=>Kl(e,u2,c2),V4=e=>Kl(e,d2,B4),jf=e=>Kl(e,m2,U4),Ge=e=>l2.test(e),au=e=>Ql(e,h2),$4=e=>Ql(e,W4),yj=e=>Ql(e,u2),q4=e=>Ql(e,f2),Y4=e=>Ql(e,d2),Sf=e=>Ql(e,m2,!0),Kl=(e,t,n)=>{const s=o2.exec(e);return s?s[1]?t(s[1]):n(s[2]):!1},Ql=(e,t,n=!1)=>{const s=l2.exec(e);return s?s[1]?t(s[1]):n:!1},u2=e=>e==="position"||e==="percentage",d2=e=>e==="image"||e==="url",f2=e=>e==="length"||e==="size"||e==="bg-size",h2=e=>e==="length",I4=e=>e==="number",W4=e=>e==="family-name",m2=e=>e==="shadow",X4=()=>{const e=Gn("color"),t=Gn("font"),n=Gn("text"),s=Gn("font-weight"),a=Gn("tracking"),o=Gn("leading"),l=Gn("breakpoint"),d=Gn("container"),f=Gn("spacing"),h=Gn("radius"),p=Gn("shadow"),x=Gn("inset-shadow"),y=Gn("text-shadow"),b=Gn("drop-shadow"),w=Gn("blur"),_=Gn("perspective"),j=Gn("aspect"),N=Gn("ease"),k=Gn("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],A=()=>[...R(),Ge,Xe],M=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto","contain","none"],P=()=>[Ge,Xe,f],V=()=>[jl,"full","auto",...P()],te=()=>[fi,"none","subgrid",Ge,Xe],$=()=>["auto",{span:["full",fi,Ge,Xe]},fi,Ge,Xe],Z=()=>[fi,"auto",Ge,Xe],le=()=>["auto","min","max","fr",Ge,Xe],J=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],I=()=>["start","end","center","stretch","center-safe","end-safe"],B=()=>["auto",...P()],Y=()=>[jl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],Q=()=>[e,Ge,Xe],ve=()=>[...R(),yj,xj,{position:[Ge,Xe]}],H=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ae=()=>["auto","cover","contain",q4,H4,{size:[Ge,Xe]}],ye=()=>[kg,au,io],X=()=>["","none","full",h,Ge,Xe],he=()=>["",At,au,io],ke=()=>["solid","dashed","dotted","double"],be=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ce=()=>[At,kg,yj,xj],ze=()=>["","none",w,Ge,Xe],tt=()=>["none",At,Ge,Xe],Ve=()=>["none",At,Ge,Xe],Et=()=>[At,Ge,Xe],lt=()=>[jl,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ea],breakpoint:[Ea],color:[L4],container:[Ea],"drop-shadow":[Ea],ease:["in","out","in-out"],font:[F4],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ea],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ea],shadow:[Ea],spacing:["px",At],text:[Ea],"text-shadow":[Ea],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",jl,Xe,Ge,j]}],container:["container"],columns:[{columns:[At,Xe,Ge,d]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:A()}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:V()}],"inset-x":[{"inset-x":V()}],"inset-y":[{"inset-y":V()}],start:[{start:V()}],end:[{end:V()}],top:[{top:V()}],right:[{right:V()}],bottom:[{bottom:V()}],left:[{left:V()}],visibility:["visible","invisible","collapse"],z:[{z:[fi,"auto",Ge,Xe]}],basis:[{basis:[jl,"full","auto",d,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[At,jl,"auto","initial","none",Xe]}],grow:[{grow:["",At,Ge,Xe]}],shrink:[{shrink:["",At,Ge,Xe]}],order:[{order:[fi,"first","last","none",Ge,Xe]}],"grid-cols":[{"grid-cols":te()}],"col-start-end":[{col:$()}],"col-start":[{"col-start":Z()}],"col-end":[{"col-end":Z()}],"grid-rows":[{"grid-rows":te()}],"row-start-end":[{row:$()}],"row-start":[{"row-start":Z()}],"row-end":[{"row-end":Z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":le()}],"auto-rows":[{"auto-rows":le()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...J(),"normal"]}],"justify-items":[{"justify-items":[...I(),"normal"]}],"justify-self":[{"justify-self":["auto",...I()]}],"align-content":[{content:["normal",...J()]}],"align-items":[{items:[...I(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...I(),{baseline:["","last"]}]}],"place-content":[{"place-content":J()}],"place-items":[{"place-items":[...I(),"baseline"]}],"place-self":[{"place-self":["auto",...I()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:B()}],mx:[{mx:B()}],my:[{my:B()}],ms:[{ms:B()}],me:[{me:B()}],mt:[{mt:B()}],mr:[{mr:B()}],mb:[{mb:B()}],ml:[{ml:B()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:Y()}],w:[{w:[d,"screen",...Y()]}],"min-w":[{"min-w":[d,"screen","none",...Y()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[l]},...Y()]}],h:[{h:["screen","lh",...Y()]}],"min-h":[{"min-h":["screen","lh","none",...Y()]}],"max-h":[{"max-h":["screen","lh",...Y()]}],"font-size":[{text:["base",n,au,io]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Ge,Cg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",kg,Xe]}],"font-family":[{font:[$4,Xe,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ge,Xe]}],"line-clamp":[{"line-clamp":[At,"none",Ge,Cg]}],leading:[{leading:[o,...P()]}],"list-image":[{"list-image":["none",Ge,Xe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ge,Xe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Q()}],"text-color":[{text:Q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ke(),"wavy"]}],"text-decoration-thickness":[{decoration:[At,"from-font","auto",Ge,io]}],"text-decoration-color":[{decoration:Q()}],"underline-offset":[{"underline-offset":[At,"auto",Ge,Xe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ge,Xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ge,Xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ve()}],"bg-repeat":[{bg:H()}],"bg-size":[{bg:ae()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},fi,Ge,Xe],radial:["",Ge,Xe],conic:[fi,Ge,Xe]},Y4,V4]}],"bg-color":[{bg:Q()}],"gradient-from-pos":[{from:ye()}],"gradient-via-pos":[{via:ye()}],"gradient-to-pos":[{to:ye()}],"gradient-from":[{from:Q()}],"gradient-via":[{via:Q()}],"gradient-to":[{to:Q()}],rounded:[{rounded:X()}],"rounded-s":[{"rounded-s":X()}],"rounded-e":[{"rounded-e":X()}],"rounded-t":[{"rounded-t":X()}],"rounded-r":[{"rounded-r":X()}],"rounded-b":[{"rounded-b":X()}],"rounded-l":[{"rounded-l":X()}],"rounded-ss":[{"rounded-ss":X()}],"rounded-se":[{"rounded-se":X()}],"rounded-ee":[{"rounded-ee":X()}],"rounded-es":[{"rounded-es":X()}],"rounded-tl":[{"rounded-tl":X()}],"rounded-tr":[{"rounded-tr":X()}],"rounded-br":[{"rounded-br":X()}],"rounded-bl":[{"rounded-bl":X()}],"border-w":[{border:he()}],"border-w-x":[{"border-x":he()}],"border-w-y":[{"border-y":he()}],"border-w-s":[{"border-s":he()}],"border-w-e":[{"border-e":he()}],"border-w-t":[{"border-t":he()}],"border-w-r":[{"border-r":he()}],"border-w-b":[{"border-b":he()}],"border-w-l":[{"border-l":he()}],"divide-x":[{"divide-x":he()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":he()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ke(),"hidden","none"]}],"divide-style":[{divide:[...ke(),"hidden","none"]}],"border-color":[{border:Q()}],"border-color-x":[{"border-x":Q()}],"border-color-y":[{"border-y":Q()}],"border-color-s":[{"border-s":Q()}],"border-color-e":[{"border-e":Q()}],"border-color-t":[{"border-t":Q()}],"border-color-r":[{"border-r":Q()}],"border-color-b":[{"border-b":Q()}],"border-color-l":[{"border-l":Q()}],"divide-color":[{divide:Q()}],"outline-style":[{outline:[...ke(),"none","hidden"]}],"outline-offset":[{"outline-offset":[At,Ge,Xe]}],"outline-w":[{outline:["",At,au,io]}],"outline-color":[{outline:Q()}],shadow:[{shadow:["","none",p,Sf,jf]}],"shadow-color":[{shadow:Q()}],"inset-shadow":[{"inset-shadow":["none",x,Sf,jf]}],"inset-shadow-color":[{"inset-shadow":Q()}],"ring-w":[{ring:he()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Q()}],"ring-offset-w":[{"ring-offset":[At,io]}],"ring-offset-color":[{"ring-offset":Q()}],"inset-ring-w":[{"inset-ring":he()}],"inset-ring-color":[{"inset-ring":Q()}],"text-shadow":[{"text-shadow":["none",y,Sf,jf]}],"text-shadow-color":[{"text-shadow":Q()}],opacity:[{opacity:[At,Ge,Xe]}],"mix-blend":[{"mix-blend":[...be(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":be()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[At]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ce()}],"mask-image-linear-from-color":[{"mask-linear-from":Q()}],"mask-image-linear-to-color":[{"mask-linear-to":Q()}],"mask-image-t-from-pos":[{"mask-t-from":Ce()}],"mask-image-t-to-pos":[{"mask-t-to":Ce()}],"mask-image-t-from-color":[{"mask-t-from":Q()}],"mask-image-t-to-color":[{"mask-t-to":Q()}],"mask-image-r-from-pos":[{"mask-r-from":Ce()}],"mask-image-r-to-pos":[{"mask-r-to":Ce()}],"mask-image-r-from-color":[{"mask-r-from":Q()}],"mask-image-r-to-color":[{"mask-r-to":Q()}],"mask-image-b-from-pos":[{"mask-b-from":Ce()}],"mask-image-b-to-pos":[{"mask-b-to":Ce()}],"mask-image-b-from-color":[{"mask-b-from":Q()}],"mask-image-b-to-color":[{"mask-b-to":Q()}],"mask-image-l-from-pos":[{"mask-l-from":Ce()}],"mask-image-l-to-pos":[{"mask-l-to":Ce()}],"mask-image-l-from-color":[{"mask-l-from":Q()}],"mask-image-l-to-color":[{"mask-l-to":Q()}],"mask-image-x-from-pos":[{"mask-x-from":Ce()}],"mask-image-x-to-pos":[{"mask-x-to":Ce()}],"mask-image-x-from-color":[{"mask-x-from":Q()}],"mask-image-x-to-color":[{"mask-x-to":Q()}],"mask-image-y-from-pos":[{"mask-y-from":Ce()}],"mask-image-y-to-pos":[{"mask-y-to":Ce()}],"mask-image-y-from-color":[{"mask-y-from":Q()}],"mask-image-y-to-color":[{"mask-y-to":Q()}],"mask-image-radial":[{"mask-radial":[Ge,Xe]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ce()}],"mask-image-radial-from-color":[{"mask-radial-from":Q()}],"mask-image-radial-to-color":[{"mask-radial-to":Q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":R()}],"mask-image-conic-pos":[{"mask-conic":[At]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ce()}],"mask-image-conic-from-color":[{"mask-conic-from":Q()}],"mask-image-conic-to-color":[{"mask-conic-to":Q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ve()}],"mask-repeat":[{mask:H()}],"mask-size":[{mask:ae()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ge,Xe]}],filter:[{filter:["","none",Ge,Xe]}],blur:[{blur:ze()}],brightness:[{brightness:[At,Ge,Xe]}],contrast:[{contrast:[At,Ge,Xe]}],"drop-shadow":[{"drop-shadow":["","none",b,Sf,jf]}],"drop-shadow-color":[{"drop-shadow":Q()}],grayscale:[{grayscale:["",At,Ge,Xe]}],"hue-rotate":[{"hue-rotate":[At,Ge,Xe]}],invert:[{invert:["",At,Ge,Xe]}],saturate:[{saturate:[At,Ge,Xe]}],sepia:[{sepia:["",At,Ge,Xe]}],"backdrop-filter":[{"backdrop-filter":["","none",Ge,Xe]}],"backdrop-blur":[{"backdrop-blur":ze()}],"backdrop-brightness":[{"backdrop-brightness":[At,Ge,Xe]}],"backdrop-contrast":[{"backdrop-contrast":[At,Ge,Xe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",At,Ge,Xe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[At,Ge,Xe]}],"backdrop-invert":[{"backdrop-invert":["",At,Ge,Xe]}],"backdrop-opacity":[{"backdrop-opacity":[At,Ge,Xe]}],"backdrop-saturate":[{"backdrop-saturate":[At,Ge,Xe]}],"backdrop-sepia":[{"backdrop-sepia":["",At,Ge,Xe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ge,Xe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[At,"initial",Ge,Xe]}],ease:[{ease:["linear","initial",N,Ge,Xe]}],delay:[{delay:[At,Ge,Xe]}],animate:[{animate:["none",k,Ge,Xe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,Ge,Xe]}],"perspective-origin":[{"perspective-origin":A()}],rotate:[{rotate:tt()}],"rotate-x":[{"rotate-x":tt()}],"rotate-y":[{"rotate-y":tt()}],"rotate-z":[{"rotate-z":tt()}],scale:[{scale:Ve()}],"scale-x":[{"scale-x":Ve()}],"scale-y":[{"scale-y":Ve()}],"scale-z":[{"scale-z":Ve()}],"scale-3d":["scale-3d"],skew:[{skew:Et()}],"skew-x":[{"skew-x":Et()}],"skew-y":[{"skew-y":Et()}],transform:[{transform:[Ge,Xe,"","none","gpu","cpu"]}],"transform-origin":[{origin:A()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:lt()}],"translate-x":[{"translate-x":lt()}],"translate-y":[{"translate-y":lt()}],"translate-z":[{"translate-z":lt()}],"translate-none":["translate-none"],accent:[{accent:Q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ge,Xe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ge,Xe]}],fill:[{fill:["none",...Q()]}],"stroke-w":[{stroke:[At,au,io,Cg]}],stroke:[{stroke:["none",...Q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},G4=C4(X4);function bn(...e){return G4(r2(e))}function Px(t){var e=Me(t,[]);return u.jsx(f4,U({"data-slot":"popover"},e))}function Lx(t){var e=Me(t,[]);return u.jsx(h4,U({"data-slot":"popover-trigger"},e))}function zx(a){var o=a,{className:e,align:t="center",sideOffset:n=4}=o,s=Me(o,["className","align","sideOffset"]);return u.jsx(m4,{children:u.jsx(p4,U({"data-slot":"popover-content",align:t,sideOffset:n,className:bn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e)},s))})}const ku=class ku{static useUsers(){const{data:t,isLoading:n,error:s}=yn("User",{fields:ku.USER_FIELDS,filters:[["enabled","=",1],["user_type","=","System User"]],limit:0});return{data:t||[],isLoading:n,error:s}}static useCurrentUser(){const{currentUser:t,isLoading:n}=Ou();return{currentUser:t,isLoading:n}}static useCurrentUserProfile(){const{currentUser:t}=Ou(),{data:n,isLoading:s,error:a}=Jn("User",t||void 0,{fields:ku.USER_FIELDS});return{currentUserProfile:n,isLoading:s,error:a}}};ut(ku,"USER_FIELDS",["name","email","full_name","first_name","last_name","user_image","enabled","user_type","role_profile_name"]);let xh=ku;const K4=xh.useCurrentUser,Q4=xh.useCurrentUserProfile,Z4=({onMenuClick:e})=>{const{currentUser:t,isLoading:n}=K4(),{currentUserProfile:s}=Q4(),{logout:a}=Ou(),o=()=>pe(null,null,function*(){try{yield a(),window.location.href="http://localhost:8007/login"}catch(p){console.error("Logout failed:",p)}}),l=()=>s?s.full_name||s.first_name||s.email||"User":!t||typeof t=="string"?t||"Guest":t.full_name||t.first_name||t.email||"User",d=()=>t?l().split(" ").map(x=>x[0]).join("").toUpperCase().slice(0,2):"G",f=()=>s!=null&&s.user_image?s.user_image:null,h=()=>s?s.email:t&&typeof t!="string"?t.email:t||"No email";return u.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:u.jsxs("div",{className:"flex items-center justify-between h-16 px-6",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200 lg:hidden",children:u.jsx($M,{className:"h-5 w-5 text-gray-600"})}),u.jsxs("div",{className:"relative hidden md:block",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(Fh,{className:"h-4 w-4 text-gray-400"})}),u.jsx("input",{type:"text",className:"block w-80 pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-gray-50 placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Search projects, tasks, or team members..."})]})]}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("button",{className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[u.jsx(rM,{className:"h-5 w-5 text-gray-600"}),u.jsx("span",{className:"absolute top-1 right-1 h-2 w-2 bg-red-500 rounded-full"})]}),u.jsx("div",{className:"relative",children:u.jsxs(Px,{children:[u.jsx(Lx,{asChild:!0,children:u.jsxs("button",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[u.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:f()?u.jsx("img",{src:f(),alt:"User avatar",className:"w-8 h-8 rounded-full object-cover"}):u.jsx("span",{className:"text-xs font-medium text-white",children:d()})}),u.jsx("span",{className:"hidden md:block text-sm font-medium text-gray-700",children:n?"Loading...":l()}),u.jsx(oN,{className:"h-4 w-4 text-gray-500"})]})}),u.jsxs(zx,{className:"w-64 p-0",align:"end",children:[u.jsx("div",{className:"p-4 border-b border-gray-100",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:f()?u.jsx("img",{src:f(),alt:"User avatar",className:"w-10 h-10 rounded-full object-cover"}):u.jsx("span",{className:"text-sm font-medium text-white",children:d()})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-900",children:l()}),u.jsx("p",{className:"text-sm text-gray-500",children:h()})]})]})}),u.jsxs("div",{className:"p-2",children:[u.jsxs("button",{className:"w-full flex items-center space-x-3 px-3 py-2 text-left rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[u.jsx(cN,{className:"h-4 w-4 text-gray-500"}),u.jsx("span",{className:"text-sm text-gray-700",children:"Settings"})]}),u.jsxs("button",{onClick:o,className:"w-full flex items-center space-x-3 px-3 py-2 text-left rounded-lg hover:bg-red-50 transition-colors duration-200 text-red-600",children:[u.jsx(HM,{className:"h-4 w-4"}),u.jsx("span",{className:"text-sm",children:"Sign out"})]})]})]})]})})]})]})})},J4=()=>{const[e,t]=S.useState(!1);return u.jsxs("div",{className:"flex h-screen bg-gray-50",children:[u.jsx("div",{className:"hidden lg:flex lg:flex-shrink-0",children:u.jsx(Y_,{})}),e&&u.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[u.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>t(!1)}),u.jsx("div",{className:"relative flex flex-col w-64 h-full bg-white shadow-xl",children:u.jsx(Y_,{})})]}),u.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[u.jsx(Z4,{onMenuClick:()=>t(!e)}),u.jsx("main",{className:"flex-1 overflow-y-auto",children:u.jsx("div",{className:"py-6",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsx(fR,{})})})})]})]})};function eL(){return u.jsx(LO,{siteName:"frontend",socketPort:"9000",children:u.jsx(J4,{})})}const tL=()=>{const[e,t]=S.useState("all"),[n,s]=S.useState("all"),[a,o]=S.useState("all"),[l,d]=S.useState([]),[f,h]=S.useState(!1),{data:p,isLoading:x,error:y}=yn("Project",{fields:["name","project_name","status","department","team","estimated_costing","expected_end_date","percent_complete"]}),{data:b,isLoading:w,error:_}=yn("project_phase",{fields:["name"]});S.useEffect(()=>{pe(null,null,function*(){if(!b||b.length===0){d([]);return}h(!0),console.log("🔄 Fetching individual phase documents for tasks...");try{const Z=b.map(I=>pe(null,null,function*(){try{const B=yield fetch(`/api/resource/project_phase/${I.name}`,{method:"GET",headers:{Accept:"application/json"}});if(!B.ok)return console.warn(`❌ Failed to fetch phase ${I.name}:`,B.status),null;const Y=yield B.json(),Q=Y.data||Y;return console.log(`✅ Phase ${I.name} full data:`,Q),console.log(`📋 Phase ${I.name} tasks:`,Q.tasks),Q}catch(B){return console.error(`💥 Error fetching phase ${I.name}:`,B),null}})),J=(yield Promise.all(Z)).filter(I=>I!==null);console.log("🎉 All phases with tasks loaded:",J),d(J)}catch(Z){console.error("💥 Error in fetchPhasesWithTasks:",Z)}finally{h(!1)}})},[b]);const{data:j,isLoading:N,error:k}=yn("Task",{fields:["name","subject","status","exp_end_date","exp_start_date","project","progress","priority","is_group"]}),{data:C,isLoading:R}=yn("Timesheet",{fields:["name","total_hours"]}),A=(p||[]).map($=>{var Z;return xe(U({},$),{project_type:$.project_type||"",customer:$.customer||"",company:$.company||"",department:$.department||"",team:$.team||"",expected_start_date:$.expected_start_date||"",expected_end_date:$.expected_end_date||"",actual_start_date:$.actual_start_date||"",actual_end_date:$.actual_end_date||null,percent_complete:$.percent_complete||0,priority:$.priority||"Medium",estimated_costing:$.estimated_costing||0,total_billable_amount:$.total_billable_amount||0,total_billed_amount:$.total_billed_amount||0,gross_margin:$.gross_margin||0,estimated_hours:$.estimated_hours||0,total_hours:$.total_hours||0,is_active:(Z=$.is_active)!=null?Z:!0})}),M=S.useMemo(()=>!l||l.length===0?[]:l.map($=>{const Z=$.tasks||[];return console.log(`📊 Processing Phase ${$.name} with ${Z.length} tasks:`,Z),xe(U({},$),{phase_name:$.subject||$.name||"",status:$.status||"Open",expected_start_date:$.start_date||"",expected_end_date:$.end_date||"",actual_start_date:$.start_date||"",actual_end_date:null,progress:$.progress||0,description:$.details||"",tasks:Z})}),[l]),z=(j||[]).map($=>xe(U({},$),{project:$.project||"",priority:$.priority||"Medium",type:$.type||"",expected_time:$.expected_time||0,actual_time:$.actual_time||0,start_date:$.exp_start_date||"",end_date:$.exp_end_date||"",progress:$.progress||0,assigned_to:$.assigned_to||null,is_group:$.is_group||!1,parent_task_name:$.parent_task_name||null})),P=(C||[]).map($=>({name:$.name,employee:$.employee||"",project:"",task:"",start_date:$.start_date||"",end_date:$.end_date||"",total_hours:$.total_hours||0,billable:!0,billing_hours:0,billing_rate:0,billing_amount:0})),V=x||w||f||N||R,te=S.useMemo(()=>{let $=A;n!=="all"&&n!==""&&($=$.filter(I=>I.department===n)),a!=="all"&&a!==""&&($=$.filter(I=>I.team===a)),e!=="all"&&e!==""&&($=$.filter(I=>I.project_name===e));const Z=$.map(I=>I.project_name),le=$.map(I=>I.name),J=M.filter(I=>le.includes(I.project));return{filteredProjects:$,filteredPhases:J,filteredTasks:z.filter(I=>{const B=I.project||"";return le.includes(B)}),filteredTimesheets:P.filter(I=>I.project?Z.includes(I.project):!0)}},[A,M,z,P,e,n,a]);return{allProjects:A,allPhases:M,filteredData:te,selectedProject:e,selectedDepartment:n,selectedTeam:a,setSelectedProject:t,setSelectedDepartment:s,setSelectedTeam:o,isLoading:V}},Xh=({title:e,children:t,className:n=""})=>u.jsxs("div",{className:`bg-white rounded-xl shadow-sm p-6 mb-6 ${n}`,children:[e&&u.jsx("div",{className:"text-xl font-semibold text-gray-800 mb-4",children:e}),t]}),nL=({projects:e,selectedProject:t,selectedDepartment:n,selectedTeam:s,onProjectChange:a,onDepartmentChange:o,onTeamChange:l})=>{const[d,f]=S.useState(!0),h=Array.from(new Set(e.map(b=>b.department).filter(Boolean))),p=n==="all"||n===""?[]:Array.from(new Set(e.filter(b=>b.department===n).map(b=>b.team).filter(Boolean))),x=e.filter(b=>n==="all"||n===""?!0:b.department!==n?!1:s==="all"||s===""?!0:b.team===s),y=()=>{const b=[];return n!=="all"&&b.push(`Phòng ban: ${n}`),s!=="all"&&b.push(`Team: ${s}`),t!=="all"&&b.push(`Dự án: ${t}`),b.length>0?b.join(" | "):"Tất cả dự án"};return u.jsx(Xh,{title:u.jsxs("div",{className:"flex items-center justify-between w-full cursor-pointer hover:bg-gray-50 -m-2 p-2 rounded-md transition-colors",onClick:()=>f(!d),children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(gx,{className:"w-5 h-5 mr-2 text-blue-600"}),u.jsx("span",{children:"Bộ lọc dự án"}),!d&&u.jsxs("span",{className:"ml-3 text-sm text-gray-600 font-normal",children:["- ",y()]})]}),u.jsx("button",{className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors p-1 rounded-md hover:bg-blue-50",title:d?"Thu gọn":"Mở rộng",onClick:b=>{b.stopPropagation(),f(!d)},children:d?u.jsx(fM,{className:"w-5 h-5"}):u.jsx(oN,{className:"w-5 h-5"})})]}),children:d&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phòng ban"}),u.jsxs("select",{value:n,onChange:b=>{o(b.target.value),l("all")},className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"all",children:"Tất cả phòng ban"}),h.map(b=>u.jsx("option",{value:b,children:b},b))]})]}),n!=="all"&&n!==""&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Team"}),u.jsxs("select",{value:s,onChange:b=>l(b.target.value),className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"all",children:"Tất cả team"}),p.map(b=>u.jsx("option",{value:b,children:b},b))]})]}),u.jsxs("div",{className:n!=="all"&&n!==""?"md:col-span-2":"md:col-span-3",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dự án"}),u.jsxs("select",{value:t,onChange:b=>a(b.target.value),className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"all",children:"Tất cả dự án"}),x.map(b=>u.jsxs("option",{value:b.project_name,children:[b.project_name," (",b.department," - ",b.team,")"]},b.name))]})]})]})})},sL=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),rL=e=>{switch(e){case"Open":case"Đang mở":return"bg-blue-100 text-blue-800";case"Working":case"Đang thực hiện":return"bg-orange-100 text-orange-800";case"Completed":case"Hoàn thành":return"bg-green-100 text-green-800";case"Overdue":case"Quá hạn":case"Sắp đến hạn":return"bg-red-100 text-red-800";case"Cancelled":case"Hủy":case"Đã hủy":return"bg-gray-100 text-gray-800";case"Đang xem xét":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},aL=e=>{switch(e){case"Urgent":case"Khẩn cấp":return"bg-red-100 text-red-800";case"High":case"Cao":return"bg-orange-100 text-red-800";case"Medium":case"Trung bình":return"bg-yellow-100 text-yellow-800";case"Low":case"Thấp":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},iL=({projects:e,tasks:t,selectedProject:n})=>{const s=n&&n!=="all",a=s?"Task":"Dự án";let o,l,d;if(s){o=t.filter(x=>x.status==="Open"||x.status==="Working"||x.status!=="Completed"&&x.status!=="Cancelled").length,l=t.filter(x=>x.status==="Completed").length;const p=new Date;d=t.filter(x=>x.exp_end_date?new Date(x.exp_end_date)<p&&x.status!=="Completed":!1).length,t.reduce((x,y)=>x+(y.expected_time||0),0)}else{o=e.filter(x=>x.status==="Đang thực hiện"||x.status!=="Hoàn thành"&&x.status!=="Hủy"&&x.percent_complete<100).length,l=e.filter(x=>x.status==="Hoàn thành"||x.percent_complete===100).length;const p=new Date;d=e.filter(x=>new Date(x.expected_end_date)<p&&x.status!=="Hoàn thành"&&x.percent_complete<100).length}const f=e.reduce((p,x)=>p+(x.estimated_costing||0),0),h=[{title:`${a} đang hoạt động`,value:o,icon:tM,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-blue-500 to-blue-600",cardBg:"bg-white",shadow:"shadow-lg shadow-blue-500/20",change:"+55%",changeText:"than last week",changeColor:"text-green-500"},{title:`${a} hoàn thành`,value:l,icon:xM,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-green-500 to-green-600",cardBg:"bg-white",shadow:"shadow-lg shadow-green-500/20",change:"+3%",changeText:"than last month",changeColor:"text-green-500"},{title:`${a} quá hạn`,value:d,icon:Il,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-pink-500 to-pink-600",cardBg:"bg-white",shadow:"shadow-lg shadow-pink-500/20",change:"+1%",changeText:"than yesterday",changeColor:"text-green-500"},{title:"Chi phí Dự án",value:sL(f),icon:GM,iconColor:"text-white",iconBg:"bg-gradient-to-br from-yellow-200 to-yellow-600",cardBg:"bg-white",shadow:"shadow-lg shadow-yellow-500/20",change:"+91",changeText:"Just updated",changeColor:"text-gray-500"}];return u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:h.map((p,x)=>{const y=p.icon;return u.jsx("div",{className:`${p.cardBg} ${p.shadow} rounded-xl p-6 border border-gray-100 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1`,children:u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("div",{className:`${p.iconBg} ${p.iconColor} p-3 rounded-2xl shadow-lg`,children:u.jsx(y,{className:"h-6 w-6"})}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:p.title}),u.jsx("p",{className:`${p.title.includes("Chi phí")?"text-2xl":"text-3xl"} font-bold text-gray-900`,children:p.value})]})]})},x)})})},oL=({projects:e,tasks:t,selectedProject:n})=>{const s=n&&n!=="all",a=_e.useMemo(()=>{const p=new Date;return p.setHours(0,0,0,0),e.map((y,b)=>({id:`milestone-${b}`,name:y.project_name,project:y.project_name,endDate:new Date(y.expected_end_date),priority:y.priority,status:y.percent_complete===100?"completed":y.percent_complete>0?"in progress":"upcoming",progress:y.percent_complete})).filter(y=>{const b=new Date(y.endDate);b.setHours(0,0,0,0);const w=Math.ceil((b.getTime()-p.getTime())/(1e3*60*60*24));return y.status!=="completed"&&w>=0&&w<=60}).sort((y,b)=>{const w=new Date;w.setHours(0,0,0,0);const _=new Date(y.endDate);_.setHours(0,0,0,0);const j=new Date(b.endDate);j.setHours(0,0,0,0);const N=Math.abs(_.getTime()-w.getTime()),k=Math.abs(j.getTime()-w.getTime()),C=N-k;if(C!==0)return C;const R={"Khẩn cấp":0,Cao:1,"Trung bình":2,Thấp:3,Urgent:0,High:1,Medium:2,Low:3};return(R[y.priority]||3)-(R[b.priority]||3)})},[e]),o=_e.useMemo(()=>{if(!s)return[];const p=new Date;return p.setHours(0,0,0,0),t.filter(x=>{if(!x.exp_end_date||x.status==="Completed")return!1;const y=new Date(x.exp_end_date);y.setHours(0,0,0,0);const b=Math.ceil((y.getTime()-p.getTime())/(1e3*60*60*24));return b>=0&&b<=30}).sort((x,y)=>{const b=new Date;b.setHours(0,0,0,0);const w=new Date(x.exp_end_date);w.setHours(0,0,0,0);const _=new Date(y.exp_end_date);_.setHours(0,0,0,0);const j=Math.abs(w.getTime()-b.getTime()),N=Math.abs(_.getTime()-b.getTime()),k=j-N;if(k!==0)return k;const C={Urgent:0,High:1,Medium:2,Low:3};return(C[x.priority]||3)-(C[y.priority]||3)})},[t,s]),l=p=>{switch(p){case"completed":return"bg-green-500";case"in progress":return"bg-blue-500";case"upcoming":return"bg-gray-300";default:return"bg-gray-300"}},d=p=>{switch(p){case"Urgent":return"bg-red-100 text-red-800";case"High":return"bg-orange-100 text-orange-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"Low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},f=p=>p.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),h=p=>{const x=new Date;x.setHours(0,0,0,0);const y=new Date(p);y.setHours(0,0,0,0);const b=Math.ceil((y.getTime()-x.getTime())/(1e3*60*60*24));return b<0?{text:`Quá hạn ${Math.abs(b)} ngày`,color:"text-red-600",urgent:!0}:b===0?{text:"Hôm nay",color:"text-red-600",urgent:!0}:b<=3?{text:`${b} ngày nữa`,color:"text-red-600",urgent:!0}:b<=7?{text:`${b} ngày nữa`,color:"text-orange-600",urgent:!0}:b<=14?{text:`${b} ngày nữa`,color:"text-yellow-600",urgent:!1}:{text:`${b} ngày nữa`,color:"text-gray-600",urgent:!1}};return u.jsx("div",{className:"grid grid-cols-1 gap-8",children:u.jsx(Xh,{title:s?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Tasks"})," ","gần ",u.jsx("span",{className:"text-red-600 font-semibold",children:"đến hạn "})," (<30 ngày)"]}):u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Dự án"})," ","sắp ",u.jsx("span",{className:"text-red-600 font-semibold",children:"đến hạn"})," (<30 ngày)"]}),children:u.jsx("div",{className:`space-y-6 ${s?o.length>=3?"h-80 overflow-y-auto":"overflow-visible":a.length>=3?"h-80 overflow-y-auto":"overflow-visible"}`,children:s?u.jsxs(u.Fragment,{children:[o.map((p,x)=>{const y=h(new Date(p.exp_end_date));return u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"flex items-center space-x-3",children:u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("h4",{className:"font-medium text-gray-900",children:p.subject}),u.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${d(p.priority)}`,children:p.priority})]}),u.jsx("div",{className:"mt-1",children:u.jsx("span",{className:`text-xs font-medium ${y.color}`,children:y.text})})]})}),u.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[u.jsx(gr,{className:"h-4 w-4 mr-1"}),f(new Date(p.exp_end_date))]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-gray-600",children:"Progress"}),u.jsxs("span",{className:"font-medium",children:[p.progress||0,"%"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:`h-2 rounded-full ${p.status==="Completed"?"bg-green-500":p.status==="Working"?"bg-blue-500":"bg-gray-300"}`,style:{width:`${p.progress||0}%`}})})]})]},`task-${x}`)}),o.length===0&&u.jsxs("div",{className:"text-center py-8 text-gray-500",children:[u.jsx(gr,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),u.jsx("p",{children:"Không có task nào sắp đến hạn"})]})]}):u.jsxs(u.Fragment,{children:[a.map(p=>{const x=h(p.endDate);return u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"flex items-center space-x-3",children:u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("h4",{className:"font-medium text-gray-900",children:p.name}),u.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${d(p.priority)}`,children:p.priority})]}),u.jsx("div",{className:"mt-1",children:u.jsx("span",{className:`text-xs font-medium ${x.color}`,children:x.text})})]})}),u.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[u.jsx(gr,{className:"h-4 w-4 mr-1"}),f(p.endDate)]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-gray-600",children:"Progress"}),u.jsxs("span",{className:"font-medium",children:[p.progress,"%"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:`h-2 rounded-full ${l(p.status)}`,style:{width:`${p.progress}%`}})})]})]},p.id)}),a.length===0&&u.jsxs("div",{className:"text-center py-8 text-gray-500",children:[u.jsx(gr,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),u.jsx("p",{children:"Không có dự án nào sắp đến hạn"})]})]})})})})},lL=({projects:e,tasks:t,selectedProject:n})=>{const[s,a]=S.useState(null),[o,l]=S.useState(!0),d=w=>{a(_=>_===w?null:w)},f=n&&n!=="all",p=(()=>{if(f){const w={open:{projects:[],color:"#3b82f6",lightColor:"#60a5fa",darkColor:"#1d4ed8",label:"Open",height:30},working:{projects:[],color:"#f59e0b",lightColor:"#fbbf24",darkColor:"#d97706",label:"Working",height:25},completed:{projects:[],color:"#22c55e",lightColor:"#4ade80",darkColor:"#15803d",label:"Completed",height:20},overdue:{projects:[],color:"#ef4444",lightColor:"#f87171",darkColor:"#dc2626",label:"Overdue",height:40},cancelled:{projects:[],color:"#6b7280",lightColor:"#9ca3af",darkColor:"#4b5563",label:"Cancelled",height:35}};return t.forEach(_=>{const j=new Date;_.exp_end_date&&new Date(_.exp_end_date)<j&&_.status!=="Completed"&&_.status!=="Cancelled"?w.overdue.projects.push(_):_.status==="Completed"?w.completed.projects.push(_):_.status==="Working"?w.working.projects.push(_):_.status==="Cancelled"?w.cancelled.projects.push(_):w.open.projects.push(_)}),w}else{const w={open:{projects:[],color:"#3b82f6",lightColor:"#60a5fa",darkColor:"#1d4ed8",label:"Đang mở",height:30},completed:{projects:[],color:"#22c55e",lightColor:"#4ade80",darkColor:"#15803d",label:"Hoàn thành",height:20},cancelled:{projects:[],color:"#ef4444",lightColor:"#f87171",darkColor:"#dc2626",label:"Đã hủy",height:40}};return e.forEach(_=>{_.status==="Completed"||_.status==="Hoàn thành"?w.completed.projects.push(_):_.status==="Cancelled"||_.status==="Canceled"||_.status==="Hủy"?w.cancelled.projects.push(_):w.open.projects.push(_)}),w}})(),x=f?t.length:e.length,y=w=>{const _={Urgent:4,High:3,Medium:2,Low:1};return w.sort((j,N)=>{const k=_[j.priority]||0;return(_[N.priority]||0)-k})};Object.values(p).forEach(w=>{w.projects=y(w.projects)});const b=()=>{const[w,_]=_e.useState({visible:!1,x:0,y:0,categoryKey:""}),j=360,N=j/2,k=j/2,C=170;let R=0;const A=Object.entries(p).filter(([,V])=>V.projects.length>0),M=(V,te)=>{const $=te.clientX,Z=te.clientY;_({visible:!0,x:$+15,y:Z-10,categoryKey:V})},z=(V,te)=>{if(w.visible&&w.categoryKey===V){const $=te.clientX,Z=te.clientY;_(le=>xe(U({},le),{x:$+15,y:Z-10}))}},P=()=>{_({visible:!1,x:0,y:0,categoryKey:""})};return u.jsxs("div",{className:"relative flex flex-col items-center",children:[u.jsx("p",{className:"text-sm text-gray-600 mb-6 text-center max-w-xs",children:f?"Biểu đồ phân bố Tasks theo trạng thái":"Biểu đồ phân bố dự án theo trạng thái"}),u.jsx("div",{className:"relative",style:{width:j,height:j},children:u.jsxs("svg",{width:j,height:j,className:"absolute top-0 left-0",children:[u.jsx("defs",{children:u.jsx("filter",{id:"dropshadow2d",x:"-20%",y:"-20%",width:"140%",height:"140%",children:u.jsx("feDropShadow",{dx:"2",dy:"4",stdDeviation:"4",floodOpacity:"0.2"})})}),(R=0,A.map(([V,te])=>{const $=te.projects.length/x*100,Z=R,le=R+$/100*360;R=le;const J=Z*Math.PI/180,I=le*Math.PI/180,B=(Z+le)/2*Math.PI/180,Y=N+C*Math.cos(J),Q=k+C*Math.sin(J),ve=N+C*Math.cos(I),H=k+C*Math.sin(I),ae=le-Z>180?1:0,ye=A.length===1;let X;ye?X=`M ${N} ${k+C} A ${C} ${C} 0 1 1 ${N} ${k-C} A ${C} ${C} 0 1 1 ${N} ${k+C} Z`:X=[`M ${N} ${k}`,`L ${Y} ${Q}`,`A ${C} ${C} 0 ${ae} 1 ${ve} ${H}`,"Z"].join(" ");const he=C*.7,ke=ye?N:N+he*Math.cos(B),be=ye?k:k+he*Math.sin(B);return u.jsxs("g",{children:[u.jsx("path",{d:X,fill:te.color,stroke:"white",strokeWidth:"2",filter:"url(#dropshadow2d)",className:"hover:opacity-80 transition-opacity cursor-pointer",onMouseEnter:Ce=>M(V,Ce),onMouseMove:Ce=>z(V,Ce),onMouseLeave:P}),$>5&&u.jsxs("text",{x:ke,y:be,textAnchor:"middle",dominantBaseline:"middle",className:"text-xs font-bold fill-white pointer-events-none",style:{textShadow:"1px 1px 2px rgba(0,0,0,0.5)"},children:[Math.round($),"%"]})]},`segment-${V}`)}))]})}),w.visible&&w.categoryKey&&p[w.categoryKey]&&u.jsxs("div",{className:"fixed z-50 bg-white border border-gray-200 rounded-lg shadow-lg p-4 max-w-xs pointer-events-none",style:{left:w.x,top:w.y,transform:"translate(-50%, -100%)"},children:[u.jsxs("div",{className:"font-semibold text-gray-800 mb-2 flex items-center",children:[u.jsx("div",{className:"w-3 h-3 rounded mr-2",style:{backgroundColor:p[w.categoryKey].color}}),p[w.categoryKey].label," (",p[w.categoryKey].projects.length,")"]}),u.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:p[w.categoryKey].projects.map((V,te)=>u.jsxs("div",{className:"text-xs border-b border-gray-100 pb-1 last:border-b-0",children:[u.jsx("div",{className:"font-medium text-gray-700",children:f?V.subject:V.project_name}),u.jsxs("div",{className:"text-gray-500 flex justify-between",children:[u.jsx("span",{children:f?`${V.progress||0}% hoàn thành`:`${V.percent_complete}% hoàn thành`}),u.jsxs("span",{className:"font-medium",children:["Priority: ",V.priority]})]})]},te))})]})]})};return u.jsx(Xh,{title:u.jsx("div",{className:"flex items-center justify-between w-full cursor-pointer hover:bg-gray-50 -m-2 p-2 rounded-md transition-colors",onClick:()=>l(!o),children:u.jsx("div",{className:"flex items-center",children:u.jsx("span",{children:f?u.jsxs(u.Fragment,{children:["Tổng quan ",u.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Tasks"})]}):u.jsxs(u.Fragment,{children:["Tổng quan ",u.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"dự án"})]})})})}),children:o&&u.jsx("div",{children:x===0?u.jsx("div",{className:"flex flex-col items-center justify-center py-16",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-8xl text-gray-300 mb-6",children:"📊"}),u.jsx("p",{className:"text-xl font-medium text-gray-600 mb-3",children:f?"Không có task nào":"Không có dự án nào"}),u.jsx("p",{className:"text-base text-gray-500 max-w-md",children:f?"Không có task nào đang thực hiện trong dự án này":"Không có dự án nào đang thực hiện"})]})}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[u.jsx("div",{className:"flex flex-col items-center",children:u.jsx(b,{})}),u.jsx("div",{className:"space-y-4",children:Object.entries(p).map(([w,_])=>_.projects.length>0&&u.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[u.jsxs("button",{onClick:()=>d(w),className:"w-full px-4 py-3 bg-gray-50 hover:bg-gray-100 transition-colors flex items-center justify-between border-l-4",style:{borderLeftColor:_.color},children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-3 h-3 rounded-full mr-3",style:{backgroundColor:_.color}}),u.jsxs("h4",{className:"font-semibold text-gray-800",children:[_.label," (",_.projects.length,")"]})]}),u.jsx("div",{className:"flex items-center",children:u.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform duration-200 ${s===w?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),u.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${s===w?"max-h-96":"max-h-0"}`,children:u.jsx("div",{className:"p-4 space-y-2 max-h-80 overflow-y-auto",children:_.projects.map(j=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md hover:bg-gray-100 transition-colors",children:[u.jsx("div",{className:"flex-1 min-w-0",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:f?j.subject:j.project_name}),u.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ml-2 flex-shrink-0 ${j.priority==="Urgent"?"bg-red-100 text-red-800":j.priority==="High"?"bg-orange-100 text-orange-800":j.priority==="Medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:j.priority})]})}),u.jsx("div",{className:"flex flex-col items-end ml-3",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-12 bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(f?j.progress||0:j.percent_complete||0,100)}%`,backgroundColor:(()=>{const N=f?j.progress||0:j.percent_complete||0;return N>=100?"#22c55e":N>=70?"#3b82f6":N>=30?"#f59e0b":"#ef4444"})()}})}),u.jsxs("span",{className:"text-xs font-semibold text-gray-600 min-w-[35px] text-right",children:[f?j.progress||0:j.percent_complete||0,"%"]})]})})]},j.name))})})]},w))})]})})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Gu(e){return e+.5|0}const vi=(e,t,n)=>Math.max(Math.min(e,n),t);function yu(e){return vi(Gu(e*2.55),0,255)}function ji(e){return vi(Gu(e*255),0,255)}function Aa(e){return vi(Gu(e/2.55)/100,0,1)}function bj(e){return vi(Gu(e*100),0,100)}const fr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},T0=[..."0123456789ABCDEF"],cL=e=>T0[e&15],uL=e=>T0[(e&240)>>4]+T0[e&15],Nf=e=>(e&240)>>4===(e&15),dL=e=>Nf(e.r)&&Nf(e.g)&&Nf(e.b)&&Nf(e.a);function fL(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&fr[e[1]]*17,g:255&fr[e[2]]*17,b:255&fr[e[3]]*17,a:t===5?fr[e[4]]*17:255}:(t===7||t===9)&&(n={r:fr[e[1]]<<4|fr[e[2]],g:fr[e[3]]<<4|fr[e[4]],b:fr[e[5]]<<4|fr[e[6]],a:t===9?fr[e[7]]<<4|fr[e[8]]:255})),n}const hL=(e,t)=>e<255?t(e):"";function mL(e){var t=dL(e)?cL:uL;return e?"#"+t(e.r)+t(e.g)+t(e.b)+hL(e.a,t):void 0}const pL=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function p2(e,t,n){const s=t*Math.min(n,1-n),a=(o,l=(o+e/30)%12)=>n-s*Math.max(Math.min(l-3,9-l,1),-1);return[a(0),a(8),a(4)]}function gL(e,t,n){const s=(a,o=(a+e/60)%6)=>n-n*t*Math.max(Math.min(o,4-o,1),0);return[s(5),s(3),s(1)]}function xL(e,t,n){const s=p2(e,1,.5);let a;for(t+n>1&&(a=1/(t+n),t*=a,n*=a),a=0;a<3;a++)s[a]*=1-t-n,s[a]+=t;return s}function yL(e,t,n,s,a){return e===a?(t-n)/s+(t<n?6:0):t===a?(n-e)/s+2:(e-t)/s+4}function Ux(e){const n=e.r/255,s=e.g/255,a=e.b/255,o=Math.max(n,s,a),l=Math.min(n,s,a),d=(o+l)/2;let f,h,p;return o!==l&&(p=o-l,h=d>.5?p/(2-o-l):p/(o+l),f=yL(n,s,a,p,o),f=f*60+.5),[f|0,h||0,d]}function Bx(e,t,n,s){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,s)).map(ji)}function Fx(e,t,n){return Bx(p2,e,t,n)}function bL(e,t,n){return Bx(xL,e,t,n)}function vL(e,t,n){return Bx(gL,e,t,n)}function g2(e){return(e%360+360)%360}function wL(e){const t=pL.exec(e);let n=255,s;if(!t)return;t[5]!==s&&(n=t[6]?yu(+t[5]):ji(+t[5]));const a=g2(+t[2]),o=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?s=bL(a,o,l):t[1]==="hsv"?s=vL(a,o,l):s=Fx(a,o,l),{r:s[0],g:s[1],b:s[2],a:n}}function _L(e,t){var n=Ux(e);n[0]=g2(n[0]+t),n=Fx(n),e.r=n[0],e.g=n[1],e.b=n[2]}function jL(e){if(!e)return;const t=Ux(e),n=t[0],s=bj(t[1]),a=bj(t[2]);return e.a<255?`hsla(${n}, ${s}%, ${a}%, ${Aa(e.a)})`:`hsl(${n}, ${s}%, ${a}%)`}const vj={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},wj={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function SL(){const e={},t=Object.keys(wj),n=Object.keys(vj);let s,a,o,l,d;for(s=0;s<t.length;s++){for(l=d=t[s],a=0;a<n.length;a++)o=n[a],d=d.replace(o,vj[o]);o=parseInt(wj[l],16),e[d]=[o>>16&255,o>>8&255,o&255]}return e}let Ef;function NL(e){Ef||(Ef=SL(),Ef.transparent=[0,0,0,0]);const t=Ef[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const EL=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function TL(e){const t=EL.exec(e);let n=255,s,a,o;if(t){if(t[7]!==s){const l=+t[7];n=t[8]?yu(l):vi(l*255,0,255)}return s=+t[1],a=+t[3],o=+t[5],s=255&(t[2]?yu(s):vi(s,0,255)),a=255&(t[4]?yu(a):vi(a,0,255)),o=255&(t[6]?yu(o):vi(o,0,255)),{r:s,g:a,b:o,a:n}}}function kL(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Aa(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Og=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Sl=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function CL(e,t,n){const s=Sl(Aa(e.r)),a=Sl(Aa(e.g)),o=Sl(Aa(e.b));return{r:ji(Og(s+n*(Sl(Aa(t.r))-s))),g:ji(Og(a+n*(Sl(Aa(t.g))-a))),b:ji(Og(o+n*(Sl(Aa(t.b))-o))),a:e.a+n*(t.a-e.a)}}function Tf(e,t,n){if(e){let s=Ux(e);s[t]=Math.max(0,Math.min(s[t]+s[t]*n,t===0?360:1)),s=Fx(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function x2(e,t){return e&&Object.assign(t||{},e)}function _j(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=ji(e[3]))):(t=x2(e,{r:0,g:0,b:0,a:1}),t.a=ji(t.a)),t}function OL(e){return e.charAt(0)==="r"?TL(e):wL(e)}class zu{constructor(t){if(t instanceof zu)return t;const n=typeof t;let s;n==="object"?s=_j(t):n==="string"&&(s=fL(t)||NL(t)||OL(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=x2(this._rgb);return t&&(t.a=Aa(t.a)),t}set rgb(t){this._rgb=_j(t)}rgbString(){return this._valid?kL(this._rgb):void 0}hexString(){return this._valid?mL(this._rgb):void 0}hslString(){return this._valid?jL(this._rgb):void 0}mix(t,n){if(t){const s=this.rgb,a=t.rgb;let o;const l=n===o?.5:n,d=2*l-1,f=s.a-a.a,h=((d*f===-1?d:(d+f)/(1+d*f))+1)/2;o=1-h,s.r=255&h*s.r+o*a.r+.5,s.g=255&h*s.g+o*a.g+.5,s.b=255&h*s.b+o*a.b+.5,s.a=l*s.a+(1-l)*a.a,this.rgb=s}return this}interpolate(t,n){return t&&(this._rgb=CL(this._rgb,t._rgb,n)),this}clone(){return new zu(this.rgb)}alpha(t){return this._rgb.a=ji(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Gu(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Tf(this._rgb,2,t),this}darken(t){return Tf(this._rgb,2,-t),this}saturate(t){return Tf(this._rgb,1,t),this}desaturate(t){return Tf(this._rgb,1,-t),this}rotate(t){return _L(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ta(){}const AL=(()=>{let e=0;return()=>e++})();function un(e){return e==null}function Zn(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function qt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function br(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Ir(e,t){return br(e)?e:t}function Vt(e,t){return typeof e=="undefined"?t:e}const RL=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,y2=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function mn(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function Zt(e,t,n,s){let a,o,l;if(Zn(e))for(o=e.length,a=0;a<o;a++)t.call(n,e[a],a);else if(qt(e))for(l=Object.keys(e),o=l.length,a=0;a<o;a++)t.call(n,e[l[a]],l[a])}function yh(e,t){let n,s,a,o;if(!e||!t||e.length!==t.length)return!1;for(n=0,s=e.length;n<s;++n)if(a=e[n],o=t[n],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function bh(e){if(Zn(e))return e.map(bh);if(qt(e)){const t=Object.create(null),n=Object.keys(e),s=n.length;let a=0;for(;a<s;++a)t[n[a]]=bh(e[n[a]]);return t}return e}function b2(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function ML(e,t,n,s){if(!b2(e))return;const a=t[e],o=n[e];qt(a)&&qt(o)?Uu(a,o,s):t[e]=bh(o)}function Uu(e,t,n){const s=Zn(t)?t:[t],a=s.length;if(!qt(e))return e;n=n||{};const o=n.merger||ML;let l;for(let d=0;d<a;++d){if(l=s[d],!qt(l))continue;const f=Object.keys(l);for(let h=0,p=f.length;h<p;++h)o(f[h],e,l,n)}return e}function ju(e,t){return Uu(e,t,{merger:DL})}function DL(e,t,n){if(!b2(e))return;const s=t[e],a=n[e];qt(s)&&qt(a)?ju(s,a):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=bh(a))}const jj={"":e=>e,x:e=>e.x,y:e=>e.y};function PL(e){const t=e.split("."),n=[];let s="";for(const a of t)s+=a,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function LL(e){const t=PL(e);return n=>{for(const s of t){if(s==="")break;n=n&&n[s]}return n}}function To(e,t){return(jj[t]||(jj[t]=LL(t)))(e)}function Hx(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Bu=e=>typeof e!="undefined",Ci=e=>typeof e=="function",Sj=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function zL(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const cn=Math.PI,Vn=2*cn,vh=Number.POSITIVE_INFINITY,UL=cn/180,es=cn/2,oo=cn/4,Nj=cn*2/3,v2=Math.log10,Si=Math.sign;function nh(e,t,n){return Math.abs(e-t)<n}function Ej(e){const t=Math.round(e);e=nh(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(v2(e))),s=e/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function BL(e){const t=[],n=Math.sqrt(e);let s;for(s=1;s<n;s++)e%s===0&&(t.push(s),t.push(e/s));return n===(n|0)&&t.push(n),t.sort((a,o)=>a-o).pop(),t}function FL(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function wh(e){return!FL(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function HL(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function VL(e,t,n){let s,a,o;for(s=0,a=e.length;s<a;s++)o=e[s][n],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Da(e){return e*(cn/180)}function $L(e){return e*(180/cn)}function Tj(e){if(!br(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function w2(e,t){const n=t.x-e.x,s=t.y-e.y,a=Math.sqrt(n*n+s*s);let o=Math.atan2(s,n);return o<-.5*cn&&(o+=Vn),{angle:o,distance:a}}function qL(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Gr(e){return(e%Vn+Vn)%Vn}function _h(e,t,n,s){const a=Gr(e),o=Gr(t),l=Gr(n),d=Gr(o-a),f=Gr(l-a),h=Gr(a-o),p=Gr(a-l);return a===o||a===l||s&&o===l||d>f&&h<p}function Hs(e,t,n){return Math.max(t,Math.min(n,e))}function YL(e){return Hs(e,-32768,32767)}function bo(e,t,n,s=1e-6){return e>=Math.min(t,n)-s&&e<=Math.max(t,n)+s}function Vx(e,t,n){n=n||(l=>e[l]<t);let s=e.length-1,a=0,o;for(;s-a>1;)o=a+s>>1,n(o)?a=o:s=o;return{lo:a,hi:s}}const k0=(e,t,n,s)=>Vx(e,n,s?a=>{const o=e[a][t];return o<n||o===n&&e[a+1][t]===n}:a=>e[a][t]<n),IL=(e,t,n)=>Vx(e,n,s=>e[s][t]>=n);function WL(e,t,n){let s=0,a=e.length;for(;s<a&&e[s]<t;)s++;for(;a>s&&e[a-1]>n;)a--;return s>0||a<e.length?e.slice(s,a):e}const _2=["push","pop","shift","splice","unshift"];function XL(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),_2.forEach(n=>{const s="_onData"+Hx(n),a=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...o){const l=a.apply(this,o);return e._chartjs.listeners.forEach(d=>{typeof d[s]=="function"&&d[s](...o)}),l}})})}function kj(e,t){const n=e._chartjs;if(!n)return;const s=n.listeners,a=s.indexOf(t);a!==-1&&s.splice(a,1),!(s.length>0)&&(_2.forEach(o=>{delete e[o]}),delete e._chartjs)}function j2(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const S2=function(){return typeof window=="undefined"?function(e){return e()}:window.requestAnimationFrame}();function N2(e,t){let n=[],s=!1;return function(...a){n=a,s||(s=!0,S2.call(window,()=>{s=!1,e.apply(t,n)}))}}function GL(e,t){let n;return function(...s){return t?(clearTimeout(n),n=setTimeout(e,t,s)):e.apply(this,s),t}}const $x=e=>e==="start"?"left":e==="end"?"right":"center",ys=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,KL=(e,t,n,s)=>e===(s?"left":"right")?n:e==="center"?(t+n)/2:t,kf=e=>e===0||e===1,Cj=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Vn/n)),Oj=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Vn/n)+1,Su={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*es)+1,easeOutSine:e=>Math.sin(e*es),easeInOutSine:e=>-.5*(Math.cos(cn*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>kf(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>kf(e)?e:Cj(e,.075,.3),easeOutElastic:e=>kf(e)?e:Oj(e,.075,.3),easeInOutElastic(e){return kf(e)?e:e<.5?.5*Cj(e*2,.1125,.45):.5+.5*Oj(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Su.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Su.easeInBounce(e*2)*.5:Su.easeOutBounce(e*2-1)*.5+.5};function E2(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Aj(e){return E2(e)?e:new zu(e)}function Ag(e){return E2(e)?e:new zu(e).saturate(.5).darken(.1).hexString()}const QL=["x","y","borderWidth","radius","tension"],ZL=["color","borderColor","backgroundColor"];function JL(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:ZL},numbers:{type:"number",properties:QL}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function e6(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Rj=new Map;function t6(e,t){t=t||{};const n=e+JSON.stringify(t);let s=Rj.get(n);return s||(s=new Intl.NumberFormat(e,t),Rj.set(n,s)),s}function qx(e,t,n){return t6(t,n).format(e)}const n6={values(e){return Zn(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const s=this.chart.options.locale;let a,o=e;if(n.length>1){const h=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(h<1e-4||h>1e15)&&(a="scientific"),o=s6(e,n)}const l=v2(Math.abs(o)),d=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),f={notation:a,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(f,this.options.ticks.format),qx(e,s,f)}};function s6(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var T2={formatters:n6};function r6(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:T2.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const ko=Object.create(null),C0=Object.create(null);function Nu(e,t){if(!t)return e;const n=t.split(".");for(let s=0,a=n.length;s<a;++s){const o=n[s];e=e[o]||(e[o]=Object.create(null))}return e}function Rg(e,t,n){return typeof t=="string"?Uu(Nu(e,t),n):Uu(Nu(e,""),t)}class a6{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,a)=>Ag(a.backgroundColor),this.hoverBorderColor=(s,a)=>Ag(a.borderColor),this.hoverColor=(s,a)=>Ag(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Rg(this,t,n)}get(t){return Nu(this,t)}describe(t,n){return Rg(C0,t,n)}override(t,n){return Rg(ko,t,n)}route(t,n,s,a){const o=Nu(this,t),l=Nu(this,s),d="_"+n;Object.defineProperties(o,{[d]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const f=this[d],h=l[a];return qt(f)?Object.assign({},h,f):Vt(f,h)},set(f){this[d]=f}}})}apply(t){t.forEach(n=>n(this))}}var Dn=new a6({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[JL,e6,r6]);function i6(e){return!e||un(e.size)||un(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Mj(e,t,n,s,a){let o=t[a];return o||(o=t[a]=e.measureText(a).width,n.push(a)),o>s&&(s=o),s}function lo(e,t,n){const s=e.currentDevicePixelRatio,a=n!==0?Math.max(n/2,.5):0;return Math.round((t-a)*s)/s+a}function Dj(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Pj(e,t,n,s){k2(e,t,n,s,null)}function k2(e,t,n,s,a){let o,l,d,f,h,p,x,y;const b=t.pointStyle,w=t.rotation,_=t.radius;let j=(w||0)*UL;if(b&&typeof b=="object"&&(o=b.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(n,s),e.rotate(j),e.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),e.restore();return}if(!(isNaN(_)||_<=0)){switch(e.beginPath(),b){default:a?e.ellipse(n,s,a/2,_,0,0,Vn):e.arc(n,s,_,0,Vn),e.closePath();break;case"triangle":p=a?a/2:_,e.moveTo(n+Math.sin(j)*p,s-Math.cos(j)*_),j+=Nj,e.lineTo(n+Math.sin(j)*p,s-Math.cos(j)*_),j+=Nj,e.lineTo(n+Math.sin(j)*p,s-Math.cos(j)*_),e.closePath();break;case"rectRounded":h=_*.516,f=_-h,l=Math.cos(j+oo)*f,x=Math.cos(j+oo)*(a?a/2-h:f),d=Math.sin(j+oo)*f,y=Math.sin(j+oo)*(a?a/2-h:f),e.arc(n-x,s-d,h,j-cn,j-es),e.arc(n+y,s-l,h,j-es,j),e.arc(n+x,s+d,h,j,j+es),e.arc(n-y,s+l,h,j+es,j+cn),e.closePath();break;case"rect":if(!w){f=Math.SQRT1_2*_,p=a?a/2:f,e.rect(n-p,s-f,2*p,2*f);break}j+=oo;case"rectRot":x=Math.cos(j)*(a?a/2:_),l=Math.cos(j)*_,d=Math.sin(j)*_,y=Math.sin(j)*(a?a/2:_),e.moveTo(n-x,s-d),e.lineTo(n+y,s-l),e.lineTo(n+x,s+d),e.lineTo(n-y,s+l),e.closePath();break;case"crossRot":j+=oo;case"cross":x=Math.cos(j)*(a?a/2:_),l=Math.cos(j)*_,d=Math.sin(j)*_,y=Math.sin(j)*(a?a/2:_),e.moveTo(n-x,s-d),e.lineTo(n+x,s+d),e.moveTo(n+y,s-l),e.lineTo(n-y,s+l);break;case"star":x=Math.cos(j)*(a?a/2:_),l=Math.cos(j)*_,d=Math.sin(j)*_,y=Math.sin(j)*(a?a/2:_),e.moveTo(n-x,s-d),e.lineTo(n+x,s+d),e.moveTo(n+y,s-l),e.lineTo(n-y,s+l),j+=oo,x=Math.cos(j)*(a?a/2:_),l=Math.cos(j)*_,d=Math.sin(j)*_,y=Math.sin(j)*(a?a/2:_),e.moveTo(n-x,s-d),e.lineTo(n+x,s+d),e.moveTo(n+y,s-l),e.lineTo(n-y,s+l);break;case"line":l=a?a/2:Math.cos(j)*_,d=Math.sin(j)*_,e.moveTo(n-l,s-d),e.lineTo(n+l,s+d);break;case"dash":e.moveTo(n,s),e.lineTo(n+Math.cos(j)*(a?a/2:_),s+Math.sin(j)*_);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function C2(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Yx(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Ix(e){e.restore()}function o6(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),un(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function l6(e,t,n,s,a){if(a.strikethrough||a.underline){const o=e.measureText(s),l=t-o.actualBoundingBoxLeft,d=t+o.actualBoundingBoxRight,f=n-o.actualBoundingBoxAscent,h=n+o.actualBoundingBoxDescent,p=a.strikethrough?(f+h)/2:h;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=a.decorationWidth||2,e.moveTo(l,p),e.lineTo(d,p),e.stroke()}}function c6(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Fu(e,t,n,s,a,o={}){const l=Zn(t)?t:[t],d=o.strokeWidth>0&&o.strokeColor!=="";let f,h;for(e.save(),e.font=a.string,o6(e,o),f=0;f<l.length;++f)h=l[f],o.backdrop&&c6(e,o.backdrop),d&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),un(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(h,n,s,o.maxWidth)),e.fillText(h,n,s,o.maxWidth),l6(e,n,s,h,o),s+=Number(a.lineHeight);e.restore()}function jh(e,t){const{x:n,y:s,w:a,h:o,radius:l}=t;e.arc(n+l.topLeft,s+l.topLeft,l.topLeft,1.5*cn,cn,!0),e.lineTo(n,s+o-l.bottomLeft),e.arc(n+l.bottomLeft,s+o-l.bottomLeft,l.bottomLeft,cn,es,!0),e.lineTo(n+a-l.bottomRight,s+o),e.arc(n+a-l.bottomRight,s+o-l.bottomRight,l.bottomRight,es,0,!0),e.lineTo(n+a,s+l.topRight),e.arc(n+a-l.topRight,s+l.topRight,l.topRight,0,-es,!0),e.lineTo(n+l.topLeft,s)}const u6=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,d6=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function f6(e,t){const n=(""+e).match(u6);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const h6=e=>+e||0;function Wx(e,t){const n={},s=qt(t),a=s?Object.keys(t):t,o=qt(e)?s?l=>Vt(e[l],e[t[l]]):l=>e[l]:()=>e;for(const l of a)n[l]=h6(o(l));return n}function O2(e){return Wx(e,{top:"y",right:"x",bottom:"y",left:"x"})}function zl(e){return Wx(e,["topLeft","topRight","bottomLeft","bottomRight"])}function vr(e){const t=O2(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function vs(e,t){e=e||{},t=t||Dn.font;let n=Vt(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let s=Vt(e.style,t.style);s&&!(""+s).match(d6)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const a={family:Vt(e.family,t.family),lineHeight:f6(Vt(e.lineHeight,t.lineHeight),n),size:n,style:s,weight:Vt(e.weight,t.weight),string:""};return a.string=i6(a),a}function Cf(e,t,n,s){let a,o,l;for(a=0,o=e.length;a<o;++a)if(l=e[a],l!==void 0&&l!==void 0)return l}function m6(e,t,n){const{min:s,max:a}=e,o=y2(t,(a-s)/2),l=(d,f)=>n&&d===0?0:d+f;return{min:l(s,-Math.abs(o)),max:l(a,o)}}function Zl(e,t){return Object.assign(Object.create(e),t)}function Xx(e,t=[""],n,s,a=()=>e[0]){const o=n||e;typeof s=="undefined"&&(s=D2("_fallback",e));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:s,_getTarget:a,override:d=>Xx([d,...e],t,o,s)};return new Proxy(l,{deleteProperty(d,f){return delete d[f],delete d._keys,delete e[0][f],!0},get(d,f){return R2(d,f,()=>_6(f,t,e,d))},getOwnPropertyDescriptor(d,f){return Reflect.getOwnPropertyDescriptor(d._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(d,f){return zj(d).includes(f)},ownKeys(d){return zj(d)},set(d,f,h){const p=d._storage||(d._storage=a());return d[f]=p[f]=h,delete d._keys,!0}})}function ql(e,t,n,s){const a={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:A2(e,s),setContext:o=>ql(e,o,n,s),override:o=>ql(e.override(o),t,n,s)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete e[l],!0},get(o,l,d){return R2(o,l,()=>g6(o,l,d))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(e,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,l)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,l){return Reflect.has(e,l)},ownKeys(){return Reflect.ownKeys(e)},set(o,l,d){return e[l]=d,delete o[l],!0}})}function A2(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:s=t.indexable,_allKeys:a=t.allKeys}=e;return{allKeys:a,scriptable:n,indexable:s,isScriptable:Ci(n)?n:()=>n,isIndexable:Ci(s)?s:()=>s}}const p6=(e,t)=>e?e+Hx(t):t,Gx=(e,t)=>qt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function R2(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const s=n();return e[t]=s,s}function g6(e,t,n){const{_proxy:s,_context:a,_subProxy:o,_descriptors:l}=e;let d=s[t];return Ci(d)&&l.isScriptable(t)&&(d=x6(t,d,e,n)),Zn(d)&&d.length&&(d=y6(t,d,e,l.isIndexable)),Gx(t,d)&&(d=ql(d,a,o&&o[t],l)),d}function x6(e,t,n,s){const{_proxy:a,_context:o,_subProxy:l,_stack:d}=n;if(d.has(e))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+e);d.add(e);let f=t(o,l||s);return d.delete(e),Gx(e,f)&&(f=Kx(a._scopes,a,e,f)),f}function y6(e,t,n,s){const{_proxy:a,_context:o,_subProxy:l,_descriptors:d}=n;if(typeof o.index!="undefined"&&s(e))return t[o.index%t.length];if(qt(t[0])){const f=t,h=a._scopes.filter(p=>p!==f);t=[];for(const p of f){const x=Kx(h,a,e,p);t.push(ql(x,o,l&&l[e],d))}}return t}function M2(e,t,n){return Ci(e)?e(t,n):e}const b6=(e,t)=>e===!0?t:typeof e=="string"?To(t,e):void 0;function v6(e,t,n,s,a){for(const o of t){const l=b6(n,o);if(l){e.add(l);const d=M2(l._fallback,n,a);if(typeof d!="undefined"&&d!==n&&d!==s)return d}else if(l===!1&&typeof s!="undefined"&&n!==s)return null}return!1}function Kx(e,t,n,s){const a=t._rootScopes,o=M2(t._fallback,n,s),l=[...e,...a],d=new Set;d.add(s);let f=Lj(d,l,n,o||n,s);return f===null||typeof o!="undefined"&&o!==n&&(f=Lj(d,l,o,f,s),f===null)?!1:Xx(Array.from(d),[""],a,o,()=>w6(t,n,s))}function Lj(e,t,n,s,a){for(;n;)n=v6(e,t,n,s,a);return n}function w6(e,t,n){const s=e._getTarget();t in s||(s[t]={});const a=s[t];return Zn(a)&&qt(n)?n:a||{}}function _6(e,t,n,s){let a;for(const o of t)if(a=D2(p6(o,e),n),typeof a!="undefined")return Gx(e,a)?Kx(n,s,e,a):a}function D2(e,t){for(const n of t){if(!n)continue;const s=n[e];if(typeof s!="undefined")return s}}function zj(e){let t=e._keys;return t||(t=e._keys=j6(e._scopes)),t}function j6(e){const t=new Set;for(const n of e)for(const s of Object.keys(n).filter(a=>!a.startsWith("_")))t.add(s);return Array.from(t)}function Qx(){return typeof window!="undefined"&&typeof document!="undefined"}function Zx(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Sh(e,t,n){let s;return typeof e=="string"?(s=parseInt(e,10),e.indexOf("%")!==-1&&(s=s/100*t.parentNode[n])):s=e,s}const Gh=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function S6(e,t){return Gh(e).getPropertyValue(t)}const N6=["top","right","bottom","left"];function wo(e,t,n){const s={};n=n?"-"+n:"";for(let a=0;a<4;a++){const o=N6[a];s[o]=parseFloat(e[t+"-"+o+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const E6=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function T6(e,t){const n=e.touches,s=n&&n.length?n[0]:e,{offsetX:a,offsetY:o}=s;let l=!1,d,f;if(E6(a,o,e.target))d=a,f=o;else{const h=t.getBoundingClientRect();d=s.clientX-h.left,f=s.clientY-h.top,l=!0}return{x:d,y:f,box:l}}function fo(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:s}=t,a=Gh(n),o=a.boxSizing==="border-box",l=wo(a,"padding"),d=wo(a,"border","width"),{x:f,y:h,box:p}=T6(e,n),x=l.left+(p&&d.left),y=l.top+(p&&d.top);let{width:b,height:w}=t;return o&&(b-=l.width+d.width,w-=l.height+d.height),{x:Math.round((f-x)/b*n.width/s),y:Math.round((h-y)/w*n.height/s)}}function k6(e,t,n){let s,a;if(t===void 0||n===void 0){const o=e&&Zx(e);if(!o)t=e.clientWidth,n=e.clientHeight;else{const l=o.getBoundingClientRect(),d=Gh(o),f=wo(d,"border","width"),h=wo(d,"padding");t=l.width-h.width-f.width,n=l.height-h.height-f.height,s=Sh(d.maxWidth,o,"clientWidth"),a=Sh(d.maxHeight,o,"clientHeight")}}return{width:t,height:n,maxWidth:s||vh,maxHeight:a||vh}}const Of=e=>Math.round(e*10)/10;function C6(e,t,n,s){const a=Gh(e),o=wo(a,"margin"),l=Sh(a.maxWidth,e,"clientWidth")||vh,d=Sh(a.maxHeight,e,"clientHeight")||vh,f=k6(e,t,n);let{width:h,height:p}=f;if(a.boxSizing==="content-box"){const y=wo(a,"border","width"),b=wo(a,"padding");h-=b.width+y.width,p-=b.height+y.height}return h=Math.max(0,h-o.width),p=Math.max(0,s?h/s:p-o.height),h=Of(Math.min(h,l,f.maxWidth)),p=Of(Math.min(p,d,f.maxHeight)),h&&!p&&(p=Of(h/2)),(t!==void 0||n!==void 0)&&s&&f.height&&p>f.height&&(p=f.height,h=Of(Math.floor(p*s))),{width:h,height:p}}function Uj(e,t,n){const s=t||1,a=Math.floor(e.height*s),o=Math.floor(e.width*s);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const l=e.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${e.height}px`,l.style.width=`${e.width}px`),e.currentDevicePixelRatio!==s||l.height!==a||l.width!==o?(e.currentDevicePixelRatio=s,l.height=a,l.width=o,e.ctx.setTransform(s,0,0,s,0,0),!0):!1}const O6=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Qx()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(t){}return e}();function Bj(e,t){const n=S6(e,t),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}const A6=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},R6=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Ul(e,t,n){return e?A6(t,n):R6()}function P2(e,t){let n,s;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=s)}function L2(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Af(e,t,n){return e.options.clip?e[n]:t[n]}function M6(e,t){const{xScale:n,yScale:s}=e;return n&&s?{left:Af(n,t,"left"),right:Af(n,t,"right"),top:Af(s,t,"top"),bottom:Af(s,t,"bottom")}:t}function D6(e,t){const n=t._clip;if(n.disabled)return!1;const s=M6(t,e.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class P6{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,s,a){const o=n.listeners[a],l=n.duration;o.forEach(d=>d({chart:t,initial:n.initial,numSteps:l,currentStep:Math.min(s-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=S2.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((s,a)=>{if(!s.running||!s.items.length)return;const o=s.items;let l=o.length-1,d=!1,f;for(;l>=0;--l)f=o[l],f._active?(f._total>s.duration&&(s.duration=f._total),f.tick(t),d=!0):(o[l]=o[o.length-1],o.pop());d&&(a.draw(),this._notify(a,s,t,"progress")),o.length||(s.running=!1,this._notify(a,s,t,"complete"),s.initial=!1),n+=o.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let s=n.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,s)),s}listen(t,n,s){this._getAnims(t).listeners[n].push(s)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,a)=>Math.max(s,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const s=n.items;let a=s.length-1;for(;a>=0;--a)s[a].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ca=new P6;const Fj="transparent",L6={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const s=Aj(e||Fj),a=s.valid&&Aj(t||Fj);return a&&a.valid?a.mix(s,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class z6{constructor(t,n,s,a){const o=n[s];a=Cf([t.to,a,o,t.from]);const l=Cf([t.from,o,a]);this._active=!0,this._fn=t.fn||L6[t.type||typeof l],this._easing=Su[t.easing]||Su.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=s,this._from=l,this._to=a,this._promises=void 0}active(){return this._active}update(t,n,s){if(this._active){this._notify(!1);const a=this._target[this._prop],o=s-this._start,l=this._duration-o;this._start=s,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Cf([t.to,n,a,t.from]),this._from=Cf([t.from,a,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,s=this._duration,a=this._prop,o=this._from,l=this._loop,d=this._to;let f;if(this._active=o!==d&&(l||n<s),!this._active){this._target[a]=d,this._notify(!0);return}if(n<0){this._target[a]=o;return}f=n/s%2,f=l&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[a]=this._fn(o,d,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,s)=>{t.push({res:n,rej:s})})}_notify(t){const n=t?"res":"rej",s=this._promises||[];for(let a=0;a<s.length;a++)s[a][n]()}}class z2{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!qt(t))return;const n=Object.keys(Dn.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{const o=t[a];if(!qt(o))return;const l={};for(const d of n)l[d]=o[d];(Zn(o.properties)&&o.properties||[a]).forEach(d=>{(d===a||!s.has(d))&&s.set(d,l)})})}_animateOptions(t,n){const s=n.options,a=B6(t,s);if(!a)return[];const o=this._createAnimations(a,s);return s.$shared&&U6(t.options.$animations,s).then(()=>{t.options=s},()=>{}),o}_createAnimations(t,n){const s=this._properties,a=[],o=t.$animations||(t.$animations={}),l=Object.keys(n),d=Date.now();let f;for(f=l.length-1;f>=0;--f){const h=l[f];if(h.charAt(0)==="$")continue;if(h==="options"){a.push(...this._animateOptions(t,n));continue}const p=n[h];let x=o[h];const y=s.get(h);if(x)if(y&&x.active()){x.update(y,p,d);continue}else x.cancel();if(!y||!y.duration){t[h]=p;continue}o[h]=x=new z6(y,t,h,p),a.push(x)}return a}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const s=this._createAnimations(t,n);if(s.length)return Ca.add(this._chart,s),!0}}function U6(e,t){const n=[],s=Object.keys(t);for(let a=0;a<s.length;a++){const o=e[s[a]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function B6(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Hj(e,t){const n=e&&e.options||{},s=n.reverse,a=n.min===void 0?t:0,o=n.max===void 0?t:0;return{start:s?o:a,end:s?a:o}}function F6(e,t,n){if(n===!1)return!1;const s=Hj(e,n),a=Hj(t,n);return{top:a.end,right:s.end,bottom:a.start,left:s.start}}function H6(e){let t,n,s,a;return qt(e)?(t=e.top,n=e.right,s=e.bottom,a=e.left):t=n=s=a=e,{top:t,right:n,bottom:s,left:a,disabled:e===!1}}function U2(e,t){const n=[],s=e._getSortedDatasetMetas(t);let a,o;for(a=0,o=s.length;a<o;++a)n.push(s[a].index);return n}function Vj(e,t,n,s={}){const a=e.keys,o=s.mode==="single";let l,d,f,h;if(t===null)return;let p=!1;for(l=0,d=a.length;l<d;++l){if(f=+a[l],f===n){if(p=!0,s.all)continue;break}h=e.values[f],br(h)&&(o||t===0||Si(t)===Si(h))&&(t+=h)}return!p&&!s.all?0:t}function V6(e,t){const{iScale:n,vScale:s}=t,a=n.axis==="x"?"x":"y",o=s.axis==="x"?"x":"y",l=Object.keys(e),d=new Array(l.length);let f,h,p;for(f=0,h=l.length;f<h;++f)p=l[f],d[f]={[a]:p,[o]:e[p]};return d}function Mg(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function $6(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function q6(e){const{min:t,max:n,minDefined:s,maxDefined:a}=e.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:a?n:Number.POSITIVE_INFINITY}}function Y6(e,t,n){const s=e[t]||(e[t]={});return s[n]||(s[n]={})}function $j(e,t,n,s){for(const a of t.getMatchingVisibleMetas(s).reverse()){const o=e[a.index];if(n&&o>0||!n&&o<0)return a.index}return null}function qj(e,t){const{chart:n,_cachedMeta:s}=e,a=n._stacks||(n._stacks={}),{iScale:o,vScale:l,index:d}=s,f=o.axis,h=l.axis,p=$6(o,l,s),x=t.length;let y;for(let b=0;b<x;++b){const w=t[b],{[f]:_,[h]:j}=w,N=w._stacks||(w._stacks={});y=N[h]=Y6(a,p,_),y[d]=j,y._top=$j(y,l,!0,s.type),y._bottom=$j(y,l,!1,s.type);const k=y._visualValues||(y._visualValues={});k[d]=j}}function Dg(e,t){const n=e.scales;return Object.keys(n).filter(s=>n[s].axis===t).shift()}function I6(e,t){return Zl(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function W6(e,t,n){return Zl(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function iu(e,t){const n=e.controller.index,s=e.vScale&&e.vScale.axis;if(s){t=t||e._parsed;for(const a of t){const o=a._stacks;if(!o||o[s]===void 0||o[s][n]===void 0)return;delete o[s][n],o[s]._visualValues!==void 0&&o[s]._visualValues[n]!==void 0&&delete o[s]._visualValues[n]}}}const Pg=e=>e==="reset"||e==="none",Yj=(e,t)=>t?e:Object.assign({},e),X6=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:U2(n,!0),values:null};class Bl{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Mg(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&iu(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,s=this.getDataset(),a=(x,y,b,w)=>x==="x"?y:x==="r"?w:b,o=n.xAxisID=Vt(s.xAxisID,Dg(t,"x")),l=n.yAxisID=Vt(s.yAxisID,Dg(t,"y")),d=n.rAxisID=Vt(s.rAxisID,Dg(t,"r")),f=n.indexAxis,h=n.iAxisID=a(f,o,l,d),p=n.vAxisID=a(f,l,o,d);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(d),n.iScale=this.getScaleForId(h),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&kj(this._data,this),t._stacked&&iu(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),s=this._data;if(qt(n)){const a=this._cachedMeta;this._data=V6(n,a)}else if(s!==n){if(s){kj(s,this);const a=this._cachedMeta;iu(a),a._parsed=[]}n&&Object.isExtensible(n)&&XL(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,s=this.getDataset();let a=!1;this._dataCheck();const o=n._stacked;n._stacked=Mg(n.vScale,n),n.stack!==s.stack&&(a=!0,iu(n),n.stack=s.stack),this._resyncElements(t),(a||o!==n._stacked)&&(qj(this,n._parsed),n._stacked=Mg(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:s,_data:a}=this,{iScale:o,_stacked:l}=s,d=o.axis;let f=t===0&&n===a.length?!0:s._sorted,h=t>0&&s._parsed[t-1],p,x,y;if(this._parsing===!1)s._parsed=a,s._sorted=!0,y=a;else{Zn(a[t])?y=this.parseArrayData(s,a,t,n):qt(a[t])?y=this.parseObjectData(s,a,t,n):y=this.parsePrimitiveData(s,a,t,n);const b=()=>x[d]===null||h&&x[d]<h[d];for(p=0;p<n;++p)s._parsed[p+t]=x=y[p],f&&(b()&&(f=!1),h=x);s._sorted=f}l&&qj(this,y)}parsePrimitiveData(t,n,s,a){const{iScale:o,vScale:l}=t,d=o.axis,f=l.axis,h=o.getLabels(),p=o===l,x=new Array(a);let y,b,w;for(y=0,b=a;y<b;++y)w=y+s,x[y]={[d]:p||o.parse(h[w],w),[f]:l.parse(n[w],w)};return x}parseArrayData(t,n,s,a){const{xScale:o,yScale:l}=t,d=new Array(a);let f,h,p,x;for(f=0,h=a;f<h;++f)p=f+s,x=n[p],d[f]={x:o.parse(x[0],p),y:l.parse(x[1],p)};return d}parseObjectData(t,n,s,a){const{xScale:o,yScale:l}=t,{xAxisKey:d="x",yAxisKey:f="y"}=this._parsing,h=new Array(a);let p,x,y,b;for(p=0,x=a;p<x;++p)y=p+s,b=n[y],h[p]={x:o.parse(To(b,d),y),y:l.parse(To(b,f),y)};return h}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,s){const a=this.chart,o=this._cachedMeta,l=n[t.axis],d={keys:U2(a,!0),values:n._stacks[t.axis]._visualValues};return Vj(d,l,o.index,{mode:s})}updateRangeFromParsed(t,n,s,a){const o=s[n.axis];let l=o===null?NaN:o;const d=a&&s._stacks[n.axis];a&&d&&(a.values=d,l=Vj(a,o,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,n){const s=this._cachedMeta,a=s._parsed,o=s._sorted&&t===s.iScale,l=a.length,d=this._getOtherScale(t),f=X6(n,s,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:x}=q6(d);let y,b;function w(){b=a[y];const _=b[d.axis];return!br(b[t.axis])||p>_||x<_}for(y=0;y<l&&!(!w()&&(this.updateRangeFromParsed(h,t,b,f),o));++y);if(o){for(y=l-1;y>=0;--y)if(!w()){this.updateRangeFromParsed(h,t,b,f);break}}return h}getAllParsedValues(t){const n=this._cachedMeta._parsed,s=[];let a,o,l;for(a=0,o=n.length;a<o;++a)l=n[a][t.axis],br(l)&&s.push(l);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,s=n.iScale,a=n.vScale,o=this.getParsed(t);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=H6(Vt(this.options.clip,F6(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,s=this._cachedMeta,a=s.data||[],o=n.chartArea,l=[],d=this._drawStart||0,f=this._drawCount||a.length-d,h=this.options.drawActiveElementsOnTop;let p;for(s.dataset&&s.dataset.draw(t,o,d,f),p=d;p<d+f;++p){const x=a[p];x.hidden||(x.active&&h?l.push(x):x.draw(t,o))}for(p=0;p<l.length;++p)l[p].draw(t,o)}getStyle(t,n){const s=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,n,s){const a=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];o=l.$context||(l.$context=W6(this.getContext(),t,l)),o.parsed=this.getParsed(t),o.raw=a.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=I6(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=s,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",s){const a=n==="active",o=this._cachedDataOpts,l=t+"-"+n,d=o[l],f=this.enableOptionSharing&&Bu(s);if(d)return Yj(d,f);const h=this.chart.config,p=h.datasetElementScopeKeys(this._type,t),x=a?[`${t}Hover`,"hover",t,""]:[t,""],y=h.getOptionScopes(this.getDataset(),p),b=Object.keys(Dn.elements[t]),w=()=>this.getContext(s,a,n),_=h.resolveNamedOptions(y,b,w,x);return _.$shared&&(_.$shared=f,o[l]=Object.freeze(Yj(_,f))),_}_resolveAnimations(t,n,s){const a=this.chart,o=this._cachedDataOpts,l=`animation-${n}`,d=o[l];if(d)return d;let f;if(a.options.animation!==!1){const p=this.chart.config,x=p.datasetAnimationScopeKeys(this._type,n),y=p.getOptionScopes(this.getDataset(),x);f=p.createResolver(y,this.getContext(t,s,n))}const h=new z2(a,f&&f.animations);return f&&f._cacheable&&(o[l]=Object.freeze(h)),h}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Pg(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const s=this.resolveDataElementOptions(t,n),a=this._sharedOptions,o=this.getSharedOptions(s),l=this.includeOptions(n,o)||o!==a;return this.updateSharedOptions(o,n,s),{sharedOptions:o,includeOptions:l}}updateElement(t,n,s,a){Pg(a)?Object.assign(t,s):this._resolveAnimations(n,a).update(t,s)}updateSharedOptions(t,n,s){t&&!Pg(n)&&this._resolveAnimations(void 0,n).update(t,s)}_setStyle(t,n,s,a){t.active=a;const o=this.getStyle(n,a);this._resolveAnimations(n,s,a).update(t,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(t,n,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,n,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,s=this._cachedMeta.data;for(const[d,f,h]of this._syncList)this[d](f,h);this._syncList=[];const a=s.length,o=n.length,l=Math.min(o,a);l&&this.parse(0,l),o>a?this._insertElements(a,o-a,t):o<a&&this._removeElements(o,a-o)}_insertElements(t,n,s=!0){const a=this._cachedMeta,o=a.data,l=t+n;let d;const f=h=>{for(h.length+=n,d=h.length-1;d>=l;d--)h[d]=h[d-n]};for(f(o),d=t;d<l;++d)o[d]=new this.dataElementType;this._parsing&&f(a._parsed),this.parse(t,n),s&&this.updateElements(o,t,n,"reset")}updateElements(t,n,s,a){}_removeElements(t,n){const s=this._cachedMeta;if(this._parsing){const a=s._parsed.splice(t,n);s._stacked&&iu(s,a)}s.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,s,a]=t;this[n](s,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ut(Bl,"defaults",{}),ut(Bl,"datasetElementType",null),ut(Bl,"dataElementType",null);function G6(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let s=[];for(let a=0,o=n.length;a<o;a++)s=s.concat(n[a].controller.getAllParsedValues(e));e._cache.$bar=j2(s.sort((a,o)=>a-o))}return e._cache.$bar}function K6(e){const t=e.iScale,n=G6(t,e.type);let s=t._length,a,o,l,d;const f=()=>{l===32767||l===-32768||(Bu(d)&&(s=Math.min(s,Math.abs(l-d)||s)),d=l)};for(a=0,o=n.length;a<o;++a)l=t.getPixelForValue(n[a]),f();for(d=void 0,a=0,o=t.ticks.length;a<o;++a)l=t.getPixelForTick(a),f();return s}function Q6(e,t,n,s){const a=n.barThickness;let o,l;return un(a)?(o=t.min*n.categoryPercentage,l=n.barPercentage):(o=a*s,l=1),{chunk:o/s,ratio:l,start:t.pixels[e]-o/2}}function Z6(e,t,n,s){const a=t.pixels,o=a[e];let l=e>0?a[e-1]:null,d=e<a.length-1?a[e+1]:null;const f=n.categoryPercentage;l===null&&(l=o-(d===null?t.end-t.start:d-o)),d===null&&(d=o+o-l);const h=o-(o-Math.min(l,d))/2*f;return{chunk:Math.abs(d-l)/2*f/s,ratio:n.barPercentage,start:h}}function J6(e,t,n,s){const a=n.parse(e[0],s),o=n.parse(e[1],s),l=Math.min(a,o),d=Math.max(a,o);let f=l,h=d;Math.abs(l)>Math.abs(d)&&(f=d,h=l),t[n.axis]=h,t._custom={barStart:f,barEnd:h,start:a,end:o,min:l,max:d}}function B2(e,t,n,s){return Zn(e)?J6(e,t,n,s):t[n.axis]=n.parse(e,s),t}function Ij(e,t,n,s){const a=e.iScale,o=e.vScale,l=a.getLabels(),d=a===o,f=[];let h,p,x,y;for(h=n,p=n+s;h<p;++h)y=t[h],x={},x[a.axis]=d||a.parse(l[h],h),f.push(B2(y,x,o,h));return f}function Lg(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function e5(e,t,n){return e!==0?Si(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function t5(e){let t,n,s,a,o;return e.horizontal?(t=e.base>e.x,n="left",s="right"):(t=e.base<e.y,n="bottom",s="top"),t?(a="end",o="start"):(a="start",o="end"),{start:n,end:s,reverse:t,top:a,bottom:o}}function n5(e,t,n,s){let a=t.borderSkipped;const o={};if(!a){e.borderSkipped=o;return}if(a===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:d,reverse:f,top:h,bottom:p}=t5(e);a==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===s?a=h:(n._bottom||0)===s?a=p:(o[Wj(p,l,d,f)]=!0,a=h)),o[Wj(a,l,d,f)]=!0,e.borderSkipped=o}function Wj(e,t,n,s){return s?(e=s5(e,t,n),e=Xj(e,n,t)):e=Xj(e,t,n),e}function s5(e,t,n){return e===t?n:e===n?t:e}function Xj(e,t,n){return e==="start"?t:e==="end"?n:e}function r5(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class sh extends Bl{parsePrimitiveData(t,n,s,a){return Ij(t,n,s,a)}parseArrayData(t,n,s,a){return Ij(t,n,s,a)}parseObjectData(t,n,s,a){const{iScale:o,vScale:l}=t,{xAxisKey:d="x",yAxisKey:f="y"}=this._parsing,h=o.axis==="x"?d:f,p=l.axis==="x"?d:f,x=[];let y,b,w,_;for(y=s,b=s+a;y<b;++y)_=n[y],w={},w[o.axis]=o.parse(To(_,h),y),x.push(B2(To(_,p),w,l,y));return x}updateRangeFromParsed(t,n,s,a){super.updateRangeFromParsed(t,n,s,a);const o=s._custom;o&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:s,vScale:a}=n,o=this.getParsed(t),l=o._custom,d=Lg(l)?"["+l.start+", "+l.end+"]":""+a.getLabelForValue(o[a.axis]);return{label:""+s.getLabelForValue(o[s.axis]),value:d}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,s,a){const o=a==="reset",{index:l,_cachedMeta:{vScale:d}}=this,f=d.getBasePixel(),h=d.isHorizontal(),p=this._getRuler(),{sharedOptions:x,includeOptions:y}=this._getSharedOptions(n,a);for(let b=n;b<n+s;b++){const w=this.getParsed(b),_=o||un(w[d.axis])?{base:f,head:f}:this._calculateBarValuePixels(b),j=this._calculateBarIndexPixels(b,p),N=(w._stacks||{})[d.axis],k={horizontal:h,base:_.base,enableBorderRadius:!N||Lg(w._custom)||l===N._top||l===N._bottom,x:h?_.head:j.center,y:h?j.center:_.head,height:h?j.size:Math.abs(_.size),width:h?Math.abs(_.size):j.size};y&&(k.options=x||this.resolveDataElementOptions(b,t[b].active?"active":a));const C=k.options||t[b].options;n5(k,C,N,l),r5(k,C,p.ratio),this.updateElement(t[b],b,k,a)}}_getStacks(t,n){const{iScale:s}=this._cachedMeta,a=s.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),o=s.options.stacked,l=[],d=this._cachedMeta.controller.getParsed(n),f=d&&d[s.axis],h=p=>{const x=p._parsed.find(b=>b[s.axis]===f),y=x&&x[p.vScale.axis];if(un(y)||isNaN(y))return!0};for(const p of a)if(!(n!==void 0&&h(p))&&((o===!1||l.indexOf(p.stack)===-1||o===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(s=>t[s].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)t[Vt(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,s){const a=this._getStacks(t,s),o=n!==void 0?a.indexOf(n):-1;return o===-1?a.length-1:o}_getRuler(){const t=this.options,n=this._cachedMeta,s=n.iScale,a=[];let o,l;for(o=0,l=n.data.length;o<l;++o)a.push(s.getPixelForValue(this.getParsed(o)[s.axis],o));const d=t.barThickness;return{min:d||K6(n),pixels:a,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:d?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:s,index:a},options:{base:o,minBarLength:l}}=this,d=o||0,f=this.getParsed(t),h=f._custom,p=Lg(h);let x=f[n.axis],y=0,b=s?this.applyStack(n,f,s):x,w,_;b!==x&&(y=b-x,b=x),p&&(x=h.barStart,b=h.barEnd-h.barStart,x!==0&&Si(x)!==Si(h.barEnd)&&(y=0),y+=x);const j=!un(o)&&!p?o:y;let N=n.getPixelForValue(j);if(this.chart.getDataVisibility(t)?w=n.getPixelForValue(y+b):w=N,_=w-N,Math.abs(_)<l){_=e5(_,n,d)*l,x===d&&(N-=_/2);const k=n.getPixelForDecimal(0),C=n.getPixelForDecimal(1),R=Math.min(k,C),A=Math.max(k,C);N=Math.max(Math.min(N,A),R),w=N+_,s&&!p&&(f._stacks[n.axis]._visualValues[a]=n.getValueForPixel(w)-n.getValueForPixel(N))}if(N===n.getPixelForValue(d)){const k=Si(_)*n.getLineWidthForValue(d)/2;N+=k,_-=k}return{size:_,base:N,head:w,center:w+_/2}}_calculateBarIndexPixels(t,n){const s=n.scale,a=this.options,o=a.skipNull,l=Vt(a.maxBarThickness,1/0);let d,f;const h=this._getAxisCount();if(n.grouped){const p=o?this._getStackCount(t):n.stackCount,x=a.barThickness==="flex"?Z6(t,n,a,p*h):Q6(t,n,a,p*h),y=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,b=this._getAxis().indexOf(Vt(y,this.getFirstScaleIdForIndexAxis())),w=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+b;d=x.start+x.chunk*w+x.chunk/2,f=Math.min(l,x.chunk*x.ratio)}else d=s.getPixelForValue(this.getParsed(t)[s.axis],t),f=Math.min(l,n.min*n.ratio);return{base:d-f/2,head:d+f/2,center:d,size:f}}draw(){const t=this._cachedMeta,n=t.vScale,s=t.data,a=s.length;let o=0;for(;o<a;++o)this.getParsed(o)[n.axis]!==null&&!s[o].hidden&&s[o].draw(this._ctx)}}ut(sh,"id","bar"),ut(sh,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ut(sh,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function a5(e,t,n){let s=1,a=1,o=0,l=0;if(t<Vn){const d=e,f=d+t,h=Math.cos(d),p=Math.sin(d),x=Math.cos(f),y=Math.sin(f),b=(C,R,A)=>_h(C,d,f,!0)?1:Math.max(R,R*n,A,A*n),w=(C,R,A)=>_h(C,d,f,!0)?-1:Math.min(R,R*n,A,A*n),_=b(0,h,x),j=b(es,p,y),N=w(cn,h,x),k=w(cn+es,p,y);s=(_-N)/2,a=(j-k)/2,o=-(_+N)/2,l=-(j+k)/2}return{ratioX:s,ratioY:a,offsetX:o,offsetY:l}}class bu extends Bl{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const s=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=s;else{let o=f=>+s[f];if(qt(s[t])){const{key:f="value"}=this._parsing;o=h=>+To(s[h],f)}let l,d;for(l=t,d=t+n;l<d;++l)a._parsed[l]=o(l)}}_getRotation(){return Da(this.options.rotation-90)}_getCircumference(){return Da(this.options.circumference)}_getRotationExtents(){let t=Vn,n=-Vn;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const a=this.chart.getDatasetMeta(s).controller,o=a._getRotation(),l=a._getCircumference();t=Math.min(t,o),n=Math.max(n,o+l)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:s}=n,a=this._cachedMeta,o=a.data,l=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,d=Math.max((Math.min(s.width,s.height)-l)/2,0),f=Math.min(RL(this.options.cutout,d),1),h=this._getRingWeight(this.index),{circumference:p,rotation:x}=this._getRotationExtents(),{ratioX:y,ratioY:b,offsetX:w,offsetY:_}=a5(x,p,f),j=(s.width-l)/y,N=(s.height-l)/b,k=Math.max(Math.min(j,N)/2,0),C=y2(this.options.radius,k),R=Math.max(C*f,0),A=(C-R)/this._getVisibleDatasetWeightTotal();this.offsetX=w*C,this.offsetY=_*C,a.total=this.calculateTotal(),this.outerRadius=C-A*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-A*h,0),this.updateElements(o,0,o.length,t)}_circumference(t,n){const s=this.options,a=this._cachedMeta,o=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||a._parsed[t]===null||a.data[t].hidden?0:this.calculateCircumference(a._parsed[t]*o/Vn)}updateElements(t,n,s,a){const o=a==="reset",l=this.chart,d=l.chartArea,h=l.options.animation,p=(d.left+d.right)/2,x=(d.top+d.bottom)/2,y=o&&h.animateScale,b=y?0:this.innerRadius,w=y?0:this.outerRadius,{sharedOptions:_,includeOptions:j}=this._getSharedOptions(n,a);let N=this._getRotation(),k;for(k=0;k<n;++k)N+=this._circumference(k,o);for(k=n;k<n+s;++k){const C=this._circumference(k,o),R=t[k],A={x:p+this.offsetX,y:x+this.offsetY,startAngle:N,endAngle:N+C,circumference:C,outerRadius:w,innerRadius:b};j&&(A.options=_||this.resolveDataElementOptions(k,R.active?"active":a)),N+=C,this.updateElement(R,k,A,a)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let s=0,a;for(a=0;a<n.length;a++){const o=t._parsed[a];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(a)&&!n[a].hidden&&(s+=Math.abs(o))}return s}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?Vn*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,s=this.chart,a=s.data.labels||[],o=qx(n._parsed[t],s.options.locale);return{label:a[t]||"",value:o}}getMaxBorderWidth(t){let n=0;const s=this.chart;let a,o,l,d,f;if(!t){for(a=0,o=s.data.datasets.length;a<o;++a)if(s.isDatasetVisible(a)){l=s.getDatasetMeta(a),t=l.data,d=l.controller;break}}if(!t)return 0;for(a=0,o=t.length;a<o;++a)f=d.resolveDataElementOptions(a),f.borderAlign!=="inner"&&(n=Math.max(n,f.borderWidth||0,f.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let s=0,a=t.length;s<a;++s){const o=this.resolveDataElementOptions(s);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let s=0;s<t;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(t){return Math.max(Vt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ut(bu,"id","doughnut"),ut(bu,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ut(bu,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),ut(bu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:a}}=t.legend.options;return n.labels.map((o,l)=>{const f=t.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:a,lineWidth:f.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});function co(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Jx{constructor(t){ut(this,"options");this.options=t||{}}static override(t){Object.assign(Jx.prototype,t)}init(){}formats(){return co()}parse(){return co()}format(){return co()}add(){return co()}diff(){return co()}startOf(){return co()}endOf(){return co()}}var i5={_date:Jx};function o5(e,t,n,s){const{controller:a,data:o,_sorted:l}=e,d=a._cachedMeta.iScale,f=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(d&&t===d.axis&&t!=="r"&&l&&o.length){const h=d._reversePixels?IL:k0;if(s){if(a._sharedOptions){const p=o[0],x=typeof p.getRange=="function"&&p.getRange(t);if(x){const y=h(o,t,n-x),b=h(o,t,n+x);return{lo:y.lo,hi:b.hi}}}}else{const p=h(o,t,n);if(f){const{vScale:x}=a._cachedMeta,{_parsed:y}=e,b=y.slice(0,p.lo+1).reverse().findIndex(_=>!un(_[x.axis]));p.lo-=Math.max(0,b);const w=y.slice(p.hi).findIndex(_=>!un(_[x.axis]));p.hi+=Math.max(0,w)}return p}}return{lo:0,hi:o.length-1}}function Kh(e,t,n,s,a){const o=e.getSortedVisibleDatasetMetas(),l=n[t];for(let d=0,f=o.length;d<f;++d){const{index:h,data:p}=o[d],{lo:x,hi:y}=o5(o[d],t,l,a);for(let b=x;b<=y;++b){const w=p[b];w.skip||s(w,h,b)}}}function l5(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(s,a){const o=t?Math.abs(s.x-a.x):0,l=n?Math.abs(s.y-a.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function zg(e,t,n,s,a){const o=[];return!a&&!e.isPointInArea(t)||Kh(e,n,t,function(d,f,h){!a&&!C2(d,e.chartArea,0)||d.inRange(t.x,t.y,s)&&o.push({element:d,datasetIndex:f,index:h})},!0),o}function c5(e,t,n,s){let a=[];function o(l,d,f){const{startAngle:h,endAngle:p}=l.getProps(["startAngle","endAngle"],s),{angle:x}=w2(l,{x:t.x,y:t.y});_h(x,h,p)&&a.push({element:l,datasetIndex:d,index:f})}return Kh(e,n,t,o),a}function u5(e,t,n,s,a,o){let l=[];const d=l5(n);let f=Number.POSITIVE_INFINITY;function h(p,x,y){const b=p.inRange(t.x,t.y,a);if(s&&!b)return;const w=p.getCenterPoint(a);if(!(!!o||e.isPointInArea(w))&&!b)return;const j=d(t,w);j<f?(l=[{element:p,datasetIndex:x,index:y}],f=j):j===f&&l.push({element:p,datasetIndex:x,index:y})}return Kh(e,n,t,h),l}function Ug(e,t,n,s,a,o){return!o&&!e.isPointInArea(t)?[]:n==="r"&&!s?c5(e,t,n,a):u5(e,t,n,s,a,o)}function Gj(e,t,n,s,a){const o=[],l=n==="x"?"inXRange":"inYRange";let d=!1;return Kh(e,n,t,(f,h,p)=>{f[l]&&f[l](t[n],a)&&(o.push({element:f,datasetIndex:h,index:p}),d=d||f.inRange(t.x,t.y,a))}),s&&!d?[]:o}var d5={modes:{index(e,t,n,s){const a=fo(t,e),o=n.axis||"x",l=n.includeInvisible||!1,d=n.intersect?zg(e,a,o,s,l):Ug(e,a,o,!1,s,l),f=[];return d.length?(e.getSortedVisibleDatasetMetas().forEach(h=>{const p=d[0].index,x=h.data[p];x&&!x.skip&&f.push({element:x,datasetIndex:h.index,index:p})}),f):[]},dataset(e,t,n,s){const a=fo(t,e),o=n.axis||"xy",l=n.includeInvisible||!1;let d=n.intersect?zg(e,a,o,s,l):Ug(e,a,o,!1,s,l);if(d.length>0){const f=d[0].datasetIndex,h=e.getDatasetMeta(f).data;d=[];for(let p=0;p<h.length;++p)d.push({element:h[p],datasetIndex:f,index:p})}return d},point(e,t,n,s){const a=fo(t,e),o=n.axis||"xy",l=n.includeInvisible||!1;return zg(e,a,o,s,l)},nearest(e,t,n,s){const a=fo(t,e),o=n.axis||"xy",l=n.includeInvisible||!1;return Ug(e,a,o,n.intersect,s,l)},x(e,t,n,s){const a=fo(t,e);return Gj(e,a,"x",n.intersect,s)},y(e,t,n,s){const a=fo(t,e);return Gj(e,a,"y",n.intersect,s)}}};const F2=["left","top","right","bottom"];function ou(e,t){return e.filter(n=>n.pos===t)}function Kj(e,t){return e.filter(n=>F2.indexOf(n.pos)===-1&&n.box.axis===t)}function lu(e,t){return e.sort((n,s)=>{const a=t?s:n,o=t?n:s;return a.weight===o.weight?a.index-o.index:a.weight-o.weight})}function f5(e){const t=[];let n,s,a,o,l,d;for(n=0,s=(e||[]).length;n<s;++n)a=e[n],{position:o,options:{stack:l,stackWeight:d=1}}=a,t.push({index:n,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:l&&o+l,stackWeight:d});return t}function h5(e){const t={};for(const n of e){const{stack:s,pos:a,stackWeight:o}=n;if(!s||!F2.includes(a))continue;const l=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return t}function m5(e,t){const n=h5(e),{vBoxMaxWidth:s,hBoxMaxHeight:a}=t;let o,l,d;for(o=0,l=e.length;o<l;++o){d=e[o];const{fullSize:f}=d.box,h=n[d.stack],p=h&&d.stackWeight/h.weight;d.horizontal?(d.width=p?p*s:f&&t.availableWidth,d.height=a):(d.width=s,d.height=p?p*a:f&&t.availableHeight)}return n}function p5(e){const t=f5(e),n=lu(t.filter(h=>h.box.fullSize),!0),s=lu(ou(t,"left"),!0),a=lu(ou(t,"right")),o=lu(ou(t,"top"),!0),l=lu(ou(t,"bottom")),d=Kj(t,"x"),f=Kj(t,"y");return{fullSize:n,leftAndTop:s.concat(o),rightAndBottom:a.concat(f).concat(l).concat(d),chartArea:ou(t,"chartArea"),vertical:s.concat(a).concat(f),horizontal:o.concat(l).concat(d)}}function Qj(e,t,n,s){return Math.max(e[n],t[n])+Math.max(e[s],t[s])}function H2(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function g5(e,t,n,s){const{pos:a,box:o}=n,l=e.maxPadding;if(!qt(a)){n.size&&(e[a]-=n.size);const x=s[n.stack]||{size:0,count:1};x.size=Math.max(x.size,n.horizontal?o.height:o.width),n.size=x.size/x.count,e[a]+=n.size}o.getPadding&&H2(l,o.getPadding());const d=Math.max(0,t.outerWidth-Qj(l,e,"left","right")),f=Math.max(0,t.outerHeight-Qj(l,e,"top","bottom")),h=d!==e.w,p=f!==e.h;return e.w=d,e.h=f,n.horizontal?{same:h,other:p}:{same:p,other:h}}function x5(e){const t=e.maxPadding;function n(s){const a=Math.max(t[s]-e[s],0);return e[s]+=a,a}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function y5(e,t){const n=t.maxPadding;function s(a){const o={left:0,top:0,right:0,bottom:0};return a.forEach(l=>{o[l]=Math.max(t[l],n[l])}),o}return s(e?["left","right"]:["top","bottom"])}function vu(e,t,n,s){const a=[];let o,l,d,f,h,p;for(o=0,l=e.length,h=0;o<l;++o){d=e[o],f=d.box,f.update(d.width||t.w,d.height||t.h,y5(d.horizontal,t));const{same:x,other:y}=g5(t,n,d,s);h|=x&&a.length,p=p||y,f.fullSize||a.push(d)}return h&&vu(a,t,n,s)||p}function Rf(e,t,n,s,a){e.top=n,e.left=t,e.right=t+s,e.bottom=n+a,e.width=s,e.height=a}function Zj(e,t,n,s){const a=n.padding;let{x:o,y:l}=t;for(const d of e){const f=d.box,h=s[d.stack]||{placed:0,weight:1},p=d.stackWeight/h.weight||1;if(d.horizontal){const x=t.w*p,y=h.size||f.height;Bu(h.start)&&(l=h.start),f.fullSize?Rf(f,a.left,l,n.outerWidth-a.right-a.left,y):Rf(f,t.left+h.placed,l,x,y),h.start=l,h.placed+=x,l=f.bottom}else{const x=t.h*p,y=h.size||f.width;Bu(h.start)&&(o=h.start),f.fullSize?Rf(f,o,a.top,y,n.outerHeight-a.bottom-a.top):Rf(f,o,t.top+h.placed,y,x),h.start=o,h.placed+=x,o=f.right}}t.x=o,t.y=l}var xr={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,s){if(!e)return;const a=vr(e.options.layout.padding),o=Math.max(t-a.width,0),l=Math.max(n-a.height,0),d=p5(e.boxes),f=d.vertical,h=d.horizontal;Zt(e.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const p=f.reduce((_,j)=>j.box.options&&j.box.options.display===!1?_:_+1,0)||1,x=Object.freeze({outerWidth:t,outerHeight:n,padding:a,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/p,hBoxMaxHeight:l/2}),y=Object.assign({},a);H2(y,vr(s));const b=Object.assign({maxPadding:y,w:o,h:l,x:a.left,y:a.top},a),w=m5(f.concat(h),x);vu(d.fullSize,b,x,w),vu(f,b,x,w),vu(h,b,x,w)&&vu(f,b,x,w),x5(b),Zj(d.leftAndTop,b,x,w),b.x+=b.w,b.y+=b.h,Zj(d.rightAndBottom,b,x,w),e.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},Zt(d.chartArea,_=>{const j=_.box;Object.assign(j,e.chartArea),j.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class V2{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,s){}removeEventListener(t,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,s,a){return n=Math.max(0,n||t.width),s=s||t.height,{width:n,height:Math.max(0,a?Math.floor(n/a):s)}}isAttached(t){return!0}updateConfig(t){}}class b5 extends V2{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const rh="$chartjs",v5={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Jj=e=>e===null||e==="";function w5(e,t){const n=e.style,s=e.getAttribute("height"),a=e.getAttribute("width");if(e[rh]={initial:{height:s,width:a,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Jj(a)){const o=Bj(e,"width");o!==void 0&&(e.width=o)}if(Jj(s))if(e.style.height==="")e.height=e.width/(t||2);else{const o=Bj(e,"height");o!==void 0&&(e.height=o)}return e}const $2=O6?{passive:!0}:!1;function _5(e,t,n){e&&e.addEventListener(t,n,$2)}function j5(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,$2)}function S5(e,t){const n=v5[e.type]||e.type,{x:s,y:a}=fo(e,t);return{type:n,chart:t,native:e,x:s!==void 0?s:null,y:a!==void 0?a:null}}function Nh(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function N5(e,t,n){const s=e.canvas,a=new MutationObserver(o=>{let l=!1;for(const d of o)l=l||Nh(d.addedNodes,s),l=l&&!Nh(d.removedNodes,s);l&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}function E5(e,t,n){const s=e.canvas,a=new MutationObserver(o=>{let l=!1;for(const d of o)l=l||Nh(d.removedNodes,s),l=l&&!Nh(d.addedNodes,s);l&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}const Hu=new Map;let e1=0;function q2(){const e=window.devicePixelRatio;e!==e1&&(e1=e,Hu.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function T5(e,t){Hu.size||window.addEventListener("resize",q2),Hu.set(e,t)}function k5(e){Hu.delete(e),Hu.size||window.removeEventListener("resize",q2)}function C5(e,t,n){const s=e.canvas,a=s&&Zx(s);if(!a)return;const o=N2((d,f)=>{const h=a.clientWidth;n(d,f),h<a.clientWidth&&n()},window),l=new ResizeObserver(d=>{const f=d[0],h=f.contentRect.width,p=f.contentRect.height;h===0&&p===0||o(h,p)});return l.observe(a),T5(e,o),l}function Bg(e,t,n){n&&n.disconnect(),t==="resize"&&k5(e)}function O5(e,t,n){const s=e.canvas,a=N2(o=>{e.ctx!==null&&n(S5(o,e))},e);return _5(s,t,a),a}class A5 extends V2{acquireContext(t,n){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(w5(t,n),s):null}releaseContext(t){const n=t.canvas;if(!n[rh])return!1;const s=n[rh].initial;["height","width"].forEach(o=>{const l=s[o];un(l)?n.removeAttribute(o):n.setAttribute(o,l)});const a=s.style||{};return Object.keys(a).forEach(o=>{n.style[o]=a[o]}),n.width=n.width,delete n[rh],!0}addEventListener(t,n,s){this.removeEventListener(t,n);const a=t.$proxies||(t.$proxies={}),l={attach:N5,detach:E5,resize:C5}[n]||O5;a[n]=l(t,n,s)}removeEventListener(t,n){const s=t.$proxies||(t.$proxies={}),a=s[n];if(!a)return;({attach:Bg,detach:Bg,resize:Bg}[n]||j5)(t,n,a),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,s,a){return C6(t,n,s,a)}isAttached(t){const n=t&&Zx(t);return!!(n&&n.isConnected)}}function R5(e){return!Qx()||typeof OffscreenCanvas!="undefined"&&e instanceof OffscreenCanvas?b5:A5}var Vf;let Mo=(Vf=class{constructor(){ut(this,"x");ut(this,"y");ut(this,"active",!1);ut(this,"options");ut(this,"$animations")}tooltipPosition(t){const{x:n,y:s}=this.getProps(["x","y"],t);return{x:n,y:s}}hasValue(){return wh(this.x)&&wh(this.y)}getProps(t,n){const s=this.$animations;if(!n||!s)return this;const a={};return t.forEach(o=>{a[o]=s[o]&&s[o].active()?s[o]._to:this[o]}),a}},ut(Vf,"defaults",{}),ut(Vf,"defaultRoutes"),Vf);function M5(e,t){const n=e.options.ticks,s=D5(e),a=Math.min(n.maxTicksLimit||s,s),o=n.major.enabled?L5(t):[],l=o.length,d=o[0],f=o[l-1],h=[];if(l>a)return z5(t,h,o,l/a),h;const p=P5(o,t,a);if(l>0){let x,y;const b=l>1?Math.round((f-d)/(l-1)):null;for(Mf(t,h,p,un(b)?0:d-b,d),x=0,y=l-1;x<y;x++)Mf(t,h,p,o[x],o[x+1]);return Mf(t,h,p,f,un(b)?t.length:f+b),h}return Mf(t,h,p),h}function D5(e){const t=e.options.offset,n=e._tickSize(),s=e._length/n+(t?0:1),a=e._maxLength/n;return Math.floor(Math.min(s,a))}function P5(e,t,n){const s=U5(e),a=t.length/n;if(!s)return Math.max(a,1);const o=BL(s);for(let l=0,d=o.length-1;l<d;l++){const f=o[l];if(f>a)return f}return Math.max(a,1)}function L5(e){const t=[];let n,s;for(n=0,s=e.length;n<s;n++)e[n].major&&t.push(n);return t}function z5(e,t,n,s){let a=0,o=n[0],l;for(s=Math.ceil(s),l=0;l<e.length;l++)l===o&&(t.push(e[l]),a++,o=n[a*s])}function Mf(e,t,n,s,a){const o=Vt(s,0),l=Math.min(Vt(a,e.length),e.length);let d=0,f,h,p;for(n=Math.ceil(n),a&&(f=a-s,n=f/Math.floor(f/n)),p=o;p<0;)d++,p=Math.round(o+d*n);for(h=Math.max(o,0);h<l;h++)h===p&&(t.push(e[h]),d++,p=Math.round(o+d*n))}function U5(e){const t=e.length;let n,s;if(t<2)return!1;for(s=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==s)return!1;return s}const B5=e=>e==="left"?"right":e==="right"?"left":e,t1=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,n1=(e,t)=>Math.min(t||e,e);function s1(e,t){const n=[],s=e.length/t,a=e.length;let o=0;for(;o<a;o+=s)n.push(e[Math.floor(o)]);return n}function F5(e,t,n){const s=e.ticks.length,a=Math.min(t,s-1),o=e._startPixel,l=e._endPixel,d=1e-6;let f=e.getPixelForTick(a),h;if(!(n&&(s===1?h=Math.max(f-o,l-f):t===0?h=(e.getPixelForTick(1)-f)/2:h=(f-e.getPixelForTick(a-1))/2,f+=a<t?h:-h,f<o-d||f>l+d)))return f}function H5(e,t){Zt(e,n=>{const s=n.gc,a=s.length/2;let o;if(a>t){for(o=0;o<a;++o)delete n.data[s[o]];s.splice(0,a)}})}function cu(e){return e.drawTicks?e.tickLength:0}function r1(e,t){if(!e.display)return 0;const n=vs(e.font,t),s=vr(e.padding);return(Zn(e.text)?e.text.length:1)*n.lineHeight+s.height}function V5(e,t){return Zl(e,{scale:t,type:"scale"})}function $5(e,t,n){return Zl(e,{tick:n,index:t,type:"tick"})}function q5(e,t,n){let s=$x(e);return(n&&t!=="right"||!n&&t==="right")&&(s=B5(s)),s}function Y5(e,t,n,s){const{top:a,left:o,bottom:l,right:d,chart:f}=e,{chartArea:h,scales:p}=f;let x=0,y,b,w;const _=l-a,j=d-o;if(e.isHorizontal()){if(b=ys(s,o,d),qt(n)){const N=Object.keys(n)[0],k=n[N];w=p[N].getPixelForValue(k)+_-t}else n==="center"?w=(h.bottom+h.top)/2+_-t:w=t1(e,n,t);y=d-o}else{if(qt(n)){const N=Object.keys(n)[0],k=n[N];b=p[N].getPixelForValue(k)-j+t}else n==="center"?b=(h.left+h.right)/2-j+t:b=t1(e,n,t);w=ys(s,l,a),x=n==="left"?-es:es}return{titleX:b,titleY:w,maxWidth:y,rotation:x}}class Jl extends Mo{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:s,_suggestedMax:a}=this;return t=Ir(t,Number.POSITIVE_INFINITY),n=Ir(n,Number.NEGATIVE_INFINITY),s=Ir(s,Number.POSITIVE_INFINITY),a=Ir(a,Number.NEGATIVE_INFINITY),{min:Ir(t,s),max:Ir(n,a),minDefined:br(t),maxDefined:br(n)}}getMinMax(t){let{min:n,max:s,minDefined:a,maxDefined:o}=this.getUserBounds(),l;if(a&&o)return{min:n,max:s};const d=this.getMatchingVisibleMetas();for(let f=0,h=d.length;f<h;++f)l=d[f].controller.getMinMax(this,t),a||(n=Math.min(n,l.min)),o||(s=Math.max(s,l.max));return n=o&&n>s?s:n,s=a&&n>s?n:s,{min:Ir(n,Ir(s,n)),max:Ir(s,Ir(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){mn(this.options.beforeUpdate,[this])}update(t,n,s){const{beginAtZero:a,grace:o,ticks:l}=this.options,d=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=m6(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=d<this.ticks.length;this._convertTicksToLabels(f?s1(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=M5(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,t=!t),this._startPixel=n,this._endPixel=s,this._reversePixels=t,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){mn(this.options.afterUpdate,[this])}beforeSetDimensions(){mn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){mn(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),mn(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){mn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let s,a,o;for(s=0,a=t.length;s<a;s++)o=t[s],o.label=mn(n.callback,[o.value,s,t],this)}afterTickToLabelConversion(){mn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){mn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,s=n1(this.ticks.length,t.ticks.maxTicksLimit),a=n.minRotation||0,o=n.maxRotation;let l=a,d,f,h;if(!this._isVisible()||!n.display||a>=o||s<=1||!this.isHorizontal()){this.labelRotation=a;return}const p=this._getLabelSizes(),x=p.widest.width,y=p.highest.height,b=Hs(this.chart.width-x,0,this.maxWidth);d=t.offset?this.maxWidth/s:b/(s-1),x+6>d&&(d=b/(s-(t.offset?.5:1)),f=this.maxHeight-cu(t.grid)-n.padding-r1(t.title,this.chart.options.font),h=Math.sqrt(x*x+y*y),l=$L(Math.min(Math.asin(Hs((p.highest.height+6)/d,-1,1)),Math.asin(Hs(f/h,-1,1))-Math.asin(Hs(y/h,-1,1)))),l=Math.max(a,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){mn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){mn(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:s,title:a,grid:o}}=this,l=this._isVisible(),d=this.isHorizontal();if(l){const f=r1(a,n.options.font);if(d?(t.width=this.maxWidth,t.height=cu(o)+f):(t.height=this.maxHeight,t.width=cu(o)+f),s.display&&this.ticks.length){const{first:h,last:p,widest:x,highest:y}=this._getLabelSizes(),b=s.padding*2,w=Da(this.labelRotation),_=Math.cos(w),j=Math.sin(w);if(d){const N=s.mirror?0:j*x.width+_*y.height;t.height=Math.min(this.maxHeight,t.height+N+b)}else{const N=s.mirror?0:_*x.width+j*y.height;t.width=Math.min(this.maxWidth,t.width+N+b)}this._calculatePadding(h,p,j,_)}}this._handleMargins(),d?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,s,a){const{ticks:{align:o,padding:l},position:d}=this.options,f=this.labelRotation!==0,h=d!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,x=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,b=0;f?h?(y=a*t.width,b=s*n.height):(y=s*t.height,b=a*n.width):o==="start"?b=n.width:o==="end"?y=t.width:o!=="inner"&&(y=t.width/2,b=n.width/2),this.paddingLeft=Math.max((y-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((b-x+l)*this.width/(this.width-x),0)}else{let p=n.height/2,x=t.height/2;o==="start"?(p=0,x=t.height):o==="end"&&(p=n.height,x=0),this.paddingTop=p+l,this.paddingBottom=x+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){mn(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,s;for(n=0,s=t.length;n<s;n++)un(t[n].label)&&(t.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=s1(s,n)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,s){const{ctx:a,_longestTextCache:o}=this,l=[],d=[],f=Math.floor(n/n1(n,s));let h=0,p=0,x,y,b,w,_,j,N,k,C,R,A;for(x=0;x<n;x+=f){if(w=t[x].label,_=this._resolveTickFontOptions(x),a.font=j=_.string,N=o[j]=o[j]||{data:{},gc:[]},k=_.lineHeight,C=R=0,!un(w)&&!Zn(w))C=Mj(a,N.data,N.gc,C,w),R=k;else if(Zn(w))for(y=0,b=w.length;y<b;++y)A=w[y],!un(A)&&!Zn(A)&&(C=Mj(a,N.data,N.gc,C,A),R+=k);l.push(C),d.push(R),h=Math.max(C,h),p=Math.max(R,p)}H5(o,n);const M=l.indexOf(h),z=d.indexOf(p),P=V=>({width:l[V]||0,height:d[V]||0});return{first:P(0),last:P(n-1),widest:P(M),highest:P(z),widths:l,heights:d}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return YL(this._alignToPixels?lo(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const s=n[t];return s.$context||(s.$context=$5(this.getContext(),t,s))}return this.$context||(this.$context=V5(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Da(this.labelRotation),s=Math.abs(Math.cos(n)),a=Math.abs(Math.sin(n)),o=this._getLabelSizes(),l=t.autoSkipPadding||0,d=o?o.widest.width+l:0,f=o?o.highest.height+l:0;return this.isHorizontal()?f*s>d*a?d/s:f/a:f*a<d*s?f/s:d/a}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,s=this.chart,a=this.options,{grid:o,position:l,border:d}=a,f=o.offset,h=this.isHorizontal(),x=this.ticks.length+(f?1:0),y=cu(o),b=[],w=d.setContext(this.getContext()),_=w.display?w.width:0,j=_/2,N=function(B){return lo(s,B,_)};let k,C,R,A,M,z,P,V,te,$,Z,le;if(l==="top")k=N(this.bottom),z=this.bottom-y,V=k-j,$=N(t.top)+j,le=t.bottom;else if(l==="bottom")k=N(this.top),$=t.top,le=N(t.bottom)-j,z=k+j,V=this.top+y;else if(l==="left")k=N(this.right),M=this.right-y,P=k-j,te=N(t.left)+j,Z=t.right;else if(l==="right")k=N(this.left),te=t.left,Z=N(t.right)-j,M=k+j,P=this.left+y;else if(n==="x"){if(l==="center")k=N((t.top+t.bottom)/2+.5);else if(qt(l)){const B=Object.keys(l)[0],Y=l[B];k=N(this.chart.scales[B].getPixelForValue(Y))}$=t.top,le=t.bottom,z=k+j,V=z+y}else if(n==="y"){if(l==="center")k=N((t.left+t.right)/2);else if(qt(l)){const B=Object.keys(l)[0],Y=l[B];k=N(this.chart.scales[B].getPixelForValue(Y))}M=k-j,P=M-y,te=t.left,Z=t.right}const J=Vt(a.ticks.maxTicksLimit,x),I=Math.max(1,Math.ceil(x/J));for(C=0;C<x;C+=I){const B=this.getContext(C),Y=o.setContext(B),Q=d.setContext(B),ve=Y.lineWidth,H=Y.color,ae=Q.dash||[],ye=Q.dashOffset,X=Y.tickWidth,he=Y.tickColor,ke=Y.tickBorderDash||[],be=Y.tickBorderDashOffset;R=F5(this,C,f),R!==void 0&&(A=lo(s,R,ve),h?M=P=te=Z=A:z=V=$=le=A,b.push({tx1:M,ty1:z,tx2:P,ty2:V,x1:te,y1:$,x2:Z,y2:le,width:ve,color:H,borderDash:ae,borderDashOffset:ye,tickWidth:X,tickColor:he,tickBorderDash:ke,tickBorderDashOffset:be}))}return this._ticksLength=x,this._borderValue=k,b}_computeLabelItems(t){const n=this.axis,s=this.options,{position:a,ticks:o}=s,l=this.isHorizontal(),d=this.ticks,{align:f,crossAlign:h,padding:p,mirror:x}=o,y=cu(s.grid),b=y+p,w=x?-p:b,_=-Da(this.labelRotation),j=[];let N,k,C,R,A,M,z,P,V,te,$,Z,le="middle";if(a==="top")M=this.bottom-w,z=this._getXAxisLabelAlignment();else if(a==="bottom")M=this.top+w,z=this._getXAxisLabelAlignment();else if(a==="left"){const I=this._getYAxisLabelAlignment(y);z=I.textAlign,A=I.x}else if(a==="right"){const I=this._getYAxisLabelAlignment(y);z=I.textAlign,A=I.x}else if(n==="x"){if(a==="center")M=(t.top+t.bottom)/2+b;else if(qt(a)){const I=Object.keys(a)[0],B=a[I];M=this.chart.scales[I].getPixelForValue(B)+b}z=this._getXAxisLabelAlignment()}else if(n==="y"){if(a==="center")A=(t.left+t.right)/2-b;else if(qt(a)){const I=Object.keys(a)[0],B=a[I];A=this.chart.scales[I].getPixelForValue(B)}z=this._getYAxisLabelAlignment(y).textAlign}n==="y"&&(f==="start"?le="top":f==="end"&&(le="bottom"));const J=this._getLabelSizes();for(N=0,k=d.length;N<k;++N){C=d[N],R=C.label;const I=o.setContext(this.getContext(N));P=this.getPixelForTick(N)+o.labelOffset,V=this._resolveTickFontOptions(N),te=V.lineHeight,$=Zn(R)?R.length:1;const B=$/2,Y=I.color,Q=I.textStrokeColor,ve=I.textStrokeWidth;let H=z;l?(A=P,z==="inner"&&(N===k-1?H=this.options.reverse?"left":"right":N===0?H=this.options.reverse?"right":"left":H="center"),a==="top"?h==="near"||_!==0?Z=-$*te+te/2:h==="center"?Z=-J.highest.height/2-B*te+te:Z=-J.highest.height+te/2:h==="near"||_!==0?Z=te/2:h==="center"?Z=J.highest.height/2-B*te:Z=J.highest.height-$*te,x&&(Z*=-1),_!==0&&!I.showLabelBackdrop&&(A+=te/2*Math.sin(_))):(M=P,Z=(1-$)*te/2);let ae;if(I.showLabelBackdrop){const ye=vr(I.backdropPadding),X=J.heights[N],he=J.widths[N];let ke=Z-ye.top,be=0-ye.left;switch(le){case"middle":ke-=X/2;break;case"bottom":ke-=X;break}switch(z){case"center":be-=he/2;break;case"right":be-=he;break;case"inner":N===k-1?be-=he:N>0&&(be-=he/2);break}ae={left:be,top:ke,width:he+ye.width,height:X+ye.height,color:I.backdropColor}}j.push({label:R,font:V,textOffset:Z,options:{rotation:_,color:Y,strokeColor:Q,strokeWidth:ve,textAlign:H,textBaseline:le,translation:[A,M],backdrop:ae}})}return j}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Da(this.labelRotation))return t==="top"?"left":"right";let a="center";return n.align==="start"?a="left":n.align==="end"?a="right":n.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:s,mirror:a,padding:o}}=this.options,l=this._getLabelSizes(),d=t+o,f=l.widest.width;let h,p;return n==="left"?a?(p=this.right+o,s==="near"?h="left":s==="center"?(h="center",p+=f/2):(h="right",p+=f)):(p=this.right-d,s==="near"?h="right":s==="center"?(h="center",p-=f/2):(h="left",p=this.left)):n==="right"?a?(p=this.left+o,s==="near"?h="right":s==="center"?(h="center",p-=f/2):(h="left",p-=f)):(p=this.left+d,s==="near"?h="left":s==="center"?(h="center",p+=f/2):(h="right",p=this.right)):h="right",{textAlign:h,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:s,top:a,width:o,height:l}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(s,a,o,l),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const a=this.ticks.findIndex(o=>o.value===t);return a>=0?n.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){const n=this.options.grid,s=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,l;const d=(f,h,p)=>{!p.width||!p.color||(s.save(),s.lineWidth=p.width,s.strokeStyle=p.color,s.setLineDash(p.borderDash||[]),s.lineDashOffset=p.borderDashOffset,s.beginPath(),s.moveTo(f.x,f.y),s.lineTo(h.x,h.y),s.stroke(),s.restore())};if(n.display)for(o=0,l=a.length;o<l;++o){const f=a[o];n.drawOnChartArea&&d({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),n.drawTicks&&d({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:s,grid:a}}=this,o=s.setContext(this.getContext()),l=s.display?o.width:0;if(!l)return;const d=a.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let h,p,x,y;this.isHorizontal()?(h=lo(t,this.left,l)-l/2,p=lo(t,this.right,d)+d/2,x=y=f):(x=lo(t,this.top,l)-l/2,y=lo(t,this.bottom,d)+d/2,h=p=f),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(h,x),n.lineTo(p,y),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,a=this._computeLabelArea();a&&Yx(s,a);const o=this.getLabelItems(t);for(const l of o){const d=l.options,f=l.font,h=l.label,p=l.textOffset;Fu(s,h,0,p,f,d)}a&&Ix(s)}drawTitle(){const{ctx:t,options:{position:n,title:s,reverse:a}}=this;if(!s.display)return;const o=vs(s.font),l=vr(s.padding),d=s.align;let f=o.lineHeight/2;n==="bottom"||n==="center"||qt(n)?(f+=l.bottom,Zn(s.text)&&(f+=o.lineHeight*(s.text.length-1))):f+=l.top;const{titleX:h,titleY:p,maxWidth:x,rotation:y}=Y5(this,f,n,d);Fu(t,s.text,0,0,o,{color:s.color,maxWidth:x,rotation:y,textAlign:q5(d,n,a),textBaseline:"middle",translation:[h,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,s=Vt(t.grid&&t.grid.z,-1),a=Vt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Jl.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:s,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",a=[];let o,l;for(o=0,l=n.length;o<l;++o){const d=n[o];d[s]===this.id&&(!t||d.type===t)&&a.push(d)}return a}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return vs(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Df{constructor(t,n,s){this.type=t,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let s;X5(n)&&(s=this.register(n));const a=this.items,o=t.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in a||(a[o]=t,I5(t,l,s),this.override&&Dn.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const n=this.items,s=t.id,a=this.scope;s in n&&delete n[s],a&&s in Dn[a]&&(delete Dn[a][s],this.override&&delete ko[s])}}function I5(e,t,n){const s=Uu(Object.create(null),[n?Dn.get(n):{},Dn.get(t),e.defaults]);Dn.set(t,s),e.defaultRoutes&&W5(t,e.defaultRoutes),e.descriptors&&Dn.describe(t,e.descriptors)}function W5(e,t){Object.keys(t).forEach(n=>{const s=n.split("."),a=s.pop(),o=[e].concat(s).join("."),l=t[n].split("."),d=l.pop(),f=l.join(".");Dn.route(o,a,f,d)})}function X5(e){return"id"in e&&"defaults"in e}class G5{constructor(){this.controllers=new Df(Bl,"datasets",!0),this.elements=new Df(Mo,"elements"),this.plugins=new Df(Object,"plugins"),this.scales=new Df(Jl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,s){[...n].forEach(a=>{const o=s||this._getRegistryForType(a);s||o.isForType(a)||o===this.plugins&&a.id?this._exec(t,o,a):Zt(a,l=>{const d=s||this._getRegistryForType(l);this._exec(t,d,l)})})}_exec(t,n,s){const a=Hx(t);mn(s["before"+a],[],s),n[t](s),mn(s["after"+a],[],s)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(t))return s}return this.plugins}_get(t,n,s){const a=n.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return a}}var Xr=new G5;class K5{constructor(){this._init=[]}notify(t,n,s,a){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=a?this._descriptors(t).filter(a):this._descriptors(t),l=this._notify(o,t,n,s);return n==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,n,s,a){a=a||{};for(const o of t){const l=o.plugin,d=l[s],f=[n,a,o.options];if(mn(d,f,l)===!1&&a.cancelable)return!1}return!0}invalidate(){un(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const s=t&&t.config,a=Vt(s.options&&s.options.plugins,{}),o=Q5(s);return a===!1&&!n?[]:J5(t,o,a,n)}_notifyStateChanges(t){const n=this._oldCache||[],s=this._cache,a=(o,l)=>o.filter(d=>!l.some(f=>d.plugin.id===f.plugin.id));this._notify(a(n,s),t,"stop"),this._notify(a(s,n),t,"start")}}function Q5(e){const t={},n=[],s=Object.keys(Xr.plugins.items);for(let o=0;o<s.length;o++)n.push(Xr.getPlugin(s[o]));const a=e.plugins||[];for(let o=0;o<a.length;o++){const l=a[o];n.indexOf(l)===-1&&(n.push(l),t[l.id]=!0)}return{plugins:n,localIds:t}}function Z5(e,t){return!t&&e===!1?null:e===!0?{}:e}function J5(e,{plugins:t,localIds:n},s,a){const o=[],l=e.getContext();for(const d of t){const f=d.id,h=Z5(s[f],a);h!==null&&o.push({plugin:d,options:ez(e.config,{plugin:d,local:n[f]},h,l)})}return o}function ez(e,{plugin:t,local:n},s,a){const o=e.pluginScopeKeys(t),l=e.getOptionScopes(s,o);return n&&t.defaults&&l.push(t.defaults),e.createResolver(l,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function O0(e,t){const n=Dn.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function tz(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function nz(e,t){return e===t?"_index_":"_value_"}function a1(e){if(e==="x"||e==="y"||e==="r")return e}function sz(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function A0(e,...t){if(a1(e))return e;for(const n of t){const s=n.axis||sz(n.position)||e.length>1&&a1(e[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function i1(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function rz(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(s=>s.xAxisID===e||s.yAxisID===e);if(n.length)return i1(e,"x",n[0])||i1(e,"y",n[0])}return{}}function az(e,t){const n=ko[e.type]||{scales:{}},s=t.scales||{},a=O0(e.type,t),o=Object.create(null);return Object.keys(s).forEach(l=>{const d=s[l];if(!qt(d))return console.error(`Invalid scale configuration for scale: ${l}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const f=A0(l,d,rz(l,e),Dn.scales[d.type]),h=nz(f,a),p=n.scales||{};o[l]=ju(Object.create(null),[{axis:f},d,p[f],p[h]])}),e.data.datasets.forEach(l=>{const d=l.type||e.type,f=l.indexAxis||O0(d,t),p=(ko[d]||{}).scales||{};Object.keys(p).forEach(x=>{const y=tz(x,f),b=l[y+"AxisID"]||y;o[b]=o[b]||Object.create(null),ju(o[b],[{axis:y},s[b],p[x]])})}),Object.keys(o).forEach(l=>{const d=o[l];ju(d,[Dn.scales[d.type],Dn.scale])}),o}function Y2(e){const t=e.options||(e.options={});t.plugins=Vt(t.plugins,{}),t.scales=az(e,t)}function I2(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function iz(e){return e=e||{},e.data=I2(e.data),Y2(e),e}const o1=new Map,W2=new Set;function Pf(e,t){let n=o1.get(e);return n||(n=t(),o1.set(e,n),W2.add(n)),n}const uu=(e,t,n)=>{const s=To(t,n);s!==void 0&&e.add(s)};class oz{constructor(t){this._config=iz(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=I2(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Y2(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Pf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Pf(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Pf(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,s=this.type;return Pf(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const s=this._scopeCache;let a=s.get(t);return(!a||n)&&(a=new Map,s.set(t,a)),a}getOptionScopes(t,n,s){const{options:a,type:o}=this,l=this._cachedScopes(t,s),d=l.get(n);if(d)return d;const f=new Set;n.forEach(p=>{t&&(f.add(t),p.forEach(x=>uu(f,t,x))),p.forEach(x=>uu(f,a,x)),p.forEach(x=>uu(f,ko[o]||{},x)),p.forEach(x=>uu(f,Dn,x)),p.forEach(x=>uu(f,C0,x))});const h=Array.from(f);return h.length===0&&h.push(Object.create(null)),W2.has(n)&&l.set(n,h),h}chartOptionScopes(){const{options:t,type:n}=this;return[t,ko[n]||{},Dn.datasets[n]||{},{type:n},Dn,C0]}resolveNamedOptions(t,n,s,a=[""]){const o={$shared:!0},{resolver:l,subPrefixes:d}=l1(this._resolverCache,t,a);let f=l;if(cz(l,n)){o.$shared=!1,s=Ci(s)?s():s;const h=this.createResolver(t,s,d);f=ql(l,s,h)}for(const h of n)o[h]=f[h];return o}createResolver(t,n,s=[""],a){const{resolver:o}=l1(this._resolverCache,t,s);return qt(n)?ql(o,n,void 0,a):o}}function l1(e,t,n){let s=e.get(t);s||(s=new Map,e.set(t,s));const a=n.join();let o=s.get(a);return o||(o={resolver:Xx(t,n),subPrefixes:n.filter(d=>!d.toLowerCase().includes("hover"))},s.set(a,o)),o}const lz=e=>qt(e)&&Object.getOwnPropertyNames(e).some(t=>Ci(e[t]));function cz(e,t){const{isScriptable:n,isIndexable:s}=A2(e);for(const a of t){const o=n(a),l=s(a),d=(l||o)&&e[a];if(o&&(Ci(d)||lz(d))||l&&Zn(d))return!0}return!1}var uz="4.5.0";const dz=["top","bottom","left","right","chartArea"];function c1(e,t){return e==="top"||e==="bottom"||dz.indexOf(e)===-1&&t==="x"}function u1(e,t){return function(n,s){return n[e]===s[e]?n[t]-s[t]:n[e]-s[e]}}function d1(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),mn(n&&n.onComplete,[e],t)}function fz(e){const t=e.chart,n=t.options.animation;mn(n&&n.onProgress,[e],t)}function X2(e){return Qx()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const ah={},f1=e=>{const t=X2(e);return Object.values(ah).filter(n=>n.canvas===t).pop()};function hz(e,t,n){const s=Object.keys(e);for(const a of s){const o=+a;if(o>=t){const l=e[a];delete e[a],(n>0||o>t)&&(e[o+n]=l)}}}function mz(e,t,n,s){return!n||e.type==="mouseout"?null:s?t:e}var hi;let Qh=(hi=class{static register(...t){Xr.add(...t),h1()}static unregister(...t){Xr.remove(...t),h1()}constructor(t,n){const s=this.config=new oz(n),a=X2(t),o=f1(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||R5(a)),this.platform.updateConfig(s);const d=this.platform.acquireContext(a,l.aspectRatio),f=d&&d.canvas,h=f&&f.height,p=f&&f.width;if(this.id=AL(),this.ctx=d,this.canvas=f,this.width=p,this.height=h,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new K5,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=GL(x=>this.update(x),l.resizeDelay||0),this._dataChanges=[],ah[this.id]=this,!d||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Ca.listen(this,"complete",d1),Ca.listen(this,"progress",fz),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:s,height:a,_aspectRatio:o}=this;return un(t)?n&&o?o:a?s/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Xr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Uj(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Dj(this.canvas,this.ctx),this}stop(){return Ca.stop(this),this}resize(t,n){Ca.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const s=this.options,a=this.canvas,o=s.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(a,t,n,o),d=s.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,Uj(this,d,!0)&&(this.notifyPlugins("resize",{size:l}),mn(s.onResize,[this,l],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Zt(n,(s,a)=>{s.id=a})}buildOrUpdateScales(){const t=this.options,n=t.scales,s=this.scales,a=Object.keys(s).reduce((l,d)=>(l[d]=!1,l),{});let o=[];n&&(o=o.concat(Object.keys(n).map(l=>{const d=n[l],f=A0(l,d),h=f==="r",p=f==="x";return{options:d,dposition:h?"chartArea":p?"bottom":"left",dtype:h?"radialLinear":p?"category":"linear"}}))),Zt(o,l=>{const d=l.options,f=d.id,h=A0(f,d),p=Vt(d.type,l.dtype);(d.position===void 0||c1(d.position,h)!==c1(l.dposition))&&(d.position=l.dposition),a[f]=!0;let x=null;if(f in s&&s[f].type===p)x=s[f];else{const y=Xr.getScale(p);x=new y({id:f,type:p,ctx:this.ctx,chart:this}),s[x.id]=x}x.init(d,t)}),Zt(a,(l,d)=>{l||delete s[d]}),Zt(s,l=>{xr.configure(this,l,l.options),xr.addBox(this,l)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,s=t.length;if(t.sort((a,o)=>a.index-o.index),s>n){for(let a=n;a<s;++a)this._destroyDatasetMeta(a);t.splice(n,s-n)}this._sortedMetasets=t.slice(0).sort(u1("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((s,a)=>{n.filter(o=>o===s._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let s,a;for(this._removeUnreferencedMetasets(),s=0,a=n.length;s<a;s++){const o=n[s];let l=this.getDatasetMeta(s);const d=o.type||this.config.type;if(l.type&&l.type!==d&&(this._destroyDatasetMeta(s),l=this.getDatasetMeta(s)),l.type=d,l.indexAxis=o.indexAxis||O0(d,this.options),l.order=o.order||0,l.index=s,l.label=""+o.label,l.visible=this.isDatasetVisible(s),l.controller)l.controller.updateIndex(s),l.controller.linkScales();else{const f=Xr.getController(d),{datasetElementType:h,dataElementType:p}=Dn.datasets[d];Object.assign(f,{dataElementType:Xr.getElement(p),datasetElementType:h&&Xr.getElement(h)}),l.controller=new f(this,s),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){Zt(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let h=0,p=this.data.datasets.length;h<p;h++){const{controller:x}=this.getDatasetMeta(h),y=!a&&o.indexOf(x)===-1;x.buildOrUpdateElements(y),l=Math.max(+x.getMaxOverflow(),l)}l=this._minPadding=s.layout.autoPadding?l:0,this._updateLayout(l),a||Zt(o,h=>{h.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(u1("z","_idx"));const{_active:d,_lastEvent:f}=this;f?this._eventHandler(f,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){Zt(this.scales,t=>{xr.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!Sj(n,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:a,count:o}of n){const l=s==="_removeElements"?-o:o;hz(t,a,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=o=>new Set(t.filter(l=>l[0]===o).map((l,d)=>d+","+l.splice(1).join(","))),a=s(0);for(let o=1;o<n;o++)if(!Sj(a,s(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;xr.update(this,this.width,this.height,t);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],Zt(this.boxes,a=>{s&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Ci(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const s=this.getDatasetMeta(t),a={meta:s,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(s.controller._update(n),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ca.has(this)?this.attached&&!Ca.running(this)&&Ca.start(this):(this.draw(),d1({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,s=[];let a,o;for(a=0,o=n.length;a<o;++a){const l=n[a];(!t||l.visible)&&s.push(l)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,s={meta:t,index:t.index,cancelable:!0},a=D6(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(a&&Yx(n,a),t.controller.draw(),a&&Ix(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return C2(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,s,a){const o=d5.modes[n];return typeof o=="function"?o(this,t,s,a):[]}getDatasetMeta(t){const n=this.data.datasets[t],s=this._metasets;let a=s.filter(o=>o&&o._dataset===n).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},s.push(a)),a}getContext(){return this.$context||(this.$context=Zl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(t,n){const s=this.getDatasetMeta(t);s.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,s){const a=s?"show":"hide",o=this.getDatasetMeta(t),l=o.controller._resolveAnimations(void 0,a);Bu(n)?(o.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),l.update(o,{visible:s}),this.update(d=>d.datasetIndex===t?a:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Ca.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Dj(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete ah[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,s=(o,l)=>{n.addEventListener(this,o,l),t[o]=l},a=(o,l,d)=>{o.offsetX=l,o.offsetY=d,this._eventHandler(o)};Zt(this.options.events,o=>s(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,s=(f,h)=>{n.addEventListener(this,f,h),t[f]=h},a=(f,h)=>{t[f]&&(n.removeEventListener(this,f,h),delete t[f])},o=(f,h)=>{this.canvas&&this.resize(f,h)};let l;const d=()=>{a("attach",d),this.attached=!0,this.resize(),s("resize",o),s("detach",l)};l=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),s("attach",d)},n.isAttached(this.canvas)?d():l()}unbindEvents(){Zt(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Zt(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,s){const a=s?"set":"remove";let o,l,d,f;for(n==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),d=0,f=t.length;d<f;++d){l=t[d];const h=l&&this.getDatasetMeta(l.datasetIndex).controller;h&&h[a+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],s=t.map(({datasetIndex:o,index:l})=>{const d=this.getDatasetMeta(o);if(!d)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:d.data[l],index:l}});!yh(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(t,n,s){return this._plugins.notify(this,t,n,s)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,s){const a=this.options.hover,o=(f,h)=>f.filter(p=>!h.some(x=>p.datasetIndex===x.datasetIndex&&p.index===x.index)),l=o(n,t),d=s?t:o(t,n);l.length&&this.updateHoverStyle(l,a.mode,!1),d.length&&a.mode&&this.updateHoverStyle(d,a.mode,!0)}_eventHandler(t,n){const s={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},a=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,a)===!1)return;const o=this._handleEvent(t,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,a),(o||s.changed)&&this.render(),this}_handleEvent(t,n,s){const{_active:a=[],options:o}=this,l=n,d=this._getActiveElements(t,a,s,l),f=zL(t),h=mz(t,this._lastEvent,s,f);s&&(this._lastEvent=null,mn(o.onHover,[t,d,this],this),f&&mn(o.onClick,[t,d,this],this));const p=!yh(d,a);return(p||n)&&(this._active=d,this._updateHoverStyles(d,a,n)),this._lastEvent=h,p}_getActiveElements(t,n,s,a){if(t.type==="mouseout")return[];if(!s)return n;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,a)}},ut(hi,"defaults",Dn),ut(hi,"instances",ah),ut(hi,"overrides",ko),ut(hi,"registry",Xr),ut(hi,"version",uz),ut(hi,"getChart",f1),hi);function h1(){return Zt(Qh.instances,e=>e._plugins.invalidate())}function pz(e,t,n){const{startAngle:s,x:a,y:o,outerRadius:l,innerRadius:d,options:f}=t,{borderWidth:h,borderJoinStyle:p}=f,x=Math.min(h/l,Gr(s-n));if(e.beginPath(),e.arc(a,o,l-h/2,s+x/2,n-x/2),d>0){const y=Math.min(h/d,Gr(s-n));e.arc(a,o,d+h/2,n-y/2,s+y/2,!0)}else{const y=Math.min(h/2,l*Gr(s-n));if(p==="round")e.arc(a,o,y,n-cn/2,s+cn/2,!0);else if(p==="bevel"){const b=2*y*y,w=-b*Math.cos(n+cn/2)+a,_=-b*Math.sin(n+cn/2)+o,j=b*Math.cos(s+cn/2)+a,N=b*Math.sin(s+cn/2)+o;e.lineTo(w,_),e.lineTo(j,N)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function gz(e,t,n){const{startAngle:s,pixelMargin:a,x:o,y:l,outerRadius:d,innerRadius:f}=t;let h=a/d;e.beginPath(),e.arc(o,l,d,s-h,n+h),f>a?(h=a/f,e.arc(o,l,f,n+h,s-h,!0)):e.arc(o,l,a,n+es,s-es),e.closePath(),e.clip()}function xz(e){return Wx(e,["outerStart","outerEnd","innerStart","innerEnd"])}function yz(e,t,n,s){const a=xz(e.options.borderRadius),o=(n-t)/2,l=Math.min(o,s*t/2),d=f=>{const h=(n-Math.min(o,f))*s/2;return Hs(f,0,Math.min(o,h))};return{outerStart:d(a.outerStart),outerEnd:d(a.outerEnd),innerStart:Hs(a.innerStart,0,l),innerEnd:Hs(a.innerEnd,0,l)}}function Nl(e,t,n,s){return{x:n+e*Math.cos(t),y:s+e*Math.sin(t)}}function Eh(e,t,n,s,a,o){const{x:l,y:d,startAngle:f,pixelMargin:h,innerRadius:p}=t,x=Math.max(t.outerRadius+s+n-h,0),y=p>0?p+s+n+h:0;let b=0;const w=a-f;if(s){const I=p>0?p-s:0,B=x>0?x-s:0,Y=(I+B)/2,Q=Y!==0?w*Y/(Y+s):w;b=(w-Q)/2}const _=Math.max(.001,w*x-n/cn)/x,j=(w-_)/2,N=f+j+b,k=a-j-b,{outerStart:C,outerEnd:R,innerStart:A,innerEnd:M}=yz(t,y,x,k-N),z=x-C,P=x-R,V=N+C/z,te=k-R/P,$=y+A,Z=y+M,le=N+A/$,J=k-M/Z;if(e.beginPath(),o){const I=(V+te)/2;if(e.arc(l,d,x,V,I),e.arc(l,d,x,I,te),R>0){const ve=Nl(P,te,l,d);e.arc(ve.x,ve.y,R,te,k+es)}const B=Nl(Z,k,l,d);if(e.lineTo(B.x,B.y),M>0){const ve=Nl(Z,J,l,d);e.arc(ve.x,ve.y,M,k+es,J+Math.PI)}const Y=(k-M/y+(N+A/y))/2;if(e.arc(l,d,y,k-M/y,Y,!0),e.arc(l,d,y,Y,N+A/y,!0),A>0){const ve=Nl($,le,l,d);e.arc(ve.x,ve.y,A,le+Math.PI,N-es)}const Q=Nl(z,N,l,d);if(e.lineTo(Q.x,Q.y),C>0){const ve=Nl(z,V,l,d);e.arc(ve.x,ve.y,C,N-es,V)}}else{e.moveTo(l,d);const I=Math.cos(V)*x+l,B=Math.sin(V)*x+d;e.lineTo(I,B);const Y=Math.cos(te)*x+l,Q=Math.sin(te)*x+d;e.lineTo(Y,Q)}e.closePath()}function bz(e,t,n,s,a){const{fullCircles:o,startAngle:l,circumference:d}=t;let f=t.endAngle;if(o){Eh(e,t,n,s,f,a);for(let h=0;h<o;++h)e.fill();isNaN(d)||(f=l+(d%Vn||Vn))}return Eh(e,t,n,s,f,a),e.fill(),f}function vz(e,t,n,s,a){const{fullCircles:o,startAngle:l,circumference:d,options:f}=t,{borderWidth:h,borderJoinStyle:p,borderDash:x,borderDashOffset:y,borderRadius:b}=f,w=f.borderAlign==="inner";if(!h)return;e.setLineDash(x||[]),e.lineDashOffset=y,w?(e.lineWidth=h*2,e.lineJoin=p||"round"):(e.lineWidth=h,e.lineJoin=p||"bevel");let _=t.endAngle;if(o){Eh(e,t,n,s,_,a);for(let j=0;j<o;++j)e.stroke();isNaN(d)||(_=l+(d%Vn||Vn))}w&&gz(e,t,_),f.selfJoin&&_-l>=cn&&b===0&&p!=="miter"&&pz(e,t,_),o||(Eh(e,t,n,s,_,a),e.stroke())}class wu extends Mo{constructor(n){super();ut(this,"circumference");ut(this,"endAngle");ut(this,"fullCircles");ut(this,"innerRadius");ut(this,"outerRadius");ut(this,"pixelMargin");ut(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,a){const o=this.getProps(["x","y"],a),{angle:l,distance:d}=w2(o,{x:n,y:s}),{startAngle:f,endAngle:h,innerRadius:p,outerRadius:x,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),b=(this.options.spacing+this.options.borderWidth)/2,w=Vt(y,h-f),_=_h(l,f,h)&&f!==h,j=w>=Vn||_,N=bo(d,p+b,x+b);return j&&N}getCenterPoint(n){const{x:s,y:a,startAngle:o,endAngle:l,innerRadius:d,outerRadius:f}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:h,spacing:p}=this.options,x=(o+l)/2,y=(d+f+p+h)/2;return{x:s+Math.cos(x)*y,y:a+Math.sin(x)*y}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:a}=this,o=(s.offset||0)/4,l=(s.spacing||0)/2,d=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=a>Vn?Math.floor(a/Vn):0,a===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const f=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(f)*o,Math.sin(f)*o);const h=1-Math.sin(Math.min(cn,a||0)),p=o*h;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,bz(n,this,p,l,d),vz(n,this,p,l,d),n.restore()}}ut(wu,"id","arc"),ut(wu,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),ut(wu,"defaultRoutes",{backgroundColor:"backgroundColor"}),ut(wu,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function G2(e,t){const{x:n,y:s,base:a,width:o,height:l}=e.getProps(["x","y","base","width","height"],t);let d,f,h,p,x;return e.horizontal?(x=l/2,d=Math.min(n,a),f=Math.max(n,a),h=s-x,p=s+x):(x=o/2,d=n-x,f=n+x,h=Math.min(s,a),p=Math.max(s,a)),{left:d,top:h,right:f,bottom:p}}function wi(e,t,n,s){return e?0:Hs(t,n,s)}function wz(e,t,n){const s=e.options.borderWidth,a=e.borderSkipped,o=O2(s);return{t:wi(a.top,o.top,0,n),r:wi(a.right,o.right,0,t),b:wi(a.bottom,o.bottom,0,n),l:wi(a.left,o.left,0,t)}}function _z(e,t,n){const{enableBorderRadius:s}=e.getProps(["enableBorderRadius"]),a=e.options.borderRadius,o=zl(a),l=Math.min(t,n),d=e.borderSkipped,f=s||qt(a);return{topLeft:wi(!f||d.top||d.left,o.topLeft,0,l),topRight:wi(!f||d.top||d.right,o.topRight,0,l),bottomLeft:wi(!f||d.bottom||d.left,o.bottomLeft,0,l),bottomRight:wi(!f||d.bottom||d.right,o.bottomRight,0,l)}}function jz(e){const t=G2(e),n=t.right-t.left,s=t.bottom-t.top,a=wz(e,n/2,s/2),o=_z(e,n/2,s/2);return{outer:{x:t.left,y:t.top,w:n,h:s,radius:o},inner:{x:t.left+a.l,y:t.top+a.t,w:n-a.l-a.r,h:s-a.t-a.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,o.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(a.b,a.r))}}}}function Fg(e,t,n,s){const a=t===null,o=n===null,d=e&&!(a&&o)&&G2(e,s);return d&&(a||bo(t,d.left,d.right))&&(o||bo(n,d.top,d.bottom))}function Sz(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function Nz(e,t){e.rect(t.x,t.y,t.w,t.h)}function Hg(e,t,n={}){const s=e.x!==n.x?-t:0,a=e.y!==n.y?-t:0,o=(e.x+e.w!==n.x+n.w?t:0)-s,l=(e.y+e.h!==n.y+n.h?t:0)-a;return{x:e.x+s,y:e.y+a,w:e.w+o,h:e.h+l,radius:e.radius}}class ih extends Mo{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:s,backgroundColor:a}}=this,{inner:o,outer:l}=jz(this),d=Sz(l.radius)?jh:Nz;t.save(),(l.w!==o.w||l.h!==o.h)&&(t.beginPath(),d(t,Hg(l,n,o)),t.clip(),d(t,Hg(o,-n,l)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),d(t,Hg(o,n)),t.fillStyle=a,t.fill(),t.restore()}inRange(t,n,s){return Fg(this,t,n,s)}inXRange(t,n){return Fg(this,t,null,n)}inYRange(t,n){return Fg(this,null,t,n)}getCenterPoint(t){const{x:n,y:s,base:a,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(n+a)/2:n,y:o?s:(s+a)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}ut(ih,"id","bar"),ut(ih,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ut(ih,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const m1=(e,t)=>{let{boxHeight:n=t,boxWidth:s=t}=e;return e.usePointStyle&&(n=Math.min(n,t),s=e.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(t,n)}},Ez=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class p1 extends Mo{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,s){this.maxWidth=t,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=mn(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(s=>t.filter(s,this.chart.data))),t.sort&&(n=n.sort((s,a)=>t.sort(s,a,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,a=vs(s.font),o=a.size,l=this._computeTitleHeight(),{boxWidth:d,itemHeight:f}=m1(s,o);let h,p;n.font=a.string,this.isHorizontal()?(h=this.maxWidth,p=this._fitRows(l,o,d,f)+10):(p=this.maxHeight,h=this._fitCols(l,a,d,f)+10),this.width=Math.min(h,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,n,s,a){const{ctx:o,maxWidth:l,options:{labels:{padding:d}}}=this,f=this.legendHitBoxes=[],h=this.lineWidths=[0],p=a+d;let x=t;o.textAlign="left",o.textBaseline="middle";let y=-1,b=-p;return this.legendItems.forEach((w,_)=>{const j=s+n/2+o.measureText(w.text).width;(_===0||h[h.length-1]+j+2*d>l)&&(x+=p,h[h.length-(_>0?0:1)]=0,b+=p,y++),f[_]={left:0,top:b,row:y,width:j,height:a},h[h.length-1]+=j+d}),x}_fitCols(t,n,s,a){const{ctx:o,maxHeight:l,options:{labels:{padding:d}}}=this,f=this.legendHitBoxes=[],h=this.columnSizes=[],p=l-t;let x=d,y=0,b=0,w=0,_=0;return this.legendItems.forEach((j,N)=>{const{itemWidth:k,itemHeight:C}=Tz(s,n,o,j,a);N>0&&b+C+2*d>p&&(x+=y+d,h.push({width:y,height:b}),w+=y+d,_++,y=b=0),f[N]={left:w,top:b,col:_,width:k,height:C},y=Math.max(y,k),b+=C+d}),x+=y,h.push({width:y,height:b}),x}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:a},rtl:o}}=this,l=Ul(o,this.left,this.width);if(this.isHorizontal()){let d=0,f=ys(s,this.left+a,this.right-this.lineWidths[d]);for(const h of n)d!==h.row&&(d=h.row,f=ys(s,this.left+a,this.right-this.lineWidths[d])),h.top+=this.top+t+a,h.left=l.leftForLtr(l.x(f),h.width),f+=h.width+a}else{let d=0,f=ys(s,this.top+t+a,this.bottom-this.columnSizes[d].height);for(const h of n)h.col!==d&&(d=h.col,f=ys(s,this.top+t+a,this.bottom-this.columnSizes[d].height)),h.top=f,h.left+=this.left+a,h.left=l.leftForLtr(l.x(h.left),h.width),f+=h.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Yx(t,this),this._draw(),Ix(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:s,ctx:a}=this,{align:o,labels:l}=t,d=Dn.color,f=Ul(t.rtl,this.left,this.width),h=vs(l.font),{padding:p}=l,x=h.size,y=x/2;let b;this.drawTitle(),a.textAlign=f.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=h.string;const{boxWidth:w,boxHeight:_,itemHeight:j}=m1(l,x),N=function(M,z,P){if(isNaN(w)||w<=0||isNaN(_)||_<0)return;a.save();const V=Vt(P.lineWidth,1);if(a.fillStyle=Vt(P.fillStyle,d),a.lineCap=Vt(P.lineCap,"butt"),a.lineDashOffset=Vt(P.lineDashOffset,0),a.lineJoin=Vt(P.lineJoin,"miter"),a.lineWidth=V,a.strokeStyle=Vt(P.strokeStyle,d),a.setLineDash(Vt(P.lineDash,[])),l.usePointStyle){const te={radius:_*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:V},$=f.xPlus(M,w/2),Z=z+y;k2(a,te,$,Z,l.pointStyleWidth&&w)}else{const te=z+Math.max((x-_)/2,0),$=f.leftForLtr(M,w),Z=zl(P.borderRadius);a.beginPath(),Object.values(Z).some(le=>le!==0)?jh(a,{x:$,y:te,w,h:_,radius:Z}):a.rect($,te,w,_),a.fill(),V!==0&&a.stroke()}a.restore()},k=function(M,z,P){Fu(a,P.text,M,z+j/2,h,{strikethrough:P.hidden,textAlign:f.textAlign(P.textAlign)})},C=this.isHorizontal(),R=this._computeTitleHeight();C?b={x:ys(o,this.left+p,this.right-s[0]),y:this.top+p+R,line:0}:b={x:this.left+p,y:ys(o,this.top+R+p,this.bottom-n[0].height),line:0},P2(this.ctx,t.textDirection);const A=j+p;this.legendItems.forEach((M,z)=>{a.strokeStyle=M.fontColor,a.fillStyle=M.fontColor;const P=a.measureText(M.text).width,V=f.textAlign(M.textAlign||(M.textAlign=l.textAlign)),te=w+y+P;let $=b.x,Z=b.y;f.setWidth(this.width),C?z>0&&$+te+p>this.right&&(Z=b.y+=A,b.line++,$=b.x=ys(o,this.left+p,this.right-s[b.line])):z>0&&Z+A>this.bottom&&($=b.x=$+n[b.line].width+p,b.line++,Z=b.y=ys(o,this.top+R+p,this.bottom-n[b.line].height));const le=f.x($);if(N(le,Z,M),$=KL(V,$+w+y,C?$+te:this.right,t.rtl),k(f.x($),Z,M),C)b.x+=te+p;else if(typeof M.text!="string"){const J=h.lineHeight;b.y+=K2(M,J)+p}else b.y+=A}),L2(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,s=vs(n.font),a=vr(n.padding);if(!n.display)return;const o=Ul(t.rtl,this.left,this.width),l=this.ctx,d=n.position,f=s.size/2,h=a.top+f;let p,x=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),p=this.top+h,x=ys(t.align,x,this.right-y);else{const w=this.columnSizes.reduce((_,j)=>Math.max(_,j.height),0);p=h+ys(t.align,this.top,this.bottom-w-t.labels.padding-this._computeTitleHeight())}const b=ys(d,x,x+y);l.textAlign=o.textAlign($x(d)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=s.string,Fu(l,n.text,b,p,s)}_computeTitleHeight(){const t=this.options.title,n=vs(t.font),s=vr(t.padding);return t.display?n.lineHeight+s.height:0}_getLegendItemAt(t,n){let s,a,o;if(bo(t,this.left,this.right)&&bo(n,this.top,this.bottom)){for(o=this.legendHitBoxes,s=0;s<o.length;++s)if(a=o[s],bo(t,a.left,a.left+a.width)&&bo(n,a.top,a.top+a.height))return this.legendItems[s]}return null}handleEvent(t){const n=this.options;if(!Oz(t.type,n))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const a=this._hoveredItem,o=Ez(a,s);a&&!o&&mn(n.onLeave,[t,a,this],this),this._hoveredItem=s,s&&!o&&mn(n.onHover,[t,s,this],this)}else s&&mn(n.onClick,[t,s,this],this)}}function Tz(e,t,n,s,a){const o=kz(s,e,t,n),l=Cz(a,s,t.lineHeight);return{itemWidth:o,itemHeight:l}}function kz(e,t,n,s){let a=e.text;return a&&typeof a!="string"&&(a=a.reduce((o,l)=>o.length>l.length?o:l)),t+n.size/2+s.measureText(a).width}function Cz(e,t,n){let s=e;return typeof t.text!="string"&&(s=K2(t,n)),s}function K2(e,t){const n=e.text?e.text.length:0;return t*n}function Oz(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var Az={id:"legend",_element:p1,start(e,t,n){const s=e.legend=new p1({ctx:e.ctx,options:n,chart:e});xr.configure(e,s,n),xr.addBox(e,s)},stop(e){xr.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const s=e.legend;xr.configure(e,s,n),s.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const s=t.datasetIndex,a=n.chart;a.isDatasetVisible(s)?(a.hide(s),t.hidden=!0):(a.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:a,color:o,useBorderRadius:l,borderRadius:d}}=e.legend.options;return e._getSortedDatasetMetas().map(f=>{const h=f.controller.getStyle(n?0:void 0),p=vr(h.borderWidth);return{text:t[f.index].label,fillStyle:h.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:h.borderColor,pointStyle:s||h.pointStyle,rotation:h.rotation,textAlign:a||h.textAlign,borderRadius:l&&(d||h.borderRadius),datasetIndex:f.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};let Q2=class extends Mo{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const a=Zn(s.text)?s.text.length:1;this._padding=vr(s.padding);const o=a*vs(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:s,bottom:a,right:o,options:l}=this,d=l.align;let f=0,h,p,x;return this.isHorizontal()?(p=ys(d,s,o),x=n+t,h=o-s):(l.position==="left"?(p=s+t,x=ys(d,a,n),f=cn*-.5):(p=o-t,x=ys(d,n,a),f=cn*.5),h=a-n),{titleX:p,titleY:x,maxWidth:h,rotation:f}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const s=vs(n.font),o=s.lineHeight/2+this._padding.top,{titleX:l,titleY:d,maxWidth:f,rotation:h}=this._drawArgs(o);Fu(t,n.text,0,0,s,{color:n.color,maxWidth:f,rotation:h,textAlign:$x(n.align),textBaseline:"middle",translation:[l,d]})}};function Rz(e,t){const n=new Q2({ctx:e.ctx,options:t,chart:e});xr.configure(e,n,t),xr.addBox(e,n),e.titleBlock=n}var Mz={id:"title",_element:Q2,start(e,t,n){Rz(e,n)},stop(e){const t=e.titleBlock;xr.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const s=e.titleBlock;xr.configure(e,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const _u={average(e){if(!e.length)return!1;let t,n,s=new Set,a=0,o=0;for(t=0,n=e.length;t<n;++t){const d=e[t].element;if(d&&d.hasValue()){const f=d.tooltipPosition();s.add(f.x),a+=f.y,++o}}return o===0||s.size===0?!1:{x:[...s].reduce((d,f)=>d+f)/s.size,y:a/o}},nearest(e,t){if(!e.length)return!1;let n=t.x,s=t.y,a=Number.POSITIVE_INFINITY,o,l,d;for(o=0,l=e.length;o<l;++o){const f=e[o].element;if(f&&f.hasValue()){const h=f.getCenterPoint(),p=qL(t,h);p<a&&(a=p,d=f)}}if(d){const f=d.tooltipPosition();n=f.x,s=f.y}return{x:n,y:s}}};function Wr(e,t){return t&&(Zn(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Oa(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function Dz(e,t){const{element:n,datasetIndex:s,index:a}=t,o=e.getDatasetMeta(s).controller,{label:l,value:d}=o.getLabelAndValue(a);return{chart:e,label:l,parsed:o.getParsed(a),raw:e.data.datasets[s].data[a],formattedValue:d,dataset:o.getDataset(),dataIndex:a,datasetIndex:s,element:n}}function g1(e,t){const n=e.chart.ctx,{body:s,footer:a,title:o}=e,{boxWidth:l,boxHeight:d}=t,f=vs(t.bodyFont),h=vs(t.titleFont),p=vs(t.footerFont),x=o.length,y=a.length,b=s.length,w=vr(t.padding);let _=w.height,j=0,N=s.reduce((R,A)=>R+A.before.length+A.lines.length+A.after.length,0);if(N+=e.beforeBody.length+e.afterBody.length,x&&(_+=x*h.lineHeight+(x-1)*t.titleSpacing+t.titleMarginBottom),N){const R=t.displayColors?Math.max(d,f.lineHeight):f.lineHeight;_+=b*R+(N-b)*f.lineHeight+(N-1)*t.bodySpacing}y&&(_+=t.footerMarginTop+y*p.lineHeight+(y-1)*t.footerSpacing);let k=0;const C=function(R){j=Math.max(j,n.measureText(R).width+k)};return n.save(),n.font=h.string,Zt(e.title,C),n.font=f.string,Zt(e.beforeBody.concat(e.afterBody),C),k=t.displayColors?l+2+t.boxPadding:0,Zt(s,R=>{Zt(R.before,C),Zt(R.lines,C),Zt(R.after,C)}),k=0,n.font=p.string,Zt(e.footer,C),n.restore(),j+=w.width,{width:j,height:_}}function Pz(e,t){const{y:n,height:s}=t;return n<s/2?"top":n>e.height-s/2?"bottom":"center"}function Lz(e,t,n,s){const{x:a,width:o}=s,l=n.caretSize+n.caretPadding;if(e==="left"&&a+o+l>t.width||e==="right"&&a-o-l<0)return!0}function zz(e,t,n,s){const{x:a,width:o}=n,{width:l,chartArea:{left:d,right:f}}=e;let h="center";return s==="center"?h=a<=(d+f)/2?"left":"right":a<=o/2?h="left":a>=l-o/2&&(h="right"),Lz(h,e,t,n)&&(h="center"),h}function x1(e,t,n){const s=n.yAlign||t.yAlign||Pz(e,n);return{xAlign:n.xAlign||t.xAlign||zz(e,t,n,s),yAlign:s}}function Uz(e,t){let{x:n,width:s}=e;return t==="right"?n-=s:t==="center"&&(n-=s/2),n}function Bz(e,t,n){let{y:s,height:a}=e;return t==="top"?s+=n:t==="bottom"?s-=a+n:s-=a/2,s}function y1(e,t,n,s){const{caretSize:a,caretPadding:o,cornerRadius:l}=e,{xAlign:d,yAlign:f}=n,h=a+o,{topLeft:p,topRight:x,bottomLeft:y,bottomRight:b}=zl(l);let w=Uz(t,d);const _=Bz(t,f,h);return f==="center"?d==="left"?w+=h:d==="right"&&(w-=h):d==="left"?w-=Math.max(p,y)+a:d==="right"&&(w+=Math.max(x,b)+a),{x:Hs(w,0,s.width-t.width),y:Hs(_,0,s.height-t.height)}}function Lf(e,t,n){const s=vr(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-s.right:e.x+s.left}function b1(e){return Wr([],Oa(e))}function Fz(e,t,n){return Zl(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function v1(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const Z2={beforeTitle:Ta,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return n[t.dataIndex]}return""},afterTitle:Ta,beforeBody:Ta,beforeLabel:Ta,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return un(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ta,afterBody:Ta,beforeFooter:Ta,footer:Ta,afterFooter:Ta};function Ls(e,t,n,s){const a=e[t].call(n,s);return typeof a=="undefined"?Z2[t].call(n,s):a}class R0 extends Mo{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,s=this.options.setContext(this.getContext()),a=s.enabled&&n.options.animation&&s.animations,o=new z2(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=Fz(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:s}=n,a=Ls(s,"beforeTitle",this,t),o=Ls(s,"title",this,t),l=Ls(s,"afterTitle",this,t);let d=[];return d=Wr(d,Oa(a)),d=Wr(d,Oa(o)),d=Wr(d,Oa(l)),d}getBeforeBody(t,n){return b1(Ls(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:s}=n,a=[];return Zt(t,o=>{const l={before:[],lines:[],after:[]},d=v1(s,o);Wr(l.before,Oa(Ls(d,"beforeLabel",this,o))),Wr(l.lines,Ls(d,"label",this,o)),Wr(l.after,Oa(Ls(d,"afterLabel",this,o))),a.push(l)}),a}getAfterBody(t,n){return b1(Ls(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:s}=n,a=Ls(s,"beforeFooter",this,t),o=Ls(s,"footer",this,t),l=Ls(s,"afterFooter",this,t);let d=[];return d=Wr(d,Oa(a)),d=Wr(d,Oa(o)),d=Wr(d,Oa(l)),d}_createItems(t){const n=this._active,s=this.chart.data,a=[],o=[],l=[];let d=[],f,h;for(f=0,h=n.length;f<h;++f)d.push(Dz(this.chart,n[f]));return t.filter&&(d=d.filter((p,x,y)=>t.filter(p,x,y,s))),t.itemSort&&(d=d.sort((p,x)=>t.itemSort(p,x,s))),Zt(d,p=>{const x=v1(t.callbacks,p);a.push(Ls(x,"labelColor",this,p)),o.push(Ls(x,"labelPointStyle",this,p)),l.push(Ls(x,"labelTextColor",this,p))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=d,d}update(t,n){const s=this.options.setContext(this.getContext()),a=this._active;let o,l=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{const d=_u[s.position].call(this,a,this._eventPosition);l=this._createItems(s),this.title=this.getTitle(l,s),this.beforeBody=this.getBeforeBody(l,s),this.body=this.getBody(l,s),this.afterBody=this.getAfterBody(l,s),this.footer=this.getFooter(l,s);const f=this._size=g1(this,s),h=Object.assign({},d,f),p=x1(this.chart,s,h),x=y1(s,h,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:x.x,y:x.y,width:f.width,height:f.height,caretX:d.x,caretY:d.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,s,a){const o=this.getCaretPosition(t,s,a);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(t,n,s){const{xAlign:a,yAlign:o}=this,{caretSize:l,cornerRadius:d}=s,{topLeft:f,topRight:h,bottomLeft:p,bottomRight:x}=zl(d),{x:y,y:b}=t,{width:w,height:_}=n;let j,N,k,C,R,A;return o==="center"?(R=b+_/2,a==="left"?(j=y,N=j-l,C=R+l,A=R-l):(j=y+w,N=j+l,C=R-l,A=R+l),k=j):(a==="left"?N=y+Math.max(f,p)+l:a==="right"?N=y+w-Math.max(h,x)-l:N=this.caretX,o==="top"?(C=b,R=C-l,j=N-l,k=N+l):(C=b+_,R=C+l,j=N+l,k=N-l),A=C),{x1:j,x2:N,x3:k,y1:C,y2:R,y3:A}}drawTitle(t,n,s){const a=this.title,o=a.length;let l,d,f;if(o){const h=Ul(s.rtl,this.x,this.width);for(t.x=Lf(this,s.titleAlign,s),n.textAlign=h.textAlign(s.titleAlign),n.textBaseline="middle",l=vs(s.titleFont),d=s.titleSpacing,n.fillStyle=s.titleColor,n.font=l.string,f=0;f<o;++f)n.fillText(a[f],h.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+d,f+1===o&&(t.y+=s.titleMarginBottom-d)}}_drawColorBox(t,n,s,a,o){const l=this.labelColors[s],d=this.labelPointStyles[s],{boxHeight:f,boxWidth:h}=o,p=vs(o.bodyFont),x=Lf(this,"left",o),y=a.x(x),b=f<p.lineHeight?(p.lineHeight-f)/2:0,w=n.y+b;if(o.usePointStyle){const _={radius:Math.min(h,f)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},j=a.leftForLtr(y,h)+h/2,N=w+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Pj(t,_,j,N),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,Pj(t,_,j,N)}else{t.lineWidth=qt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const _=a.leftForLtr(y,h),j=a.leftForLtr(a.xPlus(y,1),h-2),N=zl(l.borderRadius);Object.values(N).some(k=>k!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,jh(t,{x:_,y:w,w:h,h:f,radius:N}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),jh(t,{x:j,y:w+1,w:h-2,h:f-2,radius:N}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(_,w,h,f),t.strokeRect(_,w,h,f),t.fillStyle=l.backgroundColor,t.fillRect(j,w+1,h-2,f-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,n,s){const{body:a}=this,{bodySpacing:o,bodyAlign:l,displayColors:d,boxHeight:f,boxWidth:h,boxPadding:p}=s,x=vs(s.bodyFont);let y=x.lineHeight,b=0;const w=Ul(s.rtl,this.x,this.width),_=function(P){n.fillText(P,w.x(t.x+b),t.y+y/2),t.y+=y+o},j=w.textAlign(l);let N,k,C,R,A,M,z;for(n.textAlign=l,n.textBaseline="middle",n.font=x.string,t.x=Lf(this,j,s),n.fillStyle=s.bodyColor,Zt(this.beforeBody,_),b=d&&j!=="right"?l==="center"?h/2+p:h+2+p:0,R=0,M=a.length;R<M;++R){for(N=a[R],k=this.labelTextColors[R],n.fillStyle=k,Zt(N.before,_),C=N.lines,d&&C.length&&(this._drawColorBox(n,t,R,w,s),y=Math.max(x.lineHeight,f)),A=0,z=C.length;A<z;++A)_(C[A]),y=x.lineHeight;Zt(N.after,_)}b=0,y=x.lineHeight,Zt(this.afterBody,_),t.y-=o}drawFooter(t,n,s){const a=this.footer,o=a.length;let l,d;if(o){const f=Ul(s.rtl,this.x,this.width);for(t.x=Lf(this,s.footerAlign,s),t.y+=s.footerMarginTop,n.textAlign=f.textAlign(s.footerAlign),n.textBaseline="middle",l=vs(s.footerFont),n.fillStyle=s.footerColor,n.font=l.string,d=0;d<o;++d)n.fillText(a[d],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+s.footerSpacing}}drawBackground(t,n,s,a){const{xAlign:o,yAlign:l}=this,{x:d,y:f}=t,{width:h,height:p}=s,{topLeft:x,topRight:y,bottomLeft:b,bottomRight:w}=zl(a.cornerRadius);n.fillStyle=a.backgroundColor,n.strokeStyle=a.borderColor,n.lineWidth=a.borderWidth,n.beginPath(),n.moveTo(d+x,f),l==="top"&&this.drawCaret(t,n,s,a),n.lineTo(d+h-y,f),n.quadraticCurveTo(d+h,f,d+h,f+y),l==="center"&&o==="right"&&this.drawCaret(t,n,s,a),n.lineTo(d+h,f+p-w),n.quadraticCurveTo(d+h,f+p,d+h-w,f+p),l==="bottom"&&this.drawCaret(t,n,s,a),n.lineTo(d+b,f+p),n.quadraticCurveTo(d,f+p,d,f+p-b),l==="center"&&o==="left"&&this.drawCaret(t,n,s,a),n.lineTo(d,f+x),n.quadraticCurveTo(d,f,d+x,f),n.closePath(),n.fill(),a.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,s=this.$animations,a=s&&s.x,o=s&&s.y;if(a||o){const l=_u[t.position].call(this,this._active,this._eventPosition);if(!l)return;const d=this._size=g1(this,t),f=Object.assign({},l,this._size),h=x1(n,t,f),p=y1(t,f,h,n);(a._to!==p.x||o._to!==p.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=d.width,this.height=d.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const a={width:this.width,height:this.height},o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const l=vr(n.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&d&&(t.save(),t.globalAlpha=s,this.drawBackground(o,t,a,n),P2(t,n.textDirection),o.y+=l.top,this.drawTitle(o,t,n),this.drawBody(o,t,n),this.drawFooter(o,t,n),L2(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const s=this._active,a=t.map(({datasetIndex:d,index:f})=>{const h=this.chart.getDatasetMeta(d);if(!h)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:h.data[f],index:f}}),o=!yh(s,a),l=this._positionChanged(a,n);(o||l)&&(this._active=a,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,o=this._active||[],l=this._getActiveElements(t,o,n,s),d=this._positionChanged(l,t),f=n||!yh(l,o)||d;return f&&(this._active=l,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),f}_getActiveElements(t,n,s,a){const o=this.options;if(t.type==="mouseout")return[];if(!a)return n.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,o.mode,o,s);return o.reverse&&l.reverse(),l}_positionChanged(t,n){const{caretX:s,caretY:a,options:o}=this,l=_u[o.position].call(this,t,n);return l!==!1&&(s!==l.x||a!==l.y)}}ut(R0,"positioners",_u);var Hz={id:"tooltip",_element:R0,positioners:_u,afterInit(e,t,n){n&&(e.tooltip=new R0({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",xe(U({},n),{cancelable:!0}))===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Z2},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Vz=(e,t,n,s)=>(typeof t=="string"?(n=e.push(t)-1,s.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function $z(e,t,n,s){const a=e.indexOf(t);if(a===-1)return Vz(e,t,n,s);const o=e.lastIndexOf(t);return a!==o?n:a}const qz=(e,t)=>e===null?null:Hs(Math.round(e),0,t);function w1(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class M0 extends Jl{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:a,label:o}of n)s[a]===o&&s.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(un(t))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===t?n:$z(s,t,Vt(n,t),this._addedLabels),qz(n,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:s,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),n||(a=this.getLabels().length-1)),this.min=s,this.max=a}buildTicks(){const t=this.min,n=this.max,s=this.options.offset,a=[];let o=this.getLabels();o=t===0&&n===o.length-1?o:o.slice(t,n+1),this._valueRange=Math.max(o.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let l=t;l<=n;l++)a.push({value:l});return a}getLabelForValue(t){return w1.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}ut(M0,"id","category"),ut(M0,"defaults",{ticks:{callback:w1}});function Yz(e,t){const n=[],{bounds:a,step:o,min:l,max:d,precision:f,count:h,maxTicks:p,maxDigits:x,includeBounds:y}=e,b=o||1,w=p-1,{min:_,max:j}=t,N=!un(l),k=!un(d),C=!un(h),R=(j-_)/(x+1);let A=Ej((j-_)/w/b)*b,M,z,P,V;if(A<1e-14&&!N&&!k)return[{value:_},{value:j}];V=Math.ceil(j/A)-Math.floor(_/A),V>w&&(A=Ej(V*A/w/b)*b),un(f)||(M=Math.pow(10,f),A=Math.ceil(A*M)/M),a==="ticks"?(z=Math.floor(_/A)*A,P=Math.ceil(j/A)*A):(z=_,P=j),N&&k&&o&&HL((d-l)/o,A/1e3)?(V=Math.round(Math.min((d-l)/A,p)),A=(d-l)/V,z=l,P=d):C?(z=N?l:z,P=k?d:P,V=h-1,A=(P-z)/V):(V=(P-z)/A,nh(V,Math.round(V),A/1e3)?V=Math.round(V):V=Math.ceil(V));const te=Math.max(Tj(A),Tj(z));M=Math.pow(10,un(f)?te:f),z=Math.round(z*M)/M,P=Math.round(P*M)/M;let $=0;for(N&&(y&&z!==l?(n.push({value:l}),z<l&&$++,nh(Math.round((z+$*A)*M)/M,l,_1(l,R,e))&&$++):z<l&&$++);$<V;++$){const Z=Math.round((z+$*A)*M)/M;if(k&&Z>d)break;n.push({value:Z})}return k&&y&&P!==d?n.length&&nh(n[n.length-1].value,d,_1(d,R,e))?n[n.length-1].value=d:n.push({value:d}):(!k||P===d)&&n.push({value:P}),n}function _1(e,t,{horizontal:n,minRotation:s}){const a=Da(s),o=(n?Math.sin(a):Math.cos(a))||.001,l=.75*t*(""+e).length;return Math.min(t/o,l)}class Iz extends Jl{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return un(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:a,max:o}=this;const l=f=>a=n?a:f,d=f=>o=s?o:f;if(t){const f=Si(a),h=Si(o);f<0&&h<0?d(0):f>0&&h>0&&l(0)}if(a===o){let f=o===0?1:Math.abs(o*.05);d(o+f),t||l(a-f)}this.min=a,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=t,a;return s?(a=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),n=n||11),n&&(a=Math.min(n,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const a={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,l=Yz(a,o);return t.bounds==="ticks"&&VL(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const a=(s-n)/Math.max(t.length-1,1)/2;n-=a,s+=a}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(t){return qx(t,this.chart.options.locale,this.options.ticks.format)}}class D0 extends Iz{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=br(t)?t:0,this.max=br(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,s=Da(this.options.ticks.minRotation),a=(t?Math.sin(s):Math.cos(s))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/a))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}ut(D0,"id","linear"),ut(D0,"defaults",{ticks:{callback:T2.formatters.numeric}});const Zh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Bs=Object.keys(Zh);function j1(e,t){return e-t}function S1(e,t){if(un(t))return null;const n=e._adapter,{parser:s,round:a,isoWeekday:o}=e._parseOpts;let l=t;return typeof s=="function"&&(l=s(l)),br(l)||(l=typeof s=="string"?n.parse(l,s):n.parse(l)),l===null?null:(a&&(l=a==="week"&&(wh(o)||o===!0)?n.startOf(l,"isoWeek",o):n.startOf(l,a)),+l)}function N1(e,t,n,s){const a=Bs.length;for(let o=Bs.indexOf(e);o<a-1;++o){const l=Zh[Bs[o]],d=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-t)/(d*l.size))<=s)return Bs[o]}return Bs[a-1]}function Wz(e,t,n,s,a){for(let o=Bs.length-1;o>=Bs.indexOf(n);o--){const l=Bs[o];if(Zh[l].common&&e._adapter.diff(a,s,l)>=t-1)return l}return Bs[n?Bs.indexOf(n):0]}function Xz(e){for(let t=Bs.indexOf(e)+1,n=Bs.length;t<n;++t)if(Zh[Bs[t]].common)return Bs[t]}function E1(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:s,hi:a}=Vx(n,t),o=n[s]>=t?n[s]:n[a];e[o]=!0}}function Gz(e,t,n,s){const a=e._adapter,o=+a.startOf(t[0].value,s),l=t[t.length-1].value;let d,f;for(d=o;d<=l;d=+a.add(d,1,s))f=n[d],f>=0&&(t[f].major=!0);return t}function T1(e,t,n){const s=[],a={},o=t.length;let l,d;for(l=0;l<o;++l)d=t[l],a[d]=l,s.push({value:d,major:!1});return o===0||!n?s:Gz(e,s,a,n)}class Th extends Jl{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const s=t.time||(t.time={}),a=this._adapter=new i5._date(t.adapters.date);a.init(n),ju(s.displayFormats,a.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:S1(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,s=t.time.unit||"day";let{min:a,max:o,minDefined:l,maxDefined:d}=this.getUserBounds();function f(h){!l&&!isNaN(h.min)&&(a=Math.min(a,h.min)),!d&&!isNaN(h.max)&&(o=Math.max(o,h.max))}(!l||!d)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),a=br(a)&&!isNaN(a)?a:+n.startOf(Date.now(),s),o=br(o)&&!isNaN(o)?o:+n.endOf(Date.now(),s)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],s=t[t.length-1]),{min:n,max:s}}buildTicks(){const t=this.options,n=t.time,s=t.ticks,a=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const o=this.min,l=this.max,d=WL(a,o,l);return this._unit=n.unit||(s.autoSkip?N1(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):Wz(this,d.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:Xz(this._unit),this.initOffsets(a),t.reverse&&d.reverse(),T1(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,s=0,a,o;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?n=1-a:n=(this.getDecimalForValue(t[1])-a)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?s=o:s=(o-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;n=Hs(n,0,l),s=Hs(s,0,l),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const t=this._adapter,n=this.min,s=this.max,a=this.options,o=a.time,l=o.unit||N1(o.minUnit,n,s,this._getLabelCapacity(n)),d=Vt(a.ticks.stepSize,1),f=l==="week"?o.isoWeekday:!1,h=wh(f)||f===!0,p={};let x=n,y,b;if(h&&(x=+t.startOf(x,"isoWeek",f)),x=+t.startOf(x,h?"day":l),t.diff(s,n,l)>1e5*d)throw new Error(n+" and "+s+" are too far apart with stepSize of "+d+" "+l);const w=a.ticks.source==="data"&&this.getDataTimestamps();for(y=x,b=0;y<s;y=+t.add(y,d,l),b++)E1(p,y,w);return(y===s||a.bounds==="ticks"||b===1)&&E1(p,y,w),Object.keys(p).sort(j1).map(_=>+_)}getLabelForValue(t){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(t,s.tooltipFormat):n.format(t,s.displayFormats.datetime)}format(t,n){const a=this.options.time.displayFormats,o=this._unit,l=n||a[o];return this._adapter.format(t,l)}_tickFormatFunction(t,n,s,a){const o=this.options,l=o.ticks.callback;if(l)return mn(l,[t,n,s],this);const d=o.time.displayFormats,f=this._unit,h=this._majorUnit,p=f&&d[f],x=h&&d[h],y=s[n],b=h&&x&&y&&y.major;return this._adapter.format(t,a||(b?x:p))}generateTickLabels(t){let n,s,a;for(n=0,s=t.length;n<s;++n)a=t[n],a.label=this._tickFormatFunction(a.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,s=this.ctx.measureText(t).width,a=Da(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(a),l=Math.sin(a),d=this._resolveTickFontOptions(0).size;return{w:s*o+d*l,h:s*l+d*o}}_getLabelCapacity(t){const n=this.options.time,s=n.displayFormats,a=s[n.unit]||s.millisecond,o=this._tickFormatFunction(t,0,T1(this,[t],this._majorUnit),a),l=this._getLabelSize(o),d=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return d>0?d:1}getDataTimestamps(){let t=this._cache.data||[],n,s;if(t.length)return t;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(n=0,s=a.length;n<s;++n)t=t.concat(a[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,s;if(t.length)return t;const a=this.getLabels();for(n=0,s=a.length;n<s;++n)t.push(S1(this,a[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return j2(t.sort(j1))}}ut(Th,"id","time"),ut(Th,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function zf(e,t,n){let s=0,a=e.length-1,o,l,d,f;n?(t>=e[s].pos&&t<=e[a].pos&&({lo:s,hi:a}=k0(e,"pos",t)),{pos:o,time:d}=e[s],{pos:l,time:f}=e[a]):(t>=e[s].time&&t<=e[a].time&&({lo:s,hi:a}=k0(e,"time",t)),{time:o,pos:d}=e[s],{time:l,pos:f}=e[a]);const h=l-o;return h?d+(f-d)*(t-o)/h:d}class k1 extends Th{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=zf(n,this.min),this._tableRange=zf(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:s}=this,a=[],o=[];let l,d,f,h,p;for(l=0,d=t.length;l<d;++l)h=t[l],h>=n&&h<=s&&a.push(h);if(a.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(l=0,d=a.length;l<d;++l)p=a[l+1],f=a[l-1],h=a[l],Math.round((p+f)/2)!==h&&o.push({time:h,pos:l/(d-1)});return o}_generate(){const t=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((a,o)=>a-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?t=this.normalize(n.concat(s)):t=n.length?n:s,t=this._cache.all=t,t}getDecimalForValue(t){return(zf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return zf(this._table,s*this._tableRange+this._minPos,!0)}}ut(k1,"id","timeseries"),ut(k1,"defaults",Th.defaults);const J2="label";function C1(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Kz(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function eE(e,t){e.labels=t}function tE(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:J2;const s=[];e.datasets=t.map(a=>{const o=e.datasets.find(l=>l[n]===a[n]);return!o||!a.data||s.includes(o)?U({},a):(s.push(o),Object.assign(o,a),o)})}function Qz(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:J2;const n={labels:[],datasets:[]};return eE(n,e.labels),tE(n,e.datasets,t),n}function Zz(e,t){const N=e,{height:n=150,width:s=300,redraw:a=!1,datasetIdKey:o,type:l,data:d,options:f,plugins:h=[],fallbackContent:p,updateMode:x}=N,y=Me(N,["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"]),b=S.useRef(null),w=S.useRef(null),_=()=>{b.current&&(w.current=new Qh(b.current,{type:l,data:Qz(d,o),options:f&&U({},f),plugins:h}),C1(t,w.current))},j=()=>{C1(t,null),w.current&&(w.current.destroy(),w.current=null)};return S.useEffect(()=>{!a&&w.current&&f&&Kz(w.current,f)},[a,f]),S.useEffect(()=>{!a&&w.current&&eE(w.current.config.data,d.labels)},[a,d.labels]),S.useEffect(()=>{!a&&w.current&&d.datasets&&tE(w.current.config.data,d.datasets,o)},[a,d.datasets]),S.useEffect(()=>{w.current&&(a?(j(),setTimeout(_)):w.current.update(x))},[a,f,d.labels,d.datasets,x]),S.useEffect(()=>{w.current&&(j(),setTimeout(_))},[l]),S.useEffect(()=>(_(),()=>j()),[]),_e.createElement("canvas",U({ref:b,role:"img",height:n,width:s},y),p)}const Jz=S.forwardRef(Zz);function nE(e,t){return Qh.register(t),S.forwardRef((n,s)=>_e.createElement(Jz,xe(U({},n),{ref:s,type:e})))}const eU=nE("bar",sh),tU=nE("doughnut",bu),O1=({value:e,label:t,className:n=""})=>u.jsxs("div",{className:`text-center ${n}`,children:[u.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-1",children:e}),u.jsx("div",{className:"text-sm text-gray-500",children:t})]}),A1=({status:e,type:t="status"})=>{const n="px-2 py-1 rounded-full text-xs font-medium inline-block",s=t==="status"?rL(e):aL(e);return u.jsx("span",{className:`${n} ${s}`,children:e})};Qh.register(M0,D0,ih,wu,Mz,Hz,Az);const nU=({projects:e,phases:t,tasks:n})=>{const[s,a]=S.useState(new Set(e.map(P=>P.name))),[o,l]=S.useState(new Set),d=n.filter(P=>P.status==="Working").length,f=n.filter(P=>P.status==="Completed").length,h=P=>{const V=new Set(s);V.has(P)?V.delete(P):V.add(P),a(V)},p=P=>{const V=new Set(o);V.has(P)?V.delete(P):V.add(P),l(V)},x=n.reduce((P,V)=>(P[V.status]=(P[V.status]||0)+1,P),{}),y=P=>{switch(P){case"Open":return"#3b82f6";case"Working":return"#f59e0b";case"Completed":return"#22c55e";case"Overdue":return"#ef4444";case"Cancelled":return"#6b7280";default:return"#3b82f6"}},b={labels:Object.keys(x),datasets:[{data:Object.values(x),backgroundColor:Object.keys(x).map(P=>y(P)),borderColor:Object.keys(x).map(P=>y(P)),borderWidth:1}]},w=n.reduce((P,V)=>(P[V.priority]=(P[V.priority]||0)+1,P),{}),_=P=>{switch(P){case"Urgent":return"#dc2626";case"High":return"#f97316";case"Medium":return"#eab308";case"Low":return"#16a34a";default:return"#6b7280"}},j=P=>{switch(P){case"Completed":case"Hoàn thành":return"#22c55e";case"Cancelled":case"Canceled":case"Hủy":case"Đã hủy":return"#ef4444";default:return"#3b82f6"}},N={labels:Object.keys(w),datasets:[{data:Object.values(w),backgroundColor:Object.keys(w).map(P=>_(P)),hoverOffset:4}]},k={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{precision:0}}}},C={responsive:!0,plugins:{title:{display:!0,text:"Độ ưu tiên nhiệm vụ",font:{size:16}},legend:{position:"bottom"}}},R=P=>{const V=t.find($=>$.name===P);if(!V||!V.tasks)return[];const te=V.tasks.map($=>$.task);return n.filter($=>te.includes($.name))},A=P=>t.filter(V=>V.project===P),M=(P,V=1)=>{const te=V>0?`pl-${V*6}`:"";return u.jsxs("div",{className:`flex items-center py-2 ${te} border-b border-gray-100 last:border-b-0`,children:[u.jsxs("div",{className:"flex-grow flex items-center",children:[u.jsx("span",{className:"mr-2 text-blue-600",children:"●"}),u.jsx("span",{className:"font-medium text-gray-800",children:P.subject})]}),u.jsx("div",{className:"w-32 text-sm text-gray-600",children:P.assigned_to||"Chưa giao"}),u.jsx("div",{className:"w-32 text-center",children:u.jsx(A1,{status:P.status,type:"status"})}),u.jsx("div",{className:"w-24 text-center",children:u.jsx(A1,{status:P.priority,type:"priority"})}),u.jsxs("div",{className:"w-20 text-right text-sm text-gray-600",children:[P.progress,"%"]})]},P.name)},z=(P,V)=>{const te=`${V}-${P.name}`,$=o.has(te),Z=R(P.name);return u.jsxs("div",{className:"ml-4",children:[u.jsxs("div",{className:"bg-green-500 text-white p-2 rounded-t-lg font-medium text-md cursor-pointer hover:bg-green-600 flex items-center justify-between",onClick:()=>p(te),children:[u.jsxs("span",{children:["Giai đoạn: ",P.phase_name," (",P.status,")"]}),u.jsx("span",{className:"text-lg",children:$?"▼":"▶️"})]}),$&&u.jsx("div",{className:"bg-white border-l-2 border-r-2 border-b-2 border-gray-200 p-3",children:Z.length>0?Z.map(le=>M(le)):u.jsx("div",{className:"text-gray-500 text-center py-2 text-sm",children:"Chưa có nhiệm vụ nào cho giai đoạn này."})})]},P.name)};return u.jsxs(Xh,{title:"Quản lý nhiệm vụ (Task)",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[u.jsx(O1,{value:d,label:"Tổng nhiệm vụ đang thực hiện"}),u.jsx(O1,{value:f,label:"Tổng nhiệm vụ đã hoàn thành"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Trạng thái nhiệm vụ"}),u.jsx("div",{className:"flex-1",style:{height:"400px"},children:u.jsx(eU,{data:b,options:k})})]}),u.jsx("div",{className:"flex flex-col",children:u.jsx("div",{className:"flex-1",style:{height:"400px"},children:u.jsx(tU,{data:N,options:C})})})]}),u.jsx("h3",{className:"text-xl font-semibold mt-8 mb-4 text-gray-700",children:"Danh sách nhiệm vụ"}),u.jsx("div",{className:"space-y-4",children:e.map(P=>{const V=A(P.name),te=s.has(P.name);return u.jsxs("div",{children:[u.jsx("div",{className:"text-white p-3 rounded-t-lg font-semibold text-lg cursor-pointer hover:opacity-90 flex items-center justify-between transition-opacity",style:{backgroundColor:j(P.status)},onClick:()=>h(P.name),children:u.jsxs("div",{className:"flex flex-col flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("span",{className:"text-lg font-semibold",children:["Dự án: ",P.project_name," (",P.status,")"]}),u.jsx("span",{className:"text-xl",children:te?"▼":"▶️"})]}),u.jsxs("div",{className:"flex items-center mt-2 text-sm text-white space-x-6",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"font-medium mr-2",children:"Priority:"}),u.jsx("span",{className:"bg-white text-gray-800 px-2 py-1 rounded text-xs font-medium",children:P.priority})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"font-medium mr-2",children:"Progress:"}),u.jsxs("span",{className:"bg-white text-gray-800 px-2 py-1 rounded text-xs font-medium",children:[P.percent_complete,"%"]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"font-medium mr-2",children:"Expected End:"}),u.jsx("span",{className:"bg-white text-gray-800 px-2 py-1 rounded text-xs font-medium",children:P.expected_end_date?new Date(P.expected_end_date).toLocaleDateString("vi-VN"):"Chưa xác định"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"font-medium mr-2",children:"Department:"}),u.jsx("span",{className:"bg-white text-gray-800 px-2 py-1 rounded text-xs font-medium",children:P.department})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"font-medium mr-2",children:"Team:"}),u.jsx("span",{className:"bg-white text-gray-800 px-2 py-1 rounded text-xs font-medium",children:P.team})]})]})]})}),te&&u.jsx("div",{className:"bg-white rounded-b-lg border border-gray-200 p-4",children:V.length>0?V.map($=>z($,P.name)):u.jsx("div",{className:"text-gray-500 text-center py-4",children:"Chưa có giai đoạn nào cho dự án này."})})]},P.name)})})]})},sU=({className:e=""})=>u.jsx("div",{className:`inline-block animate-spin rounded-full border-4 border-gray-200 border-t-blue-600 h-6 w-6 ${e}`}),rU=()=>{const{allProjects:e,filteredData:t,selectedProject:n,selectedDepartment:s,selectedTeam:a,setSelectedProject:o,setSelectedDepartment:l,setSelectedTeam:d,isLoading:f}=tL();return f?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsxs("div",{className:"text-center",children:[u.jsx(sU,{className:"h-12 w-12 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Đang tải dữ liệu..."})]})}):u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-8 text-center",children:"Bảng điều khiển quản lý dự án"}),u.jsx(nL,{projects:e,selectedProject:n,selectedDepartment:s,selectedTeam:a,onProjectChange:o,onDepartmentChange:l,onTeamChange:d}),u.jsx(iL,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:n}),u.jsx(lL,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:n}),u.jsx(oL,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:n}),u.jsx(nU,{projects:t.filteredProjects,phases:t.filteredPhases,tasks:t.filteredTasks})]})})},mo=e=>e==null?"N/A":new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0}).format(e);var Ku=e=>e.type==="checkbox",vo=e=>e instanceof Date,js=e=>e==null;const sE=e=>typeof e=="object";var Pn=e=>!js(e)&&!Array.isArray(e)&&sE(e)&&!vo(e),rE=e=>Pn(e)&&e.target?Ku(e.target)?e.target.checked:e.target.value:e,aU=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,aE=(e,t)=>e.has(aU(t)),iU=e=>{const t=e.constructor&&e.constructor.prototype;return Pn(t)&&t.hasOwnProperty("isPrototypeOf")},ey=typeof window!="undefined"&&typeof window.HTMLElement!="undefined"&&typeof document!="undefined";function Kn(e){let t;const n=Array.isArray(e),s=typeof FileList!="undefined"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(ey&&(e instanceof Blob||s))&&(n||Pn(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!iU(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Kn(e[a]));else return e;return t}var Jh=e=>/^\w*$/.test(e),Mn=e=>e===void 0,ty=e=>Array.isArray(e)?e.filter(Boolean):[],ny=e=>ty(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Fe=(e,t,n)=>{if(!t||!Pn(e))return n;const s=(Jh(t)?[t]:ny(t)).reduce((a,o)=>js(a)?a:a[o],e);return Mn(s)||s===e?Mn(e[t])?n:e[t]:s},Qs=e=>typeof e=="boolean",hn=(e,t,n)=>{let s=-1;const a=Jh(t)?[t]:ny(t),o=a.length,l=o-1;for(;++s<o;){const d=a[s];let f=n;if(s!==l){const h=e[d];f=Pn(h)||Array.isArray(h)?h:isNaN(+a[s+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;e[d]=f,e=e[d]}};const kh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Mr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ka={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},iE=_e.createContext(null);iE.displayName="HookFormContext";const sy=()=>_e.useContext(iE);var oE=(e,t,n,s=!0)=>{const a={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(a,o,{get:()=>{const l=o;return t._proxyFormState[l]!==Mr.all&&(t._proxyFormState[l]=!s||Mr.all),n&&(n[l]=!0),e[l]}});return a};const ry=typeof window!="undefined"?_e.useLayoutEffect:_e.useEffect;function oU(e){const t=sy(),{control:n=t.control,disabled:s,name:a,exact:o}=e||{},[l,d]=_e.useState(n._formState),f=_e.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return ry(()=>n._subscribe({name:a,formState:f.current,exact:o,callback:h=>{!s&&d(U(U({},n._formState),h))}}),[a,s,o]),_e.useEffect(()=>{f.current.isValid&&n._setValid(!0)},[n]),_e.useMemo(()=>oE(l,n,f.current,!1),[l,n])}var Zr=e=>typeof e=="string",lE=(e,t,n,s,a)=>Zr(e)?(s&&t.watch.add(e),Fe(n,e,a)):Array.isArray(e)?e.map(o=>(s&&t.watch.add(o),Fe(n,o))):(s&&(t.watchAll=!0),n),P0=e=>js(e)||!sE(e);function Ma(e,t,n=new WeakSet){if(P0(e)||P0(t))return e===t;if(vo(e)&&vo(t))return e.getTime()===t.getTime();const s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const o of s){const l=e[o];if(!a.includes(o))return!1;if(o!=="ref"){const d=t[o];if(vo(l)&&vo(d)||Pn(l)&&Pn(d)||Array.isArray(l)&&Array.isArray(d)?!Ma(l,d,n):l!==d)return!1}}return!0}function lU(e){const t=sy(),{control:n=t.control,name:s,defaultValue:a,disabled:o,exact:l,compute:d}=e||{},f=_e.useRef(a),h=_e.useRef(d),p=_e.useRef(void 0);h.current=d;const x=_e.useMemo(()=>n._getWatch(s,f.current),[n,s]),[y,b]=_e.useState(h.current?h.current(x):x);return ry(()=>n._subscribe({name:s,formState:{values:!0},exact:l,callback:w=>{if(!o){const _=lE(s,n._names,w.values||n._formValues,!1,f.current);if(h.current){const j=h.current(_);Ma(j,p.current)||(b(j),p.current=j)}else b(_)}}}),[n,o,s,l]),_e.useEffect(()=>n._removeUnmounted()),y}function cU(e){const t=sy(),{name:n,disabled:s,control:a=t.control,shouldUnregister:o,defaultValue:l}=e,d=aE(a._names.array,n),f=_e.useMemo(()=>Fe(a._formValues,n,Fe(a._defaultValues,n,l)),[a,n,l]),h=lU({control:a,name:n,defaultValue:f,exact:!0}),p=oU({control:a,name:n,exact:!0}),x=_e.useRef(e),y=_e.useRef(a.register(n,U(xe(U({},e.rules),{value:h}),Qs(e.disabled)?{disabled:e.disabled}:{})));x.current=e;const b=_e.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Fe(p.errors,n)},isDirty:{enumerable:!0,get:()=>!!Fe(p.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Fe(p.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Fe(p.validatingFields,n)},error:{enumerable:!0,get:()=>Fe(p.errors,n)}}),[p,n]),w=_e.useCallback(k=>y.current.onChange({target:{value:rE(k),name:n},type:kh.CHANGE}),[n]),_=_e.useCallback(()=>y.current.onBlur({target:{value:Fe(a._formValues,n),name:n},type:kh.BLUR}),[n,a._formValues]),j=_e.useCallback(k=>{const C=Fe(a._fields,n);C&&k&&(C._f.ref={focus:()=>k.focus&&k.focus(),select:()=>k.select&&k.select(),setCustomValidity:R=>k.setCustomValidity(R),reportValidity:()=>k.reportValidity()})},[a._fields,n]),N=_e.useMemo(()=>xe(U({name:n,value:h},Qs(s)||p.disabled?{disabled:p.disabled||s}:{}),{onChange:w,onBlur:_,ref:j}),[n,s,p.disabled,w,_,j,h]);return _e.useEffect(()=>{const k=a._options.shouldUnregister||o;a.register(n,U(U({},x.current.rules),Qs(x.current.disabled)?{disabled:x.current.disabled}:{}));const C=(R,A)=>{const M=Fe(a._fields,R);M&&M._f&&(M._f.mount=A)};if(C(n,!0),k){const R=Kn(Fe(a._options.defaultValues,n));hn(a._defaultValues,n,R),Mn(Fe(a._formValues,n))&&hn(a._formValues,n,R)}return!d&&a.register(n),()=>{(d?k&&!a._state.action:k)?a.unregister(n):C(n,!1)}},[n,a,d,o]),_e.useEffect(()=>{a._setDisabledField({disabled:s,name:n})},[s,n,a]),_e.useMemo(()=>({field:N,formState:p,fieldState:b}),[N,p,b])}const gi=e=>e.render(cU(e));var uU=(e,t,n,s,a)=>t?xe(U({},n[e]),{types:xe(U({},n[e]&&n[e].types?n[e].types:{}),{[s]:a||!0})}):{},Eu=e=>Array.isArray(e)?e:[e],R1=()=>{let e=[];return{get observers(){return e},next:a=>{for(const o of e)o.next&&o.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(o=>o!==a)}}),unsubscribe:()=>{e=[]}}},zs=e=>Pn(e)&&!Object.keys(e).length,ay=e=>e.type==="file",Dr=e=>typeof e=="function",Ch=e=>{if(!ey)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},cE=e=>e.type==="select-multiple",iy=e=>e.type==="radio",dU=e=>iy(e)||Ku(e),Vg=e=>Ch(e)&&e.isConnected;function fU(e,t){const n=t.slice(0,-1).length;let s=0;for(;s<n;)e=Mn(e)?s++:e[t[s++]];return e}function hU(e){for(const t in e)if(e.hasOwnProperty(t)&&!Mn(e[t]))return!1;return!0}function Bn(e,t){const n=Array.isArray(t)?t:Jh(t)?[t]:ny(t),s=n.length===1?e:fU(e,n),a=n.length-1,o=n[a];return s&&delete s[o],a!==0&&(Pn(s)&&zs(s)||Array.isArray(s)&&hU(s))&&Bn(e,n.slice(0,-1)),e}var uE=e=>{for(const t in e)if(Dr(e[t]))return!0;return!1};function Oh(e,t={}){const n=Array.isArray(e);if(Pn(e)||n)for(const s in e)Array.isArray(e[s])||Pn(e[s])&&!uE(e[s])?(t[s]=Array.isArray(e[s])?[]:{},Oh(e[s],t[s])):js(e[s])||(t[s]=!0);return t}function dE(e,t,n){const s=Array.isArray(e);if(Pn(e)||s)for(const a in e)Array.isArray(e[a])||Pn(e[a])&&!uE(e[a])?Mn(t)||P0(n[a])?n[a]=Array.isArray(e[a])?Oh(e[a],[]):U({},Oh(e[a])):dE(e[a],js(t)?{}:t[a],n[a]):n[a]=!Ma(e[a],t[a]);return n}var du=(e,t)=>dE(e,t,Oh(t));const M1={value:!1,isValid:!1},D1={value:!0,isValid:!0};var fE=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Mn(e[0].attributes.value)?Mn(e[0].value)||e[0].value===""?D1:{value:e[0].value,isValid:!0}:D1:M1}return M1},hE=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:s})=>Mn(e)?e:t?e===""?NaN:e&&+e:n&&Zr(e)?new Date(e):s?s(e):e;const P1={isValid:!1,value:null};var mE=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,P1):P1;function L1(e){const t=e.ref;return ay(t)?t.files:iy(t)?mE(e.refs).value:cE(t)?[...t.selectedOptions].map(({value:n})=>n):Ku(t)?fE(e.refs).value:hE(Mn(t.value)?e.ref.value:t.value,e)}var mU=(e,t,n,s)=>{const a={};for(const o of e){const l=Fe(t,o);l&&hn(a,o,l._f)}return{criteriaMode:n,names:[...e],fields:a,shouldUseNativeValidation:s}},Ah=e=>e instanceof RegExp,fu=e=>Mn(e)?e:Ah(e)?e.source:Pn(e)?Ah(e.value)?e.value.source:e.value:e,z1=e=>({isOnSubmit:!e||e===Mr.onSubmit,isOnBlur:e===Mr.onBlur,isOnChange:e===Mr.onChange,isOnAll:e===Mr.all,isOnTouch:e===Mr.onTouched});const U1="AsyncFunction";var pU=e=>!!e&&!!e.validate&&!!(Dr(e.validate)&&e.validate.constructor.name===U1||Pn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===U1)),gU=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),B1=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const Tu=(e,t,n,s)=>{for(const o of n||Object.keys(e)){const l=Fe(e,o);if(l){const a=l,{_f:d}=a,f=Me(a,["_f"]);if(d){if(d.refs&&d.refs[0]&&t(d.refs[0],o)&&!s)return!0;if(d.ref&&t(d.ref,d.name)&&!s)return!0;if(Tu(f,t))break}else if(Pn(f)&&Tu(f,t))break}}};function F1(e,t,n){const s=Fe(e,n);if(s||Jh(n))return{error:s,name:n};const a=n.split(".");for(;a.length;){const o=a.join("."),l=Fe(t,o),d=Fe(e,o);if(l&&!Array.isArray(l)&&n!==o)return{name:n};if(d&&d.type)return{name:o,error:d};if(d&&d.root&&d.root.type)return{name:`${o}.root`,error:d.root};a.pop()}return{name:n}}var xU=(e,t,n,s)=>{n(e);const l=e,{name:a}=l,o=Me(l,["name"]);return zs(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(d=>t[d]===(!s||Mr.all))},yU=(e,t,n)=>!e||!t||e===t||Eu(e).some(s=>s&&(n?s===t:s.startsWith(t)||t.startsWith(s))),bU=(e,t,n,s,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(t||e):(n?s.isOnBlur:a.isOnBlur)?!e:(n?s.isOnChange:a.isOnChange)?e:!0,vU=(e,t)=>!ty(Fe(e,t)).length&&Bn(e,t),wU=(e,t,n)=>{const s=Eu(Fe(e,n));return hn(s,"root",t[n]),hn(e,n,s),e},oh=e=>Zr(e);function H1(e,t,n="validate"){if(oh(e)||Array.isArray(e)&&e.every(oh)||Qs(e)&&!e)return{type:n,message:oh(e)?e:"",ref:t}}var El=e=>Pn(e)&&!Ah(e)?e:{value:e,message:""},V1=(e,t,n,s,a,o)=>pe(null,null,function*(){const{ref:l,refs:d,required:f,maxLength:h,minLength:p,min:x,max:y,pattern:b,validate:w,name:_,valueAsNumber:j,mount:N}=e._f,k=Fe(n,_);if(!N||t.has(_))return{};const C=d?d[0]:l,R=Z=>{a&&C.reportValidity&&(C.setCustomValidity(Qs(Z)?"":Z||""),C.reportValidity())},A={},M=iy(l),z=Ku(l),P=M||z,V=(j||ay(l))&&Mn(l.value)&&Mn(k)||Ch(l)&&l.value===""||k===""||Array.isArray(k)&&!k.length,te=uU.bind(null,_,s,A),$=(Z,le,J,I=ka.maxLength,B=ka.minLength)=>{const Y=Z?le:J;A[_]=U({type:Z?I:B,message:Y,ref:l},te(Z?I:B,Y))};if(o?!Array.isArray(k)||!k.length:f&&(!P&&(V||js(k))||Qs(k)&&!k||z&&!fE(d).isValid||M&&!mE(d).isValid)){const{value:Z,message:le}=oh(f)?{value:!!f,message:f}:El(f);if(Z&&(A[_]=U({type:ka.required,message:le,ref:C},te(ka.required,le)),!s))return R(le),A}if(!V&&(!js(x)||!js(y))){let Z,le;const J=El(y),I=El(x);if(!js(k)&&!isNaN(k)){const B=l.valueAsNumber||k&&+k;js(J.value)||(Z=B>J.value),js(I.value)||(le=B<I.value)}else{const B=l.valueAsDate||new Date(k),Y=H=>new Date(new Date().toDateString()+" "+H),Q=l.type=="time",ve=l.type=="week";Zr(J.value)&&k&&(Z=Q?Y(k)>Y(J.value):ve?k>J.value:B>new Date(J.value)),Zr(I.value)&&k&&(le=Q?Y(k)<Y(I.value):ve?k<I.value:B<new Date(I.value))}if((Z||le)&&($(!!Z,J.message,I.message,ka.max,ka.min),!s))return R(A[_].message),A}if((h||p)&&!V&&(Zr(k)||o&&Array.isArray(k))){const Z=El(h),le=El(p),J=!js(Z.value)&&k.length>+Z.value,I=!js(le.value)&&k.length<+le.value;if((J||I)&&($(J,Z.message,le.message),!s))return R(A[_].message),A}if(b&&!V&&Zr(k)){const{value:Z,message:le}=El(b);if(Ah(Z)&&!k.match(Z)&&(A[_]=U({type:ka.pattern,message:le,ref:l},te(ka.pattern,le)),!s))return R(le),A}if(w){if(Dr(w)){const Z=yield w(k,n),le=H1(Z,C);if(le&&(A[_]=U(U({},le),te(ka.validate,le.message)),!s))return R(le.message),A}else if(Pn(w)){let Z={};for(const le in w){if(!zs(Z)&&!s)break;const J=H1(yield w[le](k,n),C,le);J&&(Z=U(U({},J),te(le,J.message)),R(J.message),s&&(A[_]=Z))}if(!zs(Z)&&(A[_]=U({ref:C},Z),!s))return A}}return R(!0),A});const _U={mode:Mr.onSubmit,reValidateMode:Mr.onChange,shouldFocusError:!0};function jU(e={}){let t=U(U({},_U),e),n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Dr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},a=Pn(t.defaultValues)||Pn(t.values)?Kn(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:Kn(a),l={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,h=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x=U({},p);const y={array:R1(),state:R1()},b=t.criteriaMode===Mr.all,w=W=>oe=>{clearTimeout(h),h=setTimeout(W,oe)},_=W=>pe(null,null,function*(){if(!t.disabled&&(p.isValid||x.isValid||W)){const oe=t.resolver?zs((yield z()).errors):yield V(s,!0);oe!==n.isValid&&y.state.next({isValid:oe})}}),j=(W,oe)=>{!t.disabled&&(p.isValidating||p.validatingFields||x.isValidating||x.validatingFields)&&((W||Array.from(d.mount)).forEach(q=>{q&&(oe?hn(n.validatingFields,q,oe):Bn(n.validatingFields,q))}),y.state.next({validatingFields:n.validatingFields,isValidating:!zs(n.validatingFields)}))},N=(W,oe=[],q,Se,Re=!0,Oe=!0)=>{if(Se&&q&&!t.disabled){if(l.action=!0,Oe&&Array.isArray(Fe(s,W))){const Ue=q(Fe(s,W),Se.argA,Se.argB);Re&&hn(s,W,Ue)}if(Oe&&Array.isArray(Fe(n.errors,W))){const Ue=q(Fe(n.errors,W),Se.argA,Se.argB);Re&&hn(n.errors,W,Ue),vU(n.errors,W)}if((p.touchedFields||x.touchedFields)&&Oe&&Array.isArray(Fe(n.touchedFields,W))){const Ue=q(Fe(n.touchedFields,W),Se.argA,Se.argB);Re&&hn(n.touchedFields,W,Ue)}(p.dirtyFields||x.dirtyFields)&&(n.dirtyFields=du(a,o)),y.state.next({name:W,isDirty:$(W,oe),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else hn(o,W,oe)},k=(W,oe)=>{hn(n.errors,W,oe),y.state.next({errors:n.errors})},C=W=>{n.errors=W,y.state.next({errors:n.errors,isValid:!1})},R=(W,oe,q,Se)=>{const Re=Fe(s,W);if(Re){const Oe=Fe(o,W,Mn(q)?Fe(a,W):q);Mn(Oe)||Se&&Se.defaultChecked||oe?hn(o,W,oe?Oe:L1(Re._f)):J(W,Oe),l.mount&&_()}},A=(W,oe,q,Se,Re)=>{let Oe=!1,Ue=!1;const $e={name:W};if(!t.disabled){if(!q||Se){(p.isDirty||x.isDirty)&&(Ue=n.isDirty,n.isDirty=$e.isDirty=$(),Oe=Ue!==$e.isDirty);const Ke=Ma(Fe(a,W),oe);Ue=!!Fe(n.dirtyFields,W),Ke?Bn(n.dirtyFields,W):hn(n.dirtyFields,W,!0),$e.dirtyFields=n.dirtyFields,Oe=Oe||(p.dirtyFields||x.dirtyFields)&&Ue!==!Ke}if(q){const Ke=Fe(n.touchedFields,W);Ke||(hn(n.touchedFields,W,q),$e.touchedFields=n.touchedFields,Oe=Oe||(p.touchedFields||x.touchedFields)&&Ke!==q)}Oe&&Re&&y.state.next($e)}return Oe?$e:{}},M=(W,oe,q,Se)=>{const Re=Fe(n.errors,W),Oe=(p.isValid||x.isValid)&&Qs(oe)&&n.isValid!==oe;if(t.delayError&&q?(f=w(()=>k(W,q)),f(t.delayError)):(clearTimeout(h),f=null,q?hn(n.errors,W,q):Bn(n.errors,W)),(q?!Ma(Re,q):Re)||!zs(Se)||Oe){const Ue=xe(U(U({},Se),Oe&&Qs(oe)?{isValid:oe}:{}),{errors:n.errors,name:W});n=U(U({},n),Ue),y.state.next(Ue)}},z=W=>pe(null,null,function*(){j(W,!0);const oe=yield t.resolver(o,t.context,mU(W||d.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return j(W),oe}),P=W=>pe(null,null,function*(){const{errors:oe}=yield z(W);if(W)for(const q of W){const Se=Fe(oe,q);Se?hn(n.errors,q,Se):Bn(n.errors,q)}else n.errors=oe;return oe}),V=(Se,Re,...Oe)=>pe(null,[Se,Re,...Oe],function*(W,oe,q={valid:!0}){for(const $e in W){const Ke=W[$e];if(Ke){const Ue=Ke,{_f:bt}=Ue,ts=Me(Ue,["_f"]);if(bt){const Te=d.array.has(bt.name),Be=Ke._f&&pU(Ke._f);Be&&p.validatingFields&&j([$e],!0);const _t=yield V1(Ke,d.disabled,o,b,t.shouldUseNativeValidation&&!oe,Te);if(Be&&p.validatingFields&&j([$e]),_t[bt.name]&&(q.valid=!1,oe))break;!oe&&(Fe(_t,bt.name)?Te?wU(n.errors,_t,bt.name):hn(n.errors,bt.name,_t[bt.name]):Bn(n.errors,bt.name))}!zs(ts)&&(yield V(ts,oe,q))}}return q.valid}),te=()=>{for(const W of d.unMount){const oe=Fe(s,W);oe&&(oe._f.refs?oe._f.refs.every(q=>!Vg(q)):!Vg(oe._f.ref))&&Ce(W)}d.unMount=new Set},$=(W,oe)=>!t.disabled&&(W&&oe&&hn(o,W,oe),!Ma(H(),a)),Z=(W,oe,q)=>lE(W,d,U({},l.mount?o:Mn(oe)?a:Zr(W)?{[W]:oe}:oe),q,oe),le=W=>ty(Fe(l.mount?o:a,W,t.shouldUnregister?Fe(a,W,[]):[])),J=(W,oe,q={})=>{const Se=Fe(s,W);let Re=oe;if(Se){const Oe=Se._f;Oe&&(!Oe.disabled&&hn(o,W,hE(oe,Oe)),Re=Ch(Oe.ref)&&js(oe)?"":oe,cE(Oe.ref)?[...Oe.ref.options].forEach(Ue=>Ue.selected=Re.includes(Ue.value)):Oe.refs?Ku(Oe.ref)?Oe.refs.forEach(Ue=>{(!Ue.defaultChecked||!Ue.disabled)&&(Array.isArray(Re)?Ue.checked=!!Re.find($e=>$e===Ue.value):Ue.checked=Re===Ue.value||!!Re)}):Oe.refs.forEach(Ue=>Ue.checked=Ue.value===Re):ay(Oe.ref)?Oe.ref.value="":(Oe.ref.value=Re,Oe.ref.type||y.state.next({name:W,values:Kn(o)})))}(q.shouldDirty||q.shouldTouch)&&A(W,Re,q.shouldTouch,q.shouldDirty,!0),q.shouldValidate&&ve(W)},I=(W,oe,q)=>{for(const Se in oe){if(!oe.hasOwnProperty(Se))return;const Re=oe[Se],Oe=W+"."+Se,Ue=Fe(s,Oe);(d.array.has(W)||Pn(Re)||Ue&&!Ue._f)&&!vo(Re)?I(Oe,Re,q):J(Oe,Re,q)}},B=(W,oe,q={})=>{const Se=Fe(s,W),Re=d.array.has(W),Oe=Kn(oe);hn(o,W,Oe),Re?(y.array.next({name:W,values:Kn(o)}),(p.isDirty||p.dirtyFields||x.isDirty||x.dirtyFields)&&q.shouldDirty&&y.state.next({name:W,dirtyFields:du(a,o),isDirty:$(W,Oe)})):Se&&!Se._f&&!js(Oe)?I(W,Oe,q):J(W,Oe,q),B1(W,d)&&y.state.next(xe(U({},n),{name:W})),y.state.next({name:l.mount?W:void 0,values:Kn(o)})},Y=W=>pe(null,null,function*(){l.mount=!0;const oe=W.target;let q=oe.name,Se=!0;const Re=Fe(s,q),Oe=Ke=>{Se=Number.isNaN(Ke)||vo(Ke)&&isNaN(Ke.getTime())||Ma(Ke,Fe(o,q,Ke))},Ue=z1(t.mode),$e=z1(t.reValidateMode);if(Re){let Ke,bt;const ts=oe.type?L1(Re._f):rE(W),Te=W.type===kh.BLUR||W.type===kh.FOCUS_OUT,Be=!gU(Re._f)&&!t.resolver&&!Fe(n.errors,q)&&!Re._f.deps||bU(Te,Fe(n.touchedFields,q),n.isSubmitted,$e,Ue),_t=B1(q,d,Te);hn(o,q,ts),Te?(!oe||!oe.readOnly)&&(Re._f.onBlur&&Re._f.onBlur(W),f&&f(0)):Re._f.onChange&&Re._f.onChange(W);const On=A(q,ts,Te),ls=!zs(On)||_t;if(!Te&&y.state.next({name:q,type:W.type,values:Kn(o)}),Be)return(p.isValid||x.isValid)&&(t.mode==="onBlur"?Te&&_():Te||_()),ls&&y.state.next(U({name:q},_t?{}:On));if(!Te&&_t&&y.state.next(U({},n)),t.resolver){const{errors:ws}=yield z([q]);if(Oe(ts),Se){const qn=F1(n.errors,s,q),wr=F1(ws,s,qn.name||q);Ke=wr.error,q=wr.name,bt=zs(ws)}}else j([q],!0),Ke=(yield V1(Re,d.disabled,o,b,t.shouldUseNativeValidation))[q],j([q]),Oe(ts),Se&&(Ke?bt=!1:(p.isValid||x.isValid)&&(bt=yield V(s,!0)));Se&&(Re._f.deps&&ve(Re._f.deps),M(q,bt,Ke,On))}}),Q=(W,oe)=>{if(Fe(n.errors,oe)&&W.focus)return W.focus(),1},ve=(q,...Se)=>pe(null,[q,...Se],function*(W,oe={}){let Re,Oe;const Ue=Eu(W);if(t.resolver){const $e=yield P(Mn(W)?W:Ue);Re=zs($e),Oe=W?!Ue.some(Ke=>Fe($e,Ke)):Re}else W?(Oe=(yield Promise.all(Ue.map($e=>pe(null,null,function*(){const Ke=Fe(s,$e);return yield V(Ke&&Ke._f?{[$e]:Ke}:Ke)})))).every(Boolean),!(!Oe&&!n.isValid)&&_()):Oe=Re=yield V(s);return y.state.next(xe(U(U({},!Zr(W)||(p.isValid||x.isValid)&&Re!==n.isValid?{}:{name:W}),t.resolver||!W?{isValid:Re}:{}),{errors:n.errors})),oe.shouldFocus&&!Oe&&Tu(s,Q,W?Ue:d.mount),Oe}),H=W=>{const oe=U({},l.mount?o:a);return Mn(W)?oe:Zr(W)?Fe(oe,W):W.map(q=>Fe(oe,q))},ae=(W,oe)=>({invalid:!!Fe((oe||n).errors,W),isDirty:!!Fe((oe||n).dirtyFields,W),error:Fe((oe||n).errors,W),isValidating:!!Fe(n.validatingFields,W),isTouched:!!Fe((oe||n).touchedFields,W)}),ye=W=>{W&&Eu(W).forEach(oe=>Bn(n.errors,oe)),y.state.next({errors:W?n.errors:{}})},X=(W,oe,q)=>{const Se=(Fe(s,W,{_f:{}})._f||{}).ref,bt=Fe(n.errors,W)||{},{ref:Oe,message:Ue,type:$e}=bt,Ke=Me(bt,["ref","message","type"]);hn(n.errors,W,xe(U(U({},Ke),oe),{ref:Se})),y.state.next({name:W,errors:n.errors,isValid:!1}),q&&q.shouldFocus&&Se&&Se.focus&&Se.focus()},he=(W,oe)=>Dr(W)?y.state.subscribe({next:q=>"values"in q&&W(Z(void 0,oe),q)}):Z(W,oe,!0),ke=W=>y.state.subscribe({next:oe=>{yU(W.name,oe.name,W.exact)&&xU(oe,W.formState||p,Ct,W.reRenderRoot)&&W.callback(xe(U(U({values:U({},o)},n),oe),{defaultValues:a}))}}).unsubscribe,be=W=>(l.mount=!0,x=U(U({},x),W.formState),ke(xe(U({},W),{formState:x}))),Ce=(W,oe={})=>{for(const q of W?Eu(W):d.mount)d.mount.delete(q),d.array.delete(q),oe.keepValue||(Bn(s,q),Bn(o,q)),!oe.keepError&&Bn(n.errors,q),!oe.keepDirty&&Bn(n.dirtyFields,q),!oe.keepTouched&&Bn(n.touchedFields,q),!oe.keepIsValidating&&Bn(n.validatingFields,q),!t.shouldUnregister&&!oe.keepDefaultValue&&Bn(a,q);y.state.next({values:Kn(o)}),y.state.next(U(U({},n),oe.keepDirty?{isDirty:$()}:{})),!oe.keepIsValid&&_()},ze=({disabled:W,name:oe})=>{(Qs(W)&&l.mount||W||d.disabled.has(oe))&&(W?d.disabled.add(oe):d.disabled.delete(oe))},tt=(W,oe={})=>{let q=Fe(s,W);const Se=Qs(oe.disabled)||Qs(t.disabled);return hn(s,W,xe(U({},q||{}),{_f:U(xe(U({},q&&q._f?q._f:{ref:{name:W}}),{name:W,mount:!0}),oe)})),d.mount.add(W),q?ze({disabled:Qs(oe.disabled)?oe.disabled:t.disabled,name:W}):R(W,!0,oe.value),xe(U(U({},Se?{disabled:oe.disabled||t.disabled}:{}),t.progressive?{required:!!oe.required,min:fu(oe.min),max:fu(oe.max),minLength:fu(oe.minLength),maxLength:fu(oe.maxLength),pattern:fu(oe.pattern)}:{}),{name:W,onChange:Y,onBlur:Y,ref:Re=>{if(Re){tt(W,oe),q=Fe(s,W);const Oe=Mn(Re.value)&&Re.querySelectorAll&&Re.querySelectorAll("input,select,textarea")[0]||Re,Ue=dU(Oe),$e=q._f.refs||[];if(Ue?$e.find(Ke=>Ke===Oe):Oe===q._f.ref)return;hn(s,W,{_f:U(U({},q._f),Ue?{refs:[...$e.filter(Vg),Oe,...Array.isArray(Fe(a,W))?[{}]:[]],ref:{type:Oe.type,name:W}}:{ref:Oe})}),R(W,!1,void 0,Oe)}else q=Fe(s,W,{}),q._f&&(q._f.mount=!1),(t.shouldUnregister||oe.shouldUnregister)&&!(aE(d.array,W)&&l.action)&&d.unMount.add(W)}})},Ve=()=>t.shouldFocusError&&Tu(s,Q,d.mount),Et=W=>{Qs(W)&&(y.state.next({disabled:W}),Tu(s,(oe,q)=>{const Se=Fe(s,q);Se&&(oe.disabled=Se._f.disabled||W,Array.isArray(Se._f.refs)&&Se._f.refs.forEach(Re=>{Re.disabled=Se._f.disabled||W}))},0,!1))},lt=(W,oe)=>q=>pe(null,null,function*(){let Se;q&&(q.preventDefault&&q.preventDefault(),q.persist&&q.persist());let Re=Kn(o);if(y.state.next({isSubmitting:!0}),t.resolver){const{errors:Oe,values:Ue}=yield z();n.errors=Oe,Re=Kn(Ue)}else yield V(s);if(d.disabled.size)for(const Oe of d.disabled)Bn(Re,Oe);if(Bn(n.errors,"root"),zs(n.errors)){y.state.next({errors:{}});try{yield W(Re,q)}catch(Oe){Se=Oe}}else oe&&(yield oe(U({},n.errors),q)),Ve(),setTimeout(Ve);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:zs(n.errors)&&!Se,submitCount:n.submitCount+1,errors:n.errors}),Se)throw Se}),yt=(W,oe={})=>{Fe(s,W)&&(Mn(oe.defaultValue)?B(W,Kn(Fe(a,W))):(B(W,oe.defaultValue),hn(a,W,Kn(oe.defaultValue))),oe.keepTouched||Bn(n.touchedFields,W),oe.keepDirty||(Bn(n.dirtyFields,W),n.isDirty=oe.defaultValue?$(W,Kn(Fe(a,W))):$()),oe.keepError||(Bn(n.errors,W),p.isValid&&_()),y.state.next(U({},n)))},De=(W,oe={})=>{const q=W?Kn(W):a,Se=Kn(q),Re=zs(W),Oe=Re?a:Se;if(oe.keepDefaultValues||(a=q),!oe.keepValues){if(oe.keepDirtyValues){const Ue=new Set([...d.mount,...Object.keys(du(a,o))]);for(const $e of Array.from(Ue))Fe(n.dirtyFields,$e)?hn(Oe,$e,Fe(o,$e)):B($e,Fe(Oe,$e))}else{if(ey&&Mn(W))for(const Ue of d.mount){const $e=Fe(s,Ue);if($e&&$e._f){const Ke=Array.isArray($e._f.refs)?$e._f.refs[0]:$e._f.ref;if(Ch(Ke)){const bt=Ke.closest("form");if(bt){bt.reset();break}}}}if(oe.keepFieldsRef)for(const Ue of d.mount)B(Ue,Fe(Oe,Ue));else s={}}o=t.shouldUnregister?oe.keepDefaultValues?Kn(a):{}:Kn(Oe),y.array.next({values:U({},Oe)}),y.state.next({values:U({},Oe)})}d={mount:oe.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!p.isValid||!!oe.keepIsValid||!!oe.keepDirtyValues,l.watch=!!t.shouldUnregister,y.state.next({submitCount:oe.keepSubmitCount?n.submitCount:0,isDirty:Re?!1:oe.keepDirty?n.isDirty:!!(oe.keepDefaultValues&&!Ma(W,a)),isSubmitted:oe.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Re?{}:oe.keepDirtyValues?oe.keepDefaultValues&&o?du(a,o):n.dirtyFields:oe.keepDefaultValues&&W?du(a,W):oe.keepDirty?n.dirtyFields:{},touchedFields:oe.keepTouched?n.touchedFields:{},errors:oe.keepErrors?n.errors:{},isSubmitSuccessful:oe.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},mt=(W,oe)=>De(Dr(W)?W(o):W,oe),Yt=(W,oe={})=>{const q=Fe(s,W),Se=q&&q._f;if(Se){const Re=Se.refs?Se.refs[0]:Se.ref;Re.focus&&(Re.focus(),oe.shouldSelect&&Dr(Re.select)&&Re.select())}},Ct=W=>{n=U(U({},n),W)},Xt={control:{register:tt,unregister:Ce,getFieldState:ae,handleSubmit:lt,setError:X,_subscribe:ke,_runSchema:z,_focusError:Ve,_getWatch:Z,_getDirty:$,_setValid:_,_setFieldArray:N,_setDisabledField:ze,_setErrors:C,_getFieldArray:le,_reset:De,_resetDefaultValues:()=>Dr(t.defaultValues)&&t.defaultValues().then(W=>{mt(W,t.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:te,_disableForm:Et,_subjects:y,_proxyFormState:p,get _fields(){return s},get _formValues(){return o},get _state(){return l},set _state(W){l=W},get _defaultValues(){return a},get _names(){return d},set _names(W){d=W},get _formState(){return n},get _options(){return t},set _options(W){t=U(U({},t),W)}},subscribe:be,trigger:ve,register:tt,handleSubmit:lt,watch:he,setValue:B,getValues:H,reset:mt,resetField:yt,clearErrors:ye,unregister:Ce,setError:X,setFocus:Yt,getFieldState:ae};return xe(U({},Xt),{formControl:Xt})}function lh(e={}){const t=_e.useRef(void 0),n=_e.useRef(void 0),[s,a]=_e.useState({isDirty:!1,isValidating:!1,isLoading:Dr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Dr(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current=xe(U({},e.formControl),{formState:s}),e.defaultValues&&!Dr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const l=jU(e),{formControl:d}=l,f=Me(l,["formControl"]);t.current=xe(U({},f),{formState:s})}const o=t.current.control;return o._options=e,ry(()=>{const d=o._subscribe({formState:o._proxyFormState,callback:()=>a(U({},o._formState)),reRenderRoot:!0});return a(f=>xe(U({},f),{isReady:!0})),o._formState.isReady=!0,d},[o]),_e.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),_e.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),_e.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),_e.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),_e.useEffect(()=>{if(o._proxyFormState.isDirty){const d=o._getDirty();d!==s.isDirty&&o._subjects.state.next({isDirty:d})}},[o,s.isDirty]),_e.useEffect(()=>{e.values&&!Ma(e.values,n.current)?(o._reset(e.values,U({keepFieldsRef:!0},o._options.resetOptions)),n.current=e.values,a(d=>U({},d))):o._resetDefaultValues()},[o,e.values]),_e.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next(U({},o._formState))),o._removeUnmounted()}),t.current.formState=oE(s,o),t.current}const $1=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,q1=r2,SU=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return q1(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:o}=t,l=Object.keys(a).map(h=>{const p=n==null?void 0:n[h],x=o==null?void 0:o[h];if(p===null)return null;const y=$1(p)||$1(x);return a[h][y]}),d=n&&Object.entries(n).reduce((h,p)=>{let[x,y]=p;return y===void 0||(h[x]=y),h},{}),f=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((h,p)=>{let w=p,{class:x,className:y}=w,b=Me(w,["class","className"]);return Object.entries(b).every(_=>{let[j,N]=_;return Array.isArray(N)?N.includes(U(U({},o),d)[j]):U(U({},o),d)[j]===N})?[...h,x,y]:h},[]);return q1(e,l,f,n==null?void 0:n.class,n==null?void 0:n.className)},NU=SU("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Ie(o){var l=o,{className:e,variant:t,size:n,asChild:s=!1}=l,a=Me(l,["className","variant","size","asChild"]);const d=s?xD:"button";return u.jsx(d,U({"data-slot":"button",className:bn(NU({variant:t,size:n,className:e}))},a))}var Y1=1,EU=.9,TU=.8,kU=.17,$g=.1,qg=.999,CU=.9999,OU=.99,AU=/[\\\/_+.#"@\[\(\{&]/,RU=/[\\\/_+.#"@\[\(\{&]/g,MU=/[\s-]/,pE=/[\s-]/g;function L0(e,t,n,s,a,o,l){if(o===t.length)return a===e.length?Y1:OU;var d=`${a},${o}`;if(l[d]!==void 0)return l[d];for(var f=s.charAt(o),h=n.indexOf(f,a),p=0,x,y,b,w;h>=0;)x=L0(e,t,n,s,h+1,o+1,l),x>p&&(h===a?x*=Y1:AU.test(e.charAt(h-1))?(x*=TU,b=e.slice(a,h-1).match(RU),b&&a>0&&(x*=Math.pow(qg,b.length))):MU.test(e.charAt(h-1))?(x*=EU,w=e.slice(a,h-1).match(pE),w&&a>0&&(x*=Math.pow(qg,w.length))):(x*=kU,a>0&&(x*=Math.pow(qg,h-a))),e.charAt(h)!==t.charAt(o)&&(x*=CU)),(x<$g&&n.charAt(h-1)===s.charAt(o+1)||s.charAt(o+1)===s.charAt(o)&&n.charAt(h-1)!==s.charAt(o))&&(y=L0(e,t,n,s,h+1,o+2,l),y*$g>x&&(x=y*$g)),x>p&&(p=x),h=n.indexOf(f,h+1);return l[d]=p,p}function I1(e){return e.toLowerCase().replace(pE," ")}function DU(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,L0(e,t,I1(e),I1(t),0,0,{})}var em="Dialog",[gE,hF]=bx(em),[PU,Ur]=gE(em),xE=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,d=S.useRef(null),f=S.useRef(null),[h,p]=zN({prop:s,defaultProp:a!=null?a:!1,onChange:o,caller:em});return u.jsx(PU,{scope:t,triggerRef:d,contentRef:f,contentId:ta(),titleId:ta(),descriptionId:ta(),open:h,onOpenChange:p,onOpenToggle:S.useCallback(()=>p(x=>!x),[p]),modal:l,children:n})};xE.displayName=em;var yE="DialogTrigger",bE=S.forwardRef((e,t)=>{const l=e,{__scopeDialog:n}=l,s=Me(l,["__scopeDialog"]),a=Ur(yE,n),o=zr(t,a.triggerRef);return u.jsx(jn.button,xe(U({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":cy(a.open)},s),{ref:o,onClick:Js(e.onClick,a.onOpenToggle)}))});bE.displayName=yE;var oy="DialogPortal",[LU,vE]=gE(oy,{forceMount:void 0}),wE=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:a}=e,o=Ur(oy,t);return u.jsx(LU,{scope:t,forceMount:n,children:S.Children.map(s,l=>u.jsx(Gl,{present:n||o.open,children:u.jsx(Ax,{asChild:!0,container:a,children:l})}))})};wE.displayName=oy;var Rh="DialogOverlay",_E=S.forwardRef((e,t)=>{const n=vE(Rh,e.__scopeDialog),l=e,{forceMount:s=n.forceMount}=l,a=Me(l,["forceMount"]),o=Ur(Rh,e.__scopeDialog);return o.modal?u.jsx(Gl,{present:s||o.open,children:u.jsx(UU,xe(U({},a),{ref:t}))}):null});_E.displayName=Rh;var zU=Vh("DialogOverlay.RemoveScroll"),UU=S.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Me(o,["__scopeDialog"]),a=Ur(Rh,n);return u.jsx(Rx,{as:zU,allowPinchZoom:!0,shards:[a.contentRef],children:u.jsx(jn.div,xe(U({"data-state":cy(a.open)},s),{ref:t,style:U({pointerEvents:"auto"},s.style)}))})}),Co="DialogContent",jE=S.forwardRef((e,t)=>{const n=vE(Co,e.__scopeDialog),l=e,{forceMount:s=n.forceMount}=l,a=Me(l,["forceMount"]),o=Ur(Co,e.__scopeDialog);return u.jsx(Gl,{present:s||o.open,children:o.modal?u.jsx(BU,xe(U({},a),{ref:t})):u.jsx(FU,xe(U({},a),{ref:t}))})});jE.displayName=Co;var BU=S.forwardRef((e,t)=>{const n=Ur(Co,e.__scopeDialog),s=S.useRef(null),a=zr(t,n.contentRef,s);return S.useEffect(()=>{const o=s.current;if(o)return BN(o)},[]),u.jsx(SE,xe(U({},e),{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Js(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Js(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0;(l.button===2||d)&&o.preventDefault()}),onFocusOutside:Js(e.onFocusOutside,o=>o.preventDefault())}))}),FU=S.forwardRef((e,t)=>{const n=Ur(Co,e.__scopeDialog),s=S.useRef(!1),a=S.useRef(!1);return u.jsx(SE,xe(U({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,d;(l=e.onCloseAutoFocus)==null||l.call(e,o),o.defaultPrevented||(s.current||(d=n.triggerRef.current)==null||d.focus(),o.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:o=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=o.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}}))}),SE=S.forwardRef((e,t)=>{const p=e,{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o}=p,l=Me(p,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),d=Ur(Co,n),f=S.useRef(null),h=zr(t,f);return fN(),u.jsxs(u.Fragment,{children:[u.jsx(wx,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:o,children:u.jsx(vx,xe(U({role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":cy(d.open)},l),{ref:h,onDismiss:()=>d.onOpenChange(!1)}))}),u.jsxs(u.Fragment,{children:[u.jsx(HU,{titleId:d.titleId}),u.jsx($U,{contentRef:f,descriptionId:d.descriptionId})]})]})}),ly="DialogTitle",NE=S.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Me(o,["__scopeDialog"]),a=Ur(ly,n);return u.jsx(jn.h2,xe(U({id:a.titleId},s),{ref:t}))});NE.displayName=ly;var EE="DialogDescription",TE=S.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Me(o,["__scopeDialog"]),a=Ur(EE,n);return u.jsx(jn.p,xe(U({id:a.descriptionId},s),{ref:t}))});TE.displayName=EE;var kE="DialogClose",CE=S.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Me(o,["__scopeDialog"]),a=Ur(kE,n);return u.jsx(jn.button,xe(U({type:"button"},s),{ref:t,onClick:Js(e.onClick,()=>a.onOpenChange(!1))}))});CE.displayName=kE;function cy(e){return e?"open":"closed"}var OE="DialogTitleWarning",[mF,AE]=pD(OE,{contentName:Co,titleName:ly,docsSlug:"dialog"}),HU=({titleId:e})=>{const t=AE(OE),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return S.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},VU="DialogDescriptionWarning",$U=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${AE(VU).contentName}}.`;return S.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},uy=xE,qU=bE,dy=wE,fy=_E,hy=jE,RE=NE,ME=TE,DE=CE,hu='[cmdk-group=""]',Yg='[cmdk-group-items=""]',YU='[cmdk-group-heading=""]',PE='[cmdk-item=""]',W1=`${PE}:not([aria-disabled="true"])`,z0="cmdk-item-select",Ol="data-value",IU=(e,t,n)=>DU(e,t,n),LE=S.createContext(void 0),Qu=()=>S.useContext(LE),zE=S.createContext(void 0),my=()=>S.useContext(zE),UE=S.createContext(void 0),BE=S.forwardRef((e,t)=>{let n=Al(()=>{var X,he;return{search:"",value:(he=(X=e.value)!=null?X:e.defaultValue)!=null?he:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=Al(()=>new Set),a=Al(()=>new Map),o=Al(()=>new Map),l=Al(()=>new Set),d=FE(e),ye=e,{label:f,children:h,value:p,onValueChange:x,filter:y,shouldFilter:b,loop:w,disablePointerSelection:_=!1,vimBindings:j=!0}=ye,N=Me(ye,["label","children","value","onValueChange","filter","shouldFilter","loop","disablePointerSelection","vimBindings"]),k=ta(),C=ta(),R=ta(),A=S.useRef(null),M=sB();Oo(()=>{if(p!==void 0){let X=p.trim();n.current.value=X,z.emit()}},[p]),Oo(()=>{M(6,le)},[]);let z=S.useMemo(()=>({subscribe:X=>(l.current.add(X),()=>l.current.delete(X)),snapshot:()=>n.current,setState:(X,he,ke)=>{var be,Ce,ze,tt;if(!Object.is(n.current[X],he)){if(n.current[X]=he,X==="search")Z(),te(),M(1,$);else if(X==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Ve=document.getElementById(R);Ve?Ve.focus():(be=document.getElementById(k))==null||be.focus()}if(M(7,()=>{var Ve;n.current.selectedItemId=(Ve=J())==null?void 0:Ve.id,z.emit()}),ke||M(5,le),((Ce=d.current)==null?void 0:Ce.value)!==void 0){let Ve=he!=null?he:"";(tt=(ze=d.current).onValueChange)==null||tt.call(ze,Ve);return}}z.emit()}},emit:()=>{l.current.forEach(X=>X())}}),[]),P=S.useMemo(()=>({value:(X,he,ke)=>{var be;he!==((be=o.current.get(X))==null?void 0:be.value)&&(o.current.set(X,{value:he,keywords:ke}),n.current.filtered.items.set(X,V(he,ke)),M(2,()=>{te(),z.emit()}))},item:(X,he)=>(s.current.add(X),he&&(a.current.has(he)?a.current.get(he).add(X):a.current.set(he,new Set([X]))),M(3,()=>{Z(),te(),n.current.value||$(),z.emit()}),()=>{o.current.delete(X),s.current.delete(X),n.current.filtered.items.delete(X);let ke=J();M(4,()=>{Z(),(ke==null?void 0:ke.getAttribute("id"))===X&&$(),z.emit()})}),group:X=>(a.current.has(X)||a.current.set(X,new Set),()=>{o.current.delete(X),a.current.delete(X)}),filter:()=>d.current.shouldFilter,label:f||e["aria-label"],getDisablePointerSelection:()=>d.current.disablePointerSelection,listId:k,inputId:R,labelId:C,listInnerRef:A}),[]);function V(X,he){var ke,be;let Ce=(be=(ke=d.current)==null?void 0:ke.filter)!=null?be:IU;return X?Ce(X,n.current.search,he):0}function te(){if(!n.current.search||d.current.shouldFilter===!1)return;let X=n.current.filtered.items,he=[];n.current.filtered.groups.forEach(be=>{let Ce=a.current.get(be),ze=0;Ce.forEach(tt=>{let Ve=X.get(tt);ze=Math.max(Ve,ze)}),he.push([be,ze])});let ke=A.current;I().sort((be,Ce)=>{var ze,tt;let Ve=be.getAttribute("id"),Et=Ce.getAttribute("id");return((ze=X.get(Et))!=null?ze:0)-((tt=X.get(Ve))!=null?tt:0)}).forEach(be=>{let Ce=be.closest(Yg);Ce?Ce.appendChild(be.parentElement===Ce?be:be.closest(`${Yg} > *`)):ke.appendChild(be.parentElement===ke?be:be.closest(`${Yg} > *`))}),he.sort((be,Ce)=>Ce[1]-be[1]).forEach(be=>{var Ce;let ze=(Ce=A.current)==null?void 0:Ce.querySelector(`${hu}[${Ol}="${encodeURIComponent(be[0])}"]`);ze==null||ze.parentElement.appendChild(ze)})}function $(){let X=I().find(ke=>ke.getAttribute("aria-disabled")!=="true"),he=X==null?void 0:X.getAttribute(Ol);z.setState("value",he||void 0)}function Z(){var X,he,ke,be;if(!n.current.search||d.current.shouldFilter===!1){n.current.filtered.count=s.current.size;return}n.current.filtered.groups=new Set;let Ce=0;for(let ze of s.current){let tt=(he=(X=o.current.get(ze))==null?void 0:X.value)!=null?he:"",Ve=(be=(ke=o.current.get(ze))==null?void 0:ke.keywords)!=null?be:[],Et=V(tt,Ve);n.current.filtered.items.set(ze,Et),Et>0&&Ce++}for(let[ze,tt]of a.current)for(let Ve of tt)if(n.current.filtered.items.get(Ve)>0){n.current.filtered.groups.add(ze);break}n.current.filtered.count=Ce}function le(){var X,he,ke;let be=J();be&&(((X=be.parentElement)==null?void 0:X.firstChild)===be&&((ke=(he=be.closest(hu))==null?void 0:he.querySelector(YU))==null||ke.scrollIntoView({block:"nearest"})),be.scrollIntoView({block:"nearest"}))}function J(){var X;return(X=A.current)==null?void 0:X.querySelector(`${PE}[aria-selected="true"]`)}function I(){var X;return Array.from(((X=A.current)==null?void 0:X.querySelectorAll(W1))||[])}function B(X){let he=I()[X];he&&z.setState("value",he.getAttribute(Ol))}function Y(X){var he;let ke=J(),be=I(),Ce=be.findIndex(tt=>tt===ke),ze=be[Ce+X];(he=d.current)!=null&&he.loop&&(ze=Ce+X<0?be[be.length-1]:Ce+X===be.length?be[0]:be[Ce+X]),ze&&z.setState("value",ze.getAttribute(Ol))}function Q(X){let he=J(),ke=he==null?void 0:he.closest(hu),be;for(;ke&&!be;)ke=X>0?tB(ke,hu):nB(ke,hu),be=ke==null?void 0:ke.querySelector(W1);be?z.setState("value",be.getAttribute(Ol)):Y(X)}let ve=()=>B(I().length-1),H=X=>{X.preventDefault(),X.metaKey?ve():X.altKey?Q(1):Y(1)},ae=X=>{X.preventDefault(),X.metaKey?B(0):X.altKey?Q(-1):Y(-1)};return S.createElement(jn.div,xe(U({ref:t,tabIndex:-1},N),{"cmdk-root":"",onKeyDown:X=>{var he;(he=N.onKeyDown)==null||he.call(N,X);let ke=X.nativeEvent.isComposing||X.keyCode===229;if(!(X.defaultPrevented||ke))switch(X.key){case"n":case"j":{j&&X.ctrlKey&&H(X);break}case"ArrowDown":{H(X);break}case"p":case"k":{j&&X.ctrlKey&&ae(X);break}case"ArrowUp":{ae(X);break}case"Home":{X.preventDefault(),B(0);break}case"End":{X.preventDefault(),ve();break}case"Enter":{X.preventDefault();let be=J();if(be){let Ce=new Event(z0);be.dispatchEvent(Ce)}}}}}),S.createElement("label",{"cmdk-label":"",htmlFor:P.inputId,id:P.labelId,style:aB},f),tm(e,X=>S.createElement(zE.Provider,{value:z},S.createElement(LE.Provider,{value:P},X))))}),WU=S.forwardRef((e,t)=>{var n,s;let a=ta(),o=S.useRef(null),l=S.useContext(UE),d=Qu(),f=FE(e),h=(s=(n=f.current)==null?void 0:n.forceMount)!=null?s:l==null?void 0:l.forceMount;Oo(()=>{if(!h)return d.item(a,l==null?void 0:l.id)},[h]);let p=HE(a,o,[e.value,e.children,o],e.keywords),x=my(),y=Oi(z=>z.value&&z.value===p.current),b=Oi(z=>h||d.filter()===!1?!0:z.search?z.filtered.items.get(a)>0:!0);S.useEffect(()=>{let z=o.current;if(!(!z||e.disabled))return z.addEventListener(z0,w),()=>z.removeEventListener(z0,w)},[b,e.onSelect,e.disabled]);function w(){var z,P;_(),(P=(z=f.current).onSelect)==null||P.call(z,p.current)}function _(){x.setState("value",p.current,!0)}if(!b)return null;let M=e,{disabled:j,value:N,onSelect:k,forceMount:C,keywords:R}=M,A=Me(M,["disabled","value","onSelect","forceMount","keywords"]);return S.createElement(jn.div,xe(U({ref:No(o,t)},A),{id:a,"cmdk-item":"",role:"option","aria-disabled":!!j,"aria-selected":!!y,"data-disabled":!!j,"data-selected":!!y,onPointerMove:j||d.getDisablePointerSelection()?void 0:_,onClick:j?void 0:w}),e.children)}),XU=S.forwardRef((e,t)=>{let b=e,{heading:n,children:s,forceMount:a}=b,o=Me(b,["heading","children","forceMount"]),l=ta(),d=S.useRef(null),f=S.useRef(null),h=ta(),p=Qu(),x=Oi(w=>a||p.filter()===!1?!0:w.search?w.filtered.groups.has(l):!0);Oo(()=>p.group(l),[]),HE(l,d,[e.value,e.heading,f]);let y=S.useMemo(()=>({id:l,forceMount:a}),[a]);return S.createElement(jn.div,xe(U({ref:No(d,t)},o),{"cmdk-group":"",role:"presentation",hidden:x?void 0:!0}),n&&S.createElement("div",{ref:f,"cmdk-group-heading":"","aria-hidden":!0,id:h},n),tm(e,w=>S.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?h:void 0},S.createElement(UE.Provider,{value:y},w))))}),GU=S.forwardRef((e,t)=>{let l=e,{alwaysRender:n}=l,s=Me(l,["alwaysRender"]),a=S.useRef(null),o=Oi(d=>!d.search);return!n&&!o?null:S.createElement(jn.div,xe(U({ref:No(a,t)},s),{"cmdk-separator":"",role:"separator"}))}),KU=S.forwardRef((e,t)=>{let h=e,{onValueChange:n}=h,s=Me(h,["onValueChange"]),a=e.value!=null,o=my(),l=Oi(p=>p.search),d=Oi(p=>p.selectedItemId),f=Qu();return S.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),S.createElement(jn.input,xe(U({ref:t},s),{"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":f.listId,"aria-labelledby":f.labelId,"aria-activedescendant":d,id:f.inputId,type:"text",value:a?e.value:l,onChange:p=>{a||o.setState("search",p.target.value),n==null||n(p.target.value)}}))}),QU=S.forwardRef((e,t)=>{let h=e,{children:n,label:s="Suggestions"}=h,a=Me(h,["children","label"]),o=S.useRef(null),l=S.useRef(null),d=Oi(p=>p.selectedItemId),f=Qu();return S.useEffect(()=>{if(l.current&&o.current){let p=l.current,x=o.current,y,b=new ResizeObserver(()=>{y=requestAnimationFrame(()=>{let w=p.offsetHeight;x.style.setProperty("--cmdk-list-height",w.toFixed(1)+"px")})});return b.observe(p),()=>{cancelAnimationFrame(y),b.unobserve(p)}}},[]),S.createElement(jn.div,xe(U({ref:No(o,t)},a),{"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":d,"aria-label":s,id:f.listId}),tm(e,p=>S.createElement("div",{ref:No(l,f.listInnerRef),"cmdk-list-sizer":""},p)))}),ZU=S.forwardRef((e,t)=>{let f=e,{open:n,onOpenChange:s,overlayClassName:a,contentClassName:o,container:l}=f,d=Me(f,["open","onOpenChange","overlayClassName","contentClassName","container"]);return S.createElement(uy,{open:n,onOpenChange:s},S.createElement(dy,{container:l},S.createElement(fy,{"cmdk-overlay":"",className:a}),S.createElement(hy,{"aria-label":e.label,"cmdk-dialog":"",className:o},S.createElement(BE,U({ref:t},d)))))}),JU=S.forwardRef((e,t)=>Oi(n=>n.filtered.count===0)?S.createElement(jn.div,xe(U({ref:t},e),{"cmdk-empty":"",role:"presentation"})):null),eB=S.forwardRef((e,t)=>{let l=e,{progress:n,children:s,label:a="Loading..."}=l,o=Me(l,["progress","children","label"]);return S.createElement(jn.div,xe(U({ref:t},o),{"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a}),tm(e,d=>S.createElement("div",{"aria-hidden":!0},d)))}),ec=Object.assign(BE,{List:QU,Item:WU,Input:KU,Group:XU,Separator:GU,Dialog:ZU,Empty:JU,Loading:eB});function tB(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function nB(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function FE(e){let t=S.useRef(e);return Oo(()=>{t.current=e}),t}var Oo=typeof window=="undefined"?S.useEffect:S.useLayoutEffect;function Al(e){let t=S.useRef();return t.current===void 0&&(t.current=e()),t}function Oi(e){let t=my(),n=()=>e(t.snapshot());return S.useSyncExternalStore(t.subscribe,n,n)}function HE(e,t,n,s=[]){let a=S.useRef(),o=Qu();return Oo(()=>{var l;let d=(()=>{var h;for(let p of n){if(typeof p=="string")return p.trim();if(typeof p=="object"&&"current"in p)return p.current?(h=p.current.textContent)==null?void 0:h.trim():a.current}})(),f=s.map(h=>h.trim());o.value(e,d,f),(l=t.current)==null||l.setAttribute(Ol,d),a.current=d}),a}var sB=()=>{let[e,t]=S.useState(),n=Al(()=>new Map);return Oo(()=>{n.current.forEach(s=>s()),n.current=new Map},[e]),(s,a)=>{n.current.set(s,a),t({})}};function rB(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function tm({asChild:e,children:t},n){return e&&S.isValidElement(t)?S.cloneElement(rB(t),{ref:t.ref},n(t.props.children)):n(t)}var aB={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function Ss(t){var e=Me(t,[]);return u.jsx(uy,U({"data-slot":"dialog"},e))}function iB(t){var e=Me(t,[]);return u.jsx(qU,U({"data-slot":"dialog-trigger"},e))}function oB(t){var e=Me(t,[]);return u.jsx(dy,U({"data-slot":"dialog-portal"},e))}function lB(t){var e=Me(t,[]);return u.jsx(DE,U({"data-slot":"dialog-close"},e))}function cB(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx(fy,U({"data-slot":"dialog-overlay",className:bn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e)},t))}function Ns(a){var o=a,{className:e,children:t,showCloseButton:n=!0}=o,s=Me(o,["className","children","showCloseButton"]);return u.jsxs(oB,{"data-slot":"dialog-portal",children:[u.jsx(cB,{}),u.jsxs(hy,xe(U({"data-slot":"dialog-content",className:bn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e)},s),{children:[t,n&&u.jsxs(DE,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[u.jsx(hD,{}),u.jsx("span",{className:"sr-only",children:"Close"})]})]}))]})}function Es(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx("div",U({"data-slot":"dialog-header",className:bn("flex flex-col gap-2 text-center sm:text-left",e)},t))}function Ts(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx("div",U({"data-slot":"dialog-footer",className:bn("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e)},t))}function ks(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx(RE,U({"data-slot":"dialog-title",className:bn("text-lg leading-none font-semibold",e)},t))}function _o(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx(ME,U({"data-slot":"dialog-description",className:bn("text-muted-foreground text-sm",e)},t))}function uB(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx(ec,U({"data-slot":"command",className:bn("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e)},t))}function dB(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[u.jsx(Fh,{className:"size-4 shrink-0 opacity-50"}),u.jsx(ec.Input,U({"data-slot":"command-input",className:bn("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e)},t))]})}function fB(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx(ec.List,U({"data-slot":"command-list",className:bn("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e)},t))}function Ig(t){var e=Me(t,[]);return u.jsx(ec.Empty,U({"data-slot":"command-empty",className:"py-6 text-center text-sm"},e))}function hB(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx(ec.Group,U({"data-slot":"command-group",className:bn("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e)},t))}function mB(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx(ec.Item,U({"data-slot":"command-item",className:bn("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e)},t))}function xi({doctype:e,value:t="",onChange:n,placeholder:s="Select option...",className:a="w-[200px]",fields:o=["name"],filters:l=[],displayField:d="name",valueField:f="name",disabled:h=!1,limit:p=20}){const[x,y]=S.useState(!1),[b,w]=S.useState(""),_=S.useMemo(()=>{let z={};if(l.length>0&&l.forEach(V=>{if(Array.isArray(V)&&V.length>=3){const[te,$,Z]=V;$==="="&&(z[te]=Z)}}),b.trim()&&(z[d]=["like",`%${b}%`]),Object.keys(z).length===0&&b.trim())return[[d,"like",`%${b}%`]];const P=[];return Object.entries(z).forEach(([V,te])=>{Array.isArray(te)?P.push([V,te[0],te[1]]):P.push([V,"=",te])}),P.length>0?P:void 0},[b,l,d]),{data:j,isLoading:N,error:k}=yn(e,{fields:[...new Set([...o,d,f])],filters:_,limit:p,orderBy:{field:d,order:"asc"}}),C=S.useMemo(()=>!j||!Array.isArray(j)?[]:j.map(z=>({value:z[f],label:z[d]})),[j,d,f]),R=C.find(z=>z.value===t),A=z=>{n(z===t?"":z),y(!1)},M=z=>{w(z)};return u.jsxs(Px,{open:x,onOpenChange:y,children:[u.jsx(Lx,{asChild:!0,children:u.jsxs(Ie,{variant:"outline",role:"combobox","aria-expanded":x,className:bn("justify-between",a),disabled:h,children:[(R==null?void 0:R.label)||s,u.jsx(mM,{className:"opacity-50"})]})}),u.jsx(zx,{className:bn("p-0",a),children:u.jsxs(uB,{shouldFilter:!1,children:[u.jsx(dB,{placeholder:`Search ${e.toLowerCase()}...`,className:"h-9",value:b,onValueChange:M}),u.jsxs(fB,{children:[N&&u.jsx(Ig,{children:"Loading..."}),k&&u.jsx(Ig,{children:"Error loading data."}),!N&&!k&&C.length===0&&u.jsxs(Ig,{children:["No ",e.toLowerCase()," found."]}),!N&&!k&&C.length>0&&u.jsx(hB,{children:C.map(z=>u.jsxs(mB,{value:z.value,onSelect:A,children:[z.label,u.jsx(cM,{className:bn("ml-auto",t===z.value?"opacity-100":"opacity-0")})]},z.value))})]})]})})]})}function $t(s){var a=s,{className:e,type:t}=a,n=Me(a,["className","type"]);return u.jsx("input",U({type:t,"data-slot":"input",className:bn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e)},n))}var pB="Label",VE=S.forwardRef((e,t)=>u.jsx(jn.label,xe(U({},e),{ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}})));VE.displayName=pB;var gB=VE;function He(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx(gB,U({"data-slot":"label",className:bn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e)},t))}function xB(e){if(typeof document=="undefined")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const $E=_e.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Zu=()=>{const e=_e.useContext($E);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};xB(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function yB(){const e=navigator.userAgent;return typeof window!="undefined"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function bB(){return py(/^Mac/)}function vB(){return py(/^iPhone/)}function X1(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function wB(){return py(/^iPad/)||bB()&&navigator.maxTouchPoints>1}function qE(){return vB()||wB()}function py(e){return typeof window!="undefined"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const _B=24,jB=typeof window!="undefined"?S.useLayoutEffect:S.useEffect;function G1(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const Wg=typeof document!="undefined"&&window.visualViewport;function K1(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function YE(e){for(K1(e)&&(e=e.parentElement);e&&!K1(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const SB=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Uf=0,Xg;function NB(e={}){let{isDisabled:t}=e;jB(()=>{if(!t)return Uf++,Uf===1&&qE()&&(Xg=EB()),()=>{Uf--,Uf===0&&(Xg==null||Xg())}},[t])}function EB(){let e,t=0,n=x=>{e=YE(x.target),!(e===document.documentElement&&e===document.body)&&(t=x.changedTouches[0].pageY)},s=x=>{if(!e||e===document.documentElement||e===document.body){x.preventDefault();return}let y=x.changedTouches[0].pageY,b=e.scrollTop,w=e.scrollHeight-e.clientHeight;w!==0&&((b<=0&&y>t||b>=w&&y<t)&&x.preventDefault(),t=y)},a=x=>{let y=x.target;U0(y)&&y!==document.activeElement&&(x.preventDefault(),y.style.transform="translateY(-2000px)",y.focus(),requestAnimationFrame(()=>{y.style.transform=""}))},o=x=>{let y=x.target;U0(y)&&(y.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{y.style.transform="",Wg&&(Wg.height<window.innerHeight?requestAnimationFrame(()=>{Q1(y)}):Wg.addEventListener("resize",()=>Q1(y),{once:!0}))}))},l=()=>{window.scrollTo(0,0)},d=window.pageXOffset,f=window.pageYOffset,h=G1(TB(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let p=G1(mu(document,"touchstart",n,{passive:!1,capture:!0}),mu(document,"touchmove",s,{passive:!1,capture:!0}),mu(document,"touchend",a,{passive:!1,capture:!0}),mu(document,"focus",o,!0),mu(window,"scroll",l));return()=>{h(),p(),window.scrollTo(d,f)}}function TB(e,t,n){let s=e.style[t];return e.style[t]=n,()=>{e.style[t]=s}}function mu(e,t,n,s){return e.addEventListener(t,n,s),()=>{e.removeEventListener(t,n,s)}}function Q1(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=YE(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let s=n.getBoundingClientRect().top,a=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom;const l=n.getBoundingClientRect().bottom+_B;o>l&&(n.scrollTop+=a-s)}e=n.parentElement}}function U0(e){return e instanceof HTMLInputElement&&!SB.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function kB(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function CB(...e){return t=>e.forEach(n=>kB(n,t))}function IE(...e){return S.useCallback(CB(...e),e)}const WE=new WeakMap;function Qn(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let s={};Object.entries(t).forEach(([a,o])=>{if(a.startsWith("--")){e.style.setProperty(a,o);return}s[a]=e.style[a],e.style[a]=o}),!n&&WE.set(e,s)}function OB(e,t){if(!e||!(e instanceof HTMLElement))return;let n=WE.get(e);n&&(e.style[t]=n[t])}const Fn=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Bf(e,t){if(!e)return null;const n=window.getComputedStyle(e),s=n.transform||n.webkitTransform||n.mozTransform;let a=s.match(/^matrix3d\((.+)\)$/);return a?parseFloat(a[1].split(", ")[Fn(t)?13:12]):(a=s.match(/^matrix\((.+)\)$/),a?parseFloat(a[1].split(", ")[Fn(t)?5:4]):null)}function AB(e){return 8*(Math.log(e+1)-2)}function Gg(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function RB(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const _n={DURATION:.5,EASE:[.32,.72,0,1]},XE=.4,MB=.25,DB=100,GE=8,uo=16,B0=26,Kg="vaul-dragging";function KE(e){const t=_e.useRef(e);return _e.useEffect(()=>{t.current=e}),_e.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function PB({defaultProp:e,onChange:t}){const n=_e.useState(e),[s]=n,a=_e.useRef(s),o=KE(t);return _e.useEffect(()=>{a.current!==s&&(o(s),a.current=s)},[s,a,o]),n}function QE({prop:e,defaultProp:t,onChange:n=()=>{}}){const[s,a]=PB({defaultProp:t,onChange:n}),o=e!==void 0,l=o?e:s,d=KE(n),f=_e.useCallback(h=>{if(o){const x=typeof h=="function"?h(e):h;x!==e&&d(x)}else a(h)},[o,e,a,d]);return[l,f]}function LB({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:s,overlayRef:a,fadeFromIndex:o,onSnapPointChange:l,direction:d="bottom",container:f,snapToSequentialPoint:h}){const[p,x]=QE({prop:e,defaultProp:n==null?void 0:n[0],onChange:t}),[y,b]=_e.useState(typeof window!="undefined"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);_e.useEffect(()=>{function z(){b({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",z),()=>window.removeEventListener("resize",z)},[]);const w=_e.useMemo(()=>p===(n==null?void 0:n[n.length-1])||null,[n,p]),_=_e.useMemo(()=>{var z;return(z=n==null?void 0:n.findIndex(P=>P===p))!=null?z:null},[n,p]),j=n&&n.length>0&&(o||o===0)&&!Number.isNaN(o)&&n[o]===p||!n,N=_e.useMemo(()=>{const z=f?{width:f.getBoundingClientRect().width,height:f.getBoundingClientRect().height}:typeof window!="undefined"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var P;return(P=n==null?void 0:n.map(V=>{const te=typeof V=="string";let $=0;if(te&&($=parseInt(V,10)),Fn(d)){const le=te?$:y?V*z.height:0;return y?d==="bottom"?z.height-le:-z.height+le:le}const Z=te?$:y?V*z.width:0;return y?d==="right"?z.width-Z:-z.width+Z:Z}))!=null?P:[]},[n,y,f]),k=_e.useMemo(()=>_!==null?N==null?void 0:N[_]:null,[N,_]),C=_e.useCallback(z=>{var P;const V=(P=N==null?void 0:N.findIndex(te=>te===z))!=null?P:null;l(V),Qn(s.current,{transition:`transform ${_n.DURATION}s cubic-bezier(${_n.EASE.join(",")})`,transform:Fn(d)?`translate3d(0, ${z}px, 0)`:`translate3d(${z}px, 0, 0)`}),N&&V!==N.length-1&&o!==void 0&&V!==o&&V<o?Qn(a.current,{transition:`opacity ${_n.DURATION}s cubic-bezier(${_n.EASE.join(",")})`,opacity:"0"}):Qn(a.current,{transition:`opacity ${_n.DURATION}s cubic-bezier(${_n.EASE.join(",")})`,opacity:"1"}),x(n==null?void 0:n[Math.max(V,0)])},[s.current,n,N,o,a,x]);_e.useEffect(()=>{if(p||e){var z;const P=(z=n==null?void 0:n.findIndex(V=>V===e||V===p))!=null?z:-1;N&&P!==-1&&typeof N[P]=="number"&&C(N[P])}},[p,e,n,N,C]);function R({draggedDistance:z,closeDrawer:P,velocity:V,dismissible:te}){if(o===void 0)return;const $=d==="bottom"||d==="right"?(k!=null?k:0)-z:(k!=null?k:0)+z,Z=_===o-1,le=_===0,J=z>0;if(Z&&Qn(a.current,{transition:`opacity ${_n.DURATION}s cubic-bezier(${_n.EASE.join(",")})`}),!h&&V>2&&!J){te?P():C(N[0]);return}if(!h&&V>2&&J&&N&&n){C(N[n.length-1]);return}const I=N==null?void 0:N.reduce((Y,Q)=>typeof Y!="number"||typeof Q!="number"?Y:Math.abs(Q-$)<Math.abs(Y-$)?Q:Y),B=Fn(d)?window.innerHeight:window.innerWidth;if(V>XE&&Math.abs(z)<B*.4){const Y=J?1:-1;if(Y>0&&w&&n){C(N[n.length-1]);return}if(le&&Y<0&&te&&P(),_===null)return;C(N[_+Y]);return}C(I)}function A({draggedDistance:z}){if(k===null)return;const P=d==="bottom"||d==="right"?k-z:k+z;(d==="bottom"||d==="right")&&P<N[N.length-1]||(d==="top"||d==="left")&&P>N[N.length-1]||Qn(s.current,{transform:Fn(d)?`translate3d(0, ${P}px, 0)`:`translate3d(${P}px, 0, 0)`})}function M(z,P){if(!n||typeof _!="number"||!N||o===void 0)return null;const V=_===o-1;if(_>=o&&P)return 0;if(V&&!P)return 1;if(!j&&!V)return null;const $=V?_+1:_-1,Z=V?N[$]-N[$-1]:N[$+1]-N[$],le=z/Math.abs(Z);return V?1-le:le}return{isLastSnapPoint:w,activeSnapPoint:p,shouldFade:j,getPercentageDragged:M,setActiveSnapPoint:x,activeSnapPointIndex:_,onRelease:R,onDrag:A,snapPointsOffset:N}}const zB=()=>()=>{};function UB(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:s,noBodyStyles:a}=Zu(),o=_e.useRef(null),l=S.useMemo(()=>document.body.style.backgroundColor,[]);function d(){return(window.innerWidth-B0)/window.innerWidth}_e.useEffect(()=>{if(t&&n){o.current&&clearTimeout(o.current);const f=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!f)return;RB(s&&!a?Gg(document.body,{background:"black"}):zB,Gg(f,{transformOrigin:Fn(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${_n.DURATION}s`,transitionTimingFunction:`cubic-bezier(${_n.EASE.join(",")})`}));const h=Gg(f,U({borderRadius:`${GE}px`,overflow:"hidden"},Fn(e)?{transform:`scale(${d()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${d()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}));return()=>{h(),o.current=window.setTimeout(()=>{l?document.body.style.background=l:document.body.style.removeProperty("background")},_n.DURATION*1e3)}}},[t,n,l])}let pu=null;function BB({isOpen:e,modal:t,nested:n,hasBeenOpened:s,preventScrollRestoration:a,noBodyStyles:o}){const[l,d]=_e.useState(()=>typeof window!="undefined"?window.location.href:""),f=_e.useRef(0),h=_e.useCallback(()=>{if(X1()&&pu===null&&e&&!o){pu={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:x,innerHeight:y}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-f.current}px`,left:`${-x}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const b=y-window.innerHeight;b&&f.current>=y&&(document.body.style.top=`${-(f.current+b)}px`)}),300)}},[e]),p=_e.useCallback(()=>{if(X1()&&pu!==null&&!o){const x=-parseInt(document.body.style.top,10),y=-parseInt(document.body.style.left,10);Object.assign(document.body.style,pu),window.requestAnimationFrame(()=>{if(a&&l!==window.location.href){d(window.location.href);return}window.scrollTo(y,x)}),pu=null}},[l]);return _e.useEffect(()=>{function x(){f.current=window.scrollY}return x(),window.addEventListener("scroll",x),()=>{window.removeEventListener("scroll",x)}},[]),_e.useEffect(()=>{if(t)return()=>{typeof document=="undefined"||document.querySelector("[data-vaul-drawer]")||p()}},[t,p]),_e.useEffect(()=>{n||!s||(e?(!window.matchMedia("(display-mode: standalone)").matches&&h(),t||window.setTimeout(()=>{p()},500)):p())},[e,s,l,t,n,h,p]),{restorePositionSetting:p}}function FB({open:e,onOpenChange:t,children:n,onDrag:s,onRelease:a,snapPoints:o,shouldScaleBackground:l=!1,setBackgroundColorOnScale:d=!0,closeThreshold:f=MB,scrollLockTimeout:h=DB,dismissible:p=!0,handleOnly:x=!1,fadeFromIndex:y=o&&o.length-1,activeSnapPoint:b,setActiveSnapPoint:w,fixed:_,modal:j=!0,onClose:N,nested:k,noBodyStyles:C=!1,direction:R="bottom",defaultOpen:A=!1,disablePreventScroll:M=!0,snapToSequentialPoint:z=!1,preventScrollRestoration:P=!1,repositionInputs:V=!0,onAnimationEnd:te,container:$,autoFocus:Z=!1}){var le,J;const[I=!1,B]=QE({defaultProp:A,prop:e,onChange:nt=>{t==null||t(nt),!nt&&!k&&$e(),setTimeout(()=>{te==null||te(nt)},_n.DURATION*1e3),nt&&!j&&typeof window!="undefined"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),nt||(document.body.style.pointerEvents="auto")}}),[Y,Q]=_e.useState(!1),[ve,H]=_e.useState(!1),[ae,ye]=_e.useState(!1),X=_e.useRef(null),he=_e.useRef(null),ke=_e.useRef(null),be=_e.useRef(null),Ce=_e.useRef(null),ze=_e.useRef(!1),tt=_e.useRef(null),Ve=_e.useRef(0),Et=_e.useRef(!1),lt=_e.useRef(!A),yt=_e.useRef(0),De=_e.useRef(null),mt=_e.useRef(((le=De.current)==null?void 0:le.getBoundingClientRect().height)||0),Yt=_e.useRef(((J=De.current)==null?void 0:J.getBoundingClientRect().width)||0),Ct=_e.useRef(0),It=_e.useCallback(nt=>{o&&nt===Se.length-1&&(he.current=new Date)},[]),{activeSnapPoint:Xt,activeSnapPointIndex:W,setActiveSnapPoint:oe,onRelease:q,snapPointsOffset:Se,onDrag:Re,shouldFade:Oe,getPercentageDragged:Ue}=LB({snapPoints:o,activeSnapPointProp:b,setActiveSnapPointProp:w,drawerRef:De,fadeFromIndex:y,overlayRef:X,onSnapPointChange:It,direction:R,container:$,snapToSequentialPoint:z});NB({isDisabled:!I||ve||!j||ae||!Y||!V||!M});const{restorePositionSetting:$e}=BB({isOpen:I,modal:j,nested:k!=null?k:!1,hasBeenOpened:Y,preventScrollRestoration:P,noBodyStyles:C});function Ke(){return(window.innerWidth-B0)/window.innerWidth}function bt(nt){var Mt,zt;!p&&!o||De.current&&!De.current.contains(nt.target)||(mt.current=((Mt=De.current)==null?void 0:Mt.getBoundingClientRect().height)||0,Yt.current=((zt=De.current)==null?void 0:zt.getBoundingClientRect().width)||0,H(!0),ke.current=new Date,qE()&&window.addEventListener("touchend",()=>ze.current=!1,{once:!0}),nt.target.setPointerCapture(nt.pointerId),Ve.current=Fn(R)?nt.pageY:nt.pageX)}function ts(nt,Mt){var zt;let jt=nt;const Jt=(zt=window.getSelection())==null?void 0:zt.toString(),pn=De.current?Bf(De.current,R):null,an=new Date;if(jt.tagName==="SELECT"||jt.hasAttribute("data-vaul-no-drag")||jt.closest("[data-vaul-no-drag]"))return!1;if(R==="right"||R==="left")return!0;if(he.current&&an.getTime()-he.current.getTime()<500)return!1;if(pn!==null&&(R==="bottom"?pn>0:pn<0))return!0;if(Jt&&Jt.length>0)return!1;if(Ce.current&&an.getTime()-Ce.current.getTime()<h&&pn===0||Mt)return Ce.current=an,!1;for(;jt;){if(jt.scrollHeight>jt.clientHeight){if(jt.scrollTop!==0)return Ce.current=new Date,!1;if(jt.getAttribute("role")==="dialog")return!0}jt=jt.parentNode}return!0}function Te(nt){if(De.current&&ve){const Mt=R==="bottom"||R==="right"?1:-1,zt=(Ve.current-(Fn(R)?nt.pageY:nt.pageX))*Mt,jt=zt>0,Jt=o&&!p&&!jt;if(Jt&&W===0)return;const pn=Math.abs(zt),an=document.querySelector("[data-vaul-drawer-wrapper]"),ns=R==="bottom"||R==="top"?mt.current:Yt.current;let Yn=pn/ns;const K=Ue(pn,jt);if(K!==null&&(Yn=K),Jt&&Yn>=1||!ze.current&&!ts(nt.target,jt))return;if(De.current.classList.add(Kg),ze.current=!0,Qn(De.current,{transition:"none"}),Qn(X.current,{transition:"none"}),o&&Re({draggedDistance:zt}),jt&&!o){const de=AB(zt),we=Math.min(de*-1,0)*Mt;Qn(De.current,{transform:Fn(R)?`translate3d(0, ${we}px, 0)`:`translate3d(${we}px, 0, 0)`});return}const se=1-Yn;if((Oe||y&&W===y-1)&&(s==null||s(nt,Yn),Qn(X.current,{opacity:`${se}`,transition:"none"},!0)),an&&X.current&&l){const de=Math.min(Ke()+Yn*(1-Ke()),1),we=8-Yn*8,Ae=Math.max(0,14-Yn*14);Qn(an,{borderRadius:`${we}px`,transform:Fn(R)?`scale(${de}) translate3d(0, ${Ae}px, 0)`:`scale(${de}) translate3d(${Ae}px, 0, 0)`,transition:"none"},!0)}if(!o){const de=pn*Mt;Qn(De.current,{transform:Fn(R)?`translate3d(0, ${de}px, 0)`:`translate3d(${de}px, 0, 0)`})}}}_e.useEffect(()=>{window.requestAnimationFrame(()=>{lt.current=!0})},[]),_e.useEffect(()=>{var nt;function Mt(){if(!De.current||!V)return;const zt=document.activeElement;if(U0(zt)||Et.current){var jt;const Jt=((jt=window.visualViewport)==null?void 0:jt.height)||0,pn=window.innerHeight;let an=pn-Jt;const ns=De.current.getBoundingClientRect().height||0,Yn=ns>pn*.8;Ct.current||(Ct.current=ns);const K=De.current.getBoundingClientRect().top;if(Math.abs(yt.current-an)>60&&(Et.current=!Et.current),o&&o.length>0&&Se&&W){const se=Se[W]||0;an+=se}if(yt.current=an,ns>Jt||Et.current){const se=De.current.getBoundingClientRect().height;let de=se;se>Jt&&(de=Jt-(Yn?K:B0)),_?De.current.style.height=`${se-Math.max(an,0)}px`:De.current.style.height=`${Math.max(de,Jt-K)}px`}else yB()||(De.current.style.height=`${Ct.current}px`);o&&o.length>0&&!Et.current?De.current.style.bottom="0px":De.current.style.bottom=`${Math.max(an,0)}px`}}return(nt=window.visualViewport)==null||nt.addEventListener("resize",Mt),()=>{var zt;return(zt=window.visualViewport)==null?void 0:zt.removeEventListener("resize",Mt)}},[W,o,Se]);function Be(nt){On(),N==null||N(),nt||B(!1),setTimeout(()=>{o&&oe(o[0])},_n.DURATION*1e3)}function _t(){if(!De.current)return;const nt=document.querySelector("[data-vaul-drawer-wrapper]"),Mt=Bf(De.current,R);Qn(De.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${_n.DURATION}s cubic-bezier(${_n.EASE.join(",")})`}),Qn(X.current,{transition:`opacity ${_n.DURATION}s cubic-bezier(${_n.EASE.join(",")})`,opacity:"1"}),l&&Mt&&Mt>0&&I&&Qn(nt,xe(U({borderRadius:`${GE}px`,overflow:"hidden"},Fn(R)?{transform:`scale(${Ke()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Ke()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"}),{transitionProperty:"transform, border-radius",transitionDuration:`${_n.DURATION}s`,transitionTimingFunction:`cubic-bezier(${_n.EASE.join(",")})`}),!0)}function On(){!ve||!De.current||(De.current.classList.remove(Kg),ze.current=!1,H(!1),be.current=new Date)}function ls(nt){if(!ve||!De.current)return;De.current.classList.remove(Kg),ze.current=!1,H(!1),be.current=new Date;const Mt=Bf(De.current,R);if(!nt||!ts(nt.target,!1)||!Mt||Number.isNaN(Mt)||ke.current===null)return;const zt=be.current.getTime()-ke.current.getTime(),jt=Ve.current-(Fn(R)?nt.pageY:nt.pageX),Jt=Math.abs(jt)/zt;if(Jt>.05&&(ye(!0),setTimeout(()=>{ye(!1)},200)),o){q({draggedDistance:jt*(R==="bottom"||R==="right"?1:-1),closeDrawer:Be,velocity:Jt,dismissible:p}),a==null||a(nt,!0);return}if(R==="bottom"||R==="right"?jt>0:jt<0){_t(),a==null||a(nt,!0);return}if(Jt>XE){Be(),a==null||a(nt,!1);return}var pn;const an=Math.min((pn=De.current.getBoundingClientRect().height)!=null?pn:0,window.innerHeight);var ns;const Yn=Math.min((ns=De.current.getBoundingClientRect().width)!=null?ns:0,window.innerWidth),K=R==="left"||R==="right";if(Math.abs(Mt)>=(K?Yn:an)*f){Be(),a==null||a(nt,!1);return}a==null||a(nt,!0),_t()}_e.useEffect(()=>(I&&(Qn(document.documentElement,{scrollBehavior:"auto"}),he.current=new Date),()=>{OB(document.documentElement,"scrollBehavior")}),[I]);function ws(nt){const Mt=nt?(window.innerWidth-uo)/window.innerWidth:1,zt=nt?-uo:0;tt.current&&window.clearTimeout(tt.current),Qn(De.current,{transition:`transform ${_n.DURATION}s cubic-bezier(${_n.EASE.join(",")})`,transform:Fn(R)?`scale(${Mt}) translate3d(0, ${zt}px, 0)`:`scale(${Mt}) translate3d(${zt}px, 0, 0)`}),!nt&&De.current&&(tt.current=setTimeout(()=>{const jt=Bf(De.current,R);Qn(De.current,{transition:"none",transform:Fn(R)?`translate3d(0, ${jt}px, 0)`:`translate3d(${jt}px, 0, 0)`})},500))}function qn(nt,Mt){if(Mt<0)return;const zt=(window.innerWidth-uo)/window.innerWidth,jt=zt+Mt*(1-zt),Jt=-uo+Mt*uo;Qn(De.current,{transform:Fn(R)?`scale(${jt}) translate3d(0, ${Jt}px, 0)`:`scale(${jt}) translate3d(${Jt}px, 0, 0)`,transition:"none"})}function wr(nt,Mt){const zt=Fn(R)?window.innerHeight:window.innerWidth,jt=Mt?(zt-uo)/zt:1,Jt=Mt?-uo:0;Mt&&Qn(De.current,{transition:`transform ${_n.DURATION}s cubic-bezier(${_n.EASE.join(",")})`,transform:Fn(R)?`scale(${jt}) translate3d(0, ${Jt}px, 0)`:`scale(${jt}) translate3d(${Jt}px, 0, 0)`})}return _e.useEffect(()=>{j||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[j]),_e.createElement(uy,{defaultOpen:A,onOpenChange:nt=>{!p&&!nt||(nt?Q(!0):Be(!0),B(nt))},open:I},_e.createElement($E.Provider,{value:{activeSnapPoint:Xt,snapPoints:o,setActiveSnapPoint:oe,drawerRef:De,overlayRef:X,onOpenChange:t,onPress:bt,onRelease:ls,onDrag:Te,dismissible:p,shouldAnimate:lt,handleOnly:x,isOpen:I,isDragging:ve,shouldFade:Oe,closeDrawer:Be,onNestedDrag:qn,onNestedOpenChange:ws,onNestedRelease:wr,keyboardIsOpen:Et,modal:j,snapPointsOffset:Se,activeSnapPointIndex:W,direction:R,shouldScaleBackground:l,setBackgroundColorOnScale:d,noBodyStyles:C,container:$,autoFocus:Z}},n))}const ZE=_e.forwardRef(function(n,t){var e=Me(n,[]);const{overlayRef:s,snapPoints:a,onRelease:o,shouldFade:l,isOpen:d,modal:f,shouldAnimate:h}=Zu(),p=IE(t,s),x=a&&a.length>0;if(!f)return null;const y=_e.useCallback(b=>o(b),[o]);return _e.createElement(fy,U({onMouseUp:y,ref:p,"data-vaul-overlay":"","data-vaul-snap-points":d&&x?"true":"false","data-vaul-snap-points-overlay":d&&l?"true":"false","data-vaul-animate":h!=null&&h.current?"true":"false"},e))});ZE.displayName="Drawer.Overlay";const JE=_e.forwardRef(function(o,a){var l=o,{onPointerDownOutside:e,style:t,onOpenAutoFocus:n}=l,s=Me(l,["onPointerDownOutside","style","onOpenAutoFocus"]);const{drawerRef:d,onPress:f,onRelease:h,onDrag:p,keyboardIsOpen:x,snapPointsOffset:y,activeSnapPointIndex:b,modal:w,isOpen:_,direction:j,snapPoints:N,container:k,handleOnly:C,shouldAnimate:R,autoFocus:A}=Zu(),[M,z]=_e.useState(!1),P=IE(a,d),V=_e.useRef(null),te=_e.useRef(null),$=_e.useRef(!1),Z=N&&N.length>0;UB();const le=(I,B,Y=0)=>{if($.current)return!0;const Q=Math.abs(I.y),ve=Math.abs(I.x),H=ve>Q,ae=["bottom","right"].includes(B)?1:-1;if(B==="left"||B==="right"){if(!(I.x*ae<0)&&ve>=0&&ve<=Y)return H}else if(!(I.y*ae<0)&&Q>=0&&Q<=Y)return!H;return $.current=!0,!0};_e.useEffect(()=>{Z&&window.requestAnimationFrame(()=>{z(!0)})},[]);function J(I){V.current=null,$.current=!1,h(I)}return _e.createElement(hy,xe(U({"data-vaul-drawer-direction":j,"data-vaul-drawer":"","data-vaul-delayed-snap-points":M?"true":"false","data-vaul-snap-points":_&&Z?"true":"false","data-vaul-custom-container":k?"true":"false","data-vaul-animate":R!=null&&R.current?"true":"false"},s),{ref:P,style:y&&y.length>0?U({"--snap-point-height":`${y[b!=null?b:0]}px`},t):t,onPointerDown:I=>{C||(s.onPointerDown==null||s.onPointerDown.call(s,I),V.current={x:I.pageX,y:I.pageY},f(I))},onOpenAutoFocus:I=>{n==null||n(I),A||I.preventDefault()},onPointerDownOutside:I=>{if(e==null||e(I),!w||I.defaultPrevented){I.preventDefault();return}x.current&&(x.current=!1)},onFocusOutside:I=>{if(!w){I.preventDefault();return}},onPointerMove:I=>{if(te.current=I,C||(s.onPointerMove==null||s.onPointerMove.call(s,I),!V.current))return;const B=I.pageY-V.current.y,Y=I.pageX-V.current.x,Q=I.pointerType==="touch"?10:2;le({x:Y,y:B},j,Q)?p(I):(Math.abs(Y)>Q||Math.abs(B)>Q)&&(V.current=null)},onPointerUp:I=>{s.onPointerUp==null||s.onPointerUp.call(s,I),V.current=null,$.current=!1,h(I)},onPointerOut:I=>{s.onPointerOut==null||s.onPointerOut.call(s,I),J(te.current)},onContextMenu:I=>{s.onContextMenu==null||s.onContextMenu.call(s,I),te.current&&J(te.current)}}))});JE.displayName="Drawer.Content";const HB=250,VB=120,$B=_e.forwardRef(function(a,s){var o=a,{preventCycle:e=!1,children:t}=o,n=Me(o,["preventCycle","children"]);const{closeDrawer:l,isDragging:d,snapPoints:f,activeSnapPoint:h,setActiveSnapPoint:p,dismissible:x,handleOnly:y,isOpen:b,onPress:w,onDrag:_}=Zu(),j=_e.useRef(null),N=_e.useRef(!1);function k(){if(N.current){A();return}window.setTimeout(()=>{C()},VB)}function C(){if(d||e||N.current){A();return}if(A(),!f||f.length===0){x||l();return}if(h===f[f.length-1]&&x){l();return}const z=f.findIndex(V=>V===h);if(z===-1)return;const P=f[z+1];p(P)}function R(){j.current=window.setTimeout(()=>{N.current=!0},HB)}function A(){j.current&&window.clearTimeout(j.current),N.current=!1}return _e.createElement("div",U({onClick:k,onPointerCancel:A,onPointerDown:M=>{y&&w(M),R()},onPointerMove:M=>{y&&_(M)},ref:s,"data-vaul-drawer-visible":b?"true":"false","data-vaul-handle":"","aria-hidden":"true"},n),_e.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});$B.displayName="Drawer.Handle";function qB(e){const t=Zu(),a=e,{container:n=t.container}=a,s=Me(a,["container"]);return _e.createElement(dy,U({container:n},s))}const tc={Root:FB,Content:JE,Overlay:ZE,Portal:qB,Title:RE,Description:ME};function YB(t){var e=Me(t,[]);return u.jsx(tc.Root,U({"data-slot":"drawer"},e))}function IB(t){var e=Me(t,[]);return u.jsx(tc.Portal,U({"data-slot":"drawer-portal"},e))}function WB(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx(tc.Overlay,U({"data-slot":"drawer-overlay",className:bn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e)},t))}function XB(s){var a=s,{className:e,children:t}=a,n=Me(a,["className","children"]);return u.jsxs(IB,{"data-slot":"drawer-portal",children:[u.jsx(WB,{}),u.jsxs(tc.Content,xe(U({"data-slot":"drawer-content",className:bn("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-2/3 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",e)},n),{children:[u.jsx("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),t]}))]})}function GB(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx("div",U({"data-slot":"drawer-header",className:bn("flex flex-col gap-0.5 p-4 group-data-[vaul-drawer-direction=bottom]/drawer-content:text-center group-data-[vaul-drawer-direction=top]/drawer-content:text-center md:gap-1.5 md:text-left",e)},t))}function KB(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx("div",U({"data-slot":"drawer-footer",className:bn("mt-auto flex flex-col gap-2 p-4",e)},t))}function QB(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx(tc.Title,U({"data-slot":"drawer-title",className:bn("text-foreground font-semibold",e)},t))}function ZB(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx(tc.Description,U({"data-slot":"drawer-description",className:bn("text-muted-foreground text-sm",e)},t))}const nc=e=>{const{data:t,isLoading:n,error:s}=Jn("Project",e,{fields:["name","users"]}),{data:a,isLoading:o}=Jn("Project",(t==null?void 0:t.name)||"",t!=null&&t.name?"Project":void 0);return{data:(a==null?void 0:a.users)||(t==null?void 0:t.users)||[],isLoading:n||o,error:s}};class eT{static useUpdatePhase(){const{updateDoc:t,loading:n,error:s}=Fs();return{updatePhase:(o,l)=>pe(null,null,function*(){return t("project_phase",o,l)}),isLoading:n,error:s}}static usePhaseAssignment(){const{createDoc:t}=Ao(),{deleteDoc:n}=Ph(),{data:s}=Jn("User","",{shouldFetch:!0});return{assignPhase:(l,d)=>pe(null,null,function*(){return t("ToDo",{allocated_to:d,assigned_by:(s==null?void 0:s.name)||"",reference_type:"project_phase",reference_name:l,description:`Assigned to phase: ${l}`,status:"Open"})}),unassignPhase:l=>pe(null,null,function*(){return n("ToDo",l)})}}}const JB=eT.useUpdatePhase,tT=eT.usePhaseAssignment,e8=({isOpen:e,onClose:t,projectName:n,onSuccess:s})=>{const[a,o]=S.useState({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),{createDoc:l,loading:d,error:f}=Ao(),{assignPhase:h}=tT(),{data:p,isLoading:x}=nc(n),y=(_,j)=>{o(N=>xe(U({},N),{[_]:j}))},b=_=>pe(null,null,function*(){if(_.preventDefault(),!!a.subject.trim())try{const j=a,{assign_to:N}=j,k=Me(j,["assign_to"]),C=yield l("project_phase",{project:n,subject:k.subject,start_date:k.start_date||null,end_date:k.end_date||null,priority:k.priority,details:k.details||null,costing:k.costing||0,status:"Open",progress:0});N&&C&&(yield h(C.name,N)),o({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),s&&s(),t()}catch(N){console.error("Failed to create project phase:",N)}}),w=()=>{o({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),t()};return u.jsx(Ss,{open:e,onOpenChange:w,children:u.jsxs(Ns,{className:"sm:max-w-[500px]",children:[u.jsxs(Es,{children:[u.jsx(ks,{children:"Create New Project Phase"}),u.jsxs(_o,{children:['Add a new phase to organize tasks and milestones for "',n,'".']})]}),u.jsxs("form",{onSubmit:b,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"subject",children:"Phase Name *"}),u.jsx($t,{id:"subject",value:a.subject,onChange:_=>y("subject",_.target.value),placeholder:"e.g., Planning, Development, Testing",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"priority",children:"Priority"}),u.jsxs("select",{id:"priority",value:a.priority,onChange:_=>y("priority",_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"Low",children:"Low"}),u.jsx("option",{value:"Medium",children:"Medium"}),u.jsx("option",{value:"High",children:"High"}),u.jsx("option",{value:"Critical",children:"Critical"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"start_date",children:"Start Date"}),u.jsxs("div",{className:"relative",children:[u.jsx($t,{id:"start_date",type:"date",value:a.start_date,onChange:_=>y("start_date",_.target.value)}),u.jsx(gr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"end_date",children:"End Date"}),u.jsxs("div",{className:"relative",children:[u.jsx($t,{id:"end_date",type:"date",value:a.end_date,onChange:_=>y("end_date",_.target.value),min:a.start_date||void 0}),u.jsx(gr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"costing",children:"Estimated Cost"}),u.jsx($t,{id:"costing",type:"number",value:a.costing,onChange:_=>y("costing",parseFloat(_.target.value)||0),placeholder:"0",min:"0",step:"0.01"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"assign_to",children:"Assign To"}),u.jsxs("select",{id:"assign_to",value:a.assign_to,onChange:_=>y("assign_to",_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:x,children:[u.jsx("option",{value:"",children:"Select user..."}),p==null?void 0:p.map(_=>u.jsx("option",{value:_.user||_.name,children:_.user||_.name},_.name))]}),x&&u.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"details",children:"Description"}),u.jsx("textarea",{id:"details",value:a.details,onChange:_=>y("details",_.target.value),placeholder:"Phase description, objectives, and key deliverables...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3})]}),f&&u.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:u.jsx("p",{className:"text-sm text-red-600",children:f.message||"Failed to create project phase. Please try again."})}),u.jsxs(Ts,{children:[u.jsx(Ie,{type:"button",variant:"outline",onClick:w,disabled:d,children:"Cancel"}),u.jsxs(Ie,{type:"submit",disabled:d||!a.subject.trim(),className:"flex items-center gap-2",children:[d&&u.jsx(y0,{className:"h-4 w-4 animate-spin"}),"Create Phase"]})]})]})]})})},t8=({projectName:e,onViewPhaseDetails:t,onViewTaskDetails:n,onViewSubTaskDetails:s})=>{const[a,o]=S.useState(new Set),[l,d]=S.useState(new Set),[f,h]=S.useState(!1),[p,x]=S.useState([]),{data:y,isLoading:b,mutate:w}=yn("project_phase",{fields:["name","subject","status","priority","start_date","end_date","progress","details","costing"],filters:[["project","=",e]],orderBy:{field:"start_date",order:"asc"}});S.useEffect(()=>{y&&y.length>0?pe(null,null,function*(){const I=[];for(const B of y)try{const Y=yield fetch(`/api/resource/project_phase/${B.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(Y.ok){const Q=yield Y.json();I.push(Q.data)}else console.warn("Failed to fetch phase:",B.name),I.push(B)}catch(Y){console.error("Error fetching phase:",B.name,Y),I.push(B)}x(I)}):x([])},[y==null?void 0:y.length,y==null?void 0:y.map(J=>J.name).join(",")]);const{data:_,isLoading:j}=yn("Task",{fields:["name","subject","status","priority","project","exp_start_date","exp_end_date","progress"],filters:[["project","=",e]],orderBy:{field:"exp_start_date",order:"asc"}}),N=(_==null?void 0:_.map(J=>J.name))||[],{data:k,isLoading:C}=yn("SubTask",{fields:["name","subject","task","status","progress","start_date","end_date","description"],filters:N.length>0?[["task","in",N]]:[["task","=","dummy-non-existent-task"]],orderBy:{field:"start_date",order:"asc"}}),R=J=>{const I=new Set(a);I.has(J)?I.delete(J):I.add(J),o(I)},A=J=>{const I=new Set(l);I.has(J)?I.delete(J):I.add(J),d(I)},M=J=>{switch(J){case"Completed":return u.jsx(Bh,{className:"h-4 w-4 text-green-600"});case"Working":return u.jsx(jo,{className:"h-4 w-4 text-yellow-600"});default:return u.jsx(vM,{className:"h-4 w-4 text-gray-400"})}},z=J=>{switch(J){case"Completed":return"bg-green-100 text-green-800";case"Working":return"bg-yellow-100 text-yellow-800";default:return"bg-blue-100 text-blue-800"}},P=J=>{switch(J){case"Urgent":return"bg-red-100 text-red-800";case"High":return"bg-orange-100 text-orange-800";case"Medium":return"bg-yellow-100 text-yellow-800";default:return"bg-green-100 text-green-800"}},V=(J,I,B,Y=!1,Q=!1,ve)=>{const H=I>0?`pl-${I*6}`:"pl-6";let ae="",ye="mr-3 text-lg",X="";B==="phase"?X="📋":B==="task"?X="📝":B==="phase-task"?X="📄":B==="subtask"&&(X="📌"),B==="phase"||B==="task"&&Y||B==="phase-task"&&Y?(ae=Q?"▼":"▶️",ye+=" text-blue-600 cursor-pointer hover:text-blue-800 transition-colors"):B==="phase-task"?(ae="•",ye+=" text-green-500"):B==="subtask"?(ae="◦",ye+=" text-gray-400"):B==="task"?(ae="●",ye+=" text-orange-500"):(ae="●",ye+=" text-gray-400");const he=J.subject||J.name,ke=J.status||"Open",be=J.progress||0,Ce=ze=>{ze.preventDefault(),ze.stopPropagation(),ve&&ve()};return u.jsx("div",{className:"hover:bg-gray-50 transition-colors",children:u.jsxs("div",{className:`grid grid-cols-12 gap-4 py-3 px-6 border-b border-gray-100 items-center ${H}`,children:[u.jsxs("div",{className:"col-span-6 flex items-center",children:[u.jsx("span",{className:ye,onClick:Ce,role:ve?"button":void 0,tabIndex:ve?0:void 0,children:ae}),u.jsx("span",{className:"mr-2 text-lg",children:X}),M(ke),u.jsxs("div",{className:"ml-3 flex-1",children:[u.jsx("div",{className:`font-medium ${B==="phase"?"text-blue-900 text-lg":B==="task"?"text-orange-900":B==="phase-task"?"text-green-900":"text-gray-700"}`,children:he}),J.description&&B==="subtask"&&u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:J.description}),J.details&&B==="phase"&&u.jsx("p",{className:"text-sm text-gray-600 mt-1",children:J.details})]})]}),u.jsx("div",{className:"col-span-2 text-center",children:u.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${z(ke)}`,children:ke})}),u.jsx("div",{className:"col-span-2 text-center",children:J.priority&&u.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${P(J.priority)}`,children:J.priority})}),u.jsxs("div",{className:"col-span-2 flex items-center justify-center space-x-2",children:[u.jsx("div",{className:`${B==="phase"?"w-20":"w-16"} bg-gray-200 rounded-full h-2`,children:u.jsx("div",{className:`${B==="phase"?"bg-blue-600":B==="task"?"bg-orange-600":B==="phase-task"?"bg-green-600":"bg-purple-600"} h-2 rounded-full transition-all duration-300`,style:{width:`${be}%`}})}),u.jsxs("span",{className:"text-sm text-gray-600 w-8 text-right",children:[be,"%"]}),B==="phase"&&t&&u.jsx(Ie,{variant:"outline",size:"sm",onClick:ze=>{ze.preventDefault(),ze.stopPropagation(),t(J)},className:"ml-2 h-7 px-2 text-xs",children:"View Details"}),(B==="task"||B==="phase-task")&&n&&u.jsx(Ie,{variant:"outline",size:"sm",onClick:ze=>{ze.preventDefault(),ze.stopPropagation(),n(J)},className:"ml-2 h-7 px-2 text-xs",children:"View Details"}),B==="subtask"&&s&&u.jsx(Ie,{variant:"outline",size:"sm",onClick:ze=>{ze.preventDefault(),ze.stopPropagation(),s(J)},className:"ml-2 h-7 px-2 text-xs",children:"View Details"})]})]})},`${B}-${J.name}`)};if(b||j||C)return u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"}),u.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"}),u.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"})]});const te=p.length>0?p:y||[],$=_||[],Z=k||[],le=J=>Z.filter(I=>I.task===J);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Project Tasks & Phases"}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs(Ie,{size:"sm",className:"flex items-center gap-2",onClick:()=>h(!0),children:[u.jsx(So,{className:"h-4 w-4"}),"Add Phase"]})})]}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[u.jsxs("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-200 grid grid-cols-12 gap-4 text-sm font-medium text-gray-700",children:[u.jsx("div",{className:"col-span-6",children:"Task / Phase"}),u.jsx("div",{className:"col-span-2 text-center",children:"Status"}),u.jsx("div",{className:"col-span-2 text-center",children:"Priority"}),u.jsx("div",{className:"col-span-2 text-center",children:"Progress"})]}),u.jsxs("div",{className:"divide-y divide-gray-100",children:[te.map(J=>{const I=a.has(J.name),B=J.tasks||[];return u.jsxs("div",{children:[V(J,0,"phase",B.length>0,I,()=>{R(J.name)}),I&&B.map((Y,Q)=>{const ve=$.find(X=>X.name===Y.task),H=le(Y.task),ae=H.length>0,ye=l.has(Y.task);if(!ve){const X={name:Y.task,subject:Y.task,status:"Open"};return u.jsxs("div",{children:[V(X,1,"phase-task",ae,ye,ae?()=>{A(Y.task)}:void 0),ye&&ae&&H.map((he,ke)=>u.jsx("div",{children:V(he,2,"subtask",!1,!1)},`subtask-${ke}`))]},`phase-task-${Q}`)}return u.jsxs("div",{children:[V(ve,1,"phase-task",ae,ye,ae?()=>{A(ve.name)}:void 0),ye&&ae&&H.map((X,he)=>u.jsx("div",{children:V(X,2,"subtask",!1,!1)},`subtask-${he}`))]},`phase-task-${Q}`)})]},J.name)}),te.length>0&&$.filter(J=>!te.some(B=>{var Y;return(Y=B.tasks)==null?void 0:Y.some(Q=>Q.task===J.name)})).length>0&&u.jsx("div",{className:"bg-gray-100 px-6 py-2 border-b border-gray-200",children:u.jsxs("div",{className:"text-sm font-medium text-gray-600 flex items-center",children:[u.jsx("span",{className:"mr-2",children:"📝"}),"Standalone Tasks"]})}),$.filter(J=>!te.some(B=>{var Y;return(Y=B.tasks)==null?void 0:Y.some(Q=>Q.task===J.name)})).map(J=>{const I=l.has(J.name),B=le(J.name),Y=B.length>0;return u.jsxs("div",{children:[V(J,0,"task",Y,I,Y?()=>{A(J.name)}:void 0),I&&Y&&B.map((Q,ve)=>u.jsx("div",{children:V(Q,1,"subtask",!1,!1)},`standalone-subtask-${ve}`))]},J.name)})]})]}),te.length===0&&$.length===0&&u.jsx("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:u.jsxs("div",{className:"max-w-md mx-auto",children:[u.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"📋"}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No phases or tasks yet"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Start organizing your project by creating phases and tasks."}),u.jsxs("div",{className:"flex gap-3 justify-center",children:[u.jsx(Ie,{children:"Create First Phase"}),u.jsx(Ie,{variant:"outline",children:"Create Task"})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-6 border-t border-gray-200",children:[u.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[u.jsx("div",{className:"text-2xl font-bold text-blue-600",children:te.length}),u.jsx("div",{className:"text-sm text-blue-600",children:"Total Phases"})]}),u.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[u.jsx("div",{className:"text-2xl font-bold text-green-600",children:$.length}),u.jsx("div",{className:"text-sm text-green-600",children:"Total Tasks"})]}),u.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[u.jsx("div",{className:"text-2xl font-bold text-purple-600",children:Z.length}),u.jsx("div",{className:"text-sm text-purple-600",children:"Total Subtasks"})]})]}),u.jsx(e8,{isOpen:f,onClose:()=>h(!1),projectName:e,onSuccess:()=>{w()}})]})};class n8{static useCreatePhaseTask(){const{createDoc:t,loading:n}=Ao(),{call:s}=hs("frappe.client.insert"),{call:a}=hs("frappe.client.save"),{data:o}=Jn("User","",{shouldFetch:!0});return{createTaskWithPhase:d=>pe(null,null,function*(){try{const f=yield t("Task",{subject:d.subject,description:d.description,priority:d.priority,status:d.status,type:d.type,expected_time:d.expected_time,task_weight:d.task_weight,project:d.project});console.log("Task created successfully:",f);let h=null;if(d.assign_to&&f)try{h=yield s({doc:{doctype:"ToDo",allocated_to:d.assign_to,assigned_by:(o==null?void 0:o.name)||"",description:`Task: ${d.subject}`,reference_type:"Task",reference_name:f.name,status:"Open",priority:d.priority,date:new Date().toISOString().split("T")[0]}}),console.log("ToDo created successfully:",h)}catch(p){console.error("Error creating ToDo:",p)}if(d.phaseId&&f){const p={parent:d.phaseId,parenttype:"project_phase",parentfield:"tasks",task:f.name,task_name:f.subject,status:f.status,start_date:f.exp_start_date,end_date:f.exp_end_date,description:f.description},x=yield s({doc:U({doctype:"Project Phase Task"},p)});console.log("Project Phase Task created successfully:",x);try{console.log("Saving parent phase document to commit child table changes...");const y=yield a({doc:{doctype:"project_phase",name:d.phaseId}});console.log("Parent phase saved successfully:",y)}catch(y){console.warn("Failed to save parent phase, but child was created:",y)}return{success:!0,task:f,phaseTask:x,todo:h,message:"Task created and linked to phase successfully"}}return{success:!0,task:f,todo:h,message:"Task created successfully"}}catch(f){return console.error("Error in createTaskWithPhase:",f),f instanceof Error?{success:!1,error:f.message,message:"Failed to create task"}:{success:!1,error:"Unknown error occurred",message:"Failed to create task"}}}),isLoading:n}}static useLinkTaskToPhase(){const{call:t}=hs("frappe.client.insert");return{linkTaskToPhase:(s,a,o)=>pe(null,null,function*(){try{const l={parent:a,parenttype:"Project Phase",parentfield:"tasks",task:s,task_name:(o==null?void 0:o.task_name)||s,status:(o==null?void 0:o.status)||"Open",start_date:o==null?void 0:o.start_date,end_date:o==null?void 0:o.end_date,description:o==null?void 0:o.description};return{success:!0,phaseTask:yield t({doc:U({doctype:"Project Phase Task"},l)}),message:"Task linked to phase successfully"}}catch(l){return console.error("Error linking task to phase:",l),{success:!1,error:l instanceof Error?l.message:"Unknown error",message:"Failed to link task to phase"}}})}}}const s8=n8.useCreatePhaseTask,r8=({isOpen:e,onClose:t,projectName:n,phaseId:s,onSuccess:a})=>{const[o,l]=S.useState({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,assign_to:""}),[d,f]=S.useState({}),{createTaskWithPhase:h,isLoading:p}=s8(),{data:x,isLoading:y}=nc(n),b=(N,k)=>{l(C=>xe(U({},C),{[N]:k})),d[N]&&f(C=>xe(U({},C),{[N]:""}))},w=()=>{const N={};return o.subject.trim()||(N.subject="Task subject is required"),f(N),Object.keys(N).length===0},_=N=>pe(null,null,function*(){if(N.preventDefault(),!!w())try{const k=xe(U({},o),{project:n,expected_time:Number(o.expected_time),task_weight:Number(o.task_weight),phaseId:s,assign_to:o.assign_to||void 0}),C=yield h(k);console.log("Task with phase created:",C),C.todo&&o.assign_to&&console.log("Task assigned and ToDo created for:",o.assign_to),l({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,assign_to:""}),f({}),a&&a(),t()}catch(k){console.error("Error creating task:",k),f({submit:"Failed to create task. Please try again."})}}),j=()=>{l({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,assign_to:""}),f({}),t()};return u.jsx(Ss,{open:e,onOpenChange:j,children:u.jsxs(Ns,{className:"sm:max-w-[600px]",children:[u.jsxs(Es,{children:[u.jsxs(ks,{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-2xl",children:"📝"}),"Create New Task"]}),u.jsxs(_o,{children:["Create a new task for project: ",u.jsx("strong",{children:n}),s&&u.jsxs(u.Fragment,{children:[u.jsx("br",{}),u.jsx("span",{className:"text-blue-600",children:"🔗 This task will be linked to the current phase"})]}),u.jsx("br",{}),u.jsx("span",{className:"text-gray-600",children:"💡 Assigning to a user will automatically create a ToDo item for them"})]})]}),u.jsxs("form",{onSubmit:_,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(He,{htmlFor:"subject",children:"Task Subject *"}),u.jsx($t,{id:"subject",value:o.subject,onChange:N=>b("subject",N.target.value),placeholder:"Enter task subject...",className:d.subject?"border-red-500":""}),d.subject&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.subject})]}),u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(He,{htmlFor:"description",children:"Description"}),u.jsx("textarea",{id:"description",value:o.description,onChange:N=>b("description",N.target.value),placeholder:"Enter task description...",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(He,{htmlFor:"priority",children:"Priority"}),u.jsxs("select",{id:"priority",value:o.priority,onChange:N=>b("priority",N.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[u.jsx("option",{value:"Low",children:"Low"}),u.jsx("option",{value:"Medium",children:"Medium"}),u.jsx("option",{value:"High",children:"High"}),u.jsx("option",{value:"Urgent",children:"Urgent"})]})]}),u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(He,{htmlFor:"status",children:"Status"}),u.jsxs("select",{id:"status",value:o.status,onChange:N=>b("status",N.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[u.jsx("option",{value:"Open",children:"Open"}),u.jsx("option",{value:"Working",children:"Working"}),u.jsx("option",{value:"Completed",children:"Completed"})]})]})]}),u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(He,{htmlFor:"assign_to",children:"Assign To"}),u.jsxs("select",{id:"assign_to",value:o.assign_to,onChange:N=>b("assign_to",N.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",disabled:y,children:[u.jsx("option",{value:"",children:"Select user to assign (Optional)"}),x==null?void 0:x.map(N=>u.jsxs("option",{value:N.user||N.name,children:[N.full_name||N.name,N.email&&` (${N.email})`]},N.user||N.name))]}),y&&u.jsx("p",{className:"text-sm text-gray-500",children:"Loading users..."}),!y&&x&&x.length>10&&u.jsx("p",{className:"text-sm text-amber-600",children:"⚠️ Showing all system users (project users not available)"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(He,{htmlFor:"expected_time",children:"Expected Time (hours)"}),u.jsx($t,{id:"expected_time",type:"number",min:"0",step:"0.5",value:o.expected_time,onChange:N=>b("expected_time",Number(N.target.value)),placeholder:"0"})]}),u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(He,{htmlFor:"task_weight",children:"Task Weight"}),u.jsx($t,{id:"task_weight",type:"number",min:"1",value:o.task_weight,onChange:N=>b("task_weight",Number(N.target.value)),placeholder:"1"})]})]})]}),d.submit&&u.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-md p-3",children:d.submit}),u.jsxs(Ts,{children:[u.jsx(Ie,{type:"button",variant:"outline",onClick:j,children:"Cancel"}),u.jsx(Ie,{type:"submit",disabled:p,children:p?"Creating...":"Create Task"})]})]})]})})},a8=({phase:e,projectName:t,isOpen:n,onClose:s,onSuccess:a})=>{var C;const{updatePhase:o,isLoading:l,error:d}=JB(),{assignPhase:f,unassignPhase:h}=tT(),{data:p,isLoading:x}=nc(t),{data:y}=yn("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","project_phase"],["reference_name","=",(e==null?void 0:e.name)||""]]}),[b,w]=S.useState({subject:"",status:"Open",priority:"Medium",start_date:"",end_date:"",progress:0,details:"",costing:0,assign_to:""}),_=((C=y==null?void 0:y[0])==null?void 0:C.allocated_to)||"";S.useEffect(()=>{e&&w({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",progress:e.progress||0,details:e.details||"",costing:e.costing||0,assign_to:_})},[e,_]);const j=(R,A)=>{w(M=>xe(U({},M),{[R]:A}))},N=R=>pe(null,null,function*(){if(R.preventDefault(),!!e)try{const A=b,{assign_to:M}=A,z=Me(A,["assign_to"]);yield o(e.name,z);const P=_,V=M;if(P&&P!==V){const te=y==null?void 0:y.find($=>$.allocated_to===P);te&&(yield h(te.name))}V&&V!==P&&(yield f(e.name,V)),a&&a(),s()}catch(M){console.error("Error updating phase:",M)}}),k=()=>{e&&w({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",progress:e.progress||0,details:e.details||"",costing:e.costing||0,assign_to:_}),s()};return u.jsx(Ss,{open:n,onOpenChange:s,children:u.jsxs(Ns,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[u.jsx(Es,{children:u.jsx(ks,{children:"Edit Phase"})}),u.jsxs("form",{onSubmit:N,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"subject",children:"Subject *"}),u.jsx($t,{id:"subject",value:b.subject,onChange:R=>j("subject",R.target.value),required:!0,placeholder:"Enter phase subject"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"status",children:"Status"}),u.jsxs("select",{id:"status",value:b.status,onChange:R=>j("status",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"Open",children:"Open"}),u.jsx("option",{value:"Working",children:"Working"}),u.jsx("option",{value:"Pending Review",children:"Pending Review"}),u.jsx("option",{value:"Completed",children:"Completed"}),u.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"priority",children:"Priority"}),u.jsxs("select",{id:"priority",value:b.priority,onChange:R=>j("priority",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"Low",children:"Low"}),u.jsx("option",{value:"Medium",children:"Medium"}),u.jsx("option",{value:"High",children:"High"}),u.jsx("option",{value:"Critical",children:"Critical"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"start_date",children:"Start Date"}),u.jsx($t,{id:"start_date",type:"date",value:b.start_date,onChange:R=>j("start_date",R.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"end_date",children:"End Date"}),u.jsx($t,{id:"end_date",type:"date",value:b.end_date,onChange:R=>j("end_date",R.target.value)})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"progress",children:"Progress (%)"}),u.jsx($t,{id:"progress",type:"number",min:"0",max:"100",value:b.progress,onChange:R=>j("progress",parseInt(R.target.value)||0),placeholder:"0"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"costing",children:"Costing"}),u.jsx($t,{id:"costing",type:"number",min:"0",step:"0.01",value:b.costing,onChange:R=>j("costing",parseFloat(R.target.value)||0),placeholder:"0.00"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"details",children:"Details"}),u.jsx("textarea",{id:"details",value:b.details,onChange:R=>j("details",R.target.value),placeholder:"Enter phase details",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"assign_to",children:"Assign To"}),u.jsxs("select",{id:"assign_to",value:b.assign_to,onChange:R=>j("assign_to",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:x,children:[u.jsx("option",{value:"",children:"Select user..."}),p==null?void 0:p.map(R=>u.jsx("option",{value:R.user||R.name,children:R.user||R.name},R.name))]}),x&&u.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),d&&u.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:u.jsxs("p",{children:[u.jsx("strong",{children:"Error:"})," ",d.message||"Failed to update phase"]})}),u.jsxs(Ts,{className:"flex gap-2",children:[u.jsx(Ie,{type:"button",variant:"outline",onClick:k,children:"Cancel"}),u.jsx(Ie,{type:"submit",disabled:l,children:l?"Updating...":"Update Phase"})]})]})]})})},i8=({phase:e,isOpen:t,onClose:n,onSuccess:s})=>{const{call:a,loading:o,error:l}=hs("frappe.client.delete"),d=()=>pe(null,null,function*(){if(e)try{yield a({doctype:"project_phase",name:e.name}),s&&s(),n()}catch(h){console.error("Error deleting phase:",h)}}),f=()=>{n()};return u.jsx(Ss,{open:t,onOpenChange:n,children:u.jsxs(Ns,{className:"sm:max-w-[400px]",children:[u.jsx(Es,{children:u.jsxs(ks,{className:"flex items-center gap-2 text-red-600",children:[u.jsx(Hh,{className:"h-5 w-5"}),"Delete Phase"]})}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this phase? This action cannot be undone."}),e&&u.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[u.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),u.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),u.jsxs("div",{className:"text-sm text-gray-600",children:["Priority: ",e.priority||"Medium"]})]}),u.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[u.jsxs("div",{className:"text-sm text-red-800",children:[u.jsx("strong",{children:"Warning:"})," Deleting this phase will also remove:"]}),u.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[u.jsx("li",{children:"All tasks associated with this phase"}),u.jsx("li",{children:"All phase progress data"}),u.jsx("li",{children:"Phase timeline and milestones"}),u.jsx("li",{children:"Related documents and attachments"})]})]}),l&&u.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:u.jsxs("p",{children:[u.jsx("strong",{children:"Error:"})," ",l.message||"Failed to delete phase"]})})]}),u.jsxs(Ts,{className:"flex gap-2",children:[u.jsx(Ie,{type:"button",variant:"outline",onClick:f,children:"Cancel"}),u.jsx(Ie,{type:"button",variant:"destructive",onClick:d,disabled:o,children:o?"Deleting...":"Delete Phase"})]})]})})};class o8{static usePhaseProgressCalculation(){const{updateDoc:t}=Fs();return{calculateAndUpdatePhaseProgress:s=>pe(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",name:s})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=(yield a.json()).message;if(!l||!l.tasks||l.tasks.length===0)return yield t("project_phase",s,{progress:0}),console.log(`Phase ${s} progress updated to 0% (no tasks)`),0;const d=l.tasks.map(b=>b.task),f=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["name","in",d]]})});if(!f.ok)throw new Error(`HTTP error! status: ${f.status}`);const p=(yield f.json()).message||[];if(p.length===0)return yield t("project_phase",s,{progress:0}),console.log(`Phase ${s} progress updated to 0% (no valid tasks)`),0;let x=0;p.forEach(b=>{x+=b.progress||0});const y=Math.round(x/p.length);return yield t("project_phase",s,{progress:y}),console.log(`Phase ${s} progress updated to ${y}% (based on ${p.length} tasks)`),y}catch(a){return console.error("Error calculating phase progress:",a),null}})}}static usePhaseStatusProgressUpdate(){const{updateDoc:t}=Fs();return{updatePhaseProgressByStatus:(s,a,o)=>pe(null,null,function*(){try{let l=o||0;switch(a){case"Completed":l=100;break;case"Cancelled":case"Rejected":l=0;break;default:break}return yield t("project_phase",s,{status:a,progress:l}),l}catch(l){return console.error("Error updating phase progress by status:",l),null}})}}static useManualPhaseProgressUpdate(){const{updateDoc:t}=Fs();return{updatePhaseProgress:(s,a)=>pe(null,null,function*(){try{let o="";return a===0||a===1?o="Open":a>1&&a<=90?o="Working":a>90&&a<100?o="Pending Review":a===100&&(o="Completed"),yield t("project_phase",s,{progress:a,status:o}),{progress:a,status:o}}catch(o){return console.error("Error updating manual phase progress:",o),null}})}}}const{usePhaseProgressCalculation:nT}=o8,l8=({phase:e,projectName:t,onBack:n,onViewTaskDetails:s,onPhaseUpdated:a,onPhaseDeleted:o,onTaskCreated:l})=>{var B;const[d,f]=S.useState(!1),[h,p]=S.useState(!1),[x,y]=S.useState(!1),[b,w]=S.useState(!1),{calculateAndUpdatePhaseProgress:_}=nT(),{data:j,mutate:N}=Jn("project_phase",e.name,"project_phase"),k=j||e,{data:C,isLoading:R,mutate:A}=yn("Task",{fields:["name","subject","status","priority","project","exp_start_date","exp_end_date","progress"],filters:[["project","=",t]],orderBy:{field:"exp_start_date",order:"asc"}}),M=_e.useMemo(()=>{if(!C)return[];if(k.tasks&&k.tasks.length>0){const Y=k.tasks.map(Q=>Q.task);return C.filter(Q=>Y.includes(Q.name))}return[]},[C,k.tasks]),z=_e.useMemo(()=>{if(!M||M.length===0)return 0;const Y=M.reduce((Q,ve)=>Q+(ve.progress||0),0);return Math.round(Y/M.length)},[M]);S.useEffect(()=>{M.length>0&&z!==(k.progress||0)&&P()},[z,M.length]);const P=()=>pe(null,null,function*(){w(!0);try{yield _(e.name),yield N(),a&&a()}catch(Y){console.error("Error recalculating phase progress:",Y)}finally{w(!1)}}),V=Y=>Y?new Date(Y).toLocaleDateString():"N/A",te=Y=>Y?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Y):"$0",$=Y=>{switch(Y){case"Completed":return u.jsx(Bh,{className:"h-5 w-5 text-green-600"});case"Working":return u.jsx(Il,{className:"h-5 w-5 text-yellow-600"});case"Open":return u.jsx(jo,{className:"h-5 w-5 text-blue-600"});default:return u.jsx(jo,{className:"h-5 w-5 text-gray-400"})}},Z=Y=>{switch(Y){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},le=Y=>{switch(Y){case"Urgent":return"bg-red-100 text-red-800 border-red-200";case"High":return"bg-orange-100 text-orange-800 border-orange-200";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},J=()=>{a&&a()},I=()=>{o&&o(),n()};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(Ie,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-2",children:[u.jsx(mx,{className:"h-4 w-4"}),"Back to Tasks"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>p(!0),className:"flex items-center gap-2",children:[u.jsx(Dl,{className:"h-4 w-4"}),"Edit Phase"]}),u.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>y(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[u.jsx(Fl,{className:"h-4 w-4"}),"Delete Phase"]})]})]}),u.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-6",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:"h-12 w-12 rounded-lg bg-blue-500 flex items-center justify-center",children:u.jsx("span",{className:"text-xl",children:"📋"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:k.subject}),u.jsx("p",{className:"text-sm text-gray-600",children:"Phase Details"})]})]}),k.details&&u.jsx("p",{className:"text-gray-700 leading-relaxed",children:k.details})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${Z(k.status||"Open")}`,children:[$(k.status||"Open"),u.jsx("span",{className:"font-medium",children:k.status||"Open"})]}),k.priority&&u.jsx("div",{className:`px-3 py-1 rounded-full border ${le(k.priority)}`,children:u.jsx("span",{className:"text-sm font-medium",children:k.priority})})]})]}),u.jsxs("div",{className:"mt-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Phase Progress"}),M.length>0&&u.jsxs("span",{className:"text-xs text-gray-500",children:["(Auto-calculated from ",M.length," tasks)"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[z,"%"]}),u.jsx(Ie,{variant:"ghost",size:"sm",onClick:P,disabled:b,className:"h-8 w-8 p-0",title:"Recalculate progress from tasks",children:u.jsx(xx,{className:`h-4 w-4 ${b?"animate-spin":""}`})})]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:u.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full transition-all duration-500",style:{width:`${z}%`}})}),M.length>0&&u.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Task progress: ",M.map(Y=>`${Y.subject}: ${Y.progress||0}%`).join(", ")]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:u.jsx(gr,{className:"h-6 w-6 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),u.jsx("p",{className:"text-lg font-bold text-gray-900",children:V(k.start_date)})]})]})}),u.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:u.jsx(yx,{className:"h-6 w-6 text-purple-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),u.jsx("p",{className:"text-lg font-bold text-gray-900",children:V(k.end_date)})]})]})}),u.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:u.jsx(px,{className:"h-6 w-6 text-green-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Estimated Cost"}),u.jsx("p",{className:"text-lg font-bold text-gray-900",children:te(k.costing)})]})]})})]}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Phase Information"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Phase ID"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:k.name})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),u.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${Z(k.status||"Open")}`,children:[$(k.status||"Open"),u.jsx("span",{className:"font-medium",children:k.status||"Open"})]})]}),u.jsxs("div",{className:"flex items-center justify-between py-3",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),u.jsx("div",{className:`px-3 py-1 rounded-full ${le(k.priority||"Medium")}`,children:u.jsx("span",{className:"font-medium",children:k.priority||"Medium"})})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Tasks Count"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:((B=k.tasks)==null?void 0:B.length)||0})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:k.start_date&&k.end_date?`${Math.ceil((new Date(k.end_date).getTime()-new Date(k.start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),u.jsxs("div",{className:"flex items-center justify-between py-3",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Progress"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-xl font-bold text-blue-600",children:[z,"%"]}),M.length>0&&u.jsxs("span",{className:"text-xs text-gray-500",children:["(from ",M.length," tasks)"]})]})]}),u.jsxs("div",{className:"flex items-center justify-between py-3",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Estimated Cost"}),u.jsx("span",{className:"text-xl font-bold text-green-600",children:te(e.costing)})]})]})]})]}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[u.jsx("div",{className:"flex items-center justify-between mb-6",children:u.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Tasks in this Phase"})}),R?u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),u.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),u.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"})]}):u.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[u.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:u.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3",children:[u.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700",children:"#"}),u.jsx("div",{className:"col-span-4 text-sm font-medium text-gray-700",children:"Task"}),u.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Progress"}),u.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Status"}),u.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700 text-center",children:"Priority"}),u.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Actions"})]})}),u.jsxs("div",{className:"divide-y divide-gray-100",children:[M&&M.length>0?M.map((Y,Q)=>u.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[u.jsx("div",{className:"col-span-1 flex items-center",children:u.jsx("span",{className:"text-sm text-gray-600",children:Q+1})}),u.jsxs("div",{className:"col-span-4 flex items-center gap-3",children:[u.jsx("div",{className:"p-1 bg-orange-100 rounded",children:u.jsx("span",{className:"text-sm",children:"📝"})}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-gray-900",children:Y.subject||Y.name}),u.jsx("div",{className:"text-sm text-gray-500",children:Y.name})]})]}),u.jsx("div",{className:"col-span-2 flex items-center justify-center",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${Y.progress||0}%`}})}),u.jsxs("span",{className:"text-sm font-medium text-gray-700 min-w-[30px]",children:[Y.progress||0,"%"]})]})}),u.jsx("div",{className:"col-span-2 flex items-center justify-center",children:u.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Z(Y.status||"Open")}`,children:Y.status||"Open"})}),u.jsx("div",{className:"col-span-1 flex items-center justify-center",children:Y.priority&&u.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${le(Y.priority)}`,children:Y.priority})}),u.jsx("div",{className:"col-span-2 flex items-center justify-center",children:s&&u.jsx(Ie,{variant:"outline",size:"sm",onClick:()=>s(Y),className:"h-7 px-2 text-xs",children:"View Details"})})]},Y.name)):u.jsxs("div",{className:"px-6 py-8 text-center text-gray-500",children:[u.jsx("div",{className:"text-4xl mb-2",children:"📝"}),u.jsx("div",{className:"text-lg font-medium mb-1",children:"No tasks yet"}),u.jsx("div",{className:"text-sm",children:'Click "Add Task" to create the first task for this phase'})]}),u.jsx("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 bg-gray-50 border-t border-gray-200",children:u.jsx("div",{className:"col-span-12 flex items-center justify-center",children:u.jsxs(Ie,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",onClick:()=>f(!0),children:[u.jsx(So,{className:"h-4 w-4"}),"Add new task to this phase"]})})})]})]})]}),u.jsx(r8,{isOpen:d,onClose:()=>f(!1),projectName:t,phaseId:e.name,onSuccess:()=>pe(null,null,function*(){console.log("Task creation success callback triggered"),console.log("Refreshing phase data..."),yield N(),l&&(console.log("Calling onTaskCreated to refresh parent data"),yield l()),console.log("Refreshing tasks data after phase refresh..."),setTimeout(()=>pe(null,null,function*(){yield A(),console.log("Tasks data refreshed"),setTimeout(()=>pe(null,null,function*(){console.log("Recalculating phase progress after task creation..."),yield P()}),500)}),500)})}),u.jsx(a8,{phase:e,projectName:t,isOpen:h,onClose:()=>p(!1),onSuccess:J}),u.jsx(i8,{phase:e,isOpen:x,onClose:()=>y(!1),onSuccess:I})]})};class c8{static useUpdateSubTask(){const{updateDoc:t,loading:n,error:s}=Fs();return{updateSubTask:(o,l)=>pe(null,null,function*(){return yield t("SubTask",o,l)}),isLoading:n,error:s}}static useSubTaskAssignment(){const{createDoc:t}=Ao(),{deleteDoc:n}=Ph(),{data:s}=Jn("User","",{shouldFetch:!0});return{assignSubTask:(l,d)=>pe(null,null,function*(){return yield t("ToDo",{allocated_to:d,assigned_by:(s==null?void 0:s.name)||"",reference_type:"SubTask",reference_name:l,description:`Assignment for SubTask: ${l}`,status:"Open"})}),unassignSubTask:l=>pe(null,null,function*(){return yield n("ToDo",l)})}}}const{useUpdateSubTask:u8,useSubTaskAssignment:sT}=c8;class d8{static useTaskProgressCalculation(){const{updateDoc:t}=Fs();return{calculateAndUpdateTaskProgress:s=>pe(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"SubTask",fields:["name","status"],filters:[["task","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=(yield a.json()).message||[];if(!l||l.length===0)return null;let d=0;l.forEach(h=>{switch(h.status){case"Open":d+=1;break;case"Working":d+=50;break;case"Completed":d+=100;break;default:d+=0}});const f=Math.round(d/l.length);return yield t("Task",s,{progress:f}),console.log(`Task ${s} progress updated to ${f}%`),f}catch(a){return console.error("Error calculating task progress:",a),null}})}}static useTaskStatusProgressUpdate(){const{updateDoc:t}=Fs();return{updateTaskProgressByStatus:(s,a,o)=>pe(null,null,function*(){try{let l=o||0;switch(a){case"Completed":l=100;break;case"Cancelled":case"Rejected":l=0;break;default:break}return yield t("Task",s,{status:a,progress:l}),l}catch(l){return console.error("Error updating task progress by status:",l),null}})}}static useManualProgressUpdate(){const{updateDoc:t}=Fs();return{updateTaskProgress:(s,a)=>pe(null,null,function*(){try{let o="";return a===0||a===1?o="Open":a>1&&a<=90?o="Working":a>90&&a<100?o="Pending Review":a===100&&(o="Completed"),yield t("Task",s,{progress:a,status:o}),{progress:a,status:o}}catch(o){return console.error("Error updating manual task progress:",o),null}})}}}const{useTaskProgressCalculation:Ju,useTaskStatusProgressUpdate:f8,useManualProgressUpdate:h8}=d8,m8=({isOpen:e,onClose:t,projectName:n,parentTask:s,onSuccess:a})=>{const[o,l]=S.useState({subject:"",description:"",priority:"Medium",status:"Open",task:s||"",assign_to:""}),[d,f]=S.useState({}),{createDoc:h,loading:p}=Ao(),{assignSubTask:x}=sT(),{calculateAndUpdateTaskProgress:y}=Ju(),{data:b,isLoading:w}=nc(n),_=(C,R)=>{l(A=>xe(U({},A),{[C]:R})),d[C]&&f(A=>xe(U({},A),{[C]:""}))},j=()=>{const C={};return o.subject.trim()||(C.subject="SubTask subject is required"),o.task.trim()||(C.task="Parent task is required"),f(C),Object.keys(C).length===0},N=C=>pe(null,null,function*(){if(C.preventDefault(),!!j())try{const R=o,{assign_to:A}=R,M=Me(R,["assign_to"]),z=yield h("SubTask",xe(U({},M),{project:n}));if(A&&z&&(yield x(z.name,A)),s)try{yield y(s)}catch(P){console.error("Error updating task progress after subtask creation:",P)}l({subject:"",description:"",priority:"Medium",status:"Open",task:s||"",assign_to:""}),f({}),a&&a(),t()}catch(A){console.error("Error creating subtask:",A),f({submit:"Failed to create subtask. Please try again."})}}),k=()=>{l({subject:"",description:"",priority:"Medium",status:"Open",task:s||"",assign_to:""}),f({}),t()};return u.jsx(Ss,{open:e,onOpenChange:k,children:u.jsxs(Ns,{className:"sm:max-w-[600px]",children:[u.jsxs(Es,{children:[u.jsxs(ks,{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-2xl",children:"📌"}),"Create New SubTask"]}),u.jsxs(_o,{children:["Create a new subtask for project: ",u.jsx("strong",{children:n}),s&&u.jsxs("span",{className:"block mt-1",children:["Parent Task: ",u.jsx("strong",{children:s})]})]})]}),u.jsxs("form",{onSubmit:N,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(He,{htmlFor:"subject",children:"SubTask Subject *"}),u.jsx($t,{id:"subject",value:o.subject,onChange:C=>_("subject",C.target.value),placeholder:"Enter subtask subject...",className:d.subject?"border-red-500":""}),d.subject&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.subject})]}),u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(He,{htmlFor:"task",children:"Parent Task *"}),u.jsx($t,{id:"task",value:o.task,onChange:C=>_("task",C.target.value),placeholder:"Enter parent task ID...",className:d.task?"border-red-500":""}),d.task&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.task}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Enter the Task ID that this subtask belongs to"})]}),u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(He,{htmlFor:"description",children:"Description"}),u.jsx("textarea",{id:"description",value:o.description,onChange:C=>_("description",C.target.value),placeholder:"Enter subtask description...",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"assign_to",children:"Assign To"}),u.jsxs("select",{id:"assign_to",value:o.assign_to,onChange:C=>_("assign_to",C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:w,children:[u.jsx("option",{value:"",children:"Select user..."}),b==null?void 0:b.map(C=>u.jsx("option",{value:C.user||C.name,children:C.user||C.name},C.name))]}),w&&u.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(He,{htmlFor:"priority",children:"Priority"}),u.jsxs("select",{id:"priority",value:o.priority,onChange:C=>_("priority",C.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[u.jsx("option",{value:"Low",children:"Low"}),u.jsx("option",{value:"Medium",children:"Medium"}),u.jsx("option",{value:"High",children:"High"})]})]}),u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(He,{htmlFor:"status",children:"Status"}),u.jsxs("select",{id:"status",value:o.status,onChange:C=>_("status",C.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[u.jsx("option",{value:"Open",children:"Open"}),u.jsx("option",{value:"Working",children:"Working"}),u.jsx("option",{value:"Completed",children:"Completed"})]})]})]})]}),d.submit&&u.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-md p-3",children:d.submit}),u.jsxs(Ts,{children:[u.jsx(Ie,{type:"button",variant:"outline",onClick:k,children:"Cancel"}),u.jsx(Ie,{type:"submit",disabled:p,children:p?"Creating...":"Create SubTask"})]})]})]})})};class rT{static useUpdateTask(){const{updateDoc:t,loading:n,error:s}=Fs();return{updateTask:(o,l)=>pe(null,null,function*(){const h=l,{assign_to:d}=h,f=Me(h,["assign_to"]);return yield t("Task",o,xe(U({},f),{exp_start_date:f.exp_start_date||void 0,exp_end_date:f.exp_end_date||void 0}))}),isLoading:n,error:s}}static useTaskAssignment(){const{createDoc:t}=Ao(),{deleteDoc:n}=Ph(),{data:s}=Jn("User","",{shouldFetch:!0});return{assignTask:(l,d,f,h="Medium")=>pe(null,null,function*(){return yield t("ToDo",{allocated_to:f,assigned_by:(s==null?void 0:s.name)||"",description:`Task: ${d}`,reference_type:"Task",reference_name:l,status:"Open",priority:h,date:new Date().toISOString().split("T")[0]})}),unassignTask:l=>pe(null,null,function*(){return yield n("ToDo",l)})}}}const p8=rT.useUpdateTask,g8=rT.useTaskAssignment,x8=({task:e,projectName:t,isOpen:n,onClose:s,onSuccess:a})=>{const{updateTask:o,isLoading:l,error:d}=p8(),{assignTask:f,unassignTask:h}=g8(),{updateTaskProgress:p}=h8(),{updateTaskProgressByStatus:x}=f8(),{data:y,isLoading:b}=nc(t),{data:w}=yn("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","Task"],["reference_name","=",(e==null?void 0:e.name)||""]]}),{data:_}=yn("SubTask",{fields:["name"],filters:[["task","=",(e==null?void 0:e.name)||""]],limit:1}),[j,N]=S.useState({subject:"",status:"Open",priority:"Medium",exp_start_date:"",exp_end_date:"",progress:0,description:"",assign_to:""}),[k,C]=S.useState(!1);S.useEffect(()=>{var z;if(e){const P=((z=w==null?void 0:w[0])==null?void 0:z.allocated_to)||"";N({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",exp_start_date:e.exp_start_date?e.exp_start_date.split(" ")[0]:"",exp_end_date:e.exp_end_date?e.exp_end_date.split(" ")[0]:"",progress:e.progress||0,description:e.description||"",assign_to:P})}},[e,w]),S.useEffect(()=>{C(!!(_&&_.length>0))},[_]);const R=(z,P)=>{N(V=>xe(U({},V),{[z]:P}))},A=z=>pe(null,null,function*(){var P,V,te;if(z.preventDefault(),!!e)try{const $=j.progress!==(e.progress||0),Z=j.status!==e.status;k&&$?yield p(e.name,j.progress):Z&&(j.status==="Completed"||j.status==="Cancelled")?yield x(e.name,j.status):yield o(e.name,j);const le=((P=w==null?void 0:w[0])==null?void 0:P.allocated_to)||"",J=j.assign_to;if(le!==J){if(le&&(w!=null&&w[0]))try{yield h(w[0].name)}catch(I){console.error("Error deleting old ToDo:",I)}if(J)try{yield f(e.name,j.subject,J,j.priority)}catch(I){console.error("Error creating new ToDo:",I)}}a&&a(),s()}catch($){console.error("Error updating task:",$),(V=$==null?void 0:$.message)!=null&&V.includes("modified")?alert("The task has been modified by someone else. Please close and reopen the task to get the latest version."):(te=$==null?void 0:$.message)!=null&&te.includes("permission")?alert("You do not have permission to update this task."):alert("Failed to update task. Please try again.")}}),M=()=>{var z;if(e){const P=((z=w==null?void 0:w[0])==null?void 0:z.allocated_to)||"";N({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",exp_start_date:e.exp_start_date?e.exp_start_date.split(" ")[0]:"",exp_end_date:e.exp_end_date?e.exp_end_date.split(" ")[0]:"",progress:e.progress||0,description:e.description||"",assign_to:P})}s()};return u.jsx(Ss,{open:n,onOpenChange:s,children:u.jsxs(Ns,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[u.jsx(Es,{children:u.jsx(ks,{children:"Edit Task"})}),u.jsxs("form",{onSubmit:A,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"subject",children:"Subject *"}),u.jsx($t,{id:"subject",value:j.subject,onChange:z=>R("subject",z.target.value),required:!0,placeholder:"Enter task subject"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"status",children:"Status"}),u.jsxs("select",{id:"status",value:j.status,onChange:z=>R("status",z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"Open",children:"Open"}),u.jsx("option",{value:"Working",children:"Working"}),u.jsx("option",{value:"Pending Review",children:"Pending Review"}),u.jsx("option",{value:"Overdue",children:"Overdue"}),u.jsx("option",{value:"Template",children:"Template"}),u.jsx("option",{value:"Completed",children:"Completed"}),u.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"priority",children:"Priority"}),u.jsxs("select",{id:"priority",value:j.priority,onChange:z=>R("priority",z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"Low",children:"Low"}),u.jsx("option",{value:"Medium",children:"Medium"}),u.jsx("option",{value:"High",children:"High"}),u.jsx("option",{value:"Urgent",children:"Urgent"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"assign_to",children:"Assign To"}),u.jsxs("select",{id:"assign_to",value:j.assign_to,onChange:z=>R("assign_to",z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:b,children:[u.jsx("option",{value:"",children:"Select user to assign (Optional)"}),y==null?void 0:y.map(z=>u.jsxs("option",{value:z.user||z.name,children:[z.full_name||z.name,z.email&&` (${z.email})`]},z.user||z.name))]}),b&&u.jsx("p",{className:"text-sm text-gray-500",children:"Loading users..."}),!b&&y&&y.length>10&&u.jsx("p",{className:"text-sm text-amber-600",children:"⚠️ Showing all system users (project users not available)"}),w&&w.length>0&&u.jsx("p",{className:"text-sm text-blue-600",children:"💡 Changing assignment will update the ToDo automatically"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"exp_start_date",children:"Expected Start Date"}),u.jsx($t,{id:"exp_start_date",type:"date",value:j.exp_start_date,onChange:z=>R("exp_start_date",z.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"exp_end_date",children:"Expected End Date"}),u.jsx($t,{id:"exp_end_date",type:"date",value:j.exp_end_date,onChange:z=>R("exp_end_date",z.target.value)})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"progress",children:"Progress (%)"}),u.jsx($t,{id:"progress",type:"number",min:"0",max:"100",value:j.progress,onChange:z=>R("progress",parseInt(z.target.value)||0),placeholder:"0",disabled:k}),k?u.jsxs("div",{className:"text-sm text-blue-600 bg-blue-50 p-2 rounded",children:[u.jsx("strong",{children:"🔄 Smart Progress Mode:"}),u.jsxs("ul",{className:"mt-1 ml-4 list-disc text-xs",children:[u.jsx("li",{children:"Progress is automatically calculated from subtasks"}),u.jsx("li",{children:"Only assignee can manually override progress"}),u.jsx("li",{children:"Project leaders can set progress via status changes"})]})]}):u.jsxs("div",{className:"text-sm text-green-600 bg-green-50 p-2 rounded",children:[u.jsx("strong",{children:"✏️ Manual Progress Mode:"}),u.jsx("span",{className:"text-xs",children:" Progress can be updated manually by anyone with edit permission"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"description",children:"Description"}),u.jsx("textarea",{id:"description",value:j.description,onChange:z=>R("description",z.target.value),placeholder:"Enter task description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),d&&u.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:u.jsxs("p",{children:[u.jsx("strong",{children:"Error:"})," ",d.message||"Failed to update task"]})}),u.jsxs(Ts,{className:"flex gap-2",children:[u.jsx(Ie,{type:"button",variant:"outline",onClick:M,children:"Cancel"}),u.jsx(Ie,{type:"submit",disabled:l,children:l?"Updating...":"Update Task"})]})]})]})})},y8=({task:e,isOpen:t,onClose:n,onSuccess:s})=>{const{deleteDoc:a,loading:o,error:l}=Ph(),[d,f]=S.useState(!1),h=()=>pe(null,null,function*(){var x,y;if(e){f(!0);try{const b=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"SubTask",fields:["name"],filters:[["task","=",e.name]]})});if(b.ok){const _=(yield b.json()).message||[];if(_.length>0)for(const j of _)yield a("SubTask",j.name)}try{const w=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","subject","status","priority","start_date","end_date","progress","details","costing"],filters:[["project","=",e.project]],orderBy:{field:"start_date",order:"asc"}})});if(w.ok){const j=(yield w.json()).message||[],N=[];for(const k of j)try{const C=yield fetch(`/api/resource/project_phase/${k.name}`,{headers:{Accept:"application/json"}});if(C.ok){const R=yield C.json(),A=((x=R.data)==null?void 0:x.tasks)||[],M=A.findIndex(z=>z.task===e.name);M>=0&&(console.log(`Found task ${e.name} in phase ${k.name}, will remove from child table...`),A.splice(M,1),N.push({name:k.name,data:xe(U({},R.data),{tasks:A})}))}else console.warn("Failed to fetch phase:",k.name)}catch(C){console.error("Error fetching phase:",k.name,C)}for(const k of N)try{(yield fetch(`/api/resource/project_phase/${k.name}`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(k.data)})).ok?console.log(`Successfully removed task ${e.name} from phase ${k.name}`):console.warn(`Failed to update phase ${k.name} after removing task`)}catch(C){console.error(`Error updating phase ${k.name}:`,C)}}else console.warn("Failed to fetch phases list, proceeding with task deletion...")}catch(w){console.warn("Error checking phases for task references:",w)}yield a("Task",e.name),console.log(`Successfully deleted task ${e.name}`),s&&s(),n()}catch(b){console.error("Error deleting task:",b),(y=b==null?void 0:b.exception)!=null&&y.includes("LinkExistsError")?b.exception.includes("project_phase")||b.exception.includes("phase")?alert("Cannot delete task because it is still linked with project phases. The system tried to remove phase task links automatically but failed. Please contact administrator."):b.exception.includes("SubTask")?alert("Cannot delete task because it has linked subtasks. Please delete all subtasks first."):alert("Cannot delete task because it has linked dependencies. Please check related records."):alert("Error deleting task. Please try again.")}finally{f(!1)}}}),p=()=>{n()};return u.jsx(Ss,{open:t,onOpenChange:n,children:u.jsxs(Ns,{className:"sm:max-w-[400px]",children:[u.jsx(Es,{children:u.jsxs(ks,{className:"flex items-center gap-2 text-red-600",children:[u.jsx(Hh,{className:"h-5 w-5"}),"Delete Task"]})}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this task? This action cannot be undone."}),e&&u.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[u.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),u.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),u.jsxs("div",{className:"text-sm text-gray-600",children:["Priority: ",e.priority||"Medium"]}),u.jsxs("div",{className:"text-sm text-gray-600",children:["Progress: ",e.progress||0,"%"]}),e.project&&u.jsxs("div",{className:"text-sm text-blue-600",children:["Project: ",e.project]})]}),u.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[u.jsxs("div",{className:"text-sm text-red-800",children:[u.jsx("strong",{children:"⚠️ Warning:"})," Deleting this task will automatically:"]}),u.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Delete ALL subtasks first"})," (to resolve SubTask dependencies)"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Remove task from ALL phase child tables"})," (for any phases this task is assigned to)"]}),u.jsx("li",{children:"Remove all task progress data"}),u.jsx("li",{children:"Delete task timeline and activities"}),u.jsx("li",{children:"Remove related comments and attachments"})]}),u.jsx("div",{className:"text-xs text-red-600 mt-2 font-medium",children:"💡 The system will automatically search and handle ALL dependencies to prevent LinkExistsError."})]}),l&&u.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:u.jsxs("p",{children:[u.jsx("strong",{children:"Error:"})," ",l.message||"Failed to delete task"]})})]}),u.jsxs(Ts,{className:"flex gap-2",children:[u.jsx(Ie,{type:"button",variant:"outline",onClick:p,disabled:d,children:"Cancel"}),u.jsx(Ie,{type:"button",variant:"destructive",onClick:h,disabled:d||o,children:d?"Deleting Task & SubTasks...":o?"Deleting...":"Delete Task"})]})]})})};class gy{static useProjectProgressFromPhases(){const{updateDoc:t}=Fs();return{calculateAndUpdateProjectProgressFromPhases:s=>pe(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","progress"],filters:[["project","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=(yield a.json()).message||[];if(!l||l.length===0){const{calculateAndUpdateProjectProgressFromTasks:h}=gy.useProjectProgressFromTasks();return yield h(s)}let d=0;l.forEach(h=>{d+=h.progress||0});const f=Math.round(d/l.length);return yield t("Project",s,{percent_complete:f}),console.log(`Project ${s} progress updated to ${f}% (from ${l.length} phases)`),f}catch(a){return console.error("Error calculating project progress from phases:",a),null}})}}static useProjectProgressFromTasks(){const{updateDoc:t}=Fs();return{calculateAndUpdateProjectProgressFromTasks:s=>pe(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["project","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=(yield a.json()).message||[];if(!l||l.length===0)return yield t("Project",s,{percent_complete:0}),console.log(`Project ${s} progress updated to 0% (no tasks)`),0;let d=0;l.forEach(h=>{d+=h.progress||0});const f=Math.round(d/l.length);return yield t("Project",s,{percent_complete:f}),console.log(`Project ${s} progress updated to ${f}% (from ${l.length} tasks)`),f}catch(a){return console.error("Error calculating project progress from tasks:",a),null}})}}static useProjectProgressCalculation(){const{updateDoc:t}=Fs();return{calculateAndUpdateProjectProgress:s=>pe(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","progress"],filters:[["project","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=(yield a.json()).message||[];if(l&&l.length>0){let d=0;l.forEach(h=>{d+=h.progress||0});const f=Math.round(d/l.length);return yield t("Project",s,{percent_complete:f}),console.log(`Project ${s} progress updated to ${f}% (from ${l.length} phases)`),{progress:f,source:"phases",count:l.length}}else{const d=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["project","=",s]]})});if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);const h=(yield d.json()).message||[];if(!h||h.length===0)return yield t("Project",s,{percent_complete:0}),console.log(`Project ${s} progress updated to 0% (no tasks)`),{progress:0,source:"none",count:0};let p=0;h.forEach(y=>{p+=y.progress||0});const x=Math.round(p/h.length);return yield t("Project",s,{percent_complete:x}),console.log(`Project ${s} progress updated to ${x}% (from ${h.length} tasks)`),{progress:x,source:"tasks",count:h.length}}}catch(a){return console.error("Error calculating project progress:",a),null}})}}static useProjectStatusProgressUpdate(){const{updateDoc:t}=Fs();return{updateProjectProgressByStatus:(s,a,o)=>pe(null,null,function*(){try{let l=o||0;switch(a){case"Completed":l=100;break;case"Cancelled":case"Rejected":l=0;break;default:break}return yield t("Project",s,{status:a,percent_complete:l}),l}catch(l){return console.error("Error updating project progress by status:",l),null}})}}}const{useProjectProgressCalculation:b8}=gy,xy=()=>{const{calculateAndUpdatePhaseProgress:e}=nT(),{calculateAndUpdateProjectProgress:t}=b8();return{updatePhaseProgressForTask:(a,o)=>pe(null,null,function*(){try{const l=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","tasks"],filters:[["project","=",o]]})});if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);const h=((yield l.json()).message||[]).filter(p=>p.tasks&&p.tasks.some(x=>x.task===a));for(const p of h)console.log(`Updating progress for phase ${p.name} after task ${a} change`),yield e(p.name);return console.log(`Updating overall project progress for ${o} after task ${a} change`),yield t(o),console.log(`Updated progress for ${h.length} phases and project ${o} affected by task ${a}`),h}catch(l){return console.error("Error updating phase progress for task:",l),[]}}),updateProjectProgress:a=>pe(null,null,function*(){try{console.log(`Updating overall project progress for ${a}`);const o=yield t(a);return o&&console.log(`Project ${a} progress updated to ${o.progress}% from ${o.source} (${o.count} items)`),o}catch(o){return console.error("Error updating project progress:",o),null}})}},v8=({task:e,projectName:t,onBack:n,onViewSubTaskDetails:s,onTaskUpdated:a,onTaskDeleted:o})=>{const[l,d]=S.useState(!1),[f,h]=S.useState(!1),[p,x]=S.useState(!1),{updatePhaseProgressForTask:y}=xy(),{calculateAndUpdateTaskProgress:b}=Ju(),{data:w,isLoading:_,mutate:j}=yn("SubTask",{fields:["name","subject","task","status","progress","start_date","end_date","description"],filters:[["task","=",e.name]],orderBy:{field:"start_date",order:"asc"}}),{data:N}=yn("ToDo",{fields:["name","allocated_to","status"],filters:[["reference_type","=","Task"],["reference_name","=",e.name]],limit:1}),k=N&&N.length>0?N[0].allocated_to:null,{data:C}=Jn("User",k||void 0,{fields:["name","full_name","email","user_image"]}),R=$=>$?new Date($).toLocaleDateString():"N/A",A=$=>{switch($){case"Completed":return u.jsx(Bh,{className:"h-5 w-5 text-green-600"});case"Working":return u.jsx(Il,{className:"h-5 w-5 text-yellow-600"});case"Open":return u.jsx(jo,{className:"h-5 w-5 text-blue-600"});default:return u.jsx(jo,{className:"h-5 w-5 text-gray-400"})}},M=$=>{switch($){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},z=$=>{switch($){case"Urgent":return"bg-red-100 text-red-800 border-red-200";case"High":return"bg-orange-100 text-orange-800 border-orange-200";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},P=()=>{a&&a(),y(e.name,t).catch(console.error)},V=()=>{o&&o(),y(e.name,t).catch(console.error),n()},te=({subtask:$})=>{var J;const{data:Z}=yn("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",($==null?void 0:$.name)||""]]}),le=(J=Z==null?void 0:Z[0])==null?void 0:J.allocated_to;return u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("span",{children:le})})};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(Ie,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-2",children:[u.jsx(mx,{className:"h-4 w-4"}),"Back to Tasks"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>h(!0),className:"flex items-center gap-2",children:[u.jsx(Dl,{className:"h-4 w-4"}),"Edit Task"]}),u.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>x(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[u.jsx(Fl,{className:"h-4 w-4"}),"Delete Task"]})]})]}),u.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 border border-orange-200 rounded-xl p-6",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:"h-12 w-12 rounded-lg bg-orange-500 flex items-center justify-center",children:u.jsx("span",{className:"text-xl",children:"📝"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.subject}),u.jsx("p",{className:"text-sm text-gray-600",children:"Task Details"})]})]}),e.description&&u.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.description})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${M(e.status||"Open")}`,children:[A(e.status||"Open"),u.jsx("span",{className:"font-medium",children:e.status||"Open"})]}),e.priority&&u.jsx("div",{className:`px-3 py-1 rounded-full border ${z(e.priority)}`,children:u.jsx("span",{className:"text-sm font-medium",children:e.priority})})]})]}),u.jsxs("div",{className:"mt-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Task Progress"}),u.jsxs("span",{className:"text-lg font-bold text-orange-600",children:[e.progress||0,"%"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:u.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-yellow-600 h-3 rounded-full transition-all duration-500",style:{width:`${e.progress||0}%`}})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:u.jsx(gr,{className:"h-6 w-6 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),u.jsx("p",{className:"text-lg font-bold text-gray-900",children:R(e.exp_start_date)})]})]})}),u.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:u.jsx(yx,{className:"h-6 w-6 text-purple-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),u.jsx("p",{className:"text-lg font-bold text-gray-900",children:R(e.exp_end_date)})]})]})}),u.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:u.jsx(Du,{className:"h-6 w-6 text-green-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Assigned To"}),N&&N.length>0?u.jsxs("div",{children:[u.jsx("p",{className:"text-lg font-bold text-gray-900",children:(C==null?void 0:C.full_name)||k}),(C==null?void 0:C.email)&&u.jsx("p",{className:"text-sm text-gray-600",children:C.email})]}):u.jsx("p",{className:"text-lg font-bold text-gray-900",children:"Unassigned"})]})]})})]}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Task Information"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Task ID"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:e.name})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),u.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${M(e.status||"Open")}`,children:[A(e.status||"Open"),u.jsx("span",{className:"font-medium",children:e.status||"Open"})]})]}),u.jsxs("div",{className:"flex items-center justify-between py-3",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),u.jsx("div",{className:`px-3 py-1 rounded-full ${z(e.priority||"Medium")}`,children:u.jsx("span",{className:"font-medium",children:e.priority||"Medium"})})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Subtasks Count"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:(w==null?void 0:w.length)||0})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:e.exp_start_date&&e.exp_end_date?`${Math.ceil((new Date(e.exp_end_date).getTime()-new Date(e.exp_start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Progress"}),u.jsxs("span",{className:"text-xl font-bold text-orange-600",children:[e.progress||0,"%"]})]}),u.jsxs("div",{className:"flex items-center justify-between py-3",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Assigned To"}),N&&N.length>0?u.jsx("div",{children:u.jsx("p",{className:"text-lg font-bold text-gray-900",children:(C==null?void 0:C.full_name)||k})}):u.jsx("p",{className:"text-lg font-bold text-gray-900",children:"Unassigned"})]})]})]})]}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[u.jsx("div",{className:"flex items-center justify-between mb-6",children:u.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"SubTasks"})}),_?u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),u.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),u.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"})]}):u.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[u.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:u.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3",children:[u.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700",children:"#"}),u.jsx("div",{className:"col-span-5 text-sm font-medium text-gray-700",children:"SubTask"}),u.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Status"}),u.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Assign To"}),u.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Actions"})]})}),u.jsxs("div",{className:"divide-y divide-gray-100",children:[w&&w.length>0?w.map(($,Z)=>u.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[u.jsx("div",{className:"col-span-1 flex items-center",children:u.jsx("span",{className:"text-sm text-gray-600",children:Z+1})}),u.jsxs("div",{className:"col-span-5 flex items-center gap-3",children:[u.jsx("div",{className:"p-1 bg-green-100 rounded",children:u.jsx("span",{className:"text-sm",children:"✅"})}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-gray-900",children:$.subject||$.name}),u.jsx("div",{className:"text-sm text-gray-500",children:$.name})]})]}),u.jsx("div",{className:"col-span-2 flex items-center justify-center",children:u.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${M($.status||"Open")}`,children:$.status||"Open"})}),u.jsx("div",{className:"col-span-2 flex items-center justify-center",children:u.jsx(te,{subtask:$})}),u.jsx("div",{className:"col-span-2 flex items-center justify-center",children:s&&u.jsx(Ie,{variant:"outline",size:"sm",onClick:()=>s($),className:"h-7 px-2 text-xs",children:"View Details"})})]},$.name)):u.jsxs("div",{className:"px-6 py-8 text-center text-gray-500",children:[u.jsx("div",{className:"text-4xl mb-2",children:"✅"}),u.jsx("div",{className:"text-lg font-medium mb-1",children:"No subtasks yet"}),u.jsx("div",{className:"text-sm",children:'Click "Add SubTask" to create the first subtask for this task'})]}),u.jsx("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 bg-gray-50 border-t border-gray-200",children:u.jsx("div",{className:"col-span-12 flex items-center justify-center",children:u.jsxs(Ie,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",onClick:()=>d(!0),children:[u.jsx(So,{className:"h-4 w-4"}),"Add new subtask to this task"]})})})]})]})]}),u.jsx(m8,{isOpen:l,onClose:()=>d(!1),projectName:t,parentTask:e.name,onSuccess:()=>pe(null,null,function*(){console.log("SubTask created successfully for task:",e.name),j(),setTimeout(()=>pe(null,null,function*(){console.log("Recalculating task progress after subtask creation..."),yield b(e.name),setTimeout(()=>pe(null,null,function*(){console.log("Updating phase progress after task progress update..."),yield y(e.name,t)}),500)}),500)})}),u.jsx(x8,{task:e,projectName:t,isOpen:f,onClose:()=>h(!1),onSuccess:P}),u.jsx(y8,{task:e,isOpen:p,onClose:()=>x(!1),onSuccess:V})]})},w8=({subtask:e,projectName:t,isOpen:n,onClose:s,onSuccess:a})=>{var R;const{updateSubTask:o,isLoading:l,error:d}=u8(),{assignSubTask:f,unassignSubTask:h}=sT(),{calculateAndUpdateTaskProgress:p}=Ju(),{data:x,isLoading:y}=nc(t),{data:b}=yn("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(e==null?void 0:e.name)||""]]}),[w,_]=S.useState({subject:"",status:"Open",start_date:"",end_date:"",description:"",assign_to:""}),j=((R=b==null?void 0:b[0])==null?void 0:R.allocated_to)||"";S.useEffect(()=>{e&&_({subject:e.subject||"",status:e.status||"Open",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",description:e.description||"",assign_to:j})},[e,j]);const N=(A,M)=>{_(z=>xe(U({},z),{[A]:M}))},k=A=>pe(null,null,function*(){if(A.preventDefault(),!!e)try{const M=w,{assign_to:z}=M,P=Me(M,["assign_to"]);yield o(e.name,P);const V=j,te=z;if(V&&V!==te){const $=b==null?void 0:b.find(Z=>Z.allocated_to===V);$&&(yield h($.name))}te&&te!==V&&(yield f(e.name,te)),e.task&&P.status!==e.status&&(yield p(e.task)),a&&a(),s()}catch(z){console.error("Error updating subtask:",z)}}),C=()=>{e&&_({subject:e.subject||"",status:e.status||"Open",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",description:e.description||"",assign_to:j}),s()};return u.jsx(Ss,{open:n,onOpenChange:s,children:u.jsxs(Ns,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[u.jsx(Es,{children:u.jsx(ks,{children:"Edit SubTask"})}),u.jsxs("form",{onSubmit:k,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"subject",children:"Subject *"}),u.jsx($t,{id:"subject",value:w.subject,onChange:A=>N("subject",A.target.value),required:!0,placeholder:"Enter subtask subject"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"status",children:"Status"}),u.jsxs("select",{id:"status",value:w.status,onChange:A=>N("status",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"Open",children:"Open"}),u.jsx("option",{value:"Working",children:"Working"}),u.jsx("option",{value:"Pending Review",children:"Pending Review"}),u.jsx("option",{value:"Completed",children:"Completed"}),u.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"start_date",children:"Start Date"}),u.jsx($t,{id:"start_date",type:"date",value:w.start_date,onChange:A=>N("start_date",A.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"end_date",children:"End Date"}),u.jsx($t,{id:"end_date",type:"date",value:w.end_date,onChange:A=>N("end_date",A.target.value)})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"description",children:"Description"}),u.jsx("textarea",{id:"description",value:w.description,onChange:A=>N("description",A.target.value),placeholder:"Enter subtask description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"assign_to",children:"Assign To"}),u.jsxs("select",{id:"assign_to",value:w.assign_to,onChange:A=>N("assign_to",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:y,children:[u.jsx("option",{value:"",children:"Select user..."}),x==null?void 0:x.map(A=>u.jsx("option",{value:A.user||A.name,children:A.user||A.name},A.name))]}),y&&u.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),d&&u.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:u.jsxs("p",{children:[u.jsx("strong",{children:"Error:"})," ",d.message||"Failed to update subtask"]})}),u.jsxs(Ts,{className:"flex gap-2",children:[u.jsx(Ie,{type:"button",variant:"outline",onClick:C,children:"Cancel"}),u.jsx(Ie,{type:"submit",disabled:l,children:l?"Updating...":"Update SubTask"})]})]})]})})},_8=({subtask:e,isOpen:t,onClose:n,onSuccess:s})=>{const{call:a,loading:o,error:l}=hs("frappe.client.delete"),{calculateAndUpdateTaskProgress:d}=Ju(),f=()=>pe(null,null,function*(){if(e)try{if(yield a({doctype:"SubTask",name:e.name}),e.task)try{yield d(e.task)}catch(p){console.error("Error updating task progress after subtask deletion:",p)}s&&s(),n()}catch(p){console.error("Error deleting subtask:",p)}}),h=()=>{n()};return u.jsx(Ss,{open:t,onOpenChange:n,children:u.jsxs(Ns,{className:"sm:max-w-[400px]",children:[u.jsx(Es,{children:u.jsxs(ks,{className:"flex items-center gap-2 text-red-600",children:[u.jsx(Hh,{className:"h-5 w-5"}),"Delete SubTask"]})}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this subtask? This action cannot be undone."}),e&&u.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[u.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),u.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),u.jsxs("div",{className:"text-sm text-gray-600",children:["Progress: ",e.progress||0,"%"]}),u.jsxs("div",{className:"text-sm text-gray-600",children:["Task: ",e.task]})]}),u.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[u.jsxs("div",{className:"text-sm text-red-800",children:[u.jsx("strong",{children:"Warning:"})," Deleting this subtask will also remove:"]}),u.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[u.jsx("li",{children:"All subtask progress data"}),u.jsx("li",{children:"Subtask timeline and activities"}),u.jsx("li",{children:"Related comments and attachments"}),u.jsx("li",{children:"Any associated time logs"})]})]}),l&&u.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:u.jsxs("p",{children:[u.jsx("strong",{children:"Error:"})," ",l.message||"Failed to delete subtask"]})})]}),u.jsxs(Ts,{className:"flex gap-2",children:[u.jsx(Ie,{type:"button",variant:"outline",onClick:h,children:"Cancel"}),u.jsx(Ie,{type:"button",variant:"destructive",onClick:f,disabled:o,children:o?"Deleting...":"Delete SubTask"})]})]})})},j8=({subtask:e,projectName:t,onBack:n,onSubTaskUpdated:s,onSubTaskDeleted:a})=>{var C;const[o,l]=S.useState(!1),[d,f]=S.useState(!1),{calculateAndUpdateTaskProgress:h}=Ju(),{updatePhaseProgressForTask:p}=xy(),{data:x}=yn("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(e==null?void 0:e.name)||""]]}),y=(C=x==null?void 0:x[0])==null?void 0:C.allocated_to,{data:b}=Jn("User",y||"",{shouldFetch:!!y}),w=R=>R?new Date(R).toLocaleDateString():"N/A",_=R=>{switch(R){case"Completed":return u.jsx(Bh,{className:"h-5 w-5 text-green-600"});case"Working":return u.jsx(Il,{className:"h-5 w-5 text-yellow-600"});case"Open":return u.jsx(jo,{className:"h-5 w-5 text-blue-600"});default:return u.jsx(jo,{className:"h-5 w-5 text-gray-400"})}},j=R=>{switch(R){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},N=()=>pe(null,null,function*(){if(e!=null&&e.task)try{yield h(e.task),setTimeout(()=>pe(null,null,function*(){try{yield p(e.task,t),console.log("Phase progress updated after subtask edit")}catch(R){console.error("Error updating phase progress after subtask edit:",R)}}),500)}catch(R){console.error("Error updating task progress after subtask edit:",R)}s&&s()}),k=()=>pe(null,null,function*(){if(e!=null&&e.task)try{yield h(e.task),setTimeout(()=>pe(null,null,function*(){try{yield p(e.task,t),console.log("Phase progress updated after subtask delete")}catch(R){console.error("Error updating phase progress after subtask delete:",R)}}),500)}catch(R){console.error("Error updating task progress after subtask delete:",R)}a&&a(),n()});return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(Ie,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-2",children:[u.jsx(mx,{className:"h-4 w-4"}),"Back to Tasks"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>l(!0),className:"flex items-center gap-2",children:[u.jsx(Dl,{className:"h-4 w-4"}),"Edit SubTask"]}),u.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>f(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[u.jsx(Fl,{className:"h-4 w-4"}),"Delete SubTask"]})]})]}),u.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-6",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:"h-12 w-12 rounded-lg bg-green-500 flex items-center justify-center",children:u.jsx("span",{className:"text-xl",children:"✅"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.subject}),u.jsx("p",{className:"text-sm text-gray-600",children:"SubTask Details"})]})]}),e.description&&u.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.description})]}),u.jsx("div",{className:"flex items-center gap-3",children:u.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${j(e.status||"Open")}`,children:[_(e.status||"Open"),u.jsx("span",{className:"font-medium",children:e.status||"Open"})]})})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:u.jsx(gr,{className:"h-6 w-6 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),u.jsx("p",{className:"text-lg font-bold text-gray-900",children:w(e.start_date)})]})]})}),u.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:u.jsx(yx,{className:"h-6 w-6 text-purple-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),u.jsx("p",{className:"text-lg font-bold text-gray-900",children:w(e.end_date)})]})]})}),u.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-6",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:u.jsx(lN,{className:"h-6 w-6 text-orange-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-orange-600 uppercase tracking-wide",children:"Parent Task"}),u.jsx("p",{className:"text-lg font-bold text-gray-900",children:e.task||"N/A"})]})]})})]}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"SubTask Information"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"SubTask ID"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:e.name})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Parent Task"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:e.task||"N/A"})]}),u.jsxs("div",{className:"flex items-center justify-between py-3",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),u.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${j(e.status||"Open")}`,children:[_(e.status||"Open"),u.jsx("span",{className:"font-medium",children:e.status||"Open"})]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Start Date"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:w(e.start_date)})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"End Date"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:w(e.end_date)})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:e.start_date&&e.end_date?`${Math.ceil((new Date(e.end_date).getTime()-new Date(e.start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-t border-gray-100",children:[u.jsxs("span",{className:"text-gray-600 font-medium flex items-center gap-2",children:[u.jsx(Du,{className:"h-4 w-4"}),"Assigned To"]}),u.jsx("span",{className:"text-gray-900 font-semibold",children:y?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{children:(b==null?void 0:b.full_name)||y}),(b==null?void 0:b.user_image)&&u.jsx("img",{src:b.user_image,alt:b.full_name||y,className:"h-6 w-6 rounded-full"})]}):u.jsx("span",{className:"text-gray-400",children:"Not assigned"})})]})]})]})]}),e.description&&u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Description"}),u.jsx("div",{className:"prose max-w-none",children:u.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:e.description})})]}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Activity Timeline"}),u.jsxs("div",{className:"text-center py-8 text-gray-500",children:[u.jsx("div",{className:"text-4xl mb-2",children:"📋"}),u.jsx("div",{className:"text-lg font-medium mb-1",children:"No activity yet"}),u.jsx("div",{className:"text-sm",children:"Activity and updates will appear here when available"})]})]}),u.jsx(w8,{subtask:e,projectName:t,isOpen:o,onClose:()=>l(!1),onSuccess:N}),u.jsx(_8,{subtask:e,isOpen:d,onClose:()=>f(!1),onSuccess:k})]})},xo=class xo{static useUserProjects(){const{currentUser:t}=Ou(),{data:n,isLoading:s,error:a,mutate:o}=yn("Project",{fields:xo.PROJECT_FIELDS,filters:t?[["owner","=",t]]:[]}),{data:l,isLoading:d,error:f,mutate:h}=yn("Project",{fields:xo.PROJECT_FIELDS,limit:0}),p=_e.useMemo(()=>{if(!t)return[];const y=w=>{const _=new Map;return w.forEach(j=>{var k;const N=j.name;if(!_.has(N)){const C={name:j.name,owner:j.owner,project_name:j.project_name,project_type:j.project_type,status:j.status,customer:j.customer,expected_start_date:j.expected_start_date,expected_end_date:j.expected_end_date,percent_complete:j.percent_complete,priority:j.priority,estimated_costing:j.estimated_costing,total_billable_amount:j.total_billable_amount,company:j.company,users:[]};_.set(N,C)}if(j.user){const C=_.get(N);((k=C.users)==null?void 0:k.some(A=>A.user===j.user))||(C.users=C.users||[],C.users.push({user:j.user,email:j.email,full_name:j.full_name,project_status:j.project_status}))}}),Array.from(_.values())};let b=[];if(n&&n.length>0&&(b=b.concat(n)),l&&l.length>0){const w=l.filter(_=>_.owner===t||_.user&&_.user===t);b=b.concat(w)}return y(b)},[n,l,t]),x=_e.useCallback(()=>{o(),h()},[o,h]);return{data:p,isLoading:s||d,error:a&&f?a||f:null,mutate:x}}static useProject(t){const{data:n,isLoading:s,error:a,mutate:o}=Jn("Project",t||"",t?"Project":void 0);return{data:n,isLoading:s,error:a,mutate:o}}static useProjectOwner(t){const{data:n,isLoading:s,error:a}=Jn("User",t||"",t?void 0:null);return{data:n,isLoading:s,error:a}}static useCreateProject(){const{createDoc:t,loading:n,error:s}=Ao();return{createProject:o=>pe(null,null,function*(){return yield t("Project",xe(U({},o),{expected_start_date:o.expected_start_date||void 0,expected_end_date:o.expected_end_date||void 0}))}),isLoading:n,error:s}}static useUpdateProject(){const{updateDoc:t,loading:n,error:s}=Fs();return{updateProject:(o,l)=>pe(null,null,function*(){return yield t("Project",o,xe(U({},l),{expected_start_date:l.expected_start_date||void 0,expected_end_date:l.expected_end_date||void 0}))}),isLoading:n,error:s}}static useDeleteProject(){const{call:t,loading:n,error:s}=hs("frappe.client.delete");return{deleteProject:o=>pe(null,null,function*(){return yield t({doctype:"Project",name:o})}),isLoading:n,error:s}}static useProjectMembers(){const{call:t}=hs("frappe.client.insert"),{call:n}=hs("frappe.client.save"),{call:s}=hs("frappe.client.delete");return{addMember:d=>pe(null,null,function*(){return yield t({doc:xe(U({doctype:"Project User"},d),{welcome_email_sent:1})})}),updateMember:(d,f)=>pe(null,null,function*(){return yield n({doc:U({doctype:"Project User",name:d},f)})}),removeMember:d=>pe(null,null,function*(){return yield s({doctype:"Project User",name:d})})}}static useProjectOwnerManagement(){const{call:t}=hs("frappe.client.save"),{call:n}=hs("frappe.client.set_value");return{transferOwner:(o,l)=>pe(null,null,function*(){try{return yield t({doc:{doctype:"Project",name:o,owner:l}}),{success:!0,method:"save"}}catch(d){try{return yield n({doctype:"Project",name:o,fieldname:"owner",value:l}),{success:!0,method:"set_value"}}catch(f){throw new Error("Owner field is protected by ERPNext")}}}),transferOwnerWithAPI:(o,l)=>pe(null,null,function*(){try{const d=yield fetch("/api/method/my_app.api.project_transfer.transfer_project_owner",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({project_name:o,new_owner:l})}),f=yield d.json();return d.ok&&f.message?{success:!0,data:f.message}:{success:!1,error:f.message||"Transfer failed"}}catch(d){return{success:!1,error:d instanceof Error?d.message:"Unknown error"}}})}}static useProjectUsers(t){const{data:n,isLoading:s,error:a,mutate:o}=Jn("Project",t,{fields:["name","users"]});return{data:(n==null?void 0:n.users)||[],isLoading:s,error:a,mutate:o}}static useProjectUsersAlt(t){const{data:n,isLoading:s,error:a,mutate:o}=yn("Project User",{fields:["name","user","email","full_name","image"],filters:[["parent","=",t]],limit:0});return{data:n||[],isLoading:s,error:a,mutate:o}}};ut(xo,"PROJECT_FIELDS",["name","owner","project_name","project_type","status","customer","expected_start_date","expected_end_date","percent_complete","priority","estimated_costing","total_billable_amount","company","users.user","users.email","users.full_name","users.project_status"]),ut(xo,"DETAILED_PROJECT_FIELDS",[...xo.PROJECT_FIELDS,"creation","modified","modified_by","description","notes","expected_start_date","actual_start_date","actual_end_date","total_costing_amount","total_purchase_cost","total_sales_amount","total_billed_amount","users"]);let Vu=xo;const S8=Vu.useUserProjects,N8=Vu.useCreateProject,E8=Vu.useUpdateProject;class T8{static useProjectCascadeDelete(){const{call:t}=hs("frappe.client.delete"),{call:n}=hs("frappe.client.get_list");return{deleteProjectCascade:a=>pe(null,null,function*(){try{console.log(`Starting cascade delete for project: ${a}`);let o=0,l=0,d=0;console.log("Step 1: Fetching all tasks...");const f=yield n({doctype:"Task",fields:["name"],filters:[["project","=",a]],limit_page_length:1e3}),h=(f==null?void 0:f.message)||[];console.log(`Found ${h.length} tasks to delete`);for(const y of h){console.log(`Step 2: Deleting subtasks for task ${y.name}...`);const b=yield n({doctype:"SubTask",fields:["name"],filters:[["task","=",y.name]],limit_page_length:1e3}),w=(b==null?void 0:b.message)||[];console.log(`Found ${w.length} subtasks for task ${y.name}`);for(const _ of w)try{console.log(`Deleting subtask: ${_.name}`),yield t({doctype:"SubTask",name:_.name}),o++}catch(j){console.error(`Error deleting subtask ${_.name}:`,j)}}console.log("Step 3: Deleting all tasks...");for(const y of h)try{console.log(`Deleting task: ${y.name}`),yield t({doctype:"Task",name:y.name}),l++}catch(b){console.error(`Error deleting task ${y.name}:`,b)}console.log("Step 4: Deleting all phases...");const p=yield n({doctype:"project_phase",fields:["name"],filters:[["project","=",a]],limit_page_length:1e3}),x=(p==null?void 0:p.message)||[];console.log(`Found ${x.length} phases to delete`);for(const y of x)try{console.log(`Deleting phase: ${y.name}`),yield t({doctype:"project_phase",name:y.name}),d++}catch(b){console.error(`Error deleting phase ${y.name}:`,b)}console.log("Step 5: Deleting ToDo assignments...");try{const y=yield n({doctype:"ToDo",fields:["name"],filters:[["reference_type","in",["Project","Task","SubTask"]],["reference_name","like",`%${a}%`]],limit_page_length:1e3}),b=(y==null?void 0:y.message)||[];console.log(`Found ${b.length} ToDo assignments to delete`);for(const w of b)try{yield t({doctype:"ToDo",name:w.name})}catch(_){console.error(`Error deleting ToDo ${w.name}:`,_)}}catch(y){console.error("Error fetching/deleting ToDo assignments:",y)}console.log("Step 6: Deleting project users...");try{const y=yield n({doctype:"Project User",fields:["name"],filters:[["parent","=",a]],limit_page_length:1e3}),b=(y==null?void 0:y.message)||[];console.log(`Found ${b.length} project users to delete`);for(const w of b)try{yield t({doctype:"Project User",name:w.name})}catch(_){console.error(`Error deleting Project User ${w.name}:`,_)}}catch(y){console.error("Error fetching/deleting project users:",y)}return console.log("Step 7: Deleting the project..."),yield t({doctype:"Project",name:a}),console.log(`Successfully completed cascade delete for project: ${a}`),{success:!0,deletedItems:{subtasks:o,tasks:l,phases:d,project:1}}}catch(o){throw console.error("Error in cascade delete:",o),new Error(`Failed to delete project and related items: ${o instanceof Error?o.message:"Unknown error"}`)}})}}}const{useProjectCascadeDelete:k8}=T8;class yy{static useUserTodos(){const{data:t}=Jn("User","",{shouldFetch:!0}),{data:n,isLoading:s,error:a,mutate:o}=yn("ToDo",{fields:["name","status","priority","date","allocated_to","description","reference_type","reference_name","assigned_by","assigned_by_full_name","creation","modified"],filters:[["allocated_to","=",(t==null?void 0:t.name)||""],["reference_type","=","Task"]],orderBy:{field:"creation",order:"desc"}},t!=null&&t.name?"user-todos":null);return{todos:n||[],isLoading:s,error:a,mutate:o,currentUser:t}}static useUserTodosEnriched(){const{data:t}=Jn("User","",{shouldFetch:!0}),{data:n,isLoading:s,error:a,mutate:o}=BO("todo.api.get_user_todos_with_task_info",{user:(t==null?void 0:t.name)||""},t!=null&&t.name?"user-todos-enriched":null,{revalidateOnFocus:!1,revalidateOnReconnect:!1});return{todos:(n==null?void 0:n.message)||[],isLoading:s,error:a,mutate:o,currentUser:t}}static useUserTodosWithTaskData(){const{todos:t,isLoading:n,error:s,mutate:a,currentUser:o}=yy.useUserTodos();return{todos:t.map(d=>(d.reference_type==="Task"&&d.reference_name,d)),isLoading:n,error:s,mutate:a,currentUser:o}}}const C8=yy.useUserTodos,aT=({project:e,isOpen:t,onClose:n,onSuccess:s})=>{const{updateProject:a,isLoading:o,error:l}=E8(),[d,f]=S.useState({project_name:"",customer:"",project_type:"",status:"Open",priority:"Medium",department:"",company:"",cost_center:"",expected_start_date:"",expected_end_date:"",notes:""});S.useEffect(()=>{e&&f({project_name:e.project_name||"",customer:e.customer||"",project_type:e.project_type||"",status:e.status||"Open",priority:e.priority||"Medium",department:e.department||"",company:e.company||"",cost_center:e.cost_center||"",expected_start_date:e.expected_start_date?e.expected_start_date.split(" ")[0]:"",expected_end_date:e.expected_end_date?e.expected_end_date.split(" ")[0]:"",notes:e.notes||""})},[e]);const h=(y,b)=>{f(w=>xe(U({},w),{[y]:b}))},p=y=>pe(null,null,function*(){if(y.preventDefault(),!!e)try{yield a(e.name,d),s&&s(),n()}catch(b){console.error("Error updating project:",b)}}),x=()=>{e&&f({project_name:e.project_name||"",customer:e.customer||"",project_type:e.project_type||"",status:e.status||"Open",priority:e.priority||"Medium",department:e.department||"",company:e.company||"",cost_center:e.cost_center||"",expected_start_date:e.expected_start_date?e.expected_start_date.split(" ")[0]:"",expected_end_date:e.expected_end_date?e.expected_end_date.split(" ")[0]:"",notes:e.notes||""}),n()};return u.jsx(Ss,{open:t,onOpenChange:n,children:u.jsxs(Ns,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[u.jsx(Es,{children:u.jsx(ks,{children:"Edit Project"})}),u.jsxs("form",{onSubmit:p,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"project_name",children:"Project Name *"}),u.jsx($t,{id:"project_name",value:d.project_name,onChange:y=>h("project_name",y.target.value),required:!0,placeholder:"Enter project name"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"customer",children:"Customer"}),u.jsx($t,{id:"customer",value:d.customer,onChange:y=>h("customer",y.target.value),placeholder:"Enter customer name"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"project_type",children:"Project Type"}),u.jsxs("select",{id:"project_type",value:d.project_type,onChange:y=>h("project_type",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"",children:"Select project type"}),u.jsx("option",{value:"Internal",children:"Internal"}),u.jsx("option",{value:"External",children:"External"}),u.jsx("option",{value:"Other",children:"Other"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"status",children:"Status"}),u.jsxs("select",{id:"status",value:d.status,onChange:y=>h("status",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"Open",children:"Open"}),u.jsx("option",{value:"Completed",children:"Completed"}),u.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"priority",children:"Priority"}),u.jsxs("select",{id:"priority",value:d.priority,onChange:y=>h("priority",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"Low",children:"Low"}),u.jsx("option",{value:"Medium",children:"Medium"}),u.jsx("option",{value:"High",children:"High"}),u.jsx("option",{value:"Critical",children:"Critical"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"department",children:"Department"}),u.jsx($t,{id:"department",value:d.department,onChange:y=>h("department",y.target.value),placeholder:"Enter department"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"company",children:"Company"}),u.jsx($t,{id:"company",value:d.company,onChange:y=>h("company",y.target.value),placeholder:"Enter company"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"cost_center",children:"Cost Center"}),u.jsx($t,{id:"cost_center",value:d.cost_center,onChange:y=>h("cost_center",y.target.value),placeholder:"Enter cost center"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"expected_start_date",children:"Expected Start Date"}),u.jsx($t,{id:"expected_start_date",type:"date",value:d.expected_start_date,onChange:y=>h("expected_start_date",y.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"expected_end_date",children:"Expected End Date"}),u.jsx($t,{id:"expected_end_date",type:"date",value:d.expected_end_date,onChange:y=>h("expected_end_date",y.target.value)})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{htmlFor:"notes",children:"Notes"}),u.jsx("textarea",{id:"notes",value:d.notes,onChange:y=>h("notes",y.target.value),placeholder:"Enter project notes",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),l&&u.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:u.jsxs("p",{children:[u.jsx("strong",{children:"Error:"})," ",l.message||"Failed to update project"]})}),u.jsxs(Ts,{className:"flex gap-2",children:[u.jsx(Ie,{type:"button",variant:"outline",onClick:x,children:"Cancel"}),u.jsx(Ie,{type:"submit",disabled:o,children:o?"Updating...":"Update Project"})]})]})]})})},iT=({project:e,isOpen:t,onClose:n,onSuccess:s})=>{const{deleteProjectCascade:a}=k8(),[o,l]=S.useState(!1),[d,f]=S.useState(null),[h,p]=S.useState(""),x=()=>pe(null,null,function*(){if(e){l(!0),f(null),p("Starting deletion...");try{p("Deleting subtasks..."),yield new Promise(w=>setTimeout(w,500)),p("Deleting tasks and phases..."),yield new Promise(w=>setTimeout(w,500)),p("Deleting project...");const b=yield a(e.name);p("Deletion completed successfully!"),console.log("Cascade deletion result:",b),s&&s(),n()}catch(b){console.error("Error deleting project:",b),f(b instanceof Error?b:new Error("Failed to delete project")),p("")}finally{l(!1)}}}),y=()=>{o||(f(null),p(""),n())};return u.jsx(Ss,{open:t,onOpenChange:n,children:u.jsxs(Ns,{className:"sm:max-w-[400px]",children:[u.jsx(Es,{children:u.jsxs(ks,{className:"flex items-center gap-2 text-red-600",children:[u.jsx(Hh,{className:"h-5 w-5"}),"Delete Project"]})}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this project? This action cannot be undone."}),e&&u.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[u.jsx("div",{className:"font-medium text-gray-900",children:e.project_name}),u.jsx("div",{className:"text-sm text-gray-600",children:e.customer||"No customer"}),u.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]})]}),u.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[u.jsxs("div",{className:"text-sm text-red-800",children:[u.jsx("strong",{children:"Warning:"})," This will permanently delete in the following order:"]}),u.jsxs("ol",{className:"text-sm text-red-700 mt-1 ml-4 list-decimal",children:[u.jsx("li",{children:"All subtasks in all tasks"}),u.jsx("li",{children:"All tasks in the project"}),u.jsx("li",{children:"All project phases"}),u.jsx("li",{children:"All ToDo assignments"}),u.jsx("li",{children:"All project team members"}),u.jsx("li",{children:"The project itself"})]}),u.jsx("div",{className:"text-sm text-red-800 mt-2",children:u.jsx("strong",{children:"This action cannot be undone!"})})]}),o&&h&&u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(y0,{className:"h-4 w-4 animate-spin text-blue-600"}),u.jsxs("span",{className:"text-sm text-blue-800",children:[u.jsx("strong",{children:"Progress:"})," ",h]})]}),u.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"Please wait while we delete all related items..."})]}),d&&u.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:u.jsxs("p",{children:[u.jsx("strong",{children:"Error:"})," ",d.message||"Failed to delete project"]})})]}),u.jsxs(Ts,{className:"flex gap-2",children:[u.jsx(Ie,{type:"button",variant:"outline",onClick:y,disabled:o,children:o?"Deleting...":"Cancel"}),u.jsx(Ie,{type:"button",variant:"destructive",onClick:x,disabled:o,className:"min-w-[120px]",children:o?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(y0,{className:"h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete Project"})]})]})})};function oT({project:e,isOpen:t,onClose:n}){const[s,a]=S.useState("overview"),[o,l]=S.useState(null),[d,f]=S.useState(null),[h,p]=S.useState(null),[x,y]=S.useState(!1),[b,w]=S.useState(null),[_,j]=S.useState(!1),[N,k]=S.useState(!1),[C,R]=S.useState(!1),[A,M]=S.useState(!1),[z,P]=S.useState(!1),{updateProjectProgress:V}=xy(),{data:te,isLoading:$,mutate:Z}=Jn("Project",(e==null?void 0:e.name)||"",e!=null&&e.name?"Project":void 0),{data:le}=yn("project_phase",{fields:["name","progress"],filters:[["project","=",(e==null?void 0:e.name)||""]],orderBy:{field:"creation",order:"asc"}}),{data:J}=yn("Task",{fields:["name","progress"],filters:[["project","=",(e==null?void 0:e.name)||""]],orderBy:{field:"creation",order:"asc"}}),{call:I}=hs("frappe.client.insert"),{call:B}=hs("frappe.client.save"),{call:Y}=hs("frappe.client.delete"),{call:Q}=hs("frappe.client.set_value"),{data:ve,error:H,isLoading:ae}=Jn("User",(e==null?void 0:e.owner)||"",e!=null&&e.owner?void 0:null),{data:ye,mutate:X}=Jn("SubTask",(h==null?void 0:h.name)||"",h!=null&&h.name?void 0:null),{data:he,mutate:ke}=Jn("Task",(d==null?void 0:d.name)||"",d!=null&&d.name?void 0:null),{currentUser:be}=Ou(),Ce=(te==null?void 0:te.users)||(e==null?void 0:e.users)||[],ze=$,tt=S.useMemo(()=>{if(le&&le.length>0){const Te=le.reduce((Be,_t)=>Be+(_t.progress||0),0);return{progress:Math.round(Te/le.length),source:"phases",count:le.length}}else if(J&&J.length>0){const Te=J.reduce((Be,_t)=>Be+(_t.progress||0),0);return{progress:Math.round(Te/J.length),source:"tasks",count:J.length}}return{progress:(te==null?void 0:te.percent_complete)||(e==null?void 0:e.percent_complete)||0,source:"manual",count:0}},[le,J,te==null?void 0:te.percent_complete,e==null?void 0:e.percent_complete]),Ve=()=>pe(null,null,function*(){if(e!=null&&e.name){P(!0);try{yield V(e.name),yield Z()}catch(Te){console.error("Error recalculating project progress:",Te)}finally{P(!1)}}}),Et=()=>pe(null,null,function*(){if(h!=null&&h.name)try{yield X()}catch(Te){console.error("Error refreshing subtask data:",Te)}}),lt=()=>pe(null,null,function*(){if(d!=null&&d.name)try{yield ke()}catch(Te){console.error("Error refreshing task data:",Te)}}),yt=Te=>pe(null,null,function*(){(d==null?void 0:d.name)===Te&&(yield lt())});S.useEffect(()=>{ye&&(h==null?void 0:h.name)===ye.name&&p(ye)},[ye,h==null?void 0:h.name]),S.useEffect(()=>{he&&(d==null?void 0:d.name)===he.name&&f(he)},[he,d==null?void 0:d.name]),S.useEffect(()=>{if(tt.source!=="manual"&&(e!=null&&e.name)){const Te=(te==null?void 0:te.percent_complete)||(e==null?void 0:e.percent_complete)||0;Math.abs(tt.progress-Te)>1&&Ve()}},[tt.progress,le,J]);const De=lh(),mt=lh(),Yt=lh(),[Ct,It]=S.useState(!1),Xt=Te=>pe(null,null,function*(){if(e!=null&&e.name){It(!0);try{if((Ce||[]).find(On=>On.user===Te.user)){alert("User is already a member of this project");return}yield I({doc:{doctype:"Project User",parent:e.name,parenttype:"Project",parentfield:"users",user:Te.user,view_attachments:1,hide_timesheets:0,project_status:"Open",welcome_email_sent:1}}),setTimeout(()=>Z(),1e3),y(!1),De.reset()}catch(Be){console.error("Error adding member:",Be);const _t=Be instanceof Error?Be.message:String(Be);_t.includes("Email Account")||_t.includes("OutgoingEmailError")||_t.includes("email")?(alert("Member may have been added, but welcome email failed. Please check the project members list and refresh if needed."),setTimeout(()=>Z(),1e3),y(!1),De.reset()):alert("Failed to add member: "+_t)}finally{It(!1)}}}),W=Te=>pe(null,null,function*(){if(!(!b||!(e!=null&&e.name))){It(!0);try{const Be=Ce.find(_t=>_t.user===b.user);if(!(Be!=null&&Be.name)){alert("User record not found");return}yield B({doc:{doctype:"Project User",name:Be.name,view_attachments:Te.view_attachments?1:0,hide_timesheets:Te.hide_timesheets?1:0,project_status:Te.project_status||""}}),setTimeout(()=>Z(),1e3),j(!1),w(null),mt.reset()}catch(Be){console.error("Error updating member:",Be),alert("Failed to update member")}finally{It(!1)}}}),oe=Te=>pe(null,null,function*(){if(e!=null&&e.name&&confirm("Are you sure you want to remove this member from the project?"))try{const Be=Ce.find(_t=>_t.user===Te);if(!(Be!=null&&Be.name)){alert("User record not found");return}yield Y({doctype:"Project User",name:Be.name}),setTimeout(()=>Z(),1e3)}catch(Be){console.error("Error removing member:",Be),alert("Failed to remove member")}}),q=Te=>{w(Te),mt.reset({user:Te.user,view_attachments:!!Te.view_attachments,hide_timesheets:!!Te.hide_timesheets,project_status:Te.project_status||""}),j(!0)},Se=()=>(e==null?void 0:e.owner)===be||be==="Administrator",Re=Te=>pe(null,null,function*(){if(e!=null&&e.name){It(!0);try{yield Z();const Be=te||e;try{yield B({doc:{doctype:"Project",name:e.name,owner:Te.owner,project_name:Be==null?void 0:Be.project_name,status:Be==null?void 0:Be.status,priority:Be==null?void 0:Be.priority,company:Be==null?void 0:Be.company,customer:Be==null?void 0:Be.customer,expected_start_date:Be==null?void 0:Be.expected_start_date,expected_end_date:Be==null?void 0:Be.expected_end_date,description:Be==null?void 0:Be.description,modified:new Date().toISOString(),modified_by:Te.owner}})}catch(_t){console.log("Save method failed:",_t);try{yield Q({doctype:"Project",name:e.name,fieldname:"owner",value:Te.owner})}catch(On){if(console.log("Set value failed, falling back to Project Manager approach:",On),(Ce||[]).find(qn=>qn.user===Te.owner)){alert("Cannot change owner field (protected by ERPNext), but user is already a project member. Please edit their role manually.");return}yield I({doc:{doctype:"Project User",parent:e.name,parenttype:"Project",parentfield:"users",user:Te.owner,view_attachments:1,hide_timesheets:0,project_status:"Project Manager (Owner Substitute)",welcome_email_sent:1}}),alert('Owner field is protected by ERPNext. Added user as "Project Manager (Owner Substitute)" instead with full permissions.')}}setTimeout(()=>Z(),1e3),k(!1),Yt.reset()}catch(Be){console.error("Error changing owner:",Be);const _t=Be instanceof Error?Be.message:String(Be);_t.includes("Cannot edit standard fields")||_t.includes("protects this field")?alert(`Cannot change project owner: ERPNext protects the owner field from modification.

Alternative solutions:
1. Add the user as Project Manager in the team members
2. Contact system administrator to manually update via backend
3. Use project permissions to grant the user full access

Admin command (run in ERPNext console):
frappe.db.sql("UPDATE tabProject SET owner = '${Te.owner}' WHERE name = '${e.name}'")`):alert("Failed to change owner: "+_t)}finally{It(!1)}}}),Oe=Te=>{switch(Te){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},Ue=Te=>Te?new Date(Te).toLocaleDateString():"N/A",$e=()=>{R(!0)},Ke=()=>{M(!0)},bt=()=>{Z()},ts=()=>{n()};return e?u.jsxs(YB,{open:t,onOpenChange:n,direction:"right",children:[u.jsx(XB,{children:u.jsxs("div",{className:"w-full h-full overflow-y-auto p-6",children:[u.jsxs(GB,{className:"px-0 pb-6",children:[u.jsxs(QB,{className:"flex gap-4 justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"h-16 w-16 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg",children:u.jsx("span",{className:"text-2xl font-bold text-white",children:e.project_name.charAt(0).toUpperCase()})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:e.project_name}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:`inline-flex px-4 py-2 text-sm font-semibold rounded-full ${Oe(e.status)}`,children:e.status||"Open"}),e.project_type&&u.jsx("span",{className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-full",children:e.project_type})]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(Ie,{variant:"outline",size:"sm",onClick:$e,className:"flex items-center gap-2",children:[u.jsx(Dl,{className:"h-4 w-4"}),"Edit"]}),u.jsxs(Ie,{variant:"outline",size:"sm",onClick:Ke,className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[u.jsx(Fl,{className:"h-4 w-4"}),"Delete"]}),u.jsx(Ie,{variant:"ghost",size:"sm",onClick:n,children:"X"})]})]}),u.jsx(ZB,{className:"text-lg text-gray-600 mt-4",children:"Project Details and Progress Overview"}),u.jsxs("div",{className:"flex border-b border-gray-200 mt-6",children:[u.jsx("button",{onClick:()=>a("overview"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${s==="overview"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Overview"}),u.jsx("button",{onClick:()=>a("tasks"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${s==="tasks"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Tasks & Phases"}),u.jsxs("button",{onClick:()=>a("team"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="team"?"border-green-600 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[u.jsx(Zf,{className:"h-4 w-4"}),"Team (",((Ce==null?void 0:Ce.length)||0)+1,")"]}),o&&u.jsxs("button",{onClick:()=>a("phase-details"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="phase-details"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["📋 ",o.subject,u.jsx("span",{onClick:Te=>{Te.stopPropagation(),l(null),a("tasks")},className:"ml-2 hover:bg-gray-200 rounded-full p-1 transition-colors cursor-pointer",title:"Close phase details",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d&&u.jsxs("button",{onClick:()=>a("task-details"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="task-details"?"border-orange-600 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["📝 ",d.subject||d.name,u.jsx("span",{onClick:Te=>{Te.stopPropagation(),f(null),a("tasks")},className:"ml-2 hover:bg-gray-200 rounded-full p-1 transition-colors cursor-pointer",title:"Close task details",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),h&&u.jsxs("button",{onClick:()=>a("subtask-details"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="subtask-details"?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["📌 ",h.subject||h.name,u.jsx("span",{onClick:Te=>{Te.stopPropagation(),p(null),a("tasks")},className:"ml-2 hover:bg-gray-200 rounded-full p-1 transition-colors cursor-pointer",title:"Close subtask details",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})]}),u.jsxs("div",{className:"space-y-8",children:[s==="overview"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Project Progress"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-lg font-medium text-gray-700",children:"Overall Progress"}),tt.source!=="manual"&&u.jsxs("span",{className:"text-xs text-gray-500",children:["(from ",tt.count," ",tt.source,")"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[tt.progress,"%"]}),u.jsx(Ie,{variant:"ghost",size:"sm",onClick:Ve,disabled:z,className:"h-8 w-8 p-0",title:"Recalculate progress",children:u.jsx(xx,{className:`h-4 w-4 ${z?"animate-spin":""}`})})]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:u.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-4 rounded-full transition-all duration-500 ease-out",style:{width:`${tt.progress}%`}})}),tt.source==="phases"&&le&&u.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:[u.jsx("div",{className:"font-medium mb-1",children:"Phase progress breakdown:"}),u.jsx("div",{className:"grid grid-cols-2 gap-1",children:le.map((Te,Be)=>u.jsxs("div",{className:"flex justify-between",children:[u.jsxs("span",{children:["Phase ",Be+1,":"]}),u.jsxs("span",{children:[Te.progress||0,"%"]})]},Te.name))})]}),tt.source==="tasks"&&u.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:["Progress calculated from ",tt.count," direct tasks (no phases)"]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:u.jsx(Du,{className:"h-8 w-8 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Customer"}),u.jsx("p",{className:"text-xl font-bold text-gray-900",children:e.customer||"N/A"})]})]})}),u.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:u.jsx(px,{className:"h-8 w-8 text-green-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Budget"}),u.jsx("p",{className:"text-xl font-bold text-gray-900",children:mo(e.estimated_costing)})]})]})}),u.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:u.jsx(gr,{className:"h-8 w-8 text-purple-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"Deadline"}),u.jsx("p",{className:"text-xl font-bold text-gray-900",children:Ue(e.expected_end_date)})]})]})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Project Information"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Start Date"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:Ue(e.expected_start_date)})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:e.priority||"Medium"})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Department"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:e.department||"N/A"})]}),u.jsxs("div",{className:"flex items-center justify-between py-3",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Company"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:e.company||"N/A"})]})]})]}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Financial Metrics"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Total Cost"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:mo(e.total_costing_amount)})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Total Sales"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:mo(e.total_sales_amount)})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Billable Amount"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:mo(e.total_billable_amount)})]}),u.jsxs("div",{className:"flex items-center justify-between py-3",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Gross Margin"}),u.jsx("span",{className:"text-lg font-bold text-green-600",children:mo(e.gross_margin)})]})]})]})]})]}),s==="team"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(jM,{className:"h-6 w-6 text-yellow-600"}),u.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Project Owner"})]}),Se()&&u.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>{Yt.reset({owner:(e==null?void 0:e.owner)||""}),k(!0)},className:"flex items-center gap-2",children:[u.jsx(Dl,{className:"h-4 w-4"}),"Change Owner"]})]}),u.jsxs("div",{className:"flex items-center gap-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[u.jsx("div",{className:"h-12 w-12 rounded-full bg-yellow-100 flex items-center justify-center",children:u.jsx(Du,{className:"h-6 w-6 text-yellow-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-lg font-semibold text-gray-900",children:ae?"Loading...":ve!=null&&ve.full_name?ve.full_name:e!=null&&e.owner?e.owner:"No Owner"}),u.jsx("p",{className:"text-sm text-gray-600",children:ae?"Loading email...":ve!=null&&ve.email?ve.email:e!=null&&e.owner?e.owner:"No email"}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded",children:"Project Owner"}),(ve==null?void 0:ve.designation)&&u.jsx("span",{className:"text-xs text-gray-500",children:ve.designation}),H&&u.jsx("span",{className:"text-xs text-red-500",children:"(Error loading user details)"})]})]})]})]}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Zf,{className:"h-6 w-6 text-blue-600"}),u.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Team Members"}),u.jsxs("span",{className:"inline-flex px-3 py-1 text-sm font-medium bg-blue-100 text-blue-800 rounded-full",children:[(Ce==null?void 0:Ce.length)||0," members"]})]}),u.jsxs(Ie,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",onClick:()=>y(!0),children:[u.jsx(So,{className:"h-4 w-4 mr-1"}),"Add Member"]})]}),ze?u.jsxs("div",{className:"flex items-center justify-center py-8",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),u.jsx("span",{className:"ml-3 text-gray-600",children:"Loading team members..."})]}):Ce&&Ce.length>0?u.jsx("div",{className:"grid gap-4",children:Ce.map((Te,Be)=>u.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors",children:[u.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center overflow-hidden",children:Te.image?u.jsx("img",{src:Te.image,alt:Te.full_name||Te.user,className:"h-full w-full object-cover"}):u.jsx("span",{className:"text-sm font-semibold text-blue-600",children:(Te.full_name||Te.user||"U").charAt(0).toUpperCase()})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-semibold text-gray-900",children:Te.full_name||Te.user||"Unknown User"}),u.jsx("p",{className:"text-sm text-gray-600",children:Te.email||Te.user||"No email"}),Te.project_status&&u.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Status: ",Te.project_status]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:"Team Member"}),Te.view_attachments&&u.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded",children:"Can View Files"}),u.jsxs(Ie,{size:"sm",variant:"outline",className:"text-xs",onClick:()=>q(Te),children:[u.jsx(Dl,{className:"h-3 w-3 mr-1"}),"Edit"]}),u.jsxs(Ie,{size:"sm",variant:"outline",className:"text-xs text-red-600 hover:text-red-700",onClick:()=>oe(Te.user),children:[u.jsx(Fl,{className:"h-3 w-3 mr-1"}),"Remove"]})]})]},Te.user||Be))}):u.jsxs("div",{className:"text-center py-8",children:[u.jsx(Zf,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"No team members added yet"}),u.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Add team members to collaborate on this project"}),u.jsxs(Ie,{className:"mt-4 bg-blue-600 hover:bg-blue-700",onClick:()=>y(!0),children:[u.jsx(So,{className:"h-4 w-4 mr-2"}),"Add First Member"]})]})]}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Statistics"}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[u.jsx("p",{className:"text-2xl font-bold text-blue-600",children:((Ce==null?void 0:Ce.length)||0)+1}),u.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"})]}),u.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[u.jsx("p",{className:"text-2xl font-bold text-green-600",children:"1"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Project Owner"})]}),u.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[u.jsx("p",{className:"text-2xl font-bold text-purple-600",children:(Ce==null?void 0:Ce.length)||0}),u.jsx("p",{className:"text-sm text-gray-600",children:"Team Members"})]}),u.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[u.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[(e==null?void 0:e.percent_complete)||0,"%"]}),u.jsx("p",{className:"text-sm text-gray-600",children:"Progress"})]})]})]})]}),s==="tasks"&&u.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:u.jsx(t8,{projectName:e.name,onViewPhaseDetails:Te=>{l(Te),a("phase-details")},onViewTaskDetails:Te=>{f(Te),a("task-details")},onViewSubTaskDetails:Te=>{p(Te),a("subtask-details")}})}),s==="phase-details"&&o&&u.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:u.jsx(l8,{phase:o,projectName:e.name,onBack:()=>a("tasks"),onViewTaskDetails:Te=>{f(Te),a("task-details")},onPhaseUpdated:()=>pe(null,null,function*(){Z(),setTimeout(()=>pe(null,null,function*(){yield Ve()}),500)}),onPhaseDeleted:()=>pe(null,null,function*(){Z(),a("tasks"),l(null),setTimeout(()=>pe(null,null,function*(){yield Ve()}),500)}),onTaskCreated:()=>pe(null,null,function*(){Z(),setTimeout(()=>pe(null,null,function*(){yield Ve()}),500)})})}),s==="task-details"&&d&&u.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:u.jsx(v8,{task:d,projectName:e.name,onBack:()=>a("tasks"),onViewSubTaskDetails:Te=>{p(Te),a("subtask-details")},onTaskUpdated:()=>pe(null,null,function*(){Z(),yield lt(),setTimeout(()=>pe(null,null,function*(){yield Ve()}),500)}),onTaskDeleted:()=>pe(null,null,function*(){Z(),a("tasks"),f(null),setTimeout(()=>pe(null,null,function*(){yield Ve()}),500)})})}),s==="subtask-details"&&h&&u.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:u.jsx(j8,{subtask:h,projectName:e.name,onBack:()=>a("tasks"),onSubTaskUpdated:()=>pe(null,null,function*(){Z(),yield Et(),h!=null&&h.task&&(yield yt(h.task)),setTimeout(()=>pe(null,null,function*(){yield Ve()}),500)}),onSubTaskDeleted:()=>pe(null,null,function*(){Z(),a("tasks"),p(null),setTimeout(()=>pe(null,null,function*(){yield Ve()}),500)})})})]}),u.jsx(KB,{className:"px-0 mt-8 pt-6 border-t border-gray-200",children:u.jsxs("div",{className:"flex gap-4",children:[u.jsx(Ie,{variant:"outline",className:"flex-1 h-12 text-lg font-semibold",onClick:()=>a("tasks"),children:"View Tasks"}),u.jsx(Ie,{variant:"outline",className:"flex-1 h-12 text-lg font-semibold",children:"View Timeline"})]})})]})}),u.jsx(Ss,{open:x,onOpenChange:y,children:u.jsx(Ns,{className:"sm:max-w-md",children:u.jsxs("form",{onSubmit:De.handleSubmit(Xt),children:[u.jsxs(Es,{children:[u.jsx(ks,{children:"Add Team Member"}),u.jsx(_o,{children:"Add a new member to the project team."})]}),u.jsx("div",{className:"grid gap-4 py-4",children:u.jsxs("div",{className:"grid gap-2",children:[u.jsxs(He,{children:["User ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx(gi,{name:"user",control:De.control,rules:{required:"Please select a user"},render:({field:Te})=>u.jsx(xi,{doctype:"User",value:Te.value||"",onChange:Te.onChange,placeholder:"Select user...",displayField:"full_name",valueField:"name",filters:[["enabled","=",1],["user_type","!=","Website User"]],fields:["name","full_name","email"],className:"w-full"})}),De.formState.errors.user&&u.jsx("span",{className:"text-red-500 text-sm",children:De.formState.errors.user.message})]})}),u.jsxs(Ts,{children:[u.jsx(Ie,{type:"button",variant:"outline",onClick:()=>{y(!1),De.reset()},children:"Cancel"}),u.jsx(Ie,{type:"submit",disabled:Ct,className:"bg-blue-600 hover:bg-blue-700",children:Ct?"Adding...":"Add Member"})]})]})})}),u.jsx(Ss,{open:_,onOpenChange:j,children:u.jsx(Ns,{className:"sm:max-w-md",children:u.jsxs("form",{onSubmit:mt.handleSubmit(W),children:[u.jsxs(Es,{children:[u.jsx(ks,{children:"Edit Team Member"}),u.jsxs(_o,{children:["Update member settings for ",(b==null?void 0:b.full_name)||(b==null?void 0:b.user),"."]})]}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx(He,{children:"User"}),u.jsx($t,{value:(b==null?void 0:b.full_name)||(b==null?void 0:b.user)||"",disabled:!0,className:"bg-gray-100"})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(He,{children:"Project Status"}),u.jsx($t,xe(U({},mt.register("project_status")),{placeholder:"Enter project status for this member..."}))]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("input",xe(U({type:"checkbox",id:"edit_view_attachments"},mt.register("view_attachments")),{className:"rounded border-gray-300"})),u.jsx(He,{htmlFor:"edit_view_attachments",className:"text-sm",children:"Can view attachments"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("input",xe(U({type:"checkbox",id:"edit_hide_timesheets"},mt.register("hide_timesheets")),{className:"rounded border-gray-300"})),u.jsx(He,{htmlFor:"edit_hide_timesheets",className:"text-sm",children:"Hide timesheets from this user"})]})]}),u.jsxs(Ts,{children:[u.jsx(Ie,{type:"button",variant:"outline",onClick:()=>{j(!1),w(null),mt.reset()},children:"Cancel"}),u.jsx(Ie,{type:"submit",disabled:Ct,className:"bg-blue-600 hover:bg-blue-700",children:Ct?"Updating...":"Update Member"})]})]})})}),u.jsx(Ss,{open:N,onOpenChange:k,children:u.jsx(Ns,{className:"sm:max-w-md",children:u.jsxs("form",{onSubmit:Yt.handleSubmit(Re),children:[u.jsxs(Es,{children:[u.jsx(ks,{children:"Change Project Owner"}),u.jsx(_o,{children:"Attempt to change the project owner. Note: ERPNext may protect this field, in which case we'll add the user as Project Manager instead."})]}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsxs(He,{children:["New Owner ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx(gi,{name:"owner",control:Yt.control,rules:{required:"Please select a new owner"},render:({field:Te})=>u.jsx(xi,{doctype:"User",value:Te.value||"",onChange:Te.onChange,placeholder:"Select new owner...",displayField:"full_name",valueField:"name",filters:[["enabled","=",1],["user_type","!=","Website User"]],fields:["name","full_name","email"],className:"w-full"})}),Yt.formState.errors.owner&&u.jsx("span",{className:"text-red-500 text-sm",children:Yt.formState.errors.owner.message})]}),u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:u.jsxs("p",{className:"text-sm text-blue-800",children:[u.jsx("strong",{children:"Note:"}),' This will attempt to change the actual project owner. If that fails (due to ERPNext protection), the user will be added as "Project Manager (Owner Substitute)" with full permissions.']})})]}),u.jsxs(Ts,{children:[u.jsx(Ie,{type:"button",variant:"outline",onClick:()=>{k(!1),Yt.reset()},children:"Cancel"}),u.jsx(Ie,{type:"submit",disabled:Ct,className:"bg-yellow-600 hover:bg-yellow-700",children:Ct?"Changing Owner...":"Change Owner"})]})]})})}),u.jsx(aT,{project:e,isOpen:C,onClose:()=>R(!1),onSuccess:bt}),u.jsx(iT,{project:e,isOpen:A,onClose:()=>M(!1),onSuccess:ts})]}):null}const lT=({project:e,onProjectUpdated:t,onProjectDeleted:n,onCloseDrawer:s})=>{const[a,o]=S.useState(!1),[l,d]=S.useState(!1),[f,h]=S.useState(!1),p=w=>{w&&w.stopPropagation(),o(!0),h(!1)},x=w=>{w&&w.stopPropagation(),d(!0),h(!1)},y=()=>{t&&t()},b=()=>{n&&n(),s&&s()};return u.jsxs(u.Fragment,{children:[u.jsxs(Px,{open:f,onOpenChange:h,children:[u.jsx(Lx,{asChild:!0,children:u.jsx(Ie,{variant:"ghost",size:"sm",onClick:w=>{w.stopPropagation(),h(!f)},className:"h-8 w-8 p-0",children:u.jsx(EM,{className:"h-4 w-4"})})}),u.jsx(zx,{className:"w-48 p-2",align:"end",onClick:w=>w.stopPropagation(),children:u.jsxs("div",{className:"space-y-1",children:[u.jsxs(Ie,{variant:"ghost",size:"sm",onClick:w=>p(w),className:"w-full justify-start text-left",children:[u.jsx(WM,{className:"mr-2 h-4 w-4"}),"Edit Project"]}),u.jsxs(Ie,{variant:"ghost",size:"sm",onClick:w=>x(w),className:"w-full justify-start text-left text-red-600 hover:text-red-700 hover:bg-red-50",children:[u.jsx(Fl,{className:"mr-2 h-4 w-4"}),"Delete Project"]})]})})]}),u.jsx(aT,{project:e,isOpen:a,onClose:()=>o(!1),onSuccess:y}),u.jsx(iT,{project:e,isOpen:l,onClose:()=>d(!1),onSuccess:b})]})},O8=({projects:e,onProjectsChange:t})=>{const[n,s]=S.useState(null),[a,o]=S.useState(!1),l=h=>{s(h),o(!0)},d=()=>{o(!1),s(null)},f=h=>{switch(h){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:e.map(h=>u.jsxs("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 hover:shadow-md transition-shadow duration-200 cursor-pointer",onClick:()=>l(h),children:[u.jsx("div",{className:"h-48 bg-gray-200 flex items-center justify-center",children:u.jsx("div",{className:"text-4xl font-bold text-gray-400",children:h.project_name.charAt(0).toUpperCase()})}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate flex-1",children:h.project_name}),u.jsxs("div",{className:"flex items-center gap-2",onClick:p=>p.stopPropagation(),children:[u.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${f(h.status)}`,children:h.status||"Open"}),u.jsx(lT,{project:h,onProjectUpdated:t,onProjectDeleted:t,onCloseDrawer:d})]})]}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:h.project_type||"N/A"}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Progress"}),u.jsxs("span",{className:"text-sm text-gray-600",children:[h.percent_complete||0,"%"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${h.percent_complete||0}%`}})})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[u.jsx("span",{children:h.customer||"N/A"}),u.jsx("span",{children:mo(h.estimated_costing)})]})]})]},h.name))}),u.jsx(oT,{project:n,isOpen:a,onClose:d})]})},A8=({projects:e,onProjectsChange:t})=>{const[n,s]=S.useState(null),[a,o]=S.useState(!1),l=p=>{s(p),o(!0)},d=()=>{o(!1),s(null)},f=p=>{switch(p){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},h=p=>p?new Date(p).toLocaleDateString():"N/A";return u.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[u.jsx("div",{className:"overflow-hidden",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progress"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Budget"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Deadline"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(p=>u.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>l(p),children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:u.jsx("div",{className:"h-10 w-10 rounded-lg bg-gray-200 flex items-center justify-center",children:u.jsx("span",{className:"text-sm font-bold text-gray-600",children:p.project_name.charAt(0).toUpperCase()})})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.project_name}),u.jsx("div",{className:"text-sm text-gray-500",children:p.project_type||"N/A"})]})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${f(p.status)}`,children:p.status||"Open"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${p.percent_complete||0}%`}})}),u.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[p.percent_complete||0,"%"]})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.customer||"N/A"}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:mo(p.estimated_costing)}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h(p.expected_end_date)}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",onClick:x=>x.stopPropagation(),children:u.jsx(lT,{project:p,onProjectUpdated:t,onProjectDeleted:t,onCloseDrawer:d})})]},p.name))})]})}),u.jsx(oT,{project:n,isOpen:a,onClose:d})]})},R8=0,M8=1,D8=2;var Z1=Object.prototype.hasOwnProperty;function F0(e,t){var n,s;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((s=e.length)===t.length)for(;s--&&F0(e[s],t[s]););return s===-1}if(!n||typeof e=="object"){s=0;for(n in e)if(Z1.call(e,n)&&++s&&!Z1.call(t,n)||!(n in t)||!F0(e[n],t[n]))return!1;return Object.keys(t).length===s}}return e!==e&&t!==t}const po=new WeakMap,_i=()=>{},pr=_i(),H0=Object,Jr=e=>e===pr,go=e=>typeof e=="function",nm=(e,t)=>U(U({},e),t),P8=e=>go(e.then),Qg={},Ff={},cT="undefined",by=typeof window!=cT,V0=typeof document!=cT,L8=by&&"Deno"in window,z8=(e,t)=>{const n=po.get(e);return[()=>!Jr(t)&&e.get(t)||Qg,s=>{if(!Jr(t)){const a=e.get(t);t in Ff||(Ff[t]=a),n[5](t,nm(a,s),a||Qg)}},n[6],()=>!Jr(t)&&t in Ff?Ff[t]:!Jr(t)&&e.get(t)||Qg]};let $0=!0;const U8=()=>$0,[q0,Y0]=by&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[_i,_i],B8=()=>{const e=V0&&document.visibilityState;return Jr(e)||e!=="hidden"},F8=e=>(V0&&document.addEventListener("visibilitychange",e),q0("focus",e),()=>{V0&&document.removeEventListener("visibilitychange",e),Y0("focus",e)}),H8=e=>{const t=()=>{$0=!0,e()},n=()=>{$0=!1};return q0("online",t),q0("offline",n),()=>{Y0("online",t),Y0("offline",n)}},V8={isOnline:U8,isVisible:B8},$8={initFocus:F8,initReconnect:H8};_e.useId;const uT=!by||L8,Zg=typeof navigator!="undefined"&&navigator.connection,J1=!uT&&Zg&&(["slow-2g","2g"].includes(Zg.effectiveType)||Zg.saveData),Hf=new WeakMap,q8=e=>H0.prototype.toString.call(e),Jg=(e,t)=>e===`[object ${t}]`;let Y8=0;const I0=e=>{const t=typeof e,n=q8(e),s=Jg(n,"Date"),a=Jg(n,"RegExp"),o=Jg(n,"Object");let l,d;if(H0(e)===e&&!s&&!a){if(l=Hf.get(e),l)return l;if(l=++Y8+"~",Hf.set(e,l),Array.isArray(e)){for(l="@",d=0;d<e.length;d++)l+=I0(e[d])+",";Hf.set(e,l)}if(o){l="#";const f=H0.keys(e).sort();for(;!Jr(d=f.pop());)Jr(e[d])||(l+=d+":"+I0(e[d])+",");Hf.set(e,l)}}else l=s?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return l},I8=e=>{if(go(e))try{e=e()}catch(n){e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?I0(e):"",[e,t]};let W8=0;const eS=()=>++W8;function X8(...e){return pe(this,null,function*(){const[t,n,s,a]=e,o=nm({populateCache:!0,throwOnError:!0},typeof a=="boolean"?{revalidate:a}:a||{});let l=o.populateCache;const d=o.rollbackOnError;let f=o.optimisticData;const h=y=>typeof d=="function"?d(y):d!==!1,p=o.throwOnError;if(go(n)){const y=n,b=[],w=t.keys();for(const _ of w)!/^\$(inf|sub)\$/.test(_)&&y(t.get(_)._k)&&b.push(_);return Promise.all(b.map(x))}return x(n);function x(y){return pe(this,null,function*(){const[b]=I8(y);if(!b)return;const[w,_]=z8(t,b),[j,N,k,C]=po.get(t),R=()=>{const J=j[b];return(go(o.revalidate)?o.revalidate(w().data,y):o.revalidate!==!1)&&(delete k[b],delete C[b],J&&J[0])?J[0](D8).then(()=>w().data):w().data};if(e.length<3)return R();let A=s,M,z=!1;const P=eS();N[b]=[P,0];const V=!Jr(f),te=w(),$=te.data,Z=te._c,le=Jr(Z)?$:Z;if(V&&(f=go(f)?f(le,$):f,_({data:f,_c:le})),go(A))try{A=A(le)}catch(J){M=J,z=!0}if(A&&P8(A))if(A=yield A.catch(J=>{M=J,z=!0}),P!==N[b][0]){if(z)throw M;return A}else z&&V&&h(M)&&(l=!0,_({data:le,_c:pr}));if(l&&!z)if(go(l)){const J=l(A,le);_({data:J,error:pr,_c:pr})}else _({data:A,error:pr,_c:pr});if(N[b][1]=eS(),Promise.resolve(R()).then(()=>{_({_c:pr})}),z){if(p)throw M;return}return A})}})}const tS=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},G8=(e,t)=>{if(!po.has(e)){const n=nm($8,t),s=Object.create(null),a=X8.bind(pr,e);let o=_i;const l=Object.create(null),d=(p,x)=>{const y=l[p]||[];return l[p]=y,y.push(x),()=>y.splice(y.indexOf(x),1)},f=(p,x,y)=>{e.set(p,x);const b=l[p];if(b)for(const w of b)w(x,y)},h=()=>{if(!po.has(e)&&(po.set(e,[s,Object.create(null),Object.create(null),Object.create(null),a,f,d]),!uT)){const p=n.initFocus(setTimeout.bind(pr,tS.bind(pr,s,R8))),x=n.initReconnect(setTimeout.bind(pr,tS.bind(pr,s,M8)));o=()=>{p&&p(),x&&x(),po.delete(e)}}};return h(),[e,a,h,o]}return[e,po.get(e)[4]]},K8=(e,t,n,s,a)=>{const o=n.errorRetryCount,l=a.retryCount,d=~~((Math.random()+.5)*(1<<(l<8?l:8)))*n.errorRetryInterval;!Jr(o)&&l>o||setTimeout(s,d,a)},Q8=F0,[Z8,dT]=G8(new Map);nm({onLoadingSlow:_i,onSuccess:_i,onError:_i,onErrorRetry:K8,onDiscarded:_i,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:J1?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:J1?5e3:3e3,compare:Q8,isPaused:()=>!1,cache:Z8,mutate:dT,fallback:{}},V8);S.createContext({});const J8=({onProjectCreated:e})=>{const[t,n]=S.useState(!1),{createProject:s,isLoading:a,error:o}=N8(),{register:l,control:d,handleSubmit:f,reset:h,formState:{errors:p,isSubmitting:x}}=lh({defaultValues:{status:"Open",priority:"Medium"}}),y=b=>pe(null,null,function*(){try{yield s(b),h(),n(!1),dT(w=>typeof w=="string"&&w.includes("Project"),void 0,{revalidate:!0}),e&&e(),console.log("Project created successfully")}catch(w){console.error("Error creating project:",w)}});return u.jsxs(Ss,{open:t,onOpenChange:n,children:[u.jsx(iB,{asChild:!0,children:u.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[u.jsx(So,{className:"mr-2 h-4 w-4"}),"New Project"]})}),u.jsx(Ns,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:u.jsxs("form",{onSubmit:f(y),children:[u.jsxs(Es,{children:[u.jsx(ks,{children:"Create New Project"}),u.jsx(_o,{children:"Fill in the project details. Fields marked with * are required."})]}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsxs(He,{htmlFor:"project_name",children:["Project Name ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx($t,xe(U({id:"project_name"},l("project_name",{required:"Project name is required"})),{placeholder:"Enter project name"})),p.project_name&&u.jsx("span",{className:"text-red-500 text-sm",children:p.project_name.message})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(He,{children:"Customer"}),u.jsx(gi,{name:"customer",control:d,render:({field:b})=>u.jsx(xi,{doctype:"Customer",value:b.value||"",onChange:b.onChange,placeholder:"Select customer...",displayField:"customer_name",valueField:"name",className:"w-full"})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx(He,{children:"Project Type"}),u.jsx(gi,{name:"project_type",control:d,render:({field:b})=>u.jsx(xi,{doctype:"Project Type",value:b.value||"",onChange:b.onChange,placeholder:"Select type...",className:"w-full"})})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsxs(He,{children:["Status ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",xe(U({},l("status",{required:"Status is required"})),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[u.jsx("option",{value:"Open",children:"Open"}),u.jsx("option",{value:"Completed",children:"Completed"}),u.jsx("option",{value:"Cancelled",children:"Cancelled"})]}))]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx(He,{children:"Priority"}),u.jsxs("select",xe(U({},l("priority")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[u.jsx("option",{value:"",children:"Select priority..."}),u.jsx("option",{value:"Low",children:"Low"}),u.jsx("option",{value:"Medium",children:"Medium"}),u.jsx("option",{value:"High",children:"High"}),u.jsx("option",{value:"Critical",children:"Critical"})]}))]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(He,{children:"Department"}),u.jsx(gi,{name:"department",control:d,render:({field:b})=>u.jsx(xi,{doctype:"Department",value:b.value||"",onChange:b.onChange,placeholder:"Select department...",className:"w-full"})})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx(He,{children:"Company"}),u.jsx(gi,{name:"company",control:d,render:({field:b})=>u.jsx(xi,{doctype:"Company",value:b.value||"",onChange:b.onChange,placeholder:"Select company...",className:"w-full"})})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(He,{children:"Cost Center"}),u.jsx(gi,{name:"cost_center",control:d,render:({field:b})=>u.jsx(xi,{doctype:"Cost Center",value:b.value||"",onChange:b.onChange,placeholder:"Select cost center...",displayField:"cost_center_name",valueField:"name",className:"w-full"})})]})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(He,{children:"Project Template"}),u.jsx(gi,{name:"project_template",control:d,render:({field:b})=>u.jsx(xi,{doctype:"Project Template",value:b.value||"",onChange:b.onChange,placeholder:"Select project template...",className:"w-full"})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx(He,{children:"Expected Start Date"}),u.jsx($t,U({type:"date"},l("expected_start_date")))]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(He,{children:"Expected End Date"}),u.jsx($t,U({type:"date"},l("expected_end_date")))]})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(He,{children:"Notes"}),u.jsx("textarea",xe(U({},l("notes")),{placeholder:"Enter project notes...",rows:3,className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"}))]}),o&&u.jsxs("div",{className:"text-red-500 text-sm",children:["Error: ",o.message||"Something went wrong"]})]}),u.jsxs(Ts,{children:[u.jsx(lB,{asChild:!0,children:u.jsx(Ie,{type:"button",variant:"outline",children:"Cancel"})}),u.jsx(Ie,{type:"submit",disabled:x||a,className:"bg-blue-600 hover:bg-blue-700",children:x||a?"Creating...":"Create Project"})]})]})})]})},eF=()=>{const[e,t]=_e.useState("grid"),{data:n=[],isLoading:s,error:a,mutate:o}=S8(),l=()=>{o&&o()};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Projects"}),u.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Showing projects you have access to (",n.length," projects)"]})]}),u.jsx("div",{className:"mt-4 flex md:mt-0 md:ml-4",children:u.jsx(J8,{onProjectCreated:l})})]}),u.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-4",children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(Fh,{className:"h-4 w-4 text-gray-400"})}),u.jsx("input",{type:"text",className:"block w-64 pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Search projects..."})]}),u.jsxs("button",{className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[u.jsx(gx,{className:"mr-2 h-4 w-4"}),"Filter"]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:()=>t("grid"),className:`p-2 rounded-md ${e==="grid"?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:u.jsx(DM,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>t("list"),className:`p-2 rounded-md ${e==="list"?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:u.jsx(UM,{className:"h-4 w-4"})})]})]})}),s?u.jsx("div",{className:"flex justify-center items-center p-8",children:u.jsx("div",{className:"text-gray-500",children:"Loading projects..."})}):a?u.jsx("div",{className:"flex flex-col justify-center items-center p-8 bg-red-50 rounded-lg border border-red-200",children:u.jsxs("div",{className:"text-red-700 text-center",children:[u.jsx("p",{className:"text-lg font-medium mb-2",children:"Error loading projects"}),u.jsx("p",{className:"text-sm mb-2",children:a.message}),a.message.includes("PermissionError")&&u.jsxs("div",{className:"text-sm text-red-600 bg-red-100 p-3 rounded mt-2",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Permission Issue:"})," You don't have access to view projects."]}),u.jsx("p",{children:"Please contact your system administrator to:"}),u.jsxs("ul",{className:"list-disc list-inside mt-1",children:[u.jsx("li",{children:'Grant you "Read" permission for Project doctype'}),u.jsx("li",{children:"Add you to projects as a team member"}),u.jsx("li",{children:"Make you the owner of projects"})]})]})]})}):n.length===0?u.jsx("div",{className:"flex flex-col justify-center items-center p-8 bg-white rounded-lg border border-gray-200",children:u.jsxs("div",{className:"text-gray-500 text-center",children:[u.jsx("p",{className:"text-lg font-medium mb-2",children:"No projects found"}),u.jsx("p",{className:"text-sm",children:"You are not currently participating in any projects."}),u.jsx("p",{className:"text-sm",children:"Create a new project or ask to be added to an existing one."})]})}):u.jsx(u.Fragment,{children:e==="grid"?u.jsx(O8,{projects:n,onProjectsChange:l}):u.jsx(A8,{projects:n,onProjectsChange:l})})]})},tF={Todo:"bg-gray-100 text-gray-800","In Progress":"bg-blue-100 text-blue-800",Done:"bg-green-100 text-green-800",Blocked:"bg-red-100 text-red-800"},nF={Low:"bg-green-100 text-green-800",Medium:"bg-yellow-100 text-yellow-800",High:"bg-red-100 text-red-800"},sF=()=>{const[e,t]=_e.useState("All"),[n,s]=_e.useState("All"),[a,o]=_e.useState(""),{todos:l,isLoading:d,error:f,mutate:h,currentUser:p}=C8();console.log(l);const x=_e.useMemo(()=>l.map(w=>({id:w.name,title:w.reference_name||"Untitled Task",description:w.description||"No description available",project:"Unknown Project",assignee:(p==null?void 0:p.full_name)||(p==null?void 0:p.name)||"Unknown",status:w.status==="Open"?"Todo":w.status==="Closed"?"Done":"Todo",priority:w.priority||"Medium",dueDate:w.date||new Date().toISOString().split("T")[0],labels:[w.reference_type||"Task"],todoId:w.name,referenceName:w.reference_name,referenceType:w.reference_type})),[l,p]),y=_e.useMemo(()=>x.filter(w=>{const _=e==="All"||w.status===e,j=n==="All"||w.priority===n,N=a===""||w.title.toLowerCase().includes(a.toLowerCase())||w.description.toLowerCase().includes(a.toLowerCase());return _&&j&&N}),[x,e,n,a]),b=()=>{h()};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"My Tasks"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Track and manage all your assigned tasks"})]}),u.jsxs("div",{className:"mt-4 flex space-x-2 md:mt-0 md:ml-4",children:[u.jsxs("button",{onClick:b,className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",disabled:d,children:[u.jsx(xx,{className:`mr-2 h-4 w-4 ${d?"animate-spin":""}`}),"Refresh"]}),u.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[u.jsx(So,{className:"mr-2 h-4 w-4"}),"New Task"]})]})]}),f&&u.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:u.jsx("div",{className:"flex",children:u.jsxs("div",{className:"ml-3",children:[u.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading tasks"}),u.jsx("div",{className:"mt-2 text-sm text-red-700",children:u.jsx("p",{children:f.message||"Failed to load your tasks. Please try again."})})]})})}),u.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-4",children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(Fh,{className:"h-4 w-4 text-gray-400"})}),u.jsx("input",{type:"text",value:a,onChange:w=>o(w.target.value),className:"block w-64 pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Search tasks..."})]}),u.jsxs("select",{value:e,onChange:w=>t(w.target.value),className:"border border-gray-300 rounded-md text-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"All",children:"All Status"}),u.jsx("option",{value:"Todo",children:"Todo"}),u.jsx("option",{value:"In Progress",children:"In Progress"}),u.jsx("option",{value:"Done",children:"Done"}),u.jsx("option",{value:"Blocked",children:"Blocked"})]}),u.jsxs("select",{value:n,onChange:w=>s(w.target.value),className:"border border-gray-300 rounded-md text-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"All",children:"All Priority"}),u.jsx("option",{value:"Low",children:"Low"}),u.jsx("option",{value:"Medium",children:"Medium"}),u.jsx("option",{value:"High",children:"High"})]})]}),u.jsxs("button",{className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[u.jsx(gx,{className:"mr-2 h-4 w-4"}),"More Filters"]})]})}),u.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[u.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["My Assigned Tasks (",y.length,")"]}),d&&u.jsx("div",{className:"text-sm text-gray-500",children:"Loading..."})]})}),u.jsx("div",{className:"divide-y divide-gray-200",children:d&&y.length===0?u.jsxs("div",{className:"p-6 text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),u.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading your tasks..."})]}):y.length===0?u.jsx("div",{className:"p-6 text-center",children:u.jsx("p",{className:"text-sm text-gray-500",children:a||e!=="All"||n!=="All"?"No tasks match your current filters.":"No tasks assigned to you yet."})}):y.map(w=>u.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors duration-200",children:u.jsxs("div",{className:"flex items-start space-x-4",children:[u.jsx("div",{className:"flex-shrink-0 pt-1",children:u.jsx("input",{type:"checkbox",checked:w.status==="Done",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",readOnly:!0})}),u.jsx("div",{className:"flex-1 min-w-0",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:w.title}),u.jsx("p",{className:"text-sm text-gray-600 mb-3",children:w.description}),u.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[w.labels.map(_=>u.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:_},_)),w.referenceName&&u.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:w.referenceName})]}),u.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(gr,{className:"mr-1 h-3 w-3"}),w.dueDate]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(Du,{className:"mr-1 h-3 w-3"}),w.assignee]}),u.jsx("div",{className:"flex items-center",children:u.jsx("span",{children:w.project})})]})]}),u.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[u.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${tF[w.status]}`,children:w.status}),u.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${nF[w.priority]}`,children:[u.jsx(CM,{className:"mr-1 h-3 w-3"}),w.priority]})]})]})})]})},w.id))})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-4",children:[u.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 p-5",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-gray-900",children:x.filter(w=>w.status==="Todo").length}),u.jsx("div",{className:"text-sm text-gray-500",children:"Todo"})]})}),u.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 p-5",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-blue-600",children:x.filter(w=>w.status==="In Progress").length}),u.jsx("div",{className:"text-sm text-gray-500",children:"In Progress"})]})}),u.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 p-5",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-green-600",children:x.filter(w=>w.status==="Done").length}),u.jsx("div",{className:"text-sm text-gray-500",children:"Completed"})]})}),u.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 p-5",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-gray-900",children:x.length}),u.jsx("div",{className:"text-sm text-gray-500",children:"Total Tasks"})]})})]})]})},rF=[{id:1,project:"E-commerce Platform",task:"Design user interface mockups",user:"Jane Smith",startTime:"09:00 AM",endTime:"11:30 AM",duration:"2h 30m",date:"2024-03-08"},{id:2,project:"Mobile App Redesign",task:"API documentation",user:"Mike Johnson",startTime:"02:00 PM",endTime:"04:15 PM",duration:"2h 15m",date:"2024-03-08"},{id:3,project:"Data Analytics Dashboard",task:"Testing setup",user:"Sarah Wilson",startTime:"10:30 AM",endTime:"12:00 PM",duration:"1h 30m",date:"2024-03-07"}],aF=()=>{const[e,t]=_e.useState(!1),[n,s]=_e.useState("00:00:00");return u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"md:flex md:items-center md:justify-between",children:u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Time Tracking"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Track time spent on projects and tasks"})]})}),u.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-6",children:u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("div",{className:"text-4xl font-mono font-bold text-gray-900",children:n}),u.jsx("div",{className:"flex items-center justify-center space-x-4",children:e?u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:()=>t(!1),className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-yellow-600 hover:bg-yellow-700",children:[u.jsx(YM,{className:"mr-2 h-5 w-5"}),"Pause"]}),u.jsxs("button",{onClick:()=>{t(!1),s("00:00:00")},className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-red-600 hover:bg-red-700",children:[u.jsx(iD,{className:"mr-2 h-5 w-5"}),"Stop"]})]}):u.jsxs("button",{onClick:()=>t(!0),className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-green-600 hover:bg-green-700",children:[u.jsx(QM,{className:"mr-2 h-5 w-5"}),"Start Timer"]})}),e&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project"}),u.jsxs("select",{className:"w-full border border-gray-300 rounded-md px-3 py-2",children:[u.jsx("option",{children:"E-commerce Platform"}),u.jsx("option",{children:"Mobile App Redesign"}),u.jsx("option",{children:"Data Analytics Dashboard"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Task Description"}),u.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"What are you working on?"})]})]})]})}),u.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[u.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:u.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Time Entries"})}),u.jsx("div",{className:"overflow-hidden",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Task"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time Period"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:rF.map(a=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:a.project}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.task}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.user}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[a.startTime," - ",a.endTime]}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[u.jsx(Il,{className:"mr-1 h-3 w-3"}),a.duration]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.date})]},a.id))})]})})]})]})},Tl=({title:e,description:t})=>u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{className:"text-center py-12",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:e}),u.jsx("p",{className:"text-lg text-gray-600 mb-8",children:t}),u.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-12",children:u.jsxs("div",{className:"text-gray-400 text-center",children:[u.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-4xl",children:"🚧"})}),u.jsx("p",{className:"text-lg",children:"This page is under construction"}),u.jsx("p",{className:"text-sm mt-2",children:"More features coming soon!"})]})})]})}),iF=LR([{path:"/",element:u.jsx(eL,{}),children:[{index:!0,element:u.jsx(rU,{})},{path:"projects",element:u.jsx(eF,{})},{path:"tasks",element:u.jsx(sF,{})},{path:"time-tracking",element:u.jsx(aF,{})},{path:"cost-analysis",element:u.jsx(Tl,{title:"Cost Analysis",description:"Track project costs and budget allocations"})},{path:"reports",element:u.jsx(Tl,{title:"Reports",description:"Generate detailed reports and analytics"})},{path:"calendar",element:u.jsx(Tl,{title:"Calendar",description:"Manage deadlines and project timelines"})},{path:"team",element:u.jsx(Tl,{title:"Team Management",description:"Manage team members and permissions"})},{path:"documents",element:u.jsx(Tl,{title:"Documents",description:"Store and organize project documents"})},{path:"settings",element:u.jsx(Tl,{title:"Settings",description:"Configure your workspace preferences"})}]}],{basename:"/todo"});cC.createRoot(document.getElementById("root")).render(u.jsx(_e.StrictMode,{children:u.jsx(XR,{router:iF})}))});export default oF();
